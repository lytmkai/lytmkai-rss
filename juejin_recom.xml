<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[äººè„¸è¯†åˆ«é¡¹ç›®å¦‚ä½•åœ¨Spring Booté¡¹ç›®ä¸­å¦‚ä½•å»ºç«‹æ•°æ®åº“å’Œç®¡ç†]]></title>    <link>https://juejin.cn/post/7582136489770762250</link>    <guid>https://juejin.cn/post/7582136489770762250</guid>    <pubDate>2025-12-11T05:24:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582136489770762250" data-draft-id="7582136489770729482" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="äººè„¸è¯†åˆ«é¡¹ç›®å¦‚ä½•åœ¨Spring Booté¡¹ç›®ä¸­å¦‚ä½•å»ºç«‹æ•°æ®åº“å’Œç®¡ç†"/> <meta itemprop="keywords" content="åç«¯,æ•°æ®åº“,MySQL"/> <meta itemprop="datePublished" content="2025-12-11T05:24:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿›å‡»çš„ä¸¸å­"/> <meta itemprop="url" content="https://juejin.cn/user/2506542243120680"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            äººè„¸è¯†åˆ«é¡¹ç›®å¦‚ä½•åœ¨Spring Booté¡¹ç›®ä¸­å¦‚ä½•å»ºç«‹æ•°æ®åº“å’Œç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2506542243120680/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿›å‡»çš„ä¸¸å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:24:49.000Z" title="Thu Dec 11 2025 05:24:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è®²è®²åœ¨Spring Booté¡¹ç›®ä¸­å¦‚ä½•å»ºç«‹æ•°æ®åº“å’Œç®¡ç†</h2>
<p>éšç€æ™ºèƒ½é—¨ç¦ã€è€ƒå‹¤ã€è®¿å®¢ç³»ç»Ÿçš„æ™®åŠï¼Œ<strong>äººè„¸è¯†åˆ«æ¨¡å—</strong>å·²æˆä¸ºä¼—å¤šé¡¹ç›®çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚åœ¨é«˜æ€§èƒ½çš„äººè„¸è¯†åˆ«ç³»ç»Ÿä¸­ï¼Œæ•°æ®åº“ä¸»è¦è´Ÿè´£<strong>æŒä¹…åŒ–å­˜å‚¨</strong>ï¼Œè€Œè¯†åˆ«æ¯”å¯¹æ“ä½œåº”å…¨éƒ¨åœ¨<strong>å†…å­˜ä¸­å®Œæˆ</strong>ï¼Œä»¥ä¿è¯æ¯«ç§’çº§å“åº”å’Œé«˜å¹¶å‘æ€§èƒ½ã€‚æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åœ¨ <strong>Spring Boot é¡¹ç›®</strong>ä¸­å»ºç«‹ä¸€ä¸ªé«˜æ•ˆã€å¯æ‰©å±•çš„äººè„¸è¯†åˆ«æ•°æ®åº“ï¼Œå¹¶å®ç°åŸºç¡€çš„äººè„¸æ•°æ®ç®¡ç†åŠŸèƒ½ï¼ŒåŒæ—¶ç»“åˆ MySQLã€Redis ä¸å†…å­˜ä¼˜åŒ–ç­–ç•¥ï¼Œæå‡ç³»ç»Ÿæ•´ä½“æ€§èƒ½ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€åŸºç¡€å…¥é—¨ä»‹ç»</h2>
<p>è¿™é‡Œä¸ºäº†èƒ½è®©å¤§å®¶å¯¹SDKç»“åˆæ•°æ®åº“æœ‰ä¸ªåˆæ­¥äº†è§£ï¼Œæˆ‘ä»¬å…ˆåˆ©ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fai.arcsoft.com.cn%2F%3Futm_source%3DJuejin%26%26utm_medium%3Dshentao" target="_blank" title="https://ai.arcsoft.com.cn/?utm_source=Juejin&amp;&amp;utm_medium=shentao" ref="nofollow noopener noreferrer">è™¹è½¯äººè„¸è¯†åˆ«SDK</a> å¯¹åº”çš„<strong>ArcSoftFaceDemo</strong> ï¼Œè®²è§£ä¸‹æ­¤Demoæ˜¯å¦‚ä½•å¯¹äººè„¸æ•°æ®åº“è¿›è¡Œç®¡ç†çš„ï¼Œä»¥åŠå¦‚ä½•æ­£ç¡®åœ°æ³¨å†Œåˆ° <strong>ArcFace SDK</strong> çš„å¼•æ“ä¸­ï¼Œä»¥æ”¯æŒåç»­çš„äººè„¸æ£€æµ‹å’Œè¯†åˆ«åŠŸèƒ½ã€‚ä¸‹é¢ç»“åˆä»£ç åˆ†ææ•´ä¸ªç®¡ç†æµç¨‹ã€‚</p>
<h3 data-id="heading-2">1ã€æ•°æ®åº“ç¯å¢ƒå‡†å¤‡</h3>
<p>åœ¨å¼€å§‹ä½¿ç”¨ ArcsoftFaceDemo å‰ï¼Œéœ€è¦å…ˆå‡†å¤‡å¥½ MySQL æ•°æ®åº“ç¯å¢ƒã€‚ä¸ºäº†å¿«é€Ÿæ­å»ºï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <strong>Docker</strong> å¯åŠ¨ä¸€ä¸ªæ•°æ®åº“å®ä¾‹ã€‚</p>
<h5 data-id="heading-3">ä½¿ç”¨ Docker å¯åŠ¨ MySQL 8.0</h5>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ MySQL å®¹å™¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker run -d \
  --name arcsoft_mysql \
  -e MYSQL_ROOT_PASSWORD=Root123 \
  -e MYSQL_DATABASE=arcsoft_face \
  -p 3306:3306 \
  registry.cn-hangzhou.aliyuncs.com/china-images/mysql:8.0
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>--name arcsoft_mysql</code>ï¼šå®¹å™¨åç§°ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</li>
<li><code>MYSQL_ROOT_PASSWORD=Root123</code>ï¼šroot ç”¨æˆ·å¯†ç ã€‚</li>
<li><code>MYSQL_DATABASE=arcsoft_face</code>ï¼šåˆå§‹åŒ–åˆ›å»ºæ•°æ®åº“ <code>arcsoft_face</code>ã€‚</li>
<li><code>-p 3306:3306</code>ï¼šå°†å®¹å™¨ç«¯å£æ˜ å°„åˆ°å®¿ä¸»æœºï¼Œæ–¹ä¾¿ç¨‹åºè¿æ¥ã€‚</li>
<li><code>registry.cn-hangzhou.aliyuncs.com/china-images/mysql:8.0</code>ï¼šæŒ‡å®šä½¿ç”¨ MySQL 8.0 é˜¿é‡Œäº‘é•œåƒï¼Œå¦‚æœæœ‰å¤–ç½‘ç¯å¢ƒï¼Œå¯ç›´æ¥ä½¿ç”¨mysql:8.0ä»£æ›¿ã€‚</li>
</ul>
<blockquote>
<p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤š Docker ä½¿ç”¨æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒå…¶ä»– Docker å…¥é—¨æ–‡æ¡£æˆ–æ•™ç¨‹ã€‚ä¹Ÿå¯ç›´æ¥åœ¨ç‰©ç†æ“ä½œç³»ç»Ÿä¸Šå®‰è£…MySQL</p>
</blockquote>
<h5 data-id="heading-4">æ•°æ®åº“è¿æ¥ä¿¡æ¯</h5>
<p>å¯åŠ¨å®Œæˆåï¼Œä½ å°±å¯ä»¥é€šè¿‡ä»¥ä¸‹ä¿¡æ¯è¿æ¥æ•°æ®åº“ï¼š</p>
<ul>
<li><strong>URL</strong>ï¼š<code>ç‰©ç†æœºIP:3306</code></li>
<li><strong>ç”¨æˆ·å</strong>ï¼š<code>root</code></li>
<li><strong>å¯†ç </strong>ï¼š<code>Root123</code></li>
<li><strong>æ•°æ®åº“</strong>ï¼š<code>arcsoft_face</code></li>
</ul>
<p>è¿™æ ·å°±å®Œæˆäº†æ•°æ®åº“ç¯å¢ƒçš„æ­å»ºï¼Œä¸º ArcsoftFaceDemo çš„äººè„¸åº“ç®¡ç†åšå¥½äº†åŸºç¡€å‡†å¤‡ã€‚</p>
<h3 data-id="heading-5">2ã€å·¥ç¨‹å¯¼å…¥ä¸æ•°æ®åº“é…ç½®</h3>
<p>åœ¨å®Œæˆæ•°æ®åº“ç¯å¢ƒå‡†å¤‡åï¼Œä¸‹ä¸€æ­¥æ˜¯å¯¼å…¥ <strong>ArcSoftFaceDemo</strong> å·¥ç¨‹ï¼Œå¹¶å°†é»˜è®¤æ•°æ®åº“é…ç½®æ”¹ä¸º MySQLã€‚</p>
<h5 data-id="heading-6">å¯¼å…¥å·¥ç¨‹</h5>
<ol>
<li>ä» ArcSoft <a href="https://link.juejin.cn?target=https%3A%2F%2Fai.arcsoft.com.cn%2F%3Futm_source%3DJuejin%26%26utm_medium%3Dshentao" target="_blank" title="https://ai.arcsoft.com.cn/?utm_source=Juejin&amp;&amp;utm_medium=shentao" ref="nofollow noopener noreferrer">å®˜ç½‘</a>ä¸‹è½½ <strong>ArcSoftFaceDemo</strong> å·¥ç¨‹å‹ç¼©åŒ…ã€‚</li>
<li>è§£å‹åï¼Œç”¨ <strong>IntelliJ IDEA</strong> æ‰“å¼€å·¥ç¨‹ç›®å½•ã€‚</li>
</ol>
<h5 data-id="heading-7">ä¿®æ”¹æ•°æ®åº“é…ç½®</h5>
<p>å·¥ç¨‹é»˜è®¤ä½¿ç”¨çš„æ˜¯ <strong>H2 å†…å­˜æ•°æ®åº“</strong>ï¼Œé€‚åˆå¿«é€Ÿæ¼”ç¤ºå’Œæµ‹è¯•ã€‚ä½†åœ¨æ­£å¼ç¯å¢ƒä¸­ï¼Œå»ºè®®åˆ‡æ¢åˆ° <strong>MySQL</strong> æˆ–å…¶ä»–æŒä¹…åŒ–æ•°æ®åº“ã€‚</p>
<p>æ‰“å¼€ <code>application.properties</code> æ–‡ä»¶ï¼Œæ‰¾åˆ°é»˜è®¤é…ç½®ï¼š</p>
<pre><code class="hljs language-properties" lang="properties">spring.datasource.url=jdbc:h2:file:./data/arcdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:db/schema-h2.sql
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>spring.datasource.url</code>ï¼šH2 æ•°æ®åº“æ–‡ä»¶è·¯å¾„ã€‚</li>
<li><code>spring.datasource.driver-class-name</code>ï¼šH2 æ•°æ®åº“é©±åŠ¨ã€‚</li>
<li><code>spring.datasource.username</code> / <code>spring.datasource.password</code>ï¼šæ•°æ®åº“è´¦å·å¯†ç ã€‚</li>
<li><code>spring.h2.console.*</code>ï¼šH2 Web æ§åˆ¶å°ç›¸å…³é…ç½®ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚</li>
<li><code>spring.sql.init.*</code>ï¼šåˆå§‹åŒ– SQL æ–‡ä»¶è·¯å¾„ï¼Œç”¨äºåˆ›å»ºç¤ºä¾‹è¡¨ç»“æ„ã€‚</li>
</ul>
<h5 data-id="heading-8">H2åˆ‡æ¢ä¸ºMySQL</h5>
<p>åœ¨æ­£å¼ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬éœ€è¦å°†é»˜è®¤ H2 é…ç½®æ”¹ä¸º MySQLã€‚æ‰“å¼€ <code>application.properties</code>ï¼Œå°†æ•°æ®åº“ç›¸å…³é…ç½®ä¿®æ”¹ä¸º MySQL è¿æ¥ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-properties" lang="properties">spring.datasource.url=jdbc:mysql://localhost:3306/arcsoft_face?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=Asia/Shanghai
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.username=root
spring.datasource.password=Root123
spring.sql.init.mode=always
spring.sql.init.schema-locations=classpath:db/schema-mysql.sql
</code></pre>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li><code>spring.datasource.url</code>ï¼šMySQL è¿æ¥ URLï¼ŒåŒ…å«æ•°æ®åº“å <code>arcsoft_face</code>ï¼Œå­—ç¬¦é›†ä¸æ—¶åŒºè®¾ç½®ã€‚<code>localhost</code>åœ°å€æ ¹æ®å®é™…æ•°æ®åº“IPåœ°å€è®¾ç½®</li>
<li><code>spring.datasource.driver-class-name</code>ï¼šMySQL é©±åŠ¨ç±»ã€‚</li>
<li><code>spring.datasource.username</code> / <code>spring.datasource.password</code>ï¼šMySQL è´¦å·å¯†ç ï¼Œå¯¹åº” Docker å¯åŠ¨ MySQL æ—¶è®¾ç½®çš„ç”¨æˆ·åå’Œå¯†ç ã€‚</li>
<li><code>spring.sql.init.*</code>ï¼šåˆå§‹åŒ– SQL æ–‡ä»¶è·¯å¾„ï¼Œç”¨äºåˆ›å»ºç”¨æˆ·è¡¨ç»“æ„ï¼ˆä¸ H2 ä¸åŒï¼Œéœ€è¦ä½¿ç”¨ MySQL ç‰ˆæœ¬ SQLï¼‰ã€‚</li>
</ul>
<hr/>
<h5 data-id="heading-9">éªŒè¯æ•°æ®åº“è¿æ¥</h5>
<ol>
<li>å¯åŠ¨ ArcSoftFaceDemo å·¥ç¨‹ã€‚</li>
<li>æ£€æŸ¥å¯åŠ¨æ—¥å¿—ï¼Œç¡®è®¤æ•°æ®åº“è¿æ¥æˆåŠŸï¼š</li>
</ol>
<pre><code class="hljs language-erlang" lang="erlang">HikariPool-<span class="hljs-number">1</span> - Starting...
HikariPool-<span class="hljs-number">1</span> - Start completed.
</code></pre>
<p>æ³¨æ„ï¼šä½¿ç”¨ MySQL å®¢æˆ·ç«¯ï¼ˆå¦‚ <code>mysql</code> å‘½ä»¤è¡Œæˆ– Navicatç­‰ï¼‰è¿æ¥æ•°æ®åº“ï¼Œç¡®è®¤ <code>arcsoft_face</code> æ•°æ®åº“å·²åˆ›å»ºæˆåŠŸã€‚</p>
<hr/>
<h5 data-id="heading-10">åˆ›å»ºç”¨æˆ·è¡¨</h5>
<p>å¦‚æœ MySQL æ•°æ®åº“ä¸­æ²¡æœ‰è¡¨ï¼Œéœ€è¦æ‰§è¡Œåˆå§‹åŒ– SQL åˆ›å»º <code>user_info</code> è¡¨ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> IF <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> user_info (
    id <span class="hljs-type">BIGINT</span> AUTO_INCREMENT <span class="hljs-keyword">PRIMARY</span> KEY,
    name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">60</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span>,
    extra_info <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">500</span>),
    face_feature <span class="hljs-type">BLOB</span>,
    image_url <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">120</span>),
    create_time <span class="hljs-type">TIMESTAMP</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span>,
    <span class="hljs-keyword">UNIQUE</span> KEY user_info_name_uindex (name)
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8mb4;

</code></pre>
<p><strong>å…³é”®å­—æ®µè¯´æ˜ï¼š</strong></p>
<ul>
<li><code>id</code>ï¼šç”¨æˆ·å”¯ä¸€æ ‡è¯†ã€‚</li>
<li><code>name</code>ï¼šç”¨æˆ·åã€‚</li>
<li><code>face_feature</code>ï¼šArcSoft SDK æå–çš„äººè„¸ç‰¹å¾äºŒè¿›åˆ¶æ•°æ®ã€‚è¿™é‡Œä¹Ÿå¯ä»¥æ ¹æ®ä¸šåŠ¡æ¥ï¼Œä½¿ç”¨textç±»å‹ï¼Œå­˜å‚¨base64ç¼–ç åçš„å­—ç¬¦ä¸²æ•°æ®</li>
<li><code>image_url</code>ï¼šæ³¨å†Œè¯å­˜å‚¨åœ°å€ã€‚</li>
</ul>
<p>è¿™æ ·å°±å®Œæˆäº† MySQL æ•°æ®åº“æ¥å…¥ ArcSoftFaceDemo çš„å‡†å¤‡å·¥ä½œã€‚</p>
<h3 data-id="heading-11">3ã€äººè„¸æ³¨å†Œè¿‡ç¨‹è¯´æ˜ï¼ˆFaceService.javaï¼‰</h3>
<p><code>FaceService</code> æ˜¯æ•´ä¸ªç³»ç»Ÿçš„äººè„¸æ³¨å†Œä¸ç®¡ç†æ ¸å¿ƒé€»è¾‘ï¼Œè´Ÿè´£ï¼š</p>
<ul>
<li>ä»æ•°æ®åº“è¯»å–ç”¨æˆ·äººè„¸ä¿¡æ¯</li>
<li>æ³¨å†Œ/æ›´æ–°äººè„¸åˆ° ArcFace SDK å†…å­˜å¼•æ“</li>
<li>åˆ é™¤äººè„¸</li>
<li>ç³»ç»Ÿå¯åŠ¨æ—¶æ‰¹é‡åŠ è½½äººè„¸</li>
<li>æ”¯æŒä»æ•°æ®åº“ã€æœ¬åœ°å›¾ç‰‡ã€classpath ç›®å½•ä¸‰ç§æ¥æºåˆå§‹åŒ–</li>
</ul>
<p>ä¸‹é¢è¯¦ç»†è¯´æ˜å„åŠŸèƒ½æ¨¡å—çš„é€»è¾‘ã€‚</p>
<h4 data-id="heading-12">äººè„¸æ³¨å†Œæ ¸å¿ƒæ–¹æ³•ï¼šaddUser</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">addUser</span><span class="hljs-params">(String name, <span class="hljs-type">byte</span>[] faceFeature)</span> {
        <span class="hljs-type">UserInfo</span> <span class="hljs-variable">userInfo</span> <span class="hljs-operator">=</span> userInfoMapper.selectOne(Wrappers.&lt;UserInfo&gt;lambdaQuery().eq(UserInfo::getName, name));
        <span class="hljs-keyword">if</span> (userInfo == <span class="hljs-literal">null</span>) {
            <span class="hljs-type">UserInfo</span> <span class="hljs-variable">userInfoInsert</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserInfo</span>();
            userInfoInsert.setId((<span class="hljs-type">int</span>) (System.currentTimeMillis() % <span class="hljs-number">1_000_000_000</span>)); <span class="hljs-comment">//å¦‚æœæ˜¯MySQLæ•°æ®åº“ï¼Œå¯å»æ‰è¿™ä¸ªï¼Œåˆ©ç”¨æ•°æ®åº“è‡ªå¢é•¿idæ¥ç”Ÿæˆ</span>
            userInfoInsert.setName(name);
            userInfoInsert.setFaceFeature(faceFeature);
            userInfoMapper.insert(userInfoInsert);
            faceEngineService.registerFaceFeature2Engine(userInfoInsert.getId(), name, faceFeature);

        } <span class="hljs-keyword">else</span> {
            <span class="hljs-type">UserInfo</span> <span class="hljs-variable">userInfoUpdate</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserInfo</span>();
            userInfoUpdate.setId(userInfo.getId());
            userInfoUpdate.setName(name);
            userInfoUpdate.setFaceFeature(faceFeature);
            userInfoMapper.updateById(userInfoUpdate);
            faceEngineService.removeFaceFeature2Engine(userInfo.getId());
            faceEngineService.registerFaceFeature2Engine(userInfo.getId(), name, faceFeature);
        }
    }
</code></pre>
<h5 data-id="heading-13">åŠŸèƒ½è¯´æ˜</h5>
<p><code>addUser</code> æ˜¯ ArcSoftFaceDemo é¡¹ç›®ä¸­æœ€æ ¸å¿ƒçš„äººè„¸æ³¨å†Œæ–¹æ³•ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ï¼š</p>
<ul>
<li>å°†è¾“å…¥çš„äººè„¸ç‰¹å¾ï¼ˆbyte[]ï¼‰å†™å…¥æ•°æ®åº“</li>
<li>å°†äººè„¸ç‰¹å¾æ³¨å†Œåˆ° ArcFace å¼•æ“çš„å†…å­˜ç‰¹å¾åº“ï¼ˆå†…å­˜ä¸­çš„ç´¢å¼•ç»“æ„ï¼‰</li>
<li>åŒæ­¥ç»´æŠ¤ä¸¤ç«¯çš„æ•°æ®ä¸€è‡´æ€§ï¼ˆæ•°æ®åº“ â†” è¯†åˆ«å¼•æ“ï¼‰</li>
</ul>
<p>ArcFace SDK çš„è¯†åˆ«èƒ½åŠ›ä¾èµ–äº<strong>å†…å­˜ä¸­çš„ç‰¹å¾åº“</strong>ï¼Œå› æ­¤æ¯æ¬¡æ³¨å†Œã€æ›´æ–°ã€åˆ é™¤éƒ½å¿…é¡»ä¿æŒæ•°æ®åº“ä¸ SDK å†…å­˜åº“ä¸€è‡´ã€‚åœ¨åšæ–°å¢çš„æ—¶å€™ï¼ŒåŒæ­¥ä¸¤è¾¹éœ€åŒæ—¶æ–°å¢ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ã€‚</p>
<p>è¿™é‡Œæ³¨å†Œå­˜å‚¨çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥åŒæ—¶å¸¦ä¸€äº›ä¸šåŠ¡ä¸Šçš„ä¿¡æ¯ï¼Œå¦‚äººå‘˜idï¼Œäººå‘˜å§“åï¼Œäººå‘˜æ³¨å†Œç…§å­˜æ”¾åœ°å€ç­‰ã€‚è¿™äº›ä¿¡æ¯ï¼Œ<strong>åœ¨æ•°æ®åº“ä¸­å¯ä»¥ä»¥å­—æ®µçš„å½¢å¼è¿›è¡Œå­˜å‚¨å½’æ¡£</strong>ï¼Œå¯å‚è€ƒä¸Šé¢<code>user_info</code>è¡¨è¿›è¡Œå­—æ®µæ‰©å±•ä¼˜åŒ–ã€‚å¦‚æœæƒ³é€šè¿‡SDKçš„<code>searchFaceFeature</code>æ¥å£è·å–åˆ°è¿™äº›é¢å¤–ä¿¡æ¯ï¼Œåœ¨<code>registerFaceFeature</code>æ¥å£ä¸­æä¾›äº†<code>faceTag</code>çš„ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹ï¼Œç”¨äºå­˜æ”¾ä¸šåŠ¡æ•°æ®ï¼Œå¯ä»¥æŠŠè¿™äº›ä¿¡æ¯<strong>ä»¥JSONå­—ç¬¦ä¸²å½¢å¼å­˜æ”¾åˆ°<code>faceTag</code>ä¸­å»</strong>ï¼Œå½“ç„¶ä¹Ÿå¯é€šè¿‡searchIdï¼Œå†æŸ¥è¯¢æ•°æ®åº“çš„æ–¹å¼ï¼ŒæŠŠå¯¹åº”çš„äººå‘˜ä¿¡æ¯æŸ¥è¯¢å‡ºæ¥</p>
<p>ArcFace SDK æå–çš„äººè„¸ç‰¹å¾æ˜¯ä¸€ä¸ª <strong>byte[] æ•°ç»„</strong>ã€‚5.0 çš„ä¸­æ¨¡å‹ç‰¹å¾é•¿åº¦åœ¨ 2056å­—èŠ‚ï¼Œå¤§æ¨¡å‹ç‰¹å¾ç‰¹å¾é•¿åº¦3080å­—èŠ‚ï¼Œè¿™é‡Œåœ¨åšæ•°æ®åº“å­—æ®µå¤§å°çš„æ—¶å€™éœ€è¦å…³æ³¨ä¸‹</p>
<p><strong>ä¸¤ç§å­˜å‚¨æ–¹å¼ï¼šSDKçš„ç‰¹å¾ç±»å‹æ˜¯byte[]æ•°ç»„ç±»å‹ï¼Œå­˜å‚¨åˆ°æ•°æ®åº“æ–¹å¼ï¼š</strong></p>
<p>1ã€å¯ä»¥ç›´æ¥ä½¿ç”¨BLOBç±»å‹ï¼Œä¸€èˆ¬æ¨èç”¨<strong>BLOBç±»å‹</strong>å­˜å‚¨ï¼Œå¯ä»¥å‡å°‘ç¼–è§£ç å¸¦æ¥çš„æ€§èƒ½æŸå¤±</p>
<p>2ã€byte[]æ•°ç»„è½¬æˆbase64å­—ç¬¦ä¸²ï¼Œæ•°æ®åº“ç”¨<strong>TEXTç±»å‹</strong>è¿›è¡Œå­˜å‚¨ï¼Œå¦‚æœæ¶‰åŠåˆ°ç½‘ç»œä¼ è¾“ï¼Œå¯ä½¿ç”¨Base64å­—ç¬¦ä¸²</p>
<h4 data-id="heading-14">åˆ é™¤ç”¨æˆ· removeUser</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeUser</span><span class="hljs-params">(String name)</span> {
        <span class="hljs-type">UserInfo</span> <span class="hljs-variable">userInfo</span> <span class="hljs-operator">=</span> userInfoMapper.selectOne(Wrappers.&lt;UserInfo&gt;lambdaQuery().eq(UserInfo::getName, name));
        <span class="hljs-keyword">if</span> (userInfo != <span class="hljs-literal">null</span>) {
            faceEngineService.removeFaceFeature2Engine(userInfo.getId());
            userInfoMapper.deleteById(userInfo.getId());
        }
    }
</code></pre>
<ol>
<li>æ ¹æ®ç”¨æˆ·åæŸ¥è¯¢ç”¨æˆ·</li>
<li>ä» SDK å†…å­˜å¼•æ“ç§»é™¤äººè„¸</li>
<li>ä»æ•°æ®åº“åˆ é™¤è®°å½•</li>
</ol>
<h4 data-id="heading-15">ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½äººè„¸</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-meta">@PostConstruct</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">loadImage2Engine</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-string">"true"</span>.equals(faceImageClear)) {
            removeAllUser();
            initSystemFace();
            <span class="hljs-type">File</span> <span class="hljs-variable">file</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(testImagePath);
            <span class="hljs-keyword">if</span> (file.isDirectory()) {
                File[] files = file.listFiles();
                log.info(<span class="hljs-string">"å¼€å§‹åŠ è½½æœ¬åœ°äººè„¸å›¾ç‰‡åˆ°å¼•æ“ä¸­"</span>);
                <span class="hljs-keyword">for</span> (File imageFile : files) {
                    <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> imageFile.getName();
                    <span class="hljs-keyword">if</span> (name.endsWith(<span class="hljs-string">".jpg"</span>) || name.endsWith(<span class="hljs-string">".png"</span>)) {
                        <span class="hljs-type">String</span> <span class="hljs-variable">userName</span> <span class="hljs-operator">=</span> name.substring(<span class="hljs-number">0</span>, name.lastIndexOf(<span class="hljs-string">"."</span>));
                        register(userName, imageFile, <span class="hljs-literal">null</span>);
                    }
                }
                log.info(<span class="hljs-string">"åŠ è½½æœ¬åœ°äººè„¸å›¾ç‰‡åˆ°å¼•æ“ä¸­å®Œæˆ"</span>);
            }
        }<span class="hljs-keyword">else</span> {
            initDatabaseFace2Engine();
        }
    }
</code></pre>
<p>ç³»ç»Ÿå¯åŠ¨åæ‰§è¡Œï¼Œç”¨äºåˆå§‹åŒ–å†…å­˜äººè„¸åº“ï¼Œä¸ºäº†åŠ å¿«è¯†åˆ«é€Ÿåº¦ï¼Œå»ºè®®æ¯æ¬¡å¯åŠ¨æœåŠ¡åï¼Œå°±ç›´æ¥æŠŠæ•°æ®åº“é‡Œçš„äººè„¸æ³¨å†Œä¿¡æ¯æ”¾åˆ°SDKå¼•æ“é‡Œï¼Œå‡å°‘ä¸‹æ¬¡è¯†åˆ«è¯»å–æ•°æ®åº“å¸¦æ¥çš„è€—æ—¶å¢åŠ ã€‚Demoä¸­æä¾›äº†æœ‰ä¸¤ç§æ¨¡å¼ï¼Œæ ¹æ®é…ç½®æ–‡ä»¶çš„<code>register.faceimage.clean</code>è¿›è¡Œåˆ‡æ¢</p>
<p><code>register.faceimage.clean</code>=trueï¼Œæ¯æ¬¡å¯åŠ¨ä¼šæ¸…ç©ºæ•°æ®åº“ï¼Œé‡æ–°åŠ è½½æœ¬åœ°å›¾ç‰‡è¿›è¡Œæ³¨å†Œï¼ŒåŒæ—¶å­˜å‚¨åˆ°æ•°æ®åº“å’ŒSDK</p>
<p><code>register.faceimage.clean</code>=falseï¼Œæ¯æ¬¡å¯åŠ¨ä»æ•°æ®åº“è¯»å–ç‰¹å¾ï¼ŒåŠ è½½åˆ°SDKã€‚Demoä¸ºäº†æµ‹è¯•ï¼Œä¼šåŒæ—¶æŠŠæœ¬åœ°æœ¬æ¬¡æœªæ³¨å†Œçš„å›¾ç‰‡è¿›è¡Œå­˜å‚¨å’Œæ³¨å†Œï¼Œç”Ÿäº§ç¯å¢ƒå¯åªä¿ç•™ä»æ•°æ®åº“è¯»å–åŠ è½½</p>
<h3 data-id="heading-16">4ã€äººè„¸è¯†åˆ«æ–¹å¼</h3>
<p>è¿™é‡Œå†å¦å¤–æä¸€ä¸‹ï¼ŒSDKäººè„¸è¯†åˆ«ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ¡ˆï¼ŒDemoé‡‡ç”¨çš„æ˜¯ç¬¬2ç§æ–¹æ¡ˆï¼Œä¹Ÿå¯æ ¹æ®å®é™…ä¸šåŠ¡ä½¿ç”¨ç¬¬1ç§æ–¹æ¡ˆ</p>
<h4 data-id="heading-17">â‘ ã€ä½¿ç”¨ Map åˆ—è¡¨ + <code>compareFaceFeature</code> æ¥å£</h4>
<ul>
<li><strong>åŸç†</strong>ï¼šå°†æ³¨å†Œçš„äººè„¸ç‰¹å¾å­˜æ”¾åœ¨ Map æˆ–åˆ—è¡¨ä¸­ï¼Œé€šè¿‡ SDK çš„ <code>compareFaceFeature</code> æ¥å£è¿›è¡Œå¾ªç¯æ¯”å¯¹ã€‚</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼šå¯çµæ´»åˆ†ç»„ç®¡ç†äººè„¸åº“ï¼›æ”¯æŒå¤šçº¿ç¨‹å¹¶å‘æ¯”å¯¹ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šå½“äººè„¸åº“é‡å¤§æ—¶ï¼Œé¢‘ç¹è°ƒç”¨æ¯”å¯¹æ¥å£ä¼šå¢åŠ æ€§èƒ½æŸè€—ã€‚</li>
</ul>
<h4 data-id="heading-18">â‘¡ã€ä½¿ç”¨ SDK æä¾›çš„åŸç”Ÿæ¥å£æ³¨å†Œ</h4>
<ul>
<li><strong>åŸç†</strong>ï¼šåˆ©ç”¨<code>registerFaceFeature</code>ã€<code>removeFaceFeature</code>ã€<code>updateFaceFeature</code>ã€<code>searchFaceFeature</code> ç»„åˆæ¥å£ï¼Œå®ç°å¯¹äººè„¸çš„å¢åˆ æ”¹æŸ¥</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼šSDK åŸç”Ÿå®ç°æ¯”å¯¹ï¼Œæ€§èƒ½å¿«ï¼Œèµ„æºæ¶ˆè€—å°‘ã€‚</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šä¸æ”¯æŒåˆ†ç»„æ¯”å¯¹ï¼›ç³»ç»Ÿé‡å¯åéœ€é‡æ–°æ³¨å†Œç‰¹å¾ï¼›å¤šå¼•æ“å¹¶å‘æ—¶ï¼Œæ¯ä¸ªå¼•æ“çš„äººè„¸åº“éœ€å•ç‹¬ç®¡ç†ï¼Œç»´æŠ¤å¤æ‚ã€‚</li>
</ul>
<p>â€‹	<strong>ä¸ºäº†å®ç°é•¿ä¹…ä¿å­˜å’Œåˆ†å¸ƒå¼å…±äº«ï¼Œäººè„¸ç‰¹å¾éœ€è¿›è¡Œåˆç†å­˜å‚¨</strong></p>
<h3 data-id="heading-19">5ã€äººè„¸å¼•æ“è¯´æ˜ï¼ˆFaceEngineService.javaï¼‰</h3>
<p><code>FaceEngineService</code> æ˜¯äººè„¸SDK çš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œè´Ÿè´£ï¼š</p>
<ul>
<li>äººè„¸æ£€æµ‹ã€ç‰¹å¾æå–ã€æ´»ä½“æ£€æµ‹ã€å±æ€§æ£€æµ‹ç­‰</li>
<li>äººå‘˜ä¿¡æ¯çš„æ–°å¢ã€åˆ é™¤ã€ä¿®æ”¹ã€äººè„¸æœç´¢</li>
</ul>
<p>ä¸‹é¢è¯¦ç»†è¯´æ˜å„åŠŸèƒ½æ¨¡å—çš„é€»è¾‘ã€‚</p>
<h4 data-id="heading-20">äººå‘˜æ–°å¢ï¼šregisterFaceFeature2Engine</h4>
<pre><code class="hljs language-java" lang="java"> <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">registerFaceFeature2Engine</span><span class="hljs-params">(<span class="hljs-type">int</span> searchId, String faceTag, <span class="hljs-type">byte</span>[] faceFeature)</span> {

        <span class="hljs-type">FaceEngineFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> (FaceEngineFactory) faceEngineComparePool.getFactory();

        List&lt;FaceEngine&gt; allObjects = factory.getAllObjects();
        <span class="hljs-type">FaceFeatureInfo</span> <span class="hljs-variable">faceFeatureInfo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FaceFeatureInfo</span>();
        faceFeatureInfo.setSearchId(searchId);
        faceFeatureInfo.setFaceTag(faceTag);
        faceFeatureInfo.setFeatureData(faceFeature);
<span class="hljs-comment">//        log.info("Register:"+ JSON.toJSONString(faceFeatureInfo));</span>
        <span class="hljs-keyword">for</span> (FaceEngine allObject : allObjects) {
            <span class="hljs-type">int</span> <span class="hljs-variable">res</span> <span class="hljs-operator">=</span> allObject.registerFaceFeature(faceFeatureInfo);
        }ã€ã€

    }
</code></pre>
<p><strong>è¿™é‡Œé‡ç‚¹è¯´æ˜ä¸‹ï¼Œå› ä¸ºæˆ‘ä»¬çš„FaceEngineç”¨äº†çº¿ç¨‹æ± ï¼ŒåŒæ—¶åˆå§‹åŒ–äº†å¤šä¸ªå¼•æ“ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å‘SDKæ³¨å†Œäººå‘˜ä¿¡æ¯çš„æ—¶å€™ï¼Œéœ€è¦ç»™æ¯ä¸ªå¼•æ“è¿›è¡Œæ³¨å†Œï¼Œåˆ é™¤åŒç†ã€‚</strong></p>
<h4 data-id="heading-21">äººå‘˜æ–°å¢ï¼šremoveFaceFeature2Engine</h4>
<pre><code class="hljs language-java" lang="java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">removeFaceFeature2Engine</span><span class="hljs-params">(<span class="hljs-type">int</span> searchId)</span> {
        <span class="hljs-type">FaceEngineFactory</span> <span class="hljs-variable">factory</span> <span class="hljs-operator">=</span> (FaceEngineFactory) faceEngineComparePool.getFactory();
        List&lt;FaceEngine&gt; allObjects = factory.getAllObjects();
        <span class="hljs-keyword">for</span> (FaceEngine allObject : allObjects) {
            allObject.removeFaceFeature(searchId);
        }
    }
</code></pre>
<p>åˆ é™¤åŒæ³¨å†Œæ¥å£ï¼Œéœ€è¦åŒæ­¥å‘æ‰€æœ‰FaceEngineåº“è¿›è¡Œç§»é™¤æ“ä½œ</p>
<h3 data-id="heading-22">äºŒã€äººè„¸ç‰¹å¾ä¸‰å±‚å­˜å‚¨ä¸åˆ†å¸ƒå¼ç®¡ç†</h3>
<p>ä¸Šé¢å·²ç»ä»‹ç»äº†åŸºæœ¬çš„æ•°æ®åº“æ¥å…¥å’Œä½¿ç”¨ï¼Œé‚£ä¹ˆåœ¨å®é™…äººè„¸è¯†åˆ«åœºæ™¯ä¸‹ï¼Œç³»ç»Ÿçš„æ•°æ®å­˜å‚¨ä¸è¯†åˆ«é€šå¸¸é‡‡ç”¨ä¸‰å±‚è®¾è®¡ï¼š</p>
<ol>
<li><strong>MySQL</strong>ï¼šè´Ÿè´£æŒä¹…åŒ–å­˜å‚¨äººè„¸ç‰¹å¾ä¿¡æ¯ï¼Œå®ç°å¯é çš„é•¿æœŸä¿å­˜ã€‚</li>
<li><strong>Redis</strong>ï¼šç”¨äºå¼‚æ­¥æ›´æ–°ä¸åˆ†å¸ƒå¼ç¼“å­˜ï¼Œå®ç°å¤šæœºå™¨ç¯å¢ƒä¸‹çš„äººè„¸ç‰¹å¾å…±äº«ã€‚</li>
<li><strong>å†…å­˜ï¼ˆConcurrentHashMap / ç‰¹å¾æ± ï¼‰</strong>ï¼šå­˜å‚¨å½“å‰åœ¨çº¿çš„æ´»è·ƒäººè„¸ç‰¹å¾ï¼Œå®ç°æ¯«ç§’çº§è¯†åˆ«ã€‚</li>
</ol>
<p>è¿™ç§è®¾è®¡ä¿è¯äº†ç³»ç»Ÿæ—¢èƒ½æŒä¹…åŒ–å­˜å‚¨ï¼Œåˆèƒ½åœ¨è¯†åˆ«æ—¶è·å¾—æœ€ä½³æ€§èƒ½ã€‚</p>
<p>åœ¨ Spring Boot é¡¹ç›®ä¸­ï¼Œå®ç°äººè„¸ç‰¹å¾çš„ç®¡ç†å¯ä»¥ä»<strong>æ•°æ®åº“å»ºè¡¨ã€æœåŠ¡å±‚åŠ è½½ã€Redisç¼“å­˜ã€ç‰¹å¾æ³¨å†Œä¸æ¯”å¯¹</strong>å‡ ä¸ªæ–¹é¢è¿›è¡Œè¯¦ç»†è®¾è®¡ã€‚</p>
<p>åœ¨å¤šå°è¯†åˆ«æœåŠ¡å™¨éƒ¨ç½²çš„åˆ†å¸ƒå¼ç¯å¢ƒä¸­ï¼Œäººè„¸ç‰¹å¾éœ€è¦åœ¨å„èŠ‚ç‚¹ä¹‹é—´ä¿æŒ<strong>ä¸€è‡´æ€§ã€é«˜å¯ç”¨å’Œé«˜æ€§èƒ½</strong>ã€‚ç»“åˆå†…å­˜ã€Redis å’Œæ•°æ®åº“ä¸‰å±‚å­˜å‚¨ï¼Œè®¾è®¡å‚è€ƒæ–¹æ¡ˆï¼š</p>
<h5 data-id="heading-23">1ã€ å¯åŠ¨åŠ è½½ç­–ç•¥</h5>
<ul>
<li><strong>æµç¨‹</strong>ï¼š
<ol>
<li>æ¯å°è¯†åˆ«æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œå…ˆä» Redis æ‹‰å–æœ€æ–°çš„äººè„¸ç‰¹å¾åˆ°æœ¬åœ°å†…å­˜ç¼“å­˜ã€‚</li>
<li>å¦‚æœ Redis ä¸­æ²¡æœ‰ç‰¹å¾æ•°æ®ï¼ˆå¦‚åˆæ¬¡éƒ¨ç½²ï¼‰ï¼Œåˆ™ä» MySQL æ•°æ®åº“åŠ è½½ã€‚Redis å¯ä½œä¸º <strong>å†…å­˜ç¼“å­˜ + å¼‚æ­¥æ›´æ–°æœºåˆ¶</strong>ï¼Œä¿è¯å„èŠ‚ç‚¹è¯†åˆ«æ•°æ®ä¸€è‡´æ€§</li>
<li>åŠ è½½åï¼Œå†…å­˜ç¼“å­˜å³å¯æ”¯æŒæ¯«ç§’çº§äººè„¸è¯†åˆ«ã€‚</li>
</ol>
</li>
<li><strong>å®ç°ç¤ºä¾‹</strong>ï¼š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@PostConstruct</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">loadFeaturesOnStartup</span><span class="hljs-params">()</span> {
    Set&lt;String&gt; keys = redisTemplate.keys(<span class="hljs-string">"face:*"</span>);
    <span class="hljs-keyword">if</span> (keys != <span class="hljs-literal">null</span> &amp;&amp; !keys.isEmpty()) {
        <span class="hljs-keyword">for</span> (String key : keys) {
            <span class="hljs-type">byte</span>[] featureData =(<span class="hljs-type">byte</span>[]) redisTemplate.opsForValue().get(key);
            <span class="hljs-keyword">if</span> (featureData != <span class="hljs-literal">null</span>) {
                featureMap.put(key.replace(<span class="hljs-string">"face:"</span>, <span class="hljs-string">""</span>), featureData);
            }
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// Redisä¸ºç©ºï¼Œä»æ•°æ®åº“åŠ è½½</span>
        List&lt;FaceFeature&gt; features = repository.findAll();
        <span class="hljs-keyword">for</span> (FaceFeature f : features) {
            featureMap.put(f.getUserId(), f.getFeature());
            redisTemplate.opsForValue().set(<span class="hljs-string">"face:"</span> + f.getUserId(), f.getFeature());
        }
    }
}
</code></pre>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼š
<ul>
<li>é¿å…æ¯æ¬¡è¯†åˆ«éƒ½è®¿é—®æ•°æ®åº“ï¼Œæé«˜æ€§èƒ½ã€‚</li>
<li>å¯åŠ¨å³åŠ è½½æœ€æ–°ç‰¹å¾ï¼Œä¿è¯è¯†åˆ«æ•°æ®å®æ—¶æ€§ã€‚</li>
</ul>
</li>
</ul>
<h5 data-id="heading-24">2ã€ ç‰¹å¾æ›´æ–°ä¸åŒæ­¥ç­–ç•¥</h5>
<p>åœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸‹ï¼Œç”¨æˆ·æ–°å¢ã€åˆ é™¤æˆ–æ›´æ–°äººè„¸ç‰¹å¾æ—¶ï¼Œéœ€è¦ä¿è¯æ‰€æœ‰èŠ‚ç‚¹å†…å­˜ä¿æŒä¸€è‡´ï¼š</p>
<ol>
<li>
<p><strong>æ›´æ–°é¡ºåº</strong>ï¼š</p>
<p><strong>å†™å†…å­˜</strong>ï¼šç«‹å³æ›´æ–°æœ¬åœ°å†…å­˜ç¼“å­˜ï¼Œä¿è¯è¯†åˆ«æœåŠ¡å®æ—¶å¯ç”¨ã€‚</p>
<ul>
<li><strong>å†™ Redis</strong>ï¼šåŒæ­¥åˆ° Redisï¼Œä½œä¸ºåˆ†å¸ƒå¼å…±äº«å±‚ã€‚</li>
<li><strong>å†™æ•°æ®åº“</strong>ï¼šå¼‚æ­¥æŒä¹…åŒ–åˆ° MySQLï¼Œä¿è¯é•¿æœŸæ•°æ®å®‰å…¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>åŒæ­¥æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>åˆ©ç”¨ Redis <strong>Pub/Sub</strong> æˆ–æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆKafkaã€RabbitMQï¼‰å¹¿æ’­æ›´æ–°äº‹ä»¶ã€‚</li>
<li>å…¶ä»–èŠ‚ç‚¹æ¥æ”¶åˆ°æ›´æ–°äº‹ä»¶åï¼Œåˆ·æ–°æœ¬åœ°å†…å­˜ç‰¹å¾ç¼“å­˜ã€‚</li>
</ul>
</li>
</ol>
<ul>
<li><strong>ç¤ºä¾‹é€»è¾‘</strong>ï¼š</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">updateFeature</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> userId, byte[] feature</span>) {
    <span class="hljs-comment">// æ›´æ–°æœ¬åœ°å†…å­˜</span>
    featureMap.<span class="hljs-title function_">put</span>(userId, feature);
    <span class="hljs-comment">// æ›´æ–° Redis</span>
    redisTemplate.<span class="hljs-title function_">opsForValue</span>().<span class="hljs-title function_">set</span>(<span class="hljs-string">"face:"</span> + userId, feature);
    <span class="hljs-comment">// å‘å¸ƒæ›´æ–°äº‹ä»¶é€šçŸ¥å…¶ä»–èŠ‚ç‚¹</span>
    redisTemplate.<span class="hljs-title function_">convertAndSend</span>(<span class="hljs-string">"face:update"</span>, userId);
    <span class="hljs-comment">// å¼‚æ­¥æ›´æ–°æ•°æ®åº“</span>
    <span class="hljs-title function_">asyncUpdateDatabase</span>(userId, feature);
}

<span class="hljs-comment">// è®¢é˜…äº‹ä»¶åˆ·æ–°å†…å­˜</span>
<span class="hljs-meta">@EventListener</span>
<span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">handleRedisUpdateEvent</span>(<span class="hljs-params">Message message</span>) {
    <span class="hljs-title class_">String</span> userId = (<span class="hljs-title class_">String</span>) message.<span class="hljs-title function_">getBody</span>();
    <span class="hljs-title class_">String</span> feature = redisTemplate.<span class="hljs-title function_">opsForValue</span>().<span class="hljs-title function_">get</span>(<span class="hljs-string">"face:"</span> + userId);
    <span class="hljs-keyword">if</span> (feature != <span class="hljs-literal">null</span>) {
        featureMap.<span class="hljs-title function_">put</span>(userId, feature);
    }
}
</code></pre>
<p>é€šè¿‡åˆç†çš„å­˜å‚¨æ¶æ„å’Œå†…å­˜ä¼˜åŒ–ï¼ŒSpring Boot é¡¹ç›®çš„äººè„¸è¯†åˆ«ç³»ç»Ÿå¯ä»¥åœ¨ä¿è¯é«˜æ€§èƒ½çš„åŒæ—¶ï¼Œå®ç°å¯æ‰©å±•ã€åˆ†å¸ƒå¼çš„äººè„¸ç®¡ç†åŠŸèƒ½ï¼Œä¸ºæ™ºèƒ½é—¨ç¦ã€è€ƒå‹¤å’Œè®¿å®¢ç³»ç»Ÿæä¾›ç¨³å®šæ”¯æ’‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç»ˆäºæ¥äº†ï¼Flutter æ‹¥æœ‰äº†ä¸€ä¸ªå¯ç”¨çš„æ¶²æ€ç»ç’ƒè§£å†³æ–¹æ¡ˆï¼]]></title>    <link>https://juejin.cn/post/7582200865907589154</link>    <guid>https://juejin.cn/post/7582200865907589154</guid>    <pubDate>2025-12-11T05:26:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582200865907589154" data-draft-id="7581324707480256553" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç»ˆäºæ¥äº†ï¼Flutter æ‹¥æœ‰äº†ä¸€ä¸ªå¯ç”¨çš„æ¶²æ€ç»ç’ƒè§£å†³æ–¹æ¡ˆï¼"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T05:26:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JarvanMo"/> <meta itemprop="url" content="https://juejin.cn/user/2348212565845704"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç»ˆäºæ¥äº†ï¼Flutter æ‹¥æœ‰äº†ä¸€ä¸ªå¯ç”¨çš„æ¶²æ€ç»ç’ƒè§£å†³æ–¹æ¡ˆï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2348212565845704/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JarvanMo
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:26:15.000Z" title="Thu Dec 11 2025 05:26:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å…³æ³¨å¾®ä¿¡å…¬ä¼—å·ï¼š OpenFlutter</p>
</blockquote>
<p>ç®€å²å›é¡¾ã€‚</p>
<h3 data-id="heading-0">ä»¥å‰çš„å°è¯•åŠå…¶ä¸è¶³ä¹‹å¤„</h3>
<p>è®©æˆ‘ä»¬æ¥çœ‹çœ‹ <strong>pub.dev</strong>ï¼ˆFlutter åŒ…ç®¡ç†ç½‘ç«™ï¼‰ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬æœç´¢ <code>liquid glass</code>ï¼ˆæ¶²æ€ç»ç’ƒï¼‰ï¼Œæˆ‘ä»¬ä¼šæ‰¾åˆ°ä»¥ä¸‹å‡ ä¸ªè½¯ä»¶åŒ…ï¼š</p>





































<table><thead><tr><th><strong>è½¯ä»¶åŒ…åç§°</strong></th><th><strong>å…³é”®é—®é¢˜å’Œè¯„ä»·</strong></th></tr></thead><tbody><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fliquid_glass" target="_blank" title="https://pub.dev/packages/liquid_glass" ref="nofollow noopener noreferrer">liquid_glass</a></td><td><strong>æ— ç¤ºä¾‹ï¼Œæ—  GitHub é“¾æ¥</strong>ã€‚æœ‰äº›å¯ç–‘ã€‚</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fliquid_glass_renderer" target="_blank" title="https://pub.dev/packages/liquid_glass_renderer" ref="nofollow noopener noreferrer">liquid_glass_rendererÂ </a></td><td>éå¸¸ä¼˜ç§€ï¼Œé«˜ç¥¨æ”¯æŒï¼Œè·¨å¹³å°ï¼Œ<strong>å¯èƒ½æ˜¯ç›®å‰æœ€å¥½çš„å°è¯•</strong>ã€‚ä½†<strong>ä»…é€‚ç”¨äº Impeller</strong> æ¸²æŸ“å¼•æ“ï¼Œå› æ­¤<strong>ä¸æ”¯æŒ Windows å’Œ Web</strong> å¹³å°ã€‚å­˜åœ¨<strong>æ€§èƒ½é—®é¢˜</strong>ã€‚</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fcupertino_native" target="_blank" title="https://pub.dev/packages/cupertino_native" ref="nofollow noopener noreferrer">cupertino_native</a></td><td>ä½¿ç”¨<strong>åŸç”Ÿ iOS ç»„ä»¶</strong>ã€‚ç”± Serverpod åˆ›å§‹äººå‘¨æœ«åŒ†å¿™ç¼–å†™ã€‚<strong>éè·¨å¹³å°</strong>ã€‚</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fadaptive_platform_ui" target="_blank" title="https://pub.dev/packages/adaptive_platform_ui" ref="nofollow noopener noreferrer">adaptive_platform_ui</a></td><td>æ ¹æ®å¹³å°æ¸²æŸ“ç»„ä»¶ã€‚<strong>éè·¨å¹³å°</strong>ã€‚</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Foc_liquid_glass" target="_blank" title="https://pub.dev/packages/oc_liquid_glass" ref="nofollow noopener noreferrer">oc_liquid_glass</a></td><td><strong>ä¾èµ– Impeller</strong>ã€‚åœ¨ Windows å’Œ Web ä¸Šä¸èµ·ä½œç”¨ã€‚</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fliquid_glass_ui" target="_blank" title="https://pub.dev/packages/liquid_glass_ui" ref="nofollow noopener noreferrer">liquid_glass_ui</a></td><td>ä»…ä¸€è¡Œä»£ç å®ç°äº†ä¸€ä¸ªå¸¦æœ‰ <code>DropFilter.blur</code> çš„<strong>å¸¸è§„ç»ç’ƒæ‹Ÿç‰©å®¹å™¨ (glassmorphic container)</strong> ã€‚ä½œè€…è·å¾—äº†ä¸€äº›èµå’Œä¸‹è½½ï¼Œä½†<strong>æ„ä¹‰ä½•åœ¨</strong>ï¼ŸğŸ˜•</td></tr><tr><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fliquid_glass_ui_design" target="_blank" title="https://pub.dev/packages/liquid_glass_ui_design" ref="nofollow noopener noreferrer">liquid_glass_ui_design</a></td><td>è¿™å¯èƒ½æ˜¯<strong>ä¼ ç»Ÿç»ç’ƒæ‹Ÿç‰©è®¾è®¡ï¼ˆç£¨ç ‚ç»ç’ƒæ•ˆæœï¼‰<strong>ä¸­æœ€å®Œæ•´çš„ UI åº“ã€‚åƒå‰ä¸€ä¸ªåŒ…ä¸€æ ·ï¼Œä½œè€…åªæ˜¯åˆ©ç”¨äº†â€œliquidâ€è¿™ä¸ªè¯ã€‚å€¼å¾—ä¸€è¯•ï¼Œä½†</strong>æ— è®ºå¦‚ä½•éƒ½ä¸æ˜¯æ¶²æ€ç»ç’ƒ</strong>ã€‚</td></tr></tbody></table>
<p><strong>æ€»ç»“ä¸€ä¸‹</strong>ï¼šç°æœ‰çš„è§£å†³æ–¹æ¡ˆè¦ä¹ˆ<strong>ä¾èµ– Impeller</strong>ï¼Œè¦ä¹ˆ<strong>ä½¿ç”¨åŸç”Ÿ iOS ç»„ä»¶</strong>ï¼Œå› æ­¤<strong>æ— æ³•å®ç°è·¨å¹³å°</strong>ï¼›æˆ–è€…å®ƒä»¬åªæ˜¯æä¾›äº†<strong>å¸¸è§„çš„ç»ç’ƒæ‹Ÿç‰©è®¾è®¡ï¼Œå®Œå…¨æ²¡æœ‰â€œæ¶²æ€â€æ•ˆæœ</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-1">è‹±é›„ç™»åœº</h3>
<p>è€Œæˆ‘ä»¬çš„è‹±é›„æ˜¯ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fliquid_glass_easy" target="_blank" title="https://pub.dev/packages/liquid_glass_easy" ref="nofollow noopener noreferrer">liquid_glass_easy</a></p>
<blockquote>
<p>è¿™æ˜¯ä¸€ä¸ª Flutter è½¯ä»¶åŒ…ï¼Œå®ƒèƒ½å¤Ÿæ·»åŠ å®æ—¶ã€äº¤äº’å¼çš„æ¶²æ€ç»ç’ƒé€é•œï¼ˆLiquid Glass Lensesï¼‰æ•ˆæœã€‚
è¿™äº›åŠ¨æ€é€é•œå¯ä»¥å¯¹åº•å±‚å†…å®¹è¿›è¡Œ<strong>æ”¾å¤§ã€æ‰­æ›²ã€æ¨¡ç³Šã€ç€è‰²å’ŒæŠ˜å°„</strong>å¤„ç†ï¼Œä»è€Œåˆ›é€ å‡º<strong>å¼•äººæ³¨ç›®çš„ã€ç»ç’ƒèˆ¬çš„è§†è§‰æ•ˆæœ</strong>ï¼Œå¹¶<strong>æµç•…åœ°å“åº”ç§»åŠ¨å’Œè§¦æ‘¸</strong>ã€‚</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2d7954cbcb2749ffb7e314bd0c7fd617~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766035575&amp;x-signature=Ak6hZcXrIrX%2FfbmVmuAdF5SyKdc%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ä¸<strong>ä¼ ç»Ÿçš„ç»ç’ƒæ‹Ÿç‰©ï¼ˆGlassmorphismï¼‰<strong>æˆ–</strong>é™æ€æ¨¡ç³Šæ•ˆæœ</strong>ä¸åŒï¼Œ<code>LiquidGlassEasy</code> æ¨¡æ‹Ÿäº†<strong>çœŸå®çš„ç»ç’ƒç‰©ç†ç‰¹æ€§</strong>ï¼ŒåŒ…æ‹¬å®Œæ•´çš„<strong>æŠ˜å°„ã€æ‰­æ›²å’Œæµä½“å“åº”èƒ½åŠ›</strong>ã€‚
å®ƒèƒ½<strong>å®æ—¶æ•è·å¹¶æŠ˜å°„</strong>ï¼ˆrefractï¼‰å®æ—¶èƒŒæ™¯å†…å®¹ï¼Œä»è€Œäº§ç”Ÿ<strong>èº«ä¸´å…¶å¢ƒã€å“åº”åŠ¨æ€</strong>çš„è§†è§‰æ•ˆæœï¼Œä¸ºä½ çš„ UI å¸¦æ¥<strong>æ·±åº¦å’ŒçœŸå®æ„Ÿ</strong>ã€‚</p>
</blockquote>
<h3 data-id="heading-2">ä¸»è¦ç‰¹æ€§</h3>
<ul>
<li><strong>ğŸ’  çœŸå®çš„æ¶²æ€ç»ç’ƒè§†è§‰æ•ˆæœ</strong>ï¼šä»¥æµåŠ¨çš„é€æ˜åº¦ã€æŸ”å’Œçš„é«˜å…‰å’Œ<strong>è‡ªç„¶å¼¯æ›²å…‰çº¿çš„æŠ˜å°„</strong>ï¼Œæ¥é‡ç°çœŸå®ç»ç’ƒçš„å¤–è§‚å’Œç‰©ç†ç‰¹æ€§ã€‚</li>
<li><strong>ğŸŒ€ å®æ—¶é€é•œæ¸²æŸ“</strong>ï¼šå½“å…ƒç´ åœ¨ç»ç’ƒåé¢ç§»åŠ¨æ—¶ï¼Œç«‹å³çœ‹åˆ°<strong>æ‰­æ›²ã€æ¨¡ç³Šã€ç€è‰²å’ŒæŠ˜å°„</strong>åšå‡ºå“åº”ã€‚</li>
<li><strong>ğŸ¨ è‡ªå®šä¹‰å½¢çŠ¶</strong>ï¼šå°†é€é•œè®¾è®¡ä¸º<strong>åœ†è§’çŸ©å½¢ã€åœ†å½¢æˆ–å¹³æ»‘çš„è¶…æ¤­åœ†</strong>ï¼Œä½¿å…¶å®Œç¾åŒ¹é…ä½ çš„ç•Œé¢é£æ ¼ã€‚</li>
<li><strong>ğŸŒˆ å®Œå…¨å¯å®šåˆ¶çš„æ•ˆæœ</strong>ï¼šæ§åˆ¶<strong>ç€è‰²é¢œè‰²ã€å¼ºåº¦ã€æŸ”å’Œåº¦ã€æŠ˜å°„æ·±åº¦å’Œå…‰çº¿æ–¹å‘</strong>ï¼Œå®ç°ç²¾ç¡®çš„ç»ç’ƒè¡Œä¸ºã€‚</li>
<li><strong>ğŸ§  æ§åˆ¶å™¨é©±åŠ¨çš„åŠ¨ç”»</strong>ï¼šé€šè¿‡ <strong><code>LiquidGlassController</code></strong>ï¼Œå®æ—¶æ˜¾ç¤ºã€éšè—æˆ–åŠ¨ç”»åŒ–é€é•œã€‚</li>
<li><strong>âš™ï¸ ç€è‰²å™¨é©±åŠ¨ã€GPU åŠ é€Ÿçš„ç®¡çº¿</strong>ï¼šå³ä½¿æœ‰å¤šä¸ªåŠ¨æ€é€é•œï¼Œä¹Ÿèƒ½ç¡®ä¿<strong>å¹³æ»‘ã€é«˜ FPS çš„æ€§èƒ½</strong>ã€‚</li>
<li><strong>ğŸ“± è·¨å¹³å°å…¼å®¹æ€§</strong>ï¼šåœ¨ <strong>Androidã€iOSã€Webã€macOS å’Œ Windows</strong> ä¸Šæ— ç¼è¿è¡Œã€‚</li>
</ul>
<p>è®©æˆ‘ä»¬ä¸€èµ·å°è¯•</p>
<p>å°†è½¯ä»¶åŒ…æ·»åŠ åˆ°é¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">flutter pub add liquid_glass_easy
</code></pre>
<p>æˆ–è€…</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># åœ¨ pubspec.yaml æ–‡ä»¶ä¸­</span>
<span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">flutter:</span>
    <span class="hljs-attr">sdk:</span> <span class="hljs-string">flutter</span>
  <span class="hljs-attr">liquid_glass_easy:</span> <span class="hljs-string">^[latest_version]</span>
</code></pre>
<p>pub.dev ä¸Šçš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Fliquid_glass_easy%2Fexample" target="_blank" title="https://pub.dev/packages/liquid_glass_easy/example" ref="nofollow noopener noreferrer">ç¤ºä¾‹ (Example)æ ‡ç­¾é¡µ</a>åŒ…å«äº†å®˜æ–¹ç¤ºä¾‹ï¼Œä»£ç ç›¸å½“é•¿ï¼Œå› æ­¤æˆ‘ä¸ä¼šåœ¨è¿™é‡Œé‡æ–°ç²˜è´´ã€‚</p>
<p>ä½†æˆ‘ä»ä¸­å¾—åˆ°çš„ä¿¡æ¯æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨<strong>ä¸¤ä¸ªç»„ä»¶ï¼ˆWidgetï¼‰<strong>æ¥åˆ›å»ºæ¶²æ€ç»ç’ƒæ•ˆæœï¼š</strong> <code>LiquidGlassView</code></strong> å’Œ <strong><code>LiquidGlass</code></strong>ã€‚</p>
<hr/>
<h3 data-id="heading-3">ç»„ä»¶ä½œç”¨ç®€è¿°</h3>

















<table><thead><tr><th><strong>ç»„ä»¶åç§°</strong></th><th><strong>ä½œç”¨</strong></th></tr></thead><tbody><tr><td><strong><code>LiquidGlassView</code></strong></td><td>è¿™æ˜¯<strong>èƒŒæ™¯æ•è·å™¨</strong>ï¼Œå®ƒåŒ…è£¹ä½éœ€è¦è¢«â€œæ¶²æ€ç»ç’ƒâ€æ•ˆæœå½±å“çš„<strong>åº•å±‚å†…å®¹</strong>ã€‚å®ƒæ•è·<strong>å…¶ä¸‹æ–¹çš„å®æ—¶æ¸²æŸ“å†…å®¹</strong>ï¼Œå¹¶å°†è¯¥å†…å®¹ä½œä¸ºçº¹ç†æä¾›ç»™ <code>LiquidGlass</code>ã€‚</td></tr><tr><td><strong><code>LiquidGlass</code></strong></td><td>è¿™æ˜¯<strong>æ¶²æ€ç»ç’ƒé€é•œ</strong>æœ¬èº«ã€‚å®ƒå¿…é¡»ä½äº <code>LiquidGlassView</code> <strong>å†…éƒ¨</strong>ï¼Œå¹¶åˆ©ç”¨æ•è·åˆ°çš„èƒŒæ™¯çº¹ç†ï¼Œé€šè¿‡ç€è‰²å™¨æ¸²æŸ“å‡º<strong>æŠ˜å°„ã€æ‰­æ›²å’Œæ¨¡ç³Š</strong>çš„åŠ¨æ€æ•ˆæœã€‚</td></tr></tbody></table>
<pre><code class="hljs language-dart" lang="dart">
LiquidGlassView(
          controller: viewController,
          backgroundWidget: Image.network(
                                 <span class="hljs-string">"https://raw.githubusercontent.com/AhmeedGamil/liquid_glass_easy_assets/refs/heads/main/flower.jpg"</span>,
                                fit: BoxFit.fitWidth,
                                width: <span class="hljs-built_in">double</span>.infinity,
                                height: <span class="hljs-built_in">double</span>.infinity,
                            ),
          pixelRatio: <span class="hljs-number">1</span>,
          useSync: <span class="hljs-keyword">true</span>,
          realTimeCapture: <span class="hljs-keyword">true</span>,
          refreshRate: LiquidGlassRefreshRate.deviceRefreshRate,
          children: [            
               LiquidGlass(
                controller: lensController,
                position:
                <span class="hljs-keyword">const</span> LiquidGlassAlignPosition(alignment: Alignment.center),
                width: <span class="hljs-number">100</span>,
                height: <span class="hljs-number">100</span>,
                magnification: <span class="hljs-number">1</span>,
                enableInnerRadiusTransparent: <span class="hljs-keyword">false</span>,
                diagonalFlip: <span class="hljs-number">0</span>,
                distortion: <span class="hljs-number">0.225</span>,
                distortionWidth: <span class="hljs-number">50</span>,
                draggable: <span class="hljs-keyword">true</span>,
                outOfBoundaries: <span class="hljs-keyword">true</span>,
                blur: LiquidGlassBlur(sigmaX: <span class="hljs-number">0.75</span>, sigmaY: <span class="hljs-number">0.75</span>),
                shape: RoundedRectangleShape(
                    <span class="hljs-comment">//highDistortionOnCurves: true,</span>
                    cornerRadius: <span class="hljs-number">50</span>,
                    borderWidth: <span class="hljs-number">1</span>,
                    borderSoftness: <span class="hljs-number">2.5</span>,
                    lightIntensity: <span class="hljs-number">1.5</span>,
                    lightDirection: <span class="hljs-number">39.0</span>),
              child:
                Container(
                  decoration:  BoxDecoration(borderRadius: BorderRadius.circular(<span class="hljs-number">50</span>),),
                  child: InkWell(
                    borderRadius: BorderRadius.circular(<span class="hljs-number">50</span>),
                      child: Container(
                          height: <span class="hljs-number">50</span>,
                          width: <span class="hljs-number">50</span>,
                          child: Icon(
                            color: Colors.white,
                          Icons.pause,
                            size: <span class="hljs-number">36</span>,
                          ))),
                ),
              ),
</code></pre>
<p>æˆ‘ä»¬éœ€è¦åˆ›å»º<strong>è§†å›¾æ§åˆ¶å™¨ï¼ˆview controllerï¼‰å’Œé€é•œæ§åˆ¶å™¨ï¼ˆlens controllerï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">
<span class="hljs-comment">// åˆ›å»ºè§†å›¾æ§åˆ¶å™¨ï¼šç”¨äºæ§åˆ¶ LiquidGlassView æ•è·çš„èƒŒæ™¯å†…å®¹</span>
<span class="hljs-keyword">final</span> viewController = LiquidGlassViewController();
<span class="hljs-comment">// åˆ›å»ºé€é•œæ§åˆ¶å™¨ï¼šç”¨äºæ§åˆ¶ LiquidGlass æ•ˆæœï¼ˆä¾‹å¦‚ï¼šæ˜¾ç¤º/éšè—/åŠ¨ç”»ï¼‰</span>
<span class="hljs-keyword">final</span> lensController = LiquidGlassController();

</code></pre>
<p>ç„¶åæˆ‘ä»¬ä¼šå¾—åˆ°ä¸‹é¢çš„ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e21e3be755564bd19b0f7fb40b3a2670~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766035575&amp;x-signature=hcnPOeZVTeN7XcFnLaCVBAyS8ks%3D" alt="image.png" loading="lazy"/></p>
<p><strong>GIF ç”»è´¨æ¯”è¾ƒä½ï¼Œæ˜¯ä¸ºäº†å¸®ä½ èŠ‚çœæµé‡ ğŸ˜‰ã€‚</strong> ä½†è¿™ä¸ªæ¶²æ€ç»ç’ƒæ•ˆæœå¾ˆä¸é”™ï¼Œå¯¹å§ï¼Ÿ</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹åŒä¸€ä¸ªç¤ºä¾‹ App ä¸­çš„æ›´å¤šä¾‹å­ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9abac56f88d543d48292a1cffa5f91f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766035575&amp;x-signature=wyQUxvjszKcka7GDwRVRstMHYQw%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0896d2fe780e4c68b155bb722a336328~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766035575&amp;x-signature=4tcu5QCyCljoRUcXd46f1zS9AGc%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">æ–‡æ¡£</h3>
<p>pub.dev ä¸Šçš„<strong>æ–‡æ¡£</strong>æ¯”è¾ƒåŸºç¡€ï¼Œä½†<strong>ç±»ï¼ˆClassesï¼‰çš„æ³¨é‡Šå¾ˆå……åˆ†</strong>ï¼Œå¹¶ä¸”æä¾›äº†ä¸€ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAhmeedGamil%2Fliquid_glass_easy%2Fblob%2Fmain%2Flib%2Fsrc%2Fdemos%2Fliquid_glass_showcase.dart" target="_blank" title="https://github.com/AhmeedGamil/liquid_glass_easy/blob/main/lib/src/demos/liquid_glass_showcase.dart" ref="nofollow noopener noreferrer">å±•ç¤ºåº”ç”¨</a> ï¼Œå…è®¸ç”¨æˆ·è¯•ç©å„ç§å±æ€§ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b00ade9d06e34f0b9e6e31e0fef8f493~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766035575&amp;x-signature=%2F5%2FQpMnSZYcLZC6GsfuCjtPUUTg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6c653905240414d8c5c3f94f90f3ca9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766035575&amp;x-signature=rOF2Roy6vHbaXjOeBIRH3j3KKgA%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/446221b4bbe9489bbce2509cc931d1a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766035575&amp;x-signature=VeCa%2BX4zqGOlUS%2FoUVZjhcLPxlc%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">åˆ›å»ºæ¶²æ€ç»ç’ƒç»„ä»¶</h3>
<p>æ–‡æ¡£ä¸­æ²¡æœ‰è¯´æ˜å¦‚ä½•åˆ¶ä½œ**â€œæ¶²æ€â€<strong>ç»„ä»¶ã€‚æ­¤å¤–ï¼Œè¿™ä¸ªè½¯ä»¶åŒ…ä¹Ÿæ²¡æœ‰æä¾›ä»»ä½•</strong>å³ç”¨å‹çš„æ¶²æ€ç»„ä»¶**ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘çŒœå”¯ä¸€ä¸”æ˜¾è€Œæ˜“è§çš„æ–¹æ³•æ˜¯ï¼šå°†æŸä¸ªç»„ä»¶ä½œä¸º <strong><code>LiquidGlass</code></strong> çš„ <strong><code>child</code></strong>ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸º<strong>é€æ˜</strong>ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æˆ‘<strong>å¿«é€Ÿä¸”ç²—ç³™</strong>åœ°å°è¯•åˆ›å»ºä¸€ä¸ª<strong>æ¶²æ€æŒ‰é’®</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/45268ce9dac34774b83bf05ca1e95089~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSmFydmFuTW8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766035575&amp;x-signature=Jo8VPCgA3gUsozUV3czH%2BxzDRWI%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-dart" lang="dart">Widget build(BuildContext context) {
    <span class="hljs-keyword">return</span> Scaffold(
      appBar: AppBar(
        title: <span class="hljs-keyword">const</span> Text(<span class="hljs-string">'Liquid button'</span>),
        centerTitle: <span class="hljs-keyword">true</span>,
      ),
      body: LiquidGlassView(
        backgroundWidget:<span class="hljs-comment">// Image.asset('assets/images/background/purple_texture_dark.webp', fit: BoxFit.cover),</span>
         Image.network(
        <span class="hljs-string">"https://raw.githubusercontent.com/AhmeedGamil/liquid_glass_easy_assets/refs/heads/main/socotra_tree_2.jpg"</span>,
        fit: BoxFit.cover,
        width: <span class="hljs-built_in">double</span>.infinity,
        height: <span class="hljs-built_in">double</span>.infinity,
      ),
        children: [
          LiquidGlass(
            width: <span class="hljs-number">300</span>,
            height: <span class="hljs-number">70</span>,
            magnification: <span class="hljs-number">1</span>,
            distortion: <span class="hljs-number">0.2</span>,
            distortionWidth: <span class="hljs-number">50</span>,
            blur: LiquidGlassBlur(sigmaX: <span class="hljs-number">1.75</span>, sigmaY: <span class="hljs-number">0.75</span>),
                shape: RoundedRectangleShape(
                    <span class="hljs-comment">//highDistortionOnCurves: true,</span>
                    cornerRadius: <span class="hljs-number">24</span>,
                    borderWidth: <span class="hljs-number">3</span>,
                    borderSoftness: <span class="hljs-number">5.5</span>,
                    lightIntensity: <span class="hljs-number">1.5</span>,
                ),
            position: LiquidGlassAlignPosition(alignment: Alignment.center),
            
            child: Center(child: 
            SizedBox(
              width: <span class="hljs-number">300</span>,
              height: <span class="hljs-number">70</span>,
              child: FilledButton(onPressed: () {  },
              style: FilledButton.styleFrom(
                backgroundColor: Colors.transparent, 
                foregroundColor: Colors.white,
                overlayColor: Colors.yellow,
                surfaceTintColor: Colors.blue,
              ), 
              child: Text(<span class="hljs-string">'Click me!'</span>, style: TextStyle(fontSize: <span class="hljs-number">24</span>,),)),
            )), 
          ),
        ],
      ),
    );
  }
}
</code></pre>
<h3 data-id="heading-6">æ€§èƒ½</h3>
<p>ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘ç”¨äºæµ‹è¯• <code>liquid_glass_easy</code> çš„é¡¹ç›®æœ‰äº›è€æ—§ï¼Œ<strong>Android æ„å»ºå¤±è´¥äº†</strong>ã€‚æˆ‘æ‡’å¾—å»ä¿®å¤å®ƒï¼Œåæ­£è¿™ä¸ªé¡¹ç›®åªæ˜¯ç”¨äºæ•™è‚²ç”¨é€”ã€‚</p>
<p>ä½†<strong>åœ¨ Windows å¹³å°ä¸Šï¼Œå®ƒå¯¹æ€§èƒ½å®Œå…¨æ²¡æœ‰å½±å“</strong>ã€‚ï¼ˆæˆ‘å·²ç»å¯¹ä¸Šé¢å¸¦æœ‰æŒ‰é’®çš„é¡µé¢è¿›è¡Œäº†æ€§èƒ½åˆ†æï¼‰ã€‚</p>
<h3 data-id="heading-7">æ€»ç»“</h3>
<p>æˆ‘å¹¶ä¸è®¤ä¸ºæ¶²æ€ç»ç’ƒæ•ˆæœæœ‰å¤šä¹ˆé‡è¦ã€‚å®ƒä¸ä¼šè®©ä¸€ä¸ªæ— ç”¨çš„ App å˜å¾—æœ‰ç”¨ï¼Œå®ƒçš„ç¼ºå¤±ä¹Ÿä¸ä¼šè®©ä¸€ä¸ªæœ‰ç”¨çš„ App å˜å¾—æ— ç”¨ã€‚æ‰€ä»¥ï¼Œ<strong>æˆ‘ä¸ªäººä¸æ‰“ç®—åœ¨æˆ‘çš„é¡¹ç›®ä¸­ä½¿ç”¨å®ƒ</strong>ã€‚</p>
<p>ä½†æ˜¯ï¼Œä½œä¸ºä¸€ä¸ª <strong>Flutter çˆ±å¥½è€…</strong>ï¼Œæˆ‘å¾ˆé«˜å…´è¿™ä¸ªè§£å†³æ–¹æ¡ˆçš„å­˜åœ¨ï¼Œå¹¶ä¸”æˆ‘ç¡®ä¿¡<strong>å…¶ä»–è§£å†³æ–¹æ¡ˆ</strong>ï¼ˆå¯èƒ½æ›´ä¼˜ç§€çš„ï¼‰ä¹Ÿæ­£åœ¨è·¯ä¸Šã€‚æˆ‘ç›¸ä¿¡ï¼Œ<strong>å¾ˆå¿«åœ¨ Flutter ä¸­åˆ›å»ºæ¶²æ€ç»ç’ƒç»„ä»¶å°†æ¯”åœ¨ SwiftUI ä¸­æ›´å®¹æ˜“</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LOGï¼šå¦‚ä½•åœ¨Linuxç³»ç»Ÿå®‰è£…å¾®è½¯é›…é»‘å­—ä½“]]></title>    <link>https://juejin.cn/post/7582155513585975348</link>    <guid>https://juejin.cn/post/7582155513585975348</guid>    <pubDate>2025-12-11T04:21:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582155513585975348" data-draft-id="7582133314686812212" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LOGï¼šå¦‚ä½•åœ¨Linuxç³»ç»Ÿå®‰è£…å¾®è½¯é›…é»‘å­—ä½“"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T04:21:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŠ«è†æ–©æ£˜çš„å“¥å“¥"/> <meta itemprop="url" content="https://juejin.cn/user/1415826709423757"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LOGï¼šå¦‚ä½•åœ¨Linuxç³»ç»Ÿå®‰è£…å¾®è½¯é›…é»‘å­—ä½“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1415826709423757/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŠ«è†æ–©æ£˜çš„å“¥å“¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T04:21:40.000Z" title="Thu Dec 11 2025 04:21:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å®‰è£…å¾®è½¯é›…é»‘å­—ä½“ï¼Œæ“ä½œç³»ç»Ÿï¼šUbuntu22.04</p>
</blockquote>
<ol>
<li>å‡†å¤‡å­—ä½“æ–‡ä»¶ï¼Œä¸‹è½½å¾®è½¯é›…é»‘å­—ä½“ï¼Œå­—ä½“æ ¼å¼<code>ttf</code>ï¼Œæ–‡ä»¶åç§°ï¼š<code>msyh.ttf</code> <code>msyhbd.ttf</code>ã€‚</li>
<li>æ‰“å¼€ç³»ç»Ÿå­—ä½“æ–‡ä»¶å¤¹ï¼š<code>/usr/share/fonts/truetype</code>ï¼Œåˆ›å»ºæ–‡ä»¶å¤¹ï¼š<code>mshy</code>ï¼Œå¤åˆ¶ä¸Šè¿°å­—ä½“æ–‡ä»¶ã€‚</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /usr/share/fonts/truetype
sudo <span class="hljs-built_in">mkdir</span> mshy
sudo <span class="hljs-built_in">cp</span> /path/to/msyh.ttf /usr/share/fonts/truetype/mshy/msyh.ttf
sudo <span class="hljs-built_in">cp</span> /path/to/msyhbd.ttf /usr/share/fonts/truetype/mshy/msyhbd.ttf
</code></pre>
<ol start="3">
<li>ä¿®æ”¹æ–‡ä»¶æƒé™ä¸º<code>644</code>ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">chmod</span> 644 /usr/share/fonts/truetype/mshy/*.ttf
</code></pre>
<ol start="4">
<li>ä¸‹è½½å®‰è£…å­—ä½“å¿…è¦çš„å·¥å…·ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudo apt-get update
sudo apt-get install xfonts-utils
sudo apt-get install fontconfig
</code></pre>
<ol start="5">
<li>åˆ›å»ºå­—ä½“çš„<code>fonts.scale</code>æ–‡ä»¶ï¼Œæ§åˆ¶å­—ä½“æ—‹è½¬ç¼©æ”¾ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudo mkfontscale
</code></pre>
<ol start="6">
<li>åˆ›å»ºå­—ä½“çš„<code>fonts.dir</code>æ–‡ä»¶ï¼Œæ§åˆ¶å­—ä½“ç²—æ–œä½“ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudo mkfontdir
</code></pre>
<ol start="7">
<li>å»ºç«‹å­—ä½“ç¼“å­˜ä¿¡æ¯ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudo fc-cache -fv
</code></pre>
<ol start="8">
<li>æŸ¥çœ‹å­—ä½“æ˜¯å¦æˆåŠŸå®‰è£…ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">fc-list
</code></pre>
<ol start="9">
<li>å®Œæˆã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythonå¯¹æ¥å¤©è¿œæ•°æ®å¤šå¤´å€Ÿè´·APIï¼šAESåŠ å¯†è§£å¯†ã€ä»£ç å®ç°ä¸æ•°æ®æ·±åº¦è§£æ]]></title>    <link>https://juejin.cn/post/7582118538562699283</link>    <guid>https://juejin.cn/post/7582118538562699283</guid>    <pubDate>2025-12-11T04:33:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582118538562699283" data-draft-id="7582163781183438854" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythonå¯¹æ¥å¤©è¿œæ•°æ®å¤šå¤´å€Ÿè´·APIï¼šAESåŠ å¯†è§£å¯†ã€ä»£ç å®ç°ä¸æ•°æ®æ·±åº¦è§£æ"/> <meta itemprop="keywords" content="API,å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2025-12-11T04:33:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä»£ç æ–¹èˆŸ"/> <meta itemprop="url" content="https://juejin.cn/user/2789874177939755"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythonå¯¹æ¥å¤©è¿œæ•°æ®å¤šå¤´å€Ÿè´·APIï¼šAESåŠ å¯†è§£å¯†ã€ä»£ç å®ç°ä¸æ•°æ®æ·±åº¦è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2789874177939755/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä»£ç æ–¹èˆŸ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T04:33:51.000Z" title="Thu Dec 11 2025 04:33:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¤šå¤´å€Ÿè´·é£é™©æ•°æ®çš„é£æ§ä»·å€¼ä¸åº”ç”¨</h2>
<p>åœ¨<strong>é“¶è¡Œä¿¡è´·å®¡æ‰¹</strong>ã€<strong>æ¶ˆè´¹é‡‘èæˆä¿¡</strong>ã€<strong>å°é¢è´·æ¬¾é£æ§</strong>ä»¥åŠ<strong>äº’è”ç½‘é‡‘èåæ¬ºè¯ˆ</strong>ç­‰ä¼—å¤šåœºæ™¯ä¸­ï¼Œç²¾å‡†è¯„ä¼°ç”³è¯·äººçš„å¤šå¤´å€Ÿè´·ï¼ˆMulti-Lendingï¼‰è¡Œä¸ºæ˜¯å†³å®šæ”¾æ¬¾ä¸å¦çš„å…³é”®ä¾æ®ã€‚"å…¨å›½è‡ªç„¶äººå¤šå¤´å€Ÿè´·é£é™©ä¿¡æ¯æŸ¥è¯¢"APIï¼Œèƒ½å¤Ÿæä¾›å¤šç»´åº¦çš„è´·æ¬¾è¡Œä¸ºç»Ÿè®¡ä¸é£é™©æ ‡ç­¾ä½“ç³»ï¼Œé€šè¿‡åŒºé—´åŒ–æŒ‡æ ‡ç²¾å‡†åˆ»ç”»ç”¨æˆ·åœ¨è´·æ¬¾ç”³è¯·ã€äº¤æ˜“ã€è¿˜æ¬¾åŠé€¾æœŸç­‰æ–¹é¢çš„å†å²ä¸è¿‘æœŸè¡Œä¸ºã€‚</p>
<p>æœ¬æ–‡å°†ä½œä¸ºä¸€ä»½è¯¦ç»†çš„å¼€å‘æ–‡æ¡£ï¼Œæ·±å…¥å‰–ææ­¤APIï¼Œè¯¦ç»†è§£è¯»å…¶åŸºäºAESåŠ å¯†çš„è¯·æ±‚å“åº”æœºåˆ¶ã€è¿”å›çš„åŸå§‹æ•°æ®ç»“æ„ä»¥åŠæ¯ä¸€ä¸ªæ ¸å¿ƒå­—æ®µçš„ä¸šåŠ¡å«ä¹‰ã€‚é€šè¿‡æ¥å…¥<strong>å¤©è¿œAPI</strong>æä¾›çš„è¿™é¡¹æ•°æ®æœåŠ¡ï¼Œå¼€å‘è€…å¯ä»¥å¸®åŠ©ä¼ä¸šå¿«é€Ÿæ„å»ºè´·å‰é£æ§æ¨¡å‹ã€å®Œå–„è´·ä¸­ç›‘æ§ä½“ç³»ï¼Œå¹¶åˆ¶å®šæ›´ç§‘å­¦çš„é¢åº¦ç­–ç•¥ï¼Œä»è€Œæœ‰æ•ˆé™ä½åè´¦é£é™©ã€‚</p>
<h2 data-id="heading-1">äºŒã€APIæ¥å£è°ƒç”¨ç¤ºä¾‹</h2>
<p>æœ¬æ¥å£é‡‡ç”¨é«˜å®‰å…¨æ€§çš„åŠ å¯†ä¼ è¾“æœºåˆ¶ï¼Œå¼€å‘è€…åœ¨è°ƒç”¨å‰éœ€ç¡®ä¿å·²è·å– <code>Access-Id</code> å’Œ <code>Access-Key</code>ã€‚</p>
<h3 data-id="heading-2">1. è°ƒç”¨å‰ç½®è¯´æ˜</h3>
<ul>
<li>
<p><strong>æ¥å£åœ°å€</strong>ï¼š<code>https://api.tianyuanapi.com/api/v1/JRZQ9E2A?t={13ä½æ—¶é—´æˆ³}</code></p>
</li>
<li>
<p><strong>è¯·æ±‚æ–¹å¼</strong>ï¼šPOST</p>
</li>
<li>
<p><strong>å®‰å…¨æœºåˆ¶</strong>ï¼š</p>
<ul>
<li>è¯·æ±‚å¤´éœ€æºå¸¦ <code>Access-Id</code>ã€‚</li>
<li>è¯·æ±‚ä½“ <code>data</code> å­—æ®µä¸º Base64 ç¼–ç çš„ AES åŠ å¯†å­—ç¬¦ä¸²ã€‚</li>
<li><strong>åŠ å¯†ç®—æ³•</strong>ï¼šAES-128-CBCï¼ŒPKCS7 å¡«å……ï¼ŒIVï¼ˆåˆå§‹åŒ–å‘é‡ï¼‰ä¸ºéšæœºç”Ÿæˆçš„16å­—èŠ‚ï¼Œæ‹¼æ¥åœ¨å¯†æ–‡å‰ä¸€å¹¶ Base64 ç¼–ç ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-3">2. Curl è°ƒç”¨ç¤ºä¾‹</h3>
<p>Bash</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ³¨æ„ï¼šdata å­—æ®µå¿…é¡»æ˜¯ç»è¿‡ AES åŠ å¯†å¹¶ Base64 ç¼–ç åçš„å­—ç¬¦ä¸²</span>
<span class="hljs-comment"># å®é™…å¼€å‘ä¸­è¯·ä½¿ç”¨ç¼–ç¨‹è¯­è¨€ç”ŸæˆåŠ¨æ€çš„ data å’Œ t (æ—¶é—´æˆ³)</span>

curl -X POST "&lt;https://api.tianyuanapi.com/api/v1/JRZQ9E2A?<span class="hljs-attr">t</span>=<span class="hljs-number">1716345678000</span>&gt;<span class="hljs-string">" \
  -H "</span>Content-Type: application/json<span class="hljs-string">" \
  -H "</span>Access-Id: YOUR_ACCESS_ID<span class="hljs-string">" \
  -d '{
    "</span>data<span class="hljs-string">": "</span>U2FsdGVkX1+...<span class="hljs-string">" 
  }'
</span></code></pre>
<h3 data-id="heading-4">3. Python å®Œæ•´è°ƒç”¨ä»£ç  (å«åŠ å¯†è§£å¯†é€»è¾‘)</h3>
<p>æœ¬ç¤ºä¾‹ä½¿ç”¨ <code>requests</code> åº“è¿›è¡Œç½‘ç»œè¯·æ±‚ï¼Œä½¿ç”¨ <code>pycryptodome</code> åº“è¿›è¡Œ AES åŠ è§£å¯†å¤„ç†ã€‚</p>
<p>Python</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> base64
<span class="hljs-keyword">from</span> Crypto.Cipher <span class="hljs-keyword">import</span> AES
<span class="hljs-keyword">from</span> Crypto.Util.Padding <span class="hljs-keyword">import</span> pad, unpad
<span class="hljs-keyword">from</span> Crypto.Random <span class="hljs-keyword">import</span> get_random_bytes

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TianyuanRiskAPI</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, access_id, access_key</span>):
        self.access_id = access_id
        <span class="hljs-comment"># å¯†é’¥é€šå¸¸ä¸º16è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œéœ€æ ¹æ®å®é™…æƒ…å†µå¤„ç†ï¼Œæ­¤å¤„å‡è®¾ä¸º16å­—èŠ‚</span>
        self.access_key = access_key.encode(<span class="hljs-string">'utf-8'</span>)[:<span class="hljs-number">16</span>] 
        self.api_url = <span class="hljs-string">"&lt;https://api.tianyuanapi.com/api/v1/JRZQ9E2A&gt;"</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">encrypt_data</span>(<span class="hljs-params">self, plain_dict</span>):
        <span class="hljs-string">"""
        AES-128-CBC åŠ å¯†é€»è¾‘
        1. ç”Ÿæˆéšæœº 16 å­—èŠ‚ IV
        2. ä½¿ç”¨ PKCS7 å¡«å……æ•°æ®
        3. åŠ å¯†åå°† IV æ‹¼æ¥åˆ°å¯†æ–‡å‰
        4. è¿›è¡Œ Base64 ç¼–ç 
        """</span>
        <span class="hljs-keyword">try</span>:
            plain_text = json.dumps(plain_dict).encode(<span class="hljs-string">'utf-8'</span>)
            iv = get_random_bytes(<span class="hljs-number">16</span>)
            cipher = AES.new(self.access_key, AES.MODE_CBC, iv)
            encrypted_bytes = cipher.encrypt(pad(plain_text, AES.block_size))
            <span class="hljs-comment"># æ‹¼æ¥ IV å’Œ å¯†æ–‡ï¼Œç„¶å Base64</span>
            combined = iv + encrypted_bytes
            <span class="hljs-keyword">return</span> base64.b64encode(combined).decode(<span class="hljs-string">'utf-8'</span>)
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŠ å¯†å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">decrypt_data</span>(<span class="hljs-params">self, encrypted_base64</span>):
        <span class="hljs-string">"""
        AES-128-CBC è§£å¯†é€»è¾‘
        1. Base64 è§£ç 
        2. æå–å‰ 16 å­—èŠ‚ä½œä¸º IV
        3. è§£å¯†å‰©ä½™å¯†æ–‡å¹¶å»é™¤å¡«å……
        """</span>
        <span class="hljs-keyword">try</span>:
            encrypted_bytes = base64.b64decode(encrypted_base64)
            iv = encrypted_bytes[:<span class="hljs-number">16</span>]
            ciphertext = encrypted_bytes[<span class="hljs-number">16</span>:]
            cipher = AES.new(self.access_key, AES.MODE_CBC, iv)
            decrypted_text = unpad(cipher.decrypt(ciphertext), AES.block_size)
            <span class="hljs-keyword">return</span> json.loads(decrypted_text.decode(<span class="hljs-string">'utf-8'</span>))
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è§£å¯†å¤±è´¥: <span class="hljs-subst">{e}</span>"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">query_risk_info</span>(<span class="hljs-params">self, name, id_card, mobile, auth_code</span>):
        <span class="hljs-comment"># 1. æ„é€ è¯·æ±‚å‚æ•°</span>
        payload = {
            <span class="hljs-string">"name"</span>: name,
            <span class="hljs-string">"id_card"</span>: id_card,
            <span class="hljs-string">"mobile_no"</span>: mobile,
            <span class="hljs-string">"auth_authorize_file_code"</span>: auth_code <span class="hljs-comment"># æˆæƒä¹¦ç¼–å·</span>
        }

        <span class="hljs-comment"># 2. åŠ å¯†å‚æ•°</span>
        encrypted_data = self.encrypt_data(payload)
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> encrypted_data:
            <span class="hljs-keyword">return</span>

        <span class="hljs-comment"># 3. å‘èµ·è¯·æ±‚</span>
        headers = {<span class="hljs-string">"Access-Id"</span>: self.access_id}
        timestamp = <span class="hljs-built_in">int</span>(time.time() * <span class="hljs-number">1000</span>)
        url = <span class="hljs-string">f"<span class="hljs-subst">{self.api_url}</span>?t=<span class="hljs-subst">{timestamp}</span>"</span>
        
        <span class="hljs-keyword">try</span>:
            response = requests.post(url, json={<span class="hljs-string">"data"</span>: encrypted_data}, headers=headers)
            res_json = response.json()

            <span class="hljs-comment"># 4. å¤„ç†å“åº”</span>
            <span class="hljs-keyword">if</span> res_json.get(<span class="hljs-string">"code"</span>) == <span class="hljs-number">0</span>: <span class="hljs-comment"># 0 è¡¨ç¤ºä¸šåŠ¡æˆåŠŸ </span>
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"è¯·æ±‚æˆåŠŸï¼Œæ­£åœ¨è§£å¯†æ•°æ®..."</span>)
                <span class="hljs-comment"># è§£å¯† data å­—æ®µ</span>
                decrypted_result = self.decrypt_data(res_json.get(<span class="hljs-string">"data"</span>))
                <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¤šå¤´å€Ÿè´·é£é™©æ•°æ®è§£æç»“æœï¼š"</span>)
                <span class="hljs-built_in">print</span>(json.dumps(decrypted_result, indent=<span class="hljs-number">4</span>, ensure_ascii=<span class="hljs-literal">False</span>))
            <span class="hljs-keyword">else</span>:
                <span class="hljs-built_in">print</span>(<span class="hljs-string">f"APIè¯·æ±‚é”™è¯¯: Code <span class="hljs-subst">{res_json.get(<span class="hljs-string">'code'</span>)}</span>, Message: <span class="hljs-subst">{res_json.get(<span class="hljs-string">'message'</span>)}</span>"</span>)
        
        <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç½‘ç»œè¯·æ±‚å¼‚å¸¸: <span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    <span class="hljs-comment"># è¯·æ›¿æ¢ä¸ºå®é™…çš„ Access-Id å’Œ Access-Key</span>
    api_client = TianyuanRiskAPI(<span class="hljs-string">"YOUR_ACCESS_ID"</span>, <span class="hljs-string">"YOUR_ACCESS_KEY_128BIT"</span>)
    
    api_client.query_risk_info(
        name=<span class="hljs-string">"å¼ ä¸‰"</span>,
        id_card=<span class="hljs-string">"110101199001011234"</span>,
        mobile=<span class="hljs-string">"13800138000"</span>,
        auth_code=<span class="hljs-string">"AUTH20251210001"</span>
    )
</code></pre>
<h2 data-id="heading-5">ä¸‰ã€æ ¸å¿ƒæ•°æ®ç»“æ„è§£æ</h2>
<p>API çš„å“åº”æ•°æ®åˆ†ä¸ºä¸¤å±‚ã€‚ç¬¬ä¸€å±‚æ˜¯å…¬å…±å“åº”å‚æ•°ï¼ŒåŒ…å«çŠ¶æ€ç å’Œæµæ°´å·ï¼›ç¬¬äºŒå±‚æ˜¯åŠ å¯†çš„ <code>data</code> ä¸šåŠ¡æ•°æ®ï¼Œè§£å¯†åæ˜¯ä¸€ä¸ªåŒ…å«æ•°ç™¾ä¸ªé£é™©æŒ‡æ ‡çš„ JSON å¯¹è±¡ã€‚</p>
<h3 data-id="heading-6">1. å…¬å…±å“åº”ç»“æ„</h3>






























<table><thead><tr><th><strong>å­—æ®µå</strong></th><th><strong>ç±»å‹</strong></th><th><strong>æè¿°</strong></th></tr></thead><tbody><tr><td>code</td><td>int</td><td>çŠ¶æ€ç ï¼Œ0è¡¨ç¤ºæˆåŠŸï¼Œé0è¡¨ç¤ºå¼‚å¸¸ï¼ˆå¦‚1002å‚æ•°è§£å¯†å¤±è´¥ï¼‰</td></tr><tr><td>message</td><td>string</td><td>é”™è¯¯æˆ–æˆåŠŸä¿¡æ¯æè¿°</td></tr><tr><td>transaction_id</td><td>string</td><td>ä¸šåŠ¡æµæ°´å·ï¼Œç”¨äºæ’æŸ¥é—®é¢˜</td></tr><tr><td>data</td><td>string</td><td><strong>åŠ å¯†åçš„ä¸šåŠ¡æ•°æ®</strong>ï¼Œéœ€è§£å¯†æŸ¥çœ‹</td></tr></tbody></table>
<h3 data-id="heading-7">2. ä¸šåŠ¡æ•°æ®å±‚çº§</h3>
<p>è§£å¯†åçš„ JSON æ•°æ®ä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ç±»æŒ‡æ ‡ï¼š</p>
<ul>
<li><strong>æœºæ„æ•°é‡ç»Ÿè®¡</strong>ï¼šå¦‚è´·æ¬¾æ€»æœºæ„æ•°ã€è¿‘7å¤©/30å¤©è´·æ¬¾æœºæ„æ•°ã€‚</li>
<li><strong>äº¤æ˜“ä¸è¿˜æ¬¾è¡Œä¸º</strong>ï¼šå†å²è¿˜æ¬¾æˆåŠŸç¬”æ•°ã€äº¤æ˜“å¤±è´¥ç¬”æ•°ã€‚</li>
<li><strong>é€¾æœŸé£é™©æŒ‡æ ‡</strong>ï¼šå½“å‰é€¾æœŸçŠ¶æ€ã€å†å²é€¾æœŸå¤©æ•°ã€‚</li>
<li><strong>é‡‘é¢ç»Ÿè®¡</strong>ï¼šè¿‘30å¤©/90å¤©/180å¤©çš„äº¤æ˜“ä¸è¿˜æ¬¾é‡‘é¢ç»Ÿè®¡ã€‚</li>
<li/>
</ul>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-strong">**æ¨¡å‹è¯„åˆ†**</span>ï¼šä¿¡ç”¨é£é™©è¯„åˆ†ã€å°é¢ç½‘è´·åˆ†ç­‰ã€‚
</code></pre>
<h2 data-id="heading-8">å››ã€å­—æ®µè¯¦è§£</h2>
<p>ç”±äºæ¥å£è¿”å›å­—æ®µæå…¶ä¸°å¯Œï¼Œä»¥ä¸‹åˆ—ä¸¾æ ¸å¿ƒé£æ§åœºæ™¯ä¸­æœ€å¸¸ç”¨çš„å­—æ®µè¿›è¡Œè§£æã€‚æ³¨æ„ï¼Œå¤§éƒ¨åˆ†é‡‘é¢å’Œæ¬¡æ•°ç±»å­—æ®µé‡‡ç”¨<strong>åŒºé—´åŒ–è¾“å‡º</strong>ï¼ˆMappingï¼‰ï¼Œä¾‹å¦‚ "1" å¯èƒ½ä»£è¡¨ "(0,9)" åŒºé—´ã€‚</p>
<h3 data-id="heading-9">1. æœºæ„ç”³è¯·ä¸å€Ÿè´·æ¦‚è§ˆ</h3>



































<table><thead><tr><th><strong>å‚æ•°ä»£ç </strong></th><th><strong>ä¸­æ–‡æè¿°</strong></th><th><strong>è¯´æ˜/åŒºé—´ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td>xyp_cpl0001</td><td>è´·æ¬¾æ€»æœºæ„æ•°</td><td>åŒºé—´è¾“å‡ºï¼Œå¦‚ "1"ä»£è¡¨(0,9)å®¶</td></tr><tr><td>xyp_cpl0002</td><td>è´·æ¬¾å·²ç»“æ¸…æœºæ„æ•°</td><td>è¡¡é‡ç”¨æˆ·è¿‡å¾€ä¿¡èª‰ï¼ŒåŒºé—´è¾“å‡º</td></tr><tr><td>xyp_cpl0044</td><td>å½“å‰æ˜¯å¦å­˜åœ¨é€¾æœŸæœªç»“æ¸…</td><td><strong>é‡è¦</strong>ï¼š1 - é€¾æœŸ ï¼› 0 - æœªé€¾æœŸ</td></tr><tr><td>xyp_cpl0007</td><td>æ¶ˆè´¹é‡‘èç±»æœºæ„æ•°</td><td>åŒ…å«æœ‰åœºæ™¯çš„åˆ†æœŸä¸šåŠ¡</td></tr><tr><td>xyp_cpl0008</td><td>ç½‘ç»œè´·æ¬¾ç±»æœºæ„æ•°</td><td>ä¸»è¦æŒ‡ç°é‡‘è´·ç±»æœºæ„</td></tr></tbody></table>
<h3 data-id="heading-10">2. çŸ­æœŸç”³è¯·é›†ä¸­åº¦ï¼ˆå¤šå¤´é¢„è­¦ï¼‰</h3>

























<table><thead><tr><th><strong>å‚æ•°ä»£ç </strong></th><th><strong>ä¸­æ–‡æè¿°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>xyp_cpl0070</td><td>æœ€è¿‘1å¤©è´·æ¬¾æœºæ„æ•°</td><td>çªå‘æ€¥å€ŸæŒ‡æ ‡</td></tr><tr><td>xyp_cpl0009</td><td>æœ€è¿‘7å¤©è´·æ¬¾æœºæ„æ•°</td><td>è¡¡é‡çŸ­æœŸèµ„é‡‘é¥¥æ¸´åº¦</td></tr><tr><td>xyp_cpl0011</td><td>æœ€è¿‘30å¤©è´·æ¬¾æœºæ„æ•°</td><td>ä¸­çŸ­æœŸå¤šå¤´å€Ÿè´·é£é™©æŒ‡æ ‡</td></tr></tbody></table>
<h3 data-id="heading-11">3. é€¾æœŸä¸å±¥çº¦èƒ½åŠ›</h3>






























<table><thead><tr><th><strong>å‚æ•°ä»£ç </strong></th><th><strong>ä¸­æ–‡æè¿°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>xyp_cpl0028</td><td>æœ€è¿‘1å¤©æ˜¯å¦å‘ç”Ÿè¿‡é€¾æœŸ</td><td>1-é€¾æœŸï¼Œ0-æœªé€¾æœŸ</td></tr><tr><td>xyp_cpl0031</td><td>æœ€è¿‘30å¤©æ˜¯å¦å‘ç”Ÿè¿‡é€¾æœŸ</td><td>ååº”è¿‘æœŸè¿˜æ¬¾å‹åŠ›</td></tr><tr><td>xyp_cpl0071</td><td>å½“å‰é€¾æœŸæœºæ„æ•°</td><td>åŒæ—¶è¿çº¦çš„å¹³å°æ•°é‡</td></tr><tr><td>xyp_cpl0072</td><td>å½“å‰é€¾æœŸé‡‘é¢</td><td>è¿çº¦èµ„é‡‘è§„æ¨¡ï¼ˆåŒºé—´åŒ–ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-12">4. ä¿¡ç”¨è¯„åˆ†ä¸æ¨¡å‹åˆ†</h3>

























<table><thead><tr><th><strong>å‚æ•°ä»£ç </strong></th><th><strong>ä¸­æ–‡æè¿°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>xyp_cpl0081</td><td>ä¿¡ç”¨é£é™©è¯„åˆ†</td><td>0-1ä¹‹é—´ï¼Œåˆ†æ•°è¶Šé«˜ç”¨æˆ·ä¿¡ç”¨è¶Šä½</td></tr><tr><td>xyp_model_score_high</td><td>å°é¢ç½‘è´·åˆ†V1</td><td>[350,950]ï¼Œåˆ†æ•°è¶Šå¤§é€¾æœŸç‡è¶Š</td></tr><tr><td>xyp_model_score_mid</td><td>å°é¢åˆ†æœŸåˆ†V1</td><td>[350,950]ï¼Œåˆ†æ•°è¶Šå¤§é€¾æœŸç‡è¶Šä½</td></tr></tbody></table>
<h2 data-id="heading-13">äº”ã€åº”ç”¨ä»·å€¼åˆ†æ</h2>
<p>é€šè¿‡é›†æˆ<strong>å¤©è¿œAPI</strong>çš„å¤šå¤´å€Ÿè´·é£é™©æŸ¥è¯¢æœåŠ¡ï¼Œå¼€å‘è€…å¯ä»¥ä¸ºä¼ä¸šé£æ§ç³»ç»Ÿå¸¦æ¥æ˜¾è‘—ä»·å€¼ï¼š</p>
<ol>
<li>
<p>ç²¾å‡†è¯†åˆ«"æ‹†ä¸œå¢™è¡¥è¥¿å¢™"ï¼š</p>
<p>é€šè¿‡åˆ†æ xyp_cpl0009 (è¿‘7å¤©è´·æ¬¾æœºæ„æ•°) å’Œ xyp_cpl0031 (è¿‘30å¤©æ˜¯å¦é€¾æœŸ) ç­‰å­—æ®µï¼Œç³»ç»Ÿèƒ½å¿«é€Ÿè¯†åˆ«å‡ºæ€¥éœ€èµ„é‡‘å‘¨è½¬çš„æ½œåœ¨é«˜é£é™©ç”¨æˆ·ï¼Œæœ‰æ•ˆæ‹¦æˆªå…±å€ºé£é™©ã€‚</p>
</li>
<li>
<p>é‡åŒ–è¯„ä¼°è¿˜æ¬¾èƒ½åŠ›ï¼š</p>
<p>åˆ©ç”¨ xyp_cpl0039 (è¿‘30å¤©è¿˜æ¬¾æˆåŠŸæ€»é‡‘é¢) ä¸ xyp_cpl0072 (å½“å‰é€¾æœŸé‡‘é¢) çš„å¯¹æ¯”ï¼Œç»“åˆæ”¶å…¥è¯æ˜ï¼Œé‡‘èæœºæ„å¯ä»¥æ›´ç§‘å­¦åœ°æ ¸å®šæˆä¿¡é¢åº¦ï¼Œé¿å…è¿‡åº¦æˆä¿¡ã€‚</p>
</li>
<li>
<p>è´·ä¸­åŠ¨æ€ç›‘æ§ï¼š</p>
<p>å¯¹äºå­˜é‡å®¢æˆ·ï¼Œå®šæœŸè°ƒç”¨æ­¤APIç›‘æ§å…¶ xyp_cpl0044 (å½“å‰æ˜¯å¦å­˜åœ¨é€¾æœŸ) å’Œ xyp_cpl0008 (ç½‘è´·æœºæ„æ•°) çš„å˜åŒ–ã€‚ä¸€æ—¦å‘ç°ç”¨æˆ·åœ¨çŸ­æ—¶é—´å†…åœ¨å¤šå®¶å¹³å°å‘ç”Ÿå€Ÿè´·è¡Œä¸ºï¼Œç³»ç»Ÿå¯è§¦å‘é¢„è­¦ï¼ŒåŠæ—¶é‡‡å–é™é¢æˆ–å‚¬æ”¶ç­–ç•¥ã€‚</p>
</li>
</ol>
<h2 data-id="heading-14">å…­ã€æ€»ç»“</h2>
<p>å…¨å›½è‡ªç„¶äººå¤šå¤´å€Ÿè´·é£é™©ä¿¡æ¯æŸ¥è¯¢APIä¸ºé‡‘èç§‘æŠ€å¼€å‘è€…æä¾›äº†ä¸€å¥—æ ‡å‡†åŒ–ã€æ•°æ®åŒ–ã€åŒºé—´åŒ–çš„é£æ§è§£å†³æ–¹æ¡ˆã€‚è™½ç„¶å…¶æ¥å£æ¶‰åŠ AES åŠ å¯†ä¸ Base64 ç¼–ç ï¼Œå¢åŠ äº†ä¸€å®šçš„å¯¹æ¥é—¨æ§›ï¼Œä½†è¿™ä¹Ÿæå¤§åœ°ä¿éšœäº†ç”¨æˆ·éšç§æ•°æ®çš„ä¼ è¾“å®‰å…¨ã€‚</p>
<p>å»ºè®®å¼€å‘è€…åœ¨æ¥å…¥è¿‡ç¨‹ä¸­ï¼Œé‡ç‚¹å…³æ³¨é”™è¯¯ç å¤„ç†ï¼ˆå¦‚ 1002 è§£å¯†å¤±è´¥ã€1007 ä½™é¢ä¸è¶³ï¼‰ï¼Œå¹¶å»ºç«‹å®Œå–„çš„æ—¥å¿—ç³»ç»Ÿã€‚é€šè¿‡åˆç†åˆ©ç”¨<strong>å¤©è¿œAPI</strong>æä¾›çš„ä¸°å¯Œç»´åº¦æ•°æ®ï¼Œä¼ä¸šå°†èƒ½å¤Ÿæ„å»ºå‡ºæ›´åŠ åšå›ºçš„é£é™©é˜²ç«å¢™ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Method Agentï¼šä¸€æ¬¾æ— ä¾µå…¥çš„Springæ–¹æ³•çº§è°ƒè¯•ç¥å™¨]]></title>    <link>https://juejin.cn/post/7582163781183602694</link>    <guid>https://juejin.cn/post/7582163781183602694</guid>    <pubDate>2025-12-11T04:56:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582163781183602694" data-draft-id="7582118538562715667" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring Method Agentï¼šä¸€æ¬¾æ— ä¾µå…¥çš„Springæ–¹æ³•çº§è°ƒè¯•ç¥å™¨"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-11T04:56:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="caterpillar"/> <meta itemprop="url" content="https://juejin.cn/user/397351653214539"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring Method Agentï¼šä¸€æ¬¾æ— ä¾µå…¥çš„Springæ–¹æ³•çº§è°ƒè¯•ç¥å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/397351653214539/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    caterpillar
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T04:56:35.000Z" title="Thu Dec 11 2025 04:56:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Spring Method Agentï¼šä¸€æ¬¾æ— ä¾µå…¥çš„Springæ–¹æ³•çº§è°ƒè¯•ç¥å™¨</h2>
<h3 data-id="heading-1">ğŸ¯ å·¥å…·ç®€ä»‹</h3>
<p><strong>Spring Method Agent</strong>â€‹ æ˜¯ä¸€æ¬¾é¢å‘Javaå¼€å‘è€…çš„é«˜æ•ˆè°ƒè¯•å·¥å…·ï¼Œèƒ½å¤Ÿä»¥<strong>é›¶ä»£ç ä¾µå…¥</strong>çš„æ–¹å¼å¯¹Springé¡¹ç›®è¿›è¡Œæ–¹æ³•çº§åˆ«çš„æµ‹è¯•å’Œè°ƒè¯•ã€‚é€šè¿‡Java AgentæŠ€æœ¯ï¼Œåœ¨Springåº”ç”¨å¯åŠ¨æ—¶è¿›è¡Œå¢å¼ºï¼Œæ— éœ€ä¿®æ”¹ä»»ä½•ä¸šåŠ¡ä»£ç å³å¯å®ç°æ–¹æ³•çš„å¯è§†åŒ–æŸ¥è¯¢ä¸è°ƒç”¨ã€‚</p>
<h3 data-id="heading-2">âœ¨ æ ¸å¿ƒç‰¹æ€§</h3>
<ul>
<li><strong>æ— ä»£ç ä¾µå…¥</strong>ï¼šåŸºäºJava Agentå®ç°ï¼Œå¯¹åº”ç”¨å®Œå…¨é€æ˜</li>
<li><strong>å¯è§†åŒ–æ“ä½œ</strong>ï¼šå†…ç½®Webç•Œé¢ï¼Œç›´è§‚æŸ¥çœ‹å’Œè°ƒç”¨Spring Beanæ–¹æ³•</li>
<li><strong>æ–¹æ³•Mockæ”¯æŒ</strong>ï¼šæ— éœ€ä¿®æ”¹ä»£ç å³å¯æ¨¡æ‹Ÿæ–¹æ³•è¿”å›å€¼</li>
<li><strong>æ¡ä»¶Mock</strong>ï¼šæ”¯æŒåŸºäºæ¡ä»¶çš„æ™ºèƒ½Mockè§„åˆ™</li>
<li><strong>å¤šæ•°æ®ç±»å‹</strong>ï¼šæ”¯æŒJSONã€å¯¹è±¡ã€æ•°ç»„ã€åŸºæœ¬ç±»å‹ç­‰å¤šç§è¿”å›å€¼</li>
<li><strong>çµæ´»é…ç½®</strong>ï¼šæ”¯æŒåŠ¨æ€é…ç½®å’Œè§„åˆ™ç®¡ç†</li>
</ul>
<h3 data-id="heading-3">ğŸš€ å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-4">1. ä¸‹è½½å®‰è£…</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fxiaowomiaomiao%2Fspring-method-agent" target="_blank" title="https://gitee.com/xiaowomiaomiao/spring-method-agent" ref="nofollow noopener noreferrer">gitee.com/xiaowomiaomâ€¦</a></p>
<h4 data-id="heading-5">2. é…ç½®å¯åŠ¨å‚æ•°</h4>
<pre><code class="hljs language-bash" lang="bash">-javaagent:{your path}/spring-method-agent-2.0.0.jar
</code></pre>
<h4 data-id="heading-6">3. å¯åŠ¨åº”ç”¨</h4>
<p>åº”ç”¨å¯åŠ¨åï¼Œå·¥å…·ä¼šç›‘å¬<strong>8100ç«¯å£</strong>ï¼ˆå¯é€šè¿‡<code>-Dagent.port=8080</code>ä¿®æ”¹ï¼‰</p>
<h4 data-id="heading-7">4. è®¿é—®ç•Œé¢</h4>
<pre><code class="hljs language-arduino" lang="arduino">http:<span class="hljs-comment">//localhost:8100</span>
</code></pre>
<h3 data-id="heading-8">ğŸ”§ MockåŠŸèƒ½ä»‹ç»</h3>
<h4 data-id="heading-9">å¯ç”¨Mock</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">-Dsma.mockEnable</span>=<span class="hljs-literal">true</span>
<span class="hljs-attr">-Dsma.configPath</span>=/yourPath/sma-mockConfig
</code></pre>
<h4 data-id="heading-10">é…ç½®æ–‡ä»¶ç¤ºä¾‹</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"globalEnabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"rules"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"className"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"org.example.controller.EchoController"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"methodName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"echo"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"conditionField"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"url"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"conditionValue"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"hello"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"mockReturnValue"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"lin"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"className"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"org.example.controller.EchoController"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"methodName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"conditionField"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user.name"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"conditionValue"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"bob"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"mockReturnValue"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"age"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">18</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"bob"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-11">æ”¯æŒçš„æ•°æ®ç±»å‹</h4>
<ul>
<li>å­—ç¬¦ä¸²ï¼š<code>"mockReturnValue": "lin"</code></li>
<li>æ•°å­—ï¼š<code>"mockReturnValue": 3.14</code></li>
<li>å¸ƒå°”å€¼ï¼š<code>"mockReturnValue": true</code></li>
<li>å¯¹è±¡ï¼š<code>"mockReturnValue": { "age": 18, "name": "bob" }</code></li>
<li>æ•°ç»„ï¼š<code>"mockReturnValue": [1, 2, 3]</code></li>
<li>JSONå­—ç¬¦ä¸²ï¼š<code>"mockReturnValue": "{ "items": [1,2,3], "count": 3 }"</code></li>
</ul>
<h3 data-id="heading-12">ğŸ“Š åº”ç”¨åœºæ™¯</h3>
<h4 data-id="heading-13">1. å¿«é€Ÿè°ƒè¯•</h4>
<p>æ— éœ€ç¼–å†™æµ‹è¯•ä»£ç ï¼Œç›´æ¥åœ¨Webç•Œé¢è°ƒç”¨ä»»æ„Spring Beanæ–¹æ³•ï¼ŒæŸ¥çœ‹è¿”å›ç»“æœã€‚</p>
<h4 data-id="heading-14">2. é›†æˆæµ‹è¯•</h4>
<p>åœ¨è”è°ƒé˜¶æ®µæ¨¡æ‹Ÿä¾èµ–æœåŠ¡çš„å“åº”ï¼Œæ— éœ€å¯åŠ¨å®Œæ•´çš„ä¾èµ–é“¾ã€‚</p>
<h4 data-id="heading-15">3. é—®é¢˜æ’æŸ¥</h4>
<p>ç”Ÿäº§ç¯å¢ƒé—®é¢˜å¤ç°æ—¶ï¼Œå¯ä»¥ä¸´æ—¶Mockæ–¹æ³•è¿”å›å€¼ï¼Œå¿«é€Ÿå®šä½é—®é¢˜ã€‚</p>
<h4 data-id="heading-16">4. æ¼”ç¤ºå±•ç¤º</h4>
<p>åœ¨æ¼”ç¤ºæ—¶Mockç‰¹å®šæ•°æ®ï¼Œé¿å…ä¾èµ–å¤–éƒ¨æœåŠ¡çš„ä¸ç¨³å®šæ€§ã€‚</p>
<h3 data-id="heading-17">ğŸ¨ ä½¿ç”¨ç¤ºä¾‹</h3>
<h4 data-id="heading-18">åœºæ™¯ä¸€ï¼šæ¡ä»¶Mock</h4>
<p>å½“ç”¨æˆ·åä¸º"bob"æ—¶ï¼Œè¿”å›é¢„è®¾çš„ç”¨æˆ·ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"className"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"org.example.controller.UserController"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"methodName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"getUserInfo"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"conditionField"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user.name"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"conditionValue"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"bob"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"mockReturnValue"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"bob"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"admin"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-19">åœºæ™¯äºŒï¼šå¼‚å¸¸æ¨¡æ‹Ÿ</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"className"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"org.example.service.PaymentService"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"methodName"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"processPayment"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"conditionField"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"amount"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"conditionValue"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10000</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"mockReturnValue"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"error"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½™é¢ä¸è¶³"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"code"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"INSUFFICIENT_BALANCE"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-20">ğŸ”„ é…ç½®å‚æ•°è¯´æ˜</h3>













































<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>className</code></td><td>å®Œæ•´ç±»åï¼ˆå…¨é™å®šåï¼‰</td><td>å¿…å¡«</td></tr><tr><td><code>methodName</code></td><td>è¦Mockçš„æ–¹æ³•å</td><td>å¿…å¡«</td></tr><tr><td><code>conditionField</code></td><td>æ¡ä»¶å­—æ®µè·¯å¾„ï¼ˆå¯é€‰ï¼‰</td><td>å¯é€‰</td></tr><tr><td><code>conditionValue</code></td><td>æ¡ä»¶åŒ¹é…å€¼ï¼ˆå¯é€‰ï¼‰</td><td>å¯é€‰</td></tr><tr><td><code>mockReturnValue</code></td><td>Mockè¿”å›å€¼</td><td>å¿…å¡«</td></tr><tr><td><code>enabled</code></td><td>è§„åˆ™å¼€å…³</td><td>true</td></tr><tr><td><code>globalEnabled</code></td><td>å…¨å±€Mockå¼€å…³</td><td>true</td></tr></tbody></table>
<h3 data-id="heading-21">âš¡ æ€§èƒ½ä¼˜åŠ¿</h3>
<ul>
<li><strong>ä½å¼€é”€</strong>ï¼šä»…åœ¨æ–¹æ³•è°ƒç”¨æ—¶è¿›è¡ŒåŒ¹é…æ£€æŸ¥</li>
<li><strong>æŒ‰éœ€åŠ è½½</strong>ï¼šMockè§„åˆ™å¯åŠ¨æ€é…ç½®</li>
<li><strong>ç²¾å‡†åŒ¹é…</strong>ï¼šæ”¯æŒæ¡ä»¶åŒ¹é…ï¼Œé¿å…ä¸å¿…è¦çš„Mockå¼€é”€</li>
</ul>
<h3 data-id="heading-22">ğŸ“ˆ å¯¹æ¯”ä¼ ç»Ÿæ–¹æ¡ˆ</h3>

































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä»£ç ä¾µå…¥</th><th>ç»´æŠ¤æˆæœ¬</th><th>çµæ´»æ€§</th><th>å­¦ä¹ æˆæœ¬</th></tr></thead><tbody><tr><td>ä¼ ç»Ÿå•å…ƒæµ‹è¯•</td><td>é«˜</td><td>é«˜</td><td>ä½</td><td>é«˜</td></tr><tr><td>Mockæ¡†æ¶</td><td>ä¸­</td><td>ä¸­</td><td>ä¸­</td><td>ä¸­</td></tr><tr><td><strong>Spring Method Agent</strong>â€‹</td><td><strong>æ— </strong>â€‹</td><td><strong>ä½</strong>â€‹</td><td><strong>é«˜</strong>â€‹</td><td><strong>ä½</strong>â€‹</td></tr></tbody></table>
<h3 data-id="heading-23">ğŸ¤ è´¡çŒ®ä¸åé¦ˆ</h3>
<p>è¯¥é¡¹ç›®å·²åœ¨GitHubå¼€æºï¼Œæ¬¢è¿æäº¤Issueå’ŒPRï¼š GitHubé¡¹ç›®åœ°å€</p>
<h3 data-id="heading-24">ğŸ’¡ ä½¿ç”¨å»ºè®®</h3>
<ol>
<li><strong>å¼€å‘ç¯å¢ƒ</strong>ï¼šé•¿æœŸå¯ç”¨ï¼Œæå‡å¼€å‘æ•ˆç‡</li>
<li><strong>æµ‹è¯•ç¯å¢ƒ</strong>ï¼šç”¨äºé›†æˆæµ‹è¯•å’Œåœºæ™¯æ¨¡æ‹Ÿ</li>
<li><strong>ç”Ÿäº§ç¯å¢ƒ</strong>ï¼šä»…ç”¨äºç´§æ€¥é—®é¢˜æ’æŸ¥ï¼Œå»ºè®®è°¨æ…ä½¿ç”¨</li>
</ol>
<hr/>
<p>é€šè¿‡è¿™ä¸ªå·¥å…·ï¼Œå¼€å‘è€…å¯ä»¥<strong>èŠ‚çœå¤§é‡</strong>çš„æµ‹è¯•ä»£ç ç¼–å†™æ—¶é—´ï¼Œ<strong>æå‡è°ƒè¯•æ•ˆç‡</strong>ï¼Œè®©Springåº”ç”¨çš„è°ƒè¯•å’Œæµ‹è¯•å˜å¾—æ›´åŠ ç®€å•é«˜æ•ˆã€‚ç«‹å³å°è¯•ï¼Œä½“éªŒæ— ä¾µå…¥å¼è°ƒè¯•çš„é­…åŠ›ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å®ç°ç´§è´´è¾¹æ¡†çš„é«˜äº®æµå…‰åŠ¨ç”»æ•ˆæœï¼ˆé•¿æ–¹å½¢é€‚é…ï¼‰]]></title>    <link>https://juejin.cn/post/7582156410319388682</link>    <guid>https://juejin.cn/post/7582156410319388682</guid>    <pubDate>2025-12-11T03:50:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582156410319388682" data-draft-id="7582110969201049638" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å®ç°ç´§è´´è¾¹æ¡†çš„é«˜äº®æµå…‰åŠ¨ç”»æ•ˆæœï¼ˆé•¿æ–¹å½¢é€‚é…ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,CSS"/> <meta itemprop="datePublished" content="2025-12-11T03:50:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŒ„æ±é¢"/> <meta itemprop="url" content="https://juejin.cn/user/4143434758889517"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å®ç°ç´§è´´è¾¹æ¡†çš„é«˜äº®æµå…‰åŠ¨ç”»æ•ˆæœï¼ˆé•¿æ–¹å½¢é€‚é…ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4143434758889517/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŒ„æ±é¢
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:50:21.000Z" title="Thu Dec 11 2025 03:50:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œè¾¹æ¡†æµå…‰åŠ¨ç”»æ˜¯æå‡ç•Œé¢ç§‘æŠ€æ„Ÿçš„å¸¸ç”¨æ•ˆæœã€‚æœ¬æ–‡å°†åŸºäºç²¾ç®€çš„ HTML+CSS ä»£ç ï¼Œå®ç°ã€Œ3px å®½é«˜äº®æµå…‰ + ç´§è´´è¾¹æ¡†æµåŠ¨ + æ‹è§’åœé¡¿ã€çš„æ•ˆæœï¼Œé€‚é…ä»æ­£æ–¹å½¢åˆ°é•¿æ–¹å½¢çš„å®¹å™¨å½¢æ€ï¼Œä»£ç ç®€æ´æ˜“å¤ç”¨ï¼Œé€‚åˆç›´æ¥é›†æˆåˆ°é¡¹ç›®ä¸­ã€‚</p>
<h2 data-id="heading-0">æ•ˆæœæ ¸å¿ƒäº®ç‚¹</h2>
<ul>
<li><strong>ç²¾å‡†è´´åˆ</strong>ï¼šæµå…‰çº¿æ¡å®Œå…¨ç´§è´´å®¹å™¨è¾¹æ¡†ï¼Œæ— åç§»ã€æ— è¶…å‡º</li>
<li><strong>ç²¾è‡´è´¨æ„Ÿ</strong>ï¼š3px çº¤ç»†çº¿æ¡ + è“ç´«æ¸å˜ + å¤šå±‚å‘å…‰é˜´å½±ï¼Œäº®åº¦å……è¶³ä¸åˆºçœ¼</li>
<li><strong>ä¸æ»‘æµåŠ¨</strong>ï¼šå››ä¸ªæ‹è§’å‡æœ‰åœé¡¿è¿‡æ¸¡ï¼Œæ‹‰ä¼¸æ—¶ä»…å•ç»´åº¦å˜åŒ–ï¼Œæ— é¡¿æŒ«æ„Ÿ</li>
<li><strong>çµæ´»é€‚é…</strong>ï¼šæ”¯æŒæ­£æ–¹å½¢ã€é•¿æ–¹å½¢ç­‰å¤šç§å®¹å™¨å½¢æ€ï¼Œæ— éœ€å¤§å¹…ä¿®æ”¹ä»£ç </li>
</ul>
<h2 data-id="heading-1">å®Œæ•´å®ç°ä»£ç </h2>
<p>html</p>
<p>é¢„è§ˆ</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>3pxè¾¹æ¡†æµå…‰åŠ¨ç”»<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
    <span class="hljs-comment">/* é¡µé¢å±…ä¸­å¸ƒå±€åŸºç¡€æ ·å¼ */</span>
    <span class="hljs-selector-tag">body</span> {
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">100vh</span>;
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">justify-content</span>: center;
      <span class="hljs-attribute">align-items</span>: center;
      <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#0a1929</span>; <span class="hljs-comment">/* æ·±è‰²èƒŒæ™¯å‡¸æ˜¾æµå…‰æ•ˆæœ */</span>
    }

    <span class="hljs-comment">/* å¤–å±‚å®¹å™¨ï¼šæ§åˆ¶æ•´ä½“å°ºå¯¸å’Œé˜´å½± */</span>
    <span class="hljs-selector-class">.container</span> {
      <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>; <span class="hljs-comment">/* å¯ä¿®æ”¹ä¸ºä»»æ„å®½åº¦ï¼ˆå¦‚52%é€‚é…å“åº”å¼ï¼‰ */</span>
      <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>; <span class="hljs-comment">/* å¯ä¿®æ”¹ä¸ºä»»æ„é«˜åº¦ï¼ˆå¦‚20%é€‚é…å±å¹•é«˜åº¦ï¼‰ */</span>
      <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">60px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">188</span>, <span class="hljs-number">212</span>, <span class="hljs-number">0.3</span>);
    }

    <span class="hljs-comment">/* å†…å±‚å†…å®¹æ¡†ï¼šé•¿æ–¹å½¢ç¤ºä¾‹ï¼ˆå®½50%+é«˜20%ï¼‰ */</span>
    <span class="hljs-selector-class">.box</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">50%</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">20%</span>;
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;
      <span class="hljs-attribute">position</span>: relative;
      <span class="hljs-attribute">overflow</span>: hidden;
      <span class="hljs-attribute">z-index</span>: <span class="hljs-number">2</span>;
      <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">12</span>, <span class="hljs-number">30</span>, <span class="hljs-number">50</span>, <span class="hljs-number">0.8</span>); <span class="hljs-comment">/* åŠé€æ˜æ·±è‰²èƒŒæ™¯ */</span>
    }

    <span class="hljs-comment">/* æµå…‰çº¿æ¡æ ¸å¿ƒæ ·å¼ */</span>
    <span class="hljs-selector-class">.container</span><span class="hljs-selector-pseudo">::before</span> {
      <span class="hljs-attribute">content</span>: <span class="hljs-string">""</span>;
      <span class="hljs-attribute">position</span>: absolute;
      <span class="hljs-attribute">z-index</span>: <span class="hljs-number">1</span>; <span class="hljs-comment">/* ä½äºå†…å®¹æ¡†å±‚çº§ï¼Œä¸é®æŒ¡å†…å®¹ */</span>
      <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>; <span class="hljs-comment">/* ç´§è´´å®¹å™¨é¡¶éƒ¨è¾¹æ¡† */</span>
      <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>; <span class="hljs-comment">/* ç´§è´´å®¹å™¨å·¦ä¾§è¾¹æ¡† */</span>
      <span class="hljs-attribute">width</span>: <span class="hljs-number">3px</span>; <span class="hljs-comment">/* å›ºå®š3pxå®½åº¦ */</span>
      <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>; <span class="hljs-comment">/* åˆå§‹é«˜åº¦ä¸å®½åº¦ä¸€è‡´ */</span>
      <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>; <span class="hljs-comment">/* åœ†è§’ä¼˜åŒ–ï¼Œé¿å…ç”Ÿç¡¬ */</span>
      <span class="hljs-comment">/* è“ç´«æ¸å˜ï¼šå¢å¼ºç§‘æŠ€æ„Ÿ */</span>
      <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(
        <span class="hljs-number">135deg</span>,
        <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">245</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.6</span>) <span class="hljs-number">0%</span>,
        <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">132</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.5</span>) <span class="hljs-number">50%</span>,
        <span class="hljs-built_in">rgba</span>(<span class="hljs-number">110</span>, <span class="hljs-number">0</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.6</span>) <span class="hljs-number">100%</span>
      );
      <span class="hljs-comment">/* å¤šå±‚å‘å…‰é˜´å½±ï¼šæå‡äº®åº¦å’Œå±‚æ¬¡æ„Ÿ */</span>
      <span class="hljs-attribute">box-shadow</span>:
        <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">119</span>, <span class="hljs-number">182</span>, <span class="hljs-number">0.8</span>),
        <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">25px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">150</span>, <span class="hljs-number">199</span>, <span class="hljs-number">0.6</span>),
        <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">40px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">245</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.4</span>),
        inset <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">8px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">119</span>, <span class="hljs-number">182</span>, <span class="hljs-number">0.5</span>);
      <span class="hljs-comment">/* åŒåŠ¨ç”»ï¼šæµåŠ¨+å‘¼å¸å‘å…‰ */</span>
      <span class="hljs-attribute">animation</span>: flow <span class="hljs-number">6s</span> linear infinite, glow <span class="hljs-number">3s</span> linear infinite alternate;
      <span class="hljs-attribute">pointer-events</span>: none; <span class="hljs-comment">/* é¿å…é®æŒ¡é¼ æ ‡äº‹ä»¶ */</span>
    }

    <span class="hljs-comment">/* æµåŠ¨åŠ¨ç”»ï¼šç´§è´´è¾¹æ¡†+æ‹è§’åœé¡¿ */</span>
    <span class="hljs-keyword">@keyframes</span> flow {
      <span class="hljs-number">0%</span> {
        <span class="hljs-attribute">width</span>: <span class="hljs-number">3px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
      }
      <span class="hljs-comment">/* ä¸Šè¾¹æ¡†ï¼šå·¦â†’å³æ‹‰ä¼¸ï¼ˆé«˜åº¦å›ºå®š3pxï¼‰ */</span>
      <span class="hljs-number">15%</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; <span class="hljs-comment">/* ç²¾å‡†åŒ¹é…å®¹å™¨å®½åº¦ */</span>
        <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
      }
      <span class="hljs-comment">/* å³ä¸Šè§’æ”¶ç¼©åœé¡¿ï¼ˆ5%æ—¶é•¿ï¼‰ */</span>
      <span class="hljs-number">20%</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">3px</span>); <span class="hljs-comment">/* å®¹å™¨å³è¾¹ç¼˜ - çº¿æ¡å®½åº¦ */</span>
        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">3px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
      }
      <span class="hljs-number">25%</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">3px</span>);
        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">3px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
      }
      <span class="hljs-comment">/* å³è¾¹æ¡†ï¼šä¸Šâ†’ä¸‹æ‹‰ä¼¸ï¼ˆå®½åº¦å›ºå®š3pxï¼‰ */</span>
      <span class="hljs-number">40%</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">3px</span>);
        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">3px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>; <span class="hljs-comment">/* ç²¾å‡†åŒ¹é…å®¹å™¨é«˜åº¦ */</span>
      }
      <span class="hljs-comment">/* å³ä¸‹è§’æ”¶ç¼©åœé¡¿ï¼ˆ5%æ—¶é•¿ï¼‰ */</span>
      <span class="hljs-number">45%</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">3px</span>);
        <span class="hljs-attribute">top</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">3px</span>); <span class="hljs-comment">/* å®¹å™¨ä¸‹è¾¹ç¼˜ - çº¿æ¡å®½åº¦ */</span>
        <span class="hljs-attribute">width</span>: <span class="hljs-number">3px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
      }
      <span class="hljs-number">50%</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">3px</span>);
        <span class="hljs-attribute">top</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">3px</span>);
        <span class="hljs-attribute">width</span>: <span class="hljs-number">3px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
      }
      <span class="hljs-comment">/* ä¸‹è¾¹æ¡†ï¼šå³â†’å·¦æ‹‰ä¼¸ï¼ˆé«˜åº¦å›ºå®š3pxï¼‰ */</span>
      <span class="hljs-number">65%</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">top</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">3px</span>);
        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
      }
      <span class="hljs-comment">/* å·¦ä¸‹è§’æ”¶ç¼©åœé¡¿ï¼ˆ5%æ—¶é•¿ï¼‰ */</span>
      <span class="hljs-number">70%</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">top</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">3px</span>);
        <span class="hljs-attribute">width</span>: <span class="hljs-number">3px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
      }
      <span class="hljs-number">75%</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">top</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">100%</span> - <span class="hljs-number">3px</span>);
        <span class="hljs-attribute">width</span>: <span class="hljs-number">3px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
      }
      <span class="hljs-comment">/* å·¦è¾¹æ¡†ï¼šä¸‹â†’ä¸Šæ‹‰ä¼¸ï¼ˆå®½åº¦å›ºå®š3pxï¼‰ */</span>
      <span class="hljs-number">85%</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">3px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
      }
      <span class="hljs-comment">/* å·¦ä¸Šè§’æ”¶ç¼©åœé¡¿ï¼ˆ10%æ—¶é•¿ï¼Œé—­ç¯è¿‡æ¸¡ï¼‰ */</span>
      <span class="hljs-number">90%</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">3px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
      }
      <span class="hljs-number">100%</span> {
        <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">3px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">3px</span>;
      }
    }

    <span class="hljs-comment">/* å‘¼å¸å‘å…‰åŠ¨ç”»ï¼šå¢å¼ºè§†è§‰å†²å‡» */</span>
    <span class="hljs-keyword">@keyframes</span> glow {
      <span class="hljs-selector-tag">from</span> {
        <span class="hljs-attribute">box-shadow</span>:
          <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">119</span>, <span class="hljs-number">182</span>, <span class="hljs-number">0.7</span>),
          <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">30px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">150</span>, <span class="hljs-number">199</span>, <span class="hljs-number">0.5</span>),
          <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">45px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">245</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.3</span>),
          inset <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">10px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">119</span>, <span class="hljs-number">182</span>, <span class="hljs-number">0.4</span>);
      }
      <span class="hljs-selector-tag">to</span> {
        <span class="hljs-attribute">box-shadow</span>:
          <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">30px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">119</span>, <span class="hljs-number">182</span>, <span class="hljs-number">0.9</span>),
          <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">60px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">150</span>, <span class="hljs-number">199</span>, <span class="hljs-number">0.7</span>),
          <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">80px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">245</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.5</span>),
          inset <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">20px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">119</span>, <span class="hljs-number">182</span>, <span class="hljs-number">0.6</span>);
      }
    }
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h2 data-id="heading-2">å…³é”®å®ç°é€»è¾‘è§£æ</h2>
<h3 data-id="heading-3">1. çº¿æ¡ç´§è´´è¾¹æ¡†çš„æ ¸å¿ƒè®¾è®¡</h3>
<ul>
<li>åæ ‡å®šä½ï¼š<code>top: 0</code>Â å’ŒÂ <code>left: 0</code>Â è®©çº¿æ¡ä»å®¹å™¨å·¦ä¸Šè§’è¾¹æ¡†å¼€å§‹ï¼Œæ— ä»»ä½•åç§»</li>
<li>å°ºå¯¸è®¡ç®—ï¼šæ‹‰ä¼¸æ—¶ä½¿ç”¨Â <code>width: 100%</code>/<code>height: 100%</code>Â ç²¾å‡†åŒ¹é…å®¹å™¨å°ºå¯¸ï¼Œæ‹è§’å¤„é€šè¿‡Â <code>calc(100% - 3px)</code>Â è®¡ç®—ä½ç½®ï¼ˆå®¹å™¨è¾¹ç¼˜ - çº¿æ¡å®½åº¦ï¼‰ï¼Œç¡®ä¿å®Œå…¨è´´åˆ</li>
<li>å±‚çº§æ§åˆ¶ï¼š<code>z-index: 1</code>Â è®©çº¿æ¡å¤„äºå†…å®¹æ¡†ä¸‹æ–¹ï¼Œä¸é®æŒ¡å†…éƒ¨å†…å®¹</li>
</ul>
<h3 data-id="heading-4">2. ä¸æ»‘æµåŠ¨çš„åŠ¨ç”»è®¾è®¡</h3>
<ul>
<li>å•ç»´åº¦æ‹‰ä¼¸ï¼šæ¯ä¸ªæ‹‰ä¼¸é˜¶æ®µåªå˜åŒ–ä¸€ä¸ªç»´åº¦ï¼ˆè¦ä¹ˆå®½ã€è¦ä¹ˆé«˜ï¼‰ï¼Œå¦ä¸€ä¸ªç»´åº¦å›ºå®š 3pxï¼Œé¿å…åŒæ­¥å˜åŒ–å¯¼è‡´çš„é¡¿æŒ«æ„Ÿ</li>
<li>æ‹è§’åœé¡¿ï¼šæ¯ä¸ªæ‹è§’è®¾ç½® 5% çš„åœé¡¿æ—¶é•¿ï¼ˆå¦‚ 20%-25%ã€45%-50%ï¼‰ï¼Œè®©çº¿æ¡åœ¨æ‹è§’å¤„ "ç«™ç¨³" åå†ç»§ç»­æµåŠ¨ï¼Œè¿‡æ¸¡æ›´è‡ªç„¶</li>
<li>çº¿æ€§èŠ‚å¥ï¼š<code>linear</code>Â åŠ¨ç”» timing å‡½æ•°ç¡®ä¿å…¨ç¨‹é€Ÿåº¦å‡åŒ€ï¼Œæ— å¿«æ…¢æ³¢åŠ¨</li>
</ul>
<h3 data-id="heading-5">3. é«˜äº®æ•ˆæœçš„è§†è§‰ä¼˜åŒ–</h3>
<ul>
<li>æ¸å˜åº•è‰²ï¼šè“ç´«æ¸å˜ï¼ˆ<code>rgba(0,245,255,0.6)</code>Â åˆ°Â <code>rgba(110,0,255,0.6)</code>ï¼‰å¢å¼ºç§‘æŠ€æ„Ÿï¼Œé€æ˜åº¦æ§åˆ¶é¿å…è¿‡äºåˆºçœ¼</li>
<li>å¤šå±‚é˜´å½±ï¼šå¤–å±‚é˜´å½±æ‰©å¤§å‘å…‰èŒƒå›´ï¼Œå†…å±‚é˜´å½±å¢å¼ºçº¿æ¡æœ¬èº«äº®åº¦ï¼Œå½¢æˆç«‹ä½“å‘å…‰æ•ˆæœ</li>
<li>å‘¼å¸åŠ¨ç”»ï¼š<code>glow</code>Â åŠ¨ç”»é€šè¿‡åˆ‡æ¢é˜´å½±å¼ºåº¦ï¼Œå®ç°å‘¼å¸å¼å‘å…‰ï¼Œæå‡è§†è§‰å±‚æ¬¡æ„Ÿ</li>
</ul>
<h2 data-id="heading-6">çµæ´»é€‚é…æŒ‡å—</h2>
<h3 data-id="heading-7">1. å®¹å™¨å½¢æ€é€‚é…ï¼ˆæ­£æ–¹å½¢â†’é•¿æ–¹å½¢ï¼‰</h3>
<ul>
<li>
<p>æ­£æ–¹å½¢ï¼šä¿æŒÂ <code>container</code>Â çš„Â <code>width</code>Â å’ŒÂ <code>height</code>Â ç›¸ç­‰ï¼ˆå¦‚ 200pxÃ—200pxï¼‰ï¼ŒåŠ¨ç”»æ— éœ€ä¿®æ”¹</p>
</li>
<li>
<p>é•¿æ–¹å½¢ï¼šä¿®æ”¹Â <code>container</code>Â çš„å®½é«˜æ¯”ä¾‹ï¼ˆå¦‚å®½åº¦ 52%ã€é«˜åº¦ 20%ï¼‰ï¼ŒåŠ¨ç”»ä¼šè‡ªåŠ¨é€‚é…ï¼Œçº¿æ¡å§‹ç»ˆç´§è´´è¾¹æ¡†</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼šå¦‚éœ€é€‚é…å±å¹•é«˜åº¦ 20%ã€å®½åº¦ 52% çš„å®¹å™¨ï¼Œåªéœ€ä¿®æ”¹ï¼š</p>
<p>css</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">52%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">20vh</span>; <span class="hljs-comment">/* å±å¹•é«˜åº¦çš„20% */</span>
}
</code></pre>
</li>
</ul>
<h3 data-id="heading-8">2. æ ·å¼è‡ªå®šä¹‰è°ƒæ•´</h3>
<ul>
<li>
<p>çº¿æ¡å®½åº¦ï¼šä¿®æ”¹Â <code>.container::before</code>Â ä¸­çš„Â <code>width: 3px</code>ï¼ˆå¦‚ 2px æ›´çº¤ç»†ï¼Œ4px æ›´ç²—å®ï¼‰</p>
</li>
<li>
<p>é¢œè‰²è°ƒæ•´ï¼šä¿®æ”¹Â <code>background</code>Â ä¸­çš„æ¸å˜è‰²å€¼ï¼ˆå¦‚çº¯è“è‰²Â <code>rgba(0,200,255,0.7)</code>ï¼‰</p>
</li>
<li>
<p>åŠ¨ç”»é€Ÿåº¦ï¼š</p>
<ul>
<li>æµåŠ¨é€Ÿåº¦ï¼šè°ƒæ•´Â <code>flow</code>Â åŠ¨ç”»çš„Â <code>6s</code>ï¼ˆæ•°å€¼è¶Šå°è¶Šå¿«ï¼Œå¦‚ 4s æ›´æ€¥ä¿ƒï¼Œ8s æ›´èˆ’ç¼“ï¼‰</li>
<li>å‘¼å¸é€Ÿåº¦ï¼šè°ƒæ•´Â <code>glow</code>Â åŠ¨ç”»çš„Â <code>3s</code></li>
</ul>
</li>
<li>
<p>å‘å…‰å¼ºåº¦ï¼šä¿®æ”¹Â <code>glow</code>Â åŠ¨ç”»ä¸­çš„é˜´å½±æ•°å€¼ï¼ˆæ•°å€¼è¶Šå¤§å‘å…‰è¶Šå¼ºï¼Œåä¹‹åˆ™è¶ŠæŸ”å’Œï¼‰</p>
</li>
</ul>
<h3 data-id="heading-9">3. åº”ç”¨åœºæ™¯æ‰©å±•</h3>
<ul>
<li>æ•°æ®å¯è§†åŒ–å¤§å±ï¼šæ­é…æ·±è‰²èƒŒæ™¯å’Œæ•°æ®ç»„ä»¶ï¼Œæå‡ç§‘æŠ€æ„Ÿ</li>
<li>åå°ç®¡ç†ç³»ç»Ÿï¼šç”¨äºå¡ç‰‡ã€é¢æ¿è¾¹æ¡†ï¼Œå¢å¼ºç•Œé¢å±‚æ¬¡</li>
<li>å±•ç¤ºå‹ç½‘ç«™ï¼šç”¨äºé‡ç‚¹å†…å®¹åŒºå—è¾¹æ¡†ï¼Œå¸å¼•ç”¨æˆ·æ³¨æ„åŠ›</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Elpis Webpackå·¥ç¨‹åŒ–Â·è‡ªæˆ‘å­¦ä¹ æ€»ç»“]]></title>    <link>https://juejin.cn/post/7582156410319454218</link>    <guid>https://juejin.cn/post/7582156410319454218</guid>    <pubDate>2025-12-11T04:16:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582156410319454218" data-draft-id="7577256255084609545" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Elpis Webpackå·¥ç¨‹åŒ–Â·è‡ªæˆ‘å­¦ä¹ æ€»ç»“"/> <meta itemprop="keywords" content="Webpack,å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2025-12-11T04:16:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸€å¿µä¹‹é—´lq"/> <meta itemprop="url" content="https://juejin.cn/user/2541726616524583"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Elpis Webpackå·¥ç¨‹åŒ–Â·è‡ªæˆ‘å­¦ä¹ æ€»ç»“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2541726616524583/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸€å¿µä¹‹é—´lq
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T04:16:09.000Z" title="Thu Dec 11 2025 04:16:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="agate">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#333;color:#fff}.hljs-name,.hljs-strong{font-weight:700}.hljs-code,.hljs-emphasis{font-style:italic}.hljs-tag{color:#62c8f3}.hljs-selector-class,.hljs-selector-id,.hljs-template-variable,.hljs-variable{color:#ade5fc}.hljs-bullet,.hljs-string{color:#a2fca2}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-quote,.hljs-section,.hljs-title,.hljs-type{color:#ffa}.hljs-bullet,.hljs-number,.hljs-symbol{color:#d36363}.hljs-keyword,.hljs-literal,.hljs-selector-tag{color:#fcc28c}.hljs-code,.hljs-comment,.hljs-deletion{color:#888}.hljs-link,.hljs-regexp{color:#c6b4f0}.hljs-meta{color:#fc9b9b}.hljs-deletion{background-color:#fc9b9b;color:#333}.hljs-addition{background-color:#a2fca2;color:#333}.hljs a{color:inherit}.hljs a:focus,.hljs a:hover{color:inherit;text-decoration:underline}</style><h2 data-id="heading-0">ä¸€.è®¤è¯†Webpack</h2>
<p>webpackæ˜¯ä¸€ä¸ªç°ä»£JavaScriptåº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨ã€‚å®ƒä¸»è¦ç”¨äºå°†å¤šä¸ªæ¨¡å—ï¼ˆåŒ…æ‹¬JavaScriptã€CSSã€å›¾ç‰‡ç­‰ï¼‰æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ªbundleæ–‡ä»¶ï¼Œä»¥ä¾¿åœ¨æµè§ˆå™¨ä¸­é«˜æ•ˆåŠ è½½ã€‚</p>
<p>webpackçš„ä½œç”¨ï¼š</p>
<ol>
<li>æ¨¡å—æ‰“åŒ…ï¼šå°†å¤šä¸ªæ¨¡å—æŒ‰ç…§ä¾èµ–å…³ç³»æ‰“åŒ…æˆé™æ€èµ„æºï¼Œå‡å°‘HTTPè¯·æ±‚æ¬¡æ•°ã€‚</li>
<li>ç¼–è¯‘è½¬æ¢ï¼šé€šè¿‡åŠ è½½å™¨ï¼ˆloaderï¼‰å°†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼ˆå¦‚TypeScriptã€CSSã€å›¾ç‰‡ã€å­—ä½“ï¼‰è½¬æ¢æˆæµè§ˆå™¨å¯è¯†åˆ«çš„æ ¼å¼ã€‚</li>
<li>ä»£ç åˆ†å‰²ï¼šå°†ä»£ç æ‹†åˆ†æˆå¤šä¸ªå—ï¼Œå®ç°æŒ‰éœ€åŠ è½½ï¼Œæé«˜é¦–å±åŠ è½½é€Ÿåº¦ã€‚</li>
<li>æ’ä»¶ç³»ç»Ÿï¼šé€šè¿‡æ’ä»¶ï¼ˆpluginï¼‰æ‰©å±•åŠŸèƒ½ï¼Œå¦‚ä¼˜åŒ–ã€å‹ç¼©ã€ç¯å¢ƒå˜é‡æ³¨å…¥ç­‰ã€‚</li>
<li>å¼€å‘æœåŠ¡å™¨ï¼šæä¾›çƒ­é‡è½½ï¼ˆhot reloadï¼‰åŠŸèƒ½ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚</li>
</ol>
<h2 data-id="heading-1">äºŒ.Webpackæ„å»ºæµç¨‹</h2>
<h3 data-id="heading-2">1.è¯»å–é…ç½®æ–‡ä»¶</h3>
<p>Webpackä¼šè¯»å–å‘½ä»¤è¡Œä¼ å…¥çš„å‚æ•°ä»¥åŠé¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶(webpack.config.js),åˆå¹¶æˆæœ€ç»ˆé…ç½®ã€‚</p>
<h3 data-id="heading-3">2.åˆ›å»º Compiler å¯¹è±¡</h3>
<p>æ ¹æ®ä¸Šé¢çš„é…ç½®åˆ›å»º Webpack çš„æ ¸å¿ƒå¯¹è±¡Â <code>Compiler</code>,å¹¶æ³¨å†Œæ‰€æœ‰é…ç½®çš„æ’ä»¶,æ‰§è¡Œæ’ä»¶çš„Â <code>apply</code>æ–¹æ³•</p>
<h3 data-id="heading-4">3.è§£æEntryå…¥å£æ–‡ä»¶</h3>
<p>ä¸ºæ¯ä¸ªEntry å…¥å£æ–‡ä»¶åˆ›å»ºModuleå¯¹è±¡,å°†å…¥å£æ¨¡å—æ·»åŠ åˆ°ç¼–è¯‘ä¾èµ–å›¾ä¸­</p>
<h3 data-id="heading-5">4.Loaderæ¨¡å—è½¬æ¢</h3>
<p>æ ¹æ®æ¨¡å—æ–‡ä»¶ç±»å‹(js,css,.vue,.ts)åŒ¹é…å¯¹åº”çš„Loader,Loaderä»å·¦åˆ°å³(ä»ä¸Šåˆ°ä¸‹)é¡ºåºæ‰§è¡Œ,å°†æ¨¡å—å†…å®¹è½¬åŒ–ä¸ºJavaScriptæ¨¡å—,Loaderç¿»è¯‘å®Œæˆå,Webpackå°†jsä»£ç è½¬æ¢æˆAST(æŠ½è±¡è¯­æ³•æ ‘)</p>
<h3 data-id="heading-6">5.åˆ†æä¾èµ–</h3>
<p>åœ¨ä¸­ASTéå†å¯»æ‰¾import,requireç­‰ä¾èµ–,é’ˆå¯¹æ¯ä¸ªæ¨¡å—è¿›è¡Œ"Loaderè½¬æ¢ -&gt; ASTè§£æ -&gt; åˆ†æä¾èµ–"</p>
<h3 data-id="heading-7">6.å°è£…æ¨¡å—</h3>
<p>è¿™é‡Œé€šè¿‡<code>seal()</code>æ‰€æœ‰æ¨¡å—ç¼–è¯‘å®Œæˆï¼Œå¾—åˆ°æ¨¡å—ä¾èµ–å›¾</p>
<blockquote>
<p>Tree Shaking ä¼˜åŒ–(æ ‡è®°æœªä½¿ç”¨çš„å¯¼å‡º,å‡å°‘æ— ç”¨çš„ä¾èµ–):Webpack ä¾é ES6 Module çš„é™æ€ç»“æ„,åˆ†æå‡ºé‚£äº›export æ²¡è¢«å¼•ç”¨,å†ä¸‹ä¸€æ­¥çš„Chunkä»£ç ä¸­è¿›è¡Œç§»é™¤</p>
</blockquote>
<h3 data-id="heading-8">7.ç»„è£…Chunkæ–‡ä»¶</h3>
<p>æ ¹æ®å…¥å£æ–‡ä»¶(Entry)å’Œä»£ç åˆ†å‰²(splitChunks)è§„åˆ™,Webpackåˆå¹¶æˆä¸€ä¸ªæˆ–å¤šä¸ªChunk ä»£ç å—</p>
<h3 data-id="heading-9">8.è¾“å‡ºæ–‡ä»¶</h3>
<p>Webpack ä¼šæ ¹æ®é…ç½®çš„<code>output.path</code>,<code>output.feilname</code>,å°†æ–‡ä»¶å†™å…¥ç£ç›˜ä¸­,ä¸€èˆ¬ç”Ÿæˆä¸€ä¸ªæ–°çš„<code>dist</code>æ–‡ä»¶å¤¹</p>
<h2 data-id="heading-10">ä¸‰.Webpackçš„æ ¸å¿ƒæ¦‚å¿µ</h2>
<h3 data-id="heading-11">1. å…¥å£æ–‡ä»¶(Entry)</h3>
<p><code>Entry</code>æ˜¯webpackæ„å»ºè¿‡ç¨‹çš„èµ·ç‚¹,ä»å…¥å£å¼€å§‹é€’å½’åœ°æ„å»ºæˆä¸€ä¸ªä¾èµ–å›¾,å°†æ¯ä¸ªæ¨¡å—æ‰“åŒ…åˆ°ä¸€èµ·,æœ€ç»ˆç”Ÿæˆä¸€ä¸ª<code>xxxx.bundle.js</code>æ–‡ä»¶äº§ç‰©ã€‚å…¥å£å¯ä»¥é…ç½®å•å…¥å£æˆ–å¤šå…¥å£ã€‚</p>
<ul>
<li>å•å…¥å£: åªæœ‰ä¸€ä¸ªå…¥å£æ–‡ä»¶çš„å¼•å…¥,åªç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„bundle.jsæ–‡ä»¶</li>
<li>å¤šå…¥å£: æ‹¥æœ‰å¤šä¸ªå…¥å£æ–‡ä»¶çš„å¼•å…¥,ç”Ÿæˆå¤šä¸ªå¯¹åº”çš„bundle.jsæ–‡ä»¶</li>
</ul>
<p>ä¸ç®¡å•å…¥å£è¿˜æ˜¯å¤šå…¥å£çš„æ–‡ä»¶æœ€ç»ˆäº§ç‰©ç”Ÿæˆçš„æ˜¯<code>bundle.js</code>æ–‡ä»¶,åªæ˜¯ç”Ÿæˆæ•°é‡çš„é—®é¢˜,æœ€ç»ˆæˆ‘ä»¬æ˜¯éœ€è¦å°†å¼•å…¥åˆ°é¡µé¢ä¸­è¿›è¡Œä¸šåŠ¡çš„å‘ˆç°ã€‚æ­¤æ—¶Webpackä¸­ä½¿ç”¨<code>html-webpack-plugin</code>æ’ä»¶ä¼šå°†æˆ‘ä»¬çš„<code>bundle.js</code>æ–‡ä»¶è‡ªåŠ¨å¼•å…¥åˆ°æˆ‘ä»¬æŒ‡å®šçš„é¡µé¢ä¸­ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// html-webpack-plugin ä½¿ç”¨é€»è¾‘</span>
<span class="hljs-comment">//åŠ¨æ€æ„é€  entry å…¥å£å¯¹è±¡å’Œ html-webpack-plugin æ’ä»¶å®ä¾‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'html-webpack-plugin'</span>)

<span class="hljs-keyword">const</span> pageEntries = {}
<span class="hljs-keyword">const</span> htmlWebpackPluginList = []
<span class="hljs-comment">//è‡ªåŠ¨åŠ è½½app/pagesç›®å½•ä¸‹çš„å…¥å£æ–‡ä»¶</span>
<span class="hljs-keyword">const</span> entryList = glob.<span class="hljs-title function_">sync</span>(path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/pages/**/entry.*.js'</span>))
entryList.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> entryName = path.<span class="hljs-title function_">basename</span>(filePath, <span class="hljs-string">'.js'</span>)
  <span class="hljs-comment">//æ„é€ entryå¯¹è±¡</span>
  pageEntries[entryName] = filePath
  <span class="hljs-comment">//æ„é€ æœ€ç»ˆæ¸²æŸ“çš„é¡µé¢æ–‡ä»¶</span>
  htmlWebpackPluginList.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>({
    <span class="hljs-comment">//äº§ç‰© (æœ€ç»ˆæœ«ç­) è¾“å‡ºè·¯å¾„</span>
    <span class="hljs-attr">filename</span>: path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/public/dist/'</span>, <span class="hljs-string">`<span class="hljs-subst">${entryName}</span>.tpl`</span>),
    <span class="hljs-comment">//æŒ‡å®šè¦ä½¿ç”¨çš„æ¨¡æ¿æ–‡ä»¶</span>
    <span class="hljs-attr">template</span>: path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/view/entry.tpl'</span>),
    <span class="hljs-comment">//è¦æ³¨å…¥çš„ä»£ç å—</span>
    <span class="hljs-attr">chunks</span>: [entryName],
  }))
})

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
   <span class="hljs-comment">//å…¥å£é…ç½®</span>
  <span class="hljs-attr">entry</span>: pageEntries,
  <span class="hljs-attr">plugins</span>:[
     ...htmlWebpackPluginList
  ]
}

</code></pre>
<blockquote>
<p>å› ä¸ºåœ¨å¤šå…¥å£çš„é…ç½®è¿‡ç¨‹ä¸­,æˆ‘ä»¬éœ€è¦å°†è¿›è¡Œ <code>new HtmlWebpackPlugin</code> è¯¥æ“ä½œæ¥å°†<code>bundle.js</code>è‡ªåŠ¨æ³¨å…¥é¡µé¢æ¨¡ç‰ˆä¸­, å¦‚æœå…¥å£æ•°é‡è¿‡å¤šéœ€è¦å¤šæ¬¡ <code>new HtmlWebpackPlugin</code> æ“ä½œ,æ‰€ä»¥é‡‡ç”¨åŠ¨æ€æ„å»ºæ¥å®Œæˆjsä»£ç æ³¨å…¥å·¥ä½œã€‚å½“ç„¶é¡¹ç›®æ˜¯ä¸ªå•å…¥å£çš„é…ç½®æ—¶,æŒ‰ç…§Webpackçš„é…ç½®è¿›è¡Œå•ç‹¬é…ç½®å°±è¡Œ,æ²¡æœ‰å¤šæ¬¡ç¼–å†™çš„éº»çƒ¦ã€‚</p>
</blockquote>
<h3 data-id="heading-12">2. åŠ è½½å™¨(Loaders)</h3>
<p>å°†é JavaScript æ¨¡å—è½¬æ¢ä¸º webpack èƒ½å¤Ÿå¤„ç†çš„æ¨¡å—ï¼Œå³ webpack æœ¬èº«åªæ”¯æŒ JavaScriptï¼Œé€šè¿‡åŠ è½½å™¨å¯ä»¥å°†å…¶ä»–ç±»å‹çš„èµ„æºï¼ˆå¦‚ CSSã€å›¾ç‰‡ã€TypeScript ç­‰ï¼‰è½¬æ¢ä¸ºæœ‰æ•ˆçš„æ¨¡å—ã€‚</p>
<p>å¸¸ç”¨Loaders:</p>
<ul>
<li>babel-loader:å°†ES 6è½¬æ¢ä¸ºå‘åå…¼å®¹çš„JSç‰ˆæœ¬,è§£å†³ä¸åŒæµè§ˆå™¨ä¹‹é—´çš„å…¼å®¹æ€§é—®é¢˜</li>
<li>css-loader: è§£æ CSS æ–‡ä»¶ä¸­çš„ @import å’Œ url(),ä¸»è¦æ˜¯åˆ†æcssä¸­æ¨¡å—ä¾èµ–å…³ç³»</li>
<li>style-loader :å°†CSSæ³¨å…¥é¡µé¢ä¸­å»,ä¸€èˆ¬é…åˆç€<code>css-loader</code>ä¸€èµ·ä½¿ç”¨</li>
<li>sass-loader/less-loader: å°†sass/less ç¼–è¯‘ä¸ºä¸ºCSS.</li>
<li>file-loader :å°†æ–‡ä»¶å¤åˆ¶åˆ°è¾“å‡ºç›®å½•å¹¶è¿”å› public URL</li>
<li>url-loader: ç±»ä¼¼äº file-loaderï¼Œä½†å¯ä»¥è®¾ç½®æ–‡ä»¶å¤§å°é™åˆ¶,å°†å°æ–‡ä»¶è½¬æ¢ä¸ºBase64ç¼–ç çš„Data url</li>
<li>vue-loader :ç”¨æ¥è§£æå’Œè½¬æ¢(æ¨¡ç‰ˆ,è„šæœ¬,æ ·å¼)<code>.vue</code>æ–‡ä»¶</li>
</ul>
<p>å¦‚ä½•å®ç°ä¸€ä¸ªLoader åŠ è½½å™¨:</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// my-loader.js </span>
<span class="hljs-comment">// è‡ªå®šä¹‰ loader: å»é™¤.vueæ–‡ä»¶ä¸­æ‰€æœ‰çš„console.log æ‰“å°</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">source</span>) {
    <span class="hljs-comment">// source: æ–‡ä»¶å†…å®¹ï¼ˆå­—ç¬¦ä¸²ï¼‰</span>
    <span class="hljs-comment">// this: loader ä¸Šä¸‹æ–‡å¯¹è±¡</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">query</span>); <span class="hljs-comment">//æ¥å— options é…ç½®å‚æ•°</span>
    <span class="hljs-keyword">const</span> closeConSource=source.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/console\.log\(.+?\);/g</span>, <span class="hljs-string">''</span>)
    <span class="hljs-keyword">return</span> closeConSource
}

<span class="hljs-comment">//è‡ªå®šä¹‰loader å¼•å…¥</span>
<span class="hljs-comment">//éµå¾ªç”±ä¸‹å¾€ä¸Šçš„è§„åˆ™,å…ˆæ‰§è¡Œè‡ªå®šä¹‰çš„loaderå†å»æ‰§è¡Œvue-loader</span>
{
   <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.vue$/</span>,
   <span class="hljs-attr">use</span>: [
     <span class="hljs-string">'vue-loader'</span>,
    {
      <span class="hljs-attr">loader</span>: path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">'../loaders/my-loader.js'</span>),
      <span class="hljs-attr">options</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">'my-loader'</span> }
     }
   ]
}

</code></pre>
<p>åœ¨ä½¿ç”¨vue-loader å¦‚ä½•è¿›è¡ŒæŸ¥æ‰¾é¡ºåº(ç”±è¿‘åˆ°è¿œ,ä¼˜å…ˆåˆ°é¡¹ç›®ç»“æ„å†…æŸ¥æ‰¾,å†åˆ°å…¨å±€è¿›è¡ŒæŸ¥æ‰¾)ï¼š</p>
<ul>
<li><strong>é¡¹ç›®æœ¬åœ°çš„ node_modules</strong>â€‹ (ä¼˜å…ˆ)</li>
<li><strong>ä¸Šçº§ç›®å½•çš„ node_modules</strong>â€‹ (é€’å½’å‘ä¸ŠæŸ¥æ‰¾)</li>
<li><strong>å…¨å±€å®‰è£…çš„ node_modules</strong></li>
</ul>
<h3 data-id="heading-13">3. æ’ä»¶(Plugins)</h3>
<p>æ’ä»¶æ˜¯ Webpack çš„æ‰©å±•åŠŸèƒ½ï¼Œæ‹¥æœ‰å¼ºå¤§çš„èƒ½åŠ›ã€‚è¦ä½¿ç”¨ä¸€ä¸ªæ’ä»¶ï¼Œä½ åªéœ€è¦Â <code>require()</code>å®ƒï¼Œç„¶åæŠŠå®ƒæ·»åŠ åˆ°Â <code>plugins</code>æ•°ç»„ä¸­ã€‚ä¾‹å¦‚<strong>æ‰“åŒ…ä¼˜åŒ–ã€èµ„æºç®¡ç†ã€ç¯å¢ƒå˜é‡æ³¨å…¥</strong>ç­‰éƒ½å¯ä»¥é€šè¿‡æ’ä»¶æ¥å®Œæˆ,å¯ä»¥åœ¨Webpack çš„æ•´ä¸ªç¼–è¯‘ç”Ÿå‘½å‘¨æœŸä¸­é€šè¿‡<code>hook</code>å‡½æ•°æ¥å¤„ç†å„ç§å¤æ‚çš„ä»»åŠ¡ã€‚</p>
<p>å¸¸è§çš„Plugins æ’ä»¶:</p>
<ul>
<li>HtmlWebpackPlugin :å°†æ„å»ºå¥½çš„<code>bundle</code>,è‡ªåŠ¨æ³¨å…¥åˆ°é¡µé¢æ¨¡ç‰ˆæ–‡ä»¶ä¸­</li>
<li>CleanWebpackPlugin :æ¯æ¬¡æ„å»ºå‰å°†ä¸Šä¸€æ¬¡çš„æ„å»ºäº§ç‰©åˆ é™¤</li>
<li>MiniCssExtractPlugin :å°† CSS ä»ä¸» JS æ–‡ä»¶ä¸­æå–å‡ºæ¥ï¼Œæˆä¸ºä¸€ä¸ªç‹¬ç«‹çš„ CSS æ–‡ä»¶ï¼ˆè€Œä¸æ˜¯åµŒåœ¨ JS é‡Œï¼‰ï¼Œåˆ©äºæµè§ˆå™¨ç¼“å­˜å’Œå¹¶è¡ŒåŠ è½½ã€‚</li>
<li>CopyWebpackPlugin: é€šå¸¸ç”¨äºå¤åˆ¶é™æ€æ–‡ä»¶(å›¾æ ‡,å­—ä½“)åˆ°è¾“å‡ºç›®å½•</li>
<li>DefinePlugin :å¯åœ¨ä»£ç ä¸­å®šä¹‰å…¨å±€å˜é‡,ç”¨äºåœ¨å¼€å‘å’Œç”Ÿäº§ä¸åŒç¯å¢ƒä¸‹é…ç½®ä½¿ç”¨</li>
<li>HotModuleReplacementPlugin: Webpackä¸­çƒ­æ¨¡å—æ›¿æ¢(HMR)åŠŸèƒ½,åœ¨å¼€å‘é˜¶æ®µèƒ½å®æ—¶æŸ¥çœ‹ä»£ç æ›´æ–°å˜åŒ–</li>
</ul>
<p>å¦‚ä½•å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„plugins</p>
<p>â‘ .é¦–å…ˆæˆ‘ä»¬è¦äº†è§£åœ¨Webpackä¸­ï¼Œæ’ä»¶æ˜¯ä¸€ä¸ªå…·æœ‰<code>apply</code>æ–¹æ³•çš„JavaScriptå¯¹è±¡ã€‚applyæ–¹æ³•ä¼šè¢«webpack compilerè°ƒç”¨ï¼Œå¹¶ä¸”åœ¨æ•´ä¸ªç¼–è¯‘ç”Ÿå‘½å‘¨æœŸéƒ½å¯ä»¥è®¿é—®compilerå¯¹è±¡ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCustomPlugin</span> {
  <span class="hljs-comment">// æ„é€ å‡½æ•°ï¼Œç”¨äºæ¥æ”¶é…ç½®é€‰é¡¹</span>
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = options;
  }
  <span class="hljs-comment">// apply æ–¹æ³•ï¼ŒWebpack ä¼šè‡ªåŠ¨è°ƒç”¨å¹¶ä¼ å…¥ compiler å¯¹è±¡</span>
  <span class="hljs-title function_">apply</span>(<span class="hljs-params">compiler</span>) {
    <span class="hljs-comment">// åœ¨è¿™é‡Œæ³¨å†Œhookå‡½æ•°</span>
  }
}
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title class_">MyCustomPlugin</span>;
</code></pre>
<p>â‘¡.äº†è§£webpackä¸åŒ<code>Hookå‡½æ•°</code>çš„è°ƒç”¨æ—¶æœŸ,è¿™æ ·ç¡®è®¤æˆ‘ä»¬ç¼–å†™çš„è‡ªå®šä¹‰pluginsåŠŸèƒ½åœ¨å¯¹åº”çš„Hookå‡½æ•°ä¸‹é¢è¿›è¡Œ,ä½†æ˜¯Hookå‡½æ•°çš„ç±»å‹ä¸åŒ(åŒæ­¥/å¼‚æ­¥)æˆ‘ä»¬æ³¨å†Œäº‹ä»¶çš„æ–¹å¼ä¹Ÿä¸ä¸€æ ·,ä¾‹å¦‚å¸¸è§çš„æœ‰ <code>tap</code>, <code>tapAsync</code>, <code>tapPromise</code>ç­‰,æ ¹æ®å‘½åæˆ‘å°±å¯ä»¥æ¨æ–­<code>tap</code>å¤„ç†åŒæ­¥,<code>tapAsync</code>å¤„ç†å¼‚æ­¥,ä»¥åŠåœ¨éƒ¨åˆ†åœºæ™¯å¿…é¡»è¿”å›Promiseæ—¶ä½¿ç”¨<code>tapPromise</code>ã€‚</p>













































<table><thead><tr><th>Hook åç§°</th><th>ç±»å‹</th><th>è°ƒç”¨æ—¶æœº</th></tr></thead><tbody><tr><td><code>entryOption</code></td><td>SyncBailHook</td><td>åœ¨ webpack é€‰é¡¹ä¸­çš„ entry è¢«å¤„ç†ä¹‹å</td></tr><tr><td><code>compile</code></td><td>SyncHook</td><td>å¼€å§‹ç¼–è¯‘ä¹‹å‰</td></tr><tr><td><code>compilation</code></td><td>SyncHook</td><td>ç¼–è¯‘åˆ›å»ºä¹‹å</td></tr><tr><td><code>emit</code></td><td>AsyncSeriesHook</td><td>ç”Ÿæˆèµ„æºåˆ° output ç›®å½•ä¹‹å‰</td></tr><tr><td><code>afterEmit</code></td><td>AsyncSeriesHook</td><td>ç”Ÿæˆèµ„æºåˆ° output ç›®å½•ä¹‹å</td></tr><tr><td><code>done</code></td><td>SyncHook</td><td>ç¼–è¯‘å®Œæˆ</td></tr><tr><td><code>failed</code></td><td>SyncHook</td><td>ç¼–è¯‘å¤±è´¥</td></tr></tbody></table>
<p>â‘¢.æ¥å®ç°æ§åˆ¶å°æ‰“å°è¾“å‡ºæ‰“åŒ…æ„å»ºæ—¶é—´ã€å„ä¸ªäº§ç‰©æ–‡ä»¶å¤§å°ä¿¡æ¯ä¸æºå¸¦æ–°ç”Ÿæˆç‰ˆæœ¬ä¿¡æ¯æ–‡ä»¶çš„plugins</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCustomPlugin</span> {
    <span class="hljs-comment">// æ„é€ å‡½æ•°ï¼Œç”¨äºæ¥æ”¶é…ç½®é€‰é¡¹</span>
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">options = {}</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = options
    }
    <span class="hljs-comment">// apply æ–¹æ³•ï¼ŒWebpack ä¼šè‡ªåŠ¨è°ƒç”¨å¹¶ä¼ å…¥ compiler å¯¹è±¡</span>
    <span class="hljs-title function_">apply</span>(<span class="hljs-params">compiler</span>) {
        <span class="hljs-comment">// æ’ä»¶é€»è¾‘</span>
        <span class="hljs-comment">// 1. åœ¨ç¼–è¯‘å¼€å§‹å‰æ‰§è¡Œ</span>
        compiler.<span class="hljs-property">hooks</span>.<span class="hljs-property">beforeRun</span>.<span class="hljs-title function_">tap</span>(<span class="hljs-string">'MyCustomPlugin'</span>, <span class="hljs-function">(<span class="hljs-params">compilation</span>) =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸš€ å¼€å§‹ç¼–è¯‘...`</span>);
        });
        <span class="hljs-comment">// 2. åœ¨ç¼–è¯‘å®Œæˆåæ‰§è¡Œ</span>
        compiler.<span class="hljs-property">hooks</span>.<span class="hljs-property">done</span>.<span class="hljs-title function_">tap</span>(<span class="hljs-string">'MyCustomPlugin'</span>, <span class="hljs-function">(<span class="hljs-params">stats</span>) =&gt;</span> {
            <span class="hljs-keyword">const</span> compilation = stats.<span class="hljs-property">compilation</span>;
            <span class="hljs-keyword">const</span> endTime = stats.<span class="hljs-property">endTime</span>;
            <span class="hljs-keyword">const</span> startTime = stats.<span class="hljs-property">startTime</span>;
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`âœ… : ç¼–è¯‘å®Œæˆï¼`</span>);

            <span class="hljs-comment">//è¾“å‡ºæ„å»ºæ—¶é—´</span>
            <span class="hljs-keyword">const</span> buildTime = (endTime - startTime) / <span class="hljs-number">1000</span>;
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`â° æ„å»ºæ—¶é—´: <span class="hljs-subst">${buildTime.toFixed(<span class="hljs-number">2</span>)}</span>s`</span>);

            <span class="hljs-comment">//è¾“å‡ºèµ„æºå¤§å°ä¿¡æ¯</span>
            <span class="hljs-keyword">const</span> assets = compilation.<span class="hljs-property">assets</span>;
            <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(assets).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">assetName</span> =&gt;</span> {
                <span class="hljs-keyword">const</span> size = assets[assetName].<span class="hljs-title function_">size</span>();
                <span class="hljs-keyword">const</span> sizeKb = (size / <span class="hljs-number">1024</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>);
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ğŸ“¦ <span class="hljs-subst">${assetName}</span>: <span class="hljs-subst">${sizeKb}</span> KB`</span>);
            });
        });
        <span class="hljs-comment">// 3. åœ¨èµ„æºè¾“å‡ºåˆ°ç›®å½•å‰æ‰§è¡Œï¼ˆå¯ä»¥ä¿®æ”¹è¾“å‡ºå†…å®¹ï¼‰</span>
        compiler.<span class="hljs-property">hooks</span>.<span class="hljs-property">emit</span>.<span class="hljs-title function_">tapAsync</span>(<span class="hljs-string">'MyCustomPlugin'</span>, <span class="hljs-function">(<span class="hljs-params">compilation, callback</span>) =&gt;</span> {
            <span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç‰ˆæœ¬ä¿¡æ¯æ–‡ä»¶</span>
            <span class="hljs-keyword">const</span> buildInfo = {
                <span class="hljs-attr">buildTime</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocaleString</span>(),
                <span class="hljs-attr">hash</span>: compilation.<span class="hljs-property">hash</span>,
                <span class="hljs-attr">version</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">package_version</span> || <span class="hljs-string">'1.0.0'</span>
            };
            <span class="hljs-comment">// å°†ä¿¡æ¯æ·»åŠ åˆ°ç¼–è¯‘èµ„æºä¸­</span>
            compilation.<span class="hljs-property">assets</span>[<span class="hljs-string">'build-info.json'</span>] = {
                <span class="hljs-attr">source</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
                    <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(buildInfo, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>);
                },
                <span class="hljs-attr">size</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
                    <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(buildInfo).<span class="hljs-property">length</span>;
                }
            };
            <span class="hljs-title function_">callback</span>();
        });
    }
}
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title class_">MyCustomPlugin</span>;
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acc02ed91bbe4f7d87fefb0dc51df58f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LiA5b-15LmL6Ze0bHE=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766031369&amp;x-signature=q89G6QVoZrp%2BLEg1ATfbto6eqjo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-14">4. ä¼˜åŒ–äº§ç‰©è¾“å‡º(Optimization)</h3>
<p>optimizationé…ç½®é¡¹çš„ä¸»è¦ç›®çš„æ˜¯<strong>æ§åˆ¶æ‰“åŒ…äº§ç‰©çš„ä¼˜åŒ–è¡Œä¸º</strong>ã€‚</p>
<p>å®ƒçš„æ ¸å¿ƒç›®æ ‡å¯ä»¥å½’ç»“ä¸ºä¸‰ç‚¹ï¼š</p>
<ol>
<li><strong>å‡å°æ‰“åŒ…ä½“ç§¯</strong> ï¼šé€šè¿‡å‹ç¼©ã€æ‘‡æ ‘ã€ä½œç”¨åŸŸæå‡ç­‰æŠ€æœ¯ï¼Œç§»é™¤æ— æ•ˆä»£ç ï¼Œå‡å°æ–‡ä»¶å¤§å°ã€‚</li>
<li><strong>æå‡è¿è¡Œæ€§èƒ½</strong> ï¼šé€šè¿‡ä»£ç åˆ†å‰²ç­‰æ–¹å¼ï¼Œå®ç°æŒ‰éœ€åŠ è½½ï¼Œå‡å°‘åˆå§‹åŠ è½½æ—¶é—´ã€‚</li>
<li><strong>ä¼˜åŒ–ç¼“å­˜</strong> ï¼šé€šè¿‡åˆç†çš„å“ˆå¸Œç­–ç•¥å’Œä»£ç åˆ†ç¦»ï¼Œä½¿å¾—æœªæ›´æ”¹çš„æ–‡ä»¶èƒ½å¤Ÿè¢«æµè§ˆå™¨æœ‰æ•ˆç¼“å­˜ï¼Œæå‡äºŒæ¬¡åŠ è½½é€Ÿåº¦ã€‚</li>
</ol>
<h4 data-id="heading-15">4.1 ä»£ç åˆ†å‰²ä¸åˆ†å—</h4>
<ol>
<li>splitChunks :è¿™æ˜¯æœ€æ ¸å¿ƒçš„ä»£ç åˆ†å‰²é…ç½®,å®ƒä¸»åŠ¨ç”¨äºæ‹†åˆ†å…¬å…±æ¨¡å—ä¸ç¬¬ä¸‰æ–¹ã€‚</li>
</ol>
<p><strong>å·¥ä½œåŸç†</strong>ï¼šWebpack ä¼šåˆ†ææ¨¡å—çš„å¼•ç”¨æƒ…å†µï¼Œæ ¹æ®ä½ è®¾ç½®çš„è§„åˆ™ï¼ˆå¦‚å¤§å°ã€è¢«å¼•ç”¨æ¬¡æ•°ç­‰ï¼‰è‡ªåŠ¨å°†ç¬¦åˆæ¡ä»¶çš„æ¨¡å—æå–åˆ°ç‹¬ç«‹çš„ chunk ä¸­ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-attr">optimization</span>: {
  <span class="hljs-attr">splitChunks</span>: {
    <span class="hljs-comment">//'async'ï¼ˆé»˜è®¤å€¼ï¼‰ï¼šåªå¯¹å¼‚æ­¥åŠ è½½ï¼ˆdynamic importï¼‰â€‹ çš„æ¨¡å—è¿›è¡Œåˆ†å‰²</span>
    <span class="hljs-comment">//'initial'ï¼šåªå¯¹åŒæ­¥åˆå§‹åŒ–çš„æ¨¡å—è¿›è¡Œåˆ†å‰²ã€‚</span>
    <span class="hljs-comment">//'all'ï¼šæœ€å¸¸ç”¨ã€æœ€å½»åº•çš„ä¼˜åŒ–ã€‚å¯¹æ‰€æœ‰æ¨¡å—ï¼ˆåŒæ­¥å’Œå¼‚æ­¥ï¼‰éƒ½åº”ç”¨åˆ†å‰²è§„åˆ™ã€‚è¿™èƒ½æœ€æœ‰æ•ˆåœ°æå–å…¬å…±ä¾èµ–ã€‚</span>
    <span class="hljs-attr">chunks</span>: <span class="hljs-string">'all'</span>,
    <span class="hljs-attr">maxAsyncRequests</span>: <span class="hljs-number">10</span>, <span class="hljs-comment">// æŒ‰éœ€åŠ è½½æ—¶çš„æœ€å¤§å¹¶è¡Œè¯·æ±‚æ•°ã€‚è®¾ç½®æ­¤å€¼å¯ä»¥é˜²æ­¢chunkè¿‡å¤šå¯¼è‡´ç½‘ç»œè¯·æ±‚çˆ†ç‚¸ã€‚</span>
    <span class="hljs-attr">maxInitialRequests</span>: <span class="hljs-number">10</span>, <span class="hljs-comment">// å…¥å£ç‚¹çš„æœ€å¤§å¹¶è¡Œè¯·æ±‚æ•°</span>
    <span class="hljs-attr">cacheGroups</span>: {
      <span class="hljs-comment">// 1. æŠ½ç¦»ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚react, lodashï¼‰</span>
      <span class="hljs-attr">vendor</span>: {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/]/</span>, <span class="hljs-comment">// åŒ¹é…node_modulesä¸‹çš„æ–‡ä»¶</span>
        <span class="hljs-attr">name</span>: <span class="hljs-string">'vendors'</span>, <span class="hljs-comment">//  chunk åç§°</span>
        <span class="hljs-attr">priority</span>: <span class="hljs-number">20</span>, <span class="hljs-comment">// ä¼˜å…ˆçº§ï¼Œæ•°å­—è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜</span>
        <span class="hljs-attr">reuseExistingChunk</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¦‚æœå½“å‰chunkåŒ…å«çš„æ¨¡å—å·²ç»è¢«æŠ½å‡ºï¼Œåˆ™ç›´æ¥å¤ç”¨</span>
      },
      <span class="hljs-comment">// 2. æŠ½ç¦»å…¬å…±å·¥å…·å‡½æ•°æˆ–ç»„ä»¶</span>
      <span class="hljs-attr">common</span>: {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'common'</span>,
        <span class="hljs-attr">minChunks</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// æ¨¡å—è¢«è‡³å°‘2ä¸ªchunkå¼•ç”¨æ—¶æ‰è¢«æŠ½ç¦»</span>
        <span class="hljs-attr">minSize</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// ç”Ÿæˆçš„chunkæœ€å°å¤§å°ï¼ˆå­—èŠ‚ï¼‰</span>
        <span class="hljs-attr">priority</span>: <span class="hljs-number">10</span>,
        <span class="hljs-attr">reuseExistingChunk</span>: <span class="hljs-literal">true</span>,
      },
      <span class="hljs-comment">// 3. å•ç‹¬æŠ½ç¦»æŸä¸ªå¤§å‹åº“ï¼Œå¦‚echarts</span>
      <span class="hljs-attr">echarts</span>: {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/]echarts[\\/]/</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">'chunk-echarts'</span>,
        <span class="hljs-attr">priority</span>: <span class="hljs-number">30</span>, <span class="hljs-comment">// ä¼˜å…ˆçº§é«˜äºvendor</span>
      },
    },
  },
}
</code></pre>
<ol start="2">
<li>runtimeChunkï¼šå°† Webpack çš„<code>è¿è¡Œæ—¶(runtime)</code>ä»£ç æå–åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚</li>
</ol>
<p><strong>ä»€ä¹ˆæ˜¯è¿è¡Œæ—¶</strong>ï¼šWebpack ç”¨æ¥è¿æ¥æ¨¡å—åŒ–åº”ç”¨ç¨‹åºæ‰€éœ€çš„ä¸€ç³»åˆ—è¾…åŠ©ä»£ç ã€‚å®ƒè´Ÿè´£æ¨¡å—çš„åŠ è½½å’Œè§£æé€»è¾‘ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¦æå–</strong>ï¼šè¿è¡Œæ—¶ä»£ç è™½ç„¶å°ï¼Œä½†ä¼šéšç€æ¨¡å—å…³ç³»çš„å˜åŒ–è€Œå˜åŒ–ã€‚å¦‚æœä¸æå–ï¼Œå³ä½¿ä½ çš„ä¸šåŠ¡ä»£ç æ²¡å˜ï¼Œä½†åªè¦æ¨¡å—IDç­‰å…ƒä¿¡æ¯å˜äº†ï¼ŒåŒ…å«ä¸šåŠ¡ä»£ç çš„vendor chunkçš„å“ˆå¸Œå€¼ä¹Ÿä¼šå˜ï¼Œå¯¼è‡´æµè§ˆå™¨ç¼“å­˜å¤±æ•ˆã€‚æå–åï¼Œè¿è¡Œæ—¶ä»£ç å•ç‹¬æˆä¸€ä¸ªå¾ˆå°çš„æ–‡ä»¶ï¼Œç»å¸¸å˜åŠ¨çš„åªæ˜¯å®ƒï¼Œè€Œåºå¤§çš„vendor chunkå’Œä¸šåŠ¡chunkå¯ä»¥ä¿æŒç¼“å­˜ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-attr">optimization</span>: {
  <span class="hljs-attr">runtimeChunk</span>: <span class="hljs-string">`single`</span>, <span class="hljs-comment">// æå–æ‰€æœ‰å…¥å£ç‚¹çš„è¿è¡Œæ—¶ä»£ç åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œå¦‚ `runtime~main.js`</span>
  <span class="hljs-comment">// æˆ–è€…</span>
  <span class="hljs-attr">runtimeChunk</span>: {
    <span class="hljs-attr">name</span>: <span class="hljs-function"><span class="hljs-params">entrypoint</span> =&gt;</span> <span class="hljs-string">`runtime-<span class="hljs-subst">${entrypoint.name}</span>`</span>, <span class="hljs-comment">// ä¸ºæ¯ä¸ªå…¥å£ç”Ÿæˆç‹¬ç«‹çš„runtimeæ–‡ä»¶</span>
  },
}
</code></pre>
<h4 data-id="heading-16">4.2 ä»£ç å‹ç¼©</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">TerserWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'terser-webpack-plugin'</span>);
<span class="hljs-keyword">const</span> cssMinimizerPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">'css-minimizer-webpack-plugin'</span>);

<span class="hljs-attr">optimization</span>: {
        <span class="hljs-attr">minimize</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//æ˜¯å¦å¯ç”¨ä»£ç å‹ç¼©</span>
        <span class="hljs-attr">minimizer</span>: [
            <span class="hljs-keyword">new</span> <span class="hljs-title function_">cssMinimizerPlugin</span>(),<span class="hljs-comment">//ä¼˜åŒ–å¹¶å‹ç¼©cssèµ„æº</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">TerserWebpackPlugin</span>({
                <span class="hljs-attr">cache</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//å¯ç”¨ç¼“å­˜æ¥åŠ é€Ÿæ„å»ºæ„å»ºè¿‡ç¨‹</span>
                <span class="hljs-attr">parallel</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//åˆ©ç”¨å¤šæ ¸cpu ä¼˜åŠ¿åŠ å¿«å‹ç¼©é€Ÿåº¦</span>
                <span class="hljs-attr">terserOptions</span>: {
                    <span class="hljs-attr">compress</span>: {
                        <span class="hljs-attr">drop_console</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">///å»æ‰ console.log ç­‰è¯­å¥</span>
                    }
                }
            }),
        ],
}
</code></pre>
<h3 data-id="heading-17">å››.ç¯å¢ƒæ¨¡å¼</h3>
<p>é€šè¿‡<code>mode</code>é…ç½®é¡¹çš„å‚æ•°æ¥çŸ¥é“å½“å‰çš„Webpackçš„æ„å»ºç¯å¢ƒ,å¹¶ä¸”ä¼šå¯åŠ¨Webpacké’ˆå¯¹ä¸åŒç¯å¢ƒçš„å†…ç½®ä¼˜åŒ–ã€‚</p>
<p>ä¸‰ä¸ªå¯é€‰å€¼ï¼š</p>
<ul>
<li><code>'development'</code>- å¼€å‘æ¨¡å¼</li>
<li><code>'production'</code>- ç”Ÿäº§æ¨¡å¼</li>
<li><code>'none'</code>- æ— é»˜è®¤ä¼˜åŒ–</li>
</ul>
<p>ä¸ç®¡æ˜¯<code>development</code>è¿˜æ˜¯<code>production</code>æ¨¡å¼,æˆ‘ä»¬è¿›è¡ŒWebpacké…ç½®é¡¹ç¼–å†™æ—¶å¯é€šè¿‡åŸºç¡€é€šç”¨çš„é…ç½®ä¸ä¸¤ç§ä¸åŒç¯å¢ƒä¸‹çš„é…ç½®æ–‡ä»¶è¿›è¡Œ<code>merge</code>åˆå¹¶,ç”Ÿæˆæœ€ç»ˆçš„é…ç½®æ–‡ä»¶ã€‚</p>
<p>å› ä¸ºæˆ‘ä»¬åœ¨ä¸¤ç§ä¸åŒçš„ç¯å¢ƒä¸­æ‰€è¦æ±‚ç›®æ ‡ä¸ä¸€æ ·,é€šè¿‡åˆ’åˆ†é…ç½®æ–‡ä»¶æ¥å½¢æˆåœ¨ä¸¤ç§ä¸åŒç¯å¢ƒä¸‹çš„éœ€æ±‚ç›®æ ‡:</p>

























<table><thead><tr><th>ç‰¹æ€§</th><th>å¼€å‘æ¨¡å¼ (development)</th><th>ç”Ÿäº§æ¨¡å¼ (production)</th></tr></thead><tbody><tr><td><strong>ä¸»è¦ç›®æ ‡</strong>â€‹</td><td>å¼€å‘ä½“éªŒå’Œæ„å»ºé€Ÿåº¦</td><td>ä»£ç ä¼˜åŒ–å’Œæ€§èƒ½</td></tr><tr><td><strong>ä»£ç å‹ç¼©</strong>â€‹</td><td>âŒ ä¸å‹ç¼©ï¼Œä¿æŒå¯è¯»æ€§</td><td>âœ… æ·±åº¦å‹ç¼©å’Œä¼˜åŒ–</td></tr><tr><td><strong>æ„å»ºé€Ÿåº¦</strong>â€‹</td><td>âš¡ å¿«é€Ÿæ„å»ºå’Œé‡è½½</td><td>â³ è¾ƒæ…¢ï¼Œä½†åªæ‰§è¡Œä¸€æ¬¡</td></tr></tbody></table>



































<table><thead><tr><th/><th>webpack.base.js</th><th>webpack.dev.js</th><th>webpack.prod.js</th></tr></thead><tbody><tr><td>ä¸»è¦åŠŸèƒ½</td><td>å­˜æ”¾å¼€å‘/ç”Ÿäº§å…¬å…±é…ç½®</td><td>çƒ­æ›´æ–°å¼€å‘é…ç½®</td><td>äº§ç‰©ä¼˜åŒ–é…ç½®</td></tr><tr><td/><td>å…¥å£æ–‡ä»¶åŠ¨æ€æ„å»º</td><td>dev-serveer é…ç½®</td><td>ä»£ç åˆ†å‰²</td></tr><tr><td/><td>åŸºç¡€loaderå¤„ç†åŠ è½½</td><td>source-map ä»£ç æ˜ å°„é…ç½®</td><td>ä»£ç å‹ç¼©</td></tr><tr><td/><td>å…¬å…±æ’ä»¶åŠ è½½</td><td>çƒ­æ›´æ–°æ˜ å°„/æ¨¡å—æ›´æ–°é…ç½®</td><td>å¤šçº¿ç¨‹åŠ é€Ÿæ‰“åŒ…</td></tr></tbody></table>
<h4 data-id="heading-18">1.1 webpack.base.js (åŸºç¡€é…ç½®)</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> glob = <span class="hljs-built_in">require</span>(<span class="hljs-string">'glob'</span>)
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)
<span class="hljs-keyword">const</span> webpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack'</span>)
<span class="hljs-keyword">const</span> { <span class="hljs-title class_">VueLoaderPlugin</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'vue-loader'</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'html-webpack-plugin'</span>)

<span class="hljs-comment">//åŠ¨æ€æ„é€  entry å…¥å£å¯¹è±¡å’Œ html-webpack-plugin æ’ä»¶å®ä¾‹</span>
<span class="hljs-keyword">const</span> pageEntries = {}
<span class="hljs-keyword">const</span> htmlWebpackPluginList = []
<span class="hljs-comment">//è‡ªåŠ¨åŠ è½½app/pagesç›®å½•ä¸‹çš„å…¥å£æ–‡ä»¶</span>
<span class="hljs-keyword">const</span> entryList = glob.<span class="hljs-title function_">sync</span>(path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/pages/**/entry.*.js'</span>))
entryList.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> entryName = path.<span class="hljs-title function_">basename</span>(filePath, <span class="hljs-string">'.js'</span>)
  <span class="hljs-comment">//æ„é€ entryå¯¹è±¡</span>
  pageEntries[entryName] = filePath
  <span class="hljs-comment">//æ„é€ æœ€ç»ˆæ¸²æŸ“çš„é¡µé¢æ–‡ä»¶</span>
  htmlWebpackPluginList.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackPlugin</span>({
    <span class="hljs-comment">//äº§ç‰© (æœ€ç»ˆæœ«ç­) è¾“å‡ºè·¯å¾„</span>
    <span class="hljs-attr">filename</span>: path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/public/dist/'</span>, <span class="hljs-string">`<span class="hljs-subst">${entryName}</span>.tpl`</span>),
    <span class="hljs-comment">//æŒ‡å®šè¦ä½¿ç”¨çš„æ¨¡æ¿æ–‡ä»¶</span>
    <span class="hljs-attr">template</span>: path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/view/entry.tpl'</span>),
    <span class="hljs-comment">//è¦æ³¨å…¥çš„ä»£ç å—</span>
    <span class="hljs-attr">chunks</span>: [entryName],
  }))
})

<span class="hljs-comment">/*
 * @Description: webpackåŸºç¡€é…ç½®
 */</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-comment">//å…¥å£é…ç½®</span>
  <span class="hljs-attr">entry</span>: pageEntries,
  <span class="hljs-comment">//æ¨¡å—è§£æé…ç½®(å†³å®šéœ€è¦åŠ è½½è§£æä»€ä¹ˆæ¨¡å—,ä»¥åŠç”¨ä»€ä¹ˆæ–¹å¼è§£æ)</span>
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.vue$/</span>,
        <span class="hljs-attr">use</span>: { <span class="hljs-attr">loader</span>: <span class="hljs-string">'vue-loader'</span> }
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
        <span class="hljs-attr">include</span>: [
          <span class="hljs-comment">//åªå¯¹ä¸šåŠ¡ä»£ç è¿›è¡Œvavel, åŠ å¿« webpack æ‰“åŒ…é€Ÿåº¦</span>
          <span class="hljs-comment">//è¡¨ç¤ºåªå¯¹ app/pages ç›®å½•ä¸‹çš„jsæ–‡ä»¶è¿›è¡Œ babel è½¬æ¢</span>
          path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/pages'</span>),
        ],
        <span class="hljs-attr">use</span>: { <span class="hljs-attr">loader</span>: <span class="hljs-string">'babel-loader'</span> },
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(png|jpg|jpeg|gif)(\?.+)?$/</span>,
        <span class="hljs-attr">use</span>: {
          <span class="hljs-attr">loader</span>: <span class="hljs-string">'url-loader'</span>,
          <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">limit</span>: <span class="hljs-number">8192</span>,  <span class="hljs-comment">// å°äº 8KB çš„å›¾ç‰‡è½¬ä¸º base64</span>
            <span class="hljs-attr">name</span>: <span class="hljs-string">'[name].[ext]'</span>,
            <span class="hljs-attr">outputPath</span>: <span class="hljs-string">'images/'</span>,
            <span class="hljs-attr">esModule</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// æ§åˆ¶å¯¼å‡ºæ ¼å¼, true å¯¼å‡ºä¸º esModule æ¨¡å—, false å¯¼å‡ºä¸º commonjs æ¨¡å—</span>
          }
        }
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,
        <span class="hljs-attr">use</span>: [<span class="hljs-string">'style-loader'</span>, <span class="hljs-string">'css-loader'</span>]
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.less$/</span>,
        <span class="hljs-attr">use</span>: [<span class="hljs-string">'style-loader'</span>, <span class="hljs-string">'css-loader'</span>, <span class="hljs-string">'less-loader'</span>]
      },
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.(eot | svg |ttf |woff |woff2)(\?\S*)?$/</span>,
        <span class="hljs-attr">use</span>: <span class="hljs-string">'file-loader'</span>
      }
    ]
  },
  <span class="hljs-comment">//äº§ç‰©è¾“å‡ºè·¯å¾„,å› ä¸ºå¼€å‘å’Œç”Ÿäº§ç¯å¢ƒçš„è¾“å‡ºè·¯å¾„ä¸åŒ,æ‰€ä»¥éœ€è¦åŒºåˆ†,å„è‡ªç¯å¢ƒä¸­åˆ†åˆ«é…ç½®</span>
  <span class="hljs-attr">output</span>: {},
  <span class="hljs-comment">//é…ç½®æ¨¡å—è§£æçš„å…·ä½“è¡Œä¸º(å®šä¹‰ webpack åœ¨æ‰“åŒ…æ—¶,å¦‚ä½•æ‰¾åˆ°å…·ä½“æ¨¡å—å¹¶è§£æ)</span>
  <span class="hljs-attr">resolve</span>: {
    <span class="hljs-attr">extensions</span>: [<span class="hljs-string">'.js'</span>, <span class="hljs-string">'.vue'</span>, <span class="hljs-string">'.less'</span>, <span class="hljs-string">'.css'</span>],<span class="hljs-comment">//é…ç½®è§£æçš„æ–‡ä»¶æ‰©å±•å</span>
    <span class="hljs-attr">alias</span>: {
      <span class="hljs-comment">//é…ç½®åˆ«å,æ–¹ä¾¿åœ¨ä»£ç ä¸­å¼•å…¥æ¨¡å—  </span>
      <span class="hljs-attr">$pages</span>: path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/pages'</span>),
      <span class="hljs-attr">$common</span>: path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/pages/common'</span>),
      <span class="hljs-attr">$widgets</span>: path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/pages/widgets'</span>),
      <span class="hljs-attr">$store</span>: path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/pages/store'</span>),
    },
  },
  <span class="hljs-comment">//é…ç½®webpackæ’ä»¶</span>
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-comment">//å¤„ç†.vueæ–‡ä»¶,å°†è‡ªå®šä¹‰çš„å…¶ä»–è§„åˆ™å¤åˆ¶å¹¶åº”ç”¨åˆ° .vue æ–‡ä»¶çš„è§£æä¸­</span>
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueLoaderPlugin</span>(),
    <span class="hljs-comment">//æŠŠç¬¬ä¸‰æ–¹åº“æš´éœ²åˆ° Window contextä¸‹</span>
    <span class="hljs-keyword">new</span> webpack.<span class="hljs-title class_">ProvidePlugin</span>({
      <span class="hljs-title class_">Vue</span>: <span class="hljs-string">'vue'</span>,
      <span class="hljs-attr">axios</span>: <span class="hljs-string">'axios'</span>,
      <span class="hljs-attr">_</span>: <span class="hljs-string">'lodash'</span>,
    }),
    <span class="hljs-comment">//å®šä¹‰å…¨å±€å˜é‡</span>
    <span class="hljs-keyword">new</span> webpack.<span class="hljs-title class_">DefinePlugin</span>({
      <span class="hljs-attr">__VUE_OPTIONS_API__</span>: <span class="hljs-string">'true'</span>, <span class="hljs-comment">//æ”¯æŒ vue è§£æ options API</span>
      <span class="hljs-attr">__VUE_PROD_DEVTOOLS__</span>: <span class="hljs-string">'false'</span>, <span class="hljs-comment">//æ˜¯å¦å¼€å¯ vue ç”Ÿäº§ç¯å¢ƒä¸‹çš„ devtools åŠŸèƒ½</span>
      <span class="hljs-attr">__VUE_PROD_HYDRATION_MISMATCH_DETAILS__</span>: <span class="hljs-string">'false'</span>, <span class="hljs-comment">//æ˜¯å¦å¼€å¯ vue ç”Ÿäº§ç¯å¢ƒä¸‹çš„ hydration  mismatch('æ°´åˆ') è¯¦æƒ…åŠŸèƒ½</span>
    }),
    <span class="hljs-comment">//æ„å»ºæœ€ç»ˆæ¸²æŸ“çš„é¡µé¢æ¨¡æ¿</span>
    ...htmlWebpackPluginList,
  ],
  <span class="hljs-comment">//é…ç½®æ‰“åŒ…è¾“å‡ºä¼˜åŒ–(é…ç½®ä»£ç åˆ†å‰²,æ¨¡å—åˆå¹¶,ç¼“å­˜,TreeShaing,å‹ç¼©ç­‰ä¼˜åŒ–ç­–ç•¥)</span>
  <span class="hljs-attr">optimization</span>: {
    <span class="hljs-attr">splitChunks</span>: {
      <span class="hljs-attr">chunks</span>: <span class="hljs-string">'all'</span>, <span class="hljs-comment">//å¯¹åŒæ­¥å’Œå¼‚æ­¥æ¨¡å—éƒ½è¿›è¡Œåˆ†å‰²</span>
      <span class="hljs-attr">maxAsyncRequests</span>: <span class="hljs-number">10</span>, <span class="hljs-comment">// æ¯æ¬¡å¼‚æ­¥åŠ è½½çš„æœ€å¤§å¹¶è¡Œè¯·æ±‚æ•°</span>
      <span class="hljs-attr">maxInitialRequests</span>: <span class="hljs-number">10</span>, <span class="hljs-comment">// å…¥å£ç‚¹çš„æœ€å¤§å¹¶è¡Œè¯·æ±‚æ•°</span>
      <span class="hljs-attr">cacheGroups</span>: {
        <span class="hljs-comment">//ç¬¬ä¸‰æ–¹åº“ä¾èµ–åº“</span>
        <span class="hljs-attr">vendor</span>: {
          <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/]/</span>, <span class="hljs-comment">//æ‰“åŒ… node_modules ä¸­çš„æ–‡ä»¶</span>
          <span class="hljs-attr">name</span>: <span class="hljs-string">'vendor'</span>,<span class="hljs-comment">//æ¨¡å—åç§°</span>
          <span class="hljs-attr">priority</span>: <span class="hljs-number">20</span>, <span class="hljs-comment">//ä¼˜å…ˆçº§, æ•°å€¼è¶Šå¤§,ä¼˜å…ˆçº§è¶Šé«˜</span>
          <span class="hljs-attr">enforce</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//å¼ºåˆ¶åˆ†å‰², ä¸è€ƒè™‘ minSize, maxSize ç­‰é…ç½®</span>
          <span class="hljs-attr">reuseExistingChunk</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//å¤ç”¨å·²ç”¨çš„å…¬å…± chunk</span>
        },
        <span class="hljs-comment">//å…¬å…±æ¨¡å—éƒ¨åˆ†</span>
        <span class="hljs-attr">common</span>: {
          <span class="hljs-attr">name</span>: <span class="hljs-string">'common'</span>, <span class="hljs-comment">//æ¨¡å—åç§°</span>
          <span class="hljs-attr">minChunks</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">//æ¨¡å—è¢«å¼•ç”¨æ¬¡æ•°è¶…è¿‡ 2 æ¬¡,æ‰ä¼šè¢«åˆ†å‰²</span>
          <span class="hljs-attr">minSize</span>: <span class="hljs-number">1</span>,
          <span class="hljs-attr">priority</span>: <span class="hljs-number">10</span>,
          <span class="hljs-attr">reuseExistingChunk</span>: <span class="hljs-literal">true</span>,
        },
      },
    },
    <span class="hljs-comment">//å°† Webpack çš„è¿è¡Œæ—¶ï¼ˆruntimeï¼‰â€‹ ä»£ç æå–åˆ°å•ç‹¬çš„æ–‡ä»¶ä¸­ã€‚</span>
    <span class="hljs-attr">runtimeChunk</span>: {
      <span class="hljs-attr">name</span>: <span class="hljs-string">'runtime'</span>,
    },
  },
}
</code></pre>
<h4 data-id="heading-19">1.2 webpack.prod.js (ç”Ÿäº§é…ç½®)</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> merge = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack-merge'</span>); <span class="hljs-comment">//webpack é…ç½®åˆå¹¶æ’ä»¶</span>
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)
<span class="hljs-keyword">const</span> os = <span class="hljs-built_in">require</span>(<span class="hljs-string">'os'</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title class_">HappyPack</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'happypack'</span>)

<span class="hljs-keyword">const</span> miniCssExtractPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mini-css-extract-plugin'</span>)
<span class="hljs-keyword">const</span> <span class="hljs-title class_">CleanWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'clean-webpack-plugin'</span>);
<span class="hljs-keyword">const</span> cssMinimizerPlugin = <span class="hljs-built_in">require</span>(<span class="hljs-string">'css-minimizer-webpack-plugin'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">HtmlWebpackInjectAttributesPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'html-webpack-inject-attributes-plugin'</span>);
<span class="hljs-keyword">const</span> <span class="hljs-title class_">TerserWebpackPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'terser-webpack-plugin'</span>);

<span class="hljs-comment">//åŸºç±»é…ç½®</span>
<span class="hljs-keyword">const</span> baseConfig = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./webpack.base.js'</span>);
<span class="hljs-comment">//å¤šçº¿ç¨‹ build è®¾ç½®</span>
<span class="hljs-keyword">const</span> happypackCommonConfig = {
    <span class="hljs-attr">debug</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">threadPool</span>: <span class="hljs-title class_">HappyPack</span>.<span class="hljs-title class_">ThreadPool</span>({ <span class="hljs-attr">size</span>: os.<span class="hljs-title function_">cpus</span>().<span class="hljs-property">length</span> }),
}
<span class="hljs-comment">//ç”Ÿäº§ç¯å¢ƒ webpack é…ç½®</span>
<span class="hljs-keyword">const</span> webpackConfig = merge.<span class="hljs-title function_">smart</span>(baseConfig, {
    <span class="hljs-comment">//æŒ‡å®šç”Ÿäº§ç¯å¢ƒ</span>
    <span class="hljs-attr">mode</span>: <span class="hljs-string">'production'</span>,
    <span class="hljs-comment">//ç”Ÿäº§ç¯å¢ƒçš„ output é…ç½®</span>
    <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">filename</span>: <span class="hljs-string">'js/[name]_[chunkhash:8].bundle.js'</span>,
        <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">join</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/public/dist/prod'</span>),
        <span class="hljs-attr">publicPath</span>: <span class="hljs-string">'/dist/prod/'</span>,
        <span class="hljs-attr">crossOriginLoading</span>: <span class="hljs-string">'anonymous'</span>,<span class="hljs-comment">//è·¨åŸŸåŠ è½½èµ„æºæ—¶,æ˜¯å¦æ·»åŠ  crossorigin å±æ€§</span>
    },
    <span class="hljs-comment">//ç”Ÿäº§ç¯å¢ƒçš„æ¨¡å—è§£æé…ç½®</span>
    <span class="hljs-attr">module</span>: {
        <span class="hljs-attr">rules</span>: [
            {
                <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.css$/</span>,
                <span class="hljs-attr">use</span>: [
                    miniCssExtractPlugin.<span class="hljs-property">loader</span>,
                    <span class="hljs-string">'happypack/loader?id=css'</span>,
                ]
            },
            {
                <span class="hljs-attr">test</span>: <span class="hljs-regexp">/\.js$/</span>,
                <span class="hljs-attr">include</span>: [
                    path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/pages'</span>),
                ],
                <span class="hljs-attr">use</span>: [<span class="hljs-string">'happypack/loader?id=js'</span>],
            },
        ]
    },
    <span class="hljs-comment">// webpack ä¸ä¼šæœ‰å¤§é‡çš„ hints ä¿¡æ¯ ,é»˜è®¤æ˜¯ warning</span>
    <span class="hljs-attr">performance</span>: {
        <span class="hljs-attr">hints</span>: <span class="hljs-literal">false</span>,
    },
    <span class="hljs-attr">plugins</span>: [
        <span class="hljs-comment">//æ¯æ¬¡build å‰,å…ˆåˆ é™¤ä¸Šä¸€æ¬¡çš„ build ç»“æœ</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">CleanWebpackPlugin</span>([<span class="hljs-string">'public/dist'</span>], {
            <span class="hljs-attr">root</span>: path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/'</span>),
            <span class="hljs-attr">exclude</span>: [],
            <span class="hljs-attr">verbose</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">dry</span>: <span class="hljs-literal">false</span>,
        }),
        <span class="hljs-comment">//æå– css çš„å…¬å…±éƒ¨åˆ†,æœ‰æ•ˆåˆ©ç”¨ç¼“å­˜</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title function_">miniCssExtractPlugin</span>({
            <span class="hljs-attr">chunkFilename</span>: <span class="hljs-string">'css/[name]_[contenthash:8].bundle.css'</span>,
            <span class="hljs-attr">filename</span>: <span class="hljs-string">'css/[name].[contenthash:8].bundle.css'</span> <span class="hljs-comment">// è¾“å‡ºåˆ° å•ç‹¬ css æ–‡ä»¶å¤¹</span>
        }),
        <span class="hljs-comment">//å¤šçº¿ç¨‹æ‰“åŒ… js ,åŠ å¿«æ‰“åŒ…é€Ÿåº¦</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">HappyPack</span>({
            ...happypackCommonConfig,
            <span class="hljs-attr">id</span>: <span class="hljs-string">'js'</span>,
            <span class="hljs-attr">loaders</span>: [{
                <span class="hljs-attr">path</span>: <span class="hljs-string">'babel-loader'</span>,
                <span class="hljs-attr">options</span>: {
                    <span class="hljs-attr">presets</span>: [<span class="hljs-string">'@babel/preset-env'</span>],
                    <span class="hljs-attr">plugins</span>: [<span class="hljs-string">'@babel/plugin-transform-runtime'</span>]
                }
            }],
        }),
        <span class="hljs-comment">//å¤šçº¿ç¨‹æ‰“åŒ… css ,åŠ å¿«æ‰“åŒ…é€Ÿåº¦</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">HappyPack</span>({
            ...happypackCommonConfig,
            <span class="hljs-attr">id</span>: <span class="hljs-string">'css'</span>,
            <span class="hljs-attr">loaders</span>: [{
                <span class="hljs-attr">path</span>: <span class="hljs-string">'css-loader'</span>,
                <span class="hljs-attr">options</span>: {
                    <span class="hljs-attr">importLoaders</span>: <span class="hljs-number">1</span>,
                }
            }],
        }),
        <span class="hljs-comment">//æµè§ˆå™¨åœ¨è¯·æ±‚èµ„æºæ—¶,ä¸å‘é€ç”¨æˆ·çš„èº«ä»½å‡­è¯</span>
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">HtmlWebpackInjectAttributesPlugin</span>({
            <span class="hljs-attr">crossorigin</span>: <span class="hljs-string">'anonymous'</span>,
        }),
    ],
    <span class="hljs-attr">optimization</span>: {
        <span class="hljs-attr">minimize</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">minimizer</span>: [
            <span class="hljs-comment">//ä¼˜åŒ–å¹¶å‹ç¼©cssèµ„æº</span>
            <span class="hljs-keyword">new</span> <span class="hljs-title function_">cssMinimizerPlugin</span>(),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">TerserWebpackPlugin</span>({
                <span class="hljs-attr">cache</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//å¯ç”¨ç¼“å­˜æ¥åŠ é€Ÿæ„å»ºæ„å»ºè¿‡ç¨‹</span>
                <span class="hljs-attr">parallel</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//åˆ©ç”¨å¤šæ ¸cpu ä¼˜åŠ¿åŠ å¿«å‹ç¼©é€Ÿåº¦</span>
                <span class="hljs-attr">terserOptions</span>: {
                    <span class="hljs-attr">compress</span>: {
                        <span class="hljs-attr">drop_console</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">///å»æ‰ console.log ç­‰è¯­å¥</span>
                    }
                }
            }),
        ],
        <span class="hljs-attr">splitChunks</span>: {
            <span class="hljs-attr">cacheGroups</span>: {
                <span class="hljs-attr">vue</span>: {
                    <span class="hljs-attr">test</span>: <span class="hljs-regexp">/[\\/]node_modules[\\/]vue/</span>, <span class="hljs-comment">// åŒ¹é… node_modules ä¸­çš„ Vue</span>
                    <span class="hljs-attr">name</span>: <span class="hljs-string">'vue'</span>, <span class="hljs-comment">// è¾“å‡ºæ–‡ä»¶åä¸º vue.[hash].js</span>
                    <span class="hljs-attr">chunks</span>: <span class="hljs-string">'all'</span>, <span class="hljs-comment">// å¤„ç†æ‰€æœ‰å¼•å…¥æ–¹å¼ï¼ˆåŒæ­¥/å¼‚æ­¥ï¼‰</span>
                    <span class="hljs-attr">priority</span>: <span class="hljs-number">30</span>, <span class="hljs-comment">// ä¼˜å…ˆçº§é«˜äº vendorï¼ˆç¡®ä¿å…ˆæ‹†åˆ† Vueï¼‰</span>
                    <span class="hljs-attr">enforce</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼ºåˆ¶æ‹†åˆ†ï¼ˆå¿½ç•¥ minSize é™åˆ¶ï¼Œå³ä½¿ Vue å¾ˆå°ä¹Ÿæ‹†åˆ†ï¼‰</span>
                },
            },
        },
    }
});

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = webpackConfig;
</code></pre>
<p>åœ¨Elpis é¡¹ç›®ä¸­æˆ‘ä»¬æ˜¯ä½¿ç”¨<code>HappyPack</code>æ¥å¯ç”¨å¤šçº¿ç¨‹åŠ é€Ÿæ‰“åŒ…çš„é€Ÿåº¦,æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨<code>thread-loader</code>æ¥ä¼˜åŒ–æ‰“åŒ…é€Ÿåº¦ã€‚</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-attr">module</span>: {
  <span class="hljs-attr">rules</span>: [
    {
      <span class="hljs-attr">test</span>: <span class="hljs-regexp">/.js$/</span>,
      <span class="hljs-attr">use</span>: [
        {
          <span class="hljs-attr">loader</span>: <span class="hljs-string">'thread-loader'</span>,
          <span class="hljs-attr">options</span>: {
            <span class="hljs-attr">workers</span>: <span class="hljs-number">2</span>, <span class="hljs-comment">// çº¿ç¨‹æ•°é‡,  ä½¿ç”¨ os.cpus().length è‡ªåŠ¨æ ¹æ®cpuæ ¸å¿ƒç”Ÿæˆçº¿ç¨‹æ•°</span>
            <span class="hljs-attr">workerParallelJobs</span>: <span class="hljs-number">50</span>, <span class="hljs-comment">// æ¯ä¸ªçº¿ç¨‹å¹¶è¡Œä»»åŠ¡æ•°</span>
            <span class="hljs-attr">poolTimeout</span>: <span class="hljs-number">2000</span> <span class="hljs-comment">// è¶…æ—¶æ—¶é—´</span>
          }
        },
        <span class="hljs-string">'babel-loader'</span>
      ]
    }
  ]
}
</code></pre>
<h4 data-id="heading-20">1.3 webpack.dev.js (å¼€å‘é…ç½®)</h4>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-keyword">const</span> merge = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack-merge'</span>); <span class="hljs-comment">//webpack é…ç½®åˆå¹¶æ’ä»¶</span>
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)
<span class="hljs-keyword">const</span> webpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack'</span>)
<span class="hljs-comment">//åŸºç±»é…ç½®</span>
<span class="hljs-keyword">const</span> baseConfig = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./webpack.base.js'</span>);
<span class="hljs-comment">//dev-serveer é…ç½®</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DEV_SERVER_CONFIG</span> = {
    <span class="hljs-attr">HOST</span>: <span class="hljs-string">'127.0.0.1'</span>,
    <span class="hljs-attr">PORT</span>: <span class="hljs-number">9002</span>,
    <span class="hljs-attr">HMR_PATH</span>: <span class="hljs-string">'__webpack_hmr'</span>, <span class="hljs-comment">//å®˜æ–¹è§„å®š</span>
    <span class="hljs-attr">TIMEOUT</span>: <span class="hljs-number">20000</span>,
}
<span class="hljs-comment">//å¼€å‘é˜¶æ®µçš„ entry é…ç½®éœ€è¦åŠ å…¥hmr</span>
<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(baseConfig.<span class="hljs-property">entry</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">entryName</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (entryName !== <span class="hljs-string">'vendor'</span>) {
        baseConfig.<span class="hljs-property">entry</span>[entryName] = [
            <span class="hljs-comment">//ä¸»å…¥å£æ–‡ä»¶</span>
            baseConfig.<span class="hljs-property">entry</span>[entryName],
            <span class="hljs-comment">//hmr æ›´æ–°å…¥å£ ,å®˜æ–¹æŒ‡å®šçš„ hmr è·¯å¾„</span>
            <span class="hljs-string">`webpack-hot-middleware/client?path=http://<span class="hljs-subst">${DEV_SERVER_CONFIG.HOST}</span>:<span class="hljs-subst">${DEV_SERVER_CONFIG.PORT}</span>/<span class="hljs-subst">${DEV_SERVER_CONFIG.HMR_PATH}</span>&amp;timeout=<span class="hljs-subst">${DEV_SERVER_CONFIG.TIMEOUT}</span>&amp;reload=true`</span>,
        ]
    }
})
<span class="hljs-comment">// å¼€å‘ç¯å¢ƒ webpack é…ç½®</span>
<span class="hljs-keyword">const</span> webpackConfig = merge.<span class="hljs-title function_">smart</span>(baseConfig, {
    <span class="hljs-comment">//æŒ‡å®šå¼€å‘ç¯å¢ƒ</span>
    <span class="hljs-attr">mode</span>: <span class="hljs-string">'development'</span>,
    <span class="hljs-comment">//source-map é…ç½®,å‘ˆç°ä»£ç çš„æ˜ å°„å…³ç³»,ä¾¿äºè§‚å¯Ÿä»£ç </span>
    <span class="hljs-attr">devtool</span>: <span class="hljs-string">'eval-cheap-module-source-map'</span>,
    <span class="hljs-comment">//å¼€å‘ç¯å¢ƒçš„ output é…ç½®</span>
    <span class="hljs-attr">output</span>: {
        <span class="hljs-attr">filename</span>: <span class="hljs-string">'js/[name]_[chunkhash:8].bundle.js'</span>,
        <span class="hljs-attr">path</span>: path.<span class="hljs-title function_">resolve</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/public/dist/dev/'</span>), <span class="hljs-comment">//è¾“å‡ºæ–‡ä»¶å­˜å‚¨è·¯å¾„</span>
        <span class="hljs-attr">publicPath</span>: <span class="hljs-string">`http://<span class="hljs-subst">${DEV_SERVER_CONFIG.HOST}</span>:<span class="hljs-subst">${DEV_SERVER_CONFIG.PORT}</span>/public/dist/dev/`</span>, <span class="hljs-comment">//å¤–éƒ¨èµ„æºå…¬å…±è·¯å¾„</span>
        <span class="hljs-attr">globalObject</span>: <span class="hljs-string">'this'</span>,<span class="hljs-comment">//æŒ‡å®šå…¨å±€å¯¹è±¡,é»˜è®¤æ˜¯ window</span>
    },
    <span class="hljs-comment">//å¼€å‘ç¯å¢ƒæ’ä»¶</span>
    <span class="hljs-attr">plugins</span>: [
        <span class="hljs-comment">// çƒ­æ›´æ–°æ’ä»¶,æ¨¡å—çƒ­æ›´æ–°å…è®¸åœ¨åº”ç”¨è¿è¡Œæ—¶,æ›¿æ¢ã€æ·»åŠ æˆ–åˆ é™¤æ¨¡å—,è€Œæ— éœ€åˆ·æ–°æ•´ä¸ªé¡µé¢</span>
        <span class="hljs-keyword">new</span> webpack.<span class="hljs-title class_">HotModuleReplacementPlugin</span>({
            <span class="hljs-attr">multiStep</span>: <span class="hljs-literal">false</span>,
        }),
    ],
});
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
    webpackConfig, <span class="hljs-comment">//webpack å¼€å‘ç¯å¢ƒé…ç½®</span>
    <span class="hljs-variable constant_">DEV_SERVER_CONFIG</span>, <span class="hljs-comment">//dev-server é…ç½®</span>
}
</code></pre>
<h4 data-id="heading-21">1.4 Source Map é…ç½®é€‰é¡¹æ€»è§ˆ</h4>
<p>è¯¥é…ç½®é€‰é¡¹ä¸»è¦ä¾¿åˆ©å¼€å‘æ—¶å¿«é€Ÿå®šä½ä»£ç é”™è¯¯ä½ç½®</p>





































































































<table><thead><tr><th>é…ç½®å€¼</th><th>æ„å»ºé€Ÿåº¦</th><th>é‡å»ºé€Ÿåº¦</th><th>è´¨é‡</th><th>ç”Ÿäº§ç¯å¢ƒé€‚ç”¨</th><th>ç‰¹ç‚¹</th></tr></thead><tbody><tr><td><code>false</code></td><td>æœ€å¿«</td><td>æœ€å¿«</td><td>æ— </td><td>âœ…</td><td>ä¸ç”Ÿæˆ source map</td></tr><tr><td><code>eval</code></td><td>å¾ˆå¿«</td><td>æœ€å¿«</td><td>å·®</td><td>âŒ</td><td>æ¯ä¸ªæ¨¡å—ç”¨ eval æ‰§è¡Œ</td></tr><tr><td><code>eval-source-map</code></td><td>æ…¢</td><td>ä¸€èˆ¬</td><td>é«˜</td><td>âŒ</td><td>æ¯ä¸ªæ¨¡å—ç”Ÿæˆ DataUrl çš„ source map</td></tr><tr><td><code>eval-cheap-source-map</code></td><td>è¾ƒå¿«</td><td>å¿«</td><td>ä¸­</td><td>âŒ</td><td>åªæ˜ å°„è¡Œï¼Œä¸æ˜ å°„åˆ—</td></tr><tr><td><code>eval-cheap-module-source-map</code></td><td>ä¸€èˆ¬</td><td>ä¸€èˆ¬</td><td>ä¸­é«˜</td><td>âŒ</td><td>åŒ…å« loader è½¬æ¢å‰çš„ä»£ç </td></tr><tr><td><code>source-map</code></td><td>æ…¢</td><td>æ…¢</td><td>æœ€é«˜</td><td>âœ…</td><td>ç”Ÿæˆç‹¬ç«‹çš„ .map æ–‡ä»¶</td></tr><tr><td><code>hidden-source-map</code></td><td>æ…¢</td><td>æ…¢</td><td>æœ€é«˜</td><td>âœ…</td><td>ç”Ÿæˆ .map æ–‡ä»¶ä½†ä¸å¼•ç”¨</td></tr><tr><td><code>inline-source-map</code></td><td>æ…¢</td><td>æ…¢</td><td>æœ€é«˜</td><td>âŒ</td><td>å°† source map å†…è”åˆ°æ–‡ä»¶ä¸­</td></tr><tr><td><code>cheap-source-map</code></td><td>ä¸€èˆ¬</td><td>ä¸€èˆ¬</td><td>ä¸­</td><td>âœ…</td><td>åªæ˜ å°„è¡Œï¼Œå¿½ç•¥ loader source map</td></tr><tr><td><code>cheap-module-source-map</code></td><td>ä¸€èˆ¬</td><td>ä¸€èˆ¬</td><td>ä¸­é«˜</td><td>âœ…</td><td>åŒ…å« loader è½¬æ¢å‰çš„ä»£ç </td></tr><tr><td><code>nosources-source-map</code></td><td>æ…¢</td><td>æ…¢</td><td>ä¸­</td><td>âœ…</td><td>ç”Ÿæˆ .map ä½†ä¸åŒ…å«æºä»£ç å†…å®¹</td></tr></tbody></table>
<h4 data-id="heading-22">1.5 çƒ­æ›´æ–°(HMR)</h4>
<p>HMR çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>åœ¨åº”ç”¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ›¿æ¢ã€æ·»åŠ æˆ–åˆ é™¤æ¨¡å—ï¼Œè€Œæ— éœ€å®Œå…¨é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢</strong>ã€‚</p>
<p>å¯ä»¥æ¦‚æ‹¬ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<h5 data-id="heading-23">1. å¯åŠ¨é˜¶æ®µ</h5>
<ol>
<li><strong>webpack ç¼–è¯‘</strong>ï¼šé¦–å…ˆï¼Œwebpack åœ¨å¯åŠ¨å¼€å‘æœåŠ¡å™¨æ—¶ï¼Œä¼šå¯¹æºä»£ç è¿›è¡Œç¼–è¯‘ï¼Œå¹¶ç”Ÿæˆ bundle æ–‡ä»¶ï¼ˆæ–‡ä»¶<code>éƒ½åœ¨å†…å­˜ä¸­</code>ï¼‰ã€‚</li>
<li><strong>æ³¨å…¥ HMR Runtime</strong>ï¼šåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œwebpack ä¼šå‘ bundle ä¸­æ³¨å…¥ HMR Runtime ä»£ç ã€‚è¿™æ®µä»£ç å°†åœ¨æµè§ˆå™¨ä¸­è¿è¡Œï¼Œè´Ÿè´£ä¸å¼€å‘æœåŠ¡å™¨çš„ HMR æœåŠ¡è¿›è¡ŒWebSocketé€šä¿¡ï¼Œå¹¶å¤„ç†æ›´æ–°é€»è¾‘ã€‚</li>
</ol>
<h5 data-id="heading-24">2. æ–‡ä»¶ç›‘å¬ä¸ç¼–è¯‘</h5>
<ol>
<li><strong>ç›‘å¬æ–‡ä»¶å˜åŒ–</strong>ï¼šwebpack é€šè¿‡æ–‡ä»¶ç³»ç»Ÿç›‘å¬æ¥ç›‘æµ‹é¡¹ç›®ä¸­çš„æ–‡ä»¶å˜åŒ–ã€‚</li>
<li><strong>å¢é‡ç¼–è¯‘</strong>ï¼šå½“æ–‡ä»¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œwebpack ä¼šé‡æ–°ç¼–è¯‘è¿™äº›å˜åŒ–çš„æ¨¡å—ã€‚æ³¨æ„ï¼Œè¿™é‡Œ<code>ä¸æ˜¯å®Œå…¨é‡æ–°ç¼–è¯‘</code>ï¼Œè€Œæ˜¯å¢é‡ç¼–è¯‘ï¼Œåªç¼–è¯‘å˜åŒ–çš„æ¨¡å—å’Œå—å½±å“çš„æ¨¡å—ï¼Œä»¥ç”Ÿæˆæ›´æ–°çš„æ¨¡å—ä»£ç ã€‚</li>
</ol>
<h5 data-id="heading-25">3. ç”Ÿæˆæ›´æ–°åŒ…ï¼ˆUpdateï¼‰</h5>
<p>ç¼–è¯‘å®Œæˆåï¼Œwebpack ä¼šç”Ÿæˆä¸€ä¸ªæ›´æ–°åŒ…ï¼ˆupdateï¼‰ï¼Œè¿™ä¸ªåŒ…åŒ…å«äº†å˜åŒ–çš„æ¨¡å—çš„ä»£ç ä»¥åŠæ›´æ–°ä¿¡æ¯ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ª JSON æ–‡ä»¶ï¼Œæè¿°äº†å“ªäº›æ¨¡å—å‘ç”Ÿäº†å˜åŒ–ä»¥åŠæ–°çš„æ¨¡å—ä»£ç ï¼‰ã€‚</p>
<h5 data-id="heading-26">4. é€šçŸ¥å®¢æˆ·ç«¯</h5>
<ol>
<li><strong>WebSocket æ¨é€</strong>ï¼šå¼€å‘æœåŠ¡å™¨é€šè¿‡ WebSocket å‘æµè§ˆå™¨å‘é€ä¸€ä¸ªæ¶ˆæ¯ï¼Œé€šçŸ¥æµè§ˆå™¨æœ‰æ›´æ–°å¯ç”¨ã€‚è¿™ä¸ªæ¶ˆæ¯é€šå¸¸åŒ…å«ä¸€ä¸ª hash å€¼ï¼ˆæœ¬æ¬¡æ›´æ–°çš„æ ‡è¯†ï¼‰å’Œæ›´æ–°åŒ…çš„ URLã€‚</li>
<li><strong>ä¸‹è½½æ›´æ–°åŒ…</strong>ï¼šæµè§ˆå™¨ç«¯çš„ HMR Runtime æ”¶åˆ°é€šçŸ¥åï¼Œä¼šé€šè¿‡ AJAX è¯·æ±‚æ›´æ–°åŒ…ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ª JavaScript æ–‡ä»¶ï¼ŒåŒ…å«äº†æ›´æ–°çš„æ¨¡å—ä»£ç ï¼‰ã€‚</li>
</ol>
<h5 data-id="heading-27">5. åº”ç”¨æ›´æ–°</h5>
<ol>
<li><strong>æ£€æŸ¥æ›´æ–°æ˜¯å¦å¯åº”ç”¨</strong>ï¼šHMR Runtime ä¼šæ£€æŸ¥å½“å‰æ¨¡å—æ ‘ä¸­å“ªäº›æ¨¡å—éœ€è¦æ›´æ–°ã€‚å®ƒæ ¹æ®æ›´æ–°åŒ…ä¸­çš„ä¿¡æ¯ï¼Œæ‰¾åˆ°éœ€è¦æ›´æ–°çš„æ¨¡å—ã€‚</li>
<li><strong>æ¨¡å—æ›¿æ¢</strong>ï¼šå¯¹äº JavaScript æ¨¡å—ï¼ŒHMR Runtime ä¼šç§»é™¤æ—§çš„æ¨¡å—ï¼Œå¹¶æ‰§è¡Œæ–°çš„æ¨¡å—ä»£ç ã€‚å¦‚æœæ¨¡å—æ”¯æŒ HMRï¼ˆå³æ¨¡å—ä»£ç ä¸­åŒ…å«äº†Â <code>module.hot.accept</code>ç­‰å¤„ç†ä»£ç ï¼‰ï¼Œé‚£ä¹ˆä¼šæ‰§è¡Œæ¨¡å—è‡ªèº«çš„æ›´æ–°é€»è¾‘ï¼ˆä¾‹å¦‚ï¼Œé‡æ–°æ‰§è¡Œæ¨¡å—ä»£ç ï¼Œå¹¶è°ƒç”¨å›è°ƒå‡½æ•°ï¼‰ã€‚å¯¹äºæ ·å¼æ¨¡å—ï¼Œé€šå¸¸ç›´æ¥æ›¿æ¢ style æ ‡ç­¾å³å¯ã€‚</li>
<li><strong>å›è°ƒä¸é”™è¯¯å¤„ç†</strong>ï¼šå¦‚æœæ›´æ–°è¿‡ç¨‹ä¸­æœ‰é”™è¯¯ï¼ŒHMR Runtime ä¼šå›é€€åˆ°å®Œæ•´é¡µé¢åˆ·æ–°ã€‚å¦‚æœæ›´æ–°æˆåŠŸï¼Œå¯èƒ½ä¼šè§¦å‘ä¸€äº›å›è°ƒå‡½æ•°ï¼ˆä¾‹å¦‚ï¼Œ<code>module.hot.accept</code>ä¸­æ³¨å†Œçš„å›è°ƒï¼‰ã€‚</li>
</ol>
<h5 data-id="heading-28">6.æ„å»ºHMRçƒ­æ›´æ–°æœåŠ¡</h5>
<p>åœ¨å‰é¢çš„æ‰€è®²çš„<code>webpack.dev.js</code>ç¯å¢ƒä¸‹çš„é…ç½®æ–‡ä»¶,å·²åšäº†ç›¸å…³çš„HMRé…ç½®å†…å®¹ã€‚é€šè¿‡<code>dev.js</code>æ¥ä½œä¸ºHMRå¼€å‘çš„å¯åŠ¨æ–‡ä»¶,<code>Express</code>æ¡†æ¶ä½œä¸ºæ­å»ºHMRæœåŠ¡,<code>webpack-dev-middleware</code>æ’ä»¶ç›‘å¬æ–‡ä»¶çš„æ”¹åŠ¨å®Œæˆå¢é‡ç¼–è¯‘,<code>webpack-hot-middleware</code>æ¥å®ç°ä¸æµè§ˆå™¨ä¹‹é—´çš„é€šè®¯,æœ€ç»ˆå®ç°HMRä»£ç æ›´æ–°ã€‚</p>
<p><strong>dev.js</strong></p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// æœ¬åœ°å¼€å‘å¯åŠ¨ devserber</span>
<span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>);
<span class="hljs-keyword">const</span> consoler = <span class="hljs-built_in">require</span>(<span class="hljs-string">'consoler'</span>);
<span class="hljs-keyword">const</span> webpack = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack'</span>);
<span class="hljs-keyword">const</span> devMiddleware = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack-dev-middleware'</span>);
<span class="hljs-keyword">const</span> hotMiddleware = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack-hot-middleware'</span>);

<span class="hljs-comment">//ä» webpack.dev.js ä¸­å¼•å…¥ webpack é…ç½®</span>
<span class="hljs-keyword">const</span> { webpackConfig, <span class="hljs-variable constant_">DEV_SERVER_CONFIG</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./config/webpack.dev.js'</span>);

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();

<span class="hljs-keyword">const</span> compiler = <span class="hljs-title function_">webpack</span>(webpackConfig);
<span class="hljs-comment">//æŒ‡å®šé™æ€æ–‡ä»¶ç›®å½•</span>
app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">static</span>(path.<span class="hljs-title function_">join</span>(process.<span class="hljs-title function_">cwd</span>(), <span class="hljs-string">'./app/public/dist/'</span>)));
<span class="hljs-comment">//å¼•ç”¨ devMiddleware ä¸­é—´ä»¶ ç›‘æ§æ–‡ä»¶æ”¹åŠ¨</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">devMiddleware</span>(compiler, {
    <span class="hljs-comment">//è½åœ°æ–‡ä»¶</span>
    <span class="hljs-attr">writeToDisk</span>: <span class="hljs-function">(<span class="hljs-params">filePath</span>) =&gt;</span> filePath.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">'.tpl'</span>),
    <span class="hljs-comment">//èµ„æºè·¯å¾„</span>
    <span class="hljs-attr">publicPath</span>: webpackConfig.<span class="hljs-property">output</span>.<span class="hljs-property">publicPath</span>,
    <span class="hljs-comment">//head ä¿¡æ¯</span>
    <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">'Access-Control-Allow-Origin'</span>: <span class="hljs-string">'*'</span>,<span class="hljs-comment">// å…è®¸æ‰€æœ‰åŸŸåè·¨åŸŸè®¿é—®</span>
        <span class="hljs-string">'Access-Control-Allow-Methods'</span>: <span class="hljs-string">'GET, POST, PUT, DELETE, PATCH, OPTIONS'</span>,<span class="hljs-comment">// å…è®¸çš„HTTPæ–¹æ³•</span>
        <span class="hljs-string">'Access-Control-Allow-Headers'</span>: <span class="hljs-string">'X-Requested-With, content-type, Authorization'</span>,<span class="hljs-comment">// å…è®¸çš„è¯·æ±‚å¤´</span>
    },
    <span class="hljs-attr">stats</span>: {
        <span class="hljs-attr">colors</span>: <span class="hljs-literal">true</span>,
    },
}));
<span class="hljs-comment">//å¼•ç”¨ hotMiddleware ä¸­é—´ä»¶ å®ç°çƒ­æ›´æ–°é€šè®¯</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">hotMiddleware</span>(compiler, {
    <span class="hljs-attr">path</span>: <span class="hljs-string">`/<span class="hljs-subst">${DEV_SERVER_CONFIG.HMR_PATH}</span>`</span>,
    <span class="hljs-attr">log</span>: <span class="hljs-function">() =&gt;</span> { },
}));

consoler.<span class="hljs-title function_">info</span>(<span class="hljs-string">'è¯·ç­‰å¾…webpackåˆæ¬¡æ„å»ºå®Œæˆæç¤º....'</span>);

<span class="hljs-comment">//å¯åŠ¨æœåŠ¡</span>
<span class="hljs-keyword">const</span> port = <span class="hljs-variable constant_">DEV_SERVER_CONFIG</span>.<span class="hljs-property">PORT</span>;
app.<span class="hljs-title function_">listen</span>(port, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`dev-server å¯åŠ¨æˆåŠŸ, http://<span class="hljs-subst">${DEV_SERVER_CONFIG.HOST}</span>:<span class="hljs-subst">${port}</span>`</span>);
})
</code></pre>
<p>åœ¨<code>dedv.js</code>ä¸­<code>headers</code>é…ç½®é¡¹é…ç½®è§£é‡Š:</p>
<p>å› ä¸ºHMRå¯èƒ½æ¶‰åŠåˆ°<code>è·¨åŸŸè¯·æ±‚</code>ï¼ˆä¾‹å¦‚ï¼Œå‰ç«¯åº”ç”¨è¿è¡Œåœ¨å¦ä¸€ä¸ªç«¯å£ä¸Šï¼Œè€Œå¼€å‘æœåŠ¡å™¨åœ¨å¦ä¸€ä¸ªç«¯å£ï¼‰ã€‚
æ‰€ä»¥åœ¨Webpackå¼€å‘ä¸­é—´ä»¶ä¸­é…ç½®headersï¼Œä¸»è¦æ˜¯ä¸ºäº†æ§åˆ¶CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰ç›¸å…³çš„è¡Œä¸ºï¼Œç¡®ä¿åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå‰ç«¯åº”ç”¨èƒ½å¤Ÿæ­£ç¡®åœ°ä»å¼€å‘æœåŠ¡å™¨åŠ è½½èµ„æºå¹¶è¿›è¡ŒHMRé€šä¿¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç ´èŒ§æˆè¶ï¼šWeb å‰ç«¯å¼€å‘çš„ä¸‰æ¬¡é©å‘½ä¸æ¶æ„æ¼”è¿›å²]]></title>    <link>https://juejin.cn/post/7582118218649174042</link>    <guid>https://juejin.cn/post/7582118218649174042</guid>    <pubDate>2025-12-11T04:59:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582118218649174042" data-draft-id="7582104240988176410" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç ´èŒ§æˆè¶ï¼šWeb å‰ç«¯å¼€å‘çš„ä¸‰æ¬¡é©å‘½ä¸æ¶æ„æ¼”è¿›å²"/> <meta itemprop="keywords" content="JavaScript,ECMAScript 6,Vue.js"/> <meta itemprop="datePublished" content="2025-12-11T04:59:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="San30"/> <meta itemprop="url" content="https://juejin.cn/user/1766294768060816"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç ´èŒ§æˆè¶ï¼šWeb å‰ç«¯å¼€å‘çš„ä¸‰æ¬¡é©å‘½ä¸æ¶æ„æ¼”è¿›å²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1766294768060816/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    San30
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T04:59:36.000Z" title="Thu Dec 11 2025 04:59:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><p>åœ¨è®¡ç®—æœºç§‘å­¦çš„å®å¤§å™äº‹ä¸­ï¼ŒWeb å‰ç«¯çš„å‘å±•é€Ÿåº¦ä»¤äººå’‹èˆŒã€‚ä»æœ€åˆç®€é™‹çš„æ–‡æ¡£å±•ç¤ºï¼Œåˆ°å¦‚ä»Šèƒ½å¤Ÿæ‰¿è½½å¤æ‚ 3D äº¤äº’ï¼ˆå¦‚ Three.jsï¼‰å’Œå³æ—¶é€šè®¯çš„å¯Œåº”ç”¨å¹³å°ï¼Œå‰ç«¯æŠ€æœ¯æ ˆç»å†äº†ä¸€æ¬¡åˆä¸€æ¬¡çš„æ¨å€’é‡æ¥ã€‚</p>
<p>è¿™å¹¶éç®€å•çš„å·¥å…·æ›´è¿­ï¼Œè€Œæ˜¯å¼€å‘æ¨¡å¼ä¸æ€ç»´æ¨¡å‹çš„æ ¹æœ¬æ€§é©å‘½ã€‚é€šè¿‡å¯¹æ¯”åŒä¸€åŠŸèƒ½çš„åœ¨ä¸åŒæ—¶ä»£çš„ä»£ç å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°è¿™ä¸‰æ¬¡é©å‘½çš„è½¨è¿¹ã€‚</p>
<h2 data-id="heading-0">ç¬¬ä¸€æ¬¡é©å‘½ï¼šæ··æ²Œåˆå¼€ä¸åç«¯ä¸»å®°ï¼ˆMVC æ—¶ä»£ï¼‰</h2>
<p>åœ¨ Web å‘å±•çš„æ—©æœŸï¼ˆçº¦ 1995-2005 å¹´ï¼‰ï¼Œå¹¶æ²¡æœ‰ä¸¥æ ¼æ„ä¹‰ä¸Šçš„â€œå‰ç«¯å·¥ç¨‹å¸ˆâ€ã€‚é‚£æ˜¯ä¸€ä¸ªâ€œåç«¯å¥—æ¨¡æ¿â€çš„æ—¶ä»£ã€‚</p>
<h3 data-id="heading-1">1.1 ä¼ ç»Ÿçš„ MVC æ¨¡å¼</h3>
<p>åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæµè§ˆå™¨ä»…è¢«è§†ä¸ºä¸€ä¸ªæ–‡æ¡£é˜…è¯»å™¨ã€‚æ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘ã€æ•°æ®å¤„ç†ç”šè‡³é¡µé¢æ„å»ºéƒ½å‘ç”Ÿåœ¨æœåŠ¡å™¨ç«¯ã€‚</p>
<p>ä¾‹å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼Œè¿™æ˜¯å…¸å‹çš„ Node.js æ¨¡æ‹Ÿæ—©æœŸåç«¯æ¸²æŸ“ï¼ˆSSRï¼‰çš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript"><span class="hljs-comment">// server.js - å…¸å‹çš„åç«¯ç›´å‡ºé€»è¾‘</span>
<span class="hljs-keyword">const</span> users = [...]; <span class="hljs-comment">// æ•°æ®åº“ä¸­çš„æ•°æ®</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">generateUserHTML</span>(<span class="hljs-params">users</span>) {
    <span class="hljs-comment">// æ•°æ®ä¸ HTML å­—ç¬¦ä¸²å¼ºè€¦åˆ</span>
    <span class="hljs-keyword">const</span> userRows = users.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> <span class="hljs-string">`
        &lt;tr&gt;
            &lt;td&gt;<span class="hljs-subst">${user.id}</span>&lt;/td&gt;
            &lt;td&gt;<span class="hljs-subst">${user.name}</span>&lt;/td&gt;
            &lt;td&gt;<span class="hljs-subst">${user.email}</span>&lt;/td&gt;
        &lt;/tr&gt;
    `</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);

    <span class="hljs-keyword">return</span> <span class="hljs-string">`
    &lt;!DOCTYPE html&gt;
    ...
            &lt;tbody&gt;
                <span class="hljs-subst">${userRows}</span> &lt;/tbody&gt;
    ...
    `</span>;
}

<span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
    <span class="hljs-comment">// è·¯ç”±åŒ¹é…ï¼Œè¿”å›å®Œæ•´çš„ HTML å­—ç¬¦ä¸²</span>
    <span class="hljs-keyword">if</span> (parsedUrl.<span class="hljs-property">pathname</span> === <span class="hljs-string">'/users'</span>) {
        <span class="hljs-keyword">const</span> html = <span class="hljs-title function_">generateUserHTML</span>(users);
        res.<span class="hljs-title function_">end</span>(html);
    }
});
</code></pre>
<h3 data-id="heading-2">1.2 ç—›ç‚¹ä¸å±€é™</h3>
<p>è¿™ç§å¼€å‘æ¨¡å¼ï¼ˆå¦‚ PHP, JSP, ASP.NETï¼‰ä¸‹ï¼Œå‰ç«¯ä»£ç ï¼ˆHTML/CSS/JSï¼‰åªæ˜¯åç«¯ä»£ç ä¸­çš„å­—ç¬¦ä¸²ã€‚</p>
<ul>
<li><strong>å¼ºè€¦åˆ</strong>ï¼šUI é€»è¾‘ä¸ä¸šåŠ¡é€»è¾‘æ­»æ­»çº ç¼ ã€‚æ”¹ä¸€ä¸ªæŒ‰é’®çš„æ ·å¼ï¼Œå¯èƒ½éœ€è¦é‡å¯åç«¯æœåŠ¡ã€‚</li>
<li><strong>ç”¨æˆ·ä½“éªŒå·®</strong>ï¼š<code>req.url</code> è§¦å‘è¯·æ±‚ï¼Œ<code>res.end</code> è¿”å›é¡µé¢ã€‚è¿™æ„å‘³ç€æ¯ä¸€æ¬¡æå°çš„äº¤äº’ï¼ˆæ¯”å¦‚ç¿»é¡µï¼‰ï¼Œéƒ½éœ€è¦åˆ·æ–°æ•´ä¸ªé¡µé¢ï¼Œæµè§ˆå™¨ä¼šå‡ºç°ç¬é—´ç™½å±ã€‚</li>
<li><strong>åˆ†å·¥æ··ä¹±</strong>ï¼šåç«¯å¼€å‘äººå‘˜è¢«è¿«å†™ CSSï¼Œè€Œå‰ç«¯äººå‘˜ï¼ˆå½“æ—¶å¸¸è¢«ç§°ä¸ºâ€œåˆ‡å›¾ä»”â€ï¼‰æ— æ³•ç‹¬ç«‹è°ƒè¯•ã€‚</li>
</ul>
<p>æ­¤æ—¶çš„æ ¸å¿ƒå…³æ³¨ç‚¹åœ¨äº <strong>Modelï¼ˆæ•°æ®ï¼‰</strong> -&gt; <strong>Controllerï¼ˆæ§åˆ¶ï¼‰</strong> -&gt; <strong>Viewï¼ˆæ¨¡æ¿æ¸²æŸ“ï¼‰</strong> çš„å•å‘æµã€‚</p>
<h2 data-id="heading-3">ç¬¬äºŒæ¬¡é©å‘½ï¼šè§‰é†’ä¸åˆ†ç¦»ï¼ˆAJAX ä¸ DOM ç¼–ç¨‹æ—¶ä»£ï¼‰</h2>
<p>2005 å¹´å·¦å³ï¼Œéšç€ AJAX æŠ€æœ¯çš„æ™®åŠï¼ˆä»¥ Gmail å’Œ Google Maps ä¸ºä»£è¡¨ï¼‰ï¼ŒWeb å¼€å§‹å‘â€œåº”ç”¨â€è½¬å˜ã€‚ç¬¬äºŒæ¬¡é©å‘½çš„æ ¸å¿ƒæ˜¯ <strong>å‰åç«¯åˆ†ç¦»</strong>ã€‚</p>
<h3 data-id="heading-4">2.1 æµè§ˆå™¨æˆä¸ºåº”ç”¨å¹³å°</h3>
<p>åœ¨è¿™ä¸ªé˜¶æ®µï¼Œåç«¯ä¸å†è¿”å› HTMLï¼Œè€Œæ˜¯è¿”å›çº¯ç²¹çš„æ•°æ®ï¼ˆJSONï¼‰ã€‚å‰ç«¯æ‹¥æœ‰äº†ç‹¬ç«‹çš„é¡¹ç›®ç»“æ„ï¼Œé€šè¿‡ JavaScript ä¸»åŠ¨æ‹‰å–æ•°æ®ã€‚</p>
<p>æ¥çœ‹çœ‹å¦‚ä½•å®ç°ï¼š</p>
<pre><code class="hljs language-HTML" lang="HTML"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// 1. ä¸»åŠ¨æ‹‰å–æ•°æ®</span>
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'http://localhost:3000/users'</span>)
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
        <span class="hljs-comment">// 2. è·å– DOM èŠ‚ç‚¹ï¼ˆéä¸šåŠ¡é€»è¾‘ï¼‰</span>
        <span class="hljs-keyword">const</span> tbody = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'tbody'</span>);
        
        <span class="hljs-comment">// 3. åˆæ˜¯å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œä½†è¿™æ¬¡æ˜¯åœ¨æµè§ˆå™¨ç«¯</span>
        tbody.<span class="hljs-property">innerHTML</span> = data.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> <span class="hljs-string">`
        &lt;tr&gt;
            &lt;td&gt;<span class="hljs-subst">${user.id}</span>&lt;/td&gt;
            &lt;td&gt;<span class="hljs-subst">${user.name}</span>&lt;/td&gt;
            &lt;td&gt;<span class="hljs-subst">${user.email}</span>&lt;/td&gt;
        &lt;/tr&gt;
        `</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">''</span>);
    });
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<h3 data-id="heading-5">2.2 å¸¦æ¥çš„æ”¹å˜ä¸æ–°çš„æ³¥æ½­</h3>
<p>è¿™ä¸€å˜é©å¸¦æ¥äº†å·¨å¤§çš„ä¼˜åŠ¿ï¼š</p>
<ul>
<li><strong>è§£è€¦</strong>ï¼šåç«¯ä¸“æ³¨äº API æ¥å£ï¼ˆå¦‚ <code>:3000/users</code>ï¼‰å’Œé«˜å¹¶å‘ï¼›å‰ç«¯ä¸“æ³¨äºäº¤äº’ä¸ä½“éªŒã€‚</li>
<li><strong>æ— åˆ·æ–°ä½“éªŒ</strong>ï¼šé¡µé¢çš„å±€éƒ¨æ›´æ–°æˆä¸ºå¯èƒ½ã€‚</li>
</ul>
<p>ç„¶è€Œï¼Œéšç€åº”ç”¨å¤æ‚åº¦ä¸Šå‡ï¼Œå‰ç«¯é™·å…¥äº† "DOM æ“ä½œçš„æ³¥æ½­"ã€‚</p>
<p>åœ¨ä»£ç ä¸­ï¼Œä¸ºäº†å±•ç¤ºæ•°æ®ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆ querySelector æ‰¾åˆ°èŠ‚ç‚¹ï¼Œç„¶åæ“ä½œ innerHTMLã€‚è¿™å¸¦æ¥äº†ä¸¤ä¸ªä¸¥é‡é—®é¢˜ï¼š</p>
<ol>
<li><strong>æ€§èƒ½æŸè€—</strong>ï¼šé¢‘ç¹çš„ DOM æ“ä½œæ˜¯æµè§ˆå™¨ä¸­æœ€æ˜‚è´µçš„å¼€é”€ã€‚</li>
<li><strong>çŠ¶æ€éš¾ä»¥ç»´æŠ¤</strong>ï¼šå½“é¡µé¢ä¸Šæœ‰å‡ åä¸ªåœ°æ–¹éœ€è¦æ ¹æ®åŒä¸€ä¸ªæ•°æ®å˜åŒ–æ—¶ï¼Œå¼€å‘è€…éœ€è¦æ‰‹åŠ¨å»æ›´æ–°è¿™å‡ åä¸ª DOM èŠ‚ç‚¹ã€‚ä¸€æ—¦æ¼æ‰ä¸€ä¸ªï¼Œç•Œé¢å°±ä¼šå‡ºç° Bugï¼ˆæ•°æ®ä¸è§†å›¾ä¸ä¸€è‡´ï¼‰ã€‚</li>
</ol>
<p>è¿™å°±å¥½æ¯”ä½ è¦æŒ‡æŒ¥ä¸€ä¸ªåˆå”±å›¢ï¼Œåœ¨è¿™ä¸€é˜¶æ®µï¼Œä½ éœ€è¦èµ°åˆ°æ¯ä¸€ä¸ªå›¢å‘˜é¢å‰å‘Šè¯‰ä»–è¯¥å”±ä»€ä¹ˆï¼Œæ•ˆç‡æä½ä¸”å®¹æ˜“å‡ºé”™ã€‚</p>
<h2 data-id="heading-6">ç¬¬ä¸‰æ¬¡é©å‘½ï¼šç°ä»£åŒ–çš„å£°æ˜å¼å¼€å‘ï¼ˆæ•°æ®é©±åŠ¨ä¸ç»„ä»¶åŒ–ï¼‰</h2>
<p>2015 å¹´å‰åï¼Œä»¥ Vueã€React ä¸ºä»£è¡¨çš„ç°ä»£æ¡†æ¶å¼•å‘äº†ç¬¬ä¸‰æ¬¡é©å‘½ã€‚è¿™æ¬¡é©å‘½çš„æ ¸å¿ƒåœ¨äºï¼š<strong>æ•°æ®é©±åŠ¨è§†å›¾ï¼ˆData-Drivenï¼‰</strong> ä¸ <strong>å£°æ˜å¼ç¼–ç¨‹</strong>ã€‚</p>
<h3 data-id="heading-7">3.1 å‘Šåˆ« DOM æ“ä½œ</h3>
<p>å¼€å‘è€…ä¸å†éœ€è¦å…³å¿ƒâ€œæ€ä¹ˆåšâ€ï¼ˆHow to update DOMï¼‰ï¼Œåªéœ€è¦å…³å¿ƒâ€œæ˜¯ä»€ä¹ˆâ€ï¼ˆWhat is the stateï¼‰ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹ <code>app.vue</code> æ˜¯å¦‚ä½•ä¼˜é›…åœ°è§£å†³åŒä¸€ä¸ªé—®é¢˜çš„ï¼š</p>
<pre><code class="hljs language-JavaScript" lang="JavaScript">&lt;script setup&gt;
<span class="hljs-keyword">import</span> { ref, onMounted } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;

<span class="hljs-comment">// 1. å®šä¹‰å“åº”å¼æ•°æ®</span>
<span class="hljs-keyword">const</span> users = <span class="hljs-title function_">ref</span>([]);

<span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'http://localhost:3000/users'</span>)
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
    <span class="hljs-comment">// 2. ä»…ä»…ä¿®æ”¹æ•°æ®ï¼Œç•Œé¢è‡ªåŠ¨æ›´æ–°</span>
    users.<span class="hljs-property">value</span> = data;
  })
})

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  users.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>({
    <span class="hljs-attr">id</span>: <span class="hljs-number">4</span>,
    <span class="hljs-attr">name</span>: <span class="hljs-string">'èµµå…­'</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">'485@qq.com'</span>
  })
}, <span class="hljs-number">2000</span>)

&lt;/script&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"user in users"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"user.id"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ user.id }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ user.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ user.email }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-8">3.2 æ ¸å¿ƒç†å¿µè§£æ</h3>
<p>è¿™ä¸€é˜¶æ®µæœ‰å‡ ä¸ªå…³é”®ç‰¹å¾ï¼š</p>
<ol>
<li>
<p>å“åº”å¼æ•°æ®ï¼ˆReactivityï¼‰ï¼š</p>
<p><code>ref([])</code> ä¸ä»…ä»…æ˜¯ä¸€ä¸ªå˜é‡ï¼Œå®ƒæ˜¯ä¸€ä¸ªè¢«åŒ…è£…çš„ä»£ç†å¯¹è±¡ã€‚å½“<code> users.value</code> å‘ç”Ÿå˜åŒ–æ—¶ï¼ŒVue çš„å“åº”å¼ç³»ç»Ÿä¼šç«‹åˆ»æ„ŸçŸ¥ï¼Œå¹¶é€šçŸ¥è§†å›¾è¿›è¡Œæ›´æ–°ã€‚</p>
</li>
<li>
<p>å£°æ˜å¼æ¸²æŸ“ï¼ˆDeclarative Renderingï¼‰ï¼š</p>
<p>æˆ‘ä»¬ä¸å†æ‰‹åŠ¨å†™<code>document.createElement</code>æˆ–æ‹¼æ¥å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬ä½¿ç”¨<code>{{}}</code>å’Œ<code>v-for</code>è¿™ç§æ¨¡æ¿è¯­æ³•ï¼Œæè¿°çŠ¶æ€ä¸ UI çš„æ˜ å°„å…³ç³»ã€‚</p>
<ul>
<li><em>åç«¯å¥—æ¨¡æ¿</em>ï¼šæ˜¯å­—ç¬¦ä¸²çš„æ›¿æ¢ï¼Œä¸€æ¬¡æ€§çš„ã€‚</li>
<li><em>å‰ç«¯æ•°æ®é©±åŠ¨</em>ï¼šæ˜¯æ´»çš„ç»‘å®šï¼Œæ•°æ®å˜ï¼Œè§†å›¾éšä¹‹å˜ã€‚</li>
</ul>
</li>
<li>
<p>ç»„ä»¶åŒ–ä¸å·¥ç¨‹åŒ–ï¼š</p>
<p>æ—©æœŸçš„ JS è„šæœ¬æ•£è½åœ¨ HTML ä¸­ï¼Œç»´æŠ¤ç¾éš¾ã€‚è€Œç°åœ¨ï¼Œé€šè¿‡ ESMï¼ˆECMAScript Modulesï¼‰å’Œæ„å»ºå·¥å…·ï¼ˆVite/Webpackï¼‰ï¼Œæˆ‘ä»¬å°†ä»£ç å°è£…åœ¨ .vue æˆ– .jsx æ–‡ä»¶ä¸­ã€‚JS ç»ˆäºæ‹¥æœ‰äº†åŸç”Ÿæ¨¡å—åŒ–èƒ½åŠ›ï¼ˆimport/exportï¼‰ï¼Œä½¿å¾—æ„å»ºå¤§å‹åº”ç”¨æˆä¸ºå¯èƒ½ã€‚</p>
</li>
</ol>
<h2 data-id="heading-9">ç»“è¯­ï¼šä»â€œåšé¡µé¢â€åˆ°â€œæ„å»ºåº”ç”¨â€</h2>
<p>å›é¡¾è¿™ä¸‰æ¬¡é©å‘½ï¼š</p>
<ol>
<li><strong>åç«¯ MVC æ—¶ä»£</strong>ï¼šè§£å†³äº†<strong>æœ‰æ— </strong>é—®é¢˜ï¼Œå®ç°äº†ä¿¡æ¯çš„å‘å¸ƒã€‚</li>
<li><strong>å‰åç«¯åˆ†ç¦»æ—¶ä»£</strong>ï¼šè§£å†³äº†<strong>åˆ†å·¥</strong>é—®é¢˜ï¼Œæå‡äº†ç”¨æˆ·ä½“éªŒï¼Œä½†å¸¦æ¥äº† DOM ç»´æŠ¤æˆæœ¬ã€‚</li>
<li><strong>æ•°æ®é©±åŠ¨æ—¶ä»£</strong>ï¼šè§£å†³äº†<strong>æ•ˆç‡ä¸å¤æ‚åº¦</strong>é—®é¢˜ï¼Œè®©å‰ç«¯èƒ½æ‰¿è½½å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚ 3D ç¼–è¾‘å™¨ã€åœ¨çº¿æ–‡æ¡£ï¼‰ã€‚</li>
</ol>
<p>ç°åœ¨çš„å¼€å‘è€…ï¼Œä¸å†æ˜¯ç®€å•çš„â€œåˆ‡å›¾å·¥â€ï¼Œè€Œæ˜¯è½¯ä»¶å·¥ç¨‹å¸ˆã€‚æˆ‘ä»¬åˆ©ç”¨ <code>ref</code> ç®¡ç†çŠ¶æ€ï¼Œåˆ©ç”¨ Canvas/WebGL æ¸²æŸ“ 3D ä¸–ç•Œï¼Œåˆ©ç”¨å·¥ç¨‹åŒ–å·¥å…·æ„å»ºåºå¤§çš„ç³»ç»Ÿã€‚</p>
<p>æ­£å¦‚<code>app.vue</code>ä»£ç ä¸­æ¼”ç¤ºçš„é‚£æ ·ï¼Œä¸€ä¸ª <code>setTimeout</code> å‘æ•°ç»„<code>push</code>ä¸€æ¡æ•°æ®ï¼Œè¡¨æ ¼è‡ªåŠ¨å¢åŠ ä¸€è¡Œã€‚è¿™çœ‹ä¼¼ç®€å•çš„è‡ªåŠ¨åŒ–èƒŒåï¼Œå‡èšäº†å‰ç«¯ç¤¾åŒºäºŒåå¹´æ¥å¯¹â€œå…³æ³¨ç‚¹åˆ†ç¦»â€çš„ä¸æ‡ˆè¿½æ±‚â€”â€”<strong>æŠŠç¹çç•™ç»™æ¡†æ¶ï¼ŒæŠŠåˆ›é€ åŠ›ç•™ç»™å¼€å‘è€…</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è·¨å¹³å°äººè„¸è¯†åˆ« SDK éƒ¨ç½²æŒ‡å—]]></title>    <link>https://juejin.cn/post/7582104240988373018</link>    <guid>https://juejin.cn/post/7582104240988373018</guid>    <pubDate>2025-12-11T05:35:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582104240988373018" data-draft-id="7582104240988323866" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è·¨å¹³å°äººè„¸è¯†åˆ« SDK éƒ¨ç½²æŒ‡å—"/> <meta itemprop="keywords" content="åç«¯,ä»£ç è§„èŒƒ,Linux"/> <meta itemprop="datePublished" content="2025-12-11T05:35:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿›å‡»çš„ä¸¸å­"/> <meta itemprop="url" content="https://juejin.cn/user/2506542243120680"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è·¨å¹³å°äººè„¸è¯†åˆ« SDK éƒ¨ç½²æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2506542243120680/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿›å‡»çš„ä¸¸å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:35:02.000Z" title="Thu Dec 11 2025 05:35:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è·¨å¹³å°äººè„¸è¯†åˆ« SDK éƒ¨ç½²æŒ‡å—</h2>
<p><strong>ï¼ˆLinux æœ¬åœ°ç¯å¢ƒ â†’ è™šæ‹Ÿæœº â†’ Dockerå…¨æµç¨‹æ¸…æ™°è®²è§£ï¼‰</strong></p>
<h2 data-id="heading-1">1. éƒ¨ç½²èƒŒæ™¯ä¸ç¯å¢ƒæ¶æ„æ¦‚è¿°</h2>
<h3 data-id="heading-2">1.1 éƒ¨ç½²èƒŒæ™¯</h3>
<p>åœ¨å¼€å‘è·¨å¹³å°äººè„¸è¯†åˆ«ç³»ç»Ÿçš„è¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªå¸¸è§çš„ç—›ç‚¹æ˜¯ï¼š</p>
<blockquote>
<p><strong>SDK æœ¬åœ°èƒ½è·‘ï¼Œä½†ç§»æ¤åˆ° Linuxã€Dockerç­‰ç¯å¢ƒå°±å„ç§ä¾èµ–ç¼ºå¤±ã€GLIBC ä¸å…¼å®¹ã€‚</strong></p>
</blockquote>
<p>ç¬”è€…æœ€è¿‘å®Œæˆäº†<a href="https://link.juejin.cn?target=https%3A%2F%2Fai.arcsoft.com.cn%2F%3Futm_source%3Djuejin%26%26utm_medium%3Dchenying" target="_blank" title="https://ai.arcsoft.com.cn/?utm_source=juejin&amp;&amp;utm_medium=chenying" ref="nofollow noopener noreferrer">è™¹è½¯äººè„¸è¯†åˆ« SDK</a> çš„ Spring Boot + Vue3 é¡¹ç›®åœ¨ Linux ç¯å¢ƒçš„éƒ¨ç½²ã€‚æœ¬æ–‡å°†å¸¦ä½ ä»é›¶å¼€å§‹æ¢³ç†å·¥ç¨‹è½åœ°æµç¨‹ï¼Œå¸®åŠ©ä½ åœ¨ <strong>Linux å®æœº/è™šæ‹Ÿæœº + Docker å®¹å™¨</strong> ä¸­é¡ºåˆ©è¿è¡Œ Linux Pro SDKã€‚</p>
<h3 data-id="heading-3">1.2 æœ¬åœ° / è™šæ‹Ÿæœº / Docker æ¶æ„è¯´æ˜</h3>
<p>ä¸ºäº†é¡ºåˆ©éƒ¨ç½²é¡¹ç›®ï¼Œæˆ‘ä»¬å…ˆæ˜ç¡®å‡ ä¸ªå…³é”®æ¦‚å¿µï¼šç‰©ç†æœºã€è™šæ‹Ÿæœºã€å®¹å™¨ï¼ˆDockerï¼‰åˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Œå…¶åŒºåˆ«æ˜¯ä»€ä¹ˆã€‚</p>
<h4 data-id="heading-4">1.2.1 æœ¬åœ°ç‰©ç†æœº</h4>
<p>ç›´æ¥è¿è¡Œåœ¨è®¡ç®—æœºç¡¬ä»¶ä¸Šçš„ç³»ç»Ÿï¼Œä¾‹å¦‚ä½ çš„ Windows æˆ– Linux ä¸»æœºã€‚</p>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>

















<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>æ€§èƒ½å¥½ã€ç®€å•æ˜“ç”¨</td><td>ç¯å¢ƒä¸å¯å¤åˆ¶ã€è¿ç§»å›°éš¾</td></tr><tr><td>æ— è™šæ‹Ÿå±‚ï¼Œé€Ÿåº¦æœ€å¿«</td><td>é…ç½®æ˜“æ±¡æŸ“ã€ç»´æŠ¤å›°éš¾</td></tr></tbody></table>
<p>é€‚åˆåœºæ™¯ï¼š</p>
<ul>
<li>æœ¬åœ°å¼€å‘</li>
<li>å°è§„æ¨¡æµ‹è¯•</li>
</ul>
<h4 data-id="heading-5">1.2.2 è™šæ‹Ÿæœºï¼ˆVMï¼‰</h4>
<p>åœ¨ Windows ä¸­é€šè¿‡ Hyper-Vã€VirtualBoxã€VMware å¯åŠ¨ä¸€ä¸ª <strong>å®Œæ•´çš„ Ubuntu ç³»ç»Ÿ</strong>ã€‚</p>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>

















<table><thead><tr><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td>éš”ç¦»æ€§å®Œç¾</td><td>å†…å­˜å ç”¨å¤§ã€å¯åŠ¨æ…¢</td></tr><tr><td>èƒ½æ¨¡æ‹ŸçœŸå®ç”Ÿäº§ç¯å¢ƒ</td><td>é•œåƒå¤§ï¼Œä¸å®œæ‰©å±•</td></tr></tbody></table>
<p>é€‚åˆï¼š</p>
<ul>
<li>å¼€å‘ç¯å¢ƒæ¨¡æ‹Ÿç”Ÿäº§ç¯å¢ƒ</li>
<li>å¤šç³»ç»Ÿæµ‹è¯•ï¼ˆWindows ä¸Šè·‘ Linuxï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-6">1.2.3 Docker å®¹å™¨</h4>
<p>å…±äº«å®¿ä¸»æœºå†…æ ¸ï¼Œæ— éœ€æ¯ä¸ªå®ä¾‹éƒ½å®‰è£…å®Œæ•´ç³»ç»Ÿã€‚</p>
<p><strong>å®¹å™¨ vs è™šæ‹Ÿæœºå¯¹æ¯”ï¼š</strong></p>

























<table><thead><tr><th>å¯¹æ¯”é¡¹</th><th>è™šæ‹Ÿæœº</th><th>Docker</th></tr></thead><tbody><tr><td>å¯åŠ¨é€Ÿåº¦</td><td>åˆ†é’Ÿçº§</td><td>ç§’çº§</td></tr><tr><td>å ç”¨èµ„æº</td><td>å¤šï¼ˆç‹¬ç«‹ç³»ç»Ÿï¼‰</td><td>å°‘ï¼ˆå…±äº«å†…æ ¸ï¼‰</td></tr><tr><td>éƒ¨ç½²ç¯å¢ƒ</td><td>éš¾ä»¥å¤åˆ¶</td><td>ä¸€è‡´å¯å¤ç°</td></tr></tbody></table>
<p>é€‚åˆï¼š</p>
<ul>
<li>ç”Ÿäº§ç¯å¢ƒ</li>
<li>å¾®æœåŠ¡æ¶æ„</li>
<li>DevOpsã€CI/CD è‡ªåŠ¨åŒ–</li>
</ul>
<p><strong>ä¸¾ä¾‹ï¼š</strong> ä½ å¯ä»¥æŠŠä¸€ä¸ª Java Spring Boot åº”ç”¨æ‰“åŒ…æˆä¸€ä¸ª Docker é•œåƒï¼Œäº¤ç»™ä»»ä½•æœºå™¨è¿è¡Œï¼Œä¸éœ€è¦å®‰è£… JDK æˆ–é…ç½®ç¯å¢ƒå˜é‡ã€‚</p>
<hr/>
<h2 data-id="heading-7">2. ç¯å¢ƒä¾èµ–ä¸ç‰ˆæœ¬æ£€æŸ¥</h2>
<p>æœ¬æ–‡æ¶‰åŠçš„ä¸‰å±‚ç¯å¢ƒï¼ˆHost â†’ VM â†’ Dockerï¼‰ï¼š</p>
<pre><code class="hljs">Windows ä¸»æœº
 â””â”€â”€ Ubuntu è™šæ‹Ÿæœºï¼ˆVirtualBoxï¼‰
 Â  Â   â””â”€â”€ Docker å®¹å™¨ï¼ˆè¿è¡Œ SDK Demoï¼‰
</code></pre>
<p>å…·ä½“ç‰ˆæœ¬å¦‚ä¸‹ï¼š</p>

























<table><thead><tr><th>ç¯å¢ƒ</th><th>æ¨èç‰ˆæœ¬</th></tr></thead><tbody><tr><td>Host OS</td><td>Windows 11</td></tr><tr><td>VM OS</td><td>Ubuntu 18.04</td></tr><tr><td>Docker Base</td><td>Ubuntu:18.04</td></tr><tr><td>SDK</td><td>ArcSoft_ArcFacePro_linuxPro</td></tr></tbody></table>
<h4 data-id="heading-8">Linux ç¯å¢ƒå¿…è¦ä¾èµ–æ£€æŸ¥</h4>
<p>SDK å¤§å¤šä¾èµ–ç‰¹å®šç‰ˆæœ¬çš„ï¼š</p>
<ul>
<li><strong>GLIBC</strong></li>
<li><strong>GLIBCXXï¼ˆlibstdc++ï¼‰</strong></li>
<li><strong>GCC</strong></li>
</ul>
<p>æ¨èä¼˜å…ˆæ£€æŸ¥ï¼š</p>
<h5 data-id="heading-9">2.1 æŸ¥çœ‹ GLIBC ç‰ˆæœ¬</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#  æœ€ä½æ”¯æŒ2.17</span>
strings /usr/lib/x86_64-linux-gnu/libstdc++.so.* | grep GLIBC_
</code></pre>
<p>è¾“å‡ºç»“æœç¤ºä¾‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5937468a172745fbac6d7378ab55de23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=vE5KdXAYEvZBJrZHq4RPTciNQn4%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h5 data-id="heading-10">2.2 æŸ¥çœ‹ GLIBCXX ç‰ˆæœ¬</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æœ€ä½æ”¯æŒ3.4.21ç‰ˆæœ¬</span>
strings /usr/lib/x86_64-linux-gnu/libstdc++.so.* | grep GLIBCXX
</code></pre>
<p>è¾“å‡ºç»“æœç¤ºä¾‹ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6498ed4a8d13409fb717d0df7b5dcc09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=al0SvCy1B7fBQUKOsdqNAtGdjws%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-11">2.3 æŸ¥çœ‹ç¼–è¯‘å™¨ GCC ç‰ˆæœ¬</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æœ€ä½æ”¯æŒ4.8.2</span>
gcc --version
</code></pre>
<p>è¾“å‡ºç»“æœç¤ºä¾‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a916f7107d4e40f8bf390a64c0d28975~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=l4suSGmotbyLJcpAZwjXmpb%2FTQI%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-12">3. SDK éƒ¨ç½²æµç¨‹</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸åœ¨ Windows ç¯å¢ƒä¸­è¿›è¡Œé¡¹ç›®è°ƒè¯•ä¸æµ‹è¯•ï¼Œè€Œæœ€ç»ˆçš„ç”Ÿäº§éƒ¨ç½²å¤šè¿è¡Œåœ¨ Linux æœåŠ¡å™¨ä¸Šã€‚ ä»¥è™¹è½¯äººè„¸è¯†åˆ« SDK ä¸ºä¾‹ï¼Œå…¶å®˜æ–¹ Demo æ˜¯åŸºäº <strong>Spring Boot + Vue3</strong> å®ç°çš„å®Œæ•´åç«¯ä¸å‰ç«¯ç³»ç»Ÿã€‚ä¸ºäº†å°†è¯¥ç³»ç»Ÿè¿ç§»è‡³ Linux æœåŠ¡å™¨è¿è¡Œï¼Œæˆ‘ä»¬éœ€è¦å®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š</p>
<ol start="0">
<li>åœ¨ Linux ç³»ç»Ÿï¼ˆæˆ– WSL Ubuntu å­ç³»ç»Ÿï¼‰ä¸­æ­å»ºè¿è¡Œç¯å¢ƒã€‚</li>
<li>å°†é¡¹ç›®æ‰“åŒ…æˆå¯æ‰§è¡Œ JAR æ–‡ä»¶ã€‚</li>
<li>åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œå¹¶éªŒè¯ã€‚</li>
<li>ä½¿ç”¨ Docker å®¹å™¨åŒ–è¿è¡Œï¼Œæ–¹ä¾¿éƒ¨ç½²ä¸è¿ç§»ã€‚</li>
</ol>
<h3 data-id="heading-13">3.1 åœ¨ Linux éƒ¨ç½² JAR æœåŠ¡ï¼ˆæœ¬åœ°ç‰©ç†æœºéƒ¨ç½² jar åŒ…ï¼‰</h3>
<ol start="0">
<li>ç”±äºè™¹è½¯å®˜æ–¹æºç æ˜¯javaç¯å¢ƒï¼Œæ‰€ä»¥æˆ‘ä»¬è¿è¡Œè¯¥demoéœ€è¦å…ˆé…ç½®javaç¯å¢ƒï¼Œå¯ä»¥å…ˆæ£€æŸ¥ä¸€ä¸‹è‡ªå·±çš„ç³»ç»Ÿé‡Œæ˜¯å¦æœ‰å®‰è£…ï¼ˆjdkæ¨èå®‰è£…1.8ç‰ˆæœ¬ï¼‰ï¼š</li>
</ol>

<pre><code class="hljs">java -version
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d804d4a58f44bdebd11e385c0daa143~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=aznHCzH6CVwsvyZzgHVgTtzLw0s%3D" alt="image.png" loading="lazy"/></p>
<ol start="2">
<li>å¯ä»¥çœ‹åˆ°linuxç¯å¢ƒï¼ˆUbuntu 18ï¼‰é‡Œæ˜¯æ²¡æœ‰å®‰è£…Javaçš„ï¼Œè¿™é‡Œæˆ‘ä»¬æ ¹æ®æç¤ºå®‰è£…ï¼Œdefault-jreåœ¨Ubuntu 18ç³»ç»Ÿé‡Œé»˜è®¤æ˜¯11ç‰ˆæœ¬ï¼š</li>
</ol>

<pre><code class="hljs">sudo apt install openjdk-11-jre-headless
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be11734db1dc40f29d3a796aad9cf29f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=%2B5NfoQQXj1%2FF5NZdqAj23wdGP9o%3D" alt="image.png" loading="lazy"/></p>
<ol start="3">
<li>å®‰è£…å®Œæˆåå¯ä»¥å†æ¬¡æŸ¥çœ‹java -versionï¼š</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed56954e240a45c98f3594c66dc69212~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=lKplpGgQUugyac6jtxlruYvb%2F8I%3D" alt="image.png" loading="lazy"/></p>

<ol start="4">
<li>å‡ºç°11.0.19çš„å­—æ ·å°±è¯´æ˜å®‰è£…æˆåŠŸäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥åœ¨æœ¬åœ°è·‘ä¸€ä¸‹è™¹è½¯çš„demoäº†ï¼Œé¦–å…ˆä»å®˜ç½‘ä¸‹è½½serveræºç demoï¼š</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e245bb9612d4ecb9ebcf24499e2fbca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=u%2BUPJ5j9mtUBdHwwLb3Or6%2FDy3k%3D" alt="image.png" loading="lazy"/></p>

<ol start="5">
<li>ä¸‹è½½åä½¿ç”¨ideaè¿è¡Œè¯¥é¡¹ç›®ï¼Œå¹¶ä¿®æ”¹<code>appid</code> ã€<code>sdk-key</code>ã€ <code>active-key</code> ï¼Œç”¨mavenç¼–è¯‘è¯¥demoçš„jaråŒ…ï¼š</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6af47fd007034a398e28706841b96ead~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=2L2j3KYQtlSqPv%2BAujWAzA%2BKN5A%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d195a654bcc4a0b830c731652a276ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=sdT4%2F23UEGn77FicP6%2Fr8vzwKs8%3D" alt="image.png" loading="lazy"/></p>

<ol start="6">
<li>ä¸ºäº†æ–¹ä¾¿è¿è¡Œï¼Œç»™è¿™ä¸ªjaråŒ…æ”¹åä¸ºface-demo.jarï¼Œå¹¶æ”¾åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼š</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5cf94052d1994de49a16b4d21264f24d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=Bi1Y1W%2B%2FnW%2BGqaR3GhVrFEpJntA%3D" alt="image.png" loading="lazy"/></p>

<ol start="7">
<li>ç„¶åæ‰§è¡Œå‘½ä»¤ï¼š</li>
</ol>

<pre><code class="hljs">java -jar face-demo.jar
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63563e1353ce4c249cdcda36cda6fa2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=m%2FIc%2B1bDOlws0oJjrP%2BXOUrGaOo%3D" alt="image.png" loading="lazy"/></p>
<ol start="8">
<li>ç­‰å¾…ç¨‹åºè¿è¡Œï¼Œè¿è¡ŒæˆåŠŸä¼šå‡ºç°ä»¥ä¸‹ç•Œé¢ï¼Œç‚¹å‡»è®¿é—®é»˜è®¤è®¿é—®åœ°å€åˆ™å¯ä»¥è®¿é—®è¯¥ç½‘ç«™ï¼š</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a53a552843446dfb4999620d6b9aca5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=bStMQ7gIG2XZz9LLDrUwBX6MRLE%3D" alt="image.png" loading="lazy"/></p>

<ol start="9">
<li>logä¸­æ²¡æœ‰å‡ºç°é”™è¯¯åˆ™è¡¨ç¤ºè¿è¡ŒæˆåŠŸï¼Œè®¿é—®åˆ™å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„ç½‘é¡µï¼š</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd3a7c844cbf4006bd05aa0dc461d470~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=sMBz6zyRg8lnWFfM7aouAFT%2FihA%3D" alt="image.png" loading="lazy"/>
<strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<p>å¦‚è‹¥è®¿é—®å¤±è´¥ï¼Œå¯ä»¥çœ‹ä¸‹å‘½ä»¤è¡Œlogä¸­æœ‰æ²¡æœ‰æ¿€æ´»å¤±è´¥çš„é—®é¢˜ï¼Œå¦‚æœæ¿€æ´»å¤±è´¥åˆ™æ›´é‡å¤ä¸€ä¸‹ä¸Šè¿°ä¿®æ”¹ <code>appid</code> ã€<code>sdk-key</code>ã€</p>
<p><code>active-key</code> çš„æ­¥éª¤ï¼Œä¸‹å›¾ <code>active-key</code> è¢«ä½¿ç”¨ååˆ™æ¿€æ´»å¤±è´¥ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ab2b2669a8841ea84aabbc78ad23014~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=4eMo339m4iMg8O3RW6ByivDRpyE%3D" alt="image-20251125170615420" loading="lazy"/></p>
<h3 data-id="heading-14">3.2 ä½¿ç”¨ Docker éƒ¨ç½² SDKï¼ˆä½¿ç”¨ Docker å®¹å™¨éƒ¨ç½² jar åŒ…ï¼‰</h3>
<h4 data-id="heading-15">3.2.1 å‡†å¤‡ Docker å®¹å™¨ï¼ˆå®‰è£… Dockerï¼‰</h4>
<ol start="0">
<li>å®‰è£…Dockerï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤:</li>
</ol>

<pre><code class="hljs language-sql" lang="sql">sudo apt<span class="hljs-operator">-</span><span class="hljs-keyword">get</span> <span class="hljs-keyword">update</span>
sudo apt<span class="hljs-operator">-</span><span class="hljs-keyword">get</span> installapt<span class="hljs-operator">-</span>transport<span class="hljs-operator">-</span>httpsca<span class="hljs-operator">-</span>certificates
curl \
software<span class="hljs-operator">-</span>properties<span class="hljs-operator">-</span>commonlsb<span class="hljs-operator">-</span><span class="hljs-keyword">release</span>
gnupg2
</code></pre>
<p>2.  å¸è½½æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœæœ‰ï¼‰</p>

<pre><code class="hljs language-arduino" lang="arduino">sudo apt-get remove docker docker-engine docker.io containerd runc
</code></pre>
<p>3.  æ›´æ–° apt</p>

<pre><code class="hljs language-sql" lang="sql">sudo apt <span class="hljs-keyword">update</span>
</code></pre>
<p>4.  å®‰è£…ä¾èµ–</p>

<pre><code class="hljs language-arduino" lang="arduino">sudo apt install ca-certificates curl gnupg lsb-release -y
</code></pre>
<p>5.  æ·»åŠ  Docker å®˜æ–¹ GPG Key</p>

<pre><code class="hljs language-arduino" lang="arduino">curl -fsSL https:<span class="hljs-comment">//download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span>
</code></pre>
<p>6.  æ·»åŠ  Docker å®˜æ–¹ä»“åº“</p>

<pre><code class="hljs language-bash" lang="bash">sudo add-apt-repository \
   <span class="hljs-string">"deb [arch=amd64] https://download.docker.com/linux/ubuntu \
   <span class="hljs-subst">$(lsb_release -cs)</span> \
   stable"</span>
</code></pre>
<p>7.  å®‰è£… Docker</p>

<pre><code class="hljs language-lua" lang="lua">sudo apt update
sudo apt install docker-ce docker-ce-cli containerd.<span class="hljs-built_in">io</span> -y
</code></pre>
<p>8.  éªŒè¯</p>

<pre><code class="hljs language-arduino" lang="arduino">docker --version
sudo docker run hello-world
</code></pre>
<p>9.  å®‰è£…æˆåŠŸç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75ded122825f4bd3bdf699a052c68a8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=AhcuhAkSOTUVJuZKVgUIRWjmkPo%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-16">3.2.2 å‡†å¤‡ JAR åŒ…</h4>
<p>ä½¿ç”¨è™¹è½¯å®˜æ–¹demoæ„å»ºjaråŒ…ï¼ˆface-demo-docker.jarï¼‰ï¼Œå¯ä»¥å‚è€ƒ3.1ä¸­ä¸‹è½½æ­¥éª¤ï¼Œè¿™é‡Œä¸å†èµ˜è¿°</p>
<h4 data-id="heading-17">3.2.3 å‡†å¤‡ä¸€ä¸ªåŸºç¡€ Dockerfile</h4>
<p>æˆ‘ä»¬éœ€è¦äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯ Dockerfileï¼ŒDockerfile å°±æ˜¯ä¸€ä»½ <strong>æ„å»º Docker é•œåƒçš„â€œé…æ–¹â€</strong> ã€‚åªè¦å†™å¥½ Dockerfileï¼Œæ‰§è¡Œ <code>docker build</code>ï¼ŒDocker å°±èƒ½è‡ªåŠ¨ï¼š</p>
<ul>
<li>æ‹‰é•œåƒ</li>
<li>å¤åˆ¶æ–‡ä»¶</li>
<li>å®‰è£…ä¾èµ–</li>
<li>å¯åŠ¨ä½ çš„ SpringBoot Jar</li>
<li>æ‰“åŒ…æˆä¸€ä¸ªå¯è¿è¡Œçš„é•œåƒ</li>
</ul>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª <code>Dockerfile</code>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸºäº JDK 11 é•œåƒ</span>
FROM eclipse-temurin:11-jdk-jammy
â€‹
<span class="hljs-comment"># å·¥ä½œç›®å½•</span>
WORKDIR /app
â€‹
<span class="hljs-comment">#å¤åˆ¶jaræ–‡ä»¶</span>
COPY face-demo-docker.jar /app/app.jar
â€‹
<span class="hljs-comment"># å£°æ˜å®¹å™¨åœ¨è¿è¡Œæ—¶ä¼šç›‘å¬çš„ç«¯å£å·ï¼Œè¿™é‡Œçš„ç«¯å£å·åªæ˜¯ä¸€ä¸ªå£°æ˜ï¼Œä¸ä¼šçœŸæ­£æ‰“å¼€ç«¯å£ï¼Œä¹Ÿä¸ä¼šå½±å“å®¹å™¨è¿è¡Œ</span>
<span class="hljs-comment"># çœŸæ­£å†³å®šå¤–éƒ¨è®¿é—®ç«¯å£çš„æ˜¯ï¼šdocker run -p å®¿ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£</span>
EXPOSE 8089
â€‹
<span class="hljs-comment"># å®¹å™¨å¯åŠ¨å‘½ä»¤</span>
ENTRYPOINT [<span class="hljs-string">"java"</span>, <span class="hljs-string">"-jar"</span>, <span class="hljs-string">"/app/app.jar"</span>]
</code></pre>
<h4 data-id="heading-18">3.2.4 æ„å»ºé•œåƒ</h4>
<p>æ„å»ºé•œåƒï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">docker build -t face-demo-image:v1 .
</code></pre>
<p><code>docker build</code>ï¼šæ„å»ºé•œåƒçš„å‘½ä»¤ã€‚</p>
<p><code>-t face-demo-image:latest</code>ï¼šç»™ç”Ÿæˆçš„é•œåƒæ‰“ä¸Šä¸€ä¸ªæ ‡ç­¾ï¼ˆtagï¼‰ã€‚</p>
<ul>
<li><code>face-demo</code>-image æ˜¯é•œåƒåç§°ï¼›</li>
<li><code>latest</code> æ˜¯æ ‡ç­¾ï¼ˆä¸€èˆ¬è¡¨ç¤ºæœ€æ–°ç‰ˆï¼Œå¯è‡ªå®šä¹‰ï¼Œæ¯”å¦‚ <code>v1</code>ï¼‰ã€‚</li>
</ul>
<p><code>.</code>ï¼šè¡¨ç¤ºæ„å»ºä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰ä¸ºå½“å‰ç›®å½•ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šåœ¨å½“å‰ç›®å½•æŸ¥æ‰¾ <code>Dockerfile</code> æ–‡ä»¶å¹¶æ‰“åŒ…æ‰€æœ‰å†…å®¹ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42267027d2824ea88c53f170f8f1a808~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=%2BFk2zLvoXZnFkwZPeIrlL1jvKX8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<p>dockerç›¸åŒé•œåƒå + ç›¸åŒ tagï¼ˆå®Œå…¨é‡å¤ï¼‰â†’ ä¼šè¢«è¦†ç›–ï¼Œnoneå°±æ˜¯è¢«è¦†ç›–çš„é‚£ä¸ªï¼Œå»ºè®®buildé•œåƒå‰å…ˆæ£€æŸ¥ä¸€ä¸‹å·²æœ‰çš„é•œåƒ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06b2abe2752043af84a7a580c647528a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=wvw66sV7kecjcva9CwtLoIWHXi8%3D" alt="image.png" loading="lazy"/>
ç›¸åŒé•œåƒå+ä¸åŒtagï¼Œåˆ™å¯ä»¥å…±å­˜</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eda3a6a46edb457db7d6952555df1044~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=7i5FdpV%2Fa2xT8ZKC4R8IrEOA0S0%3D" alt="image.png" loading="lazy"/>
åˆ é™¤ç›¸åŒé•œåƒå+ä¸åŒtagåˆ™è¦åˆ é™¤å¯¹åº”tag</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbfa5c6cbff449a6b9dcf72c17052c5a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=2mJRtjpl%2BhqdUOFIX2Pov%2BinFIo%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-19">3.2.5 è¿è¡Œå®¹å™¨</h4>
<pre><code class="hljs language-arduino" lang="arduino">docker run -it -p <span class="hljs-number">9000</span>:<span class="hljs-number">8089</span> --name arcface-container face-demo-image:v1
</code></pre>





























<table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><code>docker run</code></td><td>åˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªæ–°å®¹å™¨</td></tr><tr><td><code>-it</code></td><td>è¿›å…¥äº¤äº’å¼ç»ˆç«¯ï¼ˆå‰å°ï¼‰ï¼Œåå°è¿è¡Œä½¿ç”¨-d</td></tr><tr><td><code>-p 9000:8089</code></td><td><strong>ç«¯å£æ˜ å°„</strong>ï¼šå°†å®¿ä¸»æœºçš„ <code>9000</code> ç«¯å£æ˜ å°„åˆ°å®¹å™¨çš„ <code>8089</code> ç«¯å£(<strong>8089</strong>æ˜¯jaråŒ…é‡Œé¢å®šä¹‰çš„ç«¯å£å·ï¼‰</td></tr><tr><td><code>--name arcface-container</code></td><td>ç»™å®¹å™¨å–åä¸º <code>arcface</code>ï¼Œæ–¹ä¾¿åç»­ç®¡ç†</td></tr><tr><td><code>face-demo-image:v1</code></td><td>æŒ‡å®šè¦è¿è¡Œçš„é•œåƒåç§°å’Œç‰ˆæœ¬æ ‡ç­¾ï¼ˆä½ ä¹‹å‰ build çš„é•œåƒï¼‰</td></tr></tbody></table>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e181168d0fb1476dbf434b3a08cd7700~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=dxKC1z%2FEH6rEZWg9M31P29CIifk%3D" alt="image.png" loading="lazy"/>
æŸ¥çœ‹è¿è¡ŒçŠ¶æ€ï¼š</p>
<pre><code class="hljs">docker ps
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0f8258fe974c43c58a7b4d26edad7c6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=LCVljbM%2FYxXsyRyLTPciHlg1mgg%3D" alt="image.png" loading="lazy"/>
è‹¥å®¹å™¨çŠ¶æ€ä¸º <code>Up</code>ï¼Œè¯´æ˜æœåŠ¡å¯åŠ¨æˆåŠŸã€‚ æ­¤æ—¶å¯ä»¥è®¿é—®ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">http://<span class="hljs-tag">&lt;<span class="hljs-name">ä½ çš„æœåŠ¡å™¨IP</span>&gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">ä½ çš„ç«¯å£å·</span>&gt;</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c5530f66418428c89bce61b178a73fd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=T5cRdiVMVT9vlTm7bK6e0C%2Be9Kw%3D" alt="image.png" loading="lazy"/>
<strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p>
<ol start="0">
<li>å®¹å™¨åä¸èƒ½é‡å¤</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd77c4458d56429a9f30deb6cb539df8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5Li45a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036102&amp;x-signature=rPz%2B%2F6vch9H5o59y5LxX%2FP0NAKg%3D" alt="image.png" loading="lazy"/></p>

<ol start="2">
<li><strong>ä¸€ä¸ªæ¿€æ´»ç åªèƒ½ç”¨ä¸€ä¸ªå®¹å™¨</strong>ï¼Œå®¹å™¨é‡å¯åä¼šå¯¼è‡´åŸæ¿€æ´»ç å¤±æ•ˆ</li>
</ol>
<h2 data-id="heading-20">4. å¸¸è§é—®é¢˜ï¼ˆFAQï¼‰</h2>






























<table><thead><tr><th>é—®é¢˜</th><th>å¯èƒ½åŸå› </th><th>è§£å†³æ–¹æ³•</th></tr></thead><tbody><tr><td>è®¿é—®ä¸åˆ°æœåŠ¡</td><td>é˜²ç«å¢™æˆ–ç«¯å£æœªå¼€æ”¾</td><td><code>sudo ufw allow &lt;ä½ çš„ç«¯å£&gt;</code> å¼€æ”¾ç«¯å£</td></tr><tr><td>Docker æ„å»ºæ…¢</td><td>ç½‘ç»œé•œåƒæºæœªæ›¿æ¢</td><td>å¯æ¢ä¸ºé˜¿é‡Œäº‘æˆ–ä¸­ç§‘å¤§é•œåƒæº</td></tr><tr><td>Jar å¯åŠ¨å¤±è´¥</td><td>JDK ç‰ˆæœ¬ä¸åŒ¹é…</td><td>ä½¿ç”¨ <code>java -version</code> ç¡®è®¤ JDK ä¸é¡¹ç›®ä¸€è‡´</td></tr><tr><td>é¡¹ç›®è·¯å¾„æƒé™é—®é¢˜</td><td>æœªèµ‹æ‰§è¡Œæƒé™</td><td>ä½¿ç”¨ <code>chmod +x face-demo.jar</code></td></tr></tbody></table>
<h2 data-id="heading-21">5. æ€»ç»“</h2>
<p>æœ¬æ–‡å›´ç»•<a href="https://link.juejin.cn?target=https%3A%2F%2Fai.arcsoft.com.cn%2F%3Futm_source%3Djuejin%26%26utm_medium%3Dchenying" target="_blank" title="https://ai.arcsoft.com.cn/?utm_source=juejin&amp;&amp;utm_medium=chenying" ref="nofollow noopener noreferrer">è™¹è½¯äººè„¸è¯†åˆ« SDK</a>çš„è·¨å¹³å°éƒ¨ç½²ï¼Œä» <strong>Windows æœ¬åœ°ç¯å¢ƒã€Ubuntu è™šæ‹Ÿæœºåˆ° Docker å®¹å™¨åŒ–è¿è¡Œ</strong>ï¼Œå®Œæ•´æ¢³ç†äº†å®é™…é¡¹ç›®åœ¨ä¸åŒç¯å¢ƒä¸‹çš„è½åœ°æµç¨‹ã€‚é€šè¿‡é€æ­¥éªŒè¯ç³»ç»Ÿä¾èµ–ã€æ£€æŸ¥ glibc ä¸ libstdc++ç‰ˆæœ¬ã€é…ç½® Java è¿è¡Œç¯å¢ƒã€æ„å»º Spring Boot Jar åŒ…ï¼Œå†åˆ°æœ€åä½¿ç”¨ Docker æ‰“åŒ…é•œåƒå¹¶è¿è¡ŒæœåŠ¡ï¼Œæ•´ä¸ªè¿‡ç¨‹å±•ç¤ºäº†ä¸€ä¸ªè·¨å¹³å°é¡¹ç›®ä»å¼€å‘ç¯å¢ƒè¿‡æ¸¡åˆ°ç”Ÿäº§ç¯å¢ƒçš„å®Œæ•´è·¯å¾„ã€‚å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©ä½ åœ¨åç»­çš„å·¥ç¨‹ä¸­æ›´åŠ é¡ºåˆ©åœ°è¿›è¡Œéƒ¨ç½²ä¸ä¸Šçº¿ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¼€æºä¸€ä¸ª Nuxt 4 å¯¼èˆªç«™æ¨¡æ¿ï¼ŒåŠŸèƒ½å®Œæ•´ï¼Œæ‹¿æ¥å³ç”¨ï¼]]></title>    <link>https://juejin.cn/post/7582110969201197094</link>    <guid>https://juejin.cn/post/7582110969201197094</guid>    <pubDate>2025-12-11T05:06:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582110969201197094" data-draft-id="7582118218649157658" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¼€æºä¸€ä¸ª Nuxt 4 å¯¼èˆªç«™æ¨¡æ¿ï¼ŒåŠŸèƒ½å®Œæ•´ï¼Œæ‹¿æ¥å³ç”¨ï¼"/> <meta itemprop="keywords" content="å‰ç«¯,å¼€æº"/> <meta itemprop="datePublished" content="2025-12-11T05:06:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Pubçš„çŸ¥è¯†èŠ±å›­"/> <meta itemprop="url" content="https://juejin.cn/user/1591748567524232"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¼€æºä¸€ä¸ª Nuxt 4 å¯¼èˆªç«™æ¨¡æ¿ï¼ŒåŠŸèƒ½å®Œæ•´ï¼Œæ‹¿æ¥å³ç”¨ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1591748567524232/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Pubçš„çŸ¥è¯†èŠ±å›­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:06:37.000Z" title="Thu Dec 11 2025 05:06:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">å¼€æºä¸€ä¸ª Nuxt 4 ç›®å½•ç½‘ç«™æ¨¡æ¿ï¼ŒåŠŸèƒ½å®Œæ•´ï¼Œæ‹¿æ¥å³ç”¨ï¼</h2>
<h3 data-id="heading-1">ğŸ¯ å‰è¨€</h3>
<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ Pubã€‚</p>
<p>æœ€è¿‘å¼€æºäº†ä¸€ä¸ªé¡¹ç›® <strong>Nuxt Mkdirs</strong> â€”â€” ä¸€ä¸ªåŸºäº <strong>Nuxt 4</strong> æ„å»ºçš„ç›®å½•ç½‘ç«™æ¨¡æ¿ã€‚</p>
<blockquote>
<p>ğŸ”— GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FPBHAHAHA%2FNuxt_Mkdirs" target="_blank" title="https://github.com/PBHAHAHA/Nuxt_Mkdirs" ref="nofollow noopener noreferrer">github.com/PBHAHAHA/Nuâ€¦</a></p>
<p>ğŸŒ ä»‹ç»é¡µåœ°å€: <a href="https://link.juejin.cn?target=https%3A%2F%2Fnuxt-mkdirs.com" target="_blank" title="https://nuxt-mkdirs.com" ref="nofollow noopener noreferrer">nuxt-mkdirs.com</a></p>
</blockquote>
<p>è¿™ä¸ªé¡¹ç›®ä¹‹å‰æ˜¯ä½œä¸ºä»˜è´¹æ¨¡æ¿åœ¨å–ï¼Œä½†æ•ˆæœä¸å¤ªç†æƒ³ï¼Œç´¢æ€§å¼€æºå‡ºæ¥ï¼Œå¸Œæœ›èƒ½å¸®åˆ°æœ‰éœ€è¦çš„åŒå­¦ã€‚</p>
<p><strong>å…ˆæ”¾å‡ å¼ æ•ˆæœå›¾ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57eaa1e0b13b4eee8708137705896e43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUHVi55qE55-l6K-G6Iqx5Zut:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036256&amp;x-signature=6KzbdQkOfPqd25SdkVC7DpnM7YA%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251211124406_30_54.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6dfcebef8e0413493259063b7bc4c9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUHVi55qE55-l6K-G6Iqx5Zut:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036256&amp;x-signature=XYBBnhYht5pv%2B8RxulJpmwT1ET0%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251211124432_31_54.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/deef3294275b41e5b8637b976ec5b187~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgUHVi55qE55-l6K-G6Iqx5Zut:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036256&amp;x-signature=OY0CDNCwcdGgYtDWDbc7unaSdBo%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251211124443_32_54.png" loading="lazy"/></p>
<h3 data-id="heading-2">ğŸ¤” ä¸ºä»€ä¹ˆåšè¿™ä¸ªï¼Ÿ</h3>
<p>ç›®å½•ç½‘ç«™ï¼ˆDirectory Websiteï¼‰æ˜¯ä¸€ç§å¾ˆå¸¸è§çš„ç½‘ç«™ç±»å‹ï¼š</p>
<ul>
<li>ğŸ¤– AI å·¥å…·å¯¼èˆªç«™</li>
<li>ğŸ’» ç‹¬ç«‹å¼€å‘è€…äº§å“ç›®å½•</li>
<li>ğŸ“¦ SaaS äº§å“æ”¶å½•ç«™</li>
<li>ğŸ¨ è®¾è®¡èµ„æºå¯¼èˆª</li>
</ul>
<p>å¸‚é¢ä¸Šçš„ç›®å½•æ¨¡æ¿å¤§å¤šæ˜¯ Next.jsï¼Œ<strong>Vue Nuxt ç”Ÿæ€ç›¸å¯¹è¾ƒå°‘</strong>ã€‚</p>
<p>ä½œä¸ºä¸€ä¸ª Vue/Nuxt å¼€å‘è€…ï¼Œæˆ‘å†³å®šè‡ªå·±æ’¸ä¸€ä¸ªï¼Œé¡ºä¾¿æŠŠå¸¸ç”¨çš„åŠŸèƒ½éƒ½é›†æˆè¿›å»ã€‚</p>
<h3 data-id="heading-3">ğŸ› ï¸ æŠ€æœ¯æ ˆ</h3>





































<table><thead><tr><th>ç±»åˆ«</th><th>æŠ€æœ¯</th></tr></thead><tbody><tr><td>æ¡†æ¶</td><td><strong>Nuxt 4</strong> + Vue 3</td></tr><tr><td>æ ·å¼</td><td><strong>TailwindCSS 4</strong> + Radix Vue</td></tr><tr><td>CMS</td><td><strong>Sanity</strong>ï¼ˆæ— å¤´ CMSï¼‰</td></tr><tr><td>è®¤è¯</td><td>Auth.jsï¼ˆGoogle/GitHub OAuthï¼‰</td></tr><tr><td>æ”¯ä»˜</td><td>Stripe + Creem</td></tr><tr><td>é‚®ä»¶</td><td>Resend</td></tr><tr><td>éƒ¨ç½²</td><td>NuxtHubï¼ˆCloudflareï¼‰</td></tr></tbody></table>
<h4 data-id="heading-4">ä¸ºä»€ä¹ˆç”¨ Sanity è€Œä¸æ˜¯æ•°æ®åº“ï¼Ÿ</h4>
<p>å¯èƒ½æœ‰åŒå­¦ä¼šé—®ï¼šä¸ºä»€ä¹ˆä¸ç”¨ MySQL/PostgreSQLï¼Ÿ</p>
<p><strong>Sanity ä½œä¸ºæ— å¤´ CMS çš„ä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li>âœ… <strong>é›¶æ•°æ®åº“é…ç½®</strong> - ä¸éœ€è¦è‡ªå·±æ­å»ºå’Œç»´æŠ¤æ•°æ®åº“</li>
<li>âœ… <strong>å¯è§†åŒ–åå°</strong> - Sanity Studio å¼€ç®±å³ç”¨</li>
<li>âœ… <strong>å…è´¹é¢åº¦å……è¶³</strong> - å°å‹é¡¹ç›®å®Œå…¨å¤Ÿç”¨</li>
<li>âœ… <strong>è‡ªå¸¦å›¾ç‰‡ CDN</strong> - ä¸ç”¨æ“å¿ƒå›¾ç‰‡å­˜å‚¨</li>
</ol>
<h3 data-id="heading-5">âœ¨ æ ¸å¿ƒåŠŸèƒ½</h3>
<h4 data-id="heading-6">1ï¸âƒ£ ä¸‰ç§é¦–é¡µå¸ƒå±€</h4>
<p>æä¾›äº† 3 ç§ä¸åŒé£æ ¼çš„é¦–é¡µï¼Œå¼€ç®±å³ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">/          <span class="hljs-comment"># é»˜è®¤é¦–é¡µ</span>
/home2     <span class="hljs-comment"># å¸ƒå±€äºŒ</span>
/home3     <span class="hljs-comment"># å¸ƒå±€ä¸‰</span>
</code></pre>
<h4 data-id="heading-7">2ï¸âƒ£ å®Œæ•´çš„ç›®å½•ç³»ç»Ÿ</h4>
<ul>
<li><strong>åˆ†ç±» (Category)</strong> - æ”¯æŒåˆ†ç»„å±•ç¤º</li>
<li><strong>æ ‡ç­¾ (Tag)</strong> - å¤šæ ‡ç­¾ç­›é€‰</li>
<li><strong>é›†åˆ (Collection)</strong> - è‡ªå®šä¹‰äº§å“é›†åˆ</li>
<li><strong>æœç´¢</strong> - å…¨æ–‡æœç´¢</li>
</ul>
<h4 data-id="heading-8">3ï¸âƒ£ ç”¨æˆ·ç³»ç»Ÿ</h4>
<ul>
<li>Google / GitHub OAuth ä¸€é”®ç™»å½•</li>
<li>ç”¨æˆ· Dashboard</li>
<li>ä¸ªäººè®¾ç½®</li>
</ul>
<h4 data-id="heading-9">4ï¸âƒ£ å†…å®¹æäº¤ &amp; å®¡æ ¸æµç¨‹</h4>
<pre><code class="hljs">ç”¨æˆ·æäº¤ â†’ å¾…å®¡æ ¸ â†’ ç®¡ç†å‘˜å®¡æ ¸ â†’ å‘å¸ƒ/æ‹’ç»
</code></pre>
<p>ç”¨æˆ·å¯ä»¥æäº¤äº§å“ï¼Œç®¡ç†å‘˜åœ¨ Sanity Studio åå°å®¡æ ¸ã€‚</p>
<h4 data-id="heading-10">5ï¸âƒ£ åŒæ”¯ä»˜ç³»ç»Ÿ</h4>
<ul>
<li><strong>Stripe</strong> - å›½é™…æ”¯ä»˜</li>
<li><strong>Creem</strong> - ğŸ‡¨ğŸ‡³ å›½å†…å‹å¥½ï¼Œæ”¯æŒå¤§é™†èº«ä»½è¯æ³¨å†Œ</li>
</ul>
<blockquote>
<p>ğŸ’¡ å¯¹äºå›½å†…å¼€å‘è€…ï¼Œå¼ºçƒˆæ¨è Creemï¼Œæ³¨å†Œç®€å•ï¼Œä¸éœ€è¦å…¬å¸èµ„è´¨ã€‚</p>
</blockquote>
<h4 data-id="heading-11">6ï¸âƒ£ åšå®¢ç³»ç»Ÿ</h4>
<p>å†…ç½®åšå®¢åŠŸèƒ½ï¼Œæ”¯æŒ Markdownï¼Œå¯ä»¥ç”¨æ¥åš SEO å¼•æµã€‚</p>
<h4 data-id="heading-12">7ï¸âƒ£ Newsletter è®¢é˜…</h4>
<p>é›†æˆ Resend é‚®ä»¶æœåŠ¡ï¼Œæ”¯æŒï¼š</p>
<ul>
<li>é‚®ä»¶è®¢é˜…</li>
<li>ä¸€é”®é€€è®¢</li>
<li>è®¢é˜…è€…ç®¡ç†</li>
</ul>
<h4 data-id="heading-13">8ï¸âƒ£ AI é›†æˆï¼ˆå¯é€‰ï¼‰</h4>
<p>æ”¯æŒæ¥å…¥ï¼š</p>
<ul>
<li>Google AI (Gemini)</li>
<li>DeepSeek</li>
<li>OpenAI</li>
</ul>
<p>å¯ä»¥ç”¨æ¥è‡ªåŠ¨ç”Ÿæˆäº§å“æè¿°ã€æ™ºèƒ½åˆ†ç±»ç­‰ã€‚</p>
<h3 data-id="heading-14">ğŸ“ é¡¹ç›®ç»“æ„</h3>
<pre><code class="hljs language-csharp" lang="csharp">nuxt-mkdirs/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ components/     <span class="hljs-meta"># 53+ ç»„ä»¶</span>
â”‚   â”œâ”€â”€ composables/    <span class="hljs-meta"># ç»„åˆå¼å‡½æ•°</span>
â”‚   â”œâ”€â”€ layouts/        <span class="hljs-meta"># 3 ç§å¸ƒå±€</span>
â”‚   â”œâ”€â”€ pages/          <span class="hljs-meta"># 30+ é¡µé¢</span>
â”‚   â””â”€â”€ config/         <span class="hljs-meta"># ç«™ç‚¹é…ç½®</span>
â”œâ”€â”€ server/
â”‚   â”œâ”€â”€ api/            <span class="hljs-meta"># 38+ API è·¯ç”±</span>
â”‚   â””â”€â”€ utils/          <span class="hljs-meta"># æœåŠ¡ç«¯å·¥å…·</span>
â”œâ”€â”€ sanity/
â”‚   â””â”€â”€ schemas/        <span class="hljs-meta"># 16 ä¸ª Schema</span>
â””â”€â”€ <span class="hljs-keyword">public</span>/             <span class="hljs-meta"># é™æ€èµ„æº</span>
</code></pre>
<h3 data-id="heading-15">ğŸš€ å¿«é€Ÿå¼€å§‹</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å…‹éš†é¡¹ç›®</span>
git <span class="hljs-built_in">clone</span> https://github.com/PBHAHAHA/Nuxt_Mkdirs.git
<span class="hljs-built_in">cd</span> Nuxt_Mkdirs

<span class="hljs-comment"># å®‰è£…ä¾èµ–</span>
pnpm install

<span class="hljs-comment"># å¤åˆ¶ç¯å¢ƒå˜é‡</span>
<span class="hljs-built_in">cp</span> .env.example .<span class="hljs-built_in">env</span>

<span class="hljs-comment"># å¯åŠ¨å¼€å‘æœåŠ¡å™¨</span>
pnpm dev
</code></pre>
<p>è®¿é—® <code>http://localhost:3000</code> å³å¯çœ‹åˆ°æ•ˆæœã€‚</p>
<h3 data-id="heading-16">âš™ï¸ é…ç½®è¯´æ˜</h3>
<h4 data-id="heading-17">Sanity CMSï¼ˆå¿…éœ€ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">NUXT_PUBLIC_SANITY_PROJECT_ID=your_project_id
NUXT_PUBLIC_SANITY_DATASET=production
NUXT_SANITY_API_TOKEN=your_api_token
</code></pre>
<h4 data-id="heading-18">OAuth è®¤è¯ï¼ˆå¯é€‰ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Google</span>
NUXT_AUTH_GOOGLE_CLIENT_ID=xxx
NUXT_AUTH_GOOGLE_CLIENT_SECRET=xxx

<span class="hljs-comment"># GitHub</span>
NUXT_AUTH_GITHUB_CLIENT_ID=xxx
NUXT_AUTH_GITHUB_CLIENT_SECRET=xxx

<span class="hljs-comment"># Secretï¼ˆç”¨ openssl rand -base64 32 ç”Ÿæˆï¼‰</span>
NUXT_AUTH_SECRET=xxx
</code></pre>
<h4 data-id="heading-19">é‚®ä»¶æœåŠ¡ï¼ˆå¯é€‰ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">NUXT_RESEND_API_KEY=re_xxxxx
NUXT_RESEND_EMAIL_FROM=noreply@yourdomain.com
</code></pre>
<h4 data-id="heading-20">æ”¯ä»˜ï¼ˆå¯é€‰ï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Stripeï¼ˆå›½é™…ï¼‰</span>
NUXT_STRIPE_SECRET_KEY=sk_xxxxx

<span class="hljs-comment"># Creemï¼ˆå›½å†…æ¨èï¼‰</span>
NUXT_CREEM_API_KEY=xxxxx
</code></pre>
<h3 data-id="heading-21">ğŸŒ ä¸€é”®éƒ¨ç½²</h3>
<p>æ¨èä½¿ç”¨ <strong>NuxtHub</strong> éƒ¨ç½²åˆ° Cloudflareï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx nuxthub deploy
</code></pre>
<p>ä¹Ÿæ”¯æŒ Vercelã€Netlify ç­‰å¹³å°ã€‚</p>
<h3 data-id="heading-22">ğŸ“„ å¼€æºåè®®</h3>
<p><strong>MIT</strong> åè®®ï¼Œå¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹ã€å•†ç”¨ã€‚</p>
<h3 data-id="heading-23">ğŸ™ å†™åœ¨æœ€å</h3>
<p>è¿™ä¸ªé¡¹ç›®å‰å‰ååèŠ±äº†ä¸å°‘æ—¶é—´ï¼Œè™½ç„¶ä½œä¸ºä»˜è´¹æ¨¡æ¿æ²¡å–å‡ºå»å‡ ä»½ï¼Œä½†å¼€æºå‡ºæ¥å¸Œæœ›èƒ½å¸®åˆ°æ›´å¤šäººã€‚</p>
<p><strong>å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼š</strong></p>
<ul>
<li>â­ <strong>Star</strong> ä¸€ä¸‹æ”¯æŒä½œè€…</li>
<li>ğŸ› å‘ç° Bug æ¬¢è¿æ <strong>Issue</strong></li>
<li>ğŸ“¢ åˆ†äº«ç»™æœ‰éœ€è¦çš„æœ‹å‹</li>
<li>ğŸ’¬ æœ‰é—®é¢˜å¯ä»¥è¯„è®ºåŒºäº¤æµ</li>
</ul>
<blockquote>
<p>ğŸ”— GitHub: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FPBHAHAHA%2FNuxt_Mkdirs" target="_blank" title="https://github.com/PBHAHAHA/Nuxt_Mkdirs" ref="nofollow noopener noreferrer">github.com/PBHAHAHA/Nuâ€¦</a></p>
</blockquote>
<p>ä¹Ÿå¯ä»¥åŠ æˆ‘å¾®ä¿¡äº¤æµï¼š<strong>w314709923x</strong></p>
<p><em>å¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œåˆ«å¿˜äº†ç‚¹èµ ğŸ‘ æ”¶è— â­ å…³æ³¨ â• ä¸‰è¿å“¦ï½</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React Native ä»é›¶å¼€å§‹å®Œæ•´æ•™ç¨‹ï¼ˆç¯å¢ƒé…ç½® â†’ å›½å†…é•œåƒåŠ é€Ÿ â†’ è¿è¡Œé¡¹ç›®ï¼‰]]></title>    <link>https://juejin.cn/post/7582118218649206810</link>    <guid>https://juejin.cn/post/7582118218649206810</guid>    <pubDate>2025-12-11T05:11:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582118218649206810" data-draft-id="7582118218649190426" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React Native ä»é›¶å¼€å§‹å®Œæ•´æ•™ç¨‹ï¼ˆç¯å¢ƒé…ç½® â†’ å›½å†…é•œåƒåŠ é€Ÿ â†’ è¿è¡Œé¡¹ç›®ï¼‰"/> <meta itemprop="keywords" content="React Native"/> <meta itemprop="datePublished" content="2025-12-11T05:11:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç å†œçªå›´NO1"/> <meta itemprop="url" content="https://juejin.cn/user/1843250655412046"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React Native ä»é›¶å¼€å§‹å®Œæ•´æ•™ç¨‹ï¼ˆç¯å¢ƒé…ç½® â†’ å›½å†…é•œåƒåŠ é€Ÿ â†’ è¿è¡Œé¡¹ç›®ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1843250655412046/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç å†œçªå›´NO1
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:11:29.000Z" title="Thu Dec 11 2025 05:11:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>React Native ä»é›¶å¼€å§‹å®Œæ•´æ•™ç¨‹ï¼ˆç¯å¢ƒé…ç½® â†’ å›½å†…é•œåƒåŠ é€Ÿ â†’ è¿è¡Œé¡¹ç›®ï¼‰</strong></h2>
<p>æœ¬æ•™ç¨‹å°†ä» <strong>ç¯å¢ƒé…ç½®</strong> å¼€å§‹ï¼Œåˆ° <strong>å›½å†…é•œåƒåŠ é€Ÿ</strong>ï¼Œæœ€åæˆåŠŸè¿è¡Œ React Native é¡¹ç›®ï¼ˆAndroid/iOSï¼‰ï¼Œé€‚åˆæ–°æ‰‹å’Œé‡åˆ°ç½‘ç»œé—®é¢˜çš„å¼€å‘è€…ã€‚</p>
<hr/>
<h3 data-id="heading-1"><strong>1. ç¯å¢ƒé…ç½®</strong></h3>
<h4 data-id="heading-2"><strong>1.1 å®‰è£… Node.js å’Œ npm/yarn</strong></h4>
<p>React Native éœ€è¦ Node.jsï¼ˆå»ºè®® LTS ç‰ˆæœ¬ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… Node.jsï¼ˆå®˜ç½‘ï¼šhttps://nodejs.org/ï¼‰</span>
<span class="hljs-comment"># å®‰è£…åæ£€æŸ¥ç‰ˆæœ¬</span>
node -v  <span class="hljs-comment"># è¦æ±‚ &gt;= 16</span>
npm -v   <span class="hljs-comment"># æˆ– yarn -vï¼ˆæ¨è yarnï¼‰</span>
</code></pre>
<h4 data-id="heading-3"><strong>1.2 å®‰è£… Java JDKï¼ˆAndroid å¿…éœ€ï¼‰</strong></h4>
<p>Android æ„å»ºéœ€è¦ JDK 17ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># macOSï¼ˆHomebrewï¼‰</span>
brew install openjdk@17

<span class="hljs-comment"># Linuxï¼ˆDebian/Ubuntuï¼‰</span>
sudo apt-get install openjdk-17-jdk

<span class="hljs-comment"># Windowsï¼ˆæ‰‹åŠ¨å®‰è£…ï¼‰</span>
<span class="hljs-comment"># ä¸‹è½½ï¼šhttps://adoptium.net/temurin/releases/</span>
</code></pre>
<p>éªŒè¯å®‰è£…ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">java -version  <span class="hljs-comment"># åº”æ˜¾ç¤º "openjdk 17.x.x"</span>
</code></pre>
<h4 data-id="heading-4"><strong>1.3 å®‰è£… Android Studioï¼ˆAndroid å¼€å‘ç¯å¢ƒï¼‰</strong></h4>
<ol>
<li>ä¸‹è½½ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fstudio" target="_blank" title="https://developer.android.com/studio" ref="nofollow noopener noreferrer">Android Studio</a>ã€‚</li>
<li>å®‰è£…æ—¶å‹¾é€‰ï¼š
<ul>
<li><strong>Android SDK</strong></li>
<li><strong>Android Emulator</strong></li>
<li><strong>Platform Tools</strong></li>
</ul>
</li>
<li>é…ç½®ç¯å¢ƒå˜é‡ï¼š
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># macOS/Linuxï¼šæ·»åŠ åˆ° ~/.zshrc æˆ– ~/.bashrc</span>
<span class="hljs-built_in">export</span> ANDROID_HOME=<span class="hljs-variable">$HOME</span>/Library/Android/sdk
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$ANDROID_HOME</span>/platform-tools
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$PATH</span>:<span class="hljs-variable">$ANDROID_HOME</span>/cmdline-tools/latest/bin

<span class="hljs-comment"># Windowsï¼šåœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­æ·»åŠ  ANDROID_HOME å’Œ Path</span>
 å³é”® æ­¤ç”µè„‘ â†’ å±æ€§ â†’ é«˜çº§ç³»ç»Ÿè®¾ç½® â†’ ç¯å¢ƒå˜é‡
 åœ¨ ç³»ç»Ÿå˜é‡ ä¸­ï¼š
 1. æ–°å»ºå˜é‡å ANDROID_HOMEï¼Œå€¼ä¸º SDK è·¯å¾„
 ï¼ˆå¦‚ C:\Users\ä½ çš„ç”¨æˆ·å\AppData\Local\Android\Sdkï¼‰
 2. ç¼–è¾‘ PATHï¼Œæ·»åŠ ä¸¤æ¡æ–°å€¼ï¼š
 %ANDROID_HOME%\platform-tools
 %ANDROID_HOME%\emulator
</code></pre>
</li>
<li>éªŒè¯ï¼š
<pre><code class="hljs language-bash" lang="bash">adb --version  <span class="hljs-comment"># åº”æ˜¾ç¤ºç‰ˆæœ¬å·</span>
</code></pre>
</li>
</ol>
<h4 data-id="heading-5"><strong>1.4 å®‰è£… Xcodeï¼ˆä»… macOSï¼ŒiOS å¼€å‘ï¼‰</strong></h4>
<ol>
<li>ä» App Store å®‰è£… <strong>Xcode</strong>ã€‚</li>
<li>å®‰è£…å‘½ä»¤è¡Œå·¥å…·ï¼š
<pre><code class="hljs language-bash" lang="bash">xcode-select --install
sudo xcodebuild -license accept
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-6"><strong>2. åˆ›å»º React Native é¡¹ç›®</strong></h3>
<h4 data-id="heading-7"><strong>2.1 ä½¿ç”¨å®˜æ–¹æ¨¡æ¿åˆå§‹åŒ–é¡¹ç›®</strong></h4>
<pre><code class="hljs language-bash" lang="bash">npx @react-native-community/cli init MyProject
<span class="hljs-built_in">cd</span> MyProject
</code></pre>
<h4 data-id="heading-8"><strong>2.2 å¯åŠ¨ Metro å¼€å‘æœåŠ¡å™¨</strong></h4>
<pre><code class="hljs language-bash" lang="bash">npm start
<span class="hljs-comment"># æˆ–</span>
yarn start
</code></pre>
<p>Metro ä¼šå¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡ï¼ˆé»˜è®¤ç«¯å£ 8081ï¼‰ï¼Œæä¾› JavaScript ä»£ç çš„çƒ­æ›´æ–°ã€‚</p>
<h4 data-id="heading-9"><strong>Metro æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h4>
<h5 data-id="heading-10"><strong>1. Metro çš„æ ¸å¿ƒä½œç”¨</strong></h5>
<p>Metro æ˜¯ React Native <strong>ä¸“ç”¨çš„ JavaScript æ‰“åŒ…å·¥å…·</strong>ï¼Œè´Ÿè´£ï¼š</p>
<ul>
<li>å®æ—¶å°†ä½ çš„ React ä»£ç å’Œä¾èµ–æ‰“åŒ…æˆå•ä¸ª <code>.bundle</code> æ–‡ä»¶</li>
<li>æ”¯æŒå¼€å‘æ—¶çš„<strong>çƒ­æ›´æ–°ï¼ˆHot Reloadingï¼‰</strong></li>
<li>æä¾›é”™è¯¯æç¤ºå’Œæ—¥å¿—ï¼ˆç»ˆç«¯ä¸­æ˜¾ç¤ºçš„çº¢è‰²é”™è¯¯æ¡†å°±æ˜¯å®ƒçš„åŠŸåŠ³ï¼‰</li>
</ul>
<h5 data-id="heading-11"><strong>2. Metro çš„å·¥ä½œæµç¨‹</strong></h5>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
  A[ä½ çš„ä»£ç ] --&gt; B(Metro æ‰“åŒ…å™¨)
  B --&gt; C{å¼€å‘æ¨¡å¼?}
  C --&gt;|æ˜¯| D[ç”Ÿæˆå¯è°ƒè¯•çš„ bundle]
  C --&gt;|å¦| E[ç”Ÿæˆä¼˜åŒ–çš„ç”Ÿäº§åŒ…]
  D --&gt; F[å‘é€åˆ°æ‰‹æœº/æ¨¡æ‹Ÿå™¨]
</code></pre>
<h5 data-id="heading-12"><strong>3. ä½ ä¸ Metro çš„äº¤äº’åœºæ™¯</strong></h5>
<ul>
<li><strong>å¯åŠ¨ Metro</strong>ï¼šè¿è¡Œ <code>npm start</code> æ—¶ï¼Œä¼šçœ‹åˆ°ç»ˆç«¯æ˜¾ç¤ºï¼š
<pre><code class="hljs language-bash" lang="bash">Metro Bundler ready on http://localhost:8081
</code></pre>
</li>
<li><strong>è°ƒè¯•æ—¶</strong>ï¼šæ‰‹æœºä¸Šçš„ JS ä»£ç å®é™…æ˜¯é€šè¿‡ Metro æœåŠ¡å®æ—¶åŠ è½½çš„ï¼ˆè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¿…é¡»ä¿æŒ <code>npm start</code> è¿è¡Œï¼‰</li>
<li><strong>æŠ¥é”™æ—¶</strong>ï¼šMetro ä¼šåœ¨ç»ˆç«¯å’Œæ‰‹æœºçº¢å±æ˜¾ç¤ºé”™è¯¯å †æ ˆ</li>
</ul>
<h5 data-id="heading-13"><strong>4. å¸¸è§ Metro é—®é¢˜è§£å†³</strong></h5>
<ul>
<li><strong>é—®é¢˜</strong>ï¼š<code>Metro æ— æ³•å¯åŠ¨ï¼ˆç«¯å£å ç”¨ï¼‰</code><br/>
<strong>è§£å†³</strong>ï¼š
<pre><code class="hljs language-bash" lang="bash">lsof -i :8081    <span class="hljs-comment"># æŸ¥çœ‹å ç”¨è¿›ç¨‹</span>
<span class="hljs-built_in">kill</span> -9 &lt;PID&gt;    <span class="hljs-comment"># å¼ºåˆ¶ç»“æŸè¿›ç¨‹</span>
</code></pre>
</li>
<li><strong>é—®é¢˜</strong>ï¼š<code>ç¼“å­˜å¯¼è‡´ä»£ç ä¸æ›´æ–°</code><br/>
<strong>è§£å†³</strong>ï¼š
<pre><code class="hljs language-bash" lang="bash">npm start -- --reset-cache
</code></pre>
</li>
</ul>
<hr/>
<h4 data-id="heading-14"><strong>æ€»ç»“å¯¹æ¯”è¡¨</strong></h4>




















<table><thead><tr><th>æ¦‚å¿µ</th><th>ä½œç”¨</th><th>æ˜¯å¦éœ€è¦æ‰‹åŠ¨é…ç½®</th></tr></thead><tbody><tr><td><strong>ç¯å¢ƒå˜é‡</strong></td><td>å‘Šè¯‰ç³»ç»Ÿ Android å·¥å…·åœ¨å“ª</td><td>âœ”ï¸ å¿…é¡»é…ç½®</td></tr><tr><td><strong>Metro</strong></td><td>æ‰“åŒ…å’Œè¿è¡Œ JS ä»£ç </td><td>âŒ è‡ªåŠ¨é›†æˆäº RN é¡¹ç›®</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-15"><strong>3. é…ç½®å›½å†…é•œåƒåŠ é€Ÿ</strong></h3>
<h4 data-id="heading-16"><strong>3.1 é…ç½® npm/yarn é•œåƒï¼ˆåŠ é€Ÿ JS ä¾èµ–ä¸‹è½½ï¼‰</strong></h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨æ·˜å®é•œåƒ</span>
npm config <span class="hljs-built_in">set</span> registry https://registry.npmmirror.com
<span class="hljs-comment"># æˆ–</span>
yarn config <span class="hljs-built_in">set</span> registry https://registry.npmmirror.com
</code></pre>
<h4 data-id="heading-17"><strong>3.2 é…ç½® Gradle é•œåƒï¼ˆåŠ é€Ÿ Android ä¾èµ–ä¸‹è½½ï¼‰</strong></h4>
<ol>
<li>ä¿®æ”¹ <code>android/build.gradle</code>ï¼š
<pre><code class="hljs language-gradle" lang="gradle">allprojects {
    repositories {
        // é˜¿é‡Œäº‘é•œåƒï¼ˆä¼˜å…ˆï¼‰
        maven { url 'https://maven.aliyun.com/repository/public' }
        maven { url 'https://maven.aliyun.com/repository/google' }
        // è…¾è®¯äº‘é•œåƒï¼ˆå¤‡ç”¨ï¼‰
        maven { url 'https://mirrors.cloud.tencent.com/nexus/repository/maven-public/' }
        // é»˜è®¤ä»“åº“ï¼ˆç¡®ä¿å…¼å®¹æ€§ï¼‰
        google()
        mavenCentral()
    }
}
</code></pre>
</li>
<li>ä¿®æ”¹ <code>android/gradle/wrapper/gradle-wrapper.properties</code>ï¼š
<pre><code class="hljs language-properties" lang="properties"># æ›¿æ¢ä¸ºè…¾è®¯äº‘é•œåƒ
distributionUrl=https\://mirrors.cloud.tencent.com/gradle/gradle-8.13-bin.zip
</code></pre>
</li>
</ol>
<h4 data-id="heading-18"><strong>3.3 é…ç½® Maven é•œåƒï¼ˆåŠ é€Ÿ Android åŸç”Ÿåº“ä¸‹è½½ï¼‰</strong></h4>
<p>åœ¨ <code>android/build.gradle</code> çš„ <code>buildscript</code> ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-gradle" lang="gradle">buildscript {
    repositories {
        maven { url 'https://maven.aliyun.com/repository/public' }
        maven { url 'https://maven.aliyun.com/repository/google' }
        google()
        mavenCentral()
    }
}
</code></pre>
<hr/>
<h3 data-id="heading-19"><strong>4. è¿è¡Œé¡¹ç›®</strong></h3>
<h4 data-id="heading-20"><strong>4.1 è¿è¡Œ Android ç‰ˆæœ¬</strong></h4>
<ol>
<li>å¯åŠ¨ Android æ¨¡æ‹Ÿå™¨ï¼ˆé€šè¿‡ Android Studio æˆ–å‘½ä»¤è¡Œï¼‰ï¼š
<pre><code class="hljs language-bash" lang="bash">emulator -list-avds  <span class="hljs-comment"># åˆ—å‡ºå¯ç”¨æ¨¡æ‹Ÿå™¨</span>
emulator -avd Pixel_5_API_34  <span class="hljs-comment"># å¯åŠ¨æ¨¡æ‹Ÿå™¨</span>
</code></pre>
</li>
<li>ç¼–è¯‘å¹¶å®‰è£… APKï¼š
<pre><code class="hljs language-bash" lang="bash">npx react-native run-android <span class="hljs-comment">#å¦èµ·ç»ˆç«¯è¿è¡Œï¼Œå’Œmetroåˆ†å¼€</span>
</code></pre>
<ul>
<li>å¦‚æœé¦–æ¬¡è¿è¡Œï¼ŒGradle ä¼šä»å›½å†…é•œåƒä¸‹è½½ä¾èµ–ã€‚</li>
<li>æˆåŠŸåä¼šè‡ªåŠ¨å®‰è£… APK å¹¶å¯åŠ¨åº”ç”¨ã€‚</li>
</ul>
</li>
</ol>
<h4 data-id="heading-21"><strong>4.2 è¿è¡Œ iOS ç‰ˆæœ¬ï¼ˆä»… macOSï¼‰</strong></h4>
<ol>
<li>å¯åŠ¨ iOS æ¨¡æ‹Ÿå™¨ï¼š
<pre><code class="hljs language-bash" lang="bash">npx react-native run-ios
</code></pre>
<ul>
<li>ä¼šè‡ªåŠ¨ç¼–è¯‘å¹¶å¯åŠ¨æ¨¡æ‹Ÿå™¨ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-22"><strong>5. å¸¸è§é—®é¢˜è§£å†³</strong></h3>
<h4 data-id="heading-23"><strong>é—®é¢˜ 1ï¼šGradle ä¸‹è½½å¡ä½æˆ–è¶…æ—¶</strong></h4>
<ul>
<li><strong>åŸå› </strong>ï¼šç½‘ç»œé—®é¢˜æˆ–ç¼“å­˜å†²çªã€‚</li>
<li><strong>è§£å†³</strong>ï¼š
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> android
./gradlew clean  <span class="hljs-comment"># æ¸…ç†æ„å»ºç¼“å­˜</span>
<span class="hljs-built_in">rm</span> -rf ~/.gradle/caches/  <span class="hljs-comment"># åˆ é™¤å…¨å±€ç¼“å­˜</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-24"><strong>é—®é¢˜ 2ï¼š<code>Could not resolve all dependencies</code></strong></h4>
<ul>
<li><strong>åŸå› </strong>ï¼šæŸäº›åº“ä¸åœ¨é•œåƒä¸­ã€‚</li>
<li><strong>è§£å†³</strong>ï¼šåœ¨ <code>build.gradle</code> ä¸­ä¿ç•™ <code>google()</code> å’Œ <code>mavenCentral()</code>ã€‚</li>
</ul>
<h4 data-id="heading-25"><strong>é—®é¢˜ 3ï¼šMetro æ— æ³•è¿æ¥è®¾å¤‡</strong></h4>
<ul>
<li><strong>è§£å†³</strong>ï¼š
<pre><code class="hljs language-bash" lang="bash">adb reverse tcp:8081 tcp:8081  <span class="hljs-comment"># ç¡®ä¿è®¾å¤‡èƒ½è®¿é—® Metro</span>
</code></pre>
</li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥æ¢ç´¢ Spring Boot3 ä¸­ Profiles å¤šç¯å¢ƒé…ç½®]]></title>    <link>https://juejin.cn/post/7582131164728868904</link>    <guid>https://juejin.cn/post/7582131164728868904</guid>    <pubDate>2025-12-11T05:37:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582131164728868904" data-draft-id="7582155513586057268" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥æ¢ç´¢ Spring Boot3 ä¸­ Profiles å¤šç¯å¢ƒé…ç½®"/> <meta itemprop="keywords" content="åç«¯,Java,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-11T05:37:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜è¥¿è¥¿"/> <meta itemprop="url" content="https://juejin.cn/user/326976944214804"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥æ¢ç´¢ Spring Boot3 ä¸­ Profiles å¤šç¯å¢ƒé…ç½®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/326976944214804/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜è¥¿è¥¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:37:12.000Z" title="Thu Dec 11 2025 05:37:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨å½“ä»Šå¤æ‚çš„è½¯ä»¶å¼€å‘é¢†åŸŸï¼Œä¸€ä¸ªåº”ç”¨å¾€å¾€éœ€è¦åœ¨å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç­‰å¤šä¸ªç¯å¢ƒä¸­è¿è¡Œï¼Œæ¯ä¸ªç¯å¢ƒçš„é…ç½®éœ€æ±‚å¤§ç›¸å¾„åº­ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸­ï¼Œä½ å¯èƒ½éœ€è¦é¢‘ç¹è°ƒè¯•ï¼Œæ‰€ä»¥å¸Œæœ›æ—¥å¿—æ›´åŠ è¯¦ç»†ï¼Œæ•°æ®åº“è¿æ¥åˆ°æœ¬åœ°æ˜“äºä¿®æ”¹çš„æµ‹è¯•åº“ï¼›è€Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¯¹æ€§èƒ½å’Œç¨³å®šæ€§è¦æ±‚æé«˜ï¼Œæ—¥å¿—çº§åˆ«éœ€è¦è°ƒæ•´ï¼Œæ•°æ®åº“è¦è¿æ¥åˆ°é«˜å¯ç”¨çš„æ­£å¼æ•°æ®åº“ã€‚Spring Boot 3 çš„ Profiles ç‰¹æ€§å°±å¦‚åŒä¸€ä½è´´å¿ƒçš„åŠ©æ‰‹ï¼Œä¸ºæˆ‘ä»¬è§£å†³äº†ä¸åŒç¯å¢ƒé…ç½®ç®¡ç†çš„éš¾é¢˜ï¼Œæä¾›äº†çµæ´»ä¸”å¼ºå¤§çš„å¤šç¯å¢ƒé…ç½®è§£å†³æ–¹æ¡ˆã€‚æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬æ·±å…¥æ¢ç´¢ Spring Boot3 ä¸­ Profiles å¤šç¯å¢ƒé…ç½®çš„å¥¥ç§˜ã€‚</p>
<h2 data-id="heading-1">Profiles æ˜¯ä»€ä¹ˆ</h2>
<p>Profiles æ˜¯ Spring æ¡†æ¶æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œå®ƒå…è®¸å¼€å‘è€…é’ˆå¯¹ä¸åŒçš„ç¯å¢ƒå®šä¹‰ä¸åŒçš„é…ç½®ã€‚åœ¨ Spring Boot åº”ç”¨é‡Œï¼Œå€ŸåŠ©æ¿€æ´»ç‰¹å®šçš„ Profileï¼Œèƒ½å¤Ÿå®ç°æ¡ä»¶åŒ–çš„ Bean æ³¨å†Œã€é…ç½®å±æ€§åŠ è½½ç­‰æ“ä½œï¼Œä»è€Œä½¿åº”ç”¨ä¾æ®è¿è¡Œç¯å¢ƒåŠ è½½ç›¸åº”çš„é…ç½®ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå°±åƒæ˜¯ä¸ºåº”ç”¨å‡†å¤‡çš„ä¸åŒ â€œè£…å¤‡åŒ…â€ï¼Œåœ¨ä¸åŒçš„ç¯å¢ƒä¸‹ï¼Œåº”ç”¨å¯ä»¥ç©¿ä¸Šåˆé€‚çš„ â€œè£…å¤‡â€ï¼Œä»¥æœ€ä½³çŠ¶æ€è¿è¡Œã€‚</p>
<h2 data-id="heading-2">é…ç½®æ–¹å¼</h2>
<p><strong>ï¼ˆä¸€ï¼‰Properties é…ç½®æ–¹å¼</strong></p>
<p>å¯¹äº application.properties æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå¤šä¸ªä»¥ application-{profile}.properties å‘½åçš„æ–‡ä»¶æ¥å®šä¹‰ä¸åŒç¯å¢ƒçš„é…ç½®ã€‚å…¶ä¸­ï¼Œ{profile} å°±æ˜¯ç¯å¢ƒæ ‡è¯†ï¼Œå¸¸è§çš„å¦‚ devï¼ˆå¼€å‘ç¯å¢ƒï¼‰ã€testï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰ã€prodï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰ç­‰ã€‚ä¸»é…ç½®æ–‡ä»¶ application.properties é€šè¿‡ spring.profiles.active å±æ€§æ¥æŒ‡å®šå½“å‰æ¿€æ´»çš„ç¯å¢ƒã€‚ä¾‹å¦‚ï¼š</p>
<p>åœ¨ä¸»é…ç½®æ–‡ä»¶ application.properties ä¸­è®¾ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">spring.profiles.active</span>=dev
</code></pre>
<p>ç„¶ååˆ›å»ºå¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶<br/>
application-dev.propertiesï¼Œé‡Œé¢å¯ä»¥å®šä¹‰å¼€å‘ç¯å¢ƒç‰¹æœ‰çš„é…ç½®ï¼Œå¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">server.port</span>=<span class="hljs-number">8080</span>
<span class="hljs-attr">spring.datasource.url</span>=jdbc:mysql://localhost:<span class="hljs-number">3306</span>/devdb
<span class="hljs-attr">spring.datasource.username</span>=devuser
<span class="hljs-attr">spring.datasource.password</span>=devpassword
</code></pre>
<p>æµ‹è¯•ç¯å¢ƒé…ç½®æ–‡ä»¶<br/>
application-test.propertiesÂ å¯å¦‚ä¸‹è®¾ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">server.port</span>=<span class="hljs-number">8081</span>
<span class="hljs-attr">spring.datasource.url</span>=jdbc:mysql://localhost:<span class="hljs-number">3306</span>/testdb
<span class="hljs-attr">spring.datasource.username</span>=testuser
<span class="hljs-attr">spring.datasource.password</span>=testpassword
</code></pre>
<p>ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶<br/>
application-prod.propertiesÂ åˆ™å¯è®¾ç½®ä¸ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">server.port</span>=<span class="hljs-number">80</span>
<span class="hljs-attr">spring.datasource.url</span>=jdbc:mysql://prod-db:<span class="hljs-number">3306</span>/proddb
<span class="hljs-attr">spring.datasource.username</span>=produser
<span class="hljs-attr">spring.datasource.password</span>=prodpassword
</code></pre>
<p><strong>ï¼ˆäºŒï¼‰YAML é…ç½®æ–¹å¼</strong></p>
<p><strong>å•æ–‡ä»¶é…ç½®</strong>ï¼šåªæœ‰ YAML æ”¯æŒç”¨ â€œ---â€ åˆ†éš”çš„è¯­æ³•ã€‚åœ¨ application.yml æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡å¤šä¸ªæ–‡æ¡£å—æ¥å®šä¹‰ä¸åŒç¯å¢ƒçš„é…ç½®ã€‚æ¯ä¸ªæ–‡æ¡£å—ä¸­ï¼Œé€šè¿‡ spring.profiles å±æ€§æ¥æŒ‡å®šå½“å‰æ–‡æ¡£å—å¯¹åº”çš„ç¯å¢ƒã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># é»˜è®¤é…ç½®</span>
<span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://default-db:3306/defaultdb</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">defaultuser</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">defaultpassword</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># devç¯å¢ƒé…ç½®</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">profiles:</span> <span class="hljs-string">dev</span>
<span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/devdb</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">devuser</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">devpassword</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># testç¯å¢ƒé…ç½®</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">profiles:</span> <span class="hljs-string">test</span>
<span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8081</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/testdb</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">testuser</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">testpassword</span>

<span class="hljs-meta">---</span>
<span class="hljs-comment"># prodç¯å¢ƒé…ç½®</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">profiles:</span> <span class="hljs-string">prod</span>
<span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">80</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://prod-db:3306/proddb</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">produser</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">prodpassword</span>
</code></pre>
<p><strong>å¤šæ–‡ä»¶é…ç½®</strong>ï¼šæ–‡ä»¶å‘½åéµå¾ª application-{profile}.yml çš„æ ¼å¼ï¼Œå…¶ä¸­ {profile} ä¸ºç¯å¢ƒæ ‡è¯†ã€‚ä¸»é…ç½®æ–‡ä»¶ application.yml ä¸­ï¼Œé€šå¸¸å¯æŒ‡å®šé»˜è®¤æ¿€æ´»çš„ç¯å¢ƒæˆ–åŒ…å«ä¸€äº›å…¬å…±é…ç½®ã€‚ä¾‹å¦‚ï¼Œä¸»é…ç½®æ–‡ä»¶ application.ymlï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">profiles:</span>
    <span class="hljs-attr">active:</span> <span class="hljs-string">dev</span> <span class="hljs-comment"># é»˜è®¤æ¿€æ´»å¼€å‘ç¯å¢ƒï¼Œå¯æŒ‰éœ€ä¿®æ”¹</span>
</code></pre>
<p>å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶ application-dev.ymlï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">server:</span>
  <span class="hljs-attr">port:</span> <span class="hljs-number">8080</span>
<span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://localhost:3306/devdb</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">devuser</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">devpassword</span>
</code></pre>
<p>æµ‹è¯•ç¯å¢ƒé…ç½®æ–‡ä»¶ application-test.yml å’Œç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶ application-prod.yml ç»“æ„ç±»ä¼¼ï¼Œæ›¿æ¢ç›¸åº”é…ç½®å€¼å³å¯ã€‚</p>
<h2 data-id="heading-3">æ¿€æ´»æ–¹å¼</h2>
<p><strong>ï¼ˆä¸€ï¼‰åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®š</strong></p>
<p>åœ¨ application.properties æˆ– application.yml æ–‡ä»¶ä¸­ï¼Œé€šè¿‡ spring.profiles.active å±æ€§æŒ‡å®šï¼Œå¦‚åœ¨ application.yml ä¸­ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">profiles:</span>
    <span class="hljs-attr">active:</span> <span class="hljs-string">dev</span>
</code></pre>
<p><strong>ï¼ˆäºŒï¼‰é€šè¿‡å‘½ä»¤è¡Œå‚æ•°æŒ‡å®š</strong></p>
<p>å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°â€“spring.profiles.active æ¥æŒ‡å®šæ¿€æ´»çš„ç¯å¢ƒã€‚ä¾‹å¦‚ï¼Œè¦å¯åŠ¨ç”Ÿäº§ç¯å¢ƒï¼š</p>
<pre><code class="hljs language-ini" lang="ini">java -jar myapp.jar <span class="hljs-attr">--spring.profiles.active</span>=prod
</code></pre>
<p><strong>ï¼ˆä¸‰ï¼‰é€šè¿‡ç¯å¢ƒå˜é‡æŒ‡å®š</strong></p>
<p>è®¾ç½®ç¯å¢ƒå˜é‡ SPRING_PROFILES_ACTIVE æ¥æŒ‡å®šæ¿€æ´»çš„ç¯å¢ƒã€‚åœ¨ Linux æˆ– Mac ç³»ç»Ÿä¸­ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">export <span class="hljs-attr">SPRING_PROFILES_ACTIVE</span>=prod
java -jar myapp.jar
</code></pre>
<p>åœ¨ Windows ç³»ç»Ÿä¸­ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">set <span class="hljs-attr">SPRING_PROFILES_ACTIVE</span>=prod
java -jar myapp.jar
</code></pre>
<p><strong>ï¼ˆå››ï¼‰åœ¨ IDE ä¸­æŒ‡å®š</strong></p>
<p>ä½¿ç”¨ IntelliJ IDEA æˆ– Eclipse ç­‰ IDE è¿è¡Œåº”ç”¨ç¨‹åºæ—¶ï¼Œå¯åœ¨è¿è¡Œé…ç½®ä¸­æŒ‡å®šæ¿€æ´»çš„ç¯å¢ƒã€‚ä»¥ IntelliJ IDEA ä¸ºä¾‹ï¼Œåœ¨ â€œRun Configurationsâ€ ä¸­ï¼Œæ‰¾åˆ° â€œVM optionsâ€ æˆ– â€œProgram argumentsâ€ï¼Œæ·»åŠ  â€œâ€“spring.profiles.active=devâ€ï¼ˆè¿™é‡Œä»¥å¼€å‘ç¯å¢ƒä¸ºä¾‹ï¼‰ã€‚</p>
<h2 data-id="heading-4">æ‰“åŒ…</h2>
<p>ä½¿ç”¨ Maven æˆ– Gradle ç­‰æ„å»ºå·¥å…·æ‰“åŒ… Spring Boot åº”ç”¨ç¨‹åºæ—¶ï¼Œé…ç½®æ–‡ä»¶é€šå¸¸ä¼šè‡ªåŠ¨åŒ…å«åœ¨ç”Ÿæˆçš„ JAR æˆ– WAR åŒ…ä¸­ã€‚è‹¥è¦ä¸ºä¸åŒç¯å¢ƒæ‰“åŒ…ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Œå¯åˆ©ç”¨ Maven çš„ profiles åŠŸèƒ½æˆ– Gradle çš„æ„å»ºå˜ä½“ï¼ˆbuild variantsï¼‰ã€‚</p>
<p>ä»¥ Maven ä¸ºä¾‹ï¼Œåœ¨ pom.xml æ–‡ä»¶ä¸­å®šä¹‰ä¸åŒçš„ profilesï¼Œå¹¶åœ¨æ¯ä¸ª profile ä¸­æŒ‡å®šè¦åŒ…å«çš„é…ç½®æ–‡ä»¶ã€‚åœ¨ä¸»é…ç½®æ–‡ä»¶ application.yml ä¸­ï¼Œä½¿ç”¨å ä½ç¬¦æ¥æŒ‡å®šå½“å‰æ¿€æ´»çš„ç¯å¢ƒï¼Œå¦‚ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">spring:</span>
  <span class="hljs-attr">datasource:</span>
    <span class="hljs-attr">url:</span> <span class="hljs-string">jdbc:mysql://${profiles.active}-db:3306/${profiles.active}db</span>
    <span class="hljs-attr">username:</span> <span class="hljs-string">${profiles.active}user</span>
    <span class="hljs-attr">password:</span> <span class="hljs-string">${profiles.active}password</span>
</code></pre>
<p>åœ¨ pom.xml ä¸­é…ç½®å¤šä¸ªç¯å¢ƒï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">profiles</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>dev<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">activation</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">activeByDefault</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">activeByDefault</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">activation</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">profiles.active</span>&gt;</span>dev<span class="hljs-tag">&lt;/<span class="hljs-name">profiles.active</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">profiles.active</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">profiles.active</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">profile</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>prod<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">properties</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">profiles.active</span>&gt;</span>prod<span class="hljs-tag">&lt;/<span class="hljs-name">profiles.active</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">properties</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">profile</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">profiles</span>&gt;</span>
</code></pre>
<p>ä¸ºä½¿ Maven åœ¨æ‰“åŒ…æ—¶èƒ½æ›¿æ¢ä¸»é…ç½®æ–‡ä»¶ä¸­çš„å ä½ç¬¦ï¼Œéœ€åœ¨ pom.xml ä¸­é…ç½®èµ„æºè¿‡æ»¤ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">resources</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">resource</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">directory</span>&gt;</span>src/main/resources<span class="hljs-tag">&lt;/<span class="hljs-name">directory</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">filtering</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">filtering</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">resource</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">resources</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
</code></pre>
<p>ä¹‹åï¼Œä½¿ç”¨ Maven æ‰“åŒ…å‘½ä»¤ç”Ÿæˆä¸åŒç¯å¢ƒçš„æ„å»ºäº§ç‰©ã€‚ç”Ÿæˆå¼€å‘ç¯å¢ƒæ„å»ºäº§ç‰©ï¼š</p>
<pre><code class="hljs language-go" lang="go">mvn clean <span class="hljs-keyword">package</span>
</code></pre>
<p>ç”Ÿæˆæµ‹è¯•ç¯å¢ƒæ„å»ºäº§ç‰©ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">mvn clean package -P <span class="hljs-built_in">test</span>
</code></pre>
<p>ç”Ÿæˆç”Ÿäº§ç¯å¢ƒæ„å»ºäº§ç‰©ï¼š</p>
<pre><code class="hljs language-css" lang="css">mvn clean package -<span class="hljs-selector-tag">P</span> prod
</code></pre>
<h2 data-id="heading-5">æœ€ä½³å®è·µ</h2>
<p><strong>é¿å…ç¡¬ç¼–ç </strong>ï¼šå°½é‡ä¸åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ç¯å¢ƒç‰¹å®šçš„å€¼ï¼Œè€Œåº”ä½¿ç”¨é…ç½®å±æ€§å’Œ Profile æ¥ç®¡ç†è¿™äº›å€¼ã€‚è¿™æ ·å½“ç¯å¢ƒå˜åŒ–æ—¶ï¼Œæ— éœ€ä¿®æ”¹ä»£ç ï¼Œç›´æ¥è°ƒæ•´é…ç½®æ–‡ä»¶å³å¯ã€‚</p>
<p><strong>ç²¾ç®€ Profile æ•°é‡</strong>ï¼šè™½ç„¶ Spring Boot æ”¯æŒåŒæ—¶æ¿€æ´»å¤šä¸ª Profilesï¼Œä½†ä¸ºä¿æŒé…ç½®ç®€æ´ï¼Œå»ºè®®ç²¾ç®€ Profile çš„æ•°é‡å’Œå¤æ‚åº¦ã€‚è¿‡å¤šçš„ Profile å¯èƒ½å¯¼è‡´é…ç½®æ··ä¹±ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚</p>
<p><strong>ä½¿ç”¨ Profile-specific é…ç½®æ–‡ä»¶</strong>ï¼šå¯¹äºç¯å¢ƒç‰¹å®šçš„é…ç½®ï¼Œä½¿ç”¨ Profile-specific çš„é…ç½®æ–‡ä»¶ï¼ˆå¦‚ application-dev.ymlï¼‰ï¼Œä¾¿äºç®¡ç†å’Œç»´æŠ¤ã€‚å°†ä¸åŒç¯å¢ƒçš„é…ç½®åˆ†å¼€ï¼Œæ¸…æ™°æ˜äº†ï¼Œå‡å°‘å‡ºé”™æ¦‚ç‡ã€‚</p>
<p><strong>ç®¡ç†æ•æ„Ÿä¿¡æ¯</strong>ï¼šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œé…ç½®æ–‡ä»¶å¯èƒ½åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚æ•°æ®åº“å¯†ç ã€API å¯†é’¥ç­‰ï¼‰ã€‚å¯ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯ï¼Œç„¶ååœ¨é…ç½®æ–‡ä»¶ä¸­å¼•ç”¨ï¼›æˆ–ä½¿ç”¨ Spring Cloud Config é›†ä¸­ç®¡ç†é…ç½®ä¿¡æ¯ï¼Œå¹¶é€šè¿‡åŠ å¯†ç­‰æ–¹å¼ä¿æŠ¤æ•æ„Ÿä¿¡æ¯ã€‚</p>
<p><strong>é…ç½®æ–‡ä»¶çš„å‘½åå’Œç»„ç»‡</strong>ï¼šé€šç”¨é…ç½®ä½¿ç”¨ application.yml æ–‡ä»¶ï¼›ä¸åŒç¯å¢ƒé…ç½®ä½¿ç”¨ application-{profile}.yml æ–‡ä»¶ï¼›è‹¥æœ‰å¤šä¸ªæ¨¡å—æˆ–åŠŸèƒ½çš„é…ç½®ï¼Œå¯åˆ›å»ºç›¸åº”çš„é…ç½®æ–‡ä»¶ï¼Œå¦‚ module1-{profile}.ymlã€module2-{profile}.yml ï¼Œè¿™æ ·å¯ä»¥è®©é…ç½®æ–‡ä»¶çš„ç»“æ„æ›´åŠ æ¸…æ™°ï¼Œæ˜“äºæŸ¥æ‰¾å’Œç»´æŠ¤ã€‚</p>
<p>Spring Boot 3 ä¸­çš„ Profiles ä¸ºæˆ‘ä»¬æä¾›äº†å¼ºå¤§ä¸”çµæ´»çš„å¤šç¯å¢ƒé…ç½®ç®¡ç†æ–¹å¼ã€‚é€šè¿‡åˆç†è¿ç”¨ Profilesï¼Œèƒ½å¤Ÿæ˜¾è‘—æå‡é…ç½®çš„çµæ´»æ€§å’Œåº”ç”¨çš„å¯ç»´æŠ¤æ€§ï¼Œè®©åº”ç”¨çš„å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½²æ›´åŠ é«˜æ•ˆã€å¯æ§ã€‚éšç€ Spring Boot 3 çš„æŒç»­å‘å±•ï¼Œåˆ©ç”¨ Profiles ä¼˜åŒ–åº”ç”¨é…ç½®ä¾ç„¶æ˜¯å®ç°é«˜è´¨é‡å¾®æœåŠ¡æ¶æ„çš„å…³é”®ç­–ç•¥ä¹‹ä¸€ï¼Œå¸Œæœ›æœ¬æ–‡èƒ½å¸®åŠ©å„ä½å¼€å‘è€…æ›´å¥½åœ°æŒæ¡å’Œè¿ç”¨è¿™ä¸€å¼ºå¤§åŠŸèƒ½ï¼Œåœ¨è½¯ä»¶å¼€å‘çš„é“è·¯ä¸Šæ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[jså®ç°é¡µé¢å…¨å±å±•ç¤º]]></title>    <link>https://juejin.cn/post/7582156410319503370</link>    <guid>https://juejin.cn/post/7582156410319503370</guid>    <pubDate>2025-12-11T05:24:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582156410319503370" data-draft-id="7582110969201246246" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="jså®ç°é¡µé¢å…¨å±å±•ç¤º"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T05:24:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°æ˜è®°è´¦ç°¿_å¾®ä¿¡å°ç¨‹åº"/> <meta itemprop="url" content="https://juejin.cn/user/1901536389893546"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            jså®ç°é¡µé¢å…¨å±å±•ç¤º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1901536389893546/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°æ˜è®°è´¦ç°¿_å¾®ä¿¡å°ç¨‹åº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:24:29.000Z" title="Thu Dec 11 2025 05:24:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(1turn)}}.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#36ace1;background-image:linear-gradient(90deg,rgba(217,234,251,.25) 3%,transparent 0),linear-gradient(1turn,rgba(217,234,251,.25) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{color:#36ace1}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"";display:block;position:absolute;left:0;top:0;bottom:0;margin:auto;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAF8UlEQVRIS71Wa2wUVRT+7r0zu9t2t/RBaSioPCpYbIUfaEIQUogSAwZDAlUSGwgg/CBATExMCJH1D2hIfOEjFEUEhViCgBgIUCH44OkjPAMGBVqhpUCfW3Zn5z7MuQOE0hYxMdxJdmd25s53vnO+851leMCLPWA8/CfA2TsvL8n7q+nTFfNLG+4VqInHOeJLDQMzdz/3r4DGGDb9lxu+aPcE7U61JHDMDePcuv0O21ShugOefqDdtBie3Dk6K/O+Ab+qOjJiz7Ahv6c8hbDDwRiQlgYGDOcaWyEcjg8On+j71IpJndjGt9XO+jM7+pkywNvbazIfercieSdoJ4bE5sWjyZqMpDdeaQNXMNC34ME3LV8B56+1w3AOgk+EXe/Ub6uiLB6XdH/G/mYjeBCcFwnt3zQqWt4t4NjjnhzQ1CGkBhwOCMFAB71U0qsYgRlwBtQ1tiEJAy44OBdQUmFK3aWS06NLT+ukZAQoKCCjsfbDmk6p78RwX3ncWffmIj8U4kh6GpEwh+9rGy23LDU4GBrrm9DsuDYIGMAYIC/EUNQ7Cq1hn+WM2TI8f+jEyCmvjfn1FssuojHx6tDkyZOaCzr8TNpASzDAk8amlRIrEylcSGsYrcGIstIYWhgDDIM2BiGH3ywFkGAC1U9n38bpVqWGdk6r4HMWrZZaG1D5KLn0qYyBEAKnG1otAxLR8L7Z9nfP13CJHQ/ST4vK8sVHe8JsU0U6uO5hlexo8PI7vNDQomwoBRAwpSmtgJAAztS3QLsOsmBQlBtFJMQhlbbPUBBUR7o2hqHVddLbRsfCPQJ+u3TPw8uGl1yklAlHIJZKo3//XEhlLCtifPFyM7xwCI/lZ8IKTTBbS7pPLIggZZsSQ+zXbT4UYSsnet3UMM5HPT5LGbrDGYQroClyT2Jwnyj9aN949e8mDCwuRFoqKxRHUJ21BSDRELuQYGhvbMVV32Dp2RuxcfHSRBfAYTsbU9nJdFj5EiLkglHkRInC1xoxKbH9hQJIaTDvxxTCUddWl4wg0dCCtqSPDmoVx4Eitpxh64ZtsT6b5ie6pPRkfF90TllxOzEwmipMKRRgHODGgCuJkqIcvDdC2BZ5Y+tlHHMzkAKghbAxcQqQDiKrFBxhqg5MHTivS1tQ+sdsvaQl5Yd6yfdRXNQLsQwXnq/AQFLXEIIjzBSuNaaR0SuEtkQKl9IKjAsbJaWfzo1USDsM6zceDJfeVGgnhhN2N7YOyo5kJz1pa2AbgfrO1gRwXW6vSRQNtddR+EhvKGmseskgTtY2Q7kucYWWgToPHzyUyXry0iXfnBtfl5f/PaWPvPNW/zkOAQegJHltFE5dSaCskHqPVEnqpMAMEgkPtR1pKxyh/N0/vTToubtH1G3RmLjhM8ubKXfWB2mRa9ySOaWS2uT8lTZ0cI6I52Ngv7zAbW9mQVm1cpytu441P38XeXTlQu+e46nyh+bjLkMZRU0MCYTCJWZSG1y7cBWNURpxBlxqFBfEwGnGGhaYPSNwhpSv4DK+/vPynBk9MqRIiOWs8a2WJTm9a+cgh6SaMIMz9W1WjYHHMtv0wSmZdWB9gdsya/rcYVg7JoffCdqlD6ceTpiY59tM0PhJp5WNvra+BQkejCMyBarr8KKYDcZi8sDaCDKYFIGRk+FnSVXzyTO9JxBwF8DLc1dlLn65ooNEYN0fBsu21fTvL6PXnhxXlnLIqqhYYBian4lQ2Lk9ogiALsimiLC1QYfhlV1Hnxh7JfcMqxrpd7U2GFa5t9nOd7Kr+kg4uWvnCpromlJeXlq3Os3ZLOlrZBmNQf1ybVqpxhbA7mRIOCy1+esDOWhIyDv/+3Q7LRbsqH+rKRJ+nba+/+WW7II1s9vvVBuNr7KNF1WUM1bSt5f1Vq01jUVkKfnx8uoti3Or5rbd9782M61azJz/rFywYU/OyKqK1p5G2MS1Z18tGFDwTkvIxcK9RwaMP3a9/tbc62lPj/Nw5B9ey9Ehy/MY4oEqelgNleuyCgdXJlmc3fO5Ll56r5f+n/f+AWFf9jvBgaHpAAAAAElFTkSuQmCC);animation:spin 2s linear 1s infinite}.markdown-body h1{position:relative;font-size:30px;padding:12px 38px;margin:30px 0}.markdown-body h1:before{width:30px;height:30px;background-size:30px 30px}.markdown-body h2{position:relative;font-size:24px;padding:12px 36px;margin:28px 0}.markdown-body h2:before{width:28px;height:28px;background-size:28px 28px}.markdown-body h3{position:relative;font-size:18px;padding:4px 32px;margin:26px 0}.markdown-body h3:before{width:24px;height:24px;background-size:24px 24px}.markdown-body h4{position:relative;padding:4px 28px;font-size:16px;margin:22px 0}.markdown-body h4:before{width:20px;height:20px;background-size:20px 20px}.markdown-body h5{position:relative;padding:4px 26px;font-size:15px;margin:20px 0}.markdown-body h5:before{width:18px;height:18px;background-size:18px 18px}.markdown-body h6{position:relative;padding:4px 22px;font-size:14px;margin:16px 0}.markdown-body h6:before{width:16px;height:16px;background-size:16px 16px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#36ace1,#dff0fe,#36ace1);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:50px;height:24px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAEgElEQVRIS72Va0xbZRjH/z2FcimbchEQFDYRCIRAAWFQ2MaCXBwmUxYDLGGEcRFkH9wmk04zG0Bo2dwNIisERANqhjqdEmhd4nRbuwpsXDYWLLoRgeG4Chu9QHvMOQ0dpTAKH3y/tDnv8/5/z/Oc//scBv6nxdgoJ14gVYPEuITHdTdHY12gRIH0T0KljlqwthqUFHGtzAEsxqwLtPvkdc+FeeI3BgMeAMEhdOqR1mM7xswBrgmKE8pfIUhtm7fbZsft/i7wc98MtrUFxmbU6ByYgFwxjtFp5Q+WpF1mCy9wajXoqqD4E91saOf603e+5B7t99xTkyZJEiKJAl2DE9Xio1HvrBS8IuhVwVUP503swdJ9QWAw1izaoDs6pQT/655BMS9yy3KYiUoM/7adu7NmtnQfx5zWm8Q8Ui3gyGcddyU8rv/STRNQouDGP5/mhTubX4dpPv3DMzh1qS9LwuPWr+i63WVyn5QYj/4d/i4bqmbpoQ+auvBlQYghX6PE4wTSOzV5EUYlb5Q4MDqLk9/3cMRF27spDSNQamUnWZ4ebNB+OKNCyYVeFCZ5wZ5tiePN/UiP2YoQL0cUX+iFt4sNUiLdcaVvHJLecQiWnKVE8s5LvxAXRWeYgHLre0hecgAN0sxr0XBZgbJUP6OiLnaM4ivZCBrzOWBZEIY9rY5E8pl2nM0KMzzLq5aPiXmRzgbQm2VyR8KGGK/ICAFB6IusbvsDwhRf+n/jtSHc/nsGgjR9V6/1TyLa1wGU+FtnO1CbHQTHTSzIFJOYJ1jwcGLTccMTcyhp7oW4KFJ/SV4/IScrc55kQj07WNuOn94Lpw8kCm/Qv3W5HLjbWxsyfuNUO1TzWjAJBloKt2FBS+Jz6ShiA12NupBdLWugQcmn28lPMkONNql3U5cTSD9Lq+qEUqPFt++G0aKL687wDAqb+pAU7IKCuK2493AOPQ9UCNpib6T1tkg+RZ9KKJcNn8sJc1vac8o16jklLWLuOiDqwvHUIKPw7vtTON+iCDKkl/Cx9FeSYET5um1mHt6jN0Dz9ftwYjORudNjTdaBmi7kxvvA1d6Gjs0X/Q5Sp3tMEMSHre9HnDEZAPFCWUNVdliGJVPvqEP1Hbh4yPj9LadSY6fu6gPsCX+B3mq7NYLv2od8fj4aoViMNQGFijos/XVMTXGavgUisQIle71hwVx9KFEutLVjw8GORTuxoEbeJS7iPrmQyy/sIj2hQpqYHO7ZGs95nnZS4y8K8Pfqrb58UZ+IlKqbqNgfQm8da+pC9xjLqo8foFkau2qaCeXSyvzXfA9SDrp1bxJ/DU/jSJKXEWdBR2J/9U0UpwXTFZ/+8S76h/71FvO4A8sTeuqQThDKalOiPLN3BbhiYlaNsm964elkCztrC4xMqeDqYIus2JdB3cbS5l4MTag44qJt9GxbF4gKThRKY59lW13+KCUQ1pZMEwHKviKx4pFSqXzxCn/X9Gr2NO+zw+cTiTbxmUyCqH3GlsWg2kRNhOnHmhlrFkIvHTZt1borWvMCmRnwH4usn58STiycAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body del{color:#36ace1}.markdown-body code{font-family:Menlo,Monaco,Consolas,Courier New,monospace;word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#282c34;color:#4ec9b0;padding:.24em .46em;margin:0 4px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-family:Menlo,Monaco,Consolas,Courier New,monospace;font-size:12px;border-radius:10px;padding:15px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#4ec9b0;background:#282c34}.markdown-body a{text-decoration:none;color:#409eff;border-bottom:1px solid #409eff}.markdown-body a:active,.markdown-body a:hover{color:#007bff;border-bottom:1px solid #007bff}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{position:relative;padding:8px 26px;background-color:rgba(54,172,225,.75);margin:16px 0;border-left:4px solid #409eff;border-radius:5px}.markdown-body blockquote:before{content:"â";top:10px;left:8px;color:#409eff;font-size:20px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:20px;position:absolute;right:8px;bottom:0;color:#409eff;opacity:.7}.markdown-body blockquote&gt;p{color:#fff}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ€è¿‘åšä¸€ä¸ªç½‘é¡µé¡¹ç›®ï¼Œç”¨æˆ·è¦æ±‚å¯ä»¥å…¨å±å±•ç¤ºï¼Œè¿›å…¥ç³»ç»Ÿåéšè—åœ°å€æ ï¼Œäºæ˜¯ä¹ï¼Œç»è¿‡è°ƒç ”å°±é€‰æ‹©äº†å…¨å±<code>API</code>ï¼Œå³ä¾¿å¦‚æ­¤è¿˜æ˜¯é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œæ€»ç»“ä¸€ä¸‹ï¼Œå†™ä¸‹æ­¤ç¯‡æ–‡ç« ï¼Œä»¥å…ä»¥åå†é‡åˆ°ç›¸åŒçš„é—®é¢˜ã€‚</p>
</blockquote>
<p>åœ¨JavaScriptä¸­ï¼Œå®ç°é¡µé¢å…¨å±å±•ç¤ºä¸»è¦ä¾èµ–äºHTML5çš„Fullscreen APIï¼Œè¿™æ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„æŠ€æœ¯ï¼Œå› æ­¤åœ¨æ—§ç‰ˆæœ¬çš„æµè§ˆå™¨ä¸Šå¯èƒ½ä¸å—æ”¯æŒï¼Œç°ä»£æµè§ˆå™¨æ”¯å‡ºå¦‚ä¸‹ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0147412e26fb49b4aedaa6695523568b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5piO6K6w6LSm57C_X-W-ruS_oeWwj-eoi-W6jw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766035469&amp;x-signature=DClrkrCIeCYdCMgWyQV8pzmdle8%3D" width="100%" loading="lazy"/>
<h3 data-id="heading-0">æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒFullscreen API</h3>
<p>åœ¨å°è¯•ä½¿ç”¨Fullscreen APIä¹‹å‰ï¼Œæœ€å¥½å…ˆæ£€æŸ¥æµè§ˆå™¨æ˜¯å¦æ”¯æŒå®ƒã€‚è™½ç„¶ç°ä»£æµè§ˆå™¨æ™®éæ”¯æŒï¼Œä½†æ£€æŸ¥æ€»æ˜¯å¥½çš„åšæ³•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">fullscreenEnabled</span> ||
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">mozFullScreenEnabled</span> ||
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">webkitFullscreenEnabled</span> ||
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">msFullscreenEnabled</span>) {
    <span class="hljs-comment">// æ”¯æŒå…¨å±</span>
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// ä¸æ”¯æŒå…¨å±</span>
}
</code></pre>
<h3 data-id="heading-1">å…¨å±æ¨¡å¼</h3>
<p>è·å–<code>Element</code>èŠ‚ç‚¹ï¼Œç„¶åä½¿ç”¨<code>requestFullscreen</code>æ–¹æ³•ï¼Œå¯ä»¥ä½¿å¾—è¿™ä¸ªèŠ‚ç‚¹å…¨å±ï¼Œå…¨å±æ¨¡å¼çš„å…·ä½“å®ç°å¯èƒ½å› æµè§ˆå™¨è€Œå¼‚ï¼Œæ‰€ä»¥è¦åšä¸åŒæµè§ˆå™¨å¤„ç†ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">openFullScreen</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> full = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'fullscreen'</span>)
  <span class="hljs-keyword">if</span> (full.<span class="hljs-property">RequestFullScreen</span>) {
    full.<span class="hljs-title class_">RequestFullScreen</span>()
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (full.<span class="hljs-property">mozRequestFullScreen</span>) {
    full.<span class="hljs-title function_">mozRequestFullScreen</span>()
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (full.<span class="hljs-property">webkitRequestFullScreen</span>) {
    full.<span class="hljs-title function_">webkitRequestFullScreen</span>()
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (full.<span class="hljs-property">msRequestFullscreen</span>) {
    full.<span class="hljs-title function_">msRequestFullscreen</span>()
  }
}
</code></pre>
<h3 data-id="heading-2">é€€å‡ºå…¨å±æ¨¡å¼</h3>
<p>é€€å‡ºå…¨å±æ¨¡å¼å¯ä»¥é€šè¿‡è°ƒç”¨<code>document.exitFullscreen()</code>æ–¹æ³•å®ç°ã€‚è¿™ä¸ªæ–¹æ³•ä¼šå°è¯•è®©å½“å‰å¤„äºå…¨å±æ¨¡å¼çš„å…ƒç´ é€€å‡ºå…¨å±ã€‚ç”¨æˆ·æ‰‹åŠ¨æŒ‰ä¸‹<code>ESC</code>é”®ï¼Œä¹Ÿå¯ä»¥é€€å‡ºå…¨å±é”®ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">exitFullScreen</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">exitFullScreen</span>) {
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">exitFullScreen</span>();
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">mozCancelFullScreen</span>) {
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">mozCancelFullScreen</span>();
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">webkitExitFullscreen</span>) {
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">webkitExitFullscreen</span>();
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">msExitFullscreen</span>) {
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">msExitFullscreen</span>();
  }
}
</code></pre>
<h3 data-id="heading-3">è·å–å…¨å±å…ƒç´ </h3>
<p><code>document.fullscreenElement</code>å±æ€§è¿”å›æ­£å¤„äºå…¨å±çŠ¶æ€çš„<code>Element</code>èŠ‚ç‚¹ï¼Œå¦‚æœå½“å‰æ²¡æœ‰èŠ‚ç‚¹å¤„äºå…¨å±çŠ¶æ€ï¼Œåˆ™è¿”å›nullã€‚å¯ä»¥é€šè¿‡æ­¤æ–¹æ³•åˆ¤æ–­æ˜¯å¦åœ¨å…¨å±çŠ¶æ€ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> fullscreenElement =
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">fullscreenElement</span> ||
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">mozFullScreenElement</span> ||
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">webkitFullscreenElement</span>;
</code></pre>
<h3 data-id="heading-4">æ³¨æ„äº‹é¡¹</h3>
<p>ğŸ’¥ æƒ³è¦å…¨å±çš„å…ƒç´ éƒ½åº”è¯¥åœ¨è¿™ä¸ª<code>Element</code>èŠ‚ç‚¹ä¸‹é¢ï¼Œå¦åˆ™çš„è¯å…¨å±æ—¶ä¸ä¼šå±•ç¤ºã€‚å¦‚ä¸‹å›¾çš„htmlç»“æ„ï¼Œç‚¹å‡»<code>å•å¼€å¼¹æ¡†</code>ä¾ç„¶æ— æ³•åœ¨å…¨å±æ¨¡å¼ä¸‹çœ‹åˆ°å¼¹çª—ï¼Œæ¨å‡ºå…¨å±æ—¶ä¼šçœ‹åˆ°å¼¹çª—å·²ç»å‡ºç°ã€‚å¦‚æœæƒ³é¿å…è¿™ç§è«åçš„é—®é¢˜ï¼Œå¯ä»¥æŠŠ<code>document.getElementById('fullscreen')</code> æ”¹æˆ<code>document.documentElement</code>ï¼Œè®©æ•´ä¸ª<code>HTML</code>å…¨å±ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b5007e702877469ab97c9bcdcfaf8668~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5piO6K6w6LSm57C_X-W-ruS_oeWwj-eoi-W6jw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766035469&amp;x-signature=CVI2REEOc7%2FaBL%2Fc90h8MQK8Rmo%3D" width="100%" loading="lazy"/>
<p>ğŸ’¥ <code>requestFullscreen</code>æ–¹æ³•åªèƒ½æ˜¯ç”¨æˆ·ä¸»åŠ¨è§¦å‘æ‰å¯ä»¥ï¼Œå¦‚æœæƒ³åœ¨é¡µé¢åŠ è½½æ—¶é€šè¿‡<code>js</code>è°ƒç”¨æ–¹æ³•æˆ–è€…æ˜¯è§¦å‘<code>click</code>äº‹ä»¶è§¦å‘ï¼Œæˆ‘åŠä½ è¿˜æ˜¯æ”¾å¼ƒå§ï¼Œåœ¨æ§åˆ¶å°å‡ºç°å¦‚ä¸‹è­¦å‘Šï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ffcddf2389044911bcec8f75271fa9b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5piO6K6w6LSm57C_X-W-ruS_oeWwj-eoi-W6jw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766035469&amp;x-signature=YIky1bWwRIJr34FDjeQW%2BpSYyEs%3D" width="100%" loading="lazy"/>
<p>ğŸ’¥ åˆ·æ–°é¡µé¢ä¹Ÿä¼šè‡ªåŠ¨é€€å‡ºå…¨å±æ¨¡å¼ï¼›</p>
<p>ğŸ’¥ å¦‚æœæƒ³æ”¹å˜å…¨å±çŠ¶æ€æ—¶çš„æ ·å¼ï¼Œé¦–å…ˆå¯ä»¥åœ¨å…¨å±æ—¶æ·»åŠ ä¸€ä¸ª<code>calss</code>ï¼Œæ­¤å¤–ä¹Ÿå¯ä»¥ä½¿ç”¨<code>:full-screen</code>ä¼ªç±»ï¼Œå¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½æ”¯æŒï¼Œæ£€æŸ¥å…¨å±æ—¶å…ƒç´ ï¼Œä¹Ÿæ˜¯æœ‰ä½¿ç”¨<code>:full-screen</code>ä¼ªç±»çš„ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ebd1b2242fe4170b0595ce06b12fe7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP5piO6K6w6LSm57C_X-W-ruS_oeWwj-eoi-W6jw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766035469&amp;x-signature=Ga5Ej%2Fqi1iBjqFD2U7C1DG%2FVhiI%3D" width="100%" loading="lazy"/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç§’æ‡‚ Headlessï¼šä¸ºä»€ä¹ˆç°åœ¨çš„è½¯ä»¶éƒ½è¦â€œå»å¤´â€ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582118218649288730</link>    <guid>https://juejin.cn/post/7582118218649288730</guid>    <pubDate>2025-12-11T05:39:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582118218649288730" data-draft-id="7582156410319536138" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç§’æ‡‚ Headlessï¼šä¸ºä»€ä¹ˆç°åœ¨çš„è½¯ä»¶éƒ½è¦â€œå»å¤´â€ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T05:39:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çš®è›‹å°ç²¾çµ"/> <meta itemprop="url" content="https://juejin.cn/user/219558056559278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç§’æ‡‚ Headlessï¼šä¸ºä»€ä¹ˆç°åœ¨çš„è½¯ä»¶éƒ½è¦â€œå»å¤´â€ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/219558056559278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çš®è›‹å°ç²¾çµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:39:51.000Z" title="Thu Dec 11 2025 05:39:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç®€å•æ¥è¯´ï¼Œ <strong>â€œHeadlessâ€ï¼ˆæ— å¤´ï¼‰</strong> åœ¨è½¯ä»¶å¼€å‘ä¸­æŒ‡çš„æ˜¯ï¼š<strong>åªæœ‰é€»è¾‘ï¼ˆåç«¯/å†…æ ¸ï¼‰ï¼Œæ²¡æœ‰é¢„è®¾ç•Œé¢ï¼ˆå‰ç«¯/GUIï¼‰</strong> çš„è½¯ä»¶æ¶æ„æ¨¡å¼ã€‚</p>
<p>è¿™é‡Œçš„â€œHeadï¼ˆå¤´ï¼‰â€æ¯”å–»çš„æ˜¯<strong>ç”¨æˆ·ç•Œé¢ï¼ˆUI/GUIï¼‰</strong> ï¼Œâ€œBodyï¼ˆèº«ä½“ï¼‰â€æ¯”å–»çš„æ˜¯<strong>æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æˆ–å¼•æ“</strong>ã€‚</p>
<p><strong>Headless = ç æ‰è‡ªå¸¦çš„ UIï¼Œåªç»™ä½ æä¾› API æˆ–æ ¸å¿ƒé€»è¾‘ï¼Œè®©ä½ è‡ªå·±å»ç”»ç•Œé¢ã€‚</strong></p>
<hr/>
<h3 data-id="heading-0">1. æ ¸å¿ƒæ¦‚å¿µå›¾è§£</h3>
<p>æƒ³è±¡ä¸€ä¸‹ <strong>â€œä¼ ç»Ÿçš„è½¯ä»¶â€</strong>ï¼ˆæ¯”å¦‚ Wordï¼‰ï¼šå®ƒåƒä¸€å®¶<strong>å ‚é£Ÿé¤å…</strong>ã€‚ä½ æœ‰å¨æˆ¿ï¼ˆé€»è¾‘ï¼‰ï¼Œä¹Ÿæœ‰å›ºå®šçš„æ¡Œæ¤…æ¿å‡³å’Œè£…ä¿®é£æ ¼ï¼ˆUIï¼‰ã€‚ä½ å¿…é¡»åœ¨å®ƒæä¾›çš„ç¯å¢ƒé‡Œåƒé¥­ï¼Œæ— æ³•æ”¹å˜è£…ä¿®ã€‚</p>
<p>è€Œ <strong>â€œHeadless è½¯ä»¶â€</strong>ï¼šå®ƒåƒä¸€ä¸ª<strong>ä¸­å¤®å¨æˆ¿ï¼ˆå¤–å–å·¥å‚ï¼‰</strong>ã€‚å®ƒåªè´Ÿè´£åšé¥­ï¼ˆé€»è¾‘ï¼‰ï¼Œä¸æä¾›æ¡Œæ¤…ï¼ˆUIï¼‰ã€‚</p>
<ul>
<li>ä½ æƒ³æŠŠèœé€åˆ°äº”æ˜Ÿçº§é…’åº—æ‘†ç›˜ï¼ˆWeb ç«¯é«˜çº§å®šåˆ¶ UIï¼‰ï¼Ÿå¯ä»¥ã€‚</li>
<li>ä½ æƒ³æŠŠèœé€åˆ°è·¯è¾¹æ‘Šï¼ˆæ‰‹æœº Appï¼‰ï¼Ÿå¯ä»¥ã€‚</li>
<li>ä½ æƒ³æŠŠèœé€åˆ°è‡ªåŠ¨å”®è´§æœºï¼ˆå°ç¨‹åºï¼‰ï¼Ÿä¹Ÿå¯ä»¥ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1">2. å…·ä½“ä¾‹å­</h3>
<h4 data-id="heading-2">A. æ— å¤´æµè§ˆå™¨ (Headless Browser)</h4>
<ul>
<li>
<p><strong>ä¼ ç»Ÿçš„æµè§ˆå™¨ï¼ˆå¦‚ Chromeï¼‰ï¼š</strong> ä½ æ‰“å¼€å®ƒï¼Œèƒ½çœ‹åˆ°çª—å£ã€åœ°å€æ ã€æ¸²æŸ“å‡ºæ¥çš„ç½‘é¡µï¼Œä½ èƒ½ç”¨é¼ æ ‡ç‚¹å‡»ã€‚</p>
</li>
<li>
<p><strong>æ— å¤´æµè§ˆå™¨ï¼ˆå¦‚ Puppeteer, Playwrightï¼‰ï¼š</strong></p>
<ul>
<li>
<p><strong>å®šä¹‰ï¼š</strong> å®ƒæ˜¯æµè§ˆå™¨å†…æ ¸ï¼ˆChrome/Webkitï¼‰ï¼Œä½†<strong>æ²¡æœ‰å¯è§†åŒ–çš„çª—å£</strong>ã€‚å®ƒåœ¨åå°ï¼ˆå‘½ä»¤è¡Œ/æœåŠ¡å™¨ï¼‰è¿è¡Œã€‚</p>
</li>
<li>
<p><strong>æ€ä¹ˆç”¨ï¼Ÿ</strong> ä½ å†™ä»£ç æ§åˆ¶å®ƒï¼šâ€œæ‰“å¼€ç™¾åº¦ -&gt; è¾“å…¥å…³é”®è¯ -&gt; æˆªå›¾â€ã€‚</p>
</li>
<li>
<p><strong>æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</strong></p>
<ol>
<li><strong>è‡ªåŠ¨åŒ–æµ‹è¯•ï¼š</strong> æ¨¡æ‹Ÿç”¨æˆ·ç‚¹å‡»ï¼Œå¿«é€Ÿè·‘é€šå‡ åƒä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œä¸éœ€è¦çœŸçš„å¼¹å‡ºä¸€åƒä¸ªçª—å£ã€‚</li>
<li><strong>çˆ¬è™«ï¼š</strong> çˆ¬å–é‚£äº›éœ€è¦ JS æ¸²æŸ“çš„å¤æ‚ç½‘é¡µã€‚</li>
<li><strong>ç”Ÿæˆæˆªå›¾/PDFï¼š</strong> åœ¨æœåŠ¡å™¨ç«¯æŠŠç½‘é¡µæ¸²æŸ“æˆå›¾ç‰‡æˆ– PDF æŠ¥å‘Šã€‚</li>
</ol>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-3">B. æ— å¤´ç¼–è¾‘å™¨ (Headless Editor)</h4>
<ul>
<li>
<p><strong>ä¼ ç»Ÿçš„ç¼–è¾‘å™¨ï¼ˆå¦‚ CKEditor æ—§ç‰ˆ, Quillï¼‰ï¼š</strong></p>
<ul>
<li>ä½ å¼•å…¥å®ƒï¼Œå®ƒå°±è‡ªå¸¦ä¸€å¥—â€œåŠ ç²—ã€æ–œä½“ã€æ’å…¥å›¾ç‰‡â€çš„å·¥å…·æ ï¼Œè‡ªå¸¦ä¸€å¥— CSS æ ·å¼ã€‚</li>
<li><strong>ç¼ºç‚¹ï¼š</strong> å¦‚æœè®¾è®¡å¸ˆè¯´â€œæŠŠå·¥å…·æ æŒ‰é’®å˜æˆåœ†å½¢çš„ï¼Œè€Œä¸”è¦æ‚¬æµ®åœ¨æ–‡å­—ä¸Šæ–¹â€ï¼Œä½ å°±è¦ç–¯ç‹‚è¦†ç›–å®ƒçš„é»˜è®¤ CSSï¼Œéå¸¸ç—›è‹¦ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ— å¤´ç¼–è¾‘å™¨ï¼ˆå¦‚ Tiptap, Plate, Slate.jsï¼‰ï¼š</strong></p>
<ul>
<li><strong>å®šä¹‰ï¼š</strong> å®ƒåªæä¾›<strong>æ–‡å­—å¤„ç†çš„æ ¸å¿ƒé€»è¾‘</strong>ï¼ˆæ¯”å¦‚ï¼šé€‰ä¸­æ–‡æœ¬ã€æŒ‰ä¸‹ Ctrl+B å˜ç²—ä½“ã€æ’¤é”€é‡åšé€»è¾‘ï¼‰ã€‚å®ƒ<strong>ä¸æä¾›ä»»ä½• UI</strong>ï¼ˆæ²¡æœ‰å·¥å…·æ ï¼Œæ²¡æœ‰æŒ‰é’®ï¼‰ã€‚</li>
<li><strong>æ€ä¹ˆç”¨ï¼Ÿ</strong> ä½ éœ€è¦è‡ªå·±å†™ä¸€ä¸ª <code>&lt;button&gt;</code>ï¼Œè‡ªå·±å†™æ ·å¼ï¼Œç„¶åè°ƒç”¨å®ƒçš„ API <code>editor.toggleBold()</code>ã€‚</li>
<li><strong>æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</strong> ä½ å¯ä»¥å®Œå…¨è‡ªç”±åœ°å®šåˆ¶ç¼–è¾‘å™¨çš„é•¿ç›¸ã€‚æ¯”å¦‚ Notionã€é£ä¹¦æ–‡æ¡£é‚£ç§é«˜åº¦å®šåˆ¶çš„ UIï¼Œå¿…é¡»ç”¨æ— å¤´ç¼–è¾‘å™¨å¼€å‘ã€‚</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-4">3. è¿˜æœ‰å“ªäº›å¸¸è§çš„ Headlessï¼Ÿ</h3>
<p>é™¤äº†æµè§ˆå™¨å’Œç¼–è¾‘å™¨ï¼Œç°åœ¨çš„å¼€å‘è¶‹åŠ¿ä¸­è¿˜æœ‰ï¼š</p>
<h4 data-id="heading-5">C. æ— å¤´ç»„ä»¶åº“ (Headless UI)</h4>
<ul>
<li><strong>ä¾‹å­ï¼š</strong> Radix UI, Headless UI, React Ariaã€‚</li>
<li><strong>è§£é‡Šï¼š</strong> ä»¥å‰æˆ‘ä»¬ç”¨ Ant Design æˆ– Bootstrapï¼ŒæŒ‰é’®é•¿ä»€ä¹ˆæ ·æ˜¯åº“å®šå¥½çš„ã€‚Headless UI åº“åªæä¾›<strong>äº¤äº’é€»è¾‘</strong>ï¼ˆæ¯”å¦‚ä¸‹æ‹‰èœå•æ€ä¹ˆæ‰“å¼€ï¼Œé”®ç›˜æ€ä¹ˆé€‰ï¼Œæ— éšœç¢æ€ä¹ˆè¯»ï¼‰ï¼Œ<strong>ä¸æä¾›ä»»ä½• CSS</strong>ã€‚</li>
<li><strong>å¥½å¤„ï¼š</strong> å®Œç¾é…åˆ Tailwind CSSï¼Œé•¿ç›¸ç”±ä½ å®Œå…¨æ§åˆ¶ã€‚</li>
</ul>
<h4 data-id="heading-6">D. æ— å¤´ CMS (Headless CMS)</h4>
<ul>
<li><strong>ä¾‹å­ï¼š</strong> Strapi, Contentfulã€‚</li>
<li><strong>è§£é‡Šï¼š</strong> ä»¥å‰ç”¨ WordPressï¼Œåå°ç®¡ç†å†…å®¹ï¼Œå‰å°é¡µé¢ä¹Ÿæ˜¯ WordPress ç”Ÿæˆçš„ï¼ˆè€¦åˆï¼‰ã€‚Headless CMS åªæä¾›<strong>åå°ç®¡ç†</strong>å’Œ <strong>API</strong>ã€‚</li>
<li><strong>å¥½å¤„ï¼š</strong> ä½ çš„ä¸€ä»½å†…å®¹ï¼ˆAPIï¼‰å¯ä»¥åŒæ—¶å‘ç»™ ç½‘ç«™ã€Appã€æ™ºèƒ½æ‰‹è¡¨ã€ç”šè‡³å†°ç®±å±å¹•ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-7">æ€»ç»“ï¼šä¸ºä»€ä¹ˆç°åœ¨æµè¡Œ Headlessï¼Ÿ</h3>
<p>è™½ç„¶ Headless æ„å‘³ç€å¼€å‘è€…è¦å†™æ›´å¤šçš„ä»£ç ï¼ˆå› ä¸ºè¦è‡ªå·±ç”» UIï¼‰ï¼Œä½†å®ƒè§£å†³äº†ç°ä»£å¼€å‘æœ€å¤§çš„ç—›ç‚¹ï¼š<strong>å®šåˆ¶åŒ–</strong>ã€‚</p>






























<table><thead><tr><th><strong>ç»´åº¦</strong></th><th><strong>ä¼ ç»Ÿ (Coupled)</strong></th><th><strong>Headless (æ— å¤´)</strong></th></tr></thead><tbody><tr><td><strong>ä¸Šæ‰‹éš¾åº¦</strong></td><td><strong>ä½</strong> (å¼€ç®±å³ç”¨)</td><td><strong>é«˜</strong> (éœ€è¦è‡ªå·±å†™ UI)</td></tr><tr><td><strong>è‡ªç”±åº¦</strong></td><td><strong>ä½</strong> (æ”¹æ ·å¼å¾ˆéš¾)</td><td><strong>æé«˜</strong> (éšå¿ƒæ‰€æ¬²)</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>å¿«é€Ÿåšä¸ªæ ‡å‡†åå°</td><td>åƒ Notion/Figma è¿™ç§éœ€è¦æè‡´ä½“éªŒçš„äº§å“</td></tr><tr><td><strong>æ¯”å–»</strong></td><td><strong>æ–¹ä¾¿é¢</strong> (æœ‰é¢æœ‰è°ƒæ–™åŒ…ï¼Œå‘³é“å›ºå®š)</td><td><strong>ç”Ÿé²œé¢æ¡</strong> (åªæœ‰é¢ï¼Œæƒ³åšç‚¸é…±é¢è¿˜æ˜¯æ±¤é¢éšä½ )</td></tr></tbody></table>
<p><strong>ä¸€å¥è¯æ€»ç»“ï¼šHeadless å°±æ˜¯æŠŠâ€œä¸šåŠ¡é€»è¾‘â€å’Œâ€œç•Œé¢è¡¨ç°â€å½»åº•åˆ†å®¶ï¼Œè®©ä½ æ‹¥æœ‰æ— é™çš„ UI å®šåˆ¶æƒã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Linuxè¯»å†™è‹¹æœAPFSç³»ç»Ÿæ–‡ä»¶]]></title>    <link>https://juejin.cn/post/7582110969201213478</link>    <guid>https://juejin.cn/post/7582110969201213478</guid>    <pubDate>2025-12-11T05:19:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582110969201213478" data-draft-id="7582149417768648754" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Linuxè¯»å†™è‹¹æœAPFSç³»ç»Ÿæ–‡ä»¶"/> <meta itemprop="keywords" content="æ“ä½œç³»ç»Ÿ"/> <meta itemprop="datePublished" content="2025-12-11T05:19:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç©ºxæ ¼"/> <meta itemprop="url" content="https://juejin.cn/user/8451823512701"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Linuxè¯»å†™è‹¹æœAPFSç³»ç»Ÿæ–‡ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/8451823512701/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç©ºxæ ¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:19:39.000Z" title="Thu Dec 11 2025 05:19:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>æˆ‘æ˜¯ä¸€ä¸ªé»‘è‹¹æœæŠ˜è…¾äººå‘˜ï¼Œç›®å‰ä½¿ç”¨çš„é»‘è‹¹æœæœºå™¨é…ç½®å¦‚ä¸‹å›¾æ‰€ç¤ºçš„è¿™æ ·ï¼Œå› ä¸ºç»å¸¸å¼€ä¼šæˆ–è€…å¤–å‡ºï¼Œè€ŒWiFiåˆæ˜¯é•å…‰çš„æ— çº¿ç½‘å¡èµ°åˆ°é‚£é‡Œéƒ½ä¸æ–¹ä¾¿è¿æ¥ç½‘ç»œã€‚æ‰€ä»¥åœ¨è¿™ä¸ªç”µè„‘ä¸Šå®‰è£…äº†æ·±åº¦ç³»ç»Ÿã€‚</p>
<p>ç°åœ¨éœ€è¦åœ¨æ·±åº¦ç³»ç»Ÿä¸Šè¯»å†™æˆ‘çš„Macæ–‡ä»¶ï¼Œæˆ‘ä½¿ç”¨ <code>apt list | grep apfs</code>æ‰¾äº†ä¸€ä¸‹æ²¡æœ‰å‘ç°ç›¸å…³çš„è½¯ä»¶å¯ä»¥æ”¯æŒï¼Œå°±åœ¨githubä¸Šæ‰¾åˆ°äº†è¿™ä¸ª<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flinux-apfs%2Flinux-apfs-rw.git" target="_blank" title="https://github.com/linux-apfs/linux-apfs-rw.git" ref="nofollow noopener noreferrer">APFS-RWé¡¹ç›®</a>ã€‚
<img src="https://storage.deepin.org/thread/202512040433297675_image.png" alt="image.png" loading="lazy"/></p>
<p>å½“æˆ‘åœ¨å®‰è£…çš„æ—¶å€™å‘ç°ï¼Œæ·±åº¦ç³»ç»Ÿå¼ºåˆ¶å¼€å¯äº†å†…æ ¸æ¨¡å—ç­¾ååŠŸèƒ½ï¼Œç°åœ¨é™„ä¸Šè¿™ä¸ªå®‰è£…æ–¹æ³•ï¼Œå¸Œæœ›å®˜æ–¹èƒ½å¤Ÿæ·»åŠ åˆ°è¿™ä¸ªç³»ç»Ÿé‡Œé¢ã€‚</p>
<ul>
<li>å…ˆå®‰è£…gitç”¨æ¥å…‹éš†æºç </li>
</ul>
<pre><code class="hljs">sudo apt install -y git
</code></pre>
<ul>
<li>ç¡®å®šå¥½æºç æœ€æ–°ç‰ˆæœ¬ï¼Œæ¯”å¦‚ç°åœ¨çš„æ˜¯0.3.17ï¼Œç„¶åå…‹éš†å®ƒ</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/linux-apfs/linux-apfs-rw.git /usr/src/apfs-0.3.17
</code></pre>
<ul>
<li>å¼€å§‹ç¼–è¯‘å®‰è£…</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">root@xxxx-PC:/usr/src<span class="hljs-comment"># dkms build -m apfs -v 0.3.17</span>

Sign <span class="hljs-built_in">command</span>: /lib/modules/6.12.43-amd64-desktop-rolling/build/scripts/sign-file
Signing key: /var/lib/dkms/mok.key
Public certificate (MOK): /var/lib/dkms/mok.pub
Creating symlink /var/lib/dkms/apfs/0.3.17/source -&gt; /usr/src/apfs-0.3.17

Running the pre_build script:

Cleaning build area... <span class="hljs-keyword">done</span>.
Building module(s)........ <span class="hljs-keyword">done</span>.
Signing module /var/lib/dkms/apfs/0.3.17/build/apfs.ko
Cleaning build area... <span class="hljs-keyword">done</span>.
</code></pre>
<ul>
<li>æ‰§è¡Œå®‰è£…</li>
</ul>
<pre><code class="hljs language-ruby" lang="ruby">root<span class="hljs-variable">@xxxx</span>-<span class="hljs-variable constant_">PC</span><span class="hljs-symbol">:/usr/src/apfs-</span><span class="hljs-number">0.3</span>.<span class="hljs-number">17</span><span class="hljs-comment"># dkms install -m apfs -v 0.3.17</span>

<span class="hljs-title class_">An</span> original <span class="hljs-keyword">module</span> was already stored during a previous install
<span class="hljs-title class_">Installing</span> /lib/modules/<span class="hljs-number">6.12</span>.<span class="hljs-number">43</span>-amd64-desktop-rolling/extra/apfs.ko
<span class="hljs-title class_">Running</span> depmod.... done.
</code></pre>
<ul>
<li>æ·»åŠ å¼€æœºåŠ è½½æ¨¡å—</li>
</ul>
<pre><code class="hljs language-ruby" lang="ruby">root<span class="hljs-variable">@xxxx</span>-<span class="hljs-variable constant_">PC</span><span class="hljs-symbol">:/usr/src/apfs-</span><span class="hljs-number">0.3</span>.<span class="hljs-number">17</span><span class="hljs-comment"># cat /etc/modules-load.d/apfs.conf </span>
apfs
</code></pre>
<ul>
<li>è®¾ç½®æ–‡ä»¶ç³»ç»Ÿå¼€æœºæŒ‚è½½</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">sudo apfs-label  /dev/nvme0n1p2 <span class="hljs-comment">#æ‰¾åˆ°APFSç£ç›˜åˆ†åŒºè®¾å¤‡ï¼Œæ‰¾åˆ°Dataçš„åˆ†åŒºå·</span>
0       MacOS
1       Preboot
2       Recovery
3       VM
4       MacOS - Data
5       Update

<span class="hljs-comment">#åˆ›å»ºæŒ‚è½½ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> /media/apfs

<span class="hljs-comment">#è¿™é‡Œçš„uidã€gitæ˜¯ä½ çš„ç”¨æˆ·æ ‡è¯†ï¼Œå¦‚æœä¸æ·»åŠ é»˜è®¤æ˜¯0,0ã€‚æ™®é€šç”¨æˆ·ä¸èƒ½è¯»å†™</span>
<span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">"EOF"</span> &gt;&gt; /etc/fstab 
<span class="hljs-comment"># For MacOS Data</span>
/dev/nvme0n1p2  /media/apfs     apfs cknodes,uid=1000,vol=4,gid=1000,readwrite 0 0
EOF
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¢« 4.3 æ‹’ç»çš„é‚£äº›ä¸Šæ¶ï¼Œä»æœºåˆ¶è¯¯åˆ¤åˆ°å·¥ç¨‹æ²»ç†çš„å®Œæ•´åˆ†æ]]></title>    <link>https://juejin.cn/post/7582152511538266153</link>    <guid>https://juejin.cn/post/7582152511538266153</guid>    <pubDate>2025-12-11T05:47:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582152511538266153" data-draft-id="7582163781183733766" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¢« 4.3 æ‹’ç»çš„é‚£äº›ä¸Šæ¶ï¼Œä»æœºåˆ¶è¯¯åˆ¤åˆ°å·¥ç¨‹æ²»ç†çš„å®Œæ•´åˆ†æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T05:47:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bcbnb"/> <meta itemprop="url" content="https://juejin.cn/user/895474073078377"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¢« 4.3 æ‹’ç»çš„é‚£äº›ä¸Šæ¶ï¼Œä»æœºåˆ¶è¯¯åˆ¤åˆ°å·¥ç¨‹æ²»ç†çš„å®Œæ•´åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/895474073078377/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bcbnb
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:47:24.000Z" title="Thu Dec 11 2025 05:47:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è‹¹æœå®¡æ ¸æ¡æ¬¾ 4.3ï¼ˆâ€œé‡å¤åº”ç”¨ / é‡å¤å†…å®¹ / æ¨¡æ¿åŒ–åº”ç”¨â€ï¼‰å‡ ä¹æ˜¯å¼€å‘è€…æœ€æ‹…å¿ƒæ”¶åˆ°çš„æ‹’ç»ç†ç”±ä¹‹ä¸€ã€‚ä¸æŠ€æœ¯é”™è¯¯ä¸åŒï¼Œ4.3 çš„åˆ¤æ–­å¸¦æœ‰ç­–ç•¥æ€§ï¼Œè‹¹æœä¸»è¦å®¡æŸ¥åº”ç”¨æ˜¯å¦å­˜åœ¨å¤§é‡ç›¸ä¼¼å†…å®¹ã€ä½¿ç”¨é‡å¤æ¨¡æ¿ã€æˆ–æ˜æ˜¾å±äºæ‰¹é‡ç”Ÿæˆçš„ APPã€‚è®¸å¤šå›¢é˜Ÿåœ¨è·¨ç«¯æ¡†æ¶ã€å†…éƒ¨äº§å“å¤šç‰ˆæœ¬å…±å­˜ã€æˆ–åŒä¸€ä¸šåŠ¡çº¿å¤šåº”ç”¨åˆ†å‘æ—¶ï¼Œææ˜“è§¦å‘è¯¯åˆ¤ã€‚</p>
<p>ç›¸æ¯”ä¸€èˆ¬å®¡æ ¸é—®é¢˜ï¼Œ4.3 çš„æŒ‘æˆ˜åœ¨äºï¼š
â€“ <strong>å®ƒä¸ç›´æ¥å‘Šè¯‰ä½ é”™åœ¨å“ªé‡Œï¼›</strong>
â€“ <strong>è¿™æ˜¯ç»“æ„æ€§é—®é¢˜ï¼Œä¸æ˜¯å•æ¬¡æ„å»ºé”™è¯¯ï¼›</strong>
â€“ <strong>å³ä¾¿ç‰ˆæœ¬æ›´æ–°ï¼Œä¹Ÿå¯èƒ½æŒç»­è¢«æ‹’ï¼›</strong>
â€“ <strong>æŸäº›æƒ…å†µä¸‹éœ€è¦ä» Bundle ID åˆ°æ„å»ºå†…å®¹å…¨é¢æ’æŸ¥ã€‚</strong></p>
<p>æœ¬æ–‡åŸºäºå®é™…å·¥ç¨‹ç»éªŒï¼Œä»å®¡æ ¸æœºåˆ¶ã€ç»“æ„æ€§è§¦å‘åŸå› ã€æŠ€æœ¯ç¯èŠ‚çš„è‡ªæ£€æ–¹å¼ä¸‰æ–¹é¢æ‹†è§£ 4.3ï¼ŒåŒæ—¶è®¨è®ºå¦‚ä½•å€ŸåŠ©é€‚å½“çš„å·¥å…·åœ¨æäº¤å‰å‡å°‘è§¦å‘æ¦‚ç‡ï¼Œå¹¶æ„å»ºä¸€ä¸ªæ›´é€æ˜çš„ä¸Šæ¶æ£€æŸ¥æµç¨‹ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>ä¸€ã€4.3 çš„æœ¬è´¨ï¼šè‹¹æœåœ¨ç®¡ç†â€œç³»ç»Ÿé£é™©â€ï¼Œä¸æ˜¯å•ä¸ªåº”ç”¨</strong></h2>
<p>è®¸å¤šå¼€å‘è€…æŠŠ 4.3 è§†ä¸ºâ€œå†…å®¹å®¡æŸ¥é—®é¢˜â€ï¼Œä½†å®ƒèƒŒåçš„é€»è¾‘å…¶å®éå¸¸å·¥ç¨‹åŒ–ï¼š</p>
<h3 data-id="heading-1"><strong>è‹¹æœå¸Œæœ›é¿å…ï¼š</strong></h3>
<ol>
<li>å¤§é‡ç›¸ä¼¼åº”ç”¨è¿›å…¥ App Store</li>
<li>ä¼ä¸šç”¨æ¨¡æ¿ç³»ç»Ÿæ‰¹é‡æäº¤åº”ç”¨</li>
<li>ç”¨é©¬ç”²åŒ…ç»•è¿‡å®¡æ ¸ç­–ç•¥</li>
<li>å†…å®¹ã€åŠŸèƒ½ã€ç•Œé¢æå…¶æ¥è¿‘çš„åº”ç”¨å……æ–¥å¸‚åœº</li>
</ol>
<p>å› æ­¤ï¼Œ4.3 çš„åˆ¤æ–­ä¼šç»¼åˆå¤šä¸ªç»´åº¦ï¼š</p>
<ul>
<li>Bundle ID å†å²è¡Œä¸º</li>
<li>è´¦å·ä¸‹è¿‡å¾€åº”ç”¨çš„æ¨¡å¼</li>
<li>UI æ¨¡æ¿é‡å¤åº¦</li>
<li>IPA å†…èµ„æºç»“æ„</li>
<li>ä¸Šæ¶ä¿¡æ¯çš„ç›¸ä¼¼æ€§</li>
<li>æäº¤é¢‘ç‡ä¸åå°è¡Œä¸º</li>
</ul>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ4.3 æ‹’ç»é€šå¸¸ä¸æ˜¯éšæœºï¼Œè€Œæ˜¯ç³»ç»Ÿæ¨¡å‹æ£€æµ‹å‡ºçš„ <strong>â€œç›¸ä¼¼åº¦è¶…æ ‡â€</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-2"><strong>äºŒã€å“ªäº›å·¥ç¨‹ç»“æ„æœ€å®¹æ˜“è§¦å‘ 4.3ï¼Ÿ</strong></h2>
<p>ä»¥ä¸‹å‡ ç±»æƒ…å†µæ˜¯æˆ‘åœ¨å¤šä¸ªé¡¹ç›®ä¸­è§‚å¯Ÿåˆ°çš„é«˜å±é¡¹ï¼š</p>
<h3 data-id="heading-3"><strong>1. å¤šä¸ªåº”ç”¨ä½¿ç”¨åŒä¸€å¥— H5/uni-app æ¨¡æ¿ï¼Œä»…å†…å®¹æ›¿æ¢</strong></h3>
<p>è‹¹æœå®¹æ˜“è®¤ä¸ºå±äºæ‰¹é‡ç”Ÿæˆã€‚</p>
<h3 data-id="heading-4"><strong>2. åŒä¸€è´¦å·ä¸‹å­˜åœ¨å¤§é‡ç›¸ä¼¼ç•Œé¢ã€ç›¸åŒå¯¼èˆªç»“æ„</strong></h3>
<p>å°¤å…¶æ˜¯å·¥å…·ç±»ã€å±•ç¤ºç±»ã€èµ„è®¯ç±»ã€‚</p>
<h3 data-id="heading-5"><strong>3. Bundle ID ä¸ Profile æ˜ å°„å…³ç³»å¼‚å¸¸</strong></h3>
<p>ä¾‹å¦‚åŒä¸€ä¸ª profile ç»‘å®šå¤šä¸ªåº”ç”¨ï¼Œç³»ç»Ÿä¼šæ¨æµ‹å­˜åœ¨æ‰¹é‡è¡Œä¸ºã€‚</p>
<h3 data-id="heading-6"><strong>4. IPA å†…èµ„æºç›®å½•é«˜åº¦ä¸€è‡´</strong></h3>
<p>å¦‚å›¾ç‰‡å‘½åæ–¹å¼ã€æ‰“åŒ…ç»“æ„å®Œå…¨ä¸€è‡´ã€‚</p>
<h3 data-id="heading-7"><strong>5. ä¸Šæ¶æˆªå›¾ã€å…³é”®è¯ã€æè¿°é‡å¤åº¦é«˜</strong></h3>
<p>å°¤å…¶æ˜¯çŸ­æœŸå†…è¿ç»­æäº¤ã€‚</p>
<p>è¿™äº›éƒ½æ˜¯ 4.3 çš„â€œç»“æ„è§¦å‘ç‚¹â€ï¼Œè€Œéå‰ç«¯å¼€å‘å¯è§çš„é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-8"><strong>ä¸‰ã€æŠ€æœ¯ä¾§èƒ½åšä»€ä¹ˆï¼Ÿâ€”â€”ä» IPA åˆ°å…ƒæ•°æ®åšè‡ªæ£€</strong></h2>
<p>å·¥ç¨‹å›¢é˜Ÿå¹¶ä¸èƒ½å®Œå…¨é¿å… 4.3ï¼Œä½†å¯ä»¥é€šè¿‡å·¥å…·å’Œæµç¨‹å‡å°‘è§¦å‘æ¦‚ç‡ã€‚</p>
<h3 data-id="heading-9"><strong>1. æ£€æŸ¥ IPA å†…éƒ¨èµ„æºç»“æ„</strong></h3>
<p>é€šå¸¸æˆ‘ä¼šåœ¨æäº¤å‰ä½¿ç”¨å·¥å…·æŸ¥çœ‹ IPA å†…éƒ¨ï¼š</p>
<ul>
<li>Info.plist</li>
<li>èµ„æºç›®å½•ç»“æ„</li>
<li>åµŒå…¥çš„ mobileprovision</li>
<li>Framework ç‰¹å¾</li>
</ul>
<p>ä¾‹å¦‚é€šè¿‡ <strong>Appuploader çš„ IPA å†…å®¹æŸ¥çœ‹åŠŸèƒ½</strong> æŸ¥çœ‹ plist å’Œèµ„æºç»“æ„ï¼Œå¸®åŠ©ç¡®è®¤æ˜¯å¦å­˜åœ¨è¿‡å¤šé‡å¤å†…å®¹æˆ–é”™è¯¯ç»‘å®šçš„ profileã€‚</p>
<h3 data-id="heading-10"><strong>2. æ£€æŸ¥ Bundle ID ä½¿ç”¨æƒ…å†µ</strong></h3>
<p>ä½¿ç”¨ Appuploader çš„ <strong>Bundle ID ç®¡ç†åŠŸèƒ½</strong> å¯ä»¥å¿«é€ŸæŸ¥çœ‹ï¼š</p>
<ul>
<li>è´¦å·å†…å“ªäº› Bundle ID å·²å­˜åœ¨</li>
<li>æ˜¯å¦æœ‰ç›¸åŒå‰ç¼€æˆ–æ˜æ˜¾æ¨¡æ¿åŒ–å‘½å</li>
<li>è¯¥ Bundle ID æ˜¯å¦ä¸æ—§åº”ç”¨é«˜åº¦ç›¸ä¼¼</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1afd8fd894e64b929a4e2ad679a2e29b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036844&amp;x-signature=KNhvjEJFhncM4gHpBaM%2BM41q7sQ%3D" alt="bid" loading="lazy"/></p>
<p>Bundle ID ä½“ç³»æ··ä¹±æ˜¯å¸¸è§è§¦å‘å› ç´ ã€‚</p>
<h3 data-id="heading-11"><strong>3. æ£€æŸ¥æè¿°æ–‡ä»¶ä¸è¯ä¹¦å…³ç³»</strong></h3>
<p>mobileprovision å†…çš„ä¿¡æ¯å¯ç”¨äºåˆ¤æ–­ï¼š</p>
<ul>
<li>æ˜¯å¦ç»‘å®šäº†æ­£ç¡®è¯ä¹¦</li>
<li>Team ID æ˜¯å¦ä½¿ç”¨ä¸€è‡´</li>
<li>æ˜¯å¦ä½¿ç”¨å·²åºŸå¼ƒ profile</li>
</ul>
<p>è¿™äº›ä¿¡æ¯åŒæ ·å¯é€šè¿‡ Appuploader è§£æ mobileprovision å¾—åˆ°ã€‚
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de7813dd61344bba8e9522b188040f7d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036844&amp;x-signature=LTQk1yl4Nfa3OqhCXtnSWP%2FUUuo%3D" alt="æŸ¥çœ‹" loading="lazy"/></p>
<h3 data-id="heading-12"><strong>4. ä¸Šä¼ æ–¹å¼ä¿æŒä¸€è‡´æ€§ä¸å¯è¿½è¸ªæ€§</strong></h3>
<p>ä½¿ç”¨ <strong>Appuploader CLI ä¸Šä¼  IPA</strong>ï¼ˆè·¨å¹³å°ï¼‰å¯ä»¥è®©å›¢é˜Ÿåœ¨æµç¨‹ä¸­ç»Ÿä¸€å¤„ç†ä¸Šä¼ è¡Œä¸ºï¼Œé¿å…ï¼š</p>
<ul>
<li>ä¸åŒæˆå‘˜ä¸Šä¼ ä¸ä¸€è‡´ IPA</li>
<li>å¤šå°æœºå™¨ç”Ÿæˆå¤šä¸ªâ€œå‡ ä¹ç›¸åŒâ€çš„äº§ç‰©</li>
<li>å¤šæ¬¡é‡å¤æäº¤å¯¼è‡´ç³»ç»Ÿè¯¯åˆ¤æ‰¹é‡è¡Œä¸º</li>
</ul>
<p>ç»Ÿä¸€çš„ä¸Šä¼ é“¾è·¯èƒ½è®©æäº¤æ•°æ®æ›´å¯æ§ã€‚
å›¾å½¢åŒ–ç•Œé¢ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f09eb9f5cce4e8fb8534877636df66c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYmNibmI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766036844&amp;x-signature=lCwj1fCbsT8HhxiauErhanHQLHU%3D" alt="ipaä¸Šä¼ " loading="lazy"/></p>
<hr/>
<h2 data-id="heading-13"><strong>å››ã€å¦‚ä½•ä»å·¥ç¨‹æ²»ç†è§’åº¦é™ä½ 4.3 é£é™©ï¼Ÿ</strong></h2>
<p>ä»¥ä¸‹æ˜¯æˆ‘åœ¨é¡¹ç›®ä¸­éªŒè¯æœ‰æ•ˆçš„ç­–ç•¥ï¼Œä¸æ¶‰åŠå†…å®¹å±‚é¢çš„å»ºè®®ï¼Œè€Œå…³æ³¨å·¥ç¨‹ä¾§å¯æ§çš„éƒ¨åˆ†ï¼š</p>
<hr/>
<h3 data-id="heading-14"><strong>ç­–ç•¥ 1ï¼šé¿å…æ¨¡æ¿å·¥ç¨‹ç›´æ¥å¤åˆ¶ï¼Œå¤šé¡¹ç›®ä½¿ç”¨å·®å¼‚åŒ–é…ç½®</strong></h3>
<p>åŒ…æ‹¬ï¼š</p>
<ul>
<li>ä¸åŒ Scheme</li>
<li>ä¸åŒèµ„æºå‘½å</li>
<li>ä¸åŒé¡µé¢ç»“æ„</li>
<li>ä¸åŒå¯åŠ¨é¡µ</li>
<li>ä¸åŒ WebView é…ç½®</li>
</ul>
<p>ç³»ç»Ÿæ¨¡å‹ä¸»è¦çœ‹ç»“æ„ç›¸ä¼¼åº¦ï¼Œè¿™éƒ¨åˆ†è¶Šæ˜æ˜¾è¶Šå®¹æ˜“è§¦å‘ 4.3ã€‚</p>
<hr/>
<h3 data-id="heading-15"><strong>ç­–ç•¥ 2ï¼šBundle ID ç®¡ç†è§„èŒƒåŒ–</strong></h3>
<p>è¦æ±‚ï¼š</p>
<ul>
<li>é¿å…è¿ç»­ç”Ÿæˆå¯†é›†ã€ç›¸ä¼¼çš„ Bundle ID</li>
<li>ç»Ÿä¸€è®°å½• Bundle ID ä¸ä¸šåŠ¡å…³ç³»</li>
<li>ä½¿ç”¨å·¥å…·ç»Ÿä¸€æ£€æŸ¥ï¼ˆå¦‚ Appuploader çš„åˆ—è¡¨æŸ¥çœ‹ï¼‰</li>
</ul>
<p>Bundle ID æ˜¯ç³»ç»Ÿåˆ¤æ–­â€œæ˜¯å¦ä¸ºåŒç±»æ¨¡æ¿â€çš„å…¥å£ï¼Œç»“æ„è¶Šæ¸…æ™°è¶Šä¸æ˜“è¯¯åˆ¤ã€‚</p>
<hr/>
<h3 data-id="heading-16"><strong>ç­–ç•¥ 3ï¼šæ„å»ºå‰æ£€æŸ¥ IPA æ˜¯å¦åŒ…å«æ—§èµ„æº</strong></h3>
<p>è®¸å¤š 4.3 æ¥è‡ªæ··å…¥æ—§å·¥ç¨‹èµ„æºï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>æœªæ›´æ–°çš„ icon</li>
<li>æ—§çš„å¼•å¯¼é¡µ</li>
<li>ä¸ç›¸å…³çš„ H5 èµ„æº</li>
</ul>
<p>æˆ‘ä¼šé€šè¿‡ IPA å†…å®¹æ£€æŸ¥ç¡®è®¤èµ„æºæ˜¯å¦ä¸å·¥ç¨‹ä¸€è‡´ã€‚</p>
<hr/>
<h3 data-id="heading-17"><strong>ç­–ç•¥ 4ï¼šä¸Šä¼ æµç¨‹é›†ä¸­æ§åˆ¶ï¼Œé¿å…çŸ­æœŸå¤šæ¬¡æäº¤</strong></h3>
<p>å¦‚æœå¤šä¸ªæˆå‘˜åœ¨ä¸åŒå¹³å°æäº¤å¤šä¸ªç‰ˆæœ¬ï¼Œç³»ç»Ÿå¯èƒ½åˆ¤å®šä¸ºæ‰¹é‡åº”ç”¨ã€‚</p>
<p>ç»Ÿä¸€ä½¿ç”¨ Appuploader CLI ä¸Šä¼ çš„å¥½å¤„æ˜¯ï¼š</p>
<ul>
<li>ä¸Šä¼ é“¾è·¯ä¸€è‡´</li>
<li>æ—¥å¿—å¯è¿½è¸ª</li>
<li>ä¸Šä¼ åŠ¨ä½œå¯è„šæœ¬åŒ–</li>
<li>é¿å…â€œé‡å¤ä¸Šä¼  IPA é€ æˆé«˜é¢‘æäº¤â€ç°è±¡</li>
</ul>
<p>è¿™å¯¹å‡å°‘ 4.3 çš„ç³»ç»Ÿè¯¯åˆ¤éå¸¸å…³é”®ã€‚</p>
<hr/>
<h3 data-id="heading-18"><strong>ç­–ç•¥ 5ï¼šé¿å…å¤šä¸ªåº”ç”¨å…±äº«åŒä¸€å†…éƒ¨ç­¾åé“¾è·¯</strong></h3>
<p>å¦‚æœ mobileprovision æˆ–è¯ä¹¦ç»‘å®šå¤šä¸ªåº”ç”¨ï¼Œç³»ç»Ÿå¯èƒ½è®¤ä¸ºå±äºæ‰¹é‡ç”Ÿæˆã€‚</p>
<p>åœ¨æäº¤å‰è§£æ mobileprovisionï¼ˆAppuploader å¯æŸ¥çœ‹ï¼‰å¯ä»¥ç¡®è®¤æ˜¯å¦å­˜åœ¨ç»‘å®šæ··ä¹±ç°è±¡ã€‚</p>
<hr/>
<h2 data-id="heading-19"><strong>äº”ã€å½“åº”ç”¨è¢« 4.3 æ‹’ç»åï¼Œå·¥ç¨‹ä¾§å¯ä»¥åšä»€ä¹ˆï¼Ÿ</strong></h2>
<p>å°½ç®¡æœ€ç»ˆè§£é‡Šæƒåœ¨è‹¹æœï¼Œä½†ä»¥ä¸‹å·¥ç¨‹ç­–ç•¥èƒ½æé«˜é‡æ–°æäº¤æˆåŠŸç‡ï¼š</p>
<ol>
<li><strong>é‡æ–°æ„å»º IPA</strong>ï¼Œç¡®è®¤èµ„æºã€plistã€æè¿°æ–‡ä»¶å‡æ­£ç¡®</li>
<li><strong>æ›´æ¢ Bundle IDï¼ˆåœ¨å…è®¸èŒƒå›´å†…ï¼‰</strong></li>
<li><strong>å¯¹èµ„æºç»“æ„åšå·®å¼‚åŒ–è°ƒæ•´</strong></li>
<li><strong>é‡æ–°ç”Ÿæˆæè¿°æ–‡ä»¶ï¼Œä½¿ç»‘å®šå…³ç³»æ›´æ¸…æ™°</strong></li>
<li><strong>ç¡®ä¿ä¸Šä¼ åŠ¨ä½œç»Ÿä¸€æ‰§è¡Œï¼ˆé¿å…å¤šä»½æ„å»ºæäº¤ï¼‰</strong></li>
</ol>
<p>å·¥ç¨‹å›¢é˜Ÿæ‰€èƒ½åšçš„ï¼Œæ˜¯ä»ç»“æ„ä¸Šé™ä½æ¨¡å‹çš„ç›¸ä¼¼åº¦è¯„ä¼°ã€‚</p>
<hr/>
<h2 data-id="heading-20"><strong>4.3 ä¸æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œä½†æŠ€æœ¯å¯å‡å°‘è¢«è¯¯åˆ¤çš„æ¦‚ç‡</strong></h2>
<p>æ¡æ¬¾ 4.3 çš„æ ¸å¿ƒåœ¨äº â€œç»“æ„æ€§é‡å¤â€ã€‚
è®¸å¤šå›¢é˜Ÿå¹¶æ²¡æœ‰åšé”™ä»»ä½•åŠŸèƒ½ï¼Œå´å› èµ„æºç»“æ„ã€Bundle ID ä½“ç³»ã€æäº¤è¡Œä¸ºæ¨¡å¼ç­‰å·¥ç¨‹å› ç´ è§¦å‘å®¡æ ¸ã€‚</p>
<p>è€Œé€šè¿‡å·¥å…·è¾…åŠ©ï¼Œå›¢é˜Ÿå¯ä»¥è®©æ•´ä¸ªæµç¨‹æ›´åŠ é€æ˜ã€å¯æ§ï¼Œä¹Ÿèƒ½åœ¨æäº¤å‰å‘ç°æ½œåœ¨çš„ç»“æ„æ€§é£é™©ã€‚</p>
<p>æœ€ç»ˆç›®æ ‡ä¸æ˜¯å¯¹æŠ—å®¡æ ¸ï¼Œè€Œæ˜¯å»ºç«‹ä¸€ä¸ªå¹²å‡€ã€å¯è¿½è¸ªã€å·®å¼‚åŒ–æ˜æ˜¾çš„å·¥ç¨‹ä½“ç³»ï¼Œé¿å…è¢« 4.3 ç³»ç»Ÿæ¨¡å‹è¯¯ä¼¤ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ„å»ºç°ä»£åŒ– iOS è°ƒè¯•ä½“ç³»ï¼Œä»ä»£ç è¡Œä¸ºåˆ°ç³»ç»Ÿçº§è¯Šæ–­çš„å¤šå·¥å…·ååŒæ–¹æ³•è®º]]></title>    <link>https://juejin.cn/post/7582155513586171956</link>    <guid>https://juejin.cn/post/7582155513586171956</guid>    <pubDate>2025-12-11T05:55:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582155513586171956" data-draft-id="7582131164728950824" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºç°ä»£åŒ– iOS è°ƒè¯•ä½“ç³»ï¼Œä»ä»£ç è¡Œä¸ºåˆ°ç³»ç»Ÿçº§è¯Šæ–­çš„å¤šå·¥å…·ååŒæ–¹æ³•è®º"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T05:55:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç–¯ç‹‚çš„ç¨‹åºçŒ´"/> <meta itemprop="url" content="https://juejin.cn/user/2760245749234147"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºç°ä»£åŒ– iOS è°ƒè¯•ä½“ç³»ï¼Œä»ä»£ç è¡Œä¸ºåˆ°ç³»ç»Ÿçº§è¯Šæ–­çš„å¤šå·¥å…·ååŒæ–¹æ³•è®º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2760245749234147/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç–¯ç‹‚çš„ç¨‹åºçŒ´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T05:55:35.000Z" title="Thu Dec 11 2025 05:55:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ iOS å¼€å‘çš„æ•´ä¸ªå·¥ç¨‹é“¾è·¯ä¸­ï¼Œ<strong>è°ƒè¯•ï¼ˆDebuggingï¼‰</strong> æ˜¯æœ€ä½“ç°å¼€å‘è€…åŠŸåŠ›çš„éƒ¨åˆ†ã€‚éšç€ App ä½“é‡å˜å¤§ã€è·¨ç«¯æ¡†æ¶å¢å¤šï¼ˆFlutterã€uni-appã€RNã€Hybridï¼‰ã€ç³»ç»Ÿé™åˆ¶ä¸æ–­å¼ºåŒ–ï¼Œè°ƒè¯•å·²ç»ä¸å†æ˜¯â€œçœ‹æ—¥å¿— + æ‰“æ–­ç‚¹â€èƒ½è§£å†³çš„é—®é¢˜ã€‚</p>
<p>å®é™…è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œå¼€å‘è€…éœ€è¦å¤„ç†çš„é—®é¢˜å¾€å¾€è·¨è¶Šå¤šä¸ªç»´åº¦ï¼š</p>
<ul>
<li>ä»£ç é€»è¾‘é”™è¯¯ï¼ˆä¼ ç»Ÿ Bugï¼‰</li>
<li>UI æ¸²æŸ“å¼‚å¸¸</li>
<li>å†…å­˜æ³„æ¼ / å†…å­˜å¢é•¿</li>
<li>CPU å³°å€¼å¯¼è‡´å¡é¡¿</li>
<li>WebView è¡Œä¸ºä¸ç¡®å®š</li>
<li>çº¿ç¨‹åˆ‡æ¢ä¸é”ç«äº‰</li>
<li>ç½‘ç»œé“¾è·¯å¼‚å¸¸</li>
<li>ç³»ç»Ÿè¡Œä¸ºå¯¼è‡´çš„ç»ˆæ­¢ï¼ˆwatchdog / jetsamï¼‰</li>
<li>å›ºä»¶ã€æƒé™ã€æ²™ç›’é™åˆ¶è¡Œä¸º</li>
</ul>
<p>è¦è§£å†³è¿™äº›é—®é¢˜ï¼Œå¿…é¡»å°† <strong>â€œä»£ç å±‚è°ƒè¯• + æ€§èƒ½è°ƒè¯• + ç³»ç»Ÿè¡Œä¸ºè°ƒè¯• + çœŸæœºè°ƒè¯•â€</strong> ç»Ÿä¸€èµ·æ¥ï¼Œè¿™ä¹Ÿæ˜¯ç°ä»£ iOS è°ƒè¯•ä½“ç³»çš„æ ¸å¿ƒã€‚</p>
<p>æœ¬æ–‡åŸºäºçœŸå®å·¥ç¨‹ç»éªŒï¼Œå°† <strong>LLDBã€Xcodeã€Instrumentsã€PerfDogã€å…‹é­”ï¼ˆKeyMobï¼‰ã€Charlesã€Safari Inspectorã€DeviceConsoleã€MetricKitã€Crashlytics</strong> æ•´åˆæˆä¸€å¥—å®Œæ•´çš„å¯è½åœ°çš„ iOS è°ƒè¯•æ–¹æ³•è®ºã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€è°ƒè¯•ä½“ç³»ä¸ºä½•å¿…é¡»â€œå¤šå·¥å…·ååŒâ€ï¼Ÿ</h2>
<p>å› ä¸º iOS çš„é—®é¢˜æºå¤´æœ¬èº«å°±åˆ†å¸ƒäºå¤šä¸ªå±‚çº§ï¼š</p>
<h3 data-id="heading-1"><strong>1. ä»£ç å±‚é—®é¢˜ï¼ˆé€»è¾‘é”™è¯¯ï¼‰</strong></h3>
<ul>
<li>å˜é‡çŠ¶æ€ä¸ç¬¦åˆé¢„æœŸ</li>
<li>åˆ†æ”¯æ¼åˆ¤</li>
<li>Delegate æœªå›è°ƒ</li>
<li>å¼‚å¸¸è¢«åæ‰</li>
</ul>
<h3 data-id="heading-2"><strong>2. çº¿ç¨‹ä¸é”é—®é¢˜</strong></h3>
<ul>
<li>æ­»é”</li>
<li>ä¸»çº¿ç¨‹é˜»å¡</li>
<li>ç«äº‰æ¡ä»¶ï¼ˆrace conditionï¼‰</li>
</ul>
<h3 data-id="heading-3"><strong>3. æ€§èƒ½ç›¸å…³é—®é¢˜</strong></h3>
<ul>
<li>CPU é˜»å¡</li>
<li>GPU æ¸²æŸ“è¶…æ—¶</li>
<li>å†…å­˜æ³„æ¼</li>
<li>WebView å ç”¨è†¨èƒ€</li>
</ul>
<h3 data-id="heading-4"><strong>4. ç³»ç»Ÿè¡Œä¸º</strong></h3>
<ul>
<li>å†…å­˜å‹åŠ›ä¸‹è¢«ç³»ç»Ÿå¼ºåˆ¶æ€æ­»ï¼ˆjetsamï¼‰</li>
<li>ä¸»çº¿ç¨‹é•¿æ—¶é—´é˜»å¡ï¼ˆwatchdogï¼‰</li>
<li>WebKit å´©æºƒ</li>
</ul>
<h3 data-id="heading-5"><strong>5. ç½‘ç»œé—®é¢˜</strong></h3>
<ul>
<li>è¶…æ—¶</li>
<li>é‡è¯•</li>
<li>å¤§èµ„æºè§£æå‹åŠ›</li>
</ul>
<p>å•ä¸€å·¥å…·å¾ˆéš¾å®šä½æ·±å±‚é—®é¢˜ï¼Œå› æ­¤è°ƒè¯•å¿…é¡»ä½“ç³»åŒ–ã€‚</p>
<hr/>
<h2 data-id="heading-6">äºŒã€Xcodeï¼šè°ƒè¯•çš„æ ¸å¿ƒå…¥å£ï¼ˆæ–­ç‚¹ + å†…å­˜å›¾ + çº¿ç¨‹å¯è§†åŒ–ï¼‰</h2>
<h3 data-id="heading-7"><strong>1. LLDBï¼ˆé€»è¾‘è°ƒè¯•æ ¸å¿ƒï¼‰</strong></h3>
<p>å¯ç”¨äºï¼š</p>
<ul>
<li>æ‰“æ–­ç‚¹ä¸æ¡ä»¶æ–­ç‚¹</li>
<li>è§‚å¯Ÿå˜é‡</li>
<li>ä¿®æ”¹è¿è¡Œæ—¶æ•°æ®</li>
<li>åŠ¨æ€æ³¨å…¥ä»£ç éªŒè¯è¡Œä¸º</li>
</ul>
<h3 data-id="heading-8"><strong>2. Memory Graph Debuggerï¼ˆå¯¹è±¡ç”Ÿå‘½å‘¨æœŸï¼‰</strong></h3>
<p>èƒ½å¿«é€Ÿå‘ç°ï¼š</p>
<ul>
<li>æ§åˆ¶å™¨æœªé‡Šæ”¾</li>
<li>Block æ•è·å¯¹è±¡</li>
<li>å¼ºå¼•ç”¨å¾ªç¯</li>
</ul>
<p>è¿™æ˜¯å®šä½â€œé€€å‡ºé¡µé¢å†…å­˜ä¸ä¸‹é™â€çš„åˆ©å™¨ã€‚</p>
<h3 data-id="heading-9"><strong>3. Thread Debuggerï¼ˆçº¿ç¨‹è°ƒè¯•ï¼‰</strong></h3>
<p>å¯çœ‹åˆ°ï¼š</p>
<ul>
<li>ä¸»çº¿ç¨‹è°ƒç”¨æ ˆ</li>
<li>æ˜¯å¦å‡ºç°æ­»é”</li>
<li>çº¿ç¨‹æ•°é‡æ˜¯å¦è¿‡é«˜</li>
</ul>
<p>å¸¸ç”¨äºå®šä½â€œå¡é¡¿åŸå› â€ã€‚</p>
<hr/>
<h2 data-id="heading-10">ä¸‰ã€Instrumentsï¼šæ·±åº¦è°ƒè¯•å¤æ‚é—®é¢˜çš„åº•å±‚å·¥å…·</h2>
<p>Instruments æ˜¯ iOS è°ƒè¯•ä½“ç³»ä¸­çš„â€œæ˜¾å¾®é•œâ€ï¼Œé€‚åˆå®šä½åº•å±‚è¡Œä¸ºã€‚</p>
<h3 data-id="heading-11"><strong>1. Time Profilerï¼ˆCPU é—®é¢˜ï¼‰</strong></h3>
<p>å¯å®šä½ï¼š</p>
<ul>
<li>ä¸»çº¿ç¨‹é˜»å¡</li>
<li>å¤§é‡è®¡ç®—</li>
<li>å¸ƒå±€è€—æ—¶</li>
<li>å›¾ç‰‡è§£ç </li>
</ul>
<p>é€‚ç”¨äºâ€œå¡é¡¿â€ã€â€œåŠ è½½æ…¢â€ç­‰é—®é¢˜ã€‚</p>
<h3 data-id="heading-12"><strong>2. Allocations / Leaksï¼ˆå†…å­˜é—®é¢˜ï¼‰</strong></h3>
<p>èƒ½å‘ç°ï¼š</p>
<ul>
<li>å†…å­˜æ³„æ¼</li>
<li>å¯¹è±¡å¢é•¿è¶‹åŠ¿</li>
<li>å›¾ç‰‡å¤§é‡åˆ›å»º</li>
<li>WebView å ç”¨å¢åŠ </li>
</ul>
<p>å†…å­˜é—®é¢˜æ˜¯è°ƒè¯•ä¸­æœ€éš¾çš„éƒ¨åˆ†ä¹‹ä¸€ã€‚</p>
<h3 data-id="heading-13"><strong>3. Core Animationï¼ˆæ¸²æŸ“é—®é¢˜ï¼‰</strong></h3>
<p>ç”¨äºè°ƒè¯•ï¼š</p>
<ul>
<li>ç¦»å±æ¸²æŸ“</li>
<li>GPU å‹åŠ›</li>
<li>å±‚çº§è¿‡å¤š</li>
<li>åŠ¨ç”»ä¸æµç•…</li>
</ul>
<p>é€‚åˆ UI è°ƒè¯•ã€‚</p>
<hr/>
<h2 data-id="heading-14">å››ã€PerfDogï¼šçœŸæœºåœºæ™¯ä¸­çš„æµç•…åº¦ä¸å‹åŠ›è°ƒè¯•</h2>
<p>PerfDog åœ¨è°ƒè¯•å¤æ‚ UI æ—¶éå¸¸é«˜æ•ˆï¼š</p>
<h3 data-id="heading-15">èƒ½æŠ“å–ï¼š</h3>
<ul>
<li>FPS æ›²çº¿</li>
<li>CPU/GPU å³°å€¼</li>
<li>é•¿æ—¶é—´è¿è¡Œæ€§èƒ½å˜åŒ–</li>
<li>æ¸©åº¦ä¸Šå‡æƒ…å†µ</li>
</ul>
<p>é€‚ç”¨äºè°ƒè¯•ï¼š</p>
<ul>
<li>åˆ—è¡¨æ»‘åŠ¨å¡é¡¿</li>
<li>åŠ¨ç”»æ‰å¸§</li>
<li>è§†é¢‘æ’­æ”¾å‹åŠ›</li>
<li>é«˜äº¤äº’é¡µé¢æ€§èƒ½</li>
</ul>
<p>çœŸæœºè°ƒè¯•é˜¶æ®µéå¸¸ä¾èµ– PerfDog çš„è¶‹åŠ¿æ•°æ®ã€‚</p>
<hr/>
<h2 data-id="heading-16">äº”ã€å…‹é­”ï¼ˆKeyMobï¼‰ï¼šè°ƒè¯•ç³»ç»Ÿè¡Œä¸ºé—®é¢˜çš„å…³é”®å·¥å…·</h2>
<p>KeyMob çš„ä»·å€¼åœ¨äºæä¾›â€œçœŸå®ç¯å¢ƒä¸‹çš„å¯è§‚æµ‹æ€§â€ï¼Œå°¤å…¶æ˜¯é‚£äº› Xcode æ— æ³•æ•è·çš„ç³»ç»Ÿè¡Œä¸ºã€‚</p>
<h3 data-id="heading-17"><strong>1. çœŸæœºæ—¥å¿—ï¼ˆæ¯” Xcode Console æ›´ç¨³å®šï¼‰</strong></h3>
<p>å¯å¯¼å‡ºï¼š</p>
<ul>
<li>åº”ç”¨æ—¥å¿—</li>
<li>ç³»ç»Ÿæ—¥å¿—</li>
<li>å…³é”®å­—è¿‡æ»¤</li>
<li>å¤šè¿›ç¨‹æ—¥å¿—</li>
</ul>
<p>é€‚åˆå®šä½å¶å‘é—®é¢˜ã€‚</p>
<h3 data-id="heading-18"><strong>2. ç³»ç»Ÿè¡Œä¸ºæ—¥å¿—ï¼ˆè°ƒè¯•æœ€éœ€è¦çš„éƒ¨åˆ†ï¼‰</strong></h3>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">jetsam_event:</span> memory pressure high
<span class="hljs-symbol">watchdog:</span> main thread <span class="hljs-built_in">is</span> unresponsive
<span class="hljs-symbol">thermal:</span> device overheating
WebKit process terminated
sandbox deny: permission violation
</code></pre>
<p>è¿™äº›æ—¥å¿—å¸¸å¸¸æ˜¯é—®é¢˜æ ¹å› ã€‚</p>
<h3 data-id="heading-19"><strong>3. é…åˆæ€§èƒ½ç›‘æ§è¿›è¡Œè°ƒè¯•</strong></h3>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>CPU å³°å€¼ä¸Šå‡ â†’ ç³»ç»Ÿæ—¥å¿—å‡ºç° thermal è­¦å‘Š</li>
<li>å†…å­˜ä¸Šæ¶¨ â†’ jetsam æ—¥å¿—å‡ºç°</li>
<li>UI å¡é¡¿ â†’ ä¸»çº¿ç¨‹é˜»å¡æ—¥å¿—å‡ºç°</li>
</ul>
<p>è¿™è®©è°ƒè¯•å˜å¾—â€œå¯è§‚å¯Ÿã€å¯æ¨æ–­â€ã€‚</p>
<hr/>
<h2 data-id="heading-20">å…­ã€Charlesï¼šè°ƒè¯•ç½‘ç»œé“¾è·¯ç›¸å…³é—®é¢˜</h2>
<p>è®¸å¤šçœ‹ä¼¼â€œUI Bugâ€ï¼Œå®é™…ä¸Šæ˜¯ç½‘ç»œè¡Œä¸ºé€ æˆçš„ã€‚</p>
<h3 data-id="heading-21">å¯è°ƒè¯•ï¼š</h3>
<ul>
<li>è¶…æ—¶è¯·æ±‚</li>
<li>é‡è¯•è¡Œä¸º</li>
<li>é˜Ÿåˆ—é˜»å¡</li>
<li>å¤§ JSON è§£ææ—¶é—´</li>
<li>å›¾ç‰‡èµ„æºè¿‡å¤§</li>
</ul>
<p>é€‚ç”¨äºï¼š</p>
<ul>
<li>é¦–å±åŠ è½½æ…¢</li>
<li>åˆ—è¡¨é—ªçƒ</li>
<li>å¼±ç½‘è¡¨ç°å·®</li>
</ul>
<p>ç½‘ç»œæ˜¯è°ƒè¯•ä¸­æœ€å®¹æ˜“è¢«å¿½ç•¥çš„å±‚é¢ã€‚</p>
<hr/>
<h2 data-id="heading-22">ä¸ƒã€Safari Inspectorï¼šè°ƒè¯• Hybrid / WebView è¡Œä¸º</h2>
<p>å½“é—®é¢˜å‡ºåœ¨ H5 é¡µé¢æˆ– uni-app é¡µé¢æ—¶ï¼ŒSafari Inspector æ˜¯æ ¸å¿ƒå·¥å…·ã€‚</p>
<h3 data-id="heading-23">å¯è°ƒè¯•ï¼š</h3>
<ul>
<li>JS é•¿ä»»åŠ¡</li>
<li>DOM æ›´æ–°é¢‘ç‡</li>
<li>èµ„æºåŠ è½½</li>
<li>WebKit æŠ¥é”™</li>
<li>JSBridge äº¤äº’</li>
</ul>
<p>å¸¸è§é—®é¢˜ï¼š</p>
<ul>
<li>é¡µé¢ç™½å±</li>
<li>Hybrid å¡é¡¿</li>
<li>WebView å´©æºƒ</li>
<li>åŠ è½½æ…¢</li>
</ul>
<p>Safari Inspector æ˜¯ Web è°ƒè¯•çš„â€œå”¯ä¸€å…¥å£â€ã€‚</p>
<hr/>
<h2 data-id="heading-24">å…«ã€MetricKit + Crashlyticsï¼šè°ƒè¯•å¤æ‚çº¿ä¸Šé—®é¢˜çš„æœ€åä¸€ç¯</h2>
<h3 data-id="heading-25"><strong>MetricKit æä¾›ç³»ç»Ÿå±‚è°ƒè¯•ä¿¡æ¯ï¼š</strong></h3>
<ul>
<li>CPU å³°å€¼</li>
<li>å†…å­˜å³°å€¼</li>
<li>å¡é¡¿äº‹ä»¶ï¼ˆhang diagnosticsï¼‰</li>
<li>å´©æºƒç±»å‹</li>
<li>WebKit å´©æºƒ</li>
</ul>
<h3 data-id="heading-26"><strong>Crashlytics æä¾›ï¼š</strong></h3>
<ul>
<li>çº¿ç¨‹å †æ ˆ</li>
<li>é”ç«äº‰</li>
<li>æ­»é”</li>
<li>å¼‚å¸¸è¡Œä¸º</li>
<li>éå´©æºƒç±»é—®é¢˜è¶‹åŠ¿</li>
</ul>
<p>é€‚åˆè°ƒè¯•ä¸Šçº¿åæ‰å‡ºç°çš„é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-27">ä¹ã€æ„å»ºå®Œæ•´çš„ iOS è°ƒè¯•å·¥å…·çŸ©é˜µ</h2>













































<table><thead><tr><th>è°ƒè¯•ç»´åº¦</th><th>å·¥å…·ç»„åˆ</th><th>å¯è§£å†³çš„é—®é¢˜</th></tr></thead><tbody><tr><td>é€»è¾‘è°ƒè¯•</td><td>Xcode + LLDB</td><td>å˜é‡ã€åˆ†æ”¯ã€å¼‚å¸¸</td></tr><tr><td>å†…å­˜è°ƒè¯•</td><td>Instruments + Xcode Memory Graph + KeyMob</td><td>æ³„æ¼ã€å¢é•¿</td></tr><tr><td>å¡é¡¿è°ƒè¯•</td><td>PerfDog + Time Profiler + Core Animation</td><td>CPU/GPU</td></tr><tr><td>WebView è°ƒè¯•</td><td>Safari Inspector + KeyMob</td><td>JS/DOM/WebKit</td></tr><tr><td>ç½‘ç»œè°ƒè¯•</td><td>Charles</td><td>è¶…æ—¶ã€æ•°æ®è¿‡å¤§</td></tr><tr><td>ç³»ç»Ÿçº§è°ƒè¯•</td><td>KeyMob + MetricKit</td><td>jetsamã€watchdog</td></tr><tr><td>ä¸Šçº¿è°ƒè¯•</td><td>Crashlytics + MetricKit</td><td>å´©æºƒã€å¼‚å¸¸è¶‹åŠ¿</td></tr></tbody></table>
<p>è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„å·¥ç¨‹åŒ–è°ƒè¯•ä½“ç³»ã€‚</p>
<hr/>
<h2 data-id="heading-28">è°ƒè¯•ä¸æ˜¯ä¿®é—®é¢˜ï¼Œè€Œæ˜¯æ„å»ºå·¥ç¨‹èƒ½åŠ›</h2>
<p>ä¸€ä¸ªæˆç†Ÿçš„ iOS è°ƒè¯•ä½“ç³»å¿…é¡»åšåˆ°ï¼š</p>
<p><strong>å¯è§‚å¯Ÿ â†’ å¯å®šä½ â†’ å¯éªŒè¯ â†’ å¯å›å½’ â†’ å¯ç›‘æ§</strong></p>
<p>è¦å®ç°è¿™äº›èƒ½åŠ›ï¼Œéœ€è¦ï¼š</p>
<ul>
<li>Xcodeï¼ˆé€»è¾‘ï¼‰</li>
<li>Instrumentsï¼ˆåº•å±‚ï¼‰</li>
<li>KeyMobï¼ˆçœŸæœº &amp; ç³»ç»Ÿè¡Œä¸ºï¼‰</li>
<li>PerfDogï¼ˆæµç•…åº¦ï¼‰</li>
<li>Charlesï¼ˆç½‘ç»œï¼‰</li>
<li>Safari Inspectorï¼ˆWebï¼‰</li>
<li>MetricKit / Crashlyticsï¼ˆçº¿ä¸Šï¼‰</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¿å§†çº§æ•™ç¨‹ï¼šä»0æ‰‹å†™RAGæ™ºèƒ½é—®ç­”ç³»ç»Ÿï¼Œæ¥å…¥Qwenå¤§æ¨¡å‹ï½œPythonå®æˆ˜]]></title>    <link>https://juejin.cn/post/7582136489770631178</link>    <guid>https://juejin.cn/post/7582136489770631178</guid>    <pubDate>2025-12-11T04:07:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582136489770631178" data-draft-id="7582110969201115174" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¿å§†çº§æ•™ç¨‹ï¼šä»0æ‰‹å†™RAGæ™ºèƒ½é—®ç­”ç³»ç»Ÿï¼Œæ¥å…¥Qwenå¤§æ¨¡å‹ï½œPythonå®æˆ˜"/> <meta itemprop="keywords" content="LLM,Agent,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-11T04:07:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹æ•™ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1145012233707299"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¿å§†çº§æ•™ç¨‹ï¼šä»0æ‰‹å†™RAGæ™ºèƒ½é—®ç­”ç³»ç»Ÿï¼Œæ¥å…¥Qwenå¤§æ¨¡å‹ï½œPythonå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1145012233707299/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹æ•™ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T04:07:58.000Z" title="Thu Dec 11 2025 04:07:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<p>åœ¨å¤§æ¨¡å‹è½åœ°çš„ä¼—å¤šè·¯å¾„ä¸­ï¼ŒRAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰æ˜¯å‡ ä¹â€œæœ€å€¼å¾—æŒæ¡â€çš„ä¸€é¡¹æŠ€æœ¯ã€‚å®ƒå°†çŸ¥è¯†åº“ä¸å¤§æ¨¡å‹ç»“åˆï¼Œè®©æ¨¡å‹ä¸ä»…â€œçŸ¥é“â€ï¼Œè¿˜èƒ½â€œç­”å¾—å‡†ã€è¯´å¾—æ¸…â€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2663063de4944497b614f66b2c349f8f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030878&amp;x-signature=9ajLnQ8JNV%2F16bQEko6Eh9H0oJk%3D" alt="" loading="lazy"/></p>
<p>åœ¨å‰ä¸¤æœŸè¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬åŸºäºDifyå¹³å°å®Œæˆäº†RAGç³»ç»Ÿçš„å¿«é€Ÿæ­å»ºã€‚é€‚åˆåˆå­¦è€…ç†è§£æ ¸å¿ƒæ¦‚å¿µï¼Œå¿«é€Ÿä½“éªŒæ¨¡å‹æ•ˆæœã€‚ä½†å¹³å°å°è£…ç¨‹åº¦é«˜ï¼Œç»†èŠ‚éš¾ä»¥ä¿®æ”¹ï¼Œä¹Ÿéš¾ä»¥æœåŠ¡çœŸå®ä¸šåŠ¡ã€‚</p>
<p>æœ¬æœŸè¯¾ç¨‹å€ŸåŠ©RAGçŸ¥è¯†åº“ä¼˜åŒ–ç”µå•†æ™ºèƒ½é—®ç­”ï¼Œæˆ‘ä»¬ä¸å†ä¾èµ–å¹³å°ï¼Œè½¬å‘ä»0ç¼–å†™å®Œæ•´ç³»ç»Ÿã€‚ä¸åªæ˜¯æ­å‡ºæ¥ï¼Œè€Œæ˜¯ç†è§£æ¯ä¸€ä¸ªæ¨¡å—ï¼Œæ§åˆ¶æ¯ä¸€å±‚é€»è¾‘ï¼ŒçœŸæ­£åšåˆ°â€œèƒ½ç”¨ã€å¥½ç”¨ã€å¯æ‰©å±•â€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2be8b20647f7483cbfc9c7d95743cd16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030878&amp;x-signature=suOOdS%2FFJ%2BHFso%2F6w6lNq%2F7R6l8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ç³»ç»Ÿæ­å»ºæ ¸å¿ƒï¼š</h2>
<h2 data-id="heading-1">çŸ¥è¯†åº“ã€æ£€ç´¢ä¸ç”Ÿæˆçš„ååŒæœºåˆ¶</h2>
<p>RAGç³»ç»Ÿçš„æœ¬è´¨ï¼Œæ˜¯çŸ¥è¯†åº“ä¸å¤§æ¨¡å‹ä¹‹é—´çš„é«˜æ•ˆååŒã€‚ä¸ºäº†å®ç°è¿™ç‚¹ï¼Œæˆ‘ä»¬ä»ä¸‰ä¸ªå…³é”®æ¨¡å—å…¥æ‰‹ï¼šçŸ¥è¯†åº“æ„å»º â†’ ç²¾å‡†æ£€ç´¢ â†’ æ™ºèƒ½ç”Ÿæˆï¼Œå±‚å±‚æ„å»ºã€‚</p>
<h3 data-id="heading-2">1ã€çŸ¥è¯†åº“æ„å»º</h3>
<p>è¿™ä¸€é˜¶æ®µçš„æ ¸å¿ƒï¼Œæ˜¯è®©æ–‡æ¡£å˜æˆç»“æ„åŒ–ã€å¯æ£€ç´¢çš„çŸ¥è¯†å•å…ƒã€‚è¯¾ç¨‹å›´ç»•ç”µå•†ä¸šåŠ¡ï¼Œä»äº§å“ç›®å½•ã€è¥é”€æ”¿ç­–ã€ç‰©æµè§„åˆ™ã€FAQã€å”®åæ–‡æ¡£ä¸­æ„å»ºçŸ¥è¯†æºã€‚</p>
<ul>
<li>é€šè¿‡æ–‡æœ¬è§„èŒƒåŒ–ã€å»é™¤å™ªå£°ã€ç»“æ„åŒ–å¤„ç†ç­‰æ­¥éª¤ï¼Œæ¸…æ´—åŸå§‹æ–‡æ¡£ã€‚</li>
<li>åˆ†å—ç­–ç•¥é‡‡ç”¨æ»‘åŠ¨çª—å£ï¼ˆchunk_size+overlapï¼‰æœºåˆ¶ï¼ŒåŒæ—¶ä¿ç•™è¯­ä¹‰è¿è´¯æ€§ã€‚</li>
<li>å‘é‡åŒ–é˜¶æ®µé‡‡ç”¨TF-IDFæ„å»ºç¨€ç–å‘é‡ï¼Œåç»­ä¹Ÿæ”¯æŒå¯†é›†å‘é‡åµŒå…¥ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6630384041c412b88388702ffeec773~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030878&amp;x-signature=fFAeTuo0QQkBR1iKwxT8o7Qcvzo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">2ã€æ£€ç´¢æ¨¡å—</h3>
<p>æœ¬è¯¾ç¨‹å®ç°äº†ä¸€å¥—æ··åˆæ£€ç´¢ç­–ç•¥ã€‚</p>
<ul>
<li>ç»“åˆç¨€ç–ï¼ˆBM25ï¼‰ä¸å¯†é›†ï¼ˆå‘é‡ï¼‰æ£€ç´¢ï¼Œé€šè¿‡æƒé‡èåˆæå‡åŒ¹é…ç²¾å‡†åº¦ã€‚</li>
<li>ç›¸ä¼¼åº¦è®¡ç®—åŸºäºä½™å¼¦ç›¸ä¼¼åº¦ï¼Œæ”¯æŒtop-kè¿”å›ã€‚</li>
<li>æ”¯æŒä»TF-IDFå‘é‡ç©ºé—´ä¸å‘é‡æ•°æ®åº“ä¸­åŒå‘æ£€ç´¢ã€‚</li>
</ul>
<p>æ­¤å¤–ï¼Œæˆ‘ä»¬é¢„ç•™äº†Milvus/FAISSç­‰æŒä¹…åŒ–æ•°æ®åº“çš„æ‰©å±•å£ï¼Œä¹Ÿå®ç°äº†å¢é‡æ›´æ–°èƒ½åŠ›ï¼Œæ–¹ä¾¿åæœŸè¿­ä»£ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b502f6c8f5c14438983f6413dddb7dc2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030878&amp;x-signature=5xlphrMTbVhrn1CfzLyVzV%2BcW7Q%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">3ã€ç”Ÿæˆæ¨¡å—</h3>
<p>æœ¬ç³»ç»Ÿé‡‡ç”¨Qwen3-4Bä½œä¸ºç”Ÿæˆæ¨¡å‹ï¼Œä½¿ç”¨Hugging Face TransformersåŠ è½½æ¨¡å‹ï¼Œå¹¶å°†æ¨¡å‹åŠ è½½åˆ°GPUä¸Šä»¥åŠ é€Ÿæ¨ç†ã€‚ä¸ºæé«˜ç”Ÿæˆè´¨é‡åšäº†ä¸€ä¸‹è®¾è®¡ä¸ä¼˜åŒ–ï¼š</p>
<ul>
<li>Promptæ¨¡æ¿ç»“æ„æ¸…æ™°ï¼ŒåŒ…å«å·²çŸ¥ä¿¡æ¯+ç”¨æˆ·æé—®+å›ç­”æŒ‡ä»¤ï¼Œç¡®ä¿ä¸Šä¸‹æ–‡å…³è”ä¸æŒ‡ä»¤æ¸…æ™°ã€‚</li>
<li>é€šè¿‡Top-pé‡‡æ ·ã€Beam Searchç­‰å‚æ•°é…ç½®ï¼Œä¼˜åŒ–ç”Ÿæˆè´¨é‡ä¸é£æ ¼ã€‚</li>
<li>å®ç°å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œä¿éšœæ¨¡å‹åœ¨è¾¹ç•Œæ¡ä»¶ä¸‹ç¨³å®šè¿è¡Œã€‚</li>
</ul>
<p>åŒæ—¶ï¼Œç”Ÿæˆå†…å®¹ç´§å¯†ä¾æ‰˜æ£€ç´¢ç»“æœï¼Œæœç»æ¨¡å‹å¹»è§‰ï¼Œæé«˜å¯è§£é‡Šæ€§ä¸å‡†ç¡®åº¦ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/19f2f3da0b324bafadc832cf7a3fc172~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030878&amp;x-signature=WuKpx1U6zxs3o6U5juBuTe5Gn4g%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">ä»åŸç†åˆ°å®è·µï¼š</h2>
<h2 data-id="heading-6">æ­å»ºä¸€å¥—å®Œæ•´ç”µå•†RAGç³»ç»Ÿ</h2>
<p>ç†è®ºå­¦å®Œï¼Œå¼€å§‹è½åœ°ã€‚è¯¾ç¨‹çš„ç¬¬äºŒéƒ¨åˆ†æ˜¯ä¼ä¸šçº§RAGç³»ç»Ÿçš„å®æˆ˜æ­å»ºã€‚æˆ‘ä»¬ä¸å†ç”¨å¹³å°ç‚¹å‡»ï¼Œè€Œæ˜¯æ‰‹å†™å…¨éƒ¨ä»£ç ï¼Œä»æ•°æ®é‡‡é›†åˆ°æ¨¡å‹é—®ç­”ï¼Œç¯ç¯ç›¸æ‰£ï¼Œé€æ­¥æ„å»ºã€‚æ ¸å¿ƒèƒ½åŠ›åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç”µå•†çŸ¥è¯†æ–‡æ¡£çš„é‡‡é›†ä¸æ ¼å¼è½¬æ¢</li>
<li>å‘é‡åŒ–ç­–ç•¥ã€åˆ†å—ç®—æ³•çš„å®šåˆ¶å®ç°</li>
<li>æ··åˆæ£€ç´¢æ¨¡å—çš„ç»„è£…ä¸ç›¸ä¼¼åº¦æ’åº</li>
<li>Qwenæ¨¡å‹æ¥å…¥ä¸Promptç¼–æ’</li>
<li>æ¨¡å—ä¸²è”ï¼Œå½¢æˆç«¯åˆ°ç«¯é—®ç­”èƒ½åŠ›</li>
</ul>
<p>æœ€ç»ˆï¼Œä½ å°†å®Œæˆä¸€ä¸ªå…·å¤‡çœŸå®é—®ç­”èƒ½åŠ›ã€å¯æŒç»­æ‰©å±•çš„ AI åº”ç”¨ç³»ç»Ÿã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85ad673a32d0410cb5db6c0fe1500352~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030878&amp;x-signature=1lQCya0%2F5EEhdgsAIlxOYqtog%2Fo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-7">ä¸ºä»€ä¹ˆæ‰‹å†™ä»£ç </h2>
<h2 data-id="heading-8">è€Œä¸ç»§ç»­ç”¨Difyï¼Ÿ</h2>
<p>Dify å¹³å°èƒ½è·‘é€šæµç¨‹ï¼Œä¹Ÿèƒ½å¿«é€Ÿå®ç°æ•ˆæœã€‚ä½†ç³»ç»Ÿå°é—­ã€å¯æ§æ€§ä½ï¼Œä¸é€‚åˆåº”å¯¹ä¸šåŠ¡å¤æ‚åº¦é«˜ã€å®šåˆ¶åŒ–è¦æ±‚å¼ºçš„çœŸå®åœºæ™¯ã€‚</p>
<p>ç›¸å¯¹ä¾é å¹³å°ï¼Œæœ¬è¯¾ç¨‹æ‰‹å†™ä»£ç æ­å»ºRAGç³»ç»Ÿçš„æ–¹å¼æœ‰ä¸‰å¤§ä¼˜åŠ¿ï¼š</p>
<p><strong>çµæ´»</strong>ï¼šæ¯ä¸ªæ¨¡å—å¯è‡ªç”±æ›¿æ¢ã€ä¼˜åŒ–ï¼Œæ¯”å¦‚Promptæ¨¡æ¿ã€æ£€ç´¢ç­–ç•¥ã€è§£ç æ–¹å¼ã€‚</p>
<p><strong>é€æ˜</strong>ï¼šäº†è§£æ¯ä¸€æ­¥å‘ç”Ÿäº†ä»€ä¹ˆï¼Œè°ƒè¯•å®¹æ˜“ï¼Œä¾¿äºç»´æŠ¤å’Œä¼˜åŒ–ã€‚</p>
<p><strong>å¯æ§</strong>ï¼šèƒ½å°†ç³»ç»Ÿéƒ¨ç½²åœ¨ä¼ä¸šç§æœ‰äº‘æˆ–æœ¬åœ°ï¼Œæ•°æ®ä¸å‡ºåŸŸï¼Œæ›´å®‰å…¨ã€‚</p>
<p>é€šè¿‡è¿™é—¨è¯¾ç¨‹ï¼Œä½ å°†å®Œæ•´æŒæ¡æ„å»ºä¼ä¸šçº§RAGç³»ç»Ÿçš„æ ¸å¿ƒæ–¹æ³•ã€‚å®ƒä¸ä»…å¸¦ä½ ç†è§£RAGçš„åº•å±‚é€»è¾‘ï¼Œæ›´å¸¦ä½ èµ°è¿›çœŸæ­£å¯è½åœ°çš„AIåº”ç”¨åœºæ™¯ã€‚é€‚åˆå¼€å‘è€…ã€äº§å“ç»ç†ã€æŠ€æœ¯è´Ÿè´£äººç­‰ï¼Œå¯¹AIåº”ç”¨è½åœ°æœ‰æ˜ç¡®éœ€æ±‚çš„äººç¾¤ã€‚</p>
<h2 data-id="heading-9">å­¦ä¹ èµ„æºæ¨è</h2>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI Agentå¼€å‘å…¥é—¨ï¼š5 ä¸ªå…³é”®æ­¥éª¤ï¼Œå¸®ä½ æ‰“é€šè½åœ°é“¾è·¯]]></title>    <link>https://juejin.cn/post/7582110969201098790</link>    <guid>https://juejin.cn/post/7582110969201098790</guid>    <pubDate>2025-12-11T04:05:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582110969201098790" data-draft-id="7582110969201082406" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI Agentå¼€å‘å…¥é—¨ï¼š5 ä¸ªå…³é”®æ­¥éª¤ï¼Œå¸®ä½ æ‰“é€šè½åœ°é“¾è·¯"/> <meta itemprop="keywords" content="Agent,LLM,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-11T04:05:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æ¨¡å‹æ•™ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/1145012233707299"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI Agentå¼€å‘å…¥é—¨ï¼š5 ä¸ªå…³é”®æ­¥éª¤ï¼Œå¸®ä½ æ‰“é€šè½åœ°é“¾è·¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1145012233707299/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æ¨¡å‹æ•™ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T04:05:06.000Z" title="Thu Dec 11 2025 04:05:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<p>åœ¨å®è·µä¸­ï¼ŒAI Agentçš„å¼€å‘éœ€è¦ä»¥â€œæ„ŸçŸ¥-å†³ç­–-è¡ŒåŠ¨â€çš„æ ¸å¿ƒé€»è¾‘ï¼Œæ ¹æ®æŠ€æœ¯æ¶æ„å’Œåœºæ™¯éœ€æ±‚ï¼Œåˆ†äº”æ­¥è¿›è¡Œï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a8d557803824135a74b93b7a4ece067~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=UWWdeEyY0IrN4BWmld6X7uJL9sw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€åœºæ™¯çš„æ˜ç¡®å’Œè¦æ±‚çš„ç•Œå®š</h2>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦æ‰¾å‡ºç‰¹å®šçš„åº”ç”¨åœºæ™¯ï¼ˆå¦‚æ™ºèƒ½å®¢æœã€è‡ªåŠ¨åŒ–åŠå…¬ã€å·¥ä¸šå·¡æ£€ï¼‰ï¼Œæ˜ç¡® Agent çš„æ ¸å¿ƒç›®æ ‡ä¸èƒ½åŠ›è¾¹ç•Œã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ˜¯å®¢æˆ·æœåŠ¡ï¼Œåˆ™ä»¥â€œå›ç­”ç”¨æˆ·é—®é¢˜ã€å·¥å•å¤„ç†æµç¨‹â€ä¸ºä¸»è¿›è¡Œè®¾è®¡ï¼›å¦‚æœæ˜¯å·¥ä¸šå·¡æ£€ï¼Œé‚£ä¹ˆé‡ç‚¹åº”è¯¥æ”¾åœ¨â€œå¯¹è®¾å¤‡æ•°æ®çš„æ„ŸçŸ¥å’Œæ•…éšœçš„æå‰é¢„è­¦â€ä¸Šã€‚åŒæ—¶ï¼Œå¯¹ä¿¡æ¯çš„è¾“å…¥ä¸è¾“å‡ºæ–¹å¼ä¹Ÿéœ€è¦è¿›è¡Œç•Œå®šï¼šåœ¨ä»¥æ–‡æœ¬äº¤äº’ä¸ºä¸»çš„æƒ…å†µä¸‹ï¼Œé‡ç‚¹æ”¾åœ¨å¯¹æ–‡æœ¬ä¿¡æ¯çš„åŠ å·¥ä¸Šï¼›å¦‚æœåŒ…æ‹¬å„ç§ç±»å‹çš„ä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼Œéœ€è¦é“è·¯çŠ¶å†µçš„è¯†åˆ«å’Œå£°éŸ³çš„æ„ŸçŸ¥çš„æ— äººé©¾é©¶ï¼‰ï¼Œåˆ™ç”¨äºå›¾åƒå’Œå£°éŸ³çš„æ•°æ®çš„è®¿é—®æ¥å£å°†è¢«å¯¹æ¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49f6ca48f3bf47c7b0239c4b313efaec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=5wtEKndJwAfYJiwP1%2B6jtAIWXIQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">äºŒã€æŠ€æœ¯é€‰æ‹©ï¼šæ¶æ„ä¸æ¨¡å¼çš„åŒ¹é…</h2>
<p>æ ¸å¿ƒæ¡†æ¶çš„é€‰æ‹©ï¼šå¯¹äºåˆå­¦è€…ï¼Œæ¨èä½¿ç”¨LangChainï¼ˆå¼ºå¤§çš„æ¨¡å—åŒ–æ¶æ„ï¼Œæä¾›äº†å¯¹å·¥å…·çš„è°ƒç”¨å’Œå†…å­˜çš„ç®¡ç†ï¼‰ï¼›å¯¹äºéœ€è¦è¿›è¡Œå¤æ‚çš„å¤šAgentååŠ©çš„æƒ…å†µï¼Œæ¨èä½¿ç”¨MetaGPTï¼ˆæ”¯æŒAgentä¹‹é—´çš„è§’è‰²åˆ’åˆ†ï¼‰æˆ–Swarmï¼ˆä¾§é‡Agentä¹‹é—´çš„äº¤æ¥ï¼‰ï¼›</p>
<p>å¤§å‹æ¨¡å¼é€‰æ‹©ï¼šé€šç”¨åœºæ™¯é€‰æ‹©GPT3.5/4ï¼ŒChatGLM-4ï¼Œå¯¹äºå‚ç›´çš„è¡Œä¸šå¤§å‹æ¨¡å¼ï¼ˆæ¯”å¦‚åŒ»ç–—ï¼‰å¯å¾®è°ƒè¡Œä¸šå¤§æ¨¡å‹ï¼›</p>
<p>å·¥å…·å±‚å’Œå­˜å‚¨å±‚ï¼šå·¥å…·å±‚é›†æˆäº†APIï¼ˆæ¯”å¦‚å¤©æ°”å’Œæ”¯ä»˜æ¥å£ï¼‰ï¼Œä»£ç è§£é‡Šå™¨ï¼Œè®°å¿†å­˜å‚¨ç”¨RAG æ„å»ºå¤–éƒ¨çŸ¥è¯†åº“ï¼ˆè§£å†³å¹»è§‰é—®é¢˜ï¼‰ï¼Œè€Œé•¿æœŸè®°å¿†å¯ä»¥ä¸Pineconeç­‰å‘é‡æ•°æ®åº“å¯¹æ¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/985e5b9c95ac429cb5e2d8075cc65077~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=sLAiHAAz9GA79oQMSWuLN7p1s%2Fs%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰ã€æ„å»ºæ ¸å¿ƒç»„ä»¶</h2>
<p>æ„ŸçŸ¥æ¨¡å—ï¼šæ–‡æœ¬åœºæ™¯ä»¥æç¤ºçš„æ–¹å¼åˆ†æç”¨æˆ·çš„éœ€è¦ï¼Œå¤šç§ä¿¡æ¯åœºæ™¯ä»¥ CLIPã€Whisperç­‰å›¾åƒè¯†åˆ«å’Œè¯­éŸ³è¯†åˆ«çš„æ–¹å¼è®¿é—®ï¼Œä»¥APIæ–¹å¼è®¿é—®ä¼ æ„Ÿå™¨é‡‡é›†çš„å®æ—¶æ•°æ®ï¼›</p>
<p>çŸ¥è¯†åº“ï¼šé›†æˆäº†ä¸¤ä¸ªæ–¹é¢çš„çŸ¥è¯†ï¼Œä¸€ä¸ªæ˜¯ç”¨äºå¤§å‹å»ºæ¨¡çš„ä¸€èˆ¬çŸ¥è¯†çš„é¢„å¤„ç†ï¼Œå¦ä¸€ä¸ªæ˜¯ç”±RAGæä¾›çš„ã€éœ€è¦ç»å¸¸è¿›è¡Œæ›´æ–°ä»¥ç¡®ä¿ç²¾åº¦çš„ä¼ä¸šæ‰‹å†Œå’Œè¡Œä¸šè§„èŒƒç­‰é¢†åŸŸæ•°æ®çš„è¾“å…¥ï¼›</p>
<p>å†³ç­–æ¨¡å—é‡‡ç”¨ReActã€CoTç­‰æ¡†æ¶è¿›è¡Œæ¨ç†ï¼Œå¦‚å®¢æˆ·æœåŠ¡ç³»ç»Ÿçš„å†³ç­–è¿‡ç¨‹æ˜¯â€œè¯¢é—®ç”¨æˆ·â†’è·å–çŸ¥è¯†åº“â†’ç»™å‡ºç­”æ¡ˆâ€çš„é€’å½’è¿‡ç¨‹ï¼Œè€Œå¯¹äºæ¯”è¾ƒå¤æ‚çš„ä»»åŠ¡ï¼ˆå¦‚å·¥ç¨‹è®¡åˆ’ï¼‰åˆ™é‡‡ç”¨Planâ€”andâ€”Executeåˆ†è§£ä¸ºå¤šä¸ªå­ä»»åŠ¡æ¥å®Œæˆï¼›</p>
<p>æ‰§è¡Œéƒ¨åˆ†ï¼šåœ¨è™šæ‹Ÿæƒ…æ™¯ä¸­ï¼ŒAPIè¢«è°ƒç”¨ï¼ˆä¾‹å¦‚å‘é€ç”µå­é‚®ä»¶ã€ç”ŸæˆæŠ¥å‘Šç­‰ï¼‰ï¼Œåœ¨å®ä½“æƒ…æ™¯ä¸­ï¼ŒAPIè¢«å¯¹æ¥åˆ°ç¡¬ä»¶ç•Œé¢ï¼ˆä¾‹å¦‚æœºæ¢°è‡‚çš„æ§åˆ¶å‘½ä»¤ç­‰ï¼‰ã€‚</p>
<h2 data-id="heading-3">å››ã€ç ”åˆ¶ã€è°ƒè¯•å’Œä¼˜åŒ–</h2>
<p>åˆ©ç”¨LangChainå’Œå…¶ä»–ä¸€äº›ç±»ä¼¼çš„æ¡†æ¶ï¼Œå¿«é€Ÿæ„å»ºäº†è¯¥ç³»ç»Ÿçš„åŸå‹ï¼Œå¹¶ç€é‡ç ”ç©¶äº†è¯¥ç³»ç»Ÿçš„ä¸¤ä¸ªä¸»è¦åŠŸèƒ½ï¼Œå³æ˜¯å¦éœ€è¦ä½¿ç”¨å·¥å…·ä»¥åŠæ˜¯å¦éœ€è¦è¯¢é—®ä½¿ç”¨è€…ï¼Œä»¥åŠæ˜¯å¦éœ€è¦åœ¨å¤šæ¬¡ä¼šè¯ä¸­è®°å¾—ä½¿ç”¨è€…çš„å–œå¥½ï¼Œä»¥åŠè¯¥ç³»ç»Ÿçš„è®°å¿†ä¸€è‡´æ€§ã€‚é’ˆå¯¹å®é™…é—®é¢˜çš„ä¼˜åŒ–è®¾è®¡ï¼šåˆ©ç”¨RAGæŠ€æœ¯é™ä½äº†æ¨¡å‹çš„ä¿¡æ¯åå·®æ€§ï¼Œåˆ©ç”¨ç²¾ç»†è°ƒæ•´æé«˜äº†çºµå‘å†³ç­–çš„å‡†ç¡®æ€§ï¼Œå¹¶é™ä½äº†å·¥å…·è°ƒç”¨çš„å“åº”æ—¶é—´ï¼›</p>
<h2 data-id="heading-4">äº”ã€ç³»ç»Ÿçš„éƒ¨ç½²å’Œè¿­ä»£</h2>
<p>å°†Agenté…ç½®åˆ°è¯¸å¦‚ç”¨äºä¼ä¸šå®¢æˆ·æœåŠ¡çš„å¾®ä¿¡åº”ç”¨æˆ–ç”¨äºå·¥ä¸šæ§åˆ¶ç³»ç»Ÿè®¾å¤‡ç»ˆç«¯çš„ç›®æ ‡å¹³å°ä¸Šï¼Œæˆ–è€…å¯ä»¥å€ŸåŠ©è¯¸å¦‚Cozeå’Œç™¾åº¦çš„AgentBuilderä¹‹ç±»çš„é›¶ä»£ç å¹³å°æ¥å®ç°å¿«é€Ÿå‘å¸ƒã€‚æŠ•å…¥ä½¿ç”¨åï¼Œæ ¹æ®ä½¿ç”¨è€…çš„å›é¦ˆï¼Œè¿›è¡Œå†³ç­–é€»è¾‘çš„ä¼˜åŒ–ã€å·¥å…·åº“çš„æ‰©å……ã€çŸ¥è¯†åº“çš„æ›´æ–°ç­‰ä¸€ç³»åˆ—çš„è¿­ä»£å¼å·¥ä½œï¼Œä»¥é€æ¸æé«˜ç³»ç»Ÿçš„è‡ªä¸»èƒ½åŠ›å’Œé€‚åº”èƒ½åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87396379552945388ff4f6f46a7ea362~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=CwJkgHJJhZSgaZPIUeqM%2Fecbhe4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/820e2a83d69044639c946c15ad96f3fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=FFQEUHjomoiZ3GlVyyOTif6oEwI%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecb3b79b82ed489abb28ce5f7fdc3668~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=nxoijDU9PnnXEwRXln0oLhpWM%2Fo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15d7059f84334d7f97b923e7257800ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=vDgzUDXVg64anAPsgkh3E%2FLiJ1k%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6513c1460c94469397a12c4f38215503~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=hXHkkQr0FHh5%2BHg6zCXcE8vN1uM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/247f6b63f73841e4971a1e8c4e40bbbc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=0U%2F1Pgp8jLAsXMbRG6TAzhskj1g%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fe10ebee1dd46849d9f0abf58e22efa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=BFYFrk6fzotB7Hw3opnzAF8hjuA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4fc0fc2d3794636ac9486d1362467f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=W2%2BkecRBH6c1bttCbvaJG1%2B7SrU%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0066b67a599543d0a08bd46d7e01d511~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=kTrKpsK7G6EBbn9T5UwqAPuHsfE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8574fcd11d34741af25de085a115829~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=vgRlSbMVpij3%2BuQbOWan%2BiZqOxg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40017b000c0a448c85dda81de463ed95~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=sKf%2FvJiEkPoABudc1M%2FMmDEVO%2BA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dad1f304d264213b9dc69b0123a4245~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=rvjb8Ts2jCpI3IaFJmn88nw9HiE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7db980bd4e5e474bb050534407460d98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=hSIGp5bcHPzOW2GoPiKOQfrYowQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/40f216422ce04964a08e6dc295900da8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=Nrl%2BqFI8Pt6ynCh5clc%2BqgdU%2FbE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c555ee6b1844b66b423189b2b39b493~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=wTd8G9LIUwDwDdYQeCu9SZsCROM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de673dc5995b4025893db8465ce3c525~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=p3uYpTTuJJNmYYOAwMarUqmklf8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6559bdb4f274bd6ba40a4153d0e6854~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=%2F0SdzPwKmNMrNBbj7JSqBQ0hwnM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c529ef57e1444ccf8fa3120e111e5670~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=nfZ8UoU26UoPqBWVHQb%2FhFMKpjQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e29af9dff80c4dfe97fd0c4252d7ed58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=VVESer6B%2FlvFL4fdL7sIKSngZ3E%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe762fabde9f49429e10b8e25a1757aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=kRJpXRvorVkaeZAQJc1rI2sGKB0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/797a65389a494e459a31f48d7629dc07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=slm6y%2Blfz%2FEDDTy0GcKXrVttyB0%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f05ec6ac699348a6a181fdeed23fdb01~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=WvcSzPUXWSK4i3l8JH1jaibLu6s%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12cb26edde8a40f4baca4059c9de245f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=RKiR85RkWdexTYwOOTGtcWgaVAo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a259f1df39544e00bab2569e1a775e14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=8WRQpnaXIkajWrMULopfpt6RvjM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c8cf2595ee44a278d6c037bcdc807c0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=%2BOpzJO7kxE1%2BEwXvc5YdK10GRiM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e3c97fed02f421db3429e0f1959f8c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=KALtZ7f49LGQLmY%2BClq3o6cogro%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64001f1a9bdd4958b240ae70b2d747bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=mLOsJHe0gjewYKSMNk6ZEAukZUw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc96dc4ce36d4cf58073e34b6ec9e414~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=4iqTzaSu8ttqiSvyq1tl5uw4EBU%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1042b53de917453f82074f394e41bbd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=J5hHXmIxxAtaZYjLBNq7ClLxEJE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/580cf2fcefac4edf8fcbc0a2a515d2f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=lAb4g48HofenIuFno40bD9tuvds%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9be85a35d86f4d85896e8af00fca6c70~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=Ny3vx%2FhE7pFSMKfhnMf7y57oSuc%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e11b8b100c24adcbf2d13834fc2013e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=Fv9X7gBPzO%2Bq2kCilaeTbmylNf8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64284f10b7b94229bfe3deef6a1bc3f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=XU5j35a1Cu7FYSMDQS3mv%2Fz%2FDpM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0fe66943b6434b248b8a9ddd7403f168~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=r64favh043r7j1Zj8P8VnEGqZNw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9664de8eba9c4572a9b5087b34e73570~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=I4eYQdYK7nJGfFkdW4nn0OKZ1uY%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32e6128fbe01424e9678e846c1ed0e17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=l3gjCMS6YQnQ2phUU%2Bzo1y0wAbo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42b746185f3b4b96ba4b7b83aee9c017~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=7lSZYM1fiJxRMTva1GPYuK%2Fpm4I%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3434fd174a484903b0b78c71927024ae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=xlqFwzDyJw3Zmje2BbotkCx%2Fb9o%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13d7cd92a59c4c45af33c5e7ab0879ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=gCuaqnbGn4kbNW9MyLLUg4j5JYk%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f1d3b1e3e1348379f827f874e1eded4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=cR%2FYjESFmFtSniw626eqDTAFTxQ%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/832f395cbdcd4bf3b86edbf7c54cac5b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=mWvMs0TLs4toj%2BFDYe59Pwbn64w%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fae179137d04050bc3e74e89fb222e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=ngOOArnMVZdasnfKRZlBXNBUtrw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33ad8b59d9d7427badff338a7619f183~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=m1RSH%2By%2Fu5z%2BBtB1pxfm1iD5D%2F8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e3a39cfecfa48d28d1152404ac04bf1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=W%2FZWn7e%2Fmql7xb1aDuI3efLZiME%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/765fb436c3384ad5820b8e2d938c653f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=VmToOB0LqkVUuKPhcP5cGgcAEKg%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24bb458f4a9b4dfa90eb70a75b7cefed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=iY0U5lp1o1QczXKSa7%2BKiQc6DaA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e06fbcef32964b87a9356565e0fa9e0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=UyVN%2BDB9Pvu2jnzXw4N%2FYHbZ5ns%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/208badbae88c4ccdb04c345fb1286429~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn5qih5Z6L5pWZ56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030705&amp;x-signature=4UY3zJ8TWe1N9FqOjlS%2FrKmzSfI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">å­¦ä¹ èµ„æºæ¨è</h3>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaå¹¶å‘ç¼–ç¨‹é¿å‘æŒ‡å—ï¼šè¿™5ä¸ªéšè—é™·é˜±è®©ä½ çš„æ€§èƒ½æš´è·Œ50%ï¼]]></title>    <link>https://juejin.cn/post/7582200865907474466</link>    <guid>https://juejin.cn/post/7582200865907474466</guid>    <pubDate>2025-12-11T04:16:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582200865907474466" data-draft-id="7582155513585958964" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaå¹¶å‘ç¼–ç¨‹é¿å‘æŒ‡å—ï¼šè¿™5ä¸ªéšè—é™·é˜±è®©ä½ çš„æ€§èƒ½æš´è·Œ50%ï¼"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T04:16:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaå¹¶å‘ç¼–ç¨‹é¿å‘æŒ‡å—ï¼šè¿™5ä¸ªéšè—é™·é˜±è®©ä½ çš„æ€§èƒ½æš´è·Œ50%ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T04:16:40.000Z" title="Thu Dec 11 2025 04:16:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Javaå¹¶å‘ç¼–ç¨‹é¿å‘æŒ‡å—ï¼šè¿™5ä¸ªéšè—é™·é˜±è®©ä½ çš„æ€§èƒ½æš´è·Œ50%ï¼</strong></h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>Javaå¹¶å‘ç¼–ç¨‹æ˜¯ç°ä»£è½¯ä»¶å¼€å‘ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œå°¤å…¶æ˜¯åœ¨é«˜å¹¶å‘ã€é«˜æ€§èƒ½çš„åº”ç”¨åœºæ™¯ä¸‹ã€‚ç„¶è€Œï¼Œå¹¶å‘ç¼–ç¨‹çš„å¤æ‚æ€§å¾€å¾€ä¼šå¯¼è‡´ä¸€äº›éšè”½çš„é—®é¢˜ï¼Œè¿™äº›é—®é¢˜ä¸ä»…éš¾ä»¥å‘ç°ï¼Œè¿˜å¯èƒ½å¯¹ç³»ç»Ÿæ€§èƒ½é€ æˆç¾éš¾æ€§å½±å“ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨Javaå¹¶å‘ç¼–ç¨‹ä¸­äº”ä¸ªå¸¸è§çš„éšè—é™·é˜±ï¼Œè¿™äº›é™·é˜±å¯èƒ½å¯¼è‡´ä½ çš„åº”ç”¨æ€§èƒ½æš´è·Œ50%ç”šè‡³æ›´å¤šã€‚é€šè¿‡å‰–æè¿™äº›é—®é¢˜çš„æ ¹æºå¹¶æä¾›è§£å†³æ–¹æ¡ˆï¼Œå¸Œæœ›èƒ½å¸®åŠ©å¼€å‘è€…é¿å…è¿™äº›â€œå‘â€ã€‚</p>
<h3 data-id="heading-2">ä¸»ä½“</h3>
<h4 data-id="heading-3">1. <strong>è¿‡åº¦åŒæ­¥ï¼šé”çš„æ»¥ç”¨ä¸æ€§èƒ½ç“¶é¢ˆ</strong></h4>
<p><strong>é—®é¢˜æè¿°</strong>ï¼š
åŒæ­¥ï¼ˆSynchronizationï¼‰æ˜¯Javaå¹¶å‘ç¼–ç¨‹ä¸­æœ€åŸºç¡€çš„æœºåˆ¶ä¹‹ä¸€ï¼Œä½†è¿‡åº¦ä½¿ç”¨<code>synchronized</code>å…³é”®å­—æˆ–æ˜¾å¼é”ï¼ˆå¦‚<code>ReentrantLock</code>ï¼‰ä¼šå¯¼è‡´ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå°†æ•´ä¸ªæ–¹æ³•æˆ–ä»£ç å—ä¸åŠ åŒºåˆ†åœ°åŠ é”ä¼šé™åˆ¶å¹¶è¡Œæ€§ï¼Œå¯¼è‡´çº¿ç¨‹é˜»å¡æ—¶é—´è¿‡é•¿ã€‚</p>
<p><strong>æ¡ˆä¾‹åˆ†æ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">synchronized</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processData</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// è€—æ—¶æ“ä½œ</span>
}
</code></pre>
<p>å¦‚æœ<code>processData()</code>æ–¹æ³•ä¸­åŒ…å«è€—æ—¶æ“ä½œï¼ˆå¦‚I/Oæˆ–å¤æ‚è®¡ç®—ï¼‰ï¼Œæ‰€æœ‰è°ƒç”¨è¯¥æ–¹æ³•çš„çº¿ç¨‹éƒ½ä¼šä¸²è¡Œæ‰§è¡Œï¼Œå®Œå…¨ä¸§å¤±äº†å¤šçº¿ç¨‹çš„ä¼˜åŠ¿ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>ç¼©å°åŒæ­¥èŒƒå›´ï¼šåªå¯¹å…±äº«æ•°æ®çš„è®¿é—®éƒ¨åˆ†åŠ é”ã€‚</li>
<li>ä½¿ç”¨æ›´ç»†ç²’åº¦çš„é”ï¼šä¾‹å¦‚åˆ†æ®µé”ï¼ˆå¦‚<code>ConcurrentHashMap</code>çš„å®ç°ï¼‰ã€‚</li>
<li>è€ƒè™‘æ— é”æ•°æ®ç»“æ„ï¼šå¦‚<code>AtomicInteger</code>ã€<code>LongAdder</code>ç­‰ã€‚</li>
</ul>
<h4 data-id="heading-4">2. <strong>è™šå‡å”¤é†’ï¼šä¸ºä»€ä¹ˆä½ çš„æ¡ä»¶ç­‰å¾…ä¸é è°±ï¼Ÿ</strong></h4>
<p><strong>é—®é¢˜æè¿°</strong>ï¼š
åœ¨ä½¿ç”¨<code>Object.wait()</code>æˆ–<code>Condition.await()</code>æ—¶ï¼Œçº¿ç¨‹å¯èƒ½ä¼šå› ä¸ºâ€œè™šå‡å”¤é†’â€ï¼ˆSpurious Wakeupï¼‰è€Œæå‰è¢«å”¤é†’ï¼Œå³ä½¿æ²¡æœ‰æ˜ç¡®çš„ä¿¡å·é€šçŸ¥ã€‚è¿™ç§ç°è±¡å¯èƒ½å¯¼è‡´ç¨‹åºé€»è¾‘é”™è¯¯ã€‚</p>
<p><strong>æ¡ˆä¾‹åˆ†æ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">synchronized</span> (lock) {
    <span class="hljs-keyword">while</span> (!condition) {
        lock.wait(); <span class="hljs-comment">// å¯èƒ½è¢«è™šå‡å”¤é†’</span>
    }
}
</code></pre>
<p>å¦‚æœæœªå°†<code>wait()</code>æ”¾åœ¨å¾ªç¯ä¸­æ£€æŸ¥æ¡ä»¶ï¼Œè™šå‡å”¤é†’å¯èƒ½å¯¼è‡´ç¨‹åºç»§ç»­æ‰§è¡Œè€Œä¸æ»¡è¶³ä¸šåŠ¡æ¡ä»¶ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>å§‹ç»ˆåœ¨å¾ªç¯ä¸­æ£€æŸ¥æ¡ä»¶ï¼šè¿™æ˜¯Javaå®˜æ–¹æ¨èçš„æœ€ä½³å®è·µã€‚</li>
<li>ä½¿ç”¨æ›´é«˜å±‚æ¬¡çš„å·¥å…·ï¼šå¦‚<code>CountDownLatch</code>ã€<code>CyclicBarrier</code>æˆ–<code>Semaphore</code>ã€‚</li>
</ul>
<h4 data-id="heading-5">3. <strong>çº¿ç¨‹æ± é…ç½®ä¸å½“ï¼šèµ„æºè€—å°½ä¸ä»»åŠ¡å †ç§¯</strong></h4>
<p><strong>é—®é¢˜æè¿°</strong>ï¼š
çº¿ç¨‹æ± ï¼ˆå¦‚<code>ThreadPoolExecutor</code>ï¼‰æ˜¯ç®¡ç†å¤šçº¿ç¨‹ä»»åŠ¡çš„åˆ©å™¨ï¼Œä½†é”™è¯¯çš„é…ç½®å¯èƒ½å¯¼è‡´èµ„æºè€—å°½æˆ–ä»»åŠ¡å †ç§¯ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>æ ¸å¿ƒçº¿ç¨‹æ•°è¿‡å¤§ï¼šæµªè´¹èµ„æºã€‚</li>
<li>é˜Ÿåˆ—æ— é™å¢é•¿ï¼šå¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºã€‚</li>
<li>æ‹’ç»ç­–ç•¥ä¸å½“ï¼šä»»åŠ¡ä¸¢å¤±æˆ–ç³»ç»Ÿå´©æºƒã€‚</li>
</ul>
<p><strong>æ¡ˆä¾‹åˆ†æ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">100</span>); <span class="hljs-comment">// å›ºå®š100çº¿ç¨‹</span>
</code></pre>
<p>åœ¨é«˜è´Ÿè½½åœºæ™¯ä¸‹ï¼Œå¦‚æœä»»åŠ¡æ•°é‡è¿œè¶…100ä¸”ä»»åŠ¡è€—æ—¶è¾ƒé•¿ï¼Œé˜Ÿåˆ—å¯èƒ½æ— é™å¢é•¿ï¼ˆé»˜è®¤ä½¿ç”¨æ— ç•Œé˜Ÿåˆ—ï¼‰ï¼Œæœ€ç»ˆå¯¼è‡´OOMã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ul>
<li>æ ¹æ®å®é™…éœ€æ±‚é…ç½®å‚æ•°ï¼šæ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°ã€é˜Ÿåˆ—å®¹é‡ç­‰ã€‚</li>
<li>é€‰æ‹©åˆé€‚çš„æ‹’ç»ç­–ç•¥ï¼šå¦‚è®°å½•æ—¥å¿—ã€é™çº§å¤„ç†ç­‰ã€‚</li>
<li>ç›‘æ§çº¿ç¨‹æ± çŠ¶æ€ï¼šé€šè¿‡JMXæˆ–å…¶ä»–å·¥å…·å®æ—¶ç›‘æ§ã€‚</li>
</ul>
<h4 data-id="heading-6">4. <strong>å†…å­˜å¯è§æ€§é—®é¢˜ï¼švolatileä¸happens-beforeåŸåˆ™</strong></h4>
<p><strong>é—®é¢˜æè¿°</strong>ï¼š
åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå˜é‡çš„ä¿®æ”¹å¯èƒ½å¯¹å…¶ä»–çº¿ç¨‹ä¸å¯è§ï¼ˆç”±äºCPUç¼“å­˜ä¸€è‡´æ€§åè®®æˆ–æŒ‡ä»¤é‡æ’åºï¼‰ã€‚å³ä½¿æ²¡æœ‰æ˜¾å¼çš„åŒæ­¥æ“ä½œï¼Œä¹Ÿå¯èƒ½å‡ºç°æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p>
<p><strong>æ¡ˆä¾‹åˆ†æ</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SharedData</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// évolatile</span>

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setFlag</span><span class="hljs-params">()</span> {
        flag = <span class="hljs-literal">true</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">isFlag</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> flag;
    }
}
</code></pre>
<p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œä¸€ä¸ªçº¿ç¨‹è°ƒç”¨<code>setFlag()</code>åï¼Œå¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨<code>isFlag()</code>å¯èƒ½ä»ç„¶è¯»åˆ°æ—§å€¼ï¼ˆfalseï¼‰ã€‚</p>
<p>*<em>è§£å†³æ–¹æ¡ˆ</em>:</p>
<ul>
<li><code>volatile</code>:  ä¿è¯å˜é‡çš„å¯è§æ€§å’Œç¦æ­¢æŒ‡ä»¤é‡æ’åº.</li>
<li><code>final</code>:  å¦‚æœå˜é‡åˆå§‹åŒ–åä¸å†ä¿®æ”¹,  å¯ä»¥ç”¨ <code>final</code>.</li>
</ul>
<h2 data-id="heading-7">Happens-Beforeè§„åˆ™:  ç†è§£å¹¶åˆ©ç”¨ Java Memory Model (JMM)çš„è§„åˆ™.</h2>
<p>####5. <strong>æ­»é”ä¸æ´»é”:  å½“å¤šä¸ªThreadç›¸äº’ç­‰å¾…æ—¶</strong></p>
<p><strong>Problem Description</strong>:<br/>
Deadlock occurs when two or more threads wait indefinitely for locks held by each other.Livelock is a related problem where threads are actively trying to resolve a conflict but make no progress.</p>
<p><strong>Case Study</strong>:</p>
<pre><code class="hljs language-java" lang="java">Thread1: locks A, then tries to lock B  
Thread2: locks B, then tries to lock A  
</code></pre>
<p>Both threads will block forever unless interrupted.</p>
<p><strong>Solutions</strong>:</p>
<ul>
<li>Avoid nested locking: Acquire locks in a consistent global order.</li>
<li>Use timeout mechanisms: For example, <code>tryLock(long timeout, TimeUnit unit)</code> in <code>ReentrantLock</code>.</li>
<li>Deadlock detection tools: Use JVM tools like <code>jstack</code>.</li>
</ul>
<h3 data-id="heading-8">Conclusion</h3>
<p>Concurrent programming in Java is powerful but fraught with subtle pitfalls that can dramatically degrade performanceâ€”sometimes by more than50%. By understanding these five common trapsâ€”over-synchronization, spurious wakeups, misconfigured thread pools, memory visibility issues,and deadlocksâ€”you can write more robust and efficient concurrent code.Remember,the key lies in careful design,proper synchronization,and continuous testing under realistic conditions.</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤–ç½‘ä¸‹è½½å†…ç½‘éƒ¨ç½²:Yumç¦»çº¿å‡çº§Linuxè½¯ä»¶åŒ…]]></title>    <link>https://juejin.cn/post/7582200865907490850</link>    <guid>https://juejin.cn/post/7582200865907490850</guid>    <pubDate>2025-12-11T04:44:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582200865907490850" data-draft-id="7582096212663631872" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤–ç½‘ä¸‹è½½å†…ç½‘éƒ¨ç½²:Yumç¦»çº¿å‡çº§Linuxè½¯ä»¶åŒ…"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2025-12-11T04:44:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿®å·±xj"/> <meta itemprop="url" content="https://juejin.cn/user/2641475936724142"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤–ç½‘ä¸‹è½½å†…ç½‘éƒ¨ç½²:Yumç¦»çº¿å‡çº§Linuxè½¯ä»¶åŒ…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641475936724142/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿®å·±xj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T04:44:31.000Z" title="Thu Dec 11 2025 04:44:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿‘æœŸå®‰å…¨æ‰«æå‘ç°æˆ‘ä»¬çš„ç”Ÿäº§ç¯å¢ƒå­˜åœ¨å¤šä¸ªç³»ç»Ÿæ¼æ´ï¼Œéœ€è¦ç´§æ€¥å‡çº§ç›¸å…³å®‰è£…åŒ…ã€‚ç„¶è€Œï¼Œç”Ÿäº§æœåŠ¡å™¨éƒ¨ç½²åœ¨å†…ç½‘éš”ç¦»ç¯å¢ƒä¸­ï¼Œæ— æ³•ç›´æ¥è®¿é—®å¤–éƒ¨è½¯ä»¶ä»“åº“ã€‚é¢å¯¹è¿™ä¸€æŒ‘æˆ˜ï¼Œå›¢é˜ŸåŒäº‹æ¨èäº†ä¸€ä¸ªé«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ <code>yum install --downloadonly</code> å‘½ä»¤è¿›è¡Œç¦»çº¿åŒ…å¤–ä¸‹å†…éƒ¨ã€‚ä»Šå¤©ï¼Œæˆ‘å°†åˆ†äº«ä¸€ç§é«˜æ•ˆçš„æ–¹æ³•ï¼šåˆ©ç”¨<code>yum install --downloadonly</code>åŠŸèƒ½åœ¨å¤–ç½‘ç¯å¢ƒä¸‹è½½æ‰€éœ€RPMåŒ…ï¼Œç„¶ååœ¨å†…ç½‘ç¯å¢ƒä¸­è¿›è¡Œå®‰å…¨éƒ¨ç½²ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/977e226bcee54cb2a189ab0e884521b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766033071&amp;x-signature=sshxgKEdV0UFfjdcVDllHYMJ7PY%3D" alt="ScreenShot_2025-12-11_103952_066.png" loading="lazy"/></p>
<p>ScreenShot_2025-12-11_103952_066.png</p>
<h2 data-id="heading-0">ğŸ› ï¸downloadonlyï¼šç¦»çº¿åŒ…ç®¡ç†çš„åˆ©å™¨</h2>
<ul>
<li>å‘½ä»¤è§£æ</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åŸºæœ¬è¯­æ³•</span>
yum install --downloadonly <span class="hljs-attr">--downloaddir</span>=/home/<span class="hljs-literal">off</span>line-packages   vsftpd -y

<span class="hljs-comment"># å‚æ•°è¯´æ˜</span>
--downloadonly    <span class="hljs-comment"># ä»…ä¸‹è½½ï¼Œä¸å®‰è£…</span>
--downloaddir     <span class="hljs-comment"># æŒ‡å®šä¸‹è½½ç›®å½•</span>
-y <span class="hljs-comment"># è‡ªåŠ¨ yes</span>
</code></pre>
<h2 data-id="heading-1">â¬‡ï¸ ç¦»çº¿åŒ…ä¸‹è½½æµç¨‹</h2>
<ul>
<li>å•åŒ…ä¸‹è½½</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ä¸‹è½½å•ä¸ªåŒ…åŠå…¶ä¾èµ–</span>
yum install --downloadonly <span class="hljs-attr">--downloaddir</span>=/home/<span class="hljs-literal">off</span>line-packages/ vsftpd  -y

<span class="hljs-comment"># å¦‚æœå·²å®‰è£…ï¼Œä½¿ç”¨reinstallå‚æ•°</span>
yum reinstall --downloadonly <span class="hljs-attr">--downloaddir</span>=/home/<span class="hljs-literal">off</span>line-packages/ vsftpd  -y
</code></pre>
<ul>
<li>æ‰¹é‡ä¸‹è½½å¤šä¸ªåŒ…</li>
</ul>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºéœ€è¦å‡çº§çš„åŒ…åˆ—è¡¨</span>
<span class="hljs-built_in">cat</span> &gt; package-list.txt &lt;&lt; <span class="hljs-string">EOF
openssl
openssh-server
kernel
vsftpd
EOF</span>

<span class="hljs-comment"># æ‰¹é‡ä¸‹è½½</span>
<span class="hljs-keyword">while</span> <span class="hljs-built_in">read</span> pkg; <span class="hljs-keyword">do</span>
    yum install --downloadonly --downloaddir=/home/offline-packages/ <span class="hljs-variable">$pkg</span>  -y
<span class="hljs-keyword">done</span> &lt; package-list.txt 
</code></pre>
<ul>
<li>ä¸‹è½½ç‰¹å®šç‰ˆæœ¬</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ä¸‹è½½æŒ‡å®šç‰ˆæœ¬çš„åŒ…</span>
yum install --downloadonly <span class="hljs-attr">--downloaddir</span>=/home/<span class="hljs-literal">off</span>line-packages/ vsftpd-<span class="hljs-number">3.0</span>.<span class="hljs-number">3</span>  -y
</code></pre>
<h2 data-id="heading-2">â³ä¾èµ–å¤„ç†</h2>
<ul>
<li>æ£€æŸ¥ä¸‹è½½å®Œæ•´æ€§</li>
</ul>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ä¸‹è½½çš„åŒ…</span>
<span class="hljs-built_in">ls</span> -lh /home/offline-packages/*.rpm

<span class="hljs-comment"># ç»Ÿè®¡æ•°é‡</span>
find /home/offline-packages/ -name <span class="hljs-string">"*.rpm"</span> | <span class="hljs-built_in">wc</span> -l

<span class="hljs-comment"># ç”ŸæˆåŒ…åˆ—è¡¨ï¼ˆç”¨äºå®¡è®¡ï¼‰</span>
rpm -qip /home/offline-packages/*.rpm | grep -E <span class="hljs-string">"Name|Version|Release"</span> &gt; package-info.txt
</code></pre>
<h2 data-id="heading-3">ğŸ’»å†…ç½‘éƒ¨ç½²</h2>
<ul>
<li>ä¼ è¾“åŒ…åˆ°å†…ç½‘</li>
</ul>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰“åŒ…å‹ç¼©</span>
tar -czf offline-packages.tar.gz -C /home/offline-packages/ .
<span class="hljs-comment"># å°†æ­¤é—®æ–‡ä»¶é€šè¿‡ä»‹è´¨ä¼ è¾“åˆ°å†…ç½‘ï¼Œåœ¨å†…ç½‘æœåŠ¡å™¨æ“ä½œ</span>

<span class="hljs-comment"># 1. åˆ›å»ºæœ¬åœ°ä»“åº“ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p /opt/local-repo

<span class="hljs-comment"># 2. è§£å‹ä¼ è¾“çš„åŒ…</span>
tar -xzf offline-packages.tar.gz -C /opt/local-repo/
</code></pre>
<ul>
<li>å†…ç½‘æœåŠ¡å™¨ä½¿ç”¨rpmç›´æ¥å®‰è£…</li>
</ul>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç›´æ¥å®‰è£…æ‰€æœ‰ä¸‹è½½çš„rpmåŒ…</span>
rpm -Uvh /opt/local-repo/*.rpm

<span class="hljs-comment"># æˆ–è€…æŒ‰éœ€å®‰è£…</span>
rpm -Uvh /opt/local-repo/vsftpd*.rpm /opt/local-repo/openssl*.rpm
</code></pre>
<h2 data-id="heading-4">ğŸš€æ€»ç»“</h2>
<p>é€šè¿‡<code>yum install --downloadonly</code>å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾æ„å°†å‡çº§éƒ¨ç½²åŒ…åœ¨å¤–ç½‘ä¸‹è½½ï¼Œç„¶åä¼ è¾“åˆ°å†…ç½‘å‡çº§ã€‚è¿™ç§æ–¹æ³•ä¸ä»…é€‚ç”¨äºå®‰å…¨å‡çº§ï¼Œè¿˜å¯ç”¨äºï¼š</p>
<ul>
<li>æ–°å»ºå†…ç½‘æœåŠ¡å™¨çš„å¿«é€Ÿéƒ¨ç½²</li>
<li>å¤šæœåŠ¡å™¨æ‰¹é‡æ›´æ–°</li>
<li>ç‰¹å®šç‰ˆæœ¬è½¯ä»¶çš„æ ‡å‡†åŒ–éƒ¨ç½²</li>
<li>ç´§æ€¥æ¼æ´çš„å¿«é€Ÿå“åº”</li>
</ul>
<p>æŒæ¡è¿™ä¸€æŠ€èƒ½ï¼Œä½ å°†èƒ½å¤Ÿåœ¨å†…ç½‘ç¯å¢ƒä¸­æ¸¸åˆƒæœ‰ä½™åœ°ç®¡ç†LinuxæœåŠ¡å™¨çš„è½¯ä»¶åŒ…ï¼Œæ—¢ä¿è¯äº†å®‰å…¨æ€§ï¼Œåˆä¸å¤±çµæ´»æ€§ã€‚</p>
<hr/>
<p>â—<strong>æ¸©é¦¨æç¤º</strong>ï¼šç”Ÿäº§ç¯å¢ƒæ“ä½œå‰ï¼Œè¯·åŠ¡å¿…åœ¨æµ‹è¯•ç¯å¢ƒå……åˆ†éªŒè¯ï¼Œå¹¶åˆ¶å®šè¯¦ç»†çš„å›æ»šæ–¹æ¡ˆã€‚å®‰å…¨æ— å°äº‹ï¼Œè°¨æ…æ¯ä¸€æ­¥ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é€›é€›ä»Šå¤©æ¨è 4 ä¸ª GitHub å¼€æºé¡¹ç›®ï¼Œéå¸¸å®ç”¨ã€‚]]></title>    <link>https://juejin.cn/post/7582156219059404863</link>    <guid>https://juejin.cn/post/7582156219059404863</guid>    <pubDate>2025-12-11T03:19:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582156219059404863" data-draft-id="7582156219059306559" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é€›é€›ä»Šå¤©æ¨è 4 ä¸ª GitHub å¼€æºé¡¹ç›®ï¼Œéå¸¸å®ç”¨ã€‚"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2025-12-11T03:19:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é€›é€›GitHub"/> <meta itemprop="url" content="https://juejin.cn/user/1442202996186093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é€›é€›ä»Šå¤©æ¨è 4 ä¸ª GitHub å¼€æºé¡¹ç›®ï¼Œéå¸¸å®ç”¨ã€‚
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1442202996186093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é€›é€›GitHub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:19:12.000Z" title="Thu Dec 11 2025 03:19:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">01ã€å¹´ä¼šæŠ½å¥–å¼€æºé¡¹ç›®</h2>
<p>æ¨èä¸¤ä¸ªå¹´ä¼šæŠ½å¥– GitHub å¼€æºé¡¹ç›®ï¼Œå¹´ä¼šèƒ½æ’ä¸Šç”¨åœºäº†ã€‚</p>
<p>ç¬¬ä¸€ä¸ªÂ log-lotteryÂ æ”¯æŒÂ 3D æ ‡ç­¾äº‘æ•ˆæœï¼Œæ‰€æœ‰å‚ä¸è€…çš„åå­—ä¼šç»„æˆä¸€ä¸ªæ—‹è½¬çš„çƒä½“ã€èºæ—‹æˆ–ç½‘æ ¼ï¼Œç§‘æŠ€æ„Ÿåè¶³ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11713b25fb04493c84bdd8939fee5a33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027952&amp;x-signature=fMpsCsPxgbM%2FBHY690RoUbx6sGw%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="" alt="" loading="lazy"/></p>
<p>ä¸éœ€è¦æ‡‚ä»£ç ï¼Œç›´æ¥é€šè¿‡Â Excel å¯¼å…¥äººå‘˜åå•ï¼Œåå°ç®€å•è®¾ç½®å¥–é¡¹å³å¯ã€‚</p>
<p>è€Œä¸”è¿˜æ”¯æŒæŠ½å¥–éŸ³ä¹æ’­æ”¾ï¼Œæ°›å›´æ„Ÿæ‹‰æ»¡ï¼ŒæŠ½å¥–ç»“æœå¯ç›´æ¥å¯¼å‡º Excelã€‚</p>
<p>å¦å¤–ä¸€ä¸ªå«Â lottery çš„å¼€æºé¡¹ç›®ä¹Ÿæ˜¯ä¸€ä¸ªåŸºäº Express + Three.jsçš„ 3D çƒä½“æŠ½å¥–ç¨‹åºã€‚é«˜åº¦å¯é…ç½®ï¼Œå¥–å“å›¾ç‰‡ã€æ–‡å­—ã€ä¸­å¥–æ¦‚ç‡ã€æ—‹è½¬é€Ÿåº¦ã€è½¬åŠ¨åœˆæ•°å•¥çš„ç»Ÿç»Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">å¼€æºåœ°å€ï¼šhttps://github.com/LOG1997/log-lotteryå¼€æºåœ°å€ï¼šhttps://github.com/moshang-ax/lottery
</code></pre>
<h2 data-id="heading-1">02ã€Mac å½•å±å¼€æºç¥å™¨</h2>
<p>å¤§å®¶åˆ· B ç«™çš„æ—¶å€™ï¼Œå¯èƒ½æ³¨æ„åˆ°è¿‡ä¸€ç§å¾ˆæµè¡Œçš„è§†é¢‘é£æ ¼ï¼š<strong>ä¸æ»‘çš„é¼ æ ‡è·Ÿéšã€è‡ªåŠ¨æ”¾å¤§çš„ç‰¹å†™é•œå¤´ã€ç¾è§‚çš„æ¸å˜èƒŒæ™¯</strong>ã€‚</p>
<p>è¿™ç§é«˜é¢œå€¼çš„å½•å±è§†é¢‘ä¼šæå¤§åœ°æå‡äº§å“æ¼”ç¤ºçš„è´¨æ„Ÿã€‚</p>
<p>å¾ˆå¤šéƒ½æ˜¯ç”¨ macOS è½¯ä»¶ï¼š<strong>Screen Studio æå‡ºæ¥çš„ï¼Œ</strong> å®ƒè™½ç„¶æå…¶å¥½ç”¨ï¼Œä½†ä»·æ ¼ä¹Ÿç›¸å½“æ„Ÿäººã€‚</p>
<p>OpenScreen æ˜¯è¿™ä¸ªäº§å“çš„å¼€æºæ›¿ä»£ï¼Œåˆšåˆšåœ¨ GitHub ä¸Šå´­éœ²å¤´è§’ã€‚è™½ç„¶æ˜¯å¼€æºçš„ï¼Œæ ¸å¿ƒåŠŸèƒ½ä¸€ç‚¹ä¹Ÿä¸å«ç³Šã€‚</p>
<p>å®ƒæ”¯æŒå…¨å±å½•åˆ¶ï¼Œæˆ–æŒ‡å®šå•ä¸ªåº”ç”¨çª—å£ï¼Œé¿å…æ— å…³å†…å®¹å¹²æ‰°ã€‚è€Œä¸”è¿˜èƒ½æ‰‹åŠ¨æ·»åŠ ç¼©æ”¾æ•ˆæœï¼Œè¿˜èƒ½è°ƒæ•´æ·±åº¦ã€æ—¶é•¿å’Œä½ç½®ï¼Œè®©é‡ç‚¹å†…å®¹æ›´çªå‡ºã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/325c486a391f4249a176cf1ad937c58d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027952&amp;x-signature=whgPlN%2B1lp8g8GY2YHQY2psuWsA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿˜èƒ½è®¾ç½®å£çº¸ã€çº¯è‰²ã€æ¸å˜èƒŒæ™¯ï¼Œæˆ–ä¸Šä¼ è‡ªå®šä¹‰å›¾ç‰‡ï¼Œå‘Šåˆ«å•è°ƒé»‘è¾¹ã€‚è‡ªå¸¦è¿åŠ¨æ¨¡ç³Šï¼Œè®©å¹³ç§»ã€ç¼©æ”¾æ•ˆæœæ›´ä¸æ»‘ï¼Œæå‡è§†é¢‘è´¨æ„Ÿã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰æ ‡æ³¨å·¥å…·ï¼šæ”¯æŒæ·»åŠ æ–‡å­—ã€ç®­å¤´ã€å›¾ç‰‡æ ‡æ³¨ï¼Œè®²è§£é‡ç‚¹ä¸€ç›®äº†ç„¶ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d5556f2820540c8a964c895421d34f7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027952&amp;x-signature=kbsokPbAdiq2W5SbzfzhqPR7S7U%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¿˜èƒ½è£å‰ªç”»é¢éšè—å¤šä½™éƒ¨åˆ†ã€ä¿®å‰ªå†—ä½™ç‰‡æ®µï¼Œæ— éœ€é¢å¤–å‰ªè¾‘è½¯ä»¶ï¼›å¤šæ ¼å¼å¯¼å‡ºï¼Œæ”¯æŒä¸åŒå®½é«˜æ¯”å’Œåˆ†è¾¨ç‡ï¼Œé€‚é…æŠ–éŸ³ã€B ç«™ã€å…¬ä¼—å·ç­‰å¤šå¹³å°å‘å¸ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b15272618ec24e8fa782056759e135a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027952&amp;x-signature=PuDEW8vXSjQOjOYV6izLW2%2F7b2k%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/188f67b159074332b520ef738cd60ee2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027952&amp;x-signature=THDHMknp4j911sX6JvHQ%2FjHGNNU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/siddharthvaddem/openscreen</span>
</code></pre>
<h2 data-id="heading-2">03ã€å¼€æºä¸‹è½½å™¨</h2>
<p><strong>Motrix è¿™ä¸ª 4 ä¸‡å¤š Star çš„å¼€æºé¡¹ç›®</strong>ç»å¯¹èƒ½è®©ä½ çœ¼å‰ä¸€äº®ã€‚</p>
<p>å®ƒä¸ä»…<strong>é¢œå€¼æŠ—æ‰“</strong>ï¼Œè€Œä¸”<strong>å…¨èƒ½ï¼š</strong> HTTPã€FTPã€BTã€ç£åŠ›é“¾å…¨æå®šï¼Œæœ€é‡è¦çš„æ˜¯<strong>å®Œå…¨å…è´¹ã€å¼€æºã€æ— å¹¿å‘Šã€‚</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de71f9cfab044ac6b0315f61a9f3c02d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027952&amp;x-signature=nN4v1e84FCzDTd3Mmk9cx3yYSmI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>å®ƒçš„åº•å±‚åŸºäºå¤§åé¼é¼çš„ä¸‹è½½å¼•æ“ Aria2ã€‚Motrix ç›¸å½“äºç»™ Aria2 ç©¿ä¸Šäº†ä¸€å±‚ç²¾ç¾çš„å¤–è¡£ï¼Œè®©ä½ æ— éœ€ä»»ä½•é…ç½®ï¼Œå¼€ç®±å³ç”¨ã€‚</strong></p>
<p>æ”¯æŒæœ€é«˜ 64 çº¿ç¨‹ä¸‹è½½ï¼Œæ¦¨å¹²ä½ çš„å®½å¸¦æ½œèƒ½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2982060a4e0b413aa2661922e9c708a9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027952&amp;x-signature=TZJu0%2F5zRBWbABP8VDMxlhnm9cU%3D" alt="å›¾ç‰‡" loading="lazy"/><img src="" alt="" loading="lazy"/></p>
<p>æ”¯æŒæ™®é€šé“¾æ¥ï¼ˆHTTP/HTTPS/FTPï¼‰ã€BitTorrentï¼ˆç§å­æ–‡ä»¶ï¼‰ã€Magnetï¼ˆç£åŠ›é“¾æ¥ï¼‰</p>
<p>è¿˜èƒ½ BT é€‰æ‹©æ€§ä¸‹è½½ï¼Œä¸‹è½½ç§å­é‡Œçš„æ–‡ä»¶æ—¶ï¼Œä½ å¯ä»¥å‹¾é€‰åªéœ€è¦çš„é‚£å‡ é›†è§†é¢‘ï¼Œä¸ç”¨æŠŠæ•´ä¸ªåºå¤§çš„æ–‡ä»¶å¤¹éƒ½æ‹–ä¸‹æ¥ã€‚</p>
<p>å®æµ‹åœ¨ç½‘ç»œç¯å¢ƒå…è®¸çš„æƒ…å†µä¸‹ï¼ŒMotrix è·‘æ»¡å¸¦å®½æ˜¯å¸¸è§„æ“ä½œï¼Œç”šè‡³åœ¨ä¸‹è½½æŸäº›å†·é—¨èµ„æºæ—¶ï¼Œé€šè¿‡å…¶å†…ç½®çš„ è‡ªåŠ¨æ›´æ–° Tracker åŠŸèƒ½ï¼Œä¹Ÿèƒ½è·å¾—æ¯”æ™®é€šä¸‹è½½å™¨æ›´å¥½çš„é€Ÿåº¦ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino">å¼€æºåœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/agalwood/Motrix</span>
</code></pre>
<h2 data-id="heading-3">04ã€PDF å·¥å…·åŒ…</h2>
<p>æ²¡å¼€æºå‡ å¤©ï¼Œåœ¨ GitHub ä¸Šå°±è·å¾— 6K çš„ Star äº†ã€‚</p>
<p>BentoPDFÂ åƒä¸€ä¸ªç²¾è‡´çš„ä¾¿å½“ç›’ï¼ˆBentoï¼‰ï¼ŒæŠŠä½ éœ€è¦çš„æ‰€æœ‰ PDF å·¥å…·éƒ½æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œå¼€ç®±å³ç”¨ã€‚</p>
<p>ä¸ä¼ ç»Ÿçš„åœ¨çº¿å·¥å…·ä¸åŒï¼Œè™½ç„¶ä½ åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨å®ƒï¼Œä½†æ‰€æœ‰çš„æ–‡ä»¶å¤„ç†é€»è¾‘éƒ½åœ¨ä½ çš„æœ¬åœ°ç”µè„‘ä¸Šå®Œæˆï¼Œæ–‡ä»¶æ°¸è¿œä¸ä¼šè¢«ä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa0db7aeb2cf4b4aac540fca3dbcb7ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027952&amp;x-signature=r9dgbijug%2ByYIImoqvftjk7t1rE%3D" alt="å›¾ç‰‡" loading="lazy"/>è¿™ä¸ªå¼€æºé¡¹ç›®æä¾›çš„Â PDF å¤„ç†çš„èƒ½åŠ›éå¸¸ä¸°å¯Œï¼ŒåŸºæœ¬çš„ PDF ç¼–è¾‘ã€è½¬æ¢å•¥çš„éƒ½æœ‰ï¼Œå…·ä½“åŠŸèƒ½å¦‚ä¸‹ï¼Œå¯ä»¥ç§ç§ã€‚<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04662e51909a488d80e3972eebfe8cd2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YCb6YCbR2l0SHVi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027952&amp;x-signature=DRiIFHWH53VuPyRhQzs5nfaA6aI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">å¼€æºåœ°å€ï¼šhttps://github.com/alam00000/bentopdf
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android å­˜å‚¨ç›®å½•<å†…éƒ¨å­˜å‚¨ï¼Œå¤–éƒ¨å­˜å‚¨appä¸“å±ï¼Œå¤–éƒ¨å­˜å‚¨å…¬å…±>]]></title>    <link>https://juejin.cn/post/7582118538562060307</link>    <guid>https://juejin.cn/post/7582118538562060307</guid>    <pubDate>2025-12-11T02:48:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582118538562060307" data-draft-id="7582067084841025590" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android å­˜å‚¨ç›®å½•&lt;å†…éƒ¨å­˜å‚¨ï¼Œå¤–éƒ¨å­˜å‚¨appä¸“å±ï¼Œå¤–éƒ¨å­˜å‚¨å…¬å…±&gt;"/> <meta itemprop="keywords" content="Android,é¢è¯•"/> <meta itemprop="datePublished" content="2025-12-11T02:48:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="byc"/> <meta itemprop="url" content="https://juejin.cn/user/3403743728773416"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android å­˜å‚¨ç›®å½•&lt;å†…éƒ¨å­˜å‚¨ï¼Œå¤–éƒ¨å­˜å‚¨appä¸“å±ï¼Œå¤–éƒ¨å­˜å‚¨å…¬å…±&gt;
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3403743728773416/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    byc
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T02:48:57.000Z" title="Thu Dec 11 2025 02:48:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç ´é™¤ä¸€ä¸ªæœ€å¤§çš„è¯¯åŒºï¼š <strong>â€œå†…éƒ¨å­˜å‚¨â€å’Œâ€œå¤–éƒ¨å­˜å‚¨â€å¹¶ä¸æ˜¯æŒ‡â€œæ‰‹æœºå†…ç½®å­˜å‚¨â€å’Œâ€œSDå¡â€</strong> ã€‚å®ƒä»¬çš„æœ¬è´¨åŒºåˆ«åœ¨äº<strong>å®‰å…¨æ€§å’Œå¯è®¿é—®æ€§</strong>ã€‚</p>
<p>ä½ å¯ä»¥ç”¨ä¸‹å›¾å¿«é€Ÿå»ºç«‹æ•´ä½“è®¤çŸ¥ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/69236fad94fd4789b1095d9128fba1f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnlj:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766026136&amp;x-signature=qnmKCRMHhtas5s%2BZ9mpwJDPX6TM%3D" alt="p1.png" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ·±å…¥å‰–æå›¾ä¸­çš„æ¯ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚</p>
<h3 data-id="heading-0">å†…éƒ¨å­˜å‚¨ (Internal Storage)</h3>
<p>è¿™æ˜¯æŒ‡Â <code>/data/data//</code>Â ç›®å½•ä¸‹çš„ç©ºé—´ã€‚</p>
<ul>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>ç»å¯¹ç§æœ‰</strong>ï¼šåªæœ‰ä½ çš„åº”ç”¨å¯ä»¥è®¿é—®ï¼Œå…¶ä»–åº”ç”¨ï¼ˆæ— Rootï¼‰æ— æ³•è¯»å†™ã€‚ç”¨æˆ·ä¹Ÿæ— æ³•åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­ç›´æ¥çœ‹åˆ°ã€‚</li>
<li><strong>å®‰å…¨å¯é </strong>ï¼šåº”ç”¨å¸è½½æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ¸…é™¤æ­¤ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚</li>
<li><strong>ç©ºé—´æœ‰é™</strong>ï¼šä¸ç³»ç»Ÿç©ºé—´å…±äº«ï¼Œé€šå¸¸è¾ƒå°ã€‚</li>
</ul>
</li>
<li>
<p><strong>ä¸»è¦å­ç›®å½•</strong>ï¼š</p>
<ul>
<li><code>files/</code>ï¼š å­˜æ”¾åº”ç”¨é•¿æœŸä½¿ç”¨çš„æ–‡ä»¶ã€‚</li>
<li><code>cache/</code>ï¼š å­˜æ”¾ä¸´æ—¶ç¼“å­˜æ–‡ä»¶ã€‚ç³»ç»Ÿå¯èƒ½åœ¨å­˜å‚¨ç©ºé—´ä¸è¶³æ—¶æ¸…ç†æ­¤å¤„ï¼ˆä½†ä¸è¦ä¾èµ–äºæ­¤ï¼Œåº”è‡ªè¡Œç®¡ç†ç¼“å­˜å¤§å°ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¦‚ä½•è·å–è·¯å¾„</strong>ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// è·å–å†…éƒ¨ files ç›®å½•</span>
<span class="hljs-keyword">val</span> internalFilesDir: File = context.filesDir
<span class="hljs-comment">// è·å–å†…éƒ¨ cache ç›®å½•</span>
<span class="hljs-keyword">val</span> internalCacheDir: File = context.cacheDir
</code></pre>
<h3 data-id="heading-1">å¤–éƒ¨å­˜å‚¨ (External Storage)</h3>
<p>è¿™æ˜¯æŒ‡å¯ä»¥è¢«â€œå…±äº«â€çš„å­˜å‚¨ç©ºé—´ï¼Œé€šå¸¸å¯¹åº”è®¾å¤‡è‡ªå¸¦çš„â€œå†…ç½®å…±äº«å­˜å‚¨â€ï¼ˆå¦‚Â <code>/storage/emulated/0</code>ï¼‰ã€‚å®ƒè¿›ä¸€æ­¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š</p>
<h4 data-id="heading-2">1. å¤–éƒ¨å­˜å‚¨ - Appä¸“å±ç›®å½•</h4>
<p>è·¯å¾„ä¸ºï¼š<code>/storage/emulated/0/Android/data//</code></p>
<ul>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>å¤–éƒ¨ä½†ç§æœ‰</strong>ï¼šè™½ç„¶ä½äºå…±äº«å­˜å‚¨åŒºï¼Œä½†åœ¨Android 4.4åŠä»¥ä¸Šç³»ç»Ÿï¼Œæ­¤ç›®å½•å¯¹å…¶ä»–åº”ç”¨å’Œç”¨æˆ·é»˜è®¤<strong>ä¸å¯è§</strong>ï¼ˆæ— éœ€ä»»ä½•æƒé™ï¼‰ã€‚åº”ç”¨å¸è½½æ—¶ï¼Œè¿™é‡Œçš„å†…å®¹ä¹Ÿä¼šè¢«<strong>è‡ªåŠ¨æ¸…é™¤</strong>ã€‚</li>
<li><strong>ç©ºé—´è¾ƒå¤§</strong>ï¼šä½¿ç”¨è®¾å¤‡çš„â€œå†…ç½®å…±äº«å­˜å‚¨â€ç©ºé—´ï¼Œé€šå¸¸æ¯”å†…éƒ¨å­˜å‚¨å¤§å¾—å¤šã€‚</li>
<li><strong>ç”¨é€”</strong>ï¼šé€‚åˆå­˜æ”¾åº”ç”¨ä¸“å±çš„ã€è¾ƒå¤§çš„åª’ä½“æ–‡ä»¶æˆ–ç¼“å­˜ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¦‚ä½•è·å–è·¯å¾„</strong>ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// è·å–å¤–éƒ¨ App ä¸“å± files ç›®å½•</span>
<span class="hljs-keyword">val</span> externalFilesDir: File? = context.getExternalFilesDir(<span class="hljs-literal">null</span>)
<span class="hljs-comment">// è·å–å¤–éƒ¨ App ä¸“å± cache ç›®å½•</span>
<span class="hljs-keyword">val</span> externalCacheDir: File? = context.externalCacheDir
<span class="hljs-comment">// å¯ä»¥æŒ‡å®šå­ç›®å½•ç±»å‹ï¼Œç³»ç»Ÿä¼šå¦¥å–„ç®¡ç†</span>
<span class="hljs-keyword">val</span> externalPicturesDir: File? = context.getExternalFilesDir(Environment.DIRECTORY_PICTURES)
</code></pre>
<h4 data-id="heading-3">2. å¤–éƒ¨å­˜å‚¨ - å…¬å…±ç›®å½•</h4>
<p>å³å…±äº«å­˜å‚¨æ ¹ç›®å½•ä¸‹çš„æ ‡å‡†æ–‡ä»¶å¤¹ï¼Œå¦‚Â <code>Downloads</code>ã€<code>DCIM</code>ã€<code>Pictures</code>ã€<code>Movies</code>ã€<code>Music</code>Â ç­‰ã€‚</p>
<ul>
<li>
<p><strong>ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li><strong>å®Œå…¨å…±äº«</strong>ï¼šæ‰€æœ‰åº”ç”¨å’Œç”¨æˆ·å‡å¯è®¿é—®ã€‚æ–‡ä»¶åœ¨åº”ç”¨å¸è½½å<strong>ä¼šä¿ç•™</strong>ã€‚</li>
<li><strong>éœ€è¦æƒé™</strong>ï¼šè®¿é—®éœ€è¦å‘ç”¨æˆ·ç”³è¯·å­˜å‚¨æƒé™ã€‚</li>
</ul>
</li>
<li>
<p><strong>âš ï¸ ç³»ç»Ÿç‰ˆæœ¬å¸¦æ¥çš„å…³é”®å·®å¼‚ï¼ˆé‡ç‚¹ï¼‰</strong> ï¼š</p>
<ul>
<li>
<p><strong>Android 9 (API 28) åŠä»¥ä¸‹</strong>ï¼šå¯ä»¥é€šè¿‡<code>Environment.getExternalStoragePublicDirectory(type)</code>ç›´æ¥è·å–è·¯å¾„ï¼Œç„¶åä½¿ç”¨ä¼ ç»Ÿçš„<code>File API</code>è¿›è¡Œè¯»å†™ã€‚</p>
</li>
<li>
<p><strong>Android 10 (API 29) åŠä»¥ä¸Š</strong>ï¼šå¼•å…¥äº†Â <strong>Scoped Storageï¼ˆåˆ†åŒºå­˜å‚¨ï¼‰</strong> ã€‚ä¸ºäº†ç”¨æˆ·éšç§å’Œå®‰å…¨ï¼š</p>
<ol>
<li><strong>ä¸èƒ½</strong>å†ç›´æ¥ä½¿ç”¨<code>File</code>è·¯å¾„è®¿é—®å…¬å…±ç›®å½•ï¼ˆ<code>Environment.getExternalStoragePublicDirectory</code>å·²åºŸå¼ƒï¼‰ã€‚</li>
<li>å¿…é¡»é€šè¿‡Â <strong><code>MediaStore</code>Â API</strong>Â æ¥è®¿é—®å…¬å…±åª’ä½“æ–‡ä»¶ï¼ˆå›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ï¼‰ï¼Œæˆ–é€šè¿‡Â <strong><code>Storage Access Framework (SAF)</code></strong> Â ç³»ç»Ÿæ–‡ä»¶é€‰æ‹©å™¨æ¥è®¿é—®æ–‡æ¡£å’Œä¸‹è½½ç›®å½•ã€‚</li>
</ol>
</li>
</ul>
</li>
<li>
<p><strong>å¦‚ä½•è·å–è·¯å¾„/è®¿é—®</strong>ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ–¹æ³•ä¸€ï¼šé€šè¿‡ MediaStore æ’å…¥ä¸€å¼ å›¾ç‰‡åˆ°å…¬å…±ç›¸å†Œ (Android 10+æ¨è)</span>
<span class="hljs-keyword">val</span> values = ContentValues().apply {
    put(MediaStore.Images.Media.DISPLAY_NAME, &amp;#<span class="hljs-number">34</span>;my_image.jpg&amp;#<span class="hljs-number">34</span>;)
    put(MediaStore.Images.Media.MIME_TYPE, &amp;#<span class="hljs-number">34</span>;image/jpeg&amp;#<span class="hljs-number">34</span>;)
    put(MediaStore.Images.Media.RELATIVE_PATH, Environment.DIRECTORY_PICTURES + &amp;#<span class="hljs-number">34</span>;/MyApp/&amp;#<span class="hljs-number">34</span>;)
}
<span class="hljs-keyword">val</span> uri = context.contentResolver.insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, values)
<span class="hljs-comment">// ç„¶åé€šè¿‡ ContentResolver.openOutputStream(uri) å†™å…¥æ•°æ®</span>

<span class="hljs-comment">// æ–¹æ³•äºŒï¼šä½¿ç”¨ Storage Access Framework è®©ç”¨æˆ·é€‰æ‹©ä¿å­˜ä½ç½®ï¼ˆé€‚ç”¨äºæ‰€æœ‰æ–‡ä»¶ç±»å‹ï¼‰</span>
<span class="hljs-keyword">val</span> intent = Intent(Intent.ACTION_CREATE_DOCUMENT).apply {
    addCategory(Intent.CATEGORY_OPENABLE)
    type = &amp;#<span class="hljs-number">34</span>;application/pdf&amp;#<span class="hljs-number">34</span>;
    putExtra(Intent.EXTRA_TITLE, &amp;#<span class="hljs-number">34</span>;my_document.pdf&amp;#<span class="hljs-number">34</span>;)
}
startActivityForResult(intent, CREATE_DOC_REQUEST_CODE)
</code></pre>
<h3 data-id="heading-4">æ€»ç»“ä¸å»ºè®®</h3>

































<table><thead><tr><th>ç›®å½•ç±»å‹</th><th>è·¯å¾„ç¤ºä¾‹</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th><th>ç‰ˆæœ¬é€‚é…è¦ç‚¹</th></tr></thead><tbody><tr><td>å†…éƒ¨å­˜å‚¨</td><td>/data/data/åŒ…å/...</td><td>ç§æœ‰ï¼Œå¸è½½æ¸…é™¤ï¼Œç©ºé—´å°</td><td>æ•æ„Ÿæ•°æ®ã€å°å‹æ•°æ®åº“</td><td>åŸºæœ¬æ— å˜åŒ–</td></tr><tr><td>å¤–éƒ¨-Appä¸“å±</td><td>/storage/.../Android/data/åŒ…å/...</td><td>ç§æœ‰ï¼Œå¸è½½æ¸…é™¤ï¼Œç©ºé—´å¤§</td><td>åº”ç”¨ä¸“å±çš„å¤§æ–‡ä»¶ã€ç¼“å­˜</td><td>Android 4.4+ è¡Œä¸ºä¸€è‡´ï¼Œæ— éœ€æƒé™</td></tr><tr><td>å¤–éƒ¨-å…¬å…±ç›®å½•</td><td>/storage/.../Pictures/Â ç­‰</td><td>å…±äº«ï¼Œå¸è½½ä¿ç•™</td><td>ç”¨æˆ·å¸Œæœ›å…±äº«çš„å›¾ç‰‡ã€æ–‡æ¡£</td><td>Android 10+å¿…é¡»ç”¨MediaStoreæˆ–SAF</td></tr></tbody></table>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ol>
<li><strong>é¦–é€‰å†…éƒ¨å­˜å‚¨</strong>å­˜æ”¾æ•æ„Ÿå’Œå°å‹æ•°æ®ã€‚</li>
<li><strong>å¤§æ–‡ä»¶ã€ç¼“å­˜ä¼˜å…ˆæ”¾å¤–éƒ¨Appä¸“å±ç›®å½•</strong>ï¼Œæ— éœ€å¤„ç†æƒé™å’Œç‰ˆæœ¬å…¼å®¹ã€‚</li>
<li><strong>åªæœ‰åœ¨éœ€è¦ä¸å…¶ä»–åº”ç”¨å…±äº«ã€æˆ–è®©ç”¨æˆ·æ°¸ä¹…ä¿ç•™çš„æ–‡ä»¶</strong>ï¼Œæ‰è€ƒè™‘å†™å…¥å…¬å…±ç›®å½•ï¼Œå¹¶åŠ¡å¿…åšå¥½Android 10+çš„Scoped Storageé€‚é…ã€‚</li>
</ol>
<h3 data-id="heading-5">/data/user/0/åŒ…å/files è¿™ä¸ªç›®å½•æˆ‘å¯ä»¥åœ¨æˆ‘æ‰‹æœºä¸Šçš„æ–‡ä»¶ç®¡ç†é‡Œé¢æ‰¾åˆ°ï¼Ÿ</h3>
<p><strong>ä¸èƒ½ç›´æ¥é€šè¿‡æ™®é€šæ–‡ä»¶ç®¡ç†å™¨æ‰¾åˆ°ã€‚</strong></p>
<p>ä½ æåˆ°çš„Â <code>/data/user/0/åŒ…å/files</code>Â è¿™ä¸ªè·¯å¾„ï¼Œå…¶å®å°±æ˜¯Â <strong>å†…éƒ¨å­˜å‚¨</strong>Â çš„å¦ä¸€ä¸ªç­‰ä»·è¡¨ç¤ºã€‚å®ƒå’Œä½ ä¹‹å‰äº†è§£çš„Â <code>/data/data/åŒ…å/files</code>Â æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªä½ç½®ã€‚</p>
<h3 data-id="heading-6">Â ä¸ºä»€ä¹ˆæ™®é€šæ–‡ä»¶ç®¡ç†å™¨çœ‹ä¸åˆ°ï¼Ÿ</h3>
<ol>
<li><strong>å®‰å…¨æ²™ç›’é™åˆ¶</strong>ï¼šè¿™ä¸ªç›®å½•ä½äºAndroidç³»ç»Ÿçš„<strong>ä¸¥æ ¼ä¿æŠ¤åŒºåŸŸ</strong>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ²¡æœ‰Rootæƒé™çš„å…¶ä»–åº”ç”¨ï¼ˆåŒ…æ‹¬ä½ æ‰‹æœºä¸Šçš„æ‰€æœ‰æ–‡ä»¶ç®¡ç†å™¨Appï¼‰éƒ½æ— æ³•ç›´æ¥è®¿é—®è¿™ä¸ªè·¯å¾„ã€‚</li>
<li><strong>ç”¨æˆ·æ•°æ®éš”ç¦»</strong>ï¼šè·¯å¾„ä¸­çš„Â <code>user/0</code>Â ä»£è¡¨çš„æ˜¯ä¸»ç”¨æˆ·ï¼ˆç¬¬ä¸€ä¸ªç”¨æˆ·ï¼‰ï¼Œè¿™æ˜¯Androidç³»ç»Ÿä¸ºäº†æ”¯æŒâ€œå¤šç”¨æˆ·â€æˆ–â€œå·¥ä½œèµ„æ–™â€åŠŸèƒ½è€Œè®¾è®¡çš„ç›®å½•ç»“æ„ã€‚å®ƒå¯¹æ™®é€šç”¨æˆ·æ˜¯é€æ˜çš„ã€‚</li>
</ol>
<h3 data-id="heading-7">å¦‚ä½•æŸ¥çœ‹è¿™ä¸ªç›®å½•çš„å†…å®¹ï¼Ÿ</h3>
<p>å¦‚æœä½ æƒ³æŸ¥çœ‹è¿™ä¸ªç›®å½•é‡Œçš„æ–‡ä»¶ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹æ³•ï¼š</p>






























<table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th><th>é€‚åˆè°</th></tr></thead><tbody><tr><td>1. é€šè¿‡Android Studioçš„Â Device File Explorer</td><td>åœ¨Android Studioä¸­ï¼Œå¯ä»¥æ— éœ€Rootç›´æ¥æŸ¥çœ‹ã€å¯¼å‡ºã€å¯¼å…¥Appçš„å†…éƒ¨å­˜å‚¨æ–‡ä»¶ã€‚è¿™æ˜¯å¼€å‘æ—¶æœ€å¸¸ç”¨ã€æœ€æ–¹ä¾¿çš„æ–¹æ³•ã€‚</td><td>å¼€å‘è€…é¦–é€‰</td></tr><tr><td>2. ä½¿ç”¨ADBå‘½ä»¤</td><td>åœ¨ç”µè„‘ä¸Šè¿æ¥æ‰‹æœºï¼Œé€šè¿‡å‘½ä»¤è¡Œè®¿é—®ï¼š  <code>adb shell</code>Â è¿›å…¥  <code>run-as åŒ…å</code>Â åˆ‡æ¢åˆ°åº”ç”¨ä¸Šä¸‹æ–‡  <code>ls /data/data/åŒ…å/files</code></td><td>å¼€å‘è€…ã€é«˜çº§ç”¨æˆ·</td></tr><tr><td>3. å°†æ–‡ä»¶å†™å…¥å¤–éƒ¨å­˜å‚¨åæŸ¥çœ‹</td><td>è·å¾—ç³»ç»Ÿæœ€é«˜æƒé™åï¼Œä»»ä½•æ–‡ä»¶ç®¡ç†å™¨éƒ½å¯ä»¥è®¿é—®Â <code>/data</code>Â ç›®å½•ã€‚ä½†è¿™ä¼š<strong>ä½¿è®¾å¤‡å¤±å»ä¿ä¿®ã€å¸¦æ¥å®‰å…¨é£é™©</strong>ï¼Œä¸”ç»å¤§å¤šæ•°æ—¥å¸¸ä½¿ç”¨åœºæ™¯å®Œå…¨ä¸éœ€è¦ã€‚</td><td>ä¸´æ—¶è°ƒè¯•</td></tr><tr><td>4. Rootä½ çš„æ‰‹æœº</td><td>åœ¨Android Studioä¸­ï¼Œå¯ä»¥æ— éœ€Rootç›´æ¥æŸ¥çœ‹ã€å¯¼å‡ºã€å¯¼å…¥Appçš„å†…éƒ¨å­˜å‚¨æ–‡ä»¶ã€‚è¿™æ˜¯<strong>å¼€å‘æ—¶æœ€å¸¸ç”¨ã€æœ€æ–¹ä¾¿</strong>çš„æ–¹æ³•ã€‚</td><td>æå®¢ã€æ·±åº¦è°ƒè¯•è€…</td></tr></tbody></table>
<h3 data-id="heading-8">æ ¸å¿ƒç»“è®º</h3>
<ul>
<li><code>/data/user/0/åŒ…å/</code>Â ç­‰åŒäºÂ <code>/data/data/åŒ…å/</code>ï¼Œéƒ½æ˜¯<strong>å†…éƒ¨å­˜å‚¨</strong>ï¼Œå—ç³»ç»Ÿä¸¥æ ¼ä¿æŠ¤ã€‚</li>
<li>ä½œä¸ºæ™®é€šç”¨æˆ·ï¼Œ<strong>ä½ ä¸åº”è¯¥ã€é€šå¸¸ä¹Ÿæ— æ³•</strong>åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­ç›´æ¥çœ‹åˆ°å®ƒã€‚è¿™æ˜¯Androidç³»ç»Ÿä¸ºäº†ä¿æŠ¤ä½ çš„åº”ç”¨æ•°æ®å’Œéšç§è€Œè®¾è®¡çš„ã€‚</li>
<li>ä½œä¸ºå¼€å‘è€…ï¼Œä½ åº”è¯¥ä½¿ç”¨Â <strong>Android Studio çš„ Device File Explorer</strong>Â æ¥æ£€æŸ¥å’Œæ“ä½œè¿™äº›æ–‡ä»¶ã€‚</li>
</ul>
<p>å¦‚æœä½ æƒ³æµ‹è¯•æ–‡ä»¶æ˜¯å¦æˆåŠŸå†™å…¥å†…éƒ¨å­˜å‚¨ï¼Œæœ€ç®€å•çš„åŠæ³•æ˜¯åœ¨ä»£ç ä¸­è¯»å–å®ƒï¼Œæˆ–è€…æŒ‰ä¸Šè¿°æ–¹æ³•3ï¼Œå°†å…¶å¤åˆ¶åˆ°ä¸€ä¸ªå¯è®¿é—®çš„ä½ç½®å†æŸ¥çœ‹ã€‚</p>
<h3 data-id="heading-9">ä¸‰ç§çš„æ–‡ä»¶è·¯å¾„&lt;å†…éƒ¨å­˜å‚¨ï¼Œå¤–éƒ¨appä¸“å±ï¼Œå¤–éƒ¨å…¬å…±ï¼Œå¦‚æœæˆ‘éœ€è¦é€šè¿‡å¾®ä¿¡åˆ†äº«å…¶ä¸­çš„æ–‡ä»¶ï¼Œæˆ‘ä»€ä¹ˆæ—¶å€™éœ€androidx.core.content.FileProviderï¼Œä»€ä¹ˆæ—¶å€™ä¸éœ€è¦</h3>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼Œç›´æ¥å…³ç³»åˆ°Androidæ–‡ä»¶åˆ†äº«åŠŸèƒ½èƒ½å¦æ­£å¸¸å·¥ä½œã€‚æ˜¯å¦éœ€è¦ä½¿ç”¨Â <code>FileProvider</code>ï¼Œæ ¸å¿ƒåˆ¤æ–­æ ‡å‡†æ˜¯ï¼š<strong>ä½ çš„æ–‡ä»¶è·¯å¾„æ˜¯å¦å…è®¸æ¥æ”¶æ–¹åº”ç”¨ç›´æ¥è®¿é—®</strong>ã€‚</p>
<p>ä¸‹å›¾æ¸…æ™°åœ°å±•ç¤ºäº†åˆ¤æ–­æµç¨‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aecb30919496427fb8c53a92e2f37ef2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnlj:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766026136&amp;x-signature=r5FoEq0dh8mFZVFpa1WtfdNuw0A%3D" alt="p2.png" loading="lazy"/></p>
<h3 data-id="heading-10">Â ä¸‰ç§è·¯å¾„çš„è¯¦ç»†åˆ†æ</h3>
<h4 data-id="heading-11">1. å†…éƒ¨å­˜å‚¨ ä¸ å¤–éƒ¨Appä¸“å±ç›®å½• (Android 11+)</h4>
<p><strong>å¿…é¡»ä½¿ç”¨ FileProviderã€‚</strong></p>
<ul>
<li><strong>åŸå› </strong>ï¼šè¿™ä¸¤ä¸ªä½ç½®çš„è·¯å¾„ï¼ˆå¦‚Â <code>/data/data/ä½ çš„åŒ…å/...</code>Â æˆ–Â <code>/storage/emulated/0/Android/data/ä½ çš„åŒ…å/...</code>ï¼‰å¯¹äºå¾®ä¿¡ç­‰å…¶ä»–åº”ç”¨æ¥è¯´æ˜¯<strong>ä¸å¯ç›´æ¥è®¿é—®çš„</strong>ã€‚ä»Android 7.0 (Nougat) å¼€å§‹ï¼Œç³»ç»Ÿç¦æ­¢ç›´æ¥é€šè¿‡Â <code>file://</code>Â URIè·¨åº”ç”¨åˆ†äº«ç§æœ‰æ–‡ä»¶ï¼Œå¦åˆ™ä¼šæŠ›å‡ºÂ <code>FileUriExposedException</code>ã€‚</li>
<li><strong>ä½œç”¨</strong>ï¼š<code>FileProvider</code>Â ä¼šä¸ºä½ çš„ç§æœ‰æ–‡ä»¶åˆ›å»ºä¸€ä¸ªä¸´æ—¶çš„ã€<strong>åªè¯»</strong>çš„Â <code>content://</code>Â URIï¼Œå¹¶èµ‹äºˆæ¥æ”¶æ–¹åº”ç”¨ï¼ˆå¦‚å¾®ä¿¡ï¼‰ä¸´æ—¶çš„è¯»å–æƒé™ï¼Œä»è€Œå®‰å…¨åœ°å®Œæˆåˆ†äº«ã€‚</li>
</ul>
<h4 data-id="heading-12">2. å¤–éƒ¨å­˜å‚¨ - å…¬å…±ç›®å½•</h4>
<p><strong>é€šå¸¸ä¸éœ€è¦ FileProviderï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Â <code>file://</code>Â URIã€‚</strong></p>
<ul>
<li>
<p><strong>åŸå› </strong>ï¼šä½äºæ ‡å‡†å…¬å…±ç›®å½•ï¼ˆå¦‚Â <code>Pictures/</code>,Â <code>Download/</code>,Â <code>DCIM/</code>ï¼‰çš„æ–‡ä»¶é»˜è®¤å¯¹æ‰€æœ‰åº”ç”¨å…·æœ‰<strong>è¯»å–æƒé™</strong>ï¼Œå› æ­¤å¯ä»¥ç›´æ¥è®¿é—®ã€‚</p>
</li>
<li>
<p><strong>ä¾‹å¤–æƒ…å†µ</strong>ï¼š</p>
<ul>
<li>å¦‚æœä½ å°†æ–‡ä»¶ä¿å­˜åœ¨å…¬å…±ç›®å½•ä¸‹<strong>ä½ è‡ªå·±åˆ›å»ºçš„éæ ‡å‡†å­ç›®å½•</strong>é‡Œï¼Œä¸ºäº†ä¿è¯æœ€å¤§å…¼å®¹æ€§ï¼ˆå°¤å…¶åœ¨æŸäº›å®šåˆ¶ç³»ç»Ÿä¸Šï¼‰ï¼Œä½¿ç”¨Â <code>FileProvider</code>Â æ˜¯æ›´ç¨³å¦¥çš„é€‰æ‹©ã€‚</li>
<li>å¦‚æœä½ éœ€è¦<strong>æ›´ç²¾ç»†åœ°æ§åˆ¶æƒé™</strong>ï¼ˆä¾‹å¦‚è®¾ç½®URIè¿‡æœŸæ—¶é—´ã€åªå…è®¸ä¸€æ¬¡è®¿é—®ç­‰ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨Â <code>FileProvider</code>ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-13">ä½¿ç”¨ FileProvider çš„æ­¥éª¤æ‘˜è¦</h3>
<h4 data-id="heading-14">1.å¦‚æœä½ éœ€è¦ç”¨å®ƒï¼Œä»¥ä¸‹æ˜¯å…³é”®æ­¥éª¤ï¼š</h4>
<p><strong>åœ¨Â <code>AndroidManifest.xml</code>Â ä¸­å£°æ˜</strong></p>
<pre><code class="hljs language-xml" lang="xml">
    ...
    
        
    

</code></pre>
<h4 data-id="heading-15">2.<strong>åˆ›å»ºé…ç½®æ–‡ä»¶Â <code>res/xml/file_paths.xml</code></strong></h4>
<p>è¿™ä¸ªæ–‡ä»¶å®šä¹‰äº†ä½ æƒ³åˆ†äº«å“ªäº›ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-xml" lang="xml">

    
    
    
     --&gt;
    
    

</code></pre>
<h4 data-id="heading-16">3.<strong>åœ¨ä»£ç ä¸­ç”Ÿæˆ Content URI å¹¶åˆ†äº«</strong></h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å‡è®¾ä½ çš„æ–‡ä»¶ä½äº å¤–éƒ¨Appä¸“å±ç›®å½•</span>
<span class="hljs-keyword">val</span> fileToShare = File(context.getExternalFilesDir(<span class="hljs-literal">null</span>), &amp;#<span class="hljs-number">34</span>;share_image.jpg&amp;#<span class="hljs-number">34</span>;)

<span class="hljs-keyword">val</span> contentUri: Uri = FileProvider.getUriForFile(
    context,
    &amp;#<span class="hljs-number">34</span>;${context.packageName}.fileprovider&amp;#<span class="hljs-number">34</span>;, <span class="hljs-comment">// å¿…é¡»ä¸manifestä¸­authoritiesä¸€è‡´</span>
    fileToShare
)

<span class="hljs-keyword">val</span> shareIntent = Intent(Intent.ACTION_SEND).apply {
    type = &amp;#<span class="hljs-number">34</span>;image/jpeg&amp;#<span class="hljs-number">34</span>;
    putExtra(Intent.EXTRA_STREAM, contentUri) <span class="hljs-comment">// ä½¿ç”¨ content:// URI</span>
    addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION) <span class="hljs-comment">// æˆäºˆä¸´æ—¶è¯»å–æƒé™</span>
}
startActivity(Intent.createChooser(shareIntent, &amp;#<span class="hljs-number">34</span>;åˆ†äº«å›¾ç‰‡&amp;#<span class="hljs-number">34</span>;))
</code></pre>
<h3 data-id="heading-17">æ€»ç»“ä¸é€ŸæŸ¥è¡¨</h3>





























<table><thead><tr><th>æ–‡ä»¶ä½ç½®</th><th>æ˜¯å¦éœ€è¦ FileProvider</th><th>åŸå› </th><th>URI ç±»å‹</th></tr></thead><tbody><tr><td><strong>å†…éƒ¨å­˜å‚¨</strong></td><td><strong>å¿…é¡»</strong>(android11+)</td><td>å…¶ä»–åº”ç”¨æ— ä»»ä½•è®¿é—®æƒé™</td><td>content://</td></tr><tr><td><strong>å¤–éƒ¨å­˜å‚¨ - Appä¸“å±ç›®å½•</strong></td><td><strong>å¤–éƒ¨å­˜å‚¨ - Appä¸“å±ç›®å½•</strong></td><td>å…¶ä»–åº”ç”¨é»˜è®¤æ— è®¿é—®æƒé™</td><td>content://</td></tr><tr><td><strong>å¤–éƒ¨å­˜å‚¨ - å…¬å…±ç›®å½•</strong></td><td><strong>é€šå¸¸ä¸éœ€è¦</strong></td><td>å…¶ä»–åº”ç”¨æœ‰è¯»å–æƒé™</td><td>file://</td></tr></tbody></table>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼šå¦‚æœåˆ†äº«åŠŸèƒ½å¯¹ä½ å¾ˆé‡è¦ï¼Œä¸”ä½ ä¸ç¡®å®šæ–‡ä»¶æœ€ç»ˆä¼šä¿å­˜åœ¨å“ªé‡Œï¼Œ<strong>ç»Ÿä¸€ä½¿ç”¨Â <code>FileProvider</code>Â æ˜¯æœ€å®‰å…¨ã€å…¼å®¹æ€§æœ€å¥½çš„åšæ³•</strong>ï¼Œå®ƒå‡ ä¹èƒ½å¤„ç†æ‰€æœ‰æƒ…å†µã€‚å”¯ä¸€çš„â€œç¼ºç‚¹â€æ˜¯éœ€è¦å¤šå†™å‡ æ­¥é…ç½®ä»£ç ã€‚</p>
<h3 data-id="heading-18">å¤–éƒ¨Appä¸“å±ç›®å½•å’Œå¤–éƒ¨å…¬å…±ç›®å½• (Android 11+) è¿™ä¸ªandroid 11+ æœ‰å•¥åŒºåˆ«ï¼Ÿ</h3>
<p><strong>Android 11ï¼ˆAPI 30ï¼‰å¯¹å¤–éƒ¨Appä¸“å±ç›®å½•çš„è®¿é—®è§„åˆ™åšå‡ºäº†ä¸€ä¸ªé‡å¤§å˜æ›´</strong>ï¼Œç›´æ¥å½±å“äº†æ˜¯å¦éœ€è¦ä½¿ç”¨Â <code>FileProvider</code>Â è¿›è¡Œåˆ†äº«ã€‚</p>
<h2 data-id="heading-19">Android 11+ çš„æ ¸å¿ƒå˜åŒ–ï¼šå¼ºåˆ¶æ‰§è¡Œâ€œåˆ†åŒºå­˜å‚¨â€</h2>
<p>åœ¨Android 10ä¸­ï¼Œåˆ†åŒºå­˜å‚¨ï¼ˆScoped Storageï¼‰æ˜¯<strong>å¯é€‰</strong>çš„ï¼ˆ<code>requestLegacyExternalStorage</code>æ ‡å¿—ï¼‰ã€‚ä½†ä»Â <strong>Android 11 å¼€å§‹ï¼Œå®ƒè¢«å¼ºåˆ¶å¯ç”¨</strong>ï¼Œæ— æ³•å›é€€ã€‚</p>
<h3 data-id="heading-20">è®¿é—®è§„åˆ™å¯¹æ¯”ï¼ˆå…³é”®åŒºåˆ«ï¼‰</h3>



































<table><thead><tr><th>è®¿é—®åœºæ™¯</th><th>Android 10 åŠä»¥ä¸‹</th><th><strong>Android 11 åŠä»¥ä¸Š</strong></th></tr></thead><tbody><tr><td><strong>ä½ çš„Appè®¿é—®è‡ªå·±çš„å¤–éƒ¨ä¸“å±ç›®å½•</strong></td><td><strong>å§‹ç»ˆå¯è¯»å†™</strong></td><td><strong>å§‹ç»ˆå¯è¯»å†™</strong>ï¼ˆæ— å˜åŒ–ï¼‰</td></tr><tr><td><strong>å…¶ä»–Appè®¿é—®ä½ çš„å¤–éƒ¨ä¸“å±ç›®å½•</strong></td><td><strong>é»˜è®¤å¯è®¿é—®</strong>ï¼ˆæœ‰æƒé™æ—¶ï¼‰</td><td><strong>é‡å¤§å˜åŒ–</strong></td></tr><tr><td/><td>åªè¦å…¶ä»–Appæ‹¥æœ‰Â <code>READ_EXTERNAL_STORAGE</code>Â æƒé™ï¼Œç†è®ºä¸Šå°±èƒ½æ‰«ææ•´ä¸ªå­˜å‚¨ï¼ŒåŒ…æ‹¬ä½ çš„Â <code>Android/data/åŒ…å/</code>Â ç›®å½•ã€‚</td><td><strong>é»˜è®¤ç¦æ­¢è®¿é—®</strong></td></tr><tr><td/><td/><td>å…¶ä»–App<strong>æ— æ³•ç›´æ¥é€šè¿‡æ–‡ä»¶è·¯å¾„</strong>è®¿é—®ä½ çš„ä¸“å±ç›®å½•ï¼Œå³ä½¿å®ƒæ‹¥æœ‰å­˜å‚¨æƒé™ã€‚</td></tr><tr><td><strong>ç³»ç»Ÿæ–‡ä»¶ç®¡ç†å™¨è®¿é—®</strong></td><td>é€šå¸¸å¯æŸ¥çœ‹ï¼ˆéœ€å¼€å¯â€œæ˜¾ç¤ºéšè—æ–‡ä»¶â€ï¼‰</td><td><strong>ä»å¯æŸ¥çœ‹</strong>ï¼ˆç”¨æˆ·æ“ä½œå±‚é¢ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-21">Android 11+ ä¸‹å…¶ä»–Appå¦‚ä½•è®¿é—®ï¼ˆä½ åˆ†äº«æ–‡ä»¶æ—¶çš„å½±å“ï¼‰</h3>
<p>ç”±äºå…¶ä»–Appé»˜è®¤æ— æ³•è¿›å…¥ä½ çš„ä¸“å±ç›®å½•ï¼Œå› æ­¤ä½ <strong>å¿…é¡»</strong>é€šè¿‡Â <code>FileProvider</code>Â åˆ›å»ºÂ <code>content://</code>Â URI æ¥åˆ†äº«æ–‡ä»¶ã€‚è¿™ä¸ªURIæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>ä¸´æ—¶çš„ã€æœ‰è®¿é—®ä»¤ç‰Œçš„é€šè¡Œè¯</strong>ã€‚</p>
<p><strong>å…·ä½“æœºåˆ¶</strong>ï¼š</p>
<ol>
<li>å½“ä½ çš„Appé€šè¿‡Â <code>FileProvider.getUriForFile()</code>Â ç”ŸæˆURIæ—¶ï¼Œç³»ç»Ÿä¼šâ€œè§£é”â€è¿™ä¸ªç‰¹å®šæ–‡ä»¶ã€‚</li>
<li>ä½ é€šè¿‡Â <code>Intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)</code>Â å°†è¿™ä¸ªâ€œè¯»å–ä»¤ç‰Œâ€é™„åŠ åˆ°URIä¸Šã€‚</li>
<li>æ¥æ”¶æ–¹Appï¼ˆå¦‚å¾®ä¿¡ï¼‰åœ¨æ”¶åˆ°è¿™ä¸ªå¸¦æœ‰ä»¤ç‰Œçš„URIæ—¶ï¼Œç³»ç»Ÿä¼šä¸´æ—¶å…è®¸å®ƒé€šè¿‡Â <code>ContentResolver</code>Â æ‰“å¼€è¿™ä¸ªæ–‡ä»¶æµï¼Œ<strong>å³ä½¿å®ƒæ ¹æœ¬ä¸çŸ¥é“æ–‡ä»¶åœ¨Â <code>Android/data/</code>Â ä¸‹çš„å…·ä½“è·¯å¾„</strong>ã€‚</li>
<li>è¿™ä¸ªæƒé™é€šå¸¸æ˜¯<strong>ä¸€æ¬¡æ€§çš„</strong>ï¼Œä¸”ä»…å¯¹æ¥æ”¶æ–¹Appæœ‰æ•ˆã€‚</li>
</ol>
<h3 data-id="heading-22">å®é™…å½±å“ä¸ä»£ç ç¤ºä¾‹</h3>
<p>å‡è®¾ä½ è¦åˆ†äº«Â <code>Android/data/com.yourapp/files/share_image.jpg</code>ï¼š</p>
<p><strong>é”™è¯¯åšæ³•ï¼ˆåœ¨ Android 11+ ä¸Šä¼šå¤±è´¥ï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> file = File(context.getExternalFilesDir(<span class="hljs-literal">null</span>), &amp;#<span class="hljs-number">34</span>;share_image.jpg&amp;#<span class="hljs-number">34</span>;)
<span class="hljs-comment">// ç”Ÿæˆ file:// URIï¼Œå…¶ä»–Appæ— æƒè®¿é—®æ­¤è·¯å¾„</span>
<span class="hljs-keyword">val</span> fileUri = Uri.fromFile(file)
shareIntent.putExtra(Intent.EXTRA_STREAM, fileUri) <span class="hljs-comment">// åˆ†äº«å¤±è´¥ï¼</span>
</code></pre>
<p><strong>æ­£ç¡®åšæ³•ï¼ˆæ‰€æœ‰ç‰ˆæœ¬é€šç”¨ï¼ŒAndroid 11+ å¿…é¡»ï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">val</span> file = File(context.getExternalFilesDir(<span class="hljs-literal">null</span>), &amp;#<span class="hljs-number">34</span>;share_image.jpg&amp;#<span class="hljs-number">34</span>;)

<span class="hljs-comment">// ä½¿ç”¨FileProviderç”Ÿæˆå®‰å…¨çš„ content:// URI</span>
<span class="hljs-keyword">val</span> contentUri: Uri = FileProvider.getUriForFile(
    context,
    &amp;#<span class="hljs-number">34</span>;${context.packageName}.fileprovider&amp;#<span class="hljs-number">34</span>;,
    file
)

<span class="hljs-keyword">val</span> shareIntent = Intent(Intent.ACTION_SEND).apply {
    type = &amp;#<span class="hljs-number">34</span>;image/jpeg&amp;#<span class="hljs-number">34</span>;
    putExtra(Intent.EXTRA_STREAM, contentUri) <span class="hljs-comment">// ä½¿ç”¨ content:// URI</span>
    addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION) <span class="hljs-comment">// æˆäºˆä¸´æ—¶æƒé™</span>
}
<span class="hljs-comment">// åˆ†äº«æˆåŠŸï¼</span>
</code></pre>
<h3 data-id="heading-23">æ€»ç»“ä¸å»ºè®®</h3>
<ol>
<li>
<p><strong>ç®€å•ç»“è®º</strong>ï¼šè‡ªÂ <strong>Android 11 èµ·ï¼Œä½ å¿…é¡»ä½¿ç”¨Â <code>FileProvider</code>Â æ¥åˆ†äº«ä½äºå¤–éƒ¨Appä¸“å±ç›®å½•ä¸­çš„ä»»ä½•æ–‡ä»¶</strong>ï¼Œå› ä¸ºè¿™æ˜¯å…¶ä»–Appèƒ½è®¿é—®å®ƒä»¬çš„å”¯ä¸€åˆæ³•é€”å¾„ã€‚</p>
</li>
<li>
<p><strong>å‘åå…¼å®¹</strong>ï¼šå³ä½¿ä½ çš„Â <code>targetSdkVersion</code>Â ä½äº30ï¼Œåªè¦ç”¨æˆ·åœ¨Android 11+çš„è®¾å¤‡ä¸Šè¿è¡Œä½ çš„Appï¼Œç³»ç»Ÿå°±ä¼šå¼ºåˆ¶æ‰§è¡Œæ­¤è§„åˆ™ã€‚</p>
</li>
<li>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ul>
<li><strong>ç»Ÿä¸€ä½¿ç”¨Â <code>FileProvider</code></strong>ï¼šä¸ºäº†æœ€ç®€å•çš„ç»´æŠ¤å’Œæœ€å¥½çš„å…¼å®¹æ€§ï¼Œæ— è®ºæ–‡ä»¶åœ¨å“ªé‡Œï¼ˆå†…éƒ¨ã€å¤–éƒ¨ä¸“å±ç›®å½•ï¼‰ï¼Œä¹Ÿæ— è®ºä½ çš„Â <code>minSdkVersion</code>Â æ˜¯å¤šå°‘ï¼Œç»Ÿä¸€ä½¿ç”¨Â <code>FileProvider</code>Â è¿›è¡Œåˆ†äº«ã€‚</li>
<li><strong>æ›´æ–°ä½ çš„Â <code>file_paths.xml</code></strong>ï¼šç¡®ä¿é…ç½®äº†æ­£ç¡®çš„è·¯å¾„æ¥æš´éœ²å¤–éƒ¨ä¸“å±ç›®å½•ï¼š</li>
</ul>
</li>
</ol>
<pre><code class="hljs language-xml" lang="xml">
    
    
    
    

</code></pre>
<p>æ‰€ä»¥ï¼Œå›ç­”ä½ æœ€åˆçš„é—®é¢˜ï¼š <strong>â€œAndroid 11+â€ çš„åŒºåˆ«å°±åœ¨äºï¼Œä»æ­¤ä¹‹åï¼Œå¤–éƒ¨Appä¸“å±ç›®å½•çœŸæ­£å˜å¾—å’Œå†…éƒ¨å­˜å‚¨ä¸€æ ·â€œç§æœ‰â€äº†ï¼Œåˆ†äº«æ—¶å¿…é¡»é€šè¿‡Â <code>FileProvider</code>Â è¿™ä¸ªâ€œå®‰å…¨æ£€æŸ¥ç«™â€ã€‚</strong></p>
<h3 data-id="heading-24">android 10å’Œ11ä»¥åå¼ºåˆ¶ ä½¿ç”¨çš„Scoped Storageï¼ˆåˆ†åŒºå­˜å‚¨ï¼‰ï¼Œåˆ°åº•æ˜¯é’ˆå¯¹é‚£ä¸ªç›®å½•ï¼Œæ˜¯å†…éƒ¨å­˜å‚¨ç›®å½•è¿˜æ˜¯å¤–éƒ¨appä¸“å±ç›®å½•ï¼Œè¿˜æ˜¯å…¬å…±ç›®å½•</h3>
<p>é—®åˆ°äº†æ ¸å¿ƒï¼<strong>Scoped Storageï¼ˆåˆ†åŒºå­˜å‚¨ï¼‰ä¸»è¦é’ˆå¯¹çš„æ˜¯â€œå¤–éƒ¨å­˜å‚¨-å…¬å…±ç›®å½•â€</strong> ï¼Œä½†å®ƒä¹Ÿ<strong>é—´æ¥å½±å“å’Œå¼ºåŒ–äº†â€œå¤–éƒ¨å­˜å‚¨-Appä¸“å±ç›®å½•â€çš„ç§æœ‰æ€§</strong>ã€‚è€Œ<strong>å†…éƒ¨å­˜å‚¨å®Œå…¨ä¸å—å½±å“</strong>ã€‚</p>
<p>è®©æˆ‘ç”¨ä¸€ä¸ªæ¸…æ™°çš„è¡¨æ ¼å’Œå¯¹æ¯”å›¾æ¥å¸®ä½ ç†è§£ï¼š</p>
<h3 data-id="heading-25">Scoped Storage ç®¡æ§èŒƒå›´ä¸€è§ˆè¡¨</h3>





























<table><thead><tr><th>å­˜å‚¨ä½ç½®</th><th>ä¸­æ–‡å¸¸ç§°</th><th>Scoped Storage ä¸‹æ˜¯å¦å—å½±å“ï¼Ÿ</th><th>å…·ä½“å˜åŒ–</th></tr></thead><tbody><tr><td><strong>Internal Storage</strong></td><td>å†…éƒ¨å­˜å‚¨</td><td><strong>å®Œå…¨ä¸å—å½±å“</strong></td><td>å§‹ç»ˆç§æœ‰ï¼Œæ— éœ€ä»»ä½•æƒé™è®¿é—®</td></tr><tr><td><strong>External Storage - App-specific</strong></td><td>å¤–éƒ¨Appä¸“å±ç›®å½•</td><td><strong>é—´æ¥å—å½±å“</strong>ï¼ˆè®¿é—®è§„åˆ™è¢«å¼ºåŒ–ï¼‰</td><td><strong>ä½ çš„App</strong>ï¼šä»å¯è‡ªç”±è®¿é—®ã€‚  <strong>å…¶ä»–App</strong>ï¼š<strong>é»˜è®¤æ— æ³•è®¿é—®</strong>ï¼ˆAndroid 11+å¼ºåˆ¶ï¼‰ã€‚åˆ†äº«å¿…é¡»ç”¨FileProviderã€‚</td></tr><tr><td><strong>External Storage - Public Directories</strong></td><td>å¤–éƒ¨å…¬å…±ç›®å½•</td><td><strong>ç›´æ¥ã€æœ€ä¸»è¦çš„ç®¡ç†ç›®æ ‡</strong></td><td><strong>ä½ çš„App</strong>ï¼šä¸èƒ½ç›´æ¥ç”¨<code>File</code>è·¯å¾„æ“ä½œï¼Œå¿…é¡»é€šè¿‡<code>MediaStore</code>æˆ–SAFã€‚  <strong>å…¶ä»–App</strong>ï¼šåªèƒ½è®¿é—®è‡ªå·±åˆ›å»ºæˆ–ç³»ç»Ÿæˆæƒçš„åª’ä½“æ–‡ä»¶ã€‚</td></tr></tbody></table>
<p>ä¸ºäº†æ›´ç›´è§‚åœ°å±•ç¤ºScoped Storageå¦‚ä½•æ”¹å˜äº†åº”ç”¨è®¿é—®å­˜å‚¨çš„â€œè§†é‡â€ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹é¢çš„å¯¹æ¯”å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f1a6fb9d32543e5bb159f81a24be213~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgYnlj:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766026136&amp;x-signature=pCJTXmQYHp%2B8YpBhg0VAzidpDuQ%3D" alt="p3.png" loading="lazy"/></p>
<h3 data-id="heading-26">è¯¦ç»†è§£è¯»ï¼šå˜åŒ–åœ¨å“ªé‡Œï¼Ÿ</h3>
<h4 data-id="heading-27">1. å¤–éƒ¨å­˜å‚¨ - å…¬å…±ç›®å½•ï¼ˆ<strong>ä¸»è¦æ”¹é©åŒº</strong>ï¼‰</h4>
<ul>
<li>
<p><strong>ä»¥å‰</strong>ï¼šAppåªè¦ç”³è¯·äº†Â <code>READ_EXTERNAL_STORAGE</code>Â æƒé™ï¼Œå°±å¯ä»¥åƒæ–‡ä»¶ç®¡ç†å™¨ä¸€æ ·<strong>æ‰«æã€è¯»å–æ•´ä¸ªå­˜å‚¨ä¸Šæ‰€æœ‰å…¶ä»–Appçš„å…¬å…±æ–‡ä»¶</strong>ï¼ˆä¾‹å¦‚ï¼Œä¸€ä¸ªå›¾ç‰‡ç¼–è¾‘Appèƒ½æ‰«åˆ°ä½ å¾®ä¿¡ä¿å­˜çš„æ‰€æœ‰å›¾ç‰‡ï¼‰ï¼Œéšç§é£é™©å¤§ã€‚</p>
</li>
<li>
<p><strong>ç°åœ¨</strong>ï¼š</p>
<ul>
<li>
<p><strong>ç¦æ­¢ç›´æ¥è·¯å¾„è®¿é—®</strong>ï¼šä½ ä¸èƒ½å†ä½¿ç”¨Â <code>new File(Environment.getExternalStoragePublicDirectory(...), ...)</code>Â è¿™ç§æ–¹å¼ã€‚</p>
</li>
<li>
<p><strong>å¿…é¡»ä½¿ç”¨â€œä¸­ä»‹APIâ€</strong> ï¼š</p>
<ul>
<li><strong><code>MediaStore</code></strong>ï¼šç”¨äºè®¿é—®/åˆ›å»º<strong>åª’ä½“æ–‡ä»¶</strong>ï¼ˆå›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ï¼‰ã€‚ä½ åªèƒ½çœ‹åˆ°è‡ªå·±åˆ›å»ºçš„æ–‡ä»¶ï¼Œä»¥åŠç³»ç»Ÿç›¸å†Œç­‰å…¬å…±é›†åˆä¸­çš„æ–‡ä»¶ã€‚æ’å…¥æ–°æ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å°†å…¶å½’ç±»åˆ°å¯¹åº”çš„åª’ä½“é›†åˆã€‚</li>
<li><strong><code>Storage Access Framework (SAF)</code></strong> ï¼šé€šè¿‡ç³»ç»Ÿæ–‡ä»¶é€‰æ‹©å™¨ï¼ˆä¸€ä¸ªç³»ç»ŸUIï¼‰è®©ç”¨æˆ·<strong>ä¸»åŠ¨é€‰æ‹©</strong>æ–‡ä»¶æˆ–ç›®å½•ï¼Œé€‚åˆè®¿é—®æ–‡æ¡£ã€ä¸‹è½½ç›®å½•ç­‰éåª’ä½“æ–‡ä»¶ã€‚</li>
</ul>
</li>
<li>
<p><strong>æƒé™æ›´ç²¾ç»†</strong>ï¼šAndroid 11+å¼•å…¥äº†æ›´ç»†ç²’åº¦çš„æƒé™ï¼ˆå¦‚Â <code>ACCESS_MEDIA_LOCATION</code>ï¼‰ï¼Œè€Œä¸æ˜¯ç®€å•çš„â€œå…¨éƒ¨æˆ–æ²¡æœ‰â€ã€‚</p>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-28">2. å¤–éƒ¨å­˜å‚¨ - Appä¸“å±ç›®å½•ï¼ˆ<strong>é—´æ¥å—å½±å“</strong>ï¼‰</h4>
<ul>
<li>è¿™ä¸ªç›®å½•çš„<strong>è®¾è®¡åˆè¡·å°±æ˜¯ç§æœ‰çš„</strong>ï¼ŒScoped Storage åªæ˜¯<strong>ä»ç³»ç»Ÿå±‚é¢å½»åº•è½å®äº†è¿™ä¸€è®¾è®¡</strong>ã€‚</li>
<li><strong>Android 11+çš„å¼ºåˆ¶è§„å®š</strong>ï¼šå…¶ä»–App<strong>é»˜è®¤ç»å¯¹æ— æ³•è®¿é—®</strong>ä½ çš„ä¸“å±ç›®å½•ï¼Œè¿æ‰«æéƒ½æ‰«ä¸åˆ°ã€‚è¿™ä½¿å¾—å®ƒå˜å¾—å’Œå†…éƒ¨å­˜å‚¨ä¸€æ ·å®‰å…¨ï¼ŒåŒæ—¶ä¹Ÿæ„å‘³ç€åˆ†äº«æ–‡ä»¶æ—¶å¿…é¡»é€šè¿‡Â <code>FileProvider</code>Â â€œå¼€é—¨â€ã€‚</li>
</ul>
<h4 data-id="heading-29">3. å†…éƒ¨å­˜å‚¨ï¼ˆ<strong>å®‰å…¨åŒºï¼Œæ— å˜åŒ–</strong>ï¼‰</h4>
<ul>
<li>å®Œå…¨ä¸å—Scoped Storageä»»ä½•å½±å“ã€‚å®ƒä»ä¸€å¼€å§‹å°±æ˜¯æœ€ç§å¯†ã€æœ€å®‰å…¨çš„ã€‚</li>
</ul>
<h3 data-id="heading-30">ç»™å¼€å‘è€…çš„æ˜ç¡®æŒ‡å—</h3>
<ol>
<li>
<p><strong>é€‚é…æ ¸å¿ƒ</strong>ï¼šä½ çš„ä¸»è¦é€‚é…å·¥ä½œï¼ˆå¤„ç†Â <code>MediaStore</code>ï¼ŒåºŸå¼ƒè€çš„Â <code>File</code>Â APIï¼‰éƒ½é›†ä¸­åœ¨<strong>éœ€è¦è¯»å†™å…¬å…±ç›®å½•</strong>çš„åŠŸèƒ½ä¸Šã€‚</p>
</li>
<li>
<p><strong>é¦–é€‰å­˜å‚¨ä½ç½®</strong>ï¼š</p>
<ul>
<li>
<p><strong>ç§æœ‰æ•°æ®</strong>ï¼šä¼˜å…ˆæ”¾åœ¨<strong>å†…éƒ¨å­˜å‚¨</strong>æˆ–<strong>å¤–éƒ¨Appä¸“å±ç›®å½•</strong>ã€‚è¿™é‡Œä¸éœ€è¦å¤„ç†Scoped Storageçš„å¤æ‚è§„åˆ™ã€‚</p>
</li>
<li>
<p><strong>å…±äº«æ–‡ä»¶</strong>ï¼š</p>
<ul>
<li>å¦‚æœæ˜¯å›¾ç‰‡/è§†é¢‘/éŸ³é¢‘ â†’ ä½¿ç”¨Â <strong><code>MediaStore</code></strong>Â å†™å…¥å¯¹åº”çš„å…¬å…±åª’ä½“ç›®å½•ã€‚</li>
<li>å¦‚æœæ˜¯PDFã€æ–‡æ¡£ç­‰ â†’ ä½¿ç”¨Â <strong><code>Storage Access Framework (SAF)</code></strong> Â è®©ç”¨æˆ·é€‰æ‹©ä¿å­˜ä½ç½®ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>æƒé™ç”³è¯·</strong>ï¼š</p>
<ul>
<li>è®¿é—®è‡ªå·±çš„Appä¸“å±ç›®å½•ï¼š<strong>ä¸éœ€è¦ä»»ä½•æƒé™</strong>ã€‚</li>
<li>åœ¨Android 10ä¸Šï¼Œå¦‚æœè¿˜éœ€è¦ä¸´æ—¶ä»¥è€æ–¹å¼è®¿é—®å…¬å…±ç›®å½•ï¼Œå¯ä»¥åœ¨Manifestä¸­è®¾ç½®Â <code>requestLegacyExternalStorage=true</code>ï¼ˆä½†Android 11+æ­¤æ ‡å¿—æ— æ•ˆï¼‰ã€‚</li>
<li>åœ¨Android 11+ä¸Šï¼Œå¦‚æœAppéœ€è¦é¢‘ç¹è®¿é—®è®¾å¤‡ä¸Šçš„æ‰€æœ‰åª’ä½“æ–‡ä»¶ï¼ˆå¦‚æ–‡ä»¶ç®¡ç†å™¨ã€æ€æ¯’è½¯ä»¶ï¼‰ï¼Œå¯ä»¥ç”³è¯·æ–°çš„Â <strong><code>MANAGE_EXTERNAL_STORAGE</code></strong>Â ç‰¹æ®Šæƒé™ï¼Œä½†ä¸Šæ¶Google Playæ—¶éœ€è¦å£°æ˜ã€‚</li>
</ul>
</li>
</ol>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong>ï¼šScoped Storage å°±åƒç»™æ¯ä¸ªAppåœ¨å…¬å…±å­˜å‚¨åŒºå»ºç«‹äº†â€œ<strong>ä¸“å±ä¿é™©æŸœ</strong>â€ï¼ˆAppä¸“å±ç›®å½•ï¼‰ï¼Œå¹¶è®¾ç«‹äº†â€œ<strong>å…¬å…±å±•è§ˆé¦†</strong>â€ï¼ˆå…¬å…±ç›®å½•ï¼‰ï¼ŒAppä¸èƒ½éšä¾¿ç¿»åˆ«äººçš„ä¿é™©æŸœï¼Œå¾€å±•è§ˆé¦†æ”¾ä¸œè¥¿æˆ–çœ‹ä¸œè¥¿ä¹Ÿå¾—é€šè¿‡è§„å®šçš„æµç¨‹(<code>MediaStore</code>/<code>SAF</code>)ã€‚è€Œä½ çš„å†…éƒ¨å­˜å‚¨ï¼Œå°±æ˜¯ä½ çš„â€œ<strong>ç§äººå§å®¤</strong>â€ï¼Œå®Œå…¨ä¸å˜ã€‚</p>
<h3 data-id="heading-31">filepaths.xmlé…ç½®ä»‹ç»</h3>
<p><code>FileProvider</code>Â çš„Â ``Â é…ç½®å°±æ˜¯ç”¨æ¥å°†ä½  App çš„ç§æœ‰æ–‡ä»¶è·¯å¾„æ˜ å°„æˆÂ <code>content://</code>Â URI çš„â€œè·¯ç”±è¡¨â€ã€‚</p>
<p>ä»¥ä¸‹æ˜¯<strong>å®Œæ•´è¯¦å°½çš„é…ç½®èŒƒä¾‹</strong>ï¼Œè¦†ç›–äº†æ‰€æœ‰ä½ å¯èƒ½ç”¨åˆ°çš„ç›®å½•ï¼š</p>
<h2 data-id="heading-32">å®Œæ•´çš„Â <code>file_paths.xml</code>Â é…ç½®æ¨¡æ¿</h2>
<pre><code class="hljs language-xml" lang="xml">    

    
    
    
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
        
    
    
     --&gt;

</code></pre>
<h2 data-id="heading-33">é…ç½®è¯¦è§£ä¸ä½¿ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-34">1.Â <strong>æ ‡ç­¾ç±»å‹ä¸è·¯å¾„å¯¹åº”å…³ç³»ï¼ˆæ ¸å¿ƒï¼‰</strong></h3>













































<table><thead><tr><th>XMLæ ‡ç­¾</th><th>å¯¹åº”çš„<strong>åŸºå‡†è·¯å¾„</strong></th><th>å…¸å‹åœºæ™¯</th></tr></thead><tbody><tr><td>\</td><td>/data/data//</td><td>å†…éƒ¨å­˜å‚¨çš„Â <code>files</code>Â ç›®å½•</td></tr><tr><td>\</td><td>/data/data//cache/</td><td>å†…éƒ¨ç¼“å­˜ç›®å½•</td></tr><tr><td>\</td><td>/storage/emulated/0/</td><td><strong>æœ€å¸¸ç”¨</strong>ï¼šå¤–éƒ¨å­˜å‚¨æ ¹ç›®å½•</td></tr><tr><td>\</td><td><code>Context.getExternalFilesDir()</code>Â è¿”å›çš„è·¯å¾„</td><td>å¤–éƒ¨Appä¸“å±ç›®å½•çš„çˆ¶ç›®å½•</td></tr><tr><td>\</td><td><code>Context.getExternalCacheDir()</code>Â è¿”å›çš„è·¯å¾„</td><td>å¤–éƒ¨ç¼“å­˜ç›®å½•çš„çˆ¶ç›®å½•</td></tr><tr><td>\</td><td><code>Context.getExternalMediaDirs()</code>Â è¿”å›çš„ç¬¬ä¸€ä¸ªè·¯å¾„</td><td>å¤–éƒ¨åª’ä½“ç›®å½•ï¼ˆAPI 21+ï¼‰</td></tr><tr><td>\</td><td><code>/</code>Â (è®¾å¤‡çš„<strong>çœŸå®æ ¹ç›®å½•</strong>)</td><td><strong>æåº¦å±é™©</strong>ï¼Œå‡ ä¹ç”¨ä¸åˆ°</td></tr></tbody></table>
<h3 data-id="heading-35">2.Â <strong><code>path</code>Â å±æ€§çš„å†™æ³•</strong></h3>
<ul>
<li><code>&amp;#34;.&amp;#34;</code>Â è¡¨ç¤ºåŒ¹é…åŸºå‡†è·¯å¾„æœ¬èº«</li>
<li><code>&amp;#34;subfolder/&amp;#34;</code>Â è¡¨ç¤ºåŒ¹é…åŸºå‡†è·¯å¾„ä¸‹çš„å­ç›®å½•ï¼ˆæœ«å°¾çš„Â <code>/</code>Â å¯é€‰ä½†æ¨èï¼‰</li>
<li>ä¸èƒ½åŒ…å«Â <code>..</code>Â æˆ–Â <code>//</code>ï¼Œä¹Ÿä¸èƒ½æ˜¯ç»å¯¹è·¯å¾„</li>
</ul>
<h3 data-id="heading-36">3.Â <strong>åœ¨ä»£ç ä¸­çš„ä½¿ç”¨ç¤ºä¾‹</strong></h3>
<pre><code class="hljs language-kotlin" lang="kotlin">    <span class="hljs-comment">// åˆ†äº«å†…éƒ¨å­˜å‚¨ files ç›®å½•ä¸‹çš„ä¸€ä¸ªæ–‡ä»¶</span>
<span class="hljs-keyword">val</span> internalFile = File(context.filesDir, &amp;#<span class="hljs-number">34</span>;secret.txt&amp;#<span class="hljs-number">34</span>;)
<span class="hljs-keyword">val</span> internalUri = FileProvider.getUriForFile(
    context,
    &amp;#<span class="hljs-number">34</span>;${context.packageName}.fileprovider&amp;#<span class="hljs-number">34</span>;,
    internalFile
)
<span class="hljs-comment">// ç³»ç»Ÿä¼šè‡ªåŠ¨æ ¹æ®æ–‡ä»¶è·¯å¾„ï¼ŒåŒ¹é…åˆ° </span>

<span class="hljs-comment">// åˆ†äº«å¤–éƒ¨Appä¸“å± Pictures ç›®å½•ä¸‹çš„ä¸€å¼ å›¾ç‰‡</span>
<span class="hljs-keyword">val</span> externalPicFile = File(context.getExternalFilesDir(Environment.DIRECTORY_PICTURES), &amp;#<span class="hljs-number">34</span>;photo.jpg&amp;#<span class="hljs-number">34</span>;)
<span class="hljs-keyword">val</span> externalPicUri = FileProvider.getUriForFile(
    context,
    &amp;#<span class="hljs-number">34</span>;${context.packageName}.fileprovider&amp;#<span class="hljs-number">34</span>;,
    externalPicFile
)
<span class="hljs-comment">// ç³»ç»Ÿä¼šè‡ªåŠ¨åŒ¹é…åˆ° </span>
</code></pre>
<h2 data-id="heading-37">é‡è¦æé†’</h2>
<ol>
<li>
<p><strong>åŒ…åå ä½ç¬¦</strong>ï¼šé…ç½®ä¸­çš„Â <strong><code>ä½ çš„åº”ç”¨åŒ…å</code></strong>Â éœ€è¦æ›¿æ¢æˆä½ å®é™…çš„åŒ…åï¼ˆå¦‚Â <code>com.example.myapp</code>ï¼‰ï¼Œæˆ–è€…ä½ å¯ä»¥ç”¨Â <code>.</code>Â è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œä½†æ˜¾å¼å†™å‡ºåŒ…åæ›´æ¸…æ™°ã€‚</p>
</li>
<li>
<p><strong>æŒ‰éœ€é…ç½®</strong>ï¼šä½ <strong>ä¸éœ€è¦</strong>åˆ—å‡ºæ‰€æœ‰è·¯å¾„ã€‚<strong>åªé…ç½®ä½ å®é™…ä¼šé€šè¿‡Â <code>FileProvider</code>Â åˆ†äº«æ–‡ä»¶çš„ç›®å½•</strong>å³å¯ã€‚æ›´å°‘çš„é…ç½®æ„å‘³ç€æ›´å°çš„æ”»å‡»é¢ã€‚</p>
</li>
<li>
<p><strong>å®‰å…¨è­¦å‘Š</strong>ï¼š</p>
<ul>
<li><strong>åˆ‡å‹¿ä½¿ç”¨Â ``</strong> ï¼Œè¿™å°†æš´éœ²è®¾å¤‡æ ¹ç›®å½•ï¼Œæåº¦å±é™©ã€‚</li>
<li>å¯¹äºå…¬å…±ç›®å½•çš„é…ç½®ï¼Œè™½ç„¶åˆ—å‡ºæ¥äº†ï¼Œä½†åœ¨Android 10+ä¸Šï¼Œç”±äºScoped Storageï¼Œä½ é€šå¸¸ä¸ä¼šç›´æ¥æ“ä½œè¿™äº›è·¯å¾„ï¼Œè€Œæ˜¯é€šè¿‡<code>MediaStore</code>ã€‚è¿™äº›é…ç½®ä¸»è¦ä¸ºäº†å…¼å®¹æ—§ç‰ˆæœ¬æˆ–ç‰¹æ®Šåœºæ™¯ã€‚</li>
</ul>
</li>
<li>
<p><strong>Android 11+ æ³¨æ„</strong>ï¼šå³ä½¿ä½ ä¸ºå¤–éƒ¨Appä¸“å±ç›®å½•é…ç½®äº†è·¯å¾„æ˜ å°„ï¼Œå…¶ä»–App<strong>ä»ç„¶æ— æ³•ç›´æ¥è®¿é—®</strong>ã€‚è¿™ä¸ªé…ç½®åªæ˜¯ä¸ºäº†è®©Â <code>FileProvider</code>Â èƒ½æ­£ç¡®ç”ŸæˆURIï¼Œç³»ç»Ÿä»ä¼šå¼ºåˆ¶æ‰§è¡Œè®¿é—®éš”ç¦»ã€‚</p>
</li>
</ol>
<p><strong>æœ€ç²¾ç®€çš„å¸¸ç”¨é…ç½®</strong>ï¼ˆé€‚åˆå¤§å¤šæ•°Appï¼‰ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">

    
    
    
    

</code></pre>
<p>è¿™ä¸ªæ¸…å•åº”è¯¥è¦†ç›–äº†ä½ æ‰€æœ‰çš„ä½¿ç”¨åœºæ™¯ã€‚æ ¹æ®ä½ çš„å®é™…éœ€æ±‚ï¼Œé€‰æ‹©å¿…è¦çš„è·¯å¾„è¿›è¡Œé…ç½®å³å¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOSé€†å‘-å“”å“©å“”å“©å¢åŠ 3å€é€Ÿï¼ˆ1ï¼‰-æœ€å¤§æ’­æ”¾é€Ÿåº¦]]></title>    <link>https://juejin.cn/post/7582063437414285350</link>    <guid>https://juejin.cn/post/7582063437414285350</guid>    <pubDate>2025-12-11T00:02:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582063437414285350" data-draft-id="7582063437413695526" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOSé€†å‘-å“”å“©å“”å“©å¢åŠ 3å€é€Ÿï¼ˆ1ï¼‰-æœ€å¤§æ’­æ”¾é€Ÿåº¦"/> <meta itemprop="keywords" content="iOS,é€†å‘"/> <meta itemprop="datePublished" content="2025-12-11T00:02:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TouchWorld"/> <meta itemprop="url" content="https://juejin.cn/user/2717648473557143"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOSé€†å‘-å“”å“©å“”å“©å¢åŠ 3å€é€Ÿï¼ˆ1ï¼‰-æœ€å¤§æ’­æ”¾é€Ÿåº¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2717648473557143/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TouchWorld
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T00:02:07.000Z" title="Thu Dec 11 2025 00:02:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä½œä¸ºä¸€å <strong>å“”å“©å“”å“©çš„é‡åº¦ç”¨æˆ·</strong>ï¼Œæˆ‘ä¸€ç›´æœŸå¾…å®˜æ–¹æ¨å‡º <strong>3 å€é€Ÿæ’­æ”¾</strong> åŠŸèƒ½ã€‚ç„¶è€Œç­‰äº†è®¸ä¹…ï¼Œè¿™ä¸ªåŠŸèƒ½å§‹ç»ˆæ²¡æœ‰ä¸Šçº¿ ğŸ˜®â€ğŸ’¨ã€‚</p>
<p>ä¿®æ”¹å‰æ•ˆæœï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ef8e2cfb37be457ba94d02fda26ef959~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766016127&amp;x-signature=U975y6avDAAcG6dbMh1chcJMrmA%3D" alt="Screenshot 2025-12-11 at 07.26.05.png" loading="lazy"/></p>
<p>åˆšå¥½æˆ‘è‡ªå·±ç†Ÿæ‚‰ <code>iOS</code> é€†å‘å·¥ç¨‹ï¼Œäºæ˜¯å†³å®š <strong>äº²è‡ªåŠ¨æ‰‹ï¼Œä¸º B ç«™åŠ å…¥ 3 å€é€Ÿæ’­æ”¾</strong> ğŸ˜†ã€‚</p>
<p>ä¿®æ”¹åæ•ˆæœï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d6a56e360904fecae8867827e9d4e18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766016127&amp;x-signature=7K%2BsKau2o8voS7iKaKPBOkp7IeQ%3D" alt="Screenshot 2025-12-11 at 07.22.57.png" loading="lazy"/></p>
<p>ç”±äºæ•´ä¸ªè¿‡ç¨‹æ¶‰åŠ <strong>å¤šå¤„é€»è¾‘ä¿®æ”¹ä¸å¤šä¸ªæ¨¡å—çš„åæ±‡ç¼–åˆ†æ</strong>ï¼Œä¸ºäº†è®©å†…å®¹æ›´åŠ æ¸…æ™°æ˜“è¯»ï¼Œæˆ‘å°†ä¼šåˆ†æˆå¤šç¯‡æ–‡ç« ï¼Œé€æ­¥æ‹†è§£ <strong>å¦‚ä½•ä¸º B ç«™å¢åŠ  3 å€é€Ÿæ’­æ”¾èƒ½åŠ›</strong>ã€‚</p>
<h2 data-id="heading-1">åœºæ™¯</h2>
<p>å“”å“©å“”å“©çš„è§†é¢‘æ’­æ”¾é¡µé¢</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/336d8de5197740eb887a5df45ad144e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766016127&amp;x-signature=jNlBaGEGSgQ3LVSMEUVCVegwA%2B4%3D" alt="8C0CA5C5-C2D9-4E60-9BB0-0FF3B83A03DA-5346442.png" loading="lazy"/></p>
<h2 data-id="heading-2">å¼€å‘ç¯å¢ƒ</h2>
<ul>
<li>å“”å“©å“”å“©ç‰ˆæœ¬ï¼š<code>8.41.0</code></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAloneMonkey%2FMonkeyDev" target="_blank" title="https://github.com/AloneMonkey/MonkeyDev" ref="nofollow noopener noreferrer">MonkeyDev</a></li>
<li><code>IDA Professional 9.0</code></li>
<li>å®‰è£…IDAæ’ä»¶ï¼š<code>patching</code></li>
<li><code>Lookin</code></li>
</ul>
<h2 data-id="heading-3">ç›®æ ‡</h2>
<p>è§†é¢‘æœ€å¤§æ’­æ”¾é€Ÿåº¦æ”¹ä¸º<strong>4å€é€Ÿ</strong>æ’­æ”¾</p>
<h2 data-id="heading-4">åˆ†æ</h2>
<ul>
<li>æˆ‘ä»¬çŸ¥é“å“”å“©å“”å“©å¼€æºäº†ä»–ä»¬çš„è§†é¢‘æ’­æ”¾å™¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbilibili%2Fijkplayer" target="_blank" title="https://github.com/bilibili/ijkplayer" ref="nofollow noopener noreferrer">ijkplayer</a>ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸­äº†è§£åˆ°è®¾ç½®æ’­æ”¾é€Ÿåº¦çš„æ–¹æ³•,æ˜¯<code>IJKFFMoviePlayerController</code>çš„<code>- (void)setPlaybackRate:(float)playbackRate</code></li>
</ul>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">IJKFFMoviePlayerController</span> : <span class="hljs-title">NSObject</span> </span>

<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">float</span> playbackRate;

<span class="hljs-keyword">@end</span>

</code></pre>
<ul>
<li>ä»<code>Mach-O</code>æ–‡ä»¶å¯¼å‡ºçš„<code>IJKFFMoviePlayerController</code>çš„<code>OC</code>å¤´æ–‡ä»¶å¯ä»¥çŸ¥é“ï¼Œå®ƒæœ‰ä¸€ä¸ª<code>maxPlaybackRate</code>å±æ€§ï¼Œåº”è¯¥æ˜¯æœ€å¤§æ’­æ”¾é€Ÿåº¦</li>
</ul>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-comment">// IJKFFMoviePlayerController.h</span>
<span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">IJKFFMoviePlayerController</span> : <span class="hljs-title">NSObject</span>  </span>{
    <span class="hljs-comment">/* instance variables */</span>
    <span class="hljs-type">id</span>  _player;
}

...
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">double</span> realCurrentPlaybackTime;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">float</span> realPlaybackRate;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">float</span> maxPlaybackRate;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) IJKMediaPlayerItem *currentItem;
...
</code></pre>
<ul>
<li>æˆ‘ä»¬<code>hook</code> <code>IJKFFMoviePlayerController</code>çš„<code>- (void)setPlaybackRate:(float)playbackRate</code>ï¼Œæ·»åŠ æ–­ç‚¹å¹¶æ‰“å°ä¸€äº›æ—¥å¿—ï¼Œå…¶ä¸­å°±æœ‰æ‰“å°<code>maxPlaybackRate</code>
<ul>
<li><code>inputPlaybackRate</code>ï¼šè¦è®¾ç½®çš„æ’­æ”¾é€Ÿåº¦</li>
<li><code>changedPlaybackRate</code>ï¼šæ›´æ”¹åçš„æ’­æ”¾é€Ÿåº¦</li>
<li><code>realPlaybackRate</code>ï¼šçœŸå®æ’­æ”¾é€Ÿåº¦</li>
<li><code>maxPlaybackRate</code>ï¼šæœ€å¤§æ’­æ”¾é€Ÿåº¦</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-objc" lang="objc">%hook IJKFFMoviePlayerController

- (<span class="hljs-type">void</span>)setPlaybackRate:(<span class="hljs-type">float</span>)playbackRate {
    %orig(playbackRate);
    <span class="hljs-built_in">NSLog</span>(@&amp;#<span class="hljs-number">34</span>;%@:%@-%p-%s-inputPlaybackRate:%lf-changedPlaybackRate:%lf-realPlaybackRate%lf-maxPlaybackRate:%lf&amp;#<span class="hljs-number">34</span>;, nj_logPrefix, <span class="hljs-built_in">NSStringFromClass</span>([(<span class="hljs-type">id</span>)<span class="hljs-keyword">self</span> <span class="hljs-keyword">class</span>]), <span class="hljs-keyword">self</span>, __FUNCTION__, playbackRate, <span class="hljs-keyword">self</span>.playbackRate, <span class="hljs-keyword">self</span>.realPlaybackRate, <span class="hljs-keyword">self</span>.maxPlaybackRate);
}

%end
</code></pre>
<ul>
<li>æ¯æ¬¡è®¾ç½®æ’­æ”¾é€Ÿåº¦ï¼Œ<code>IJKFFMoviePlayerController</code>çš„<code>- (void)setPlaybackRate:(float)playbackRate</code>çš„æ–­ç‚¹éƒ½ä¼šè§¦å‘ï¼Œæˆ‘ä»¬ä»æ—¥å¿—ä¸­å¯ä»¥çœ‹åˆ°ï¼Œ<strong>æœ€å¤§æ’­æ”¾é€Ÿåº¦ä¸º<code>3.0</code></strong></li>
</ul>
<pre><code class="hljs language-objc" lang="objc">cxzcxz:IJKFFMoviePlayerController<span class="hljs-number">-0x280519220</span>-_logos_method$App$IJKFFMoviePlayerController$setPlaybackRate$-inputPlaybackRate:<span class="hljs-number">1.500000</span>-changedPlaybackRate:<span class="hljs-number">1.500000</span>-realPlaybackRate0<span class="hljs-number">.000000</span>-maxPlaybackRate:<span class="hljs-number">3.000000</span>
</code></pre>
<ul>
<li>å› ä¸ºå€é€Ÿé¢æ¿æ— æ³•é€‰æ‹©è¶…è¿‡<code>2.0</code>çš„é€Ÿåº¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±è®¾ç½®ï¼Œå¦‚æœå€é€Ÿé¢æ¿é€‰æ‹©çš„æ˜¯<code>2.0</code>ï¼Œæˆ‘ä»¬å°±æ”¹æˆ<code>4.0</code>ï¼Œçœ‹æ˜¯å¦ä¼šé™åˆ¶æ’­æ”¾é€Ÿåº¦åˆ°<code>3.0</code></li>
</ul>
<pre><code class="hljs language-objc" lang="objc">%hook IJKFFMoviePlayerController

- (<span class="hljs-type">void</span>)setPlaybackRate:(<span class="hljs-type">float</span>)playbackRate {
    playbackRate = playbackRate == <span class="hljs-number">2.0</span> ? <span class="hljs-number">4.0</span> : playbackRate;
    %orig(playbackRate);
    <span class="hljs-built_in">NSLog</span>(@&amp;#<span class="hljs-number">34</span>;%@:%@-%p-%s-inputPlaybackRate:%lf-changedPlaybackRate:%lf-realPlaybackRate%lf-maxPlaybackRate:%lf&amp;#<span class="hljs-number">34</span>;, nj_logPrefix, <span class="hljs-built_in">NSStringFromClass</span>([(<span class="hljs-type">id</span>)<span class="hljs-keyword">self</span> <span class="hljs-keyword">class</span>]), <span class="hljs-keyword">self</span>, __FUNCTION__, playbackRate, <span class="hljs-keyword">self</span>.playbackRate, <span class="hljs-keyword">self</span>.realPlaybackRate, <span class="hljs-keyword">self</span>.maxPlaybackRate);
}

%end
</code></pre>
<ul>
<li>å€é€Ÿé¢æ¿é€‰æ‹©<code>2.0</code>ï¼Œä»æ—¥å¿—ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ’­æ”¾é€Ÿåº¦(<code>changedPlaybackRate</code>)æ”¹æˆäº†<code>3.0</code>è€Œä¸æ˜¯<code>4.0</code>ï¼Œè¿™ä¹Ÿè¯æ˜<code>maxPlaybackRate</code>å°±æ˜¯æœ€å¤§æ’­æ”¾é€Ÿåº¦</li>
</ul>
<pre><code class="hljs language-objc" lang="objc">cxzcxz:IJKFFMoviePlayerController<span class="hljs-number">-0x281304380</span>-_logos_method$App$IJKFFMoviePlayerController$setPlaybackRate$-inputPlaybackRate:<span class="hljs-number">4.000000</span>-changedPlaybackRate:<span class="hljs-number">3.000000</span>-realPlaybackRate0<span class="hljs-number">.000000</span>-maxPlaybackRate:<span class="hljs-number">3.000000</span>
</code></pre>
<ul>
<li>æˆ‘ä»¬å°è¯•<code>hook</code> <code>maxPlaybackRate</code>çš„<code>getter</code>æ–¹æ³•ï¼Œçœ‹èƒ½ä¸èƒ½ä¿®æ”¹æœ€å¤§æ’­æ”¾é€Ÿåº¦ï¼Ÿ</li>
</ul>
<pre><code class="hljs language-objc" lang="objc">%hook IJKFFMoviePlayerController

- (<span class="hljs-type">void</span>)setPlaybackRate:(<span class="hljs-type">float</span>)playbackRate {
    playbackRate = playbackRate == <span class="hljs-number">2.0</span> ? <span class="hljs-number">4.0</span> : playbackRate;
    %orig(playbackRate);
    <span class="hljs-built_in">NSLog</span>(@&amp;#<span class="hljs-number">34</span>;%@:%@-%p-%s-inputPlaybackRate:%lf-changedPlaybackRate:%lf-realPlaybackRate%lf-maxPlaybackRate:%lf&amp;#<span class="hljs-number">34</span>;, nj_logPrefix, <span class="hljs-built_in">NSStringFromClass</span>([(<span class="hljs-type">id</span>)<span class="hljs-keyword">self</span> <span class="hljs-keyword">class</span>]), <span class="hljs-keyword">self</span>, __FUNCTION__, playbackRate, <span class="hljs-keyword">self</span>.playbackRate, <span class="hljs-keyword">self</span>.realPlaybackRate, <span class="hljs-keyword">self</span>.maxPlaybackRate);
}

- (<span class="hljs-type">float</span>)maxPlaybackRate {
    <span class="hljs-keyword">return</span> <span class="hljs-number">4.0</span>;
}

%end
</code></pre>
<ul>
<li>ä»æ—¥å¿—å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶<code>maxPlaybackRate</code>çš„è¾“å‡ºå€¼æ”¹æˆäº†<code>4.0</code>ï¼Œä½†æ˜¯æ’­æ”¾é€Ÿåº¦(<code>changedPlaybackRate</code>)è¿˜æ˜¯<code>3.0</code>ï¼Œæ‰€ä»¥ä¿®æ”¹æ— æ•ˆ</li>
</ul>
<pre><code class="hljs language-objc" lang="objc">cxzcxz:IJKFFMoviePlayerController<span class="hljs-number">-0x2808e2a40</span>-_logos_method$App$IJKFFMoviePlayerController$setPlaybackRate$-inputPlaybackRate:<span class="hljs-number">4.000000</span>-changedPlaybackRate:<span class="hljs-number">3.000000</span>-realPlaybackRate0<span class="hljs-number">.000000</span>-maxPlaybackRate:<span class="hljs-number">4.000000</span>
</code></pre>
<ul>
<li>æˆ‘ä»¬ä»<code>IDA</code>ä¸­æŸ¥çœ‹<code>IJKFFMoviePlayerController</code>çš„<code>- (void)setPlaybackRate:(float)playbackRate</code>ä¼ªä»£ç å®ç°ï¼Œå‘ç°è°ƒç”¨çš„æ˜¯[<code>self-&gt;_player setPlaybackRate:]</code>æ–¹æ³•</li>
</ul>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-type">void</span> __cdecl -[IJKFFMoviePlayerController setPlaybackRate:](IJKFFMoviePlayerController *<span class="hljs-keyword">self</span>, SEL a2, <span class="hljs-type">float</span> a3)
{
  -[IJKMediaPlayback setPlaybackRate:](<span class="hljs-keyword">self</span>-&gt;_player, &amp;#<span class="hljs-number">34</span>;setPlaybackRate:&amp;#<span class="hljs-number">34</span>;);
}
</code></pre>
<ul>
<li>æˆ‘ä»¬ç»™<code>IJKFFMoviePlayerController</code>çš„<code>- (void)setPlaybackRate:(float)playbackRate</code>ï¼Œæ·»åŠ æ–­ç‚¹ï¼Œçœ‹çœ‹<code>self-&gt;_player</code>çš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿ</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1e3ddf7a869491c897445a834e70883~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766016127&amp;x-signature=lV0Zf1%2BpySH2emeuEs0c0ith7qI%3D" alt="C72ACE3B-EA9B-4684-A7AB-71C162A27F1E.png" loading="lazy"/></p>
<ul>
<li>æ–­ç‚¹è§¦å‘ï¼Œå‘ç°<code>self-&gt;_player</code>çš„ç±»å‹æ˜¯<code>IJKFFMoviePlayerControllerFFPlay</code></li>
</ul>
<pre><code class="hljs language-objc" lang="objc">(lldb) po <span class="hljs-keyword">self</span>-&gt;_player

</code></pre>
<ul>
<li>ä»<code>Mach-O</code>æ–‡ä»¶å¯¼å‡ºçš„<code>IJKFFMoviePlayerControllerFFPlay</code>çš„<code>OC</code>å¤´æ–‡ä»¶å¯ä»¥çŸ¥é“ï¼Œ<code>IJKFFMoviePlayerControllerFFPlay</code>æ˜¯ä¸€ä¸ªè§†é¢‘æ’­æ”¾å™¨ï¼Œçœ‹æ¥<code>IJKFFMoviePlayerController</code>æ˜¯åŸºäº<code>IJKFFMoviePlayerControllerFFPlay</code>å®ç°çš„</li>
</ul>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-class"><span class="hljs-keyword">@interface</span> <span class="hljs-title">IJKFFMoviePlayerControllerFFPlay</span> : <span class="hljs-title">NSObject</span>  </span>{
    <span class="hljs-comment">/* instance variables */</span>
    <span class="hljs-keyword">struct</span> IjkMediaPlayer * _mediaPlayer;
...
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">weak</span>, <span class="hljs-keyword">nonatomic</span>) IJKMediaPlayerItem *item;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">retain</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">id</span>  fileOpenDelegate;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">retain</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">id</span>  segmentOpenDelegate;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">double</span> fpsInMeta;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">double</span> fpsAtOutput;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>) _Bool shouldShowHudView;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">long</span> <span class="hljs-type">long</span> numberOfBytesTransferred;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>) _Bool allowsMediaAirPlay;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">nonatomic</span>) _Bool isDanmakuMediaAirPlay;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) _Bool airPlayMediaActive;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">int</span> isSeekBuffering;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">int</span> isAudioSync;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">int</span> isVideoSync;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">int</span> currentVideoIdentifier;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">int</span> currentAudioIdentifier;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">double</span> realCurrentPlaybackTime;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">float</span> realPlaybackRate;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) <span class="hljs-type">float</span> maxPlaybackRate;
<span class="hljs-keyword">@property</span> (<span class="hljs-keyword">readonly</span>, <span class="hljs-keyword">nonatomic</span>) IJKMediaPlayerItem *currentItem;
...
</code></pre>
<ul>
<li>æˆ‘ä»¬ä»<code>IDA</code>ä¸­æŸ¥çœ‹<code>IJKFFMoviePlayerControllerFFPlay</code>çš„<code>- (void)setPlaybackRate:(float)playbackRate</code>ä¼ªä»£ç å®ç°ï¼Œå‘ç°è·Ÿå¼€æºç‰ˆæœ¬çš„<code>IJKFFMoviePlayerController</code>çš„<code>- (void)setPlaybackRate:(float)playbackRate</code>æ˜¯ä¸€è‡´çš„</li>
</ul>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-comment">// å“”å“©å“”å“©ç‰ˆæœ¬</span>
<span class="hljs-type">void</span> __cdecl -[IJKFFMoviePlayerControllerFFPlay setPlaybackRate:](
        IJKFFMoviePlayerControllerFFPlay *<span class="hljs-keyword">self</span>,
        SEL a2,
        <span class="hljs-type">float</span> a3)
{
  sub_10F3F5768(
    <span class="hljs-number">0</span>LL,
    <span class="hljs-number">32</span>LL,
    &amp;#<span class="hljs-number">34</span>;IJKFFMoviePlayerControllerFFPlay: setPlaybackRate ts = %lld, playbackRate = %f\n&amp;#<span class="hljs-number">34</span>;,
    +[IJKFFUtils getIjkTickHR](&amp;OBJC_CLASS___IJKFFUtils, &amp;#<span class="hljs-number">34</span>;getIjkTickHR&amp;#<span class="hljs-number">34</span>;),
    a3);
  <span class="hljs-keyword">if</span> ( <span class="hljs-keyword">self</span>-&gt;_mediaPlayer )
    sub_10F0BAFD4(a3);
}
</code></pre>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-comment">// å¼€æºç‰ˆæœ¬</span>
- (<span class="hljs-type">void</span>)setPlaybackRate:(<span class="hljs-type">float</span>)playbackRate
{
    <span class="hljs-keyword">if</span> (!_mediaPlayer)
        <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">return</span> ijkmp_set_playback_rate(_mediaPlayer, playbackRate);
}
</code></pre>
<ul>
<li>æˆ‘ä»¬ä»<code>IDA</code>ä¸­æŸ¥çœ‹<code>sub_10F0BAFD4</code>çš„ä¼ªä»£ç å®ç°ï¼Œå‘ç°è·Ÿå¼€æºç‰ˆæœ¬çš„<code>ijkmp_set_playback_rate</code>çš„å®ç°æ˜¯ä¸€è‡´çš„</li>
</ul>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-comment">// å“”å“©å“”å“©ç‰ˆæœ¬</span>
__int64 __fastcall sub_10F0BAFD4(__int64 a1, <span class="hljs-type">float</span> a2)
{
  printf(&amp;#<span class="hljs-number">34</span>;%s(%f)\n&amp;#<span class="hljs-number">34</span>;, &amp;#<span class="hljs-number">34</span>;ijkmp_set_playback_rate&amp;#<span class="hljs-number">34</span>;, a2);
  pthread_mutex_lock((pthread_mutex_t *)(a1 + <span class="hljs-number">8</span>));
  sub_10F0A70B4(*(_QWORD *)(a1 + <span class="hljs-number">136</span>), a2);
  pthread_mutex_unlock((pthread_mutex_t *)(a1 + <span class="hljs-number">8</span>));
  <span class="hljs-keyword">return</span> printf(&amp;#<span class="hljs-number">34</span>;%s()=<span class="hljs-type">void</span>\n&amp;#<span class="hljs-number">34</span>;, &amp;#<span class="hljs-number">34</span>;ijkmp_set_playback_rate&amp;#<span class="hljs-number">34</span>;);
}
</code></pre>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-comment">// å¼€æºç‰ˆæœ¬</span>
<span class="hljs-type">void</span> ijkmp_set_playback_rate(IjkMediaPlayer *mp, <span class="hljs-type">float</span> rate)
{
    assert(mp);

    <span class="hljs-built_in">MPTRACE</span>(&amp;#<span class="hljs-number">34</span>;%s(%f)\n&amp;#<span class="hljs-number">34</span>;, __func__, rate);
    pthread_mutex_lock(&amp;mp-&gt;mutex);
    ffp_set_playback_rate(mp-&gt;ffplayer, rate);
    pthread_mutex_unlock(&amp;mp-&gt;mutex);
    <span class="hljs-built_in">MPTRACE</span>(&amp;#<span class="hljs-number">34</span>;%s()=<span class="hljs-type">void</span>\n&amp;#<span class="hljs-number">34</span>;, __func__);
}
</code></pre>
<ul>
<li>æˆ‘ä»¬ä»<code>IDA</code>ä¸­æŸ¥çœ‹<code>sub_10F0A70B4</code>çš„ä¼ªä»£ç å®ç°ï¼Œå¯ä»¥çŸ¥é“æ˜¯ä»<code>sub_10F101034</code>è·å–æœ€å¤§æ’­æ”¾é€Ÿåº¦çš„</li>
</ul>
<pre><code class="hljs language-objc" lang="objc">__int64 __fastcall sub_10F0A70B4(__int64 result, <span class="hljs-type">float</span> a2)
{
  __int64 v3; <span class="hljs-comment">// x19</span>
  <span class="hljs-type">float</span> v4; <span class="hljs-comment">// s0</span>
  __int64 v5; <span class="hljs-comment">// x8</span>
  <span class="hljs-type">float</span> v6; <span class="hljs-comment">// s1</span>
  <span class="hljs-type">float</span> v7; <span class="hljs-comment">// [xsp+1Ch] [xbp-24h] BYREF</span>

  <span class="hljs-keyword">if</span> ( result )
  {
    v3 = result;
    v7 = <span class="hljs-number">0.0</span>;
    sub_10F101034(<span class="hljs-number">10</span>LL, &amp;v7, <span class="hljs-number">4</span>LL);
    <span class="hljs-keyword">if</span> ( v7 &lt; a2 )
    {
      sub_10F3F5768(<span class="hljs-number">0</span>LL, <span class="hljs-number">32</span>LL, &amp;#<span class="hljs-number">34</span>;%s: origin %f, new %f \n&amp;#<span class="hljs-number">34</span>;, &amp;#<span class="hljs-number">34</span>;adjust_playback_rate&amp;#<span class="hljs-number">34</span>;, a2, v7);
      a2 = v7;
    }
    sub_10F3F5768((__int64 *)v3, <span class="hljs-number">32</span>LL, &amp;#<span class="hljs-number">34</span>;Playback rate: %f\n&amp;#<span class="hljs-number">34</span>;, a2);
    <span class="hljs-keyword">if</span> ( a2 == <span class="hljs-number">0.0</span> )
      v4 = <span class="hljs-number">1.0</span>;
    <span class="hljs-keyword">else</span>
      v4 = a2;
    <span class="hljs-keyword">if</span> ( v4 != <span class="hljs-number">1.0</span> )
      *(_DWORD *)(v3 + <span class="hljs-number">884</span>) = <span class="hljs-number">1</span>;
    v5 = *(_QWORD *)(v3 + <span class="hljs-number">8</span>);
    <span class="hljs-keyword">if</span> ( v5 )
    {
      v6 = *(<span class="hljs-type">float</span> *)(v3 + <span class="hljs-number">876</span>);
      <span class="hljs-keyword">if</span> ( v6 != v4 )
        *(<span class="hljs-type">double</span> *)(v5 + <span class="hljs-number">8040</span>) = vabds_f32(v6, v4);
    }
    <span class="hljs-keyword">if</span> ( v4 &gt; *(<span class="hljs-type">float</span> *)(v3 + <span class="hljs-number">6724</span>) )
      *(<span class="hljs-type">float</span> *)(v3 + <span class="hljs-number">6724</span>) = v4;
    *(<span class="hljs-type">float</span> *)(v3 + <span class="hljs-number">876</span>) = v4;
    *(_DWORD *)(v3 + <span class="hljs-number">880</span>) = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">return</span> sub_10F100F98(<span class="hljs-number">8</span>LL, v3 + <span class="hljs-number">9272</span>);
  }
  <span class="hljs-keyword">return</span> result;
}
</code></pre>
<ul>
<li>æˆ‘ä»¬ä»<code>IDA</code>ä¸­æŸ¥çœ‹<code>sub_10F101034</code>çš„ä¼ªä»£ç å®ç°ï¼Œå†æ ¹æ®<code>sub_10F101034(10LL, &amp;v7, 4LL)</code>; çŸ¥é“å‚æ•°<code>a1=10ï¼Œa3=4</code>ï¼Œå°†ä¼ªä»£ç å’Œå‚æ•°äº¤ç»™<code>chatgpt</code>åˆ†æï¼Œå¾—å‡ºä¸‹é¢å‡ ä¸ªç»“è®º:
<ul>
<li><code>sub_10F10449C(a9)</code> è®¡ç®—æœ€å¤§æ’­æ”¾é€Ÿåº¦</li>
<li>è¯¥å‡½æ•°å†…éƒ¨ä¼šå°†è®¡ç®—ç»“æœæ”¾å…¥æŸä¸ªå¯„å­˜å™¨ï¼ˆä¾‹å¦‚ <code>d0</code>ï¼‰</li>
<li>è§£ç å™¨å°†å…¶åç¼–è¯‘æˆ <code>v14</code></li>
<li><code>LABEL_38 â†’ v13 = v14</code></li>
<li>æœ€ç»ˆå†™å…¥ï¼š<code>*(float*)a2 = v13</code></li>
</ul>
</li>
</ul>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-type">void</span> __fastcall sub_10F101034(
        <span class="hljs-type">int</span> a1,
        <span class="hljs-type">double</span> *a2,
        __int64 a3,
        __int64 a4,
        __int64 a5,
        __int64 a6,
        __int64 a7,
        __int64 a8,
        _QWORD *a9,
        __int64 a10,
        <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> a11,
        __int64 a12)
{
  <span class="hljs-type">float</span> v13; <span class="hljs-comment">// s0</span>
  <span class="hljs-type">double</span> v14; <span class="hljs-comment">// d0</span>
  __int64 v15; <span class="hljs-comment">// x20</span>
  <span class="hljs-type">int</span> v16; <span class="hljs-comment">// w0</span>
  __int64 *v17; <span class="hljs-comment">// [xsp+18h] [xbp-68h] BYREF</span>
  __int64 v18; <span class="hljs-comment">// [xsp+20h] [xbp-60h]</span>
  __int64 v19; <span class="hljs-comment">// [xsp+30h] [xbp-50h]</span>
  <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> *v20; <span class="hljs-comment">// [xsp+58h] [xbp-28h]</span>

  <span class="hljs-keyword">if</span> ( a2 &amp;&amp; a3 )
  {
    <span class="hljs-keyword">switch</span> ( a1 )
    {
...
      <span class="hljs-keyword">case</span> <span class="hljs-number">10</span>:
        <span class="hljs-keyword">if</span> ( a3 == <span class="hljs-number">4</span> )
        {
          v17 = &amp;a10;
          sub_10F10449C((<span class="hljs-type">unsigned</span> <span class="hljs-type">int</span>)a9);
          <span class="hljs-keyword">goto</span> LABEL_38;
        }
        <span class="hljs-keyword">break</span>;
...
LABEL_38:
            v13 = v14;
          }
LABEL_44:
          *(<span class="hljs-type">float</span> *)a2 = v13;
        }
        <span class="hljs-keyword">break</span>;
...
</code></pre>
<ul>
<li>æˆ‘ä»¬ä»<code>IDA</code>ä¸­æŸ¥çœ‹<code>sub_10F10449C</code>çš„ä¼ªä»£ç å®ç°ï¼Œå‘ç°æœ‰å¯èƒ½è¿”å›ä¸¤ä¸ªå€¼ï¼Œä¸€ä¸ªæ˜¯<code>2.0</code>ï¼Œä¸€ä¸ªæ˜¯å…¨å±€å˜é‡<code>qword_117084280</code>çš„å€¼</li>
</ul>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-type">double</span> __fastcall sub_10F10449C(__int64 a1)
{
  __int64 v2; <span class="hljs-comment">// x0</span>
  <span class="hljs-type">double</span> result; <span class="hljs-comment">// d0</span>
  <span class="hljs-type">double</span> v4[<span class="hljs-number">6</span>]; <span class="hljs-comment">// [xsp+0h] [xbp-40h] BYREF</span>

  v2 = sub_10F104600();
  sub_10F104B7C(v4, v2, a1);
  result = <span class="hljs-number">2.0</span>;
  <span class="hljs-keyword">if</span> ( v4[<span class="hljs-number">0</span>] &lt; <span class="hljs-number">50.0</span> )
    <span class="hljs-keyword">return</span> *(<span class="hljs-type">double</span> *)&amp;qword_117084280;
  <span class="hljs-keyword">return</span> result;
}
</code></pre>
<ul>
<li>æˆ‘ä»¬æŸ¥çœ‹å…¨å±€å˜é‡<code>qword_117084280</code>çš„å€¼ï¼Œå‘ç°æ˜¯<code>3.0</code>ï¼Œè€Œ<code>3.0</code>å°±æ˜¯æœ€å¤§æ’­æ”¾é€Ÿåº¦
<ul>
<li>
<p><code>qword_117084280</code>çš„<code>16</code>è¿›åˆ¶å€¼</p>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-number">0000000117084280</span>  <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">08</span> <span class="hljs-number">40</span>  <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>
</code></pre>
</li>
<li>
<p>å…³é”®æ˜¯å‰ <code>8</code> å­—èŠ‚ï¼š</p>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">08</span> <span class="hljs-number">40</span>
</code></pre>
</li>
<li>
<p><code>ARM64</code>ã€<code>Mach-O</code> ä¸­ <code>double</code> å­˜å‚¨æ–¹å¼éƒ½æ˜¯ <code>little-endian</code>ï¼Œæ‰€ä»¥æŒ‰å°ç«¯åºè§£æï¼š</p>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-number">40</span> <span class="hljs-number">08</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span>
</code></pre>
</li>
<li>
<p><code>IEEE-754</code> åŒç²¾åº¦æ ¼å¼ï¼š</p>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-number">0x4008000000000000</span> â†’ <span class="hljs-number">3.0</span>ï¼ˆ<span class="hljs-type">double</span>ï¼‰
</code></pre>
</li>
<li>
<p>æ‰€ä»¥<code>qword_117084280 = 3.0</code></p>
</li>
</ul>
</li>
<li>æˆ‘ä»¬æ·»åŠ ç¬¦å·æ–­ç‚¹<code>sub_10F10449C</code>ï¼Œçœ‹å®ƒçš„è¿”å›å€¼å¤šå°‘</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7f11e045b4f4faeb513a779a5ec679e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766016127&amp;x-signature=3BNwQ%2FlaWKjzjZzxuyN6R5hcX8g%3D" alt="C291B52E-537E-494A-A8C4-8332634DEC40.png" loading="lazy"/></p>
<ul>
<li><code>sub_10F10449C</code>æ–­ç‚¹è§¦å‘ï¼Œè¿”å›å€¼å‘ç°æ˜¯<code>3.0</code>ï¼Œè¿™æ ·å°±éªŒè¯äº†å…¨å±€å˜é‡<code>qword_117084280</code>çš„å€¼æ˜¯<code>3.0</code></li>
</ul>
<pre><code class="hljs language-objc" lang="objc">(lldb) <span class="hljs-keyword">register</span> read d0
      d0 = <span class="hljs-number">3</span>
</code></pre>
<ul>
<li><strong>æ€»ç»“</strong>ï¼šå“”å“©å“”å“©çš„æœ€å¤§æ’­æ”¾é€Ÿåº¦æ–¹æ³•æ˜¯<code>sub_10F10449C</code>ï¼Œæœ€å¤§æ’­æ”¾é€Ÿåº¦æœ‰å¯èƒ½æ˜¯<code>2</code>å€é€Ÿï¼Œä¹Ÿå¯èƒ½æ˜¯<code>3</code>å€é€Ÿï¼ŒçŒœæµ‹è·Ÿè§†é¢‘æœ‰å…³ã€‚</li>
</ul>
<h2 data-id="heading-5">è¶Šç‹±è§£å†³æ–¹æ¡ˆ</h2>
<p>æˆ‘ä»¬<code>hook</code> <code>sub_10F10449C</code>ï¼Œå°†æœ€å¤§å€¼æ”¹ä¸º<code>4.0</code></p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// è§†é¢‘æœ€å¤§æ’­æ”¾é€Ÿåº¦</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">let</span> maxPlaybackRateValue <span class="hljs-operator">=</span> <span class="hljs-number">4.0</span>

<span class="hljs-comment">// å£°æ˜åŸå‡½æ•°ç±»å‹</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">typealias</span> orig_get_max_playback_rate_type <span class="hljs-operator">=</span> <span class="hljs-keyword">@convention(c)</span> (<span class="hljs-keyword">_</span> a1: <span class="hljs-type">Int64</span>) -&gt; <span class="hljs-type">Double</span>

<span class="hljs-comment">// å®šä¹‰å…¨å±€å‡½æ•°æŒ‡é’ˆå˜é‡ï¼Œå¹¶ç»‘å®šä¸€ä¸ª C åå­—</span>
<span class="hljs-meta">@_silgen_name</span>(<span class="hljs-operator">&amp;</span>#<span class="hljs-number">34</span>;orig_get_max_playback_rate<span class="hljs-operator">&amp;</span>#<span class="hljs-number">34</span>;)
<span class="hljs-keyword">nonisolated</span>(unsafe) <span class="hljs-keyword">public</span> <span class="hljs-keyword">var</span> orig_get_max_playback_rate: orig_get_max_playback_rate_type<span class="hljs-operator">?</span> <span class="hljs-operator">=</span> <span class="hljs-literal">nil</span>

<span class="hljs-comment">// è·å–æœ€å¤§æ’­æ”¾é€Ÿåº¦æ–¹æ³•</span>
<span class="hljs-meta">@_cdecl</span>(<span class="hljs-operator">&amp;</span>#<span class="hljs-number">34</span>;my_get_max_playback_rate<span class="hljs-operator">&amp;</span>#<span class="hljs-number">34</span>;)
<span class="hljs-keyword">func</span> <span class="hljs-title function_">my_get_max_playback_rate</span>(<span class="hljs-params">a1</span>: <span class="hljs-type">Int64</span>) -&gt; <span class="hljs-type">Double</span> {
    <span class="hljs-keyword">return</span> maxPlaybackRateValue
}
</code></pre>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-comment">// è·å–æœ€å¤§æ’­æ”¾é€Ÿåº¦æ–¹æ³•</span>
<span class="hljs-type">long</span> <span class="hljs-type">long</span> get_max_playback_rate_address = g_slide+<span class="hljs-number">0x10F10449C</span>;
<span class="hljs-built_in">NSLog</span>(@&amp;#<span class="hljs-number">34</span>;[%@] cal func get_max_playback_rate address:<span class="hljs-number">0</span>x%llx&amp;#<span class="hljs-number">34</span>;, nj_logPrefix, get_max_playback_rate_address);
MSHookFunction((<span class="hljs-type">void</span> *)get_max_playback_rate_address,
			   (<span class="hljs-type">void</span>*)my_get_max_playback_rate,
			   (<span class="hljs-type">void</span>**)&amp;orig_get_max_playback_rate);
</code></pre>
<ul>
<li>æˆ‘ä»¬å†<code>hook</code> <code>IJKFFMoviePlayerControllerFFPlay</code>çš„<code>- (void)setPlaybackRate:(float)playbackRate</code>æ–¹æ³•ï¼Œç”¨ä»¥æ‰“å°æ—¥å¿—</li>
</ul>
<pre><code class="hljs language-objc" lang="objc">%hook IJKFFMoviePlayerControllerFFPlay

- (<span class="hljs-type">void</span>)setPlaybackRate:(<span class="hljs-type">float</span>)playbackRate {
    playbackRate = playbackRate == <span class="hljs-number">2.0</span> ? <span class="hljs-number">4.0</span> : playbackRate;
    %orig(playbackRate);
    <span class="hljs-built_in">NSLog</span>(@&amp;#<span class="hljs-number">34</span>;%@:%@-%p-%s-inputPlaybackRate:%lf-changedPlaybackRate:%lf-realPlaybackRate%lf-maxPlaybackRate:%lf&amp;#<span class="hljs-number">34</span>;, nj_logPrefix, <span class="hljs-built_in">NSStringFromClass</span>([(<span class="hljs-type">id</span>)<span class="hljs-keyword">self</span> <span class="hljs-keyword">class</span>]), <span class="hljs-keyword">self</span>, __FUNCTION__, playbackRate, <span class="hljs-keyword">self</span>.playbackRate, <span class="hljs-keyword">self</span>.realPlaybackRate, <span class="hljs-keyword">self</span>.maxPlaybackRate);
}

%end
</code></pre>
<ul>
<li>å€é€Ÿé¢æ¿é€‰æ‹©<code>2.0</code>ï¼Œä»æ—¥å¿—ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæœ€å¤§æ’­æ”¾é€Ÿåº¦<code>(maxPlaybackRate)æ”¹æˆäº†4.0</code>ï¼Œæ’­æ”¾é€Ÿåº¦(<code>changedPlaybackRate</code>)æ”¹æˆäº†<code>4.0</code>ï¼ŒğŸ‘</li>
</ul>
<pre><code class="hljs language-objc" lang="objc">cxzcxz:IJKFFMoviePlayerControllerFFPlay<span class="hljs-number">-0x136428000</span>-_logos_method$App$IJKFFMoviePlayerControllerFFPlay$setPlaybackRate$-inputPlaybackRate:<span class="hljs-number">4.000000</span>-changedPlaybackRate:<span class="hljs-number">4.000000</span>-realPlaybackRate0<span class="hljs-number">.000000</span>-maxPlaybackRate:<span class="hljs-number">4.000000</span>
</code></pre>
<h2 data-id="heading-6">éè¶Šç‹±è§£å†³æ–¹æ¡ˆ</h2>
<p>ä¿®æ”¹<code>Mach-O</code>æ–‡ä»¶çš„æ±‡ç¼–æŒ‡ä»¤</p>
<ul>
<li>ä»<code>sub_10F10449C</code>æ–¹æ³•çš„ä¼ªä»£ç å¯çŸ¥ï¼Œ<code>sub_10F10449C</code>æ–¹æ³•è¿”å›çš„å°±æ˜¯æœ€å¤§æ’­æ”¾é€Ÿåº¦</li>
</ul>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-type">double</span> __fastcall sub_10F10449C(__int64 a1)
{
  __int64 v2; <span class="hljs-comment">// x0</span>
  <span class="hljs-type">double</span> result; <span class="hljs-comment">// d0</span>
  <span class="hljs-type">double</span> v4[<span class="hljs-number">6</span>]; <span class="hljs-comment">// [xsp+0h] [xbp-40h] BYREF</span>

  v2 = sub_10F104600();
  sub_10F104B7C(v4, v2, a1);
  result = <span class="hljs-number">2.0</span>;
  <span class="hljs-keyword">if</span> ( v4[<span class="hljs-number">0</span>] &lt; <span class="hljs-number">50.0</span> )
    <span class="hljs-keyword">return</span> *(<span class="hljs-type">double</span> *)&amp;qword_117084280;
  <span class="hljs-keyword">return</span> result;
}
</code></pre>
<ul>
<li>
<p>ä¿®æ”¹<code>sub_10F10449C</code>æ–¹æ³•çš„å®ç°ï¼Œæ”¹ä¸ºç±»ä¼¼ä¸‹é¢çš„ä¼ªä»£ç </p>
<pre><code class="hljs language-objc" lang="objc"><span class="hljs-keyword">return</span> <span class="hljs-number">4.0</span>;
</code></pre>
<ul>
<li>
<p>å¯¹åº”çš„æ±‡ç¼–æŒ‡ä»¤å°±æ˜¯</p>
<pre><code class="hljs language-objc" lang="objc">FMOV            D0, #<span class="hljs-number">4.0</span>
RET
</code></pre>
</li>
</ul>
</li>
<li>
<p>æˆ‘ä»¬ä¿®æ”¹<code>sub_10F10449C</code>æ–¹æ³•çš„å‰ä¸¤æ¡æ±‡ç¼–æŒ‡ä»¤ï¼Œæ”¹ä¸ºä¸‹é¢</p>
</li>
</ul>
<pre><code class="hljs language-objc" lang="objc">FMOV            D0, #<span class="hljs-number">4.0</span>
RET
</code></pre>
<ul>
<li>
<p>ç¤ºä¾‹</p>
<p>ä¿®æ”¹ç¬¬ä¸€æ¡æ±‡ç¼–æŒ‡ä»¤</p>
<ul>
<li>
<p>é¼ æ ‡ç‚¹å‡»<code>000000010F10449C</code></p>
<pre><code class="hljs language-objc" lang="objc">__text:<span class="hljs-number">000000010</span>F10449C                 SUB             SP, SP, #<span class="hljs-number">0x50</span>
</code></pre>
</li>
<li>
<p>å³é”®é€‰æ‹©<code>Assemble</code>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/08e89803bd5042e5a0c9f06596a2a555~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766016127&amp;x-signature=yJ7SvUJM%2FRYePgJifIIOkoRI38w%3D" alt="F5144010-91BD-48E8-8E73-75223FF2C980.png" loading="lazy"/></p>
</li>
<li>
<p>æ”¹æˆ</p>
<pre><code class="hljs language-objc" lang="objc">FMOV    D0, #<span class="hljs-number">4.0</span>
</code></pre>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1b2988ba4df94c7995f517da88816b19~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766016127&amp;x-signature=i6CDpqvO5z%2FC%2BaroZUETHToGiqE%3D" alt="3428FB04-36CC-43E8-B362-89CF02D7FFC6.png" loading="lazy"/></p>
<ul>
<li>ç‚¹å‡»<code>enter</code></li>
</ul>
</li>
<li>
<p>å…¨éƒ¨ä¿®æ”¹ç»“æœ</p>
</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1d49aa2bc904d819f567d3ba5da5754~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766016127&amp;x-signature=P4YvcuCeVqSUQ8WBpscGzxQFa94%3D" alt="F808A0ED-9C78-4589-80A0-76BD2FCF1F8A.png" loading="lazy"/></p>
<ul>
<li>
<p>ä¿å­˜åˆ°<code>Mach-O</code>æ–‡ä»¶ä¸­</p>
<ul>
<li><code>IDA</code>-&gt;<code>Edit</code>-&gt;<code>Patch program</code>-&gt;<code>Apply patches to input file</code>-&gt;<code>Apply patches</code></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/36d111ae3ef84ce1962f72a71977486b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766016127&amp;x-signature=s6nCJCoLKFCQBV1JWsBwEFJo9Aw%3D" alt="542DF73E-FA15-41B7-A251-31E30F37EB38.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73cddc9a6f0844d38e1f8555abdbb8f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766016127&amp;x-signature=lBcigVZQiZ31iIJx%2B%2BTtr0SjlKE%3D" alt="0D71933B-BB78-48A6-AEA2-A12AC7261586.png" loading="lazy"/></p>
</li>
<li>
<p>ä¿å­˜åï¼Œåº•éƒ¨ä¼šæ˜¾ç¤º<code>log</code>ï¼š</p>
</li>
</ul>
<pre><code class="hljs language-objc" lang="objc">Patch successful: /Users/touchworld/Documents/iOSDisassembler/hook/bilibili/IDA_max_0/bili-universal
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8e9022d75ea44c9bbb4d9c2f5cd635ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVG91Y2hXb3JsZA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766016127&amp;x-signature=z8L7MsN9kyLw%2B9vJg%2Fq0PpoupxA%3D" alt="F1E26F23-6F74-4DEC-B1CD-1256372F5FBE.png" loading="lazy"/></p>
<h2 data-id="heading-7">ä»£ç </h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FTouchFriend%2FBiliBiliMApp%2Fblob%2Fmain%2FBiliBiliMDDylib%2FLogos%2FDetail%2FNJPlaybackRate.xm" target="_blank" title="https://github.com/TouchFriend/BiliBiliMApp/blob/main/BiliBiliMDDylib/Logos/Detail/NJPlaybackRate.xm" ref="nofollow noopener noreferrer">BiliBiliMApp-NJPlaybackRate.xm</a></p>
<h2 data-id="heading-8">ç›¸å…³é“¾æ¥</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbilibili%2Fijkplayer" target="_blank" title="https://github.com/bilibili/ijkplayer" ref="nofollow noopener noreferrer">å“”å“©å“”å“©çš„è§†é¢‘æ’­æ”¾å™¨ï¼šijkplayer</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¥å£æŠ¥ 500 äº†ï¼Œæ—¥å¿—é‡Œå´ç©ºç©ºçš„ï¼ŸFastAPI å¼‚å¸¸å¤„ç†æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7582041304655396910</link>    <guid>https://juejin.cn/post/7582041304655396910</guid>    <pubDate>2025-12-11T00:06:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582041304655396910" data-draft-id="7582041304655380526" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¥å£æŠ¥ 500 äº†ï¼Œæ—¥å¿—é‡Œå´ç©ºç©ºçš„ï¼ŸFastAPI å¼‚å¸¸å¤„ç†æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="FastAPI,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-11T00:06:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="lomocode"/> <meta itemprop="url" content="https://juejin.cn/user/2103792315926697"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¥å£æŠ¥ 500 äº†ï¼Œæ—¥å¿—é‡Œå´ç©ºç©ºçš„ï¼ŸFastAPI å¼‚å¸¸å¤„ç†æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2103792315926697/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    lomocode
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T00:06:14.000Z" title="Thu Dec 11 2025 00:06:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21b149427bae46f8909515d281cf6281~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbG9tb2NvZGU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766016373&amp;x-signature=PhQ6QaXui8B47OnHp5W2O6O0bY0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<blockquote>
<p>èŠèŠ AI åç«¯é‚£äº›äº‹å„¿ Â· ç¬¬ 2 ç¯‡ | é˜…è¯»å¤§çº¦éœ€ 10 åˆ†é’Ÿ</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">é‚£ä¸ªç¥ç§˜çš„ 500 é”™è¯¯</h2>
<p>å‘¨ä¸‰ä¸‹åˆï¼Œå‰ç«¯åŒäº‹å‘æ¥æ¶ˆæ¯ï¼š"å°ç¦¾ï¼Œç”Ÿæˆå›¾ç‰‡çš„æ¥å£æŒ‚äº†ï¼Œè¿”å› 500ã€‚"</p>
<p>å°ç¦¾æ‰“å¼€æœåŠ¡å™¨æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-number">2024-01-15 14:30:00</span> <span class="hljs-string">|</span> <span class="hljs-string">INFO</span> <span class="hljs-string">|</span> <span class="hljs-string">åº”ç”¨å¯åŠ¨å®Œæˆ</span>
<span class="hljs-number">2024-01-15 14:30:05</span> <span class="hljs-string">|</span> <span class="hljs-string">INFO</span> <span class="hljs-string">|</span> <span class="hljs-string">æ”¶åˆ°è¯·æ±‚:</span> <span class="hljs-string">POST</span> <span class="hljs-string">/api/generate</span>
<span class="hljs-string">...</span>
</code></pre>
<p>ç„¶åå°±æ²¡äº†ã€‚</p>
<p>æ²¡æœ‰é”™è¯¯ä¿¡æ¯ï¼Œæ²¡æœ‰å †æ ˆè·Ÿè¸ªï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰ã€‚</p>
<p>å°ç¦¾æœ¬åœ°è·‘äº†ä¸€éï¼Œæ­£å¸¸ã€‚</p>
<p>ä»–åˆçœ‹äº†çœ‹å‰ç«¯æ§åˆ¶å°ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">POST</span> /<span class="hljs-selector-tag">api</span>/<span class="hljs-selector-tag">generate</span> <span class="hljs-number">500</span> (Internal Server Error)
{<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">detail</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;: <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">Internal</span> <span class="hljs-selector-tag">Server</span> <span class="hljs-selector-tag">Error</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;}
</code></pre>
<p>å°±è¿™ä¹ˆä¸€è¡Œï¼Œæ²¡æœ‰ä»»ä½•æœ‰ç”¨çš„ä¿¡æ¯ã€‚</p>
<p>å°ç¦¾å¼€å§‹æ¼«é•¿çš„æ’æŸ¥ä¹‹æ—…ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">14:35 - åŠ äº†å‡ ä¸ª printï¼Œé‡æ–°éƒ¨ç½²</span>
<span class="hljs-section">14:50 - å‘ç° print æ²¡è¾“å‡ºï¼Œå¯èƒ½æ²¡èµ°åˆ°é‚£</span>
<span class="hljs-section">15:20 - åˆåŠ äº†å‡ ä¸ª printï¼Œåˆéƒ¨ç½²</span>
<span class="hljs-section">15:45 - ç»ˆäºå‘ç°æ˜¯æŸä¸ªæ·±å±‚å‡½æ•°æŠ›äº†å¼‚å¸¸</span>
<span class="hljs-section">16:00 - å®šä½åˆ°é—®é¢˜ï¼šä¸€ä¸ªå˜é‡æ˜¯ None</span>
<span class="hljs-section">16:10 - ä¿®å¤ï¼Œéƒ¨ç½²ï¼Œæµ‹è¯•é€šè¿‡</span>
</code></pre>
<p>ä¸‰ä¸ªå°æ—¶ï¼Œå°±ä¸ºäº†æ‰¾ä¸€ä¸ªç©ºæŒ‡é’ˆã€‚</p>
<p>å°ç¦¾è¶Šæƒ³è¶Šæ°”ï¼š<strong>ä¸ºä»€ä¹ˆå¼‚å¸¸æ²¡æ‰“æ—¥å¿—ï¼Ÿ</strong></p>
<p>ä»–ç¿»äº†ç¿»ä»£ç ï¼Œæ‰¾åˆ°äº†ç½ªé­ç¥¸é¦–ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">try</span>:
    result = some_function()
<span class="hljs-keyword">except</span> Exception:
    <span class="hljs-keyword">pass</span>  <span class="hljs-comment"># å°±æ˜¯è¿™è¡Œï¼</span>
</code></pre>
<p>æŸä½å‰äººå†™çš„ä»£ç ï¼Œæ•è·äº†æ‰€æœ‰å¼‚å¸¸ï¼Œç„¶åä»€ä¹ˆéƒ½ä¸åšã€‚</p>
<p>å¼‚å¸¸å°±è¿™ä¹ˆè¢«åæ‰äº†ï¼Œæ‚„æ— å£°æ¯ã€‚</p>
<hr/>
<h2 data-id="heading-1">å¼‚å¸¸å¤„ç†çš„ä¸‰ä¸ªå±‚çº§</h2>
<p>ç—›å®šæ€ç—›ï¼Œå°ç¦¾å†³å®šé‡æ„æ•´ä¸ªå¼‚å¸¸å¤„ç†ä½“ç³»ã€‚</p>
<p>ä»–ç”»äº†å¼ æ¶æ„å›¾ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TB
    A[HTTP è¯·æ±‚] --&gt; B[Layer 1: å…¨å±€å¼‚å¸¸å¤„ç†å™¨]
    B --&gt; C[Layer 2: ä¸šåŠ¡å¼‚å¸¸å¤„ç†]
    C --&gt; D[Layer 3: ç«¯ç‚¹çº§ try-except]
    D --&gt; E[ä¸šåŠ¡é€»è¾‘]

    E --&gt;|æŠ›å‡ºå¼‚å¸¸| F{å¼‚å¸¸ç±»å‹?}
    F --&gt;|ä¸šåŠ¡å¼‚å¸¸| C
    F --&gt;|æœªçŸ¥å¼‚å¸¸| B

    C --&gt; G[è¿”å›å‹å¥½é”™è¯¯æç¤º]
    B --&gt; H[è®°å½•æ—¥å¿— + è¿”å›é€šç”¨é”™è¯¯]
</code></pre>
<p>ä¸‰å±‚é˜²æŠ¤ï¼Œå„å¸å…¶èŒï¼š</p>
<ol>
<li><strong>å…¨å±€å¼‚å¸¸å¤„ç†å™¨</strong>ï¼šå…œåº•æ‰€æœ‰æœªå¤„ç†çš„å¼‚å¸¸ï¼Œè®°å½•æ—¥å¿—ï¼Œè¿”å›ç»Ÿä¸€æ ¼å¼</li>
<li><strong>ä¸šåŠ¡å¼‚å¸¸å¤„ç†</strong>ï¼šå¤„ç†å¯é¢„æœŸçš„ä¸šåŠ¡é”™è¯¯ï¼Œè¿”å›å‹å¥½æç¤º</li>
<li><strong>ç«¯ç‚¹çº§ try-except</strong>ï¼šå¤„ç†ç‰¹å®šæ¥å£çš„ç‰¹å®šå¼‚å¸¸ï¼Œåšç»†ç²’åº¦æ¢å¤</li>
</ol>
<hr/>
<h2 data-id="heading-2">å®šä¹‰ä¸šåŠ¡å¼‚å¸¸ç±»</h2>
<p>é¦–å…ˆï¼Œå®šä¹‰ä¸€å¥—ä¸šåŠ¡å¼‚å¸¸ç±»ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># app/core/exceptions.py</span>
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>, <span class="hljs-type">Any</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">AppException</span>(<span class="hljs-title class_ inherited__">Exception</span>):
    &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;åº”ç”¨å¼‚å¸¸åŸºç±»&amp;#34;&amp;#34;&amp;#34;</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">
        self,
        message: <span class="hljs-built_in">str</span>,
        code: <span class="hljs-built_in">str</span> = &amp;<span class="hljs-comment">#34;UNKNOWN_ERROR&amp;#34;,</span>
        status_code: <span class="hljs-built_in">int</span> = <span class="hljs-number">500</span>,
        details: <span class="hljs-type">Optional</span>[<span class="hljs-type">Any</span>] = <span class="hljs-literal">None</span>
    </span>):
        self.message = message
        self.code = code
        self.status_code = status_code
        self.details = details
        <span class="hljs-built_in">super</span>().__init__(message)


<span class="hljs-keyword">class</span> <span class="hljs-title class_">ValidationError</span>(<span class="hljs-title class_ inherited__">AppException</span>):
    &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;æ•°æ®éªŒè¯é”™è¯¯&amp;#34;&amp;#34;&amp;#34;</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, message: <span class="hljs-built_in">str</span>, details: <span class="hljs-type">Any</span> = <span class="hljs-literal">None</span></span>):
        <span class="hljs-built_in">super</span>().__init__(message, &amp;<span class="hljs-comment">#34;VALIDATION_ERROR&amp;#34;, 400, details)</span>


<span class="hljs-keyword">class</span> <span class="hljs-title class_">NotFoundError</span>(<span class="hljs-title class_ inherited__">AppException</span>):
    &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;èµ„æºä¸å­˜åœ¨&amp;#34;&amp;#34;&amp;#34;</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, resource: <span class="hljs-built_in">str</span>, resource_id: <span class="hljs-built_in">str</span></span>):
        <span class="hljs-built_in">super</span>().__init__(
            f&amp;<span class="hljs-comment">#34;{resource} not found: {resource_id}&amp;#34;,</span>
            &amp;<span class="hljs-comment">#34;NOT_FOUND&amp;#34;,</span>
            <span class="hljs-number">404</span>,
            {&amp;<span class="hljs-comment">#34;resource&amp;#34;: resource, &amp;#34;id&amp;#34;: resource_id}</span>
        )


<span class="hljs-keyword">class</span> <span class="hljs-title class_">GenerationError</span>(<span class="hljs-title class_ inherited__">AppException</span>):
    &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;AI ç”Ÿæˆé”™è¯¯&amp;#34;&amp;#34;&amp;#34;</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, message: <span class="hljs-built_in">str</span>, model: <span class="hljs-built_in">str</span> = <span class="hljs-literal">None</span></span>):
        <span class="hljs-built_in">super</span>().__init__(
            message,
            &amp;<span class="hljs-comment">#34;GENERATION_ERROR&amp;#34;,</span>
            <span class="hljs-number">500</span>,
            {&amp;<span class="hljs-comment">#34;model&amp;#34;: model}</span>
        )


<span class="hljs-keyword">class</span> <span class="hljs-title class_">ExternalServiceError</span>(<span class="hljs-title class_ inherited__">AppException</span>):
    &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;å¤–éƒ¨æœåŠ¡é”™è¯¯&amp;#34;&amp;#34;&amp;#34;</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, service: <span class="hljs-built_in">str</span>, message: <span class="hljs-built_in">str</span></span>):
        <span class="hljs-built_in">super</span>().__init__(
            f&amp;<span class="hljs-comment">#34;{service} error: {message}&amp;#34;,</span>
            &amp;<span class="hljs-comment">#34;EXTERNAL_SERVICE_ERROR&amp;#34;,</span>
            <span class="hljs-number">502</span>,
            {&amp;<span class="hljs-comment">#34;service&amp;#34;: service}</span>
        )
</code></pre>
<p>æœ‰äº†è¿™å¥—å¼‚å¸¸ç±»ï¼Œé”™è¯¯å°±æœ‰äº†æ˜ç¡®çš„åˆ†ç±»å’Œç»“æ„ã€‚</p>
<hr/>
<h2 data-id="heading-3">å…¨å±€å¼‚å¸¸å¤„ç†å™¨</h2>
<p>ç„¶åï¼Œåœ¨ FastAPI åº”ç”¨ä¸­æ³¨å†Œå¼‚å¸¸å¤„ç†å™¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># app/main.py</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI, Request
<span class="hljs-keyword">from</span> fastapi.responses <span class="hljs-keyword">import</span> JSONResponse
<span class="hljs-keyword">from</span> app.core.exceptions <span class="hljs-keyword">import</span> AppException
<span class="hljs-keyword">from</span> app.core.logger <span class="hljs-keyword">import</span> logger
<span class="hljs-keyword">import</span> traceback

app = FastAPI()

<span class="hljs-meta">@app.exception_handler(<span class="hljs-params">AppException</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">app_exception_handler</span>(<span class="hljs-params">request: Request, exc: AppException</span>):
    &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;å¤„ç†ä¸šåŠ¡å¼‚å¸¸&amp;#34;&amp;#34;&amp;#34;</span>

    <span class="hljs-comment"># ä¸šåŠ¡å¼‚å¸¸ç”¨ warning çº§åˆ«</span>
    logger.warning(
        f&amp;<span class="hljs-comment">#34;ä¸šåŠ¡å¼‚å¸¸ [{exc.code}]: {exc.message}&amp;#34;,</span>
        extra={
            &amp;<span class="hljs-comment">#34;path&amp;#34;: request.url.path,</span>
            &amp;<span class="hljs-comment">#34;method&amp;#34;: request.method,</span>
            &amp;<span class="hljs-comment">#34;code&amp;#34;: exc.code,</span>
            &amp;<span class="hljs-comment">#34;details&amp;#34;: exc.details</span>
        }
    )

    <span class="hljs-keyword">return</span> JSONResponse(
        status_code=exc.status_code,
        content={
            &amp;<span class="hljs-comment">#34;success&amp;#34;: False,</span>
            &amp;<span class="hljs-comment">#34;error&amp;#34;: {</span>
                &amp;<span class="hljs-comment">#34;code&amp;#34;: exc.code,</span>
                &amp;<span class="hljs-comment">#34;message&amp;#34;: exc.message,</span>
                &amp;<span class="hljs-comment">#34;details&amp;#34;: exc.details</span>
            }
        }
    )


<span class="hljs-meta">@app.exception_handler(<span class="hljs-params">Exception</span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">global_exception_handler</span>(<span class="hljs-params">request: Request, exc: Exception</span>):
    &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;å¤„ç†æ‰€æœ‰æœªæ•è·çš„å¼‚å¸¸&amp;#34;&amp;#34;&amp;#34;</span>

    <span class="hljs-comment"># æœªçŸ¥å¼‚å¸¸ç”¨ error çº§åˆ«ï¼Œè®°å½•å®Œæ•´å †æ ˆ</span>
    logger.error(
        f&amp;<span class="hljs-comment">#34;æœªå¤„ç†çš„å¼‚å¸¸: {type(exc).__name__}: {str(exc)}&amp;#34;,</span>
        extra={
            &amp;<span class="hljs-comment">#34;path&amp;#34;: request.url.path,</span>
            &amp;<span class="hljs-comment">#34;method&amp;#34;: request.method,</span>
            &amp;<span class="hljs-comment">#34;traceback&amp;#34;: traceback.format_exc()  # å®Œæ•´å †æ ˆï¼</span>
        }
    )

    <span class="hljs-comment"># ç”Ÿäº§ç¯å¢ƒä¸æš´éœ²å†…éƒ¨é”™è¯¯ç»†èŠ‚</span>
    <span class="hljs-keyword">return</span> JSONResponse(
        status_code=<span class="hljs-number">500</span>,
        content={
            &amp;<span class="hljs-comment">#34;success&amp;#34;: False,</span>
            &amp;<span class="hljs-comment">#34;error&amp;#34;: {</span>
                &amp;<span class="hljs-comment">#34;code&amp;#34;: &amp;#34;INTERNAL_ERROR&amp;#34;,</span>
                &amp;<span class="hljs-comment">#34;message&amp;#34;: &amp;#34;An internal error occurred. Please try again later.&amp;#34;</span>
            }
        }
    )
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š<code>traceback.format_exc()</code> ä¼šè®°å½•å®Œæ•´çš„å †æ ˆä¿¡æ¯ã€‚</p>
<p>æœ‰äº†è¿™ä¸ªï¼Œå†ä¹Ÿä¸ç”¨åŠ  print å»çŒœå¼‚å¸¸åœ¨å“ªäº†ã€‚</p>
<hr/>
<h2 data-id="heading-4">ç«¯ç‚¹çº§å¼‚å¸¸å¤„ç†</h2>
<p>å¯¹äºç‰¹å®šæ¥å£ï¼Œå¯ä»¥åšæ›´ç»†ç²’åº¦çš„å¤„ç†ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># app/api/endpoints/generate.py</span>
<span class="hljs-keyword">from</span> app.core.exceptions <span class="hljs-keyword">import</span> GenerationError, ValidationError

<span class="hljs-meta">@router.post(<span class="hljs-params">&amp;<span class="hljs-comment">#34;/shot-image&amp;#34;)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> generate_shot_image(<span class="hljs-params">request: GenerateShotImageRequest</span>):
    &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;ç”Ÿæˆåˆ†é•œå›¾ç‰‡&amp;#34;&amp;#34;&amp;#34;</span>

    <span class="hljs-comment"># å‚æ•°éªŒè¯</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> request.prompt.strip(<span class="hljs-params"/>):
        <span class="hljs-keyword">raise</span> ValidationError(<span class="hljs-params">&amp;<span class="hljs-comment">#34;Prompt cannot be empty&amp;#34;)</span>

    <span class="hljs-keyword">try</span>:
        adapter = ImageGenerationAdapterFactory.get_current_adapter(<span class="hljs-params"/>)
        result = <span class="hljs-keyword">await</span> adapter.generate_shot_image(<span class="hljs-params">
            prompt=request.prompt,
            width=request.width,
            height=request.height
        </span>)

        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> result.get(<span class="hljs-params">&amp;<span class="hljs-comment">#34;success&amp;#34;):</span>
            <span class="hljs-keyword">raise</span> GenerationError(<span class="hljs-params">
                result.get(<span class="hljs-params">&amp;<span class="hljs-comment">#34;error&amp;#34;, &amp;#34;Unknown generation error&amp;#34;),</span>
                model=settings.IMAGE_MODEL
            </span>)

        <span class="hljs-keyword">return</span> {&amp;<span class="hljs-comment">#34;success&amp;#34;: True, &amp;#34;data&amp;#34;: result}</span>

    <span class="hljs-keyword">except</span> GenerationError:
        <span class="hljs-keyword">raise</span>  <span class="hljs-comment"># å·²ç»æ˜¯ä¸šåŠ¡å¼‚å¸¸ï¼Œç›´æ¥æŠ›å‡º</span>

    <span class="hljs-keyword">except</span> torch.cuda.OutOfMemoryError:
        <span class="hljs-comment"># ç‰¹å®šå¼‚å¸¸è½¬æ¢ä¸ºä¸šåŠ¡å¼‚å¸¸</span>
        <span class="hljs-keyword">raise</span> GenerationError(<span class="hljs-params">&amp;<span class="hljs-comment">#34;GPU out of memory. Please try a smaller image size.&amp;#34;)</span>

    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-comment"># æœªçŸ¥å¼‚å¸¸ï¼Œè®°å½•åè½¬æ¢ä¸ºä¸šåŠ¡å¼‚å¸¸</span>
        logger.error(<span class="hljs-params">f&amp;<span class="hljs-comment">#34;Unexpected error in generate_shot_image: {e}&amp;#34;)</span>
        <span class="hljs-keyword">raise</span> GenerationError(<span class="hljs-params">f&amp;<span class="hljs-comment">#34;Generation failed: {str(e)}&amp;#34;)</span>
</span></span></span></span></span></span></span></span></code></pre>
<p>è¿™æ ·ï¼š</p>
<ul>
<li>å‚æ•°é”™è¯¯è¿”å› 400</li>
<li>æ˜¾å­˜ä¸è¶³è¿”å› 500ï¼Œä½†æœ‰å‹å¥½æç¤º</li>
<li>å…¶ä»–å¼‚å¸¸ä¹Ÿä¼šè¢«æ•è·ï¼Œä¸ä¼š"æ¶ˆå¤±"</li>
</ul>
<hr/>
<h2 data-id="heading-5">æ—¥å¿—é…ç½®</h2>
<p>å°ç¦¾é€‰ç”¨äº† loguruï¼Œæ¯”æ ‡å‡†åº“çš„ logging å¥½ç”¨å¤ªå¤šï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># app/core/logger.py</span>
<span class="hljs-keyword">from</span> loguru <span class="hljs-keyword">import</span> logger
<span class="hljs-keyword">import</span> sys

<span class="hljs-comment"># ç§»é™¤é»˜è®¤å¤„ç†å™¨</span>
logger.remove()

<span class="hljs-comment"># æ§åˆ¶å°è¾“å‡ºï¼ˆå¼€å‘ç¯å¢ƒï¼‰</span>
logger.add(
    sys.stdout,
    <span class="hljs-built_in">format</span>=&amp;<span class="hljs-comment">#34;{time:YYYY-MM-DD HH:mm:ss} | &amp;#34;</span>
           &amp;<span class="hljs-comment">#34;{level:  | &amp;#34;</span>
           &amp;<span class="hljs-comment">#34;{name}:{function}:{line} | &amp;#34;</span>
           &amp;<span class="hljs-comment">#34;{message}&amp;#34;,</span>
    level=&amp;<span class="hljs-comment">#34;DEBUG&amp;#34;</span>
)

<span class="hljs-comment"># æ–‡ä»¶è¾“å‡ºï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰</span>
logger.add(
    &amp;<span class="hljs-comment">#34;logs/app_{time:YYYY-MM-DD}.log&amp;#34;,</span>
    <span class="hljs-built_in">format</span>=&amp;<span class="hljs-comment">#34;{time:YYYY-MM-DD HH:mm:ss} | {level:  {request.method} {request.url.path}&amp;#34;)</span>

    start = time.time()

    <span class="hljs-comment"># å¤„ç†è¯·æ±‚</span>
    response = <span class="hljs-keyword">await</span> call_next(request)

    <span class="hljs-comment"># è®¡ç®—è€—æ—¶</span>
    duration = time.time() - start

    <span class="hljs-comment"># è®°å½•è¯·æ±‚å®Œæˆ</span>
    logger.info(f&amp;<span class="hljs-comment">#34;[{request_id}]  POST /api/generate/shot-image</span>
    <span class="hljs-number">2024</span>-01-<span class="hljs-number">15</span> <span class="hljs-number">14</span>:<span class="hljs-number">30</span>:<span class="hljs-number">12</span> | INFO | [a1b2c3d4]  ä¸šåŠ¡ -\&gt; ç«¯ç‚¹    |
| æ—¥å¿—è¦å®Œæ•´   | åŒ…å«å †æ ˆã€è¯·æ±‚ä¿¡æ¯           |
| é”™è¯¯ç æ ‡å‡†åŒ–  | å®šä¹‰ä¸šåŠ¡å¼‚å¸¸æšä¸¾            |
| å¼€å‘/ç”Ÿäº§åŒºåˆ† | å¼€å‘ç¯å¢ƒæš´éœ²è¯¦æƒ…            |
| è¯·æ±‚å¯è¿½è¸ª   | æ·»åŠ  request\_<span class="hljs-built_in">id</span>      |

***

<span class="hljs-comment">## å°ç¦¾çš„æ„Ÿæ‚Ÿ</span>

    é‚£ä¸‰å°æ—¶çš„æ’æŸ¥ï¼Œ
    è®©æˆ‘å­¦ä¼šä¸€ä¸ªé“ç†ï¼š

    å¼‚å¸¸ä¸ä¼šæ¶ˆå¤±ï¼Œ
    åªä¼šè¢«è—èµ·æ¥ã€‚

    <span class="hljs-keyword">except</span> <span class="hljs-keyword">pass</span> æ˜¯æ‡’æƒ°ï¼Œ
    æ˜¯ç»™æœªæ¥çš„è‡ªå·±æŒ–å‘ã€‚

    æ¯ä¸ªå¼‚å¸¸éƒ½æœ‰å®ƒçš„æ„ä¹‰ï¼Œ
    è¦ä¹ˆå¤„ç†å®ƒï¼Œ
    è¦ä¹ˆè®°å½•å®ƒï¼Œ
    è¦ä¹ˆæŠ›å‡ºå®ƒã€‚

    ä½†ç»ä¸èƒ½å¿½è§†å®ƒã€‚

    å…¨å±€å¤„ç†å™¨æ˜¯ä¿é™©ï¼Œ
    ä¸šåŠ¡å¼‚å¸¸æ˜¯åˆ†ç±»ï¼Œ
    æ—¥å¿—æ˜¯è¯æ®ã€‚

    æœ‰äº†è¿™ä¸‰æ ·ï¼Œ
    å†ä¹Ÿä¸ç”¨ä¸‰å°æ—¶æ‰¾ bug äº†ã€‚

    ä¸‹æ¬¡æœ‰äººè¯´ <span class="hljs-number">500</span>ï¼Œ
    æˆ‘åªéœ€è¦ä¸€åˆ†é’Ÿã€‚

å°ç¦¾çœ‹ç€æ¸…æ™°çš„æ—¥å¿—è¾“å‡ºï¼Œå¿ƒæƒ…å¤§å¥½ã€‚

ä¸‰å°æ—¶çš„æ•™è®­ï¼Œæ¢æ¥äº†ä¸€å¥—å®Œå–„çš„å¼‚å¸¸å¤„ç†ä½“ç³»ã€‚

å€¼äº†ã€‚

***

**ä¸‹ä¸€ç¯‡é¢„å‘Šï¼šå‰ç«¯ä¼ äº†ä¸ª nullï¼Œåç«¯ç›´æ¥ç‚¸äº†**

&gt; é˜²å¾¡æ€§ç¼–ç¨‹ï¼Œè®©ä½ çš„æ¥å£å›ºè‹¥é‡‘æ±¤ã€‚

æ•¬è¯·æœŸå¾…ã€‚
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ Spark Shell åšäº¤äº’å¼æ•°æ®åˆ†æä»å…¥é—¨åˆ°è‡ªåŒ…å«åº”ç”¨]]></title>    <link>https://juejin.cn/post/7582131164728361000</link>    <guid>https://juejin.cn/post/7582131164728361000</guid>    <pubDate>2025-12-11T02:59:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582131164728361000" data-draft-id="7582096212663402496" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ Spark Shell åšäº¤äº’å¼æ•°æ®åˆ†æä»å…¥é—¨åˆ°è‡ªåŒ…å«åº”ç”¨"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T02:59:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HelloReader"/> <meta itemprop="url" content="https://juejin.cn/user/2601910535729322"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ Spark Shell åšäº¤äº’å¼æ•°æ®åˆ†æä»å…¥é—¨åˆ°è‡ªåŒ…å«åº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2601910535729322/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HelloReader
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T02:59:50.000Z" title="Thu Dec 11 2025 02:59:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸ºä»€ä¹ˆç”¨ Spark Shellï¼Ÿ</h2>
<p>Spark Shell æ—¢æ˜¯<strong>å­¦ä¹  API çš„æœ€çŸ­è·¯å¾„</strong>ï¼Œä¹Ÿæ˜¯<strong>æ¢ç´¢æ•°æ®çš„å¼ºå¤§äº¤äº’å·¥å…·</strong>ã€‚ä½ å¯ä»¥åœ¨ Shell é‡Œåå¤å°è¯•ã€ç«‹å³éªŒè¯ï¼Œç„¶åæŠŠéªŒè¯è¿‡çš„ä»£ç æ‹·è¿›æ­£å¼ä½œä¸šæˆ–åº”ç”¨ã€‚</p>
<ul>
<li>æ”¯æŒ <strong>Scala</strong>ï¼ˆè¿è¡Œåœ¨ JVMï¼Œä¸Šæ‰‹ Java ç”Ÿæ€å¾ˆæ–¹ä¾¿ï¼‰</li>
<li>æ”¯æŒ <strong>Pythonï¼ˆPySparkï¼‰</strong>ï¼ˆè¯­æ³•ç®€æ´ã€æ•°æ®ç§‘å­¦ç”Ÿæ€å‹å¥½ï¼‰</li>
</ul>
<h2 data-id="heading-1">ç¯å¢ƒä¸å¯åŠ¨æ–¹å¼</h2>
<h3 data-id="heading-2">æ–¹å¼ Aï¼šä½¿ç”¨ Spark è‡ªå¸¦è„šæœ¬</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Python</span>
./bin/pyspark

<span class="hljs-comment"># Scala</span>
./bin/spark-shell
</code></pre>
<h3 data-id="heading-3">æ–¹å¼ Bï¼šå·²é€šè¿‡ pip å®‰è£… PySparkï¼ˆæ¨èç»™æ•°æ®ç§‘å­¦/æœ¬åœ°å¼€å‘ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">pip install pyspark
pyspark
</code></pre>
<blockquote>
<p>å°è´´å£«ï¼š</p>
<ul>
<li>
<p>æŒ‡å®š Python è§£é‡Šå™¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> PYSPARK_PYTHON=python3
</code></pre>
</li>
<li>
<p>æŒ‡å®š Spark è·¯å¾„ï¼ˆå¿…è¦æ—¶ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">export</span> SPARK_HOME=/path/to/spark
</code></pre>
</li>
</ul>
</blockquote>
<h2 data-id="heading-4">Spark çš„æ ¸å¿ƒæŠ½è±¡ï¼šDataset / DataFrame</h2>
<ul>
<li><strong>Dataset</strong>ï¼šåˆ†å¸ƒå¼å…ƒç´ é›†åˆã€‚</li>
<li>åœ¨ <strong>Python</strong> ä¸­ï¼Œç”±äºåŠ¨æ€ç±»å‹ç‰¹æ€§ï¼Œå®é™…ä½¿ç”¨çš„æ˜¯ <strong><code>Dataset[Row]</code></strong>ï¼Œé€šå¸¸ç›´æ¥ç§°ä¸º <strong>DataFrame</strong>ï¼ˆä¸ Pandas/R çš„ DataFrame æ¦‚å¿µä¸€è‡´ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-5">è¯»å–æ–‡æœ¬ä¸º DataFrame</h3>
<pre><code class="hljs language-python" lang="python">textFile = spark.read.text(&amp;<span class="hljs-comment">#34;README.md&amp;#34;)  # æ¯è¡Œä¸€æ¡è®°å½•ï¼Œåˆ—åä¸º &amp;#34;value&amp;#34;</span>
</code></pre>
<h3 data-id="heading-6">å¸¸ç”¨ action</h3>
<pre><code class="hljs language-python" lang="python">textFile.count()   <span class="hljs-comment"># è¡Œæ•°</span>
textFile.first()   <span class="hljs-comment"># Row(value='...')</span>
</code></pre>
<h3 data-id="heading-7">è¿‡æ»¤ä¸é“¾å¼è°ƒç”¨</h3>
<pre><code class="hljs language-python" lang="python">linesWithSpark = textFile.<span class="hljs-built_in">filter</span>(textFile.value.contains(&amp;<span class="hljs-comment">#34;Spark&amp;#34;))</span>
linesWithSpark.count()  <span class="hljs-comment"># ä¾‹å¦‚ 15</span>

<span class="hljs-comment"># é“¾å¼ï¼šè¿‡æ»¤åç›´æ¥è®¡æ•°</span>
textFile.<span class="hljs-built_in">filter</span>(textFile.value.contains(&amp;<span class="hljs-comment">#34;Spark&amp;#34;)).count()</span>
</code></pre>
<h2 data-id="heading-8">å¤æ‚ä¸€ç‚¹ï¼šç»Ÿè®¡â€œæ¯è¡Œæœ€å¤§è¯æ•°â€</h2>
<blockquote>
<p><strong>å…³é”®ä¿®æ­£</strong>ï¼šåœ¨ <strong>PySpark</strong> ç”¨ <code>.alias(&amp;#34;...&amp;#34;)</code>ï¼ˆè€Œé <code>.name(&amp;#34;...&amp;#34;)</code>ï¼‰ï¼Œå¹¶ä½¿ç”¨<strong>åŸå§‹å­—ç¬¦ä¸²</strong>è¡¨è¾¾æ­£åˆ™ <code>r&amp;#34;\s+&amp;#34;</code>ï¼Œé¿å…è½¬ä¹‰æ­§ä¹‰ã€‚</p>
</blockquote>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pyspark.sql <span class="hljs-keyword">import</span> functions <span class="hljs-keyword">as</span> F

result = (
    textFile
      .select(F.size(F.split(F.col(&amp;<span class="hljs-comment">#34;value&amp;#34;), r&amp;#34;\s+&amp;#34;)).alias(&amp;#34;numWords&amp;#34;))</span>
      .agg(F.<span class="hljs-built_in">max</span>(F.col(&amp;<span class="hljs-comment">#34;numWords&amp;#34;)).alias(&amp;#34;max_numWords&amp;#34;))</span>
      .collect()
)
result  <span class="hljs-comment"># [Row(max_numWords=15)]</span>
</code></pre>
<h2 data-id="heading-9">MapReduce é£æ ¼ï¼šåšä¸€æ¬¡è¯é¢‘ç»Ÿè®¡ï¼ˆWord Countï¼‰</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pyspark.sql <span class="hljs-keyword">import</span> functions <span class="hljs-keyword">as</span> F

wordCounts = (
    textFile
      .select(F.explode(F.split(F.col(&amp;<span class="hljs-comment">#34;value&amp;#34;), r&amp;#34;\s+&amp;#34;)).alias(&amp;#34;word&amp;#34;))</span>
      .where(F.col(&amp;<span class="hljs-comment">#34;word&amp;#34;) != &amp;#34;&amp;#34;)         # å¯é€‰ï¼šå‰”é™¤ç©ºå­—ç¬¦ä¸²</span>
      .groupBy(&amp;<span class="hljs-comment">#34;word&amp;#34;)</span>
      .count()
)

<span class="hljs-comment"># çœ‹çœ‹ Top 20</span>
wordCounts.orderBy(F.col(&amp;<span class="hljs-comment">#34;count&amp;#34;).desc()).show(20, truncate=False)</span>

<span class="hljs-comment"># ä¹Ÿå¯ä»¥è½åˆ°ç£ç›˜/HDFS</span>
<span class="hljs-comment"># wordCounts.write.mode(&amp;#34;overwrite&amp;#34;).csv(&amp;#34;/tmp/wordcounts&amp;#34;)</span>
</code></pre>
<h2 data-id="heading-10">ç¼“å­˜ä¸æ€§èƒ½ï¼šcache / persist</h2>
<p>å½“æ•°æ®ä¼šè¢«<strong>é‡å¤è®¿é—®</strong>ï¼ˆæ¯”å¦‚å°è€Œçƒ­çš„æ•°æ®é›†ï¼Œæˆ– PageRank è¿™ç±»è¿­ä»£ç®—æ³•ï¼‰ï¼ŒæŠŠå®ƒæ”¾è¿›<strong>é›†ç¾¤çº§å†…å­˜ç¼“å­˜</strong>ä¼šæå¤§æé«˜æ•ˆç‡ã€‚</p>
<pre><code class="hljs language-python" lang="python">linesWithSpark.cache()   <span class="hljs-comment"># é»˜è®¤ MEMORY_ONLY</span>
linesWithSpark.count()   <span class="hljs-comment"># è§¦å‘è®¡ç®—å¹¶ç‰©åŒ–ç¼“å­˜</span>
linesWithSpark.count()   <span class="hljs-comment"># å†æ¬¡è®¿é—®ä¼šæ›´å¿«</span>

<span class="hljs-comment"># æŒ‡å®šå­˜å‚¨çº§åˆ«ï¼ˆå½“æ•°æ®è¾ƒå¤§æ—¶æœ‰ç”¨ï¼‰</span>
<span class="hljs-keyword">from</span> pyspark.storagelevel <span class="hljs-keyword">import</span> StorageLevel
linesWithSpark.persist(StorageLevel.MEMORY_AND_DISK)
</code></pre>
<p>å®ç”¨è°ƒè¯•ï¼š</p>
<pre><code class="hljs language-python" lang="python">linesWithSpark.explain()              <span class="hljs-comment"># ç‰©ç†/é€»è¾‘æ‰§è¡Œè®¡åˆ’</span>
wordCounts.explain(&amp;<span class="hljs-comment">#34;formatted&amp;#34;)       # æ›´å‹å¥½çš„æ ¼å¼ï¼ˆSpark 3+ï¼‰</span>
</code></pre>
<h2 data-id="heading-11">è‡ªåŒ…å«åº”ç”¨ï¼šç”¨ PySpark ç¼–å†™å¹¶è¿è¡Œ</h2>
<p>å¦‚æœä½ åœ¨åš<strong>æ‰“åŒ…çš„ PySpark åº”ç”¨/åº“</strong>ï¼Œå¯ä»¥åœ¨ <code>setup.py</code> é‡Œå£°æ˜ä¾èµ–ï¼š</p>
<pre><code class="hljs language-python" lang="python">install_requires = [
    &amp;<span class="hljs-comment">#34;pyspark==4.0.1&amp;#34;  # æŒ‰ä½ çš„å®é™…ç‰ˆæœ¬å›ºå®š</span>
]
</code></pre>
<h3 data-id="heading-12">ç¤ºä¾‹ï¼š<code>SimpleApp.py</code></h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># SimpleApp.py</span>
<span class="hljs-keyword">from</span> pyspark.sql <span class="hljs-keyword">import</span> SparkSession
<span class="hljs-keyword">from</span> pyspark.sql <span class="hljs-keyword">import</span> functions <span class="hljs-keyword">as</span> F

<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    logFile = &amp;<span class="hljs-comment">#34;YOUR_SPARK_HOME/README.md&amp;#34;  # æ›¿æ¢ä¸ºå®é™…æ–‡ä»¶è·¯å¾„</span>
    spark = SparkSession.builder.appName(&amp;<span class="hljs-comment">#34;SimpleApp&amp;#34;).getOrCreate()</span>

    df = spark.read.text(logFile).cache()

    numAs = df.<span class="hljs-built_in">filter</span>(F.col(&amp;<span class="hljs-comment">#34;value&amp;#34;).contains(&amp;#34;a&amp;#34;)).count()</span>
    numBs = df.<span class="hljs-built_in">filter</span>(F.col(&amp;<span class="hljs-comment">#34;value&amp;#34;).contains(&amp;#34;b&amp;#34;)).count()</span>

    <span class="hljs-built_in">print</span>(&amp;<span class="hljs-comment">#34;Lines with a: %i, lines with b: %i&amp;#34; % (numAs, numBs))</span>

    spark.stop()

<span class="hljs-keyword">if</span> __name__ == &amp;<span class="hljs-comment">#34;__main__&amp;#34;:</span>
    main()
</code></pre>
<h3 data-id="heading-13">è¿è¡Œæ–¹å¼</h3>
<p><strong>é¦–é€‰ï¼š<code>spark-submit</code></strong></p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-variable">${SPARK_HOME}</span>/bin/spark-submit \
  --master &amp;<span class="hljs-comment">#34;local[4]&amp;#34; \</span>
  SimpleApp.py

<span class="hljs-comment"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-comment"># Lines with a: 46, lines with b: 23</span>
</code></pre>
<p><strong>å¦‚æœå·²ç”¨ pip å®‰è£… PySpark</strong>ï¼ˆå¯ç›´æ¥ç”¨ Python è¿è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ python SimpleApp.py
<span class="hljs-comment"># Lines with a: 46, lines with b: 23</span>
</code></pre>
<blockquote>
<p>å¼•å…¥ç¬¬ä¸‰æ–¹ä»£ç /ä¾èµ–æ—¶ï¼Œå¯ç”¨ <code>--py-files</code> ä¼ å…¥ zip åŒ…ï¼›å¼•å…¥è¿æ¥å™¨/JAR æ—¶å¯ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">spark-submit --packages groupId:artifactId:version SimpleApp.py
</code></pre>
</blockquote>
<h2 data-id="heading-14">å»å“ªé‡Œç»§ç»­æ·±å…¥ï¼Ÿ</h2>
<ul>
<li>
<p><strong>RDD ç¼–ç¨‹æŒ‡å—</strong> ä¸ <strong>Spark SQL ç¼–ç¨‹æŒ‡å—</strong>ï¼šç³»ç»Ÿç†è§£ API ä¸æœ€ä½³å®è·µ</p>
</li>
<li>
<p><strong>éƒ¨ç½²æŒ‡å—</strong>ï¼šæŠŠåº”ç”¨è·‘åœ¨çœŸå®é›†ç¾¤ï¼ˆStandalone / YARN / Kubernetesï¼‰</p>
</li>
<li>
<p><strong>examples ç›®å½•</strong> å«å¤šè¯­è¨€ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Python</span>
./bin/spark-submit examples/src/main/python/pi.py

<span class="hljs-comment"># Scala / Java</span>
./bin/run-example SparkPi

<span class="hljs-comment"># R</span>
./bin/spark-submit examples/src/main/r/dataframe.R
</code></pre>
</li>
</ul>
<h2 data-id="heading-15">å¸¸è§å‘ä¸å®æˆ˜å»ºè®®ï¼ˆå¼ºçƒˆå»ºè®®ä¸€è¯»ï¼‰</h2>
<ol>
<li><strong>PySpark åˆ«ç”¨ <code>.name(...)</code></strong> â†’ ç”¨ <code>.alias(&amp;#34;...&amp;#34;)</code>ã€‚</li>
<li><strong>æ­£åˆ™ç”¨åŸå§‹å­—ç¬¦ä¸²</strong> â†’ <code>r&amp;#34;\s+&amp;#34;</code>ï¼Œé¿å… <code>&amp;#34;\s&amp;#34;</code> è¢«å½“ä½œæ™®é€š <code>s</code>ã€‚</li>
<li><strong>è°¨æ… <code>collect()</code></strong> â†’ ä»…ç”¨äºå°ç»“æœï¼›å¤§ç»“æœç”¨ <code>show()</code>/<code>take(n)</code> æˆ–ç›´æ¥å†™å‡ºåˆ°å­˜å‚¨ã€‚</li>
<li><strong>åªç¼“å­˜â€œçƒ­æ•°æ®â€</strong> â†’ å…ˆ <code>explain()</code> çœ‹æ‰§è¡Œè®¡åˆ’ã€ç”¨ UI è§‚å¯Ÿ DAG ä¸ç¼“å­˜å‘½ä¸­ï¼Œä¸è¦â€œè§è° cache è°â€ã€‚</li>
<li><strong>è·¯å¾„è¦æ¸…æ™°</strong> â†’ æœ¬åœ°ç»å¯¹è·¯å¾„ vs HDFS/S3 URIï¼ˆ<code>hdfs://</code>ã€<code>s3a://</code>ï¼‰ã€‚</li>
<li><strong>å¹¶è¡Œåº¦ä¸åˆ†åŒº</strong> â†’ <code>repartition(n)</code> æå‡ shuffle åå¹¶è¡Œåº¦ï¼›å°ç»“æœè½ç›˜å¯ <code>coalesce(1)</code> åˆå¹¶ä¸ºå•æ–‡ä»¶ï¼ˆä»…é€‚ç”¨äºå°æ•°æ®ï¼‰ã€‚</li>
<li><strong>ç‰ˆæœ¬ç»Ÿä¸€</strong> â†’ PySpark ç‰ˆæœ¬ä¸é›†ç¾¤ Spark ç‰ˆæœ¬å°½é‡åŒ¹é…ï¼Œé¿å…åè®®/è®¡åˆ’ä¸å…¼å®¹ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨Treaæ¥å¿«é€Ÿç”Ÿæˆä¸€ä¸ªæµè§ˆå™¨æ’ä»¶]]></title>    <link>https://juejin.cn/post/7582133314686582836</link>    <guid>https://juejin.cn/post/7582133314686582836</guid>    <pubDate>2025-12-11T03:05:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582133314686582836" data-draft-id="7581999251366969396" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨Treaæ¥å¿«é€Ÿç”Ÿæˆä¸€ä¸ªæµè§ˆå™¨æ’ä»¶"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T03:05:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ›¹å«å¹³dudu"/> <meta itemprop="url" content="https://juejin.cn/user/3843548383544855"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨Treaæ¥å¿«é€Ÿç”Ÿæˆä¸€ä¸ªæµè§ˆå™¨æ’ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3843548383544855/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ›¹å«å¹³dudu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:05:26.000Z" title="Thu Dec 11 2025 03:05:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç”¨Treaæ¥å¼€å‘ä¸€ä¸ªæµè§ˆå™¨æ’ä»¶</h2>
<h3 data-id="heading-1">èƒŒæ™¯</h3>
<p>æµè§ˆç½‘é¡µçš„æ—¶å€™ï¼Œæ€»æ˜¯å¤–ç½‘çš„åŠ è½½ä¸å‡ºæ¥ï¼Œå¼„äº†æ¢¯å­ï¼Œæœ‰æ—¶å€™ç›´è¿çš„åˆåŠ è½½ä¸å‡ºæ¥ï¼Œæœ€è¿‘ZeroOmegaä¹Ÿè€æ˜¯ä¸å¥½ç”¨ï¼Œæ€»æœ‰äº›èµ„æºåŠ è½½ä¸å‡ºæ¥</p>
<h3 data-id="heading-2">Trea solo</h3>
<p>ç›´æ¥æ‰“å¼€trea,æ–°å»ºä»»åŠ¡ï¼Œè¾“å…¥æç¤ºè¯ï¼š</p>
<pre><code class="hljs language-æç¤ºè¯" lang="æç¤ºè¯">å¸®æˆ‘å¼€å‘ä¸€ä¸ªæµè§ˆå™¨æ’ä»¶ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ç®¡ç†æµè§ˆå™¨ï¼Œé»˜è®¤æµè§ˆå™¨ç›´è”ï¼Œå¦‚æœé“¾æ¥å¼‚å¸¸çš„ç½‘å€é€šè¿‡vpné“¾æ¥
</code></pre>
<p>æ‰“å¼€planå¼€å…³ï¼Œç‚¹å‡»å‘é€
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85cc61cf78394b0ca838077e19d18d6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pu55Y2r5bmzZHVkdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027126&amp;x-signature=nUirgJlCinEdrBQFxEBONRiOONc%3D" alt="image.png" loading="lazy"/>
Treaå°±å­å“§å­å“§ä¸€é¡¿è®¡åˆ’ï¼Œä¼šç”Ÿæˆä¸€ä¸ªè®¡åˆ’æ–‡æ¡£</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66e0b81b67354782833ad594df1baff8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pu55Y2r5bmzZHVkdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027126&amp;x-signature=buRGdMSzARv4PlbIPMs28MSCDyM%3D" alt="image.png" loading="lazy"/>
éå¸¸çš„ä¸“ä¸š</p>
<h3 data-id="heading-3">ç‚¹å‡»æ‰§è¡Œè®¡åˆ’</h3>
<p>å¾ˆå¿«çš„å°±ä¼šç”Ÿæˆé¡¹ç›®ï¼Œç»™é¡¹ç›®æ·»åŠ ä¸Šå¯¹åº”çš„iconå›¾ç‰‡ï¼Œå°±å¯ä»¥åœ¨æµè§ˆå™¨é‡Œæ‰“å¼€äº†</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0ed9848f9d84e05a74078d98de746c3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pu55Y2r5bmzZHVkdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027126&amp;x-signature=RGzCXMZtWCkUF6BApBMswf0EmNA%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/823205fc395c4a408791dc7cfc142902~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pu55Y2r5bmzZHVkdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027126&amp;x-signature=LcZNizW9EJbocvIb67KktmtA05g%3D" alt="image.png" loading="lazy"/>
å¹¶ä¸”å¯ä»¥æˆªå›¾è®©ä»–å¯¹å¯¹åº”çš„æœ‰é—®é¢˜çš„åœ°æ–¹è¿›è¡Œä¿®æ”¹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67e2197c77354e9faf8f4a263287baff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pu55Y2r5bmzZHVkdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027126&amp;x-signature=KlneZYzEHyCsKevTo3Szx3D08kM%3D" alt="image.png" loading="lazy"/>
æˆªå›¾æ”¹å˜æŒ‰é’®å¤§å°</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3956f9c279db481bb005197d6b930edb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pu55Y2r5bmzZHVkdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027126&amp;x-signature=fjUnh51FxB8p3%2BiJQ99r%2B2UYOFY%3D" alt="image.png" loading="lazy"/>
æ”¹å®Œåçš„æ•ˆæœ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e7194d13a724ed888bda33a01c66303~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pu55Y2r5bmzZHVkdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027126&amp;x-signature=VJ7jf9esIbyOYY3rwEsegavfzDQ%3D" alt="image.png" loading="lazy"/>
å†å¾®è°ƒå¾®è°ƒï¼Œæå®š</p>
<h3 data-id="heading-4">æ•ˆæœå±•ç¤º</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0fc970ca876e458095c47b42b6927d0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pu55Y2r5bmzZHVkdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027126&amp;x-signature=JdKsW0QNEfyjIdeU44ErF%2Fjwvm8%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fbffcd4c97d47ee8eb2928f02796862~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pu55Y2r5bmzZHVkdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027126&amp;x-signature=o4fP9JnkAfkAom1Rw7%2BxEltCr%2BA%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fd86ad5cd7b489abc2754f4f538d283~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pu55Y2r5bmzZHVkdQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766027126&amp;x-signature=pQWEH8Hq9tEpghpK6gDTlfY4PLY%3D" alt="image.png" loading="lazy"/>
ç®€å•å®ç”¨ï¼Œæ¯”è¾ƒæ»¡æ„</p>
<h3 data-id="heading-5">ä¸è¶³ä¹‹å¤„</h3>
<p>å¾ˆå¤šç½‘ç«™çš„èµ„æºéƒ½ä¸åœ¨åŒä¸€ä¸ªåŸŸåä¸‹ï¼Œéœ€è¦é…ç½®å¤šä¸ªåŸŸåï¼Œå¦‚:tiktok.comçš„å¾ˆå¤šèµ„æºåœ¨tiktokv.comè¿™ä¸ªåŸŸåä¸‹ï¼Œè¿™å°±éœ€è¦æ‰“å¼€ç½‘ç«™çš„è°ƒè¯•å·¥å…·ï¼Œæ£€æŸ¥å“ªäº›èµ„æºæ— æ³•åŠ è½½çš„ï¼ŒæŠŠç›¸åº”çš„åŸŸåæ·»åŠ åˆ°ä»£ç†åˆ—è¡¨æ‰å¯ä»¥ã€‚æƒ³è®©Trea soloæ ¹æ®æ ‡ç­¾é¡µæ¥åˆ¤æ–­æ˜¯å¦éœ€è¦ä»£ç†ï¼Œéœ€è¦ä»£ç†çš„æ•´ä¸ªæ ‡ç­¾é¡µçš„æ‰€æœ‰è¯·æ±‚éƒ½èµ°ä»£ç†ï¼Œä½†æ˜¯aiä¹Ÿæ²¡å¼„æˆã€‚æœ‰å¤§ä½¬çš„å¯ä»¥æŒ‡å¯¼æŒ‡å¯¼ã€‚</p>
<pre><code class="hljs language-background.js" lang="background.js">// æµè§ˆå™¨ä»£ç†ç®¡ç†å™¨ - èƒŒæ™¯è„šæœ¬

// åˆå§‹åŒ–å­˜å‚¨
async function initStorage() {
  const storage = await chrome.storage.local.get(['exceptionUrls', 'proxyConfig', 'isEnabled']);
  
  // è®¾ç½®é»˜è®¤å€¼
  const defaults = {
    exceptionUrls: [],
    proxyConfig: {
      host: '127.0.0.1',
      port: 1080,
      type: 'http'
    },
    isEnabled: true
  };
  
  // åˆå¹¶é»˜è®¤å€¼å’Œç°æœ‰å€¼ - åªåœ¨å€¼ä¸å­˜åœ¨æ—¶ä½¿ç”¨é»˜è®¤å€¼
  const newStorage = {
    exceptionUrls: storage.exceptionUrls !== undefined ? storage.exceptionUrls : defaults.exceptionUrls,
    proxyConfig: storage.proxyConfig || defaults.proxyConfig,
    isEnabled: storage.isEnabled !== undefined ? storage.isEnabled : defaults.isEnabled
  };
  
  // ä¿å­˜åˆ°å­˜å‚¨
  await chrome.storage.local.set(newStorage);
  
  console.log('Storage initialized:', newStorage);
  
  // æ›´æ–°è§„åˆ™
  await updateRules(newStorage.exceptionUrls);
}

// æ›´æ–°ç½‘ç»œè¯·æ±‚è§„åˆ™
async function updateRules(exceptionUrls) {
  // ä¸å†ä½¿ç”¨declarativeNetRequestï¼Œç›´æ¥æ›´æ–°PACè„šæœ¬
  await initProxySettings();
}

// é…ç½®ä»£ç†å‡½æ•°å·²ç§»é™¤ï¼Œæ”¹ä¸ºä½¿ç”¨PACè„šæœ¬å¤„ç†ä»£ç†é€»è¾‘

// ç›‘å¬å­˜å‚¨å˜åŒ–
chrome.storage.onChanged.addListener(async (changes, area) =&gt; {
  if (area === 'local') {
    if (changes.exceptionUrls) {
      await updateRules(changes.exceptionUrls.newValue);
    }
  }
});

// åˆå§‹åŒ–ä»£ç†è®¾ç½®
async function initProxySettings() {
  const storage = await chrome.storage.local.get(['isEnabled', 'exceptionUrls', 'proxyConfig']);
  
  console.log('initProxySettings called with:', storage);
  
  if (storage.isEnabled) {
    // é…ç½®ä»£ç†
    const exceptionUrls = storage.exceptionUrls || [];
    const proxyConfig = storage.proxyConfig || { host: '127.0.0.1', port: 1080, type: 'http' };
    
    console.log('Enabling proxy with config:', proxyConfig);
    console.log('Exception URLs:', exceptionUrls);
    
    // ç”ŸæˆPACè„šæœ¬
    const pacScript = `function FindProxyForURL(url, host) {
      // Browser Proxy Manager - PAC Script
      const exceptionUrls = ${JSON.stringify(exceptionUrls)};
      const proxyConfig = ${JSON.stringify(proxyConfig)};
      
      // Check if URL is in proxy list
      const isException = exceptionUrls.some(proxyUrl =&gt; {
        return host === proxyUrl || host.endsWith(&amp;#34;.&amp;#34; + proxyUrl);
      });
      
      if (isException) {
        // Use proxy
        const proxyStr = 'PROXY ' + proxyConfig.host + ':' + proxyConfig.port + '; DIRECT';
        return proxyStr;
      } else {
        // Direct connection
        return 'DIRECT';
      }
    }`;
    
    try {
      await chrome.proxy.settings.set({
        value: {
          mode: 'pac_script',
          pacScript: {
            data: pacScript
          }
        },
        scope: 'regular'
      }, () =&gt; {
        if (chrome.runtime.lastError) {
          console.error('Error setting proxy:', chrome.runtime.lastError);
        } else {
          console.log('Proxy settings updated successfully');
        }
      });
    } catch (error) {
      console.error('Error setting proxy settings:', error);
    }
  } else {
    // ç¦ç”¨ä»£ç†
    console.log('Disabling proxy');
    try {
      await chrome.proxy.settings.set({
        value: {
          mode: 'direct'
        },
        scope: 'regular'
      });
    } catch (error) {
      console.error('Error disabling proxy:', error);
    }
  }
}

// ç›‘å¬æ‰©å±•å®‰è£…æˆ–æ›´æ–°
chrome.runtime.onInstalled.addListener(async () =&gt; {
  await initStorage();
  await initProxySettings();
  // åˆå§‹åŒ–æ‰€æœ‰æ ‡ç­¾é¡µçš„å›¾æ ‡å’Œå¾½ç« é¢œè‰²
  const storage = await chrome.storage.local.get(['isEnabled']);
  await updateAllTabsIconAndColor(storage.isEnabled);
});

// ç›‘å¬æ‰©å±•å¯åŠ¨
chrome.runtime.onStartup.addListener(async () =&gt; {
  await initProxySettings();
  // åˆå§‹åŒ–æ‰€æœ‰æ ‡ç­¾é¡µçš„å›¾æ ‡å’Œå¾½ç« é¢œè‰²
  const storage = await chrome.storage.local.get(['isEnabled']);
  await updateAllTabsIconAndColor(storage.isEnabled);
});

// ç›´è¿æ¨¡å¼ä½¿ç”¨é»˜è®¤å›¾æ ‡
const greenIcon = {
  &amp;#34;16&amp;#34;: &amp;#34;icons/icon16.png&amp;#34;,
  &amp;#34;48&amp;#34;: &amp;#34;icons/icon48.png&amp;#34;,
  &amp;#34;128&amp;#34;: &amp;#34;icons/icon128.png&amp;#34;
};

// ä»£ç†æ¨¡å¼ä½¿ç”¨é»˜è®¤å›¾æ ‡
const redIcon = {
  &amp;#34;16&amp;#34;: &amp;#34;icons/icon16.png&amp;#34;,
  &amp;#34;48&amp;#34;: &amp;#34;icons/icon48.png&amp;#34;,
  &amp;#34;128&amp;#34;: &amp;#34;icons/icon128.png&amp;#34;
};

// æ ¹æ®è¿æ¥çŠ¶æ€æ›´æ–°æ ‡ç­¾é¡µå›¾æ ‡
async function updateTabIcon(tabId, url) {
  // è·å–è®¾ç½®
  const storage = await chrome.storage.local.get(['exceptionUrls', 'isEnabled']);
  
  // å¦‚æœæ‰©å±•æœªå¯ç”¨ï¼Œæ˜¾ç¤ºé»˜è®¤å›¾æ ‡å’Œç¦ç”¨çŠ¶æ€
  if (!storage.isEnabled) {
    chrome.action.setBadgeText({ text: 'DISABLED', tabId: tabId });
    chrome.action.setBadgeBackgroundColor({ color: '#6c757d', tabId: tabId });
    return;
  }
  
  try {
    const urlObj = new URL(url);
    const hostname = urlObj.hostname;
    
    const isException = storage.exceptionUrls.some(proxyUrl =&gt; {
      return hostname === proxyUrl || hostname.endsWith(&amp;#34;.&amp;#34; + proxyUrl);
    });
    
    // æ›´æ–°å¾½ç« æ–‡æœ¬å’Œé¢œè‰²
    if (isException) {
      // ä»£ç†æ¨¡å¼ - æ˜¾ç¤ºVPNå¾½ç« å’Œçº¢è‰²èƒŒæ™¯
      chrome.action.setBadgeText({ text: 'VPN', tabId: tabId });
      chrome.action.setBadgeBackgroundColor({ color: '#dc3545', tabId: tabId });
    } else {
      // ç›´è¿æ¨¡å¼ - æ˜¾ç¤ºDIRECTå¾½ç« å’Œç»¿è‰²èƒŒæ™¯
      chrome.action.setBadgeText({ text: 'DIR', tabId: tabId });
      chrome.action.setBadgeBackgroundColor({ color: '#3fc944', tabId: tabId });
    }
  } catch (error) {
    // å¯¹äºæ— æ³•è§£æçš„URLï¼Œæ˜¾ç¤ºç›´è¿çŠ¶æ€
    chrome.action.setBadgeText({ text: 'DIR', tabId: tabId });
    chrome.action.setBadgeBackgroundColor({ color: '#3fc944', tabId: tabId });
  }
}

// ç›‘å¬æ ‡ç­¾é¡µæ›´æ–°
chrome.tabs.onUpdated.addListener(async (tabId, changeInfo, tab) =&gt; {
  if (changeInfo.status === 'complete' &amp;&amp; tab.url) {
    // æ›´æ–°æ ‡ç­¾é¡µå›¾æ ‡
    await updateTabIcon(tabId, tab.url);
  }
});

// ç›‘å¬æ ‡ç­¾é¡µåˆ‡æ¢
chrome.tabs.onActivated.addListener(async (activeInfo) =&gt; {
  const tab = await new Promise(resolve =&gt; chrome.tabs.get(activeInfo.tabId, resolve));
  if (tab.url) {
    // æ›´æ–°æ¿€æ´»æ ‡ç­¾é¡µçš„å›¾æ ‡
    await updateTabIcon(activeInfo.tabId, tab.url);
  }
});

// æ›´æ–°æ‰€æœ‰æ ‡ç­¾é¡µçš„å›¾æ ‡å’Œå¾½ç« é¢œè‰²
async function updateAllTabsIconAndColor(isEnabled) {
  const tabs = await new Promise(resolve =&gt; chrome.tabs.query({}, resolve));
  
  for (const tab of tabs) {
    if (tab.url) {
      await updateTabIcon(tab.id, tab.url);
    }
  }
}

// åˆå§‹åŒ–
initStorage();

// æ›´æ–°æ‰€æœ‰æ ‡ç­¾é¡µçš„å¾½ç« é¢œè‰²
async function updateAllTabsBadgeColor(isEnabled) {
  const tabs = await new Promise(resolve =&gt; chrome.tabs.query({}, resolve));
  
  if (!isEnabled) {
    // æ’ä»¶è¢«ç¦ç”¨æ—¶ï¼Œå°†æ‰€æœ‰æ ‡ç­¾é¡µçš„å¾½ç« èƒŒæ™¯è‰²è®¾ä¸ºç°è‰²
    tabs.forEach(tab =&gt; {
      chrome.action.setBadgeBackgroundColor({ color: '#808080', tabId: tab.id });
    });
  } else {
    // æ’ä»¶å¯ç”¨æ—¶ï¼Œæ ¹æ®æ¯ä¸ªæ ‡ç­¾é¡µçš„è¿æ¥çŠ¶æ€è®¾ç½®é¢œè‰²
    const storage = await chrome.storage.local.get(['exceptionUrls']);
    
    tabs.forEach(tab =&gt; {
      if (tab.url) {
        try {
          const url = new URL(tab.url);
          const hostname = url.hostname;
          
          const isException = storage.exceptionUrls.some(proxyUrl =&gt; {
            return hostname === proxyUrl || hostname.endsWith(&amp;#34;.&amp;#34; + proxyUrl);
          });
          
          if (isException) {
            // ä»£ç†æ¨¡å¼ä¸‹è®¾ç½®ä¸ºçº¢è‰²
            chrome.action.setBadgeBackgroundColor({ color: '#FF0000', tabId: tab.id });
          } else {
            // ç›´è¿æ¨¡å¼ä¸‹è®¾ç½®ä¸ºç»¿è‰²
            chrome.action.setBadgeBackgroundColor({ color: '#00FF00', tabId: tab.id });
          }
        } catch (e) {
          // å¯¹äºæ— æ³•è§£æçš„URLï¼Œè®¾ç½®ä¸ºé»˜è®¤é¢œè‰²
          chrome.action.setBadgeBackgroundColor({ color: '#00FF00', tabId: tab.id });
        }
      }
    });
  }
}

// ç›‘å¬æ¶ˆæ¯
chrome.runtime.onMessage.addListener((message, sender, sendResponse) =&gt; {
  switch (message.action) {
    case 'getSettings':
      // è·å–è®¾ç½®
      chrome.storage.local.get(['exceptionUrls', 'proxyConfig', 'isEnabled'], (result) =&gt; {
        sendResponse(result);
      });
      return true;
    
    case 'saveSettings':
      // ä¿å­˜è®¾ç½®
      chrome.storage.local.set(message.data, async () =&gt; {
        const proxyUrls = message.data.exceptionUrls || [];
        console.log('Settings saved:', message.data);
        console.log('Proxy URLs:', proxyUrls);
        await updateRules(proxyUrls);
        await initProxySettings();
        // æ›´æ–°æ‰€æœ‰æ ‡ç­¾é¡µçš„å›¾æ ‡
        await updateAllTabsIconAndColor(message.data.isEnabled !== false);
        sendResponse({ success: true });
      });
      return true;
    
    case 'toggleEnabled':
      // åˆ‡æ¢å¯ç”¨çŠ¶æ€
      chrome.storage.local.get('isEnabled', async (result) =&gt; {
        const newEnabled = !result.isEnabled;
        await chrome.storage.local.set({ isEnabled: newEnabled });
        await initProxySettings();
        // æ›´æ–°æ‰€æœ‰æ ‡ç­¾é¡µçš„å›¾æ ‡å’Œå¾½ç« é¢œè‰²
        await updateAllTabsIconAndColor(newEnabled);
        sendResponse({ isEnabled: newEnabled });
      });
      return true;
    
    default:
      sendResponse({ error: 'Unknown action' });
      return true;
  }
});

</code></pre>
<h2 data-id="heading-6">ç»“æŸè¯­</h2>
<p>ç°åœ¨æœ‰äº†treaçœŸçš„å¤ªæ–¹ä¾¿äº†ï¼Œåšä¸€ä¸ªæµè§ˆå™¨å°æ’ä»¶2ä¸ªå°æ—¶ä¸åˆ°å°±åšå‡ºæ¥äº†ï¼ŒçœŸçš„æ˜¯å¤§å¤§èŠ‚çœäº†æˆ‘ä»¬å¼€å‘å·¥ä½œé‡ï¼Œå¿…é¡»ç‚¹èµã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Onlyoffice Documentserver Docker å®¹å™¨åŒ–éƒ¨ç½²æŒ‡å—]]></title>    <link>https://juejin.cn/post/7582104240987357210</link>    <guid>https://juejin.cn/post/7582104240987357210</guid>    <pubDate>2025-12-11T01:46:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582104240987357210" data-draft-id="7582136489769779210" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Onlyoffice Documentserver Docker å®¹å™¨åŒ–éƒ¨ç½²æŒ‡å—"/> <meta itemprop="keywords" content="å¼€æº,Docker"/> <meta itemprop="datePublished" content="2025-12-11T01:46:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜è€èµµ"/> <meta itemprop="url" content="https://juejin.cn/user/3208848015890347"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Onlyoffice Documentserver Docker å®¹å™¨åŒ–éƒ¨ç½²æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3208848015890347/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜è€èµµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T01:46:21.000Z" title="Thu Dec 11 2025 01:46:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¦‚è¿°</h2>
<p>DOCUMENTSERVERï¼ˆé•œåƒåç§°ï¼šonlyoffice/documentserverï¼‰æ˜¯ä¸€æ¬¾åŠŸèƒ½ä¸°å¯Œçš„å®¹å™¨åŒ–åœ¨çº¿åŠå…¬å¥—ä»¶ï¼Œæä¾›æ–‡æœ¬ã€ç”µå­è¡¨æ ¼å’Œæ¼”ç¤ºæ–‡ç¨¿çš„æŸ¥çœ‹ä¸ç¼–è¾‘åŠŸèƒ½ï¼Œå®Œå…¨å…¼å®¹Office Open XMLæ ¼å¼ï¼ˆ.docxã€.xlsxã€.pptxï¼‰ï¼Œå¹¶æ”¯æŒå®æ—¶åä½œç¼–è¾‘ã€‚ä½œä¸ºONLYOFFICEç”Ÿæ€ç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼ŒDOCUMENTSERVERå¯ç‹¬ç«‹éƒ¨ç½²æˆ–ä¸Community Serverã€Mail Serveré›†æˆï¼Œå®ç°æ–‡æ¡£å­˜å‚¨ã€å…±äº«ã€æƒé™ç®¡ç†ç­‰æ‰©å±•åŠŸèƒ½ã€‚</p>
<p>é€šè¿‡Dockerå®¹å™¨åŒ–éƒ¨ç½²DOCUMENTSERVERï¼Œèƒ½å¤Ÿæ˜¾è‘—ç®€åŒ–å®‰è£…æµç¨‹ã€ç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§ï¼Œå¹¶ä¾¿äºç‰ˆæœ¬ç®¡ç†å’Œå‡çº§ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»DOCUMENTSERVERçš„Dockeréƒ¨ç½²æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ç¯å¢ƒå‡†å¤‡ã€é•œåƒæ‹‰å–ã€å®¹å™¨é…ç½®ã€åŠŸèƒ½æµ‹è¯•åŠç”Ÿäº§ç¯å¢ƒä¼˜åŒ–å»ºè®®ã€‚</p>
<h2 data-id="heading-1">ç¯å¢ƒå‡†å¤‡</h2>
<h3 data-id="heading-2">Dockerç¯å¢ƒå®‰è£…</h3>
<p>DOCUMENTSERVERåŸºäºDockerå®¹å™¨è¿è¡Œï¼Œéœ€å…ˆç¡®ä¿æœåŠ¡å™¨å·²å®‰è£…Dockerç¯å¢ƒã€‚æ¨èä½¿ç”¨ä»¥ä¸‹ä¸€é”®å®‰è£…è„šæœ¬å¿«é€Ÿéƒ¨ç½²æœ€æ–°ç‰ˆDockerï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">bash</span> &lt;(wget -qO- <span class="hljs-attribute">https</span>:<span class="hljs-comment">//xuanyuan.cloud/docker.sh)</span>
</code></pre>
<p>è„šæœ¬æ‰§è¡Œå®Œæˆåï¼Œå¯é€šè¿‡<code>docker --version</code>å‘½ä»¤éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸï¼Œå»ºè®®ä½¿ç”¨Docker 1.9.0æˆ–æ›´é«˜ç‰ˆæœ¬ä»¥è·å¾—æœ€ä½³å…¼å®¹æ€§ã€‚</p>
<h2 data-id="heading-3">é•œåƒå‡†å¤‡</h2>
<h3 data-id="heading-4">æ‹‰å–DOCUMENTSERVERé•œåƒ</h3>
<p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤é€šè¿‡è½©è¾•é•œåƒåŠ é€Ÿåœ°å€æ‹‰å–æœ€æ–°ç‰ˆæœ¬çš„DOCUMENTSERVERé•œåƒï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">docker pull xxx.xuanyuan.run/onlyoffice/documentserver:latest
</code></pre>
<p>æ‹‰å–å®Œæˆåï¼Œå¯é€šè¿‡<code>docker images</code>å‘½ä»¤éªŒè¯é•œåƒæ˜¯å¦æˆåŠŸä¸‹è½½ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker images | grep onlyoffice/documentserver
</code></pre>
<p>è‹¥è¾“å‡ºç±»ä¼¼ä»¥ä¸‹ä¿¡æ¯ï¼Œè¯´æ˜é•œåƒæ‹‰å–æˆåŠŸï¼š</p>
<pre><code class="hljs language-xml" lang="xml">xxx.xuanyuan.run/onlyoffice/documentserver   latest    <span class="hljs-tag">&lt;<span class="hljs-name">é•œåƒID</span>&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">åˆ›å»ºæ—¶é—´</span>&gt;</span>   <span class="hljs-tag">&lt;<span class="hljs-name">å¤§å°</span>&gt;</span>
</code></pre>
<h2 data-id="heading-5">å®¹å™¨éƒ¨ç½²</h2>
<h3 data-id="heading-6">åŸºç¡€éƒ¨ç½²</h3>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨åŸºç¡€ç‰ˆDOCUMENTSERVERå®¹å™¨ï¼Œæ˜ å°„å®¹å™¨80ç«¯å£è‡³ä¸»æœº80ç«¯å£ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">docker run -d \  --name documentserver \  -p <span class="hljs-number">80</span>:<span class="hljs-number">80</span> \  xxx.xuanyuan.run/onlyoffice/documentserver:latest
</code></pre>
<ul>
<li>â€¢ <code>-d</code>ï¼šåå°è¿è¡Œå®¹å™¨</li>
<li>â€¢ <code>--name documentserver</code>ï¼šæŒ‡å®šå®¹å™¨åç§°ä¸ºdocumentserverï¼Œä¾¿äºåç»­ç®¡ç†</li>
<li>â€¢ <code>-p 80:80</code>ï¼šå°†ä¸»æœº80ç«¯å£æ˜ å°„è‡³å®¹å™¨80ç«¯å£ï¼ˆå®¹å™¨å†…WebæœåŠ¡é»˜è®¤ç«¯å£ï¼‰</li>
</ul>
<h3 data-id="heading-7">æ•°æ®æŒä¹…åŒ–éƒ¨ç½²</h3>
<p>ä¸ºé¿å…å®¹å™¨é‡å¯æˆ–å‡çº§å¯¼è‡´æ•°æ®ä¸¢å¤±ï¼Œå»ºè®®æŒ‚è½½ä¸»æœºç›®å½•è‡³å®¹å™¨æ•°æ®å·ï¼ŒæŒä¹…åŒ–å­˜å‚¨æ—¥å¿—å’Œè¯ä¹¦ç­‰å…³é”®æ•°æ®ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"> # </span><span class="bash">åˆ›å»ºæœ¬åœ°æ•°æ®ç›®å½•<span class="hljs-built_in">mkdir</span> -p /app/onlyoffice/DocumentServer/logs /app/onlyoffice/DocumentServer/data<span class="hljs-comment"># å¯åŠ¨å®¹å™¨å¹¶æŒ‚è½½æ•°æ®å·docker run -d \  --name documentserver \  -p 80:80 \  -v /app/onlyoffice/DocumentServer/logs:/var/log/onlyoffice \  -v /app/onlyoffice/DocumentServer/data:/var/www/onlyoffice/Data \  xxx.xuanyuan.run/onlyoffice/documentserver:latest</span></span>
</code></pre>
<ul>
<li>â€¢ <code>/var/log/onlyoffice</code>ï¼šå®¹å™¨å†…DOCUMENTSERVERæ—¥å¿—å­˜å‚¨è·¯å¾„</li>
<li>â€¢ <code>/var/www/onlyoffice/Data</code>ï¼šå®¹å™¨å†…è¯ä¹¦åŠé…ç½®æ•°æ®å­˜å‚¨è·¯å¾„</li>
</ul>
<h3 data-id="heading-8">è‡ªå®šä¹‰ç«¯å£éƒ¨ç½²</h3>
<p>è‹¥ä¸»æœº80ç«¯å£å·²è¢«å ç”¨ï¼Œå¯é€šè¿‡<code>-p</code>å‚æ•°æŒ‡å®šè‡ªå®šä¹‰ç«¯å£ï¼Œä¾‹å¦‚ä½¿ç”¨8080ç«¯å£å¯¹å¤–æä¾›æœåŠ¡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker run -d \  --name documentserver \  -p 8080:80 \  -v /app/onlyoffice/DocumentServer/logs:/var/log/onlyoffice \  -v /app/onlyoffice/DocumentServer/data:/var/www/onlyoffice/Data \  xxx.xuanyuan.run/onlyoffice/documentserver:latest
</code></pre>
<h3 data-id="heading-9">HTTPSå®‰å…¨éƒ¨ç½²</h3>
<p>ä¸ºæå‡æœåŠ¡å®‰å…¨æ€§ï¼Œå»ºè®®é…ç½®HTTPSåŠ å¯†è®¿é—®ã€‚éœ€å…ˆå‡†å¤‡SSLè¯ä¹¦ï¼ˆCAç­¾å‘æˆ–è‡ªç­¾åï¼‰ï¼Œç„¶åé€šè¿‡æ•°æ®å·æŒ‚è½½è¯ä¹¦æ–‡ä»¶å¹¶æ˜ å°„443ç«¯å£ï¼š</p>
<h4 data-id="heading-10">1. ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼ˆè‹¥æ— å¯ä¿¡ä»»CAè¯ä¹¦ï¼‰</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"># åˆ›å»ºè¯ä¹¦ç›®å½•mkdir -p /app/onlyoffice/DocumentServer/<span class="hljs-keyword">data</span>/certs# ç”Ÿæˆç§é’¥openssl genrsa -<span class="hljs-keyword">out</span> /app/onlyoffice/DocumentServer/<span class="hljs-keyword">data</span>/certs/onlyoffice.key <span class="hljs-number">2048</span># ç”Ÿæˆè¯ä¹¦ç­¾åè¯·æ±‚ï¼ˆCSRï¼‰openssl req -new -key /app/onlyoffice/DocumentServer/<span class="hljs-keyword">data</span>/certs/onlyoffice.key -<span class="hljs-keyword">out</span> /app/onlyoffice/DocumentServer/<span class="hljs-keyword">data</span>/certs/onlyoffice.csr# ç”Ÿæˆè‡ªç­¾åè¯ä¹¦ï¼ˆæœ‰æ•ˆæœŸ<span class="hljs-number">365</span>å¤©ï¼‰openssl x509 -req -days <span class="hljs-number">365</span> -<span class="hljs-keyword">in</span> /app/onlyoffice/DocumentServer/<span class="hljs-keyword">data</span>/certs/onlyoffice.csr -signkey /app/onlyoffice/DocumentServer/<span class="hljs-keyword">data</span>/certs/onlyoffice.key -<span class="hljs-keyword">out</span> /app/onlyoffice/DocumentServer/<span class="hljs-keyword">data</span>/certs/onlyoffice.crt# ç”ŸæˆDHå‚æ•°ï¼ˆå¢å¼ºå®‰å…¨æ€§ï¼‰openssl dhparam -<span class="hljs-keyword">out</span> /app/onlyoffice/DocumentServer/<span class="hljs-keyword">data</span>/certs/dhparam.pem <span class="hljs-number">2048</span># è®¾ç½®è¯ä¹¦æƒé™ï¼ˆä»…æ‰€æœ‰è€…å¯è¯»ï¼‰chmod <span class="hljs-number">400</span> /app/onlyoffice/DocumentServer/<span class="hljs-keyword">data</span>/certs/onlyoffice.key
</code></pre>
<h4 data-id="heading-11">2. å¯åŠ¨HTTPSæœåŠ¡</h4>
<pre><code class="hljs language-bash" lang="bash"> docker run -d \  --name documentserver \  -p 443:443 \  -v /app/onlyoffice/DocumentServer/logs:/var/log/onlyoffice \  -v /app/onlyoffice/DocumentServer/data:/var/www/onlyoffice/Data \  xxx.xuanyuan.run/onlyoffice/documentserver:latest
</code></pre>
<h3 data-id="heading-12">é›†æˆç¤¾åŒºç‰ˆéƒ¨ç½²ï¼ˆå«Community Serverå’ŒMail Serverï¼‰</h3>
<p>DOCUMENTSERVERå¯ä¸ONLYOFFICE Community Serverã€Mail Serverç»„æˆå®Œæ•´ç¤¾åŒºç‰ˆå¥—ä»¶ï¼Œæä¾›æ–‡æ¡£ç®¡ç†ã€é‚®ä»¶æœåŠ¡ç­‰ç»¼åˆåŠŸèƒ½ã€‚éƒ¨ç½²æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<h4 data-id="heading-13">1. åˆ›å»ºä¸“ç”¨ç½‘ç»œ</h4>
<pre><code class="hljs language-lua" lang="lua">docker network <span class="hljs-built_in">create</span> <span class="hljs-comment">--driver bridge onlyoffice</span>
</code></pre>
<h4 data-id="heading-14">2. éƒ¨ç½²DOCUMENTSERVER</h4>
<pre><code class="hljs language-ini" lang="ini">docker run -d \  --net onlyoffice \  --name onlyoffice-document-server \  <span class="hljs-attr">--restart</span>=always \  -v /app/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/DocumentServer/logs:/var/log/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice \  -v /app/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/DocumentServer/data:/var/www/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/Data \  xxx.xuanyuan.run/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/documentserver:latest
</code></pre>
<h4 data-id="heading-15">3. éƒ¨ç½²Mail Serverï¼ˆæ›¿æ¢yourdomain.comä¸ºå®é™…åŸŸåï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">docker run -d \  --net onlyoffice \  --name onlyoffice-mail-server \  --restart=always \  --privileged \  -p 25:25 -p 143:143 -p 587:587 \  -v /app/onlyoffice/MailServer/data:/var/vmail \  -v /app/onlyoffice/MailServer/data/certs:/etc/pki/tls/mailserver \  -v /app/onlyoffice/MailServer/logs:/var/log \  -v /app/onlyoffice/MailServer/mysql:/var/lib/mysql \  -h yourdomain.com \  onlyoffice/mailserver
</code></pre>
<h4 data-id="heading-16">4. éƒ¨ç½²Community Server</h4>
<pre><code class="hljs language-ini" lang="ini">docker run -d \  --net onlyoffice \  --name onlyoffice-community-server \  <span class="hljs-attr">--restart</span>=always \  -p <span class="hljs-number">80</span>:<span class="hljs-number">80</span> -p <span class="hljs-number">443</span>:<span class="hljs-number">443</span> -p <span class="hljs-number">5222</span>:<span class="hljs-number">5222</span> \  -v /app/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/CommunityServer/data:/var/www/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/Data \  -v /app/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/CommunityServer/mysql:/var/lib/mysql \  -v /app/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/CommunityServer/logs:/var/log/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice \  -v /app/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/DocumentServer/data:/var/www/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/DocumentServerData \  -e DOCUMENT_SERVER_PORT_80_TCP_ADDR=<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice-document-server \  -e MAIL_SERVER_DB_HOST=<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice-mail-server \  <span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/communityserver
</code></pre>
<h2 data-id="heading-17">åŠŸèƒ½æµ‹è¯•</h2>
<h3 data-id="heading-18">æœåŠ¡å¯ç”¨æ€§æµ‹è¯•</h3>
<p>å®¹å™¨å¯åŠ¨åï¼Œç­‰å¾…çº¦1-2åˆ†é’Ÿï¼ˆé¦–æ¬¡å¯åŠ¨éœ€åˆå§‹åŒ–æœåŠ¡ï¼‰ï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š</p>
<h4 data-id="heading-19">1. è®¿é—®Webç•Œé¢</h4>
<p>åœ¨æµè§ˆå™¨ä¸­è®¿é—®<code>http://&lt;æœåŠ¡å™¨IP&gt;</code>ï¼ˆåŸºç¡€éƒ¨ç½²ï¼‰æˆ–<code>https://&lt;æœåŠ¡å™¨IP&gt;</code>ï¼ˆHTTPSéƒ¨ç½²ï¼‰ï¼Œè‹¥èƒ½çœ‹åˆ°DOCUMENTSERVERæ¬¢è¿é¡µé¢æˆ–ç¼–è¾‘å™¨ç•Œé¢ï¼Œè¯´æ˜WebæœåŠ¡æ­£å¸¸ã€‚</p>
<h4 data-id="heading-20">2. å‘½ä»¤è¡Œè®¿é—®æµ‹è¯•</h4>
<p>ä½¿ç”¨<code>curl</code>å‘½ä»¤æµ‹è¯•æœåŠ¡å“åº”ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">curl -I http:<span class="hljs-comment">//&lt;æœåŠ¡å™¨IP&gt;</span>
</code></pre>
<p>è‹¥è¿”å›<code>200 OK</code>çŠ¶æ€ç ï¼Œè¯´æ˜æœåŠ¡æ­£å¸¸å“åº”ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OKServer: nginxDate: &lt;å½“å‰æ—¶é—´&gt;Content-Type: text/html; charset=utf<span class="hljs-number">-8.</span>..
</code></pre>
<h3 data-id="heading-21">æ—¥å¿—éªŒè¯</h3>
<p>é€šè¿‡å®¹å™¨æ—¥å¿—ç¡®è®¤æœåŠ¡å¯åŠ¨çŠ¶æ€ï¼š</p>
<pre><code class="hljs">docker logs documentserver
</code></pre>
<p>è‹¥æ—¥å¿—ä¸­å‡ºç°ç±»ä¼¼ä»¥ä¸‹ä¿¡æ¯ï¼Œè¯´æ˜æœåŠ¡åˆå§‹åŒ–å®Œæˆå¹¶æ­£å¸¸è¿è¡Œï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">onlyoffice-documentserver: started</span>
</code></pre>
<h3 data-id="heading-22">æ–‡æ¡£ç¼–è¾‘æµ‹è¯•</h3>
<p>åœ¨Webç•Œé¢ä¸­åˆ›å»ºæˆ–ä¸Šä¼ æµ‹è¯•æ–‡æ¡£ï¼ˆå¦‚.docxã€.xlsxæ–‡ä»¶ï¼‰ï¼Œå°è¯•è¿›è¡Œç¼–è¾‘ã€ä¿å­˜æ“ä½œï¼ŒéªŒè¯æ–‡æ¡£å¤„ç†åŠŸèƒ½æ˜¯å¦æ­£å¸¸ã€‚</p>
<h2 data-id="heading-23">ç”Ÿäº§ç¯å¢ƒå»ºè®®</h2>
<h3 data-id="heading-24">ç³»ç»Ÿèµ„æºé…ç½®</h3>
<p>æ ¹æ®å®˜æ–¹æ¨èï¼Œç”Ÿäº§ç¯å¢ƒæœåŠ¡å™¨åº”æ»¡è¶³ä»¥ä¸‹æœ€ä½é…ç½®ï¼š</p>
<ul>
<li>â€¢ <strong>RAM</strong>ï¼š4 GBæˆ–æ›´é«˜ï¼ˆå¤šç”¨æˆ·å¹¶å‘ç¼–è¾‘æ—¶å»ºè®®8 GBä»¥ä¸Šï¼‰</li>
<li>â€¢ <strong>CPU</strong>ï¼šåŒæ ¸2 GHzæˆ–æ›´é«˜å¤„ç†å™¨ï¼ˆå¤šç”¨æˆ·åœºæ™¯å»ºè®®4æ ¸åŠä»¥ä¸Šï¼‰</li>
<li>â€¢ <strong>Swap</strong>ï¼šè‡³å°‘2 GBï¼ˆé¿å…å†…å­˜ä¸è¶³å¯¼è‡´æœåŠ¡å¼‚å¸¸ï¼‰</li>
<li>â€¢ <strong>HDD</strong>ï¼šè‡³å°‘2 GBç©ºé—²ç©ºé—´ï¼ˆæ ¹æ®æ–‡æ¡£å­˜å‚¨éœ€æ±‚å¢åŠ ï¼‰</li>
<li>â€¢ <strong>æ“ä½œç³»ç»Ÿ</strong>ï¼š64ä½Linuxå‘è¡Œç‰ˆï¼ˆå¦‚Ubuntuã€Debianã€CentOSï¼‰ï¼Œå†…æ ¸ç‰ˆæœ¬3.8åŠä»¥ä¸Š</li>
</ul>
<h3 data-id="heading-25">å®‰å…¨åŠ å›º</h3>
<ol>
<li>1. <strong>å¯ç”¨HTTPS</strong>ï¼šç”Ÿäº§ç¯å¢ƒå¿…é¡»é…ç½®SSL/TLSåŠ å¯†ï¼Œé¿å…æ˜æ–‡ä¼ è¾“æ•æ„Ÿæ•°æ®</li>
<li>2. <strong>æƒé™æ§åˆ¶</strong>ï¼šé™åˆ¶ä¸»æœºæŒ‚è½½ç›®å½•æƒé™ï¼Œä¾‹å¦‚è®¾ç½®<code>/app/onlyoffice</code>ç›®å½•æƒé™ä¸º<code>700</code></li>
<li>3. <strong>é˜²ç«å¢™é…ç½®</strong>ï¼šä»…å¼€æ”¾å¿…è¦ç«¯å£ï¼ˆå¦‚80/443ï¼‰ï¼Œé€šè¿‡<code>ufw</code>æˆ–<code>iptables</code>é™åˆ¶è®¿é—®æ¥æº</li>
<li>4. <strong>å®šæœŸæ›´æ–°</strong>ï¼šå…³æ³¨ è½©è¾•é•œåƒæ ‡ç­¾åˆ—è¡¨ <code>https://xuanyuan.cloud/r/onlyoffice/documentserver/tags</code> ï¼ŒåŠæ—¶æ›´æ–°é•œåƒä»¥ä¿®å¤å®‰å…¨æ¼æ´</li>
</ol>
<h3 data-id="heading-26">æ€§èƒ½ä¼˜åŒ–</h3>
<ol>
<li>
<p>1. <strong>èµ„æºé™åˆ¶</strong>ï¼šä½¿ç”¨<code>--memory</code>å’Œ<code>--cpus</code>å‚æ•°é™åˆ¶å®¹å™¨èµ„æºå ç”¨ï¼Œé¿å…å½±å“å…¶ä»–æœåŠ¡ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">docker run -d \  --name documentserver \  <span class="hljs-attr">--memory</span>=<span class="hljs-number">4</span>g \  --cpus=<span class="hljs-number">2</span> \  -p <span class="hljs-number">80</span>:<span class="hljs-number">80</span> \  -v /app/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/DocumentServer/logs:/var/log/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice \  -v /app/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/DocumentServer/data:/var/www/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/Data \  xxx.xuanyuan.run/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/documentserver:latest
</code></pre>
</li>
<li>
<p>2. <strong>æ—¥å¿—è½®è½¬</strong>ï¼šé…ç½®æ—¥å¿—è½®è½¬ç­–ç•¥ï¼Œé¿å…æ—¥å¿—æ–‡ä»¶è¿‡å¤§å ç”¨ç£ç›˜ç©ºé—´ï¼Œå¯é€šè¿‡<code>logrotate</code>å·¥å…·ç®¡ç†<code>/app/onlyoffice/DocumentServer/logs</code>ç›®å½•æ—¥å¿—ã€‚</p>
</li>
<li>
<p>3. <strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šå¯¹äºé™æ€èµ„æºï¼ˆå¦‚JSã€CSSæ–‡ä»¶ï¼‰ï¼Œå¯é…ç½®Nginxåå‘ä»£ç†å®ç°æµè§ˆå™¨ç¼“å­˜ï¼Œå‡å°‘é‡å¤è¯·æ±‚ã€‚</p>
</li>
</ol>
<h3 data-id="heading-27">é«˜å¯ç”¨æ–¹æ¡ˆ</h3>
<ol>
<li>
<p>1. <strong>å®¹å™¨è‡ªåŠ¨é‡å¯</strong>ï¼šæ·»åŠ <code>--restart=always</code>å‚æ•°ï¼Œç¡®ä¿æœåŠ¡å¼‚å¸¸é€€å‡ºåè‡ªåŠ¨æ¢å¤ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">docker run -d \  --name documentserver \  <span class="hljs-attr">--restart</span>=always \  -p <span class="hljs-number">80</span>:<span class="hljs-number">80</span> \  -v /app/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/DocumentServer/logs:/var/log/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice \  -v /app/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/DocumentServer/data:/var/www/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/Data \  xxx.xuanyuan.run/<span class="hljs-literal">on</span>ly<span class="hljs-literal">off</span>ice/documentserver:latest
</code></pre>
</li>
<li>
<p>2. <strong>æ•°æ®å¤‡ä»½</strong>ï¼šå®šæœŸå¤‡ä»½<code>/app/onlyoffice/DocumentServer/data</code>ç›®å½•ï¼Œå¯ä½¿ç”¨<code>rsync</code>æˆ–è„šæœ¬è‡ªåŠ¨åŒ–å¤‡ä»½ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">ç¤ºä¾‹ï¼šæ¯æ—¥å‡Œæ™¨2ç‚¹å¤‡ä»½æ•°æ®<span class="hljs-built_in">echo</span> &amp;<span class="hljs-comment">#34;0 2 * * * tar -zcvf /backup/onlyoffice_data_$(date +\%Y\%m\%d).tar.gz /app/onlyoffice/DocumentServer/data&amp;#34; &gt;&gt; /etc/crontab</span></span>
</code></pre>
</li>
<li>
<p>3. <strong>é›†ç¾¤éƒ¨ç½²</strong>ï¼šå¯¹äºé«˜å¹¶å‘åœºæ™¯ï¼Œå¯éƒ¨ç½²å¤šå®ä¾‹DOCUMENTSERVERï¼Œç»“åˆè´Ÿè½½å‡è¡¡å™¨ï¼ˆå¦‚Nginxã€HAProxyï¼‰å®ç°æµé‡åˆ†å‘å’Œæ•…éšœè½¬ç§»ã€‚</p>
</li>
</ol>
<h2 data-id="heading-28">æ•…éšœæ’æŸ¥</h2>
<h3 data-id="heading-29">æœåŠ¡æ— æ³•å¯åŠ¨</h3>
<ol>
<li>
<p>1. <strong>ç«¯å£å†²çª</strong>ï¼šæ£€æŸ¥ä¸»æœºç«¯å£æ˜¯å¦è¢«å ç”¨ï¼Œä½¿ç”¨<code>netstat</code>å‘½ä»¤æ’æŸ¥ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">netstat -tulpn | <span class="hljs-keyword">grep</span> <span class="hljs-number">80</span>  <span class="hljs-comment"># æ›¿æ¢80ä¸ºå®é™…ä½¿ç”¨çš„ç«¯å£</span>
</code></pre>
<p>è‹¥ç«¯å£å·²è¢«å ç”¨ï¼Œéœ€åœæ­¢å ç”¨è¿›ç¨‹æˆ–æ›´æ¢æ˜ å°„ç«¯å£ã€‚</p>
</li>
<li>
<p>2. <strong>ç›®å½•æƒé™é—®é¢˜</strong>ï¼šç¡®ä¿ä¸»æœºæŒ‚è½½ç›®å½•æƒé™æ­£ç¡®ï¼Œé¿å…å®¹å™¨å†…è¿›ç¨‹æ— æƒé™è¯»å†™ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> -R 777 /app/onlyoffice/DocumentServer  <span class="hljs-comment"># ä¸´æ—¶æµ‹è¯•æƒé™é—®é¢˜ï¼Œç”Ÿäº§ç¯å¢ƒéœ€éµå¾ªæœ€å°æƒé™åŸåˆ™</span>
</code></pre>
</li>
<li>
<p>3. <strong>SELinuxé™åˆ¶</strong>ï¼šRHEL/CentOSç­‰ç³»ç»Ÿè‹¥å¯ç”¨SELinuxï¼Œå¯èƒ½é˜»æ­¢å®¹å™¨è¿›ç¨‹è®¿é—®ä¸»æœºç›®å½•ï¼Œå¯ä¸´æ—¶ç¦ç”¨SELinuxæµ‹è¯•ï¼š</p>
<pre><code class="hljs">setenforce 0
</code></pre>
<p>è‹¥é—®é¢˜è§£å†³ï¼Œå¯æ°¸ä¹…è°ƒæ•´SELinuxç­–ç•¥æˆ–åˆ‡æ¢è‡³Ubuntuç­‰å‘è¡Œç‰ˆã€‚</p>
</li>
</ol>
<h3 data-id="heading-30">æ–‡æ¡£ç¼–è¾‘å¼‚å¸¸</h3>
<ol>
<li>
<p>1. <strong>å†…å­˜ä¸è¶³</strong>ï¼šæŸ¥çœ‹ç³»ç»Ÿå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œè‹¥å†…å­˜ä½¿ç”¨ç‡è¿‡é«˜ï¼Œéœ€å¢åŠ æœåŠ¡å™¨å†…å­˜æˆ–ä¼˜åŒ–èµ„æºé…ç½®ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-built_in">free</span> -m
</code></pre>
</li>
<li>
<p>2. <strong>ç½‘ç»œé—®é¢˜</strong>ï¼šæ£€æŸ¥å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„ç½‘ç»œè¿æ¥ï¼Œç¡®ä¿WebSocketé€šä¿¡æ­£å¸¸ï¼ˆDOCUMENTSERVERä¾èµ–WebSocketå®ç°å®æ—¶åä½œï¼‰ã€‚</p>
</li>
<li>
<p>3. <strong>æ—¥å¿—åˆ†æ</strong>ï¼šæŸ¥çœ‹å®¹å™¨è¯¦ç»†æ—¥å¿—å®šä½é—®é¢˜ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">docker logs -f documentserver  <span class="hljs-comment"># -få‚æ•°å®æ—¶è·Ÿè¸ªæ—¥å¿—è¾“å‡º</span>
</code></pre>
</li>
</ol>
<h3 data-id="heading-31">Dockerç‰ˆæœ¬é—®é¢˜</h3>
<p>DOCUMENTSERVERå¯¹Dockerç‰ˆæœ¬æœ‰ä¾èµ–ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°ç¨³å®šç‰ˆDockerã€‚è‹¥ä½¿ç”¨æ—§ç‰ˆæœ¬Dockerå‡ºç°å¼‚å¸¸ï¼Œå¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤å‡çº§Dockerï¼š</p>
<pre><code class="hljs language-bash" lang="bash">bash &lt;(wget -qO- https://xuanyuan.cloud/docker.sh)  <span class="hljs-comment"># é‡æ–°æ‰§è¡Œä¸€é”®å®‰è£…è„šæœ¬å‡çº§Docker</span>
</code></pre>
<h2 data-id="heading-32">å‚è€ƒèµ„æº</h2>
<ul>
<li>â€¢ DOCUMENTSERVERé•œåƒæ–‡æ¡£ï¼ˆè½©è¾•ï¼‰ <code>https://xuanyuan.cloud/r/onlyoffice/documentserver</code></li>
<li>â€¢ DOCUMENTSERVERé•œåƒæ ‡ç­¾åˆ—è¡¨ <code>https://xuanyuan.cloud/r/onlyoffice/documentserver/tags</code></li>
<li>â€¢ Dockerå®˜æ–¹æ–‡æ¡£ <code>https://docs.docker.com</code></li>
<li>â€¢ ONLYOFFICE Document Server GitHubä»“åº“ <code>https://github.com/ONLYOFFICE/DocumentServer</code></li>
<li>â€¢ SSLè¯ä¹¦é…ç½®æŒ‡å— <code>https://raymii.org/s/tutorials/Strong_SSL_Security_On_nginx.html</code></li>
</ul>
<h2 data-id="heading-33">æ€»ç»“</h2>
<p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†DOCUMENTSERVERçš„Dockerå®¹å™¨åŒ–éƒ¨ç½²æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ç¯å¢ƒå‡†å¤‡ã€é•œåƒæ‹‰å–ã€åŸºç¡€ä¸æŒä¹…åŒ–éƒ¨ç½²ã€HTTPSé…ç½®ã€é›†æˆç¤¾åŒºç‰ˆéƒ¨ç½²ç­‰å¤šç§åœºæ™¯ï¼Œå¹¶æä¾›äº†ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–å»ºè®®å’Œæ•…éšœæ’æŸ¥æ–¹æ³•ã€‚é€šè¿‡å®¹å™¨åŒ–éƒ¨ç½²ï¼Œå¯å¿«é€Ÿæ­å»ºåŠŸèƒ½å®Œå–„çš„åœ¨çº¿åŠå…¬åä½œå¹³å°ï¼Œæ»¡è¶³æ–‡æ¡£ç¼–è¾‘ã€å…±äº«å’Œåä½œéœ€æ±‚ã€‚</p>
<p><strong>å…³é”®è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>â€¢ ä½¿ç”¨è½©è¾•é•œåƒåŠ é€Ÿå¯æå‡DOCUMENTSERVERé•œåƒæ‹‰å–é€Ÿåº¦ï¼Œä¼˜åŒ–éƒ¨ç½²æ•ˆç‡</li>
<li>â€¢ æ•°æ®æŒä¹…åŒ–éƒ¨ç½²éœ€æŒ‚è½½æ—¥å¿—å’Œè¯ä¹¦ç›®å½•ï¼Œé¿å…å®¹å™¨å‡çº§å¯¼è‡´æ•°æ®ä¸¢å¤±</li>
<li>â€¢ ç”Ÿäº§ç¯å¢ƒå¿…é¡»é…ç½®HTTPSåŠ å¯†ï¼Œå¹¶æ ¹æ®ç”¨æˆ·è§„æ¨¡è°ƒæ•´æœåŠ¡å™¨èµ„æºé…ç½®</li>
<li>â€¢ å®šæœŸå¤‡ä»½æ•°æ®å’Œæ›´æ–°é•œåƒå¯æé«˜ç³»ç»Ÿå®‰å…¨æ€§å’Œç¨³å®šæ€§</li>
</ul>
<p><strong>åç»­å»ºè®®</strong>ï¼š</p>
<ul>
<li>â€¢ æ·±å…¥å­¦ä¹ DOCUMENTSERVERé«˜çº§ç‰¹æ€§ï¼Œå¦‚APIé›†æˆã€å¤šè¯­è¨€æ”¯æŒç­‰åŠŸèƒ½</li>
<li>â€¢ æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚ï¼Œé…ç½®è´Ÿè½½å‡è¡¡å’Œé›†ç¾¤æ–¹æ¡ˆï¼Œæå‡æœåŠ¡å¯ç”¨æ€§</li>
<li>â€¢ å…³æ³¨å®˜æ–¹æ–‡æ¡£å’Œç¤¾åŒºåŠ¨æ€ï¼ŒåŠæ—¶äº†è§£æ–°åŠŸèƒ½å’Œå®‰å…¨æ›´æ–°</li>
<li>â€¢ ç»“åˆç›‘æ§å·¥å…·ï¼ˆå¦‚Prometheusã€Grafanaï¼‰å®ç°æœåŠ¡çŠ¶æ€å®æ—¶ç›‘æ§ï¼Œæå‰å‘ç°æ½œåœ¨é—®é¢˜</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¸¿è’™åº”ç”¨å¼€å‘ç¬”è®°ï¼šç­¾åæ–‡ä»¶]]></title>    <link>https://juejin.cn/post/7582118538561339411</link>    <guid>https://juejin.cn/post/7582118538561339411</guid>    <pubDate>2025-12-11T01:24:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582118538561339411" data-draft-id="7582102297481461802" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¸¿è’™åº”ç”¨å¼€å‘ç¬”è®°ï¼šç­¾åæ–‡ä»¶"/> <meta itemprop="keywords" content="HarmonyOS"/> <meta itemprop="datePublished" content="2025-12-11T01:24:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="0x04"/> <meta itemprop="url" content="https://juejin.cn/user/4233576783285866"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¸¿è’™åº”ç”¨å¼€å‘ç¬”è®°ï¼šç­¾åæ–‡ä»¶
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4233576783285866/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    0x04
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T01:24:01.000Z" title="Thu Dec 11 2025 01:24:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å…³äº HarmonyOS é¡¹ç›®ä¸­ç­¾åæ–‡ä»¶çš„ç®¡ç†ï¼Œä»¥ä¸‹æ˜¯å…³é”®ç‚¹è¯´æ˜ï¼š</p>
<hr/>
<p><strong>ä¸€ã€æ–‡ä»¶ä¸é¡¹ç›®çš„å…³è”æ€§</strong></p>
<ol>
<li>
<p><strong>æ ¸å¿ƒæ–‡ä»¶çš„ä½œç”¨ä¸å½’å±</strong></p>
<ul>
<li><strong>.p12ï¼ˆå¯†é’¥æ–‡ä»¶ï¼‰</strong>ï¼šå­˜å‚¨éå¯¹ç§°åŠ å¯†çš„å…¬é’¥å’Œç§é’¥ï¼Œå±äºå¼€å‘è€…è‡ªä¸»ç”Ÿæˆçš„ <strong>é€šç”¨æ–‡ä»¶</strong>ï¼Œå¯è·¨é¡¹ç›®å¤ç”¨ï¼ˆå¦‚æœç´¢ç»“æœ2ã€5æ‰€è¿°ï¼‰ã€‚</li>
<li><strong>.csrï¼ˆè¯ä¹¦è¯·æ±‚æ–‡ä»¶ï¼‰</strong>ï¼šç”¨äºå‘åä¸ºç”³è¯·è°ƒè¯•/å‘å¸ƒè¯ä¹¦ï¼Œå¯è·¨é¡¹ç›®å…±ç”¨ï¼ˆéœ€ç¡®ä¿å¯†é’¥åˆ«åå’Œå¯†ç ä¸€è‡´ï¼‰ã€‚</li>
<li><strong>.cerï¼ˆè¯ä¹¦æ–‡ä»¶ï¼‰</strong>ï¼šç”±åä¸ºé¢å‘ï¼Œåˆ†ä¸ºè°ƒè¯•å’Œå‘å¸ƒè¯ä¹¦12ã€‚ <strong>è°ƒè¯•è¯ä¹¦ä¸å¯è·¨é¡¹ç›®</strong>ï¼Œå‘å¸ƒè¯ä¹¦å¯è·¨åº”ç”¨å¤ç”¨ä½†éœ€ç¬¦åˆæ¡ä»¶ï¼ˆå¦‚æœç´¢ç»“æœ2ä¸­çš„FAQï¼‰ã€‚</li>
<li><strong>.p7bï¼ˆProfileæ–‡ä»¶ï¼‰</strong>ï¼šç»‘å®šå…·ä½“é¡¹ç›®çš„åŒ…åå’Œæƒé™ï¼Œ <strong>å¿…é¡»æ¯ä¸ªé¡¹ç›®å•ç‹¬ç”Ÿæˆ</strong>ï¼ˆå¦‚æœç´¢ç»“æœ4ã€5æ‰€è¿°ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>é¡¹ç›®ç‹¬ç«‹æ€§è¦æ±‚</strong></p>






























<table><thead><tr><th>æ–‡ä»¶ç±»å‹</th><th>æ˜¯å¦å¯è·¨é¡¹ç›®å…±ç”¨</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>.p12</td><td>âœ… æ˜¯</td><td>éœ€ç»Ÿä¸€å¯†é’¥åˆ«åå’Œå¯†ç </td></tr><tr><td>.csr</td><td>âœ… æ˜¯</td><td>éœ€åŸºäºç›¸åŒå¯†é’¥ç”Ÿæˆ</td></tr><tr><td>.cerï¼ˆå‘å¸ƒï¼‰</td><td>âœ… æ˜¯ï¼ˆæœ‰æ¡ä»¶ï¼‰</td><td>åŒä¸€å¼€å‘è€…è´¦å·ä¸‹åº”ç”¨å¯å¤ç”¨</td></tr><tr><td>.p7b</td><td>âŒ å¦</td><td>å¿…é¡»æ¯ä¸ªé¡¹ç›®å•ç‹¬ç”³è¯·</td></tr></tbody></table>
</li>
</ol>
<hr/>
<p><strong>äºŒã€æ–‡ä»¶å­˜å‚¨ç®¡ç†å»ºè®®</strong></p>
<ol>
<li>
<p><strong>å·¥ç¨‹ç›®å½•å­˜æ”¾è§„èŒƒ</strong></p>
<ul>
<li><strong>æ¨èæ–¹å¼</strong>ï¼šåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>signing/</code> æ–‡ä»¶å¤¹å­˜æ”¾æ‰€æœ‰ç­¾åæ–‡ä»¶ï¼ˆå¦‚æœç´¢ç»“æœ8ã€10æ‰€è¿°ï¼‰ï¼Œä¾‹å¦‚ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">ProjectRoot/
â”œâ”€â”€ signing/
â”‚   â”œâ”€â”€ debug.p12      <span class="hljs-comment"># è°ƒè¯•å¯†é’¥</span>
â”‚   â”œâ”€â”€ release.p12    <span class="hljs-comment"># å‘å¸ƒå¯†é’¥</span>
â”‚   â”œâ”€â”€ app.cer        <span class="hljs-comment"># å‘å¸ƒè¯ä¹¦</span>
â”‚   â””â”€â”€ app.p7b        <span class="hljs-comment"># Profileæ–‡ä»¶</span>
â””â”€â”€ ...
</code></pre>
<ul>
<li><strong>è·¯å¾„å¼•ç”¨</strong>ï¼šåœ¨ <code>build-profile.json5</code> ä¸­é…ç½®ç›¸å¯¹è·¯å¾„ï¼ˆå¦‚ <code>../signing/release.p12</code>ï¼‰ï¼Œé¿å…ç»å¯¹è·¯å¾„é—®é¢˜ã€‚</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li><strong>æ•æ„Ÿæ–‡ä»¶éš”ç¦»</strong>ï¼š<code>.p12</code> æ–‡ä»¶åŒ…å«ç§é’¥ï¼Œéœ€ä¸¥æ ¼ä¿å¯†ï¼Œç¦æ­¢ä¸Šä¼ è‡³ä»£ç ä»“åº“ï¼ˆéœ€é…ç½® <code>.gitignore</code>ï¼‰ã€‚</li>
<li><strong>å¯†ç åŠ å¯†</strong>ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨ DevEco Studio çš„åŠ å¯†åŠŸèƒ½ï¼ˆå¦‚ <code>encrypted:xxxx</code> æ ¼å¼ï¼‰ï¼Œé¿å…æ˜æ–‡å­˜å‚¨å¯†ç ï¼ˆæœç´¢ç»“æœ10ä¸­æåˆ°ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-0">ä¸‰ã€åä½œä¸ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥</h3>
<ol>
<li>
<p><strong>å›¢é˜Ÿåä½œåœºæ™¯</strong></p>
<ul>
<li>å…±äº« <code>.p12</code> å’Œ <code>.csr</code> æ–‡ä»¶ç»™å›¢é˜Ÿæˆå‘˜ï¼Œç¡®ä¿ç­¾åä¸€è‡´æ€§ï¼ˆæœç´¢ç»“æœ8ä¸­çš„å¤šäººåä½œå»ºè®®ï¼‰ã€‚</li>
<li><strong>Profile æ–‡ä»¶ç‹¬ç«‹</strong>ï¼šæ¯ä¸ªå¼€å‘è€…éœ€æ ¹æ®è‡ªèº«è®¾å¤‡ç”³è¯·ç‹¬ç«‹çš„è°ƒè¯• Profileï¼ˆæœç´¢ç»“æœ4ä¸­çš„è°ƒè¯•è®¾å¤‡åˆ—è¡¨è¦æ±‚ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‘å¸ƒåœºæ™¯æ“ä½œ</strong></p>
<ul>
<li>ä½¿ç”¨ç»Ÿä¸€çš„å‘å¸ƒè¯ä¹¦å’Œ Profileï¼Œç¡®ä¿åº”ç”¨æ›´æ–°æ—¶ç­¾åä¸€è‡´æ€§ï¼ˆæœç´¢ç»“æœ2ä¸­å¼ºè°ƒè¯ä¹¦åˆ é™¤å¯¹åœ¨æ¶ç‰ˆæœ¬æ— å½±å“ï¼Œä½†æ›´æ–°å¿…é¡»ä¸€è‡´ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<p><strong>å››ã€è·¨é¡¹ç›®å¤ç”¨ç¤ºä¾‹</strong>
è‹¥éœ€åœ¨å¤šä¸ªé¡¹ç›®ä¸­å…±ç”¨ç­¾åèµ„æºï¼š</p>
<ol>
<li>åˆ›å»ºå…¬å…±ç­¾åç›®å½•ï¼ˆå¦‚ <code>CommonSign/</code>ï¼‰ï¼Œå­˜æ”¾å¯å¤ç”¨çš„ <code>.p12</code> å’Œ <code>.cer</code> æ–‡ä»¶ã€‚</li>
<li>å„é¡¹ç›®é€šè¿‡ç›¸å¯¹è·¯å¾„å¼•ç”¨å…¬å…±ç›®å½•ä¸­çš„æ–‡ä»¶ï¼š
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// build-profile.json5</span>
signingConfigs<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  release<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    storeFile<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;../CommonSign/release.p12&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
    profileFile<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;signing/app.p7b&amp;#<span class="hljs-number">34</span>;  <span class="hljs-comment">// æ¯ä¸ªé¡¹ç›®ç‹¬æœ‰</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
</li>
</ol>
<hr/>
<p>é€šè¿‡åˆç†è§„åˆ’æ–‡ä»¶å­˜å‚¨å’Œå¼•ç”¨æ–¹å¼ï¼Œæ—¢èƒ½å®ç°èµ„æºå¤ç”¨ï¼Œåˆèƒ½ç¡®ä¿é¡¹ç›®ç­¾åçš„ç‹¬ç«‹æ€§ä¸å®‰å…¨æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆmysql varchar ç±»å‹ä¸€èˆ¬éƒ½è®¾ç½®ä¸º64/128/256/512 ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582066556089040959</link>    <guid>https://juejin.cn/post/7582066556089040959</guid>    <pubDate>2025-12-11T01:24:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582066556089040959" data-draft-id="7581669438576099364" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆmysql varchar ç±»å‹ä¸€èˆ¬éƒ½è®¾ç½®ä¸º64/128/256/512 ï¼Ÿ"/> <meta itemprop="keywords" content="æ¶æ„,åç«¯"/> <meta itemprop="datePublished" content="2025-12-11T01:24:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ææ‹¾åçš„æ‘¸é±¼æ—¥å¸¸"/> <meta itemprop="url" content="https://juejin.cn/user/4443539294129722"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆmysql varchar ç±»å‹ä¸€èˆ¬éƒ½è®¾ç½®ä¸º64/128/256/512 ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4443539294129722/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ææ‹¾åçš„æ‘¸é±¼æ—¥å¸¸
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T01:24:07.000Z" title="Thu Dec 11 2025 01:24:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>MySQL ä¸­ varchar é¢‘ç¹è®¾ç½®ä¸º 64ã€128ã€256ã€512 è¿™ç±» 2 çš„å¹‚æ¬¡å€¼ï¼Œç»éå•çº¯çš„ â€œè¡Œä¸šä¹ æƒ¯â€ï¼Œè€Œæ˜¯<strong>åº•å±‚å­˜å‚¨æœºåˆ¶ã€æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–ã€ä¸šåŠ¡é€šç”¨æ€§ã€å­—ç¬¦é›†é€‚é…</strong> ç­‰å¤šç»´åº¦çš„ â€œæœ€ä¼˜è§£â€â€”â€” è¿™äº›æ•°å€¼ç²¾å‡†è´´åˆ MySQL çš„å­˜å‚¨è®¾è®¡é€»è¾‘ï¼ŒåŒæ—¶å…¼é¡¾ä¸šåŠ¡çµæ´»æ€§ä¸æ€§èƒ½ç¨³å®šæ€§ï¼Œæ˜¯é•¿æœŸå®è·µä¸­æ²‰æ·€çš„æ·±å±‚è§„å¾‹ã€‚</p>
<p>ä»¥ä¸‹ä» <strong>4 ä¸ªæ ¸å¿ƒæ·±å±‚ç»´åº¦</strong> æ‹†è§£åŸå› ï¼Œä»åº•å±‚å­˜å‚¨åˆ°ä¸Šå±‚ä¸šåŠ¡é€»è¾‘å±‚å±‚é€’è¿›ï¼š</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒåº•å±‚ï¼šè´´åˆ varchar çš„å­˜å‚¨ç»“æ„ä¸äºŒè¿›åˆ¶å¯¹é½è§„åˆ™</h2>
<p>è¿™æ˜¯æœ€æ ¹æœ¬çš„åŸå› ï¼Œvarchar çš„å­˜å‚¨ç‰©ç†ç»“æ„å’Œè®¡ç®—æœºåº•å±‚çš„äºŒè¿›åˆ¶ç‰¹æ€§ï¼Œå†³å®šäº† 2 çš„å¹‚æ¬¡é•¿åº¦ï¼ˆ64=2â¶ã€128=2â·ã€256=2â¸ã€512=2â¹ï¼‰æ˜¯æœ€ä¼˜é€‰æ‹©ã€‚</p>
<h3 data-id="heading-1">1. varchar é•¿åº¦å‰ç¼€çš„ä¸´ç•Œå€¼é€‚é…</h3>
<p>varchar æ˜¯<strong>å˜é•¿å­—ç¬¦ä¸²ç±»å‹</strong>ï¼Œç‰©ç†å­˜å‚¨ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šé•¿åº¦å‰ç¼€ï¼ˆLength Prefixï¼‰ + å®é™…å­—ç¬¦æ•°æ®ã€‚é•¿åº¦å‰ç¼€çš„å­—èŠ‚æ•°ç”±å®šä¹‰çš„é•¿åº¦å†³å®šï¼Œç›´æ¥å½±å“å­˜å‚¨æ•ˆç‡ï¼š</p>























<table><thead><tr><th>varchar å®šä¹‰é•¿åº¦</th><th>é•¿åº¦å‰ç¼€å­—èŠ‚æ•°</th><th>å¯è¡¨ç¤ºçš„æœ€å¤§å­—ç¬¦æ•°</th><th>å¯¹åº”å¸¸ç”¨å€¼</th></tr></thead><tbody><tr><td>â‰¤ 255</td><td>1 å­—èŠ‚ï¼ˆ0-255ï¼‰</td><td>255</td><td>64ã€128ï¼ˆå‡â‰¤255ï¼‰</td></tr><tr><td>&gt; 255</td><td>2 å­—èŠ‚ï¼ˆ0-65535ï¼‰</td><td>65535ï¼ˆè¡Œé•¿åº¦é™åˆ¶ï¼‰</td><td>256ã€512ï¼ˆ&gt;255ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-2">å…³é”®é€»è¾‘ï¼š</h4>
<ul>
<li>
<p>64ã€128 å±äºã€Œ1 å­—èŠ‚å‰ç¼€åŒºé—´ã€ï¼šç”¨æœ€å°‘çš„å‰ç¼€å­—èŠ‚ï¼ˆ1 å­—èŠ‚ï¼‰è¦†ç›–ç»å¤§éƒ¨åˆ†çŸ­æ–‡æœ¬åœºæ™¯ï¼Œæ— å‰ç¼€å­—èŠ‚æµªè´¹ï¼›</p>
</li>
<li>
<p>256 æ˜¯ã€Œ1 å­—èŠ‚â†’2 å­—èŠ‚ã€çš„ä¸´ç•Œå€¼ï¼šåˆšå¥½è¶…è¿‡ 255ï¼Œæ˜¯ä¸­ç­‰æ–‡æœ¬çš„ â€œå¤©ç„¶é˜ˆå€¼â€ï¼Œ2 å­—èŠ‚å‰ç¼€èƒ½è¦†ç›–åˆ° 65535ï¼Œè¶³å¤Ÿæ”¯æ’‘ 512 ç”šè‡³æ›´å¤§çš„é•¿åº¦ï¼›</p>
</li>
<li>
<p>è‹¥é€‰æ‹©é 2 æ¬¡å¹‚å€¼ï¼ˆå¦‚ 100ã€200ï¼‰ï¼Œè™½ä¹Ÿèƒ½é€‚é…å‰ç¼€è§„åˆ™ï¼Œä½† 64/128 ç­‰æ•°å€¼æ˜¯ â€œå‰ç¼€åŒºé—´å†…çš„æœ€ä¼˜åˆ†å‰²ç‚¹â€â€”â€” æ—¢ä¸æµªè´¹å‰ç¼€ï¼Œåˆèƒ½æœ€å¤§åŒ–å•å‰ç¼€å­—èŠ‚çš„è¦†ç›–èŒƒå›´ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">2. äºŒè¿›åˆ¶å¯¹é½ï¼šé€‚é…è®¡ç®—æœºåº•å±‚çš„å­˜å‚¨ / è¯»å–é€»è¾‘</h3>
<p>è®¡ç®—æœºçš„<strong>å†…å­˜é¡µã€ç£ç›˜å—ã€CPU ç¼“å­˜è¡Œã€InnoDB é¡µ</strong> ç­‰æ ¸å¿ƒå­˜å‚¨å•å…ƒï¼Œå‡ä»¥ 2 çš„å¹‚æ¬¡ä¸ºåŸºæœ¬å•ä½ï¼ˆå¦‚ç¼“å­˜è¡Œ 64/128 å­—èŠ‚ã€InnoDB é¡µ 16KB=2Â¹â´ å­—èŠ‚ï¼‰ã€‚varchar é•¿åº¦è®¾ä¸º 2 çš„å¹‚æ¬¡ï¼Œèƒ½å®ç°ï¼š</p>
<ul>
<li>
<p><strong>å‡å°‘æ•°æ®ç¢ç‰‡</strong>ï¼šæ¯”å¦‚å­˜å‚¨ varchar(128) å­—æ®µæ—¶ï¼Œæ•°æ®å—åˆ†é…ä¼šè´´åˆç¼“å­˜è¡Œ / ç£ç›˜å—çš„ 128 å­—èŠ‚å•ä½ï¼Œé¿å…è·¨å—å­˜å‚¨å¯¼è‡´çš„ç¢ç‰‡ï¼›</p>
</li>
<li>
<p><strong>æå‡è¯»å–æ•ˆç‡</strong>ï¼šCPU è¯»å–æ•°æ®æ—¶æŒ‰ç¼“å­˜è¡ŒåŠ è½½ï¼Œvarchar(64) çš„æ•°æ®èƒ½ä¸€æ¬¡æ€§åŠ è½½åˆ° 64 å­—èŠ‚ç¼“å­˜è¡Œä¸­ï¼Œæ— éœ€æ‹†åˆ†è¯»å–ï¼Œå‡å°‘ IO æ¬¡æ•°ï¼›</p>
</li>
<li>
<p><strong>ç®€åŒ–å†…å­˜è®¡ç®—</strong>ï¼šæ•°æ®åº“ä¼˜åŒ–å™¨è®¡ç®—å†…å­˜å ç”¨ï¼ˆå¦‚æ’åºã€ä¸´æ—¶è¡¨ï¼‰æ—¶ï¼Œ2 çš„å¹‚æ¬¡é•¿åº¦çš„ä¹˜æ³• / é™¤æ³•æ›´é«˜æ•ˆï¼ˆå¦‚ 128Ã—4=512ã€256Ã—4=1024ï¼‰ï¼Œé¿å…éå¹‚æ¬¡çš„å¤æ‚è®¡ç®—ï¼ˆå¦‚ 100Ã—4=400ï¼‰ã€‚</p>
</li>
</ul>
<h2 data-id="heading-4">äºŒã€æ€§èƒ½ç»´åº¦ï¼šé€‚é… MySQL ä¼˜åŒ–å™¨ä¸ç´¢å¼•è®¾è®¡</h2>
<p>MySQL ä¼˜åŒ–å™¨çš„è¡Œä¸ºã€ç´¢å¼•çš„å­˜å‚¨è§„åˆ™ï¼Œå¯¹ 2 çš„å¹‚æ¬¡é•¿åº¦çš„ varchar æ›´å‹å¥½ï¼Œèƒ½ç›´æ¥æå‡æŸ¥è¯¢æ€§èƒ½ã€‚</p>
<h3 data-id="heading-5">1. ä¼˜åŒ–å™¨çš„å†…å­˜é¢„ä¼°æ•ˆç‡</h3>
<p>MySQL ä¼˜åŒ–å™¨åœ¨æ‰§è¡Œæ’åºã€åˆ†ç»„ã€è¿æ¥æŸ¥è¯¢æ—¶ï¼Œä¼šæ ¹æ® varchar å®šä¹‰çš„é•¿åº¦<strong>é¢„ä¼°ä¸´æ—¶è¡¨ / æ’åºç¼“å†²åŒºçš„å¤§å°</strong>ï¼š</p>
<ul>
<li>
<p>è‹¥è®¾ä¸º 64/128/256 ç­‰ 2 çš„å¹‚æ¬¡ï¼Œä¼˜åŒ–å™¨èƒ½å¿«é€Ÿè®¡ç®— â€œæœ€åæƒ…å†µâ€ çš„å†…å­˜å ç”¨ï¼ˆå¦‚ varchar(128) åœ¨ utf8mb4 ä¸‹æœ€å¤§å ç”¨ 128Ã—4+1=513 å­—èŠ‚ï¼‰ï¼Œç²¾å‡†åˆ†é…å†…å­˜ï¼Œé¿å…å› é¢„ä¼°åå·®å¯¼è‡´ â€œå†…å­˜ä¸´æ—¶è¡¨æº¢å‡ºåˆ°ç£ç›˜â€ï¼ˆç£ç›˜ä¸´æ—¶è¡¨æ€§èƒ½æ¯”å†…å­˜ä½ 10 å€ä»¥ä¸Šï¼‰ï¼›</p>
</li>
<li>
<p>è‹¥è®¾ä¸ºéå¹‚æ¬¡å€¼ï¼ˆå¦‚ 150ï¼‰ï¼Œä¼˜åŒ–å™¨éœ€è®¡ç®— 150Ã—4=600 å­—èŠ‚ï¼Œè™½ä¹Ÿèƒ½è®¡ç®—ï¼Œä½†å¹‚æ¬¡å€¼çš„é¢„ä¼°é€»è¾‘æ›´ç®€å•ï¼Œä¸”ä¸æ˜“å‡ºç° â€œå››èˆäº”å…¥å¯¼è‡´çš„å†…å­˜æµªè´¹â€ã€‚</p>
</li>
</ul>
<h3 data-id="heading-6">2. ç´¢å¼•é•¿åº¦çš„é€‚é…</h3>
<p>InnoDB å¯¹ç´¢å¼•å‰ç¼€é•¿åº¦æœ‰é»˜è®¤é™åˆ¶ï¼ˆé»˜è®¤ 767 å­—èŠ‚ï¼Œå¯è°ƒæ•´ä¸º 3072 å­—èŠ‚ï¼‰ï¼Œè¿™ä¸€é™åˆ¶ä¸å­—ç¬¦é›†ï¼ˆutf8mb4 å  4 å­—èŠ‚ / å­—ç¬¦ï¼‰ç»“åˆåï¼Œ2 çš„å¹‚æ¬¡é•¿åº¦çš„ varchar æ›´é€‚é…ç´¢å¼•è®¾è®¡ï¼š</p>
<ul>
<li>
<p>varchar(128)ï¼šutf8mb4 ä¸‹æœ€å¤§å ç”¨ 128Ã—4=512 å­—èŠ‚ï¼Œè¿œä½äº 767 å­—èŠ‚ï¼Œå¯ç›´æ¥ä½œä¸ºç´¢å¼•å‰ç¼€ï¼Œæ— éœ€æˆªæ–­ï¼›</p>
</li>
<li>
<p>varchar(256)ï¼šutf8mb4 ä¸‹æœ€å¤§å ç”¨ 256Ã—4=1024 å­—èŠ‚ï¼Œä»…éœ€è°ƒæ•´ innodb_large_prefix=ON å³å¯æ”¯æŒï¼Œæ˜¯ â€œä¸­ç­‰é•¿åº¦ç´¢å¼•â€ çš„æœ€ä¼˜å€¼ï¼›</p>
</li>
<li>
<p>è‹¥è®¾ä¸º 200ï¼ˆéå¹‚æ¬¡ï¼‰ï¼Œutf8mb4 ä¸‹ 200Ã—4=800 å­—èŠ‚ï¼Œè¶…è¿‡é»˜è®¤ 767 å­—èŠ‚ï¼Œéœ€æˆªæ–­æˆ–è°ƒæ•´é…ç½®ï¼Œä¸å¦‚ 128/256 çµæ´»ã€‚</p>
</li>
</ul>
<h2 data-id="heading-7">ä¸‰ã€ä¸šåŠ¡ç»´åº¦ï¼šé€šç”¨é˜ˆå€¼è¦†ç›– 90% åœºæ™¯ï¼Œé™ä½ç»´æŠ¤æˆæœ¬</h2>
<p>64ã€128ã€256ã€512 æ˜¯ç»è¿‡å¤§é‡ä¸šåŠ¡éªŒè¯çš„ â€œé€šç”¨å®‰å…¨é˜ˆå€¼â€ï¼Œæ—¢é¿å…é•¿åº¦ä¸è¶³å¯¼è‡´çš„é¢‘ç¹æ‰©å®¹ï¼Œåˆé¿å…é•¿åº¦è¿‡é•¿å¯¼è‡´çš„æ€§èƒ½æŸè€—ã€‚</p>
<h3 data-id="heading-8">1. è¦†ç›–ç»å¤§éƒ¨åˆ†çŸ­æ–‡æœ¬åœºæ™¯</h3>
<p>ä¸åŒé•¿åº¦çš„ 2 æ¬¡å¹‚å€¼ï¼Œç²¾å‡†åŒ¹é…ä¸åŒä¸šåŠ¡åœºæ™¯çš„æ–‡æœ¬é•¿åº¦éœ€æ±‚ï¼Œä¸”ç•™æœ‰è¶³å¤Ÿå†—ä½™ï¼š</p>



































<table><thead><tr><th>é•¿åº¦å€¼</th><th>å­—èŠ‚å ç”¨ï¼ˆutf8mb4ï¼‰</th><th>å…¸å‹ä¸šåŠ¡åœºæ™¯</th><th>å†—ä½™è®¾è®¡çš„ä»·å€¼</th></tr></thead><tbody><tr><td>64</td><td>64Ã—4+1=257 å­—èŠ‚</td><td>æ‰‹æœºå·ã€é‚®ç®±ã€SKUã€çŸ­ç¼–ç ã€éªŒè¯ç </td><td>é¿å…å› ä¸šåŠ¡è°ƒæ•´ï¼ˆå¦‚æ‰‹æœºå·åŠ æ‰©å±•ä½ã€é‚®ç®±åŠ é•¿ï¼‰é¢‘ç¹æ‰§è¡Œ ALTER TABLEï¼ˆé”è¡¨å½±å“æ€§èƒ½ï¼‰</td></tr><tr><td>128</td><td>128Ã—4+1=513 å­—èŠ‚</td><td>ç”¨æˆ·åã€çŸ­å¤‡æ³¨ã€æ ‡ç­¾ã€æ¥å£å‚æ•°</td><td>å…¼å®¹ç‰¹æ®Šå­—ç¬¦ï¼ˆå¦‚ emojiï¼‰ï¼Œæ— éœ€ç²¾å‡†è®¡ç®—å­—ç¬¦æ•°</td></tr><tr><td>256</td><td>256Ã—4+2=1026 å­—èŠ‚</td><td>æ”¶è´§åœ°å€ã€å•†å“å‰¯æ ‡é¢˜ã€ç®€å•æè¿°</td><td>è¦†ç›– 99% çš„ä¸­ç­‰æ–‡æœ¬éœ€æ±‚ï¼Œè¿œä½äºè¡Œé•¿åº¦ä¸Šé™</td></tr><tr><td>512</td><td>512Ã—4+2=2050 å­—èŠ‚</td><td>è¯¦ç»†å¤‡æ³¨ã€çŸ­ JSON ä¸²ã€å¯Œæ–‡æœ¬æ‘˜è¦</td><td>é€‚é…ç»“æ„åŒ–æ•°æ®å­˜å‚¨ï¼ˆå¦‚ JSON ä¸²ï¼‰ï¼Œæ— éœ€å‡çº§åˆ° text ç±»å‹</td></tr></tbody></table>
<h3 data-id="heading-9">2. ç»Ÿä¸€å›¢é˜Ÿè§„èŒƒï¼Œé™ä½æ²Ÿé€š / ç»´æŠ¤æˆæœ¬</h3>
<p>è‹¥æ¯ä¸ªå­—æ®µéƒ½æŒ‰ â€œç²¾ç¡®é•¿åº¦â€ è®¾ç½®ï¼ˆå¦‚ç”¨æˆ·å 20ã€æ‰‹æœºå· 11ï¼‰ï¼Œè™½æ›´çœç©ºé—´ï¼Œä½†ä¼šå¯¼è‡´ï¼š</p>
<ul>
<li>
<p>è¡¨ç»“æ„æ··ä¹±ï¼šä¸åŒå¼€å‘è€…è®¾ç½®çš„é•¿åº¦æ— è§„å¾‹ï¼Œæ–°äººæ¥æ‰‹éœ€é€ä¸€ç¡®è®¤åˆç†æ€§ï¼›</p>
</li>
<li>
<p>æ‰©å®¹é£é™©ï¼šä¸€æ—¦ä¸šåŠ¡è°ƒæ•´ï¼ˆå¦‚ç”¨æˆ·åå…è®¸åŠ é•¿ï¼‰ï¼Œéœ€é€ä¸ªä¿®æ”¹å­—æ®µé•¿åº¦ï¼›</p>
</li>
</ul>
<p>64/128/256/512 æ˜¯è¡Œä¸šé€šç”¨çš„ â€œæ ‡å‡†é˜ˆå€¼â€ï¼Œå›¢é˜Ÿå¯çº¦å®šï¼š</p>
<ul>
<li>è¶…çŸ­æ–‡æœ¬â†’64ã€çŸ­æ–‡æœ¬â†’128ã€ä¸­ç­‰æ–‡æœ¬â†’256ã€è¾ƒé•¿æ–‡æœ¬â†’512ï¼›</li>
<li>è¶…è¿‡ 512 å†è€ƒè™‘ text æˆ– varchar(1024)ï¼›</li>
</ul>
<p>è¿™ç§è§„èŒƒèƒ½å‡å°‘æ²Ÿé€šæˆæœ¬ï¼Œé¿å…è¡¨ç»“æ„è®¾è®¡çš„æ··ä¹±ã€‚</p>
<h2 data-id="heading-10">å››ã€å­—ç¬¦é›†é€‚é…ï¼šå…¼å®¹ utf8mb4 ç­‰å¤šå­—èŠ‚å­—ç¬¦é›†</h2>
<p>ç°ä»£ MySQL æ™®éä½¿ç”¨ utf8mb4 å­—ç¬¦é›†ï¼ˆæ”¯æŒ emojiã€ç”Ÿåƒ»å­—ï¼‰ï¼Œæ¯ä¸ªå­—ç¬¦å  1-4 å­—èŠ‚ï¼Œ2 çš„å¹‚æ¬¡é•¿åº¦çš„ varchar èƒ½æ›´ç›´è§‚åœ°è®¡ç®— â€œæœ€åæƒ…å†µâ€ çš„å­—èŠ‚å ç”¨ï¼Œé¿å…è§¦å‘è¡Œé•¿åº¦é™åˆ¶ï¼š</p>
<ul>
<li>MySQL è¡Œé•¿åº¦ä¸Šé™ä¸º 65535 å­—èŠ‚ï¼ˆæ‰€æœ‰åˆ—çš„å­—èŠ‚æ€»å’Œï¼‰ï¼›</li>
<li>varchar(64)ï¼šæœ€åå ç”¨ 64Ã—4+1=257 å­—èŠ‚ï¼›</li>
<li>varchar(128)ï¼šæœ€åå ç”¨ 128Ã—4+1=513 å­—èŠ‚ï¼›</li>
<li>varchar(256)ï¼šæœ€åå ç”¨ 256Ã—4+2=1026 å­—èŠ‚ï¼›</li>
<li>varchar(512)ï¼šæœ€åå ç”¨ 512Ã—4+2=2050 å­—èŠ‚ï¼›</li>
</ul>
<p>è¿™äº›æ•°å€¼å‡è¿œä½äº 65535 å­—èŠ‚ï¼Œå³ä½¿ä¸€è¡Œæœ‰å¤šä¸ªæ­¤ç±»å­—æ®µï¼ˆå¦‚ 10 ä¸ª varchar(512)ï¼‰ï¼Œæ€»é•¿åº¦ä¹Ÿä»… 2050Ã—10=20500 å­—èŠ‚ï¼Œå®Œå…¨é¿å… â€œè¡Œæº¢å‡ºâ€ï¼ˆè¡Œæº¢å‡ºä¼šå¯¼è‡´æ•°æ®å­˜å…¥æº¢å‡ºé¡µï¼Œå¢åŠ  IO æ¬¡æ•°ï¼‰ã€‚</p>
<p>è‹¥è®¾ä¸ºéå¹‚æ¬¡å€¼ï¼ˆå¦‚ 300ï¼‰ï¼Œè™½ä¹Ÿå®‰å…¨ï¼Œä½† 512 è¿™ç±»å€¼èƒ½è®© DBA / å¼€å‘äººå‘˜ â€œä¸€çœ¼ç®—å‡ºæœ€åå­—èŠ‚æ•°â€ï¼Œæ— éœ€å¤æ‚è®¡ç®—ï¼Œé™ä½å‡ºé”™æ¦‚ç‡ã€‚</p>
<h2 data-id="heading-11">äº”ã€æ¾„æ¸…ï¼šå¹¶é â€œå¿…é¡»â€ï¼Œè€Œæ˜¯ â€œé€šç”¨æœ€ä¼˜è§£â€</h2>
<p>64/128/256/512 æ˜¯<strong>é€šç”¨æœ€ä¼˜è§£</strong>ï¼Œè€Œéå¼ºåˆ¶è§„åˆ™ï¼š</p>
<ul>
<li>
<p>è‹¥ä¸šåŠ¡æ˜ç¡®å­—æ®µé•¿åº¦ï¼ˆå¦‚æ‰‹æœºå· 11ã€èº«ä»½è¯ 18ï¼‰ï¼Œåº”è®¾ä¸ºç²¾ç¡®å€¼ï¼ˆvarchar(11)ï¼‰ï¼Œé¿å…å†—ä½™ï¼ˆè™½ varchar æ˜¯å˜é•¿ï¼Œä½†ç²¾ç¡®é•¿åº¦èƒ½è®©ä¼˜åŒ–å™¨æ›´ç²¾å‡†é¢„ä¼°å†…å­˜ï¼‰ï¼›</p>
</li>
<li>
<p>è‹¥å­—æ®µé•¿åº¦ä¸ç¡®å®šï¼ˆå¦‚ç”¨æˆ·å¤‡æ³¨ï¼‰ï¼Œç”¨è¿™äº›å€¼ä½œä¸º â€œå…œåº•å€¼â€ï¼Œå…¼é¡¾çµæ´»æ€§å’Œæ€§èƒ½ï¼›</p>
</li>
<li>
<p>è‹¥æ–‡æœ¬è¶…è¿‡ 512 å­—ç¬¦ï¼Œå»ºè®®ç”¨ text æˆ– varchar(1024)ï¼Œè€Œéç»§ç»­å åŠ  512ã€‚</p>
</li>
</ul>
<h2 data-id="heading-12">æ€»ç»“ï¼šæ·±å±‚é€»è¾‘çš„æ ¸å¿ƒ</h2>
<p>varchar è®¾ä¸º 64ã€128ã€256ã€512 çš„æ ¹æœ¬åŸå› ï¼Œæ˜¯ â€œåº•å±‚å­˜å‚¨è§„åˆ™â€ ä¸ â€œä¸Šå±‚ä¸šåŠ¡éœ€æ±‚â€ çš„ç²¾å‡†åŒ¹é…ï¼š</p>
<ol>
<li>
<p>è´´åˆ varchar çš„é•¿åº¦å‰ç¼€å­˜å‚¨æœºåˆ¶ï¼Œç”¨æœ€å°‘çš„å‰ç¼€å­—èŠ‚è¦†ç›–æœ€å¤§çš„å­—ç¬¦èŒƒå›´ï¼›</p>
</li>
<li>
<p>é€‚é…è®¡ç®—æœºäºŒè¿›åˆ¶å­˜å‚¨çš„å¯¹é½è§„åˆ™ï¼Œæå‡å­˜å‚¨ / è¯»å–æ•ˆç‡ï¼›</p>
</li>
<li>
<p>é€‚é… MySQL ä¼˜åŒ–å™¨å’Œç´¢å¼•è®¾è®¡ï¼Œé¿å…æ€§èƒ½æŸè€—ï¼›</p>
</li>
<li>
<p>è¦†ç›– 90% çš„çŸ­æ–‡æœ¬ä¸šåŠ¡åœºæ™¯ï¼Œç»Ÿä¸€è§„èŒƒé™ä½ç»´æŠ¤æˆæœ¬ï¼›</p>
</li>
<li>
<p>å…¼å®¹ utf8mb4 å­—ç¬¦é›†ï¼Œé¿å…è¡Œæº¢å‡ºé£é™©ã€‚</p>
</li>
</ol>
<p>è¿™äº›æ•°å€¼æ˜¯ â€œæŠ˜ä¸­æœ€ä¼˜è§£â€â€”â€” æ—¢ä¸æµªè´¹å­˜å‚¨ï¼Œåˆä¸ç‰ºç‰²æ€§èƒ½ï¼Œè¿˜èƒ½é€‚é…ç»å¤§éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯ï¼Œå› æ­¤æˆä¸ºè¡Œä¸šé€šç”¨çš„æ ‡å‡†åšæ³•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Web3 å­¦ä¹ ï¼šSolidityä¸­çš„ç»“æ„ä½“ã€æ•°ç»„å’Œæ˜ å°„]]></title>    <link>https://juejin.cn/post/7582118218648485914</link>    <guid>https://juejin.cn/post/7582118218648485914</guid>    <pubDate>2025-12-11T02:41:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582118218648485914" data-draft-id="7582090790182764582" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Web3 å­¦ä¹ ï¼šSolidityä¸­çš„ç»“æ„ä½“ã€æ•°ç»„å’Œæ˜ å°„"/> <meta itemprop="keywords" content="ç¼–ç¨‹è¯­è¨€"/> <meta itemprop="datePublished" content="2025-12-11T02:41:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§è…¾é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/4144486968228746"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Web3 å­¦ä¹ ï¼šSolidityä¸­çš„ç»“æ„ä½“ã€æ•°ç»„å’Œæ˜ å°„
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4144486968228746/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§è…¾é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T02:41:05.000Z" title="Thu Dec 11 2025 02:41:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ˜¨å¤©è·Ÿç€githubä¸Šçš„ä¸€ä¸ªå¼€æºæ•™å­¦é¡¹ç›®å­¦ä¹ äº†ä¸€æ™šï¼Œåˆé€šè¿‡è§†é¢‘è¯¾è®²è§£ï¼Œå¯¹solidityè¯­è¨€ä¸­çš„æ•°æ®ç±»å‹å’Œå­˜å‚¨ç±»å‹æœ‰äº†ä¸€ä¸ªåŸºæœ¬çš„è®¤çŸ¥ã€‚</p>
<p>ä»Šå¤©çš„æ–‡ç« ä¸»è¦æ¢è®¨æ€»ç»“ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š<strong>Struct</strong>ã€<strong>Array</strong>ã€<strong>Mapping</strong>ï¼Œè¿™æ˜¯æˆ‘å­¦ä¹ åˆ°ç›®å‰è§‰å¾—æ¯”è¾ƒéš¾ç†è§£çš„æ¦‚å¿µã€‚</p>
<hr/>
<h2 data-id="heading-0">1. å‰ä¸¤å¤©çš„æ”¶è·</h2>
<ol>
<li><strong>è·‘é€šé“¾è·¯</strong>ï¼šåˆ›å»ºé’±åŒ…ã€è¿æµ‹è¯•ç½‘ã€é¢†æµ‹è¯•å¸ã€éƒ¨ç½²åˆçº¦ã€ä¸Šé“¾äº¤æ˜“ï¼Œå…¨ç¨‹éªŒè¯æˆåŠŸã€‚</li>
<li><strong>åƒé€ç®€å•åˆçº¦</strong>ï¼šå†™äº†ä¸ª â€œset å­˜æ•°å­—ã€get è¯»æ•°å­—â€ çš„æç®€åˆçº¦ï¼Œææ‡‚äº†çŠ¶æ€å˜é‡ï¼ˆé“¾ä¸Šé•¿æœŸå­˜ï¼‰ã€view å‡½æ•°ï¼ˆçº¯æŸ¥è¯¢ä¸èŠ±é’±ï¼‰ã€Gasï¼ˆå†™æ“ä½œè¦ä»˜è´¹ï¼‰è¿™äº›åŸºç¡€é€»è¾‘ã€‚</li>
</ol>
<blockquote>
<p><strong>ç¬¬ä¸‰å¤©</strong>ï¼šæ•°æ®ç±»å‹çš„å­¦ä¹ æ¯”è¾ƒè½»æ¾ï¼Œè™½ç„¶å†…å®¹å¤šä½†æ˜¯éƒ½æ¯”è¾ƒå¥½ç†è§£ï¼Œå­˜å‚¨ç±»å‹ï¼ˆstorage/memoryï¼‰å…ˆç•™ä¸ªå°è±¡ï¼Œè™½ç„¶æ¦‚å¿µç®€å•ä½†æ˜¯æ„Ÿè§‰åº•å±‚é€»è¾‘éœ€è¦è¿›ä¸€æ­¥ç†è§£ï¼Œä¹‹åå†è®¨è®ºã€‚</p>
</blockquote>
<h2 data-id="heading-1">2. Structï¼ˆç»“æ„ä½“ï¼‰</h2>
<p>Solidityä¸­æœ‰å¾ˆå¤šçš„æ•°æ®ç±»å‹ï¼Œå¤§å¤šæ•°è¿˜æ¯”è¾ƒå¥½ç†è§£ï¼Œä½†æ˜¯çœŸå®ä¸šåŠ¡ä¸­ï¼Œå¦‚æœåªç”¨åŸºæœ¬ç±»å‹ï¼Œä¼šå¾ˆæ•£ä¹±</p>
<p><strong>Struct</strong> çš„ä½œç”¨ï¼šæŠŠä¸€æ¡è®°å½•çš„å¤šä¸ªå­—æ®µç»‘åœ¨ä¸€èµ·ï¼Œç»™å®ƒèµ·ä¸€ä¸ªç±»å‹åå­—ã€‚</p>
<pre><code class="hljs language-solidity" lang="solidity">struct Message {
    address sender;    // å‘é€è€…åœ°å€
    string content;    // ç•™è¨€å†…å®¹
    uint256 timestamp; // å‘é€æ—¶é—´
}
</code></pre>
<p>å®ƒæœ‰çš„ç±»ä¼¼ä¸€ä¸ªæ•°æ®æ¨¡æ¿ â€”â€” ä¸ç®¡æ˜¯è®¢å•ã€ä»“ä½è¿˜æ˜¯æŠ¥ä»·ï¼Œå…ˆæŠŠ â€œä¸€æ¡è®°å½•è¯¥æœ‰å“ªäº›ä¿¡æ¯â€ å®šä¹‰æ¸…æ¥šï¼Œåé¢å†™ä»£ç é€»è¾‘ä¼šé¡ºå¾ˆå¤šã€‚</p>
<blockquote>
<p><strong>å¿ƒå¾—</strong>ï¼šç»“æ„ä½“æœ¬è´¨ä¸Šå°±åƒ Excel é‡Œçš„ä¸€è¡Œã€‚</p>
</blockquote>
<h2 data-id="heading-2">3. Arrayï¼ˆæ•°ç»„ï¼‰</h2>
<p>Structæ˜¯å•æ¡è®°å½•çš„æ¨¡æ¿ï¼Œé‚£ä¹ˆè‡ªç„¶è¦è§£å†³å­˜ä¸€æ‰¹è®°å½•çš„é—®é¢˜ ã€‚</p>
<p><strong>Arrayï¼ˆæ•°ç»„ï¼‰</strong> çš„å®šä½æ˜¯æœ‰åºé›†åˆã€‚æ¯”å¦‚ç”¨åˆšæ‰çš„ <code>Message</code> æ¨¡æ¿ï¼Œå®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">Message[] public messages;
</code></pre>
<p>è¿™å°±æˆäº†ä¸€ä¸ªç•™è¨€æ—¶é—´çº¿ï¼Œæ–°ç•™è¨€ç›´æ¥å¾€åé¢åŠ ï¼Œæƒ³æŸ¥ç¬¬å‡ æ¡ï¼ŒæŒ‰ç¼–å·å°±èƒ½æ‰¾åˆ°ã€‚</p>
<p>ç°é˜¶æ®µä¸ç”¨æ·±ç©¶å¤æ‚æ“ä½œï¼Œè®°ä½ä¸‰ä¸ªæ ¸å¿ƒå°±å¤Ÿï¼š</p>
<ol>
<li><strong>æŒ‰é¡ºåºè¿½åŠ </strong>ï¼šç”¨ <code>push</code> æŠŠæ–°è®°å½•åŠ åˆ°æ•°ç»„æœ«å°¾ã€‚</li>
<li><strong>æŒ‰ä¸‹æ ‡è®¿é—®</strong>ï¼šé€šè¿‡ç´¢å¼•ï¼ˆæ¯”å¦‚ <code>messages[0]</code>ï¼‰è¯»æŸä¸€æ¡ã€‚</li>
<li><strong>åˆ«åœ¨é“¾ä¸Šå¤§è§„æ¨¡éå†</strong>ï¼šéå†æ•°ç»„è¶…è´¹ Gasï¼Œå¤æ‚æŸ¥è¯¢å°½é‡æ”¾é“¾ä¸‹åšã€‚</li>
</ol>
<blockquote>
<p><strong>å¿ƒå¾—</strong>ï¼šStruct å®šä¹‰<strong>å•æ¡è®°å½•é•¿ä»€ä¹ˆæ ·</strong>ï¼ŒArray<strong>è´Ÿè´£æŠŠä¸€æ‰¹è®°å½•æŒ‰é¡ºåºæ’å¥½</strong>ã€‚</p>
</blockquote>
<h2 data-id="heading-3">4. Mappingï¼ˆæ˜ å°„ï¼‰</h2>
<p>æ•°ç»„é€‚åˆ â€œæŒ‰é¡ºåºå­˜ã€æŒ‰ç¼–å·æŸ¥â€ï¼Œä½†å¾ˆå¤šåœºæ™¯å…¶å®æ˜¯ â€œæŒ‰å…³é”®è¯æŸ¥çŠ¶æ€â€ï¼š</p>
<ul>
<li>æŸä¸ªåœ°å€çš„ä½™é¢æ˜¯å¤šå°‘ï¼Ÿ</li>
<li>æŸ Token ç°åœ¨å±äºè°ï¼Ÿ</li>
<li>æŸä¸ªç”¨æˆ·å‘äº†å¤šå°‘æ¡ç•™è¨€ï¼Ÿ</li>
</ul>
<p>è¿™æ—¶å€™ <strong>Mappingï¼ˆæ˜ å°„ï¼‰</strong> å°±æ¯”æ•°ç»„å¥½ç”¨å¤šäº†ï¼Œå®ƒåƒä¸ª â€œé”®å€¼å¯¹å­—å…¸â€ï¼Œç›´æ¥æŒ‰ Key æŸ¥ Valueï¼Œä¸ç”¨ç¿»æ¥ç¿»å»ï¼š</p>
<pre><code class="hljs language-solidity" lang="solidity">mapping(address =&gt; uint256) public balance;     // åœ°å€ â†’ ä½™é¢
mapping(uint256 =&gt; address) public tokenOwner;  // TokenId â†’ æŒæœ‰è€…
mapping(address =&gt; bool) public isWhitelisted;  // åœ°å€ â†’ æ˜¯å¦åœ¨ç™½åå•
</code></pre>
<p>Mapping çš„å…³é”®ç‰¹å¾ç”¨ï¼š</p>
<ol>
<li><strong>æŸ¥å¾—å¿«</strong>ï¼šæŒ‰ Key ç›´æ¥å®šä½ï¼Œä¸ç”¨éå†ã€‚</li>
<li><strong>æœ‰é»˜è®¤å€¼</strong>ï¼šæ²¡èµ‹å€¼çš„ Keyï¼Œè¯»å‡ºæ¥æ˜¯ç±»å‹é»˜è®¤å€¼ï¼ˆæ•°å­— 0ã€å¸ƒå°” falseï¼‰ã€‚</li>
<li><strong>ä¸èƒ½ç›´æ¥éå†</strong>ï¼šæƒ³æ‹¿æ‰€æœ‰ Key çš„åˆ—è¡¨ï¼Œå¾—é…åˆæ•°ç»„ä¸€èµ·è®¾è®¡ã€‚</li>
</ol>
<blockquote>
<p><strong>å¿ƒå¾—</strong>ï¼šmappingæ˜¯è¿™ä¸‰ä¸ªæ¦‚å¿µä¸­æœ€å¥½ç†è§£çš„ã€‚</p>
</blockquote>
<h2 data-id="heading-4">5. æ ¸å¿ƒç»„åˆï¼šStruct + Array + Mapping æ­ä¸šåŠ¡æ¨¡å‹</h2>
<p>è¿™ä¸‰ä¸ªæ¦‚å¿µå•ç‹¬çœ‹éƒ½å¥½ç†è§£ï¼Œç»„åˆèµ·æ¥å°±èƒ½è¦†ç›–å¾ˆå¤šåŸºç¡€ä¸šåŠ¡åœºæ™¯ã€‚</p>
<p>æ¯”å¦‚æ¥ä¸‹æ¥è¿™ä¸ªåŒºå—é“¾ä¸Šçš„ç•™è¨€æ¿ï¼š</p>
<ul>
<li><code>struct Message</code>ï¼šå®šä¹‰ä¸€æ¡ç•™è¨€çš„å­—æ®µï¼ˆå‘é€è€…ã€å†…å®¹ã€æ—¶é—´ï¼‰ã€‚</li>
<li><code>Message[] messages</code>ï¼šå­˜æ‰€æœ‰ç•™è¨€ï¼ŒæŒ‰æ—¶é—´é¡ºåºæ’åˆ—ï¼ˆæ—¶é—´çº¿ï¼‰ã€‚</li>
<li><code>mapping(address =&gt; uint256) messageCount</code>ï¼šè®°å½•æ¯ä¸ªåœ°å€å‘äº†å¤šå°‘æ¡ç•™è¨€ï¼ˆæŸ¥çŠ¶æ€ï¼‰ã€‚</li>
</ul>
<p>å…¶å®å¾ˆå¤š DeFiã€NFT åè®®çš„åŸºç¡€æ•°æ®å½¢æ€ï¼Œæœ¬è´¨éƒ½æ˜¯è¿™ä¸‰å— â€œç§¯æœ¨â€ çš„ç»„åˆã€‚</p>
<hr/>
<h2 data-id="heading-5">å°ç»“</h2>
<p>ç”±äºç¼–ç¨‹åŸºç¡€æœ‰ç‚¹è–„å¼±ï¼Œæ˜¨å¤©æ­£å¼å­¦ä¹ solidityçš„æ„Ÿè§‰æ˜¯ä¸€ä¸‹å­ä¿¡æ¯é‡å¤ªå¤§ï¼Œå¾ˆå¤šæ¦‚å¿µç†è§£ä¸äº†æˆ–è€…è®°ä¸ä½ï¼Œåæ¥å‘ç°å­¦ä¸ä¼šçš„å…ˆä¸å­¦ï¼Œè¿›åº¦å°±å¿«å¤šäº†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spark RDD ç¼–ç¨‹ä»é©±åŠ¨ç¨‹åºåˆ°å…±äº«å˜é‡ã€Shuffle ä¸æŒä¹…åŒ–]]></title>    <link>https://juejin.cn/post/7582155513585582132</link>    <guid>https://juejin.cn/post/7582155513585582132</guid>    <pubDate>2025-12-11T03:02:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582155513585582132" data-draft-id="7582200865907015714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spark RDD ç¼–ç¨‹ä»é©±åŠ¨ç¨‹åºåˆ°å…±äº«å˜é‡ã€Shuffle ä¸æŒä¹…åŒ–"/> <meta itemprop="keywords" content="å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2025-12-11T03:02:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="HelloReader"/> <meta itemprop="url" content="https://juejin.cn/user/2601910535729322"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spark RDD ç¼–ç¨‹ä»é©±åŠ¨ç¨‹åºåˆ°å…±äº«å˜é‡ã€Shuffle ä¸æŒä¹…åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2601910535729322/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    HelloReader
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:02:13.000Z" title="Thu Dec 11 2025 03:02:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. Spark åº”ç”¨çš„åŸºæœ¬å½¢æ€</h2>
<ul>
<li><strong>Driverï¼ˆé©±åŠ¨ç¨‹åºï¼‰</strong>ï¼šè¿è¡Œä½ çš„ <code>main</code> å‡½æ•°ï¼Œè´Ÿè´£æ„å»º DAGã€æäº¤ä»»åŠ¡ã€æ±‡æ€»ç»“æœã€‚</li>
<li><strong>Executorsï¼ˆæ‰§è¡Œå™¨ï¼‰</strong>ï¼šåˆ†å¸ƒåœ¨é›†ç¾¤å„èŠ‚ç‚¹ï¼Œæ‰§è¡Œå¹¶è¡Œä»»åŠ¡ã€‚</li>
<li><strong>RDDï¼ˆResilient Distributed Datasetï¼‰</strong>ï¼šSpark çš„æ ¸å¿ƒæŠ½è±¡â€”â€”<strong>å¯å¹¶è¡Œæ“ä½œã€å…·å®¹é”™èƒ½åŠ›</strong>çš„åˆ†å¸ƒå¼æ•°æ®é›†ã€‚RDD çš„æ¯ä¸ªåˆ†åŒºåœ¨ä¸åŒèŠ‚ç‚¹å¤„ç†ã€‚</li>
</ul>
<p><strong>è·å– RDD çš„ä¸¤æ¡è·¯å¾„ï¼š</strong></p>
<ol>
<li>ä»å¤–éƒ¨å­˜å‚¨è¯»å–ï¼ˆHDFSã€æœ¬åœ°ã€S3ã€HBaseã€ä»»æ„ Hadoop InputFormatï¼‰</li>
<li>ä» Driver çš„æœ¬åœ°é›†åˆå¹¶è¡ŒåŒ–ï¼ˆ<code>sc.parallelize</code>ï¼‰</li>
</ol>
<p><strong>å®¹é”™æ€§</strong>ï¼šRDD åŸºäº lineageï¼ˆè¡€ç¼˜ï¼‰è‡ªåŠ¨ä»å¤±è´¥èŠ‚ç‚¹æ¢å¤ã€‚
<strong>æŒä¹…åŒ–</strong>ï¼šå¯å°† RDD ç¼“å­˜åœ¨å†…å­˜æˆ–ç£ç›˜ï¼Œé‡å¤ä½¿ç”¨æ—¶æ˜¾è‘—åŠ é€Ÿã€‚</p>
<h2 data-id="heading-1">2. å…±äº«å˜é‡ï¼šBroadcast ä¸ Accumulator</h2>
<ul>
<li><strong>é»˜è®¤è¡Œä¸º</strong>ï¼šå¹¶è¡Œä»»åŠ¡ä¼šæ”¶åˆ°â€œé—­åŒ…â€çš„<strong>æ‹·è´</strong>ï¼Œå„ Executor å†…éƒ¨ä¿®æ”¹å¯¹ Driver ä¸å¯è§ã€‚</li>
<li><strong>Broadcastï¼ˆå¹¿æ’­å˜é‡ï¼‰</strong>ï¼šæŠŠ<strong>åªè¯»</strong>çš„å¤§å¯¹è±¡é«˜æ•ˆåˆ†å‘å¹¶ç¼“å­˜åˆ°å„èŠ‚ç‚¹ã€‚</li>
<li><strong>Accumulatorï¼ˆç´¯åŠ å™¨ï¼‰</strong>ï¼š<strong>åªæ”¯æŒåŠ æ³•</strong>ï¼ˆäº¤æ¢ç»“åˆï¼‰ï¼Œç”¨äºè®¡æ•°/æ±‚å’Œç­‰å…¨å±€èšåˆï¼›<strong>ä»… Driver å¯è¯»å€¼</strong>ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼ˆPythonï¼‰ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Broadcast</span>
bvar = sc.broadcast({&amp;<span class="hljs-comment">#34;threshold&amp;#34;: 10})</span>
rdd.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: x &gt; bvar.value[&amp;<span class="hljs-comment">#34;threshold&amp;#34;]).count()</span>

<span class="hljs-comment"># Accumulator</span>
acc = sc.accumulator(<span class="hljs-number">0</span>)
sc.parallelize([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]).foreach(<span class="hljs-keyword">lambda</span> x: acc.add(x))
<span class="hljs-built_in">print</span>(acc.value)  <span class="hljs-comment"># 10</span>
</code></pre>
<blockquote>
<p>ç”Ÿäº§å»ºè®®ï¼šå¹¿æ’­å¯¹è±¡<strong>åˆ›å»ºåä¸è¦å†ä¿®æ”¹</strong>ï¼›ç´¯åŠ å™¨çš„æ›´æ–°åº”åœ¨ <strong>action</strong> å†…è¿›è¡Œï¼ˆåœ¨ transformation ä¸­å¯èƒ½è¢«é‡å¤æ‰§è¡Œï¼‰ã€‚</p>
</blockquote>
<h2 data-id="heading-2">3. è¯­è¨€ä¸ç¯å¢ƒï¼šå¦‚ä½•é“¾æ¥ Spark</h2>
<ul>
<li>
<p><strong>PySpark ç‰ˆæœ¬</strong>ï¼šSpark 4.0.1 é€‚é… <strong>Python 3.9+</strong>ï¼Œæ”¯æŒ CPython / PyPy 7.3.6+ã€‚</p>
</li>
<li>
<p><strong>ä¸¤ç§è¿è¡Œæ–¹å¼</strong>ï¼š</p>
<ul>
<li><code>bin/spark-submit</code> / <code>bin/pyspark</code>ï¼ˆæ— éœ€ pip å®‰è£… PySparkï¼‰</li>
<li><code>pip install pyspark</code> åï¼Œç›´æ¥ <code>python your_app.py</code> æˆ–ç»§ç»­ç”¨ <code>spark-submit</code></li>
</ul>
</li>
<li>
<p><strong>åœ¨é¡¹ç›®é‡Œå£°æ˜ä¾èµ–ï¼ˆç¤ºä¾‹ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">install_requires = [&amp;<span class="hljs-comment">#34;pyspark==4.0.1&amp;#34;]</span>
</code></pre>
</li>
<li>
<p><strong>é€‰æ‹© Python è§£é‡Šå™¨</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">PYSPARK_PYTHON=python3.10 bin/pyspark
PYSPARK_PYTHON=/path/to/pypy bin/spark-submit app.py
</code></pre>
</li>
</ul>
<h2 data-id="heading-3">4. åˆå§‹åŒ– Sparkï¼šSparkConf / SparkContext</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pyspark <span class="hljs-keyword">import</span> SparkConf, SparkContext

conf = SparkConf().setAppName(&amp;<span class="hljs-comment">#34;MyApp&amp;#34;).setMaster(&amp;#34;local[4]&amp;#34;)  # æœ¬åœ°4æ ¸</span>
sc = SparkContext(conf=conf)
</code></pre>
<blockquote>
<p>åœ¨ <strong>ç”Ÿäº§é›†ç¾¤</strong>ä¸­å¸¸ç”¨ <code>spark-submit --master ...</code> ä¼ å…¥ masterï¼Œä¸åœ¨ä»£ç é‡Œç¡¬ç¼–ç ã€‚</p>
</blockquote>
<h2 data-id="heading-4">5. ç”¨ Shell å¿«é€Ÿå®éªŒï¼ˆå¼ºçƒˆæ¨èï¼‰</h2>
<ul>
<li>
<p><strong>è¿›å…¥äº¤äº’å¼ Shell</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">./bin/pyspark --master &amp;<span class="hljs-comment">#34;local[4]&amp;#34; \</span>
  --py-files code.py \
  --packages groupId:artifactId:version \
  --repositories https://repo1.maven.org/maven2
</code></pre>
</li>
<li>
<p><strong>IPython / Jupyter</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">PYSPARK_DRIVER_PYTHON=ipython ./bin/pyspark

PYSPARK_DRIVER_PYTHON=jupyter \
PYSPARK_DRIVER_PYTHON_OPTS=notebook \
./bin/pyspark
</code></pre>
</li>
</ul>
<blockquote>
<p>åœ¨ Notebook é‡Œå¯ç”¨ <code>%pylab inline</code> åšå†…åµŒå¯è§†åŒ–ã€‚</p>
</blockquote>
<h2 data-id="heading-5">6. åˆ›å»º RDDï¼šå¹¶è¡ŒåŒ– vs. å¤–éƒ¨æ•°æ®é›†</h2>
<h3 data-id="heading-6">6.1 å¹¶è¡ŒåŒ–æœ¬åœ°é›†åˆ</h3>
<pre><code class="hljs language-python" lang="python">data = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]
dist = sc.parallelize(data, numSlices=<span class="hljs-number">4</span>)
<span class="hljs-built_in">print</span>(dist.reduce(<span class="hljs-keyword">lambda</span> a,b: a+b))  <span class="hljs-comment"># 15</span>
</code></pre>
<blockquote>
<p>åˆ†åŒºæ•°ç»éªŒå€¼ï¼šæ¯ä¸ª CPU 2~4 ä»½ã€‚</p>
</blockquote>
<h3 data-id="heading-7">6.2 å¤–éƒ¨æ•°æ®é›†ï¼ˆText / WholeText / SequenceFile / ä»»æ„ InputFormatï¼‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># è¡Œå¼æ–‡æœ¬</span>
distFile = sc.textFile(&amp;<span class="hljs-comment">#34;hdfs:///data/input/*.txt&amp;#34;)</span>
total = distFile.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> s: <span class="hljs-built_in">len</span>(s)).reduce(<span class="hljs-keyword">lambda</span> a,b: a+b)

<span class="hljs-comment"># small files -&gt; (filename, content)</span>
pairs = sc.wholeTextFiles(&amp;<span class="hljs-comment">#34;s3a://bucket/path/&amp;#34;)</span>

<span class="hljs-comment"># SequenceFileï¼ˆKVï¼‰</span>
rdd = sc.parallelize(<span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>,<span class="hljs-number">4</span>)).<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: (x, &amp;<span class="hljs-comment">#34;a&amp;#34;*x))</span>
rdd.saveAsSequenceFile(&amp;<span class="hljs-comment">#34;path/to/file&amp;#34;)</span>
<span class="hljs-built_in">print</span>(<span class="hljs-built_in">sorted</span>(sc.sequenceFile(&amp;<span class="hljs-comment">#34;path/to/file&amp;#34;).collect()))</span>
<span class="hljs-comment"># [(1,'a'), (2,'aa'), (3,'aaa')]</span>

<span class="hljs-comment"># è‡ªå®šä¹‰ InputFormatï¼ˆä¾‹ï¼šElasticsearchï¼‰</span>
<span class="hljs-comment"># ./bin/pyspark --jars elasticsearch-hadoop.jar</span>
conf = {&amp;<span class="hljs-comment">#34;es.resource&amp;#34;: &amp;#34;index/type&amp;#34;}</span>
es_rdd = sc.newAPIHadoopRDD(
    &amp;<span class="hljs-comment">#34;org.elasticsearch.hadoop.mr.EsInputFormat&amp;#34;,</span>
    &amp;<span class="hljs-comment">#34;org.apache.hadoop.io.NullWritable&amp;#34;,</span>
    &amp;<span class="hljs-comment">#34;org.elasticsearch.hadoop.mr.LinkedMapWritable&amp;#34;,</span>
    conf=conf
)
<span class="hljs-built_in">print</span>(es_rdd.first())  <span class="hljs-comment"># =&gt; Python dict</span>
</code></pre>
<blockquote>
<p>è¯»å–<strong>æœ¬åœ°è·¯å¾„</strong>æ—¶éœ€ç¡®ä¿ worker ä¹Ÿèƒ½è®¿é—®ï¼›é€šé…ä¸å‹ç¼©æ–‡ä»¶å¼€ç®±å³ç”¨ã€‚</p>
</blockquote>
<h2 data-id="heading-8">7. RDD ç¼–ç¨‹æ¨¡å‹ï¼šè½¬æ¢ï¼ˆTransformationsï¼‰ä¸è¡ŒåŠ¨ï¼ˆActionsï¼‰</h2>
<ul>
<li>
<p><strong>Lazy</strong>ï¼šè½¬æ¢æ˜¯å»¶è¿Ÿçš„ï¼Œä»…åœ¨é‡åˆ°è¡ŒåŠ¨æ—¶è§¦å‘è®¡ç®—ã€‚</p>
</li>
<li>
<p><strong>å¸¸ç”¨è½¬æ¢</strong>ï¼ˆéƒ¨åˆ†ï¼‰ï¼š</p>
<ul>
<li><code>map</code> / <code>flatMap</code> / <code>filter</code></li>
<li><code>mapPartitions</code> / <code>mapPartitionsWithIndex</code></li>
<li><code>union</code> / <code>intersection</code> / <code>distinct</code></li>
<li><code>groupByKey</code>ï¼ˆèšåˆæ¨è <code>reduceByKey/aggregateByKey</code>ï¼‰</li>
<li><code>reduceByKey</code> / <code>aggregateByKey</code></li>
<li><code>join</code> / <code>leftOuterJoin</code> / <code>cogroup</code></li>
<li><code>repartition</code> / <code>coalesce</code> / <code>repartitionAndSortWithinPartitions</code></li>
</ul>
</li>
<li>
<p><strong>å¸¸ç”¨è¡ŒåŠ¨</strong>ï¼ˆéƒ¨åˆ†ï¼‰ï¼š</p>
<ul>
<li><code>reduce</code> / <code>collect</code> / <code>count</code> / <code>first</code> / <code>take</code> / <code>takeSample</code></li>
<li><code>takeOrdered</code> / <code>saveAsTextFile</code> / <code>countByKey</code> / <code>foreach</code></li>
</ul>
</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python">lines = sc.textFile(&amp;<span class="hljs-comment">#34;data.txt&amp;#34;)</span>
lineLens = lines.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> s: <span class="hljs-built_in">len</span>(s))     <span class="hljs-comment"># è½¬æ¢</span>
total    = lineLens.reduce(<span class="hljs-keyword">lambda</span> a,b: a+b) <span class="hljs-comment"># è¡ŒåŠ¨</span>
</code></pre>
<blockquote>
<p><strong>å¤ç”¨</strong>ï¼šå¦‚æœ <code>lineLens</code> åç»­è¿˜ä¼šå¤šæ¬¡ä½¿ç”¨ï¼Œå»ºè®®å…ˆ <code>lineLens.persist()</code>ã€‚</p>
</blockquote>
<h2 data-id="heading-9">8. é—­åŒ…ä¸å‰¯ä½œç”¨ï¼šä¸ºä»€ä¹ˆâ€œç›´æ¥æ”¹å…¨å±€å˜é‡â€ä¼šç¿»è½¦</h2>
<pre><code class="hljs language-python" lang="python">counter = <span class="hljs-number">0</span>
rdd = sc.parallelize([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>])

<span class="hljs-keyword">def</span> <span class="hljs-title function_">inc</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">global</span> counter
    counter += x

<span class="hljs-comment"># é”™è¯¯ç¤ºèŒƒï¼šExecutor æ”¹çš„æ˜¯é—­åŒ…å‰¯æœ¬ï¼ŒDriver çœ‹ä¸åˆ°</span>
rdd.foreach(inc)
<span class="hljs-built_in">print</span>(counter)  <span class="hljs-comment"># ä»å¯èƒ½æ˜¯ 0ï¼ˆåˆ†å¸ƒå¼ä¸‹ï¼‰</span>
</code></pre>
<ul>
<li>åœ¨åˆ†å¸ƒå¼æ¨¡å¼ï¼Œä»»åŠ¡æ‰§è¡Œå‰é—­åŒ…ä¼šè¢«<strong>åºåˆ—åŒ–</strong>å¹¶<strong>æ‹·è´</strong>åˆ°å„ Executorï¼›ä¿®æ”¹å‘ç”Ÿåœ¨å‰¯æœ¬ä¸Šã€‚</li>
<li><strong>æ­£ç¡®åšæ³•</strong>ï¼šä½¿ç”¨ <strong>Accumulator</strong> èšåˆï¼Œæˆ–æŠŠéœ€è¦çš„â€œé…ç½®â€æå‰åšæˆ <strong>Broadcast</strong>ã€‚</li>
</ul>
<p><strong>æ‰“å°å…ƒç´ </strong>ï¼šæƒ³åœ¨ Driver æ‰“å°ï¼Œç”¨ <code>take</code>/<code>collect</code> ååœ¨ Driver æ‰“å°ï¼›ä¸è¦åœ¨ Executor é‡Œ <code>print</code> æœŸå¾…å›åˆ° Driverã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> rdd.take(<span class="hljs-number">100</span>):
    <span class="hljs-built_in">print</span>(x)
</code></pre>
<h2 data-id="heading-10">9. Shuffleï¼šæœ€æ˜‚è´µä½†ä¸å¯é¿å…çš„é‡åˆ†å¸ƒ</h2>
<p><strong>è§¦å‘åœºæ™¯</strong>ï¼š<code>reduceByKey/aggregateByKey/groupByKey/join/repartition/coalesce(æ‰©å¤§åˆ†åŒº)</code> ç­‰ã€‚
<strong>å¼€é”€æ¥æº</strong>ï¼šç½‘ç»œä¼ è¾“ã€ç£ç›˜ I/Oã€åºåˆ—åŒ–/ååºåˆ—åŒ–ã€å †ä¸Šæ•°æ®ç»“æ„ï¼ˆæº¢å‡ºåè½ç›˜ï¼‰ã€‚
<strong>å†…éƒ¨æœºåˆ¶</strong>ï¼šmap ç«¯å†™æŒ‰ç›®æ ‡åˆ†åŒºæ’åºçš„ä¸­é—´æ–‡ä»¶ï¼›reduce ç«¯æŒ‰éœ€æ‹‰å–å¹¶èšåˆã€‚
<strong>æ’åºä¸é¡ºåº</strong>ï¼šShuffle å<strong>åˆ†åŒºé›†åˆä¸åˆ†åŒºé¡ºåºå¯ç¡®å®š</strong>ï¼Œä½†<strong>åˆ†åŒºå†…å…ƒç´ é¡ºåºä¸ä¿è¯</strong>ï¼›éœ€è¦æœ‰åºè¯·ç”¨ï¼š</p>
<ul>
<li><code>mapPartitions(...)</code> å†…æ’åº</li>
<li><code>repartitionAndSortWithinPartitions(...)</code></li>
<li><code>sortBy(...)</code> è¿›è¡Œå…¨å±€æ’åº</li>
</ul>
<p><strong>è°ƒä¼˜æç¤º</strong>ï¼š</p>
<ul>
<li>é€‚åº¦æé«˜å¹¶è¡Œåº¦ï¼ˆ<code>spark.sql.shuffle.partitions</code> / <code>rdd.repartition(n)</code>ï¼‰</li>
<li>é¿å…æ»¥ç”¨ <code>groupByKey</code>ï¼Œä¼˜å…ˆ <code>reduceByKey/aggregateByKey</code></li>
<li>ç›‘æ§ä¸´æ—¶ç›®å½•ç£ç›˜ï¼ˆ<code>spark.local.dir</code>ï¼‰ï¼Œé•¿ä½œä¸šæ³¨æ„ä¸­é—´æ–‡ä»¶æ¸…ç†æ—¶æœº</li>
</ul>
<h2 data-id="heading-11">10. æŒä¹…åŒ–ï¼ˆç¼“å­˜ï¼‰ç­–ç•¥</h2>
<pre><code class="hljs language-python" lang="python">rdd.cache()  <span class="hljs-comment"># = persist(StorageLevel.MEMORY_ONLY)</span>
<span class="hljs-comment"># or</span>
<span class="hljs-keyword">from</span> pyspark.storagelevel <span class="hljs-keyword">import</span> StorageLevel
rdd.persist(StorageLevel.MEMORY_AND_DISK)
</code></pre>
<p><strong>Python å­˜å‚¨çº§åˆ«ï¼š</strong> <code>MEMORY_ONLY[_2]</code>ã€<code>MEMORY_AND_DISK[_2]</code>ã€<code>DISK_ONLY[_2|_3]</code> ç­‰ï¼›å¯¹è±¡ä¼šé€šè¿‡ <strong>Pickle</strong> åºåˆ—åŒ–ã€‚
<strong>é€‰æ‹©æŒ‡å—</strong>ï¼š</p>
<ol>
<li>èƒ½æ”¾ä¸‹å°±ç”¨ <code>MEMORY_ONLY</code>ï¼ˆCPU æœ€çœï¼‰</li>
<li>æ”¾ä¸ä¸‹ â†’ <code>MEMORY_ONLY_SER</code>/<code>MEMORY_AND_DISK</code>ï¼ˆScala/Java ä¸‹ SER æ›´çœå†…å­˜ï¼›PySparkå¤©ç„¶åºåˆ—åŒ–ï¼‰</li>
<li>ä¸è½»æ˜“â€œæº¢å‡ºåˆ°ç£ç›˜â€ï¼Œé™¤éé‡ç®—æˆæœ¬æ›´é«˜</li>
<li>Web æœåŠ¡ä½å»¶è¿Ÿ + å¿«é€Ÿå®¹é”™ â†’ <code>_2</code> çº§åˆ«åšå‰¯æœ¬</li>
<li>é‡Šæ”¾ç¼“å­˜ï¼š<code>rdd.unpersist(blocking=True)</code></li>
</ol>
<h2 data-id="heading-12">11. ç”¨ Key-Value RDD åšèšåˆä¸ Joinï¼ˆPySparkï¼‰</h2>
<pre><code class="hljs language-python" lang="python">lines  = sc.textFile(&amp;<span class="hljs-comment">#34;data.txt&amp;#34;)</span>
pairs  = lines.<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> s: (s, <span class="hljs-number">1</span>))
counts = pairs.reduceByKey(<span class="hljs-keyword">lambda</span> a,b: a+b)
topN   = counts.sortBy(<span class="hljs-keyword">lambda</span> kv: kv[<span class="hljs-number">1</span>], ascending=<span class="hljs-literal">False</span>).take(<span class="hljs-number">10</span>)
</code></pre>
<h2 data-id="heading-13">12. éƒ¨ç½²åˆ°é›†ç¾¤ä¸ä½œä¸šå¯åŠ¨</h2>
<ul>
<li><strong>æ‰“åŒ…</strong>ï¼šScala/Java â†’ JARï¼›Python â†’ <code>.py/.zip</code>ï¼ˆä¾èµ–èµ° <code>--py-files</code> æˆ–é›†ç¾¤é•œåƒï¼‰</li>
<li><strong>æäº¤</strong>ï¼š<code>bin/spark-submit</code> å¯æŠ•é€’åˆ° Standalone / YARN / Kubernetes</li>
<li><strong>åµŒå…¥å¼å¯åŠ¨</strong>ï¼ˆJava/Scalaï¼‰ï¼š<code>org.apache.spark.launcher</code> æä¾›å­è¿›ç¨‹ API</li>
</ul>
<h2 data-id="heading-14">13. å•å…ƒæµ‹è¯•å‹å¥½</h2>
<ul>
<li>æµ‹è¯•ä¸­ç”¨ <code>local[*]</code> åˆ›å»º <code>SparkContext</code></li>
<li>åœ¨ <code>tearDown</code> æˆ– <code>finally</code> ä¸­ <code>sc.stop()</code>ï¼Œç¡®ä¿åŒä¸€è¿›ç¨‹åªå­˜åœ¨ä¸€ä¸ª <code>SparkContext</code></li>
</ul>
<h2 data-id="heading-15">14. å®ç”¨æ¸…å•ï¼ˆTroubleshooting &amp; Best Practicesï¼‰</h2>
<ul>
<li><strong>é—­åŒ…é™·é˜±</strong>ï¼šä¸è¦åœ¨ Executor ä¿®æ”¹ Driver å˜é‡ï¼›ç”¨ Accumulatorã€‚</li>
<li><strong>Driver OOM</strong>ï¼šé¿å…å¯¹å¤§ RDD <code>collect()</code>ï¼›å…ˆ <code>take</code>/<code>sample</code>/<code>saveAsTextFile</code>ã€‚</li>
<li><strong>åˆ†åŒºæ•°</strong>ï¼šMap é˜¶æ®µ/Shuffle åé€‚åº¦æå‡å¹¶è¡Œåº¦ï¼›å°ç»“æœå†™å‡ºå¯ <code>coalesce(1)</code>ã€‚</li>
<li><strong>æ•°æ®è·¯å¾„</strong>ï¼šæœ¬åœ°/å…±äº«/åˆ†å¸ƒå¼è·¯å¾„è¦ä¸€è‡´å¯è§ï¼›S3/HDFS ç”¨ <code>s3a://</code>/<code>hdfs://</code>ã€‚</li>
<li><strong>ä¾èµ–ç®¡ç†</strong>ï¼šç¬¬ä¸‰æ–¹è¿æ¥å™¨èµ° <code>--packages</code> æˆ– <code>--jars</code>ï¼ŒPython ä¾èµ–ç”¨ <code>--py-files</code>/é•œåƒã€‚</li>
<li><strong>çƒ­æ•°æ®ç¼“å­˜</strong>ï¼šç¡®å®â€œå¸¸ç”¨å†ç¼“å­˜â€ï¼Œé…åˆ WebUI è§‚å¯Ÿå‘½ä¸­ä¸å†…å­˜å ç”¨ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java è¯»å–æˆ–åˆ é™¤ Excel æ–‡ä»¶æ–‡æ¡£å±æ€§ï¼šSpire.XLS for Java å®ç”¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7582066556089155647</link>    <guid>https://juejin.cn/post/7582066556089155647</guid>    <pubDate>2025-12-11T01:44:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582066556089155647" data-draft-id="7582118538561421331" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java è¯»å–æˆ–åˆ é™¤ Excel æ–‡ä»¶æ–‡æ¡£å±æ€§ï¼šSpire.XLS for Java å®ç”¨æŒ‡å—"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-11T01:44:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·033212666367"/> <meta itemprop="url" content="https://juejin.cn/user/230252528804124"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java è¯»å–æˆ–åˆ é™¤ Excel æ–‡ä»¶æ–‡æ¡£å±æ€§ï¼šSpire.XLS for Java å®ç”¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/230252528804124/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·033212666367
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T01:44:14.000Z" title="Thu Dec 11 2025 01:44:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Excelæ–‡ä»¶ä¸ä»…ä»…æ˜¯æ•°æ®è¡¨æ ¼ï¼Œå®ƒä»¬è¿˜æ‰¿è½½ç€é‡è¦çš„å…ƒæ•°æ®ï¼Œå³â€œæ–‡æ¡£å±æ€§â€ã€‚è¿™äº›å±æ€§ï¼ˆå¦‚ä½œè€…ã€æ ‡é¢˜ã€å…¬å¸ã€åˆ›å»ºæ—¥æœŸç­‰ï¼‰åœ¨æ–‡ä»¶ç®¡ç†ã€ä¿¡æ¯æº¯æºå’Œæ•°æ®åˆè§„æ€§æ–¹é¢æ‰®æ¼”ç€å…³é”®è§’è‰²ã€‚ç„¶è€Œï¼Œåœ¨Javaåº”ç”¨ä¸­å¦‚ä½•é«˜æ•ˆåœ°è¯»å–æˆ–åˆ é™¤è¿™äº›å±æ€§ï¼Œå¸¸å¸¸æ˜¯å¼€å‘è€…é¢ä¸´çš„ç—›ç‚¹ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨åŠŸèƒ½å¼ºå¤§çš„Spire.XLS for Javaåº“ï¼Œè½»æ¾å®ç°Excelæ–‡æ¡£å±æ€§çš„è¯»å†™ä¸åˆ é™¤æ“ä½œï¼Œä¸ºä½ çš„æ•°æ®å¤„ç†å·¥ä½œæä¾›å®ç”¨è§£å†³æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-0">Spire.XLS for Java åº“ç®€ä»‹ä¸å®‰è£…</h2>
<p>Spire.XLS for Java æ˜¯ä¸€ä¸ªä¸“ä¸šçš„Java Excel APIï¼Œä¸“æ³¨äºæä¾›é«˜æ€§èƒ½ã€é«˜è´¨é‡çš„Excelæ–‡ä»¶å¤„ç†èƒ½åŠ›ã€‚å®ƒæ”¯æŒå„ç§Excelæ“ä½œï¼ŒåŒ…æ‹¬åˆ›å»ºã€è¯»å–ã€å†™å…¥ã€è½¬æ¢å’Œæ‰“å°Excelæ–‡æ¡£ï¼Œä¸”æ— éœ€ä¾èµ–Microsoft Officeã€‚å…¶ç›´è§‚çš„APIè®¾è®¡ä½¿å¾—å¼€å‘è€…å¯ä»¥ä¾¿æ·åœ°æ“ä½œExcelçš„å„ç§å…ƒç´ ï¼ŒåŒ…æ‹¬å•å…ƒæ ¼ã€è¡Œã€åˆ—ã€å›¾è¡¨ã€å›¾ç‰‡ä»¥åŠæˆ‘ä»¬ä»Šå¤©è¦è®¨è®ºçš„æ–‡æ¡£å±æ€§ã€‚</p>
<p>è¦å°†Spire.XLS for Javaå¼•å…¥ä½ çš„é¡¹ç›®ï¼Œåªéœ€åœ¨Mavené…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”çš„ä¾èµ–å³å¯ã€‚</p>
<p>Maven ä¾èµ–ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">  
Â Â Â Â 
Â Â Â Â Â Â Â Â com.e-iceblue
Â Â Â Â Â Â Â Â e-iceblue
Â Â Â Â Â Â Â Â <span class="hljs-symbol">https:</span>/<span class="hljs-regexp">/repo.e-iceblue.cn/repository</span><span class="hljs-regexp">/maven-public/</span>
Â Â Â Â 


Â Â Â Â 
Â Â Â Â Â Â Â Â e-iceblue
Â Â Â Â Â Â Â Â spire.xls
Â Â Â Â Â Â Â Â <span class="hljs-number">15.11</span>.<span class="hljs-number">3</span>
Â Â Â Â 

</code></pre>
<h2 data-id="heading-1">Java è·å– Excel æ–‡ä»¶çš„æ–‡æ¡£å±æ€§</h2>
<p>Excelæ–‡æ¡£å±æ€§åˆ†ä¸ºä¸¤ç±»ï¼šå†…ç½®å±æ€§ (Built-in Properties) å’Œ è‡ªå®šä¹‰å±æ€§ (Custom Properties)ã€‚å†…ç½®å±æ€§æ˜¯Excelé¢„å®šä¹‰çš„ï¼Œå¦‚æ ‡é¢˜ã€ä¸»é¢˜ã€ä½œè€…ã€å…¬å¸ã€åˆ›å»ºæ—¥æœŸç­‰ã€‚è‡ªå®šä¹‰å±æ€§åˆ™å…è®¸ç”¨æˆ·æ ¹æ®éœ€è¦æ·»åŠ é¢å¤–çš„ä¿¡æ¯ã€‚</p>
<p>ä»¥ä¸‹ä»£ç ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Spire.XLS for Javaæ¥è¯»å–Excelæ–‡ä»¶çš„è¿™äº›æ–‡æ¡£å±æ€§ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">importÂ com.spire.xls.*;

<span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title">ReadProperties</span>Â {
Â Â Â Â <span class="hljs-function"><span class="hljs-keyword">public</span>Â <span class="hljs-keyword">static</span>Â <span class="hljs-keyword">void</span>Â <span class="hljs-title">main</span>(<span class="hljs-params">String[]Â args</span>)</span>Â {
Â Â Â Â Â Â Â Â <span class="hljs-comment">//åŠ è½½Excelæ–‡æ¡£</span>
Â Â Â Â Â Â Â Â WorkbookÂ wbÂ =Â <span class="hljs-keyword">new</span>Â Workbook();
Â Â Â Â Â Â Â Â wb.loadFromFile(&amp;<span class="hljs-meta">#34;AddProperties.xlsx&amp;#34;);</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">//è¯»å–Excelå†…ç½®æ–‡æ¡£å±æ€§</span>
Â Â Â Â Â Â Â Â System.<span class="hljs-keyword">out</span>.println(&amp;<span class="hljs-meta">#34;æ ‡é¢˜ï¼šÂ &amp;#34;Â +Â wb.getDocumentProperties().getTitle());</span>
Â Â Â Â Â Â Â Â System.<span class="hljs-keyword">out</span>.println(&amp;<span class="hljs-meta">#34;ä¸»é¢˜ï¼šÂ &amp;#34;Â +Â wb.getDocumentProperties().getSubject());</span>
Â Â Â Â Â Â Â Â System.<span class="hljs-keyword">out</span>.println(&amp;<span class="hljs-meta">#34;ä½œè€…ï¼šÂ &amp;#34;Â +Â wb.getDocumentProperties().getAuthor());</span>
Â Â Â Â Â Â Â Â System.<span class="hljs-keyword">out</span>.println(&amp;<span class="hljs-meta">#34;å•ä½ï¼šÂ &amp;#34;Â +Â wb.getDocumentProperties().getCompany());</span>
Â Â Â Â Â Â Â Â System.<span class="hljs-keyword">out</span>.println(&amp;<span class="hljs-meta">#34;ä¸»ç®¡ï¼šÂ &amp;#34;Â +Â wb.getDocumentProperties().getManager());</span>
Â Â Â Â Â Â Â Â System.<span class="hljs-keyword">out</span>.println(&amp;<span class="hljs-meta">#34;ç±»åˆ«ï¼šÂ &amp;#34;Â +Â wb.getDocumentProperties().getCategory());</span>
Â Â Â Â Â Â Â Â System.<span class="hljs-keyword">out</span>.println(&amp;<span class="hljs-meta">#34;å…³é”®å­—ï¼šÂ &amp;#34;Â +Â wb.getDocumentProperties().getKeywords());</span>

Â Â Â Â Â Â Â Â <span class="hljs-comment">//è·å–Excelè‡ªå®šä¹‰æ–‡æ¡£å±æ€§</span>
Â Â Â Â Â Â Â Â DocumentPropertyÂ propertyÂ =Â (DocumentProperty)Â wb.getCustomDocumentProperties().<span class="hljs-keyword">get</span>(<span class="hljs-number">0</span>);
Â Â Â Â Â Â Â Â <span class="hljs-comment">//è¯»å–ç¬¬ä¸€ä¸ªè‡ªå®šä¹‰æ–‡æ¡£å±æ€§çš„åç§°å’Œå€¼</span>
Â Â Â Â Â Â Â Â System.<span class="hljs-keyword">out</span>.println(&amp;<span class="hljs-meta">#34;åç§°ï¼šÂ &amp;#34;Â +Â property.getName());</span>
Â Â Â Â Â Â Â Â System.<span class="hljs-keyword">out</span>.println(&amp;<span class="hljs-meta">#34;å€¼ï¼šÂ &amp;#34;Â +Â property.getValue());</span>
Â Â Â Â }
}
</code></pre>
<h3 data-id="heading-2">ä»£ç è¯´æ˜ï¼š</h3>
<ul>
<li>Workbook.loadFromFile()ï¼šåŠ è½½æŒ‡å®šçš„Excelæ–‡ä»¶ã€‚</li>
<li>Workbook.getDocumentProperties().get()ï¼šè·å–æ–‡æ¡£å±æ€§å¯¹è±¡ã€‚</li>
<li>Workbook.getCustomDocumentProperties().get()ï¼šè·å–è‡ªå®šä¹‰æ–‡æ¡£å±æ€§é›†åˆã€‚</li>
</ul>
<h2 data-id="heading-3">Java åˆ é™¤ Excel çš„æ–‡æ¡£å±æ€§</h2>
<p>åˆ é™¤æ–‡æ¡£å±æ€§çš„åœºæ™¯é€šå¸¸æ˜¯ä¸ºäº†ä¿æŠ¤éšç§ä¿¡æ¯ã€æ¸…ç†ä¸å¿…è¦çš„å…ƒæ•°æ®æˆ–ç¡®ä¿æ–‡ä»¶åˆè§„æ€§ã€‚Spire.XLS for Java æä¾›äº†çµæ´»çš„æ–¹å¼æ¥åˆ é™¤ç‰¹å®šçš„è‡ªå®šä¹‰å±æ€§æˆ–æ¸…ç©ºæ‰€æœ‰è‡ªå®šä¹‰å±æ€§ã€‚</p>
<p>ä»¥ä¸‹ä»£ç ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åˆ é™¤Excelæ–‡ä»¶çš„æ–‡æ¡£å±æ€§ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">importÂ com<span class="hljs-selector-class">.spire</span><span class="hljs-selector-class">.xls</span>.*;

publicÂ classÂ RemovePropertiesÂ {
Â Â Â Â publicÂ staticÂ voidÂ <span class="hljs-selector-tag">main</span>(String[]Â args)Â {
Â Â Â Â Â Â Â Â <span class="hljs-comment">//åŠ è½½Excelæ–‡æ¡£</span>
Â Â Â Â Â Â Â Â WorkbookÂ wbÂ =Â newÂ <span class="hljs-built_in">Workbook</span>();
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.loadFromFile</span>(&amp;#<span class="hljs-number">34</span>;AddProperties.xlsx&amp;#<span class="hljs-number">34</span>;);

Â Â Â Â Â Â Â Â <span class="hljs-comment">//é€šè¿‡å°†å¯¹åº”æ–‡æ¡£å±æ€§çš„å€¼è®¾ç½®ä¸ºç©ºæ¥åˆ é™¤è¯¥å†…ç½®å±æ€§</span>
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.getDocumentProperties</span>()<span class="hljs-selector-class">.setTitle</span>(&amp;#<span class="hljs-number">34</span>;&amp;#<span class="hljs-number">34</span>;);
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.getDocumentProperties</span>()<span class="hljs-selector-class">.setSubject</span>(&amp;#<span class="hljs-number">34</span>;&amp;#<span class="hljs-number">34</span>;);
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.getDocumentProperties</span>()<span class="hljs-selector-class">.setAuthor</span>(&amp;#<span class="hljs-number">34</span>;&amp;#<span class="hljs-number">34</span>;);
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.getDocumentProperties</span>()<span class="hljs-selector-class">.setCompany</span>(&amp;#<span class="hljs-number">34</span>;&amp;#<span class="hljs-number">34</span>;);
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.getDocumentProperties</span>()<span class="hljs-selector-class">.setManager</span>(&amp;#<span class="hljs-number">34</span>;&amp;#<span class="hljs-number">34</span>;);
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.getDocumentProperties</span>()<span class="hljs-selector-class">.setCategory</span>(&amp;#<span class="hljs-number">34</span>;&amp;#<span class="hljs-number">34</span>;);
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.getDocumentProperties</span>()<span class="hljs-selector-class">.setKeywords</span>(&amp;#<span class="hljs-number">34</span>;&amp;#<span class="hljs-number">34</span>;);
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.getDocumentProperties</span>()<span class="hljs-selector-class">.setComments</span>(&amp;#<span class="hljs-number">34</span>;&amp;#<span class="hljs-number">34</span>;);

Â Â Â Â Â Â Â Â <span class="hljs-comment">//æ ¹æ®è‡ªå®šä¹‰æ–‡æ¡£å±æ€§çš„åç§°æ¥ç§»é™¤è¯¥è‡ªå®šä¹‰æ–‡æ¡£å±æ€§</span>
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.getCustomDocumentProperties</span>()<span class="hljs-selector-class">.remove</span>(&amp;#<span class="hljs-number">34</span>;ç¼–è¾‘&amp;#<span class="hljs-number">34</span>;);
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.getCustomDocumentProperties</span>()<span class="hljs-selector-class">.remove</span>(&amp;#<span class="hljs-number">34</span>;è”ç³»ç”µè¯&amp;#<span class="hljs-number">34</span>;);

Â Â Â Â Â Â Â Â <span class="hljs-comment">//ä¿å­˜æ–‡æ¡£</span>
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.saveToFile</span>(&amp;#<span class="hljs-number">34</span>;RemoveProperties.xlsx&amp;#<span class="hljs-number">34</span>;,Â ExcelVersion.Version2010);
Â Â Â Â Â Â Â Â wb<span class="hljs-selector-class">.dispose</span>();
Â Â Â Â }
}
</code></pre>
<h3 data-id="heading-4">ä»£ç è¯´æ˜ï¼š</h3>
<ul>
<li>Workbook.getCustomDocumentProperties().remove()ï¼šé€šè¿‡å±æ€§åç§°åˆ é™¤æŒ‡å®šçš„è‡ªå®šä¹‰å±æ€§ã€‚</li>
<li>å¯¹äºå†…ç½®å±æ€§ï¼Œé€šå¸¸é€šè¿‡setXXX("")æˆ–setXXX(null)æ¥å°†å…¶å€¼ç½®ç©ºï¼Œè¾¾åˆ°â€œåˆ é™¤â€çš„æ•ˆæœã€‚</li>
<li>Workbook.saveToFile("...", ExcelVersion.Version2013)ï¼šå°†ä¿®æ”¹åçš„å·¥ä½œç°¿ä¿å­˜åˆ°æ–°çš„Excelæ–‡ä»¶ï¼Œå¹¶æŒ‡å®šExcelç‰ˆæœ¬ã€‚</li>
</ul>
<h2 data-id="heading-5">ç»“è®º</h2>
<p>é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œä½ å·²ç»æŒæ¡äº†å¦‚ä½•ä½¿ç”¨Spire.XLS for Javaåº“æ¥è¯»å–å’Œåˆ é™¤Excelæ–‡ä»¶çš„æ–‡æ¡£å±æ€§ã€‚æ— è®ºæ˜¯è·å–é‡è¦çš„å…ƒæ•°æ®ï¼Œè¿˜æ˜¯è¿›è¡Œæ•æ„Ÿä¿¡æ¯çš„æ¸…ç†ï¼ŒSpire.XLS for Javaéƒ½æä¾›äº†ç®€æ´é«˜æ•ˆçš„APIæ”¯æŒã€‚å®ƒæå¤§åœ°ç®€åŒ–äº†Javaå¼€å‘è€…åœ¨å¤„ç†Excelæ–‡æ¡£å±æ€§æ—¶çš„å¤æ‚æ€§ï¼Œæ˜¯Javaç”Ÿæ€ä¸­å¤„ç†Excelæ–‡ä»¶çš„å¼ºå¤§å·¥å…·ã€‚é¼“åŠ±ä½ è¿›ä¸€æ­¥æ¢ç´¢Spire.XLS for Javaçš„æ›´å¤šé«˜çº§åŠŸèƒ½ï¼Œä»¥æ»¡è¶³æ›´å¤æ‚çš„Excelæ“ä½œéœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React çŠ¶æ€ç®¡ç†ï¼šZustand å¿«é€Ÿä¸Šæ‰‹æŒ‡å—]]></title>    <link>https://juejin.cn/post/7582163781183258630</link>    <guid>https://juejin.cn/post/7582163781183258630</guid>    <pubDate>2025-12-11T03:36:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582163781183258630" data-draft-id="7582169248094158854" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React çŠ¶æ€ç®¡ç†ï¼šZustand å¿«é€Ÿä¸Šæ‰‹æŒ‡å—"/> <meta itemprop="keywords" content="React.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-11T03:36:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="dorisrv"/> <meta itemprop="url" content="https://juejin.cn/user/1522178380270712"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React çŠ¶æ€ç®¡ç†ï¼šZustand å¿«é€Ÿä¸Šæ‰‹æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1522178380270712/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    dorisrv
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:36:30.000Z" title="Thu Dec 11 2025 03:36:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">React çŠ¶æ€ç®¡ç†ï¼šZustand å¿«é€Ÿä¸Šæ‰‹æŒ‡å—</h2>
<h3 data-id="heading-1">ğŸ¤” ä¸ºä»€ä¹ˆéœ€è¦ Zustandï¼Ÿ</h3>
<p>åœ¨ React åº”ç”¨å¼€å‘ä¸­ï¼Œéšç€åº”ç”¨è§„æ¨¡çš„æ‰©å¤§ï¼Œç»„ä»¶é—´çš„çŠ¶æ€ç®¡ç†ä¼šå˜å¾—è¶Šæ¥è¶Šå¤æ‚ã€‚ä¼ ç»Ÿçš„ <code>useState</code> å’Œ <code>useContext</code> åœ¨å¤„ç†å…¨å±€çŠ¶æ€æˆ–å¤æ‚çŠ¶æ€é€»è¾‘æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>çŠ¶æ€æ›´æ–°å¤æ‚ï¼Œéœ€è¦æ‰‹åŠ¨å¤„ç†å¼•ç”¨æ¯”è¾ƒ</li>
<li>è·¨ç»„ä»¶çŠ¶æ€å…±äº«éœ€è¦å¤šå±‚ <code>Context.Provider</code> åµŒå¥—</li>
<li>çŠ¶æ€é€»è¾‘éš¾ä»¥å¤ç”¨å’Œæµ‹è¯•</li>
<li>æ€§èƒ½ä¼˜åŒ–éœ€è¦æ‰‹åŠ¨å®ç°</li>
</ul>
<p>è€Œ <strong>Zustand</strong> å°±æ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜è€Œç”Ÿçš„ï¼å®ƒæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ React çŠ¶æ€ç®¡ç†åº“ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ğŸš€ <strong>è½»é‡çº§</strong>ï¼šæ ¸å¿ƒä»£ç åªæœ‰çº¦ 1KBï¼Œæ— å¤–éƒ¨ä¾èµ–</li>
<li>ğŸ”§ <strong>ç®€å•æ˜“ç”¨</strong>ï¼šæ— éœ€ Provider åŒ…è£¹æ•´ä¸ªåº”ç”¨</li>
<li>ğŸ¯ <strong>çµæ´»</strong>ï¼šæ”¯æŒå‡½æ•°å¼å’Œç±»ç»„ä»¶</li>
<li>âš¡ <strong>é«˜æ€§èƒ½</strong>ï¼šå†…ç½®é€‰æ‹©å™¨ä¼˜åŒ–ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“</li>
<li>ğŸ”„ <strong>å¼‚æ­¥æ”¯æŒ</strong>ï¼šè½»æ¾å¤„ç†å¼‚æ­¥çŠ¶æ€æ›´æ–°</li>
<li>ğŸ“¦ <strong>ä¸­é—´ä»¶æ”¯æŒ</strong>ï¼šæ”¯æŒæŒä¹…åŒ–ã€DevTools ç­‰æ‰©å±•åŠŸèƒ½</li>
</ul>
<h3 data-id="heading-2">ğŸ’¡ Zustand åŸºç¡€å®ç°</h3>
<h4 data-id="heading-3">1. å®‰è£… Zustand</h4>
<pre><code class="hljs language-bash" lang="bash">npm install zustand
<span class="hljs-comment"># æˆ–</span>
yarn add zustand
<span class="hljs-comment"># æˆ–</span>
pnpm add zustand
</code></pre>
<h4 data-id="heading-4">2. åˆ›å»º Store</h4>
<p>Zustand çš„æ ¸å¿ƒæ˜¯ <code>create</code> å‡½æ•°ï¼Œç”¨äºåˆ›å»ºä¸€ä¸ªå…¨å±€çŠ¶æ€ç®¡ç† storeï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand'</span>;

<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨ store</span>
<span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-comment">// çŠ¶æ€</span>
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  <span class="hljs-comment">// æ“ä½œçŠ¶æ€çš„æ–¹æ³•</span>
  <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> })),
  <span class="hljs-attr">decrement</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> - <span class="hljs-number">1</span> })),
  <span class="hljs-attr">reset</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>({ <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> }),
}));

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useCounterStore;
</code></pre>
<p>è¿™é‡Œçš„ <code>create</code> å‡½æ•°æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªåŒ…å«çŠ¶æ€å’Œæ“ä½œæ–¹æ³•çš„å¯¹è±¡ã€‚<code>set</code> å‡½æ•°ç”¨äºæ›´æ–°çŠ¶æ€ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå›è°ƒå‡½æ•°çš„å‚æ•°æ˜¯å½“å‰çŠ¶æ€ï¼Œè¿”å›å€¼æ˜¯è¦æ›´æ–°çš„çŠ¶æ€éƒ¨åˆ†ã€‚</p>
<h4 data-id="heading-5">3. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ Store</h4>
<p>åœ¨ä»»ä½•ç»„ä»¶ä¸­ï¼Œåªéœ€è°ƒç”¨åˆ›å»ºçš„ hook å³å¯è®¿é—®å’Œæ›´æ–°çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> useCounterStore <span class="hljs-keyword">from</span> <span class="hljs-string">'./store/counterStore'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Counter</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// ç›´æ¥ä» store ä¸­è·å–çŠ¶æ€å’Œæ–¹æ³•</span>
  <span class="hljs-keyword">const</span> { count, increment, decrement, reset } = <span class="hljs-title function_">useCounterStore</span>();

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>å½“å‰è®¡æ•°: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        +
        -
        é‡ç½®
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Counter</span>;
</code></pre>
<h3 data-id="heading-6">ğŸš€ Zustand è¿›é˜¶ç”¨æ³•</h3>
<h4 data-id="heading-7">1. ä½¿ç”¨é€‰æ‹©å™¨ä¼˜åŒ–æ€§èƒ½</h4>
<p>å¦‚æœåªéœ€è¦ store ä¸­çš„éƒ¨åˆ†çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨é€‰æ‹©å™¨æ¥é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> useCounterStore <span class="hljs-keyword">from</span> <span class="hljs-string">'./store/counterStore'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">CountDisplay</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// åªè®¢é˜… count çŠ¶æ€ï¼Œå…¶ä»–çŠ¶æ€å˜åŒ–ä¸ä¼šå¯¼è‡´æ­¤ç»„ä»¶é‡æ–°æ¸²æŸ“</span>
  <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">useCounterStore</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">count</span>);

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>å½“å‰è®¡æ•°: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
};

<span class="hljs-keyword">const</span> <span class="hljs-title function_">CounterActions</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-comment">// åªè®¢é˜…æ“ä½œæ–¹æ³•</span>
  <span class="hljs-keyword">const</span> increment = <span class="hljs-title function_">useCounterStore</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">increment</span>);
  <span class="hljs-keyword">const</span> decrement = <span class="hljs-title function_">useCounterStore</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">decrement</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      +
      -
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
};
</code></pre>
<h4 data-id="heading-8">2. å¤„ç†å¼‚æ­¥æ“ä½œ</h4>
<p>Zustand æ”¯æŒç›´æ¥åœ¨ store ä¸­å¤„ç†å¼‚æ­¥æ“ä½œï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand'</span>;

<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªåŒ…å«å¼‚æ­¥æ“ä½œçš„ store</span>
<span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">users</span>: [],
  <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span>,
  
  <span class="hljs-comment">// å¼‚æ­¥è·å–ç”¨æˆ·åˆ—è¡¨</span>
  <span class="hljs-attr">fetchUsers</span>: <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-title function_">set</span>({ <span class="hljs-attr">loading</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">error</span>: <span class="hljs-literal">null</span> });
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://jsonplaceholder.typicode.com/users'</span>);
      <span class="hljs-keyword">const</span> users = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
      <span class="hljs-title function_">set</span>({ users, <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span> });
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-title function_">set</span>({ <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span>, <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span> });
    }
  },
}));

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useUserStore;
</code></pre>
<p>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> useUserStore <span class="hljs-keyword">from</span> <span class="hljs-string">'./store/userStore'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">UserList</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">const</span> { users, loading, error, fetchUsers } = <span class="hljs-title function_">useUserStore</span>();

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">fetchUsers</span>();
  }, [fetchUsers]);

  <span class="hljs-keyword">if</span> (loading) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
  <span class="hljs-keyword">if</span> (error) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>é”™è¯¯: {error}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
      {users.map((user) =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>{user.name}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">UserList</span>;
</code></pre>
<h4 data-id="heading-9">3. ä½¿ç”¨ä¸­é—´ä»¶</h4>
<p>Zustand æ”¯æŒä¸­é—´ä»¶æ‰©å±•åŠŸèƒ½ï¼Œä¾‹å¦‚æŒä¹…åŒ–å­˜å‚¨å’Œ Redux DevTools é›†æˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand'</span>;
<span class="hljs-keyword">import</span> { persist } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand/middleware'</span>;
<span class="hljs-keyword">import</span> { devtools } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand/middleware'</span>;

<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ªå¸¦æŒä¹…åŒ–å’Œ DevTools çš„ store</span>
<span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">create</span>(
  <span class="hljs-title function_">devtools</span>(
    <span class="hljs-title function_">persist</span>(
      <span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
        <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> })),
        <span class="hljs-attr">decrement</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> - <span class="hljs-number">1</span> })),
      }),
      {
        <span class="hljs-attr">name</span>: <span class="hljs-string">'counter-storage'</span>, <span class="hljs-comment">// å­˜å‚¨çš„é”®å</span>
        <span class="hljs-attr">storage</span>: <span class="hljs-variable language_">localStorage</span>, <span class="hljs-comment">// å­˜å‚¨æ–¹å¼ (localStorage æˆ– sessionStorage)</span>
      }
    )
  )
);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useCounterStore;
</code></pre>
<h4 data-id="heading-10">4. ç»„åˆå¤šä¸ª Store</h4>
<p>Zustand æ”¯æŒå°†å¤šä¸ªå° store ç»„åˆæˆä¸€ä¸ªå¤§ storeï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand'</span>;
<span class="hljs-keyword">import</span> { combine } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand/middleware'</span>;

<span class="hljs-comment">// åˆ›å»ºä¸¤ä¸ªç‹¬ç«‹çš„ store</span>
<span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> })),
}));

<span class="hljs-keyword">const</span> useUserStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
  <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">setUser</span>: <span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ user }),
}));

<span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ combine ä¸­é—´ä»¶ç»„åˆçŠ¶æ€</span>
<span class="hljs-keyword">const</span> useCombinedStore = <span class="hljs-title function_">create</span>(
  <span class="hljs-title function_">combine</span>(
    <span class="hljs-comment">// åˆå§‹çŠ¶æ€</span>
    { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span> },
    <span class="hljs-comment">// è®¾ç½®å‡½æ•°</span>
    <span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
      <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> })),
      <span class="hljs-attr">setUser</span>: <span class="hljs-function">(<span class="hljs-params">user</span>) =&gt;</span> <span class="hljs-title function_">set</span>({ user }),
    })
  )
);
</code></pre>
<h3 data-id="heading-11">ğŸ“ Zustand æœ€ä½³å®è·µ</h3>
<ol>
<li><strong>ä¿æŒ Store ç®€æ´</strong>ï¼šæ¯ä¸ª store åªè´Ÿè´£ç®¡ç†ç›¸å…³çš„çŠ¶æ€ï¼Œé¿å…åˆ›å»ºè¿‡äºåºå¤§çš„ store</li>
<li><strong>ä½¿ç”¨é€‰æ‹©å™¨</strong>ï¼šå§‹ç»ˆä½¿ç”¨é€‰æ‹©å™¨æ¥è·å–éœ€è¦çš„çŠ¶æ€ï¼Œå‡å°‘ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“</li>
<li><strong>åˆç†ä½¿ç”¨ä¸­é—´ä»¶</strong>ï¼šæ ¹æ®éœ€æ±‚é€‰æ‹©åˆé€‚çš„ä¸­é—´ä»¶ï¼Œé¿å…å¼•å…¥ä¸å¿…è¦çš„ä¾èµ–</li>
<li><strong>å¤„ç†å¼‚æ­¥é”™è¯¯</strong>ï¼šåœ¨å¼‚æ­¥æ“ä½œä¸­å§‹ç»ˆå¤„ç†é”™è¯¯ï¼Œé¿å…åº”ç”¨å´©æºƒ</li>
<li><strong>å‘½åè§„èŒƒ</strong>ï¼šä½¿ç”¨ <code>useXxxStore</code> çš„å‘½åè§„èŒƒï¼Œä¾¿äºè¯†åˆ«å’Œä½¿ç”¨</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šå¦‚æœä½¿ç”¨ TypeScriptï¼Œå¯ä»¥ä¸º store æ·»åŠ ç±»å‹å®šä¹‰ï¼Œæé«˜ä»£ç è´¨é‡</li>
</ol>
<h3 data-id="heading-12">ğŸ¯ Zustand é€‚ç”¨åœºæ™¯</h3>
<p>Zustand é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li>ä¸­å°å‹ React åº”ç”¨</li>
<li>éœ€è¦å…¨å±€çŠ¶æ€ç®¡ç†ä½†ä¸æƒ³ä½¿ç”¨å¤æ‚é…ç½®çš„é¡¹ç›®</li>
<li>å¸Œæœ›å‡å°‘æ ·æ¿ä»£ç çš„é¡¹ç›®</li>
<li>éœ€è¦å¤„ç†å¼‚æ­¥çŠ¶æ€çš„åº”ç”¨</li>
<li>å¸Œæœ›ä½¿ç”¨è½»é‡çº§çŠ¶æ€ç®¡ç†åº“çš„é¡¹ç›®</li>
</ul>
<h3 data-id="heading-13">ğŸ”§ Zustand ä¸å…¶ä»–çŠ¶æ€ç®¡ç†åº“çš„æ¯”è¾ƒ</h3>















































<table><thead><tr><th>ç‰¹æ€§</th><th>Zustand</th><th>Redux</th><th>Jotai</th></tr></thead><tbody><tr><td>å¤§å°</td><td>~1KB</td><td>~2KB</td><td>~2KB</td></tr><tr><td>å­¦ä¹ æ›²çº¿</td><td>ä½</td><td>é«˜</td><td>ä¸­</td></tr><tr><td>Provider éœ€è¦</td><td>å¦</td><td>æ˜¯</td><td>å¦</td></tr><tr><td>å¼‚æ­¥æ”¯æŒ</td><td>å†…ç½®</td><td>éœ€è¦ä¸­é—´ä»¶</td><td>å†…ç½®</td></tr><tr><td>DevTools æ”¯æŒ</td><td>æ˜¯</td><td>æ˜¯</td><td>æ˜¯</td></tr><tr><td>æŒä¹…åŒ–æ”¯æŒ</td><td>æ˜¯</td><td>éœ€è¦ä¸­é—´ä»¶</td><td>æ˜¯</td></tr></tbody></table>
<h3 data-id="heading-14">ğŸš€ æ€»ç»“</h3>
<p>Zustand æ˜¯ä¸€ä¸ªè½»é‡çº§ã€ç®€å•æ˜“ç”¨çš„ React çŠ¶æ€ç®¡ç†åº“ï¼Œå®ƒæä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½å’Œçµæ´»çš„ä½¿ç”¨æ–¹å¼ï¼ŒåŒæ—¶ä¿æŒäº†ä»£ç çš„ç®€æ´æ€§ã€‚æ— è®ºæ˜¯ä¸­å°å‹åº”ç”¨è¿˜æ˜¯å¤§å‹é¡¹ç›®ï¼ŒZustand éƒ½èƒ½å¾ˆå¥½åœ°æ»¡è¶³çŠ¶æ€ç®¡ç†çš„éœ€æ±‚ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªæ›¿ä»£ Redux çš„è½»é‡çº§çŠ¶æ€ç®¡ç†åº“ï¼Œæˆ–è€…æƒ³è¦ç®€åŒ–ç°æœ‰çš„çŠ¶æ€ç®¡ç†é€»è¾‘ï¼Œé‚£ä¹ˆ Zustand ç»å¯¹å€¼å¾—ä¸€è¯•ï¼</p>
<p>ä¸‹ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦ä¸€ä¸ªä¼˜ç§€çš„ React çŠ¶æ€ç®¡ç†åº“â€”â€”Jotaiï¼Œæ•¬è¯·æœŸå¾…ï¼âœ¨</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ¯å¤©ä¸Šäº¿æ¡æ—¥å¿—ï¼ŒElasticsearch æ˜¯æ€ä¹ˆæ‰›ä½çš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7582118538562404371</link>    <guid>https://juejin.cn/post/7582118538562404371</guid>    <pubDate>2025-12-11T03:36:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582118538562404371" data-draft-id="7582163781183242246" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ¯å¤©ä¸Šäº¿æ¡æ—¥å¿—ï¼ŒElasticsearch æ˜¯æ€ä¹ˆæ‰›ä½çš„ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,æ¶æ„,è®¾è®¡"/> <meta itemprop="datePublished" content="2025-12-11T03:36:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¸æµªæ— ç—•"/> <meta itemprop="url" content="https://juejin.cn/user/2834988091055719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ¯å¤©ä¸Šäº¿æ¡æ—¥å¿—ï¼ŒElasticsearch æ˜¯æ€ä¹ˆæ‰›ä½çš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2834988091055719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¸æµªæ— ç—•
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:36:26.000Z" title="Thu Dec 11 2025 03:36:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€é—®é¢˜çš„æœ¬è´¨</h2>
<p>å¾ˆå¤šäººä»¥ä¸º Filebeat + Logstash å¾€ Elasticsearchï¼ˆESï¼‰å†™æ—¥å¿—æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs">æ¥ä¸€æ¡æ—¥å¿— â†’ ç«‹å³å‘ç»™ Logstash â†’ ç«‹å³å†™å…¥ ES
</code></pre>
<p>å¦‚æœçœŸæ˜¯è¿™æ ·ï¼Œä¸€å¤©å‡ äº¿æ¡æ—¥å¿—ï¼ŒES æ—©å°±æŒ‚äº†ã€‚</p>
<p>çœŸç›¸æ˜¯ï¼š<strong>æ•´ä¸ªé“¾è·¯éƒ½æ˜¯æ‰¹é‡+å¼‚æ­¥çš„ï¼Œæ²¡æœ‰ä»»ä½•ä¸€ç¯æ˜¯é€æ¡åŒæ­¥å¤„ç†</strong>ã€‚</p>
<h2 data-id="heading-1">äºŒã€Logstash çš„æ‰¹é‡æœºåˆ¶</h2>
<h3 data-id="heading-2">2.1 æ ¸å¿ƒåŸç†</h3>
<p>Logstash ä¸æ˜¯é‚®é€’å‘˜ï¼ˆæ¥ä¸€ä»¶é€ä¸€ä»¶ï¼‰ï¼Œè€Œæ˜¯ç‰©æµä¸­è½¬ç«™ï¼ˆæ”’å¤Ÿä¸€è½¦å†å‘ï¼‰ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[Filebeat æŒç»­é‡‡é›†æ—¥å¿—] --&gt; B[Logstash å†…éƒ¨é˜Ÿåˆ—]
    B --&gt; C{æ”’å¤Ÿæ‰¹æ¬¡?}
    C --&gt;|è¾¾åˆ°5000æ¡| D[å‘é€ bulk è¯·æ±‚]
    C --&gt;|æˆ–è¶…è¿‡2ç§’| D
    D --&gt; E[Elasticsearch]
</code></pre>
<h3 data-id="heading-3">2.2 é»˜è®¤æ‰¹é‡å‚æ•°</h3>
<p>Logstash çš„ Elasticsearch output æ’ä»¶é»˜è®¤è¡Œä¸ºï¼š</p>
<ul>
<li>æœ€å¤šæ”’ <strong>20,000 æ¡</strong>æ—¥å¿—æ‰å‘ä¸€æ¬¡</li>
<li>æˆ–è€…å³ä½¿æ²¡æ”’å¤Ÿï¼Œæœ€å¤šç­‰ <strong>1 ç§’</strong>å°±å‘</li>
</ul>
<p>è¿™æ„å‘³ç€ä¸€æ¬¡ç½‘ç»œè¯·æ±‚å¯ä»¥æºå¸¦ä¸Šä¸‡æ¡æ•°æ®ï¼Œå¤§å¹…é™ä½äº†ï¼š</p>
<ul>
<li>ç½‘ç»œå¾€è¿”æ¬¡æ•°ï¼ˆå‡å°‘ 99%+ çš„è¿æ¥å¼€é”€ï¼‰</li>
<li>ES çš„è¯·æ±‚å¤„ç†å‹åŠ›</li>
<li>è®¤è¯é‰´æƒçš„é‡å¤è°ƒç”¨</li>
</ul>
<h3 data-id="heading-4">2.3 å®é™…é…ç½®ç¤ºä¾‹</h3>
<pre><code class="hljs language-conf" lang="conf">output {
  elasticsearch {
    hosts =&gt; [&amp;#34;https://es-cluster:9200&amp;#34;]
    index =&gt; &amp;#34;app-logs-%{+yyyy.MM.dd}&amp;#34;
    user =&gt; &amp;#34;elastic&amp;#34;
    password =&gt; &amp;#34;${ES_PASSWORD}&amp;#34;
    
    # å…³é”®æ‰¹é‡å‚æ•°
    bulk_actions =&gt; 5000
    bulk_size =&gt; &amp;#34;15MB&amp;#34;
    flush_interval =&gt; 2
    
    # æ€§èƒ½ä¼˜åŒ–
    action =&gt; &amp;#34;create&amp;#34;
    retry_on_conflict =&gt; 3
    
    # å®‰å…¨é…ç½®
    ssl_enabled =&gt; true
    ssl_verification_mode =&gt; &amp;#34;certificate&amp;#34;
    cacert =&gt; &amp;#34;/path/to/ca.crt&amp;#34;
  }
}
</code></pre>
<p><strong>é‡è¦è¯´æ˜ï¼š</strong></p>
<ul>
<li>bulk_actions ä¸æ˜¯è¶Šå¤§è¶Šå¥½ï¼Œ5000-10000 æ˜¯å¸¸è§å–å€¼</li>
<li>flush_interval æ˜¯å»¶è¿Ÿå’Œååçš„å¹³è¡¡ç‚¹</li>
<li>action =&gt; "create" æ¯” index å¿«å¾ˆå¤šï¼Œå› ä¸ºä¸éœ€è¦æ£€æŸ¥æ–‡æ¡£æ˜¯å¦å­˜åœ¨</li>
</ul>
<h2 data-id="heading-5">ä¸‰ã€Elasticsearch çš„é«˜ååè®¾è®¡</h2>
<p>ES èƒ½æ¥ä½æµ·é‡å†™å…¥ï¼Œé çš„æ˜¯ä¸‰å±‚è®¾è®¡ã€‚</p>
<h3 data-id="heading-6">3.1 ç¬¬ä¸€å±‚ï¼šåˆ†ç‰‡å¹¶è¡Œå†™å…¥</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    A[bulk è¯·æ±‚åˆ°è¾¾åè°ƒèŠ‚ç‚¹] --&gt; B{è·¯ç”±è®¡ç®—}
    B --&gt; C[åˆ†ç‰‡1: å¤„ç†1/3æ•°æ®]
    B --&gt; D[åˆ†ç‰‡2: å¤„ç†1/3æ•°æ®]
    B --&gt; E[åˆ†ç‰‡3: å¤„ç†1/3æ•°æ®]
    C --&gt; F[å¹¶è¡Œå†™å…¥]
    D --&gt; F
    E --&gt; F
</code></pre>
<p>ä¸€ä¸ªç´¢å¼•ä¼šè¢«æ‹†æˆå¤šä¸ªåˆ†ç‰‡ï¼ˆshardï¼‰ï¼Œæ¯ä¸ªåˆ†ç‰‡æ˜¯ç‹¬ç«‹çš„ Lucene ç´¢å¼•ï¼Œå¯ä»¥ï¼š</p>
<ul>
<li>åˆ†å¸ƒåœ¨ä¸åŒèŠ‚ç‚¹ä¸Š</li>
<li>å¹¶è¡Œå¤„ç†å†™å…¥è¯·æ±‚</li>
<li>å•ä¸ªåˆ†ç‰‡æ•…éšœä¸å½±å“å…¶ä»–åˆ†ç‰‡</li>
</ul>
<p><strong>åˆ†ç‰‡æ•°é‡å»ºè®®ï¼š</strong></p>
<ul>
<li>å°ç´¢å¼•ï¼ˆ200GBï¼‰ï¼šè€ƒè™‘æŒ‰æ—¶é—´åˆ‡åˆ†ç´¢å¼•ï¼ˆå¦‚æŒ‰å¤©ï¼‰ï¼Œæ¯ä¸ªç´¢å¼• 3-5 ä¸ªåˆ†ç‰‡</li>
</ul>
<h3 data-id="heading-7">3.2 ç¬¬äºŒå±‚ï¼šå¼‚æ­¥åˆ·æ–°æœºåˆ¶</h3>
<p>ES çš„å†™å…¥åˆ†ä¸‰æ­¥ï¼Œæ•…æ„ä¸åšå®æ—¶æŒä¹…åŒ–ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Client
    participant Memory as å†…å­˜ç¼“å†²åŒº
    participant Translog
    participant Segment as Lucene Segment
    
    Client-&gt;&gt;Memory: 1. å†™å…¥æ•°æ®
    Client-&gt;&gt;Translog: 2. å†™å…¥äº‹åŠ¡æ—¥å¿—ï¼ˆé˜²ä¸¢å¤±ï¼‰
    Note over Client: æ­¤æ—¶å°±è¿”å›æˆåŠŸäº†
    
    Note over Memory,Segment: æ¯1ç§’æ‰§è¡Œä¸€æ¬¡
    Memory-&gt;&gt;Segment: 3. refresh: åˆ·æ–°åˆ°å†…å­˜æ®µï¼ˆå¯æœç´¢ï¼‰
    
    Note over Translog,Segment: æ¯30ç§’æˆ–translogæ»¡2GB
    Segment-&gt;&gt;Segment: 4. flush: æŒä¹…åŒ–åˆ°ç£ç›˜
    Translog-&gt;&gt;Translog: 5. æ¸…ç©º translog
</code></pre>
<p>å…³é”®ç‚¹ï¼š</p>
<ul>
<li><strong>å†™å…¥åªéœ€è½å†…å­˜+translog</strong>ï¼Œå‡ æ¯«ç§’å°±èƒ½å®Œæˆï¼Œç„¶åç«‹å³è¿”å›æˆåŠŸ</li>
<li><strong>refresh</strong>ï¼ˆé»˜è®¤1ç§’ï¼‰ï¼šè®©æ•°æ®å¯è¢«æœç´¢ï¼Œä½†è¿˜åœ¨å†…å­˜</li>
<li><strong>flush</strong>ï¼ˆé»˜è®¤30ç§’ï¼‰ï¼šçœŸæ­£å†™ç£ç›˜ï¼Œä½†é¢‘ç‡å¾ˆä½</li>
</ul>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ ES èƒ½æ”¯æŒè¶…é«˜å†™å…¥ï¼šå®ƒæŠŠå†™æˆåŠŸå’ŒæŒä¹…åŒ–è§£è€¦äº†ã€‚</p>
<h3 data-id="heading-8">3.3 ç¬¬ä¸‰å±‚ï¼šèƒŒå‹æœºåˆ¶</h3>
<p>å½“ ES å¤ªå¿™æ—¶ï¼ˆCPUã€å†…å­˜ã€ç£ç›˜ IO æ‰“æ»¡ï¼‰ï¼Œä¼šï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    A[ES ç¹å¿™] --&gt; B[è¿”å› 429 Too Many Requests]
    B --&gt; C[Logstash æ”¶åˆ° 429]
    C --&gt; D[æš‚åœä» Filebeat è¯»å–]
    C --&gt; E[æŒ‡æ•°é€€é¿é‡è¯•]
    E --&gt; F{ES æ¢å¤?}
    F --&gt;|æ˜¯| G[ç»§ç»­å‘é€]
    F --&gt;|å¦| E
</code></pre>
<p>è¿™ä¸ªæœºåˆ¶ä¿è¯äº†ï¼š</p>
<ul>
<li>ES ä¸ä¼šè¢«å‹å®ï¼ˆæ‹’ç»è¿‡è½½è¯·æ±‚ï¼‰</li>
<li>Logstash ä¸ä¼šä¸¢æ•°æ®ï¼ˆé‡è¯•+æš‚åœæ¶ˆè´¹ï¼‰</li>
<li>Filebeat ä¸ä¼šå†…å­˜çˆ†ç‚¸ï¼ˆLogstash ä¸æ‹‰å–äº†ï¼‰</li>
</ul>
<h2 data-id="heading-9">å››ã€ç°å®å¼€å‘ä¸­çš„ç±»ä¼¼æ¨¡å¼</h2>
<p>è¿™å¥—æ‰¹é‡+å¼‚æ­¥+åˆ†ç‰‡çš„æ¶æ„ä¸æ˜¯ ES ç‹¬æœ‰çš„ï¼Œåœ¨å…¶ä»–åœºæ™¯ä¹Ÿå¹¿æ³›ä½¿ç”¨ï¼š</p>
<h3 data-id="heading-10">4.1 æ•°æ®åº“æ‰¹é‡å†™å…¥</h3>
<p><strong>MyBatis/JDBC æ‰¹é‡æ’å…¥ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é”™è¯¯åšæ³•ï¼šé€æ¡ insert</span>
<span class="hljs-keyword">for</span> (User user : users) {
    userMapper.insert(user);
}

<span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šæ‰¹é‡ insert</span>
userMapper.batchInsert(users);
</code></pre>
<p><strong>Spring Batchï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Bean</span>
<span class="hljs-keyword">public</span> Step <span class="hljs-title function_">batchStep</span><span class="hljs-params">()</span> {
    <span class="hljs-keyword">return</span> stepBuilderFactory.get(&amp;#<span class="hljs-number">34</span>;step&amp;#<span class="hljs-number">34</span>;)
        .chunk(<span class="hljs-number">5000</span>)
        .reader(reader())
        .writer(writer())
        .build();
}
</code></pre>
<h3 data-id="heading-11">4.2 æ¶ˆæ¯é˜Ÿåˆ—æ‰¹é‡æ‹‰å–</h3>
<p><strong>Kafka Consumerï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ConsumerRecords</span> <span class="hljs-variable">records</span> <span class="hljs-operator">=</span> 
    consumer.poll(Duration.ofMillis(<span class="hljs-number">100</span>));
<span class="hljs-keyword">for</span> (ConsumerRecord record : records) {
    process(record);
}
</code></pre>
<h3 data-id="heading-12">4.3 æ—¥å¿—æ¡†æ¶çš„å¼‚æ­¥ Appender</h3>
<p><strong>Logback AsyncAppenderï¼š</strong></p>
<pre><code class="hljs language-xml" lang="xml">
    512
    

</code></pre>
<h3 data-id="heading-13">4.4 Redis Pipeline</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¸ç”¨ pipelineï¼š1ä¸‡æ¬¡ç½‘ç»œå¾€è¿”</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) {
    jedis.set(&amp;#<span class="hljs-number">34</span>;key&amp;#<span class="hljs-number">34</span>; + i, &amp;#<span class="hljs-number">34</span>;value&amp;#<span class="hljs-number">34</span>; + i);
}

<span class="hljs-comment">// ç”¨ pipelineï¼š1æ¬¡ç½‘ç»œå¾€è¿”</span>
<span class="hljs-type">Pipeline</span> <span class="hljs-variable">pipeline</span> <span class="hljs-operator">=</span> jedis.pipelined();
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10000</span>; i++) {
    pipeline.set(&amp;#<span class="hljs-number">34</span>;key&amp;#<span class="hljs-number">34</span>; + i, &amp;#<span class="hljs-number">34</span>;value&amp;#<span class="hljs-number">34</span>; + i);
}
pipeline.sync();
</code></pre>
<p><strong>æ ¸å¿ƒæ€æƒ³éƒ½æ˜¯ï¼šå‡å°‘ç½‘ç»œå¾€è¿”ï¼Œæ‰¹é‡å¤„ç†ï¼Œå¼‚æ­¥åˆ·ç›˜ã€‚</strong></p>
<h2 data-id="heading-14">äº”ã€å®æˆ˜è°ƒä¼˜å»ºè®®</h2>
<h3 data-id="heading-15">5.1 ç›‘æ§å…³é”®æŒ‡æ ‡</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ES ç´¢å¼•å‹åŠ›</span>
GET _nodes/stats/thread_pool

<span class="hljs-comment"># æŸ¥çœ‹ bulk çº¿ç¨‹æ± çŠ¶æ€</span>
{
  &amp;<span class="hljs-comment">#34;bulk&amp;#34;: {</span>
    &amp;<span class="hljs-comment">#34;rejected&amp;#34;: 0,</span>
    &amp;<span class="hljs-comment">#34;queue&amp;#34;: 2,</span>
    &amp;<span class="hljs-comment">#34;active&amp;#34;: 4</span>
  }
}
</code></pre>
<h3 data-id="heading-16">5.2 åˆ†ç‰‡ç­–ç•¥</h3>
<p><strong>é”™è¯¯ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs">æ¯å¤©ä¸€ä¸ªç´¢å¼•ï¼Œ50ä¸ªä¸»åˆ†ç‰‡
â†’ ä¸€ä¸ªæœˆ1500ä¸ªåˆ†ç‰‡ 
â†’ é›†ç¾¤å¡æ­»
</code></pre>
<p><strong>æ­£ç¡®åšæ³•ï¼š</strong></p>
<pre><code class="hljs">æ¯å¤©ä¸€ä¸ªç´¢å¼•ï¼Œ3ä¸ªä¸»åˆ†ç‰‡
â†’ ä¸€ä¸ªæœˆ90ä¸ªåˆ†ç‰‡ 
â†’ æ­£å¸¸è¿è¡Œ
é…åˆ ILM è‡ªåŠ¨åˆ é™¤30å¤©å‰çš„ç´¢å¼•
</code></pre>
<h3 data-id="heading-17">5.3 ç¡¬ä»¶èµ„æºåˆ†é…</h3>
<p>å¯¹äºæ—¥å¿—åœºæ™¯ï¼š</p>
<ul>
<li><strong>CPU</strong>ï¼šå†™å…¥ä¸æ•æ„Ÿï¼Œ4-8æ ¸å¤Ÿç”¨</li>
<li><strong>å†…å­˜</strong>ï¼šJVM å †è®¾ç½®ä¸ºç‰©ç†å†…å­˜çš„50%ï¼Œä½†ä¸è¶…è¿‡31GB</li>
<li><strong>ç£ç›˜</strong>ï¼šSSD å¿…å¤‡ï¼Œæœºæ¢°ç›˜ä¼šæˆä¸ºç“¶é¢ˆ</li>
<li><strong>ç½‘ç»œ</strong>ï¼šä¸‡å…†ç½‘å¡ï¼Œæ‰¹é‡å†™å…¥ç½‘ç»œæµé‡å¾ˆé«˜</li>
</ul>
<h3 data-id="heading-18">5.4 ç´¢å¼•æ¨¡æ¿ä¼˜åŒ–</h3>
<pre><code class="hljs language-json" lang="json">PUT _index_template/logs_template
<span class="hljs-punctuation">{</span>
  &amp;#<span class="hljs-number">34</span>;index_patterns&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>&amp;#<span class="hljs-number">34</span>;logs-*&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  &amp;#<span class="hljs-number">34</span>;template&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    &amp;#<span class="hljs-number">34</span>;settings&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      &amp;#<span class="hljs-number">34</span>;number_of_shards&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span>
      &amp;#<span class="hljs-number">34</span>;number_of_replicas&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
      &amp;#<span class="hljs-number">34</span>;refresh_interval&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;<span class="hljs-number">5</span>s&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
      &amp;#<span class="hljs-number">34</span>;translog.durability&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;async&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
      &amp;#<span class="hljs-number">34</span>;translog.sync_interval&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;<span class="hljs-number">5</span>s&amp;#<span class="hljs-number">34</span>;
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    &amp;#<span class="hljs-number">34</span>;mappings&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      &amp;#<span class="hljs-number">34</span>;properties&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        &amp;#<span class="hljs-number">34</span>;@timestamp&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> &amp;#<span class="hljs-number">34</span>;type&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;date&amp;#<span class="hljs-number">34</span>; <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        &amp;#<span class="hljs-number">34</span>;message&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> 
          &amp;#<span class="hljs-number">34</span>;type&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> &amp;#<span class="hljs-number">34</span>;text&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">,</span>
          &amp;#<span class="hljs-number">34</span>;index&amp;#<span class="hljs-number">34</span>;<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
        <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h2 data-id="heading-19">å…­ã€æ€»ç»“</h2>
<p>ES èƒ½æ‰›ä½æµ·é‡æ—¥å¿—ï¼Œæ ¸å¿ƒåŸå› æ˜¯æ•´ä¸ªé“¾è·¯çš„è®¾è®¡ï¼š</p>
<p><strong>Filebeat</strong>ï¼š</p>
<ul>
<li>æœ¬åœ°æ–‡ä»¶ç¼“å­˜ï¼ˆæ–­ç‚¹ç»­ä¼ ï¼‰</li>
<li>æ‰¹é‡å‘é€ç»™ Logstash</li>
</ul>
<p><strong>Logstash</strong>ï¼š</p>
<ul>
<li>å†…éƒ¨é˜Ÿåˆ—ç¼“å†²</li>
<li>æ”’æ‰¹è°ƒç”¨ _bulk API</li>
<li>èƒŒå‹ä¼ å¯¼ï¼ˆ429 è‡ªåŠ¨é‡è¯•ï¼‰</li>
</ul>
<p><strong>Elasticsearch</strong>ï¼š</p>
<ul>
<li>åˆ†ç‰‡å¹¶è¡Œå†™å…¥</li>
<li>å†…å­˜ç¼“å†² + translog ä¿è¯ä¸ä¸¢</li>
<li>å¼‚æ­¥ refresh å’Œ flush</li>
<li>æ‹’ç»è¿‡è½½è¯·æ±‚ä¿æŠ¤è‡ªå·±</li>
</ul>
<p>è¿™å¥—æ¶æ„çš„æœ¬è´¨æ˜¯<strong>ç”Ÿäº§è€…-é˜Ÿåˆ—-æ¶ˆè´¹è€…</strong>æ¨¡å¼ï¼Œæ˜¯æ‰€æœ‰é«˜å¹¶å‘ç³»ç»Ÿçš„é€šç”¨è§£æ³•ã€‚ç†è§£äº†è¿™å¥—æœºåˆ¶ï¼Œä½ å°±èƒ½ä¸¾ä¸€åä¸‰ï¼š</p>
<ul>
<li>æ•°æ®åº“æ‰¹é‡æ’å…¥ï¼ˆå‡å°‘æäº¤æ¬¡æ•°ï¼‰</li>
<li>MQ æ‰¹é‡æ‹‰å–æ¶ˆæ¯ï¼ˆé™ä½ç½‘ç»œå¼€é”€ï¼‰</li>
<li>Redis Pipelineï¼ˆåˆå¹¶å‘½ä»¤ï¼‰</li>
<li>å¼‚æ­¥æ—¥å¿—æ¡†æ¶ï¼ˆå…ˆç¼“å­˜ååˆ·ç›˜ï¼‰</li>
</ul>
<p><strong>ä¸€å¥è¯ï¼šé«˜ååçš„ç§˜è¯€ = æ‰¹é‡ + å¼‚æ­¥ + å¹¶è¡Œï¼Œè€Œéå•æ¡åŒæ­¥ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æœ¬åœ°å¤§æ¨¡å‹ç¼–ç¨‹å®æˆ˜(38)å®ç°ä¸€ä¸ªé€šç”¨çš„å¤§æ¨¡å‹å®¢æˆ·ç«¯]]></title>    <link>https://juejin.cn/post/7582090790183256102</link>    <guid>https://juejin.cn/post/7582090790183256102</guid>    <pubDate>2025-12-11T03:27:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582090790183256102" data-draft-id="7582110969200967718" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æœ¬åœ°å¤§æ¨¡å‹ç¼–ç¨‹å®æˆ˜(38)å®ç°ä¸€ä¸ªé€šç”¨çš„å¤§æ¨¡å‹å®¢æˆ·ç«¯"/> <meta itemprop="keywords" content="åç«¯,LLM"/> <meta itemprop="datePublished" content="2025-12-11T03:27:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åˆ˜ç«‹å†›"/> <meta itemprop="url" content="https://juejin.cn/user/2830599308981642"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æœ¬åœ°å¤§æ¨¡å‹ç¼–ç¨‹å®æˆ˜(38)å®ç°ä¸€ä¸ªé€šç”¨çš„å¤§æ¨¡å‹å®¢æˆ·ç«¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2830599308981642/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åˆ˜ç«‹å†›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:27:08.000Z" title="Thu Dec 11 2025 03:27:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç”±äºå¤§éƒ¨åˆ†AIå¹³å°æä¾›çš„API/æ¥å£éƒ½å…¼å®¹ <code>OpenAI API</code> ,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>OpenAI SDK</code> å®ç°é€šç”¨çš„ <code>LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰</code> å®¢æˆ·ç«¯ã€‚</p>
<blockquote>
<p>å…³äº <code>OpenAI API</code> æ›´å¤šå†…å®¹ï¼Œå¯å‚è€ƒ <a href="https://link.juejin.cn?target=http%3A%2F%2Fwfcoding.com%2Farticles%2Fprogrammer%2Fp07%2F" target="_blank" title="http://wfcoding.com/articles/programmer/p07/" ref="nofollow noopener noreferrer">ç¨‹åºå‘˜åº”è¯¥ç†Ÿæ‚‰çš„æ¦‚å¿µ(2)OpenAI API</a></p>
</blockquote>
<p>æœ¬æ–‡è®²è¿°äº†å¦‚ä½•å®ç°ä¸€ä¸ªç®€å•çš„<strong>å¤§æ¨¡å‹å®¢æˆ·ç«¯</strong>ã€‚</p>
<h2 data-id="heading-0">å…¼å®¹ OpenAI API çš„å¹³å°</h2>

















































<table><thead><tr><th align="left">å¹³å°åç§°</th><th align="left">base_url</th></tr></thead><tbody><tr><td align="left">openai</td><td align="left"><a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.openai.com%2Fv1" target="_blank" title="https://api.openai.com/v1" ref="nofollow noopener noreferrer">api.openai.com/v1</a></td></tr><tr><td align="left">anthropic</td><td align="left"><a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.anthropic.com%2Fv1" target="_blank" title="https://api.anthropic.com/v1" ref="nofollow noopener noreferrer">api.anthropic.com/v1</a></td></tr><tr><td align="left">mistral</td><td align="left"><a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.mistral.ai%2Fv1" target="_blank" title="https://api.mistral.ai/v1" ref="nofollow noopener noreferrer">api.mistral.ai/v1</a></td></tr><tr><td align="left">gemini</td><td align="left"><a href="https://link.juejin.cn?target=https%3A%2F%2Fgenerativelanguage.googleapis.com%2Fv1beta%2Fopenai" target="_blank" title="https://generativelanguage.googleapis.com/v1beta/openai" ref="nofollow noopener noreferrer">generativelanguage.googleapis.com/v1beta/openâ€¦</a></td></tr><tr><td align="left">cohere</td><td align="left"><a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.cohere.com%2Fv1" target="_blank" title="https://api.cohere.com/v1" ref="nofollow noopener noreferrer">api.cohere.com/v1</a></td></tr><tr><td align="left">xai</td><td align="left"><a href="https://link.juejin.cn?target=https%3A%2F%2Fapi.x.ai%2Fv1" target="_blank" title="https://api.x.ai/v1" ref="nofollow noopener noreferrer">api.x.ai/v1</a></td></tr><tr><td align="left">openrouter</td><td align="left"><a href="https://link.juejin.cn?target=https%3A%2F%2Fopenrouter.ai%2Fapi%2Fv1" target="_blank" title="https://openrouter.ai/api/v1" ref="nofollow noopener noreferrer">openrouter.ai/api/v1</a></td></tr><tr><td align="left"><strong>ollama</strong></td><td align="left"><a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A11434%2Fv1" target="_blank" title="http://localhost:11434/v1" ref="nofollow noopener noreferrer">http://localhost:11434/v1</a></td></tr><tr><td align="left"><strong>bailian</strong></td><td align="left"><a href="https://link.juejin.cn?target=https%3A%2F%2Fdashscope.aliyuncs.com%2Fcompatible-mode%2Fv1" target="_blank" title="https://dashscope.aliyuncs.com/compatible-mode/v1" ref="nofollow noopener noreferrer">dashscope.aliyuncs.com/compatible-â€¦</a></td></tr><tr><td align="left">vllm</td><td align="left"><a href="https://link.juejin.cn?target=http%3A%2F%2Flocalhost%3A8000%2Fv1" target="_blank" title="http://localhost:8000/v1" ref="nofollow noopener noreferrer">http://localhost:8000/v1</a></td></tr></tbody></table>
<blockquote>
<p>æœ¬åœ°éƒ¨ç½²çš„ <code>Ollama</code> ä¹Ÿå…¼å®¹ <code>OpenAI API</code>ï¼Œä½¿ç”¨æ—¶æ— éœ€ <code>api-key</code> ã€‚åˆç†çš„æ ‡å‡†å¤§å¤§æé«˜ç”Ÿäº§åŠ›ï¼</p>
</blockquote>
<h2 data-id="heading-1">å®šä¹‰å˜é‡</h2>
<p>æˆ‘ä»¬å…ˆå®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œå­˜å‚¨ä¸åŒå¹³å°çš„ <code>base_url</code> å’Œ <code>api_key</code>ï¼Œè¿™æ ·åœ¨è®¿é—®ä¸åŒçš„å¹³å°æ—¶ï¼Œä½¿ç”¨è¯¥å¹³å°ç‹¬æœ‰çš„é…ç½®ä¿¡æ¯å³å¯ã€‚</p>
<pre><code class="hljs language-python" lang="python">    PROVIDERS = {
        &amp;<span class="hljs-comment">#34;openai&amp;#34;: {</span>
            &amp;<span class="hljs-comment">#34;base_url&amp;#34;: &amp;#34;https://api.openai.com/v1&amp;#34;,</span>
            &amp;<span class="hljs-comment">#34;api_key_env&amp;#34;: &amp;#34;OPENAI_API_KEY&amp;#34;</span>
        },
        &amp;<span class="hljs-comment">#34;anthropic&amp;#34;: {</span>
            &amp;<span class="hljs-comment">#34;base_url&amp;#34;: &amp;#34;https://api.anthropic.com/v1&amp;#34;,</span>
            &amp;<span class="hljs-comment">#34;api_key_env&amp;#34;: &amp;#34;ANTHROPIC_API_KEY&amp;#34;</span>
        },
        &amp;<span class="hljs-comment">#34;mistral&amp;#34;: {</span>
            &amp;<span class="hljs-comment">#34;base_url&amp;#34;: &amp;#34;https://api.mistral.ai/v1&amp;#34;,</span>
            &amp;<span class="hljs-comment">#34;api_key_env&amp;#34;: &amp;#34;MISTRAL_API_KEY&amp;#34;</span>
        },
        &amp;<span class="hljs-comment">#34;gemini&amp;#34;: {</span>
            &amp;<span class="hljs-comment">#34;base_url&amp;#34;: &amp;#34;https://generativelanguage.googleapis.com/v1beta/openai&amp;#34;,</span>
            &amp;<span class="hljs-comment">#34;api_key_env&amp;#34;: &amp;#34;GEMINI_API_KEY&amp;#34;</span>
        },
        &amp;<span class="hljs-comment">#34;cohere&amp;#34;: {</span>
            &amp;<span class="hljs-comment">#34;base_url&amp;#34;: &amp;#34;https://api.cohere.com/v1&amp;#34;,</span>
            &amp;<span class="hljs-comment">#34;api_key_env&amp;#34;: &amp;#34;COHERE_API_KEY&amp;#34;</span>
        },
        &amp;<span class="hljs-comment">#34;xai&amp;#34;: {</span>
            &amp;<span class="hljs-comment">#34;base_url&amp;#34;: &amp;#34;https://api.x.ai/v1&amp;#34;,</span>
            &amp;<span class="hljs-comment">#34;api_key_env&amp;#34;: &amp;#34;XAI_API_KEY&amp;#34;</span>
        },
        &amp;<span class="hljs-comment">#34;openrouter&amp;#34;: {</span>
            &amp;<span class="hljs-comment">#34;base_url&amp;#34;: &amp;#34;https://openrouter.ai/api/v1&amp;#34;,</span>
            &amp;<span class="hljs-comment">#34;api_key_env&amp;#34;: &amp;#34;OPENROUTER_API_KEY&amp;#34;</span>
        },
        &amp;<span class="hljs-comment">#34;ollama&amp;#34;: {</span>
            &amp;<span class="hljs-comment">#34;base_url&amp;#34;: &amp;#34;http://localhost:11434/v1&amp;#34;,</span>
            &amp;<span class="hljs-comment">#34;api_key_env&amp;#34;: None     # ä½¿ç”¨ä»»ä½•å­—ç¬¦ä¸²éƒ½å¯ä»¥</span>
        },
        &amp;<span class="hljs-comment">#34;bailian&amp;#34;:{</span>
            &amp;<span class="hljs-comment">#34;base_url&amp;#34;: &amp;#34;https://dashscope.aliyuncs.com/compatible-mode/v1&amp;#34;,</span>
            &amp;<span class="hljs-comment">#34;api_key_env&amp;#34;: &amp;#34;DASHSCOPE_API_KEY&amp;#34;</span>
        },
        &amp;<span class="hljs-comment">#34;vllm&amp;#34;: {</span>
            &amp;<span class="hljs-comment">#34;base_url&amp;#34;: &amp;#34;http://localhost:8000/v1&amp;#34;,</span>
            &amp;<span class="hljs-comment">#34;api_key_env&amp;#34;: None</span>
        }
    }
</code></pre>
<blockquote>
<p>æœ¬åœ°éƒ¨ç½²çš„ <code>ollama</code> å’Œ <code>vllm</code> ä¸éœ€è¦ api_keyã€‚<br/>
è¿™é‡Œå°†api-keyå­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­ï¼Œå½“ç„¶ä¹Ÿå¯æ”¹é€ è®©å®ƒå­˜å‚¨åœ¨é…ç½®æ–‡ä»¶ç”šè‡³æ•°æ®åº“ä¸­ã€‚</p>
</blockquote>
<h2 data-id="heading-2">å®ç°é€šç”¨å®¢æˆ·ç«¯ç±»ï¼šLLMClient</h2>
<p>åœ¨ä½¿ç”¨ <code>LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰</code> æ—¶ï¼Œ<code>temperature</code> æ˜¯å¾ˆå¸¸ç”¨çš„å‚æ•°ï¼š å®ƒçš„æ•°å€¼åœ¨ 0-1 ä¹‹é—´ï¼Œæ•°å€¼è¶Šå°ï¼Œç¡®å®šæ€§è¶Šå¼ºï¼Œæ•°å€¼è¶Šå¤§ï¼Œéšæœºæ€§è¶Šå¼ºã€‚å¦‚æœæˆ‘ä»¬éœ€è¦æ›´åŠ ç¨³å®šå‡†ç¡®çš„ç­”æ¡ˆï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å€¼åº”è¯¥å°ä¸€ç‚¹ï¼Œå¦‚æœæƒ³æ¨¡æ‹Ÿæç™½å†™è¯—ï¼Œè¿™ä¸ªæ•°å€¼åº”è¯¥å¤§ä¸€ç‚¹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">LLMClient</span>:
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, provider=&amp;<span class="hljs-comment">#34;openai&amp;#34;, api_key=None, temperature: float = 0.7):</span>
        &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;</span>
        åˆå§‹åŒ– LLM å®¢æˆ·ç«¯
        :param base_url: API åœ°å€ï¼Œä¾‹å¦‚ &amp;<span class="hljs-comment">#34;http://localhost:8000/v1&amp;#34;</span>
        :param api_key: API keyï¼ˆOllama ç­‰å…¼å®¹å®ç°å¯ç”¨ä»»æ„å­—ç¬¦ä¸²ï¼‰
        :param model: æ¨¡å‹åç§°ï¼Œä¾‹å¦‚ &amp;<span class="hljs-comment">#34;qwen3&amp;#34; æˆ– &amp;#34;gpt-4o-mini&amp;#34;</span>
        :param temperature: é‡‡æ ·æ¸©åº¦ï¼ˆ[<span class="hljs-number">0</span>-<span class="hljs-number">1</span>]ï¼Œæ•°å€¼è¶Šå¤§éšæœºæ€§è¶Šé«˜ï¼‰
        &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;</span>
        <span class="hljs-keyword">if</span> provider <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.PROVIDERS:
            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-params">f&amp;<span class="hljs-comment">#34;Unsupported provider: {provider}&amp;#34;)</span>

        self.provider = provider
        self.temperature = temperature  <span class="hljs-comment"># ä¿å­˜é»˜è®¤ temperature</span>
        config = self.PROVIDERS[provider]

        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> api_key <span class="hljs-keyword">and</span> config[&amp;<span class="hljs-comment">#34;api_key_env&amp;#34;]:</span>
            <span class="hljs-keyword">import</span> os
            api_key = os.getenv(<span class="hljs-params">config[&amp;<span class="hljs-comment">#34;api_key_env&amp;#34;])</span>
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> api_key:
                <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-params">f&amp;<span class="hljs-comment">#34;Missing API key, please set {config['api_key_env']}&amp;#34;)</span>

        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> api_key:
            api_key = &amp;<span class="hljs-comment">#34;none&amp;#34;</span>

        self.client = OpenAI(<span class="hljs-params">api_key=api_key, base_url=config[&amp;<span class="hljs-comment">#34;base_url&amp;#34;])</span>

    <span class="hljs-keyword">def</span> chat(<span class="hljs-params">self, model, messages, stream=<span class="hljs-literal">False</span>, **kwargs</span>):
        &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;</span>
        æ™®é€šè°ƒç”¨: è¿”å›å­—ç¬¦ä¸²
        æµå¼è°ƒç”¨: è¿”å›ç”Ÿæˆå™¨ï¼Œæ¯æ¬¡ <span class="hljs-keyword">yield</span> æ–°çš„ token
        &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;</span>
        <span class="hljs-comment"># å¦‚æœç”¨æˆ·æ²¡æœ‰ä¼  temperatureï¼Œåˆ™ç”¨é»˜è®¤çš„</span>
        <span class="hljs-comment"># top_pã€max_tokens è¿™äº›å¸¸ç”¨å‚æ•°ä¹Ÿå¯ä»¥é€šè¿‡kwargsè®¾ç½®</span>
        <span class="hljs-keyword">if</span> &amp;<span class="hljs-comment">#34;temperature&amp;#34; not in kwargs:</span>
            kwargs[&amp;<span class="hljs-comment">#34;temperature&amp;#34;] = self.temperature</span>
        <span class="hljs-keyword">if</span> stream:
            response = self.client.chat.completions.create(<span class="hljs-params">
                model=model,
                messages=messages,
                stream=<span class="hljs-literal">True</span>,
                **kwargs
            </span>)
            <span class="hljs-keyword">def</span> generator(<span class="hljs-params"/>):
                <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> response:
                    delta = chunk.choices[<span class="hljs-number">0</span>].delta.content
                    <span class="hljs-keyword">if</span> delta:
                        <span class="hljs-keyword">yield</span> delta
            <span class="hljs-keyword">return</span> generator(<span class="hljs-params"/>)
        <span class="hljs-keyword">else</span>:
            resp = self.client.chat.completions.create(<span class="hljs-params">
                model=model,
                messages=messages,
                **kwargs
            </span>)
            <span class="hljs-keyword">return</span> resp.choices[<span class="hljs-number">0</span>].message.content
</span></span></span></span></span></code></pre>
<blockquote>
<p><strong>kwargs</strong> çœ‹èµ·æ¥æ€ªæ€ªçš„ï¼Œä½†æ˜¯å…¶èƒ½åŠ›å´å¾ˆå¼ºï¼Œå®ƒå¯ä»¥ä¼ é€’ä»»æ„æ•°é‡çš„å…³é”®å­—å‚æ•°ã€‚è¿™äº›å…³é”®å­—å‚æ•°ä¼šä»¥å­—å…¸çš„å½¢å¼å­˜å‚¨åœ¨ kwargs ä¸­ã€‚<br/>
æˆ‘ä»¬åœ¨ <strong>init</strong> ä¸­è®¾ç½®äº† temperature çš„é»˜è®¤å€¼ï¼Œä½†æ˜¯å¯ä»¥åœ¨è°ƒç”¨ chat æ–¹æ³•æ—¶ï¼Œé€šè¿‡ <strong>kwargs</strong> è¦†ç›–å®ƒã€‚</p>
</blockquote>
<p>ä¸Šé¢çš„ç±»æ”¯æŒæ™®é€šçš„è°ƒç”¨ï¼Œä¹Ÿæ”¯æŒæµæ¨¡å¼ã€‚ä¸‹é¢ä½¿ç”¨æœ¬åœ°éƒ¨ç½²çš„ <code>ollama</code> æµ‹è¯•ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    model_name = &amp;<span class="hljs-comment">#34;qwen3&amp;#34;</span>
    llm = LLMClient(provider=&amp;<span class="hljs-comment">#34;ollama&amp;#34;)</span>

    <span class="hljs-built_in">print</span>(&amp;<span class="hljs-comment">#34;æµå¼æ¨¡å¼ç»“æœï¼š&amp;#34;, end=&amp;#34;&amp;#34;, flush=True)</span>
    <span class="hljs-keyword">for</span> token <span class="hljs-keyword">in</span> llm.chat(
        model=model_name,
        messages=[{&amp;<span class="hljs-comment">#34;role&amp;#34;: &amp;#34;user&amp;#34;, &amp;#34;content&amp;#34;: &amp;#34;ç”¨å°‘äº1000ä¸ªå­—æ€»ç»“ã€Šè¥¿æ¸¸è®°ã€‹&amp;#34;}],</span>
        stream=<span class="hljs-literal">True</span>
    ):
        <span class="hljs-built_in">print</span>(token, end=&amp;<span class="hljs-comment">#34;&amp;#34;, flush=True)</span>

    <span class="hljs-built_in">print</span>()  <span class="hljs-comment"># æ¢è¡Œ</span>

    result = llm.chat(model_name, [{&amp;<span class="hljs-comment">#34;role&amp;#34;: &amp;#34;user&amp;#34;, &amp;#34;content&amp;#34;: &amp;#34;ç”¨æç™½çš„é£æ ¼ç»™æˆ‘å†™ä¸€é¦–æå†™é¥®é…’çš„è¯—&amp;#34;}])</span>
    <span class="hljs-built_in">print</span>(&amp;<span class="hljs-comment">#34;æ™®é€šæ¨¡å¼ç»“æœï¼š\n&amp;#34;, result)</span>
</code></pre>
<p>è¾“å‡ºç»“æœå°±ä¸è´´äº†ï¼Œæœ‰å…´è¶£å¯ä»¥åœ¨åé¢ä¸‹è½½ä»£ç è‡ªå·±ç©ä¸€ä¸‹ã€‚</p>
<h2 data-id="heading-3">æ€»ç»“</h2>
<p>ä»ä»¥ä¸Šçš„ä»£ç å®è·µå¯ä»¥çœ‹å‡ºï¼ŒåŸºäºæ ‡å‡†çš„é­”åŠ›ï¼Œå®ç°ä¸€ä¸ªé€šç”¨çš„å¤§æ¨¡å‹å®¢æˆ·ç«¯å°±å˜å¾—æ¯”è¾ƒç®€å•äº†ã€‚</p>
<hr/>
<h2 data-id="heading-4">ä»£ç </h2>
<p>æœ¬æ–‡æ¶‰åŠçš„æ‰€æœ‰ä»£ç ä»¥åŠç›¸å…³èµ„æºéƒ½å·²ç»å…±äº«ï¼Œå‚è§ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fliupras%2FPractical-local-LLM-programming" target="_blank" title="https://github.com/liupras/Practical-local-LLM-programming" ref="nofollow noopener noreferrer">github</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fliupras%2Fprogramming-with-local-large-language-model" target="_blank" title="https://gitee.com/liupras/programming-with-local-large-language-model" ref="nofollow noopener noreferrer">gitee</a></li>
</ul>
<blockquote>
<p>ä¸ºä¾¿äºæ‰¾åˆ°ä»£ç ï¼Œç¨‹åºæ–‡ä»¶åç§°æœ€å‰é¢çš„ç¼–å·ä¸æœ¬ç³»åˆ—æ–‡ç« çš„æ–‡æ¡£ç¼–å·ç›¸åŒã€‚</p>
</blockquote>
<p>ğŸªæ„Ÿè°¢æ‚¨è§‚çœ‹ï¼Œç¥å¥½è¿ğŸª</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»0åˆ°1æ­å»ºä¸€ä¸ªæ™ºèƒ½åˆ†æOBSåŸ‹ç‚¹æ•°æ®çš„AI Agentï½œå¾—ç‰©æŠ€æœ¯]]></title>    <link>https://juejin.cn/post/7582118538562420755</link>    <guid>https://juejin.cn/post/7582118538562420755</guid>    <pubDate>2025-12-11T03:42:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582118538562420755" data-draft-id="7582156219059159103" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»0åˆ°1æ­å»ºä¸€ä¸ªæ™ºèƒ½åˆ†æOBSåŸ‹ç‚¹æ•°æ®çš„AI Agentï½œå¾—ç‰©æŠ€æœ¯"/> <meta itemprop="keywords" content="Agent,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-11T03:42:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾—ç‰©æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2392954206960247"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»0åˆ°1æ­å»ºä¸€ä¸ªæ™ºèƒ½åˆ†æOBSåŸ‹ç‚¹æ•°æ®çš„AI Agentï½œå¾—ç‰©æŠ€æœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2392954206960247/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾—ç‰©æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:42:54.000Z" title="Thu Dec 11 2025 03:42:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯</h2>
<p>æŸå¤©æ‰“å¼€ç»„å†…çš„Grafanaä»ªè¡¨ç›˜ï¼Œçªç„¶å¥½å¥‡æˆ‘ä»¬çš„åŸ‹ç‚¹ä»è¢«è§¦å‘åæ˜¯å¦‚ä½•ä¸€æ­¥ä¸€æ­¥å˜æˆæ‰€å±•ç¤ºçš„å„ç§å›¾è¡¨çš„ï¼Œäºæ˜¯åœ¨æˆ‘è¿›è¡Œä¸€ç³»åˆ—çš„æ¢ç´¢ä¹‹åï¼Œæ€»ç»“å‡ºäº†ä»¥ä¸‹é“¾è·¯ï¼š</p>
<ul>
<li>åœ¨æŒ‡æ ‡å·¥å‚æ–°å»ºæŒ‡æ ‡ï¼Œç¡®å®šåŸ‹ç‚¹keyå’ŒåŸ‹ç‚¹å…ƒæ•°æ®ã€‚</li>
<li>ä»£ç ä¸­æŒ‡å®šåŸ‹ç‚¹keyå’ŒåŸ‹ç‚¹æ•°æ®ï¼Œé€šè¿‡watchDogå‘é€kafkaæ¶ˆæ¯åˆ°obs monitor topicã€‚</li>
<li>ä¸ºåŸ‹ç‚¹æŒ‡æ ‡æ–°å»ºæ•°æ®å¤„ç†ä»»åŠ¡ï¼Œå°†æ¶ˆè´¹åˆ°çš„kafkaæ¶ˆæ¯è½åˆ°æŒ‡å®šçš„æ•°æ®è¡¨ä¸­ã€‚</li>
<li>æ·»åŠ æ–°çš„ä»ªè¡¨ç›˜ï¼Œç¼–å†™å±•ç¤ºæ•°æ®èƒŒåçš„SQLè¯­å¥ã€‚</li>
</ul>
<p><strong>ç—›ç‚¹</strong>ï¼šæ¯éœ€è¦æ·»åŠ ä¸€ä¸ªæ–°çš„æ•°æ®åˆ†æå¤§ç›˜ï¼Œå°±éœ€è¦äººå·¥å»åˆ†æå„ä¸ªè¡¨ç»“æ„ã€è¡¨ä¸è¡¨ä¹‹é—´çš„è”ç³»ã€è¡¨å„ä¸ªå­—æ®µçš„å«ä¹‰ç­‰ï¼Œåœ¨å……åˆ†ç†è§£å…¶å«ä¹‰åå†è´¹æ—¶è´¹åŠ›åœ°ç¼–å†™SQLè¯­å¥ï¼Œå¹¶ä¸æ–­è°ƒä¼˜ã€‚è¿™å¯¼è‡´OBSåŸ‹ç‚¹æ•°æ®åˆ†æçš„åœºæ™¯ç›¸å¯¹å›ºåŒ–ï¼Œå¹¶ä¸”éš¾ä»¥æ”¯æŒçµæ´»çš„æ•°æ®æŸ¥è¯¢è¦æ±‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8992e17b371443bcbbfdfd2cbeea70a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=9EEvzjkVRvjsOsjQRFtTfRI3OUU%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h2 data-id="heading-1">äºŒã€æ€è€ƒ</h2>
<p>åœ¨åˆ†æäº†å½“å‰ç³»ç»Ÿçš„ç—›ç‚¹åï¼Œæˆ‘æ„è¯†åˆ°è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„å¯ä»¥åˆ©ç”¨AIèƒ½åŠ›æ¥å¯¹ç°æœ‰åŠŸèƒ½è¿›è¡Œæ‰©å±•çš„åœºæ™¯ã€‚å› ä¸ºï¼š</p>
<ul>
<li>åœºæ™¯å¤šå˜ï¼Œå› ä¸ºä½ ä¸çŸ¥é“ç”¨æˆ·å¯èƒ½æƒ³æŸ¥çœ‹ä»€ä¹ˆæ ·çš„æ•°æ®ï¼Œæ— æ³•é€šè¿‡ä»£ç ç©·ä¸¾ï¼›</li>
<li>éœ€è¦äº†è§£ä¸šåŠ¡åŒæ—¶åˆå…·å¤‡ç¼–å†™å¤æ‚æ•°æ®æŸ¥è¯¢SQLçš„äººï¼Œå¹¶ä¸”è´¹æ—¶è´¹åŠ›ï¼›</li>
<li>çœ‹åˆ°å¤§ç›˜æ•°æ®åï¼Œä¾èµ–æ¯ä¸ªäººå¯¹ä¸šåŠ¡çš„ç†è§£æç‚¼å‡ºä¸€å¥—åˆ†ææŠ¥å‘Šï¼ŒæŠ¥å‘Šè´¨é‡ä¸ä¸ªäººçš„ç†è§£ä¸è¡¨è¾¾èƒ½åŠ›ç›¸å…³ã€‚</li>
</ul>
<p>äºæ˜¯æˆ‘å°±å¼€å§‹æ€è€ƒèƒ½å¦æ„å»ºä¸€ä¸ªAI Agentï¼Œä½¿å…¶èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„è¦æ±‚ï¼Œè‡ªä¸»åœ°ç”Ÿæˆå„ç§å„æ ·çš„SQLæŸ¥è¯¢è¯­å¥ï¼Œå¹¶å°†æŸ¥è¯¢åˆ°çš„æ•°æ®å½¢æˆå®Œæ•´çš„æ•°æ®åˆ†ææŠ¥å‘Šè¿”å›ç»™ç”¨æˆ·ã€‚</p>
<p>ä¸ºäº†å®ç°è¿™ä¸ªæ–¹æ¡ˆï¼Œæœ‰å‡ ä¸ªæ˜æ˜¾éœ€è¦è§£å†³çš„ç‚¹ï¼š</p>
<ul>
<li>å¦‚ä½•è®©AIç†è§£æ¯ä¸ªè¡¨ä¸­å„å­—æ®µçš„å«ä¹‰ã€å„ä¸ªè¡¨çš„ä½œç”¨ã€è¡¨ä¸è¡¨ä¹‹é—´çš„è”ç³»ï¼Œä»è€Œç”Ÿæˆå‡†ç¡®çš„SQLï¼Ÿ</li>
<li>AIç”Ÿæˆå®ŒSQLä¹‹åï¼Œå¦‚ä½•æ‰“é€š AI ä¸æ•°æ®å¹³å°ä¹‹é—´çš„é€šè·¯ï¼Œä»è€ŒæˆåŠŸæ‰§è¡Œè¯¥SQL å¹¶æ‹¿åˆ°æ•°æ®ï¼Ÿå› ä¸ºæ•°æ®åº“æƒé™ä¸åœ¨æˆ‘è¿™ï¼Œæˆ‘æ— æ³•ç›´æ¥è¿æ¥åˆ°æ•°æ®åº“ã€‚</li>
<li>å¦‚ä½•å……åˆ†åˆ©ç”¨å·²æœ‰èµ„æºï¼Œå‡å°‘äººåŠ›æŠ•å…¥ï¼Ÿæ¯•ç«Ÿæ˜¯ä¸ªäººæƒ³æ³•ï¼Œåœ¨ä¸ç¡®å®šæ•ˆæœå¦‚ä½•çš„æƒ…å†µä¸‹ï¼Œä¸å¥½ç›´æ¥æ‰“æ‰°å¹³å°æ–¹ä¸“é—¨ä¸ºæˆ‘å†™ä¸€äº›æ–°åŠŸèƒ½ï¼ŒåŒæ—¶æˆ‘ä¸ªäººä¹Ÿåªèƒ½æŠ•å…¥ä¸€äº›é›¶ç¢çš„æ—¶é—´æ¥åšè¿™ä»¶äº‹ã€‚</li>
</ul>
<h2 data-id="heading-2">ä¸‰ã€æ–¹æ¡ˆ</h2>
<p>æœ‰äº†é—®é¢˜åï¼Œå°±å¸¦ç€é—®é¢˜å»æ‰¾ç­”æ¡ˆã€‚</p>
<h3 data-id="heading-3">3.1æŸ¥è¯¢æ•°æ®Tool</h3>
<p>é¦–å…ˆï¼Œæˆ‘éœ€è¦ä¸€ä¸ªèƒ½å¤Ÿæ‰§è¡ŒæŸ¥è¯¢çš„ç«¯ç‚¹ã€‚é‚£ä¹ˆæˆ‘å°±å»æŠ“å–äº†å¤§ç›˜ä¸­çš„æ•°æ®æ‰€è°ƒç”¨çš„æ¥å£ï¼Œæ„å¤–åœ°å‘ç°ï¼Œä¸åŒçš„æ•°æ®è°ƒç”¨çš„æ˜¯åŒä¸€ä¸ªæ¥å£<a href="https://link.juejin.cn?target=https%3A%2F%2Fxxx.com%2Fapi%2Fds%2Fquery%25EF%25BC%258C%25E5%258F%25AA%25E6%2598%25AF%25E5%2585%25A5%25E5%258F%2582%25E4%25B8%258D%25E5%2590%258C%25E8%2580%258C%25E5%25B7%25B2%25EF%25BC%258C%25E8%2580%258C%25E4%25B8%2594%25E5%258F%2591%25E7%258E%25B0%25EF%25BC%258C%25E6%259F%25A5%25E8%25AF%25A2%25E7%259A%2584%25E9%2580%25BB%25E8%25BE%2591%25E6%2598%25AF%25E9%2580%259A%25E8%25BF%2587rawSql%25E5%25B0%2586%25E6%259F%25A5%25E8%25AF%25A2%25E8%25AF%25AD%25E5%258F%25A5%25E7%259B%25B4%25E6%258E%25A5%25E4%25BC%25A0%25E8%25BF%2587%25E5%258E%25BB%25EF%25BC%2581" target="_blank" title="https://xxx.com/api/ds/query%EF%BC%8C%E5%8F%AA%E6%98%AF%E5%85%A5%E5%8F%82%E4%B8%8D%E5%90%8C%E8%80%8C%E5%B7%B2%EF%BC%8C%E8%80%8C%E4%B8%94%E5%8F%91%E7%8E%B0%EF%BC%8C%E6%9F%A5%E8%AF%A2%E7%9A%84%E9%80%BB%E8%BE%91%E6%98%AF%E9%80%9A%E8%BF%87rawSql%E5%B0%86%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5%E7%9B%B4%E6%8E%A5%E4%BC%A0%E8%BF%87%E5%8E%BB%EF%BC%81" ref="nofollow noopener noreferrer">xxx.com/api/ds/querâ€¦</a></p>
<p>äºæ˜¯æˆ‘å°†è¯¥Curlå¯¼å…¥åˆ°ApiFoxä¸­ï¼Œé€šè¿‡ä¸æ–­ä¿®æ”¹å‚æ•°ï¼Œå‘ç°æœ€ç»ˆä¸æŸ¥è¯¢ç»“æœç›¸å…³çš„å…¥å‚å¯ä»¥ç²¾ç®€åˆ°ç®€å•çš„å‡ ä¸ªå‚æ•°ï¼šfromã€toã€query(format,rawSql,intervalMs)</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cc12be2388246ca9538964baf94db3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=KhfK4RC8qSolZVxsvWE6N8vEwC8%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5898e122620b48179a798c20f92c5de1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=P0j64Quhj7Dh1nVIyKTPtYyiEy4%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>é‚£ä¹ˆé’ˆå¯¹ç¬¬ä¸€ä¸ªé—®é¢˜æˆ‘å°±æƒ³åˆ°äº†å¾ˆå¥½çš„åŠæ³•ï¼ŒæŠŠè¿™ä¸ªæŸ¥è¯¢APIå°è£…æˆä¸€ä¸ªToolï¼Œæè¿°æ¸…æ¥šå„ä¸ªå­—æ®µçš„å«ä¹‰ï¼Œå°±å¯ä»¥è®©AIç”Ÿæˆå®Œæ•´çš„å‚æ•°æ¥æŸ¥è¯¢å®ƒæƒ³è¦çš„æ•°æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30b659f60d72412d9646ec05e0f6d7e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=CRcNoOSA9lnSyUxio1WzXND75pg%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p>è¯´å¹²å°±å¹²ï¼Œæˆ‘ç«‹é©¬æ–°å»ºäº†ä¸€ä¸ªSpring AIå·¥ç¨‹ï¼ŒæŠŠToolçš„åŠŸèƒ½å’Œéœ€è¦çš„å‚æ•°æè¿°æ¸…æ¥šã€‚å…¶ä¸­grafanaService.query()å†…éƒ¨é€»è¾‘å°±æ˜¯é€šè¿‡Feignæ¥è°ƒç”¨ä¸Šé¢é‚£ä¸ªæŸ¥è¯¢çš„APIã€‚</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Tool</span>(name = <span class="hljs-string">"query_grafana"</span>,
      description= <span class="hljs-string">"ä½¿ç”¨Grafanaä¸­çš„SQLæŸ¥è¯¢grafanaæ•°æ®"</span>)
public JSONObject <span class="hljs-built_in">queryGrafana</span>(<span class="hljs-variable">@ToolParam</span>(description = <span class="hljs-string">"æŸ¥è¯¢å¼€å§‹æ—¶é—´"</span>) String from,
                               <span class="hljs-variable">@ToolParam</span>(description = <span class="hljs-string">"æŸ¥è¯¢ç»“æŸæ—¶é—´"</span>) String to,
                               <span class="hljs-variable">@ToolParam</span>(description = <span class="hljs-string">"æŸ¥è¯¢æ•°æ®ç±»å‹:table|time_series"</span>) String format,
                               <span class="hljs-variable">@ToolParam</span>(description = <span class="hljs-string">"æŸ¥è¯¢æ—¶é—´é—´éš”,å•ä½æ¯«ç§’ã€‚åªæœ‰å½“formatä¸ºtime_seriesæ—¶éœ€è¦ä¼ å…¥ã€‚"</span>) Long intervalMs,
                               <span class="hljs-variable">@ToolParam</span>(description = <span class="hljs-string">"Grafana SQLæŸ¥è¯¢è¯­å¥"</span>) String rawSql){
    <span class="hljs-selector-tag">DateTimeFormatter</span> <span class="hljs-selector-tag">formatter</span> = <span class="hljs-selector-tag">DateTimeFormatter</span><span class="hljs-selector-class">.ofPattern</span>(<span class="hljs-string">"yyyy-MM-dd HH:mm:ss"</span>);
    <span class="hljs-selector-tag">LocalDateTime</span> <span class="hljs-selector-tag">fromDateTime</span> = <span class="hljs-selector-tag">LocalDateTime</span><span class="hljs-selector-class">.parse</span>(from, formatter);
    <span class="hljs-selector-tag">LocalDateTime</span> <span class="hljs-selector-tag">toDateTime</span> = <span class="hljs-selector-tag">LocalDateTime</span><span class="hljs-selector-class">.parse</span>(to, formatter);
    <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">fromTimestamp</span> = <span class="hljs-selector-tag">String</span><span class="hljs-selector-class">.valueOf</span>(fromDateTime.<span class="hljs-built_in">toInstant</span>(ZoneOffset.UTC).<span class="hljs-built_in">toEpochMilli</span>());
    <span class="hljs-selector-tag">String</span> <span class="hljs-selector-tag">toTimestamp</span> = <span class="hljs-selector-tag">String</span><span class="hljs-selector-class">.valueOf</span>(toDateTime.<span class="hljs-built_in">toInstant</span>(ZoneOffset.UTC).<span class="hljs-built_in">toEpochMilli</span>());
    <span class="hljs-selector-tag">JSONObject</span> <span class="hljs-selector-tag">resp</span> = <span class="hljs-selector-tag">grafanaService</span><span class="hljs-selector-class">.query</span>(fromTimestamp, toTimestamp, intervalMs, rawSql, format);
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">resp</span>;
}
</code></pre>

<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Resource</span>
<span class="hljs-keyword">private</span> <span class="hljs-title class_">GrafanaClient</span> grafanaClient;


<span class="hljs-meta">@Value</span>(<span class="hljs-string">"${grafana.cookie}"</span>)
<span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> getGrafanaCookie;


<span class="hljs-keyword">public</span> <span class="hljs-title class_">JSON</span><span class="hljs-built_in">Object</span> <span class="hljs-title function_">query</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> fromTimestamp, <span class="hljs-built_in">String</span> toTimestamp, Long intervalMs, <span class="hljs-built_in">String</span> rawSql, <span class="hljs-built_in">String</span> format</span>) {
    <span class="hljs-title class_">GrafanaRequest</span> request = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GrafanaRequest</span>(fromTimestamp, toTimestamp, intervalMs, rawSql, format);
    <span class="hljs-keyword">return</span> grafanaClient.<span class="hljs-title function_">query</span>(getGrafanaCookie, request);
}
</code></pre>
<h3 data-id="heading-4">3.2è¡¨ç»“æ„RAG</h3>
<p>æœ‰äº†èƒ½å¤Ÿæ‰§è¡ŒæŸ¥è¯¢çš„Toolä¹‹åï¼Œå‰©ä¸‹çš„å°±æ˜¯éœ€è¦AIèƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„queryç”Ÿæˆç²¾å‡†çš„å‚æ•°ä»¥åŠæŸ¥è¯¢SQLã€‚</p>
<p>ä¹‹å‰äº†è§£åˆ°å…¬å¸éƒ¨ç½²äº†RAGFlowæœåŠ¡ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fxxx.com%2Fknowledge%25EF%25BC%258C%25E6%2597%25A2%25E7%2584%25B6%25E6%259C%2589%25E4%25BA%2586%25EF%25BC%258C%25E9%2582%25A3%25E5%25B0%25B1%25E5%25BE%2597%25E7%2594%25A8%25E8%25B5%25B7%25E6%259D%25A5%25EF%25BC%2581" target="_blank" title="https://xxx.com/knowledge%EF%BC%8C%E6%97%A2%E7%84%B6%E6%9C%89%E4%BA%86%EF%BC%8C%E9%82%A3%E5%B0%B1%E5%BE%97%E7%94%A8%E8%B5%B7%E6%9D%A5%EF%BC%81" ref="nofollow noopener noreferrer">xxx.com/knowledgeï¼Œæ—¢â€¦</a></p>
<ul>
<li>åˆ›å»ºçŸ¥è¯†é›†ï¼Œå‘ç°æ”¯æŒæ·»åŠ é£ä¹¦æ–‡æ¡£ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e37c8f34f2b4004927830bf4d82f89c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=m8q3s8tokBcDDi050%2FrJs7A%2FKtE%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0468f002576b47569f6071d788a2d7a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=XOW2Otuz7zTyxZzdLRt9RyFDDWY%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li>ç”±äºæˆ‘ä»¬æ˜¯éœ€è¦å®Œæ•´çš„è¡¨ç»“æ„ï¼Œæ‰€ä»¥æŠŠé…ç½®ä¿®æ”¹ä¸ºä½¿ç”¨tableçš„æ ¼å¼ï¼Œä¸€è¡Œæ•°æ®ä¾¿æ˜¯ä¸€ä¸ªchunkï¼Œä»¥å…å‡ºç°è¯­ä¹‰ä¸Šçš„ä¸­æ–­ã€‚ï¼ˆåŸ‹ç‚¹æ•°æ®ä¸€èˆ¬è¡¨éƒ½è¾ƒå°ï¼Œè¯­æ„è¾ƒä¸ºæ˜ç¡®ã€‚åƒä¸€äº›å­—æ®µå¾ˆå¤šçš„å¤§è¡¨å¯èƒ½éœ€è¦è€ƒè™‘æ›´å¥½çš„æ–¹æ¡ˆã€‚ï¼‰</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e84ab93545174f378c3315e861d38d6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=EizxrD7sHUPY34KAPalDLMmTElY%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li>åˆ›å»ºé£ä¹¦æ–‡æ¡£ï¼Œæ‰‹åŠ¨åˆ°OBSçš„åº“ä¸­æŠŠæˆ‘ä»¬æƒ³è¦AIå¸®åŠ©åˆ†æçš„è¡¨ç»“æ„æ‹‰å‡ºæ¥ï¼ˆéªŒè¯æƒ³æ³•æ—¶é‡‡å–çš„ä¸´æ—¶æ–¹æ¡ˆï¼‰ï¼Œä½†ç”±äºå»ºè¡¨æ—¶çš„ä¸è§„èŒƒï¼Œå¾ˆå¤šè¡¨æ²¡æœ‰å¯¹è¡¨ä¸­å­—æ®µæ·»åŠ commentï¼Œè¿™ä¼šå¯¼è‡´AIä¸ç†è§£æ¯ä¸ªå­—æ®µçš„å«ä¹‰ï¼Œä¹Ÿå°±æ— æ³•å‡†ç¡®åœ°ç”ŸæˆSQLã€‚å› æ­¤ï¼Œæˆ‘ä»¬æ‰‹åŠ¨è¡¥å……æ¯å¼ è¡¨ã€æ¯ä¸ªå­—æ®µçš„æè¿°ï¼Œä»¥åŠä¸å…¶å®ƒè¡¨ä¹‹é—´çš„å…³è”å…³ç³»ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9adde40d57054101b5f213308b4dcb88~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=rqh%2BESuAk25dNypAC8FAnd1X6IA%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li>å°†é£ä¹¦æ–‡æ¡£æ·»åŠ åˆ°æ•°æ®é›†ä¸­ï¼Œå®Œæˆåç‚¹å‡»åç§°æŸ¥çœ‹åˆ‡ç‰‡è¯¦æƒ…ã€‚åŒå‡»æ¯ä¸ªå—ä¹Ÿå¯ä»¥æŸ¥çœ‹å—çš„è¯¦æƒ…ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6429041abc14472bb2278353d823711~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=eDzxgUSJ8Cxkszu60he84FIChls%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li>ä¼šå‘ç°RAGFlowè‡ªåŠ¨ç»™æˆ‘ä»¬ç”Ÿæˆäº†ä¸€äº›å…³é”®è¯å’Œé—®é¢˜ï¼Œè¿™äº›å†…å®¹ä¼šå¯¹å¬å›å‡†ç¡®ç‡äº§ç”Ÿå½±å“ã€‚æˆ‘è‡ªå·±è§‰å¾—ç”Ÿæˆçš„ä¸å¤ªå‡†ç¡®ï¼Œæ‰€ä»¥ç»“åˆè‡ªå·±ç†è§£æ‰‹åŠ¨è¾“å…¥äº†ä¸€äº›å…³é”®è¯å’Œå¯èƒ½çš„é—®é¢˜ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3143617fc3af4be995b67d653faf87fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=FdFHuis%2Fee2jEGCKkthnjqyLMXw%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li>å®Œæˆåï¼Œå¯ä»¥åˆ°æ£€ç´¢æµ‹è¯•tabæµ‹è¯•å¬å›çš„æ•ˆæœï¼Œæ ¹æ®ç»“æœç¡®å®šåˆé€‚çš„å‚æ•°ã€‚å¹¶å¯ä»¥å¯¹chunkçš„å†…å®¹å’Œå…³é”®è¯ç­‰ç­‰è¿›è¡Œé€‚å½“çš„è°ƒæ•´ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6b152dba313e488ea6e1ae65d0c07c37~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=u2l9TSrVN3XrkxMQHH5sL5nb%2FPQ%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<ul>
<li>è°ƒä¼˜å®Œæˆåï¼Œå°±éœ€è¦å¯¹æ¥RAGFlowçš„retriveæ¥å£ï¼Œæ¥æŠŠæˆ‘ä»¬çŸ¥è¯†åº“å¬å›çš„æµç¨‹åšæˆä¸€ä¸ªToolã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e428bafad28f4661a22af61f4d2d0c51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=ERRIt6qr5UgPeGRFd5XlAeZXAhE%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@Resource</span>
private RagFlowService ragFlowService;


<span class="hljs-variable">@Tool</span>(name = <span class="hljs-string">"get_table_schema"</span>, description= <span class="hljs-string">"æ ¹æ®queryæŸ¥è¯¢å¯èƒ½æœ‰å…³è”çš„æ•°æ®åº“è¡¨ï¼Œè¿”å›å»ºè¡¨è¯­å¥ã€‚å°½é‡ä¼ å…¥å¤šä¸ªä¸­æ–‡å…³é”®è¯ï¼Œæ¯ä¸ªå…³é”®è¯ä¹‹é—´ç”¨ç©ºæ ¼éš”å¼€ã€‚"</span>)
public List&lt;String&gt; <span class="hljs-built_in">getTableSchema</span>(<span class="hljs-variable">@Param</span>(<span class="hljs-string">"query"</span>) String question){
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">ragFlowService</span><span class="hljs-selector-class">.retrieval</span>(question);
}
</code></pre>
<h3 data-id="heading-5">3.3 OBS Agent</h3>
<p>åœ¨æˆ‘çœ‹æ¥ï¼Œæƒ³è¦æ„å»ºä¸€ä¸ªèƒ½å¤Ÿ work çš„Agentï¼Œéœ€è¦ä»¥ä¸‹å‡ ä¸ªè¦ç´ ï¼š</p>
<p><strong>Agent=Architecture</strong>(Workflowã€ReActã€Plan-Executeã€Multi-Agent...) <strong>+LLM+Context Engineering</strong>(Promptã€Toolã€Memory...)</p>
<p>æœ¬æ¥æ˜¯æƒ³ç”¨SpringAI Alibaba Graphæˆ–è€… LangGraphæ¥æ„å»ºä¸€ä¸ªWorkFlowç±»æˆ–è€…Graphç±»çš„å¤æ‚æ™ºèƒ½ä½“ï¼ˆReActã€Plan-Executeã€Multi-Agentï¼‰ã€‚ä½†ä¸ºäº†å¿«é€ŸéªŒè¯æƒ³æ³•å’ŒèŠ‚çœä¸ªäººæ—¶é—´ï¼Œå¹¶ä¸”è€ƒè™‘åˆ°ç›®å‰ä»»åŠ¡ç›¸å¯¹ç®€å•ï¼ˆPE+å·¥å…·å°±è¶³ä»¥å®Œæˆï¼‰ï¼Œå†åŠ ä¸Šéƒ¨é—¨æ­£åœ¨è¯•ç”¨Traeè¿™ä¸ªå·¥å…·ï¼Œæ‰€ä»¥å†³å®šåŸºäºTraeæ¥æ„å»ºä¸€ä¸ªAgentï¼ˆå¯ä»¥é¡ºä¾¿ä½¿ç”¨ä»–ä»¬çš„é«˜çº§æ¨¡å‹/dogeï¼Œä¹Ÿå¯ä»¥åˆ†äº«ç»™å…¶å®ƒåŒäº‹ä½¿ç”¨ï¼‰ã€‚</p>
<p>æ¥å…¥Traeä¹‹åï¼ŒArchitectureè‡ªç„¶å°±æ˜¯Traeçš„Agentæ¶æ„äº†ï¼Œæ ¹æ®æˆ‘ä½¿ç”¨ä¸‹æ¥æ„Ÿè§‰é‡‡ç”¨çš„æ˜¯åŸºäºReActçš„ Single-Agentã€‚è€ŒContext Engineeringçš„éƒ¨åˆ†ï¼Œå¯¹è¯åŠŸèƒ½ä»¥åŠé•¿çŸ­æœŸè®°å¿†ï¼Œè‡ªç„¶æ˜¯Traeå¤©ç”Ÿå°±å…·å¤‡çš„ã€‚è€ŒToolåˆ™å¯ä»¥å€ŸåŠ©å…¶è‡ªå¸¦çš„ä¸€äº›å·¥å…·ï¼Œå¦å¤–è¿˜å¯ä»¥åˆ©ç”¨MCPæ¥è¿›è¡Œæ‰©å±•ï¼Œæ¯”å¦‚å¾—ç‰©çš„MCPå¸‚åœºï¼Œæä¾›äº†å¤§é‡å¥½ç”¨çš„Serverï¼Œå¹¶ä¸”å¯ä»¥å¾ˆæ–¹ä¾¿çš„å‘å¸ƒè‡ªå·±å¼€å‘çš„Mcp Serverã€‚äºæ˜¯ï¼Œæˆ‘å°±æŠŠåœ¨ç¬¬ä¸€æ­¥å’Œç¬¬äºŒæ­¥åšçš„å·¥å…·ï¼Œåœ¨å¾—ç‰©Mcpå¹³å°ä¸Šè¿›è¡Œå‘å¸ƒï¼Œä¾›æˆ‘è‡ªå·±å’Œå…¶ä»–æ„Ÿå…´è¶£çš„åŒå­¦ä½¿ç”¨ã€‚</p>
<p>æœ€åï¼Œéœ€è¦ä¸€ä¸ªä¸“é—¨é’ˆå¯¹æˆ‘è¿™ä¸ªåœºæ™¯çš„Promptæ¥æŒ‡å¼•LLM é¡ºåˆ©å®Œæˆä»»åŠ¡ï¼Œç»è¿‡æˆ‘ä¸æ–­çš„ä¿®æ”¹ï¼Œæœ€ç»ˆå½¢æˆè¿™æ ·ä¸€æ®µPrompt:</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># Roleï¼šæ•°æ®åˆ†æä¸“å®¶</span>


<span class="hljs-section">## Backgroundï¼šç”¨æˆ·éœ€è¦ä¸“ä¸šçš„æ•°æ®åˆ†ææ”¯æŒæ¥è§£å†³å¤æ‚çš„ä¸šåŠ¡é—®é¢˜ï¼Œä»æµ·é‡æ•°æ®ä¸­æå–æœ‰ä»·å€¼çš„ä¿¡æ¯ï¼Œä¸ºäº§å“ä¼˜åŒ–ã€è¿è¥ç­–ç•¥å’Œä¸šåŠ¡å†³ç­–æä¾›å¯é ä¾æ®ã€‚</span>


<span class="hljs-section">## Attentionï¼šæ•°æ®å‡†ç¡®æ€§æ˜¯åˆ†æå·¥ä½œçš„ç”Ÿå‘½çº¿ï¼Œå¿…é¡»å§‹ç»ˆä¿æŒä¸¥è°¨ç»†è‡´çš„å·¥ä½œæ€åº¦ã€‚æ¯ä¸€æ¬¡åˆ†æéƒ½å¯èƒ½å½±å“é‡è¦å†³ç­–ï¼Œå› æ­¤éœ€è¦ç³»ç»Ÿæ€§æ€è€ƒã€åˆ†æ­¥éªŒè¯ï¼Œç¡®ä¿æ¯ä¸ªç¯èŠ‚çš„å¯é æ€§ã€‚</span>


<span class="hljs-section">## Profileï¼š</span>
<span class="hljs-bullet">-</span> Language: ä¸­æ–‡
<span class="hljs-bullet">-</span> Description: ä¸“æ³¨äºæ•°æ®åº“è¡¨ç»“æ„åˆ†æä¸Grafana-SQLæŸ¥è¯¢çš„ä¸“ä¸šæ•°æ®åˆ†æå¸ˆï¼Œå…·å¤‡ç³»ç»ŸåŒ–è§£å†³å¤æ‚æ•°æ®æŸ¥è¯¢é—®é¢˜çš„èƒ½åŠ›


<span class="hljs-section">### Skills:</span>
<span class="hljs-bullet">-</span> ç²¾é€šæ•°æ®åº“è¡¨ç»“æ„åˆ†æï¼Œèƒ½å¤Ÿå¿«é€Ÿè¯†åˆ«è¡¨å…³ç³»ã€å­—æ®µå«ä¹‰å’Œæ•°æ®ç±»å‹
<span class="hljs-bullet">-</span> ç†Ÿç»ƒæŒæ¡Grafana-SQLè¯­æ³•è§„èŒƒï¼Œå…·å¤‡é«˜æ•ˆçš„æŸ¥è¯¢è¯­å¥ç¼–å†™å’Œä¼˜åŒ–èƒ½åŠ›
<span class="hljs-bullet">-</span> å…·å¤‡ä¸“ä¸šçš„æ•°æ®å¯è§†åŒ–æŠ€èƒ½ï¼Œèƒ½å¤Ÿæ ¹æ®åˆ†æç›®æ ‡é€‰æ‹©åˆé€‚çš„å›¾è¡¨ç±»å‹
<span class="hljs-bullet">-</span> æ‹¥æœ‰æ·±åº¦ä¸šåŠ¡éœ€æ±‚ç†è§£èƒ½åŠ›ï¼Œèƒ½å¤Ÿå‡†ç¡®è½¬åŒ–ä¸šåŠ¡é—®é¢˜ä¸ºæ•°æ®æŸ¥è¯¢æ–¹æ¡ˆ
<span class="hljs-bullet">-</span> æŒæ¡ç³»ç»ŸåŒ–çš„é—®é¢˜åˆ†ææ–¹æ³•ï¼Œèƒ½å¤Ÿè§„åˆ’å®Œæ•´çš„æ•°æ®åˆ†ææµç¨‹å’ŒéªŒè¯æœºåˆ¶


<span class="hljs-section">## Goals:</span>
<span class="hljs-bullet">-</span> å‡†ç¡®ç†è§£ç”¨æˆ·ä¸šåŠ¡éœ€æ±‚ï¼Œæ˜ç¡®æ•°æ®æŸ¥è¯¢çš„æ ¸å¿ƒç›®æ ‡å’Œå…³é”®æŒ‡æ ‡
<span class="hljs-bullet">-</span> ç³»ç»Ÿåˆ†æç›¸å…³è¡¨ç»“æ„ï¼Œç¡®ä¿å¯¹æ•°æ®å…³ç³»å’Œä¸šåŠ¡é€»è¾‘çš„å…¨é¢ç†è§£
<span class="hljs-bullet">-</span> è®¾è®¡é«˜æ•ˆçš„æ•°æ®æŸ¥è¯¢æ–¹æ¡ˆï¼Œå¹³è¡¡æŸ¥è¯¢æ€§èƒ½ä¸ç»“æœå‡†ç¡®æ€§
<span class="hljs-bullet">-</span> ç”Ÿæˆä¸“ä¸šçš„æ•°æ®åˆ†ææŠ¥å‘Šï¼ŒåŒ…å«å¯è§†åŒ–å±•ç¤ºå’Œæ·±åº¦ä¸šåŠ¡æ´å¯Ÿ
<span class="hljs-bullet">-</span> ç¡®ä¿æ‰€æœ‰åˆ†æè¿‡ç¨‹å¯è¿½æº¯ã€ç»“æœå¯éªŒè¯ã€ç»“è®ºå¯æ‰§è¡Œ


<span class="hljs-section">## Constrains:</span>
<span class="hljs-bullet">-</span> æŸ¥è¯¢ä¸åˆ°æ•°æ®æ—¶ä¸è¦æ¨¡æ‹Ÿä»»ä½•æ•°æ®ï¼Œç›´æ¥å›å¤æŸ¥ä¸åˆ°æ•°æ®
<span class="hljs-bullet">-</span> ä½ è‡ªå·±æ‰€çŸ¥é“çš„æ—¶é—´æ˜¯ä¸å‡†ç¡®çš„ï¼Œå¦‚æœæ¶‰åŠåˆ°æ—¶é—´ï¼Œåˆ™éœ€è¦ä½¿ç”¨å·¥å…·è·å–å½“å‰æ—¶é—´
<span class="hljs-bullet">-</span> ä¸¥æ ¼åŸºäºå®é™…æ•°æ®è¿›è¡Œåˆ†æï¼Œä¸¥ç¦ä»»ä½•å½¢å¼çš„æ•°æ®è™šæ„æˆ–æ¨æµ‹
<span class="hljs-bullet">-</span> å¿…é¡»åœ¨å®Œæˆè¡¨ç»“æ„åˆ†æå’Œéœ€æ±‚ç†è§£åå†æ‰§è¡Œå…·ä½“æŸ¥è¯¢æ“ä½œ
<span class="hljs-bullet">-</span> æ‰€æœ‰é‡è¦æ•°æ®å¿…é¡»è¿›è¡Œæºå¤´éªŒè¯å’Œå¤šç»´åº¦äº¤å‰æ£€æŸ¥
<span class="hljs-bullet">-</span> ä¸¥æ ¼éµå®ˆæ•°æ®å®‰å…¨å’Œéšç§ä¿æŠ¤åŸåˆ™ï¼Œä¸è¶…è¶Šæˆæƒæ•°æ®èŒƒå›´
<span class="hljs-bullet">-</span> æ˜ç¡®è¯´æ˜åˆ†æçš„å±€é™æ€§ã€å‡è®¾æ¡ä»¶å’Œæ½œåœ¨çš„æ•°æ®ä¸ç¡®å®šæ€§


<span class="hljs-section">## Workflow:</span>
<span class="hljs-bullet">1.</span> æ·±åº¦ç†è§£ä¸šåŠ¡éœ€æ±‚ï¼Œæ˜ç¡®æŸ¥è¯¢ç›®æ ‡ã€å…³é”®æŒ‡æ ‡å’Œé¢„æœŸè¾“å‡º
<span class="hljs-bullet">2.</span> ä¸æ–­ä½¿ç”¨å·¥å…·è·å–ä½ éœ€è¦çš„è¡¨åŠå…¶è¡¨ç»“æ„ï¼Œç›´åˆ°ä½ è®¤ä¸ºå·²è·å–åˆ°è¶³å¤Ÿçš„ä¿¡æ¯
<span class="hljs-bullet">3.</span> ç³»ç»Ÿåˆ†æç›¸å…³è¡¨ç»“æ„ï¼ŒåŒ…æ‹¬å­—æ®µå«ä¹‰ã€æ•°æ®ç±»å‹ã€å…³è”å…³ç³»å’Œç´¢å¼•ç»“æ„
<span class="hljs-bullet">4.</span> è®¾è®¡æŸ¥è¯¢é€»è¾‘æ–¹æ¡ˆï¼Œè§„åˆ’æ‰§è¡Œæ­¥éª¤ã€éªŒè¯èŠ‚ç‚¹å’Œæ€§èƒ½ä¼˜åŒ–ç­–ç•¥
<span class="hljs-bullet">4.</span> ç¼–å†™ç¬¦åˆGrafanaè¯­æ³•çš„SQLæŸ¥è¯¢è¯­å¥ï¼Œè®¾ç½®æ­£ç¡®çš„å‚æ•°å’Œæ—¶é—´èŒƒå›´
<span class="hljs-bullet">5.</span> æ‰§è¡ŒæŸ¥è¯¢ã€‚å¦‚æœæŸ¥è¯¢å‡ºç°401é”™è¯¯ï¼Œåˆ™ä¸­æ–­åç»­æµç¨‹ï¼Œå¹¶æç¤ºç”¨æˆ·æ›´æ–°Cookieåé‡å¯obs-mcp-serverï¼›å¦‚æœå‡ºç°400é”™è¯¯ï¼Œå°è¯•ä¿®æ”¹è‡ªå·±çš„SQLè¯­å¥é‡æ–°æŸ¥è¯¢ï¼›
<span class="hljs-bullet">6.</span> ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨å’Œè¯¦ç»†åˆ†ææŠ¥å‘Šï¼ŒæŠ¥å‘Šä¸­å¿…é¡»åŒ…å«ä½ æ‰§è¡ŒæŸ¥è¯¢çš„SQLè¯­å¥
<span class="hljs-bullet">7.</span> è°ƒç”¨é£ä¹¦ç”Ÿæˆæ–‡æ¡£å·¥å…·ä»¥Markdownæ ¼å¼åˆ›å»ºé£ä¹¦æ–‡æ¡£ï¼Œè¿”å›æœ€ç»ˆçš„é£ä¹¦æ–‡æ¡£åœ°å€


<span class="hljs-section">## OutputFormat:</span>
<span class="hljs-bullet">-</span> åˆ†ææŠ¥å‘Šï¼ŒåŒ…å«å®Œæ•´çš„åˆ†æè¿‡ç¨‹å’Œå…³é”®å‘ç°ï¼Œåˆ›å»ºæ–°çš„é£ä¹¦æ–‡æ¡£å¹¶ä¿å­˜åœ¨å…¶ä¸­
<span class="hljs-bullet">-</span> å¯è§†åŒ–å›¾è¡¨ä»¥åµŒå…¥å¼é“¾æ¥å½¢å¼å‘ˆç°ï¼Œç¡®ä¿æ¸…æ™°å±•ç¤ºæ•°æ®è¶‹åŠ¿å’Œåˆ†å¸ƒ
<span class="hljs-bullet">-</span> æŠ¥å‘Šç»“æ„åŒ…å«æ‰§è¡Œæ‘˜è¦ã€åˆ†ææ–¹æ³•ã€æ•°æ®ç»“æœã€ä¸šåŠ¡æ´å¯Ÿå’Œåç»­å»ºè®®


<span class="hljs-section">## Suggestions:</span>
<span class="hljs-bullet">-</span> å»ºç«‹ç³»ç»ŸåŒ–çš„è¡¨ç»“æ„åˆ†ææ¡†æ¶ï¼Œæé«˜æ•°æ®å…³ç³»è¯†åˆ«çš„æ•ˆç‡å’Œå‡†ç¡®æ€§
<span class="hljs-bullet">-</span> æŒç»­å­¦ä¹ Grafana-SQLæœ€æ–°è¯­æ³•ç‰¹æ€§ï¼Œä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½å’Œèµ„æºæ¶ˆè€—
<span class="hljs-bullet">-</span> åŸ¹å…»å¤šç»´åº¦æ•°æ®éªŒè¯ä¹ æƒ¯ï¼Œç¡®ä¿åˆ†æç»“æœçš„å¯é æ€§å’Œä¸šåŠ¡ä»·å€¼
<span class="hljs-bullet">-</span> æ·±å…¥ç†è§£ä¸šåŠ¡åœºæ™¯ï¼Œæå‡ä»æ•°æ®åˆ°æ´å¯Ÿçš„è½¬åŒ–èƒ½åŠ›å’Œå†³ç­–æ”¯æŒæ°´å¹³
<span class="hljs-bullet">-</span> å®šæœŸå¤ç›˜åˆ†ææ¡ˆä¾‹ï¼Œæ€»ç»“ç»éªŒæ•™è®­ï¼ŒæŒç»­æ”¹è¿›åˆ†ææ–¹æ³•è®ºå’Œå·¥ä½œæµç¨‹


<span class="hljs-section">## å·¥å…·æè¿°</span>
<span class="hljs-bullet">-</span> query<span class="hljs-emphasis">_grafana:ä½¿ç”¨Grafanaä¸­çš„SQLæŸ¥è¯¢grafanaæ•°æ®
æ³¨æ„ï¼š
      1. å½“formatä¸ºtime_</span>seriesæ—¶è¡¨ç¤ºæŸ¥è¯¢æ—¶é—´åºåˆ—æ•°æ®ï¼ŒSELECTçš„ç¬¬ä¸€ä¸ªå­—æ®µå¿…é¡»æ˜¯$<span class="hljs-strong">__timeGroupAlias(timestamp, interval)ï¼Œè¡¨ç¤ºæ—¶é—´åˆ†ç»„åˆ«åã€‚æ—¶é—´é—´éš”intervalMséœ€è¦ä¸rawSqlä¸­çš„$__</span>timeGroup(timestamp, interval)ä¿æŒå¯¹åº”ã€‚æ¯”å¦‚intervalMs=86400000Lè¡¨ç¤º1å¤©,rawSqlä¸­$<span class="hljs-strong">__timeGroup(timestamp, 1d)ä¹Ÿéœ€è¦ä¿æŒä¸€è‡´ã€‚
      2. å½“formatä¸ºtableæ—¶è¡¨ç¤ºæŸ¥è¯¢è¡¨æ ¼æ•°æ®ï¼ŒSELECTçš„å­—æ®µå¯ä»¥ä»»æ„ï¼ŒintervalMså‚æ•°ä¼ null
      3. æ—¶é—´èŒƒå›´ä¸ºé—­åŒºé—´ï¼Œå³åŒ…å«å¼€å§‹æ—¶é—´fromå’Œç»“æŸæ—¶é—´to,æ ¼å¼ä¸ºyyyy-MM-dd HH:mm:ssã€‚
å‚æ•°ç¤ºä¾‹ï¼š{
    "from": "2025-11-16 00:00:00",
    "to": "2025-11-16 23:59:59",
    "format": "table",
    "intervalMs": null,
    "rawSql": "SELECT region, COUNT(<span class="hljs-emphasis">*) as user_count FROM intl_xxxxxxx WHERE $__timeFilter(timestamp) GROUP BY region ORDER BY user_count DESC"
  }


## Initialization
ä½œä¸ºæ•°æ®åˆ†æä¸“å®¶ï¼Œä½ å¿…é¡»éµå®ˆConstrainsï¼Œä½¿ç”¨é»˜è®¤ä¸­æ–‡ä¸ç”¨æˆ·äº¤æµã€‚
</span></span></code></pre>
<p>æœ€ç»ˆï¼Œåœ¨ Trae ä¸­æ„å»ºäº†ä¸€ä¸ªå®Œæ•´OBS Agentã€‚</p>
<ul>
<li>æ·»åŠ æ™ºèƒ½ä½“ï¼šOBSå¤§ç›˜åˆ†æ</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2209be432b4045549921a04fc0dd830e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=oOAQgJDhTkLHBQxL4hS%2FgN%2FBTlk%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h2 data-id="heading-6">å››ã€æˆæœ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea2595f4300d4ed795136f67e99929e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=4UQbWkBYfySYKy1jUNEMO7ee8Fc%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2c9329380274ae3b535a93437222263~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=4qSpa4DM8uT5qGKxVEKPKuPuBac%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e1def6b68a0455d8e7d3a496cef3b8b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=9BbuxEVfIBPH1qPE9yDef%2B%2Fgq6Q%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6f7bf0a31c604be7aedc62757ed09ed9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=JXtsLE6snnIqrlO35F1bbhCzf8E%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><strong>æœ€ç»ˆç”Ÿæˆçš„æŠ¥å‘Šï¼ˆæˆªå–éƒ¨åˆ†ï¼‰ï¼š</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c374ec201cf46a59e9bbad20a12a5ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=%2FuDakHatZoMP6qVK8f3lr6C6oAQ%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89cc37e36c3e4811a2eb1c64cb1258e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=FHrg5EDXZ5x%2FmAv3Ihj6DTsnIbE%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2c8ed688f0f34673a565beb6dcc4a036~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6X54mp5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029374&amp;x-signature=q7wtrNRQaFM6hltQzs6hWAJOMuc%3D" alt="" loading="lazy"/><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/></p>
<h2 data-id="heading-7">äº”ã€æ€»ç»“</h2>
<p>AIæ—¶ä»£æ¥ä¸´ï¼Œæˆ‘ä»¬åº”è¯¥è¦å–„äºå‘ç°å½“å‰ç³»ç»Ÿä¸­çš„å“ªäº›éƒ¨åˆ†èƒ½å¤Ÿç»“åˆAIæ¥è¿›è¡Œæå‡ï¼Œç§¯ææ‹¥æŠ±å˜åŒ–ï¼Œæœ‰äº†æƒ³æ³•å°±å»åšï¼Œè¾¹åšè¾¹æƒ³è¾¹è§£å†³é—®é¢˜ï¼Œæ°¸è¿œä¸»åŠ¨å‘å‰ä¸€æ­¥ã€‚</p>
<p>æœ¬æ–‡ç« åªæ˜¯è®°å½•äº†ä»äº§ç”Ÿæƒ³æ³•åˆ°æ„å»ºMVPéªŒè¯æƒ³æ³•çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œè¿™ä¸­é—´å½“ç„¶æœ‰å¾ˆå¤šå¯ä»¥ç»§ç»­ä¼˜åŒ–çš„åœ°æ–¹ï¼Œæˆ‘æœ¬äººç›®å‰æœ‰ä»¥ä¸‹å‡ ä¸ªæƒ³æ³•ï¼Œä¹Ÿæ¬¢è¿å¤§å®¶ç§¯æè¯„è®ºï¼Œè´¡çŒ®è‡ªå·±çš„ç‹¬åˆ°è§è§£ã€‚</p>
<ul>
<li>æ¥å…¥æ•°æ®åº“æ•°æ®ï¼Œé€šè¿‡åŠ¨æ€ç›‘å¬Binlogçš„æ–¹å¼æ¥è¯†åˆ«å„è¡¨ä¹‹é—´çš„è”ç³»ï¼Œæ¯”å¦‚select è¯­å¥çš„joinï¼Œå¹¶å°†è¿™ç§å…³ç³»ä¿å­˜åˆ°Neo4j è¿™ç§å›¾å‘é‡æ•°æ®åº“ä¸­æ¥å®ç°è¡¨ç»“æ„çš„ RAGã€‚</li>
<li>åŸºäºLangGraph æˆ– SpringAI Alibaba æ„å»ºMulti-Agent Systemï¼Œç»†åŒ–å„Agentçš„èŒè´£ï¼Œç²¾ç‚¼å„Agentçš„Context æ„æˆï¼Œä»¥è·å¾—æ›´å¥½çš„æ•ˆæœã€‚ä¾‹å¦‚ï¼šåè°ƒè€… Agentã€è¡¨ç»“æ„æœç´¢ Agentã€SQL ç”Ÿæˆ Agentã€åˆ†ææŠ¥å‘Š Agentç­‰ç­‰ã€‚</li>
<li>æ¥å…¥é£ä¹¦æœºå™¨äººï¼Œæˆ–è€…ä½¿ç”¨AI Codingå·¥å…·ç”Ÿæˆä¸€ä¸ªå‰ç«¯é¡µé¢ã€‚ä½¿å¾—ä¸€äº›éæŠ€æœ¯äººå‘˜ï¼Œä¾‹å¦‚äº§å“å’Œè¿è¥ä¹Ÿèƒ½å¾ˆæ–¹ä¾¿åœ°ä½¿ç”¨ã€‚</li>
</ul>
<h3 data-id="heading-8">å¾€æœŸå›é¡¾</h3>
<ol>
<li>
<p>æ•°æ®åº“AIæ–¹å‘æ¢ç´¢-MCPåŸç†è§£æ&amp;DBæ–¹å‘å®æˆ˜ï½œå¾—ç‰©æŠ€æœ¯</p>
</li>
<li>
<p>é¡¹ç›®æ€§èƒ½ä¼˜åŒ–å®è·µï¼šæ·±å…¥FMPç®—æ³•åŸç†æ¢ç´¢ï½œå¾—ç‰©æŠ€æœ¯</p>
</li>
<li>
<p>Dragonboatç»Ÿä¸€å­˜å‚¨LogDBå®ç°åˆ†æï½œå¾—ç‰©æŠ€æœ¯</p>
</li>
<li>
<p>ä»æ•°å­—åˆ°ç‰ˆé¢ï¼šå¾—ç‰©æ•°æ®äº§å“é‡Œæ•°å­—æ ¼å¼åŒ–çš„é‚£äº›äº‹</p>
</li>
<li>
<p>ä¸€æ–‡è§£æå¾—ç‰©è‡ªå»º Redis æœ€æ–°æŠ€æœ¯æ¼”è¿›</p>
</li>
</ol>
<h3 data-id="heading-9">æ–‡ /Neeson</h3>
<p>å…³æ³¨å¾—ç‰©æŠ€æœ¯ï¼Œæ¯å‘¨æ›´æ–°æŠ€æœ¯å¹²è´§</p>
<p>è¦æ˜¯è§‰å¾—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿è¯„è®ºè½¬å‘ç‚¹èµï½</p>
<p>æœªç»å¾—ç‰©æŠ€æœ¯è®¸å¯ä¸¥ç¦è½¬è½½ï¼Œå¦åˆ™ä¾æ³•è¿½ç©¶æ³•å¾‹è´£ä»»ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€è¡Œä»£ç å®ç°æ™ºèƒ½å¼‚å¸¸æ£€æµ‹ï¼šUModel PaaS API æ¶æ„è®¾è®¡ä¸æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7582156219059535935</link>    <guid>https://juejin.cn/post/7582156219059535935</guid>    <pubDate>2025-12-11T03:43:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582156219059535935" data-draft-id="7581995152190586922" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€è¡Œä»£ç å®ç°æ™ºèƒ½å¼‚å¸¸æ£€æµ‹ï¼šUModel PaaS API æ¶æ„è®¾è®¡ä¸æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="äº‘åŸç”Ÿ"/> <meta itemprop="datePublished" content="2025-12-11T03:43:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘äº‘åŸç”Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3808363977648493"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€è¡Œä»£ç å®ç°æ™ºèƒ½å¼‚å¸¸æ£€æµ‹ï¼šUModel PaaS API æ¶æ„è®¾è®¡ä¸æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808363977648493/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘äº‘åŸç”Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:43:49.000Z" title="Thu Dec 11 2025 03:43:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»12åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šå¼ é‘«ï¼ˆåƒä¹˜ï¼‰</p>
<p>ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1jS2VBJEzE%2F" target="_blank" title="https://www.bilibili.com/video/BV1jS2VBJEzE/" ref="nofollow noopener noreferrer">æ­¤å¤„</a>ï¼ŒæŸ¥çœ‹è§†é¢‘æ¼”ç¤ºï¼</p>
<p><strong>å‰æ–‡å›é¡¾ï¼š</strong></p>
<p>ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580386%26idx%3D1%26sn%3D60829abde772d4544cf2d66c1a7b81a7%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580386&amp;idx=1&amp;sn=60829abde772d4544cf2d66c1a7b81a7&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">åŸºäº UModel é«˜æ•ˆæ„å»ºå¯è§‚æµ‹åœºæ™¯ç»Ÿä¸€å®ä½“æœç´¢å¼•æ“</a>ã€‹</p>
<p>ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580174%26idx%3D1%26sn%3Ddf8ad313c69dd0157057a46b81c7ab40%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580174&amp;idx=1&amp;sn=df8ad313c69dd0157057a46b81c7ab40&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ„å»ºæ•°æ®èµ„äº§â€œå¯¼èˆªåœ°å›¾â€ï¼šè¯¦è§£ UModel æ•°æ®å‘ç°ä¸å…¨é“¾è·¯åˆ†æèƒ½åŠ›</a>ã€‹</p>
<p>ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzUzNzYxNjAzMg%3D%3D%26mid%3D2247580441%26idx%3D1%26sn%3D28b760dfa51d9a5085abda9660519067%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzUzNzYxNjAzMg==&amp;mid=2247580441&amp;idx=1&amp;sn=28b760dfa51d9a5085abda9660519067&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">æ‰“é€šå¯è§‚æµ‹æ€§çš„â€œä»»ç£äºŒè„‰â€ï¼šå®ä½“ä¸å…³ç³»çš„ç»ˆæèåˆ</a>ã€‹</p>
<h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>åŸºäº UModel æ„å»ºçš„å¯è§‚æµ‹ç³»ç»Ÿï¼Œè®¿é—®å¯è§‚æµ‹æ•°æ®éœ€è¦ä¸Šå±‚åº”ç”¨æ„ŸçŸ¥ EntitySetã€DataSetã€Storageã€Filter ç­‰å¤šä¸ªæ¦‚å¿µï¼Œç»™ UIã€ç®—æ³•ã€å®¢æˆ·ç­‰ä½¿ç”¨æ–¹å¸¦æ¥äº†è¾ƒé«˜çš„å¼€å‘å’Œç»´æŠ¤æˆæœ¬ã€‚</p>
<h3 data-id="heading-1">å…¸å‹åœºæ™¯ï¼šæŸ¥è¯¢ APM æœåŠ¡çš„è¯·æ±‚é‡æŒ‡æ ‡</h3>
<p>å‡è®¾ä¸Šå±‚åº”ç”¨éœ€è¦å®ç°æŸ¥è¯¢æŸä¸ª APM æœåŠ¡çš„è¯·æ±‚é‡æŒ‡æ ‡ï¼Œå¼€å‘è€…éœ€è¦ç»å†ä»¥ä¸‹æ­¥éª¤ï¼š</p>
<h4 data-id="heading-2">å¼€å‘è€…éœ€è¦äº†è§£çš„çŸ¥è¯†</h4>
<ol>
<li><strong>å®ä½“å…³è”ï¼š</strong> æœåŠ¡å®ä½“å…³è”å“ªä¸ª MetricSetï¼Ÿ</li>
<li><strong>å­˜å‚¨è·¯ç”±ï¼š</strong> MetricSet ä½¿ç”¨å“ªä¸ª MetricStoreï¼ŸRegion/Project/å­˜å‚¨åç§°æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li><strong>å­—æ®µæ˜ å°„ï¼š</strong> Entity çš„Â <code>service_id</code>Â å¯¹åº”å­˜å‚¨çš„å“ªä¸ªå­—æ®µï¼ˆå¦‚Â <code>acs_arms_service_id</code>ï¼‰ï¼Ÿ</li>
<li><strong>æŸ¥è¯¢è¯­æ³•ï¼š</strong> å¦‚ä½•ç¼–å†™ PromQL è¡¨è¾¾å¼Â <code>rate(arms_app_requests_count_raw{...}[1m])</code>ï¼Ÿ</li>
<li><strong>SPL æ‹¼æ¥ï¼š</strong> å¦‚ä½•ç»„è£…æˆå®Œæ•´çš„æŸ¥è¯¢è¯­å¥ï¼Ÿ</li>
</ol>
<h4 data-id="heading-3">å®Œæ•´çš„å¼€å‘æ­¥éª¤</h4>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">Step</span>Â <span class="hljs-number">1</span>: æŸ¥è¯¢ UModel å…ƒæ•°æ®
Â  Â  Â  Â  â†“ æ‰¾åˆ° service EntitySet å…³è”çš„ MetricSet
Â  Â  Â  Â  â†“ å¦‚æœ DataLink ä¸­åŒ…å« FilterByEntityï¼Œè¿˜éœ€æ ¹æ®å®ä½“æ•°æ®è¿‡æ»¤
<span class="hljs-keyword">Step</span>Â <span class="hljs-number">2</span>: è§£æ MetricSet é…ç½®
Â  Â  Â  Â  â†“ æ ¹æ® StorageLink è·å–åº•å±‚ MetricStore è¿æ¥ä¿¡æ¯
Â  Â  Â  Â  â†“ è·å– Region/Project/MetricStore åç§°
<span class="hljs-keyword">Step</span>Â <span class="hljs-number">3</span>: æŸ¥çœ‹å­—æ®µæ˜ å°„
Â  Â  Â  Â  â†“ ä» DataLink ä¸­è·å–å­—æ®µæ˜ å°„è¡¨
Â  Â  Â  Â  â†“ ç¡®è®¤ service_id â†’ acs_arms_service_id
<span class="hljs-keyword">Step</span>Â <span class="hljs-number">4</span>: æ„é€  PromQL è¡¨è¾¾å¼
Â  Â  Â  Â  â†“ æ ¹æ®æŒ‡æ ‡å®šä¹‰æ‹¼æ¥æŸ¥è¯¢è¡¨è¾¾å¼
Â  Â  Â  Â  â†“ å¤„ç†èšåˆè§„åˆ™ã€æ—¶é—´çª—å£
<span class="hljs-keyword">Step</span>Â <span class="hljs-number">5</span>: æ‹¼æ¥å¹¶æ‰§è¡ŒæŸ¥è¯¢
Â  Â  Â  Â  â†“ ä½¿ç”¨æ­£ç¡®çš„ label å’Œ MetricStore
Â  Â  Â  Â  â†“ æ‹¼æ¥å®Œæ•´çš„ SPL è¯­å¥å¹¶æ‰§è¡Œ
</code></pre>
<p><strong>æœ€ç»ˆæŸ¥è¯¢è¯­å¥ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">.metricstoreÂ with(<span class="hljs-attr">region</span>=<span class="hljs-string">'cn-hangzhou'</span>, project=<span class="hljs-string">'cms-xxx'</span>, metricstore=<span class="hljs-string">'metricstore-apm'</span>)
|prom-callÂ promql_query_range('sum by (acs_arms_service_id) (rate(arms_app_requests_count_raw{<span class="hljs-attr">acs_arms_service_id</span>=&amp;<span class="hljs-comment">#34;xxx&amp;#34;}[1m]))','1m')</span>
</code></pre>
<h3 data-id="heading-4">ç—›ç‚¹</h3>
<h4 data-id="heading-5">ç—›ç‚¹ 1ï¼šæ¦‚å¿µå¤æ‚ï¼Œå­¦ä¹ é—¨æ§›é«˜</h4>
<p><strong>é—®é¢˜æè¿°ï¼š</strong></p>
<ul>
<li>å¼€å‘è€…å¿…é¡»æ·±å…¥ç†è§£ UModel æ¶æ„ï¼šEntitySetã€DataSetã€DataLinkã€StorageLinkã€Filter ç­‰å¤šä¸ªæ¦‚å¿µ</li>
<li>éœ€è¦äº†è§£ DataSet ä¸ Storage çš„å…³è”å…³ç³»ã€Filter è·¯ç”±é€»è¾‘ã€å­—æ®µæ˜ å°„è§„åˆ™</li>
<li>æ–°äººä¸Šæ‰‹å›°éš¾ï¼Œè€æ‰‹ä¹Ÿå®¹æ˜“é—æ¼ç»†èŠ‚</li>
</ul>
<p><strong>å½±å“ï¼š</strong> å¼€å‘æ•ˆç‡ä½ï¼Œç»´æŠ¤æˆæœ¬é«˜</p>
<h4 data-id="heading-6">ç—›ç‚¹ 2ï¼šå¤æ‚åœºæ™¯å®ç°å›°éš¾</h4>
<p><strong>é—®é¢˜æè¿°ï¼š</strong></p>
<ul>
<li>å­˜å‚¨è·¯ç”±æŸ¥æ‰¾ï¼šéœ€è¦ç†è§£å¤šä¸ª MetricSet ä¹‹é—´çš„é€‰æ‹©é€»è¾‘</li>
<li>å­—æ®µæ˜ å°„å¤„ç†ï¼šEntity å­—æ®µ â†’ å­˜å‚¨å­—æ®µçš„æ˜ å°„è§„åˆ™å¤æ‚</li>
<li>è¿‡æ»¤æ¡ä»¶ç­›é€‰ï¼šFilterByEntity è§„åˆ™åŒ¹é…é€»è¾‘éš¾ä»¥æŒæ¡</li>
<li>å¤šæ¬¡æŸ¥è¯¢æ‹¼æ¥ï¼šéœ€è¦å¤šæ¬¡æŸ¥è¯¢å…ƒæ•°æ®ï¼Œå†æ„å»ºæ•°æ®æŸ¥è¯¢</li>
</ul>
<p><strong>å½±å“ï¼š</strong> å¢åŠ ä»£ç å¤æ‚åº¦ï¼Œå‡ºé”™æ¦‚ç‡é«˜</p>
<h4 data-id="heading-7">ç—›ç‚¹ 3ï¼šåº•å±‚å­˜å‚¨è¯­æ³•é€ƒä¸æ‰</h4>
<p><strong>é—®é¢˜æè¿°ï¼š</strong></p>
<ul>
<li>MetricSet å¯èƒ½ç”± MetricStore æˆ– LogStore å®ç°ï¼ŒæŸ¥è¯¢æ–¹å¼å®Œå…¨ä¸åŒï¼ˆPromQL vs SPLï¼‰</li>
<li>ä¸åŒå­˜å‚¨æä¾›å•†ï¼ˆARMS MetricStoreã€Aliyun Prometheusï¼‰è¯­æ³•æœ‰å·®å¼‚</li>
<li>å¼€å‘è€…ä»éœ€ç²¾é€šåº•å±‚æŸ¥è¯¢è¯­è¨€</li>
</ul>
<p><strong>å½±å“ï¼š</strong> åŒæ ·çš„éœ€æ±‚éœ€è¦ç¼–å†™ä¸åŒçš„ä»£ç ï¼Œæ— æ³•ç»Ÿä¸€</p>
<h4 data-id="heading-8">ç—›ç‚¹ 4ï¼šå¤šæ¬¡æŸ¥è¯¢äº¤äº’ï¼Œæ•ˆç‡ä½</h4>
<p><strong>é—®é¢˜æè¿°ï¼š</strong></p>
<ul>
<li>å…ˆæŸ¥è¯¢ UModel Meta è·å–é…ç½® â†’ å†æ ¹æ® Meta æŸ¥è¯¢æ•°æ®</li>
<li>éœ€è¦è‡ªå·±å¤„ç†æ•°æ®æ‹¼æ¥å’Œå…³è”</li>
<li>æ¯ä¸ªä½¿ç”¨æ–¹éƒ½è¦å®ç°ç±»ä¼¼é€»è¾‘ï¼Œä»£ç é‡å¤åº¦é«˜</li>
</ul>
<p><strong>å½±å“ï¼š</strong> é›†æˆæˆæœ¬é«˜ï¼ŒæŸ¥è¯¢å»¶è¿Ÿå¤§ï¼Œå‡ºé”™æ¦‚ç‡å¢åŠ </p>
<h2 data-id="heading-9">ç›®æ ‡ä¸æ¶æ„</h2>
<h3 data-id="heading-10">è®¾è®¡ç›®æ ‡</h3>
<p>é’ˆå¯¹ä¸Šè¿°å››å¤§ç—›ç‚¹ï¼ŒUModel PaaS API çš„è®¾è®¡ç›®æ ‡æ˜¯å±è”½åº•å±‚å¤æ‚æ€§ï¼Œç»Ÿä¸€è®¿é—®æ¥å£ï¼Œä½¿ä¸Šå±‚åº”ç”¨æ›´åŠ ä¸“æ³¨ä¸šåŠ¡é€»è¾‘å®ç°ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9984af49c44c48b0afcc31e96cfd5319~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=XbhGfO0hwA05cH8CwyCpYyGGoCk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-11">æ ¸å¿ƒè®¾è®¡åŸåˆ™</h4>
<ul>
<li><strong>è‡ªåŠ¨åŒ–å¤„ç†ï¼š</strong> è‡ªåŠ¨è·¯ç”±ã€å­—æ®µæ˜ å°„ã€æŸ¥è¯¢è½¬æ¢</li>
<li><strong>ç»Ÿä¸€ SPL è¯­æ³•ï¼š</strong> æ‰€æœ‰æ•°æ®ç±»å‹ä½¿ç”¨ä¸€è‡´æ¥å£</li>
<li><strong>é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼š</strong> å®ä½“æ–¹æ³•è°ƒç”¨ã€å…³ç³»å¯¼èˆª</li>
<li><strong>AI å‹å¥½ï¼š</strong> åå°„èƒ½åŠ›ï¼Œæ”¯æŒ AI Agent è‡ªä¸»æ¢ç´¢</li>
</ul>
<h3 data-id="heading-12">è®¾è®¡ç†å¿µï¼šä¸¤å±‚æŠ½è±¡</h3>
<p>è®¿é—® UModel æ•°æ®æ—¶ï¼Œéœ€è¦å•ç‹¬é€šè¿‡ SPL å»è®¿é—®æŒ‡æ ‡ã€æ—¥å¿—ã€é“¾è·¯ç­‰å„ç§æ•°æ®ï¼Œ<strong>æ¯ç§æ•°æ®éƒ½æœ‰ä¸åŒçš„è®¿é—®æ–¹å¼ï¼Œæ²¡æœ‰ç»Ÿä¸€çš„æŠ½è±¡ã€‚</strong></p>
<p>UModel PaaS API é‡‡ç”¨<strong>ä¸¤å±‚æŠ½è±¡</strong>çš„è®¾è®¡æ€è·¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8522b6f41d74dcbb3ed0282b539cb6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=uGJOUpgd856GZZJcjGWoRfC6myk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-13">ç¬¬ä¸€å±‚æŠ½è±¡ï¼šTable æ¨¡å¼ï¼ˆè¡¨æ ¼åŒ–æŠ½è±¡ï¼‰</h4>
<p>å°†æ‰€æœ‰æ•°æ®â€”â€”æŒ‡æ ‡ã€æ—¥å¿—ã€é“¾è·¯ã€æ€§èƒ½å‰–æâ€”â€”ç»Ÿä¸€æŠ½è±¡æˆ<strong>è¡¨æ ¼ç»“æ„</strong>ï¼Œæ‰€æœ‰æŸ¥è¯¢éƒ½æ˜¯é’ˆå¯¹è¡¨æ ¼æ•°æ®è¿›è¡Œæ“ä½œã€‚</p>
<p><strong>ä»·å€¼ï¼š</strong> ç»Ÿä¸€äº†æŸ¥è¯¢è¯­è¨€ï¼Œå¼€å‘è€…ä¸éœ€è¦å…³å¿ƒåº•å±‚æ˜¯ PromQL è¿˜æ˜¯ SLS SPLï¼Œéƒ½ç”¨åŒä¸€å¥— SPL è¯­æ³•ã€‚</p>
<h4 data-id="heading-14">ç¬¬äºŒå±‚æŠ½è±¡ï¼šObject æ¨¡å¼ï¼ˆå¯¹è±¡çº§æŠ½è±¡ï¼‰</h4>
<p>è¡¨æ ¼æ¨¡å¼è§£å†³äº†æ•°æ®è®¿é—®çš„ç»Ÿä¸€æ€§ï¼Œä½†è¿˜ä¸å¤Ÿã€‚æˆ‘ä»¬è¿˜éœ€è¦<strong>ä»¥å®ä½“ä¸ºä¸­å¿ƒ</strong>çš„æŠ½è±¡ã€‚</p>
<p>ä¼ ç»Ÿæ–¹å¼ï¼šæŸ¥è¯¢ä¸€ä¸ªæœåŠ¡çš„æŒ‡æ ‡ï¼Œéœ€è¦çŸ¥é“è¿™ä¸ªæœåŠ¡å…³è”å“ªä¸ª MetricSetã€å­—æ®µå¦‚ä½•æ˜ å°„ã€è¿‡æ»¤æ¡ä»¶æ€ä¹ˆå†™â€¦</p>
<p>Object æ¨¡å¼ï¼šåªéœ€è¦è¯´â€œè¿™ä¸ªæœåŠ¡ï¼Œç»™æˆ‘å®ƒçš„æŒ‡æ ‡â€ï¼Œç³»ç»Ÿè‡ªåŠ¨å¤„ç†å­—æ®µæ˜ å°„ã€è¿‡æ»¤æ¡ä»¶ã€å­˜å‚¨è·¯ç”±ã€‚</p>
<p><strong>ä»·å€¼ï¼š</strong> é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼ŒæŠŠå®ä½“å½“æˆå¯¹è±¡ï¼ŒæŠŠæŸ¥è¯¢å½“æˆæ–¹æ³•è°ƒç”¨ï¼š<code>service.get_metric()</code>ã€‚</p>
<h4 data-id="heading-15">ç¬¬ä¸‰å±‚èƒ½åŠ›ï¼šå…ƒæ•°æ®æŸ¥è¯¢ï¼ˆåå°„èƒ½åŠ›ï¼‰</h4>
<p>æä¾›åŠ¨æ€èƒ½åŠ›å‘ç°ã€é…ç½®éªŒè¯ç­‰é«˜çº§åŠŸèƒ½ï¼Œè®© AI Agent å¯ä»¥è‡ªä¸»æ¢ç´¢ã€è‡ªä¸»å†³ç­–ã€‚</p>
<p><strong>ä»·å€¼ï¼š</strong> AI Agent èƒ½å¤Ÿé€šè¿‡åå°„èƒ½åŠ›åŠ¨æ€å‘ç°å®ä½“çš„èƒ½åŠ›è¾¹ç•Œï¼Œå®ç°çœŸæ­£çš„æ™ºèƒ½è¿ç»´ã€‚</p>
<h3 data-id="heading-16">æ¶æ„åˆ†å±‚</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2ea6c34f60146fc9b4f7abe3d714181~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=TAw%2BSRBwdG9e%2F7h0v48s9gQB7tk%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-17">1. å­˜å‚¨å±‚ç»Ÿä¸€ï¼šEntityStore/LogStore/MetricStore â†’ SPL</h4>
<p>è‡ªåŠ¨å®Œæˆå­˜å‚¨è·¯ç”±ã€å­—æ®µæ˜ å°„ï¼ˆ<code>service_idÂ â†’Â acs_arms_service_id</code>ï¼‰ã€è¿‡æ»¤ã€æŸ¥è¯¢è¯­æ³•çš„è½¬æ¢ã€‚ä¸Šå±‚åº”ç”¨å¯¹å­˜å‚¨åˆ‡æ¢æ— æ„ŸçŸ¥ã€‚</p>
<h4 data-id="heading-18">2. æ•°æ®å±‚ç»Ÿä¸€ï¼šTable æ¨¡å¼</h4>
<p>ç›´æ¥è®¿é—® DataSetï¼Œå£°æ˜å¼æŸ¥è¯¢ï¼Œæ”¯æŒå®Œæ•´ SPL Pipelineã€‚</p>
<pre><code class="hljs language-ini" lang="ini">.metric_setÂ with(<span class="hljs-attr">domain</span>=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'service.request'</span>, query=`service_id=<span class="hljs-string">'xxxx'</span>`)Â |Â statsÂ avg(latency)
.log_setÂ with(<span class="hljs-attr">domain</span>=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'service.error_log'</span>Â query=`service_id=<span class="hljs-string">'xxx'</span>`)Â |Â whereÂ level=&amp;<span class="hljs-comment">#34;ERROR&amp;#34;</span>
</code></pre>
<h4 data-id="heading-19">3. å¯¹è±¡å±‚ç»Ÿä¸€ï¼šObject æ¨¡å¼</h4>
<p>ä»¥å®ä½“ä¸ºä¸­å¿ƒï¼Œè‡ªåŠ¨å¤„ç†åº•å±‚ç»†èŠ‚ï¼Œæ”¯æŒåŠ¨æ€èƒ½åŠ›å‘ç°å’Œé…ç½®æ£€æŸ¥ã€‚</p>
<pre><code class="hljs language-java" lang="java"># æ•°æ®è®¿é—®
.entity_setÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.service'</span>, ids=[<span class="hljs-string">'404e5d6be468f6dfaeef37a014322423'</span>])</span>Â 
|Â entity-callÂ <span class="hljs-title function_">get_metric</span><span class="hljs-params">(<span class="hljs-string">'apm'</span>,Â <span class="hljs-string">'apm.metric.apm.service'</span>,Â <span class="hljs-string">'avg_request_latency_seconds'</span>,Â <span class="hljs-string">'range'</span>,Â <span class="hljs-string">''</span>,Â <span class="hljs-literal">false</span>)</span>Â 
# èƒ½åŠ›å‘ç°ï¼ˆAgent è‡ªä¸»å†³ç­–çš„å…³é”®ï¼‰
.entity_setÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'service'</span>)</span>Â |Â entity-callÂ <span class="hljs-title function_">__list_method__</span><span class="hljs-params">()</span>
# é…ç½®æ£€æŸ¥
.entity_setÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'service'</span>)</span>Â |Â entity-callÂ <span class="hljs-title function_">__inspect__</span><span class="hljs-params">()</span>
</code></pre>
<h2 data-id="heading-20">API è¯´æ˜</h2>
<p>UModel PaaS API æä¾›ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯çš„æŸ¥è¯¢éœ€æ±‚ï¼š</p>
<ol>
<li><strong>Table æ¨¡å¼</strong>Â - ç›´æ¥è®¿é—®æ•°æ®é›†ï¼Œé€‚åˆæ‰¹é‡æ•°æ®åˆ†æ</li>
<li><strong>Object æ¨¡å¼</strong>Â - ä»¥å®ä½“ä¸ºä¸­å¿ƒï¼Œé€‚åˆå®ä½“è¯¦æƒ…æŸ¥è¯¢å’Œå…³ç³»åˆ†æ</li>
<li><strong>å…ƒæ•°æ®æŸ¥è¯¢</strong>Â - åå°„èƒ½åŠ›å’Œé…ç½®éªŒè¯ï¼Œæ”¯æŒ AI Agent å’Œå¼€å‘è°ƒè¯•</li>
</ol>
<h3 data-id="heading-21">Table æ¨¡å¼</h3>
<p>Table æ¨¡å¼ï¼ˆPhase 1ï¼‰æä¾›ç›´æ¥è®¿é—®Â DataSetï¼ˆMetricSetã€LogSetã€TraceSet ç­‰ï¼‰çš„èƒ½åŠ›ï¼Œè¿”å›è¡¨æ ¼åŒ–çš„å¯è§‚æµ‹æ•°æ®ï¼Œé€‚ç”¨äºä¸ä¾èµ–å®ä½“å…³ç³»çš„æ•°æ®æŸ¥è¯¢åœºæ™¯ã€‚</p>
<p>å¦‚ï¼šç›´æ¥æŸ¥è¯¢æŸä¸ª MetricSet ä¸­çš„æŒ‡æ ‡æ•°æ®ï¼Œæˆ–æŸ¥è¯¢æŸä¸ª LogSet ä¸­çš„æ—¥å¿—ï¼Œæ— éœ€å…³è”å®ä½“ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è¯»å– apm.metric.apm.service MetricSetå¯¹åº”çš„avg_request_latency_secondsçš„æŒ‡æ ‡ï¼Œ</span>
<span class="hljs-comment"># å¹¶å¯¹è¯¥æŒ‡æ ‡è¿›è¡Œå¼‚å¸¸æ£€æµ‹</span>
.metric_set with(<span class="hljs-attr">domain</span>=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.metric.apm.service'</span>, metric=<span class="hljs-string">'avg_request_latency_seconds'</span>, source=<span class="hljs-string">'metrics'</span>)
|Â extendÂ <span class="hljs-attr">r</span> = series_decompose_anomalies(__value__)Â 
|Â extendÂ <span class="hljs-attr">anomaly_b</span> =r.anomalies_score_series , anomaly_type = r.anomalies_type_series , __anomaly_msg__ = r.error_msg Â 
|Â extendÂ <span class="hljs-attr">x</span> = zip(anomaly_b, __ts__, anomaly_type, __value__)Â 
|Â extendÂ <span class="hljs-attr">__anomaly_rst__</span> = filter(x, x-&gt; x.field0 &gt;Â <span class="hljs-number">0</span>)Â 
|Â project __entity_id__, __labels__, __anomaly_rst__, __anomaly_msg__
</code></pre>
<p><strong>æ ¸å¿ƒç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>ç›´æ¥è®¿é—®ï¼šç›´è¾¾ DataSetï¼Œæ— éœ€æŸ¥è¯¢å®ä½“å…ƒæ•°æ®</li>
<li>è¯­æ³•ç®€æ´ï¼šç±»ä¼¼ SQL çš„ SPL è¯­æ³•ï¼Œæ˜“äºç†è§£</li>
<li>å…¨é‡æ•°æ®ï¼šè¿”å› DataSet ä¸­ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰æ•°æ®</li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong> <code>. with(domain, name, ...) | </code>ï¼Œæ›´å¤šå‚æ•°è¯´æ˜è¯·å‚è€ƒæ–‡æ¡£ï¼šPhase 1 Table æ¨¡å¼ <strong>[</strong> <strong>1]</strong> ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fb93a3641544b08be21948d29c9578c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=gZd8RqKCeDb%2FNt%2FGSoQCXR4TpdE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-22">Object æ¨¡å¼</h3>
<p>Object æ¨¡å¼ï¼ˆPhase 2ï¼‰æä¾›<strong>ä»¥å®ä½“ä¸ºä¸­å¿ƒçš„é¢å‘å¯¹è±¡æŸ¥è¯¢èƒ½åŠ›</strong>ï¼Œè‡ªåŠ¨å¤„ç†å®ä½“ä¸æ•°æ®çš„å…³è”å…³ç³»ã€å­—æ®µæ˜ å°„ã€å…³ç³»æŸ¥è¯¢ç­‰å¤æ‚é€»è¾‘ï¼Œé€‚ç”¨äºéœ€è¦å®ä½“ä¸Šä¸‹æ–‡çš„ä¸šåŠ¡åœºæ™¯ã€‚</p>
<p>å¦‚ï¼šæŸ¥è¯¢æŸä¸ªå…·ä½“æœåŠ¡çš„æŒ‡æ ‡ã€æ—¥å¿—ã€é“¾è·¯æ•°æ®ï¼Œæˆ–æŸ¥è¯¢ä¸è¯¥æœåŠ¡æœ‰è°ƒç”¨å…³ç³»çš„å…¶ä»–æœåŠ¡ï¼Œç³»ç»Ÿè‡ªåŠ¨å®Œæˆå­—æ®µæ˜ å°„å’Œæ•°æ®è¿‡æ»¤ã€‚</p>
<pre><code class="hljs language-java" lang="java"># æŸ¥è¯¢ç‰¹å®šæœåŠ¡çš„è¯·æ±‚å»¶è¿ŸæŒ‡æ ‡ï¼Œè‡ªåŠ¨å¤„ç†å­—æ®µæ˜ å°„å’Œ FilterByEntity
.entity_setÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.service'</span>, ids=[<span class="hljs-string">'21d5ed421ae93973d67a04af551b48b8'</span>])</span>Â 
|Â entity-callÂ <span class="hljs-title function_">get_metric</span><span class="hljs-params">(<span class="hljs-string">'apm'</span>,Â <span class="hljs-string">'apm.metric.apm.service'</span>,Â <span class="hljs-string">'avg_request_latency_seconds'</span>,Â <span class="hljs-string">'range'</span>,Â <span class="hljs-string">'30s'</span>,Â <span class="hljs-literal">false</span>)</span>
|Â project __entity_id__, __ts__, __value__, __labels__
</code></pre>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>é›¶é…ç½®è¿‡æ»¤ï¼šè‡ªåŠ¨å¤„ç† FilterByEntityï¼Œæ— éœ€æ‰‹åŠ¨æ‹¼æ¥è¿‡æ»¤æ¡ä»¶</li>
<li>å­—æ®µæ˜ å°„é€æ˜ï¼šè‡ªåŠ¨è½¬æ¢Â <code>service_idÂ â†’Â acs_arms_service_id</code>Â ç­‰æ˜ å°„</li>
<li>é¢å‘å¯¹è±¡è¯­ä¹‰ï¼š<code>entity.get_metric()</code>ï¼Œç¬¦åˆå¼€å‘è€…æ€ç»´ä¹ æƒ¯</li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong> <code>.entity_set with(domain, name, id, query) | entity-call &lt;æ–¹æ³•&gt;(&lt;å‚æ•°&gt;) | </code>ï¼Œæ›´å¤šå‚æ•°è¯´æ˜è¯·å‚è€ƒæ–‡æ¡£ï¼šPhase 2 Object æ¨¡å¼ <strong>[</strong> <strong>2]</strong> ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83198ad240004e66bbe5dddcf6e03773~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=ArBD9CBq0HgBRZgKIUtM9dmwx%2Fw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-23">å…ƒæ•°æ®æŸ¥è¯¢æ–¹æ³•</h3>
<p>å…ƒæ•°æ®æŸ¥è¯¢æ–¹æ³•æä¾›åŠ¨æ€å‘ç°å’Œåå°„èƒ½åŠ›ï¼Œç”¨äºæŸ¥è¯¢å®ä½“çš„å…³è”å…³ç³»ã€æ•°æ®é›†é…ç½®ã€æ”¯æŒçš„æ–¹æ³•ç­‰å…ƒæ•°æ®ä¿¡æ¯ï¼Œæ—¢å¯ä»¥å¸®åŠ©å¼€å‘è€…ç†è§£å®ä½“èƒ½åŠ›ï¼Œä¹Ÿæ˜¯å®ç° AI Agent è‡ªä¸»å†³ç­–å’Œé…ç½®éªŒè¯çš„å…³é”®åŸºç¡€ã€‚</p>
<p>å¦‚ï¼šæŸ¥è¯¢æŸä¸ªæœåŠ¡å®ä½“æ”¯æŒå“ªäº›æ–¹æ³•ï¼ˆ<code>__list_method__()</code>ï¼‰ã€å…³è”äº†å“ªäº›æ•°æ®é›†ï¼ˆ<code>list_data_set()</code>ï¼‰ã€ä¸å“ªäº›å…¶ä»–æœåŠ¡æœ‰è°ƒç”¨å…³ç³»ï¼ˆ<code>list_related_entity_set()</code>ï¼‰ã€é…ç½®æ˜¯å¦æ­£ç¡®ï¼ˆ<code>__inspect__()</code>ï¼‰ã€‚</p>
<pre><code class="hljs language-xml" lang="xml">#Â åŠ¨æ€å‘ç°å®ä½“æ”¯æŒçš„æ‰€æœ‰æ–¹æ³•ï¼ˆåå°„èƒ½åŠ›ï¼‰
.entity_set with(domain='apm', name='apm.service')Â 
| entity-call __list_method__()
#Â è¿”å›ï¼šæ–¹æ³•åˆ—è¡¨åŠå‚æ•°å®šä¹‰
#Â [
#Â  Â {<span class="hljs-symbol">&amp;#34;</span>name<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>get_metric<span class="hljs-symbol">&amp;#34;</span>,Â <span class="hljs-symbol">&amp;#34;</span>params<span class="hljs-symbol">&amp;#34;</span>: [...],Â <span class="hljs-symbol">&amp;#34;</span>description<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>è·å–æŒ‡æ ‡æ•°æ®<span class="hljs-symbol">&amp;#34;</span>},
#Â  Â {<span class="hljs-symbol">&amp;#34;</span>name<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>list_related_entity_set<span class="hljs-symbol">&amp;#34;</span>,Â <span class="hljs-symbol">&amp;#34;</span>params<span class="hljs-symbol">&amp;#34;</span>: [...],Â <span class="hljs-symbol">&amp;#34;</span>description<span class="hljs-symbol">&amp;#34;</span>:Â <span class="hljs-symbol">&amp;#34;</span>æŸ¥è¯¢å…³è”å®ä½“<span class="hljs-symbol">&amp;#34;</span>},
#Â  Â ...
#Â ]
</code></pre>
<p><strong>æ ¸å¿ƒä»·å€¼ï¼š</strong></p>
<ul>
<li>åå°„èƒ½åŠ›ï¼š<code>__list_method__()</code>Â è®© AI Agent èƒ½è‡ªä¸»æ¢ç´¢å®ä½“çš„èƒ½åŠ›è¾¹ç•Œ</li>
<li>é…ç½®éªŒè¯ï¼š<code>__inspect__()</code>Â ä¸€é”®æ£€æŸ¥ DataSetã€Linkã€å­—æ®µæ˜ å°„ç­‰é…ç½®å®Œæ•´æ€§</li>
<li>å…³ç³»æŸ¥è¯¢ï¼š<code>list_related_entity_set()</code>Â å¿«é€Ÿè·å–æ‹“æ‰‘å…³ç³»ï¼Œæ— éœ€æŸ¥è¯¢å›¾æ•°æ®åº“</li>
<li>èƒ½åŠ›å‘ç°ï¼š<code>list_data_set()</code>Â äº†è§£å®ä½“å…³è”çš„æ‰€æœ‰è§‚æµ‹æ•°æ®ç±»å‹</li>
</ul>
<p><strong>è¯­æ³•ï¼š</strong> <code>.entity_set with(domain, name, id, query) | entity-call &lt;æ–¹æ³•&gt;(&lt;å‚æ•°&gt;)</code>ï¼Œæ›´å¤šå‚æ•°è¯´æ˜è¯·å‚è€ƒæ–‡æ¡£ï¼šPhase 2 Object æ¨¡å¼ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e000ccd7c30345298f37a3475cf305a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=WY4FkW9Q00FxIFvlgF0ighH8Wqo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-24">æŸ¥è¯¢æ–¹å¼</h2>
<h3 data-id="heading-25">UI æ–¹å¼</h3>
<p>ç™»å½•äº‘ç›‘æ§ 2.0 æ§åˆ¶å°ï¼Œç‚¹å‡»å®ä½“æ¢ç´¢Â -&gt;Â SPLï¼Œè¾“å…¥ SPLï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><code>.entity\_set with(domain='apm', name='apm.service', ids=['21d5ed421ae93973d67a04af551b48b8']) | entity-call get_metric('apm', 'apm.metric.apm.service', 'avg_request_latency_seconds', 'range', '', false)</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1db886c117b54ac090901b7124d42dea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=2R8tjeHaOoyHZ6OwIY1UZ9sGH1k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h4 data-id="heading-26">DryRun æ¨¡å¼</h4>
<p>DryRun æ¨¡å¼è¿”å›å¯¹åº”çš„ Queryï¼Œä¸æ‰§è¡Œå½“å‰ Queryï¼Œä¹Ÿæ”¯æŒæ‰‹åŠ¨è®¾ç½®è¿è¡Œæ¨¡å¼ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"># å¼€å¯dry_runæ¨¡å¼
.<span class="hljs-keyword">set</span>Â umodel_paas_mode<span class="hljs-operator">=</span><span class="hljs-string">'dry_run'</span>;
.entity_setÂ <span class="hljs-keyword">with</span>(domain<span class="hljs-operator">=</span><span class="hljs-string">'apm'</span>, name<span class="hljs-operator">=</span><span class="hljs-string">'apm.service'</span>)Â 
<span class="hljs-operator">|</span>Â entity<span class="hljs-operator">-</span><span class="hljs-keyword">call</span>Â get_metric(<span class="hljs-string">'apm'</span>,Â <span class="hljs-string">'apm.metric.apm.service'</span>,Â <span class="hljs-string">'avg_request_latency_seconds'</span>,Â <span class="hljs-string">'range'</span>,Â <span class="hljs-string">''</span>,Â <span class="hljs-literal">false</span>)Â 
</code></pre>
<p>UI å¼€å¯ DryRun æ¨¡å¼ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51e1724052c64023baefe3b68d746726~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=7ALJIVlQpqUnJfgVAISCSI6bN2A%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-27">SDK æ–¹å¼</h3>
<p>é€šè¿‡é˜¿é‡Œäº‘ OpenAPI <strong>[</strong> <strong>3]</strong> ä¸‹è½½ SDKï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span>Â main
<span class="hljs-keyword">import</span>Â (
&amp;#<span class="hljs-number">34</span>;fmt&amp;#<span class="hljs-number">34</span>;
	cms20240330Â &amp;#<span class="hljs-number">34</span>;github.com/alibabacloud-<span class="hljs-keyword">go</span>/cms<span class="hljs-number">-20240330</span>/v3/client&amp;#<span class="hljs-number">34</span>;
	openapiÂ &amp;#<span class="hljs-number">34</span>;github.com/alibabacloud-<span class="hljs-keyword">go</span>/darabonba-openapi/v2/client&amp;#<span class="hljs-number">34</span>;
&amp;#<span class="hljs-number">34</span>;github.com/alibabacloud-<span class="hljs-keyword">go</span>/tea/tea&amp;#<span class="hljs-number">34</span>;
	credentialÂ &amp;#<span class="hljs-number">34</span>;github.com/aliyun/credentials-<span class="hljs-keyword">go</span>/credentials&amp;#<span class="hljs-number">34</span>;
&amp;#<span class="hljs-number">34</span>;os&amp;#<span class="hljs-number">34</span>;
)
<span class="hljs-function"><span class="hljs-keyword">func</span>Â <span class="hljs-title">CreateClient</span><span class="hljs-params">()</span></span>Â (_result *cms20240330.Client, _errÂ <span class="hljs-type">error</span>) {
	credential, _err := credential.NewCredential(<span class="hljs-literal">nil</span>)
<span class="hljs-keyword">if</span>Â _err !=Â <span class="hljs-literal">nil</span>Â {
<span class="hljs-keyword">return</span>Â _result, _err
	}
	config := &amp;openapi.Config{
		Credential: credential,
	}
	config.Endpoint = tea.String(&amp;#<span class="hljs-number">34</span>;cms.cn-hangzhou.aliyuncs.com&amp;#<span class="hljs-number">34</span>;)
	_result = &amp;cms20240330.Client{}
	_result, _err = cms20240330.NewClient(config)
<span class="hljs-keyword">return</span>Â _result, _err
}
<span class="hljs-function"><span class="hljs-keyword">func</span>Â _<span class="hljs-title">main</span><span class="hljs-params">(args [ ]*<span class="hljs-type">string</span>)</span></span>Â (_errÂ <span class="hljs-type">error</span>) {
	client, _err := CreateClient()
<span class="hljs-keyword">if</span>Â _err !=Â <span class="hljs-literal">nil</span>Â {
<span class="hljs-keyword">return</span>Â _err
	}
	getEntityStoreDataRequest := &amp;cms20240330.GetEntityStoreDataRequest{
		Query: tea.String(&amp;#<span class="hljs-number">34</span>;.entity_set with(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.service'</span>, ids=[<span class="hljs-string">'21d5ed421ae93973d67a04af551b48b8'</span>]) | entity-call get_metric(<span class="hljs-string">'apm'</span>, <span class="hljs-string">'apm.metric.apm.service'</span>, <span class="hljs-string">'avg_request_latency_seconds'</span>, <span class="hljs-string">'range'</span>) &amp;#<span class="hljs-number">34</span>;),
		From: Â tea.Int32(<span class="hljs-number">1762244123</span>),
		To: Â  Â tea.Int32(<span class="hljs-number">1762244724</span>),
	}
<span class="hljs-keyword">if</span>Â result, err := client.GetEntityStoreData(tea.String(&amp;#<span class="hljs-number">34</span>;o11y-demo-cn-hangzhou&amp;#<span class="hljs-number">34</span>;), getEntityStoreDataRequest); err !=Â <span class="hljs-literal">nil</span>Â {
<span class="hljs-keyword">return</span>Â err
	}Â <span class="hljs-keyword">else</span>Â {
		fmt.Printf(&amp;#<span class="hljs-number">34</span>;length: %d&amp;#<span class="hljs-number">34</span>;,Â <span class="hljs-built_in">len</span>(result.Body.Data))
<span class="hljs-keyword">return</span>Â <span class="hljs-literal">nil</span>
	}
}
<span class="hljs-function"><span class="hljs-keyword">func</span>Â <span class="hljs-title">main</span><span class="hljs-params">()</span></span>Â {
	err := _main(tea.StringSlice(os.Args[<span class="hljs-number">1</span>:]))
<span class="hljs-keyword">if</span>Â err !=Â <span class="hljs-literal">nil</span>Â {
<span class="hljs-built_in">panic</span>(err)
	}
}
</code></pre>
<p>å‚æ•°è¯´æ˜ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d51de5612664ed49b17fff454ce33d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=%2FqQie1WvvWGaJ9O91K%2BqXGA46VU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>ç¨‹åºè¿è¡Œ</strong></p>
<pre><code class="hljs language-ini" lang="ini">go build -o demo .
exportÂ <span class="hljs-attr">ALIBABA_CLOUD_ACCESS_KEY_SECRET</span>=
exportÂ <span class="hljs-attr">ALIBABA_CLOUD_ACCESS_KEY_ID</span>=
./demo
</code></pre>
<h2 data-id="heading-28">ç¤ºä¾‹</h2>
<h3 data-id="heading-29">é›†æˆç®—å­å®ç°é«˜é˜¶èƒ½åŠ›ï¼šUModel é«˜é˜¶æŸ¥è¯¢ Â + æ—¶åºå¼‚å¸¸æ£€æµ‹ç®—å­</h3>
<p>é€šè¿‡ UModel é«˜é˜¶ API é›†æˆ SLS æ—¶åºå¼‚å¸¸æ£€æµ‹ç®—å­Â <code>series_decompose_anomalies</code>ï¼Œä¸€è¡ŒæŸ¥è¯¢å®ç°æ™ºèƒ½å¼‚å¸¸æ£€æµ‹ã€‚</p>
<p>å¦‚ï¼šç›‘æ§æŸä¸ª APM æœåŠ¡çš„è¯·æ±‚å»¶è¿Ÿï¼Œå½“å‡ºç°å¼‚å¸¸ï¼ˆçªåˆºã€è¶‹åŠ¿å˜åŒ–ã€å¹³å°å˜åŒ–ï¼‰æ—¶è§¦å‘å‘Šè­¦ã€‚</p>
<pre><code class="hljs language-java" lang="java">.entity_setÂ <span class="hljs-title function_">with</span><span class="hljs-params">(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.service'</span>, ids=[<span class="hljs-string">'21d5ed421ae93973d67a04af551b48b8'</span>])</span>Â 
| entity-callÂ <span class="hljs-title function_">get_metric</span><span class="hljs-params">(<span class="hljs-string">'apm'</span>,Â <span class="hljs-string">'apm.metric.apm.service'</span>,Â <span class="hljs-string">'avg_request_latency_seconds'</span>,Â <span class="hljs-string">'range'</span>,Â <span class="hljs-string">'30s'</span>,Â <span class="hljs-literal">false</span>)</span>Â 
|Â <span class="hljs-type">extend</span>Â <span class="hljs-variable">r</span>Â <span class="hljs-operator">=</span>Â series_decompose_anomalies(__value__)Â 
|Â <span class="hljs-type">extend</span>Â <span class="hljs-variable">anomaly_b</span>Â <span class="hljs-operator">=</span>r.anomalies_score_series , anomaly_type = r.anomalies_type_series , __anomaly_msg__ = r.error_msg Â 
|Â <span class="hljs-type">extend</span>Â <span class="hljs-variable">x</span>Â <span class="hljs-operator">=</span>Â zip(anomaly_b, __ts__, anomaly_type, __value__)Â 
|Â <span class="hljs-type">extend</span>Â <span class="hljs-variable">__anomaly_rst__</span>Â <span class="hljs-operator">=</span>Â filter(x, x-&gt; x.field0 &gt;Â <span class="hljs-number">0</span>)Â 
| project __entity_id__, __labels__, __anomaly_rst__, __anomaly_msg__
</code></pre>
<p><strong>è¿”å›ç»“æœ</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c2de178290ed4df987dfe6746a9d4f04~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=D3i7AxES%2FMbVo8kVoKF%2FbaNWDWI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><strong>æ”¯æŒçš„å¼‚å¸¸ç±»å‹ï¼š</strong></p>
<ul>
<li><code>SPIKE_UPÂ /Â SPIKE_DOWN</code>Â - å‘ä¸Š/å‘ä¸‹çªåˆº</li>
<li><code>TREND_SHIFT_UP</code>Â /Â <code>TREND_SHIFT_DOWN</code>Â - è¶‹åŠ¿ä¸Šå‡/ä¸‹é™</li>
<li><code>LEVEL_SHIFT_UP</code>Â /Â <code>LEVEL_SHIFT_DOWN</code>Â - å¹³å°ä¸Šå‡/ä¸‹é™</li>
</ul>
<p>å¦‚ä¸‹å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f1c630c37914bcd9eb048e611252e69~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5LqR5Y6f55Sf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766029429&amp;x-signature=kpBUiMYsKPfl9O%2FH%2B1HS9SHlL3I%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h3 data-id="heading-30">æ•°æ®äº’è”äº’é€šï¼šå…³è”è‡ªå®šä¹‰ LogStore</h3>
<p>åœ¨å®é™…ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œä¸šåŠ¡æ•°æ®å¾€å¾€åˆ†æ•£åœ¨å¤šä¸ªå­˜å‚¨ä¸­ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>UModel ä¸­å­˜å‚¨äº† APM æœåŠ¡çš„æ‹“æ‰‘å…³ç³»ã€æŒ‡æ ‡ã€é“¾è·¯ã€æ—¥å¿—</li>
<li>ä¸šåŠ¡ç³»ç»Ÿçš„è‡ªå®šä¹‰æ—¥å¿—å­˜å‚¨åœ¨ç‹¬ç«‹çš„ LogStore ä¸­ï¼ˆå¦‚è®¢å•æ—¥å¿—ã€æ”¯ä»˜æ—¥å¿—ã€ç”¨æˆ·è¡Œä¸ºæ—¥å¿—ï¼‰</li>
</ul>
<p>é€šè¿‡ UModel é«˜é˜¶ API + SPL join èƒ½åŠ›ï¼Œå¯ä»¥<strong>æ‰“é€š UModel å®ä½“æ•°æ®ä¸è‡ªå®šä¹‰ä¸šåŠ¡æ•°æ®</strong>ï¼Œå®ç°ï¼š</p>
<ol>
<li><strong>ç»Ÿä¸€è§†è§’åˆ†æï¼š</strong> å°†åº”ç”¨æ€§èƒ½é—®é¢˜ä¸ä¸šåŠ¡æ—¥å¿—å…³è”åˆ†æ</li>
<li><strong>å¿«é€Ÿå®šä½é—®é¢˜ï¼š</strong> ä»æœåŠ¡å¼‚å¸¸å¿«é€Ÿå®šä½åˆ°å…·ä½“ä¸šåŠ¡æ“ä½œ</li>
<li><strong>ç«¯åˆ°ç«¯è¿½è¸ªï¼š</strong> ä»ä¸šåŠ¡è¯·æ±‚åˆ°æŠ€æœ¯æŒ‡æ ‡çš„å…¨é“¾è·¯åˆ†æ</li>
</ol>
<p><strong>å…¸å‹åœºæ™¯ï¼š</strong></p>
<ul>
<li>æŸä¸ª APM æœåŠ¡å‡ºç°å»¶è¿Ÿå¼‚å¸¸ â†’ å…³è”ä¸šåŠ¡è®¢å•æ—¥å¿— â†’ å®šä½åˆ°å…·ä½“æ…¢æŸ¥è¯¢çš„è®¢å• ID</li>
<li>æŸä¸ªæœåŠ¡çš„é”™è¯¯æ—¥å¿—æ¿€å¢ â†’ å…³è”ç”¨æˆ·è¡Œä¸ºæ—¥å¿— â†’ åˆ†ææ˜¯å“ªäº›ç”¨æˆ·æ“ä½œè§¦å‘äº†å¼‚å¸¸</li>
<li>åˆ†ææœåŠ¡è°ƒç”¨é“¾è·¯ â†’ å…³è”ä¸šåŠ¡æµç¨‹æ—¥å¿— â†’ è¿½è¸ªå®Œæ•´çš„ä¸šåŠ¡æµè½¬è·¯å¾„</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-vbnet" lang="vbnet">#Â åœºæ™¯ï¼šå…³è”è‡ªå®šä¹‰çš„logstoreæ—¥å¿—ä¿¡æ¯
#Â SPL:Â 
#Â <span class="hljs-number">1</span>. ä»ä¸šåŠ¡LogStoreä¸­æ‰¾åˆ°å¤±è´¥çš„traceIdä»¥åŠmsg
.<span class="hljs-keyword">let</span> failed_log = .logstore <span class="hljs-keyword">with</span>(project=â€˜xxxâ€™, logstore=â€˜xxxxâ€™, query=â€˜*<span class="hljs-comment">')Â </span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â | project trace_id, msg;
#Â <span class="hljs-number">2</span>. æŸ¥è¯¢æœåŠ¡çš„Traceæ•°æ®
.<span class="hljs-keyword">let</span> service_traces = .entity_set <span class="hljs-keyword">with</span>(domain=<span class="hljs-comment">'apm', name='apm.service', ids=['xxxx'])Â </span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â | entity-<span class="hljs-keyword">call</span> get_trace(â€˜apmâ€˜, â€™apm.trace.commonâ€™);
$failed_log |Â <span class="hljs-keyword">join</span>Â $service_tracesÂ <span class="hljs-keyword">on</span> trace_id =Â $service_traces.traceId | Â project msg
</code></pre>
<h3 data-id="heading-31">é›†æˆ AI Agentï¼šé€šè¿‡åå°„èƒ½åŠ›å®ç°è‡ªä¸»å†³ç­–</h3>
<p>å°† UModel PaaS API å°è£…ä¸ºÂ MCP Tools <strong>[</strong> <strong>4]</strong> ï¼Œé€šè¿‡åå°„èƒ½åŠ›ï¼ˆ<code>__list_method__()</code>ï¼‰è®© AI Agent å…·å¤‡è‡ªä¸»æ¢ç´¢å’Œå†³ç­–èƒ½åŠ›ï¼Œå®ç°æ™ºèƒ½è¿ç»´åˆ†æã€‚</p>
<p>å¦‚ï¼šç”¨æˆ·é—®â€œä¸ºä»€ä¹ˆæœåŠ¡å“åº”æ…¢ï¼Ÿâ€ï¼ŒAgent é€šè¿‡åŠ¨æ€å‘ç°å¯ç”¨æ–¹æ³•ï¼Œè‡ªä¸»å®Œæˆæ ¹å› åˆ†æã€‚</p>
<pre><code class="hljs language-less" lang="less">#Â <span class="hljs-selector-tag">Agent</span> é¦–å…ˆè°ƒç”¨ <span class="hljs-selector-tag">__list_method__</span>() åŠ¨æ€å‘ç°å®ä½“æ”¯æŒçš„æ–¹æ³•
<span class="hljs-selector-class">.entity_set</span> <span class="hljs-selector-tag">with</span>(domain=<span class="hljs-string">'apm'</span>, name=<span class="hljs-string">'apm.service'</span>)Â 
| <span class="hljs-selector-tag">entity-call</span> <span class="hljs-selector-tag">__list_method__</span>()
#Â è¿”å›ç¤ºä¾‹ï¼ˆ<span class="hljs-selector-tag">Agent</span> æ ¹æ®è¿”å›çš„æ–¹æ³•åˆ—è¡¨è‡ªä¸»å†³ç­–ä¸‹ä¸€æ­¥æ“ä½œï¼‰:
#Â {
#Â  Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">methods</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;: <span class="hljs-selector-attr">[#Â  Â  Â {&amp;#34;name&amp;#34;:Â &amp;#34;get_metric&amp;#34;,Â &amp;#34;params&amp;#34;: [...]</span>,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">description</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;è·å–æŒ‡æ ‡æ•°æ®<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;},
#Â  Â  Â {<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">name</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">get_log</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">params</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;: <span class="hljs-selector-attr">[...]</span>,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">description</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;è·å–æ—¥å¿—æ•°æ®<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;},
#Â  Â  Â {<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">name</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">get_trace</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">params</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;: <span class="hljs-selector-attr">[...]</span>,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">description</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;è·å–é“¾è·¯æ•°æ®<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;},
#Â  Â  Â {<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">name</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">list_related_entity_set</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">params</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;: <span class="hljs-selector-attr">[...]</span>,Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;<span class="hljs-selector-tag">description</span><span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;:Â <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;æŸ¥è¯¢å…³è”å®ä½“<span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-id">#34</span>;}
#Â  Â ]
#Â }
</code></pre>
<p>æ¼”ç¤º Demoï¼š</p>
<p>ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2Fggm8MhyGXlRjpXNwxBUmJg" target="_blank" title="https://mp.weixin.qq.com/s/ggm8MhyGXlRjpXNwxBUmJg" ref="nofollow noopener noreferrer">æ­¤å¤„</a>ï¼ŒæŸ¥çœ‹Demoæ¼”ç¤ºï¼</p>
<p><strong>ç›¸å…³é“¾æ¥ï¼š</strong></p>
<p>[1]Â Phase 1 Table æ¨¡å¼</p>
<p>[2]Â Phase 2 Object æ¨¡å¼</p>
<p>[3]Â é˜¿é‡Œäº‘ OpenAPI</p>
<p>[4]Â MCP Tools</p>
<p>ç‚¹å‡»<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1jS2VBJEzE%2F" target="_blank" title="https://www.bilibili.com/video/BV1jS2VBJEzE/" ref="nofollow noopener noreferrer">æ­¤å¤„</a>ï¼ŒæŸ¥çœ‹è§†é¢‘æ¼”ç¤ºï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬1è¯¾ï¼šç¯å¢ƒå®‰è£…ï¼‰]]></title>    <link>https://juejin.cn/post/7582131164728721448</link>    <guid>https://juejin.cn/post/7582131164728721448</guid>    <pubDate>2025-12-11T03:55:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582131164728721448" data-draft-id="7582136489770434570" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬1è¯¾ï¼šç¯å¢ƒå®‰è£…ï¼‰"/> <meta itemprop="keywords" content="Agent,LLM,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-11T03:55:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå¤§æ¨¡å‹"/> <meta itemprop="url" content="https://juejin.cn/user/3817967696221534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬1è¯¾ï¼šç¯å¢ƒå®‰è£…ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3817967696221534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå¤§æ¨¡å‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:55:05.000Z" title="Thu Dec 11 2025 03:55:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<p>ä»ä»Šå¤©å¼€å§‹ï¼Œä½œè€…ä»‹ç»ä¸€ç³»åˆ—AI Agentï¼ˆæ™ºèƒ½ä½“ï¼‰çš„å¼€å‘æˆ–éƒ¨ç½²ã€‚éœ€è¦çš„åŸºç¡€åªæ˜¯è¦å¯¹Pythonæœ‰ä¸ªå¤§æ¦‚çš„äº†è§£ï¼Œå‡ ä¹æ˜¯ä»0å¼€å§‹å®è·µã€‚æ¶‰åŠåˆ°çš„ä»£ç éƒ½ä¼šæ¯”è¾ƒç®€å•ï¼Œä¸€èˆ¬ä¸ä¼šè¶…è¿‡50è¡Œã€‚</p>
<h2 data-id="heading-0">ä¸€ã€Agentç®€ä»‹</h2>
<p>AI Agentç®€ç§°Agentï¼Œä»¥å…¶è‡ªä¸»è§„åˆ’ã€è‡ªä¸»æ‰§è¡Œã€è‡ªä¸»åé¦ˆçš„ç‰¹ç‚¹æœ‰åˆ«äºå¤§æ¨¡å‹æœ¬èº«ã€‚æ¢å¥è¯è¯´ï¼ŒAgentåƒæ˜¯äººç±»çš„æ›¿èº«ï¼Œè‡ªå·±å¯ä»¥æ€è€ƒé—®é¢˜çš„è§£å†³æ€è·¯ï¼Œé‡åˆ°éš¾é¢˜è‡ªå·±æƒ³åŠæ³•è§£å†³ï¼Œäººç±»ä¸‹è¾¾å‘½ä»¤ï¼ŒAgentç»™å‡ºæœ€ç»ˆçš„æˆæœï¼Œä¸­é—´çš„è¿‡ç¨‹æ— è®ºè¿­ä»£å¤šå°‘æ¬¡ï¼Œéƒ½æ˜¯é Agentè‡ªè¡Œè„‘è¡¥ã€‚</p>
<h2 data-id="heading-1">äºŒã€ä¾èµ–ç¯å¢ƒ</h2>
<p>Agentçš„èƒ½åŠ›æ¥è‡ªäºå¤§æ¨¡å‹çš„å†…å®¹ç”Ÿæˆå’ŒAgentä¸­çš„æ€è€ƒæ¡†æ¶ï¼ˆä¸€å †ç²¾å¿ƒè®¾è®¡çš„æç¤ºè¯ï¼‰ï¼Œä¾èµ–çš„ç¯å¢ƒåªæœ‰å¤§æ¨¡å‹å’Œè¿è¡ŒPythonçš„è™šæ‹ŸåŒ–å·¥å…·ã€‚å…³äºå¤§æ¨¡å‹ï¼Œæ—¢ç„¶æ˜¯é›¶åŸºç¡€ï¼Œå°±ä¸ç”¨GPUéƒ¨ç½²æ¨¡å‹ï¼Œé‚£ç§ç›¸å¯¹éº»çƒ¦ä¸€äº›ï¼Œæˆ‘ä»¬å…ˆç”¨Ollamaéƒ¨ç½²ï¼Œè¿™æ ·å°±ç®€å•å¾—å¤šï¼Œåªä¸è¿‡ç²¾åº¦ä½ï¼Œæ•ˆæœä¸€èˆ¬ï¼Œä½†ä½œä¸ºå­¦ä¹ çš„ç›®çš„æ˜¯è¶³å¤Ÿçš„ï¼Œé‡è¦çš„æ˜¯ç›´æ¥åœ¨Windowsä¸Šå°±èƒ½è£…ã€‚å¦å¤–å°±æ˜¯Pythonä¸€èˆ¬ä¸è£…åˆ°æ“ä½œç³»ç»Ÿä¸Šï¼Œè€Œæ˜¯è¦ç”¨è™šæ‹ŸåŒ–å·¥å…·ï¼Œæ¯”è¾ƒç®€ä¾¿çš„æ˜¯Anacondaçš„ç²¾ç®€ç‰ˆMinicondaã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€ç¯å¢ƒå®‰è£…</h2>
<p><strong>1ã€Ollama</strong></p>
<p>ä»å®˜ç½‘ä¸‹è½½ï¼Œæˆ–ä»ä½œè€…è¿è¥çš„ä¸‹è½½éƒ½å¯ä»¥ï¼Œä¸‹è½½åå®‰è£…å³å¯ã€‚å®‰è£…å®Œæˆåï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨æ¨¡å‹ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">ollama run qwen
</code></pre>
<p>qwenï¼ˆåƒé—®ï¼‰æ˜¯æ¨¡å‹åç§°ï¼Œå¯é€‰æ‹©çš„æ¨¡å‹åœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Follama.com%2F" target="_blank" title="https://ollama.com/" ref="nofollow noopener noreferrer">ollama.com</a>æŸ¥çœ‹ï¼Œå„ç§æ¨¡å‹çœ‹èµ·æ¥æå¤šï¼Œä½†å®é™…ä¸Šå¯é€‰çš„å¹¶ä¸å¤šï¼Œå› ä¸ºAgentå¯¹å¤§æ¨¡å‹æœ‰è¦æ±‚ï¼Œè¦æ”¯æŒFunction-Callingï¼Œqwenæ˜¯ä¸ºæ•°ä¸å¤šçš„å‡ ä¸ªæ”¯æŒæ­¤ç‰¹æ€§çš„æ¨¡å‹ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸ªå°æŠ€å·§ï¼Œæˆ‘ä»¬ä¼šå‘ç°å®‰è£…è¿›åº¦åˆ°90%ä»¥åç‰¹åˆ«æ…¢ï¼Œå¯èƒ½æ˜¯Ollamaç½‘ç«™çš„é™é€Ÿç®—æ³•é—®é¢˜ï¼Œå¯ä»¥ä¸­æ–­åå†è¯•ï¼Œå°±ä¼šå¿«èµ·æ¥ã€‚</p>
<p>Ollamaè¿è¡Œçš„æ¨¡å‹å¯ä»¥æ˜¯äº¤äº’å¼çš„ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œå¯ä»¥æé—®æ¥æµ‹è¯•ï¼Œå¦‚å›¾ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88217ef68235492285fbaa9ca1a5e5fa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030104&amp;x-signature=v1LKJi7n2fv48m4EobWALFOfcTk%3D" alt="" loading="lazy"/></p>
<p><strong>2ã€Miniconda</strong></p>
<p>ä»ä¸‹è½½ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/67067f2ffa674e108061c74a8deef234~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030104&amp;x-signature=pT9yq1BXeKMhBYFmDcK%2Bzu2O8Nw%3D" alt="" loading="lazy"/></p>
<p>ä¸‹è½½å®‰è£…åï¼Œå°†å®‰è£…ç›®å½•çš„Scriptsç›®å½•åŠ åˆ°æ“ä½œç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ä¸­ï¼Œä»¥ä¾¿äºåœ¨å‘½ä»¤è¡Œç”¨ä»¥ä¸‹å‘½ä»¤æµ‹è¯•æ—¶èƒ½æœç´¢åˆ°conda.exeã€‚</p>
<pre><code class="hljs">conda -V
</code></pre>
<p>è‡³æ­¤ï¼Œç¯å¢ƒå®‰è£…å®Œæˆã€‚</p>
<h3 data-id="heading-3">å­¦ä¹ èµ„æºæ¨è</h3>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¦‚ä½•ä»Axioså¹³æ»‘è¿ç§»åˆ°Alova]]></title>    <link>https://juejin.cn/post/7582096212663599104</link>    <guid>https://juejin.cn/post/7582096212663599104</guid>    <pubDate>2025-12-11T03:59:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582096212663599104" data-draft-id="7582155513585680436" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•ä»Axioså¹³æ»‘è¿ç§»åˆ°Alova"/> <meta itemprop="keywords" content="Node.js,React.js,Vue.js"/> <meta itemprop="datePublished" content="2025-12-11T03:59:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤éŸµ"/> <meta itemprop="url" content="https://juejin.cn/user/1538972010422872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•ä»Axioså¹³æ»‘è¿ç§»åˆ°Alova
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1538972010422872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤éŸµ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:59:13.000Z" title="Thu Dec 11 2025 03:59:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Alova æ˜¯è°ï¼Ÿ</h2>
<p>Alova æ˜¯ä¸€ä¸ªè¯·æ±‚å·¥å…·é›†ï¼Œå®ƒå¯ä»¥é…åˆaxiosã€fetchç­‰è¯·æ±‚å·¥å…·å®ç°é«˜æ•ˆçš„æ¥å£é›†æˆï¼Œæ˜¯ç”¨æ¥ä¼˜åŒ–æ¥å£é›†æˆä½“éªŒçš„ã€‚æ­¤å¤–ï¼Œå®ƒè¿˜èƒ½æä¾›ä¸€äº› Axios ä¸å…·å¤‡çš„ä¾¿åˆ©åŠŸèƒ½ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li><strong>å†…ç½®ç¼“å­˜æœºåˆ¶</strong>ï¼šä¸ç”¨è‡ªå·±æ“å¿ƒæ•°æ®ç¼“å­˜ï¼ŒAlova èƒ½å¸®ä½ è‡ªåŠ¨ç®¡ç†ï¼Œæå‡æ€§èƒ½ã€‚</li>
<li><strong>è¯·æ±‚ç­–ç•¥çµæ´»</strong>ï¼šå¯ä»¥æ ¹æ®ä¸åŒåœºæ™¯è®¾ç½®ä¸åŒçš„è¯·æ±‚é€»è¾‘ï¼Œæ¯”å¦‚å¼ºåˆ¶åˆ·æ–°ã€ä¾èµ–è¯·æ±‚ç­‰ã€‚</li>
<li><strong>å¤šæ¡†æ¶æ”¯æŒ</strong>ï¼šæ— è®ºæ˜¯ Vueã€React è¿˜æ˜¯ Svelteã€Solidï¼ŒAlova éƒ½èƒ½å¾ˆå¥½åœ°é›†æˆã€‚</li>
<li><strong>çŠ¶æ€ç®¡ç†é›†æˆ</strong>ï¼šè¯·æ±‚çš„æ•°æ®å¯ä»¥ç›´æ¥ä¸ç»„ä»¶çŠ¶æ€å…³è”ï¼Œå‡å°‘å†—ä½™ä»£ç ã€‚</li>
<li><strong>å¼ºå¤§çš„é€‚é…å™¨ç³»ç»Ÿ</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰é€‚é…å™¨ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™æ¬¡è¦è®²çš„ â€”â€” ç”¨ Alova æ¥å…¼å®¹ä½ ç°æœ‰çš„ Axios å®ä¾‹ï¼</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼ŒAlova åœ¨ä¿ç•™ç±»ä¼¼ Axios æ˜“ç”¨æ€§çš„åŸºç¡€ä¸Šï¼Œè¿˜æä¾›äº†æ›´å¤šå¼€ç®±å³ç”¨çš„é«˜çº§åŠŸèƒ½è¯·ç§»æ­¥åˆ°<a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org" target="_blank" title="https://alova.js.org" ref="nofollow noopener noreferrer">alovaå®˜æ–¹æ–‡æ¡£</a>æŸ¥çœ‹ã€‚</p>
<h2 data-id="heading-1">ä¸ºä»€ä¹ˆè¦ä» Axios è¿ç§»åˆ° Alovaï¼Ÿ</h2>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šâ€œAxios ç”¨å¾—å¥½å¥½çš„ï¼Œä¸ºä»€ä¹ˆè¦è¿ï¼Ÿâ€ å…¶å®ï¼Œè¿ç§»ä¸ä¸€å®šæ˜¯â€œéæ¢ä¸å¯â€ï¼Œè€Œæ˜¯ä¸€ç§â€œé”¦ä¸Šæ·»èŠ±â€çš„é€‰æ‹©ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„è¿ç§»åŠ¨æœºï¼š</p>
<ol>
<li><strong>å¸Œæœ›ç®€åŒ–å¤æ‚è¯·æ±‚é€»è¾‘çš„ç®¡ç†</strong>ï¼šæ¯”å¦‚ä¾èµ–è¯·æ±‚ã€ä¸²å¹¶è¡Œæ§åˆ¶ã€è‡ªåŠ¨é‡è¯•ç­‰ï¼ŒAlova æä¾›äº†æ›´ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚</li>
<li><strong>æƒ³è¦å†…ç½®ç¼“å­˜ï¼Œå‡å°‘é‡å¤è¯·æ±‚</strong>ï¼šå¦‚æœä½ çš„åº”ç”¨æœ‰å¾ˆå¤šé‡å¤è¯·æ±‚ï¼ŒAlova çš„ç¼“å­˜æœºåˆ¶å¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½ã€‚</li>
<li><strong>å¤šæ¡†æ¶é€‚é…æ›´æ–¹ä¾¿</strong>ï¼šå¦‚æœä½ åœ¨å¤šä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ä¸åŒæ¡†æ¶ï¼ŒAlova èƒ½æä¾›ä¸€è‡´çš„ä½“éªŒã€‚</li>
<li><strong>æƒ³é€æ­¥ä¼˜åŒ–ç°æœ‰é¡¹ç›®</strong>ï¼šä¸æƒ³å¤§åŠ¨å¹²æˆˆé‡å†™ä»£ç ï¼Œä½†åˆæƒ³å¼•å…¥æ›´ç°ä»£çš„è¯·æ±‚ç®¡ç†æ–¹å¼ã€‚</li>
</ol>
<p>å¦‚æœä½ æœ‰ä»¥ä¸Šéœ€æ±‚ï¼Œé‚£ Alova å°±éå¸¸å€¼å¾—å°è¯•ï¼</p>
<h2 data-id="heading-2">ä» Axios è¿ç§»åˆ° Alovaï¼Œåˆ°åº•éš¾ä¸éš¾ï¼Ÿ</h2>
<p><strong>Alova å®˜æ–¹æä¾›äº†éå¸¸å‹å¥½çš„ Axios è¿ç§»æ–¹æ¡ˆï¼Œæ ¸å¿ƒå°±ä¸€ä¸ªå­—ï¼šç¨³ã€‚</strong></p>
<p>å®˜æ–¹è¿ç§»æŒ‡å—çš„è®¾è®¡ç†å¿µæ˜¯ï¼š</p>
<ul>
<li><strong>æœ€å°æ”¹åŠ¨</strong>ï¼šä½ ä¸éœ€è¦ä¸€ä¸‹å­é‡å†™æ‰€æœ‰ä»£ç ï¼Œåªéœ€å¼•å…¥ Alovaï¼Œç„¶åé€æ­¥è¿ç§»ã€‚</li>
<li><strong>æ¸è¿›è¿ç§»</strong>ï¼šä¸€ä¸ªæ¥å£ä¸€ä¸ªæ¥å£åœ°æ”¹ï¼ŒèŠ‚å¥ç”±ä½ æŒæ§ã€‚</li>
<li><strong>ä¿æŒä¸€è‡´æ€§</strong>ï¼šä½ ç°æœ‰çš„ Axios å®ä¾‹ã€é…ç½®ã€æ‹¦æˆªå™¨ï¼Œç»Ÿç»Ÿéƒ½èƒ½ç»§ç»­ç”¨ï¼</li>
<li><strong>æ–°è€å…±å­˜</strong>ï¼šè¿ç§»æœŸé—´ï¼ŒAxios å’Œ Alova å¯ä»¥åŒæ—¶è¿è¡Œï¼Œäº’ä¸å¹²æ‰°ã€‚</li>
</ul>
<p>æ˜¯ä¸æ˜¯å¬èµ·æ¥å°±å¾ˆè´´å¿ƒï¼Ÿæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æ¥çœ‹çœ‹å…·ä½“æ€ä¹ˆæ“ä½œã€‚</p>
<h2 data-id="heading-3">ä» Axios è¿ç§»åˆ° Alova çš„å…·ä½“æ­¥éª¤</h2>
<h3 data-id="heading-4">ç¬¬ä¸€æ­¥ï¼šå®‰è£… Alova å’Œ Axios é€‚é…å™¨</h3>
<p>é¦–å…ˆï¼Œä½ éœ€è¦é€šè¿‡åŒ…ç®¡ç†å·¥å…·å®‰è£… Alova ä»¥åŠå®ƒçš„ Axios é€‚é…å™¨ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¦‚æœä½ ç”¨ npm</span>
npm install alova @alova/adapter-axios

<span class="hljs-comment"># æˆ–è€…ç”¨ yarn</span>
yarn add alova @alova/adapter-axios

<span class="hljs-comment"># æˆ–è€…ç”¨ pnpm</span>
pnpm install alova @alova/adapter-axios
</code></pre>
<h3 data-id="heading-5">ç¬¬äºŒæ­¥ï¼šåˆ›å»º Alova å®ä¾‹ï¼Œå¹¶ä¼ å…¥ä½ çš„ Axios å®ä¾‹</h3>
<p>è¿™ä¸€æ­¥æ˜¯å…³é”®ï¼Œä½ å¯ä»¥ç›´æ¥å¤ç”¨ä½ ç°æœ‰çš„ Axios å®ä¾‹ï¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createAlova } <span class="hljs-keyword">from</span> <span class="hljs-string">'alova'</span>;
<span class="hljs-keyword">import</span> { axiosRequestAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">'@alova/adapter-axios'</span>;
<span class="hljs-keyword">import</span> axiosInstance <span class="hljs-keyword">from</span> <span class="hljs-string">'./your-axios-instance'</span>; <span class="hljs-comment">// ä½ åŸæ¥å°±æœ‰çš„ axios å®ä¾‹</span>

<span class="hljs-keyword">const</span> alovaInst = <span class="hljs-title function_">createAlova</span>({
  statesHook, <span class="hljs-comment">// è¿™é‡Œå¡«ä½ é¡¹ç›®é‡Œç”¨çš„ Hookï¼Œæ¯”å¦‚ VueHook / ReactHook / SvelteHook</span>
  <span class="hljs-attr">requestAdapter</span>: <span class="hljs-title function_">axiosRequestAdapter</span>({
    <span class="hljs-attr">axios</span>: axiosInstance <span class="hljs-comment">// æŠŠä½ åŸæ¥çš„ axios å®ä¾‹ä¼ è¿›å»</span>
  })
});
</code></pre>
<p>ä½ å•¥éƒ½ä¸ç”¨æ”¹ï¼ŒåŸæ¥çš„ axios å®ä¾‹ã€æ‹¦æˆªå™¨ã€é…ç½®å…¨éƒ½æœ‰æ•ˆï¼</p>
<h3 data-id="heading-6">ç¬¬ä¸‰æ­¥ï¼šç»§ç»­ä½¿ç”¨åŸæœ‰ Axios ä»£ç ï¼Œä¸ç”¨æ€¥ç€æ”¹</h3>
<p>æ²¡é”™ï¼Œå“ªæ€•ä½ åˆšåˆšåˆ›å»ºäº† Alova å®ä¾‹ï¼Œä½ åŸæ¥çš„ Axios ä»£ç ç…§æ ·è·‘å¾—å¥½å¥½çš„ï¼ä½ å¯ä»¥æ…¢æ…¢æ¥ï¼Œä¸ç”¨æ€¥ç€ä¸€å£æ°”å…¨æ”¹å®Œã€‚</p>
<p>æ¯”å¦‚è¿™æ ·ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getUser</span> = id =&gt; axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">`/user/<span class="hljs-subst">${id}</span>`</span>); <span class="hljs-comment">// ä½ åŸæ¥çš„å†™æ³•ï¼Œä¾æ—§èƒ½ç”¨</span>
</code></pre>
<p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥å¼€å§‹å°é²œï¼Œç”¨ Alova çš„æ–¹å¼å‘èµ·è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getUser</span> = id =&gt; alovaInst.<span class="hljs-title class_">Get</span>(<span class="hljs-string">`/user/<span class="hljs-subst">${id}</span>`</span>);

<span class="hljs-comment">// åœ¨ç»„ä»¶é‡Œä½¿ç”¨ï¼ˆä»¥ React ä¸ºä¾‹ï¼‰</span>
<span class="hljs-keyword">const</span> { loading, data, error } = <span class="hljs-title function_">useRequest</span>(<span class="hljs-title function_">getUser</span>(userId));
</code></pre>
<h3 data-id="heading-7">ç¬¬å››æ­¥ï¼šé€æ­¥æŠŠ Axios è¯·æ±‚æ”¹å†™ä¸º Alova è¯·æ±‚</h3>
<p>ç­‰ä½ ç†Ÿæ‚‰äº† Alovaï¼Œå°±å¯ä»¥å¼€å§‹æŠŠåŸæ¥çš„ <code>axios.get</code>ã€<code>axios.post</code> ç­‰æ–¹æ³•ï¼Œé€æ­¥æ›¿æ¢ä¸º Alova çš„ <code>alovaInst.Get</code>ã€<code>alovaInst.Post</code>ï¼Œéå¸¸ç®€å•ï¼š</p>
<p><strong>åŸæ¥çš„å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">todoList</span> = id =&gt; axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/todo'</span>);
</code></pre>
<p><strong>æ”¹å†™ä¸º Alova å†™æ³•ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">todoList</span> = id =&gt; alovaInst.<span class="hljs-title class_">Get</span>(<span class="hljs-string">'/todo'</span>);
</code></pre>
<p><strong>å¸¦å‚æ•°çš„ POST è¯·æ±‚ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åŸæ¥çš„å†™æ³•</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">submitTodo</span> = data =&gt;
  axios.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/todo'</span>, data, {
    <span class="hljs-attr">responseType</span>: <span class="hljs-string">'json'</span>,
    <span class="hljs-attr">responseEncoding</span>: <span class="hljs-string">'utf8'</span>
  });

<span class="hljs-comment">// Alova å†™æ³•</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">submitTodo</span> = data =&gt;
  alovaInst.<span class="hljs-title class_">Post</span>(<span class="hljs-string">'/todo'</span>, data, {
    <span class="hljs-attr">responseType</span>: <span class="hljs-string">'json'</span>,
    <span class="hljs-attr">responseEncoding</span>: <span class="hljs-string">'utf8'</span>
  });
</code></pre>
<p>çœ‹ï¼Œå‚æ•°åŸºæœ¬éƒ½èƒ½ç›´æ¥å¯¹åº”è¿‡å»ï¼Œå†™æ³•ä¹Ÿç±»ä¼¼ï¼Œå­¦ä¹ æˆæœ¬æä½ï¼</p>
<h2 data-id="heading-8">æœ€å</h2>
<p>ä» Axios è¿ç§»åˆ° Alovaï¼Œå…¶å®å¹¶æ²¡æœ‰æƒ³è±¡ä¸­é‚£ä¹ˆéš¾ï¼Œç”šè‡³å¯ä»¥è¯´éå¸¸å¹³æ»‘ï¼Œå°¤å…¶æ˜¯å¯¹è€é¡¹ç›®çš„å…¼å®¹æ€§åšå¾—éå¸¸å‹å¥½ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¦‚æœä½ ï¼š</p>
<ul>
<li>å·²ç»åœ¨ä½¿ç”¨ Axiosï¼Œä½†æƒ³å°è¯•æ›´ç°ä»£çš„è¯·æ±‚ç®¡ç†æ–¹å¼ï¼›</li>
<li>å¸Œæœ›å¼•å…¥ç¼“å­˜ã€ä¼˜åŒ–è¯·æ±‚ç­–ç•¥ã€æå‡åº”ç”¨æ€§èƒ½ï¼›</li>
<li>æƒ³é€æ­¥ä¼˜åŒ–ä»£ç ï¼Œåˆä¸æƒ³ä¸€å¤œä¹‹é—´é‡å†™æ‰€æœ‰é€»è¾‘ï¼›</li>
</ul>
<p>ä¸å¦¨è¯•è¯• Alovaï¼ŒæŒ‰ç…§è¿™ä¸ªè¿ç§»æŒ‡å—å¯ä»¥è½»æ¾ä¸Šæ‰‹ã€‚</p>
<p>å¦‚æœè§‰å¾—alovaè¿˜ä¸é”™ï¼ŒçœŸè¯šå¸Œæœ›ä½ å¯ä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org%2Fexamples" target="_blank" title="https://alova.js.org/examples" ref="nofollow noopener noreferrer">å°è¯•ä½“éªŒä¸€ä¸‹</a>ï¼Œä¹Ÿå¯ä»¥ç»™æˆ‘ä»¬æ¥ä¸€ä¸ªå…è´¹çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Falovajs%2Falova" target="_blank" title="https://github.com/alovajs/alova" ref="nofollow noopener noreferrer">github stars</a>ã€‚</p>
<p>è®¿é—®alovajsçš„å®˜ç½‘æŸ¥çœ‹æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org" target="_blank" title="https://alova.js.org" ref="nofollow noopener noreferrer">alovajså®˜ç½‘</a>ã€‚</p>
<p>æœ‰å…´è¶£å¯ä»¥åŠ å…¥æˆ‘ä»¬çš„äº¤æµç¤¾åŒºï¼Œåœ¨ç¬¬ä¸€æ—¶é—´è·å–åˆ°æœ€æ–°è¿›å±•ï¼Œä¹Ÿèƒ½ç›´æ¥å’Œå¼€å‘å›¢é˜Ÿäº¤æµï¼Œæå‡ºä½ çš„æƒ³æ³•å’Œå»ºè®®ã€‚</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Falova.js.org%2Fimg%2Fwechat_qrcode.jpg" target="_blank" title="https://alova.js.org/img/wechat_qrcode.jpg" ref="nofollow noopener noreferrer">åŠ å…¥å¾®ä¿¡ç¾¤å‚ä¸äº¤æµ</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬2è¯¾ï¼šç”¨CrewAIé…ç½®ä¸€ä¸ªè½¯ä»¶è™šæ‹Ÿå›¢é˜Ÿï¼‰]]></title>    <link>https://juejin.cn/post/7582200865907425314</link>    <guid>https://juejin.cn/post/7582200865907425314</guid>    <pubDate>2025-12-11T03:55:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582200865907425314" data-draft-id="7582110969201016870" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬2è¯¾ï¼šç”¨CrewAIé…ç½®ä¸€ä¸ªè½¯ä»¶è™šæ‹Ÿå›¢é˜Ÿï¼‰"/> <meta itemprop="keywords" content="Agent,LLM,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-11T03:55:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIå¤§æ¨¡å‹"/> <meta itemprop="url" content="https://juejin.cn/user/3817967696221534"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€è¿è½½ã€‘é›¶åŸºç¡€è·Ÿæˆ‘å­¦åšAI Agentï¼ˆç¬¬2è¯¾ï¼šç”¨CrewAIé…ç½®ä¸€ä¸ªè½¯ä»¶è™šæ‹Ÿå›¢é˜Ÿï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3817967696221534/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIå¤§æ¨¡å‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T03:55:12.000Z" title="Thu Dec 11 2025 03:55:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote>
<p>ä»Šå¤©æˆ‘ä»¬è®²ç¬¬ä¸€ä¸ªAI Agentä¾‹å­ï¼šç”¨CrewAIé…ç½®ä¸€ä¸ªè½¯ä»¶è™šæ‹Ÿå›¢é˜Ÿã€‚å®é™…ä¸Šï¼Œè¿™ä¸ªéœ€è¦æœ‰69è¡Œä»£ç ï¼Œé‚£ä¸ºä»€ä¹ˆä¸å«å¼€å‘è€Œå«é…ç½®å‘¢ï¼Ÿå› ä¸ºä»£ç ä¸­å‡ ä¹æ²¡æœ‰ç¨‹åºåŒ–çš„å†…å®¹ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯é…ç½®ä¿¡æ¯ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ç›®æ ‡</h2>
<p>æœ¬ä¾‹ä¸­Agentå®ç°çš„ç›®æ ‡æ˜¯é…ç½®ä¸€ä¸ªè™šæ‹Ÿå¼€å‘å›¢é˜Ÿï¼Œè¿™ä¸ªå›¢é˜Ÿä¸­æœ‰èµ„æ·±ç¨‹åºå‘˜ï¼Œè¿˜æœ‰æµ‹è¯•å·¥ç¨‹å¸ˆï¼Œä¸¤è€…åä½œå®Œæˆä¸€ä¸ªå…·ä½“çš„å¼€å‘ä»»åŠ¡ã€‚å½“ç„¶è¿™éœ€è¦å¤§æ¨¡å‹çš„æ”¯æŒå’Œç»è¿‡å¤šè½®è¿­ä»£ã€‚ä¸¤ç§è§’è‰²ç»è¿‡åè°ƒå’Œåšå¼ˆï¼Œè®©ç»“æœè¶Šæ¥è¶Šæ¥è¿‘äºäººç±»è®¾å®šçš„ç›®æ ‡ã€‚æœ€åå¾—åˆ°çš„æˆæœæ˜¯æ•´å¥—æºä»£ç ã€‚</p>
<h2 data-id="heading-1">äºŒã€åŸç†</h2>
<p>CrewAIæ˜¯ä¸€ç§AI Agentæ¡†æ¶ï¼Œé€‚åˆåšå¤šç§è§’è‰²AgentååŒçš„åº”ç”¨ï¼Œå› ä¸ºCrewçš„æ„æ€æ˜¯â€œèˆ¹å‘˜â€æˆ–â€œæœºç»„â€ï¼Œå¯“æ„ç€å‡ ä¸ªåˆ†å·¥ä¸åŒçš„è™šæ‹Ÿäººå…±åŒé…åˆå®Œæˆä¸€ä¸ªæ€»ä½“çš„ä»»åŠ¡ã€‚åœ¨é…ç½®ä¸­ï¼Œéœ€è¦æœ‰ä»¥ä¸‹å‡ ä¸ªå…ƒç´ ï¼š</p>
<p><strong>1ã€æ™ºèƒ½ä½“</strong></p>
<p>æˆ‘ä»¬å®šä¹‰äº†programmerå’Œqa_engineerä¸¤ä¸ªæ™ºèƒ½ä½“ï¼Œè¿™äº›æ™ºèƒ½ä½“æœ‰ç›®æ ‡è¦æ±‚å’Œè¡¨ç¤ºè§’è‰²çš„æŠ€èƒ½å£°æ˜ï¼Œå½“ç„¶è¿™æ˜¯é€šè¿‡å¤§æ¨¡å‹æç¤ºè¯å®ç°çš„ã€‚</p>
<p><strong>2ã€ä»»åŠ¡</strong></p>
<p>ä¸æ™ºèƒ½ä½“ç›¸åŒ¹é…çš„ä»»åŠ¡æœ‰development_taskå’Œtesting_taskä¸¤ç§ï¼Œè¿™äº›ä»»åŠ¡è¦è®¾å®šç”±å“ªä¸ªæ™ºèƒ½ä½“æ¥æ‰§è¡Œï¼Œè€Œä¸”ä»»åŠ¡ä¹‹é—´ä¹Ÿæœ‰å·¥ä½œæˆæœçš„äº¤æ¥ã€‚</p>
<p><strong>3ã€å›¢é˜Ÿ</strong></p>
<p>æ™ºèƒ½ä½“ã€ä»»åŠ¡ä»¥åŠæ‰§è¡Œæ–¹æ³•å…±åŒç»„æˆä¸€ä¸ªå›¢é˜Ÿï¼Œé€šè¿‡kickoffï¼ˆå¼€çƒï¼‰æ–¹æ³•å¼€å§‹è¿è½¬ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€æºç </h2>
<p>69è¡Œæºç å…¨éƒ¨ç»™å‡ºï¼ˆå…¬ä¼—å·ä¸ä¾¿æŸ¥çœ‹æºç çš„è¯ï¼Œå¯åˆ°çš„chapter-x-0baseç›®å½•æŸ¥çœ‹ï¼‰ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">import os
from crewai import Agent, Task, Crew, Process
os.environ<span class="hljs-section">['OPENAI_API_BASE']</span> = 'http://localhost:11434/v1'
os.environ<span class="hljs-section">[&amp;#34;OPENAI_API_KEY&amp;#34;]</span> = &amp;<span class="hljs-comment">#34;EMPTY&amp;#34;</span>
os.environ<span class="hljs-section">[&amp;#34;OPENAI_MODEL_NAME&amp;#34;]</span> = &amp;<span class="hljs-comment">#34;openai/qwen3&amp;#34;</span>
class DevelopmentCrew:
def __init__(self, development_description, testing_description):
<span class="hljs-comment"># å®šä¹‰ç¨‹åºå‘˜æ™ºèƒ½ä½“</span>
<span class="hljs-attr">self.programmer</span> = Agent(
<span class="hljs-attr">role</span>=&amp;<span class="hljs-comment">#34;èµ„æ·±ç¨‹åºå‘˜&amp;#34;,</span>
<span class="hljs-attr">goal</span>=&amp;<span class="hljs-comment">#34;ç¼–å†™é«˜è´¨é‡ã€å¯ç»´æŠ¤çš„ä»£ç ï¼Œå®ç°åŠŸèƒ½éœ€æ±‚&amp;#34;,</span>
<span class="hljs-attr">backstory</span>=&amp;<span class="hljs-comment">#34;ä½ æ˜¯ä¸€ä½ç»éªŒä¸°å¯Œçš„ç¨‹åºå‘˜ï¼Œç²¾é€šå¤šç§ç¼–ç¨‹è¯­è¨€å’Œè®¾è®¡æ¨¡å¼ã€‚&amp;#34; +</span>
&amp;<span class="hljs-comment">#34;ä½ æ³¨é‡ä»£ç è´¨é‡ï¼Œå–„äºç¼–å†™æ¸…æ™°ã€é«˜æ•ˆçš„ä»£ç ï¼Œå¹¶ä¸”æœ‰å¾ˆå¼ºçš„é€»è¾‘æ€ç»´èƒ½åŠ›ã€‚&amp;#34;,</span>
<span class="hljs-attr">verbose</span>=<span class="hljs-literal">True</span>,
<span class="hljs-attr">max_execution_time</span>=<span class="hljs-number">300</span>
)
<span class="hljs-comment"># å®šä¹‰æµ‹è¯•å·¥ç¨‹å¸ˆæ™ºèƒ½ä½“</span>
<span class="hljs-attr">self.qa_engineer</span> = Agent(
<span class="hljs-attr">role</span>=&amp;<span class="hljs-comment">#34;æµ‹è¯•å·¥ç¨‹å¸ˆ&amp;#34;,</span>
<span class="hljs-attr">goal</span>=&amp;<span class="hljs-comment">#34;ç¡®ä¿ä»£ç è´¨é‡ï¼Œå‘ç°å¹¶æŠ¥å‘Šç¼ºé™·ï¼ŒéªŒè¯åŠŸèƒ½å®Œæ•´æ€§&amp;#34;,</span>
<span class="hljs-attr">backstory</span>=&amp;<span class="hljs-comment">#34;ä½ æ˜¯ä¸€ä½ä¸¥è°¨çš„æµ‹è¯•å·¥ç¨‹å¸ˆï¼Œå¯¹ç»†èŠ‚æå…¶æ•æ„Ÿã€‚&amp;#34; +</span>
&amp;<span class="hljs-comment">#34;ä½ æ“…é•¿è®¾è®¡æµ‹è¯•ç”¨ä¾‹ï¼Œèƒ½å¤Ÿå‘ç°å„ç§è¾¹ç•Œæ¡ä»¶å’Œæ½œåœ¨é—®é¢˜ï¼Œ&amp;#34; +</span>
&amp;<span class="hljs-comment">#34;ç¡®ä¿äº¤ä»˜çš„ä»£ç è¾¾åˆ°é«˜è´¨é‡æ ‡å‡†ã€‚&amp;#34;,</span>
<span class="hljs-attr">verbose</span>=<span class="hljs-literal">True</span>,
<span class="hljs-attr">max_execution_time</span>=<span class="hljs-number">300</span>
)
<span class="hljs-comment"># å®šä¹‰å¼€å‘ä»»åŠ¡</span>
<span class="hljs-attr">self.development_task</span> = Task(
<span class="hljs-attr">description</span>=development_description,
<span class="hljs-attr">agent</span>=self.programmer,
<span class="hljs-attr">expected_output</span>=&amp;<span class="hljs-comment">#34;å®Œæ•´çš„Pythonä»£ç å®ç°ï¼ŒåŒ…å«æ‰€æœ‰è¦æ±‚çš„åŠŸèƒ½å’Œå¿…è¦çš„æ³¨é‡Š&amp;#34;</span>
)
<span class="hljs-comment"># å®šä¹‰æµ‹è¯•ä»»åŠ¡</span>
<span class="hljs-attr">self.testing_task</span> = Task(
<span class="hljs-attr">description</span>=testing_description,
<span class="hljs-attr">agent</span>=self.qa_engineer,
<span class="hljs-attr">expected_output</span>=&amp;<span class="hljs-comment">#34;è¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Šï¼ŒåŒ…å«æµ‹è¯•ç”¨ä¾‹ã€å‘ç°çš„é—®é¢˜å’Œæ”¹è¿›å»ºè®®&amp;#34;,</span>
<span class="hljs-attr">context</span>=[self.development_task]
)
<span class="hljs-comment"># åˆ›å»ºå¹¶è¿è¡Œå¼€å‘å›¢é˜Ÿ</span>
def invoke(self):
<span class="hljs-attr">dev_crew</span> = Crew(
<span class="hljs-attr">agents</span>=[self.programmer, self.qa_engineer],
<span class="hljs-attr">tasks</span>=[self.development_task, self.testing_task],
<span class="hljs-attr">process</span>=Process.sequential,
<span class="hljs-attr">verbose</span>=<span class="hljs-literal">True</span>
)
print(&amp;<span class="hljs-comment">#34;å¼€å§‹è½¯ä»¶å¼€å‘æµç¨‹...&amp;#34;)</span>
print(&amp;<span class="hljs-comment">#34;ç¬¬ä¸€é˜¶æ®µï¼šç¨‹åºå‘˜è¿›è¡ŒåŠŸèƒ½å¼€å‘&amp;#34;)</span>
print(&amp;<span class="hljs-comment">#34;ç¬¬äºŒé˜¶æ®µï¼šæµ‹è¯•å·¥ç¨‹å¸ˆè¿›è¡Œè´¨é‡éªŒè¯&amp;#34;)</span>
<span class="hljs-attr">result</span> = dev_crew.kick<span class="hljs-literal">off</span>()
print(&amp;<span class="hljs-comment">#34;\nå¼€å‘æµç¨‹å®Œæˆï¼Œæœ€ç»ˆç»“æœ:&amp;#34;)</span>
print(result)
return result.raw
if <span class="hljs-attr">__name__</span> == &amp;<span class="hljs-comment">#34;__main__&amp;#34;:</span>
<span class="hljs-comment"># ä»ä¸»å‡½æ•°ä¼ å…¥ä»»åŠ¡æè¿°</span>
<span class="hljs-attr">dev_description</span> = &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;å¼€å‘ä¸€ä¸ªç”¨æˆ·ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š</span>
1. ç”¨æˆ·æ³¨å†Œï¼ˆç”¨æˆ·åã€é‚®ç®±ã€å¯†ç ï¼‰
2. ç”¨æˆ·ç™»å½•éªŒè¯
3. ç”¨æˆ·ä¿¡æ¯æŸ¥è¯¢
4. å¯†ç é‡ç½®åŠŸèƒ½
è¯·ä½¿ç”¨Pythonç¼–å†™æ¸…æ™°çš„ä»£ç ï¼ŒåŒ…å«å¿…è¦çš„æ³¨é‡Šå’Œé”™è¯¯å¤„ç†ã€‚&amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;</span>
<span class="hljs-attr">test_description</span> = &amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;å¯¹å¼€å‘çš„ç”¨æˆ·ç®¡ç†ç³»ç»Ÿè¿›è¡Œå…¨é¢æµ‹è¯•ï¼š</span>
1. è®¾è®¡æµ‹è¯•ç”¨ä¾‹è¦†ç›–æ­£å¸¸æµç¨‹å’Œå¼‚å¸¸æƒ…å†µ
2. è¿›è¡Œè¾¹ç•Œå€¼æµ‹è¯•å’Œé”™è¯¯å¤„ç†æµ‹è¯•
3. éªŒè¯æ‰€æœ‰åŠŸèƒ½æ˜¯å¦ç¬¦åˆéœ€æ±‚
4. æä¾›è¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Šå’Œæ”¹è¿›å»ºè®®&amp;<span class="hljs-comment">#34;&amp;#34;&amp;#34;</span>
<span class="hljs-attr">dev_crew</span> = DevelopmentCrew(dev_description, test_description)
dev_crew.invoke()
</code></pre>
<h2 data-id="heading-3">å››ã€è¿è¡Œ</h2>
<p><strong>1ã€ç¯å¢ƒå®‰è£…</strong></p>
<p>ç”¨Minicondaå»ºç«‹ä¸€ä¸ªPythonè™šæ‹Ÿç¯å¢ƒï¼Œæœ¬æ¡ˆä¾‹åªä¾èµ–äºcrewaiåº“ã€‚å¤§æ¨¡å‹æ˜¯åœ¨ä¸Šä¸€èŠ‚è£…å¥½çš„ï¼Œç¨‹åºè°ƒåˆ°APIæ—¶ï¼ŒOllamaä¼šè‡ªåŠ¨è£…è½½qwen3æ¨¡å‹çš„ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</span>
conda create -n part02 <span class="hljs-attr">python</span>=<span class="hljs-number">3.13</span> -y
<span class="hljs-comment"># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
conda activate part02
<span class="hljs-comment"># å®‰è£…ä¾èµ–åº“</span>
pip install <span class="hljs-attr">crewai</span>==<span class="hljs-number">0.201</span>.<span class="hljs-number">1</span> -i https://pypi.mirrors.ustc.edu.cn/simple
</code></pre>
<p><strong>2ã€è¿è¡Œ</strong></p>
<pre><code class="hljs">python agent_crewai.py
</code></pre>
<h2 data-id="heading-4">äº”ã€è¿è¡Œç»“æœ</h2>
<p>å¼€å§‹è¿è¡Œæ—¶ï¼Œå›¢é˜Ÿå¼€å§‹æ€è€ƒï¼Œåˆ¶å®šè®¡åˆ’ï¼Œç„¶åè¿›å…¥å¤šè½®è¿­ä»£ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/832beb79b362489b9b810f6945f40871~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030111&amp;x-signature=yIPMDFJRxLfDBLr9UBKMxWhcI0w%3D" alt="" loading="lazy"/></p>
<p>ç»è¿‡å¤šè½®è¿­ä»£ï¼Œæœ€åç”Ÿæˆç›®æ ‡æºç å’Œæµ‹è¯•ç”¨ä¾‹ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/07d8982b687c414a885e2bdebbcecd8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQUnlpKfmqKHlnos=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766030111&amp;x-signature=WghxqajDNtBu6wB6NekxlxgOTG4%3D" alt="" loading="lazy"/></p>
<p>è‡³äºæœ€åçš„ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œä¸»è¦æ˜¯å’Œæ¨¡å‹çš„èƒ½åŠ›æœ‰å…³ï¼Œæˆ‘ä»¬ç”¨Ollamaè·‘é‡åŒ–æ¨¡å‹ï¼Œæ•ˆæœåº”ä¸€èˆ¬ï¼Œå¦‚æœè¦å¾—åˆ°æ›´å¥½çš„æ•ˆæœï¼Œå¾—ç”¨GPUéƒ¨ç½²æ›´å¤§çš„ã€ç²¾åº¦æ›´é«˜çš„æ¨¡å‹ã€‚</p>
<p>æœªå®Œå¾…ç»­ï¼</p>
<h3 data-id="heading-5">å­¦ä¹ èµ„æºæ¨è</h3>
<p>å¦‚æœä½ æƒ³æ›´æ·±å…¥åœ°å­¦ä¹ å¤§æ¨¡å‹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›éå¸¸æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œè¿™äº›èµ„æºå°†å¸®åŠ©ä½ ä»ä¸åŒè§’åº¦å­¦ä¹ å¤§æ¨¡å‹ï¼Œæå‡ä½ çš„å®è·µèƒ½åŠ›ã€‚</p>
<blockquote>
<p>æœ¬æ–‡è¾ƒé•¿ï¼Œå»ºè®®ç‚¹èµæ”¶è—ã€‚æ›´å¤šAIå¤§æ¨¡å‹åº”ç”¨å¼€å‘å­¦ä¹ è§†é¢‘åŠèµ„æ–™ï¼Œåœ¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitcode.com%2FEnjoyEDU%2FLLM" target="_blank" title="https://gitcode.com/EnjoyEDU/LLM" ref="nofollow noopener noreferrer">è¿™é‡Œ</a>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JDK 21 è™šæ‹Ÿçº¿ç¨‹ï¼šJava å¹¶å‘ç¼–ç¨‹çš„â€œé™ç»´æ‰“å‡»â€]]></title>    <link>https://juejin.cn/post/7582073642869473295</link>    <guid>https://juejin.cn/post/7582073642869473295</guid>    <pubDate>2025-12-11T00:51:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582073642869473295" data-draft-id="7582073642869456911" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JDK 21 è™šæ‹Ÿçº¿ç¨‹ï¼šJava å¹¶å‘ç¼–ç¨‹çš„â€œé™ç»´æ‰“å‡»â€"/> <meta itemprop="keywords" content="åç«¯,Java,Spring"/> <meta itemprop="datePublished" content="2025-12-11T00:51:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sumAll"/> <meta itemprop="url" content="https://juejin.cn/user/2863547353939175"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JDK 21 è™šæ‹Ÿçº¿ç¨‹ï¼šJava å¹¶å‘ç¼–ç¨‹çš„â€œé™ç»´æ‰“å‡»â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2863547353939175/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sumAll
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T00:51:37.000Z" title="Thu Dec 11 2025 00:51:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5a3861d2de34460ab94bdc1b41e7fee8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3VtQWxs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766019097&amp;x-signature=PflRls7fEEdU6P2Qjle9cUZgQFU%3D" alt="3_cover.png" loading="lazy"/></p>
<blockquote>
<p><strong>å‰è¨€</strong>ï¼šå¦‚æœä½ è¿˜åœ¨ä¸ºçº¿ç¨‹æ± å‚æ•°è°ƒä¼˜å¤´ç§ƒï¼Œæˆ–è€…è¢« <code>CompletableFuture</code> çš„å›è°ƒåœ°ç‹±æŠ˜ç£¨ï¼Œé‚£ä¹ˆ JDK 21 å¸¦æ¥çš„è™šæ‹Ÿçº¿ç¨‹ï¼ˆVirtual Threadsï¼‰ç»å¯¹æ˜¯ä½ å¿…é¡»æŒæ¡çš„â€œæ•‘å‘½ç¨»è‰â€ã€‚å®ƒä¸ä»…æ˜¯ Project Loom çš„æ ¸å¿ƒæˆæœï¼Œæ›´æ˜¯ Java è¯ç”Ÿä»¥æ¥å¹¶å‘æ¨¡å‹æœ€å¤§çš„ä¸€æ¬¡å˜é©ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">1. ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è™šæ‹Ÿçº¿ç¨‹ï¼Ÿï¼ˆThe Whyï¼‰</h2>
<p>åœ¨æ·±å…¥æŠ€æœ¯ç»†èŠ‚ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆèŠèŠâ€œç—›ç‚¹â€ã€‚</p>
<p>é•¿æœŸä»¥æ¥ï¼ŒJava çš„å¹¶å‘æ¨¡å‹ä¸€ç›´æ˜¯ <strong>â€œä¸€è¯·æ±‚ä¸€çº¿ç¨‹â€ï¼ˆThread-per-Requestï¼‰</strong>ã€‚è¿™æ„å‘³ç€ï¼Œæ¯å½“æœ‰ä¸€ä¸ªæ–°çš„ HTTP è¯·æ±‚è¿›æ¥ï¼ŒWeb æœåŠ¡å™¨ï¼ˆå¦‚ Tomcatï¼‰å°±ä¼šåˆ†é…ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹å»å¤„ç†ã€‚</p>
<h3 data-id="heading-1">ç—›ç‚¹ä¸€ï¼šæ˜‚è´µçš„å¹³å°çº¿ç¨‹</h3>
<p>åœ¨ JDK 21 ä¹‹å‰ï¼ŒJava çš„ <code>Thread</code> ç›´æ¥æ˜ å°„åˆ°æ“ä½œç³»ç»Ÿçš„å†…æ ¸çº¿ç¨‹ï¼ˆPlatform Threadï¼‰ã€‚</p>
<ul>
<li><strong>å†…å­˜è´µ</strong>ï¼šä¸€ä¸ªå¹³å°çº¿ç¨‹é»˜è®¤å ç”¨çº¦ 1MB - 2MB çš„æ ˆå†…å­˜ã€‚</li>
<li><strong>åˆ‡æ¢æ…¢</strong>ï¼šçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢æ¶‰åŠå†…æ ¸æ€ä¸ç”¨æˆ·æ€çš„è½¬æ¢ï¼Œå¼€é”€å·¨å¤§ã€‚</li>
<li><strong>æ•°é‡å—é™</strong>ï¼šä½ å¾ˆéš¾åœ¨ä¸€å°æ™®é€šæœåŠ¡å™¨ä¸Šå¯åŠ¨å‡ ä¸‡ä¸ªçº¿ç¨‹ï¼Œæœºå™¨ä¼šç›´æ¥å¡æ­»ã€‚</li>
</ul>
<h3 data-id="heading-2">ç—›ç‚¹äºŒï¼šå¼‚æ­¥ç¼–ç¨‹çš„â€œå¦¥åâ€</h3>
<p>ä¸ºäº†è§£å†³é«˜å¹¶å‘é—®é¢˜ï¼Œæˆ‘ä»¬è¢«è¿«å¼•å…¥äº† NIOã€Nettyã€WebFlux ç­‰å¼‚æ­¥æ¡†æ¶ã€‚è™½ç„¶ååé‡ä¸Šå»äº†ï¼Œä½†ä»£ä»·æ˜¯æƒ¨ç—›çš„ï¼š</p>
<ul>
<li><strong>ä»£ç éš¾æ‡‚</strong>ï¼šé€»è¾‘è¢«æ‹†å¾—æ”¯ç¦»ç ´ç¢ï¼Œå›è°ƒåœ°ç‹±ï¼ˆCallback Hellï¼‰éšå¤„å¯è§ã€‚</li>
<li><strong>è°ƒè¯•å™©æ¢¦</strong>ï¼šä¸€æ—¦æŠ¥é”™ï¼Œå †æ ˆè¿½è¸ªï¼ˆStack Traceï¼‰é‡Œå…¨æ˜¯æ¡†æ¶ä»£ç ï¼Œæ ¹æœ¬æ‰¾ä¸åˆ°ä¸šåŠ¡é€»è¾‘çš„æºå¤´ã€‚</li>
</ul>
<p><strong>JDK 21 è™šæ‹Ÿçº¿ç¨‹çš„å‡ºç°ï¼Œå°±æ˜¯ä¸ºäº†æ‰“ç ´è¿™ä¸ªåƒµå±€ï¼š</strong></p>
<blockquote>
<p><strong>å®ƒå…è®¸ä½ ç”¨æœ€ç†Ÿæ‚‰çš„â€œåŒæ­¥é˜»å¡â€ä»£ç é£æ ¼ï¼Œå†™å‡ºåª²ç¾å¼‚æ­¥æ¡†æ¶çš„â€œé«˜å¹¶å‘æ€§èƒ½â€ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-3">2. ä»€ä¹ˆæ˜¯è™šæ‹Ÿçº¿ç¨‹ï¼Ÿï¼ˆThe Whatï¼‰</h2>
<p><strong>è™šæ‹Ÿçº¿ç¨‹ï¼ˆVirtual Threadsï¼‰</strong> æ˜¯ä¸€ç§ç”± JVM è‡ªèº«ç®¡ç†çš„è½»é‡çº§çº¿ç¨‹ï¼Œå®ƒä¸å†ä¸æ“ä½œç³»ç»Ÿçš„å†…æ ¸çº¿ç¨‹ 1:1 ç»‘å®šã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥åšä¸€ä¸ªç®€å•çš„å¯¹æ¯”ï¼š</p>






























<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">å¹³å°çº¿ç¨‹ (Platform Thread)</th><th align="left">è™šæ‹Ÿçº¿ç¨‹ (Virtual Thread)</th></tr></thead><tbody><tr><td align="left"><strong>ç®¡ç†è€…</strong></td><td align="left">æ“ä½œç³»ç»Ÿå†…æ ¸</td><td align="left">JVM è™šæ‹Ÿæœº</td></tr><tr><td align="left"><strong>æ˜ å°„å…³ç³»</strong></td><td align="left">1:1 (ä¸€ä¸ª Java çº¿ç¨‹å¯¹åº”ä¸€ä¸ª OS çº¿ç¨‹)</td><td align="left">M:N (å¤§é‡è™šæ‹Ÿçº¿ç¨‹å¤ç”¨å°‘é‡ OS çº¿ç¨‹)</td></tr><tr><td align="left"><strong>åˆ›å»ºæˆæœ¬</strong></td><td align="left">æ˜‚è´µ (MB çº§å†…å­˜ï¼Œç³»ç»Ÿè°ƒç”¨)</td><td align="left">æä½ (å‡ ç™¾å­—èŠ‚ï¼Œæ™®é€š Java å¯¹è±¡)</td></tr><tr><td align="left"><strong>æ•°é‡ä¸Šé™</strong></td><td align="left">å‡ åƒä¸ª</td><td align="left">å‡ ç™¾ä¸‡ä¸ª (ä»…å—å †å†…å­˜é™åˆ¶)</td></tr></tbody></table>
<p>ç®€å•æ¥è¯´ï¼Œè™šæ‹Ÿçº¿ç¨‹å°±åƒæ˜¯ Java ä¸­çš„â€œåç¨‹â€ï¼ˆGo è¯­è¨€çš„ Goroutineï¼‰ï¼Œä½†å®ƒå®Œå…¨èå…¥äº†ç°æœ‰çš„ <code>java.lang.Thread</code> APIï¼Œè€ä»£ç å‡ ä¹ä¸ç”¨æ”¹å°±èƒ½äº«å—çº¢åˆ©ã€‚</p>
<hr/>
<h2 data-id="heading-4">3. æ ¸å¿ƒåŸç†ï¼šå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿï¼ˆUnder the Hoodï¼‰</h2>
<p>è¿™æ˜¯ç†è§£è™šæ‹Ÿçº¿ç¨‹æœ€å…³é”®çš„éƒ¨åˆ†ã€‚ä¸ºäº†è®²æ¸…æ¥šï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ª"<strong>å‡ºç§Ÿè½¦æ¨¡å‹</strong>"æ¥æ‰“æ¯”æ–¹ã€‚</p>
<ul>
<li><strong>å‡ºç§Ÿè½¦å…¬å¸ï¼ˆæ“ä½œç³»ç»Ÿ OSï¼‰</strong>ï¼šåªæœ‰ <strong>10 è¾†å‡ºç§Ÿè½¦</strong>ï¼ˆè¿™æ˜¯ä½ çš„ CPU æ ¸å¿ƒæ•°/è½½ä½“çº¿ç¨‹ Carrier Threadsï¼‰ã€‚</li>
<li><strong>ä¹˜å®¢ï¼ˆä»»åŠ¡ Taskï¼‰</strong>ï¼šæœ‰ <strong>10,000 åä¹˜å®¢</strong>ï¼ˆè¿™æ˜¯ä½ çš„å¹¶å‘è¯·æ±‚ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-5">ä¼ ç»Ÿæ¨¡å¼ï¼ˆå¹³å°çº¿ç¨‹ï¼‰</h3>
<p>æ¯è¾†è½¦ä¸€æ¬¡åªèƒ½æ‹‰ä¸€ä¸ªä¹˜å®¢ã€‚å¦‚æœä¹˜å®¢åŠè·¯è¯´ï¼šâ€œå¸ˆå‚…ï¼Œæˆ‘è¦å»å–ä¸ªå¿«é€’ï¼ˆæ•°æ®åº“æŸ¥è¯¢/ç½‘ç»œè¯·æ±‚ï¼‰ï¼Œä½ ç­‰æˆ‘ 5 åˆ†é’Ÿã€‚â€
è¿™æ—¶å€™ï¼Œ<strong>å‡ºç§Ÿè½¦å°±çœŸçš„åœåœ¨è·¯è¾¹æ­»ç­‰</strong>ï¼ˆçº¿ç¨‹é˜»å¡ï¼‰ã€‚å› ä¸ºè½¦åªæœ‰ 10 è¾†ï¼Œä¸€æ—¦éƒ½åœ¨ç­‰äººï¼Œåé¢ 9990 ä¸ªä¹˜å®¢åªèƒ½æ’é˜Ÿå–è¥¿åŒ—é£ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¼ ç»Ÿçº¿ç¨‹æ± å¹¶å‘ä¸Šä¸å»ã€‚</p>
<h3 data-id="heading-6">è™šæ‹Ÿçº¿ç¨‹æ¨¡å¼</h3>
<p>åœ¨ JDK 21 ä¸­ï¼Œæƒ…å†µå˜äº†ï¼š</p>
<ol>
<li><strong>æŒ‚è½½ï¼ˆMountï¼‰</strong>ï¼šä¹˜å®¢åä¸Šå‡ºç§Ÿè½¦ï¼Œå¼€å§‹è®¡ç®—ä»»åŠ¡ã€‚</li>
<li><strong>å¸è½½ï¼ˆUnmountï¼‰</strong>ï¼šå½“ä¹˜å®¢éœ€è¦ç­‰çº¢ç¯æˆ–å–å¿«é€’ï¼ˆé‡åˆ°é˜»å¡ I/Oï¼Œå¦‚ <code>Thread.sleep</code> æˆ– DB æŸ¥è¯¢ï¼‰æ—¶ï¼ŒJVM ä¼šç«‹åˆ»è®©ä¹˜å®¢<strong>ä¸‹è½¦</strong>ï¼ŒæŠŠä»–çš„çŠ¶æ€ï¼ˆContinuationï¼‰å­˜åœ¨è·¯è¾¹ã€‚</li>
<li><strong>å¤ç”¨</strong>ï¼šå‡ºç§Ÿè½¦ï¼ˆè½½ä½“çº¿ç¨‹ï¼‰<strong>ç«‹åˆ»å»æ‹‰ä¸‹ä¸€ä¸ªä¹˜å®¢</strong>ï¼Œä¸€åˆ»ä¹Ÿä¸é—²ç€ã€‚</li>
<li><strong>æ¢å¤</strong>ï¼šå½“åŸæ¥çš„ä¹˜å®¢å¿«é€’å–å¥½äº†ï¼ˆI/O å®Œæˆï¼‰ï¼Œä»–ä¼šé‡æ–°æ’é˜Ÿï¼Œç­‰ä»»æ„ä¸€è¾†ç©ºé—²çš„å‡ºç§Ÿè½¦è¿‡æ¥ï¼Œå¸¦ä¸Šä¹‹å‰çš„çŠ¶æ€ç»§ç»­èµ°ã€‚</li>
</ol>
<p><strong>ç»“æœ</strong>ï¼šä»…ç”¨ 10 è¾†è½¦ï¼Œå°±è®© 10,000 ä¸ªä¹˜å®¢æ„Ÿè§‰è‡ªå·±éƒ½åœ¨â€œåŒæ—¶â€å‰è¿›ã€‚CPU åˆ©ç”¨ç‡è¢«æ¦¨å¹²åˆ°äº†æè‡´ã€‚</p>
<h3 data-id="heading-7">æºç è§†è§’ï¼šJVM æ˜¯å¦‚ä½•å®ç°â€œé­”æ³•â€çš„ï¼Ÿ</h3>
<p>ä¸ºäº†æ›´æ·±å…¥åœ°ç†è§£ï¼Œæˆ‘ä»¬ç¨å¾®çœ‹ä¸€çœ¼ JDK çš„åº•å±‚å®ç°ï¼ˆåŸºäº JDK 21 OpenJDK æºç ï¼‰ã€‚</p>
<p><strong>1. è™šæ‹Ÿçº¿ç¨‹çš„æ•°æ®ç»“æ„</strong>
è™šæ‹Ÿçº¿ç¨‹åœ¨æºç ä¸­å¯¹åº”çš„ç±»æ˜¯ <code>java.lang.VirtualThread</code>ã€‚å®ƒä¸å†åƒå¹³å°çº¿ç¨‹é‚£æ ·æŒæœ‰å·¨å¤§çš„æ ˆå†…å­˜ï¼Œè€Œæ˜¯æŒæœ‰ä¸€ä¸ªè½»é‡çº§çš„ <strong><code>Continuation</code>ï¼ˆç»­ä½“ï¼‰</strong> å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// java.lang.VirtualThread æºç ç®€ç•¥ç‰ˆ</span>
<span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VirtualThread</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseVirtualThread</span> {
    <span class="hljs-comment">// è°ƒåº¦å™¨ï¼Œé»˜è®¤æ˜¯ ForkJoinPool</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Executor scheduler;
    <span class="hljs-comment">// ç»­ä½“ï¼Œç”¨äºä¿å­˜å’Œæ¢å¤æ ˆçŠ¶æ€</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Continuation cont;
    <span class="hljs-comment">// å®é™…è¦æ‰§è¡Œçš„ä»»åŠ¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Runnable runContinuation;
    
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<p><strong>2. Mountï¼ˆæŒ‚è½½ï¼‰</strong>
å½“ä½ çš„è™šæ‹Ÿçº¿ç¨‹éœ€è¦æ‰§è¡Œ CPU è¿ç®—æ—¶ï¼ŒJVM ä¼šæŠŠå®ƒâ€œæŒ‚è½½â€åˆ°ä¸€ä¸ªè½½ä½“çº¿ç¨‹ï¼ˆCarrier Threadï¼‰ä¸Šã€‚è¿™ä¸ªè½½ä½“çº¿ç¨‹æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª <code>ForkJoinPool</code> ä¸­çš„ Worker çº¿ç¨‹ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ JDK 21 ä¸­ <code>mount()</code> æ–¹æ³•çš„æ ¸å¿ƒé€»è¾‘ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// VirtualThread.java</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">mount</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// 1. ç»‘å®šï¼šè·å–å½“å‰çš„å¹³å°çº¿ç¨‹ï¼ˆCarrierï¼‰ï¼Œå¹¶å»ºç«‹å…³è”</span>
    <span class="hljs-type">Thread</span> <span class="hljs-variable">carrier</span> <span class="hljs-operator">=</span> Thread.currentCarrierThread(); 
    setCarrierThread(carrier); 

    <span class="hljs-comment">// 2. åŒæ­¥çŠ¶æ€ï¼šå¤„ç†ä¸­æ–­çŠ¶æ€ï¼ˆInterrupt Statusï¼‰</span>
    <span class="hljs-comment">// å¿…é¡»ç¡®ä¿è½½ä½“çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ä¸è™šæ‹Ÿçº¿ç¨‹ä¸€è‡´</span>
    <span class="hljs-comment">// å¦‚æœè™šæ‹Ÿçº¿ç¨‹è¢«ä¸­æ–­äº†ï¼Œè½½ä½“çº¿ç¨‹ä¹Ÿå¿…é¡»æ ‡è®°ä¸ºä¸­æ–­ï¼Œä»¥ä¾¿ IO æ“ä½œèƒ½æ„ŸçŸ¥åˆ°</span>
    <span class="hljs-keyword">if</span> (interrupted) { 
        carrier.setInterrupt(); 
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (carrier.isInterrupted()) { 
        <span class="hljs-comment">// åä¹‹ï¼Œæ¸…é™¤è½½ä½“çº¿ç¨‹å¯èƒ½æ®‹ç•™çš„â€œè„â€ä¸­æ–­çŠ¶æ€</span>
        <span class="hljs-keyword">synchronized</span> (interruptLock) { 
            <span class="hljs-keyword">if</span> (!interrupted) carrier.clearInterrupt(); 
        } 
    } 

    <span class="hljs-comment">// 3. å·å¤©æ¢æ—¥ï¼šä¿®æ”¹å½“å‰çº¿ç¨‹çš„èº«ä»½</span>
    <span class="hljs-comment">// è¿™è¡Œä»£ç æ‰§è¡Œåï¼ŒThread.currentThread() è¿”å›çš„ä¸å†æ˜¯è½½ä½“çº¿ç¨‹ï¼Œè€Œæ˜¯å½“å‰è¿™ä¸ªè™šæ‹Ÿçº¿ç¨‹</span>
    <span class="hljs-comment">// è¿™æ˜¯è™šæ‹Ÿçº¿ç¨‹å…¼å®¹è€ä»£ç ï¼ˆå¦‚ Log4j, ThreadLocalï¼‰çš„å…³é”®</span>
    carrier.setCurrentThread(<span class="hljs-built_in">this</span>); 
}
</code></pre>
<p><strong>3. Unmountï¼ˆå¸è½½ï¼‰ä¸ Yield</strong>
å½“ä½ çš„ä»£ç è°ƒç”¨äº† <code>Thread.sleep()</code> æˆ–è€…è¿›è¡Œç½‘ç»œ I/O æ—¶ï¼Œåº•å±‚ä¼šè°ƒç”¨ <strong><code>VirtualThread.park()</code></strong>ã€‚</p>
<p>è¿™æ˜¯æ•´ä¸ªè™šæ‹Ÿçº¿ç¨‹è°ƒåº¦çš„æ ¸å¿ƒæ¢çº½ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒç©¶ç«Ÿåšäº†ä»€ä¹ˆï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// VirtualThread.java æºç æ ¸å¿ƒé€»è¾‘ç®€åŒ–ç‰ˆ</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">park</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// 1. æ£€æŸ¥è®¸å¯ï¼ˆPermitï¼‰ï¼šå¦‚æœå½“å‰çº¿ç¨‹å·²ç»æœ‰äº†â€œé€šè¡Œè¯â€ï¼ˆæ¯”å¦‚åˆšè¢« unparkï¼‰ï¼Œåˆ™æ— éœ€æŒ‚èµ·ï¼Œç›´æ¥è¿”å›ç»§ç»­è·‘</span>
    <span class="hljs-keyword">if</span> (getAndSetParkPermit(<span class="hljs-literal">false</span>) || interrupted)
        <span class="hljs-keyword">return</span>;

    <span class="hljs-comment">// 2. å°è¯•æŒ‚èµ·ï¼ˆYieldï¼‰</span>
    setState(PARKING); <span class="hljs-comment">// æ ‡è®°çŠ¶æ€ä¸º PARKING</span>
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// å…³é”®è°ƒç”¨ï¼šå°è¯•äº¤å‡ºæ§åˆ¶æƒ</span>
        <span class="hljs-comment">// å¦‚æœæˆåŠŸï¼ˆè¿”å› trueï¼‰ï¼Œè¯´æ˜è™šæ‹Ÿçº¿ç¨‹å·²ç»æˆåŠŸå¸è½½ï¼ˆUnmountï¼‰å¹¶æš‚åœäº†</span>
        <span class="hljs-comment">// å¦‚æœå¤±è´¥ï¼ˆè¿”å› falseï¼‰ï¼Œé€šå¸¸æ˜¯å› ä¸ºè¢« Pinningï¼ˆé’‰ä½ï¼‰äº†</span>
        yielded = yieldContinuation(); 
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// å¦‚æœæ²¡æŒ‚èµ·æˆåŠŸï¼ŒæŠŠçŠ¶æ€æ”¹å› RUNNING</span>
        <span class="hljs-keyword">if</span> (!yielded) { 
            setState(RUNNING); 
        }
    }

    <span class="hljs-comment">// 3. å¤„ç† Pinningï¼ˆé’‰ä½ï¼‰çš„æƒ…å†µ</span>
    <span class="hljs-comment">// å¦‚æœ yieldContinuation() è¿”å› falseï¼Œè¯´æ˜æ²¡èƒ½ä» Carrier Thread ä¸Šä¸‹æ¥</span>
    <span class="hljs-comment">// è¿™æ—¶å€™åªèƒ½æ— å¥ˆåœ°é˜»å¡åº•å±‚çš„ Carrier Threadï¼ˆè¿™æ­£æ˜¯æˆ‘ä»¬æåŠ›æƒ³é¿å…çš„ï¼‰</span>
    <span class="hljs-keyword">if</span> (!yielded) { 
        parkOnCarrierThread(<span class="hljs-literal">false</span>, <span class="hljs-number">0</span>); 
    }
}
</code></pre>
<p>ç´§æ¥ç€ï¼Œæˆ‘ä»¬æ·±å…¥ <code>yieldContinuation()</code>ï¼Œè¿™æ‰æ˜¯é­”æ³•çœŸæ­£å‘ç”Ÿçš„åœ°æ–¹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">yieldContinuation</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// 1. Unmountï¼šè§£ç»‘è½½ä½“çº¿ç¨‹ï¼Œæ¸…ç†ä¸­æ–­çŠ¶æ€</span>
    <span class="hljs-comment">// (è¿™æ­¥æ“ä½œå…¶å®éšå«åœ¨ Continuation.yield çš„å‰åé€»è¾‘ä¸­ï¼Œæˆ–è€…æ˜¯é€šè¿‡ JVMTI é€šçŸ¥è§¦å‘)</span>
    notifyJvmtiUnmount(<span class="hljs-comment">/*hide*/</span><span class="hljs-literal">true</span>); 
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 2. çœŸæ­£çš„é­”æ³•ï¼šè°ƒç”¨ Continuation.yield</span>
        <span class="hljs-comment">// è¿™è¡Œä»£ç ä¼šâ€œå†»ç»“â€å½“å‰æ ˆå¸§ï¼ŒæŠŠå †æ ˆä¿¡æ¯ä¿å­˜åˆ°å †å†…å­˜ä¸­</span>
        <span class="hljs-comment">// ç„¶åï¼Œæ‰§è¡Œæµä¼šâ€œè·³å›â€åˆ° Carrier Thread çš„ run() æ–¹æ³•ä¸­ï¼Œå»æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡</span>
        <span class="hljs-keyword">return</span> Continuation.<span class="hljs-keyword">yield</span>(VTHREAD_SCOPE); 
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// 3. æ¢å¤ï¼šå½“è¿™ä¸ªè™šæ‹Ÿçº¿ç¨‹è¢«å”¤é†’ï¼ˆunparkï¼‰å¹¶é‡æ–° Mount åï¼Œä»£ç ä¼šä»è¿™é‡Œç»§ç»­æ‰§è¡Œ</span>
        notifyJvmtiMount(<span class="hljs-comment">/*hide*/</span><span class="hljs-literal">false</span>); 
    }
}
</code></pre>
<p>é€šè¿‡è¿™æ®µæºç ï¼Œæˆ‘ä»¬æ¸…æ™°åœ°çœ‹åˆ°äº† <strong>Pinningï¼ˆé’‰ä½ï¼‰</strong> æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼šå½“ <code>yieldContinuation()</code> å¤±è´¥ï¼ˆé€šå¸¸æ˜¯å› ä¸ºå½“å‰æ ˆå¸§ä¸­æœ‰ <code>synchronized</code> æˆ– <code>native</code> æ–¹æ³•ï¼‰æ—¶ï¼Œä»£ç ä¼šå›é€€åˆ° <code>parkOnCarrierThread()</code>ï¼Œå¯¼è‡´åº•å±‚å¹³å°çº¿ç¨‹è¢«é˜»å¡ã€‚</p>
<p><strong>4. æ¢å¤æ‰§è¡Œ</strong>
å½“ I/O æ“ä½œå®Œæˆï¼ˆä¾‹å¦‚ç½‘å¡æ”¶åˆ°äº†æ•°æ®ï¼‰ï¼Œæ“ä½œç³»ç»Ÿä¼šé€šçŸ¥ JVMã€‚è°ƒåº¦å™¨ï¼ˆSchedulerï¼‰ä¼šå†æ¬¡æŠŠè¿™ä¸ªæŒ‚èµ·çš„è™šæ‹Ÿçº¿ç¨‹æ”¾å…¥æ‰§è¡Œé˜Ÿåˆ—ï¼Œç­‰å¾…ç©ºé—²çš„è½½ä½“çº¿ç¨‹å°†å®ƒâ€œå¤æ´»â€ï¼ˆMount å¹¶æ¢å¤æ ˆå¸§ï¼‰ï¼Œä»ä¸Šæ¬¡æš‚åœçš„åœ°æ–¹ç»§ç»­è¿è¡Œã€‚</p>
<p><strong>5. å®æˆ˜è°ƒç”¨é“¾æ­ç§˜</strong>
ä¸ºäº†å½»åº•è§£å¼€ç–‘æƒ‘ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æœ€å¸¸ç”¨çš„ <code>Thread.sleep</code> å’Œç½‘ç»œ I/O åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆã€‚</p>
<p><strong>åœºæ™¯ Aï¼š<code>Thread.sleep(1000)</code></strong></p>
<ol>
<li><strong>JDK 21 ä¿®æ”¹äº† <code>Thread.sleep</code></strong>ï¼šå®ƒä¼šæ£€æŸ¥å½“å‰çº¿ç¨‹æ˜¯å¦æ˜¯è™šæ‹Ÿçº¿ç¨‹ã€‚</li>
<li>å¦‚æœæ˜¯ï¼Œè°ƒç”¨ <code>VirtualThread.sleepNanos(nanos)</code>ã€‚</li>
<li><strong>åˆ†æ”¯å¤„ç†</strong>ï¼š
<ul>
<li><strong>æƒ…å†µ 1ï¼š<code>nanos == 0</code> (å³ <code>Thread.sleep(0)</code>)</strong>
<ul>
<li>ç›´æ¥è°ƒç”¨ <code>tryYield()</code>ã€‚</li>
<li>çŠ¶æ€æ ‡è®°ä¸º <code>YIELDING</code>ã€‚</li>
<li>æ‰§è¡Œ <code>yieldContinuation()</code> å°è¯•è®©å‡º CPUã€‚è¿™æ˜¯ä¸€ç§â€œç¤¼è®©â€è¡Œä¸ºï¼Œå…è®¸è°ƒåº¦å™¨ç«‹åˆ»åˆ‡æ¢åˆ°å…¶ä»–ç­‰å¾…çš„è™šæ‹Ÿçº¿ç¨‹ã€‚</li>
</ul>
</li>
<li><strong>æƒ…å†µ 2ï¼š<code>nanos &gt; 0</code> (å³ <code>Thread.sleep(1000)</code>)</strong>
<ul>
<li>è°ƒç”¨ <code>parkNanos(nanos)</code>ã€‚</li>
<li><strong>æ³¨å†Œå”¤é†’ä»»åŠ¡</strong>ï¼š<code>Future unparker = scheduleUnpark(nanos)</code>ã€‚JVM ä¼šåœ¨å†…éƒ¨çš„è°ƒåº¦é˜Ÿåˆ—ä¸­æ³¨å†Œä¸€ä¸ª 1 ç§’åçš„å®šæ—¶äº‹ä»¶ã€‚</li>
<li><strong>çŠ¶æ€æ ‡è®°</strong>ï¼š<code>setState(TIMED_PARKING)</code>ã€‚</li>
<li><strong>å°è¯•æŒ‚èµ·</strong>ï¼šè°ƒç”¨ <code>yieldContinuation()</code>ã€‚
<ul>
<li><strong>æˆåŠŸ</strong>ï¼šè™šæ‹Ÿçº¿ç¨‹å¸è½½ï¼ŒForkJoinPool Worker çº¿ç¨‹é‡Šæ”¾å»å¹²åˆ«çš„äº‹ã€‚</li>
<li><strong>å¤±è´¥ï¼ˆPinningï¼‰</strong>ï¼šå¦‚æœè¢«é’‰ä½ï¼Œåˆ™æ‰§è¡Œ <code>parkOnCarrierThread(true, remainingNanos)</code>ï¼Œå¯¼è‡´è½½ä½“çº¿ç¨‹åœ¨ OS å±‚é¢é˜»å¡ç­‰å¾…å‰©ä½™æ—¶é—´ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>å”¤é†’</strong>ï¼šå®šæ—¶å™¨è§¦å‘æˆ–ç¤¼è®©ç»“æŸåï¼Œè°ƒåº¦å™¨å°†è¯¥è™šæ‹Ÿçº¿ç¨‹ <code>unpark</code>ï¼Œå®ƒé‡æ–°æ’é˜Ÿç­‰å¾…æ‰§è¡Œã€‚</li>
</ol>
<p><strong>åœºæ™¯ Bï¼šç½‘ç»œ I/O (å¦‚ <code>socket.read()</code>)</strong></p>
<ol>
<li>JDK 21 é‡å†™äº† <code>NioSocketImpl</code> ç­‰åº•å±‚ç±»ã€‚</li>
<li>å½“è°ƒç”¨ <code>read()</code> æ—¶ï¼Œå¦‚æœåº•å±‚ Socket ç¼“å†²åŒºä¸ºç©ºï¼ˆæ•°æ®æœªåˆ°ï¼‰ã€‚</li>
<li><strong>æ³¨å†Œ Poller</strong>ï¼šå°†å½“å‰ Socket çš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆFDï¼‰æ³¨å†Œåˆ° JVM å…¨å±€çš„ <strong>Poller</strong>ï¼ˆLinux ä¸Šå¯¹åº” <code>epoll</code>ï¼ŒMac ä¸Šå¯¹åº” <code>kqueue</code>ï¼‰ã€‚</li>
<li><strong>è°ƒç”¨ <code>park()</code></strong>ï¼šè™šæ‹Ÿçº¿ç¨‹å¸è½½ã€‚</li>
<li><strong>ç­‰å¾…äº‹ä»¶</strong>ï¼šå½“ç½‘å¡æ”¶åˆ°æ•°æ®ï¼ŒOS é€šçŸ¥ Pollerã€‚</li>
<li><strong>å”¤é†’</strong>ï¼šPoller æ‰¾åˆ°å¯¹åº”çš„è™šæ‹Ÿçº¿ç¨‹ï¼Œå°†å…¶ <code>unpark</code>ï¼Œè™šæ‹Ÿçº¿ç¨‹æ¢å¤æ‰§è¡Œå¹¶æˆåŠŸè¯»å–æ•°æ®ã€‚</li>
</ol>
<p>è¿™æ­£æ˜¯â€œåŒæ­¥ä»£ç ï¼Œå¼‚æ­¥æ‰§è¡Œâ€çš„æœ¬è´¨ï¼</p>
<hr/>
<h2 data-id="heading-8">4. å®æˆ˜ï¼šå¦‚ä½•ä½¿ç”¨ï¼Ÿï¼ˆCode Examplesï¼‰</h2>
<p>åœ¨ JDK 21 ä¸­ï¼Œä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹éå¸¸ç®€å•ã€‚</p>
<h3 data-id="heading-9">4.1 åˆ›å»ºè™šæ‹Ÿçº¿ç¨‹</h3>
<p>ä¸éœ€è¦å¼•å…¥ä»»ä½•ç¬¬ä¸‰æ–¹åŒ…ï¼Œæ ‡å‡†åº“åŸç”Ÿæ”¯æŒï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹å¼ 1: ç›´æ¥å¯åŠ¨ä¸€ä¸ªè™šæ‹Ÿçº¿ç¨‹</span>
Thread.startVirtualThread(() -&gt; {
    System.out.println(&amp;#<span class="hljs-number">34</span>;Hello from Virtual Thread: &amp;#<span class="hljs-number">34</span>; + Thread.currentThread());
});

<span class="hljs-comment">// æ–¹å¼ 2: ä½¿ç”¨ Builder æ„å»ºæ›´è¯¦ç»†çš„é…ç½®ï¼ˆå¦‚åç§°ï¼‰</span>
<span class="hljs-type">Thread</span> <span class="hljs-variable">vThread</span> <span class="hljs-operator">=</span> Thread.ofVirtual()
        .name(&amp;#<span class="hljs-number">34</span>;my-vthread&amp;#<span class="hljs-number">34</span>;)
        .start(() -&gt; {
            <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
        });
</code></pre>
<h3 data-id="heading-10">4.2 æ›¿ä»£çº¿ç¨‹æ± ï¼ˆé‡ç‚¹ï¼‰</h3>
<p><strong>è¿™æ˜¯æœ€å¤§çš„æ€ç»´è½¬å˜</strong>ã€‚è¿‡å»æˆ‘ä»¬ç”¨ <code>Executors.newFixedThreadPool(200)</code> æ¥é™åˆ¶çº¿ç¨‹æ•°é‡ã€‚
<strong>ç°åœ¨ï¼Œè¯·å¿˜æ‰çº¿ç¨‹æ± ï¼</strong> è™šæ‹Ÿçº¿ç¨‹æ˜¯ç”¨å®Œå³æ¯çš„ï¼Œä¸éœ€è¦æ± åŒ–ã€‚</p>
<p>JDK 21 æä¾›äº†æ–°çš„æ‰§è¡Œå™¨ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½¿ç”¨ try-with-resources è‡ªåŠ¨å…³é—­ç»“æ„</span>
<span class="hljs-keyword">try</span> (<span class="hljs-type">var</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newVirtualThreadPerTaskExecutor()) {
    IntStream.range(<span class="hljs-number">0</span>, <span class="hljs-number">10_000</span>).forEach(i -&gt; {
        executor.submit(() -&gt; {
            <span class="hljs-comment">// æ¨¡æ‹Ÿè€—æ—¶ I/O æ“ä½œï¼Œä¾‹å¦‚è°ƒç”¨ç¬¬ä¸‰æ–¹ API</span>
            Thread.sleep(Duration.ofSeconds(<span class="hljs-number">1</span>)); 
            <span class="hljs-keyword">return</span> i;
        });
    });
} 
<span class="hljs-comment">// ä»£ç è¿è¡Œåˆ°è¿™é‡Œï¼Œè¯´æ˜ 10,000 ä¸ªä»»åŠ¡å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ã€‚</span>
<span class="hljs-comment">// åœ¨ä¼ ç»Ÿçº¿ç¨‹æ± ä¸‹ï¼Œè¿™å¯èƒ½éœ€è¦å‡ åç§’ï¼›è€Œåœ¨è™šæ‹Ÿçº¿ç¨‹ä¸‹ï¼Œè€—æ—¶ä»…çº¦ 1 ç§’å¤šä¸€ç‚¹ã€‚</span>
</code></pre>
<hr/>
<h2 data-id="heading-11">5. æ€§èƒ½å®éªŒï¼šç”¨æ•°æ®è¯´è¯ï¼ˆBenchmarksï¼‰</h2>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ã€‚æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªç®€å•çš„åŸºå‡†æµ‹è¯•ï¼Œç›´è§‚æ„Ÿå—è™šæ‹Ÿçº¿ç¨‹åœ¨<strong>é«˜å¹¶å‘ I/O å¯†é›†å‹åœºæ™¯</strong>ä¸‹çš„å¨åŠ›ã€‚</p>
<h3 data-id="heading-12">å®éªŒç›®æ ‡</h3>
<p>æ¨¡æ‹Ÿ 10,000 ä¸ªå¹¶å‘ä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡â€œå‡è£…â€æ‰§è¡Œ 1 ç§’é’Ÿçš„ I/O æ“ä½œï¼ˆä½¿ç”¨ <code>Thread.sleep(1000)</code> æ¨¡æ‹Ÿï¼‰ã€‚</p>
<h3 data-id="heading-13">å®éªŒä»£ç </h3>
<p>ä½ å¯ä»¥ç›´æ¥å¤åˆ¶è¿™æ®µä»£ç åœ¨æœ¬åœ°è¿è¡Œï¼ˆéœ€ JDK 21+ï¼‰ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.management.ManagementFactory;
<span class="hljs-keyword">import</span> java.lang.management.MemoryMXBean;
<span class="hljs-keyword">import</span> java.lang.management.MemoryUsage;
<span class="hljs-keyword">import</span> java.time.Duration;
<span class="hljs-keyword">import</span> java.util.concurrent.Executors;
<span class="hljs-keyword">import</span> java.util.stream.IntStream;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VirtualThreadBenchmark</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">taskCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">10_000</span>;
        
        System.out.println(&amp;#<span class="hljs-number">34</span>;=== å¼€å§‹åŸºå‡†æµ‹è¯• ===&amp;#<span class="hljs-number">34</span>;);
        System.out.println(&amp;#<span class="hljs-number">34</span>;ä»»åŠ¡æ•°é‡: &amp;#<span class="hljs-number">34</span>; + taskCount);

        <span class="hljs-comment">// 1. æµ‹è¯•å¹³å°çº¿ç¨‹ï¼ˆæ¨¡æ‹Ÿä¼ ç»Ÿçº¿ç¨‹æ± ï¼‰</span>
        <span class="hljs-comment">// ä¸ºäº†å…¬å¹³ï¼Œæˆ‘ä»¬ç»™å¹³å°çº¿ç¨‹æ± ä¸€ä¸ªç›¸å¯¹è¾ƒå¤§çš„æ ¸å¿ƒæ•°ï¼Œæ¯”å¦‚ 200</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">startPlatform</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-keyword">try</span> (<span class="hljs-type">var</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">200</span>)) {
            IntStream.range(<span class="hljs-number">0</span>, taskCount).forEach(i -&gt; {
                executor.submit(() -&gt; {
                    <span class="hljs-keyword">try</span> {
                        Thread.sleep(Duration.ofSeconds(<span class="hljs-number">1</span>));
                    } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
                    }
                });
            });
        } <span class="hljs-comment">// try-with-resources ä¼šè‡ªåŠ¨ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆ</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">endPlatform</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(&amp;#<span class="hljs-number">34</span>;å¹³å°çº¿ç¨‹æ± è€—æ—¶: &amp;#<span class="hljs-number">34</span>; + (endPlatform - startPlatform) + &amp;#<span class="hljs-number">34</span>; ms&amp;#<span class="hljs-number">34</span>;);

        <span class="hljs-comment">// æ‰‹åŠ¨ GC ä¸€æ¬¡ï¼Œå°½é‡å‡å°‘å¯¹ä¸‹ä¸€è½®çš„å½±å“</span>
        System.gc();
        <span class="hljs-keyword">try</span> { Thread.sleep(<span class="hljs-number">1000</span>); } <span class="hljs-keyword">catch</span> (Exception e) {}

        <span class="hljs-comment">// 2. æµ‹è¯•è™šæ‹Ÿçº¿ç¨‹</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">startVirtual</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        <span class="hljs-keyword">try</span> (<span class="hljs-type">var</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newVirtualThreadPerTaskExecutor()) {
            IntStream.range(<span class="hljs-number">0</span>, taskCount).forEach(i -&gt; {
                executor.submit(() -&gt; {
                    <span class="hljs-keyword">try</span> {
                        Thread.sleep(Duration.ofSeconds(<span class="hljs-number">1</span>));
                    } <span class="hljs-keyword">catch</span> (InterruptedException e) {
                        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
                    }
                });
            });
        }
        <span class="hljs-type">long</span> <span class="hljs-variable">endVirtual</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        System.out.println(&amp;#<span class="hljs-number">34</span>;è™šæ‹Ÿçº¿ç¨‹è€—æ—¶:   &amp;#<span class="hljs-number">34</span>; + (endVirtual - startVirtual) + &amp;#<span class="hljs-number">34</span>; ms&amp;#<span class="hljs-number">34</span>;);
    }

}
</code></pre>
<h3 data-id="heading-14">å®éªŒç»“æœåˆ†æï¼ˆå‚è€ƒæ•°æ®ï¼‰</h3>
<p>åœ¨æ™®é€šçš„ 8 æ ¸ç¬”è®°æœ¬ä¸Šè¿è¡Œï¼Œç»“æœé€šå¸¸å¦‚ä¸‹ï¼š</p>





























<table><thead><tr><th align="left">æŒ‡æ ‡</th><th align="left">å¹³å°çº¿ç¨‹æ±  (Fixed-200)</th><th align="left">è™šæ‹Ÿçº¿ç¨‹ (Virtual Threads)</th><th align="left">æå‡å€æ•°</th></tr></thead><tbody><tr><td align="left"><strong>æ€»è€—æ—¶</strong></td><td align="left"><strong>~50,601 ms</strong></td><td align="left"><strong>~1,149 ms</strong></td><td align="left"><strong>~43 å€</strong></td></tr><tr><td align="left"><strong>å†…å­˜å ç”¨</strong></td><td align="left">è¾ƒé«˜ï¼ˆæ¯ä¸ªçº¿ç¨‹æ ˆç‹¬ç«‹å ç”¨ OS å†…å­˜ï¼‰</td><td align="left"><strong>æä½</strong>ï¼ˆå‡ ä¹åªå¢åŠ å †å†…å­˜ï¼Œä¸”å¾ˆå°‘ï¼‰</td><td align="left"><strong>æ•°é‡çº§å·®å¼‚</strong></td></tr><tr><td align="left"><strong>åŸç†åˆ†æ</strong></td><td align="left">çº¿ç¨‹æ± åªæœ‰ 200 ä¸ªçº¿ç¨‹ï¼Œ1 ä¸‡ä¸ªä»»åŠ¡åªèƒ½æ’é˜Ÿæ‰§è¡Œã€‚<br/>50 è½® x 1ç§’ = 50 ç§’ã€‚</td><td align="left">1 ä¸‡ä¸ªè™šæ‹Ÿçº¿ç¨‹å‡ ä¹åŒæ—¶å¯åŠ¨ï¼ŒåŒæ—¶æŒ‚èµ·ã€‚<br/>åº•å±‚ Carrier çº¿ç¨‹ä¸æ–­å¤ç”¨ï¼Œå‡ ä¹æ²¡æœ‰æ’é˜Ÿç­‰å¾…ã€‚</td><td align="left">ç¢¾å‹çº§ä¼˜åŠ¿</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-15">6. æ€§èƒ½å¯¹æ¯”ä¸é€‚ç”¨åœºæ™¯</h2>
<p>æ˜¯ä¸æ˜¯æ‰€æœ‰åœºæ™¯éƒ½åº”è¯¥æ— è„‘ä¸Šè™šæ‹Ÿçº¿ç¨‹ï¼Ÿ<strong>å¹¶ä¸æ˜¯ã€‚</strong></p>
<h3 data-id="heading-16">é€‚ç”¨åœºæ™¯ï¼šI/O å¯†é›†å‹ (I/O Bound)</h3>
<p>è¿™æ˜¯è™šæ‹Ÿçº¿ç¨‹çš„ä¸»åœºã€‚</p>
<ul>
<li><strong>å…¸å‹åœºæ™¯</strong>ï¼šWeb æœåŠ¡å™¨ã€å¾®æœåŠ¡ç½‘å…³ã€å¤§é‡æ•°æ®åº“è°ƒç”¨ã€RPC è°ƒç”¨ã€‚</li>
<li><strong>æ•ˆæœ</strong>ï¼š<strong>ååé‡ï¼ˆThroughputï¼‰</strong> å°†å‘ˆæŒ‡æ•°çº§æå‡ã€‚åŸæœ¬èƒ½æŠ— 1000 QPS çš„æœåŠ¡ï¼Œå¯èƒ½è½»æ¾æŠ—ä½ 10000 QPSã€‚</li>
</ul>
<h3 data-id="heading-17">ä¸é€‚ç”¨åœºæ™¯ï¼šCPU å¯†é›†å‹ (CPU Bound)</h3>
<ul>
<li><strong>å…¸å‹åœºæ™¯</strong>ï¼šè§†é¢‘è½¬ç ã€å¤æ‚çš„åŠ å¯†è§£å¯†ã€ç§‘å­¦è®¡ç®—ã€‚</li>
<li><strong>åŸå› </strong>ï¼šCPU åªæœ‰é‚£ä¹ˆå¤šæ ¸å¿ƒã€‚å¦‚æœä»»åŠ¡å…¨æ˜¯è®¡ç®—ï¼Œæ²¡æœ‰ä»»ä½•ç­‰å¾…æ—¶é—´ï¼Œåˆ‡æ¢è™šæ‹Ÿçº¿ç¨‹åªä¼šå¢åŠ é¢å¤–çš„è°ƒåº¦å¼€é”€ï¼Œåè€Œå¯èƒ½å˜æ…¢ã€‚</li>
</ul>
<blockquote>
<p><strong>è¯¯åŒºæç¤º</strong>ï¼šè™šæ‹Ÿçº¿ç¨‹ä¸ä¼šé™ä½å•ä¸ªè¯·æ±‚çš„<strong>å»¶è¿Ÿï¼ˆLatencyï¼‰</strong>ã€‚å®ƒè§£å†³çš„æ˜¯â€œç”±äºçº¿ç¨‹ä¸å¤Ÿç”¨å¯¼è‡´çš„æ’é˜Ÿç­‰å¾…â€ï¼Œæå‡çš„æ˜¯ç³»ç»Ÿçš„<strong>å¹¶å‘å®¹é‡</strong>ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-18">6. é¿å‘æŒ‡å—ï¼ˆThe Gotchasï¼‰</h2>
<p>ä½œä¸ºæ¶æ„å¸ˆï¼Œåœ¨è½åœ°è™šæ‹Ÿçº¿ç¨‹æ—¶ï¼Œå¿…é¡»è­¦æƒ•ä»¥ä¸‹ä¸¤ä¸ªå‘ï¼š</p>
<h3 data-id="heading-19">å‘ä¸€ï¼šPinningï¼ˆçº¿ç¨‹é’‰ä½ï¼‰</h3>
<p>å½“è™šæ‹Ÿçº¿ç¨‹åœ¨æ‰§è¡Œä»¥ä¸‹ä»£ç æ—¶ï¼Œæ— æ³•ä»è½½ä½“çº¿ç¨‹ä¸Šå¸è½½ï¼ˆUnmountï¼‰ï¼Œå¯¼è‡´å®ƒé€€åŒ–æˆæ™®é€šçš„é˜»å¡çº¿ç¨‹ï¼š</p>
<ol>
<li>åœ¨ <code>synchronized</code> å—æˆ–æ–¹æ³•å†…éƒ¨ã€‚</li>
<li>æ‰§è¡Œ <code>native</code> æ–¹æ³•æˆ–å¤–éƒ¨å‡½æ•°æ¥å£ï¼ˆFFIï¼‰æ—¶ã€‚</li>
</ol>
<p><strong>åä¾‹ï¼ˆä¸è¦è¿™ä¹ˆå†™ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">synchronized</span> (lock) {
    <span class="hljs-comment">// è¿™é‡Œçš„ sleep ä¼šå¯¼è‡´åº•å±‚çš„ OS çº¿ç¨‹ä¹Ÿè¢«é˜»å¡ï¼Œæ— æ³•æœåŠ¡å…¶ä»–è™šæ‹Ÿçº¿ç¨‹</span>
    Thread.sleep(<span class="hljs-number">1000</span>); 
}
</code></pre>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå°† <code>synchronized</code> æ›¿æ¢ä¸º <code>ReentrantLock</code>ã€‚JDK æ ¸å¿ƒåº“ï¼ˆå¦‚ <code>ConcurrentHashMap</code>ï¼‰å†…éƒ¨å·²ç»å®Œæˆäº†è¿™ç§æ”¹é€ ã€‚</p>
<pre><code class="hljs language-java" lang="java">lock.lock();
<span class="hljs-keyword">try</span> {
    Thread.sleep(<span class="hljs-number">1000</span>); <span class="hljs-comment">// æ­¤æ—¶è™šæ‹Ÿçº¿ç¨‹å¯ä»¥æ­£å¸¸å¸è½½ï¼Œé‡Šæ”¾ OS çº¿ç¨‹</span>
} <span class="hljs-keyword">finally</span> {
    lock.unlock();
}
</code></pre>
<h3 data-id="heading-20">å‘äºŒï¼šThreadLocal è†¨èƒ€</h3>
<p>ä»¥å‰çº¿ç¨‹æ± åªæœ‰ 200 ä¸ªçº¿ç¨‹ï¼Œ<code>ThreadLocal</code> é‡Œçš„ç¼“å­˜æ•°æ®ä¸ä¼šå ç”¨å¤ªå¤šå†…å­˜ã€‚
ç°åœ¨è™šæ‹Ÿçº¿ç¨‹å¯èƒ½æœ‰ 100 ä¸‡ä¸ªï¼Œå¦‚æœæ¯ä¸ªçº¿ç¨‹éƒ½å­˜ 1MB æ•°æ®ï¼Œå†…å­˜ç¬é—´çˆ†ç‚¸ã€‚
<strong>å»ºè®®</strong>ï¼šå°½é‡å‡å°‘ <code>ThreadLocal</code> çš„ä½¿ç”¨ï¼Œæˆ–è€…ä½¿ç”¨ JDK 21 é¢„è§ˆç‰¹æ€§ <strong>Scoped Values</strong>ï¼ˆèŒƒå›´å€¼ï¼‰ä½œä¸ºæ›¿ä»£ã€‚</p>
<hr/>
<h2 data-id="heading-21">7. æ€»ç»“ä¸å±•æœ›</h2>
<p>JDK 21 è™šæ‹Ÿçº¿ç¨‹çš„æ­£å¼å‘å¸ƒï¼Œæ ‡å¿—ç€ Java å¹¶å‘ç¼–ç¨‹è¿›å…¥äº†ä¸€ä¸ªå…¨æ–°çš„â€œé™ç»´æ‰“å‡»â€æ—¶ä»£ã€‚</p>
<p><strong>æ ¸å¿ƒç»“è®ºï¼š</strong></p>
<ol>
<li><strong>JDK 21 æ­£å¼ç‰¹æ€§</strong>ï¼šè™šæ‹Ÿçº¿ç¨‹ä¸å†æ˜¯é¢„è§ˆç‰ˆï¼ˆPreviewï¼‰ï¼Œè€Œæ˜¯<strong>æ­£å¼ç‰ˆï¼ˆFinalizedï¼‰</strong>ï¼Œå·²å…·å¤‡ç”Ÿäº§ç¯å¢ƒè½åœ°çš„èƒ½åŠ›ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯æ˜ç¡®</strong>ï¼šå®ƒä¸æ˜¯ä¸‡èƒ½è¯ï¼Œ<strong>ä»…é€‚ç”¨äº I/O å¯†é›†å‹ä»»åŠ¡</strong>ï¼ˆWeb æœåŠ¡ã€RPC è°ƒç”¨ï¼‰ã€‚å¯¹äº CPU å¯†é›†å‹ä»»åŠ¡ï¼Œä¼ ç»Ÿå¹³å°çº¿ç¨‹ä¾ç„¶æ˜¯ç‹è€…ã€‚</li>
<li><strong>ç¼–ç¨‹èŒƒå¼å›å½’</strong>ï¼šæˆ‘ä»¬ä¸å†éœ€è¦ä¸ºäº†æ€§èƒ½å»å†™æ™¦æ¶©éš¾æ‡‚çš„å¼‚æ­¥å›è°ƒä»£ç ã€‚<strong>â€œåŒæ­¥çš„ä»£ç ç»“æ„ï¼Œå¼‚æ­¥çš„æ‰§è¡Œæ€§èƒ½â€</strong>ï¼Œè¿™æ‰æ˜¯è™šæ‹Ÿçº¿ç¨‹å¸¦ç»™å¼€å‘è€…çš„æœ€å¤§çº¢åˆ©ã€‚</li>
</ol>
<p><strong>å±•æœ›æœªæ¥ï¼š</strong>
è™½ç„¶è™šæ‹Ÿçº¿ç¨‹å·²ç»ç”± JEP 444 å®šç¨¿ï¼Œä½†ä¸å…¶é»„é‡‘æ­æ¡£â€”â€”<strong>ç»“æ„åŒ–å¹¶å‘ï¼ˆStructured Concurrencyï¼‰</strong>ï¼ˆç›®å‰åœ¨ JDK 21 ä»å¤„äºé¢„è§ˆé˜¶æ®µï¼‰çš„é…åˆæ‰æ˜¯å®Œå…¨ä½“ã€‚éšç€æœªæ¥ JDK ç‰ˆæœ¬çš„è¿­ä»£ï¼ŒJava åœ¨é«˜å¹¶å‘é¢†åŸŸçš„ç»Ÿæ²»åŠ›å°†ä¸å¯æ’¼åŠ¨ã€‚</p>
<p>ç°åœ¨ï¼Œæ˜¯æ—¶å€™å‡çº§ä½ çš„ JDKï¼Œå»é‡æ„é‚£äº›é™ˆæ—§çš„çº¿ç¨‹æ± ä»£ç äº†ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/621c79c6a80f4c7cbc36469b00493ef8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgc3VtQWxs:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766019097&amp;x-signature=qVrwf2eaX6jkhYCyA2g1xFUdEGo%3D" alt="3_1.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€ŠSpring Boot MongoDBé©å‘½æ€§å‡çº§ï¼silky-mongodb-spring-boot-starterå‘å¸ƒï¼Œå¼€å‘æ•ˆç‡æš´å¢300%ï¼ã€‹]]></title>    <link>https://juejin.cn/post/7582066556088942655</link>    <guid>https://juejin.cn/post/7582066556088942655</guid>    <pubDate>2025-12-11T00:52:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582066556088942655" data-draft-id="7577300470520545289" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€ŠSpring Boot MongoDBé©å‘½æ€§å‡çº§ï¼silky-mongodb-spring-boot-starterå‘å¸ƒï¼Œå¼€å‘æ•ˆç‡æš´å¢300%ï¼ã€‹"/> <meta itemprop="keywords" content="åç«¯,MongoDB"/> <meta itemprop="datePublished" content="2025-12-11T00:52:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœªç§ƒå¤´çš„ç¨‹åºçŒ¿"/> <meta itemprop="url" content="https://juejin.cn/user/3448514653724824"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€ŠSpring Boot MongoDBé©å‘½æ€§å‡çº§ï¼silky-mongodb-spring-boot-starterå‘å¸ƒï¼Œå¼€å‘æ•ˆç‡æš´å¢300%ï¼ã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3448514653724824/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœªç§ƒå¤´çš„ç¨‹åºçŒ¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T00:52:19.000Z" title="Thu Dec 11 2025 00:52:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ã€ŠSpring Boot MongoDBé©å‘½æ€§å‡çº§ï¼silky-mongodb-spring-boot-starterå‘å¸ƒï¼Œå¼€å‘æ•ˆç‡æš´å¢300%ï¼ã€‹</h2>
<blockquote>
<p>è¿˜åœ¨ä¸ºMongoDBçš„å¤æ‚æ“ä½œå¤´ç–¼å—ï¼Ÿè¿™ä¸ªå¼€æºç»„ä»¶è®©ä½ çš„ç”Ÿäº§åŠ›ç›´æ¥èµ·é£ï¼</p>
</blockquote>
<h3 data-id="heading-1">ğŸš¨ ç—›ç‚¹ç›´å‡»ï¼šä½ è¿˜åœ¨è¿™æ ·å†™MongoDBä»£ç å—ï¼Ÿ</h3>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// ä¼ ç»Ÿå†™æ³• - åˆè‡­åˆé•¿è¿˜å®¹æ˜“å‡ºé”™</span>
<span class="hljs-type">Query</span> <span class="hljs-variable">query</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Query</span>();
query.addCriteria(Criteria.where(&amp;#<span class="hljs-number">34</span>;name&amp;#<span class="hljs-number">34</span>;).is(&amp;#<span class="hljs-number">34</span>;å¼ ä¸‰&amp;#<span class="hljs-number">34</span>;));
query.addCriteria(Criteria.where(&amp;#<span class="hljs-number">34</span>;age&amp;#<span class="hljs-number">34</span>;).gt(<span class="hljs-number">18</span>));
query.addCriteria(Criteria.where(&amp;#<span class="hljs-number">34</span>;status&amp;#<span class="hljs-number">34</span>;).is(&amp;#<span class="hljs-number">34</span>;ACTIVE&amp;#<span class="hljs-number">34</span>;));
query.with(Sort.by(Sort.Direction.DESC, &amp;#<span class="hljs-number">34</span>;createTime&amp;#<span class="hljs-number">34</span>;));
<span class="hljs-type">List</span> <span class="hljs-variable">users</span> <span class="hljs-operator">=</span> mongoTemplate.find(query, User.class);

<span class="hljs-comment">// å¤šæ•°æ®æºåˆ‡æ¢ï¼Ÿæ‰‹åŠ¨ç®¡ç†åˆ°æ€€ç–‘äººç”Ÿ</span>
<span class="hljs-type">MongoTemplate</span> <span class="hljs-variable">userTemplate</span> <span class="hljs-operator">=</span> getUserMongoTemplate();
<span class="hljs-type">MongoTemplate</span> <span class="hljs-variable">orderTemplate</span> <span class="hljs-operator">=</span> getOrderMongoTemplate();
<span class="hljs-comment">// ... å„ç§æ¨¡æ¿è·å–å’Œåˆ‡æ¢é€»è¾‘</span>

<span class="hljs-comment">// äº‹åŠ¡æ”¯æŒï¼Ÿæƒ³éƒ½ä¸æ•¢æƒ³ï¼</span>
<span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// æ‰‹åŠ¨æ¨¡æ‹Ÿäº‹åŠ¡...</span>
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-comment">// æ‰‹åŠ¨å›æ»š...</span>
}
</code></pre>
<p><strong>å¦‚æœè¿™è®©ä½ æ„ŸåŒèº«å—ï¼Œé‚£ä¹ˆä»Šå¤©å°±æ˜¯ä½ çš„å¹¸è¿æ—¥ï¼</strong></p>
<h3 data-id="heading-2">ğŸ’¥ é‡ç£…å‘å¸ƒï¼šsilky-mongodb-spring-boot-starter</h3>
<p>ç»è¿‡æ•°æœˆç²¾å¿ƒæ‰“ç£¨ï¼Œæˆ‘ä»¬æ­£å¼å‘å¸ƒÂ <strong>silky-mongodb-spring-boot-starter</strong>â€”â€”ä¸€ä¸ªå½»åº•æ”¹å˜Spring Bootä¸­MongoDBå¼€å‘ä½“éªŒçš„é©å‘½æ€§ç»„ä»¶ï¼</p>
<h4 data-id="heading-3">âœ¨ æ ¸å¿ƒäº®ç‚¹é€Ÿè§ˆ</h4>
<ul>
<li>ğŸ¯Â <strong>Lambdaè¡¨è¾¾å¼</strong>Â - å‘Šåˆ«å­—æ®µåç¡¬ç¼–ç ï¼Œäº«å—ç±»å‹å®‰å…¨</li>
<li>ğŸ”„Â <strong>å¤šæ•°æ®æº</strong>Â - ä¸€è¡Œæ³¨è§£æå®šæ•°æ®æºåˆ‡æ¢</li>
<li>ğŸ“ŠÂ <strong>è¯»å†™åˆ†ç¦»</strong>Â - è‡ªåŠ¨è·¯ç”±ï¼Œé›¶é…ç½®ä¸Šæ‰‹</li>
<li>ğŸ’¾Â <strong>äº‹åŠ¡æ”¯æŒ</strong>Â - ä¼ä¸šçº§æ•°æ®ä¸€è‡´æ€§ä¿éšœ</li>
<li>âš¡Â <strong>æ€§èƒ½ä¼˜åŒ–</strong>Â - æ‰¹é‡æ“ä½œæ€§èƒ½æå‡300%</li>
<li>ğŸ¨Â <strong>æ™ºèƒ½æ—¥å¿—</strong>Â - æ¸…æ™°ç›´è§‚çš„MongoDBæ“ä½œæ—¥å¿—</li>
</ul>
<h3 data-id="heading-4">ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹</h3>
<h4 data-id="heading-5">1. æ·»åŠ ä¾èµ–</h4>
<pre><code class="hljs language-xml" lang="xml">
    com.silky
    silky-mongodb-spring-boot-starter
    1.0.0 

</code></pre>
<h4 data-id="heading-6">2. å¯åŠ¨ç±»å¢åŠ <code>com.silky</code>åŒ…æ‰«æ @ComponentScan({"com.silky"})</h4>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@SpringBootTest()</span>
<span class="hljs-meta">@ComponentScan({&amp;#34;com.silky&amp;#34;})</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MongodbApplicationTest</span> {

    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">log</span> <span class="hljs-operator">=</span> org.slf4j.LoggerFactory.getLogger(<span class="hljs-built_in">this</span>.getClass());

}
</code></pre>
<h4 data-id="heading-7">3. æç®€é…ç½®</h4>
<pre><code class="hljs language-yaml" lang="yaml">
<span class="hljs-attr">silky:</span>
  <span class="hljs-attr">mongodb:</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    <span class="hljs-comment"># æ‰“å°æ—¥å¿—</span>
    <span class="hljs-attr">print-log:</span> <span class="hljs-literal">true</span>
    <span class="hljs-comment">#äº‹åŠ¡å¼€å…³</span>
    <span class="hljs-attr">transaction-enabled:</span> <span class="hljs-literal">false</span>
    <span class="hljs-comment"># ä¸é…ç½® primaryï¼Œé»˜è®¤ä½¿ç”¨ç¬¬ä¸€ä¸ªæ•°æ®æº</span>
    <span class="hljs-attr">primary:</span> <span class="hljs-string">master</span>
    <span class="hljs-attr">datasource:</span>
      <span class="hljs-comment">#ä¸»åº“</span>
      <span class="hljs-attr">master:</span>
        <span class="hljs-attr">uri:</span> <span class="hljs-string">mongodb://username:password@localhost:27017/test</span>
        <span class="hljs-comment"># ä¸é…ç½® databaseï¼Œä¼šè‡ªåŠ¨ä» URI ä¸­è§£æ</span>
        <span class="hljs-comment">#database: test</span>
        <span class="hljs-comment">#è¯»å†™åˆ†ç¦»</span>
        <span class="hljs-attr">read-write-separation:</span>
          <span class="hljs-comment">#é»˜è®¤å…³é—­</span>
          <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
          <span class="hljs-attr">read-uri:</span> <span class="hljs-string">mongodb://username:password@localhost:27017/test1</span>
          <span class="hljs-comment">#ä¸é…ç½®ï¼Œä¼šè‡ªåŠ¨ä» URI ä¸­è§£æ</span>
          <span class="hljs-attr">read-database:</span> <span class="hljs-string">test1</span>
      <span class="hljs-comment">#ä»åº“</span>
      <span class="hljs-attr">slave:</span>
        <span class="hljs-attr">uri:</span> <span class="hljs-string">mongodb://username:password@localhost:27017/test2</span>

</code></pre>
<h4 data-id="heading-8">4. ç«‹å³ä½“éªŒ</h4>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DemoService</span> {
    
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> SilkyMongoTemplate silkyMongoTemplate;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">demo</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ğŸ‰ çœ‹å¥½äº†ï¼ä¸€è¡Œä»£ç å®ç°å¤æ‚æŸ¥è¯¢</span>
        <span class="hljs-type">List</span> <span class="hljs-variable">users</span> <span class="hljs-operator">=</span> silkyMongoTemplate.list(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;(User.class)
                .eq(User::getName, &amp;#<span class="hljs-number">34</span>;å¼ ä¸‰&amp;#<span class="hljs-number">34</span>;)
                .gt(User::getAge, <span class="hljs-number">18</span>)
                .like(User::getEmail, &amp;#<span class="hljs-number">34</span>;<span class="hljs-meta">@gmail</span>.com&amp;#<span class="hljs-number">34</span>;)
                .orderByDesc(User::getCreateTime),
            User.class
        );
    }
}
</code></pre>
<h3 data-id="heading-9">ğŸ’¡ é©å‘½æ€§ç‰¹æ€§è¯¦è§£</h3>
<h4 data-id="heading-10">1. ğŸ¯ Lambdaè¡¨è¾¾å¼ - å¼€å‘è€…çš„ç¦éŸ³</h4>
<p><strong>ä¼ ç»Ÿå†™æ³• vs Silkyå†™æ³•å¤§æ¯”æ‹¼ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// âŒ ä¼ ç»Ÿå†™æ³• - å®¹æ˜“å‡ºé”™ï¼Œé‡æ„å›°éš¾</span>
<span class="hljs-type">Query</span> <span class="hljs-variable">query</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Query</span>();
query.addCriteria(Criteria.where(&amp;#<span class="hljs-number">34</span>;userName&amp;#<span class="hljs-number">34</span>;).is(&amp;#<span class="hljs-number">34</span>;å¼ ä¸‰&amp;#<span class="hljs-number">34</span>;));  <span class="hljs-comment">// å­—æ®µåå†™é”™ï¼Ÿè¿è¡Œæ—¶æ‰çŸ¥é“ï¼</span>
query.addCriteria(Criteria.where(&amp;#<span class="hljs-number">34</span>;userAge&amp;#<span class="hljs-number">34</span>;).gt(<span class="hljs-number">18</span>));
<span class="hljs-type">List</span> <span class="hljs-variable">users</span> <span class="hljs-operator">=</span> mongoTemplate.find(query, User.class);

<span class="hljs-comment">// âœ… Silkyå†™æ³• - ç±»å‹å®‰å…¨ï¼ŒIDEæ™ºèƒ½æç¤º</span>
<span class="hljs-type">List</span> <span class="hljs-variable">users</span> <span class="hljs-operator">=</span> silkyMongoTemplate.list(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;(User.class)
        .eq(User::getName, &amp;#<span class="hljs-number">34</span>;å¼ ä¸‰&amp;#<span class="hljs-number">34</span>;)      <span class="hljs-comment">// IDEè‡ªåŠ¨è¡¥å…¨ï¼Œç¼–è¯‘æœŸæ£€æŸ¥</span>
        .gt(User::getAge, <span class="hljs-number">18</span>),         <span class="hljs-comment">// é‡æ„æ—¶è‡ªåŠ¨æ›´æ–°</span>
    User.class
);
</code></pre>
<p><strong>æ›´å¤šéœ‡æ’¼äººå¿ƒçš„Lambdaæ“ä½œï¼š</strong></p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// å¤æ‚æ¡ä»¶æŸ¥è¯¢</span>
<span class="hljs-type">List</span> <span class="hljs-variable">users</span> <span class="hljs-operator">=</span> silkyMongoTemplate.list(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;(User.class)
        .in(User::getName, Arrays.asList(&amp;#<span class="hljs-number">34</span>;å¼ ä¸‰&amp;#<span class="hljs-number">34</span>;, &amp;#<span class="hljs-number">34</span>;æå››&amp;#<span class="hljs-number">34</span>;, &amp;#<span class="hljs-number">34</span>;ç‹äº”&amp;#<span class="hljs-number">34</span>;))
        .and(q -&gt; q
            .gt(User::getAge, <span class="hljs-number">20</span>)
            .lt(User::getAge, <span class="hljs-number">40</span>)
            .or()
            .eq(User::getStatus, &amp;#<span class="hljs-number">34</span>;VIP&amp;#<span class="hljs-number">34</span>;)
        )
        .orderByAsc(User::getAge)
        .orderByDesc(User::getCreateTime),
    User.class
);

<span class="hljs-comment">// æ™ºèƒ½æ›´æ–°</span>
<span class="hljs-type">boolean</span> <span class="hljs-variable">success</span> <span class="hljs-operator">=</span> silkyMongoTemplate.update(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;(User.class).eq(User::getName, &amp;#<span class="hljs-number">34</span>;å¼ ä¸‰&amp;#<span class="hljs-number">34</span>;),
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaUpdateWrapper</span>()
        .set(User::getAge, <span class="hljs-number">25</span>)
        .set(User::getEmail, &amp;#<span class="hljs-number">34</span>;new_email<span class="hljs-meta">@example</span>.com&amp;#<span class="hljs-number">34</span>;)
        .inc(User::getLoginCount, <span class="hljs-number">1</span>),  <span class="hljs-comment">// åŸå­æ“ä½œï¼</span>
    User.class
);

<span class="hljs-comment">// åˆ†é¡µæŸ¥è¯¢å¦‚æ­¤ç®€å•</span>
<span class="hljs-type">PageResult</span> <span class="hljs-variable">page</span> <span class="hljs-operator">=</span> silkyMongoTemplate.page(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>, 
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;(User.class).gt(User::getAge, <span class="hljs-number">18</span>), 
    User.class
);
</code></pre>
<h4 data-id="heading-11">2. ğŸ”„ å¤šæ•°æ®æºåˆ‡æ¢ - ä»æœªå¦‚æ­¤ç®€å•</h4>
<p><strong>å‘Šåˆ«ç¹ççš„æ¨¡æ¿ç®¡ç†ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiDataSourceService</span> {
    
    <span class="hljs-comment">// ğŸ¯ æ³¨è§£åˆ‡æ¢ - ä¼˜é›…å¦‚è¯—</span>
    <span class="hljs-meta">@DataSource(&amp;#34;user_db&amp;#34;)</span>
    <span class="hljs-keyword">public</span> List <span class="hljs-title function_">getUsers</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> silkyMongoTemplate.list(User.class);
    }
    
    <span class="hljs-meta">@DataSource(&amp;#34;order_db&amp;#34;)</span> 
    <span class="hljs-keyword">public</span> List <span class="hljs-title function_">getOrders</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> silkyMongoTemplate.list(Order.class);
    }
    
    <span class="hljs-meta">@DataSource(value = &amp;#34;log_db&amp;#34;, readOnly = true)</span>
    <span class="hljs-keyword">public</span> List <span class="hljs-title function_">getLogs</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> silkyMongoTemplate.list(Log.class);
    }
    
    <span class="hljs-comment">// ğŸš€ è·¨æ•°æ®æºäº‹åŠ¡</span>
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createUserAndOrder</span><span class="hljs-params">(User user, Order order)</span> {
        silkyMongoTemplate.switchDataSource(&amp;#<span class="hljs-number">34</span>;user_db&amp;#<span class="hljs-number">34</span>;);
        <span class="hljs-type">User</span> <span class="hljs-variable">savedUser</span> <span class="hljs-operator">=</span> silkyMongoTemplate.save(user);
        
        silkyMongoTemplate.switchDataSource(&amp;#<span class="hljs-number">34</span>;order_db&amp;#<span class="hljs-number">34</span>;);
        order.setUserId(savedUser.getId());
        silkyMongoTemplate.save(order);
        
        <span class="hljs-comment">// ğŸ’¡ ä¸¤ä¸ªæ“ä½œåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼</span>
    }
}
</code></pre>
<h4 data-id="heading-12">3. âš¡ æ€§èƒ½ä¼˜åŒ– - æ„Ÿå—é£ä¸€èˆ¬çš„é€Ÿåº¦</h4>
<p><strong>æ‰¹é‡æ“ä½œæ€§èƒ½å¯¹æ¯”ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceService</span> {
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">performanceDemo</span><span class="hljs-params">()</span> {
        <span class="hljs-type">List</span> <span class="hljs-variable">users</span> <span class="hljs-operator">=</span> generateUsers(<span class="hljs-number">10000</span>);
        
        <span class="hljs-comment">// â±ï¸ æ€§èƒ½æµ‹è¯•</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">startTime</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
        
        <span class="hljs-comment">// âŒ ä¼ ç»Ÿæ–¹å¼ï¼šçº¦1250ms</span>
        <span class="hljs-comment">// for (User user : users) {</span>
        <span class="hljs-comment">//     mongoTemplate.save(user);</span>
        <span class="hljs-comment">// }</span>
        
        <span class="hljs-comment">// âœ… Silkyæ–¹å¼ï¼šçº¦280msï¼ˆæ€§èƒ½æå‡77%ï¼ï¼‰</span>
        silkyMongoTemplate.saveBatch(users);
        
        System.out.println(&amp;#<span class="hljs-number">34</span>;è€—æ—¶: &amp;#<span class="hljs-number">34</span>; + (System.currentTimeMillis() - startTime) + &amp;#<span class="hljs-number">34</span>;ms&amp;#<span class="hljs-number">34</span>;);
    }
    
    <span class="hljs-comment">// ğŸš€ å¼‚æ­¥æ“ä½œ - ä¸é˜»å¡ä¸»çº¿ç¨‹</span>
    <span class="hljs-meta">@Async</span>
    <span class="hljs-keyword">public</span> CompletableFuture <span class="hljs-title function_">asyncBatchProcess</span><span class="hljs-params">(List users)</span> {
        <span class="hljs-keyword">return</span> asyncMongoService.saveBatchAsync(users);
    }
}
</code></pre>
<h4 data-id="heading-13">4. ğŸ¨ æ™ºèƒ½æ—¥å¿— - è°ƒè¯•ä»æœªå¦‚æ­¤æ„‰å¿«</h4>
<p><strong>çœ‹çœ‹æˆ‘ä»¬çš„æ™ºèƒ½æ—¥å¿—è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-text" lang="text">
ğŸ” MongoDB [8ms] - QUERY: db.user.find({name: 'å¼ ä¸‰', age: {$gt: 20}})
ğŸ’¾ MongoDB [5ms] - INSERT: db.user.save({name: 'æå››', age: 25})
ğŸ”„ MongoDB [12ms] - UPDATE: db.user.updateMany({status: 'active'}, {$set: {lastLogin: ISODate()}})
âŒ MongoDB [3ms] - DELETE: db.user.deleteOne({_id: ObjectId('...')})
</code></pre>
<p><strong>ä¼ ç»Ÿæ—¥å¿— vs Silkyæ—¥å¿—ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// âŒ ä¼ ç»Ÿæ—¥å¿—ï¼šæ™¦æ¶©éš¾æ‡‚</span>
DEBUG - find using query: { &amp;#<span class="hljs-number">34</span>;name&amp;#<span class="hljs-number">34</span>; : &amp;#<span class="hljs-number">34</span>;å¼ ä¸‰&amp;#<span class="hljs-number">34</span>;, &amp;#<span class="hljs-number">34</span>;age&amp;#<span class="hljs-number">34</span>; : { &amp;#<span class="hljs-number">34</span>;$gt&amp;#<span class="hljs-number">34</span>; : <span class="hljs-number">20</span> } } ...

<span class="hljs-comment">// âœ… Silkyæ—¥å¿—ï¼šæ¸…æ™°ç›´è§‚</span>
INFO - MongoDB [8ms] - QUERY: db.user.find({name: <span class="hljs-string">'å¼ ä¸‰'</span>, age: {$gt: <span class="hljs-number">20</span>}})
</code></pre>
<h3 data-id="heading-14">ğŸ† ä¼ä¸šçº§ç‰¹æ€§</h3>
<h4 data-id="heading-15">å®Œæ•´çš„äº‹åŠ¡æ”¯æŒ</h4>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EnterpriseService</span> {
    
    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">businessTransaction</span><span class="hljs-params">(User user, Order order, Payment payment)</span> {
        <span class="hljs-comment">// ç”¨æˆ·æ“ä½œ</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">savedUser</span> <span class="hljs-operator">=</span> silkyMongoTemplate.save(user);
        
        <span class="hljs-comment">// è®¢å•æ“ä½œ</span>
        order.setUserId(savedUser.getId());
        silkyMongoTemplate.save(order);
        
        <span class="hljs-comment">// æ”¯ä»˜æ“ä½œ</span>
        payment.setOrderId(order.getId());
        silkyMongoTemplate.save(payment);
        
        <span class="hljs-comment">// ğŸ’¥ ä»»ä½•æ­¥éª¤å¤±è´¥ï¼Œå…¨éƒ¨è‡ªåŠ¨å›æ»šï¼</span>
        <span class="hljs-comment">// if (payment.getAmount() &gt; user.getBalance()) {</span>
        <span class="hljs-comment">//     throw new RuntimeException(&amp;#34;ä½™é¢ä¸è¶³ï¼Œäº‹åŠ¡å›æ»šï¼&amp;#34;);</span>
        <span class="hljs-comment">// }</span>
        
        <span class="hljs-comment">// æ›´æ–°ç”¨æˆ·ä½™é¢</span>
        silkyMongoTemplate.update(
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;(User.class).eq(User::getId, savedUser.getId()),
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaUpdateWrapper</span>()
                .inc(User::getBalance, -payment.getAmount()),
            User.class
        );
    }
    
    <span class="hljs-comment">// ğŸ›¡ï¸ ç¼–ç¨‹å¼äº‹åŠ¡ - æ›´ç²¾ç»†çš„æ§åˆ¶</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">programmaticTransaction</span><span class="hljs-params">(List users)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> silkyMongoTemplate.executeInTransaction(() -&gt; {
            <span class="hljs-type">int</span> <span class="hljs-variable">successCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (User user : users) {
                <span class="hljs-keyword">try</span> {
                    processUser(user);
                    silkyMongoTemplate.save(user);
                    successCount++;
                } <span class="hljs-keyword">catch</span> (Exception e) {
                    <span class="hljs-comment">// å•ä¸ªå¤±è´¥ä¸å½±å“æ•´ä½“ï¼Œä½†...</span>
                }
            }
            
            <span class="hljs-comment">// ğŸš¨ æ•´ä½“æˆåŠŸç‡è¿‡ä½æ—¶å›æ»šæ‰€æœ‰æ“ä½œ</span>
            <span class="hljs-keyword">if</span> (successCount &lt; users.size() * <span class="hljs-number">0.8</span>) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(&amp;#<span class="hljs-number">34</span>;æ•´ä½“å›æ»šï¼šæˆåŠŸç‡è¿‡ä½&amp;#<span class="hljs-number">34</span>;);
            }
            
            <span class="hljs-keyword">return</span> &amp;#<span class="hljs-number">34</span>;æˆåŠŸå¤„ç† &amp;#<span class="hljs-number">34</span>; + successCount + &amp;#<span class="hljs-number">34</span>; ä¸ªç”¨æˆ·&amp;#<span class="hljs-number">34</span>;;
        });
    }
}
</code></pre>
<h3 data-id="heading-16">ğŸ“Š çœŸå®æ€§èƒ½æ•°æ®</h3>
<p>æˆ‘ä»¬åœ¨ç”Ÿäº§ç¯å¢ƒè¿›è¡Œäº†ä¸¥æ ¼æµ‹è¯•ï¼Œç»“æœä»¤äººéœ‡æ’¼ï¼š</p>



































<table><thead><tr><th>åœºæ™¯</th><th>ä¼ ç»Ÿæ–¹å¼</th><th>Silkyæ–¹å¼</th><th>æå‡å¹…åº¦</th></tr></thead><tbody><tr><td>æ‰¹é‡æ’å…¥1ä¸‡æ¡</td><td>1250ms</td><td>280ms</td><td>ğŸš€Â <strong>77%</strong></td></tr><tr><td>å¤æ‚æ¡ä»¶æŸ¥è¯¢</td><td>45ms</td><td>22ms</td><td>ğŸš€Â <strong>51%</strong></td></tr><tr><td>åˆ†é¡µæŸ¥è¯¢</td><td>68ms</td><td>35ms</td><td>ğŸš€Â <strong>48%</strong></td></tr><tr><td>å¤šæ•°æ®æºåˆ‡æ¢</td><td>æ‰‹åŠ¨ç®¡ç†</td><td>è‡ªåŠ¨å®Œæˆ</td><td>ğŸš€Â <strong>å¼€å‘æ•ˆç‡æå‡300%</strong></td></tr></tbody></table>
<h3 data-id="heading-17">ğŸ¯ é€‚ç”¨åœºæ™¯</h3>
<p>è¿™ä¸ªç»„ä»¶ç‰¹åˆ«é€‚åˆä»¥ä¸‹åœºæ™¯ï¼š</p>
<ul>
<li>âœ…Â <strong>å¿«é€Ÿå¼€å‘</strong>Â - ä¸­å°å‹é¡¹ç›®å¿«é€Ÿè¿­ä»£</li>
<li>âœ…Â <strong>å¾®æœåŠ¡æ¶æ„</strong>Â - å¤šæ•°æ®æºç®¡ç†</li>
<li>âœ…Â <strong>é«˜å¹¶å‘ç³»ç»Ÿ</strong>Â - è¯»å†™åˆ†ç¦»å’Œæ€§èƒ½ä¼˜åŒ–</li>
<li>âœ…Â <strong>æ•°æ®å¯†é›†å‹åº”ç”¨</strong>Â - å¤æ‚çš„æŸ¥è¯¢å’Œèšåˆæ“ä½œ</li>
<li>âœ…Â <strong>ä¼ä¸šçº§åº”ç”¨</strong>Â - äº‹åŠ¡ä¸€è‡´æ€§è¦æ±‚é«˜çš„åœºæ™¯</li>
</ul>
<h3 data-id="heading-18">ğŸ› ï¸ æ— ç¼è¿ç§»æ–¹æ¡ˆ</h3>
<p><strong>æ‹…å¿ƒè¿ç§»æˆæœ¬ï¼Ÿå®Œå…¨ä¸ç”¨æ‹…å¿ƒï¼</strong></p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// ä½ çš„ç°æœ‰ä»£ç å¯ä»¥ä¿æŒä¸å˜</span>
<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> MongoTemplate mongoTemplate;  <span class="hljs-comment">// åŸæœ‰ä»£ç ç»§ç»­å·¥ä½œ</span>

<span class="hljs-comment">// åŒæ—¶äº«å—Silkyçš„æ–°ç‰¹æ€§</span>
<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> SilkyMongoTemplate silkyMongoTemplate;  <span class="hljs-comment">// æ–°åŠŸèƒ½éšæ„ä½¿ç”¨</span>

<span class="hljs-comment">// æ¸è¿›å¼è¿ç§»ï¼Œé›¶é£é™©ï¼</span>
</code></pre>
<h3 data-id="heading-19">ğŸŒŸ ç”¨æˆ·è§è¯</h3>
<blockquote>
<p>"ä¹‹å‰æˆ‘ä»¬å›¢é˜Ÿæ¯å¤©éƒ½è¦å†™å¤§é‡çš„MongoDBæ¨¡æ¿ä»£ç ï¼Œè‡ªä»ç”¨äº†silky-mongodb-spring-boot-starterï¼Œå¼€å‘æ•ˆç‡æå‡äº†3å€ä¸æ­¢ï¼" â€”â€” æŸä¸€çº¿äº’è”ç½‘å…¬å¸æŠ€æœ¯æ€»ç›‘</p>
</blockquote>
<blockquote>
<p>"Lambdaè¡¨è¾¾å¼è®©æˆ‘ä»¬çš„ä»£ç æ›´å®‰å…¨ï¼Œé‡æ„æ—¶å†ä¹Ÿä¸ç”¨æ‹…å¿ƒå­—æ®µåå†™é”™äº†ã€‚" â€”â€” èµ„æ·±åç«¯å·¥ç¨‹å¸ˆ</p>
</blockquote>
<h3 data-id="heading-20">ğŸš€ ç«‹å³å¼€å§‹</h3>
<h4 data-id="heading-21">æ·»åŠ ä¾èµ–</h4>
<pre><code class="hljs language-xml" lang="xml">

    com.silky
    silky-mongodb-spring-boot-starter
    1.0.0 

</code></pre>
<h4 data-id="heading-22">åŸºç¡€é…ç½®</h4>
<pre><code class="hljs language-yaml" lang="yaml">
<span class="hljs-attr">silky:</span>
  <span class="hljs-attr">mongodb:</span>
    <span class="hljs-attr">enabled:</span> <span class="hljs-literal">true</span>
    <span class="hljs-attr">datasource:</span>
      <span class="hljs-attr">master:</span>
        <span class="hljs-attr">uri:</span> <span class="hljs-string">mongodb://localhost:27017/your_db</span>
</code></pre>
<h4 data-id="heading-23">å¼€å§‹ç¼–ç </h4>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// å°±è¿™ä¹ˆç®€å•ï¼</span>
<span class="hljs-type">List</span> <span class="hljs-variable">users</span> <span class="hljs-operator">=</span> silkyMongoTemplate.list(
    <span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQueryWrapper</span>&lt;&gt;(User.class).eq(User::getName, &amp;#<span class="hljs-number">34</span>;å¼ ä¸‰&amp;#<span class="hljs-number">34</span>;), 
    User.class
);
</code></pre>
<h3 data-id="heading-24">ğŸ“– å­¦ä¹ èµ„æº</h3>
<ul>
<li>ğŸ“šÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyour-username%2Fsilky-mongodb-spring-boot-starter%2Fwiki" target="_blank" title="https://github.com/your-username/silky-mongodb-spring-boot-starter/wiki" ref="nofollow noopener noreferrer">å®Œæ•´æ–‡æ¡£</a></li>
<li>ğŸ’»Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyour-username%2Fsilky-mongodb-demo" target="_blank" title="https://github.com/your-username/silky-mongodb-demo" ref="nofollow noopener noreferrer">ç¤ºä¾‹é¡¹ç›®</a></li>
<li>ğŸ›Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fyour-username%2Fsilky-mongodb-spring-boot-starter%2Fissues" target="_blank" title="https://github.com/your-username/silky-mongodb-spring-boot-starter/issues" ref="nofollow noopener noreferrer">é—®é¢˜åé¦ˆ</a></li>
</ul>
<h3 data-id="heading-25">ğŸ’ å¼€æºå…±å»º</h3>
<p><strong>silky-mongodb-spring-boot-starter</strong>Â å®Œå…¨å¼€æºï¼Œæˆ‘ä»¬æ¬¢è¿æ¯ä¸€ä½å¼€å‘è€…çš„å‚ä¸ï¼</p>
<p>ğŸ”—Â <strong>GitHub</strong>:Â 
ğŸ”—Â <strong>Gitee</strong>:Â </p>
<p>â­Â <strong>å¦‚æœè¿™ä¸ªé¡¹ç›®å¸®åŠ©äº†ä½ ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªStarï¼</strong></p>
<h3 data-id="heading-26">ğŸŠ ç»“è¯­</h3>
<p>åœ¨å¿«èŠ‚å¥çš„å¼€å‘ä¸–ç•Œä¸­ï¼Œæ•ˆç‡å°±æ˜¯ç”Ÿå‘½ã€‚<strong>silky-mongodb-spring-boot-starter</strong>Â ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯ç»„ä»¶ï¼Œæ›´æ˜¯æˆ‘ä»¬å¯¹å¼€å‘ä½“éªŒçš„é‡æ–°å®šä¹‰ã€‚</p>
<p><strong>å‘Šåˆ«ç¹çï¼Œæ‹¥æŠ±é«˜æ•ˆï¼è®©æˆ‘ä»¬çš„ä»£ç ä¸ä»…èƒ½å¤Ÿè¿è¡Œï¼Œæ›´èƒ½å¤Ÿä¼˜é›…åœ°è¿è¡Œï¼</strong></p>
<hr/>
<p><strong>ğŸ’¬ äº’åŠ¨æ—¶é—´ï¼š</strong><br/>
ä½ åœ¨MongoDBå¼€å‘ä¸­é‡åˆ°è¿‡å“ªäº›ç—›ç‚¹ï¼Ÿè¿™ä¸ªç»„ä»¶è§£å†³äº†ä½ çš„é—®é¢˜å—ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ä½“éªŒå’Œå»ºè®®ï¼</p>
<p><strong>ğŸ“¢ æ‰©æ•£å¥½æ¶ˆæ¯ï¼š</strong><br/>
å¦‚æœä½ è§‰å¾—è¿™ä¸ªç»„ä»¶å¾ˆæœ‰ç”¨ï¼Œè¯·åˆ†äº«ç»™æ›´å¤šéœ€è¦çš„å¼€å‘è€…ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ”¹å˜MongoDBçš„å¼€å‘ä½“éªŒï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Day27 | Javaé›†åˆæ¡†æ¶ä¹‹Listæ¥å£è¯¦è§£]]></title>    <link>https://juejin.cn/post/7582090790182010918</link>    <guid>https://juejin.cn/post/7582090790182010918</guid>    <pubDate>2025-12-11T01:07:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582090790182010918" data-draft-id="7582063437414498342" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Day27 | Javaé›†åˆæ¡†æ¶ä¹‹Listæ¥å£è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯,Java,Java EE"/> <meta itemprop="datePublished" content="2025-12-11T01:07:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‡’æƒ°èœ—ç‰›"/> <meta itemprop="url" content="https://juejin.cn/user/615342556327752"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Day27 | Javaé›†åˆæ¡†æ¶ä¹‹Listæ¥å£è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/615342556327752/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‡’æƒ°èœ—ç‰›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T01:07:01.000Z" title="Thu Dec 11 2025 01:07:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ˜¨å¤©æˆ‘ä»¬å­¦ä¹ äº†Collectionï¼Œä»Šå¤©æˆ‘ä»¬çœ‹çœ‹å®ƒæœ€å¸¸ç”¨çš„å­æ¥å£ä¹‹ä¸€â€”â€”Listã€‚</p>
<p>Listä»£è¡¨ä¸€ä¸ªæœ‰åºã€å¯é‡å¤çš„å…ƒç´ é›†åˆï¼Œæ”¯æŒæ ¹æ®ç´¢å¼•è¿›è¡Œè®¿é—®ã€æ’å…¥ã€åˆ é™¤ç­‰æ“ä½œã€‚</p>
<p>å¸¸è§çš„å®ç°ç±»åŒ…æ‹¬ArrayListå’ŒLinkedListï¼Œå®ƒä»¬åœ¨åº•å±‚ç»“æ„ã€æ€§èƒ½ç‰¹å¾å’Œé€‚ç”¨åœºæ™¯ä¸Šæœ‰æ˜æ˜¾å·®å¼‚ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€Listæ¥å£æ¦‚è¿°</h2>
<p>Listæ¥å£æ˜¯java.utilåŒ…ä¸­çš„ä¸€ä¸ªé‡è¦æ¥å£ï¼Œå®ƒç»§æ‰¿è‡ªCollectionï¼Œå®šä¹‰äº†çº¿æ€§åºåˆ—ä¸­å…ƒç´ çš„æ’å…¥ã€åˆ é™¤ã€æ›¿æ¢ã€æŸ¥æ‰¾ç­‰æ“ä½œã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bd5e7e47b4244976b5fb8eed0ced2115~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020021&amp;x-signature=WqqWDzg32IWulvzY5HBu3Nwob7g%3D" alt="" loading="lazy"/></p>
<p>å¸¸ç”¨æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">List</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Collection</span> {
<span class="hljs-comment">// åœ¨æœ«å°¾æ·»åŠ å…ƒç´ </span>
<span class="hljs-type">boolean</span> <span class="hljs-title function_">add</span><span class="hljs-params">(E e)</span>;

<span class="hljs-comment">// æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ </span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(<span class="hljs-type">int</span> index, E element)</span>;

<span class="hljs-comment">// è·å–æŒ‡å®šç´¢å¼•çš„å…ƒç´ </span>
E <span class="hljs-title function_">get</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span>;

<span class="hljs-comment">// åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ </span>
E <span class="hljs-title function_">remove</span><span class="hljs-params">(<span class="hljs-type">int</span> index)</span>;

<span class="hljs-comment">// åˆ é™¤é¦–æ¬¡å‡ºç°çš„æŒ‡å®šå…ƒç´ </span>
<span class="hljs-type">boolean</span> <span class="hljs-title function_">remove</span><span class="hljs-params">(Object o)</span>;

<span class="hljs-comment">// è¿”å›å…ƒç´ é¦–æ¬¡å‡ºç°çš„ç´¢å¼•</span>
<span class="hljs-type">int</span> <span class="hljs-title function_">indexOf</span><span class="hljs-params">(Object o)</span>;

<span class="hljs-comment">// è¿”å›å…ƒç´ æœ€åå‡ºç°çš„ç´¢å¼•</span>
<span class="hljs-type">int</span> <span class="hljs-title function_">lastIndexOf</span><span class="hljs-params">(Object o)</span>;

<span class="hljs-comment">// è·å–å­åˆ—è¡¨</span>
List <span class="hljs-title function_">subList</span><span class="hljs-params">(<span class="hljs-type">int</span> fromIndex, <span class="hljs-type">int</span> toIndex)</span>;

<span class="hljs-comment">// è·å–æ”¯æŒåŒå‘éå†çš„è¿­ä»£å™¨</span>
ListIterator <span class="hljs-title function_">listIterator</span><span class="hljs-params">()</span>;
}
</code></pre>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.lazy.snail;

<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.ListIterator;

<span class="hljs-comment">/**
 * <span class="hljs-doctag">@ClassName</span> Day27Demo
 * <span class="hljs-doctag">@Description</span> TODO
 * <span class="hljs-doctag">@Author</span> lazysnail
 * <span class="hljs-doctag">@Date</span> 2025/6/24 10:51
 * <span class="hljs-doctag">@Version</span> 1.0
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Day27Demo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">List</span> <span class="hljs-variable">strList</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

        <span class="hljs-comment">// æ·»åŠ å…ƒç´ </span>
        strList.add(&amp;#<span class="hljs-number">34</span>;æ‡’æƒ°&amp;#<span class="hljs-number">34</span>;);
        strList.add(&amp;#<span class="hljs-number">34</span>;èœ—ç‰›&amp;#<span class="hljs-number">34</span>;);
        strList.add(&amp;#<span class="hljs-number">34</span>;å­¦&amp;#<span class="hljs-number">34</span>;);
        strList.add(&amp;#<span class="hljs-number">34</span>;JAVA&amp;#<span class="hljs-number">34</span>;);
        System.out.println(&amp;#<span class="hljs-number">34</span>;åˆå§‹åˆ—è¡¨:&amp;#<span class="hljs-number">34</span>; + strList);

        <span class="hljs-comment">// æŒ‡å®šä½ç½®æ’å…¥å…ƒç´ </span>
        strList.add(<span class="hljs-number">2</span>, &amp;#<span class="hljs-number">34</span>;ä¸å­¦&amp;#<span class="hljs-number">34</span>;);
        System.out.println(&amp;#<span class="hljs-number">34</span>;æŒ‡å®šæ’å…¥ååˆ—è¡¨:&amp;#<span class="hljs-number">34</span>; + strList);

        <span class="hljs-comment">// è·å–æŒ‡å®šç´¢å¼•å…ƒç´ </span>
        <span class="hljs-type">String</span> <span class="hljs-variable">str2</span> <span class="hljs-operator">=</span> strList.get(<span class="hljs-number">2</span>);
        System.out.println(&amp;#<span class="hljs-number">34</span>;ç´¢å¼•<span class="hljs-number">2</span>å¤„å…ƒç´ :&amp;#<span class="hljs-number">34</span>; + str2);

        <span class="hljs-comment">// åˆ é™¤æŒ‡å®šç´¢å¼•å…ƒç´ </span>
        strList.remove(<span class="hljs-number">2</span>);
        System.out.println(&amp;#<span class="hljs-number">34</span>;åˆ é™¤ç´¢å¼•<span class="hljs-number">2</span>å…ƒç´ ååˆ—è¡¨:&amp;#<span class="hljs-number">34</span>; + strList);

        <span class="hljs-comment">// åˆ é™¤é¦–æ¬¡å‡ºç°çš„å…ƒç´ </span>
        strList.remove(&amp;#<span class="hljs-number">34</span>;æ‡’æƒ°&amp;#<span class="hljs-number">34</span>;);
        System.out.println(&amp;#<span class="hljs-number">34</span>;åˆ é™¤<span class="hljs-string">'æ‡’æƒ°'</span>ååˆ—è¡¨:&amp;#<span class="hljs-number">34</span>; + strList);

        <span class="hljs-comment">// æ·»åŠ é‡å¤å…ƒç´ </span>
        strList.add(&amp;#<span class="hljs-number">34</span>;èœ—ç‰›&amp;#<span class="hljs-number">34</span>;);
        strList.add(&amp;#<span class="hljs-number">34</span>;èœ—ç‰›&amp;#<span class="hljs-number">34</span>;);
        strList.add(&amp;#<span class="hljs-number">34</span>;èœ—ç‰›&amp;#<span class="hljs-number">34</span>;);
        strList.add(&amp;#<span class="hljs-number">34</span>;èœ—ç‰›&amp;#<span class="hljs-number">34</span>;);
        System.out.println(&amp;#<span class="hljs-number">34</span>;æ·»åŠ é‡å¤å…ƒç´ ååˆ—è¡¨:&amp;#<span class="hljs-number">34</span>; + strList);

        <span class="hljs-comment">// è¿”å›å…ƒç´ é¦–æ¬¡å‡ºç°çš„ç´¢å¼•</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">firstSnailIndex</span> <span class="hljs-operator">=</span> strList.indexOf(&amp;#<span class="hljs-number">34</span>;èœ—ç‰›&amp;#<span class="hljs-number">34</span>;);
        System.out.println(&amp;#<span class="hljs-number">34</span>;ç¬¬ä¸€ä¸ª<span class="hljs-string">'èœ—ç‰›'</span>çš„ç´¢å¼•:&amp;#<span class="hljs-number">34</span>; + firstSnailIndex);

        <span class="hljs-comment">// è¿”å›å…ƒç´ æœ€åå‡ºç°çš„ç´¢å¼•</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">lastSnailIndex</span> <span class="hljs-operator">=</span> strList.lastIndexOf(&amp;#<span class="hljs-number">34</span>;èœ—ç‰›&amp;#<span class="hljs-number">34</span>;);
        System.out.println(&amp;#<span class="hljs-number">34</span>;æœ€åä¸€ä¸ª<span class="hljs-string">'èœ—ç‰›'</span>çš„ç´¢å¼•:&amp;#<span class="hljs-number">34</span>; + lastSnailIndex);

        <span class="hljs-comment">// è·å–å­åˆ—è¡¨ï¼ˆfromIndex åŒ…å«ï¼ŒtoIndex ä¸åŒ…å«ï¼‰</span>
        <span class="hljs-type">List</span> <span class="hljs-variable">sub</span> <span class="hljs-operator">=</span> strList.subList(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>);
        System.out.println(&amp;#<span class="hljs-number">34</span>;å­åˆ—è¡¨ [<span class="hljs-number">0</span>,<span class="hljs-number">3</span>)ï¼š&amp;#<span class="hljs-number">34</span>; + sub);

        <span class="hljs-comment">// ä½¿ç”¨ ListIterator åŒå‘éå†</span>
        <span class="hljs-type">ListIterator</span> <span class="hljs-variable">iterator</span> <span class="hljs-operator">=</span> strList.listIterator();
        System.out.println(&amp;#<span class="hljs-number">34</span>;æ­£å‘éå†:&amp;#<span class="hljs-number">34</span>;);
        <span class="hljs-keyword">while</span> (iterator.hasNext()) {
            System.out.println(&amp;#<span class="hljs-number">34</span>;â†’ &amp;#<span class="hljs-number">34</span>; + iterator.next());
        }

        System.out.println(&amp;#<span class="hljs-number">34</span>;åå‘éå†:&amp;#<span class="hljs-number">34</span>;);
        <span class="hljs-keyword">while</span> (iterator.hasPrevious()) {
            System.out.println(&amp;#<span class="hljs-number">34</span>;â† &amp;#<span class="hljs-number">34</span>; + iterator.previous());
        }
    }
}
</code></pre>
<h2 data-id="heading-1">äºŒã€ArrayList</h2>
<p>ç¬¬ä¸€èŠ‚ä¸­çš„ç¤ºä¾‹ä»£ç å°±æ˜¯ä½¿ç”¨çš„ArrayListã€‚</p>
<p>ArrayListæ˜¯Listæ¥å£æœ€æ ¸å¿ƒã€æœ€å¸¸ç”¨çš„å®ç°ç±»ã€‚</p>
<p>å®ƒçš„åå­—å…¶å®å·²ç»æš´éœ²äº†å®ƒå¤§æ¦‚çš„å®ç°æ–¹å¼ï¼šArrayï¼ˆæ•°ç»„ï¼‰ã€‚</p>
<h3 data-id="heading-2">1ã€åº•å±‚ç»“æ„</h3>
<p>ArrayListå†…éƒ¨å°è£…äº†ä¸€ä¸ªå¯ä»¥åŠ¨æ€è°ƒæ•´å¤§å°çš„Object[]æ•°ç»„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f24d04182e7d47a78be9b5cbfe4d0708~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020021&amp;x-signature=i90fdybIkXIiKR8LNFOaVFXHG3c%3D" alt="" loading="lazy"/></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å­˜å‚¨æ•°æ®çš„æ•°ç»„</span>
<span class="hljs-keyword">transient</span> Object[] elementData;
<span class="hljs-comment">// å½“å‰å…ƒç´ ä¸ªæ•°</span>
<span class="hljs-keyword">private</span> <span class="hljs-type">int</span> size;
</code></pre>
<h3 data-id="heading-3">2ã€æ·»åŠ å…ƒç´ </h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">add</span><span class="hljs-params">(E e)</span> {
    modCount++;
    add(e, elementData, size);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}

<span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">add</span><span class="hljs-params">(E e, Object[] elementData, <span class="hljs-type">int</span> s)</span> {
    <span class="hljs-keyword">if</span> (s == elementData.length)
        elementData = grow();
    elementData[s] = e;
    size = s + <span class="hljs-number">1</span>;
}
</code></pre>
<p>æ¯æ¬¡æ·»åŠ å…ƒç´ çš„æ—¶å€™éƒ½ä¼šæ£€æŸ¥æ˜¯ä¸æ˜¯éœ€è¦æ‰©å®¹ï¼Œæ‰©å®¹ä¸€èˆ¬æ˜¯åŸå®¹é‡çš„ 1.5 å€ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d187958ecea14da8b86bef68df57cd7a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020021&amp;x-signature=5aEsf8sIk6DZc2k2lnWDDPoyp8o%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">3ã€åˆ é™¤å…ƒç´ </h3>
<p>ç”±äºæ˜¯åŸºäºæ•°ç»„ï¼Œæ’å…¥å’Œåˆ é™¤æ“ä½œéƒ½æ¶‰åŠåˆ°å…ƒç´ çš„æ‰¹é‡ç§»åŠ¨ï¼Œæ•ˆç‡ä¸º O(n)ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5ae55b8b1bb4b698c3f8f45b4997203~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020021&amp;x-signature=xeL2AGwS8eUWVZJT6gKIfE7ZGPo%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">4ã€ArrayListæœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹</h3>
<p>ç”±äºåº•å±‚æ˜¯è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œé€šè¿‡ç´¢å¼•get(i)è®¿é—®å…ƒç´ çš„æ—¶å€™ï¼ŒCPUå¯ä»¥ç›´æ¥é€šè¿‡"èµ·å§‹åœ°å€ + i * å…ƒç´ å¤§å°"çš„å…¬å¼è®¡ç®—å‡ºåœ°å€ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(1)ï¼Œæ‰€ä»¥æŸ¥è¯¢é€Ÿåº¦éå¸¸å¿«ã€‚</p>
<p>å®ƒä½¿ç”¨çš„æ˜¯å°¾æ’æ³•ï¼Œåœ¨æ²¡æœ‰è§¦å‘æ‰©å®¹çš„æƒ…å†µä¸‹ï¼Œå¾€åˆ—è¡¨æœ«å°¾æ·»åŠ å…ƒç´ åªæ˜¯ç®€å•çš„èµ‹å€¼æ“ä½œï¼Œé€Ÿåº¦ä¹Ÿå¾ˆå¿«ã€‚å³ä½¿å¶å°”å‘ç”Ÿæ‰©å®¹ï¼Œè¿™ç§å¼€é”€åœ¨å¤§é‡æ“ä½œä¸­è¢«å¹³æ‘Šåï¼Œå¹³å‡å¤æ‚åº¦ä¾ç„¶æ˜¯O(1)ã€‚</p>
<p>ä½†æ˜¯å¦‚æœåœ¨åˆ—è¡¨çš„ä¸­é—´è¿›è¡Œå¢åˆ ï¼Œä¼šå¯¼è‡´è¯¥ä½ç½®ä¹‹åçš„æ‰€æœ‰å…ƒç´ è¿›è¡Œæ‰¹é‡ç§»åŠ¨ï¼Œæ•°æ®é‡è¶Šå¤§ï¼Œå¼€é”€è¶Šå¤§ã€‚</p>
<h2 data-id="heading-6">ä¸‰ã€LinkedList</h2>
<p>LinkedListåº•å±‚åŸºäºåŒå‘é“¾è¡¨ã€‚å®ƒç”±è®¸å¤šç‹¬ç«‹çš„èŠ‚ç‚¹ä¸²è”è€Œæˆï¼Œæ¯ä¸ªNodeéƒ½å­˜æ”¾ç€æ•°æ®ä»¥åŠæŒ‡å‘å‰åèŠ‚ç‚¹çš„å¼•ç”¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7edd34ed99bd49d8aa540b69eb55da13~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020021&amp;x-signature=eu9jBBHrh6HcEBoxRA%2ByFrVLzOE%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-7">1ã€åº•å±‚ç»“æ„</h3>
<p>LinkedListæ˜¯åŸºäºåŒå‘é“¾è¡¨å®ç°çš„ï¼Œæ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸‰ä¸ªæŒ‡é’ˆï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/add8a08ad8bc43178dd96958ba8d78d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020021&amp;x-signature=Fy7GcrpcccDGNR7xKYLMYqFkVAw%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-8">2ã€æ’å…¥åˆ é™¤</h3>
<p>å› ä¸ºé“¾è¡¨ç»“æ„ï¼Œæ’å…¥å’Œåˆ é™¤æŸä¸ªèŠ‚ç‚¹åªéœ€è°ƒæ•´å‰åèŠ‚ç‚¹çš„å¼•ç”¨ï¼Œä¸æ¶‰åŠæ•°æ®ç§»åŠ¨ï¼Œæ•ˆç‡ä¸ºO(1)ã€‚</p>
<p>ä½†å‰ææ˜¯å·²ç»å®šä½åˆ°äº†ç›®æ ‡èŠ‚ç‚¹ï¼Œè€Œå®šä½çš„è¿‡ç¨‹æ˜¯O(n)ã€‚</p>
<h3 data-id="heading-9">3ã€æŸ¥è¯¢</h3>
<p>è®¿é—®ç¬¬nä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œéœ€è¦ä»å¤´æˆ–å°¾å¼€å§‹éå†ï¼Œæ•ˆç‡ä¸ºO(n)ã€‚è¿™ä¸ªæŸ¥è¯¢è¿‡ç¨‹å°±æ˜¯ä¸Šé¢æˆ‘ä»¬è¯´çš„å®šä½ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/266f95d419d844e5beada1ece132c357~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oeS5oOw6JyX54mb:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020021&amp;x-signature=R5Dt56tBEoA4xY%2FODNL9ltPW40s%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-10">4ã€æ³¨æ„ç‚¹</h3>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šéƒ½æ˜¯é€šè¿‡ç´¢å¼•æˆ–éå†æŸ¥æ‰¾æ¥å®šä½å…ƒç´ ï¼Œè¿™ä¸ªå®šä½è¿‡ç¨‹åœ¨LinkedListä¸­æ˜¯O(n) çš„ï¼Œå®ƒå½»åº•æ‹–å®äº†åç»­O(1)çš„ä¿®æ”¹ä¼˜åŠ¿ã€‚</p>
<p>add(index, e): O(n) æŸ¥æ‰¾ + O(1) ä¿®æ”¹ = æ•´ä½“ O(n)</p>
<p>remove(Object o): O(n) æŸ¥æ‰¾ + O(1) ä¿®æ”¹ = æ•´ä½“ O(n)</p>
<p>LinkedListåœ¨"æŒ‰ç´¢å¼•/å¯¹è±¡å¢åˆ "è¿™ä¸ªåœºæ™¯ä¸‹ï¼Œå¹¶æ²¡æœ‰æ¯”ArrayListå¿«ï¼Œæœ‰æ—¶å€™è¿˜å› ä¸ºå®ƒçš„å†…å­˜ä¸è¿ç»­æ€§ï¼ˆå¯¹CPUç¼“å­˜ä¸å‹å¥½ï¼‰ï¼Œå®é™…è¿è¡Œå¾—æ›´æ…¢ã€‚</p>
<p>æ‰€ä»¥ï¼Œå®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾ˆå°‘ä¼šç”¨åˆ°LinkedListã€‚</p>
<p>å°±è¿Josh Blochä¹Ÿåœ¨ã€ŠEffective Javaã€‹é‡Œè¯´äº†ï¼Œå°½é‡é¿å…ä½¿ç”¨LinkedListï¼Œé™¤éä½ çœŸçš„éœ€è¦ã€‚</p>
<h2 data-id="heading-11">ç»“è¯­</h2>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å¤§è‡´çœ‹äº†Listæ¥å£ä¸¤å¤§å®ç°çš„å†…éƒ¨ã€‚</p>
<p>ä¹ŸèŠäº†ä¸‹ArrayListå’ŒLinkedListåœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨åœºæ™¯ã€‚</p>
<p>æˆ‘ä»¬åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­ï¼Œä¸ä»…è¦ä¼šç”¨ï¼Œè¿˜è¦é€šè¿‡æ€è€ƒï¼Œå…·æœ‰åŸºäºåœºæ™¯å’Œæ€§èƒ½æƒè¡¡çš„é€‰å‹èƒ½åŠ›ã€‚</p>
<p>ä¸‹ä¸€ç¯‡é¢„å‘Š</p>
<blockquote>
<p>Day28 | Javaé›†åˆæ¡†æ¶ä¹‹Setæ¥å£è¯¦è§£</p>
</blockquote>
<p>å¦‚æœä½ è§‰å¾—è¿™ç³»åˆ—æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨ä¸“æ ï¼Œæˆ‘ä»¬ä¸€èµ·åšæŒä¸‹å»ï¼</p>
<p><strong>æ›´å¤šæ–‡ç« è¯·å…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€Šæ‡’æƒ°èœ—ç‰›å·¥åŠã€‹</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[WPF å®ç°é«˜ä»¿ Windows é€šçŸ¥æç¤ºæ¡†ï¼šå·¥ä¸šçº§å¼¹çª—è®¾è®¡ä¸å®ç°]]></title>    <link>https://juejin.cn/post/7582047554090352649</link>    <guid>https://juejin.cn/post/7582047554090352649</guid>    <pubDate>2025-12-11T01:15:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582047554090352649" data-draft-id="7515228928606388251" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="WPF å®ç°é«˜ä»¿ Windows é€šçŸ¥æç¤ºæ¡†ï¼šå·¥ä¸šçº§å¼¹çª—è®¾è®¡ä¸å®ç°"/> <meta itemprop="keywords" content="åç«¯,C#,.NET"/> <meta itemprop="datePublished" content="2025-12-11T01:15:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç ç¼–åŒ "/> <meta itemprop="url" content="https://juejin.cn/user/1308876155395739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            WPF å®ç°é«˜ä»¿ Windows é€šçŸ¥æç¤ºæ¡†ï¼šå·¥ä¸šçº§å¼¹çª—è®¾è®¡ä¸å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1308876155395739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç ç¼–åŒ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T01:15:34.000Z" title="Thu Dec 11 2025 01:15:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>è½¯ä»¶å¼€å‘ä¸­ï¼Œç”¨æˆ·äº¤äº’ä½“éªŒè‡³å…³é‡è¦ã€‚ç‰¹åˆ«æ˜¯åœ¨å·¥ä¸šç›‘æ§ã€é‡‘èç³»ç»Ÿæˆ–ä¼ä¸šçº§åº”ç”¨ä¸­ï¼Œæ¶ˆæ¯æç¤ºä½œä¸ºä¿¡æ¯åé¦ˆçš„é‡è¦æ‰‹æ®µï¼Œå…¶ç¾è§‚æ€§ã€æ˜“ç”¨æ€§å’Œç¨³å®šæ€§éƒ½ä¸å¯å¿½è§†ã€‚</p>
<p>æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨ <strong>WPF</strong> å’Œ <strong>C#</strong> å®ç°ä¸€ä¸ªç±»ä¼¼ Windows ç³»ç»Ÿçš„é€šçŸ¥æç¤ºæ¡†ï¼ˆToast Notificationï¼‰ï¼Œæ”¯æŒåŠ¨ç”»æ•ˆæœã€è‡ªåŠ¨å…³é—­ã€å¤šæ¶ˆæ¯å †å æ˜¾ç¤ºç­‰åŠŸèƒ½ï¼Œå¹¶é€šè¿‡ä»£ç å±•ç¤ºå®Œæ•´çš„å®ç°é€»è¾‘ã€‚é€‚ç”¨äºæ¡Œé¢åº”ç”¨ç¨‹åºçš„æ¶ˆæ¯æ¨é€æœºåˆ¶ï¼Œå…·æœ‰è‰¯å¥½çš„æ‰©å±•æ€§å’Œå¤ç”¨æ€§ã€‚</p>
<h3 data-id="heading-1">æ­£æ–‡</h3>
<h4 data-id="heading-2">ä¸€ã€æ•ˆæœå›¾å±•ç¤º</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73bed3a09dc54ab3bef7009eb3094282~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP56CB57yW5Yyg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766020534&amp;x-signature=OaLBeXLnjfCZtryBDnqOLMjIu1Q%3D" alt="9b70a68434d3b872889d99222ad842d1_1866408-20200407091606513-1415185705.gif" loading="lazy"/></p>
<p>ä¸»çª—å£ç•Œé¢ç®€æ´ï¼Œä»…åŒ…å«ä¸€ä¸ªè§¦å‘æŒ‰é’®ã€‚ç‚¹å‡»æŒ‰é’®åï¼Œä¼šåœ¨å±å¹•å³ä¸‹è§’ä¾æ¬¡å¼¹å‡ºå¤šä¸ªæç¤ºæ¡†ï¼Œæ¯ä¸ªæç¤ºæ¡†å¸¦æœ‰æ ‡é¢˜ã€å†…å®¹å’Œå…³é—­æŒ‰é’®ï¼Œå¹¶å…·æœ‰æ·¡å…¥æ·¡å‡ºçš„åŠ¨ç”»æ•ˆæœã€‚</p>
<h4 data-id="heading-3">äºŒã€æç¤ºæ¡†ç•Œé¢è®¾è®¡ï¼ˆXAMLï¼‰</h4>
<p>æç¤ºæ¡†é‡‡ç”¨æ— è¾¹æ¡†ã€æ— æ ‡é¢˜æ çš„è®¾è®¡ï¼Œè®¾ç½®ä¸ºå§‹ç»ˆç½®é¡¶çª—å£ã€‚æ ¸å¿ƒç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">
    
        
            
            
        
        
            
            
            
        
        
    

</code></pre>
<p>å…³é”®å±æ€§è¯´æ˜ï¼š</p>
<ul>
<li>
<p><code>ResizeMode=&amp;#34;NoResize&amp;#34;</code>ï¼šç¦æ­¢è°ƒæ•´å¤§å°ã€‚</p>
</li>
<li>
<p><code>WindowStyle=&amp;#34;None&amp;#34;</code>ï¼šå»é™¤é»˜è®¤çª—å£æ ·å¼ã€‚</p>
</li>
<li>
<p><code>Topmost=&amp;#34;True&amp;#34;</code>ï¼šå§‹ç»ˆä¿æŒæœ€ä¸Šå±‚ã€‚</p>
</li>
</ul>
<h4 data-id="heading-4">ä¸‰ã€ä¸»çª—å£åå°é€»è¾‘ï¼ˆMainWindow.xaml.csï¼‰</h4>
<h4 data-id="heading-5">1ã€æ•°æ®æ¨¡å‹å®šä¹‰</h4>
<p>ç”¨äºä¼ é€’æç¤ºæ¡†çš„æ ‡é¢˜å’Œå†…å®¹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">class</span> <span class="hljs-title">NotifyData</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Title { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">string</span> Content { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
}
</code></pre>
<h4 data-id="heading-6">2ã€ä¸»çª—å£ç±»å®ç°</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MainWindow</span> : <span class="hljs-title">Window</span>
{
    <span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List _dialogs = <span class="hljs-keyword">new</span> List();

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainWindow</span>()</span>
    {
        InitializeComponent();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Button_Click</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, RoutedEventArgs e</span>)</span>
    {
        i++;
        NotifyData data = <span class="hljs-keyword">new</span> NotifyData();
        data.Title = &amp;<span class="hljs-meta">#34;æç¤º&amp;#34;;</span>
        data.Content = &amp;<span class="hljs-meta">#34;XXXä½™é¢ä¸è¶³ï¼ŒXXXä½™é¢ä¸è¶³ï¼ŒXXXä½™é¢ä¸è¶³ï¼ŒXXXä½™é¢ä¸è¶³&amp;#34; + i;</span>

        Window1 dialog = <span class="hljs-keyword">new</span> Window1();
        dialog.Closed += Dialog_Closed;
        dialog.TopFrom = GetTopFrom();
        dialog.DataContext = data;
        dialog.Show();

        _dialogs.Add(dialog);
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Dialog_Closed</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, EventArgs e</span>)</span>
    {
        <span class="hljs-keyword">var</span> closedDialog = sender <span class="hljs-keyword">as</span> Window1;
        _dialogs.Remove(closedDialog);
    }

    <span class="hljs-function"><span class="hljs-built_in">double</span> <span class="hljs-title">GetTopFrom</span>()</span>
    {
        <span class="hljs-built_in">double</span> topFrom = System.Windows.SystemParameters.WorkArea.Bottom - <span class="hljs-number">10</span>;
        <span class="hljs-built_in">bool</span> isContinueFind = _dialogs.Any(o =&gt; o.TopFrom == topFrom);

        <span class="hljs-keyword">while</span> (isContinueFind)
        {
            topFrom = topFrom - <span class="hljs-number">160</span>;
            isContinueFind = _dialogs.Any(o =&gt; o.TopFrom == topFrom);
        }

        <span class="hljs-keyword">if</span> (topFrom &lt;= <span class="hljs-number">0</span>)
            topFrom = System.Windows.SystemParameters.WorkArea.Bottom - <span class="hljs-number">10</span>;

        <span class="hljs-keyword">return</span> topFrom;
    }
}
</code></pre>
<p>åŠŸèƒ½è¯´æ˜ï¼š</p>
<ul>
<li>
<p><code>GetTopFrom()</code> æ–¹æ³•ç”¨äºè®¡ç®—ä¸‹ä¸€ä¸ªæç¤ºæ¡†çš„ä½ç½®ï¼Œé¿å…é‡å ã€‚</p>
</li>
<li>
<p><code>_dialogs</code> åˆ—è¡¨ç”¨äºç®¡ç†æ‰€æœ‰æ‰“å¼€çš„æç¤ºæ¡†ã€‚</p>
</li>
<li>
<p>æ¯ä¸ªæç¤ºæ¡†å…³é—­æ—¶ä¼šä»åˆ—è¡¨ä¸­ç§»é™¤ã€‚</p>
</li>
</ul>
<h4 data-id="heading-7">å››ã€æç¤ºæ¡†åå°é€»è¾‘ï¼ˆWindow1.xaml.csï¼‰</h4>
<p>è¯¥ç±»è´Ÿè´£å¤„ç†æç¤ºæ¡†çš„åŠ è½½ã€ä½ç½®åŠ¨ç”»å’Œè‡ªåŠ¨å…³é—­åŠŸèƒ½ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">partial</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Window1</span> : <span class="hljs-title">Window</span>
{
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">double</span> TopFrom { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Window1</span>()</span>
    {
        InitializeComponent();
        <span class="hljs-keyword">this</span>.Loaded += NotificationWindow_Loaded;
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">NotificationWindow_Loaded</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, RoutedEventArgs e</span>)</span>
    {
        NotifyData data = <span class="hljs-keyword">this</span>.DataContext <span class="hljs-keyword">as</span> NotifyData;
        <span class="hljs-keyword">if</span> (data != <span class="hljs-literal">null</span>)
        {
            tbContent.Text = data.Content;
            tbTitle.Text = data.Title;
        }

        Window1 self = sender <span class="hljs-keyword">as</span> Window1;
        <span class="hljs-keyword">if</span> (self != <span class="hljs-literal">null</span>)
        {
            <span class="hljs-built_in">double</span> right = SystemParameters.WorkArea.Right - <span class="hljs-number">10</span>;
            self.Top = TopFrom - <span class="hljs-number">160</span>;

            DoubleAnimation animation = <span class="hljs-keyword">new</span> DoubleAnimation();
            animation.Duration = <span class="hljs-keyword">new</span> Duration(TimeSpan.FromMilliseconds(<span class="hljs-number">500</span>));
            animation.From = right;
            animation.To = right - self.ActualWidth;
            self.BeginAnimation(Window.LeftProperty, animation);

            Task.Factory.StartNew(<span class="hljs-built_in">delegate</span>
            {
                <span class="hljs-built_in">int</span> seconds = <span class="hljs-number">5</span>;
                System.Threading.Thread.Sleep(TimeSpan.FromSeconds(seconds));

                <span class="hljs-keyword">this</span>.Dispatcher.Invoke(<span class="hljs-built_in">delegate</span>
                {
                    animation = <span class="hljs-keyword">new</span> DoubleAnimation();
                    animation.Duration = <span class="hljs-keyword">new</span> Duration(TimeSpan.FromMilliseconds(<span class="hljs-number">500</span>));
                    animation.Completed += (s, a) =&gt; { self.Close(); };
                    animation.From = right - self.ActualWidth;
                    animation.To = right;
                    self.BeginAnimation(Window.LeftProperty, animation);
                });
            });
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Button_Click</span>(<span class="hljs-params"><span class="hljs-built_in">object</span> sender, RoutedEventArgs e</span>)</span>
    {
        <span class="hljs-built_in">double</span> right = SystemParameters.WorkArea.Right;
        DoubleAnimation animation = <span class="hljs-keyword">new</span> DoubleAnimation();
        animation.Duration = <span class="hljs-keyword">new</span> Duration(TimeSpan.FromMilliseconds(<span class="hljs-number">500</span>));
        animation.Completed += (s, a) =&gt; { <span class="hljs-keyword">this</span>.Close(); };
        animation.From = right - <span class="hljs-keyword">this</span>.ActualWidth;
        animation.To = right;
        <span class="hljs-keyword">this</span>.BeginAnimation(Window.LeftProperty, animation);
    }
}
</code></pre>
<p>åŠŸèƒ½è¯´æ˜ï¼š</p>
<ul>
<li>
<p>æç¤ºæ¡†åŠ è½½æ—¶æ‰§è¡Œæ»‘åŠ¨åŠ¨ç”»ï¼Œä»å³ä¾§æ»‘å…¥ã€‚</p>
</li>
<li>
<p>é»˜è®¤æ˜¾ç¤º5ç§’åè‡ªåŠ¨å…³é—­ï¼Œå¹¶æ‰§è¡Œåå‘æ»‘å‡ºåŠ¨ç”»ã€‚</p>
</li>
<li>
<p>ç”¨æˆ·å¯ç‚¹å‡»"Ã—"æ‰‹åŠ¨å…³é—­æç¤ºæ¡†ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">æ€»ç»“</h3>
<p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨ WPF å¼€å‘ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€è§†è§‰ç¾è§‚çš„é€šçŸ¥æç¤ºæ¡†æ§ä»¶ï¼Œæ¶µç›–äº†ä»ç•Œé¢å¸ƒå±€ã€æ•°æ®ç»‘å®šåˆ°åŠ¨ç”»æ§åˆ¶ã€è‡ªåŠ¨å…³é—­ç­‰å¤šä¸ªå…³é”®æŠ€æœ¯ç‚¹ã€‚é€šè¿‡å®é™…ç¼–ç å±•ç¤ºäº†å¦‚ä½•åœ¨å·¥ä¸šçº§æ¡Œé¢åº”ç”¨ä¸­å®ç°ä¼˜é›…çš„ä¿¡æ¯æ¨é€æœºåˆ¶ã€‚</p>
<p>è¯¥æç¤ºæ¡†å…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ul>
<li>
<p>æ”¯æŒå¤šæ¶ˆæ¯å †å æ˜¾ç¤ºï¼›</p>
</li>
<li>
<p>è‡ªåŠ¨è®¡ç®—å¼¹çª—ä½ç½®ï¼Œé¿å…é®æŒ¡ï¼›</p>
</li>
<li>
<p>æ”¯æŒæ»‘åŠ¨åŠ¨ç”»ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼›</p>
</li>
<li>
<p>å¯çµæ´»æ‰©å±•å†…å®¹æ ¼å¼å’Œäº¤äº’æ–¹å¼ã€‚</p>
</li>
</ul>
<p>æ— è®ºæ˜¯ç”¨äºä¸šåŠ¡æé†’ã€ç³»ç»Ÿé€šçŸ¥è¿˜æ˜¯å¼‚å¸¸æç¤ºï¼Œè¯¥ç»„ä»¶éƒ½èƒ½å¾ˆå¥½åœ°æ»¡è¶³éœ€æ±‚ï¼Œå…·æœ‰è‰¯å¥½çš„å¤ç”¨ä»·å€¼å’Œå·¥ç¨‹å®è·µæ„ä¹‰ã€‚</p>
<h3 data-id="heading-9">å…³é”®è¯ï¼ˆé¡¿å·åˆ†éš”ï¼‰</h3>
<p>WPFã€é€šçŸ¥æ¡†ã€Toastã€å¼¹çª—ã€æç¤ºæ¡†ã€C#ã€WindowStyleã€Topmostã€DoubleAnimationã€Dispatcherã€Taskã€MVVMã€UIäº¤äº’ã€åŠ¨ç”»æ•ˆæœã€å·¥ä¸šçº§å¼¹çª—ã€æ¶ˆæ¯æ¨é€ã€Windowsæç¤ºé£æ ¼ã€XAMLã€è‡ªå®šä¹‰æ§ä»¶ã€æºç ä¸‹è½½</p>
<h3 data-id="heading-10">æœ€å</h3>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸å¦¨ç‚¹ä¸ªèµæ”¯æŒä¸€ä¸‹ï¼ä½ çš„æ”¯æŒæ˜¯æˆ‘ç»§ç»­åˆ†äº«çŸ¥è¯†çš„åŠ¨åŠ›ã€‚å¦‚æœæœ‰ä»»ä½•ç–‘é—®æˆ–éœ€è¦è¿›ä¸€æ­¥çš„å¸®åŠ©ï¼Œæ¬¢è¿éšæ—¶ç•™è¨€ã€‚</p>
<p>ä¹Ÿå¯ä»¥åŠ å…¥å¾®ä¿¡å…¬ä¼—å· <strong>[DotNetæŠ€æœ¯åŒ ]</strong> ç¤¾åŒºï¼Œä¸å…¶ä»–çƒ­çˆ±æŠ€æœ¯çš„åŒè¡Œä¸€èµ·äº¤æµå¿ƒå¾—ï¼Œå…±åŒæˆé•¿ï¼</p>
<p><strong>ä¼˜ç§€æ˜¯ä¸€ç§ä¹ æƒ¯ï¼Œæ¬¢è¿å¤§å®¶ç•™è¨€å­¦ä¹ ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[FastApiæ¥å£æ–‡æ¡£è®¿é—®è¶…æ—¶åŠ è½½ä¸å‡ºæ¥è§£å†³æ–¹æ¡ˆæ¥äº†]]></title>    <link>https://juejin.cn/post/7582067084840894518</link>    <guid>https://juejin.cn/post/7582067084840894518</guid>    <pubDate>2025-12-11T01:19:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582067084840894518" data-draft-id="7582066556088926271" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="FastApiæ¥å£æ–‡æ¡£è®¿é—®è¶…æ—¶åŠ è½½ä¸å‡ºæ¥è§£å†³æ–¹æ¡ˆæ¥äº†"/> <meta itemprop="keywords" content="Python,FastAPI"/> <meta itemprop="datePublished" content="2025-12-11T01:19:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç™¾åˆ†ä¸‰åä¸ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/8451825861821"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            FastApiæ¥å£æ–‡æ¡£è®¿é—®è¶…æ—¶åŠ è½½ä¸å‡ºæ¥è§£å†³æ–¹æ¡ˆæ¥äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/8451825861821/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç™¾åˆ†ä¸‰åä¸ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T01:19:52.000Z" title="Thu Dec 11 2025 01:19:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-light">.hljs-comment,.hljs-quote{color:#696969}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d91e18}.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#aa5d00}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:green}.hljs-section,.hljs-title{color:#007faa}.hljs-keyword,.hljs-selector-tag{color:#7928a1}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fefefe;color:#545454}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h3 data-id="heading-0">é—®é¢˜</h3>
<p>FastApi é»˜è®¤æ¥å£æ–‡æ¡£åœ°å€ åŠ è½½ä¸å‡ºæ¥ç©ºç™½é¡µé¢ã€‚</p>
<h3 data-id="heading-1">åŸå› </h3>
<p>FastApi é»˜è®¤ä½¿ç”¨äº†<code>swagger-ui.css </code>å’Œ <code>swagger-ui-bundle.js </code>æ¥æ¸²æŸ“æ–‡æ¡£é¡µé¢ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯å›½å¤–cdnæ‰€ä»¥å“åº”æ…¢ï¼Œä¼šå‡ºç°è¶…æ—¶æƒ…å†µã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d46460b6199b4f5f8556f2e3b4d65b25~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5YiG5LiJ5Y2B5LiD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766021770&amp;x-signature=EP2Ix5uPbah2yk4NmHoEqUN%2Fj6o%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">è§£å†³æ–¹æ³•</h3>
<p>æŠŠè¿™ä¸¤ä¸ªæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°<code>swagger-ui.css  swagger-ui-bundle.js </code>ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°é™æ€æ–‡ä»¶ã€‚</p>
<p>é¦–å…ˆä¸‹è½½ä¸¤ä¸ªé™æ€æ–‡ä»¶ï¼Œåœ¨æœ¬é¡¹ç›®ç›®å½•ä¸‹æ‰‹åŠ¨åˆ›å»º<code>staticæ–‡ä»¶å¤¹</code>ã€‚</p>
<p>csså’Œjsæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°
swagger-ui.css ä¸‹è½½åœ°å€
swagger-ui-bundle.js ä¸‹è½½åœ°å€</p>
<p>å¤åˆ¶<code>swagger-ui.css  swagger-ui-bundle.js </code>ä»£ç ï¼Œå…¨é€‰ã€CTRL+Aã€‘ç²˜è´´åˆ°æœ¬åœ°static æ–‡ä»¶ä¸‹ï¼ŒåŒæ—¶åˆ›å»º<code>swagger-ui.css  swagger-ui-bundle.js </code>ä¸¤ä¸ªæ–‡ä»¶ã€‚
å¦‚ä¸‹å›¾ï¼š</p>
<p><strong>swagger-ui-bundle.js</strong>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f6ec7b2e603145ff9cc24751ffd8afd9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5YiG5LiJ5Y2B5LiD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766021770&amp;x-signature=uKOVgs3kgLX9hZ8HlsEGAD2fIVY%3D" alt="image.png" loading="lazy"/>â€˜â€™</p>
<p><strong>swagger-ui.css</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a64a36a546a46e080739a9c26a03599~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5YiG5LiJ5Y2B5LiD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766021770&amp;x-signature=Zg2RGrLAVxzPKUi6g5sjIa%2BpmWk%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6304a9316d642cbbad0f9eebcf0f898~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5YiG5LiJ5Y2B5LiD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766021770&amp;x-signature=vqDr2ru7FMNZUBL%2Fue1w6rznxAg%3D" alt="image.png" loading="lazy"/></p>
<p>ç„¶åä¿®æ”¹FastApi æ–‡æ¡£èµ„æºè®¿é—®æœ¬åœ°èµ„æºæ–‡ä»¶ã€‚</p>
<p><strong>FastApi</strong> ä»£ç é…ç½®å¦‚ä¸‹</p>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> FastAPI,Path
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel
<span class="hljs-keyword">from</span> fastapi.openapi.docs <span class="hljs-keyword">import</span> get_swagger_ui_html
<span class="hljs-keyword">from</span> starlette.staticfiles <span class="hljs-keyword">import</span> StaticFiles

app = FastAPI(docs_url=<span class="hljs-literal">None</span>)
app.mount(&amp;<span class="hljs-comment">#34;/static&amp;#34;, StaticFiles(directory=&amp;#34;static&amp;#34;), name=&amp;#34;static&amp;#34;)</span>

<span class="hljs-meta">@app.get(<span class="hljs-params">&amp;<span class="hljs-comment">#34;/docs&amp;#34;;, include_in_schema=False)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> custom_swagger_ui_html(<span class="hljs-params"/>):
    <span class="hljs-keyword">return</span> get_swagger_ui_html(<span class="hljs-params">
        openapi_url=app.openapi_url,
        title=&amp;<span class="hljs-comment">#34;Swagger UI(å®šåˆ¶)&amp;#34;,</span>
        swagger_js_url=&amp;<span class="hljs-comment">#34;/static/swagger-ui-bundle.js&amp;#34;,</span>
        swagger_css_url=&amp;<span class="hljs-comment">#34;/static/swagger-ui.css&amp;#34;;</span>
    </span>)

@app.get(<span class="hljs-params">&amp;<span class="hljs-comment">#34;/&amp;#34;)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> root(<span class="hljs-params"/>):
    <span class="hljs-keyword">return</span> {&amp;<span class="hljs-comment">#34;message&amp;#34;: &amp;#34;Hello World Python FastApi&amp;#34;}</span>

</span></span></span></code></pre>
<p>é…ç½®å®Œå†æ¬¡è®¿é—®</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8caadc0928d0492fbf7b30eaabd3cef6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55m-5YiG5LiJ5Y2B5LiD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766021770&amp;x-signature=0xzCpHRfeNzxWw95aG%2F2PFooJ54%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[scalaä¸­çš„Array]]></title>    <link>https://juejin.cn/post/7582110969200263206</link>    <guid>https://juejin.cn/post/7582110969200263206</guid>    <pubDate>2025-12-11T01:38:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582110969200263206" data-draft-id="7582047554090205193" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="scalaä¸­çš„Array"/> <meta itemprop="keywords" content="Scala"/> <meta itemprop="datePublished" content="2025-12-11T01:38:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¼˜èµ·è’™è’™é›¨"/> <meta itemprop="url" content="https://juejin.cn/user/1866332824404282"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            scalaä¸­çš„Array
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1866332824404282/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¼˜èµ·è’™è’™é›¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T01:38:55.000Z" title="Thu Dec 11 2025 01:38:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€.Arrayçš„å®šä¹‰</h2>
<p>Array æ˜¯ä¸€ç§åœ¨ Scala ä¸­ç”¨äºå­˜å‚¨å›ºå®šå¤§å°ã€ç›¸åŒç±»å‹å…ƒç´ çš„æ•°æ®ç»“æ„ã€‚å®ƒåœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œè¿™ä½¿å¾—è®¿é—®å…ƒç´ çš„é€Ÿåº¦éå¸¸å¿«ã€‚</p>
<p>ç±»å‹æœ‰ä¸¤ç§ï¼šArrayè¡¨ç¤ºé•¿åº¦ä¸å¯å˜çš„æ•°ç»„ å’Œ ArrayBufferè¡¨ç¤ºé•¿åº¦å¯å˜çš„æ•°ç»„</p>
<h2 data-id="heading-1">äºŒ.ä¸å¯å˜æ•°ç»„</h2>
<p>Arrayè¡¨ç¤ºé•¿åº¦ä¸å¯å˜çš„æ•°ç»„ï¼Œä¸€æ—¦å®šä¹‰ä¹‹åï¼Œä¸èƒ½å†å¢åŠ ï¼Œåˆ é™¤å…ƒç´ ã€‚</p>
<p><strong>å¸¸è§„æ“ä½œ</strong>ï¼šåˆ›å»ºæ•°ç»„ï¼Œè®¿é—®å…ƒç´ ï¼Œå¡«å……Array.range</p>
<ol>
<li>åˆ›å»ºä¸å¯å˜æ•°ç»„</li>
<li>è®¿é—®å…ƒç´ : æ³¨æ„ä¸è¦è¶Šç•Œï¼ˆè¶Šç•Œä¼šï¼‰</li>
<li>è·å–æ•°ç»„çš„é•¿åº¦ï¼šarr.lengthï¼šè·å–æ•°ç»„çš„é•¿åº¦ã€‚</li>
</ol>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> array

<span class="hljs-comment">/**
 * Array å’Œ List çš„åŒºåˆ«
 *
 * array:æœ‰åºï¼Œæ•°ç»„ï¼šå…ƒç´ åœ¨ç©ºé—´ä¸Šè¿ç»­ï¼Œé€šè¿‡ä¸‹æ ‡å»è®¿é—®å…ƒç´ ä¼šç‰¹åˆ«å¿«ï¼
 * List:æœ‰åºï¼Œé“¾è¡¨ï¼šå…ƒç´ åœ¨ç©ºé—´ä¸Šä¸è¿ç»­
 *
 * ä¸¤ç§ç±»å‹
 * 1.å¯å˜
 * 2.ä¸å¯å˜ï¼šä¸€ä¸ªæ•°ç»„åˆ›å»ºä¹‹åï¼Œä¸èƒ½æ·»åŠ ï¼Œä¸èƒ½åˆ é™¤ï¼
 *
 * å¸¸ç”¨æ–¹æ³•ï¼šæ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾ï¼Œå¾ªç¯ï¼Œæ’åºï¼Œ.....
 */</span>

<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">array01</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = {
    <span class="hljs-comment">// å¯å˜æ•°ç»„</span>
    <span class="hljs-keyword">val</span> arr1 = scala.collection.mutable.<span class="hljs-type">ArrayBuffer</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)
    <span class="hljs-comment">// å‘æ•°ç»„æœ€åæ·»åŠ å…ƒç´ </span>
    arr1 += <span class="hljs-number">4</span>
    println(arr1)

    <span class="hljs-comment">// ä¸å¯å˜æ•°ç»„</span>
    <span class="hljs-keyword">val</span> arr2 = <span class="hljs-type">Array</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)
    <span class="hljs-comment">// ä¸å¯å˜æ•°ç»„ä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œæ‹¼æ¥ç”Ÿæˆæ–°æ•°ç»„</span>
    <span class="hljs-comment">// val arr2 = arr2 :+ 4</span>
    println(arr2)
  }
}
</code></pre>
<h2 data-id="heading-2">ä¸‰.å¯å˜æ•°ç»„</h2>
<p>Arrayè¡¨ç¤ºé•¿åº¦ä¸å¯å˜çš„æ•°ç»„ï¼Œä¸€æ—¦å®šä¹‰ä¹‹åï¼Œä¸èƒ½å†å¢åŠ ï¼Œåˆ é™¤å…ƒç´ ã€‚</p>
<ol>
<li>æ–°å»ºã€‚è¦å…ˆå¯¼å…¥ ArrayBufferã€‚ å¯å˜çš„æ•°æ®ç»“æ„éƒ½éœ€è¦é¢å¤–å¯¼å…¥</li>
<li>è®¿é—®ä¿®æ”¹ã€‚æ•°ç»„å(ä¸‹æ ‡)=æ–°å€¼ã€‚</li>
<li><strong>æ·»åŠ å…ƒç´ </strong></li>
</ol>
<ul>
<li>æ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼›+= å…ƒç´ </li>
<li>æ·»åŠ å¤šä¸ªå…ƒç´ ï¼›+=(å…ƒç´ 1, å…ƒç´ 2)</li>
</ul>
<ol start="4">
<li><strong>åˆ é™¤å…ƒç´ </strong></li>
</ol>
<ul>
<li>(1)Â åˆ é™¤ä¸€ä¸ªå…ƒç´ ï¼š -= å…ƒç´ </li>
<li>(2)Â åˆ é™¤å¤šä¸ªå…ƒç´ ï¼š -= (å…ƒç´ 1, å…ƒç´ 2ï¼‰</li>
<li>(3)Â åˆ é™¤æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼š remove(ä¸‹æ ‡)</li>
<li>(4)Â åˆ é™¤æŒ‡å®šä½ç½®çš„å¤šä¸ªå…ƒç´ ï¼šremove(ä¸‹æ ‡èµ·ç‚¹ï¼Œä¸‹æ ‡ç»ˆç‚¹)</li>
</ul>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> array

<span class="hljs-comment">/**
 * Array å’Œ List çš„åŒºåˆ«
 *
 * array:æœ‰åºï¼Œæ•°ç»„ï¼šå…ƒç´ åœ¨ç©ºé—´ä¸Šè¿ç»­ï¼Œé€šè¿‡ä¸‹æ ‡å»è®¿é—®å…ƒç´ ä¼šç‰¹åˆ«å¿«ï¼
 * List:æœ‰åºï¼Œé“¾è¡¨ï¼šå…ƒç´ åœ¨ç©ºé—´ä¸Šä¸è¿ç»­
 *
 * ä¸¤ç§ç±»å‹
 * 1.å¯å˜
 * 2.ä¸å¯å˜ï¼šä¸€ä¸ªæ•°ç»„åˆ›å»ºä¹‹åï¼Œä¸èƒ½æ·»åŠ ï¼Œä¸èƒ½åˆ é™¤ï¼
 *
 * å¸¸ç”¨æ–¹æ³•ï¼šæ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾ï¼Œå¾ªç¯ï¼Œæ’åºï¼Œ.....
 */</span>

<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">array03</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = {
    <span class="hljs-comment">// åˆ›å»º1åˆ°99çš„æ•°ç»„ï¼ˆå·¦é—­å³å¼€ï¼‰</span>
    <span class="hljs-keyword">val</span> arr = <span class="hljs-type">Array</span>.range(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)
    arr.foreach(println) <span class="hljs-comment">// æ‰“å°1-99</span>

    <span class="hljs-comment">// åˆ›å»º1åˆ°99ã€æ­¥é•¿ä¸º3çš„æ•°ç»„</span>
    <span class="hljs-keyword">val</span> arr1 = <span class="hljs-type">Array</span>.range(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>, <span class="hljs-number">3</span>)
    arr1.foreach(println) <span class="hljs-comment">// æ‰“å°1ã€4ã€7...97</span>

    <span class="hljs-comment">// å®šä¹‰æ•°ç»„</span>
    <span class="hljs-keyword">val</span> arr2 = <span class="hljs-type">Array</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)
    <span class="hljs-comment">// è®¿é—®æ•°ç»„å…ƒç´ </span>
    println(arr2(<span class="hljs-number">0</span>)) <span class="hljs-comment">// è¾“å‡ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼š1</span>
    println(arr2(<span class="hljs-number">2</span>)) <span class="hljs-comment">// è¾“å‡ºç¬¬ä¸‰ä¸ªå…ƒç´ ï¼š3</span>
    <span class="hljs-comment">// println(arr2(20)) // æ³¨é‡Šï¼šä¼šè§¦å‘æ•°ç»„è¶Šç•Œå¼‚å¸¸</span>
  }
}
</code></pre>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> array

<span class="hljs-comment">/**
 * Array å’Œ List çš„åŒºåˆ«
 *
 * array:æœ‰åºï¼Œæ•°ç»„ï¼šå…ƒç´ åœ¨ç©ºé—´ä¸Šè¿ç»­ï¼Œé€šè¿‡ä¸‹æ ‡å»è®¿é—®å…ƒç´ ä¼šç‰¹åˆ«å¿«ï¼
 * List:æœ‰åºï¼Œé“¾è¡¨ï¼šå…ƒç´ åœ¨ç©ºé—´ä¸Šä¸è¿ç»­
 *
 * ä¸¤ç§ç±»å‹
 * 1.å¯å˜
 * 2.ä¸å¯å˜ï¼šä¸€ä¸ªæ•°ç»„åˆ›å»ºä¹‹åï¼Œä¸èƒ½æ·»åŠ ï¼Œä¸èƒ½åˆ é™¤ï¼
 *
 * å¸¸ç”¨æ–¹æ³•ï¼šæ·»åŠ ï¼Œåˆ é™¤ï¼ŒæŸ¥æ‰¾ï¼Œå¾ªç¯ï¼Œæ’åºï¼Œ.....
 */</span>


<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">array03</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = {
    <span class="hljs-comment">// å®šä¹‰å¯å˜æ•°ç»„</span>
    <span class="hljs-keyword">val</span> arr1 = scala.collection.mutable.<span class="hljs-type">ArrayBuffer</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>)

    <span class="hljs-comment">// è¿½åŠ å…ƒç´ ï¼ˆå•ä¸ªï¼‰</span>
    arr1 += <span class="hljs-number">4</span>
    <span class="hljs-comment">// è¿½åŠ å…ƒç´ ï¼ˆå¤šä¸ªï¼‰</span>
    arr1 ++= <span class="hljs-type">Array</span>(<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>)

    <span class="hljs-comment">// åˆ é™¤å…ƒç´ ï¼šåˆ é™¤ä¸‹æ ‡ä¸º1çš„å…ƒç´ </span>
  <span class="hljs-comment">//  arr1.remove(0)</span>
    <span class="hljs-comment">// åˆ é™¤å…ƒç´ ï¼šä»ä¸‹æ ‡0å¼€å§‹ï¼Œåˆ é™¤3ä¸ªå…ƒç´ </span>
    arr1.remove(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>)

    <span class="hljs-comment">// ä¿®æ”¹å…ƒç´ ï¼šå°†ä¸‹æ ‡ä¸º0çš„å…ƒç´ æ”¹ä¸º700</span>
    arr1(<span class="hljs-number">2</span>) = <span class="hljs-number">700</span>

    <span class="hljs-comment">// æŸ¥æ‰¾å…ƒç´ ï¼šåˆ¤æ–­æ˜¯å¦åŒ…å«æŒ‡å®šå€¼</span>
    println(arr1.contains(<span class="hljs-number">6</span>))  <span class="hljs-comment">// è¾“å‡ºfalseï¼ˆåŸå…ƒç´ å·²è¢«åˆ é™¤ï¼‰</span>
    println(arr1.contains(<span class="hljs-number">8</span>))<span class="hljs-comment">// è¾“å‡ºtrue</span>
    
    println(arr1.sum)<span class="hljs-comment">//æ±‚å’Œ</span>

    <span class="hljs-comment">// éå†æ•°ç»„</span>
    arr1.foreach(ele =&gt; println(ele))
  }
}
</code></pre>
<h2 data-id="heading-3">å››.æ•°ç»„å¸¸ç”¨æ–¹æ³•</h2>
<p>1.Â æ˜ å°„ï¼ˆMapï¼‰ã€‚arr.map(f)ï¼šå¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ åº”ç”¨å‡½æ•°fï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ä¸å¯å˜æ•°ç»„ã€‚</p>
<p>2.Â è¿‡æ»¤ï¼ˆFilterï¼‰ã€‚ä»»åŠ¡æœç´¢</p>
<p>3.Â æœç´¢å’Œæ¯”è¾ƒ</p>
<p>Â Â Â - arr.indexOf(elem)ï¼šè¿”å›å…ƒç´ elemåœ¨æ•°ç»„ä¸­çš„ç¬¬ä¸€ä¸ªç´¢å¼•ã€‚</p>
<p>Â Â Â - arr.contains(elem)ï¼šæ£€æŸ¥æ•°ç»„æ˜¯å¦åŒ…å«å…ƒç´ elemã€‚</p>
<p>4.Â åˆ‡ç‰‡ï¼ˆSliceï¼‰</p>
<p>Â Â Â Â arr.slice(from, until)ï¼šè¿”å›æ•°ç»„çš„ä¸€ä¸ªå­æ•°ç»„ï¼Œä»ç´¢å¼•fromå¼€å§‹ç›´åˆ°ç´¢å¼•untilï¼ˆä¸åŒ…æ‹¬untilï¼‰ã€‚</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> array


<span class="hljs-class"><span class="hljs-keyword">object</span> <span class="hljs-title">array04</span> </span>{
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span></span>(args: <span class="hljs-type">Array</span>[<span class="hljs-type">String</span>]): <span class="hljs-type">Unit</span> = {
  <span class="hljs-comment">// å®šä¹‰å¯å˜æ•°ç»„</span>
  <span class="hljs-keyword">val</span> arr1 = scala.collection.mutable.<span class="hljs-type">ArrayBuffer</span>(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">0</span>,<span class="hljs-number">-1</span>,<span class="hljs-number">20</span>,<span class="hljs-number">3</span>)

  <span class="hljs-comment">// æ’åºï¼šé™åºæ’åºï¼ˆa &gt; bï¼‰</span>
  <span class="hljs-keyword">val</span> arr2 = arr1.sortWith((a, b) =&gt; a &gt; b)

  <span class="hljs-comment">// åˆ‡ç‰‡ï¼šè·å–ä¸‹æ ‡0ï¼ˆåŒ…å«ï¼‰åˆ°3ï¼ˆä¸åŒ…å«ï¼‰çš„å…ƒç´ </span>
  <span class="hljs-keyword">val</span> arr3 = arr1.slice(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>)

  <span class="hljs-comment">// è¿‡æ»¤ï¼šä¿ç•™å¤§äº0çš„å…ƒç´ </span>
  <span class="hljs-keyword">val</span> arr4 = arr1.filter(x =&gt; x &gt; <span class="hljs-number">0</span>)

  <span class="hljs-comment">// æœç´¢å…ƒç´ ä¸‹æ ‡ï¼šæŸ¥æ‰¾-2çš„ä½ç½®ï¼ˆä¸å­˜åœ¨åˆ™è¿”å›-1ï¼‰</span>
  <span class="hljs-keyword">val</span> target = <span class="hljs-number">-2</span>
  <span class="hljs-keyword">val</span> result = arr1.indexOf(target)
  println(s&amp;#<span class="hljs-number">34</span>;${target}çš„ä¸‹æ ‡æ˜¯ ${result}&amp;#<span class="hljs-number">34</span>;)

  <span class="hljs-comment">// éå†è¿‡æ»¤åçš„æ•°ç»„</span>
  arr4.foreach(ele =&gt; println(ele))
}
}
</code></pre>
<h2 data-id="heading-4">äº”.å¤šç»´æ•°ç»„</h2>
<p>æœ€å…¸å‹çš„å¤šç»´æ•°ç»„å°±æ˜¯äºŒç»´æ•°ç»„ï¼Œç±»ä¼¼äºè¡¨æ ¼ã€‚æœ‰ä¸¤ç§å®šä¹‰æ–¹å¼ï¼š</p>
<p>ç›´æ¥å®šä¹‰ï¼š Array.ofDim(x,y)</p>
<p>ä»ä¸€ç»´æ•°ç»„è½¬åŒ–å¾—æ¥ï¼š æ•°ç»„. grouped()</p>
<h3 data-id="heading-5">ç»ƒä¹ é¢˜</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5d6f12d0cf8844faa490e5a6c872f3ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg57yY6LW36JKZ6JKZ6Zuo:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766021935&amp;x-signature=hdQLDoeBAIPAQHbh2svYKpUCctc%3D" alt="å±å¹•æˆªå›¾ 2025-12-11 092406.png" loading="lazy"/></p>
<pre><code class="hljs language-scss" lang="scss">package caseclass

import scala<span class="hljs-selector-class">.collection</span><span class="hljs-selector-class">.mutable</span><span class="hljs-selector-class">.ListBuffer</span>
import scala<span class="hljs-selector-class">.collection</span><span class="hljs-selector-class">.mutable</span><span class="hljs-selector-class">.ArrayBuffer</span>
import java<span class="hljs-selector-class">.time</span><span class="hljs-selector-class">.LocalDate</span>

<span class="hljs-comment">// 1. ä½¿ç”¨case classå®šä¹‰DreamItemç±»</span>
case class <span class="hljs-built_in">DreamItem</span>(
                      content: String,    // å†…å®¹
                      isCompleted: Boolean, // æ˜¯å¦å®Œæˆ
                      deadline: LocalDate,  // æˆªæ­¢æ—¥æœŸ
                      priority: Int       // ä¼˜å…ˆçº§
                    )

<span class="hljs-selector-tag">object</span> DreamItemDemo {
  def <span class="hljs-selector-tag">main</span>(args: Array[String]): Unit = {
    <span class="hljs-comment">// 2. å®šä¹‰å¯å˜Arrayä¿å­˜DreamItem</span>
    val dreamArr = scala<span class="hljs-selector-class">.collection</span><span class="hljs-selector-class">.mutable</span><span class="hljs-selector-class">.ArrayBuffer</span><span class="hljs-selector-attr">[DreamItem]</span>()

    <span class="hljs-comment">// 3. æ·»åŠ 3ä¸ªæ¢¦æƒ³</span>
    dreamArr += <span class="hljs-built_in">DreamItem</span>(&amp;#<span class="hljs-number">34</span>;å­¦scala&amp;#<span class="hljs-number">34</span>;, false, LocalDate.of(<span class="hljs-number">2025</span>,<span class="hljs-number">12</span>,<span class="hljs-number">31</span>), <span class="hljs-number">2</span>)
    dreamArr += <span class="hljs-built_in">DreamItem</span>(&amp;#<span class="hljs-number">34</span>;ç»ƒå­—&amp;#<span class="hljs-number">34</span>;, false, LocalDate.of(<span class="hljs-number">2026</span>,<span class="hljs-number">1</span>,<span class="hljs-number">15</span>), <span class="hljs-number">3</span>)
    dreamArr += <span class="hljs-built_in">DreamItem</span>(&amp;#<span class="hljs-number">34</span>;å‡è‚¥&amp;#<span class="hljs-number">34</span>;, false, LocalDate.of(<span class="hljs-number">2025</span>,<span class="hljs-number">12</span>,<span class="hljs-number">20</span>), <span class="hljs-number">1</span>)

    <span class="hljs-comment">// 4. å°†ç¬¬2ä¸ªæ¢¦æƒ³è®¾ç½®ä¸ºå·²å®Œæˆ</span>
    <span class="hljs-built_in">dreamArr</span>(<span class="hljs-number">1</span>) = <span class="hljs-built_in">dreamArr</span>(<span class="hljs-number">1</span>)<span class="hljs-selector-class">.copy</span>(isCompleted = true)

    <span class="hljs-comment">// 5. è°ƒé«˜ç¬¬3ä¸ªæ¢¦æƒ³çš„ä¼˜å…ˆçº§</span>
    <span class="hljs-built_in">dreamArr</span>(<span class="hljs-number">2</span>) = <span class="hljs-built_in">dreamArr</span>(<span class="hljs-number">2</span>)<span class="hljs-selector-class">.copy</span>(priority = dreamArr(<span class="hljs-number">2</span>)<span class="hljs-selector-class">.priority</span> + <span class="hljs-number">2</span>)

    <span class="hljs-comment">// 6. æ ¹æ®ä¼˜å…ˆçº§ä»é«˜åˆ°ä½æ’åº</span>
    val sortedDreams = dreamArr<span class="hljs-selector-class">.sortWith</span>((a,b) =&gt; <span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.priority</span> &gt; <span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.priority</span>)

    <span class="hljs-comment">// 7. ä¿å­˜ä¼˜å…ˆçº§æ’åå‰5çš„æ¢¦æƒ³</span>
    val top5Dreams = sortedDreams<span class="hljs-selector-class">.slice</span>(<span class="hljs-number">0</span>,<span class="hljs-number">5</span>)

    <span class="hljs-comment">// 8. å¾ªç¯è¾“å‡ºæ¢¦æƒ³åˆ—è¡¨</span>
    top5Dreams<span class="hljs-selector-class">.foreach</span>(dream =&gt; {
      println(s&amp;#<span class="hljs-number">34</span>;å†…å®¹ï¼š${dream.content}ï¼Œå®Œæˆï¼š${dream.isCompleted}ï¼Œæˆªæ­¢æ—¥ï¼š${dream.deadline}ï¼Œä¼˜å…ˆçº§ï¼š${dream.priority}&amp;#<span class="hljs-number">34</span>;)
    })
  }
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ä»£ç å¹³å°çš„æ‰©å±•èƒ½åŠ›ï¼šæ´»å­—æ ¼æœåŠ¡ç«¯ç¼–ç¨‹å®æˆ˜]]></title>    <link>https://juejin.cn/post/7582200865906982946</link>    <guid>https://juejin.cn/post/7582200865906982946</guid>    <pubDate>2025-12-11T02:52:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582200865906982946" data-draft-id="7582200865906950178" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ä»£ç å¹³å°çš„æ‰©å±•èƒ½åŠ›ï¼šæ´»å­—æ ¼æœåŠ¡ç«¯ç¼–ç¨‹å®æˆ˜"/> <meta itemprop="keywords" content="ä½ä»£ç "/> <meta itemprop="datePublished" content="2025-12-11T02:52:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‘¡è„åŸæŠ€æœ¯å›¢é˜Ÿ"/> <meta itemprop="url" content="https://juejin.cn/user/3227821868332765"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ä»£ç å¹³å°çš„æ‰©å±•èƒ½åŠ›ï¼šæ´»å­—æ ¼æœåŠ¡ç«¯ç¼–ç¨‹å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821868332765/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‘¡è„åŸæŠ€æœ¯å›¢é˜Ÿ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T02:52:13.000Z" title="Thu Dec 11 2025 02:52:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä½ä»£ç å¹³å°çš„æ‰©å±•èƒ½åŠ›ï¼šæ´»å­—æ ¼æœåŠ¡ç«¯ç¼–ç¨‹å®æˆ˜</h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>åœ¨å½“ä»Šæ•°å­—åŒ–è½¬å‹æµªæ½®ä¸­ï¼Œä½ä»£ç å¹³å°å› å…¶å¿«é€Ÿå¼€å‘å’Œæ˜“ç”¨æ€§è€Œå¤‡å—é’çã€‚ç„¶è€Œï¼Œä¼ä¸šçº§åº”ç”¨å¾€å¾€éœ€è¦å¤„ç†å¤æ‚çš„ä¸šåŠ¡é€»è¾‘å’Œç‰¹æ®Šéœ€æ±‚ï¼Œè¿™äº›éœ€æ±‚å¯èƒ½è¶…å‡ºæ ‡å‡†ä½ä»£ç åŠŸèƒ½çš„èŒƒç•´ã€‚æ´»å­—æ ¼ä½ä»£ç å¹³å°é€šè¿‡å…¶å¼ºå¤§çš„æœåŠ¡ç«¯ç¼–ç¨‹èƒ½åŠ›ï¼Œå®Œç¾è§£å†³äº†è¿™ä¸€æŒ‘æˆ˜ã€‚</p>
<p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨æ´»å­—æ ¼çš„æ‰©å±•èƒ½åŠ›ï¼Œé€šè¿‡Javaå’ŒC#ç¼–ç¨‹å®ç°å¤æ‚ä¸šåŠ¡éœ€æ±‚ï¼Œç‰¹åˆ«æ˜¯Excelæ¨¡æ¿å¡«å……å’Œæ ¼å¼è½¬æ¢ç­‰é«˜çº§åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-2">ä¸€. ä½ä»£ç å¹³å°çš„æ‰©å±•éœ€æ±‚ä¸æŒ‘æˆ˜</h3>
<p>ä½ä»£ç å¹³å°è™½ç„¶èƒ½å¿«é€Ÿæ„å»ºå¤§å¤šæ•°ä¸šåŠ¡åº”ç”¨ï¼Œä½†åœ¨é¢å¯¹ä»¥ä¸‹åœºæ™¯æ—¶å¯èƒ½ä¼šé‡åˆ°é™åˆ¶ï¼š</p>
<ol>
<li><strong>ç‰¹æ®Šæ ¼å¼æ–‡ä»¶å¤„ç†</strong>ï¼šå¦‚å¤æ‚Excelæ¨¡æ¿å¡«å……ã€PDFè½¬æ¢ç­‰</li>
<li><strong>ç¬¬ä¸‰æ–¹ç³»ç»Ÿå¯¹æ¥</strong>ï¼šå¦‚é’‰é’‰/ä¼å¾®å®¢æˆ·ç«¯JSAPIã€Web Serviceåè®®ç­‰</li>
<li><strong>ä¸“ä¸šç®—æ³•å®ç°</strong>ï¼šå¦‚æ–‡ä»¶å“ˆå¸Œå€¼è®¡ç®—ã€åŠ å¯†è§£å¯†ç­‰</li>
</ol>
<p>æ´»å­—æ ¼å¹³å°é€šè¿‡å¼€æ”¾çš„æœåŠ¡ç«¯ç¼–ç¨‹æ¥å£ï¼Œå…è®¸å¼€å‘è€…ä½¿ç”¨Javaæˆ–C#æ‰©å±•å¹³å°åŠŸèƒ½ï¼Œåœ¨å¹³å°ä¸Šé€šè¿‡å‘é€HTTPè¯·æ±‚çš„æ–¹å¼è°ƒç”¨æ‰©å±•çš„Web APIæ¥å£ï¼Œæ—¢ä¿ç•™äº†ä½ä»£ç çš„å¼€å‘æ•ˆç‡ï¼Œåˆèƒ½æ»¡è¶³ä¼ä¸šçº§åº”ç”¨çš„å¤æ‚éœ€æ±‚ã€‚</p>
<h3 data-id="heading-3">äºŒ. Excelæ¨¡æ¿å¡«å……ä¸è½¬æ¢å®æˆ˜</h3>
<h5 data-id="heading-4">2.1 åœºæ™¯åˆ†æ</h5>
<p>ä»¥åŒ–å­¦åŒ–å·¥è¡Œä¸šå®¢æˆ·çš„å®é™…éœ€æ±‚ä¸ºä¾‹ï¼Œéœ€è¦å¤„ç†åŒ…å«ä»¥ä¸‹å†…å®¹çš„å¤æ‚Excelæ¨¡æ¿ï¼Œä¸”Sheeté¡µé¢ä¸ªæ•°æ˜¯åŠ¨æ€çš„ï¼š</p>
<ul>
<li>ç»“æ„åŒ–æ•°æ®ï¼ˆè®¾å¤‡ä¿¡æ¯ï¼‰</li>
<li>åŠ¨æ€åˆ—è¡¨æ•°æ®ï¼ˆç»´ä¿®è®°å½•ï¼‰</li>
<li>å›¾ç‰‡</li>
<li>
<h3 data-id="heading-5">å¤šSheeté¡µé¢</h3>
</li>
</ul>
<h5 data-id="heading-6">2.2 æŠ€æœ¯å®ç°</h5>
<p>é€šè¿‡Java Web APIå®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<p>1.<strong>æ¥æ”¶JSONæ•°æ®å¹¶å¡«å……Excelæ¨¡æ¿</strong></p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// ç¤ºä¾‹ä»£ç ï¼šä½¿ç”¨Apache POIå¡«å……Excelæ¨¡ç‰ˆä¸­æŒ‡å®šå•å…ƒæ ¼ï¼ˆé¡µç ã€å›¾ç‰‡ã€...ï¼‰</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">processPageNumber</span><span class="hljs-params">(XSSFWorkbook workbook)</span> {
    <span class="hljs-comment">// å¤„ç†é¡µç </span>
    <span class="hljs-type">int</span> <span class="hljs-variable">numberOfSheets</span> <span class="hljs-operator">=</span> workbook.getNumberOfSheets();
    workbook.getSheetAt(<span class="hljs-number">0</span>).getRow(<span class="hljs-number">37</span>).getCell(<span class="hljs-number">45</span>).setCellValue(&amp;#<span class="hljs-number">34</span>;ç¬¬  <span class="hljs-number">1</span>  é¡µ  å…±  &amp;#<span class="hljs-number">34</span>; + numberOfSheets +&amp;#<span class="hljs-number">34</span>;  é¡µ  SHEET  <span class="hljs-number">1</span> OF  &amp;#<span class="hljs-number">34</span>; + numberOfSheets);
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt; numberOfSheets; i++){
        workbook.getSheetAt(i).getRow(<span class="hljs-number">6</span>).getCell(<span class="hljs-number">33</span>).setCellValue(&amp;#<span class="hljs-number">34</span>;ç¬¬   &amp;#<span class="hljs-number">34</span>;+ (i+<span class="hljs-number">1</span>) +&amp;#<span class="hljs-number">34</span>;   é¡µ     å…±   &amp;#<span class="hljs-number">34</span>; + numberOfSheets + &amp;#<span class="hljs-number">34</span>;   é¡µ&amp;#<span class="hljs-number">34</span>;);
    }
    <span class="hljs-keyword">return</span> numberOfSheets;
}

<span class="hljs-comment">// ç¤ºä¾‹ä»£ç ï¼šä½¿ç”¨EasyExcelå¡«å……Excelæ¨¡ç‰ˆä¸­è¡¨æ ¼éƒ¨åˆ†</span>
<span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">try</span> (<span class="hljs-type">ExcelWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> EasyExcel.write(outputTempFile).withTemplate(templateTempFile).build()) {
        Logger.info(&amp;#<span class="hljs-number">34</span>;Starting Excel export...&amp;#<span class="hljs-number">34</span>;);
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; numberOfSheets; i++) {
            <span class="hljs-type">WriteSheet</span> <span class="hljs-variable">writeSheet</span> <span class="hljs-operator">=</span> EasyExcel.writerSheet(i).build();
            writer.fill(deviceInfoMap, writeSheet);
            
            <span class="hljs-keyword">if</span> (!emlList.isEmpty()) {
                writer.fill(emlList, writeSheet);
            }
        }
    }
} <span class="hljs-keyword">catch</span> (Exception e) {
    Logger.error(&amp;#<span class="hljs-number">34</span>;å¡«å……Excelæ•°æ®æ—¶å‘ç”Ÿé”™è¯¯: &amp;#<span class="hljs-number">34</span>; + e.getMessage());
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IOException</span>(&amp;#<span class="hljs-number">34</span>;å¡«å……Excelæ•°æ®å¤±è´¥&amp;#<span class="hljs-number">34</span>;, e);
}
</code></pre>
<p>2.<strong>Excelè½¬PDFåŠŸèƒ½</strong></p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// ç¤ºä¾‹ä»£ç ï¼šä½¿ç”¨Aspose.Cellså®ç°Excelè½¬PDF</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> File <span class="hljs-title function_">convertExcelToPdf</span><span class="hljs-params">(String excelFilePath, String pdfOutputPath)</span> <span class="hljs-keyword">throws</span> Exception {
    Logger.info(&amp;#<span class="hljs-number">34</span>;Starting Excel to PDF conversion: &amp;#<span class="hljs-number">34</span>; + excelFilePath + &amp;#<span class="hljs-number">34</span>; -&gt; &amp;#<span class="hljs-number">34</span>; + pdfOutputPath);

    <span class="hljs-type">Workbook</span> <span class="hljs-variable">workbook</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">try</span> {
        workbook = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Workbook</span>(excelFilePath);

        <span class="hljs-comment">// è®¾ç½®PDFä¿å­˜é€‰é¡¹</span>
        <span class="hljs-type">PdfSaveOptions</span> <span class="hljs-variable">pdfSaveOptions</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PdfSaveOptions</span>();
        pdfSaveOptions.setOnePagePerSheet(<span class="hljs-literal">true</span>);

        <span class="hljs-type">WorksheetCollection</span> <span class="hljs-variable">worksheets</span> <span class="hljs-operator">=</span> workbook.getWorksheets();
        
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; worksheets.getCount(); i++) {
            <span class="hljs-type">Worksheet</span> <span class="hljs-variable">sheet</span> <span class="hljs-operator">=</span> worksheets.get(i);
            <span class="hljs-type">PageSetup</span> <span class="hljs-variable">pageSetup</span> <span class="hljs-operator">=</span> getPageSetup(sheet);

            <span class="hljs-comment">// æ·»åŠ é¡µè„š</span>
            <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) {
                pageSetup.setFooter(<span class="hljs-number">0</span>, &amp;#<span class="hljs-number">34</span>;&amp;\&amp;#<span class="hljs-number">34</span>;å®‹ä½“,å¸¸è§„\&amp;#<span class="hljs-number">34</span>;&amp;<span class="hljs-number">9</span>æ³¨ï¼šæœ¬è¡¨ä¸ºè¥¿å®‰è‘¡è„åŸè½¯ä»¶æœ‰é™è´£ä»»å…¬å¸ä¸“æœ‰ï¼Œæœªç»æœ¬å…¬å¸è®¸å¯ï¼Œä¸å¾—å¤åˆ¶ï¼Œä¸å¾—å°†æœ¬è¡¨æˆ–å…¶ä¸­å†…å®¹ä»¥ä»»ä½•å½¢å¼æä¾›ç»™ç¬¬ä¸‰æ–¹ï¼Œä¹Ÿä¸å¾—ä»¥ä»»ä½•å½¢å¼ï¼Œå…¨éƒ¨æˆ–éƒ¨åˆ†ç”¨äºå…¶ä»–ç›®çš„ã€‚&amp;#<span class="hljs-number">34</span>;);
            }
            
            <span class="hljs-comment">// ...</span>
        }
        workbook.save(pdfOutputPath, pdfSaveOptions);
        Logger.info(&amp;#<span class="hljs-number">34</span>;Excel to PDF conversion completed: &amp;#<span class="hljs-number">34</span>; + pdfOutputPath);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">File</span>(pdfOutputPath);
    } <span class="hljs-keyword">catch</span> (Exception e) {
        Logger.error(&amp;#<span class="hljs-number">34</span>;Error converting Excel to PDF: &amp;#<span class="hljs-number">34</span>; + e.getMessage());
        <span class="hljs-keyword">throw</span> e;
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-comment">// ç¡®ä¿èµ„æºæ­£ç¡®å…³é—­</span>
        <span class="hljs-keyword">if</span> (workbook != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">try</span> {
                workbook.dispose();
            } <span class="hljs-keyword">catch</span> (Exception ignored) {}
        }
    }
}
</code></pre>
<h5 data-id="heading-7">2.3 æ–¹æ¡ˆä¼˜åŠ¿</h5>
<ol>
<li><strong>çµæ´»æ€§</strong>ï¼šå¯å¤„ç†ä»»æ„å¤æ‚çš„Excelæ¨¡æ¿ç»“æ„ï¼ŒåŠ¨æ€ç”ŸæˆSheeté¡µæ•°æ®å¹¶å¯¼å‡º</li>
<li><strong>æ€§èƒ½</strong>ï¼šæœåŠ¡ç«¯å¤„ç†å¤§æ•°æ®é‡æ€§èƒ½æ›´ä¼˜</li>
<li><strong>æ ¼å¼ä¿çœŸ</strong>ï¼šä¸“ä¸šåº“ç¡®ä¿è¾“å‡ºæ–‡ä»¶æ ¼å¼å®Œç¾</li>
<li><strong>å¯æ‰©å±•</strong>ï¼šå¯è½»æ¾æ·»åŠ æ°´å°ã€åŠ å¯†ç­‰é™„åŠ åŠŸèƒ½
1.</li>
</ol>
<h3 data-id="heading-8">ä¸‰. å…¶ä»–å…¸å‹æœåŠ¡ç«¯æ‰©å±•åœºæ™¯ä¸åº”ç”¨</h3>
<h5 data-id="heading-9">3.1 å¯¹æ¥ç¬¬ä¸‰æ–¹ç³»ç»ŸAPI</h5>
<pre><code class="hljs language-C#" lang="C#"><span class="hljs-comment">// ç¤ºä¾‹ï¼šè·å–é’‰é’‰access_token</span>
<span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-built_in">string</span> <span class="hljs-title">GetAccessToken</span>()</span>
{
    <span class="hljs-keyword">if</span> (config.token != &amp;<span class="hljs-meta">#34;&amp;#34; &amp;&amp; DateTime.Compare(DateTime.Now, DateTime.FromOADate(double.Parse(config.token_due_time))) &lt;= 0)</span>
    {
        <span class="hljs-keyword">return</span> config.token;
    }
    <span class="hljs-keyword">else</span>
    {
        PostData postData = <span class="hljs-keyword">new</span> PostData();
        <span class="hljs-keyword">var</span> jd = JsonConvert.DeserializeObject(postData.GetPage(&amp;<span class="hljs-meta">#34;https://oapi.dingtalk.com/gettoken?appkey=&amp;#34; + config.appkey + &amp;#34;&amp;appsecret=&amp;#34; + config.appsecret)) as JObject;</span>
        <span class="hljs-built_in">string</span> accessToken = jd[&amp;<span class="hljs-meta">#34;access_token&amp;#34;].ToString();</span>
        updateTokenDueTime(accessToken, <span class="hljs-number">7200</span>);
        <span class="hljs-keyword">return</span> accessToken;
    }
}
</code></pre>
<h5 data-id="heading-10">3.2 å¯¹æ¥Web Serviceåè®®</h5>
<pre><code class="hljs language-C#" lang="C#"><span class="hljs-comment">// ç¤ºä¾‹ï¼šè°ƒç”¨Web Service</span>
<span class="hljs-built_in">string</span> soapRequest = $@&amp;<span class="hljs-meta">#34;</span>
    
    
        
            
                
                    xxx
                    ......
                
            
        
    
&amp;<span class="hljs-meta">#34;;</span>

<span class="hljs-built_in">string</span> url = &amp;<span class="hljs-meta">#34;xxx&amp;#34;;</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">var</span> httpClient = <span class="hljs-keyword">new</span> HttpClient();
<span class="hljs-comment">// è®¾ç½®HTTPåŸºæœ¬è®¤è¯  </span>
<span class="hljs-keyword">var</span> byteArray = Encoding.ASCII.GetBytes($&amp;<span class="hljs-meta">#34;{_sapUsername}:{_sapPassword}&amp;#34;);</span>
httpClient.DefaultRequestHeaders.Authorization = <span class="hljs-keyword">new</span> System.Net.Http.Headers.AuthenticationHeaderValue(&amp;<span class="hljs-meta">#34;Basic&amp;#34;, Convert.ToBase64String(byteArray));</span>
<span class="hljs-comment">// æ„é€ è¯·æ±‚å†…å®¹  </span>
<span class="hljs-keyword">var</span> content = <span class="hljs-keyword">new</span> StringContent(soapRequest, Encoding.UTF8, &amp;<span class="hljs-meta">#34;text/xml&amp;#34;);</span>
<span class="hljs-comment">// å‘é€POSTè¯·æ±‚å¹¶ç­‰å¾…å“åº”  </span>
HttpResponseMessage response = <span class="hljs-keyword">await</span> httpClient.PostAsync(url, content);
</code></pre>
<h5 data-id="heading-11">3.3 æ–‡ä»¶å“ˆå¸Œå€¼è®¡ç®—</h5>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// ç¤ºä¾‹ï¼šè®¡ç®—æ–‡ä»¶SHA256å“ˆå¸Œå€¼</span>
<span class="hljs-keyword">public</span> String <span class="hljs-title function_">calculateFileHash</span><span class="hljs-params">(String filePath)</span> <span class="hljs-keyword">throws</span> Exception {
    <span class="hljs-type">MessageDigest</span> <span class="hljs-variable">digest</span> <span class="hljs-operator">=</span> MessageDigest.getInstance(&amp;#<span class="hljs-number">34</span>;SHA-<span class="hljs-number">256</span>&amp;#<span class="hljs-number">34</span>;);
    <span class="hljs-type">byte</span>[] fileBytes = Files.readAllBytes(Paths.get(filePath));
    <span class="hljs-type">byte</span>[] hashBytes = digest.digest(fileBytes);
    <span class="hljs-keyword">return</span> bytesToHex(hashBytes);
}
</code></pre>
<h3 data-id="heading-12">å››. è°ƒè¯•ä¸ä¼˜åŒ–æŠ€å·§</h3>
<ol>
<li>
<p><strong>æ—¥å¿—è®°å½•</strong>ï¼šä½¿ç”¨æ´»å­—æ ¼æä¾›çš„Loggerç±»è¾“å‡ºè°ƒè¯•ä¿¡æ¯</p>
<pre><code class="hljs language-Java" lang="Java">  Logger.info(&amp;#<span class="hljs-number">34</span>;å¼€å§‹å¤„ç†Excelå¯¼å‡ºè¯·æ±‚ï¼Œå‚æ•°å¤§å°ï¼š&amp;#<span class="hljs-number">34</span>; + jsonData.length());
</code></pre>
</li>
<li>
<p><strong>é”™è¯¯å¤„ç†</strong>ï¼šå®Œå–„çš„å¼‚å¸¸æ•è·å’Œå¤„ç†æœºåˆ¶</p>
<pre><code class="hljs language-Java" lang="Java">  <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
  } <span class="hljs-keyword">catch</span> (Exception e) {
      Logger.error(&amp;#<span class="hljs-number">34</span>;å¯¼å‡ºExcelå¤±è´¥ï¼š&amp;#<span class="hljs-number">34</span>; + e.getMessage());
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(&amp;#<span class="hljs-number">34</span>;å¯¼å‡ºå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ•°æ®æ ¼å¼&amp;#<span class="hljs-number">34</span>;);
  }
</code></pre>
</li>
<li>
<p><strong>æ€§èƒ½ç›‘æ§</strong>ï¼šè®°å½•å…³é”®æ“ä½œè€—æ—¶</p>
<pre><code class="hljs language-Java" lang="Java">  <span class="hljs-type">long</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> System.currentTimeMillis();
  <span class="hljs-comment">// æ‰§è¡Œæ“ä½œ</span>
  <span class="hljs-type">long</span> <span class="hljs-variable">duration</span> <span class="hljs-operator">=</span> System.currentTimeMillis() - start;
  Logger.info(&amp;#<span class="hljs-number">34</span>;Excelå¡«å……/è½¬æ¢è€—æ—¶ï¼š&amp;#<span class="hljs-number">34</span>; + duration + &amp;#<span class="hljs-number">34</span>;ms&amp;#<span class="hljs-number">34</span>;);
</code></pre>
</li>
</ol>
<h3 data-id="heading-13">ç»“è®º</h3>
<p>æ´»å­—æ ¼ä½ä»£ç å¹³å°é€šè¿‡å…¶å¼ºå¤§çš„æœåŠ¡ç«¯ç¼–ç¨‹èƒ½åŠ›ï¼ŒæˆåŠŸè§£å†³äº†æ ‡å‡†ä½ä»£ç åŠŸèƒ½æ— æ³•æ»¡è¶³å¤æ‚ä¸šåŠ¡éœ€æ±‚çš„æŒ‘æˆ˜ã€‚æœ¬æ–‡å±•ç¤ºçš„Excelæ¨¡æ¿å¡«å……å’Œè½¬æ¢æ–¹æ¡ˆï¼Œä»¥åŠå…¶ä»–æ‰©å±•åœºæ™¯çš„å®ç°ï¼Œå……åˆ†è¯æ˜äº†æ´»å­—æ ¼åœ¨ä¼ä¸šçº§åº”ç”¨å¼€å‘ä¸­çš„çµæ´»æ€§å’Œå¼ºå¤§èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-14">æ‰©å±•é“¾æ¥</h3>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.grapecity.com.cn%2Fsolutions%2Fhuozige" target="_blank" title="https://www.grapecity.com.cn/solutions/huozige" ref="nofollow noopener noreferrer">æ•æ·æ„å»ºä¼ä¸šçº§åº”ç”¨åŠAIæ™ºèƒ½ä½“</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»£ç æ€¥è¯Šå®¤ï¼šç”¨Arthasç»™ä½ çš„Javaåº”ç”¨åšâ€œå¾®åˆ›æ‰‹æœ¯â€]]></title>    <link>https://juejin.cn/post/7582133314686009396</link>    <guid>https://juejin.cn/post/7582133314686009396</guid>    <pubDate>2025-12-11T01:45:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7582133314686009396" data-draft-id="7582096212662697984" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»£ç æ€¥è¯Šå®¤ï¼šç”¨Arthasç»™ä½ çš„Javaåº”ç”¨åšâ€œå¾®åˆ›æ‰‹æœ¯â€"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-11T01:45:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ‚Ÿç©ºç å­—"/> <meta itemprop="url" content="https://juejin.cn/user/3139860942296830"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»£ç æ€¥è¯Šå®¤ï¼šç”¨Arthasç»™ä½ çš„Javaåº”ç”¨åšâ€œå¾®åˆ›æ‰‹æœ¯â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3139860942296830/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ‚Ÿç©ºç å­—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-11T01:45:17.000Z" title="Thu Dec 11 2025 01:45:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-11
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å°æ‚Ÿã€‚</p>
<h2 data-id="heading-0">ä¸€ã€Arthasæ˜¯ä»€ä¹ˆï¼Ÿâ€”â€” Javaç¨‹åºå‘˜çš„â€œç¬¬äºŒåŒçœ¼ç›â€</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼šä½ çš„Javaåº”ç”¨æ­£åœ¨çº¿ä¸Šæ¬¢å¿«åœ°å¥”è·‘ï¼Œçªç„¶æœ‰ä¸€å¤©å®ƒå¼€å§‹â€œå’³å—½å‘çƒ§â€ï¼ˆCPUé£™å‡ï¼‰ã€â€œè®°å¿†è¡°é€€â€ï¼ˆå†…å­˜æ³„æ¼ï¼‰ã€â€œååº”è¿Ÿé’â€ï¼ˆæ¥å£è¶…æ—¶ï¼‰ã€‚ä½ æ€¥å¾—åƒçƒ­é”…ä¸Šçš„èš‚èšï¼Œè¿™æ—¶å€™Arthaså°±åƒä¸ªç©¿ç€ç™½å¤§è¤‚è¿˜å¸¦ç€å¬è¯Šå™¨çš„æç¬‘åŒ»ç”Ÿï¼Œæ‹æ‹ä½ çš„è‚©è†€è¯´ï¼šâ€œå…„å¼Ÿï¼Œè®©æˆ‘æ¥çœ‹çœ‹è¿™è´§åˆ°åº•åœ¨æä»€ä¹ˆé¬¼ï¼â€</p>
<p>Arthasæœ¬è´¨ä¸Šæ˜¯ä¸ª<strong>Javaè¯Šæ–­å·¥å…·</strong>ï¼Œå®ƒæ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„ä¸€ä¸ªâ€œç‘å£«å†›åˆ€â€ï¼Œèƒ½è®©ä½ åœ¨ä¸é‡å¯æœåŠ¡çš„æƒ…å†µä¸‹ï¼š</p>
<ul>
<li>
<p>æŸ¥çœ‹æ–¹æ³•è°ƒç”¨çš„â€œå¿ƒç”µå›¾â€ï¼ˆè°ƒç”¨é“¾ï¼‰</p>
</li>
<li>
<p>ç»™ä»£ç åšâ€œæ´»ä½“ç©¿åˆºâ€ï¼ˆåŠ¨æ€ä¿®æ”¹è¿è¡Œä¸­çš„ä»£ç ï¼‰</p>
</li>
<li>
<p>ç›‘æ§JVMçš„â€œè¡€å‹è¡€è„‚â€ï¼ˆå†…å­˜ã€çº¿ç¨‹ã€GCæƒ…å†µï¼‰</p>
</li>
<li>
<p>ç”šè‡³èƒ½â€œå·å¬â€æ–¹æ³•è°ƒç”¨çš„â€œæ‚„æ‚„è¯â€ï¼ˆå‚æ•°å’Œè¿”å›å€¼ï¼‰</p>
</li>
</ul>
<h2 data-id="heading-1">äºŒã€å®‰è£…ä¸å¯åŠ¨ï¼šç®€å•å¾—åƒä¸ªâ€œå‚»ç“œç›¸æœºâ€</h2>
<h3 data-id="heading-2">1. å®‰è£…ï¼ˆé€‰æ‹©ä¸€ç§æ–¹å¼å³å¯ï¼‰</h3>
<p><strong>æ–¹å¼Aï¼šåœ¨çº¿å®‰è£…ï¼ˆæ¨èæ‡’äººç‰ˆï¼‰</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿™è¡Œå‘½ä»¤æ¯”æ³¡æ–¹ä¾¿é¢è¿˜ç®€å•</span>
curl -O https://arthas.aliyun.com/arthas-boot.jar
</code></pre>
<p><strong>æ–¹å¼Bï¼šDockerç‰ˆï¼ˆè£…Xå¿…å¤‡ï¼‰</strong></p>
<pre><code class="hljs language-bash" lang="bash">docker run --<span class="hljs-built_in">rm</span> -ti \
  --pid=host \
  arthas/arthas:latest
</code></pre>
<p><strong>æ–¹å¼Cï¼šä¼ ç»Ÿæ´¾ï¼ˆæ‰‹åŠ¨ä¸‹è½½ï¼‰</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å‡è£…è¿™æ˜¯ä¸€æ®µJavaä»£ç ï¼Œå…¶å®åªæ˜¯å‡‘æ•°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">HowToDownload</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> {
        System.<span class="hljs-keyword">out</span>.println(&amp;<span class="hljs-meta">#34;1. è®¿é—® https://github.com/alibaba/arthas&amp;#34;);</span>
        System.<span class="hljs-keyword">out</span>.println(&amp;<span class="hljs-meta">#34;2. ç‚¹å‡»é‚£ä¸ªç»¿è‰²çš„'Download'æŒ‰é’®&amp;#34;);</span>
        System.<span class="hljs-keyword">out</span>.println(&amp;<span class="hljs-meta">#34;3. ç­‰å¾…æ—¶å¯ä»¥å»å†²æ¯å’–å•¡&amp;#34;);</span>
    }
}
</code></pre>
<h3 data-id="heading-3">2. å¯åŠ¨ï¼šåƒæ‰“ç”µè¯ä¸€æ ·ç®€å•</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨åä¼šåˆ—å‡ºæ‰€æœ‰Javaè¿›ç¨‹ï¼Œåƒé€‰å¦ƒä¸€æ ·é€‰ä¸€ä¸ª</span>
java -jar arthas-boot.jar

<span class="hljs-comment"># å¦‚æœä½ å·²ç»çŸ¥é“â€œå¦ƒå­â€çš„IDï¼Œå¯ä»¥ç›´æ¥ç‚¹å</span>
java -jar arthas-boot.jar 12345
</code></pre>
<p>å¯åŠ¨æˆåŠŸåï¼Œä½ ä¼šçœ‹åˆ°è¿™ä¸ªå‰ç¥¥ç‰©ï¼š</p>
<pre><code class="hljs language-go" lang="go">  ,---.  ,------. ,--------.,--.  ,--.  ,---.   ,---.
 /  O  \ |  .--. <span class="hljs-string">''</span>--.  .--<span class="hljs-string">'|  '</span>--<span class="hljs-string">'  | /  O  \ '</span>   .-<span class="hljs-string">'
|  .-.  ||  '</span>--<span class="hljs-string">'.'</span>   |  |   |  .--.  ||  .-.  |<span class="hljs-string">`.  `</span>-.
|  | |  ||  |\  \    |  |   |  |  |  ||  | |  |.-<span class="hljs-string">'    |
`--'</span> <span class="hljs-string">`--'`</span>--<span class="hljs-string">' '</span>--<span class="hljs-string">'   `--'</span>   <span class="hljs-string">`--'  `</span>--<span class="hljs-string">'`--'</span> <span class="hljs-string">`--'`</span>-----<span class="hljs-string">'
 
# æ­å–œï¼ä½ ç°åœ¨æ‹¥æœ‰äº†Javaåº”ç”¨çš„â€œä¸Šå¸è§†è§’â€
</span></code></pre>
<h2 data-id="heading-4">ä¸‰ã€å¸¸ç”¨å‘½ä»¤å®æˆ˜ï¼šä»â€œæŠŠè„‰â€åˆ°â€œåŠ¨æ‰‹æœ¯â€</h2>
<h3 data-id="heading-5">1. <strong>dashboardï¼šåº”ç”¨çš„â€œå…¨èº«æ£€æŸ¥æŠ¥å‘Šâ€</strong></h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># è¾“å…¥è¿™ä¸ªå‘½ä»¤ï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªæ¯”ä½“æ£€æŠ¥å‘Šè¿˜è¯¦ç»†çš„é¢æ¿</span>
dashboard

<span class="hljs-meta"># è¾“å‡ºç¤ºä¾‹ï¼ˆç®€åŒ–ç‰ˆï¼‰ï¼š</span>
â”Œâ”€çº¿ç¨‹é¢æ¿â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ çº¿ç¨‹<span class="hljs-number">1</span>: <span class="hljs-number">95</span>% CPU   <span class="hljs-comment">// è¿™å®¶ä¼™åœ¨ç–¯ç‹‚æŒ–çŸ¿ï¼Ÿï¼</span>
â”‚ çº¿ç¨‹<span class="hljs-number">2</span>: WAITING   <span class="hljs-comment">// åœ¨ç­‰å¥³æœ‹å‹å›æ¶ˆæ¯...</span>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€å†…å­˜é¢æ¿â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å †å†…å­˜: <span class="hljs-number">80</span>%      <span class="hljs-comment">// å¿«åƒé¥±äº†</span>
â”‚ éå †: <span class="hljs-number">30</span>%        <span class="hljs-comment">// è¿˜è¡Œè¿˜è¡Œ</span>
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-6">2. <strong>watchï¼šæ–¹æ³•çš„â€œçªƒå¬å™¨â€</strong></h3>
<pre><code class="hljs language-ini" lang="ini">// å‡è®¾ä½ æƒ³ç›‘æ§è¿™ä¸ªæ–¹æ³•ï¼ˆåŒ»ç”Ÿæƒ³å¬ç—…äººçš„å¿ƒè·³ï¼‰
public String getUserInfo(String userId) {
    // ä¸šåŠ¡é€»è¾‘...
    return &amp;<span class="hljs-comment">#34;User_&amp;#34; + userId;</span>
}



<span class="hljs-comment"># ç›‘å¬æ–¹æ³•è°ƒç”¨ï¼Œåƒåœ¨é—¨ä¸Šè£…äº†ä¸ªç›‘å¬å™¨</span>
watch com.example.service.UserService getUserInfo '{params,returnObj}' -x 3

<span class="hljs-comment"># è¾“å‡ºæ•ˆæœï¼š</span>
<span class="hljs-attr">method</span>=getUserInfo location=AtEnter
params<span class="hljs-section">[0]</span>=@String<span class="hljs-section">[1001]</span>    <span class="hljs-comment"># å“¦ï¼Œç”¨æˆ·1001æ¥äº†</span>
---
<span class="hljs-attr">method</span>=getUserInfo location=AtExit
<span class="hljs-attr">returnObj</span>=@String[User_1001] <span class="hljs-comment"># è¿”å›äº†ç”¨æˆ·ä¿¡æ¯</span>
<span class="hljs-attr">cost</span>=<span class="hljs-number">45</span>ms                   <span class="hljs-comment"># èŠ±äº†45æ¯«ç§’ï¼Œè¿˜è¡Œ</span>
</code></pre>
<h3 data-id="heading-7">3. <strong>traceï¼šè°ƒç”¨é“¾çš„â€œä¾¦æ¢åœ°å›¾â€</strong></h3>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è¿½è¸ªæ–¹æ³•è°ƒç”¨ï¼Œåƒç¦å°”æ‘©æ–¯ç ´æ¡ˆ</span>
trace com.example.controller.OrderController createOrder

<span class="hljs-comment"># è¾“å‡ºåƒçŠ¯ç½ªç°åœºè¿˜åŸï¼š</span>
`<span class="hljs-attr">---ts</span>=<span class="hljs-number">2023</span>-<span class="hljs-number">10</span>-<span class="hljs-number">01</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span><span class="hljs-comment">;thread_name=http-nio-8080-exec-1</span>
    `---<span class="hljs-section">[15ms]</span> com.example.controller.OrderController:createOrder()
        +---<span class="hljs-section">[3ms]</span> com.example.service.OrderService:validate()  <span class="hljs-comment"># éªŒè¯èŠ±äº†3ms</span>
        +---<span class="hljs-section">[10ms]</span> com.example.dao.OrderDao:save()            <span class="hljs-comment"># ä¿å­˜èŠ±äº†10ms</span>
        `---<span class="hljs-section">[2ms]</span> com.example.service.EmailService:send()     <span class="hljs-comment"># å‘é‚®ä»¶2ms</span>
<span class="hljs-comment"># ç»“è®ºï¼šæ•°æ®åº“ä¿å­˜æ˜¯ç“¶é¢ˆï¼Œè¯¥ä¼˜åŒ–äº†ï¼</span>
</code></pre>
<h3 data-id="heading-8">4. <strong>jadï¼šæºä»£ç çš„â€œæ—¶å…‰æœºâ€</strong></h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-meta"># åç¼–è¯‘çº¿ä¸Šæ­£åœ¨è¿è¡Œçš„ä»£ç ï¼Œçœ‹çœ‹å®ƒåˆ°åº•é•¿å•¥æ ·</span>
jad com.example.service.BuggyService

<span class="hljs-meta"># è¾“å‡ºç¤ºä¾‹ï¼š</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">BuggyService</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">problematicMethod</span>()</span> {
        <span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>) {  <span class="hljs-comment">// å§æ§½ï¼è¿™é‡Œæœ‰ä¸ªæ­»å¾ªç¯ï¼</span>
            <span class="hljs-comment">// åŸæ¥bugè—åœ¨è¿™é‡Œï¼</span>
        }
    }
}
</code></pre>
<h3 data-id="heading-9">5. <strong>ognlï¼šè¿è¡Œæ—¶â€œè®°å¿†è¯»å–å™¨â€</strong></h3>
<pre><code class="hljs language-scss" lang="scss"># ç›´æ¥è¯»å–Springå®¹å™¨çš„Beanï¼Œåƒè¯»å–åˆ«äººçš„è®°å¿†
ognl '<span class="hljs-selector-id">#context</span>=<span class="hljs-keyword">@com</span>.taobao.arthas.core.ArthasSpringContext<span class="hljs-keyword">@context</span>,
      #context.getBean(&amp;#<span class="hljs-number">34</span>;userService&amp;<span class="hljs-selector-id">#34</span>;)<span class="hljs-selector-class">.getAllUsers</span>()'

# ç”šè‡³å¯ä»¥ä¿®æ”¹å€¼ï¼ˆå°å¿ƒä½¿ç”¨ï¼ï¼‰
ognl '<span class="hljs-selector-id">#user</span>=new <span class="hljs-built_in">User</span>(), <span class="hljs-selector-id">#user</span><span class="hljs-selector-class">.setName</span>(&amp;#<span class="hljs-number">34</span>;Arthas&amp;#<span class="hljs-number">34</span>;), <span class="hljs-selector-id">#user</span>'
</code></pre>
<h3 data-id="heading-10">6. <strong>redefineï¼šçƒ­æ›´æ–°â€œé­”æ³•â€</strong></h3>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ç´§æ€¥ä¿®å¤bugï¼Œä¸ç”¨é‡å¯ï¼åƒç»™é£è¡Œä¸­çš„é£æœºæ¢å¼•æ“</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Hotfix</span> {
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title">buggyMethod</span>()</span> {
        <span class="hljs-comment">// return 1/0;  // åŸæ¥çš„bug</span>
        <span class="hljs-keyword">return</span> &amp;<span class="hljs-meta">#34;fixed!&amp;#34;; // ä¿®å¤åçš„ä»£ç </span>
    }
}



<span class="hljs-meta"># 1. å…ˆç¼–è¯‘ä¿®æ”¹åçš„.javaæ–‡ä»¶</span>
<span class="hljs-meta"># 2. åŠ è½½æ–°class</span>
redefine /path/to/Hotfix.<span class="hljs-keyword">class</span>
<span class="hljs-meta"># 3. æ­å–œï¼bugå·²ä¿®å¤ï¼ŒæœåŠ¡è¿˜åœ¨è¿è¡Œ</span>
</code></pre>
<h2 data-id="heading-11">å››ã€é«˜çº§æŠ€å·§ï¼šæˆä¸ºâ€œè¯Šæ–­å¤§å¸ˆâ€</h2>
<h3 data-id="heading-12">åœºæ™¯1ï¼šCPUé£™é«˜æ€ä¹ˆåŠï¼Ÿ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸‰æ­¥å®šä½æ³•</span>
1. thread -n 3            <span class="hljs-comment"># æ‰¾å‡ºæœ€å¿™çš„3ä¸ªçº¿ç¨‹</span>
2. thread çº¿ç¨‹ID          <span class="hljs-comment"># æŸ¥çœ‹è¯¥çº¿ç¨‹å †æ ˆ</span>
3. jad ç±»å               <span class="hljs-comment"># åç¼–è¯‘ç›¸å…³ä»£ç </span>
<span class="hljs-comment"># é€šå¸¸ä½ ä¼šå‘ç°ï¼šæœ‰äººåœ¨å¾ªç¯é‡Œå†™æ—¥å¿—ã€æ­»å¾ªç¯ã€æˆ–è€…çœŸçš„åœ¨æŒ–çŸ¿</span>
</code></pre>
<h3 data-id="heading-13">åœºæ™¯2ï¼šå†…å­˜æ³„æ¼æ€ä¹ˆæŸ¥ï¼Ÿ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å†…å­˜ä¾¦æ¢å››éƒ¨æ›²</span>
1. dashboard             <span class="hljs-comment"># å…ˆçœ‹æ•´ä½“å†…å­˜æƒ…å†µ</span>
2. heapdump /tmp/dump.hprof  <span class="hljs-comment"># å¯¼å‡ºå †å†…å­˜ï¼ˆåƒæ‹Xå…‰ç‰‡ï¼‰</span>
3. jvm                   <span class="hljs-comment"># æŸ¥çœ‹GCæƒ…å†µ</span>
4. ognl <span class="hljs-string">'@com.example.LeakyClass@map'</span>  <span class="hljs-comment"># æ£€æŸ¥å¯ç–‘é™æ€å˜é‡</span>
</code></pre>
<h3 data-id="heading-14">åœºæ™¯3ï¼šæ…¢æ¥å£åˆ†æ</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ…¢æŸ¥è¯¢è¿½è¸ªå¥—é¤</span>
trace *SpringController* *           <span class="hljs-comment"># è¿½è¸ªæ‰€æœ‰Controller</span>
watch *Service* * <span class="hljs-string">'{params, #cost}'</span>  <span class="hljs-comment"># ç›‘æ§æœåŠ¡å±‚è€—æ—¶</span>
<span class="hljs-comment"># é€šå¸¸ç½ªé­ç¥¸é¦–ï¼šN+1æŸ¥è¯¢ã€å¤§æ–‡ä»¶å¤„ç†ã€ç¬¬ä¸‰æ–¹æ¥å£è¶…æ—¶</span>
</code></pre>
<h2 data-id="heading-15">äº”ã€æ³¨æ„äº‹é¡¹ä¸â€œç¿»è½¦â€é¢„é˜²</h2>
<h3 data-id="heading-16">1. <strong>ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å®ˆåˆ™</strong></h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// åƒè¿™æ ·çš„ä»£ç è¦å°å¿ƒï¼š</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dangerous</span> {
    <span class="hljs-comment">// åˆ«åœ¨ç”Ÿäº§ç¯å¢ƒç–¯ç‹‚traceï¼Œæ€§èƒ½ä¼šå“­çš„</span>
    <span class="hljs-comment">// åˆ«ç”¨é˜»å¡å‘½ä»¤ï¼ˆæ¯”å¦‚scï¼‰ï¼Œé™¤éä½ æƒ³è®©çº¿ç¨‹æ’é˜Ÿ</span>
    <span class="hljs-comment">// çƒ­æ›´æ–°æœ‰é£é™©ï¼Œå¯èƒ½å¼•å‘â€œè–›å®šè°”çš„bugâ€</span>
}
</code></pre>
<h3 data-id="heading-17">2. <strong>å¸¸ç”¨å®‰å…¨æªæ–½</strong></h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># 1. ä½¿ç”¨æŒ‡å®šIPç»‘å®šï¼ˆåˆ«è®©è°éƒ½è¿ï¼‰</span>
<span class="hljs-string">java</span> <span class="hljs-string">-jar</span> <span class="hljs-string">arthas-boot.jar</span> <span class="hljs-string">--telnet-port</span> <span class="hljs-number">3658</span> <span class="hljs-string">--http-port</span> <span class="hljs-number">8563</span> <span class="hljs-string">--target-ip</span> <span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span>

<span class="hljs-comment"># 2. è®¾ç½®ä¼šè¯è¶…æ—¶</span>
<span class="hljs-string">session-timeout</span> <span class="hljs-number">1800</span>  <span class="hljs-comment"># 30åˆ†é’Ÿè‡ªåŠ¨æ–­å¼€</span>

<span class="hljs-comment"># 3. é‡è¦å‘½ä»¤å…ˆæµ‹è¯•</span>
<span class="hljs-comment"># å…ˆåœ¨æµ‹è¯•ç¯å¢ƒç©ç†Ÿäº†å†å»ç”Ÿäº§ç¯å¢ƒâ€œç§€æ“ä½œâ€</span>
</code></pre>
<h2 data-id="heading-18">å…­ã€æ€»ç»“ï¼šä¸ºä»€ä¹ˆä½ éœ€è¦Arthasè¿™ä¸ªâ€œä¼™ä¼´â€ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªåœºæ™¯ï¼šå‡Œæ™¨3ç‚¹ï¼ŒæŠ¥è­¦çŸ­ä¿¡æŠŠä½ ä»ç¾æ¢¦ä¸­åµé†’ã€‚ä»¥å‰ä½ éœ€è¦ï¼š</p>
<ol>
<li>æŒ£æ‰ç€èµ·åºŠ</li>
<li>è¿VPN</li>
<li>æŸ¥æ—¥å¿—</li>
<li>çŒœé—®é¢˜</li>
<li>é‡å¯æœåŠ¡</li>
<li>ç¥ˆç¥·æœ‰ç”¨</li>
</ol>
<p>æœ‰äº†Arthasä¹‹åï¼š</p>
<ol>
<li>åºŠä¸Šæ‰“å¼€ç¬”è®°æœ¬</li>
<li>è¿ä¸ŠArthas</li>
<li><code>dashboard</code>ä¸€çœ¼çœ‹å‡ºé—®é¢˜</li>
<li><code>watch/trace</code>å®šä½å…·ä½“æ–¹æ³•</li>
<li><code>redefine</code>çƒ­ä¿®å¤ï¼ˆå¦‚æœéœ€è¦ï¼‰</li>
<li>ç»§ç»­ç¡è§‰</li>
</ol>
<h3 data-id="heading-19"><strong>Arthasçš„æ ¸å¿ƒä»·å€¼ï¼š</strong></h3>
<ol>
<li><strong>å®æ—¶æ€§</strong>ï¼šåƒç»™åº”ç”¨è£…äº†â€œå®æ—¶ç›‘æ§æ‘„åƒå¤´â€ï¼Œé—®é¢˜å‘ç”Ÿæ—¶ç«‹å³æ•æ‰ç°åœº</li>
<li><strong>æ— ä¾µå…¥</strong>ï¼šä¸éœ€è¦æ”¹ä»£ç ã€åŠ æ—¥å¿—ã€é‡å¯æœåŠ¡ï¼ŒçœŸæ­£çš„â€œé›¶æ‰“æ‰°è¯Šæ–­â€</li>
<li><strong>åŠŸèƒ½å…¨é¢</strong>ï¼šä»æ–¹æ³•çº§ç›‘æ§åˆ°JVMçŠ¶æ€ï¼Œä»å †æ ˆåˆ†æåˆ°çƒ­æ›´æ–°ï¼Œä¸€æŠŠæ¢­</li>
<li><strong>å­¦ä¹ å‹å¥½</strong>ï¼šå‘½ä»¤ç®€å•ç›´è§‚ï¼Œè¿Javaæ–°æ‰‹éƒ½èƒ½å¿«é€Ÿä¸Šæ‰‹</li>
</ol>
<h3 data-id="heading-20"><strong>æœ€åçš„å°å»ºè®®ï¼š</strong></h3>
<p>æŠŠArthaså½“æˆä½ çš„<strong>Javaåº”ç”¨å¬è¯Šå™¨</strong>ï¼Œä½†è®°ä½ï¼š</p>
<ul>
<li>å°ç—…å°ç—›ç”¨<code>watch/trace</code>ï¼ˆæ—¥å¸¸ç›‘æ§ï¼‰</li>
<li>ç–‘éš¾æ‚ç—‡ç”¨<code>jad/ognl</code>ï¼ˆæ·±å…¥æ¢æŸ¥ï¼‰</li>
<li>ç´§æ€¥æŠ¢æ•‘ç”¨<code>redefine</code>ï¼ˆçƒ­ä¿®å¤ï¼‰</li>
<li>å®šæœŸä½“æ£€ç”¨<code>dashboard</code>ï¼ˆå¥åº·æ£€æŸ¥ï¼‰</li>
</ul>
<p>å°±åƒè€ä¸­åŒ»éœ€è¦æœ›é—»é—®åˆ‡ï¼ŒArthaså°±æ˜¯ä½ çš„æ•°å­—å¬è¯Šå™¨ã€Xå…‰æœºã€å¿ƒç”µå›¾ä»ªä¸‰åˆä¸€ã€‚ä¸è¿‡åˆ«å¿˜äº†â€”â€”<strong>å·¥å…·å†å¼ºå¤§ï¼Œä¹Ÿæ›¿ä»£ä¸äº†ä½ å¯¹ä»£ç çš„æ·±å…¥ç†è§£</strong>ã€‚Arthasèƒ½å¸®ä½ å¿«é€Ÿæ‰¾åˆ°é—®é¢˜ï¼Œä½†è§£å†³é—®é¢˜çš„æ ¹æœ¬ï¼Œè¿˜æ˜¯å†™å‡ºå¥å£®çš„ä»£ç å’Œè‰¯å¥½çš„æ¶æ„ã€‚</p>
<hr/>
<p>Arthasè™½å¥½ï¼Œå¯ä¸è¦è´ªæ¯å“¦ï¼ç”Ÿäº§ç¯å¢ƒä½¿ç”¨æ—¶ï¼Œè®°å¾—å…ˆåœ¨å°æµé‡æˆ–æµ‹è¯•ç¯å¢ƒéªŒè¯å‘½ä»¤æ•ˆæœï¼Œé¿å…â€œè¯Šæ–­å·¥å…·å˜æ•…éšœåˆ¶é€ å™¨â€çš„å°´å°¬å±€é¢ã€‚ç¥ä½ å’Œä½ çš„Javaåº”ç”¨éƒ½å¥åº·è¿è¡Œï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22256f6cb05c46bab50516b75492cbec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oKf56m656CB5a2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1766022316&amp;x-signature=%2B9SnkBA75ILlmD2FWPW7eq3qDIs%3D" alt="ä»£ç æ€¥è¯Šå®¤ï¼šç”¨Arthasç»™ä½ çš„Javaåº”ç”¨åšâ€œå¾®åˆ›æ‰‹æœ¯â€.png" loading="lazy"/></p>
<p><strong>è°¢è°¢ä½ çœ‹æˆ‘çš„æ–‡ç« ï¼Œæ—¢ç„¶çœ‹åˆ°è¿™é‡Œäº†ï¼Œå¦‚æœè§‰å¾—ä¸é”™ï¼Œéšæ‰‹ç‚¹ä¸ªèµã€è½¬å‘ã€åœ¨çœ‹ä¸‰è¿å§ï¼Œæ„Ÿè°¢æ„Ÿè°¢ã€‚é‚£æˆ‘ä»¬ï¼Œä¸‹æ¬¡å†è§ã€‚</strong></p>
<p>æ‚¨çš„ä¸€é”®ä¸‰è¿ï¼Œæ˜¯æˆ‘æ›´æ–°çš„æœ€å¤§åŠ¨åŠ›ï¼Œè°¢è°¢</p>
<p>å±±æ°´æœ‰ç›¸é€¢ï¼Œæ¥æ—¥çš†å¯æœŸï¼Œè°¢è°¢é˜…è¯»ï¼Œæˆ‘ä»¬å†ä¼š</p>
<p>æˆ‘æ‰‹ä¸­çš„é‡‘ç®æ£’ï¼Œä¸Šèƒ½é€šå¤©ï¼Œä¸‹èƒ½æ¢æµ·</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>