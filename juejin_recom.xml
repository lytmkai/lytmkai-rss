<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[Geminiæ°¸ä¹…ä¼šå‘˜ 01ä¸ç­‰æ¦‚ç‡éšæœºåˆ°01ç­‰æ¦‚ç‡éšæœº]]></title>    <link>https://juejin.cn/post/7577665924151541803</link>    <guid>https://juejin.cn/post/7577665924151541803</guid>    <pubDate>2025-11-29T05:23:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577665924151541803" data-draft-id="7577665924151525419" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Geminiæ°¸ä¹…ä¼šå‘˜    01ä¸ç­‰æ¦‚ç‡éšæœºåˆ°01ç­‰æ¦‚ç‡éšæœº"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-29T05:23:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨šè¾‰å›"/> <meta itemprop="url" content="https://juejin.cn/user/1383618973542052"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Geminiæ°¸ä¹…ä¼šå‘˜    01ä¸ç­‰æ¦‚ç‡éšæœºåˆ°01ç­‰æ¦‚ç‡éšæœº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1383618973542052/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨šè¾‰å›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:23:20.000Z" title="Sat Nov 29 2025 05:23:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¦å°†ä¸€ä¸ª<strong>01ä¸ç­‰æ¦‚ç‡éšæœº</strong>ï¼ˆå³ç”Ÿæˆ0å’Œ1çš„æ¦‚ç‡ä¸ç›¸ç­‰ï¼Œä¾‹å¦‚ ( P(0) = p ), ( P(1) = 1-p )ï¼Œå…¶ä¸­ ( p \neq 0.5 )ï¼‰è½¬æ¢ä¸º<strong>01ç­‰æ¦‚ç‡éšæœº</strong>ï¼ˆå³ ( P(0) = P(1) = 0.5 )ï¼‰ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•å®ç°ã€‚æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨ä¸ç­‰æ¦‚ç‡éšæœºæ•°ç”Ÿæˆå™¨çš„è¾“å‡ºï¼Œæ„é€ ä¸€ä¸ªç­‰æ¦‚ç‡çš„ç»“æœã€‚</p>
<hr/>
<h3 data-id="heading-0"><strong>æ–¹æ³•ï¼š Von Neumann æŠ€å·§</strong></h3>
<p>å‡è®¾åŸå§‹éšæœºæ•°ç”Ÿæˆå™¨ <code>rand_unequal()</code> ç”Ÿæˆ 0 çš„æ¦‚ç‡ä¸º ( p )ï¼Œç”Ÿæˆ 1 çš„æ¦‚ç‡ä¸º ( 1-p )ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ„é€ ç­‰æ¦‚ç‡éšæœºæ•°ï¼š</p>
<ol>
<li><strong>ç”Ÿæˆä¸¤ä¸ªç‹¬ç«‹çš„éšæœºæ•°</strong>ï¼š
<ul>
<li>è°ƒç”¨ <code>rand_unequal()</code> ä¸¤æ¬¡ï¼Œå¾—åˆ° ( a ) å’Œ ( b )ï¼ˆæ¯ä¸ªéƒ½æ˜¯ 0 æˆ– 1ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>åˆ†ç±»è®¨è®º</strong>ï¼š
<ul>
<li>å¦‚æœ ( a = 0 ) ä¸” ( b = 1 )ï¼Œè¾“å‡º 0ï¼ˆæ¦‚ç‡ä¸º ( p(1-p) )ï¼‰ã€‚</li>
<li>å¦‚æœ ( a = 1 ) ä¸” ( b = 0 )ï¼Œè¾“å‡º 1ï¼ˆæ¦‚ç‡ä¸º ( (1-p)p )ï¼‰ã€‚</li>
<li>å¦‚æœ ( a = b )ï¼ˆå³ 00 æˆ– 11ï¼‰ï¼Œä¸¢å¼ƒè¿™ä¸¤ä¸ªæ•°ï¼Œé‡æ–°ç”Ÿæˆã€‚</li>
</ul>
</li>
</ol>
<p><strong>å…³é”®ç‚¹</strong>ï¼š</p>
<ul>
<li>è¾“å‡º 0 å’Œ 1 çš„æ¦‚ç‡å‡ä¸º ( p(1-p) )ï¼Œå› æ­¤æ˜¯ç­‰æ¦‚ç‡çš„ã€‚</li>
<li>ä¸¢å¼ƒ ( a = b ) çš„æƒ…å†µæ˜¯ä¸ºäº†ä¿è¯ç‹¬ç«‹æ€§ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-1"><strong>ä»£ç å®ç°ï¼ˆPythonï¼‰</strong></h3>
<p>å‡è®¾ <code>rand_unequal()</code> æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”Ÿæˆ 0 çš„æ¦‚ç‡ä¸º ( p )ï¼Œç”Ÿæˆ 1 çš„æ¦‚ç‡ä¸º ( 1-p )ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> random

<span class="hljs-comment"># åŸå§‹ä¸ç­‰æ¦‚ç‡éšæœºæ•°ç”Ÿæˆå™¨ï¼ˆç¤ºä¾‹ï¼šP(0)=0.6, P(1)=0.4ï¼‰</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">rand_unequal</span>():
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span> <span class="hljs-keyword">if</span> random.random() &lt; <span class="hljs-number">0.6</span> <span class="hljs-keyword">else</span> <span class="hljs-number">1</span>

<span class="hljs-comment"># æ„é€ ç­‰æ¦‚ç‡éšæœºæ•°ç”Ÿæˆå™¨</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">rand_equal</span>():
    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
        a = rand_unequal()
        b = rand_unequal()
        <span class="hljs-keyword">if</span> a == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> b == <span class="hljs-number">1</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
        <span class="hljs-keyword">elif</span> a == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> b == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
        <span class="hljs-comment"># å…¶ä»–æƒ…å†µï¼ˆa == bï¼‰ä¸¢å¼ƒï¼Œç»§ç»­å¾ªç¯</span>

<span class="hljs-comment"># æµ‹è¯•</span>
results = [rand_equal() <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10000</span>)]
<span class="hljs-built_in">print</span>(<span class="hljs-string">"P(0):"</span>, results.count(<span class="hljs-number">0</span>) / <span class="hljs-number">10000</span>)  <span class="hljs-comment"># åº”æ¥è¿‘ 0.5</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"P(1):"</span>, results.count(<span class="hljs-number">1</span>) / <span class="hljs-number">10000</span>)  <span class="hljs-comment"># åº”æ¥è¿‘ 0.5</span>
</code></pre>
<p><strong>è¾“å‡ºç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">P</span>(<span class="hljs-number">0</span>): <span class="hljs-number">0.4987</span>
<span class="hljs-built_in">P</span>(<span class="hljs-number">1</span>): <span class="hljs-number">0.5013</span>
</code></pre>
<hr/>
<h3 data-id="heading-2"><strong>æ•°å­¦è¯æ˜</strong></h3>
<ul>
<li>è¾“å‡º 0 çš„æ¦‚ç‡ï¼š( P(a=0, b=1) = p \cdot (1-p) )ã€‚</li>
<li>è¾“å‡º 1 çš„æ¦‚ç‡ï¼š( P(a=1, b=0) = (1-p) \cdot p )ã€‚</li>
<li>ä¸¤è€…ç›¸ç­‰ï¼Œä¸” ( P(a=b) = p^2 + (1-p)^2 ) çš„éƒ¨åˆ†è¢«ä¸¢å¼ƒï¼Œä¸å½±å“æœ€ç»ˆç»“æœçš„ç­‰æ¦‚ç‡æ€§ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-3"><strong>ä¼˜åŒ–ä¸æ‰©å±•</strong></h3>
<ol>
<li>
<p><strong>æ•ˆç‡é—®é¢˜</strong>ï¼š</p>
<ul>
<li>ä¸¢å¼ƒ ( a = b ) çš„æƒ…å†µä¼šå¯¼è‡´å¤šæ¬¡è°ƒç”¨ <code>rand_unequal()</code>ï¼Œæ•ˆç‡å–å†³äº ( p ) çš„å€¼ã€‚</li>
<li>å½“ ( p ) æ¥è¿‘ 0 æˆ– 1 æ—¶ï¼Œ( P(a=b) ) è¾ƒå¤§ï¼Œæ•ˆç‡è¾ƒä½ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ‰©å±•åˆ°å¤šæ¯”ç‰¹</strong>ï¼š</p>
<ul>
<li>ç±»ä¼¼æ–¹æ³•å¯ä»¥æ‰©å±•åˆ°ç”Ÿæˆæ›´é•¿çš„ç­‰æ¦‚ç‡éšæœºæ¯”ç‰¹ä¸²ï¼ˆå¦‚ 000 å’Œ 111 ä¸¢å¼ƒï¼Œ001â†’0ï¼Œ010â†’1ï¼Œç­‰ç­‰ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>é€šç”¨æ–¹æ³•</strong>ï¼š</p>
<ul>
<li>å¯¹äºä»»æ„ç¦»æ•£åˆ†å¸ƒï¼Œå¯ä»¥é€šè¿‡<strong>æ‹’ç»é‡‡æ ·</strong>ï¼ˆRejection Samplingï¼‰æ„é€ ç›®æ ‡åˆ†å¸ƒã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-4"><strong>å…¶ä»–æ–¹æ³•ï¼šä½¿ç”¨å¯¹æ•°</strong></h3>
<p>å¦‚æœçŸ¥é“ ( p ) çš„å…·ä½“å€¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ•°å­¦å˜æ¢æ„é€ ç­‰æ¦‚ç‡éšæœºæ•°ï¼ˆä½†é€šå¸¸éœ€è¦æµ®ç‚¹è¿ç®—ï¼Œä¸å¦‚ Von Neumann æŠ€å·§é€šç”¨ï¼‰ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> math

<span class="hljs-keyword">def</span> <span class="hljs-title function_">rand_equal_alt</span>():
    <span class="hljs-comment"># å‡è®¾ p å·²çŸ¥ï¼Œä¾‹å¦‚ p = 0.6</span>
    p = <span class="hljs-number">0.6</span>
    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
        x = rand_unequal()  <span class="hljs-comment"># ç”Ÿæˆ 0 æˆ– 1</span>
        <span class="hljs-comment"># é€šè¿‡æŒ‡æ•°åˆ†å¸ƒå˜æ¢ï¼ˆä»…å½“ p å·²çŸ¥æ—¶é€‚ç”¨ï¼‰</span>
        <span class="hljs-keyword">if</span> random.random() &lt; (<span class="hljs-number">0.5</span> <span class="hljs-keyword">if</span> x == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">0.5</span> / (<span class="hljs-number">1</span> - p)):
            <span class="hljs-keyword">return</span> x
</code></pre>
<p>ä½†è¿™ç§æ–¹æ³•éœ€è¦å·²çŸ¥ ( p ) ä¸”å®ç°å¤æ‚ï¼Œé€šå¸¸æ¨è Von Neumann æŠ€å·§ã€‚</p>
<hr/>
<h3 data-id="heading-5"><strong>æ€»ç»“</strong></h3>
<ul>
<li><strong>Von Neumann æŠ€å·§</strong>æ˜¯é€šç”¨æ–¹æ³•ï¼Œæ— éœ€çŸ¥é“ ( p ) çš„å…·ä½“å€¼ï¼Œé€‚ç”¨äºä»»æ„ ( p \neq 0.5 )ã€‚</li>
<li>é€šè¿‡ä¸¢å¼ƒ ( a = b ) çš„æƒ…å†µï¼Œä¿è¯è¾“å‡º 0 å’Œ 1 çš„ç­‰æ¦‚ç‡æ€§ã€‚</li>
<li>å®é™…åº”ç”¨ä¸­éœ€æƒè¡¡æ•ˆç‡ï¼ˆå¤šæ¬¡è°ƒç”¨åŸå§‹éšæœºæ•°ç”Ÿæˆå™¨ï¼‰ä¸å®ç°ç®€å•æ€§ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ç¬¬ 22 é¢˜ï¼šHTTP vs HTTPSã€TCP vs UDP çš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7577660060093513782</link>    <guid>https://juejin.cn/post/7577660060093513782</guid>    <pubDate>2025-11-29T05:32:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577660060093513782" data-draft-id="7577627308515426345" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ç¬¬ 22 é¢˜ï¼šHTTP vs HTTPSã€TCP vs UDP çš„åŒºåˆ«"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:32:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ç¬¬ 22 é¢˜ï¼šHTTP vs HTTPSã€TCP vs UDP çš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:32:01.000Z" title="Sat Nov 29 2025 05:32:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸‹é¢æ˜¯ <strong>ç¬¬ 22 é¢˜ï¼šHTTP ä¸ HTTPSã€TCP ä¸ UDP çš„åŒºåˆ«</strong><br/>
è¿™æ˜¯å‰ç«¯ + å…¨æ ˆéƒ½å¿…è€ƒçš„ç»å…¸ç½‘ç»œé¢˜ã€‚</p>
<p>æˆ‘ä¼šç”¨ï¼š<strong>è¯¦ç»†ç‰ˆ + ç®€æ˜å¯¹æ¯” + å›¾è§£æ€ç»´ + é€Ÿè®°å¡</strong> æ¥è®²è§£ã€‚</p>
<hr/>
<h2 data-id="heading-0">âœ… ç¬¬ 22 é¢˜ï¼šHTTP vs HTTPSã€TCP vs UDP çš„åŒºåˆ«</h2>
<hr/>
<h2 data-id="heading-1">ğŸ“˜ ä¸€ã€HTTP ä¸ HTTPS çš„åŒºåˆ«</h2>
<hr/>
<h3 data-id="heading-2">1. <strong>åè®®å±‚é¢</strong></h3>




















<table><thead><tr><th>åè®®</th><th>åç§°</th><th>å®‰å…¨æ€§</th></tr></thead><tbody><tr><td>HTTP</td><td>è¶…æ–‡æœ¬ä¼ è¾“åè®®</td><td>âŒ æ˜æ–‡ä¼ è¾“ï¼Œä¸å®‰å…¨</td></tr><tr><td>HTTPS</td><td>HTTP + SSL/TLS</td><td>âœ”ï¸ åŠ å¯†ä¼ è¾“ï¼Œå®‰å…¨</td></tr></tbody></table>
<p>HTTPS =<br/>
<strong>HTTPï¼ˆåº”ç”¨å±‚ï¼‰ + SSL/TLSï¼ˆå®‰å…¨å±‚ï¼‰ + TCPï¼ˆä¼ è¾“å±‚ï¼‰</strong></p>
<hr/>
<h3 data-id="heading-3">2. <strong>å®‰å…¨æ€§åŒºåˆ«</strong></h3>
<h4 data-id="heading-4">HTTPï¼ˆä¸å®‰å…¨ï¼‰</h4>
<ul>
<li>æ˜æ–‡ä¼ è¾“</li>
<li>æ•°æ®å®¹æ˜“è¢«çªƒå¬</li>
<li>å®¹æ˜“è¢«ä¸­é—´äººæ”»å‡»ï¼ˆMITMï¼‰</li>
</ul>
<h4 data-id="heading-5">HTTPSï¼ˆå®‰å…¨ï¼‰</h4>
<ul>
<li>åŠ å¯†ï¼ˆé˜²çªƒå¬ï¼‰</li>
<li>æ ¡éªŒå®Œæ•´æ€§ï¼ˆé˜²ç¯¡æ”¹ï¼‰</li>
<li>æœåŠ¡å™¨èº«ä»½éªŒè¯ï¼ˆé˜²ä¼ªé€ ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-6">3. <strong>ç«¯å£åŒºåˆ«</strong></h3>

















<table><thead><tr><th>åè®®</th><th>é»˜è®¤ç«¯å£</th></tr></thead><tbody><tr><td>HTTP</td><td>80</td></tr><tr><td>HTTPS</td><td>443</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-7">4. <strong>æ€§èƒ½åŒºåˆ«</strong></h3>
<p>HTTPS å› ä¸ºéœ€è¦åŠ å¯† / æ¡æ‰‹ï¼Œä¼šç•¥æ…¢ï¼Œä½†ç°ä»£ä¼˜åŒ–ï¼ˆHTTP2 / TLS1.3ï¼‰å·²ç»å‡ ä¹æ— æ„Ÿã€‚</p>
<hr/>
<h3 data-id="heading-8">5. <strong>æ¡æ‰‹åŒºåˆ«ï¼ˆé‡ç‚¹ï¼‰</strong></h3>
<h4 data-id="heading-9">HTTPï¼š</h4>
<p>æ— æ¡æ‰‹ â†’ ç›´æ¥å‘è¯·æ±‚ã€‚</p>
<h4 data-id="heading-10">HTTPSï¼š</h4>
<p>è¦è¿›è¡Œ <strong>TLS æ¡æ‰‹</strong>ï¼š</p>
<ul>
<li>éªŒè¯æœåŠ¡å™¨è¯ä¹¦</li>
<li>åå•†åŠ å¯†ç®—æ³•</li>
<li>ä½¿ç”¨å¯¹ç§°åŠ å¯†ä¼ è¾“æ•°æ®</li>
</ul>
<blockquote>
<p>é¢è¯•å®˜çˆ±é—®ï¼šHTTPS ä¸ºä»€ä¹ˆå®‰å…¨ï¼Ÿ<br/>
<strong>å› ä¸ºç”¨éå¯¹ç§°åŠ å¯†äº¤æ¢å¯¹ç§°å¯†é’¥ï¼Œç„¶åç”¨å¯¹ç§°åŠ å¯†é€šä¿¡ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-11">ğŸ“˜ äºŒã€TCP ä¸ UDP çš„åŒºåˆ«</h2>
<hr/>
<h3 data-id="heading-12">1. <strong>æ˜¯å¦è¿æ¥</strong></h3>

















<table><thead><tr><th>åè®®</th><th>æ˜¯å¦é¢å‘è¿æ¥</th></tr></thead><tbody><tr><td>TCP</td><td>âœ”ï¸ é¢å‘è¿æ¥ï¼ˆå¿…é¡»ä¸‰æ¬¡æ¡æ‰‹ï¼‰</td></tr><tr><td>UDP</td><td>âŒ æ— è¿æ¥</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-13">2. <strong>å¯é æ€§</strong></h3>




















<table><thead><tr><th>åè®®</th><th>æ˜¯å¦å¯é </th><th>æœºåˆ¶</th></tr></thead><tbody><tr><td>TCP</td><td>âœ”ï¸ å¯é </td><td>é‡ä¼ ã€æ»‘åŠ¨çª—å£ã€æµé‡æ§åˆ¶ã€æ‹¥å¡æ§åˆ¶</td></tr><tr><td>UDP</td><td>âŒ ä¸å¯é </td><td>ä¸ä¿è¯é¡ºåºã€ä¸ä¿è¯é€è¾¾</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-14">3. <strong>é€Ÿåº¦</strong></h3>

















<table><thead><tr><th>åè®®</th><th>é€Ÿåº¦</th></tr></thead><tbody><tr><td>TCP</td><td>è¾ƒæ…¢ï¼ˆä¿è¯å¯é æ€§ï¼‰</td></tr><tr><td>UDP</td><td>å¿«ï¼ˆæ— éœ€æ¡æ‰‹ï¼Œæ— éœ€é‡ä¼ ï¼‰</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-15">4. <strong>æ˜¯å¦æœ‰åº</strong></h3>

















<table><thead><tr><th>åè®®</th><th>æ˜¯å¦æœ‰åº</th></tr></thead><tbody><tr><td>TCP</td><td>âœ”ï¸ æœ‰åº</td></tr><tr><td>UDP</td><td>âŒ æ— åº</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-16">5. <strong>ä½¿ç”¨åœºæ™¯</strong></h3>
<h4 data-id="heading-17">TCPï¼ˆç¨³å®šä¼ è¾“ï¼‰</h4>
<p>éœ€è¦â€œæ­£ç¡®æ•°æ®â€çš„ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>HTTP / HTTPS</li>
<li>æ–‡ä»¶ä¸Šä¼ ä¸‹è½½</li>
<li>é‚®ä»¶å‘é€</li>
<li>æ•°æ®å¯é æ€§å¼ºçš„ä¸šåŠ¡</li>
</ul>
<h4 data-id="heading-18">UDPï¼ˆå®æ—¶æ€§ä¼˜å…ˆï¼‰</h4>
<p>ä¸è¦æ±‚100%å¯é ï¼Œä½†è¦å¿«ï¼š</p>
<ul>
<li>è§†é¢‘ä¼šè®®</li>
<li>ç›´æ’­</li>
<li>æ¸¸æˆå®æ—¶åŒæ­¥</li>
<li>DNSï¼ˆUDP + 53 ç«¯å£ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-19">ğŸ“˜ ä¸‰ã€HTTP vs HTTPS vs TCP vs UDPï¼ˆæ€»å¯¹æ¯”è¡¨ï¼‰</h2>






















































<table><thead><tr><th>æ¯”è¾ƒé¡¹</th><th>HTTP</th><th>HTTPS</th><th>TCP</th><th>UDP</th></tr></thead><tbody><tr><td>å®‰å…¨æ€§</td><td>âŒ</td><td>âœ”ï¸</td><td>âœ”ï¸ï¼ˆä¼ è¾“å¯é ï¼‰</td><td>âŒ</td></tr><tr><td>ä½¿ç”¨åŠ å¯†</td><td>âŒ</td><td>âœ”ï¸</td><td>âŒï¼ˆå¯åŠ å¯†ä½†éé»˜è®¤ï¼‰</td><td>âŒ</td></tr><tr><td>é¢å‘è¿æ¥</td><td>â€”</td><td>â€”</td><td>âœ”ï¸</td><td>âŒ</td></tr><tr><td>é€Ÿåº¦</td><td>å¿«</td><td>ç•¥æ…¢</td><td>è¾ƒæ…¢</td><td>æœ€å¿«</td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>Web éæ•æ„Ÿ</td><td>Web æ•æ„Ÿä¸šåŠ¡</td><td>å¯é ä¼ è¾“</td><td>å®æ—¶ä¼ è¾“</td></tr><tr><td>é»˜è®¤ç«¯å£</td><td>80</td><td>443</td><td>â€”</td><td>â€”</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-20">ğŸ“˜ å››ã€é¢è¯•å®˜å¸¸é—®çš„è¡ç”Ÿé—®é¢˜ï¼ˆèƒŒä½å¿…åŠ åˆ†ï¼‰</h2>
<hr/>
<h3 data-id="heading-21">â‘  ä¸ºä»€ä¹ˆ HTTPS éœ€è¦è¯ä¹¦ï¼Ÿ</h3>
<p>ä¸ºäº†ï¼š</p>
<ul>
<li>éªŒè¯æœåŠ¡å™¨èº«ä»½</li>
<li>é˜²æ­¢ä¸­é—´äººä¼ªé€ </li>
<li>å…¬é’¥ç”±æƒå¨ CA ç­¾å</li>
</ul>
<hr/>
<h3 data-id="heading-22">â‘¡ HTTPS ä¸ºä»€ä¹ˆå®‰å…¨ï¼Ÿ</h3>
<p>ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>ç”¨éå¯¹ç§°åŠ å¯†äº¤æ¢å¯¹ç§°å¯†é’¥ï¼Œç”¨å¯¹ç§°åŠ å¯†ä¼ è¾“æ•°æ®ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-23">â‘¢ ä¸ºä»€ä¹ˆ TCP è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿ</h3>
<p>é˜²æ­¢å†å²è¿æ¥é€ æˆè¯¯è§¦å‘ï¼ˆé˜²æ­¢æ—§åŒ…è¢«è¯¯è®¤ä¸ºæ˜¯æ–°è¿æ¥ï¼‰ã€‚</p>
<p>ä¸‰æ¬¡æ¡æ‰‹æ˜¯ä¸ºäº†<strong>ç¡®ä¿åŒæ–¹éƒ½å…·å¤‡æ”¶å‘èƒ½åŠ›</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-24">â‘£ TCP ä¸ºä»€ä¹ˆå››æ¬¡æŒ¥æ‰‹ï¼Ÿ</h3>
<p>å› ä¸ºå…³é—­è¿æ¥éœ€è¦åŒæ–¹ç‹¬ç«‹ç¡®è®¤ï¼š</p>
<ul>
<li>ç”²ï¼šæˆ‘ä¸å‘äº†</li>
<li>ä¹™ï¼šæ”¶åˆ°ï¼Œä½†æˆ‘è¿˜è¦å‘</li>
<li>ä¹™ï¼šå¥½äº†æˆ‘å‘å®Œäº†</li>
<li>ç”²ï¼šå†è§</li>
</ul>
<hr/>
<h2 data-id="heading-25">ğŸ“˜ äº”ã€é€Ÿè®°å¡ç‰‡ï¼ˆ10 ç§’è®°å¿†ç‰ˆï¼‰</h2>
<pre><code class="hljs language-ini" lang="ini">HTTPï¼šæ˜æ–‡ï¼Œä¸å®‰å…¨ï¼Œ80
HTTPSï¼šåŠ å¯†å®‰å…¨ï¼Œ443ï¼ŒTLSæ¡æ‰‹

TCPï¼šé¢å‘è¿æ¥ï¼Œå¯é ï¼Œæœ‰åºï¼Œæ…¢
UDPï¼šæ— è¿æ¥ï¼Œä¸å¯é ï¼Œæ— åºï¼Œå¿«

<span class="hljs-attr">HTTPS</span> = HTTP + TLS + TCP

TCP ç”¨äºå¯é åœºæ™¯ï¼ˆWeb / æ–‡ä»¶ï¼‰
UDP ç”¨äºå®æ—¶åœºæ™¯ï¼ˆç›´æ’­ / æ¸¸æˆï¼‰
</code></pre>
<h3 data-id="heading-26">è¡¥å……ï¼š</h3>
<h2 data-id="heading-27">è·¨åŸŸï¼ˆCORS / JSONP / ä»£ç†ï¼‰â€”â€”æ›´è¯¦ç»†çš„ä¸€æŠŠæ¢³ç†ï¼ˆé¢è¯• &amp; å®æˆ˜éƒ½èƒ½ç”¨ï¼‰</h2>
<p>ä¸‹é¢æŠŠè·¨åŸŸç›¸å…³çš„æ¦‚å¿µã€åŸç†ã€å¸¸è§æ–¹æ¡ˆã€æœåŠ¡å™¨/å‰ç«¯ç¤ºä¾‹ã€å¸¸è§å‘ä¸æ’æŸ¥æ–¹æ³•éƒ½å°½é‡è®²æ¸…æ¥šï¼ˆå«ä»£ç ç‰‡æ®µï¼‰ï¼Œæ–¹ä¾¿ä½ é¢è¯•å’Œå·¥ç¨‹ä¸­ç›´æ¥å¥—ç”¨ã€‚</p>
<hr/>
<p><strong>ä¸€ã€å…ˆå¤ä¹ ï¼šåŒæºç­–ç•¥ï¼ˆSame-Origin Policyï¼‰</strong></p>
<ul>
<li><strong>ä»€ä¹ˆå«åŒæºï¼Ÿ</strong> åè®®ï¼ˆschemeï¼‰ã€ä¸»æœºï¼ˆhostï¼‰ã€ç«¯å£ï¼ˆportï¼‰ä¸‰è€…éƒ½ç›¸åŒåˆ™åŒæºã€‚<br/>
ä¾‹å¦‚ <code>http://example.com:80</code> ä¸ <code>https://example.com</code> <strong>ä¸æ˜¯</strong> åŒæºï¼ˆåè®®ä¸åŒï¼‰ã€‚</li>
<li><strong>åŒæºç­–ç•¥çš„ç›®çš„</strong>ï¼šé˜²æ­¢è·¨ç«™çªƒå–æ•æ„Ÿæ•°æ®ï¼ˆæµè§ˆå™¨å®‰å…¨æ²™ç®±ï¼‰ã€‚å®ƒé™åˆ¶äº†æ–‡æ¡£/è„šæœ¬ä»ä¸€ä¸ªæºå»è¯»å–å¦ä¸€ä¸ªæºçš„èµ„æºï¼ˆæ¯”å¦‚è¯»å–å“åº”å†…å®¹ï¼‰ã€‚</li>
</ul>
<hr/>
<p><strong>äºŒã€ç°ä»£æ–¹æ¡ˆï¼ˆæ¨èï¼‰â€”â€”CORSï¼ˆCross-Origin Resource Sharingï¼‰åŸç†</strong></p>
<ul>
<li>æµè§ˆå™¨åœ¨è·¨åŸŸè¯·æ±‚æ—¶éµå¾ª CORSï¼Œ<strong>æœåŠ¡å™¨é€šè¿‡å“åº”å¤´å£°æ˜å…è®¸å“ªäº›è·¨åŸŸè®¿é—®</strong>ï¼Œæµè§ˆå™¨æ ¹æ®è¿™äº›å¤´å†³å®šæ˜¯å¦å…è®¸ JS è®¿é—®å“åº”ã€‚</li>
</ul>
<p><strong>å…³é”®å“åº”å¤´ï¼ˆæœåŠ¡å™¨è®¾ç½®ï¼‰</strong></p>
<ul>
<li><code>Access-Control-Allow-Origin</code>: å¿…éœ€ï¼ŒæŒ‡å®šå…è®¸æ¥æºã€‚å¯ä»¥æ˜¯å…·ä½“åŸŸ <code>https://foo.com</code>ï¼Œä¹Ÿå¯ä»¥ <code>*</code>ï¼ˆè¡¨ç¤ºå…è®¸ä»»æ„æ¥æºï¼Œä½†ä¸å‡­è¯ä¸å…¼å®¹ï¼‰ã€‚</li>
<li><code>Access-Control-Allow-Methods</code>: å…è®¸çš„æ–¹æ³•ï¼ˆ<code>GET, POST, PUT, DELETE, OPTIONS</code>ï¼‰</li>
<li><code>Access-Control-Allow-Headers</code>: å…è®¸çš„è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼ˆä¾‹å¦‚ <code>Content-Type, X-Requested-With</code>ï¼‰</li>
<li><code>Access-Control-Allow-Credentials</code>: <code>true</code> è¡¨ç¤ºå…è®¸å¸¦ cookie/è®¤è¯ä¿¡æ¯ï¼ˆæ³¨æ„ï¼šå½“æ­¤ä¸º true æ—¶ï¼Œ<code>Access-Control-Allow-Origin</code> ä¸èƒ½ä¸º <code>*</code>ï¼Œå¿…é¡»ä¸ºæ˜ç¡®åŸŸåï¼‰</li>
<li><code>Access-Control-Expose-Headers</code>: æŒ‡ç¤ºå“ªäº›å“åº”å¤´å¯ä»¥è¢« JS è®¿é—®ï¼ˆé»˜è®¤åªæœ‰ç®€å•å¤´å¯è§ï¼‰</li>
<li><code>Vary: Origin</code>ï¼šå»ºè®®è®¾ç½®ï¼Œç¼“å­˜ä»£ç†æ ¹æ®ä¸åŒ Origin ä¿å­˜ä¸åŒå“åº”</li>
</ul>
<p><strong>è¯·æ±‚ç±»å‹</strong></p>
<ol>
<li><strong>ç®€å•è¯·æ±‚ï¼ˆSimple Requestï¼‰</strong> ï¼šæµè§ˆå™¨ç›´æ¥å‘é€å®é™…è¯·æ±‚ï¼ˆGET/POST è‹¥ Content-Type æ˜¯ <code>text/plain</code>, <code>application/x-www-form-urlencoded</code>, <code>multipart/form-data</code>ï¼‰ï¼Œä¸ä¼šå‘é¢„æ£€ï¼ˆpreflightï¼‰ã€‚</li>
<li><strong>éœ€é¢„æ£€è¯·æ±‚ï¼ˆPreflightï¼‰</strong> ï¼šå½“ä½¿ç”¨éç®€å•æ–¹æ³•æˆ–è‡ªå®šä¹‰å¤´ï¼ˆä¾‹å¦‚ <code>Content-Type: application/json</code> æˆ–è‡ªå®šä¹‰ <code>X-Token</code>ï¼‰æ—¶ï¼Œæµè§ˆå™¨å…ˆå‘ <code>OPTIONS</code> è¯·æ±‚è¯¢é—®æœåŠ¡å™¨æ˜¯å¦å…è®¸ï¼ˆå³â€œé¢„æ£€â€ï¼‰ï¼Œè‹¥å…è®¸å†å‘é€çœŸå®è¯·æ±‚ã€‚</li>
</ol>
<p><strong>é¢„æ£€æµç¨‹</strong></p>
<ol>
<li>æµè§ˆå™¨å‘é€ <code>OPTIONS</code>ï¼ˆå¸¦ <code>Origin</code>ã€<code>Access-Control-Request-Method</code>ã€<code>Access-Control-Request-Headers</code>ï¼‰ã€‚</li>
<li>æœåŠ¡å™¨è¿”å›å…è®¸çš„å¤´/æ–¹æ³•/æ˜¯å¦å…è®¸å‡­è¯ã€‚</li>
<li>æµè§ˆå™¨è‹¥å…è®¸åˆ™ç»§ç»­å‘é€å®é™…è¯·æ±‚ã€‚</li>
</ol>
<p><strong>æµè§ˆå™¨ç«¯ä¸¾ä¾‹ï¼ˆfetchï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">fetch</span>(<span class="hljs-string">'https://api.example.com/data'</span>, {
  <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
  <span class="hljs-attr">credentials</span>: <span class="hljs-string">'include'</span>, <span class="hljs-comment">// æƒ³å¸¦ cookie/å‡­è¯å¿…é¡»åŠ è¿™ä¸€é¡¹</span>
  <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
  <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> })
})
.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-title function_">json</span>())
.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data))
</code></pre>
<p><strong>æœåŠ¡å™¨ç«¯ç®€æ˜“ç¤ºä¾‹ï¼ˆNode/Expressï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æœ€ç®€å•ï¼ˆå…è®¸æ‰€æœ‰æ¥æºï¼Œä½†ä¸èƒ½ä¸ credentials ä¸€èµ·ç”¨ï¼‰</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, <span class="hljs-string">'*'</span>);
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Access-Control-Allow-Methods'</span>, <span class="hljs-string">'GET,POST,PUT,DELETE,OPTIONS'</span>);
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Access-Control-Allow-Headers'</span>, <span class="hljs-string">'Content-Type,Authorization'</span>);
  <span class="hljs-title function_">next</span>();
});

<span class="hljs-comment">// å¸¦ credentialsï¼ˆå¿…é¡»æŒ‡å®šå…·ä½“åŸŸï¼‰</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, <span class="hljs-string">'https://your.site.com'</span>);
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">'Access-Control-Allow-Credentials'</span>, <span class="hljs-string">'true'</span>);
  <span class="hljs-comment">// é¢„æ£€è¯·æ±‚è¦å¿«é€Ÿè¿”å› 204 æˆ– 200</span>
  <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">'OPTIONS'</span>) {
    res.<span class="hljs-title function_">status</span>(<span class="hljs-number">204</span>).<span class="hljs-title function_">end</span>();
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-title function_">next</span>();
});
</code></pre>
<p><strong>Nginx é…ç½®ç¤ºä¾‹ï¼ˆå…è®¸è·¨åŸŸå¹¶æ”¯æŒå‡­è¯ï¼‰</strong></p>
<pre><code class="hljs language-rust" lang="rust">location /api/ {
  <span class="hljs-title function_ invoke__">if</span> ($request_method = <span class="hljs-symbol">'OPTIONS</span>') {
    add_header <span class="hljs-symbol">'Access</span>-Control-Allow-Origin<span class="hljs-string">' '</span>https:<span class="hljs-comment">//your.site.com';</span>
    add_header <span class="hljs-symbol">'Access</span>-Control-Allow-Credentials<span class="hljs-string">' '</span><span class="hljs-literal">true</span>';
    add_header <span class="hljs-symbol">'Access</span>-Control-Allow-Methods<span class="hljs-string">' '</span>GET, POST, OPTIONS';
    add_header <span class="hljs-symbol">'Access</span>-Control-Allow-Headers<span class="hljs-string">' '</span>Content-Type, Authorization';
    <span class="hljs-keyword">return</span> <span class="hljs-number">204</span>;
  }
  add_header <span class="hljs-symbol">'Access</span>-Control-Allow-Origin<span class="hljs-string">' '</span>https:<span class="hljs-comment">//your.site.com';</span>
  add_header <span class="hljs-symbol">'Access</span>-Control-Allow-Credentials<span class="hljs-string">' '</span><span class="hljs-literal">true</span>';
  proxy_pass http:<span class="hljs-comment">//backend;</span>
}
</code></pre>
<hr/>
<p><strong>ä¸‰ã€è€åŠæ³• / å…¼å®¹æ–¹æ¡ˆï¼ˆå†å²ä¸é™åˆ¶ï¼‰</strong></p>
<ol>
<li>
<p><strong>JSONPï¼ˆä»…é™ GETï¼‰</strong></p>
<ul>
<li>
<p>åŸç†ï¼š<code>&lt;script src="..."&gt;</code> ä¸å—åŒæºé™åˆ¶ï¼ŒæœåŠ¡å™¨è¿”å›ä¸€æ®µ JSï¼ˆé€šå¸¸è°ƒç”¨ä¼ å…¥çš„å›è°ƒå‡½æ•°ï¼‰ï¼Œä»è€Œç»•è¿‡åŒæºé™åˆ¶è¯»å–æ•°æ®ã€‚</p>
</li>
<li>
<p>é™åˆ¶ï¼šåªæ”¯æŒ <code>GET</code>ï¼Œå®‰å…¨æ€§å·®ï¼ˆæ‰§è¡Œè¿œç«¯ JSï¼‰ï¼Œæ— æ³•æºå¸¦è¯·æ±‚å¤´ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼ˆå‰ç«¯ï¼‰ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">cb</span>(<span class="hljs-params">data</span>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data); }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://api.example.com/data?callback=cb"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
</li>
<li>
<p>æœåŠ¡å™¨è¿”å›ï¼š<code>cb({ a: 1 })</code></p>
</li>
</ul>
</li>
<li>
<p><strong>ä»£ç†è½¬å‘ï¼ˆæ¨èåœ¨å¼€å‘ä¸ç”Ÿäº§ä¸­ä½¿ç”¨ï¼‰</strong></p>
<ul>
<li><strong>å¼€å‘ç¯å¢ƒ</strong>ï¼šä½¿ç”¨ webpack-dev-server / Vite / create-react-app çš„ devServer proxyï¼ŒæŠŠ <code>/api</code> è½¬å‘åˆ° <code>https://api.example.com</code>ï¼Œæµè§ˆå™¨è®¤ä¸ºæ˜¯åŒæºè¯·æ±‚ã€‚</li>
<li><strong>ç”Ÿäº§</strong>ï¼šç”¨ Nginx åš reverse proxyï¼Œå°†å‰ç«¯åŸŸåä¸‹çš„ <code>/api</code> è½¬å‘åˆ°åç«¯æœåŠ¡ï¼ˆå¯¹å¤–åªæš´éœ²åŒæºåŸŸåï¼‰ã€‚</li>
<li>ä¼˜ç‚¹ï¼šä¸æ”¹åç«¯ã€ä¸å—æµè§ˆå™¨ CORS é™åˆ¶ï¼Œæ€§èƒ½å’Œå®‰å…¨å¯æ§ã€‚</li>
</ul>
<p><strong>webpack devServer ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">devServer:</span> {
  <span class="hljs-attr">proxy:</span> {
    <span class="hljs-string">'/api'</span><span class="hljs-string">:</span> {
      <span class="hljs-attr">target:</span> <span class="hljs-string">'https://api.example.com'</span>,
      <span class="hljs-attr">changeOrigin:</span> <span class="hljs-literal">true</span>,
      <span class="hljs-attr">secure:</span> <span class="hljs-literal">false</span>
    }
  }
}
</code></pre>
</li>
<li>
<p><strong>window.postMessageï¼ˆè·¨çª—å£/è·¨iframe é€šä¿¡ï¼‰</strong></p>
<ul>
<li>
<p>åœºæ™¯ï¼šçˆ¶çª—å£ä¸åµŒå…¥çš„è·¨åŸŸ iframe é€šä¿¡ã€‚</p>
</li>
<li>
<p>å®‰å…¨ä½¿ç”¨éœ€æ£€æŸ¥ <code>event.origin</code>ã€‚</p>
</li>
<li>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// çˆ¶é¡µé¢å‘é€</span>
iframe.<span class="hljs-property">contentWindow</span>.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">'hello'</span> }, <span class="hljs-string">'https://other.com'</span>);
<span class="hljs-comment">// å­é¡µé¢ç›‘å¬</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'message'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">origin</span> !== <span class="hljs-string">'https://your.trusted.origin'</span>) <span class="hljs-keyword">return</span>;
  <span class="hljs-comment">// å¤„ç† e.data</span>
});
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>document.domainï¼ˆä»…é™åŒä¸€çº§åŸŸåï¼Œå·²è¾ƒå°‘ä½¿ç”¨ï¼‰</strong></p>
<ul>
<li>åªèƒ½æŠŠä¸¤ç«¯éƒ½è®¾ç½®æˆå…±åŒçš„è¾ƒé«˜ä¸€çº§åŸŸï¼ˆæ¯”å¦‚ <code>a.example.com</code> ä¸ <code>b.example.com</code> éƒ½è®¾ç½® <code>document.domain = 'example.com'</code>ï¼‰ï¼Œç°ä»£å®‰å…¨å’Œ iframe æ”¿ç­–ä½¿å…¶ä½¿ç”¨å·²å‡å°‘ã€‚</li>
</ul>
</li>
<li>
<p><strong>WebSocket</strong></p>
<ul>
<li>WebSocket æ¡æ‰‹ä¸æ˜¯å…¸å‹çš„ XHRï¼Œå»ºç«‹ä¸€æ¡æŒä¹…è¿æ¥åå¯ä»¥è·¨åŸŸä¼ è¾“æ•°æ®ï¼ˆæœåŠ¡å™¨éœ€å“åº”æ¡æ‰‹ï¼‰ï¼Œé€‚åˆåŒå‘é€šä¿¡åœºæ™¯ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<p><strong>å››ã€å¸¸è§é—®é¢˜ / å¸¸è§æŠ¥é”™ä¸æ’æŸ¥</strong></p>
<ul>
<li><code>Access-Control-Allow-Origin</code> ç¼ºå¤± â†’ æµè§ˆå™¨æ§åˆ¶å°ç›´æ¥æŠ¥è·¨åŸŸé”™è¯¯ï¼ŒæœåŠ¡å™¨æ ¹æœ¬æ²¡æœ‰è¿”å›å…è®¸å¤´ã€‚</li>
<li>ä½¿ç”¨ <code>credentials: 'include'</code> æ—¶ï¼Œ<strong><code>Access-Control-Allow-Origin</code> ä¸èƒ½æ˜¯ <code>*</code></strong> ï¼›å¿…é¡»æ˜¯å…·ä½“åŸŸã€‚</li>
<li>é¢„æ£€ <code>OPTIONS</code> è¿”å› 404/500 â†’ æµè§ˆå™¨æ‹’ç»å‘å®é™…è¯·æ±‚ã€‚è§£å†³ï¼šæœåŠ¡å™¨å¯¹ <code>OPTIONS</code> å•ç‹¬è¿”å›å…è®¸å¤´å¹¶ 204ã€‚</li>
<li>è‡ªå®šä¹‰è¯·æ±‚å¤´ï¼ˆå¦‚ <code>X-Token</code>ï¼‰æœªå‡ºç°åœ¨ <code>Access-Control-Allow-Headers</code> â†’ é¢„æ£€è¢«æ‹’ã€‚</li>
<li>æƒ³è®© JS èƒ½è¯»è‡ªå®šä¹‰å“åº”å¤´ï¼Œè¦åœ¨æœåŠ¡å™¨è®¾ç½® <code>Access-Control-Expose-Headers: X-My-Header</code>ã€‚</li>
<li>æµè§ˆå™¨ç¼“å­˜ä¸ Varyï¼šå½“ä¸åŒ <code>Origin</code> åº”è¯¥è¿”å›ä¸åŒå†…å®¹æ—¶ï¼Œåç«¯åº”åŠ  <code>Vary: Origin</code>ï¼Œå¦åˆ™ CDN/ä»£ç†å¯èƒ½è¿”å›é”™è¯¯çš„ç¼“å­˜ã€‚</li>
<li>ä½¿ç”¨ä»£ç†æ—¶æ³¨æ„ <code>changeOrigin</code>ï¼ˆæ˜¯å¦ä¿®æ”¹ Host headerï¼‰ã€‚</li>
</ul>
<hr/>
<p><strong>äº”ã€å®‰å…¨æ³¨æ„äº‹é¡¹</strong></p>
<ul>
<li>å°½é‡ä¸è¦ç”¨ <code>Access-Control-Allow-Origin: *</code> é…åˆ <code>Allow-Credentials: true</code>ï¼ˆæµè§ˆå™¨ä¼šç¦æ­¢ï¼‰ã€‚</li>
<li>å°å¿ƒ JSONPâ€”â€”å®ƒæ‰§è¡Œè¿œç«¯ä»»æ„ JSï¼Œå¯èƒ½è¢«ç”¨ä½œ XSSã€‚</li>
<li>å¯¹å…è®¸è·¨åŸŸçš„æ¥æºåˆ—ç™½åå•ï¼Œä¸è¦æŠŠåç«¯éšæ„å¼€æ”¾ç»™ä»»æ„æ¥æºï¼Œå°¤å…¶å½“å¸¦æœ‰å‡­è¯ï¼ˆcookieã€tokenï¼‰æ—¶ã€‚</li>
<li>é¢„æ£€æœºåˆ¶å­˜åœ¨çš„ç›®çš„å°±æ˜¯åœ¨ä¸å®‰å…¨æ“ä½œå‰è¯¢é—®æœåŠ¡å™¨ï¼Œåˆ«ç»•è¿‡å®ƒã€‚</li>
</ul>
<hr/>
<p><strong>å…­ï¼šé¢è¯•/ç­”é¢˜é€Ÿè®°å¡ï¼ˆ10 ç§’ï¼‰</strong></p>
<pre><code class="hljs language-bash" lang="bash">åŒæºç­–ç•¥ï¼šåè®®+ä¸»æœº+ç«¯å£ç›¸åŒ
ä¸»æµè·¨åŸŸï¼šCORSï¼ˆæµè§ˆå™¨ä¸æœåŠ¡å™¨é…åˆï¼‰
  - ç®€å•è¯·æ±‚ vs é¢„æ£€ï¼ˆOPTIONSï¼‰
  - æ ¸å¿ƒå¤´ï¼šAccess-Control-Allow-Origin/Methods/Headers/Credentials/Expose-Headers
è€åŠæ³•ï¼šJSONPï¼ˆä»… GETï¼‰ï¼Œä»£ç†ï¼ˆdevServer/nginxï¼‰ï¼ŒpostMessage/iframeï¼ŒWebSocket
å…³é”®å‘ï¼š
  - credentials + <span class="hljs-string">'*'</span> ä¸è¡Œ
  - é¢„æ£€è¦è¿”å› 200/204 å¹¶å¸¦å…è®¸å¤´
  - è‡ªå®šä¹‰å¤´éœ€å‡ºç°åœ¨ Allow-Headers
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ç¬¬ 23 é¢˜ï¼šé—­åŒ…ï¼ˆClosureï¼‰ä¸ä½œç”¨åŸŸé“¾ï¼ˆè¯¦ç»† + é¢è¯•æ¨¡æ¿ + é€Ÿè®°å¡ï¼‰]]></title>    <link>https://juejin.cn/post/7577665924151590955</link>    <guid>https://juejin.cn/post/7577665924151590955</guid>    <pubDate>2025-11-29T05:36:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577665924151590955" data-draft-id="7577691384942313514" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ç¬¬ 23 é¢˜ï¼šé—­åŒ…ï¼ˆClosureï¼‰ä¸ä½œç”¨åŸŸé“¾ï¼ˆè¯¦ç»† + é¢è¯•æ¨¡æ¿ + é€Ÿè®°å¡ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:36:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ç¬¬ 23 é¢˜ï¼šé—­åŒ…ï¼ˆClosureï¼‰ä¸ä½œç”¨åŸŸé“¾ï¼ˆè¯¦ç»† + é¢è¯•æ¨¡æ¿ + é€Ÿè®°å¡ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:36:05.000Z" title="Sat Nov 29 2025 05:36:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:2;font-weight:400;font-size:15px;overflow-x:hidden;color:#333;letter-spacing:1.2px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:.5rem solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c;margin:0 5px}.markdown-body a:active,.markdown-body a:hover{text-decoration:none;border-bottom:1.5px solid #3eaf7c}.markdown-body a[href^=http]:after{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04MzIgMTI4SDY0MHY2NGgxNDYuNzUyTDUyMS4zNzYgNDU3LjM3Nmw0NS4yNDggNDUuMjQ4TDgzMiAyMzcuMjQ4VjM4NGg2NFYxMjh6IiBmaWxsPSIjM2VhZjdjIi8+PHBhdGggZD0iTTc2OCA4MzJIMTkyVjI1NmgzNTJ2LTY0SDE2MGEzMiAzMiAwIDAwLTMyIDMydjY0MGEzMiAzMiAwIDAwMzIgMzJoNjQwYTMyIDMyIDAgMDAzMi0zMlY0ODBoLTY0djM1MnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");margin-left:2px}.markdown-body a[href^="#"]:before{content:"#"}.markdown-body table{display:inline-block!important;font-size:13px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c;border-collapse:collapse}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(153,255,188,.1)}.markdown-body td,.markdown-body th{padding:4px 8px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#7b7878;padding:1px 23px;border-left:.5rem solid;border-color:#42b983;background-color:rgba(66,184,131,.1);position:relative;margin:14px 8px 0}.markdown-body blockquote:before{display:inline-block;position:absolute;content:url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUiIGhlaWdodD0iMjUiIHZpZXdCb3g9IjAgMCAyNyAyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjg2MiAxLjg2MikiIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSI+PGNpcmNsZSBzdHJva2U9IiNGRkYiIHN0cm9rZS13aWR0aD0iMS43MjQiIGZpbGw9IiM0MkI5ODMiIGN4PSIxMS42MzgiIGN5PSIxMS42MzgiIHI9IjExLjYzOCIvPjxwYXRoIGQ9Ik0xNC45NzggNi4yN0E1LjAwNiA1LjAwNiAwIDAwNi42NyA5LjQ2OGE0LjkwMSA0LjkwMSAwIDAwMS43NzMgNC4zNjJjLjMyMy4yNTguNTE0LjY0Ny41MjIgMS4wNnYxLjA2YTIuNjg1IDIuNjg1IDAgMDA1LjM3IDB2LTEuMDA4Yy4wMDItLjM5OC4xNzMtLjc3Ny40Ny0xLjA0MmE1LjAyMyA1LjAyMyAwIDAwLjE3My03LjYzem0tMy4zMzcgMTAuOTY3YTEuMzA0IDEuMzA0IDAgMDEtMS4yODYtMS4yODd2LS4yNzhoMi41NzJ2LjI2MWMwIC43MTMtLjU3MyAxLjI5NC0xLjI4NiAxLjMwNHptMi4yNi00LjQxNWMtLjQ0LjM4My0uNzUuODkzLS44ODcgMS40NmgtMi43NDZhMi44NjggMi44NjggMCAwMC0uOTM4LTEuNTNoLS4wMThhMy40NzYgMy40NzYgMCAwMS0xLjI2OS0zLjE0NSAzLjYxNSAzLjYxNSAwIDAxNy4xOTYuNCAzLjY1IDMuNjUgMCAwMS0xLjMzOCAyLjgxNXoiIGZpbGw9IiNGRkYiLz48L2c+PC9zdmc+");width:25px;height:25px;left:-16px;top:12px}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none;padding-left:10px}.markdown-body ul li::marker{content:"â€¢";color:#3eaf7c}.markdown-body ul li.task-list-item:before{content:"";margin-right:0}.markdown-body input[type=checkbox]{vertical-align:text-bottom;box-shadow:inset 0 0 0 10px #fff}.markdown-body input[type=checkbox]:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik04NzcuMDU2IDE0Ni45NDR2NzMwLjExMkgxNDYuOTQ0VjE0Ni45NDRoNzMwLjExMnptMC0xMDQuMjc3SDE0Ni45NDRjLTU3LjYyOCAwLTEwNC4yNzcgNDYuNjQ5LTEwNC4yNzcgMTA0LjI3N3Y3MzAuMTEyYzAgNTcuNjI4IDQ2LjY0OSAxMDQuMjc3IDEwNC4yNzcgMTA0LjI3N2g3MzAuMTEyYzU3LjYyOCAwIDEwNC4yNzctNDYuNjQ5IDEwNC4yNzctMTA0LjI3N1YxNDYuOTQ0YzAtNTcuNjI4LTQ2LjY0OS0xMDQuMjc3LTEwNC4yNzctMTA0LjI3N3oiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}.markdown-body input[type=checkbox]:checked:before{content:url("data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTUiIGhlaWdodD0iMTUiPjxkZWZzPjxzdHlsZS8+PC9kZWZzPjxwYXRoIGQ9Ik05MTAuMjA4IDBIMTEzLjc2QTExNC4xMTIgMTE0LjExMiAwIDAwLS4wMzIgMTEzLjc5MlY5MTAuMjRjMCA2Mi41OTIgNTEuMiAxMTMuNzkyIDExMy43OTIgMTEzLjc5Mmg3OTYuNDQ4YzYyLjU5MiAwIDExMy43OTItNTEuMiAxMTMuNzkyLTExMy43OTJWMTEzLjc5MkMxMDI0IDUxLjIgOTcyLjggMCA5MTAuMjA4IDB6bS01MTIgNzk2LjQ0OEwxMTMuNzYgNTEybDc5LjY0OC03OS42NDggMjA0LjggMjA0LjhMODMwLjU2IDIwNC44bDc5LjY0OCA3OS42NDgtNTEyIDUxMnoiIGZpbGw9IiMzZWFmN2MiLz48L3N2Zz4=");position:relative;top:-2px;right:2px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="monokai">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#272822;color:#ddd}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-strong,.hljs-tag{color:#f92672}.hljs-code{color:#66d9ef}.hljs-class .hljs-title{color:#fff}.hljs-attribute,.hljs-link,.hljs-regexp,.hljs-symbol{color:#bf79db}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-emphasis,.hljs-section,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-string,.hljs-subst,.hljs-template-tag,.hljs-template-variable,.hljs-title,.hljs-type,.hljs-variable{color:#a6e22e}.hljs-comment,.hljs-deletion,.hljs-meta,.hljs-quote{color:#75715e}.hljs-doctag,.hljs-keyword,.hljs-literal,.hljs-section,.hljs-selector-id,.hljs-selector-tag,.hljs-title,.hljs-type{font-weight:700}</style><p>å¥½çš„ï¼Œç»§ç»­ <strong>ç¬¬ 25 é¢˜ï¼šé—­åŒ…ï¼ˆClosureï¼‰ä¸ä½œç”¨åŸŸé“¾ï¼ˆè¯¦ç»† + é¢è¯•æ¨¡æ¿ + é€Ÿè®°å¡ï¼‰</strong></p>
<hr/>
<h2 data-id="heading-0"><strong>ç¬¬ 25 é¢˜ï¼šé—­åŒ…ï¼ˆClosureï¼‰ä¸ä½œç”¨åŸŸé“¾</strong></h2>
<p>é—­åŒ…æ˜¯å‰ç«¯é¢è¯•å¿…è€ƒé¢˜ï¼Œå‡ ä¹æ¯å®¶å…¬å¸éƒ½ä¼šé—®ã€‚</p>
<p>æˆ‘ä¼šç”¨éå¸¸è¯¦ç»†ä½†æ¸…æ™°çš„æ–¹å¼è®²è§£ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>ä¸€ã€é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h2>
<blockquote>
<p><strong>é—­åŒ… = å‡½æ•° + å…¶å®šä¹‰æ—¶çš„è¯æ³•ç¯å¢ƒï¼ˆå¤–éƒ¨å˜é‡ï¼‰</strong></p>
</blockquote>
<p>ç®€å•è¯´ï¼š<br/>
<strong>é—­åŒ…è®©å‡½æ•°å¯ä»¥â€œè®°ä½â€å®ƒå®šä¹‰æ—¶çš„å¤–éƒ¨å˜é‡ï¼Œå³ä½¿å¤–éƒ¨å‡½æ•°å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚</strong></p>
<p>æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">outer</span>() {
  let count = <span class="hljs-number">0</span>;
  return function <span class="hljs-built_in">inner</span>() {
    count++;
    console<span class="hljs-selector-class">.log</span>(count);
  };
}

const fn = <span class="hljs-built_in">outer</span>();
<span class="hljs-built_in">fn</span>(); <span class="hljs-comment">// 1</span>
<span class="hljs-built_in">fn</span>(); <span class="hljs-comment">// 2</span>
</code></pre>
<p>å³ä½¿ <code>outer()</code> æ‰§è¡Œå®Œï¼Œ<code>count</code> ä»ç„¶èƒ½è¢«è®¿é—®ï¼Œè¿™å°±æ˜¯é—­åŒ…ã€‚</p>
<hr/>
<h2 data-id="heading-2"><strong>äºŒã€é—­åŒ…å½¢æˆçš„åŸå› ï¼šè¯æ³•ä½œç”¨åŸŸ</strong></h2>
<p>JS é‡‡ç”¨ <strong>è¯æ³•ä½œç”¨åŸŸï¼ˆé™æ€ä½œç”¨åŸŸï¼‰</strong> ï¼Œä½œç”¨åŸŸåœ¨<strong>å‡½æ•°å®šä¹‰æ—¶</strong>å·²ç»ç¡®å®šã€‚</p>
<p>æ‰€ä»¥ inner å‡½æ•°èƒ½è®¿é—® outer çš„å˜é‡ã€‚</p>
<p>ç¼–è¯‘é˜¶æ®µå°±å†³å®šäº†ä½œç”¨åŸŸé“¾ï¼Œè¿è¡Œæ—¶ä¸ä¼šæ”¹å˜ã€‚</p>
<hr/>
<h2 data-id="heading-3"><strong>ä¸‰ã€é—­åŒ…çš„ç”¨é€”ï¼ˆé¢è¯•é‡ç‚¹ï¼‰</strong></h2>
<h4 data-id="heading-4"><strong>1. åˆ›å»ºç§æœ‰å˜é‡</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCounter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> num = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">return</span> {
    <span class="hljs-title function_">inc</span>(<span class="hljs-params"/>) { num++; },
    <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> num; }
  }
}
</code></pre>
<h4 data-id="heading-5"><strong>2. é˜²æŠ– / èŠ‚æµã€ç¼“å­˜å‡½æ•°é‡Œé¢å¸¸ç”¨</strong></h4>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">function</span> cache(fn) {
  <span class="hljs-keyword">const</span> map = {};
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-keyword">key</span>) {
    <span class="hljs-keyword">if</span> (map[<span class="hljs-keyword">key</span>]) <span class="hljs-keyword">return</span> map[<span class="hljs-keyword">key</span>];
    <span class="hljs-keyword">return</span> map[<span class="hljs-keyword">key</span>] = fn(<span class="hljs-keyword">key</span>);
  };
}
</code></pre>
<h4 data-id="heading-6"><strong>3. æŸ¯é‡ŒåŒ– Currying</strong></h4>
<pre><code class="hljs language-css" lang="css">const add = <span class="hljs-selector-tag">a</span> =&gt; <span class="hljs-selector-tag">b</span> =&gt; <span class="hljs-selector-tag">a</span> + <span class="hljs-selector-tag">b</span>;
</code></pre>
<h4 data-id="heading-7"><strong>4. æ¨¡æ‹Ÿå—çº§ä½œç”¨åŸŸï¼ˆES5 æ—¶ä»£ï¼‰</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
  <span class="hljs-built_in">setTimeout</span>((<span class="hljs-keyword">function</span>(<span class="hljs-params">i</span>){ 
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i) }
  })(i), <span class="hljs-number">1000</span>);
}
</code></pre>
<hr/>
<h2 data-id="heading-8"><strong>å››ã€é—­åŒ…çš„ç¼ºç‚¹ï¼ˆé¢è¯•å¿…é—®ï¼‰</strong></h2>
<h4 data-id="heading-9">â—<strong>é—­åŒ…ä¼šå¯¼è‡´å˜é‡å¸¸é©»å†…å­˜ï¼Œå¯èƒ½é€ æˆå†…å­˜æ³„æ¼</strong></h4>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">100000</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data.<span class="hljs-property">length</span>);
  }
}
<span class="hljs-keyword">const</span> f = <span class="hljs-title function_">test</span>();
</code></pre>
<p><code>data</code> ä¸€ç›´æ— æ³•é‡Šæ”¾ï¼Œå› ä¸ºé—­åŒ…å¼•ç”¨å®ƒã€‚</p>
<hr/>
<h2 data-id="heading-10"><strong>äº”ã€ä½œç”¨åŸŸé“¾ï¼ˆScope Chainï¼‰</strong></h2>
<p>ä½œç”¨åŸŸé“¾ = å½“å‰ä½œç”¨åŸŸ â†’ å¤–éƒ¨ä½œç”¨åŸŸ â†’ å…¨å±€ä½œç”¨åŸŸ</p>
<p>æŸ¥å˜é‡æ˜¯ä»å†…åˆ°å¤–ä¸€å±‚å±‚æŸ¥ã€‚</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">var <span class="hljs-attr">a</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>

function f1() {
  var <span class="hljs-attr">b</span> = <span class="hljs-number">2</span><span class="hljs-comment">;</span>
  function f2() {
    var <span class="hljs-attr">c</span> = <span class="hljs-number">3</span><span class="hljs-comment">;</span>
    console.log(a, b, c)<span class="hljs-comment">;</span>
  }
  f2()<span class="hljs-comment">;</span>
}
f1()<span class="hljs-comment">;</span>
</code></pre>
<p>ä½œç”¨åŸŸé“¾æŸ¥æ‰¾é¡ºåºï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">f2 â†’ f1 â†’ <span class="hljs-keyword">global</span>
</code></pre>
<hr/>
<h2 data-id="heading-11"><strong>å…­ã€é¢è¯•å®˜å¸¸é—®ä¸‰è¿</strong></h2>
<h3 data-id="heading-12"><strong>â‘  é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿ</strong></h3>
<blockquote>
<p>é—­åŒ…æ˜¯åœ¨å‡½æ•°åˆ›å»ºæ—¶ï¼ŒæŠŠå‡½æ•°å’Œå®ƒçš„è¯æ³•ä½œç”¨åŸŸç»‘å®šåœ¨ä¸€èµ·ï¼Œä½¿å‡½æ•°åœ¨å¤–éƒ¨ä½œç”¨åŸŸç»“æŸä¹‹åä»ç„¶èƒ½è®¿é—®è¯¥ä½œç”¨åŸŸçš„å˜é‡ã€‚</p>
</blockquote>
<h3 data-id="heading-13"><strong>â‘¡ é—­åŒ…æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</strong></h3>
<blockquote>
<p>ç§æœ‰å˜é‡ã€ç¼“å­˜ã€æŸ¯é‡ŒåŒ–ã€é˜²æŠ–èŠ‚æµå†…éƒ¨çŠ¶æ€ã€å›è°ƒå‡½æ•°ç­‰ã€‚</p>
</blockquote>
<h3 data-id="heading-14"><strong>â‘¢ é—­åŒ…æœ‰ä»€ä¹ˆé£é™©ï¼Ÿ</strong></h3>
<blockquote>
<p>å˜é‡ä¸ä¼šé‡Šæ”¾ï¼Œå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ï¼Œå¦‚ä¸éœ€è¦åº”ç½®ä¸º null æˆ–ä½¿ç”¨å—çº§ä½œç”¨åŸŸä¼˜åŒ–ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-15"><strong>ä¸ƒã€ç»å…¸é—­åŒ…é¢˜ â€” é¢è¯•å¿…è€ƒ</strong></h2>
<h4 data-id="heading-16">â—ä¾‹é¢˜ï¼š</h4>
<pre><code class="hljs language-css" lang="css">for (<span class="hljs-selector-tag">var</span> <span class="hljs-selector-tag">i</span> = <span class="hljs-number">0</span>; <span class="hljs-selector-tag">i</span> &lt; <span class="hljs-number">3</span>; <span class="hljs-selector-tag">i</span>++) {
  setTimeout(() =&gt; console<span class="hljs-selector-class">.log</span>(<span class="hljs-selector-tag">i</span>), <span class="hljs-number">0</span>);
}
</code></pre>
<p>è¾“å‡ºï¼Ÿ</p>
<pre><code class="hljs">3 3 3
</code></pre>
<p>åŸå› ï¼š</p>
<ul>
<li>var æ²¡æœ‰å—çº§ä½œç”¨åŸŸ</li>
<li>ä¸‰ä¸ªå›è°ƒå…±äº«åŒä¸€ä¸ª i</li>
<li>å½“æ‰§è¡Œå›è°ƒæ—¶ï¼Œi å·²å˜ä¸º 3</li>
</ul>
<p>æ”¹æˆ letï¼š</p>
<pre><code class="hljs language-css" lang="css">for (let <span class="hljs-selector-tag">i</span> = <span class="hljs-number">0</span>; <span class="hljs-selector-tag">i</span> &lt; <span class="hljs-number">3</span>; <span class="hljs-selector-tag">i</span>++) {
  setTimeout(() =&gt; console<span class="hljs-selector-class">.log</span>(<span class="hljs-selector-tag">i</span>), <span class="hljs-number">0</span>);
}
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs">0 1 2
</code></pre>
<hr/>
<h2 data-id="heading-17"><strong>å…«ã€é€Ÿè®°å¡ç‰‡</strong></h2>
<pre><code class="hljs">é—­åŒ… = å‡½æ•° + å¤–éƒ¨å˜é‡
ä½œç”¨ï¼šè®°ä½çŠ¶æ€ï¼ˆç§æœ‰å˜é‡ã€ç¼“å­˜ï¼‰
å…³é”®ï¼šè¯æ³•ä½œç”¨åŸŸå†³å®šä½œç”¨åŸŸé“¾
é£é™©ï¼šå†…å­˜æ³„æ¼ï¼ˆå˜é‡æ— æ³•é‡Šæ”¾ï¼‰
</code></pre>
<hr/>
<p>å¦‚æœä½ å‡†å¤‡å¥½äº†ï¼Œæˆ‘å¯ä»¥ç»§ç»­ <strong>ç¬¬ 26 é¢˜ï¼šå‰ç«¯æ€§èƒ½ä¼˜åŒ–ï¼ˆé‡æ’/é‡ç»˜ã€æ‡’åŠ è½½ã€æ‰“åŒ…ä¼˜åŒ–ï¼‰</strong> ã€‚</p>
<p>è¯´ä¸€å¥ï¼šâ€œä¸‹ä¸€é¢˜â€å³å¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 24 é¢˜ï¼šVirtual DOM ä¸­ diff ç®—æ³•çš„æ ¸å¿ƒæµç¨‹ï¼ˆè¯¦ç»†ç‰ˆ]]></title>    <link>https://juejin.cn/post/7577665924151607339</link>    <guid>https://juejin.cn/post/7577665924151607339</guid>    <pubDate>2025-11-29T05:37:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577665924151607339" data-draft-id="7577715145120514102" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 24 é¢˜ï¼šVirtual DOM ä¸­ diff ç®—æ³•çš„æ ¸å¿ƒæµç¨‹ï¼ˆè¯¦ç»†ç‰ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:37:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 24 é¢˜ï¼šVirtual DOM ä¸­ diff ç®—æ³•çš„æ ¸å¿ƒæµç¨‹ï¼ˆè¯¦ç»†ç‰ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:37:05.000Z" title="Sat Nov 29 2025 05:37:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:18px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:40px;margin-bottom:20px;color:#007fff;display:flex;align-items:center}.markdown-body h1:hover:before,.markdown-body h2:hover:before,.markdown-body h3:hover:before,.markdown-body h4:hover:before,.markdown-body h5:hover:before,.markdown-body h6:hover:before{transition:All .4s ease-in-out;transform:rotate(1turn)}.markdown-body h1{font-size:30px;background:linear-gradient(#fff 60%,#c6e3ff 0)}.markdown-body h1:before{content:"";display:inline-block;width:32px;height:32px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h2{font-size:24px;background:linear-gradient(#fff 60%,#cce3fb 0)}.markdown-body h2:before{content:"";display:inline-block;width:24px;height:24px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h3{font-size:20px}.markdown-body h3:before{content:"";display:inline-block;width:18px;height:18px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h4{font-size:18px}.markdown-body h4:before{content:"";display:inline-block;width:16px;height:16px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h5{font-size:16px}.markdown-body h5:before{content:"";display:inline-block;width:15px;height:15px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h6{font-size:14px}.markdown-body h6:before{content:"";display:inline-block;width:12px;height:12px;margin-right:10px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC");background-size:100% 100%}.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{border-bottom:2px solid #007fff;color:#007fff;padding-right:10px}.markdown-body p{letter-spacing:1px;line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:10px auto}.markdown-body hr{border:none;border-top:1px dashed #92c8ff}.markdown-body hr:before{content:"âœ‚";display:inline-block;position:relative;top:-12px;left:40px;padding:0 3px;color:#007fff;font-size:18px}.markdown-body hr:after{content:"æŒ‰è™šçº¿å‰ªå¼€";position:relative;top:-15px;left:84%;padding:0 3px;color:#007fff;font-size:12px}.markdown-body del{color:#f44}.markdown-body em{color:#007fff;margin:0 2px}.markdown-body strong{color:#007fff;font-weight:bolder}.markdown-body code{word-break:break-word;border-radius:4px;overflow-x:auto;background-color:#e6f3ff;color:#007fff;font-weight:600;font-size:16px;padding:.065em .4em;border:1px solid #007fff}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:5px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:18px;font-weight:400;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8;border:none}.markdown-body a{text-decoration:none;color:#007fff;border-bottom:1px solid #007fff}.markdown-body a:before{content:"Â¶";margin-right:5px;font-size:22px}.markdown-body a:after{content:"â†·";margin-left:2px;font-size:22px;display:none}.markdown-body a:active,.markdown-body a:hover{color:#275b8c;border-bottom:1px solid #275b8c}.markdown-body a:active:after,.markdown-body a:hover:after{display:inline-block}.markdown-body table{display:inline-block!important;font-size:16px;width:auto;max-width:100%;overflow:auto;border:1px solid #a5d3ff}.markdown-body thead{background:#c6e3ff;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#eef7ff}.markdown-body tbody&gt;tr:nth-child(odd){background-color:#f8fcff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #007fff;background-color:#eef7ff}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#007fff}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="srcery">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1c1b19;color:#fce8c3}.hljs-emphasis,.hljs-strong{color:#918175}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#ff5c8f}.hljs-code,.hljs-selector-class{color:#68a8e4}.hljs-emphasis{font-style:italic}.hljs-attribute,.hljs-keyword,.hljs-section,.hljs-selector-tag,.hljs-variable{color:#ef2f27}.hljs-name,.hljs-title{color:#fbb829}.hljs-params,.hljs-type{color:#0aaeb3}.hljs-string{color:#98bc37}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-subst,.hljs-symbol,.hljs-template-tag,.hljs-template-variable{color:#c07abe}.hljs-comment,.hljs-deletion,.hljs-meta{color:#918175}</style><p><strong>ç¬¬ 24 é¢˜ï¼šVirtual DOM ä¸­ diff ç®—æ³•çš„æ ¸å¿ƒæµç¨‹ï¼ˆè¯¦ç»†ç‰ˆï¼‰</strong></p>
<p>ä¸‹é¢æ˜¯è¯¦ç»†è®²è§£ï¼ˆä¸ç”»å›¾ã€ä¸å¼•ç”¨å›¾ç‰‡ï¼‰ï¼š</p>
<hr/>
<h2 data-id="heading-0"><strong>24. Virtual DOM çš„ Diff ç®—æ³•æ ¸å¿ƒæµç¨‹ï¼ˆè¯¦ç»†ç‰ˆï¼‰</strong></h2>
<p>Diffï¼ˆå·®å¼‚å¯¹æ¯”ï¼‰ç®—æ³•æ˜¯ Virtual DOM çš„æ ¸å¿ƒï¼Œç”¨æ¥æ¯”è¾ƒ<strong>æ–°æ—§ä¸¤æ£µè™šæ‹Ÿ DOM æ ‘çš„ä¸åŒ</strong>ï¼Œæœ€ç»ˆåªæŠŠå·®å¼‚æ›´æ–°åˆ°çœŸå® DOMï¼Œä»è€Œæå‡æ€§èƒ½ã€‚</p>
<p>ä»¥ä¸‹åˆ† 6 ä¸ªæ­¥éª¤è®²æ¸…æ¥šæ•´ä¸ªæµç¨‹ï¼š</p>
<hr/>
<h2 data-id="heading-1"><strong>â‘  ç¬¬ä¸€å±‚ä¼˜åŒ–ï¼šåŒå±‚æ¯”è¾ƒï¼Œä¸è·¨å±‚</strong></h2>
<p>è™šæ‹Ÿ DOM <strong>æ°¸ä¸è·¨å±‚</strong>æ¯”è¾ƒï¼š</p>
<ul>
<li>æ—§æ ‘ç¬¬ 1 å±‚åªå¯¹æ¯”æ–°æ ‘ç¬¬ 1 å±‚</li>
<li>æ—§æ ‘ç¬¬ 2 å±‚åªå¯¹æ¯”æ–°æ ‘ç¬¬ 2 å±‚</li>
<li>â€¦â€¦</li>
</ul>
<p><strong>åŸå› ï¼š</strong> æµè§ˆå™¨çœŸå® DOM ç»“æ„å¾ˆå°‘è·¨å±‚å˜åŠ¨ï¼Œæ‰€ä»¥é¿å…è·¨å±‚ï¼Œå¤§å¹…å‡å°‘è®¡ç®—é‡ã€‚</p>
<hr/>
<h2 data-id="heading-2"><strong>â‘¡ ç¬¬äºŒå±‚ä¼˜åŒ–ï¼šèŠ‚ç‚¹ç±»å‹ä¸åŒ â†’ æ•´ä¸ªèŠ‚ç‚¹ç›´æ¥æ›¿æ¢</strong></h2>
<p>åˆ¤æ–­ä¸¤ä¸ªèŠ‚ç‚¹æ˜¯å¦â€œåŒç±»å‹â€ï¼Œä¸»è¦çœ‹ï¼š</p>





















<table><thead><tr><th>åˆ¤æ–­å†…å®¹</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>æ ‡ç­¾æ˜¯å¦ç›¸åŒ</td><td>div â†’ div</td></tr><tr><td>ç»„ä»¶æ˜¯å¦ç›¸åŒ</td><td>MyComponent â†’ MyComponent</td></tr><tr><td>key æ˜¯å¦ä¸€è‡´</td><td>key="1" â†’ key="1"</td></tr></tbody></table>
<p>å¦‚æœ<strong>èŠ‚ç‚¹ç±»å‹ä¸åŒç›´æ¥æ•´æ£µæ›¿æ¢</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">&lt;<span class="hljs-selector-tag">div</span>&gt; â†’ &lt;<span class="hljs-selector-tag">span</span>&gt;
</code></pre>
<p>ä¸ç”¨å†ç»§ç»­å¾€ä¸‹æ¯”è¾ƒ childrenã€‚</p>
<hr/>
<h2 data-id="heading-3"><strong>â‘¢ èŠ‚ç‚¹ç±»å‹ç›¸åŒ â†’ ç»§ç»­æ¯”è¾ƒå±æ€§ï¼ˆpropsï¼‰</strong></h2>
<p>ä¾‹å¦‚ä¸¤ä¸ª <code>div</code>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;div <span class="hljs-attr">id</span>=<span class="hljs-string">"a"</span> class=<span class="hljs-string">"x"</span>&gt;
&lt;div <span class="hljs-attr">id</span>=<span class="hljs-string">"b"</span>&gt;
</code></pre>
<p>Diff ä¼šï¼š</p>
<ol>
<li><strong>æ‰¾å‡ºåˆ é™¤çš„å±æ€§</strong></li>
<li><strong>æ‰¾å‡ºæ–°å¢çš„å±æ€§</strong></li>
<li><strong>æ‰¾å‡ºä¿®æ”¹çš„å±æ€§</strong></li>
</ol>
<p>æœ€ç»ˆç”Ÿæˆç±»ä¼¼è¡¥ä¸ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">PATCH {
  remove <span class="hljs-keyword">class</span>
  <span class="hljs-title class_">update</span> <span class="hljs-title">id</span>: <span class="hljs-type">a</span> â†’ <span class="hljs-title">b</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-4"><strong>â‘£ æ¯”è¾ƒ Childrenï¼ˆæœ€å¤æ‚çš„éƒ¨åˆ†ï¼‰</strong></h2>
<p>å­èŠ‚ç‚¹å¯èƒ½ä¼šï¼š</p>
<ul>
<li>å¢åŠ </li>
<li>åˆ é™¤</li>
<li>ç§»åŠ¨</li>
<li>æ›´æ–°å†…å®¹</li>
</ul>
<p>å…¶ä¸­<strong>åˆ—è¡¨æ¸²æŸ“ v-for çš„ diff æœ€å¤æ‚</strong>ï¼Œéœ€è¦ keyã€‚</p>
<p>Vue Diff å¯¹ children ä¼šåšä¸‰ç±»æ“ä½œï¼š</p>
<hr/>
<h3 data-id="heading-5"><strong>ï¼ˆ1ï¼‰åŒä½ç½®æ¯”è¾ƒï¼ˆå‰ç½®æŒ‡é’ˆï¼‰</strong></h3>
<p>ä»å·¦å¾€å³ä¸€ä¸ªä¸€ä¸ªæ¯”ï¼š</p>
<p>æ—§ï¼šA B C D<br/>
æ–°ï¼šA B E D</p>
<p>å‰ä¸¤ä¸ªä¸€è‡´ï¼Œè·³è¿‡<br/>
åˆ°ç¬¬ä¸‰ä¸ªä¸ä¸€è‡´ï¼Œæ‰§è¡Œæ›´æ–°</p>
<hr/>
<h3 data-id="heading-6"><strong>ï¼ˆ2ï¼‰å°¾éƒ¨æ¯”è¾ƒï¼ˆåç½®æŒ‡é’ˆï¼‰</strong></h3>
<p>ä»å³å¾€å·¦æ¯”ï¼š</p>
<p>æ—§ï¼šA B C D<br/>
æ–°ï¼šE B C D</p>
<p>å°¾éƒ¨ Dã€Cã€B éƒ½ä¸€æ ·<br/>
åªéœ€å¤„ç†æœ€å‰é¢çš„ A ã€Eã€‚</p>
<p>è¿™ç§å‰ååŒæŒ‡é’ˆä¼˜åŒ–å‡å°‘å¾ˆå¤šå¾ªç¯ã€‚</p>
<hr/>
<h3 data-id="heading-7"><strong>ï¼ˆ3ï¼‰æ ¸å¿ƒï¼škey çš„æœ€é•¿é€’å¢å­åºåˆ—ï¼ˆLISï¼‰ä¼˜åŒ–ç§»åŠ¨</strong></h3>
<p>è¿™æ˜¯æœ€ç²¾åéƒ¨åˆ†ã€‚</p>
<p>ä¸¾ä¾‹ï¼š</p>
<p>æ—§èŠ‚ç‚¹ï¼šA B C D<br/>
æ–°èŠ‚ç‚¹ï¼šB A D C</p>
<p>ä¸ºäº†å°½é‡å‡å°‘â€œç§»åŠ¨ DOM æ¬¡æ•°â€ï¼ŒVue ä¼šï¼š</p>
<ol>
<li>å…ˆè®¡ç®—æ¯ä¸ªæ—§èŠ‚ç‚¹åœ¨æ–°åˆ—è¡¨ä¸­çš„ä¸‹æ ‡æ˜ å°„ã€‚</li>
<li>æ‰¾å‡º<strong>æœ€é•¿é€’å¢å­åºåˆ—</strong>ï¼ˆLISï¼‰ï¼Œè¿™äº›èŠ‚ç‚¹ä¸åŠ¨ã€‚</li>
<li>å‰©ä¸‹çš„èŠ‚ç‚¹æ‰éœ€è¦ç§»åŠ¨ã€‚</li>
</ol>
<p>è¿™æ · DOM æ“ä½œæœ€å°‘ï¼Œæ€§èƒ½æœ€å¥½ã€‚</p>
<hr/>
<h2 data-id="heading-8"><strong>â‘¤ ç”Ÿæˆè¡¥ä¸ï¼ˆpatchï¼‰åˆ—è¡¨</strong></h2>
<p>patch åˆ—è¡¨åŒ…å«ï¼š</p>
<ul>
<li>å“ªäº›èŠ‚ç‚¹è¦åˆ é™¤</li>
<li>å“ªäº›è¦æ–°å¢</li>
<li>å“ªäº›è¦ç§»åŠ¨</li>
<li>å“ªäº›å±æ€§è¦æ›´æ–°</li>
<li>å“ªäº›æ–‡æœ¬è¦æ›¿æ¢</li>
</ul>
<p>æœ€ç»ˆæ‰€æœ‰æ“ä½œéƒ½æ˜¯å¯¹çœŸå® DOM çš„æœ€å°ä¿®æ”¹é›†ã€‚</p>
<hr/>
<h2 data-id="heading-9"><strong>â‘¥ æ‰§è¡Œ patchï¼Œæ›´æ–°çœŸå® DOM</strong></h2>
<p>æœ€åä¸€æ­¥ç”±æ¸²æŸ“å™¨å®Œæˆï¼š</p>
<ul>
<li>åˆ é™¤ DOM</li>
<li>æ’å…¥ DOM</li>
<li>æ›´æ–°å±æ€§</li>
<li>è®¾ç½®æ–‡æœ¬å†…å®¹</li>
<li>ç§»åŠ¨èŠ‚ç‚¹ä½ç½®</li>
</ul>
<p>è¿™ä¸€æ­¥æ‰çœŸæ­£å‘ç”Ÿæµè§ˆå™¨çš„é‡ç»˜/å›æµã€‚</p>
<hr/>
<h2 data-id="heading-10"><strong>æ€»ç»“ï¼ˆèƒŒè¯µç”¨ï¼‰</strong></h2>
<p><strong>Diff ç®—æ³•æ ¸å¿ƒ 6 æ­¥ï¼š</strong></p>
<ol>
<li><strong>åŒå±‚å¯¹æ¯”</strong>ï¼Œä¸è·¨å±‚</li>
<li><strong>èŠ‚ç‚¹ç±»å‹ä¸åŒ â†’ æ•´ä¸ªæ›¿æ¢</strong></li>
<li><strong>èŠ‚ç‚¹ç±»å‹ç›¸åŒ â†’ æ›´æ–°å±æ€§</strong></li>
<li><strong>æ¯”è¾ƒ childrenï¼šå‰ç½®/åç½®/Key+LIS</strong></li>
<li><strong>ç”Ÿæˆæœ€å°ä¿®æ”¹è¡¥ä¸ï¼ˆpatchï¼‰</strong></li>
<li><strong>æ‰§è¡Œ patch æ›´æ–°çœŸå® DOM</strong></li>
</ol>
<hr/>
<p>å¦‚æœä½ è¦ï¼Œæˆ‘å¯ä»¥ç»§ç»­ï¼š</p>
<p>âœ… ç”¨å›¾ç¤ºæ–¹å¼è®²<br/>
âœ… ç”¨ä»£ç æ¨¡æ‹Ÿä¸€æ¬¡å®Œæ•´çš„ diff æµç¨‹<br/>
âœ… ç”¨å®é™… Vue ä»£ç å±•ç¤º diff å¦‚ä½•è§¦å‘</p>
<p>ä½ è¦å“ªä¸ªï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 25 é¢˜ï¼šä»€ä¹ˆæ˜¯ Virtual DOMï¼Ÿå®ƒçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼ŸDiff ç®—æ³•æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7577665924151640107</link>    <guid>https://juejin.cn/post/7577665924151640107</guid>    <pubDate>2025-11-29T05:38:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577665924151640107" data-draft-id="7577665924151623723" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 25 é¢˜ï¼šä»€ä¹ˆæ˜¯ Virtual DOMï¼Ÿå®ƒçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼ŸDiff ç®—æ³•æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:38:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 25 é¢˜ï¼šä»€ä¹ˆæ˜¯ Virtual DOMï¼Ÿå®ƒçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼ŸDiff ç®—æ³•æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:38:19.000Z" title="Sat Nov 29 2025 05:38:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><hr/>
<h2 data-id="heading-0"><strong>ç¬¬ 29 é¢˜ï¼šä»€ä¹ˆæ˜¯ Virtual DOMï¼Ÿå®ƒçš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼ŸDiff ç®—æ³•æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</strong></h2>
<p>è¿™æ˜¯å‰ç«¯æ¡†æ¶ï¼ˆVue/Reactï¼‰å¿…è€ƒé¢˜ï¼Œäº’è”ç½‘å¤§å‚å¿…é—®ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>ä¸€ã€ä»€ä¹ˆæ˜¯ Virtual DOMï¼Ÿ</strong></h2>
<p><strong>Virtual DOMï¼ˆè™šæ‹Ÿ DOMï¼‰= ç”¨ JS å¯¹è±¡æ¥æè¿°çœŸå® DOM çš„ç»“æ„ã€‚</strong></p>
<p>ä¾‹å¦‚çœŸå® DOMï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"app"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>è™šæ‹Ÿ DOMï¼ˆç¤ºæ„ï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">{
  tag: <span class="hljs-string">'div'</span>,
  props: { id: <span class="hljs-string">'app'</span> },
  children: [
    {
      tag: <span class="hljs-string">'span'</span>,
      props: null,
      children: [<span class="hljs-string">'Hello'</span>]
    }
  ]
}
</code></pre>
<p><strong>å®ƒæ˜¯ä¸€é¢—ç”¨ JS è¡¨è¾¾çš„æ ‘ï¼Œä¸ç›´æ¥æ“ä½œ DOMï¼Œè€Œæ˜¯æ“ä½œè¿™æ£µæ ‘ã€‚</strong></p>
<hr/>
<h2 data-id="heading-2"><strong>äºŒã€ä¸ºä»€ä¹ˆéœ€è¦ Virtual DOMï¼Ÿå®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</strong></h2>
<h4 data-id="heading-3">âŒ æµè§ˆå™¨ç›´æ¥æ“ä½œ DOM çš„é—®é¢˜ï¼š</h4>
<ul>
<li>DOM æ˜¯éå¸¸é‡çš„å¯¹è±¡</li>
<li>æ¯æ¬¡ä¿®æ”¹éƒ½ä¼šå¼•å‘ layout / repaint</li>
<li>é¢‘ç¹ DOM æ›´æ–°ä¼šå¯¼è‡´æ€§èƒ½é—®é¢˜</li>
</ul>
<h4 data-id="heading-4">âœ” Virtual DOM çš„ä¼˜åŠ¿ï¼š</h4>
<ol>
<li><strong>ç”¨ JS è¿ç®—ä»£æ›¿ DOM è¿ç®—</strong>ï¼ˆå¿«å¾ˆå¤šï¼‰</li>
<li><strong>æ‰¹é‡æ›´æ–° DOMï¼Œå‡å°‘é‡ç»˜å›æµ</strong></li>
<li><strong>è·¨å¹³å°ï¼ˆH5ã€Nativeã€SSRï¼‰</strong></li>
<li><strong>æä¾›å¯æ§çš„çŠ¶æ€é©±åŠ¨ UI æ¨¡å‹ï¼ˆæ•°æ® â†’ UIï¼‰</strong></li>
</ol>
<hr/>
<h2 data-id="heading-5"><strong>ä¸‰ã€Virtual DOM çš„ç¼ºç‚¹</strong></h2>
<ol>
<li><strong>é¦–å±é€Ÿåº¦æ¯”ç›´æ¥å†™åŸç”Ÿ DOM æ…¢</strong></li>
<li><strong>Diff ä¹Ÿéœ€è¦è®¡ç®—å¼€é”€</strong></li>
<li><strong>ä¸é€‚åˆæé«˜æ€§èƒ½åœºæ™¯ï¼ˆå¤§é‡èŠ‚ç‚¹/åŠ¨ç”»ï¼‰</strong></li>
</ol>
<p>ğŸ“Œ <strong>ç°é˜¶æ®µï¼šæ¡†æ¶ï¼ˆVue3 / Reactï¼‰éƒ½å¼€å§‹å¼±åŒ– Virtual DOMï¼Œæ¯”å¦‚ Vue3 ä½¿ç”¨ Proxy + ç¼–è¯‘ä¼˜åŒ–ï¼ŒReact ä¹Ÿç”¨ Fiber è®© Virtual DOM æ›´ç²¾ç»†ã€‚</strong></p>
<hr/>
<h2 data-id="heading-6"><strong>å››ã€Diff ç®—æ³•å¦‚ä½•å·¥ä½œï¼Ÿï¼ˆé¢è¯•å¿…è€ƒï¼‰</strong></h2>
<p>ä¸šç•Œé€šç”¨ï¼š</p>
<h4 data-id="heading-7"><strong>â€œåŒå±‚æ¯”è¾ƒ + å…³é”®å­—ä¼˜åŒ–â€</strong></h4>
<p>è¿™æ˜¯ä¸€ä¸ª<strong>çº¿æ€§ç®—æ³• O(n)</strong> ï¼Œä¸æ˜¯æ ‘çŠ¶éå† O(nÂ³)ã€‚</p>
<hr/>
<h3 data-id="heading-8"><strong>æ ¸å¿ƒè§„åˆ™ï¼š</strong></h3>
<h4 data-id="heading-9"><strong>1. åªæ¯”è¾ƒåŒä¸€å±‚</strong></h4>
<p>æ—§èŠ‚ç‚¹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">div</span>
 â”œâ”€ <span class="hljs-selector-tag">p</span>
 â””â”€ <span class="hljs-selector-tag">span</span>
</code></pre>
<p>æ–°èŠ‚ç‚¹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">div</span>
 â”œâ”€ <span class="hljs-selector-tag">p</span>
 â””â”€ <span class="hljs-selector-tag">a</span>   â† åªå¯¹æ¯” <span class="hljs-selector-tag">span</span> å’Œ <span class="hljs-selector-tag">a</span>ï¼Œä¸è·¨å±‚
</code></pre>
<hr/>
<h4 data-id="heading-10"><strong>2. æ ‡ç­¾ä¸åŒï¼Œç›´æ¥æ›¿æ¢</strong></h4>
<p>æ—§ï¼š<code>&lt;p&gt;</code><br/>
æ–°ï¼š<code>&lt;div&gt;</code></p>
<p>â†’ <strong>æ•´ä¸ªèŠ‚ç‚¹æ›¿æ¢</strong></p>
<hr/>
<h4 data-id="heading-11"><strong>3. æ ‡ç­¾ç›¸åŒï¼Œæ¯”è¾ƒå±æ€§</strong></h4>
<pre><code class="hljs language-bash" lang="bash">&lt;div <span class="hljs-built_in">id</span>=<span class="hljs-string">"a"</span> class=<span class="hljs-string">"x"</span>&gt;&lt;/div&gt;
&lt;div <span class="hljs-built_in">id</span>=<span class="hljs-string">"a"</span> class=<span class="hljs-string">"y"</span>&gt;&lt;/div&gt;
</code></pre>
<p>åªæ›´æ–° classã€‚</p>
<hr/>
<h4 data-id="heading-12"><strong>4. æ¯”è¾ƒ childrenï¼ˆé‡ç‚¹ï¼‰</strong></h4>
<p>æœ‰ 3 ç§æƒ…å†µï¼š</p>
<h4 data-id="heading-13"><strong>â‘  å…¨æ˜¯æ–‡æœ¬ â†’ ç›´æ¥æ›¿æ¢æ–‡æœ¬</strong></h4>
<h4 data-id="heading-14"><strong>â‘¡ éƒ½æ˜¯åˆ—è¡¨ï¼ˆv-forï¼‰â†’ ä½¿ç”¨ key ä¼˜åŒ– Diff</strong></h4>
<h5 data-id="heading-15">é¢è¯•å®˜å¿…é—®ï¼šä¸ºä»€ä¹ˆ key å¯ä»¥æé«˜æ€§èƒ½ï¼Ÿ</h5>
<p>å› ä¸º key èƒ½è®©æ¡†æ¶è¯†åˆ«èŠ‚ç‚¹â€œèº«ä»½â€ï¼Œä»è€Œï¼š</p>
<ul>
<li>ä¸ä¼šé”™è¯¯å¤ç”¨å…ƒç´ </li>
<li>èƒ½æœ€å°ä»£ä»·ç§»åŠ¨èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯å…¨éƒ¨é‡å»º</li>
</ul>
<hr/>
<h2 data-id="heading-16"><strong>äº”ã€ä¸¾ä¸ªä½¿ç”¨ key çš„ Diff ç¤ºä¾‹ï¼ˆé¢è¯•æœ€çˆ±ï¼‰</strong></h2>
<p>æ—§èŠ‚ç‚¹ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">a</span> <span class="hljs-selector-tag">b</span> c
</code></pre>
<p>æ–°èŠ‚ç‚¹ï¼š</p>
<pre><code class="hljs language-css" lang="css">c <span class="hljs-selector-tag">b</span> <span class="hljs-selector-tag">a</span>
</code></pre>
<p>å¦‚æœæ²¡æœ‰ keyï¼š</p>
<p>â†’ å¯èƒ½å…¨éƒ¨é”€æ¯é‡å»ºï¼ˆæ…¢ï¼‰</p>
<p>å¦‚æœæœ‰ keyï¼š</p>
<p>â†’ åªéœ€è¦ç§»åŠ¨èŠ‚ç‚¹ï¼Œä¸ç ´å DOMï¼Œæ€§èƒ½é«˜</p>
<hr/>
<h2 data-id="heading-17"><strong>å…­ã€æ€»ç»“å›ç­”ï¼ˆèƒŒä¸‹æ¥ä¸€å®šèƒ½è¿‡ï¼‰</strong></h2>
<blockquote>
<p><strong>Virtual DOM æ˜¯ç”¨ JavaScript å¯¹è±¡è¡¨ç¤ºçœŸå® DOM çš„æ ‘ç»“æ„ï¼Œé€šè¿‡ Diff ç®—æ³•æ‰¾å‡ºæœ€å°å·®å¼‚ï¼Œå†ä¸€æ¬¡æ€§æ›´æ–°çœŸå® DOMï¼Œä»è€Œæå‡æ€§èƒ½ã€‚å®ƒçš„ä¼˜åŠ¿æ˜¯å‡å°‘ DOM æ“ä½œã€æé«˜æ¸²æŸ“æ•ˆç‡ã€è·¨å¹³å°ï¼›ç¼ºç‚¹æ˜¯é¦–æ¬¡æ¸²æŸ“å¼€é”€æ›´å¤§ï¼ŒDiff ä¹Ÿæœ‰è®¡ç®—æˆæœ¬ã€‚Diff é‡‡ç”¨åŒå±‚æ¯”è¾ƒã€æ ‡ç­¾åˆ¤æ–­ã€å±æ€§æ¯”è¾ƒå’ŒåŸºäº key çš„æœ€å°å·®å¼‚æ›´æ–°ç­–ç•¥ï¼Œä½¿å¤æ‚åº¦é™ä½åˆ° O(n)ã€‚</strong></p>
</blockquote>
<hr/>
<p>å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ç»§ç»­ <strong>ç¬¬ 30 é¢˜ï¼šVue2 å’Œ Vue3 çš„å“åº”å¼åŸç†çš„åŒºåˆ«ï¼ˆProxy vs definePropertyï¼‰</strong> ï¼Ÿ</p>
<p>ç»§ç»­å—ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ 26 é¢˜ï¼šæµè§ˆå™¨ä¸ Node.js çš„äº‹ä»¶å¾ªç¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7577660060093546550</link>    <guid>https://juejin.cn/post/7577660060093546550</guid>    <pubDate>2025-11-29T05:39:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577660060093546550" data-draft-id="7577691384942329898" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ 26 é¢˜ï¼šæµè§ˆå™¨ä¸ Node.js çš„äº‹ä»¶å¾ªç¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:39:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ 26 é¢˜ï¼šæµè§ˆå™¨ä¸ Node.js çš„äº‹ä»¶å¾ªç¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:39:54.000Z" title="Sat Nov 29 2025 05:39:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¥½çš„ï¼Œç»§ç»­ <strong>ç¬¬ 31 é¢˜ï¼ˆè¶…çº§é«˜é¢‘ï¼Œå…¨æ ˆå¿…è€ƒï¼‰</strong> ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>ç¬¬ 31 é¢˜ï¼šæµè§ˆå™¨ä¸ Node.js çš„äº‹ä»¶å¾ªç¯æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></h2>
<p>è¿™é¢˜æ˜¯äº‹ä»¶å¾ªç¯æœ€å®¹æ˜“è¢«é—®â€œç»†èŠ‚â€çš„åœ°æ–¹ã€‚<br/>
å‰ç«¯å·¥ç¨‹å¸ˆé¢è¯•ï¼š80% ä¼šé—®<br/>
Node é¢è¯•ï¼š100% ä¼šé—®</p>
<hr/>
<h2 data-id="heading-1"><strong>ä¸€ã€ä¸ºä»€ä¹ˆæœ‰äº‹ä»¶å¾ªç¯ï¼Ÿï¼ˆå¿…ä¼šï¼‰</strong></h2>
<p>å› ä¸º JS æ˜¯å•çº¿ç¨‹ â†’ ä¸èƒ½é˜»å¡ â†’ å¼‚æ­¥ä»»åŠ¡éœ€è¦æ’é˜Ÿæ‰§è¡Œ<br/>
äº‹ä»¶å¾ªç¯å°±æ˜¯ç®¡ç† <strong>åŒæ­¥ä»»åŠ¡ + å¼‚æ­¥ä»»åŠ¡ï¼ˆå®ä»»åŠ¡ã€å¾®ä»»åŠ¡ï¼‰</strong> çš„è°ƒåº¦å™¨ã€‚</p>
<hr/>
<h2 data-id="heading-2"><strong>äºŒã€æµè§ˆå™¨äº‹ä»¶å¾ªç¯æµç¨‹ï¼ˆè®°ä½ä¸€å¥è¯ï¼‰</strong></h2>
<blockquote>
<p><strong>å¾®ä»»åŠ¡æ°¸è¿œåœ¨ä¸‹ä¸€è½®å®ä»»åŠ¡å‰æ‰§è¡Œã€‚</strong></p>
</blockquote>
<h4 data-id="heading-3">ä»»åŠ¡åˆ†ç±»ï¼š</h4>
<h4 data-id="heading-4"><strong>å®ä»»åŠ¡ï¼ˆMacro Taskï¼‰</strong></h4>
<ul>
<li>setTimeout</li>
<li>setInterval</li>
<li>DOM äº‹ä»¶</li>
<li>I/O</li>
<li>script æ•´ä½“ä»£ç </li>
<li>MessageChannel</li>
<li>postMessage</li>
</ul>
<h4 data-id="heading-5"><strong>å¾®ä»»åŠ¡ï¼ˆMicro Taskï¼‰</strong></h4>
<ul>
<li>Promise.then / catch / finally</li>
<li>MutationObserver</li>
<li>queueMicrotask</li>
</ul>
<hr/>
<h3 data-id="heading-6"><strong>æµè§ˆå™¨äº‹ä»¶å¾ªç¯æ­¥éª¤ï¼ˆæœ€é‡è¦çš„ä¸‰æ­¥ï¼‰</strong></h3>
<p><strong>1. æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼ˆscriptï¼‰</strong><br/>
<strong>2. æ¸…ç©ºå…¨éƒ¨å¾®ä»»åŠ¡é˜Ÿåˆ—</strong><br/>
<strong>3. UI æ¸²æŸ“ï¼ˆå¯èƒ½å‘ç”Ÿï¼‰</strong><br/>
ç„¶åç»§ç»­ä¸‹ä¸€è½®å¾ªç¯ã€‚</p>
<hr/>
<h3 data-id="heading-7"><strong>æµè§ˆå™¨å£è¯€ï¼ˆé¢è¯•å¥½ç”¨ï¼‰</strong></h3>
<blockquote>
<p><strong>ä¸€æ¬¡å®ä»»åŠ¡ â†’ æ¸…ç©ºå…¨éƒ¨å¾®ä»»åŠ¡ â†’ å†ä¸‹ä¸€è½®å®ä»»åŠ¡</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-8"><strong>ä¸‰ã€Node.js äº‹ä»¶å¾ªç¯ï¼ˆå…³é”®ç‚¹ï¼š6 ä¸ªé˜¶æ®µ + å¾®ä»»åŠ¡åœ¨æ¯ä¸ªé˜¶æ®µä¹‹é—´æ‰§è¡Œï¼‰</strong></h2>
<p>Node.js åŸºäº <strong>libuv</strong>ï¼Œäº‹ä»¶å¾ªç¯æœ‰ 6 ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li>
<p><strong>timers é˜¶æ®µ</strong></p>
<ul>
<li>æ‰§è¡Œ setTimeout / setInterval çš„å›è°ƒ</li>
</ul>
</li>
<li>
<p><strong>pending callbacks é˜¶æ®µ</strong></p>
<ul>
<li>æ‰§è¡ŒæŸäº›ç³»ç»Ÿçº§å›è°ƒ</li>
</ul>
</li>
<li>
<p><strong>idle / prepare é˜¶æ®µ</strong></p>
<ul>
<li>libuv å†…éƒ¨ä½¿ç”¨ï¼ˆé¢è¯•ä¸é—®ï¼‰</li>
</ul>
</li>
<li>
<p><strong>poll é˜¶æ®µï¼ˆæœ€é‡è¦ï¼‰</strong></p>
<ul>
<li>å¤„ç† I/O å›è°ƒ</li>
<li>å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œä¼šé˜»å¡ç­‰å¾…</li>
<li>è‹¥æœ‰ setImmediateï¼Œåˆ™è·³åˆ° check</li>
</ul>
</li>
<li>
<p><strong>check é˜¶æ®µ</strong></p>
<ul>
<li>æ‰§è¡Œ <strong>setImmediate</strong> å›è°ƒ</li>
</ul>
</li>
<li>
<p><strong>close callbacks é˜¶æ®µ</strong></p>
<ul>
<li>æ‰§è¡Œ close äº‹ä»¶ï¼Œå¦‚ <code>socket.on('close')</code></li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-9">âš  <strong>Node å¾®ä»»åŠ¡çš„æ‰§è¡Œè§„åˆ™ï¼ˆåŒºåˆ«æ ¸å¿ƒï¼‰</strong></h3>
<blockquote>
<p><strong>Node ä¼šåœ¨æ¯ä¸ªé˜¶æ®µä¹‹é—´éƒ½æ‰§è¡Œå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆnextTick &gt; Promiseï¼‰ã€‚</strong></p>
</blockquote>
<h4 data-id="heading-10">å¾®ä»»åŠ¡ä¼˜å…ˆçº§ï¼ˆNode ä¸“å±ï¼‰ï¼š</h4>
<ol>
<li><strong>process.nextTick</strong>ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼ï¼‰</li>
<li><strong>Promise.then</strong>ï¼ˆæ™®é€šå¾®ä»»åŠ¡ï¼‰</li>
</ol>
<hr/>
<h2 data-id="heading-11"><strong>å››ã€æµè§ˆå™¨ vs Node.js äº‹ä»¶å¾ªç¯åŒºåˆ«ï¼ˆé¢è¯•å®˜å–œæ¬¢é—®ï¼‰</strong></h2>



































<table><thead><tr><th>æ¯”è¾ƒç‚¹</th><th>æµè§ˆå™¨</th><th>Node.js</th></tr></thead><tbody><tr><td>å¾®ä»»åŠ¡æ‰§è¡Œæ—¶æœº</td><td>æ¯è½®å®ä»»åŠ¡å <strong>ç»Ÿä¸€æ¸…ç©º</strong></td><td>æ¯ä¸ªé˜¶æ®µä¹‹é—´éƒ½æ‰§è¡Œ</td></tr><tr><td>å¾®ä»»åŠ¡ä¼˜å…ˆçº§</td><td>Promise ä¼˜å…ˆ</td><td>nextTick &gt; Promise</td></tr><tr><td>å®šæ—¶å™¨ä¸ IO</td><td>æ— é˜¶æ®µ</td><td>æœ‰ 6 ä¸ªé˜¶æ®µ</td></tr><tr><td>setTimeout vs setImmediate</td><td>setTimeout â‰ˆ ä¸‹è½®å®ä»»åŠ¡</td><td>setImmediate åœ¨ check é˜¶æ®µï¼ˆæ›´å¿«ï¼‰</td></tr><tr><td>æ¸²æŸ“æœºåˆ¶</td><td>å¾®ä»»åŠ¡æ¸…ç©ºåå¯èƒ½æ¸²æŸ“ UI</td><td>æ²¡æœ‰ UI æ¸²æŸ“</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-12"><strong>äº”ã€å¿…è€ƒä¾‹é¢˜ï¼ˆä¸€å®šä¼šè€ƒï¼Œå°±è€ƒè¿™ä¸ªï¼ï¼‰</strong></h2>
<h4 data-id="heading-13">ä¾‹é¢˜ 1ï¼ˆæµè§ˆå™¨ï¼‰ï¼š</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>));

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>));

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>);
</code></pre>
<p>æ‰§è¡Œé¡ºåºï¼š</p>
<pre><code class="hljs">1
4
3   â† å¾®ä»»åŠ¡ä¼˜å…ˆ
2
</code></pre>
<hr/>
<h4 data-id="heading-14">ä¾‹é¢˜ 2ï¼ˆNode.jsï¼‰ï¼š</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'timeout'</span>);
});

<span class="hljs-title function_">setImmediate</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'immediate'</span>);
});
</code></pre>
<p>Node å¸¸è§æƒ…å†µï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">timeout</span>
immediate
</code></pre>
<p>ä½†å®é™…ä¸ä¸€å®šç¨³å®šï¼ŒåŒä¸€æ¬¡ I/O åæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">immediate
<span class="hljs-built_in">timeout</span>
</code></pre>
<hr/>
<h4 data-id="heading-15">ä¾‹é¢˜ 3ï¼ˆNode å¾®ä»»åŠ¡ä¼˜å…ˆçº§ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'promise'</span>));
process.<span class="hljs-title function_">nextTick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'nextTick'</span>));
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">nextTick
promise
</code></pre>
<hr/>
<h2 data-id="heading-16"><strong>å…­ã€20 ç§’èƒŒè¯µç‰ˆï¼ˆé¢è¯•å¿…æ€æŠ€ï¼‰</strong></h2>
<blockquote>
<p><strong>æµè§ˆå™¨ï¼šä¸€æ¬¡å®ä»»åŠ¡æ‰§è¡Œåï¼Œä¼šç«‹å³æ¸…ç©ºæ‰€æœ‰å¾®ä»»åŠ¡ï¼Œç„¶åå†è¿›è¡Œä¸‹ä¸€è½®å®ä»»åŠ¡ï¼›å¾®ä»»åŠ¡åŒ…æ‹¬ Promise å’Œ queueMicrotaskã€‚<br/>
Nodeï¼šåŸºäº libuvï¼Œæœ‰ 6 ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µä¹‹é—´éƒ½ä¼šæ‰§è¡Œå¾®ä»»åŠ¡ï¼›ä¸”å¾®ä»»åŠ¡ä¼˜å…ˆçº§æ˜¯ nextTick &gt; Promiseã€‚</strong></p>
<p><strong>æµè§ˆå™¨åªæœ‰å®ä»»åŠ¡ â†’ å¾®ä»»åŠ¡<br/>
Node æ¯ä¸ªé˜¶æ®µä¹‹é—´éƒ½æ’ä¸€æ¬¡å¾®ä»»åŠ¡ã€‚</strong></p>
</blockquote>
<hr/>
<p>è¦ç»§ç»­ <strong>ç¬¬ 32 é¢˜ï¼šPromise å®ç°åŸç†ï¼ˆæ‰‹å†™ï¼‰</strong> å—ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ 26 é¢˜ï¼šVue2 å’Œ Vue3 çš„å“åº”å¼åŸç†æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ Vue3 è¦ç”¨ Proxy æ›¿ä»£ definePropertyï¼Ÿ]]></title>    <link>https://juejin.cn/post/7577627308515459113</link>    <guid>https://juejin.cn/post/7577627308515459113</guid>    <pubDate>2025-11-29T05:39:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577627308515459113" data-draft-id="7577627308515442729" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ 26 é¢˜ï¼šVue2 å’Œ Vue3 çš„å“åº”å¼åŸç†æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ Vue3 è¦ç”¨ Proxy æ›¿ä»£ definePropertyï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:39:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ 26 é¢˜ï¼šVue2 å’Œ Vue3 çš„å“åº”å¼åŸç†æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ Vue3 è¦ç”¨ Proxy æ›¿ä»£ definePropertyï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:39:17.000Z" title="Sat Nov 29 2025 05:39:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¥½çš„ï¼Œç»§ç»­ **ç¬¬ 30 é¢˜ï¼ˆé«˜é¢‘å¿…è€ƒï¼‰**ğŸ‘‡<br/>
è¿™ä¸€é¢˜åœ¨ Vue é¢è¯•ä¸­å‡ ä¹ 100% ä¼šé—®åˆ°ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>ç¬¬ 30 é¢˜ï¼šVue2 å’Œ Vue3 çš„å“åº”å¼åŸç†æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ Vue3 è¦ç”¨ Proxy æ›¿ä»£ definePropertyï¼Ÿ</strong></h2>
<hr/>
<h2 data-id="heading-1"><strong>ä¸€ã€Vue2 çš„å“åº”å¼åŸç†ï¼ˆdefinePropertyï¼‰</strong></h2>
<p>Vue2 é€šè¿‡ï¼š</p>
<p>âœ” <code>Object.defineProperty()</code><br/>
âœ” å¯¹æ¯ä¸ªå±æ€§è¿›è¡Œâ€œåŠ«æŒâ€<br/>
âœ” åœ¨ getter / setter é‡Œæ”¶é›†ä¾èµ– &amp; è§¦å‘æ›´æ–°</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'Tom'</span> };

<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(obj, <span class="hljs-string">'name'</span>, {
  <span class="hljs-title function_">get</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// ä¾èµ–æ”¶é›†</span>
    <span class="hljs-keyword">return</span> value;
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">newVal</span>) {
    <span class="hljs-comment">// é€šçŸ¥æ›´æ–°</span>
    value = newVal;
  }
});
</code></pre>
<hr/>
<h3 data-id="heading-2"><strong>Vue2 çš„é—®é¢˜ï¼ˆé¢è¯•é‡ç‚¹ï¼‰</strong></h3>
<h4 data-id="heading-3">âŒ <strong>1. åªèƒ½ç›‘å¬å·²æœ‰å±æ€§ï¼ˆä¸èƒ½ç›‘å¬æ–°å¢ã€åˆ é™¤ï¼‰</strong></h4>
<pre><code class="hljs language-arduino" lang="arduino">vm.obj.newKey = xxx <span class="hljs-comment">// æ— æ³•ç›‘å¬</span>
<span class="hljs-keyword">delete</span> vm.obj.xxx <span class="hljs-comment">// æ— æ³•ç›‘å¬</span>
</code></pre>
<p>å¿…é¡»ï¼š</p>
<ul>
<li><code>Vue.set()</code></li>
<li><code>Vue.delete()</code></li>
</ul>
<hr/>
<h4 data-id="heading-4">âŒ <strong>2. æ•°ç»„å˜åŠ¨ç›‘å¬æœ‰é™</strong></h4>
<p>Vue2 ä¸èƒ½æ£€æµ‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">arr<span class="hljs-section">[index]</span> = value
<span class="hljs-attr">arr.length</span> = <span class="hljs-number">10</span>
</code></pre>
<p>åªèƒ½ hack 7 ä¸ªæ–¹æ³•ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-keyword">push</span> / <span class="hljs-keyword">pop</span> / <span class="hljs-keyword">shift</span> / <span class="hljs-keyword">unshift</span> / <span class="hljs-keyword">sort</span> / <span class="hljs-keyword">reverse</span> / <span class="hljs-keyword">splice</span>
</code></pre>
<hr/>
<h4 data-id="heading-5">âŒ <strong>3. æ¯ä¸ªå±æ€§éƒ½è¦é€’å½’åŠ«æŒï¼ˆåˆå§‹åŒ–æ€§èƒ½å·®ï¼‰</strong></h4>
<p>å¯¹è±¡åµŒå¥—è¶Šæ·± â†’ defineProperty é€’å½’è¶Šå¤š â†’ åˆå§‹åŒ–è¶Šæ…¢</p>
<hr/>
<hr/>
<h2 data-id="heading-6"><strong>äºŒã€Vue3 çš„å“åº”å¼åŸç†ï¼ˆProxy + Reflectï¼‰</strong></h2>
<p>Vue3 ä½¿ç”¨ï¼š</p>
<p>âœ” <code>Proxy</code> åŠ«æŒæ•´ä¸ªå¯¹è±¡<br/>
âœ” <code>Reflect</code> åšé»˜è®¤æ“ä½œ<br/>
âœ” å®Œæ•´ç›‘å¬ï¼šæ–°å¢ã€åˆ é™¤ã€æ•°ç»„ç´¢å¼•ã€é•¿åº¦å˜åŒ–</p>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'Tom'</span> };

<span class="hljs-keyword">const</span> proxy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(obj, {
  <span class="hljs-title function_">get</span>(<span class="hljs-params">target, key, receiver</span>) {
    <span class="hljs-comment">// ä¾èµ–æ”¶é›†</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);
  },
  <span class="hljs-title function_">set</span>(<span class="hljs-params">target, key, value, receiver</span>) {
    <span class="hljs-comment">// é€šçŸ¥æ›´æ–°</span>
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, key, value, receiver);
  }
});
</code></pre>
<hr/>
<h2 data-id="heading-7"><strong>Vue3 çš„ä¼˜åŠ¿ï¼ˆé‡ç‚¹ï¼‰</strong></h2>
<h4 data-id="heading-8">âœ” <strong>1. å¯¹è±¡çš„æ–°å¢/åˆ é™¤å¯ç›‘å¬</strong></h4>
<pre><code class="hljs language-arduino" lang="arduino">proxy.newKey = <span class="hljs-number">123</span>   <span class="hljs-comment">// è‡ªåŠ¨å“åº”</span>
<span class="hljs-keyword">delete</span> proxy.name    <span class="hljs-comment">// è‡ªåŠ¨å“åº”</span>
</code></pre>
<hr/>
<h4 data-id="heading-9">âœ” <strong>2. æ•°ç»„ç´¢å¼• &amp; length å˜åŒ–å¯ç›‘å¬</strong></h4>
<pre><code class="hljs language-ini" lang="ini">proxy<span class="hljs-section">[1]</span> = 99    // å“åº”å¼
<span class="hljs-attr">proxy.length</span> = <span class="hljs-number">10</span>  // å“åº”å¼
</code></pre>
<hr/>
<h4 data-id="heading-10">âœ” <strong>3. æ€§èƒ½æ›´é«˜</strong></h4>
<ul>
<li>Proxy ä¸éœ€è¦é€’å½’éå†æ‰€æœ‰å±æ€§</li>
<li>æŒ‰éœ€ç›‘å¬ï¼ˆè®¿é—®æ‰ä¼šæ”¶é›†ä¾èµ–ï¼‰</li>
<li>å†…å­˜å ç”¨æ›´å°</li>
</ul>
<hr/>
<h4 data-id="heading-11">âœ” <strong>4. æ”¯æŒ Mapã€Setã€WeakMapã€WeakSet</strong>ï¼ˆVue2 åšä¸åˆ°ï¼‰</h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">const</span> s = reactive(<span class="hljs-keyword">new</span> Set());
s.<span class="hljs-keyword">add</span>(<span class="hljs-number">1</span>);  <span class="hljs-comment">// å“åº”å¼</span>
</code></pre>
<hr/>
<h4 data-id="heading-12">âœ” <strong>5. æ›´å¥½æ”¯æŒ TSã€é™æ€åˆ†æã€ç¼–è¯‘ä¼˜åŒ–ï¼ˆVue3 çš„æ ¸å¿ƒï¼‰</strong></h4>
<hr/>
<h2 data-id="heading-13"><strong>ä¸‰ã€ä¸ºä»€ä¹ˆ Vue3 ä½¿ç”¨ Proxy æ›¿ä»£ definePropertyï¼Ÿï¼ˆæ€»ç»“èƒ½æ‹¿é«˜åˆ†ï¼‰</strong></h2>
<blockquote>
<p>å› ä¸º defineProperty æœ¬è´¨ä¸Šåªèƒ½åŠ«æŒå¯¹è±¡çš„å±æ€§ï¼Œè€Œä¸èƒ½åŠ«æŒå¯¹è±¡æœ¬èº«ï¼Œæ‰€ä»¥æ— æ³•ç›‘å¬åŠ¨æ€æ–°å¢å±æ€§ã€åˆ é™¤å±æ€§ã€æ•°ç»„ç´¢å¼•å˜åŒ–ç­‰æƒ…å†µï¼›åŒæ—¶é€’å½’éå†æ‰€æœ‰å±æ€§çš„åˆå§‹åŒ–æ€§èƒ½ä¹Ÿè¾ƒå·®ã€‚Proxy åˆ™å¯ä»¥ç›´æ¥åŠ«æŒæ•´ä¸ªå¯¹è±¡ï¼Œå¹¶èƒ½å®Œç¾ç›‘å¬æ‰€æœ‰è¯»å†™ã€å¢åŠ ã€åˆ é™¤ã€æ•°ç»„æ“ä½œç­‰è¡Œä¸ºï¼Œæ€§èƒ½æ›´ä¼˜ã€æ›´çµæ´»ï¼Œå¹¶æ”¯æŒæ›´å¤æ‚çš„æ•°æ®ç»“æ„ï¼ˆå¦‚ Map/Setï¼‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-14"><strong>å››ã€èƒŒè¯µç‰ˆï¼ˆ15 ç§’å¿«é€Ÿå›ç­”ï¼‰</strong></h2>
<blockquote>
<p>Vue2 ä½¿ç”¨ defineProperty é€šè¿‡ getter/setter åŠ«æŒå±æ€§ï¼Œä½†æ— æ³•ç›‘å¬æ–°å¢/åˆ é™¤å±æ€§å’Œæ•°ç»„ç´¢å¼•ï¼Œéœ€è¦ Vue.set æ‰èƒ½è§¦å‘æ›´æ–°ï¼›å¹¶ä¸”åˆå§‹åŒ–éœ€è¦é€’å½’æ‰€æœ‰å±æ€§ï¼Œæ€§èƒ½è¾ƒå·®ã€‚</p>
<p>Vue3 ä½¿ç”¨ Proxy ç›´æ¥ä»£ç†æ•´ä¸ªå¯¹è±¡ï¼Œèƒ½ç›‘å¬æ‰€æœ‰æ“ä½œï¼ŒåŒ…æ‹¬æ–°å¢ã€åˆ é™¤ã€æ•°ç»„ç´¢å¼•å˜æ›´ï¼Œå¹¶èƒ½æ”¯æŒ Map/Set ç­‰å¤æ‚ç»“æ„ï¼Œä¸”å®ç°æ›´ç®€å•ã€æ€§èƒ½æ›´é«˜ï¼Œå› æ­¤ Vue3 æ”¾å¼ƒäº† definePropertyã€‚</p>
</blockquote>
<hr/>
<p>éœ€è¦ç»§ç»­ <strong>ç¬¬ 31 é¢˜ï¼šäº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰è¯¦ç»†ç‰ˆ</strong> å—ï¼Ÿï¼ˆæµè§ˆå™¨ vs Node.jsï¼‰<br/>
è¿™ä¹Ÿæ˜¯å‰ç«¯é¢è¯•çš„ç‹ç‚¸é¢˜ ğŸ”¥</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ 27 é¢˜ï¼šPromise å®ç°åŸç†ï¼ˆå«æ‰‹å†™ Promiseï¼‰]]></title>    <link>https://juejin.cn/post/7577715145120546870</link>    <guid>https://juejin.cn/post/7577715145120546870</guid>    <pubDate>2025-11-29T05:40:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577715145120546870" data-draft-id="7577715145120530486" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ 27 é¢˜ï¼šPromise å®ç°åŸç†ï¼ˆå«æ‰‹å†™ Promiseï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:40:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ 27 é¢˜ï¼šPromise å®ç°åŸç†ï¼ˆå«æ‰‹å†™ Promiseï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:40:37.000Z" title="Sat Nov 29 2025 05:40:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¥½çš„ï¼Œè¿›å…¥ <strong>ç¬¬ 32 é¢˜ï¼šPromise å®ç°åŸç†ï¼ˆå«æ‰‹å†™ Promiseï¼‰</strong> ã€‚<br/>
è¿™æ˜¯ <strong>å‰ç«¯é¡¶çº§é«˜é¢‘é¢˜</strong>ï¼Œé«˜çº§å‰ç«¯/èµ„æ·±å‰ç«¯å¿…é—®ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>ç¬¬ 32 é¢˜ï¼šPromise çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•æ‰‹å†™ä¸€ä¸ª Promiseï¼Ÿï¼ˆè¯¦ç»†ç‰ˆï¼‰</strong></h2>
<hr/>
<h2 data-id="heading-1"><strong>ä¸€ã€Promise çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆæ ¸å¿ƒä¸€å¥è¯ï¼‰</strong></h2>
<blockquote>
<p><strong>Promise æ˜¯ä¸€ä¸ªçŠ¶æ€æœº + è®¢é˜…å‘å¸ƒæ¨¡å¼çš„å¼‚æ­¥ä»»åŠ¡å®¹å™¨ã€‚</strong></p>
</blockquote>
<p>å®ƒæœ‰ä¸‰ä¸ªçŠ¶æ€ï¼š</p>
<ul>
<li><strong>pending</strong></li>
<li><strong>fulfilled</strong></li>
<li><strong>rejected</strong></li>
</ul>
<p>çŠ¶æ€åªèƒ½ï¼š</p>
<p>âœ” ä» pending â†’ fulfilled<br/>
âœ” ä» pending â†’ rejected<br/>
âœ– ä¸èƒ½ä» fulfilled/rejected å›åˆ° pending</p>
<hr/>
<h2 data-id="heading-2"><strong>äºŒã€Promise åšäº†ä»€ä¹ˆï¼Ÿï¼ˆé¢è¯•å®˜è¦çš„ï¼‰</strong></h2>
<ol>
<li><strong>æŠŠå¼‚æ­¥æ“ä½œåŒ…è£…æˆä¸€ä¸ªå¯¹è±¡</strong></li>
<li><strong>å¯ä»¥é€šè¿‡ then / catch æ³¨å†Œå›è°ƒ</strong></li>
<li><strong>çŠ¶æ€å˜åŒ–åä¸€æ—¦ç¡®å®šï¼Œä¸å¯é€†</strong></li>
<li><strong>æ‰€æœ‰ then å›è°ƒéƒ½æ˜¯å¾®ä»»åŠ¡ï¼ˆmicrotaskï¼‰</strong></li>
<li><strong>é“¾å¼è°ƒç”¨æ”¯æŒï¼Œè¿”å›æ–°çš„ Promise</strong></li>
</ol>
<hr/>
<h2 data-id="heading-3"><strong>ä¸‰ã€Promise çš„å…³é”®å®ç°ç‚¹ï¼ˆé¢è¯•å¿…è€ƒ 5 ç‚¹ï¼‰</strong></h2>
<ol>
<li>
<p><strong>çŠ¶æ€ç®¡ç†ï¼ˆstateï¼‰</strong></p>
</li>
<li>
<p><strong>æˆåŠŸå€¼ &amp; å¤±è´¥åŸå› ï¼ˆvalueï¼Œreasonï¼‰</strong></p>
</li>
<li>
<p><strong>å›è°ƒä¾èµ–é˜Ÿåˆ—ï¼ˆonFulfilledQueue / onRejectedQueueï¼‰</strong></p>
</li>
<li>
<p><strong>çŠ¶æ€å˜æ›´åè§¦å‘å›è°ƒï¼ˆå‘å¸ƒ-è®¢é˜…ï¼‰</strong></p>
</li>
<li>
<p><strong>then çš„é“¾å¼è°ƒç”¨è¦è¿”å›æ–° Promiseï¼Œå¤„ç†ä¸‰ç§æƒ…å†µï¼š</strong></p>
<ul>
<li>è¿”å›æ™®é€šå€¼ â†’ resolve</li>
<li>è¿”å› Promise â†’ ç­‰å¾…è¿™ä¸ª Promise</li>
<li>æŠ›é”™ â†’ reject</li>
</ul>
</li>
</ol>
<hr/>
<h2 data-id="heading-4"><strong>å››ã€æœ€å¸¸è§é¢è¯•è¦æ±‚ï¼šæ‰‹å†™ä¸€ä¸ªæœ€å° Promise</strong></h2>
<blockquote>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ª <strong>çœŸæ­£èƒ½è¿è¡Œ</strong> çš„ã€<strong>æœ€ç®€ç‰ˆ</strong> Promise å®ç°<br/>
é¢è¯•è€ƒè¿™ä¸ªç‰ˆæœ¬æœ€ç¨³ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5"><strong>äº”ã€æ‰‹å†™ Promiseï¼ˆç®€åŒ–å¯è¿è¡Œç‰ˆï¼‰</strong></h2>
<pre><code class="hljs language-ini" lang="ini">class MyPromise {
  constructor(executor) {
    <span class="hljs-attr">this.state</span> = <span class="hljs-string">'pending'</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.value</span> = null<span class="hljs-comment">;</span>
    <span class="hljs-attr">this.reason</span> = null<span class="hljs-comment">;</span>

    <span class="hljs-attr">this.onFulfilledCallbacks</span> = []<span class="hljs-comment">;</span>
    <span class="hljs-attr">this.onRejectedCallbacks</span> = []<span class="hljs-comment">;</span>

    const <span class="hljs-attr">resolve</span> = (value) =&gt; {
      if (<span class="hljs-attr">this.state</span> === <span class="hljs-string">'pending'</span>) {
        <span class="hljs-attr">this.state</span> = <span class="hljs-string">'fulfilled'</span><span class="hljs-comment">;</span>
        <span class="hljs-attr">this.value</span> = value<span class="hljs-comment">;</span>
        this.onFulfilledCallbacks.forEach(<span class="hljs-attr">fn</span> =&gt; fn())<span class="hljs-comment">;</span>
      }
    }<span class="hljs-comment">;</span>

    const <span class="hljs-attr">reject</span> = (reason) =&gt; {
      if (<span class="hljs-attr">this.state</span> === <span class="hljs-string">'pending'</span>) {
        <span class="hljs-attr">this.state</span> = <span class="hljs-string">'rejected'</span><span class="hljs-comment">;</span>
        <span class="hljs-attr">this.reason</span> = reason<span class="hljs-comment">;</span>
        this.onRejectedCallbacks.forEach(<span class="hljs-attr">fn</span> =&gt; fn())<span class="hljs-comment">;</span>
      }
    }<span class="hljs-comment">;</span>

    try {
      executor(resolve, reject)<span class="hljs-comment">;</span>
    } catch (err) {
      reject(err)<span class="hljs-comment">;</span>
    }
  }

  then(onFulfilled, onRejected) {
    // å¦‚æœç”¨æˆ·æ²¡ä¼ ï¼Œå°±å…œåº•
    <span class="hljs-attr">onFulfilled</span> = typeof <span class="hljs-literal">on</span>Fulfilled === <span class="hljs-string">'function'</span> ? <span class="hljs-literal">on</span>Fulfilled : (v) =&gt; v<span class="hljs-comment">;</span>
    <span class="hljs-attr">onRejected</span> = typeof <span class="hljs-literal">on</span>Rejected === <span class="hljs-string">'function'</span> ? <span class="hljs-literal">on</span>Rejected : (e) =&gt; { throw e<span class="hljs-comment">; };</span>

    return new MyPromise((resolve, reject) =&gt; {
      if (<span class="hljs-attr">this.state</span> === <span class="hljs-string">'fulfilled'</span>) {
        queueMicrotask(() =&gt; {
          try {
            const <span class="hljs-attr">x</span> = <span class="hljs-literal">on</span>Fulfilled(this.value)<span class="hljs-comment">;</span>
            resolve(x)<span class="hljs-comment">;</span>
          } catch (err) {
            reject(err)<span class="hljs-comment">;</span>
          }
        })<span class="hljs-comment">;</span>
      }

      if (<span class="hljs-attr">this.state</span> === <span class="hljs-string">'rejected'</span>) {
        queueMicrotask(() =&gt; {
          try {
            const <span class="hljs-attr">x</span> = <span class="hljs-literal">on</span>Rejected(this.reason)<span class="hljs-comment">;</span>
            resolve(x)<span class="hljs-comment">;</span>
          } catch (err) {
            reject(err)<span class="hljs-comment">;</span>
          }
        })<span class="hljs-comment">;</span>
      }

      if (<span class="hljs-attr">this.state</span> === <span class="hljs-string">'pending'</span>) {
        this.onFulfilledCallbacks.push(() =&gt; {
          queueMicrotask(() =&gt; {
            try {
              const <span class="hljs-attr">x</span> = <span class="hljs-literal">on</span>Fulfilled(this.value)<span class="hljs-comment">;</span>
              resolve(x)<span class="hljs-comment">;</span>
            } catch (err) {
              reject(err)<span class="hljs-comment">;</span>
            }
          })<span class="hljs-comment">;</span>
        })<span class="hljs-comment">;</span>

        this.onRejectedCallbacks.push(() =&gt; {
          queueMicrotask(() =&gt; {
            try {
              const <span class="hljs-attr">x</span> = <span class="hljs-literal">on</span>Rejected(this.reason)<span class="hljs-comment">;</span>
              resolve(x)<span class="hljs-comment">;</span>
            } catch (err) {
              reject(err)<span class="hljs-comment">;</span>
            }
          })<span class="hljs-comment">;</span>
        })<span class="hljs-comment">;</span>
      }
    })<span class="hljs-comment">;</span>
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-6"><strong>å…­ã€è¿™ä¸ª Promise å®ç°èƒ½åšä»€ä¹ˆï¼Ÿ</strong></h2>
<p>âœ” then é“¾å¼è°ƒç”¨<br/>
âœ” å¼‚æ­¥æ‰§è¡Œ<br/>
âœ” å›è°ƒé˜Ÿåˆ—<br/>
âœ” çŠ¶æ€ä¸å¯é€†<br/>
âœ” å¾®ä»»åŠ¡æ‰§è¡Œæ¨¡å‹<br/>
âœ” æŠ›é”™æ•è·</p>
<p>åŸºæœ¬ç­‰åŒäºç®€åŒ–ç‰ˆ ES Promiseï¼Œé¢è¯•å¤Ÿç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-7"><strong>ä¸ƒã€é¢è¯•å®˜ä¼šç»§ç»­è¿½é—®ä»€ä¹ˆï¼Ÿï¼ˆæå‰å‡†å¤‡ï¼‰</strong></h2>
<p>æˆ‘ç»™ä½ æ¢³ç†å¥½äº†ï¼š</p>
<h4 data-id="heading-8">1. å¦‚ä½•å®ç° <code>catch</code>ï¼Ÿ</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">catch</span>(errFn) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.then(<span class="hljs-literal">null</span>, errFn);
}
</code></pre>
<h4 data-id="heading-9">2. å¦‚ä½•å®ç° <code>finally</code>ï¼Ÿ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">finally</span>(<span class="hljs-params">fn</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">then</span>(
    <span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-title function_">fn</span>()).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> v),
    <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-title function_">fn</span>()).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-keyword">throw</span> e; })
  );
}
</code></pre>
<h4 data-id="heading-10">3. å¦‚ä½•å¤„ç† then è¿”å› Promise æœ¬èº«ï¼Ÿ</h4>
<p>éœ€è¦ <strong>resolvePromise è§£æå™¨</strong>ï¼ˆå®Œæ•´ç‰ˆæ‰æœ‰ï¼‰</p>
<h4 data-id="heading-11">4. then ä¸ºä»€ä¹ˆæ˜¯å¾®ä»»åŠ¡ï¼Ÿ</h4>
<p>å› ä¸º ES æ ‡å‡†è§„å®šï¼š</p>
<blockquote>
<p>Promise reaction å¿…é¡»åœ¨å½“å‰æ‰§è¡Œæ ˆç»“æŸåã€å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‰§è¡Œã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-12"><strong>å…«ã€20 ç§’èƒŒè¯µç‰ˆï¼ˆé¢è¯•å¿…æ€ï¼‰</strong></h2>
<blockquote>
<p><strong>Promise æ˜¯ä¸€ä¸ªçŠ¶æ€æœºï¼ˆpending â†’ fulfilled/rejectedï¼‰ï¼Œå¹¶ä½¿ç”¨å‘å¸ƒè®¢é˜…æ¨¡å¼æ¥ç®¡ç†å›è°ƒã€‚then çš„å›è°ƒä¼šè¢«åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ŒçŠ¶æ€å˜æ›´åè§¦å‘æ‰§è¡Œã€‚é“¾å¼è°ƒç”¨é€šè¿‡è¿”å›æ–°çš„ Promise å¹¶è§£æè¿”å›ç»“æœå®ç°ã€‚å¦‚æœè¿”å›å€¼æ˜¯æ™®é€šå€¼ç›´æ¥ resolveï¼Œå¦‚æœè¿”å›çš„æ˜¯ Promiseï¼Œå°±ç­‰å¾…å®ƒå®Œæˆã€‚</strong></p>
</blockquote>
<hr/>
<p>æ˜¯å¦è¿›å…¥ <strong>ç¬¬ 33 é¢˜ï¼šasync/await åŸç†ï¼ˆä¸ºä»€ä¹ˆ await æ˜¯ Promise çš„è¯­æ³•ç³–ï¼‰</strong> ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§é‡é¢‘ç¹è®°å½•æœ‰æ•ˆå‡»çƒæ–¹å¼]]></title>    <link>https://juejin.cn/post/7577653509862113330</link>    <guid>https://juejin.cn/post/7577653509862113330</guid>    <pubDate>2025-11-29T05:41:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577653509862113330" data-draft-id="7577653509862080562" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§é‡é¢‘ç¹è®°å½•æœ‰æ•ˆå‡»çƒæ–¹å¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-29T05:41:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§é¸¡è…¿åŒå­¦"/> <meta itemprop="url" content="https://juejin.cn/user/3526889030825928"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§é‡é¢‘ç¹è®°å½•æœ‰æ•ˆå‡»çƒæ–¹å¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3526889030825928/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§é¸¡è…¿åŒå­¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:41:16.000Z" title="Sat Nov 29 2025 05:41:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c96237030384c78a398ed08cb387f96~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aSn6bih6IW_5ZCM5a2m:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764999675&amp;x-signature=uGcRM8pfqCN7wCgpNG0%2BrM2Xdcw%3D" alt="e8f1a18b418d5b493a0764ff0b0e571c.jpeg" loading="lazy"/></p>
<h2 data-id="heading-0">å‰è¨€</h2>
<hr/>
<blockquote>
<p>äººæ˜¯æ¨¡ä»¿å‹åŠ¨ç‰©ï¼Œéœ€è¦æˆåŠŸçš„å…ˆä¾‹ï¼Œæ¨¡ä»¿å­¦ä¹ </p>
</blockquote>
<p>å¤§éƒ¨åˆ†äººéƒ½æ˜¯æ™®é€šäººï¼Œä¸å­˜åœ¨åˆ›é€ ç‰¹åˆ«å‰æ²¿çš„æ€æƒ³ã€ä½“ç³»å»ºè®¾ï¼Œä¼´éšç€äººç”Ÿçš„æƒ°æ€§ä¹Ÿå¥½ï¼Œæƒ¯æ€§ä¹Ÿç½¢ï¼Œä¸€ç›´ä»¥å›ºå®šçš„æ–¹å¼ä¸æ–­é‡å¤ä¸‹å»ã€‚</p>
<p>ç°ä»£å¾ˆå¸¸è§çš„çœ‹ä¼¼æˆé•¿çš„æ–¹å¼ï¼Œå°±æ˜¯åƒå“†å•¦Aæ¢¦çš„ç»™ä½ ä¸€ä¸ªå……æ»¡çŸ¥è¯†ä½“çš„ä¸œè¥¿åƒä¸‹å»ä½ å°±ä¼šå……æ»¡æ™ºæ…§ï¼Œè·Ÿå½“å‰è‡ªåª’ä½“åšçš„äº‹æƒ…ç±»ä¼¼çš„ï¼Œå¤§é‡çœ‹ä¼¼çŸ¥è¯†çš„ä¸œè¥¿ä¸æ–­ç»™ä½ çŒè¾“ï¼Œä½†æ˜¯çœŸæ­£åšäº‹çš„æ—¶å€™è¿™äº›éƒ½æ˜¯æ²¡æœ‰ç”¨çš„ã€‚</p>
<p>ä¸ªäººè®¤ä¸ºï¼Œäººçš„é˜…å†æ²¡æœ‰ç»å†è¿‡ï¼Œæ‰€ä»¥è¿‡å‰©çš„çŸ¥è¯†æ— æ³•ç†è§£ã€‚å†å¾€æ·±ä¸€ç‚¹ï¼Œæˆ‘è®¤ä¸ºäººå°±æ˜¯æ¨¡ä»¿å‹åŠ¨ç‰©ï¼Œå½“ä½ çœ‹åˆ°åˆ«äººæˆåŠŸæœ‰æ•ˆçš„æˆåŠŸæ¡ˆä¾‹ï¼Œä½ æ¸æ¸äº§ç”Ÿè‚Œè‚‰è®°å¿†ã€‚å¹¶ä¸æ˜¯è¯´æŒ‰ç…§ä»–äººçš„æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥åšæˆï¼Œè€Œæ˜¯è¯´åœ¨ç‰¹å®šæ¡ä»¶ä¸‹æŸç§åŠ¨ä½œå®ƒæ˜¯æœ‰æ•ˆçš„ã€‚</p>
<p>å…¶ä¸­å°±æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ä¹ æƒ¯ï¼šè®°å½•æœ‰æ•ˆå‡»çƒæ–¹å¼</p>
<h2 data-id="heading-1">è®°å½•æœ‰æ•ˆå‡»çƒæ–¹å¼</h2>
<hr/>
<ul>
<li>è®°å½•è‡ªå·±çš„è¡Œä¸º</li>
</ul>
<p>æˆ‘ä¹Ÿå°è¯•è®°å½•è‡ªèº«çš„è¡Œä¸ºï¼Œä»¥åŠäº§ç”Ÿçš„ç»“æœï¼Œè¿˜æœ‰ä¸æ–­å¤ç›˜å¾—å¤±ï¼Œä½†æ˜¯æ•´ä¸ªè¿‡ç¨‹åé¦ˆå¹¶æ²¡æœ‰æƒ³è±¡çš„ç†æƒ³ã€‚</p>
<p>å…¶ä¸­ä¸€ä¸ªåŸå› æ˜¯çºªå¾‹ï¼Œå°±æ˜¯ä½ æ˜æ˜çŸ¥é“ä»€ä¹ˆå¤„ç†æ–¹å¼ä¸åˆç†ï¼Œä½†æ˜¯å°±æ˜¯ä¸åšå®ˆè¿™ä¸ªè‡ªå·±å®šçš„çºªå¾‹ï¼Œéœ€è¦ååå¤å¤å¼ºåŒ–ï¼Œé©¯æœè‡ªèº«çš„äººæ€§å¼±ç‚¹ã€‚</p>
<p>å¦ä¸€ä¸ªåŸå› ï¼Œæ²¡æœ‰è§è¿‡ä»–äººçš„å‰§æœ¬ï¼Œæˆ‘ä»¬åœ¨è¯„åˆ¤äº‹æƒ…çš„æ—¶å€™æ˜¯åŸºäºè‡ªèº«çš„è®¤çŸ¥ä½“ç³»ï¼Œè¿™è·Ÿè‡ªèº«çš„é˜…å†æœ‰å…³ç³»ï¼Œå½“ä½ æ¥è§¦æ›´é«˜çº§çš„äººä¹‹åï¼Œäº†è§£å­¦ä¹ ä»–ä»¬çš„è¡Œä¸ºæ–¹å¼ï¼Œå¯¹äºä½ å»çœ‹å¾…ä¸€ä»¶äº‹çš„æ—¶å€™ä¸å†å±€é™å½“å‰è‡ªèº«çš„è®¤çŸ¥ã€‚</p>
<ul>
<li>è®°å½•ä»–äººçš„è¡Œä¸º</li>
</ul>
<ol>
<li>è§‚å¯Ÿèº«è¾¹èº«å¤„é«˜ä½çš„å¤„ç†äº‹æƒ…æ–¹å¼ï¼Œç„¶ååˆ’åˆ†å‡ºå“ªäº›æœ‰æ•ˆçš„è¡Œä¸º</li>
</ol>
<p>å¹¶ä¸æ˜¯çº§åˆ«æ¯”ä½ é«˜å°±ç‰›é€¼ï¼Œè€Œæ˜¯ä»–åšå¯¹äº†ä»€ä¹ˆï¼Œç›¯ç€é‚£äº›å¯¹äºä½ å½“å‰çº§åˆ«ç¢¾å‹çš„åŠŸæ³•ã€‚</p>
<p>æ›¾ç»æœ‰ä¸ªé¢†å¯¼æ•™æˆ‘ï¼Œåšä¸€ä»¶äº‹è¦å¤šé—®å‡ ä¸ªé—®é¢˜ï¼Œè‡ªç„¶ä½ å¯¹è¿™ä¸ªé—®é¢˜ç†è§£å°±åŠ æ·±äº†ã€‚æ°æ°æœ‰ä¸€æ¬¡çœ‹çŸ­è§†é¢‘ï¼Œæœ‰ä¸ªè€å¤–è®²è¿°äººæ¢ç´¢ç›®æ ‡çš„æ–¹å¼ï¼Œæ¯”å¦‚è¯´ä½ 10ä¸ªæœˆæƒ³è¦èµš100wï¼Œä½ éœ€è¦å°†å®ƒæ‹†åˆ†ä¸ºä¸€ä¸ªæœˆèµš10wï¼Œç„¶åä½ åˆ—å‡ºå„ç§å¯èƒ½æ€§ï¼Œä½ åœ¨ä¸æ–­çš„æ€è€ƒä¸­æ‰¾å‡ºä¸åŒçš„ç›®æ ‡ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå†·å†°å†°çš„ç›®æ ‡ã€‚</p>
<ol start="2">
<li>å­¦ä¹ ã€è§‚çœ‹æœ‰æ„æ€çš„ä¹¦ç±</li>
</ol>
<p>ä¸è¦æ€»ç›¯ç€è‡ªå·±çš„ä¸“ä¸šä¹¦ç±å»çœ‹ï¼Œè¦æŠŠå¤§è„‘å»ºæˆç™¾ç§‘å…¨ä¹¦ï¼ŒåŸ¹å…»ä¸åŒæ€ç»´ä½“ç³»çš„æ€è€ƒèƒ½åŠ›ã€‚å½“çŸ¥è¯†é‡è¶³å¤Ÿçš„æ—¶å€™ä¼šäº§ç”Ÿè§¦ç±»æ—é€šçš„æ•ˆæœã€‚</p>
<p>æˆ‘æ›¾ç»çœ‹è¿‡ã€Šç©·æŸ¥ç†èŠ’æ ¼ã€‹ï¼Œé‡Œé¢æåˆ°æŠ•èµ„çºªå¾‹é—®é¢˜ï¼Œæåˆ°é£è¡Œå‘˜å‡ºè¡Œçš„æ—¶å€™ä¼šåˆ—ä¸€ä¸ªchecklistï¼Œä»¥ç¡®ä¿é£è¡Œçš„æ—¶å€™ä¸ä¼šå‡ºç°é—®é¢˜ã€‚è€Œæ°æ°å‰å‡ å¹´æˆ‘å…¥èŒçš„é¡¹ç›®å‡ºç°é¡¹ç›®è´¨é‡é—®é¢˜ï¼Œè¿™æ—¶æˆ‘å°±æƒ³èµ·è¿™ä¸ªçŸ¥è¯†ç‚¹ã€‚</p>
<p>åœ¨é¡¹ç›®ä¸­ï¼Œäº§å“æ˜¯å¦å¯¹æ•´ä¸ªç³»ç»Ÿç†Ÿæ‚‰ï¼Œå¯¹å½“å‰é¡¹ç›®çš„é€»è¾‘æ˜¯å¦é—­ç¯ï¼Œé€»è¾‘æ˜¯å¦æ¸…æ™°ç¡®å‡¿ï¼›å¼€å‘è®¾è®¡çš„æ—¶å€™ï¼Œæ˜¯å¦å¯¹ç³»ç»Ÿæœ‰è‡ªèº«ç†è§£ï¼Œå¯¹äº§å“æ–‡æ¡£ç†è§£é€å½»ï¼Œæ”¹åŠ¨é€»è¾‘æ˜¯å¦æ¸…æ™°ä½“ç°åˆ°è®¾è®¡æ–‡æ¡£ï¼Œä»¥åŠåŒæ­¥ç»™qaåŒå­¦ã€‚æµ‹è¯•åŒå­¦æ˜¯å¦æ¸…æ™°ç†è§£éœ€æ±‚ï¼Œä»¥åŠå¼€å‘çš„æ”¹åŠ¨ç‚¹ï¼Œè¿˜æœ‰ç³»ç»Ÿçš„å½±å“ç‚¹æµ‹è¯•å…¨é¢ï¼Œå®ƒå…¶å®æœ¬èº«å°±æ˜¯ä¸€ä¸ªchecklistã€‚</p>
<p>é¡¹ç›®è´¨é‡ä¹Ÿæ˜¯ä¸€ä¸ªä½“ç³»ï¼ŒåŠŸèƒ½æµ‹è¯•ï¼Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œæµé‡æ’­æ”¾ç­‰ç­‰æ‰‹æ®µå»è§£å†³ã€‚</p>
<p>å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œæˆ‘å¾€å¾€ä¼šå¯¹æœªçŸ¥çš„é¡¹ç›®ã€ä»»åŠ¡ä¼šæ¯”è¾ƒææƒ§ï¼Œç‰¹åˆ«æ˜¯æ’æœŸæ¯”è¾ƒç´§çš„æƒ…å†µä¸‹ã€‚</p>
<p>è¿™å¾ˆæ­£å¸¸ï¼Œéƒ½ä¼šæ„Ÿå—åˆ°å‹åŠ›ï¼Œé€šå¸¸éƒ½ä¼šå¯¹æœªçŸ¥çš„ä¸œè¥¿æ„Ÿè§‰ææƒ§ã€‚è¿™æ—¶ä½ ä¼šä¸ä¼šæƒ³èµ·æ›¾ç»å¯¼å‘˜çš„ç†è®ºï¼ŒçŸ›ç›¾å…¶å®ä¸ä¼šæ¶ˆå¤±çš„ï¼Œè€Œæ˜¯æ–­æ–­ç»­ç»­çš„ï¼Œæˆ‘ä»¬é€šè¿‡è°ƒç ”åˆ†æå…·ä½“äº‹å®ï¼ŒæŒæ¡è§£å†³æ–¹æ¡ˆï¼Œè‡ªç„¶å°±ä¼šå¯¹äº‹æƒ…å……æ»¡ä¿¡å¿ƒã€‚</p>
<p>è¿™é‡Œæœ‰å‡ ä¸ªæœ‰æ•ˆå‡»çƒï¼Œä¸€ä¸ªæ˜¯å¿ƒæ€ï¼Œä¸è¦æ€€ç€ä¸€é¢—ä¸€åŠ³æ°¸é€¸çš„å¿ƒçš„å¤„äº‹ï¼Œè¿™æœŸé—´ä¸æ–­æœ‰å†…åœ¨çŸ›ç›¾äº§ç”Ÿçš„å›°éš¾å‡ºç°ï¼›è€Œå¾€å¾€æˆ‘ä»¬é€šè¿‡å®åœ°çš„æ‘¸ç´¢ï¼Œå¯ä»¥æ‰¾åˆ°æœ‰æ•ˆçš„è§£å†³æ–¹å¼ï¼Œç»™æˆ‘ä»¬çš„è¡ŒåŠ¨æ³¨å…¥è‡ªä¿¡ã€‚</p>
<h2 data-id="heading-2">ä½•ä¸ºçŸ¥è¡Œåˆä¸€</h2>
<hr/>
<p>éšç€ä¸€æ¬¡æ¬¡çš„æ–‡ç« ç¼–å†™ä»¥åŠæ€æƒ³è¾“å‡ºï¼Œæˆ‘è§‰å¾—çŸ¥è¡Œåˆä¸€ï¼Œå¹¶ä¸æ˜¯ä½ çŸ¥é“äº†å°±èƒ½åšåˆ°ã€‚æˆ–è€…è¯´ä½ åˆ·åˆ°æŸäº›äººçš„ç†å¿µï¼Œä½ å¿½ç„¶å°±èƒ½èµ·é£ï¼Œæ€æƒ³èƒ½åŠ›çªé£çŒ›è¿›ï¼Œå¹¶ä¸æ˜¯ã€‚</p>
<p>äººæœ€éš¾çš„å°±æ˜¯å†…åŒ–å¤–æ¥çš„ä¿¡æ¯ï¼Œéœ€è¦åŠ¨æ‰‹å»ç»å†è¿‡ï¼Œå»å®è·µè¿‡ï¼Œæ‰ä¼šå¯¹è¿™äº›ä¿¡æ¯æœ‰ä¸€äº›åˆæ­¥è‡ªèº«è®¤çŸ¥ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ï¼Œæ‰èƒ½å°†å¤–æ¥çš„ä¿¡æ¯å†…åŒ–æˆè‡ªèº«çš„é˜…å†ï¼Œæˆ–è€…è¯´è‡ªèº«çš„ç†è§£ã€‚</p>
<p>è¿™å…¶å®è·Ÿä¸æ–­æé—®é¢˜çš„æ–¹å¼ï¼Œå¦‚å‡ºä¸€è¾™ã€‚å°±æ˜¯ä¸€ä»¶äº‹æƒ…ï¼Œä½ å‚ä¸è¿›å»äº†ï¼Œäº§ç”Ÿç–‘é—®ï¼Œå»æ€è€ƒå»å®è·µï¼Œè‡ªç„¶è¿™ä¸ªç†è®ºæ›´åŠ æ·±åˆ»ã€‚</p>
<p>ç¾å›½æœ‰ä¸ªå¾ˆå‡ºåçš„å•†äººå«çº³ç“¦å°”ï¼Œä»–çš„æå€¡ä¹Ÿæ˜¯è¯´â€œè·å–çŸ¥è¯†å¹¶ééš¾äº‹ï¼ŒçœŸæ­£çš„æŒ‘æˆ˜åœ¨äºæ‡‚å¾—ä½•æ—¶åº”ç”¨ä»¥åŠåº”ç”¨ä½•ç§çŸ¥è¯†ã€‚æ­£å› å¦‚æ­¤ï¼Œæ‰€æœ‰çœŸæ­£çš„å­¦ä¹ éƒ½å‘ç”Ÿåœ¨â€˜å®è·µåœºæ™¯â€™ä¸­â€ï¼Œè¿˜æ¯”å–»ç”Ÿæ´»æœ¬å°±æ˜¯ä¸€åœºéœ€è¦èº¬èº«å…¥å±€çš„è¾ƒé‡ã€‚ä»–è®¤ä¸ºåªå›¤ç§¯ç†è®ºå´ä¸å®è·µï¼Œå°±åƒæ”¶è—äº†æ— æ•°èŒåœºæ”»ç•¥å´åº”å¯¹ä¸äº†çªå‘é—®é¢˜çš„äººï¼ŒçŸ¥è¯†ä¸è¿‡æ˜¯æœªé€šç”µçš„ç¯æ³¡ï¼Œå”¯æœ‰æ¥å…¥å®è·µçš„ç”µè·¯æ‰èƒ½å‘å…‰ã€‚æ¯”å¦‚ä»–ä¸¾ä¾‹ï¼Œå­¦æ¸¸æ³³ä¸èƒ½åªçœ‹æ‰‹å†Œï¼Œå¿…é¡»ä¸‹æ°´æ‰‘è…¾ï¼›ç¨‹åºå‘˜åªæœ‰åœ¨ç¨‹åºæŠ¥é”™æ—¶ï¼Œæ‰ä¼šæ˜ç™½å“ªè¡Œé€»è¾‘æœ‰æ¼æ´ï¼Œè¿™äº›å®è·µä¸­çš„åé¦ˆæ‰æ˜¯çŸ¥è¯†å†…åŒ–çš„å…³é”®â€ã€‚</p>
<p>çŸ¥è¡Œåˆä¸€ï¼Œæ˜¯ä¸€ä¸ªé—­ç¯ï¼Œå¤–æ¥çš„ä¸€ä¸ªä¿¡æ¯ï¼Œæ¥æ”¶ä¹‹åå»å¤§é‡å®è·µç„¶åè½¬æ¢è‡ªèº«çš„ç†å¿µï¼Œç„¶åå†é€šè¿‡è¡ŒåŠ¨å»éªŒè¯å®ƒã€‚</p>
<h2 data-id="heading-3">æ€»ç»“</h2>
<hr/>
<p>å½“ä¸€ååœ°çƒçš„è§‚å¯Ÿè€…ï¼Œæ¯ä¸ªäººä½•å°ä¸æ˜¯ä¸€ä¸ªä¸æ–­è‡ªè½¬çš„å°å®‡å®™å‘¢ï¼Œåœ¨è‡ªå·±ç†è§£çš„ç†å¿µå›ºåŒ–è‡ªèº«çš„è¡Œä¸ºä¹ æƒ¯ï¼Œåªæœ‰ä¸æ–­çš„è§‚å¯Ÿè®°å½•è‡ªèº«ã€ä»–äººçš„è¡Œä¸ºæ–¹å¼ï¼Œæ‰æœ‰å¯èƒ½æœ‰æ‰€æ”¹å˜è¿™ç§æƒ…å†µã€‚</p>
<p>è€Œè¿™äº›è®°å½•é‡Œé¢ï¼Œå­˜åœ¨æœ‰æ•ˆçš„è¿˜æœ‰æ— æ•ˆçš„å‡»çƒï¼Œä»–ä»¬éƒ½æ˜¯é™„å¸¦æ¡ä»¶çš„ã€‚æ¯”å¦‚è¯´é•¿é¢ˆé¹¿è¿‡äº†ä¸€æ¡æ²³ï¼Œè§‰å¾—å¾ˆæµ…ï¼Œä¸€åªå°çŒªè¿‡å»ä¹‹åæ·¹äº†ï¼Œé™„å¸¦æ¡ä»¶ä¸åŒåˆ™ä¼šå½±å“ç»“æœã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ 28 é¢˜ï¼šæ‰‹å†™ async/awaitï¼ˆGenerator è‡ªåŠ¨æ‰§è¡Œå™¨åŸç†ï¼‰]]></title>    <link>https://juejin.cn/post/7577627308515475497</link>    <guid>https://juejin.cn/post/7577627308515475497</guid>    <pubDate>2025-11-29T05:42:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577627308515475497" data-draft-id="7577691384942346282" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ 28 é¢˜ï¼šæ‰‹å†™ async/awaitï¼ˆGenerator è‡ªåŠ¨æ‰§è¡Œå™¨åŸç†ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:42:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ 28 é¢˜ï¼šæ‰‹å†™ async/awaitï¼ˆGenerator è‡ªåŠ¨æ‰§è¡Œå™¨åŸç†ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:42:07.000Z" title="Sat Nov 29 2025 05:42:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¥½çš„ï¼Œç»§ç»­ <strong>ç¬¬ 34 é¢˜ï¼šæ‰‹å†™ async/awaitï¼ˆGenerator è‡ªåŠ¨æ‰§è¡Œå™¨åŸç†ï¼‰</strong><br/>
è¿™æ˜¯é«˜çº§å·¥ç¨‹å¸ˆé¢è¯•çš„é‡ç‚¹ï¼Œå¸¸ç”¨äºè€ƒå¯Ÿä½ å¯¹ async/await çš„åº•å±‚ç†è§£ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>ä¸€ã€ä¸ºä»€ä¹ˆè¦æ‰‹å†™ async/awaitï¼Ÿ</strong></h2>
<p>é¢è¯•å®˜å–œæ¬¢è®©ä½ è¯æ˜ï¼š</p>
<ul>
<li>ä½ ç†è§£ async/await æ˜¯ <strong>Promise + Generator çš„è¯­æ³•ç³–</strong></li>
<li>ä½ çŸ¥é“ await æ˜¯å¦‚ä½•â€œæš‚åœâ€å‡½æ•°çš„</li>
<li>ä½ èƒ½å†™ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œå™¨ï¼ˆç±»ä¼¼ TJ çš„ co åº“ï¼‰</li>
</ul>
<p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦å®ç°ï¼š</p>
<p>âœ” è‡ªåŠ¨è¿­ä»£ Generator<br/>
âœ” é‡åˆ° Promise è‡ªåŠ¨ç­‰å¾…<br/>
âœ” yield ç»“æœç»§ç»­å‘ä¸‹æ‰§è¡Œ</p>
<p>è¿™å°±æ¨¡æ‹Ÿäº† async/awaitã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>äºŒã€ç›®æ ‡ï¼šæŠŠ Generator å˜æˆ async å‡½æ•°</strong></h2>
<p>å‡è®¾ä¸€ä¸ª Generatorï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span>* <span class="hljs-title function_">gen</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> a = <span class="hljs-keyword">yield</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">const</span> b = <span class="hljs-keyword">yield</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(a + <span class="hljs-number">1</span>);
  <span class="hljs-keyword">return</span> b + <span class="hljs-number">1</span>;
}
</code></pre>
<p>æˆ‘ä»¬å¸Œæœ›è®©å®ƒè¿™æ ·è¿è¡Œï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">run</span>(gen)<span class="hljs-selector-class">.then</span>(console.log); <span class="hljs-comment">// è¾“å‡º 3</span>
</code></pre>
<hr/>
<h2 data-id="heading-2"><strong>ä¸‰ã€æ‰‹å†™ä¸€ä¸ª async/await çš„æ ¸å¿ƒä»£ç ï¼ˆç®€åŒ–ç‰ˆï¼‰</strong></h2>
<p>ä¸‹é¢è¿™æ®µä»£ç æ˜¯é¢è¯•å¤Ÿç”¨çš„æ ¸å¿ƒï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">function</span> run(genFn) {
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">new</span> Promise((resolve, reject) =&gt; {
    <span class="hljs-keyword">const</span> gen = genFn();

    <span class="hljs-keyword">function</span> <span class="hljs-keyword">step</span>(nextF, arg) {
      <span class="hljs-keyword">let</span> <span class="hljs-keyword">next</span>;
      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">next</span> = nextF.<span class="hljs-keyword">call</span>(gen, arg);
      } <span class="hljs-keyword">catch</span> (e) {
        <span class="hljs-keyword">return</span> reject(e);
      }

      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">next</span>.done) {
        <span class="hljs-keyword">return</span> resolve(<span class="hljs-keyword">next</span>.value);
      }

      Promise.resolve(<span class="hljs-keyword">next</span>.value).<span class="hljs-keyword">then</span>(
        v =&gt; <span class="hljs-keyword">step</span>(gen.<span class="hljs-keyword">next</span>, v),
        e =&gt; <span class="hljs-keyword">step</span>(gen.<span class="hljs-keyword">throw</span>, e)
      );
    }

    <span class="hljs-keyword">step</span>(gen.<span class="hljs-keyword">next</span>);
  });
}
</code></pre>
<hr/>
<h2 data-id="heading-3"><strong>å››ã€å®ƒå¦‚ä½•å®ç° async/awaitï¼Ÿï¼ˆé€è¡Œè§£é‡Šï¼‰</strong></h2>
<h4 data-id="heading-4">1. å¯åŠ¨ Generator</h4>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">gen</span> = genFn()<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-5">2. å®šä¹‰ stepï¼Œç”¨äºè¿­ä»£ Generator</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">step</span>(<span class="hljs-params">nextF, arg</span>) { ... }
</code></pre>
<h4 data-id="heading-6">3. è°ƒç”¨ next / throwï¼š</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">next</span> = nextF.call(gen, arg)<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-7">4. å¦‚æœ done === true â†’ è¡¨ç¤º return å‡ºæ¥äº† â†’ resolve</h4>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-keyword">if</span> (<span class="hljs-built_in">next</span>.done) <span class="hljs-keyword">return</span> resolve(<span class="hljs-built_in">next</span>.value);
</code></pre>
<h4 data-id="heading-8">5. å¦‚æœ yield å¾—åˆ°ä¸€ä¸ª Promise</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(next.<span class="hljs-property">value</span>)
</code></pre>
<h4 data-id="heading-9">6. Promise æˆåŠŸ â†’ è°ƒç”¨ next ç»§ç»­æ‰§è¡Œ</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">v</span> =&gt; step(gen.next, v)
</code></pre>
<h4 data-id="heading-10">7. Promise å¤±è´¥ â†’ è°ƒç”¨ throw æŠ›å› Generator</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">e</span> =&gt; step(gen.throw, e)
</code></pre>
<hr/>
<h2 data-id="heading-11"><strong>äº”ã€è¿™æ®µä»£ç ç­‰ä»·äº async/await çš„æœºåˆ¶</strong></h2>
<p>æ¯”å¦‚ async å†™æ³•ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">async</span> function <span class="hljs-title">test</span>()</span> {
  <span class="hljs-keyword">const</span> a = <span class="hljs-keyword">await</span> foo();
  <span class="hljs-keyword">return</span> a + <span class="hljs-number">1</span>;
}
</code></pre>
<p>ç­‰ä»·äº Generator å†™æ³•ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span>* <span class="hljs-title function_">test</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> a = <span class="hljs-keyword">yield</span> <span class="hljs-title function_">foo</span>();
  <span class="hljs-keyword">return</span> a + <span class="hljs-number">1</span>;
}
</code></pre>
<p>ç­‰ä»·äºè°ƒç”¨è‡ªåŠ¨æ‰§è¡Œå™¨ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">run</span>(test);
</code></pre>
<p>è¿™å°±æ˜¯ async/await çš„æœ¬è´¨ï¼</p>
<hr/>
<h2 data-id="heading-12"><strong>å…­ã€é¢è¯•å®˜å¸¸é—®çš„è¡¥å……ç‚¹</strong></h2>
<h4 data-id="heading-13"><strong>1. ä¸ºä»€ä¹ˆè¦ç”¨ Promise.resolve åŒ…è£…ï¼Ÿ</strong></h4>
<p>å› ä¸º yield åé¢å¯èƒ½ä¸æ˜¯ Promiseï¼Œä¹Ÿè¦å…¼å®¹ã€‚</p>
<hr/>
<h4 data-id="heading-14"><strong>2. async/await ä¸ºä»€ä¹ˆä¼šæ›´æ…¢ï¼Ÿ</strong></h4>
<ul>
<li>è¯­æ³•ç³– â†’ é¢å¤–åŒ…è£… Promise</li>
<li>å¾®ä»»åŠ¡æ›´å¤š</li>
<li>ä¸èƒ½å¹¶è¡Œï¼Œéœ€è¦ä¸²è¡Œç­‰å¾…</li>
</ul>
<hr/>
<h4 data-id="heading-15"><strong>3. æ€ä¹ˆè®©å¤šä¸ª await å¹¶è¡Œï¼Ÿ</strong></h4>
<p>é”™è¯¯æ–¹å¼ï¼ˆä¸²è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-function">await <span class="hljs-title">a</span><span class="hljs-params">()</span></span>;
<span class="hljs-function">await <span class="hljs-title">b</span><span class="hljs-params">()</span></span>;
</code></pre>
<p>æ­£ç¡®æ–¹å¼ï¼ˆå¹¶è¡Œï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">await Promise.all(<span class="hljs-section">[a(), b()]</span>)<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-16"><strong>ä¸ƒã€20 ç§’é¢è¯•èƒŒè¯µç‰ˆ</strong></h2>
<blockquote>
<p>async/await æœ¬è´¨æ˜¯ Generator çš„è¯­æ³•ç³–ã€‚<br/>
await = yield + è‡ªåŠ¨æ‰§è¡Œå™¨ã€‚<br/>
æˆ‘ä»¬å¯ä»¥é€šè¿‡å†™ä¸€ä¸ª co é£æ ¼çš„æ‰§è¡Œå™¨æ¥æ¨¡æ‹Ÿ async/awaitï¼š<br/>
å³ä¸æ–­è°ƒç”¨ next()ï¼Œé‡åˆ° Promise ç­‰å¾…å®Œæˆåç»§ç»­æ‰§è¡Œï¼Œç›´åˆ° done=true ä¸ºæ­¢ã€‚</p>
</blockquote>
<hr/>
<p>å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ç»§ç»­ <strong>ç¬¬ 35 é¢˜ï¼šæ¨¡å—åŒ–åŸç†ï¼ˆCommonJS vs ESModuleï¼‰</strong> ã€‚<br/>
è¿™ä¹Ÿæ˜¯å‰ç«¯å¿…è€ƒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ 28 é¢˜ï¼šasync / await çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯ Promise çš„è¯­æ³•ç³–ï¼Ÿï¼ˆè¯¦ç»†ç‰ˆï¼‰]]></title>    <link>https://juejin.cn/post/7577665924151672875</link>    <guid>https://juejin.cn/post/7577665924151672875</guid>    <pubDate>2025-11-29T05:41:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577665924151672875" data-draft-id="7577665924151656491" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ 28 é¢˜ï¼šasync / await çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯ Promise çš„è¯­æ³•ç³–ï¼Ÿï¼ˆè¯¦ç»†ç‰ˆï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:41:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ 28 é¢˜ï¼šasync / await çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯ Promise çš„è¯­æ³•ç³–ï¼Ÿï¼ˆè¯¦ç»†ç‰ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:41:36.000Z" title="Sat Nov 29 2025 05:41:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>async / await çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆè¯´å®ƒæ˜¯ Promise çš„è¯­æ³•ç³–ï¼Ÿï¼ˆè¯¦ç»†ç‰ˆï¼‰**</p>
<p>async/await æ˜¯ç°ä»£ JS å¼‚æ­¥ç¼–ç¨‹çš„æ ¸å¿ƒï¼Œé¢è¯•å®˜å–œæ¬¢é—®ï¼š</p>
<ul>
<li>async åˆ°åº•è¿”å›ä»€ä¹ˆï¼Ÿ</li>
<li>await æ˜¯å¦‚ä½•â€œæš‚åœâ€çš„ï¼Ÿ</li>
<li>async/await å’Œ Promise çš„å…³ç³»æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>async/await ä¸ºä»€ä¹ˆä¼šè®©äººè§‰å¾—åƒåŒæ­¥ï¼Ÿ</li>
</ul>
<p>æˆ‘ä»¬é€æ¡è¯´æ˜ã€‚</p>
<hr/>
<h2 data-id="heading-0"><strong>ä¸€ã€async çš„æœ¬è´¨</strong></h2>
<p><strong>ä»»ä½• async å‡½æ•°çš„è¿”å›å€¼ä¸€å®šæ˜¯ Promiseã€‚â€”â€” æ— æ¡ä»¶ï¼</strong></p>
<p>ä¾‹å­ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">async</span> function <span class="hljs-title">demo</span>()</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-number">123</span>;
}
</code></pre>
<p>ç­‰ä»·äºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">demo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(<span class="hljs-number">123</span>);
}
</code></pre>
<p>å¦‚æœ async å†…éƒ¨æŠ›å‡ºå¼‚å¸¸ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">demo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"err"</span>);
}
</code></pre>
<p>ç­‰ä»·äºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">demo</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"err"</span>));
}
</code></pre>
<hr/>
<h2 data-id="heading-1"><strong>äºŒã€await çš„æœ¬è´¨</strong></h2>
<blockquote>
<p><strong>await ä¼šæš‚åœ async å‡½æ•°çš„æ‰§è¡Œï¼ŒæŠŠåç»­ä»£ç åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆPromise.thenï¼‰ã€‚</strong></p>
</blockquote>
<p>ç®€åŒ–ç†è§£ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">x</span> = await foo()<span class="hljs-comment">;</span>
</code></pre>
<p>ç­‰ä»·äºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">foo().then(<span class="hljs-attr">result</span> =&gt; {
  <span class="hljs-attr">x</span> = result<span class="hljs-comment">;</span>
  // æ¢å¤ async å‡½æ•°æ‰§è¡Œ
})<span class="hljs-comment">;</span>
</code></pre>
<p>ä½†å…³é”®å·®åˆ«æ˜¯ï¼š</p>
<p>âš  <strong>JS ä¸»çº¿ç¨‹æ²¡æœ‰æš‚åœï¼Œæ˜¯ async å‡½æ•°æš‚åœäº†</strong><br/>
ä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œåé¢çš„ä»£ç ã€‚</p>
<hr/>
<h2 data-id="heading-2"><strong>ä¸‰ã€await çš„æ‰§è¡Œæœºåˆ¶ï¼ˆæœ€é‡è¦ï¼‰</strong></h2>
<p>æ¯æ¬¡é‡åˆ° awaitï¼š</p>
<ol>
<li>æ‰§è¡Œ await åé¢è¡¨è¾¾å¼ï¼Œå¾—åˆ°ä¸€ä¸ª Promiseï¼ˆå¦‚æœä¸æ˜¯ï¼Œä¼šè‡ªåŠ¨åŒ…è£…æˆ Promise.resolveï¼‰</li>
<li>æš‚åœå½“å‰ async å‡½æ•°</li>
<li>æŠŠ await åé¢çš„ä»£ç æ”¾åˆ°å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>ç­‰å¾… Promise å®Œæˆåæ¢å¤æ‰§è¡Œ</li>
</ol>
<hr/>
<h2 data-id="heading-3"><strong>å››ã€async/await = Generator + è‡ªåŠ¨æ‰§è¡Œå™¨ï¼ˆè‡ªåŠ¨ yieldï¼‰</strong></h2>
<p>ES è¯­ä¹‰ä¸Šï¼š</p>
<p><strong>async/await æ˜¯ Generator + co åº“çš„è¯­æ³•ç³–ã€‚</strong></p>
<p>æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> r = <span class="hljs-keyword">await</span> <span class="hljs-title function_">foo</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(r);
}
</code></pre>
<p>ç­‰ä»·äº Generatorï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span>* <span class="hljs-title function_">test</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> r = <span class="hljs-keyword">yield</span> <span class="hljs-title function_">foo</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(r);
}
</code></pre>
<p>åŠ ä¸Šæ‰§è¡Œå™¨ï¼ˆè‡ªåŠ¨æ‰§è¡Œ Generatorï¼‰ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">co</span>(test);
</code></pre>
<p>æ‰€ä»¥ï¼š</p>
<blockquote>
<p>await å°±æ˜¯è‡ªåŠ¨ yield<br/>
async å°±æ˜¯è‡ªåŠ¨æ‰§è¡Œ Generator çš„åŒ…è£…å™¨</p>
</blockquote>
<hr/>
<h2 data-id="heading-4"><strong>äº”ã€ä¸ºä»€ä¹ˆ async/await å†™èµ·æ¥åƒåŒæ­¥ï¼Ÿ</strong></h2>
<p>å› ä¸ºï¼š</p>
<ul>
<li>JS ä¸»çº¿ç¨‹ç»§ç»­æ‰§è¡Œ</li>
<li>async å‡½æ•°å†…éƒ¨æŒ‚èµ·ï¼ˆæš‚åœï¼‰</li>
<li>æ¢å¤æ—¶ç»§ç»­ä»ä¸Šæ¬¡æ–­ç‚¹æ‰§è¡Œ</li>
</ul>
<p>è®©ä»£ç ç»“æ„çœ‹èµ·æ¥æ˜¯åŒæ­¥é¡ºåºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">a</span> = await step1()<span class="hljs-comment">;</span>
const <span class="hljs-attr">b</span> = await step2(a)<span class="hljs-comment">;</span>
const <span class="hljs-attr">c</span> = await step3(b)<span class="hljs-comment">;</span>
</code></pre>
<p>ä½†æœ¬è´¨ä¸Šï¼š</p>
<ul>
<li>æ¯ä¸ª await éƒ½æ˜¯æŠŠåé¢çš„é€»è¾‘æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—</li>
<li>æ•´ä¸ªè¿‡ç¨‹æ˜¯å¼‚æ­¥éé˜»å¡çš„</li>
</ul>
<hr/>
<h2 data-id="heading-5"><strong>å…­ã€async/await çš„é”™è¯¯å¤„ç†æ–¹å¼</strong></h2>
<p>try/catch ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">try</span> {
  <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetchData</span>();
} <span class="hljs-keyword">catch</span> (err) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err);
}
</code></pre>
<p>ç›¸å½“äºï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">fetchData</span>()
  <span class="hljs-selector-class">.then</span>(...)
  <span class="hljs-selector-class">.catch</span>(...)
</code></pre>
<p>åŒºåˆ«æ˜¯ï¼š</p>
<p>âœ” é”™è¯¯æµç¨‹å’ŒåŒæ­¥ä»£ç ä¸€æ ·æ˜“è¯»<br/>
âœ” async/await æ›´é€‚åˆå¤æ‚é€»è¾‘</p>
<hr/>
<h2 data-id="heading-6"><strong>ä¸ƒã€æœ€å¸¸è€ƒç¤ºä¾‹ï¼šè¾“å‡ºé¡ºåºé¢˜</strong></h2>
<p>ä¾‹é¢˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>();
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>);
}

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>);
<span class="hljs-title function_">test</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>);
</code></pre>
<p>è¾“å‡ºé¡ºåºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">3       ï¼ˆä¸»çº¿ç¨‹ï¼‰
1       ï¼ˆæ‰§è¡Œ <span class="hljs-built_in">test</span> çš„åŒæ­¥éƒ¨åˆ†ï¼‰
4       ï¼ˆä¸»çº¿ç¨‹ç»§ç»­ï¼‰
2       ï¼ˆawait åçš„å¾®ä»»åŠ¡ï¼‰
</code></pre>
<p>ä¸ºä»€ä¹ˆï¼Ÿ</p>
<ul>
<li>await å°†åç»­æ”¾å…¥å¾®ä»»åŠ¡</li>
<li>æ‰€ä»¥ 2 æœ€åæ‰§è¡Œ</li>
</ul>
<hr/>
<h2 data-id="heading-7"><strong>å…«ã€20 ç§’é¢è¯•èƒŒè¯µç‰ˆ</strong></h2>
<blockquote>
<p><strong>async å‡½æ•°ä¼šè¿”å›ä¸€ä¸ª Promiseï¼›å‡½æ•°å†…éƒ¨æŠ›é”™ä¼šç­‰äºè¿”å› rejectã€‚<br/>
await ä¼šæš‚åœ async å‡½æ•°ï¼ŒæŠŠåç»­é€»è¾‘åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç­‰å¾… Promise å®Œæˆåç»§ç»­æ‰§è¡Œã€‚<br/>
æœ¬è´¨ä¸Š async/await æ˜¯ Promise + Generator çš„è¯­æ³•ç³–ï¼Œè®©å¼‚æ­¥ä»£ç ä»¥åŒæ­¥å†™æ³•è¡¨è¾¾ã€‚</strong></p>
</blockquote>
<hr/>
<p>è¦ç»§ç»­ <strong>ç¬¬ 34 é¢˜ï¼šæ‰‹å†™ä¸€ä¸ª async/awaitï¼ˆå®ç°è‡ªåŠ¨æ‰§è¡Œå™¨ï¼‰</strong> å—ï¼Ÿ<br/>
è¿™æ˜¯é«˜çº§å¿…ä¼šé¢˜ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ 30 é¢˜ï¼šæ¨¡å—åŒ–åŸç†ï¼ˆCommonJS vs ESModuleï¼‰]]></title>    <link>https://juejin.cn/post/7577715145120579638</link>    <guid>https://juejin.cn/post/7577715145120579638</guid>    <pubDate>2025-11-29T05:43:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577715145120579638" data-draft-id="7577660060093562934" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ 30 é¢˜ï¼šæ¨¡å—åŒ–åŸç†ï¼ˆCommonJS vs ESModuleï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:43:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ 30 é¢˜ï¼šæ¨¡å—åŒ–åŸç†ï¼ˆCommonJS vs ESModuleï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:43:06.000Z" title="Sat Nov 29 2025 05:43:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¥½çš„ï¼Œæˆ‘ä»¬ä»ä½ æŒ‡å®šçš„ <strong>ç¬¬ 35 é¢˜ï¼šæ¨¡å—åŒ–åŸç†ï¼ˆCommonJS vs ESModuleï¼‰</strong> å¼€å§‹ã€‚<br/>
æˆ‘ä¼šç»™ä½  <strong>è¯¦ç»†ç‰ˆ + é¢è¯•å®˜æ€ç»´ + æ˜“é”™ç‚¹ + é€Ÿè®°å¡ç‰‡</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-0">âœ… <strong>ç¬¬ 35 é¢˜ï¼šCommonJS ä¸ ES Module çš„åŒºåˆ«ï¼ŸåŸç†æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆ Node ç°å·²é€æ­¥æ¨è ESMï¼Ÿ</strong></h2>
<hr/>
<h2 data-id="heading-1"><strong>ä¸€ã€CommonJS ä¸ ESModule çš„æ ¸å¿ƒåŒºåˆ«ï¼ˆé€Ÿè®°ï¼‰</strong></h2>


















































<table><thead><tr><th>ç‰¹æ€§</th><th>CommonJSï¼ˆCJSï¼‰</th><th>ES Moduleï¼ˆESMï¼‰</th></tr></thead><tbody><tr><td>è¯­æ³•</td><td><code>require()</code> / <code>module.exports</code></td><td><code>import</code> / <code>export</code></td></tr><tr><td>åŠ è½½æ–¹å¼</td><td><strong>åŒæ­¥åŠ è½½</strong></td><td><strong>å¼‚æ­¥åŠ è½½ï¼ˆç¼–è¯‘æœŸåŠ è½½ï¼‰</strong></td></tr><tr><td>æ‰§è¡Œæ—¶æœº</td><td>è¿è¡Œæ—¶åŠ è½½</td><td>ç¼–è¯‘æ—¶åŠ è½½ï¼ˆé™æ€åˆ†æï¼‰</td></tr><tr><td>å¯¼å‡ºå€¼æ˜¯å¦å¯å˜</td><td><strong>å¯¼å‡ºçš„å€¼æ˜¯æ‹·è´ï¼ˆå€¼æ‹·è´ï¼‰</strong></td><td><strong>å¯¼å‡ºçš„æ˜¯å¼•ç”¨ï¼ˆlive bindingï¼‰åŠ¨æ€æ›´æ–°</strong></td></tr><tr><td>èƒ½å¦ tree shaking</td><td>âŒ ä¸æ”¯æŒ</td><td>âœ… æ”¯æŒï¼ˆé™æ€åˆ†æå†³å®šï¼‰</td></tr><tr><td>æ˜¯å¦æ”¯æŒé¡¶å±‚ await</td><td>âŒ ä¸æ”¯æŒ</td><td>âœ… æ”¯æŒ</td></tr><tr><td>æ˜¯å¦å…è®¸å¾ªç¯ä¾èµ–</td><td>å¯ä»¥ä½†å¤æ‚</td><td>å¯ä»¥è€Œä¸”å¤©ç„¶å¤„ç†æ›´å¥½</td></tr><tr><td>Node æ”¯æŒæƒ…å†µ</td><td>é»˜è®¤æ”¯æŒ</td><td>Node 16+ å®Œæ•´ç¨³å®šæ”¯æŒ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-2"><strong>äºŒã€æ·±å…¥åŸç†ï¼šä¸ºä»€ä¹ˆä¸¤è€…çš„è¡Œä¸ºä¸åŒï¼Ÿ</strong></h2>
<hr/>
<h3 data-id="heading-3"><strong>1ï¼‰åŠ è½½æœºåˆ¶ä¸åŒï¼ˆåŒæ­¥ vs å¼‚æ­¥ï¼‰</strong></h3>
<h4 data-id="heading-4">ğŸ”¸ CommonJSï¼šè¿è¡Œæ—¶åŠ è½½ï¼ˆsyncï¼‰</h4>
<ul>
<li>
<p><code>require()</code> ç›¸å½“äºï¼š</p>
<ol>
<li>è¯»å–æ–‡ä»¶å†…å®¹</li>
<li>æ‰§è¡Œæ•´ä¸ªæ–‡ä»¶ï¼ˆå½¢æˆ module å¯¹è±¡ï¼‰</li>
<li>è¿”å› <code>module.exports</code></li>
</ol>
</li>
</ul>
<p>å®ƒå¿…é¡»ç­‰æ–‡ä»¶æ‰§è¡Œå®Œæ‰èƒ½ç»§ç»­ï¼Œæ‰€ä»¥æ˜¯ <strong>åŒæ­¥é˜»å¡</strong>ã€‚</p>
<blockquote>
<p>é€‚åˆæœ¬åœ°æ–‡ä»¶æ¨¡å—ï¼Œä¸é€‚åˆæµè§ˆå™¨ï¼ˆå› ä¸ºåŒæ­¥é˜»å¡ç½‘ç»œï¼‰</p>
</blockquote>
<hr/>
<h4 data-id="heading-5">ğŸ”¸ ESModuleï¼šç¼–è¯‘æ—¶åŠ è½½ï¼ˆasyncï¼‰</h4>
<ul>
<li>åœ¨ä»£ç è¿è¡Œå‰ï¼ŒJS å¼•æ“ä¼šå¯¹ <code>import</code> åš <strong>é™æ€åˆ†æ</strong></li>
<li>ä¸ä¼šæ‰§è¡Œä»£ç ï¼Œåªä¼šè®°å½•æ¨¡å—ä¾èµ–å›¾</li>
<li>ä¹‹åæŒ‰ä¾èµ–å›¾å¼‚æ­¥åŠ è½½æ‰§è¡Œ</li>
</ul>
<blockquote>
<p>é™æ€åˆ†ææ„å‘³ç€å¼•æ“èƒ½æå‰çŸ¥é“ä½ ç”¨äº†å“ªäº›ä¸œè¥¿ï¼ˆæ”¯æŒ tree shakingï¼‰ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-6"><strong>2ï¼‰å¯¼å‡ºå€¼æ˜¯â€œå€¼æ‹·è´â€ vs â€œå¼•ç”¨ç»‘å®šâ€</strong></h3>
<h4 data-id="heading-7">ğŸ”¸ CommonJSï¼šå€¼æ‹·è´ç¼“å­˜</h4>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">exports.count</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>

setTimeout(() =&gt; {
  exports.count++<span class="hljs-comment">;</span>
}, 1000)<span class="hljs-comment">;</span>
</code></pre>
<p>å¦å¤–ä¸€ä¸ªæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { count } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./a'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count); <span class="hljs-comment">// æ°¸è¿œæ˜¯ 1ï¼Œä¸ä¼šå˜æˆ 2</span>
</code></pre>
<p>å› ä¸º CommonJS è¿”å›çš„æ˜¯ <strong>ç¬¬ä¸€æ¬¡ require æ—¶çš„ module.exports å¿«ç…§</strong>ã€‚</p>
<hr/>
<h4 data-id="heading-8">ğŸ”¸ ESModuleï¼šå¼•ç”¨ç»‘å®šï¼ˆlive bindingï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">export let <span class="hljs-attr">count</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
setTimeout(() =&gt; count++, 1000)<span class="hljs-comment">;</span>
</code></pre>
<p>å¯¼å…¥è€…ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { count } <span class="hljs-keyword">from</span> <span class="hljs-string">"./a.js"</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count); <span class="hljs-comment">// 1</span>
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count), <span class="hljs-number">1500</span>);
<span class="hljs-comment">// è¾“å‡º 2ï¼ˆå®æ—¶æ›´æ–°ï¼‰</span>
</code></pre>
<blockquote>
<p>ESM å¯¼å…¥çš„æ˜¯å˜é‡å¼•ç”¨ï¼Œæœ¬è´¨æ˜¯ getterã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-9"><strong>3ï¼‰Cirular dependencyï¼ˆå¾ªç¯ä¾èµ–ï¼‰å¤„ç†å®Œå…¨ä¸åŒ</strong></h3>
<h4 data-id="heading-10">ğŸ”¸ CommonJSï¼šæ‰§è¡Œæ•´ä¸ªæ–‡ä»¶ â†’ æ‰æœ‰ module.exports</h4>
<p>å¾ªç¯ä¾èµ–æ—¶ä¼šå‡ºç°â€œéƒ¨åˆ†åŠ è½½â€ï¼Œå¾ˆå®¹æ˜“å‡ºç° undefinedã€‚</p>
<hr/>
<h4 data-id="heading-11">ğŸ”¸ ESModuleï¼šå› ä¸ºé™æ€åˆ†æ</h4>
<p>ESM èƒ½åœ¨æ‰§è¡Œå‰æ„å»ºä¾èµ–å›¾ï¼Œæ‰€ä»¥å³ä½¿å¾ªç¯ä¾èµ–ä¹Ÿèƒ½æ­£å¸¸å¼•ç”¨ã€‚</p>
<p>æµè§ˆå™¨å’Œ Node éƒ½æŒ‰æ ‡å‡†æ‰§è¡Œï¼Œä¸å®¹æ˜“å‡ºé—®é¢˜ã€‚</p>
<hr/>
<h3 data-id="heading-12"><strong>4ï¼‰Tree Shaking èƒ½å¦ç”Ÿæ•ˆ</strong></h3>
<h4 data-id="heading-13">ESM èƒ½ï¼ŒCJS ä¸è¡Œã€‚</h4>
<p>è¿™æ˜¯å› ä¸ºï¼š</p>
<ul>
<li>CJS è¿è¡Œæ—¶å†³å®šå¯¼å‡ºå†…å®¹ï¼ˆåŠ¨æ€ç‰¹æ€§ï¼‰ â†’ æ— æ³•é™æ€åˆ†æ</li>
<li>ESM å¯¼å‡ºç»“æ„å›ºå®š â†’ èƒ½åœ¨æ„å»ºæœŸåˆ é™¤æ²¡ç”¨çš„ä»£ç </li>
</ul>
<blockquote>
<p>æ‰€ä»¥ç°ä»£å‰ç«¯æ„å»ºå·¥å…·éƒ½ä¼šè¦æ±‚ä½ å°½é‡ä½¿ç”¨ ESModuleã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-14"><strong>ä¸‰ã€Node ä¸ºä»€ä¹ˆæ¨è ESModuleï¼Ÿï¼ˆé¢è¯•å®˜çˆ±é—®ï¼‰</strong></h2>
<p>åŸå› æœ‰äº”ï¼š</p>
<h4 data-id="heading-15"><strong>1ï¼‰æµè§ˆå™¨ä¸ Node çš„ç»Ÿä¸€æ ‡å‡†</strong></h4>
<p>ä»¥å‰ Node æ¨ CJSï¼Œæµè§ˆå™¨æ²¡æœ‰æ¨¡å—åŒ– â†’ å¿…é¡»ç”¨ webpack ç­‰æ‰“åŒ…<br/>
å¦‚ä»Šæµè§ˆå™¨æ”¯æŒ ESM â†’ Node ä¹Ÿå¯¹é½æ ‡å‡†ã€‚</p>
<hr/>
<h4 data-id="heading-16"><strong>2ï¼‰é™æ€åˆ†æèƒ½åŠ›æ›´å¼º â†’ æ›´å¥½ä¼˜åŒ–</strong></h4>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li>tree shaking</li>
<li>Scope Hoisting</li>
<li>æ›´å¿«çš„åŠ è½½é€Ÿåº¦</li>
<li>æ›´å¼ºå¯é¢„æµ‹æ€§</li>
</ul>
<hr/>
<h4 data-id="heading-17"><strong>3ï¼‰å¤©ç„¶æ”¯æŒé¡¶å±‚ await</strong></h4>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> fetch(...)
</code></pre>
<p>CJS å®Œå…¨æ— æ³•åšåˆ°ã€‚</p>
<hr/>
<h4 data-id="heading-18"><strong>4ï¼‰æ›´å¥½çš„å¾ªç¯ä¾èµ–å¤„ç†</strong></h4>
<hr/>
<h4 data-id="heading-19"><strong>5ï¼‰æ›´å®‰å…¨ã€æ›´å¯æ§çš„æ¨¡å—åŠ è½½ç³»ç»Ÿ</strong></h4>
<p>Node çš„ CJS æ¨¡å—è§£æè·¯å¾„å¤æ‚ã€æ˜“å†²çª<br/>
ESM åˆ™å®Œå…¨æŒ‰ URL å’Œæ ‡å‡†è·¯å¾„æ‰§è¡Œã€‚</p>
<hr/>
<h2 data-id="heading-20"><strong>å››ã€å‰ç«¯æœ€çˆ±è€ƒçš„é¢è¯•é¢˜ï¼šä¸ºä»€ä¹ˆè¿™æ®µä»£ç æ‰“å°ä¸ä¸€æ ·ï¼Ÿ</strong></h2>
<h4 data-id="heading-21"><strong>ä¾‹ 1ï¼šCommonJS</strong></h4>
<pre><code class="hljs language-ini" lang="ini">// a.js
let <span class="hljs-attr">counter</span> = <span class="hljs-number">1</span><span class="hljs-comment">;</span>
setTimeout(() =&gt; counter++, 1000)<span class="hljs-comment">;</span>
<span class="hljs-attr">module.exports</span> = { counter }<span class="hljs-comment">;</span>

// b.js
const <span class="hljs-attr">a</span> = require(<span class="hljs-string">'./a'</span>)<span class="hljs-comment">;</span>
console.log(a.counter)<span class="hljs-comment">;</span>
setTimeout(() =&gt; console.log(a.counter), 1500)<span class="hljs-comment">;</span>
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs">1
1   â† ä¸ä¼šå˜
</code></pre>
<hr/>
<h4 data-id="heading-22"><strong>ä¾‹ 2ï¼šESM</strong></h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// a.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> counter = <span class="hljs-number">1</span>;
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> counter++, <span class="hljs-number">1000</span>);

<span class="hljs-comment">// b.js</span>
<span class="hljs-keyword">import</span> { counter } <span class="hljs-keyword">from</span> <span class="hljs-string">'./a.js'</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(counter);
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(counter), <span class="hljs-number">1500</span>);
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs">1
2  â† ä¼šå˜
</code></pre>
<hr/>
<h2 data-id="heading-23"><strong>äº”ã€é€Ÿè®°å¡ç‰‡ï¼ˆç»™ä½ æ¯å¤©å¤ä¹ ç”¨ï¼‰</strong></h2>
<hr/>
<h3 data-id="heading-24">ğŸŸ¦ <strong>ğŸŒŸ æ¨¡å—åŒ–ï¼šCJS vs ESM é€Ÿè®°å¡ç‰‡</strong></h3>
<h4 data-id="heading-25"><strong>CommonJSï¼ˆNode è€ä½“ç³»ï¼‰</strong></h4>
<ul>
<li><code>require()</code> åŒæ­¥åŠ è½½</li>
<li>è¿è¡Œæ—¶å†³å®šä¾èµ–</li>
<li>å¯¼å‡ºæ˜¯â€œå€¼æ‹·è´â€ï¼Œä½¿ç”¨ç¼“å­˜</li>
<li>ä¸æ”¯æŒé¡¶å±‚ await</li>
<li>æ— æ³•ä½¿ç”¨ tree shaking</li>
<li>å¾ªç¯ä¾èµ–æ˜“å‡ºé—®é¢˜</li>
</ul>
<h4 data-id="heading-26"><strong>ES Moduleï¼ˆç°ä»£ä½“ç³»ï¼‰</strong></h4>
<ul>
<li><code>import</code> å¼‚æ­¥ã€ç¼–è¯‘æ—¶åˆ†æ</li>
<li>å¯¼å‡ºæ˜¯â€œå¼•ç”¨ç»‘å®šâ€</li>
<li>æ”¯æŒé¡¶å±‚ await</li>
<li>å¯ tree shaking</li>
<li>å¾ªç¯ä¾èµ–å¤©ç„¶æ”¯æŒ</li>
<li>æµè§ˆå™¨åŸç”Ÿæ”¯æŒï¼ŒNode æ¨è</li>
</ul>
<hr/>
<h2 data-id="heading-27">å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ç»§ç»­ã€Œç¬¬ 36 é¢˜ã€</h2>
<p>ğŸ‘‰ <strong>Tree Shaking åŸç†ä¸å¸¸è§å¤±æ•ˆåŸå› </strong>ï¼ˆéå¸¸é«˜é¢‘ï¼‰</p>
<p>è¦ç»§ç»­å—ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ 31 é¢˜ï¼šTree Shaking åŸç†ä¸å¸¸è§å¤±æ•ˆåŸå› ï¼ˆé«˜é¢‘ + éš¾ç‚¹ + é¢è¯•å¿…è€ƒï¼‰]]></title>    <link>https://juejin.cn/post/7577715145120596022</link>    <guid>https://juejin.cn/post/7577715145120596022</guid>    <pubDate>2025-11-29T05:43:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577715145120596022" data-draft-id="7577691384942362666" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ 31 é¢˜ï¼šTree Shaking åŸç†ä¸å¸¸è§å¤±æ•ˆåŸå› ï¼ˆé«˜é¢‘ + éš¾ç‚¹ + é¢è¯•å¿…è€ƒï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:43:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ 31 é¢˜ï¼šTree Shaking åŸç†ä¸å¸¸è§å¤±æ•ˆåŸå› ï¼ˆé«˜é¢‘ + éš¾ç‚¹ + é¢è¯•å¿…è€ƒï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:43:58.000Z" title="Sat Nov 29 2025 05:43:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¥½çš„ï¼Œç»§ç»­ä½ çš„ <strong>ç¬¬ 36 é¢˜ï¼šTree Shaking åŸç†ä¸å¸¸è§å¤±æ•ˆåŸå› ï¼ˆé«˜é¢‘ + éš¾ç‚¹ + é¢è¯•å¿…è€ƒï¼‰</strong> ã€‚</p>
<p>æˆ‘ä¼šç»™ä½ ï¼š</p>
<ul>
<li>æ·±å…¥è§£é‡Šï¼ˆä½ ç”¨å¾—å‡ºå»çš„é‚£ç§ï¼‰</li>
<li>é¢è¯•å®˜è¿½é—®ç‚¹</li>
<li>å¸¸è§é”™è¯¯æ¡ˆä¾‹</li>
<li>é€Ÿè®°å¡ç‰‡</li>
</ul>
<hr/>
<h2 data-id="heading-0">âœ… <strong>ç¬¬ 36 é¢˜ï¼šä»€ä¹ˆæ˜¯ Tree Shakingï¼Ÿå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿä¸ºä»€ä¹ˆæœ‰æ—¶ä¼šå¤±æ•ˆï¼Ÿ</strong></h2>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯ Tree Shakingï¼Ÿï¼ˆä¸€å¥è¯ç‰ˆï¼‰</h2>
<p><strong>Tree Shaking = åœ¨æ‰“åŒ…æ—¶é€šè¿‡â€œé™æ€åˆ†æâ€ï¼Œåˆ é™¤æ²¡æœ‰è¢«ä½¿ç”¨çš„ä»£ç ï¼Œä»è€Œå‡å° bundle ä½“ç§¯ã€‚</strong></p>
<p>å…³é”®è¯ï¼š</p>
<ul>
<li><strong>é™æ€åˆ†æï¼ˆstatic analysisï¼‰</strong></li>
<li><strong>ESModuleï¼ˆimport/exportï¼‰</strong></li>
<li><strong>æœªè¢«å¼•ç”¨çš„ä»£ç ä¼šè¢«â€œæ‘‡æ‰â€</strong></li>
</ul>
<hr/>
<h2 data-id="heading-2">äºŒã€Tree Shaking çš„æ ¸å¿ƒåŸç†ï¼ˆæ·±å…¥è®²è§£ï¼‰</h2>
<hr/>
<h3 data-id="heading-3"><strong>1. ä¾èµ–äº ES Module çš„â€œé™æ€ç»“æ„â€</strong></h3>
<p>ESMï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { a } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils.js'</span>;
</code></pre>
<p>æµè§ˆå™¨å’Œæ‰“åŒ…å™¨åœ¨ç¼–è¯‘é˜¶æ®µå°±çŸ¥é“ï¼š</p>
<ul>
<li>ä¾èµ–å“ªäº›æ¨¡å—</li>
<li>ä»æ¨¡å—ä¸­å¼•ç”¨ä»€ä¹ˆ</li>
<li>å“ªäº›å¯¼å‡ºæ²¡æœ‰è¢«ä½¿ç”¨</li>
</ul>
<p>è¿™å« <strong>é™æ€ä¾èµ–å›¾ï¼ˆstatic dependency graphï¼‰</strong> ã€‚</p>
<p>âš ï¸ CommonJS ä¸è¡Œï¼Œå› ä¸ºå®ƒæ˜¯åŠ¨æ€çš„ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">util</span> = require(<span class="hljs-string">'./'</span> + name)<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™ç§æ‰“åŒ…å™¨æ ¹æœ¬åˆ†æä¸äº† â†’ æ— æ³• Tree Shakingã€‚</p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <strong>Tree Shaking å¿…é¡»æ˜¯ ESM</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-4"><strong>2. æ ‡è®°æœªä½¿ç”¨çš„å¯¼å‡ºï¼ˆMark phaseï¼‰</strong></h3>
<p>æ„å»ºå·¥å…·ï¼ˆRollupã€Webpackã€Viteï¼‰ä¼šï¼š</p>
<ol>
<li>æ‰«ææ‰€æœ‰æ¨¡å—</li>
<li>è¯†åˆ«æ‰€æœ‰ export</li>
<li>æ‰¾å‡ºå®é™…è¢« import çš„éƒ¨åˆ†</li>
<li>å°†æœªä½¿ç”¨çš„ export æ ‡è®°ä¸º â€œdead codeâ€ï¼ˆæ­»ä»£ç ï¼‰</li>
</ol>
<hr/>
<h3 data-id="heading-5"><strong>3. æ­»ä»£ç æ¶ˆé™¤ï¼ˆDead Code Eliminationï¼‰</strong></h3>
<p>è¿™é€šå¸¸åœ¨ <strong>å‹ç¼©é˜¶æ®µ</strong>ï¼ˆTerser / esbuildï¼‰åšã€‚</p>
<p>ä¾‹å­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params"/>) {}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">b</span>(<span class="hljs-params"/>) {}

<span class="hljs-comment">// å¼•ç”¨äº† aï¼Œæ²¡å¼•ç”¨ b</span>
</code></pre>
<p>æœ€ç»ˆäº§ç‰©ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">function <span class="hljs-title">a</span>()</span> {}
</code></pre>
<p><code>b</code> ä¼šç›´æ¥è¢«ä¸¢æ‰ã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€Tree Shaking å¾ˆå®¹æ˜“å¤±æ•ˆï¼ˆè€ƒç‚¹é‡ç‚¹ï¼‰</h2>
<p>é¢è¯•å®˜å–œæ¬¢é—®ï¼š<strong>Tree Shaking ä»€ä¹ˆæ—¶å€™ä¼šå¤±è´¥ï¼Ÿ</strong></p>
<p>æˆ‘æ€»ç»“å‡ºæœ€å¸¸è§çš„ 7 å¤§ç±»ğŸ‘‡</p>
<hr/>
<h2 data-id="heading-7">ğŸš¨ <strong>Tree Shaking å¤±æ•ˆçš„ 7 ä¸ªç»å…¸åŸå› </strong></h2>
<hr/>
<h3 data-id="heading-8">âŒ <strong>1. ä½¿ç”¨ CommonJSï¼ˆrequireï¼‰è€Œä¸æ˜¯ ESModule</strong></h3>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">util</span> = require(<span class="hljs-string">'./utils'</span>)<span class="hljs-comment">;</span>
</code></pre>
<p>âš ï¸ å¯¼å‡ºæ˜¯åŠ¨æ€çš„ â†’ æ— æ³•é™æ€åˆ†æ â†’ ä¸æ”¯æŒ Tree Shakingã€‚</p>
<hr/>
<h3 data-id="heading-9">âŒ <strong>2. é»˜è®¤å¯¼å‡ºï¼ˆdefault exportï¼‰ä¸­åŒ…å«å¤šä½™å†…å®¹</strong></h3>
<pre><code class="hljs language-css" lang="css">export default {
  <span class="hljs-selector-tag">a</span>: <span class="hljs-built_in">function</span>() {},
  <span class="hljs-selector-tag">b</span>: <span class="hljs-built_in">function</span>() {}
};
</code></pre>
<p>Tree Shaking ä¸èƒ½æ‹†è§£å¯¹è±¡å†…éƒ¨æˆå‘˜ â†’ å³ä½¿ä½ åªç”¨ aï¼Œb ä¹Ÿä¸ä¼šè¢«åˆ ã€‚</p>
<hr/>
<h3 data-id="heading-10">âŒ <strong>3. å‰¯ä½œç”¨ï¼ˆside effectsï¼‰ä»£ç </strong></h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// utils.js</span>
console.<span class="hljs-built_in">log</span>(<span class="hljs-string">"i have side effect"</span>);
</code></pre>
<p>å³ä½¿æ¨¡å—å†…å‡½æ•°æœªä½¿ç”¨ï¼Œè¯¥æ¨¡å— <em>ä¾ç„¶ä¼šä¿ç•™</em>ï¼Œå› ä¸ºæœ‰å‰¯ä½œç”¨ã€‚</p>
<hr/>
<h3 data-id="heading-11">âŒ <strong>4. ä½¿ç”¨åŠ¨æ€å±æ€§è®¿é—®</strong></h3>
<pre><code class="hljs language-css" lang="css">export const obj = {
  <span class="hljs-selector-tag">a</span>: () =&gt; {},
  <span class="hljs-selector-tag">b</span>: () =&gt; {}
};
</code></pre>
<p>ç„¶åï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { obj } <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils.js'</span>;

obj[<span class="hljs-string">'a'</span>]();
</code></pre>
<p>æ‰“åŒ…å™¨æ— æ³•ç¡®å®š obj.b æ˜¯å¦ä¼šç”¨åˆ° â†’ æ— æ³• Tree Shakeã€‚</p>
<hr/>
<h3 data-id="heading-12">âŒ <strong>5. ä»£ç ä¸­ä½¿ç”¨ â€œå¼•ç”¨å¯èƒ½è¢«å¤–éƒ¨è°ƒç”¨â€ çš„æˆå‘˜</strong></h3>
<p>å…¸å‹ä¾‹å­ï¼šclass çš„æ–¹æ³•ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-title function_">login</span>(<span class="hljs-params"/>) {}
  <span class="hljs-title function_">delete</span>(<span class="hljs-params"/>) {}
}
</code></pre>
<p>å³ä½¿ä½ åªè°ƒç”¨ <code>new User().login()</code><br/>
<code>delete()</code> æ–¹æ³•ä¹Ÿä¸ä¼šè¢« Tree Shakeã€‚<br/>
å› ä¸ºç±»æ–¹æ³•çœ‹ä¸Šå»éƒ½å¯èƒ½è¢«ç»§æ‰¿æˆ–å¤–éƒ¨è®¿é—®ã€‚</p>
<hr/>
<h3 data-id="heading-13">âŒ <strong>6. å¿˜è®°è®¾ç½® sideEffects: false</strong></h3>
<p>package.jsonï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"sideEffects"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å‘Šè¯‰æ‰“åŒ…å™¨ï¼š</p>
<blockquote>
<p>â€œæˆ‘è¿™ä¸ªåŒ…é‡Œæ‰€æœ‰æ–‡ä»¶éƒ½æ²¡æœ‰å‰¯ä½œç”¨ï¼Œå¯ä»¥å¤§èƒ†åˆ ã€‚â€</p>
</blockquote>
<p>å¦åˆ™ï¼Œæ‰“åŒ…å™¨ä¼šå°å¿ƒè°¨æ…ï¼Œä¸æ•¢åˆ å¤šä½™æ¨¡å—ã€‚</p>
<hr/>
<h3 data-id="heading-14">âŒ <strong>7. ä½¿ç”¨äº†ä½¿ä»£ç å˜åŠ¨æ€çš„å†™æ³•</strong></h3>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> utils <span class="hljs-keyword">from</span> <span class="hljs-string">'./utils'</span>;

utils[aDynamicName]();
</code></pre>
<p>ä»»ä½•åŠ¨æ€è®¿é—®éƒ½ä¼šè®© Tree Shaking å¤±æ•ˆã€‚</p>
<hr/>
<h2 data-id="heading-15">å››ã€é¢è¯•å®˜è¿½é—®ï¼ˆå¿…å¤‡ï¼‰</h2>
<hr/>
<h3 data-id="heading-16"><strong>â“ Tree Shaking å¿…é¡»ä¾èµ– ESM å—ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</strong></h3>
<p><strong>å¿…é¡»ã€‚</strong></p>
<p>å› ä¸ºï¼š</p>
<ul>
<li>ESM é™æ€ç»“æ„ â†’ ç¼–è¯‘æ—¶å°±çŸ¥é“å¯¼å…¥/å¯¼å‡º</li>
<li>CJS åŠ¨æ€ç»“æ„ â†’ require å¯ä»¥æ¥å˜é‡ â†’ æ— æ³•åˆ†æä¾èµ–</li>
</ul>
<hr/>
<h3 data-id="heading-17"><strong>â“ ä¸ºä»€ä¹ˆ class æ–¹æ³•ä¸èƒ½ Tree Shakingï¼Ÿ</strong></h3>
<p>å› ä¸º class æ–¹æ³•å±äºâ€œå¯åŠ¨æ€è®¿é—®â€ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">user<span class="hljs-selector-attr">[<span class="hljs-string">'delete'</span>]</span>();
</code></pre>
<p>æ‰“åŒ…å™¨æ— æ³•åˆ¤å®šå“ªäº›æ–¹æ³•æ˜¯çœŸçš„æ²¡ç”¨ã€‚</p>
<hr/>
<h3 data-id="heading-18"><strong>â“ ä»€ä¹ˆæƒ…å†µä¸‹ä¸€ä¸ªæ¨¡å—ä¸€å®šä¸ä¼šè¢« Tree Shakeï¼Ÿ</strong></h3>
<p>åªè¦æ¨¡å—æœ‰å‰¯ä½œç”¨ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">import</span> <span class="hljs-string">'./setup.js'</span>;  <span class="hljs-comment">// å†…æœ‰å‰¯ä½œç”¨</span>
</code></pre>
<p>å³ä½¿å†…å®¹æ²¡ç”¨åˆ°ï¼Œä¹Ÿä¸èƒ½åˆ ã€‚</p>
<hr/>
<h2 data-id="heading-19">äº”ã€é€Ÿè®°å¡ç‰‡ï¼ˆ1 åˆ†é’Ÿå¤ä¹ ç‰ˆï¼‰</h2>
<hr/>
<h3 data-id="heading-20">ğŸŸ¦ <strong>Tree Shaking é€Ÿè®°å¡ç‰‡</strong></h3>
<h4 data-id="heading-21">âœ” ä»€ä¹ˆæ˜¯ Tree Shakingï¼Ÿ</h4>
<ul>
<li>åˆ é™¤æ²¡ç”¨åˆ°çš„ä»£ç ï¼ˆdead code eliminationï¼‰</li>
<li>åŸºäºé™æ€åˆ†æï¼ˆESMï¼‰</li>
</ul>
<h4 data-id="heading-22">âœ” ä¸ºä»€ä¹ˆ CJS ä¸è¡Œï¼Ÿ</h4>
<ul>
<li>require æ˜¯åŠ¨æ€çš„ â†’ æ— æ³•é™æ€åˆ†æ</li>
</ul>
<h4 data-id="heading-23">âœ” Tree Shaking å¤±æ•ˆ 7 å¤§åŸå› </h4>
<ol>
<li>ä½¿ç”¨ CommonJSï¼ˆrequireï¼‰</li>
<li>default export åŒ…å«å¤šä¸ªæˆå‘˜</li>
<li>æ¨¡å—æœ‰å‰¯ä½œç”¨ï¼ˆconsoleã€DOM æ“ä½œç­‰ï¼‰</li>
<li>åŠ¨æ€è®¿é—®å±æ€§ï¼ˆobj['a']ï¼‰</li>
<li>class æ–¹æ³•ï¼ˆå¯èƒ½è¢«å¤–éƒ¨è°ƒç”¨ï¼‰</li>
<li>package.json æœªè®¾ç½® sideEffects: false</li>
<li>ä½¿ç”¨åŠ¨æ€ require æˆ–åŠ¨æ€ import åç§°</li>
</ol>
<p>å¦‚æœä½ èƒ½æŠŠè¿™äº›èƒŒç†Ÿï¼ŒTree Shaking é¢è¯• 100% ç§’æ€ã€‚</p>
<hr/>
<h2 data-id="heading-24">è¦ç»§ç»­ç¬¬ 37 é¢˜å—ï¼Ÿ</h2>
<p>ğŸ‘‰ <strong>"äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ä¸å¾®ä»»åŠ¡/å®ä»»åŠ¡" çš„è¿›é˜¶ç‰ˆé¢˜ç›®ï¼Ÿ</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ 32 é¢˜ï¼šæ·±å…¥ç†è§£äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ã€å¾®ä»»åŠ¡ã€å®ä»»åŠ¡ï¼ˆè¯¦ç»† + éš¾ç‚¹ + æ˜“é”™ç‚¹ï¼‰]]></title>    <link>https://juejin.cn/post/7577665924151689259</link>    <guid>https://juejin.cn/post/7577665924151689259</guid>    <pubDate>2025-11-29T05:44:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577665924151689259" data-draft-id="7577627308515508265" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ 32 é¢˜ï¼šæ·±å…¥ç†è§£äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ã€å¾®ä»»åŠ¡ã€å®ä»»åŠ¡ï¼ˆè¯¦ç»† + éš¾ç‚¹ + æ˜“é”™ç‚¹ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:44:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ 32 é¢˜ï¼šæ·±å…¥ç†è§£äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ã€å¾®ä»»åŠ¡ã€å®ä»»åŠ¡ï¼ˆè¯¦ç»† + éš¾ç‚¹ + æ˜“é”™ç‚¹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:44:31.000Z" title="Sat Nov 29 2025 05:44:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¥½çš„ï¼Œç»§ç»­ä½ çš„å‰ç«¯é«˜é¢‘é¢˜è®­ç»ƒã€‚</p>
<hr/>
<h2 data-id="heading-0">âœ… <strong>ç¬¬ 37 é¢˜ï¼šæ·±å…¥ç†è§£äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ã€å¾®ä»»åŠ¡ã€å®ä»»åŠ¡ï¼ˆè¯¦ç»† + éš¾ç‚¹ + æ˜“é”™ç‚¹ï¼‰</strong></h2>
<p>è¿™é¢˜åœ¨å‰ç«¯é¢è¯•ä¸­å±äº <strong>é¡¶çº§é«˜é¢‘é¢˜</strong>ï¼Œå¹¶ä¸”å¾€å¾€æ˜¯ç¬”è¯• + é¢è¯•åŒé‡è€ƒã€‚</p>
<p>æˆ‘ä¼šè®²ï¼š</p>
<ul>
<li>åŸç†ï¼ˆä½ èƒ½å‘é¢è¯•å®˜è®²æ¸…æ¥šçš„é‚£ç§ï¼‰</li>
<li>æµè§ˆå™¨ä¸ Node çš„åŒºåˆ«</li>
<li>ç»å…¸å¿…è€ƒè¾“å‡ºé¢˜</li>
<li>å®¹æ˜“è¢«å‘çš„çŸ¥è¯†ç‚¹</li>
<li>é€Ÿè®°å¡ç‰‡</li>
</ul>
<hr/>
<h2 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ï¼Ÿ</h2>
<p>ä¸€å¥è¯ï¼š</p>
<blockquote>
<p>JS æ˜¯å•çº¿ç¨‹çš„ï¼Œä¸ºäº†ä¸é˜»å¡ä»»åŠ¡æ‰§è¡Œï¼Œå°±é€šè¿‡äº‹ä»¶å¾ªç¯æœºåˆ¶æ¥è°ƒåº¦å¼‚æ­¥ä»»åŠ¡ã€‚</p>
</blockquote>
<p>äº‹ä»¶å¾ªç¯ä¸»è¦å¤„ç†ä¸¤ç±»ä»»åŠ¡ï¼š</p>
<ul>
<li><strong>å®ä»»åŠ¡ï¼ˆMacro taskï¼‰</strong></li>
<li><strong>å¾®ä»»åŠ¡ï¼ˆMicro taskï¼‰</strong></li>
</ul>
<hr/>
<h2 data-id="heading-2">äºŒã€å®ä»»åŠ¡ vs å¾®ä»»åŠ¡ï¼ˆéå¸¸å…³é”®ï¼‰</h2>
<h3 data-id="heading-3">âœ” å®ä»»åŠ¡ï¼ˆMacro taskï¼‰</h3>
<p>æ¯ä¸€è½®äº‹ä»¶å¾ªç¯æ‰§è¡Œ <em>ä¸€ä¸ª</em> å®ä»»åŠ¡ã€‚</p>
<p>å¸¸è§å®ä»»åŠ¡ï¼š</p>
<ul>
<li><code>setTimeout</code></li>
<li><code>setInterval</code></li>
<li><code>setImmediate</code>ï¼ˆNodeï¼‰</li>
<li><code>I/O</code></li>
<li><code>UI æ¸²æŸ“</code></li>
<li>æ•´ä¸ª script ä¸€æ¬¡æ•´ä½“æ‰§è¡Œï¼ˆæ²¡é”™ï¼Œ<code>script</code> ä¹Ÿæ˜¯å®ä»»åŠ¡ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-4">âœ” å¾®ä»»åŠ¡ï¼ˆMicro taskï¼‰</h3>
<p>å½“ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œç»“æŸåï¼Œä¼šç«‹å³æ¸…ç©ºæ‰€æœ‰å¾®ä»»åŠ¡é˜Ÿåˆ—ã€‚</p>
<p>å¸¸è§å¾®ä»»åŠ¡ï¼š</p>
<ul>
<li><code>Promise.then / catch / finally</code></li>
<li><code>MutationObserver</code></li>
<li><code>queueMicrotask</code></li>
<li>Node ä¸­è¿˜æœ‰ <code>process.nextTick</code>ï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€äº‹ä»¶å¾ªç¯æ‰§è¡Œé¡ºåºï¼ˆé¢è¯•å®˜æœ€çˆ±é—®ï¼‰</h2>
<p><strong>ä¸€å¥è¯ç‰ˆæµç¨‹ï¼š</strong></p>
<pre><code class="hljs">æ‰§è¡Œå®ä»»åŠ¡
  â†“
æ‰§è¡ŒæœŸé—´é‡åˆ°å¾®ä»»åŠ¡ â†’ æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—
  â†“
å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œ â†’ ç«‹å³æ¸…ç©ºæ‰€æœ‰å¾®ä»»åŠ¡
  â†“
è¿›å…¥ä¸‹ä¸€è½®å®ä»»åŠ¡
</code></pre>
<hr/>
<h2 data-id="heading-6">å››ã€æµè§ˆå™¨ vs Node çš„åŒºåˆ«ï¼ˆé«˜é¢‘ç‚¹ï¼‰</h2>
<p>æµè§ˆå™¨äº‹ä»¶å¾ªç¯ï¼š</p>
<pre><code class="hljs">å®ä»»åŠ¡ â†’ å¾®ä»»åŠ¡ â†’ æ¸²æŸ“ â†’ ä¸‹ä¸€è½®å®ä»»åŠ¡
</code></pre>
<p>Node äº‹ä»¶å¾ªç¯æ›´å¤æ‚ï¼Œæœ‰å…­ä¸ªé˜¶æ®µï¼š</p>
<ol>
<li>timers</li>
<li>pending callbacks</li>
<li>idle, prepare</li>
<li>poll</li>
<li>check</li>
<li>close callbacks</li>
</ol>
<p>ä»¥åŠï¼š</p>
<ul>
<li><strong>process.nextTickï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰</strong></li>
<li>ç„¶åæ‰æ˜¯å¾®ä»»åŠ¡ï¼ˆPromiseï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-7">äº”ã€ç»å…¸å¿…è€ƒé¢˜ï¼ˆä½ å¿…é¡»ä¼šé»˜å†™ï¼‰</h2>
<hr/>
<h3 data-id="heading-8">ğŸ“Œ <strong>ä¾‹é¢˜ 1ï¼šPromise vs setTimeout</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>));

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>));

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>);
</code></pre>
<p>æ‰§è¡Œé¡ºåºï¼š</p>
<p>1 â†’ 4 â†’ 3 â†’ 2</p>
<p>è§£æï¼š</p>
<ul>
<li>1ã€4ï¼šåŒæ­¥</li>
<li>3ï¼šå¾®ä»»åŠ¡</li>
<li>2ï¼šå®ä»»åŠ¡</li>
</ul>
<hr/>
<h3 data-id="heading-9">ğŸ“Œ <strong>ä¾‹é¢˜ 2ï¼šåµŒå¥—å¾®ä»»åŠ¡</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'micro 1'</span>);
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'micro 2'</span>));
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'sync'</span>);
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">sync</span>
micro 1
micro 2
</code></pre>
<p>åŸå› ï¼š<br/>
å¾®ä»»åŠ¡æ°¸è¿œå…¨éƒ¨æ¸…ç©ºã€‚</p>
<hr/>
<h3 data-id="heading-10">ğŸ“Œ <strong>ä¾‹é¢˜ 3ï¼šsetTimeout vs Promise å†å¥— setTimeout</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>));

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>);
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>));
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>);
</code></pre>
<p>é¡ºåºï¼š</p>
<p>4 â†’ 2 â†’ 1 â†’ 3</p>
<p>è§£é‡Šï¼š</p>
<ul>
<li>4ï¼šåŒæ­¥</li>
<li>2ï¼šå¾®ä»»åŠ¡</li>
<li>1ï¼šç¬¬ä¸€è½®çš„å®ä»»åŠ¡</li>
<li>3ï¼šPromise é‡Œçš„ setTimeout â†’ ç¬¬äºŒè½®å®ä»»åŠ¡</li>
</ul>
<hr/>
<h3 data-id="heading-11">ğŸ“Œ <strong>ä¾‹é¢˜ 4ï¼šNode ç‰¹æ€§ â€” process.nextTick</strong></h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>));

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>));

process.<span class="hljs-title function_">nextTick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>));

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">5</span>);
</code></pre>
<p>Node è¾“å‡ºï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-number">1</span>
<span class="hljs-number">5</span>
<span class="hljs-number">4</span>   â† process.nextTick ä¼˜å…ˆçº§æœ€é«˜
<span class="hljs-number">3</span>   â† å¾®ä»»åŠ¡
<span class="hljs-number">2</span>   â† å®ä»»åŠ¡
</code></pre>
<hr/>
<h2 data-id="heading-12">å…­ã€é¢è¯•å®˜æ·±å…¥è¿½é—®ï¼ˆä½ å¿…é¡»ä¼šç­”ï¼‰</h2>
<hr/>
<h4 data-id="heading-13">â“ä¸ºä»€ä¹ˆ Promise.then ä¼šæ¯” setTimeout å…ˆæ‰§è¡Œï¼Ÿ</h4>
<p>å› ä¸º Promise æ˜¯å¾®ä»»åŠ¡ï¼Œè€Œ setTimeout æ˜¯å®ä»»åŠ¡ã€‚<br/>
æ¯ä¸€è½®äº‹ä»¶å¾ªç¯ç»“æŸä¼šç«‹å³æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡ â†’ æ°¸è¿œå…ˆäºå®ä»»åŠ¡ã€‚</p>
<hr/>
<h4 data-id="heading-14">â“å¾®ä»»åŠ¡å¯ä»¥äº§ç”Ÿæ–°çš„å¾®ä»»åŠ¡å—ï¼Ÿ</h4>
<p>å¯ä»¥ï¼Œè€Œä¸”ä¼šç»§ç»­åœ¨å½“å‰ microtask queue ä¸­æ‰§è¡Œã€‚</p>
<hr/>
<h4 data-id="heading-15">â“æµè§ˆå™¨ä»€ä¹ˆæ—¶å€™æ¸²æŸ“ï¼Ÿ</h4>
<p>ä¸€æ¬¡äº‹ä»¶å¾ªç¯ä¸­ï¼š</p>
<pre><code class="hljs">å®ä»»åŠ¡ â†’ å¾®ä»»åŠ¡ â†’ ï¼ˆè‹¥éœ€è¦åˆ™æ¸²æŸ“ï¼‰
</code></pre>
<p>æ¸²æŸ“åªåœ¨ä¸¤æ¬¡å®ä»»åŠ¡ä¹‹é—´ï¼Œä¸ä¼šæ‰“æ–­å¾®ä»»åŠ¡æ‰§è¡Œã€‚</p>
<hr/>
<h2 data-id="heading-16">ä¸ƒã€é€Ÿè®°å¡ç‰‡ï¼ˆç»™ä½ å¤ä¹ ï¼‰</h2>
<hr/>
<h3 data-id="heading-17">ğŸŸ¦ <strong>äº‹ä»¶å¾ªç¯ â€” é€Ÿè®°å¡ç‰‡</strong></h3>
<h4 data-id="heading-18">ğŸŸ£ å®ä»»åŠ¡ï¼ˆä¸€æ¬¡æ‰§è¡Œä¸€ä¸ªï¼‰</h4>
<ul>
<li>script</li>
<li>setTimeout</li>
<li>setInterval</li>
<li>UI æ¸²æŸ“</li>
<li>I/O</li>
</ul>
<h4 data-id="heading-19">ğŸ”µ å¾®ä»»åŠ¡ï¼ˆæ¯è½®æ‰§è¡Œå®Œå®ä»»åŠ¡å°±æ¸…ç©ºï¼‰</h4>
<ul>
<li>Promise.then</li>
<li>queueMicrotask</li>
<li>MutationObserver</li>
<li>(Node) process.nextTickï¼ˆä¼˜å…ˆçº§æœ€é«˜ï¼‰</li>
</ul>
<h4 data-id="heading-20">ğŸŸ¢ æ‰§è¡Œé¡ºåº</h4>
<pre><code class="hljs">å®ä»»åŠ¡
â†’ æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡
â†’ æ¸²æŸ“ï¼ˆæµè§ˆå™¨ï¼‰
â†’ ä¸‹ä¸€è½®å®ä»»åŠ¡
</code></pre>
<h4 data-id="heading-21">ğŸ”´ Node ç‰¹æ®Šä¼˜å…ˆçº§</h4>
<pre><code class="hljs language-arduino" lang="arduino">process.nextTick &gt; Promise microtask &gt; macrotask
</code></pre>
<hr/>
<h2 data-id="heading-22">è¦ç»§ç»­ç¬¬ 38 é¢˜å—ï¼Ÿ</h2>
<p>ä¸‹ä¸€é¢˜æ˜¯ï¼š</p>
<p>ğŸ‘‰ <strong>ç¬¬ 38 é¢˜ï¼šæµè§ˆå™¨æ¸²æŸ“æµç¨‹ï¼ˆé‡æ’ Reflowã€é‡ç»˜ Repaintã€åˆæˆ Compositingï¼‰</strong></p>
<p>ç»§ç»­å—ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬ 33 é¢˜ï¼šæµè§ˆå™¨æ¸²æŸ“æµç¨‹ï¼ˆReflow é‡æ’ã€Repaint é‡ç»˜ã€Composite åˆæˆï¼‰*]]></title>    <link>https://juejin.cn/post/7577691384942379050</link>    <guid>https://juejin.cn/post/7577691384942379050</guid>    <pubDate>2025-11-29T05:45:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577691384942379050" data-draft-id="7577715145120612406" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬ 33 é¢˜ï¼šæµè§ˆå™¨æ¸²æŸ“æµç¨‹ï¼ˆReflow é‡æ’ã€Repaint é‡ç»˜ã€Composite åˆæˆï¼‰*"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:45:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬ 33 é¢˜ï¼šæµè§ˆå™¨æ¸²æŸ“æµç¨‹ï¼ˆReflow é‡æ’ã€Repaint é‡ç»˜ã€Composite åˆæˆï¼‰*
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:45:02.000Z" title="Sat Nov 29 2025 05:45:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¥½çš„ï¼Œç»§ç»­ <strong>ç¬¬ 38 é¢˜ï¼šæµè§ˆå™¨æ¸²æŸ“æµç¨‹ï¼ˆReflow é‡æ’ã€Repaint é‡ç»˜ã€Composite åˆæˆï¼‰</strong><br/>
è¿™æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆå¿…é¡»å®Œå…¨æŒæ¡çš„æ ¸å¿ƒçŸ¥è¯†ã€‚</p>
<hr/>
<h2 data-id="heading-0">âœ… <strong>ç¬¬ 38 é¢˜ï¼šæµè§ˆå™¨æ¸²æŸ“æµç¨‹ï¼ˆReflowã€Repaintã€Compositeï¼‰</strong></h2>
<p>æˆ‘ä¼šæŒ‰ä½ éœ€è¦çš„æ·±å…¥ç‰ˆæ¥è®²ï¼š</p>
<ul>
<li>æ¸²æŸ“ç®¡çº¿åŸç†ï¼ˆé¢è¯•å®˜æƒ³å¬çš„ç‰ˆæœ¬ï¼‰</li>
<li>é‡æ’ä¸é‡ç»˜çš„åŒºåˆ«ï¼ˆå¿…è€ƒï¼‰</li>
<li>å“ªäº›æ“ä½œä¼šè§¦å‘é‡æ’ï¼ˆé«˜é¢‘é™·é˜±ï¼‰</li>
<li>å¦‚ä½•ä¼˜åŒ–æ¸²æŸ“æ€§èƒ½ï¼ˆä½ å†™é¡¹ç›®èƒ½ç”¨ï¼‰</li>
<li>é€Ÿè®°å¡ç‰‡</li>
</ul>
<hr/>
<h2 data-id="heading-1">ä¸€ã€æµè§ˆå™¨æ¸²æŸ“çš„å®Œæ•´æµç¨‹ï¼ˆPipelineï¼‰</h2>
<p>é¡µé¢æ¸²æŸ“å¤§è‡´åˆ†ä¸º 7 æ­¥ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">HTML</span> è§£æ â†’ DOM
CSS è§£æ â†’ CSSOM
        â†“
     ç”Ÿæˆ Render Treeï¼ˆæ¸²æŸ“æ ‘ï¼‰
        â†“
å¸ƒå±€ï¼ˆLayout / Reflowï¼‰ â† è®¡ç®—ä½ç½®å’Œå¤§å°
        â†“
ç»˜åˆ¶ï¼ˆPaint / Repaintï¼‰ â† ç”»å‡ºåƒç´ 
        â†“
åˆæˆï¼ˆCompositeï¼‰ â† GPU åˆæˆå›¾å±‚
</code></pre>
<p>è¿™æ˜¯æ¯ä¸ªæµè§ˆå™¨ï¼ˆChrome / Safari / Firefoxï¼‰çš„æ ¸å¿ƒæ¸²æŸ“æµç¨‹ã€‚</p>
<hr/>
<h2 data-id="heading-2">äºŒã€å…³é”®çš„ä¸‰ä¸ªé˜¶æ®µï¼ˆé‡æ’ã€é‡ç»˜ã€åˆæˆï¼‰</h2>
<p>é¢è¯•é¢˜å‡ ä¹éƒ½é—®è¿™ä¸‰ä¸ªã€‚</p>
<hr/>
<h2 data-id="heading-3">1ï¼‰Reflowï¼ˆé‡æ’ã€å¸ƒå±€ï¼‰</h2>
<p><strong>æ”¹åŠ¨å½±å“å°ºå¯¸ã€ä½ç½®ã€ç»“æ„ â†’ å¿…é¡»é‡æ–°è®¡ç®—å¸ƒå±€ â†’ å¯¼è‡´ Reflow</strong></p>
<p>ä¼šè§¦å‘é‡æ’çš„å…¸å‹æ“ä½œï¼š</p>
<ul>
<li>ä¿®æ”¹å®½é«˜ï¼ˆwidth/heightï¼‰</li>
<li>ä¿®æ”¹ä½ç½®ï¼ˆtop/leftï¼‰</li>
<li>ä¿®æ”¹å­—ä½“å¤§å°ï¼ˆfont-sizeï¼‰</li>
<li>ä¿®æ”¹ displayã€visibilityï¼ˆå°¤å…¶ display: noneï¼‰</li>
<li>å†…å®¹å˜åŒ–å¯¼è‡´å¤§å°å˜åŒ–ï¼ˆå¦‚ innerTextã€appendChildï¼‰</li>
<li>é¡µé¢å¤§å°å˜åŒ–ï¼ˆresizeï¼‰</li>
</ul>
<p>é‡æ’æ˜¯æœ€è€—æ€§èƒ½çš„é˜¶æ®µã€‚</p>
<p>ğŸ‘‰ <strong>ä¸€å¥è¯è®°ï¼šå½±å“å¸ƒå±€ = é‡æ’</strong></p>
<hr/>
<h2 data-id="heading-4">2ï¼‰Repaintï¼ˆé‡ç»˜ï¼‰</h2>
<p>å¦‚æœåªæ˜¯æ”¹å˜å¤–è§‚ï¼Œä¸æ”¹å˜å¤§å°ä¸å¸ƒå±€ â†’ é‡ç»˜</p>
<p>å…¸å‹è§¦å‘ï¼š</p>
<ul>
<li>color</li>
<li>background</li>
<li>border-color</li>
<li>box-shadow</li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šborder-width æ”¹å˜ä¼šè§¦å‘é‡æ’ï¼Œä½† border-color ä¸ä¼šã€‚</p>
</blockquote>
<p>ğŸ‘‰ <strong>ä¸€å¥è¯è®°ï¼šå½±å“å¤–è§‚ = é‡ç»˜</strong></p>
<hr/>
<h2 data-id="heading-5">3ï¼‰Compositeï¼ˆåˆæˆï¼‰</h2>
<p>å¦‚æœä½¿ç”¨äº† <strong>ç‹¬ç«‹å›¾å±‚ï¼ˆcomposite layerï¼‰</strong> ï¼Œæµè§ˆå™¨å¯ä»¥è·³è¿‡ Reflow å’Œ Repaintã€‚<br/>
ç›´æ¥ç”± GPU åˆæˆã€‚</p>
<p>èƒ½è§¦å‘ Composite çš„å±æ€§ï¼ˆé€šå¸¸åªå½±å“åˆæˆå±‚ï¼‰ï¼š</p>
<ul>
<li>transformï¼ˆtranslate/scale/rotateï¼‰</li>
<li>opacity</li>
<li>will-change</li>
</ul>
<p>è¿™ç±»æ“ä½œæ€§èƒ½æœ€å¥½ï¼ŒåŠ¨ç”»æœ€æµç•…ï¼Œ60fps æ²¡é—®é¢˜ã€‚</p>
<p>ğŸ‘‰ <strong>ä¸€å¥è¯è®°ï¼štransform + opacity â†’ æœ€å¿«</strong></p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€é¢è¯•å®˜æœ€çˆ±é—®ï¼šå“ªäº›æ“ä½œä¼šè§¦å‘ Reflowï¼Ÿï¼ˆç‰¢è®°ï¼‰</h2>
<hr/>
<h3 data-id="heading-7">âœ” ä¸‹é¢è¿™äº›ä¼šè§¦å‘ <strong>Reflowï¼ˆé‡æ’ï¼‰</strong></h3>
<ol>
<li>æ”¹å˜å‡ ä½•å±æ€§ï¼ˆwidth/height/margin/padding/top/leftï¼‰</li>
<li>æ”¹å˜ font-size / line-height</li>
<li>æ”¹å˜ display</li>
<li>æ”¹å˜å†…å®¹ï¼ˆinnerHTML / innerText / textContentï¼‰</li>
<li>æ·»åŠ æˆ–åˆ é™¤ DOM</li>
<li>ç§»åŠ¨ DOMï¼ˆappendChildï¼‰</li>
<li>è¯»å–æŸäº›å±æ€§ï¼ˆå¼ºåˆ¶åŒæ­¥å¸ƒå±€ï¼‰</li>
</ol>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">element<span class="hljs-selector-class">.offsetHeight</span>
element<span class="hljs-selector-class">.clientWidth</span>
<span class="hljs-built_in">getComputedStyle</span>(element)
</code></pre>
<p>è¿™äº›è¯»å–éƒ½ä¼š <strong>å¼ºåˆ¶åˆ·æ–° Layout</strong>ï¼Œéå¸¸è€—æ€§èƒ½ã€‚</p>
<hr/>
<h3 data-id="heading-8">âœ” æ”¹å˜ä»¥ä¸‹ä¼šè§¦å‘ <strong>Repaintï¼ˆé‡ç»˜ï¼‰</strong></h3>
<ul>
<li>color</li>
<li>background-image</li>
<li>background-color</li>
<li>border-color</li>
<li>outline-color</li>
<li>box-shadow</li>
</ul>
<p>ä¸æ”¹å˜å¸ƒå±€çš„éƒ½å±äº Repaintã€‚</p>
<hr/>
<h3 data-id="heading-9">âœ” ä½¿ç”¨ transform/opacity åªè§¦å‘ Compositeï¼ˆæœ€å¿«ï¼‰</h3>
<p>è¿™æ˜¯åŠ¨ç”»ä¼˜åŒ–çš„æ ¸å¿ƒï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(<span class="hljs-number">10px</span>);
<span class="hljs-attribute">opacity</span>: <span class="hljs-number">0.5</span>;
</code></pre>
<p>æµè§ˆå™¨ç›´æ¥ GPU åˆæˆï¼Œä¸ä¼šè§¦å‘ Layout æˆ– Paintã€‚</p>
<hr/>
<h2 data-id="heading-10">å››ã€é¢è¯•å®˜å¸¸é—®é™·é˜±ï¼ˆå¿…é¡»è¦ä¼šï¼‰</h2>
<hr/>
<h3 data-id="heading-11">â“ ä¿®æ”¹ transform ä¼šè§¦å‘é‡æ’å—ï¼Ÿ</h3>
<p>ä¸ä¼šã€‚</p>
<hr/>
<h3 data-id="heading-12">â“ ä¿®æ”¹ opacity ä¼šè§¦å‘é‡ç»˜å—ï¼Ÿ</h3>
<p>ä¸ä¼šï¼ˆé€šå¸¸åªè§¦å‘åˆæˆï¼‰ã€‚</p>
<hr/>
<h3 data-id="heading-13">â“ display: none ä¼šè§¦å‘ä»€ä¹ˆï¼Ÿ</h3>
<ul>
<li>éšè—ï¼šReflowï¼ˆå¸ƒå±€è¢«ç§»é™¤ï¼‰</li>
<li>æ˜¾ç¤ºï¼šReflowï¼ˆé‡æ–°è®¡ç®—å¸ƒå±€ï¼‰</li>
</ul>
<p>éå¸¸è€—æ€§èƒ½ã€‚</p>
<hr/>
<h3 data-id="heading-14">â“ visibility: hidden ä¼šè§¦å‘ä»€ä¹ˆï¼Ÿ</h3>
<p>åªè§¦å‘ Repaintï¼Œä¸è§¦å‘ Reflowã€‚</p>
<hr/>
<h3 data-id="heading-15">â“ å“ªäº›å±æ€§çš„è¯»å–ä¼šè§¦å‘â€œå¼ºåˆ¶åŒæ­¥å¸ƒå±€â€ï¼Ÿ</h3>
<p>è¿™é¢˜ç»å¸¸è€ƒã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">element<span class="hljs-selector-class">.offsetWidth</span>
element<span class="hljs-selector-class">.offsetHeight</span>
element<span class="hljs-selector-class">.clientHeight</span>
element<span class="hljs-selector-class">.scrollTop</span>
<span class="hljs-built_in">getComputedStyle</span>(element)
</code></pre>
<p>è¿™äº›ä¼šè®©æµè§ˆå™¨ <strong>ç«‹å³æ‰§è¡Œ Layout</strong>ï¼Œéå¸¸å¡ã€‚</p>
<hr/>
<h2 data-id="heading-16">äº”ã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼ˆå®æˆ˜å¯ç”¨ï¼‰</h2>
<p>é¢è¯•å®˜å¸¸é—®ï¼š</p>
<blockquote>
<p>å¦‚ä½•å‡å°‘ Reflow/Repaintï¼Ÿ</p>
</blockquote>
<hr/>
<h3 data-id="heading-17">âœ” 1ï¼‰æ‰¹é‡ DOM æ“ä½œ â†’ ä½¿ç”¨ DocumentFragment</h3>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">frag</span> = document.createDocumentFragment()<span class="hljs-comment">;</span>
for (...) {
  frag.appendChild(...)<span class="hljs-comment">;</span>
}
container.appendChild(frag)<span class="hljs-comment">;</span>
</code></pre>
<p>é¿å…å¤šæ¬¡ DOM æ’å…¥è§¦å‘é‡æ’ã€‚</p>
<hr/>
<h3 data-id="heading-18">âœ” 2ï¼‰é¿å…é¢‘ç¹è¯»å–å¸ƒå±€å±æ€§ï¼ˆoffsetHeight ç­‰ï¼‰</h3>
<p>å¦‚æœå¿…é¡»è¯»å–å¤šæ¬¡ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">height</span> = el.<span class="hljs-literal">off</span>setHeight<span class="hljs-comment">;</span>
</code></pre>
<p>ç¼“å­˜ä¸‹æ¥ã€‚</p>
<hr/>
<h3 data-id="heading-19">âœ” 3ï¼‰å°†åŠ¨ç”»æ”¾åˆ° Composite å±‚ï¼ˆtransform/opacityï¼‰</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.card</span> {
  <span class="hljs-attribute">will-change</span>: transform, opacity;
}
</code></pre>
<p>æµè§ˆå™¨ä¼šæå‰åˆ›å»ºå¤åˆå›¾å±‚ï¼Œæå¤§æé«˜åŠ¨ç”»æ€§èƒ½ã€‚</p>
<hr/>
<h3 data-id="heading-20">âœ” 4ï¼‰é¿å…ä¸€æ¡æ¡ä¿®æ”¹æ ·å¼ â†’ ä½¿ç”¨ class åˆ‡æ¢</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.active</span> { <span class="hljs-attribute">color</span>: red; <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>; }
</code></pre>
<pre><code class="hljs language-csharp" lang="csharp">el.classList.<span class="hljs-keyword">add</span>(<span class="hljs-string">'active'</span>);
</code></pre>
<p>è§¦å‘é‡æ’æ¬¡æ•°å¤§å¹…å‡å°‘ã€‚</p>
<hr/>
<h3 data-id="heading-21">âœ” 5ï¼‰é¿å…ä½¿ç”¨ table å¸ƒå±€ï¼ˆæåº¦æ˜‚è´µï¼‰</h3>
<p>table çš„å¸ƒå±€ä¾èµ–æ•´è¡¨ç»“æ„ï¼Œä»»ä½•å•å…ƒå˜åŒ–éƒ½ä¼šå¯¼è‡´å…¨è¡¨é‡æ’ã€‚</p>
<hr/>
<h3 data-id="heading-22">âœ” 6ï¼‰ä½¿ç”¨ requestAnimationFrame åšåŠ¨ç”»</h3>
<p>setTimeout ä¼šå¡é¡¿ï¼Œå› ä¸ºå’Œæ¸²æŸ“æ—¶æœºä¸ä¸€è‡´ã€‚</p>
<hr/>
<h2 data-id="heading-23">å…­ã€é€Ÿè®°å¡ç‰‡ï¼ˆ1 åˆ†é’Ÿå¤ä¹ ï¼‰</h2>
<hr/>
<h3 data-id="heading-24">ğŸŸ¦ æµè§ˆå™¨æ¸²æŸ“æµç¨‹ï¼ˆReflow / Repaint / Compositeï¼‰</h3>
<h4 data-id="heading-25">ğŸ”µ Reflowï¼ˆé‡æ’ï¼‰</h4>
<ul>
<li>å½±å“å¸ƒå±€ï¼ˆå®½é«˜ã€ä½ç½®ï¼‰</li>
<li>æœ€è€—æ€§èƒ½</li>
</ul>
<h4 data-id="heading-26">ğŸ”µ Repaintï¼ˆé‡ç»˜ï¼‰</h4>
<ul>
<li>å½±å“å¤–è§‚ï¼ˆé¢œè‰²ã€é˜´å½±ï¼‰</li>
<li>æ€§èƒ½ä¸­ç­‰</li>
</ul>
<h4 data-id="heading-27">ğŸ”µ Compositeï¼ˆåˆæˆå±‚ï¼‰</h4>
<ul>
<li>transform / opacity</li>
<li>æ€§èƒ½æœ€å¥½ï¼ˆGPUï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-28">ğŸŸ£ æ€§èƒ½ä¼˜åŒ–å£è¯€</h3>
<p><strong>å¸ƒå±€å°‘æ”¹ã€æ ·å¼å°‘åŠ¨ã€åˆæˆåŠ¨ç”»</strong></p>
<hr/>
<h2 data-id="heading-29">è¦ç»§ç»­ç¬¬ 39 é¢˜å—ï¼Ÿ</h2>
<p>ğŸ‘‰ <strong>ç¬¬ 39 é¢˜ï¼šæµè§ˆå™¨ç¼“å­˜ç­–ç•¥ï¼ˆå¼ºç¼“å­˜ã€åå•†ç¼“å­˜ã€ç¼“å­˜æ§åˆ¶ï¼‰</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµ·æ´‹ç”Ÿç‰©è¯†åˆ«ç³»ç»Ÿã€æœ€æ–°ç‰ˆã€‘Python+TensorFlow+Vue3+Django+äººå·¥æ™ºèƒ½+æ·±åº¦å­¦ä¹ +å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•]]></title>    <link>https://juejin.cn/post/7577613021881188362</link>    <guid>https://juejin.cn/post/7577613021881188362</guid>    <pubDate>2025-11-29T05:45:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577613021881188362" data-draft-id="7577612585845112841" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµ·æ´‹ç”Ÿç‰©è¯†åˆ«ç³»ç»Ÿã€æœ€æ–°ç‰ˆã€‘Python+TensorFlow+Vue3+Django+äººå·¥æ™ºèƒ½+æ·±åº¦å­¦ä¹ +å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,å›¾åƒè¯†åˆ«,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-11-29T05:45:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ziwu"/> <meta itemprop="url" content="https://juejin.cn/user/607373397353726"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµ·æ´‹ç”Ÿç‰©è¯†åˆ«ç³»ç»Ÿã€æœ€æ–°ç‰ˆã€‘Python+TensorFlow+Vue3+Django+äººå·¥æ™ºèƒ½+æ·±åº¦å­¦ä¹ +å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/607373397353726/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ziwu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:45:28.000Z" title="Sat Nov 29 2025 05:45:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»‹ç»</h2>
<p>æµ·æ´‹ç”Ÿç‰©ç³»ç»Ÿï¼Œæœ¬é¡¹ç›®åŸºäºæ·±åº¦å­¦ä¹ æŠ€æœ¯ï¼Œæ„å»ºäº†ä¸€ä¸ªé›†æµ·æ´‹ç”Ÿç‰©è¯†åˆ«ã€æ•°æ®å¯è§†åŒ–å’Œæ™ºèƒ½é—®ç­”äºä¸€ä½“çš„Webåº”ç”¨ç³»ç»Ÿã€‚ç³»ç»Ÿé‡‡ç”¨TensorFlowæ¡†æ¶æ­å»ºå·ç§¯ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œé€šè¿‡å¯¹22ç§å¸¸è§æµ·æ´‹ç”Ÿç‰©ï¼ˆåŒ…æ‹¬æµ·è±šã€é²¸é±¼ã€é²¨é±¼ã€çŠç‘šã€æµ·æ˜Ÿç­‰ï¼‰æ•°æ®é›†è¿›è¡Œå¤šè½®è¿­ä»£è®­ç»ƒï¼Œæœ€ç»ˆè·å¾—é«˜ç²¾åº¦è¯†åˆ«æ¨¡å‹ï¼Œå¹¶å¼€å‘äº†åŠŸèƒ½å®Œå–„çš„Webæ“ä½œå¹³å°ã€‚</p>
<p><strong>å‰ç«¯</strong>: Vue3ã€Element Plus</p>
<p><strong>åç«¯</strong>ï¼šDjango</p>
<p><strong>ç®—æ³•</strong>ï¼šTensorFlowã€å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•</p>
<p><strong>å…·ä½“åŠŸèƒ½</strong>ï¼š</p>
<ol>
<li>ç³»ç»Ÿåˆ†ä¸ºç®¡ç†å‘˜å’Œç”¨æˆ·ä¸¤ä¸ªè§’è‰²ï¼Œç™»å½•åæ ¹æ®è§’è‰²æ˜¾ç¤ºå…¶å¯è®¿é—®çš„é¡µé¢æ¨¡å—ã€‚</li>
<li>ç™»å½•ç³»ç»Ÿåå¯å‘å¸ƒã€æŸ¥çœ‹ã€ç¼–è¾‘æ–‡ç« ï¼Œåˆ›å»ºæ–‡ç« åŠŸèƒ½ä¸­é›†æˆäº†markdownç¼–è¾‘å™¨ï¼Œå¯å¯¹æ–‡ç« è¿›è¡Œç¼–è¾‘ã€‚</li>
<li>åœ¨å›¾åƒè¯†åˆ«åŠŸèƒ½ä¸­ï¼Œç”¨æˆ·ä¸Šä¼ å›¾ç‰‡åï¼Œç‚¹å‡»è¯†åˆ«ï¼Œå¯è¾“å‡ºå…¶è¯†åˆ«ç»“æœå’Œç½®ä¿¡åº¦</li>
<li>åŸºäºEchartä»¥æŸ±çŠ¶å›¾å½¢å¼è¾“å‡ºæ‰€æœ‰ç§ç±»å¯¹åº”çš„ç½®ä¿¡åº¦åˆ†å¸ƒå›¾ã€‚</li>
<li>åœ¨æ™ºèƒ½é—®ç­”åŠŸèƒ½æ¨¡å—ä¸­ï¼šç”¨æˆ·è¾“å…¥é—®é¢˜ï¼Œåå°é€šè¿‡å¯¹æ¥Deepseekæ¥å£å®ç°æ™ºèƒ½é—®ç­”åŠŸèƒ½ã€‚</li>
<li>ç®¡ç†å‘˜å¯åœ¨ç”¨æˆ·ç®¡ç†æ¨¡å—ä¸­ï¼Œå¯¹ç”¨æˆ·è´¦æˆ·è¿›è¡Œç®¡ç†å’Œç¼–è¾‘ã€‚</li>
</ol>
<p><strong>é€‰é¢˜èƒŒæ™¯ä¸æ„ä¹‰</strong>ï¼š
éšç€æµ·æ´‹èµ„æºçš„å¼€å‘ä¸ä¿æŠ¤æ—¥ç›Šå—åˆ°é‡è§†ï¼Œå¯¹æµ·æ´‹ç”Ÿç‰©è¿›è¡Œå¿«é€Ÿã€å‡†ç¡®çš„è¯†åˆ«ä¸åˆ†ææˆä¸ºç§‘ç ”ã€æ•™è‚²åŠç”Ÿæ€ä¿æŠ¤é¢†åŸŸçš„é‡è¦éœ€æ±‚ã€‚ç„¶è€Œï¼Œä¼ ç»Ÿçš„æµ·æ´‹ç”Ÿç‰©è¯†åˆ«æ–¹æ³•ä¾èµ–ä¸“å®¶ç»éªŒï¼Œæ•ˆç‡è¾ƒä½ï¼Œä¸”å…¬ä¼—å‚ä¸åº¦æœ‰é™ã€‚è¿‘å¹´æ¥ï¼Œæ·±åº¦å­¦ä¹ æŠ€æœ¯åœ¨å›¾åƒè¯†åˆ«é¢†åŸŸå–å¾—äº†æ˜¾è‘—è¿›å±•ï¼Œä¸ºæµ·æ´‹ç”Ÿç‰©çš„è‡ªåŠ¨åŒ–è¯†åˆ«ä¸çŸ¥è¯†æ™®åŠæä¾›äº†æ–°çš„å¯èƒ½ã€‚</p>
<p>æœ¬é¡¹ç›®åŸºäºè¿™ä¸€èƒŒæ™¯ï¼Œåˆ©ç”¨TensorFlowæ¡†æ¶æ„å»ºå·ç§¯ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œé’ˆå¯¹22ç§å¸¸è§æµ·æ´‹ç”Ÿç‰©ï¼ˆå¦‚æµ·è±šã€é²¸é±¼ã€çŠç‘šç­‰ï¼‰è¿›è¡Œè®­ç»ƒï¼Œå®ç°äº†é«˜ç²¾åº¦çš„ç”Ÿç‰©è¯†åˆ«ã€‚åŒæ—¶ï¼Œç³»ç»Ÿç»“åˆVue3ä¸Djangoå¼€å‘äº†åŠŸèƒ½å®Œå–„çš„Webå¹³å°ï¼Œé›†æˆå›¾åƒè¯†åˆ«ã€æ•°æ®å¯è§†åŒ–åŠæ™ºèƒ½é—®ç­”ç­‰åŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›ä¾¿æ·çš„æµ·æ´‹ç”Ÿç‰©è®¤çŸ¥ä¸äº¤äº’ä½“éªŒã€‚é€šè¿‡è¿™ä¸€ç³»ç»Ÿï¼Œæ—¨åœ¨æ¨åŠ¨æµ·æ´‹ç”Ÿç‰©çŸ¥è¯†çš„æ™®åŠï¼Œæå‡æµ·æ´‹ä¿æŠ¤çš„ç§‘æŠ€å‚ä¸åº¦ã€‚</p>
<h2 data-id="heading-1">äºŒã€ç³»ç»Ÿæ•ˆæœå›¾ç‰‡å±•ç¤º</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33bf396171a849d98acebb1f8eddb21e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeml3dQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764999928&amp;x-signature=8pIa1j9B6PlFSznJAOlLOdC%2FZ84%3D" alt="å›¾ç‰‡" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b3815271bad46e38ca3435beb3fe4ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeml3dQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764999928&amp;x-signature=rTuKG6ERVVp0dLAvt1L3sgVom%2FA%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰ã€æ¼”ç¤ºè§†é¢‘ and å®Œæ•´ä»£ç  and å®‰è£…</h2>
<p>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fziwupy.cn%2Fp%2FZtMoo4" target="_blank" title="https://ziwupy.cn/p/ZtMoo4" ref="nofollow noopener noreferrer">ziwupy.cn/p/ZtMoo4</a></p>
<h2 data-id="heading-3">å››ã€å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•ä»‹ç»</h2>
<p>å·ç§¯ç¥ç»ç½‘ç»œæ˜¯ä¸€ç§ä¸“é—¨ç”¨äºå¤„ç†ç½‘æ ¼çŠ¶æ•°æ®ï¼ˆå¦‚å›¾åƒï¼‰çš„æ·±åº¦å­¦ä¹ æ¶æ„ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡<strong>å·ç§¯æ ¸</strong>åœ¨è¾“å…¥æ•°æ®ä¸Šè¿›è¡Œæ»‘åŠ¨çª—å£å¼çš„â€œå·ç§¯â€æ“ä½œï¼Œä»¥è‡ªåŠ¨æå–ä»ä½çº§åˆ°é«˜çº§çš„å±‚æ¬¡åŒ–ç‰¹å¾ã€‚</p>
<p>CNNä¸»è¦ç”±ä»¥ä¸‹å…³é”®å±‚æ„æˆï¼š</p>
<ol>
<li><strong>å·ç§¯å±‚</strong>ï¼šæ˜¯CNNçš„æ ¸å¿ƒã€‚å®ƒä½¿ç”¨å¤šä¸ªå·ç§¯æ ¸åœ¨è¾“å…¥å›¾åƒä¸Šæ»‘åŠ¨ï¼Œé€šè¿‡è®¡ç®—å±€éƒ¨åŒºåŸŸçš„ç‚¹ç§¯æ¥ç”Ÿæˆç‰¹å¾å›¾ã€‚è¿™ä¸€è¿‡ç¨‹èƒ½å¤Ÿæœ‰æ•ˆæ•æ‰å›¾åƒä¸­çš„å±€éƒ¨ç‰¹å¾ï¼Œå¦‚è¾¹ç¼˜ã€è§’ç‚¹ç­‰ï¼Œå¹¶å…·æœ‰æƒå€¼å…±äº«çš„ç‰¹ç‚¹ï¼Œå¤§å¤§å‡å°‘äº†æ¨¡å‹å‚æ•°ã€‚</li>
<li><strong>æ± åŒ–å±‚</strong>ï¼šé€šå¸¸è·Ÿåœ¨å·ç§¯å±‚ä¹‹åï¼Œç”¨äºå¯¹ç‰¹å¾å›¾è¿›è¡Œä¸‹é‡‡æ ·ã€‚æœ€å¸¸ç”¨çš„æ˜¯<strong>æœ€å¤§æ± åŒ–</strong>ï¼Œå®ƒå–å±€éƒ¨åŒºåŸŸçš„æœ€å¤§å€¼ã€‚æ± åŒ–å±‚å¯ä»¥åœ¨ä¿æŒä¸»è¦ç‰¹å¾çš„åŒæ—¶ï¼Œå‡å°æ•°æ®å°ºå¯¸ï¼Œé™ä½è®¡ç®—å¤æ‚åº¦ï¼Œå¹¶å¢å¼ºæ¨¡å‹çš„å¹³ç§»ä¸å˜æ€§ã€‚</li>
<li><strong>å…¨è¿æ¥å±‚</strong>ï¼šåœ¨ç½‘ç»œçš„æœ«ç«¯ï¼Œå°†ç»è¿‡å¤šæ¬¡å·ç§¯å’Œæ± åŒ–åæå–åˆ°çš„å±•å¼€ç‰¹å¾è¿›è¡Œç»¼åˆï¼Œå¹¶æ˜ å°„åˆ°æœ€ç»ˆçš„è¾“å‡ºç±»åˆ«ä¸Šï¼Œå®Œæˆåˆ†ç±»ä»»åŠ¡ã€‚</li>
</ol>
<p>é€šè¿‡å †å è¿™äº›å±‚ï¼ŒCNNèƒ½å¤Ÿé€æ­¥ä»åŸå§‹åƒç´ ä¸­æå–å‡ºè¶Šæ¥è¶Šå¤æ‚çš„ç‰¹å¾ï¼Œæœ€ç»ˆå®ç°é«˜ç²¾åº¦çš„å›¾åƒè¯†åˆ«ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨TensorFlowå’ŒKeras APIæ„å»ºä¸€ä¸ªç®€å•çš„CNNæ¨¡å‹ï¼Œç”¨äºæ‰‹å†™æ•°å­—è¯†åˆ«ï¼ˆMNISTæ•°æ®é›†ï¼‰çš„ç¤ºä¾‹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf
<span class="hljs-keyword">from</span> tensorflow.keras <span class="hljs-keyword">import</span> datasets, layers, models

<span class="hljs-comment"># 1. åŠ è½½å¹¶é¢„å¤„ç†æ•°æ®</span>
(train_images, train_labels), (test_images, test_labels) = datasets.mnist.load_data()
<span class="hljs-comment"># å°†å›¾åƒæ•°æ®é‡å¡‘ä¸º (28, 28, 1) å¹¶å½’ä¸€åŒ–</span>
train_images = train_images.reshape((<span class="hljs-number">60000</span>, <span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>)).astype(<span class="hljs-string">'float32'</span>) / <span class="hljs-number">255</span>
test_images = test_images.reshape((<span class="hljs-number">10000</span>, <span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>)).astype(<span class="hljs-string">'float32'</span>) / <span class="hljs-number">255</span>

<span class="hljs-comment"># 2. æ„å»ºCNNæ¨¡å‹</span>
model = models.Sequential([
    <span class="hljs-comment"># ç¬¬ä¸€å·ç§¯å—</span>
    layers.Conv2D(<span class="hljs-number">32</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), activation=<span class="hljs-string">'relu'</span>, input_shape=(<span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>)),
    layers.MaxPooling2D((<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)),
    <span class="hljs-comment"># ç¬¬äºŒå·ç§¯å—</span>
    layers.Conv2D(<span class="hljs-number">64</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), activation=<span class="hljs-string">'relu'</span>),
    layers.MaxPooling2D((<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)),
    <span class="hljs-comment"># å°†ç‰¹å¾å›¾å±•å¹³ä»¥è¾“å…¥å…¨è¿æ¥å±‚</span>
    layers.Flatten(),
    <span class="hljs-comment"># å…¨è¿æ¥å±‚</span>
    layers.Dense(<span class="hljs-number">64</span>, activation=<span class="hljs-string">'relu'</span>),
    <span class="hljs-comment"># è¾“å‡ºå±‚ï¼Œ10ä¸ªç¥ç»å…ƒå¯¹åº”10ä¸ªç±»åˆ«ï¼ˆæ•°å­—0-9ï¼‰</span>
    layers.Dense(<span class="hljs-number">10</span>, activation=<span class="hljs-string">'softmax'</span>)
])

<span class="hljs-comment"># 3. ç¼–è¯‘æ¨¡å‹</span>
model.<span class="hljs-built_in">compile</span>(optimizer=<span class="hljs-string">'adam'</span>,
              loss=<span class="hljs-string">'sparse_categorical_crossentropy'</span>,
              metrics=[<span class="hljs-string">'accuracy'</span>])

<span class="hljs-comment"># 4. è®­ç»ƒæ¨¡å‹</span>
model.fit(train_images, train_labels, epochs=<span class="hljs-number">5</span>, 
          validation_data=(test_images, test_labels))

<span class="hljs-comment"># 5. è¯„ä¼°æ¨¡å‹</span>
test_loss, test_acc = model.evaluate(test_images, test_labels, verbose=<span class="hljs-number">2</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f'\næµ‹è¯•å‡†ç¡®ç‡ï¼š<span class="hljs-subst">{test_acc}</span>'</span>)
</code></pre>
<p>ä¸Šè¿°ä»£ç å®Œæ•´å±•ç¤ºäº†ä½¿ç”¨CNNè¿›è¡Œå›¾åƒåˆ†ç±»çš„æµç¨‹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åŠ è½½MNISTæ•°æ®é›†å¹¶å°†å…¶å¤„ç†æˆé€‚åˆCNNè¾“å…¥çš„æ ¼å¼ã€‚æ¥ç€ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªé¡ºåºæ¨¡å‹ï¼Œå…¶ä¸­åŒ…å«ä¸¤ä¸ªå·ç§¯-æ± åŒ–å±‚ç»„åˆï¼Œç”¨äºç‰¹å¾æå–ï¼›ä¹‹åé€šè¿‡Flattenå±‚å°†å¤šç»´ç‰¹å¾å›¾å±•å¹³ï¼Œå¹¶è¿æ¥ä¸¤ä¸ªå…¨è¿æ¥å±‚è¿›è¡Œåˆ†ç±»ã€‚æ¨¡å‹ä½¿ç”¨Adamä¼˜åŒ–å™¨å’Œç¨€ç–åˆ†ç±»äº¤å‰ç†µæŸå¤±å‡½æ•°è¿›è¡Œç¼–è¯‘ã€‚æœ€åï¼Œæˆ‘ä»¬åœ¨è®­ç»ƒé›†ä¸Šè®­ç»ƒ5ä¸ªè½®æ¬¡ï¼Œå¹¶åœ¨æµ‹è¯•é›†ä¸Šè¯„ä¼°æœ€ç»ˆæ€§èƒ½ï¼Œé€šå¸¸èƒ½è¾¾åˆ°å¾ˆé«˜çš„å‡†ç¡®ç‡ã€‚æ­¤ä»£ç æ˜¯ç†è§£CNNåº”ç”¨çš„åŸºç¡€æ¨¡æ¿ï¼Œæœ¬é¡¹ç›®çš„æµ·æ´‹ç”Ÿç‰©è¯†åˆ«ç³»ç»Ÿå³æ˜¯åœ¨æ­¤åŸºç¡€ä¸Šï¼Œä½¿ç”¨æ›´å¤æ‚çš„ç½‘ç»œç»“æ„å’Œæµ·æ´‹ç”Ÿç‰©æ•°æ®é›†è¿›è¡Œè®­ç»ƒä¸ä¼˜åŒ–çš„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯é¢è¯•ç¬¬ 34 é¢˜ï¼šäº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰â€”â€” å¿…è€ƒé«˜é¢‘é¢˜]]></title>    <link>https://juejin.cn/post/7577715145120645174</link>    <guid>https://juejin.cn/post/7577715145120645174</guid>    <pubDate>2025-11-29T05:45:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577715145120645174" data-draft-id="7577715145120628790" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯é¢è¯•ç¬¬ 34 é¢˜ï¼šäº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰â€”â€” å¿…è€ƒé«˜é¢‘é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:45:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯é¢è¯•ç¬¬ 34 é¢˜ï¼šäº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰â€”â€” å¿…è€ƒé«˜é¢‘é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:45:45.000Z" title="Sat Nov 29 2025 05:45:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸‹é¢æ˜¯<strong>å‰ç«¯é¢è¯•ç¬¬ 39 é¢˜ï¼šäº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰â€”â€” å¿…è€ƒé«˜é¢‘é¢˜</strong><br/>
æˆ‘ä¼šç»™ä½ ï¼š<strong>æœ€æ¸…æ™°ç‰ˆæœ¬ + é¢è¯•å®˜å–œæ¬¢çš„å›ç­”ç»“æ„ + å¯¹æ¯” Node ä¸æµè§ˆå™¨å·®å¼‚</strong></p>
<hr/>
<h2 data-id="heading-0">âœ… <strong>ç¬¬ 39 é¢˜ï¼šä»€ä¹ˆæ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ï¼Ÿå®ä»»åŠ¡/å¾®ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºï¼Ÿ</strong></h2>
<h3 data-id="heading-1">â­ æ ‡å‡†ç­”æ³•ï¼ˆé¢è¯•å®˜æœ€çˆ±ï¼‰</h3>
<p>â€œ<strong>äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰æ˜¯ä¸€å¥—ç”¨äºåè°ƒåŒæ­¥ä»»åŠ¡ä¸å¼‚æ­¥ä»»åŠ¡æ‰§è¡Œé¡ºåºçš„æœºåˆ¶ã€‚</strong><br/>
å®ƒå†³å®šä»£ç ã€å®šæ—¶å™¨ã€Promiseã€UI æ¸²æŸ“ç­‰åœ¨æµè§ˆå™¨æˆ– Node.js ä¸­çš„æ‰§è¡Œé¡ºåºã€‚â€</p>
<hr/>
<h2 data-id="heading-2">ğŸ§© äº‹ä»¶å¾ªç¯çš„æ ¸å¿ƒæ¦‚å¿µ</h2>
<h4 data-id="heading-3"><strong>1ï¸âƒ£ JS æ˜¯å•çº¿ç¨‹çš„</strong></h4>
<p>æ‰€ä»¥åŒæ­¥é€»è¾‘åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼š</p>
<pre><code class="hljs">åŒæ­¥ä»»åŠ¡ â†’ ç›´æ¥åœ¨ä¸»çº¿ç¨‹æ‰§è¡Œ
å¼‚æ­¥ä»»åŠ¡ â†’ æ”¾åˆ°äº‹ä»¶é˜Ÿåˆ—ï¼Œç­‰å¾…å›è°ƒ
</code></pre>
<hr/>
<h2 data-id="heading-4">ğŸ§© 2ï¸âƒ£ å®ä»»åŠ¡ï¼ˆMacroTaskï¼‰</h2>

































<table><thead><tr><th>å®ä»»åŠ¡</th><th>ä»£è¡¨</th></tr></thead><tbody><tr><td>setTimeout</td><td>å®šæ—¶å™¨</td></tr><tr><td>setInterval</td><td>å®šæ—¶å™¨</td></tr><tr><td>setImmediateï¼ˆNodeï¼‰</td><td>Node ä¸“ç”¨</td></tr><tr><td>I/O å›è°ƒ</td><td>æ–‡ä»¶/ç½‘ç»œ</td></tr><tr><td>script è„šæœ¬</td><td>æ•´ä¸ª script æ˜¯ä¸€ä¸ªå®ä»»åŠ¡</td></tr><tr><td>messageChannel</td><td>æ¸²æŸ“åçš„æ¶ˆæ¯</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-5">ğŸ§© 3ï¸âƒ£ å¾®ä»»åŠ¡ï¼ˆMicroTaskï¼‰</h2>

























<table><thead><tr><th>å¾®ä»»åŠ¡</th><th>ä»£è¡¨</th></tr></thead><tbody><tr><td>Promise.then / catch / finally</td><td/></tr><tr><td>queueMicrotask</td><td/></tr><tr><td>MutationObserver</td><td/></tr><tr><td>process.nextTickï¼ˆNode å•ç‹¬æœºåˆ¶ï¼‰</td><td/></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">ğŸ’¡ <strong>æœ€ç»ˆæ‰§è¡Œé¡ºåºï¼ˆæµè§ˆå™¨ï¼‰</strong></h2>
<p>ğŸ“Œ <strong>ä¸€æ¬¡å¾ªç¯ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> æ‰§è¡ŒåŒæ­¥ä»»åŠ¡
<span class="hljs-bullet">2.</span> æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡
<span class="hljs-bullet">3.</span> å¿…è¦æ—¶æ¸²æŸ“
<span class="hljs-bullet">4.</span> æ‰§è¡Œå®ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªä»»åŠ¡
<span class="hljs-bullet">5.</span> å›åˆ°æ­¥éª¤ 2ï¼ˆå¾ªç¯ï¼‰
</code></pre>
<h4 data-id="heading-7">â­ å…³é”®ç‚¹ï¼š</h4>
<ul>
<li><strong>å¾®ä»»åŠ¡æ°¸è¿œä¼˜å…ˆäºå®ä»»åŠ¡</strong></li>
<li><strong>æ¯æ¬¡å®ä»»åŠ¡ç»“æŸ â†’ å¿…å®šä¼šæŠŠæ‰€æœ‰å¾®ä»»åŠ¡æ¸…ç©º</strong></li>
</ul>
<hr/>
<h2 data-id="heading-8">ğŸ§ª <strong>æœ€ç»å…¸è€ƒé¢˜ï¼šæ‰§è¡Œç»“æœæ˜¯ä»€ä¹ˆï¼Ÿ</strong></h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>)

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>)
})

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>)
})

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>)
</code></pre>
<p>æ‰§è¡Œé¡ºåºï¼š</p>
<pre><code class="hljs">1
4
3
2
</code></pre>
<p>è§£é‡Šï¼š</p>
<ul>
<li>åŒæ­¥ï¼š1ã€4</li>
<li>å¾®ä»»åŠ¡ï¼š3</li>
<li>å®ä»»åŠ¡ï¼š2</li>
</ul>
<hr/>
<h2 data-id="heading-9">ğŸ¯ <strong>æµè§ˆå™¨ vs Node.js äº‹ä»¶å¾ªç¯çš„å·®å¼‚</strong></h2>
<p>é¢è¯•å¿…è€ƒï¼</p>
<h3 data-id="heading-10">âœ” æµè§ˆå™¨</h3>
<p>é¡ºåºå›ºå®šï¼š</p>
<pre><code class="hljs">åŒæ­¥ â†’ å¾®ä»»åŠ¡ â†’ æ¸²æŸ“ â†’ å®ä»»åŠ¡
</code></pre>
<hr/>
<h3 data-id="heading-11">âœ” Node.jsï¼ˆæ¯”æµè§ˆå™¨å¤æ‚ï¼‰</h3>
<p>Node æœ‰ <strong>6 ä¸ªé˜¶æ®µ</strong>ï¼š</p>
<ol>
<li>timersï¼ˆsetTimeoutï¼‰</li>
<li>I/O callbacks</li>
<li>idle / prepare</li>
<li>pollï¼ˆI/O é˜¶æ®µï¼‰</li>
<li>checkï¼ˆsetImmediateï¼‰</li>
<li>close callbacks</li>
</ol>
<p>ğŸŒŸ <strong>å¾®ä»»åŠ¡åœ¨æ¯ä¸ªé˜¶æ®µä¹‹é—´æ‰§è¡Œï¼ˆæ¯”æµè§ˆå™¨æ›´é¢‘ç¹ï¼‰</strong><br/>
ğŸŒŸ <strong>process.nextTick ä¼˜å…ˆçº§æœ€é«˜ï¼ˆç”šè‡³é«˜äºå¾®ä»»åŠ¡ï¼‰</strong></p>
<hr/>
<h2 data-id="heading-12">âœ” é¢è¯•ç»ˆæå›ç­”æ¨¡æ¿ï¼ˆæ‹¿æ»¡åˆ†ï¼‰</h2>
<blockquote>
<p>â€œäº‹ä»¶å¾ªç¯æ˜¯ä¸€å¥—æ§åˆ¶åŒæ­¥ä»»åŠ¡ã€å®ä»»åŠ¡ã€å¾®ä»»åŠ¡æ‰§è¡Œé¡ºåºçš„æœºåˆ¶ã€‚<br/>
æµè§ˆå™¨ä¸­æ‰§è¡Œé¡ºåºæ˜¯ï¼šåŒæ­¥ä»»åŠ¡ â†’ æ‰€æœ‰å¾®ä»»åŠ¡ â†’ å¿…è¦æ¸²æŸ“ â†’ ä¸€ä¸ªå®ä»»åŠ¡ â†’ å†æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡ã€‚<br/>
å¾®ä»»åŠ¡æ°¸è¿œä¼˜å…ˆäºå®ä»»åŠ¡ã€‚<br/>
Node.js çš„äº‹ä»¶å¾ªç¯æœ‰å¤šä¸ªé˜¶æ®µï¼Œä¸” process.nextTick ä¼˜å…ˆçº§æœ€é«˜ã€‚â€</p>
</blockquote>
<hr/>
<p>å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ç»§ç»­ç»™ä½ ï¼š</p>
<p>ğŸ”¥ <strong>ç¬¬ 40 é¢˜ï¼šè™šæ‹Ÿ DOM ä¸ Diff ç®—æ³•ï¼ˆå¿…è€ƒï¼‰</strong><br/>
è¦ç»§ç»­å—ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£å¯†Flexå¸ƒå±€:ä¸ºä»€ä¹ˆflex:1ä»ä¼šå¯¼è‡´å†…å®¹æº¢å‡º]]></title>    <link>https://juejin.cn/post/7577613021881253898</link>    <guid>https://juejin.cn/post/7577613021881253898</guid>    <pubDate>2025-11-29T05:53:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577613021881253898" data-draft-id="7577613021880958986" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è§£å¯†Flexå¸ƒå±€:ä¸ºä»€ä¹ˆflex:1ä»ä¼šå¯¼è‡´å†…å®¹æº¢å‡º"/> <meta itemprop="keywords" content="å‰ç«¯,CSS,flexbox"/> <meta itemprop="datePublished" content="2025-11-29T05:53:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸ä»»"/> <meta itemprop="url" content="https://juejin.cn/user/1733287136470952"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è§£å¯†Flexå¸ƒå±€:ä¸ºä»€ä¹ˆflex:1ä»ä¼šå¯¼è‡´å†…å®¹æº¢å‡º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1733287136470952/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸ä»»
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:53:02.000Z" title="Sat Nov 29 2025 05:53:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>ä»Šå¤©åœ¨è§£å†³åˆ«çš„<code>bug</code>æ—¶å‘ç°äº†ä¸ªå¾ˆå¥‡æ€ªçš„ä¸œè¥¿ï¼Œæˆ‘çš„å®¹å™¨æ˜æ˜è®¾ç½®äº†<code>flex:1</code>ä¸ºä»€ä¹ˆè¿˜ä¼šå¯¼è‡´å†…å®¹æº¢å‡ºï¼Œå¯¼è‡´æ¯”æˆ‘è®¾æƒ³çš„<code>flex:1</code>å°ºå¯¸æ¥å¾—å¤§ã€‚</p>
<p>åæ¥æ‰çŸ¥é“</p>
<p><code>æµè§ˆå™¨é»˜è®¤ä¸ºflexå®¹å™¨çš„å­å…ƒç´ è®¾ç½®äº† min-width: auto;min-height: autoï¼Œè¿™æ„å‘³ç€å­å…ƒç´ çš„æœ€å°å®½åº¦å’Œé«˜åº¦ä¸èƒ½å°äºå…¶å†…å®¹çš„å®½åº¦å’Œé«˜åº¦ã€‚</code></p>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ˜æ˜æ˜¯<code>flex:1</code>,ä½†æ˜¯ä¸ºä»€ä¹ˆæ¯”é¢„æƒ³çš„è¦å¤§äº†ã€‚</p>
<h3 data-id="heading-1">æ­£æ–‡</h3>
<p>å•å•æ–‡å­—è¯´æ˜è¿˜æ˜¯éš¾ä»¥ç†è§£ï¼Œæ¥çœ‹å›¾å’Œä»£ç å§</p>
<p>æœ‰é—®é¢˜çš„ä»£ç ï¼Œçˆ¶å…ƒç´ è®¾ç½®<code>100vw,</code>å­å…ƒç´ è®¾ç½®<code>flex:1;</code>ã€‚</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
      <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
        <span class="hljs-attr">display:</span> "<span class="hljs-attr">flex</span>",
        <span class="hljs-attr">height:</span> "<span class="hljs-attr">100vh</span>",
        <span class="hljs-attr">width:</span> "<span class="hljs-attr">100vw</span>",
        <span class="hljs-attr">gap:</span> "<span class="hljs-attr">10px</span>",
      }}
    &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
          <span class="hljs-attr">width:</span> "<span class="hljs-attr">200px</span>",
          <span class="hljs-attr">textAlign:</span> "<span class="hljs-attr">left</span>",
          <span class="hljs-attr">backgroundColor:</span> "<span class="hljs-attr">red</span>",
        }}
      &gt;</span>
        Left
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
          <span class="hljs-attr">flex:</span> <span class="hljs-attr">1</span>,
          <span class="hljs-attr">textAlign:</span> "<span class="hljs-attr">left</span>",
          <span class="hljs-attr">backgroundColor:</span> "<span class="hljs-attr">blue</span>",
        }}
      &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">section</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
            <span class="hljs-attr">height:</span> "<span class="hljs-attr">100</span>%",
            <span class="hljs-attr">width:</span> "<span class="hljs-attr">100</span>%",
            <span class="hljs-attr">overflow:</span> "<span class="hljs-attr">auto</span>",
            <span class="hljs-attr">backgroundColor:</span> "<span class="hljs-attr">lightcyan</span>",
          }}
        &gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>asdasd<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
              asdasdasdasdasdsadsadasdsadasdiuoasdgiasgdfasghdiopasdyiuskafdgiuashdasgvdsadpjnasildgsaodiasoudgasiugdasyfdgasudiyfasdhoiashdgiouasgdiu
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>asdasd<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>é¢„è®¡æ˜¯æ»šåŠ¨æ¡åªåœ¨å³è¾¹åŒºåŸŸï¼Œæ€»é¡µé¢æ²¡æœ‰æ»šåŠ¨æ¡ã€‚ä½†æ˜¯å®é™…çš„æ€»é¡µé¢æœ‰æ»šåŠ¨æ¡ï¼Œå³è¾¹åŒºåŸŸæ²¡æœ‰æ»šåŠ¨æ¡ã€‚è¿™å°±æ˜¯
<code>æµè§ˆå™¨é»˜è®¤ä¸ºflexå®¹å™¨çš„å­å…ƒç´ è®¾ç½®äº† min-width: auto;min-height: autoï¼Œè¿™æ„å‘³ç€å­å…ƒç´ çš„æœ€å°å®½åº¦å’Œé«˜åº¦ä¸èƒ½å°äºå…¶å†…å®¹çš„å®½åº¦å’Œé«˜åº¦</code>ï¼ŒæŠŠå³ä¾§çš„å†…å®¹æ’‘å¤§äº†ï¼Œå¯¼è‡´å†…å®¹æº¢å‡ºäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0608116e8fc46f4bb8c2f1c0158d97e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y245Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765000381&amp;x-signature=smbjQ235NvW7azssYJg40Lfe7Gk%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚ä½•è§£å†³å‘¢</p>
<ol>
<li>è®¾ç½® overflowï¼Œåˆ©ç”¨BFC</li>
<li>è®¾ç½® min-width: 0</li>
</ol>
<p>ä»»æ„ä½¿ç”¨ä¸€ç§éƒ½å¯ä»¥ï¼Œæ˜¯æˆ‘ä»¬é¢„è®¡çš„æƒ…å†µäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff29342dad0447b89238b24ad5216cc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y245Lu7:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765000381&amp;x-signature=j7vhR5tn4BDMU%2BB0oeErJ7IXc6w%3D" alt="image.png" loading="lazy"/></p>
<p>ä¿®æ”¹åä»£ç </p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
      <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
        <span class="hljs-attr">display:</span> "<span class="hljs-attr">flex</span>",
        <span class="hljs-attr">height:</span> "<span class="hljs-attr">100vh</span>",
        <span class="hljs-attr">width:</span> "<span class="hljs-attr">100vw</span>",
        <span class="hljs-attr">gap:</span> "<span class="hljs-attr">10px</span>",
      }}
    &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
          <span class="hljs-attr">width:</span> "<span class="hljs-attr">200px</span>",
          <span class="hljs-attr">textAlign:</span> "<span class="hljs-attr">left</span>",
          <span class="hljs-attr">backgroundColor:</span> "<span class="hljs-attr">red</span>",
        }}
      &gt;</span>
        Left
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
          <span class="hljs-attr">flex:</span> <span class="hljs-attr">1</span>,
          <span class="hljs-attr">textAlign:</span> "<span class="hljs-attr">left</span>",
          <span class="hljs-attr">backgroundColor:</span> "<span class="hljs-attr">blue</span>",
          <span class="hljs-attr">minWidth:</span> <span class="hljs-attr">0</span>, //<span class="hljs-attr">å…³é”®</span>
        }}
      &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">section</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
            <span class="hljs-attr">height:</span> "<span class="hljs-attr">100</span>%",
            <span class="hljs-attr">width:</span> "<span class="hljs-attr">100</span>%",
            <span class="hljs-attr">overflow:</span> "<span class="hljs-attr">auto</span>",
            <span class="hljs-attr">backgroundColor:</span> "<span class="hljs-attr">lightcyan</span>",
          }}
        &gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>asdasd<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
              asdasdasdasdasdsadsadasdsadasdiuoasdgiasgdfasghdiopasdyiuskafdgiuashdasgvdsadpjnasildgsaodiasoudgasiugdasyfdgasudiyfasdhoiashdgiouasgdiu
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>asdasd<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-2">ç»“è¯­</h3>
<p>æœ‰å…´è¶£çš„å¯ä»¥å»è¯•è¯•</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[javascriptæ–°è¿›å±•ä½ å…³æ³¨äº†å—ï¼šTC39 ä¸œäº¬ä¼šè®®å¸¦æ¥äº”å¤§æ–°ç‰¹æ€§]]></title>    <link>https://juejin.cn/post/7577612585845194761</link>    <guid>https://juejin.cn/post/7577612585845194761</guid>    <pubDate>2025-11-29T06:00:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577612585845194761" data-draft-id="7577675494067011610" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="javascriptæ–°è¿›å±•ä½ å…³æ³¨äº†å—ï¼šTC39 ä¸œäº¬ä¼šè®®å¸¦æ¥äº”å¤§æ–°ç‰¹æ€§"/> <meta itemprop="keywords" content="JavaScript"/> <meta itemprop="datePublished" content="2025-11-29T06:00:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´"/> <meta itemprop="url" content="https://juejin.cn/user/2175258804632332"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            javascriptæ–°è¿›å±•ä½ å…³æ³¨äº†å—ï¼šTC39 ä¸œäº¬ä¼šè®®å¸¦æ¥äº”å¤§æ–°ç‰¹æ€§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2175258804632332/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¹Ÿæ— é£é›¨ä¹Ÿé›¾æ™´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T06:00:45.000Z" title="Sat Nov 29 2025 06:00:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸Šå‘¨ï¼ŒJavaScript è¯­è¨€çš„æŒèˆµè€…ä»¬é½èšä¸œäº¬ã€‚åœ¨ Sony Interactive Entertainment çš„ä¸»æŒä¸‹ï¼ŒEcma å›½é™… TC39 å§”å‘˜ä¼šå¬å¼€äº†ç¬¬ 104 æ¬¡å…¨ä½“ä¼šè®®ï¼Œä¸€ç³»åˆ—å›´ç»• <strong>è¿­ä»£å™¨ï¼ˆIteratorï¼‰</strong> å’Œ <strong>Promise</strong> çš„ææ¡ˆå–å¾—äº†é‡è¦è¿›å±•ã€‚è¿™äº›æ–°ç‰¹æ€§å°†è®© JavaScript å¼€å‘è€…å†™å‡ºæ›´ç®€æ´ã€æ›´å‡½æ•°å¼çš„ä»£ç ã€‚</p>
<p>è®©æˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹è¿™äº›å³å°†æ”¹å˜ä½ ç¼–ç æ–¹å¼çš„æ–°ç‰¹æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-0">ç§‘æ™®ï¼šTC39 ä¸ææ¡ˆæµç¨‹</h2>
<p>åœ¨æ·±å…¥äº†è§£æ–°ç‰¹æ€§ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å¿«é€Ÿäº†è§£ä¸€ä¸‹å®ƒä»¬èƒŒåçš„ç»„ç»‡å’Œæµç¨‹ã€‚</p>
<p><strong>TC39 æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p>
<p>TC39 (Technical Committee 39) æ˜¯ Ecma International æ——ä¸‹çš„æŠ€æœ¯å§”å‘˜ä¼šï¼Œä¸“é—¨è´Ÿè´£ ECMAScript æ ‡å‡†ï¼ˆå³ JavaScript çš„è§„èŒƒï¼‰çš„åˆ¶å®šå’Œç»´æŠ¤ã€‚å…¶æˆå‘˜ç”±ä¸»æµæµè§ˆå™¨å‚å•†ï¼ˆå¦‚ Google, Mozilla, Apple, Microsoftï¼‰ä»¥åŠå…¶ä»–å¯¹ Web æŠ€æœ¯æœ‰å½±å“åŠ›çš„ç§‘æŠ€å…¬å¸å’Œä¸“å®¶ç»„æˆã€‚</p>
<p><strong>ææ¡ˆå¦‚ä½•æˆä¸ºæ ‡å‡†ï¼Ÿ</strong></p>
<p>ä¸€ä¸ªæ–°ç‰¹æ€§ä»æå‡ºåˆ°æœ€ç»ˆè¿›å…¥æ ‡å‡†ï¼Œé€šå¸¸éœ€è¦ç»å† 5 ä¸ªé˜¶æ®µï¼ˆThe TC39 Processï¼‰ï¼š</p>
<ul>
<li><strong>Stage 0 (Strawman - ç¨»è‰äºº)</strong>: ä»»ä½•æƒ³æ³•æˆ–å»ºè®®ï¼Œç”¨äºå¼€å¯è®¨è®ºã€‚</li>
<li><strong>Stage 1 (Proposal - ææ¡ˆ)</strong>: ç¡®å®šé—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼Œå±•ç¤ºæ½œåœ¨çš„ API å½¢å¼ã€‚</li>
<li><strong>Stage 2 (Draft - è‰ç¨¿)</strong>: å…·ä½“çš„è¯­æ³•å’Œè¯­ä¹‰æè¿°ï¼Œæ­¤æ—¶ç‰¹æ€§å·²åŸºæœ¬å®šå‹ã€‚</li>
<li><strong>Stage 3 (Candidate - å€™é€‰)</strong>: è§„èŒƒæ–‡æœ¬å·²å®Œæˆï¼Œéœ€è¦æµè§ˆå™¨å‚å•†çš„å®ç°åé¦ˆå’Œç”¨æˆ·æµ‹è¯•ã€‚</li>
<li><strong>Stage 4 (Finished - å®Œæˆ)</strong>: è‡³å°‘æœ‰ä¸¤ä¸ªç‹¬ç«‹çš„æµè§ˆå™¨å®ç°å¹¶é€šè¿‡äº†æµ‹è¯•ï¼Œå‡†å¤‡çº³å…¥ä¸‹ä¸€ç‰ˆ ECMAScript æ ‡å‡†ã€‚</li>
</ul>
<p><strong>å¤§æ¦‚éœ€è¦å¤šä¹…ï¼Ÿ</strong></p>
<p>è¿™ä¸ªè¿‡ç¨‹æ²¡æœ‰å›ºå®šçš„æ—¶é—´è¡¨ï¼Œå–å†³äºææ¡ˆçš„å¤æ‚åº¦å’Œäº‰è®®ç¨‹åº¦ï¼š</p>
<ul>
<li><strong>ç®€å•ç‰¹æ€§</strong>ï¼šå¯èƒ½åœ¨ 1-2 å¹´å†…èµ°å®Œæµç¨‹ã€‚</li>
<li><strong>å¤æ‚ç‰¹æ€§</strong>ï¼šå¯èƒ½éœ€è¦åœ¨ Stage 2 æˆ– Stage 3 åœç•™æ•°å¹´ï¼ˆä¾‹å¦‚ Temporal ææ¡ˆï¼‰ã€‚</li>
</ul>
<p>é€šå¸¸æ¥è¯´ï¼Œä¸€æ—¦ææ¡ˆè¿›å…¥ <strong>Stage 3</strong>ï¼Œå°±æ„å‘³ç€å®ƒææœ‰å¯èƒ½åœ¨ä¸ä¹…çš„å°†æ¥æˆä¸ºæ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œå„å¤§æµè§ˆå™¨ä¹Ÿä¼šå¼€å§‹é€æ­¥æ”¯æŒã€‚</p>
<hr/>
<h2 data-id="heading-1">1. Iterator Sequencingï¼ˆè¿­ä»£å™¨åºåˆ—åŒ–ï¼‰â€” Stage 3</h2>
<p><strong>ææ¡ˆåœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftc39%2Fproposal-iterator-sequencing" target="_blank" title="https://github.com/tc39/proposal-iterator-sequencing" ref="nofollow noopener noreferrer">proposal-iterator-sequencing</a></p>
<h3 data-id="heading-2">è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3>
<p>ä½ æ˜¯å¦æ›¾ç»éœ€è¦æŠŠå¤šä¸ªè¿­ä»£å™¨"ä¸²è”"èµ·æ¥ï¼Œå½“ä½œä¸€ä¸ªæ¥ç”¨ï¼Ÿåœ¨ä»¥å‰ï¼Œä½ å¾—ç”¨ç”Ÿæˆå™¨å‡½æ•°é…åˆ <code>yield*</code> æ¥å®ç°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">lows</span> = Iterator.from([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])<span class="hljs-comment">;</span>
let <span class="hljs-attr">highs</span> = Iterator.from([<span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>])<span class="hljs-comment">;</span>
â€‹
// ä»¥å‰çš„å†™æ³•ï¼Œç•¥æ˜¾ç¹ç
let <span class="hljs-attr">combined</span> = function* () {
 Â yield* lows<span class="hljs-comment">;</span>
 Â yield* highs<span class="hljs-comment">;</span>
}()<span class="hljs-comment">;</span>
â€‹
Array.from(combined)<span class="hljs-comment">; // [0, 1, 2, 3, 6, 7, 8, 9]</span>
</code></pre>
<h3 data-id="heading-3">æ–°å†™æ³•</h3>
<p>ç°åœ¨åªéœ€ä¸€è¡Œï¼š</p>
<pre><code class="hljs language-ini" lang="ini">let <span class="hljs-attr">combined</span> = Iterator.concat(lows, highs)<span class="hljs-comment">;</span>
Array.from(combined)<span class="hljs-comment">; // [0, 1, 2, 3, 6, 7, 8, 9]</span>
â€‹
// è¿˜å¯ä»¥åœ¨ä¸­é—´æ’å…¥å…¶ä»–å€¼
let <span class="hljs-attr">digits</span> = Iterator.concat(lows, [<span class="hljs-number">4</span>, <span class="hljs-number">5</span>], highs)<span class="hljs-comment">;</span>
Array.from(digits)<span class="hljs-comment">; // [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span>
</code></pre>
<p><code>Iterator.concat()</code> æ¥å—å¤šä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œæƒ°æ€§åœ°æŒ‰é¡ºåºäº§å‡ºæ‰€æœ‰å€¼ã€‚è¿™ä¸ä»…ä»£ç æ›´ç®€æ´ï¼Œè€Œä¸”å› ä¸ºæ˜¯æƒ°æ€§æ±‚å€¼ï¼Œå¤„ç†å¤§æ•°æ®é›†æ—¶å†…å­˜æ•ˆç‡ä¹Ÿæ›´é«˜ã€‚</p>
<hr/>
<h2 data-id="heading-4">2. Await Dictionary of Promisesï¼ˆPromise å­—å…¸ç­‰å¾…ï¼‰â€” Stage 1</h2>
<p><strong>ææ¡ˆåœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftc39%2Fproposal-await-dictionary" target="_blank" title="https://github.com/tc39/proposal-await-dictionary" ref="nofollow noopener noreferrer">proposal-await-dictionary</a></p>
<h3 data-id="heading-5">è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3>
<p>å½“ä½ éœ€è¦å¹¶å‘ç­‰å¾…å¤šä¸ª Promise æ—¶ï¼Œ<code>Promise.all</code> è¿”å›çš„æ˜¯æ•°ç»„ï¼Œä½ å¾—é ä¸‹æ ‡æ¥å–å€¼ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[shape, color, mass]</span> = await Promise<span class="hljs-selector-class">.all</span>([
 Â getShape(),
 Â <span class="hljs-built_in">getColor</span>(),
 Â <span class="hljs-built_in">getMass</span>(),
]);
<span class="hljs-comment">// é¡ºåºé”™äº†ï¼Ÿå¾ˆå®¹æ˜“å‡º bug</span>
</code></pre>
<h3 data-id="heading-6">æ–°å†™æ³•</h3>
<p>ä½¿ç”¨ <code>Promise.allKeyed()</code>ï¼Œç”¨å¯¹è±¡çš„é”®æ¥å‘½åä½ çš„ç»“æœï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const { shape, <span class="hljs-attribute">color</span>, mass } = await Promise<span class="hljs-selector-class">.allKeyed</span>({
 Â shape: getShape(),
 Â <span class="hljs-attribute">color</span>: <span class="hljs-built_in">getColor</span>(),
 Â mass: <span class="hljs-built_in">getMass</span>(),
});
<span class="hljs-comment">// å†ä¹Ÿä¸ç”¨æ‹…å¿ƒé¡ºåºé—®é¢˜äº†ï¼</span>
</code></pre>
<p>è¯¥ææ¡ˆè¿˜æ”¯æŒ <code>Promise.allSettledKeyed()</code>ï¼Œç”¨äºå¤„ç†å¯èƒ½å¤±è´¥çš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">results</span> = await Promise.allSettledKeyed({
 Â shape: getShape(),
 Â color: getColor(),
 Â mass: getMass(),
})<span class="hljs-comment">;</span>
â€‹
if (<span class="hljs-attr">results.shape.status</span> === <span class="hljs-string">"fulfilled"</span>) {
 Â console.log(results.shape.value)<span class="hljs-comment">;</span>
} else {
 Â console.error(results.shape.reason)<span class="hljs-comment">;</span>
}
</code></pre>
<p>è¿™ä¸ª API è®¾è®¡æœ‰æ„ä¸ <code>Iterator.zipKeyed()</code> ä¿æŒä¸€è‡´ï¼Œä½“ç°äº† TC39 åœ¨è¯­è¨€è®¾è®¡ä¸Šçš„ç³»ç»Ÿæ€§æ€è€ƒã€‚</p>
<hr/>
<h2 data-id="heading-7">3. Joint Iterationï¼ˆè”åˆè¿­ä»£ï¼‰â€” Stage 2.7</h2>
<p><strong>ææ¡ˆåœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftc39%2Fproposal-joint-iteration" target="_blank" title="https://github.com/tc39/proposal-joint-iteration" ref="nofollow noopener noreferrer">proposal-joint-iteration</a></p>
<h3 data-id="heading-8">è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3>
<p>Python å¼€å‘è€…å¯¹ <code>zip()</code> å‡½æ•°å†ç†Ÿæ‚‰ä¸è¿‡äº†â€”â€”å®ƒèƒ½æŠŠå¤šä¸ªåºåˆ—"æ‹‰é“¾å¼"åœ°ç»„åˆåœ¨ä¸€èµ·ã€‚JavaScript ä¸€ç›´ç¼ºå°‘è¿™ä¸ªåŠŸèƒ½ã€‚</p>
<h3 data-id="heading-9">æ–°å†™æ³•</h3>
<p><code>Iterator.zip()</code> å’Œ <code>Iterator.zipKeyed()</code> å¡«è¡¥äº†è¿™ä¸ªç©ºç™½ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// ä½ç½®å¯¹åº”çš„ç»„åˆ</span>
Array.<span class="hljs-keyword">from</span>(<span class="hljs-built_in">Iterator</span>.<span class="hljs-title function_ invoke__">zip</span>([
  [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>],
  [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
]))
<span class="hljs-comment">// ç»“æœ: [[0, 3], [1, 4], [2, 5]]</span>
â€‹
<span class="hljs-comment">// ç”¨é”®åç»„åˆ</span>
<span class="hljs-built_in">Iterator</span>.<span class="hljs-title function_ invoke__">zipKeyed</span>({
 <span class="hljs-attr">Â a</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>],
 <span class="hljs-attr">Â b</span>: [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>],
 <span class="hljs-attr">Â c</span>: [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>],
}).<span class="hljs-title function_ invoke__">toArray</span>()
<span class="hljs-comment">// ç»“æœ: [</span>
<span class="hljs-comment">// Â  { a: 0, b: 3, c: 7 },</span>
<span class="hljs-comment">// Â  { a: 1, b: 4, c: 8 },</span>
<span class="hljs-comment">// Â  { a: 2, b: 5, c: 9 }</span>
<span class="hljs-comment">// ]</span>
</code></pre>
<p>è¿˜æ”¯æŒä¸‰ç§æ¨¡å¼æ¥å¤„ç†é•¿åº¦ä¸ç­‰çš„è¿­ä»£å™¨ï¼š</p>
<ul>
<li><code>mode: 'shortest'</code>ï¼ˆé»˜è®¤ï¼‰ï¼šæœ€çŸ­çš„è¿­ä»£å™¨è€—å°½æ—¶åœæ­¢</li>
<li><code>mode: 'longest'</code>ï¼šæœ€é•¿çš„è¿­ä»£å™¨è€—å°½æ—¶åœæ­¢ï¼Œå¯ä»¥æŒ‡å®šå¡«å……å€¼</li>
<li><code>mode: 'strict'</code>ï¼šå¦‚æœé•¿åº¦ä¸ç­‰åˆ™æŠ›å‡ºé”™è¯¯</li>
</ul>
<pre><code class="hljs language-php" lang="php"><span class="hljs-built_in">Iterator</span>.<span class="hljs-title function_ invoke__">zipKeyed</span>({
 <span class="hljs-attr">Â a</span>: [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>],
 <span class="hljs-attr">Â b</span>: [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>],
 <span class="hljs-attr">Â c</span>: [<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>],
}, {
 <span class="hljs-attr">Â mode</span>: <span class="hljs-string">'longest'</span>,
 <span class="hljs-attr">Â padding</span>: { <span class="hljs-attr">c</span>: <span class="hljs-number">10</span> },
}).<span class="hljs-title function_ invoke__">toArray</span>()
<span class="hljs-comment">// ç»“æœåŒ…å«: { a: undefined, b: 6, c: 10 }</span>
</code></pre>
<hr/>
<h2 data-id="heading-10">4. Iterator Joinï¼ˆè¿­ä»£å™¨è¿æ¥ï¼‰â€” æ–°ææ¡ˆ</h2>
<p><strong>ææ¡ˆåœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftc39%2Fproposal-iterator-join" target="_blank" title="https://github.com/tc39/proposal-iterator-join" ref="nofollow noopener noreferrer">proposal-iterator-join</a></p>
<h3 data-id="heading-11">è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3>
<p><code>Array.prototype.join()</code> èƒ½æŠŠæ•°ç»„å…ƒç´ ç”¨åˆ†éš”ç¬¦è¿æ¥æˆå­—ç¬¦ä¸²ã€‚ä½†å¦‚æœä½ æœ‰ä¸€ä¸ªè¿­ä»£å™¨å‘¢ï¼Ÿç°åœ¨ä½ å¾—å…ˆè½¬æˆæ•°ç»„ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">myIterator.toArray().<span class="hljs-keyword">join</span>(<span class="hljs-string">', '</span>) <span class="hljs-comment">// å…ˆå…¨éƒ¨åŠ è½½åˆ°å†…å­˜</span>
</code></pre>
<h3 data-id="heading-12">æ–°å†™æ³•</h3>
<p><code>Iterator.prototype.join()</code> è®©ä½ ç›´æ¥åœ¨è¿­ä»£å™¨ä¸Šæ“ä½œï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">Iterator.<span class="hljs-keyword">from</span>([<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>]).<span class="hljs-keyword">join</span>(<span class="hljs-string">', '</span>)
<span class="hljs-comment">// ç»“æœ: "a, b, c"</span>
</code></pre>
<p>è¿™å¯¹äºå¤„ç†å¤§å‹æˆ–æ— é™åºåˆ—ï¼ˆåªå–éƒ¨åˆ†ï¼‰æ—¶ç‰¹åˆ«æœ‰ç”¨ï¼Œé¿å…äº†ä¸å¿…è¦çš„å†…å­˜åˆ†é…ã€‚</p>
<hr/>
<h2 data-id="heading-13">5. Typed Array Find Withinï¼ˆç±»å‹æ•°ç»„èŒƒå›´æŸ¥æ‰¾ï¼‰</h2>
<h3 data-id="heading-14">è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h3>
<p>ç°æœ‰çš„ <code>TypedArray.prototype.indexOf()</code> åªèƒ½ä»æ•°ç»„å¼€å¤´æˆ–æŒ‡å®šä½ç½®å‘åæœç´¢ã€‚å½“ä½ éœ€è¦åœ¨ç‰¹å®šèŒƒå›´å†…æŸ¥æ‰¾æ—¶ï¼Œç°æœ‰ API ä¸å¤Ÿçµæ´»ã€‚</p>
<h3 data-id="heading-15">æ–°èƒ½åŠ›</h3>
<p>è¿™ä¸ªææ¡ˆä¸º TypedArray æ·»åŠ äº†åœ¨æŒ‡å®šèŒƒå›´å†…è¿›è¡ŒæŸ¥æ‰¾çš„èƒ½åŠ›ï¼Œè®©äºŒè¿›åˆ¶æ•°æ®å¤„ç†æ›´åŠ é«˜æ•ˆã€‚è¿™å¯¹äºå¤„ç†éŸ³è§†é¢‘æ•°æ®ã€WebGL ç¼“å†²åŒºã€ä»¥åŠå…¶ä»–éœ€è¦ç²¾ç¡®æ§åˆ¶æœç´¢èŒƒå›´çš„åœºæ™¯éå¸¸æœ‰ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-16">è¿­ä»£å™¨ç”Ÿæ€çš„å®Œå–„</h2>
<p>å¦‚æœä½ ä¸€ç›´å…³æ³¨ TC39 çš„åŠ¨æ€ï¼Œä½ ä¼šå‘ç°è¿™æ¬¡ä¼šè®®æ¨è¿›çš„ææ¡ˆæœ‰ä¸€ä¸ªå…±åŒä¸»é¢˜ï¼š<strong>å®Œå–„ JavaScript çš„è¿­ä»£å™¨ç”Ÿæ€</strong>ã€‚</p>



































<table><thead><tr><th>ææ¡ˆ</th><th>åŠŸèƒ½</th><th>çŠ¶æ€</th></tr></thead><tbody><tr><td>Iterator Helpers</td><td>map, filter, take, drop ç­‰</td><td>âœ… Stage 4ï¼ˆå·²æ ‡å‡†åŒ–ï¼‰</td></tr><tr><td>Iterator Sequencing</td><td>concat</td><td>Stage 3</td></tr><tr><td>Joint Iteration</td><td>zip, zipKeyed</td><td>Stage 2.7</td></tr><tr><td>Iterator Join</td><td>join</td><td>æ–°ææ¡ˆ</td></tr><tr><td>Await Dictionary</td><td>Promise.allKeyed</td><td>Stage 1</td></tr></tbody></table>
<hr/>
<p><em>å‚è€ƒé“¾æ¥ï¼š</em></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftc39" target="_blank" title="https://github.com/tc39" ref="nofollow noopener noreferrer">TC39 GitHub</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftc39%2Fproposals" target="_blank" title="https://github.com/tc39/proposals" ref="nofollow noopener noreferrer">TC39 Proposals è¿½è¸ª</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftc39%2Fagendas" target="_blank" title="https://github.com/tc39/agendas" ref="nofollow noopener noreferrer">TC39 ä¼šè®®è®®ç¨‹</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å® ç‰©è¯†åˆ«ç³»ç»Ÿã€‘Python+TensorFlow+Vue3+Django+äººå·¥æ™ºèƒ½+æ·±åº¦å­¦ä¹ +å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•]]></title>    <link>https://juejin.cn/post/7577653509862178866</link>    <guid>https://juejin.cn/post/7577653509862178866</guid>    <pubDate>2025-11-29T06:01:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577653509862178866" data-draft-id="7577653509862162482" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å® ç‰©è¯†åˆ«ç³»ç»Ÿã€‘Python+TensorFlow+Vue3+Django+äººå·¥æ™ºèƒ½+æ·±åº¦å­¦ä¹ +å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•"/> <meta itemprop="keywords" content="å›¾åƒè¯†åˆ«,äººå·¥æ™ºèƒ½,æ·±åº¦å­¦ä¹ "/> <meta itemprop="datePublished" content="2025-11-29T06:01:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ziwu"/> <meta itemprop="url" content="https://juejin.cn/user/607373397353726"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å® ç‰©è¯†åˆ«ç³»ç»Ÿã€‘Python+TensorFlow+Vue3+Django+äººå·¥æ™ºèƒ½+æ·±åº¦å­¦ä¹ +å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/607373397353726/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ziwu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T06:01:06.000Z" title="Sat Nov 29 2025 06:01:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ä»‹ç»</h2>
<p>å® ç‰©è¯†åˆ«ç³»ç»Ÿï¼Œæœ¬ç³»ç»ŸåŸºäºTensorFlowæ¡†æ¶ï¼Œé‡‡ç”¨å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ç®—æ³•ï¼Œæ„å»ºäº†ä¸€ä¸ªèƒ½å¤Ÿè¯†åˆ«37ç§å¸¸è§å® ç‰©å“ç§çš„æ™ºèƒ½è¯†åˆ«ç³»ç»Ÿã€‚æ‰€ä½¿ç”¨çš„æ•°æ®é›†æ¶µç›–äº†å¤šä¸ªçŒ«çŠ¬å“ç§ï¼Œä¾‹å¦‚é˜¿æ¯”è¥¿å°¼äºšçŒ«ã€å¸ƒå¶çŒ«ã€æŸ´çŠ¬ã€å“ˆå£«å¥‡ç­‰ã€‚ç»è¿‡å¤šè½®è¿­ä»£è®­ç»ƒï¼Œæœ€ç»ˆå¾—åˆ°äº†è¯†åˆ«å‡†ç¡®ç‡è¾ƒé«˜çš„é¢„æµ‹æ¨¡å‹ï¼Œå¹¶éƒ¨ç½²äºWebç«¯å®ç°å¯è§†åŒ–äº¤äº’ã€‚</p>
<p><strong>å‰ç«¯</strong>: Vue3ã€Element Plus</p>
<p><strong>åç«¯</strong>ï¼šDjango</p>
<p><strong>ç®—æ³•</strong>ï¼šTensorFlowã€å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•</p>
<p><strong>å…·ä½“åŠŸèƒ½</strong>ï¼š</p>
<ol>
<li>ç³»ç»Ÿåˆ†ä¸ºç®¡ç†å‘˜å’Œç”¨æˆ·ä¸¤ä¸ªè§’è‰²ï¼Œç™»å½•åæ ¹æ®è§’è‰²æ˜¾ç¤ºå…¶å¯è®¿é—®çš„é¡µé¢æ¨¡å—ã€‚</li>
<li>ç™»å½•ç³»ç»Ÿåå¯å‘å¸ƒã€æŸ¥çœ‹ã€ç¼–è¾‘æ–‡ç« ï¼Œåˆ›å»ºæ–‡ç« åŠŸèƒ½ä¸­é›†æˆäº†markdownç¼–è¾‘å™¨ï¼Œå¯å¯¹æ–‡ç« è¿›è¡Œç¼–è¾‘ã€‚</li>
<li>åœ¨å›¾åƒè¯†åˆ«åŠŸèƒ½ä¸­ï¼Œç”¨æˆ·ä¸Šä¼ å›¾ç‰‡åï¼Œç‚¹å‡»è¯†åˆ«ï¼Œå¯è¾“å‡ºå…¶è¯†åˆ«ç»“æœå’Œç½®ä¿¡åº¦</li>
<li>åŸºäºEchartä»¥æŸ±çŠ¶å›¾å½¢å¼è¾“å‡ºæ‰€æœ‰ç§ç±»å¯¹åº”çš„ç½®ä¿¡åº¦åˆ†å¸ƒå›¾ã€‚</li>
<li>åœ¨æ™ºèƒ½é—®ç­”åŠŸèƒ½æ¨¡å—ä¸­ï¼šç”¨æˆ·è¾“å…¥é—®é¢˜ï¼Œåå°é€šè¿‡å¯¹æ¥Deepseekæ¥å£å®ç°æ™ºèƒ½é—®ç­”åŠŸèƒ½ã€‚</li>
<li>ç®¡ç†å‘˜å¯åœ¨ç”¨æˆ·ç®¡ç†æ¨¡å—ä¸­ï¼Œå¯¹ç”¨æˆ·è´¦æˆ·è¿›è¡Œç®¡ç†å’Œç¼–è¾‘ã€‚</li>
</ol>
<p><strong>é€‰é¢˜èƒŒæ™¯ä¸æ„ä¹‰</strong>ï¼š
éšç€ç¤¾ä¼šç»æµå‘å±•ä¸å®¶åº­ç»“æ„å˜åŒ–ï¼Œå® ç‰©åœ¨äººä»¬ç”Ÿæ´»ä¸­çš„è§’è‰²æ—¥ç›Šé‡è¦ï¼Œå® ç‰©ç›¸å…³ç§‘æŠ€åº”ç”¨éœ€æ±‚æŒç»­å¢é•¿ã€‚ç„¶è€Œï¼Œæ™®é€šé¥²å…»è€…å¾€å¾€éš¾ä»¥å‡†ç¡®è¾¨åˆ«å® ç‰©å“ç§ï¼Œå¯¼è‡´åœ¨é¥²å…»ã€åŒ»ç–—åŠäº¤æµè¿‡ç¨‹ä¸­å­˜åœ¨ä¿¡æ¯éšœç¢ã€‚å°½ç®¡äººå·¥æ™ºèƒ½æŠ€æœ¯å·²åœ¨å›¾åƒè¯†åˆ«é¢†åŸŸå–å¾—æ˜¾è‘—è¿›å±•ï¼Œä½†ç°æœ‰åº”ç”¨å¤šé›†ä¸­äºäººè„¸æˆ–é€šç”¨ç‰©ä½“è¯†åˆ«ï¼Œä¸“é—¨é’ˆå¯¹å¤šå“ç§å® ç‰©ã€å…¼å…·å®ç”¨æ€§ä¸äº¤äº’æ€§çš„è¯†åˆ«ç³»ç»Ÿä»è¾ƒä¸ºç¼ºä¹ã€‚</p>
<p>åŸºäºæ­¤èƒŒæ™¯ï¼Œæœ¬è¯¾é¢˜æ—¨åœ¨å¼€å‘ä¸€ä¸ªåŸºäºTensorFlowä¸å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰çš„æ™ºèƒ½å® ç‰©è¯†åˆ«ç³»ç»Ÿã€‚è¯¥ç³»ç»Ÿèƒ½å¤Ÿå¯¹åŒ…æ‹¬é˜¿æ¯”è¥¿å°¼äºšçŒ«ã€å¸ƒå¶çŒ«ã€æŸ´çŠ¬ã€å“ˆå£«å¥‡ç­‰åœ¨å†…çš„37ç§å¸¸è§çŒ«çŠ¬å“ç§è¿›è¡Œé«˜æ•ˆè¯†åˆ«ï¼Œå¹¶ç»“åˆVue3ä¸Djangoæ¡†æ¶æ„å»ºå®Œæ•´çš„Webåº”ç”¨å¹³å°ã€‚ç³»ç»Ÿä¸ä»…æä¾›é«˜å‡†ç¡®ç‡çš„å›¾åƒè¯†åˆ«åŠŸèƒ½ï¼Œè¿˜é›†æˆæ–‡ç« ç®¡ç†ã€æ•°æ®å¯è§†åŒ–åŠæ™ºèƒ½é—®ç­”ç­‰å¤šç§æœåŠ¡ï¼Œä»è€Œä¸ºå® ç‰©çˆ±å¥½è€…æ­å»ºä¸€ä¸ªé›†çŸ¥è¯†äº¤æµä¸æ™ºèƒ½è¯†åˆ«äºä¸€ä½“çš„å®ç”¨å·¥å…·ï¼Œæœ‰æ•ˆå¡«è¡¥äº†ç»†åˆ†é¢†åŸŸçš„æŠ€æœ¯åº”ç”¨ç©ºç™½ã€‚</p>
<h2 data-id="heading-1">äºŒã€ç³»ç»Ÿæ•ˆæœå›¾ç‰‡å±•ç¤º</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5309626aa721415392a63532cac34e0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeml3dQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765000865&amp;x-signature=nuTSby6du1SfS9OG%2B5jgRDxodfQ%3D" alt="å›¾ç‰‡" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9deb0614ee5546feb5728bf50280f52d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeml3dQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765000865&amp;x-signature=Y%2FqOwhsGwlHbbWxH1iXWBRrRuSQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰ã€æ¼”ç¤ºè§†é¢‘ and å®Œæ•´ä»£ç  and å®‰è£…</h2>
<p>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fziwupy.cn%2Fp%2FnTpUXb" target="_blank" title="https://ziwupy.cn/p/nTpUXb" ref="nofollow noopener noreferrer">ziwupy.cn/p/nTpUXb</a></p>
<h2 data-id="heading-3">å››ã€å·ç§¯ç¥ç»ç½‘ç»œç®—æ³•ä»‹ç»</h2>
<p>å·ç§¯ç¥ç»ç½‘ç»œæ˜¯ä¸€ç§ä¸“ä¸ºå¤„ç†ç½‘æ ¼çŠ¶æ•°æ®ï¼ˆå¦‚å›¾åƒï¼‰è€Œè®¾è®¡çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡<strong>å·ç§¯å±‚</strong>è‡ªåŠ¨æå–å›¾åƒä¸­çš„ç©ºé—´å±‚æ¬¡ç‰¹å¾ã€‚</p>
<p>ä¸€ä¸ªå…¸å‹çš„CNNåŒ…å«ä»¥ä¸‹å…³é”®å±‚ï¼š</p>
<ul>
<li><strong>å·ç§¯å±‚</strong>ï¼šä½¿ç”¨å¤šä¸ªå¯å­¦ä¹ çš„æ»¤æ³¢å™¨ï¼ˆå·ç§¯æ ¸ï¼‰åœ¨è¾“å…¥å›¾åƒä¸Šæ»‘åŠ¨ï¼Œé€šè¿‡è®¡ç®—å±€éƒ¨åŒºåŸŸçš„ç‚¹ç§¯æ¥æå–ç‰¹å¾ï¼ˆå¦‚è¾¹ç¼˜ã€è§’ç‚¹ã€çº¹ç†ï¼‰ã€‚è¿™ä¸ªè¿‡ç¨‹ä¿ç•™äº†åƒç´ é—´çš„ç©ºé—´å…³ç³»ã€‚</li>
<li><strong>æ± åŒ–å±‚</strong>ï¼šç´§éšå·ç§¯å±‚ä¹‹åï¼Œç”¨äºé™ä½ç‰¹å¾å›¾çš„ç»´åº¦ï¼Œå‡å°‘è®¡ç®—é‡å¹¶å¢å¼ºæ¨¡å‹çš„å¹³ç§»ä¸å˜æ€§ã€‚æœ€å¤§æ± åŒ–æ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ã€‚</li>
<li><strong>å…¨è¿æ¥å±‚</strong>ï¼šåœ¨ç½‘ç»œçš„æœ«ç«¯ï¼Œå°†ç»è¿‡å¤šæ¬¡å·ç§¯å’Œæ± åŒ–åæå–åˆ°çš„é«˜çº§ç‰¹å¾å›¾å±•å¹³ï¼Œè¿›è¡Œç»¼åˆåˆ¤æ–­ï¼Œæœ€ç»ˆè¾“å‡ºåˆ†ç±»æ¦‚ç‡ã€‚</li>
</ul>
<p>é€šè¿‡å †å è¿™äº›å±‚ï¼ŒCNNèƒ½å¤Ÿä»ä½çº§ç‰¹å¾ï¼ˆè¾¹ç¼˜ï¼‰é€æ­¥ç»„åˆå½¢æˆé«˜çº§ç‰¹å¾ï¼ˆå™¨å®˜ã€ç‰©ä½“ï¼‰ï¼Œä»è€Œå®ç°é«˜æ•ˆçš„å›¾åƒè¯†åˆ«ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨TensorFlowå’ŒKeras APIæ„å»ºä¸€ä¸ªç®€å•çš„CNNæ¨¡å‹ï¼Œç”¨äºå¤„ç†MNISTæ‰‹å†™æ•°å­—è¯†åˆ«çš„ç¤ºä¾‹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> tensorflow <span class="hljs-keyword">as</span> tf
<span class="hljs-keyword">from</span> tensorflow.keras <span class="hljs-keyword">import</span> datasets, layers, models

<span class="hljs-comment"># 1. åŠ è½½å¹¶é¢„å¤„ç†æ•°æ®</span>
(train_images, train_labels), (test_images, test_labels) = datasets.mnist.load_data()
<span class="hljs-comment"># å°†å›¾åƒé‡å¡‘ä¸º (28, 28, 1) å¹¶å½’ä¸€åŒ–</span>
train_images = train_images.reshape((<span class="hljs-number">60000</span>, <span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>)).astype(<span class="hljs-string">'float32'</span>) / <span class="hljs-number">255</span>
test_images = test_images.reshape((<span class="hljs-number">10000</span>, <span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>)).astype(<span class="hljs-string">'float32'</span>) / <span class="hljs-number">255</span>

<span class="hljs-comment"># 2. æ„å»ºCNNæ¨¡å‹</span>
model = models.Sequential([
    <span class="hljs-comment"># ç¬¬ä¸€ä¸ªå·ç§¯å±‚ï¼Œä½¿ç”¨32ä¸ª3x3çš„æ»¤æ³¢å™¨ï¼Œæ¿€æ´»å‡½æ•°ä¸ºReLU</span>
    layers.Conv2D(<span class="hljs-number">32</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), activation=<span class="hljs-string">'relu'</span>, input_shape=(<span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>)),
    <span class="hljs-comment"># æœ€å¤§æ± åŒ–å±‚ï¼Œçª—å£å¤§å°ä¸º2x2</span>
    layers.MaxPooling2D((<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)),
    <span class="hljs-comment"># ç¬¬äºŒä¸ªå·ç§¯å±‚ï¼Œä½¿ç”¨64ä¸ª3x3çš„æ»¤æ³¢å™¨</span>
    layers.Conv2D(<span class="hljs-number">64</span>, (<span class="hljs-number">3</span>, <span class="hljs-number">3</span>), activation=<span class="hljs-string">'relu'</span>),
    layers.MaxPooling2D((<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)),
    <span class="hljs-comment"># å°†å¤šç»´ç‰¹å¾å›¾å±•å¹³ä¸ºä¸€ç»´å‘é‡ï¼Œä»¥ä¾¿è¾“å…¥å…¨è¿æ¥å±‚</span>
    layers.Flatten(),
    <span class="hljs-comment"># å…¨è¿æ¥å±‚ï¼Œ128ä¸ªç¥ç»å…ƒ</span>
    layers.Dense(<span class="hljs-number">128</span>, activation=<span class="hljs-string">'relu'</span>),
    <span class="hljs-comment"># è¾“å‡ºå±‚ï¼Œ10ä¸ªç¥ç»å…ƒå¯¹åº”10ä¸ªæ•°å­—ç±»åˆ«ï¼Œä½¿ç”¨softmaxæ¿€æ´»å‡½æ•°è¾“å‡ºæ¦‚ç‡åˆ†å¸ƒ</span>
    layers.Dense(<span class="hljs-number">10</span>, activation=<span class="hljs-string">'softmax'</span>)
])

<span class="hljs-comment"># 3. ç¼–è¯‘æ¨¡å‹</span>
model.<span class="hljs-built_in">compile</span>(optimizer=<span class="hljs-string">'adam'</span>,
              loss=<span class="hljs-string">'sparse_categorical_crossentropy'</span>,
              metrics=[<span class="hljs-string">'accuracy'</span>])

<span class="hljs-comment"># 4. è®­ç»ƒæ¨¡å‹</span>
model.fit(train_images, train_labels, epochs=<span class="hljs-number">5</span>, 
          validation_data=(test_images, test_labels))

<span class="hljs-comment"># 5. è¯„ä¼°æ¨¡å‹</span>
test_loss, test_acc = model.evaluate(test_images, test_labels, verbose=<span class="hljs-number">2</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f'\nTest accuracy: <span class="hljs-subst">{test_acc}</span>'</span>)
</code></pre>
<p>ä¸Šè¿°ä»£ç æ¼”ç¤ºäº†æ„å»ºCNNçš„ç»å…¸æµç¨‹ï¼šæ•°æ®å‡†å¤‡ã€æ¨¡å‹æ­å»ºã€ç¼–è¯‘ã€è®­ç»ƒä¸è¯„ä¼°ã€‚å¯¹äºå® ç‰©è¯†åˆ«ç³»ç»Ÿï¼Œæ ¸å¿ƒåŸç†ä¸æ­¤ç›¸åŒï¼Œä½†æ›´ä¸ºå¤æ‚ã€‚ï¼š</p>
<ol>
<li><strong>å‡†å¤‡æ›´åºå¤§çš„æ•°æ®é›†</strong>ï¼šåŒ…å«37ä¸ªå® ç‰©å“ç§çš„æ ‡æ³¨å›¾åƒã€‚</li>
<li><strong>ä½¿ç”¨æ›´æ·±çš„ç½‘ç»œ</strong>ï¼šå¯ä»¥è¿ç§»å­¦ä¹ é¢„è®­ç»ƒæ¨¡å‹ï¼ˆå¦‚ResNet, MobileNetï¼‰ï¼Œåœ¨å…¶åŸºç¡€ä¸Šè¿›è¡Œå¾®è°ƒï¼Œä»¥é€‚åº”å® ç‰©åˆ†ç±»ä»»åŠ¡ã€‚</li>
<li><strong>è°ƒæ•´è¾“å…¥å°ºå¯¸</strong>ï¼šå°†å›¾åƒè°ƒæ•´ä¸ºæ›´é€‚åˆç°ä»£ç½‘ç»œçš„å°ºå¯¸ï¼ˆå¦‚224x224ï¼‰ã€‚</li>
<li><strong>éƒ¨ç½²æ¨¡å‹</strong>ï¼šå¦‚æ‰€è¿°ï¼Œä½¿ç”¨Djangoä½œä¸ºåç«¯ï¼Œå°†è®­ç»ƒå¥½çš„æ¨¡å‹åŠ è½½åˆ°æœåŠ¡ä¸­ï¼Œå¤„ç†ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡å¹¶è¿”å›è¯†åˆ«ç»“æœå’Œç½®ä¿¡åº¦ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Kotlinä¸­çš„Flowæµ]]></title>    <link>https://juejin.cn/post/7577613021881008138</link>    <guid>https://juejin.cn/post/7577613021881008138</guid>    <pubDate>2025-11-29T04:15:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577613021881008138" data-draft-id="7577675494066864154" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Kotlinä¸­çš„Flowæµ"/> <meta itemprop="keywords" content="Kotlin,Android"/> <meta itemprop="datePublished" content="2025-11-29T04:15:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŸå ¡ä¿®ç‚¼è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2379804202775341"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Kotlinä¸­çš„Flowæµ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2379804202775341/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŸå ¡ä¿®ç‚¼è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:15:47.000Z" title="Sat Nov 29 2025 04:15:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>Kotlin Flow</strong> æ˜¯ Android å¼€å‘ä¸­æ¨èçš„<strong>å¼‚æ­¥æ•°æ®æµ</strong>è§£å†³æ–¹æ¡ˆã€‚å®ƒåŸºäº Kotlin åç¨‹ï¼ˆCoroutinesï¼‰æ„å»ºï¼ŒåŠŸèƒ½å¼ºå¤§ä¸”çµæ´»ï¼Œæ—¨åœ¨æ›¿ä»£ <code>RxJava</code> å’Œéƒ¨åˆ† <code>LiveData</code> çš„ä½¿ç”¨åœºæ™¯ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æŠŠå®ƒç†è§£æˆä¸€ä¸ªç®¡é“ï¼š</p>
<p><strong>ä¸Šæ¸¸ï¼ˆUpstreamï¼‰</strong> ï¼šè´Ÿè´£ç”Ÿäº§æ•°æ®ï¼ˆå¦‚ï¼šä»æ•°æ®åº“è¯»æ•°æ®ã€ç½‘ç»œè¯·æ±‚ï¼‰ã€‚</p>
<p><strong>ä¸­æ¸¸ï¼ˆIntermediariesï¼‰</strong> ï¼šè´Ÿè´£å¤„ç†æ•°æ®ï¼ˆå¦‚ï¼šè¿‡æ»¤ <code>filter</code>ã€è½¬æ¢ <code>map</code>ï¼‰ã€‚</p>
<p><strong>ä¸‹æ¸¸ï¼ˆDownstreamï¼‰</strong> ï¼šè´Ÿè´£æ¥æ”¶/æ¶ˆè´¹æ•°æ®ï¼ˆå¦‚ï¼šæ›´æ–° UIï¼‰ã€‚</p>
<h2 data-id="heading-0">æ ¸å¿ƒæ¦‚å¿µï¼š å†·æµVSçƒ­æµ</h2>

























<table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>Cold Flow (æ™®é€š Flow)</strong></th><th><strong>Hot Flow (StateFlow / SharedFlow)</strong></th></tr></thead><tbody><tr><td><strong>æ¿€æ´»æ—¶æœº</strong></td><td><strong>åªæœ‰è¢«æ”¶é›†ï¼ˆcollectï¼‰æ—¶</strong>æ‰å¼€å§‹è¿è¡Œã€‚</td><td><strong>æ— è®ºæœ‰æ— æ”¶é›†è€…</strong>ï¼Œå®ƒéƒ½åœ¨å†…å­˜ä¸­æ´»è·ƒï¼ˆç±»ä¼¼äº LiveDataï¼‰ã€‚</td></tr><tr><td><strong>æ•°æ®ç”Ÿäº§</strong></td><td>æ˜¯ä¸€å¯¹ä¸€çš„ï¼ˆUnicastï¼‰ã€‚æ¯ä¸ªæ”¶é›†è€…éƒ½ä¼šè§¦å‘ä¸€éæ–°çš„æ•°æ®ç”Ÿäº§æµç¨‹ã€‚</td><td>æ˜¯ä¸€å¯¹å¤šçš„ï¼ˆMulticastï¼‰ã€‚å¤šä¸ªæ”¶é›†è€…å…±äº«åŒä¸€ä¸ªæ•°æ®æºã€‚</td></tr><tr><td><strong>å…¸å‹åœºæ™¯</strong></td><td>è€—æ—¶çš„æ•°æ®åº“è¯»å–ã€æ–‡ä»¶ä¸‹è½½ã€ç®€å•çš„å¼‚æ­¥è½¬æ¢ã€‚</td><td><strong>UI çŠ¶æ€ç®¡ç†</strong> (<code>StateFlow</code>)ã€<strong>ä¸€æ¬¡æ€§äº‹ä»¶</strong> (<code>SharedFlow</code>)ã€‚</td></tr></tbody></table>
<p>å…·ä½“ä¾‹å­ï¼š</p>
<h4 data-id="heading-1">A. Flow (æ™®é€šå†·æµ)</h4>
<p>æœ€åŸºç¡€çš„ç±»å‹ã€‚ç”¨äºæ‰§è¡Œè€—æ—¶ä»»åŠ¡å¹¶æŒ‰é¡ºåºå‘å°„å¤šä¸ªå€¼ã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¾‹å­ï¼šå€’è®¡æ—¶</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">countdownFlow</span><span class="hljs-params">()</span></span>: Flow&lt;<span class="hljs-built_in">Int</span>&gt; = flow {
 Â  Â <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">5</span> downTo <span class="hljs-number">0</span>) {
 Â  Â  Â  Â emit(i) <span class="hljs-comment">// å‘å°„æ•°æ®</span>
 Â  Â  Â  Â delay(<span class="hljs-number">1000</span>) <span class="hljs-comment">// æŒ‚èµ·å‡½æ•°ï¼Œä¸é˜»å¡çº¿ç¨‹</span>
 Â   }
}
</code></pre>
<h4 data-id="heading-2">B. StateFlow (çƒ­æµ - çŠ¶æ€æŒæœ‰è€…)</h4>
<p><strong>å®ƒæ˜¯ <code>LiveData</code> çš„ç°ä»£æ›¿ä»£å“ã€‚</strong></p>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šå§‹ç»ˆæŒæœ‰<strong>æœ€æ–°</strong>çš„ä¸€ä¸ªçŠ¶æ€å€¼ã€‚æ–°çš„æ”¶é›†è€…åŠ å…¥æ—¶ï¼Œä¼šç«‹åˆ»æ”¶åˆ°å½“å‰æœ€æ–°çš„å€¼ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šç”¨äºå­˜å‚¨ UI çŠ¶æ€ï¼ˆå¦‚ï¼šLoadingã€Successã€Errorï¼‰ã€‚</li>
<li><strong>å¯¹æ¯” LiveData</strong>ï¼š<code>StateFlow</code> å¿…é¡»æœ‰åˆå§‹å€¼ï¼Œä¸”å®Œå…¨æ”¯æŒåç¨‹æ“ä½œç¬¦ã€‚</li>
</ul>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ViewModel ä¸­</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _uiState = MutableStateFlow(<span class="hljs-string">"Initial State"</span>)
<span class="hljs-keyword">val</span> uiState: StateFlow&lt;String&gt; = _uiState.asStateFlow()
â€‹
<span class="hljs-comment">// æ›´æ–°çŠ¶æ€</span>
_uiState.value = <span class="hljs-string">"New State"</span>
</code></pre>
<h4 data-id="heading-3">C. SharedFlow (çƒ­æµ - äº‹ä»¶æµ)</h4>
<ul>
<li><strong>ç‰¹ç‚¹</strong>ï¼šç”¨äºå‘é€<strong>ä¸€æ¬¡æ€§äº‹ä»¶</strong>ï¼ˆOne-off eventsï¼‰ã€‚é»˜è®¤ä¸ä¿ç•™æ—§æ•°æ®ï¼ˆé™¤éé…ç½® <code>replay</code>ï¼‰ï¼Œæ–°æ”¶é›†è€…ä¸ä¼šæ”¶åˆ°è¿‡å»å‘å‡ºçš„äº‹ä»¶ã€‚</li>
<li><strong>åœºæ™¯</strong>ï¼šå¯¼èˆªè·³è½¬ã€å¼¹å‡º Toastã€æ˜¾ç¤º Snackbarã€æœåŠ¡å™¨æ¨é€æ¶ˆæ¯ã€‚</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ViewModel ä¸­</span>
<span class="hljs-keyword">private</span> val _events = <span class="hljs-built_in">MutableSharedFlow</span>&lt;<span class="hljs-type">String</span>&gt;()
val events: SharedFlow&lt;<span class="hljs-type">String</span>&gt; = _events.<span class="hljs-built_in">asSharedFlow</span>()
â€‹
<span class="hljs-comment">// å‘é€äº‹ä»¶ (suspend function)</span>
_events.<span class="hljs-built_in">emit</span>(<span class="hljs-string">"Show Toast"</span>)
</code></pre>
<h2 data-id="heading-4">åœ¨UIä¸­å®‰å…¨æ”¶é›†</h2>
<h4 data-id="heading-5">a. åœ¨ Activity / Fragment (ä½¿ç”¨ Views)</h4>
<p>ä½¿ç”¨ <code>repeatOnLifecycle</code>ã€‚å®ƒä¼šåœ¨ç‰¹å®šçš„ç”Ÿå‘½å‘¨æœŸçŠ¶æ€ï¼ˆé€šå¸¸æ˜¯ <code>STARTED</code>ï¼‰å¼€å§‹æ”¶é›†ï¼Œåœ¨ä½äºè¯¥çŠ¶æ€ï¼ˆå¦‚åå° <code>STOPPED</code>ï¼‰æ—¶<strong>è‡ªåŠ¨å–æ¶ˆåç¨‹</strong>ï¼Œåœæ­¢æ¥æ”¶æ•°æ®ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœ¨ Activity æˆ– Fragment ä¸­</span>
lifecycleScope.<span class="hljs-property">launch</span> {
 Â  Â <span class="hljs-comment">// åªæœ‰å½“ç”Ÿå‘½å‘¨æœŸè‡³å°‘æ˜¯ STARTED æ—¶æ‰æ‰§è¡Œå—å†…ä»£ç </span>
 Â  Â <span class="hljs-title function_">repeatOnLifecycle</span>(<span class="hljs-params">Lifecycle.State.STARTED</span>) {
 Â  Â  Â  Â <span class="hljs-comment">// è¿™ä¸¤ä¸ªæµä¼šå¹¶è¡Œæ”¶é›†</span>
 Â  Â  Â  Â launch {
 Â  Â  Â  Â  Â  Â viewModel.<span class="hljs-property">uiState</span>.<span class="hljs-property">collect</span> { state -&gt;
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// æ›´æ–° UI</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
 Â  Â  Â  Â launch {
 Â  Â  Â  Â  Â  Â viewModel.<span class="hljs-property">events</span>.<span class="hljs-property">collect</span> { event -&gt;
 Â  Â  Â  Â  Â  Â  Â  Â <span class="hljs-comment">// å¤„ç†äº‹ä»¶</span>
 Â  Â  Â  Â  Â   }
 Â  Â  Â   }
 Â   }
}
</code></pre>
<h4 data-id="heading-6">b. compose</h4>
<p>ä½¿ç”¨ <code>collectAsStateWithLifecycle()</code>ã€‚å®ƒä¼šè‡ªåŠ¨å°† Flow è½¬æ¢ä¸º Compose çš„ Stateï¼Œå¹¶æ„ŸçŸ¥ç”Ÿå‘½å‘¨æœŸã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">MyScreen</span><span class="hljs-params">(viewModel: <span class="hljs-type">MyViewModel</span>)</span></span> {
 Â  Â <span class="hljs-comment">// éœ€è¦å¼•å…¥ä¾èµ–: androidx.lifecycle:lifecycle-runtime-compose</span>
 Â  Â <span class="hljs-keyword">val</span> state <span class="hljs-keyword">by</span> viewModel.uiState.collectAsStateWithLifecycle()
 Â  Â 
 Â  Â Text(text = state)
}
</code></pre>
<h3 data-id="heading-7">å¸¸ç”¨æ“ä½œç¬¦</h3>
<p><strong>è½¬æ¢ç±»</strong>ï¼š<code>map</code> (æ•°æ®æ˜ å°„), <code>transform</code> (è‡ªå®šä¹‰è½¬æ¢)</p>
<p><strong>è¿‡æ»¤ç±»</strong>ï¼š<code>filter</code> (è¿‡æ»¤), <code>debounce</code> (é˜²æŠ–ï¼Œæœç´¢æ¡†å¿…å¤‡), <code>distinctUntilChanged</code> (é˜²é‡å¤ï¼ŒStateFlow é»˜è®¤è‡ªå¸¦æ­¤ç‰¹æ€§)</p>
<p><strong>ç»„åˆç±»</strong>ï¼š<code>combine</code> (åˆå¹¶å¤šä¸ªæµ), <code>zip</code>, <code>flatMapLatest</code> (åˆ‡æ¢æµï¼Œä¾‹å¦‚æœç´¢è¯å˜åŒ–æ—¶å–æ¶ˆæ—§è¯·æ±‚å‘æ–°è¯·æ±‚)</p>
<p><strong>å¼‚å¸¸å¤„ç†</strong>ï¼š<code>catch</code> (æ•è·ä¸Šæ¸¸å¼‚å¸¸)</p>
<p><strong>çº¿ç¨‹åˆ‡æ¢</strong>ï¼š<code>flowOn(Dispatchers.IO)</code> (æŒ‡å®šä¸Šæ¸¸ä»£ç åœ¨ IO çº¿ç¨‹æ‰§è¡Œ)</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaScriptå¼€å‘è€…å¿…çŸ¥çš„7ä¸ªES2023æ–°ç‰¹æ€§ï¼Œè®©ä½ çš„ä»£ç æ•ˆç‡æå‡50%]]></title>    <link>https://juejin.cn/post/7577647745109409792</link>    <guid>https://juejin.cn/post/7577647745109409792</guid>    <pubDate>2025-11-29T04:16:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577647745109409792" data-draft-id="7577647745109393408" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaScriptå¼€å‘è€…å¿…çŸ¥çš„7ä¸ªES2023æ–°ç‰¹æ€§ï¼Œè®©ä½ çš„ä»£ç æ•ˆç‡æå‡50%"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-11-29T04:16:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaScriptå¼€å‘è€…å¿…çŸ¥çš„7ä¸ªES2023æ–°ç‰¹æ€§ï¼Œè®©ä½ çš„ä»£ç æ•ˆç‡æå‡50%
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:16:54.000Z" title="Sat Nov 29 2025 04:16:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>JavaScriptå¼€å‘è€…å¿…çŸ¥çš„7ä¸ªES2023æ–°ç‰¹æ€§ï¼Œè®©ä½ çš„ä»£ç æ•ˆç‡æå‡50%</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>ECMAScriptï¼ˆç®€ç§°ESï¼‰æ˜¯JavaScriptçš„è¯­è¨€è§„èŒƒï¼Œæ¯å¹´éƒ½ä¼šå‘å¸ƒæ–°ç‰ˆæœ¬ä»¥å¼•å…¥æ–°çš„ç‰¹æ€§å’Œæ”¹è¿›ã€‚ES2023ï¼ˆä¹Ÿç§°ä¸ºES14ï¼‰ä½œä¸ºæœ€æ–°çš„ç‰ˆæœ¬ï¼Œå¸¦æ¥äº†ä¸€ç³»åˆ—ä»¤äººå…´å¥‹çš„æ–°åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½ä¸ä»…ç®€åŒ–äº†å¼€å‘æµç¨‹ï¼Œè¿˜èƒ½æ˜¾è‘—æå‡ä»£ç çš„æ•ˆç‡å’Œå¯è¯»æ€§ã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ES2023ä¸­æœ€å€¼å¾—å…³æ³¨çš„7ä¸ªæ–°ç‰¹æ€§ï¼Œå¹¶è¯¦ç»†åˆ†æå®ƒä»¬å¦‚ä½•å¸®åŠ©ä½ ç¼–å†™æ›´é«˜æ•ˆã€æ›´ä¼˜é›…çš„ä»£ç ã€‚æ— è®ºä½ æ˜¯å‰ç«¯å¼€å‘è€…è¿˜æ˜¯Node.jså·¥ç¨‹å¸ˆï¼Œè¿™äº›æ–°ç‰¹æ€§éƒ½å°†æˆä¸ºä½ å·¥å…·ç®±ä¸­çš„åˆ©å™¨ã€‚</p>
<hr/>
<h2 data-id="heading-2">1. Array.prototype.findLast() å’Œ Array.prototype.findLastIndex()</h2>
<h3 data-id="heading-3">èƒŒæ™¯</h3>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä»æ•°ç»„ä¸­æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„å…ƒç´ æˆ–ç´¢å¼•ã€‚è™½ç„¶<code>Array.prototype.find()</code>å’Œ<code>Array.prototype.findIndex()</code>å·²ç»æä¾›äº†è¿™æ ·çš„åŠŸèƒ½ï¼Œä½†å®ƒä»¬åªèƒ½ä»æ•°ç»„çš„å¼€å¤´å¼€å§‹æŸ¥æ‰¾ã€‚è€Œåœ¨æŸäº›åœºæ™¯ä¸‹ï¼ˆæ¯”å¦‚æ—¥å¿—åˆ†ææˆ–å†å²è®°å½•æŸ¥è¯¢ï¼‰ï¼Œæˆ‘ä»¬éœ€è¦ä»æ•°ç»„çš„æœ«å°¾å¼€å§‹æŸ¥æ‰¾ã€‚</p>
<h3 data-id="heading-4">æ–°ç‰¹æ€§</h3>
<p>ES2023å¼•å…¥äº†ä¸¤ä¸ªæ–°æ–¹æ³•ï¼š</p>
<ul>
<li><code>findLast()</code>ï¼šä»æ•°ç»„æœ«å°¾å¼€å§‹æŸ¥æ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ ã€‚</li>
<li><code>findLastIndex()</code>ï¼šä»æ•°ç»„æœ«å°¾å¼€å§‹æŸ¥æ‰¾ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ çš„ç´¢å¼•ã€‚</li>
</ul>
<h3 data-id="heading-5">ç¤ºä¾‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">20</span>, <span class="hljs-number">40</span>];
<span class="hljs-keyword">const</span> lastTwenty = numbers.<span class="hljs-title function_">findLast</span>(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> n === <span class="hljs-number">20</span>); <span class="hljs-comment">// è¿”å›æœ€åä¸€ä¸ª20</span>
<span class="hljs-keyword">const</span> lastTwentyIndex = numbers.<span class="hljs-title function_">findLastIndex</span>(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> n === <span class="hljs-number">20</span>); <span class="hljs-comment">// è¿”å›3</span>
</code></pre>
<h3 data-id="heading-6">ä¼˜åŠ¿</h3>
<ul>
<li><strong>å‡å°‘æ‰‹åŠ¨éå†</strong>ï¼šæ— éœ€å†ä½¿ç”¨<code>reverse()</code>æˆ–æ‰‹åŠ¨å¾ªç¯æ¥å®ç°åå‘æŸ¥æ‰¾ã€‚</li>
<li><strong>ä»£ç æ›´ç®€æ´</strong>ï¼šç›´æ¥è°ƒç”¨æ–¹æ³•å³å¯å®Œæˆéœ€æ±‚ï¼Œé¿å…äº†é¢å¤–çš„é€»è¾‘å¤„ç†ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">2. Hashbang Grammarï¼ˆShebangï¼‰æ”¯æŒ</h2>
<h3 data-id="heading-8">èƒŒæ™¯</h3>
<p>Shebangï¼ˆå³<code>#!</code>ï¼‰åœ¨Unix-likeç³»ç»Ÿä¸­ç”¨äºæŒ‡å®šè„šæœ¬çš„è§£é‡Šå™¨è·¯å¾„ã€‚è™½ç„¶Node.jsé•¿æœŸä»¥æ¥æ”¯æŒShebangï¼Œä½†ä¹‹å‰çš„ECMAScriptè§„èŒƒå¹¶æœªæ­£å¼å®šä¹‰å®ƒã€‚</p>
<h3 data-id="heading-9">æ–°ç‰¹æ€§</h3>
<p>ES2023æ­£å¼å°†Shebangè¯­æ³•çº³å…¥è§„èŒƒï¼Œå…è®¸JavaScriptæ–‡ä»¶åœ¨é¦–è¡Œä½¿ç”¨<code>#!</code>æŒ‡å®šè§£é‡Šå™¨è·¯å¾„ã€‚</p>
<h3 data-id="heading-10">ç¤ºä¾‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-meta">#!/usr/bin/env node</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Hello, World!"</span>);
</code></pre>
<h3 data-id="heading-11">ä¼˜åŠ¿</h3>
<ul>
<li><strong>æ ‡å‡†åŒ–è·¨å¹³å°è„šæœ¬</strong>ï¼šå¼€å‘è€…å¯ä»¥æ›´è‡ªä¿¡åœ°ç¼–å†™å¯æ‰§è¡Œè„šæœ¬è€Œæ— éœ€æ‹…å¿ƒå…¼å®¹æ€§é—®é¢˜ã€‚</li>
<li><strong>æ›´å¥½çš„å·¥å…·é“¾æ”¯æŒ</strong>ï¼šæ„å»ºå·¥å…·å’ŒIDEå¯ä»¥æ›´å¥½åœ°è¯†åˆ«å’Œå¤„ç†å¸¦æœ‰Shebangçš„è„šæœ¬æ–‡ä»¶ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-12">3. Symbolsä½œä¸ºWeakMapé”®çš„æ”¯æŒ</h2>
<h3 data-id="heading-13">èƒŒæ™¯</h3>
<p><code>WeakMap</code>æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ˜ å°„ç»“æ„ï¼Œå…¶é”®å¿…é¡»æ˜¯å¯¹è±¡ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ï¼Œå¹¶ä¸”ä¸ä¼šé˜»æ­¢åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶é”®å¯¹è±¡ã€‚ç„¶è€Œï¼Œåœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬å¸Œæœ›ä½¿ç”¨<code>Symbol</code>ä½œä¸ºé”®æ¥å­˜å‚¨ç§æœ‰æ•°æ®æˆ–å…ƒä¿¡æ¯ã€‚</p>
<h3 data-id="heading-14">æ–°ç‰¹æ€§</h3>
<p>ES2023å…è®¸å°†<code>Symbol</code>ä½œä¸º<code>WeakMap</code>çš„é”®ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-15">ç¤ºä¾‹</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> weakMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();
<span class="hljs-keyword">const</span> key = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">'privateKey'</span>);
weakMap.<span class="hljs-title function_">set</span>(key, <span class="hljs-string">'secret data'</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(weakMap.<span class="hljs-title function_">get</span>(key)); <span class="hljs-comment">// 'secret data'</span>
</code></pre>
<h3 data-id="heading-16">ä¼˜åŠ¿</h3>
<ul>
<li><strong>æ‰©å±•WeakMapçš„ä½¿ç”¨åœºæ™¯</strong>ï¼šå¯ä»¥ç”¨Symbolå­˜å‚¨ç§æœ‰æ•°æ®è€Œä¸æš´éœ²ç»™å¤–éƒ¨ä»£ç ã€‚</li>
<li><strong>å†…å­˜ç®¡ç†æ›´çµæ´»</strong>ï¼šä¸å¯¹è±¡é”®ç±»ä¼¼ï¼ŒSymbolé”®ä¹Ÿä¸ä¼šé˜»æ­¢åƒåœ¾å›æ”¶æœºåˆ¶çš„æ‰§è¡Œã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-17">4. Array.prototype.toReversed()ã€toSorted()ã€toSpliced()å’Œwith()</h2>
<h3 data-id="heading-18">èƒŒæ™¯</h3>
<p>JavaScriptä¸­çš„æ•°ç»„æ–¹æ³•æ˜¯â€œå°±åœ°â€ï¼ˆin-placeï¼‰æ“ä½œçš„å…¸å‹ä»£è¡¨ï¼Œä¾‹å¦‚<code>sort()</code>ã€<code>reverse()</code>å’Œ<code>splice()</code>ä¼šç›´æ¥ä¿®æ”¹åŸæ•°ç»„ã€‚è¿™ç§è®¾è®¡åœ¨æŸäº›åœºæ™¯ä¸‹ä¼šå¯¼è‡´æ„å¤–çš„å‰¯ä½œç”¨å’Œä¸çº¯çš„å‡½æ•°è¡Œä¸ºã€‚å‡½æ•°å¼ç¼–ç¨‹é€šå¸¸é¼“åŠ±ä¸å¯å˜æ€§ï¼ˆimmutabilityï¼‰ï¼Œä»¥é¿å…è¿™ç±»é—®é¢˜ã€‚</p>
<p>###Â æ–°ç‰¹æ€§Â Â 
ES2023å¼•å…¥äº†å››ä¸ªæ–°çš„ä¸å¯å˜æ•°ç»„æ–¹æ³•ï¼š</p>
<ol>
<li><code>toReversed()</code>:Â è¿”å›ä¸€ä¸ªåè½¬åçš„æ–°æ•°ç»„ã€‚</li>
<li><code>toSorted(compareFn)</code>:Â è¿”å›ä¸€ä¸ªæ’åºåçš„æ–°æ•°ç»„ã€‚</li>
<li><code>toSpliced(start,Â deleteCount,Â ...items)</code>:Â è¿”å›ä¸€ä¸ªæ‹¼æ¥åçš„æ–°æ•°ç»„ã€‚</li>
<li><code>with(index,Â value)</code>:Â è¿”å›ä¸€ä¸ªæ–°æ•°ç»„å¹¶å°†æŒ‡å®šç´¢å¼•çš„å€¼æ›¿æ¢ä¸ºç»™å®šçš„å€¼ã€‚</li>
</ol>
<p>####Â ç¤ºä¾‹Â Â </p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> original = [<span class="hljs-number">1</span>,Â <span class="hljs-number">2</span>,Â <span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> reversed = original.<span class="hljs-title function_">toReversed</span>(); <span class="hljs-comment">// [3,Â 2,Â 1]</span>
<span class="hljs-keyword">const</span> sorted = original.<span class="hljs-title function_">toSorted</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b - a); <span class="hljs-comment">// [3,Â 2,Â 1]</span>
<span class="hljs-keyword">const</span> spliced = original.<span class="hljs-title function_">toSpliced</span>(<span class="hljs-number">1</span>,Â <span class="hljs-number">1</span>); <span class="hljs-comment">// [1,Â 3]</span>
<span class="hljs-keyword">const</span> modified = original.<span class="hljs-title function_">with</span>(<span class="hljs-number">0</span>, <span class="hljs-string">'new'</span>); <span class="hljs-comment">// ['new',Â 2,Â 3]</span>
</code></pre>
<p>####Â Â ä¼˜åŠ¿Â Â 
+Â Â Â é¿å…æ„å¤–çš„å‰¯ä½œç”¨ã€‚
+Â Â Â æ›´å®¹æ˜“å®ç°ä¸å¯å˜æ•°æ®æµã€‚
+Â Â Â ä¸Reactç­‰æ¡†æ¶çš„çŠ¶æ€ç®¡ç†ç†å¿µæ›´åŠ å¥‘åˆã€‚</p>
<hr/>
<p>Â 
5.é€šè¿‡å‰¯æœ¬æ›´æ”¹é˜µåˆ—</p>
<p>è¿™æ˜¯å¯¹å‰é¢æåˆ°çš„æ–¹æ³•çš„æ›´å¹¿æ³›æè¿°â€”â€”æ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å‰¯æœ¬è€Œä¸æ˜¯æ”¹å˜åŸå§‹é˜µåˆ—ã€‚</p>
<p>6.æ˜¾å¼èµ„æºç®¡ç†â€”usingå£°æ˜</p>
<p>è™½ç„¶å°šæœªå®Œå…¨ç¡®å®šæ˜¯å¦ä¼šåœ¨es23ä¸­å‘å¸ƒï¼Œâ€œæ˜¾å¼èµ„æºç®¡ç†â€ææ¡ˆå»ºè®®æ·»åŠ â€œusingâ€å…³é”®å­—æ¥è‡ªåŠ¨é‡Šæ”¾èµ„æºã€‚</p>
<p>7.è£…é¥°å™¨æ¨¡å¼</p>
<p>è£…é¥°å™¨çš„é•¿æœŸè®¨è®ºå¯èƒ½ä¼šæœ€ç»ˆçº³å…¥æ ‡å‡†ä»¥ç®€åŒ–å…ƒç¼–ç¨‹æ¨¡å¼ã€‚</p>
<p>æ€»ç»“:</p>
<p>ecmascriptç»§ç»­å¿«é€Ÿå‘å±•ä»¥æ»¡è¶³ç°ä»£webå¼€å‘éœ€æ±‚.es23å¯èƒ½ä¸åƒä»¥å‰é‚£æ ·å…·æœ‰çªç ´æ€§å˜åŒ–ä½†ä»ç„¶åŒ…å«è®¸å¤šç”Ÿæ´»è´¨é‡æ”¹è¿›ä½¿æ‚¨çš„æ—¥å¸¸å·¥ä½œæ›´åŠ é«˜æ•ˆæ„‰å¿«.</p>
<p>è¯·è®°ä½å¹¶éæ‰€æœ‰ç¯å¢ƒéƒ½ä¼šç«‹å³æ”¯æŒè¿™äº›åŠŸèƒ½å› æ­¤è¯·æ£€æŸ¥å…¼å®¹æ€§æˆ–ä½¿ç”¨transpilerå¦‚babel.</p>
<p>ä½ å¯¹å“ªé¡¹åŠŸèƒ½æœ€æ„Ÿå…´è¶£ï¼Ÿåœ¨è¯„è®ºä¸­å‘Šè¯‰æˆ‘ä»¬å§ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JK2è¿æ¥å™¨ä½¿ç”¨æ•™ç¨‹ï¼šjakarta-tomcat-connectors-jk2-src-current.zip å®‰è£…é…ç½®æ­¥éª¤è¯¦è§£]]></title>    <link>https://juejin.cn/post/7577668116525809710</link>    <guid>https://juejin.cn/post/7577668116525809710</guid>    <pubDate>2025-11-29T01:34:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577668116525809710" data-draft-id="7577609608828928026" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JK2è¿æ¥å™¨ä½¿ç”¨æ•™ç¨‹ï¼šjakarta-tomcat-connectors-jk2-src-current.zip å®‰è£…é…ç½®æ­¥éª¤è¯¦è§£"/> <meta itemprop="keywords" content="Tomcat"/> <meta itemprop="datePublished" content="2025-11-29T01:34:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·613541146016"/> <meta itemprop="url" content="https://juejin.cn/user/1602431422584832"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JK2è¿æ¥å™¨ä½¿ç”¨æ•™ç¨‹ï¼šjakarta-tomcat-connectors-jk2-src-current.zip å®‰è£…é…ç½®æ­¥éª¤è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1602431422584832/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·613541146016
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T01:34:52.000Z" title="Sat Nov 29 2025 01:34:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>jakarta-tomcat-connectors-jk2-src-current.zip</code>Â åŒ…å«çš„æ˜¯ Apache å’Œ Tomcat ä¹‹é—´é€šä¿¡çš„è€å¼è¿æ¥å™¨ JK2 çš„æºä»£ç ã€‚é€šè¿‡ç¼–è¯‘å’Œé…ç½®ï¼Œå¯ä»¥è®© Apache HTTP Server æŠŠè¯·æ±‚è½¬å‘ç»™åç«¯çš„ Tomcat å¤„ç†</p>
<ol>
<li>
<p><strong>å…ˆè§£å‹</strong><br/>
<strong>å®‰è£…åŒ…ä¸‹è½½ï¼š</strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fpan.quark.cn%2Fs%2F95945d4f20cb" title="https://pan.quark.cn/s/95945d4f20cb" target="_blank" ref="nofollow noopener noreferrer">pan.quark.cn/s/95945d4f2â€¦</a>Â ï¼ŒæŠŠä½ ä¸‹è½½çš„Â <code>jakarta-tomcat-connectors-jk2-src-current.zip</code>Â è§£å‹åˆ°ä¸€ä¸ªç›®å½•é‡Œï¼Œæ¯”å¦‚å«Â <code>jk2-src</code>ã€‚</p>
</li>
<li>
<p><strong>è£…ç¼–è¯‘å·¥å…·</strong><br/>
å› ä¸ºè¿™æ˜¯æºç åŒ…ï¼Œå¾—è‡ªå·±ç¼–è¯‘ã€‚ä½ å¾—æœ‰ï¼š</p>
<ul>
<li>Java SDKï¼ˆJDKï¼‰</li>
<li>Apache çš„å¼€å‘å¤´æ–‡ä»¶ï¼ˆæ¯”å¦‚Â <code>httpd-devel</code>Â åŒ…ï¼ŒLinux ä¸‹ç”¨ yum æˆ– apt è£…ï¼‰</li>
<li>C ç¼–è¯‘å™¨ï¼ˆæ¯”å¦‚ gccï¼‰</li>
<li>Antï¼ˆå› ä¸ºè¿™é¡¹ç›®æ˜¯ç”¨ Ant æ„å»ºçš„ï¼‰</li>
</ul>
</li>
<li>
<p><strong>è¿› native ç›®å½•</strong><br/>
è§£å‹åï¼Œè¿›Â <code>jk2-src/jk/native2/</code>Â è¿™ä¸ªç›®å½•ï¼Œé‡Œé¢æ˜¯ C ä»£ç ï¼Œè¦ç¼–è¯‘æˆ Apache æ¨¡å—ã€‚</p>
</li>
<li>
<p><strong>é…ç½®å’Œç¼–è¯‘</strong><br/>
ä¸€èˆ¬è¿è¡Œç±»ä¼¼è¿™æ ·çš„å‘½ä»¤ï¼ˆå…·ä½“çœ‹é‡Œé¢çš„ READMEï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-number">1.</span>/configure --<span class="hljs-keyword">with</span>-apxs=<span class="hljs-regexp">/usr/</span>sbin/apxs --<span class="hljs-keyword">with</span>-java-home=<span class="hljs-regexp">/path/</span>to/jdk
2make
</code></pre>
<p>æˆåŠŸçš„è¯ä¼šç”ŸæˆÂ <code>mod_jk2.so</code>Â æ–‡ä»¶ã€‚</p>
</li>
<li>
<p><strong>æŠŠæ¨¡å—æ”¾è¿› Apache</strong><br/>
æŠŠç”Ÿæˆçš„Â <code>mod_jk2.so</code>Â å¤åˆ¶åˆ° Apache çš„ modules ç›®å½•ä¸‹ï¼Œæ¯”å¦‚Â <code>/etc/httpd/modules/</code>ã€‚</p>
</li>
<li>
<p><strong>é… Apache</strong><br/>
åœ¨ Apache çš„é…ç½®æ–‡ä»¶ï¼ˆæ¯”å¦‚Â <code>httpd.conf</code>ï¼‰é‡ŒåŠ ä¸€è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">1LoadModule jk2_module modules/mod_jk2.so
</code></pre>
<p>ç„¶åå†å†™ä¸ªÂ <code>workers2.properties</code>Â æ–‡ä»¶ï¼ˆé€šå¸¸æ”¾ Apache é…ç½®ç›®å½•ä¸‹ï¼‰ï¼Œå‘Šè¯‰å®ƒæ€ä¹ˆè¿ Tomcatã€‚</p>
</li>
<li>
<p><strong>é… Tomcat</strong><br/>
Tomcat é‚£è¾¹ä¸ç”¨å¤§æ”¹ï¼Œä½†è¦ç¡®ä¿ AJP è¿æ¥å™¨å¼€ç€ï¼ˆé»˜è®¤ç«¯å£ 8009ï¼‰ï¼Œåœ¨Â <code>server.xml</code>Â é‡Œæ‰¾Â <code>&lt;Connector protocol="AJP/1.3" ... /&gt;</code>ï¼Œå–æ¶ˆæ³¨é‡Šå°±è¡Œã€‚</p>
</li>
<li>
<p><strong>å¯åŠ¨æµ‹è¯•</strong><br/>
å…ˆå¯ Tomcatï¼Œå†å¯ Apacheï¼Œç„¶åè®¿é—® Apache çš„åœ°å€ï¼Œçœ‹èƒ½ä¸èƒ½æŠŠè¯·æ±‚è½¬ç»™ Tomcatã€‚</p>
</li>
</ol>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”³å¨æ¶æ„SW64 KY10ç³»ç»Ÿå®‰è£…tomcat-9.0.10-25.ky10.sw_64.rpmè¯¦ç»†æ­¥éª¤ï¼ˆé™„å®‰è£…åŒ…ï¼‰]]></title>    <link>https://juejin.cn/post/7577609608828977178</link>    <guid>https://juejin.cn/post/7577609608828977178</guid>    <pubDate>2025-11-29T01:46:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577609608828977178" data-draft-id="7577668116525858862" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”³å¨æ¶æ„SW64 KY10ç³»ç»Ÿå®‰è£…tomcat-9.0.10-25.ky10.sw_64.rpmè¯¦ç»†æ­¥éª¤ï¼ˆé™„å®‰è£…åŒ…ï¼‰"/> <meta itemprop="keywords" content="Tomcat"/> <meta itemprop="datePublished" content="2025-11-29T01:46:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·3118794559218"/> <meta itemprop="url" content="https://juejin.cn/user/2074157746238571"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”³å¨æ¶æ„SW64 KY10ç³»ç»Ÿå®‰è£…tomcat-9.0.10-25.ky10.sw_64.rpmè¯¦ç»†æ­¥éª¤ï¼ˆé™„å®‰è£…åŒ…ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2074157746238571/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·3118794559218
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T01:46:02.000Z" title="Sat Nov 29 2025 01:46:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹ç”³å¨æ˜¯å’±ä»¬å›½å®¶è‡ªå·±æçš„ä¸€ç§CPUæ¶æ„ï¼Œå’Œå¸¸è§çš„x86ã€ARMä¸ä¸€æ ·ï¼Œæ‰€ä»¥è£…è½¯ä»¶çš„æ—¶å€™å¾—ç”¨ä¸“é—¨ç»™å®ƒç¼–è¯‘å¥½çš„ç‰ˆæœ¬ï¼Œè¿™ä¸ªRPMåŒ…å°±æ˜¯ç»™KY10ç³»ç»Ÿï¼ˆä¹Ÿå°±æ˜¯åŸºäºç”³å¨çš„ç³»ç»Ÿï¼‰å‡†å¤‡çš„Tomcat 9ï¼Œç‰ˆæœ¬å·æ˜¯9.0.10ã€‚Tomcatå‘¢ï¼Œå°±æ˜¯ä¸€ä¸ªè·‘Java Webåº”ç”¨çš„æœåŠ¡å™¨ï¼Œå¾ˆå¤šJavaç½‘ç«™æˆ–è€…åå°æœåŠ¡éƒ½é å®ƒæ¥è·‘ã€‚</p>
<ol>
<li>
<p><strong>å…ˆçœ‹çœ‹æœ‰æ²¡æœ‰è£…Javaç¯å¢ƒ</strong>â€‹</p>
<p>Tomcatè·‘èµ·æ¥å¾—æœ‰JDKï¼Œä½ å…ˆåœ¨ç»ˆç«¯é‡Œæ•²Â <code>java -version</code>çœ‹çœ‹æœ‰æ²¡æœ‰è¾“å‡ºã€‚å¦‚æœæç¤ºæ‰¾ä¸åˆ°å‘½ä»¤ï¼Œå°±å¾—å…ˆè£…ä¸ªåˆé€‚ç‰ˆæœ¬çš„JDKï¼ˆæ³¨æ„è¦å’Œç”³å¨æ¶æ„åŒ¹é…ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æŠŠRPMåŒ…å¼„åˆ°æœºå™¨ä¸Š</strong>â€‹</p>
<p><strong>å®‰è£…åŒ…ä¸‹è½½ï¼š</strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fpan.quark.cn%2Fs%2Ff988d1ce2b96" title="https://pan.quark.cn/s/f988d1ce2b96" target="_blank" ref="nofollow noopener noreferrer">pan.quark.cn/s/f988d1ce2â€¦</a>Â ï¼Œå¯ä»¥ç”¨Uç›˜æ‹·ã€ç”¨scpä¼ ï¼Œæˆ–è€…æœ¬åœ°ä¸‹è½½å¥½ï¼Œæ”¾åˆ°æŸä¸ªç›®å½•ï¼Œæ¯”å¦‚Â <code>/tmp</code>ã€‚</p>
</li>
<li>
<p><strong>ç”¨rpmå‘½ä»¤å®‰è£…</strong>â€‹</p>
<p>æ‰“å¼€ç»ˆç«¯ï¼Œåˆ‡æ¢åˆ°æ”¾RPMåŒ…çš„ç›®å½•ï¼Œç„¶åæ‰§è¡Œï¼š</p>
<pre><code class="hljs">sudo rpm -ivh tomcat-9.0.10-25.ky10.sw_64.rpm
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>è¿™é‡ŒÂ <code>-i</code>æ˜¯å®‰è£…ï¼Œ<code>-v</code>æ˜¾ç¤ºè¿‡ç¨‹ï¼Œ<code>-h</code>æ˜¾ç¤ºè¿›åº¦æ¡ã€‚å¦‚æœç³»ç»Ÿæç¤ºç¼ºä¾èµ–ï¼Œå°±å…ˆæŠŠç¼ºçš„ä¸œè¥¿è£…ä¸Šå†è¯•ã€‚</p>
</li>
<li>
<p><strong>ç¡®è®¤è£…å¥½äº†æ²¡</strong>â€‹</p>
<p>è£…å®Œåå¯ä»¥çœ‹ä¸€çœ¼å®‰è£…çš„æ–‡ä»¶ï¼Œä¸€èˆ¬åœ¨Â <code>/usr/local/tomcat</code>ï¼ˆå…·ä½“çœ‹ä½ è¿™ä¸ªåŒ…çš„å®šä¹‰ï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨ï¼š</p>
<pre><code class="hljs">rpm -ql tomcat
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>çœ‹çœ‹éƒ½è£…åˆ°å“ªå„¿äº†ã€‚</p>
</li>
<li>
<p><strong>å¯åŠ¨Tomcatè¯•è¯•</strong>â€‹</p>
<p>æ‰¾åˆ°å®ƒçš„å¯åŠ¨è„šæœ¬ï¼Œæ¯”å¦‚Â <code>bin/startup.sh</code>ï¼Œåœ¨ç»ˆç«¯é‡Œè¿è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /usr/local/tomcat/bin
./startup.sh
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>çœ‹åˆ°ç±»ä¼¼ â€œTomcat startedâ€ çš„æç¤ºå°±è¯´æ˜èµ·æ¥äº†ã€‚</p>
</li>
<li>
<p><strong>è®¿é—®æµ‹è¯•</strong>â€‹</p>
<p>é»˜è®¤ç«¯å£ä¸€èˆ¬æ˜¯8080ï¼Œæµè§ˆå™¨é‡Œè¾“å…¥Â <code>http://æœåŠ¡å™¨IP:8080</code>ï¼Œèƒ½çœ‹åˆ°Tomcatæ¬¢è¿é¡µå°±OKäº†ã€‚</p>
</li>
</ol>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 1 é¢˜ï¼šä»€ä¹ˆæ˜¯ é—­åŒ…ï¼ˆClosureï¼‰ï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7577660060093169718</link>    <guid>https://juejin.cn/post/7577660060093169718</guid>    <pubDate>2025-11-29T04:18:47.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577660060093169718" data-draft-id="7577639235349102627" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 1 é¢˜ï¼šä»€ä¹ˆæ˜¯ é—­åŒ…ï¼ˆClosureï¼‰ï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:18:47.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 1 é¢˜ï¼šä»€ä¹ˆæ˜¯ é—­åŒ…ï¼ˆClosureï¼‰ï¼Ÿå®ƒæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:18:47.000Z" title="Sat Nov 29 2025 04:18:47 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin:30px 0 10px;color:#cca152;position:relative;padding-left:50px;border-bottom:2px solid rgba(209,163,78,.6);padding-bottom:0}.markdown-body h1{font-size:30px}.markdown-body h1:before{content:"";width:50px;height:42px;display:block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAhBAMAAACo1K8bAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAnUExURUdwTMyhUsqkUMyhUsyiUcyhUsyhUsyhUcyhUsyhUs2hUtytWNWoVX44si8AAAAKdFJOUwD8Bfcge95QncCWSSDAAAABh0lEQVQoz2WSPUvDQBjHjyPSOB7drh2OUOs36NA6pKAFwaEo4tDFIUWxGYLgKw4BEYUuHaQg7XJ0kccsUmrT2qUUQZp8KO/y1hSfIYEf/5eHu0MoGU1+sIbSw5Bypd92S+dWWrd34b15vuOPY4QxuvtYZp0lIVk3Zgjt+5zkh12AvBHnbW85BOjXySPwhc5CYcY0OdDh5dEUqIEj4cN8Dty3a1MqYJS4MaWU5wzVLwMMxqGSNQgA/VFa4gf50yhxSUW+db8ACa2gBxfnABVDFYHCPYrc7TLwCepJM8/ZoVsRwpxdHEozHUXd6idwVzFFM5BFmIhQVQjrNdnCvdd48wblI2VHtsAZioSsTYVwLoXvjMXH1icuNgPhQE+Ot1+xi8HeA3d1Df1f1JPVUOmsYLujBjuSySqSXYt+yTwbJ0pcyIhqTrxkn0BazRLizJosxRBued+z0jPD6VewOXl5utHRGmMNK3k0iTkzxpq2/oIQO6gLprF12kT/R20eyzlcg7iwK0dPsz/ibpdsCHweWwAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:80%;bottom:-10px;left:-2px}.markdown-body h2{font-size:24px}.markdown-body h2:before{content:"";width:50px;height:42px;display:block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAhBAMAAACo1K8bAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAnUExURUdwTMyhUsqkUMyhUsyiUcyhUsyhUsyhUcyhUsyhUs2hUtytWNWoVX44si8AAAAKdFJOUwD8Bfcge95QncCWSSDAAAABh0lEQVQoz2WSPUvDQBjHjyPSOB7drh2OUOs36NA6pKAFwaEo4tDFIUWxGYLgKw4BEYUuHaQg7XJ0kccsUmrT2qUUQZp8KO/y1hSfIYEf/5eHu0MoGU1+sIbSw5Bypd92S+dWWrd34b15vuOPY4QxuvtYZp0lIVk3Zgjt+5zkh12AvBHnbW85BOjXySPwhc5CYcY0OdDh5dEUqIEj4cN8Dty3a1MqYJS4MaWU5wzVLwMMxqGSNQgA/VFa4gf50yhxSUW+db8ACa2gBxfnABVDFYHCPYrc7TLwCepJM8/ZoVsRwpxdHEozHUXd6idwVzFFM5BFmIhQVQjrNdnCvdd48wblI2VHtsAZioSsTYVwLoXvjMXH1icuNgPhQE+Ot1+xi8HeA3d1Df1f1JPVUOmsYLujBjuSySqSXYt+yTwbJ0pcyIhqTrxkn0BazRLizJosxRBued+z0jPD6VewOXl5utHRGmMNK3k0iTkzxpq2/oIQO6gLprF12kT/R20eyzlcg7iwK0dPsz/ibpdsCHweWwAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:70%;bottom:-15px;left:-1px}.markdown-body h3{font-size:18px}.markdown-body h3:before{content:"";width:50px;height:42px;display:block;position:absolute;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAhBAMAAACo1K8bAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAnUExURUdwTMyhUsqkUMyhUsyiUcyhUsyhUsyhUcyhUsyhUs2hUtytWNWoVX44si8AAAAKdFJOUwD8Bfcge95QncCWSSDAAAABh0lEQVQoz2WSPUvDQBjHjyPSOB7drh2OUOs36NA6pKAFwaEo4tDFIUWxGYLgKw4BEYUuHaQg7XJ0kccsUmrT2qUUQZp8KO/y1hSfIYEf/5eHu0MoGU1+sIbSw5Bypd92S+dWWrd34b15vuOPY4QxuvtYZp0lIVk3Zgjt+5zkh12AvBHnbW85BOjXySPwhc5CYcY0OdDh5dEUqIEj4cN8Dty3a1MqYJS4MaWU5wzVLwMMxqGSNQgA/VFa4gf50yhxSUW+db8ACa2gBxfnABVDFYHCPYrc7TLwCepJM8/ZoVsRwpxdHEozHUXd6idwVzFFM5BFmIhQVQjrNdnCvdd48wblI2VHtsAZioSsTYVwLoXvjMXH1icuNgPhQE+Ot1+xi8HeA3d1Df1f1JPVUOmsYLujBjuSySqSXYt+yTwbJ0pcyIhqTrxkn0BazRLizJosxRBued+z0jPD6VewOXl5utHRGmMNK3k0iTkzxpq2/oIQO6gLprF12kT/R20eyzlcg7iwK0dPsz/ibpdsCHweWwAAAABJRU5ErkJggg==) 0 0 no-repeat;background-size:60%;bottom:-19px;left:-2px}.markdown-body h4{font-size:16px;padding-left:0;border-bottom:1px solid rgba(209,163,78,.6)}.markdown-body h5{font-size:15px;padding-left:0}.markdown-body em{color:#cca152}.markdown-body del{text-decoration-color:#cca152;text-decoration-thickness:2px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:80%;margin:6px auto;box-shadow:0 6px 15px #8e8e8e;display:block;margin:20px auto!important;object-fit:contain;border-radius:8px}.markdown-body hr{border:none;border-top:2px solid #e0c9a1;margin-top:32px 0}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background:#f6efde;color:#b69454;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Mono,Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;background:#fef6e1;border-radius:4px;box-shadow:0 0 8px hsla(0,0%,47%,.45)}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAOCAMAAABaWb9VAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAAAAJcEhZcwAADsQAAA7EAZUrDhsAAACHUExURUdwTMxCKdc8NvdYT/9hVyLJPABBAGubKNiIOv+/K+ytJBakH9aZG+5QR5VZDOBDPhmtJ8+VGuGjH/CwJR26MR6+NBq0LPW1KBmwKetNRfJUTONHP92fHuSmIeFEPhu3LR29M/BTS+mqIuqsI5qdHyLKPP++Kv9gVf9lW//KLSXXQCTQP//FLMVm5KQAAAAldFJOUwAlPPz7+woBBPu8Mzu+FlRRKmvnweeG+Wqg6mVNXmuc1OCbmjZJWF/9AAABKklEQVQoz3WS6XaCMBCFRzAM++KGsqhtDwES3//5OtmA2uP9A9zwzRoAgBC0QgQrdA68OZsDr229YGHoIEj7Pl0ZOgjKa5lYJ4Rd1vijn3nuD4Qurjmv48o6RFyfbGDnS6DeEXZfk5ZfuBhdPb9I87ECNMh1EFJKIU6agWzaa01NbmLkxznSmmObJBkkUxrERf3i+ftRiZi7ShPCYY64UhTx1AR5CDYoMXkOKEY7GmTcTzeD/FiER68DfSLgSRqEIBoB3P8h3x8RZhBXGJGusJdD6rfCBl0YqvZNkrV9zej2cWlfJWG6fRpyM41qYH+GTPPi2yFLQYC0Qybm5o96lW77kMbcrBKtgeWTsthVamNXFF4I6x0DTPuugsVRFyYpyxzWqNvHJwed8ws7QyP1UwjNjwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fef6e1}.markdown-body a{text-decoration:none;color:#d8ac5a;border-bottom:1px solid #d8ac5a}.markdown-body a:active,.markdown-body a:hover{color:#93753f;border-color:#93753f}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f4e8c7;border-collapse:collapse}.markdown-body thead{background:rgba(255,227,176,.6588235294);text-align:left;display:table-header-group;border-bottom:1px solid rgba(255,227,176,.6588235294)}.markdown-body tbody{background:rgba(255,247,229,.3882352941)}.markdown-body td,.markdown-body th{padding:7px;line-height:24px;min-width:100px}.markdown-body blockquote{color:#bd954f;padding:1px 23px;margin:22px 0;border-left:4px solid #dcb267;background-color:#fff7e5}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol .task-list-item,.markdown-body ul .task-list-item{list-style:none}.markdown-body ol li{padding-left:6px}.markdown-body::marker{color:#dcb267}.markdown-body .contains-task-list{padding-left:0}.markdown-body .contains-task-list .task-list-item{list-style:none;position:relative}.markdown-body .contains-task-list .task-list-item input[type=checkbox]{position:relative;top:2px}.markdown-body .contains-task-list .task-list-item input[type=checkbox]:before{content:"";display:inline-block;height:12px;width:12px;position:absolute;left:-2px;top:-2px;border:2px solid #cda152;border-radius:5px}.markdown-body .contains-task-list .task-list-item input[type=checkbox]:checked{position:relative;top:2px}.markdown-body .contains-task-list .task-list-item input[type=checkbox]:checked:before{border:none;content:"";display:inline-block;height:17px;width:17px;position:absolute;left:-2px;top:-2px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAFo9M/3AAAAAXNSR0IArs4c6QAAAYhJREFUOBFjYACC0/MDGsDEiyvr/zOCeUwMJxn/A8HZRUEMYBFGJsZ6kFoQYALiAyAGCgDpA+sFijKeWRj4H1kWpIWBW1SDQcm+BCzOAiK/vr7BcO/gDbAAI4hE1waWgRBnmWCGIwkyKFjnwow0BhsJk9QLncvw5dV1oPE9MCEGmBWrgCKhcFEowyR+PSNYwemFAZ4M/xjMkRWYJm5oAPFB/joDpI1BHHQANgGPDxj+//vfCA4IdJ3GcevgQnAFhlHLwYIgSVA0wABcwY3tFQzokiBFGIEP0wmigW5wZAK5FFkQib0a6NUDcEmgb7AGFpIGZOZqoMFhIAFQknEAJpn9yLLEssFOBCp2IFaDkl0xg6C8FbJyB3gowUS5RdQYBORQYpVB1iwVHIIMwJh///AYTCmYRklNIBFmNi4GeYt0BhnjeIa3dw8wSBlEgDUhxw2yCRgGfHp2geHiqiSwUwUVrFAiFVkjjA1LrjgTHEwhFvosMCZM4NEIUoAtWWNoBGZ70/gN22HiAD2uhAzsYNBZAAAAAElFTkSuQmCC) 0 0 no-repeat;background-size:100%}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é—­åŒ…ï¼ˆClosureï¼‰é¢è¯•è¯¦è§£</h2>
<p>æœ¬æ–‡è¦†ç›–æ¦‚å¿µã€æœ¬è´¨ã€ç¤ºä¾‹ã€å¸¸è§é™·é˜±ã€ç­”é¢˜æ¨¡æ¿ä¸ç»ƒä¹ é¢˜ï¼Œä¾¿äºèƒŒè®°å’Œå˜å½¢ä½œç­”ã€‚</p>
<h3 data-id="heading-1">0) ä¸€å¥è¯é«˜åˆ†ç­”æ¡ˆ</h3>
<p>é—­åŒ…æ˜¯å‡½æ•°ä¸å…¶å®šä¹‰æ—¶çš„è¯æ³•ç¯å¢ƒï¼ˆLexical Environmentï¼‰çš„ç»„åˆï¼›å³å‡½æ•°å¯ä»¥â€œè®°ä½å¹¶è®¿é—®â€å®šä¹‰æ—¶çš„å¤–å±‚ä½œç”¨åŸŸå˜é‡ï¼Œå³ä½¿å¤–å±‚ä½œç”¨åŸŸå·²ç»“æŸã€‚å¸¸ç”¨äºå°è£…ç§æœ‰å˜é‡ã€å»¶é•¿å˜é‡ç”Ÿå‘½å‘¨æœŸã€å®ç°å·¥å‚å‡½æ•°/æ¨¡å—ç­‰ã€‚</p>
<h3 data-id="heading-2">1) æ¦‚å¿µè¯¦è§£</h3>
<ul>
<li>è¯æ³•ä½œç”¨åŸŸï¼šå‡½æ•°å®šä¹‰çš„ä½ç½®å†³å®šäº†å®ƒèƒ½è®¿é—®å“ªäº›å¤–å±‚å˜é‡ï¼ˆä¸æ˜¯è°ƒç”¨ä½ç½®ï¼‰ã€‚</li>
<li>é—­åŒ…ï¼šå½“ä¸€ä¸ªå‡½æ•°å¼•ç”¨äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡å¹¶è¢«å¤–éƒ¨è¿”å›æˆ–ä½¿ç”¨æ—¶ï¼Œè¯¥å‡½æ•°å½¢æˆé—­åŒ…ã€‚é—­åŒ…ä¿å­˜çš„æ˜¯â€œå¯¹å¤–å±‚ç¯å¢ƒçš„å¼•ç”¨â€ï¼Œå› æ­¤è¢«å¼•ç”¨çš„å˜é‡ä¸ä¼šè¢«å›æ”¶ã€‚</li>
</ul>
<h3 data-id="heading-3">2) ä¸ºä»€ä¹ˆä¼šæœ‰é—­åŒ…ï¼ˆå®ç°è§’åº¦ï¼‰</h3>
<ul>
<li>å¼•æ“ä¸ºæ¯ä¸ªæ‰§è¡Œä¸Šä¸‹æ–‡ç»´æŠ¤è¯æ³•ç¯å¢ƒï¼ŒåŒ…å«å˜é‡ç»‘å®šåŠæŒ‡å‘å¤–å±‚ç¯å¢ƒçš„å¼•ç”¨ã€‚</li>
<li>è‹¥æŸå˜é‡è¢«ä»å¯è®¿é—®çš„å†…éƒ¨å‡½æ•°å¼•ç”¨ï¼Œåˆ™å…¶ç»‘å®šå¿…é¡»ç•™åœ¨å†…å­˜ä¸­ï¼›é—­åŒ…å°±æ˜¯â€œå‡½æ•° + å¯è®¿é—®çš„è¯æ³•ç¯å¢ƒâ€ã€‚</li>
</ul>
<h3 data-id="heading-4">3) å¸¸è§ç”¨é€”ï¼ˆé¢è¯•è¦ç‚¹ï¼‰</h3>
<ol>
<li>æ¨¡æ‹Ÿç§æœ‰å˜é‡ / ä¿¡æ¯éšè—</li>
<li>å·¥å‚å‡½æ•° / ç”Ÿæˆå™¨æ¨¡å¼ï¼ˆè¿”å›é¢„é…ç½®çš„å‡½æ•°ï¼‰</li>
<li>å‡½æ•°è®°å¿†ï¼ˆmemoizationï¼‰</li>
<li>ä¿æŒæŸäº›çŠ¶æ€ï¼ˆå¦‚è®¡æ•°å™¨ï¼‰</li>
<li>éƒ¨åˆ†åº”ç”¨ / æŸ¯é‡ŒåŒ–ï¼ˆä¿å­˜éƒ¨åˆ†å‚æ•°ï¼‰</li>
<li>åœ¨äº‹ä»¶/å›è°ƒä¸­æºå¸¦ä¸Šä¸‹æ–‡çŠ¶æ€</li>
</ol>
<h3 data-id="heading-5">4) ç»å…¸ç¤ºä¾‹ï¼ˆé€è¡Œè§£é‡Šï¼‰</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCounter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;            <span class="hljs-comment">// å¤–å±‚å˜é‡</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {      <span class="hljs-comment">// å†…éƒ¨å‡½æ•°å¼•ç”¨äº† count</span>
    count++;
    <span class="hljs-keyword">return</span> count;
  };
}

<span class="hljs-keyword">const</span> counter = <span class="hljs-title function_">createCounter</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">counter</span>()); <span class="hljs-comment">// 1</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">counter</span>()); <span class="hljs-comment">// 2</span>
</code></pre>
<p>è§£é‡Šï¼š<code>createCounter</code> æ‰§è¡Œå®Œåï¼Œå…¶æ‰§è¡Œä¸Šä¸‹æ–‡åº”è¢«é‡Šæ”¾ã€‚ä½†è¿”å›çš„å†…éƒ¨å‡½æ•°ä»å¼•ç”¨ <code>count</code>ï¼Œå› æ­¤ <code>count</code> ç»§ç»­å­˜åœ¨ï¼Œ<code>counter</code> ä¸å…¶è¯æ³•ç¯å¢ƒå½¢æˆé—­åŒ…ã€‚</p>
<h3 data-id="heading-6">5) é¢è¯•å¸¸è§é™·é˜±ä¸è§£æ</h3>
<h4 data-id="heading-7">é¢˜ Aï¼šfor å¾ªç¯ + varï¼ˆæœ€å¸¸è§ï¼‰</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> funcs = [];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
  funcs.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);
  });
}
funcs[<span class="hljs-number">0</span>](); <span class="hljs-comment">// 3</span>
funcs[<span class="hljs-number">1</span>](); <span class="hljs-comment">// 3</span>
funcs[<span class="hljs-number">2</span>](); <span class="hljs-comment">// 3</span>
</code></pre>
<p>åŸå› ï¼š<code>var i</code> æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œä¸‰ä¸ªå‡½æ•°å¼•ç”¨çš„æ˜¯åŒä¸€ä¸ª <code>i</code>ï¼Œå¾ªç¯ç»“æŸå <code>i === 3</code>ã€‚</p>
<p>ä¿®å¤ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>let i</code>ï¼ˆå—çº§ä½œç”¨åŸŸï¼‰ï¼š</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
  funcs.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i));
}
</code></pre>
<ul>
<li>æˆ–ä½¿ç”¨ IIFE æ•è·å½“å‰å€¼ï¼š</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
  (<span class="hljs-keyword">function</span> (<span class="hljs-params">j</span>) {
    funcs.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(j); });
  })(i);
}
</code></pre>
<h4 data-id="heading-8">é¢˜ Bï¼šé—­åŒ…ä¸å†…å­˜å ç”¨</h4>
<p>é—­åŒ…ä¼šå»¶é•¿è¢«å¼•ç”¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸã€‚å¦‚æœå¤§é‡é—­åŒ…ä¿ç•™å·¨å¤§æ•°æ®ç»“æ„ä¸”é•¿æ—¶é—´ä¸é‡Šæ”¾ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜é«˜å ç”¨ã€‚éœ€é¿å…æ— è°“ä¿ç•™å¤§å¯¹è±¡ï¼ˆä¾‹å¦‚æŠŠå¤§é‡ DOM èŠ‚ç‚¹æ”¾å…¥é•¿æœŸé—­åŒ…ï¼‰ã€‚</p>
<h4 data-id="heading-9">é¢˜ Cï¼šé—­åŒ…ä¸ this çš„è¯¯åŒº</h4>
<p>é—­åŒ…ä¸ <code>this</code> æ˜¯ä¸¤å›äº‹ï¼šé—­åŒ…æ˜¯è¯æ³•ç¯å¢ƒï¼Œ<code>this</code> æ˜¯è¿è¡Œæ—¶ç»‘å®šã€‚é—­åŒ…ä¸ä¼šæ”¹å˜ <code>this</code> çš„è¡Œä¸ºï¼Œä½†é—­åŒ…ä¸­çš„å‡½æ•°ä»å— <code>this</code> è§„åˆ™å½±å“ï¼ˆ<code>call/apply/bind</code>ï¼‰ã€‚</p>
<h3 data-id="heading-10">6) è¿½é—®ç‚¹ä¸å›ç­”æ€è·¯</h3>
<ul>
<li>ä¸ºä»€ä¹ˆé—­åŒ…ä¸ä¼šè¢«å›æ”¶ï¼Ÿå› ä¸ºå†…éƒ¨å‡½æ•°æŒæœ‰å¯¹å¤–å±‚å˜é‡çš„å¼•ç”¨ï¼Œå¼•ç”¨å­˜åœ¨å³ä¸å›æ”¶ã€‚</li>
<li>é—­åŒ…çš„æ€§èƒ½é—®é¢˜ï¼Ÿå»¶é•¿å˜é‡ç”Ÿå‘½å‘¨æœŸã€å¢åŠ å†…å­˜å ç”¨ï¼›é¿å…åœ¨å…¨å±€é•¿æœŸå¼•ç”¨å¤§é‡æ•°æ®ï¼Œå¿…è¦æ—¶ä¸»åŠ¨è§£é™¤å¼•ç”¨ï¼ˆå¦‚ç½® <code>null</code>ï¼‰ã€‚</li>
<li>å’Œæ¨¡å—æ¨¡å¼å…³ç³»ï¼Ÿæ¨¡å—å¸¸åˆ©ç”¨é—­åŒ…éšè—ç§æœ‰çŠ¶æ€ï¼Œåªæš´éœ²å¿…è¦ APIï¼ˆIIFE + è¿”å›å¯¹è±¡ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-11">7) æ ‡å‡†ç­”é¢˜ç»“æ„ï¼ˆç®€æ´å®Œæ•´ï¼‰</h3>
<ol>
<li>ä¸€å¥å®šä¹‰ï¼ˆå‡½æ•° + è¯æ³•ç¯å¢ƒï¼‰</li>
<li>ä¸ºä»€ä¹ˆäº§ç”Ÿï¼ˆè¯æ³•ä½œç”¨åŸŸ + å¼•æ“è¯æ³•ç¯å¢ƒï¼‰</li>
<li>å¸¸è§ç”¨é€”ï¼ˆç§æœ‰å˜é‡ã€å·¥å‚å‡½æ•°ç­‰ï¼‰</li>
<li>ç®€å•ä¸¾ä¾‹ï¼ˆè®¡æ•°å™¨ï¼‰</li>
<li>é™·é˜±/æ€§èƒ½è¡¥å……ï¼ˆå¦‚ for/var ç¤ºä¾‹ï¼‰</li>
</ol>
<h3 data-id="heading-12">8) ç»ƒä¹ é¢˜</h3>
<h4 data-id="heading-13">ç»ƒä¹  1ï¼šé¢„æµ‹è¾“å‡º</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">makeAdd</span>(<span class="hljs-params">x</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">y</span>) {
    <span class="hljs-keyword">return</span> x + y;
  }
}
<span class="hljs-keyword">const</span> add5 = <span class="hljs-title function_">makeAdd</span>(<span class="hljs-number">5</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add5</span>(<span class="hljs-number">2</span>)); <span class="hljs-comment">// 7</span>
</code></pre>
<h4 data-id="heading-14">ç»ƒä¹  2ï¼šä¿®å¤ for é—­åŒ…</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">var</span> funcs = [];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
  funcs.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i); });
}
<span class="hljs-comment">// æ”¹ä¸ºï¼š</span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
  funcs.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i));
}
funcs.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">f</span> =&gt;</span> <span class="hljs-title function_">f</span>());
</code></pre>
<h4 data-id="heading-15">ç»ƒä¹  3ï¼šå®ç°å¸¦ reset çš„è®¡æ•°å™¨</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCounter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">return</span> {
    <span class="hljs-title function_">inc</span>(<span class="hljs-params"/>) { count++; <span class="hljs-keyword">return</span> count; },
    <span class="hljs-title function_">value</span>(<span class="hljs-params"/>) { <span class="hljs-keyword">return</span> count; },
    <span class="hljs-title function_">reset</span>(<span class="hljs-params"/>) { count = <span class="hljs-number">0</span>; }
  };
}
</code></pre>
<h3 data-id="heading-16">9) å¸¸è§å˜å½¢é¢˜ï¼ˆåŠ åˆ†é¡¹ï¼‰</h3>
<ul>
<li>é—­åŒ…åœ¨å¼‚æ­¥åœºæ™¯ï¼ˆ<code>setTimeout</code>/<code>Promise</code>ï¼‰çš„å·¥ä½œæœºåˆ¶</li>
<li>ç”¨é—­åŒ…å®ç° <code>once(fn)</code>ï¼ˆåªæ‰§è¡Œä¸€æ¬¡ï¼‰</li>
<li>ç”¨é—­åŒ…å®ç° <code>memoize(fn)</code>ï¼ˆç»“æœç¼“å­˜ï¼‰</li>
<li>é—­åŒ…åœ¨æ¨¡å—åŒ–ï¼ˆCommonJS/ESMï¼‰ä¸‹çš„è§’è‰²</li>
</ul>
<h3 data-id="heading-17">10) ç­”é¢˜å°æŠ€å·§</h3>
<ul>
<li>ä¸¾ä¾‹æ—¶è¯´æ˜â€œä¸ºä»€ä¹ˆ GC ä¸ä¼šå›æ”¶è¯¥å˜é‡â€ã€‚</li>
<li>å¯¹ for+var é™·é˜±ï¼šå…ˆè¯´ç»“æœï¼Œå†ç»™ä¸¤ç§ä¿®å¤ï¼ˆ<code>let</code> ä¸ IIFEï¼‰ã€‚</li>
<li>è‹¥è¢«è¿½é—®æ€§èƒ½ï¼šè¯´æ˜é—­åŒ…ä¼šå»¶é•¿å˜é‡ç”Ÿå‘½å‘¨æœŸï¼Œåº”åŠæ—¶è§£é™¤ä¸å¿…è¦çš„å¼•ç”¨ã€‚</li>
</ul>
<h2 data-id="heading-18">é—­åŒ…ï¼ˆClosureï¼‰è¶…ç²¾ç®€é€Ÿè®°å¡ç‰‡</h2>
<blockquote>
<p>ä¸“é—¨ç”¨äºå¿«é€Ÿå¤ä¹ ã€é¢è¯•å‰çªå‡»ã€ä¸´åœºèƒŒè¯µã€‚å†…å®¹æåº¦æµ“ç¼©ï¼Œä½†è¦†ç›–æ‰€æœ‰æ ¸å¿ƒç‚¹ï¼Œè¯»ä¸€éå°±èƒ½è®°ä½ã€‚</p>
</blockquote>
<h3 data-id="heading-19">1. é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆæœ€æ ‡å‡†å®šä¹‰ï¼‰</h3>
<p>é—­åŒ… = å‡½æ•° + å…¶å®šä¹‰æ—¶çš„è¯æ³•ç¯å¢ƒï¼ˆLexical Environmentï¼‰ã€‚</p>
<p>å³ï¼šå‡½æ•°èƒ½è®¿é—®å®ƒå¤–å±‚ä½œç”¨åŸŸçš„å˜é‡ï¼Œå³ä½¿å¤–å±‚ä½œç”¨åŸŸå·²æ‰§è¡Œç»“æŸã€‚</p>
<h3 data-id="heading-20">2. ä¸ºä»€ä¹ˆä¼šæœ‰é—­åŒ…ï¼Ÿï¼ˆä¸€å¥è¯è§£é‡Šï¼‰</h3>
<p>å› ä¸º JS æ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œå¹¶ä¸”å†…éƒ¨å‡½æ•°å¯¹å¤–å±‚å˜é‡å½¢æˆå¼•ç”¨ï¼Œå¯¼è‡´å¤–å±‚å˜é‡ä¸ä¼šè¢«å›æ”¶ã€‚</p>
<h3 data-id="heading-21">3. é—­åŒ…çš„ä½œç”¨ï¼ˆå…¨éƒ¨é¢è¯•é«˜é¢‘ç‚¹ï¼‰</h3>
<ul>
<li>æ¨¡æ‹Ÿç§æœ‰å˜é‡ / æ•°æ®éšè—</li>
<li>å»¶é•¿å˜é‡ç”Ÿå‘½å‘¨æœŸ</li>
<li>å·¥å‚å‡½æ•°ï¼ˆè¿”å›é¢„é…ç½®å‡½æ•°ï¼‰</li>
<li>å‡½æ•°è®°å¿†ï¼ˆmemoizeï¼‰</li>
<li>æŸ¯é‡ŒåŒ–/éƒ¨åˆ†åº”ç”¨ï¼ˆcurryï¼‰</li>
<li>å¼‚æ­¥å›è°ƒä¸­ä¿æŒçŠ¶æ€</li>
</ul>
<h3 data-id="heading-22">4. æœ€å…¸å‹çš„é—­åŒ…ä¾‹å­ï¼ˆå¿…èƒŒï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createCounter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> ++count;
  };
}
</code></pre>
<h3 data-id="heading-23">5. for + var ç»å…¸é¢è¯•é¢˜ï¼ˆå¿…è€ƒï¼‰</h3>
<h4 data-id="heading-24">é—®é¢˜</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">var</span> arr = [];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
  arr.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i));
}
arr[<span class="hljs-number">0</span>](); arr[<span class="hljs-number">1</span>](); arr[<span class="hljs-number">2</span>]();
</code></pre>
<p><strong>è¾“å‡ºï¼š</strong> <code>3 3 3</code></p>
<p><strong>åŸå› ï¼š</strong> ä¸‰ä¸ªå‡½æ•°å…±äº«åŒä¸€ä¸ª <code>var i</code>ï¼Œå¾ªç¯ç»“æŸå <code>i = 3</code>ã€‚</p>
<h4 data-id="heading-25">ä¿®å¤æ–¹æ³•ï¼ˆä¸¤ç§éƒ½è¦ä¼šï¼‰</h4>
<ul>
<li>
<p><strong>æ–¹æ³•ä¸€ï¼š</strong> æ¢æˆ <code>let</code></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">var</span> arr = [];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
  arr.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i));
}
</code></pre>
</li>
<li>
<p><strong>æ–¹æ³•äºŒï¼š</strong> IIFE æ•è·å½“å‰å€¼</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">var</span> arr = [];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
  (<span class="hljs-keyword">function</span>(<span class="hljs-params">j</span>) {
    arr.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(j));
  })(i);
}
</code></pre>
</li>
</ul>
<h3 data-id="heading-26">6. é—­åŒ…å¸¸è§é—®é¢˜ï¼ˆä¸¤å¥å°±å¤Ÿï¼‰</h3>
<ul>
<li>é—­åŒ…ä¼šè®©å¤–å±‚å˜é‡å¸¸é©»å†…å­˜ â†’ å¯èƒ½é€ æˆé«˜å†…å­˜å ç”¨</li>
<li>åŠæ—¶é‡Šæ”¾ï¼šæŠŠå¼•ç”¨è®¾ä¸º <code>null</code> æˆ–è®©é—­åŒ…è„±ç¦»ä½œç”¨åŸŸ</li>
</ul>
<h3 data-id="heading-27">7. é¢è¯•æ ‡å‡†ä½œç­”æ¨¡æ¿ï¼ˆèƒŒä¸‹æ¥å°±èƒ½ç¨³è¿‡ï¼‰</h3>
<blockquote>
<p>"é—­åŒ…æ˜¯å‡½æ•°ä¸å…¶è¯æ³•ç¯å¢ƒçš„ç»„åˆï¼Œå®ƒå…è®¸å‡½æ•°åœ¨å¤–å±‚ä½œç”¨åŸŸç»“æŸåä»èƒ½è®¿é—®å¤–å±‚å˜é‡ã€‚<br/>
é—­åŒ…å¸¸ç”¨äºç§æœ‰å˜é‡ã€å·¥å‚å‡½æ•°ã€æŸ¯é‡ŒåŒ–å’Œåœ¨å¼‚æ­¥å›è°ƒä¸­ä¿æŒçŠ¶æ€ã€‚<br/>
æœ¬è´¨æ˜¯å†…éƒ¨å‡½æ•°å¯¹å¤–å±‚å˜é‡çš„å¼•ç”¨æœªé‡Šæ”¾ï¼Œå› è€Œå¤–å±‚å˜é‡çš„ç”Ÿå‘½å‘¨æœŸè¢«å»¶é•¿ã€‚"</p>
</blockquote>
<h3 data-id="heading-28">8. é¢è¯•è¿›é˜¶åŠ åˆ†å¥ï¼ˆä¸€å¥å³å¯ï¼‰</h3>
<p>é—­åŒ…çš„æ ¹æœ¬æ¥æºæ˜¯ JS çš„è¯æ³•ä½œç”¨åŸŸè§„åˆ™ + å¼•æ“å¯¹è¯æ³•ç¯å¢ƒçš„æŒä¹…åŒ–ä¿å­˜ï¼Œè€Œä¸æ˜¯å‡½æ•°è°ƒç”¨ä½ç½®å†³å®šçš„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ç¬¬ 2 é¢˜ï¼švarã€letã€const çš„åŒºåˆ«ï¼Ÿï¼ˆç»å¯¹é«˜é¢‘ï¼‰]]></title>    <link>https://juejin.cn/post/7577660060093202486</link>    <guid>https://juejin.cn/post/7577660060093202486</guid>    <pubDate>2025-11-29T04:22:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577660060093202486" data-draft-id="7577627308515196969" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ç¬¬ 2 é¢˜ï¼švarã€letã€const çš„åŒºåˆ«ï¼Ÿï¼ˆç»å¯¹é«˜é¢‘ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:22:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ç¬¬ 2 é¢˜ï¼švarã€letã€const çš„åŒºåˆ«ï¼Ÿï¼ˆç»å¯¹é«˜é¢‘ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:22:18.000Z" title="Sat Nov 29 2025 04:22:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1:first-child,.markdown-body h2:first-child,.markdown-body h3:first-child,.markdown-body h4:first-child,.markdown-body h5:first-child,.markdown-body h6:first-child{margin-top:-1.5rem;margin-bottom:1rem}.markdown-body h1:before,.markdown-body h2:before,.markdown-body h3:before,.markdown-body h4:before,.markdown-body h5:before,.markdown-body h6:before{content:"#";display:inline-block;color:#3eaf7c;padding-right:.23em}.markdown-body h1{position:relative;font-size:2.5rem;margin-bottom:5px}.markdown-body h1:before{font-size:2.5rem}.markdown-body h2{padding-bottom:.5rem;font-size:2.2rem;border-bottom:1px solid #ececec}.markdown-body h3{font-size:1.5rem;padding-bottom:0}.markdown-body h4{font-size:1.25rem}.markdown-body h5{font-size:1rem}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body strong{color:#3eaf7c}.markdown-body img{max-width:100%;border-radius:2px;display:block;margin:auto;border:3px solid rgba(62,175,124,.2)}.markdown-body hr{border:none;border-top:1px solid #3eaf7c;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;overflow-x:auto;padding:.2rem .5rem;margin:0;color:#3eaf7c;font-weight:700;font-size:.85em;background-color:rgba(27,31,35,.05);border-radius:3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:6px;border:2px solid #3eaf7c}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{font-weight:500;text-decoration:none;color:#3eaf7c}.markdown-body a:active,.markdown-body a:hover{border-bottom:1.5px solid #3eaf7c}.markdown-body a:before{content:"â‡²"}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #3eaf7c}.markdown-body thead{background:#3eaf7c;color:#fff;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(62,175,124,.2)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:.5rem solid;border-color:#42b983;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{outline:none;border:none;border-left:4px solid #3eaf7c;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary::-webkit-details-marker{color:#3eaf7c}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body ol li::marker{color:#3eaf7c}.markdown-body ul li{list-style:none}.markdown-body ul li:before{content:"â€¢";margin-right:4px;color:#3eaf7c}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">varã€letã€const çš„åŒºåˆ«ï¼ˆå‰ç«¯é¢è¯•é«˜é¢‘é¢˜ï¼‰</h2>
<blockquote>
<p>è¿™æ˜¯æ‰€æœ‰å‰ç«¯é¢è¯•å¿…é—® TOP3 çš„é¢˜ï¼Œä½ å¿…é¡»ç­”å¾—å…¨é¢ã€ç²¾å‡†ã€æœ‰æ¡ç†ã€‚</p>
</blockquote>
<h3 data-id="heading-1">0. é¢è¯•"ä¸€å¥è¯æ ‡å‡†ç­”æ¡ˆ"</h3>
<p><strong>var</strong> æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œæœ‰å˜é‡æå‡ï¼Œå¯é‡å¤å£°æ˜ã€‚<br/>
<strong>let å’Œ const</strong> æ˜¯å—çº§ä½œç”¨åŸŸï¼Œå­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œä¸å¯é‡å¤å£°æ˜ï¼›const ç»‘å®šä¸å¯å˜ä½†å¯¹è±¡å†…å®¹å¯å˜ã€‚</p>
<blockquote>
<p>å¦‚æœä¸€åˆ†é’Ÿè¦ç­”å®Œï¼Œè¿™æ˜¯æœ€ä¼˜ç­”æ¡ˆã€‚</p>
</blockquote>
<h3 data-id="heading-2">1. ä½œç”¨åŸŸï¼ˆç¬¬ä¸€é‡ç‚¹ï¼‰</h3>
<h4 data-id="heading-3">varï¼šå‡½æ•°ä½œç”¨åŸŸï¼ˆFunction Scopeï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;
  }
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x); <span class="hljs-comment">// 1</span>
}
</code></pre>
<h4 data-id="heading-4">let / constï¼šå—çº§ä½œç”¨åŸŸï¼ˆBlock Scopeï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (<span class="hljs-literal">true</span>) {
  <span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>;
  <span class="hljs-keyword">const</span> b = <span class="hljs-number">2</span>;
}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// ReferenceError</span>
</code></pre>
<blockquote>
<p><strong>å…³é”®ç‚¹</strong>ï¼šå—çº§ä½œç”¨åŸŸèƒ½æœ‰æ•ˆé¿å…å˜é‡æ±¡æŸ“ â†’ é¢è¯•å®˜å–œæ¬¢ä½ å¼ºè°ƒè¿™ä¸€ç‚¹ã€‚</p>
</blockquote>
<h3 data-id="heading-5">2. æ˜¯å¦ä¼šè¢«æå‡ï¼ˆHoistingï¼‰</h3>
<p>ä¸‰è€…éƒ½ä¼šæå‡ï¼ä½†åˆå§‹åŒ–è¡Œä¸ºä¸åŒã€‚</p>





























<table><thead><tr><th>å£°æ˜æ–¹å¼</th><th>æå‡ï¼Ÿ</th><th>åˆå§‹å€¼</th><th>æ˜¯å¦è¿›å…¥æš‚æ—¶æ€§æ­»åŒº</th></tr></thead><tbody><tr><td>var</td><td>âœ”</td><td>undefined</td><td>âŒ</td></tr><tr><td>let</td><td>âœ”</td><td>æœªåˆå§‹åŒ–</td><td>âœ”ï¼ˆTDZï¼‰</td></tr><tr><td>const</td><td>âœ”</td><td>æœªåˆå§‹åŒ–</td><td>âœ”ï¼ˆTDZï¼‰</td></tr></tbody></table>
<h4 data-id="heading-6">ç»å…¸ç¤ºä¾‹</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(a); <span class="hljs-comment">// undefined</span>
<span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b); <span class="hljs-comment">// ReferenceErrorï¼ˆTDZï¼‰</span>
<span class="hljs-keyword">let</span> b = <span class="hljs-number">2</span>;
</code></pre>
<blockquote>
<p><strong>è®°ä½</strong>ï¼šTDZï¼ˆæš‚æ—¶æ€§æ­»åŒºï¼‰æ˜¯é¢è¯•å¿…é—®ç‚¹ã€‚</p>
</blockquote>
<h3 data-id="heading-7">3. æ˜¯å¦å¯é‡å¤å£°æ˜</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> x = <span class="hljs-number">2</span>; <span class="hljs-comment">// âœ”ï¸</span>

<span class="hljs-keyword">let</span> y = <span class="hljs-number">1</span>;
<span class="hljs-keyword">let</span> y = <span class="hljs-number">2</span>; <span class="hljs-comment">// âŒ</span>

<span class="hljs-keyword">const</span> z = <span class="hljs-number">1</span>;
<span class="hljs-keyword">const</span> z = <span class="hljs-number">2</span>; <span class="hljs-comment">// âŒ</span>
</code></pre>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆç¦æ­¢é‡å¤å£°æ˜ï¼Ÿ</strong><br/>
å› ä¸ºå—çº§ä½œç”¨åŸŸä¸‹é‡å¤å£°æ˜å®¹æ˜“å¯¼è‡´ä¸å¯é¢„æœŸçš„è¦†ç›–ã€‚</p>
</blockquote>
<h3 data-id="heading-8">4. æ˜¯å¦å¯ä¿®æ”¹</h3>





















<table><thead><tr><th>å£°æ˜æ–¹å¼</th><th>å˜é‡å¯å˜ï¼Ÿ</th></tr></thead><tbody><tr><td>var</td><td>âœ”</td></tr><tr><td>let</td><td>âœ”</td></tr><tr><td>const</td><td>âŒï¼ˆç»‘å®šä¸å¯å˜ï¼‰</td></tr></tbody></table>
<h4 data-id="heading-9">æ³¨æ„</h4>
<p>const çš„"ä¸å¯å˜"æŒ‡çš„æ˜¯å˜é‡ç»‘å®šä¸å¯å˜ï¼Œä¸æ˜¯å†…å®¹ä¸å¯å˜ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> };
obj.<span class="hljs-property">a</span> = <span class="hljs-number">2</span>; <span class="hljs-comment">// âœ” okay</span>
obj = {};  <span class="hljs-comment">// âŒ TypeError</span>
</code></pre>
<h3 data-id="heading-10">5. å…¨å±€å¯¹è±¡æŒ‚è½½ï¼ˆé¢è¯•å¸¸è§è¿½é—®ï¼‰</h3>
<h4 data-id="heading-11">åœ¨æµè§ˆå™¨ä¸­ï¼š</h4>
<p><strong>var â†’ ä¼šæŒ‚åœ¨ window ä¸Šï¼ˆä¸æ¨èï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">a</span>); <span class="hljs-comment">// 1</span>
</code></pre>
<p><strong>let / const â†’ ä¸ä¼šæŒ‚åœ¨ window ä¸Šï¼ˆå®‰å…¨ï¼‰</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> b = <span class="hljs-number">2</span>;
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">b</span>); <span class="hljs-comment">// undefined</span>
</code></pre>
<blockquote>
<p><strong>let/const æ›´å®‰å…¨</strong>ï¼Œä¸æ±¡æŸ“å…¨å±€å¯¹è±¡ï¼Œæ˜¯ ES6 æ¨å‡ºçš„åŸå› ä¹‹ä¸€ã€‚</p>
</blockquote>
<h3 data-id="heading-12">6. for å¾ªç¯ä¸­çš„è¡Œä¸ºåŒºåˆ«ï¼ˆé«˜é¢‘é™·é˜±ï¼‰</h3>
<h4 data-id="heading-13">6.1 var çš„ç»å…¸é¢è¯•é™·é˜±</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i));
}
</code></pre>
<p><strong>è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs">3
3
3
</code></pre>
<p><strong>åŸå› </strong>ï¼šä¸‰ä¸ªå‡½æ•°å…±äº«åŒä¸€ä¸ª iã€‚</p>
<h4 data-id="heading-14">6.2 let è‡ªåŠ¨åˆ›å»ºå—çº§ä½œç”¨åŸŸ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; i++) {
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i));
}
</code></pre>
<p><strong>è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs">0
1
2
</code></pre>
<p><strong>åŸå› </strong>ï¼šæ¯è½®å¾ªç¯éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ iã€‚</p>
<h3 data-id="heading-15">7. const çš„æœ¬è´¨ï¼ˆå¾ˆå¤šå€™é€‰äººç­”é”™ï¼‰</h3>
<ul>
<li>const ä»…ä»…ä¿è¯å˜é‡ç»‘å®šä¸å¯å˜ï¼Œä¸ä¿è¯å€¼ä¸å¯å˜</li>
<li>å¦‚æœå€¼æ˜¯å¯¹è±¡ï¼Œåˆ™å¯¹è±¡å±æ€§ä»å¯æ›´æ”¹</li>
<li>å¦‚æœå€¼æ˜¯åŸºæœ¬ç±»å‹ï¼Œåˆ™å½»åº•ä¸å¯å˜ï¼ˆå› ä¸ºç»‘å®šä¸å…è®¸é‡æ–°èµ‹å€¼ï¼‰</li>
</ul>
<blockquote>
<p><strong>å›ç­”æ—¶å¼ºè°ƒ"ç»‘å®šä¸å¯å˜"ä¼šåŠ åˆ†ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-16">8. æ‰§è¡Œä¸Šä¸‹æ–‡å¯¹å®ƒä»¬çš„å½±å“ï¼ˆé«˜çº§ç†è§£ï¼‰</h3>
<ul>
<li><strong>var</strong> è¿›å…¥ Variable Environmentï¼ˆVEï¼‰</li>
<li><strong>letã€const</strong> è¿›å…¥ Lexical Environmentï¼ˆLEï¼‰</li>
</ul>
<p>LE åœ¨åˆ›å»ºæ—¶ä¼šæ ‡è®°æœªåˆå§‹åŒ–ï¼Œä»è€Œå½¢æˆ TDZï¼ˆæš‚æ—¶æ€§æ­»åŒºï¼‰<br/>
è¿™æ˜¯ä¸ºä»€ä¹ˆ"æå‡ä½†ä¸èƒ½è®¿é—®"ã€‚</p>
<h3 data-id="heading-17">9. é¢è¯•æ ‡å‡†ä½œç­”æ¨¡æ¿ï¼ˆæ»¡åˆ†ç­”æ¡ˆï¼‰</h3>
<blockquote>
<p>var æ˜¯å‡½æ•°ä½œç”¨åŸŸï¼Œæœ‰å˜é‡æå‡ï¼Œå¹¶ä¸”åˆå§‹åŒ–ä¸º undefinedï¼Œå¯é‡å¤å£°æ˜ï¼Œä¼šæŒ‚åœ¨ window ä¸Šã€‚<br/>
let å’Œ const æ˜¯ ES6 å¼•å…¥çš„å—çº§ä½œç”¨åŸŸå£°æ˜æ–¹å¼ï¼Œå­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œä¸å¯é‡å¤å£°æ˜ï¼Œä¹Ÿä¸ä¼šæŒ‚åœ¨å…¨å±€å¯¹è±¡ä¸Šã€‚<br/>
åŒºåˆ«æ˜¯ let å¯é‡æ–°èµ‹å€¼ï¼Œconst ç»‘å®šä¸å¯å˜ä½†å¯¹è±¡å†…å®¹å¯å˜ã€‚<br/>
å»ºè®®é»˜è®¤ä½¿ç”¨ constï¼Œä»…åœ¨éœ€è¦ä¿®æ”¹å˜é‡æ—¶ä½¿ç”¨ letã€‚</p>
</blockquote>
<p>è¿™æ˜¯æœ€ä¼˜é›…çš„é¢è¯•å›ç­”æ¨¡æ¿ã€‚</p>
<h3 data-id="heading-18">10. å¸¸è§è¿½é—®</h3>
<h4 data-id="heading-19">Q1ï¼šä¸ºä»€ä¹ˆè¦å¼•å…¥ let/constï¼Ÿ</h4>
<p>å› ä¸º var æœ‰ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>æ— æ³•é¿å…å˜é‡æå‡å¸¦æ¥çš„æ€ªå¼‚è¡Œä¸º</li>
<li>å‡½æ•°ä½œç”¨åŸŸå¯¼è‡´å˜é‡æ±¡æŸ“å¤§</li>
<li>ä¸æ”¯æŒå—çº§ä½œç”¨åŸŸ</li>
<li>ä¼šæŒ‚åˆ° window ä¸Šå¯¼è‡´å…¨å±€æ±¡æŸ“</li>
</ul>
<h4 data-id="heading-20">Q2ï¼šä¸ºä»€ä¹ˆ let/const ä¼šæœ‰ TDZï¼Ÿ</h4>
<p>ä¸ºäº†æ¶ˆé™¤å˜é‡æå‡å¸¦æ¥çš„"ä½¿ç”¨æœªå®šä¹‰å˜é‡"çš„éšæ‚£ï¼Œä½¿ JS è¡Œä¸ºæ›´å¯é¢„æœŸã€‚</p>
<h4 data-id="heading-21">Q3ï¼šåº”è¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿ</h4>
<ul>
<li>é»˜è®¤ç”¨ const</li>
<li>éœ€è¦æ”¹å˜å€¼æ—¶ç”¨ let</li>
<li>æ°¸è¿œä¸è¦ç”¨ var</li>
</ul>
<blockquote>
<p>è¿™æ˜¯ç°ä»£å‰ç«¯çš„é»„é‡‘å‡†åˆ™ã€‚</p>
</blockquote>
<h3 data-id="heading-22">11. é€Ÿè®°å¡ç‰‡</h3>
<h4 data-id="heading-23">ã€Švar / let / const é€Ÿè®°å¡ç‰‡ã€‹</h4>
<h5 data-id="heading-24">ä½œç”¨åŸŸ</h5>
<ul>
<li><strong>var</strong>ï¼šå‡½æ•°ä½œç”¨åŸŸ</li>
<li><strong>let/const</strong>ï¼šå—çº§ä½œç”¨åŸŸ âœ”</li>
</ul>
<h5 data-id="heading-25">æå‡ï¼ˆHoistingï¼‰</h5>
<ul>
<li><strong>var</strong>ï¼šæå‡å¹¶èµ‹ undefined</li>
<li><strong>let/const</strong>ï¼šæå‡ä½†ä¸åˆå§‹åŒ– â†’ TDZ âœ”</li>
</ul>
<h5 data-id="heading-26">å¯å¦é‡å¤å£°æ˜</h5>
<ul>
<li><strong>var</strong>ï¼šâœ”</li>
<li><strong>let/const</strong>ï¼šâœ˜</li>
</ul>
<h5 data-id="heading-27">å¯å¦ä¿®æ”¹</h5>
<ul>
<li><strong>var</strong>ï¼šâœ”</li>
<li><strong>let</strong>ï¼šâœ”</li>
<li><strong>const</strong>ï¼šç»‘å®šä¸å¯å˜ï¼ˆå¯¹è±¡å†…å®¹å¯å˜ï¼‰</li>
</ul>
<h5 data-id="heading-28">å…¨å±€å±æ€§</h5>
<ul>
<li><strong>var</strong>ï¼šä¼šæŒ‚åˆ° window</li>
<li><strong>let/const</strong>ï¼šä¸ä¼š âœ”</li>
</ul>
<h5 data-id="heading-29">æ¨èç”¨æ³•</h5>
<ul>
<li>é»˜è®¤ const</li>
<li>éœ€è¦ä¿®æ”¹æ—¶ç”¨ let</li>
<li>ç¦ç”¨ var âœ”</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ç¬¬å››é¢˜ åŸå‹ä¸åŸå‹é“¾ - å‰ç«¯é¢è¯•å¿…è€ƒé¢˜]]></title>    <link>https://juejin.cn/post/7577651651794354219</link>    <guid>https://juejin.cn/post/7577651651794354219</guid>    <pubDate>2025-11-29T04:29:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577651651794354219" data-draft-id="7577660060093218870" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ç¬¬å››é¢˜  åŸå‹ä¸åŸå‹é“¾ - å‰ç«¯é¢è¯•å¿…è€ƒé¢˜"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:29:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ç¬¬å››é¢˜  åŸå‹ä¸åŸå‹é“¾ - å‰ç«¯é¢è¯•å¿…è€ƒé¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:29:18.000Z" title="Sat Nov 29 2025 04:29:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>è¿™æ˜¯å‰ç«¯é¢è¯•ä¸­å‡ ä¹å¿…è€ƒçš„ä¸€é¢˜ï¼Œæœ€æ¸…æ™°ã€æœ€èƒ½æ‹¿é«˜åˆ†çš„ç‰ˆæœ¬ã€‚</p>
</blockquote>
<h2 data-id="heading-0">é¢è¯•å®˜å¸¸é—®é—®é¢˜</h2>
<ol>
<li><strong>ä»€ä¹ˆæ˜¯åŸå‹ï¼ˆprototypeï¼‰ï¼Ÿ</strong></li>
<li><strong>ä»€ä¹ˆæ˜¯ <code>__proto__</code>ï¼Ÿ</strong></li>
<li><strong>ä»€ä¹ˆæ˜¯æ„é€ å‡½æ•°ï¼Ÿ</strong></li>
<li><strong>ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿä¸ºä»€ä¹ˆ JS èƒ½å®ç°ç»§æ‰¿ï¼Ÿ</strong></li>
<li><strong>ç”»å‡ºåŸå‹é“¾å›¾ï¼Ÿ</strong></li>
</ol>
<hr/>
<h2 data-id="heading-1">1. prototypeï¼ˆåŸå‹ï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p><strong>æ¯ä¸€ä¸ªå‡½æ•°ï¼ˆFunctionï¼‰åœ¨åˆ›å»ºæ—¶ï¼Œéƒ½ä¼šè‡ªåŠ¨å¸¦æœ‰ä¸€ä¸ª <code>prototype</code> å±æ€§ã€‚</strong><br/>
è¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å­˜æ”¾<strong>å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•</strong>ã€‚</p>
<h3 data-id="heading-2">ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params"/>) {}
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayHi</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"hi"</span>)
}
</code></pre>
<blockquote>
<p><code>Person.prototype</code> æ˜¯æ‰€æœ‰ Person å®ä¾‹å…±åŒ"ç»§æ‰¿"çš„åœ°æ–¹ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-3">2. ä»€ä¹ˆæ˜¯ <code>__proto__</code>ï¼Ÿ</h2>
<p><strong>æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª <code>__proto__</code> å±æ€§ï¼ŒæŒ‡å‘å®ƒçš„åŸå‹ï¼ˆå³æ„é€ å‡½æ•°çš„ <code>prototype</code>ï¼‰ã€‚</strong></p>
<h3 data-id="heading-4">ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>()
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) <span class="hljs-comment">// true</span>
</code></pre>
<ul>
<li><code>__proto__</code> = å®ä¾‹ â†’ åŸå‹å¯¹è±¡çš„è¿æ¥</li>
<li>æ³¨æ„ï¼š<code>__proto__</code> æ˜¯æµè§ˆå™¨å®ç°çš„ï¼Œä¸æ˜¯è§„èŒƒï¼Œä½†ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-5">3. æ„é€ å‡½æ•°æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>æ„é€ å‡½æ•°å°±æ˜¯ä½¿ç”¨ <code>new</code> è°ƒç”¨çš„å‡½æ•°ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params"/>) {}
<span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>()
</code></pre>
<h3 data-id="heading-6"><code>new</code> åšäº†å››ä»¶äº‹ï¼š</h3>
<ol>
<li>åˆ›å»ºç©ºå¯¹è±¡ <code>{}</code></li>
<li><code>this</code> æŒ‡å‘è¿™ä¸ªæ–°å¯¹è±¡</li>
<li>æ–°å¯¹è±¡çš„ <code>__proto__ = æ„é€ å‡½æ•°.prototype</code></li>
<li>è¿”å›è¿™ä¸ªå¯¹è±¡</li>
</ol>
<blockquote>
<p>åŸå‹é“¾å…³ç³»å°±æ˜¯åœ¨è¿™ä¸€æ­¥åˆ›å»ºçš„ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-7">4. ä»€ä¹ˆæ˜¯åŸå‹é“¾ï¼Ÿä¸ºä»€ä¹ˆå«é“¾ï¼Ÿ</h2>
<p>å½“ä½ è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼š</p>
<ol>
<li>å…ˆä»è‡ªå·±èº«ä¸Šæ‰¾</li>
<li>æ‰¾ä¸åˆ°å°±å»å®ƒçš„ <code>__proto__</code>ï¼ˆåŸå‹ï¼‰ä¸Šæ‰¾</li>
<li>åŸå‹ä¸Šå†æ‰¾ä¸åˆ°å°±ç»§ç»­å‘ä¸Šä¸€å±‚æ‰¾</li>
<li>æœ€ç»ˆæ‰¾åˆ° <code>Object.prototype</code></li>
<li>å†æ‰¾ä¸åˆ°å°±æ˜¯ <code>null</code> â€”â€” é“¾ç»“æŸ</li>
</ol>
<p>å› æ­¤å« <strong>åŸå‹"é“¾"</strong>ã€‚</p>
<h3 data-id="heading-8">ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript">p.<span class="hljs-title function_">sayHi</span>()
</code></pre>
<p><strong>æŸ¥æ‰¾é¡ºåºï¼š</strong><br/>
<code>p</code> â†’ <code>p.__proto__</code> â†’ <code>Person.prototype</code> â†’ <code>Object.prototype</code> â†’ <code>null</code></p>
<p>è¿™å°±æ˜¯ JS çš„ç»§æ‰¿æ–¹å¼ï¼ˆåŸºäºåŸå‹é“¾çš„ç»§æ‰¿ï¼‰ã€‚</p>
<hr/>
<h2 data-id="heading-9">5. å®Œæ•´åŸå‹é“¾å›¾</h2>
<h3 data-id="heading-10">åŸºç¡€åŸå‹é“¾ï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript">p
  â†‘
__proto__
  |
<span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
  â†‘
__proto__
  |
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
  â†‘
__proto__
  |
 <span class="hljs-literal">null</span>
</code></pre>
<h3 data-id="heading-11">å®Œæ•´åŸå‹é“¾ï¼ˆåŒ…å« Functionï¼‰ï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Person</span>
  â†‘
__proto__
  |
<span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
  â†‘
__proto__
  |
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
  â†‘
__proto__
  |
 <span class="hljs-literal">null</span>
</code></pre>
<blockquote>
<p>é¢è¯•å®˜ä¼šå¾ˆæ»¡æ„è¿™æ ·çš„å›ç­”ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-12">6. åŸå‹é“¾å¸¸è§é¢è¯•é¢˜</h2>
<h3 data-id="heading-13">â“ é¢˜ 1ï¼šä¸ºä»€ä¹ˆæ‰€æœ‰å¯¹è±¡éƒ½èƒ½è®¿é—® <code>toString()</code>ï¼Ÿ</h3>
<p>å› ä¸º <code>toString()</code> å®šä¹‰åœ¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>
</code></pre>
<p>æ‰€æœ‰å¯¹è±¡æœ€ç»ˆéƒ½èƒ½é¡ºç€åŸå‹é“¾æ‰¾åˆ°å®ƒã€‚</p>
<h3 data-id="heading-14">â“ é¢˜ 2ï¼šä¸ºä»€ä¹ˆæ•°ç»„èƒ½è®¿é—® <code>push</code>ï¼Ÿ</h3>
<p>å› ä¸º <code>push</code> å®šä¹‰åœ¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">push</span>
</code></pre>
<p>å¹¶ä¸”ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">arr.__proto__</span> === Array.prototype
</code></pre>
<h3 data-id="heading-15">â“ é¢˜ 3ï¼šå‡½æ•°çš„åŸå‹é“¾æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params"/>){}

<span class="hljs-title class_">Foo</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
<span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-literal">null</span>
</code></pre>
<hr/>
<h2 data-id="heading-16">é€Ÿè®°å¡ç‰‡ç‰ˆ</h2>
<h3 data-id="heading-17">ğŸ”¶ é€Ÿè®°å¡ï¼šåŸå‹ï¼ˆprototypeï¼‰</h3>
<ul>
<li>æ¯ä¸€ä¸ª"å‡½æ•°"å¤©ç”Ÿè‡ªå¸¦ <code>prototype</code> å±æ€§</li>
<li>å­˜æ”¾å®ä¾‹å…±äº«çš„æ–¹æ³•</li>
<li><code>new</code> æ—¶ä¼šæŠŠå®ä¾‹çš„ <code>__proto__</code> æŒ‡å‘å®ƒ</li>
</ul>
<h3 data-id="heading-18">ğŸ”¶ é€Ÿè®°å¡ï¼š<code>__proto__</code></h3>
<ul>
<li>æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ <code>__proto__</code></li>
<li>æŒ‡å‘æ„é€ å‡½æ•°çš„ <code>prototype</code></li>
<li>è¿æ¥å¯¹è±¡ â†’ åŸå‹ â†’ å†ä¸Šä¸€å±‚åŸå‹</li>
</ul>
<h3 data-id="heading-19">ğŸ”¶ é€Ÿè®°å¡ï¼šåŸå‹é“¾</h3>
<ul>
<li>æŸ¥æ‰¾å±æ€§çš„è·¯å¾„</li>
<li>è‡ªèº« â†’ åŸå‹ â†’ <code>Object.prototype</code> â†’ <code>null</code></li>
<li>JS ç»§æ‰¿çš„æœ¬è´¨</li>
</ul>
<h3 data-id="heading-20">ğŸ”¶ é€Ÿè®°å¡ï¼š<code>new</code> çš„å››æ­¥</h3>
<ol>
<li>åˆ›å»º <code>{}</code></li>
<li><code>this = {}</code></li>
<li><code>{}.__proto__ = æ„é€ å‡½æ•°.prototype</code></li>
<li>è¿”å›å¯¹è±¡</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬3é¢˜ äº‹ä»¶å¾ªç¯ 20 é“ç»å…¸é¢è¯•é¢˜ï¼ˆé™„è¯¦ç»†ç­”æ¡ˆï¼‰]]></title>    <link>https://juejin.cn/post/7577691384942116906</link>    <guid>https://juejin.cn/post/7577691384942116906</guid>    <pubDate>2025-11-29T04:26:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577691384942116906" data-draft-id="7577627308515213353" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬3é¢˜ äº‹ä»¶å¾ªç¯ 20 é“ç»å…¸é¢è¯•é¢˜ï¼ˆé™„è¯¦ç»†ç­”æ¡ˆï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:26:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬3é¢˜ äº‹ä»¶å¾ªç¯ 20 é“ç»å…¸é¢è¯•é¢˜ï¼ˆé™„è¯¦ç»†ç­”æ¡ˆï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:26:49.000Z" title="Sat Nov 29 2025 04:26:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ - å‰ç«¯é¢è¯•æ ¸å¿ƒé¢˜</h2>
<blockquote>
<p>è¿™æ˜¯å‰ç«¯é¢è¯•æœ€é‡è¦ã€æœ€æ ¸å¿ƒã€æœ€å®¹æ˜“åŒºåˆ†å€™é€‰äººæ°´å¹³çš„é¢˜ä¹‹ä¸€ã€‚</p>
</blockquote>
<h3 data-id="heading-1">0. é¢è¯•"æ ‡å‡†ä¸€å¥è¯"ç‰ˆæœ¬</h3>
<p><strong>JS æ˜¯å•çº¿ç¨‹è¯­è¨€ï¼Œäº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰è´Ÿè´£åè°ƒåŒæ­¥ä»»åŠ¡ã€å¾®ä»»åŠ¡ï¼ˆPromiseï¼‰ã€å®ä»»åŠ¡ï¼ˆsetTimeoutç­‰ï¼‰çš„æ‰§è¡Œé¡ºåºï¼›åŒæ­¥ä»»åŠ¡ä¼˜å…ˆæ‰§è¡Œï¼Œä¹‹åæ¯ä¸€è½®å¾ªç¯éƒ½ä¼šå…ˆæ¸…ç©ºå¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œå†æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œå¦‚æ­¤å¾ªç¯ã€‚</strong></p>
<blockquote>
<p>å¦‚æœä¸€åˆ†é’Ÿè¦ç­”å®Œï¼Œè¿™æ ·éå¸¸ç¨³ã€‚</p>
</blockquote>
<h3 data-id="heading-2">1. ä¸ºä»€ä¹ˆéœ€è¦äº‹ä»¶å¾ªç¯ï¼Ÿï¼ˆé¢è¯•å®˜å¾ˆçˆ±é—®ï¼‰</h3>
<p>å› ä¸ºï¼š</p>
<ul>
<li>JS æ˜¯å•çº¿ç¨‹</li>
<li>ä½†æµè§ˆå™¨è¦åŒæ—¶å¤„ç† UI æ¸²æŸ“ã€å®šæ—¶å™¨ã€ç½‘ç»œã€ç”¨æˆ·è¾“å…¥ç­‰</li>
</ul>
<p>æ‰€ä»¥å¿…é¡»ç”¨ä¸€ä¸ªè°ƒåº¦æœºåˆ¶æ¥"å¼‚æ­¥æ‰§è¡Œä»»åŠ¡" â†’ è¿™å°±æ˜¯äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰</p>
<blockquote>
<p><strong>ä½ çš„å›ç­”è¦æåˆ°"é¿å…é˜»å¡ UI" = åŠ åˆ†ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-3">2. äº‹ä»¶å¾ªç¯çš„æµç¨‹ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰</h3>
<p>äº‹ä»¶å¾ªç¯çš„æœ¬è´¨æ˜¯ï¼š</p>
<p><strong>åŒæ­¥ä»»åŠ¡ â†’ å¾®ä»»åŠ¡ â†’ å®ä»»åŠ¡ â†’ å¾®ä»»åŠ¡ â†’ å®ä»»åŠ¡ â†’ â€¦</strong></p>
<h4 data-id="heading-4">é€šå¸¸æµç¨‹ï¼š</h4>
<ol>
<li>æ‰§è¡ŒåŒæ­¥ä»»åŠ¡ï¼ˆæ ˆï¼‰</li>
<li>æ¸…ç©ºæ‰€æœ‰å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼ˆmicrotask queueï¼‰</li>
<li>æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼ˆmacrotask queueï¼‰</li>
<li>å†æ¬¡æ¸…ç©ºå¾®ä»»åŠ¡</li>
<li>å†æ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡</li>
<li>æ— é™å¾ªç¯ï¼ˆLoopï¼‰</li>
</ol>
<h3 data-id="heading-5">3. å®ä»»åŠ¡ vs å¾®ä»»åŠ¡ï¼ˆå¿…é¡»èƒŒï¼‰</h3>
<h4 data-id="heading-6">å¾®ä»»åŠ¡ï¼ˆmicrotasksï¼‰</h4>
<ul>
<li><code>Promise.then/catch/finally</code></li>
<li><code>MutationObserver</code></li>
<li><code>queueMicrotask()</code></li>
<li>ï¼ˆNodeï¼‰<code>process.nextTick</code></li>
</ul>
<h4 data-id="heading-7">å®ä»»åŠ¡ï¼ˆmacrotasksï¼‰</h4>
<ul>
<li><code>setTimeout</code></li>
<li><code>setInterval</code></li>
<li><code>setImmediate</code>ï¼ˆNodeï¼‰</li>
<li>I/O å›è°ƒ</li>
<li>UI æ¸²æŸ“äº‹ä»¶</li>
<li><code>MessageChannel</code></li>
</ul>
<blockquote>
<p><strong>å£è¯€ï¼šå¾®ä»»åŠ¡ä¼˜å…ˆï¼ŒPromise æ˜¯å¾®ä»»åŠ¡ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-8">4. æœ€ç»å…¸çš„äº‹ä»¶å¾ªç¯ä¾‹é¢˜ï¼ˆ90% çš„é¢è¯•å®˜ä¼šé—®ï¼‰</h3>
<h4 data-id="heading-9">é¢˜ Aï¼š</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>));

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>));

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>);
</code></pre>
<p><strong>æ‰§è¡Œé¡ºåºï¼š</strong></p>
<pre><code class="hljs">1
4
3
2
</code></pre>
<p><strong>è§£é‡Šï¼š</strong></p>
<ul>
<li>åŒæ­¥ï¼š1 â†’ 4</li>
<li>å¾®ä»»åŠ¡ï¼ˆthenï¼‰ï¼š3</li>
<li>å®ä»»åŠ¡ï¼ˆsetTimeoutï¼‰ï¼š2</li>
</ul>
<h4 data-id="heading-10">é¢˜ Bï¼šPromise ä¸­çš„å¤šå±‚å¾®ä»»åŠ¡</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>()
  .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);
    <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>));
  })
  .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>));
</code></pre>
<p><strong>è¾“å‡ºé¡ºåºï¼š</strong></p>
<pre><code class="hljs">1
2
3
</code></pre>
<p><strong>è§£é‡Šï¼š</strong> æ¯æ‰§è¡Œå®Œä¸€ä¸ª thenï¼Œäº§ç”Ÿçš„å¾®ä»»åŠ¡ä¼šåŠ å…¥åŒä¸€è½®çš„å¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚</p>
<h4 data-id="heading-11">é¢˜ Cï¼šè¶…çº§ç»å…¸é™·é˜±ï¼ˆsetTimeout vs Promiseï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>);
}, <span class="hljs-number">0</span>);

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>);
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>);
</code></pre>
<p><strong>è¾“å‡ºä»ç„¶æ˜¯ï¼š</strong></p>
<pre><code class="hljs">1
4
3
2
</code></pre>
<blockquote>
<p><strong>å“ªæ€• setTimeout æ˜¯ 0ï¼Œä¹Ÿæ°¸è¿œæ¯” Microtask æ™šã€‚</strong></p>
</blockquote>
<h3 data-id="heading-12">5. Event Loop ä¸æµè§ˆå™¨æ¸²æŸ“ï¼ˆåŠ åˆ†é¡¹ï¼‰</h3>
<p>æ¯ä¸€è½®å®ä»»åŠ¡ç»“æŸåï¼Œæµè§ˆå™¨é€šå¸¸ä¼šè¿›è¡Œï¼š</p>
<ul>
<li>é¡µé¢é‡ç»˜ï¼ˆpaintï¼‰</li>
<li>å¸ƒå±€è®¡ç®—ï¼ˆlayoutï¼‰</li>
<li>æ ·å¼è®¡ç®—ï¼ˆrecalculate styleï¼‰</li>
</ul>
<p><strong>æ‰€ä»¥ï¼š</strong>
å¾®ä»»åŠ¡å¤šäº†ï¼Œä¼šå¯¼è‡´ UI æ¸²æŸ“è¢«æ¨è¿Ÿï¼ˆä¾‹å¦‚ç–¯ç‹‚é€’å½’ Promise.then ä¼šå¡é¡µé¢ï¼‰</p>
<blockquote>
<p>è¿™æ˜¯é«˜çº§å€™é€‰äººçš„åŠ åˆ†ç‚¹ã€‚</p>
</blockquote>
<h3 data-id="heading-13">6. Node.js çš„äº‹ä»¶å¾ªç¯ï¼ˆé¢è¯•è¿›é˜¶ï¼‰</h3>
<p>ä½ è‡³å°‘è¦ç­”å‡ºï¼š</p>
<p>Node æœ‰è‡ªå·±çš„äº‹ä»¶å¾ªç¯ï¼Œä¸æµè§ˆå™¨ä¸åŒï¼ŒåŸºäº libuvï¼Œæœ‰ 6 ä¸ªé˜¶æ®µï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰è‡ªå·±çš„é˜Ÿåˆ—ï¼›<code>process.nextTick</code> ä¼˜å…ˆçº§æœ€é«˜ï¼Œå±äºç‹¬ç«‹é˜Ÿåˆ—ã€‚</p>
<blockquote>
<p>é¢è¯•å®˜ä¼šè§‰å¾—ä½ "æ‡‚äº‹ä»¶å¾ªç¯çš„åº•å±‚åŸç†"ã€‚</p>
</blockquote>
<h3 data-id="heading-14">7. é¢è¯•ä¼˜åŒ–ç‰ˆç­”é¢˜ç»“æ„ï¼ˆæ»¡åˆ†ç­”æ¡ˆï¼‰</h3>
<ol>
<li>JS æ˜¯å•çº¿ç¨‹ï¼Œéœ€è¦å¼‚æ­¥ â†’ Event Loop è´Ÿè´£è°ƒåº¦</li>
<li>åŒæ­¥ä»»åŠ¡å…ˆæ‰§è¡Œ</li>
<li>ä¹‹åæ¸…ç©ºå¾®ä»»åŠ¡ï¼ˆPromiseï¼‰</li>
<li>å†æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼ˆsetTimeoutï¼‰</li>
<li>æ¯æ¬¡å®ä»»åŠ¡æ‰§è¡Œåéƒ½ä¼šå†æ¸…ç©ºä¸€æ¬¡å¾®ä»»åŠ¡</li>
<li>å¾®ä»»åŠ¡ä¼˜å…ˆäºå®ä»»åŠ¡</li>
<li>Promise.then æ˜¯å¾®ä»»åŠ¡ï¼›setTimeout æ˜¯å®ä»»åŠ¡</li>
<li>Node.js å’Œæµè§ˆå™¨ç•¥æœ‰ä¸åŒï¼ˆåŠ åˆ†ï¼‰</li>
</ol>
<h3 data-id="heading-15">8. å‰ç«¯äº‹ä»¶å¾ªç¯çš„"æ ¸å¿ƒå£è¯€"</h3>
<p>æŠŠè¿™äº›èƒŒä¸‹æ¥ï¼Œä»»ä½•åœºæ™¯éƒ½ä¸ä¼šé”™ã€‚</p>
<ul>
<li><strong>å£è¯€ 1ï¼š</strong> åŒæ­¥å…ˆæ‰§è¡Œï¼ŒPromise æ¯” setTimeout å¿«</li>
<li><strong>å£è¯€ 2ï¼š</strong> æ¯ä¸€è½®å®ä»»åŠ¡åï¼Œå¿…é¡»æ¸…ç©ºå¾®ä»»åŠ¡</li>
<li><strong>å£è¯€ 3ï¼š</strong> 0 ç§’å®šæ—¶å™¨ â‰  ç«‹å³æ‰§è¡Œ</li>
<li><strong>å£è¯€ 4ï¼š</strong> Promise çš„ then æ˜¯å¾®ä»»åŠ¡ï¼Œawait ä¹Ÿæ˜¯å¾®ä»»åŠ¡</li>
<li><strong>å£è¯€ 5ï¼š</strong> å¾®ä»»åŠ¡å¡å¤ªå¤šä¼šå¡ UI</li>
</ul>
<h3 data-id="heading-16">9. ç»ƒä¹ é¢˜ï¼ˆé¢è¯•æ¨¡æ‹Ÿï¼‰</h3>
<h4 data-id="heading-17">ç»ƒä¹  1ï¼šç®€å•ç‰ˆ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>));

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>));

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>);
</code></pre>
<p><strong>é¡ºåºï¼š</strong> <code>3ã€2ã€1</code></p>
<h4 data-id="heading-18">ç»ƒä¹  2ï¼šè¿›é˜¶ç‰ˆ</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>);
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>));
});

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>);
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">5</span>);
</code></pre>
<p><strong>é¡ºåºï¼š</strong></p>
<pre><code class="hljs">1
5
4
2
3
</code></pre>
<h4 data-id="heading-19">ç»ƒä¹  3ï¼šæœ€ç»å…¸"await"é¢˜</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">test</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>);
  <span class="hljs-keyword">await</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>);
}
<span class="hljs-title function_">test</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>);
</code></pre>
<p><strong>è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs">1
2
4
3
</code></pre>
<blockquote>
<p><strong>await æŠŠåé¢çš„éƒ¨åˆ†æ‹†æˆå¾®ä»»åŠ¡ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ ç¬¬ 5 é¢˜ï¼šPromise.then æ‰§è¡Œé¡ºåºæ·±å…¥é¢˜ï¼ˆå¾®ä»»åŠ¡é˜Ÿåˆ—æœºåˆ¶ï¼‰]]></title>    <link>https://juejin.cn/post/7577665924151377963</link>    <guid>https://juejin.cn/post/7577665924151377963</guid>    <pubDate>2025-11-29T04:31:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577665924151377963" data-draft-id="7577665924151361579" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ ç¬¬ 5 é¢˜ï¼šPromise.then æ‰§è¡Œé¡ºåºæ·±å…¥é¢˜ï¼ˆå¾®ä»»åŠ¡é˜Ÿåˆ—æœºåˆ¶ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:31:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ ç¬¬ 5 é¢˜ï¼šPromise.then æ‰§è¡Œé¡ºåºæ·±å…¥é¢˜ï¼ˆå¾®ä»»åŠ¡é˜Ÿåˆ—æœºåˆ¶ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:31:13.000Z" title="Sat Nov 29 2025 04:31:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">äº‹ä»¶å¾ªç¯ç¬¬ 5 é¢˜ï¼šPromise.then æ‰§è¡Œé¡ºåºæ·±å…¥é¢˜ï¼ˆå¾®ä»»åŠ¡é˜Ÿåˆ—æœºåˆ¶ï¼‰</h2>
<blockquote>
<p>è¿™æ˜¯äº‹ä»¶å¾ªç¯ä¸­æœ€å¸¸è€ƒã€æœ€å®¹æ˜“å†™é”™çš„ä¸€é¢˜ä¹‹ä¸€ã€‚</p>
</blockquote>
<h3 data-id="heading-1">ğŸ¯ é¢è¯•é¢˜ï¼šä¸‹é¢è¿™æ®µä»£ç çš„æ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>)
  <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>))
})
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>)
</code></pre>
<h3 data-id="heading-2">âœ… æ ‡å‡†ç­”æ¡ˆ</h3>
<p><strong>è¾“å‡ºé¡ºåºï¼š</strong></p>
<pre><code class="hljs">3
1
2
</code></pre>
<hr/>
<h3 data-id="heading-3">âœ… è¯¦ç»†è§£æï¼ˆé¢è¯•å®˜æœ€å–œæ¬¢çš„å›ç­”ï¼‰</h3>
<h4 data-id="heading-4">ç¬¬ä¸€æ­¥ï¼šåŒæ­¥ä»»åŠ¡å…ˆæ‰§è¡Œ</h4>
<p>åŒæ­¥ä»£ç åªæœ‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>)
</code></pre>
<p>æ‰€ä»¥ç¬¬ä¸€ä¸ªè¾“å‡ºï¼š</p>
<pre><code class="hljs">3
</code></pre>
<h4 data-id="heading-5">ç¬¬äºŒæ­¥ï¼šå¾®ä»»åŠ¡é˜Ÿåˆ—åˆ†æ</h4>
<h5 data-id="heading-6">(1) é¦–å…ˆæœ‰ä¸€ä¸ªå¾®ä»»åŠ¡ï¼š</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {...})
</code></pre>
<p>æ­¤æ—¶å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[ taskA ]</span>
</code></pre>
<p>æ‰§è¡Œ taskAï¼ˆä¹Ÿå°±æ˜¯å¤–å±‚çš„ then å›è°ƒï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>)
<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>))
</code></pre>
<p>æ‰€ä»¥ç°åœ¨è¾“å‡ºï¼š</p>
<pre><code class="hljs">3
1
</code></pre>
<h5 data-id="heading-7">(2) taskA å†…åˆåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å¾®ä»»åŠ¡</h5>
<p>è¿™æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>))
</code></pre>
<p>æŠŠå¦ä¸€ä¸ªå¾®ä»»åŠ¡åŠ å…¥é˜Ÿåˆ—ï¼š</p>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-attr">[ taskB ]</span>
</code></pre>
<p>äº‹ä»¶å¾ªç¯ä¼šç»§ç»­æ‰§è¡Œæ­¤è½®çš„<strong>æ‰€æœ‰å¾®ä»»åŠ¡</strong>ï¼Œæ‰€ä»¥æ‰§è¡Œï¼š</p>
<pre><code class="hljs">2
</code></pre>
<p><strong>æœ€ç»ˆè¾“å‡ºï¼š</strong></p>
<pre><code class="hljs">3
1
2
</code></pre>
<hr/>
<h3 data-id="heading-8">ğŸ“Œ å…³é”®è®°å¿†ç‚¹ï¼ˆé€Ÿè®°å¡ï¼‰</h3>
<h4 data-id="heading-9">ğŸ”¶ é€Ÿè®° 1ï¼šå¾®ä»»åŠ¡æ˜¯"æ‰¹å¤„ç†"æ‰§è¡Œçš„</h4>
<ul>
<li>å®ä»»åŠ¡æ‰§è¡Œå®Œåï¼Œæ‰€æœ‰å¾®ä»»åŠ¡ä¼šè¿ç»­æ‰§è¡Œ</li>
<li>å¾®ä»»åŠ¡å†…éƒ¨å†åˆ›å»ºçš„å¾®ä»»åŠ¡ï¼Œä¼šæ’åˆ°é˜Ÿåˆ—æœ«å°¾ä½†ä»åœ¨æœ¬è½®æ‰§è¡Œ</li>
</ul>
<h4 data-id="heading-10">ğŸ”¶ é€Ÿè®° 2ï¼šPromise.then æ°¸è¿œæ˜¯å¾®ä»»åŠ¡</h4>
<h4 data-id="heading-11">ğŸ”¶ é€Ÿè®° 3ï¼šæ‰§è¡Œé¡ºåºä¼˜å…ˆçº§</h4>
<p>é¡ºåºæ°¸è¿œæ˜¯ï¼š</p>
<ol>
<li><strong>åŒæ­¥ä»»åŠ¡</strong></li>
<li><strong>æœ¬è½®æ‰€æœ‰å¾®ä»»åŠ¡</strong></li>
<li><strong>ä¸‹ä¸€è½®å®ä»»åŠ¡</strong>ï¼ˆå¦‚ setTimeoutï¼‰</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ äº‹ä»¶å¾ªç¯ç¬¬ 6 é¢˜ï¼šsetTimeout(fn, 0) æ‰§è¡Œæ—¶æœºè¯¦è§£]]></title>    <link>https://juejin.cn/post/7577651651794419755</link>    <guid>https://juejin.cn/post/7577651651794419755</guid>    <pubDate>2025-11-29T04:33:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577651651794419755" data-draft-id="7577651651794403371" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ äº‹ä»¶å¾ªç¯ç¬¬ 6 é¢˜ï¼šsetTimeout(fn, 0) æ‰§è¡Œæ—¶æœºè¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:33:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ äº‹ä»¶å¾ªç¯ç¬¬ 6 é¢˜ï¼šsetTimeout(fn, 0) æ‰§è¡Œæ—¶æœºè¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:33:10.000Z" title="Sat Nov 29 2025 04:33:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252b3a}.markdown-body ::selection{color:#fff;background-color:#ed7373}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:.6em;margin-top:1.5em;padding-bottom:4px;color:#ed7373}.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px;padding-bottom:12px;border-bottom:1px solid #dfe1e6}.markdown-body h3{font-size:18px}.markdown-body h4{font-size:16px}.markdown-body h5,.markdown-body h6{font-size:14px}.markdown-body p{line-height:inherit;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border-top:1px solid #dfe1e6;margin:33px 0}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:rgba(239,198,221,.2666666667);color:#7b164f;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==") 10px 10px no-repeat;background-size:40px;background-color:#fdf8f8}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#252b3a;background:#fdf8f8}.markdown-body a{position:relative;text-decoration:underline;text-decoration-color:#ffd4d4;color:#ed7373;padding-right:18px;padding-bottom:4px}.markdown-body a[href^=http]:after{position:absolute;display:inline-block;width:16px;height:16px;margin-left:2px;margin-top:6px;content:"";background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAAAXNSR0IArs4c6QAAD1lJREFUeF7tnV122zgShQHJG5gT9/OkV2J7JR3voI/U707eI5/eQeyVRFlJa56nc2YDFjkHEulWHP3g5xZYAK5eku6QYOFWfSwUAJLW8EcFqMBJBSy1oQJU4LQCBITRQQXOKEBAGB5UgIAwBqhAnALMIHG68axGFCAgjTia3YxTgIDE6cazGlGAgDTiaHYzTgECEqcbz2pEAQLSiKPZzTgFCEicbjyrEQUISCOOZjfjFCAgcbrxrEYUICCNOJrdjFOAgMTpxrMaUYCANOJodjNOAQISpxvPakQBAtKIo9nNOAUISJxuPKsRBQhII45GdfN/v//+/l9//rlBtae9HQKi3UOZ7ft7sfhgjfm3sfa9u3RvzHtrjPv77r8PfpvemB0o1v3Z95tuNvt29fKyqQkgApI5ADVebgeFtTfGmA8I+3pj1rbv17Ouey4dFgKCiIgC2/i+WDwYax0QbzMDtDcjLC67/PL58xraeIbGCEgGkTVd4vty+QWVKUL75WCZb7f3JWUVAhLq5UKPHzLGRyXmP822208lgEJAlESMlBlDfeGyhsafelAIiMawAdjkpmO38/kXa8wtoDnRJvq+v79+fHwSvUhk4wQkUjjNp/33jz9uZ33/VbONP9nW9x/fPT5+0mYzAdHmkUR7lNUaob1RN+QiIKEuVHz838vl1xKGVOck1DbTRUAUB7yvaSXVG5592sy22zsNs1wExNNjWg+rEI5XqWfb7a9TQ0JAtEa+h101wzF0f/JMQkA8AlHjIQ3AMco+KSQERGP0X7CpITj2Skw4BUxACgOkOThG/0wECQEpCJBm4Rh81Fl7l3tHMAEpBJCJ4Hjq+/7bvOt229THGSVny8vV1W6b/Kzrbnprb088VAVXN/fMFgGBuxDfYE443L4oB0TM9OqwxcVtjJR7xiTzUIuA4OMZ2mI2OICBN+wgfpACJWcWISDQcMY2lgMOt7XjerW6w1q+b03sqUUgzJf6TUAuKTTRv+eAI8f0qdSwK1cWISATAXDusjngyDkj5PrTzedu+z2uNsmURQiIMkBqg2OUVwKSHFmEgCgCpFY4xCDJkEUIiBJAaodjlBlZuEtOMIz2EhAFgLQCxxtIIG9YkR5mEZCJAWkNjldIlsu/EEW79AsfCMiEgLQKx8EaCSKLPL1bre6l3EhApJS90G7LcKCziOQwi4BMAAjh+GGlPTmLSK7pEJDMgBCOfwRHvb9Lsg4hIBkBIRw/i/0dUawLrocQkEyAEI7jQoPeNi9WqBOQDIAQjtMig16uTUAyxLHIJQjHeVkRdYjkijoziAgW+0YJx2VxEYAYYzbvVqtfL18t/AgCEq6Z1xmEw0um3U2km8/dqnrS791qJRLLIo0m9bSCkwmHvxNBgDCD+Es+7ZGEI0x/DrHC9Cr6aMIR7j7ELBaL9HDds59BOOIkB33wh9O8cfLnOYtwxOsM+egPV9LjHSB9JuFIU/j7ctmntSD7cmvOYiV6B3IHPGOD5E7VxK4nnw4q0A03Kya7QqYBwpGmK6j+MFJrIK53zCCRPgZtsjt59Zozh+s0aP3DNSW2BkJAIuFATE2eu3TtcLi+w24wggU6AYkABDVuPnXpFuAAZg8jrReHWAGQIB177LLSzg7oqtih4Dcsig6vmEECw0CyKG8BDic3VEPh4RUBCQAENePSaubY1R2LxYOxNvklDa8aEpCACBY+FLKgdcTGZjLHYvHBWuu+PoX6iQ+vmEE8XQW/8w3XJRyeDjhymOTi4OHlWKRf8JFUYU444uGQXvsgIAG+kcgesXAM6y83/fAhGtv36242+5b708i+8kmtF+XKHhxiTZA9YuDwCLSn2Xb7KebLtL7BHnqch82hTY7HZ6k9xotxiHXGTejsEQXHcvnVGnPrEU2b2XZ7pwESQTjEFwbf6kxAzgGCeOvf2H7ElGQMoDmHH8ekk4RD8snBU2FAQE4oAy7Og594S7p+BIweGeriIZJw5CzMWaRfdDV0UStqzByTPX7oVt9/nHXdc64hV41wsEjPMLyKqTucWZAtGZkyiTAc2esOZpBMs1cpY2bIW89dP4UhkYZj6pqKNcgRWFBb2lO+fAQDxBiTYse5e4k0HMaY4NrNY/QcdAgBOSJX8vjf3biNWV+vVndB3jg4GPZA0b5N+BSwNByp+sXqzmleD+UQgMTWHqN5AgEIg0TAtrdemTxzjAYxgxzLIMul23X6wYOlU4dEzVy9bQw5zNq1DahHpOGYuuZgBvGI+uQZJEAgOjOHWsjB+t7DbK9DUgIQkVnPGZmadb0ECDyIGeR4Bkl6mRnS0WhIYsf2LcLhQoOACACCfk8T+Dnu4BetJa3qe9yxkTcUj8sFHUJAjgPiPugSO6yB1B9vzUJCEppFBLPHprP2Xut2fWaQE/eSxOJYBJDR1ETbXnscUosk12THdVYPBwE5AUhiQIgCAswk3tO+As/ji2oUNIa6cDCHWOBp3tDhS4wzUZD4ZhEkIDn0idH01DkEBAyIaw5dpB9zHqgu8FqQgw3rEncXIAPft60qAXF32JRt3qnBJ7X36a1TUwPX926O2Pbiey3fwM11XBWADGsFv5n9o6m72SfnkJ2Iff98/fj4FCJo6mpxrmnLVJCdJj4wp+pRKhxVFOmeBXXwSw2S7s6glXQfqJPs3N0/+nufG0jCdbyGcT59neKYYjNIxKfPvGdtnCM8wTvpM587M8LhgOGPVwDHTAz4wofQQaqNIgGJgGOvX8CdPXVYEXKtFOcm2+k5zHI2hmx7yTXMTNHO59ziAEne9uAJCeChqaCM5eOsY8cA7PSqQw6vPWSt13rvjV1PnbXPmlfHQ7QuChBEMIQUjAnj7uCMFeI09GxW7N1+54+uuxkmRf4z77p1yuxhigZS5xYDCAKOUUTfdQrELFGOoVZqvRQLiFRQamq3CECQcPhObY5OSs4iATNFsYGRamMNxXSsdpfOUw8IGg4nSMgdE5JFhCEhIJfCPP7fVQOCmKE5Ik3wRrnUABxtkLpTJ9vnOXERH2blnqkWECE4ot42gsoiodnLN6wAmwm91kJ87anpOJWAABa/Tvso8m6ZfJf+xyLo9G/ytPduCqr/+O7x8VNNgY3qizpAROEwJnh4NQodskh20TnAgITUaEB7Lva9sANUAZI6XXlB++Q7N3KohdqKgrApZNKisPhONlcNIMJwBM1cnVMVEZDIWgShGwrW5GhU2IAKQBBOPqct+g4JqUcAwxpI/ZHpAS+Fse9l0qSARG869Ora/iA0HK7NmJ2tP5kMAASUzaLrsgA3FHvopICUljkOvZwKCQJcRCYL2ZtWbJQnGD4ZICXDMeo93MHdO3yD36Hlux/slG8hs1ec4r2IziSAgIYGJzuHuDtfVG44IGr6FzG8An1gNKdWvppqOi47ILA73wkVp3B4ICTJY37gDSbZFk3BLGFLVkBQsy6nhJgCjtEWn5oEMd6HagjIZBJBqanNbIBAHXtEwSnhODRn2EP2MPy/sTaBPWWHrN20aKYJiLe2ZANEcguJVkenvp/rrbOQcEz13XHNMByzLQsgktlDKxzoQADWHXvTOLzyclEWQMB3vteOtQKHxNZ/bi/x4kP+AzpS2YNw+Dn46FHMHt7iiWcQiexBOLz9e+xATu0GyCcKiMSaB+EI8O6xQ5k9ggQUBQSxV+iwN4QjyLfMHslyCX7EE157NHLnkyjIxziRemkEIA7VNiGWQcDTkk28VEAUjgI/XqOBGjFAgMV5E0WlJBxcFIxHTQQQ5PCqhbpDGo7ZdntX2ztz40M+7EwRQICzV9VnD2E4RJ6oDAuxso8WAQRVf9S+2isNB4vydDhlAFku+3TT4t9hBbi2eBPScBhjmpjYkHaUXkAqntaVhgPx3Il04JXSPhwQVIFe6/CKcJSCxt5OrYBUWZwTjrLgEAEEMYNV4xCBcJQHhwggoECoqsAEaXIywmq8oWjBCT7EgkzxVlSgEw4toR5nBwGJ083rLMLhJZPqg/CALJdfjDHubYPxvwoyCOGId7+mM+GAgAKj6BoEpAFrDgWkqASk5KKTcCiIaqAJcEBanuYlHMDIVNIUHJBWV9IJh5KIBpsBB8TZB/gssSlpJyrhAEelouakAPkr5psZb3QpolAnHIqiWcAUEUBQj9tq37BIOAQiUlmTMoAsFh+stW49JO2neD2EcKS5tpSzRQBBzGSNAmrMIoSjlPBOt1MEkKFQR9Qh6t5CTjjSg66kFiQBSd9yMiqpZKhFOEoKbYytYoAgh1muq1MPtQgHJuBKa0UMEOgwa6/qZqr3OxGO0sIaZ68sIIvFg7H2I87c/JBAnm85I0DJ+86AflXblCggAlkkayZBreec8j7hUMvFq2HygOCzyM54ya0obj/Zdj7/Yo25lXIh4ZBSFtuuOCBCWWQPiTHr+XZ7j3zvrHS9Mdp9vVrdYV3J1iQUyAOIUBY5EORptt1+SgFlAMN933z8trmE3juoCYeItCKNZgFEMoscquKCz/b9etZ1zz6wDFDcmP1QShQMZg6R+BVvNBsgw7qIWzwUD8RBtU1vzMb93Q5/DkH63u5tyGXH63CQmUM8nuEXyAbILovID7XgAiEa5LAKoeI0bWQFpEVICMc0gY26anZActUjKIFS2iEcKerpOHcSQIbn1r/mrgNySk44cqotd61JAHHdqRkSwiEXsLlbngwQ19EJZrbE9SUc4hJnvcCkgFQHiZLnVrJGUOUXmxyQUV/pjYHSfmzhc9XSGmpsXw0gBU8Bbzpr73/5/Hmt0cG0KU0BVYAcQOLeDp91pTtGRtYbMaqVdY46QMa6xPb9g+R282Q3sd5IlrCEBlQCMgqndJariDc+lhB8JdioGpDXAn7/IjrxregXHJa8pb6EgKCNPypQBCATg0IwGqamKEB+GHp13U1v7a3Q1vWnvu+/XT8+PjUcG+z6/lGJ8n+uVhmK+nHmK2QGzD0zsnZAzLtu7fOgVfmKsQe+ClQByLHOur1eL1dXO1Bs170C089mm6uXl92DVITBN0zaPa5aQNp1KXuOVICAINVkW9UpQECqcyk7hFSAgCDVZFvVKUBAqnMpO4RUgIAg1WRb1SlAQKpzKTuEVICAINVkW9UpQECqcyk7hFSAgCDVZFvVKUBAqnMpO4RUgIAg1WRb1SlAQKpzKTuEVICAINVkW9UpQECqcyk7hFSAgCDVZFvVKUBAqnMpO4RUgIAg1WRb1SlAQKpzKTuEVICAINVkW9UpQECqcyk7hFTg//8JNVC78ovQAAAAAElFTkSuQmCC");background-size:100%}.markdown-body a:active,.markdown-body a:hover{opacity:.66}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #ed7373;border-spacing:0}.markdown-body thead{color:#fff;text-align:left}.markdown-body thead tr{background:#ed7373}.markdown-body thead th{border-bottom:1px solid #dfe1e6}.markdown-body tr{background-color:#fff}.markdown-body tr:nth-child(2n){background-color:#fdf2f2}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#252b3a;padding:1px 23px;margin:22px 0;border-left:4px solid #ed7373;background-color:#fdf2f2}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{padding-left:10px;margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#ed7373}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body input[type=checkbox]{appearance:none;-webkit-appearance:none;-moz-appearance:none;outline:none;width:16px;height:16px;border-radius:2px;background-color:transparent;box-shadow:inset 0 0 0 1px rgba(28,31,35,.3490196078);vertical-align:middle;margin:0;transform:translateY(-2px)}.markdown-body input[type=checkbox]:checked{background-color:#ed7373;background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjFlbSIgaGVpZ2h0PSIxZW0iIGFyaWEtaGlkZGVuPSJ0cnVlIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTE3LjQxMSA3LjMwOGExLjUgMS41IDAgMDEuMjggMi4xMDNsLTYuNSA4LjVhMS41IDEuNSAwIDAxLTIuMzc1LjAxbC0zLjUtNC41YTEuNSAxLjUgMCAxMTIuMzY4LTEuODQybDIuMzA2IDIuOTY1IDUuMzE4LTYuOTU1YTEuNSAxLjUgMCAwMTIuMTAzLS4yOHoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=");box-shadow:inset 0 0 0 1px #ed7373}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><blockquote>
<p>è¿™æ˜¯å‰ç«¯é¢è¯•é‡Œå‡ ä¹å¿…è€ƒçš„ä¸€é¢˜ï¼Œå¾ˆå¤šäººéƒ½ä¼šç­”é”™ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ğŸ§¨ é¢è¯•å®˜é—®é¢˜</h2>
<ol>
<li><code>setTimeout(fn, 0)</code> ä¼šä¸ä¼šç«‹å³æ‰§è¡Œï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆä¸èƒ½ç«‹å³æ‰§è¡Œï¼Ÿ</li>
<li>æµè§ˆå™¨ä¸­æœ€çŸ­å»¶è¿Ÿæ˜¯å¤šå°‘ï¼Ÿ</li>
<li>Node.js ä¸­çš„å»¶è¿Ÿè§„åˆ™æ˜¯å¦ä¸åŒï¼Ÿ</li>
</ol>
<hr/>
<h2 data-id="heading-1">ğŸ§© æ ‡å‡†ç­”æ¡ˆ</h2>
<h3 data-id="heading-2">âŒ ä¸ä¼šç«‹å³æ‰§è¡Œã€‚</h3>
<p>å³ä½¿ä½ å†™ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"A"</span>), <span class="hljs-number">0</span>)
</code></pre>
<p>ä¹Ÿä¸ä¼šé©¬ä¸Šæ‰§è¡Œï¼Œå› ä¸ºå®ƒå±äº <strong>å®ä»»åŠ¡ï¼ˆMacroTaskï¼‰</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-3">ğŸ” ä¸ºä»€ä¹ˆä¸ä¼šç«‹å³æ‰§è¡Œï¼Ÿ</h2>
<h3 data-id="heading-4">åŸå›  1ï¼šsetTimeout æ˜¯å®ä»»åŠ¡ï¼Œå¿…é¡»ç­‰å¾…å½“å‰æ‰§è¡Œæ ˆå’Œæ‰€æœ‰å¾®ä»»åŠ¡æ¸…ç©º</h3>
<p><strong>äº‹ä»¶å¾ªç¯é¡ºåºï¼š</strong></p>
<pre><code class="hljs">åŒæ­¥ä»£ç  â†’ å¾®ä»»åŠ¡é˜Ÿåˆ—å…¨éƒ¨æ‰§è¡Œ â†’ å®ä»»åŠ¡é˜Ÿåˆ—
</code></pre>
<p>æ‰€ä»¥å³ä½¿ delay=0ï¼Œä¹Ÿè¦ç­‰ï¼š</p>
<ol>
<li>å½“å‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œ</li>
<li>å¾®ä»»åŠ¡ï¼ˆPromise.then ç­‰ï¼‰å…¨éƒ¨æ‰§è¡Œå®Œ</li>
<li>æ‰è½®åˆ° setTimeout çš„å›è°ƒ</li>
</ol>
<blockquote>
<p>å®ä»»åŠ¡æ°¸è¿œæ’åœ¨å¾®ä»»åŠ¡ä¹‹å</p>
</blockquote>
<h3 data-id="heading-5">åŸå›  2ï¼šæµè§ˆå™¨æœ‰æœ€å°æ—¶é—´é™åˆ¶ï¼ˆæœ€çŸ­å»¶è¿Ÿï¼‰</h3>
<h4 data-id="heading-6">ğŸ“Œ å†å²æœ€çŸ­å»¶è¿Ÿï¼š4msï¼ˆHTML5 è§„èŒƒï¼‰</h4>
<p>æµè§ˆå™¨è§„å®šï¼š</p>
<blockquote>
<p>é‡å¤ä½¿ç”¨ setTimeout çš„æœ€å°å»¶è¿Ÿæ˜¯ 4msã€‚<br/>
ï¼ˆé¿å…æ€§èƒ½é—®é¢˜å’Œé«˜ CPU å ç”¨ï¼‰</p>
</blockquote>
<p>Chrome/Firefox/Safari éƒ½éµå®ˆã€‚</p>
<h4 data-id="heading-7">ä½†æ˜¯ï¼š</h4>
<p>å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è°ƒç”¨ setTimeoutï¼Œåˆ™å…è®¸ 0msã€‚<br/>
ä½†ä»ç„¶ä¸ä¼šç«‹å³æ‰§è¡Œï¼Œå› ä¸ºäº‹ä»¶å¾ªç¯æœºåˆ¶ä¼šå»¶è¿Ÿå®ƒã€‚</p>
<hr/>
<h2 data-id="heading-8">ğŸ¯ ç»“è®ºï¼šsetTimeout(fn, 0) çš„å®é™…æ‰§è¡Œæ—¶æœº</h2>
<ul>
<li><strong>ä¸æ˜¯ç«‹å³</strong></li>
<li><strong>ä¸æ˜¯ 0ms å</strong></li>
<li><strong>è€Œæ˜¯åœ¨ä¸‹ä¸€è½®å®ä»»åŠ¡é˜Ÿåˆ—ä¸­æ‰§è¡Œ</strong></li>
</ul>
<hr/>
<h2 data-id="heading-9">ğŸ“Œ å¯¹æ¯”ä¸åŒç¯å¢ƒï¼šæµè§ˆå™¨ vs Node.js</h2>
<h3 data-id="heading-10">ğŸ–¥ æµè§ˆå™¨</h3>
<ul>
<li>å¤šæ¬¡ä½¿ç”¨æ—¶ï¼Œæœ€å°å»¶è¿Ÿä¼šè¢«å¼ºåˆ¶æå‡åˆ° <strong>4ms</strong></li>
<li>Promise â†’ å¾®ä»»åŠ¡</li>
<li>timeout â†’ å®ä»»åŠ¡</li>
</ul>
<h3 data-id="heading-11">ğŸŸ© Node.js</h3>
<p>Node.js ä¸­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-built_in">setTimeout</span>(fn, <span class="hljs-number">0</span>)
</code></pre>
<p>å®é™…å»¶è¿Ÿ <strong>æ¥è¿‘ 1ms å·¦å³</strong>ï¼Œä½†å®Œå…¨å–å†³äºï¼š</p>
<ul>
<li>äº‹ä»¶å¾ªç¯é˜¶æ®µ (timers phase)</li>
<li>ç³»ç»Ÿæ—¶é—´ç²¾åº¦</li>
<li>è´Ÿè½½æƒ…å†µ</li>
</ul>
<blockquote>
<p>Node.js ä¸éµå®ˆæµè§ˆå™¨ 4ms çš„é™åˆ¶ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-12">âœ” å°æµ‹è¯•ï¼ˆåŠ æ·±ç†è§£ï¼‰</h2>
<p><strong>çŒœè¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1</span>)

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>), <span class="hljs-number">0</span>)

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">3</span>))

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">4</span>)
</code></pre>
<p><strong>æ­£ç¡®è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs">1
4
3
2
</code></pre>
<blockquote>
<ul>
<li>å¾®ä»»åŠ¡ä¼˜å…ˆäºå®ä»»åŠ¡</li>
<li>å³ä¾¿æ˜¯ setTimeout 0ï¼Œä¹Ÿæ’åœ¨ Promise.then åé¢</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-13">ğŸ§  é€Ÿè®°å¡</h2>
<h3 data-id="heading-14">ğŸ”¶ é€Ÿè®°ï¼šsetTimeout(fn, 0) æ°¸è¿œä¸ä¼šç«‹å³æ‰§è¡Œ</h3>
<ul>
<li>å› ä¸ºå®ƒæ˜¯å®ä»»åŠ¡</li>
</ul>
<h3 data-id="heading-15">ğŸ”¶ é€Ÿè®°ï¼šæ‰§è¡Œé¡ºåº</h3>
<p>åŒæ­¥ â†’ å¾®ä»»åŠ¡ â†’ å®ä»»åŠ¡(setTimeout)</p>
<h3 data-id="heading-16">ğŸ”¶ é€Ÿè®°ï¼šæµè§ˆå™¨æœ€å°å»¶è¿Ÿ 4msï¼ˆè¿ç»­è°ƒç”¨æ—¶ï¼‰</h3>
<h3 data-id="heading-17">ğŸ”¶ é€Ÿè®°ï¼šNode.js ä¸­æœ€å°å»¶è¿Ÿâ‰ˆ1msï¼Œå—äº‹ä»¶å¾ªç¯é˜¶æ®µå½±å“</h3></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ç¬¬7é¢˜ äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è· - å‰ç«¯é«˜é¢‘é¢è¯•é¢˜]]></title>    <link>https://juejin.cn/post/7577651651794436139</link>    <guid>https://juejin.cn/post/7577651651794436139</guid>    <pubDate>2025-11-29T04:36:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577651651794436139" data-draft-id="7577691384942149674" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ç¬¬7é¢˜ äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è· - å‰ç«¯é«˜é¢‘é¢è¯•é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:36:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ç¬¬7é¢˜ äº‹ä»¶å†’æ³¡ä¸äº‹ä»¶æ•è· - å‰ç«¯é«˜é¢‘é¢è¯•é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:36:22.000Z" title="Sat Nov 29 2025 04:36:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>è¿™æ˜¯å‰ç«¯é«˜é¢‘é¢è¯•é¢˜çš„è¯¦ç»†ç‰ˆ + é€Ÿè®°å¡ç‰ˆï¼Œå¯ä»¥ç›´æ¥ç”¨åœ¨é¢è¯•é‡Œã€‚</p>
</blockquote>
<h2 data-id="heading-0">ç¬¬ 7 é¢˜ï¼šäº‹ä»¶å†’æ³¡å’Œäº‹ä»¶æ•è·çš„åŒºåˆ«ï¼Ÿå¦‚ä½•é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Ÿå¦‚ä½•é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Ÿ</h2>
<hr/>
<h2 data-id="heading-1">ä¸€ã€äº‹ä»¶å†’æ³¡ï¼ˆEvent Bubblingï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>äº‹ä»¶ä» <strong>æœ€å†…å±‚å…ƒç´ ï¼ˆtargetï¼‰</strong> ä¸€ç›´å‘ <strong>å¤–å±‚çˆ¶çº§å…ƒç´ </strong> ä¼ æ’­ï¼Œç›´åˆ°æœ€é¡¶å±‚ï¼ˆdocumentï¼‰ã€‚</p>
<h3 data-id="heading-2">ä¼ æ’­é¡ºåºï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript">target â†’ parent â†’ <span class="hljs-variable language_">document</span>
</code></pre>
<h3 data-id="heading-3">ç¤ºä¾‹ï¼š</h3>
<p><strong>HTMLï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"outer"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"inner"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>ç‚¹å‡» <code>inner</code> æ—¶ï¼Œé¡ºåºæ˜¯ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">inner</span> â†’ <span class="hljs-keyword">outer</span> â†’ document
</code></pre>
<blockquote>
<p>å†’æ³¡æ˜¯æµè§ˆå™¨é»˜è®¤çš„äº‹ä»¶ä¼ æ’­æœºåˆ¶ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-4">äºŒã€äº‹ä»¶æ•è·ï¼ˆEvent Capturingï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>äº‹ä»¶ä» <strong>æœ€å¤–å±‚ï¼ˆdocumentï¼‰</strong> å¾€ <strong>ç›®æ ‡å…ƒç´ ï¼ˆtargetï¼‰</strong> æ–¹å‘ä¼ æ’­ã€‚</p>
<h3 data-id="heading-5">ä¼ æ’­é¡ºåºï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">document</span> â†’ parent â†’ target
</code></pre>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€æµè§ˆå™¨å®Œæ•´çš„äº‹ä»¶æµé˜¶æ®µ</h2>
<p>äº‹ä»¶æµåŒ…å« <strong>ä¸‰ä¸ªé˜¶æ®µ</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> æ•è·é˜¶æ®µï¼ˆä»å¤–åˆ°å†…ï¼‰
<span class="hljs-bullet">2.</span> ç›®æ ‡é˜¶æ®µï¼ˆtarget æœ¬èº«ï¼‰
<span class="hljs-bullet">3.</span> å†’æ³¡é˜¶æ®µï¼ˆä»å†…åˆ°å¤–ï¼‰
</code></pre>
<h3 data-id="heading-7">å›¾ç¤ºï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">document</span>
   â†“ (æ•è·)
parent
   â†“
target
   â†‘ (å†’æ³¡)
parent
   â†‘
<span class="hljs-variable language_">document</span>
</code></pre>
<hr/>
<h2 data-id="heading-8">å››ã€addEventListener å¦‚ä½•æŒ‡å®šé˜¶æ®µï¼Ÿ</h2>
<h3 data-id="heading-9">è¯­æ³•ï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript">element.<span class="hljs-title function_">addEventListener</span>(event, handler, useCapture)
</code></pre>
<h3 data-id="heading-10">ç¬¬ä¸‰ä¸ªå‚æ•°ï¼š</h3>
<ul>
<li><code>true</code> â†’ æ•è·é˜¶æ®µæ‰§è¡Œ</li>
<li><code>false</code> â†’ å†’æ³¡é˜¶æ®µæ‰§è¡Œï¼ˆé»˜è®¤ï¼‰</li>
</ul>
<h3 data-id="heading-11">ç¤ºä¾‹ï¼š</h3>
<pre><code class="hljs language-javascript" lang="javascript">div.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handler, <span class="hljs-literal">true</span>)  <span class="hljs-comment">// æ•è·</span>
div.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, handler, <span class="hljs-literal">false</span>) <span class="hljs-comment">// å†’æ³¡</span>
</code></pre>
<hr/>
<h2 data-id="heading-12">äº”ã€å¦‚ä½•é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Ÿ</h2>
<h3 data-id="heading-13">æ–¹å¼ 1ï¼šæ ‡å‡†æ–¹æ³•ï¼ˆæ¨èï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript">event.<span class="hljs-title function_">stopPropagation</span>()
</code></pre>
<h3 data-id="heading-14">æ–¹å¼ 2ï¼šé˜»æ­¢æ‰€æœ‰ä¼ æ’­ï¼ˆåŒ…æ‹¬æ•è· + å†’æ³¡ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript">event.<span class="hljs-title function_">stopImmediatePropagation</span>()
</code></pre>
<blockquote>
<p>âš ï¸ å¹¶ä¸”ä¼šé˜»æ­¢"åŒä¸€å…ƒç´ ä¸Šåç»­ç»‘å®šçš„å›è°ƒå‡½æ•°"ã€‚</p>
</blockquote>
<h3 data-id="heading-15">ğŸš« é‡è¦è¯´æ˜ï¼š<code>return false</code> å¹¶ä¸ä¼šé˜»æ­¢å†’æ³¡</h3>
<p>åŸç”Ÿ DOM ä¸­ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
</code></pre>
<p><strong>åªèƒ½é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œä¸ä¼šé˜»æ­¢å†’æ³¡ã€‚</strong><br/>
ï¼ˆé™¤éåœ¨ jQuery ä¸­ï¼‰</p>
<hr/>
<h2 data-id="heading-16">å…­ã€å¦‚ä½•é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Ÿ</h2>
<h3 data-id="heading-17">æ–¹æ³• 1ï¼šæ ‡å‡†æ–¹æ³•</h3>
<pre><code class="hljs language-javascript" lang="javascript">event.<span class="hljs-title function_">preventDefault</span>()
</code></pre>
<h3 data-id="heading-18">æ–¹æ³• 2ï¼šåœ¨æ ‡ç­¾å†…ç›´æ¥ return falseï¼ˆåªé˜»æ­¢é»˜è®¤è¡Œä¸ºï¼‰</h3>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"return false"</span>&gt;</span>ç‚¹å‡»<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
</code></pre>
<h3 data-id="heading-19">æ–¹æ³• 3ï¼šè¡¨å•ä¸­é˜»æ­¢æäº¤</h3>
<pre><code class="hljs language-javascript" lang="javascript">form.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"submit"</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e.<span class="hljs-title function_">preventDefault</span>())
</code></pre>
<hr/>
<h2 data-id="heading-20">ä¸ƒã€å¿«é€Ÿå¯¹æ¯”æ€»ç»“è¡¨</h2>






























<table><thead><tr><th>è¡Œä¸º</th><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>é˜»æ­¢å†’æ³¡</strong></td><td><code>event.stopPropagation()</code></td><td>é˜»æ­¢äº‹ä»¶å‘çˆ¶çº§ç»§ç»­å†’æ³¡</td></tr><tr><td><strong>é˜»æ­¢æ‰€æœ‰ä¼ æ’­</strong></td><td><code>event.stopImmediatePropagation()</code></td><td>åŒèŠ‚ç‚¹åç»­äº‹ä»¶ä¹Ÿä¸å†è§¦å‘</td></tr><tr><td><strong>é˜»æ­¢é»˜è®¤è¡Œä¸º</strong></td><td><code>event.preventDefault()</code></td><td>é˜»æ­¢æµè§ˆå™¨çš„é»˜è®¤åŠ¨ä½œï¼ˆè·³è½¬ã€æ»šåŠ¨ã€æäº¤ç­‰ï¼‰</td></tr><tr><td><strong>return false</strong></td><td>éƒ¨åˆ†æƒ…å†µä¸‹ç­‰äº preventDefault</td><td>åŸç”Ÿä¸ä¼šé˜»æ­¢å†’æ³¡</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-21">é€Ÿè®°å¡ï¼ˆ10 ç§’å¤ä¹ ç‰ˆï¼‰</h2>
<h3 data-id="heading-22">ğŸ”¶ æ•è·ï¼šä»å¤–åˆ°å†…</h3>
<p><code>document â†’ ... â†’ target</code></p>
<h3 data-id="heading-23">ğŸ”¶ å†’æ³¡ï¼šä»å†…åˆ°å¤–</h3>
<p><code>target â†’ ... â†’ document</code></p>
<h3 data-id="heading-24">ğŸ”¶ é˜»æ­¢å†’æ³¡</h3>
<p><code>event.stopPropagation()</code></p>
<h3 data-id="heading-25">ğŸ”¶ é˜»æ­¢æ‰€æœ‰ä¼ æ’­ï¼ˆåŒ…æ‹¬åŒçº§ç»‘å®šäº‹ä»¶ï¼‰</h3>
<p><code>event.stopImmediatePropagation()</code></p>
<h3 data-id="heading-26">ğŸ”¶ é˜»æ­¢é»˜è®¤è¡Œä¸º</h3>
<p><code>event.preventDefault()</code></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 8 é¢˜ï¼šä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼Ÿå®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›ä¼˜ç‚¹å’Œå¸¸è§å‘ï¼Ÿ - å‰ç«¯é«˜é¢‘é¢è¯•é¢˜]]></title>    <link>https://juejin.cn/post/7577691384942166058</link>    <guid>https://juejin.cn/post/7577691384942166058</guid>    <pubDate>2025-11-29T04:40:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577691384942166058" data-draft-id="7577660060093251638" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 8 é¢˜ï¼šä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼Ÿå®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›ä¼˜ç‚¹å’Œå¸¸è§å‘ï¼Ÿ - å‰ç«¯é«˜é¢‘é¢è¯•é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:40:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 8 é¢˜ï¼šä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼Ÿå®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›ä¼˜ç‚¹å’Œå¸¸è§å‘ï¼Ÿ - å‰ç«¯é«˜é¢‘é¢è¯•é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:40:26.000Z" title="Sat Nov 29 2025 04:40:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>è¿™æ˜¯å’Œå†’æ³¡/æ•è·å¹¶åˆ—çš„å¿…è€ƒé¢˜ï¼Œå‡ ä¹æ¯åœºå‰ç«¯é¢è¯•éƒ½ä¼šé—®ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ç¬¬ 8 é¢˜ï¼šä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼Ÿå®ƒçš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿæœ‰å“ªäº›ä¼˜ç‚¹å’Œå¸¸è§å‘ï¼Ÿ</h2>
<hr/>
<h2 data-id="heading-1">ğŸ¯ é¢è¯•å®˜å…³æ³¨ç‚¹</h2>
<ol>
<li><strong>äº‹ä»¶å§”æ‰˜çš„æ¦‚å¿µ</strong></li>
<li><strong>ä¸ºä»€ä¹ˆèƒ½å®ç°å§”æ‰˜ï¼ˆä¾èµ–äº‹ä»¶å†’æ³¡æœºåˆ¶ï¼‰</strong></li>
<li><strong>äº‹ä»¶å§”æ‰˜çš„ä¼˜ç‚¹</strong></li>
<li><strong>å¸¸è§ä½¿ç”¨åœºæ™¯</strong></li>
<li><strong>å¸¸è§å‘ï¼ˆå¾ˆçˆ±è€ƒï¼‰</strong></li>
</ol>
<hr/>
<h2 data-id="heading-2">ä¸€ã€ä»€ä¹ˆæ˜¯äº‹ä»¶å§”æ‰˜ï¼Ÿï¼ˆä¸€å¥è¯å›ç­”ï¼‰</h2>
<p><strong>äº‹ä»¶å§”æ‰˜å°±æ˜¯æŠŠå­å…ƒç´ çš„äº‹ä»¶ï¼Œäº¤ç»™å®ƒçš„çˆ¶çº§ç»Ÿä¸€å¤„ç†ã€‚</strong></p>
<p>ä¾‹å¦‚ï¼Œä½ ä¸ç›´æ¥ç»™æ¯ä¸ª <code>li</code> ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œè€Œæ˜¯ç»™ <code>ul</code> ç»‘å®šä¸€ä¸ªäº‹ä»¶ï¼Œç”±å®ƒæ ¹æ®äº‹ä»¶ç›®æ ‡ï¼ˆ<code>event.target</code>ï¼‰æ¥åˆ¤æ–­æ˜¯å“ªä¸ª <code>li</code> è¢«ç‚¹å‡»ã€‚</p>
<hr/>
<h2 data-id="heading-3">äºŒã€äº‹ä»¶å§”æ‰˜çš„å·¥ä½œåŸç†æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p><strong>ä¾èµ–äº‹ä»¶å†’æ³¡æœºåˆ¶ã€‚</strong></p>
<p>äº‹ä»¶ä»å­èŠ‚ç‚¹å†’æ³¡åˆ°çˆ¶èŠ‚ç‚¹ï¼Œå› æ­¤å¯ä»¥åœ¨çˆ¶èŠ‚ç‚¹æ•è·åˆ°å­èŠ‚ç‚¹è§¦å‘çš„äº‹ä»¶ã€‚</p>
<h3 data-id="heading-4">ç¤ºä¾‹ï¼š</h3>
<p><strong>HTMLï¼š</strong></p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"list"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
</code></pre>
<p><strong>JavaScriptï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript">list.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">tagName</span> === <span class="hljs-string">"LI"</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç‚¹å‡»äº†ï¼š"</span>, e.<span class="hljs-property">target</span>.<span class="hljs-property">innerText</span>)
  }
})
</code></pre>
<ul>
<li>æ— éœ€ä¸ºæ¯ä¸ª <code>li</code> å•ç‹¬ç»‘å®š</li>
<li>çˆ¶å…ƒç´ å°±èƒ½çŸ¥é“å“ªä¸ª <code>li</code> è¢«ç‚¹å‡»</li>
</ul>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€äº‹ä»¶å§”æ‰˜çš„ä¼˜ç‚¹ï¼ˆé¢è¯•å®˜æœ€å–œæ¬¢å¬çš„ç‚¹ï¼‰</h2>
<h3 data-id="heading-6">1. å¤§é‡å…ƒç´ åªéœ€è¦ç»‘å®š 1 ä¸ªäº‹ä»¶ï¼ˆæå‡æ€§èƒ½ï¼‰</h3>
<p>å¦‚æœä½ æœ‰å‡ ç™¾ä¸ªå­èŠ‚ç‚¹ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âŒ ä¸æ¨èï¼šä¸ºæ¯ä¸ªå…ƒç´ å•ç‹¬ç»‘å®š</span>
li.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, ...)
</code></pre>
<p>å˜æˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// âœ… æ¨èï¼šåªåœ¨çˆ¶å…ƒç´ ç»‘å®šä¸€æ¬¡</span>
ul.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, ...)
</code></pre>
<p>æµè§ˆå™¨å°‘ç»‘å®šæ•°ç™¾å€çš„äº‹ä»¶å¤„ç†å™¨ã€‚</p>
<h3 data-id="heading-7">2. å¯ä»¥å¤„ç†åŠ¨æ€æ–°å¢çš„å…ƒç´ </h3>
<p>åæ·»åŠ çš„ <code>li</code> å…ƒç´ ä¹Ÿèƒ½è‡ªåŠ¨æ‹¥æœ‰ç‚¹å‡»åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">ul.<span class="hljs-property">innerHTML</span> += <span class="hljs-string">'&lt;li&gt;æ–°é¡¹&lt;/li&gt;'</span>
</code></pre>
<p>æ— éœ€å†æ‰‹åŠ¨ç»‘å®šäº‹ä»¶ã€‚</p>
<h3 data-id="heading-8">3. èŠ‚çœå†…å­˜ï¼Œå‡å°‘äº‹ä»¶ç»‘å®šæ¬¡æ•°</h3>
<ul>
<li>æ›´å°‘çš„ç›‘å¬å™¨</li>
<li>æ›´å°‘çš„å†…å­˜å ç”¨</li>
<li>æ›´å°‘çš„æµè§ˆå™¨å›æµ/é‡ç»˜è§¦å‘</li>
</ul>
<hr/>
<h2 data-id="heading-9">å››ã€äº‹ä»¶å§”æ‰˜çš„å¸¸è§ä½¿ç”¨åœºæ™¯</h2>
<ul>
<li>âœ“ åˆ—è¡¨ç‚¹å‡»ï¼ˆæœ€å¸¸è§ï¼‰</li>
<li>âœ“ èœå•ã€Tabã€Tableã€ä¸‹æ‹‰æ¡†</li>
<li>âœ“ åŠ¨æ€æ’å…¥çš„ DOM å…ƒç´ </li>
<li>âœ“ å…¼å®¹æ—§æµè§ˆå™¨çš„"æ¨¡æ‹Ÿå†’æ³¡"ï¼ˆå¦‚ input focus/blurï¼‰</li>
</ul>
<hr/>
<h2 data-id="heading-10">äº”ã€äº‹ä»¶å§”æ‰˜çš„å¸¸è§å‘ï¼ˆé«˜é¢‘è€ƒç‚¹ï¼‰</h2>
<h3 data-id="heading-11">âŒ 1. event.target ä¸ä¸€å®šæ˜¯ä½ æƒ³è¦çš„å…ƒç´ </h3>
<p>ä¾‹å¦‚ <code>li</code> å†…åµŒäº† <code>span</code>ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æ–‡å­—<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
</code></pre>
<p>ä½ ç‚¹çš„æ˜¯ <code>span</code>ï¼Œä½† <code>event.target</code> æ˜¯ <code>span</code>ï¼Œä¸æ˜¯ <code>li</code>ã€‚</p>
<h4 data-id="heading-12">è§£å†³æ–¹æ¡ˆï¼š</h4>
<p><strong>æ–¹æ³• 1ï¼šå¾€ä¸Šæ‰¾æœ€è¿‘çš„ li</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> li = e.<span class="hljs-property">target</span>.<span class="hljs-title function_">closest</span>(<span class="hljs-string">"li"</span>)
</code></pre>
<p><strong>æ–¹æ³• 2ï¼šåˆ¤æ–­ç¥–å…ˆé“¾</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> node = e.<span class="hljs-property">target</span>
<span class="hljs-keyword">while</span> (node &amp;&amp; node !== ul) {
  <span class="hljs-keyword">if</span> (node.<span class="hljs-property">tagName</span> === <span class="hljs-string">'LI'</span>) {
    <span class="hljs-comment">// æ‰¾åˆ°äº†</span>
    <span class="hljs-keyword">break</span>;
  }
  node = node.<span class="hljs-property">parentNode</span>
}
</code></pre>
<h3 data-id="heading-13">âŒ 2. ä¸æ”¯æŒäº‹ä»¶æ•è·é˜¶æ®µçš„å†’æ³¡</h3>
<p>æ¯”å¦‚ï¼š</p>
<ul>
<li><code>blur</code> / <code>focus</code> ä¸å†’æ³¡</li>
<li><code>mouseenter</code> / <code>mouseleave</code> ä¸å†’æ³¡</li>
</ul>
<p>è¦ç”¨äº‹ä»¶å§”æ‰˜æ—¶ï¼Œè¦ç”¨å®ƒä»¬çš„æ›¿ä»£äº‹ä»¶ï¼š</p>
<ul>
<li>âœ“ <code>focus</code> â†’ <code>focusin</code></li>
<li>âœ“ <code>blur</code> â†’ <code>focusout</code></li>
<li>âœ“ <code>mouseenter</code> â†’ <code>mouseover</code></li>
<li>âœ“ <code>mouseleave</code> â†’ <code>mouseout</code></li>
</ul>
<h3 data-id="heading-14">âŒ 3. åœæ­¢å†’æ³¡ä¼šå½±å“å§”æ‰˜</h3>
<p>å¦‚æœå­å…ƒç´ ç”¨ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">event.<span class="hljs-title function_">stopPropagation</span>()
</code></pre>
<p>çˆ¶çº§ç›‘å¬ä¸åˆ°äº‹ä»¶ã€‚</p>
<hr/>
<h2 data-id="heading-15">é€Ÿè®°å¡ï¼ˆ10 ç§’å¤ç›˜ï¼‰</h2>
<h3 data-id="heading-16">ğŸ”¶ äº‹ä»¶å§”æ‰˜ = çˆ¶å…ƒç´ ç›‘å¬ï¼Œåˆ¤æ–­å­å…ƒç´ äº‹ä»¶ç›®æ ‡</h3>
<p>åŸºäºäº‹ä»¶å†’æ³¡ã€‚</p>
<h3 data-id="heading-17">ğŸ”¶ ä¼˜ç‚¹ï¼šæ€§èƒ½æå‡ã€å¯å¤„ç†åŠ¨æ€ DOMã€èŠ‚çœäº‹ä»¶ç»‘å®š</h3>
<p>å¤§é‡èŠ‚ç‚¹ â†’ åªç»‘ä¸€æ¬¡ã€‚</p>
<h3 data-id="heading-18">ğŸ”¶ å‘ï¼ševent.target ä¸å¯é  â†’ ç”¨ e.target.closest()</h3>
<p>å°¤å…¶ <code>li</code> åµŒå¥— <code>span</code> æ—¶ã€‚</p>
<h3 data-id="heading-19">ğŸ”¶ ä¸å†’æ³¡äº‹ä»¶ä¸èƒ½å§”æ‰˜</h3>
<p><code>focus/blur</code>ã€<code>mouseenter/mouseleave</code>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 9 é¢˜ï¼šé˜²æŠ–ï¼ˆdebounceï¼‰ä¸èŠ‚æµï¼ˆthrottleï¼‰çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7577651651794501675</link>    <guid>https://juejin.cn/post/7577651651794501675</guid>    <pubDate>2025-11-29T04:46:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577651651794501675" data-draft-id="7577651651794485291" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 9 é¢˜ï¼šé˜²æŠ–ï¼ˆdebounceï¼‰ä¸èŠ‚æµï¼ˆthrottleï¼‰çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:46:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 9 é¢˜ï¼šé˜²æŠ–ï¼ˆdebounceï¼‰ä¸èŠ‚æµï¼ˆthrottleï¼‰çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:46:02.000Z" title="Sat Nov 29 2025 04:46:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é˜²æŠ–ä¸èŠ‚æµ - å‰ç«¯é«˜é¢‘é¢è¯•é¢˜</h2>
<blockquote>
<p>æœ¬é¢˜å±äºå‰ç«¯å·¥ç¨‹å¸ˆå‡ ä¹"å¿…é—®"çš„é‚£ç±»ï¼š<strong>é˜²æŠ–ä¸èŠ‚æµ</strong></p>
</blockquote>
<h3 data-id="heading-1">ç¬¬ 9 é¢˜ï¼šé˜²æŠ–ï¼ˆdebounceï¼‰ä¸èŠ‚æµï¼ˆthrottleï¼‰çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ</h3>
<hr/>
<h3 data-id="heading-2">ä¸€ã€é¢è¯•å®˜æœŸå¾…çš„å…³é”®ç‚¹</h3>
<h4 data-id="heading-3">â­ 1. é˜²æŠ–ï¼ˆDebounceï¼‰</h4>
<p><strong>å«ä¹‰ï¼šä¸€å®šæ—¶é—´å†…åªæ‰§è¡Œæœ€åä¸€æ¬¡ã€‚</strong></p>
<ul>
<li>ç”¨æˆ·åœæ­¢è§¦å‘å N æ¯«ç§’å†æ‰§è¡Œ</li>
<li>è¿ç»­è§¦å‘æ—¶ä¼šä¸æ–­"é‡æ–°è®¡æ—¶"</li>
<li><strong>å¸¸ç”¨äºï¼š</strong>
<ul>
<li>æœç´¢æ¡†è¾“å…¥</li>
<li>çª—å£ resize</li>
<li>è¡¨å•å®æ—¶æ ¡éªŒ</li>
</ul>
</li>
</ul>
<h5 data-id="heading-4">â¤ é˜²æŠ–ç¤ºæ„å›¾</h5>
<pre><code class="hljs">è§¦å‘ â†’ é‡ç½® â†’ é‡ç½® â†’ â€¦ â†’ åœæ­¢ â†’ æ‰§è¡Œ
</code></pre>
<h5 data-id="heading-5">â¤ é˜²æŠ–å®ç°ï¼ˆé¢è¯•å¿…å†™ï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay</span>) {
  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) {
    <span class="hljs-built_in">clearTimeout</span>(timer)
    timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args)
    }, delay)
  }
}
</code></pre>
<h4 data-id="heading-6">â­ 2. èŠ‚æµï¼ˆThrottleï¼‰</h4>
<p><strong>å«ä¹‰ï¼šè§„å®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡ã€‚</strong></p>
<ul>
<li>æ¯éš” N æ¯«ç§’æ‰§è¡Œä¸€æ¬¡åŠ¨ä½œ</li>
<li>æ— è®ºè§¦å‘å¤šå°‘æ¬¡</li>
<li><strong>å¸¸ç”¨äºï¼š</strong>
<ul>
<li>æ»šåŠ¨äº‹ä»¶</li>
<li>é¡µé¢ resize</li>
<li>é«˜é¢‘æ‹–æ‹½äº‹ä»¶</li>
</ul>
</li>
</ul>
<h5 data-id="heading-7">â¤ èŠ‚æµç¤ºæ„å›¾</h5>
<pre><code class="hljs">è§¦å‘ â†’ æ‰§è¡Œ â†’ å†·å´ä¸­ â†’ æ‰§è¡Œ
</code></pre>
<h5 data-id="heading-8">â¤ èŠ‚æµå®ç°ï¼ˆæ—¶é—´æˆ³ç‰ˆï¼‰</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">fn, delay</span>) {
  <span class="hljs-keyword">let</span> last = <span class="hljs-number">0</span>
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
    <span class="hljs-keyword">if</span> (now - last &gt;= delay) {
      last = now
      fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args)
    }
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-9">äºŒã€ä¸¤è€…çš„æ ¹æœ¬åŒºåˆ«ï¼ˆé¢è¯•å®˜æœ€çˆ±å¬ï¼‰</h3>

























<table><thead><tr><th>ç‰¹æ€§</th><th>é˜²æŠ– debounce</th><th>èŠ‚æµ throttle</th></tr></thead><tbody><tr><td><strong>æ‰§è¡Œæ¬¡æ•°</strong></td><td>é«˜é¢‘è§¦å‘ä¸‹ <strong>åªæ‰§è¡Œä¸€æ¬¡</strong></td><td>é«˜é¢‘è§¦å‘ä¸‹ <strong>æ¯éš”å›ºå®šæ—¶é—´æ‰§è¡Œä¸€æ¬¡</strong></td></tr><tr><td><strong>ä½¿ç”¨åœºæ™¯</strong></td><td>ç”¨æˆ·è¾“å…¥æ ¡éªŒã€é˜²æ­¢é‡å¤æäº¤</td><td>æ»šåŠ¨ç›‘å¬ã€æ‹–æ‹½ã€çª—å£ resize</td></tr><tr><td><strong>å®ç°åŸç†</strong></td><td><code>setTimeout</code> + æ¸…é™¤å®šæ—¶å™¨</td><td>æ—¶é—´æˆ³æˆ–å®šæ—¶å™¨</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-10">ä¸‰ã€æ‰‹å†™å¸¦ç«‹å³æ‰§è¡Œç‰ˆæœ¬ï¼ˆåŠ åˆ†ï¼‰</h3>
<h4 data-id="heading-11">ğŸ”¹ é˜²æŠ–ï¼ˆç«‹å³æ‰§è¡Œç‰ˆï¼‰</h4>
<p>è¾“å…¥æ—¶ç«‹åˆ»å“åº”ï¼ˆå¦‚å®æ—¶æç¤ºï¼‰</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay, immediate = <span class="hljs-literal">false</span></span>) {
  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">const</span> callNow = immediate &amp;&amp; !timer
    <span class="hljs-built_in">clearTimeout</span>(timer)

    timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      timer = <span class="hljs-literal">null</span>
      <span class="hljs-keyword">if</span> (!immediate) fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args)
    }, delay)

    <span class="hljs-keyword">if</span> (callNow) fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args)
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-12">å››ã€é€Ÿè®°å¡ç‰‡ï¼ˆä¸Šç­æ‘¸é±¼è®°å¿†ç‰ˆï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript">ğŸ¯ é˜²æŠ–ï¼šåªæ‰§è¡Œæœ€åä¸€æ¬¡ï¼ˆåœæ­¢åæ‰§è¡Œï¼‰
ğŸ“Œ ç”¨äºï¼šè¾“å…¥æ¡†ã€å®æ—¶æ ¡éªŒ
ğŸ§  åŸç†ï¼š<span class="hljs-built_in">setTimeout</span> + <span class="hljs-built_in">clearTimeout</span>

ğŸ¯ èŠ‚æµï¼šå›ºå®šé—´éš”æ‰§è¡Œ
ğŸ“Œ ç”¨äºï¼šæ»šåŠ¨ã€æ‹–æ‹½ã€resize
ğŸ§  åŸç†ï¼šæ—¶é—´æˆ³æˆ–å®šæ—¶å™¨

â­ é˜²æŠ– = <span class="hljs-string">"ç­‰ä½ ä¸åŠ¨å†è¯´"</span>
â­ èŠ‚æµ = <span class="hljs-string">"ä¸€ç§’è¯´ä¸€æ¬¡"</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 10 é¢˜ï¼šæµ…æ‹·è´ vs æ·±æ‹·è´ï¼Ÿå¦‚ä½•æ‰‹å†™æ·±æ‹·è´ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7577651651794534443</link>    <guid>https://juejin.cn/post/7577651651794534443</guid>    <pubDate>2025-11-29T04:49:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577651651794534443" data-draft-id="7577651651794518059" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 10 é¢˜ï¼šæµ…æ‹·è´ vs æ·±æ‹·è´ï¼Ÿå¦‚ä½•æ‰‹å†™æ·±æ‹·è´ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:49:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 10 é¢˜ï¼šæµ…æ‹·è´ vs æ·±æ‹·è´ï¼Ÿå¦‚ä½•æ‰‹å†™æ·±æ‹·è´ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:49:03.000Z" title="Sat Nov 29 2025 04:49:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æµ…æ‹·è´ vs æ·±æ‹·è´ - å‰ç«¯é«˜é¢‘é¢è¯•é¢˜</h2>
<blockquote>
<p>ç¬¬ 10 é¢˜ï¼š<strong>æµ…æ‹·è´ vs æ·±æ‹·è´ï¼Ÿå¦‚ä½•æ‰‹å†™æ·±æ‹·è´ï¼Ÿ</strong></p>
</blockquote>
<h3 data-id="heading-1">ç¬¬ 10 é¢˜ï¼šæµ…æ‹·è´ä¸æ·±æ‹·è´çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°æ·±æ‹·è´ï¼Ÿ</h3>
<hr/>
<h3 data-id="heading-2">ä¸€ã€æµ…æ‹·è´ï¼ˆShallow Copyï¼‰</h3>
<h4 data-id="heading-3">â­ å®šä¹‰</h4>
<p><strong>åªæ‹·è´ç¬¬ä¸€å±‚ï¼Œé‡åˆ°å¼•ç”¨ç±»å‹åªæ‹·è´å¼•ç”¨åœ°å€ã€‚</strong></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<ul>
<li>ä¿®æ”¹å­å¯¹è±¡ï¼Œä¼šå½±å“åŸå¯¹è±¡</li>
<li>åªå¤åˆ¶å¤–å£³ï¼Œä¸å¤åˆ¶å†…éƒ¨ç»“æ„</li>
</ul>
<h4 data-id="heading-4">â­ å¸¸è§æµ…æ‹·è´æ–¹å¼</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj2 = { ...obj1 }
<span class="hljs-keyword">const</span> obj2 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, obj1)
<span class="hljs-keyword">const</span> arr2 = arr1.<span class="hljs-title function_">slice</span>()
<span class="hljs-keyword">const</span> arr2 = arr1.<span class="hljs-title function_">concat</span>()
</code></pre>
<hr/>
<h3 data-id="heading-5">äºŒã€æ·±æ‹·è´ï¼ˆDeep Copyï¼‰</h3>
<h4 data-id="heading-6">â­ å®šä¹‰</h4>
<p><strong>å®Œå…¨å¤åˆ¶ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæ‰€æœ‰åµŒå¥—å†…å®¹éƒ½ä¼šè¢«å¤åˆ¶ï¼Œä¸å…±äº«å¼•ç”¨ã€‚</strong></p>
<p>ä¿®æ”¹å‰¯æœ¬ä¸ä¼šå½±å“åŸå¯¹è±¡ã€‚</p>
<hr/>
<h3 data-id="heading-7">ä¸‰ã€æœ€å¸¸è§çš„æ·±æ‹·è´æ–¹å¼ï¼šJSON æ·±æ‹·è´</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">let</span> newObj = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj))
</code></pre>
<h4 data-id="heading-8">âœ” ä¼˜ç‚¹</h4>
<ul>
<li>ç®€å•ç²—æš´å¥½ç”¨</li>
<li>é€‚åˆé¢è¯•èŠå¤©å¼€å¤´ç”¨</li>
</ul>
<h4 data-id="heading-9">âŒ ç¼ºç‚¹ï¼ˆå¿…é¡»è¦è¯´ï¼‰</h4>
<ul>
<li>ä¼šä¸¢å¤± <code>undefined</code></li>
<li>ä¼šä¸¢å¤± <code>symbol</code></li>
<li>ä¼šä¸¢å¤± <code>function</code></li>
<li>æ— æ³•æ‹·è´ <code>Map/Set</code></li>
<li>æ— æ³•æ‹·è´åŸå‹é“¾</li>
<li>æ—¥æœŸä¼šå˜æˆå­—ç¬¦ä¸²</li>
</ul>
<blockquote>
<p>è¿™æ®µè¯ä¸€å®šè¦èƒŒç†Ÿï¼Œé¢è¯•å®˜å¬äº†ä¼šç‚¹å¤´ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-10">å››ã€çœŸæ­£èƒ½ç”¨çš„æ·±æ‹·è´ï¼šæ‰‹å†™é€’å½’ç‰ˆæœ¬</h3>
<p><strong>é¢è¯•å®˜ï¼š</strong> "é‚£ä½ èƒ½æ‰‹å†™ä¸€ä¸ªæ·±æ‹·è´å—ï¼Ÿ"</p>
<p>ä½ å†™ä¸‹é¢ç‰ˆæœ¬å°±èƒ½ç»™ä»–å¹²æ²‰é»˜ã€‚</p>
<h4 data-id="heading-11">â­ æ‰‹å†™æ·±æ‹·è´ï¼ˆå¯å¤„ç†å¾ªç¯å¼•ç”¨ + åŸºæœ¬ç±»å‹ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">deepClone</span>(<span class="hljs-params">target, map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">WeakMap</span>()</span>) {
  <span class="hljs-comment">// åŸºç¡€ç±»å‹æˆ– nullï¼Œç›´æ¥è¿”å›</span>
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> target !== <span class="hljs-string">'object'</span> || target === <span class="hljs-literal">null</span>) {
    <span class="hljs-keyword">return</span> target
  }

  <span class="hljs-comment">// å¤„ç†å¾ªç¯å¼•ç”¨</span>
  <span class="hljs-keyword">if</span> (map.<span class="hljs-title function_">has</span>(target)) {
    <span class="hljs-keyword">return</span> map.<span class="hljs-title function_">get</span>(target)
  }

  <span class="hljs-comment">// å¤„ç†æ•°ç»„æˆ–å¯¹è±¡</span>
  <span class="hljs-keyword">const</span> clone = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(target) ? [] : {}
  map.<span class="hljs-title function_">set</span>(target, clone)

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> target) {
    <span class="hljs-keyword">if</span> (target.<span class="hljs-title function_">hasOwnProperty</span>(key)) {
      clone[key] = <span class="hljs-title function_">deepClone</span>(target[key], map)
    }
  }

  <span class="hljs-keyword">return</span> clone
}
</code></pre>
<h4 data-id="heading-12">â­ å¯ä»¥å…‹éš†ï¼š</h4>
<ul>
<li>å¯¹è±¡</li>
<li>æ•°ç»„</li>
<li>åµŒå¥—ç»“æ„</li>
<li>å¾ªç¯å¼•ç”¨</li>
</ul>
<h4 data-id="heading-13">âŒ ä¸æ”¯æŒï¼š</h4>
<ul>
<li>Date</li>
<li>RegExp</li>
<li>Map / Set</li>
<li>Function çš„æ‹·è´ç»†èŠ‚ï¼ˆä¸€èˆ¬ä¸éœ€è¦æ‹·è´å‡½æ•°ï¼‰</li>
</ul>
<blockquote>
<p>ä½†ï¼ï¼é¢è¯• 95% æƒ…å†µä¸‹å¤Ÿç”¨äº†ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-14">äº”ã€é«˜çº§ç‰ˆï¼ˆé¢è¯•å®˜ï¼šå—¯ï¼Ÿä½ å†™å¾—ä¸é”™å•Šï¼‰</h3>
<p>å¦‚æœä½ æƒ³è¿›ä¸€æ­¥åŠ åˆ†ï¼Œå¯ä»¥è¯´ï¼š</p>
<blockquote>
<p>"å¦‚æœéœ€è¦å®Œæ•´ deepCloneï¼Œæˆ‘ä¼šä¸“é—¨å†™å¯¹ Dateã€RegExpã€Mapã€Set çš„å¤„ç†é€»è¾‘ã€‚"</p>
</blockquote>
<p>å¦‚ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">if</span> (target <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(target)
<span class="hljs-keyword">if</span> (target <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(target)
</code></pre>
<hr/>
<h3 data-id="heading-15">å…­ã€æµ…æ‹·è´ vs æ·±æ‹·è´ï¼ˆè®°å¿†å›¾è¡¨ï¼‰</h3>

























<table><thead><tr><th>æ¯”è¾ƒç‚¹</th><th>æµ…æ‹·è´</th><th>æ·±æ‹·è´</th></tr></thead><tbody><tr><td><strong>æ‹·è´å±‚çº§</strong></td><td>ç¬¬ä¸€å±‚</td><td>æ‰€æœ‰å±‚</td></tr><tr><td><strong>å†…éƒ¨å¯¹è±¡æ˜¯å¦å…±äº«ï¼Ÿ</strong></td><td>å…±äº«å¼•ç”¨</td><td>å„è‡ªç‹¬ç«‹</td></tr><tr><td><strong>å¸¸ç”¨æ–¹æ³•</strong></td><td><code>...</code>ã€<code>Object.assign</code></td><td>é€’å½’ã€JSONã€ç¬¬ä¸‰æ–¹åº“</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-16">ä¸ƒã€é€Ÿè®°å¡ç‰‡ï¼ˆèƒŒè¿™ä¸ªå°±å¤Ÿäº†ï¼‰</h3>
<pre><code class="hljs language-typescript" lang="typescript">ğŸ“Œ æµ…æ‹·è´ï¼šåªå¤åˆ¶ç¬¬ä¸€å±‚ï¼Œå¼•ç”¨ç±»å‹å…±äº«åœ°å€
ğŸ“Œ æ·±æ‹·è´ï¼šå®Œå…¨å¤åˆ¶ï¼Œä¸å…±äº«å¼•ç”¨

æµ…æ‹·è´æ–¹æ³•ï¼š
- {...obj}
- <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>()
- slice / concat

<span class="hljs-title class_">JSON</span> æ·±æ‹·è´ï¼š
- ç®€å•ä½†ä¼šä¸¢å¤±ï¼š<span class="hljs-literal">undefined</span> / <span class="hljs-keyword">function</span> / <span class="hljs-built_in">symbol</span> / æ—¥æœŸ / åŸå‹ / <span class="hljs-title class_">Map</span> <span class="hljs-title class_">Set</span>

æ‰‹å†™æ·±æ‹·è´ï¼š
- é€’å½’ + <span class="hljs-title class_">WeakMap</span> å¤„ç†å¾ªç¯å¼•ç”¨
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 11 é¢˜ï¼šthis çš„æŒ‡å‘è§„åˆ™ï¼ˆå‰ç«¯é«˜é¢‘å¿…è€ƒé¢˜ï¼‰]]></title>    <link>https://juejin.cn/post/7577660060093284406</link>    <guid>https://juejin.cn/post/7577660060093284406</guid>    <pubDate>2025-11-29T04:52:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577660060093284406" data-draft-id="7577651651794550827" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 11 é¢˜ï¼šthis çš„æŒ‡å‘è§„åˆ™ï¼ˆå‰ç«¯é«˜é¢‘å¿…è€ƒé¢˜ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:52:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 11 é¢˜ï¼šthis çš„æŒ‡å‘è§„åˆ™ï¼ˆå‰ç«¯é«˜é¢‘å¿…è€ƒé¢˜ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:52:34.000Z" title="Sat Nov 29 2025 04:52:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;font-weight:400;line-height:2;font-size:17px;overflow-x:hidden;color:#000}.markdown-body strong{padding:1px;color:#ee3f4d}.markdown-body em{padding:0 2px;color:#f33b1f}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{position:relative;margin-top:30px;margin-bottom:20px;line-height:1.5;font-weight:700}.markdown-body h1{text-align:center;padding-bottom:5px;font-size:32px;color:#ac1f18}.markdown-body h1:after{content:"";display:block;margin:4px auto 0;width:100px;height:2px;border-bottom:2px solid #f33b1f}.markdown-body h2{font-size:28px;border-bottom:1px solid #f33b1f}.markdown-body h2:before{content:"# "!important;color:#f33b1f}.markdown-body h3{font-size:24px;padding-left:9px;border-left:6px solid #f33b1f}.markdown-body h4{font-size:20px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #bbb;margin:16px 0}.markdown-body code{word-break:break-word;overflow-x:auto;background-color:#f9f1db;color:#ee2746;border-radius:2px;font-size:16px;padding:1px 2px}.markdown-body code,.markdown-body pre{font-family:-apple-system,-apple-system-body,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,PingFang SC,æ€æºé»‘ä½“ CN,æ€æºé»‘ä½“,JetBrains Mono,Fira Code,Menlo,Ubuntu Mono,Consolas,sans-serif}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{margin:12px 0!important;border-radius:3px;font-size:15px;padding:16px 12px;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f7f7f7}.markdown-body a{text-decoration:none;color:#1781b5;padding:0 2px;border-bottom:1px solid #1781b5}.markdown-body a:active,.markdown-body a:hover{border-bottom:2px solid #f33b1f;color:#ac1f18}.markdown-body blockquote{color:#3d3d3d;background-color:#fff9f9;padding:6px 16px;margin:16px 0;border-left:3px solid #f07c82}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:6px 0}.markdown-body ol,.markdown-body ul{padding-left:30px}.markdown-body ol li,.markdown-body ul li{margin-bottom:6px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:6px}.markdown-body ol li{padding-left:6px}.markdown-body ::marker{color:#f33b1f}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}.markdown-body .task-list-item input[type=checkbox]{position:relative}.markdown-body .task-list-item input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:#fff;border:1px solid #f07c82;border-radius:3px;box-sizing:border-box;z-index:1}.markdown-body .task-list-item input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-5px;left:0;right:0;bottom:0;width:0;height:0;color:#f33b1f;font-size:16px;font-weight:700;z-index:2}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border-spacing:0;border-collapse:collapse}.markdown-body table thead{background:#fff9f9;color:#000;text-align:left;font-size:15px}.markdown-body table tr:nth-child(2n){background-color:#fcfcfc}.markdown-body table tr:hover{background-color:#fff9f9}.markdown-body table td,.markdown-body table th{padding:12px 7px;line-height:24px;border:1px solid #f9f1db}.markdown-body table td{min-width:120px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="xcode">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#000}.xml .hljs-meta{color:silver}.hljs-comment,.hljs-quote{color:#007400}.hljs-attribute,.hljs-keyword,.hljs-literal,.hljs-name,.hljs-selector-tag,.hljs-tag{color:#aa0d91}.hljs-template-variable,.hljs-variable{color:#3f6e74}.hljs-code,.hljs-meta-string,.hljs-string{color:#c41a16}.hljs-link,.hljs-regexp{color:#0e0eff}.hljs-bullet,.hljs-number,.hljs-symbol,.hljs-title{color:#1c00cf}.hljs-meta,.hljs-section{color:#643820}.hljs-built_in,.hljs-builtin-name,.hljs-class .hljs-title,.hljs-params,.hljs-type{color:#5c2699}.hljs-attr{color:#836c28}.hljs-subst{color:#000}.hljs-formula{background-color:#eee;font-style:italic}.hljs-addition{background-color:#baeeba}.hljs-deletion{background-color:#ffc8bd}.hljs-selector-class,.hljs-selector-id{color:#9b703f}.hljs-doctag,.hljs-strong{font-weight:700}.hljs-emphasis{font-style:italic}</style><h2 data-id="heading-0">this çš„æŒ‡å‘è§„åˆ™ - å‰ç«¯é«˜é¢‘å¿…è€ƒé¢˜</h2>
<blockquote>
<p>ç¬¬ 11 é¢˜ï¼š<strong>this çš„æŒ‡å‘è§„åˆ™</strong></p>
</blockquote>
<h3 data-id="heading-1">ç¬¬ 11 é¢˜ï¼šthis çš„æŒ‡å‘è§„åˆ™ï¼ˆå‰ç«¯é«˜é¢‘å¿…è€ƒé¢˜ï¼‰</h3>
<hr/>
<h3 data-id="heading-2">ä¸€ã€this çš„æ ¸å¿ƒåŸåˆ™ï¼ˆæœ€é‡è¦ä¸€å¥è¯ï¼‰</h3>
<blockquote>
<p><strong>this çš„æŒ‡å‘å–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ï¼Œè€Œä¸æ˜¯å®šä¹‰æ–¹å¼ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-3">äºŒã€this çš„ 5 å¤§æŒ‡å‘è§„åˆ™ï¼ˆæŒ‰ä¼˜å…ˆçº§ä»ä½åˆ°é«˜ï¼‰</h3>
<h4 data-id="heading-4">â­ 1. é»˜è®¤ç»‘å®šï¼ˆå‡½æ•°ç›´æ¥è°ƒç”¨ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>)
}
<span class="hljs-title function_">fn</span>()  <span class="hljs-comment">// this â†’ windowï¼ˆä¸¥æ ¼æ¨¡å¼ä¸‹æ˜¯ undefinedï¼‰</span>
</code></pre>
<h5 data-id="heading-5">é¢è¯•è§£é‡Šï¼š</h5>
<ul>
<li>éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼šæŒ‡å‘ <code>window</code></li>
<li>ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼šæŒ‡å‘ <code>undefined</code></li>
</ul>
<hr/>
<h4 data-id="heading-6">â­ 2. éšå¼ç»‘å®šï¼ˆå¯¹è±¡è°ƒç”¨ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'A'</span>,
  <span class="hljs-title function_">say</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)
  }
}
obj.<span class="hljs-title function_">say</span>() <span class="hljs-comment">// this â†’ obj</span>
</code></pre>
<p>è°ƒç”¨ç‚¹åœ¨ <code>obj</code>ï¼Œæ‰€ä»¥ <code>this â†’ obj</code><br/>
é‡ç‚¹ï¼š<strong>çœ‹ç‚¹å·å·¦è¾¹æ˜¯è°</strong>ã€‚</p>
<hr/>
<h4 data-id="heading-7">â­ 3. æ˜¾å¼ç»‘å®šï¼ˆcall / apply / bindï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"/>) { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>) }

fn.<span class="hljs-title function_">call</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'A'</span> })
fn.<span class="hljs-title function_">apply</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'B'</span> })
fn.<span class="hljs-title function_">bind</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'C'</span> })()
</code></pre>
<ul>
<li><code>call/apply</code> <strong>ç«‹å³æ‰§è¡Œ</strong></li>
<li><code>bind</code> <strong>è¿”å›æ–°å‡½æ•°</strong></li>
</ul>
<hr/>
<h4 data-id="heading-8">â­ 4. new ç»‘å®šï¼ˆæ„é€ å‡½æ•°æŒ‡å‘æ–°å¯¹è±¡ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) {
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name
}
<span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'Y'</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p.<span class="hljs-property">name</span>) <span class="hljs-comment">// 'Y'</span>
</code></pre>
<h5 data-id="heading-9">new çš„æ•ˆæœï¼š</h5>
<ol>
<li>åˆ›å»ºæ–°å¯¹è±¡</li>
<li>ç»‘å®š this</li>
<li>æ‰§è¡Œæ„é€ å‡½æ•°</li>
<li>è¿”å›æ–°å¯¹è±¡</li>
</ol>
<blockquote>
<p>ä¼˜å…ˆçº§æ¯” call/apply è¿˜é«˜ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-10">â­ 5. ç®­å¤´å‡½æ•°ä¸ç»‘å®š thisï¼ˆç»§æ‰¿å¤–å±‚ä½œç”¨åŸŸï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'A'</span>,
  <span class="hljs-attr">say</span>: <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)
  }
}
obj.<span class="hljs-title function_">say</span>() <span class="hljs-comment">// undefined</span>
</code></pre>
<p>ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ thisï¼Œå®ƒæ²¿ç”¨å¤–å±‚ï¼ˆå®šä¹‰ä½ç½®çš„ï¼‰ä½œç”¨åŸŸçš„ thisï¼Œé€šå¸¸æ˜¯ windowã€‚</p>
<hr/>
<h3 data-id="heading-11">ä¸‰ã€this ä¼˜å…ˆçº§ï¼ˆèƒŒè¿™ä¸ªå°±è¡Œï¼‰</h3>
<pre><code class="hljs language-scss" lang="scss">new ç»‘å®š &gt; æ˜¾å¼ç»‘å®š(call/apply/bind) &gt; éšå¼ç»‘å®š(obj.xxx) &gt; é»˜è®¤ç»‘å®š(ç›´æ¥è°ƒç”¨)
</code></pre>
<hr/>
<h3 data-id="heading-12">å››ã€ç»å…¸é¢è¯•é¢˜ï¼ˆå‡ ä¹å¿…è€ƒï¼‰</h3>
<h4 data-id="heading-13">â“ é¢˜ç›® 1</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">var</span> name = <span class="hljs-string">'window'</span>

<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'obj'</span>,
  <span class="hljs-title function_">say</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)
  }
}

<span class="hljs-keyword">const</span> fn = obj.<span class="hljs-property">say</span>
<span class="hljs-title function_">fn</span>()       <span class="hljs-comment">// ?</span>
obj.<span class="hljs-title function_">say</span>()  <span class="hljs-comment">// ?</span>
</code></pre>
<h5 data-id="heading-14">âœ” è§£æ</h5>
<ul>
<li><code>fn()</code> â†’ é»˜è®¤ç»‘å®š â†’ <code>window</code></li>
<li><code>obj.say()</code> â†’ éšå¼ç»‘å®š â†’ <code>obj</code></li>
</ul>
<hr/>
<h4 data-id="heading-15">â“ é¢˜ç›® 2ï¼šç®­å¤´å‡½æ•° this</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">var</span> name = <span class="hljs-string">'window'</span>

<span class="hljs-keyword">const</span> obj = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'obj'</span>,
  <span class="hljs-attr">say</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>)
}

obj.<span class="hljs-title function_">say</span>() <span class="hljs-comment">// ?</span>
</code></pre>
<h5 data-id="heading-16">âœ” è§£æ</h5>
<p>ç®­å¤´å‡½æ•°å–å†³äºå®šä¹‰ä½ç½®<br/>
å¤–å±‚æ˜¯å…¨å±€ â†’ <code>this = window</code></p>
<p><strong>ç»“æœï¼š</strong> <code>window</code></p>
<hr/>
<h4 data-id="heading-17">â“ é¢˜ç›® 3ï¼šnew + bind</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params">name</span>) { 
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name
}
<span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">name</span>: <span class="hljs-string">'obj'</span> }

<span class="hljs-keyword">const</span> f = <span class="hljs-title class_">Foo</span>.<span class="hljs-title function_">bind</span>(obj)
<span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title function_">f</span>(<span class="hljs-string">'A'</span>)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(p.<span class="hljs-property">name</span>) <span class="hljs-comment">// ?</span>
</code></pre>
<h5 data-id="heading-18">âœ” è§£æ</h5>
<p><code>new</code> ä¼˜å…ˆçº§æœ€é«˜ â†’ <code>this</code> æŒ‡å‘ <code>p</code></p>
<p><strong>è¾“å‡ºï¼š</strong> <code>A</code></p>
<hr/>
<h3 data-id="heading-19">äº”ã€é€Ÿè®°å¡ç‰‡ï¼ˆä¸Šç­æ‘¸é±¼è®°å¿†ç‰ˆï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript">ğŸ¯ <span class="hljs-variable language_">this</span> ç”±è°ƒç”¨æ–¹å¼å†³å®šï¼Œä¸ç”±å®šä¹‰æ–¹å¼å†³å®š

ğŸ† ä¼˜å…ˆçº§ï¼ˆèƒŒè¯µï¼‰ï¼š
<span class="hljs-keyword">new</span> &gt; call/apply/bind &gt; obj è°ƒç”¨ &gt; ç›´æ¥è°ƒç”¨

ğŸ§  ç®­å¤´å‡½æ•°æ²¡æœ‰ <span class="hljs-variable language_">this</span>ï¼Œç»§æ‰¿å¤–å±‚ä½œç”¨åŸŸï¼ˆå®šä¹‰å¤„ï¼‰

ğŸ“Œ é»˜è®¤ç»‘å®šï¼š<span class="hljs-variable language_">window</span> / <span class="hljs-literal">undefined</span>
ğŸ“Œ éšå¼ç»‘å®šï¼šç‚¹å·å·¦è¾¹æ˜¯è°å°±æ˜¯è°
ğŸ“Œ æ˜¾å¼ç»‘å®šï¼šcall/apply/bind
ğŸ“Œ <span class="hljs-keyword">new</span>ï¼šç»‘å®šåˆ°æ–°å¯¹è±¡
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 12 é¢˜ï¼š== ä¸ === çš„åŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ [] == ![] æ˜¯ trueï¼Ÿ]]></title>    <link>https://juejin.cn/post/7577660060093300790</link>    <guid>https://juejin.cn/post/7577660060093300790</guid>    <pubDate>2025-11-29T04:55:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577660060093300790" data-draft-id="7577627308515262505" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 12 é¢˜ï¼š== ä¸ === çš„åŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ [] == ![] æ˜¯ trueï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:55:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 12 é¢˜ï¼š== ä¸ === çš„åŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ [] == ![] æ˜¯ trueï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:55:04.000Z" title="Sat Nov 29 2025 04:55:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">== ä¸ === çš„åŒºåˆ« - å‰ç«¯é«˜é¢‘å¿…è€ƒé¢˜</h2>
<blockquote>
<p>ç¬¬ 12 é¢˜ï¼š<strong>== ä¸ === çš„åŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ <code>[] == ![]</code> æ˜¯ trueï¼Ÿ</strong></p>
</blockquote>
<p>è¿™é“é¢˜å±äºå‰ç«¯é¢è¯•å¸¸å¹´ TOP çº§åˆ«ï¼Œå¿…è€ƒã€‚</p>
<h3 data-id="heading-1">ç¬¬ 12 é¢˜ï¼š== ä¸ === çš„åŒºåˆ«ï¼Ÿä¸ºä»€ä¹ˆ [] == ![] æ˜¯ trueï¼Ÿ</h3>
<hr/>
<h3 data-id="heading-2">ä¸€ã€===ï¼ˆä¸¥æ ¼ç›¸ç­‰ï¼‰</h3>
<p><strong>ä¸è¿›è¡Œç±»å‹è½¬æ¢ï¼Œç±»å‹ä¸åŒå¿…å®šä¸ç­‰ã€‚</strong></p>
<h4 data-id="heading-3">ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-number">1</span> === <span class="hljs-string">'1'</span>           <span class="hljs-comment">// false</span>
<span class="hljs-literal">true</span> === <span class="hljs-number">1</span>          <span class="hljs-comment">// false</span>
<span class="hljs-literal">null</span> === <span class="hljs-literal">undefined</span>  <span class="hljs-comment">// false</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">äºŒã€==ï¼ˆæŠ½è±¡ç›¸ç­‰ï¼‰</h3>
<p><strong>ä¼šè¿›è¡Œå¤æ‚çš„éšå¼ç±»å‹è½¬æ¢ã€‚</strong></p>
<h4 data-id="heading-5">è½¬æ¢è§„åˆ™ï¼ˆå¿…é¡»èƒŒï¼‰ï¼š</h4>
<ol>
<li><strong>å¯¹è±¡ == åŸºæœ¬ç±»å‹ â†’ å¯¹è±¡è½¬æˆåŸºæœ¬ç±»å‹ï¼ˆè°ƒç”¨ valueOf æˆ– toStringï¼‰</strong></li>
<li><strong>å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼ â†’ æœ€ç»ˆéƒ½ä¼šå…ˆè½¬æˆæ•°å­—æ¯”è¾ƒ</strong></li>
<li><strong>null å’Œ undefined åªäº’ç›¸ç›¸ç­‰</strong></li>
<li><strong>NaN == ä»»ä½•å€¼éƒ½æ˜¯ false</strong></li>
</ol>
<hr/>
<h3 data-id="heading-6">ä¸‰ã€é‡ç‚¹ï¼šå¯¹è±¡ä¸åŸºæœ¬ç±»å‹æ¯”è¾ƒ</h3>
<pre><code class="hljs">å¯¹è±¡ == åŸºæœ¬ç±»å‹ â†’ å¯¹è±¡ â†’ åŸºæœ¬ç±»å‹ï¼ˆtoPrimitiveï¼‰
</code></pre>
<h4 data-id="heading-7">ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-javascript" lang="javascript">[] == <span class="hljs-number">0</span>   <span class="hljs-comment">// true</span>
<span class="hljs-comment">// [] -&gt; '' -&gt; 0 == 0</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆ <code>[]</code> ä¼šå˜æˆ <code>""</code>ï¼Ÿ</strong></p>
<p>å› ä¸ºï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">[].<span class="hljs-title function_">toString</span>() === <span class="hljs-string">''</span> 
</code></pre>
<hr/>
<h3 data-id="heading-8">å››ã€ç»ˆæé¢è¯•é¢˜ï¼šä¸ºä»€ä¹ˆ <code>[] == ![]</code> æ˜¯ trueï¼Ÿ</h3>
<p>è¿™æ˜¯å‰ç«¯é¢è¯•çœŸÂ·é«˜é¢‘é¢˜ã€‚</p>
<h4 data-id="heading-9">âœ” ç¬¬ä¸€æ­¥ï¼šå…ˆç®— <code>![]</code></h4>
<ul>
<li><code>[]</code> æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥æ˜¯çœŸå€¼ â†’ <code>true</code></li>
<li><code>![]</code> â†’ <code>false</code></li>
</ul>
<p>æ‰€ä»¥è¡¨è¾¾å¼å˜æˆï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">[] == <span class="hljs-literal">false</span>
</code></pre>
<h4 data-id="heading-10">âœ” ç¬¬äºŒæ­¥ï¼šfalse è½¬æˆæ•°å­—</h4>
<p>æ ¹æ®è§„åˆ™ï¼šå¸ƒå°”å€¼ â†’ æ•°å­—</p>
<ul>
<li><code>false â†’ 0</code></li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript">[] == <span class="hljs-number">0</span>
</code></pre>
<h4 data-id="heading-11">âœ” ç¬¬ä¸‰æ­¥ï¼šå¯¹è±¡è½¬åŸºæœ¬ç±»å‹ï¼ˆæ•°ç»„ â†’ å­—ç¬¦ä¸² â†’ æ•°å­—ï¼‰</h4>
<ul>
<li><code>[].toString()</code> â†’ <code>''</code></li>
<li><code>Number('')</code> â†’ <code>0</code></li>
</ul>
<p><strong>æœ€ç»ˆï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">0</span> == <span class="hljs-number">0</span> â†’ <span class="hljs-literal">true</span>
</code></pre>
<hr/>
<h3 data-id="heading-12">äº”ã€å¦å¤–ä¸‰ä¸ªå®¹æ˜“è€ƒçš„é™·é˜±é¢˜ï¼ˆä½ é¡ºä¾¿æ‹¿ä¸‹ï¼‰</h3>
<h4 data-id="heading-13">â“ 1. <code>"0" == false</code> â†’ ?</h4>
<ul>
<li><code>false â†’ 0</code></li>
<li><code>"0" â†’ Number("0") = 0</code></li>
<li><strong>ç»“æœï¼š</strong> <code>true</code></li>
</ul>
<h4 data-id="heading-14">â“ 2. <code>[] == []</code> â†’ ?</h4>
<ul>
<li>å¼•ç”¨ç±»å‹æ¯”è¾ƒåœ°å€</li>
<li>ä¸¤ä¸ªä¸åŒæ•°ç»„åœ°å€ä¸åŒ</li>
<li><strong>ç»“æœï¼š</strong> <code>false</code></li>
</ul>
<h4 data-id="heading-15">â“ 3. <code>null == undefined</code> â†’ ?</h4>
<ul>
<li>è§„åˆ™è§„å®šå®ƒä¿©äº’ç›¸ç›¸ç­‰</li>
<li><strong>ç»“æœï¼š</strong> <code>true</code></li>
</ul>
<hr/>
<h3 data-id="heading-16">å…­ã€æ€»ç»“è¡¨ï¼ˆé¢è¯•å®˜æœ€çˆ±ï¼‰</h3>








































<table><thead><tr><th>è¡¨è¾¾å¼</th><th>ç»“è®º</th><th>åŸå› </th></tr></thead><tbody><tr><td><code>[] == ![]</code></td><td><code>true</code></td><td><code>![]â†’falseâ†’0ï¼›[]â†’""â†’0</code></td></tr><tr><td><code>[] == false</code></td><td><code>true</code></td><td><code>falseâ†’0ï¼›[]â†’0</code></td></tr><tr><td><code>[] == 0</code></td><td><code>true</code></td><td><code>[]â†’""â†’0</code></td></tr><tr><td><code>"" == 0</code></td><td><code>true</code></td><td><code>""â†’0</code></td></tr><tr><td><code>null == undefined</code></td><td><code>true</code></td><td>è§„åˆ™</td></tr><tr><td><code>[] == []</code></td><td><code>false</code></td><td>å¼•ç”¨ä¸åŒ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-17">ä¸ƒã€é€Ÿè®°å¡ç‰‡ï¼ˆèƒŒè¿™ä¸ªå°±å¤Ÿäº†ï¼‰</h3>
<pre><code class="hljs language-ini" lang="ini">ğŸ¯ === ä¸è½¬æ¢ç±»å‹
ğŸ¯ == ä¼šç±»å‹è½¬æ¢ï¼Œæœ€ç»ˆéƒ½è½¬æˆæ•°å­—æ¯”è¾ƒ

ğŸ“Œ å¸ƒå°”è½¬æ•°å­—ï¼š<span class="hljs-attr">true</span>=<span class="hljs-number">1</span>ï¼Œ<span class="hljs-literal">false</span>=<span class="hljs-number">0</span>
ğŸ“Œ å¯¹è±¡å’ŒåŸºæœ¬ç±»å‹æ¯”è¾ƒï¼šå¯¹è±¡ â†’ åŸºæœ¬ç±»å‹ï¼ˆtoString/valueOfï¼‰
ğŸ“Œ æ•°ç»„å˜æˆï¼š<span class="hljs-section">[]</span>.toString() === ''

ğŸ”¥ å¿…è€ƒï¼š<span class="hljs-section">[]</span> == !<span class="hljs-section">[]</span>
<span class="hljs-section">[]</span> == false â†’ falseâ†’0ï¼›<span class="hljs-section">[]</span>â†’""â†’0 â†’ <span class="hljs-attr">0</span>==<span class="hljs-number">0</span> â†’ <span class="hljs-literal">true</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 13 é¢˜ï¼šåŸå‹é“¾æŸ¥æ‰¾è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆå¯¹è±¡èƒ½è®¿é—®åˆ°æ–¹æ³•ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7577691384942231594</link>    <guid>https://juejin.cn/post/7577691384942231594</guid>    <pubDate>2025-11-29T04:59:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577691384942231594" data-draft-id="7577715145120432182" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 13 é¢˜ï¼šåŸå‹é“¾æŸ¥æ‰¾è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆå¯¹è±¡èƒ½è®¿é—®åˆ°æ–¹æ³•ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T04:59:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 13 é¢˜ï¼šåŸå‹é“¾æŸ¥æ‰¾è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆå¯¹è±¡èƒ½è®¿é—®åˆ°æ–¹æ³•ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T04:59:05.000Z" title="Sat Nov 29 2025 04:59:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{font-family:-apple-system,system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial;color:#00325e}.markdown-body ::selection{background-color:#00325e;color:#fff}.markdown-body blockquote{padding:10px 20px;background-color:#fffaf0;box-shadow:0 3px 10px 0 rgba(255,172,194,.24);border:1px solid #f3ca8e;transition:all .2s;margin:1em 0;border-radius:5px}.markdown-body blockquote p{font-size:14px;line-height:25px;color:#795548}.markdown-body blockquote p:last-child{margin:0}.markdown-body blockquote:hover{border-color:#ff9800;background-color:#fff8e0;box-shadow:0 6px 10px -5px rgba(225,173,98,.3803921569)}.markdown-body blockquote code{color:#ff502c}.markdown-body pre{border:1px solid #8cc0f3;box-shadow:0 3px 10px 0 rgba(255,198,198,.28);border-radius:5px;transition:all .2s;overflow-x:auto;white-space:pre-wrap}.markdown-body pre:hover{border-color:#6d9dce}.markdown-body pre&gt;code{padding:10px 20px;color:#00325e;background:#f0f8ff;font-size:12px;line-height:1.6;display:block}.markdown-body code{background:#f6fbff;color:#0b5393;padding:2px 4px;border-radius:4px;font-size:12px}.markdown-body p{font-size:14px;line-height:28px;text-align:justify;margin-bottom:17px;color:#595959}.markdown-body a{color:#00325e;text-decoration:none}.markdown-body a:after{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAQdJREFUKFNt0DtLA0EUBeBzZle0Eks7rcUfEfBRCha7NorYa6NmVJzgyi4smUgKtdZGCJktLMVH4Y8QeztLWyE7VyLEuNFbXj4Oh0P8c8mZm+uJrEN4BJFTeP/MUVe3bnocfALwkOlo1zS7iZAzf6Cx7oXgbaqjxiDEWCcVaGyxQ8pSWo9XhqhoQ/xUFbaKjhe5V+CmR7mnSplEEF6GSmJ+F/d0KHvbCIIJCLc85U6BC5mONgbJNM3uFag++sX7z8O8MzsWBucifMx0dDGE1kmm458KDVukAlnNdDz/exEeW3dNkbfsYC0xtmgDWP6ELLZ0/F6BJu/UoFQN5AkoeUjeJPvx6+i+X5Sjah4tA6gYAAAAAElFTkSuQmCC);margin-left:2px}.markdown-body a:hover{box-shadow:0 1px}.markdown-body table{max-width:100%;border-collapse:collapse;border-spacing:0;box-shadow:0 3px 10px 0 rgba(255,238,172,.24);transition:all .2s}.markdown-body table:hover{box-shadow:0 3px 10px 0 rgba(185,169,103,.24)}.markdown-body table tr th{border:1px solid #8cc0f3;background-color:#f0f8ff;padding:12px 15px}.markdown-body table tr td{border:1px solid rgba(243,202,142,.4);padding:12px 15px}.markdown-body table tbody tr{transition:all .2s}.markdown-body table tbody tr:hover td{border-color:#f3ca8e;background-color:#fff8e0;z-index:1}.markdown-body img{max-width:100%}.markdown-body h1{font-size:20px;margin-top:30px;margin-bottom:10px;padding-left:30px;position:relative}.markdown-body h1&gt;code{font-size:20px}.markdown-body h1:before{content:"ğŸº";display:block;font-size:18px;width:18px;height:18px;left:0;position:absolute}.markdown-body h2{font-size:18px;margin-top:30px;margin-bottom:10px;padding-left:28px;position:relative}.markdown-body h2&gt;code{font-size:18px}.markdown-body h2:before{content:"ğŸ»";display:block;font-size:16px;width:16px;height:16px;left:0;position:absolute}.markdown-body h3{font-size:16px;margin-top:30px;margin-bottom:10px;padding-left:26px;position:relative}.markdown-body h3&gt;code{font-size:16px}.markdown-body h3:before{content:"ğŸ¥‚";display:block;font-size:14px;width:14px;height:14px;left:0;position:absolute}.markdown-body h4{font-size:14px;margin-top:30px;margin-bottom:10px;padding-left:24px;position:relative}.markdown-body h4&gt;code{font-size:14px}.markdown-body h4:before{content:"ğŸ¥ƒ";display:block;font-size:12px;width:12px;height:12px;left:0;position:absolute}.markdown-body h5{font-size:12px;margin-top:30px;margin-bottom:10px}.markdown-body h5&gt;code{font-size:12px}.markdown-body h6{font-size:10px;margin-top:30px;margin-bottom:10px}.markdown-body h6&gt;code{font-size:10px}.markdown-body h1,.markdown-body h2{color:#ff502c}.markdown-body hr{height:4px;border:none;margin-top:32px;margin-bottom:32px;background-size:4px 1px;background-image:linear-gradient(270deg,#6d9dce,#8cc0f3 25%,transparent 50%)}.markdown-body hr:nth-child(2n){background-image:linear-gradient(270deg,#ff9800,#fff8e0 25%,transparent 50%)}.markdown-body ul{padding-inline-start:20px}.markdown-body ul li{list-style-type:"ğŸ”¸"}.markdown-body ul li li{list-style-type:"â—»ï¸"}.markdown-body ul li li li{list-style-type:"â–«ï¸"}.markdown-body ol{padding-inline-start:20px}.markdown-body ol ::marker{color:#ff9800}.markdown-body ol,.markdown-body ul{line-height:2em}.markdown-body li{padding-inline-start:1ch}.markdown-body li.task-list-item{list-style:none;padding-inline-start:0}.markdown-body li input{padding-right:2px}.markdown-body li input[type=checkbox i]{appearance:none}.markdown-body li input:before{content:"ğŸŸ©";display:block;width:13px;height:13px}.markdown-body li input:checked:before{content:"âœ…"}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-sulphurpool-light">.hljs-comment,.hljs-quote{color:#6b7394}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#c94922}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#c76b29}.hljs-bullet,.hljs-string,.hljs-symbol{color:#ac9739}.hljs-section,.hljs-title{color:#3d8fd1}.hljs-keyword,.hljs-selector-tag{color:#6679cc}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#f5f7ff;color:#5e6687}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸå‹é“¾æŸ¥æ‰¾è§„åˆ™ - å‰ç«¯é«˜é¢‘å¿…è€ƒé¢˜</h2>
<blockquote>
<p>ç¬¬ 13 é¢˜ï¼š<strong>åŸå‹é“¾æŸ¥æ‰¾è§„åˆ™ + é¢è¯•å¸¸è€ƒä»£ç é¢˜</strong></p>
</blockquote>
<p>è¿™é¢˜æ˜¯å‰ç«¯é¢è¯•çš„å¿…è€ƒçŸ¥è¯†ç‚¹ä¹‹ä¸€ã€‚</p>
<h3 data-id="heading-1">ç¬¬ 13 é¢˜ï¼šåŸå‹é“¾æŸ¥æ‰¾è§„åˆ™æ˜¯ä»€ä¹ˆï¼Ÿä¸ºä»€ä¹ˆå¯¹è±¡èƒ½è®¿é—®åˆ°æ–¹æ³•ï¼Ÿ</h3>
<hr/>
<h3 data-id="heading-2">ä¸€ã€æ ¸å¿ƒæ¦‚å¿µï¼šåŸå‹é“¾æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<blockquote>
<p><strong>åŸå‹é“¾ï¼ˆPrototype Chainï¼‰æ˜¯ä¸€æ¡ç”± <code>__proto__</code> ç»„æˆçš„é“¾å¼ç»“æ„ï¼Œç”¨äºæŸ¥æ‰¾å±æ€§ã€‚</strong></p>
</blockquote>
<p>å½“è®¿é—®å¯¹è±¡å±æ€§æ—¶ï¼š</p>
<ol>
<li>å…ˆçœ‹å¯¹è±¡è‡ªèº«æœ‰æ²¡æœ‰</li>
<li>æ²¡æœ‰ â†’ å»å®ƒçš„åŸå‹ï¼ˆ<code>__proto__</code>ï¼‰æ‰¾</li>
<li>ç»§ç»­å¾€ä¸Šæ‰¾</li>
<li>æ‰¾åˆ° <code>Object.prototype</code> åç»ˆæ­¢</li>
<li>å†å¾€ä¸Šæ˜¯ <code>null</code></li>
</ol>
<hr/>
<h3 data-id="heading-3">äºŒã€ä¸ºä»€ä¹ˆå¯¹è±¡èƒ½è®¿é—®åˆ°æ–¹æ³•ï¼Ÿï¼ˆå…³é”®ç‚¹ï¼‰</h3>
<h4 data-id="heading-4">ç¤ºä¾‹ï¼š</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
arr.<span class="hljs-title function_">push</span>(<span class="hljs-number">4</span>)
</code></pre>
<ul>
<li><code>arr</code> è‡ªèº«æ²¡æœ‰ <code>push</code> æ–¹æ³•</li>
<li>ä½†æµè§ˆå™¨ä¼šæ‰¾ï¼š
<pre><code class="hljs language-javascript" lang="javascript">arr â†’ <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ <span class="hljs-literal">null</span>
</code></pre>
</li>
<li>åœ¨ <code>Array.prototype</code> æ‰¾åˆ° <code>push</code></li>
<li>å› æ­¤èƒ½è°ƒç”¨</li>
</ul>
<p>è¿™å°±æ˜¯åŸå‹é“¾çš„æ ¸å¿ƒæ„ä¹‰ã€‚</p>
<hr/>
<h3 data-id="heading-5">ä¸‰ã€åŸå‹æŸ¥æ‰¾è§„åˆ™ï¼ˆå¿…é¡»èƒŒï¼‰</h3>
<p><strong>è®¿é—®å±æ€§æ—¶ï¼šæ²¿ç€åŸå‹é“¾å‘ä¸ŠæŸ¥æ‰¾ç¬¬ä¸€ä¸ªåŒ¹é…çš„å±æ€§ï¼ŒæŸ¥åˆ°å°±åœæ­¢ï¼ŒæŸ¥ä¸åˆ°è¿”å› <code>undefined</code>ã€‚</strong></p>
<hr/>
<h3 data-id="heading-6">å››ã€åŸå‹é“¾ç»“æ„ï¼ˆä¸€å¼ è¡¨ç§’æ‡‚ï¼‰</h3>





























<table><thead><tr><th>å¯¹è±¡</th><th>å®ƒçš„åŸå‹ï¼ˆ<code>__proto__</code>ï¼‰</th></tr></thead><tbody><tr><td><code>{}</code></td><td><code>Object.prototype</code></td></tr><tr><td><code>[]</code></td><td><code>Array.prototype</code></td></tr><tr><td><code>function</code></td><td><code>Function.prototype</code></td></tr><tr><td>è‡ªå®šä¹‰å®ä¾‹</td><td>æ„é€ å‡½æ•°.prototype</td></tr><tr><td><code>Object.prototype</code></td><td><code>null</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-7">äº”ã€é¢è¯•å¿…è€ƒï¼šåŸå‹é“¾ç»å…¸ä»£ç é¢˜</h3>
<h4 data-id="heading-8">â“ é¢˜ç›® 1</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params"/>) {}
<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">a</span> = <span class="hljs-number">100</span>
<span class="hljs-keyword">const</span> f = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>()

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(f.<span class="hljs-property">a</span>)           <span class="hljs-comment">// ?</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(f.<span class="hljs-title function_">hasOwnProperty</span>(<span class="hljs-string">'a'</span>))  <span class="hljs-comment">// ?</span>
</code></pre>
<h5 data-id="heading-9">âœ” ç­”æ¡ˆ</h5>
<ul>
<li><code>f.a</code> â†’ <code>100</code>ï¼ˆæ¥è‡ªåŸå‹é“¾ï¼‰</li>
<li><code>f.hasOwnProperty('a')</code> â†’ <code>false</code>ï¼ˆä¸åœ¨è‡ªèº«ï¼‰</li>
</ul>
<hr/>
<h4 data-id="heading-10">â“ é¢˜ç›® 2</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> obj = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> }
<span class="hljs-keyword">const</span> obj2 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(obj)

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj2.<span class="hljs-property">a</span>)  <span class="hljs-comment">// ?</span>
obj2.<span class="hljs-property">a</span> = <span class="hljs-number">2</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">a</span>)   <span class="hljs-comment">// ?</span>
</code></pre>
<h5 data-id="heading-11">âœ” è§£æ</h5>
<ul>
<li><code>obj2.a</code> â†’ æŸ¥åˆ°åŸå‹ <code>obj</code> â†’ <code>1</code></li>
<li><code>obj2.a = 2</code> â†’ ç»™ <code>obj2</code> è‡ªå·±åŠ å±æ€§ï¼Œä¸ä¼šæ”¹åŸå‹</li>
</ul>
<p><strong>è¾“å‡ºï¼š</strong></p>
<pre><code class="hljs">1
1
</code></pre>
<hr/>
<h4 data-id="heading-12">â“ é¢˜ç›® 3ï¼ˆéš¾åº¦æé«˜ï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params"/>) {}
<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">x</span> = <span class="hljs-number">1</span>
<span class="hljs-keyword">let</span> f1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>()

<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">2</span> }
<span class="hljs-keyword">let</span> f2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>()

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(f1.<span class="hljs-property">x</span>) <span class="hljs-comment">// ?</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(f2.<span class="hljs-property">x</span>) <span class="hljs-comment">// ?</span>
</code></pre>
<h5 data-id="heading-13">âœ” è§£æ</h5>
<ul>
<li><code>f1</code> æ˜¯åœ¨æ”¹ <code>prototype</code> ä¹‹å‰åˆ›å»ºçš„ï¼š
â†’ å®ƒè¿å‘æ—§çš„ <code>Foo.prototype</code>ï¼ˆx=1ï¼‰</li>
<li><code>f2</code> æ˜¯åœ¨æ›¿æ¢ <code>prototype</code> ä¹‹ååˆ›å»ºçš„ï¼š
â†’ å®ƒè¿å‘æ–°çš„ <code>Foo.prototype</code>ï¼ˆx=2ï¼‰</li>
</ul>
<p><strong>ç»“æœï¼š</strong></p>
<pre><code class="hljs">1
2
</code></pre>
<hr/>
<h4 data-id="heading-14">â“ é¢˜ç›® 4ï¼ˆå¤§å…¬å¸çˆ±è€ƒï¼‰</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">x</span> = <span class="hljs-number">1</span>
<span class="hljs-keyword">const</span> y = {}
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(y.<span class="hljs-property">x</span>)
</code></pre>
<h5 data-id="heading-15">âœ” è§£æ</h5>
<ul>
<li><code>y</code> è‡ªèº«æ²¡æœ‰ â†’ ä»åŸå‹ <code>Object.prototype</code> æŸ¥ â†’ <code>1</code></li>
</ul>
<hr/>
<h3 data-id="heading-16">å…­ã€é€Ÿè®°å¡ç‰‡ï¼ˆé¢è¯•èƒŒè¯µç‰ˆï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript">ğŸ¯ åŸå‹é“¾ï¼šç”± __proto__ è¿æ¥æˆçš„å±æ€§æŸ¥æ‰¾è·¯å¾„
ğŸ¯ æŸ¥æ‰¾è§„åˆ™ï¼šè‡ªèº«æ‰¾ â†’ åŸå‹æ‰¾ â†’ ç›´åˆ° <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ <span class="hljs-literal">null</span>

ğŸ“Œ æ•°ç»„çš„åŸå‹é“¾ï¼šarr â†’ <span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> â†’ <span class="hljs-literal">null</span>
ğŸ“Œ å®ä¾‹çš„åŸå‹ = æ„é€ å‡½æ•°.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>
ğŸ“Œ åŸå‹è¢«æ”¹åï¼Œæ—§å®ä¾‹ä¸å—å½±å“ï¼Œæ–°å®ä¾‹å—å½±å“

ğŸ”¥ å¿…è€ƒé¢˜ï¼š
f1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>()
<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = {...}
f2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>()
â†’ f1 ç”¨æ—§çš„åŸå‹ï¼Œf2 ç”¨æ–°çš„åŸå‹
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 14 é¢˜ï¼šPromise.then é“¾å¼è°ƒç”¨æ‰§è¡Œé¡ºåº]]></title>    <link>https://juejin.cn/post/7577691384942247978</link>    <guid>https://juejin.cn/post/7577691384942247978</guid>    <pubDate>2025-11-29T05:01:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577691384942247978" data-draft-id="7577660060093333558" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 14 é¢˜ï¼šPromise.then é“¾å¼è°ƒç”¨æ‰§è¡Œé¡ºåº"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:01:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ğŸ”¥ ç¬¬ 14 é¢˜ï¼šPromise.then é“¾å¼è°ƒç”¨æ‰§è¡Œé¡ºåº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:01:54.000Z" title="Sat Nov 29 2025 05:01:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><p>è¿™é“é¢˜æ˜¯å¤§å‚é¢è¯•å¸¸è€ƒé¢˜ï¼Œæ ¸å¿ƒè€ƒå¯Ÿå¯¹äº‹ä»¶å¾ªç¯å’Œå¾®ä»»åŠ¡é˜Ÿåˆ—çš„ç†è§£ã€‚</p>
<hr/>
<h2 data-id="heading-0">âœ… ç¬¬ 14 é¢˜ï¼šPromise.then é“¾å¼è°ƒç”¨æ‰§è¡Œé¡ºåº</h2>
<hr/>
<h2 data-id="heading-1">ğŸ“˜ ä¸€ã€æ ¸å¿ƒæ¦‚å¿µ</h2>
<ul>
<li><strong>Promise.then / catch / finally å›è°ƒéƒ½æ˜¯å¾®ä»»åŠ¡ï¼ˆmicrotaskï¼‰</strong></li>
<li><strong>å¾®ä»»åŠ¡é˜Ÿåˆ—</strong>ï¼šå½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œåç«‹å³æ‰§è¡Œæ‰€æœ‰å¾®ä»»åŠ¡</li>
<li><strong>åŒæ­¥ä»£ç å…ˆæ‰§è¡Œ â†’ å¾®ä»»åŠ¡ â†’ å®ä»»åŠ¡</strong></li>
</ul>
<hr/>
<h2 data-id="heading-2">ğŸ“˜ äºŒã€ç»å…¸é¢˜ç›®</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'script start'</span>);

<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'setTimeout'</span>);
}, <span class="hljs-number">0</span>);

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'promise1'</span>);
}).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'promise2'</span>);
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'script end'</span>);
</code></pre>
<hr/>
<h2 data-id="heading-3">ğŸ“˜ ä¸‰ã€è¯¦ç»†åˆ†æï¼ˆæ­¥æ­¥è§£æï¼‰</h2>
<ol>
<li><strong>åŒæ­¥æ‰§è¡Œ</strong></li>
</ol>
<pre><code class="hljs language-arduino" lang="arduino">console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'script start'</span>) <span class="hljs-comment">// è¾“å‡º 1</span>
console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'script end'</span>)   <span class="hljs-comment">// è¾“å‡º 2</span>
</code></pre>
<ol start="2">
<li><strong>å¾®ä»»åŠ¡é˜Ÿåˆ—</strong>ï¼ˆPromise.thenï¼‰</li>
</ol>
<ul>
<li>ç¬¬ä¸€ä¸ª then å›è°ƒ â†’ è¾“å‡º 'promise1'</li>
<li>ç¬¬äºŒä¸ª then å›è°ƒ â†’ è¾“å‡º 'promise2'</li>
</ul>
<ol start="3">
<li><strong>å®ä»»åŠ¡é˜Ÿåˆ—</strong>ï¼ˆsetTimeoutï¼‰</li>
</ol>
<ul>
<li>è¾“å‡º 'setTimeout'</li>
</ul>
<hr/>
<h2 data-id="heading-4">ğŸ“˜ å››ã€æœ€ç»ˆè¾“å‡ºé¡ºåº</h2>
<pre><code class="hljs language-arduino" lang="arduino">script start
script end
promise1
promise2
setTimeout
</code></pre>
<p>âœ… é¢è¯•å®˜éå¸¸å–œæ¬¢é—®è¿™ä¸ªè¾“å‡ºé¡ºåºã€‚</p>
<hr/>
<h2 data-id="heading-5">ğŸ“˜ äº”ã€é€Ÿè®°å¡ï¼ˆ10 ç§’å¤ç›˜ç‰ˆï¼‰</h2>
<pre><code class="hljs language-javascript" lang="javascript">ğŸ¯ åŒæ­¥ä»£ç  &gt; å¾®ä»»åŠ¡ï¼ˆ<span class="hljs-title class_">Promise</span>.<span class="hljs-property">then</span>ï¼‰ &gt; å®ä»»åŠ¡ï¼ˆ<span class="hljs-built_in">setTimeout</span>/<span class="hljs-built_in">setInterval</span>/<span class="hljs-variable constant_">IO</span>ï¼‰

ğŸ¯ <span class="hljs-title class_">Promise</span>.<span class="hljs-property">then</span> å†…å† then â†’ é“¾å¼å¾®ä»»åŠ¡ï¼Œä¾æ¬¡æ‰§è¡Œ

ğŸ¯ æ ¸å¿ƒç‚¹ï¼š
- <span class="hljs-title class_">Promise</span>.<span class="hljs-property">then</span> å›è°ƒæ€»æ˜¯å¾®ä»»åŠ¡
- å¾®ä»»åŠ¡ä¼šåœ¨å½“å‰å®ä»»åŠ¡ç»“æŸåç«‹å³æ‰§è¡Œ
- å¾®ä»»åŠ¡å†…éƒ¨å†ç”Ÿæˆå¾®ä»»åŠ¡ï¼Œä¼šè¿½åŠ åˆ°é˜Ÿåˆ—æœ«å°¾
</code></pre>
<hr/>
<h2 data-id="heading-6">ğŸ“˜ å…­ã€æ‹“å±•é¢˜ï¼ˆåŠ åˆ†ï¼‰</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>()
  .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'1'</span>);
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'2'</span>), <span class="hljs-number">0</span>);
  })
  .<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'3'</span>));
</code></pre>
<p>è¾“å‡ºé¡ºåºï¼š</p>
<pre><code class="hljs">1
3
2
</code></pre>
<p>è§£é‡Šï¼š</p>
<ul>
<li>'1' â†’ å¾®ä»»åŠ¡é˜Ÿåˆ—ç¬¬ä¸€ä¸ª</li>
<li>setTimeout â†’ å®ä»»åŠ¡</li>
<li>ç¬¬äºŒä¸ª then â†’ å¾®ä»»åŠ¡é˜Ÿåˆ—æœ«å°¾ï¼Œç´§è·Ÿ '1' æ‰§è¡Œ</li>
<li>å®ä»»åŠ¡æœ€åæ‰§è¡Œ '2'</li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ ç¬¬ 15 é¢˜ï¼šCSS æ°´å¹³å‚ç›´å±…ä¸­é«˜é¢‘æ–¹æ¡ˆï¼ˆFlex / Grid / transform ç­‰ï¼‰]]></title>    <link>https://juejin.cn/post/7577660060093349942</link>    <guid>https://juejin.cn/post/7577660060093349942</guid>    <pubDate>2025-11-29T05:03:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577660060093349942" data-draft-id="7577715145120448566" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ ç¬¬ 15 é¢˜ï¼šCSS æ°´å¹³å‚ç›´å±…ä¸­é«˜é¢‘æ–¹æ¡ˆï¼ˆFlex / Grid / transform ç­‰ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:03:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ ç¬¬ 15 é¢˜ï¼šCSS æ°´å¹³å‚ç›´å±…ä¸­é«˜é¢‘æ–¹æ¡ˆï¼ˆFlex / Grid / transform ç­‰ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:03:06.000Z" title="Sat Nov 29 2025 05:03:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸‹é¢æ˜¯ <strong>ä¸‹ä¸€é“é«˜é¢‘å‰ç«¯é¢è¯•é¢˜ï¼ˆè¯¦ç»†ç‰ˆ + é€Ÿè®°å¡ç‰‡ï¼‰</strong><br/>
ç¬¬ 15 é¢˜ï¼š<strong>CSS æ°´å¹³å‚ç›´å±…ä¸­é«˜é¢‘æ–¹æ¡ˆï¼ˆFlex / Grid / transform ç­‰ï¼‰</strong></p>
<p>è¿™é“é¢˜æ˜¯å‰ç«¯é¢è¯•å‡ ä¹å¿…é—®çš„ CSS åŸºç¡€é¢˜ï¼Œé«˜é¢‘å¤§å‚å¿…è€ƒã€‚</p>
<hr/>
<h2 data-id="heading-0">âœ… ç¬¬ 15 é¢˜ï¼šå¦‚ä½•å®ç°æ°´å¹³å‚ç›´å±…ä¸­ï¼Ÿ</h2>
<hr/>
<h2 data-id="heading-1">ğŸ“˜ ä¸€ã€æ–¹æ¡ˆ 1ï¼šFlex å¸ƒå±€ï¼ˆæœ€æ¨èï¼‰</h2>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">justify-content</span>: center; <span class="hljs-comment">/* æ°´å¹³å±…ä¸­ */</span>
  <span class="hljs-attribute">align-items</span>: center;     <span class="hljs-comment">/* å‚ç›´å±…ä¸­ */</span>
  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;           <span class="hljs-comment">/* çˆ¶å…ƒç´ éœ€è¦æœ‰é«˜åº¦ */</span>
}
</code></pre>
<pre><code class="hljs language-ini" lang="ini">&lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"parent"</span>&gt;
  &lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"child"</span>&gt;å†…å®¹&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<p>âœ… ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ç®€å•ã€å…¼å®¹æ€§å¥½ï¼ˆIE10+ï¼‰</li>
<li>å¯åŒæ—¶å¤„ç†æ°´å¹³ + å‚ç›´</li>
<li>é€‚åˆå“åº”å¼å¸ƒå±€</li>
</ul>
<hr/>
<h2 data-id="heading-2">ğŸ“˜ äºŒã€æ–¹æ¡ˆ 2ï¼šç»å¯¹å®šä½ + transform</h2>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> {
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
}
<span class="hljs-selector-class">.child</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);
}
</code></pre>
<p>âœ… ç‰¹ç‚¹ï¼š</p>
<ul>
<li>çˆ¶å…ƒç´ å¿…é¡»æœ‰å®šä½ï¼ˆrelative / absolute / fixedï¼‰</li>
<li>å¯¹è€æµè§ˆå™¨å…¼å®¹è‰¯å¥½</li>
<li>å¯¹åŠ¨æ€å†…å®¹é€‚ç”¨</li>
<li>å¯ä»¥å®ç°å›ºå®šå°ºå¯¸æˆ–è‡ªé€‚åº”å…ƒç´ å±…ä¸­</li>
</ul>
<hr/>
<h2 data-id="heading-3">ğŸ“˜ ä¸‰ã€æ–¹æ¡ˆ 3ï¼šCSS Grid</h2>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> {
  <span class="hljs-attribute">display</span>: grid;
  place-items: center; <span class="hljs-comment">/* åŒæ—¶æ°´å¹³+å‚ç›´å±…ä¸­ */</span>
  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
}
</code></pre>
<p>âœ… ç‰¹ç‚¹ï¼š</p>
<ul>
<li>Grid å¸ƒå±€ï¼Œè¯­ä¹‰æ¸…æ™°</li>
<li>ç®€æ´ã€ä¸€è¡Œä»£ç æå®šå±…ä¸­</li>
<li>IE11 ä¸å®Œå…¨æ”¯æŒ <code>place-items</code></li>
</ul>
<hr/>
<h2 data-id="heading-4">ğŸ“˜ å››ã€æ–¹æ¡ˆ 4ï¼šè¡Œå†…å— + line-heightï¼ˆä»…å•è¡Œæ–‡æœ¬ï¼‰</h2>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;
  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">50px</span>; <span class="hljs-comment">/* = é«˜åº¦ */</span>
  <span class="hljs-attribute">text-align</span>: center;
}
</code></pre>
<p>âœ… åªé€‚åˆå•è¡Œæ–‡æœ¬ï¼Œä¸é€‚åˆå¤šè¡Œå†…å®¹æˆ–å—å…ƒç´ </p>
<hr/>
<h2 data-id="heading-5">ğŸ“˜ äº”ã€æ–¹æ¡ˆ 5ï¼štable-cellï¼ˆè€æ–¹æ³•ï¼‰</h2>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.parent</span> {
  <span class="hljs-attribute">display</span>: table;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;
}
<span class="hljs-selector-class">.child</span> {
  <span class="hljs-attribute">display</span>: table-cell;
  <span class="hljs-attribute">vertical-align</span>: middle;
  <span class="hljs-attribute">text-align</span>: center;
}
</code></pre>
<p>âœ… ç‰¹ç‚¹ï¼š</p>
<ul>
<li>IE8+ æ”¯æŒ</li>
<li>è€é¡¹ç›®å¯èƒ½é‡åˆ°</li>
<li>ä¸æ¨èç°ä»£é¡¹ç›®</li>
</ul>
<hr/>
<h2 data-id="heading-6">ğŸ“˜ å…­ã€é€Ÿè®°å¡ç‰‡ï¼ˆé¢è¯•èƒŒè¯µç‰ˆï¼‰</h2>
<pre><code class="hljs language-css" lang="css">ğŸ¯ é«˜é¢‘æ–¹æ¡ˆï¼ˆç°ä»£é¡¹ç›®ï¼‰ï¼š
<span class="hljs-number">1</span>ï¸âƒ£ <span class="hljs-attribute">Flex</span>ï¼š<span class="hljs-attribute">display</span>:flex; <span class="hljs-attribute">justify-content</span>:center; <span class="hljs-attribute">align-items</span>:center
<span class="hljs-number">2</span>ï¸âƒ£ Gridï¼šdisplay:grid; place-items:center
<span class="hljs-number">3</span>ï¸âƒ£ ç»å¯¹å®šä½ + transformï¼štop:<span class="hljs-number">50%</span>; <span class="hljs-attribute">left</span>:<span class="hljs-number">50%</span>; <span class="hljs-attribute">transform</span>:<span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>,-<span class="hljs-number">50%</span>)

ğŸ“Œ æ—§æ–¹æ¡ˆï¼ˆå…¼å®¹ IE8/<span class="hljs-number">9</span>ï¼‰ï¼š
- line-heightï¼ˆå•è¡Œæ–‡æœ¬ï¼‰
- table-cell
</code></pre>
<hr/>
<p>ä¸‹ä¸€é¢˜æ¨èï¼š<br/>
<strong>ç¬¬ 16 é¢˜ï¼šæ•°ç»„å»é‡é«˜é¢‘æ–¹æ³• + Set / filter / reduce / Object é”®å€¼æ³•</strong></p>
<p>æ˜¯å¦ç»§ç»­å‡ºç¬¬ 16 é¢˜ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ç¬¬ 16 é¢˜ï¼šæ•°ç»„å»é‡é«˜é¢‘æ–¹æ³•ï¼ˆSet / filter / reduce / å¯¹è±¡é”®å€¼æ³•ï¼‰]]></title>    <link>https://juejin.cn/post/7577715145120481334</link>    <guid>https://juejin.cn/post/7577715145120481334</guid>    <pubDate>2025-11-29T05:04:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577715145120481334" data-draft-id="7577660060093366326" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ç¬¬ 16 é¢˜ï¼šæ•°ç»„å»é‡é«˜é¢‘æ–¹æ³•ï¼ˆSet / filter / reduce / å¯¹è±¡é”®å€¼æ³•ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•"/> <meta itemprop="datePublished" content="2025-11-29T05:04:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‰ç«¯ä¸€è¯¾"/> <meta itemprop="url" content="https://juejin.cn/user/1169536102963917"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯æ¯å¤©ä¸€é¢˜ã€‘ç¬¬ 16 é¢˜ï¼šæ•°ç»„å»é‡é«˜é¢‘æ–¹æ³•ï¼ˆSet / filter / reduce / å¯¹è±¡é”®å€¼æ³•ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536102963917/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‰ç«¯ä¸€è¯¾
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T05:04:05.000Z" title="Sat Nov 29 2025 05:04:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><p>ä¸‹é¢æ˜¯ <strong>ä¸‹ä¸€é“é«˜é¢‘å‰ç«¯é¢è¯•é¢˜ï¼ˆè¯¦ç»†ç‰ˆ + é€Ÿè®°å¡ç‰‡ï¼‰</strong><br/>
ç¬¬ 16 é¢˜ï¼š<strong>æ•°ç»„å»é‡é«˜é¢‘æ–¹æ³•ï¼ˆSet / filter / reduce / å¯¹è±¡é”®å€¼æ³•ï¼‰</strong></p>
<p>è¿™é“é¢˜æ˜¯å‰ç«¯é¢è¯•ä¸­å¸¸è€ƒçš„åŸºç¡€é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-0">âœ… ç¬¬ 16 é¢˜ï¼šæ•°ç»„å»é‡æœ‰å“ªäº›æ–¹æ³•ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ</h2>
<hr/>
<h2 data-id="heading-1">ğŸ“˜ ä¸€ã€æ–¹æ³• 1ï¼šSetï¼ˆæœ€ç®€æ´é«˜é¢‘ï¼‰</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">4</span>]
<span class="hljs-keyword">const</span> uniqueArr = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr)]
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uniqueArr) <span class="hljs-comment">// [1,2,3,4]</span>
</code></pre>
<p>âœ… ä¼˜ç‚¹ï¼š</p>
<ul>
<li>ç®€å•ã€è¯­ä¹‰æ¸…æ™°</li>
<li>æ”¯æŒåŸºæœ¬ç±»å‹</li>
<li>ES6 æ ‡å‡†</li>
</ul>
<p>âš ï¸ æ³¨æ„ï¼š</p>
<ul>
<li>å¯¹è±¡ç±»å‹ï¼ˆå¼•ç”¨ç±»å‹ï¼‰ä¸åŒå¼•ç”¨ä¸ä¼šå»é‡</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">arr</span> = [{a:<span class="hljs-number">1</span>},{a:<span class="hljs-number">1</span>}]
<span class="hljs-section">[...new Set(arr)]</span> // <span class="hljs-section">[{a:1},{a:1}]</span>
</code></pre>
<hr/>
<h2 data-id="heading-2">ğŸ“˜ äºŒã€æ–¹æ³• 2ï¼šfilter + indexOf</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">4</span>]
<span class="hljs-keyword">const</span> uniqueArr = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item, index, self</span>) =&gt;</span> self.<span class="hljs-title function_">indexOf</span>(item) === index)
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uniqueArr) <span class="hljs-comment">// [1,2,3,4]</span>
</code></pre>
<p>âœ… ä¼˜ç‚¹ï¼š</p>
<ul>
<li>ES5 å¯ç”¨</li>
<li>æ¸…æ™°ç›´è§‚</li>
</ul>
<p>âš ï¸ æ€§èƒ½è¾ƒä½ï¼ŒåµŒå¥— indexOf å¯èƒ½æ…¢</p>
<hr/>
<h2 data-id="heading-3">ğŸ“˜ ä¸‰ã€æ–¹æ³• 3ï¼šreduce + includes</h2>
<pre><code class="hljs language-scss" lang="scss">const arr = <span class="hljs-selector-attr">[1,2,2,3,4,4]</span>
const uniqueArr = arr<span class="hljs-selector-class">.reduce</span>((acc, cur) =&gt; {
  <span class="hljs-built_in">if</span>(!acc.includes(cur)) acc<span class="hljs-selector-class">.push</span>(cur)
  return acc
}, <span class="hljs-selector-attr">[]</span>)
console<span class="hljs-selector-class">.log</span>(uniqueArr) <span class="hljs-comment">// [1,2,3,4]</span>
</code></pre>
<p>âœ… ä¼˜ç‚¹ï¼š</p>
<ul>
<li>å¯é“¾å¼æ‰©å±•</li>
<li>ES5+ é€šç”¨</li>
</ul>
<p>âš ï¸ includes æ€§èƒ½ç¨æ…¢ï¼Œå¤§æ•°ç»„æ…ç”¨</p>
<hr/>
<h2 data-id="heading-4">ğŸ“˜ å››ã€æ–¹æ³• 4ï¼šå¯¹è±¡é”®å€¼æ³•ï¼ˆé€‚åˆåŸºæœ¬ç±»å‹ï¼‰</h2>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">4</span>]
<span class="hljs-keyword">const</span> obj = {}
<span class="hljs-keyword">const</span> uniqueArr = arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
  <span class="hljs-keyword">if</span>(obj[item]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
  obj[item] = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
})
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(uniqueArr) <span class="hljs-comment">// [1,2,3,4]</span>
</code></pre>
<p>âœ… ä¼˜ç‚¹ï¼š</p>
<ul>
<li>æ€§èƒ½å¥½</li>
<li>ES5 å¯ç”¨</li>
</ul>
<p>âš ï¸ åªèƒ½å¤„ç†å­—ç¬¦ä¸²/æ•°å­—ç­‰å¯åšå¯¹è±¡é”®çš„ç±»å‹</p>
<ul>
<li>å¯¹è±¡ã€æ•°ç»„ã€NaNã€0/-0 å¯èƒ½éœ€è¦æ³¨æ„</li>
</ul>
<hr/>
<h2 data-id="heading-5">ğŸ“˜ äº”ã€é€Ÿè®°å¡ç‰‡ï¼ˆé¢è¯•èƒŒè¯µç‰ˆï¼‰</h2>
<pre><code class="hljs language-sql" lang="sql">ğŸ¯ é«˜é¢‘æ–¹æ³•ï¼š
<span class="hljs-number">1</span>ï¸âƒ£ <span class="hljs-keyword">Set</span>ï¼š [...<span class="hljs-keyword">new</span> <span class="hljs-keyword">Set</span>(arr)]  â†’ ç®€å•ï¼Œç°ä»£ JS
<span class="hljs-number">2</span>ï¸âƒ£ <span class="hljs-keyword">filter</span> <span class="hljs-operator">+</span> indexOf â†’ ES5 å¯ç”¨
<span class="hljs-number">3</span>ï¸âƒ£ reduce <span class="hljs-operator">+</span> includes â†’ å¯æ‰©å±•
<span class="hljs-number">4</span>ï¸âƒ£ å¯¹è±¡é”®å€¼æ³• â†’ æ€§èƒ½å¥½ï¼Œæ³¨æ„å¯¹è±¡ç±»å‹
</code></pre>
<hr/>
<p>ä¸‹ä¸€é¢˜æ¨èï¼š<br/>
<strong>ç¬¬ 17 é¢˜ï¼šJS åŸå‹å¼ç»§æ‰¿ / ES6 class ç»§æ‰¿å¯¹æ¯” + åŸç†</strong></p>
<p>æ˜¯å¦ç»§ç»­å‡ºç¬¬ 17 é¢˜ï¼Ÿ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å‰ç«¯ä¸‰å‰‘å®¢-9 /Lesson17(2025-11-01)ã€‘CSS ç›’å­æ¨¡å‹è¯¦è§£ï¼šä»æ ‡å‡†ç›’æ¨¡å‹åˆ°æ€ªå¼‚ï¼ˆIEï¼‰ç›’æ¨¡å‹ğŸ“¦]]></title>    <link>https://juejin.cn/post/7577599299599597619</link>    <guid>https://juejin.cn/post/7577599299599597619</guid>    <pubDate>2025-11-28T15:10:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577599299599597619" data-draft-id="7577609608828649498" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å‰ç«¯ä¸‰å‰‘å®¢-9 /Lesson17(2025-11-01)ã€‘CSS ç›’å­æ¨¡å‹è¯¦è§£ï¼šä»æ ‡å‡†ç›’æ¨¡å‹åˆ°æ€ªå¼‚ï¼ˆIEï¼‰ç›’æ¨¡å‹ğŸ“¦"/> <meta itemprop="keywords" content="å‰ç«¯,å‰ç«¯æ¡†æ¶,CSS"/> <meta itemprop="datePublished" content="2025-11-28T15:10:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jing_Rainbow"/> <meta itemprop="url" content="https://juejin.cn/user/1285809519198256"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å‰ç«¯ä¸‰å‰‘å®¢-9 /Lesson17(2025-11-01)ã€‘CSS ç›’å­æ¨¡å‹è¯¦è§£ï¼šä»æ ‡å‡†ç›’æ¨¡å‹åˆ°æ€ªå¼‚ï¼ˆIEï¼‰ç›’æ¨¡å‹ğŸ“¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1285809519198256/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jing_Rainbow
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-28T15:10:58.000Z" title="Fri Nov 28 2025 15:10:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ğŸ“¦åœ¨å‰ç«¯å¼€å‘ä¸­ï¼Œ<strong>CSS ç›’å­æ¨¡å‹ï¼ˆBox Modelï¼‰</strong> æ˜¯ç†è§£å…ƒç´ å¸ƒå±€çš„åŸºç¡€ã€‚æ¯ä¸€ä¸ª HTML å…ƒç´ éƒ½å¯ä»¥è¢«çœ‹ä½œä¸€ä¸ªâ€œç›’å­â€ï¼Œè€Œè¿™ä¸ªç›’å­ç”± <strong>å†…å®¹ï¼ˆcontentï¼‰ã€å†…è¾¹è·ï¼ˆpaddingï¼‰ã€è¾¹æ¡†ï¼ˆborderï¼‰å’Œå¤–è¾¹è·ï¼ˆmarginï¼‰</strong> å››ä¸ªéƒ¨åˆ†ç»„æˆã€‚ç„¶è€Œï¼Œä¸åŒæµè§ˆå™¨ã€ä¸åŒè®¾ç½®ä¸‹ï¼Œè¿™äº›ç»„æˆéƒ¨åˆ†å¯¹å…ƒç´ æœ€ç»ˆå°ºå¯¸çš„è®¡ç®—æ–¹å¼æ˜¯ä¸åŒçš„â€”â€”è¿™å°±å¼•å‡ºäº†ä¸¤ç§ä¸»è¦çš„ç›’å­æ¨¡å‹ï¼š<strong>æ ‡å‡†ç›’æ¨¡å‹ï¼ˆStandard Box Modelï¼‰</strong> å’Œ <strong>æ€ªå¼‚ç›’æ¨¡å‹ï¼ˆQuirks / IE Box Modelï¼‰</strong>ã€‚</p>
<p>æœ¬æ–‡å°†å…¨é¢ã€æ·±å…¥ã€è¯¦ç»†åœ°è®²è§£ CSS ç›’å­æ¨¡å‹ï¼Œå¹¶è¡¥å……å¤§é‡ç›¸å…³çŸ¥è¯†ï¼Œç¡®ä¿ä½ å½»åº•æŒæ¡è¿™ä¸€æ ¸å¿ƒæ¦‚å¿µï¼ğŸ’¡</p>
<hr/>
<h2 data-id="heading-0">ğŸ“ ä¸€ã€ä»€ä¹ˆæ˜¯ CSS ç›’å­æ¨¡å‹ï¼Ÿ</h2>
<p>æ¯ä¸ª HTML å…ƒç´ åœ¨æ¸²æŸ“æ—¶éƒ½ä¼šç”Ÿæˆä¸€ä¸ªçŸ©å½¢ç›’å­ã€‚è¿™ä¸ªç›’å­ç”±ä»¥ä¸‹å››éƒ¨åˆ†æ„æˆï¼ˆä»å†…åˆ°å¤–ï¼‰ï¼š</p>
<ol>
<li>
<p><strong>å†…å®¹åŒºï¼ˆContentï¼‰</strong></p>
<ul>
<li>çœŸæ­£æ˜¾ç¤ºæ–‡æœ¬ã€å›¾ç‰‡ç­‰å†…å®¹çš„åŒºåŸŸã€‚</li>
<li>ç”± <code>width</code> å’Œ <code>height</code> æ§åˆ¶ï¼ˆä½†æ³¨æ„ï¼šè¿™å–å†³äºç›’æ¨¡å‹ç±»å‹ï¼ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>å†…è¾¹è·ï¼ˆPaddingï¼‰</strong></p>
<ul>
<li>å†…å®¹ä¸è¾¹æ¡†ä¹‹é—´çš„ç©ºç™½åŒºåŸŸã€‚</li>
<li>å—èƒŒæ™¯è‰²/èƒŒæ™¯å›¾å½±å“ï¼ˆä¼šæ˜¾ç¤ºèƒŒæ™¯ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¾¹æ¡†ï¼ˆBorderï¼‰</strong></p>
<ul>
<li>åŒ…è£¹ padding å’Œ content çš„è¾¹ç•Œçº¿ã€‚</li>
<li>å¯è®¾ç½®æ ·å¼ï¼ˆå®çº¿ã€è™šçº¿ç­‰ï¼‰ã€å®½åº¦ã€é¢œè‰²ã€‚</li>
</ul>
</li>
<li>
<p><strong>å¤–è¾¹è·ï¼ˆMarginï¼‰</strong></p>
<ul>
<li>ç›’å­ä¸å…¶ä»–å…ƒç´ ä¹‹é—´çš„é€æ˜é—´è·ã€‚</li>
<li>ä¸å—èƒŒæ™¯å½±å“ï¼Œç”¨äºæ§åˆ¶å…ƒç´ é—´çš„è·ç¦»ã€‚</li>
</ul>
</li>
</ol>
<blockquote>
<p>ğŸ“Œ <strong>é‡è¦æç¤º</strong>ï¼š<strong>å¤–è¾¹è·ï¼ˆmarginï¼‰ä¸å‚ä¸ç›’å­è‡ªèº«å°ºå¯¸çš„è®¡ç®—</strong>ï¼Œä½†å®ƒä¼šå½±å“ç›’å­åœ¨é¡µé¢ä¸­çš„å ä½ï¼ˆå³æ–‡æ¡£æµä¸­çš„ä½ç½®ï¼‰ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-1">ğŸ§® äºŒã€ä¸¤ç§ç›’æ¨¡å‹ï¼š<code>content-box</code> vs <code>border-box</code></h2>
<p>CSS æä¾›äº† <code>box-sizing</code> å±æ€§æ¥æ§åˆ¶ç›’æ¨¡å‹çš„è®¡ç®—æ–¹å¼ã€‚è¿™æ˜¯ç†è§£å¸ƒå±€çš„å…³é”®ï¼</p>
<h3 data-id="heading-2">âœ… 1. æ ‡å‡†ç›’æ¨¡å‹ï¼ˆ<code>box-sizing: content-box</code>ï¼‰ã€é»˜è®¤å€¼ã€‘</h3>
<p>è¿™æ˜¯ <strong>ç°ä»£æµè§ˆå™¨çš„é»˜è®¤è¡Œä¸º</strong>ï¼ˆç¬¦åˆ W3C è§„èŒƒï¼‰ã€‚</p>
<ul>
<li><strong><code>width</code> å’Œ <code>height</code> ä»…æŒ‡å†…å®¹åŒºçš„å°ºå¯¸</strong>ã€‚</li>
<li>ç›’å­åœ¨é¡µé¢ä¸­å®é™…å ç”¨çš„æ€»å®½åº¦ =<br/>
<code>width + padding-left + padding-right + border-left + border-right + margin-left + margin-right</code></li>
<li>å®é™…é«˜åº¦åŒç†ã€‚</li>
</ul>
<h4 data-id="heading-3">ğŸ”¢ ä¸¾ä¸ªä¾‹å­ï¼ˆæ¥è‡ªä½ çš„ <code>readme.md</code>ï¼‰ï¼š</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.box</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;     <span class="hljs-comment">/* å·¦å³å„ 10px â†’ å…± 20px */</span>
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid; <span class="hljs-comment">/* å·¦å³å„ 2px â†’ å…± 4px */</span>
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span>;      <span class="hljs-comment">/* å·¦å³å„ 20px â†’ å…± 40px */</span>
  <span class="hljs-attribute">box-sizing</span>: content-box; <span class="hljs-comment">/* é»˜è®¤ï¼Œå¯çœç•¥ */</span>
}
</code></pre>
<p>é‚£ä¹ˆï¼š</p>
<ul>
<li><strong>å†…å®¹å®½åº¦</strong> = 600px</li>
<li><strong>ç›’å­æ€»å®½åº¦ï¼ˆå« padding + borderï¼‰</strong> = 600 + 20 + 4 = <strong>624px</strong></li>
<li><strong>åœ¨æ–‡æ¡£æµä¸­çš„å ä½å®½åº¦ï¼ˆå« marginï¼‰</strong> = 624 + 40 = <strong>664px</strong></li>
</ul>
<blockquote>
<p>âš ï¸ æ³¨æ„ï¼šä½ åœ¨ <code>readme.md</code> ä¸­å†™çš„æ˜¯ <code>600 - 10 - 2 -20 = 568px</code>ï¼Œè¿™å…¶å®æ˜¯ <strong>é”™è¯¯çš„ç†è§£æ–¹å‘</strong>ã€‚æ­£ç¡®çš„é€»è¾‘æ˜¯ <strong>ç›¸åŠ </strong>ï¼Œä¸æ˜¯ç›¸å‡ï¼å¯èƒ½ä½ æƒ³è¡¨è¾¾çš„æ˜¯â€œå¦‚æœå¸Œæœ›æ€»å®½ä¸º 600pxï¼Œå†…å®¹åŒºåº”è®¾ä¸ºå¤šå°‘â€ï¼Œä½†åŸå¥è¡¨è¿°ä¸æ¸…ã€‚æˆ‘ä»¬åé¢ä¼šè®²å¦‚ä½•é¿å…è¿™ç§æ··ä¹±ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-4">âœ… 2. æ€ªå¼‚ç›’æ¨¡å‹ / IE ç›’æ¨¡å‹ï¼ˆ<code>box-sizing: border-box</code>ï¼‰</h3>
<p>è¿™æ˜¯æ—©æœŸ IE æµè§ˆå™¨ï¼ˆIE6 ä¹‹å‰ï¼‰çš„é»˜è®¤è¡Œä¸ºï¼Œç°åœ¨å¯é€šè¿‡ CSS æ˜¾å¼å¯ç”¨ã€‚</p>
<ul>
<li><strong><code>width</code> å’Œ <code>height</code> æŒ‡çš„æ˜¯ content + padding + border çš„æ€»å’Œ</strong>ã€‚</li>
<li>margin ä»ç„¶åœ¨å¤–ï¼Œä¸åŒ…å«åœ¨ <code>width</code> å†…ã€‚</li>
</ul>
<h4 data-id="heading-5">ğŸ”¢ åŒæ ·çš„ä¾‹å­ï¼Œæ”¹ç”¨ <code>border-box</code>ï¼š</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.box</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid;
  <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">box-sizing</span>: border-box; <span class="hljs-comment">/* å…³é”®ï¼ */</span>
}
</code></pre>
<p>é‚£ä¹ˆï¼š</p>
<ul>
<li><strong>å†…å®¹ + padding + border çš„æ€»å®½åº¦ = 600px</strong></li>
<li><strong>å†…å®¹å®é™…å®½åº¦ = 600 - (10Ã—2) - (2Ã—2) = 600 - 20 - 4 = 576px</strong></li>
<li><strong>ç›’å­åœ¨æ–‡æ¡£æµä¸­çš„å ä½å®½åº¦ = 600 + 40ï¼ˆmarginï¼‰= 640px</strong></li>
</ul>
<blockquote>
<p>âœ… è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¼€å‘è€…æ™®éæ¨èä½¿ç”¨ <code>* { box-sizing: border-box; }</code> â€”â€” å®ƒè®© <code>width</code> æ›´â€œç›´è§‚â€ï¼šä½ è®¾å¤šå®½ï¼Œç›’å­å°±å å¤šå®½ï¼ˆä¸å« marginï¼‰ï¼Œpadding å’Œ border ä¸ä¼šæ’‘å¤§å®ƒï¼</p>
</blockquote>
<hr/>
<h2 data-id="heading-6">ğŸ“„ ä¸‰ã€ç»“åˆä½ çš„ HTML æ–‡ä»¶åˆ†æ</h2>
<p>ä½ ä¸Šä¼ äº†ä¸¤ä¸ª HTML æ–‡ä»¶ï¼š</p>
<h3 data-id="heading-7"><code>1.html</code> å’Œ <code>2.html</code> å†…å®¹å‡ä¸ºï¼š</h3>
<pre><code class="hljs language-html" lang="html">DocumentBorder with border-box Box with content-box
</code></pre>
<p>è™½ç„¶å†…å®¹ç®€çŸ­ï¼Œä½†æ ‡é¢˜æš—ç¤ºäº†å¯¹æ¯”æ„å›¾ï¼š<strong>å±•ç¤º <code>border-box</code> å’Œ <code>content-box</code> ä¸‹ç›’å­çš„è¡¨ç°å·®å¼‚</strong>ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥æ¨æµ‹ï¼Œå®Œæ•´ä»£ç å¯èƒ½ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
  <span class="hljs-selector-class">.box1</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid red;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">box-sizing</span>: border-box;
  }
  <span class="hljs-selector-class">.box2</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">5px</span> solid blue;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">10px</span>;
    <span class="hljs-attribute">box-sizing</span>: content-box; <span class="hljs-comment">/* é»˜è®¤ */</span>
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box1"</span>&gt;</span>Border with border-box<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"box2"</span>&gt;</span>Box with content-box<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<h4 data-id="heading-8">ğŸ” æ¸²æŸ“æ•ˆæœå¯¹æ¯”ï¼š</h4>
<ul>
<li><code>.box1</code>ï¼ˆ<code>border-box</code>ï¼‰ï¼šæ€»å¯è§†å®½åº¦ = 200pxï¼ˆå« padding å’Œ borderï¼‰</li>
<li><code>.box2</code>ï¼ˆ<code>content-box</code>ï¼‰ï¼šæ€»å¯è§†å®½åº¦ = 200 + 40 + 10 = <strong>250px</strong></li>
</ul>
<p>â†’ è™½ç„¶éƒ½å†™äº† <code>width: 200px</code>ï¼Œä½†è§†è§‰å¤§å°å®Œå…¨ä¸åŒï¼è¿™å°±æ˜¯ç›’æ¨¡å‹çš„é‡è¦æ€§ ğŸ’¥</p>
<hr/>
<h2 data-id="heading-9">ğŸ›  å››ã€æœ€ä½³å®è·µï¼šå…¨å±€é‡ç½® <code>box-sizing</code></h2>
<p>ä¸ºäº†é¿å…æ¯æ¬¡éƒ½è¦è®¡ç®— padding å’Œ border å¯¹å®½åº¦çš„å½±å“ï¼Œç°ä»£å¼€å‘ä¸­å‡ ä¹éƒ½ä¼šåœ¨ CSS å¼€å¤´åŠ ä¸Šï¼š</p>
<pre><code class="hljs language-css" lang="css">*, *<span class="hljs-selector-pseudo">::before</span>, *<span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">box-sizing</span>: border-box;
}
</code></pre>
<blockquote>
<p>âœ… è¿™æ ·åšçš„å¥½å¤„ï¼š</p>
<ul>
<li>æ‰€æœ‰å…ƒç´ ï¼ˆåŒ…æ‹¬ä¼ªå…ƒç´ ï¼‰éƒ½ä½¿ç”¨ <code>border-box</code>ã€‚</li>
<li>å¸ƒå±€æ›´å¯æ§ï¼Œå“åº”å¼è®¾è®¡æ›´ç®€å•ã€‚</li>
<li>ä¸å†æ‹…å¿ƒâ€œåŠ äº† padding å°±æ’‘ç ´å®¹å™¨â€çš„é—®é¢˜ã€‚</li>
</ul>
</blockquote>
<hr/>
<h2 data-id="heading-10">ğŸ“ äº”ã€ç›’å­åœ¨æ–‡æ¡£æµä¸­çš„å ä½ï¼ˆLayout Spaceï¼‰</h2>
<p>æ ¹æ®ä½ çš„ <code>readme.md</code> ä¸­æåˆ°ï¼š</p>
<blockquote>
<p>â€œç›’å­åœ¨é¡µé¢(æ–‡æ¡£æµ)çš„å ä½å†…å®¹ wxh å…¨éƒ¨ = å†…è¾¹è· padding + è¾¹æ¡† border + å¤–è¾¹è· marginâ€</p>
</blockquote>
<p>è¿™å¥è¯éœ€è¦ä¿®æ­£ï¼š</p>
<p>âœ… <strong>æ­£ç¡®è¯´æ³•</strong>ï¼š</p>
<blockquote>
<p><strong>ç›’å­åœ¨æ–‡æ¡£æµä¸­çš„å ä½ = content + padding + border + margin</strong></p>
</blockquote>
<p>ä½†æ³¨æ„ï¼š</p>
<ul>
<li><strong>å‚ç›´æ–¹å‘</strong>ï¼šå—çº§å…ƒç´ çš„ä¸Šä¸‹ margin å¯èƒ½å‘ç”Ÿ <strong>margin collapseï¼ˆå¤–è¾¹è·åˆå¹¶ï¼‰</strong>ï¼Œå®é™…å ä½ â‰  ç®€å•ç›¸åŠ ã€‚</li>
<li><strong>æ°´å¹³æ–¹å‘</strong>ï¼šè¡Œå†…å…ƒç´ çš„ margin/padding è¡Œä¸ºä¸åŒï¼Œé€šå¸¸ä¸å½±å“è¡Œé«˜ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-11">â“ å…­ã€å¸¸è§è¯¯åŒºæ¾„æ¸…</h2>
<h3 data-id="heading-12">âŒ è¯¯åŒº1ï¼šâ€œ<code>width</code> å°±æ˜¯ç›’å­çš„å®½åº¦â€</h3>
<ul>
<li><strong>é”™ï¼</strong> åªæœ‰åœ¨ <code>border-box</code> ä¸‹ï¼Œ<code>width</code> æ‰ç­‰äºï¼ˆcontent + padding + borderï¼‰çš„æ€»å®½ã€‚</li>
<li>åœ¨ <code>content-box</code> ä¸‹ï¼Œ<code>width</code> åªæ˜¯å†…å®¹å®½åº¦ã€‚</li>
</ul>
<h3 data-id="heading-13">âŒ è¯¯åŒº2ï¼šâ€œmargin æ˜¯ç›’å­çš„ä¸€éƒ¨åˆ†â€</h3>
<ul>
<li><strong>é”™ï¼</strong> margin æ˜¯ç›’å­å¤–éƒ¨çš„é€æ˜åŒºåŸŸï¼Œç”¨äºæ§åˆ¶ä¸å…¶ä»–å…ƒç´ çš„è·ç¦»ï¼Œ<strong>ä¸å±äºç›’å­è‡ªèº«å°ºå¯¸</strong>ï¼Œä½†å½±å“å¸ƒå±€å ä½ã€‚</li>
</ul>
<h3 data-id="heading-14">âŒ è¯¯åŒº3ï¼šâ€œæ€ªå¼‚ç›’æ¨¡å‹æ˜¯â€˜é”™è¯¯â€™çš„â€</h3>
<ul>
<li><strong>é”™ï¼</strong> å®ƒåªæ˜¯å¦ä¸€ç§è®¡ç®—æ–¹å¼ã€‚å®é™…ä¸Šï¼Œ<code>border-box</code> æ›´ç¬¦åˆè®¾è®¡å¸ˆç›´è§‰ï¼ˆâ€œæˆ‘è¦ä¸€ä¸ª 300px å®½çš„æŒ‰é’®ï¼Œä¸ç®¡æœ‰æ²¡æœ‰ paddingâ€ï¼‰ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-15">ğŸ§© ä¸ƒã€è¡¥å……ï¼šç›’æ¨¡å‹ä¸å¸ƒå±€æŠ€æœ¯çš„å…³ç³»</h2>
<ul>
<li><strong>Flexbox / Grid</strong>ï¼šè¿™äº›ç°ä»£å¸ƒå±€æ¨¡å‹å†…éƒ¨ä¹Ÿéµå¾ªç›’æ¨¡å‹è§„åˆ™ã€‚<code>box-sizing</code> ä¾ç„¶ç”Ÿæ•ˆã€‚</li>
<li><strong>ç™¾åˆ†æ¯”å®½åº¦</strong>ï¼šåœ¨ <code>content-box</code> ä¸‹ï¼Œ<code>width: 50%</code> æŒ‡å†…å®¹åŒºå çˆ¶å®¹å™¨ 50%ï¼ŒåŠ ä¸Š padding/border åä¼š &gt;50%ï¼›è€Œ <code>border-box</code> ä¸‹åˆ™ä¸¥æ ¼ â‰¤50%ã€‚</li>
<li><strong>å“åº”å¼è®¾è®¡</strong>ï¼šä½¿ç”¨ <code>border-box</code> å¯é¿å…åœ¨å°å±å¹•ä¸Šå›  padding å¯¼è‡´æº¢å‡ºã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-16">ğŸ¯ æ€»ç»“ï¼šä¸€å¼ è¡¨æå®šç›’æ¨¡å‹</h2>



































<table><thead><tr><th>å±æ€§</th><th><code>box-sizing: content-box</code>ï¼ˆæ ‡å‡†ï¼‰</th><th><code>box-sizing: border-box</code>ï¼ˆæ€ªå¼‚/IEï¼‰</th></tr></thead><tbody><tr><td><code>width</code> å«ä¹‰</td><td>ä»…å†…å®¹å®½åº¦</td><td>å†…å®¹ + padding + border</td></tr><tr><td>æ€»å¯è§†å®½åº¦</td><td><code>width + padding + border</code></td><td><code>width</code>ï¼ˆå›ºå®šï¼‰</td></tr><tr><td>å†…å®¹å®é™…å®½åº¦</td><td><code>width</code></td><td><code>width - padding - border</code></td></tr><tr><td>æ˜¯å¦æ¨è</td><td>âŒï¼ˆé»˜è®¤ä½†ä¸ç›´è§‚ï¼‰</td><td>âœ…ï¼ˆå¼€å‘è€…é¦–é€‰ï¼‰</td></tr><tr><td>å…¼å®¹æ€§</td><td>æ‰€æœ‰ç°ä»£æµè§ˆå™¨</td><td>IE8+ æ”¯æŒ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-17">ğŸŒˆ ç»“è¯­</h2>
<p>CSS ç›’å­æ¨¡å‹çœ‹ä¼¼ç®€å•ï¼Œå´æ˜¯å¸ƒå±€çš„åŸºçŸ³ã€‚ç†è§£ <code>box-sizing</code> çš„å·®å¼‚ï¼Œèƒ½è®©ä½ å†™å‡ºæ›´å¥å£®ã€å¯ç»´æŠ¤çš„ CSSã€‚æ­£å¦‚ä½ çš„å­¦ä¹ èµ„æ–™æ‰€å¼ºè°ƒçš„ï¼š</p>
<blockquote>
<p>â€œcss é»˜è®¤ç›’å­çš„å®½é«˜å¹¶ä¸æ˜¯ç›’å­åœ¨é¡µé¢çš„å¤§å°ï¼Œåªæ˜¯å†…å®¹çš„å¤§å°â€</p>
</blockquote>
<p>è¿™å¥è¯ç‚¹å‡ºäº†å…³é”®ï¼è€Œé€šè¿‡ <code>box-sizing: border-box</code>ï¼Œæˆ‘ä»¬å¯ä»¥è®©â€œå®½é«˜ = ç›’å­å¤§å°â€ï¼Œå¤§å¤§ç®€åŒ–å¼€å‘ã€‚</p>
<p>ä¸‹æ¬¡å½“ä½ å†™ <code>width: 100%</code> å´å‘ç°å…ƒç´ æº¢å‡ºå®¹å™¨æ—¶ï¼Œè®°å¾—æ£€æŸ¥ï¼šæ˜¯ä¸æ˜¯å¿˜äº†è®¾ç½® <code>box-sizing: border-box</code>ï¼ŸğŸ˜‰</p>
<hr/>
<p>ğŸ“š <strong>å»¶ä¼¸é˜…è¯»å»ºè®®</strong>ï¼š</p>
<ul>
<li>MDN Web Docs: <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FCSS%2FCSS_Box_Model%2FIntroduction_to_the_CSS_box_model" target="_blank" title="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Introduction_to_the_CSS_box_model" ref="nofollow noopener noreferrer">The box model</a></li>
<li>Paul Irish: <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.paulirish.com%2F2012%2Fbox-sizing-border-box-ftw%2F" target="_blank" title="https://www.paulirish.com/2012/box-sizing-border-box-ftw/" ref="nofollow noopener noreferrer">Box-sizing: border-box FTW</a></li>
</ul>
<p>Happy Coding! ğŸ’»âœ¨</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€é¸¿è’™å¼€å‘å®æˆ˜ç¯‡ã€‘å®ç°å‰ªåˆ‡æ¿å¤åˆ¶ç²˜è´´çš„åŠŸèƒ½]]></title>    <link>https://juejin.cn/post/7577675494066683930</link>    <guid>https://juejin.cn/post/7577675494066683930</guid>    <pubDate>2025-11-29T03:06:49.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577675494066683930" data-draft-id="7577613021880729610" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€é¸¿è’™å¼€å‘å®æˆ˜ç¯‡ã€‘å®ç°å‰ªåˆ‡æ¿å¤åˆ¶ç²˜è´´çš„åŠŸèƒ½"/> <meta itemprop="keywords" content="HarmonyOS,ArkTS,ArkUI"/> <meta itemprop="datePublished" content="2025-11-29T03:06:49.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¨å“¥çˆ±ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2242659450109575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€é¸¿è’™å¼€å‘å®æˆ˜ç¯‡ã€‘å®ç°å‰ªåˆ‡æ¿å¤åˆ¶ç²˜è´´çš„åŠŸèƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2242659450109575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¨å“¥çˆ±ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T03:06:49.000Z" title="Sat Nov 29 2025 03:06:49 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Vå“¥ã€‚ä»Šå¤©æˆ‘ä»¬æ¥æ·±å…¥æ¢è®¨åœ¨HarmonyOS 6.0å¼€å‘ä¸­ï¼Œå¦‚ä½•åˆ©ç”¨å…¶å‰ªè´´æ¿æœåŠ¡å®ç°å®‰å…¨ã€é«˜æ•ˆçš„å¤åˆ¶ç²˜è´´åŠŸèƒ½ã€‚å‰ªè´´æ¿ä½œä¸ºåº”ç”¨é—´æ•°æ®å…±äº«çš„å…³é”®æ¡¥æ¢ï¼Œåœ¨HarmonyOSç”Ÿæ€ä¸­ä¸ä»…æ”¯æŒè®¾å¤‡å†…çš„æ•°æ®ä¼ é€’ï¼Œè¿˜èƒ½é€šè¿‡åˆ†å¸ƒå¼èƒ½åŠ›å®ç°è·¨è®¾å¤‡ååŒã€‚ä¸‹é¢æˆ‘å°†ç»“åˆAPI 21çš„å…·ä½“å®ç°ï¼Œé€šè¿‡å®Œæ•´æ¡ˆä¾‹æ‹†è§£å…¶å¼€å‘æ­¥éª¤ã€‚</p>
<p>è”ç³»Vå“¥è·å– <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2FclassDetail%2F042cb1cc4d7d44ecbdbd902fd1275dcc%3Ftype%3D1%3Fha_source%3Dhmosclass%26ha_sourceId%3D89000248" target="_blank" title="https://developer.huawei.com/consumer/cn/training/classDetail/042cb1cc4d7d44ecbdbd902fd1275dcc?type=1?ha_source=hmosclass&amp;ha_sourceId=89000248" ref="nofollow noopener noreferrer">é¸¿è’™å­¦ä¹ èµ„æ–™</a></p>
<hr/>
<h3 data-id="heading-0">ä¸€ã€åŠŸèƒ½æ¦‚è¿°ä¸æ ¸å¿ƒæ¦‚å¿µ</h3>
<h4 data-id="heading-1">1. å‰ªè´´æ¿æœåŠ¡èƒ½åŠ›èŒƒå›´</h4>
<ul>
<li><strong>æœ¬åœ°å‰ªè´´æ¿</strong>ï¼šåŒä¸€è®¾å¤‡å†…åº”ç”¨é—´ä¼ é€’æ–‡æœ¬ã€HTMLã€URIã€PixelMapç­‰æ•°æ®ã€‚</li>
<li><strong>è·¨è®¾å¤‡å‰ªè´´æ¿</strong>ï¼šåœ¨ç™»å½•åŒä¸€åä¸ºè´¦å·ã€å¼€å¯Wi-Fi/è“ç‰™çš„è®¾å¤‡é—´åŒæ­¥æ•°æ®ï¼ˆæ”¯æŒçº¯æ–‡æœ¬å’ŒHTMLç±»å‹ï¼‰ã€‚</li>
<li><strong>æ•°æ®å¤§å°é™åˆ¶</strong>ï¼šè®¾å¤‡å†…å•æ¬¡ä¼ é€’â‰¤800KBï¼Œè·¨è®¾å¤‡ä¼ é€’â‰¤64KBã€‚</li>
</ul>
<h4 data-id="heading-2">2. æƒé™ç®¡ç†ï¼ˆAPI 12åŠä»¥ä¸Šé‡ç‚¹å˜æ›´ï¼‰</h4>
<p>ä»API 12èµ·ï¼Œè¯»å–å‰ªè´´æ¿éœ€ç”³è¯·<code>ohos.permission.READ_PASTEBOARD</code>æƒé™ï¼Œè€Œåˆ†å¸ƒå¼æ•°æ®åŒæ­¥æƒé™ï¼ˆ<code>ohos.permission.DISTRIBUTED_DATASYNC</code>ï¼‰åœ¨API 12åŠä»¥ä¸Šç‰ˆæœ¬æ— éœ€å•ç‹¬å£°æ˜ã€‚</p>
<hr/>
<h3 data-id="heading-3">äºŒã€å®ç°æ­¥éª¤è¯¦è§£</h3>
<h4 data-id="heading-4">æ­¥éª¤1ï¼šé…ç½®æƒé™ä¸ä¾èµ–</h4>
<p>åœ¨<code>module.json5</code>ä¸­å£°æ˜æƒé™å¹¶é…ç½®ä¾èµ–ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"requestPermissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
      <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ohos.permission.READ_PASTEBOARD"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"reason"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”¨äºè¯»å–å‰ªè´´æ¿å†…å®¹"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"@kit.BasicServicesKit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&gt; 12.0.0"</span>  <span class="hljs-comment">// å‰ªè´´æ¿æ ¸å¿ƒåº“</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-5">æ­¥éª¤2ï¼šå¯¼å…¥æ¨¡å—å¹¶åˆå§‹åŒ–</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { pasteboard } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;
<span class="hljs-keyword">import</span> { businessError } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.BasicServicesKit'</span>;

<span class="hljs-comment">// è·å–ç³»ç»Ÿå‰ªè´´æ¿å®ä¾‹</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">systemPasteboard</span>: pasteboard.<span class="hljs-property">SystemPasteboard</span> = pasteboard.<span class="hljs-title function_">getSystemPasteboard</span>();
</code></pre>
<h4 data-id="heading-6">æ­¥éª¤3ï¼šå®ç°æ•°æ®å¤åˆ¶ï¼ˆå†™å…¥å‰ªè´´æ¿ï¼‰</h4>
<p>ä»¥å¤åˆ¶æ–‡æœ¬ä¸ºä¾‹ï¼Œæ”¯æŒåŒæ­¥å’Œå¼‚æ­¥ä¸¤ç§æ–¹å¼ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ–¹å¼1ï¼šåŒæ­¥å†™å…¥ï¼ˆæ¨èç®€å•åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">copyTextSync</span>(<span class="hljs-params">content: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// åˆ›å»ºPasteDataå¯¹è±¡</span>
    <span class="hljs-keyword">let</span> <span class="hljs-attr">pasteData</span>: pasteboard.<span class="hljs-property">PasteData</span> = pasteboard.<span class="hljs-title function_">createPlainTextData</span>(content);
    <span class="hljs-comment">// åŒæ­¥å†™å…¥å‰ªè´´æ¿</span>
    systemPasteboard.<span class="hljs-title function_">setPasteDataSync</span>(pasteData);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'å¤åˆ¶æˆåŠŸ'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`å¤åˆ¶å¤±è´¥: <span class="hljs-subst">${error.code}</span>, <span class="hljs-subst">${error.message}</span>`</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
}

<span class="hljs-comment">// æ–¹å¼2ï¼šå¼‚æ­¥å†™å…¥ï¼ˆå¤æ‚æ•°æ®æ¨èï¼‰</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">copyTextAsync</span>(<span class="hljs-params">content: <span class="hljs-built_in">string</span></span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">let</span> <span class="hljs-attr">pasteData</span>: pasteboard.<span class="hljs-property">PasteData</span> = pasteboard.<span class="hljs-title function_">createPlainTextData</span>(content);
    <span class="hljs-keyword">await</span> systemPasteboard.<span class="hljs-title function_">setPasteData</span>(pasteData);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'å¼‚æ­¥å¤åˆ¶æˆåŠŸ'</span>);
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`å¼‚æ­¥å¤åˆ¶å¤±è´¥: <span class="hljs-subst">${error.code}</span>, <span class="hljs-subst">${error.message}</span>`</span>);
  }
}
</code></pre>
<h4 data-id="heading-7">æ­¥éª¤4ï¼šå®ç°æ•°æ®ç²˜è´´ï¼ˆè¯»å–å‰ªè´´æ¿ï¼‰</h4>
<p>è¯»å–å‰éœ€æ£€æŸ¥æƒé™åŠæ•°æ®ç±»å‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">pasteText</span>(<span class="hljs-params"/>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">string</span>&gt; {
  <span class="hljs-comment">// 1. æ£€æŸ¥è¯»å–æƒé™</span>
  <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">await</span> <span class="hljs-title function_">checkReadPermission</span>()) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> businessError.<span class="hljs-title class_">BusinessError</span>(<span class="hljs-string">'æ— å‰ªè´´æ¿è¯»å–æƒé™'</span>);
  }
  
  <span class="hljs-comment">// 2. è¯»å–å‰ªè´´æ¿æ•°æ®</span>
  <span class="hljs-keyword">let</span> <span class="hljs-attr">pasteData</span>: pasteboard.<span class="hljs-property">PasteData</span>;
  <span class="hljs-keyword">try</span> {
    pasteData = <span class="hljs-keyword">await</span> systemPasteboard.<span class="hljs-title function_">getPasteData</span>();
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`è¯»å–å¤±è´¥: <span class="hljs-subst">${error.code}</span>, <span class="hljs-subst">${error.message}</span>`</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
  }
  
  <span class="hljs-comment">// 3. æ ¡éªŒæ•°æ®ç±»å‹å¹¶æå–æ–‡æœ¬</span>
  <span class="hljs-keyword">if</span> (pasteData &amp;&amp; pasteData.<span class="hljs-title function_">hasMimeType</span>(pasteboard.<span class="hljs-property">MimeType</span>.<span class="hljs-property">MIMETYPE_TEXT_PLAIN</span>)) {
    <span class="hljs-keyword">return</span> pasteData.<span class="hljs-title function_">getPrimaryText</span>();
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">'å‰ªè´´æ¿å†…å®¹éæ–‡æœ¬ç±»å‹'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
  }
}

<span class="hljs-comment">// æƒé™æ£€æŸ¥å‡½æ•°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">checkReadPermission</span>(<span class="hljs-params"/>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt; {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">let</span> granted = <span class="hljs-keyword">await</span> abilityAccessCtrl.<span class="hljs-title function_">createAtManager</span>().<span class="hljs-title function_">verifyAccessToken</span>(
      abilityAccessCtrl.<span class="hljs-property">AssetTokenType</span>.<span class="hljs-property">APPLICATION</span>, 
      <span class="hljs-string">'ohos.permission.READ_PASTEBOARD'</span>
    );
    <span class="hljs-keyword">return</span> granted === abilityAccessCtrl.<span class="hljs-property">GrantStatus</span>.<span class="hljs-property">PERMISSION_GRANTED</span>;
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  }
}
</code></pre>
<h4 data-id="heading-8">æ­¥éª¤5ï¼šç›‘å¬å‰ªè´´æ¿å˜åŒ–</h4>
<p>å®æ—¶å“åº”å‰ªè´´æ¿å†…å®¹æ›´æ–°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ³¨å†Œç›‘å¬å™¨</span>
systemPasteboard.<span class="hljs-title function_">on</span>(<span class="hljs-string">'update'</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'å‰ªè´´æ¿å†…å®¹å·²æ›´æ–°'</span>);
  <span class="hljs-comment">// å¯è§¦å‘ç•Œé¢åˆ·æ–°æˆ–å…¶ä»–ä¸šåŠ¡é€»è¾‘</span>
});

<span class="hljs-comment">// ç§»é™¤ç›‘å¬å™¨ï¼ˆé¡µé¢é”€æ¯æ—¶è°ƒç”¨ï¼‰</span>
systemPasteboard.<span class="hljs-title function_">off</span>(<span class="hljs-string">'update'</span>);
</code></pre>
<hr/>
<h3 data-id="heading-9">ä¸‰ã€å®Œæ•´æ¡ˆä¾‹ï¼šç®€æ˜“ç¬”è®°åº”ç”¨</h3>
<p>ä»¥ä¸‹å®ç°ä¸€ä¸ªæ”¯æŒå¤åˆ¶ç²˜è´´çš„ç¬”è®°ç¼–è¾‘ç•Œé¢ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">NoteEditor</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">inputText</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;
  <span class="hljs-meta">@State</span> <span class="hljs-attr">clipboardContent</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;

  <span class="hljs-comment">// å¤åˆ¶è¾“å…¥æ¡†å†…å®¹</span>
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">copyInput</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">inputText</span>) {
      <span class="hljs-title function_">copyTextSync</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">inputText</span>);
    }
  }

  <span class="hljs-comment">// ç²˜è´´åˆ°è¾“å…¥æ¡†</span>
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">pasteToInput</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">let</span> text = <span class="hljs-keyword">await</span> <span class="hljs-title function_">pasteText</span>();
      <span class="hljs-keyword">if</span> (text) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputText</span> += text; <span class="hljs-comment">// è¿½åŠ ç²˜è´´å†…å®¹</span>
      }
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`ç²˜è´´å¤±è´¥: <span class="hljs-subst">${error.message}</span>`</span>);
    }
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">10</span> }) {
      <span class="hljs-comment">// è¾“å…¥åŒºåŸŸ</span>
      <span class="hljs-title class_">TextInput</span>({ <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'è¾“å…¥ç¬”è®°å†…å®¹'</span> })
        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)
        .<span class="hljs-title function_">height</span>(<span class="hljs-number">100</span>)
        .<span class="hljs-title function_">onChange</span>(<span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">string</span></span>) =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputText</span> = value;
        })

      <span class="hljs-comment">// æ“ä½œæŒ‰é’®</span>
      <span class="hljs-title class_">Row</span>({ <span class="hljs-attr">space</span>: <span class="hljs-number">20</span> }) {
        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'å¤åˆ¶'</span>)
          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">copyInput</span>())
        <span class="hljs-title class_">Button</span>(<span class="hljs-string">'ç²˜è´´'</span>)
          .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">pasteToInput</span>())
      }
      .<span class="hljs-title function_">margin</span>(<span class="hljs-number">10</span>)

      <span class="hljs-comment">// æ˜¾ç¤ºå½“å‰å‰ªè´´æ¿å†…å®¹</span>
      <span class="hljs-title class_">Text</span>(<span class="hljs-string">`å‰ªè´´æ¿å†…å®¹: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.clipboardContent}</span>`</span>)
        .<span class="hljs-title function_">width</span>(<span class="hljs-string">'90%'</span>)
        .<span class="hljs-title function_">fontColor</span>(<span class="hljs-string">'#666'</span>)
    }
    .<span class="hljs-title function_">onPageShow</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// é¡µé¢æ˜¾ç¤ºæ—¶æ³¨å†Œç›‘å¬</span>
      systemPasteboard.<span class="hljs-title function_">on</span>(<span class="hljs-string">'update'</span>, <span class="hljs-keyword">async</span> () =&gt; {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">clipboardContent</span> = <span class="hljs-keyword">await</span> <span class="hljs-title function_">pasteText</span>() || <span class="hljs-string">'ç©º'</span>;
      });
    })
    .<span class="hljs-title function_">onPageHide</span>(<span class="hljs-function">() =&gt;</span> {
      systemPasteboard.<span class="hljs-title function_">off</span>(<span class="hljs-string">'update'</span>);
    })
  }
}
</code></pre>
<hr/>
<h3 data-id="heading-10">å››ã€é¿å‘æŒ‡å—ä¸æœ€ä½³å®è·µ</h3>
<ol>
<li>
<p><strong>æƒé™ç”³è¯·æ—¶æœº</strong><br/>
åº”åœ¨é¦–æ¬¡ä½¿ç”¨ç²˜è´´åŠŸèƒ½å‰åŠ¨æ€ç”³è¯·æƒé™ï¼Œé¿å…åœ¨åº”ç”¨å¯åŠ¨æ—¶å¼ºåˆ¶å¼¹çª—å½±å“ä½“éªŒã€‚</p>
</li>
<li>
<p><strong>è·¨è®¾å¤‡åŒæ­¥æ¡ä»¶</strong></p>
<ul>
<li>è®¾å¤‡éœ€ç™»å½•åŒä¸€åä¸ºè´¦å·ã€å¼€å¯Wi-Fiå’Œè“ç‰™ã€‚</li>
<li>è·¨è®¾å¤‡ä»…æ”¯æŒçº¯æ–‡æœ¬å’ŒHTMLç±»å‹ï¼Œå¤æ‚æ•°æ®éœ€åºåˆ—åŒ–ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®æ ¼å¼å¤„ç†</strong></p>
<ul>
<li>å›¾ç‰‡æ•°æ®éœ€ä½¿ç”¨<code>createPixelMapData()</code>å¹¶ç¡®ä¿PixelMapå¯¹è±¡æœ‰æ•ˆã€‚</li>
<li>è‡ªå®šä¹‰æ•°æ®éœ€é€šè¿‡<code>addRecord()</code>æ·»åŠ MIMEç±»å‹æ ‡è¯†ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong></p>
<ul>
<li>å¤§æ–‡æœ¬å»ºè®®åˆ†æ®µå¤„ç†ï¼ˆå¦‚æ—¥å¿—æ–‡ä»¶ï¼‰ã€‚</li>
<li>é¢‘ç¹è¯»å†™æ—¶ä½¿ç”¨<code>getDataSync()</code>åŒæ­¥æ¥å£å‡å°‘å¼‚æ­¥å¼€é”€ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-11">äº”ã€æ€»ç»“</h3>
<p>åœ¨HarmonyOS 6.0ä¸­ï¼Œå‰ªè´´æ¿åŠŸèƒ½é€šè¿‡<code>@kit.BasicServicesKit</code>æä¾›å®Œæ•´çš„APIæ”¯æŒã€‚å¼€å‘è€…éœ€é‡ç‚¹å…³æ³¨æƒé™ç®¡ç†ã€æ•°æ®æ ¼å¼é€‚é…åŠè·¨è®¾å¤‡ååŒæ¡ä»¶ã€‚æœ¬æ–‡æ¡ˆä¾‹å±•ç¤ºäº†ä»åŸºç¡€æ–‡æœ¬å¤åˆ¶ç²˜è´´åˆ°å®æ—¶ç›‘å¬çš„å®Œæ•´æµç¨‹ï¼Œå®é™…å¼€å‘ä¸­å¯æ ¹æ®ä¸šåŠ¡éœ€æ±‚æ‰©å±•å›¾ç‰‡ã€URIç­‰æ•°æ®ç±»å‹çš„å¤„ç†ã€‚æ­£ç¡®ä½¿ç”¨å‰ªè´´æ¿èƒ½åŠ›å°†æ˜¾è‘—æå‡åº”ç”¨é—´åä½œæ•ˆç‡å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18682418c3d248bf8ea0917bbf7d4cb5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764990409&amp;x-signature=5NUtUu6AYL2UHwEtxGyGNdaqcGI%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python çš„åŸºæœ¬ç±»å‹]]></title>    <link>https://juejin.cn/post/7577607051586650127</link>    <guid>https://juejin.cn/post/7577607051586650127</guid>    <pubDate>2025-11-28T15:16:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577607051586650127" data-draft-id="7577607051586617359" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python çš„åŸºæœ¬ç±»å‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-28T15:16:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·409817021510"/> <meta itemprop="url" content="https://juejin.cn/user/2147779769539115"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python çš„åŸºæœ¬ç±»å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2147779769539115/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·409817021510
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-28T15:16:54.000Z" title="Fri Nov 28 2025 15:16:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Python çš„åŸºæœ¬æ•°æ®ç±»å‹</h2>
<p>Python ä½œä¸ºä¸€ç§åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œæä¾›äº†å¤šç§å†…ç½®çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼Œè¿™äº›ç±»å‹æ˜¯æ„å»ºæ›´å¤æ‚æ•°æ®ç»“æ„çš„åŸºç¡€ã€‚ä»¥ä¸‹æ˜¯ Python ä¸­æœ€å¸¸ç”¨çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼š</p>
<h3 data-id="heading-1">1. æ•°å€¼ç±»å‹ (Numeric Types)</h3>
<h4 data-id="heading-2">æ•´æ•° (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.int.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.int.md" ref="nofollow noopener noreferrer"><code>int</code></a>)</h4>
<ul>
<li>è¡¨ç¤ºæ•´æ•°å€¼ï¼Œå¯ä»¥æ˜¯æ­£æ•°æˆ–è´Ÿæ•°</li>
<li>åœ¨ Python 3 ä¸­ï¼Œint æ²¡æœ‰å¤§å°é™åˆ¶ï¼ˆå—å†…å­˜é™åˆ¶ï¼‰</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">age = <span class="hljs-number">25</span>
temperature = -<span class="hljs-number">10</span>
big_number = <span class="hljs-number">9876543210</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-3">æµ®ç‚¹æ•° (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.float.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.float.md" ref="nofollow noopener noreferrer"><code>float</code></a>)</h4>
<ul>
<li>è¡¨ç¤ºå¸¦æœ‰å°æ•°éƒ¨åˆ†çš„å®æ•°</li>
<li>å¯ä»¥ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤º</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">pi = <span class="hljs-number">3.14159</span>
speed_of_light = <span class="hljs-number">2.998e8</span>  <span class="hljs-comment"># ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤º 299,800,000</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-4">å¤æ•° (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.complex.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.complex.md" ref="nofollow noopener noreferrer"><code>complex</code></a>)</h4>
<ul>
<li>è¡¨ç¤ºå¤æ•°ï¼ŒåŒ…å«å®éƒ¨å’Œè™šéƒ¨</li>
<li>è™šéƒ¨ç”¨ j æˆ– J è¡¨ç¤º</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">complex_num = <span class="hljs-number">3</span> + <span class="hljs-number">4j</span>
</code></pre>
</li>
</ul>
<h3 data-id="heading-5">2. å¸ƒå°”ç±»å‹ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.bool.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.bool.md" ref="nofollow noopener noreferrer"><code>bool</code></a>)</h3>
<ul>
<li>è¡¨ç¤ºé€»è¾‘å€¼ True æˆ– False</li>
<li>å¸¸ç”¨äºæ¡ä»¶åˆ¤æ–­å’Œé€»è¾‘è¿ç®—</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">is_active = <span class="hljs-literal">True</span>
has_permission = <span class="hljs-literal">False</span>
</code></pre>
</li>
</ul>
<h3 data-id="heading-6">3. å­—ç¬¦ä¸² (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.str.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.str.md" ref="nofollow noopener noreferrer"><code>str</code></a>)</h3>
<ul>
<li>è¡¨ç¤ºæ–‡æœ¬æ•°æ®ï¼Œç”± Unicode å­—ç¬¦åºåˆ—ç»„æˆ</li>
<li>å¯ä»¥ç”¨å•å¼•å·(')ã€åŒå¼•å·(")æˆ–ä¸‰å¼•å·('''æˆ–""")å®šä¹‰</li>
<li>æ”¯æŒå¤šç§å­—ç¬¦ä¸²æ“ä½œå’Œæ–¹æ³•</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">name = <span class="hljs-string">"Alice"</span>
message = <span class="hljs-string">'Hello, world!'</span>
multi_line = <span class="hljs-string">"""This is a
multi-line
string"""</span>
</code></pre>
</li>
</ul>
<h3 data-id="heading-7">4. åºåˆ—ç±»å‹ (Sequence Types)</h3>
<h4 data-id="heading-8">åˆ—è¡¨ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.list.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.list.md" ref="nofollow noopener noreferrer"><code>list</code></a>)</h4>
<ul>
<li>æœ‰åºçš„å¯å˜é›†åˆï¼Œå¯ä»¥åŒ…å«ä¸åŒç±»å‹çš„å…ƒç´ </li>
<li>ç”¨æ–¹æ‹¬å· [] è¡¨ç¤º</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">fruits = [<span class="hljs-string">'apple'</span>, <span class="hljs-string">'banana'</span>, <span class="hljs-string">'cherry'</span>]
mixed_list = [<span class="hljs-number">1</span>, <span class="hljs-string">'text'</span>, <span class="hljs-literal">True</span>, <span class="hljs-number">3.14</span>]
</code></pre>
</li>
</ul>
<h4 data-id="heading-9">å…ƒç»„ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.tuple.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.tuple.md" ref="nofollow noopener noreferrer"><code>tuple</code></a>)</h4>
<ul>
<li>æœ‰åºçš„ä¸å¯å˜é›†åˆ</li>
<li>ç”¨åœ†æ‹¬å· () è¡¨ç¤º</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">coordinates = (<span class="hljs-number">10.0</span>, <span class="hljs-number">20.0</span>)
rgb_color = (<span class="hljs-number">255</span>, <span class="hljs-number">128</span>, <span class="hljs-number">0</span>)
</code></pre>
</li>
</ul>
<h4 data-id="heading-10">èŒƒå›´ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.range.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.range.md" ref="nofollow noopener noreferrer"><code>range</code></a>)</h4>
<ul>
<li>è¡¨ç¤ºä¸å¯å˜çš„æ•°å­—åºåˆ—</li>
<li>å¸¸ç”¨äºå¾ªç¯ä¸­</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">numbers = <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>)      <span class="hljs-comment"># 0,1,2,3,4</span>
even_numbers = <span class="hljs-built_in">range</span>(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment"># 0,2,4,6,8</span>
</code></pre>
</li>
</ul>
<h3 data-id="heading-11">5. æ˜ å°„ç±»å‹ (Mapping Type)</h3>
<h4 data-id="heading-12">å­—å…¸ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.dict.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.dict.md" ref="nofollow noopener noreferrer"><code>dict</code></a>)</h4>
<ul>
<li>é”®å€¼å¯¹çš„é›†åˆï¼Œé”®å¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹</li>
<li>ç”¨èŠ±æ‹¬å· {} è¡¨ç¤º</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">person = {<span class="hljs-string">'name'</span>: <span class="hljs-string">'John'</span>, <span class="hljs-string">'age'</span>: <span class="hljs-number">30</span>}
capitals = {<span class="hljs-string">'France'</span>: <span class="hljs-string">'Paris'</span>, <span class="hljs-string">'Italy'</span>: <span class="hljs-string">'Rome'</span>}
</code></pre>
</li>
</ul>
<h3 data-id="heading-13">6. é›†åˆç±»å‹ (Set Types)</h3>
<h4 data-id="heading-14">é›†åˆ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.set.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.set.md" ref="nofollow noopener noreferrer"><code>set</code></a>)</h4>
<ul>
<li>æ— åºçš„å”¯ä¸€å…ƒç´ é›†åˆ</li>
<li>ç”¨èŠ±æ‹¬å· {} è¡¨ç¤ºï¼Œä½†ä¸åŒäºå­—å…¸</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">unique_numbers = {<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>}  <span class="hljs-comment"># ç»“æœä¸º {1, 2, 3}</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-15">å†»ç»“é›†åˆ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.frozenset.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.frozenset.md" ref="nofollow noopener noreferrer"><code>frozenset</code></a>)</h4>
<ul>
<li>ä¸å¯å˜çš„é›†åˆ</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">immutable_set = <span class="hljs-built_in">frozenset</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])
</code></pre>
</li>
</ul>
<h3 data-id="heading-16">7. äºŒè¿›åˆ¶ç±»å‹ (Binary Types)</h3>
<h4 data-id="heading-17">å­—èŠ‚ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.bytes.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.bytes.md" ref="nofollow noopener noreferrer"><code>bytes</code></a>)</h4>
<ul>
<li>ä¸å¯å˜çš„å­—èŠ‚åºåˆ—</li>
<li>ç”¨ b å‰ç¼€è¡¨ç¤º</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">byte_data = <span class="hljs-string">b'ABC'</span>
</code></pre>
</li>
</ul>
<h4 data-id="heading-18">å­—èŠ‚æ•°ç»„ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.bytearray.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.bytearray.md" ref="nofollow noopener noreferrer"><code>bytearray</code></a>)</h4>
<ul>
<li>å¯å˜çš„å­—èŠ‚åºåˆ—</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">mutable_bytes = <span class="hljs-built_in">bytearray</span>(<span class="hljs-string">b'ABC'</span>)
</code></pre>
</li>
</ul>
<h4 data-id="heading-19">å†…å­˜è§†å›¾ (<a href="https://link.juejin.cn?target=https%3A%2F%2Fxplanc.org%2Fprimers%2Fdocument%2Fzh%2F02.Python%2FEX.%25E5%2586%2585%25E5%25BB%25BA%25E5%2587%25BD%25E6%2595%25B0%2FEX.memoryview.md" target="_blank" title="https://xplanc.org/primers/document/zh/02.Python/EX.%E5%86%85%E5%BB%BA%E5%87%BD%E6%95%B0/EX.memoryview.md" ref="nofollow noopener noreferrer"><code>memoryview</code></a>)</h4>
<ul>
<li>ç”¨äºè®¿é—®å…¶ä»–äºŒè¿›åˆ¶å¯¹è±¡çš„å†…å­˜è€Œä¸éœ€è¦å¤åˆ¶</li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">mv = <span class="hljs-built_in">memoryview</span>(<span class="hljs-string">b'ABCD'</span>)
</code></pre>
</li>
</ul>
<h3 data-id="heading-20">8. <code>None</code> ç±»å‹</h3>
<ul>
<li>è¡¨ç¤ºç©ºå€¼æˆ–ç¼ºå¤±å€¼</li>
<li>åªæœ‰ä¸€ä¸ªå€¼ <code>None</code></li>
<li>ç¤ºä¾‹ï¼š
<pre><code class="hljs language-python" lang="python">result = <span class="hljs-literal">None</span>
</code></pre>
</li>
</ul>
<p>è¿™äº›åŸºæœ¬æ•°æ®ç±»å‹å¯ä»¥ç»„åˆä½¿ç”¨ï¼Œæ„å»ºæ›´å¤æ‚çš„æ•°æ®ç»“æ„ï¼Œæ»¡è¶³å„ç§ç¼–ç¨‹éœ€æ±‚ã€‚Python çš„ç±»å‹ç³»ç»Ÿæ˜¯åŠ¨æ€çš„ï¼Œè¿™æ„å‘³ç€å˜é‡å¯ä»¥åœ¨è¿è¡Œæ—¶æ”¹å˜å…¶ç±»å‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[uni-app D6 å®æˆ˜ï¼ˆå°å…”é²œï¼‰]]></title>    <link>https://juejin.cn/post/7577574644696006692</link>    <guid>https://juejin.cn/post/7577574644696006692</guid>    <pubDate>2025-11-28T15:43:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577574644696006692" data-draft-id="7577608919716069395" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="uni-app D6 å®æˆ˜ï¼ˆå°å…”é²œï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2025-11-28T15:43:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çˆ±æ³¡è„šçš„é¸¡è…¿"/> <meta itemprop="url" content="https://juejin.cn/user/4466663535419179"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            uni-app D6 å®æˆ˜ï¼ˆå°å…”é²œï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4466663535419179/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çˆ±æ³¡è„šçš„é¸¡è…¿
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-28T15:43:31.000Z" title="Fri Nov 28 2025 15:43:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1.ç™»å½•æ¨¡å—-å°ç¨‹åºå¿«æ·ç™»å½•</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8dddb1b522ce406982ba9cd6c1950064~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5rOh6ISa55qE6bih6IW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764949564&amp;x-signature=us6tz9uu91mxs6xWu%2BK1FXHP8co%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-1">1.1 é™æ€ç»“æ„</h3>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// src/pages/login/login.vue</span>

&lt;script setup lang=<span class="hljs-string">"ts"</span>&gt;
<span class="hljs-comment">//</span>
&lt;/script&gt;

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"viewport"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"logo"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">image</span>
        <span class="hljs-attr">src</span>=<span class="hljs-string">"https://pcapi-xiaotuxian-front-devtest.itheima.net/miniapp/images/logo_icon.png"</span>
      &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">image</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"login"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- ç½‘é¡µç«¯è¡¨å•ç™»å½• --&gt;</span>
      <span class="hljs-comment">&lt;!-- &lt;input class="input" type="text" placeholder="è¯·è¾“å…¥ç”¨æˆ·å/æ‰‹æœºå·ç " /&gt; --&gt;</span>
      <span class="hljs-comment">&lt;!-- &lt;input class="input" type="text" password placeholder="è¯·è¾“å…¥å¯†ç " /&gt; --&gt;</span>
      <span class="hljs-comment">&lt;!-- &lt;button class="button phone"&gt;ç™»å½•&lt;/button&gt; --&gt;</span>

      <span class="hljs-comment">&lt;!-- å°ç¨‹åºç«¯æˆæƒç™»å½• --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"button phone"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon icon-phone"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
        æ‰‹æœºå·å¿«æ·ç™»å½•
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"extra"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"caption"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">text</span>&gt;</span>å…¶ä»–ç™»å½•æ–¹å¼<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"options"</span>&gt;</span>
          <span class="hljs-comment">&lt;!-- é€šç”¨æ¨¡æ‹Ÿç™»å½• --&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"icon icon-phone"</span>&gt;</span>æ¨¡æ‹Ÿå¿«æ·ç™»å½•<span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"tips"</span>&gt;</span>ç™»å½•/æ³¨å†Œå³è§†ä¸ºä½ åŒæ„ã€ŠæœåŠ¡æ¡æ¬¾ã€‹å’Œã€Šå°å…”é²œå„¿éšç§åè®®ã€‹<span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span>

<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"scss"</span>&gt;</span><span class="css">
page {
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
}

<span class="hljs-selector-class">.viewport</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20</span>rpx <span class="hljs-number">40</span>rpx;
}

<span class="hljs-selector-class">.logo</span> {
  <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">text-align</span>: center;
  image {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">220</span>rpx;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">220</span>rpx;
    <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">15vh</span>;
  }
}

<span class="hljs-selector-class">.login</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">flex-direction</span>: column;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">60vh</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">40</span>rpx <span class="hljs-number">20</span>rpx <span class="hljs-number">20</span>rpx;

  <span class="hljs-selector-class">.input</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">80</span>rpx;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28</span>rpx;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">72</span>rpx;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;
    <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">30</span>rpx;
    <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">20</span>rpx;
  }

  <span class="hljs-selector-class">.button</span> {
    <span class="hljs-attribute">display</span>: flex;
    <span class="hljs-attribute">align-items</span>: center;
    <span class="hljs-attribute">justify-content</span>: center;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">80</span>rpx;
    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">28</span>rpx;
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">72</span>rpx;
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
    <span class="hljs-selector-class">.icon</span> {
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40</span>rpx;
      <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">6</span>rpx;
    }
  }

  <span class="hljs-selector-class">.phone</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#28bb9c</span>;
  }

  <span class="hljs-selector-class">.wechat</span> {
    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#06c05f</span>;
  }

  <span class="hljs-selector-class">.extra</span> {
    <span class="hljs-attribute">flex</span>: <span class="hljs-number">1</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">70</span>rpx <span class="hljs-number">70</span>rpx <span class="hljs-number">0</span>;
    <span class="hljs-selector-class">.caption</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">440</span>rpx;
      <span class="hljs-attribute">line-height</span>: <span class="hljs-number">1</span>;
      <span class="hljs-attribute">border-top</span>: <span class="hljs-number">1</span>rpx solid <span class="hljs-number">#ddd</span>;
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">26</span>rpx;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#999</span>;
      <span class="hljs-attribute">position</span>: relative;
      text {
        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">40%</span>);
        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#fff</span>;
        <span class="hljs-attribute">position</span>: absolute;
        <span class="hljs-attribute">top</span>: -<span class="hljs-number">12</span>rpx;
        <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
      }
    }

    <span class="hljs-selector-class">.options</span> {
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">justify-content</span>: center;
      <span class="hljs-attribute">align-items</span>: center;
      <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">70</span>rpx;
      <span class="hljs-selector-tag">button</span> {
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
        <span class="hljs-attribute">background-color</span>: transparent;
      }
    }

    <span class="hljs-selector-class">.icon</span> {
      <span class="hljs-attribute">font-size</span>: <span class="hljs-number">24</span>rpx;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#444</span>;
      <span class="hljs-attribute">display</span>: flex;
      <span class="hljs-attribute">flex-direction</span>: column;
      <span class="hljs-attribute">align-items</span>: center;

      &amp;<span class="hljs-selector-pseudo">::before</span> {
        <span class="hljs-attribute">display</span>: flex;
        <span class="hljs-attribute">align-items</span>: center;
        <span class="hljs-attribute">justify-content</span>: center;
        <span class="hljs-attribute">width</span>: <span class="hljs-number">80</span>rpx;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">80</span>rpx;
        <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">6</span>rpx;
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">40</span>rpx;
        <span class="hljs-attribute">border</span>: <span class="hljs-number">1</span>rpx solid <span class="hljs-number">#444</span>;
        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">50%</span>;
      }
    }
    <span class="hljs-selector-class">.icon-weixin</span><span class="hljs-selector-pseudo">::before</span> {
      <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#06c05f</span>;
      <span class="hljs-attribute">color</span>: <span class="hljs-number">#06c05f</span>;
    }
  }
}

<span class="hljs-selector-class">.tips</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">80</span>rpx;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">20</span>rpx;
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">22</span>rpx;
  <span class="hljs-attribute">color</span>: <span class="hljs-number">#999</span>;
  <span class="hljs-attribute">text-align</span>: center;
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>

</code></pre>
<h3 data-id="heading-2">1.2 å®šä¹‰APIä»¥åŠä»–çš„æ•°æ®ç±»å‹</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/581606027e3444369df4f8bcc4bf84ff~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5rOh6ISa55qE6bih6IW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764949564&amp;x-signature=%2F%2FA4FK%2FPzoDUxrcbGcHnu3YPnV8%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">1.3 è·å–codeç™»å½•å‡­è¯</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/598fd2a11e364b768944e82199c0625a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5rOh6ISa55qE6bih6IW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764949564&amp;x-signature=8xmy%2FAy3kRVBIqW%2FV%2ByEfLxId68%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">1.4 æå–éœ€è¦çš„æ•°æ®ï¼ˆå‡†å¤‡ä¸€ä¸‹å‚æ•°ï¼‰</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1032cae6f704481587d3dbaa73489388~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5rOh6ISa55qE6bih6IW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764949564&amp;x-signature=3b4eXmCwZQzqZqJIYfNFduS0VlA%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">1.5 è·å–æ‰‹æœºå·</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/320f02912397402294030fcc30a59ae4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5rOh6ISa55qE6bih6IW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764949564&amp;x-signature=cQtQBKFGoYsWVpHClGM0TNIooPo%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">2. ç™»å½•æ¨¡å—-æ¨¡æ‹Ÿå¿«é€Ÿç™»å½•</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7fcc7e0c68134a56b1f025c1a377ede4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54ix5rOh6ISa55qE6bih6IW_:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764949564&amp;x-signature=OS%2BwkavmTpCeTnUtnViBc4MF%2BXY%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€å¾æ–‡è®¡åˆ’ã€‘å½“AI Glassesæˆä¸ºä½ çš„â€œæ¤ç‰©ç™¾ç§‘å…¨ä¹¦â€]]></title>    <link>https://juejin.cn/post/7577417823343083555</link>    <guid>https://juejin.cn/post/7577417823343083555</guid>    <pubDate>2025-11-28T10:56:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577417823343083555" data-draft-id="7577607051586207759" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€å¾æ–‡è®¡åˆ’ã€‘å½“AI Glassesæˆä¸ºä½ çš„â€œæ¤ç‰©ç™¾ç§‘å…¨ä¹¦â€"/> <meta itemprop="keywords" content="æ•°æ®å¯è§†åŒ–"/> <meta itemprop="datePublished" content="2025-11-28T10:56:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·596258573606"/> <meta itemprop="url" content="https://juejin.cn/user/1716761106063612"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€å¾æ–‡è®¡åˆ’ã€‘å½“AI Glassesæˆä¸ºä½ çš„â€œæ¤ç‰©ç™¾ç§‘å…¨ä¹¦â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1716761106063612/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·596258573606
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-28T10:56:21.000Z" title="Fri Nov 28 2025 10:56:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼•è¨€</h2>
<p>è¯´èµ·èŠ±è‰æ ‘æœ¨ï¼Œä¸çŸ¥é“æœ‰æ²¡æœ‰å°ä¼™ä¼´å¯¹è¿™äº›æ„Ÿå…´è¶£ï¼Œä¹Ÿå¯èƒ½æ˜¯æˆ‘å¹´çºªå¤§äº†ï¼Œå¹³æ—¶å°±å–œæ¬¢ç ”ç©¶èŠ±èŠ±è‰è‰ï¼Œç”šè‡³äºå¼€å§‹å…»ä¸€äº›æ¤ç‰©ã€‚æˆ‘è™½ç„¶å…»è¿‡å…°èŠ±ï¼Œä½†å…°ç§‘æ¤ç‰©çš„åˆ†ç±»å´æ˜¯äº”èŠ±å…«é—¨ï¼Œä»¥è‡³äºæˆ‘åˆ°ç°åœ¨è¿˜æ˜¯åˆ†ä¸æ¸…æ¥šã€‚ä¸è¿‡éšç€AIäº§å“çš„ä¸æ–­é—®ä¸–ï¼ŒåƒAIå¤§æ¨¡å‹è¾…åŠ©ç¼–ç¨‹ï¼Œåˆæˆ–æ˜¯é…’åº—é€é¤çš„AIæœºå™¨äººç­‰ç­‰ï¼ŒAIäº§ç‰©æ…¢æ…¢åœ¨æˆ‘ä»¬çš„ç”Ÿæ´»ä¸­å æ®ä¸€å¸­ä¹‹åœ°ã€‚</p>
<p>å½“æˆ‘çœ‹åˆ°ã€äº†è§£åˆ°AI Glassesäº§å“çš„æ—¶å€™ï¼Œæˆ‘ç«‹é©¬å°±è¹¦å‡ºä¸€ä¸ªå¿µå¤´ï¼Œèƒ½ä¸èƒ½æŠŠTaå˜æˆä¸€éƒ¨æ¤ç‰©ç™¾ç§‘å…¨ä¹¦ï¼Œå½“ç”¨æˆ·æˆ´ç€çœ¼é•œæ¬£èµæŸä¸ªæ¤ç‰©æ—¶ï¼ŒTaæ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ¤ç‰©çš„ç™¾ç§‘ä¿¡æ¯ç›´æ¥æŠ•å°„åˆ°ç”¨æˆ·çš„çœ¼é•œé‡Œå‘¢ï¼Ÿå°±è¿™æ ·ï¼Œæˆ‘çš„æŠ€æœ¯æ–¹æ¡ˆåº”è¿è€Œç”Ÿï¼Œé€šè¿‡AIçœ¼é•œ+å›¾åƒè¯†åˆ«+æŸ¥è¯¢ç™¾ç§‘+ARæŠ•å°„ï¼Œå®ç°â€œæ‰€è§å³æ‰€å¾—â€çš„æ¤ç‰©ç™¾ç§‘ä¿¡æ¯å¯è§†åŒ–ï¼Œç”¨æˆ·åªéœ€ç”¨çœ¼é•œæ‹æ‘„çœ‹åˆ°çš„èŠ±è‰æ ‘æœ¨ï¼Œç³»ç»Ÿå³å¯å®æ—¶è¯†åˆ«å¹¶æŠ•å°„å¯¹åº”æ¤ç‰©çš„ç™¾ç§‘ä¿¡æ¯è‡³è§†é‡ä¸­ï¼Œè¾…åŠ©ç”¨æˆ·è¾¨åˆ«å„å¼å„æ ·çš„æ¤ç‰©ï¼Œå½“ç„¶äº†è¿˜å¯ä»¥è¾¨åˆ«å„ç§çº¢ä¼ä¼ã€ç™½æ†æ†çš„è˜‘è‡ï¼Œé¿å…è¯¯é£Ÿã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e5e448c357cb4952a4be0938a3d789cb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk2MjU4NTczNjA2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764932181&amp;x-signature=jcDbEL%2FgSw%2FMuRuD1Unt5IHFp4k%3D" alt="image.png" loading="lazy"/>
ç›®æ ‡ç”¨æˆ·ï¼šæ¤ç‰©çˆ±å¥½è€…ï¼Œæˆ–æœ‰ç›¸å…³ç ”ç©¶éœ€æ±‚çš„ç”¨æˆ·ï¼Œä¾‹å¦‚è¾¨åˆ«è˜‘è‡å¯é£Ÿç”¨æ€§ã€æ•™å°æœ‹å‹è®¤è¯†æ¤ç‰©ç­‰ã€‚</p>
<h2 data-id="heading-1">äºŒã€æŠ€æœ¯å®ç°æ€è·¯</h2>
<p>ç³»ç»Ÿé‡‡ç”¨ç«¯ä¾§è¯†åˆ«+äº‘ä¾§æ ¡éªŒçš„æ··åˆæ¶æ„ï¼Œæ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55574165f4cc42dbb21c1f032aa72669~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3NTk2MjU4NTczNjA2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764932181&amp;x-signature=ux%2F%2FcsHOPs5WCrRyNRzV67Ig26E%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li>å›¾åƒé‡‡é›†ï¼šAIçœ¼é•œæ‘„åƒå¤´æ‹æ‘„å…·ä½“çš„æ¤ç‰©å›¾åƒï¼›</li>
<li>ç«¯ä¾§é¢„å¤„ç†ï¼šåœ¨çœ¼é•œæœ¬åœ°è¿›è¡Œåˆæ­¥å›¾åƒè£å‰ªä¸ç‰¹å¾æå–ï¼›</li>
<li>äº‘ä¾§è¯†åˆ«ï¼šä¸Šä¼ è‡³äº‘ç«¯AIæ¨¡å‹è¿›è¡Œç²¾ç¡®åˆ†ç±»ä¸åŒ¹é…å¯¹åº”çš„æ¤ç‰©å“ç§ï¼›</li>
<li>ARæŠ•å°„ï¼šå°†ç»“æœé€šè¿‡ARæŠ€æœ¯å åŠ è‡³ç”¨æˆ·è§†é‡ï¼›</li>
<li>è¯­éŸ³äº¤äº’ï¼šæ”¯æŒè¯­éŸ³æŸ¥è¯¢å†å²è®°å½•æˆ–è°ƒæ•´æŠ•å°„æ ·å¼ã€‚</li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€æ ¸å¿ƒä»£ç å®ç°</h2>
<h4 data-id="heading-3">å›¾åƒé‡‡é›†ä¸ä¼ è¾“</h4>
<p>å‰æï¼šé€šè¿‡CXR-M SDKè¿æ¥AIçœ¼é•œæ‘„åƒå¤´ï¼Œå¹¶ç›‘å¬å›¾åƒå¸§æ•°æ®ï¼Œé‡‡é›†ç”¨æˆ·å®æ—¶æ‹æ‘„çš„æ¤ç‰©å½±åƒæ•°æ®ã€‚</p>
<p>ä»£ç åŠŸèƒ½ï¼šè·å–æ¤ç‰©å›¾åƒå¹¶è§¦å‘äº‘ç«¯è¯†åˆ«è¯·æ±‚ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä½¿ç”¨CXR-M SDKçš„CameraServiceè·å–å›¾åƒæµ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FoodCameraService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Service</span> {
    <span class="hljs-keyword">private</span> CameraDevice mCameraDevice;
    <span class="hljs-keyword">private</span> <span class="hljs-type">ExecutorService</span> <span class="hljs-variable">mExecutor</span> <span class="hljs-operator">=</span> Executors.newSingleThreadExecutor();

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">onStartCommand</span><span class="hljs-params">(Intent intent, <span class="hljs-type">int</span> flags, <span class="hljs-type">int</span> startId)</span> {
        openCamera(); <span class="hljs-comment">// åˆå§‹åŒ–æ‘„åƒå¤´</span>
        <span class="hljs-keyword">return</span> START_STICKY;
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">openCamera</span><span class="hljs-params">()</span> {
        <span class="hljs-type">CameraManager</span> <span class="hljs-variable">manager</span> <span class="hljs-operator">=</span> (CameraManager) getSystemService(CAMERA_SERVICE);
        <span class="hljs-keyword">try</span> {
            manager.openCamera(<span class="hljs-string">"0"</span>, mCameraCallback, mExecutor); <span class="hljs-comment">// "0"ä¸ºé»˜è®¤æ‘„åƒå¤´ID</span>
        } <span class="hljs-keyword">catch</span> (CameraAccessException e) {
            e.printStackTrace();
        }
    }

    <span class="hljs-keyword">private</span> CameraDevice.<span class="hljs-type">StateCallback</span> <span class="hljs-variable">mCameraCallback</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CameraDevice</span>.StateCallback() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onOpened</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> CameraDevice camera)</span> {
            mCameraDevice = camera;
            startCapture(); <span class="hljs-comment">// æ‘„åƒå¤´å°±ç»ªåå¼€å§‹æ•è·</span>
        }
    };

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">startCapture</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ­¤å¤„çœç•¥CaptureRequesté…ç½®ä»£ç ï¼Œå®é™…éœ€è®¾ç½®JPEGè¾“å‡ºæ ¼å¼</span>
        <span class="hljs-comment">// æ•è·åˆ°å›¾åƒåé€šè¿‡CXR-M SDKçš„UploadServiceä¸Šä¼ è‡³äº‘ç«¯</span>
        mCameraDevice.createCaptureSession(Arrays.asList(getOutputSurface()), 
            <span class="hljs-keyword">new</span> <span class="hljs-title class_">CameraCaptureSession</span>.StateCallback() {
                <span class="hljs-meta">@Override</span>
                <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onConfigured</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> CameraCaptureSession session)</span> {
                    session.capture(buildCaptureRequest(), <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);
                }
            }, <span class="hljs-literal">null</span>);
    }
}
</code></pre>
<p>æŠ€æœ¯äº®ç‚¹ï¼š</p>
<ul>
<li>é€šè¿‡<code>CameraManager</code>åŠ¨æ€ç®¡ç†æ‘„åƒå¤´èµ„æºï¼Œå…¼å®¹ä¸åŒè®¾å¤‡ï¼›</li>
<li>ä½¿ç”¨å•ç‹¬çº¿ç¨‹ï¼ˆ<code>ExecutorService</code>ï¼‰å¤„ç†å›¾åƒæµï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-4">äº‘ç«¯æŸ¥è¯¢åŒ¹é…å¹¶è¯†åˆ«æ¤ç‰©ä¿¡æ¯</h4>
<p>å‰æï¼šå›¾åƒä¸Šä¼ è‡³äº‘ç«¯åï¼Œè°ƒç”¨AIæ¨¡å‹æŸ¥è¯¢æ¤ç‰©ç™¾ç§‘ä¿¡æ¯ï¼Œç²¾ç¡®åŒ¹é…ä¸å®šä½æ¤ç‰©çš„ç§‘ç›®å¹¶å°†è¯¦ç»†çš„æ¤ç‰©ä¿¡æ¯æŸ¥è¯¢å‡ºæ¥ã€‚</p>
<p>ä»£ç åŠŸèƒ½ï¼šæ¥æ”¶äº‘ç«¯è¿”å›çš„JSONæ•°æ®å¹¶è§£æã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># äº‘ç«¯æ¤ç‰©è¯†åˆ«ï¼ˆè°ƒç”¨ç™¾åº¦æ™ºèƒ½äº‘å¤§æ¨¡å‹APIï¼Œç²¾ç®€ç‰ˆï¼‰</span>
<span class="hljs-keyword">import</span> requests
<span class="hljs-keyword">import</span> json

<span class="hljs-comment"># ---------------------- 1. APIé…ç½®ï¼ˆéœ€å…ˆç”³è¯·ç™¾åº¦æ™ºèƒ½äº‘AK/SKï¼‰----------------------</span>
<span class="hljs-comment"># æ­¥éª¤ï¼š1. ç™¾åº¦æ™ºèƒ½äº‘å®˜ç½‘æ³¨å†Œ â†’ 2. å¼€é€šâ€œæ¤ç‰©è¯†åˆ«â€API â†’ 3. è·å–AK/SK</span>
API_KEY = <span class="hljs-string">"ä½ çš„ç™¾åº¦æ™ºèƒ½äº‘API_KEY"</span>
SECRET_KEY = <span class="hljs-string">"ä½ çš„ç™¾åº¦æ™ºèƒ½äº‘SECRET_KEY"</span>
TOKEN_URL = <span class="hljs-string">"https://aip.baidubce.com/oauth/2.0/token"</span>
RECOGNIZE_URL = <span class="hljs-string">"https://aip.baidubce.com/rest/2.0/image-classify/v1/plant"</span>

<span class="hljs-comment"># ---------------------- 2. ç²¾ç®€ç‰ˆæ¤ç‰©ç™¾ç§‘ï¼ˆå¯æ ¹æ®APIè¿”å›çš„æ¤ç‰©åç§°æ‰©å±•ï¼‰----------------------</span>
PLANT_ENCYCLOPEDIA = {
    <span class="hljs-string">"ç»¿è"</span>: {<span class="hljs-string">"ç§‘å±"</span>: <span class="hljs-string">"å¤©å—æ˜Ÿç§‘"</span>, <span class="hljs-string">"ä¹ æ€§"</span>: <span class="hljs-string">"è€é˜´å–œæ¹¿"</span>, <span class="hljs-string">"å…»æŠ¤"</span>: <span class="hljs-string">"å–·æ°´å¢æ¹¿ï¼Œæ°´åŸ¹åœŸåŸ¹å‡å¯"</span>, <span class="hljs-string">"ç¦å¿Œ"</span>: <span class="hljs-string">"å¿Œå¼ºå…‰"</span>},
    <span class="hljs-string">"ç«ç‘°"</span>: {<span class="hljs-string">"ç§‘å±"</span>: <span class="hljs-string">"è”·è–‡ç§‘"</span>, <span class="hljs-string">"ä¹ æ€§"</span>: <span class="hljs-string">"å–œé˜³è€æ—±"</span>, <span class="hljs-string">"å…»æŠ¤"</span>: <span class="hljs-string">"è§å¹²è§æ¹¿ï¼ŒèŠ±åå‰ªæ®‹æ"</span>, <span class="hljs-string">"ç¦å¿Œ"</span>: <span class="hljs-string">"å¿Œç§¯æ°´"</span>},
    <span class="hljs-string">"å¤šè‚‰"</span>: {<span class="hljs-string">"ç§‘å±"</span>: <span class="hljs-string">"æ™¯å¤©ç§‘ç­‰"</span>, <span class="hljs-string">"ä¹ æ€§"</span>: <span class="hljs-string">"è€æ—±æ€•æ¶"</span>, <span class="hljs-string">"å…»æŠ¤"</span>: <span class="hljs-string">"å®å¹²å‹¿æ¹¿ï¼Œé€æ°”åœŸå£¤"</span>, <span class="hljs-string">"ç¦å¿Œ"</span>: <span class="hljs-string">"å¿Œé¢‘ç¹æµ‡æ°´"</span>},
    <span class="hljs-string">"æœˆå­£"</span>: {<span class="hljs-string">"ç§‘å±"</span>: <span class="hljs-string">"è”·è–‡ç§‘"</span>, <span class="hljs-string">"ä¹ æ€§"</span>: <span class="hljs-string">"å–œé˜³å–œè‚¥"</span>, <span class="hljs-string">"å…»æŠ¤"</span>: <span class="hljs-string">"å‹¤æ–½è‚¥ï¼ŒèŠ±åå‰ªæ"</span>, <span class="hljs-string">"ç¦å¿Œ"</span>: <span class="hljs-string">"å¿Œç§¯æ°´"</span>},
    <span class="hljs-string">"åŠå…°"</span>: {<span class="hljs-string">"ç§‘å±"</span>: <span class="hljs-string">"ç™¾åˆç§‘"</span>, <span class="hljs-string">"ä¹ æ€§"</span>: <span class="hljs-string">"è€é˜´è€æ—±"</span>, <span class="hljs-string">"å…»æŠ¤"</span>: <span class="hljs-string">"ç›†åœŸæ¹¿æ¶¦ï¼Œå®šæœŸæ–½è‚¥"</span>, <span class="hljs-string">"ç¦å¿Œ"</span>: <span class="hljs-string">"å¿Œå¼ºå…‰ç›´å°„"</span>},
    <span class="hljs-comment"># å¯æ ¹æ®APIè¯†åˆ«ç»“æœï¼Œæ— é™æ‰©å±•ç™¾ç§‘æ¡ç›®</span>
}

<span class="hljs-comment"># ---------------------- 3. æ ¸å¿ƒåŠŸèƒ½ï¼ˆè·å–Token+è°ƒç”¨API+è§£æç»“æœï¼‰----------------------</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_access_token</span>():
    <span class="hljs-string">"""è·å–APIè°ƒç”¨Tokenï¼ˆæœ‰æ•ˆæœŸ30å¤©ï¼Œå¯ç¼“å­˜å¤ç”¨ï¼‰"""</span>
    params = {<span class="hljs-string">"grant_type"</span>: <span class="hljs-string">"client_credentials"</span>, <span class="hljs-string">"client_id"</span>: API_KEY, <span class="hljs-string">"client_secret"</span>: SECRET_KEY}
    <span class="hljs-keyword">return</span> requests.post(TOKEN_URL, params=params).json()[<span class="hljs-string">"access_token"</span>]

<span class="hljs-keyword">def</span> <span class="hljs-title function_">plant_recognize_with_api</span>(<span class="hljs-params">img_path</span>):
    <span class="hljs-comment"># 1. è¯»å–å›¾ç‰‡å¹¶ç¼–ç ä¸ºBase64ï¼ˆAPIè¦æ±‚çš„è¾“å…¥æ ¼å¼ï¼‰</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(img_path, <span class="hljs-string">"rb"</span>) <span class="hljs-keyword">as</span> f:
        img_base64 = f.read().<span class="hljs-built_in">hex</span>()  <span class="hljs-comment"># ç®€åŒ–Base64ç¼–ç ï¼ˆç™¾åº¦APIæ”¯æŒhexæ ¼å¼ï¼‰</span>
    
    <span class="hljs-comment"># 2. è°ƒç”¨ç™¾åº¦æ¤ç‰©è¯†åˆ«å¤§æ¨¡å‹API</span>
    token = get_access_token()
    headers = {<span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/x-www-form-urlencoded"</span>}
    data = {<span class="hljs-string">"image"</span>: img_base64, <span class="hljs-string">"top_num"</span>: <span class="hljs-number">1</span>}  <span class="hljs-comment"># top_num=1è¿”å›æœ€å¯èƒ½çš„ç»“æœ</span>
    response = requests.post(<span class="hljs-string">f"<span class="hljs-subst">{RECOGNIZE_URL}</span>?access_token=<span class="hljs-subst">{token}</span>"</span>, headers=headers, data=data)
    result = response.json()
    
    <span class="hljs-comment"># 3. è§£æAPIç»“æœï¼ˆæå–æ¤ç‰©åç§°å’Œç½®ä¿¡åº¦ï¼‰</span>
    <span class="hljs-keyword">if</span> <span class="hljs-string">"result"</span> <span class="hljs-keyword">in</span> result <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(result[<span class="hljs-string">"result"</span>]) &gt; <span class="hljs-number">0</span>:
        plant_name = result[<span class="hljs-string">"result"</span>][<span class="hljs-number">0</span>][<span class="hljs-string">"name"</span>]  <span class="hljs-comment"># å¤§æ¨¡å‹è¿”å›çš„æ¤ç‰©åç§°</span>
        confidence = <span class="hljs-built_in">round</span>(result[<span class="hljs-string">"result"</span>][<span class="hljs-number">0</span>][<span class="hljs-string">"score"</span>] * <span class="hljs-number">100</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment"># ç½®ä¿¡åº¦</span>
    <span class="hljs-keyword">else</span>:
        plant_name = <span class="hljs-string">"æœªçŸ¥æ¤ç‰©"</span>
        confidence = <span class="hljs-number">0.0</span>
    
    <span class="hljs-comment"># 4. åŒ¹é…ç™¾ç§‘ä¿¡æ¯ï¼ˆæ— å¯¹åº”æ¡ç›®åˆ™è¿”å›é»˜è®¤å€¼ï¼‰</span>
    encyclopedia = PLANT_ENCYCLOPEDIA.get(plant_name, {<span class="hljs-string">"ç§‘å±"</span>: <span class="hljs-string">"æœªçŸ¥"</span>, <span class="hljs-string">"ä¹ æ€§"</span>: <span class="hljs-string">"æš‚æ— "</span>, <span class="hljs-string">"å…»æŠ¤"</span>: <span class="hljs-string">"æš‚æ— "</span>, <span class="hljs-string">"ç¦å¿Œ"</span>: <span class="hljs-string">"æš‚æ— "</span>})
    
    <span class="hljs-comment"># 5. è¾“å‡ºæœ€ç»ˆç»“æœï¼ˆé€‚é…ç«¯ä¾§ARå±•ç¤ºï¼‰</span>
    final_result = {
        <span class="hljs-string">"æ¤ç‰©åç§°"</span>: plant_name,
        <span class="hljs-string">"ç½®ä¿¡åº¦(%)"</span>: confidence,
        <span class="hljs-string">"ç™¾ç§‘ä¿¡æ¯"</span>: encyclopedia
    }
    <span class="hljs-built_in">print</span>(json.dumps(final_result, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">2</span>))
    <span class="hljs-keyword">return</span> final_result

<span class="hljs-comment"># ---------------------- æµ‹è¯•è°ƒç”¨ ----------------------</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    plant_recognize_with_api(<span class="hljs-string">"uploaded_plant.jpg"</span>)  <span class="hljs-comment"># ç«¯ä¾§ä¸Šä¼ çš„æ¤ç‰©å›¾ç‰‡è·¯å¾„</span>
</code></pre>
<p>æŠ€æœ¯äº®ç‚¹ï¼š</p>
<ul>
<li>ä½¿ç”¨ç™¾åº¦æ™ºèƒ½äº‘çš„æ¤ç‰©è¯†åˆ«å¤§æ¨¡å‹ï¼Œé€‚é…äº‘ç«¯æ¨ç†ï¼›</li>
<li>è¿”å›ç»“æ„åŒ–JSONï¼Œä¾¿äºç«¯ä¾§è§£æã€‚</li>
</ul>
<hr/>
<h4 data-id="heading-5">ARæ¤ç‰©ç™¾ç§‘ä¿¡æ¯æŠ•å°„</h4>
<p>å‰æï¼šé€šè¿‡CXR-M SDKçš„ARåŠŸèƒ½å°†åŒ¹é…åˆ°çš„æ¤ç‰©ç™¾ç§‘ä¿¡æ¯æ•°æ®æŠ•å°„è‡³ç”¨æˆ·è§†é‡ã€‚</p>
<p>ä»£ç åŠŸèƒ½ï¼šåœ¨çœ¼é•œå±å¹•å›ºå®šä½ç½®æ¸²æŸ“æ–‡æœ¬ã€‚</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ARæŠ•å°„æœåŠ¡ï¼ˆåŸºäºCXR-M SDKçš„ARCoreé›†æˆï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CalorieARRenderer</span> implements GLSurfaceView.Renderer {
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> mCalorieText = <span class="hljs-string">"æ¤ç‰©ä¿¡æ¯"</span>;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-type">void</span> <span class="hljs-title">updateCalorie</span><span class="hljs-params">(<span class="hljs-type">String</span> text)</span> </span>{
        mCalorieText = text; <span class="hljs-comment">// ç”±äº‘ç«¯å›è°ƒæ›´æ–°</span>
    }

    @<span class="hljs-function">Override
    <span class="hljs-keyword">public</span> <span class="hljs-type">void</span> <span class="hljs-title">onDrawFrame</span><span class="hljs-params">(GL10 gl)</span> </span>{
        <span class="hljs-comment">// ç®€åŒ–ç¤ºä¾‹ï¼šå®é™…éœ€ä½¿ç”¨ARCoreçš„Anchorå®šä½</span>
        gl.<span class="hljs-built_in">glClear</span>(GL10.GL_COLOR_BUFFER_BIT);
        gl.<span class="hljs-built_in">glLoadIdentity</span>();
        gl.<span class="hljs-built_in">glOrthof</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">1</span>); <span class="hljs-comment">// è®¾ç½®2Dæ­£äº¤æŠ•å½±</span>
        <span class="hljs-built_in">drawText</span>(gl, mCalorieText, <span class="hljs-number">0.5f</span>, <span class="hljs-number">0.9f</span>); <span class="hljs-comment">// åœ¨å±å¹•ä¸Šæ–¹å±…ä¸­æ˜¾ç¤º</span>
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-type">void</span> <span class="hljs-title">drawText</span><span class="hljs-params">(GL10 gl, <span class="hljs-type">String</span> text, <span class="hljs-type">float</span> x, <span class="hljs-type">float</span> y)</span> </span>{
        <span class="hljs-comment">// å®é™…éœ€é›†æˆFreeTypeåº“æˆ–ä½¿ç”¨CXR-M SDKçš„æ–‡æœ¬æ¸²æŸ“API</span>
        <span class="hljs-comment">// æ­¤å¤„çœç•¥å­—ä½“åŠ è½½ä¸çº¹ç†ç»˜åˆ¶ä»£ç </span>
    }
}
</code></pre>
<p>æŠ€æœ¯äº®ç‚¹ï¼š</p>
<ul>
<li>é€šè¿‡<code>GLSurfaceView.Renderer</code>å®ç°ä½å»¶è¿Ÿæ¸²æŸ“ï¼›</li>
<li>å›ºå®šåæ ‡æŠ•å°„ï¼Œé¿å…é®æŒ¡æ¤ç‰©ä¸»ä½“ã€‚</li>
</ul>
<p>æœ¬æ–¹æ¡ˆå›´ç»• â€œç«¯äº‘ååŒ + ç¡¬ä»¶èåˆ + åœºæ™¯é€‚é…â€ ä¸‰å¤§æ ¸å¿ƒï¼Œç²¾å‡†è§£å†³ â€œå®æ—¶è¯†åˆ«â€ ä¸ â€œæ— æ„Ÿäº¤äº’â€ å…³é”®é—®é¢˜ï¼š</p>
<ol>
<li>ç«¯äº‘ååŒæ¶æ„ï¼šç«¯ä¾§é€šè¿‡ CXR-M SDK å®Œæˆå›¾åƒé‡‡é›†ã€è£å‰ªã€é™å™ªåŠç‰¹å¾æå–ç­‰é¢„å¤„ç†ï¼Œå¤§å¹…ç¼©å‡äº‘ç«¯ä¼ è¾“é‡ä¸å»¶è¿Ÿï¼›äº‘ç«¯ä¾æ‰˜ç™¾åº¦æ™ºèƒ½äº‘æ¤ç‰©è¯†åˆ«æ¨¡å‹å®ç°é«˜ç²¾åº¦è¯†åˆ«ï¼Œæ—¢ä¿éšœç«¯ä¾§å®æ—¶å“åº”ï¼Œåˆå¼¥è¡¥æœ¬åœ°ç®—åŠ›ä¸è¶³ï¼Œè¾¾æˆ â€œé€Ÿåº¦ + ç²¾åº¦â€ åŒé‡å¹³è¡¡ã€‚</li>
<li>ç¡¬ä»¶æ·±åº¦èåˆï¼šåŸºäº Rokid CXR-M SDK æ‰“é€š â€œæ‘„åƒå¤´é‡‡é›† - ç«¯ä¾§å¤„ç† - AR æŠ•å°„â€ å…¨é“¾è·¯ï¼Œæ— éœ€ç¬¬ä¸‰æ–¹ APP ä¸­è½¬ï¼›AR æ¨¡å—é€šè¿‡ ARCore æ¥å£ï¼Œå°†ç™¾ç§‘æ•°æ®ä»¥æ‚¬æµ®çª—å½¢å¼æŠ•å°„è‡³è§†é‡å³ä¸Šè§’ï¼ˆé¿å¼€æ¤ç‰©ä¸»ä½“ï¼‰ï¼Œå»¶è¿Ÿæ§åˆ¶åœ¨ 500ms å†…ï¼Œå®ç°çœŸæ­£ â€œæ‰€è§å³æ‰€å¾—â€ã€‚</li>
<li>åœºæ™¯åŒ–é€‚é…ï¼šé’ˆå¯¹ä¸åŒéœ€æ±‚é¢„ç•™çµæ´»æ‰©å±•æ¥å£ï¼Œä¾‹å¦‚ä¸ºè¿›å±±é‡‡è˜‘è‡çš„æ–°æ‰‹äººç¾¤å®šåˆ¶ â€œæœ‰æ¯’æé†’â€ åŠŸèƒ½ â€”â€” åŒ¹é…åˆ°æœ‰æ¯’è˜‘è‡æ—¶ï¼ŒAR çª—å£è‡ªåŠ¨è½¬ä¸ºçº¢è‰²è­¦ç¤ºï¼Œè®©é€šç”¨æŠ€æœ¯å‡çº§ä¸ºä¸ªæ€§åŒ–å®ç”¨å·¥å…·ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-6">å››ã€æŠ€æœ¯æ€»ç»“</h2>
<p>è¿™æ–¹æ¡ˆçš„æ ¸å¿ƒï¼Œå…¶å®æ˜¯ç”¨ AI ç»™çœ¼é•œ â€œåŠ  buffâ€â€”â€” å®ƒä¸æ˜¯å¤šå‡ºæ¥çš„å·¥å…·ï¼Œè€Œæ˜¯çœ¼é•œæœ¬èº«çš„åŠŸèƒ½å»¶ä¼¸ï¼šå°±åƒçœ¼é•œå¸®äººçœ‹æ¸…ç‰©ä½“è½®å»“ï¼ŒAI å¸®äºº â€œè¯»æ‡‚â€ æ¤ç‰©çš„åº•ç»†ã€‚</p>
<p>ä»æŠ€æœ¯ä¸Šæ¥è¯´ï¼Œç«¯äº‘ååŒã€ç¡¬ä»¶èåˆã€åœºæ™¯é€‚é…è¿™ä¸‰ç‚¹ï¼Œè§£å†³çš„æ˜¯ â€œç”¨ç€é¡ºä¸é¡ºæ‰‹â€ çš„é—®é¢˜ï¼›ä»å®é™…ä½“éªŒæ¥çœ‹ï¼ŒAI è®©è®¤è¯†æ¤ç‰©ã€äº†è§£å…»æŠ¤æŠ€å·§ï¼Œä»ç‰¹æ„å»æŸ¥å˜æˆæŠ¬çœ¼å°±çŸ¥ï¼ŒçœŸæ­£åšåˆ°ç§‘æŠ€é¡ºç€ç”Ÿæ´»æ¥ã€‚</p>
<p>å½“ç„¶ï¼ŒAI Glassesç»“åˆå¤§æ¨¡å‹æœç´¢å¯ä»¥ç©å‡ºå„å¼å„æ ·çš„èŠ±æ´»ï¼Œå¹¶ä¸ä»…å±€é™äºè¯†åˆ«æ¤ç‰©ï¼Œå½“ç„¶è¿˜å¯ä»¥è¯†åˆ«åŠ¨ç‰©ï¼Œéšç€æ¨¡å‹å‡çº§ï¼Œè®©AI Glassesæˆä¸ºä¸€ä¸ªèµ„æ·±çš„åŒ»å­¦åšå£«ï¼Œå¸®ä½ ä¸€ç§’çœ‹æ‡‚ç—…å†å•ä¹Ÿä¸æ˜¯å¤©é©¬è¡Œç©ºçš„æƒ³è±¡ï¼Œæˆ‘æƒ³å¯èƒ½å°±åœ¨æ˜å¹´ã€åå¹´......æˆ‘ç›¸ä¿¡æŠ€æœ¯æ”¹å˜ç”Ÿæ´»ï¼ŒAIä¹Ÿå°†ä¼šæ…¢æ…¢çš„æ›´æ‡‚ç”¨æˆ·çš„éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªbug å¼•å‘çš„Dart ä¸ Java WeakReference å¯¹æ¯”æ¢è®¨]]></title>    <link>https://juejin.cn/post/7577587651894820905</link>    <guid>https://juejin.cn/post/7577587651894820905</guid>    <pubDate>2025-11-28T11:42:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577587651894820905" data-draft-id="7577587651894804521" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªbug å¼•å‘çš„Dart ä¸ Java WeakReference å¯¹æ¯”æ¢è®¨"/> <meta itemprop="keywords" content="Flutter"/> <meta itemprop="datePublished" content="2025-11-28T11:42:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="stringwu"/> <meta itemprop="url" content="https://juejin.cn/user/4046654395135800"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªbug å¼•å‘çš„Dart ä¸ Java WeakReference å¯¹æ¯”æ¢è®¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4046654395135800/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    stringwu
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-28T11:42:02.000Z" title="Fri Nov 28 2025 11:42:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡é¦–å‘äºå…¬ä¼—å·ï¼šç§»åŠ¨å¼€å‘é‚£äº›äº‹:<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FWwpq9JY6EIQOnHsO8RVqqA" target="_blank" title="https://mp.weixin.qq.com/s/Wwpq9JY6EIQOnHsO8RVqqA" ref="nofollow noopener noreferrer">ä¸€ä¸ªbug å¼•å‘çš„Dart ä¸ Java WeakReference å¯¹æ¯”æ¢è®¨</a></p>
<h2 data-id="heading-0">1 èƒŒæ™¯ä¸é—®é¢˜æå‡º</h2>
<p>åœ¨ Flutter ä¸šåŠ¡å¼€å‘ä¸­ï¼Œä¸ºè§£å†³ä¸¤ä¸ªå¯¹è±¡é—´çš„å¾ªç¯å¼•ç”¨é—®é¢˜ï¼Œç¬”è€…å°è¯•åœ¨ä¸€ä¸ªå¯¹è±¡ä¸­é€šè¿‡ <code>WeakReference</code> æŒæœ‰å¦ä¸€ä¸ªå¯¹è±¡çš„å›è°ƒæ–¹æ³•ï¼ˆ<code>callback</code>ï¼‰ï¼Œç”¨äºç‰¹æ®Šåœºæ™¯ä¸‹çš„å¼‚å¸¸å¤„ç†ã€‚ç„¶è€Œå®é™…æµ‹è¯•æ—¶å‘ç°ï¼Œè¯¥å›è°ƒå§‹ç»ˆæœªè¢«è§¦å‘â€”â€”æŒ‰å¸¸ç†ï¼Œæ­¤ <code>callback</code> å±äºå•ä¾‹å¯¹è±¡çš„æ–¹æ³•ï¼Œç†åº”ä¸ä¼šè¢«åƒåœ¾å›æ”¶ï¼ˆGCï¼‰ã€‚å¸¦ç€è¿™ä¸ªç–‘é—®ï¼Œç¬”è€…é€šè¿‡åå¤éªŒè¯ä¸æºç æ¢ç©¶ï¼Œå‘ç° Dart çš„ <code>WeakReference</code> è¡Œä¸ºä¸é¢„æœŸå­˜åœ¨åå·®ï¼Œè¿›è€Œè§¦å‘äº†å¯¹ Dart ä¸ Java å†…å­˜ç®¡ç†æœºåˆ¶å·®å¼‚çš„æ·±å…¥ç ”ç©¶ã€‚</p>
<p>æœ¬æ–‡å°†ä»å†…å­˜ç®¡ç†æ ¸å¿ƒé€»è¾‘ä¸ GC ç®—æ³•åº•å±‚åŸç†å‡ºå‘ï¼Œç³»ç»Ÿå¯¹æ¯” Dart ä¸ Java <code>WeakReference</code> çš„è®¾è®¡ç†å¿µã€è¡Œä¸ºç‰¹æ€§ä¸ä½¿ç”¨åœºæ™¯ï¼Œç»“åˆå…·è±¡åŒ–ä»£ç ç¤ºä¾‹æ‹†è§£å…³é”®å·®å¼‚ï¼Œå¸®åŠ©å¼€å‘è€…åœ¨è·¨è¯­è¨€è¿ç§»æˆ–å¤šç«¯å¼€å‘æ—¶é¿å¼€â€œéšæ€§é™·é˜±â€ï¼Œç²¾å‡†è¿ç”¨å¼±å¼•ç”¨ä¼˜åŒ–å†…å­˜ç®¡ç†ã€‚</p>
<h3 data-id="heading-1">1.1 å¼•è¨€ï¼šå¼±å¼•ç”¨åœ¨å†…å­˜ç®¡ç†ä¸­çš„è§’è‰²</h3>
<p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œ<strong>å¼±å¼•ç”¨ï¼ˆ<code>WeakReference</code>ï¼‰</strong> æ˜¯ä¼˜åŒ–å†…å­˜ç®¡ç†çš„é‡è¦å·¥å…·ã€‚å®ƒå…è®¸å¯¹è±¡åœ¨æ²¡æœ‰ <strong>å¼ºå¼•ç”¨</strong> æ—¶è¢«åƒåœ¾å›æ”¶å™¨ï¼ˆGCï¼‰éšæ—¶å›æ”¶ï¼ŒåŒæ—¶ä¿ç•™ä¸€ä¸ªâ€œä¸´æ—¶è®¿é—®â€è¯¥å¯¹è±¡çš„æœºåˆ¶ã€‚</p>
<p><code>Java</code>ä½œä¸ºæˆç†Ÿçš„é¢å‘å¯¹è±¡è¯­è¨€ï¼Œå…¶ <code>WeakReference</code> æœºåˆ¶å·²å¹¿æ³›åº”ç”¨äºç¼“å­˜è®¾è®¡ã€ç›‘å¬å™¨è§£è€¦ç­‰åœºæ™¯ï¼Œç‰¹æ€§ç¨³å®šä¸”ç”Ÿæ€å®Œå–„ï¼›è€Œ <code>Dart</code> ä½œä¸º <code>Flutter</code> çš„å¼€å‘è¯­è¨€ï¼Œè™½åŒæ ·æä¾› <code>WeakReference</code> ç±»ï¼Œä½†å—å†…å­˜æ¨¡å‹ã€GC ç®—æ³•åŠè¯­è¨€è®¾è®¡å“²å­¦çš„å½±å“ï¼Œå…¶ä½¿ç”¨åœºæ™¯ã€è¡Œä¸ºè¡¨ç°ä¸ <code>Java</code> å­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚è‹¥ç›´æ¥ç…§æ¬ <code>Java</code> ä¸­çš„ä½¿ç”¨ç»éªŒï¼Œææ˜“å¼•å‘å†…å­˜æ³„æ¼æˆ–åŠŸèƒ½å¼‚å¸¸ã€‚</p>
<hr/>
<h2 data-id="heading-2">2 æ ¸å¿ƒæ¦‚å¿µï¼šå¼•ç”¨å¼ºåº¦</h2>




















<table><thead><tr><th align="left">å¼•ç”¨ç±»å‹</th><th align="left">å†…å­˜ç®¡ç†è¡Œä¸º</th><th align="left">ç¤ºä¾‹ï¼ˆJavaï¼‰</th></tr></thead><tbody><tr><td align="left"><strong>å¼ºå¼•ç”¨ (Strong)</strong></td><td align="left">é»˜è®¤å¼•ç”¨ã€‚åªè¦å­˜åœ¨å¼ºå¼•ç”¨ï¼Œå¯¹è±¡å°± <strong>ç»ä¸ä¼š</strong> è¢« GC å›æ”¶ã€‚</td><td align="left"><code>Object obj = new Object()</code></td></tr><tr><td align="left"><strong>å¼±å¼•ç”¨ (Weak)</strong></td><td align="left"><strong>ä¸å½±å“</strong> å¯¹è±¡çš„ GC åˆ¤å®šã€‚å½“å¯¹è±¡ä»…è¢«å¼±å¼•ç”¨å…³è”æ—¶ï¼ŒGC å¯ <strong>éšæ—¶</strong> å›æ”¶è¯¥å¯¹è±¡ã€‚</td><td align="left"><code>WeakReference ref = new WeakReference(obj)</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-3">3 åº•å±‚åŸç†å·®å¼‚ï¼šGC ç®—æ³•ä¸å†…å­˜æ¨¡å‹</h2>
<p><code>Dart</code> å’Œ <code>Java</code> éƒ½é‡‡ç”¨<strong>å¯è¾¾æ€§åˆ†æ</strong>æ¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜æ´»ã€‚ç„¶è€Œï¼Œåœ¨ GC ç­–ç•¥å’Œå¼±å¼•ç”¨å¤„ç†ä¸Šï¼Œä¸¤è€…å­˜åœ¨æ ¹æœ¬å·®å¼‚ã€‚</p>
<h3 data-id="heading-4">3.1 Java çš„ GC ä¸å¤šçº§å¼•ç”¨æœºåˆ¶</h3>
<p><strong>Java åƒåœ¾å›æ”¶ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li><strong>åˆ†ä»£å›æ”¶ï¼š</strong> å¯¹è±¡æŒ‰ç”Ÿå‘½å‘¨æœŸåˆ†ä¸ºå¹´è½»ä»£ã€è€å¹´ä»£ï¼Œé‡‡ç”¨ä¸åŒçš„å›æ”¶ç­–ç•¥ã€‚</li>
<li><strong>GC Rootsï¼š</strong> ä¸»è¦åŒ…æ‹¬è™šæ‹Ÿæœºæ ˆä¸­çš„æœ¬åœ°å˜é‡ã€æ–¹æ³•åŒºä¸­çš„é™æ€å±æ€§/å¸¸é‡ã€æœ¬åœ°æ–¹æ³•æ ˆä¸­çš„ JNI å¼•ç”¨ç­‰ã€‚</li>
<li><strong>å¤šçº§å¼•ç”¨ï¼š</strong> æ”¯æŒå››çº§å¼•ç”¨å¼ºåº¦ï¼Œç”¨äºç²¾ç»†åŒ–å†…å­˜ç®¡ç†ï¼š
<ul>
<li><strong><code>StrongReference</code></strong>ï¼ˆå¼ºå¼•ç”¨ï¼‰</li>
<li><strong><code>SoftReference</code></strong>ï¼ˆè½¯å¼•ç”¨ï¼Œå†…å­˜ä¸è¶³æ—¶å›æ”¶ï¼‰</li>
<li><strong><code>WeakReference</code></strong>ï¼ˆå¼±å¼•ç”¨ï¼ŒGC å‘ç°å³å›æ”¶ï¼‰</li>
<li><strong><code>PhantomReference</code></strong>ï¼ˆè™šå¼•ç”¨ï¼Œç”¨äºè·Ÿè¸ªå›æ”¶ï¼‰</li>
</ul>
</li>
</ul>
<p><strong>å¼±å¼•ç”¨å›æ”¶æœºåˆ¶ï¼š</strong> å½“ GC æ‰«æåˆ°å¯¹è±¡ä»…è¢«å¼±å¼•ç”¨å…³è”æ—¶ï¼Œä¼š<strong>ç›´æ¥æ ‡è®°å›æ”¶</strong>ï¼Œå¹¶å°†è¯¥å¼±å¼•ç”¨åŠ å…¥ <strong>å¼•ç”¨é˜Ÿåˆ—ï¼ˆ<code>ReferenceQueue</code>ï¼‰</strong>ã€‚</p>
<p>æœ‰å…´è¶£çš„å¯å‚è€ƒæ¯”è¾ƒæ—©çš„æ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cnblogs.com%2FWoodJim%2Fp%2F4851665.html" target="_blank" title="https://www.cnblogs.com/WoodJim/p/4851665.html" ref="nofollow noopener noreferrer">www.cnblogs.com/WoodJim/p/4â€¦</a></p>
<h3 data-id="heading-5">3.2 Dart çš„ GC ä¸å•çº¿ç¨‹æ¨¡å‹</h3>
<p><strong>Dart åƒåœ¾å›æ”¶ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li><strong>Isolate æ¨¡å‹ï¼š</strong> Dart æ˜¯åŸºäº <code>Isolate</code> å®ç°å¹¶å‘çš„å•çº¿ç¨‹æ¨¡å‹ã€‚æ¯ä¸ª <code>Isolate</code> æ‹¥æœ‰è‡ªå·±ç‹¬ç«‹çš„å †å†…å­˜ï¼ˆHeapï¼‰ã€‚</li>
<li><strong>å¹¶å‘/æ— é” GCï¼š</strong> å†…å­˜ä¸å…±äº«ï¼ŒGC å‘ç”Ÿæ—¶åªéœ€æš‚åœå½“å‰çš„ <code>Isolate</code>ï¼Œä¸ä¼šé˜»å¡å…¶ä»– <code>Isolate</code>ï¼ˆå¦‚åå° Isolate çš„ GC ä¸ä¼šé˜»å¡ä¸» UI Isolateï¼‰ã€‚</li>
<li><strong>GC Rootsï¼š</strong> ä¸»è¦åŒ…æ‹¬æ ˆå¸§ä¸­çš„å±€éƒ¨å˜é‡ã€å‡½æ•°å‚æ•°ã€å…¨å±€/é¡¶å±‚å˜é‡ã€VM å†…éƒ¨å¥æŸ„ç­‰ã€‚</li>
</ul>
<p><strong>Dart å¼±å¼•ç”¨æ¨¡å‹ï¼š</strong></p>
<ul>
<li>Dart ç›®å‰<strong>åªæ”¯æŒå¼ºå¼•ç”¨å’Œå¼±å¼•ç”¨</strong>ï¼ˆ<code>WeakReference</code>ï¼‰ã€‚</li>
<li><strong>æ— å¼•ç”¨é˜Ÿåˆ—ï¼š</strong> æ— æ³•ä¸»åŠ¨ç›‘å¬å¯¹è±¡çš„å›æ”¶äº‹ä»¶ã€‚å¼€å‘è€…åªèƒ½é€šè¿‡åˆ¤æ–­ <code>target</code> æ˜¯å¦ä¸º <code>null</code> æ¥é—´æ¥åˆ¤æ–­å¯¹è±¡æ˜¯å¦å­˜æ´»ã€‚</li>
</ul>
<h3 data-id="heading-6">3.3 å…³é”®å·®å¼‚å¯¹æ¯”ï¼šå›æ”¶æ—¶æœºä¸å¼•ç”¨é˜Ÿåˆ—</h3>

























<table><thead><tr><th align="left">ç‰¹æ€§</th><th align="left">Java WeakReference</th><th align="left">Dart WeakReference</th></tr></thead><tbody><tr><td align="left"><strong>å¤šçº§å¼•ç”¨</strong></td><td align="left">æ”¯æŒï¼ˆå¼ºã€è½¯ã€å¼±ã€è™šï¼‰</td><td align="left">ä»…æ”¯æŒå¼ºã€å¼±å¼•ç”¨</td></tr><tr><td align="left"><strong>å›æ”¶æ—¶æœº</strong></td><td align="left"><strong>ä¸»åŠ¨ä¸”æ˜ç¡®ã€‚</strong> GC æ‰«æåˆ°ä»…è¢«å¼±å¼•ç”¨å…³è”çš„å¯¹è±¡æ—¶ï¼Œä¼š<strong>ç«‹å³</strong>æ ‡è®°å›æ”¶ã€‚</td><td align="left"><strong>è¢«åŠ¨ä¸”å»¶è¿Ÿã€‚</strong> ä¾èµ– GC å†…éƒ¨è°ƒåº¦ã€‚å¯¹è±¡åœ¨æ ‡è®°é˜¶æ®µè¢«è¯†åˆ«ï¼Œä½†åœ¨åç»­çš„ <strong>æ¸…é™¤é˜¶æ®µ</strong> æ‰ä¼šé‡Šæ”¾å†…å­˜ã€‚</td></tr><tr><td align="left"><strong>å¼•ç”¨é˜Ÿåˆ—</strong></td><td align="left"><strong>æ”¯æŒã€‚</strong> å¼±å¼•ç”¨å¯¹è±¡è¢«å›æ”¶åä¼šè¢«åŠ å…¥ <code>ReferenceQueue</code>ï¼Œå¯ç”¨äºç›‘å¬å›æ”¶äº‹ä»¶å’Œèµ„æºæ¸…ç†ã€‚</td><td align="left"><strong>ä¸æ”¯æŒã€‚</strong> æ— æ³•ä¸»åŠ¨æ„ŸçŸ¥å›æ”¶äº‹ä»¶ã€‚</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-7">4 å®æˆ˜ä¸­çš„â€œè¸©å‘â€è§£æ</h2>
<p>åœ¨ Java ä¸­ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡æ˜¯å•ä¾‹æ–¹æ³•ï¼ˆå¦‚ <code>Singleton.getInstance().someMethod()</code>ï¼‰ï¼Œå®ƒæ‰€åœ¨çš„å¯¹è±¡é€šå¸¸è¢« <strong>é™æ€å˜é‡</strong> å¼ºå¼•ç”¨ï¼Œå› æ­¤å®ƒçš„æ–¹æ³•å¯¹è±¡ä¹Ÿæ˜¯å­˜æ´»çš„ã€‚ä½†åœ¨ Dart ä¸­ï¼Œæƒ…å†µå¯èƒ½æˆªç„¶ä¸åŒã€‚</p>
<h3 data-id="heading-8">4.1 Java ç¤ºä¾‹ï¼šå¼±å¼•ç”¨çš„æ ‡å‡†ä½¿ç”¨</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.lang.ref.WeakReference;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JavaWeakRefDemo</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1. å¼ºå¼•ç”¨å…³è”å¯¹è±¡</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">original</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(<span class="hljs-string">"Dart vs Java"</span>);
        <span class="hljs-comment">// 2. å¼±å¼•ç”¨åŒ…è£…å¯¹è±¡</span>
        WeakReference&lt;String&gt; weakRef = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakReference</span>&lt;&gt;(original);

        System.out.println(<span class="hljs-string">"å¼±å¼•ç”¨è·å–å¯¹è±¡ (å‰)ï¼š"</span> + weakRef.get()); <span class="hljs-comment">// è¾“å‡ºï¼šDart vs Java</span>
        
        <span class="hljs-comment">// 3. ç§»é™¤å”¯ä¸€çš„å¼ºå¼•ç”¨</span>
        original = <span class="hljs-literal">null</span>;

        <span class="hljs-comment">// 4. å»ºè®®æ€§è§¦å‘ GC</span>
        System.gc();

        <span class="hljs-comment">// 5. å†æ¬¡è·å–å¯¹è±¡ï¼ˆå¯¹è±¡å·²è¢«å›æ”¶ï¼‰</span>
        <span class="hljs-comment">// åœ¨ Java è™šæ‹Ÿæœºä¸­ï¼Œä¸€æ—¦å¯¹è±¡ä»…è¢«å¼±å¼•ç”¨å…³è”ï¼ŒGCé€šå¸¸ä¼šè¿…é€Ÿå›æ”¶</span>
        System.out.println(<span class="hljs-string">"GCåå¼±å¼•ç”¨è·å–å¯¹è±¡ (å)ï¼š"</span> + weakRef.get()); <span class="hljs-comment">// è¾“å‡ºï¼šnull</span>
    }
}
</code></pre>
<h3 data-id="heading-9">4.2  Dart ç¤ºä¾‹ï¼šå¼±å¼•ç”¨æ–¹æ³•çš„é™·é˜±</h3>
<p><strong>é—®é¢˜æè¿°ï¼š</strong> åœ¨ Dart ä¸­ï¼Œå½“æˆ‘ä»¬ç”¨ <code>WeakReference</code> æŒæœ‰ä¸€ä¸ª<strong>æ–¹æ³•</strong>ï¼ˆ<code>VoidCallback</code> æˆ– <code>Function</code>ï¼‰æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•æœ¬èº«æ˜¯ä¸€ä¸ª<strong>é—­åŒ…å¯¹è±¡</strong>ã€‚å¦‚æœè¯¥é—­åŒ…å¯¹è±¡<strong>æ²¡æœ‰è¢«ä»»ä½•å¼ºå¼•ç”¨ç›´æ¥æŒæœ‰</strong>ï¼Œå³ä½¿å®ƒå®šä¹‰åœ¨ä¸€ä¸ªå¼ºå¼•ç”¨çš„ç±»å®ä¾‹ä¸­ï¼Œå®ƒä¹Ÿä¼šç«‹åˆ»è¢« GC è§†ä¸ºå¯å›æ”¶å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-keyword">typedef</span> VoidCallback = <span class="hljs-keyword">void</span> <span class="hljs-built_in">Function</span>();

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ParentA</span> </span>{
  <span class="hljs-comment">// ParentA å®ä¾‹æœ¬èº«è¢«å¼ºå¼•ç”¨æŒæœ‰ (ä¾‹å¦‚åœ¨ Widget State æˆ–å•ä¾‹ä¸­)</span>
  ParentB? _parentB;

  ParentA() {
    <span class="hljs-comment">// å°† _callback é—­åŒ…å¯¹è±¡ä¼ å…¥ ParentB</span>
    _parentB = ParentB(_callback);
  }

  <span class="hljs-comment">// å¤–å±‚çš„ callback æ–¹æ³•</span>
  <span class="hljs-keyword">void</span> _callback() {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Callback Invoked!"</span>);
  }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ParentB</span> </span>{
  <span class="hljs-comment">// ä½¿ç”¨ WeakReference æŒæœ‰ä¼ å…¥çš„ _callback é—­åŒ…å¯¹è±¡</span>
  WeakReference&lt;VoidCallback&gt; _callbackRef;

  ParentB(VoidCallback callback) : _callbackRef = WeakReference(callback);

  <span class="hljs-keyword">void</span> checkCallback() {
    <span class="hljs-comment">// æ£€æŸ¥é—­åŒ…å¯¹è±¡æ˜¯å¦å­˜æ´»</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">'Callback æ˜¯å¦å­˜æ´»: <span class="hljs-subst">${_callbackRef.target != <span class="hljs-keyword">null</span>}</span>'</span>);
    _callbackRef.target?.call();
  }
}

<span class="hljs-keyword">void</span> main() {
  <span class="hljs-comment">// ParentA å®ä¾‹è¢«å¼ºå¼•ç”¨æŒæœ‰</span>
  ParentA parentA = ParentA(); 

  <span class="hljs-comment">// ç«‹å³è°ƒç”¨ checkCallback</span>
  parentA._parentB?.checkCallback(); 
  <span class="hljs-comment">// é¢„æœŸè¾“å‡ºï¼šCallback æ˜¯å¦å­˜æ´»: false </span>
  <span class="hljs-comment">// åŸå› ï¼š_callback é—­åŒ…æœ¬èº«å¹¶æ²¡æœ‰è¢« parentA å®ä¾‹å¼ºå¼•ç”¨ï¼Œå®ƒåªè¢« WeakReference æŒæœ‰ï¼Œ</span>
  <span class="hljs-comment">// å› æ­¤åœ¨ GC æ‰«ææ—¶ï¼Œè¯¥é—­åŒ…å¯¹è±¡ä¼šè¢«ç«‹å³åˆ¤å®šä¸ºå¯å›æ”¶ã€‚</span>
}
</code></pre>
<h4 data-id="heading-10">å…³é”®æ€»ç»“</h4>
<ul>
<li>åœ¨ Dart ä¸­ï¼Œå¦‚æœä½ æƒ³é€šè¿‡ <code>WeakReference</code> æŒæœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œä½ éœ€è¦ç¡®ä¿<strong>è¯¥æ–¹æ³•æ‰€å±çš„å¯¹è±¡</strong>ï¼ˆæ¯”å¦‚ <code>ParentA</code> çš„å®ä¾‹ï¼‰ä»¥åŠ<strong>æ–¹æ³•æœ¬èº«</strong>ï¼ˆä½œä¸ºé—­åŒ…å¯¹è±¡ï¼‰<strong>è‡³å°‘æœ‰ä¸€ä¸ªå¼ºå¼•ç”¨</strong>ï¼Œå¦åˆ™å®ƒä¼šåœ¨ GC ç¬¬ä¸€æ¬¡æ‰«ææ—¶è¢«å›æ”¶ã€‚</li>
<li>åœ¨åŸå…ˆçš„ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œå½“ä½ ç”¨ <code>WeakReference</code> åŒ…è£¹ä¸€ä¸ªå•ä¾‹æ–¹æ³•æ—¶ï¼Œè™½ç„¶å•ä¾‹å¯¹è±¡æœ¬èº«è¢«å¼ºå¼•ç”¨ï¼Œä½†è¯¥<strong>é—­åŒ…å¯¹è±¡</strong>å¦‚æœæœªè¢«å•ä¾‹å¯¹è±¡<strong>ç›´æ¥ä½œä¸ºæˆå‘˜å˜é‡å¼ºå¼•ç”¨</strong>ï¼Œå®ƒä»ä¼šè¢« GC å›æ”¶ã€‚</li>
</ul>
<p><strong>æ­£ç¡®çš„ Dart å®è·µï¼ˆå¦‚æœéœ€è¦ç¡®ä¿å›è°ƒå­˜æ´»ï¼‰ï¼š</strong></p>
<p>å¦‚æœç›®æ ‡æ˜¯æ‰“ç ´ <strong><code>ParentA</code> å¼ºå¼•ç”¨ <code>ParentB</code>ï¼Œ<code>ParentB</code> å¼ºå¼•ç”¨ <code>ParentA</code></strong> çš„å¾ªç¯å¼•ç”¨ï¼Œé‚£ä¹ˆåº”è¯¥åœ¨ <code>ParentB</code> ä¸­ç”¨ <code>WeakReference</code> æŒæœ‰ <strong><code>ParentA</code> çš„å®ä¾‹</strong>ï¼Œè€Œä¸æ˜¯æ–¹æ³•é—­åŒ…ã€‚</p>
<hr/>
<h2 data-id="heading-11">5 æ€»ç»“</h2>




















<table><thead><tr><th align="left">è¯­è¨€</th><th align="left">å¼±å¼•ç”¨ç”¨é€”æ ¸å¿ƒå·®å¼‚</th><th align="left">åº”å¯¹ç­–ç•¥</th></tr></thead><tbody><tr><td align="left"><strong>Java</strong></td><td align="left">å¯ç”¨äº <strong>ç¼“å­˜</strong> å’Œ <strong>ç›‘å¬å™¨</strong>ã€‚é…åˆ <code>ReferenceQueue</code>ï¼Œå¯å®ç°ç²¾å‡†çš„èµ„æºé‡Šæ”¾è¿½è¸ªã€‚</td><td align="left">é‡ç‚¹å…³æ³¨å¤šçº§å¼•ç”¨ï¼ˆè½¯ã€å¼±ã€è™šï¼‰çš„é€‰æ‹©ï¼Œåˆ©ç”¨å¼•ç”¨é˜Ÿåˆ—æ¸…ç†èµ„æºã€‚</td></tr><tr><td align="left"><strong>Dart/Flutter</strong></td><td align="left">ä¸»è¦ç”¨äº <strong>æ‰“ç ´å¾ªç¯å¼•ç”¨</strong>ã€‚ç”±äºæ— å¼•ç”¨é˜Ÿåˆ—ï¼Œæ— æ³•è¿½è¸ªèµ„æºé‡Šæ”¾ã€‚<strong>ä¸è¦</strong> ç”¨ <code>WeakReference</code> é—´æ¥æŒæœ‰æ–¹æ³•é—­åŒ…ï¼Œè¿™å‡ ä¹æ€»æ˜¯ä¼šå¯¼è‡´å¯¹è±¡è¢«ç«‹å³å›æ”¶ã€‚</td><td align="left">ç¡®ä¿ <code>WeakReference</code> æŒæœ‰çš„å¯¹è±¡ï¼ˆé€šå¸¸æ˜¯å¦ä¸€ä¸ªç±»å®ä¾‹ï¼‰æœ¬èº«æœ‰<strong>å¤–éƒ¨å¼ºå¼•ç”¨</strong>ã€‚</td></tr></tbody></table>
<p><code>Dart</code> ä¸ <code>Java</code> çš„ <code>WeakReference</code> è™½æ ¸å¿ƒç›®æ ‡ä¸€è‡´ï¼ˆä¼˜åŒ–å†…å­˜ç®¡ç†ã€æ‰“ç ´å¾ªç¯å¼•ç”¨ï¼‰ï¼Œä½†å— GC ç®—æ³•ã€å†…å­˜æ¨¡å‹åŠè¯­è¨€è®¾è®¡çš„å½±å“ï¼Œè¡Œä¸ºå·®å¼‚æ˜¾è‘—ã€‚<code>Java</code> çš„å¼±å¼•ç”¨æœºåˆ¶æ›´å®Œå–„ã€è¡Œä¸ºæ›´å¯é¢„æœŸï¼Œé€‚åˆå¤æ‚åœºæ™¯ï¼›è€Œ Dart çš„å¼±å¼•ç”¨åŠŸèƒ½ç®€åŒ–ï¼Œéœ€é‡ç‚¹å…³æ³¨å›æ”¶å»¶è¿Ÿä¸å›è°ƒæŒæœ‰é—®é¢˜ã€‚</p>
<p>å¼€å‘è€…åœ¨è·¨è¯­è¨€è¿ç§»æ—¶ï¼Œåˆ‡å‹¿ç›´æ¥ç…§æ¬ä½¿ç”¨ç»éªŒï¼Œéœ€ä»åº•å±‚åŸç†å‡ºå‘ç†è§£å·®å¼‚æœ¬è´¨ï¼Œç»“åˆå…·ä½“åœºæ™¯åˆç†é€‰æ‹©å¼•ç”¨ç±»å‹â€”â€”å”¯æœ‰ç²¾å‡†åŒ¹é…è¯­è¨€ç‰¹æ€§ä¸ä¸šåŠ¡éœ€æ±‚ï¼Œæ‰èƒ½çœŸæ­£å‘æŒ¥å¼±å¼•ç”¨çš„å†…å­˜ä¼˜åŒ–ä»·å€¼ï¼Œé¿å…éšæ€§ Bugã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å››å¤§ç»„ä»¶-Activity]]></title>    <link>https://juejin.cn/post/7577587651895197737</link>    <guid>https://juejin.cn/post/7577587651895197737</guid>    <pubDate>2025-11-28T14:30:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577587651895197737" data-draft-id="7577228831138644011" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å››å¤§ç»„ä»¶-Activity"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2025-11-28T14:30:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä½ çš„ä¹”å…‹å”å”"/> <meta itemprop="url" content="https://juejin.cn/user/2233847510469006"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å››å¤§ç»„ä»¶-Activity
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2233847510469006/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä½ çš„ä¹”å…‹å”å”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-28T14:30:08.000Z" title="Fri Nov 28 2025 14:30:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸€ã€Activity æ¶æ„è®¾è®¡ç†å¿µ</p>
<p>1.1 è®¾è®¡æ€æƒ³ä¸å®šä½</p>
<p>Activity ä½œä¸º Android å››å¤§ç»„ä»¶ä¹‹é¦–ï¼Œä½“ç°äº† Google å¯¹ç§»åŠ¨åº”ç”¨äº¤äº’çš„æ·±åˆ»ç†è§£ï¼š</p>
<p>æ ¸å¿ƒè®¾è®¡ç†å¿µï¼š</p>
<ul>
<li>å•ä¸€å±å¹•åŸåˆ™ï¼šæ¯ä¸ª Activity ä»£è¡¨ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·äº¤äº’ç•Œé¢</li>
<li>ç»„åˆä¼˜äºç»§æ‰¿ï¼šé€šè¿‡ Intent æœºåˆ¶å®ç°æ¾è€¦åˆçš„ç»„ä»¶é€šä¿¡</li>
<li>ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥ï¼šç³»ç»Ÿç»Ÿä¸€ç®¡ç†ï¼Œå¼€å‘è€…åªéœ€å…³æ³¨çŠ¶æ€å›è°ƒ</li>
<li>ä»»åŠ¡æ ˆå¯¼èˆªï¼šç¬¦åˆç”¨æˆ·å¿ƒç†æ¨¡å‹çš„"è¿”å›"ä½“éªŒ</li>
</ul>
<p>åœ¨ MVC/MVP/MVVM ä¸­çš„è§’è‰²ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ ç»Ÿ MVC ä¸­ Activity æ‰®æ¼” Controller è§’è‰²</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Activity</span> {
    <span class="hljs-comment">// View</span>
    <span class="hljs-keyword">private</span> TextView mUserNameText;
    <span class="hljs-comment">// Model  </span>
    <span class="hljs-keyword">private</span> UserModel mUserModel;
    
    <span class="hljs-comment">// Controller é€»è¾‘</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateUserInfo</span><span class="hljs-params">()</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> mUserModel.getName();
        mUserNameText.setText(name); <span class="hljs-comment">// æ›´æ–° View</span>
    }
}

<span class="hljs-comment">// ç°ä»£æ¶æ„ä¸­ Activity ä½œä¸º View å±‚</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> {
    <span class="hljs-keyword">private</span> UserViewModel mViewModel;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        mViewModel = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ViewModelProvider</span>(<span class="hljs-built_in">this</span>).get(UserViewModel.class);
        
        <span class="hljs-comment">// è§‚å¯Ÿæ•°æ®å˜åŒ–</span>
        mViewModel.getUserLiveData().observe(<span class="hljs-built_in">this</span>, user -&gt; {
            updateUI(user); <span class="hljs-comment">// å“åº”å¼æ›´æ–°</span>
        });
    }
}
</code></pre>
<p>äºŒã€Activity åº•å±‚æœºåˆ¶å‰–æ</p>
<p>2.1 ActivityThread ä¸ AMS çš„äº¤äº’</p>
<p>å¯åŠ¨æµç¨‹æ·±åº¦è§£æï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. åº”ç”¨è¿›ç¨‹å†…éƒ¨æµç¨‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ActivityThread</span> {
    <span class="hljs-comment">// ä¸»æ¶ˆæ¯å¾ªç¯</span>
    <span class="hljs-keyword">final</span> <span class="hljs-type">H</span> <span class="hljs-variable">mH</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">H</span>();
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">H</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Handler</span> {
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleMessage</span><span class="hljs-params">(Message msg)</span> {
            <span class="hljs-keyword">switch</span> (msg.what) {
                <span class="hljs-keyword">case</span> LAUNCH_ACTIVITY:
                    handleLaunchActivity(msg); <span class="hljs-comment">// åˆ›å»ºå¹¶å¯åŠ¨ Activity</span>
                    <span class="hljs-keyword">break</span>;
                <span class="hljs-keyword">case</span> RESUME_ACTIVITY:
                    handleResumeActivity(msg); <span class="hljs-comment">// æ¢å¤ Activity</span>
                    <span class="hljs-keyword">break</span>;
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleLaunchActivity</span><span class="hljs-params">(ActivityClientRecord r)</span> {
        <span class="hljs-comment">// 1. åˆ›å»º Activity å®ä¾‹</span>
        <span class="hljs-type">Activity</span> <span class="hljs-variable">activity</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">try</span> {
            java.lang.<span class="hljs-type">ClassLoader</span> <span class="hljs-variable">cl</span> <span class="hljs-operator">=</span> r.packageInfo.getClassLoader();
            activity = mInstrumentation.newActivity(cl, r.activityInfo.name, r.intent);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// åå°„åˆ›å»ºå¤±è´¥å¤„ç†</span>
        }
        
        <span class="hljs-comment">// 2. è°ƒç”¨ attach æ–¹æ³•</span>
        activity.attach(appContext, <span class="hljs-built_in">this</span>, getInstrumentation(), r.token,
                r.ident, app, r.intent, r.activityInfo, ...);
        
        <span class="hljs-comment">// 3. è°ƒç”¨ onCreate</span>
        mInstrumentation.callActivityOnCreate(activity, r.state);
    }
}

<span class="hljs-comment">// 2. ç³»ç»ŸæœåŠ¡ç«¯æµç¨‹</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ActivityManagerService</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-title function_">startActivity</span><span class="hljs-params">(IApplicationThread caller, ...)</span> {
        <span class="hljs-comment">// æƒé™æ£€æŸ¥ã€è¿›ç¨‹ç®¡ç†ã€ä»»åŠ¡æ ˆç®¡ç†</span>
        <span class="hljs-keyword">return</span> startActivityAsUser(caller, ..., UserHandle.getCallingUserId());
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">startActivityAsUser</span><span class="hljs-params">(IApplicationThread caller, ...)</span> {
        <span class="hljs-comment">// è§£æ Intentã€éªŒè¯ç›®æ ‡ Activity</span>
        <span class="hljs-comment">// å¤„ç†å¯åŠ¨æ¨¡å¼ã€ä»»åŠ¡æ ˆè°ƒæ•´</span>
        <span class="hljs-comment">// é€šçŸ¥ç›®æ ‡è¿›ç¨‹åˆ›å»º Activity</span>
    }
}
</code></pre>
<p>2.2 Window ä¸ View ç³»ç»Ÿçš„æ¡¥æ¢</p>
<p>Activity çš„çª—å£ç®¡ç†æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Activity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ContextThemeWrapper</span> {
    <span class="hljs-keyword">private</span> Window mWindow;
    <span class="hljs-keyword">private</span> WindowManager mWindowManager;
    
    <span class="hljs-comment">// Activity ä¸ Window çš„å…³è”</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">attach</span><span class="hljs-params">(Context context, ...)</span> {
        <span class="hljs-comment">// åˆ›å»º PhoneWindow</span>
        mWindow = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PhoneWindow</span>(<span class="hljs-built_in">this</span>, windowToken);
        mWindow.setWindowManager((WindowManager)context.getSystemService(Context.WINDOW_SERVICE),
                mToken, mComponent.flattenToString());
        
        mWindowManager = mWindow.getWindowManager();
    }
    
    <span class="hljs-comment">// è®¾ç½®å†…å®¹è§†å›¾çš„å®Œæ•´æµç¨‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setContentView</span><span class="hljs-params">(<span class="hljs-meta">@LayoutRes</span> <span class="hljs-type">int</span> layoutResID)</span> {
        getWindow().setContentView(layoutResID);
        initWindowDecorActionBar(); <span class="hljs-comment">// åˆå§‹åŒ– ActionBar</span>
    }
}

<span class="hljs-comment">// PhoneWindow å†…éƒ¨å®ç°</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PhoneWindow</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Window</span> {
    <span class="hljs-keyword">private</span> DecorView mDecor;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setContentView</span><span class="hljs-params">(<span class="hljs-type">int</span> layoutResID)</span> {
        <span class="hljs-comment">// 1. ç¡®ä¿ DecorView å­˜åœ¨</span>
        <span class="hljs-keyword">if</span> (mDecor == <span class="hljs-literal">null</span>) {
            installDecor();
        }
        
        <span class="hljs-comment">// 2. å°†ç”¨æˆ·å¸ƒå±€æ·»åŠ åˆ° contentParent</span>
        <span class="hljs-type">View</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> mLayoutInflater.inflate(layoutResID, <span class="hljs-literal">null</span>);
        mContentParent.addView(in, ...);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">installDecor</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (mDecor == <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// åˆ›å»ºæ ¹è§†å›¾ DecorView</span>
            mDecor = generateDecor(-<span class="hljs-number">1</span>);
        }
        
        <span class="hljs-keyword">if</span> (mContentParent == <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// åˆ›å»ºå†…å®¹å®¹å™¨</span>
            mContentParent = generateLayout(mDecor);
        }
    }
}
</code></pre>
<p>ä¸‰ã€å¯åŠ¨æ¨¡å¼çš„åº•å±‚å®ç°</p>
<p>3.1 ä»»åŠ¡æ ˆç®¡ç†æœºåˆ¶</p>
<p>ActivityStack ä¸ TaskRecordï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç³»ç»ŸæœåŠ¡ä¸­çš„æ ˆç®¡ç†</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ActivityStack</span> {
    <span class="hljs-keyword">final</span> ArrayList&lt;TaskRecord&gt; mTaskHistory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    
    <span class="hljs-comment">// æ ¹æ®å¯åŠ¨æ¨¡å¼æŸ¥æ‰¾æˆ–åˆ›å»º Activity</span>
    ActivityRecord <span class="hljs-title function_">findActivityLocked</span><span class="hljs-params">(Intent intent, ActivityInfo info)</span> {
        <span class="hljs-comment">// singleTask æŸ¥æ‰¾é€»è¾‘</span>
        <span class="hljs-keyword">if</span> (launchMode == LAUNCH_SINGLE_TASK) {
            <span class="hljs-comment">// æŸ¥æ‰¾åŒ¹é…çš„ TaskRecord</span>
            <span class="hljs-type">TaskRecord</span> <span class="hljs-variable">task</span> <span class="hljs-operator">=</span> findTaskLocked(intent, info);
            <span class="hljs-keyword">if</span> (task != <span class="hljs-literal">null</span>) {
                <span class="hljs-comment">// æ¸…ç†æ ˆé¡¶ Activity</span>
                task.performClearTaskLocked();
                <span class="hljs-keyword">return</span> task.getTopActivity();
            }
        }
        
        <span class="hljs-comment">// singleTop æ ˆé¡¶å¤ç”¨é€»è¾‘</span>
        <span class="hljs-keyword">if</span> (launchMode == LAUNCH_SINGLE_TOP) {
            <span class="hljs-type">ActivityRecord</span> <span class="hljs-variable">top</span> <span class="hljs-operator">=</span> topRunningActivityLocked();
            <span class="hljs-keyword">if</span> (top != <span class="hljs-literal">null</span> &amp;&amp; top.realActivity.equals(component)) {
                <span class="hljs-keyword">return</span> top; <span class="hljs-comment">// å¤ç”¨æ ˆé¡¶å®ä¾‹</span>
            }
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// éœ€è¦åˆ›å»ºæ–°å®ä¾‹</span>
    }
}

<span class="hljs-comment">// ä»»åŠ¡è®°å½•</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TaskRecord</span> {
    <span class="hljs-keyword">final</span> ArrayList&lt;ActivityRecord&gt; mActivities = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
    <span class="hljs-type">int</span> taskId; <span class="hljs-comment">// ä»»åŠ¡ID</span>
    String affinity; <span class="hljs-comment">// ä»»åŠ¡äº²å’Œæ€§</span>
    
    <span class="hljs-comment">// æ¸…ç†ä»»åŠ¡æ ˆ</span>
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">performClearTaskLocked</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ç§»é™¤æ‰€æœ‰ä½äºç›®æ ‡ Activity ä¹‹ä¸Šçš„ Activity</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> mActivities.size() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
            <span class="hljs-type">ActivityRecord</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> mActivities.get(i);
            <span class="hljs-keyword">if</span> (r == targetActivity) <span class="hljs-keyword">break</span>;
            r.finishIfPossible();
        }
    }
}
</code></pre>
<p>3.2 Intent Flag çš„ä¼˜å…ˆçº§ä¸å†²çªè§£å†³</p>
<p>Flag å¤„ç†ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ActivityStarter</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">computeLaunchingTaskFlags</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// Intent Flags è¦†ç›– Manifest è®¾ç½®</span>
        <span class="hljs-keyword">if</span> ((intent.getFlags() &amp; FLAG_ACTIVITY_NEW_TASK) != <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// å¼ºåˆ¶åœ¨æ–°ä»»åŠ¡ä¸­å¯åŠ¨</span>
            launchFlags |= FLAG_ACTIVITY_NEW_TASK;
        }
        
        <span class="hljs-comment">// è§£å†³ Flag å†²çª</span>
        <span class="hljs-keyword">if</span> ((launchFlags &amp; FLAG_ACTIVITY_NEW_TASK) != <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> ((launchFlags &amp; FLAG_ACTIVITY_MULTIPLE_TASK) != <span class="hljs-number">0</span>) {
                <span class="hljs-comment">// æ€»æ˜¯åˆ›å»ºæ–°ä»»åŠ¡</span>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// æŸ¥æ‰¾ç°æœ‰ä»»åŠ¡</span>
            }
        }
    }
}
</code></pre>
<p>å››ã€ç”Ÿå‘½å‘¨æœŸçš„çŠ¶æ€æœºæ¨¡å‹</p>
<p>4.1 å®Œæ•´çŠ¶æ€è½¬æ¢å›¾</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Activity ç”Ÿå‘½å‘¨æœŸçŠ¶æ€æœº</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">ActivityState</span> {
    INITIALIZING,   <span class="hljs-comment">// åˆå§‹çŠ¶æ€</span>
    CREATED,        <span class="hljs-comment">// onCreate å®Œæˆ</span>
    STARTED,        <span class="hljs-comment">// onStart å®Œæˆ  </span>
    RESUMED,        <span class="hljs-comment">// onResume å®Œæˆ</span>
    PAUSING,        <span class="hljs-comment">// onPause æ‰§è¡Œä¸­</span>
    PAUSED,         <span class="hljs-comment">// onPause å®Œæˆ</span>
    STOPPING,       <span class="hljs-comment">// onStop æ‰§è¡Œä¸­</span>
    STOPPED,        <span class="hljs-comment">// onStop å®Œæˆ</span>
    DESTROYING,     <span class="hljs-comment">// onDestroy æ‰§è¡Œä¸­</span>
    DESTROYED       <span class="hljs-comment">// onDestroy å®Œæˆ</span>
}

<span class="hljs-comment">// çŠ¶æ€è½¬æ¢æ§åˆ¶å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ActivityLifecycleController</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">ActivityState</span> <span class="hljs-variable">mCurrentState</span> <span class="hljs-operator">=</span> ActivityState.INITIALIZING;
    
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">moveToState</span><span class="hljs-params">(ActivityState newState)</span> {
        <span class="hljs-keyword">switch</span> (mCurrentState) {
            <span class="hljs-keyword">case</span> INITIALIZING:
                <span class="hljs-keyword">if</span> (newState == ActivityState.CREATED) {
                    callOnCreate();
                    mCurrentState = ActivityState.CREATED;
                }
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> CREATED:
                <span class="hljs-keyword">if</span> (newState == ActivityState.STARTED) {
                    callOnStart();
                    mCurrentState = ActivityState.STARTED;
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (newState == ActivityState.DESTROYED) {
                    callOnDestroy();
                    mCurrentState = ActivityState.DESTROYED;
                }
                <span class="hljs-keyword">break</span>;
            <span class="hljs-comment">// å…¶ä»–çŠ¶æ€è½¬æ¢...</span>
        }
    }
}
</code></pre>
<p>4.2 é…ç½®å˜åŒ–æ—¶çš„çŠ¶æ€ä¿å­˜ä¸æ¢å¤</p>
<p>View çŠ¶æ€ä¿å­˜æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Activity</span> {
    <span class="hljs-comment">// çŠ¶æ€ä¿å­˜å…¥å£</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSaveInstanceState</span><span class="hljs-params">(Bundle outState)</span> {
        <span class="hljs-comment">// 1. ä¿å­˜ Activity çº§åˆ«çŠ¶æ€</span>
        outState.putString(<span class="hljs-string">"key"</span>, value);
        
        <span class="hljs-comment">// 2. å§”æ‰˜ Window ä¿å­˜è§†å›¾çŠ¶æ€</span>
        mWindow.saveHierarchyState();
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">PhoneWindow</span> {
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveHierarchyState</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// éå†è§†å›¾æ ‘ï¼Œä¿å­˜æœ‰ id çš„è§†å›¾çŠ¶æ€</span>
        SparseArray&lt;Parcelable&gt; states = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SparseArray</span>&lt;&gt;();
        mDecor.saveHierarchyState(states);
        
        <span class="hljs-comment">// å­˜å‚¨åˆ° Bundle</span>
        outState.putSparseParcelableArray(WINDOW_HIERARCHY_TAG, states);
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">saveHierarchyState</span><span class="hljs-params">(SparseArray&lt;Parcelable&gt; container)</span> {
        <span class="hljs-comment">// ä¿å­˜è‡ªèº«çŠ¶æ€</span>
        <span class="hljs-keyword">if</span> (mID != NO_ID) {
            container.put(mID, onSaveInstanceState());
        }
        
        <span class="hljs-comment">// é€’å½’ä¿å­˜å­è§†å›¾çŠ¶æ€</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; getChildCount(); i++) {
            getChildAt(i).saveHierarchyState(container);
        }
    }
    
    <span class="hljs-keyword">protected</span> Parcelable <span class="hljs-title function_">onSaveInstanceState</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è§†å›¾å­ç±»é‡å†™æ­¤æ–¹æ³•ä¿å­˜ç‰¹å®šçŠ¶æ€</span>
        <span class="hljs-comment">// å¦‚ EditText çš„æ–‡æœ¬ã€CheckBox çš„é€‰ä¸­çŠ¶æ€ç­‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BaseSavedState</span>(<span class="hljs-built_in">super</span>.onSaveInstanceState());
    }
}
</code></pre>
<p>äº”ã€æ€§èƒ½ä¼˜åŒ–æ·±åº¦ç­–ç•¥</p>
<p>5.1 å¯åŠ¨æ€§èƒ½ä¼˜åŒ–</p>
<p>å†·å¯åŠ¨ä¼˜åŒ–å…¨æµç¨‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Activity</span> {
    <span class="hljs-comment">// 1. ä¸»é¢˜ä¼˜åŒ–ï¼šä½¿ç”¨å¯åŠ¨ä¸»é¢˜é¿å…ç™½å±</span>
    <span class="hljs-comment">// styles.xml</span>
    <span class="hljs-comment">// &lt;style name="AppTheme.Launcher"&gt;</span>
    <span class="hljs-comment">//     &lt;item name="android:windowBackground"&gt;@drawable/launch_background&lt;/item&gt;</span>
    <span class="hljs-comment">// &lt;/style&gt;</span>
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-comment">// 2. åœ¨ super.onCreate å‰æ¢å¤ä¸»é¢˜</span>
        setTheme(R.style.AppTheme);
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        
        <span class="hljs-comment">// 3. å¼‚æ­¥åˆå§‹åŒ–ç­–ç•¥</span>
        initAsync();
        
        <span class="hljs-comment">// 4. å»¶è¿Ÿåˆå§‹åŒ–éå…³é”®ç»„ä»¶</span>
        getWindow().getDecorView().post(() -&gt; {
            initHeavyComponents(); <span class="hljs-comment">// åœ¨é¦–å¸§æ¸²æŸ“åæ‰§è¡Œ</span>
        });
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initAsync</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä½¿ç”¨ IntentService æˆ–çº¿ç¨‹æ± åˆå§‹åŒ–ç¬¬ä¸‰æ–¹ SDK</span>
        Executors.newSingleThreadExecutor().execute(() -&gt; {
            <span class="hljs-comment">// åå°åˆå§‹åŒ–</span>
            ThirdPartySDK.init();
            
            <span class="hljs-comment">// å®Œæˆåé€šçŸ¥ä¸»çº¿ç¨‹</span>
            runOnUiThread(() -&gt; {
                onAsyncInitComplete();
            });
        });
    }
}

<span class="hljs-comment">// 5. å¯åŠ¨å™¨æ¨¡å¼ä¼˜åŒ–</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AppStartupManager</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">optimizeStartup</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// ä½¿ç”¨ ContentProvider è‡ªåŠ¨åˆå§‹åŒ– (æ…é‡ä½¿ç”¨)</span>
        <span class="hljs-comment">// ä½¿ç”¨ App Startup åº“ç»Ÿä¸€ç®¡ç†åˆå§‹åŒ–é¡ºåº</span>
    }
}
</code></pre>
<p>5.2 å†…å­˜æ³„æ¼é˜²æŠ¤ä½“ç³»</p>
<p>å¸¸è§æ³„æ¼åœºæ™¯ä¸è§£å†³æ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> {
    <span class="hljs-comment">// åœºæ™¯1ï¼šé™æ€å¼•ç”¨æ³„æ¼</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Context sLeakedContext;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> WeakReference&lt;Context&gt; sSafeContext;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        
        <span class="hljs-comment">// é”™è¯¯åšæ³•</span>
        sLeakedContext = <span class="hljs-built_in">this</span>; <span class="hljs-comment">// å†…å­˜æ³„æ¼ï¼</span>
        
        <span class="hljs-comment">// æ­£ç¡®åšæ³•</span>
        sSafeContext = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakReference</span>&lt;&gt;(<span class="hljs-built_in">this</span>);
    }
    
    <span class="hljs-comment">// åœºæ™¯2ï¼šHandler æ³„æ¼</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Handler</span> <span class="hljs-variable">mLeakyHandler</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Handler</span>() {
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleMessage</span><span class="hljs-params">(Message msg)</span> {
            <span class="hljs-comment">// éšå¼æŒæœ‰ Activity å¼•ç”¨</span>
        }
    };
    
    <span class="hljs-comment">// å®‰å…¨ Handler</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeHandler</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Handler</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> WeakReference&lt;SafeActivity&gt; mActivity;
        
        SafeHandler(SafeActivity activity) {
            mActivity = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakReference</span>&lt;&gt;(activity);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleMessage</span><span class="hljs-params">(Message msg)</span> {
            <span class="hljs-type">SafeActivity</span> <span class="hljs-variable">activity</span> <span class="hljs-operator">=</span> mActivity.get();
            <span class="hljs-keyword">if</span> (activity != <span class="hljs-literal">null</span> &amp;&amp; !activity.isFinishing()) {
                activity.handleSafeMessage(msg);
            }
        }
    }
    
    <span class="hljs-comment">// åœºæ™¯3ï¼šåŒ¿åå†…éƒ¨ç±»æ³„æ¼</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setupListeners</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// é”™è¯¯åšæ³•ï¼šåŒ¿åå†…éƒ¨ç±»éšå¼æŒæœ‰å¤–éƒ¨ç±»å¼•ç”¨</span>
        mButton.setOnClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnClickListener() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(View v)</span> {
                <span class="hljs-comment">// å¯èƒ½é€ æˆæ³„æ¼</span>
            }
        });
        
        <span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šä½¿ç”¨é™æ€ç±»æˆ–æ–¹æ³•å¼•ç”¨</span>
        mButton.setOnClickListener(<span class="hljs-built_in">this</span>::onButtonClick);
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onButtonClick</span><span class="hljs-params">(View v)</span> {
        <span class="hljs-comment">// å®‰å…¨çš„ç‚¹å‡»å¤„ç†</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDestroy</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ¸…ç†èµ„æº</span>
        mHandler.removeCallbacksAndMessages(<span class="hljs-literal">null</span>);
        <span class="hljs-built_in">super</span>.onDestroy();
    }
}
</code></pre>
<p>å…­ã€é«˜çº§åº”ç”¨åœºæ™¯</p>
<p>6.1 å¤šçª—å£æ¨¡å¼é€‚é…</p>
<p>åˆ†å±ä¸ç”»ä¸­ç”»å¤„ç†ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiWindowActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Activity</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> mIsInMultiWindowMode;
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> mIsInPictureInPictureMode;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMultiWindowModeChanged</span><span class="hljs-params">(<span class="hljs-type">boolean</span> isInMultiWindowMode)</span> {
        <span class="hljs-built_in">super</span>.onMultiWindowModeChanged(isInMultiWindowMode);
        mIsInMultiWindowMode = isInMultiWindowMode;
        
        <span class="hljs-comment">// è°ƒæ•´ UI å¸ƒå±€</span>
        adjustLayoutForMultiWindow(isInMultiWindowMode);
        
        <span class="hljs-comment">// æš‚åœ/æ¢å¤åå°ä»»åŠ¡</span>
        <span class="hljs-keyword">if</span> (isInMultiWindowMode) {
            pauseNonCriticalTasks();
        } <span class="hljs-keyword">else</span> {
            resumeNonCriticalTasks();
        }
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onPictureInPictureModeChanged</span><span class="hljs-params">(<span class="hljs-type">boolean</span> isInPictureInPictureMode)</span> {
        <span class="hljs-built_in">super</span>.onPictureInPictureModeChanged(isInPictureInPictureMode);
        mIsInPictureInPictureMode = isInPictureInPictureMode;
        
        <span class="hljs-keyword">if</span> (isInPictureInPictureMode) {
            <span class="hljs-comment">// ç®€åŒ– UIï¼Œåªä¿ç•™æ ¸å¿ƒå†…å®¹</span>
            enterPictureInPictureMode();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// æ¢å¤å®Œæ•´ UI</span>
            exitPictureInPictureMode();
        }
    }
    
    <span class="hljs-comment">// é…ç½®ç”»ä¸­ç”»å‚æ•°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">enterPictureInPictureMode</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.O) {
            <span class="hljs-type">PictureInPictureParams</span> <span class="hljs-variable">params</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PictureInPictureParams</span>.Builder()
                .setAspectRatio(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Rational</span>(<span class="hljs-number">16</span>, <span class="hljs-number">9</span>))
                .setSourceRectHint(getSourceRectHint())
                .setActions(getPipActions())
                .build();
            enterPictureInPictureMode(params);
        }
    }
}
</code></pre>
<p>6.2 åŠ¨æ€ç‰¹æ€§æ¨¡å—</p>
<p>æŒ‰éœ€åŠ è½½ Activityï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DynamicFeatureActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Activity</span> {
    <span class="hljs-keyword">private</span> SplitInstallManager mSplitInstallManager;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        mSplitInstallManager = SplitInstallManagerFactory.create(<span class="hljs-built_in">this</span>);
        
        <span class="hljs-comment">// æ£€æŸ¥ç‰¹æ€§æ˜¯å¦å·²å®‰è£…</span>
        checkFeatureAvailability();
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">checkFeatureAvailability</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (mSplitInstallManager.getInstalledModules().contains(<span class="hljs-string">"premium_feature"</span>)) {
            <span class="hljs-comment">// ç‰¹æ€§å·²å®‰è£…ï¼Œç›´æ¥å¯åŠ¨</span>
            launchPremiumFeature();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// è¯·æ±‚å®‰è£…ç‰¹æ€§æ¨¡å—</span>
            requestFeatureInstall();
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">requestFeatureInstall</span><span class="hljs-params">()</span> {
        <span class="hljs-type">SplitInstallRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> SplitInstallRequest.newBuilder()
            .addModule(<span class="hljs-string">"premium_feature"</span>)
            .build();
            
        mSplitInstallManager.startInstall(request)
            .addOnSuccessListener(sessionId -&gt; {
                <span class="hljs-comment">// å®‰è£…æˆåŠŸ</span>
                launchPremiumFeature();
            })
            .addOnFailureListener(exception -&gt; {
                <span class="hljs-comment">// å®‰è£…å¤±è´¥å¤„ç†</span>
                handleInstallFailure(exception);
            });
    }
}
</code></pre>
<p>ä¸ƒã€æµ‹è¯•ä¸è°ƒè¯•</p>
<p>7.1 ç”Ÿå‘½å‘¨æœŸæµ‹è¯•ç­–ç•¥</p>
<p>è‡ªåŠ¨åŒ–æµ‹è¯•æ¡†æ¶ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@RunWith(AndroidJUnit4.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ActivityLifecycleTest</span> {
    <span class="hljs-meta">@Rule</span>
    <span class="hljs-keyword">public</span> ActivityScenarioRule&lt;MainActivity&gt; rule = 
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">ActivityScenarioRule</span>&lt;&gt;(MainActivity.class);
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testConfigurationChange</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿé…ç½®å˜åŒ–</span>
        ActivityScenario&lt;MainActivity&gt; scenario = rule.getScenario();
        
        <span class="hljs-comment">// éªŒè¯çŠ¶æ€ä¿å­˜</span>
        onView(withId(R.id.edit_text)).perform(typeText(<span class="hljs-string">"test"</span>));
        
        <span class="hljs-comment">// æ—‹è½¬è®¾å¤‡</span>
        scenario.recreate();
        
        <span class="hljs-comment">// éªŒè¯çŠ¶æ€æ¢å¤</span>
        onView(withId(R.id.edit_text)).check(matches(withText(<span class="hljs-string">"test"</span>)));
    }
    
    <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">testLowMemoryScenario</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// æ¨¡æ‹Ÿä½å†…å­˜æƒ…å†µ</span>
        ActivityScenario&lt;MainActivity&gt; scenario = rule.getScenario();
        
        scenario.onActivity(activity -&gt; {
            <span class="hljs-comment">// è§¦å‘ onTrimMemory</span>
            activity.getApplication().onTrimMemory(ComponentCallbacks2.TRIM_MEMORY_COMPLETE);
            
            <span class="hljs-comment">// éªŒè¯èµ„æºæ­£ç¡®é‡Šæ”¾</span>
            assertTrue(activity.areResourcesReleased());
        });
    }
}
</code></pre>
<p>7.2 æ€§èƒ½ç›‘æ§å·¥å…·</p>
<p>è‡ªå®šä¹‰æ€§èƒ½ç›‘æ§ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PerformanceMonitor</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> mActivityCreateTime;
    <span class="hljs-keyword">private</span> <span class="hljs-type">long</span> mActivityResumeTime;
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onActivityCreate</span><span class="hljs-params">()</span> {
        mActivityCreateTime = System.currentTimeMillis();
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onActivityResume</span><span class="hljs-params">()</span> {
        mActivityResumeTime = System.currentTimeMillis();
        <span class="hljs-type">long</span> <span class="hljs-variable">startupTime</span> <span class="hljs-operator">=</span> mActivityResumeTime - mActivityCreateTime;
        
        <span class="hljs-comment">// è®°å½•å¯åŠ¨æ—¶é—´</span>
        Log.d(<span class="hljs-string">"Performance"</span>, <span class="hljs-string">"Activity startup: "</span> + startupTime + <span class="hljs-string">"ms"</span>);
        
        <span class="hljs-comment">// ä¸Šä¼ åˆ°ç›‘æ§å¹³å°</span>
        uploadMetrics(startupTime);
    }
    
    <span class="hljs-comment">// ç›‘æ§å†…å­˜ä½¿ç”¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">monitorMemoryUsage</span><span class="hljs-params">()</span> {
        Debug.<span class="hljs-type">MemoryInfo</span> <span class="hljs-variable">memoryInfo</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Debug</span>.MemoryInfo();
        Debug.getMemoryInfo(memoryInfo);
        
        <span class="hljs-type">long</span> <span class="hljs-variable">totalPss</span> <span class="hljs-operator">=</span> memoryInfo.getTotalPss();
        <span class="hljs-keyword">if</span> (totalPss &gt; MEMORY_THRESHOLD) {
            <span class="hljs-comment">// å†…å­˜ä½¿ç”¨è¿‡é«˜è­¦å‘Š</span>
            reportMemoryWarning(totalPss);
        }
    }
}
</code></pre>
<p>å…«ã€æœªæ¥æ¼”è¿›è¶‹åŠ¿</p>
<p>8.1 Jetpack Compose çš„å½±å“</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Compose æ—¶ä»£çš„ Activity è§’è‰²è½¬å˜</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ComposeActivity</span> : <span class="hljs-type">ComponentActivity</span>() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(savedInstanceState: <span class="hljs-type">Bundle</span>?)</span></span> {
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        
        <span class="hljs-comment">// Activity é€€åŒ–ä¸ºçº¯ç²¹çš„å®¹å™¨</span>
        setContent {
            MyAppTheme {
                <span class="hljs-comment">// æ•´ä¸ª UI ç”± Composable å‡½æ•°æ„å»º</span>
                MainScreen(
                    onItemClick = { item -&gt;
                        <span class="hljs-comment">// å¯¼èˆªé€»è¾‘</span>
                        navigateToDetail(item)
                    }
                )
            }
        }
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">navigateToDetail</span><span class="hljs-params">(item: <span class="hljs-type">Item</span>)</span></span> {
        <span class="hljs-comment">// ä»ç„¶ä½¿ç”¨ Activity è¿›è¡Œé¡µé¢è·³è½¬</span>
        <span class="hljs-keyword">val</span> intent = Intent(<span class="hljs-keyword">this</span>, DetailActivity::<span class="hljs-keyword">class</span>.java)
        startActivity(intent)
    }
}
</code></pre>
<p>8.2 å“åº”å¼æ¶æ„çš„æ™®åŠ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å®Œå…¨çš„å“åº”å¼ Activity</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ReactiveActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">CompositeDisposable</span> <span class="hljs-variable">mDisposables</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CompositeDisposable</span>();
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        
        <span class="hljs-comment">// å“åº”å¼æ•°æ®ç»‘å®š</span>
        mDisposables.add(
            RxView.clicks(mButton)
                .throttleFirst(<span class="hljs-number">500</span>, TimeUnit.MILLISECONDS)
                .flatMap(click -&gt; apiService.loadData())
                .subscribeOn(Schedulers.io())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(data -&gt; updateUI(data), <span class="hljs-built_in">this</span>::handleError)
        );
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDestroy</span><span class="hljs-params">()</span> {
        <span class="hljs-built_in">super</span>.onDestroy();
        mDisposables.clear(); <span class="hljs-comment">// è‡ªåŠ¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸ</span>
    }
}
</code></pre>
<p>æ€»ç»“</p>
<p>Activity ä½œä¸º Android åº”ç”¨å¼€å‘çš„åŸºçŸ³ï¼Œç»å†äº†å¤šå¹´çš„æ¼”è¿›ä½†æ ¸å¿ƒåœ°ä½ä¸å˜ã€‚æ·±åº¦ç†è§£å…¶å†…éƒ¨æœºåˆ¶ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ï¼Œå¯¹äºæ„å»ºé«˜è´¨é‡ Android åº”ç”¨è‡³å…³é‡è¦ã€‚éšç€æ–°æŠ€æœ¯æ ˆçš„å‡ºç°ï¼ŒActivity çš„è§’è‰²æ­£åœ¨ä»"å…¨èƒ½æ§åˆ¶å™¨"å‘"ç”Ÿå‘½å‘¨æœŸå®¹å™¨"è½¬å˜ï¼Œä½†å…¶ä½œä¸ºç”¨æˆ·äº¤äº’å…¥å£çš„æ ¸å¿ƒä»·å€¼ä¾ç„¶ä¸å¯æ›¿ä»£ã€‚</p>
<p>å¼€å‘è€…åº”è¯¥ï¼š</p>
<ol>
<li>æŒæ¡åº•å±‚åŸç†ï¼šç†è§£ ActivityThreadã€Window ç³»ç»Ÿç­‰åº•å±‚æœºåˆ¶</li>
<li>ç²¾é€šçŠ¶æ€ç®¡ç†ï¼šç†Ÿç»ƒå¤„ç†å„ç§åœºæ™¯ä¸‹çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€æ¢å¤</li>
<li>æ³¨é‡æ€§èƒ½ä½“éªŒï¼šä¼˜åŒ–å¯åŠ¨é€Ÿåº¦ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼</li>
<li>æ‹¥æŠ±æ¶æ„æ¼”è¿›ï¼šé€‚åº” Composeã€å“åº”å¼ç¼–ç¨‹ç­‰æ–°æŠ€æœ¯è¶‹åŠ¿</li>
<li>å¼ºåŒ–æµ‹è¯•ä¿éšœï¼šå»ºç«‹å®Œå–„çš„ç”Ÿå‘½å‘¨æœŸæµ‹è¯•ä½“ç³»</li>
</ol>
<hr/>
<p>Android Activity é¢è¯•é¢˜è¯¦è§£</p>
<p>ä¸€ã€Activity åŸºç¡€æ¦‚å¿µ</p>
<ol>
<li>ä»€ä¹ˆæ˜¯ Activityï¼Ÿå®ƒåœ¨ Android ä¸­æ‰®æ¼”ä»€ä¹ˆè§’è‰²ï¼Ÿ</li>
</ol>
<ul>
<li>Activity æ˜¯ Android å››å¤§ç»„ä»¶ä¹‹ä¸€ï¼Œæ˜¯ç”¨æˆ·äº¤äº’çš„å…¥å£ç‚¹</li>
<li>å®ƒä»£è¡¨ä¸€ä¸ªå…·æœ‰ç”¨æˆ·ç•Œé¢çš„å•ä¸€å±å¹•ï¼Œè´Ÿè´£å¤„ç†ç”¨æˆ·äº¤äº’</li>
<li>æ¯ä¸ª Activity éƒ½æœ‰å…¶ç”Ÿå‘½å‘¨æœŸï¼Œç³»ç»Ÿé€šè¿‡å›è°ƒæ–¹æ³•ç®¡ç†ç”Ÿå‘½å‘¨æœŸçŠ¶æ€</li>
<li>Activity é€šè¿‡ setContentView() æ–¹æ³•åŠ è½½å¸ƒå±€æ–‡ä»¶æ¥å±•ç¤º UI</li>
</ul>
<ol start="2">
<li>Activity çš„ç”Ÿå‘½å‘¨æœŸ</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// 1. onCreate() - Activity é¦–æ¬¡åˆ›å»ºæ—¶è°ƒç”¨</span>
<span class="hljs-comment">// ç”¨äºåˆå§‹åŒ–å·¥ä½œï¼šåŠ è½½å¸ƒå±€ã€ç»‘å®šæ•°æ®ã€åˆå§‹åŒ–å˜é‡</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
    <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
}

<span class="hljs-comment">// 2. onStart() - Activity å˜ä¸ºå¯è§ä½†è¿˜æœªè¿›å…¥å‰å°</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onStart</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">super</span>.onStart();
}

<span class="hljs-comment">// 3. onResume() - Activity è¿›å…¥å‰å°ï¼Œå¯ä¸ç”¨æˆ·äº¤äº’</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onResume</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">super</span>.onResume();
}

<span class="hljs-comment">// 4. onPause() - Activity å¤±å»ç„¦ç‚¹ï¼Œä½†éƒ¨åˆ†å¯è§</span>
<span class="hljs-comment">// ç”¨äºæš‚åœåŠ¨ç”»ã€é‡Šæ”¾ç›¸æœºç­‰å ç”¨èµ„æº</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onPause</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">super</span>.onPause();
}

<span class="hljs-comment">// 5. onStop() - Activity å®Œå…¨ä¸å¯è§</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onStop</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">super</span>.onStop();
}

<span class="hljs-comment">// 6. onRestart() - ä»åœæ­¢çŠ¶æ€é‡æ–°å¯åŠ¨</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onRestart</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">super</span>.onRestart();
}

<span class="hljs-comment">// 7. onDestroy() - Activity è¢«é”€æ¯å‰è°ƒç”¨</span>
<span class="hljs-meta">@Override</span>
<span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onDestroy</span><span class="hljs-params">()</span> {
    <span class="hljs-built_in">super</span>.onDestroy();
}
</code></pre>
<p>äºŒã€Activity å¯åŠ¨æ¨¡å¼æ·±åº¦è§£æ</p>
<ol start="3">
<li>å››ç§å¯åŠ¨æ¨¡å¼åŠå…¶åº”ç”¨åœºæ™¯</li>
</ol>
<p>standardï¼ˆæ ‡å‡†æ¨¡å¼ï¼‰</p>
<ul>
<li>ç‰¹ç‚¹ï¼šæ¯æ¬¡å¯åŠ¨éƒ½åˆ›å»ºæ–°å®ä¾‹ï¼Œéµå¾ª"åè¿›å…ˆå‡º"åŸåˆ™</li>
<li>ä»»åŠ¡æ ˆï¼šæ–° Activity æ”¾å…¥å¯åŠ¨å®ƒçš„ä»»åŠ¡æ ˆ</li>
</ul>
<p>singleTopï¼ˆæ ˆé¡¶å¤ç”¨æ¨¡å¼ï¼‰</p>
<ul>
<li>ç‰¹ç‚¹ï¼šç›®æ ‡ Activity åœ¨æ ˆé¡¶æ—¶å¤ç”¨å®ä¾‹ï¼Œè°ƒç”¨ onNewIntent()</li>
<li>ä»»åŠ¡æ ˆï¼šæ£€æŸ¥æ ˆé¡¶ï¼Œä¸åœ¨æ ˆé¡¶æ—¶è¡Œä¸ºåŒ standard</li>
<li>åº”ç”¨åœºæ™¯ï¼š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é˜²æ­¢é‡å¤ç‚¹å‡»åˆ›å»ºå¤šä¸ªç›¸åŒé¡µé¢</span>
<span class="hljs-comment">// é€šçŸ¥è·³è½¬ã€æœç´¢é¡µé¢ç­‰</span>
&lt;activity 
    android:name=<span class="hljs-string">".SearchActivity"</span>
    android:launchMode=<span class="hljs-string">"singleTop"</span>/&gt;
</code></pre>
<p>singleTaskï¼ˆæ ˆå†…å¤ç”¨æ¨¡å¼ï¼‰</p>
<ul>
<li>ç‰¹ç‚¹ï¼šåœ¨æ•´ä¸ªä»»åŠ¡æ ˆä¸­ä¿æŒå”¯ä¸€å®ä¾‹ï¼Œæ¸…é™¤å…¶ä¸Šæ‰€æœ‰ Activity</li>
<li>ä»»åŠ¡æ ˆï¼šåˆ›å»ºæ–°ä»»åŠ¡æ ˆæˆ–å¯»æ‰¾ affinity åŒ¹é…çš„æ ˆ</li>
<li>åº”ç”¨åœºæ™¯ï¼š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åº”ç”¨ä¸»é¡µã€ç™»å½•é¡µç­‰å…¥å£é¡µé¢</span>
&lt;activity 
    android:name=<span class="hljs-string">".MainActivity"</span>
    android:launchMode=<span class="hljs-string">"singleTask"</span>
    android:taskAffinity=<span class="hljs-string">"com.example.app.main"</span>/&gt;
</code></pre>
<p>singleInstanceï¼ˆå•å®ä¾‹æ¨¡å¼ï¼‰</p>
<ul>
<li>ç‰¹ç‚¹ï¼šç‹¬å ä¸€ä¸ªä»»åŠ¡æ ˆï¼Œæ ˆä¸­åªæœ‰è¯¥ Activity</li>
<li>ä»»åŠ¡æ ˆï¼šå®Œå…¨éš”ç¦»çš„ä»»åŠ¡æ ˆ</li>
<li>åº”ç”¨åœºæ™¯ï¼š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ¥ç”µæ¥å¬ã€ç³»ç»ŸLauncherç­‰éœ€è¦å®Œå…¨éš”ç¦»çš„åœºæ™¯</span>
&lt;activity 
    android:name=<span class="hljs-string">".CallActivity"</span>
    android:launchMode=<span class="hljs-string">"singleInstance"</span>/&gt;
</code></pre>
<ol start="4">
<li>taskAffinity æ˜¯ä»€ä¹ˆï¼Ÿå®ƒä¸ singleTask æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ</li>
</ol>
<ul>
<li>å®šä¹‰ï¼šActivity çš„å½’å±å€¾å‘ï¼Œé»˜è®¤ä¸åº”ç”¨åŒ…åç›¸åŒ</li>
<li>ä½œç”¨ï¼šæŒ‡å®š Activity å¸Œæœ›è¿è¡Œåœ¨å“ªä¸ªä»»åŠ¡æ ˆä¸­</li>
</ul>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- å½“å¯åŠ¨ singleTask Activity æ—¶ï¼Œç³»ç»Ÿä¼šå¯»æ‰¾åŒ¹é… affinity çš„ä»»åŠ¡æ ˆ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">activity</span> 
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".ShareActivity"</span>
    <span class="hljs-attr">android:launchMode</span>=<span class="hljs-string">"singleTask"</span>
    <span class="hljs-attr">android:taskAffinity</span>=<span class="hljs-string">"com.example.share"</span>/&gt;</span>
</code></pre>
<p>ä¸ singleTask å…³ç³»ï¼š</p>
<ul>
<li>å¿…é¡»ä¸€èµ·ç”¨å—ï¼Ÿ ä¸æ˜¯å¿…é¡»çš„ã€‚</li>
<li>å¯ä»¥å•ç‹¬ä½¿ç”¨ taskAffinityï¼ˆé€šå¸¸ä¸å…¶ä»–å±æ€§å¦‚ allowTaskReparenting é…åˆï¼‰ã€‚</li>
<li>ä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨ singleTaskï¼ˆå®ƒä¼šä½¿ç”¨é»˜è®¤çš„ taskAffinityï¼Œåœ¨å½“å‰åº”ç”¨æ ˆå†…å®ç°å•ä¾‹æ•ˆæœï¼‰ã€‚</li>
<li>ä½†å½“ä½ å¸Œæœ›ä¸€ä¸ª singleTask Activity ä¸€å®šè¿è¡Œåœ¨ä¸€ä¸ªç‹¬ç«‹çš„ä»»åŠ¡æ ˆä¸­æ—¶ï¼Œä½ å°±å¿…é¡»ä¸ºå®ƒæŒ‡å®šä¸€ä¸ªä¸é»˜è®¤å€¼ä¸åŒçš„ taskAffinityã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ˜¯â€œé»„é‡‘æ­æ¡£â€ã€‚</li>
</ul>
<ol start="5">
<li>Intent Flag å¦‚ä½•å½±å“ Activity å¯åŠ¨è¡Œä¸ºï¼Ÿ</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¸¸ç”¨ Flag ç»„åˆ</span>
<span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-built_in">this</span>, TargetActivity.class);

<span class="hljs-comment">// åœºæ™¯1ï¼šæ¸…é™¤ä»»åŠ¡æ ˆå¹¶åˆ›å»ºæ–°å®ä¾‹</span>
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | 
                Intent.FLAG_ACTIVITY_CLEAR_TASK);

<span class="hljs-comment">// åœºæ™¯2ï¼šå¦‚æœå­˜åœ¨åˆ™æåˆ°å‰å°ï¼Œå¦åˆ™æ–°å»º</span>
intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | 
                Intent.FLAG_ACTIVITY_CLEAR_TOP);

<span class="hljs-comment">// åœºæ™¯3ï¼šå•ä¾‹æ¨¡å¼ï¼ˆç±»ä¼¼ singleTopï¼‰</span>
intent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);

<span class="hljs-comment">// åœºæ™¯4ï¼šä¸ä¿ç•™å†å²è®°å½•</span>
intent.setFlags(Intent.FLAG_ACTIVITY_NO_HISTORY);
</code></pre>
<p>ä¸‰ã€ç”Ÿå‘½å‘¨æœŸåœºæ™¯åˆ†æ</p>
<ol start="6">
<li>åœºæ™¯ï¼šActivity A å¯åŠ¨ Activity Bï¼Œç„¶åæŒ‰è¿”å›é”®</li>
</ol>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">A</span> onCreate â†’ <span class="hljs-selector-tag">A</span> onStart â†’ <span class="hljs-selector-tag">A</span> onResume
â†’ (ç‚¹å‡»å¯åŠ¨<span class="hljs-selector-tag">B</span>) <span class="hljs-selector-tag">A</span> onPause 
â†’ <span class="hljs-selector-tag">B</span> onCreate â†’ <span class="hljs-selector-tag">B</span> onStart â†’ <span class="hljs-selector-tag">B</span> onResume 
â†’ <span class="hljs-selector-tag">A</span> onStop
â†’ (æŒ‰è¿”å›é”®) <span class="hljs-selector-tag">B</span> onPause 
â†’ <span class="hljs-selector-tag">A</span> onRestart â†’ <span class="hljs-selector-tag">A</span> onStart â†’ <span class="hljs-selector-tag">A</span> onResume 
â†’ <span class="hljs-selector-tag">B</span> onStop â†’ <span class="hljs-selector-tag">B</span> onDestroy
</code></pre>
<ol start="7">
<li>å±å¹•æ—‹è½¬æ—¶ç”Ÿå‘½å‘¨æœŸå¦‚ä½•å˜åŒ–ï¼Ÿå¦‚ä½•ä¿å­˜æ•°æ®ï¼Ÿ</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Activity</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">KEY_DATA</span> <span class="hljs-operator">=</span> <span class="hljs-string">"data"</span>;
    <span class="hljs-keyword">private</span> String mImportantData;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        
        <span class="hljs-comment">// æ¢å¤æ•°æ®</span>
        <span class="hljs-keyword">if</span> (savedInstanceState != <span class="hljs-literal">null</span>) {
            mImportantData = savedInstanceState.getString(KEY_DATA);
        }
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSaveInstanceState</span><span class="hljs-params">(Bundle outState)</span> {
        <span class="hljs-built_in">super</span>.onSaveInstanceState(outState);
        <span class="hljs-comment">// ä¿å­˜æ•°æ®</span>
        outState.putString(KEY_DATA, mImportantData);
    }
    
    <span class="hljs-comment">// æˆ–è€…ä½¿ç”¨ ViewModel + LiveData æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ</span>
}
</code></pre>
<p>å››ã€æ•°æ®ä¼ é€’ä¸é€šä¿¡</p>
<ol start="8">
<li>Activity ä¹‹é—´å¦‚ä½•ä¼ é€’æ•°æ®ï¼Ÿ</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹æ³•1ï¼šIntent ä¼ é€’åŸºæœ¬æ•°æ®</span>
<span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-built_in">this</span>, TargetActivity.class);
intent.putExtra(<span class="hljs-string">"key_string"</span>, <span class="hljs-string">"value"</span>);
intent.putExtra(<span class="hljs-string">"key_int"</span>, <span class="hljs-number">100</span>);
intent.putExtra(<span class="hljs-string">"key_boolean"</span>, <span class="hljs-literal">true</span>);
startActivity(intent);

<span class="hljs-comment">// æ¥æ”¶æ•°æ®</span>
<span class="hljs-type">String</span> <span class="hljs-variable">value</span> <span class="hljs-operator">=</span> getIntent().getStringExtra(<span class="hljs-string">"key_string"</span>);

<span class="hljs-comment">// æ–¹æ³•2ï¼šä¼ é€’å¯¹è±¡ï¼ˆå®ç° Parcelable æˆ– Serializableï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Parcelable</span> {
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;
    
    <span class="hljs-comment">// Parcelable å®ç°...</span>
}

<span class="hljs-comment">// æ–¹æ³•3ï¼šä½¿ç”¨ Activity Result APIï¼ˆæ¨èï¼‰</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ActivityResultLauncher&lt;Intent&gt; mGetContent = 
    registerForActivityResult(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ActivityResultContracts</span>.StartActivityForResult(),
        result -&gt; {
            <span class="hljs-keyword">if</span> (result.getResultCode() == RESULT_OK) {
                <span class="hljs-type">Intent</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> result.getData();
                <span class="hljs-comment">// å¤„ç†è¿”å›æ•°æ®</span>
            }
        });
</code></pre>
<ol start="9">
<li>startActivity() å’Œ startActivityForResult() æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</li>
</ol>
<ul>
<li>startActivity()ï¼šå•å‘å¯åŠ¨ï¼Œä¸éœ€è¦è¿”å›ç»“æœ</li>
<li>startActivityForResult()ï¼šå¯åŠ¨å¹¶æœŸæœ›è¿”å›ç»“æœï¼ˆå·²è¿‡æ—¶ï¼‰</li>
<li>æ–°çš„ Activity Result APIï¼š
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ³¨å†Œç»“æœå›è°ƒ</span>
<span class="hljs-keyword">private</span> ActivityResultLauncher&lt;Intent&gt; launcher = 
    registerForActivityResult(<span class="hljs-keyword">new</span> <span class="hljs-title class_">StartActivityForResult</span>(), 
        result -&gt; {
            <span class="hljs-keyword">if</span> (result.getResultCode() == RESULT_OK) {
                <span class="hljs-comment">// å¤„ç†ç»“æœ</span>
            }
        });

<span class="hljs-comment">// å¯åŠ¨</span>
launcher.launch(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(<span class="hljs-built_in">this</span>, TargetActivity.class));
</code></pre>
</li>
</ul>
<p>äº”ã€ä»»åŠ¡æ ˆä¸å›é€€æ ˆ</p>
<ol start="10">
<li>ä»€ä¹ˆæ˜¯ä»»åŠ¡æ ˆï¼ˆTaskï¼‰ï¼Ÿå®ƒä¸è¿›ç¨‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</li>
</ol>
<ul>
<li>ä»»åŠ¡æ ˆï¼šåŒ…å«ä¸€ç³»åˆ— Activity çš„æ ˆç»“æ„ï¼Œéµå¾ªç”¨æˆ·å¯¼èˆªä½“éªŒ</li>
<li>è¿›ç¨‹ï¼šåº”ç”¨çš„è¿è¡Œå®ä¾‹ï¼Œå¯ä»¥åŒ…å«å¤šä¸ªä»»åŠ¡æ ˆ</li>
</ul>
<p>åŒºåˆ«ï¼š</p>
<ul>
<li>ä»»åŠ¡æ ˆæ˜¯é€»è¾‘æ¦‚å¿µï¼Œè¿›ç¨‹æ˜¯ç‰©ç†æ¦‚å¿µ</li>
<li>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«å¤šä¸ªä»»åŠ¡æ ˆ</li>
<li>ä»»åŠ¡æ ˆå¯ä»¥è·¨è¿›ç¨‹ï¼ˆä¸åŒåº”ç”¨çš„ Activity å¯åœ¨åŒä¸€ä»»åŠ¡æ ˆï¼‰</li>
</ul>
<ol start="11">
<li>å¦‚ä½•é…ç½® Activity åœ¨æœ€è¿‘ä»»åŠ¡åˆ—è¡¨ä¸­çš„æ˜¾ç¤ºï¼Ÿ</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span>
    <span class="hljs-attr">android:name</span>=<span class="hljs-string">".SensitiveActivity"</span>
    <span class="hljs-attr">android:excludeFromRecents</span>=<span class="hljs-string">"true"</span> &lt;!<span class="hljs-attr">--</span> <span class="hljs-attr">ä¸åœ¨æœ€è¿‘ä»»åŠ¡ä¸­æ˜¾ç¤º</span> <span class="hljs-attr">--</span>&gt;</span>
    android:taskAffinity=""
    android:launchMode="singleInstance"/&gt;
</code></pre>
<p>å…­ã€é«˜çº§è¯é¢˜ä¸æœ€ä½³å®è·µ</p>
<ol start="12">
<li>å¦‚ä½•å¤„ç† Activity å†…å­˜æ³„æ¼ï¼Ÿ</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Activity</span> {
    <span class="hljs-comment">// é”™è¯¯ç¤ºä¾‹ï¼šé™æ€å¼•ç”¨ Activity ä¸Šä¸‹æ–‡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Context sContext;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        
        <span class="hljs-comment">// é”™è¯¯åšæ³•</span>
        sContext = <span class="hljs-built_in">this</span>;
        
        <span class="hljs-comment">// æ­£ç¡®åšæ³•ï¼šä½¿ç”¨ Application Context</span>
        sContext = getApplicationContext();
    }
    
    <span class="hljs-comment">// å¼‚æ­¥ä»»åŠ¡å¯¼è‡´çš„å†…å­˜æ³„æ¼</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyAsyncTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AsyncTask</span>&lt;Void, Void, Void&gt; {
        <span class="hljs-comment">// éšå¼æŒæœ‰ Activity å¼•ç”¨</span>
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> Void <span class="hljs-title function_">doInBackground</span><span class="hljs-params">(Void... voids)</span> {
            <span class="hljs-comment">// é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
        
        <span class="hljs-comment">// è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨é™æ€å†…éƒ¨ç±» + å¼±å¼•ç”¨</span>
    }
    
    <span class="hljs-comment">// ä½¿ç”¨å¼±å¼•ç”¨çš„æ­£ç¡®å®ç°</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SafeAsyncTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AsyncTask</span>&lt;Void, Void, Void&gt; {
        <span class="hljs-keyword">private</span> WeakReference&lt;MainActivity&gt; mActivityRef;
        
        SafeAsyncTask(MainActivity activity) {
            mActivityRef = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakReference</span>&lt;&gt;(activity);
        }
        
        <span class="hljs-meta">@Override</span>
        <span class="hljs-keyword">protected</span> Void <span class="hljs-title function_">doInBackground</span><span class="hljs-params">(Void... voids)</span> {
            <span class="hljs-type">MainActivity</span> <span class="hljs-variable">activity</span> <span class="hljs-operator">=</span> mActivityRef.get();
            <span class="hljs-keyword">if</span> (activity != <span class="hljs-literal">null</span> &amp;&amp; !activity.isFinishing()) {
                <span class="hljs-comment">// ä½¿ç”¨ activity</span>
            }
            <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
        }
    }
}
</code></pre>
<ol start="13">
<li>Activity ä¸ Fragment å¦‚ä½•é€šä¿¡ï¼Ÿ</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹æ³•1ï¼šæ¥å£å›è°ƒï¼ˆæ¨èï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">OnItemClickListener</span> {
    <span class="hljs-keyword">void</span> <span class="hljs-title function_">onItemClick</span><span class="hljs-params">(String item)</span>;
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Activity</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OnItemClickListener</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onItemClick</span><span class="hljs-params">(String item)</span> {
        <span class="hljs-comment">// å¤„ç† Fragment çš„å›è°ƒ</span>
    }
}

<span class="hljs-comment">// æ–¹æ³•2ï¼šViewModelï¼ˆç°ä»£æ–¹å¼ï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SharedViewModel</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewModel</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MutableLiveData&lt;String&gt; selectedItem = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MutableLiveData</span>&lt;&gt;();
    
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">selectItem</span><span class="hljs-params">(String item)</span> {
        selectedItem.setValue(item);
    }
    
    <span class="hljs-keyword">public</span> LiveData&lt;String&gt; <span class="hljs-title function_">getSelectedItem</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> selectedItem;
    }
}

<span class="hljs-comment">// Activity å’Œ Fragment å…±äº«åŒä¸€ä¸ª ViewModel</span>
<span class="hljs-type">SharedViewModel</span> <span class="hljs-variable">model</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ViewModelProvider</span>(<span class="hljs-built_in">this</span>).get(SharedViewModel.class);
</code></pre>
<ol start="14">
<li>å¦‚ä½•å®ç° Activity çš„æ‡’åŠ è½½ï¼Ÿ</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LazyFragment</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fragment</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">isViewCreated</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">isFirstLoad</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onViewCreated</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> View view, <span class="hljs-meta">@Nullable</span> Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onViewCreated(view, savedInstanceState);
        isViewCreated = <span class="hljs-literal">true</span>;
        tryLoadData();
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserVisibleHint</span><span class="hljs-params">(<span class="hljs-type">boolean</span> isVisibleToUser)</span> {
        <span class="hljs-built_in">super</span>.setUserVisibleHint(isVisibleToUser);
        tryLoadData();
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">tryLoadData</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (getUserVisibleHint() &amp;&amp; isViewCreated &amp;&amp; isFirstLoad) {
            loadData();
            isFirstLoad = <span class="hljs-literal">false</span>;
        }
    }
    
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">loadData</span><span class="hljs-params">()</span>;
}
</code></pre>
<p>ä¸ƒã€å®é™…åœºæ™¯é—®é¢˜</p>
<ol start="15">
<li>åº”ç”¨åœ¨åå°è¢«æ€æ­»ï¼Œé‡å¯æ—¶å¦‚ä½•æ¢å¤çŠ¶æ€ï¼Ÿ</li>
</ol>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AppCompatActivity</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">KEY_USER_DATA</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user_data"</span>;
    <span class="hljs-keyword">private</span> UserData mUserData;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        
        <span class="hljs-keyword">if</span> (savedInstanceState != <span class="hljs-literal">null</span>) {
            <span class="hljs-comment">// ä» savedInstanceState æ¢å¤</span>
            mUserData = (UserData) savedInstanceState.getSerializable(KEY_USER_DATA);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// æ­£å¸¸åˆå§‹åŒ–</span>
            mUserData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserData</span>();
        }
        
        <span class="hljs-comment">// ä½¿ç”¨ ViewModel æ›´å¥½çš„å¤„ç†é…ç½®å˜åŒ–</span>
        <span class="hljs-type">MainViewModel</span> <span class="hljs-variable">viewModel</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ViewModelProvider</span>(<span class="hljs-built_in">this</span>).get(MainViewModel.class);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSaveInstanceState</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> Bundle outState)</span> {
        <span class="hljs-built_in">super</span>.onSaveInstanceState(outState);
        outState.putSerializable(KEY_USER_DATA, mUserData);
    }
}
</code></pre>
<ol start="16">
<li>å¦‚ä½•å®ç°æ·±é“¾æ¥ï¼ˆDeep Linkï¼‰ï¼Ÿ</li>
</ol>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">activity</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">".ProductActivity"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.action.VIEW"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.DEFAULT"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.BROWSABLE"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">data</span>
            <span class="hljs-attr">android:host</span>=<span class="hljs-string">"example.com"</span>
            <span class="hljs-attr">android:pathPrefix</span>=<span class="hljs-string">"/product"</span>
            <span class="hljs-attr">android:scheme</span>=<span class="hljs-string">"https"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">activity</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProductActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Activity</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> {
        <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);
        
        <span class="hljs-comment">// å¤„ç†æ·±é“¾æ¥</span>
        <span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> getIntent();
        <span class="hljs-keyword">if</span> (intent != <span class="hljs-literal">null</span> &amp;&amp; Intent.ACTION_VIEW.equals(intent.getAction())) {
            <span class="hljs-type">Uri</span> <span class="hljs-variable">data</span> <span class="hljs-operator">=</span> intent.getData();
            <span class="hljs-keyword">if</span> (data != <span class="hljs-literal">null</span>) {
                <span class="hljs-type">String</span> <span class="hljs-variable">productId</span> <span class="hljs-operator">=</span> data.getQueryParameter(<span class="hljs-string">"id"</span>);
                loadProduct(productId);
            }
        }
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openEuler åº•åº§èµ‹èƒ½ï¼šopenGauss æ•°æ®åº“éƒ¨ç½²ä¸æ€§èƒ½å®æˆ˜è¯„æµ‹]]></title>    <link>https://juejin.cn/post/7577574644695515172</link>    <guid>https://juejin.cn/post/7577574644695515172</guid>    <pubDate>2025-11-28T10:50:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577574644695515172" data-draft-id="7577461079598841875" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openEuler åº•åº§èµ‹èƒ½ï¼šopenGauss æ•°æ®åº“éƒ¨ç½²ä¸æ€§èƒ½å®æˆ˜è¯„æµ‹"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-11-28T10:50:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä½è°ƒè€Œå¥¢å"/> <meta itemprop="url" content="https://juejin.cn/user/471017354964311"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openEuler åº•åº§èµ‹èƒ½ï¼šopenGauss æ•°æ®åº“éƒ¨ç½²ä¸æ€§èƒ½å®æˆ˜è¯„æµ‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/471017354964311/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä½è°ƒè€Œå¥¢å
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-28T10:50:43.000Z" title="Fri Nov 28 2025 10:50:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">openEuler åº•åº§èµ‹èƒ½ï¼šopenGauss æ•°æ®åº“éƒ¨ç½²ä¸æ€§èƒ½å®æˆ˜è¯„æµ‹</h2>
<h3 data-id="heading-1">å‰è¨€ï¼šopenEuler ä¸ openGauss çš„èåˆä¼˜åŠ¿ä¸æµ‹è¯•ç›®æ ‡</h3>
<p>åœ¨æ•°å­—åŒ–è½¬å‹åŠ é€Ÿçš„èƒŒæ™¯ä¸‹ï¼Œæ•°æ®åº“æ€§èƒ½ä¸ç¨³å®šæ€§å·²æˆä¸ºä¼ä¸šæ ¸å¿ƒç«äº‰åŠ›çš„å…³é”®è¦ç´ ã€‚openGauss ä½œä¸ºåä¸ºå¼€æºçš„ä¼ä¸šçº§åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œä»¥å…¶å“è¶Šçš„æ€§èƒ½ä¸å¼ºå¤§çš„ç¨³å®šæ€§å¤‡å—å…³æ³¨ï¼›è€Œ openEuler ä½œä¸ºå¼€æºæ“ä½œç³»ç»Ÿï¼Œåˆ™ä¸ºå…¶æä¾›äº†é«˜åº¦å…¼å®¹ä¸”ç¨³å®šçš„ç³»ç»Ÿåº•åº§ã€‚æœ¬æ¬¡åœ¨æœåŠ¡å™¨ç¯å¢ƒä¸­æµ‹è¯• openEuler + openGauss ç»„åˆæ–¹æ¡ˆï¼Œæ—¨åœ¨å…¨é¢éªŒè¯å…¶åœ¨é«˜å¹¶å‘ã€ä¼ä¸šçº§åº”ç”¨åœºæ™¯ä¸‹çš„éƒ¨ç½²æ•ˆç‡ã€æ€§èƒ½è¡¨ç°ä¸ç³»ç»Ÿç¨³å®šæ€§ï¼Œä¸ºæ•°æ®åº“æŠ€æœ¯é€‰å‹æä¾›å¯é çš„å®è¯å‚è€ƒã€‚</p>
<h3 data-id="heading-2">æµ‹è¯•ç¯å¢ƒä¸ç³»ç»Ÿé…ç½®è¯¦è§£</h3>
<h4 data-id="heading-3">æ“ä½œç³»ç»Ÿç¯å¢ƒæ£€æµ‹ä¸ç‰ˆæœ¬ä¿¡æ¯ç¡®è®¤</h4>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ“ä½œç³»ç»Ÿä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> /etc/os-release
</code></pre>
<ul>
<li><strong>æ“ä½œç³»ç»Ÿ</strong>ï¼šopenEulerï¼Œå›½å†…ä¸»æµçš„å¼€æº Linux å‘è¡Œç‰ˆ</li>
<li><strong>ç³»ç»Ÿç‰ˆæœ¬</strong>ï¼š24.03ï¼ˆLTS-SP2ï¼‰ï¼ŒLTS è¡¨ç¤ºé•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼ŒSP2 æ˜¯è¯¥ç‰ˆæœ¬çš„ç¬¬ 2 ä¸ªæœåŠ¡åŒ…</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/286ae4be83f44be58eccc0e7f80c0468~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=ejX9gBKoJkjFVrI%2FfUpGOrJ%2Bses%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-4">æœåŠ¡å™¨ç¡¬ä»¶æ€§èƒ½å‚æ•°ä¸è®¡ç®—èµ„æºåˆ†æ</h4>
<p><strong>æŸ¥çœ‹ CPU ä¿¡æ¯ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">lscpu | grep -E <span class="hljs-string">"^(CPU|Model|Core)"</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4a2a2e347334399b1074d71cff52337~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=7b%2BRstz3qCmidtktI6AdI3DH1eM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<ul>
<li><strong>è¿ç®—æ¨¡å¼</strong>ï¼šæ”¯æŒ 32 ä½ã€64 ä½åŒæ¶æ„ï¼Œå¯é€‚é…å„ç±»ä¸»æµæœåŠ¡å™¨è½¯ä»¶çš„è¿è¡Œç¯å¢ƒ</li>
<li><strong>é€»è¾‘ CPU æ•°é‡</strong>ï¼š2 ä¸ªï¼ˆç”± 1 ä¸ªç‰©ç†æ ¸å¿ƒå¼€å¯è¶…çº¿ç¨‹å®ç°ï¼Œæ¯æ ¸å¿ƒåˆ†é… 2 çº¿ç¨‹ï¼‰</li>
<li><strong>ç‰©ç†æ ¸å¿ƒé…ç½®</strong>ï¼š1 ä¸ªç‰©ç† CPU æ’æ§½ï¼Œæ¯ä¸ªæ’æ§½ä»…å« 1 ä¸ªç‰©ç†æ ¸å¿ƒ</li>
</ul>
<p><strong>æŸ¥çœ‹å†…å­˜é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">free -h
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/946010b0a90846a8aa3a4859bfa4a09c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=xVFblgytoAEjeD0AdlvTcrokuDE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>ç¡¬ä»¶é…ç½®æ€»ç»“</strong>ï¼šç³»ç»Ÿé…å¤‡ 2 ä¸ªæ”¯æŒ 32/64 ä½çš„ Intel Xeon Platinumï¼ˆå‹å· 85ï¼‰CPUï¼ˆæ¯æ’æ§½ 1 æ ¸ï¼‰ï¼Œç‰©ç†å†…å­˜æ€»é‡ 1.6GiBï¼Œå·²ä½¿ç”¨ 342MiBã€å¯ç”¨ 1.3GiBï¼ŒSwap åˆ†åŒºå®¹é‡ä¸º 0Bã€‚</p>
<h3 data-id="heading-5">openGauss æ•°æ®åº“å®‰è£…ä¸åˆå§‹åŒ–å®æˆ˜</h3>
<h4 data-id="heading-6">ç”¨æˆ·åˆ›å»ºä¸æ•°æ®åº“å®‰è£…æ­¥éª¤è¯¦è§£</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºæ•°æ®åº“ç”¨æˆ·å’Œç»„</span>
groupadd dbgrp
useradd -g dbgrp omm
<span class="hljs-built_in">echo</span> <span class="hljs-string">"omm:OpenGauss123"</span> | chpasswd

<span class="hljs-comment"># åˆ›å»ºæ•°æ®åº“ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p /opt/opengauss/data
<span class="hljs-built_in">chown</span> -R omm:dbgrp /opt/opengauss

<span class="hljs-comment"># ä¸‹è½½å¹¶å®‰è£… openGauss</span>
wget https://opengauss.obs.cn-south-1.myhuaweicloud.com/3.1.0/x86_openEuler/openGauss-3.1.0-openEuler-64bit-all.tar.gz
tar -zxvf openGauss-3.1.0-openEuler-64bit-all.tar.gz -C /opt/opengauss

<span class="hljs-comment"># é…ç½®ç¯å¢ƒå˜é‡</span>
<span class="hljs-built_in">cat</span> &gt;&gt; /home/omm/.bashrc &lt;&lt; <span class="hljs-string">EOF
export GAUSSHOME=/opt/opengauss
export PATH=\$GAUSSHOME/bin:\$PATH
export LD_LIBRARY_PATH=\$GAUSSHOME/lib:\$LD_LIBRARY_PATH
export PGDATA=/opt/opengauss/data
EOF</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/439222c0f175412bbcace4c3a45b4fb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=JHrixvq1IYxdZrgka0idcAc0UMk%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-7">åˆå§‹åŒ– openGauss æ•°æ®åº“é›†ç¾¤ä¸å¯åŠ¨éªŒè¯</h4>
<p><strong>éªŒè¯ gs_initdb å‘½ä»¤ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ‡æ¢åˆ° omm ç”¨æˆ·</span>
su - omm

<span class="hljs-comment"># éªŒè¯ gs_initdb å‘½ä»¤ï¼ˆä¼šæ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œç¡®è®¤å¯ç”¨ï¼‰</span>
gs_initdb --version
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8d8e7c3349f44f22841e775478ac374a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=oRYOLl6qAJaXizfFskGetI5M4Gg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<blockquote>
<p>openGauss æ•°æ®åº“ç‰ˆæœ¬ï¼šgs_initdb (openGauss) 9.2.4</p>
</blockquote>
<p><strong>åˆå§‹åŒ–æ•°æ®åº“é›†ç¾¤ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆå§‹åŒ–æ•°æ®åº“</span>
gs_initdb --nodename=primary \
--pgdata=/opt/opengauss/data \
--encoding=UTF-8 \
--locale=en_US.UTF-8 \
--dbcompatibility=<span class="hljs-string">'A'</span> \
--username=omm \
--pwpasswd=<span class="hljs-string">'OpenGauss123'</span>
</code></pre>
<p><strong>å…³é”®é…ç½®è¯´æ˜ï¼š</strong></p>
<ul>
<li>æ‰§è¡Œ gs_initdb å‘½ä»¤åˆå§‹åŒ– OpenGauss æ•°æ®åº“é›†ç¾¤ï¼ŒæŒ‡å®šèŠ‚ç‚¹åç§°ä¸º primary</li>
<li>æ•°æ®åº“æ•°æ®æ–‡ä»¶å­˜å‚¨è·¯å¾„è®¾ä¸º /opt/opengauss/data</li>
<li>é…ç½®æ•°æ®åº“å­—ç¬¦ç¼–ç ä¸º UTF-8ã€åŒºåŸŸæ ¼å¼ä¸º en_US.UTF-8</li>
<li>é€šè¿‡ --dbcompatibility='A' å‚æ•°å¼€å¯ Oracle å…¼å®¹æ¨¡å¼</li>
<li>åˆ›å»º OpenGauss é»˜è®¤è¶…çº§ç”¨æˆ· omm å¹¶è®¾ç½®å¯†ç ä¸º OpenGauss123</li>
</ul>
<p><strong>å¯åŠ¨æ•°æ®åº“æœåŠ¡ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨æ•°æ®åº“æœåŠ¡</span>
gs_ctl start -D /opt/opengauss/data

<span class="hljs-comment"># éªŒè¯æ•°æ®åº“çŠ¶æ€</span>
gs_ctl status -D /opt/opengauss/data
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca6f640370cd4b259b65f0d44e7d02b8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=s4yGpFYLijXxgghPsJtBnjGV7Cs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af95f434b8cf415fa294f784e16c7664~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=5m0ftZnMEzyhJ1DT0nGaWaxXf9Q%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>å¯åŠ¨ç»“æœåˆ†æï¼š</strong></p>
<ul>
<li>é€šè¿‡ <code>gs_ctl</code> å®Œæˆæ•°æ®åº“å¯åŠ¨æ“ä½œï¼Œæç¤º "server started"ï¼Œç¡®è®¤æ•°æ®åº“æ•°æ®ç›®å½•ä¸º <code>/opt/opengauss/data</code></li>
<li>æ‰§è¡Œ <code>gs_ctl status</code> æŸ¥è¯¢çŠ¶æ€ï¼Œç»“æœæ˜¾ç¤ºæ•°æ®åº“æœåŠ¡å™¨å¤„äºè¿è¡ŒçŠ¶æ€ï¼Œå¯¹åº”çš„è¿›ç¨‹ PID ä¸º 18410</li>
<li>å¯åŠ¨çš„æ•°æ®åº“è¿›ç¨‹ä¸º <code>/opt/opengauss/bin/gaussdb</code>ï¼Œå¹¶æŒ‡å®šäº†æ•°æ®ç›®å½• <code>/opt/opengauss/data</code></li>
</ul>
<h4 data-id="heading-8">æ•°æ®åº“è¿æ¥éªŒè¯ä¸åŸºç¡€è¿ç»´å‘½ä»¤æ€»ç»“</h4>
<p><strong>è¿æ¥æ•°æ®åº“æµ‹è¯•ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- è¿æ¥æ•°æ®åº“</span>
gsql <span class="hljs-operator">-</span>d postgres <span class="hljs-operator">-</span>U omm <span class="hljs-operator">-</span>W <span class="hljs-string">'OpenGauss123'</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/638a13a3042d4f2b9e96a49005c21755~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=qlDcypr%2FBOO7mRzBjW5VH80i%2BSA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>è¿æ¥éªŒè¯è¯´æ˜ï¼š</strong></p>
<ul>
<li>è¿æ¥æˆåŠŸåè¿›å…¥ postgres=# äº¤äº’ç•Œé¢ï¼Œè¯´æ˜æ•°æ®åº“å¯ç”¨</li>
<li>å¯æ‰§è¡Œç®€å• SQL æµ‹è¯•ï¼šè¾“å…¥ select version(); å›è½¦ï¼Œä¼šæ˜¾ç¤º openGauss ç‰ˆæœ¬ä¿¡æ¯</li>
<li>é€€å‡ºäº¤äº’ç•Œé¢ï¼šè¾“å…¥ \q å›è½¦å³å¯</li>
</ul>
<p><strong>æ—¥å¸¸æ ¸å¿ƒè¿ç»´å‘½ä»¤ï¼š</strong></p>
<ul>
<li>åœæ­¢æ•°æ®åº“ï¼šgs_ctl stop -D /opt/opengauss/data</li>
<li>é‡å¯æ•°æ®åº“ï¼šgs_ctl restart -D /opt/opengauss/data</li>
<li>æŸ¥çœ‹è¿è¡Œæ—¥å¿—ï¼štail -f /opt/opengauss/data/start.logï¼ˆæ’æŸ¥é—®é¢˜ç”¨ï¼‰</li>
<li>å†æ¬¡è¿æ¥ï¼šç›´æ¥å¤ç”¨ä¸Šé¢çš„ gsql å‘½ä»¤å³å¯</li>
</ul>
<h3 data-id="heading-9">åŸºç¡€æ€§èƒ½æµ‹è¯•ï¼šopenGauss æŸ¥è¯¢æ€§èƒ½ä¸ QPS è¯„ä¼°</h3>
<p><strong>ç”Ÿæˆå¸¦è®¡æ•°åŠŸèƒ½çš„æµ‹è¯•è„šæœ¬ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">'#!/bin/bash
# è®°å½•å½“å‰è¿›ç¨‹çš„æŸ¥è¯¢æ¬¡æ•°ï¼Œè¾“å‡ºåˆ°ä¸´æ—¶æ–‡ä»¶
count=0
end=$((SECONDS + $1))
while [ $SECONDS -lt $end ]; do
  # æ‰§è¡ŒæŸ¥è¯¢ï¼ˆæˆåŠŸåˆ™è®¡æ•°+1ï¼‰
  gsql -d postgres -U omm -p 5432 -W "OpenGauss123" -h 127.0.0.1 -c "select 1;" &gt; /dev/null 2&gt;&amp;1 &amp;&amp; ((count++))
done
# æŠŠå½“å‰è¿›ç¨‹çš„è®¡æ•°å†™å…¥ä¸´æ—¶æ–‡ä»¶ï¼ˆæ¯ä¸ªè¿›ç¨‹ä¸€ä¸ªæ–‡ä»¶ï¼Œé¿å…å†²çªï¼‰
echo $count &gt; /tmp/test_count_$$.tmp'</span> &gt; /tmp/simple_test.sh
</code></pre>
<p><strong>ç¡®ä¿è„šæœ¬æœ‰æ‰§è¡Œæƒé™ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x /tmp/simple_test.sh
</code></pre>
<p><strong>å¯åŠ¨æµ‹è¯•ï¼ˆ20 å¹¶å‘ã€60 ç§’ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨æµ‹è¯•</span>
<span class="hljs-keyword">for</span> ((i=<span class="hljs-number">1</span>; i&lt;=<span class="hljs-number">20</span>; i++)); <span class="hljs-keyword">do</span> /tmp/simple_test.sh 60 &amp; <span class="hljs-keyword">done</span>; <span class="hljs-built_in">wait</span>
</code></pre>
<p><strong>ç²¾å‡†ç»Ÿè®¡ QPSï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ±‡æ€»æ‰€æœ‰è¿›ç¨‹çš„æŸ¥è¯¢æ¬¡æ•°ï¼ˆæ±‚å’Œï¼‰</span>
total=$(<span class="hljs-built_in">cat</span> /tmp/test_count_*.tmp 2&gt;/dev/null | awk <span class="hljs-string">'{sum+=$1} END {print sum}'</span>)
<span class="hljs-comment"># è®¡ç®—QPSï¼ˆæ€»æ¬¡æ•°/æµ‹è¯•ç§’æ•°ï¼‰</span>
qps=$((total / <span class="hljs-number">60</span>))
<span class="hljs-comment"># è¾“å‡ºç»“æœ</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æµ‹è¯•ç»“æœï¼š"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ€»æŸ¥è¯¢æ¬¡æ•°ï¼š<span class="hljs-variable">$total</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æµ‹è¯•æ—¶é•¿ï¼š60ç§’"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¹¶å‘æ•°ï¼š20"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ç²¾å‡†QPSï¼ˆæ¯ç§’æŸ¥è¯¢æ•°ï¼‰ï¼š<span class="hljs-variable">$qps</span>"</span>
<span class="hljs-comment"># æ¸…ç†ä¸´æ—¶æ–‡ä»¶ï¼ˆå¯é€‰ï¼Œä¸å ç©ºé—´ï¼‰</span>
<span class="hljs-built_in">rm</span> -f /tmp/test_count_*.tmp
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2eba2e74cff4830aad947727fd580b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=1p3zA4FLiP7ehpX%2B0dAiO8Yo3a8%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>æµ‹è¯•ç»“æœåˆ†æï¼š</strong> åœ¨ 20 å¹¶å‘ã€60 ç§’çš„ç®€å•æŸ¥è¯¢æµ‹è¯•ä¸­ï¼ŒopenGauss è¡¨ç°ç¨³å®šï¼ŒQPSï¼ˆæ¯ç§’æŸ¥è¯¢æ•°ï¼‰è¾¾ 60ï¼Œå±äºåŸºç¡€åœºæ™¯ä¸‹çš„æ­£å¸¸æ€§èƒ½æ°´å¹³ã€‚</p>
<h3 data-id="heading-10">é«˜å¹¶å‘æ€§èƒ½è¯„ä¼°ï¼šopenGauss åœ¨å¤šçº¿ç¨‹åœºæ™¯ä¸‹çš„ç¨³å®šæ€§éªŒè¯</h3>
<p><strong>åˆ›å»ºé«˜å¹¶å‘å‹æµ‹è„šæœ¬ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">'#!/bin/bash
# æç®€é«˜å¹¶å‘å‹æµ‹è„šæœ¬ï¼ˆommå®¶ç›®å½•ç‰ˆï¼Œæ— æƒé™é—®é¢˜ï¼‰
CONCURRENT=${1:-50}
DURATION=${2:-60}
TMP_DIR="$HOME/pg_test"
mkdir -p $TMP_DIR &amp;&amp; rm -f $TMP_DIR/*

# å‰ç½®æ£€æµ‹æ•°æ®åº“è¿æ¥
echo "ğŸ” æ£€æµ‹æ•°æ®åº“è¿æ¥..."
if ! gsql -d postgres -U omm -p 5432 -W "OpenGauss123" -h 127.0.0.1 -c "select 1;" &gt; /dev/null 2&gt;&amp;1; then
  echo "âŒ è¿æ¥å¤±è´¥ï¼è¯·æ£€æŸ¥ï¼š1.å¯†ç æ˜¯å¦ä¸ºOpenGauss123 2.æ•°æ®åº“æ˜¯å¦å¯åŠ¨ 3.ç«¯å£æ˜¯å¦5432"
  exit 1
fi
echo "âœ… è¿æ¥æ­£å¸¸ï¼Œå¼€å§‹å‹æµ‹ï¼"

# æ˜¾ç¤ºé…ç½®
echo -e "\n====================================="
echo "å¹¶å‘æ•°ï¼š$CONCURRENT | æµ‹è¯•æ—¶é•¿ï¼š$DURATION ç§’"
echo "====================================="

# å¯åŠ¨å¹¶å‘æµ‹è¯•
for ((i=1; i&lt;=CONCURRENT; i++)); do
  (
    count=0
    end=$((SECONDS + DURATION))
    while [ $SECONDS -lt $end ]; do
      gsql -d postgres -U omm -p 5432 -W "OpenGauss123" -h 127.0.0.1 -c "select 1;" &gt; /dev/null 2&gt;&amp;1 &amp;&amp; ((count++))
    done
    echo $count &gt; $TMP_DIR/count_$i.txt
  ) &amp;
done

# å®æ—¶è¿›åº¦
echo -n "æµ‹è¯•è¿›åº¦ï¼š"
for ((t=1; t&lt;=DURATION; t++)); do
  echo -n "$t "
  sleep 1
done
echo -e "\n====================================="

# æ±‡æ€»ç»“æœï¼ˆæ— awkï¼Œçº¯Shellå¾ªç¯ï¼‰
wait
total=0
for file in $TMP_DIR/count_*.txt; do
  num=$(cat $file 2&gt;/dev/null || echo 0)
  total=$((total + num))
done

# è®¡ç®—æŒ‡æ ‡
qps=$((total / DURATION))
latency=$(( total &gt; 0 ? (DURATION * 1000) / total : "N/A" ))

# è¾“å‡ºç»“æœ
echo "ğŸ“Š å‹æµ‹ç»“æœï¼š"
echo "æ€»æˆåŠŸæŸ¥è¯¢ï¼š$total æ¬¡"
echo "QPSï¼š$qps"
echo "å¹³å‡å»¶è¿Ÿï¼š$latency æ¯«ç§’"
echo "å¹¶å‘æ•°ï¼š$CONCURRENT | æ—¶é•¿ï¼š$DURATION ç§’"
echo "====================================="

# æ¸…ç†æ–‡ä»¶
rm -rf $TMP_DIR
echo "âœ… æµ‹è¯•ç»“æŸï¼"
'</span> &gt; ~/simple_high.sh
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a3f19a676c2494a8131e4f6aaaea51b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=Rkz%2BJXTCPISaM%2BRmVkhT%2F%2Fw%2FQb4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>æ·»åŠ æ‰§è¡Œæƒé™ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x ~/simple_high.sh
</code></pre>
<p><strong>ä¸€é”®å¯åŠ¨é«˜å¹¶å‘æµ‹è¯•ï¼ˆé»˜è®¤ 50 å¹¶å‘ã€60 ç§’ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">~/simple_high.sh 50 60
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42ed0851dfa1455daa2b683eab48b91d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=YCZwzyubqLYactXy9yxAkkx%2FkNo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>é«˜å¹¶å‘æµ‹è¯•ç»“æœåˆ†æï¼š</strong></p>
<p>æœ¬æ¬¡ 50 å¹¶å‘ã€60 ç§’è½»é‡åªè¯»ï¼ˆselect 1;ï¼‰å‹æµ‹ç»“æœè¡¨ç°äº®çœ¼ï¼ŒopenGauss è¡¨ç°ç¨³å®šä¸”å“åº”è¿…é€Ÿï¼Œæ ¸å¿ƒæ€§èƒ½å®Œå…¨æ»¡è¶³ä¸­å°å‹åº”ç”¨åŸºç¡€å¹¶å‘éœ€æ±‚ï¼š</p>
<ul>
<li><strong>æ€»æˆåŠŸæŸ¥è¯¢æ¬¡æ•°</strong>ï¼š3912 æ¬¡ï¼Œå…¨ç¨‹æ— å¤±è´¥ï¼Œæ•°æ®åº“å¯ç”¨æ€§ 100%</li>
<li><strong>QPSï¼ˆæ¯ç§’æŸ¥è¯¢æ•°ï¼‰</strong>ï¼š65ï¼Œ50 å¹¶å‘ä¸‹ä¸­ç­‰åä¸Šï¼ŒåŸºç¡€å¤„ç†èƒ½åŠ›è¾¾æ ‡</li>
<li><strong>å¹³å‡å»¶è¿Ÿ</strong>ï¼š15 æ¯«ç§’ï¼Œè¿œä½äº 50ms å¯æ¥å—é˜ˆå€¼ï¼Œç”¨æˆ·æ“ä½œæ— æ„ŸçŸ¥</li>
<li><strong>æµ‹è¯•æ¡ä»¶</strong>ï¼š50 å¹¶å‘ã€60 ç§’æ—¶é•¿ï¼Œæœªè¶…å‡ºæ•°æ®åº“é»˜è®¤æ‰¿è½½èŒƒå›´</li>
</ul>
<h3 data-id="heading-11">æœåŠ¡å™¨äº‘ç›‘æ§è§†å›¾åˆ†æï¼šCPUã€å†…å­˜ä¸ç½‘ç»œæ€§èƒ½å¯è§†åŒ–</h3>
<h4 data-id="heading-12">ç³»ç»Ÿæ€»ä½“ç›‘æ§è§†å›¾</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c04ea1b62824891a94cd7125381c93d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=pBgMfWO1qqPe4bOYn09BcxOIr1o%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>æ€»ä½“æ€§èƒ½åˆ†æï¼š</strong> openGauss æ•°æ®åº“åœ¨æµ‹è¯•æœŸé—´ç³»ç»Ÿæ•´ä½“è¿è¡Œå¹³ç¨³ï¼Œå„é¡¹æ€§èƒ½æŒ‡æ ‡æ³¢åŠ¨åˆç†ã€‚CPU ä½¿ç”¨ç‡åœ¨æµ‹è¯•é«˜å³°æœŸå‡ºç°å¤šæ¬¡çŸ­æš‚ä¸Šå‡ï¼Œæœ€é«˜æ¥è¿‘ 80%ï¼Œè¯´æ˜æ•°æ®åº“åœ¨å¹¶å‘æŸ¥è¯¢å’Œå†™å…¥é˜¶æ®µèµ„æºå ç”¨å¢åŠ ä½†ä»ä¿æŒå¯æ§ã€‚ç½‘ç»œå¸¦å®½ä¸ç£ç›˜ IOPS æ›²çº¿åŒæ­¥ä¸Šå‡ï¼Œåæ˜ å‡ºåœ¨é«˜è´Ÿè½½åœºæ™¯ä¸‹æ•°æ®è¯»å†™æ´»è·ƒã€‚ç£ç›˜åå BPS æ•´ä½“å¹³ç¨³ï¼Œè¯´æ˜å­˜å‚¨æ€§èƒ½ç¨³å®šï¼Œæ— æ˜æ˜¾ç“¶é¢ˆã€‚æ€»ä½“è€Œè¨€ï¼ŒopenEuler + openGauss åœ¨æœåŠ¡å™¨ç¯å¢ƒä¸‹èƒ½é«˜æ•ˆå“åº”è´Ÿè½½å˜åŒ–ï¼Œå…·å¤‡è‰¯å¥½çš„ç³»ç»Ÿç¨³å®šæ€§ä¸æ€§èƒ½é€‚åº”æ€§ã€‚</p>
<h4 data-id="heading-13">æ“ä½œç³»ç»Ÿèµ„æºä½¿ç”¨ç›‘æ§åˆ†æ</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1f3f5bb90239440785d59a5fde6ef4e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=590fjw1uAwmNQQn92XxTtig7zkM%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>èµ„æºä½¿ç”¨åˆ†æï¼š</strong> ä»ç›‘æ§æ•°æ®æ¥çœ‹ï¼Œç³»ç»Ÿæ•´ä½“è¿è¡Œç¨³å®šï¼Œæ€§èƒ½è¡¨ç°è‰¯å¥½ã€‚CPU ä½¿ç”¨ç‡åœ¨é«˜å¹¶å‘é˜¶æ®µå‡ºç°æ˜æ˜¾æ³¢å³°ï¼Œæœ€é«˜æ¥è¿‘ 80%ï¼Œè¡¨æ˜æ•°æ®åº“åœ¨æ‰§è¡Œå¤æ‚æŸ¥è¯¢å’Œå†™å…¥æ“ä½œæ—¶èµ„æºåˆ©ç”¨å……åˆ†ã€‚å†…å­˜ä½¿ç”¨ç‡ç¨³å®šç»´æŒåœ¨ 25% å·¦å³ï¼Œè¯´æ˜ç³»ç»Ÿå…·å¤‡è‰¯å¥½çš„å†…å­˜ç®¡ç†èƒ½åŠ›ã€‚ç³»ç»Ÿå¹³å‡è´Ÿè½½åœ¨æµ‹è¯•åæœŸæœ‰æ‰€ä¸Šå‡ï¼Œä½†å§‹ç»ˆä¿æŒåœ¨åˆç†åŒºé—´å†…ï¼Œæ— è¿‡è½½æƒ…å†µã€‚ç£ç›˜åˆ©ç”¨ç‡ä¸ IOPS æŒ‡æ ‡åœ¨è´Ÿè½½é«˜å³°æ—¶çŸ­æš‚æå‡ï¼Œéšåè¿…é€Ÿå›è½ï¼Œæ˜¾ç¤ºå‡ºç£ç›˜è¯»å†™æ€§èƒ½å……è¶³ä¸”å“åº”è¿…é€Ÿã€‚</p>
<h4 data-id="heading-14">ç½‘ç»œååä¸è¿æ¥æ€§èƒ½ç›‘æ§ç»“æœ</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6b7380849784f2fbd1ab45dbdb61141~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L2O6LCD6ICM5aWi5Y2O:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764931843&amp;x-signature=OD2hWp0E0spYTKvKw%2BTOBzsDMCI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>ç½‘ç»œæ€§èƒ½åˆ†æï¼š</strong> ç½‘ç»œç›‘æ§å›¾è¡¨å¯ä»¥çœ‹å‡ºï¼Œç³»ç»Ÿåœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ç½‘ç»œé€šä¿¡æ•´ä½“ç¨³å®šï¼Œæ— å¼‚å¸¸æ³¢åŠ¨ã€‚ç½‘å¡å¸¦å®½åœ¨æ•°æ®äº¤äº’é«˜å³°æ—¶çŸ­æš‚ä¸Šå‡ï¼Œå³°å€¼çº¦ä¸º 8â€“10 Mbit/sï¼Œè¡¨æ˜æ•°æ®åº“åœ¨å¹¶å‘è®¿é—®é˜¶æ®µäº§ç”Ÿäº†é›†ä¸­æµé‡ã€‚æµå…¥æµå‡ºåŒ…é€Ÿç‡ä¸å¸¦å®½å˜åŒ–ä¸€è‡´ï¼Œç½‘ç»œè¿æ¥æ•°åœ¨é«˜å¹¶å‘æœŸé—´å‡ºç°æ˜æ˜¾å¢é•¿ï¼Œä½†è¿æ¥ä¿æŒç¨³å®šï¼Œæ— ä¸­æ–­æˆ–å¼‚å¸¸æ–­å¼€ã€‚é”™è¯¯åŒ…ä¸ä¸¢åŒ…ç‡å§‹ç»ˆä¸ºé›¶ï¼Œè¯´æ˜ç½‘ç»œä¼ è¾“å¯é æ€§é«˜ã€‚</p>
<h3 data-id="heading-15">æ€»ç»“</h3>
<p>æœ¬æ¬¡åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²çš„ openEuler + openGauss ç¯å¢ƒè¿è¡Œç¨³å®šï¼Œæ€§èƒ½è¡¨ç°ä¼˜å¼‚ã€‚ä»å®‰è£…éƒ¨ç½²åˆ°æ€§èƒ½æµ‹è¯•çš„å®Œæ•´æµç¨‹éªŒè¯äº†è¯¥ç»„åˆæ–¹æ¡ˆçš„å®é™…å¯è¡Œæ€§ï¼š</p>
<ol>
<li><strong>éƒ¨ç½²æ•ˆç‡</strong>ï¼šopenEuler ç³»ç»Ÿä¸ openGauss æ•°æ®åº“çš„å®‰è£…é…ç½®è¿‡ç¨‹é¡ºåˆ©ï¼Œç¯å¢ƒä¾èµ–ç®€å•ï¼Œéƒ¨ç½²æ•ˆç‡é«˜</li>
<li><strong>æ€§èƒ½è¡¨ç°</strong>ï¼šåŸºç¡€æŸ¥è¯¢æµ‹è¯• QPS è¾¾ 60ï¼Œé«˜å¹¶å‘åœºæ™¯ä¸‹ï¼ˆ50 å¹¶å‘ï¼‰QPS ç¨³å®šåœ¨ 65ï¼Œå¹³å‡å»¶è¿Ÿä»… 15 æ¯«ç§’ï¼Œæ€§èƒ½è¡¨ç°è‰¯å¥½</li>
<li><strong>ç³»ç»Ÿç¨³å®šæ€§</strong>ï¼šåœ¨æŒç»­é«˜è´Ÿè½½æµ‹è¯•ä¸­ï¼Œç³»ç»Ÿèµ„æºå ç”¨åˆç†ï¼Œæ— å¼‚å¸¸å´©æºƒæˆ–æ€§èƒ½éª¤é™ï¼Œè¡¨ç°å‡ºè‰¯å¥½çš„ç¨³å®šæ€§</li>
<li><strong>èµ„æºåˆ©ç”¨</strong>ï¼šCPUã€å†…å­˜ã€ç£ç›˜å’Œç½‘ç»œèµ„æºåœ¨è´Ÿè½½ä¸‹æ³¢åŠ¨æ­£å¸¸ï¼Œæ— æ˜æ˜¾çš„æ€§èƒ½ç“¶é¢ˆ</li>
</ol>
<p>æ•´ä½“éªŒè¯äº† openEuler ä¸ openGauss åœ¨äº‘ç«¯ç¯å¢ƒä¸‹çš„é«˜å…¼å®¹æ€§ä¸é«˜æ€§èƒ½ï¼Œå…·å¤‡ä¼ä¸šçº§æ•°æ®åº“éƒ¨ç½²ä¸æ€§èƒ½æµ‹è¯•çš„å®é™…å‚è€ƒä»·å€¼ï¼Œä¸ºæ•°æ®åº“æŠ€æœ¯é€‰å‹æä¾›äº†å¯é çš„å®è¯ä¾æ®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€é¸¿è’™å¼€å‘å®æˆ˜ç¯‡ã€‘é¸¿è’™è·¨è®¾å¤‡çš„ç¢°ä¸€ç¢°æ–‡ä»¶åˆ†äº«]]></title>    <link>https://juejin.cn/post/7577668116526039086</link>    <guid>https://juejin.cn/post/7577668116526039086</guid>    <pubDate>2025-11-29T03:10:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7577668116526039086" data-draft-id="7577663384422907955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€é¸¿è’™å¼€å‘å®æˆ˜ç¯‡ã€‘é¸¿è’™è·¨è®¾å¤‡çš„ç¢°ä¸€ç¢°æ–‡ä»¶åˆ†äº«"/> <meta itemprop="keywords" content="HarmonyOS,ArkTS,ArkUI"/> <meta itemprop="datePublished" content="2025-11-29T03:10:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¨å“¥çˆ±ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2242659450109575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€é¸¿è’™å¼€å‘å®æˆ˜ç¯‡ã€‘é¸¿è’™è·¨è®¾å¤‡çš„ç¢°ä¸€ç¢°æ–‡ä»¶åˆ†äº«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2242659450109575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¨å“¥çˆ±ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-11-29T03:10:28.000Z" title="Sat Nov 29 2025 03:10:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-11-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ V å“¥ã€‚ä»Šå¤©æˆ‘ä»¬æ¥æ·±å…¥æ¢è®¨å¦‚ä½•åœ¨ <strong>HarmonyOS 6.0ï¼ˆAPI 21ï¼‰</strong> ä¸­ä½¿ç”¨ <strong>Share Kit</strong> å®ç°è·¨è®¾å¤‡çš„â€œç¢°ä¸€ç¢°â€æ–‡ä»¶åˆ†äº«åŠŸèƒ½ã€‚è¿™ä¸€èƒ½åŠ›æ˜¯é¸¿è’™â€œä¸€å¤šâ€è®¾è®¡ç†å¿µï¼ˆä¸€æ¬¡å¼€å‘ï¼Œå¤šç«¯éƒ¨ç½²ï¼‰çš„æ ¸å¿ƒä½“ç°ï¼Œå¯å¤§å¹…æå‡æ‰‹æœºä¸é¸¿è’™ç”µè„‘ã€å¹³æ¿ç­‰è®¾å¤‡é—´çš„äº¤äº’æ•ˆç‡ã€‚ä¸‹é¢ç»“åˆå®Œæ•´æ¡ˆä¾‹ï¼Œè¯¦ç»†æ‹†è§£å®ç°æ­¥éª¤ã€‚</p>
<p>è”ç³»Vå“¥è·å– <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huawei.com%2Fconsumer%2Fcn%2Ftraining%2FclassDetail%2F042cb1cc4d7d44ecbdbd902fd1275dcc%3Ftype%3D1%3Fha_source%3Dhmosclass%26ha_sourceId%3D89000248" target="_blank" title="https://developer.huawei.com/consumer/cn/training/classDetail/042cb1cc4d7d44ecbdbd902fd1275dcc?type=1?ha_source=hmosclass&amp;ha_sourceId=89000248" ref="nofollow noopener noreferrer">é¸¿è’™å­¦ä¹ èµ„æ–™</a></p>
<hr/>
<p><strong>ä¸€ã€åŠŸèƒ½æ¦‚è¿°ä¸å‰ç½®æ¡ä»¶</strong>
<strong>1. <strong>ç¢°ä¸€ç¢°åˆ†äº«çš„æ ¸å¿ƒèƒ½åŠ›</strong></strong></p>
<ul>
<li><strong>åœºæ™¯æ”¯æŒ</strong>ï¼šä¼ è¾“å›¾ç‰‡/è§†é¢‘ã€å…±äº«Wi-Fiå¯†ç ã€åˆ†äº«æ–‡æ¡£åˆ°æŒ‡å®šåº”ç”¨çª—å£ï¼ˆå¦‚ç›´æ¥å‘é€åˆ°ç”µè„‘çš„ç¾å›¾ç§€ç§€ï¼‰ã€‚</li>
<li><strong>è®¾å¤‡è¦æ±‚</strong>ï¼š
<ul>
<li>åŒç«¯è®¾å¤‡éœ€ä¸º <strong>HarmonyOS 5.0.0.102 SP6 åŠä»¥ä¸Šç‰ˆæœ¬</strong>ï¼ˆå¯ç”¨ <code>canIUse</code> æ£€æµ‹ï¼‰ã€‚</li>
<li>è®¾å¤‡éœ€äº®å±ã€è§£é”ï¼Œä¸”å¼€å¯åä¸ºåˆ†äº«æœåŠ¡ï¼ˆç³»ç»Ÿé»˜è®¤å¼€å¯ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>è§¦å‘æ–¹å¼</strong>ï¼šè®¾å¤‡é¡¶éƒ¨è½»ç¢°ï¼ˆæ‰‹æœºç¢°æ‰‹æœºã€æ‰‹æœºç¢°é¸¿è’™ç”µè„‘ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-0">2. <strong>å¼€å‘ç¯å¢ƒé…ç½®</strong></h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// module.json5 ä¾èµ–é…ç½®</span>
<span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"@kit.ShareKit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&gt; 12.0.0"</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// Share Kit æ ¸å¿ƒåº“</span>
  <span class="hljs-attr">"@kit.CoreFileKit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"&gt; 12.0.0"</span> <span class="hljs-comment">// æ–‡ä»¶è·¯å¾„å¤„ç†</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<p><strong>äºŒã€å®ç°æ­¥éª¤ä¸ä»£ç è¯¦è§£</strong></p>
<h4 data-id="heading-1">æ­¥éª¤1ï¼šæƒé™å£°æ˜ä¸èƒ½åŠ›æ£€æµ‹</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨åº”ç”¨å¯åŠ¨æ—¶æ£€æµ‹ç¢°ä¸€ç¢°æ”¯æŒæ€§</span>
<span class="hljs-keyword">import</span> { harmonyShare } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ShareKit'</span>;

<span class="hljs-keyword">if</span> (!harmonyShare.<span class="hljs-title function_">canIUse</span>(<span class="hljs-string">'SystemCapability.Collaboration.HarmonyShare'</span>)) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å½“å‰è®¾å¤‡ä¸æ”¯æŒç¢°ä¸€ç¢°åˆ†äº«ï¼"</span>);
}
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šéœ€åœ¨ <code>module.json5</code> ä¸­å£°æ˜æƒé™ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"requestPermissions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
  <span class="hljs-punctuation">{</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ohos.permission.COLLABORATION"</span> <span class="hljs-punctuation">}</span>  <span class="hljs-comment">// è·¨è®¾å¤‡åä½œæƒé™</span>
<span class="hljs-punctuation">]</span>
</code></pre>
<p><strong>æ­¥éª¤2ï¼šæ³¨å†Œç¢°ä¸€ç¢°ç›‘å¬äº‹ä»¶</strong>
åœ¨å¯åˆ†äº«é¡µé¢ï¼ˆå¦‚å›¾åº“é¢„è§ˆé¡µï¼‰æ³¨å†Œç›‘å¬ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { fileUri } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.CoreFileKit'</span>;

<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">SharePage</span> {
  <span class="hljs-comment">// å®šä¹‰å›è°ƒå‡½æ•°å¤„ç†åˆ†äº«ç›®æ ‡</span>
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">immersiveCallback</span>(<span class="hljs-params">sharableTarget: harmonyShare.SharableTarget</span>) {
    <span class="hljs-comment">// æ­¥éª¤3åœ¨æ­¤æ„é€ åˆ†äº«æ•°æ®</span>
  }

  <span class="hljs-title function_">onPageShow</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ³¨å†Œç¢°ä¸€ç¢°ç›‘å¬</span>
    harmonyShare.<span class="hljs-title function_">on</span>(<span class="hljs-string">'knockShare'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">immersiveCallback</span>);
  }

  <span class="hljs-title function_">onPageHide</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// å–æ¶ˆç›‘å¬é¿å…å†²çª</span>
    harmonyShare.<span class="hljs-title function_">off</span>(<span class="hljs-string">'knockShare'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">immersiveCallback</span>);
  }
}
</code></pre>
<p><strong>æ­¥éª¤3ï¼šæ„é€ åˆ†äº«æ•°æ®å¹¶è§¦å‘åˆ†äº«</strong>
ä»¥åˆ†äº«å›¾ç‰‡ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">private</span> <span class="hljs-title function_">immersiveCallback</span>(<span class="hljs-params">sharableTarget: harmonyShare.SharableTarget</span>) {
  <span class="hljs-comment">// 1. è·å–å›¾ç‰‡è·¯å¾„ï¼ˆéœ€è½¬æ¢ä¸ºURIï¼‰</span>
  <span class="hljs-keyword">const</span> imagePath = <span class="hljs-string">'/data/storage/.../cache/image.png'</span>;
  <span class="hljs-keyword">const</span> imageUri = fileUri.<span class="hljs-title function_">getUriFromPath</span>(imagePath); <span class="hljs-comment">// å…³é”®ï¼ç›´æ¥è·¯å¾„æ— æ•ˆ</span>

  <span class="hljs-comment">// 2. æ„é€ åˆ†äº«æ•°æ®ï¼ˆä½¿ç”¨å¡ç‰‡æ¨¡æ¿ï¼‰</span>
  <span class="hljs-keyword">const</span> shareData = {
    <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">IMAGE</span>, <span class="hljs-comment">// æ–‡ä»¶ç±»å‹</span>
    <span class="hljs-attr">thumbnailUri</span>: imageUri,         <span class="hljs-comment">// ç¼©ç•¥å›¾URI</span>
    <span class="hljs-attr">title</span>: <span class="hljs-string">'æ—…è¡Œç…§ç‰‡'</span>,              <span class="hljs-comment">// å¡ç‰‡æ ‡é¢˜</span>
    <span class="hljs-attr">description</span>: <span class="hljs-string">'è¥¿è—é£æ™¯ç…§'</span>       <span class="hljs-comment">// å¡ç‰‡æè¿°</span>
  };

  <span class="hljs-comment">// 3. 3ç§’å†…å‘èµ·åˆ†äº«ï¼ˆè¶…æ—¶å¤±è´¥ï¼‰</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    sharableTarget.<span class="hljs-title function_">share</span>(shareData); 
  }, <span class="hljs-number">3000</span>); 
}
</code></pre>
<p><strong>å¡ç‰‡æ¨¡æ¿é€‰æ‹©</strong>ï¼š</p>
<ul>
<li><strong>ä»…ç¼©ç•¥å›¾æ¨¡å¼</strong>ï¼šå®½é«˜æ¯”éœ€åœ¨ 1:4 å†…ã€‚</li>
<li><strong>å›¾æ–‡å¡ç‰‡</strong>ï¼šé€‚åˆå®½é«˜æ¯” &gt;1:1 çš„å›¾ç‰‡ã€‚</li>
</ul>
<h4 data-id="heading-2">æ­¥éª¤4ï¼šå¤„ç†Wi-Fiåˆ†äº«åœºæ™¯</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åœ¨WLANè®¾ç½®é¡µæ³¨å†Œç›‘å¬</span>
<span class="hljs-keyword">private</span> <span class="hljs-title function_">shareWifiCallback</span>(<span class="hljs-params">sharableTarget: harmonyShare.SharableTarget</span>) {
  <span class="hljs-keyword">const</span> shareData = {
    <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">WIFI_CONFIG</span>, <span class="hljs-comment">// Wi-Fiæ•°æ®ç±»å‹</span>
    <span class="hljs-attr">title</span>: <span class="hljs-string">'åŠå…¬å®¤Wi-Fi'</span>,
    <span class="hljs-attr">description</span>: <span class="hljs-string">'ç‚¹å‡»ä¸€é”®è¿æ¥'</span>
  };
  sharableTarget.<span class="hljs-title function_">share</span>(shareData);
}
</code></pre>
<hr/>
<p><strong>ä¸‰ã€å®Œæ•´æ¡ˆä¾‹ï¼šå›¾ç‰‡åˆ†äº«åº”ç”¨</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Entry</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">GalleryApp</span> {
  <span class="hljs-meta">@State</span> <span class="hljs-attr">selectedImage</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;

  <span class="hljs-comment">// ç¢°ä¸€ç¢°å›è°ƒ</span>
  <span class="hljs-keyword">private</span> knockCallback = <span class="hljs-function">(<span class="hljs-params">sharableTarget: harmonyShare.SharableTarget</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedImage</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-keyword">const</span> uri = fileUri.<span class="hljs-title function_">getUriFromPath</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedImage</span>);
    sharableTarget.<span class="hljs-title function_">share</span>({
      <span class="hljs-attr">utd</span>: utd.<span class="hljs-property">UniformDataType</span>.<span class="hljs-property">IMAGE</span>,
      <span class="hljs-attr">thumbnailUri</span>: uri,
      <span class="hljs-attr">title</span>: <span class="hljs-string">'å³æ—¶åˆ†äº«'</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">'æ¥è‡ªå›¾åº“'</span>
    });
  };

  <span class="hljs-title function_">onPageShow</span>(<span class="hljs-params"/>) {
    harmonyShare.<span class="hljs-title function_">on</span>(<span class="hljs-string">'knockShare'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">knockCallback</span>);
  }

  <span class="hljs-title function_">onPageHide</span>(<span class="hljs-params"/>) {
    harmonyShare.<span class="hljs-title function_">off</span>(<span class="hljs-string">'knockShare'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">knockCallback</span>);
  }

  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Column</span>() {
      <span class="hljs-comment">// å›¾ç‰‡é€‰æ‹©åˆ—è¡¨</span>
      <span class="hljs-title class_">Image</span>($r(<span class="hljs-string">'app.media.image1'</span>))
        .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">() =&gt;</span> { <span class="hljs-variable language_">this</span>.<span class="hljs-property">selectedImage</span> = <span class="hljs-string">'local_path/image1.jpg'</span>; })
    }
  }
}
</code></pre>
<p><strong>å…³é”®é€»è¾‘</strong>ï¼š</p>
<ol>
<li>ç”¨æˆ·ç‚¹å‡»å›¾ç‰‡åå­˜å‚¨è·¯å¾„åˆ° <code>selectedImage</code>ã€‚</li>
<li>è®¾å¤‡è½»ç¢°è§¦å‘ <code>knockCallback</code>ï¼Œè½¬æ¢è·¯å¾„ä¸ºåˆæ³• URIã€‚</li>
<li>é€šè¿‡ <code>sharableTarget.share()</code> å‘é€åˆ†äº«æ•°æ®ã€‚</li>
</ol>
<hr/>
<p><strong>å››ã€é¿å‘æŒ‡å—</strong></p>
<ol>
<li>
<p><strong>è·¯å¾„è½¬æ¢å¤±è´¥</strong><br/>
å¿…é¡»ä½¿ç”¨ <code>fileUri.getUriFromPath()</code> è½¬æ¢æœ¬åœ°è·¯å¾„ï¼Œç›´æ¥ä½¿ç”¨ <code>file://</code> åè®®æ— æ•ˆã€‚</p>
</li>
<li>
<p><strong>åˆ†äº«è¶…æ—¶</strong><br/>
ä»å›è°ƒè§¦å‘åˆ°è°ƒç”¨ <code>share()</code> éœ€åœ¨ <strong>3ç§’å†…å®Œæˆ</strong>ï¼Œå¦åˆ™ç³»ç»Ÿè‡ªåŠ¨å–æ¶ˆã€‚</p>
</li>
<li>
<p><strong>å›¾ç‰‡å¤§å°é™åˆ¶</strong><br/>
å•æ–‡ä»¶å»ºè®®ä¸è¶…è¿‡ 32KBï¼Œè¿‡å¤§æ–‡ä»¶éœ€å‹ç¼©ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> { image } <span class="hljs-keyword">from</span> <span class="hljs-string">'@kit.ImageKit'</span>;
<span class="hljs-keyword">const</span> packer = image.<span class="hljs-title function_">createImagePacker</span>();
<span class="hljs-keyword">const</span> options = { <span class="hljs-attr">quality</span>: <span class="hljs-number">70</span> }; <span class="hljs-comment">// å‹ç¼©è´¨é‡</span>
<span class="hljs-keyword">const</span> compressedUri = <span class="hljs-keyword">await</span> packer.<span class="hljs-title function_">packing</span>(imageUri, options);
</code></pre>
</li>
<li>
<p><strong>è®¾å¤‡çŠ¶æ€æ ¡éªŒ</strong><br/>
åˆ†äº«å‰æ£€æŸ¥è®¾å¤‡çŠ¶æ€ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">if</span> (!device.<span class="hljs-property">isScreenOn</span> || !device.<span class="hljs-property">isUnlocked</span>) {
  prompt.<span class="hljs-title function_">showToast</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">"è¯·äº®å±å¹¶è§£é”è®¾å¤‡ï¼"</span> });
}
</code></pre>
</li>
</ol>
<hr/>
<p><strong>äº”ã€æ€»ç»“</strong>
åœ¨ HarmonyOS 6.0 ä¸­å®ç°ç¢°ä¸€ç¢°åˆ†äº«ï¼Œæ ¸å¿ƒæµç¨‹ä¸º <strong>æ³¨å†Œç›‘å¬ â†’ æ„é€ æ•°æ® â†’ è§¦å‘åˆ†äº«</strong>ã€‚å¼€å‘è€…éœ€é‡ç‚¹å…³æ³¨ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>harmonyShare.on/off()</code> ç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼›</li>
<li>é€šè¿‡ <code>fileUri.getUriFromPath()</code> è§£å†³è·¯å¾„é—®é¢˜ï¼›</li>
<li>é€‰æ‹©ç¬¦åˆåœºæ™¯çš„åˆ†äº«å¡ç‰‡æ¨¡æ¿ï¼›</li>
<li>éµå®ˆ 3 ç§’è¶…æ—¶é™åˆ¶ã€‚</li>
</ul>
<p>â€œç¢°ä¸€ç¢°â€åŠŸèƒ½å°†é¸¿è’™çš„åˆ†å¸ƒå¼èƒ½åŠ›è½¬åŒ–ä¸ºç›´è§‚çš„ç‰©ç†äº¤äº’ï¼Œå¤§å¹…ç®€åŒ–äº†è·¨è®¾å¤‡åä½œæµç¨‹ã€‚æœªæ¥å¯ç»“åˆ AI èƒ½åŠ›å®ç°æ™ºèƒ½å†…å®¹æ¨èï¼ˆå¦‚è‡ªåŠ¨è¯†åˆ«ç…§ç‰‡åœºæ™¯å¹¶æ¨èåˆ†äº«å¯¹è±¡ï¼‰ï¼Œè¿›ä¸€æ­¥æå‡ç”¨æˆ·ä½“éªŒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51d09632ad56476499607e4fa276bd83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1764990628&amp;x-signature=t1BS9TPDQskOCmnGMqUIO1aQEd8%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>