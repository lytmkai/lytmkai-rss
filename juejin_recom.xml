<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[å¦‚ä½•ä½¿ç”¨ vxe-gantt table ç”˜ç‰¹å›¾æ¥å®ç°å¤šä¸ªç»´åº¦è§†å›¾å±•ç¤ºï¼Œæ”¯æŒåˆ‡æ¢å¹´è§†å›¾ã€æœˆè§†å›¾ã€å‘¨è§†å›¾ç­‰]]></title>    <link>https://juejin.cn/post/7580233527284858930</link>    <guid>https://juejin.cn/post/7580233527284858930</guid>    <pubDate>2025-12-06T02:22:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580233527284858930" data-draft-id="7580233527284842546" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¦‚ä½•ä½¿ç”¨ vxe-gantt table ç”˜ç‰¹å›¾æ¥å®ç°å¤šä¸ªç»´åº¦è§†å›¾å±•ç¤ºï¼Œæ”¯æŒåˆ‡æ¢å¹´è§†å›¾ã€æœˆè§†å›¾ã€å‘¨è§†å›¾ç­‰"/> <meta itemprop="keywords" content="Vue.js"/> <meta itemprop="datePublished" content="2025-12-06T02:22:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·84179481456"/> <meta itemprop="url" content="https://juejin.cn/user/3921272428567529"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¦‚ä½•ä½¿ç”¨ vxe-gantt table ç”˜ç‰¹å›¾æ¥å®ç°å¤šä¸ªç»´åº¦è§†å›¾å±•ç¤ºï¼Œæ”¯æŒåˆ‡æ¢å¹´è§†å›¾ã€æœˆè§†å›¾ã€å‘¨è§†å›¾ç­‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3921272428567529/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·84179481456
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T02:22:39.000Z" title="Sat Dec 06 2025 02:22:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚ä½•ä½¿ç”¨ vxe-gantt table ç”˜ç‰¹å›¾æ¥å®ç°å¤šä¸ªç»´åº¦è§†å›¾å±•ç¤ºï¼Œæ”¯æŒåˆ‡æ¢å¹´è§†å›¾ã€æœˆè§†å›¾ã€å‘¨è§†å›¾ç­‰ï¼Œé€šè¿‡ task-view-config æ¥é…ç½®æ—¥æœŸè½´ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgantt.vxeui.com" target="_blank" title="https://gantt.vxeui.com" ref="nofollow noopener noreferrer">gantt.vxeui.com</a></p>
<h2 data-id="heading-0">æ•ˆæœ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/005a5115b09f4ca7a20bbc04ff23e43d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODQxNzk0ODE0NTY=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765592558&amp;x-signature=8LcTkP8ipFwjJM8bFLOuxnYXXIA%3D" alt="gantt_dimension_date" loading="lazy"/></p>
<h2 data-id="heading-1">ä»£ç </h2>
<p>é€šè¿‡ task-view-config.scales å¯ä»¥çµæ´»çš„åˆ‡æ¢æ˜¾ç¤ºæ¨¡å¼</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">vxe-radio-group</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">"viewMode"</span> @<span class="hljs-attr">change</span>=<span class="hljs-string">"changeViewEvent"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">vxe-radio-button</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"å¹´è§†å›¾"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vxe-radio-button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">vxe-radio-button</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"2"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"å­£åº¦è§†å›¾"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vxe-radio-button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">vxe-radio-button</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"3"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"æœˆè§†å›¾"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vxe-radio-button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">vxe-radio-button</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"4"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"å‘¨è§†å›¾"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vxe-radio-button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">vxe-radio-button</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"5"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"æ—¥è§†å›¾"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vxe-radio-button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">vxe-radio-group</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">vxe-gantt</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"ganttOptions"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">vxe-gantt</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">import</span> { reactive, ref } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>

<span class="hljs-keyword">const</span> viewMode = <span class="hljs-title function_">ref</span>(<span class="hljs-string">'1'</span>)

<span class="hljs-keyword">const</span> taskViewConfig = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">scales</span>: [<span class="hljs-string">'year'</span>]
})

<span class="hljs-keyword">const</span> ganttOptions = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">border</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">taskBarConfig</span>: {
    <span class="hljs-attr">showProgress</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">barStyle</span>: {
      <span class="hljs-attr">round</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">bgColor</span>: <span class="hljs-string">'#fca60b'</span>,
      <span class="hljs-attr">completedBgColor</span>: <span class="hljs-string">'#65c16f'</span>
    }
  },
  taskViewConfig,
  <span class="hljs-attr">columns</span>: [
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'name'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ä»»åŠ¡åç§°'</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'start'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'å¼€å§‹æ—¶é—´'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">field</span>: <span class="hljs-string">'end'</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">'ç»“æŸæ—¶é—´'</span>, <span class="hljs-attr">width</span>: <span class="hljs-number">100</span> }
  ],
  <span class="hljs-attr">data</span>: [
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10001</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Aé¡¹ç›®'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2023-08-01'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-11-15'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">3</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10002</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'åŸå¸‚é“è·¯ä¿®ç†è¿›åº¦'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-01-03'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-08'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">10</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10003</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'Bå¤§å·¥ç¨‹'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-05-03'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-07-11'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">90</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10004</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'è¶…çº§å¤§å·¥ç¨‹'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-04-05'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-06-11'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">15</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10005</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'åœ°çƒå‡€åŒ–é¡¹ç›®'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-07-08'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-08-15'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">100</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10006</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'ä¸€ä¸ªå°ç›®æ ‡é¡¹ç›®'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-08-10'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-11-21'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">5</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10007</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'æŸæŸè®¡åˆ’'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-15'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-08-24'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">70</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10008</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'æŸæŸç§‘æŠ€é¡¹ç›®'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-03-20'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2024-03-29'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">50</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10009</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'åœ°é“å»ºè®¾å·¥ç¨‹'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2025-01-19'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2025-03-18'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">5</span> },
    { <span class="hljs-attr">id</span>: <span class="hljs-number">10010</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">'é“è·¯ä¿®å»ºè®¡åˆ’'</span>, <span class="hljs-attr">start</span>: <span class="hljs-string">'2024-12-12'</span>, <span class="hljs-attr">end</span>: <span class="hljs-string">'2025-02-10'</span>, <span class="hljs-attr">progress</span>: <span class="hljs-number">10</span> }
  ]
})

<span class="hljs-keyword">const</span> <span class="hljs-title function_">changeViewEvent</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">switch</span> (viewMode.<span class="hljs-property">value</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'1'</span>:
      taskViewConfig.<span class="hljs-property">scales</span> = [<span class="hljs-string">'year'</span>]
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'2'</span>:
      taskViewConfig.<span class="hljs-property">scales</span> = [<span class="hljs-string">'year'</span>, <span class="hljs-string">'quarter'</span>]
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'3'</span>:
      taskViewConfig.<span class="hljs-property">scales</span> = [<span class="hljs-string">'year'</span>, <span class="hljs-string">'month'</span>]
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'4'</span>:
      taskViewConfig.<span class="hljs-property">scales</span> = [<span class="hljs-string">'year'</span>, <span class="hljs-string">'week'</span>]
      <span class="hljs-keyword">break</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">'5'</span>:
      taskViewConfig.<span class="hljs-property">scales</span> = [<span class="hljs-string">'month'</span>, <span class="hljs-string">'day'</span>, <span class="hljs-string">'date'</span>]
      <span class="hljs-keyword">break</span>
  }
}
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fx-extends%2Fvxe-gantt" target="_blank" title="https://gitee.com/x-extends/vxe-gantt" ref="nofollow noopener noreferrer">gitee.com/x-extends/vâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ§³ æˆ‘çš„ React Trip ä¹‹æ—…ï¼ˆ5ï¼‰ï¼šæˆ‘çš„ AI èŠå¤©æœºå™¨äººï¼Œä»Šå¤©åˆæŠŠç”¨æˆ·æ°”ç¬‘äº†]]></title>    <link>https://juejin.cn/post/7580198093153943598</link>    <guid>https://juejin.cn/post/7580198093153943598</guid>    <pubDate>2025-12-05T12:15:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580198093153943598" data-draft-id="7580183671531225126" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ§³ æˆ‘çš„ React Trip ä¹‹æ—…ï¼ˆ5ï¼‰ï¼šæˆ‘çš„ AI èŠå¤©æœºå™¨äººï¼Œä»Šå¤©åˆæŠŠç”¨æˆ·æ°”ç¬‘äº†"/> <meta itemprop="keywords" content="JavaScript,å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T12:15:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¸£æ³¢"/> <meta itemprop="url" content="https://juejin.cn/user/3059280536681403"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ§³ æˆ‘çš„ React Trip ä¹‹æ—…ï¼ˆ5ï¼‰ï¼šæˆ‘çš„ AI èŠå¤©æœºå™¨äººï¼Œä»Šå¤©åˆæŠŠç”¨æˆ·æ°”ç¬‘äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3059280536681403/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¸£æ³¢
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:15:30.000Z" title="Fri Dec 05 2025 12:15:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä» DeepSeek åˆ° Kimiï¼Œæˆ‘å†™äº†ä¸ªâ€œæ¨¡å‹åˆ‡æ¢å™¨â€ï¼Œç»“æœå‘ç° AI ä¹Ÿä¼šèƒ¡è¯´å…«é“</p>
</blockquote>
<hr/>
<h3 data-id="heading-0">ğŸ¤– å¼€å¤´ï¼šç”¨æˆ·é—®â€œé™„è¿‘æœ‰ä»€ä¹ˆå¥½ç©çš„ï¼Ÿâ€ï¼ŒAI å›â€œå»ºè®®å»ç«æ˜Ÿâ€</h3>
<p>é›†æˆ LLM æ—¶ï¼Œæˆ‘ä»¥ä¸ºåªè¦è°ƒä¸ª API å°±è¡Œã€‚ç»“æœç¬¬ä¸€æ¬¡æµ‹è¯•ï¼Œç”¨æˆ·é—®æ—…æ¸¸å»ºè®®ï¼ŒAI å›ï¼šâ€œæ¨èæ‚¨ä¹˜å SpaceX å‰å¾€ç«æ˜Ÿï¼Œé—¨ç¥¨ä»…éœ€ 2 äº¿ç¾å…ƒã€‚â€</p>
<p>æˆ‘å·®ç‚¹æŠŠç”µè„‘ç ¸äº†ã€‚</p>
<p>åæ¥æ‰æ˜ç™½ï¼š<strong>ä¸åŒæ¨¡å‹ï¼Œæ€§æ ¼ä¸åŒ</strong>ã€‚DeepSeek ä¸¥è°¨ï¼ŒKimi æ´»æ³¼ï¼ŒDoubao åƒä¸ªæ®µå­æ‰‹ã€‚</p>
<p>äºæ˜¯ï¼Œæˆ‘å†³å®šâ€”â€”<strong>ä¸ç»‘æ­»ä¸€ä¸ªæ¨¡å‹ï¼Œåšä¸ªâ€œAI æ¨¡å‹åˆ‡æ¢å™¨â€</strong> ï¼</p>
<hr/>
<h3 data-id="heading-1">ğŸ”Œ æ ¸å¿ƒæ€æƒ³ï¼šæŠ½è±¡å‡ºä¸€ä¸ªÂ <code>chat(model, messages)</code>Â å‡½æ•°</h3>
<p>ä¸ç®¡å¤–é¢é£å¤šå¤§ï¼Œæˆ‘çš„ç»„ä»¶åªè®¤ä¸€ä¸ªæ¥å£ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// llm/chat.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">chat</span>(<span class="hljs-params">model, messages</span>) {
  <span class="hljs-keyword">const</span> apiKey = <span class="hljs-title function_">getApiKey</span>(model); <span class="hljs-comment">// ä» .env è¯»å–</span>
  <span class="hljs-keyword">const</span> url = <span class="hljs-title function_">getModelEndpoint</span>(model);

  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url, {
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: { <span class="hljs-string">'Authorization'</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${apiKey}</span>`</span>, <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span> },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ messages, <span class="hljs-attr">stream</span>: <span class="hljs-literal">true</span> })
  });

  <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'LLM request failed'</span>);

  <span class="hljs-keyword">return</span> response; <span class="hljs-comment">// æ”¯æŒæµå¼è¯»å–</span>
}
</code></pre>
<blockquote>
<p>âœ… ç»„ä»¶è°ƒç”¨ï¼š<code>const res = await chat('kimi', messages);</code><br/>
âœ… æ¢æ¨¡å‹ï¼Ÿåªéœ€æ”¹ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ<strong>ä¸šåŠ¡ä»£ç ä¸€è¡Œä¸åŠ¨</strong>ï¼</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">ğŸ’¬ æµå¼è¾“å‡ºï¼šè®©ç”¨æˆ·çœ‹åˆ° AI â€œæ‰“å­—â€çš„è¿‡ç¨‹</h3>
<p>æ™®é€šè¯·æ±‚æ˜¯â€œç­‰åŠå¤©ï¼Œå•ªä¸€ä¸‹å…¨å‡ºæ¥â€ã€‚ä½†èŠå¤©è¦æœ‰<strong>å¯¹è¯æ„Ÿ</strong>ï¼</p>
<p>æˆ‘ç”¨ <code>ReadableStream</code> é€å­—è§£æï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">reader</span> = response.body.getReader()<span class="hljs-comment">;</span>
while (true) {
  const { done, value } = await reader.read()<span class="hljs-comment">;</span>
  if (done) break<span class="hljs-comment">;</span>
  const <span class="hljs-attr">chunk</span> = new TextDecoder().decode(value)<span class="hljs-comment">;</span>
  // è§£æ chunk ä¸­çš„ contentï¼Œè¿½åŠ åˆ° messages
  setMessages(<span class="hljs-attr">prev</span> =&gt; [...prev.slice(<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>), { role: <span class="hljs-string">'assistant'</span>, content: newContent }])<span class="hljs-comment">;</span>
}
</code></pre>
<blockquote>
<p>ç”¨æˆ·çœ‹åˆ°æ–‡å­—ä¸€ä¸ªä¸€ä¸ªè¹¦å‡ºæ¥ï¼Œ<strong>æ„Ÿè§‰ AI åœ¨è®¤çœŸæ€è€ƒ</strong>ï¼Œè€Œä¸æ˜¯å¤åˆ¶ç²˜è´´ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-3">ğŸ§  ä¸Šä¸‹æ–‡ç®¡ç†ï¼šåˆ«è®© AI å¿˜è®°åˆšæ‰èŠäº†å•¥</h3>
<p>ç”¨æˆ·é—®ï¼šâ€œæ¨èæµ·å²›â€ï¼ŒAI å›ï¼šâ€œé©¬å°”ä»£å¤«â€ã€‚<br/>
ç”¨æˆ·æ¥ç€é—®ï¼šâ€œé‚£é‡Œç­¾è¯éš¾å—ï¼Ÿâ€ï¼ŒAI å´å›ï¼šâ€œæ‚¨è¯´çš„æ˜¯å“ªä¸ªåœ°æ–¹ï¼Ÿâ€</p>
<p>â€”â€”å› ä¸ºå®ƒæ²¡æ”¶åˆ°ä¸Šä¸‹æ–‡ï¼</p>
<p>æˆ‘åœ¨ Zustand é‡Œç»´æŠ¤å®Œæ•´å¯¹è¯å†å²ï¼Œå¹¶ç”¨ <strong>LRU ç¼“å­˜</strong> æ§åˆ¶é•¿åº¦ï¼ˆé¿å… token è¶…é™ï¼‰ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// stores/useChatStore.js
const <span class="hljs-attr">MAX_MESSAGES</span> = <span class="hljs-number">10</span><span class="hljs-comment">;</span>
const <span class="hljs-attr">addMessage</span> = (msg) =&gt; {
  const <span class="hljs-attr">newMsgs</span> = [...get().messages, msg].slice(-MAX_MESSAGES)<span class="hljs-comment">;</span>
  set({ messages: newMsgs })<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">ğŸ˜… ç»“å°¾ï¼šAI è¿˜æ˜¯ä¼šçŠ¯å‚»ï¼Œä½†è‡³å°‘æˆ‘èƒ½å¿«é€Ÿæ¢ä¸€ä¸ª</h3>
<p>ç°åœ¨ï¼Œå¦‚æœ Kimi åˆå¼€å§‹èƒ¡è¯´å…«é“ï¼Œæˆ‘åªéœ€åœ¨ä»£ç é‡Œæ”¹ä¸€è¡Œï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä» 'kimi' æ¢æˆ 'deepseek-r1'</span>
<span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> chat(<span class="hljs-string">'deepseek-r1'</span>, messages);
</code></pre>
<p>ç”¨æˆ·æ¯«æ— æ„ŸçŸ¥ï¼Œä½† AI çªç„¶å˜å¾—ä¸€æœ¬æ­£ç»ã€‚</p>
<blockquote>
<p><strong>å‰ç«¯æ™ºèƒ½ï¼Œä¸æ˜¯è®© AI å®Œç¾ï¼Œè€Œæ˜¯è®©åˆ‡æ¢æˆæœ¬è¶‹è¿‘äºé›¶</strong>ã€‚</p>
</blockquote>
<p><strong>ä¸‹ä¸€ç«™ï¼Œæˆ‘è¦è§£å†³ä¸€ä¸ªçœ‹ä¼¼ç®€å•å´å‘å“­æ— æ•°äººçš„é—®é¢˜â€”â€”å¦‚ä½•å…¨å±€å¼¹å‡ºä¸€ä¸ª Toastï¼ŸUI åº“ä¸å¤Ÿç”¨ï¼Œæˆ‘åªå¥½è‡ªå·±é€ äº†ä¸ªâ€œä¼šé£çš„é€šçŸ¥â€</strong> ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ•°æ®é©±åŠ¨ä¸CSSé¢„å®šä¹‰æ ·å¼ï¼šå®ç°çµæ´»å¤šå˜çš„Bannerå¸ƒå±€]]></title>    <link>https://juejin.cn/post/7580188321323630598</link>    <guid>https://juejin.cn/post/7580188321323630598</guid>    <pubDate>2025-12-05T13:47:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580188321323630598" data-draft-id="7580188321323597830" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ•°æ®é©±åŠ¨ä¸CSSé¢„å®šä¹‰æ ·å¼ï¼šå®ç°çµæ´»å¤šå˜çš„Bannerå¸ƒå±€"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T13:47:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Naomi_"/> <meta itemprop="url" content="https://juejin.cn/user/2107109724924174"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ•°æ®é©±åŠ¨ä¸CSSé¢„å®šä¹‰æ ·å¼ï¼šå®ç°çµæ´»å¤šå˜çš„Bannerå¸ƒå±€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2107109724924174/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Naomi_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T13:47:08.000Z" title="Fri Dec 05 2025 13:47:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>åœ¨å¼€å‘ä¸€ä¸ªæ´»åŠ¨Bannerç»„ä»¶æ—¶ï¼Œ<strong>æ¯ä¸ªBanneréœ€è¦å±•ç¤ºä¸åŒæ•°é‡çš„å›¾ç‰‡ï¼Œä¸”æ¯å¼ å›¾ç‰‡çš„ä½ç½®ã€å¤§å°éƒ½éœ€è¦ç²¾ç¡®æ§åˆ¶ï¼Œä»¥åˆ›é€ å‡ºç‹¬ç‰¹çš„è§†è§‰æ•ˆæœ</strong>ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edb8b56728a7466caad36d5ebc17b18c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmFvbWlf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765547228&amp;x-signature=1PI7qyhbkZhYWVDz3F70mIHRgpc%3D" alt="æ–‡å­—æ–‡ç¨¿100.png" loading="lazy"/></p>
<p>ä¼ ç»Ÿçš„åšæ³•å¯èƒ½æ˜¯ï¼š</p>
<ul>
<li>ä¸ºæ¯ä¸ªBannerå†™ç‹¬ç«‹çš„ç»„ä»¶</li>
<li>ä½¿ç”¨å†…è”æ ·å¼åŠ¨æ€è®¡ç®—ä½ç½®</li>
</ul>
<p>ä½†è¿™äº›æ–¹æ¡ˆè¦ä¹ˆä»£ç å†—ä½™ï¼Œè¦ä¹ˆç»´æŠ¤å›°éš¾ã€‚æˆ‘é‡‡ç”¨äº†ä¸€ç§æ›´ä¼˜é›…çš„æ–¹æ¡ˆï¼š<strong>æ•°æ®é©±åŠ¨ + CSSé¢„å®šä¹‰æ ·å¼</strong>ã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒæ€è·¯</h2>
<p>æˆ‘ä»¬çš„æ–¹æ¡ˆåŒ…å«ä¸¤ä¸ªå…³é”®éƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>æ•°æ®é…ç½®å±‚</strong>ï¼šé€šè¿‡é…ç½®æ•°æ®å®šä¹‰æ¯ä¸ªBannerçš„å›¾ç‰‡æ•°ç»„å’Œå”¯ä¸€æ ‡è¯†</li>
<li><strong>æ ·å¼é¢„å®šä¹‰å±‚</strong>ï¼šåœ¨CSSä¸­ä¸ºæ¯ä¸ªå¯èƒ½çš„å›¾ç‰‡ä½ç½®é¢„å®šä¹‰æ ·å¼ç±»</li>
</ol>
<p>é€šè¿‡åŠ¨æ€ç”Ÿæˆç±»åï¼Œå°†æ•°æ®å’Œæ ·å¼å®Œç¾è¿æ¥ã€‚</p>
<h2 data-id="heading-2">å®ç°ç»†èŠ‚</h2>
<h3 data-id="heading-3">1. æ•°æ®é…ç½®</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ•°æ®æ•°ç»„ï¼Œæ¯ä¸ªBanneré¡¹åŒ…å«ï¼š</p>
<ul>
<li><code>id</code>: å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œç”¨äºç”ŸæˆCSSç±»å</li>
<li><code>img</code>: å›¾ç‰‡æ•°ç»„ï¼Œæ”¯æŒä¸åŒæ•°é‡çš„å›¾ç‰‡</li>
<li>å…¶ä»–ä¸šåŠ¡æ•°æ®ï¼ˆæ•°é‡ã€æç¤ºæ–‡å­—ã€é“¾æ¥ç­‰ï¼‰</li>
</ul>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> list = [
  {
    <span class="hljs-attr">id</span>: <span class="hljs-string">"four"</span>,
    <span class="hljs-attr">num</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">hint</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">"exclusiveEventDesc4"</span>),
    <span class="hljs-attr">img</span>: [img1, img2],  <span class="hljs-comment">// 2å¼ å›¾ç‰‡</span>
    <span class="hljs-attr">link</span>: <span class="hljs-string">"https://forms.gle/XshRsPmkrKnaQUdA8"</span>,
    <span class="hljs-attr">targetTime</span>: <span class="hljs-string">'2025-11-15T13:00:00Z'</span> 
  },
  {
    <span class="hljs-attr">id</span>: <span class="hljs-string">"two"</span>,
    <span class="hljs-attr">num</span>: <span class="hljs-number">9</span>,
    <span class="hljs-attr">hint</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">"exclusiveEventDesc2"</span>),
    <span class="hljs-attr">img</span>: [img1, img2, img3, img4],  <span class="hljs-comment">// 4å¼ å›¾ç‰‡</span>
    <span class="hljs-attr">link</span>: <span class="hljs-string">"https://forms.gle/UJ1oPxGgDzRqJ1y6A"</span>,
    <span class="hljs-attr">targetTime</span>: <span class="hljs-string">'2025-11-13T13:00:00Z'</span>
  },
  {
    <span class="hljs-attr">id</span>: <span class="hljs-string">"one"</span>,
    <span class="hljs-attr">num</span>: <span class="hljs-number">50</span>,
    <span class="hljs-attr">hint</span>: <span class="hljs-title function_">t</span>(<span class="hljs-string">"exclusiveEventDesc1"</span>),
    <span class="hljs-attr">img</span>: [img1, img2, img3, img4],  <span class="hljs-comment">// 4å¼ å›¾ç‰‡</span>
    <span class="hljs-attr">link</span>: <span class="hljs-string">"https://tinyurl.com/2025CCCCBREAKFAST"</span>,
    <span class="hljs-attr">targetTime</span>: <span class="hljs-string">'2025-11-13T13:00:00Z'</span>
  },
];
</code></pre>
<h3 data-id="heading-4">2. åŠ¨æ€ç±»åç”Ÿæˆ</h3>
<p>åœ¨æ¸²æŸ“æ—¶ï¼Œæˆ‘ä»¬é€šè¿‡æ¨¡æ¿å­—ç¬¦ä¸²åŠ¨æ€ç”Ÿæˆç±»åï¼š</p>
<pre><code class="hljs language-tsx" lang="tsx">&lt;div className=<span class="hljs-string">"kol-img"</span>&gt;
  {item.<span class="hljs-property">img</span>?.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">citem, cindex</span>) =&gt;</span> (
    &lt; img 
      src={citem} 
      key={cindex} 
      className={<span class="hljs-string">`<span class="hljs-subst">${item.id}</span>-img<span class="hljs-subst">${cindex + <span class="hljs-number">1</span>}</span>`</span>}  <span class="hljs-comment">// å…³é”®ï¼šåŠ¨æ€ç”Ÿæˆç±»å</span>
    /&gt;
  ))}
&lt;/div&gt;
</code></pre>
<p><strong>ç±»åç”Ÿæˆè§„åˆ™</strong>ï¼š</p>
<ul>
<li><code>item.id = "one"</code>, <code>cindex = 0</code> â†’ ç±»åï¼š<code>one-img1</code></li>
<li><code>item.id = "two"</code>, <code>cindex = 1</code> â†’ ç±»åï¼š<code>two-img2</code></li>
<li><code>item.id = "four"</code>, <code>cindex = 0</code> â†’ ç±»åï¼š<code>four-img1</code></li>
</ul>
<p>æ¯ä¸ªBannerçš„æ¯å¼ å›¾ç‰‡éƒ½å¯¹åº”å”¯ä¸€çš„ç±»åã€‚</p>
<h3 data-id="heading-5">3. CSSé¢„å®šä¹‰æ ·å¼</h3>
<p>åœ¨CSSæ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬ä¸ºæ¯ä¸ªå¯èƒ½çš„ç±»åç»„åˆé¢„å®šä¹‰æ ·å¼ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-class">.kol-img</span> {
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-selector-tag">img</span> {
    <span class="hljs-attribute">filter</span>: <span class="hljs-built_in">grayscale</span>(<span class="hljs-number">100%</span>);
    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">100px</span>;
  }
}

<span class="hljs-comment">// Banner "one" çš„4å¼ å›¾ç‰‡å¸ƒå±€</span>
<span class="hljs-selector-class">.one-img1</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">126px</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">130px</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">20px</span>;
  <span class="hljs-keyword">@media</span> <span class="hljs-variable">@SmallScreen</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">44px</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">10px</span>;
  }
}

<span class="hljs-selector-class">.one-img2</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">88px</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">130px</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">85px</span>;
  <span class="hljs-keyword">@media</span> <span class="hljs-variable">@SmallScreen</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">72px</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">56px</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">28px</span>;
  }
}

<span class="hljs-selector-class">.one-img3</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">72px</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">39px</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">49px</span>;
  <span class="hljs-keyword">@media</span> <span class="hljs-variable">@SmallScreen</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">76px</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">96px</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  }
}

<span class="hljs-selector-class">.one-img4</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">72px</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">146px</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">231px</span>;
  <span class="hljs-keyword">@media</span> <span class="hljs-variable">@SmallScreen</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">44px</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">70px</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">170px</span>;
  }
}

<span class="hljs-comment">// Banner "two" çš„4å¼ å›¾ç‰‡å¸ƒå±€</span>
<span class="hljs-selector-class">.two-img1</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">125px</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">56px</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">100px</span>;
  <span class="hljs-keyword">@media</span> <span class="hljs-variable">@SmallScreen</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">75px</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">80px</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">60px</span>;
  }
}

<span class="hljs-selector-class">.two-img2</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">90px</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">13px</span>;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">160px</span>;
  <span class="hljs-keyword">@media</span> <span class="hljs-variable">@SmallScreen</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">43px</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">44px</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">28px</span>;
  }
}

<span class="hljs-comment">// ... æ›´å¤šæ ·å¼å®šä¹‰</span>
</code></pre>
<h3 data-id="heading-6">4. å®Œæ•´ç»„ä»¶ä»£ç </h3>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">BannerKOL</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [t] = <span class="hljs-title function_">useTranslation</span>();
  <span class="hljs-keyword">const</span> isMobile = <span class="hljs-title function_">useIsMobile</span>();

  <span class="hljs-keyword">const</span> list = [
    <span class="hljs-comment">// ... æ•°æ®é…ç½®</span>
  ];

  <span class="hljs-keyword">return</span> (
    isMobile ? (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bannerkol-wrap"</span>&gt;</span>
        {list.map((item, index) =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"kol-line"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"kol-box df"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"kol-img"</span>&gt;</span>
                {item.img?.map((citem, cindex) =&gt; (
                  &lt; img 
                    src={citem} 
                    key={cindex} 
                    className={`${item.id}-img${cindex + 1}`} 
                  /&gt;
                ))}
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"kol-info"</span>&gt;</span>
                {/* å…¶ä»–å†…å®¹ */}
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
        ))}
      &lt;/div&gt;
    ) : (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Marquee</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bannerkol-marquee"</span> <span class="hljs-attr">speed</span>=<span class="hljs-string">{60}</span> <span class="hljs-attr">autoFill</span> <span class="hljs-attr">gradient</span>=<span class="hljs-string">{false}</span> <span class="hljs-attr">pauseOnHover</span>=<span class="hljs-string">{true}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"bannerkol-wrap"</span>&gt;</span>
          {list.map((item, index) =&gt; (
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{index}</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"kol-line"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">kol-box</span> <span class="hljs-attr">df</span> ${<span class="hljs-attr">item.img</span>?<span class="hljs-attr">.length</span> ? '' <span class="hljs-attr">:</span> '<span class="hljs-attr">no-img</span>'}`}&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"kol-img"</span>&gt;</span>
                  {item.img?.map((citem, cindex) =&gt; (
                    &lt; img 
                      src={citem} 
                      key={cindex} 
                      className={`${item.id}-img${cindex + 1}`} 
                    /&gt;
                  ))}
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"kol-info"</span>&gt;</span>
                  {/* å…¶ä»–å†…å®¹ */}
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          ))}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
      &lt;/<span class="hljs-title class_">Marquee</span>&gt;
    )
  );
}
</code></pre>
<h2 data-id="heading-7">æ€»ç»“</h2>
<p>é€šè¿‡<strong>æ•°æ®é©±åŠ¨ + CSSé¢„å®šä¹‰æ ·å¼</strong>çš„ç»„åˆï¼Œæˆ‘ä»¬å®ç°äº†ä¸€ä¸ªæ—¢çµæ´»åˆæ˜“ç»´æŠ¤çš„Bannerç»„ä»¶ã€‚è¿™ç§æ–¹æ¡ˆçš„æ ¸å¿ƒåœ¨äºï¼š<strong>æ•°æ®é©±åŠ¨ï¼Œæ˜“äºæ‰©å±•</strong> ,æ•°æ®å’Œè§†å›¾è§£è€¦, æ·»åŠ æ–°çš„Banneråªéœ€åœ¨<code>list</code>æ•°ç»„ä¸­æ·»åŠ é…ç½®,è€Œä¸”æ— éœ€ä¿®æ”¹ç»„ä»¶é€»è¾‘ä»£ç ,é…ç½®ä¸å±•ç¤ºé€»è¾‘å®Œå…¨åˆ†ç¦»,äº§å“ææ–°çš„éœ€æ±‚åªéœ€è¦æ”¹åŠ¨æ•°æ®,æ˜“äºè¿­ä»£</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PythonåŸºç¡€ï¼šè¢«ä½ä¼°çš„"å·æ‡’"æŠ€å·§ï¼Œæ–°æ‰‹å¿…å­¦ï¼]]></title>    <link>https://juejin.cn/post/7580183671531487270</link>    <guid>https://juejin.cn/post/7580183671531487270</guid>    <pubDate>2025-12-05T14:05:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580183671531487270" data-draft-id="7580198093154189358" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PythonåŸºç¡€ï¼šè¢«ä½ä¼°çš„&quot;å·æ‡’&quot;æŠ€å·§ï¼Œæ–°æ‰‹å¿…å­¦ï¼"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-05T14:05:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AAAç®€å•ç©è½¬ç¨‹åºè®¾è®¡"/> <meta itemprop="url" content="https://juejin.cn/user/4294056357689099"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PythonåŸºç¡€ï¼šè¢«ä½ä¼°çš„"å·æ‡’"æŠ€å·§ï¼Œæ–°æ‰‹å¿…å­¦ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4294056357689099/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AAAç®€å•ç©è½¬ç¨‹åºè®¾è®¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:05:12.000Z" title="Fri Dec 05 2025 14:05:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åˆšå…¥é—¨Pythonï¼Œå†™ä»£ç æ€»åœ¨"é‡å¤é€ è½®å­"ï¼Ÿè¿™å‡ ä¸ªè¿›é˜¶åŸºç¡€çŸ¥è¯†ç‚¹ï¼Œä¸ç”¨å•ƒå¤æ‚æ–‡æ¡£ï¼Œç»ƒç†Ÿç›´æ¥å°‘èµ°å¼¯è·¯ï¼Œä»£ç ç®€æ´åˆé«˜æ•ˆï½</p>
<h2 data-id="heading-0">1. é›†åˆï¼ˆsetï¼‰ï¼šå»é‡+åˆ¤æ–­çš„"æé€Ÿå·¥å…·"</h2>
<p>è¿˜åœ¨é åˆ—è¡¨éå†å»é‡ï¼Ÿé›†åˆè‡ªå¸¦å»é‡å±æ€§ï¼Œæ•ˆç‡ç¿»å€ï¼š</p>
<pre><code class="hljs language-python" lang="python">  
<span class="hljs-comment"># åˆ—è¡¨å»é‡ï¼ˆç¹çä¸”æ…¢ï¼‰</span>
nums = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>]
unique_nums = []
<span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> nums:
    <span class="hljs-keyword">if</span> num <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> unique_nums:
        unique_nums.append(num)
<span class="hljs-built_in">print</span>(unique_nums)  <span class="hljs-comment"># è¾“å‡º: [1,2,3]</span>

<span class="hljs-comment"># é›†åˆå»é‡ï¼ˆä¸€è¡Œæå®šï¼‰</span>
unique_nums = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">set</span>(nums))
<span class="hljs-built_in">print</span>(unique_nums)  <span class="hljs-comment"># è¾“å‡º: [1,2,3]ï¼ˆé¡ºåºä¸ä¿è¯ï¼Œéœ€æ’åºå¯åŠ sorted()ï¼‰</span>
Â 
 
åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ï¼Œé›†åˆæ¯”åˆ—è¡¨å¿«<span class="hljs-number">100</span>å€ï¼ˆå¤§æ•°æ®é‡æ›´æ˜æ˜¾ï¼‰ï¼š
 
fruit_set = {<span class="hljs-string">"apple"</span>, <span class="hljs-string">"banana"</span>, <span class="hljs-string">"cherry"</span>}
<span class="hljs-built_in">print</span>(<span class="hljs-string">"apple"</span> <span class="hljs-keyword">in</span> fruit_set)  <span class="hljs-comment"># è¾“å‡º: Trueï¼ˆO(1)æ—¶é—´å¤æ‚åº¦ï¼‰</span>
</code></pre>
<p>Â </p>
<h2 data-id="heading-1">2. enumerateï¼šå¾ªç¯æ—¶"é¡ºä¾¿"æ‹¿ç´¢å¼•</h2>
<p>éå†åˆ—è¡¨æƒ³åŒæ—¶è¦ç´¢å¼•å’Œå…ƒç´ ï¼Ÿåˆ«ç”¨Â range(len())Â äº†ï¼š</p>
<pre><code class="hljs language-python" lang="python">  
fruits = [<span class="hljs-string">"apple"</span>, <span class="hljs-string">"banana"</span>, <span class="hljs-string">"cherry"</span>]
<span class="hljs-comment"># ä¼ ç»Ÿå†™æ³•ï¼ˆéº»çƒ¦ä¸”ä¸ä¼˜é›…ï¼‰</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(fruits)):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç´¢å¼•<span class="hljs-subst">{i}</span>ï¼š<span class="hljs-subst">{fruits[i]}</span>"</span>)

<span class="hljs-comment"># enumerateå†™æ³•ï¼ˆç›´æ¥è·å–ç´¢å¼•+å…ƒç´ ï¼‰</span>
<span class="hljs-keyword">for</span> idx, fruit <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(fruits, start=<span class="hljs-number">1</span>):  <span class="hljs-comment"># startæŒ‡å®šç´¢å¼•èµ·å§‹å€¼</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç¬¬<span class="hljs-subst">{idx}</span>ä¸ªæ°´æœï¼š<span class="hljs-subst">{fruit}</span>"</span>)  <span class="hljs-comment"># è¾“å‡º: ç¬¬1ä¸ªæ°´æœï¼šapple...</span>
</code></pre>
<p>Â </p>
<h2 data-id="heading-2">3. zipï¼šå¤šåˆ—è¡¨"é…å¯¹"çš„ç¥å™¨</h2>
<p>æƒ³åŒæ—¶éå†å¤šä¸ªåˆ—è¡¨ï¼Ÿzipç›´æ¥æ‰“åŒ…ï¼Œä¸ç”¨æ‰‹åŠ¨ç´¢å¼•å¯¹é½ï¼š</p>
<pre><code class="hljs language-python" lang="python">  
names = [<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"æå››"</span>, <span class="hljs-string">"ç‹äº”"</span>]
scores = [<span class="hljs-number">85</span>, <span class="hljs-number">92</span>, <span class="hljs-number">78</span>]
subjects = [<span class="hljs-string">"æ•°å­¦"</span>, <span class="hljs-string">"è¯­æ–‡"</span>, <span class="hljs-string">"è‹±è¯­"</span>]

<span class="hljs-comment"># ä¼ ç»Ÿå†™æ³•ï¼ˆå®¹æ˜“å‡ºé”™ï¼‰</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(names)):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{names[i]}</span> <span class="hljs-subst">{subjects[i]}</span>ï¼š<span class="hljs-subst">{scores[i]}</span>åˆ†"</span>)

<span class="hljs-comment"># zipæ‰“åŒ…ï¼ˆç®€æ´ä¸”å®‰å…¨ï¼‰</span>
<span class="hljs-keyword">for</span> name, subject, score <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(names, subjects, scores):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{name}</span> <span class="hljs-subst">{subject}</span>ï¼š<span class="hljs-subst">{score}</span>åˆ†"</span>)  <span class="hljs-comment"># è¾“å‡º: å¼ ä¸‰ æ•°å­¦ï¼š85åˆ†...</span>
Â 
 
æ‰“åŒ…åè½¬å­—å…¸æ›´æ–¹ä¾¿ï¼š
 
python
  
student_scores = <span class="hljs-built_in">dict</span>(<span class="hljs-built_in">zip</span>(names, scores))
<span class="hljs-built_in">print</span>(student_scores)  <span class="hljs-comment"># è¾“å‡º: {'å¼ ä¸‰':85, 'æå››':92, 'ç‹äº”':78}</span>
</code></pre>
<p>Â </p>
<p>è¿™ä¸‰ä¸ªæŠ€å·§éƒ½æ˜¯æ—¥å¸¸å¼€å‘é«˜é¢‘ç”¨åˆ°çš„ï¼Œçœ‹ä¼¼ç®€å•å´èƒ½è§£å†³å¾ˆå¤šå†—ä½™åœºæ™¯ï½ èµ¶ç´§å¤åˆ¶ä»£ç å®æµ‹ï¼Œç»ƒç†Ÿç›´æ¥æå‡ä»£ç æ•´æ´åº¦ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaæ³›å‹é«˜çº§ç©æ³•ï¼šé€šé…ç¬¦ã€ä¸Šä¸‹ç•Œä¸ç±»å‹æ“¦é™¤é¿å‘å®æˆ˜ï¼ˆçº¯å¹²è´§ï¼Œé™„å®Œæ•´å·¥å…·ç±»ï¼‰]]></title>    <link>https://juejin.cn/post/7580202945147551759</link>    <guid>https://juejin.cn/post/7580202945147551759</guid>    <pubDate>2025-12-06T02:36:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580202945147551759" data-draft-id="7580202945147535375" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaæ³›å‹é«˜çº§ç©æ³•ï¼šé€šé…ç¬¦ã€ä¸Šä¸‹ç•Œä¸ç±»å‹æ“¦é™¤é¿å‘å®æˆ˜ï¼ˆçº¯å¹²è´§ï¼Œé™„å®Œæ•´å·¥å…·ç±»ï¼‰"/> <meta itemprop="keywords" content="åç«¯,Java,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2025-12-06T02:36:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜ä¸˜å±±"/> <meta itemprop="url" content="https://juejin.cn/user/272334615219629"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaæ³›å‹é«˜çº§ç©æ³•ï¼šé€šé…ç¬¦ã€ä¸Šä¸‹ç•Œä¸ç±»å‹æ“¦é™¤é¿å‘å®æˆ˜ï¼ˆçº¯å¹²è´§ï¼Œé™„å®Œæ•´å·¥å…·ç±»ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/272334615219629/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜ä¸˜å±±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T02:36:42.000Z" title="Sat Dec 06 2025 02:36:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åšJavaå¼€å‘çš„æœ‹å‹åº”è¯¥éƒ½æœ‰ä½“ä¼šï¼šæ³›å‹è¿™ä¸œè¥¿å…¥é—¨å®¹æ˜“ï¼ŒçœŸè¦ç”¨åˆ°é¡¹ç›®é‡Œâ€”â€”æ¯”å¦‚å†™ä¸ªé€šç”¨å·¥å…·ç±»ã€å¤„ç†å„ç§ç±»å‹çš„é›†åˆæ—¶ï¼ŒåŠ¨ä¸åŠ¨å°±è¸©å‘ã€‚è¦ä¹ˆé€šé…ç¬¦ç”¨é”™ç¼–è¯‘æŠ¥é”™ï¼Œè¦ä¹ˆç±»å‹æ“¦é™¤å¯¼è‡´è¿è¡Œæ—¶æŠ›ClassCastExceptionï¼Œè¦ä¹ˆæƒ³åˆ›å»ºä¸ªæ³›å‹æ•°ç»„ç›´æ¥ç¼–è¯‘ä¸è¿‡ã€‚</p>
<p>ä»Šå¤©è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘ä¸è·Ÿå¤§å®¶èŠçº¯æ¦‚å¿µï¼Œå°±ç»“åˆæˆ‘å®é™…å¼€å‘ä¸­è¸©è¿‡çš„å‘ã€å†™è¿‡çš„é€šç”¨æ•°æ®æ ¡éªŒå·¥å…·ç±»ï¼ŒæŠŠæ³›å‹é€šé…ç¬¦ï¼ˆ?ã€? extends Tã€? super Tï¼‰çš„ç”¨æ³•ã€ç±»å‹æ“¦é™¤çš„å‘ï¼Œè¿˜æœ‰é¿å‘çš„å®æ“æŠ€å·§ï¼Œéƒ½è®²æ¸…æ¥šã€‚ä¿è¯éƒ½æ˜¯å®æˆ˜å¹²è´§ï¼Œä»£ç èƒ½ç›´æ¥è·‘ï¼Œçœ‹å®Œå°±èƒ½ç”¨åˆ°è‡ªå·±çš„é¡¹ç›®é‡Œã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ³›å‹é€šé…ç¬¦ï¼š3ç§å†™æ³•çš„å®æˆ˜åŒºåˆ«ï¼ˆPECSåŸåˆ™çœŸçš„å¾ˆå¥½ç”¨ï¼‰</h2>
<p>æ³›å‹é€šé…ç¬¦çš„æ ¸å¿ƒå°±æ˜¯è§£å†³â€œä¸åŒç±»å‹é›†åˆæ€ä¹ˆé€šç”¨å¤„ç†â€çš„é—®é¢˜ï¼Œå¾ˆå¤šäººæä¸æ‡‚ <code>?ã€? extends Tã€? super T</code>çš„åŒºåˆ«ï¼Œå…¶å®è®°ä½<code>PECSåŸåˆ™</code>ï¼ˆç”Ÿäº§è€…ç”¨<code>Extends</code>ï¼Œæ¶ˆè´¹è€…ç”¨<code>Super</code>ï¼‰å°±å¤Ÿäº†ã€‚æˆ‘ç»“åˆè‡ªå·±å†™è¿‡çš„å·¥å…·æ–¹æ³•ï¼Œç»™å¤§å®¶è®²é€æ¯ä¸ªé€šé…ç¬¦çš„ç”¨æ³•å’Œå‘ã€‚</p>
<h3 data-id="heading-1">1. æ— ç•Œé€šé…ç¬¦ ?ï¼šåªåšé€šç”¨è¯»å–ï¼Œåˆ«æƒ³ç€å†™æ•°æ®</h3>
<p>æ— ç•Œé€šé…ç¬¦?å°±æ˜¯åŒ¹é…ä»»æ„ç±»å‹çš„æ³›å‹ï¼Œæˆ‘ä¸€èˆ¬åªç”¨åœ¨â€œåªè¯»å–ä¸å†™å…¥â€çš„é€šç”¨å·¥å…·é‡Œï¼Œæ¯”å¦‚æ‰“å°ä»»æ„é›†åˆã€åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©ºã€‚</p>
<p>æˆ‘å½“åˆè¸©è¿‡ä¸€ä¸ªå‘ï¼šç”¨<code>?</code>å®šä¹‰çš„Listï¼Œæƒ³å¾€é‡Œé¢åŠ ä¸ªå­—ç¬¦ä¸²ï¼Œç»“æœç›´æ¥ç¼–è¯‘æŠ¥é”™ã€‚åæ¥æ‰æ˜ç™½ï¼Œç¼–è¯‘å™¨æ ¹æœ¬ä¸çŸ¥é“è¿™ä¸ªListå…·ä½“å­˜çš„æ˜¯å•¥ç±»å‹ï¼Œä¸ºäº†ä¿è¯ç±»å‹å®‰å…¨ï¼Œé™¤äº†nullï¼Œå•¥éƒ½ä¸è®©åŠ ã€‚</p>
<h4 data-id="heading-2">å®æˆ˜åœºæ™¯ï¼šé€šç”¨é›†åˆæ‰“å°å·¥å…·</h4>
<p>éœ€æ±‚å¾ˆç®€å•ï¼šå†™ä¸ªæ–¹æ³•ï¼Œä¸ç®¡ä¼ è¿‡æ¥çš„æ˜¯Listã€Listè¿˜æ˜¯List&lt;è‡ªå®šä¹‰å¯¹è±¡&gt;ï¼Œéƒ½èƒ½æ‰“å°é‡Œé¢çš„å…ƒç´ ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * æ— ç•Œé€šé…ç¬¦å®æˆ˜ï¼šé€šç”¨é›†åˆæ‰“å°å·¥å…·
 * å¿«é€Ÿæ‰“å°é›†åˆï¼Œä¸ç”¨é‡å¤å†™å¾ªç¯
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WildcardDemo</span> {
    <span class="hljs-comment">// æ— ç•Œé€šé…ç¬¦?ï¼ŒåŒ¹é…ä»»æ„ç±»å‹çš„List</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printList</span><span class="hljs-params">(List&lt;?&gt; list)</span> {
        <span class="hljs-keyword">if</span> (list == <span class="hljs-literal">null</span> || list.isEmpty()) {
            System.out.println(<span class="hljs-string">"é›†åˆä¸ºç©º"</span>);
            <span class="hljs-keyword">return</span>;
        }
        <span class="hljs-keyword">for</span> (Object obj : list) {
            <span class="hljs-comment">// åªèƒ½è¯»æˆObjectç±»å‹ï¼Œå› ä¸ºä¸çŸ¥é“å…·ä½“æ˜¯å•¥ç±»å‹</span>
            System.out.println(<span class="hljs-string">"å…ƒç´ å€¼ï¼š"</span> + obj);
        }
        
        <span class="hljs-comment">// è¿™é‡Œæ˜¯æˆ‘è¸©è¿‡çš„å‘ï¼šæƒ³åŠ ä¸ªå­—ç¬¦ä¸²ï¼Œç¼–è¯‘ç›´æ¥æŠ¥é”™</span>
        <span class="hljs-comment">// list.add("test"); // ç¼–è¯‘é”™è¯¯ï¼šæ²¡æ³•ç¡®å®šlistçš„å…·ä½“ç±»å‹ï¼Œå†™å…¥ä¼šä¹±å¥—</span>
        <span class="hljs-comment">// å”¯ä¸€èƒ½åŠ çš„åªæœ‰nullï¼Œå› ä¸ºnullæ˜¯æ‰€æœ‰ç±»å‹çš„å­ç±»</span>
        list.add(<span class="hljs-literal">null</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;String&gt; strList = List.of(<span class="hljs-string">"Java"</span>, <span class="hljs-string">"æ³›å‹"</span>, <span class="hljs-string">"é€šé…ç¬¦"</span>);
        List&lt;Integer&gt; intList = List.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);
        
        printList(strList); <span class="hljs-comment">// æ­£å¸¸æ‰“å°å­—ç¬¦ä¸²åˆ—è¡¨</span>
        printList(intList); <span class="hljs-comment">// æ­£å¸¸æ‰“å°æ•´æ•°åˆ—è¡¨</span>
    }
}
</code></pre>
<p><strong>ä¸ºå•¥è¿™ä¹ˆå†™ï¼Ÿ</strong><br/>
æ— ç•Œé€šé…ç¬¦çš„æ ¸å¿ƒå°±æ˜¯â€œé€šç”¨åªè¯»â€ï¼Œæ¯”å¦‚æ‰“å°ã€ç»Ÿè®¡é•¿åº¦ã€åˆ¤ç©ºè¿™äº›æ“ä½œï¼Œä¸ç”¨å…³å¿ƒé›†åˆé‡Œå…·ä½“å­˜çš„æ˜¯å•¥ï¼Œç”¨<code>?</code>å°±å¤Ÿäº†ã€‚ä½†åƒä¸‡åˆ«æƒ³ç€å¾€é‡Œé¢å†™æ•°æ®ï¼Œé™¤äº†nullï¼Œå†™å•¥éƒ½æŠ¥é”™ã€‚</p>
<h3 data-id="heading-3">2. ä¸Šç•Œé€šé…ç¬¦ <code>? extends T</code>ï¼šåªè¯»å–ï¼Œä¸å†™å…¥ï¼ˆç”Ÿäº§è€…åœºæ™¯ï¼‰</h3>
<p><code>? extends T</code>çš„æ„æ€æ˜¯<code>â€œåŒ¹é…Tæˆ–è€…Tçš„å­ç±»â€</code>ï¼Œæˆ‘ä¸€èˆ¬ç”¨åœ¨â€œä»é›†åˆé‡Œè¯»æ•°æ®â€çš„åœºæ™¯ï¼Œæ¯”å¦‚ç»™Integerã€Longã€Doubleè¿™äº›æ•°å€¼ç±»å‹çš„é›†åˆæ±‚å’Œâ€”â€”è¿™äº›é›†åˆéƒ½æ˜¯â€œç”Ÿäº§â€æ•°å€¼çš„ï¼Œæ‰€ä»¥ç”¨<code>extends</code>ã€‚</p>
<p>æˆ‘ä¹‹å‰çŠ¯è¿‡ä¸€ä¸ªé”™ï¼šç”¨<code>? extends Number</code>çš„Listï¼Œæƒ³å¾€é‡ŒåŠ ä¸ªIntegerï¼Œç»“æœç¼–è¯‘æŠ¥é”™ã€‚ç°åœ¨æƒ³é€šäº†ï¼Œç¼–è¯‘å™¨ä¸çŸ¥é“è¿™ä¸ªListæ˜¯å­˜Integerã€Longè¿˜æ˜¯Doubleï¼Œè¦æ˜¯åŠ äº†Integerï¼Œä¸‡ä¸€åŸæœ¬æ˜¯Longçš„Listï¼Œä¸å°±ä¹±å¥—äº†ï¼Ÿ</p>
<h4 data-id="heading-4">å®æˆ˜åœºæ™¯ï¼šæ•°å€¼é›†åˆæ±‚å’Œå·¥å…·</h4>
<p>éœ€æ±‚ï¼šå†™ä¸ªæ–¹æ³•ï¼Œèƒ½ç»™Integerã€Longã€Doubleçš„Listæ±‚å’Œï¼Œè¿”å›doubleç±»å‹ç»“æœã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * ä¸Šç•Œé€šé…ç¬¦å®æˆ˜ï¼šæ•°å€¼é›†åˆæ±‚å’Œ
 * åšæŠ¥è¡¨ç»Ÿè®¡æ—¶ç»å¸¸ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¸ç”¨ç»™æ¯ç§æ•°å€¼ç±»å‹éƒ½å†™ä¸€éæ±‚å’Œ
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UpperBoundDemo</span> {
    <span class="hljs-comment">// ä¸Šç•Œé€šé…ç¬¦ï¼šåŒ¹é…Numberæˆ–å…¶å­ç±»ï¼ˆIntegerã€Longã€Doubleéƒ½ç®—ï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">double</span> <span class="hljs-title function_">sum</span><span class="hljs-params">(List&lt;? extends Number&gt; numberList)</span> {
        <span class="hljs-type">double</span> <span class="hljs-variable">total</span> <span class="hljs-operator">=</span> <span class="hljs-number">0.0</span>;
        <span class="hljs-keyword">for</span> (Number num : numberList) {
            <span class="hljs-comment">// è¯»æ•°æ®ï¼šæ‰€æœ‰å­ç±»éƒ½èƒ½è½¬æˆNumberï¼Œå®‰å…¨</span>
            total += num.doubleValue();
        }
        
        <span class="hljs-comment">// è¸©å‘ç‚¹ï¼šæƒ³åŠ Integerï¼Œç¼–è¯‘æŠ¥é”™</span>
        <span class="hljs-comment">// numberList.add(10); // ç¼–è¯‘å™¨ä¸çŸ¥é“listæ˜¯å­˜Integerè¿˜æ˜¯Longï¼Œä¸æ•¢è®©åŠ </span>
        <span class="hljs-comment">// å°±ç®—åŠ Numberä¹Ÿä¸è¡Œ</span>
        <span class="hljs-comment">// numberList.add(10.0); // åŒæ ·æŠ¥é”™</span>
        
        <span class="hljs-keyword">return</span> total;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;Integer&gt; intList = List.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);
        List&lt;Double&gt; doubleList = List.of(<span class="hljs-number">1.5</span>, <span class="hljs-number">2.5</span>);
        
        System.out.println(<span class="hljs-string">"æ•´æ•°åˆ—è¡¨æ±‚å’Œï¼š"</span> + sum(intList)); <span class="hljs-comment">// è¾“å‡º6.0</span>
        System.out.println(<span class="hljs-string">"å°æ•°åˆ—è¡¨æ±‚å’Œï¼š"</span> + sum(doubleList)); <span class="hljs-comment">// è¾“å‡º4.0</span>
    }
}
</code></pre>
<p><strong>æ ¸å¿ƒè¦ç‚¹</strong>ï¼š<br/>
<code>? extends T</code>å°±æ˜¯â€œç”Ÿäº§è€…â€â€”â€”é›†åˆé‡Œçš„å…ƒç´ éƒ½æ˜¯<code>T</code>çš„å­ç±»ï¼Œèƒ½å®‰å…¨è¯»æˆ<code>T</code>ç±»å‹ï¼Œä½†ç»å¯¹ä¸èƒ½å†™ã€‚æ¯”å¦‚æ±‚å’Œã€å¯¼å‡ºæ•°æ®ã€éå†å–å€¼è¿™äº›åœºæ™¯ï¼Œç”¨è¿™ä¸ªé€šé…ç¬¦å‡†æ²¡é”™ã€‚</p>
<h3 data-id="heading-5">3. ä¸‹ç•Œé€šé…ç¬¦ <code>? super T</code>ï¼šåªå†™å…¥ï¼Œè¯»å–åªèƒ½æ‹¿Objectï¼ˆæ¶ˆè´¹è€…åœºæ™¯ï¼‰</h3>
<p><code>? super T</code>çš„æ„æ€æ˜¯<code>â€œåŒ¹é…Tæˆ–è€…Tçš„çˆ¶ç±»â€</code>ï¼Œæˆ‘ä¸€èˆ¬ç”¨åœ¨â€œå¾€é›†åˆé‡Œå†™æ•°æ®â€çš„åœºæ™¯ï¼Œæ¯”å¦‚æ‰¹é‡å¾€Listé‡Œæ’Integerâ€”â€”ä¸ç®¡è¿™ä¸ªListæ˜¯Listã€Listè¿˜æ˜¯Listï¼Œéƒ½èƒ½æ’ï¼Œå› ä¸ºè¿™äº›éƒ½æ˜¯Integerçš„çˆ¶ç±»ã€‚</p><p/>
<p>è¿™é‡Œä¹Ÿæœ‰ä¸ªå‘ï¼šç”¨<code>? super Tçš„List</code>è¯»æ•°æ®æ—¶ï¼Œåªèƒ½è¯»æˆObjectç±»å‹ï¼Œæƒ³è½¬æˆTç±»å‹ä¼šæŠ¥é”™ã€‚å› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“è¿™ä¸ªListæ˜¯å­˜Tçš„å“ªä¸ªçˆ¶ç±»ï¼Œæ²¡æ³•ç¡®å®šç±»å‹ã€‚</p>
<h4 data-id="heading-6">å®æˆ˜åœºæ™¯ï¼šæ•°æ®æ‰¹é‡æ’å…¥å·¥å…·</h4>
<p>éœ€æ±‚ï¼šå†™ä¸ªæ–¹æ³•ï¼Œèƒ½å¾€ä»»æ„â€œèƒ½å­˜Integerâ€çš„é›†åˆé‡Œæ‰¹é‡æ’æ•´æ•°ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * ä¸‹ç•Œé€šé…ç¬¦å®æˆ˜ï¼šæ•°æ®æ‰¹é‡æ’å…¥
 * ç”¨è¿™ä¸ªæ–¹æ³•å¾€ä¸åŒç±»å‹çš„é›†åˆé‡Œæ’æ•°æ®
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LowerBoundDemo</span> {
    <span class="hljs-comment">// ä¸‹ç•Œé€šé…ç¬¦ï¼šåŒ¹é…Integeræˆ–å…¶çˆ¶ç±»ï¼ˆNumberã€Objectï¼‰</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">batchAddInteger</span><span class="hljs-params">(List&lt;? <span class="hljs-built_in">super</span> Integer&gt; list, <span class="hljs-type">int</span> count)</span> {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= count; i++) {
            <span class="hljs-comment">// å†™æ•°æ®ï¼šIntegerèƒ½å­˜åˆ°ä»»æ„çˆ¶ç±»é›†åˆé‡Œï¼Œå®‰å…¨</span>
            list.add(i);
        }
        
        <span class="hljs-comment">// è¯»æ•°æ®ï¼šåªèƒ½æ‹¿åˆ°Objectç±»å‹ï¼Œè¿™æ˜¯å‘ç‚¹</span>
        <span class="hljs-keyword">for</span> (Object obj : list) {
            System.out.println(<span class="hljs-string">"æ’å…¥çš„å…ƒç´ ï¼š"</span> + obj);
        }
        
        <span class="hljs-comment">// æˆ‘è¸©è¿‡çš„å‘ï¼šæƒ³ç›´æ¥è¯»æˆIntegerï¼Œç¼–è¯‘æŠ¥é”™</span>
        <span class="hljs-comment">// for (Integer num : list) { // ç¼–è¯‘é”™è¯¯ï¼šlistå¯èƒ½æ˜¯Numberæˆ–Objectç±»å‹ï¼Œæ²¡æ³•è½¬Integer</span>
        <span class="hljs-comment">//     System.out.println(num);</span>
        <span class="hljs-comment">// }</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åœºæ™¯1ï¼šList&lt;Integer&gt;ï¼ˆç›´æ¥å­˜Integerï¼‰</span>
        List&lt;Integer&gt; intList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        batchAddInteger(intList, <span class="hljs-number">3</span>); <span class="hljs-comment">// æ’å…¥1ã€2ã€3</span>
        
        <span class="hljs-comment">// åœºæ™¯2ï¼šList&lt;Number&gt;ï¼ˆIntegerçš„çˆ¶ç±»ï¼‰</span>
        List&lt;Number&gt; numList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        batchAddInteger(numList, <span class="hljs-number">2</span>); <span class="hljs-comment">// æ’å…¥1ã€2</span>
        
        <span class="hljs-comment">// åœºæ™¯3ï¼šList&lt;Object&gt;ï¼ˆIntegerçš„é¡¶çº§çˆ¶ç±»ï¼‰</span>
        List&lt;Object&gt; objList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        batchAddInteger(objList, <span class="hljs-number">1</span>); <span class="hljs-comment">// æ’å…¥1</span>
    }
}
</code></pre>
<p><strong>æ ¸å¿ƒè¦ç‚¹</strong>ï¼š<br/>
<code>? super T</code>å°±æ˜¯â€œæ¶ˆè´¹è€…â€â€”â€”é›†åˆèƒ½æ¥æ”¶Tç±»å‹çš„æ•°æ®ï¼Œæ‰€ä»¥å†™æ•°æ®ç»å¯¹å®‰å…¨ï¼Œä½†è¯»æ•°æ®åªèƒ½æ‹¿Objectã€‚æ¯”å¦‚æ‰¹é‡æ’å…¥ã€æ‰¹é‡èµ‹å€¼ã€æ•°æ®å…¥åº“è¿™äº›åœºæ™¯ï¼Œå°±ç”¨è¿™ä¸ªé€šé…ç¬¦ã€‚</p>
<h3 data-id="heading-7">4. PECSåŸåˆ™é€ŸæŸ¥è¡¨</h3>





























<table><thead><tr><th>é€šé…ç¬¦ç±»å‹</th><th>èƒ½å¹²å˜›</th><th>æˆ‘å¸¸ç”¨çš„åœºæ™¯</th><th>è¯»å†™æ³¨æ„ç‚¹</th></tr></thead><tbody><tr><td>?</td><td>åŒ¹é…ä»»æ„ç±»å‹</td><td>æ‰“å°ã€åˆ¤ç©ºã€ç»Ÿè®¡é•¿åº¦</td><td>è¯»ï¼šåªèƒ½æ‹¿Objectï¼›å†™ï¼šåªèƒ½åŠ null</td></tr><tr><td>? extends T</td><td>åŒ¹é…Tæˆ–å…¶å­ç±»</td><td>æ±‚å’Œã€å¯¼å‡ºæ•°æ®ã€éå†å–å€¼</td><td>è¯»ï¼šèƒ½è½¬Tï¼›å†™ï¼šå•¥éƒ½ä¸èƒ½åŠ ï¼ˆé™¤äº†nullï¼‰</td></tr><tr><td>? super T</td><td>åŒ¹é…Tæˆ–å…¶çˆ¶ç±»</td><td>æ‰¹é‡æ’å…¥ã€æ‰¹é‡èµ‹å€¼ã€æ•°æ®å…¥åº“</td><td>è¯»ï¼šåªèƒ½æ‹¿Objectï¼›å†™ï¼šèƒ½åŠ Tç±»å‹</td></tr></tbody></table>
<h2 data-id="heading-8">äºŒã€ç±»å‹æ“¦é™¤ï¼šæ³›å‹æœ€å‘çš„åœ°æ–¹</h2>
<p>å¾ˆå¤šäººä¸çŸ¥é“ï¼Œ<code>æ³›å‹å…¶å®æ˜¯Javaçš„â€œè¯­æ³•ç³–â€</code>â€”â€”ç¼–è¯‘çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæŠŠæ‰€æœ‰æ³›å‹ä¿¡æ¯éƒ½æ“¦é™¤æ‰ï¼Œæ¢æˆObjectæˆ–è€…é™å®šç±»å‹ã€‚è¿™å°±å¯¼è‡´äº†ä¸€å †å‘ï¼Œæˆ‘ç»™å¤§å®¶åˆ—å‡ ä¸ªæˆ‘è¸©è¿‡çš„é«˜é¢‘å‘ï¼Œä¸€ä¸ªä¸ªè¯´æ€ä¹ˆè§£å†³ã€‚</p>
<h3 data-id="heading-9">1. å…ˆææ‡‚ç±»å‹æ“¦é™¤æ˜¯å•¥</h3>
<p>ç¼–è¯‘çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šæŠŠæ³›å‹ä»£ç æ”¹æˆâ€œåŸå§‹ä»£ç â€ï¼š</p>
<ul>
<li>Listä¼šè¢«æ“¦æˆListï¼Œè¯»æ•°æ®æ—¶è‡ªåŠ¨åŠ (String)å¼ºåˆ¶è½¬æ¢ï¼›</li>
<li>List&lt;? extends Number&gt;ä¼šè¢«æ“¦æˆListï¼›</li>
<li>æ³›å‹ç±»ã€æ³›å‹æ–¹æ³•é‡Œçš„éƒ½ä¼šè¢«æ“¦æˆObjectï¼ˆæœ‰ä¸Šé™å°±æ“¦æˆä¸Šé™ç±»å‹ï¼‰ã€‚</li>
</ul>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå’±ä»¬å†™çš„æ³›å‹ä»£ç ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç¼–è¯‘å‰</span>
List&lt;String&gt; strList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
strList.add(<span class="hljs-string">"Java"</span>);
<span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> strList.get(<span class="hljs-number">0</span>);

<span class="hljs-comment">// ç¼–è¯‘åï¼ˆç¼–è¯‘å™¨è‡ªåŠ¨æ”¹çš„ï¼‰</span>
<span class="hljs-type">List</span> <span class="hljs-variable">strList</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>();
strList.add(<span class="hljs-string">"Java"</span>);
<span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> (String) strList.get(<span class="hljs-number">0</span>); <span class="hljs-comment">// è‡ªåŠ¨åŠ äº†å¼ºåˆ¶è½¬æ¢</span>
</code></pre>
<p>çœ‹å‡ºæ¥äº†å§ï¼Ÿæ³›å‹åªåœ¨ç¼–è¯‘æœŸç®¡ç±»å‹å®‰å…¨ï¼Œè¿è¡Œæ—¶JVMæ ¹æœ¬ä¸çŸ¥é“æ³›å‹æ˜¯å•¥ï¼Œè¿™å°±æ˜¯æ‰€æœ‰å‘çš„æ ¹æºã€‚</p>
<h3 data-id="heading-10">2. æˆ‘è¸©è¿‡çš„5ä¸ªé«˜é¢‘å‘ï¼ˆé™„è§£å†³æ–¹æ¡ˆï¼‰</h3>
<h4 data-id="heading-11">å‘1ï¼šæ³›å‹æ•°ç»„åˆ›å»ºå¤±è´¥ï¼ˆæœ€å¸¸è§çš„å‘ï¼‰</h4>
<p>æˆ‘å½“åˆæƒ³åˆ›å»ºä¸€ä¸ªList[]æ•°ç»„ï¼Œç»“æœç¼–è¯‘ç›´æ¥æŠ¥é”™ï¼›åæ¥æƒ³å¼ºè¡Œè½¬ç±»å‹ï¼Œè¿è¡Œæ—¶åˆæŠ›ClassCastExceptionã€‚</p>
<p><strong>è¸©å‘ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æˆ‘è¸©è¿‡çš„å‘ï¼šæ³›å‹æ•°ç»„åˆ›å»ºå¤±è´¥
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeErasureDemo1</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// å‘1ï¼šç›´æ¥åˆ›å»ºæ³›å‹æ•°ç»„ï¼Œç¼–è¯‘æŠ¥é”™</span>
        <span class="hljs-comment">// List&lt;String&gt;[] strArr = new List&lt;String&gt;[10]; // ç¼–è¯‘é”™è¯¯ï¼šGeneric array creation</span>
        
        <span class="hljs-comment">// å‘2ï¼šå¼ºè¡Œè½¬ç±»å‹ï¼Œè¿è¡Œæ—¶æŠ¥é”™</span>
        List&lt;String&gt;[] strArr2 = (List&lt;String&gt;[]) <span class="hljs-keyword">new</span> <span class="hljs-title class_">List</span>[<span class="hljs-number">10</span>];
        strArr2[<span class="hljs-number">0</span>] = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;String&gt;();
        <span class="hljs-comment">// è¿è¡Œæ—¶å‘ï¼šæ•°ç»„å®é™…æ˜¯List[]ï¼Œèƒ½å­˜ä»»æ„List</span>
        List&lt;Integer&gt; intList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        intList.add(<span class="hljs-number">123</span>);
        strArr2[<span class="hljs-number">0</span>] = (List&lt;String&gt;) intList; <span class="hljs-comment">// ç¼–è¯‘è¿‡äº†ï¼Œè¿è¡Œæ—¶æŠ›ClassCastException</span>
    }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong><br/>
æ•°ç»„æ˜¯â€œåå˜â€çš„ï¼ˆæ¯”å¦‚String[]æ˜¯Object[]çš„å­ç±»ï¼‰ï¼Œä½†æ³›å‹æ˜¯â€œä¸å˜â€çš„ï¼ˆListä¸æ˜¯Listçš„å­ç±»ï¼‰ã€‚ç±»å‹æ“¦é™¤åï¼ŒJVMåˆ†ä¸æ¸…List[]å’ŒList[]ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨ç›´æ¥ä¸è®©åˆ›å»ºæ³›å‹æ•°ç»„ã€‚</p><p/>
<p><strong>æˆ‘çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼š<br/>
åˆ«ç”¨æ•°ç»„ï¼Œæ”¹ç”¨List&lt;List&gt;ï¼è¿™æ˜¯æˆ‘ç°åœ¨æœ€å¸¸ç”¨çš„åŠæ³•ï¼Œç®€å•åˆå®‰å…¨ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æˆ‘çš„è§£å†³æ–¹æ¡ˆï¼šç”¨Listä»£æ›¿æ³›å‹æ•°ç»„
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeErasureDemo1Fix</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// ç”¨List&lt;List&lt;String&gt;&gt;ä»£æ›¿List&lt;String&gt;[]</span>
        List&lt;List&lt;String&gt;&gt; strListContainer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        List&lt;String&gt; strList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        strList.add(<span class="hljs-string">"Java"</span>);
        strListContainer.add(strList);
        
        <span class="hljs-comment">// ç±»å‹å®‰å…¨ï¼šæƒ³å­˜List&lt;Integer&gt;ç›´æ¥ç¼–è¯‘æŠ¥é”™ï¼Œä¸ä¼šæœ‰è¿è¡Œæ—¶é—®é¢˜</span>
        <span class="hljs-comment">// List&lt;Integer&gt; intList = List.of(1);</span>
        <span class="hljs-comment">// strListContainer.add(intList); // ç¼–è¯‘é”™è¯¯ï¼Œç±»å‹å¯¹ä¸ä¸Š</span>
    }
}
</code></pre>
<h4 data-id="heading-12">å‘2ï¼šç”¨instanceofåˆ¤æ–­æ³›å‹ç±»å‹</h4>
<p>æˆ‘å½“åˆæƒ³åˆ¤æ–­ä¸€ä¸ªListæ˜¯ä¸æ˜¯Listï¼Œå†™äº†instanceof Listï¼Œç»“æœç¼–è¯‘æŠ¥é”™ã€‚</p>
<p><strong>è¸©å‘ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æˆ‘è¸©è¿‡çš„å‘ï¼šinstanceofåˆ¤æ–­æ³›å‹ç±»å‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeErasureDemo2</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;String&gt; strList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-comment">// å‘ï¼šinstanceofæ²¡æ³•åˆ¤æ–­æ³›å‹ç±»å‹ï¼Œç¼–è¯‘æŠ¥é”™</span>
        <span class="hljs-comment">// if (strList instanceof List&lt;String&gt;) { // ç¼–è¯‘é”™è¯¯</span>
        
        <span class="hljs-comment">// çœ‹ä¼¼èƒ½å†™ï¼Œä½†æ²¡æ„ä¹‰â€”â€”åªèƒ½åˆ¤æ–­æ˜¯ä¸æ˜¯Listï¼Œæ²¡æ³•åˆ¤æ–­æ³›å‹</span>
        <span class="hljs-keyword">if</span> (strList <span class="hljs-keyword">instanceof</span> List&lt;?&gt;) {
            System.out.println(<span class="hljs-string">"æ˜¯Listï¼Œä½†ä¸çŸ¥é“å­˜çš„æ˜¯å•¥"</span>);
        }
    }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong><br/>
è¿è¡Œæ—¶æ³›å‹ä¿¡æ¯å·²ç»è¢«æ“¦é™¤äº†ï¼ŒJVMåªçŸ¥é“æ˜¯Listï¼Œä¸çŸ¥é“æ˜¯Listè¿˜æ˜¯Listï¼Œæ‰€ä»¥instanceofæ ¹æœ¬åˆ¤æ–­ä¸äº†ã€‚</p>
<p><strong>æˆ‘çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼š<br/>
ä¼ ä¸ªClassç±»å‹ä»¤ç‰Œï¼Œéå†é›†åˆåˆ¤æ–­æ¯ä¸ªå…ƒç´ çš„ç±»å‹ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * æˆ‘çš„è§£å†³æ–¹æ¡ˆï¼šç”¨ç±»å‹ä»¤ç‰Œåˆ¤æ–­å…ƒç´ ç±»å‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeErasureDemo2Fix</span> {
    <span class="hljs-comment">// æˆ‘é¡¹ç›®é‡Œçš„é€šç”¨æ–¹æ³•ï¼šåˆ¤æ–­Listé‡Œçš„å…ƒç´ æ˜¯ä¸æ˜¯æŒ‡å®šç±»å‹</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-type">boolean</span> <span class="hljs-title function_">isListOfType</span><span class="hljs-params">(List&lt;?&gt; list, Class&lt;T&gt; type)</span> {
        <span class="hljs-keyword">if</span> (list.isEmpty()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; <span class="hljs-comment">// ç©ºé›†åˆæ²¡æ³•åˆ¤æ–­</span>
        }
        <span class="hljs-keyword">for</span> (Object obj : list) {
            <span class="hljs-keyword">if</span> (!type.isInstance(obj)) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;String&gt; strList = List.of(<span class="hljs-string">"Java"</span>, <span class="hljs-string">"æ³›å‹"</span>);
        List&lt;Integer&gt; intList = List.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
        
        <span class="hljs-comment">// ç”¨ç±»å‹ä»¤ç‰Œåˆ¤æ–­ï¼Œé è°±ï¼</span>
        System.out.println(<span class="hljs-string">"æ˜¯ä¸æ˜¯Stringåˆ—è¡¨ï¼š"</span> + isListOfType(strList, String.class)); <span class="hljs-comment">// true</span>
        System.out.println(<span class="hljs-string">"æ˜¯ä¸æ˜¯Stringåˆ—è¡¨ï¼š"</span> + isListOfType(intList, String.class)); <span class="hljs-comment">// false</span>
    }
}
</code></pre>
<h4 data-id="heading-13">å‘3ï¼šæ³›å‹ç±»é‡Œå®šä¹‰é™æ€æ³›å‹å˜é‡</h4>
<p>æˆ‘å½“åˆåœ¨æ³›å‹ç±»é‡Œå†™äº†ä¸ªstatic T staticValueï¼Œç»“æœç¼–è¯‘ç›´æ¥æŠ¥é”™ï¼Œåæ¥æ‰çŸ¥é“é™æ€å˜é‡å’Œæ³›å‹å®ä¾‹æ²¡å…³ç³»ã€‚</p>
<p><strong>è¸©å‘ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æˆ‘è¸©è¿‡çš„å‘ï¼šæ³›å‹ç±»é‡Œçš„é™æ€å˜é‡ä¸èƒ½ç”¨æ³›å‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeErasureDemo3</span>&lt;T&gt; {
    <span class="hljs-comment">// å‘ï¼šé™æ€å˜é‡ç”¨Tï¼Œç¼–è¯‘æŠ¥é”™</span>
    <span class="hljs-comment">// private static T staticValue; // Compile error: Cannot make a static reference to the non-static type T</span>
    
    <span class="hljs-comment">// å‹‰å¼ºèƒ½å†™ï¼Œä½†æ²¡æ„ä¹‰</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;?&gt; staticList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong><br/>
é™æ€å˜é‡å±äºâ€œç±»â€ï¼Œä¸æ˜¯å±äºâ€œå®ä¾‹â€ã€‚æ¯”å¦‚æˆ‘åˆ›å»ºTypeErasureDemo3å’ŒTypeErasureDemo3ï¼Œè¿™ä¸¤ä¸ªå®ä¾‹å…±äº«åŒä¸€ä¸ªé™æ€å˜é‡ï¼Œç¼–è¯‘å™¨æ²¡æ³•ç»™é™æ€å˜é‡ç»‘å®šå…·ä½“çš„Tç±»å‹ã€‚</p>
<p><strong>æˆ‘çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼š<br/>
é™æ€æ–¹æ³•å•ç‹¬å®šä¹‰æ³›å‹å‚æ•°ï¼Œåˆ«ç”¨ç±»çš„æ³›å‹å‚æ•°ï¼›é™æ€å˜é‡è¦ä¹ˆç”¨å…·ä½“ç±»å‹ï¼Œè¦ä¹ˆç”¨?ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * æˆ‘çš„è§£å†³æ–¹æ¡ˆï¼šé™æ€æ–¹æ³•è‡ªå·±å®šä¹‰æ³›å‹å‚æ•°
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeErasureDemo3Fix</span> {
    <span class="hljs-comment">// é™æ€å˜é‡ï¼šç”¨å…·ä½“ç±»å‹ï¼Œåˆ«ç”¨æ³›å‹</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> List&lt;String&gt; staticStrList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();

    <span class="hljs-comment">// é™æ€æ³›å‹æ–¹æ³•ï¼šè‡ªå·±å®šä¹‰&lt;T&gt;ï¼Œå’Œç±»æ— å…³</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">addElement</span><span class="hljs-params">(List&lt;T&gt; list, T element)</span> {
        list.add(element);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;String&gt; strList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        List&lt;Integer&gt; intList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        
        <span class="hljs-comment">// é™æ€æ–¹æ³•èƒ½æ”¯æŒä¸åŒç±»å‹ï¼Œå¥½ç”¨ï¼</span>
        addElement(strList, <span class="hljs-string">"Java"</span>);
        addElement(intList, <span class="hljs-number">123</span>);
        
        System.out.println(strList); <span class="hljs-comment">// [Java]</span>
        System.out.println(intList); <span class="hljs-comment">// [123]</span>
    }
}
</code></pre>
<h4 data-id="heading-14">å‘4ï¼štry-catchæ•è·æ³›å‹å¼‚å¸¸</h4>
<p>æˆ‘å½“åˆæƒ³è‡ªå®šä¹‰ä¸€ä¸ªæ³›å‹å¼‚å¸¸ï¼Œç„¶åç”¨catchæ•è·GenericExceptionï¼Œç»“æœç¼–è¯‘æŠ¥é”™ã€‚</p>
<p><strong>è¸©å‘ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æˆ‘è¸©è¿‡çš„å‘ï¼šæ•è·æ³›å‹å¼‚å¸¸
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeErasureDemo4</span> {
    <span class="hljs-comment">// è‡ªå®šä¹‰æ³›å‹å¼‚å¸¸ï¼ˆç¼–è¯‘ä¸æŠ¥é”™ï¼Œä½†ç”¨ä¸äº†ï¼‰</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenericException</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Exception</span> {
        <span class="hljs-keyword">private</span> T errorData;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">GenericException</span><span class="hljs-params">(T errorData)</span> {
            <span class="hljs-built_in">this</span>.errorData = errorData;
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericException</span>&lt;&gt;(<span class="hljs-string">"æµ‹è¯•å¼‚å¸¸"</span>);
        } <span class="hljs-keyword">catch</span> (GenericException&lt;String&gt; e) { <span class="hljs-comment">// ç¼–è¯‘é”™è¯¯ï¼šä¸è®©æ•æ³›å‹å¼‚å¸¸</span>
            e.printStackTrace();
        }
    }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong><br/>
å¼‚å¸¸å¤„ç†æ˜¯è¿è¡Œæ—¶çš„äº‹ï¼Œç±»å‹æ“¦é™¤åï¼ŒGenericExceptionå’ŒGenericExceptionéƒ½å˜æˆäº†GenericExceptionï¼ŒJVMåˆ†ä¸æ¸…ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨ç›´æ¥ä¸è®©æ•ã€‚</p>
<p><strong>æˆ‘çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼š<br/>
åˆ«å®šä¹‰æ³›å‹å¼‚å¸¸ï¼Œæ”¹ç”¨Objectå­˜é”™è¯¯æ•°æ®ï¼Œç„¶åå†™ä¸ªæ³›å‹æ–¹æ³•å–æ•°æ®ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æˆ‘çš„è§£å†³æ–¹æ¡ˆï¼šéæ³›å‹å¼‚å¸¸+æ³›å‹getter
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeErasureDemo4Fix</span> {
    <span class="hljs-comment">// éæ³›å‹å¼‚å¸¸ï¼Œç”¨Objectå­˜ä»»æ„ç±»å‹æ•°æ®</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DataException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Exception</span> {
        <span class="hljs-keyword">private</span> Object errorData;
        
        <span class="hljs-keyword">public</span> <span class="hljs-title function_">DataException</span><span class="hljs-params">(Object errorData)</span> {
            <span class="hljs-built_in">this</span>.errorData = errorData;
        }
        
        <span class="hljs-comment">// æ³›å‹æ–¹æ³•ï¼šå®‰å…¨å–æ•°æ®ï¼Œè‡ªå·±æ§åˆ¶ç±»å‹è½¬æ¢</span>
        <span class="hljs-keyword">public</span> &lt;T&gt; T <span class="hljs-title function_">getErrorData</span><span class="hljs-params">(Class&lt;T&gt; type)</span> {
            <span class="hljs-keyword">if</span> (type.isInstance(errorData)) {
                <span class="hljs-keyword">return</span> type.cast(errorData);
            }
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassCastException</span>(<span class="hljs-string">"ç±»å‹å¯¹ä¸ä¸Š"</span>);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">DataException</span>(<span class="hljs-string">"å­—ç¬¦ä¸²é”™è¯¯"</span>);
            <span class="hljs-comment">// throw new DataException(12345); // ä¹Ÿèƒ½ä¼ æ•´æ•°</span>
        } <span class="hljs-keyword">catch</span> (DataException e) {
            <span class="hljs-comment">// å®‰å…¨å–æ•°æ®ï¼Œä¸ä¼šä¹±è½¬</span>
            <span class="hljs-type">String</span> <span class="hljs-variable">errorMsg</span> <span class="hljs-operator">=</span> e.getErrorData(String.class);
            System.out.println(<span class="hljs-string">"é”™è¯¯ä¿¡æ¯ï¼š"</span> + errorMsg);
        }
    }
}
</code></pre>
<h4 data-id="heading-15">å‘5ï¼šæ³›å‹æ–¹æ³•é‡è½½</h4>
<p>æˆ‘å½“åˆå†™äº†ä¸¤ä¸ªprocessDataæ–¹æ³•ï¼Œä¸€ä¸ªæ¥Listï¼Œä¸€ä¸ªæ¥Listï¼Œç»“æœç¼–è¯‘æŠ¥é”™ï¼Œè¯´æ–¹æ³•ç­¾åé‡å¤ã€‚</p>
<p><strong>è¸©å‘ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æˆ‘è¸©è¿‡çš„å‘ï¼šæ³›å‹æ–¹æ³•é‡è½½å†²çª
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeErasureDemo5</span> {
    <span class="hljs-comment">// æ–¹æ³•1ï¼šå¤„ç†Stringåˆ—è¡¨</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processData</span><span class="hljs-params">(List&lt;String&gt; list)</span> {
        System.out.println(<span class="hljs-string">"å¤„ç†å­—ç¬¦ä¸²"</span>);
    }
    
    <span class="hljs-comment">// æ–¹æ³•2ï¼šå¤„ç†Integeråˆ—è¡¨ï¼Œç¼–è¯‘æŠ¥é”™</span>
    <span class="hljs-comment">// public static void processData(List&lt;Integer&gt; list) { // ç¼–è¯‘é”™è¯¯ï¼šç­¾åæ“¦é™¤åä¸€æ ·</span>
    <span class="hljs-comment">//     System.out.println("å¤„ç†æ•´æ•°");</span>
    <span class="hljs-comment">// }</span>
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong><br/>
ç±»å‹æ“¦é™¤åï¼ŒListå’ŒListéƒ½å˜æˆäº†Listï¼Œä¸¤ä¸ªæ–¹æ³•çš„ç­¾åéƒ½æ˜¯processData(List)ï¼Œç¼–è¯‘å™¨åˆ†ä¸æ¸…ï¼Œæ‰€ä»¥ä¸è®©é‡è½½ã€‚</p>
<p><strong>æˆ‘çš„è§£å†³æ–¹æ¡ˆ</strong>ï¼š<br/>
è¦ä¹ˆåŠ ä¸ªClasså‚æ•°åŒºåˆ†ç­¾åï¼Œè¦ä¹ˆç›´æ¥æ”¹æ–¹æ³•åã€‚æˆ‘ä¸€èˆ¬åŠ ç±»å‹ä»¤ç‰Œï¼Œä¸ç”¨æ”¹æ–¹æ³•åã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-comment">/**
 * æˆ‘çš„è§£å†³æ–¹æ¡ˆï¼šåŠ ç±»å‹ä»¤ç‰ŒåŒºåˆ†é‡è½½
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TypeErasureDemo5Fix</span> {
    <span class="hljs-comment">// é€šç”¨æ–¹æ³•ï¼šåŠ ç±»å‹ä»¤ç‰Œï¼Œåˆ¤æ–­ç±»å‹åå¤„ç†</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">processData</span><span class="hljs-params">(List&lt;T&gt; list, Class&lt;T&gt; type)</span> {
        <span class="hljs-keyword">if</span> (type == String.class) {
            System.out.println(<span class="hljs-string">"å¤„ç†å­—ç¬¦ä¸²åˆ—è¡¨ï¼š"</span> + list);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type == Integer.class) {
            System.out.println(<span class="hljs-string">"å¤„ç†æ•´æ•°åˆ—è¡¨ï¼š"</span> + list);
        } <span class="hljs-keyword">else</span> {
            System.out.println(<span class="hljs-string">"å¤„ç†å…¶ä»–ç±»å‹"</span>);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        List&lt;String&gt; strList = List.of(<span class="hljs-string">"Java"</span>, <span class="hljs-string">"æ³›å‹"</span>);
        List&lt;Integer&gt; intList = List.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
        
        <span class="hljs-comment">// ä¼ ç±»å‹ä»¤ç‰Œï¼Œå°±èƒ½åŒºåˆ†äº†</span>
        processData(strList, String.class);
        processData(intList, Integer.class);
    }
}
</code></pre>
<h2 data-id="heading-16">ä¸‰ã€å®æˆ˜æ¡ˆä¾‹ï¼šé€šç”¨æ•°æ®æ ¡éªŒå·¥å…·ç±»</h2>
<p>å…‰è¯´ä¸ç»ƒå‡æŠŠå¼ï¼Œæˆ‘æŠŠä¸Šé¢çš„çŸ¥è¯†ç‚¹éƒ½æ‰è¿›ä¸€ä¸ªâ€œé€šç”¨æ•°æ®æ ¡éªŒå·¥å…·ç±»â€é‡Œï¼Œè¿™æ˜¯æˆ‘å®é™…é¡¹ç›®é‡Œç”¨æ¥æ ¡éªŒå„ç§æ•°æ®çš„ï¼Œèƒ½é¿å¼€å‰é¢è¯´çš„æ‰€æœ‰å‘ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥æ‹¿å»æ”¹æ”¹ç”¨ã€‚</p>
<h3 data-id="heading-17">1. éœ€æ±‚è¯´æ˜</h3>
<p>æˆ‘åšçš„è¿™ä¸ªå·¥å…·ç±»ï¼Œè¦å®ç°è¿™å‡ ä¸ªåŠŸèƒ½ï¼š</p>
<ol>
<li>æ ¡éªŒä»»æ„ç±»å‹çš„Listé‡Œçš„å…ƒç´ æ˜¯å¦ç¬¦åˆè§„åˆ™ï¼ˆæ¯”å¦‚å­—ç¬¦ä¸²éç©ºã€æ•°å€¼å¤§äº0ï¼‰ï¼›</li>
<li>æ‰¹é‡æŠŠç¬¦åˆè§„åˆ™çš„æ•°æ®å†™åˆ°å¦ä¸€ä¸ªé›†åˆé‡Œï¼›</li>
<li>èƒ½è·å–æ ¡éªŒå¤±è´¥çš„æ•°æ®ï¼Œè¿˜èƒ½æŠ›å‡ºå¸¦é”™è¯¯æ•°æ®çš„å¼‚å¸¸ï¼›</li>
<li>é¿å¼€æ³›å‹çš„å„ç§å‘ï¼Œä¿è¯ç±»å‹å®‰å…¨ã€‚</li>
</ol>
<h3 data-id="heading-18">2. å®Œæ•´ä»£ç </h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Objects;
<span class="hljs-keyword">import</span> java.util.function.Predicate;

<span class="hljs-comment">/**
 * é€šç”¨æ•°æ®æ ¡éªŒå·¥å…·ç±»
 * åŠŸèƒ½ï¼šæ ¡éªŒä»»æ„ç±»å‹æ•°æ®ã€æ‰¹é‡å†™å…¥æœ‰æ•ˆæ•°æ®ã€è¿”å›æ— æ•ˆæ•°æ®ã€æŠ›å‡ºå¸¦é”™è¯¯ä¿¡æ¯çš„å¼‚å¸¸
 * é¿å‘ç‚¹ï¼šé€šé…ç¬¦ç”¨æ³•ã€ç±»å‹æ“¦é™¤ã€é™æ€æ³›å‹ã€å¼‚å¸¸å¤„ç†
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GenericDataValidator</span>&lt;T&gt; {
    <span class="hljs-comment">// é™æ€å¸¸é‡ï¼šä¸ç”¨æ³›å‹ï¼Œé¿å…é™æ€æ³›å‹å‘</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">DEFAULT_ERROR_MSG</span> <span class="hljs-operator">=</span> <span class="hljs-string">"æ•°æ®æ ¡éªŒå¤±è´¥"</span>;
    <span class="hljs-comment">// ç±»å‹ä»¤ç‰Œï¼šè§£å†³ç±»å‹æ“¦é™¤åæ²¡æ³•åˆ¤æ–­ç±»å‹çš„é—®é¢˜</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Class&lt;T&gt; typeToken;

    <span class="hljs-comment">// æ„é€ æ–¹æ³•ï¼šä¼ å…¥ç±»å‹ä»¤ç‰Œï¼Œå¿…é¡»çš„ï¼</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">GenericDataValidator</span><span class="hljs-params">(Class&lt;T&gt; typeToken)</span> {
        <span class="hljs-built_in">this</span>.typeToken = typeToken;
    }

    <span class="hljs-comment">/**
     * æ ¡éªŒæ‰€æœ‰å…ƒç´ æ˜¯å¦ç¬¦åˆè§„åˆ™ï¼ˆä¸Šç•Œé€šé…ç¬¦ï¼šåªè¯»å–ï¼Œç”Ÿäº§è€…ï¼‰
     * <span class="hljs-doctag">@param</span> dataList å¾…æ ¡éªŒé›†åˆï¼ˆTæˆ–Tçš„å­ç±»ï¼‰
     * <span class="hljs-doctag">@param</span> rule æ ¡éªŒè§„åˆ™ï¼ˆæ¯”å¦‚å­—ç¬¦ä¸²éç©ºã€æ•°å€¼å¤§äº0ï¼‰
     * <span class="hljs-doctag">@return</span> true=å…¨éƒ¨ç¬¦åˆï¼Œfalse=æœ‰ä¸ç¬¦åˆçš„
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">validateAll</span><span class="hljs-params">(List&lt;? extends T&gt; dataList, Predicate&lt;T&gt; rule)</span> {
        <span class="hljs-keyword">if</span> (dataList == <span class="hljs-literal">null</span> || dataList.isEmpty()) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">for</span> (T data : dataList) {
            <span class="hljs-comment">// å…ˆåˆ¤æ–­ç±»å‹å¯¹ä¸å¯¹ï¼Œé¿å…ç±»å‹æ“¦é™¤å¯¼è‡´çš„è½¬æ¢å¼‚å¸¸</span>
            <span class="hljs-keyword">if</span> (!typeToken.isInstance(data)) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassCastException</span>(<span class="hljs-string">"é›†åˆé‡Œæœ‰ä¸æ˜¯"</span> + typeToken.getName() + <span class="hljs-string">"ç±»å‹çš„æ•°æ®"</span>);
            }
            <span class="hljs-comment">// å†æ ¡éªŒè§„åˆ™</span>
            <span class="hljs-keyword">if</span> (!rule.test(data)) {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-comment">/**
     * æ‰¹é‡å†™å…¥æœ‰æ•ˆæ•°æ®ï¼ˆä¸‹ç•Œé€šé…ç¬¦ï¼šåªå†™å…¥ï¼Œæ¶ˆè´¹è€…ï¼‰
     * <span class="hljs-doctag">@param</span> targetList ç›®æ ‡é›†åˆï¼ˆTæˆ–Tçš„çˆ¶ç±»ï¼‰
     * <span class="hljs-doctag">@param</span> sourceList æºæ•°æ®é›†åˆ
     * <span class="hljs-doctag">@param</span> rule æ ¡éªŒè§„åˆ™
     * <span class="hljs-doctag">@return</span> æˆåŠŸå†™å…¥çš„æ•°é‡
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">addValidData</span><span class="hljs-params">(List&lt;? <span class="hljs-built_in">super</span> T&gt; targetList, List&lt;? extends T&gt; sourceList, Predicate&lt;T&gt; rule)</span> {
        <span class="hljs-comment">// å…ˆåˆ¤ç©ºï¼Œé¿å…ç©ºæŒ‡é’ˆ</span>
        Objects.requireNonNull(targetList, <span class="hljs-string">"ç›®æ ‡é›†åˆä¸èƒ½ä¸ºnull"</span>);
        Objects.requireNonNull(sourceList, <span class="hljs-string">"æºæ•°æ®é›†åˆä¸èƒ½ä¸ºnull"</span>);
        
        <span class="hljs-type">int</span> <span class="hljs-variable">successCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (T data : sourceList) {
            <span class="hljs-keyword">if</span> (rule.test(data)) {
                targetList.add(data); <span class="hljs-comment">// ä¸‹ç•Œé€šé…ç¬¦ï¼Œå†™å…¥å®‰å…¨</span>
                successCount++;
            }
        }
        <span class="hljs-keyword">return</span> successCount;
    }

    <span class="hljs-comment">/**
     * è·å–æ ¡éªŒå¤±è´¥çš„æ•°æ®ï¼ˆé™æ€æ³›å‹æ–¹æ³•ï¼šè‡ªå·±å®šä¹‰&lt;T&gt;ï¼Œé¿å¼€é™æ€æ³›å‹å‘ï¼‰
     * <span class="hljs-doctag">@param</span> dataList å¾…æ ¡éªŒé›†åˆ
     * <span class="hljs-doctag">@param</span> rule æ ¡éªŒè§„åˆ™
     * <span class="hljs-doctag">@param</span> &lt;T&gt; æ•°æ®ç±»å‹
     * <span class="hljs-doctag">@return</span> å¤±è´¥çš„æ•°æ®åˆ—è¡¨
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; List&lt;T&gt; <span class="hljs-title function_">getInvalidData</span><span class="hljs-params">(List&lt;? extends T&gt; dataList, Predicate&lt;T&gt; rule)</span> {
        List&lt;T&gt; invalidList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-keyword">if</span> (dataList == <span class="hljs-literal">null</span> || dataList.isEmpty()) {
            <span class="hljs-keyword">return</span> invalidList;
        }
        <span class="hljs-keyword">for</span> (T data : dataList) {
            <span class="hljs-keyword">if</span> (!rule.test(data)) {
                invalidList.add(data);
            }
        }
        <span class="hljs-keyword">return</span> invalidList;
    }

    <span class="hljs-comment">/**
     * è‡ªå®šä¹‰å¼‚å¸¸ï¼šéæ³›å‹ï¼Œç”¨Objectå­˜é”™è¯¯æ•°æ®ï¼ˆé¿å¼€æ³›å‹å¼‚å¸¸å‘ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ValidationException</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">RuntimeException</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Object invalidData; <span class="hljs-comment">// å­˜ä»»æ„ç±»å‹çš„é”™è¯¯æ•°æ®</span>

        <span class="hljs-keyword">public</span> <span class="hljs-title function_">ValidationException</span><span class="hljs-params">(String message, Object invalidData)</span> {
            <span class="hljs-built_in">super</span>(message);
            <span class="hljs-built_in">this</span>.invalidData = invalidData;
        }

        <span class="hljs-comment">// æ³›å‹æ–¹æ³•ï¼šå®‰å…¨è·å–é”™è¯¯æ•°æ®</span>
        <span class="hljs-keyword">public</span> &lt;E&gt; E <span class="hljs-title function_">getInvalidData</span><span class="hljs-params">(Class&lt;E&gt; type)</span> {
            <span class="hljs-keyword">if</span> (type.isInstance(invalidData)) {
                <span class="hljs-keyword">return</span> type.cast(invalidData);
            }
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassCastException</span>(<span class="hljs-string">"é”™è¯¯æ•°æ®ç±»å‹ä¸å¯¹ï¼Œæƒ³è¦ï¼š"</span> + type.getName());
        }
    }

    <span class="hljs-comment">/**
     * ä¸¥æ ¼æ ¡éªŒï¼šå¤±è´¥å°±æŠ›å¼‚å¸¸
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">strictValidate</span><span class="hljs-params">(List&lt;? extends T&gt; dataList, Predicate&lt;T&gt; rule)</span> {
        List&lt;T&gt; invalidData = getInvalidData(dataList, rule);
        <span class="hljs-keyword">if</span> (!invalidData.isEmpty()) {
            <span class="hljs-comment">// æŠ›éæ³›å‹å¼‚å¸¸ï¼Œå¸¦é”™è¯¯æ•°æ®</span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ValidationException</span>(DEFAULT_ERROR_MSG, invalidData.get(<span class="hljs-number">0</span>));
        }
    }

    <span class="hljs-comment">// æµ‹è¯•æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// 1. å­—ç¬¦ä¸²æ ¡éªŒç¤ºä¾‹ï¼ˆæ ¡éªŒéç©ºéç©ºç™½ï¼‰</span>
        GenericDataValidator&lt;String&gt; strValidator = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericDataValidator</span>&lt;&gt;(String.class);
        List&lt;String&gt; strList = List.of(<span class="hljs-string">"Java"</span>, <span class="hljs-string">""</span>, <span class="hljs-string">"æ³›å‹"</span>, <span class="hljs-string">"   "</span>, <span class="hljs-string">"é«˜çº§ç‰¹æ€§"</span>);
        <span class="hljs-comment">// æ ¡éªŒè§„åˆ™ï¼šéç©ºä¸”éç©ºç™½</span>
        Predicate&lt;String&gt; strRule = s -&gt; s != <span class="hljs-literal">null</span> &amp;&amp; !s.isBlank();
        
        <span class="hljs-comment">// æ ¡éªŒæ‰€æœ‰æ•°æ®</span>
        <span class="hljs-type">boolean</span> <span class="hljs-variable">allValid</span> <span class="hljs-operator">=</span> strValidator.validateAll(strList, strRule);
        System.out.println(<span class="hljs-string">"å­—ç¬¦ä¸²æ˜¯å¦å…¨éƒ¨æœ‰æ•ˆï¼š"</span> + allValid); <span class="hljs-comment">// false</span>
        
        <span class="hljs-comment">// è·å–æ— æ•ˆæ•°æ®</span>
        List&lt;String&gt; invalidStr = GenericDataValidator.getInvalidData(strList, strRule);
        System.out.println(<span class="hljs-string">"æ— æ•ˆå­—ç¬¦ä¸²ï¼š"</span> + invalidStr); <span class="hljs-comment">// ["", "   "]</span>
        
        <span class="hljs-comment">// æ‰¹é‡å†™å…¥æœ‰æ•ˆæ•°æ®åˆ°Objecté›†åˆï¼ˆä¸‹ç•Œé€šé…ç¬¦ï¼‰</span>
        List&lt;Object&gt; targetList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
        <span class="hljs-type">int</span> <span class="hljs-variable">successCount</span> <span class="hljs-operator">=</span> strValidator.addValidData(targetList, strList, strRule);
        System.out.println(<span class="hljs-string">"æˆåŠŸå†™å…¥æœ‰æ•ˆå­—ç¬¦ä¸²æ•°é‡ï¼š"</span> + successCount); <span class="hljs-comment">// 3</span>
        System.out.println(<span class="hljs-string">"ç›®æ ‡é›†åˆå†…å®¹ï¼š"</span> + targetList); <span class="hljs-comment">// [Java, æ³›å‹, é«˜çº§ç‰¹æ€§]</span>
        
        <span class="hljs-comment">// ä¸¥æ ¼æ ¡éªŒï¼Œå¤±è´¥æŠ›å¼‚å¸¸</span>
        <span class="hljs-keyword">try</span> {
            strValidator.strictValidate(strList, strRule);
        } <span class="hljs-keyword">catch</span> (ValidationException e) {
            <span class="hljs-type">String</span> <span class="hljs-variable">invalidData</span> <span class="hljs-operator">=</span> e.getInvalidData(String.class);
            System.out.println(<span class="hljs-string">"æ ¡éªŒå¤±è´¥ï¼Œé”™è¯¯æ•°æ®ï¼š"</span> + invalidData); <span class="hljs-comment">// ""</span>
        }

        <span class="hljs-comment">// 2. æ•´æ•°æ ¡éªŒç¤ºä¾‹ï¼ˆæ ¡éªŒå¤§äº0ï¼‰</span>
        GenericDataValidator&lt;Integer&gt; intValidator = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GenericDataValidator</span>&lt;&gt;(Integer.class);
        List&lt;Integer&gt; intList = List.of(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, -<span class="hljs-number">5</span>, <span class="hljs-number">30</span>);
        Predicate&lt;Integer&gt; intRule = num -&gt; num &gt; <span class="hljs-number">0</span>;
        
        <span class="hljs-type">boolean</span> <span class="hljs-variable">intAllValid</span> <span class="hljs-operator">=</span> intValidator.validateAll(intList, intRule);
        System.out.println(<span class="hljs-string">"æ•´æ•°æ˜¯å¦å…¨éƒ¨æœ‰æ•ˆï¼š"</span> + intAllValid); <span class="hljs-comment">// false</span>
        List&lt;Integer&gt; invalidInt = GenericDataValidator.getInvalidData(intList, intRule);
        System.out.println(<span class="hljs-string">"æ— æ•ˆæ•´æ•°ï¼š"</span> + invalidInt); <span class="hljs-comment">// [-5]</span>
    }
}
</code></pre>
<h3 data-id="heading-19">3. è¿™ä¸ªå·¥å…·ç±»çš„äº®ç‚¹</h3>
<ol>
<li><strong>é€šé…ç¬¦ç”¨å¾—å¯¹</strong>ï¼šè¯»å–æ•°æ®ç”¨? extends Tï¼Œå†™å…¥æ•°æ®ç”¨? super Tï¼Œä¸¥æ ¼éµå®ˆPECSåŸåˆ™ï¼Œä¸ä¼šæœ‰ç¼–è¯‘æŠ¥é”™ï¼›</li>
<li><strong>é¿å¼€äº†æ‰€æœ‰ç±»å‹æ“¦é™¤çš„å‘</strong>ï¼šç”¨ç±»å‹ä»¤ç‰Œåˆ¤æ–­ç±»å‹ã€é™æ€æ–¹æ³•è‡ªå·±å®šä¹‰æ³›å‹ã€éæ³›å‹å¼‚å¸¸å­˜é”™è¯¯æ•°æ®ã€ç”¨Listä»£æ›¿æ•°ç»„ï¼›</li>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šæ‰€æœ‰æ“ä½œéƒ½åšäº†ç±»å‹æ ¡éªŒï¼Œä¸ä¼šå‡ºç°è¿è¡Œæ—¶ClassCastExceptionï¼›</li>
<li><strong>å®ç”¨æ€§å¼º</strong>ï¼šæˆ‘åœ¨é¡¹ç›®é‡Œæ ¡éªŒè¡¨å•æ•°æ®ã€æ‰¹é‡å…¥åº“æ•°æ®æ—¶ï¼Œéƒ½æ˜¯ç›´æ¥ç”¨è¿™ä¸ªå·¥å…·ç±»ï¼Œæ”¹æ”¹æ ¡éªŒè§„åˆ™å°±è¡Œã€‚</li>
</ol>
<h2 data-id="heading-20">å››ã€æˆ‘çš„æ³›å‹é¿å‘æ¸…å•</h2>
<p>æœ€åç»™å¤§å®¶æ•´ç†ä¸ªé¿å‘æ¸…å•ï¼Œéƒ½æ˜¯æˆ‘è¸©è¿‡çš„æ•™è®­ï¼Œè®°ä¸‹æ¥èƒ½å°‘èµ°å¾ˆå¤šå¼¯è·¯ï¼š</p>








































<table><thead><tr><th>å‘çš„åœºæ™¯</th><th>ä¸ºå•¥ä¼šå‘</th><th>æˆ‘å’‹è§£å†³çš„</th></tr></thead><tbody><tr><td>æ³›å‹æ•°ç»„åˆ›å»ºå¤±è´¥</td><td>ç±»å‹æ“¦é™¤åæ•°ç»„åˆ†ä¸æ¸…æ³›å‹ç±»å‹</td><td>ç”¨List&lt;List&gt;ä»£æ›¿æ³›å‹æ•°ç»„</td></tr><tr><td>instanceofåˆ¤æ–­æ³›å‹ç±»å‹</td><td>è¿è¡Œæ—¶æ²¡æ³›å‹ä¿¡æ¯</td><td>ä¼ Classç±»å‹ä»¤ç‰Œï¼Œéå†åˆ¤æ–­å…ƒç´ ç±»å‹</td></tr><tr><td>é™æ€å˜é‡ç”¨æ³›å‹</td><td>é™æ€å˜é‡å±äºç±»ï¼Œæ²¡æ³•ç»‘å®šå®ä¾‹æ³›å‹</td><td>é™æ€æ–¹æ³•è‡ªå·±å®šä¹‰æ³›å‹å‚æ•°ï¼Œé™æ€å˜é‡ç”¨å…·ä½“ç±»å‹</td></tr><tr><td>catchæ•è·æ³›å‹å¼‚å¸¸</td><td>è¿è¡Œæ—¶æ³›å‹ä¿¡æ¯è¢«æ“¦é™¤ï¼ŒJVMåˆ†ä¸æ¸…</td><td>ä¸ç”¨æ³›å‹å¼‚å¸¸ï¼Œç”¨Objectå­˜é”™è¯¯æ•°æ®ï¼Œæ‰‹åŠ¨è½¬å‹</td></tr><tr><td>æ³›å‹æ–¹æ³•é‡è½½å†²çª</td><td>æ“¦é™¤åæ–¹æ³•ç­¾åä¸€æ ·</td><td>åŠ Classå‚æ•°åŒºåˆ†ï¼Œæˆ–æ”¹æ–¹æ³•å</td></tr><tr><td>é€šé…ç¬¦å†™å…¥æ•°æ®æŠ¥é”™</td><td>è¿åPECSåŸåˆ™</td><td>è¯»æ•°æ®ç”¨? extends Tï¼Œå†™æ•°æ®ç”¨? super T</td></tr></tbody></table>
<h2 data-id="heading-21">äº”ã€æ€»ç»“</h2>
<p>æ³›å‹è¿™ä¸œè¥¿ï¼ŒçœŸçš„ä¸ç”¨æ­»è®°ç¡¬èƒŒæ¦‚å¿µï¼Œæ ¸å¿ƒå°±ä¸¤ç‚¹ï¼š</p>
<ol>
<li>é€šé…ç¬¦è®°ä½PECSåŸåˆ™â€”â€”ç”Ÿäº§è€…ï¼ˆè¯»æ•°æ®ï¼‰ç”¨extendsï¼Œæ¶ˆè´¹è€…ï¼ˆå†™æ•°æ®ï¼‰ç”¨superï¼›</li>
<li>ç±»å‹æ“¦é™¤è®°ä½â€œç¼–è¯‘æœŸç®¡ç±»å‹ï¼Œè¿è¡Œæ—¶æ²¡æ³›å‹â€ï¼Œé‡åˆ°å‘å°±ç”¨ç±»å‹ä»¤ç‰Œã€Listä»£æ›¿æ•°ç»„ã€éæ³›å‹å¼‚å¸¸è¿™äº›åŠæ³•è¡¥ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Pythoné¿å‘æŒ‡å—ï¼šåŸºç¡€ç©å®¶çš„3ä¸ª"å¼€æŒ‚"æŠ€å·§]]></title>    <link>https://juejin.cn/post/7580180556983812146</link>    <guid>https://juejin.cn/post/7580180556983812146</guid>    <pubDate>2025-12-05T14:08:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580180556983812146" data-draft-id="7580197740962496538" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Pythoné¿å‘æŒ‡å—ï¼šåŸºç¡€ç©å®¶çš„3ä¸ª&quot;å¼€æŒ‚&quot;æŠ€å·§"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-05T14:08:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AAAç®€å•ç©è½¬ç¨‹åºè®¾è®¡"/> <meta itemprop="url" content="https://juejin.cn/user/4294056357689099"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Pythoné¿å‘æŒ‡å—ï¼šåŸºç¡€ç©å®¶çš„3ä¸ª"å¼€æŒ‚"æŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4294056357689099/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AAAç®€å•ç©è½¬ç¨‹åºè®¾è®¡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:08:11.000Z" title="Fri Dec 05 2025 14:08:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åˆšå­¦ä¼šPythonåŸºç¡€ï¼Œå†™ä»£ç è¿˜åœ¨é Â for+appendÂ å‡‘æ•°ï¼Ÿåˆ«æ…Œï¼è¿™å‡ ä¸ªè¿›é˜¶ååŸºç¡€çš„çŸ¥è¯†ç‚¹ï¼Œæ—¢èƒ½è®©ä»£ç å˜ä¼˜é›…ï¼Œåˆä¸æå¤æ‚æ¦‚å¿µï¼Œæ–°æ‰‹ä¹Ÿèƒ½ç§’ä¸Šæ‰‹ï½</p>
<h2 data-id="heading-0">1. æ¨å¯¼å¼ï¼šä¸€è¡Œæå®šåˆ—è¡¨/å­—å…¸ï¼ˆå‘Šåˆ«å†—ä½™å¾ªç¯ï¼‰</h2>
<p>è¿˜åœ¨è¿™æ ·å†™å¾ªç¯æ·»åŠ å…ƒç´ ï¼Ÿ</p>
<pre><code class="hljs language-python" lang="python">  
<span class="hljs-comment"># ä¼ ç»Ÿå†™æ³•</span>
nums = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]
even_squares = []
<span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> nums:
    <span class="hljs-keyword">if</span> num % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:
        even_squares.append(num**<span class="hljs-number">2</span>)
<span class="hljs-built_in">print</span>(even_squares)  <span class="hljs-comment"># è¾“å‡º: [4, 16]</span>
</code></pre>
<p>Â </p>
<p>è¯•è¯•åˆ—è¡¨æ¨å¯¼å¼ï¼Œä¸€è¡Œæå®šï¼Œé€»è¾‘æ›´æ¸…æ™°ï¼š</p>
<pre><code class="hljs language-python" lang="python">  
<span class="hljs-comment"># åˆ—è¡¨æ¨å¯¼å¼</span>
nums = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]
even_squares = [num**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> nums <span class="hljs-keyword">if</span> num % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>]
<span class="hljs-built_in">print</span>(even_squares)  <span class="hljs-comment"># è¾“å‡º: [4, 16]</span>
</code></pre>
<p>Â </p>
<p>å­—å…¸æ¨å¯¼å¼ä¹Ÿè¶…å®ç”¨ï¼Œå¿«é€Ÿæ„å»ºé”®å€¼å¯¹ï¼š</p>
<pre><code class="hljs language-python" lang="python">fruits = [<span class="hljs-string">"apple"</span>, <span class="hljs-string">"banana"</span>, <span class="hljs-string">"cherry"</span>]
fruit_len = {fruit: <span class="hljs-built_in">len</span>(fruit) <span class="hljs-keyword">for</span> fruit <span class="hljs-keyword">in</span> fruits}
<span class="hljs-built_in">print</span>(fruit_len)  <span class="hljs-comment"># è¾“å‡º: {'apple':5, 'banana':6, 'cherry':6}</span>
</code></pre>
<p>Â </p>
<h2 data-id="heading-1">2. è§£åŒ…æ“ä½œï¼šå˜é‡äº¤æ¢/å¤šè¿”å›å€¼çš„ä¼˜é›…å§¿åŠ¿</h2>
<p>äº¤æ¢å˜é‡ä¸ç”¨ä¸´æ—¶å˜é‡ï¼Œè§£åŒ…ç›´æ¥æ‹¿æï¼š</p>
<pre><code class="hljs language-python" lang="python">a, b = <span class="hljs-number">10</span>, <span class="hljs-number">20</span>
a, b = b, a  <span class="hljs-comment"># ä¸€è¡Œäº¤æ¢ï¼Œæ— éœ€temp</span>
<span class="hljs-built_in">print</span>(a, b)  <span class="hljs-comment"># è¾“å‡º: 20 10</span>
</code></pre>
<p>Â </p>
<p>å‡½æ•°å¤šè¿”å›å€¼æ¥æ”¶æ›´ç®€æ´ï¼Œè¿˜èƒ½å¿½ç•¥æ— ç”¨å€¼ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user_info</span>():
    <span class="hljs-keyword">return</span> <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-number">25</span>, <span class="hljs-string">"åŒ—äº¬"</span>

name, age, _ = get_user_info()  <span class="hljs-comment"># _ å¿½ç•¥ä¸éœ€è¦çš„å­—æ®µ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"å§“åï¼š<span class="hljs-subst">{name}</span>ï¼Œå¹´é¾„ï¼š<span class="hljs-subst">{age}</span>"</span>)  <span class="hljs-comment"># è¾“å‡º: å§“åï¼šå¼ ä¸‰ï¼Œå¹´é¾„ï¼š25</span>
</code></pre>
<p>Â </p>
<h2 data-id="heading-2">3. F-stringï¼šæ ¼å¼åŒ–è¾“å‡ºçš„"å¤©èŠ±æ¿"</h2>
<p>å‘Šåˆ«ç¹ççš„Â %Â å’ŒÂ formatÂ ï¼Œ<code>F-string</code>ç›´è§‚åˆå¼ºå¤§ï¼š</p>
<pre><code class="hljs language-python" lang="python">score = <span class="hljs-number">92.345</span>
name = <span class="hljs-string">"æå››"</span>
<span class="hljs-comment"># ç›´æ¥åµŒå…¥å˜é‡ï¼Œæ”¯æŒæ ¼å¼æ§åˆ¶</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{name}</span>çš„æˆç»©ï¼š<span class="hljs-subst">{score:<span class="hljs-number">.1</span>f}</span>åˆ†"</span>)  <span class="hljs-comment"># è¾“å‡º: æå››çš„æˆç»©ï¼š92.3åˆ†</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åŠæ ¼ç‡ï¼š<span class="hljs-subst">{score/<span class="hljs-number">100</span>
</span></span></code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£ JavaScript ä¸­çš„Â â€œthisâ€ï¼šä»è‡ªç”±å˜é‡åˆ°ç»‘å®šè§„åˆ™]]></title>    <link>https://juejin.cn/post/7580188321323696134</link>    <guid>https://juejin.cn/post/7580188321323696134</guid>    <pubDate>2025-12-05T14:24:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580188321323696134" data-draft-id="7580208715274960938" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£ JavaScript ä¸­çš„Â â€œthisâ€ï¼šä»è‡ªç”±å˜é‡åˆ°ç»‘å®šè§„åˆ™"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2025-12-05T14:24:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æƒ³è¦æˆä¸ºç³•ç³•æ‰‹"/> <meta itemprop="url" content="https://juejin.cn/user/4381975238424308"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£ JavaScript ä¸­çš„Â â€œthisâ€ï¼šä»è‡ªç”±å˜é‡åˆ°ç»‘å®šè§„åˆ™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4381975238424308/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æƒ³è¦æˆä¸ºç³•ç³•æ‰‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:24:02.000Z" title="Fri Dec 05 2025 14:24:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§  æ·±å…¥ç†è§£ JavaScript ä¸­çš„Â <code>this</code>ï¼šä»è‡ªç”±å˜é‡åˆ°ç»‘å®šè§„åˆ™</h2>
<blockquote>
<p><strong>â€œ<code>this</code> æ˜¯ JavaScript æœ€å®¹æ˜“è¢«è¯¯è§£çš„æ¦‚å¿µä¹‹ä¸€ â€”â€” å®ƒä¸æ˜¯ç”±å‡½æ•°å®šä¹‰å†³å®šçš„ï¼Œè€Œæ˜¯ç”±è°ƒç”¨æ–¹å¼å†³å®šçš„ã€‚â€</strong></p>
</blockquote>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°è¿™æ ·çš„å›°æƒ‘ï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆåŒä¸€ä¸ªå‡½æ•°ï¼Œæœ‰æ—¶Â <code>this</code>Â æŒ‡å‘å¯¹è±¡ï¼Œæœ‰æ—¶å´æŒ‡å‘Â <code>window</code>ï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆåœ¨äº‹ä»¶å›è°ƒé‡ŒÂ <code>this</code>Â æ˜¯ DOM å…ƒç´ ï¼Œè€Œèµ‹å€¼åè°ƒç”¨å°±å˜æˆå…¨å±€å¯¹è±¡ï¼Ÿ</li>
<li>ä¸¥æ ¼æ¨¡å¼ä¸‹Â <code>this</code>Â ä¸ºä»€ä¹ˆä¼šå˜æˆÂ <code>undefined</code>ï¼Ÿ</li>
</ul>
<p>æœ¬æ–‡å°†ç»“åˆä½ å¯èƒ½å†™è¿‡çš„ä»£ç ï¼Œç³»ç»Ÿæ¢³ç† <code>this</code> çš„è®¾è®¡é€»è¾‘ã€ç»‘å®šè§„åˆ™ä¸å¸¸è§é™·é˜±ï¼Œå¹¶å‘Šè¯‰ä½ ï¼š<strong>å¦‚ä½•çœŸæ­£æŒæ§ <code>this</code></strong>ã€‚</p>
<hr/>
<h3 data-id="heading-1">ğŸ” ä¸€ã€<code>this</code>Â ä¸æ˜¯â€œè‡ªç”±å˜é‡â€â€”â€”å®ƒå’Œä½œç”¨åŸŸæ— å…³ï¼</h3>
<p>å¾ˆå¤šåˆå­¦è€…ä¼šæ··æ·† <strong>å˜é‡æŸ¥æ‰¾</strong> å’Œ <strong><code>this</code> ç»‘å®š</strong>ï¼Œè®¤ä¸ºå®ƒä»¬æ˜¯ä¸€å›äº‹ã€‚å…¶å®ï¼š</p>

























<table><thead><tr><th>ç‰¹æ€§</th><th>è‡ªç”±å˜é‡ï¼ˆå¦‚Â <code>myName</code>ï¼‰</th><th><code>this</code></th></tr></thead><tbody><tr><td>æŸ¥æ‰¾æ—¶æœº</td><td>ç¼–è¯‘é˜¶æ®µï¼ˆè¯æ³•ä½œç”¨åŸŸï¼‰</td><td>æ‰§è¡Œé˜¶æ®µï¼ˆåŠ¨æ€ç»‘å®šï¼‰</td></tr><tr><td>æŸ¥æ‰¾ä¾æ®</td><td>å‡½æ•°<strong>å®šä¹‰ä½ç½®</strong>ï¼ˆLexical Scopeï¼‰</td><td>å‡½æ•°<strong>è°ƒç”¨æ–¹å¼</strong></td></tr><tr><td>æ˜¯å¦å—ä½œç”¨åŸŸé“¾å½±å“</td><td>âœ… æ˜¯</td><td>âŒ å¦</td></tr></tbody></table>
<p>æ¥çœ‹ä¸€æ®µå…¸å‹ä»£ç ï¼š</p>
<pre><code class="hljs language-Js" lang="Js"><span class="hljs-meta">'use strict'</span>; <span class="hljs-comment">// ä¸¥æ ¼æ¨¡å¼</span>
<span class="hljs-keyword">var</span> myName = <span class="hljs-string">'æå®¢é‚¦'</span>; <span class="hljs-comment">// æŒ‚è½½åˆ° window</span>

<span class="hljs-keyword">var</span> bar = {
    <span class="hljs-attr">myName</span>: <span class="hljs-string">'time.geekbang.com'</span>,
    <span class="hljs-attr">printName</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myName);       <span class="hljs-comment">// âœ… è‡ªç”±å˜é‡ â†’ 'æå®¢é‚¦'ï¼ˆå…¨å±€ï¼‰</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">myName</span>);  <span class="hljs-comment">// â“ this å–å†³äºæ€ä¹ˆè°ƒç”¨ï¼</span>
    }
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">let</span> myName = <span class="hljs-string">'æå®¢æ—¶é—´'</span>;
    <span class="hljs-keyword">return</span> bar.<span class="hljs-property">printName</span>;
}

<span class="hljs-keyword">var</span> _printName = <span class="hljs-title function_">foo</span>();
<span class="hljs-title function_">_printName</span>();      <span class="hljs-comment">// this â†’ undefinedï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰</span>
bar.<span class="hljs-title function_">printName</span>();   <span class="hljs-comment">// this â†’ bar</span>
</code></pre>
<ul>
<li><code>myName</code>Â æ˜¯è‡ªç”±å˜é‡ï¼ŒæŒ‰<strong>è¯æ³•ä½œç”¨åŸŸ</strong>æŸ¥æ‰¾ â†’ æ€»æ˜¯å–å…¨å±€çš„Â <code>'æå®¢é‚¦'</code></li>
<li><code>this.myName</code>Â çš„å€¼<strong>å®Œå…¨å–å†³äºå‡½æ•°å¦‚ä½•è¢«è°ƒç”¨</strong></li>
</ul>
<blockquote>
<p>ğŸ’¡ <strong>å…³é”®ç»“è®ºï¼š<code>this</code> å’Œä½œç”¨åŸŸé“¾æ¯«æ— å…³ç³»ï¼å®ƒæ˜¯è¿è¡Œæ—¶çš„â€œè°ƒç”¨ä¸Šä¸‹æ–‡â€å†³å®šçš„ã€‚</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-2">ğŸ¯ äºŒã€<code>this</code>Â çš„äº”ç§ç»‘å®šè§„åˆ™ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰</h3>
<h4 data-id="heading-3">1ï¸âƒ£Â <strong>æ˜¾å¼ç»‘å®šï¼ˆExplicit Bindingï¼‰</strong></h4>
<p>ä½¿ç”¨ <code>call</code> / <code>apply</code> / <code>bind</code> å¼ºåˆ¶æŒ‡å®š <code>this</code></p>
<pre><code class="hljs language-Js" lang="Js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">myName</span> = <span class="hljs-string">'æå®¢æ—¶é—´'</span>;
}
<span class="hljs-keyword">let</span> bar = { <span class="hljs-attr">name</span>: <span class="hljs-string">'æå®¢é‚¦'</span> };
foo.<span class="hljs-title function_">call</span>(bar); <span class="hljs-comment">// this â†’ bar</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(bar); <span class="hljs-comment">// { name: 'æå®¢é‚¦', myName: 'æå®¢æ—¶é—´' }</span>
</code></pre>
<p>âœ… <strong>æœ€é«˜ä¼˜å…ˆçº§</strong>ï¼Œç›´æ¥è¦†ç›–å…¶ä»–è§„åˆ™ã€‚</p>
<hr/>
<h4 data-id="heading-4">2ï¸âƒ£Â <strong>éšå¼ç»‘å®šï¼ˆImplicit Bindingï¼‰</strong></h4>
<p>ä½œä¸º<strong>å¯¹è±¡çš„æ–¹æ³•</strong>è°ƒç”¨ â†’ <code>this</code> æŒ‡å‘è¯¥å¯¹è±¡</p>
<pre><code class="hljs language-Js" lang="Js"><span class="hljs-keyword">var</span> myObj = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'æå®¢æ—¶é—´'</span>,
    <span class="hljs-attr">showThis</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// â†’ myObj</span>
    }
};
myObj.<span class="hljs-title function_">showThis</span>(); <span class="hljs-comment">// éšå¼ç»‘å®š</span>
</code></pre>
<p>âš ï¸ <strong>é™·é˜±ï¼šéšå¼ä¸¢å¤±ï¼ˆImplicit Lossï¼‰</strong></p>
<pre><code class="hljs language-Js" lang="Js"><span class="hljs-keyword">var</span> foo = myObj.<span class="hljs-property">showThis</span>; <span class="hljs-comment">// å‡½æ•°å¼•ç”¨è¢«èµ‹å€¼</span>
<span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// æ™®é€šå‡½æ•°è°ƒç”¨ â†’ this = windowï¼ˆéä¸¥æ ¼ï¼‰æˆ– undefinedï¼ˆä¸¥æ ¼ï¼‰</span>
</code></pre>
<blockquote>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ <code>setTimeout(myObj.method, 1000)</code> ä¼šä¸¢å¤± <code>this</code>ï¼</p>
</blockquote>
<hr/>
<h4 data-id="heading-5">3ï¸âƒ£Â <strong>æ„é€ å‡½æ•°ç»‘å®šï¼ˆnew Bindingï¼‰</strong></h4>
<p>ä½¿ç”¨ <code>new</code> è°ƒç”¨å‡½æ•° â†’ <code>this</code> æŒ‡å‘æ–°åˆ›å»ºçš„å®ä¾‹</p>
<pre><code class="hljs language-Js" lang="Js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">CreateObj</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">'æå®¢æ—¶é—´'</span>;
}
<span class="hljs-keyword">var</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CreateObj</span>(); <span class="hljs-comment">// this â†’ obj</span>
</code></pre>
<p>å†…éƒ¨æœºåˆ¶ç›¸å½“äºï¼š</p>
<pre><code class="hljs language-Js" lang="Js"><span class="hljs-keyword">var</span> temObj = {};
temObj.<span class="hljs-property">__proto__</span> = <span class="hljs-title class_">CreateObj</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>;
<span class="hljs-title class_">CreateObj</span>.<span class="hljs-title function_">call</span>(temObj);
<span class="hljs-keyword">return</span> temObj;
</code></pre>
<hr/>
<h4 data-id="heading-6">4ï¸âƒ£Â <strong>æ™®é€šå‡½æ•°è°ƒç”¨ï¼ˆDefault Bindingï¼‰</strong></h4>
<p>æ—¢ä¸æ˜¯æ–¹æ³•ï¼Œä¹Ÿæ²¡ç”¨ <code>new</code> æˆ– <code>call</code> â†’ é»˜è®¤ç»‘å®š</p>
<ul>
<li><strong>éä¸¥æ ¼æ¨¡å¼</strong>ï¼š<code>this â†’ window</code>ï¼ˆæµè§ˆå™¨ï¼‰æˆ–Â <code>global</code>ï¼ˆNodeï¼‰</li>
<li><strong>ä¸¥æ ¼æ¨¡å¼</strong>ï¼š<code>this â†’ undefined</code></li>
</ul>
<pre><code class="hljs language-Js" lang="Js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// éä¸¥æ ¼ â†’ windowï¼›ä¸¥æ ¼ â†’ undefined</span>
}
<span class="hljs-title function_">foo</span>();
</code></pre>
<blockquote>
<p>ğŸš« è¿™æ˜¯ JS çš„ä¸€ä¸ªâ€œå†å²åŒ…è¢±â€ï¼šä½œè€… Brendan Eich å½“å¹´ä¸ºäº†å¿«é€Ÿå®ç°ï¼Œè®©æ™®é€šå‡½æ•°çš„ <code>this</code> é»˜è®¤æŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œå¯¼è‡´å¤§é‡æ„å¤–æ±¡æŸ“ã€‚</p>
</blockquote>
<hr/>
<h4 data-id="heading-7">5ï¸âƒ£Â <strong>ç®­å¤´å‡½æ•°ï¼ˆArrow Functionï¼‰</strong></h4>
<p><strong>æ²¡æœ‰è‡ªå·±çš„ <code>this</code></strong>ï¼ç»§æ‰¿å¤–å±‚ä½œç”¨åŸŸçš„ <code>this</code></p>
<pre><code class="hljs language-Js" lang="Js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Button</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span> = <span class="hljs-string">'ç‚¹å‡»'</span>;
        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'btn'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">text</span>); <span class="hljs-comment">// âœ… æ­£ç¡®æŒ‡å‘ Button å®ä¾‹</span>
        });
    }
}
</code></pre>
<blockquote>
<p>âœ… ç®­å¤´å‡½æ•°æ˜¯è§£å†³â€œå›è°ƒä¸­ <code>this</code> ä¸¢å¤±â€çš„åˆ©å™¨ï¼Œä½†<strong>ä¸èƒ½ç”¨äºéœ€è¦åŠ¨æ€ <code>this</code> çš„åœºæ™¯</strong>ï¼ˆå¦‚æ„é€ å‡½æ•°ã€å¯¹è±¡æ–¹æ³•ï¼‰ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-8">ğŸŒ ä¸‰ã€ç‰¹æ®Šåœºæ™¯ï¼šDOM äº‹ä»¶ä¸­çš„Â <code>this</code></h3>
<pre><code class="hljs language-Html" lang="Html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"link"</span>&gt;</span>ç‚¹å‡»æˆ‘<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'link'</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>); <span class="hljs-comment">// â†’ &lt;a id="link"&gt; å…ƒç´ </span>
});
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>è¿™æ˜¯ <strong><code>addEventListener</code> çš„è§„èŒƒè¡Œä¸º</strong>ï¼š</p>
<blockquote>
<p>å›è°ƒå‡½æ•°ä¸­çš„ <code>this</code> è‡ªåŠ¨ç»‘å®šä¸º<strong>æ³¨å†Œäº‹ä»¶çš„ DOM å…ƒç´ </strong>ã€‚</p>
</blockquote>
<p>ä½†æ³¨æ„ï¼š</p>
<ul>
<li>å¦‚æœç”¨ç®­å¤´å‡½æ•° â†’Â <code>this</code>Â ä¸å†æ˜¯å…ƒç´ ï¼</li>
<li>å¦‚æœæŠŠå‡½æ•°èµ‹å€¼ç»™å˜é‡å†è°ƒç”¨ â†’ éšå¼ä¸¢å¤±ï¼</li>
</ul>
<hr/>
<h3 data-id="heading-9">âš ï¸ å››ã€ä¸ºä»€ä¹ˆÂ <code>this</code>Â çš„è®¾è®¡è¢«è®¤ä¸ºæ˜¯â€œä¸å¥½â€çš„ï¼Ÿ</h3>
<ol>
<li><strong>è¿åç›´è§‰</strong>ï¼šå‡½æ•°å®šä¹‰æ—¶çœ‹ä¸å‡ºÂ <code>this</code>Â æŒ‡å‘è°ã€‚</li>
<li><strong>å®¹æ˜“å‡ºé”™</strong>ï¼šéšå¼ä¸¢å¤±ã€å…¨å±€æ±¡æŸ“é¢‘å‘ã€‚</li>
<li><strong>ä¾èµ–è°ƒç”¨æ–¹å¼</strong>ï¼šåŒä¸€å‡½æ•°ï¼Œä¸åŒè°ƒç”¨ï¼Œ<code>this</code>Â ä¸åŒã€‚</li>
</ol>
<blockquote>
<p>æ­£å› å¦‚æ­¤ï¼ŒES6 å¼•å…¥äº† <code>class</code> å’Œç®­å¤´å‡½æ•°ï¼Œ<strong>å¼±åŒ–å¯¹ <code>this</code> çš„ä¾èµ–</strong>ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-10">âœ… äº”ã€æœ€ä½³å®è·µå»ºè®®</h3>





























<table><thead><tr><th>åœºæ™¯</th><th>æ¨èåšæ³•</th></tr></thead><tbody><tr><td>å¯¹è±¡æ–¹æ³•</td><td>ç”¨æ™®é€šå‡½æ•°ï¼Œé¿å…èµ‹å€¼å¯¼è‡´éšå¼ä¸¢å¤±</td></tr><tr><td>å›è°ƒå‡½æ•°ï¼ˆå¦‚äº‹ä»¶ã€å®šæ—¶å™¨ï¼‰</td><td>ç”¨ç®­å¤´å‡½æ•°ï¼Œæˆ–Â <code>.bind(this)</code></td></tr><tr><td>æ„é€ å‡½æ•°</td><td>ç”¨Â <code>class</code>Â æ›¿ä»£ä¼ ç»Ÿå‡½æ•°</td></tr><tr><td>éœ€è¦å¼ºåˆ¶æŒ‡å®šä¸Šä¸‹æ–‡</td><td>ç”¨Â <code>call</code>Â /Â <code>apply</code>Â /Â <code>bind</code></td></tr><tr><td>é¿å…å…¨å±€æ±¡æŸ“</td><td>ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ +Â <code>let/const</code></td></tr></tbody></table>
<hr/>
<h3 data-id="heading-11">ğŸ”š ç»“è¯­</h3>
<p><code>this</code> å¹¶ä¸ç¥ç§˜ï¼Œå®ƒåªæ˜¯ JavaScript <strong>åŠ¨æ€ç»‘å®šæœºåˆ¶</strong>çš„ä¸€éƒ¨åˆ†ã€‚ç†è§£å®ƒçš„æ ¸å¿ƒåœ¨äºï¼š</p>
<blockquote>
<p><strong>â€œè°è°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ï¼Œ<code>this</code> å°±æ˜¯è°ã€‚â€</strong></p>
</blockquote>
<p>æŒæ¡äº”ç§ç»‘å®šè§„åˆ™ï¼Œé¿å¼€éšå¼ä¸¢å¤±é™·é˜±ï¼Œä½ å°±èƒ½åœ¨ä»»ä½•åœºæ™¯ä¸‹å‡†ç¡®é¢„æµ‹ <code>this</code> çš„æŒ‡å‘ã€‚</p>
<p>æœ€åè®°ä½ï¼š<strong>ç°ä»£ JavaScript å·²ç»æä¾›äº†æ›´å®‰å…¨çš„æ›¿ä»£æ–¹æ¡ˆï¼ˆå¦‚ <code>class</code>ã€ç®­å¤´å‡½æ•°ï¼‰ï¼Œä¸å¿…æ­»ç£• <code>this</code> â€”â€” ä½†ä½ å¿…é¡»æ‡‚å®ƒã€‚</strong></p>
<hr/>
<blockquote>
<p>ğŸ“š <strong>å»¶ä¼¸é˜…è¯»</strong></p>
<ul>
<li>ã€Šä½ ä¸çŸ¥é“çš„JavaScriptï¼ˆä¸Šå·ï¼‰ã€‹â€”â€” â€œthis &amp; å¯¹è±¡åŸå‹â€ç« èŠ‚</li>
<li>MDN:Â <a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">this</a></li>
<li>ECMAScript è§„èŒƒï¼š<a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer">Function Calls</a></li>
</ul>
</blockquote>
<hr/>
<p><strong>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ è¸©è¿‡çš„ <code>this</code> å‘ï¼</strong> ğŸ‘‡<br/>
å¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œåˆ«å¿˜äº†ç‚¹èµ + å…³æ³¨ï½ â¤ï¸</p>
<hr/>
<blockquote>
<p><strong>æ ‡ç­¾</strong>ï¼š#JavaScript #this #å‰ç«¯ #ä½œç”¨åŸŸ #æ˜é‡‘</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æŸ¯é‡ŒåŒ–]]></title>    <link>https://juejin.cn/post/7580183671531929638</link>    <guid>https://juejin.cn/post/7580183671531929638</guid>    <pubDate>2025-12-05T15:10:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580183671531929638" data-draft-id="7580174845772169225" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æŸ¯é‡ŒåŒ–"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T15:10:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jump680"/> <meta itemprop="url" content="https://juejin.cn/user/3631047185561411"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æŸ¯é‡ŒåŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3631047185561411/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jump680
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:10:33.000Z" title="Fri Dec 05 2025 15:10:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‡½æ•°æŸ¯é‡ŒåŒ–çš„å«ä¹‰ï¼šå°†å¤šä¸ªå‚æ•°çš„å‡½æ•° è½¬åŒ–æˆ ä¸€ä¸ªä¸€ä¸ªä¼ å…¥å‚æ•°çš„å‡½æ•°ã€‚</h2>
<blockquote>
<p>ç›®çš„ï¼šå‡½æ•°<code>å‚æ•°å¤ç”¨</code> æˆ– <code>å»¶è¿Ÿæ‰§è¡Œ</code> å®ƒä½¿ç”¨é—­åŒ…è®°ä½ä¹‹å‰ä¼ é€’çš„å‚æ•°ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f7407fabf094560a046deec0a5cceb3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAganVtcDY4MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552233&amp;x-signature=s3Az%2B1fRvMELSli3asbwiNBcGAA%3D" alt="image.png" loading="lazy"/></p>
<h5 data-id="heading-1">âœ… ä½¿ç”¨æŸ¯é‡ŒåŒ–ï¼ˆ<code>å‚æ•°å¤ç”¨</code>ï¼‰</h5>
<p>æˆ‘ä»¬å°†å‡½æ•°æ”¹é€ ä¸€ä¸‹ï¼Œè®©å®ƒå…ˆæ¥æ”¶â€œè§„åˆ™â€ï¼Œè¿”å›ä¸€ä¸ªä¸“é—¨æ£€æŸ¥è¿™ä¸ªè§„åˆ™çš„å‡½æ•°ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æŸ¯é‡ŒåŒ–ï¼šç¬¬ä¸€å±‚æ¥æ”¶è§„åˆ™ï¼Œç¬¬äºŒå±‚æ¥æ”¶å†…å®¹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">curriedCheck</span>(<span class="hljs-params">reg</span>) {
    <span class="hljs-comment">// é—­åŒ…è®°ä½äº† reg</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">txt</span>) {
        <span class="hljs-keyword">return</span> reg.<span class="hljs-title function_">test</span>(txt);
    }
}

<span class="hljs-comment">// 1. å‚æ•°å¤ç”¨ï¼šæˆ‘ä»¬å…ˆç”Ÿæˆä¸€ä¸ªâ€œä¸“é—¨æ£€æŸ¥æ‰‹æœºå·â€çš„å‡½æ•°// è¿™é‡Œæˆ‘ä»¬å°† reg å‚æ•°å›ºå®šï¼ˆå¤ç”¨ï¼‰åœ¨äº† checkPhone å‡½æ•°å†…éƒ¨</span>
<span class="hljs-keyword">const</span> checkPhone = <span class="hljs-title function_">curriedCheck</span>(<span class="hljs-regexp">/^1\d{10}$/</span>);

<span class="hljs-comment">// 2. ä»¥åä½¿ç”¨ï¼Œåªéœ€è¦ä¼ å†…å®¹ï¼Œä¸éœ€è¦å†ä¼ æ­£åˆ™äº†</span>
<span class="hljs-title function_">checkPhone</span>(<span class="hljs-string">'13800000001'</span>); <span class="hljs-comment">// true</span>
<span class="hljs-title function_">checkPhone</span>(<span class="hljs-string">'13800000002'</span>); <span class="hljs-comment">// true</span>
<span class="hljs-title function_">checkPhone</span>(<span class="hljs-string">'13800000003'</span>); <span class="hljs-comment">// true// ç”šè‡³å¯ä»¥å†ç”Ÿæˆä¸€ä¸ªâ€œä¸“é—¨æ£€æŸ¥é‚®ç®±â€çš„å‡½æ•°const checkEmail = curriedCheck(/@/);</span>
<span class="hljs-title function_">checkEmail</span>(<span class="hljs-string">'abc@qq.com'</span>);
</code></pre>
<p><strong>ç»“è®ºï¼š</strong> åœ¨è¿™é‡Œï¼Œæ­£åˆ™è¡¨è¾¾å¼è¿™ä¸ªå‚æ•°è¢«<strong>å¤ç”¨</strong>äº†ã€‚<code>checkPhone</code> å°±åƒæ˜¯ä¸€ä¸ªè¢«å¡«å…¥äº†ä¸€åŠå‚æ•°çš„æ¨¡å…·ï¼Œä½ åªéœ€è¦å¡«å…¥å‰©ä¸‹çš„ä¸€åŠå³å¯ã€‚</p>
<h5 data-id="heading-2"><code>å»¶è¿Ÿæ‰§è¡Œ</code></h5>
<blockquote>
<p><code>onClick</code> åœ¨<code>react</code> <code>æ¸²æŸ“</code>çš„æ—¶å€™å°±ä¼š ç›´æ¥<code>æ±‚å€¼æ‰§è¡Œ</code></p>
</blockquote>
<p>reactåœ¨<code>æ¸²æŸ“</code>æ—¶ï¼Œonclickä¼šæ‰§è¡Œ<code>{}</code>ä¸­çš„<code>å‡½æ•°</code>ã€‚
å¦‚æœ onclick={handlerDelete(id)} é‚£ä¹ˆåœ¨<code>æ¸²æŸ“</code>çš„æ—¶å€™<code>ç›´æ¥</code>å°±æ‰§è¡Œäº†è¿™ä¸ª<code>å‡½æ•°</code>ï¼Œè¿˜<code>æ²¡æœ‰</code>ç‚¹å‡»å°±åˆ é™¤äº†ã€‚</p>
<p>æ‰€ä»¥ä½¿ç”¨<code>åŒ¿åå‡½æ•°</code> or <code>æŸ¯é‡ŒåŒ–</code></p>
<p><code>åŒ¿åå‡½æ•°</code> onclick={()=&gt; handlerDelete(id)}</p>
<p><code>æŸ¯é‡ŒåŒ–:</code></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57fe9cbd11104d6293298c96a9c632df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAganVtcDY4MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552233&amp;x-signature=lKd2g%2Bc6vqoRLeR%2FPr6ows0ma14%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dde2a95a09354007afb1c9ac7f388cfe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAganVtcDY4MA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552233&amp;x-signature=q7EfP%2FC09H8QBYfw53LesRlnpKw%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Agnoå¼€å‘æ•™ç¨‹ç³»åˆ—ï¼ˆä¸ƒï¼‰ï¼šAgno ä¸ RAG]]></title>    <link>https://juejin.cn/post/7580188321323352070</link>    <guid>https://juejin.cn/post/7580188321323352070</guid>    <pubDate>2025-12-05T12:14:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580188321323352070" data-draft-id="7580196545287913526" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Agnoå¼€å‘æ•™ç¨‹ç³»åˆ—ï¼ˆä¸ƒï¼‰ï¼šAgno ä¸ RAG"/> <meta itemprop="keywords" content="LLM"/> <meta itemprop="datePublished" content="2025-12-05T12:14:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ€æƒ³çš„å…‰èŠ’"/> <meta itemprop="url" content="https://juejin.cn/user/2875978147173037"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Agnoå¼€å‘æ•™ç¨‹ç³»åˆ—ï¼ˆä¸ƒï¼‰ï¼šAgno ä¸ RAG
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2875978147173037/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ€æƒ³çš„å…‰èŠ’
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:14:11.000Z" title="Fri Dec 05 2025 12:14:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»46åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç›®å½•</h2>
<ol>
<li>
<p><a href="#1-rag-%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%8E%9F%E7%90%86" title="#1-rag-%E6%A6%82%E5%BF%B5%E4%B8%8E%E5%8E%9F%E7%90%86">RAG æ¦‚å¿µä¸åŸç†</a></p>
<ul>
<li>1.1 ä»€ä¹ˆæ˜¯ RAG</li>
<li>1.2 RAG å·¥ä½œåŸç†</li>
<li>1.3 ä¼ ç»Ÿ RAG vs Agentic RAG</li>
<li>1.4 ä¸ºä»€ä¹ˆéœ€è¦ RAG</li>
</ul>
</li>
<li>
<p><a href="#2-agno-%E4%B8%AD%E7%9A%84-rag-%E6%9E%B6%E6%9E%84" title="#2-agno-%E4%B8%AD%E7%9A%84-rag-%E6%9E%B6%E6%9E%84">Agno ä¸­çš„ RAG æ¶æ„</a></p>
<ul>
<li>2.1 æ ¸å¿ƒç»„ä»¶æ¦‚è§ˆ</li>
<li>2.2 çŸ¥è¯†æµè½¬è¿‡ç¨‹</li>
<li>2.3 Agno çš„ RAG ç‰¹æ€§</li>
</ul>
</li>
<li>
<p><a href="#3-%E7%9F%A5%E8%AF%86%E5%BA%93knowledge-base" title="#3-%E7%9F%A5%E8%AF%86%E5%BA%93knowledge-base">çŸ¥è¯†åº“ï¼ˆKnowledge Baseï¼‰</a></p>
<ul>
<li>3.1 åˆ›å»ºçŸ¥è¯†åº“</li>
<li>3.2 çŸ¥è¯†åº“é…ç½®</li>
<li>3.3 æ·»åŠ å†…å®¹</li>
<li>3.4 çŸ¥è¯†åº“ç®¡ç†</li>
</ul>
</li>
<li>
<p><a href="#4-%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9B%86%E6%88%90" title="#4-%E5%90%91%E9%87%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9B%86%E6%88%90">å‘é‡æ•°æ®åº“é›†æˆ</a></p>
<ul>
<li>4.1 æ”¯æŒçš„å‘é‡æ•°æ®åº“</li>
<li>4.2 é€‰æ‹©åˆé€‚çš„å‘é‡æ•°æ®åº“</li>
<li>4.3 å‘é‡æ•°æ®åº“é…ç½®</li>
<li>4.4 å¸¸ç”¨å‘é‡æ•°æ®åº“ç¤ºä¾‹</li>
</ul>
</li>
<li>
<p><a href="#5-%E6%96%87%E6%A1%A3%E5%8A%A0%E8%BD%BD%E4%B8%8E%E5%A4%84%E7%90%86" title="#5-%E6%96%87%E6%A1%A3%E5%8A%A0%E8%BD%BD%E4%B8%8E%E5%A4%84%E7%90%86">æ–‡æ¡£åŠ è½½ä¸å¤„ç†</a></p>
<ul>
<li>5.1 æ–‡æ¡£åŠ è½½å™¨ï¼ˆReadersï¼‰</li>
<li>5.2 æ”¯æŒçš„æ–‡ä»¶æ ¼å¼</li>
<li>5.3 æ–‡æ¡£åˆ†å—ç­–ç•¥</li>
<li>5.4 åµŒå…¥å™¨é…ç½®</li>
</ul>
</li>
<li>
<p><a href="#6-%E6%A3%80%E7%B4%A2%E5%99%A8%E5%AE%9E%E7%8E%B0" title="#6-%E6%A3%80%E7%B4%A2%E5%99%A8%E5%AE%9E%E7%8E%B0">æ£€ç´¢å™¨å®ç°</a></p>
<ul>
<li>6.1 å†…ç½®æ£€ç´¢æ–¹æ³•</li>
<li>6.2 æ··åˆæœç´¢</li>
<li>6.3 é‡æ’åºï¼ˆRerankingï¼‰</li>
<li>6.4 è‡ªå®šä¹‰æ£€ç´¢å™¨</li>
</ul>
</li>
<li>
<p><a href="#7-rag-%E4%B8%8E-agent-%E9%9B%86%E6%88%90" title="#7-rag-%E4%B8%8E-agent-%E9%9B%86%E6%88%90">RAG ä¸ Agent é›†æˆ</a></p>
<ul>
<li>7.1 åŸºç¡€é›†æˆ</li>
<li>7.2 Agentic RAG</li>
<li>7.3 ä¼ ç»Ÿ RAG</li>
<li>7.4 çŸ¥è¯†è¿‡æ»¤å™¨</li>
<li>7.5 Agent æ›´æ–°çŸ¥è¯†åº“</li>
</ul>
</li>
<li>
<p><a href="#8-%E5%AE%9E%E6%88%98%E7%A4%BA%E4%BE%8B" title="#8-%E5%AE%9E%E6%88%98%E7%A4%BA%E4%BE%8B">å®æˆ˜ç¤ºä¾‹</a></p>
<ul>
<li>8.1 åŸºç¡€ RAG ç¤ºä¾‹</li>
<li>8.2 ä½¿ç”¨ ChromaDB çš„ç¤ºä¾‹</li>
<li>8.3 ä½¿ç”¨ PgVector çš„ç¤ºä¾‹</li>
<li>8.4 è‡ªå®šä¹‰æ£€ç´¢å™¨ç¤ºä¾‹</li>
<li>8.5 å¤šAgent RAG åä½œç¤ºä¾‹</li>
</ul>
</li>
<li>
<p><a href="#9-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7" title="#9-%E9%AB%98%E7%BA%A7%E7%89%B9%E6%80%A7">é«˜çº§ç‰¹æ€§</a></p>
<ul>
<li>9.1 å¼‚æ­¥æ“ä½œ</li>
<li>9.2 çŸ¥è¯†åº“åŠ¨æ€æ›´æ–°</li>
<li>9.3 å…ƒæ•°æ®è¿‡æ»¤</li>
<li>9.4 é€æ˜æ¨ç†</li>
</ul>
</li>
<li>
<p><a href="#10-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B8%8E%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96" title="#10-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E4%B8%8E%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96">æœ€ä½³å®è·µä¸æ€§èƒ½ä¼˜åŒ–</a></p>
<ul>
<li>10.1 çŸ¥è¯†åº“è®¾è®¡æœ€ä½³å®è·µ</li>
<li>10.2 æ£€ç´¢ä¼˜åŒ–</li>
<li>10.3 æ€§èƒ½è°ƒä¼˜</li>
<li>10.4 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</li>
</ul>
</li>
<li>
<p><a href="#11-%E6%80%BB%E7%BB%93" title="#11-%E6%80%BB%E7%BB%93">æ€»ç»“</a></p>
</li>
</ol>
<hr/>
<h2 data-id="heading-1">1. RAG æ¦‚å¿µä¸åŸç†</h2>
<h3 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯ RAG</h3>
<p><strong>RAGï¼ˆRetrieval Augmented Generationï¼Œæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰</strong> æ˜¯ä¸€ç§ç»“åˆäº†ä¿¡æ¯æ£€ç´¢å’Œæ–‡æœ¬ç”Ÿæˆçš„æŠ€æœ¯ï¼Œå®ƒé€šè¿‡åœ¨ç”Ÿæˆå›ç­”ä¹‹å‰å…ˆä»å¤–éƒ¨çŸ¥è¯†æºæ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œæ¥å¢å¼ºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„èƒ½åŠ›ã€‚</p>
<p>RAG çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>è®© LLM ä¸ä»…ä¾èµ–å…¶è®­ç»ƒæ•°æ®ä¸­çš„çŸ¥è¯†ï¼Œè¿˜èƒ½å¤Ÿè®¿é—®å’Œåˆ©ç”¨å¤–éƒ¨ã€æœ€æ–°çš„ä¿¡æ¯æºã€‚</strong></p>
<h3 data-id="heading-3">1.2 RAG å·¥ä½œåŸç†</h3>
<p>RAG ç³»ç»Ÿçš„åŸºæœ¬å·¥ä½œæµç¨‹åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·æŸ¥è¯¢   â”‚â”€â”€â”€â”€&gt;â”‚  æŸ¥è¯¢åµŒå…¥åŒ–   â”‚â”€â”€â”€â”€&gt;â”‚  å‘é‡æ£€ç´¢   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
<span class="hljs-code">                                                â”‚
                                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç”Ÿæˆå›ç­”   â”‚&lt;â”€â”€â”€â”€â”‚  LLM å¤„ç†    â”‚&lt;â”€â”€â”€â”€â”‚  ç›¸å…³æ–‡æ¡£   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre>
<p><strong>è¯¦ç»†æ­¥éª¤ï¼š</strong></p>
<ol>
<li>
<p><strong>æ–‡æ¡£é¢„å¤„ç†é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>å°†åŸå§‹æ–‡æ¡£åˆ†è§£æˆè¾ƒå°çš„æ–‡æœ¬å—ï¼ˆChunkingï¼‰</li>
<li>ä½¿ç”¨åµŒå…¥æ¨¡å‹å°†æ–‡æœ¬å—è½¬æ¢ä¸ºå‘é‡</li>
<li>å°†å‘é‡åŠå…¶å…ƒæ•°æ®å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“ä¸­</li>
</ul>
</li>
<li>
<p><strong>æŸ¥è¯¢æ£€ç´¢é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>æ¥æ”¶ç”¨æˆ·æŸ¥è¯¢</li>
<li>å°†æŸ¥è¯¢è½¬æ¢ä¸ºå‘é‡åµŒå…¥</li>
<li>åœ¨å‘é‡æ•°æ®åº“ä¸­è¿›è¡Œç›¸ä¼¼åº¦æœç´¢</li>
<li>æ£€ç´¢æœ€ç›¸å…³çš„æ–‡æ¡£å—</li>
</ul>
</li>
<li>
<p><strong>ç”Ÿæˆå›ç­”é˜¶æ®µ</strong>ï¼š</p>
<ul>
<li>å°†æ£€ç´¢åˆ°çš„æ–‡æ¡£ä½œä¸ºä¸Šä¸‹æ–‡</li>
<li>ç»“åˆç”¨æˆ·æŸ¥è¯¢å’Œæ£€ç´¢ä¸Šä¸‹æ–‡</li>
<li>LLM ç”ŸæˆåŸºäºä¸Šä¸‹æ–‡çš„å‡†ç¡®å›ç­”</li>
</ul>
</li>
</ol>
<h3 data-id="heading-4">1.3 ä¼ ç»Ÿ RAG vs Agentic RAG</h3>
<h4 data-id="heading-5">ä¼ ç»Ÿ RAG</h4>
<p>åœ¨ä¼ ç»Ÿ RAG ä¸­ï¼Œæ£€ç´¢è¿‡ç¨‹æ˜¯<strong>è¢«åŠ¨çš„</strong>å’Œ<strong>å›ºå®šçš„</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¼ ç»Ÿ RAG ä¼ªä»£ç </span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">traditional_rag</span>(<span class="hljs-params">query</span>):
    <span class="hljs-comment"># 1. æ€»æ˜¯æ‰§è¡Œæ£€ç´¢</span>
    retrieved_docs = search_knowledge_base(query)
    
    <span class="hljs-comment"># 2. å°†æ£€ç´¢ç»“æœæ·»åŠ åˆ°ä¸Šä¸‹æ–‡</span>
    context = format_context(retrieved_docs)
    
    <span class="hljs-comment"># 3. ç”Ÿæˆå›ç­”</span>
    response = llm.generate(query + context)
    
    <span class="hljs-keyword">return</span> response
</code></pre>
<p><strong>ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li>æ¯æ¬¡æŸ¥è¯¢éƒ½ä¼šæ‰§è¡Œæ£€ç´¢</li>
<li>æ£€ç´¢é€»è¾‘å›ºå®šï¼Œä¸å¤Ÿçµæ´»</li>
<li>æ— æ³•æ ¹æ®ä»»åŠ¡å¤æ‚åº¦è°ƒæ•´æ£€ç´¢ç­–ç•¥</li>
</ul>
<h4 data-id="heading-6">Agentic RAGï¼ˆAgno çš„å®ç°æ–¹å¼ï¼‰</h4>
<p>Agentic RAG èµ‹äºˆ Agent <strong>æ™ºèƒ½å†³ç­–èƒ½åŠ›</strong>ï¼Œè®© Agent è‡ªä¸»å†³å®šï¼š</p>
<ul>
<li><strong>æ˜¯å¦éœ€è¦æ£€ç´¢</strong>çŸ¥è¯†åº“</li>
<li><strong>ä½•æ—¶æ£€ç´¢</strong>çŸ¥è¯†åº“</li>
<li><strong>å¦‚ä½•æ£€ç´¢</strong>ï¼ˆé€‰æ‹©æ£€ç´¢ç­–ç•¥ï¼‰</li>
<li><strong>æ˜¯å¦éœ€è¦å¤šæ¬¡æ£€ç´¢</strong></li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># Agentic RAG ä¼ªä»£ç </span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">agentic_rag</span>(<span class="hljs-params">query</span>):
    <span class="hljs-comment"># 1. Agent åˆ†ææŸ¥è¯¢</span>
    <span class="hljs-keyword">if</span> agent.needs_knowledge(query):
        <span class="hljs-comment"># 2. æ™ºèƒ½å†³å®šæ£€ç´¢ç­–ç•¥</span>
        search_strategy = agent.choose_strategy(query)
        
        <span class="hljs-comment"># 3. æ‰§è¡Œæ£€ç´¢ï¼ˆå¯èƒ½å¤šæ¬¡ï¼‰</span>
        retrieved_docs = agent.search_knowledge(query, strategy)
        
        <span class="hljs-comment"># 4. å¯èƒ½ç»“åˆå…¶ä»–å·¥å…·</span>
        additional_info = agent.use_other_tools_if_needed()
        
        <span class="hljs-comment"># 5. ç»¼åˆç”Ÿæˆå›ç­”</span>
        response = agent.generate_with_reasoning(
            query, retrieved_docs, additional_info
        )
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># ç›´æ¥å›ç­”ï¼Œæ— éœ€æ£€ç´¢</span>
        response = agent.generate(query)
    
    <span class="hljs-keyword">return</span> response
</code></pre>
<p><strong>Agentic RAG çš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>âœ… <strong>æ™ºèƒ½å†³ç­–</strong>ï¼šAgent è‡ªä¸»åˆ¤æ–­æ˜¯å¦éœ€è¦æ£€ç´¢</li>
<li>âœ… <strong>åŠ¨æ€è°ƒæ•´</strong>ï¼šæ ¹æ®ä»»åŠ¡å¤æ‚åº¦è°ƒæ•´æ£€ç´¢ç­–ç•¥</li>
<li>âœ… <strong>å¤šå·¥å…·ååŒ</strong>ï¼šå¯ä»¥ç»“åˆç½‘ç»œæœç´¢ã€API è°ƒç”¨ç­‰å…¶ä»–å·¥å…·</li>
<li>âœ… <strong>é€æ˜æ¨ç†</strong>ï¼šå¯ä»¥çœ‹åˆ° Agent çš„æ€è€ƒå’Œå†³ç­–è¿‡ç¨‹</li>
<li>âœ… <strong>æ›´é«˜å‡†ç¡®æ€§</strong>ï¼šé€šè¿‡å¤šè½®æ£€ç´¢å’ŒéªŒè¯æé«˜ç­”æ¡ˆè´¨é‡</li>
</ul>
<h3 data-id="heading-7">1.4 ä¸ºä»€ä¹ˆéœ€è¦ RAG</h3>
<p><strong>RAG è§£å†³äº† LLM çš„å‡ ä¸ªå…³é”®é—®é¢˜ï¼š</strong></p>



































<table><thead><tr><th>é—®é¢˜</th><th>æè¿°</th><th>RAG è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><strong>çŸ¥è¯†è¿‡æ—¶</strong></td><td>LLM çš„çŸ¥è¯†æˆªæ­¢äºè®­ç»ƒæ—¶é—´</td><td>æ£€ç´¢æœ€æ–°çš„å¤–éƒ¨ä¿¡æ¯</td></tr><tr><td><strong>å¹»è§‰é—®é¢˜</strong></td><td>LLM å¯èƒ½ç”Ÿæˆè™šå‡ä¿¡æ¯</td><td>åŸºäºçœŸå®æ–‡æ¡£ç”Ÿæˆå›ç­”</td></tr><tr><td><strong>ç¼ºä¹ä¸“ä¸šçŸ¥è¯†</strong></td><td>é€šç”¨æ¨¡å‹ç¼ºå°‘ç‰¹å®šé¢†åŸŸçŸ¥è¯†</td><td>åŠ è½½ä¸“ä¸šé¢†åŸŸæ–‡æ¡£</td></tr><tr><td><strong>æ— æ³•è®¿é—®ç§æœ‰æ•°æ®</strong></td><td>LLM æ— æ³•è®¿é—®ä¼ä¸šå†…éƒ¨æ•°æ®</td><td>è¿æ¥ç§æœ‰çŸ¥è¯†åº“</td></tr><tr><td><strong>å¯è¿½æº¯æ€§å·®</strong></td><td>éš¾ä»¥éªŒè¯ç­”æ¡ˆæ¥æº</td><td>æä¾›æ–‡æ¡£å¼•ç”¨å’Œæ¥æº</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-8">2. Agno ä¸­çš„ RAG æ¶æ„</h2>
<h3 data-id="heading-9">2.1 æ ¸å¿ƒç»„ä»¶æ¦‚è§ˆ</h3>
<p>Agno çš„ RAG ç³»ç»Ÿç”±ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶æ„æˆï¼š</p>
<pre><code class="hljs language-python" lang="python">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Agno RAG æ¶æ„                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Agent   â”‚â”€â”€â”€â”€â”€&gt;â”‚ Knowledge  â”‚â”€â”€â”€â”€â”€&gt;â”‚  Vector   â”‚   â”‚
â”‚  â”‚          â”‚      â”‚    Base    â”‚      â”‚  Database â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚                   â”‚                    â”‚        â”‚
â”‚       â”‚                   â”‚                    â”‚        â”‚
â”‚       â–¼                   â–¼                    â–¼        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Search   â”‚      â”‚  Readers   â”‚      â”‚ Embedder  â”‚   â”‚
â”‚  â”‚ Tools    â”‚      â”‚            â”‚      â”‚           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚                   â”‚                    â”‚        â”‚
â”‚       â”‚                   â–¼                    â”‚        â”‚
â”‚       â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚        â”‚
â”‚       â”‚            â”‚  Chunking  â”‚              â”‚        â”‚
â”‚       â”‚            â”‚  Strategy  â”‚              â”‚        â”‚
â”‚       â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚        â”‚
â”‚       â”‚                   â”‚                    â”‚        â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                           â”‚                             â”‚
â”‚                           â–¼                             â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                    â”‚ Retriever  â”‚                       â”‚
â”‚                    â”‚  (<span class="hljs-type">Optional</span> â”‚                       â”‚
â”‚                    â”‚  Reranker) â”‚                       â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>å„ç»„ä»¶è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>Agentï¼ˆæ™ºèƒ½ä½“ï¼‰</strong>ï¼š</p>
<ul>
<li>å†³ç­–ä¸­å¿ƒï¼Œæ§åˆ¶ä½•æ—¶ã€å¦‚ä½•ä½¿ç”¨ RAG</li>
<li>å¯é…ç½®ä¸º Agentic RAG æˆ–ä¼ ç»Ÿ RAG æ¨¡å¼</li>
</ul>
</li>
<li>
<p><strong>Knowledge Baseï¼ˆçŸ¥è¯†åº“ï¼‰</strong>ï¼š</p>
<ul>
<li>ç®¡ç†å’Œç»„ç»‡æ–‡æ¡£å†…å®¹</li>
<li>è¿æ¥å‘é‡æ•°æ®åº“å’ŒåµŒå…¥å™¨</li>
<li>æä¾›å†…å®¹åŠ è½½å’Œæ£€ç´¢æ¥å£</li>
</ul>
</li>
<li>
<p><strong>Vector Databaseï¼ˆå‘é‡æ•°æ®åº“ï¼‰</strong>ï¼š</p>
<ul>
<li>å­˜å‚¨æ–‡æ¡£çš„å‘é‡åµŒå…¥</li>
<li>æ‰§è¡Œç›¸ä¼¼åº¦æœç´¢</li>
<li>æ”¯æŒæ··åˆæœç´¢å’Œå…ƒæ•°æ®è¿‡æ»¤</li>
</ul>
</li>
<li>
<p><strong>Readersï¼ˆæ–‡æ¡£åŠ è½½å™¨ï¼‰</strong>ï¼š</p>
<ul>
<li>ä»å„ç§æ¥æºåŠ è½½æ–‡æ¡£</li>
<li>æ”¯æŒ PDFã€ç½‘é¡µã€CSVã€JSON ç­‰æ ¼å¼</li>
<li>å¤„ç†æ–‡æ¡£è§£æå’Œæå–</li>
</ul>
</li>
<li>
<p><strong>Embedderï¼ˆåµŒå…¥å™¨ï¼‰</strong>ï¼š</p>
<ul>
<li>å°†æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡è¡¨ç¤º</li>
<li>æ”¯æŒ OpenAIã€Cohereã€æœ¬åœ°æ¨¡å‹ç­‰</li>
</ul>
</li>
<li>
<p><strong>Chunking Strategyï¼ˆåˆ†å—ç­–ç•¥ï¼‰</strong>ï¼š</p>
<ul>
<li>å°†æ–‡æ¡£åˆ†è§£ä¸ºåˆé€‚çš„å¤§å°</li>
<li>æ”¯æŒå›ºå®šå¤§å°ã€è¯­ä¹‰åˆ†å—ã€æ™ºèƒ½åˆ†å—ç­‰</li>
</ul>
</li>
<li>
<p><strong>Retrieverï¼ˆæ£€ç´¢å™¨ï¼‰</strong>ï¼š</p>
<ul>
<li>æ‰§è¡Œå‘é‡æœç´¢</li>
<li>æ”¯æŒè‡ªå®šä¹‰æ£€ç´¢é€»è¾‘</li>
<li>å¯é€‰çš„é‡æ’åºä¼˜åŒ–</li>
</ul>
</li>
</ol>
<h3 data-id="heading-10">2.2 çŸ¥è¯†æµè½¬è¿‡ç¨‹</h3>
<p><strong>å®Œæ•´çš„çŸ¥è¯†æµè½¬è¿‡ç¨‹å¦‚ä¸‹ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">1</span>. åŸå§‹æ–‡æ¡£    â”‚
â”‚  (PDF/URL/æ–‡æœ¬) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">2</span>. Reader      â”‚
â”‚  è§£æå’Œæå–     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">3</span>. æ–‡æ¡£å¯¹è±¡    â”‚
â”‚  (Document)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">4</span>. åˆ†å—å¤„ç†    â”‚
â”‚  (Chunking)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">5</span>. åµŒå…¥è½¬æ¢    â”‚
â”‚  (Embedding)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">6</span>. å‘é‡å­˜å‚¨    â”‚
â”‚  (Vector DB)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">7</span>. æ£€ç´¢æŸ¥è¯¢    â”‚
â”‚  (Retrieval)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-number">8</span>. Agent ç”Ÿæˆ  â”‚
â”‚  (Generation)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-11">2.3 Agno çš„ RAG ç‰¹æ€§</h3>
<p>Agno æä¾›äº†ä¸°å¯Œçš„ RAG ç‰¹æ€§ï¼Œä½¿å…¶åœ¨ä¼—å¤šæ¡†æ¶ä¸­è„±é¢–è€Œå‡ºï¼š</p>




























































<table><thead><tr><th>ç‰¹æ€§</th><th>æè¿°</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td><strong>Agentic RAG</strong></td><td>Agent æ™ºèƒ½å†³ç­–ä½•æ—¶æ£€ç´¢</td><td>æ›´é«˜æ•ˆã€æ›´æ™ºèƒ½</td></tr><tr><td><strong>æ··åˆæœç´¢</strong></td><td>ç»“åˆå‘é‡æœç´¢å’Œå…³é”®è¯æœç´¢</td><td>æ£€ç´¢æ›´å‡†ç¡®</td></tr><tr><td><strong>é‡æ’åº</strong></td><td>å¯¹æ£€ç´¢ç»“æœè¿›è¡ŒäºŒæ¬¡æ’åº</td><td>æé«˜ç›¸å…³æ€§</td></tr><tr><td><strong>20+ å‘é‡æ•°æ®åº“</strong></td><td>æ”¯æŒä¸»æµå‘é‡æ•°æ®åº“</td><td>çµæ´»é€‰æ‹©</td></tr><tr><td><strong>å¤šç§æ–‡æ¡£æ ¼å¼</strong></td><td>PDFã€CSVã€ç½‘é¡µç­‰</td><td>è¦†ç›–å¹¿æ³›</td></tr><tr><td><strong>è‡ªå®šä¹‰æ£€ç´¢å™¨</strong></td><td>å®Œå…¨æ§åˆ¶æ£€ç´¢é€»è¾‘</td><td>é«˜åº¦çµæ´»</td></tr><tr><td><strong>å¼‚æ­¥æ“ä½œ</strong></td><td>æ”¯æŒå¼‚æ­¥åŠ è½½å’Œæ£€ç´¢</td><td>é«˜æ€§èƒ½</td></tr><tr><td><strong>å…ƒæ•°æ®è¿‡æ»¤</strong></td><td>åŸºäºå…ƒæ•°æ®ç­›é€‰æ–‡æ¡£</td><td>ç²¾ç¡®æ§åˆ¶</td></tr><tr><td><strong>é€æ˜æ¨ç†</strong></td><td>å¯è§†åŒ– Agent æ€è€ƒè¿‡ç¨‹</td><td>æ˜“äºè°ƒè¯•</td></tr><tr><td><strong>çŸ¥è¯†åŠ¨æ€æ›´æ–°</strong></td><td>è¿è¡Œæ—¶æ›´æ–°çŸ¥è¯†åº“</td><td>å®æ—¶æ€§å¼º</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-12">3. çŸ¥è¯†åº“ï¼ˆKnowledge Baseï¼‰</h2>
<h3 data-id="heading-13">3.1 åˆ›å»ºçŸ¥è¯†åº“</h3>
<p>åœ¨ Agno ä¸­ï¼ŒçŸ¥è¯†åº“é€šè¿‡ <code>Knowledge</code> ç±»æ¥åˆ›å»ºå’Œç®¡ç†ã€‚åˆ›å»ºçŸ¥è¯†åº“çš„åŸºæœ¬æ­¥éª¤ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.embedder.openai <span class="hljs-keyword">import</span> OpenAIEmbedder
<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge
<span class="hljs-keyword">from</span> agno.vectordb.pgvector <span class="hljs-keyword">import</span> PgVector

<span class="hljs-comment"># æ­¥éª¤1ï¼šé…ç½®å‘é‡æ•°æ®åº“</span>
vector_db = PgVector(
    table_name=<span class="hljs-string">"my_knowledge"</span>,           <span class="hljs-comment"># è¡¨å</span>
    db_url=<span class="hljs-string">"postgresql+psycopg://ai:ai@localhost:5532/ai"</span>,  <span class="hljs-comment"># æ•°æ®åº“è¿æ¥</span>
    embedder=OpenAIEmbedder(             <span class="hljs-comment"># åµŒå…¥å™¨</span>
        <span class="hljs-built_in">id</span>=<span class="hljs-string">"text-embedding-3-small"</span>
    )
)

<span class="hljs-comment"># æ­¥éª¤2ï¼šåˆ›å»ºçŸ¥è¯†åº“å®ä¾‹</span>
knowledge = Knowledge(
    name=<span class="hljs-string">"My Knowledge Base"</span>,            <span class="hljs-comment"># çŸ¥è¯†åº“åç§°ï¼ˆå¯é€‰ï¼‰</span>
    description=<span class="hljs-string">"ä¸“ä¸šé¢†åŸŸçŸ¥è¯†åº“"</span>,        <span class="hljs-comment"># æè¿°ï¼ˆå¯é€‰ï¼‰</span>
    vector_db=vector_db                  <span class="hljs-comment"># ç»‘å®šå‘é‡æ•°æ®åº“</span>
)
</code></pre>
<h3 data-id="heading-14">3.2 çŸ¥è¯†åº“é…ç½®</h3>
<p>çŸ¥è¯†åº“æ”¯æŒä¸°å¯Œçš„é…ç½®é€‰é¡¹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge
<span class="hljs-keyword">from</span> agno.vectordb.lancedb <span class="hljs-keyword">import</span> LanceDb
<span class="hljs-keyword">from</span> agno.vectordb.search <span class="hljs-keyword">import</span> SearchType
<span class="hljs-keyword">from</span> agno.knowledge.reranker.cohere <span class="hljs-keyword">import</span> CohereReranker

knowledge = Knowledge(
    name=<span class="hljs-string">"Advanced Knowledge Base"</span>,
    description=<span class="hljs-string">"é«˜çº§çŸ¥è¯†åº“é…ç½®ç¤ºä¾‹"</span>,

    <span class="hljs-comment"># å‘é‡æ•°æ®åº“é…ç½®</span>
    vector_db=LanceDb(
        uri=<span class="hljs-string">"tmp/lancedb"</span>,  <span class="hljs-comment"># å­˜å‚¨è·¯å¾„</span>
        table_name=<span class="hljs-string">"advanced_kb"</span>,  <span class="hljs-comment"># è¡¨å</span>
        search_type=SearchType.hybrid,  <span class="hljs-comment"># æ··åˆæœç´¢</span>
        embedder=CohereEmbedder(  <span class="hljs-comment"># Cohere åµŒå…¥å™¨</span>
            <span class="hljs-built_in">id</span>=<span class="hljs-string">"embed-v4.0"</span>,
            dimensions=<span class="hljs-number">1024</span>
        ),
        reranker=CohereReranker(  <span class="hljs-comment"># é‡æ’åºå™¨</span>
            model=<span class="hljs-string">"rerank-v3.5"</span>
        )
    )
)
</code></pre>
<p><strong>é…ç½®å‚æ•°è¯´æ˜ï¼š</strong></p>





























<table><thead><tr><th>å‚æ•°</th><th>ç±»å‹</th><th>è¯´æ˜</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>name</code></td><td>str</td><td>çŸ¥è¯†åº“åç§°</td><td>å¯é€‰</td></tr><tr><td><code>description</code></td><td>str</td><td>çŸ¥è¯†åº“æè¿°</td><td>å¯é€‰</td></tr><tr><td><code>vector_db</code></td><td>VectorDb</td><td>å‘é‡æ•°æ®åº“å®ä¾‹</td><td>å¿…éœ€</td></tr></tbody></table>
<h3 data-id="heading-15">3.3 æ·»åŠ å†…å®¹</h3>
<p>Agno æä¾›å¤šç§æ–¹å¼å‘çŸ¥è¯†åº“æ·»åŠ å†…å®¹ï¼š</p>
<h4 data-id="heading-16">æ–¹å¼1ï¼šä» URL æ·»åŠ å†…å®¹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åŒæ­¥æ·»åŠ </span>
knowledge.add_content(
    name=<span class="hljs-string">"Thai Recipes"</span>,                     <span class="hljs-comment"># å†…å®¹åç§°</span>
    url=<span class="hljs-string">"https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"</span>,  <span class="hljs-comment"># æ–‡æ¡£ URL</span>
    metadata={<span class="hljs-string">"category"</span>: <span class="hljs-string">"recipes"</span>, <span class="hljs-string">"cuisine"</span>: <span class="hljs-string">"thai"</span>}  <span class="hljs-comment"># å…ƒæ•°æ®ï¼ˆå¯é€‰ï¼‰</span>
)

<span class="hljs-comment"># å¼‚æ­¥æ·»åŠ ï¼ˆæ¨èç”¨äºé«˜å¹¶å‘åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">import</span> asyncio

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">load_knowledge</span>():
    <span class="hljs-keyword">await</span> knowledge.add_content_async(
        url=<span class="hljs-string">"https://docs.agno.com/introduction/agents.md"</span>
    )

asyncio.run(load_knowledge())
</code></pre>
<h4 data-id="heading-17">æ–¹å¼2ï¼šä»æœ¬åœ°è·¯å¾„æ·»åŠ </h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.reader.pdf_reader <span class="hljs-keyword">import</span> PDFReader

<span class="hljs-comment"># ä½¿ç”¨ Reader åŠ è½½æœ¬åœ°æ–‡ä»¶</span>
knowledge.add_content(
    path=<span class="hljs-string">"data/documents"</span>,                   <span class="hljs-comment"># æœ¬åœ°æ–‡ä»¶è·¯å¾„</span>
    reader=PDFReader(                        <span class="hljs-comment"># æŒ‡å®š Reader</span>
        chunk=<span class="hljs-literal">True</span>,                          <span class="hljs-comment"># å¯ç”¨åˆ†å—</span>
        chunk_size=<span class="hljs-number">1000</span>                      <span class="hljs-comment"># å—å¤§å°</span>
    )
)
</code></pre>
<h4 data-id="heading-18"/>
<h3 data-id="heading-19">3.4 çŸ¥è¯†åº“ç®¡ç†</h3>
<h4 data-id="heading-20">åˆ é™¤å†…å®¹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æŒ‰åç§°åˆ é™¤</span>
knowledge.vector_db.delete_by_name(<span class="hljs-string">"Thai Recipes"</span>)

<span class="hljs-comment"># æŒ‰å…ƒæ•°æ®åˆ é™¤</span>
knowledge.vector_db.delete_by_metadata(
    {<span class="hljs-string">"category"</span>: <span class="hljs-string">"recipes"</span>}
)
</code></pre>
<h4 data-id="heading-21">æ£€æŸ¥å†…å®¹æ˜¯å¦å­˜åœ¨</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ£€æŸ¥å†…å®¹å“ˆå¸Œæ˜¯å¦å­˜åœ¨ï¼ˆé¿å…é‡å¤ï¼‰</span>
exists = knowledge.vector_db.content_hash_exists(content_hash)
</code></pre>
<h4 data-id="heading-22">çŸ¥è¯†åº“è¿‡æ»¤</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent

<span class="hljs-comment"># åˆ›å»ºå¸¦è¿‡æ»¤å™¨çš„ Agent</span>
agent = Agent(
    knowledge=knowledge,
    knowledge_filters={
        <span class="hljs-string">"category"</span>: <span class="hljs-string">"recipes"</span>,       <span class="hljs-comment"># åªæ£€ç´¢é£Ÿè°±ç±»æ–‡æ¡£</span>
        <span class="hljs-string">"cuisine"</span>: <span class="hljs-string">"thai"</span>            <span class="hljs-comment"># åªæ£€ç´¢æ³°å¼æ–™ç†</span>
    }
)

<span class="hljs-comment"># åŠ¨æ€è¿‡æ»¤ï¼ˆè®© Agent è‡ªä¸»é€‰æ‹©è¿‡æ»¤å™¨ï¼‰</span>
agent = Agent(
    knowledge=knowledge,
    enable_agentic_knowledge_filters=<span class="hljs-literal">True</span>  <span class="hljs-comment"># å¯ç”¨æ™ºèƒ½è¿‡æ»¤</span>
)
</code></pre>
<hr/>
<h2 data-id="heading-23">4. å‘é‡æ•°æ®åº“é›†æˆ</h2>
<h3 data-id="heading-24">4.1 æ”¯æŒçš„å‘é‡æ•°æ®åº“</h3>
<p>Agno æ”¯æŒ <strong>20+ ç§å‘é‡æ•°æ®åº“</strong>ï¼ŒåŒ…æ‹¬ï¼š</p>
















































































<table><thead><tr><th>æ•°æ®åº“</th><th>ç±»å‹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>PgVector</strong></td><td>PostgreSQL æ‰©å±•</td><td>ç”Ÿäº§ç¯å¢ƒã€éœ€è¦ SQL åŠŸèƒ½</td></tr><tr><td><strong>LanceDB</strong></td><td>æœ¬åœ°åµŒå…¥å¼</td><td>å¼€å‘æµ‹è¯•ã€å¿«é€ŸåŸå‹</td></tr><tr><td><strong>ChromaDB</strong></td><td>æœ¬åœ°/äº‘ç«¯</td><td>å¼€å‘å’Œç”Ÿäº§å‡å¯</td></tr><tr><td><strong>Pinecone</strong></td><td>æ‰˜ç®¡æœåŠ¡</td><td>ç”Ÿäº§ç¯å¢ƒã€æ— è¿ç»´éœ€æ±‚</td></tr><tr><td><strong>Qdrant</strong></td><td>æœ¬åœ°/äº‘ç«¯</td><td>é«˜æ€§èƒ½éœ€æ±‚</td></tr><tr><td><strong>Weaviate</strong></td><td>æœ¬åœ°/äº‘ç«¯</td><td>å¤æ‚æŸ¥è¯¢ã€GraphQL</td></tr><tr><td><strong>Milvus</strong></td><td>åˆ†å¸ƒå¼å‘é‡åº“</td><td>å¤§è§„æ¨¡ç”Ÿäº§ç¯å¢ƒ</td></tr><tr><td><strong>MongoDB</strong></td><td>æ–‡æ¡£æ•°æ®åº“</td><td>å·²æœ‰ MongoDB åŸºç¡€è®¾æ–½</td></tr><tr><td><strong>SingleStore</strong></td><td>åˆ†å¸ƒå¼SQL</td><td>å®æ—¶åˆ†æ</td></tr><tr><td><strong>Cassandra</strong></td><td>åˆ†å¸ƒå¼NoSQL</td><td>é«˜å¯ç”¨æ€§éœ€æ±‚</td></tr><tr><td><strong>Couchbase</strong></td><td>æ–‡æ¡£æ•°æ®åº“</td><td>ç§»åŠ¨å’Œè¾¹ç¼˜è®¡ç®—</td></tr><tr><td><strong>Clickhouse</strong></td><td>åˆ—å¼æ•°æ®åº“</td><td>åˆ†æå‹åº”ç”¨</td></tr><tr><td><strong>Upstash Vector</strong></td><td>Serverless</td><td>Serverless åº”ç”¨</td></tr><tr><td><strong>LightRAG</strong></td><td>é«˜æ€§èƒ½é«˜å‡†ç¡®ç‡çš„å¼€æºRAG</td><td>å¯¹æ£€ç´¢ç²¾åº¦ã€æ€§èƒ½è¦æ±‚é«˜çš„åœºæ™¯</td></tr></tbody></table>
<h3 data-id="heading-25">4.2 é€‰æ‹©åˆé€‚çš„å‘é‡æ•°æ®åº“</h3>
<p>æ ¹æ®ä¸åŒçš„ä½¿ç”¨åœºæ™¯ï¼Œæ¨èä»¥ä¸‹é€‰æ‹©ï¼š</p>
<pre><code class="hljs language-sql" lang="sql">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 å‘é‡æ•°æ®åº“é€‰æ‹©æŒ‡å—                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  å¼€å‘å’Œæµ‹è¯•                                               â”‚
â”‚  â”œâ”€ æ¨èï¼šLanceDB                                        â”‚
â”‚  â”œâ”€ ä¼˜åŠ¿ï¼šæœ¬åœ°è¿è¡Œã€å¿«é€Ÿå¯åŠ¨ã€æ— éœ€é…ç½®                    â”‚
â”‚  â””â”€ ç¤ºä¾‹ï¼šå¿«é€ŸåŸå‹ã€å­¦ä¹ å®éªŒ                              â”‚
â”‚                                                          â”‚
â”‚  ç”Ÿäº§ç¯å¢ƒï¼ˆè‡ªæ‰˜ç®¡ï¼‰                                       â”‚
â”‚  â”œâ”€ æ¨èï¼šPgVector                                       â”‚
â”‚  â”œâ”€ ä¼˜åŠ¿ï¼šå¯é ã€å¯æ‰©å±•ã€<span class="hljs-keyword">SQL</span>æ”¯æŒã€æˆç†Ÿç”Ÿæ€                â”‚
â”‚  â””â”€ ç¤ºä¾‹ï¼šä¼ä¸šçº§åº”ç”¨ã€éœ€è¦ <span class="hljs-keyword">SQL</span> æŸ¥è¯¢                       â”‚
â”‚                                                          â”‚
â”‚  ç”Ÿäº§ç¯å¢ƒï¼ˆæ‰˜ç®¡æœåŠ¡ï¼‰                                     â”‚
â”‚  â”œâ”€ æ¨èï¼šPinecone                                       â”‚
â”‚  â”œâ”€ ä¼˜åŠ¿ï¼šå®Œå…¨æ‰˜ç®¡ã€é«˜å¯ç”¨ã€è‡ªåŠ¨æ‰©å±•                     â”‚
â”‚  â””â”€ ç¤ºä¾‹ï¼šSaaS åº”ç”¨ã€å¿«é€Ÿä¸Šçº¿                            â”‚
â”‚                                                          â”‚
â”‚  é«˜æ€§èƒ½éœ€æ±‚                                               â”‚
â”‚  â”œâ”€ æ¨èï¼šQdrant                                         â”‚
â”‚  â”œâ”€ ä¼˜åŠ¿ï¼šé€Ÿåº¦ä¼˜åŒ–ã€é«˜çº§ç‰¹æ€§ã€Rustå®ç°                   â”‚
â”‚  â””â”€ ç¤ºä¾‹ï¼šå®æ—¶æœç´¢ã€å¤§è§„æ¨¡æ£€ç´¢                           â”‚
â”‚                                                          â”‚
â”‚  å¤§è§„æ¨¡åˆ†å¸ƒå¼                                             â”‚
â”‚  â”œâ”€ æ¨èï¼šMilvus                                         â”‚
â”‚  â”œâ”€ ä¼˜åŠ¿ï¼šåˆ†å¸ƒå¼æ¶æ„ã€æ°´å¹³æ‰©å±•ã€é«˜åå                   â”‚
â”‚  â””â”€ ç¤ºä¾‹ï¼šæµ·é‡æ•°æ®ã€å¤šç§Ÿæˆ·ç³»ç»Ÿ                           â”‚
â”‚                                                          â”‚
â”‚  å·²æœ‰åŸºç¡€è®¾æ–½                                             â”‚
â”‚  â”œâ”€ MongoDB â†’ MongoDB Atlas Vector <span class="hljs-keyword">Search</span>               â”‚
â”‚  â”œâ”€ PostgreSQL â†’ PgVector                                â”‚
â”‚  â””â”€ ä¼˜åŠ¿ï¼šå¤ç”¨ç°æœ‰åŸºç¡€è®¾æ–½ã€é™ä½è¿ç»´æˆæœ¬        
â”‚
â”‚  â”‚  é«˜ç²¾åº¦ã€é«˜æ€§èƒ½                                         â”‚
â”‚  â”œâ”€ æ¨èï¼š LightRAG                                      â”‚
â”‚  â”œâ”€ ä¼˜åŠ¿ï¼š ç»“åˆå›¾æ•°æ®åº“å®ç°æé«˜çš„å‡†ç¡®ç‡                       â”‚
â”‚  â””â”€ ç¤ºä¾‹ï¼šä¼ä¸šå†…éƒ¨æ–‡æ¡£ï¼Œæ³•å¾‹æ³•è§„ï¼ŒåŒ»ç–—ç­‰è¡Œä¸š                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-26">4.3 å‘é‡æ•°æ®åº“é…ç½®</h3>
<p>æ‰€æœ‰å‘é‡æ•°æ®åº“éƒ½éµå¾ªä¸€è‡´çš„é…ç½®æ¨¡å¼ï¼Œä¸»è¦å‚æ•°åŒ…æ‹¬ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é€šç”¨é…ç½®å‚æ•°</span>
vector_db = VectorDatabase(
    collection=<span class="hljs-string">"collection_name"</span>,        <span class="hljs-comment"># é›†åˆ/è¡¨å</span>
    embedder=EmbedderInstance,          <span class="hljs-comment"># åµŒå…¥å™¨</span>
    search_type=SearchType.hybrid,      <span class="hljs-comment"># æœç´¢ç±»å‹</span>
    distance=Distance.COSINE,           <span class="hljs-comment"># è·ç¦»åº¦é‡</span>
    reranker=RerankerInstance           <span class="hljs-comment"># é‡æ’åºå™¨ï¼ˆå¯é€‰ï¼‰</span>
)
</code></pre>
<p><strong>æ ¸å¿ƒå‚æ•°è¯´æ˜ï¼š</strong></p>



































<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th><th>å¯é€‰å€¼</th></tr></thead><tbody><tr><td><code>collection/table_name</code></td><td>å­˜å‚¨å®¹å™¨æ ‡è¯†ç¬¦</td><td>å­—ç¬¦ä¸²</td></tr><tr><td><code>embedder</code></td><td>åµŒå…¥ç”Ÿæˆå™¨</td><td>OpenAIEmbedder, CohereEmbedder ç­‰</td></tr><tr><td><code>search_type</code></td><td>æœç´¢ç±»å‹</td><td><code>vector</code>, <code>keyword</code>, <code>hybrid</code></td></tr><tr><td><code>distance</code></td><td>è·ç¦»åº¦é‡</td><td><code>COSINE</code>, <code>EUCLIDEAN</code>, <code>DOT_PRODUCT</code></td></tr><tr><td><code>reranker</code></td><td>é‡æ’åºå™¨</td><td>CohereReranker ç­‰ï¼ˆå¯é€‰ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-27">4.4 å¸¸ç”¨å‘é‡æ•°æ®åº“ç¤ºä¾‹</h3>
<h4 data-id="heading-28">ç¤ºä¾‹1ï¼šPgVectorï¼ˆPostgreSQLï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.vectordb.pgvector <span class="hljs-keyword">import</span> PgVector
<span class="hljs-keyword">from</span> agno.vectordb.search <span class="hljs-keyword">import</span> SearchType
<span class="hljs-keyword">from</span> agno.embedder.openai <span class="hljs-keyword">import</span> OpenAIEmbedder

<span class="hljs-comment"># Docker å¯åŠ¨ PostgreSQL with PgVector</span>
<span class="hljs-string">"""
docker run -d \
  -e POSTGRES_DB=ai \
  -e POSTGRES_USER=ai \
  -e POSTGRES_PASSWORD=ai \
  -e PGDATA=/var/lib/postgresql/data/pgdata \
  -v pgvolume:/var/lib/postgresql/data \
  -p 5532:5432 \
  --name pgvector \
  agno/pgvector:16
"""</span>

<span class="hljs-comment"># é…ç½® PgVector</span>
vector_db = PgVector(
    table_name=<span class="hljs-string">"recipes"</span>,                              <span class="hljs-comment"># è¡¨å</span>
    db_url=<span class="hljs-string">"postgresql+psycopg://ai:ai@localhost:5532/ai"</span>,  <span class="hljs-comment"># æ•°æ®åº“è¿æ¥</span>
    search_type=SearchType.hybrid,                     <span class="hljs-comment"># æ··åˆæœç´¢</span>
    embedder=OpenAIEmbedder(
        <span class="hljs-built_in">id</span>=<span class="hljs-string">"text-embedding-3-small"</span>,
        dimensions=<span class="hljs-number">1536</span>
    )
)
</code></pre>
<h4 data-id="heading-29">ç¤ºä¾‹2ï¼šChromaDBï¼ˆæœ¬åœ°æŒä¹…åŒ–ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.vectordb.chroma <span class="hljs-keyword">import</span> ChromaDb

<span class="hljs-comment"># æœ¬åœ°æŒä¹…åŒ–é…ç½®</span>
vector_db = ChromaDb(
    collection=<span class="hljs-string">"my_collection"</span>,          <span class="hljs-comment"># é›†åˆå</span>
    path=<span class="hljs-string">"tmp/chromadb"</span>,                 <span class="hljs-comment"># æœ¬åœ°å­˜å‚¨è·¯å¾„</span>
    persistent_client=<span class="hljs-literal">True</span>               <span class="hljs-comment"># å¯ç”¨æŒä¹…åŒ–</span>
)
</code></pre>
<h4 data-id="heading-30">ç¤ºä¾‹3ï¼šChromaDBï¼ˆChroma Cloudï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> chromadb.config <span class="hljs-keyword">import</span> Settings
<span class="hljs-keyword">from</span> agno.vectordb.chroma <span class="hljs-keyword">import</span> ChromaDb

<span class="hljs-comment"># Chroma Cloud æ‰˜ç®¡é…ç½®</span>
vector_db = ChromaDb(
    collection=<span class="hljs-string">"vectors"</span>,
    settings=Settings(
        chroma_api_impl=<span class="hljs-string">"chromadb.api.fastapi.FastAPI"</span>,
        chroma_server_host=<span class="hljs-string">"your-tenant-id.api.trychroma.com"</span>,
        chroma_server_http_port=<span class="hljs-number">443</span>,
        chroma_server_ssl_enabled=<span class="hljs-literal">True</span>,
        chroma_client_auth_provider=<span class="hljs-string">"chromadb.auth.token_authn.TokenAuthClientProvider"</span>,
        chroma_client_auth_credentials=<span class="hljs-string">"your-api-key"</span>  <span class="hljs-comment"># ä½ çš„ API å¯†é’¥</span>
    )
)
</code></pre>
<h4 data-id="heading-31">ç¤ºä¾‹4ï¼šWeaviateï¼ˆæ··åˆæœç´¢ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.vectordb.weaviate <span class="hljs-keyword">import</span> Weaviate, VectorIndex, Distance
<span class="hljs-keyword">from</span> agno.vectordb.search <span class="hljs-keyword">import</span> SearchType

<span class="hljs-comment"># Weaviate é…ç½®</span>
vector_db = Weaviate(
    collection=<span class="hljs-string">"recipes"</span>,                <span class="hljs-comment"># é›†åˆå</span>
    search_type=SearchType.hybrid,       <span class="hljs-comment"># æ··åˆæœç´¢</span>
    vector_index=VectorIndex.HNSW,       <span class="hljs-comment"># HNSW ç´¢å¼•</span>
    distance=Distance.COSINE,            <span class="hljs-comment"># ä½™å¼¦è·ç¦»</span>
    local=<span class="hljs-literal">True</span>                           <span class="hljs-comment"># æœ¬åœ°è¿è¡Œ</span>
)
</code></pre>
<h4 data-id="heading-32">ç¤ºä¾‹5ï¼šLanceDBï¼ˆå¼€å‘æµ‹è¯•ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.vectordb.lancedb <span class="hljs-keyword">import</span> LanceDb
<span class="hljs-keyword">from</span> agno.vectordb.search <span class="hljs-keyword">import</span> SearchType

<span class="hljs-comment"># LanceDB é…ç½®ï¼ˆæ¨èç”¨äºå¼€å‘ï¼‰</span>
vector_db = LanceDb(
    uri=<span class="hljs-string">"tmp/lancedb"</span>,                   <span class="hljs-comment"># æœ¬åœ°å­˜å‚¨è·¯å¾„</span>
    table_name=<span class="hljs-string">"knowledge_table"</span>,        <span class="hljs-comment"># è¡¨å</span>
    search_type=SearchType.hybrid,       <span class="hljs-comment"># æ··åˆæœç´¢</span>
    embedder=CohereEmbedder(
        <span class="hljs-built_in">id</span>=<span class="hljs-string">"embed-v4.0"</span>,
        dimensions=<span class="hljs-number">1024</span>
    )
)
</code></pre>
<h4 data-id="heading-33">ç¤ºä¾‹6ï¼šLightRAGï¼ˆé«˜æ€§èƒ½ã€é«˜ç²¾åº¦ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.vectordb.lightrag <span class="hljs-keyword">import</span> LightRag
<span class="hljs-keyword">import</span> os

vector_db = LightRag(
    api_key=os.getenv(<span class="hljs-string">"LIGHTRAG_API_KEY"</span>),
)
</code></pre>
<h4 data-id="heading-34">ç¤ºä¾‹7ï¼šQdrantï¼ˆé«˜æ€§èƒ½ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.vectordb.qdrant <span class="hljs-keyword">import</span> Qdrant

<span class="hljs-comment"># Qdrant æœ¬åœ°é…ç½®</span>
vector_db = Qdrant(
    collection=<span class="hljs-string">"thai-recipes"</span>,           <span class="hljs-comment"># é›†åˆå</span>
    url=<span class="hljs-string">"http://localhost:6333"</span>,         <span class="hljs-comment"># Qdrant æœåŠ¡åœ°å€</span>
    embedder=OpenAIEmbedder(
        <span class="hljs-built_in">id</span>=<span class="hljs-string">"text-embedding-3-small"</span>
    )
)

<span class="hljs-comment"># Qdrant Cloud é…ç½®</span>
vector_db = Qdrant(
    collection=<span class="hljs-string">"thai-recipes"</span>,
    url=<span class="hljs-string">"https://your-cluster.qdrant.io"</span>,
    api_key=os.getenv(<span class="hljs-string">"QDRANT_API_KEY"</span>),
    embedder=OpenAIEmbedder(
        <span class="hljs-built_in">id</span>=<span class="hljs-string">"text-embedding-3-small"</span>
    )
)
</code></pre>
<hr/>
<h2 data-id="heading-35">5. æ–‡æ¡£åŠ è½½ä¸å¤„ç†</h2>
<h3 data-id="heading-36">5.1 æ–‡æ¡£åŠ è½½å™¨ï¼ˆReadersï¼‰</h3>
<p>Agno æä¾›äº†ä¸°å¯Œçš„æ–‡æ¡£åŠ è½½å™¨ï¼ˆReadersï¼‰ï¼Œç”¨äºä»å„ç§æ¥æºåŠ è½½å’Œå¤„ç†æ–‡æ¡£ã€‚</p>
<p><strong>Reader çš„ä½œç”¨ï¼š</strong></p>
<ol>
<li>ä»åŸå§‹æ ¼å¼è§£æå†…å®¹</li>
<li>æå–æœ‰æ„ä¹‰çš„æ–‡æœ¬å’Œå…ƒæ•°æ®</li>
<li>å°†å†…å®¹ç»“æ„åŒ–ä¸º <code>Document</code> å¯¹è±¡</li>
<li>åº”ç”¨åˆ†å—ç­–ç•¥</li>
</ol>
<p><strong>Document å¯¹è±¡ç»“æ„ï¼š</strong></p>
<pre><code class="hljs language-python" lang="python">{
    <span class="hljs-string">"id"</span>: <span class="hljs-string">"unique_document_id"</span>,          <span class="hljs-comment"># å”¯ä¸€æ ‡è¯†</span>
    <span class="hljs-string">"name"</span>: <span class="hljs-string">"document_name"</span>,             <span class="hljs-comment"># æ–‡æ¡£åç§°</span>
    <span class="hljs-string">"content"</span>: <span class="hljs-string">"extracted text..."</span>,      <span class="hljs-comment"># æå–çš„æ–‡æœ¬å†…å®¹</span>
    <span class="hljs-string">"meta_data"</span>: {                       <span class="hljs-comment"># å…ƒæ•°æ®</span>
        <span class="hljs-string">"page_number"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://..."</span>,
        <span class="hljs-string">"author"</span>: <span class="hljs-string">"..."</span>
    },
    <span class="hljs-string">"size"</span>: <span class="hljs-number">1024</span>                         <span class="hljs-comment"># æ–‡æ¡£å¤§å°</span>
}
</code></pre>
<h3 data-id="heading-37">5.2 æ”¯æŒçš„æ–‡ä»¶æ ¼å¼</h3>
<p>Agno æ”¯æŒå¤šç§æ–‡æ¡£æ ¼å¼çš„åŠ è½½å™¨ï¼š</p>











































































<table><thead><tr><th>Reader</th><th>æ”¯æŒæ ¼å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>PDFReader</strong></td><td>PDF</td><td>æ”¯æŒåŠ å¯†PDFã€å›¾åƒOCR</td></tr><tr><td><strong>PDFImageReader</strong></td><td>PDFï¼ˆå›¾åƒï¼‰</td><td>ä¸“é—¨å¤„ç†åŸºäºå›¾åƒçš„PDF</td></tr><tr><td><strong>DocxReader</strong></td><td>DOCX</td><td>Word æ–‡æ¡£</td></tr><tr><td><strong>CSVReader</strong></td><td>CSV</td><td>è¡¨æ ¼æ•°æ®</td></tr><tr><td><strong>JSONReader</strong></td><td>JSON</td><td>ç»“æ„åŒ–æ•°æ®</td></tr><tr><td><strong>TextReader</strong></td><td>TXT</td><td>çº¯æ–‡æœ¬æ–‡ä»¶</td></tr><tr><td><strong>MarkdownReader</strong></td><td>MD</td><td>Markdown æ–‡æ¡£</td></tr><tr><td><strong>WebsiteReader</strong></td><td>ç½‘é¡µ</td><td>çˆ¬å–æ•´ä¸ªç½‘ç«™</td></tr><tr><td><strong>WebSearchReader</strong></td><td>æœç´¢ç»“æœ</td><td>ç½‘ç»œæœç´¢ç»“æœ</td></tr><tr><td><strong>WikipediaReader</strong></td><td>Wikipedia</td><td>Wikipedia æ–‡ç« </td></tr><tr><td><strong>YouTubeReader</strong></td><td>YouTube</td><td>è§†é¢‘è½¬å½•å’Œå…ƒæ•°æ®</td></tr><tr><td><strong>ArxivReader</strong></td><td>arXiv</td><td>å­¦æœ¯è®ºæ–‡</td></tr><tr><td><strong>FirecrawlReader</strong></td><td>ç½‘é¡µ</td><td>é€šè¿‡Firecrawl APIæŠ“å–</td></tr></tbody></table>
<h3 data-id="heading-38">5.3 æ–‡æ¡£åˆ†å—ç­–ç•¥</h3>
<p>æ–‡æ¡£åˆ†å—æ˜¯ RAG ä¸­çš„å…³é”®æ­¥éª¤ï¼Œå½±å“æ£€ç´¢çš„ç²¾åº¦å’Œä¸Šä¸‹æ–‡çš„å®Œæ•´æ€§ã€‚</p>
<h4 data-id="heading-39">åˆ†å—ç­–ç•¥ç±»å‹</h4>
<p>Agno æ”¯æŒä»¥ä¸‹åˆ†å—ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># 1. æ–‡æ¡£åˆ†å—ï¼ˆå°Šé‡æ–‡æ¡£ç»“æ„ï¼‰</span>
<span class="hljs-keyword">from</span> agno.knowledge.chunking.document <span class="hljs-keyword">import</span> DocumentChunking
knowledge.add_content(
    url=<span class="hljs-string">"https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"</span>,
    reader=PDFReader(
        name=<span class="hljs-string">"Document Chunking Reader"</span>,
        chunking_strategy=DocumentChunking(),
    ),
)

<span class="hljs-comment"># 2. å›ºå®šå¤§å°åˆ†å—</span>
<span class="hljs-keyword">from</span> agno.knowledge.chunking.fixed <span class="hljs-keyword">import</span> FixedSizeChunking
knowledge.add_content(
    url=<span class="hljs-string">"https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"</span>,
    reader=PDFReader(
        name=<span class="hljs-string">"FixedSize Chunking Reader"</span>,
        chunking_strategy=FixedSizeChunking(),
    ),
)

<span class="hljs-comment"># 3. è¯­ä¹‰åˆ†å—ï¼ˆåŸºäºè¯­ä¹‰è¾¹ç•Œï¼‰</span>
<span class="hljs-keyword">from</span> agno.knowledge.chunking.semantic <span class="hljs-keyword">import</span> SemanticChunking
knowledge.add_content(
    url=<span class="hljs-string">"https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"</span>,
    reader=PDFReader(
        name=<span class="hljs-string">"Semantic Chunking Reader"</span>,
        chunking_strategy=SemanticChunking(),
    ),
)

<span class="hljs-comment"># 4. æ™ºèƒ½åˆ†å—ï¼ˆAIé©±åŠ¨ï¼‰</span>
<span class="hljs-keyword">from</span> agno.knowledge.chunking.agentic <span class="hljs-keyword">import</span> AgenticChunking
knowledge.add_content(
    url=<span class="hljs-string">"https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"</span>,
    reader=PDFReader(
        name=<span class="hljs-string">"Agentic Chunking Reader"</span>,
        chunking_strategy=AgenticChunking(),
    ),
)
</code></pre>
<h4 data-id="heading-40">Reader é…ç½®ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.reader.pdf_reader <span class="hljs-keyword">import</span> PDFReader
<span class="hljs-keyword">from</span> agno.knowledge.chunking.semantic <span class="hljs-keyword">import</span> SemanticChunking

<span class="hljs-comment"># PDF Reader å®Œæ•´é…ç½®</span>
pdf_reader = PDFReader(
    <span class="hljs-comment"># åˆ†å—é…ç½®</span>
    chunk=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># å¯ç”¨åˆ†å—</span>
    chunk_size=<span class="hljs-number">1000</span>,  <span class="hljs-comment"># å—å¤§å°ï¼ˆå­—ç¬¦æ•°ï¼‰</span>
    chunking_strategy=SemanticChunking(),  <span class="hljs-comment"># è¯­ä¹‰åˆ†å—</span>

    <span class="hljs-comment"># PDF ç‰¹å®šé…ç½®</span>
    split_on_pages=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># æŒ‰é¡µåˆ†å‰²</span>
    password=<span class="hljs-string">"optional_password"</span>,  <span class="hljs-comment"># PDF å¯†ç ï¼ˆå¦‚æœåŠ å¯†ï¼‰</span>
    read_images=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># OCR è¯»å–å›¾åƒ</span>

    <span class="hljs-comment"># é€šç”¨é…ç½®</span>
    name=<span class="hljs-string">"PDF Documents"</span>  <span class="hljs-comment"># Reader åç§°</span>
)
</code></pre>
<h4 data-id="heading-41">å„ç§ Reader çš„è¯¦ç»†ç¤ºä¾‹</h4>
<p><strong>1. PDFReaderï¼ˆPDF æ–‡æ¡£ï¼‰</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.reader.pdf_reader <span class="hljs-keyword">import</span> PDFReader
<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge

<span class="hljs-comment"># åˆ›å»º PDF Reader</span>
pdf_reader = PDFReader(
    chunk=<span class="hljs-literal">True</span>,
    chunk_size=<span class="hljs-number">1000</span>,
    split_on_pages=<span class="hljs-literal">True</span>
)

<span class="hljs-comment"># åŠ è½½ PDF æ–‡æ¡£</span>
knowledge = Knowledge(vector_db=vector_db)
knowledge.add_content(
    path=<span class="hljs-string">"data/documents/report.pdf"</span>,
    reader=pdf_reader
)
</code></pre>
<p><strong>2. WebsiteReaderï¼ˆç½‘ç«™çˆ¬å–ï¼‰</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.reader.website_reader <span class="hljs-keyword">import</span> WebsiteReader

<span class="hljs-comment"># åˆ›å»º Website Reader</span>
website_reader = WebsiteReader(
    max_depth=<span class="hljs-number">2</span>,                         <span class="hljs-comment"># çˆ¬å–æ·±åº¦</span>
    max_links=<span class="hljs-number">50</span>,                        <span class="hljs-comment"># æœ€å¤§é“¾æ¥æ•°</span>
    chunk=<span class="hljs-literal">True</span>,
    chunk_size=<span class="hljs-number">800</span>
)

<span class="hljs-comment"># çˆ¬å–ç½‘ç«™</span>
knowledge.add_content(
    url=<span class="hljs-string">"https://docs.agno.com"</span>,
    reader=website_reader
)
</code></pre>
<p><strong>3. CSVReaderï¼ˆCSV æ–‡ä»¶ï¼‰</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.reader.csv_reader <span class="hljs-keyword">import</span> CSVReader

<span class="hljs-comment"># åˆ›å»º CSV Reader</span>
csv_reader = CSVReader(
    delimiter=<span class="hljs-string">","</span>,                       <span class="hljs-comment"># åˆ†éš”ç¬¦</span>
    encoding=<span class="hljs-string">"utf-8"</span>,                    <span class="hljs-comment"># ç¼–ç </span>
    chunk=<span class="hljs-literal">True</span>,
    chunk_size=<span class="hljs-number">500</span>
)

<span class="hljs-comment"># åŠ è½½ CSV</span>
knowledge.add_content(
    path=<span class="hljs-string">"data/products.csv"</span>,
    reader=csv_reader
)
</code></pre>
<p><strong>4. JSONReaderï¼ˆJSON æ–‡ä»¶ï¼‰</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.reader.json_reader <span class="hljs-keyword">import</span> JSONReader

<span class="hljs-comment"># åˆ›å»º JSON Reader</span>
json_reader = JSONReader(
    chunk=<span class="hljs-literal">True</span>,
    chunk_size=<span class="hljs-number">600</span>
)

<span class="hljs-comment"># åŠ è½½ JSON</span>
knowledge.add_content(
    path=<span class="hljs-string">"data/config.json"</span>,
    reader=json_reader
)
</code></pre>
<h4 data-id="heading-42">ReaderFactoryï¼ˆæ™ºèƒ½é€‰æ‹©ï¼‰</h4>
<p>Agno æä¾› <code>ReaderFactory</code> æ ¹æ®æ–‡ä»¶æ‰©å±•åæˆ– URL è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ Readerï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.reader.reader_factory <span class="hljs-keyword">import</span> ReaderFactory

<span class="hljs-comment"># è‡ªåŠ¨é€‰æ‹© Reader</span>
<span class="hljs-comment"># æ ¹æ®æ–‡ä»¶åç¼€è¯†åˆ«</span>
reader = ReaderFactory.get_reader_for_extension(
    path=<span class="hljs-string">"document.pdf"</span>          <span class="hljs-comment"># è‡ªåŠ¨è¯†åˆ«ä¸º PDFReader</span>
)
<span class="hljs-comment"># æ ¹æ®URLåœ°å€è¯†åˆ«</span>
reader = ReaderFactory.get_reader_for_url(
    url=<span class="hljs-string">"https://example.com"</span>    <span class="hljs-comment"># è‡ªåŠ¨è¯†åˆ«ä¸º WebsiteReader</span>
)
</code></pre>
<h3 data-id="heading-43">5.4 åµŒå…¥å™¨é…ç½®</h3>
<p>åµŒå…¥å™¨è´Ÿè´£å°†æ–‡æœ¬è½¬æ¢ä¸ºå‘é‡è¡¨ç¤ºã€‚Agno æ”¯æŒå¤šç§åµŒå…¥æ¨¡å‹ï¼š</p>
<h4 data-id="heading-44">OpenAI Embedder</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.embedder.openai <span class="hljs-keyword">import</span> OpenAIEmbedder

<span class="hljs-comment"># OpenAI åµŒå…¥å™¨</span>
embedder = OpenAIEmbedder(
    <span class="hljs-built_in">id</span>=<span class="hljs-string">"text-embedding-v4"</span>,  <span class="hljs-comment"># æ¨¡å‹åç§° è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨åƒé—®çš„é€šç”¨æ–‡æœ¬å‘é‡-v4</span>
    base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,  <span class="hljs-comment"># DashScope API åœ°å€</span>
    dimensions=<span class="hljs-number">1536</span>,  <span class="hljs-comment"># å‘é‡ç»´åº¦</span>
    api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)  <span class="hljs-comment"># API å¯†é’¥ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä»ç¯å¢ƒå˜é‡è¯»å–ï¼‰</span>
)
</code></pre>
<h4 data-id="heading-45">Cohere Embedder</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.embedder.cohere <span class="hljs-keyword">import</span> CohereEmbedder

<span class="hljs-comment"># Cohere åµŒå…¥å™¨</span>
embedder = CohereEmbedder(
    model=<span class="hljs-string">"embed-v4.0"</span>,                  <span class="hljs-comment"># æ¨¡å‹åç§°</span>
    dimensions=<span class="hljs-number">1024</span>,                     <span class="hljs-comment"># å‘é‡ç»´åº¦</span>
    api_key=<span class="hljs-string">"your_cohere_api_key"</span>        <span class="hljs-comment"># API å¯†é’¥</span>
)
</code></pre>
<h4 data-id="heading-46">Sentence Transformerï¼ˆæœ¬åœ°æ¨¡å‹ï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.embedder.sentence_transformer <span class="hljs-keyword">import</span> SentenceTransformerEmbedder

<span class="hljs-comment"># æœ¬åœ° Sentence Transformer</span>
embedder = SentenceTransformerEmbedder(
    model=<span class="hljs-string">"BAAI/bge-large-en-v1.5"</span>,      <span class="hljs-comment"># Hugging Face æ¨¡å‹</span>
    device=<span class="hljs-string">"cuda"</span>                        <span class="hljs-comment"># è®¾å¤‡ï¼ˆcpu/cudaï¼‰</span>
)
</code></pre>
<p><strong>æ¨èï¼š</strong> å¯¹äº Hugging Face æ¨¡å‹ï¼Œå»ºè®®ä½¿ç”¨ <code>SentenceTransformerEmbedder</code> è€Œé <code>HuggingfaceCustomEmbedder</code>ï¼Œä»¥é¿å…æ½œåœ¨çš„ HTTP é”™è¯¯ã€‚</p>
<h4 data-id="heading-47">Ollama Embedderï¼ˆæœ¬åœ°è¿è¡Œï¼‰</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.embedder.ollama <span class="hljs-keyword">import</span> OllamaEmbedder

<span class="hljs-comment"># Ollama æœ¬åœ°åµŒå…¥å™¨</span>
embedder = OllamaEmbedder(
    <span class="hljs-built_in">id</span>=<span class="hljs-string">"nomic-embed-text"</span>,            <span class="hljs-comment"># Ollama æ¨¡å‹</span>
    host=<span class="hljs-string">"http://localhost:11434"</span>        <span class="hljs-comment"># Ollama æœåŠ¡åœ°å€</span>
)
</code></pre>
<hr/>
<h2 data-id="heading-48">6. æ£€ç´¢å™¨å®ç°</h2>
<h3 data-id="heading-49">6.1 å†…ç½®æ£€ç´¢æ–¹æ³•</h3>
<p>Agno æä¾›äº†å¤šç§å†…ç½®çš„æ£€ç´¢æ–¹æ³•ï¼Œé€šè¿‡ <code>SearchType</code> æšä¸¾é…ç½®ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.vectordb.search <span class="hljs-keyword">import</span> SearchType

<span class="hljs-comment"># å‘é‡æœç´¢ï¼ˆè¯­ä¹‰ç›¸ä¼¼åº¦ï¼‰</span>
SearchType.vector

<span class="hljs-comment"># å…³é”®è¯æœç´¢ï¼ˆä¼ ç»Ÿå…¨æ–‡æœç´¢ï¼‰</span>
SearchType.keyword

<span class="hljs-comment"># æ··åˆæœç´¢ï¼ˆç»“åˆå‘é‡å’Œå…³é”®è¯ï¼‰</span>
SearchType.hybrid
</code></pre>
<h4 data-id="heading-50">å‘é‡æœç´¢</h4>
<p>åŸºäºè¯­ä¹‰ç›¸ä¼¼åº¦çš„æœç´¢ï¼Œé€‚åˆç†è§£è¯­ä¹‰æ„å›¾ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.vectordb.pgvector <span class="hljs-keyword">import</span> PgVector
<span class="hljs-keyword">from</span> agno.vectordb.search <span class="hljs-keyword">import</span> SearchType

vector_db = PgVector(
    table_name=<span class="hljs-string">"documents"</span>,
    db_url=<span class="hljs-string">"postgresql+psycopg://ai:ai@localhost:5532/ai"</span>,
    search_type=SearchType.vector        <span class="hljs-comment"># çº¯å‘é‡æœç´¢</span>
)

<span class="hljs-comment"># æ‰§è¡Œæœç´¢</span>
results = vector_db.search(
    query=<span class="hljs-string">"å¦‚ä½•åˆ¶ä½œæ³°å¼å’–å–±?"</span>,
    limit=<span class="hljs-number">5</span>                              <span class="hljs-comment"># è¿”å›å‰5ä¸ªç»“æœ</span>
)
</code></pre>
<h4 data-id="heading-51">å…³é”®è¯æœç´¢</h4>
<p>åŸºäºå…³é”®è¯åŒ¹é…çš„ä¼ ç»Ÿæœç´¢ï¼š</p>
<pre><code class="hljs language-python" lang="python">vector_db = PgVector(
    table_name=<span class="hljs-string">"documents"</span>,
    db_url=<span class="hljs-string">"postgresql+psycopg://ai:ai@localhost:5532/ai"</span>,
    search_type=SearchType.keyword       <span class="hljs-comment"># å…³é”®è¯æœç´¢</span>
)
</code></pre>
<h3 data-id="heading-52">6.2 æ··åˆæœç´¢</h3>
<p>æ··åˆæœç´¢æ˜¯ Agno çš„ä¸€å¤§ç‰¹è‰²ï¼Œå®ƒç»“åˆäº†å‘é‡ç›¸ä¼¼åº¦æœç´¢å’Œå…³é”®è¯æœç´¢çš„ä¼˜åŠ¿ã€‚</p>
<p><strong>æ··åˆæœç´¢çš„å·¥ä½œåŸç†ï¼š</strong></p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ··åˆæœç´¢æµç¨‹                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  ç”¨æˆ·æŸ¥è¯¢ï¼š<span class="hljs-string">"å¦‚ä½•åˆ¶ä½œæ³°å¼å’–å–±"</span>                         â”‚
â”‚       â”‚                                              â”‚
â”‚       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚       â”‚          â”‚                  â”‚                â”‚
â”‚       â–¼          â–¼                  â–¼                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ å‘é‡   â”‚ â”‚ å…³é”®è¯  â”‚      â”‚ åŠ æƒ     â”‚           â”‚
â”‚  â”‚ æœç´¢   â”‚ â”‚ æœç´¢    â”‚      â”‚ åˆå¹¶     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â”‚
â”‚       â”‚          â”‚                 â”‚                 â”‚
â”‚       â”‚  ç»“æœ<span class="hljs-number">1</span>   â”‚   ç»“æœ<span class="hljs-number">2</span>         â”‚  æœ€ç»ˆç»“æœ        â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æ”¯æŒæ··åˆæœç´¢çš„å‘é‡æ•°æ®åº“ï¼š</strong></p>
<ul>
<li>PgVector</li>
<li>Pinecone</li>
<li>LanceDB</li>
<li>Weaviate</li>
<li>MongoDB</li>
<li>Qdrant</li>
<li>Milvus</li>
</ul>
<h4 data-id="heading-53">æ··åˆæœç´¢ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.vectordb.lancedb <span class="hljs-keyword">import</span> LanceDb
<span class="hljs-keyword">from</span> agno.vectordb.search <span class="hljs-keyword">import</span> SearchType
<span class="hljs-keyword">from</span> agno.knowledge.embedder.cohere <span class="hljs-keyword">import</span> CohereEmbedder
<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge

<span class="hljs-comment"># é…ç½®æ··åˆæœç´¢</span>
vector_db = LanceDb(
    uri=<span class="hljs-string">"tmp/lancedb"</span>,
    table_name=<span class="hljs-string">"hybrid_search_demo"</span>,
    search_type=SearchType.hybrid,       <span class="hljs-comment"># å¯ç”¨æ··åˆæœç´¢</span>
    embedder=CohereEmbedder(
        <span class="hljs-built_in">id</span>=<span class="hljs-string">"embed-v4.0"</span>,
        dimensions=<span class="hljs-number">1024</span>
    )
)

<span class="hljs-comment"># åˆ›å»ºçŸ¥è¯†åº“</span>
knowledge = Knowledge(vector_db=vector_db)
knowledge.add_content(
    url=<span class="hljs-string">"https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"</span>
)

<span class="hljs-comment"># æœç´¢ï¼ˆè‡ªåŠ¨ä½¿ç”¨æ··åˆæœç´¢ï¼‰</span>
results = vector_db.search(
    query=<span class="hljs-string">"Massaman curry ingredients"</span>,
    limit=<span class="hljs-number">10</span>
)
</code></pre>
<h4 data-id="heading-54">Pinecone æ··åˆæœç´¢ï¼ˆå¸¦æƒé‡è°ƒæ•´ï¼‰</h4>
<p>Pinecone æ”¯æŒé€šè¿‡ <code>hybrid_alpha</code> å‚æ•°è°ƒæ•´å‘é‡æœç´¢å’Œå…³é”®è¯æœç´¢çš„æƒé‡ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.vectordb.pinecone <span class="hljs-keyword">import</span> Pinecone

vector_db = Pinecone(
    name=<span class="hljs-string">"hybrid-index"</span>,
    dimension=<span class="hljs-number">1536</span>,
    metric=<span class="hljs-string">"cosine"</span>,
    search_type=SearchType.hybrid,
    hybrid_alpha=<span class="hljs-number">0.7</span>                     <span class="hljs-comment"># 0.7 = 70% å‘é‡æœç´¢ + 30% å…³é”®è¯æœç´¢</span>
)

<span class="hljs-comment"># hybrid_alpha å€¼è¯´æ˜ï¼š</span>
<span class="hljs-comment"># 0.0 = 100% å…³é”®è¯æœç´¢</span>
<span class="hljs-comment"># 0.5 = 50% å‘é‡ + 50% å…³é”®è¯</span>
<span class="hljs-comment"># 1.0 = 100% å‘é‡æœç´¢</span>
</code></pre>
<h3 data-id="heading-55">6.3 é‡æ’åºï¼ˆRerankingï¼‰</h3>
<p>é‡æ’åºæ˜¯å¯¹åˆæ­¥æ£€ç´¢ç»“æœè¿›è¡ŒäºŒæ¬¡æ’åºï¼Œè¿›ä¸€æ­¥æé«˜ç›¸å…³æ€§ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.reranker.cohere <span class="hljs-keyword">import</span> CohereReranker
<span class="hljs-keyword">from</span> agno.vectordb.lancedb <span class="hljs-keyword">import</span> LanceDb
<span class="hljs-keyword">from</span> agno.vectordb.search <span class="hljs-keyword">import</span> SearchType

<span class="hljs-comment"># é…ç½®é‡æ’åºå™¨</span>
vector_db = LanceDb(
    uri=<span class="hljs-string">"tmp/lancedb"</span>,
    table_name=<span class="hljs-string">"reranked_search"</span>,
    search_type=SearchType.hybrid,
    reranker=CohereReranker(              <span class="hljs-comment"># æ·»åŠ é‡æ’åºå™¨</span>
        model=<span class="hljs-string">"rerank-v3.5"</span>,
        top_n=<span class="hljs-number">5</span>                          <span class="hljs-comment"># é‡æ’åè¿”å›å‰5ä¸ª</span>
    )
)
</code></pre>
<p><strong>é‡æ’åºçš„ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>âœ… è¿›ä¸€æ­¥æé«˜æ£€ç´¢ç»“æœçš„ç›¸å…³æ€§</li>
<li>âœ… å‡å°‘å™ªéŸ³å’Œä¸ç›¸å…³ç»“æœ</li>
<li>âœ… æå‡ç”¨æˆ·ä½“éªŒ</li>
</ul>
<h3 data-id="heading-56">6.4 è‡ªå®šä¹‰æ£€ç´¢å™¨</h3>
<p>åœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œä½ å¯èƒ½éœ€è¦å®Œå…¨æ§åˆ¶æ£€ç´¢é€»è¾‘ã€‚Agno æ”¯æŒè‡ªå®šä¹‰æ£€ç´¢å™¨å‡½æ•°ã€‚</p>
<h4 data-id="heading-57">è‡ªå®šä¹‰æ£€ç´¢å™¨å‡½æ•°ç­¾å</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>
<span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent

<span class="hljs-keyword">def</span> <span class="hljs-title function_">custom_retriever</span>(<span class="hljs-params">
    query: <span class="hljs-built_in">str</span>,                          <span class="hljs-comment"># æœç´¢æŸ¥è¯¢</span>
    agent: <span class="hljs-type">Optional</span>[Agent] = <span class="hljs-literal">None</span>,       <span class="hljs-comment"># Agent å®ä¾‹</span>
    num_documents: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span>,              <span class="hljs-comment"># è¦æ£€ç´¢çš„æ–‡æ¡£æ•°</span>
    **kwargs                             <span class="hljs-comment"># å…¶ä»–å‚æ•°</span>
</span>) -&gt; <span class="hljs-type">Optional</span>[<span class="hljs-built_in">list</span>[<span class="hljs-built_in">dict</span>]]:               <span class="hljs-comment"># è¿”å›æ–‡æ¡£åˆ—è¡¨</span>
    <span class="hljs-string">"""
    è‡ªå®šä¹‰æ£€ç´¢å™¨å‡½æ•°
    
    Args:
        query: ç”¨æˆ·æŸ¥è¯¢å­—ç¬¦ä¸²
        agent: å‘èµ·æŸ¥è¯¢çš„ Agent å®ä¾‹
        num_documents: è¿”å›çš„æ–‡æ¡£æ•°é‡
        **kwargs: å…¶ä»–å…³é”®å­—å‚æ•°
    
    Returns:
        æ£€ç´¢åˆ°çš„æ–‡æ¡£åˆ—è¡¨ï¼Œå¦‚æœå¤±è´¥è¿”å› None
    """</span>
    <span class="hljs-comment"># ä½ çš„è‡ªå®šä¹‰æ£€ç´¢é€»è¾‘</span>
    <span class="hljs-keyword">pass</span>
</code></pre>
<h4 data-id="heading-58">åŒæ­¥è‡ªå®šä¹‰æ£€ç´¢å™¨ç¤ºä¾‹</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>
<span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent
<span class="hljs-keyword">from</span> agno.knowledge.embedder.openai <span class="hljs-keyword">import</span> OpenAIEmbedder
<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge
<span class="hljs-keyword">from</span> agno.vectordb.qdrant <span class="hljs-keyword">import</span> Qdrant
<span class="hljs-keyword">from</span> qdrant_client <span class="hljs-keyword">import</span> QdrantClient

<span class="hljs-comment"># æ­¥éª¤1ï¼šå®šä¹‰åµŒå…¥å™¨</span>
embedder = OpenAIEmbedder(
    <span class="hljs-built_in">id</span>=<span class="hljs-string">"text-embedding-v4"</span>,
    base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
)

<span class="hljs-comment"># æ­¥éª¤2ï¼šåˆå§‹åŒ–å‘é‡æ•°æ®åº“</span>
vector_db = Qdrant(
    collection=<span class="hljs-string">"thai-recipes"</span>,
    url=<span class="hljs-string">"http://localhost:6333"</span>,
    embedder=embedder
)

<span class="hljs-comment"># æ­¥éª¤3ï¼šåŠ è½½çŸ¥è¯†åº“ï¼ˆå¦‚æœå°šæœªåŠ è½½ï¼‰</span>
knowledge_base = Knowledge(vector_db=vector_db)
knowledge_base.add_content(
    url=<span class="hljs-string">"https://arxiv.org/pdf/2410.05779"</span>
)

<span class="hljs-comment"># æ­¥éª¤4ï¼šå®šä¹‰è‡ªå®šä¹‰æ£€ç´¢å™¨</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">custom_retriever</span>(<span class="hljs-params">
    query: <span class="hljs-built_in">str</span>,
    agent: <span class="hljs-type">Optional</span>[Agent] = <span class="hljs-literal">None</span>,
    num_documents: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span>,
    **kwargs
</span>) -&gt; <span class="hljs-type">Optional</span>[<span class="hljs-built_in">list</span>[<span class="hljs-built_in">dict</span>]]:
    <span class="hljs-string">"""
    è‡ªå®šä¹‰æ£€ç´¢å™¨ï¼šä½¿ç”¨ Qdrant å®¢æˆ·ç«¯ç›´æ¥æŸ¥è¯¢
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># åˆ›å»º Qdrant å®¢æˆ·ç«¯</span>
        qdrant_client = QdrantClient(
            url=<span class="hljs-string">"http://localhost:6333"</span>
        )
        
        <span class="hljs-comment"># å°†æŸ¥è¯¢è½¬æ¢ä¸ºåµŒå…¥å‘é‡</span>
        query_embedding = embedder.get_embedding(query)
        
        <span class="hljs-comment"># æ‰§è¡Œå‘é‡æœç´¢</span>
        results = qdrant_client.query_points(
            collection_name=<span class="hljs-string">"thai-recipes"</span>,
            query=query_embedding,
            limit=num_documents,
        )
        
        <span class="hljs-comment"># è½¬æ¢ç»“æœä¸ºå­—å…¸æ ¼å¼</span>
        results_dict = results.model_dump()
        
        <span class="hljs-keyword">if</span> <span class="hljs-string">"points"</span> <span class="hljs-keyword">in</span> results_dict:
            <span class="hljs-keyword">return</span> results_dict[<span class="hljs-string">"points"</span>]
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
            
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ£€ç´¢è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

<span class="hljs-comment"># æ­¥éª¤5ï¼šä½¿ç”¨è‡ªå®šä¹‰æ£€ç´¢å™¨åˆ›å»º Agent</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    agent = Agent(
        knowledge_retriever=custom_retriever,    <span class="hljs-comment"># ä¼ å…¥è‡ªå®šä¹‰æ£€ç´¢å™¨</span>
        search_knowledge=<span class="hljs-literal">True</span>,                   <span class="hljs-comment"># å¯ç”¨ Agentic RAG</span>
        instructions=<span class="hljs-string">"æœç´¢çŸ¥è¯†åº“è·å–ä¿¡æ¯"</span>
    )
    
    <span class="hljs-comment"># æŸ¥è¯¢ç¤ºä¾‹</span>
    query = <span class="hljs-string">"åˆ—å‡ºåˆ¶ä½œLightRAGçš„ä¸»è¦ä½œè€…"</span>
    agent.print_response(query, markdown=<span class="hljs-literal">True</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<h4 data-id="heading-59">å¼‚æ­¥è‡ªå®šä¹‰æ£€ç´¢å™¨ç¤ºä¾‹</h4>
<p>å¯¹äºé«˜å¹¶å‘åœºæ™¯ï¼Œæ¨èä½¿ç”¨å¼‚æ­¥æ£€ç´¢å™¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>
<span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent
<span class="hljs-keyword">from</span> agno.knowledge.embedder.openai <span class="hljs-keyword">import</span> OpenAIEmbedder
<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge
<span class="hljs-keyword">from</span> agno.vectordb.qdrant <span class="hljs-keyword">import</span> Qdrant
<span class="hljs-keyword">from</span> qdrant_client <span class="hljs-keyword">import</span> AsyncQdrantClient

<span class="hljs-comment"># åµŒå…¥å™¨å’ŒçŸ¥è¯†åº“é…ç½®ï¼ˆåŒä¸Šï¼‰</span>
vector_db = Qdrant(
    collection=<span class="hljs-string">"thai-recipes"</span>,
    url=<span class="hljs-string">"http://localhost:6333"</span>,
    embedder=embedder
)
knowledge_base = Knowledge(vector_db=vector_db)
knowledge_base.add_content(
    url=<span class="hljs-string">"https://arxiv.org/pdf/2410.05779"</span>
)

<span class="hljs-comment"># å®šä¹‰å¼‚æ­¥è‡ªå®šä¹‰æ£€ç´¢å™¨</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">async_custom_retriever</span>(<span class="hljs-params">
    query: <span class="hljs-built_in">str</span>,
    agent: <span class="hljs-type">Optional</span>[Agent] = <span class="hljs-literal">None</span>,
    num_documents: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span>,
    **kwargs
</span>) -&gt; <span class="hljs-type">Optional</span>[<span class="hljs-built_in">list</span>[<span class="hljs-built_in">dict</span>]]:
    <span class="hljs-string">"""
    å¼‚æ­¥è‡ªå®šä¹‰æ£€ç´¢å™¨
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># åˆ›å»ºå¼‚æ­¥ Qdrant å®¢æˆ·ç«¯</span>
        qdrant_client = AsyncQdrantClient(
            url=<span class="hljs-string">"http://localhost:6333"</span>
        )
        
        <span class="hljs-comment"># è·å–æŸ¥è¯¢åµŒå…¥</span>
        query_embedding = embedder.get_embedding(query)
        
        <span class="hljs-comment"># å¼‚æ­¥æ‰§è¡Œå‘é‡æœç´¢</span>
        results = <span class="hljs-keyword">await</span> qdrant_client.query_points(
            collection_name=<span class="hljs-string">"thai-recipes"</span>,
            query=query_embedding,
            limit=num_documents,
        )
        
        results_dict = results.model_dump()
        
        <span class="hljs-keyword">if</span> <span class="hljs-string">"points"</span> <span class="hljs-keyword">in</span> results_dict:
            <span class="hljs-keyword">return</span> results_dict[<span class="hljs-string">"points"</span>]
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
            
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ£€ç´¢è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

<span class="hljs-comment"># å¼‚æ­¥ä¸»å‡½æ•°</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">async_main</span>():
    agent = Agent(
        knowledge_retriever=async_custom_retriever,  <span class="hljs-comment"># å¼‚æ­¥æ£€ç´¢å™¨</span>
        search_knowledge=<span class="hljs-literal">True</span>,
        instructions=<span class="hljs-string">"æœç´¢çŸ¥è¯†åº“è·å–ä¿¡æ¯"</span>
    )
    
    query = <span class="hljs-string">"åˆ—å‡ºåˆ¶ä½œLightRAGçš„ä¸»è¦ä½œè€…"</span>
    <span class="hljs-keyword">await</span> agent.aprint_response(query, markdown=<span class="hljs-literal">True</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    asyncio.run(async_main())
</code></pre>
<h4 data-id="heading-60">è‡ªå®šä¹‰æ£€ç´¢å™¨çš„é«˜çº§ç”¨æ³•</h4>
<p>ä½ å¯ä»¥åœ¨è‡ªå®šä¹‰æ£€ç´¢å™¨ä¸­å®ç°æ›´å¤æ‚çš„é€»è¾‘ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">advanced_custom_retriever</span>(<span class="hljs-params">
    query: <span class="hljs-built_in">str</span>,
    agent: <span class="hljs-type">Optional</span>[Agent] = <span class="hljs-literal">None</span>,
    num_documents: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span>,
    **kwargs
</span>) -&gt; <span class="hljs-type">Optional</span>[<span class="hljs-built_in">list</span>[<span class="hljs-built_in">dict</span>]]:
    <span class="hljs-string">"""
    é«˜çº§è‡ªå®šä¹‰æ£€ç´¢å™¨ï¼š
    1. å¤šæ•°æ®æºæ£€ç´¢
    2. ç»“æœèåˆ
    3. è‡ªå®šä¹‰è¯„åˆ†
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># 1. ä»å¤šä¸ªæ•°æ®æºæ£€ç´¢</span>
        results_db1 = search_database_1(query, num_documents)
        results_db2 = search_database_2(query, num_documents)
        
        <span class="hljs-comment"># 2. åˆå¹¶å’Œå»é‡</span>
        all_results = merge_and_deduplicate(results_db1, results_db2)
        
        <span class="hljs-comment"># 3. è‡ªå®šä¹‰è¯„åˆ†é€»è¾‘</span>
        scored_results = apply_custom_scoring(all_results, query)
        
        <span class="hljs-comment"># 4. é‡æ’åº</span>
        reranked_results = rerank_by_score(scored_results)
        
        <span class="hljs-comment"># 5. è¿”å›å‰ N ä¸ªç»“æœ</span>
        <span class="hljs-keyword">return</span> reranked_results[:num_documents]
        
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é«˜çº§æ£€ç´¢å¤±è´¥: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
</code></pre>
<hr/>
<h2 data-id="heading-61">7. RAG ä¸ Agent é›†æˆ</h2>
<h3 data-id="heading-62">7.1 åŸºç¡€é›†æˆ</h3>
<p>å°† RAG é›†æˆåˆ° Agent éå¸¸ç®€å•ï¼Œåªéœ€åœ¨åˆ›å»º Agent æ—¶ä¼ å…¥çŸ¥è¯†åº“ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent
<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge
<span class="hljs-keyword">from</span> agno.vectordb.pgvector <span class="hljs-keyword">import</span> PgVector

<span class="hljs-comment"># æ­¥éª¤1ï¼šåˆ›å»ºçŸ¥è¯†åº“</span>
vector_db = PgVector(
    table_name=<span class="hljs-string">"my_knowledge"</span>,
    db_url=<span class="hljs-string">"postgresql+psycopg://ai:ai@localhost:5532/ai"</span>
)

knowledge = Knowledge(vector_db=vector_db)
knowledge.add_content(
    url=<span class="hljs-string">"https://docs.agno.com/introduction/agents.md"</span>
)

<span class="hljs-comment"># æ­¥éª¤2ï¼šåˆ›å»º Agent å¹¶å…³è”çŸ¥è¯†åº“</span>
agent = Agent(
    name=<span class="hljs-string">"Knowledge Agent"</span>,
    knowledge=knowledge,                 <span class="hljs-comment"># å…³è”çŸ¥è¯†åº“</span>
    search_knowledge=<span class="hljs-literal">True</span>,               <span class="hljs-comment"># å¯ç”¨çŸ¥è¯†æœç´¢ï¼ˆé»˜è®¤ä¸º Trueï¼‰</span>
    instructions=<span class="hljs-string">"åœ¨å›ç­”é—®é¢˜å‰ï¼Œæ€»æ˜¯å…ˆæœç´¢ä½ çš„çŸ¥è¯†åº“ã€‚åŒ…å«æ¥æºå¼•ç”¨ã€‚"</span>
)

<span class="hljs-comment"># æ­¥éª¤3ï¼šæŸ¥è¯¢</span>
agent.print_response(<span class="hljs-string">"ä»€ä¹ˆæ˜¯ Agno Agent?"</span>, markdown=<span class="hljs-literal">True</span>)
</code></pre>
<h3 data-id="heading-63">7.2 Agentic RAG</h3>
<p>Agentic RAG æ˜¯ Agno çš„é»˜è®¤æ¨¡å¼ï¼ŒAgent æ‹¥æœ‰ä¸»åŠ¨æœç´¢çŸ¥è¯†åº“çš„èƒ½åŠ›ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent
<span class="hljs-keyword">from</span> agno.models.openai <span class="hljs-keyword">import</span> OpenAILike
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

load_dotenv()
<span class="hljs-comment"># Agentic RAG é…ç½®</span>
agent = Agent(
    model=OpenAILike(<span class="hljs-built_in">id</span>=<span class="hljs-string">"qwen3-max"</span>,
                     base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>, 
                     api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)),
    knowledge=knowledge,

    <span class="hljs-comment"># Agentic RAG æ ¸å¿ƒå‚æ•°</span>
    search_knowledge=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># ä¸º Agent æ·»åŠ æœç´¢çŸ¥è¯†åº“çš„å·¥å…·</span>

    <span class="hljs-comment"># æŒ‡ä»¤å¼•å¯¼</span>
    instructions=[
        <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„çŸ¥è¯†åŠ©æ‰‹ã€‚"</span>,
        <span class="hljs-string">"åœ¨å›ç­”é—®é¢˜å‰ï¼Œæ€»æ˜¯å…ˆæœç´¢ä½ çš„çŸ¥è¯†åº“ã€‚"</span>,
        <span class="hljs-string">"å¦‚æœçŸ¥è¯†åº“ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œå†è€ƒè™‘ä½¿ç”¨å…¶ä»–å·¥å…·æˆ–åŸºäºé€šç”¨çŸ¥è¯†å›ç­”ã€‚"</span>,
        <span class="hljs-string">"åœ¨å›ç­”ä¸­åŒ…å«æ¥æºå¼•ç”¨ã€‚"</span>
    ],

    <span class="hljs-comment"># æ˜¾ç¤ºå·¥å…·è°ƒç”¨ï¼ˆè°ƒè¯•ç”¨ï¼‰</span>
    read_tool_call_history=<span class="hljs-literal">True</span>,

    <span class="hljs-comment"># Markdown è¾“å‡º</span>
    markdown=<span class="hljs-literal">True</span>
)

<span class="hljs-comment"># Agent ä¼šè‡ªä¸»å†³å®šä½•æ—¶æœç´¢çŸ¥è¯†åº“</span>
agent.print_response(<span class="hljs-string">"å¦‚ä½•åœ¨ Agno ä¸­åˆ›å»ºä¸€ä¸ª Agent?"</span>)
</code></pre>
<p><strong>Agentic RAG çš„å·¥ä½œæµç¨‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·æŸ¥è¯¢ â†’ Agent åˆ†æ
<span class="hljs-code">           â”‚
           â”œâ”€ éœ€è¦çŸ¥è¯†åº“ä¿¡æ¯ï¼Ÿ
           â”‚  â”œâ”€ æ˜¯ â†’ è°ƒç”¨ search_knowledge å·¥å…·
           â”‚  â”‚       â”‚
           â”‚  â”‚       â”œâ”€ æ£€ç´¢ç›¸å…³æ–‡æ¡£
           â”‚  â”‚       â”œâ”€ åˆ†ææ£€ç´¢ç»“æœ
           â”‚  â”‚       â””â”€ å†³å®šæ˜¯å¦éœ€è¦æ›´å¤šä¿¡æ¯
           â”‚  â”‚           â”œâ”€ éœ€è¦ â†’ å†æ¬¡æ£€ç´¢
           â”‚  â”‚           â””â”€ ä¸éœ€è¦ â†’ ç»§ç»­
           â”‚  â”‚
           â”‚  â””â”€ å¦ â†’ ç›´æ¥åŸºäºé€šç”¨çŸ¥è¯†å›ç­”
           â”‚
           â””â”€ ç”Ÿæˆæœ€ç»ˆå›ç­”
</span></code></pre>
<h3 data-id="heading-64">7.3 ä¼ ç»Ÿ RAG</h3>
<p>ä¼ ç»Ÿ RAG å°†æ£€ç´¢åˆ°çš„çŸ¥è¯†ç›´æ¥æ·»åŠ åˆ°ä¸Šä¸‹æ–‡ä¸­ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent

<span class="hljs-comment"># ä¼ ç»Ÿ RAG é…ç½®</span>
agent = Agent(
    knowledge=knowledge,
    
    <span class="hljs-comment"># ä¼ ç»Ÿ RAG å‚æ•°</span>
    add_knowledge_to_context=<span class="hljs-literal">True</span>,       <span class="hljs-comment"># å°†çŸ¥è¯†æ·»åŠ åˆ°ä¸Šä¸‹æ–‡</span>
    search_knowledge=<span class="hljs-literal">False</span>,              <span class="hljs-comment"># ä¸ä½¿ç”¨æœç´¢å·¥å…·ï¼ˆå¯é€‰ï¼‰</span>
    
    <span class="hljs-comment"># å¼•ç”¨æ ¼å¼</span>
    references_format=<span class="hljs-string">"json"</span>,            <span class="hljs-comment"># æˆ– "yaml"</span>
    
    <span class="hljs-comment"># å…¶ä»–é…ç½®</span>
    instructions=<span class="hljs-string">"ä½¿ç”¨æä¾›çš„çŸ¥è¯†å›ç­”é—®é¢˜ã€‚"</span>,
    markdown=<span class="hljs-literal">True</span>
)

<span class="hljs-comment"># æ¯æ¬¡æŸ¥è¯¢éƒ½ä¼šè‡ªåŠ¨æ£€ç´¢çŸ¥è¯†å¹¶æ·»åŠ åˆ°ä¸Šä¸‹æ–‡</span>
agent.print_response(<span class="hljs-string">"Agno æ”¯æŒå“ªäº›å‘é‡æ•°æ®åº“?"</span>)
</code></pre>
<p><strong>ä¼ ç»Ÿ RAG vs Agentic RAG å¯¹æ¯”ï¼š</strong></p>








































<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ ç»Ÿ RAG</th><th>Agentic RAG</th></tr></thead><tbody><tr><td><strong>æ£€ç´¢æ—¶æœº</strong></td><td>æ¯æ¬¡æŸ¥è¯¢éƒ½æ£€ç´¢</td><td>Agent æ™ºèƒ½å†³å®š</td></tr><tr><td><strong>æ§åˆ¶æ–¹å¼</strong></td><td><code>add_knowledge_to_context=True</code></td><td><code>search_knowledge=True</code></td></tr><tr><td><strong>çµæ´»æ€§</strong></td><td>å›ºå®šæµç¨‹</td><td>é«˜åº¦çµæ´»</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>å¯èƒ½æœ‰ä¸å¿…è¦çš„æ£€ç´¢</td><td>æŒ‰éœ€æ£€ç´¢ï¼Œæ›´é«˜æ•ˆ</td></tr><tr><td><strong>é€‚ç”¨åœºæ™¯</strong></td><td>ç®€å•é—®ç­”</td><td>å¤æ‚ä»»åŠ¡ã€å¤šæ­¥æ¨ç†</td></tr><tr><td><strong>å¤šè½®æ£€ç´¢</strong></td><td>ä¸æ”¯æŒ</td><td>æ”¯æŒ</td></tr></tbody></table>
<h3 data-id="heading-65">7.4 çŸ¥è¯†è¿‡æ»¤å™¨</h3>
<p>çŸ¥è¯†è¿‡æ»¤å™¨å…è®¸ä½ åŸºäºå…ƒæ•°æ®ç²¾ç¡®æ§åˆ¶æ£€ç´¢èŒƒå›´ã€‚</p>
<h4 data-id="heading-66">é™æ€è¿‡æ»¤å™¨</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent

<span class="hljs-comment"># ä¸º Agent é…ç½®é™æ€è¿‡æ»¤å™¨</span>
agent = Agent(
    knowledge=knowledge,
    
    <span class="hljs-comment"># é™æ€çŸ¥è¯†è¿‡æ»¤å™¨</span>
    knowledge_filters={
        <span class="hljs-string">"category"</span>: <span class="hljs-string">"recipes"</span>,           <span class="hljs-comment"># åªæ£€ç´¢é£Ÿè°±ç±»æ–‡æ¡£</span>
        <span class="hljs-string">"cuisine"</span>: <span class="hljs-string">"thai"</span>,               <span class="hljs-comment"># åªæ£€ç´¢æ³°å¼æ–™ç†</span>
        <span class="hljs-string">"difficulty"</span>: <span class="hljs-string">"easy"</span>             <span class="hljs-comment"># åªæ£€ç´¢ç®€å•é£Ÿè°±</span>
    },
    
    search_knowledge=<span class="hljs-literal">True</span>
)

<span class="hljs-comment"># Agent åªä¼šåœ¨ç¬¦åˆè¿‡æ»¤æ¡ä»¶çš„æ–‡æ¡£ä¸­æ£€ç´¢</span>
agent.print_response(<span class="hljs-string">"æ¨èä¸€ä¸ªç®€å•çš„æ³°å¼èœè°±"</span>)
</code></pre>
<h4 data-id="heading-67">åŠ¨æ€è¿‡æ»¤å™¨ï¼ˆAgentic Filtersï¼‰</h4>
<p>è®© Agent è‡ªä¸»é€‰æ‹©è¿‡æ»¤å™¨ï¼š</p>
<pre><code class="hljs language-python" lang="python">agent = Agent(
    knowledge=knowledge,
    
    <span class="hljs-comment"># å¯ç”¨æ™ºèƒ½è¿‡æ»¤å™¨</span>
    enable_agentic_knowledge_filters=<span class="hljs-literal">True</span>,
    
    <span class="hljs-comment"># å¯ç”¨çš„è¿‡æ»¤å™¨é€‰é¡¹ï¼ˆAgent ä¼šè‡ªä¸»é€‰æ‹©ï¼‰</span>
    <span class="hljs-comment"># è¿™äº›å¯ä»¥åœ¨çŸ¥è¯†åº“åŠ è½½æ—¶è®¾ç½®</span>
    
    search_knowledge=<span class="hljs-literal">True</span>,
    instructions=<span class="hljs-string">"æ ¹æ®ç”¨æˆ·æŸ¥è¯¢ï¼Œæ™ºèƒ½é€‰æ‹©åˆé€‚çš„çŸ¥è¯†è¿‡æ»¤å™¨ã€‚"</span>
)
</code></pre>
<h4 data-id="heading-68">åœ¨çŸ¥è¯†åº“åŠ è½½æ—¶è®¾ç½®å…ƒæ•°æ®</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ·»åŠ å†…å®¹æ—¶è®¾ç½®å…ƒæ•°æ®</span>
knowledge.add_content(
    url=<span class="hljs-string">"https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"</span>,
    metadata={
        <span class="hljs-string">"category"</span>: <span class="hljs-string">"recipes"</span>,
        <span class="hljs-string">"cuisine"</span>: <span class="hljs-string">"thai"</span>,
        <span class="hljs-string">"difficulty"</span>: <span class="hljs-string">"easy"</span>,
        <span class="hljs-string">"preparation_time"</span>: <span class="hljs-string">"30min"</span>
    }
)

knowledge.add_content(
    url=<span class="hljs-string">"https://agno-public.s3.amazonaws.com/recipes/ItalianRecipes.pdf"</span>,
    metadata={
        <span class="hljs-string">"category"</span>: <span class="hljs-string">"recipes"</span>,
        <span class="hljs-string">"cuisine"</span>: <span class="hljs-string">"italian"</span>,
        <span class="hljs-string">"difficulty"</span>: <span class="hljs-string">"medium"</span>,
        <span class="hljs-string">"preparation_time"</span>: <span class="hljs-string">"45min"</span>
    }
)
</code></pre>
<h4 data-id="heading-69">å…ƒæ•°æ®è¿‡æ»¤æœç´¢</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åœ¨æœç´¢æ—¶åº”ç”¨è¿‡æ»¤å™¨</span>
results = vector_db.search(
    query=<span class="hljs-string">"pasta recipe"</span>,
    filters={
        <span class="hljs-string">"cuisine"</span>: <span class="hljs-string">"italian"</span>,
        <span class="hljs-string">"difficulty"</span>: <span class="hljs-string">"easy"</span>
    },
    limit=<span class="hljs-number">5</span>
)
</code></pre>
<h3 data-id="heading-70">7.5 Agent æ›´æ–°çŸ¥è¯†åº“</h3>
<p>Agent è¿˜å¯ä»¥å…·å¤‡æ›´æ–°çŸ¥è¯†åº“çš„èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-python" lang="python">agent = Agent(
    knowledge=knowledge,
    search_knowledge=<span class="hljs-literal">True</span>,
    
    <span class="hljs-comment"># å¯ç”¨çŸ¥è¯†åº“æ›´æ–°èƒ½åŠ›</span>
    update_knowledge=<span class="hljs-literal">True</span>,
    
    instructions=[
        <span class="hljs-string">"ä½ å¯ä»¥æœç´¢å’Œæ›´æ–°çŸ¥è¯†åº“ã€‚"</span>,
        <span class="hljs-string">"å½“å‘ç°æ–°çš„æœ‰ä»·å€¼ä¿¡æ¯æ—¶ï¼Œæ·»åŠ åˆ°çŸ¥è¯†åº“ä¸­ã€‚"</span>
    ]
)
</code></pre>
<hr/>
<h2 data-id="heading-71">8. å®æˆ˜ç¤ºä¾‹</h2>
<h3 data-id="heading-72">8.1 åŸºç¡€ RAG ç¤ºä¾‹</h3>
<p>è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„åŸºç¡€ RAG ç¤ºä¾‹ï¼Œå±•ç¤ºä»åˆ›å»ºçŸ¥è¯†åº“åˆ° Agent æŸ¥è¯¢çš„å…¨è¿‡ç¨‹ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
åŸºç¡€ RAG ç¤ºä¾‹
åŠŸèƒ½ï¼šåˆ›å»ºä¸€ä¸ªèƒ½å¤Ÿå›ç­”æ³°å¼é£Ÿè°±é—®é¢˜çš„ Agent
"""</span>
<span class="hljs-keyword">import</span> os

<span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent
<span class="hljs-keyword">from</span> agno.models.openai <span class="hljs-keyword">import</span> OpenAILike
<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge
<span class="hljs-keyword">from</span> agno.vectordb.lancedb <span class="hljs-keyword">import</span> LanceDb
<span class="hljs-keyword">from</span> agno.knowledge.embedder.openai <span class="hljs-keyword">import</span> OpenAIEmbedder
<span class="hljs-keyword">from</span> agno.vectordb.search <span class="hljs-keyword">import</span> SearchType


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># æ­¥éª¤1ï¼šé…ç½®åµŒå…¥å™¨</span>
    embedder = OpenAIEmbedder(
        <span class="hljs-built_in">id</span>=<span class="hljs-string">"text-embedding-v4"</span>,  <span class="hljs-comment"># æ¨¡å‹åç§° è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨åƒé—®çš„é€šç”¨æ–‡æœ¬å‘é‡-v4</span>
        base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,  <span class="hljs-comment"># DashScope API åœ°å€</span>
        dimensions=<span class="hljs-number">1536</span>,  <span class="hljs-comment"># å‘é‡ç»´åº¦</span>
        api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)  <span class="hljs-comment"># API å¯†é’¥ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä»ç¯å¢ƒå˜é‡è¯»å–ï¼‰</span>
    )

    <span class="hljs-comment"># æ­¥éª¤2ï¼šé…ç½®å‘é‡æ•°æ®åº“</span>
    vector_db = LanceDb(
        uri=<span class="hljs-string">"tmp/lancedb"</span>,  <span class="hljs-comment"># æœ¬åœ°å­˜å‚¨è·¯å¾„</span>
        table_name=<span class="hljs-string">"thai_recipes"</span>,  <span class="hljs-comment"># è¡¨å</span>
        search_type=SearchType.vector,  <span class="hljs-comment"># å‘é‡æœç´¢</span>
        embedder=embedder
    )

    <span class="hljs-comment"># æ­¥éª¤3ï¼šåˆ›å»ºçŸ¥è¯†åº“</span>
    knowledge = Knowledge(
        name=<span class="hljs-string">"Thai Recipes Knowledge Base"</span>,
        description=<span class="hljs-string">"æ³°å¼é£Ÿè°±çŸ¥è¯†åº“"</span>,
        vector_db=vector_db
    )

    <span class="hljs-comment"># æ­¥éª¤4ï¼šåŠ è½½å†…å®¹ï¼ˆé¦–æ¬¡è¿è¡Œæ—¶æ‰§è¡Œï¼‰</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨åŠ è½½çŸ¥è¯†åº“..."</span>)
    knowledge.add_content(
        name=<span class="hljs-string">"Thai Recipes PDF"</span>,
        url=<span class="hljs-string">"https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"</span>,
        metadata={
            <span class="hljs-string">"category"</span>: <span class="hljs-string">"recipes"</span>,
            <span class="hljs-string">"cuisine"</span>: <span class="hljs-string">"thai"</span>
        }
    )
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"çŸ¥è¯†åº“åŠ è½½å®Œæˆï¼\n"</span>)

    <span class="hljs-comment"># æ­¥éª¤5ï¼šåˆ›å»º Agent</span>
    agent = Agent(
        name=<span class="hljs-string">"Thai Chef"</span>,
        model=OpenAILike(<span class="hljs-built_in">id</span>=<span class="hljs-string">"qwen3-max"</span>,
                 base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
                 api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)),
        knowledge=knowledge,
        search_knowledge=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># å¯ç”¨ Agentic RAG</span>
        instructions=[
            <span class="hljs-string">"ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„æ³°å¼æ–™ç†å¨å¸ˆã€‚"</span>,
            <span class="hljs-string">"åœ¨å›ç­”é—®é¢˜æ—¶ï¼Œæ€»æ˜¯å…ˆæœç´¢ä½ çš„çŸ¥è¯†åº“ã€‚"</span>,
            <span class="hljs-string">"æä¾›è¯¦ç»†çš„é£Ÿææ¸…å•å’Œçƒ¹é¥ªæ­¥éª¤ã€‚"</span>,
            <span class="hljs-string">"åœ¨å›ç­”ä¸­åŒ…å«æ¥æºé¡µç ã€‚"</span>
        ],
        read_tool_call_history=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># æ˜¾ç¤ºå·¥å…·è°ƒç”¨</span>
        markdown=<span class="hljs-literal">True</span>
    )

    <span class="hljs-comment"># æ­¥éª¤6ï¼šæŸ¥è¯¢ç¤ºä¾‹</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¤ºä¾‹æŸ¥è¯¢ 1ï¼šæŸ¥è¯¢é£Ÿæ"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    agent.print_response(
        <span class="hljs-string">"åˆ¶ä½œ Massaman Gaiï¼ˆé©¬æ²™æ–‡å’–å–±é¸¡ï¼‰éœ€è¦å“ªäº›é£Ÿæï¼Ÿ"</span>
    )

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¤ºä¾‹æŸ¥è¯¢ 2ï¼šæŸ¥è¯¢çƒ¹é¥ªæ­¥éª¤"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    agent.print_response(
        <span class="hljs-string">"Massaman Gai çš„è¯¦ç»†çƒ¹é¥ªæ­¥éª¤æ˜¯ä»€ä¹ˆï¼Ÿ"</span>
    )

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ç¤ºä¾‹æŸ¥è¯¢ 3ï¼šæ¨èèœå“"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    agent.print_response(
        <span class="hljs-string">"æ¨èä¸‰é“é€‚åˆåˆå­¦è€…çš„æ³°å¼èœå“"</span>
    )


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<p><strong>è¿è¡Œè¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff">æ­£åœ¨åŠ è½½çŸ¥è¯†åº“...
çŸ¥è¯†åº“åŠ è½½å®Œæˆï¼

<span class="hljs-comment">============================================================</span>
ç¤ºä¾‹æŸ¥è¯¢ 1ï¼šæŸ¥è¯¢é£Ÿæ
<span class="hljs-comment">============================================================</span>
[Tool Call] search_knowledge(query="Massaman Gai ingredients")

# Massaman Gaiï¼ˆé©¬æ²™æ–‡å’–å–±é¸¡ï¼‰é£Ÿææ¸…å•

æ ¹æ®æ³°å¼é£Ÿè°±ï¼Œåˆ¶ä½œ Massaman Gai éœ€è¦ä»¥ä¸‹é£Ÿæï¼š

**ä¸»è¦é£Ÿæï¼š**
<span class="hljs-deletion">- é¸¡è‚‰ï¼ˆåˆ‡å—ï¼‰ - 500å…‹</span>
<span class="hljs-deletion">- æ¤°å¥¶ - 400æ¯«å‡</span>
<span class="hljs-deletion">- é©¬é“ƒè–¯ï¼ˆåˆ‡å—ï¼‰ - 2ä¸ª</span>
<span class="hljs-deletion">- æ´‹è‘±ï¼ˆåˆ‡å—ï¼‰ - 1ä¸ª</span>
<span class="hljs-deletion">- èŠ±ç”Ÿ - 1/2æ¯</span>

**å’–å–±é…±æ–™ï¼š**
<span class="hljs-deletion">- Massaman å’–å–±é…± - 3æ±¤åŒ™</span>
<span class="hljs-deletion">- ç½—æœ›å­é…± - 2æ±¤åŒ™</span>
<span class="hljs-deletion">- é±¼éœ² - 2æ±¤åŒ™</span>
<span class="hljs-deletion">- æ£•æ¦ˆç³– - 1æ±¤åŒ™</span>

**é¦™æ–™ï¼š**
<span class="hljs-deletion">- æœˆæ¡‚å¶ - 2ç‰‡</span>
<span class="hljs-deletion">- è‚‰æ¡‚æ£’ - 1æ ¹</span>
<span class="hljs-deletion">- è±†è”» - 3é¢—</span>

æ¥æºï¼šThai Recipes PDF, ç¬¬ 15 é¡µ
</code></pre>
<h3 data-id="heading-73">8.2 ä½¿ç”¨ ChromaDB çš„ç¤ºä¾‹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
ChromaDB RAG ç¤ºä¾‹
ä½¿ç”¨ ChromaDB æœ¬åœ°æŒä¹…åŒ–å­˜å‚¨
"""</span>
<span class="hljs-keyword">import</span> os

<span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent
<span class="hljs-keyword">from</span> agno.knowledge.embedder.openai <span class="hljs-keyword">import</span> OpenAIEmbedder
<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge
<span class="hljs-keyword">from</span> agno.models.openai <span class="hljs-keyword">import</span> OpenAILike
<span class="hljs-keyword">from</span> agno.vectordb.chroma <span class="hljs-keyword">import</span> ChromaDb

embedder = OpenAIEmbedder(
    <span class="hljs-built_in">id</span>=<span class="hljs-string">"text-embedding-v4"</span>,  <span class="hljs-comment"># æ¨¡å‹åç§° è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨åƒé—®çš„é€šç”¨æ–‡æœ¬å‘é‡-v4</span>
    base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,  <span class="hljs-comment"># DashScope API åœ°å€</span>
    dimensions=<span class="hljs-number">1536</span>,  <span class="hljs-comment"># å‘é‡ç»´åº¦</span>
    api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)  <span class="hljs-comment"># API å¯†é’¥ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä»ç¯å¢ƒå˜é‡è¯»å–ï¼‰</span>
)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># é…ç½® ChromaDBï¼ˆæœ¬åœ°æŒä¹…åŒ–ï¼‰</span>
    vector_db = ChromaDb(
        collection=<span class="hljs-string">"agno_docs"</span>,  <span class="hljs-comment"># é›†åˆå</span>
        path=<span class="hljs-string">"tmp/chromadb"</span>,  <span class="hljs-comment"># æœ¬åœ°å­˜å‚¨è·¯å¾„</span>
        persistent_client=<span class="hljs-literal">True</span>,  <span class="hljs-comment"># å¯ç”¨æŒä¹…åŒ–</span>
        embedder=embedder
    )

    <span class="hljs-comment"># åˆ›å»ºçŸ¥è¯†åº“</span>
    knowledge = Knowledge(
        name=<span class="hljs-string">"Agno Documentation"</span>,
        description=<span class="hljs-string">"Agno å®˜æ–¹æ–‡æ¡£çŸ¥è¯†åº“"</span>,
        vector_db=vector_db
    )

    <span class="hljs-comment"># åŠ è½½å¤šä¸ªæ–‡æ¡£</span>
    docs_to_load = [
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"Agents Introduction"</span>,
            <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://docs.agno.com/introduction/agents.md"</span>,
            <span class="hljs-string">"metadata"</span>: {<span class="hljs-string">"category"</span>: <span class="hljs-string">"intro"</span>, <span class="hljs-string">"topic"</span>: <span class="hljs-string">"agents"</span>}
        },
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"Knowledge Base Guide"</span>,
            <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://docs.agno.com/concepts/knowledge/overview.md"</span>,
            <span class="hljs-string">"metadata"</span>: {<span class="hljs-string">"category"</span>: <span class="hljs-string">"concepts"</span>, <span class="hljs-string">"topic"</span>: <span class="hljs-string">"knowledge"</span>}
        },
        {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"Vector Databases"</span>,
            <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://docs.agno.com/concepts/vectordb/overview.md"</span>,
            <span class="hljs-string">"metadata"</span>: {<span class="hljs-string">"category"</span>: <span class="hljs-string">"concepts"</span>, <span class="hljs-string">"topic"</span>: <span class="hljs-string">"vectordb"</span>}
        }
    ]

    <span class="hljs-comment"># æ‰¹é‡åŠ è½½æ–‡æ¡£</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨åŠ è½½æ–‡æ¡£åˆ° ChromaDB..."</span>)
    <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> docs_to_load:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"  - åŠ è½½: <span class="hljs-subst">{doc[<span class="hljs-string">'name'</span>]}</span>"</span>)
        knowledge.add_content(
            name=doc[<span class="hljs-string">"name"</span>],
            url=doc[<span class="hljs-string">"url"</span>],
            metadata=doc[<span class="hljs-string">"metadata"</span>]
        )
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡æ¡£åŠ è½½å®Œæˆï¼\n"</span>)

    <span class="hljs-comment"># åˆ›å»º Agent</span>
    agent = Agent(
        name=<span class="hljs-string">"Agno Assistant"</span>,
        model=OpenAILike(<span class="hljs-built_in">id</span>=<span class="hljs-string">"qwen3-max"</span>,
                         base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
                         api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)),
        knowledge=knowledge,
        search_knowledge=<span class="hljs-literal">True</span>,
        instructions=[
            <span class="hljs-string">"ä½ æ˜¯ Agno æ¡†æ¶çš„ä¸“å®¶åŠ©æ‰‹ã€‚"</span>,
            <span class="hljs-string">"å›ç­”å…³äº Agno çš„é—®é¢˜æ—¶ï¼Œå…ˆæœç´¢çŸ¥è¯†åº“ã€‚"</span>,
            <span class="hljs-string">"æä¾›å‡†ç¡®çš„ä»£ç ç¤ºä¾‹å’Œè¯¦ç»†è§£é‡Šã€‚"</span>,
            <span class="hljs-string">"å¼•ç”¨å…·ä½“çš„æ–‡æ¡£æ¥æºã€‚"</span>
        ],
        markdown=<span class="hljs-literal">True</span>
    )

    <span class="hljs-comment"># æŸ¥è¯¢ç¤ºä¾‹</span>
    queries = [
        <span class="hljs-string">"å¦‚ä½•åœ¨ Agno ä¸­åˆ›å»ºä¸€ä¸ª Agentï¼Ÿ"</span>,
        <span class="hljs-string">"Agno æ”¯æŒå“ªäº›å‘é‡æ•°æ®åº“ï¼Ÿ"</span>,
        <span class="hljs-string">"ä»€ä¹ˆæ˜¯ Knowledge Baseï¼Ÿ"</span>
    ]

    <span class="hljs-keyword">for</span> i, query <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(queries, <span class="hljs-number">1</span>):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{<span class="hljs-string">'='</span> * <span class="hljs-number">60</span>}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢ <span class="hljs-subst">{i}</span>: <span class="hljs-subst">{query}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"<span class="hljs-subst">{<span class="hljs-string">'='</span> * <span class="hljs-number">60</span>}</span>"</span>)
        agent.print_response(query)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()
</code></pre>
<h3 data-id="heading-74">8.3 ä½¿ç”¨ PgVector çš„ç¤ºä¾‹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
PgVector RAG ç¤ºä¾‹
ä½¿ç”¨ PostgreSQL + PgVector æ‰©å±•ï¼Œæ”¯æŒæ··åˆæœç´¢
"""</span>
<span class="hljs-keyword">import</span> os

<span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent
<span class="hljs-keyword">from</span> agno.knowledge.embedder.openai <span class="hljs-keyword">import</span> OpenAIEmbedder
<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge
<span class="hljs-keyword">from</span> agno.vectordb.pgvector <span class="hljs-keyword">import</span> PgVector
<span class="hljs-keyword">from</span> agno.vectordb.search <span class="hljs-keyword">import</span> SearchType
<span class="hljs-keyword">from</span> agno.models.openai <span class="hljs-keyword">import</span> OpenAILike
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

load_dotenv()


<span class="hljs-keyword">def</span> <span class="hljs-title function_">setup_pgvector</span>():
    <span class="hljs-string">"""
    è®¾ç½® PgVector

    é¦–å…ˆéœ€è¦å¯åŠ¨ PostgreSQL + PgVector å®¹å™¨ï¼š

    docker run -d \
      -e POSTGRES_DB=ai \
      -e POSTGRES_USER=ai \
      -e POSTGRES_PASSWORD=ai \
      -e PGDATA=/var/lib/postgresql/data/pgdata \
      -v pgvolume:/var/lib/postgresql/data \
      -p 5532:5432 \
      --name pgvector \
      agno/pgvector:16
    """</span>
    <span class="hljs-keyword">pass</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    embedder = OpenAIEmbedder(
        <span class="hljs-built_in">id</span>=<span class="hljs-string">"text-embedding-v4"</span>,  <span class="hljs-comment"># æ¨¡å‹åç§° è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨åƒé—®çš„é€šç”¨æ–‡æœ¬å‘é‡-v4</span>
        base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,  <span class="hljs-comment"># DashScope API åœ°å€</span>
        dimensions=<span class="hljs-number">1536</span>,  <span class="hljs-comment"># å‘é‡ç»´åº¦</span>
        api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)  <span class="hljs-comment"># API å¯†é’¥ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä»ç¯å¢ƒå˜é‡è¯»å–ï¼‰</span>
    )
    <span class="hljs-comment"># é…ç½® PgVectorï¼ˆæ··åˆæœç´¢ï¼‰</span>
    vector_db = PgVector(
        table_name=<span class="hljs-string">"job_descriptions"</span>,  <span class="hljs-comment"># è¡¨å</span>
        db_url=<span class="hljs-string">"postgresql+psycopg://ai:ai@localhost:5532/ai"</span>,
        search_type=SearchType.hybrid,  <span class="hljs-comment"># æ··åˆæœç´¢</span>
        embedder=embedder
    )

    <span class="hljs-comment"># åˆ›å»ºçŸ¥è¯†åº“</span>
    knowledge = Knowledge(
        name=<span class="hljs-string">"Job Descriptions"</span>,
        description=<span class="hljs-string">"èŒä½æè¿°çŸ¥è¯†åº“"</span>,
        vector_db=vector_db
    )

    <span class="hljs-comment"># åŠ è½½èŒä½æè¿°æ–‡æ¡£</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨åŠ è½½èŒä½æè¿°..."</span>)
    knowledge.add_content(
        name=<span class="hljs-string">"Software Engineer JD"</span>,
        url=<span class="hljs-string">"https://example.com/job-descriptions/software-engineer.pdf"</span>,
        metadata={
            <span class="hljs-string">"department"</span>: <span class="hljs-string">"engineering"</span>,
            <span class="hljs-string">"level"</span>: <span class="hljs-string">"mid-senior"</span>,
            <span class="hljs-string">"location"</span>: <span class="hljs-string">"remote"</span>
        }
    )
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"èŒä½æè¿°åŠ è½½å®Œæˆï¼\n"</span>)

    <span class="hljs-comment"># åˆ›å»º Agentï¼ˆä½¿ç”¨çŸ¥è¯†è¿‡æ»¤å™¨ï¼‰</span>
    agent = Agent(
        name=<span class="hljs-string">"HR Assistant"</span>,
        model=OpenAILike(<span class="hljs-built_in">id</span>=<span class="hljs-string">"qwen3-max"</span>,
                         base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
                         api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)),
        knowledge=knowledge,

        <span class="hljs-comment"># çŸ¥è¯†è¿‡æ»¤å™¨ï¼ˆåªæ£€ç´¢å·¥ç¨‹éƒ¨é—¨çš„èŒä½ï¼‰</span>
        knowledge_filters={
            <span class="hljs-string">"department"</span>: <span class="hljs-string">"engineering"</span>
        },

        search_knowledge=<span class="hljs-literal">True</span>,
        instructions=[
            <span class="hljs-string">"ä½ æ˜¯ä¸€ä½ HR åŠ©æ‰‹ã€‚"</span>,
            <span class="hljs-string">"å›ç­”èŒä½ç›¸å…³é—®é¢˜æ—¶ï¼Œå…ˆæœç´¢èŒä½æè¿°çŸ¥è¯†åº“ã€‚"</span>,
            <span class="hljs-string">"æä¾›è¯¦ç»†çš„æŠ€èƒ½è¦æ±‚å’ŒèŒè´£è¯´æ˜ã€‚"</span>
        ],
        markdown=<span class="hljs-literal">True</span>
    )

    <span class="hljs-comment"># æŸ¥è¯¢</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æŸ¥è¯¢ï¼šè½¯ä»¶å·¥ç¨‹å¸ˆèŒä½è¦æ±‚"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    agent.print_response(
        <span class="hljs-string">"åº”è˜è½¯ä»¶å·¥ç¨‹å¸ˆéœ€è¦å…·å¤‡å“ªäº›æŠ€èƒ½ï¼Ÿ"</span>
    )


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()

</code></pre>
<h3 data-id="heading-75">8.4 è‡ªå®šä¹‰æ£€ç´¢å™¨ç¤ºä¾‹</h3>
<p>å®Œæ•´çš„è‡ªå®šä¹‰æ£€ç´¢å™¨å®ç°ï¼ŒåŒ…å«é«˜çº§è¿‡æ»¤å’Œè¯„åˆ†é€»è¾‘ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
è‡ªå®šä¹‰æ£€ç´¢å™¨ç¤ºä¾‹
å®ç°é«˜çº§æ£€ç´¢é€»è¾‘ï¼šå¤šé˜¶æ®µæ£€ç´¢ã€è‡ªå®šä¹‰è¯„åˆ†ã€ç»“æœèåˆ
"""</span>

<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Optional</span>, <span class="hljs-type">List</span>, <span class="hljs-type">Dict</span>
<span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent
<span class="hljs-keyword">from</span> agno.knowledge.embedder.openai <span class="hljs-keyword">import</span> OpenAIEmbedder
<span class="hljs-keyword">from</span> agno.models.openai <span class="hljs-keyword">import</span> OpenAILike
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge
<span class="hljs-keyword">from</span> agno.vectordb.qdrant <span class="hljs-keyword">import</span> Qdrant
<span class="hljs-keyword">from</span> qdrant_client <span class="hljs-keyword">import</span> QdrantClient
<span class="hljs-keyword">import</span> os

load_dotenv()
<span class="hljs-comment"># é…ç½®</span>
QDRANT_URL = <span class="hljs-string">"http://localhost:6333"</span>
COLLECTION_NAME = <span class="hljs-string">"advanced-kb"</span>

<span class="hljs-comment"># åˆå§‹åŒ–ç»„ä»¶</span>
embedder = OpenAIEmbedder(
    <span class="hljs-built_in">id</span>=<span class="hljs-string">"text-embedding-v4"</span>,  <span class="hljs-comment"># æ¨¡å‹åç§° è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨åƒé—®çš„é€šç”¨æ–‡æœ¬å‘é‡-v4</span>
    base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,  <span class="hljs-comment"># DashScope API åœ°å€</span>
    dimensions=<span class="hljs-number">1536</span>,  <span class="hljs-comment"># å‘é‡ç»´åº¦</span>
    api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)  <span class="hljs-comment"># API å¯†é’¥ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä»ç¯å¢ƒå˜é‡è¯»å–ï¼‰</span>
)

vector_db = Qdrant(
    collection=COLLECTION_NAME,
    url=QDRANT_URL,
    embedder=embedder
)

knowledge_base = Knowledge(vector_db=vector_db)

<span class="hljs-comment"># åŠ è½½çŸ¥è¯†åº“ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰</span>
<span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(<span class="hljs-string">"tmp/knowledge_loaded.flag"</span>):
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"é¦–æ¬¡è¿è¡Œï¼ŒåŠ è½½çŸ¥è¯†åº“..."</span>)
    knowledge_base.add_content(
        url=<span class="hljs-string">"https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"</span>
    )
    <span class="hljs-comment"># åˆ›å»ºæ ‡è®°æ–‡ä»¶</span>
    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">"tmp/knowledge_loaded.flag"</span>, <span class="hljs-string">"w"</span>) <span class="hljs-keyword">as</span> f:
        f.write(<span class="hljs-string">"loaded"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"çŸ¥è¯†åº“åŠ è½½å®Œæˆï¼\n"</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">advanced_custom_retriever</span>(<span class="hljs-params">
    query: <span class="hljs-built_in">str</span>,
    agent: <span class="hljs-type">Optional</span>[Agent] = <span class="hljs-literal">None</span>,
    num_documents: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span>,
    min_score: <span class="hljs-built_in">float</span> = <span class="hljs-number">0.7</span>,  <span class="hljs-comment"># æœ€å°ç›¸ä¼¼åº¦åˆ†æ•°</span>
    apply_reranking: <span class="hljs-built_in">bool</span> = <span class="hljs-literal">True</span>,  <span class="hljs-comment"># æ˜¯å¦åº”ç”¨é‡æ’åº</span>
    **kwargs
</span>) -&gt; <span class="hljs-type">Optional</span>[<span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>]]:
    <span class="hljs-string">"""
    é«˜çº§è‡ªå®šä¹‰æ£€ç´¢å™¨

    ç‰¹æ€§ï¼š
    1. å¤šé˜¶æ®µæ£€ç´¢ï¼ˆå…ˆç²—æ£€ç´¢ï¼Œå†ç²¾æ£€ç´¢ï¼‰
    2. è‡ªå®šä¹‰è¯„åˆ†å’Œè¿‡æ»¤
    3. å¯é€‰çš„é‡æ’åº
    4. ç»“æœå»é‡å’Œæ ¼å¼åŒ–

    Args:
        query: æœç´¢æŸ¥è¯¢
        agent: Agent å®ä¾‹
        num_documents: è¿”å›æ–‡æ¡£æ•°
        min_score: æœ€å°ç›¸ä¼¼åº¦é˜ˆå€¼
        apply_reranking: æ˜¯å¦åº”ç”¨é‡æ’åº
        **kwargs: å…¶ä»–å‚æ•°

    Returns:
        æ£€ç´¢åˆ°çš„æ–‡æ¡£åˆ—è¡¨
    """</span>
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># åˆ›å»º Qdrant å®¢æˆ·ç«¯</span>
        qdrant_client = QdrantClient(url=QDRANT_URL)

        <span class="hljs-comment"># é˜¶æ®µ1ï¼šç²—æ£€ç´¢ï¼ˆæ£€ç´¢æ›´å¤šæ–‡æ¡£ï¼‰</span>
        query_embedding = embedder.get_embedding(query)

        initial_results = qdrant_client.query_points(
            collection_name=COLLECTION_NAME,
            query=query_embedding,
            limit=num_documents * <span class="hljs-number">3</span>,  <span class="hljs-comment"># æ£€ç´¢ 3 å€æ•°é‡</span>
        )

        results_dict = initial_results.model_dump()

        <span class="hljs-keyword">if</span> <span class="hljs-string">"points"</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> results_dict <span class="hljs-keyword">or</span> <span class="hljs-keyword">not</span> results_dict[<span class="hljs-string">"points"</span>]:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"æœªæ‰¾åˆ°ç›¸å…³æ–‡æ¡£"</span>)
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>

        points = results_dict[<span class="hljs-string">"points"</span>]

        <span class="hljs-comment"># é˜¶æ®µ2ï¼šè¿‡æ»¤ä½åˆ†æ–‡æ¡£</span>
        filtered_points = [
            point <span class="hljs-keyword">for</span> point <span class="hljs-keyword">in</span> points
            <span class="hljs-keyword">if</span> point.get(<span class="hljs-string">"score"</span>, <span class="hljs-number">0</span>) &gt;= min_score
        ]

        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç²—æ£€ç´¢: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(points)}</span> ä¸ªæ–‡æ¡£"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è¿‡æ»¤å: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(filtered_points)}</span> ä¸ªæ–‡æ¡£ (score &gt;= <span class="hljs-subst">{min_score}</span>)"</span>)

        <span class="hljs-comment"># é˜¶æ®µ3ï¼šé‡æ’åºï¼ˆå¯é€‰ï¼‰</span>
        <span class="hljs-keyword">if</span> apply_reranking <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(filtered_points) &gt; <span class="hljs-number">1</span>:
            <span class="hljs-comment"># è¿™é‡Œå¯ä»¥é›†æˆå¤–éƒ¨é‡æ’åºæœåŠ¡</span>
            <span class="hljs-comment"># ä¾‹å¦‚ï¼šCohere Reranker, Cross-Encoder ç­‰</span>
            <span class="hljs-comment"># ç¤ºä¾‹ï¼šç®€å•çš„åŸºäºåˆ†æ•°çš„é‡æ’åº</span>
            filtered_points = <span class="hljs-built_in">sorted</span>(
                filtered_points,
                key=<span class="hljs-keyword">lambda</span> x: x.get(<span class="hljs-string">"score"</span>, <span class="hljs-number">0</span>),
                reverse=<span class="hljs-literal">True</span>
            )
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"å·²åº”ç”¨é‡æ’åº"</span>)

        <span class="hljs-comment"># é˜¶æ®µ4ï¼šè¿”å›å‰ N ä¸ªç»“æœ</span>
        final_results = filtered_points[:num_documents]

        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æœ€ç»ˆè¿”å›: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(final_results)}</span> ä¸ªæ–‡æ¡£\n"</span>)

        <span class="hljs-keyword">return</span> final_results

    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ£€ç´¢è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>"</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""ä¸»å‡½æ•°"""</span>

    <span class="hljs-comment"># åˆ›å»ºä½¿ç”¨è‡ªå®šä¹‰æ£€ç´¢å™¨çš„ Agent</span>
    agent = Agent(
        name=<span class="hljs-string">"Advanced Chef"</span>,
        model=OpenAILike(<span class="hljs-built_in">id</span>=<span class="hljs-string">"qwen3-max"</span>,
                         base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
                         api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)),

        <span class="hljs-comment"># ä½¿ç”¨è‡ªå®šä¹‰æ£€ç´¢å™¨</span>
        knowledge_retriever=advanced_custom_retriever,
        search_knowledge=<span class="hljs-literal">True</span>,

        instructions=[
            <span class="hljs-string">"ä½ æ˜¯ä¸€ä½ä¸“ä¸šå¨å¸ˆã€‚"</span>,
            <span class="hljs-string">"ä½¿ç”¨è‡ªå®šä¹‰æ£€ç´¢å™¨æœç´¢é£Ÿè°±çŸ¥è¯†åº“ã€‚"</span>,
            <span class="hljs-string">"æä¾›è¯¦ç»†çš„çƒ¹é¥ªæŒ‡å¯¼ã€‚"</span>
        ],

        read_tool_call_history=<span class="hljs-literal">True</span>,
        markdown=<span class="hljs-literal">True</span>
    )

    <span class="hljs-comment"># æµ‹è¯•æŸ¥è¯¢</span>
    queries = [
        <span class="hljs-string">"åˆ¶ä½œæ³°å¼ç»¿å’–å–±çš„é£Ÿæå’Œæ­¥éª¤æ˜¯ä»€ä¹ˆï¼Ÿ"</span>,
        <span class="hljs-string">"æ¨èä¸€é“é€‚åˆæ™šé¤çš„æ³°å¼èœå“"</span>,
        <span class="hljs-string">"å¦‚ä½•åˆ¶ä½œæ³°å¼èŠ’æœç³¯ç±³é¥­ï¼Ÿ"</span>
    ]

    <span class="hljs-keyword">for</span> i, query <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(queries, <span class="hljs-number">1</span>):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">70</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æŸ¥è¯¢ <span class="hljs-subst">{i}</span>: <span class="hljs-subst">{query}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">70</span>)
        agent.print_response(query)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span>)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()

</code></pre>
<h3 data-id="heading-76">8.5 å¤šAgent RAG åä½œç¤ºä¾‹</h3>
<p>å±•ç¤ºå¤šä¸ª Agent å¦‚ä½•åä½œï¼Œå„è‡ªä½¿ç”¨ä¸åŒçš„çŸ¥è¯†åº“ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-string">"""
å¤š Agent RAG åä½œç¤ºä¾‹
åœºæ™¯ï¼šRAGè®ºæ–‡åˆ†æç³»ç»Ÿ
- LightRAG è®ºæ–‡åˆ†æå¸ˆ
- GraphRAG è®ºæ–‡åˆ†æå¸ˆ
- Coordinator Agentï¼šåè°ƒè€…ï¼Œå†³å®šå’¨è¯¢å“ªä½ä¸“å®¶
"""</span>
<span class="hljs-keyword">import</span> os

<span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent
<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge
<span class="hljs-keyword">from</span> agno.team <span class="hljs-keyword">import</span> Team
<span class="hljs-keyword">from</span> agno.vectordb.lancedb <span class="hljs-keyword">import</span> LanceDb
<span class="hljs-keyword">from</span> agno.vectordb.qdrant <span class="hljs-keyword">import</span> Qdrant
<span class="hljs-keyword">from</span> agno.vectordb.search <span class="hljs-keyword">import</span> SearchType
<span class="hljs-keyword">from</span> agno.knowledge.embedder.openai <span class="hljs-keyword">import</span> OpenAIEmbedder
<span class="hljs-keyword">from</span> agno.models.openai <span class="hljs-keyword">import</span> OpenAILike
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

load_dotenv()
embedder = OpenAIEmbedder(
    <span class="hljs-built_in">id</span>=<span class="hljs-string">"text-embedding-v4"</span>,  <span class="hljs-comment"># æ¨¡å‹åç§° è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨åƒé—®çš„é€šç”¨æ–‡æœ¬å‘é‡-v4</span>
    base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,  <span class="hljs-comment"># DashScope API åœ°å€</span>
    api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>),  <span class="hljs-comment"># API å¯†é’¥ï¼ˆå¯é€‰ï¼Œé»˜è®¤ä»ç¯å¢ƒå˜é‡è¯»å–ï¼‰</span>
    dimensions=<span class="hljs-number">1024</span>,
)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">create_knowledge_base</span>(<span class="hljs-params">name: <span class="hljs-built_in">str</span>, table_name: <span class="hljs-built_in">str</span>, pdf_path: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-string">"""åˆ›å»ºçŸ¥è¯†åº“çš„è¾…åŠ©å‡½æ•°"""</span>
    vector_db = Qdrant(
        collection=table_name,
        url=<span class="hljs-string">"http://localhost:6333"</span>,
        embedder=embedder,
        search_type=SearchType.hybrid,
    )

    knowledge = Knowledge(
        name=name,
        vector_db=vector_db
    )

    knowledge.add_content(
        name=<span class="hljs-string">f"<span class="hljs-subst">{name}</span> PDF"</span>,
        path=pdf_path,

    )

    <span class="hljs-keyword">return</span> knowledge


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-comment"># åˆ›å»ºLightRAGè®ºæ–‡çŸ¥è¯†åº“</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨åˆ›å»ºLightRAGè®ºæ–‡çŸ¥è¯†åº“..."</span>)
    lightrag_thesis_knowledge = create_knowledge_base(
        name=<span class="hljs-string">"LightRAG åŸå§‹è®ºæ–‡"</span>,
        table_name=<span class="hljs-string">"lightrag_thesis"</span>,
        pdf_path=<span class="hljs-string">"/Volumes/Transcend/2410.05779v3.pdf"</span>,
    )

    <span class="hljs-comment"># åˆ›å»ºGraphRAGè®ºæ–‡çŸ¥è¯†åº“</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"æ­£åœ¨åˆ›å»ºGraphRAGè®ºæ–‡çŸ¥è¯†åº“..."</span>)
    graphrag_thesis_knowledge = create_knowledge_base(
        name=<span class="hljs-string">"GraphRAG è®ºæ–‡"</span>,
        table_name=<span class="hljs-string">"graphrag_thesis"</span>,
        pdf_path=<span class="hljs-string">"/Volumes/Transcend/2404.16130v2.pdf"</span>
    )

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"çŸ¥è¯†åº“åˆ›å»ºå®Œæˆï¼\n"</span>)

    <span class="hljs-comment"># Agent 1ï¼šLightRAG è®ºæ–‡åˆ†æå¸ˆ</span>
    lightrag_thesis_analyst = Agent(
        name=<span class="hljs-string">"LightRAG Thesis Analyst"</span>,
        role=<span class="hljs-string">"LightRAG è®ºæ–‡åˆ†æå¸ˆ"</span>,
        model=OpenAILike(<span class="hljs-built_in">id</span>=<span class="hljs-string">"qwen3-max"</span>,
                         base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
                         api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)),
        knowledge=lightrag_thesis_knowledge,
        search_knowledge=<span class="hljs-literal">True</span>,
        instructions=[
            <span class="hljs-string">"ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„è®ºæ–‡åˆ†æå¸ˆã€‚"</span>,
            <span class="hljs-string">"åªå›ç­”LightRAGçš„è®ºæ–‡ç›¸å…³çš„é—®é¢˜ã€‚"</span>,
            <span class="hljs-string">"æä¾›è¯¦ç»†çš„è®ºæ–‡åˆ†æç»“æœã€‚"</span>
        ],
        markdown=<span class="hljs-literal">True</span>
    )

    <span class="hljs-comment"># Agent 2ï¼šGraphRAG è®ºæ–‡åˆ†æå¸ˆ</span>
    graphrag_thesis_analyst = Agent(
        name=<span class="hljs-string">"GraphRAG Thesis Analyst"</span>,
        role=<span class="hljs-string">"GraphRAG è®ºæ–‡åˆ†æå¸ˆ"</span>,
        model=OpenAILike(<span class="hljs-built_in">id</span>=<span class="hljs-string">"qwen3-max"</span>,
                         base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
                         api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)),
        knowledge=graphrag_thesis_knowledge,
        search_knowledge=<span class="hljs-literal">True</span>,
        instructions=[
            <span class="hljs-string">"ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„è®ºæ–‡åˆ†æå¸ˆã€‚"</span>,
            <span class="hljs-string">"åªå›ç­”GraphRAGçš„è®ºæ–‡ç›¸å…³çš„é—®é¢˜ã€‚"</span>,
            <span class="hljs-string">"æä¾›è¯¦ç»†çš„è®ºæ–‡åˆ†æç»“æœã€‚"</span>
        ],
        markdown=<span class="hljs-literal">True</span>
    )

    <span class="hljs-comment"># Agent 3ï¼šåè°ƒè€…ï¼ˆå†³å®šå’¨è¯¢å“ªä½ä¸“å®¶ï¼‰</span>
    coordinator = Team(
        name=<span class="hljs-string">"Thesis Analysis Coordinator"</span>,
        role=<span class="hljs-string">"è®ºæ–‡åˆ†æåè°ƒä¸“å®¶"</span>,
        model=OpenAILike(<span class="hljs-built_in">id</span>=<span class="hljs-string">"qwen3-max"</span>,
                         base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
                         api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)),
        members=[lightrag_thesis_analyst, graphrag_thesis_analyst],  <span class="hljs-comment"># ç®¡ç†çš„å›¢é˜Ÿ</span>
        instructions=[
            <span class="hljs-string">"ä½ æ˜¯ä¸€ä½è®ºæ–‡åˆ†æåè°ƒä¸“å®¶ã€‚"</span>,
            <span class="hljs-string">"æ ¹æ®ç”¨æˆ·çš„é—®é¢˜ï¼Œå†³å®šå’¨è¯¢ LightRAG Thesis Analyst è¿˜æ˜¯ GraphRAG Thesis Analystã€‚"</span>,
            <span class="hljs-string">"å¦‚æœé—®é¢˜æ¶‰åŠLightRAGï¼Œå’¨è¯¢ LightRAG Thesis Analystã€‚"</span>,
            <span class="hljs-string">"å¦‚æœé—®é¢˜æ¶‰åŠGraphRAGï¼Œå’¨è¯¢ GraphRAG Thesis Analystã€‚"</span>,
            <span class="hljs-string">"å¦‚æœé—®é¢˜æ¶‰åŠä¸¤ç§è®ºæ–‡ï¼Œåˆ†åˆ«å’¨è¯¢ä¸¤ä½ä¸“å®¶ã€‚"</span>,
            <span class="hljs-string">"æ•´åˆä¸“å®¶çš„å›ç­”ï¼Œç»™ç”¨æˆ·ä¸€ä¸ªå®Œæ•´çš„ç­”å¤ã€‚"</span>
        ],
        markdown=<span class="hljs-literal">True</span>
    )

    <span class="hljs-comment"># æµ‹è¯•å¤š Agent åä½œ</span>
    test_queries = [
        <span class="hljs-string">"LightRAGçš„ä½œè€…æœ‰å“ªäº›ï¼Ÿ"</span>,
        <span class="hljs-string">"å¯¹æ¯”LightRAGå’ŒGraphRAGä¸­ä½¿ç”¨çš„æŠ€æœ¯æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ"</span>
    ]

    <span class="hljs-keyword">for</span> i, query <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(test_queries, <span class="hljs-number">1</span>):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">70</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¤šAgentåä½œæŸ¥è¯¢ <span class="hljs-subst">{i}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">70</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"é—®é¢˜: <span class="hljs-subst">{query}</span>\n"</span>)

        <span class="hljs-comment"># åè°ƒè€…å¤„ç†æŸ¥è¯¢ï¼ˆä¼šè‡ªåŠ¨è°ƒç”¨ç›¸åº”çš„ä¸“å®¶ Agentï¼‰</span>
        coordinator.print_response(query)

        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span>)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    main()

</code></pre>
<p><strong>å¤šAgentåä½œè¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">====================================================================
<span class="hljs-section">å¤šAgentåä½œæŸ¥è¯¢ 3
====================================================================</span>
é—®é¢˜: å¯¹æ¯”LightRAGå’ŒGraphRAGä¸­ä½¿ç”¨çš„æŠ€æœ¯æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ

â”â” Response (152.6s) â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                                                                              â”ƒ
â”ƒ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“ â”ƒ
â”ƒ â”ƒ                    LightRAG ä¸ GraphRAG æŠ€æœ¯å¯¹æ¯”åˆ†æ                     â”ƒ â”ƒ
â”ƒ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”› â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ é€šè¿‡å¯¹ä¸¤ç¯‡è®ºæ–‡æ ¸å¿ƒæŠ€æœ¯çš„æ·±å…¥åˆ†æï¼Œå¯ä»¥æ¸…æ™°åœ°çœ‹åˆ° LightRAG å’Œ GraphRAG        â”ƒ
â”ƒ è™½ç„¶éƒ½åˆ©ç”¨äº†å›¾ç»“æ„æ¥å¢å¼º RAG                                                 â”ƒ
â”ƒ ç³»ç»Ÿï¼Œä½†åœ¨è®¾è®¡ç†å¿µã€æŠ€æœ¯å®ç°å’Œåº”ç”¨åœºæ™¯ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚                       â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                æ ¸å¿ƒç†å¿µä¸ç›®æ ‡                                â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ  â€¢ GraphRAG: æ—¨åœ¨è§£å†³å…¨å±€æ€§æ„ä¹‰å»ºæ„é—®é¢˜ï¼ˆglobal sensemaking                  â”ƒ
â”ƒ    questionsï¼‰ï¼Œå¦‚â€œæ•´ä¸ªæ•°æ®é›†çš„ä¸»è¦ä¸»é¢˜æ˜¯ä»€ä¹ˆï¼Ÿâ€ã€‚å®ƒé€šè¿‡æ„å»ºä¸€ä¸ªå…¨é¢çš„çŸ¥è¯†å›¾ â”ƒ
â”ƒ    è°±å¹¶è¿›è¡Œç¤¾åŒºæ‘˜è¦ï¼Œä¸ºç”¨æˆ·æä¾›å®è§‚ã€ç»¼åˆçš„è§†è§’ã€‚                            â”ƒ
â”ƒ  â€¢ LightRAG:                                                                 â”ƒ
â”ƒ    æ—¨åœ¨åœ¨ä¿æŒé«˜æ£€ç´¢æ•ˆç‡çš„åŒæ—¶ï¼Œè§£å†³ä¼ ç»ŸRAGçš„ä¸Šä¸‹æ–‡ç¢ç‰‡åŒ–é—®é¢˜ã€‚å®ƒè¿½æ±‚åœ¨å›ç­”å¤ â”ƒ
â”ƒ    æ‚æŸ¥è¯¢æ—¶çš„å…¨é¢æ€§ä¸ç³»ç»Ÿè¿è¡Œæ•ˆç‡ã€å¯æ‰©å±•æ€§ä¹‹é—´çš„å¹³è¡¡ã€‚                      â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                               å›¾ç»“æ„çš„åˆ©ç”¨æ–¹å¼                               â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ   æ–¹é¢       GraphRAG                        LightRAG                        â”ƒ
â”ƒ  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”ƒ
â”ƒ   å›¾çš„ä½œç”¨   æ ¸å¿ƒç´¢å¼•ç»“æ„ã€‚æ•´ä¸ªç³»ç»Ÿå›´ç»•çŸ¥â€¦   å¢å¼ºå‹ç´¢å¼•ç»“æ„ã€‚å›¾ä½œä¸ºå¯¹åŸå§‹â€¦   â”ƒ
â”ƒ   å›¾çš„å¤„ç†   è¿›è¡Œå¤æ‚çš„ç¤¾åŒºæ£€æµ‹ï¼ˆLeidenç®—â€¦   ç›´æ¥åˆ©ç”¨åŸå§‹å›¾ç»“æ„ï¼ˆèŠ‚ç‚¹å’Œè¾¹â€¦   â”ƒ
â”ƒ   çŸ¥è¯†å•å…ƒ   ç¤¾åŒºæ‘˜è¦ï¼ˆCommunity             å®ä½“ï¼ˆEntitiesï¼‰æ˜¯ç›´æ¥çš„æ£€ç´¢â€¦   â”ƒ
â”ƒ              Summariesï¼‰æ˜¯æœ€ç»ˆçš„é—®ç­”å•å…ƒã€‚                                   â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                æ£€ç´¢ä¸ç”Ÿæˆæœºåˆ¶                                â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ   æ–¹é¢       GraphRAG                        LightRAG                        â”ƒ
â”ƒ  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”ƒ
â”ƒ   æ£€ç´¢èŒƒå¼   æ— ä¼ ç»Ÿæ£€ç´¢ã€‚é‡‡ç”¨ Map-Reduce     åŒå±‚æ£€ç´¢èŒƒå¼ï¼ˆDual-Level        â”ƒ
â”ƒ              å¼çš„æŸ¥è¯¢èšç„¦æ‘˜è¦ï¼ˆQFSï¼‰ï¼Œé â€¦   Retrievalï¼‰ã€‚ç»“åˆå‘é‡æœç´¢å’Œ â€¦   â”ƒ
â”ƒ   ç”Ÿæˆè¿‡ç¨‹   ä¸¤é˜¶æ®µç”Ÿæˆï¼š1)                  å•é˜¶æ®µç”Ÿæˆï¼šå°†æ£€ç´¢åˆ°çš„å®ä½“ã€â€¦   â”ƒ
â”ƒ              ä¸ºæ¯ä¸ªç¤¾åŒºç”Ÿæˆéƒ¨åˆ†ç­”æ¡ˆï¼›2)                                      â”ƒ
â”ƒ              èšåˆæ‰€æœ‰éƒ¨åˆ†ç­”æ¡ˆç”Ÿæˆå…¨å±€ç­”æ¡ˆâ€¦                                   â”ƒ
â”ƒ   æ•ˆç‡       æŸ¥è¯¢å¼€é”€å¤§ã€‚éœ€è¦ä¸ºæ¯ä¸ªç¤¾åŒºè°ƒâ€¦   æŸ¥è¯¢æ•ˆç‡é«˜ã€‚æ£€ç´¢ç›®æ ‡æ˜ç¡®ï¼ˆå®â€¦   â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                              ç´¢å¼•æ„å»ºä¸æ›´æ–°ç­–ç•¥                              â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ   æ–¹é¢         GraphRAG                       LightRAG                       â”ƒ
â”ƒ  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”ƒ
â”ƒ   æ„å»ºå¤æ‚åº¦   éå¸¸é«˜ã€‚æ¶‰åŠå®ä½“å…³ç³»æŠ½å–ã€ â€¦   ç›¸å¯¹è¾ƒä½ã€‚ä¸»è¦å·¥ä½œæ˜¯å®ä½“å…³ â€¦   â”ƒ
â”ƒ   å¢é‡æ›´æ–°     æå…¶å›°éš¾ä¸”ä½æ•ˆã€‚æ–°æ•°æ®åŠ å…¥ â€¦   é«˜æ•ˆä¾¿æ·ã€‚é‡‡ç”¨å¢é‡æ›´æ–°ç®—æ³• â€¦   â”ƒ
â”ƒ   é€‚ç”¨åœºæ™¯     é™æ€æˆ–å˜åŒ–ç¼“æ…¢çš„è¯­æ–™åº“ï¼Œé€‚ â€¦   åŠ¨æ€ã€é¢‘ç¹æ›´æ–°çš„æ•°æ®ç¯å¢ƒï¼Œ â€¦   â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ                                     æ€»ç»“                                     â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ  â€¢ GraphRAG                                                                  â”ƒ
â”ƒ    æ˜¯ä¸€ç§é‡é‡çº§ã€å…¨é¢æ€§ä¼˜å…ˆçš„æ–¹æ¡ˆã€‚å®ƒç‰ºç‰²äº†æ•ˆç‡å’ŒåŠ¨æ€æ›´æ–°èƒ½åŠ›ï¼Œæ¢å–äº†å¯¹æ•´ä¸ª  â”ƒ
â”ƒ    çŸ¥è¯†åº“æ— ä¸ä¼¦æ¯”çš„å…¨å±€æ´å¯ŸåŠ›ï¼Œç‰¹åˆ«é€‚åˆæ¢ç´¢æ€§ã€æ€»ç»“æ€§çš„å®è§‚é—®é¢˜ã€‚            â”ƒ
â”ƒ  â€¢ LightRAG                                                                  â”ƒ
â”ƒ    æ˜¯ä¸€ç§è½»é‡çº§ã€æ•ˆç‡ä¸æ•ˆæœå…¼é¡¾çš„æ–¹æ¡ˆã€‚å®ƒé€šè¿‡å·§å¦™çš„åŒå±‚æ£€ç´¢å’Œå¢é‡æ›´æ–°æœºåˆ¶ï¼Œ  â”ƒ
â”ƒ    åœ¨æ˜¾è‘—ä¼˜äºä¼ ç»ŸRAGçš„åŒæ—¶ï¼Œé¿å…äº†GraphRAGçš„å·¨å¤§å¼€é”€ï¼Œæ›´é€‚åˆéœ€è¦å¿«é€Ÿå“åº”å’Œå¤„ â”ƒ
â”ƒ    ç†åŠ¨æ€æ•°æ®çš„å®é™…åº”ç”¨åœºæ™¯ã€‚                                                â”ƒ
â”ƒ                                                                              â”ƒ
â”ƒ ç®€è€Œè¨€ä¹‹ï¼ŒGraphRAG                                                           â”ƒ
â”ƒ åƒæ˜¯ä¸€ä½åšå­¦çš„å­¦è€…ï¼Œèƒ½ä¸ºä½ æä¾›ä¸€ä»½å…³äºæ•´ä¸ªé¢†åŸŸçš„è¯¦å°½ç»¼è¿°æŠ¥å‘Šï¼›è€Œ LightRAG    â”ƒ
â”ƒ åˆ™åƒæ˜¯ä¸€ä½é«˜æ•ˆçš„ä¾¦æ¢ï¼Œèƒ½è¿…é€Ÿä»æµ·é‡ä¿¡æ¯ä¸­ç²¾å‡†å®šä½å¹¶æ•´åˆå‡ºä½ éœ€è¦çš„å…³é”®äº‹å®ã€‚   â”ƒ
â”ƒ                                                                              â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

</code></pre>
<hr/>
<h2 data-id="heading-77">9. é«˜çº§ç‰¹æ€§</h2>
<h3 data-id="heading-78">9.1 å¼‚æ­¥æ“ä½œ</h3>
<p>å¯¹äºé«˜å¹¶å‘åœºæ™¯ï¼ŒAgno æä¾›äº†å®Œæ•´çš„å¼‚æ­¥æ”¯æŒã€‚</p>
<h4 data-id="heading-79">å¼‚æ­¥åŠ è½½çŸ¥è¯†åº“</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge
<span class="hljs-keyword">from</span> agno.vectordb.pgvector <span class="hljs-keyword">import</span> PgVector

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">async_load_knowledge</span>():
    <span class="hljs-string">"""å¼‚æ­¥åŠ è½½çŸ¥è¯†åº“"""</span>
    
    vector_db = PgVector(
        table_name=<span class="hljs-string">"async_kb"</span>,
        db_url=<span class="hljs-string">"postgresql+psycopg://ai:ai@localhost:5532/ai"</span>
    )
    
    knowledge = Knowledge(vector_db=vector_db)
    
    <span class="hljs-comment"># å¼‚æ­¥æ·»åŠ å¤šä¸ªæ–‡æ¡£</span>
    urls = [
        <span class="hljs-string">"https://docs.agno.com/introduction.md"</span>,
        <span class="hljs-string">"https://docs.agno.com/concepts/agents.md"</span>,
        <span class="hljs-string">"https://docs.agno.com/concepts/knowledge.md"</span>
    ]
    
    <span class="hljs-comment"># å¹¶å‘åŠ è½½</span>
    tasks = [
        knowledge.add_content_async(url=url)
        <span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> urls
    ]
    
    results = <span class="hljs-keyword">await</span> asyncio.gather(*tasks)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å¼‚æ­¥åŠ è½½å®Œæˆï¼Œå…± <span class="hljs-subst">{<span class="hljs-built_in">len</span>(results)}</span> ä¸ªæ–‡æ¡£"</span>)
    
    <span class="hljs-keyword">return</span> knowledge

<span class="hljs-comment"># è¿è¡Œå¼‚æ­¥å‡½æ•°</span>
knowledge = asyncio.run(async_load_knowledge())
</code></pre>
<h4 data-id="heading-80">å¼‚æ­¥ Agent æŸ¥è¯¢</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent
<span class="hljs-keyword">from</span> agno.models.openai <span class="hljs-keyword">import</span> OpenAILike

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">async_agent_query</span>():
    <span class="hljs-string">"""å¼‚æ­¥ Agent æŸ¥è¯¢"""</span>
    
    agent = Agent(
        model=OpenAILike(<span class="hljs-built_in">id</span>=<span class="hljs-string">"qwen3-max"</span>,
                 base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
                 api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)),
        knowledge=knowledge,
        search_knowledge=<span class="hljs-literal">True</span>
    )
    
    <span class="hljs-comment"># å¼‚æ­¥æŸ¥è¯¢</span>
    response = <span class="hljs-keyword">await</span> agent.arun(
        <span class="hljs-string">"ä»€ä¹ˆæ˜¯ Agno Agent?"</span>
    )
    
    <span class="hljs-built_in">print</span>(response.content)
    
    <span class="hljs-comment"># å¼‚æ­¥æµå¼è¾“å‡º</span>
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> agent.arun(
        <span class="hljs-string">"è§£é‡Š RAG çš„å·¥ä½œåŸç†"</span>
        , stream=<span class="hljs-literal">True</span>
    ):
        <span class="hljs-built_in">print</span>(chunk.content, end=<span class="hljs-string">""</span>, flush=<span class="hljs-literal">True</span>)

<span class="hljs-comment"># è¿è¡Œ</span>
asyncio.run(async_agent_query())
</code></pre>
<h4 data-id="heading-81">æ‰¹é‡å¼‚æ­¥æŸ¥è¯¢</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">batch_queries</span>(<span class="hljs-params">agent: Agent, queries: <span class="hljs-built_in">list</span></span>):
    <span class="hljs-string">"""æ‰¹é‡å¼‚æ­¥æŸ¥è¯¢"""</span>
    
    tasks = [
        agent.arun(query)
        <span class="hljs-keyword">for</span> query <span class="hljs-keyword">in</span> queries
    ]
    
    responses = <span class="hljs-keyword">await</span> asyncio.gather(*tasks)
    
    <span class="hljs-keyword">return</span> responses

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    agent = Agent(
        knowledge=knowledge,
        search_knowledge=<span class="hljs-literal">True</span>
    )
    
    queries = [
        <span class="hljs-string">"ä»€ä¹ˆæ˜¯å‘é‡æ•°æ®åº“ï¼Ÿ"</span>,
        <span class="hljs-string">"å¦‚ä½•åˆ›å»ºçŸ¥è¯†åº“ï¼Ÿ"</span>,
        <span class="hljs-string">"Agno æ”¯æŒå“ªäº›åµŒå…¥æ¨¡å‹ï¼Ÿ"</span>
    ]
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"å¼€å§‹æ‰¹é‡æŸ¥è¯¢..."</span>)
    responses = <span class="hljs-keyword">await</span> batch_queries(agent, queries)
    
    <span class="hljs-keyword">for</span> i, (query, response) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(<span class="hljs-built_in">zip</span>(queries, responses), <span class="hljs-number">1</span>):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\næŸ¥è¯¢ <span class="hljs-subst">{i}</span>: <span class="hljs-subst">{query}</span>"</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å›ç­”: <span class="hljs-subst">{response.content}</span>\n"</span>)

asyncio.run(main())
</code></pre>
<h3 data-id="heading-82">9.2 çŸ¥è¯†åº“åŠ¨æ€æ›´æ–°</h3>
<p>åœ¨è¿è¡Œæ—¶åŠ¨æ€æ›´æ–°çŸ¥è¯†åº“ï¼Œæ— éœ€é‡å¯åº”ç”¨ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent
<span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge

<span class="hljs-comment"># åˆ›å»ºçŸ¥è¯†åº“å’Œ Agent</span>
knowledge = Knowledge(vector_db=vector_db)
knowledge.add_content(url=<span class="hljs-string">"https://docs.agno.com/v1/intro.md"</span>)

agent = Agent(
    knowledge=knowledge,
    search_knowledge=<span class="hljs-literal">True</span>,
    update_knowledge=<span class="hljs-literal">True</span>,          <span class="hljs-comment"># å¯ç”¨çŸ¥è¯†åº“æ›´æ–°èƒ½åŠ›</span>
)

<span class="hljs-comment"># åˆå§‹æŸ¥è¯¢</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æŸ¥è¯¢ 1ï¼šåŸºäºåˆå§‹çŸ¥è¯†åº“"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
agent.print_response(<span class="hljs-string">"Agno çš„æ ¸å¿ƒç‰¹æ€§æ˜¯ä»€ä¹ˆï¼Ÿ"</span>)

<span class="hljs-comment"># åŠ¨æ€æ·»åŠ æ–°æ–‡æ¡£</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\næ­£åœ¨æ·»åŠ æ–°æ–‡æ¡£åˆ°çŸ¥è¯†åº“..."</span>)
knowledge.add_content(
    url=<span class="hljs-string">"https://docs.agno.com/v2/new-features.md"</span>,
    metadata={<span class="hljs-string">"version"</span>: <span class="hljs-string">"v2"</span>, <span class="hljs-string">"type"</span>: <span class="hljs-string">"features"</span>}
)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–°æ–‡æ¡£æ·»åŠ å®Œæˆï¼\n"</span>)

<span class="hljs-comment"># åŸºäºæ›´æ–°åçš„çŸ¥è¯†åº“æŸ¥è¯¢</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æŸ¥è¯¢ 2ï¼šåŸºäºæ›´æ–°åçš„çŸ¥è¯†åº“"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
agent.print_response(<span class="hljs-string">"Agno v2 æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ"</span>)
</code></pre>
<h4 data-id="heading-83">å¢é‡æ›´æ–°ç­–ç•¥</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.knowledge <span class="hljs-keyword">import</span> Knowledge

<span class="hljs-keyword">def</span> <span class="hljs-title function_">incremental_update</span>(<span class="hljs-params">knowledge: Knowledge, new_docs: <span class="hljs-built_in">list</span></span>):
    <span class="hljs-string">"""å¢é‡æ›´æ–°çŸ¥è¯†åº“"""</span>
    
    <span class="hljs-keyword">for</span> doc <span class="hljs-keyword">in</span> new_docs:
        <span class="hljs-comment"># ä½¿ç”¨ upsert æ¨¡å¼ï¼ˆæ›´æ–°å·²å­˜åœ¨çš„ï¼Œæ’å…¥æ–°çš„ï¼‰</span>
        knowledge.add_content(
            url=doc[<span class="hljs-string">"url"</span>],
            metadata=doc[<span class="hljs-string">"metadata"</span>]
        )
        
        <span class="hljs-comment"># æˆ–è€…æ£€æŸ¥æ˜¯å¦å­˜åœ¨å†å†³å®š</span>
        content_hash = compute_content_hash(doc[<span class="hljs-string">"url"</span>])
        
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> knowledge.vector_db.content_hash_exists(content_hash):
            knowledge.add_content(url=doc[<span class="hljs-string">"url"</span>])
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ–°å¢æ–‡æ¡£: <span class="hljs-subst">{doc[<span class="hljs-string">'url'</span>]}</span>"</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"è·³è¿‡å·²å­˜åœ¨çš„æ–‡æ¡£: <span class="hljs-subst">{doc[<span class="hljs-string">'url'</span>]}</span>"</span>)

<span class="hljs-comment"># ä½¿ç”¨ç¤ºä¾‹</span>
new_documents = [
    {
        <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://docs.agno.com/guides/rag.md"</span>,
        <span class="hljs-string">"metadata"</span>: {<span class="hljs-string">"category"</span>: <span class="hljs-string">"guide"</span>, <span class="hljs-string">"topic"</span>: <span class="hljs-string">"rag"</span>}
    },
    {
        <span class="hljs-string">"url"</span>: <span class="hljs-string">"https://docs.agno.com/guides/agents.md"</span>,
        <span class="hljs-string">"metadata"</span>: {<span class="hljs-string">"category"</span>: <span class="hljs-string">"guide"</span>, <span class="hljs-string">"topic"</span>: <span class="hljs-string">"agents"</span>}
    }
]

incremental_update(knowledge, new_documents)
</code></pre>
<h3 data-id="heading-84">9.3 å…ƒæ•°æ®è¿‡æ»¤</h3>
<p>ä½¿ç”¨å…ƒæ•°æ®å®ç°ç²¾ç¡®çš„æ–‡æ¡£è¿‡æ»¤å’Œæ£€ç´¢ï¼š</p>
<h4 data-id="heading-85">åŠ è½½æ—¶è®¾ç½®å…ƒæ•°æ®</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä¸ºä¸åŒç±»å‹çš„æ–‡æ¡£è®¾ç½®ä¸åŒçš„å…ƒæ•°æ®</span>
knowledge.add_content(
    url=<span class="hljs-string">"https://docs.agno.com/api/agents.md"</span>,
    metadata={
        <span class="hljs-string">"doc_type"</span>: <span class="hljs-string">"api_reference"</span>,
        <span class="hljs-string">"category"</span>: <span class="hljs-string">"agents"</span>,
        <span class="hljs-string">"version"</span>: <span class="hljs-string">"2.0"</span>,
        <span class="hljs-string">"language"</span>: <span class="hljs-string">"en"</span>,
        <span class="hljs-string">"last_updated"</span>: <span class="hljs-string">"2024-01-15"</span>
    }
)

knowledge.add_content(
    url=<span class="hljs-string">"https://docs.agno.com/tutorials/rag-basics.md"</span>,
    metadata={
        <span class="hljs-string">"doc_type"</span>: <span class="hljs-string">"tutorial"</span>,
        <span class="hljs-string">"category"</span>: <span class="hljs-string">"rag"</span>,
        <span class="hljs-string">"difficulty"</span>: <span class="hljs-string">"beginner"</span>,
        <span class="hljs-string">"version"</span>: <span class="hljs-string">"2.0"</span>,
        <span class="hljs-string">"language"</span>: <span class="hljs-string">"en"</span>,
        <span class="hljs-string">"last_updated"</span>: <span class="hljs-string">"2024-01-20"</span>
    }
)
</code></pre>
<h4 data-id="heading-86">åŸºäºå…ƒæ•°æ®æœç´¢</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åªæœç´¢æ•™ç¨‹ç±»æ–‡æ¡£</span>
results = vector_db.search(
    query=<span class="hljs-string">"å¦‚ä½•ä½¿ç”¨ RAG"</span>,
    filters={
        <span class="hljs-string">"doc_type"</span>: <span class="hljs-string">"tutorial"</span>
    },
    limit=<span class="hljs-number">5</span>
)

<span class="hljs-comment"># ç»„åˆå¤šä¸ªè¿‡æ»¤æ¡ä»¶</span>
results = vector_db.search(
    query=<span class="hljs-string">"Agent é…ç½®"</span>,
    filters={
        <span class="hljs-string">"doc_type"</span>: <span class="hljs-string">"api_reference"</span>,
        <span class="hljs-string">"category"</span>: <span class="hljs-string">"agents"</span>,
        <span class="hljs-string">"version"</span>: <span class="hljs-string">"2.0"</span>
    },
    limit=<span class="hljs-number">5</span>
)
</code></pre>
<h4 data-id="heading-87">Agent åŠ¨æ€å…ƒæ•°æ®è¿‡æ»¤</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent

<span class="hljs-comment"># åˆ›å»ºæ”¯æŒåŠ¨æ€è¿‡æ»¤çš„ Agent</span>
agent = Agent(
    knowledge=knowledge,
    
    <span class="hljs-comment"># å¯ç”¨ Agent æ™ºèƒ½é€‰æ‹©è¿‡æ»¤å™¨</span>
    enable_agentic_knowledge_filters=<span class="hljs-literal">True</span>,
    
    search_knowledge=<span class="hljs-literal">True</span>,
    instructions=[
        <span class="hljs-string">"æ ¹æ®ç”¨æˆ·æŸ¥è¯¢çš„æ€§è´¨ï¼Œæ™ºèƒ½é€‰æ‹©åˆé€‚çš„çŸ¥è¯†è¿‡æ»¤å™¨ã€‚"</span>,
        <span class="hljs-string">"å¦‚æœç”¨æˆ·é—® API ç”¨æ³•ï¼Œä¼˜å…ˆæœç´¢ doc_type='api_reference' çš„æ–‡æ¡£ã€‚"</span>,
        <span class="hljs-string">"å¦‚æœç”¨æˆ·é—®æ•™ç¨‹æˆ–ç¤ºä¾‹ï¼Œä¼˜å…ˆæœç´¢ doc_type='tutorial' çš„æ–‡æ¡£ã€‚"</span>
    ]
)

<span class="hljs-comment"># Agent ä¼šè‡ªåŠ¨æ ¹æ®æŸ¥è¯¢é€‰æ‹©åˆé€‚çš„è¿‡æ»¤å™¨</span>
agent.print_response(<span class="hljs-string">"Agent ç±»æœ‰å“ªäº›å‚æ•°ï¼Ÿ"</span>)  <span class="hljs-comment"># è‡ªåŠ¨é€‰æ‹© API æ–‡æ¡£</span>
agent.print_response(<span class="hljs-string">"ç»™æˆ‘ä¸€ä¸ª RAG çš„å®Œæ•´ç¤ºä¾‹"</span>)  <span class="hljs-comment"># è‡ªåŠ¨é€‰æ‹©æ•™ç¨‹æ–‡æ¡£</span>
</code></pre>
<h3 data-id="heading-88">9.4 é€æ˜æ¨ç†</h3>
<p>å¯ç”¨é€æ˜æ¨ç†ï¼Œå¯è§†åŒ– Agent çš„æ€è€ƒè¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> os

<span class="hljs-keyword">from</span> agno.agent <span class="hljs-keyword">import</span> Agent
<span class="hljs-keyword">from</span> agno.models.openai <span class="hljs-keyword">import</span> OpenAILike
<span class="hljs-keyword">from</span> agno.tools.reasoning <span class="hljs-keyword">import</span> ReasoningTools

<span class="hljs-comment"># åˆ›å»ºå¸¦é€æ˜æ¨ç†çš„ Agent</span>
agent = Agent(
    name=<span class="hljs-string">"Transparent Reasoner"</span>,
    model=OpenAILike(<span class="hljs-built_in">id</span>=<span class="hljs-string">"qwen3-max"</span>,
                     base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
                     api_key=os.getenv(<span class="hljs-string">"QWEN_API_KEY"</span>)),
    knowledge=knowledge,

    <span class="hljs-comment"># æ·»åŠ æ¨ç†å·¥å…·</span>
    tools=[ReasoningTools()],

    <span class="hljs-comment"># æ˜¾ç¤ºå®Œæ•´æ¨ç†è¿‡ç¨‹</span>
    reasoning=<span class="hljs-literal">True</span>,

    <span class="hljs-comment"># æµå¼è¾“å‡ºä¸­é—´æ­¥éª¤</span>
    stream_intermediate_steps=<span class="hljs-literal">True</span>,

    <span class="hljs-comment"># æ˜¾ç¤ºå·¥å…·è°ƒç”¨</span>
    read_tool_call_history=<span class="hljs-literal">True</span>,

    search_knowledge=<span class="hljs-literal">True</span>,

    instructions=[
        <span class="hljs-string">"ä¸€æ­¥ä¸€æ­¥æ€è€ƒé—®é¢˜ã€‚"</span>,
        <span class="hljs-string">"å±•ç¤ºä½ çš„æ¨ç†è¿‡ç¨‹ã€‚"</span>,
        <span class="hljs-string">"è¯´æ˜ä¸ºä»€ä¹ˆé€‰æ‹©æœç´¢çŸ¥è¯†åº“ã€‚"</span>,
        <span class="hljs-string">"è§£é‡Šå¦‚ä½•å¾—å‡ºæœ€ç»ˆç­”æ¡ˆã€‚"</span>
    ],

    markdown=<span class="hljs-literal">True</span>
)

<span class="hljs-comment"># æŸ¥è¯¢</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">70</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"é€æ˜æ¨ç†ç¤ºä¾‹"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">70</span>)

agent.print_response(
    <span class="hljs-string">"æ¯”è¾ƒ PgVector å’Œ ChromaDB çš„ä¼˜ç¼ºç‚¹ï¼Œå¹¶æ¨èé€‚åˆç”Ÿäº§ç¯å¢ƒçš„é€‰æ‹©"</span>
)

</code></pre>
<p><strong>é€æ˜æ¨ç†è¾“å‡ºç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-markdown" lang="markdown">====================================================================
<span class="hljs-section">é€æ˜æ¨ç†ç¤ºä¾‹
====================================================================</span>

[Reasoning Step 1] åˆ†æé—®é¢˜
é—®é¢˜è¦æ±‚æˆ‘æ¯”è¾ƒä¸¤ä¸ªå‘é‡æ•°æ®åº“å¹¶ç»™å‡ºç”Ÿäº§ç¯å¢ƒæ¨èã€‚
æˆ‘éœ€è¦ï¼š
<span class="hljs-bullet">1.</span> æœç´¢çŸ¥è¯†åº“äº†è§£ PgVector å’Œ ChromaDB
<span class="hljs-bullet">2.</span> æ¯”è¾ƒå®ƒä»¬çš„ç‰¹æ€§
<span class="hljs-bullet">3.</span> åŸºäºç”Ÿäº§ç¯å¢ƒéœ€æ±‚ç»™å‡ºæ¨è

[Tool Call] search<span class="hljs-emphasis">_knowledge(query="PgVector features production")
[Tool Call] search_</span>knowledge(query="ChromaDB features production")

[Reasoning Step 2] åˆ†ææ£€ç´¢ç»“æœ
ä»çŸ¥è¯†åº“æ£€ç´¢åˆ°ï¼š
<span class="hljs-bullet">-</span> PgVectorï¼šPostgreSQL æ‰©å±•ï¼ŒSQL æ”¯æŒï¼Œæˆç†Ÿç¨³å®š
<span class="hljs-bullet">-</span> ChromaDBï¼šè½»é‡çº§ï¼Œæ˜“ç”¨ï¼Œæœ¬åœ°/äº‘ç«¯ä¸¤ç”¨

[Reasoning Step 3] æ¯”è¾ƒåˆ†æ
PgVector ä¼˜åŠ¿ï¼š
<span class="hljs-bullet">-</span> å®Œæ•´çš„ SQL åŠŸèƒ½
<span class="hljs-bullet">-</span> PostgreSQL ç”Ÿæ€æˆç†Ÿ
<span class="hljs-bullet">-</span> é«˜å¯é æ€§å’Œå¯æ‰©å±•æ€§

ChromaDB ä¼˜åŠ¿ï¼š
<span class="hljs-bullet">-</span> è®¾ç½®ç®€å•
<span class="hljs-bullet">-</span> å¼€å‘å‹å¥½
<span class="hljs-bullet">-</span> æ”¯æŒæœ¬åœ°å’Œäº‘ç«¯

[Reasoning Step 4] ç”Ÿäº§ç¯å¢ƒæ¨è
åŸºäºä»¥ä¸‹å› ç´ ï¼š
<span class="hljs-bullet">-</span> å¯é æ€§éœ€æ±‚ â†’ PgVector æ›´æˆç†Ÿ
<span class="hljs-bullet">-</span> æ‰©å±•æ€§éœ€æ±‚ â†’ PgVector æ›´å¥½
<span class="hljs-bullet">-</span> è¿ç»´æˆæœ¬ â†’ PgVector å¯å¤ç”¨ç°æœ‰ PostgreSQL åŸºç¡€è®¾æ–½

[Final Answer]
<span class="hljs-section"># PgVector vs ChromaDB å¯¹æ¯”åŠç”Ÿäº§ç¯å¢ƒæ¨è</span>

<span class="hljs-section">## å¯¹æ¯”åˆ†æ</span>
...ï¼ˆè¯¦ç»†å¯¹æ¯”ï¼‰

<span class="hljs-section">## ç”Ÿäº§ç¯å¢ƒæ¨è</span>
æ¨èä½¿ç”¨ <span class="hljs-strong">**PgVector**</span>ï¼ŒåŸå› å¦‚ä¸‹ï¼š
<span class="hljs-bullet">1.</span> æˆç†Ÿç¨³å®šçš„ PostgreSQL ç”Ÿæ€
<span class="hljs-bullet">2.</span> å®Œæ•´çš„ SQL æ”¯æŒå’Œäº‹åŠ¡ä¿è¯
<span class="hljs-bullet">3.</span> æ˜“äºé›†æˆåˆ°ç°æœ‰åŸºç¡€è®¾æ–½
<span class="hljs-bullet">4.</span> è‰¯å¥½çš„å¯æ‰©å±•æ€§
...
</code></pre>
<hr/>
<h2 data-id="heading-89">10. æœ€ä½³å®è·µä¸æ€§èƒ½ä¼˜åŒ–</h2>
<h3 data-id="heading-90">10.1 çŸ¥è¯†åº“è®¾è®¡æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-91">1. åˆç†çš„æ–‡æ¡£åˆ†å—</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> agno.knowledge.reader.pdf_reader <span class="hljs-keyword">import</span> PDFReader
<span class="hljs-keyword">from</span> agno.chunking <span class="hljs-keyword">import</span> ChunkingStrategy

<span class="hljs-comment"># âŒ ä¸æ¨èï¼šå—å¤ªå°ï¼Œä¸Šä¸‹æ–‡ä¸å®Œæ•´</span>
pdf_reader_too_small = PDFReader(
    chunk=<span class="hljs-literal">True</span>,
    chunk_size=<span class="hljs-number">100</span>                     <span class="hljs-comment"># å¤ªå°</span>
)

<span class="hljs-comment"># âŒ ä¸æ¨èï¼šå—å¤ªå¤§ï¼Œæ£€ç´¢ä¸ç²¾ç¡®</span>
pdf_reader_too_large = PDFReader(
    chunk=<span class="hljs-literal">True</span>,
    chunk_size=<span class="hljs-number">5000</span>                    <span class="hljs-comment"># å¤ªå¤§</span>
)

<span class="hljs-comment"># âœ… æ¨èï¼šæ ¹æ®å†…å®¹ç±»å‹é€‰æ‹©åˆé€‚å¤§å°</span>
pdf_reader_balanced = PDFReader(
    chunk=<span class="hljs-literal">True</span>,
    chunk_size=<span class="hljs-number">1000</span>,                   <span class="hljs-comment"># å¹³è¡¡çš„å¤§å°</span>
    chunking_strategy=ChunkingStrategy.SEMANTIC  <span class="hljs-comment"># è¯­ä¹‰åˆ†å—</span>
)
</code></pre>
<p><strong>åˆ†å—å¤§å°å»ºè®®ï¼š</strong></p>



































<table><thead><tr><th>å†…å®¹ç±»å‹</th><th>æ¨èå—å¤§å°</th><th>åŸå› </th></tr></thead><tbody><tr><td><strong>æŠ€æœ¯æ–‡æ¡£</strong></td><td>800-1200 å­—ç¬¦</td><td>ä¿æŒæ¦‚å¿µå®Œæ•´æ€§</td></tr><tr><td><strong>å¯¹è¯/é—®ç­”</strong></td><td>400-600 å­—ç¬¦</td><td>å¿«é€Ÿç²¾ç¡®æ£€ç´¢</td></tr><tr><td><strong>é•¿ç¯‡æ–‡ç« </strong></td><td>1000-1500 å­—ç¬¦</td><td>å¹³è¡¡ä¸Šä¸‹æ–‡å’Œç²¾åº¦</td></tr><tr><td><strong>ä»£ç æ–‡æ¡£</strong></td><td>500-800 å­—ç¬¦</td><td>ä¿æŒä»£ç å—å®Œæ•´</td></tr><tr><td><strong>æ³•å¾‹æ–‡æœ¬</strong></td><td>1200-1800 å­—ç¬¦</td><td>ä¿æŒæ¡æ¬¾å®Œæ•´</td></tr></tbody></table>
<h4 data-id="heading-92">2. æœ‰æ•ˆçš„å…ƒæ•°æ®è®¾è®¡</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âœ… å¥½çš„å…ƒæ•°æ®è®¾è®¡</span>
knowledge.add_content(
    url=<span class="hljs-string">"https://docs.agno.com/guide/rag.md"</span>,
    metadata={
        <span class="hljs-comment"># æ–‡æ¡£åˆ†ç±»</span>
        <span class="hljs-string">"doc_type"</span>: <span class="hljs-string">"guide"</span>,
        <span class="hljs-string">"category"</span>: <span class="hljs-string">"rag"</span>,
        <span class="hljs-string">"subcategory"</span>: <span class="hljs-string">"basics"</span>,
        
        <span class="hljs-comment"># ç‰ˆæœ¬å’Œæ›´æ–°</span>
        <span class="hljs-string">"version"</span>: <span class="hljs-string">"2.0"</span>,
        <span class="hljs-string">"last_updated"</span>: <span class="hljs-string">"2024-01-15"</span>,
        
        <span class="hljs-comment"># å—ä¼—å’Œéš¾åº¦</span>
        <span class="hljs-string">"audience"</span>: <span class="hljs-string">"developer"</span>,
        <span class="hljs-string">"difficulty"</span>: <span class="hljs-string">"intermediate"</span>,
        
        <span class="hljs-comment"># è¯­è¨€å’Œåœ°åŒº</span>
        <span class="hljs-string">"language"</span>: <span class="hljs-string">"en"</span>,
        <span class="hljs-string">"region"</span>: <span class="hljs-string">"global"</span>,
        
        <span class="hljs-comment"># ä¸šåŠ¡æ ‡ç­¾</span>
        <span class="hljs-string">"product"</span>: <span class="hljs-string">"agno"</span>,
        <span class="hljs-string">"feature"</span>: <span class="hljs-string">"rag"</span>
    }
)
</code></pre>
<h4 data-id="heading-93">3. çŸ¥è¯†åº“ç»„ç»‡ç­–ç•¥</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âœ… æ¨èï¼šæŒ‰ä¸»é¢˜åˆ†ç¦»çŸ¥è¯†åº“</span>
api_docs_kb = Knowledge(
    name=<span class="hljs-string">"API Documentation"</span>,
    vector_db=PgVector(table_name=<span class="hljs-string">"api_docs"</span>, ...)
)

tutorials_kb = Knowledge(
    name=<span class="hljs-string">"Tutorials"</span>,
    vector_db=PgVector(table_name=<span class="hljs-string">"tutorials"</span>, ...)
)

<span class="hljs-comment"># ä¸ºä¸åŒç”¨é€”åˆ›å»ºä¸åŒçš„ Agent</span>
api_agent = Agent(
    knowledge=api_docs_kb,
    instructions=<span class="hljs-string">"å›ç­” API ä½¿ç”¨é—®é¢˜"</span>
)

tutorial_agent = Agent(
    knowledge=tutorials_kb,
    instructions=<span class="hljs-string">"æä¾›æ•™ç¨‹å’Œç¤ºä¾‹"</span>
)
</code></pre>
<h3 data-id="heading-94">10.2 æ£€ç´¢ä¼˜åŒ–</h3>
<h4 data-id="heading-95">1. ä½¿ç”¨æ··åˆæœç´¢</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âœ… æ¨èï¼šä½¿ç”¨æ··åˆæœç´¢æé«˜å‡†ç¡®æ€§</span>
<span class="hljs-keyword">from</span> agno.vectordb.search <span class="hljs-keyword">import</span> SearchType

vector_db = LanceDb(
    uri=<span class="hljs-string">"tmp/lancedb"</span>,
    table_name=<span class="hljs-string">"optimized_search"</span>,
    search_type=SearchType.hybrid,     <span class="hljs-comment"># æ··åˆæœç´¢</span>
    embedder=embedder
)
</code></pre>
<h4 data-id="heading-96">2. é…ç½®é‡æ’åº</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âœ… æ¨èï¼šæ·»åŠ é‡æ’åºè¿›ä¸€æ­¥ä¼˜åŒ–</span>
<span class="hljs-keyword">from</span> agno.reranker.cohere <span class="hljs-keyword">import</span> CohereReranker

vector_db = LanceDb(
    uri=<span class="hljs-string">"tmp/lancedb"</span>,
    table_name=<span class="hljs-string">"reranked_search"</span>,
    search_type=SearchType.hybrid,
    reranker=CohereReranker(
        model=<span class="hljs-string">"rerank-v3.5"</span>,
        top_n=<span class="hljs-number">5</span>                        <span class="hljs-comment"># é‡æ’åè¿”å›å‰5ä¸ª</span>
    )
)
</code></pre>
<h4 data-id="heading-97">3. ä¼˜åŒ–æ£€ç´¢æ•°é‡</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âŒ ä¸æ¨èï¼šæ£€ç´¢å¤ªå¤šæ–‡æ¡£</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">poor_retrieval</span>(<span class="hljs-params">query</span>):
    results = vector_db.search(
        query=query,
        limit=<span class="hljs-number">50</span>                       <span class="hljs-comment"># å¤ªå¤šï¼Œå¢åŠ å™ªéŸ³å’Œå»¶è¿Ÿ</span>
    )
    <span class="hljs-keyword">return</span> results

<span class="hljs-comment"># âœ… æ¨èï¼šæ ¹æ®éœ€æ±‚è°ƒæ•´</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">optimized_retrieval</span>(<span class="hljs-params">query, context_window_size</span>):
    <span class="hljs-comment"># æ ¹æ®æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£åŠ¨æ€è°ƒæ•´</span>
    <span class="hljs-keyword">if</span> context_window_size &lt; <span class="hljs-number">4000</span>:
        limit = <span class="hljs-number">3</span>
    <span class="hljs-keyword">elif</span> context_window_size &lt; <span class="hljs-number">8000</span>:
        limit = <span class="hljs-number">5</span>
    <span class="hljs-keyword">else</span>:
        limit = <span class="hljs-number">10</span>
    
    results = vector_db.search(
        query=query,
        limit=limit
    )
    <span class="hljs-keyword">return</span> results
</code></pre>
<h4 data-id="heading-98">4. å®ç°ç¼“å­˜æœºåˆ¶</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> lru_cache

<span class="hljs-comment"># âœ… æ¨èï¼šç¼“å­˜é¢‘ç¹æŸ¥è¯¢</span>
<span class="hljs-meta">@lru_cache(<span class="hljs-params">maxsize=<span class="hljs-number">128</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">cached_search</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span>, limit: <span class="hljs-built_in">int</span> = <span class="hljs-number">5</span></span>):
    <span class="hljs-string">"""ç¼“å­˜æœç´¢ç»“æœ"""</span>
    <span class="hljs-keyword">return</span> vector_db.search(query=query, limit=limit)

<span class="hljs-comment"># ä½¿ç”¨</span>
results = cached_search(<span class="hljs-string">"å¸¸è§é—®é¢˜æŸ¥è¯¢"</span>)
</code></pre>
<h3 data-id="heading-99">10.3 æ€§èƒ½è°ƒä¼˜</h3>
<h4 data-id="heading-100">1. ä½¿ç”¨å¼‚æ­¥æ“ä½œ</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio

<span class="hljs-comment"># âœ… æ¨èï¼šé«˜å¹¶å‘åœºæ™¯ä½¿ç”¨å¼‚æ­¥</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">async_batch_load</span>(<span class="hljs-params">urls: <span class="hljs-built_in">list</span></span>):
    <span class="hljs-string">"""å¼‚æ­¥æ‰¹é‡åŠ è½½"""</span>
    tasks = [
        knowledge.add_content_async(url=url)
        <span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> urls
    ]
    <span class="hljs-keyword">await</span> asyncio.gather(*tasks)

<span class="hljs-comment"># ä½¿ç”¨</span>
asyncio.run(async_batch_load(document_urls))
</code></pre>
<h4 data-id="heading-101">2. æ‰¹é‡å¤„ç†</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âŒ ä¸æ¨èï¼šé€ä¸ªåŠ è½½</span>
<span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> urls:
    knowledge.add_content(url=url)     <span class="hljs-comment"># æ…¢</span>

<span class="hljs-comment"># âœ… æ¨èï¼šæ‰¹é‡åŠ è½½</span>
knowledge.add_content_batch(urls=urls)  <span class="hljs-comment"># å¿«</span>
</code></pre>
<h4 data-id="heading-102">3. ä¼˜åŒ–å‘é‡æ•°æ®åº“é…ç½®</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âœ… PgVector ç´¢å¼•ä¼˜åŒ–</span>
vector_db = PgVector(
    table_name=<span class="hljs-string">"optimized_kb"</span>,
    db_url=<span class="hljs-string">"postgresql+psycopg://ai:ai@localhost:5532/ai"</span>,
    
    <span class="hljs-comment"># ä½¿ç”¨ HNSW ç´¢å¼•ï¼ˆæ¯” IVFFlat æ›´å¿«ï¼‰</span>
    vector_index=<span class="hljs-string">"hnsw"</span>,
    
    <span class="hljs-comment"># è°ƒæ•´ç´¢å¼•å‚æ•°</span>
    hnsw_ef_construction=<span class="hljs-number">200</span>,          <span class="hljs-comment"># æ„å»ºæ—¶çš„æœç´¢èŒƒå›´</span>
    hnsw_m=<span class="hljs-number">16</span>                          <span class="hljs-comment"># æ¯ä¸ªèŠ‚ç‚¹çš„è¿æ¥æ•°</span>
)
</code></pre>
<h4 data-id="heading-103">4. è¿æ¥æ± é…ç½®</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> sqlalchemy.pool <span class="hljs-keyword">import</span> QueuePool

<span class="hljs-comment"># âœ… æ¨èï¼šé…ç½®æ•°æ®åº“è¿æ¥æ± </span>
db_url = <span class="hljs-string">"postgresql+psycopg://ai:ai@localhost:5532/ai"</span>

vector_db = PgVector(
    table_name=<span class="hljs-string">"pooled_kb"</span>,
    db_url=db_url,
    
    <span class="hljs-comment"># è¿æ¥æ± é…ç½®</span>
    pool_size=<span class="hljs-number">10</span>,                      <span class="hljs-comment"># è¿æ¥æ± å¤§å°</span>
    max_overflow=<span class="hljs-number">20</span>,                   <span class="hljs-comment"># æœ€å¤§æº¢å‡ºè¿æ¥</span>
    pool_timeout=<span class="hljs-number">30</span>                    <span class="hljs-comment"># è¿æ¥è¶…æ—¶</span>
)
</code></pre>
<h4 data-id="heading-104">5. ç›‘æ§å’Œæ—¥å¿—</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> logging

<span class="hljs-comment"># âœ… æ¨èï¼šå¯ç”¨è¯¦ç»†æ—¥å¿—</span>
logging.basicConfig(level=logging.INFO)

agent = Agent(
    knowledge=knowledge,
    
    <span class="hljs-comment"># å¯ç”¨è°ƒè¯•æ¨¡å¼</span>
    debug_mode=<span class="hljs-literal">True</span>,
    
    <span class="hljs-comment"># æ˜¾ç¤ºå·¥å…·è°ƒç”¨</span>
    show_tool_calls=<span class="hljs-literal">True</span>,
    
    <span class="hljs-comment"># ç›‘æ§æ€§èƒ½</span>
    log_performance=<span class="hljs-literal">True</span>
)
</code></pre>
<h3 data-id="heading-105">10.4 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-106">é—®é¢˜1ï¼šæ£€ç´¢ç»“æœä¸ç›¸å…³</h4>
<p><strong>åŸå› åˆ†æï¼š</strong></p>
<ul>
<li>åµŒå…¥æ¨¡å‹ä¸åˆé€‚</li>
<li>åˆ†å—ç­–ç•¥ä¸å½“</li>
<li>ç¼ºå°‘æ··åˆæœç´¢</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âœ… è§£å†³æ–¹æ¡ˆ</span>
<span class="hljs-comment"># 1. ä½¿ç”¨æ›´å¥½çš„åµŒå…¥æ¨¡å‹</span>
<span class="hljs-keyword">from</span> agno.embedder.cohere <span class="hljs-keyword">import</span> CohereEmbedder

embedder = CohereEmbedder(
    model=<span class="hljs-string">"embed-v4.0"</span>,                <span class="hljs-comment"># é«˜è´¨é‡åµŒå…¥</span>
    dimensions=<span class="hljs-number">1024</span>
)

<span class="hljs-comment"># 2. ä¼˜åŒ–åˆ†å—ç­–ç•¥</span>
reader = PDFReader(
    chunk=<span class="hljs-literal">True</span>,
    chunking_strategy=ChunkingStrategy.SEMANTIC,  <span class="hljs-comment"># è¯­ä¹‰åˆ†å—</span>
    chunk_size=<span class="hljs-number">1000</span>
)

<span class="hljs-comment"># 3. å¯ç”¨æ··åˆæœç´¢</span>
vector_db = LanceDb(
    search_type=SearchType.hybrid,     <span class="hljs-comment"># æ··åˆæœç´¢</span>
    embedder=embedder
)

<span class="hljs-comment"># 4. æ·»åŠ é‡æ’åº</span>
<span class="hljs-keyword">from</span> agno.reranker.cohere <span class="hljs-keyword">import</span> CohereReranker

vector_db = LanceDb(
    search_type=SearchType.hybrid,
    embedder=embedder,
    reranker=CohereReranker(model=<span class="hljs-string">"rerank-v3.5"</span>)
)
</code></pre>
<h4 data-id="heading-107">é—®é¢˜2ï¼šAgent ä¸æœç´¢çŸ¥è¯†åº“</h4>
<p><strong>åŸå› åˆ†æï¼š</strong></p>
<ul>
<li><code>search_knowledge</code> æœªå¯ç”¨</li>
<li>æŒ‡ä»¤ä¸å¤Ÿæ˜ç¡®</li>
<li>çŸ¥è¯†åº“ä¸ºç©º</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âœ… è§£å†³æ–¹æ¡ˆ</span>
<span class="hljs-comment"># 1. ç¡®ä¿å¯ç”¨æœç´¢</span>
agent = Agent(
    knowledge=knowledge,
    search_knowledge=<span class="hljs-literal">True</span>,             <span class="hljs-comment"># å¿…é¡»å¯ç”¨</span>
)

<span class="hljs-comment"># 2. æ˜ç¡®çš„æŒ‡ä»¤</span>
agent = Agent(
    knowledge=knowledge,
    search_knowledge=<span class="hljs-literal">True</span>,
    instructions=[
        <span class="hljs-string">"åœ¨å›ç­”ä»»ä½•é—®é¢˜å‰ï¼Œæ€»æ˜¯å…ˆæœç´¢ä½ çš„çŸ¥è¯†åº“ã€‚"</span>,
        <span class="hljs-string">"å³ä½¿ä½ è®¤ä¸ºçŸ¥é“ç­”æ¡ˆï¼Œä¹Ÿè¦éªŒè¯çŸ¥è¯†åº“ä¸­çš„ä¿¡æ¯ã€‚"</span>,
        <span class="hljs-string">"å¦‚æœçŸ¥è¯†åº“ä¸­æ²¡æœ‰ç›¸å…³ä¿¡æ¯ï¼Œæ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·ã€‚"</span>
    ]
)

<span class="hljs-comment"># 3. éªŒè¯çŸ¥è¯†åº“å†…å®¹</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"çŸ¥è¯†åº“æ–‡æ¡£æ•°: <span class="hljs-subst">{vector_db.count()}</span>"</span>)
</code></pre>
<h4 data-id="heading-108">é—®é¢˜3ï¼šæ€§èƒ½æ…¢</h4>
<p><strong>åŸå› åˆ†æï¼š</strong></p>
<ul>
<li>åŒæ­¥æ“ä½œ</li>
<li>æ£€ç´¢æ–‡æ¡£è¿‡å¤š</li>
<li>å‘é‡æ•°æ®åº“é…ç½®ä¸å½“</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âœ… è§£å†³æ–¹æ¡ˆ</span>
<span class="hljs-keyword">import</span> asyncio

<span class="hljs-comment"># 1. ä½¿ç”¨å¼‚æ­¥</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">async_query</span>(<span class="hljs-params">agent, query</span>):
    response = <span class="hljs-keyword">await</span> agent.arun(query)
    <span class="hljs-keyword">return</span> response

<span class="hljs-comment"># 2. é™åˆ¶æ£€ç´¢æ•°é‡</span>
agent = Agent(
    knowledge=knowledge,
    search_knowledge=<span class="hljs-literal">True</span>,
    
    <span class="hljs-comment"># é™åˆ¶æ¯æ¬¡æ£€ç´¢çš„æ–‡æ¡£æ•°</span>
    knowledge_limit=<span class="hljs-number">5</span>                  <span class="hljs-comment"># é»˜è®¤å€¼</span>
)

<span class="hljs-comment"># 3. ä¼˜åŒ–å‘é‡æ•°æ®åº“</span>
vector_db = PgVector(
    table_name=<span class="hljs-string">"fast_kb"</span>,
    db_url=db_url,
    vector_index=<span class="hljs-string">"hnsw"</span>,               <span class="hljs-comment"># ä½¿ç”¨ HNSW ç´¢å¼•</span>
    pool_size=<span class="hljs-number">10</span>                       <span class="hljs-comment"># è¿æ¥æ± </span>
)

<span class="hljs-comment"># 4. ä½¿ç”¨ç¼“å­˜</span>
<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> lru_cache

<span class="hljs-meta">@lru_cache(<span class="hljs-params">maxsize=<span class="hljs-number">128</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">cached_agent_query</span>(<span class="hljs-params">query: <span class="hljs-built_in">str</span></span>):
    <span class="hljs-keyword">return</span> agent.run(query)
</code></pre>
<h4 data-id="heading-109">é—®é¢˜4ï¼šå†…å­˜å ç”¨é«˜</h4>
<p><strong>åŸå› åˆ†æï¼š</strong></p>
<ul>
<li>åŠ è½½å¤§é‡æ–‡æ¡£åˆ°å†…å­˜</li>
<li>ç¼ºå°‘æ¸…ç†æœºåˆ¶</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âœ… è§£å†³æ–¹æ¡ˆ</span>
<span class="hljs-comment"># 1. æµå¼å¤„ç†å¤§æ–‡ä»¶</span>
reader = PDFReader(
    chunk=<span class="hljs-literal">True</span>,
    chunk_size=<span class="hljs-number">800</span>,                    <span class="hljs-comment"># è¾ƒå°çš„å—</span>
    stream=<span class="hljs-literal">True</span>                        <span class="hljs-comment"># æµå¼å¤„ç†</span>
)

<span class="hljs-comment"># 2. å®šæœŸæ¸…ç†</span>
<span class="hljs-keyword">import</span> gc

<span class="hljs-keyword">def</span> <span class="hljs-title function_">process_large_dataset</span>(<span class="hljs-params">urls</span>):
    <span class="hljs-keyword">for</span> url <span class="hljs-keyword">in</span> urls:
        knowledge.add_content(url=url)
        
        <span class="hljs-comment"># å®šæœŸæ¸…ç†å†…å­˜</span>
        gc.collect()

<span class="hljs-comment"># 3. ä½¿ç”¨å‘é‡æ•°æ®åº“æŒä¹…åŒ–</span>
vector_db = PgVector(
    table_name=<span class="hljs-string">"persistent_kb"</span>,
    db_url=db_url                      <span class="hljs-comment"># å­˜å‚¨åˆ°æ•°æ®åº“ï¼Œä¸åœ¨å†…å­˜</span>
)
</code></pre>
<h4 data-id="heading-110">é—®é¢˜5ï¼šçŸ¥è¯†åº“æ›´æ–°ä¸ç”Ÿæ•ˆ</h4>
<p><strong>åŸå› åˆ†æï¼š</strong></p>
<ul>
<li>ç¼“å­˜æœªæ¸…é™¤</li>
<li>ä½¿ç”¨äº†é”™è¯¯çš„æ›´æ–°æ–¹æ³•</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># âœ… è§£å†³æ–¹æ¡ˆ</span>
<span class="hljs-comment"># 1. ä½¿ç”¨ upsert æ¨¡å¼</span>
knowledge.add_content(
    url=<span class="hljs-string">"https://docs.agno.com/updated.md"</span>,
    upsert=<span class="hljs-literal">True</span>                        <span class="hljs-comment"># æ›´æ–°å·²å­˜åœ¨çš„æ–‡æ¡£</span>
)

<span class="hljs-comment"># 2. é‡å»ºçŸ¥è¯†åº“</span>
knowledge.load(
    recreate=<span class="hljs-literal">True</span>                      <span class="hljs-comment"># å®Œå…¨é‡å»º</span>
)

<span class="hljs-comment"># 3. æ¸…é™¤ç¼“å­˜ï¼ˆå¦‚æœä½¿ç”¨äº†ç¼“å­˜ï¼‰</span>
cached_search.cache_clear()

<span class="hljs-comment"># 4. éªŒè¯æ›´æ–°</span>
results = vector_db.search(<span class="hljs-string">"æµ‹è¯•æŸ¥è¯¢"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ›´æ–°åçš„ç»“æœ: <span class="hljs-subst">{results}</span>"</span>)
</code></pre>
<hr/>
<h2 data-id="heading-111">11. æ€»ç»“</h2>
<h3 data-id="heading-112">11.1 æ ¸å¿ƒè¦ç‚¹å›é¡¾</h3>
<p>é€šè¿‡æœ¬æ•™ç¨‹ï¼Œæˆ‘ä»¬å…¨é¢å­¦ä¹ äº† Agno ä¸­çš„ RAG ç³»ç»Ÿï¼Œæ ¸å¿ƒè¦ç‚¹åŒ…æ‹¬ï¼š</p>
<p><strong>1. RAG æ¦‚å¿µ</strong></p>
<ul>
<li>RAG ç»“åˆæ£€ç´¢å’Œç”Ÿæˆï¼Œå¢å¼º LLM èƒ½åŠ›</li>
<li>Agentic RAG èµ‹äºˆ Agent æ™ºèƒ½å†³ç­–èƒ½åŠ›</li>
<li>è§£å†³äº† LLM çš„çŸ¥è¯†è¿‡æ—¶ã€å¹»è§‰ç­‰é—®é¢˜</li>
</ul>
<p><strong>2. Agno RAG æ¶æ„</strong></p>
<ul>
<li>æ ¸å¿ƒç»„ä»¶ï¼šKnowledgeã€Vector DBã€Embedderã€Readerã€Retriever</li>
<li>çŸ¥è¯†æµè½¬ï¼šåŠ è½½ â†’ åˆ†å— â†’ åµŒå…¥ â†’ å­˜å‚¨ â†’ æ£€ç´¢ â†’ ç”Ÿæˆ</li>
<li>ç‰¹è‰²åŠŸèƒ½ï¼šæ··åˆæœç´¢ã€é‡æ’åºã€è‡ªå®šä¹‰æ£€ç´¢å™¨</li>
</ul>
<p><strong>3. å®è·µæŠ€èƒ½</strong></p>
<ul>
<li>åˆ›å»ºå’Œç®¡ç†çŸ¥è¯†åº“</li>
<li>é…ç½®å‘é‡æ•°æ®åº“ï¼ˆ20+ ç§é€‰æ‹©ï¼‰</li>
<li>ä½¿ç”¨æ–‡æ¡£åŠ è½½å™¨å¤„ç†å¤šç§æ ¼å¼</li>
<li>å®ç°è‡ªå®šä¹‰æ£€ç´¢é€»è¾‘</li>
<li>æ„å»ºå¤š Agent RAG ç³»ç»Ÿ</li>
</ul>
<p><strong>4. æœ€ä½³å®è·µ</strong></p>
<ul>
<li>åˆç†çš„æ–‡æ¡£åˆ†å—ç­–ç•¥</li>
<li>æœ‰æ•ˆçš„å…ƒæ•°æ®è®¾è®¡</li>
<li>æ€§èƒ½ä¼˜åŒ–æŠ€å·§</li>
<li>å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</li>
</ul>
<h3 data-id="heading-113">11.2 Agno RAG çš„ä¼˜åŠ¿</h3>

































<table><thead><tr><th>ä¼˜åŠ¿</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>æ™ºèƒ½åŒ–</strong></td><td>Agentic RAG è®© Agent è‡ªä¸»å†³ç­–</td></tr><tr><td><strong>çµæ´»æ€§</strong></td><td>æ”¯æŒ 20+ å‘é‡æ•°æ®åº“ï¼Œå¤šç§åµŒå…¥å™¨</td></tr><tr><td><strong>é«˜æ€§èƒ½</strong></td><td>æ··åˆæœç´¢ã€é‡æ’åºã€å¼‚æ­¥æ“ä½œ</td></tr><tr><td><strong>å¯æ‰©å±•</strong></td><td>è‡ªå®šä¹‰æ£€ç´¢å™¨ã€å¤š Agent åä½œ</td></tr><tr><td><strong>æ˜“ç”¨æ€§</strong></td><td>ç®€æ´çš„ APIï¼Œä¸°å¯Œçš„æ–‡æ¡£åŠ è½½å™¨</td></tr><tr><td><strong>é€æ˜æ€§</strong></td><td>å¯è§†åŒ–æ¨ç†è¿‡ç¨‹ï¼Œæ˜“äºè°ƒè¯•</td></tr></tbody></table>
<h3 data-id="heading-114">11.3 ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®</h3>
<ol>
<li>
<p><strong>æ·±å…¥å®è·µ</strong></p>
<ul>
<li>æ„å»ºè‡ªå·±çš„é¢†åŸŸçŸ¥è¯†åº“</li>
<li>å°è¯•ä¸åŒçš„å‘é‡æ•°æ®åº“</li>
<li>å®éªŒå„ç§åˆ†å—ç­–ç•¥</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–</strong></p>
<ul>
<li>åŸºå‡†æµ‹è¯•ä¸åŒé…ç½®</li>
<li>ä¼˜åŒ–æ£€ç´¢å‡†ç¡®æ€§</li>
<li>æå‡ç³»ç»Ÿååé‡</li>
</ul>
</li>
<li>
<p><strong>é«˜çº§ç‰¹æ€§</strong></p>
<ul>
<li>å®ç°å¤æ‚çš„è‡ªå®šä¹‰æ£€ç´¢å™¨</li>
<li>æ„å»ºå¤š Agent RAG ç³»ç»Ÿ</li>
<li>é›†æˆå®æ—¶æ•°æ®æº</li>
</ul>
</li>
<li>
<p><strong>ç”Ÿäº§éƒ¨ç½²</strong></p>
<ul>
<li>é€‰æ‹©åˆé€‚çš„å‘é‡æ•°æ®åº“</li>
<li>è®¾è®¡å¯æ‰©å±•æ¶æ„</li>
<li>ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ</li>
</ul>
</li>
</ol>
<hr/>
<p><strong>æ•™ç¨‹ç³»åˆ—</strong></p>
<ul>
<li><a href="#" title="#">Agno å¼€å‘æ•™ç¨‹ç³»åˆ—ï¼ˆä¸€ï¼‰ï¼šæ¡†æ¶ä»‹ç»ä¸åŸºç¡€æ™ºèƒ½ä½“æ„å»º</a></li>
<li><a href="#" title="#">Agno å¼€å‘æ•™ç¨‹ç³»åˆ—ï¼ˆäºŒï¼‰ï¼šèµ‹äºˆæ™ºèƒ½ä½“è¶…èƒ½åŠ›â€”â€”å·¥å…·çš„ä½¿ç”¨</a></li>
<li><a href="#" title="#">Agno å¼€å‘æ•™ç¨‹ç³»åˆ—ï¼ˆä¸‰ï¼‰ï¼šAgentçš„è®°å¿†ç³»ç»Ÿâ€”â€”è®©AIè®°ä½ä½ </a></li>
<li><a href="#" title="#">Agno å¼€å‘æ•™ç¨‹ç³»åˆ—ï¼ˆå››ï¼‰ï¼šå¤šAgentåä½œç³»ç»Ÿï¼ˆä¸Šï¼‰â€”â€” Teamå›¢é˜Ÿåä½œæœºåˆ¶</a></li>
<li><a href="#" title="#">Agno å¼€å‘æ•™ç¨‹ç³»åˆ—ï¼ˆäº”ï¼‰ï¼šå¤šAgentåä½œç³»ç»Ÿï¼ˆä¸‹ï¼‰â€”â€” Workflowå·¥ä½œæµæœºåˆ¶</a></li>
<li><a href="#" title="#">Agno å¼€å‘æ•™ç¨‹ç³»åˆ—ï¼ˆå…­ï¼‰ï¼šå·¥å…·ç³»ç»Ÿè¯¦ç»†æ•™ç¨‹</a></li>
<li><strong>Agno å¼€å‘æ•™ç¨‹ç³»åˆ—ï¼ˆä¸ƒï¼‰ï¼šAgno ä¸ RAGï¼ˆæœ¬ç¯‡ï¼‰</strong></li>
<li><a href="#" title="#">Agno å¼€å‘æ•™ç¨‹ç³»åˆ—ï¼ˆå…«ï¼‰ï¼šä½¿ç”¨å¤šæ¨¡æ€å¤§æ¨¡å‹</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰3. StructuredOutputParser ï¼ˆç»“æ„åŒ–è¾“å‡ºï¼‰]]></title>    <link>https://juejin.cn/post/7580180556983550002</link>    <guid>https://juejin.cn/post/7580180556983550002</guid>    <pubDate>2025-12-05T12:28:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580180556983550002" data-draft-id="7580198093153959982" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰3. StructuredOutputParser ï¼ˆç»“æ„åŒ–è¾“å‡ºï¼‰"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-05T12:28:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·37783304349"/> <meta itemprop="url" content="https://juejin.cn/user/2140104538466522"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰3. StructuredOutputParser ï¼ˆç»“æ„åŒ–è¾“å‡ºï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2140104538466522/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·37783304349
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:28:42.000Z" title="Fri Dec 05 2025 12:28:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">StructuredOutputParser å°äº 1.0 ç‰ˆæœ¬ï¼Œæ¨èä½¿ç”¨ PydanticOutputParser å¤§äº 1.0</h2>
<p><code>StructuredOutputParser</code> â€œç»“æ„åŒ–è¾“å‡ºè§£æå™¨â€æ˜¯ä¸€æ¬¾éå¸¸æœ‰ç”¨çš„å·¥å…·ï¼Œå®ƒèƒ½å¤Ÿå°†å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„å“åº”æ ¼å¼åŒ–ä¸ºå­—å…¸ç»“æ„ï¼Œä»è€Œèƒ½å¤Ÿä»¥é”®/å€¼å¯¹çš„å½¢å¼è¿”å›å¤šä¸ªå­—æ®µã€‚</p>
<p>è™½ç„¶ <code>Pydantic</code> å’Œ <code>JSON</code> è§£æå™¨å…·å¤‡å¼ºå¤§çš„åŠŸèƒ½ï¼Œä½†<code>StructuredOutputParser</code>â€œç»“æ„åŒ–è¾“å‡ºè§£æå™¨â€å¯¹äºåŠŸèƒ½è¾ƒå¼±çš„æ¨¡å‹ï¼ˆä¾‹å¦‚å‚æ•°è¾ƒå°‘çš„æœ¬åœ°æ¨¡å‹ï¼‰å°¤å…¶æœ‰æ•ˆã€‚å¯¹äºä¸åƒ <code>GPT</code> æˆ– <code>Claude</code> è¿™æ ·çš„é«˜çº§æ¨¡å‹ç›¸æ¯”æ™ºèƒ½ç¨‹åº¦è¾ƒä½çš„æ¨¡å‹è€Œè¨€ï¼Œå®ƒå°¤å…¶æœ‰ç›Šã€‚</p>
<p>é€šè¿‡ä½¿ç”¨<code>ç»“æ„åŒ–è¾“å‡ºè§£æå™¨</code>ï¼Œå¼€å‘äººå‘˜å¯ä»¥åœ¨å„ç§ LLM åº”ç”¨ç¨‹åºä¸­ä¿æŒæ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ï¼Œå³ä½¿æ˜¯åœ¨ä½¿ç”¨å‚æ•°æ•°é‡è¾ƒå°‘çš„æ¨¡å‹æ—¶ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<h3 data-id="heading-1">ä½¿ç”¨ <code>ResponseSchema</code> å’Œ <code>StructuredOutputParser</code> (0.3ç‰ˆæœ¬ä»¥å‰çš„å†™æ³•ï¼Œ1.0ç‰ˆæœ¬å·²ç»å¼ƒç”¨ï¼Œæ”¹ä¸ºæ›´åŠ ç°ä»£åŒ–çš„æ–¹å¼)</h3>
<ul>
<li>
<p>ä½¿ç”¨ <code>ResponseSchema</code> ç±»å®šä¹‰å“åº”æ¨¡å¼ï¼Œä»¥åŒ…å«ç”¨æˆ·é—®é¢˜çš„ç­”æ¡ˆå’Œæ‰€ä½¿ç”¨çš„æ¥æºï¼ˆç½‘ç«™ï¼‰çš„ <code>description</code>ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ <code>response_schemas</code> åˆå§‹åŒ– <code>StructuredOutputParser</code>ï¼Œä»¥æ ¹æ®å®šä¹‰çš„å“åº”æ¨¡å¼æ„å»ºè¾“å‡ºç»“æ„ã€‚</p>
</li>
</ul>
<p><strong>[æ³¨æ„]</strong>
åœ¨ä½¿ç”¨æœ¬åœ°æ¨¡å‹æ—¶ï¼Œ<code>Pydantic</code> è§£æå™¨å¯èƒ½ç»å¸¸æ— æ³•æ­£å¸¸å·¥ä½œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨ <code>StructuredOutputParser</code> å¯ä»¥ä½œä¸ºä¸€ä¸ªå¾ˆå¥½çš„æ›¿ä»£è§£å†³æ–¹æ¡ˆã€‚</p>
<p>æ‰€ä»¥å¯¹äºè¿™ä¸ªæƒ…å†µåï¼Œåœ¨1.0ç‰ˆæœ¬ä¸­ï¼Œæ¨èä½¿ç”¨æ›´åŠ ç°ä»£åŒ–çš„æ–¹å¼æ¥å®ç°ç»“æ„åŒ–è¾“å‡ºè§£æå™¨ã€‚PydanticOutputParser æ˜¯ä¸€ä¸ªåŸºäº Pydantic æ¨¡å‹çš„è§£æå™¨ï¼Œå®ƒå¯ä»¥å°† LLM çš„å“åº”è§£æä¸ºç¬¦åˆå®šä¹‰çš„ Pydantic æ¨¡å‹çš„å®ä¾‹ã€‚</p>
<h3 data-id="heading-2">ç°ä»£åŒ–çš„ç»“æ„åŒ–è¾“å‡ºè§£æå™¨ (1.0ç‰ˆæœ¬åŠä»¥å)</h3>
<h4 data-id="heading-3">æ–¹å¼1ï¼šä½¿ç”¨ Pydantic æ¨¡å‹ï¼ˆæ¨èï¼‰</h4>
<p>æœ€çµæ´»ä¸”åŠŸèƒ½æœ€å¼ºå¤§çš„æ–¹å¼ï¼Œæ”¯æŒå­—æ®µéªŒè¯å’ŒåµŒå¥—ç»“æ„ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseSchema</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    answer: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"ç”¨æˆ·é—®é¢˜çš„ç­”æ¡ˆ"</span>)
    source: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"æ‰€ä½¿ç”¨çš„æ¥æºï¼ˆç½‘ç«™ï¼‰çš„æè¿°"</span>)
</code></pre>
<h4 data-id="heading-4">æ–¹å¼2ï¼šä½¿ç”¨ TypedDictï¼ˆç®€æ´ï¼‰</h4>
<p>å½“ä½ ä¸éœ€è¦è¿è¡Œæ—¶éªŒè¯æ—¶çš„è½»é‡çº§æ–¹å¼ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> typing_extensions <span class="hljs-keyword">import</span> TypedDict, Annotated

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ResponseSchema</span>(<span class="hljs-title class_ inherited__">TypedDict</span>):
    answer: Annotated[<span class="hljs-built_in">str</span>, Field(description=<span class="hljs-string">"ç”¨æˆ·é—®é¢˜çš„ç­”æ¡ˆ"</span>)]
    source: Annotated[<span class="hljs-built_in">str</span>, Field(description=<span class="hljs-string">"æ‰€ä½¿ç”¨çš„æ¥æºï¼ˆç½‘ç«™ï¼‰çš„æè¿°"</span>)]
</code></pre>
<h4 data-id="heading-5">ä½¿ç”¨æ–¹å¼1ï¼šä½¿ç”¨ ResponseSchema</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> create_agent
<span class="hljs-keyword">from</span> langchain_openai  <span class="hljs-keyword">import</span> ChatOpenAI

Qwen2_5_7B_Instruct_llm = ChatOpenAI(
    temperature=<span class="hljs-number">0.1</span>,  <span class="hljs-comment"># æ§åˆ¶è¾“å‡ºçš„éšæœºæ€§å’Œåˆ›é€ æ€§ï¼Œå€¼è¶Šä½è¾“å‡ºè¶Šç¨³å®šå¯é¢„æµ‹ï¼Œå€¼è¶Šé«˜è¾“å‡ºè¶Šæœ‰åˆ›æ„ä½†å¯èƒ½åç¦»é¢„æœŸ (èŒƒå›´: 0.0 ~ 2.0)</span>
    model_name=<span class="hljs-string">"Qwen/Qwen2.5-7B-Instruct"</span>,  <span class="hljs-comment"># ç¡…åŸºæµåŠ¨æ”¯æŒçš„æ¨¡å‹åç§°</span>
    openai_api_key=os.getenv(<span class="hljs-string">"SILICONFLOW_API_KEY"</span>),  <span class="hljs-comment"># ä»ç¯å¢ƒå˜é‡è·å–APIå¯†é’¥</span>
    openai_api_base=<span class="hljs-string">"https://api.siliconflow.cn/v1"</span>  <span class="hljs-comment"># ç¡…åŸºæµåŠ¨APIçš„åŸºç¡€URL</span>
)
template=<span class="hljs-string">"å°½å¯èƒ½å¥½åœ°å›ç­”ç”¨æˆ·çš„é—®é¢˜ã€‚\n{format_instructions}\n{question}"</span>

agent = create_agent(
    model=Qwen2_5_7B_Instruct_llm,
    response_format=ResponseSchema,  <span class="hljs-comment"># Agent æœ€ç»ˆè¿”å›ç»“æ„åŒ–æ ¼å¼</span>
    system_prompt=system_prompt
)
agent.invoke({<span class="hljs-string">"question"</span>: <span class="hljs-string">"ä¸–ç•Œä¸Šæœ€å¤§çš„æ²™æ¼ æ˜¯ä»€ä¹ˆï¼Ÿ"</span>})
</code></pre>
<h4 data-id="heading-6">ä½¿ç”¨æ–¹å¼2ï¼šä½¿ç”¨ PydanticOutputParser</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> create_agent
<span class="hljs-keyword">from</span> langchain_openai  <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> PydanticOutputParser

Qwen2_5_7B_Instruct_llm = ChatOpenAI(
    temperature=<span class="hljs-number">0.1</span>,  <span class="hljs-comment"># æ§åˆ¶è¾“å‡ºçš„éšæœºæ€§å’Œåˆ›é€ æ€§ï¼Œå€¼è¶Šä½è¾“å‡ºè¶Šç¨³å®šå¯é¢„æµ‹ï¼Œå€¼è¶Šé«˜è¾“å‡ºè¶Šæœ‰åˆ›æ„ä½†å¯èƒ½åç¦»é¢„æœŸ (èŒƒå›´: 0.0 ~ 2.0)</span>
    model_name=<span class="hljs-string">"Qwen/Qwen2.5-7B-Instruct"</span>,  <span class="hljs-comment"># ç¡…åŸºæµåŠ¨æ”¯æŒçš„æ¨¡å‹åç§°</span>
    openai_api_key=os.getenv(<span class="hljs-string">"SILICONFLOW_API_KEY"</span>),  <span class="hljs-comment"># ä»ç¯å¢ƒå˜é‡è·å–APIå¯†é’¥</span>
    openai_api_base=<span class="hljs-string">"https://api.siliconflow.cn/v1"</span>  <span class="hljs-comment"># ç¡…åŸºæµåŠ¨APIçš„åŸºç¡€URL</span>
)
template=<span class="hljs-string">"å°½å¯èƒ½å¥½åœ°å›ç­”ç”¨æˆ·çš„é—®é¢˜ã€‚\n{format_instructions}\n{question}"</span>

parser = PydanticOutputParser(pydantic_object=ResponseSchema)
prompt = template.<span class="hljs-built_in">format</span>(format_instructions=parser.get_format_instructions())

chain = prompt | Qwen2_5_7B_Instruct_llm | output_parser  <span class="hljs-comment"># è¿æ¥æç¤ºè¯ã€æ¨¡å‹å’Œè¾“å‡ºè§£æå™¨</span>

<span class="hljs-comment"># æé—®ï¼š"ä¸–ç•Œä¸Šæœ€å¤§çš„æ²™æ¼ æ˜¯ä»€ä¹ˆï¼Ÿ"</span>
chain.invoke({<span class="hljs-string">"question"</span>: <span class="hljs-string">"ä¸–ç•Œä¸Šæœ€å¤§çš„æ²™æ¼ æ˜¯ä»€ä¹ˆï¼Ÿ"</span>})
</code></pre>
<h4 data-id="heading-7">ä½¿ç”¨æµå¼è¾“å‡º</h4>
<p>ä½¿ç”¨ <code>chain.stream</code> æ–¹æ³•æ¥æ¥æ”¶å¯¹ <code>question</code> çš„æµå¼å“åº”ï¼š"ä¸€æ”¯è¶³çƒé˜Ÿæœ‰å¤šå°‘åçƒå‘˜ï¼Ÿ"</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> chain.stream({<span class="hljs-string">"question"</span>: <span class="hljs-string">"ä¸€æ”¯è¶³çƒé˜Ÿæœ‰å¤šå°‘åçƒå‘˜ï¼Ÿ"</span>}):
    <span class="hljs-built_in">print</span>(chunk)
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰4. JsonOutputParser]]></title>    <link>https://juejin.cn/post/7580197740962349082</link>    <guid>https://juejin.cn/post/7580197740962349082</guid>    <pubDate>2025-12-05T12:57:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580197740962349082" data-draft-id="7580174845772316681" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰4. JsonOutputParser"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T12:57:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="RedTiemr"/> <meta itemprop="url" content="https://juejin.cn/user/2140104538466522"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰4. JsonOutputParser
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2140104538466522/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    RedTiemr
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:57:04.000Z" title="Fri Dec 05 2025 12:57:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ï¼ˆ æ•™å­¦ ï¼‰Agent æ„å»º Promptï¼ˆæç¤ºè¯ï¼‰4. JsonOutputParser</h2>
<p><code>JsonOutputParser</code>æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œèƒ½è®©ç”¨æˆ·æŒ‡å®šæ‰€éœ€çš„ JSON æ¨¡å¼ã€‚å…¶ç›®çš„æ˜¯ä½¿å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰èƒ½å¤ŸæŸ¥è¯¢æ•°æ®å¹¶ä»¥ç¬¦åˆæŒ‡å®šæ¨¡å¼çš„ JSON æ ¼å¼è¿”å›ç»“æœã€‚
ä¸ºäº†ç¡®ä¿ LLM èƒ½å¤Ÿå‡†ç¡®ä¸”é«˜æ•ˆåœ°å¤„ç†æ•°æ®ï¼Œå¹¶ç”Ÿæˆæ‰€éœ€çš„æ ¼å¼çš„ JSONï¼Œè¯¥æ¨¡å‹å¿…é¡»å…·å¤‡è¶³å¤Ÿçš„èƒ½åŠ›ï¼ˆä¾‹å¦‚æ™ºèƒ½ï¼‰ã€‚ä¾‹å¦‚ï¼Œllama-70B æ¨¡å‹çš„å®¹é‡æ¯” llama-8B æ¨¡å‹æ›´å¤§ï¼Œå› æ­¤æ›´é€‚åˆå¤„ç†å¤æ‚çš„æ•°æ®ã€‚
<strong>[æ³¨æ„]</strong>
<strong>JSONï¼ˆJavaScript å¯¹è±¡è¡¨ç¤ºæ³•ï¼‰</strong> æ˜¯ä¸€ç§è½»é‡çº§çš„æ•°æ®äº¤æ¢æ ¼å¼ï¼Œç”¨äºå­˜å‚¨å’Œç»„ç»‡æ•°æ®ã€‚å®ƒåœ¨ç½‘é¡µå¼€å‘ä¸­èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ï¼Œå¹¶ä¸”è¢«å¹¿æ³›ç”¨äºæœåŠ¡å™¨ä¸å®¢æˆ·ç«¯ä¹‹é—´çš„é€šä¿¡ã€‚JSON åŸºäºæ˜“äºé˜…è¯»çš„æ–‡æœ¬ï¼Œä¾¿äºæœºå™¨è§£æå’Œç”Ÿæˆã€‚
JSON æ•°æ®ç”±é”®å€¼å¯¹ç»„æˆã€‚åœ¨è¿™é‡Œï¼Œâ€œé”®â€æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œâ€œå€¼â€å¯ä»¥æ˜¯å„ç§æ•°æ®ç±»å‹ã€‚JSON æœ‰ä¸¤ç§ä¸»è¦çš„ç»“æ„ï¼š</p>
<ul>
<li>
<p>å¯¹è±¡ï¼šç”±ä¸€å¯¹ä¸€å¯¹çš„é”®å€¼å¯¹ç»„æˆï¼Œè¿™äº›é”®å€¼å¯¹è¢«æ‹¬å· { } åŒ…å›´ã€‚æ¯ä¸ªé”®é€šè¿‡å†’å·ï¼ˆï¼šï¼‰ä¸å¯¹åº”çš„å€¼ç›¸å…³è”ï¼Œè€Œå¤šä¸ªé”®å€¼å¯¹ä¹‹é—´åˆ™ç”¨é€—å·ï¼ˆï¼Œ ï¼‰åˆ†éš”ã€‚</p>
</li>
<li>
<p>æ•°ç»„ï¼šä¸€ä¸ªæœ‰åºçš„å€¼åˆ—è¡¨ï¼Œç”±æ–¹æ‹¬å· [ ] åŒ…å›´ã€‚æ•°ç»„ä¸­çš„å€¼ä¹‹é—´ç”¨é€—å·ï¼ˆï¼Œ ï¼‰åˆ†éš”ã€‚</p>
</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"John Doe"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"age"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">30</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"is_student"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"skills"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"Java"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"Python"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"JavaScript"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"address"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"street"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"123 Main St"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Anytown"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-1">å®šä¹‰æ¨¡å‹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate
<span class="hljs-keyword">from</span> langchain_core.output_parsers <span class="hljs-keyword">import</span> JsonOutputParser
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> pydantic <span class="hljs-keyword">import</span> BaseModel, Field
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv
<span class="hljs-keyword">import</span> os

load_dotenv()

Qwen2_5_7B_Instruct_llm = ChatOpenAI(
    temperature=<span class="hljs-number">0.1</span>,  <span class="hljs-comment"># æ§åˆ¶è¾“å‡ºçš„éšæœºæ€§å’Œåˆ›é€ æ€§ï¼Œå€¼è¶Šä½è¾“å‡ºè¶Šç¨³å®šå¯é¢„æµ‹ï¼Œå€¼è¶Šé«˜è¾“å‡ºè¶Šæœ‰åˆ›æ„ä½†å¯èƒ½åç¦»é¢„æœŸ (èŒƒå›´: 0.0 ~ 2.0)</span>
    model_name=<span class="hljs-string">"Qwen/Qwen2.5-7B-Instruct"</span>,  <span class="hljs-comment"># ç¡…åŸºæµåŠ¨æ”¯æŒçš„æ¨¡å‹åç§°</span>
    openai_api_key=os.getenv(<span class="hljs-string">"SILICONFLOW_API_KEY"</span>),  <span class="hljs-comment"># ä»ç¯å¢ƒå˜é‡è·å–APIå¯†é’¥</span>
    openai_api_base=<span class="hljs-string">"https://api.siliconflow.cn/v1"</span>  <span class="hljs-comment"># ç¡…åŸºæµåŠ¨APIçš„åŸºç¡€URL</span>
)
</code></pre>
<h3 data-id="heading-2">å®šä¹‰è¾“å‡ºæ•°æ®æ¨¡å¼æ ¼å¼</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Topic</span>(<span class="hljs-title class_ inherited__">BaseModel</span>):
    description: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"ä¸»é¢˜çš„ç®€è¦æè¿°"</span>)
    hashtags: <span class="hljs-built_in">str</span> = Field(description=<span class="hljs-string">"å…³é”®è¯çš„æ ‡ç­¾æ ¼å¼ï¼ˆè‡³å°‘2ä¸ªï¼‰"</span>)
</code></pre>
<h3 data-id="heading-3">ä½¿ç”¨ <code>JsonOutputParser</code> è®¾ç½®è§£æå™¨å¹¶å°†æŒ‡ä»¤æ³¨å…¥åˆ°æç¤ºæ¨¡æ¿ä¸­</h3>
<pre><code class="hljs language-python" lang="python">question = <span class="hljs-string">"è¯·è§£é‡Šå…¨çƒå˜æš–çš„ä¸¥é‡æ€§ã€‚"</span>

<span class="hljs-comment"># è®¾ç½®è§£æå™¨å¹¶å°†æŒ‡ä»¤æ³¨å…¥æç¤ºæ¨¡æ¿</span>
parser = JsonOutputParser(pydantic_object=Topic)
<span class="hljs-built_in">print</span>(parser.get_format_instructions())
</code></pre>
<blockquote>
<p>The output should be formatted as a JSON instance that conforms to the JSON schema below.</p>
</blockquote>
<blockquote>
<p>As an example, for the schema {"properties": {"foo": {"title": "Foo", "description": "a &gt;list of strings", "type": "array", "items": {"type": "string"}}}, "required": ["foo"]}
the object {"foo": ["bar", "baz"]} is a well-formatted instance of the schema. The &gt;object {"properties": {"foo": ["bar", "baz"]}} is not well-formatted.</p>
<p>Here is the output schema:</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä¸»é¢˜çš„ç®€è¦æè¿°"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Description"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"hashtags"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span><span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å…³é”®è¯çš„æ ‡ç­¾æ ¼å¼ï¼ˆè‡³å°‘2ä¸ªï¼‰"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"title"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hashtags"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"description"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"hashtags"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">}</span>
</code></pre>
</blockquote>
<h3 data-id="heading-4">æ„å»ºæç¤ºæ¨¡æ¿</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> PromptTemplate


prompt = ChatPromptTemplate.from_messages(
    [
        (<span class="hljs-string">"system"</span>, <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªå‹å¥½çš„AIåŠ©æ‰‹ã€‚è¯·ç®€æ´å›ç­”é—®é¢˜ã€‚"</span>),
        (<span class="hljs-string">"user"</span>, <span class="hljs-string">"#Format: {format_instructions}\n\n#Question: {question}"</span>),
    ]
)
prompt = prompt.partial(format_instructions=parser.get_format_instructions())

chain = prompt | Qwen2_5_7B_Instruct_llm | parser
answer = chain.invoke({<span class="hljs-string">"question"</span>: question})

</code></pre>
<h3 data-id="heading-5">è§£æè¾“å‡º</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-built_in">type</span>(answer)
</code></pre>
<blockquote>
<p>dict</p>
</blockquote>
<pre><code class="hljs language-python" lang="python">answer
</code></pre>
<blockquote>
<p>{'description': 'å…¨çƒå˜æš–å¯¼è‡´æç«¯å¤©æ°”äº‹ä»¶é¢‘å‘ï¼Œå†°å·èåŒ–ï¼Œæµ·å¹³é¢ä¸Šå‡ï¼Œç”Ÿæ€ç³»ç»Ÿå—åˆ°å¨èƒï¼Œå†œä¸šç”Ÿäº§å—åˆ°å½±å“ï¼Œäººç±»å¥åº·é¢ä¸´é£é™©ï¼Œç»æµé­å—æŸå¤±ã€‚',
'hashtags': '#å…¨çƒå˜æš– #æç«¯å¤©æ°” #å†°å·èåŒ– #æµ·å¹³é¢ä¸Šå‡ #ç”Ÿæ€ç³»ç»Ÿ #å†œä¸šç”Ÿäº§ #äººç±»å¥åº· #ç»æµæŸå¤±'}</p>
</blockquote>
<h3 data-id="heading-6">ä¸è®¾å®šæ•°æ®ç»“æ„ çš„ <code>JsonOutputParser</code></h3>
<p>ä½ å¯ä»¥åœ¨ä¸ä½¿ç”¨ <code>Pydantic</code> çš„æƒ…å†µä¸‹ç”Ÿæˆ JSON æ ¼å¼çš„è¾“å‡ºã€‚</p>
<p>æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ¥å®ç°ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ç¼–å†™ä½ çš„é—®é¢˜</span>
question = <span class="hljs-string">"è¯·æä¾›å…³äºå…¨çƒå˜æš–çš„ä¿¡æ¯ã€‚åœ¨descriptionä¸­åŒ…å«è§£é‡Šè¯´æ˜ï¼Œåœ¨`hashtags`ä¸­åŒ…å«ç›¸å…³å…³é”®è¯ã€‚"</span>

<span class="hljs-comment"># åˆå§‹åŒ– JsonOutputParser</span>
parser = JsonOutputParser()

<span class="hljs-comment"># è®¾ç½®æç¤ºæ¨¡æ¿</span>
prompt = ChatPromptTemplate.from_messages(
    [
        (<span class="hljs-string">"system"</span>, <span class="hljs-string">"æˆ‘æ˜¯ä¸€ä¸ªå‹å¥½çš„AIåŠ©æ‰‹ã€‚æˆ‘ä¼šç®€æ˜æ‰¼è¦åœ°å›ç­”é—®é¢˜ã€‚"</span>),
        (<span class="hljs-string">"user"</span>, <span class="hljs-string">"#æ ¼å¼: {format_instructions}\n\n#é—®é¢˜: {question}"</span>),
    ]
)

<span class="hljs-comment"># å°†æ ¼å¼æŒ‡ä»¤æ³¨å…¥æç¤º</span>
prompt = prompt.partial(format_instructions=parser.get_format_instructions())

<span class="hljs-comment"># å°†æç¤ºã€æ¨¡å‹å’Œ JsonOutputParser ç»„åˆæˆé“¾</span>
chain = prompt | Qwen2_5_7B_Instruct_llm | parser

<span class="hljs-comment"># ä½¿ç”¨ä½ çš„é—®é¢˜è¿è¡Œé“¾</span>
response = chain.invoke({<span class="hljs-string">"question"</span>: question})
<span class="hljs-built_in">print</span>(response)
</code></pre>
<blockquote>
<p>{'description': 'å…¨çƒå˜æš–æ˜¯æŒ‡åœ°çƒè¡¨é¢å¹³å‡æ¸©åº¦çš„é•¿æœŸä¸Šå‡è¶‹åŠ¿ï¼Œä¸»è¦ç”±æ¸©å®¤æ°”ä½“ï¼ˆå¦‚äºŒæ°§åŒ–ç¢³ã€ç”²çƒ·ï¼‰çš„å¢åŠ å¼•èµ·ã€‚è¿™äº›æ°”ä½“åœ¨å¤§æ°”ä¸­å½¢æˆä¸€å±‚â€œæ¯¯å­â€ï¼Œæ•è·å¤ªé˜³çƒ­é‡ï¼Œå¯¼è‡´åœ°çƒæ¸©åº¦å‡é«˜ã€‚å…¨çƒå˜æš–å¯¼è‡´æç«¯å¤©æ°”äº‹ä»¶å¢å¤šã€å†°å·èåŒ–ã€æµ·å¹³é¢ä¸Šå‡ç­‰é—®é¢˜ï¼Œå¯¹ç”Ÿæ€ç³»ç»Ÿå’Œäººç±»ç¤¾ä¼šé€ æˆä¸¥é‡å½±å“ã€‚', 'hashtags': ['å…¨çƒå˜æš–', 'æ°”å€™å˜åŒ–', 'æ¸©å®¤æ•ˆåº”', 'ç¯å¢ƒä¿æŠ¤', 'å¯æŒç»­å‘å±•']}</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[8GBå†…å­˜ä¹Ÿèƒ½è·‘å¤§æ¨¡å‹ï¼openEuler + Ollama å®æˆ˜éƒ¨ç½²æ•™ç¨‹]]></title>    <link>https://juejin.cn/post/7580208715275141162</link>    <guid>https://juejin.cn/post/7580208715275141162</guid>    <pubDate>2025-12-05T15:07:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580208715275141162" data-draft-id="7580184249909133354" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="8GBå†…å­˜ä¹Ÿèƒ½è·‘å¤§æ¨¡å‹ï¼openEuler + Ollama å®æˆ˜éƒ¨ç½²æ•™ç¨‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-05T15:07:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é­”å¥³åƒåƒé±¼"/> <meta itemprop="url" content="https://juejin.cn/user/4253360991250333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            8GBå†…å­˜ä¹Ÿèƒ½è·‘å¤§æ¨¡å‹ï¼openEuler + Ollama å®æˆ˜éƒ¨ç½²æ•™ç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4253360991250333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é­”å¥³åƒåƒé±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:07:24.000Z" title="Fri Dec 05 2025 15:07:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼Œå¤§è¯­è¨€æ¨¡å‹å·²ç»æˆä¸ºå„è¡Œå„ä¸šå…³æ³¨çš„ç„¦ç‚¹ã€‚ä½†å¯¹äºä¸ªäººå¼€å‘è€…å’Œä¸­å°ä¼ä¸šæ¥è¯´ï¼Œå¦‚ä½•åœ¨æœ‰é™çš„ç¡¬ä»¶æ¡ä»¶ä¸‹éƒ¨ç½²å’Œä½¿ç”¨å¤§æ¨¡å‹ï¼Œä¸€ç›´æ˜¯ä¸ªéš¾é¢˜ã€‚
æœ¬æ–‡å°†æ‰‹æŠŠæ‰‹æ•™ä½ åœ¨ openEuler 25.09 ç³»ç»Ÿä¸Šä½¿ç”¨ Ollama éƒ¨ç½²æœ¬åœ°å¤§æ¨¡å‹ï¼Œå³ä½¿æ˜¯æ™®é€šé…ç½®çš„æœåŠ¡å™¨ä¹Ÿèƒ½è½»æ¾è¿è¡Œï¼</p>
<p>æœ¬æ–‡äº®ç‚¹ï¼š</p>
<ul>
<li>âœ… é›¶åŸºç¡€å‹å¥½ï¼šä»ç³»ç»Ÿæ£€æŸ¥åˆ°æ¨¡å‹è¿è¡Œï¼Œæ¯ä¸€æ­¥éƒ½æœ‰è¯¦ç»†å‘½ä»¤</li>
<li>âœ… å®Œå…¨ç¦»çº¿ï¼šéƒ¨ç½²åæ— éœ€è”ç½‘ï¼Œæ•°æ®å®‰å…¨æœ‰ä¿éšœ</li>
<li>âœ… é…ç½®è¦æ±‚ä½ï¼š8GB å†…å­˜å³å¯è¿è¡Œï¼Œé€‚åˆæµ‹è¯•å’Œå­¦ä¹ </li>
<li>âœ… çœŸå®æµ‹è¯•æ•°æ®ï¼šåŒ…å«å®Œæ•´çš„æ€§èƒ½æµ‹è¯•å’Œèµ„æºå ç”¨åˆ†æ
å†™è¿™ç¯‡æ•™ç¨‹çš„ç›®çš„å¾ˆç®€å•ï¼šè®©æ›´å¤šäººèƒ½å¤Ÿä½é—¨æ§›åœ°æ¥è§¦å’Œä½¿ç”¨å¤§æ¨¡å‹æŠ€æœ¯ã€‚
ğŸ’¡ é‡è¦æç¤ºï¼šæœ¬æ•™ç¨‹åœ¨ 7.2GB å†…å­˜ã€6 æ ¸ CPU çš„æµ‹è¯•ç¯å¢ƒä¸‹å®Œæˆï¼Œé…ç½®ä¸é«˜ä½†è¶³å¤Ÿä½¿ç”¨ã€‚åªè¦æŒ‰ç…§æ•™ç¨‹ä¸€æ­¥æ­¥æ¥ï¼Œä½ ä¹Ÿèƒ½æˆåŠŸéƒ¨ç½²è‡ªå·±çš„æœ¬åœ°å¤§æ¨¡å‹ï¼</li>
</ul>
<p>ğŸ“Š æˆ‘çš„é…ç½®
ç”±äºæˆ‘æ˜¯æµ‹è¯•ç¯å¢ƒ é…ç½®ä¸æ€ä¹ˆå¥½ ä½†æ˜¯æ•™ç¨‹æ˜¯ç»å¯¹çš„ï¼ˆæŒ‰ç…§æˆ‘çš„æ•™ç¨‹ä¸€æ­¥æ¥å³å¯éƒ¨ç½²å¤§æ¨¡å‹ï¼‰</p>



































<table><thead><tr><th>é¡¹ç›®</th><th>é…ç½®</th><th>çŠ¶æ€</th></tr></thead><tbody><tr><td>æ“ä½œç³»ç»Ÿ</td><td>openEuler 25.09</td><td>âœ… æœ€æ–°ç‰ˆæœ¬ï¼</td></tr><tr><td>CPU</td><td>*</td><td>*</td></tr><tr><td>å†…å­˜</td><td>7.2GB æ€»é‡ï¼Œ6.4GB å¯ç”¨</td><td>âœ… è¶³å¤Ÿ</td></tr><tr><td>ç£ç›˜</td><td>æ ¹ç›®å½• 69GBï¼Œå·²ç”¨ 5.9GB</td><td>âœ… ç©ºé—´å……è¶³</td></tr><tr><td>Swap</td><td>3.9GB</td><td>âœ… å¾ˆå¥½</td></tr></tbody></table>
<p>é•œåƒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.org%2Fen%2F" target="_blank" title="https://www.openeuler.org/en/" ref="nofollow noopener noreferrer">www.openeuler.org/en/</a> ç‚¹å‡»ç›´è¾¾</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d7e9cf5241a43a184593e8b90c71389~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=7%2FVDK7eu5TiNbV5Qyq4K0B7AaDk%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-1">ç¬¬ä¸€æ­¥ï¼šç³»ç»Ÿç¯å¢ƒæ£€æŸ¥ä¸å‡†å¤‡1.1 æ£€æŸ¥ç³»ç»Ÿç‰ˆæœ¬</h2>
<h3 data-id="heading-2">1.1 æ£€æŸ¥ç³»ç»Ÿç‰ˆæœ¬</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬</span>
<span class="hljs-built_in">cat</span> /etc/os-release

<span class="hljs-comment"># æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬</span>
<span class="hljs-built_in">uname</span> -r
</code></pre>
<hr/>
<h3 data-id="heading-3">1.2 æ£€æŸ¥ç¡¬ä»¶é…ç½®</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ CPU ä¿¡æ¯</span>
lscpu | grep -E <span class="hljs-string">"Model name|CPU\(s\)|Thread"</span>

<span class="hljs-comment"># æŸ¥çœ‹å†…å­˜ä¿¡æ¯</span>
free -h

<span class="hljs-comment"># æŸ¥çœ‹ç£ç›˜ç©ºé—´</span>
<span class="hljs-built_in">df</span> -h

<span class="hljs-comment"># è®°å½•è¿™äº›æ•°æ®ï¼ˆå†™æ–‡ç« æ—¶æ”¾åœ¨"æµ‹è¯•ç¯å¢ƒ"éƒ¨åˆ†ï¼‰</span>
</code></pre>
<p>æœ€ä½é…ç½®è¦æ±‚ï¼š</p>
<ul>
<li>CPU: 4æ ¸</li>
<li>å†…å­˜: 8GB</li>
<li>ç£ç›˜: 20GB å¯ç”¨ç©ºé—´</li>
</ul>
<hr/>
<h3 data-id="heading-4">1.3 æ›´æ–°ç³»ç»Ÿï¼ˆå¯é€‰ä½†æ¨èï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨</span>
sudo dnf update -y

<span class="hljs-comment"># å®‰è£…åŸºç¡€å·¥å…·</span>
sudo dnf install -y wget curl vim htop
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7bf0673450d482fa417b964cc7cbb40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=FJ1Vh1L5sBL%2FtJd63g6xhmVKM9Q%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-5">ç¬¬äºŒæ­¥ï¼šå®‰è£… Ollama</h2>
<p>ä¸‹è½½å¹¶å®‰è£… Ollama æ…¢ä¸è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨å®˜æ–¹å®‰è£…è„šæœ¬ï¼ˆæ¨èæ–¹å¼ï¼‰</span>
curl -fsSL https://ollama.com/install.sh | sh
</code></pre>
<p><strong>å¦‚æœä¸Šé¢çš„å‘½ä»¤å¤±è´¥ï¼ˆç½‘ç»œé—®é¢˜ï¼‰ï¼Œä½¿ç”¨æ‰‹åŠ¨å®‰è£…ï¼š
å¤‡ç”¨è·¯çº¿ ä½†æ˜¯å¤§å®¶å¯ä»¥å»å®˜æ–¹ä¸‹è½½ä¹Ÿ xï¼ï¼ï¼</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cda2bdb5acad4a45b779f05796286e73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=PWnpcs7eJtIMLu1lec5m%2FX0gipc%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰‹åŠ¨ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ï¼ˆä»¥ 0.3.14 ä¸ºä¾‹ï¼Œè¯·è®¿é—® https://github.com/ollama/ollama/releases æŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬ï¼‰</span>
wget https://github.com/ollama/ollama/releases/download/v0.3.14/ollama-linux-amd64

<span class="hljs-comment"># ç§»åŠ¨åˆ°ç³»ç»Ÿè·¯å¾„</span>
sudo <span class="hljs-built_in">mv</span> ollama-linux-amd64 /usr/local/bin/ollama

<span class="hljs-comment"># æ·»åŠ æ‰§è¡Œæƒé™</span>
sudo <span class="hljs-built_in">chmod</span> +x /usr/local/bin/ollama

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
ollama --version
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87d1d432ff554542ad6aadffcfad7fce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=Lt7ZFc8eVCk6qp4txpOlmm3oXfA%3D" alt="image.png" loading="lazy"/></p>
<p>æŠ¥é”™
æˆ‘ä¸‹è½½çš„æ—¶å€™é•œåƒæœ‰é—®é¢˜ å¯èƒ½æ²¡é­”æ³•çš„åŸå›  å‡ºç°äº†å¾ˆå¤šé”™è¯¯é•œåƒä¸€ä¸ªä¸ªéƒ½iä¸è¡Œ
ä»¥ä¸‹å‘½ä»¤è§£å†³äº†æˆ‘çš„é—®é¢˜
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Follama%2Follama%2Freleases" target="_blank" title="https://github.com/ollama/ollama/releases" ref="nofollow noopener noreferrer">github.com/ollama/ollaâ€¦</a>
åœ¨è¿™é‡Œæ‰¾æºç åŒ…ä¸Šä¼ åˆ°æœåŠ¡å™¨
æˆ‘æˆåŠŸä¸‹è½½äº†
ä¸Šä¼ åˆ°æ”¾æœåŠ¡å™¨</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ed993f0a5834c7b9d557c1edde057a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=zNAv%2BkRS8HQ2isBCn3LsiBA2V4g%3D" alt="image.png" loading="lazy"/></p>
<p>ç¼–è¯‘å®‰è£…</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åˆ é™¤é”™è¯¯ç§»åŠ¨çš„æ–‡ä»¶</span>
sudo <span class="hljs-built_in">rm</span> -f /usr/local/bin/ollama

<span class="hljs-comment"># 2. æŸ¥çœ‹ bin ç›®å½•å†…å®¹</span>
<span class="hljs-built_in">ls</span> -lh ~/bin/

<span class="hljs-comment"># 3. æ­£ç¡®ç§»åŠ¨å¯æ‰§è¡Œæ–‡ä»¶</span>
sudo <span class="hljs-built_in">cp</span> ~/bin/ollama /usr/local/bin/

<span class="hljs-comment"># 4. æ·»åŠ æ‰§è¡Œæƒé™</span>
sudo <span class="hljs-built_in">chmod</span> +x /usr/local/bin/ollama

<span class="hljs-comment"># 5. éªŒè¯å®‰è£…</span>
ollama --version
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0950399af7f64e43a8f315d963be6379~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=nFU5%2BpSlblOortDX9mmqAtP5Umg%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<p>å¯åŠ¨ Ollama æœåŠ¡</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼ä¸€ï¼šç›´æ¥å¯åŠ¨ï¼ˆå‰å°è¿è¡Œï¼Œæµ‹è¯•ç”¨ï¼‰</span>
ollama serve
</code></pre>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼äºŒï¼šåå°è¿è¡Œï¼ˆæ¨èï¼‰</span>
<span class="hljs-built_in">nohup</span> ollama serve &gt; /tmp/ollama.log 2&gt;&amp;1 &amp;

<span class="hljs-comment"># æ£€æŸ¥æœåŠ¡æ˜¯å¦å¯åŠ¨</span>
ps aux | grep ollama
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f06afb822d794061833f75de86d0f4ad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=tvvGzQY4l61VKTCFEizZzNExho8%3D" alt="image.png" loading="lazy"/></p>
<p>åˆ«ç€æ€¥ ç­‰å¾… å¯åŠ¨æˆåŠŸ
æˆåŠŸå¯åŠ¨ Ollama</p>
<hr/>
<h2 data-id="heading-6">ç¬¬ä¸‰æ­¥ï¼šä¸‹è½½å¹¶è¿è¡Œå°æ¨¡å‹</h2>
<h3 data-id="heading-7">3.1 é€‰æ‹©æ¨¡å‹</h3>
<p><strong>æ¨èæ¨¡å‹ï¼ˆæŒ‰å¤§å°æ’åºï¼‰ï¼š</strong>
qwen2.5:1.5b - 1.5GBï¼Œé€Ÿåº¦æœ€å¿«ï¼Œé€‚åˆæµ‹è¯•
gemma2:2b - 2GBï¼ŒGoogle å‡ºå“
llama3.2:3b - 3GBï¼ŒMeta æœ€æ–°ï¼Œç»¼åˆæ€§èƒ½å¥½
<strong>æˆ‘ä»¬å…ˆç”¨æœ€å°çš„æ¨¡å‹æµ‹è¯•ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¸‹è½½ Qwen 2.5 1.5B æ¨¡å‹ï¼ˆçº¦ 1.5GBï¼Œä¸‹è½½éœ€è¦å‡ åˆ†é’Ÿï¼‰</span>
ollama pull qwen2.5:1.5b
</code></pre>
<p>ä¸‹è½½è¿‡ç¨‹ç¤ºä¾‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/50d4e27c4e0d4494aceba17e79023c6a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=QuwyRG4y91LzK2Q%2BxEqgAW%2F7a50%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-8">3.2 æŸ¥çœ‹å·²ä¸‹è½½çš„æ¨¡å‹</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ—å‡ºæ‰€æœ‰æ¨¡å‹</span>
ollama list
</code></pre>
<p>é¢„æœŸè¾“å‡ºï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">root@openEuler-ollama ~</span>]<span class="hljs-meta"># ollama list</span>
NAME            ID              SIZE      MODIFIED      
qwen2<span class="hljs-number">.5</span>:<span class="hljs-number">0.5b</span>    a8b0c5157701    <span class="hljs-number">397</span> MB    <span class="hljs-number">2</span> minutes ago    
</code></pre>
<hr/>
<h2 data-id="heading-9">ç¬¬å››æ­¥ï¼šåŸºç¡€åŠŸèƒ½æµ‹è¯•</h2>
<h3 data-id="heading-10">4.1 ç¬¬ä¸€æ¬¡è¿è¡Œæ¨¡å‹</h3>
<pre><code class="hljs language-arduino" lang="arduino"># è¿è¡Œæ¨¡å‹ï¼ˆäº¤äº’æ¨¡å¼ï¼‰
ollama run qwen2<span class="hljs-number">.5</span>:<span class="hljs-number">1.5b</span>
</code></pre>
<p>è¿›å…¥äº¤äº’ç•Œé¢åï¼Œæµ‹è¯•ä»¥ä¸‹é—®é¢˜ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53b81b5f663749cdad5f5b3122afa072~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=b130kr8M7i0S0qwZNE%2B0xJPYnrg%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-11">4.2 ä½¿ç”¨å‘½ä»¤è¡Œç›´æ¥æé—®ï¼ˆéäº¤äº’æ¨¡å¼ï¼‰</h3>
<pre><code class="hljs language-arduino" lang="arduino"># å•æ¬¡æé—®
 ollama run qwen2<span class="hljs-number">.5</span>:<span class="hljs-number">0.5b</span> <span class="hljs-string">"ç”¨ä¸€å¥è¯ä»‹ç» å¤§æ¨¡å‹"</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a5671e11a4542f48f93b9027c266737~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=NQLRC7kpo44pT0Sf%2F3fnLunlC48%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-12">ç¬¬äº”æ­¥ï¼šæ€§èƒ½æµ‹è¯•</h2>
<h3 data-id="heading-13">5.1 æ¨ç†é€Ÿåº¦æµ‹è¯•</h3>
<p><strong>åˆ›å»ºæµ‹è¯•è„šæœ¬ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºæµ‹è¯•ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p ~/ollama_test
<span class="hljs-built_in">cd</span> ~/ollama_test

<span class="hljs-comment"># åˆ›å»ºæ¨ç†é€Ÿåº¦æµ‹è¯•è„šæœ¬</span>
<span class="hljs-built_in">cat</span> &gt; test_inference_speed.sh &lt;&lt;<span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/bin/bash</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"========================================="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Ollama æ¨ç†é€Ÿåº¦æµ‹è¯•"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æµ‹è¯•æ—¶é—´: <span class="hljs-subst">$(date)</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"========================================="</span>

MODEL=<span class="hljs-string">"qwen2.5:1.5b"</span>

<span class="hljs-comment"># æµ‹è¯• 1ï¼šçŸ­é—®é¢˜</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"
ã€æµ‹è¯•1ã€‘çŸ­é—®é¢˜ï¼ˆ10å­—ä»¥å†…ï¼‰"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"é—®é¢˜ï¼šä»‹ç» å¤§æ¨¡å‹å«ä¹‰"</span>
time ollama run <span class="hljs-variable">$MODEL</span> <span class="hljs-string">"ä»‹ç» å¤§æ¨¡å‹çš„å«ä¹‰"</span> 2&gt;&amp;1 | <span class="hljs-built_in">tee</span> test1_output.txt

<span class="hljs-comment"># æµ‹è¯• 2ï¼šä¸­ç­‰é—®é¢˜</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"
ã€æµ‹è¯•2ã€‘ä¸­ç­‰é—®é¢˜ï¼ˆ50å­—å·¦å³ï¼‰"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"é—®é¢˜ï¼šè¯¦ç»†ä»‹ç» openEuler æ“ä½œç³»ç»Ÿçš„ç‰¹ç‚¹å’Œåº”ç”¨åœºæ™¯"</span>
time ollama run <span class="hljs-variable">$MODEL</span> <span class="hljs-string">"è¯¦ç»†ä»‹ç» openEuler æ“ä½œç³»ç»Ÿçš„ç‰¹ç‚¹å’Œåº”ç”¨åœºæ™¯"</span> 2&gt;&amp;1 | <span class="hljs-built_in">tee</span> test2_output.txt

<span class="hljs-comment"># æµ‹è¯• 3ï¼šé•¿é—®é¢˜</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"
ã€æµ‹è¯•3ã€‘é•¿é—®é¢˜ï¼ˆ100å­—ä»¥ä¸Šï¼‰"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"é—®é¢˜ï¼šä½œä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œæˆ‘æƒ³åœ¨ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®¹å™¨åŒ–åº”ç”¨ï¼Œè¯·å¯¹æ¯” Docker å’Œ Podman çš„ä¼˜ç¼ºç‚¹ï¼Œå¹¶ç»™å‡ºé€‰æ‹©å»ºè®®"</span>
time ollama run <span class="hljs-variable">$MODEL</span> <span class="hljs-string">"ä½œä¸ºç³»ç»Ÿç®¡ç†å‘˜ï¼Œæˆ‘æƒ³åœ¨ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²å®¹å™¨åŒ–åº”ç”¨ï¼Œè¯·å¯¹æ¯” Docker å’Œ Podman çš„ä¼˜ç¼ºç‚¹ï¼Œå¹¶ç»™å‡ºé€‰æ‹©å»ºè®®"</span> 2&gt;&amp;1 | <span class="hljs-built_in">tee</span> test3_output.txt

<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"
========================================="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æµ‹è¯•å®Œæˆï¼ç»“æœå·²ä¿å­˜åˆ°å½“å‰ç›®å½•"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"========================================="</span>
EOF

<span class="hljs-comment"># æ·»åŠ æ‰§è¡Œæƒé™</span>
<span class="hljs-built_in">chmod</span> +x test_inference_speed.sh

<span class="hljs-comment"># è¿è¡Œæµ‹è¯•</span>
./test_inference_speed.sh
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8bc08c3f6e44461a93e12c5b9dcce553~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=0kioAr7n2EseRiD18ZjM6iEsr10%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æµ‹è¯•å®Œæˆåï¼Œè®°å½•ä»¥ä¸‹æ•°æ®ï¼š</strong>
æ¯ä¸ªæµ‹è¯•çš„ real æ—¶é—´ï¼ˆæ€»è€—æ—¶ï¼‰
è¾“å‡ºæ–‡ä»¶ä¸­çš„ tokens/sï¼ˆæ¨ç†é€Ÿåº¦ï¼‰</p>
<hr/>
<h3 data-id="heading-14">5.2 èµ„æºå ç”¨æµ‹è¯•</h3>
<p>åˆ›å»ºèµ„æºç›‘æ§è„šæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºèµ„æºç›‘æ§è„šæœ¬</span>
<span class="hljs-built_in">cat</span> &gt; test_resource_usage.sh &lt;&lt;<span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/bin/bash</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"========================================="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Ollama èµ„æºå ç”¨æµ‹è¯•"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æµ‹è¯•æ—¶é—´: <span class="hljs-subst">$(date)</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"========================================="</span>

MODEL=<span class="hljs-string">"qwen2.5:1.5b"</span>

<span class="hljs-comment"># å¯åŠ¨åå°ç›‘æ§</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"
å¼€å§‹ç›‘æ§èµ„æºå ç”¨..."</span>

<span class="hljs-comment"># è·å– Ollama è¿›ç¨‹ PID</span>
OLLAMA_PID=$(pgrep -f <span class="hljs-string">"ollama serve"</span>)

<span class="hljs-keyword">if</span> [ -z <span class="hljs-string">"<span class="hljs-variable">$OLLAMA_PID</span>"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"é”™è¯¯ï¼šOllama æœåŠ¡æœªè¿è¡Œï¼"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"è¯·å…ˆè¿è¡Œï¼šnohup ollama serve &gt; /tmp/ollama.log 2&gt;&amp;1 &amp;"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"Ollama è¿›ç¨‹ PID: <span class="hljs-variable">$OLLAMA_PID</span>"</span>

<span class="hljs-comment"># è®°å½•åˆå§‹çŠ¶æ€</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"
ã€åˆå§‹çŠ¶æ€ã€‘ï¼ˆæ¨¡å‹æœªåŠ è½½ï¼‰"</span>
ps aux | grep ollama | grep -v grep
free -h

<span class="hljs-comment"># åŠ è½½æ¨¡å‹å¹¶æé—®</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"
ã€åŠ è½½æ¨¡å‹å¹¶æ¨ç†ã€‘"</span>
ollama run <span class="hljs-variable">$MODEL</span> <span class="hljs-string">"è¯¦ç»†ä»‹ç» è®¡ç®—æœº"</span> &gt; /dev/null &amp;
QUERY_PID=$!

<span class="hljs-comment"># ç­‰å¾… 3 ç§’è®©æ¨¡å‹åŠ è½½</span>
<span class="hljs-built_in">sleep</span> 3

<span class="hljs-comment"># è®°å½•è¿è¡Œæ—¶çŠ¶æ€</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"
ã€è¿è¡Œæ—¶çŠ¶æ€ã€‘ï¼ˆæ¨¡å‹å·²åŠ è½½ï¼‰"</span>
ps aux | grep ollama | grep -v grep
free -h

<span class="hljs-comment"># ä½¿ç”¨ top è®°å½• CPU ä½¿ç”¨ç‡ï¼ˆ5 ç§’ï¼‰</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"
ã€CPU ä½¿ç”¨ç‡ã€‘ï¼ˆé‡‡æ · 5 ç§’ï¼‰"</span>
top -b -n 5 -d 1 -p <span class="hljs-variable">$OLLAMA_PID</span> | grep ollama

<span class="hljs-comment"># ç­‰å¾…æŸ¥è¯¢å®Œæˆ</span>
<span class="hljs-built_in">wait</span> <span class="hljs-variable">$QUERY_PID</span>

<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"
========================================="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"èµ„æºæµ‹è¯•å®Œæˆï¼"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"========================================="</span>
EOF

<span class="hljs-comment"># æ·»åŠ æ‰§è¡Œæƒé™</span>
<span class="hljs-built_in">chmod</span> +x test_resource_usage.sh

<span class="hljs-comment"># è¿è¡Œæµ‹è¯•</span>
./test_resource_usage.sh
</code></pre>
<p><strong>è®°å½•ä»¥ä¸‹æ•°æ®ï¼š</strong>
åˆå§‹å†…å­˜å ç”¨ï¼ˆæ¨¡å‹æœªåŠ è½½ï¼‰
è¿è¡Œæ—¶å†…å­˜å ç”¨ï¼ˆæ¨¡å‹å·²åŠ è½½ï¼‰
CPU ä½¿ç”¨ç‡å³°å€¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d313d8e0cc3e430586e84c1db9cd3cb6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=VZyqAWkTQZj2Js%2BSnNy7Q21O7pg%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-15">ç¬¬å…­æ­¥ï¼šæ”¶é›†æµ‹è¯•æ•°æ®</h2>
<p>6.1 ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š</p>
<pre><code class="hljs language-javascript" lang="javascript"># åˆ›å»ºæŠ¥å‘Šç”Ÿæˆè„šæœ¬
cat &gt; generate_report.<span class="hljs-property">sh</span> &lt;&lt;<span class="hljs-string">'EOF'</span>
#!<span class="hljs-regexp">/bin/</span>bash

<span class="hljs-variable constant_">REPORT_FILE</span>=<span class="hljs-string">"ollama_test_report.txt"</span>

cat &gt; $REPORT_FILE &lt;&lt;<span class="hljs-variable constant_">REPORT</span>
========================================
openEuler + <span class="hljs-title class_">Ollama</span> æ€§èƒ½æµ‹è¯•æŠ¥å‘Š
========================================

ç”Ÿæˆæ—¶é—´: $(date)

----------------------------------------
<span class="hljs-number">1.</span> ç³»ç»Ÿç¯å¢ƒ
----------------------------------------
æ“ä½œç³»ç»Ÿ: $(cat /etc/os-release | grep <span class="hljs-string">"PRETTY_NAME"</span> | cut -d<span class="hljs-string">'"'</span> -f2)
å†…æ ¸ç‰ˆæœ¬: $(uname -r)
<span class="hljs-attr">CPU</span>: $(lscpu | grep <span class="hljs-string">"Model name"</span> | cut -d<span class="hljs-string">':'</span> -f2 | xargs)
<span class="hljs-variable constant_">CPU</span> æ ¸å¿ƒæ•°: $(nproc)
å†…å­˜: $(free -h | grep <span class="hljs-title class_">Mem</span> | awk <span class="hljs-string">'{print $2}'</span>)
ç£ç›˜: $(df -h / | tail -<span class="hljs-number">1</span> | awk <span class="hljs-string">'{print $2}'</span>)

----------------------------------------
<span class="hljs-number">2.</span> <span class="hljs-title class_">Ollama</span> ä¿¡æ¯
----------------------------------------
<span class="hljs-title class_">Ollama</span> ç‰ˆæœ¬: $(ollama --version <span class="hljs-number">2</span>&gt;<span class="hljs-regexp">/dev/</span><span class="hljs-literal">null</span> || echo <span class="hljs-string">"æœªå®‰è£…"</span>)
å·²ä¸‹è½½æ¨¡å‹:
$(ollama list <span class="hljs-number">2</span>&gt;<span class="hljs-regexp">/dev/</span><span class="hljs-literal">null</span> || echo <span class="hljs-string">"æ— "</span>)

----------------------------------------
<span class="hljs-number">3.</span> æµ‹è¯•æ–‡ä»¶æ¸…å•
----------------------------------------
$(ls -lh ~<span class="hljs-regexp">/ollama_test/</span> <span class="hljs-number">2</span>&gt;<span class="hljs-regexp">/dev/</span><span class="hljs-literal">null</span> || echo <span class="hljs-string">"æµ‹è¯•ç›®å½•ä¸å­˜åœ¨"</span>)

----------------------------------------
è¯´æ˜
----------------------------------------
è¯¦ç»†æµ‹è¯•ç»“æœè¯·æŸ¥çœ‹ ~<span class="hljs-regexp">/ollama_test/</span> ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼š
- test1_output.<span class="hljs-property">txt</span>: çŸ­é—®é¢˜æµ‹è¯•ç»“æœ
- test2_output.<span class="hljs-property">txt</span>: ä¸­ç­‰é—®é¢˜æµ‹è¯•ç»“æœ
- test3_output.<span class="hljs-property">txt</span>: é•¿é—®é¢˜æµ‹è¯•ç»“æœ
- query_*.<span class="hljs-property">txt</span>: æ‰¹é‡æµ‹è¯•ç»“æœ

========================================
<span class="hljs-variable constant_">REPORT</span>

echo <span class="hljs-string">"æŠ¥å‘Šå·²ç”Ÿæˆ: $REPORT_FILE"</span>
cat $REPORT_FILE
<span class="hljs-variable constant_">EOF</span>

chmod +x generate_report.<span class="hljs-property">sh</span>
./generate_report.<span class="hljs-property">sh</span>
</code></pre>
<hr/>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a304ad344a534c9a9a978fbaddd77375~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552044&amp;x-signature=1TVNwtaNTQKbR1ZQJV4p92M9ecU%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-diff" lang="diff">è¯´æ˜
<span class="hljs-comment">----------------------------------------</span>
è¯¦ç»†æµ‹è¯•ç»“æœè¯·æŸ¥çœ‹ ~/ollama_test/ ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼š
<span class="hljs-deletion">- test1_output.txt: çŸ­é—®é¢˜æµ‹è¯•ç»“æœ</span>
<span class="hljs-deletion">- test2_output.txt: ä¸­ç­‰é—®é¢˜æµ‹è¯•ç»“æœ</span>
<span class="hljs-deletion">- test3_output.txt: é•¿é—®é¢˜æµ‹è¯•ç»“æœ</span>
<span class="hljs-deletion">- query_*.txt: æ‰¹é‡æµ‹è¯•ç»“æœ</span>
</code></pre>
<hr/>
<p><strong>æµ‹è¯•æ•°æ®è®°å½•æ¨¡æ¿</strong></p>
<p>è¡¨2: æ¨¡å‹ä¿¡æ¯
æˆ‘ä»¬æµ‹è¯•äº† Qwen2.5 ç³»åˆ—çš„ä¸¤ä¸ªæ¨¡å‹ï¼Œå®ƒä»¬åœ¨æ¨¡å‹å¤§å°å’Œä¸‹è½½æ—¶é—´ä¸Šæœ‰æ˜æ˜¾å·®å¼‚ï¼š</p>




















<table><thead><tr><th>æ¨¡å‹åç§°</th><th>å¤§å°</th><th>ä¸‹è½½æ—¶é—´</th></tr></thead><tbody><tr><td>qwen2.5:0.5b</td><td>397 MB</td><td>çº¦ 30 ç§’</td></tr><tr><td>qwen2.5:1.5b</td><td>986 MB</td><td>çº¦ 1 åˆ†é’Ÿ</td></tr></tbody></table>
<hr/>
<p>è¡¨3: æ¨ç†é€Ÿåº¦æµ‹è¯•
ä¸ºäº†è¯„ä¼°æ¨¡å‹åœ¨ä¸åŒé—®é¢˜é•¿åº¦ä¸‹çš„è¡¨ç°ï¼Œæˆ‘ä»¬è®¾è®¡äº†ä¸‰ç»„æµ‹è¯•ï¼Œåˆ†åˆ«å¯¹åº”çŸ­ã€ä¸­ã€é•¿ä¸‰ç§é—®é¢˜ç±»å‹ã€‚</p>





























<table><thead><tr><th>æµ‹è¯•é¡¹</th><th>é—®é¢˜é•¿åº¦</th><th>æ€»è€—æ—¶(ç§’)</th><th>æ¨ç†é€Ÿåº¦(tokens/s)</th></tr></thead><tbody><tr><td>æµ‹è¯•1</td><td>çŸ­(10å­—)</td><td>48.8</td><td>6.5</td></tr><tr><td>æµ‹è¯•2</td><td>ä¸­(50å­—)</td><td>52</td><td>6.3</td></tr><tr><td>æµ‹è¯•3</td><td>é•¿(100å­—+)</td><td>70.3</td><td>6.8</td></tr></tbody></table>
<p><strong>å¹³å‡æ¨ç†é€Ÿåº¦</strong>: 6.5 tokens/s</p>
<hr/>
<p>è¡¨4: èµ„æºå ç”¨
èµ„æºå ç”¨æµ‹è¯•å¸®åŠ©æˆ‘ä»¬äº†è§£æ¨¡å‹è¿è¡Œæ—¶å¯¹ç³»ç»Ÿèµ„æºçš„éœ€æ±‚ï¼Œè¿™å¯¹äºç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è‡³å…³é‡è¦ã€‚</p>




















<table><thead><tr><th>çŠ¶æ€</th><th>å†…å­˜å ç”¨</th><th>CPU ä½¿ç”¨ç‡</th></tr></thead><tbody><tr><td>åˆå§‹çŠ¶æ€</td><td>153 MB</td><td>1.40%</td></tr><tr><td>è¿è¡Œæ—¶</td><td>1.17 GB</td><td>320%</td></tr></tbody></table>
<p><strong>è¯´æ˜</strong>: CPU ä½¿ç”¨ç‡ 320% è¡¨ç¤ºä½¿ç”¨äº†çº¦ 3.2 ä¸ª CPU æ ¸å¿ƒ</p>
<hr/>
<p>è¡¨5: æµ‹è¯•æ±‡æ€»
é€šè¿‡è¿ç»­æ‰§è¡Œå¤šä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è¯„ä¼°æ¨¡å‹çš„ç¨³å®šæ€§å’Œå¹³å‡è¡¨ç°ã€‚</p>





















<table><thead><tr><th>æŒ‡æ ‡</th><th>æ•°å€¼</th></tr></thead><tbody><tr><td>æµ‹è¯•é—®é¢˜æ•°</td><td>3</td></tr><tr><td>æ€»è€—æ—¶</td><td>171.1 ç§’</td></tr><tr><td>å¹³å‡è€—æ—¶</td><td>57 ç§’/é—®é¢˜</td></tr></tbody></table>
<h3 data-id="heading-16">openEuler èµ„æºç®¡ç†èƒ½åŠ›</h3>
<p><strong>èµ„æºå ç”¨åˆ†æ:
å†…å­˜å ç”¨åˆç†: 1.17 GB å¯¹äº 1.5B å‚æ•°æ¨¡å‹æ¥è¯´å±äºæ­£å¸¸æ°´å¹³
CPU åˆ©ç”¨ç‡é«˜: èƒ½å¤Ÿå……åˆ†åˆ©ç”¨å¤šæ ¸ CPUï¼ˆ3.2/6 æ ¸å¿ƒï¼‰ï¼Œæ— èµ„æºæµªè´¹
ç©ºé—²æ—¶è½»é‡: æœåŠ¡ç©ºé—²æ—¶ä»…å ç”¨ 153 MBï¼Œå¯¹ç³»ç»Ÿå½±å“æå°
èµ„æºéš”ç¦»: openEuler çš„ cgroup æœºåˆ¶ç¡®ä¿ Ollama ä¸ä¼šå½±å“å…¶ä»–æœåŠ¡</strong></p>
<h3 data-id="heading-17">openEuler çš„èµ„æºç®¡ç†ä¼˜åŠ¿</h3>
<p>**1.  æ™ºèƒ½è°ƒåº¦: è‡ªåŠ¨è¯†åˆ« CPU å¯†é›†å‹ä»»åŠ¡ï¼Œä¼˜å…ˆåˆ†é…è®¡ç®—èµ„æº
2.  å†…å­˜å‹ç¼©: æ”¯æŒå†…å­˜å‹ç¼©æŠ€æœ¯ï¼Œæå‡å†…å­˜åˆ©ç”¨ç‡</p>
<ol start="3">
<li>NUMA ä¼˜åŒ–: åœ¨å¤šå¤„ç†å™¨ç³»ç»Ÿä¸Šï¼ŒNUMA æ„ŸçŸ¥è°ƒåº¦æ€§èƒ½æ›´ä¼˜</li>
<li>ç›‘æ§ä¾¿æ·: ç³»ç»Ÿè‡ªå¸¦ atopã€htop ç­‰ç›‘æ§å·¥å…·ï¼Œä¾¿äºå®æ—¶è§‚å¯Ÿ**</li>
</ol>
<h2 data-id="heading-18">ç»“å°¾å°æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ¬¡å®è·µï¼Œæˆ‘ä»¬æˆåŠŸåœ¨ openEuler 25.09 ç³»ç»Ÿä¸Šéƒ¨ç½²äº†æœ¬åœ°å¤§æ¨¡å‹ï¼Œå¹¶å®Œæˆäº†ä¸€ç³»åˆ—æ€§èƒ½æµ‹è¯•ã€‚è™½ç„¶æµ‹è¯•ç¯å¢ƒé…ç½®ä¸é«˜ï¼ˆ7.2GB å†…å­˜ã€6 æ ¸ CPUï¼‰ï¼Œä½†æ•´ä¸ªè¿‡ç¨‹éå¸¸é¡ºåˆ©ï¼Œè¿™å……åˆ†è¯æ˜äº†ï¼š
<strong>âœ… éƒ¨ç½²æœ¬åœ°å¤§æ¨¡å‹å¹¶ä¸éœ€è¦é¡¶çº§é…ç½®
âœ… openEuler ç³»ç»Ÿå¯¹ AI åº”ç”¨çš„æ”¯æŒéå¸¸å‹å¥½
âœ… Ollama å·¥å…·ç®€å•æ˜“ç”¨ï¼Œé€‚åˆå¿«é€Ÿä¸Šæ‰‹</strong></p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote>
<h2 data-id="heading-19">ğŸš€å†™åœ¨æœ€å</h2>
<blockquote>
<p><strong>å¸Œæœ›æˆ‘çš„åˆ†äº«èƒ½å¤Ÿå¸®åŠ©åˆ°æ›´å¤šçš„äººï¼Œå¦‚æœè§‰å¾—æˆ‘çš„åˆ†äº«æœ‰å¸®åŠ©çš„è¯ï¼Œè¯·å¤§å®¶ä¸€é”®ä¸‰è¿æ”¯æŒä¸€ä¸‹å“¦~</strong>
<strong>â¤ï¸åŸåˆ›ä¸æ˜“ï¼ŒæœŸå¾…ä½ çš„å…³æ³¨ä¸æ”¯æŒ~
ç‚¹èµğŸ‘+æ”¶è—â­ï¸+è¯„è®ºâœï¸
ğŸ˜Šä¹‹åæˆ‘ä¼šç»§ç»­æ›´æ–°å‰ç«¯å­¦ä¹ å°çŸ¥è¯†ï¼Œå…³æ³¨æˆ‘ä¸è¿·è·¯~</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openEuler å¸¸ç”¨å¼€å‘å·¥å…·æ€§èƒ½å®æµ‹ï¼šPythonã€Node.jsã€Git è¿è¡Œæ•ˆç‡å¯¹æ¯”]]></title>    <link>https://juejin.cn/post/7580208715275206698</link>    <guid>https://juejin.cn/post/7580208715275206698</guid>    <pubDate>2025-12-05T15:40:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580208715275206698" data-draft-id="7580204190028136454" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openEuler å¸¸ç”¨å¼€å‘å·¥å…·æ€§èƒ½å®æµ‹ï¼šPythonã€Node.jsã€Git è¿è¡Œæ•ˆç‡å¯¹æ¯”"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-05T15:40:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°é­”å¥³åƒåƒé±¼"/> <meta itemprop="url" content="https://juejin.cn/user/4253360991250333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openEuler å¸¸ç”¨å¼€å‘å·¥å…·æ€§èƒ½å®æµ‹ï¼šPythonã€Node.jsã€Git è¿è¡Œæ•ˆç‡å¯¹æ¯”
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4253360991250333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°é­”å¥³åƒåƒé±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:40:59.000Z" title="Fri Dec 05 2025 15:40:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>æµ‹è¯•ç¯å¢ƒ</strong>ï¼šä¸ªäººç”µè„‘ç¯å¢ƒ</p>
<ul>
<li>æ“ä½œç³»ç»Ÿ: openEuler 25.09</li>
<li>CPU: Intel Core i5-14600KF (6æ ¸)</li>
<li>å†…å­˜: 7.2GB (å¯ç”¨ 6.3GB)</li>
<li>ç£ç›˜: 69GB (å·²ç”¨ 19%)
ä½œä¸ºæ–°ä¸€ä»£ä¼ä¸šçº§ç³»ç»Ÿï¼ŒopenEuler åœ¨è½¯ä»¶ç”Ÿæ€å’Œæ€§èƒ½ä¼˜åŒ–æ–¹é¢è¡¨ç°å¦‚ä½•ï¼Ÿæœ¬æ–‡é€šè¿‡å¯¹ Pythonã€Node.jsã€Git ä¸‰å¤§å¸¸ç”¨å¼€å‘å·¥å…·çš„æ€§èƒ½å®æµ‹ï¼Œç”¨çœŸå®æ•°æ®è¯´è¯ã€‚</li>
</ul>
<hr/>
<p>é•œåƒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.org%2Fen%2F" target="_blank" title="https://www.openeuler.org/en/" ref="nofollow noopener noreferrer">www.openeuler.org/en/</a> ç‚¹å‡»ç›´è¾¾</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/951583acc49641dfaf49f8ab2c64fc87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=dCxpECBXa75qQfbidA47h38kcag%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€æµ‹è¯•ç¯å¢ƒå‡†å¤‡</h2>
<h3 data-id="heading-1">1.1 ç³»ç»Ÿä¿¡æ¯ç¡®è®¤</h3>
<p>é¦–å…ˆç¡®è®¤ç³»ç»Ÿç‰ˆæœ¬å’Œç¡¬ä»¶é…ç½®ï¼Œç¡®ä¿æµ‹è¯•ç¯å¢ƒä¸€è‡´æ€§ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ç³»ç»Ÿç‰ˆæœ¬</span>
<span class="hljs-built_in">cat</span> /etc/os-release

<span class="hljs-comment"># æŸ¥çœ‹ CPU ä¿¡æ¯</span>
lscpu | <span class="hljs-built_in">head</span> -15

<span class="hljs-comment"># æŸ¥çœ‹å†…å­˜ä¿¡æ¯</span>
free -h

<span class="hljs-comment"># æŸ¥çœ‹ç£ç›˜ä¿¡æ¯</span>
<span class="hljs-built_in">df</span> -h
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/052aae316f0b402384b68e190cb94627~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=bX651x%2BYBC1MY8UH%2B9SuCRPKyPg%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba80db441ff847a1a0fa2e58793c5fb2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=JueZoUMmg2Tj2usCfSCexaDn514%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-2">1.2 å®‰è£…æµ‹è¯•å·¥å…·</h3>
<p>openEuler çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ DNF æä¾›äº†ä¸°å¯Œçš„è½¯ä»¶æºï¼Œå®‰è£…å¼€å‘å·¥å…·éå¸¸ä¾¿æ·ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æ›´æ–°è½¯ä»¶æºï¼ˆé¦–æ¬¡å»ºè®®æ‰§è¡Œï¼‰</span>
sudo dnf update -<span class="hljs-keyword">y</span>

<span class="hljs-comment"># å®‰è£… Python3 å’Œå¼€å‘å·¥å…·</span>
sudo dnf install -<span class="hljs-keyword">y</span> python3 python3-pip

<span class="hljs-comment"># å®‰è£… Node.js å’Œ npm</span>
sudo dnf install -<span class="hljs-keyword">y</span> nodejs npm

<span class="hljs-comment"># å®‰è£… Git</span>
sudo dnf install -<span class="hljs-keyword">y</span> git

<span class="hljs-comment"># å®‰è£…æ€§èƒ½ç›‘æ§å·¥å…·</span>
sudo dnf install -<span class="hljs-keyword">y</span> <span class="hljs-keyword">time</span> sysstat

<span class="hljs-comment"># éªŒè¯å®‰è£…ç‰ˆæœ¬</span>
python3 --version
node --version
npm --version
git --version
</code></pre>
<p>è¿™é‡Œä¸€ä¸ªä¸ªå®‰è£…æœ‰ç‚¹æ…¢ æˆ‘å»ºè®®æ˜¯ ä½ ä»¬è‡ªå·±å¼„æˆä¸€ä¸ªè„šæœ¬ä¸€ä»¶å®‰è£…</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/701e23ec96f74e21831a25bac4a323bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=bjUp5clLaE79oCwceV63rCdtgws%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™é‡Œå¯ä»¥çœ‹åˆ° æˆ‘ä»¬å®‰è£…å¹¶æ²¡æœ‰æŠ¥é”™ éƒ½æ˜¯æˆåŠŸå®‰è£…çš„ è¯´æ˜äº†ä»€ä¹ˆå‘¢ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ è½¯ä»¶æºå®Œæ•´ï¼Œæ— éœ€æ·»åŠ ç¬¬ä¸‰æ–¹æº</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/314d3fae638347d18409a44fb9a4f5c2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=XKpS76MQyuxHfnmChEue%2FG1tAo0%3D" alt="image.png" loading="lazy"/></p>
<p><strong>openEuler ä¼˜åŠ¿ä½“ç°ï¼š</strong></p>
<ul>
<li>âœ… è½¯ä»¶æºå®Œæ•´ï¼Œæ— éœ€æ·»åŠ ç¬¬ä¸‰æ–¹æº</li>
<li>âœ… å®‰è£…é€Ÿåº¦å¿«ï¼Œä¾èµ–è§£æå‡†ç¡®</li>
<li>âœ… é»˜è®¤æä¾›è¾ƒæ–°ç‰ˆæœ¬çš„å¼€å‘å·¥å…·</li>
</ul>
<hr/>
<h2 data-id="heading-3">äºŒã€Python æ€§èƒ½æµ‹è¯•</h2>
<p>å‰ææ‰€çŸ¥ ä»¥ä¸‹å‚æ•°çš„ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">real</span>    <span class="hljs-number">0</span>m0.<span class="hljs-number">052</span>s  <span class="hljs-comment"># å®é™…ç»è¿‡çš„æ€»æ—¶é—´ï¼ˆå¢™ä¸Šæ—¶é’Ÿæ—¶é—´ï¼‰</span>
user    <span class="hljs-number">0</span>m0.<span class="hljs-number">042</span>s  <span class="hljs-comment"># CPU åœ¨ç”¨æˆ·æ€æ‰§è¡Œçš„æ—¶é—´</span>
sys     <span class="hljs-number">0</span>m0.<span class="hljs-number">010</span>s  <span class="hljs-comment"># CPU åœ¨å†…æ ¸æ€æ‰§è¡Œçš„æ—¶é—´</span>
</code></pre>
<p>æ¯æ¬¡æµ‹è¯•éƒ½æœ‰è¿™æ ·çš„å‚æ•° å¤§å®¶è¦æ˜ç™½æ‰€å«ä¹‰</p>
<h3 data-id="heading-4">2.1 è®¡ç®—å¯†é›†å‹ä»»åŠ¡æµ‹è¯•</h3>
<p>åˆ›å»º Python æµ‹è¯•è„šæœ¬ï¼Œæ¨¡æ‹Ÿå®é™…å¼€å‘ä¸­çš„è®¡ç®—åœºæ™¯ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åˆ›å»ºæµ‹è¯•ç›®å½•</span>
mkdir -p ~/openeuler-test
cd ~/openeuler-test

<span class="hljs-comment"># åˆ›å»º Python æµ‹è¯•è„šæœ¬</span>
cat &gt; python_test.py &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> sys

<span class="hljs-keyword">def</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n</span>):
    <span class="hljs-string">"""æ–æ³¢é‚£å¥‘æ•°åˆ—è®¡ç®—ï¼ˆé€’å½’ï¼‰"""</span>
    <span class="hljs-keyword">if</span> n &lt;= <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> n
    <span class="hljs-keyword">return</span> fibonacci(n-<span class="hljs-number">1</span>) + fibonacci(n-<span class="hljs-number">2</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">prime_count</span>(<span class="hljs-params">limit</span>):
    <span class="hljs-string">"""è®¡ç®—æŒ‡å®šèŒƒå›´å†…çš„è´¨æ•°æ•°é‡"""</span>
    count = <span class="hljs-number">0</span>
    <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, limit):
        is_prime = <span class="hljs-literal">True</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, <span class="hljs-built_in">int</span>(num ** <span class="hljs-number">0.5</span>) + <span class="hljs-number">1</span>):
            <span class="hljs-keyword">if</span> num % i == <span class="hljs-number">0</span>:
                is_prime = <span class="hljs-literal">False</span>
                <span class="hljs-keyword">break</span>
        <span class="hljs-keyword">if</span> is_prime:
            count += <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> count

<span class="hljs-keyword">def</span> <span class="hljs-title function_">list_operation</span>():
    <span class="hljs-string">"""åˆ—è¡¨æ“ä½œæ€§èƒ½æµ‹è¯•"""</span>
    result = [i**<span class="hljs-number">2</span> <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1000000</span>)]
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">sum</span>(result)

<span class="hljs-comment"># æµ‹è¯•1ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æµ‹è¯•1ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—è®¡ç®—ï¼ˆé€’å½’æ·±åº¦35ï¼‰"</span>)
start = time.time()
result = fibonacci(<span class="hljs-number">35</span>)
elapsed = time.time() - start
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç»“æœ: <span class="hljs-subst">{result}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è€—æ—¶: <span class="hljs-subst">{elapsed:<span class="hljs-number">.3</span>f}</span> ç§’"</span>)

<span class="hljs-comment"># æµ‹è¯•2ï¼šè´¨æ•°è®¡ç®—</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æµ‹è¯•2ï¼šè´¨æ•°è®¡ç®—ï¼ˆèŒƒå›´ï¼š2-50000ï¼‰"</span>)
start = time.time()
result = prime_count(<span class="hljs-number">50000</span>)
elapsed = time.time() - start
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è´¨æ•°æ•°é‡: <span class="hljs-subst">{result}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è€—æ—¶: <span class="hljs-subst">{elapsed:<span class="hljs-number">.3</span>f}</span> ç§’"</span>)

<span class="hljs-comment"># æµ‹è¯•3ï¼šåˆ—è¡¨æ“ä½œ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"æµ‹è¯•3ï¼šåˆ—è¡¨æ¨å¯¼å¼ä¸æ±‚å’Œï¼ˆ100ä¸‡å…ƒç´ ï¼‰"</span>)
start = time.time()
result = list_operation()
elapsed = time.time() - start
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ç»“æœ: <span class="hljs-subst">{result}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"è€—æ—¶: <span class="hljs-subst">{elapsed:<span class="hljs-number">.3</span>f}</span> ç§’"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span> * <span class="hljs-number">50</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Python æµ‹è¯•å®Œæˆï¼"</span>)
EOF

<span class="hljs-comment"># èµ‹äºˆæ‰§è¡Œæƒé™</span>
chmod +x python_test.py
</code></pre>
<p>æ‰§è¡Œæ€§èƒ½æµ‹è¯•å¹¶è®°å½•ç³»ç»Ÿèµ„æºå ç”¨ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æ‰§è¡Œæµ‹è¯•ï¼ˆè®°å½•è¯¦ï¿½ï¿½æ—¶é—´ï¼‰</span>
/usr/bin/<span class="hljs-keyword">time</span> -v python3 python_test.py

<span class="hljs-comment"># æˆ–ä½¿ç”¨ time å‘½ä»¤æŸ¥çœ‹ç®€æ´è¾“å‡º</span>
<span class="hljs-keyword">time</span> python3 python_test.py
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4a41fd92bff54efc8536143df636dca9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=Tam%2BQIq%2B1hg7cwZJaNfrgKjOCuw%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-5">2.2 å†…å­˜å ç”¨åˆ†æ</h3>
<p>åœ¨æµ‹è¯•è¿è¡Œæ—¶ï¼Œå¦å¼€ä¸€ä¸ªç»ˆç«¯ç›‘æ§èµ„æºå ç”¨ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æ–¹æ³•1ï¼šä½¿ç”¨ top å®æ—¶ç›‘æ§</span>
top -b -n <span class="hljs-number">1</span> | <span class="hljs-keyword">grep</span> python

<span class="hljs-comment"># æ–¹æ³•2ï¼šä½¿ç”¨ ps æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯</span>
ps aux | <span class="hljs-keyword">grep</span> python3 | <span class="hljs-keyword">grep</span> -v <span class="hljs-keyword">grep</span>

<span class="hljs-comment"># æ–¹æ³•3ï¼šæµ‹è¯•æ—¶æŸ¥çœ‹ç³»ç»Ÿè´Ÿè½½</span>
uptime
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/25412b5633da44d8bdc5c14a09688e73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=QP%2FxfRQgEzT7m4cNzVuu89lybyE%3D" alt="image.png" loading="lazy"/></p>
<p><strong>openEuler æ€§èƒ½è¡¨ç°</strong></p>
<ul>
<li>âœ… Python è§£é‡Šå™¨å¯åŠ¨é€Ÿåº¦å¿«ï¼ˆçº¦0.02ç§’ï¼‰</li>
<li>âœ… è®¡ç®—å¯†é›†å‹ä»»åŠ¡ CPU åˆ©ç”¨ç‡é«˜ï¼ˆæ¥è¿‘100%ï¼‰</li>
<li>âœ… å†…å­˜ç®¡ç†é«˜æ•ˆï¼Œæ— å¼‚å¸¸å ç”¨</li>
</ul>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€Node.js æ€§èƒ½æµ‹è¯•</h2>
<h3 data-id="heading-7">3.1 å¼‚æ­¥ I/O æ€§èƒ½æµ‹è¯•</h3>
<p>åˆ›å»º Node.js æµ‹è¯•è„šæœ¬ï¼Œæµ‹è¯•å…¶å¼‚æ­¥å¤„ç†èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"># åˆ›å»º <span class="hljs-title class_">Node</span>.<span class="hljs-property">js</span> æµ‹è¯•è„šæœ¬
cat &gt; nodejs_test.<span class="hljs-property">js</span> &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">const</span> crypto = <span class="hljs-built_in">require</span>(<span class="hljs-string">'crypto'</span>);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"="</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">50</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æµ‹è¯•1ï¼šæ–‡ä»¶ I/O æ€§èƒ½ï¼ˆåˆ›å»º1000ä¸ªæ–‡ä»¶ï¼‰"</span>);
<span class="hljs-keyword">let</span> start = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();

<span class="hljs-comment">// åˆ›å»ºæµ‹è¯•ç›®å½•</span>
<span class="hljs-keyword">if</span> (!fs.<span class="hljs-title function_">existsSync</span>(<span class="hljs-string">'./test_files'</span>)) {
    fs.<span class="hljs-title function_">mkdirSync</span>(<span class="hljs-string">'./test_files'</span>);
}

<span class="hljs-comment">// å¼‚æ­¥åˆ›å»º1000ä¸ªæ–‡ä»¶</span>
<span class="hljs-keyword">let</span> promises = [];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {
    promises.<span class="hljs-title function_">push</span>(
        fs.<span class="hljs-property">promises</span>.<span class="hljs-title function_">writeFile</span>(
            <span class="hljs-string">`./test_files/test_<span class="hljs-subst">${i}</span>.txt`</span>,
            <span class="hljs-string">`è¿™æ˜¯æµ‹è¯•æ–‡ä»¶ <span class="hljs-subst">${i}</span>\n`</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">100</span>)
        )
    );
}

<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises).<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">let</span> elapsed = (<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - start) / <span class="hljs-number">1000</span>;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`åˆ›å»º1000ä¸ªæ–‡ä»¶è€—æ—¶: <span class="hljs-subst">${elapsed.toFixed(<span class="hljs-number">3</span>)}</span> ç§’`</span>);
    
    <span class="hljs-comment">// æµ‹è¯•2ï¼šåŠ å¯†è®¡ç®—</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">50</span>));
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æµ‹è¯•2ï¼šåŠ å¯†è®¡ç®—æ€§èƒ½ï¼ˆSHA256å“ˆå¸Œ10ä¸‡æ¬¡ï¼‰"</span>);
    start = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000</span>; i++) {
        crypto.<span class="hljs-title function_">createHash</span>(<span class="hljs-string">'sha256'</span>).<span class="hljs-title function_">update</span>(<span class="hljs-string">`test<span class="hljs-subst">${i}</span>`</span>).<span class="hljs-title function_">digest</span>(<span class="hljs-string">'hex'</span>);
    }
    
    elapsed = (<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - start) / <span class="hljs-number">1000</span>;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`è®¡ç®—10ä¸‡æ¬¡SHA256è€—æ—¶: <span class="hljs-subst">${elapsed.toFixed(<span class="hljs-number">3</span>)}</span> ç§’`</span>);
    
    <span class="hljs-comment">// æµ‹è¯•3ï¼šJSON å¤„ç†</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">50</span>));
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æµ‹è¯•3ï¼šJSON åºåˆ—åŒ–/ååºåˆ—åŒ–ï¼ˆ10ä¸‡æ¬¡ï¼‰"</span>);
    start = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    
    <span class="hljs-keyword">const</span> testObj = {
        <span class="hljs-attr">id</span>: <span class="hljs-number">12345</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">"openEuleræµ‹è¯•"</span>,
        <span class="hljs-attr">data</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>],
        <span class="hljs-attr">nested</span>: { <span class="hljs-attr">key</span>: <span class="hljs-string">"value"</span> }
    };
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100000</span>; i++) {
        <span class="hljs-keyword">const</span> json = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(testObj);
        <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(json);
    }
    
    elapsed = (<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - start) / <span class="hljs-number">1000</span>;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`JSONæ“ä½œ10ä¸‡æ¬¡è€—æ—¶: <span class="hljs-subst">${elapsed.toFixed(<span class="hljs-number">3</span>)}</span> ç§’`</span>);
    
    <span class="hljs-comment">// æ¸…ç†æµ‹è¯•æ–‡ä»¶</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"\n"</span> + <span class="hljs-string">"="</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">50</span>));
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ¸…ç†æµ‹è¯•æ–‡ä»¶..."</span>);
    fs.<span class="hljs-title function_">rmSync</span>(<span class="hljs-string">'./test_files'</span>, { <span class="hljs-attr">recursive</span>: <span class="hljs-literal">true</span> });
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Node.js æµ‹è¯•å®Œæˆï¼"</span>);
});
<span class="hljs-variable constant_">EOF</span>
</code></pre>
<p>æ‰§è¡Œæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æ‰§è¡Œ Node.js æµ‹è¯•</span>
/usr/bin/<span class="hljs-keyword">time</span> -v node nodejs_test.js

<span class="hljs-comment"># æˆ–ä½¿ç”¨ç®€æ´è¾“å‡º</span>
<span class="hljs-keyword">time</span> node nodejs_test.js
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de6f67112d8f4c0992d4d6f66dffd2db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=fz49pyQ0XxCT7cg73MuYCM2B8Zc%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-8">3.2 å¹¶å‘å¤„ç†èƒ½åŠ›æµ‹è¯•</h3>
<p>æµ‹è¯• Node.js çš„äº‹ä»¶å¾ªç¯æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># åˆ›å»ºå¹¶å‘æµ‹è¯•è„šæœ¬</span>
cat &gt; nodejs_concurrent.js &lt;&lt; 'EOF'
console.log("=".repeat(50))<span class="hljs-comment">;</span>
console.log("æµ‹è¯•4ï¼šäº‹ä»¶å¾ªç¯å¹¶å‘å¤„ç†ï¼ˆ100ä¸‡æ¬¡å¼‚æ­¥æ“ä½œï¼‰")<span class="hljs-comment">;</span>

const <span class="hljs-attr">start</span> = Date.now()<span class="hljs-comment">;</span>
let <span class="hljs-attr">completed</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>
const <span class="hljs-attr">total</span> = <span class="hljs-number">1000000</span><span class="hljs-comment">;</span>

for (let <span class="hljs-attr">i</span> = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; total; i++) {</span>
    setImmediate(() =&gt; {
        completed++<span class="hljs-comment">;</span>
        if (<span class="hljs-attr">completed</span> === total) {
            const <span class="hljs-attr">elapsed</span> = (Date.now() - start) / <span class="hljs-number">1000</span><span class="hljs-comment">;</span>
            console.log(`å®Œæˆ100ä¸‡æ¬¡å¼‚æ­¥æ“ä½œè€—æ—¶: ${elapsed.toFixed(3)} ç§’`)<span class="hljs-comment">;</span>
            console.log(`å¹³å‡æ¯ç§’å¤„ç†: ${(total / elapsed).toFixed(0)} æ¬¡`)<span class="hljs-comment">;</span>
        }
    })<span class="hljs-comment">;</span>
}
EOF

<span class="hljs-comment"># æ‰§è¡Œæµ‹è¯•</span>
time node nodejs_concurrent.js
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7665fd3790e4fcea06e71497d3997c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=Xmc6iVR%2FvqRbDPMizw4HZ8QKhjs%3D" alt="image.png" loading="lazy"/></p>
<p><strong>openEuler æ€§èƒ½è¡¨ç°</strong></p>
<ul>
<li>âœ… æ–‡ä»¶ I/O é€Ÿåº¦å¿«ï¼Œå¼‚æ­¥å¤„ç†æ•ˆç‡é«˜</li>
<li>âœ… åŠ å¯†è®¡ç®—æ€§èƒ½ä¼˜ç§€ï¼ˆå¾—ç›Šäºç³»ç»Ÿåº•å±‚ä¼˜åŒ–ï¼‰</li>
<li>âœ… äº‹ä»¶å¾ªç¯å“åº”è¿…é€Ÿï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯</li>
</ul>
<hr/>
<h2 data-id="heading-9">å››ã€Git æ€§èƒ½æµ‹è¯•</h2>
<h3 data-id="heading-10">4.1 ä»“åº“å…‹éš†é€Ÿåº¦æµ‹è¯•</h3>
<p>æµ‹è¯• Git çš„ç½‘ç»œå’Œç£ç›˜ I/O æ€§èƒ½ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»º Git æµ‹è¯•ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p ~/openeuler-test/git-test
<span class="hljs-built_in">cd</span> ~/openeuler-test/git-test

<span class="hljs-comment"># æµ‹è¯•1ï¼šå…‹éš†ä¸­å‹ä»“åº“ï¼ˆçº¦50MBï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æµ‹è¯•1ï¼šå…‹éš† Redis ä»“åº“"</span>
time git <span class="hljs-built_in">clone</span> https://gitee.com/mirrors/redis.git

<span class="hljs-comment"># æµ‹è¯•2ï¼šå…‹éš†å¤§å‹ä»“åº“ï¼ˆçº¦200MBï¼‰</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\næµ‹è¯•2ï¼šå…‹éš† Linux å†…æ ¸ä»“åº“ï¼ˆæµ…å…‹éš†ï¼‰"</span>
time git <span class="hljs-built_in">clone</span> --depth=1 https://gitee.com/mirrors/linux.git

<span class="hljs-comment"># æŸ¥çœ‹å…‹éš†ç»“æœ</span>
<span class="hljs-built_in">du</span> -sh redis
<span class="hljs-built_in">du</span> -sh linux
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9514a1a8fc4241218d6dbdcd6e335603~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=umaGQLrIB60PQ3Z5AP5Ofmlo5Qs%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc840ae6d7f246ed9847d1dd80278546~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=ika4UOtFDli1ZuRWrHXRJNYj9qs%3D" alt="image.png" loading="lazy"/></p>
<p>è§£å†³åŠæ³•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ¸…ç†ä¹‹å‰çš„å°è¯•</span>
<span class="hljs-built_in">cd</span> ~/git-test
<span class="hljs-built_in">rm</span> -rf linux

<span class="hljs-comment"># 2. æ¸…é™¤ Git å‡­æ®é…ç½®</span>
git config --global --<span class="hljs-built_in">unset</span> credential.helper

<span class="hljs-comment"># 3. é‡æ–°å…‹éš†ï¼ˆå¦‚æœè¦æ±‚è¾“å…¥ç”¨æˆ·åï¼Œç›´æ¥æŒ‰ Ctrl+Cï¼‰</span>
time git <span class="hljs-built_in">clone</span> --depth=1 https://gitee.com/mirrors/linux.git

<span class="hljs-comment"># å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œæ¢ç”¨ GitHub</span>
time git <span class="hljs-built_in">clone</span> --depth=1 https://github.com/torvalds/linux.git
</code></pre>
<hr/>
<h3 data-id="heading-11">4.2 æœ¬åœ°æ“ä½œæ€§èƒ½æµ‹è¯•</h3>
<p>æµ‹è¯• Git çš„æœ¬åœ°æ“ä½œæ•ˆç‡ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥æµ‹è¯•ä»“åº“</span>
<span class="hljs-built_in">cd</span> ~/openeuler-test/git-test/redis

<span class="hljs-comment"># æµ‹è¯•1ï¼šæŸ¥çœ‹æäº¤å†å²</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æµ‹è¯•1ï¼šæŸ¥çœ‹å®Œæ•´æäº¤å†å²"</span>
time git <span class="hljs-built_in">log</span> --oneline &gt; /dev/null

<span class="hljs-comment"># æµ‹è¯•2ï¼šæœç´¢ä»£ç </span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\næµ‹è¯•2ï¼šå…¨å±€ä»£ç æœç´¢"</span>
time git grep <span class="hljs-string">"redis"</span> &gt; /dev/null

<span class="hljs-comment"># æµ‹è¯•3ï¼šåˆ†æ”¯åˆ‡æ¢</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\næµ‹è¯•3ï¼šåˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯"</span>
time git checkout -b test-branch

<span class="hljs-comment"># æµ‹è¯•4ï¼šæ–‡ä»¶çŠ¶æ€æ£€æŸ¥</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\næµ‹è¯•4ï¼šæ£€æŸ¥ä»“åº“çŠ¶æ€"</span>
time git status

<span class="hljs-comment"># æµ‹è¯•5ï¼šå·®å¼‚å¯¹æ¯”</span>
<span class="hljs-built_in">echo</span> -e <span class="hljs-string">"\næµ‹è¯•5ï¼šæŸ¥çœ‹å†å²å·®å¼‚"</span>
time git diff HEAD~10 HEAD &gt; /dev/null
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c7f34fac0ab840f8984c6878aaa13a55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=s983HvIBj79djfHorHfIC28IxxI%3D" alt="image.png" loading="lazy"/></p>
<p><strong>openEuler æ€§èƒ½è¡¨ç°</strong>ï¼š</p>
<ul>
<li>âœ… Git å…‹éš†é€Ÿåº¦å¿«ï¼ˆç½‘ç»œå’Œç£ç›˜ I/O ä¼˜åŒ–ï¼‰</li>
<li>âœ… æœ¬åœ°æ“ä½œå“åº”è¿…é€Ÿï¼ˆæ–‡ä»¶ç³»ç»Ÿæ€§èƒ½ä¼˜ç§€ï¼‰</li>
<li>âœ… å¤§å‹ä»“åº“å¤„ç†èƒ½åŠ›å¼º</li>
</ul>
<hr/>
<h2 data-id="heading-12">äº”ã€ç»¼åˆæ€§èƒ½å¯¹æ¯”åˆ†æ</h2>
<h3 data-id="heading-13">5.1 æµ‹è¯•æ•°æ®æ±‡æ€»</h3>
<p>æ ¹æ®ä»¥ä¸Šæµ‹è¯•ï¼Œæ•´ç†å…³é”®æ€§èƒ½æŒ‡æ ‡ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">cat &gt; ~<span class="hljs-regexp">/openeuler-test/</span>performance_summary.<span class="hljs-property">sh</span> &lt;&lt; <span class="hljs-string">'EOF'</span>
#!<span class="hljs-regexp">/bin/</span>bash


 è¿™ä¸ªè„šæœ¬çš„å†…å®¹æˆ‘å°±ä¸è¾“å‡ºäº† è¿‡é•¿ å¤§å®¶çœ‹ä¸‹æ–¹çš„å®Œæ•´ è¯„æµ‹æŠ¥å‘Šå³å¯ï¼ï¼ï¼
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bbce53aff7a343dca56ed1885d80257e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=ryp324A87AvrLlnvZKcdnfZnOzQ%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56d0f83d533748d5bb78d1948db75eb8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP6a2U5aWz5Y2D5Y2D6bG8:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554059&amp;x-signature=h4Y%2F7qDEa7t3OnNGs9kgw9I8r8o%3D" alt="image.png" loading="lazy"/></p>
<p>ã€æµ‹è¯•ç»“è®ºã€‘
openEuler 25.09 åœ¨å¼€å‘å·¥å…·æ”¯æŒæ–¹é¢è¡¨ç°ä¼˜å¼‚ï¼š
âœ… è½¯ä»¶ç”Ÿæ€å®Œæ•´ - Python/Node.js/Git å¼€ç®±å³ç”¨
âœ… æ€§èƒ½è¡¨ç°ç¨³å®š - å¤šæ ¸ä¼˜åŒ–åˆ°ä½ï¼ŒCPUåˆ©ç”¨ç‡é«˜
âœ… èµ„æºå ç”¨åˆç† - å†…å­˜å ç”¨ä½ï¼Œé€‚åˆå¼€å‘ç¯å¢ƒ
âœ… å“åº”é€Ÿåº¦å¿« - æœ¬åœ°æ“ä½œæ¯«ç§’çº§ï¼Œç½‘ç»œæ“ä½œç¨³å®š
æ¨èç”¨äºï¼š
ğŸ¯ Web å¼€å‘ (Node.js å¼‚æ­¥æ€§èƒ½å‡ºè‰²)
ğŸ¯ æ•°æ®åˆ†æ (Python è®¡ç®—æ€§èƒ½ä¼˜ç§€)
ğŸ¯ ä»£ç ç®¡ç† (Git æ“ä½œæµç•…é«˜æ•ˆ)
ğŸ¯ ç”Ÿäº§éƒ¨ç½² (ç³»ç»Ÿç¨³å®šï¼Œèµ„æºå ç”¨ä½)</p>
<hr/>
<h3 data-id="heading-14">5.2 openEuler ç³»ç»Ÿä¼˜åŠ¿æ€»ç»“</h3>
<p>é€šè¿‡æœ¬æ¬¡å®æµ‹ï¼ŒopenEuler åœ¨å¼€å‘å·¥å…·æ”¯æŒæ–¹é¢å±•ç°å‡ºä»¥ä¸‹ä¼˜åŠ¿ï¼š
<strong>1. è½¯ä»¶ç”Ÿæ€ä¸°å¯Œ</strong>
å®˜æ–¹è½¯ä»¶æºåŒ…å«æ‰€æœ‰ä¸»æµå¼€å‘å·¥å…·
ç‰ˆæœ¬æ›´æ–°åŠæ—¶ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¯‘å®‰è£…
ä¾èµ–å…³ç³»æ¸…æ™°ï¼Œå®‰è£…è¿‡ç¨‹é¡ºç•…
<strong>2. æ€§èƒ½è¡¨ç°ä¼˜ç§€</strong>
Python è®¡ç®—æ€§èƒ½ä¸ä¸»æµå‘è¡Œç‰ˆæŒå¹³æˆ–æ›´ä¼˜
Node.js å¼‚æ­¥ I/O æ•ˆç‡é«˜ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯
Git æ“ä½œå“åº”å¿«é€Ÿï¼Œå¤§å‹ä»“åº“å¤„ç†èƒ½åŠ›å¼º
<strong>3. ç³»ç»Ÿç¨³å®šå¯é </strong>
æµ‹è¯•è¿‡ç¨‹æ— å´©æºƒã€æ— å¼‚å¸¸
èµ„æºå ç”¨åˆç†ï¼Œæ— å†…å­˜æ³„æ¼
åˆé•¿æœŸè¿è¡Œçš„å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒ
<strong>4. ä¼ä¸šçº§ç‰¹æ€§</strong>
å†…æ ¸ä¼˜åŒ–é’ˆå¯¹æœåŠ¡å™¨åœºæ™¯
å®‰å…¨æ›´æ–°åŠæ—¶ï¼Œç¤¾åŒºæ´»è·ƒ</p>
<hr/>
<h2 data-id="heading-15">æ€»ç»“</h2>
<p>æœ¬æ–‡é€šè¿‡å¯¹ Pythonã€Node.jsã€Git ä¸‰å¤§å¼€å‘å·¥å…·çš„å…¨æ–¹ä½æ€§èƒ½æµ‹è¯•ï¼ŒéªŒè¯äº† openEuler åœ¨è½¯ä»¶ç”Ÿæ€å’Œæ€§èƒ½ä¼˜åŒ–æ–¹é¢çš„å®åŠ›ã€‚æµ‹è¯•æ•°æ®è¡¨æ˜ï¼ŒopenEuler ä¸ä»…èƒ½æ»¡è¶³æ—¥å¸¸å¼€å‘éœ€æ±‚ï¼Œåœ¨æ€§èƒ½è¡¨ç°ä¸Šä¹Ÿè¾¾åˆ°äº†ä¼ä¸šçº§æ ‡å‡†ã€‚
<strong>å…³é”®æ•°æ®å›é¡¾ï¼š</strong>
âœ… Python è®¡ç®—å¯†é›†å‹ä»»åŠ¡æ€§èƒ½ç¨³å®šï¼Œå†…å­˜å ç”¨ä½
âœ… Node.js å¼‚æ­¥å¤„ç†æ•ˆç‡é«˜ï¼Œé€‚åˆ Web å¼€å‘
âœ… Git æ“ä½œå“åº”è¿…é€Ÿï¼Œå¤§å‹ä»“åº“å¤„ç†èƒ½åŠ›å¼º
âœ… ç³»ç»Ÿèµ„æºå ç”¨åˆç†ï¼Œç¨³å®šæ€§ä¼˜ç§€
å¯¹äºå¼€å‘è€…è€Œè¨€ï¼ŒopenEuler æ˜¯ä¸€ä¸ªå€¼å¾—ä¿¡èµ–çš„ç³»ç»Ÿé€‰æ‹©ï¼Œç‰¹åˆ«é€‚åˆï¼š
ğŸ¯ ä¼ä¸šçº§åº”ç”¨å¼€å‘
ğŸ¯ äº‘åŸç”Ÿåº”ç”¨éƒ¨ç½²
ğŸ¯ é«˜æ€§èƒ½è®¡ç®—åœºæ™¯</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote>
<h2 data-id="heading-16">ğŸš€å†™åœ¨æœ€å</h2>
<blockquote>
<p><strong>å¸Œæœ›æˆ‘çš„åˆ†äº«èƒ½å¤Ÿå¸®åŠ©åˆ°æ›´å¤šçš„äººï¼Œå¦‚æœè§‰å¾—æˆ‘çš„åˆ†äº«æœ‰å¸®åŠ©çš„è¯ï¼Œè¯·å¤§å®¶ä¸€é”®ä¸‰è¿æ”¯æŒä¸€ä¸‹å“¦~</strong>
<strong>â¤ï¸åŸåˆ›ä¸æ˜“ï¼ŒæœŸå¾…ä½ çš„å…³æ³¨ä¸æ”¯æŒ~
ç‚¹èµğŸ‘+æ”¶è—â­ï¸+è¯„è®ºâœï¸
ğŸ˜Šä¹‹åæˆ‘ä¼šç»§ç»­æ›´æ–°å‰ç«¯å­¦ä¹ å°çŸ¥è¯†ï¼Œå…³æ³¨æˆ‘ä¸è¿·è·¯~</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é“¶æ²³éº’éºŸV10 ç”³å¨æ¶æ„ docker-compose rpm åŒ…å®‰è£…æ•™ç¨‹ï¼ˆé™„å‘½ä»¤ï¼‰]]></title>    <link>https://juejin.cn/post/7580183671531274278</link>    <guid>https://juejin.cn/post/7580183671531274278</guid>    <pubDate>2025-12-05T12:28:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580183671531274278" data-draft-id="7580055720483602458" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é“¶æ²³éº’éºŸV10 ç”³å¨æ¶æ„ docker-compose rpm åŒ…å®‰è£…æ•™ç¨‹ï¼ˆé™„å‘½ä»¤ï¼‰"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2025-12-05T12:28:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·3118794559218"/> <meta itemprop="url" content="https://juejin.cn/user/2074157746238571"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é“¶æ²³éº’éºŸV10 ç”³å¨æ¶æ„ docker-compose rpm åŒ…å®‰è£…æ•™ç¨‹ï¼ˆé™„å‘½ä»¤ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2074157746238571/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·3118794559218
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:28:12.000Z" title="Fri Dec 05 2025 12:28:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<p>Â 1. å…ˆç¡®è®¤ç³»ç»Ÿç¯å¢ƒ</p>
<ul>
<li>ä½ æ˜¯Â <strong>ç”³å¨æ¶æ„</strong>ï¼ˆSW64ï¼‰ï¼Œåˆ«æé”™æˆ x86 æˆ– ARMã€‚</li>
<li>ç³»ç»Ÿæ˜¯Â <strong>é“¶æ²³éº’éºŸï¼ˆKylinï¼‰V10</strong>ï¼ŒåŒ…åé‡Œæœ‰Â <code>ky10</code>å°±æ˜¯å¯¹åº”è¿™ä¸ªç‰ˆæœ¬ã€‚</li>
<li>å…ˆçœ‹çœ‹æœ‰æ²¡æœ‰ root æƒé™ï¼Œæ²¡æœ‰çš„è¯è®°å¾—åŠ Â <code>sudo</code>ã€‚</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">uname</span> -m
<span class="hljs-comment"># åº”è¯¥èƒ½çœ‹åˆ° sw_64 æˆ–è€…ç±»ä¼¼çš„ç”³å¨æ ‡è¯†</span>
<span class="hljs-built_in">cat</span> /etc/os-release
<span class="hljs-comment"># çœ‹æ˜¯ä¸æ˜¯ Kylin V10</span>
</code></pre>
<hr/>
<h2 data-id="heading-0">2. å‡†å¤‡å¥½ rpm åŒ…</h2>
<p><strong>å®‰è£…åŒ…ä¸‹è½½ï¼š</strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fpan.quark.cn%2Fs%2F7a0a2221020f" title="https://pan.quark.cn/s/7a0a2221020f" target="_blank" ref="nofollow noopener noreferrer">pan.quark.cn/s/7a0a22210â€¦</a><br/>
ï¼ŒæŠŠÂ <code>docker-compose-1.22.0-2.ky10.noarch.rpm</code>ä¸‹è½½åˆ°æœåŠ¡å™¨ï¼Œæ¯”å¦‚æ”¾åˆ°Â <code>/tmp</code>ç›®å½•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /tmp
<span class="hljs-built_in">ls</span> docker-compose-1.22.0-2.ky10.noarch.rpm
</code></pre>
<p>ç¡®è®¤æ–‡ä»¶åœ¨ï¼Œæ²¡ç¼ºã€‚</p>
<hr/>
<h2 data-id="heading-1">3. æ£€æŸ¥ä¾èµ–</h2>
<p>è¿™ä¸ª rpm å¯èƒ½ä¾èµ– Docker æœ¬èº«æˆ–å…¶ä»–åº“ï¼Œå…ˆçœ‹çœ‹ç¼ºå•¥ï¼š</p>
<pre><code class="hljs">rpm -qpR docker-compose-1.22.0-2.ky10.noarch.rpm
</code></pre>
<p>å¦‚æœæç¤ºç¼ºä¸œè¥¿ï¼Œå°±å…ˆç”¨ yum æˆ– aptï¼ˆçœ‹ç³»ç»Ÿæºï¼‰è£…ä¸Šã€‚</p>
<p>ç”³å¨çš„æºé‡Œä¸€èˆ¬èƒ½ç›´æ¥è£…ï¼Œå¯ä»¥å…ˆè¯•è¯•ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">yum install -y <span class="hljs-tag">&lt;<span class="hljs-name">ç¼ºçš„åŒ…å</span>&gt;</span>
</code></pre>
<p>æˆ–è€…</p>
<pre><code class="hljs language-xml" lang="xml">dnf install -y <span class="hljs-tag">&lt;<span class="hljs-name">ç¼ºçš„åŒ…å</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-2">4. å®‰è£… rpm åŒ…</h2>
<p>ç›´æ¥ç”¨ rpm å‘½ä»¤è£…ï¼š</p>
<pre><code class="hljs">rpm -ivh docker-compose-1.22.0-2.ky10.noarch.rpm
</code></pre>
<ul>
<li><code>-i</code>æ˜¯å®‰è£…</li>
<li><code>-v</code>æ˜¾ç¤ºè¿‡ç¨‹</li>
<li><code>-h</code>æ˜¾ç¤ºè¿›åº¦æ¡</li>
</ul>
<p>å¦‚æœæŠ¥ä¾èµ–é”™è¯¯ï¼Œå¯ä»¥åŠ Â <code>--nodeps</code>å¼ºè¡Œè£…ï¼ˆä¸æ¨èï¼Œé™¤éä½ çŸ¥é“ä¸ä¼šæœ‰é—®é¢˜ï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">rpm -ivh <span class="hljs-attr">--nodeps</span> docker-compose-<span class="hljs-number">1.22</span>.<span class="hljs-number">0</span>-<span class="hljs-number">2</span><span class="hljs-selector-class">.ky10</span><span class="hljs-selector-class">.noarch</span><span class="hljs-selector-class">.rpm</span>
</code></pre>
<hr/>
<h2 data-id="heading-3">5. éªŒè¯å®‰è£…</h2>
<p>è£…å®Œçœ‹çœ‹èƒ½ä¸èƒ½æ‰¾åˆ°å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">which</span> docker-compose
<span class="hljs-comment"># æ­£å¸¸ä¼šè¿”å› /usr/bin/docker-compose ä¹‹ç±»è·¯å¾„</span>
docker-compose version
<span class="hljs-comment"># è¾“å‡ºç‰ˆæœ¬å· 1.22.0 å°±è¯´æ˜ OK</span>
</code></pre>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ­å¼€æµè§ˆå™¨åº•å±‚çš„ç§˜å¯†ï¼šä¸ºä»€ä¹ˆä¸€ä¸ª Chrome èƒ½è·‘è¿™ä¹ˆå¿«åˆè¿™ä¹ˆç¨³ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7580204190028201990</link>    <guid>https://juejin.cn/post/7580204190028201990</guid>    <pubDate>2025-12-05T15:56:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580204190028201990" data-draft-id="7580204190028120070" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ­å¼€æµè§ˆå™¨åº•å±‚çš„ç§˜å¯†ï¼šä¸ºä»€ä¹ˆä¸€ä¸ª Chrome èƒ½è·‘è¿™ä¹ˆå¿«åˆè¿™ä¹ˆç¨³ï¼Ÿ"/> <meta itemprop="keywords" content="æ¶æ„,æµè§ˆå™¨,æ“ä½œç³»ç»Ÿ"/> <meta itemprop="datePublished" content="2025-12-05T15:56:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é±¼é±¼å—"/> <meta itemprop="url" content="https://juejin.cn/user/4302802432307224"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ­å¼€æµè§ˆå™¨åº•å±‚çš„ç§˜å¯†ï¼šä¸ºä»€ä¹ˆä¸€ä¸ª Chrome èƒ½è·‘è¿™ä¹ˆå¿«åˆè¿™ä¹ˆç¨³ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4302802432307224/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é±¼é±¼å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:56:43.000Z" title="Fri Dec 05 2025 15:56:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">ğŸ§  æ­å¼€æµè§ˆå™¨åº•å±‚çš„ç§˜å¯†ï¼šä¸ºä»€ä¹ˆä¸€ä¸ª Chrome èƒ½è·‘è¿™ä¹ˆå¿«åˆè¿™ä¹ˆç¨³ï¼Ÿ</h2>
<p>å½“ä½ æ¯å¤©æ‰“å¼€ Chrome æµè§ˆå™¨ä¸Šç½‘æ—¶ï¼Œä¹Ÿè®¸æ²¡æœ‰æƒ³è¿‡ï¼š<br/>
<strong>ä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„æµè§ˆå™¨çª—å£èƒŒåï¼Œå…¶å®æ˜¯ä¸€ä¸ªå ªæ¯”æ“ä½œç³»ç»Ÿçš„å°å‹è½¯ä»¶å¸å›½ã€‚</strong></p>
<p>å®ƒå°±åƒä¸€åº§é«˜åº¦è‡ªåŠ¨åŒ–çš„å·¥å‚â€”â€”<br/>
å¤šä¸ªè½¦é—´ï¼ˆè¿›ç¨‹ï¼‰ã€æ¯ä¸ªè½¦é—´å†…éƒ¨åˆæœ‰æµæ°´çº¿ï¼ˆçº¿ç¨‹ï¼‰ï¼Œ<br/>
äº’ä¸å¹²æ‰°åˆç´§å¯†åä½œã€‚</p>
<h2 data-id="heading-1">ğŸšª ä¸€ã€æ‰“å¼€ Chrome çš„é‚£ä¸€åˆ»ï¼Œåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h2>
<p>å½“ä½ åŒå‡» Chrome å›¾æ ‡ï¼Œå°±ç›¸å½“äºå¯åŠ¨äº†ä¸€å®¶â€œæµè§ˆå™¨å·¥å‚â€ã€‚</p>
<p><strong>æ­¤æ—¶ä¼šåˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„ä¸»è¿›ç¨‹ï¼ˆBrowser Processï¼‰</strong></p>
<p>æˆ‘ä»¬æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œæ­¤æ—¶å‘ç°ä¸ºä»€ä¹ˆæœ‰é‚£ä¹ˆå¤šchromeï¼Œ<strong>â€œæˆ‘ä¸æ˜¯åªæ‰“å¼€äº†ä¸€ä¸ªå—â€</strong></p>
<p>äº‹å®ä¸Šï¼Œè¿™äº›ä¸åŒçš„chrome.exeä»£è¡¨ç€Chromeæµè§ˆå™¨çš„ä¸åŒ<strong>è¿›ç¨‹</strong>ï¼Œä»–ä»¬çš„<strong>PID</strong>ä¹Ÿä¸ä¸€æ ·
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34dbc09b66604a47a182d3aeb7409883~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765555003&amp;x-signature=u%2FKBkTjpFoWu1lOooo%2FeP3hMvNU%3D" alt="86344b599fcdffb7e41ebe4c4e94670.png" loading="lazy"/></p>
<p>ä¸»è¿›ç¨‹è´Ÿè´£ï¼š</p>
<ul>
<li>æ§åˆ¶æ•´åº§â€œå·¥å‚â€</li>
<li>æ‰“å¼€/å…³é—­æ ‡ç­¾é¡µ</li>
<li>ç®¡ç†å…¶ä»–è¿›ç¨‹ï¼ˆæ¸²æŸ“ã€ç½‘ç»œã€GPUâ€¦ï¼‰</li>
<li>è´Ÿè´£å¤–å£³ç•Œé¢ï¼ˆåœ°å€æ ã€ä¹¦ç­¾æ ï¼‰</li>
</ul>
<p>å¹¶ä¸”ä¼šé™†ç»­æ´¾ç”Ÿå‡ºå¤šä¸ªâ€œéƒ¨é—¨â€ï¼ˆå­è¿›ç¨‹ï¼‰ï¼š</p>
<ul>
<li>ğŸŒ ç½‘ç»œè¿›ç¨‹</li>
<li>ğŸ¨ æ¸²æŸ“è¿›ç¨‹</li>
<li>ğŸ–¥ GPU è¿›ç¨‹</li>
<li>ğŸ“¦ å­˜å‚¨è¿›ç¨‹</li>
<li>ğŸ”Œ æ’ä»¶è¿›ç¨‹</li>
</ul>
<p>Chromeæ­£æ˜¯é‡‡ç”¨äº†è¿™ç§<strong>å¤šè¿›ç¨‹æ¶æ„</strong>ä½¿å¾—å®ƒè·‘çš„åˆå¿«åˆç¨³</p>
<hr/>
<h2 data-id="heading-2">ğŸ­ äºŒã€ä¸ºä»€ä¹ˆ Chrome è¦é‡‡ç”¨ â€œå¤šè¿›ç¨‹æ¶æ„â€ï¼Ÿ</h2>
<p>å¯¹æ¯”ä¸€ä¸‹è¿‡å»çš„ IEï¼Œâ€œå•è¿›ç¨‹æµè§ˆå™¨â€æ˜¯ä»€ä¹ˆä½“éªŒï¼Ÿ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4453803976e9427594461db1d6ee608e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765555003&amp;x-signature=B9%2FiWHIk%2BG5oAJ09GqzoUnHsikM%3D" alt="0908c859e27c2d2da05e26570866c94.png" loading="lazy"/></p>
<p>æ‰€æœ‰å·¥ä½œéƒ½å †åˆ°ä¸€ä¸ªè¿›ç¨‹é‡Œï¼š</p>
<ul>
<li>é¡µé¢æ¸²æŸ“</li>
<li>JavaScript æ‰§è¡Œ</li>
<li>ç½‘ç»œè¯·æ±‚</li>
<li>æ’ä»¶åŠ è½½</li>
<li>UI æ˜¾ç¤º</li>
</ul>
<p>ç»“æœå°±æ˜¯ï¼š</p>
<blockquote>
<p>ä¸€ä¸ªé¡µé¢å¡æ­»ï¼Œå…¨æµè§ˆå™¨é™ªè‘¬ã€‚</p>
</blockquote>
<p>è¿™å°±åƒæ‰€æœ‰æœºå™¨åœ¨ä¸€é—´å±‹å­é‡Œï¼ŒæŸä¸ªæœºå°åäº†ï¼Œæ•´é—´å·¥å‚åœå·¥ã€‚</p>
<hr/>
<p>è€Œ Chrome åˆ™æ˜¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1a1475816154a7185c76ab9ee4e8180~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765555003&amp;x-signature=WPwfafFhc36C%2FtxgCrTxsVSnyQE%3D" alt="9e3e278699fa6bfc4e18e11ad3d66ac.png" loading="lazy"/></p>
<p>æ¯ä¸ªä¸»è¦åŠŸèƒ½åˆ†é…å•ç‹¬è¿›ç¨‹ï¼Œå„è‡ªç‹¬ç«‹ã€äº’ä¸å½±å“ï¼š</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>A é¡µé¢å´©äº†ï¼Œä¸å½±å“ B é¡µé¢</li>
<li>æ’ä»¶å´©æºƒï¼Œä¸å½±å“æ¸²æŸ“é¡µé¢</li>
<li>GPU æŒ‚æ‰ï¼Œä¸ä¼šå¯¼è‡´æµè§ˆå™¨å…³é—­</li>
</ul>
<p>Chrome é‡‡ç”¨å¤šè¿›ç¨‹åï¼Œå®ç°äº†ä¸‰ä¸ªå…³é”®ç›®æ ‡ï¼š</p>





















<table><thead><tr><th>å¥½å¤„</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td><strong>æ›´ç¨³å®š</strong></td><td>å•ä¸ªè¿›ç¨‹å´©æºƒè¢«éš”ç¦»</td></tr><tr><td><strong>æ›´å®‰å…¨</strong></td><td>è¿›ç¨‹æ²™ç›’åŒ–ï¼Œç½‘é¡µæ— æ³•ç›´æ¥æ“ä½œç”¨æˆ·æ–‡ä»¶</td></tr><tr><td><strong>æ›´æµç•…</strong></td><td>å¤§ä»»åŠ¡å¯åˆ†æ•£åˆ°ä¸åŒ CPU æ ¸å¿ƒä¸Š</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-3">ğŸ” ä¸‰ã€Chrome ä¸­åˆ°åº•æœ‰å“ªäº›è¿›ç¨‹ï¼Ÿ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4c55dc9e168d4b53a87d6e18b45244e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765555003&amp;x-signature=ua7qUOMbPJePpZSZWTnWfJ7FNrc%3D" alt="2643d344ae617e1663f9f91521eccec.png" loading="lazy"/></p>
<h3 data-id="heading-4">1ï¼‰æµè§ˆå™¨ä¸»è¿›ç¨‹ï¼ˆBrowser Processï¼‰â€”â€”å¤§æ€»ç®¡</h3>
<p>æ‰€æœ‰æ ‡ç­¾é¡µã€æ’ä»¶ã€ä¸‹è½½å™¨ã€å†å²è®°å½•ç®¡ç†â€¦â€¦<br/>
éƒ½å½’ä»–ç®¡ã€‚</p>
<p>è¿™æ˜¯ Chrome çš„å¤§è„‘ã€‚</p>
<hr/>
<h3 data-id="heading-5">2ï¼‰æ¸²æŸ“è¿›ç¨‹ï¼ˆRenderer Processï¼‰â€”â€”æŠŠç½‘é¡µç”»å‡ºæ¥</h3>
<p>æ¯ä¸€ä¸ªæ ‡ç­¾é¡µ <strong>é»˜è®¤ä¸€ä¸ªç‹¬ç«‹æ¸²æŸ“è¿›ç¨‹</strong>ï¼š</p>
<p>æ¸²æŸ“è¿›ç¨‹åŒ…å«ä¸¤ä¸ªæ¨¡å—ï¼š</p>
<h4 data-id="heading-6">ğŸ”¹ Blink æ’ç‰ˆå¼•æ“</h4>
<ul>
<li>è§£æ HTML / CSS</li>
<li>è®¡ç®—å¸ƒå±€</li>
<li>ç»˜åˆ¶é¡µé¢</li>
</ul>
<h4 data-id="heading-7">ğŸ”¹ V8 JavaScript å¼•æ“</h4>
<ul>
<li>æ‰§è¡Œé¡µé¢ JS</li>
<li>æ‰§è¡Œ DOM æ“ä½œ</li>
<li>æ‰§è¡Œäº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰</li>
</ul>
<p>æ¸²æŸ“è¿›ç¨‹æœ¬è´¨ä¸Šåšä¸€ä»¶äº‹ï¼š</p>
<blockquote>
<p>æŠŠä»£ç å˜æˆå¯äº¤äº’ç½‘é¡µã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-8">3ï¼‰GPU è¿›ç¨‹â€”â€”å¸®ä½ åŠ é€ŸåŠ¨ç”»ã€3Dã€æ¸²æŸ“ç­‰</h3>
<p>Chrome åæ¥åŠ å…¥ <strong>GPU è¿›ç¨‹</strong>ï¼Œç”¨æ˜¾å¡æ¥å¤„ç†ï¼š</p>
<ul>
<li>CSS åŠ¨ç”»</li>
<li>WebGL</li>
<li>Canvas ç»˜åˆ¶</li>
<li>é¡µé¢åˆæˆ</li>
</ul>
<p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆç°åœ¨ç½‘é¡µæ»šåŠ¨ã€åŠ¨ç”»éƒ½éå¸¸ä¸æ»‘ã€‚</p>
<hr/>
<h3 data-id="heading-9">4ï¼‰ç½‘ç»œè¿›ç¨‹ï¼ˆNetwork Serviceï¼‰</h3>
<p>è´Ÿè´£æ‰€æœ‰ï¼š</p>
<ul>
<li>DNS</li>
<li>HTTP / HTTPS</li>
<li>ä¸‹è½½èµ„æº</li>
<li>ä¸Šä¼ æ•°æ®</li>
</ul>
<p>è¿™æ ·ï¼š</p>
<blockquote>
<p>å³ä½¿æ¸²æŸ“è¿›ç¨‹å¡ä½ï¼Œç½‘ç»œä¾æ—§æ­£å¸¸è¿›è¡Œã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-10">5ï¼‰å­˜å‚¨è¿›ç¨‹ï¼ˆStorage Serviceï¼‰</h3>
<p>åŒ…æ‹¬ï¼š</p>
<ul>
<li>Cookies</li>
<li>LocalStorage</li>
<li>IndexedDB</li>
<li>ç¼“å­˜ Cache</li>
</ul>
<p>ç‹¬ç«‹ç®¡ç†çš„å¥½å¤„æ˜¯ï¼š</p>
<blockquote>
<p>æ¸²æŸ“è¿›ç¨‹å³ä½¿å´©æºƒäº†ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-11">6ï¼‰æ’ä»¶è¿›ç¨‹ï¼ˆPlugin Processï¼‰</h3>
<p>ç”¨äºè¿è¡Œï¼š</p>
<ul>
<li>Flashï¼ˆå·²è¢«æ·˜æ±°ï¼‰</li>
<li>PDF Viewer</li>
<li>ç¬¬ä¸‰æ–¹æ‰©å±•çš„ä¸€äº›é€»è¾‘</li>
</ul>
<p>æ’ä»¶å¯¼è‡´æµè§ˆå™¨å´©æºƒçš„æ—¶ä»£å·²ç»è¿‡å»ã€‚</p>
<hr/>
<h2 data-id="heading-12">ğŸ§µ å››ã€è¿›ç¨‹ vs çº¿ç¨‹ï¼šå®ƒä»¬çš„åˆ†å·¥æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¼•å…¥çº¿ç¨‹çš„æ¦‚å¿µï¼š</p>
<p><strong>çº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­å¯è¢«æ“ä½œç³»ç»Ÿè°ƒåº¦çš„æœ€å°æ‰§è¡Œå•å…ƒ</strong></p>
<p>å¦‚æœè¯´ï¼š</p>
<p><strong>è¿›ç¨‹ï¼š</strong> å·¥å‚çš„ä¸€ä¸ªè½¦é—´ï¼ˆéš”ç¦»ã€å®‰å…¨ï¼‰<br/>
<strong>çº¿ç¨‹ï¼š</strong> è½¦é—´é‡Œçš„å·¥äººï¼ˆæ‰§è¡Œä»»åŠ¡ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae7f0477f3bb4e3faacaa5692b4688cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765555003&amp;x-signature=YMas0BgxcwyDXlTNmk8zfKgGN0I%3D" alt="1340bdb953cec536a0daad523fb7517.png" loading="lazy"/></p>
<p>æ¸²æŸ“è¿›ç¨‹å†…éƒ¨æœ‰å¤šæ¡çº¿ç¨‹ï¼š</p>
<ul>
<li><strong>ä¸»çº¿ç¨‹ï¼ˆæ‰§è¡Œ JSã€å¸ƒå±€ã€æ¸²æŸ“ï¼‰</strong></li>
<li><strong>åˆæˆçº¿ç¨‹ï¼ˆç»˜åˆ¶å›¾å±‚ï¼‰</strong></li>
<li><strong>å…‰æ …çº¿ç¨‹ï¼ˆä½å›¾ç”Ÿæˆï¼‰</strong></li>
<li><strong>IO çº¿ç¨‹ï¼ˆç½‘ç»œã€æ–‡ä»¶ç­‰å¼‚æ­¥ä»»åŠ¡ï¼‰</strong></li>
</ul>
<p>JS æ˜¯å•çº¿ç¨‹çš„ï¼Œä½†æ¸²æŸ“è¿›ç¨‹ä¸æ˜¯ã€‚</p>
<hr/>
<h2 data-id="heading-13">ğŸ” äº”ã€æ¯ä¸€ä¸ªæ ‡ç­¾é¡µéƒ½æ˜¯ç‹¬ç«‹è¿›ç¨‹å—ï¼Ÿ</h2>
<p>å½“æˆ‘ä»¬åªæœ‰ä¸€ä¸ªæ ‡ç­¾é¡µæ—¶ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56dfcfa66e5f463daaa3d1ec7b14c6c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765555003&amp;x-signature=m1vzcRfTAKiELBZ6plSnTPPF%2FSI%3D" alt="726682005d37fc780c193f645c627c6.png" loading="lazy"/>
è€Œå½“æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªæ–°çš„æ ‡ç­¾é¡µæ—¶ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b3e795e5ab747dcadd447334a89b143~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765555003&amp;x-signature=qOWw8HrvBEaXqfCstTVLryw2J30%3D" alt="6f8c0818e23122cfb575926982ccbb8.png" loading="lazy"/>
æ­¤æ—¶æ¯ä¸ªæ ‡ç­¾é¡µçš„è¿›ç¨‹æ˜¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0ec9c6c565d4499ea55affe7708698f6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765555003&amp;x-signature=RpAWreoh2HVFKXdC%2FWaHvNyDsvo%3D" alt="0db291bc7f2851acfa14e49f1c0b513.png" loading="lazy"/></p>
<p>è¿™äº›æ˜¾ç¤ºäº†ï¼š</p>
<ul>
<li>æ¯ä¸ªæ ‡ç­¾é¡µæ˜¯ç‹¬ç«‹è¿›ç¨‹</li>
<li>æ¯ä¸ªå·¥å…·ã€æ’ä»¶éƒ½æœ‰ç‹¬ç«‹è¿›ç¨‹</li>
<li>Network / GPU / Storage éƒ½ç‹¬ç«‹</li>
</ul>
<p>æ‰“å¼€Chrome ä»»åŠ¡ç®¡ç†å™¨èƒ½å¾ˆå¥½çš„æ¸…æ¥šåœ°å±•ç¤ºå†…éƒ¨ç»“æ„ã€‚</p>
<hr/>
<h2 data-id="heading-14">ğŸ§  å…­ã€å•è¿›ç¨‹ vs å¤šè¿›ç¨‹ï¼šä¸ºä»€ä¹ˆå·®è·é‚£ä¹ˆå¤§ï¼Ÿ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0fa9932e7e4b4679bb90e5b6a62b5126~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6bG86bG85Z2X:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765555003&amp;x-signature=%2BCmOCNnM7pFXv5sIZJDu3XhPJn0%3D" alt="1340bdb953cec536a0daad523fb7517.png" loading="lazy"/></p>
<h3 data-id="heading-15">ğŸ”¹å•è¿›ç¨‹æµè§ˆå™¨ï¼ˆIEï¼‰</h3>
<p>æ‰€æœ‰ä»»åŠ¡æ’é˜Ÿæ‰§è¡Œï¼š</p>
<ul>
<li>JS æ‰§è¡Œé˜»å¡</li>
<li>æ¸²æŸ“é˜»å¡</li>
<li>ç½‘ç»œé˜»å¡</li>
<li>ç”¨æˆ·äº¤äº’é˜»å¡</li>
</ul>
<p>åªè¦æœ‰ä¸€ä¸ªç¯èŠ‚å¡ä½ï¼Œå…¨å¡ã€‚</p>
<hr/>
<h3 data-id="heading-16">ğŸ”¹å¤šè¿›ç¨‹æµè§ˆå™¨ï¼ˆChromeï¼‰</h3>
<p>å¤šä¸ªçº¿ç¨‹ã€å¤šä¸ªè¿›ç¨‹ååŒå¤„ç†ï¼š</p>
<ul>
<li>JS æ‰§è¡Œä¸å†é˜»å¡æ¸²æŸ“</li>
<li>ç½‘ç»œå’Œæ¸²æŸ“åˆ†ç¦»</li>
<li>é¡µé¢å´©æºƒä¸ä¼šå½±å“æ•´ä¸ªæµè§ˆå™¨</li>
<li>åˆ©ç”¨å¤šæ ¸ CPU å®ç°çœŸæ­£çš„å¹¶è¡Œ</li>
</ul>
<p>æµè§ˆå™¨ä»â€œå•æ ¸å‘åŠ¨æœºâ€å˜æˆâ€œå¤šå¼•æ“æˆ˜æ–—æœºâ€ã€‚</p>
<hr/>
<h2 data-id="heading-17">ğŸ¯ ä¸ƒã€æ€»ç»“ï¼šä¸ºä»€ä¹ˆ Chrome èƒ½è¿™ä¹ˆå¿«ã€è¿™ä¹ˆç¨³ï¼Ÿ</h2>
<p>Chrome çš„åº•å±‚æœ¬è´¨æ˜¯ä¸€ç§ï¼š</p>
<blockquote>
<p><strong>â€œæ“ä½œç³»ç»Ÿçº§çš„æ¶æ„â€â€”â€”ç½‘é¡µæ˜¯åº”ç”¨ï¼Œæ¸²æŸ“è¿›ç¨‹æ˜¯æ²™ç›’ã€‚</strong></p>
</blockquote>
<p>å¾—ç›Šäºï¼š</p>
<ul>
<li><strong>å¤šè¿›ç¨‹éš”ç¦»</strong></li>
<li><strong>å¤šçº¿ç¨‹å¹¶è¡Œ</strong></li>
<li><strong>GPU åŠ é€Ÿ</strong></li>
<li><strong>V8 é«˜æ€§èƒ½ JS å¼•æ“</strong></li>
<li><strong>Blink é«˜é€Ÿæ¸²æŸ“å¼•æ“</strong></li>
</ul>
<p>Chrome æ‰èƒ½åšåˆ°ï¼š</p>
<ul>
<li><strong>ç¨³å®š</strong></li>
<li><strong>æµç•…</strong></li>
<li><strong>å®‰å…¨</strong></li>
<li><strong>é«˜æ€§èƒ½</strong></li>
</ul>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ æ‰“å¼€ä¸€ä¸ªç½‘é¡µï¼Œèƒ½çœ‹åˆ°è¿™ä¹ˆå¤šè¿›ç¨‹ï¼š</p>
<p><strong>Chrome å…¶å®ä¸æ˜¯æµè§ˆå™¨ï¼Œæ˜¯ä¸€ä¸ªå°å‹æ“ä½œç³»ç»Ÿã€‚</strong></p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[super()è°ƒç”¨å’Œçˆ¶ç±»åè°ƒç”¨çš„åŒºåˆ«]]></title>    <link>https://juejin.cn/post/7580196545287733302</link>    <guid>https://juejin.cn/post/7580196545287733302</guid>    <pubDate>2025-12-05T11:16:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580196545287733302" data-draft-id="7579934463591137316" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="super()è°ƒç”¨å’Œçˆ¶ç±»åè°ƒç”¨çš„åŒºåˆ«"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-05T11:16:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èµ·æ¥_æ•²ä»£ç "/> <meta itemprop="url" content="https://juejin.cn/user/151058882762203"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            super()è°ƒç”¨å’Œçˆ¶ç±»åè°ƒç”¨çš„åŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/151058882762203/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èµ·æ¥_æ•²ä»£ç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T11:16:04.000Z" title="Fri Dec 05 2025 11:16:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å­ç±»è°ƒç”¨çˆ¶ç±»çš„ä¸¤ç§æ–¹æ³•ï¼š</h2>
<pre><code class="hljs language-bash" lang="bash">æ–¹æ³•1ï¼š
çˆ¶ç±»å.çˆ¶ç±»æ–¹æ³•å()
<span class="hljs-comment"># å¯ä»¥è°ƒç”¨å¤šä¸ªçˆ¶ç±»çš„æ–¹æ³•</span>
</code></pre>
<pre><code class="hljs language-scss" lang="scss">æ–¹æ³•<span class="hljs-number">2</span>ï¼š
super().çˆ¶ç±»æ–¹æ³•å()
# åªèƒ½è°ƒç”¨ç¬¬ä¸€ä¸ªçˆ¶ç±»çš„æ–¹æ³•
</code></pre>
<h4 data-id="heading-1">ä¸ºä»€ä¹ˆä¸ç”¨<code>æ–¹æ³•2</code>å®Œå…¨æ›¿ä»£<code>æ–¹æ³•1</code>ï¼Ÿ</h4>
<ol>
<li><code>çˆ¶ç±»å.çˆ¶ç±»æ–¹æ³•å()</code>ä¸é€‚ç”¨äºå¤šç»§æ‰¿çš„æƒ…å†µã€‚</li>
</ol>
<pre><code class="hljs language-å¤šç»§æ‰¿" lang="å¤šç»§æ‰¿">æ–¹æ³•ä¸€ï¼š
class A(object):
    def __init__(self):
        print('Aåˆå§‹åŒ–')

class B(A):
    def __init__(self):
        A.__init__(self)
        print('Båˆå§‹åŒ–')

class C(A):
    def __init__(self):
        A.__init__(self)
        print('Cåˆå§‹åŒ–')

class D(B,C):
    def __init__(self):
        B.__init__(self)
        C.__init__(self)
        print('Dåˆå§‹åŒ–')

if __name__ == '__main__':
    d = D()

</code></pre>
<pre><code class="hljs language-è¾“å‡ºç»“æœ" lang="è¾“å‡ºç»“æœ">è¾“å‡ºç»“æœï¼š
Aåˆå§‹åŒ–	#ç¬¬ä¸€æ¬¡è°ƒç”¨
Båˆå§‹åŒ–
Aåˆå§‹åŒ–	#ç¬¬äºŒæ¬¡è°ƒç”¨ï¼Œé‡å¤è°ƒç”¨
Cåˆå§‹åŒ–
Dåˆå§‹åŒ–
</code></pre>
<p><strong>å¯ä»¥çœ‹åˆ°Aè¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œå¯èƒ½ä¼šå¼•å‘æ•°æ®é‡å¤åˆå§‹åŒ–ï¼Œèµ„æºæµªè´¹ç”šè‡³æ˜¯é”™è¯¯ã€‚</strong></p>
<pre><code class="hljs language-å¤šç»§æ‰¿" lang="å¤šç»§æ‰¿">æ–¹æ³•äºŒï¼š
class A(object):
    def __init__(self):
        print('Aåˆå§‹åŒ–')

class B(A):
    def __init__(self):
        super().__init__()
        print('Båˆå§‹åŒ–')

class C(A):
    def __init__(self):
        super().__init__()
        print('Cåˆå§‹åŒ–')

class D(B,C):
    def __init__(self):
        # è‡ªåŠ¨æŒ‰ MRO é¡ºåºè°ƒç”¨ï¼Œåªè°ƒç”¨ä¸€æ¬¡ A.__init__
        super().__init__()
        print('Dåˆå§‹åŒ–')

if __name__ == '__main__':
    d = D()
</code></pre>
<pre><code class="hljs language-è¾“å‡ºç»“æœ" lang="è¾“å‡ºç»“æœ">è¾“å‡ºç»“æœï¼š
Aåˆå§‹åŒ–
Cåˆå§‹åŒ–
Båˆå§‹åŒ–
Dåˆå§‹åŒ–
</code></pre>
<p><strong>ä½¿ç”¨super()ï¼ŒAåªè¢«åˆå§‹åŒ–äº†ä¸€æ¬¡ï¼Œéµå¾ªæ–¹æ³•è§£æé¡ºåºï¼ˆMROï¼‰ã€‚</strong></p>
<ol start="2">
<li><code>çˆ¶ç±»å.çˆ¶ç±»æ–¹æ³•å()</code>ä¼šå¯¼è‡´ä»£ç è€¦åˆæ€§å¼ºï¼Œå¦‚æœçˆ¶ç±»æ”¹åæˆ–è€…ç»§æ‰¿ç»“æ„å˜åŠ¨ï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹å­ç±»è°ƒç”¨ã€‚</li>
</ol>
<p><strong>super()æ˜¯åŠ¨æ€çš„ï¼Œä¼šæ ¹æ®ç±»çš„ç»§æ‰¿å…³ç³»è‡ªåŠ¨æŸ¥æ‰¾çˆ¶ç±»ï¼Œæ— éœ€ç¼–ç ç±»åã€‚</strong></p>
<ol start="3">
<li><code>çˆ¶ç±»å.çˆ¶ç±»æ–¹æ³•å()</code>æ— æ³•æ”¯æŒå¤šåä½œå¼ç»§æ‰¿ï¼Œå³å¤šä¸ªç±»ååŒå®Œæˆä¸€ä¸ªä»»åŠ¡ã€‚æ¯ä¸ªç±»éƒ½è°ƒç”¨<code>super().method()</code>æ¥ä¼ é€’æ§åˆ¶æƒã€‚</li>
</ol>
<pre><code class="hljs language-ä»£ç " lang="ä»£ç ">å¤šåä½œå¼ç»§æ‰¿ï¼š
class PluginA:
    def setup(self):
        print("PluginA è®¾ç½®")
        super().setup()  # è®©ä¸‹ä¸€ä¸ªç±»ç»§ç»­è®¾ç½®

class PluginB:
    def setup(self):
        print("PluginB è®¾ç½®")

class Combined(PluginA, PluginB):
    def setup(self):
        print("Combined è®¾ç½®")
        super().setup()


c = Combined()
c.setup()
</code></pre>
<p><strong>ï¼ï¼ï¼è®°ä½ï¼š<code>super()</code> ä¸æ˜¯â€œè°ƒç”¨çˆ¶ç±»â€ï¼Œè€Œæ˜¯â€œè°ƒç”¨ MRO ä¸­çš„ä¸‹ä¸€ä¸ªç±»â€ã€‚å¦‚æœé‚£ä¸ªç±»æ²¡æœ‰å¯¹åº”æ–¹æ³•ï¼Œå°±ä¼šæŠ¥é”™ã€‚ï¼ï¼ï¼</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…¨é¢è§£è¯»ThinkPHP 5.0ï¼šç°ä»£PHPæ¡†æ¶çš„æ¶æ„æ¼”è¿›ä¸å®‰å…¨å®è·µ]]></title>    <link>https://juejin.cn/post/7580174845772398601</link>    <guid>https://juejin.cn/post/7580174845772398601</guid>    <pubDate>2025-12-05T14:01:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580174845772398601" data-draft-id="7580174845772365833" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…¨é¢è§£è¯»ThinkPHP 5.0ï¼šç°ä»£PHPæ¡†æ¶çš„æ¶æ„æ¼”è¿›ä¸å®‰å…¨å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T14:01:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NeoInfra"/> <meta itemprop="url" content="https://juejin.cn/user/3176914713060121"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…¨é¢è§£è¯»ThinkPHP 5.0ï¼šç°ä»£PHPæ¡†æ¶çš„æ¶æ„æ¼”è¿›ä¸å®‰å…¨å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3176914713060121/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NeoInfra
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:01:56.000Z" title="Fri Dec 05 2025 14:01:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»19åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ThinkPHP 5.0</h2>
<h3 data-id="heading-1">1. æ ‡å‡†ç›®å½•ç»“æ„</h3>
<pre><code class="hljs language-text" lang="text">project  åº”ç”¨éƒ¨ç½²ç›®å½•
â”œâ”€application           åº”ç”¨ç›®å½•ï¼ˆå¯è®¾ç½®ï¼‰
â”‚  â”œâ”€common             å…¬å…±æ¨¡å—ç›®å½•ï¼ˆå¯æ›´æ”¹ï¼‰
â”‚  â”œâ”€index              æ¨¡å—ç›®å½•(å¯æ›´æ”¹)
â”‚  â”‚  â”œâ”€config.php      æ¨¡å—é…ç½®æ–‡ä»¶
â”‚  â”‚  â”œâ”€common.php      æ¨¡å—å‡½æ•°æ–‡ä»¶
â”‚  â”‚  â”œâ”€controller      æ§åˆ¶å™¨ç›®å½•
â”‚  â”‚  â”œâ”€model           æ¨¡å‹ç›®å½•
â”‚  â”‚  â”œâ”€view            è§†å›¾ç›®å½•
â”‚  â”‚  â””â”€ ...            æ›´å¤šç±»åº“ç›®å½•
â”‚  â”œâ”€command.php        å‘½ä»¤è¡Œå·¥å…·é…ç½®æ–‡ä»¶
â”‚  â”œâ”€common.php         åº”ç”¨å…¬å…±ï¼ˆå‡½æ•°ï¼‰æ–‡ä»¶
â”‚  â”œâ”€config.php         åº”ç”¨ï¼ˆå…¬å…±ï¼‰é…ç½®æ–‡ä»¶
â”‚  â”œâ”€database.php       æ•°æ®åº“é…ç½®æ–‡ä»¶
â”‚  â”œâ”€tags.php           åº”ç”¨è¡Œä¸ºæ‰©å±•å®šä¹‰æ–‡ä»¶
â”‚  â””â”€route.php          è·¯ç”±é…ç½®æ–‡ä»¶
â”œâ”€extend                æ‰©å±•ç±»åº“ç›®å½•ï¼ˆå¯å®šä¹‰ï¼‰
â”œâ”€public                WEB éƒ¨ç½²ç›®å½•ï¼ˆå¯¹å¤–è®¿é—®ç›®å½•ï¼‰
â”‚  â”œâ”€static             é™æ€èµ„æºå­˜æ”¾ç›®å½•(css,js,image)
â”‚  â”œâ”€index.php          åº”ç”¨å…¥å£æ–‡ä»¶
â”‚  â”œâ”€router.php         å¿«é€Ÿæµ‹è¯•æ–‡ä»¶
â”‚  â””â”€.htaccess          ç”¨äº apache çš„é‡å†™
â”œâ”€runtime               åº”ç”¨çš„è¿è¡Œæ—¶ç›®å½•ï¼ˆå¯å†™ï¼Œå¯è®¾ç½®ï¼‰
â”œâ”€vendor                ç¬¬ä¸‰æ–¹ç±»åº“ç›®å½•ï¼ˆComposerï¼‰
â”œâ”€thinkphp              æ¡†æ¶ç³»ç»Ÿç›®å½•
â”‚  â”œâ”€lang               è¯­è¨€åŒ…ç›®å½•
â”‚  â”œâ”€library            æ¡†æ¶æ ¸å¿ƒç±»åº“ç›®å½•
â”‚  â”‚  â”œâ”€think           Think ç±»åº“åŒ…ç›®å½•
â”‚  â”‚  â””â”€traits          ç³»ç»Ÿ Traits ç›®å½•
â”‚  â”œâ”€tpl                ç³»ç»Ÿæ¨¡æ¿ç›®å½•
â”‚  â”œâ”€.htaccess          ç”¨äº apache çš„é‡å†™
â”‚  â”œâ”€.travis.yml        CI å®šä¹‰æ–‡ä»¶
â”‚  â”œâ”€base.php           åŸºç¡€å®šä¹‰æ–‡ä»¶
â”‚  â”œâ”€composer.json      composer å®šä¹‰æ–‡ä»¶
â”‚  â”œâ”€console.php        æ§åˆ¶å°å…¥å£æ–‡ä»¶
â”‚  â”œâ”€convention.php     æƒ¯ä¾‹é…ç½®æ–‡ä»¶
â”‚  â”œâ”€helper.php         åŠ©æ‰‹å‡½æ•°æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â”‚  â”œâ”€LICENSE.txt        æˆæƒè¯´æ˜æ–‡ä»¶
â”‚  â”œâ”€phpunit.xml        å•å…ƒæµ‹è¯•é…ç½®æ–‡ä»¶
â”‚  â”œâ”€README.md          README æ–‡ä»¶
â”‚  â””â”€start.php          æ¡†æ¶å¼•å¯¼æ–‡ä»¶
â”œâ”€build.php             è‡ªåŠ¨ç”Ÿæˆå®šä¹‰æ–‡ä»¶ï¼ˆå‚è€ƒï¼‰
â”œâ”€composer.json         composer å®šä¹‰æ–‡ä»¶
â”œâ”€LICENSE.txt           æˆæƒè¯´æ˜æ–‡ä»¶
â”œâ”€README.md             README æ–‡ä»¶
â”œâ”€think                 å‘½ä»¤è¡Œå…¥å£æ–‡ä»¶
</code></pre>
<h3 data-id="heading-2">2. å…¥å£æ–‡ä»¶</h3>
<p>å…¥å£æ–‡ä»¶ä¸»è¦å®Œæˆï¼š</p>
<ul>
<li>å®šä¹‰æ¡†æ¶è·¯å¾„ã€é¡¹ç›®è·¯å¾„ï¼ˆå¯é€‰ï¼‰</li>
<li>å®šä¹‰ç³»ç»Ÿç›¸å…³å¸¸é‡ï¼ˆå¯é€‰ï¼‰</li>
<li>è½½å…¥æ¡†æ¶å…¥å£æ–‡ä»¶ï¼ˆå¿…é¡»ï¼‰</li>
</ul>
<p>5.0é»˜è®¤çš„åº”ç”¨å…¥å£æ–‡ä»¶ä½äº<code>public/index.php</code>ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// å®šä¹‰åº”ç”¨ç›®å½•</span>
<span class="hljs-title function_ invoke__">define</span>(<span class="hljs-string">'APP_PATH'</span>, <span class="hljs-keyword">__DIR__</span> . <span class="hljs-string">'/../application/'</span>);
<span class="hljs-comment">// åŠ è½½æ¡†æ¶å¼•å¯¼æ–‡ä»¶</span>
<span class="hljs-keyword">require</span> <span class="hljs-keyword">__DIR__</span> . <span class="hljs-string">'/../thinkphp/start.php'</span>;
</code></pre>
<p>å…¥å£æ–‡ä»¶ä½ç½®çš„è®¾è®¡æ˜¯ä¸ºäº†è®©åº”ç”¨éƒ¨ç½²æ›´å®‰å…¨ï¼Œ<code>public</code>ç›®å½•ä¸ºwebå¯è®¿é—®ç›®å½•ï¼Œå…¶ä»–çš„æ–‡ä»¶éƒ½å¯ä»¥æ”¾åˆ°éWEBè®¿é—®ç›®å½•ä¸‹é¢ã€‚</p>
<p>åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½éœ€è¦åŠ è½½æ¡†æ¶çš„åŸºç¡€å¼•å¯¼æ–‡ä»¶<code>base.php</code>ï¼Œè¯¥å¼•å¯¼æ–‡ä»¶å’Œ<code>start.php</code>çš„åŒºåˆ«æ˜¯ä¸ä¼šä¸»åŠ¨æ‰§è¡Œåº”ç”¨ï¼Œè€Œæ˜¯éœ€è¦è‡ªå·±è¿›è¡Œåº”ç”¨æ‰§è¡Œï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// å®šä¹‰åº”ç”¨ç›®å½•</span>
<span class="hljs-title function_ invoke__">define</span>(<span class="hljs-string">'APP_PATH'</span>, <span class="hljs-keyword">__DIR__</span> . <span class="hljs-string">'/../application/'</span>);
<span class="hljs-comment">// åŠ è½½æ¡†æ¶åŸºç¡€å¼•å¯¼æ–‡ä»¶</span>
<span class="hljs-keyword">require</span> <span class="hljs-keyword">__DIR__</span> . <span class="hljs-string">'/../thinkphp/base.php'</span>;
<span class="hljs-comment">// æ·»åŠ é¢å¤–çš„ä»£ç </span>
<span class="hljs-comment">// ...</span>
<span class="hljs-comment">// æ‰§è¡Œåº”ç”¨</span>
\think<span class="hljs-title class_">\App</span>::<span class="hljs-title function_ invoke__">run</span>()-&gt;<span class="hljs-title function_ invoke__">send</span>();
</code></pre>
<h3 data-id="heading-3">3. è·¯ç”±æœºåˆ¶</h3>
<p>ThinkPHP5.0çš„è·¯ç”±æ¯”è¾ƒçµæ´»ï¼Œå¹¶ä¸”ä¸éœ€è¦å¼ºåˆ¶å®šä¹‰ï¼Œå¯ä»¥æ€»ç»“å½’çº³ä¸ºå¦‚ä¸‹ä¸‰ç§æ–¹å¼ï¼š</p>
<h4 data-id="heading-4">3.1. æ™®é€šæ¨¡å¼</h4>
<p>å…³é—­è·¯ç”±ï¼Œå®Œå…¨ä½¿ç”¨é»˜è®¤çš„PATH_INFOæ–¹å¼URLï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-string">'url_route_on'</span>  =&gt;  <span class="hljs-literal">false</span>,
</code></pre>
<p>è·¯ç”±å…³é—­åï¼Œä¸ä¼šè§£æä»»ä½•è·¯ç”±è§„åˆ™ï¼Œé‡‡ç”¨é»˜è®¤çš„PATH_INFO æ¨¡å¼è®¿é—®URLï¼š
<code>http://serverName/index.php/module/controller/action/param/value/...</code></p>
<p>ä½†ä»ç„¶å¯ä»¥é€šè¿‡æ“ä½œæ–¹æ³•çš„å‚æ•°ç»‘å®šã€ç©ºæ§åˆ¶å™¨å’Œç©ºæ“ä½œç­‰ç‰¹æ€§å®ç°URLåœ°å€çš„ç®€åŒ–ã€‚</p>
<p>å¯ä»¥è®¾ç½®<code>url_param_type</code>é…ç½®å‚æ•°æ¥æ”¹å˜pathinfoæ¨¡å¼ä¸‹é¢çš„å‚æ•°è·å–æ–¹å¼ï¼Œé»˜è®¤æ˜¯æŒ‰åç§°æˆå¯¹è§£æï¼Œæ”¯æŒæŒ‰ç…§é¡ºåºè§£æå˜é‡ï¼Œåªéœ€è¦æ›´æ”¹ä¸ºï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// æŒ‰ç…§é¡ºåºè§£æå˜é‡</span>
<span class="hljs-string">'url_param_type'</span>    =&gt;  <span class="hljs-number">1</span>,
</code></pre>
<h4 data-id="heading-5">3.2. æ··åˆæ¨¡å¼</h4>
<p>å¼€å¯è·¯ç”±ï¼Œå¹¶ä½¿ç”¨è·¯ç”±å®šä¹‰+é»˜è®¤PATH_INFOæ–¹å¼çš„æ··åˆï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-string">'url_route_on'</span>  =&gt;  <span class="hljs-literal">true</span>,
<span class="hljs-string">'url_route_must'</span>=&gt;  <span class="hljs-literal">false</span>,
</code></pre>
<p>è¯¥æ–¹å¼ä¸‹é¢ï¼Œåªéœ€è¦å¯¹éœ€è¦å®šä¹‰è·¯ç”±è§„åˆ™çš„è®¿é—®åœ°å€å®šä¹‰è·¯ç”±è§„åˆ™ï¼Œå…¶å®ƒçš„ä»ç„¶æŒ‰ç…§ç¬¬ä¸€ç§æ™®é€šæ¨¡å¼çš„PATH_INFOæ¨¡å¼è®¿é—®URLã€‚</p>
<h4 data-id="heading-6">3.3. å¼ºåˆ¶æ¨¡å¼</h4>
<p>å¼€å¯è·¯ç”±ï¼Œå¹¶è®¾ç½®å¿…é¡»å®šä¹‰è·¯ç”±æ‰èƒ½è®¿é—®ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-string">'url_route_on'</span>  		=&gt;  <span class="hljs-literal">true</span>,
<span class="hljs-string">'url_route_must'</span>		=&gt;  <span class="hljs-literal">true</span>,
</code></pre>
<p>è¿™ç§æ–¹å¼ä¸‹é¢å¿…é¡»ä¸¥æ ¼ç»™æ¯ä¸€ä¸ªè®¿é—®åœ°å€å®šä¹‰è·¯ç”±è§„åˆ™ï¼ˆåŒ…æ‹¬é¦–é¡µï¼‰ï¼Œå¦åˆ™å°†æŠ›å‡ºå¼‚å¸¸ã€‚
é¦–é¡µçš„è·¯ç”±è§„åˆ™é‡‡ç”¨<code>/</code>å®šä¹‰å³å¯ï¼Œä¾‹å¦‚ä¸‹é¢æŠŠç½‘ç«™é¦–é¡µè·¯ç”±è¾“å‡ºHello,world!</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">'/'</span>,function(){
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Hello,world!'</span>;
});
</code></pre>
<h4 data-id="heading-7">3.4. æ³¨å†Œè·¯ç”±</h4>
<p>è·¯ç”±å®šä¹‰é‡‡ç”¨<code>\think\Route</code>ç±»çš„<code>rule</code>æ–¹æ³•æ³¨å†Œï¼Œé€šå¸¸æ˜¯åœ¨åº”ç”¨çš„è·¯ç”±é…ç½®æ–‡ä»¶<code>application/route.php</code>è¿›è¡Œæ³¨å†Œï¼Œæ ¼å¼æ˜¯ï¼š</p>
<p><code>Route::rule('è·¯ç”±è¡¨è¾¾å¼','è·¯ç”±åœ°å€','è¯·æ±‚ç±»å‹','è·¯ç”±å‚æ•°ï¼ˆæ•°ç»„ï¼‰','å˜é‡è§„åˆ™ï¼ˆæ•°ç»„ï¼‰');</code></p>
<p>ä¾‹å¦‚æ³¨å†Œå¦‚ä¸‹è·¯ç”±è§„åˆ™ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Route</span>;
<span class="hljs-comment">// æ³¨å†Œè·¯ç”±åˆ°indexæ¨¡å—çš„Newsæ§åˆ¶å™¨çš„readæ“ä½œ</span>
<span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'new/:id'</span>,<span class="hljs-string">'index/News/read'</span>);
</code></pre>
<p>æˆ‘ä»¬è®¿é—®ï¼š
<code>http://serverName/new/5</code></p>
<p>ThinkPHP5.0çš„è·¯ç”±è§„åˆ™å®šä¹‰æ˜¯ä»æ ¹ç›®å½•å¼€å§‹ï¼Œè€Œä¸æ˜¯åŸºäºæ¨¡å—åçš„ã€‚
ä¼šè‡ªåŠ¨è·¯ç”±åˆ°ï¼š
<code>http://serverName/index/news/read/id/5</code>
å¹¶ä¸”åŸæ¥çš„è®¿é—®åœ°å€ä¼šè‡ªåŠ¨å¤±æ•ˆã€‚</p>
<p>è·¯ç”±è¡¨è¾¾å¼ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰æ”¯æŒå®šä¹‰å‘½åæ ‡è¯†ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// å®šä¹‰newè·¯ç”±å‘½åæ ‡è¯†</span>
<span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>([<span class="hljs-string">'new'</span>,<span class="hljs-string">'new/:id'</span>],<span class="hljs-string">'index/News/read'</span>);
</code></pre>
<p>æ³¨æ„ï¼Œè·¯ç”±å‘½åæ ‡è¯†å¿…é¡»å”¯ä¸€ï¼Œå®šä¹‰åå¯ä»¥ç”¨äºURLçš„å¿«é€Ÿç”Ÿæˆã€‚</p>
<p>å¯ä»¥åœ¨<code>rule</code>æ–¹æ³•ä¸­æŒ‡å®šè¯·æ±‚ç±»å‹ï¼Œä¸æŒ‡å®šçš„è¯é»˜è®¤ä¸ºä»»ä½•è¯·æ±‚ç±»å‹ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'new/:id'</span>,<span class="hljs-string">'News/update'</span>,<span class="hljs-string">'POST'</span>);
</code></pre>
<p>è¡¨ç¤ºå®šä¹‰çš„è·¯ç”±è§„åˆ™åœ¨POSTè¯·æ±‚ä¸‹æ‰æœ‰æ•ˆã€‚</p>
<h4 data-id="heading-8">3.5. è·¯ç”±è¡¨è¾¾å¼</h4>
<p>è·¯ç”±è¡¨è¾¾å¼ç»Ÿä¸€ä½¿å­—ç¬¦ä¸²å®šä¹‰ï¼Œé‡‡ç”¨è§„åˆ™å®šä¹‰çš„æ–¹å¼ã€‚
æ­£åˆ™è·¯ç”±å®šä¹‰åŠŸèƒ½å·²ç»åºŸé™¤ï¼Œæ”¹ç”±å˜é‡è§„åˆ™å®šä¹‰å®Œæˆã€‚</p>
<h4 data-id="heading-9">3.6. è§„åˆ™è¡¨è¾¾å¼</h4>
<p>è§„åˆ™è¡¨è¾¾å¼é€šå¸¸åŒ…å«é™æ€åœ°å€å’ŒåŠ¨æ€åœ°å€ï¼Œæˆ–è€…ä¸¤ç§åœ°å€çš„ç»“åˆï¼Œä¾‹å¦‚ä¸‹é¢éƒ½å±äºæœ‰æ•ˆçš„è§„åˆ™è¡¨è¾¾å¼ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-string">'/'</span> =&gt; <span class="hljs-string">'index'</span>, <span class="hljs-comment">// é¦–é¡µè®¿é—®è·¯ç”±</span>
<span class="hljs-string">'my'</span>        =&gt;  <span class="hljs-string">'Member/myinfo'</span>, <span class="hljs-comment">// é™æ€åœ°å€è·¯ç”±</span>
<span class="hljs-string">'blog/:id'</span>  =&gt;  <span class="hljs-string">'Blog/read'</span>, <span class="hljs-comment">// é™æ€åœ°å€å’ŒåŠ¨æ€åœ°å€ç»“åˆ</span>
<span class="hljs-string">'new/:year/:month/:day'</span>=&gt;<span class="hljs-string">'News/read'</span>, <span class="hljs-comment">// é™æ€åœ°å€å’ŒåŠ¨æ€åœ°å€ç»“åˆ</span>
<span class="hljs-string">':user/:blog_id'</span>=&gt;<span class="hljs-string">'Blog/read'</span>,<span class="hljs-comment">// å…¨åŠ¨æ€åœ°å€</span>
</code></pre>
<p>è§„åˆ™è¡¨è¾¾å¼çš„å®šä¹‰ä»¥<code>/</code>ä¸ºå‚æ•°åˆ†å‰²ç¬¦ï¼ˆæ— è®ºä½ çš„PATH_INFOåˆ†éš”ç¬¦è®¾ç½®æ˜¯ä»€ä¹ˆï¼Œè¯·ç¡®ä¿åœ¨å®šä¹‰è·¯ç”±è§„åˆ™è¡¨è¾¾å¼çš„æ—¶å€™ç»Ÿä¸€ä½¿ç”¨<code>/</code>è¿›è¡ŒURLå‚æ•°åˆ†å‰²ï¼‰ã€‚</p>
<p>æ¯ä¸ªå‚æ•°ä¸­ä»¥â€œ:â€å¼€å¤´çš„å‚æ•°éƒ½è¡¨ç¤ºåŠ¨æ€å˜é‡ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨ç»‘å®šåˆ°æ“ä½œæ–¹æ³•çš„å¯¹åº”å‚æ•°ã€‚</p>
<h4 data-id="heading-10">3.7. å¯é€‰å®šä¹‰</h4>
<p>æ”¯æŒå¯¹è·¯ç”±å‚æ•°çš„å¯é€‰å®šä¹‰ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>'blog/:year/[:month]'=&gt;'Blog/archive',</code></p>
<p><code>[:month]</code>å˜é‡ç”¨<code>[ ]</code>åŒ…å«èµ·æ¥åå°±è¡¨ç¤ºè¯¥å˜é‡æ˜¯è·¯ç”±åŒ¹é…çš„å¯é€‰å˜é‡ã€‚
ä»¥ä¸Šå®šä¹‰è·¯ç”±è§„åˆ™åï¼Œä¸‹é¢çš„URLè®¿é—®åœ°å€éƒ½å¯ä»¥è¢«æ­£ç¡®çš„è·¯ç”±åŒ¹é…ï¼š</p>
<p><code>http://serverName/index.php/blog/2015</code>
<code>http://serverName/index.php/blog/2015/12</code></p>
<p>é‡‡ç”¨å¯é€‰å˜é‡å®šä¹‰åï¼Œä¹‹å‰éœ€è¦å®šä¹‰ä¸¤ä¸ªæˆ–è€…å¤šä¸ªè·¯ç”±è§„åˆ™æ‰èƒ½å¤„ç†çš„æƒ…å†µå¯ä»¥åˆå¹¶ä¸ºä¸€ä¸ªè·¯ç”±è§„åˆ™ã€‚</p>
<h4 data-id="heading-11">3.8. å®Œå…¨åŒ¹é…</h4>
<p>è§„åˆ™åŒ¹é…æ£€æµ‹çš„æ—¶å€™åªæ˜¯å¯¹URLä»å¤´å¼€å§‹åŒ¹é…ï¼Œåªè¦URLåœ°å€åŒ…å«äº†å®šä¹‰çš„è·¯ç”±è§„åˆ™å°±ä¼šåŒ¹é…æˆåŠŸï¼Œå¦‚æœå¸Œæœ›å®Œå…¨åŒ¹é…ï¼Œå¯ä»¥åœ¨è·¯ç”±è¡¨è¾¾å¼æœ€åä½¿ç”¨<code>$</code>ç¬¦å·ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>'new/:cate$'=&gt; 'News/category',</code></p>
<p><code>http://serverName/index.php/new/info</code>
ä¼šåŒ¹é…æˆåŠŸ,è€Œ
<code>http://serverName/index.php/new/info/2</code>
åˆ™ä¸ä¼šåŒ¹é…æˆåŠŸã€‚</p>
<p>å¦‚æœæ˜¯é‡‡ç”¨
<code>'new/:cate'=&gt; 'News/category',</code>
æ–¹å¼å®šä¹‰çš„è¯ï¼Œåˆ™ä¸¤ç§æ–¹å¼çš„URLè®¿é—®éƒ½å¯ä»¥åŒ¹é…æˆåŠŸã€‚</p>
<p>å¦‚æœä½ å¸Œæœ›æ‰€æœ‰çš„è·¯ç”±å®šä¹‰éƒ½æ˜¯å®Œå…¨åŒ¹é…çš„è¯ï¼Œå¯ä»¥ç›´æ¥é…ç½®</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// å¼€å¯è·¯ç”±å®šä¹‰çš„å…¨å±€å®Œå…¨åŒ¹é…</span>
<span class="hljs-string">'route_complete_match'</span>  =&gt;  <span class="hljs-literal">true</span>,
</code></pre>
<p>å½“å¼€å¯å…¨å±€å®Œå…¨åŒ¹é…çš„æ—¶å€™ï¼Œå¦‚æœä¸ªåˆ«è·¯ç”±ä¸éœ€è¦ä½¿ç”¨å®Œæ•´åŒ¹é…ï¼Œå¯ä»¥æ·»åŠ è·¯ç”±å‚æ•°è¦†ç›–å®šä¹‰ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'new/:id'</span>,<span class="hljs-string">'News/read'</span>,<span class="hljs-string">'GET|POST'</span>,[<span class="hljs-string">'complete_match'</span> =&gt; <span class="hljs-literal">false</span>]);
</code></pre>
<h4 data-id="heading-12">3.9. é¢å¤–å‚æ•°</h4>
<p>åœ¨è·¯ç”±è·³è½¬çš„æ—¶å€™æ”¯æŒé¢å¤–ä¼ å…¥å‚æ•°å¯¹ï¼ˆé¢å¤–å‚æ•°æŒ‡çš„æ˜¯ä¸åœ¨URLé‡Œé¢çš„å‚æ•°ï¼Œéšå¼ä¼ å…¥éœ€è¦çš„æ“ä½œä¸­ï¼Œæœ‰æ—¶å€™èƒ½å¤Ÿèµ·åˆ°ä¸€å®šçš„å®‰å…¨é˜²æŠ¤ä½œç”¨ï¼Œåé¢æˆ‘ä»¬ä¼šæåˆ°ï¼‰ã€‚ä¾‹å¦‚ï¼š</p>
<p><code>'blog/:id'=&gt;'blog/read?status=1&amp;app_id=5',</code></p>
<p>ä¸Šé¢çš„è·¯ç”±è§„åˆ™å®šä¹‰ä¸­é¢å¤–å‚æ•°çš„ä¼ å€¼æ–¹å¼éƒ½æ˜¯ç­‰æ•ˆçš„ã€‚statuså’Œapp_idå‚æ•°éƒ½æ˜¯URLé‡Œé¢ä¸å­˜åœ¨çš„ï¼Œå±äºéšå¼ä¼ å€¼ï¼Œå½“ç„¶å¹¶ä¸ä¸€å®šéœ€è¦ç”¨åˆ°ï¼Œåªæ˜¯åœ¨éœ€è¦çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-13">4. æ§åˆ¶å™¨</h3>
<p>ThinkPHP V5.0çš„æ§åˆ¶å™¨å®šä¹‰æ¯”è¾ƒçµæ´»ï¼Œå¯ä»¥æ— éœ€ç»§æ‰¿ä»»ä½•çš„åŸºç¡€ç±»ï¼Œä¹Ÿå¯ä»¥ç»§æ‰¿å®˜æ–¹å°è£…çš„<code>\think\Controller</code>ç±»æˆ–è€…å…¶ä»–çš„æ§åˆ¶å™¨ç±»ã€‚</p>
<h4 data-id="heading-14">4.1. æ§åˆ¶å™¨å®šä¹‰</h4>
<p>ä¸€ä¸ªå…¸å‹çš„æ§åˆ¶å™¨ç±»å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">controller</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Index</span> 
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'index'</span>;
    }
}
</code></pre>
<p>æ§åˆ¶å™¨ç±»æ–‡ä»¶çš„å®é™…ä½ç½®æ˜¯
<code>application\index\controller\Index.php</code></p>
<p>æ§åˆ¶å™¨ç±»å¯ä»¥æ— éœ€ç»§æ‰¿ä»»ä½•ç±»ï¼Œå‘½åç©ºé—´é»˜è®¤ä»¥<code>app</code>ä¸ºæ ¹å‘½åç©ºé—´ã€‚
æ§åˆ¶å™¨çš„æ ¹å‘½åç©ºé—´å¯ä»¥è®¾ç½®ï¼Œä¾‹å¦‚æˆ‘ä»¬åœ¨åº”ç”¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// ä¿®æ”¹åº”ç”¨ç±»åº“å‘½åç©ºé—´</span>
<span class="hljs-string">'app_namespace'</span> =&gt; <span class="hljs-string">'application'</span>,
</code></pre>
<p>V5.0.8+ç‰ˆæœ¬çš„è¯ï¼Œ<code>app_namespace</code>é…ç½®å‚æ•°æ”¹ä¸º<code>APP_NAMESPACE</code>å¸¸é‡åœ¨å…¥å£æ–‡ä»¶ä¸­å®šä¹‰ã€‚
åˆ™å®é™…çš„æ§åˆ¶å™¨ç±»åº”è¯¥æ›´æ”¹å®šä¹‰å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">application</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">controller</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Index</span> 
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'index'</span>;
    }
}
</code></pre>
<p>åªæ˜¯å‘½åç©ºé—´æ”¹å˜äº†ï¼Œä½†å®é™…çš„æ–‡ä»¶ä½ç½®å’Œæ–‡ä»¶åå¹¶æ²¡æœ‰æ”¹å˜ã€‚
ä½¿ç”¨è¯¥æ–¹å¼å®šä¹‰çš„æ§åˆ¶å™¨ç±»ï¼Œå¦‚æœè¦åœ¨æ§åˆ¶å™¨é‡Œé¢æ¸²æŸ“æ¨¡æ¿ï¼Œå¯ä»¥ä½¿ç”¨</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">controller</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">View</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Index</span> 
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-variable">$view</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>();
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$view</span>-&gt;<span class="hljs-title function_ invoke__">fetch</span>(<span class="hljs-string">'index'</span>);
    }
}
</code></pre>
<p>æˆ–è€…ç›´æ¥ä½¿ç”¨<code>view</code>åŠ©æ‰‹å‡½æ•°æ¸²æŸ“æ¨¡æ¿è¾“å‡ºï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">controller</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Index</span> 
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">view</span>(<span class="hljs-string">'index'</span>);
    }
}
</code></pre>
<p>å¦‚æœç»§æ‰¿äº†<code>think\Controller</code>ç±»çš„è¯ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨<code>think\View</code>åŠ<code>think\Request</code>ç±»çš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">controller</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Controller</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-comment">// è·å–åŒ…å«åŸŸåçš„å®Œæ•´URLåœ°å€</span>
        <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">assign</span>(<span class="hljs-string">'domain'</span>,<span class="hljs-variable">$this</span>-&gt;request-&gt;<span class="hljs-title function_ invoke__">url</span>(<span class="hljs-literal">true</span>));
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">fetch</span>(<span class="hljs-string">'index'</span>);
    }
}
</code></pre>
<h4 data-id="heading-15">4.2. æ¸²æŸ“è¾“å‡º</h4>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ§åˆ¶å™¨çš„è¾“å‡ºå…¨éƒ¨é‡‡ç”¨<code>return</code>çš„æ–¹å¼ï¼Œæ— éœ€è¿›è¡Œä»»ä½•çš„æ‰‹åŠ¨è¾“å‡ºï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å®Œæˆæ¸²æŸ“å†…å®¹çš„è¾“å‡ºã€‚
ä¸‹é¢éƒ½æ˜¯æœ‰æ•ˆçš„è¾“å‡ºæ–¹å¼ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">controller</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Index</span> 
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'hello,world!'</span>;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">json</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">json_encode</span>(<span class="hljs-variable">$data</span>);
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">read</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">view</span>();
    }
}
</code></pre>
<p>æ§åˆ¶å™¨ä¸€èˆ¬ä¸éœ€è¦ä»»ä½•è¾“å‡ºï¼Œç›´æ¥<code>return</code>å³å¯ã€‚</p>
<h4 data-id="heading-16">4.3. è¾“å‡ºè½¬æ¢</h4>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ§åˆ¶å™¨çš„è¿”å›è¾“å‡ºä¸ä¼šåšä»»ä½•çš„æ•°æ®å¤„ç†ï¼Œä½†å¯ä»¥è®¾ç½®è¾“å‡ºæ ¼å¼ï¼Œå¹¶è¿›è¡Œè‡ªåŠ¨çš„æ•°æ®è½¬æ¢å¤„ç†ï¼Œå‰ææ˜¯æ§åˆ¶å™¨çš„è¾“å‡ºæ•°æ®å¿…é¡»é‡‡ç”¨<code>return</code>çš„æ–¹å¼è¿”å›ã€‚</p>
<p>å¦‚æœæ§åˆ¶å™¨å®šä¹‰ä¸ºï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">controller</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Index</span> 
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'hello,world!'</span>;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">data</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> [<span class="hljs-string">'name'</span>=&gt;<span class="hljs-string">'thinkphp'</span>,<span class="hljs-string">'status'</span>=&gt;<span class="hljs-number">1</span>];
    }
}
</code></pre>
<p>å½“æˆ‘ä»¬è®¾ç½®è¾“å‡ºæ•°æ®æ ¼å¼ä¸ºJSONï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// é»˜è®¤è¾“å‡ºç±»å‹</span>
<span class="hljs-string">'default_return_type'</span>   =&gt; <span class="hljs-string">'json'</span>,
</code></pre>
<p>æˆ‘ä»¬è®¿é—®
<code>http://localhost/index.php/index/Index/hello</code>
<code>http://localhost/index.php/index/Index/data</code></p>
<p>è¾“å‡ºçš„ç»“æœå˜æˆï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-string">"hello,world!"</span>
</code></pre>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"thinkphp"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"status"</span><span class="hljs-punctuation">:</span><span class="hljs-number">1</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ§åˆ¶å™¨åœ¨ajaxè¯·æ±‚ä¼šå¯¹è¿”å›ç±»å‹è‡ªåŠ¨è½¬æ¢ï¼Œé»˜è®¤ä¸ºjsonã€‚
å¦‚æœæˆ‘ä»¬æ§åˆ¶å™¨å®šä¹‰</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">controller</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Index</span> 
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">data</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> [<span class="hljs-string">'name'</span>=&gt;<span class="hljs-string">'thinkphp'</span>,<span class="hljs-string">'status'</span>=&gt;<span class="hljs-number">1</span>];
    }
}
</code></pre>
<p>æˆ‘ä»¬è®¿é—®
<code>http://localhost/index.php/index/Index/data</code>
è¾“å‡ºçš„ç»“æœå˜æˆï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span><span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span><span class="hljs-string">"thinkphp"</span><span class="hljs-punctuation">,</span><span class="hljs-attr">"status"</span><span class="hljs-punctuation">:</span><span class="hljs-number">1</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>å½“æˆ‘ä»¬è®¾ç½®è¾“å‡ºæ•°æ®æ ¼å¼ä¸ºhtmlï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// é»˜è®¤è¾“å‡ºç±»å‹</span>
<span class="hljs-string">'default_ajax_return'</span>   =&gt; <span class="hljs-string">'html'</span>,
</code></pre>
<p>è¿™ç§æƒ…å†µä¸‹ajaxè¯·æ±‚ä¸ä¼šå¯¹è¿”å›å†…å®¹è¿›è¡Œè½¬æ¢ã€‚</p>
<h3 data-id="heading-17">5. è¯·æ±‚</h3>
<p>å¦‚æœè¦è·å–å½“å‰çš„è¯·æ±‚ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨<code>\think\Request</code>ç±»ã€‚
é™¤äº†ä¸‹æ–‡ä¸­çš„
<code>$request = Request::instance();</code>
ä¹Ÿå¯ä»¥ä½¿ç”¨åŠ©æ‰‹å‡½æ•°
<code>$request = request();</code></p>
<h4 data-id="heading-18">5.1. è·å– URL ä¿¡æ¯</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$request</span> = <span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>();
<span class="hljs-comment">// è·å–å½“å‰åŸŸå</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">'domain: '</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">domain</span>() . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-comment">// è·å–å½“å‰å…¥å£æ–‡ä»¶</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">'file: '</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">baseFile</span>() . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-comment">// è·å–å½“å‰URLåœ°å€ ä¸å«åŸŸå</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">'url: '</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">url</span>() . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-comment">// è·å–åŒ…å«åŸŸåçš„å®Œæ•´URLåœ°å€</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">'url with domain: '</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">url</span>(<span class="hljs-literal">true</span>) . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-comment">// è·å–å½“å‰URLåœ°å€ ä¸å«QUERY_STRING</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">'url without query: '</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">baseUrl</span>() . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-comment">// è·å–URLè®¿é—®çš„ROOTåœ°å€</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">'root:'</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">root</span>() . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-comment">// è·å–URLè®¿é—®çš„ROOTåœ°å€</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">'root with domain: '</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">root</span>(<span class="hljs-literal">true</span>) . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-comment">// è·å–URLåœ°å€ä¸­çš„PATH_INFOä¿¡æ¯</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">'pathinfo: '</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">pathinfo</span>() . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-comment">// è·å–URLåœ°å€ä¸­çš„PATH_INFOä¿¡æ¯ ä¸å«åç¼€</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">'pathinfo: '</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">path</span>() . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-comment">// è·å–URLåœ°å€ä¸­çš„åç¼€ä¿¡æ¯</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">'ext: '</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">ext</span>() . <span class="hljs-string">'&lt;br/&gt;'</span>;
</code></pre>
<h4 data-id="heading-19">5.2. è·å–è¯·æ±‚å‚æ•°</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$request</span> = <span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>();
<span class="hljs-keyword">echo</span> <span class="hljs-string">'è¯·æ±‚æ–¹æ³•ï¼š'</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">method</span>() . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-keyword">echo</span> <span class="hljs-string">'èµ„æºç±»å‹ï¼š'</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">type</span>() . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-keyword">echo</span> <span class="hljs-string">'è®¿é—®ipåœ°å€ï¼š'</span> . <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">ip</span>() . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-keyword">echo</span> <span class="hljs-string">'æ˜¯å¦AJaxè¯·æ±‚ï¼š'</span> . <span class="hljs-title function_ invoke__">var_export</span>(<span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">isAjax</span>(), <span class="hljs-literal">true</span>) . <span class="hljs-string">'&lt;br/&gt;'</span>;
<span class="hljs-keyword">echo</span> <span class="hljs-string">'è¯·æ±‚å‚æ•°ï¼š'</span>;
<span class="hljs-title function_ invoke__">dump</span>(<span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">param</span>());
<span class="hljs-keyword">echo</span> <span class="hljs-string">'è¯·æ±‚å‚æ•°ï¼šä»…åŒ…å«name'</span>;
<span class="hljs-title function_ invoke__">dump</span>(<span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">only</span>([<span class="hljs-string">'name'</span>]));
<span class="hljs-keyword">echo</span> <span class="hljs-string">'è¯·æ±‚å‚æ•°ï¼šæ’é™¤name'</span>;
<span class="hljs-title function_ invoke__">dump</span>(<span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">except</span>([<span class="hljs-string">'name'</span>]));
</code></pre>
<h4 data-id="heading-20">5.3. æ£€æµ‹å˜é‡æ˜¯å¦è®¾ç½®</h4>
<p>å¯ä»¥ä½¿ç”¨<code>has</code>æ–¹æ³•æ¥æ£€æµ‹ä¸€ä¸ªå˜é‡å‚æ•°æ˜¯å¦è®¾ç½®ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">has</span>(<span class="hljs-string">'id'</span>,<span class="hljs-string">'get'</span>);
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">has</span>(<span class="hljs-string">'name'</span>,<span class="hljs-string">'post'</span>);
</code></pre>
<p>æˆ–è€…ä½¿ç”¨åŠ©æ‰‹å‡½æ•°</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'?get.id'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'?post.name'</span>);
</code></pre>
<p>å˜é‡æ£€æµ‹å¯ä»¥æ”¯æŒæ‰€æœ‰æ”¯æŒçš„ç³»ç»Ÿå˜é‡ã€‚</p>
<h4 data-id="heading-21">5.4. å˜é‡è·å–</h4>
<p>å˜é‡è·å–ä½¿ç”¨<code>\think\Request</code>ç±»çš„å¦‚ä¸‹æ–¹æ³•åŠå‚æ•°ï¼š</p>
<p><code>å˜é‡ç±»å‹æ–¹æ³•('å˜é‡å/å˜é‡ä¿®é¥°ç¬¦','é»˜è®¤å€¼','è¿‡æ»¤æ–¹æ³•')</code></p>
<p>å˜é‡ç±»å‹æ–¹æ³•åŒ…æ‹¬ï¼š</p>

























































<table><thead><tr><th align="left">æ–¹æ³•</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="left"><code>param</code></td><td align="left">è·å–å½“å‰è¯·æ±‚çš„å˜é‡</td></tr><tr><td align="left"><code>get</code></td><td align="left">è·å– <code>$_GET</code> å˜é‡</td></tr><tr><td align="left"><code>post</code></td><td align="left">è·å– <code>$_POST</code> å˜é‡</td></tr><tr><td align="left"><code>put</code></td><td align="left">è·å– PUT å˜é‡</td></tr><tr><td align="left"><code>delete</code></td><td align="left">è·å– DELETE å˜é‡</td></tr><tr><td align="left"><code>session</code></td><td align="left">è·å– <code>$_SESSION</code> å˜é‡</td></tr><tr><td align="left"><code>cookie</code></td><td align="left">è·å– <code>$_COOKIE</code> å˜é‡</td></tr><tr><td align="left"><code>request</code></td><td align="left">è·å– <code>$_REQUEST</code> å˜é‡</td></tr><tr><td align="left"><code>server</code></td><td align="left">è·å– <code>$_SERVER</code> å˜é‡</td></tr><tr><td align="left"><code>env</code></td><td align="left">è·å– <code>$_ENV</code> å˜é‡</td></tr><tr><td align="left"><code>route</code></td><td align="left">è·å– è·¯ç”±ï¼ˆåŒ…æ‹¬PATHINFOï¼‰ å˜é‡</td></tr><tr><td align="left"><code>file</code></td><td align="left">è·å– <code>$_FILES</code> å˜é‡</td></tr></tbody></table>
<p><strong>è·å– PARAM å˜é‡</strong></p>
<p>PARAMå˜é‡æ˜¯æ¡†æ¶æä¾›çš„ç”¨äºè‡ªåŠ¨è¯†åˆ«GETã€POSTæˆ–è€…PUTè¯·æ±‚çš„ä¸€ç§å˜é‡è·å–æ–¹å¼ï¼Œæ˜¯ç³»ç»Ÿæ¨èçš„è·å–è¯·æ±‚å‚æ•°çš„æ–¹æ³•ï¼Œç”¨æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// è·å–å½“å‰è¯·æ±‚çš„nameå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">param</span>(<span class="hljs-string">'name'</span>);
<span class="hljs-comment">// è·å–å½“å‰è¯·æ±‚çš„æ‰€æœ‰å˜é‡ï¼ˆç»è¿‡è¿‡æ»¤ï¼‰</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">param</span>();
<span class="hljs-comment">// è·å–å½“å‰è¯·æ±‚çš„æ‰€æœ‰å˜é‡ï¼ˆåŸå§‹æ•°æ®ï¼‰</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">param</span>(<span class="hljs-literal">false</span>);
<span class="hljs-comment">// è·å–å½“å‰è¯·æ±‚çš„æ‰€æœ‰å˜é‡ï¼ˆåŒ…å«ä¸Šä¼ æ–‡ä»¶ï¼‰</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">param</span>(<span class="hljs-literal">true</span>);
</code></pre>
<p><code>param</code>æ–¹æ³•ä¼šæŠŠå½“å‰è¯·æ±‚ç±»å‹çš„å‚æ•°å’ŒPATH_INFOå˜é‡ä»¥åŠGETè¯·æ±‚åˆå¹¶ã€‚</p>
<p>ä½¿ç”¨åŠ©æ‰‹å‡½æ•°å®ç°ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'param.name'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'param.'</span>);
</code></pre>
<p>æˆ–è€…</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'name'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">''</span>);
</code></pre>
<p>å› ä¸º<code>input</code>å‡½æ•°é»˜è®¤å°±é‡‡ç”¨PARAMå˜é‡è¯»å–æ–¹å¼ã€‚</p>
<p><strong>è·å– GET å˜é‡</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">'id'</span>); <span class="hljs-comment">// è·å–æŸä¸ªgetå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">'name'</span>); <span class="hljs-comment">// è·å–getå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">get</span>(); <span class="hljs-comment">// è·å–æ‰€æœ‰çš„getå˜é‡ï¼ˆç»è¿‡è¿‡æ»¤çš„æ•°ç»„ï¼‰</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-literal">false</span>); <span class="hljs-comment">// è·å–æ‰€æœ‰çš„getå˜é‡ï¼ˆåŸå§‹æ•°ç»„ï¼‰</span>
</code></pre>
<p>æˆ–è€…ä½¿ç”¨å†…ç½®çš„åŠ©æ‰‹å‡½æ•°<code>input</code>æ–¹æ³•å®ç°ç›¸åŒçš„åŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'get.id'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'get.name'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'get.'</span>);
</code></pre>
<blockquote>
<p><strong>æ³¨ï¼š</strong> pathinfoåœ°å€å‚æ•°ä¸èƒ½é€šè¿‡getæ–¹æ³•è·å–ï¼ŒæŸ¥çœ‹â€œè·å–PARAMå˜é‡â€</p>
</blockquote>
<p><strong>è·å– POST å˜é‡</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">post</span>(<span class="hljs-string">'name'</span>); <span class="hljs-comment">// è·å–æŸä¸ªpostå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">post</span>(); <span class="hljs-comment">// è·å–ç»è¿‡è¿‡æ»¤çš„å…¨éƒ¨postå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">post</span>(<span class="hljs-literal">false</span>); <span class="hljs-comment">// è·å–å…¨éƒ¨çš„poståŸå§‹å˜é‡</span>
</code></pre>
<p>ä½¿ç”¨åŠ©æ‰‹å‡½æ•°å®ç°ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'post.name'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'post.'</span>);
</code></pre>
<p><strong>è·å– PUT å˜é‡</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">put</span>(<span class="hljs-string">'name'</span>); <span class="hljs-comment">// è·å–æŸä¸ªputå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">put</span>(); <span class="hljs-comment">// è·å–å…¨éƒ¨çš„putå˜é‡ï¼ˆç»è¿‡è¿‡æ»¤ï¼‰</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">put</span>(<span class="hljs-literal">false</span>); <span class="hljs-comment">// è·å–å…¨éƒ¨çš„putåŸå§‹å˜é‡</span>
</code></pre>
<p>ä½¿ç”¨åŠ©æ‰‹å‡½æ•°å®ç°ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'put.name'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'put.'</span>);
</code></pre>
<p><strong>è·å– REQUEST å˜é‡</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">request</span>(<span class="hljs-string">'id'</span>); <span class="hljs-comment">// è·å–æŸä¸ªrequestå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">request</span>(); <span class="hljs-comment">// è·å–å…¨éƒ¨çš„requestå˜é‡ï¼ˆç»è¿‡è¿‡æ»¤ï¼‰</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">request</span>(<span class="hljs-literal">false</span>); <span class="hljs-comment">// è·å–å…¨éƒ¨çš„requeståŸå§‹å˜é‡æ•°æ®</span>
</code></pre>
<p>ä½¿ç”¨åŠ©æ‰‹å‡½æ•°å®ç°ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'request.id'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'request.'</span>);
</code></pre>
<p><strong>è·å– SERVER å˜é‡</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">server</span>(<span class="hljs-string">'PHP_SELF'</span>); <span class="hljs-comment">// è·å–æŸä¸ªserverå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">server</span>(); <span class="hljs-comment">// è·å–å…¨éƒ¨çš„serverå˜é‡</span>
</code></pre>
<p>ä½¿ç”¨åŠ©æ‰‹å‡½æ•°å®ç°ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'server.PHP_SELF'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'server.'</span>);
</code></pre>
<p><strong>è·å– SESSION å˜é‡</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">session</span>(<span class="hljs-string">'user_id'</span>); <span class="hljs-comment">// è·å–æŸä¸ªsessionå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">session</span>(); <span class="hljs-comment">// è·å–å…¨éƒ¨çš„sessionå˜é‡</span>
</code></pre>
<p>ä½¿ç”¨åŠ©æ‰‹å‡½æ•°å®ç°ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'session.user_id'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'session.'</span>);
</code></pre>
<p><strong>è·å– Cookie å˜é‡</strong></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">cookie</span>(<span class="hljs-string">'user_id'</span>); <span class="hljs-comment">// è·å–æŸä¸ªcookieå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">cookie</span>(); <span class="hljs-comment">// è·å–å…¨éƒ¨çš„cookieå˜é‡</span>
</code></pre>
<p>ä½¿ç”¨åŠ©æ‰‹å‡½æ•°å®ç°ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'cookie.user_id'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'cookie.'</span>);
</code></pre>
<h4 data-id="heading-22">5.5. å˜é‡è¿‡æ»¤</h4>
<p>æ¡†æ¶é»˜è®¤æ²¡æœ‰è®¾ç½®ä»»ä½•è¿‡æ»¤è§„åˆ™ï¼Œä½ å¯ä»¥æ˜¯é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å…¨å±€çš„è¿‡æ»¤è§„åˆ™ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// é»˜è®¤å…¨å±€è¿‡æ»¤æ–¹æ³• ç”¨é€—å·åˆ†éš”å¤šä¸ª</span>
<span class="hljs-string">'default_filter'</span>         =&gt; <span class="hljs-string">'htmlspecialchars'</span>,
</code></pre>
<p>ä¹Ÿæ”¯æŒä½¿ç”¨Requestå¯¹è±¡è¿›è¡Œå…¨å±€å˜é‡çš„è·å–è¿‡æ»¤ï¼Œè¿‡æ»¤æ–¹å¼åŒ…æ‹¬å‡½æ•°ã€æ–¹æ³•è¿‡æ»¤ï¼Œä»¥åŠPHPå†…ç½®çš„Types of filtersï¼Œæˆ‘ä»¬å¯ä»¥è®¾ç½®å…¨å±€å˜é‡è¿‡æ»¤æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>Request::instance()-&gt;filter('htmlspecialchars');</code></p>
<p>æ”¯æŒè®¾ç½®å¤šä¸ªè¿‡æ»¤æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>Request::instance()-&gt;filter(['strip_tags','htmlspecialchars']),</code></p>
<p>ä¹Ÿå¯ä»¥åœ¨è·å–å˜é‡çš„æ—¶å€™æ·»åŠ è¿‡æ»¤æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">'name'</span>,<span class="hljs-string">''</span>,<span class="hljs-string">'htmlspecialchars'</span>); <span class="hljs-comment">// è·å–getå˜é‡ å¹¶ç”¨htmlspecialcharså‡½æ•°è¿‡æ»¤</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">param</span>(<span class="hljs-string">'username'</span>,<span class="hljs-string">''</span>,<span class="hljs-string">'strip_tags'</span>); <span class="hljs-comment">// è·å–paramå˜é‡ å¹¶ç”¨strip_tagså‡½æ•°è¿‡æ»¤</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">post</span>(<span class="hljs-string">'name'</span>,<span class="hljs-string">''</span>,<span class="hljs-string">'org\Filter::safeHtml'</span>); <span class="hljs-comment">// è·å–postå˜é‡ å¹¶ç”¨org\Filterç±»çš„safeHtmlæ–¹æ³•è¿‡æ»¤</span>
</code></pre>
<p>å¯ä»¥æ”¯æŒä¼ å…¥å¤šä¸ªè¿‡æ»¤è§„åˆ™ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>Request::instance()-&gt;param('username','','strip_tags,strtolower'); // è·å–paramå˜é‡ å¹¶ä¾æ¬¡è°ƒç”¨strip_tagsã€strtolowerå‡½æ•°è¿‡æ»¤</code></p>
<p>Requestå¯¹è±¡è¿˜æ”¯æŒPHPå†…ç½®æä¾›çš„Filter IDè¿‡æ»¤ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>Request::instance()-&gt;post('email','',FILTER_VALIDATE_EMAIL);</code></p>
<p>æ¡†æ¶å¯¹FilterIDåšäº†è½¬æ¢æ”¯æŒï¼Œå› æ­¤ä¹Ÿå¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²çš„æ–¹å¼ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>Request::instance()-&gt;post('email','','email');</code></p>
<p>é‡‡ç”¨å­—ç¬¦ä¸²æ–¹å¼å®šä¹‰FilterIDçš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œä¸€æ¬¡<code>filter_id</code>è°ƒç”¨è½¬æ¢æˆFilterå¸¸é‡ã€‚
å…·ä½“çš„å­—ç¬¦ä¸²æ ¹æ®<code>filter_list</code>å‡½æ•°çš„è¿”å›å€¼æ¥å®šä¹‰ã€‚</p>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé‡‡ç”¨Filter ID è¿›è¡Œè¿‡æ»¤çš„è¯ï¼Œå¦‚æœä¸ç¬¦åˆè¿‡æ»¤è¦æ±‚çš„è¯ ä¼šè¿”å›falseï¼Œå› æ­¤ä½ éœ€è¦é…åˆé»˜è®¤å€¼æ¥ç¡®ä¿æœ€ç»ˆçš„å€¼ç¬¦åˆä½ çš„è§„èŒƒã€‚
ä¾‹å¦‚ï¼Œ
<code>Request::instance()-&gt;post('email','',FILTER_VALIDATE_EMAIL);</code>
å°±è¡¨ç¤ºï¼Œå¦‚æœä¸æ˜¯è§„èŒƒçš„emailåœ°å€çš„è¯ è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</p>
<p>å¦‚æœå½“å‰ä¸éœ€è¦è¿›è¡Œä»»ä½•è¿‡æ»¤çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨ï¼ˆV5.0.3+ç‰ˆæœ¬ï¼‰</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// è·å–getå˜é‡ å¹¶ä¸”ä¸è¿›è¡Œä»»ä½•è¿‡æ»¤ å³ä½¿è®¾ç½®äº†å…¨å±€è¿‡æ»¤</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">'name'</span>,<span class="hljs-string">''</span>,<span class="hljs-literal">null</span>);
</code></pre>
<h4 data-id="heading-23">5.6. è·å–éƒ¨åˆ†å˜é‡</h4>
<p>å¦‚æœä½ åªéœ€è¦è·å–å½“å‰è¯·æ±‚çš„éƒ¨åˆ†å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// åªè·å–å½“å‰è¯·æ±‚çš„idå’Œnameå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">only</span>(<span class="hljs-string">'id,name'</span>);
</code></pre>
<p>æˆ–è€…ä½¿ç”¨æ•°ç»„æ–¹å¼</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// åªè·å–å½“å‰è¯·æ±‚çš„idå’Œnameå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">only</span>([<span class="hljs-string">'id'</span>,<span class="hljs-string">'name'</span>]);
</code></pre>
<p>é»˜è®¤è·å–çš„æ˜¯å½“å‰è¯·æ±‚å‚æ•°ï¼Œå¦‚æœéœ€è¦è·å–å…¶å®ƒç±»å‹çš„å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// åªè·å–GETè¯·æ±‚çš„idå’Œnameå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">only</span>([<span class="hljs-string">'id'</span>,<span class="hljs-string">'name'</span>],<span class="hljs-string">'get'</span>);
<span class="hljs-comment">// åªè·å–POSTè¯·æ±‚çš„idå’Œnameå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">only</span>([<span class="hljs-string">'id'</span>,<span class="hljs-string">'name'</span>],<span class="hljs-string">'post'</span>);
</code></pre>
<h4 data-id="heading-24">5.7. æ’é™¤éƒ¨åˆ†å˜é‡</h4>
<p>ä¹Ÿæ”¯æŒæ’é™¤æŸäº›å˜é‡è·å–ï¼Œä¾‹å¦‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// æ’é™¤idå’Œnameå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">except</span>(<span class="hljs-string">'id,name'</span>);
</code></pre>
<p>æˆ–è€…ä½¿ç”¨æ•°ç»„æ–¹å¼</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// æ’é™¤idå’Œnameå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">except</span>([<span class="hljs-string">'id'</span>,<span class="hljs-string">'name'</span>]);
</code></pre>
<p>åŒæ ·æ”¯æŒæŒ‡å®šå˜é‡ç±»å‹è·å–ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// æ’é™¤GETè¯·æ±‚çš„idå’Œnameå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">except</span>([<span class="hljs-string">'id'</span>,<span class="hljs-string">'name'</span>],<span class="hljs-string">'get'</span>);
<span class="hljs-comment">// æ’é™¤POSTè¯·æ±‚çš„idå’Œnameå˜é‡</span>
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">except</span>([<span class="hljs-string">'id'</span>,<span class="hljs-string">'name'</span>],<span class="hljs-string">'post'</span>);
</code></pre>
<h4 data-id="heading-25">5.8. å˜é‡ä¿®é¥°ç¬¦</h4>
<p><code>input</code>å‡½æ•°æ”¯æŒå¯¹å˜é‡ä½¿ç”¨ä¿®é¥°ç¬¦åŠŸèƒ½ï¼Œå¯ä»¥æ›´å¥½çš„è¿‡æ»¤å˜é‡ã€‚</p>
<p>ç”¨æ³•å¦‚ä¸‹ï¼š
<code>input('å˜é‡ç±»å‹.å˜é‡å/ä¿®é¥°ç¬¦');</code></p>
<p>æˆ–è€…
<code>Request::instance()-&gt;å˜é‡ç±»å‹('å˜é‡å/ä¿®é¥°ç¬¦');</code></p>
<p>ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'get.id/d'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'post.name/s'</span>);
<span class="hljs-title function_ invoke__">input</span>(<span class="hljs-string">'post.ids/a'</span>);
<span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">'id/d'</span>);
</code></pre>
<p>ThinkPHP5.0ç‰ˆæœ¬é»˜è®¤çš„å˜é‡ä¿®é¥°ç¬¦æ˜¯<code>/s</code>ï¼Œå¦‚æœéœ€è¦ä¼ å…¥å­—ç¬¦ä¸²ä¹‹å¤–çš„å˜é‡å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä¿®é¥°ç¬¦ï¼ŒåŒ…æ‹¬ï¼š</p>





























<table><thead><tr><th align="left">ä¿®é¥°ç¬¦</th><th align="left">ä½œç”¨</th></tr></thead><tbody><tr><td align="left"><code>s</code></td><td align="left">å¼ºåˆ¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹</td></tr><tr><td align="left"><code>d</code></td><td align="left">å¼ºåˆ¶è½¬æ¢ä¸ºæ•´å‹ç±»å‹</td></tr><tr><td align="left"><code>b</code></td><td align="left">å¼ºåˆ¶è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹</td></tr><tr><td align="left"><code>a</code></td><td align="left">å¼ºåˆ¶è½¬æ¢ä¸ºæ•°ç»„ç±»å‹</td></tr><tr><td align="left"><code>f</code></td><td align="left">å¼ºåˆ¶è½¬æ¢ä¸ºæµ®ç‚¹ç±»å‹</td></tr></tbody></table>
<blockquote>
<p>å¦‚æœä½ è¦è·å–çš„æ•°æ®ä¸ºæ•°ç»„ï¼Œè¯·ä¸€å®šæ³¨æ„è¦åŠ ä¸Š <code>/a</code> ä¿®é¥°ç¬¦æ‰èƒ½æ­£ç¡®è·å–åˆ°ã€‚</p>
</blockquote>
<h4 data-id="heading-26">5.9. HTTP å¤´ä¿¡æ¯</h4>
<p>å¯ä»¥ä½¿ç”¨Requestå¯¹è±¡çš„<code>header</code>æ–¹æ³•è·å–å½“å‰è¯·æ±‚çš„HTTP è¯·æ±‚å¤´ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$info</span> = <span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">header</span>();
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$info</span>[<span class="hljs-string">'accept'</span>];
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$info</span>[<span class="hljs-string">'accept-encoding'</span>];
<span class="hljs-keyword">echo</span> <span class="hljs-variable">$info</span>[<span class="hljs-string">'user-agent'</span>];
</code></pre>
<p>ä¹Ÿå¯ä»¥ç›´æ¥è·å–æŸä¸ªè¯·æ±‚å¤´ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>$agent = Request::instance()-&gt;header('user-agent');</code></p>
<p>HTTPè¯·æ±‚å¤´ä¿¡æ¯çš„åç§°ä¸åŒºåˆ†å¤§å°å†™ï¼Œå¹¶ä¸”<code>_</code>ä¼šè‡ªåŠ¨è½¬æ¢ä¸º<code>-</code>ï¼Œæ‰€ä»¥ä¸‹é¢çš„å†™æ³•éƒ½æ˜¯ç­‰æ•ˆçš„ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$agent</span> = <span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">'user-agent'</span>);
<span class="hljs-variable">$agent</span> = <span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">'User-Agent'</span>);
<span class="hljs-variable">$agent</span> = <span class="hljs-title class_">Request</span>::<span class="hljs-title function_ invoke__">instance</span>()-&gt;<span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">'USER_AGENT'</span>);
</code></pre>
<h3 data-id="heading-27">6. å‚æ•°ç»‘å®š</h3>
<p>æ–¹æ³•å‚æ•°ç»‘å®šæ˜¯æŠŠURLåœ°å€ï¼ˆæˆ–è€…è·¯ç”±åœ°å€ï¼‰ä¸­çš„å˜é‡ä½œä¸ºæ“ä½œæ–¹æ³•çš„å‚æ•°ç›´æ¥ä¼ å…¥ã€‚</p>
<h4 data-id="heading-28">6.1. æ“ä½œæ–¹æ³•å‚æ•°ç»‘å®š</h4>
<p><strong>æŒ‰åç§°ç»‘å®š</strong></p>
<p>å‚æ•°ç»‘å®šæ–¹å¼é»˜è®¤æ˜¯æŒ‰ç…§å˜é‡åè¿›è¡Œç»‘å®šã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬ç»™Blogæ§åˆ¶å™¨å®šä¹‰äº†ä¸¤ä¸ªæ“ä½œæ–¹æ³•<code>read</code>å’Œ<code>archive</code>æ–¹æ³•ï¼Œç”±äº<code>read</code>æ“ä½œéœ€è¦æŒ‡å®šä¸€ä¸ª<code>id</code>å‚æ•°ï¼Œ<code>archive</code>æ–¹æ³•éœ€è¦æŒ‡å®šå¹´ä»½ï¼ˆ<code>year</code>ï¼‰å’Œæœˆä»½ï¼ˆ<code>month</code>ï¼‰ä¸¤ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¦‚ä¸‹å®šä¹‰ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">Controller</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Blog</span> 
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">read</span>(<span class="hljs-params"><span class="hljs-variable">$id</span></span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'id='</span>.<span class="hljs-variable">$id</span>;
    }
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">archive</span>(<span class="hljs-params"><span class="hljs-variable">$year</span>=<span class="hljs-string">'2016'</span>,<span class="hljs-variable">$month</span>=<span class="hljs-string">'01'</span></span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'year='</span>.<span class="hljs-variable">$year</span>.<span class="hljs-string">'&amp;month='</span>.<span class="hljs-variable">$month</span>;
    }
}
</code></pre>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong> è¿™é‡Œçš„æ“ä½œæ–¹æ³•å¹¶æ²¡æœ‰å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼Œåªæ˜¯ç®€å•çš„ç¤ºèŒƒã€‚</p>
</blockquote>
<p>URLçš„è®¿é—®åœ°å€åˆ†åˆ«æ˜¯ï¼š
<code>http://serverName/index.php/index/blog/read/id/5</code>
<code>http://serverName/index.php/index/blog/archive/year/2016/month/06</code></p>
<p>ä¸¤ä¸ªURLåœ°å€ä¸­çš„<code>id</code>å‚æ•°å’Œ<code>year</code>å’Œ<code>month</code>å‚æ•°ä¼šè‡ªåŠ¨å’Œ<code>read</code>æ“ä½œæ–¹æ³•ä»¥åŠ<code>archive</code>æ“ä½œæ–¹æ³•çš„åŒåå‚æ•°ç»‘å®šã€‚
å˜é‡åç»‘å®šä¸ä¸€å®šç”±è®¿é—®URLå†³å®šï¼Œè·¯ç”±åœ°å€ä¹Ÿèƒ½èµ·åˆ°ç›¸åŒçš„ä½œç”¨ã€‚</p>
<p>è¾“å‡ºçš„ç»“æœä¾æ¬¡æ˜¯ï¼š
<code>id=5</code>
<code>year=2016&amp;month=06</code></p>
<p>æŒ‰ç…§å˜é‡åè¿›è¡Œå‚æ•°ç»‘å®šçš„å‚æ•°å¿…é¡»å’ŒURLä¸­ä¼ å…¥çš„å˜é‡åç§°ä¸€è‡´ï¼Œä½†æ˜¯å‚æ•°é¡ºåºä¸éœ€è¦ä¸€è‡´ã€‚ä¹Ÿå°±æ˜¯è¯´
<code>http://serverName/index.php/index/blog/archive/month/06/year/2016</code>
å’Œä¸Šé¢çš„è®¿é—®ç»“æœæ˜¯ä¸€è‡´çš„ï¼ŒURLä¸­çš„å‚æ•°é¡ºåºå’Œæ“ä½œæ–¹æ³•ä¸­çš„å‚æ•°é¡ºåºéƒ½å¯ä»¥éšæ„è°ƒæ•´ï¼Œå…³é”®æ˜¯ç¡®ä¿å‚æ•°åç§°ä¸€è‡´å³å¯ã€‚</p>
<p>å¦‚æœç”¨æˆ·è®¿é—®çš„URLåœ°å€æ˜¯ï¼ˆè‡³äºä¸ºä»€ä¹ˆä¼šè¿™ä¹ˆè®¿é—®æš‚ä¸”ä¸æï¼‰ï¼š
<code>http://serverName/index.php/index/blog/read/</code>
é‚£ä¹ˆä¼šæŠ›å‡ºä¸‹é¢çš„å¼‚å¸¸æç¤ºï¼š <code>å‚æ•°é”™è¯¯:id</code></p>
<p>æŠ¥é”™çš„åŸå› å¾ˆç®€å•ï¼Œå› ä¸ºåœ¨æ‰§è¡Œ<code>read</code>æ“ä½œæ–¹æ³•çš„æ—¶å€™ï¼Œ<code>id</code>å‚æ•°æ˜¯å¿…é¡»ä¼ å…¥å‚æ•°çš„ï¼Œä½†æ˜¯æ–¹æ³•æ— æ³•ä»URLåœ°å€ä¸­è·å–æ­£ç¡®çš„<code>id</code>å‚æ•°ä¿¡æ¯ã€‚ç”±äºæˆ‘ä»¬ä¸èƒ½ç›¸ä¿¡ç”¨æˆ·çš„ä»»ä½•è¾“å…¥ï¼Œå› æ­¤å»ºè®®ä½ ç»™<code>read</code>æ–¹æ³•çš„<code>id</code>å‚æ•°æ·»åŠ é»˜è®¤å€¼ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php">    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">read</span>(<span class="hljs-params"><span class="hljs-variable">$id</span>=<span class="hljs-number">0</span></span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'id='</span>.<span class="hljs-variable">$id</span>;
    }
</code></pre>
<p>è¿™æ ·ï¼Œå½“æˆ‘ä»¬è®¿é—® <code>http://serverName/index.php/index/blog/read/</code> çš„æ—¶å€™ å°±ä¼šè¾“å‡º
<code>id=0</code></p>
<blockquote>
<p><strong>æç¤ºï¼š</strong> å§‹ç»ˆç»™æ“ä½œæ–¹æ³•çš„å‚æ•°å®šä¹‰é»˜è®¤å€¼æ˜¯ä¸€ä¸ªé¿å…æŠ¥é”™çš„å¥½åŠæ³•ã€‚</p>
</blockquote>
<p><strong>æŒ‰é¡ºåºç»‘å®š</strong></p>
<p>è¿˜å¯ä»¥æ”¯æŒæŒ‰ç…§URLçš„å‚æ•°é¡ºåºè¿›è¡Œç»‘å®šçš„æ–¹å¼ï¼Œåˆç†è§„åˆ’URLå‚æ•°çš„é¡ºåºç»‘å®šå¯¹ç®€åŒ–URLåœ°å€å¯ä»¥èµ·åˆ°ä¸€å®šçš„å¸®åŠ©ã€‚
è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œæ§åˆ¶å™¨ä¸å˜ï¼Œè¿˜æ˜¯ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">Controller</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Blog</span> 
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">read</span>(<span class="hljs-params"><span class="hljs-variable">$id</span></span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'id='</span>.<span class="hljs-variable">$id</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">archive</span>(<span class="hljs-params"><span class="hljs-variable">$year</span>=<span class="hljs-string">'2016'</span>,<span class="hljs-variable">$month</span>=<span class="hljs-string">'01'</span></span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'year='</span>.<span class="hljs-variable">$year</span>.<span class="hljs-string">'&amp;month='</span>.<span class="hljs-variable">$month</span>;
    }
}
</code></pre>
<p>æˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ é…ç½®å‚æ•°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// URLå‚æ•°æ–¹å¼æ”¹æˆé¡ºåºè§£æ</span>
<span class="hljs-string">'url_param_type'</span>         =&gt; <span class="hljs-number">1</span>,
</code></pre>
<p>æ¥ä¸‹æ¥ï¼Œè®¿é—®ä¸‹é¢çš„URLåœ°å€ï¼š
<code>http://serverName/index.php/index/blog/read/5</code>
<code>http://serverName/index.php/index/blog/archive/2016/06</code></p>
<p>è¾“å‡ºçš„ç»“æœä¾æ¬¡æ˜¯ï¼š
<code>id=5</code>
<code>year=2016&amp;month=06</code></p>
<p>æŒ‰å‚æ•°é¡ºåºç»‘å®šçš„è¯ï¼Œå‚æ•°çš„é¡ºåºä¸èƒ½éšæ„è°ƒæ•´ï¼Œå¦‚æœè®¿é—®ï¼š
<code>http://serverName/index.php/index/blog/archive/06/2016</code>
æœ€åçš„è¾“å‡ºç»“æœåˆ™å˜æˆï¼š
<code>year=06&amp;month=2016</code></p>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong> æŒ‰é¡ºåºç»‘å®šå‚æ•°çš„è¯ï¼Œæ“ä½œæ–¹æ³•çš„å‚æ•°åªèƒ½ä½¿ç”¨URL pathinfoå˜é‡ï¼Œè€Œä¸èƒ½ä½¿ç”¨getæˆ–è€…postå˜é‡ã€‚</p>
</blockquote>
<p>å‚æ•°ç»‘å®šæœ‰ä¸€ä¸ªç‰¹ä¾‹ï¼Œå¦‚æœä½ çš„æ“ä½œæ–¹æ³•ä¸­å®šä¹‰æœ‰<code>Request</code>å¯¹è±¡ä½œä¸ºå‚æ•°çš„è¯ï¼Œæ— è®ºå‚æ•°ä½ç½®åœ¨å“ªé‡Œï¼Œéƒ½ä¼šè‡ªåŠ¨æ³¨å…¥ï¼Œè€Œä¸éœ€è¦è¿›è¡Œå‚æ•°ç»‘å®šã€‚</p>
<h4 data-id="heading-29">6.2. æ¶æ„æ–¹æ³•å‚æ•°ç»‘å®šï¼ˆV5.0.1ï¼‰</h4>
<p>å¯ä»¥å¯¹æ¶æ„å‡½æ•°è¿›è¡Œå‚æ•°ç»‘å®šï¼Œå½“å‰è¯·æ±‚çš„è·¯ç”±å˜é‡å¯ä»¥è‡ªåŠ¨ç»‘å®šåˆ°æ¶æ„å‡½æ•°çš„å‚æ•°ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">Controller</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Blog</span> 
</span>{
	<span class="hljs-keyword">protected</span> <span class="hljs-variable">$name</span>;
	<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__construct</span>(<span class="hljs-params"><span class="hljs-variable">$name</span> = <span class="hljs-literal">null</span></span>)
    </span>{
    	<span class="hljs-variable language_">$this</span>-&gt;name = <span class="hljs-variable">$name</span>;
    }
}
</code></pre>
<p>å¦‚æœè®¿é—®
<code>http://localhost/index/index/index/name/thinkphp</code>
å½“å‰è¯·æ±‚çš„è·¯ç”±å˜é‡<code>name</code>çš„å€¼<code>thinkphp</code>ä¼šè‡ªåŠ¨ä¼ å…¥æ¶æ„æ–¹æ³•çš„<code>name</code>å˜é‡ã€‚</p>
<h3 data-id="heading-30">7. æ•°æ®åº“</h3>
<h4 data-id="heading-31">7.1. åŸºæœ¬æŸ¥è¯¢</h4>
<p>æŸ¥è¯¢ä¸€ä¸ªæ•°æ®ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// tableæ–¹æ³•å¿…é¡»æŒ‡å®šå®Œæ•´çš„æ•°æ®è¡¨å</span>
<span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">table</span>(<span class="hljs-string">'think_user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'id'</span>,<span class="hljs-number">1</span>)-&gt;<span class="hljs-title function_ invoke__">find</span>();
</code></pre>
<p><code>find</code> æ–¹æ³•æŸ¥è¯¢ç»“æœä¸å­˜åœ¨ï¼Œè¿”å› <code>null</code>ã€‚</p>
<p>æŸ¥è¯¢æ•°æ®é›†ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">table</span>(<span class="hljs-string">'think_user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'status'</span>,<span class="hljs-number">1</span>)-&gt;<span class="hljs-title function_ invoke__">select</span>();
</code></pre>
<p><code>select</code> æ–¹æ³•æŸ¥è¯¢ç»“æœä¸å­˜åœ¨ï¼Œè¿”å›ç©ºæ•°ç»„ã€‚</p>
<p>å¦‚æœè®¾ç½®äº†æ•°æ®è¡¨å‰ç¼€å‚æ•°çš„è¯ï¼Œå¯ä»¥ä½¿ç”¨</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">name</span>(<span class="hljs-string">'user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'id'</span>,<span class="hljs-number">1</span>)-&gt;<span class="hljs-title function_ invoke__">find</span>();
<span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">name</span>(<span class="hljs-string">'user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'status'</span>,<span class="hljs-number">1</span>)-&gt;<span class="hljs-title function_ invoke__">select</span>();
</code></pre>
<p>å¦‚æœä½ çš„æ•°æ®è¡¨æ²¡æœ‰ä½¿ç”¨è¡¨å‰ç¼€åŠŸèƒ½ï¼Œé‚£ä¹ˆ<code>name</code>å’Œ<code>table</code>æ–¹æ³•çš„ä¸€æ ·çš„æ•ˆæœã€‚
åœ¨<code>find</code>å’Œ<code>select</code>æ–¹æ³•ä¹‹å‰å¯ä»¥ä½¿ç”¨æ‰€æœ‰çš„é“¾å¼æ“ä½œæ–¹æ³•ã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>find</code>å’Œ<code>select</code>æ–¹æ³•è¿”å›çš„éƒ½æ˜¯æ•°ç»„ã€‚</p>
<h4 data-id="heading-32">7.2. åŠ©æ‰‹å‡½æ•°</h4>
<p>ç³»ç»Ÿæä¾›äº†ä¸€ä¸ª<code>db</code>åŠ©æ‰‹å‡½æ•°ï¼Œå¯ä»¥æ›´æ–¹ä¾¿çš„æŸ¥è¯¢ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">db</span>(<span class="hljs-string">'user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'id'</span>,<span class="hljs-number">1</span>)-&gt;<span class="hljs-title function_ invoke__">find</span>();
<span class="hljs-title function_ invoke__">db</span>(<span class="hljs-string">'user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'status'</span>,<span class="hljs-number">1</span>)-&gt;<span class="hljs-title function_ invoke__">select</span>();
</code></pre>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>5.0.9 ç‰ˆæœ¬ä¹‹å‰ï¼šä½¿ç”¨<code>db</code>åŠ©æ‰‹å‡½æ•°é»˜è®¤æ¯æ¬¡éƒ½ä¼šé‡æ–°è¿æ¥æ•°æ®åº“ï¼Œè€Œä½¿ç”¨<code>Db::name</code>æˆ–è€…<code>Db::table</code>æ–¹æ³•çš„è¯éƒ½æ˜¯å•ä¾‹çš„ã€‚<code>db</code>å‡½æ•°å¦‚æœéœ€è¦é‡‡ç”¨ç›¸åŒçš„é“¾æ¥ï¼Œå¯ä»¥ä¼ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œä¾‹å¦‚ï¼š
<pre><code class="hljs language-php" lang="php"><span class="hljs-title function_ invoke__">db</span>(<span class="hljs-string">'user'</span>,[],<span class="hljs-literal">false</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'id'</span>,<span class="hljs-number">1</span>)-&gt;<span class="hljs-title function_ invoke__">find</span>();
<span class="hljs-title function_ invoke__">db</span>(<span class="hljs-string">'user'</span>,[],<span class="hljs-literal">false</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'status'</span>,<span class="hljs-number">1</span>)-&gt;<span class="hljs-title function_ invoke__">select</span>();
</code></pre>
ä¸Šé¢çš„æ–¹å¼ä¼šä½¿ç”¨åŒä¸€ä¸ªæ•°æ®åº“è¿æ¥ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºæ•°æ®åº“çš„è¿æ¥å‚æ•°ï¼Œç•™ç©ºè¡¨ç¤ºé‡‡ç”¨æ•°æ®åº“é…ç½®æ–‡ä»¶çš„é…ç½®ã€‚</li>
<li><strong>5.0.9 ç‰ˆæœ¬</strong>ï¼š<code>db</code>åŠ©æ‰‹å‡½æ•°é»˜è®¤ä¸å†å¼ºåˆ¶é‡æ–°è¿æ¥ã€‚</li>
</ul>
</blockquote>
<h4 data-id="heading-33">7.3. ä½¿ç”¨ Query å¯¹è±¡æˆ–é—­åŒ…æŸ¥è¯¢</h4>
<p>æˆ–è€…ä½¿ç”¨æŸ¥è¯¢å¯¹è±¡è¿›è¡ŒæŸ¥è¯¢ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$query</span> = <span class="hljs-keyword">new</span> \think\db\<span class="hljs-title function_ invoke__">Query</span>();
<span class="hljs-variable">$query</span>-&gt;<span class="hljs-title function_ invoke__">table</span>(<span class="hljs-string">'think_user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'status'</span>,<span class="hljs-number">1</span>);
<span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">find</span>(<span class="hljs-variable">$query</span>);
<span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">select</span>(<span class="hljs-variable">$query</span>);
</code></pre>
<p>æˆ–è€…ç›´æ¥ä½¿ç”¨é—­åŒ…å‡½æ•°æŸ¥è¯¢ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">select</span>(function(<span class="hljs-variable">$query</span>){
    <span class="hljs-variable">$query</span>-&gt;<span class="hljs-title function_ invoke__">table</span>(<span class="hljs-string">'think_user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'status'</span>,<span class="hljs-number">1</span>);
});
</code></pre>
<h4 data-id="heading-34">7.4. å€¼å’Œåˆ—æŸ¥è¯¢</h4>
<p>æŸ¥è¯¢æŸä¸ªå­—æ®µçš„å€¼å¯ä»¥ç”¨</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// è¿”å›æŸä¸ªå­—æ®µçš„å€¼</span>
<span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">table</span>(<span class="hljs-string">'think_user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'id'</span>,<span class="hljs-number">1</span>)-&gt;<span class="hljs-title function_ invoke__">value</span>(<span class="hljs-string">'name'</span>);
</code></pre>
<p><code>value</code> æ–¹æ³•æŸ¥è¯¢ç»“æœä¸å­˜åœ¨ï¼Œè¿”å› <code>null</code>ã€‚</p>
<p>æŸ¥è¯¢æŸä¸€åˆ—çš„å€¼å¯ä»¥ç”¨</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// è¿”å›æ•°ç»„</span>
<span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">table</span>(<span class="hljs-string">'think_user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'status'</span>,<span class="hljs-number">1</span>)-&gt;<span class="hljs-title function_ invoke__">column</span>(<span class="hljs-string">'name'</span>);
<span class="hljs-comment">// æŒ‡å®šç´¢å¼•</span>
<span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">table</span>(<span class="hljs-string">'think_user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'status'</span>,<span class="hljs-number">1</span>)-&gt;<span class="hljs-title function_ invoke__">column</span>(<span class="hljs-string">'name'</span>,<span class="hljs-string">'id'</span>);
<span class="hljs-comment">// åŒtp3çš„getField</span>
<span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">table</span>(<span class="hljs-string">'think_user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'status'</span>,<span class="hljs-number">1</span>)-&gt;<span class="hljs-title function_ invoke__">column</span>(<span class="hljs-string">'id,name'</span>); 
</code></pre>
<p><code>column</code> æ–¹æ³•æŸ¥è¯¢ç»“æœä¸å­˜åœ¨ï¼Œè¿”å›ç©ºæ•°ç»„ã€‚</p>
<h4 data-id="heading-35">7.5. JSON ç±»å‹æ•°æ®æŸ¥è¯¢ï¼ˆmysql V5.0.1ï¼‰</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// æŸ¥è¯¢JSONç±»å‹å­—æ®µ ï¼ˆinfoå­—æ®µä¸ºjsonç±»å‹ï¼‰</span>
<span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">table</span>(<span class="hljs-string">'think_user'</span>)-&gt;<span class="hljs-title function_ invoke__">where</span>(<span class="hljs-string">'info$.email'</span>,<span class="hljs-string">'thinkphp@qq.com'</span>)-&gt;<span class="hljs-title function_ invoke__">find</span>();
</code></pre>
<h4 data-id="heading-36">7.6. å­—ç¬¦ä¸²æ¡ä»¶</h4>
<p>ä½¿ç”¨å­—ç¬¦ä¸²æ¡ä»¶ç›´æ¥æŸ¥è¯¢å’Œæ“ä½œï¼Œä¾‹å¦‚ï¼š</p>
<p><code>Db::table('think_user')-&gt;where('type=1 AND status=1')-&gt;select();</code></p>
<p>æœ€åç”Ÿæˆçš„SQLè¯­å¥æ˜¯
<code>SELECT * FROM think_user WHERE type=1 AND status=1</code></p>
<p>ä½¿ç”¨å­—ç¬¦ä¸²æ¡ä»¶çš„æ—¶å€™ï¼Œå»ºè®®é…åˆé¢„å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿æ›´åŠ å®‰å…¨ï¼Œä¾‹å¦‚ï¼š</p>
<p><code>Db::table('think_user')-&gt;where("id=:id and username=:name")-&gt;bind(['id'=&gt;[1,\PDO::PARAM_INT],'name'=&gt;'thinkphp'])-&gt;select();</code></p>
<h4 data-id="heading-37">7.7. åŸç”ŸæŸ¥è¯¢</h4>
<p>Dbç±»æ”¯æŒåŸç”ŸSQLæŸ¥è¯¢æ“ä½œï¼Œä¸»è¦åŒ…æ‹¬ä¸‹é¢ä¸¤ä¸ªæ–¹æ³•ï¼š</p>
<p><strong>query æ–¹æ³•</strong></p>
<p><code>query</code>æ–¹æ³•ç”¨äºæ‰§è¡ŒSQLæŸ¥è¯¢æ“ä½œï¼Œå¦‚æœæ•°æ®éæ³•æˆ–è€…æŸ¥è¯¢é”™è¯¯åˆ™è¿”å›falseï¼Œå¦åˆ™è¿”å›æŸ¥è¯¢ç»“æœæ•°æ®é›†ï¼ˆåŒselectæ–¹æ³•ï¼‰ã€‚</p>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<p><code>Db::query("select * from think_user where status=1");</code></p>
<p>å¦‚æœä½ å½“å‰é‡‡ç”¨äº†åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå¹¶ä¸”è®¾ç½®äº†è¯»å†™åˆ†ç¦»çš„è¯ï¼Œ<code>query</code>æ–¹æ³•å§‹ç»ˆæ˜¯åœ¨è¯»æœåŠ¡å™¨æ‰§è¡Œï¼Œå› æ­¤<code>query</code>æ–¹æ³•å¯¹åº”çš„éƒ½æ˜¯è¯»æ“ä½œï¼Œè€Œä¸ç®¡ä½ çš„SQLè¯­å¥æ˜¯ä»€ä¹ˆã€‚</p>
<p><strong>execute æ–¹æ³•</strong></p>
<p><code>execute</code>ç”¨äºæ›´æ–°å’Œå†™å…¥æ•°æ®çš„sqlæ“ä½œï¼Œå¦‚æœæ•°æ®éæ³•æˆ–è€…æŸ¥è¯¢é”™è¯¯åˆ™è¿”å›false ï¼Œå¦åˆ™è¿”å›å½±å“çš„è®°å½•æ•°ã€‚</p>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<p><code>Db::execute("update think_user set name='thinkphp' where status=1");</code></p>
<p>å¦‚æœä½ å½“å‰é‡‡ç”¨äº†åˆ†å¸ƒå¼æ•°æ®åº“ï¼Œå¹¶ä¸”è®¾ç½®äº†è¯»å†™åˆ†ç¦»çš„è¯ï¼Œ<code>execute</code>æ–¹æ³•å§‹ç»ˆæ˜¯åœ¨å†™æœåŠ¡å™¨æ‰§è¡Œï¼Œå› æ­¤<code>execute</code>æ–¹æ³•å¯¹åº”çš„éƒ½æ˜¯å†™æ“ä½œï¼Œè€Œä¸ç®¡ä½ çš„SQLè¯­å¥æ˜¯ä»€ä¹ˆã€‚</p>
<p><strong>å‚æ•°ç»‘å®š</strong></p>
<p>æ”¯æŒåœ¨åŸç”ŸæŸ¥è¯¢çš„æ—¶å€™ä½¿ç”¨å‚æ•°ç»‘å®šï¼ŒåŒ…æ‹¬é—®å·å ä½ç¬¦æˆ–è€…å‘½åå ä½ç¬¦ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">query</span>(<span class="hljs-string">"select * from think_user where id=? AND status=?"</span>,[<span class="hljs-number">8</span>,<span class="hljs-number">1</span>]);
<span class="hljs-comment">// å‘½åç»‘å®š</span>
<span class="hljs-title class_">Db</span>::<span class="hljs-title function_ invoke__">execute</span>(<span class="hljs-string">"update think_user set name=:name where status=:status"</span>,[<span class="hljs-string">'name'</span>=&gt;<span class="hljs-string">'thinkphp'</span>,<span class="hljs-string">'status'</span>=&gt;<span class="hljs-number">1</span>]);
</code></pre>
<h3 data-id="heading-38">8. éªŒè¯</h3>
<h4 data-id="heading-39">8.1. æ¦‚è¿°</h4>
<p>ThinkPHP5.0éªŒè¯ä½¿ç”¨ç‹¬ç«‹çš„<code>\think\Validate</code>ç±»æˆ–è€…éªŒè¯å™¨è¿›è¡ŒéªŒè¯ã€‚</p>
<h4 data-id="heading-40">8.2. ç‹¬ç«‹éªŒè¯</h4>
<p>ä»»ä½•æ—¶å€™ï¼Œéƒ½å¯ä»¥ä½¿ç”¨<code>Validate</code>ç±»è¿›è¡Œç‹¬ç«‹çš„éªŒè¯æ“ä½œï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$validate</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Validate</span>([
    <span class="hljs-string">'name'</span>  =&gt; <span class="hljs-string">'require|max:25'</span>,
    <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'email'</span>
]);

<span class="hljs-variable">$data</span> = [
    <span class="hljs-string">'name'</span>  =&gt; <span class="hljs-string">'thinkphp'</span>,
    <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'thinkphp@qq.com'</span>
];

<span class="hljs-keyword">if</span> (!<span class="hljs-variable">$validate</span>-&gt;<span class="hljs-title function_ invoke__">check</span>(<span class="hljs-variable">$data</span>)) {
    <span class="hljs-title function_ invoke__">dump</span>(<span class="hljs-variable">$validate</span>-&gt;<span class="hljs-title function_ invoke__">getError</span>());
}
</code></pre>
<h4 data-id="heading-41">8.3. éªŒè¯å™¨</h4>
<p>è¿™æ˜¯5.0æ¨èçš„éªŒè¯æ–¹å¼ï¼Œä¸ºå…·ä½“çš„éªŒè¯åœºæ™¯æˆ–è€…æ•°æ®è¡¨å®šä¹‰å¥½éªŒè¯å™¨ç±»ï¼Œç›´æ¥è°ƒç”¨éªŒè¯ç±»çš„<code>check</code>æ–¹æ³•å³å¯å®ŒæˆéªŒè¯ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>
<p>æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª<code>\app\index\validate\User</code>éªŒè¯å™¨ç±»ç”¨äºUserçš„éªŒè¯ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">validate</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Validate</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">User</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Validate</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$rule</span> = [
        <span class="hljs-string">'name'</span>  =&gt;  <span class="hljs-string">'require|max:25'</span>,
        <span class="hljs-string">'email'</span> =&gt;  <span class="hljs-string">'email'</span>,
    ];
}
</code></pre>
<p>åœ¨éœ€è¦è¿›è¡ŒUseréªŒè¯çš„åœ°æ–¹ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç å³å¯ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-variable">$data</span> = [
    <span class="hljs-string">'name'</span>=&gt;<span class="hljs-string">'thinkphp'</span>,
    <span class="hljs-string">'email'</span>=&gt;<span class="hljs-string">'thinkphp@qq.com'</span>
];

<span class="hljs-variable">$validate</span> = <span class="hljs-title class_">Loader</span>::<span class="hljs-title function_ invoke__">validate</span>(<span class="hljs-string">'User'</span>);

<span class="hljs-keyword">if</span>(!<span class="hljs-variable">$validate</span>-&gt;<span class="hljs-title function_ invoke__">check</span>(<span class="hljs-variable">$data</span>)){
    <span class="hljs-title function_ invoke__">dump</span>(<span class="hljs-variable">$validate</span>-&gt;<span class="hljs-title function_ invoke__">getError</span>());
}
</code></pre>
<p>ä½¿ç”¨åŠ©æ‰‹å‡½æ•°å®ä¾‹åŒ–éªŒè¯å™¨ï¼š
<code>$validate = validate('User');</code></p>
<h4 data-id="heading-42">8.4. è¡¨å•ä»¤ç‰Œ</h4>
<p>éªŒè¯è§„åˆ™æ”¯æŒå¯¹è¡¨å•çš„ä»¤ç‰ŒéªŒè¯ï¼Œé¦–å…ˆéœ€è¦åœ¨ä½ çš„è¡¨å•é‡Œé¢å¢åŠ ä¸‹é¢éšè—åŸŸï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"__token__"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{$Request.token}"</span> /&gt;</span>
</code></pre>
<p>æˆ–è€…</p>
<pre><code class="hljs language-html" lang="html">{:token()}
</code></pre>
<p>ç„¶ååœ¨ä½ çš„éªŒè¯è§„åˆ™ä¸­ï¼Œæ·»åŠ <code>token</code>éªŒè¯è§„åˆ™å³å¯ï¼Œä¾‹å¦‚ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯éªŒè¯å™¨çš„è¯ï¼Œå¯ä»¥æ”¹ä¸ºï¼š</p>
<pre><code class="hljs language-php" lang="php">    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$rule</span> = [
        <span class="hljs-string">'name'</span>  =&gt;  <span class="hljs-string">'require|max:25|token'</span>,
        <span class="hljs-string">'email'</span> =&gt;  <span class="hljs-string">'email'</span>,
    ];
</code></pre>
<p>å¦‚æœä½ çš„ä»¤ç‰Œåç§°ä¸æ˜¯<code>__token__</code>ï¼Œåˆ™è¡¨å•éœ€è¦æ”¹ä¸ºï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"__hash__"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{$Request.token.__hash__}"</span> /&gt;</span>
</code></pre>
<p>æˆ–è€…ï¼š</p>
<pre><code class="hljs language-html" lang="html">{:token('__hash__')}
</code></pre>
<p>éªŒè¯å™¨ä¸­éœ€è¦æ”¹ä¸ºï¼š</p>
<pre><code class="hljs language-php" lang="php">    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$rule</span> = [
        <span class="hljs-string">'name'</span>  =&gt;  <span class="hljs-string">'require|max:25|token:__hash__'</span>,
        <span class="hljs-string">'email'</span> =&gt;  <span class="hljs-string">'email'</span>,
    ];
</code></pre>
<p>å¦‚æœéœ€è¦è‡ªå®šä¹‰ä»¤ç‰Œç”Ÿæˆè§„åˆ™ï¼Œå¯ä»¥è°ƒç”¨Requestç±»çš„<code>token</code>æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">controller</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Controller</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-variable">$token</span> = <span class="hljs-variable language_">$this</span>-&gt;request-&gt;<span class="hljs-title function_ invoke__">token</span>(<span class="hljs-string">'__token__'</span>, <span class="hljs-string">'sha1'</span>);
        <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">assign</span>(<span class="hljs-string">'token'</span>, <span class="hljs-variable">$token</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">fetch</span>();
    }
}
</code></pre>
<p>ç„¶ååœ¨æ¨¡æ¿è¡¨å•ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"hidden"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"__token__"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{$token}"</span> /&gt;</span>
</code></pre>
<p>æˆ–è€…ä¸éœ€è¦åœ¨æ§åˆ¶å™¨å†™ä»»ä½•ä»£ç ï¼Œç›´æ¥åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-html" lang="html">{:token('__token__', 'sha1')}
</code></pre>
<h3 data-id="heading-43">9. å®‰å…¨</h3>
<h4 data-id="heading-44">9.1. è¾“å…¥å®‰å…¨</h4>
<p>è™½ç„¶5.0çš„åº•å±‚å®‰å…¨é˜²æŠ¤æ¯”ä¹‹å‰ç‰ˆæœ¬è¦å¼ºå¤§ä¸å°‘ï¼Œä½†æ°¸è¿œä¸è¦ç›¸ä¿¡ç”¨æˆ·æäº¤çš„æ•°æ®ï¼Œå»ºè®®åŠ¡å¿…éµå®ˆä¸‹é¢è§„åˆ™ï¼š</p>
<ul>
<li>è®¾ç½®<code>public</code>ç›®å½•ä¸ºå”¯ä¸€å¯¹å¤–è®¿é—®ç›®å½•ï¼Œä¸è¦æŠŠèµ„æºæ–‡ä»¶æ”¾å…¥åº”ç”¨ç›®å½•ï¼›</li>
<li>å¼€å¯è¡¨å•ä»¤ç‰ŒéªŒè¯é¿å…æ•°æ®çš„é‡å¤æäº¤ï¼Œèƒ½èµ·åˆ°CSRFé˜²å¾¡ä½œç”¨ï¼›</li>
<li>ä½¿ç”¨æ¡†æ¶æä¾›çš„è¯·æ±‚å˜é‡è·å–æ–¹æ³•ï¼ˆRequestç±»<code>param</code>æ–¹æ³•åŠ<code>input</code>åŠ©æ‰‹å‡½æ•°ï¼‰è€Œä¸æ˜¯åŸç”Ÿç³»ç»Ÿå˜é‡è·å–ç”¨æˆ·è¾“å…¥æ•°æ®ï¼›</li>
<li>å¯¹ä¸åŒçš„åº”ç”¨éœ€æ±‚è®¾ç½®<code>default_filter</code>è¿‡æ»¤è§„åˆ™ï¼ˆé»˜è®¤æ²¡æœ‰ä»»ä½•è¿‡æ»¤è§„åˆ™ï¼‰ï¼Œå¸¸è§çš„å®‰å…¨è¿‡æ»¤å‡½æ•°åŒ…æ‹¬<code>stripslashes</code>ã€<code>htmlentities</code>ã€<code>htmlspecialchars</code>å’Œ<code>strip_tags</code>ç­‰ï¼Œè¯·æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©æœ€åˆé€‚çš„è¿‡æ»¤æ–¹æ³•ï¼›</li>
<li>ä½¿ç”¨éªŒè¯ç±»æˆ–è€…éªŒè¯æ–¹æ³•å¯¹ä¸šåŠ¡æ•°æ®è®¾ç½®å¿…è¦çš„éªŒè¯è§„åˆ™ï¼›</li>
<li>å¦‚æœå¯èƒ½å¼€å¯å¼ºåˆ¶è·¯ç”±æˆ–è€…è®¾ç½®MISSè·¯ç”±è§„åˆ™ï¼Œä¸¥æ ¼è§„èŒƒæ¯ä¸ªURLè¯·æ±‚ï¼›</li>
</ul>
<h4 data-id="heading-45">9.2. æ•°æ®åº“å®‰å…¨</h4>
<p>åœ¨ç¡®ä¿ç”¨æˆ·è¯·æ±‚çš„æ•°æ®å®‰å…¨ä¹‹åï¼Œæ•°æ®åº“çš„å®‰å…¨éšæ‚£å°±å·²ç»å¾ˆå°‘äº†ï¼Œå› ä¸º5.0ç‰ˆæœ¬çš„æ•°æ®æ“ä½œä½¿ç”¨äº†PDOé¢„å¤„ç†æœºåˆ¶åŠè‡ªåŠ¨å‚æ•°ç»‘å®šåŠŸèƒ½ï¼Œè¯·ç¡®ä¿ï¼š</p>
<ul>
<li>å°½é‡å°‘ä½¿ç”¨æ•°ç»„æŸ¥è¯¢æ¡ä»¶è€Œåº”è¯¥ä½¿ç”¨æŸ¥è¯¢è¡¨è¾¾å¼æ›¿ä»£ï¼›</li>
<li>å°½é‡å°‘ä½¿ç”¨å­—ç¬¦ä¸²æŸ¥è¯¢æ¡ä»¶ï¼Œå¦‚æœä¸å¾—å·²çš„æƒ…å†µä¸‹ ä½¿ç”¨æ‰‹åŠ¨å‚æ•°ç»‘å®šåŠŸèƒ½ï¼›</li>
<li>ä¸è¦è®©ç”¨æˆ·è¾“å…¥å†³å®šè¦æŸ¥è¯¢æˆ–è€…å†™å…¥çš„å­—æ®µï¼›</li>
<li>å¯¹äºæ•æ„Ÿæ•°æ®åœ¨è¾“å‡ºçš„æ—¶å€™ä½¿ç”¨<code>hidden</code>æ–¹æ³•è¿›è¡Œéšè—ï¼›</li>
<li>å¯¹äºæ•°æ®çš„å†™å…¥æ“ä½œåº”å½“åšå¥½æƒé™æ£€æŸ¥å·¥ä½œï¼›</li>
<li>å†™å…¥æ•°æ®ä¸¥æ ¼ä½¿ç”¨<code>field</code>æ–¹æ³•é™åˆ¶å†™å…¥å­—æ®µï¼›</li>
<li>å¯¹äºéœ€è¦è¾“å‡ºåˆ°é¡µé¢çš„æ•°æ®åšå¥½å¿…è¦çš„XSSè¿‡æ»¤ï¼›</li>
</ul>
<h4 data-id="heading-46">9.3. ä¸Šä¼ å®‰å…¨</h4>
<p>ç½‘ç«™çš„ä¸Šä¼ åŠŸèƒ½ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å®¹æ˜“è¢«æ”»å‡»çš„å…¥å£ï¼Œæ‰€ä»¥å¯¹ä¸Šä¼ åŠŸèƒ½çš„å®‰å…¨æ£€æŸ¥æ˜¯å°¤å…¶å¿…è¦çš„ã€‚</p>
<p>ç³»ç»Ÿçš„<code>think\File</code>æä¾›äº†æ–‡ä»¶ä¸Šä¼ çš„å®‰å…¨æ”¯æŒï¼ŒåŒ…æ‹¬å¯¹æ–‡ä»¶åç¼€ã€æ–‡ä»¶ç±»å‹ã€æ–‡ä»¶å¤§å°ä»¥åŠä¸Šä¼ å›¾ç‰‡æ–‡ä»¶çš„åˆæ³•æ€§æ£€æŸ¥ï¼Œç¡®ä¿ä½ å·²ç»åœ¨ä¸Šä¼ æ“ä½œä¸­å¯ç”¨äº†è¿™äº›åˆæ³•æ€§æ£€æŸ¥ã€‚</p>
<p>ä¸ºäº†æ–¹ä¾¿ç‰ˆæœ¬å‡çº§ï¼Œå¹¶ä¸”ä¿è¯<code>public</code>ç›®å½•ä¸ºå”¯ä¸€çš„webå¯è®¿é—®ç›®å½•ï¼Œèµ„æºæ–‡ä»¶å¯ä»¥æ”¾åˆ°é¡¹ç›®ä¹‹å¤–ï¼Œä¾‹å¦‚é¡¹ç›®ç›®å½•ä¸º
<code>/home/www/thinkphp/</code>
é‚£ä¹ˆèµ„æºç›®å½•ã€ä¸Šä¼ æ–‡ä»¶ä¿å­˜çš„ç›®å½•
<code>/home/www/resource/</code>
<code>/home/www/resource/upload/</code></p>
<p>ä¸ºäº†é¡¹ç›®çš„å¯ç»´æŠ¤æ€§ï¼Œç›®å½•æ“ä½œæœ€å¥½ä¸è¶…å‡ºæœ¬é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œæ‰€ä»¥éœ€è¦æŠŠ<code>resource</code>ç›®å½•æ˜ å°„åˆ°æ ¹ç›®å½•
<code>ln -s /home/www/resource/  /home/www/thinkphp/resource/</code></p>
<p>å¦‚æœä¸Šä¼ æ–‡ä»¶ä¹Ÿéœ€è¦webè®¿é—®ï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªè½¯è¿æ¥åˆ°<code>public</code>
<code>ln -s /home/www/thinkphp/resource/upload/  /home/www/thinkphp/public/upload/</code></p>
<h3 data-id="heading-47">10. ThinkPHP 5.0 ä¸ ThinkPHP 5.1 çš„éƒ¨åˆ†å·®å¼‚</h3>
<h4 data-id="heading-48">10.1. æ ¸å¿ƒæ¶æ„å˜åŒ–</h4>
<p><strong>1. å‘½åç©ºé—´ (Namespace)</strong></p>
<ul>
<li><strong>5.0 å†™æ³•:</strong> é™æ€è°ƒç”¨ç³»ç»Ÿæ ¸å¿ƒç±»åº“ï¼Œä¾‹å¦‚ <code>use think\App;</code> æˆ– <code>use think\Config;</code>ã€‚åº”ç”¨å‘½åç©ºé—´åœ¨åº”ç”¨é…ç½®æ–‡ä»¶ä¸­å®šä¹‰ï¼Œä¾‹å¦‚ <code>'app_namespace' =&gt; 'application'</code>ã€‚</li>
<li><strong>5.1 å†™æ³•:</strong> 5.0 ä¸­çš„æ ¸å¿ƒç±»åº“ï¼ˆå¦‚ <code>think\App</code>, <code>think\Cache</code>, <code>think\Config</code> ç­‰ï¼‰å‡æ”¹ä¸ºä½¿ç”¨ "facade" é—¨é¢ç±»ã€‚
<ul>
<li><code>think\App</code> å˜ä¸º <code>think\facade\App</code>ã€‚</li>
<li><code>think\Config</code> å˜ä¸º <code>think\facade\Config</code>ã€‚</li>
<li><code>think\Route</code> å˜ä¸º <code>think\facade\Route</code>ã€‚</li>
<li>åº”ç”¨å‘½åç©ºé—´ (APP_NAMESPACE) ä¸å†é€šè¿‡é…ç½®æ–‡ä»¶è®¾ç½®ï¼Œè€Œæ˜¯æ”¹ä¸ºåœ¨ <code>.env</code> æ–‡ä»¶ä¸­å®šä¹‰ç¯å¢ƒå˜é‡ã€‚</li>
</ul>
</li>
</ul>
<p><strong>2. é…ç½®æ–‡ä»¶ (Configuration)</strong></p>
<ul>
<li><strong>5.0 å†™æ³•:</strong> é…ç½®æ–‡ä»¶ä½äº <code>application/</code> ç›®å½•ä¸‹ï¼Œä¾‹å¦‚ <code>application/config.php</code> , <code>application/database.php</code> , <code>application/route.php</code>ã€‚</li>
<li><strong>5.1 å†™æ³•:</strong>
<ul>
<li><strong>ä½ç½®:</strong> åŸæœ‰çš„ <code>config.php</code> æ–‡ä»¶è¢«ç§»åŠ¨åˆ°ä¸åº”ç”¨ç›®å½•åŒçº§çš„ <code>config/</code> ç›®å½•ï¼Œå¹¶æ‹†åˆ†ä¸º <code>app.php</code>, <code>cache.php</code>, <code>database.php</code> ç­‰ç‹¬ç«‹é…ç½®æ–‡ä»¶ã€‚</li>
<li><strong>å±‚çº§:</strong> 5.1 çš„é…ç½®å…¨éƒ¨é‡‡ç”¨äºŒçº§é…ç½®æ–¹å¼ã€‚ä¾‹å¦‚ï¼Œ<code>config('app_debug')</code> ç­‰åŒäº <code>config('app.app_debug')</code>ã€‚</li>
<li><strong>æ¨¡æ¿é…ç½®:</strong> 5.0 çš„ <code>view_replace_str</code> é…ç½®å‚æ•°åœ¨ 5.1 ä¸­æ›´æ”¹ä¸º <code>template.php</code> é…ç½®æ–‡ä»¶ä¸­çš„ <code>tpl_replace_string</code> å‚æ•°ã€‚</li>
</ul>
</li>
</ul>
<p><strong>3. å¸¸é‡ (Constants)</strong></p>
<ul>
<li><strong>5.0 å†™æ³•:</strong> æ¡†æ¶å†…ç½®äº†å¤§é‡å¸¸é‡ï¼Œå¦‚ <code>THINK_PATH</code>, <code>APP_PATH</code>, <code>ROOT_PATH</code>, <code>RUNTIME_PATH</code> ç­‰ã€‚åº”ç”¨å…¥å£æ–‡ä»¶ <code>public/index.php</code> ä¸­ä¼šå®šä¹‰ <code>APP_PATH</code>ã€‚</li>
<li><strong>5.1 å†™æ³•:</strong> å–æ¶ˆäº†æ‰€æœ‰æ¡†æ¶å†…ç½®å¸¸é‡ã€‚å¿…é¡»ä½¿ç”¨ <code>think\facade\App</code> å’Œ <code>think\facade\Env</code> ç±»çš„æ–¹æ³•æ¥è·å–ã€‚
<ul>
<li><code>THINK_VERSION</code> (5.0) å˜ä¸º <code>App::version()</code> (5.1)ã€‚</li>
<li><code>APP_PATH</code> (5.0) å˜ä¸º <code>Env::get('app_path')</code> (5.1)ã€‚</li>
<li><code>ROOT_PATH</code> (5.0) å˜ä¸º <code>Env::get('root_path')</code> (5.1)ã€‚</li>
<li><code>RUNTIME_PATH</code> (5.0) å˜ä¸º <code>Env::get('runtime_path')</code> (5.1)ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-49">10.2. åŠŸèƒ½æ¨¡å—å·®å¼‚</h4>
<p><strong>1. è·¯ç”± (Routing)</strong></p>
<ul>
<li><strong>5.0 å†™æ³•:</strong>
<ul>
<li><strong>è·¯ç”±æ–‡ä»¶:</strong> <code>application/route.php</code>ã€‚</li>
<li><strong>å¼€å¯é…ç½®:</strong> é€šè¿‡ <code>'url_route_on' =&gt; true</code> å¼€å¯è·¯ç”±ã€‚</li>
<li><strong>æ‰¹é‡ç»‘å®šåŸŸå:</strong> <code>Route::domain(['a' =&gt; 'a', 'b' =&gt; 'b'])</code>ã€‚</li>
</ul>
</li>
<li><strong>5.1 å†™æ³•:</strong>
<ul>
<li><strong>è·¯ç”±æ–‡ä»¶:</strong> è·¯ç”±å®šä¹‰æ–‡ä»¶ï¼ˆå¦‚ <code>route.php</code>ï¼‰è¢«ç§»åŠ¨åˆ°ä¸åº”ç”¨åŒçº§çš„ <code>route/</code> ç›®å½•ä¸‹ã€‚</li>
<li><strong>å¼€å¯é…ç½®:</strong> <code>url_route_on</code> é…ç½®å‚æ•°å¤±æ•ˆï¼Œè·¯ç”±å§‹ç»ˆä¼šè¢«æ£€æŸ¥ã€‚</li>
<li><strong>æ‰¹é‡æ³¨å†Œ:</strong> <code>Route::rule</code> ä¸å†æ”¯æŒæ‰¹é‡æ³¨å†Œï¼Œéœ€ä½¿ç”¨ <code>Route::rules</code> æ›¿ä»£ã€‚</li>
<li><strong>æ‰¹é‡ç»‘å®šåŸŸå:</strong> å¿…é¡»æ”¹ä¸ºå•ç‹¬ç»‘å®šï¼Œä¾‹å¦‚ï¼š<code>Route::domain('a','a');</code> å’Œ <code>Route::domain('b','b');</code>ã€‚</li>
</ul>
</li>
</ul>
<p><strong>2. æ•°æ®åº“ (Database)</strong></p>
<ul>
<li><strong>5.0 å†™æ³•:</strong>
<ul>
<li><strong>æ•°ç»„æŸ¥è¯¢:</strong> æ”¯æŒ <code>where(['name' =&gt; ['like','think%'], 'id' =&gt; ['&gt;',0]])</code>ã€‚</li>
<li><strong>JSON æŸ¥è¯¢ (MySQL):</strong> ä½¿ç”¨ <code>user$.name</code> è¯­æ³•ã€‚</li>
</ul>
</li>
<li><strong>5.1 å†™æ³•:</strong>
<ul>
<li><strong>æ•°ç»„æŸ¥è¯¢:</strong> é’ˆå¯¹å¤šå­—æ®µçš„æ•°ç»„æŸ¥è¯¢è¯­æ³•æ”¹å˜ã€‚5.0 çš„å†™æ³•å¿…é¡»è°ƒæ•´ä¸º <code>where([['name','like','think%'], ['id','&gt;',0]])</code>ã€‚ (æ³¨æ„ï¼šçº¯ç­‰äºçš„æ¡ä»¶å¦‚ <code>where(['name'=&gt;'think'])</code> æ— éœ€æ›´æ”¹ã€‚)</li>
<li><strong>SQL è·å–:</strong> <code>select(false)</code> ç”¨æ³•è¢«å–æ¶ˆï¼Œåº”ä½¿ç”¨ <code>fetchSql()-&gt;select()</code> æ›¿ä»£ã€‚</li>
<li><strong>JSON æŸ¥è¯¢ (MySQL):</strong> è¯­æ³•ä» <code>user$.name</code> æ”¹ä¸º <code>user-&gt;name</code>ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-50">10.3. åŠ©æ‰‹å‡½æ•°åŠå…¶ä»–</h4>
<p><strong>1. Request (è¯·æ±‚)</strong></p>
<ul>
<li><strong>5.0 å†™æ³•:</strong> é€šè¿‡ <code>Request::instance()</code> æ–¹æ³•è·å–è¯·æ±‚å¯¹è±¡å®ä¾‹ã€‚
<ul>
<li>ä¾‹å¦‚: <code>Request::instance()-&gt;param('name');</code></li>
</ul>
</li>
<li><strong>5.1 å†™æ³•:</strong> ä¸å†éœ€è¦ <code>instance()</code> æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ (åº”ä¸ºé€šè¿‡ Facade)ã€‚</li>
</ul>
<p><strong>2. Loader (åŠ è½½å™¨)</strong></p>
<ul>
<li><strong>5.0 å†™æ³•:</strong> (éšå«) ä½¿ç”¨ <code>Loader::import</code> ä»¥åŠ <code>import</code> å’Œ <code>vendor</code> åŠ©æ‰‹å‡½æ•°ã€‚Loader ç±»åŒ…å« <code>controller</code>, <code>model</code>, <code>action</code>, <code>validate</code> ç­‰æ–¹æ³•ã€‚</li>
<li><strong>5.1 å†™æ³•:</strong>
<ul>
<li><strong>åºŸå¼ƒ:</strong> åºŸå¼ƒäº† <code>Loader::import</code>ã€<code>import</code> å’Œ <code>vendor</code> åŠ©æ‰‹å‡½æ•°ã€‚æ¨èä½¿ç”¨ PSR-4 è‡ªåŠ¨åŠ è½½ï¼Œæˆ–ä½¿ç”¨ PHP å†…ç½®çš„ <code>include</code> / <code>require</code>ã€‚</li>
<li><strong>ç§»å‡º:</strong> Loader ç±»çš„ <code>controller</code>, <code>model</code>, <code>action</code>, <code>validate</code> æ–¹æ³•è¢«ç§»è‡³ <code>App</code> ç±»ã€‚</li>
</ul>
</li>
</ul>
<p><strong>3. æ¨¡æ¿ (Template)</strong></p>
<ul>
<li><strong>5.0 å†™æ³•:</strong> (éšå«) å˜é‡è¾“å‡º <code>{$var}</code> é»˜è®¤ä¸è¿›è¡Œå®‰å…¨è¿‡æ»¤ã€‚</li>
<li><strong>5.1 å†™æ³•:</strong> å˜é‡è¾“å‡ºé»˜è®¤æ·»åŠ äº† <code>htmlentities</code> å®‰å…¨è¿‡æ»¤ã€‚å¦‚æœéœ€è¦è¾“å‡ºåŸå§‹ HTML å†…å®¹ï¼Œå¿…é¡»ä½¿ç”¨ <code>{$var|raw}</code> æ–¹å¼ã€‚</li>
</ul>
<h3 data-id="heading-51">11. ThinkPHP 5.1 çš„ä¸­é—´ä»¶æœºåˆ¶</h3>
<p>ä¸­é—´ä»¶ä¸»è¦ç”¨äºæ‹¦æˆªæˆ–è¿‡æ»¤åº”ç”¨çš„HTTPè¯·æ±‚ï¼Œå¹¶è¿›è¡Œå¿…è¦çš„ä¸šåŠ¡å¤„ç†ã€‚</p>
<h4 data-id="heading-52">11.1. å®šä¹‰ä¸­é—´ä»¶</h4>
<p>å¯ä»¥é€šè¿‡å‘½ä»¤è¡ŒæŒ‡ä»¤å¿«é€Ÿç”Ÿæˆä¸­é—´ä»¶</p>
<p><code>php think make:middleware Check</code></p>
<p>è¿™ä¸ªæŒ‡ä»¤ä¼š <code>application/http/middleware</code> ç›®å½•ä¸‹é¢ç”Ÿæˆä¸€ä¸ª<code>Check</code>ä¸­é—´ä»¶ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">http</span>\<span class="hljs-title class_">middleware</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Check</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params"><span class="hljs-variable">$request</span>, \<span class="hljs-built_in">Closure</span> <span class="hljs-variable">$next</span></span>)
    </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">param</span>(<span class="hljs-string">'name'</span>) == <span class="hljs-string">'think'</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">redirect</span>(<span class="hljs-string">'index/think'</span>);
        }

        <span class="hljs-keyword">return</span> <span class="hljs-variable">$next</span>(<span class="hljs-variable">$request</span>);
    }
}
</code></pre>
<p>ä¸­é—´ä»¶çš„å…¥å£æ‰§è¡Œæ–¹æ³•å¿…é¡»æ˜¯<code>handle</code>æ–¹æ³•ï¼Œè€Œä¸”ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯Requestå¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªé—­åŒ…ã€‚</p>
<p>ä¸­é—´ä»¶<code>handle</code>æ–¹æ³•çš„è¿”å›å€¼å¿…é¡»æ˜¯ä¸€ä¸ªResponseå¯¹è±¡ã€‚</p>
<p>åœ¨è¿™ä¸ªä¸­é—´ä»¶ä¸­æˆ‘ä»¬åˆ¤æ–­å½“å‰è¯·æ±‚çš„<code>name</code>å‚æ•°ç­‰äº<code>think</code>çš„æ—¶å€™è¿›è¡Œé‡å®šå‘å¤„ç†ã€‚å¦åˆ™ï¼Œè¯·æ±‚å°†è¿›ä¸€æ­¥ä¼ é€’åˆ°åº”ç”¨ä¸­ã€‚è¦è®©è¯·æ±‚ç»§ç»­ä¼ é€’åˆ°åº”ç”¨ç¨‹åºä¸­ï¼Œåªéœ€ä½¿ç”¨ <code>$request</code> ä½œä¸ºå‚æ•°å»è°ƒç”¨å›è°ƒå‡½æ•° <code>$next</code> ã€‚</p>
<p>åœ¨æŸäº›éœ€æ±‚ä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°ä¼ å…¥é¢å¤–çš„å‚æ•°ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">http</span>\<span class="hljs-title class_">middleware</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Check</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params"><span class="hljs-variable">$request</span>, \<span class="hljs-built_in">Closure</span> <span class="hljs-variable">$next</span>, <span class="hljs-variable">$name</span></span>)
    </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$name</span> == <span class="hljs-string">'think'</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">redirect</span>(<span class="hljs-string">'index/think'</span>);
        }

        <span class="hljs-keyword">return</span> <span class="hljs-variable">$next</span>(<span class="hljs-variable">$request</span>);
    }
}
</code></pre>
<h4 data-id="heading-53">11.2. å‰ç½®/åç½®ä¸­é—´ä»¶</h4>
<p>ä¸­é—´ä»¶æ˜¯åœ¨è¯·æ±‚å…·ä½“çš„æ“ä½œä¹‹å‰è¿˜æ˜¯ä¹‹åæ‰§è¡Œï¼Œå®Œå…¨å–å†³äºä¸­é—´ä»¶çš„å®šä¹‰æœ¬èº«ã€‚</p>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ª<strong>å‰ç½®è¡Œä¸º</strong>çš„ä¸­é—´ä»¶</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">http</span>\<span class="hljs-title class_">middleware</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Before</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params"><span class="hljs-variable">$request</span>, \<span class="hljs-built_in">Closure</span> <span class="hljs-variable">$next</span></span>)
    </span>{
        <span class="hljs-comment">// æ·»åŠ ä¸­é—´ä»¶æ‰§è¡Œä»£ç </span>

        <span class="hljs-keyword">return</span> <span class="hljs-variable">$next</span>(<span class="hljs-variable">$request</span>);
    }
}
</code></pre>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ª<strong>åç½®è¡Œä¸º</strong>çš„ä¸­é—´ä»¶</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">http</span>\<span class="hljs-title class_">middleware</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">After</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params"><span class="hljs-variable">$request</span>, \<span class="hljs-built_in">Closure</span> <span class="hljs-variable">$next</span></span>)
    </span>{
		<span class="hljs-variable">$response</span> = <span class="hljs-variable">$next</span>(<span class="hljs-variable">$request</span>);

        <span class="hljs-comment">// æ·»åŠ ä¸­é—´ä»¶æ‰§è¡Œä»£ç </span>

        <span class="hljs-keyword">return</span> <span class="hljs-variable">$response</span>;
    }
}
</code></pre>
<p>æ¥ä¸ªæ¯”è¾ƒå®é™…çš„ä¾‹å­ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­å½“å‰æµè§ˆå™¨ç¯å¢ƒæ˜¯åœ¨å¾®ä¿¡æˆ–æ”¯ä»˜å®ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">http</span>\<span class="hljs-title class_">middleware</span>;

<span class="hljs-comment">/**
 * è®¿é—®ç¯å¢ƒæ£€æŸ¥ï¼Œæ˜¯å¦æ˜¯å¾®ä¿¡æˆ–æ”¯ä»˜å®ç­‰
 */</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">InAppCheck</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params"><span class="hljs-variable">$request</span>, \<span class="hljs-built_in">Closure</span> <span class="hljs-variable">$next</span></span>)
    </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">preg_match</span>(<span class="hljs-string">'~micromessenger~i'</span>, <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">'user-agent'</span>))) {
            <span class="hljs-variable">$request</span>-&gt;InApp = <span class="hljs-string">'WeChat'</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-title function_ invoke__">preg_match</span>(<span class="hljs-string">'~alipay~i'</span>, <span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">header</span>(<span class="hljs-string">'user-agent'</span>))) {
            <span class="hljs-variable">$request</span>-&gt;InApp = <span class="hljs-string">'Alipay'</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$next</span>(<span class="hljs-variable">$request</span>);
    }
}
</code></pre>
<p>ç„¶ååœ¨ä½ çš„ç§»åŠ¨ç‰ˆçš„<code>module</code>é‡Œæ·»åŠ ä¸€ä¸ª<code>middleware.php</code>æ–‡ä»¶
ä¾‹å¦‚ï¼š<code>/path/application/mobile/middleware.php</code></p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">return</span> [
    app\http\middleware<span class="hljs-title class_">\InAppCheck</span>::<span class="hljs-variable language_">class</span>,
];
</code></pre>
<p>ç„¶ååœ¨ä½ çš„controllerä¸­å¯ä»¥é€šè¿‡<code>$this-&gt;request-&gt;InApp</code>è·å–ç›¸å…³çš„å€¼</p>
<h4 data-id="heading-54">11.3. æ³¨å†Œä¸­é—´ä»¶</h4>
<p><strong>è·¯ç”±ä¸­é—´ä»¶</strong></p>
<p>æœ€å¸¸ç”¨çš„ä¸­é—´ä»¶æ³¨å†Œæ–¹å¼æ˜¯æ³¨å†Œè·¯ç”±ä¸­é—´ä»¶</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'hello/:name'</span>,<span class="hljs-string">'hello'</span>)
	-&gt;<span class="hljs-title function_ invoke__">middleware</span>(<span class="hljs-string">'Auth'</span>);
</code></pre>
<p>æˆ–è€…ä½¿ç”¨å®Œæ•´çš„ä¸­é—´ä»¶ç±»å</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'hello/:name'</span>,<span class="hljs-string">'hello'</span>)
	-&gt;<span class="hljs-title function_ invoke__">middleware</span>(app\http\middleware<span class="hljs-title class_">\Auth</span>::<span class="hljs-variable language_">class</span>);
</code></pre>
<p>æ”¯æŒæ³¨å†Œå¤šä¸ªä¸­é—´ä»¶</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'hello/:name'</span>,<span class="hljs-string">'hello'</span>)
	-&gt;<span class="hljs-title function_ invoke__">middleware</span>([<span class="hljs-string">'Auth'</span>, <span class="hljs-string">'Check'</span>]);
</code></pre>
<p>V5.1.7+ç‰ˆæœ¬ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨åº”ç”¨é…ç½®ç›®å½•ä¸‹çš„<code>middleware.php</code>ä¸­å…ˆé¢„å®šä¹‰ä¸­é—´ä»¶ï¼ˆå…¶å®å°±æ˜¯å¢åŠ åˆ«åæ ‡è¯†ï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">return</span> [
	<span class="hljs-string">'auth'</span>	=&gt;	app\http\middleware<span class="hljs-title class_">\Auth</span>::<span class="hljs-variable language_">class</span>,
    <span class="hljs-string">'check'</span>	=&gt;	app\http\middleware<span class="hljs-title class_">\Check</span>::<span class="hljs-variable language_">class</span>
];
</code></pre>
<p>ç„¶åç›´æ¥åœ¨è·¯ç”±ä¸­ä½¿ç”¨ä¸­é—´ä»¶åˆ«åæ³¨å†Œ</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'hello/:name'</span>,<span class="hljs-string">'hello'</span>)
	-&gt;<span class="hljs-title function_ invoke__">middleware</span>([<span class="hljs-string">'auth'</span>, <span class="hljs-string">'check'</span>]);
</code></pre>
<p>V5.1.8+ç‰ˆæœ¬å¼€å§‹ï¼Œå¯ä»¥æ”¯æŒä½¿ç”¨åˆ«åå®šä¹‰ä¸€ç»„ä¸­é—´ä»¶ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">return</span> [
	<span class="hljs-string">'check'</span>	=&gt;	[
    	app\http\middleware<span class="hljs-title class_">\Auth</span>::<span class="hljs-variable language_">class</span>,
   		app\http\middleware<span class="hljs-title class_">\Check</span>::<span class="hljs-variable language_">class</span>
    ],
];
</code></pre>
<p>ç„¶åï¼Œç›´æ¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼æ³¨å†Œä¸­é—´ä»¶</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'hello/:name'</span>,<span class="hljs-string">'hello'</span>)
	-&gt;<span class="hljs-title function_ invoke__">middleware</span>(<span class="hljs-string">'check'</span>);
</code></pre>
<p>æ”¯æŒå¯¹è·¯ç”±åˆ†ç»„æ³¨å†Œä¸­é—´ä»¶</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">group</span>(<span class="hljs-string">'hello'</span>, function(){
	<span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'hello/:name'</span>,<span class="hljs-string">'hello'</span>);
})-&gt;<span class="hljs-title function_ invoke__">middleware</span>(<span class="hljs-string">'Auth'</span>);
</code></pre>
<p>V5.1.8+ç‰ˆæœ¬å¼€å§‹æ”¯æŒå¯¹æŸä¸ªåŸŸåæ³¨å†Œä¸­é—´ä»¶</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">domain</span>(<span class="hljs-string">'admin'</span>, function(){
	<span class="hljs-comment">// æ³¨å†ŒåŸŸåä¸‹çš„è·¯ç”±è§„åˆ™</span>
})-&gt;<span class="hljs-title function_ invoke__">middleware</span>(<span class="hljs-string">'Auth'</span>);
</code></pre>
<p>å¦‚æœéœ€è¦ä¼ å…¥é¢å¤–å‚æ•°ç»™ä¸­é—´ä»¶ï¼Œå¯ä»¥ä½¿ç”¨</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'hello/:name'</span>,<span class="hljs-string">'hello'</span>)
	-&gt;<span class="hljs-title function_ invoke__">middleware</span>(<span class="hljs-string">'Auth:admin'</span>);
</code></pre>
<p>å¦‚æœä½¿ç”¨çš„æ˜¯å¸¸é‡æ–¹å¼å®šä¹‰ï¼Œå¯ä»¥åœ¨ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥ä¸­é—´ä»¶å‚æ•°ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'hello/:name'</span>,<span class="hljs-string">'hello'</span>)
	-&gt;<span class="hljs-title function_ invoke__">middleware</span>(<span class="hljs-title class_">Auth</span>::<span class="hljs-variable language_">class</span>, <span class="hljs-string">'admin'</span>);
</code></pre>
<p>å¦‚æœéœ€è¦å®šä¹‰å¤šä¸ªä¸­é—´ä»¶ï¼Œä½¿ç”¨æ•°ç»„æ–¹å¼</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'hello/:name'</span>,<span class="hljs-string">'hello'</span>)
	-&gt;<span class="hljs-title function_ invoke__">middleware</span>([<span class="hljs-title class_">Auth</span>::<span class="hljs-variable language_">class</span>, <span class="hljs-string">'Check'</span>]);
</code></pre>
<p>å¯ä»¥ç»Ÿä¸€ä¼ å…¥åŒä¸€ä¸ªé¢å¤–å‚æ•°</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'hello/:name'</span>,<span class="hljs-string">'hello'</span>)
	-&gt;<span class="hljs-title function_ invoke__">middleware</span>([<span class="hljs-title class_">Auth</span>::<span class="hljs-variable language_">class</span>, <span class="hljs-string">'Check'</span>], <span class="hljs-string">'admin'</span>);
</code></pre>
<p>æˆ–è€…å•ç‹¬æŒ‡å®šä¸­é—´ä»¶å‚æ•°ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'hello/:name'</span>,<span class="hljs-string">'hello'</span>)
	-&gt;<span class="hljs-title function_ invoke__">middleware</span>([<span class="hljs-string">'Auth:admin'</span>, <span class="hljs-string">'Check:editor'</span>]);
</code></pre>
<p><strong>ä½¿ç”¨é—­åŒ…å®šä¹‰ä¸­é—´ä»¶</strong></p>
<p>ä½ ä¸ä¸€å®šè¦ä½¿ç”¨ä¸­é—´ä»¶ç±»ï¼Œåœ¨æŸäº›ç®€å•çš„åœºåˆä½ å¯ä»¥ä½¿ç”¨é—­åŒ…å®šä¹‰ä¸­é—´ä»¶ï¼Œä½†é—­åŒ…å‡½æ•°å¿…é¡»è¿”å›Responseå¯¹è±¡å®ä¾‹ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">group</span>(<span class="hljs-string">'hello'</span>, function(){
	<span class="hljs-title class_">Route</span>::<span class="hljs-title function_ invoke__">rule</span>(<span class="hljs-string">'hello/:name'</span>,<span class="hljs-string">'hello'</span>);
})-&gt;<span class="hljs-title function_ invoke__">middleware</span>(function(<span class="hljs-variable">$request</span>,\<span class="hljs-built_in">Closure</span> <span class="hljs-variable">$next</span>){
    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$request</span>-&gt;<span class="hljs-title function_ invoke__">param</span>(<span class="hljs-string">'name'</span>) == <span class="hljs-string">'think'</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_ invoke__">redirect</span>(<span class="hljs-string">'index/think'</span>);
    }
	<span class="hljs-keyword">return</span> <span class="hljs-variable">$next</span>(<span class="hljs-variable">$request</span>);
});
</code></pre>
<p><strong>å…¨å±€ä¸­é—´ä»¶</strong></p>
<p>ä½ å¯ä»¥åœ¨åº”ç”¨ç›®å½•ä¸‹é¢å®šä¹‰<code>middleware.php</code>æ–‡ä»¶ï¼Œä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">return</span> [
	\app\http\middleware<span class="hljs-title class_">\Auth</span>::<span class="hljs-variable language_">class</span>,
    <span class="hljs-string">'Check'</span>,
    <span class="hljs-string">'Hello'</span>,
];
</code></pre>
<p>ä¸­é—´ä»¶çš„æ³¨å†Œåº”è¯¥ä½¿ç”¨å®Œæ•´çš„ç±»åï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šå‘½åç©ºé—´åˆ™ä½¿ç”¨<code>app\http\middleware</code>ä½œä¸ºå‘½åç©ºé—´ã€‚
å…¨å±€ä¸­é—´ä»¶çš„æ‰§è¡Œé¡ºåºå°±æ˜¯å®šä¹‰é¡ºåºã€‚å¯ä»¥åœ¨å®šä¹‰å…¨å±€ä¸­é—´ä»¶çš„æ—¶å€™ä¼ å…¥ä¸­é—´ä»¶å‚æ•°ï¼Œæ”¯æŒä¸¤ç§æ–¹å¼ä¼ å…¥ã€‚</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">return</span> [
	[\app\http\middleware<span class="hljs-title class_">\Auth</span>::<span class="hljs-variable language_">class</span>, <span class="hljs-string">'admin'</span>],
    <span class="hljs-string">'Check'</span>,
    <span class="hljs-string">'Hello:thinkphp'</span>,
];
</code></pre>
<p>ä¸Šé¢çš„å®šä¹‰è¡¨ç¤º ç»™Authä¸­é—´ä»¶ä¼ å…¥<code>admin</code>å‚æ•°ï¼Œç»™Helloä¸­é—´ä»¶ä¼ å…¥<code>thinkphp</code>å‚æ•°ã€‚</p>
<p><strong>æ¨¡å—ä¸­é—´ä»¶</strong></p>
<p>V5.1.8+ç‰ˆæœ¬å¼€å§‹ï¼Œæ”¯æŒæ¨¡å—ä¸­é—´ä»¶å®šä¹‰ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨æ¨¡å—ç›®å½•ä¸‹é¢å¢åŠ <code>middleware.php</code>æ–‡ä»¶ï¼Œå®šä¹‰æ–¹å¼å’Œåº”ç”¨ä¸­é—´ä»¶å®šä¹‰ä¸€æ ·ï¼Œåªæ˜¯åªä¼šåœ¨è¯¥æ¨¡å—ä¸‹é¢ç”Ÿæ•ˆã€‚</p>
<p><strong>æ§åˆ¶å™¨ä¸­é—´ä»¶</strong></p>
<p>V5.1.17+ç‰ˆæœ¬å¼€å§‹ï¼Œæ”¯æŒä¸ºæ§åˆ¶å™¨å®šä¹‰ä¸­é—´ä»¶ã€‚é¦–å…ˆä½ çš„æ§åˆ¶å™¨éœ€è¦ç»§æ‰¿ç³»ç»Ÿçš„<code>think\Controller</code>ç±»ï¼Œç„¶ååœ¨æ§åˆ¶å™¨ä¸­å®šä¹‰<code>middleware</code>å±æ€§ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">controller</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Controller</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$middleware</span> = [<span class="hljs-string">'Auth'</span>];
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'index'</span>;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'hello'</span>;
    }
}
</code></pre>
<p>å½“æ‰§è¡Œ<code>index</code>æ§åˆ¶å™¨çš„æ—¶å€™å°±ä¼šè°ƒç”¨<code>Auth</code>ä¸­é—´ä»¶ï¼Œä¸€æ ·æ”¯æŒä½¿ç”¨å®Œæ•´çš„å‘½åç©ºé—´å®šä¹‰ã€‚
å¦‚æœéœ€è¦è®¾ç½®æ§åˆ¶å™¨ä¸­é—´çš„ç”Ÿæ•ˆæ“ä½œï¼Œå¯ä»¥å¦‚ä¸‹å®šä¹‰ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">index</span>\<span class="hljs-title class_">controller</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">think</span>\<span class="hljs-title">Controller</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Index</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span>
</span>{
    <span class="hljs-keyword">protected</span> <span class="hljs-variable">$middleware</span> = [ 
    	<span class="hljs-string">'Auth'</span> 	=&gt; [<span class="hljs-string">'except'</span> 	=&gt; [<span class="hljs-string">'hello'</span>] ],
        <span class="hljs-string">'Hello'</span> =&gt; [<span class="hljs-string">'only'</span> 		=&gt; [<span class="hljs-string">'hello'</span>] ],
    ];
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'index'</span>;
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span>(<span class="hljs-params"/>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-string">'hello'</span>;
    }
}
</code></pre>
<h4 data-id="heading-55">11.4. ä¸­é—´ä»¶å‘æ§åˆ¶å™¨ä¼ å‚</h4>
<p>å¯ä»¥é€šè¿‡ç»™è¯·æ±‚å¯¹è±¡èµ‹å€¼çš„æ–¹å¼ä¼ å‚ç»™æ§åˆ¶å™¨ï¼ˆæˆ–è€…å…¶å®ƒåœ°æ–¹ï¼‰ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title class_">app</span>\<span class="hljs-title class_">http</span>\<span class="hljs-title class_">middleware</span>;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hello</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handle</span>(<span class="hljs-params"><span class="hljs-variable">$request</span>, \<span class="hljs-built_in">Closure</span> <span class="hljs-variable">$next</span></span>)
    </span>{
        <span class="hljs-variable">$request</span>-&gt;hello = <span class="hljs-string">'ThinkPHP'</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-variable">$next</span>(<span class="hljs-variable">$request</span>);
    }
}
</code></pre>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong> &lt;i&gt;ï¼ˆåŸæ–‡ä¸­æ­¤éƒ¨åˆ†ä¸ 11.3 æ§åˆ¶å™¨ä¸­é—´ä»¶éƒ¨åˆ†é‡å¤ï¼Œæ­¤å¤„ä¿ç•™ä¸€ä»½ï¼‰&lt;/i&gt; ä¼ é€’çš„å˜é‡åç§°ä¸è¦å’Œparamå˜é‡æœ‰å†²çªã€‚</p>
</blockquote>
<p>ç„¶ååœ¨æ§åˆ¶å™¨çš„æ–¹æ³•é‡Œé¢å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-php" lang="php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span>(<span class="hljs-params">Request <span class="hljs-variable">$request</span></span>)
</span>{
	<span class="hljs-keyword">return</span> <span class="hljs-variable">$request</span>-&gt;hello; <span class="hljs-comment">// ThinkPHP</span>
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨Cè¯­è¨€å†™ä¸€ä¸ªå¯ä»¥æ’åºçš„ç¨‹åº]]></title>    <link>https://juejin.cn/post/7580180556983894066</link>    <guid>https://juejin.cn/post/7580180556983894066</guid>    <pubDate>2025-12-05T14:15:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580180556983894066" data-draft-id="7580197740962447386" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨Cè¯­è¨€å†™ä¸€ä¸ªå¯ä»¥æ’åºçš„ç¨‹åº"/> <meta itemprop="keywords" content="C++"/> <meta itemprop="datePublished" content="2025-12-05T14:15:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é…·é…·çš„ä½³"/> <meta itemprop="url" content="https://juejin.cn/user/2939463340923272"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨Cè¯­è¨€å†™ä¸€ä¸ªå¯ä»¥æ’åºçš„ç¨‹åº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2939463340923272/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é…·é…·çš„ä½³
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:15:16.000Z" title="Fri Dec 05 2025 14:15:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»£ç è§£æï¼š</h2>
<pre><code class="hljs language-c" lang="c">è¾“å…¥éƒ¨åˆ†ï¼šé€šè¿‡<span class="hljs-keyword">for</span>å¾ªç¯è¯»å– <span class="hljs-number">5</span> ä¸ªæ•´æ•°å­˜å…¥æ•°ç»„arrï¼Œåˆ©ç”¨<span class="hljs-built_in">scanf</span>è·å–é”®ç›˜è¾“å…¥ã€‚ï¼ˆä»¥<span class="hljs-number">5</span>ä¸ªæ•°ä¸ºä¾‹ï¼Œå¯ä»»æ„æ”¹å˜æ•°å­—å¤šå°‘ï¼‰
æ’åºéƒ¨åˆ†ï¼šé‡‡ç”¨å†’æ³¡æ’åºï¼š
å¤–å±‚å¾ªç¯æ§åˆ¶ â€œæ’åºè½®æ•°â€ï¼ˆ<span class="hljs-number">5</span> ä¸ªå…ƒç´ éœ€ <span class="hljs-number">4</span> è½®ï¼Œæ¯è½®ç¡®å®š <span class="hljs-number">1</span> ä¸ªæœ€å¤§å…ƒç´ çš„ä½ç½®ï¼‰ï¼›
å†…å±‚å¾ªç¯æ§åˆ¶ â€œæ¯è½®æ¯”è¾ƒæ¬¡æ•°â€ï¼ˆj&lt;<span class="hljs-number">4</span>-iæ˜¯ä¼˜åŒ–å†™æ³•ï¼Œæ¯è½®æ¯”è¾ƒæ¬¡æ•°éšå·²æ’å¥½çš„å…ƒç´ æ•°é‡å‡å°‘ï¼Œæå‡æ•ˆç‡ï¼‰ï¼›
é€šè¿‡äº¤æ¢æ“ä½œï¼Œå°†è¾ƒå¤§çš„å…ƒç´ é€æ­¥ â€œç§»åŠ¨â€ åˆ°æ•°ç»„æœ«å°¾ã€‚
è¾“å‡ºéƒ¨åˆ†ï¼šè¡¥å…¨äº†å¾ªç¯æ‰“å°é€»è¾‘ï¼Œéå†æ•°ç»„è¾“å‡ºæ’åºåçš„å…ƒç´ ã€‚
</code></pre>
<h2 data-id="heading-1">å®Œæ•´ä»£ç ï¼š</h2>
<pre><code class="hljs language-C" lang="C"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// å®šä¹‰å­˜å‚¨5ä¸ªæ•°å­—çš„æ•°ç»„</span>
    <span class="hljs-type">int</span> arr[<span class="hljs-number">5</span>];

    <span class="hljs-comment">// ä»é”®ç›˜è¾“å…¥5ä¸ªæ•°å­—</span>
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">5</span>; i++){
        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%d"</span>, &amp;arr[i]);
    }

    <span class="hljs-comment">// å†’æ³¡æ’åºï¼ˆä»å°åˆ°å¤§ï¼‰</span>
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">4</span>; i++){  <span class="hljs-comment">// å…±è¿›è¡Œ4è½®æ’åºï¼ˆ5ä¸ªå…ƒç´ åªéœ€æ’4è½®ï¼‰</span>
        <span class="hljs-comment">// æ¯è½®å°†å½“å‰æœ€å¤§çš„å…ƒç´ â€œå†’æ³¡â€åˆ°æœ«å°¾ï¼Œå†…å±‚å¾ªç¯æ¬¡æ•°é€è½®å‡å°‘</span>
        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">4</span>-i; j++){  
            <span class="hljs-keyword">if</span>(arr[j] &gt; arr[j+<span class="hljs-number">1</span>]){  <span class="hljs-comment">// è‹¥å‰ä¸€ä¸ªå…ƒç´ å¤§äºåä¸€ä¸ªï¼Œäº¤æ¢ä½ç½®</span>
                <span class="hljs-type">int</span> temp = arr[j];
                arr[j] = arr[j+<span class="hljs-number">1</span>];
                arr[j+<span class="hljs-number">1</span>] = temp;
            }
        }
    }

    <span class="hljs-comment">// æ‰“å°æ’åºåçš„ç»“æœ</span>
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"æ’åºåçš„ç»“æœï¼š"</span>);
    <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">5</span>; i++){
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d "</span>, arr[i]);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<h2 data-id="heading-2">è¿è¡Œç»“æœï¼š</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5632813a39148178b9031fec7ba7617~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YW36YW355qE5L2z:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765548916&amp;x-signature=VX%2F%2BBQh7e2vbofih5Ad3NyDU%2B3g%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ ‘è“æ´¾é•œåƒæºé…ç½®ï¼šä»â€œé¾Ÿé€Ÿä¸‹è½½â€åˆ°â€œå…‰é€Ÿèµ·é£â€çš„è‡ªæ•‘æŒ‡å—]]></title>    <link>https://juejin.cn/post/7580233527284088882</link>    <guid>https://juejin.cn/post/7580233527284088882</guid>    <pubDate>2025-12-05T14:15:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580233527284088882" data-draft-id="7580055720483749914" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ ‘è“æ´¾é•œåƒæºé…ç½®ï¼šä»â€œé¾Ÿé€Ÿä¸‹è½½â€åˆ°â€œå…‰é€Ÿèµ·é£â€çš„è‡ªæ•‘æŒ‡å—"/> <meta itemprop="keywords" content="æ ‘è“æ´¾"/> <meta itemprop="datePublished" content="2025-12-05T14:15:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå‚»ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/3599120000639787"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ ‘è“æ´¾é•œåƒæºé…ç½®ï¼šä»â€œé¾Ÿé€Ÿä¸‹è½½â€åˆ°â€œå…‰é€Ÿèµ·é£â€çš„è‡ªæ•‘æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3599120000639787/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå‚»ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:15:27.000Z" title="Fri Dec 05 2025 14:15:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ ‘è“æ´¾é•œåƒæºé…ç½®ï¼šä»â€œé¾Ÿé€Ÿä¸‹è½½â€åˆ°â€œå…‰é€Ÿèµ·é£â€çš„è‡ªæ•‘æŒ‡å—</h2>
<p>å®¶äººä»¬è°æ‡‚å•Šï¼åˆšæ‹¿åˆ°æ ‘è“æ´¾å…´å†²å†²æƒ³è£…è½¯ä»¶ï¼Œç»“æœaptä¸‹è½½åƒèœ—ç‰›çˆ¬ï¼Œpipå®‰è£…å¡åˆ°æ€€ç–‘äººç”Ÿï¼Œcondaæ›´æ˜¯ç›´æ¥åŸåœ°æ‘†çƒ‚ã€‚æŠ˜è…¾äº†åŠå¤©æ‰å‘ç°ï¼ŒåŸæ¥æ˜¯é•œåƒæºæ²¡é…ç½®å¯¹ï¼ä»Šå¤©å°±æŠŠè¿™ä»½äº²æµ‹æœ‰æ•ˆçš„â€œæ ‘è“æ´¾æé€Ÿç§˜ç±â€åˆ†äº«å‡ºæ¥ï¼Œè®©ä½ çš„å°æ´¾å‘Šåˆ«é¾Ÿé€Ÿï¼Œèµ·é£ä¸æ˜¯æ¢¦ï¼</p>
<h3 data-id="heading-1">ä¸€ã€aptæºï¼šç»™ç³»ç»Ÿæ›´æ–°æ’ä¸Šâ€œæ¸…åç«ç®­â€</h3>
<p>å’±æ ‘è“æ´¾é»˜è®¤çš„aptæºï¼Œé‚£é€Ÿåº¦ç®€ç›´èƒ½æ€¥æ­»æ€¥æ€§å­ã€‚æƒ³ç»™ç³»ç»Ÿè£…ä¸ªè½¯ä»¶ï¼Œè¿›åº¦æ¡èƒ½å¡åˆ°å¤©è’åœ°è€ï¼Œç”šè‡³è¿˜ä¼šåŠè·¯â€œå¤±è”â€ã€‚åˆ«æ€¥ï¼Œå’±ç›´æ¥æŠŠå®ƒæ¢æˆæ¸…åé•œåƒæºï¼Œä¸»æ‰“ä¸€ä¸ªä¸æ»‘ï¼</p>
<p>é¦–å…ˆæå‡ºå‘½ä»¤è¡Œï¼Œè¾“å…¥<code>sudo nano /etc/apt/sources.list</code>ï¼Œæ‰“å¼€aptçš„é…ç½®æ–‡ä»¶ã€‚æ¥ä¸‹æ¥æŠŠæ¸…åé•œåƒæºçš„åœ°å€åŠ è¿›å»ï¼Œè¿™é‡Œå‹æƒ…æç¤ºï¼šåˆ«æŠŠç³»ç»Ÿè‡ªå¸¦çš„æºå…¨åˆ æ‰ï¼Œç•™ç€å¤‡ç”¨æ‰ç¨³å¦¥ï¼ä¿®æ”¹åçš„é…ç½®é•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">deb  https:<span class="hljs-comment">//mirrors.tuna.tsinghua.edu.cn/raspberrypi/  bookworm main</span>
deb  http:<span class="hljs-comment">//deb.debian.org/debian  bookworm main contrib non-free non-free-firmware</span>
deb  http:<span class="hljs-comment">//deb.debian.org/debian-security/  bookworm-security main contrib non-free non-free-firmware</span>
deb  http:<span class="hljs-comment">//deb.debian.org/debian  bookworm-updates main contrib non-free non-free-firmware</span>
</code></pre>
<p>ä¿å­˜é€€å‡ºåï¼Œå†æ›´æ–°ä¸€ä¸‹æºï¼Œä½ ä¼šå‘ç°ï¼ŒåŸæ¥ç³»ç»Ÿæ›´æ–°ä¹Ÿèƒ½è¿™ä¹ˆå¿«ï¼</p>
<h3 data-id="heading-2">äºŒã€pipæºï¼šPythonåŒ…ä¸‹è½½ä¸å†â€œå¡æˆPPTâ€</h3>
<p>ç”¨pipè£…PythonåŒ…çš„ç—›ï¼Œè°ç”¨è°çŸ¥é“ã€‚æœ‰æ—¶å€™ä¸€ä¸ªå‡ ç™¾KBçš„å°åŒ…ï¼Œèƒ½ä¸‹è½½ååˆ†é’Ÿï¼Œè¿˜åŠ¨ä¸åŠ¨æç¤ºè¶…æ—¶ã€‚è¿™æ—¶å€™å°±å¾—ç»™pipä¹Ÿå®‰æ’ä¸Šâ€œä¸“å±åŠ é€Ÿé€šé“â€ã€‚</p>
<p>å…ˆè¾“å…¥<code>mkdir -p $HOME/.pip &amp;&amp; nano $HOME/.pip/pip.conf</code>ï¼Œåˆ›å»ºå¹¶æ‰“å¼€pipçš„é…ç½®æ–‡ä»¶ï¼Œç„¶åæŠŠä¸‹é¢è¿™æ®µä»£ç ç²˜è´´è¿›å»ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[global]</span>
<span class="hljs-attr">index-url</span> = https://pypi.tuna.tsinghua.edu.cn/simple

<span class="hljs-section">[install]</span>
<span class="hljs-attr">extra-index-url</span> =
    https://mirrors.aliyun.com/pypi/simple/
    https://pypi.org/simple
</code></pre>
<p>é…ç½®å®Œä¹‹åå†è¯•ä¸€æ¬¡pip installï¼Œé‚£é€Ÿåº¦ï¼Œä»â€œPPTåŠ è½½â€ç›´æ¥å˜æˆâ€œç§’å¼€è§†é¢‘â€ï¼Œçˆ½åˆ°é£èµ·ï¼</p>
<h3 data-id="heading-3">ä¸‰ã€condaæºï¼šæ•°æ®åˆ†æå…šå†ä¹Ÿä¸ç”¨ç­‰å“­</h3>
<p>å¯¹äºéœ€è¦ç”¨condaææ•°æ®åˆ†æçš„æœ‹å‹æ¥è¯´ï¼Œé»˜è®¤æºçš„é€Ÿåº¦èƒ½è®©äººç›´æ¥emoã€‚åˆ«æ…Œï¼Œæ¸…åé•œåƒæºç…§æ ·èƒ½æ‹¯æ•‘ä½ ï¼</p>
<p>ä¾æ¬¡è¾“å…¥è¿™å‡ æ¡å‘½ä»¤ï¼Œç»™condaå®‰æ’ä¸Šæ¸…åçš„â€œä¸“å±é€šé“â€ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">conda config --add channels https:<span class="hljs-comment">//mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span>
conda config --add channels https:<span class="hljs-comment">//mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge</span>
conda config --set channel_priority strict
conda config --set show_channel_urls yes
</code></pre>
<p>æœ€åè¾“å…¥<code>conda config --show channels</code>æ£€æŸ¥ä¸€ä¸‹é€šé“ï¼Œç¡®è®¤é…ç½®æˆåŠŸï¼Œä»¥åcondaè£…åŒ…å†ä¹Ÿä¸ç”¨è¾¹ç­‰è¾¹æ‘¸é±¼äº†ï¼</p>
<h3 data-id="heading-4">å››ã€å®‰è£…miniforgeï¼šç»™condaè£…ä¸ªâ€œå›½äº§åŠ é€Ÿå™¨â€</h3>
<p>å¦‚æœä½ çš„æ ‘è“æ´¾è¿˜æ²¡è£…miniforgeï¼Œé‚£å¯å¾—èµ¶ç´§å®‰æ’ä¸Šï¼ä¸è¿‡ç›´æ¥ä»GitHubä¸‹è½½ï¼Œé€Ÿåº¦å¯èƒ½æœ‰ç‚¹æ‹‰èƒ¯ï¼Œè´´å¿ƒå¦‚æˆ‘ï¼Œç»™ä½ ä»¬å‡†å¤‡äº†åŠ é€Ÿé“¾æ¥ï¼</p>
<ol>
<li>å…ˆä¸‹è½½å®‰è£…è„šæœ¬ï¼Œè¦æ˜¯GitHubé“¾æ¥ä¸‹ä¸åŠ¨ï¼Œç›´æ¥æ¢æ¸…åçš„åŠ é€Ÿé“¾æ¥ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># GitHubé“¾æ¥</span>
wget https://github.com/conda-forge/miniforge/releases/latest/download/Miniforge3-Linux-aarch64.sh
<span class="hljs-comment"># åŠ é€Ÿé“¾æ¥</span>
wget https://mirrors.tuna.tsinghua.edu.cn/github-release/conda-forge/miniforge/LatestRelease/Miniforge3-Linux-aarch64.sh
</code></pre>
<ol start="2">
<li>ç»™è„šæœ¬åŠ ä¸ªå¯æ‰§è¡Œæƒé™ï¼š<code>chmod +x Miniforge3-Linux-aarch64.sh</code></li>
<li>è¿è¡Œå®‰è£…è„šæœ¬ï¼š<code>./Miniforge3-Linux-aarch64.sh -b</code></li>
<li>æŠŠå®ƒåŠ åˆ°PATHç¯å¢ƒé‡Œï¼Œä¸ç„¶ç³»ç»Ÿæ‰¾ä¸åˆ°ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH="$HOME/miniforge3/bin:$PATH"'</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">source</span> ~/.bashrc
</code></pre>
<ol start="5">
<li>æœ€ååˆå§‹åŒ–condaå†é‡å¯ä¸€ä¸‹ï¼š<code>conda init &amp;&amp; sudo reboot</code>ï¼ˆæ‚„æ‚„è¯´ï¼ŒåŸæ–‡é‡Œçš„æŒ‡ä»¤å¤šæ‰“äº†ä¸ªcondaï¼Œå’±å¯åˆ«è¸©è¿™ä¸ªå‘ï¼‰</li>
</ol>
<p>é…ç½®å®Œè¿™ä¸€å¥—ï¼Œä½ çš„æ ‘è“æ´¾ç›´æ¥å˜èº«â€œä¸‹è½½å°èƒ½æ‰‹â€ï¼Œä¸ç®¡æ˜¯ç³»ç»Ÿæ›´æ–°ã€è£…PythonåŒ…è¿˜æ˜¯ææ•°æ®åˆ†æï¼Œéƒ½èƒ½ä¸€è·¯ç•…é€šã€‚å¿«æ”¶è—èµ·æ¥ï¼Œä¸‹æ¬¡å†é‡åˆ°ä¸‹è½½é¾Ÿé€Ÿçš„æƒ…å†µï¼Œç›´æ¥æå‡ºè¿™ä»½ç§˜ç±è‡ªæ•‘ï¼è½¬æˆmarkdownä»£ç </p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ¤– AIGCæŠ€æœ¯æœåŠ¡å•†ä¸Webå¹³å°çš„APIå¯¹æ¥æ ‡å‡†ä¸æŠ€æœ¯è§„èŒƒ]]></title>    <link>https://juejin.cn/post/7580259796667940910</link>    <guid>https://juejin.cn/post/7580259796667940910</guid>    <pubDate>2025-12-06T03:02:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580259796667940910" data-draft-id="7580263284336771113" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ¤– AIGCæŠ€æœ¯æœåŠ¡å•†ä¸Webå¹³å°çš„APIå¯¹æ¥æ ‡å‡†ä¸æŠ€æœ¯è§„èŒƒ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC,æ¶æ„"/> <meta itemprop="datePublished" content="2025-12-06T03:02:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ¤– AIGCæŠ€æœ¯æœåŠ¡å•†ä¸Webå¹³å°çš„APIå¯¹æ¥æ ‡å‡†ä¸æŠ€æœ¯è§„èŒƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T03:02:17.000Z" title="Sat Dec 06 2025 03:02:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§­ ä¸€ã€å¼•è¨€ï¼šå½“çµæ„Ÿé‡ä¸Šæ¥å£</h2>
<p>æˆ‘ä»¬æ­£ç”Ÿæ´»åœ¨ä¸€ä¸ª**AIGCï¼ˆAI Generated Contentï¼‰**æ—¶ä»£â€”â€”æ–‡å­—ä¼šè‡ªå·±ç”Ÿé•¿ï¼Œå›¾åƒä¼šè‡ªå·±ç»˜åˆ¶ï¼Œç¨‹åºç”šè‡³ä¼šå†™ç¨‹åºï¼ˆä¹Ÿå°±æ˜¯æˆ‘åœ¨åšçš„äº‹ğŸ¤“ï¼‰ã€‚<br/>
ä½†åœ¨è¿™åœºçœ‹ä¼¼æµªæ¼«çš„ã€Œæœºå™¨åˆ›ä½œã€èƒŒåï¼Œå­˜åœ¨ä¸€æ¡å†°å†·åˆä¼˜é›…çš„é“¾è·¯ï¼š<strong>APIæ¥å£è§„èŒƒ</strong>ã€‚</p>
<p>å¦‚æœAIGCæ˜¯è‰ºæœ¯å®¶ï¼Œé‚£ä¹ˆAPIå°±æ˜¯è¿æ¥è‰ºæœ¯å®¶ä¸è§‚ä¼—çš„é’¢ä¸ï¼›<br/>
å¦‚æœè¯´Webå¹³å°æ˜¯èˆå°ï¼Œé‚£ä¹ˆAPIå°±æ˜¯ç¯å…‰å¸ˆæ‰‹ä¸­çš„æ§åˆ¶å°ğŸ›ï¸ã€‚</p>
<p>æ‰€ä»¥ï¼Œä»Šå¤©æˆ‘ä»¬è¦èŠçš„ä¸æ˜¯â€œAIèƒ½ç”»å¤šä¹ˆæ¼‚äº®çš„çŒ«â€ï¼Œè€Œæ˜¯â€œè¿™åªçŒ«çš„åƒç´ æ˜¯å¦‚ä½•é¡ºç€HTTPæµåŠ¨åˆ°ä½ çš„æµè§ˆå™¨é‡Œçš„â€ã€‚</p>
<hr/>
<h2 data-id="heading-1">ğŸ§© äºŒã€APIå¯¹æ¥çš„æ ¸å¿ƒå“²å­¦</h2>
<p>ä¸€å¥è¯æ€»ç»“ï¼š</p>
<blockquote>
<p>â€œä»»ä½•ä¸€æ¬¡æˆåŠŸçš„APIè°ƒç”¨ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸¤å°æœºå™¨äº’ç›¸ç†è§£ã€å¹¶ä¼˜é›…åœ°ä¸èµ·å†²çªçš„è¿‡ç¨‹ã€‚â€</p>
</blockquote>
<p>è€Œè¿™ç§â€œç†è§£â€ï¼Œå»ºç«‹åœ¨ä¸‰ä¸ªå…³é”®æ”¯æŸ±ä¹‹ä¸Šï¼š</p>

























<table><thead><tr><th>æ”¯æŸ±</th><th>å«ä¹‰</th><th>ç±»æ¯”</th></tr></thead><tbody><tr><td>åè®®ï¼ˆProtocolï¼‰</td><td>æœºå™¨çš„è¯­è¨€ä¸è¯­æ³•è§„åˆ™</td><td>äººç±»è¯´ä¸­æ–‡è¿˜æ˜¯ç²¤è¯­ï¼Ÿ</td></tr><tr><td>æ ‡å‡†åŒ–æ•°æ®æ ¼å¼</td><td>å¯¹è¯çš„å†…å®¹ç»“æ„</td><td>ç”¨å¥å·è¿˜æ˜¯emojiç»“å°¾ï¼Ÿ</td></tr><tr><td>å®‰å…¨è®¤è¯æœºåˆ¶</td><td>èº«ä»½ç¡®è®¤å’Œæƒé™æ§åˆ¶</td><td>æœ‰æ²¡æœ‰è¯·å¸–æ‰èƒ½è¿›èˆä¼šï¼Ÿ</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-2">âš™ï¸ ä¸‰ã€AIGC APIæ¥å£æ ‡å‡†åŒ–è®¾è®¡æ€è·¯</h2>
<p>å½“æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªAIGCæœåŠ¡ APIï¼ˆæ¯”å¦‚ç”Ÿæˆå›¾åƒæˆ–æ–‡æœ¬ï¼‰ï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸‹å››ä¸ªæ–¹é¢ğŸ‘‡</p>
<h3 data-id="heading-3">1ï¸âƒ£ æ¥å£è·¯å¾„ï¼ˆEndpointï¼‰è§„èŒƒ</h3>
<p>ä¸€ä¸ªå¥½çš„APIè·¯å¾„ï¼Œåƒä¸€æ¡å¹²å‡€çš„é«˜é€Ÿå…¬è·¯ï¼š</p>
<ul>
<li><strong>è¯­ä¹‰åŒ–å‘½å</strong> â†’ <code>/api/v1/text/generate</code> æ¯” <code>/a1/txt</code> æ›´åƒäººç±»å†™çš„ã€‚</li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶</strong> â†’ ç”¨ <code>/v1/</code> è®©æ—§ç‰ˆæœ¬ä¸è¢«æ–°ç‰ˆæœ¬ç¢¾å‹ã€‚</li>
<li><strong>æ¨¡å—åŒ–åˆ†å±‚</strong> â†’ æŒ‰ç±»å‹åŒºåˆ†ç±»åˆ«ï¼Œå¦‚ <code>/image/generate</code>ã€<code>/video/synthesize</code> ç­‰ã€‚</li>
</ul>
<p>ğŸ§  <em>æ€è€ƒé¢˜ï¼šä½ æ„¿æ„åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è°ƒç”¨ <code>/test/stable/api/vXtmp</code> å—ï¼Ÿæ²¡é”™ï¼Œä½ ä¸æ„¿æ„ã€‚</em></p>
<hr/>
<h3 data-id="heading-4">2ï¸âƒ£ æ•°æ®æ ¼å¼çº¦å®š</h3>
<p>Webä¸–ç•Œæœ€å¿ å®çš„æ¡¥æ¢å½“ç„¶æ˜¯ <strong>JSON</strong>ã€‚<br/>
ä¸€ä¸ªAIä½œå›¾æ¥å£çš„è¯·æ±‚ç»“æ„å¯èƒ½é•¿è¿™æ ·ğŸ‘‡</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"prompt"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A cat wearing VR glasses surfing the Internet"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Vision-XL"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"resolution"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1024x1024"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"style"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"cyberpunk"</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è€Œè¿”å›ç»“æœå¯èƒ½æ˜¯ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"status"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"success"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"image_url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://cdn.example.com/images/ai-cat.png"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"generation_time"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1.82</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ğŸ’¡<strong>åº•å±‚åŸç†å°å‰§é€</strong>ï¼š<br/>
å½“æµè§ˆå™¨è°ƒç”¨è¿™ä¸ªæ¥å£æ—¶ï¼Œæ•°æ®è¢«å°è£…ä¸ºHTTPæŠ¥æ–‡åŒ…ï¼Œç©¿è¶ŠTCP/IPåè®®å±‚ï¼Œä»ä½ çš„æµè§ˆå™¨ä¸€è·¯æ‘‡æ›³åˆ°äº‘ç«¯GPUæœåŠ¡å™¨é‡Œï¼ŒAIæ¨¡å‹åœ¨æ˜¾å­˜ä¸­è¿›è¡ŒçŸ©é˜µè®¡ç®—ï¼Œæ¥ç€æŠŠç»“æœæ‰“åŒ…æˆJSONè¿”å›â€”â€”è¿™å°±åƒæ˜¯ä¸€æ¬¡<strong>æ•°å­—å®‡å®™å¿«é€’ğŸ›º</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-5">3ï¸âƒ£ é‰´æƒä¸å®‰å…¨ç­–ç•¥</h3>
<p>APIçš„ä¸–ç•Œä¸­ï¼Œä¿¡ä»»æ˜¯ä¸€ç§åŠ å¯†çš„æµªæ¼«ã€‚<br/>
ä¸»æµæ–¹å¼æœ‰ä¸‰ç§ï¼š</p>

























<table><thead><tr><th>é‰´æƒæ–¹å¼</th><th>å®‰å…¨ç­‰çº§</th><th>åŸç†ç®€è¿°</th></tr></thead><tbody><tr><td>API Key</td><td>ğŸŸ  ä¸­ç­‰</td><td>å›ºå®šä»¤ç‰Œè¯†åˆ«è°ƒç”¨è€…èº«ä»½</td></tr><tr><td>OAuth2.0</td><td>ğŸŸ¢ é«˜</td><td>è®¿é—®ä»¤ç‰Œ+åˆ·æ–°æœºåˆ¶ï¼Œæ”¯æŒç¬¬ä¸‰æ–¹æˆæƒ</td></tr><tr><td>JWTï¼ˆJSON Web Tokenï¼‰</td><td>ğŸŸ¢ é«˜</td><td>ä½¿ç”¨ç­¾åç»“æ„ç¡®ä¿æ•°æ®ä¸è¢«ç¯¡æ”¹</td></tr></tbody></table>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ğŸ§‘â€ğŸ’» ä¸€ä¸ªJWTç­¾å‘ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰</span>
<span class="hljs-keyword">import</span> jwt <span class="hljs-keyword">from</span> <span class="hljs-string">"jsonwebtoken"</span>;

<span class="hljs-keyword">const</span> token = jwt.<span class="hljs-title function_">sign</span>(
  { <span class="hljs-attr">user</span>: <span class="hljs-string">"developer42"</span>, <span class="hljs-attr">role</span>: <span class="hljs-string">"AIGC_user"</span> },
  <span class="hljs-string">"superSecretKey"</span>,           <span class="hljs-comment">// ğŸ”‘ åŠ ç›åŠ å¯†</span>
  { <span class="hljs-attr">expiresIn</span>: <span class="hljs-string">"2h"</span> }
);

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Access Token: "</span>, token);
</code></pre>
<p>å½“å®¢æˆ·ç«¯æºå¸¦è¿™ä¸ªä»¤ç‰Œè¿›è¡Œè®¿é—®æ—¶ï¼ŒæœåŠ¡å™¨åªéœ€éªŒè¯ç­¾åå­—æ®µå³å¯å¿«é€Ÿç¡®è®¤åˆæ³•æ€§ã€‚è¿™ç§æœºåˆ¶çš„åº•å±‚ç›¸å½“äºä¸€åœºâ€œæ•°å­¦ç­¾åâ€ï¼Œæ¯”å£å¤´æ‰¿è¯ºæ›´å®ˆä¿¡ç”¨ğŸ˜‰ã€‚</p>
<hr/>
<h3 data-id="heading-6">4ï¸âƒ£ å¹¶å‘ä¸é€Ÿç‡é™åˆ¶</h3>
<p>AIGCæœåŠ¡åŠ¨è¾„å°±è¦è·‘ä¸€å †çŸ©é˜µè¿ç®—ã€‚<br/>
ä¸ºäº†ä¸è®©æœåŠ¡å™¨â€œè¢«Promptç‚¸æ‰â€ï¼Œé€Ÿç‡é™åˆ¶ï¼ˆRate Limitï¼‰è‡³å…³é‡è¦ã€‚</p>
<p><strong>å¸¸è§ç­–ç•¥ï¼š</strong></p>
<ul>
<li><strong>ä»¤ç‰Œæ¡¶ç®—æ³•ï¼ˆToken Bucketï¼‰</strong> ï¼š<br/>
æƒ³è±¡ä¸€ä¸ªæ¡¶è£…æ°´ï¼Œæ¯æ¥ä¸€ä¸ªè¯·æ±‚ï¼Œèˆ€æ‰ä¸€äº›æ°´ï¼›æ°´è€—å°½ï¼Œæ–°çš„è¯·æ±‚å¿…é¡»ç­‰æ¡¶é‡æ–°è£…æ»¡ã€‚</li>
<li><strong>æ»‘åŠ¨æ—¶é—´çª—å£</strong>ï¼š<br/>
åœ¨ä¸€ä¸ªå›ºå®šæ—¶é—´çª—å†…åªå…è®¸ä¸€å®šæ¬¡æ•°è°ƒç”¨ï¼Œæ¯”å¦‚1åˆ†é’Ÿæœ€å¤šè°ƒç”¨60æ¬¡ã€‚</li>
</ul>
<p>ğŸ§© <em>åº•å±‚å®ç°ä¸Šå¾€å¾€é€šè¿‡Redisè®¡æ•°å™¨+æ—¶é—´æˆ³æ¥å®Œæˆã€‚</em></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ¨¡æ‹Ÿä¸€ä¸ªç®€å•çš„ä»¤ç‰Œæ¡¶æ§åˆ¶</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">TokenBucket</span> {
  <span class="hljs-keyword">constructor</span>(rate, capacity) {
    <span class="hljs-keyword">this</span>.rate = rate; <span class="hljs-comment">// æ¯ç§’æ–°å¢ä»¤ç‰Œæ•°é‡</span>
    <span class="hljs-keyword">this</span>.capacity = capacity;
    <span class="hljs-keyword">this</span>.tokens = capacity;
    setInterval(() =&gt; <span class="hljs-keyword">this</span>.addToken(), <span class="hljs-number">1000</span>);
  }

  addToken() {
    <span class="hljs-keyword">this</span>.tokens = Math.min(<span class="hljs-keyword">this</span>.capacity, <span class="hljs-keyword">this</span>.tokens + <span class="hljs-keyword">this</span>.rate);
  }

  request() {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.tokens &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">this</span>.tokens--;
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… è°ƒç”¨æˆåŠŸ</span>
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;   <span class="hljs-comment">// âŒ é€Ÿç‡è¶…é™</span>
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-7">ğŸŒ å››ã€ååŒè§„èŒƒï¼šWebå¹³å°å¯¹æ¥è¦ç‚¹</h2>
<p>åœ¨Webç«¯é›†æˆAIGCæœåŠ¡æ—¶ï¼Œé™¤äº†æ¥å£æ ‡å‡†ï¼Œå‰ç«¯å·¥ç¨‹å¸ˆä¹Ÿè¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li><strong>å¼‚æ­¥è°ƒç”¨ä¸çŠ¶æ€ç®¡ç†</strong><br/>
ç”¨<code>async/await</code>ä¿æŒæµç¨‹æ¸…æ™°ï¼›è®°å¾—åœ¨UIå±‚æç¤ºâ€œç”Ÿæˆä¸­âœ¨â€ã€‚</li>
<li><strong>è·¨åŸŸé…ç½®</strong><br/>
æœåŠ¡ç«¯è¦è®¾ç½®æ­£ç¡®çš„<code>Access-Control-Allow-Origin</code>ï¼Œå¦åˆ™æµè§ˆå™¨ä¼šåƒä¸ªå›ºæ‰§çš„ä¿å®‰ï¼Œä¸è®©ä»»ä½•â€œé™Œç”ŸAPIâ€è¿›é—¨ã€‚</li>
<li><strong>é”™è¯¯å¤„ç†</strong><br/>
åˆ‡å‹¿åªæ‰“å°<code>console.error</code>ï¼Œè¯·ç¤¼è²Œåœ°å‘Šè¯‰ç”¨æˆ·ï¼šâ€œAIä»Šå¤©æœ‰ç‚¹ç´¯ï¼Œè¯·ç¨åå†è¯•ã€‚â€</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å‰ç«¯è°ƒç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateText</span>(<span class="hljs-params">prompt</span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"https://api.example.com/v1/text/generate"</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">"POST"</span>,
      <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>,
        <span class="hljs-string">"Authorization"</span>: <span class="hljs-string">`Bearer <span class="hljs-subst">${<span class="hljs-variable language_">localStorage</span>.getItem(<span class="hljs-string">"jwtToken"</span>)}</span>`</span>
      },
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ prompt })
    });

    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">status</span> === <span class="hljs-string">"success"</span>) {
      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">"#output"</span>).<span class="hljs-property">textContent</span> = data.<span class="hljs-property">content</span>;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"ç”Ÿæˆå¤±è´¥"</span>);
    }
  } <span class="hljs-keyword">catch</span> (err) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(err);
    <span class="hljs-title function_">alert</span>(<span class="hljs-string">"ğŸ˜¢ å‡ºé”™å•¦ï¼AIå¯èƒ½åœ¨ä¼‘æ¯ã€‚"</span>);
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-8">ğŸ§  äº”ã€å»¶ä¼¸ï¼šAIGCæ¥å£çš„æœªæ¥è¶‹åŠ¿</h2>
<p>ğŸ’¬ <strong>1. è‡ªé€‚åº”æ¨¡å‹åå•†</strong>ï¼š<br/>
APIå°†ä¸å†æ­»æ¿ï¼Œè€Œæ˜¯èƒ½è‡ªåŠ¨åˆ¤æ–­è¯·æ±‚æ„å›¾ï¼ŒåŠ¨æ€åˆ†é…ä¸åŒæ¨¡æ€ï¼ˆæ–‡å­—ã€å›¾åƒã€è§†é¢‘ï¼‰æ¨¡å‹ã€‚</p>
<p>âš™ï¸ <strong>2. æµå¼ç”Ÿæˆ Stream Modeï¼ˆChunk Pushï¼‰</strong> ï¼š<br/>
åƒChatGPTé‚£æ ·ä¸€è¾¹ç”Ÿæˆä¸€è¾¹ä¼ è¾“ï¼Œè®©Webå‰ç«¯æ‹¥æœ‰â€œAIæ­£åœ¨æ€è€ƒâ€çš„çµé­‚ã€‚</p>
<p>ğŸ§© <strong>3. æ¨¡å‹å³æœåŠ¡ï¼ˆModel as a Service, MaaSï¼‰ç”Ÿæ€</strong>ï¼š<br/>
æœªæ¥æ¯ä¸ªAPIéƒ½å¯èƒ½éšè—ç€åå‡ ä¸ªæ¨¡å‹â€”â€”<br/>
å‰ç«¯åªéœ€ä¸€å¥<code>model: "creative_v3"</code>ï¼Œåå°è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ç½‘ç»œã€æ˜¾å¡ä¸é‡åŒ–ç­–ç•¥ã€‚</p>
<hr/>
<h2 data-id="heading-9">ğŸ¨ å…­ã€æ€»ç»“ï¼šç”¨æ¥å£æç»˜æ™ºèƒ½çš„è½®å»“</h2>
<p>APIè§„èŒƒä¸æ˜¯å†°å†·çš„æ–‡æ¡£ï¼Œè€Œæ˜¯ä¸€é¦–<strong>å…³äºçº¦å®šçš„æŠ€æœ¯è¯—</strong>ã€‚<br/>
å®ƒè®©Webå¹³å°ä¸AIGCæœåŠ¡å•†ä¹‹é—´çš„æ²Ÿé€šæœ‰åºã€ä¼˜é›…ä¸”å……æ»¡é€»è¾‘ç¾ã€‚</p>
<p>æˆ–è®¸æœªæ¥ï¼Œå½“AIæ‡‚å¾—è‡ªå·±å»è®¾è®¡æ¥å£æ—¶ï¼Œæˆ‘ä»¬ä¼šå‘ç°â€”â€”<br/>
æˆ‘ä»¬å†™ä¸‹çš„æ¯ä¸€è¡Œ<code>{}</code>ï¼Œå…¶å®éƒ½æ˜¯åœ¨ä¸ºæ™ºèƒ½ä¸–ç•Œæ³¨é‡Šçµé­‚çš„è¯­æ³•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Node.js ç¼–ç¨‹å®æˆ˜ï¼šè·¯å¾„æ¨¡å—ï¼ˆpathï¼‰è¯¦è§£]]></title>    <link>https://juejin.cn/post/7580198093154893870</link>    <guid>https://juejin.cn/post/7580198093154893870</guid>    <pubDate>2025-12-06T01:09:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580198093154893870" data-draft-id="7580197740963069978" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Node.js ç¼–ç¨‹å®æˆ˜ï¼šè·¯å¾„æ¨¡å—ï¼ˆpathï¼‰è¯¦è§£"/> <meta itemprop="keywords" content="åç«¯,Node.js,Trae"/> <meta itemprop="datePublished" content="2025-12-06T01:09:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜çˆ±é’“é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/2799775299157614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Node.js ç¼–ç¨‹å®æˆ˜ï¼šè·¯å¾„æ¨¡å—ï¼ˆpathï¼‰è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2799775299157614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜çˆ±é’“é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T01:09:07.000Z" title="Sat Dec 06 2025 01:09:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>åœ¨ Node.js å¼€å‘ä¸­ï¼Œæ–‡ä»¶è·¯å¾„æ˜¯ç»•ä¸å¼€çš„é—®é¢˜ã€‚æ— è®ºæ˜¯è¯»å–æ–‡ä»¶ã€åˆ›å»ºç›®å½•ã€å¼•ç”¨æ¨¡å—ï¼Œè¿˜æ˜¯å¤„ç†ä¸Šä¼ çš„æ–‡ä»¶æ•°æ®ï¼Œéƒ½éœ€è¦å¤„ç†è·¯å¾„ã€‚ä¸åŒæ“ä½œç³»ç»Ÿä¹‹é—´çš„è·¯å¾„è§„åˆ™å¹¶ä¸ä¸€æ ·ï¼Œå› æ­¤ä»…é å­—ç¬¦ä¸²æ‹¼æ¥éå¸¸å®¹æ˜“å‡ºé”™ã€‚Node.js çš„ path æ¨¡å—æä¾›äº†ä¸€å¥—æ ‡å‡†åŒ–ã€è·¨å¹³å°çš„è·¯å¾„å·¥å…·ï¼Œè®©ä½ å¯ä»¥æ›´å®‰å…¨ã€æ›´å¯é åœ°å¤„ç†è·¯å¾„ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ä¸€ã€path æ¨¡å—çš„ä½œç”¨</h2>
<p>path æ˜¯ Node.js çš„æ ¸å¿ƒæ¨¡å—ï¼Œç”¨äºå¤„ç†æ–‡ä»¶è·¯å¾„çš„æ‹¼æ¥ã€è§£æã€æ ¼å¼åŒ–ç­‰æ“ä½œã€‚</p>
<p>å®ƒçš„å­˜åœ¨ä¸»è¦è§£å†³ä¸‰ä¸ªé—®é¢˜ï¼š</p>
<ul>
<li>ç»Ÿä¸€ä¸åŒæ“ä½œç³»ç»Ÿçš„è·¯å¾„è§„åˆ™</li>
<li>é¿å…æ‰‹å†™å­—ç¬¦ä¸²å¯¼è‡´çš„è·¯å¾„é”™è¯¯</li>
<li>æä¾›æ›´è¯­ä¹‰åŒ–çš„è·¯å¾„å¤„ç†èƒ½åŠ›</li>
</ul>
<p>ä½¿ç”¨ path æ¨¡å—å¯ä»¥è®©ä½ è½»æ¾è·å¾—ç»å¯¹è·¯å¾„ã€ç›®å½•è·¯å¾„ã€æ–‡ä»¶åã€æ‰©å±•åç­‰ä¿¡æ¯ã€‚</p>
<p>å¼•å…¥æ–¹å¼éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)
</code></pre>
<hr/>
<h2 data-id="heading-1">äºŒã€å¸¸ç”¨åŠŸèƒ½ï¼šè·¯å¾„æ‹¼æ¥</h2>
<p>å¼€å‘ä¸­æœ€å¸¸è§çš„åœºæ™¯å°±æ˜¯æ‹¼æ¥è·¯å¾„ã€‚</p>
<h3 data-id="heading-2">1. path.join</h3>
<p>join ä¼šæ ¹æ®ä¸åŒæ“ä½œç³»ç»Ÿè‡ªåŠ¨ä½¿ç”¨ <code>/</code> æˆ– <code>\</code>ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> full = path.<span class="hljs-title function_">join</span>(<span class="hljs-string">'src'</span>, <span class="hljs-string">'utils'</span>, <span class="hljs-string">'index.js'</span>)
</code></pre>
<p>è¿™ç§æ–¹å¼æ¯” <code>'src/' + 'utils/' + 'index.js'</code> æ›´å®‰å…¨ï¼Œä¹Ÿä¸å®¹æ˜“å‡ºé”™ã€‚</p>
<hr/>
<h3 data-id="heading-3">2. path.resolve</h3>
<p>resolve ç”¨äºç”Ÿæˆå®Œæ•´çš„ç»å¯¹è·¯å¾„ï¼Œä¼šä»¥å½“å‰æ‰§è¡Œç›®å½•ä¸ºèµ·ç‚¹ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> abs = path.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'src/index.js'</span>)
</code></pre>
<p>åœ¨å¤„ç†é…ç½®æ–‡ä»¶ã€é™æ€æ–‡ä»¶è·¯å¾„æˆ–æœåŠ¡ç«¯å…¥å£æ–‡ä»¶æ—¶éå¸¸å¸¸ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€è§£æè·¯å¾„çš„å„ä¸ªç»„æˆéƒ¨åˆ†</h2>
<p>path æ¨¡å—å¯ä»¥å°†å®Œæ•´è·¯å¾„è§£ææˆè¯¦ç»†ç»“æ„ã€‚</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> info = path.<span class="hljs-title function_">parse</span>(<span class="hljs-string">'/user/local/app.js'</span>)
</code></pre>
<p>è§£æç»“æœåŒ…æ‹¬ï¼š</p>
<ul>
<li>dirï¼šç›®å½•è·¯å¾„</li>
<li>baseï¼šæ–‡ä»¶åï¼ˆå«æ‰©å±•åï¼‰</li>
<li>nameï¼šä¸å¸¦æ‰©å±•åçš„æ–‡ä»¶å</li>
<li>extï¼šæ‰©å±•å</li>
</ul>
<p>è¿™äº›ä¿¡æ¯åœ¨å¤„ç†ä¸Šä¼ æ–‡ä»¶ã€é‡å‘½åæ–‡ä»¶ã€ç”Ÿæˆç¼“å­˜æ–‡ä»¶åæ—¶ååˆ†æœ‰ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-5">å››ã€è·å–è·¯å¾„ä¸­çš„å…·ä½“ä¿¡æ¯</h2>
<h3 data-id="heading-6">1. è·å–æ–‡ä»¶å</h3>
<pre><code class="hljs language-js" lang="js">path.<span class="hljs-title function_">basename</span>(<span class="hljs-string">'/a/b/c.txt'</span>)
</code></pre>
<hr/>
<h3 data-id="heading-7">2. è·å–ç›®å½•å</h3>
<pre><code class="hljs language-js" lang="js">path.<span class="hljs-title function_">dirname</span>(<span class="hljs-string">'/a/b/c.txt'</span>)
</code></pre>
<hr/>
<h3 data-id="heading-8">3. è·å–æ‰©å±•å</h3>
<pre><code class="hljs language-js" lang="js">path.<span class="hljs-title function_">extname</span>(<span class="hljs-string">'index.html'</span>)
</code></pre>
<p>è¿™äº›æ–¹æ³•è®©ä½ æ— éœ€è‡ªå·±å†™æ­£åˆ™è§£æè·¯å¾„ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-9">äº”ã€è·¯å¾„æ ¼å¼åŒ–</h2>
<p>å¦‚æœä½ éœ€è¦æ ¹æ®å¯¹è±¡ç”Ÿæˆè·¯å¾„ï¼Œå¯ä»¥ä½¿ç”¨ formatï¼š</p>
<pre><code class="hljs language-js" lang="js">path.<span class="hljs-title function_">format</span>({
  <span class="hljs-attr">dir</span>: <span class="hljs-string">'/a/b'</span>,
  <span class="hljs-attr">name</span>: <span class="hljs-string">'index'</span>,
  <span class="hljs-attr">ext</span>: <span class="hljs-string">'.js'</span>
})
</code></pre>
<p>å¯ç”¨äºæ—¥å¿—æ–‡ä»¶ã€ç¼“å­˜æ–‡ä»¶ã€åŠ¨æ€ç”Ÿæˆæ–‡ä»¶åçš„åœºæ™¯ã€‚</p>
<hr/>
<h2 data-id="heading-10">å…­ã€__dirname å’Œ __filename çš„é…åˆä½¿ç”¨</h2>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæœ€å¸¸ç”¨çš„æ˜¯é€šè¿‡ path ä¸å½“å‰æ–‡ä»¶ä½ç½®ä¸€èµ·ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> file = path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">'config.json'</span>)
</code></pre>
<p>è¿™ç§æ–¹å¼å¯ä»¥å¾—åˆ°ä¸å—è¿è¡Œç¯å¢ƒå½±å“çš„ç»å¯¹è·¯å¾„ï¼Œæ˜¯ Node.js æ–‡ä»¶æ“ä½œçš„æœ€ä½³å®è·µã€‚</p>
<hr/>
<h2 data-id="heading-11">ä¸ƒã€è·¨å¹³å°æ³¨æ„äº‹é¡¹</h2>
<p>Windows è·¯å¾„ä½¿ç”¨ <code>\</code>ï¼ŒLinux å’Œ macOS ä½¿ç”¨ <code>/</code>ã€‚</p>
<p>path æ¨¡å—ä¼šç»Ÿä¸€å¤„ç†è¿™äº›å·®å¼‚ã€‚</p>
<p>å¦‚æœä½ åœ¨è·¨å¹³å°é¡¹ç›®ä¸­ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¾ˆå®¹æ˜“å‡ºç°è·¯å¾„å¤±æ•ˆçš„é—®é¢˜ï¼Œå› æ­¤å°½é‡é¿å…æ‰‹å†™è·¯å¾„ã€‚</p>
<hr/>
<h2 data-id="heading-12">å…«ã€å¸¸è§é”™è¯¯ä¸è§£å†³æ€è·¯</h2>
<p>é”™è¯¯ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥å¯¼è‡´è·¯å¾„é‡å¤æˆ–ç¼ºå¤±ã€‚
å¿˜è®°ä½¿ç”¨ <code>__dirname</code>ï¼Œç»“æœè·¯å¾„ä¾èµ–è¿è¡Œç›®å½•ã€‚
resolve å’Œ join æ··æ·†å¯¼è‡´è·¯å¾„ä¸ç¬¦åˆé¢„æœŸã€‚
æ‰©å±•åè§£æé”™è¯¯å¯¼è‡´æ–‡ä»¶ç±»å‹åˆ¤æ–­å¤±è´¥ã€‚</p>
<p>å€ŸåŠ© path æ¨¡å—å¯ä»¥é¿å…å¤§éƒ¨åˆ†è¿™ç§é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-13">ä¹ã€æ€»ç»“</h2>
<p>path æ¨¡å—çœ‹ä¼¼ç®€å•ï¼Œå´æ˜¯ Node.js æ–‡ä»¶ç³»ç»Ÿæ“ä½œä¸­ä¸å¯æ›¿ä»£çš„åŸºç¡€èƒ½åŠ›ã€‚</p>
<p>å®ƒèƒ½è®©ä½ åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸­ä¿æŒä¸€è‡´çš„è·¯å¾„è¡Œä¸ºï¼ŒåŒæ—¶æä¾›ä¸°å¯Œçš„è§£æä¸æ ¼å¼åŒ–åŠŸèƒ½ï¼Œæ˜¾è‘—æå‡ä»£ç çš„å¥å£®æ€§ã€‚</p>
<p>åªè¦æ¶‰åŠæ–‡ä»¶å¤„ç†ï¼Œpath å°±æ˜¯å¿…å¤‡å·¥å…·ã€‚</p>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§å®¶å¤©å¤©è¯´çš„'é“¶å¼¹'åˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿçœ‹å®Œè¿™ç¯‡ä½ å°±æ˜ç™½äº†]]></title>    <link>https://juejin.cn/post/7580233527284629554</link>    <guid>https://juejin.cn/post/7580233527284629554</guid>    <pubDate>2025-12-06T01:28:19.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580233527284629554" data-draft-id="7580233527284613170" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§å®¶å¤©å¤©è¯´çš„'é“¶å¼¹'åˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿçœ‹å®Œè¿™ç¯‡ä½ å°±æ˜ç™½äº†"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2025-12-06T01:28:19.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="9å·è¾¾äºº"/> <meta itemprop="url" content="https://juejin.cn/user/2450136052270077"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§å®¶å¤©å¤©è¯´çš„'é“¶å¼¹'åˆ°åº•æ˜¯ä¸ªå•¥ï¼Ÿçœ‹å®Œè¿™ç¯‡ä½ å°±æ˜ç™½äº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2450136052270077/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    9å·è¾¾äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T01:28:19.000Z" title="Sat Dec 06 2025 01:28:19 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>"å¾®æœåŠ¡æ˜¯é“¶å¼¹ï¼" "Dockerä¸æ˜¯é“¶å¼¹ï¼" "Reactæ‰æ˜¯çœŸæ­£çš„é“¶å¼¹ï¼" å¤©å¤©åœ¨æ–‡ç« å’Œè¯„è®ºåŒºçœ‹åˆ°è¿™ä¸ªè¯è¯­ï¼Œä»–åˆ°åº•æ˜¯ä¸ªå•¥ï¼Œåˆæ˜¯ä»å“ªé‡Œå¼€å§‹çš„ã€‚ä»Šå¤©ä¸è®²æŠ€æœ¯ï¼ŒèŠä¸€ä¸‹å•¥æ˜¯é“¶å¼¹ã€‚</p>
</blockquote>
<h3 data-id="heading-0">æ¦‚å¿µæ¥æº</h3>
<p>"é“¶å¼¹"ï¼ˆSilver Bulletï¼‰è¿™ä¸ªæ¦‚å¿µæ¥è‡ªäº<strong>å¼—é›·å¾·é‡Œå…‹Â·å¸ƒé²å…‹æ–¯ï¼ˆFred Brooksï¼‰</strong> çš„ç»å…¸è‘—ä½œã€Šäººæœˆç¥è¯ã€‹ï¼ˆThe Mythical Man-Monthï¼‰ã€‚</p>
<p>1986å¹´ï¼Œå¸ƒé²å…‹æ–¯åœ¨è‘—åè®ºæ–‡ã€Šæ²¡æœ‰é“¶å¼¹ï¼šè½¯ä»¶å·¥ç¨‹çš„æœ¬è´¨ä¸å¶ç„¶æ€§ã€‹ä¸­æå‡ºäº†è¿™ä¸ªå½±å“æ·±è¿œçš„è®ºæ–­ï¼š</p>
<blockquote>
<p><strong>åœ¨è½¯ä»¶å·¥ç¨‹é¢†åŸŸï¼Œæ²¡æœ‰ä»»ä½•æŠ€æœ¯æˆ–æ–¹æ³•èƒ½å¤Ÿåœ¨åå¹´å†…ä½¿ç”Ÿäº§ç‡ã€å¯é æ€§å’Œç®€æ´æ€§æœ‰æ•°é‡çº§çš„æå‡ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-1">ç‹¼äººä¼ è¯´çš„éšå–»</h3>
<p>ä¸ºä»€ä¹ˆè¦ç”¨"é“¶å¼¹"è¿™ä¸ªè¯ï¼Ÿ</p>
<p>è¿™ä¸ªæ¯”å–»æ¥è‡ªç‹¼äººä¼ è¯´ï¼š</p>
<ul>
<li><strong>ç‹¼äºº</strong>ï¼šè¢«è®¤ä¸ºæ˜¯ä¸æ­»çš„ã€æ— åšä¸æ‘§çš„æ€ªç‰©</li>
<li><strong>é“¶å¼¹</strong>ï¼šä¼ è¯´ä¸­å”¯ä¸€èƒ½å¤Ÿæ€æ­»ç‹¼äººçš„æ­¦å™¨</li>
</ul>
<p>å¸ƒé²å…‹æ–¯ç”¨è¿™ä¸ªæ¯”å–»æ¥è¯´æ˜ï¼š</p>
<ul>
<li><strong>è½¯ä»¶å¼€å‘çš„æœ¬è´¨å¤æ‚æ€§</strong> = ç‹¼äººï¼ˆçœ‹ä¼¼ä¸å¯æˆ˜èƒœçš„éš¾é¢˜ï¼‰</li>
<li><strong>ç¥å¥‡çš„æŠ€æœ¯è§£å†³æ–¹æ¡ˆ</strong> = é“¶å¼¹ï¼ˆäººä»¬æœŸæœ›çš„ä¸€æ‹›åˆ¶æ•Œçš„åŠæ³•ï¼‰</li>
<li><strong>æ®‹é…·çš„ç°å®</strong> = é“¶å¼¹æ ¹æœ¬ä¸å­˜åœ¨</li>
</ul>
<h3 data-id="heading-2">è½¯ä»¶å›°éš¾çš„åˆ†ç±»</h3>
<p>å¸ƒé²å…‹æ–¯å°†è½¯ä»¶å¼€å‘çš„å›°éš¾åˆ†ä¸ºä¸¤ç±»ï¼š</p>
<h4 data-id="heading-3">æœ¬è´¨æ€§å›°éš¾ï¼ˆEssenceï¼‰</h4>
<p>è¿™äº›æ˜¯è½¯ä»¶å¼€å‘å›ºæœ‰çš„ã€æ— æ³•é¿å…çš„å›°éš¾ï¼š</p>
<ul>
<li><strong>æ¦‚å¿µç»“æ„çš„å¤æ‚æ€§</strong>ï¼šè½¯ä»¶æœ¬èº«çš„æ¦‚å¿µç»“æ„</li>
<li><strong>ä¸å¯è§æ€§</strong>ï¼šè½¯ä»¶æ²¡æœ‰ç‰©ç†å®ä½“ï¼Œæ— æ³•ç›´è§‚æŠŠæ¡</li>
<li><strong>ä¸€è‡´æ€§å’Œå¯å˜æ€§</strong>ï¼šå¿…é¡»é€‚åº”ä¸æ–­å˜åŒ–çš„éœ€æ±‚</li>
<li><strong>ç¦»æ•£æ€§</strong>ï¼šè½¯ä»¶ç³»ç»Ÿçš„çŠ¶æ€ç»„åˆæå…¶åºå¤§</li>
</ul>
<h4 data-id="heading-4">å¶ç„¶æ€§å›°éš¾ï¼ˆAccidentï¼‰</h4>
<p>è¿™äº›æ˜¯ç”±äºå½“å‰å·¥å…·å’ŒæŠ€æœ¯é™åˆ¶é€ æˆçš„å›°éš¾ï¼š</p>
<ul>
<li><strong>å¼€å‘å·¥å…·çš„é™åˆ¶</strong></li>
<li><strong>ç¼–ç¨‹è¯­è¨€çš„å¤æ‚æ€§</strong></li>
<li><strong>ç¡¬ä»¶æ€§èƒ½çº¦æŸ</strong></li>
<li><strong>å›¢é˜Ÿåä½œé—®é¢˜</strong></li>
</ul>
<p>å¸ƒé²å…‹æ–¯çš„æ ¸å¿ƒè§‚ç‚¹æ˜¯ï¼š<strong>é“¶å¼¹æœ€å¤šåªèƒ½è§£å†³å¶ç„¶æ€§å›°éš¾ï¼Œä½†æ— æ³•è§¦åŠæœ¬è´¨æ€§å›°éš¾ã€‚</strong> ï¼Œè™½ç„¶æˆ‘æ²¡çœ‹å®Œï¼Œä½†æ€»ç»“ä¸‹æ¥åº”è¯¥å°±æ˜¯è¿™ä¸ªæ„æ€ğŸ˜‚</p>
<h2 data-id="heading-5">2. ç°åœ¨"é“¶å¼¹"çš„å®é™…å«ä¹‰</h2>
<p><strong>é“¶å¼¹ = èƒ½å¤Ÿè§£å†³æ‰€æœ‰é—®é¢˜çš„æŠ€æœ¯ã€æ–¹æ³•æˆ–å·¥å…·</strong></p>
<h3 data-id="heading-6">æŠ€æœ¯åœˆä¸­çš„å…¸å‹ä½¿ç”¨</h3>
<p>å½“æœ‰äººè¯´"xxxæ˜¯é“¶å¼¹"æ—¶ï¼Œé€šå¸¸æ„å‘³ç€ï¼š</p>
<ul>
<li>è¿™ä¸œè¥¿å¤ªå‰å®³äº†ï¼Œèƒ½è§£å†³æˆ‘ä»¬æ‰€æœ‰çš„çƒ¦æ¼</li>
<li>æœ‰äº†å®ƒï¼Œä¹‹å‰çš„æ‰€æœ‰é—®é¢˜éƒ½ä¸æ˜¯é—®é¢˜äº†</li>
<li>åˆ«çš„æŠ€æœ¯éƒ½å¯ä»¥ä¸ç”¨è€ƒè™‘äº†</li>
</ul>
<p><strong>å…¸å‹ä¾‹å­ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//Â Reactæ´¾</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-title function_">ReactIsSilverBullet</span>Â =Â (<span class="hljs-params"/>)Â =&gt;Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"Reactæ‰æ˜¯çœŸæ­£çš„é“¶å¼¹ï¼Œè§£å†³æ‰€æœ‰å‰ç«¯é—®é¢˜ï¼"</span>;
};

<span class="hljs-comment">//Â Vueæ´¾</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-title function_">VueIsSilverBullet</span>Â =Â (<span class="hljs-params"/>)Â =&gt;Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"Vueæ‰æ˜¯é“¶å¼¹ï¼Œç®€å•æ˜“å­¦ï¼Œæ€§èƒ½æ— æ•Œï¼"</span>;
};

<span class="hljs-comment">//Â å¾®æœåŠ¡æ´¾</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-title function_">MicroservicesAreSilverBullet</span>Â =Â (<span class="hljs-params"/>)Â =&gt;Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"å¾®æœåŠ¡å°±æ˜¯é“¶å¼¹ï¼Œæ‹†åˆ†åæ‰€æœ‰æ‰©å±•é—®é¢˜éƒ½è§£å†³äº†ï¼"</span>;
};

<span class="hljs-comment">//Â Dockeræ´¾</span>
<span class="hljs-keyword">const</span>Â <span class="hljs-title function_">DockerIsSilverBullet</span>Â =Â (<span class="hljs-params"/>)Â =&gt;Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-string">"Dockerå°±æ˜¯é“¶å¼¹ï¼Œä¸€æ¬¡æ„å»ºåˆ°å¤„è¿è¡Œï¼"</span>;
};
</code></pre>
<p>å½“æœ‰äººè¯´"xxxä¸æ˜¯é“¶å¼¹"æ—¶ï¼Œæ„æ€æ˜¯ï¼š</p>
<ul>
<li>è¿™ä¸ªæŠ€æœ¯æœ‰å±€é™æ€§ï¼Œä¸èƒ½è§£å†³æ‰€æœ‰é—®é¢˜</li>
<li>ä¸è¦æŒ‡æœ›å®ƒèƒ½ä¸€åŠ³æ°¸é€¸</li>
<li>è¿˜æ˜¯éœ€è¦é…åˆå…¶ä»–æ–¹æ¡ˆ</li>
</ul>
<p><strong>å…¸å‹ä¾‹å­ï¼š</strong></p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">--Â MySQLä¸æ˜¯é“¶å¼¹</span>
<span class="hljs-deletion">--Â "MySQLè™½ç„¶ä¸é”™ï¼Œä½†é¢å¯¹å¤§æ•°æ®é‡æ—¶è¿˜æ˜¯æœ‰é™åˆ¶ï¼Œä¸æ˜¯é“¶å¼¹ï¼"</span>

<span class="hljs-deletion">--Â K8sä¸æ˜¯é“¶å¼¹</span>
<span class="hljs-deletion">--Â "K8såŠŸèƒ½å¼ºå¤§ï¼Œä½†è¿ç»´å¤æ‚åº¦å¾ˆé«˜ï¼Œä¸æ˜¯é“¶å¼¹ï¼"</span>

<span class="hljs-deletion">--Â æ•æ·å¼€å‘ä¸æ˜¯é“¶å¼¹</span>
<span class="hljs-deletion">--Â "æ•æ·ä¸æ˜¯é“¶å¼¹ï¼Œè¿˜éœ€è¦ç»“åˆå…¶ä»–å·¥ç¨‹å®è·µï¼"</span>
</code></pre>
<h2 data-id="heading-7">3. é“¶å¼¹æ¦‚å¿µçš„ä¼ æ’­è·¯å¾„</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e61ea80b7cdd452aa41a076327cc53cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgOeWPt-i-vuS6ug==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765589299&amp;x-signature=6lFG9ZRXmwxpCROzqqB8qNPUNWY%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">3. é“¶å¼¹å«ä¹‰çš„æ¼”å˜è¿‡ç¨‹</h2>
<h3 data-id="heading-9">åŸå§‹å«ä¹‰ï¼ˆ1986å¹´ï¼‰</h3>
<p><strong>æ ¸å¿ƒæ¦‚å¿µï¼š</strong> èƒ½å¤Ÿæ•°é‡çº§ï¼ˆ10å€ï¼‰æå‡è½¯ä»¶å¼€å‘ç”Ÿäº§ç‡ã€å¯é æ€§å’Œç®€æ´æ€§çš„æŠ€æœ¯æˆ–æ–¹æ³•</p>
<ul>
<li>è½¯ä»¶å¼€å‘çš„æœ¬è´¨å¤æ‚æ€§</li>
<li>æ˜¯å¦å­˜åœ¨é©å‘½æ€§çš„çªç ´æŠ€æœ¯</li>
<li>è½¯ä»¶å·¥ç¨‹çš„åŸºæœ¬é™åˆ¶</li>
</ul>
<h3 data-id="heading-10">ç°åœ¨çš„æŠ€æœ¯åœˆä¸Šæ™®éçš„å«ä¹‰</h3>
<p>èƒ½å¤Ÿç¥å¥‡å®Œå…¨è§£å†³å…·ä½“åœºæ™¯çš„ä¸€ç³»åˆ—é—®é¢˜çš„æŠ€æœ¯ã€å·¥å…·æˆ–æ–¹æ³•</p>
<ul>
<li>React vs Vue å“ªä¸ªæ›´å¥½</li>
<li>å¾®æœåŠ¡ vs å•ä½“å¦‚ä½•é€‰æ‹©</li>
<li>MySQL vs MongoDB å“ªä¸ªæ›´é€‚åˆ</li>
<li>Docker vs K8s å¦‚ä½•é€‰æ‹©</li>
</ul>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>èƒ½å¾ˆæ¸…æ™°çš„çœ‹åˆ°é“¶å¼¹è¿™ä¸ªè¯ä»æŠ½è±¡çš„æ¶æ„è®¾è®¡ç†å¿µï¼Œæ¼”å˜æˆäº†å…·ä½“çš„å¯¹æŸä»¶æŠ€æœ¯ã€æ¡†æ¶ã€å·¥å…·ã€æ–¹æ³•çš„è¯„ä»·ã€‚</p>
<ul>
<li><strong>åŸæœ¬</strong>ï¼šæŒ‡è½¯ä»¶å·¥ç¨‹ä¸­çš„æ¶æ„è®¾è®¡å’Œæ•´ä½“æ–¹æ³•è®º</li>
<li><strong>ç°åœ¨</strong>ï¼šå˜æˆäº†å¯¹å…·ä½“æŸä¸ªæŠ€æœ¯æ–¹æ¡ˆã€æŠ€æœ¯æ¡†æ¶çš„è¯„ä»·å·¥å…·</li>
</ul>
<h3 data-id="heading-12">å…·ä½“å«ä¹‰å˜åŒ–</h3>
<ul>
<li><strong>åŸå§‹å«ä¹‰</strong>ï¼šå¸ƒé²å…‹æ–¯æŒ‡çš„æ˜¯èƒ½å¦æ ¹æœ¬ä¸Šè§£å†³è½¯ä»¶å¤æ‚æ€§çš„æ¶æ„æ–¹æ³•</li>
<li><strong>ç°åœ¨å«ä¹‰</strong>ï¼šç”¨æ¥è¯„ä»·æŸä¸ªå…·ä½“æŠ€æœ¯ã€æ¡†æ¶ã€å·¥å…·æ˜¯å¦ä¸‡èƒ½</li>
</ul>
<p>ä¹Ÿåæ˜ äº†å¤§å®¶è®¨è®ºæŠ€æœ¯çš„æ—¶å€™ï¼Œè¶Šæ¥è¶Šå…·ä½“ï¼Œè¶Šæ¥è¶Šè½åœ°ã€‚ æ™®é€šäººä¹Ÿå¾ˆéš¾æ¥è§¦åˆ°ä»€ä¹ˆå¤ªæŠ½è±¡ï¼Œå¤ªå®å¤§çš„æ¶æ„è®¾è®¡ï¼Œæˆ‘ä»¬ä¹Ÿæ›´åº”è¯¥å…³å¿ƒæ›´å…·ä½“çš„æ–¹æ¡ˆï¼Œæ¥æ›´å¥½çš„è§£å†³é—®é¢˜ã€‚</p>
<hr/>
<h3 data-id="heading-13">å…³æ³¨ã€Œ9å·è¾¾äººã€å…¬ä¼—å·ï¼Œè·å–æ›´å¤šå¹²è´§</h3>
<p>æˆ‘æ˜¯ä¸€åå°å‚ç¨‹åºå‘˜ï¼Œä¸“æ³¨åˆ†äº«<strong>çœŸå®çš„é¡¹ç›®å®æˆ˜ç»éªŒ</strong>å’Œ<strong>æ¥åœ°æ°”çš„æŠ€æœ¯æ€è€ƒ</strong>ã€‚</p>
<p><strong>å…³æ³¨å…¬ä¼—å·ã€Œ9å·è¾¾äººã€</strong></p>
<p><strong>ä¸è®²å¤§è€Œå…¨çš„ç†è®ºï¼ŒåªèŠçœŸå®è¸©è¿‡çš„å‘ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€SQLã€‘è”è¡¨æŸ¥è¯¢å…¨é¢æŒ‡å—ï¼šæŒæ¡JOINçš„è‰ºæœ¯ä¸ç§‘å­¦]]></title>    <link>https://juejin.cn/post/7579934463591104548</link>    <guid>https://juejin.cn/post/7579934463591104548</guid>    <pubDate>2025-12-05T10:50:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579934463591104548" data-draft-id="7580196545287684150" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€SQLã€‘è”è¡¨æŸ¥è¯¢å…¨é¢æŒ‡å—ï¼šæŒæ¡JOINçš„è‰ºæœ¯ä¸ç§‘å­¦"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T10:50:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="CyberShen"/> <meta itemprop="url" content="https://juejin.cn/user/554609587530014"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€SQLã€‘è”è¡¨æŸ¥è¯¢å…¨é¢æŒ‡å—ï¼šæŒæ¡JOINçš„è‰ºæœ¯ä¸ç§‘å­¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/554609587530014/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    CyberShen
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:50:40.000Z" title="Fri Dec 05 2025 10:50:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è”è¡¨æŸ¥è¯¢ï¼ˆJOINï¼‰æ˜¯å…³ç³»å‹æ•°æ®åº“ä¸­æœ€æ ¸å¿ƒã€æœ€å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚å®ƒå…è®¸æˆ‘ä»¬æ ¹æ®è¡¨ä¹‹é—´çš„é€»è¾‘å…³è”ï¼Œå°†æ•°æ®ä»å¤šä¸ªè¡¨ä¸­ç»„åˆå¹¶æ£€ç´¢å‡ºæ¥ï¼Œå½¢æˆæœ‰æ„ä¹‰çš„ç»“æœé›†ã€‚æœ¬æ–‡å°†æ·±å…¥è§£æINNER JOINã€LEFT JOINã€RIGHT JOINã€FULL JOINä»¥åŠå¤è€çš„éšå¼è¿æ¥ï¼Œå¸®åŠ©ä½ å½»åº•æŒæ¡è¿™é¡¹æŠ€èƒ½ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€è”è¡¨æŸ¥è¯¢åŸºç¡€ï¼šä»€ä¹ˆæ˜¯è¿æ¥ï¼Ÿ</h2>
<p>åœ¨å…³ç³»å‹æ•°æ®åº“ä¸­ï¼Œä¸ºäº†å‡å°‘æ•°æ®å†—ä½™å’Œä¿æŒæ•°æ®ä¸€è‡´æ€§ï¼Œä¿¡æ¯é€šå¸¸è¢«æ‹†åˆ†å­˜å‚¨åœ¨ä¸åŒçš„è¡¨ä¸­ã€‚è”è¡¨æŸ¥è¯¢å°±æ˜¯é€šè¿‡ä¸€ä¸ªæˆ–å¤šä¸ª<strong>å…³è”å­—æ®µ</strong>ï¼ˆé€šå¸¸æ˜¯ä¸»é”®å’Œå¤–é”®ï¼‰ï¼Œå°†è¿™äº›è¡¨é‡æ–°ç»„åˆåœ¨ä¸€èµ·çš„æ“ä½œã€‚ æœ€åŸºæœ¬çš„è¿æ¥è¯­æ³•å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">SELECT</span> åˆ—å
<span class="hljs-keyword">FROM</span> è¡¨<span class="hljs-number">1</span>
è¿æ¥ç±»å‹ <span class="hljs-keyword">JOIN</span> è¡¨<span class="hljs-number">2</span> <span class="hljs-keyword">ON</span> è¡¨<span class="hljs-number">1</span>.å­—æ®µ = è¡¨<span class="hljs-number">2</span>.å­—æ®µ;
</code></pre>
<p>åœ¨è¿›è¡Œè”è¡¨æŸ¥è¯¢æ—¶ï¼Œæœ‰ä¸€ä¸ªé»„é‡‘æ³•åˆ™å¿…é¡»éµå®ˆï¼š<strong>è¿æ¥æ¡ä»¶çš„æ•°é‡ = è¡¨æ•°é‡ - 1</strong>ã€‚å¦‚æœå¿½ç•¥è¿™ä¸ªè§„åˆ™ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç¬›å¡å°”ç§¯ã€‚</p>
<h2 data-id="heading-1">äºŒã€è¿æ¥ç±»å‹è¯¦è§£</h2>
<h3 data-id="heading-2">1. INNER JOINï¼ˆå†…è¿æ¥ï¼‰</h3>
<p>INNER JOINæ˜¯æœ€å¸¸ç”¨çš„è¿æ¥ç±»å‹ï¼Œå®ƒè¿”å›ä¸¤ä¸ªè¡¨ä¸­<strong>è¿æ¥å­—æ®µå®Œå…¨åŒ¹é…çš„è®°å½•</strong>ï¼Œå³åªè¿”å›ä¸¤ä¸ªè¡¨çš„äº¤é›†éƒ¨åˆ†ã€‚ <strong>åº”ç”¨åœºæ™¯</strong>ï¼šæŸ¥æ‰¾æœ‰æ˜ç¡®å…³è”å…³ç³»çš„è®°å½•ï¼Œå¦‚"æŸ¥è¯¢å·²ä¸‹å•å®¢æˆ·çš„ä¿¡æ¯"ã€‚ <strong>è¯­æ³•ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> orders.order_id, customers.customer_name
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers <span class="hljs-keyword">ON</span> orders.customer_id <span class="hljs-operator">=</span> customers.customer_id;
</code></pre>
<p><strong>ç»“æœç‰¹å¾</strong>ï¼šåªè¿”å›é‚£äº›ä¸‹äº†è®¢å•çš„å®¢æˆ·ä»¥åŠæ¯ä¸ªè®¢å•å¯¹åº”çš„å®¢æˆ·ä¿¡æ¯ã€‚æ²¡æœ‰ä¸‹è¿‡è®¢å•çš„å®¢æˆ·ï¼Œæˆ–è€…æ²¡æœ‰å…³è”å®¢æˆ·çš„è®¢å•éƒ½ä¸ä¼šå‡ºç°åœ¨ç»“æœä¸­ã€‚</p>
<h3 data-id="heading-3">2. LEFT JOINï¼ˆå·¦å¤–è¿æ¥ï¼‰</h3>
<p>LEFT JOINè¿”å›<strong>å·¦è¡¨çš„æ‰€æœ‰è®°å½•</strong>ä»¥åŠå³è¡¨ä¸­è¿æ¥å­—æ®µç›¸ç­‰çš„è®°å½•ã€‚å¦‚æœå³è¡¨ä¸­æ²¡æœ‰åŒ¹é…çš„è®°å½•ï¼Œåˆ™ç»“æœé›†ä¸­å³è¡¨éƒ¨åˆ†è¿”å›NULLå€¼ã€‚ <strong>åº”ç”¨åœºæ™¯</strong>ï¼šä»¥å·¦è¡¨ä¸ºä¸»ï¼Œä¿ç•™å·¦è¡¨æ‰€æœ‰è®°å½•ï¼Œå¦‚"æŸ¥è¯¢æ‰€æœ‰å®¢æˆ·åŠå…¶è®¢å•ï¼ˆåŒ…æ‹¬æ²¡æœ‰è®¢å•çš„å®¢æˆ·ï¼‰"ã€‚ <strong>è¯­æ³•ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> customers.customer_name, orders.order_id
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> orders <span class="hljs-keyword">ON</span> customers.customer_id <span class="hljs-operator">=</span> orders.customer_id;
</code></pre>
<p><strong>ç»“æœç‰¹å¾</strong>ï¼šåˆ—å‡ºæ‰€æœ‰å®¢æˆ·ï¼ŒåŒ…æ‹¬é‚£äº›ä»æœªä¸‹è¿‡è®¢å•çš„å®¢æˆ·ã€‚å¯¹äºæ²¡æœ‰è®¢å•çš„å®¢æˆ·ï¼Œorder_idå­—æ®µå°†æ˜¯NULLã€‚</p>
<h3 data-id="heading-4">3. RIGHT JOINï¼ˆå³å¤–è¿æ¥ï¼‰</h3>
<p>RIGHT JOINä¸LEFT JOINç›¸åï¼Œå®ƒè¿”å›<strong>å³è¡¨çš„æ‰€æœ‰è®°å½•</strong>ä»¥åŠå·¦è¡¨ä¸­è¿æ¥å­—æ®µç›¸ç­‰çš„è®°å½•ã€‚å¦‚æœå·¦è¡¨ä¸­æ²¡æœ‰åŒ¹é…çš„è®°å½•ï¼Œåˆ™ç»“æœé›†ä¸­å·¦è¡¨éƒ¨åˆ†è¿”å›NULLå€¼ã€‚ <strong>åº”ç”¨åœºæ™¯</strong>ï¼šä»¥å³è¡¨ä¸ºä¸»ï¼Œä¿ç•™å³è¡¨æ‰€æœ‰è®°å½•ï¼Œå¦‚"æŸ¥è¯¢æ‰€æœ‰è®¢å•åŠå¯¹åº”çš„å®¢æˆ·ï¼ˆåŒ…æ‹¬æ²¡æœ‰å®¢æˆ·ä¿¡æ¯çš„è®¢å•ï¼‰"ã€‚ <strong>è¯­æ³•ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> orders.order_id, employees.last_name
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">RIGHT</span> <span class="hljs-keyword">JOIN</span> employees <span class="hljs-keyword">ON</span> orders.employee_id <span class="hljs-operator">=</span> employees.employee_id;
</code></pre>
<p><strong>ç»“æœç‰¹å¾</strong>ï¼šåˆ—å‡ºæ‰€æœ‰å‘˜å·¥ï¼ŒåŒ…æ‹¬é‚£äº›æ²¡æœ‰å¤„ç†è¿‡ä»»ä½•è®¢å•çš„å‘˜å·¥ã€‚å¯¹äºæ²¡æœ‰è®¢å•çš„å‘˜å·¥ï¼Œorder_idå­—æ®µå°†æ˜¯NULLã€‚ <strong>æ³¨æ„</strong>ï¼šRIGHT JOINä¸å¦‚LEFT JOINå¸¸ç”¨ï¼Œå› ä¸ºé€šè¿‡è°ƒæ¢è¡¨çš„ä½ç½®ï¼Œå®Œå…¨å¯ä»¥ç”¨LEFT JOINå®ç°åŒæ ·çš„æ•ˆæœï¼Œè¿™æ ·ä»£ç æ›´æ˜“è¯»ã€‚</p>
<h3 data-id="heading-5">4. FULL JOINï¼ˆå…¨å¤–è¿æ¥ï¼‰</h3>
<p>FULL JOINè¿”å›å·¦è¡¨å’Œå³è¡¨ä¸­çš„<strong>æ‰€æœ‰è®°å½•</strong>ã€‚å½“æŸè¡Œåœ¨å¦ä¸€ä¸ªè¡¨ä¸­æ²¡æœ‰åŒ¹é…è¡Œæ—¶ï¼Œå¦ä¸€ä¸ªè¡¨çš„åˆ—å°†åŒ…å«NULLã€‚å¦‚æœè¡¨ä¹‹é—´æœ‰åŒ¹é…ï¼Œåˆ™æ•´ä¸ªè¡ŒåŒ…å«ä¸¤ä¸ªè¡¨çš„æ•°æ®ã€‚ <strong>åº”ç”¨åœºæ™¯</strong>ï¼šéœ€è¦æŸ¥çœ‹ä¸¤ä¸ªè¡¨å®Œå…¨å¹¶é›†æ—¶ï¼Œå¦‚åˆå¹¶ä¸¤ä¸ªæ•°æ®æºã€‚ <strong>è¯­æ³•ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">SELECT</span> customers.customer_name, orders.order_id
<span class="hljs-keyword">FROM</span> customers
<span class="hljs-keyword">FULL</span> <span class="hljs-keyword">OUTER</span> <span class="hljs-keyword">JOIN</span> orders <span class="hljs-keyword">ON</span> customers.customer_id <span class="hljs-operator">=</span> orders.customer_id;
</code></pre>
<p><strong>ç»“æœç‰¹å¾</strong>ï¼šç»“åˆäº†LEFTå’ŒRIGHT JOINçš„ç»“æœã€‚ä¼šè¿”å›æ‰€æœ‰å®¢æˆ·å’Œæ‰€æœ‰è®¢å•ã€‚ä¸åŒ¹é…çš„åœ°æ–¹ç”¨NULLå¡«å……ã€‚ <strong>æ³¨æ„</strong>ï¼šMySQLä¸ç›´æ¥æ”¯æŒFULL OUTER JOINï¼Œä½†å¯ä»¥é€šè¿‡LEFT JOIN + UNION + RIGHT JOINæ¥æ¨¡æ‹Ÿã€‚</p>
<h3 data-id="heading-6">5. éšå¼è¿æ¥ï¼ˆImplicit Joinï¼‰</h3>
<p>éšå¼è¿æ¥æ˜¯ä½¿ç”¨WHEREå­å¥æŒ‡å®šè¿æ¥æ¡ä»¶çš„æ—§å¼è¯­æ³•ï¼Œåœ¨ANSI-92æ ‡å‡†å¼•å…¥JOIN...ONè¯­æ³•ä¹‹å‰ä½¿ç”¨ã€‚ <strong>è¯­æ³•ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¸æ¨èçš„è€å¼å†™æ³•</span>
<span class="hljs-keyword">SELECT</span> orders.order_id, customers.customer_name
<span class="hljs-keyword">FROM</span> orders, customers
<span class="hljs-keyword">WHERE</span> orders.customer_id <span class="hljs-operator">=</span> customers.customer_id;
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨éšå¼è¿æ¥ï¼Ÿ</strong></p>
<ul>
<li><strong>æ¸…æ™°åˆ†ç¦»</strong>ï¼šæ˜¾å¼JOIN...ONè¯­æ³•å°†è”æ¥é€»è¾‘ï¼ˆONï¼‰å’Œæ•°æ®è¿‡æ»¤é€»è¾‘ï¼ˆWHEREï¼‰åˆ†å¼€ï¼Œä»£ç æ›´æ˜“è¯»å’Œç»´æŠ¤</li>
<li><strong>é¿å…é”™è¯¯</strong>ï¼šè€å¼è¯­æ³•å¦‚æœå¿˜è®°å†™WHEREæ¡ä»¶ï¼Œå°±ä¼šæ„å¤–äº§ç”ŸCROSS JOINï¼ˆç¬›å¡å°”ç§¯ï¼‰ï¼Œäº§ç”Ÿå·¨å¤§çš„é”™è¯¯ç»“æœé›†ã€‚è€ŒINNER JOINå¿˜è®°ONå­å¥ä¼šåœ¨å¤šæ•°æ•°æ®åº“ç³»ç»Ÿä¸­ç›´æ¥æŠ¥é”™</li>
<li><strong>æ ‡å‡†ä¸€è‡´æ€§</strong>ï¼šæ˜¾å¼JOINæ˜¯SQLæ ‡å‡†ï¼Œå¯è¯»æ€§æ›´å¼ºï¼Œæ˜¯æ‰€æœ‰ç°ä»£æ•°æ®åº“æ¨èçš„æ–¹å¼</li>
</ul>
<h2 data-id="heading-7">ä¸‰ã€è¿æ¥è§„èŒƒä¸æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-8">1. è¡¨åˆ«åä½¿ç”¨è§„èŒƒ</h3>
<p>å½“è¡¨åè¾ƒé•¿æˆ–æŸ¥è¯¢æ¶‰åŠå¤šä¸ªè¡¨æ—¶ï¼Œä½¿ç”¨è¡¨åˆ«åå¯ä»¥å¤§å¤§æé«˜ä»£ç çš„å¯è¯»æ€§ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å¥½çš„å†™æ³•</span>
<span class="hljs-keyword">SELECT</span> o.order_id, c.customer_name, e.last_name
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers c <span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> employees e <span class="hljs-keyword">ON</span> o.employee_id <span class="hljs-operator">=</span> e.employee_id;

<span class="hljs-comment">-- é¿å…ä½¿ç”¨ä¸å…·æè¿°æ€§çš„åˆ«å</span>
<span class="hljs-keyword">SELECT</span> a.b, c.d, e.f  <span class="hljs-comment">-- ä¸æ¨èï¼šåˆ«åæ— æ„ä¹‰</span>
<span class="hljs-keyword">FROM</span> orders a, customers c, employees e;
</code></pre>
<h3 data-id="heading-9">2. åˆ—åé™å®šä¸æ­§ä¹‰å¤„ç†</h3>
<p>å½“å¤šä¸ªè¡¨æœ‰ç›¸åŒåˆ—åæ—¶ï¼Œå¿…é¡»ä½¿ç”¨è¡¨åæˆ–åˆ«åæ¥é™å®šåˆ—åï¼Œé¿å…æ­§ä¹‰é”™è¯¯ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- âŒ é”™è¯¯ï¼šæ­§ä¹‰åˆ—å</span>
<span class="hljs-keyword">SELECT</span> name <span class="hljs-keyword">FROM</span> employees e
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> departments d <span class="hljs-keyword">ON</span> e.dept_id <span class="hljs-operator">=</span> d.id;

<span class="hljs-comment">-- âœ… æ­£ç¡®ï¼šæ˜ç¡®æŒ‡å®šæ¥æº</span>
<span class="hljs-keyword">SELECT</span> e.name <span class="hljs-keyword">AS</span> employee_name, d.name <span class="hljs-keyword">AS</span> department_name
<span class="hljs-keyword">FROM</span> employees e
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> departments d <span class="hljs-keyword">ON</span> e.dept_id <span class="hljs-operator">=</span> d.id;
</code></pre>
<h3 data-id="heading-10">3. ONå­å¥ä¸WHEREå­å¥çš„åˆ†ç¦»</h3>
<p>å°†è¿æ¥æ¡ä»¶æ”¾åœ¨ONå­å¥ä¸­ï¼Œå°†æ•°æ®è¿‡æ»¤æ¡ä»¶æ”¾åœ¨WHEREå­å¥ä¸­ï¼Œä½¿æŸ¥è¯¢é€»è¾‘æ›´æ¸…æ™°ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- âœ… æ¨èï¼šé€»è¾‘æ¸…æ™°</span>
<span class="hljs-keyword">SELECT</span> o.order_id, c.customer_name, o.amount
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers c <span class="hljs-keyword">ON</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id  <span class="hljs-comment">-- è¿æ¥æ¡ä»¶</span>
<span class="hljs-keyword">WHERE</span> o.amount <span class="hljs-operator">&gt;</span> <span class="hljs-number">1000</span> <span class="hljs-keyword">AND</span> o.order_date <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'2023-01-01'</span>;  <span class="hljs-comment">-- è¿‡æ»¤æ¡ä»¶</span>

<span class="hljs-comment">-- âŒ ä¸æ¨èï¼šé€»è¾‘æ··åˆ</span>
<span class="hljs-keyword">SELECT</span> o.order_id, c.customer_name, o.amount
<span class="hljs-keyword">FROM</span> orders o, customers c
<span class="hljs-keyword">WHERE</span> o.customer_id <span class="hljs-operator">=</span> c.customer_id
  <span class="hljs-keyword">AND</span> o.amount <span class="hljs-operator">&gt;</span> <span class="hljs-number">1000</span>
  <span class="hljs-keyword">AND</span> o.order_date <span class="hljs-operator">&gt;=</span> <span class="hljs-string">'2023-01-01'</span>;
</code></pre>
<h3 data-id="heading-11">4. ä½¿ç”¨USINGç®€åŒ–è¯­æ³•</h3>
<p>å½“è”æ¥ä¸¤ä¸ªè¡¨çš„åˆ—å<strong>å®Œå…¨ç›¸åŒæ—¶</strong>ï¼Œå¯ä»¥ä½¿ç”¨USINGå­å¥æ¥ç®€åŒ–ONè¯­æ³•ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä½¿ç”¨ONå­å¥</span>
<span class="hljs-keyword">SELECT</span> order_id, customer_name
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers <span class="hljs-keyword">ON</span> orders.customer_id <span class="hljs-operator">=</span> customers.customer_id;

<span class="hljs-comment">-- ä½¿ç”¨USINGç®€åŒ–ï¼ˆæ•ˆæœç›¸åŒï¼‰</span>
<span class="hljs-keyword">SELECT</span> order_id, customer_name
<span class="hljs-keyword">FROM</span> orders
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers <span class="hljs-keyword">USING</span> (customer_id);
</code></pre>
<h2 data-id="heading-12">å››ã€é¿å…ä¸€å¯¹å¤šå…³ç³»å¯¼è‡´çš„æ•°æ®é‡å¤</h2>
<p>ä¸€å¯¹å¤šå…³ç³»æ˜¯è”è¡¨æŸ¥è¯¢ä¸­æœ€å¸¸è§çš„é—®é¢˜æ¥æºä¹‹ä¸€ã€‚å½“å·¦è¡¨çš„ä¸€è¡Œè®°å½•åŒ¹é…å³è¡¨çš„å¤šè¡Œè®°å½•æ—¶ï¼Œä¼šå¯¼è‡´å·¦è¡¨æ•°æ®åœ¨ç»“æœé›†ä¸­é‡å¤å‡ºç°ã€‚</p>
<h3 data-id="heading-13">é—®é¢˜ç¤ºä¾‹</h3>
<p>å‡è®¾æœ‰ä¸¤ä¸ªè¡¨ï¼š<code>departments</code>ï¼ˆéƒ¨é—¨è¡¨ï¼‰å’Œ<code>employees</code>ï¼ˆå‘˜å·¥è¡¨ï¼‰ï¼Œä¸€ä¸ªéƒ¨é—¨æœ‰å¤šä¸ªå‘˜å·¥ã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨åŠå…¶å‘˜å·¥</span>
<span class="hljs-keyword">SELECT</span> d.dept_name, e.emp_name
<span class="hljs-keyword">FROM</span> departments d
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> employees e <span class="hljs-keyword">ON</span> d.dept_id <span class="hljs-operator">=</span> e.dept_id;
</code></pre>
<p>å¦‚æœ"æŠ€æœ¯éƒ¨"æœ‰10åå‘˜å·¥ï¼Œåˆ™"æŠ€æœ¯éƒ¨"è¿™ä¸ªéƒ¨é—¨åç§°ä¼šåœ¨ç»“æœé›†ä¸­é‡å¤10æ¬¡ã€‚</p>
<h3 data-id="heading-14">è§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-15">æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨DISTINCTå»é‡ï¼ˆå½“åªéœ€è¦å·¦è¡¨æ•°æ®æ—¶ï¼‰</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- åªéœ€è¦éƒ¨é—¨ä¿¡æ¯æ—¶ä½¿ç”¨DISTINCT</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span> d.dept_id, d.dept_name
<span class="hljs-keyword">FROM</span> departments d
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> employees e <span class="hljs-keyword">ON</span> d.dept_id <span class="hljs-operator">=</span> e.dept_id;
</code></pre>
<h4 data-id="heading-16">æ–¹æ¡ˆäºŒï¼šä½¿ç”¨èšåˆå‡½æ•°</h4>
<pre><code class="hljs language-vbnet" lang="vbnet">-- ç»Ÿè®¡æ¯ä¸ªéƒ¨é—¨çš„å‘˜å·¥æ•°é‡
<span class="hljs-keyword">SELECT</span> d.dept_name, COUNT(e.emp_id) <span class="hljs-keyword">AS</span> employee_count
<span class="hljs-keyword">FROM</span> departments d
LEFT <span class="hljs-keyword">JOIN</span> employees e <span class="hljs-keyword">ON</span> d.dept_id = e.dept_id
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> d.dept_id, d.dept_name;

-- åˆ—å‡ºæ¯ä¸ªéƒ¨é—¨çš„æ‰€æœ‰å‘˜å·¥ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰
<span class="hljs-keyword">SELECT</span> d.dept_name, GROUP_CONCAT(e.emp_name) <span class="hljs-keyword">AS</span> employees
<span class="hljs-keyword">FROM</span> departments d
LEFT <span class="hljs-keyword">JOIN</span> employees e <span class="hljs-keyword">ON</span> d.dept_id = e.dept_id
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> d.dept_id, d.dept_name;
</code></pre>
<h4 data-id="heading-17">æ–¹æ¡ˆä¸‰ï¼šä½¿ç”¨çª—å£å‡½æ•°ï¼ˆé«˜çº§ç”¨æ³•ï¼‰</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¸ºæ¯ä¸ªéƒ¨é—¨çš„å‘˜å·¥ç¼–å·ï¼Œé¿å…åœ¨åº”ç”¨å±‚å¤„ç†é‡å¤</span>
<span class="hljs-keyword">SELECT</span> d.dept_name, e.emp_name,
       <span class="hljs-built_in">ROW_NUMBER</span>() <span class="hljs-keyword">OVER</span> (<span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> d.dept_id <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> e.emp_name) <span class="hljs-keyword">as</span> emp_seq
<span class="hljs-keyword">FROM</span> departments d
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> employees e <span class="hljs-keyword">ON</span> d.dept_id <span class="hljs-operator">=</span> e.dept_id;
</code></pre>
<h4 data-id="heading-18">æ–¹æ¡ˆå››ï¼šä½¿ç”¨ç›¸å…³å­æŸ¥è¯¢ï¼ˆå½“åªéœ€è¦å³è¡¨çš„æ±‡æ€»ä¿¡æ¯æ—¶ï¼‰</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä½¿ç”¨å­æŸ¥è¯¢é¿å…ä¸€å¯¹å¤šé‡å¤</span>
<span class="hljs-keyword">SELECT</span> d.dept_id, d.dept_name,
       (<span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) <span class="hljs-keyword">FROM</span> employees e 
        <span class="hljs-keyword">WHERE</span> e.dept_id <span class="hljs-operator">=</span> d.dept_id) <span class="hljs-keyword">AS</span> employee_count
<span class="hljs-keyword">FROM</span> departments d;
</code></pre>
<h3 data-id="heading-19">å¦‚ä½•è¯†åˆ«ä¸€å¯¹å¤šå…³ç³»å¯¼è‡´çš„é—®é¢˜</h3>
<ol>
<li><strong>æ•°æ®é‡å¤</strong>ï¼šå·¦è¡¨çš„å”¯ä¸€æ ‡è¯†ç¬¦åœ¨ç»“æœé›†ä¸­å¤šæ¬¡å‡ºç°</li>
<li><strong>è®¡æ•°é”™è¯¯</strong>ï¼šä½¿ç”¨COUNT(*)æ—¶ç»“æœå¤§äºé¢„æœŸ</li>
<li><strong>æ±‡æ€»å¼‚å¸¸</strong>ï¼šä½¿ç”¨SUMã€AVGç­‰èšåˆå‡½æ•°æ—¶ç»“æœå¼‚å¸¸</li>
</ol>
<h2 data-id="heading-20">äº”ã€æ€§èƒ½ä¼˜åŒ–ä¸å¸¸è§é™·é˜±</h2>
<h3 data-id="heading-21">1. ç´¢å¼•ä½¿ç”¨ç­–ç•¥</h3>
<p>ä¸ºå…³è”å­—æ®µåˆ›å»ºç´¢å¼•æ˜¯æé«˜è”è¡¨æŸ¥è¯¢æ€§èƒ½çš„æœ€æœ‰æ•ˆæ–¹æ³•ã€‚</p>
<pre><code class="hljs language-scss" lang="scss">-- ä¸ºè¿æ¥å­—æ®µåˆ›å»ºç´¢å¼•
CREATE INDEX idx_employees_dept_id ON <span class="hljs-built_in">employees</span>(dept_id);
CREATE INDEX idx_departments_id ON <span class="hljs-built_in">departments</span>(id);
</code></pre>
<p><strong>æœ€å·¦åŒ¹é…åŸåˆ™</strong>ï¼šå¯¹äºå¤åˆç´¢å¼•ï¼ŒæŸ¥è¯¢æ¡ä»¶åº”ä»ç´¢å¼•çš„æœ€å·¦ä¾§åˆ—å¼€å§‹åŒ¹é…ï¼Œæ‰èƒ½æœ‰æ•ˆåˆ©ç”¨ç´¢å¼•ã€‚</p>
<h3 data-id="heading-22">2. è¿æ¥é¡ºåºä¼˜åŒ–</h3>
<p>å¤šè¡¨è¿æ¥æ—¶ï¼Œè¿æ¥é¡ºåºä¼šå½±å“æŸ¥è¯¢æ€§èƒ½ã€‚ä¸€èˆ¬åŸåˆ™æ˜¯ï¼š</p>
<ul>
<li>å°†æ•°æ®é‡å°çš„è¡¨æ”¾åœ¨å‰é¢</li>
<li>å°†ç­›é€‰æ¡ä»¶æœ€ä¸¥æ ¼çš„è¡¨æ”¾åœ¨å‰é¢</li>
</ul>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- ä¼˜åŒ–è¿æ¥é¡ºåºï¼šå°è¡¨é©±åŠ¨å¤§è¡¨</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> (<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> employees <span class="hljs-keyword">WHERE</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'ACTIVE'</span>) e  <span class="hljs-comment">-- å…ˆè¿‡æ»¤</span>
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> departments d <span class="hljs-keyword">ON</span> e.dept_id <span class="hljs-operator">=</span> d.id
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> companies c <span class="hljs-keyword">ON</span> d.company_id <span class="hljs-operator">=</span> c.id;
</code></pre>
<h3 data-id="heading-23">3. é¿å…åœ¨è¿æ¥æ¡ä»¶ä¸Šä½¿ç”¨å‡½æ•°æˆ–è®¡ç®—</h3>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- âŒ ä¸æ¨èï¼šç´¢å¼•å¯èƒ½å¤±æ•ˆ</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers c <span class="hljs-keyword">ON</span> <span class="hljs-built_in">UPPER</span>(o.customer_code) <span class="hljs-operator">=</span> <span class="hljs-built_in">UPPER</span>(c.code);

<span class="hljs-comment">-- âœ… æ¨èï¼šç›´æ¥æ¯”è¾ƒ</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> orders o
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> customers c <span class="hljs-keyword">ON</span> o.customer_code <span class="hljs-operator">=</span> c.code;
</code></pre>
<h3 data-id="heading-24">4. NULLå€¼å¤„ç†</h3>
<p>æ³¨æ„ï¼šå†…è¿æ¥ä¼šè‡ªåŠ¨è¿‡æ»¤æ‰å…³è”å­—æ®µä¸ºNULLçš„è¡Œã€‚</p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- å†…è¿æ¥ä¼šæ’é™¤dept_idä¸ºNULLçš„å‘˜å·¥</span>
<span class="hljs-keyword">SELECT</span> e.emp_name, d.dept_name
<span class="hljs-keyword">FROM</span> employees e
<span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> departments d <span class="hljs-keyword">ON</span> e.dept_id <span class="hljs-operator">=</span> d.id;

<span class="hljs-comment">-- å¦‚æœéœ€è¦åŒ…å«dept_idä¸ºNULLçš„å‘˜å·¥ï¼Œä½¿ç”¨LEFT JOIN</span>
<span class="hljs-keyword">SELECT</span> e.emp_name, d.dept_name
<span class="hljs-keyword">FROM</span> employees e
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> departments d <span class="hljs-keyword">ON</span> e.dept_id <span class="hljs-operator">=</span> d.id;
</code></pre>
<h2 data-id="heading-25">å…­ã€å®æˆ˜åº”ç”¨æ€»ç»“</h2>









































<table><thead><tr><th>è¿æ¥ç±»å‹</th><th>ä½¿ç”¨åœºæ™¯</th><th>æ ¸å¿ƒç‰¹ç‚¹</th><th>æ³¨æ„äº‹é¡¹</th></tr></thead><tbody><tr><td>INNER JOIN</td><td>æŸ¥æ‰¾æœ‰æ˜ç¡®å…³è”å…³ç³»çš„è®°å½•</td><td>åªè¿”å›åŒ¹é…çš„è¡Œ</td><td>ä¼šè‡ªåŠ¨è¿‡æ»¤NULLå…³è”å€¼</td></tr><tr><td>LEFT JOIN</td><td>ä¿ç•™å·¦è¡¨å…¨éƒ¨è®°å½•</td><td>è¿”å›å·¦è¡¨æ‰€æœ‰è¡Œ+å³è¡¨åŒ¹é…è¡Œ</td><td>å³è¡¨æ— åŒ¹é…æ—¶è¿”å›NULL</td></tr><tr><td>RIGHT JOIN</td><td>ä¿ç•™å³è¡¨å…¨éƒ¨è®°å½•</td><td>è¿”å›å³è¡¨æ‰€æœ‰è¡Œ+å·¦è¡¨åŒ¹é…è¡Œ</td><td>å¯ç”¨LEFT JOINæ›¿ä»£</td></tr><tr><td>FULL JOIN</td><td>éœ€è¦ä¸¤ä¸ªè¡¨çš„å®Œå…¨å¹¶é›†</td><td>è¿”å›ä¸¤ä¸ªè¡¨çš„æ‰€æœ‰è¡Œ</td><td>MySQLä¸­éœ€æ¨¡æ‹Ÿå®ç°</td></tr><tr><td>éšå¼è¿æ¥</td><td>ä¸æ¨èä½¿ç”¨</td><td>WHEREå­å¥ä¸­æŒ‡å®šæ¡ä»¶</td><td>æ˜“äº§ç”Ÿç¬›å¡å°”ç§¯</td></tr></tbody></table>
<p><strong>é€‰æ‹©è¿æ¥ç±»å‹çš„å†³ç­–æµç¨‹</strong>ï¼š</p>
<ol>
<li>
<p><strong>æ˜¯å¦éœ€è¦ä¿ç•™æœªåŒ¹é…çš„è®°å½•ï¼Ÿ</strong></p>
<ul>
<li>å¦ â†’ ä½¿ç”¨INNER JOIN</li>
<li>æ˜¯ â†’ è¿›å…¥ç¬¬2æ­¥</li>
</ul>
</li>
<li>
<p><strong>éœ€è¦ä¿ç•™å“ªä¸ªè¡¨çš„æœªåŒ¹é…è®°å½•ï¼Ÿ</strong></p>
<ul>
<li>åªä¿ç•™å·¦è¡¨ â†’ ä½¿ç”¨LEFT JOIN</li>
<li>åªä¿ç•™å³è¡¨ â†’ ä½¿ç”¨RIGHT JOINï¼ˆæˆ–è°ƒæ¢è¡¨é¡ºåºç”¨LEFT JOINï¼‰</li>
<li>ä¸¤ä¸ªè¡¨éƒ½è¦ä¿ç•™ â†’ ä½¿ç”¨FULL JOIN</li>
</ul>
</li>
</ol>
<p><strong>æœ€ä½³å®è·µè¦ç‚¹</strong>ï¼š</p>
<ul>
<li>å§‹ç»ˆä½¿ç”¨æ˜¾å¼JOINè¯­æ³•ï¼Œé¿å…éšå¼è¿æ¥</li>
<li>ä¸ºå…³è”å­—æ®µåˆ›å»ºåˆé€‚çš„ç´¢å¼•</li>
<li>å¤šè¡¨è¿æ¥æ—¶ï¼Œç¡®ä¿è¿æ¥æ¡ä»¶æ•°é‡ = è¡¨æ•°é‡ - 1</li>
<li>è­¦æƒ•ä¸€å¯¹å¤šå…³ç³»å¯¼è‡´çš„æ•°æ®é‡å¤é—®é¢˜ï¼Œé€‚å½“å¯¹è¡¨å»ºç«‹è”åˆå”¯ä¸€ç´¢å¼•ã€‚</li>
<li>ä½¿ç”¨EXPLAINåˆ†æå¤æ‚æŸ¥è¯¢çš„æ‰§è¡Œè®¡åˆ’</li>
</ul>
<p>è”è¡¨æŸ¥è¯¢æ˜¯SQLæ ¸å¿ƒæŠ€æœ¯ï¼Œæ­£ç¡®ä½¿ç”¨å¯ä»¥é«˜æ•ˆæ•´åˆåˆ†æ•£æ•°æ®ï¼Œä½†éœ€è¦æ·±å…¥ç†è§£æ¯ç§è¿æ¥ç±»å‹çš„ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚é€šè¿‡æœ¬æŒ‡å—çš„å­¦ä¹ å’Œå®æˆ˜ç»ƒä¹ ï¼Œå¸Œæœ›ä½ èƒ½å¤Ÿè‡ªä¿¡åœ°åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨è¿™äº›çŸ¥è¯†ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Solidity æ˜¯ä»€ä¹ˆï¼ŸåŒºå—é“¾æ™ºèƒ½åˆçº¦å¼€å‘å…¥é—¨æŒ‡å— ä¸‹]]></title>    <link>https://juejin.cn/post/7580180556983353394</link>    <guid>https://juejin.cn/post/7580180556983353394</guid>    <pubDate>2025-12-05T10:54:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580180556983353394" data-draft-id="7579551971926360104" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Solidity æ˜¯ä»€ä¹ˆï¼ŸåŒºå—é“¾æ™ºèƒ½åˆçº¦å¼€å‘å…¥é—¨æŒ‡å— ä¸‹"/> <meta itemprop="keywords" content="Solidity,web3"/> <meta itemprop="datePublished" content="2025-12-05T10:54:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŠ€æœ¯ä¸æ‰“çƒŠ"/> <meta itemprop="url" content="https://juejin.cn/user/893244690677165"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Solidity æ˜¯ä»€ä¹ˆï¼ŸåŒºå—é“¾æ™ºèƒ½åˆçº¦å¼€å‘å…¥é—¨æŒ‡å— ä¸‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/893244690677165/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŠ€æœ¯ä¸æ‰“çƒŠ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T10:54:36.000Z" title="Fri Dec 05 2025 10:54:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»15åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h2 data-id="heading-0">Â å¼•è¨€ï¼šå®æ“å‰çš„å‡†å¤‡â€”â€”å¿ƒæ€ä¸å·¥å…·æ¸…å•</h2>
<p>**ä½ æ˜¯ä¸æ˜¯ä¹Ÿè¢«"Solidityéš¾åˆ°é£å¤©"çš„ä¼ è¯´å“è¿‡ï¼Ÿ**çœŸç›¸æ˜¯ï¼Œ99%è¢«å“åˆ°çš„äººå‹æ ¹æ²¡è¯•è¿‡çœŸçš„ä¸Šæ‰‹å†™ï¼å°±åƒå­¦å¼€è½¦ï¼Œçœ‹èµ·æ¥å¤æ‚å¾—è¦æ­»ï¼Œåä¸Šé©¾é©¶åº§30åˆ†é’Ÿå°±ä¸Šé“ã€‚Solidity ä¹Ÿä¸€æ ·â€”â€”<strong>å…ˆåˆ«çº ç»“åº•å±‚ç»†èŠ‚ï¼Œä¼˜å…ˆå»ºç«‹ä½“æ„Ÿæœ€å…³é”®</strong>ã€‚</p>
<p>è¿™ä¸€ç¯‡ä¸‹åŠæ®µï¼Œæˆ‘å°±å¸¦ä½ å½»åº•æ‹†è§£ Solidityï¼Œä»æ­å»ºå¼€å‘ç¯å¢ƒã€å­¦æ ¸å¿ƒè¯­æ³•ã€æ‰‹æ’¸ä¸¤ä¸ªå…¥é—¨åˆçº¦ï¼Œå†åˆ°ä¸Šçº¿éƒ¨ç½²ï¼Œå…¨ç¨‹é™ªä½ èµ°ä¸€éã€‚ä¿è¯ 3 å¤©å†…ï¼Œä½ å°±èƒ½çœ‹æ‡‚å¸‚é¢ä¸Š 80%çš„å…¬å¼€åˆçº¦ä»£ç ï¼Œç”šè‡³èƒ½æ”¹ä¸ªå‚æ•°è‡ªå·±è¯•è¯•ã€‚</p>
<p><strong>æ–°æ‰‹å®æ“çš„é“å¾‹åªæœ‰ä¸€æ¡ï¼šã€Œå…ˆè·‘é€šï¼Œå†ä¼˜åŒ–ã€</strong>ã€‚åˆ«ç®¡ä»€ä¹ˆåº•å±‚åŸç†ã€gas ä¼˜åŒ–ã€å®‰å…¨å®¡è®¡ï¼Œè¿™äº›éƒ½æ˜¯åè¯ã€‚å…ˆè®©ä»£ç è·‘èµ·æ¥ï¼Œå†æ…¢æ…¢æ‰“ç£¨ã€‚å¿ƒæ€æ‘†å¥½ï¼Œå’±ä»¬å¼€å§‹ã€‚</p>
<p>æå®šè¿™å‡ ä»¶å·¥å…·ï¼Œæ²¡å•¥å¤æ‚é…ç½®ï¼Œç›´æ¥ä¸Šæ‰‹ï¼š</p>
<ul>
<li><strong>Remix åœ¨çº¿ IDE</strong>ï¼šæ— éœ€æœ¬åœ°é…ç½®ï¼Œæ‰“å¼€ç½‘é¡µå°±å†™ä»£ç ï¼Œè¿™æ˜¯æ–°æ‰‹çš„å¤©å ‚</li>
<li><strong>æµ‹è¯•ç½‘ç»œ Sepolia</strong>ï¼šGoerli å·²ç»è¿‡æ—¶äº†ï¼ŒSepolia æ˜¯ 2025 å¹´çš„æ ‡é…ï¼Œå…è´¹è·å–æµ‹è¯• ETHï¼Œé›¶é£é™©å®éªŒ</li>
<li><strong>MetaMask é’±åŒ…</strong>ï¼šè¿æ¥æµ‹è¯•ç½‘ï¼Œéƒ¨ç½²åˆçº¦çš„å¿…å¤‡ä¼™ä¼´</li>
<li><strong>Solidity å®˜æ–¹æ–‡æ¡£ + Etherscan æµè§ˆå™¨</strong>ï¼šé‡åˆ°é—®é¢˜æŸ¥ä¸€ä¸‹ï¼Œé€æ˜åœ°çœ‹åˆ«äººçš„åˆçº¦æ€ä¹ˆå†™çš„</li>
</ul>
<h2 data-id="heading-1">å¼€å‘ç¯å¢ƒæ­å»ºï¼š3 æ­¥ä¸Šæ‰‹ Remix IDEï¼ˆå›¾æ–‡é€»è¾‘ç®€åŒ–ç‰ˆï¼‰</h2>
<blockquote>
<p><strong>ç”¨ Remixï¼Œ5 åˆ†é’Ÿæ­å¥½ç¯å¢ƒï¼Œä¸ç”¨èŠ±ä¸€æ•´å¤©æŠ˜è…¾æœ¬åœ°é…ç½®ã€‚</strong></p>
</blockquote>
<h2 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šæ‰“å¼€ Remixï¼Œç†Ÿæ‚‰ç•Œé¢å¸ƒå±€</h2>
<p>è®¿é—®Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fremix.ethereum.org%2F" title="https://remix.ethereum.org/" target="_blank" ref="nofollow noopener noreferrer">remix.ethereum.org/</a>ï¼Œè¿™å°±æ˜¯ä½ çš„æˆ˜åœºã€‚ç•Œé¢ä¸€æ‰“å¼€çœ‹ç€å¤æ‚ï¼Œä½†å…¶å®å°±è¿™å‡ ä¸ªæ¨¡å—ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c1c4e4e058a94ff8be95d47d3dc5abea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oqA5pyv5LiN5omT54OK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765536875&amp;x-signature=LFJY2jvYBkRAXTAFyOTMIYf5tpo%3D" alt="" loading="lazy"/>â€‹</p>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>ç¼–è¾‘</p>
<ul>
<li><strong>å·¦è¾¹æ–‡ä»¶ç®¡ç†å™¨</strong>ï¼šæ–°å»ºã€åˆ é™¤ã€ç®¡ç† .sol æ–‡ä»¶çš„åœ°å„¿</li>
<li><strong>ä¸­é—´ç¼–è¾‘å™¨</strong>ï¼šå†™ä»£ç çš„åœ°æ–¹ï¼Œå°±æ˜¯ä¸ªé«˜çº§è®°äº‹æœ¬</li>
<li><strong>ä¸‹é¢ç¼–è¯‘å™¨é¢æ¿</strong>ï¼šç¼–è¯‘ä½ çš„ä»£ç ï¼Œæ£€æŸ¥æœ‰æ²¡æœ‰è¯­æ³•é”™è¯¯</li>
<li><strong>å³è¾¹éƒ¨ç½²é¢æ¿</strong>ï¼šéƒ¨ç½²åˆçº¦åˆ°æµ‹è¯•ç½‘çš„æ ¸å¿ƒæ“ä½œåŒº</li>
<li><strong>æœ€ä¸‹é¢ç»ˆç«¯</strong>ï¼šæ‰€æœ‰äº¤æ˜“è®°å½•ã€é”™è¯¯æç¤ºéƒ½åœ¨è¿™å„¿</li>
</ul>
<p><strong>æ–°æ‰‹ç¬¬ä¸€ä¸ªæ“ä½œ</strong>ï¼šå·¦è¾¹æ–‡ä»¶ç®¡ç†å™¨é‡Œï¼Œç‚¹Â <strong>æ–°å»ºæ–‡ä»¶</strong>Â â†’ èµ·ä¸ªåå­—ï¼Œæ¯”å¦‚Â <code>HelloWeb3.sol</code>Â â†’ å°±èƒ½å¼€å§‹å†™ä»£ç äº†ã€‚</p>
<h2 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šé…ç½®ç¼–è¯‘å™¨ç‰ˆæœ¬ï¼ˆè¿™ä¸€æ­¥è¶…å…³é”®ï¼‰</h2>
<p>çœ‹å³è¾¹çš„ç¼–è¯‘å™¨é¢æ¿ï¼Œé¡¶éƒ¨æœ‰ä¸ªç‰ˆæœ¬é€‰æ‹©ã€‚<strong>æ¨èé€‰ 0.8.x çš„æœ€æ–°ç¨³å®šç‰ˆ</strong>ï¼Œæ¯”å¦‚ 0.8.26ï¼ˆ2025 å¹´æœ€æ–°ï¼‰ã€‚ä¸ºå•¥ï¼Ÿå› ä¸º 0.8.0 ä¹‹åï¼ŒSolidity å†…ç½®äº†è‡ªåŠ¨æº¢å‡ºæ£€æŸ¥ï¼Œä½ ä¸ç”¨æ‰‹åŠ¨å¤„ç†æ•´æ•°æº¢å‡ºé—®é¢˜ï¼Œä¸€åˆ‡éƒ½æ›´å®‰å…¨äº†ã€‚</p>
<p><strong>åˆ«é€‰å¤ªæ—§çš„ç‰ˆæœ¬ï¼Œ0.7.x åŠä»¥ä¸‹çš„å·²ç»è¢«æ·˜æ±°äº†ï¼Œä»£ç å†™å‡ºæ¥ä¸€å †å‘ã€‚</strong></p>
<h2 data-id="heading-4">ç¬¬ä¸‰æ­¥ï¼šè¿æ¥ MetaMask æµ‹è¯•ç½‘ï¼ˆè¿™æ˜¯éƒ¨ç½²çš„å‰ç½®æ¡ä»¶ï¼‰</h2>
<p><strong>ç°åœ¨çš„æƒ…å†µæ˜¯è¿™æ ·çš„</strong>ï¼šGoerli æµ‹è¯•ç½‘å·²ç»åœ¨ 2024 å¹´ 4 æœˆåœæ­¢ç»´æŠ¤äº†ï¼Œæœ€æ–°æ ‡é…æ˜¯Â <strong>Sepolia</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/932918cf2ac24d97b7d51eb53fbcbf63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oqA5pyv5LiN5omT54OK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765536875&amp;x-signature=EAr56K8lDu5%2BU8rhNJY4kgKvInE%3D" alt="" loading="lazy"/>â€‹</p>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>ç¼–è¾‘</p>
<p><strong>è¿æ¥æ­¥éª¤è¶…ç®€å•</strong>ï¼š</p>
<ol>
<li>
<p>æ‰“å¼€ MetaMaskï¼Œç‚¹å³ä¸Šè§’çš„ç½‘ç»œé€‰æ‹©å™¨</p>
</li>
<li>
<p>å¼€å¯Â <strong>"æ˜¾ç¤ºæµ‹è¯•ç½‘ç»œ"</strong>Â çš„å¼€å…³ï¼ˆä¸å¼€è¿™ä¸ªï¼Œä½ çœ‹ä¸åˆ°æµ‹è¯•ç½‘é€‰é¡¹ï¼‰</p>
</li>
<li>
<p>é€‰æ‹©Â <strong>"Sepolia"</strong>Â æˆ–ç‚¹Â <strong>"æ·»åŠ ç½‘ç»œ"</strong>Â æ‰‹åŠ¨å¡«å…¥ï¼š</p>
<ul>
<li>ç½‘ç»œåç§°ï¼šSepolia Testnet</li>
<li>RPC URLï¼š<code>https://eth-sepolia.g.alchemy.com/v2/demo</code></li>
<li>é“¾ IDï¼š11155111</li>
<li>åŒºå—æµè§ˆå™¨ï¼š<code>https://sepolia.etherscan.io</code></li>
</ul>
</li>
<li>
<p>è·å–æµ‹è¯• ETHï¼šè®¿å…è´¹æ°´é¾™å¤´ï¼ˆFaucetï¼‰ï¼Œè¾“å…¥ä½ çš„é’±åŒ…åœ°å€ï¼Œå°±èƒ½é¢†å…è´¹æµ‹è¯•å¸ï¼Œè¿™ç©æ„å„¿æ²¡æœ‰çœŸå®ä»·å€¼ï¼Œéšä¾¿ç”¨</p>
</li>
</ol>
<p><strong>å¸¸è§æŠ¥é”™åŠè§£å†³</strong>ï¼š</p>
<ul>
<li><strong>"é’±åŒ…è¿æ¥å¤±è´¥"</strong> ï¼šæ£€æŸ¥ä¸€ä¸‹ RPC URL æœ‰æ²¡æœ‰è¾“é”™ï¼Œè¯•è¯•æ¢ä¸ª RPC æœåŠ¡å•†ï¼ˆAlchemyã€GetBlockã€Infura éƒ½è¡Œï¼‰</li>
<li><strong>"é¢†å–æµ‹è¯• ETH æ˜¾ç¤ºåœ°å€å·²ç”¨è¿‡"</strong> ï¼šæ¢ä¸ªé’±åŒ…åœ°å€æˆ–éš”å¤©å†è¯•ï¼Œæ°´é¾™å¤´æœ‰æµé‡é™åˆ¶</li>
<li><strong>"ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸å…¼å®¹"</strong> ï¼šç¡®ä¿ä½ é€‰çš„ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸è¦å¤ªå¤è€ï¼Œæœ€å¥½ç”¨ 0.8.x</li>
</ul>
<h2 data-id="heading-5">Solidity è¯­æ³•åŸºç¡€ï¼šæ ¸å¿ƒè¦ç´ å¿«é€ŸæŒæ¡ï¼ˆæ–°æ‰‹å¿…å­¦ï¼‰</h2>
<h2 data-id="heading-6">åˆçº¦çš„åŸºæœ¬ç»“æ„ï¼Œé€è¡Œè§£æ</h2>
<p><strong>Solidity åˆçº¦çš„æ¡†æ¶çœ‹èµ·æ¥æ˜¯è¿™æ ·æ»´</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// ç¬¬ä¸€è¡Œï¼šç‰ˆæœ¬å£°æ˜</span>
pragma solidity ^<span class="hljs-number">0.8</span><span class="hljs-number">.26</span>;

<span class="hljs-comment">// ç¬¬äºŒè¡Œï¼šåˆçº¦å£°æ˜</span>
contract MyContract {
Â  Â  <span class="hljs-comment">// åˆçº¦çš„ä»£ç éƒ½åœ¨è¿™ä¸ªå¤§æ‹¬å·é‡Œ</span>
Â  Â  <span class="hljs-comment">// çŠ¶æ€å˜é‡ã€å‡½æ•°ç­‰ç­‰</span>
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>æ‹†è§£ä¸€ä¸‹</strong>ï¼š</p>
<ul>
<li><strong><code>pragma solidity ^0.8.26;</code></strong> ï¼šå‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè¿™ä»½ä»£ç æ˜¯ç”¨ Solidity 0.8.26 æˆ–æ›´é«˜ç‰ˆæœ¬å†™çš„ï¼ˆä½†ä¸è¶…è¿‡ 0.9.0ï¼‰ã€‚^ç¬¦å·çš„æ„æ€å°±æ˜¯"å‘ä¸Šå…¼å®¹"ã€‚å¦‚æœä½ å†™ 0.8.17ï¼Œé‚£ä½ å¾—æ”¹æˆÂ <code>^0.8.17</code></li>
<li><strong><code>contract MyContract {}</code></strong> ï¼šå®šä¹‰ä¸€ä¸ªåˆçº¦å«Â <code>MyContract</code>ã€‚ä¸€ä¸ª .sol æ–‡ä»¶å¯ä»¥æœ‰å¤šä¸ªåˆçº¦ï¼Œä½†é€šå¸¸ä¸€ä¸ªæ–‡ä»¶ä¸€ä¸ªä¸»åˆçº¦</li>
<li><strong>æ³¨é‡Š</strong>ï¼š<code>// å•è¡Œæ³¨é‡Š</code>Â æˆ–Â <code>/* å¤šè¡Œæ³¨é‡Š */</code>ï¼Œç¼–è¯‘æ—¶ä¼šè¢«å®Œå…¨å¿½ç•¥</li>
</ul>
<h2 data-id="heading-7">æ ¸å¿ƒæ•°æ®ç±»å‹ï¼ŒæŒæ¡è¿™äº›å°±å¤Ÿç”¨</h2>
<p><strong>æ–°æ‰‹å¿…é¡»æŒæ¡çš„ç±»å‹</strong>ï¼ˆåˆ«æƒ³ç€ä¸€æ¬¡å…¨è®°ä½ï¼Œè¾¹å†™è¾¹è®°ï¼‰ï¼š</p>
<p><strong>å€¼ç±»å‹</strong>ï¼ˆç®€å•æ•°æ®ï¼Œæ¯”å¦‚æ•°å­—ã€åœ°å€ï¼‰ï¼š</p>
<ul>
<li><strong><code>uint</code></strong>Â /Â <strong><code>uint256</code></strong>ï¼šæ— ç¬¦å·æ•´æ•°ï¼Œå°±æ˜¯ä¸èƒ½æ˜¯è´Ÿæ•°çš„æ•´æ•°ã€‚èŒƒå›´æ˜¯ 0 åˆ° 2^256-1ï¼Œå¤§å¾—å“äººã€‚ä½ è½¬è´¦å¤šå°‘ ETHã€ä½™é¢æ˜¯å¤šå°‘ï¼Œéƒ½ç”¨è¿™ä¸ª</li>
<li><strong><code>address</code></strong>ï¼šé’±åŒ…åœ°å€ï¼Œå°±æ˜¯é‚£ä¸€é•¿ä¸²Â <code>0x...</code>Â å¼€å¤´çš„ä¸œè¥¿ã€‚æ¯”å¦‚Â <code>0x742d35Cc6634C0532925a3b844Bc9e7595f42bE</code>ã€‚ä¸€ä¸ª address å  20 å­—èŠ‚</li>
<li><strong><code>bool</code></strong>ï¼šåªæœ‰ä¸¤ä¸ªå€¼ï¼š<code>true</code>Â æˆ–Â <code>false</code>ã€‚åˆ¤æ–­æ¡ä»¶ã€æƒé™éªŒè¯ç»å¸¸ç”¨</li>
<li><strong><code>string</code></strong>ï¼šå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ "Hello Web3!"ã€‚ä½†æ³¨æ„ï¼Œstring åœ¨ Solidity é‡Œå¤„ç†èµ·æ¥æ¯”è¾ƒè´µï¼ˆæ¶ˆè€—æ›´å¤š gasï¼‰ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¸ä¼šå¤§é‡å­˜å‚¨</li>
</ul>
<p><strong>å¼•ç”¨ç±»å‹</strong>ï¼ˆå¤æ‚æ•°æ®ï¼Œæ¯”å¦‚é›†åˆï¼‰ï¼š</p>
<ul>
<li><strong>æ•°ç»„Â <code>array</code></strong>ï¼šæ¯”å¦‚Â <code>uint[] memory arr</code>Â æˆ–Â <code>uint[10] storage arr</code>ã€‚å‰è€…æ˜¯åŠ¨æ€æ•°ç»„ï¼ˆå¤§å°ä¸å›ºå®šï¼‰ï¼Œåè€…æ˜¯å›ºå®šå¤§å°ã€‚å¯ä»¥å­˜å¤šä¸ªåŒç±»å‹çš„æ•°æ®</li>
<li><strong>æ˜ å°„Â <code>mapping</code></strong>ï¼ˆé‡ç‚¹è®²ï¼‰ï¼šå°±åƒå­—å…¸æˆ– Mapï¼Œå­˜é”®å€¼å¯¹ã€‚æ¯”å¦‚Â <code>mapping(address =&gt; uint256) public balance</code>ï¼Œæ„æ€æ˜¯æ¯ä¸ªåœ°å€ï¼ˆaddressï¼‰å¯¹åº”ä¸€ä¸ªä½™é¢ï¼ˆuint256ï¼‰ã€‚è¿™æ˜¯ Solidity é‡Œæœ€é«˜æ•ˆçš„å­˜å‚¨ç»“æ„ï¼Œç»å¯¹ä¼šç”¨åˆ°</li>
</ul>
<h2 data-id="heading-8">å˜é‡ä¸çŠ¶æ€ç®¡ç†</h2>
<p><strong>çŠ¶æ€å˜é‡</strong>ï¼šå†™åœ¨åˆçº¦å†…éƒ¨ã€å‡½æ•°å¤–é¢çš„å˜é‡ï¼Œæ°¸ä¹…å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šã€‚éƒ¨ç½²å®Œåˆçº¦å°±ä¸€ç›´åœ¨é“¾ä¸Šï¼ŒèŠ± gasã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">contract <span class="hljs-title class_">Bank</span> {
Â  Â  <span class="hljs-title function_">mapping</span>(<span class="hljs-function"><span class="hljs-params">address</span> =&gt;</span> uint256) <span class="hljs-keyword">public</span> userBalance; <span class="hljs-comment">// è¿™å°±æ˜¯çŠ¶æ€å˜é‡ï¼Œå­˜ç”¨æˆ·ä½™é¢</span>
Â  Â  address <span class="hljs-keyword">public</span> owner; <span class="hljs-comment">// è¿™ä¹Ÿæ˜¯çŠ¶æ€å˜é‡ï¼Œè®°å½•åˆçº¦æ‰€æœ‰è€…</span>
}
</code></pre>
<p><strong>å±€éƒ¨å˜é‡</strong>ï¼šå†™åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œå‡½æ•°æ‰§è¡Œå®Œå°±æ¶ˆå¤±äº†ï¼Œä¸å­˜å‚¨åœ¨åŒºå—é“¾ä¸Šã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function">function <span class="hljs-title">calculate</span>() <span class="hljs-keyword">public</span></span> {
Â  Â  uint256 result = <span class="hljs-number">10</span> + <span class="hljs-number">5</span>; <span class="hljs-comment">// result æ˜¯å±€éƒ¨å˜é‡ï¼Œå‡½æ•°ä¸€ç»“æŸå°±æ²¡äº†</span>
}
</code></pre>
<p><strong>å¯è§æ€§ä¿®é¥°ç¬¦</strong>ï¼ˆè°èƒ½è®¿é—®è¿™ä¸ªå˜é‡ï¼‰ï¼š</p>
<ul>
<li><strong><code>public</code></strong>ï¼šä»»ä½•äººéƒ½èƒ½è¯»ï¼Œåˆçº¦è‡ªåŠ¨ç”Ÿæˆ getter å‡½æ•°è®©ä½ æŸ¥è¯¢ï¼ˆè¿™ä¼šæ¶ˆè€—ä¸€ç‚¹ gasï¼‰</li>
<li><strong><code>private</code></strong>ï¼šåªæœ‰è¿™ä¸ªåˆçº¦å†…éƒ¨çš„å‡½æ•°èƒ½è¯»ï¼Œå¤–é¢çš„äººå’Œå…¶ä»–åˆçº¦çœ‹ä¸åˆ°</li>
<li><strong><code>internal</code></strong>ï¼šåªæœ‰è¿™ä¸ªåˆçº¦å’Œç»§æ‰¿å®ƒçš„åˆçº¦èƒ½è¯»</li>
<li><strong><code>external</code></strong>ï¼šåªèƒ½ä»åˆçº¦å¤–éƒ¨è°ƒç”¨</li>
</ul>
<h2 data-id="heading-9">å‡½æ•°çš„å®šä¹‰ä¸è°ƒç”¨</h2>
<p><strong>åŸºæœ¬æ ¼å¼</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> å‡½æ•°å(å‚æ•°ç±»å‹ å‚æ•°å) å¯è§æ€§ ä¿®é¥°ç¬¦ <span class="hljs-title function_">returns</span>(<span class="hljs-params">è¿”å›ç±»å‹</span>) {
Â  Â  <span class="hljs-comment">// å‡½æ•°ä½“</span>
Â  Â  <span class="hljs-keyword">return</span> è¿”å›å€¼;
}
</code></pre>
<p><strong>ä¸¾ä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">transfer</span>(<span class="hljs-params">address to, uint256 amount</span>) public payable <span class="hljs-title function_">returns</span>(<span class="hljs-params">bool</span>) {
Â  Â  <span class="hljs-comment">// å‡½æ•°ä½“</span>
Â  Â  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<p><strong>å…³é”®ä¿®é¥°ç¬¦</strong>ï¼š</p>
<ul>
<li><strong><code>view</code></strong>ï¼šä¸ä¿®æ”¹åŒºå—é“¾çŠ¶æ€ï¼Œåªè¯»æ•°æ®ã€‚è°ƒç”¨æ—¶ä¸æ¶ˆè€— gasï¼ˆå¦‚æœæ˜¯Â <code>external</code>Â è°ƒç”¨ï¼‰ã€‚æ¯”å¦‚æŸ¥è¯¢ä½™é¢</li>
<li><strong><code>pure</code></strong>ï¼šæ—¢ä¸è¯»ä¹Ÿä¸å†™çŠ¶æ€ï¼Œå°±æ˜¯åšæ•°å­¦è®¡ç®—ã€‚è°ƒç”¨æ—¶ä¸æ¶ˆè€— gas</li>
<li><strong><code>payable</code></strong>ï¼šè¿™ä¸ªå‡½æ•°èƒ½æ¥æ”¶ ETHã€‚ä¸åŠ è¿™ä¸ªä¿®é¥°ç¬¦ï¼Œå‡½æ•°ä¼šæ‹’ç»æ¥æ”¶ ETHï¼Œè½¬è´¦ä¼šå¤±è´¥</li>
<li><strong>ä¸åŠ ä¿®é¥°ç¬¦</strong>ï¼šé»˜è®¤ä¼šä¿®æ”¹çŠ¶æ€ï¼Œæ¶ˆè€— gasï¼Œè¿™æ˜¯æœ€å¸¸è§çš„æƒ…å†µ</li>
</ul>
<p><strong>å‡½æ•°è°ƒç”¨çš„ä¸¤ç§æ–¹å¼</strong>ï¼š</p>
<ul>
<li><strong>å†…éƒ¨è°ƒç”¨</strong>ï¼šåˆçº¦å†…éƒ¨çš„å‡½æ•°è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ï¼Œå°±åƒÂ <code>this.transfer(...)</code>ï¼Œæ¶ˆè€—å°‘é‡ gas</li>
<li><strong>å¤–éƒ¨è°ƒç”¨</strong>ï¼šä»é“¾å¤–ï¼ˆæ¯”å¦‚ä½ çš„é’±åŒ…ï¼‰æˆ–å…¶ä»–åˆçº¦è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œæ¶ˆè€—æ›´å¤š gas</li>
</ul>
<h2 data-id="heading-10">æ‰‹æŠŠæ‰‹å¼€å‘ç¬¬ä¸€ä¸ª Solidity åˆçº¦ï¼šã€ŒHello Web3ã€+ ç®€å•è½¬è´¦åˆçº¦</h2>
<h2 data-id="heading-11">å…¥é—¨æ¡ˆä¾‹ 1ï¼šHello Web3 åˆçº¦ï¼ˆç†Ÿæ‚‰è¯­æ³•ï¼‰</h2>
<p><strong>éœ€æ±‚å¾ˆç®€å•</strong>ï¼šéƒ¨ç½²ä¸€ä¸ªåˆçº¦ï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°å°±è¿”å›"Hello Web3!"ã€‚æ²¡æœ‰çŠ¶æ€å˜åŒ–ï¼Œå°±æ˜¯ç†Ÿæ‚‰æµç¨‹ã€‚</p>
<p><strong>å®Œæ•´ä»£ç </strong>ï¼š</p>
<p><strong>é€è¡Œè§£æ</strong>ï¼š</p>
<ul>
<li><code>// SPDX-License-Identifier: MIT</code>ï¼šå¼€æºè®¸å¯è¯å£°æ˜ï¼Œå‘Šè¯‰åˆ«äººè¿™ä»½ä»£ç æ˜¯ MIT åè®®</li>
<li><code>pragma solidity ^0.8.26;</code>ï¼šç¼–è¯‘å™¨ç‰ˆæœ¬ï¼Œ0.8.26 æˆ–ä»¥ä¸Š</li>
<li><code>contract HelloWeb3 {}</code>ï¼šå®šä¹‰åˆçº¦åå­—</li>
<li><code>function sayHello()...</code>ï¼šå®šä¹‰å‡½æ•°åÂ <code>sayHello</code></li>
<li><code>public</code>ï¼šä»»ä½•äººéƒ½èƒ½è°ƒç”¨</li>
<li><code>pure</code>ï¼šä¸è¯»ä¸å†™çŠ¶æ€</li>
<li><code>returns(string memory)</code>ï¼šè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</li>
<li><code>return "Hello Web3!";</code>ï¼šè¿”å›è¿™ä¸ªå­—ç¬¦ä¸²</li>
</ul>
<p><strong>ç¼–è¯‘ + éƒ¨ç½² + è°ƒç”¨æµç¨‹</strong>ï¼š</p>
<ol>
<li><strong>æ‰“å¼€ Remix</strong>ï¼Œæ–°å»ºæ–‡ä»¶Â <code>HelloWeb3.sol</code>ï¼Œç²˜è´´ä¸Šé¢çš„ä»£ç </li>
<li><strong>ç¼–è¯‘</strong>ï¼šå·¦è¾¹ç‚¹ç¼–è¯‘å™¨å›¾æ ‡ï¼Œæ£€æŸ¥æœ‰æ²¡æœ‰é”™ã€‚æˆåŠŸäº†ä¼šçœ‹åˆ°ç»¿è‰²å¯¹å‹¾</li>
<li><strong>éƒ¨ç½²</strong>ï¼šå³è¾¹éƒ¨ç½²é¢æ¿ï¼Œé€‰å¥½è´¦æˆ·å’Œç½‘ç»œï¼ˆSepoliaï¼‰ï¼Œç‚¹Â <strong>Deploy</strong>ã€‚ç­‰ 10 ç§’å·¦å³ï¼Œäº¤æ˜“ç¡®è®¤</li>
<li><strong>è°ƒç”¨</strong>ï¼šéƒ¨ç½²æˆåŠŸåï¼Œä¸‹é¢ä¼šå‡ºç°åˆçº¦çš„å‡½æ•°åˆ—è¡¨ï¼Œæ‰¾åˆ°Â <code>sayHello</code>ï¼Œç‚¹ä¸€ä¸‹ã€‚ç»“æœå°±æ˜¾ç¤ºå‡ºæ¥äº†</li>
</ol>
<p><strong>Etherscan ä¸ŠéªŒè¯</strong>ï¼šéƒ¨ç½²åï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªäº¤æ˜“å“ˆå¸Œï¼Œæ¯”å¦‚Â <code>0x12345...</code>ã€‚å¤åˆ¶è¿™ä¸ªå“ˆå¸Œï¼Œå»Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fsepolia.etherscan.io%2F" title="https://sepolia.etherscan.io/" target="_blank" ref="nofollow noopener noreferrer">sepolia.etherscan.io</a>Â æœä¸€ä¸‹ï¼Œå°±èƒ½çœ‹åˆ°ä½ çš„åˆçº¦éƒ¨ç½²è®°å½•ã€ä»£ç ã€äº¤æ˜“è¯¦æƒ…ã€‚<strong>è¿™å°±æ˜¯åŒºå—é“¾çš„é€æ˜æ€§</strong>â€”â€”æ‰€æœ‰äººéƒ½èƒ½æŸ¥ã€‚</p>
<h2 data-id="heading-12">å…¥é—¨æ¡ˆä¾‹ 2ï¼šç®€å•è½¬è´¦åˆçº¦ï¼ˆæœ‰çŠ¶æ€ï¼Œä½“éªŒä»·å€¼äº¤äº’ï¼‰</h2>
<p><strong>éœ€æ±‚å‡çº§äº†</strong>ï¼šç”¨æˆ·å‘åˆçº¦è½¬è´¦ ETH â†’ åˆçº¦è®°å½•æ¯ä¸ªåœ°å€çš„ä½™é¢ â†’ ç”¨æˆ·å¯ä»¥æŸ¥è¯¢ â†’ æ‰€æœ‰è€…å¯ä»¥æå–ã€‚<strong>è¿™æ˜¯çœŸæ­£çš„ä»·å€¼äº¤äº’</strong>ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9ee755cb13b4aa58dcf38556ab4a1d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5oqA5pyv5LiN5omT54OK:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765536875&amp;x-signature=A0dfGzKJRbgBwQJw%2BXUtsI9v0dk%3D" alt="" loading="lazy"/>â€‹</p>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>ç¼–è¾‘</p>
<p><strong>å®Œæ•´ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// SPDX-License-Identifier: MIT</span>
pragma solidity ^<span class="hljs-number">0.8</span><span class="hljs-number">.26</span>;

contract <span class="hljs-title class_">SimpleBank</span> {
Â  Â  <span class="hljs-comment">// çŠ¶æ€å˜é‡ 1ï¼šè®°å½•æ¯ä¸ªåœ°å€çš„ä½™é¢</span>
Â  Â  <span class="hljs-title function_">mapping</span>(<span class="hljs-function"><span class="hljs-params">address</span> =&gt;</span> uint256) <span class="hljs-keyword">public</span> userBalance;

Â  Â  <span class="hljs-comment">// çŠ¶æ€å˜é‡ 2ï¼šè®°å½•åˆçº¦çš„æ‰€æœ‰è€…</span>
Â  Â  address <span class="hljs-keyword">public</span> owner;

Â  Â  <span class="hljs-comment">// æ„é€ å‡½æ•°ï¼šéƒ¨ç½²æ—¶æ‰§è¡Œä¸€æ¬¡</span>
Â  Â  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
Â  Â  Â  Â  owner = msg.<span class="hljs-property">sender</span>; <span class="hljs-comment">// msg.sender æ˜¯éƒ¨ç½²è€…çš„åœ°å€</span>
Â  Â  }

Â  Â  <span class="hljs-comment">// å‡½æ•° 1ï¼šç”¨æˆ·å‘åˆçº¦è½¬è´¦ï¼ˆæ¥æ”¶ ETHï¼‰</span>
Â  Â  <span class="hljs-keyword">function</span> <span class="hljs-title function_">deposit</span>(<span class="hljs-params"/>) <span class="hljs-keyword">public</span> payable {
Â  Â  Â  Â  <span class="hljs-built_in">require</span>(msg.<span class="hljs-property">value</span> &gt; <span class="hljs-number">0</span>, <span class="hljs-string">"Must send ETH"</span>); <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦è½¬è´¦äº†</span>
Â  Â  Â  Â  userBalance[msg.<span class="hljs-property">sender</span>] += msg.<span class="hljs-property">value</span>; <span class="hljs-comment">// è®°å½•ä½™é¢</span>
Â  Â  }

Â  Â  <span class="hljs-comment">// å‡½æ•° 2ï¼šæŸ¥è¯¢ç”¨æˆ·ä½™é¢ï¼ˆåªè¯»ï¼Œä¸æ¶ˆè€— gasï¼‰</span>
Â  Â  <span class="hljs-keyword">function</span> <span class="hljs-title function_">getBalance</span>(<span class="hljs-params"/>) <span class="hljs-keyword">public</span> view <span class="hljs-title function_">returns</span>(<span class="hljs-params">uint256</span>) {
Â  Â  Â  Â  <span class="hljs-keyword">return</span> userBalance[msg.<span class="hljs-property">sender</span>];
Â  Â  }

Â  Â  <span class="hljs-comment">// å‡½æ•° 3ï¼šæå–ä½™é¢ï¼ˆåªæœ‰æ‰€æœ‰è€…èƒ½è°ƒç”¨ï¼‰</span>
Â  Â  <span class="hljs-keyword">function</span> <span class="hljs-title function_">withdraw</span>(<span class="hljs-params"/>) <span class="hljs-keyword">public</span> {
Â  Â  Â  Â  <span class="hljs-built_in">require</span>(msg.<span class="hljs-property">sender</span> == owner, <span class="hljs-string">"Only owner can withdraw"</span>); <span class="hljs-comment">// æƒé™æ£€æŸ¥</span>
Â  Â  Â  Â  <span class="hljs-built_in">require</span>(<span class="hljs-title function_">address</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-property">balance</span> &gt; <span class="hljs-number">0</span>, <span class="hljs-string">"No balance"</span>); <span class="hljs-comment">// åˆçº¦ä½™é¢æ£€æŸ¥</span>

Â  Â  Â  Â  <span class="hljs-comment">// æå–æ‰€æœ‰ä½™é¢ç»™æ‰€æœ‰è€…</span>
Â  Â  Â  Â  (bool success, ) = owner.<span class="hljs-property">call</span>{<span class="hljs-attr">value</span>: <span class="hljs-title function_">address</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-property">balance</span>}(<span class="hljs-string">""</span>);
Â  Â  Â  Â  <span class="hljs-built_in">require</span>(success, <span class="hljs-string">"Transfer failed"</span>);
Â  Â  }

Â  Â  <span class="hljs-comment">// å‡½æ•° 4ï¼šæŸ¥è¯¢åˆçº¦æ€»ä½™é¢</span>
Â  Â  <span class="hljs-keyword">function</span> <span class="hljs-title function_">getContractBalance</span>(<span class="hljs-params"/>) <span class="hljs-keyword">public</span> view <span class="hljs-title function_">returns</span>(<span class="hljs-params">uint256</span>) {
Â  Â  Â  Â  <span class="hljs-keyword">return</span> <span class="hljs-title function_">address</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-property">balance</span>;
Â  Â  }
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>æ ¸å¿ƒçŸ¥è¯†ç‚¹è®²è§£</strong>ï¼š</p>
<ul>
<li><strong><code>msg.sender</code></strong>ï¼šå½“å‰è°ƒç”¨è€…çš„åœ°å€ã€‚ä½ è°ƒç”¨å‡½æ•°ï¼Œmsg.sender å°±æ˜¯ä½ çš„é’±åŒ…åœ°å€</li>
<li><strong><code>msg.value</code></strong>ï¼šè½¬è´¦çš„ ETH é‡‘é¢ï¼ˆå•ä½æ˜¯ weiï¼Œ1 ETH = 10^18 weiï¼‰ã€‚åªæœ‰Â <code>payable</code>Â å‡½æ•°æ‰èƒ½æ¥æ”¶</li>
<li><strong><code>mapping</code></strong>ï¼šå­—å…¸ç»“æ„ï¼Œ<code>mapping(address =&gt; uint256)</code>Â å°±æ˜¯"åœ°å€"å¯¹åº”"é‡‘é¢"ã€‚æ¯”Â <code>userBalance[0x123...] = 1000</code>Â å°±æ˜¯å­˜æ•°æ®</li>
<li><strong><code>require(æ¡ä»¶, é”™è¯¯ä¿¡æ¯)</code></strong> ï¼šæ£€æŸ¥æ¡ä»¶æ˜¯å¦æ»¡è¶³ï¼Œä¸æ»¡è¶³å°±æŠ›å‡ºé”™è¯¯å¹¶å›æ»šã€‚æ¯”å¦‚Â <code>require(msg.value &gt; 0, "Must send ETH")</code>Â å°±æ˜¯"è½¬è´¦é‡‘é¢å¿…é¡»å¤§äº 0ï¼Œå¦åˆ™æŠ¥é”™"</li>
<li><strong><code>address(this)</code></strong> ï¼šè¿™ä¸ªåˆçº¦è‡ªå·±çš„åœ°å€ï¼Œç”¨æ¥æŸ¥è¯¢åˆçº¦æœ¬èº«æœ‰å¤šå°‘ ETH</li>
<li><strong><code>address(this).call{value: ...}("")</code></strong> ï¼šç”¨ call æ–¹æ³•è½¬è´¦ç»™æŸä¸ªåœ°å€ï¼Œå®‰å…¨æ€§æ¯”è€æ–¹æ³•å¼ºï¼ˆè€æ–¹æ³•å®¹æ˜“è¢«é‡å…¥æ”»å‡»ï¼‰</li>
<li><strong><code>constructor()</code></strong> ï¼šæ„é€ å‡½æ•°ï¼Œåˆçº¦éƒ¨ç½²æ—¶æ‰§è¡Œä¸€æ¬¡ï¼Œé€šå¸¸ç”¨æ¥åˆå§‹åŒ–æ•°æ®</li>
</ul>
<p><strong>éƒ¨ç½² + æµ‹è¯•æµç¨‹</strong>ï¼š</p>
<ol>
<li><strong>ç²˜è´´ä»£ç </strong>åˆ° Remixï¼Œç¼–è¯‘ã€éƒ¨ç½²åˆ° Sepolia</li>
<li><strong>å­˜é’±</strong>ï¼šæ‰¾åˆ°Â <code>deposit</code>Â å‡½æ•°ï¼Œåœ¨ä¸Šé¢è¾“å…¥æ¡†é‡Œè¾“å…¥Â <code>1</code>Â ETHï¼ˆRemix ä¼šè‡ªåŠ¨è½¬æ¢ï¼‰ï¼Œç‚¹è°ƒç”¨</li>
<li><strong>æŸ¥è¯¢ä½™é¢</strong>ï¼šè°ƒç”¨Â <code>getBalance</code>ï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰è®°å½•åˆ°ä½ çš„åœ°å€</li>
<li><strong>æŸ¥åˆçº¦æ€»ä½™é¢</strong>ï¼šè°ƒç”¨Â <code>getContractBalance</code>ï¼Œåº”è¯¥ç­‰äºä½ è½¬è¿›å»çš„</li>
<li><strong>æå–</strong>ï¼ˆåªæœ‰æ‰€æœ‰è€…ï¼‰ï¼šè°ƒç”¨Â <code>withdraw</code>ï¼Œæ‰€æœ‰ ETH å›åˆ°ä½ çš„é’±åŒ…</li>
</ol>
<p><strong>çœŸå®åœºæ™¯æ¼”ç¤º</strong>ï¼šå‡å¦‚ä½ å­˜è¿›å» 1 ETHï¼ŒRemix åº•ä¸‹çš„ç»ˆç«¯ä¼šæ‰“å°å‡ºï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">[<span class="hljs-type">object</span> <span class="hljs-type">Object</span>]
Â  Â  <span class="hljs-keyword">from</span>: <span class="hljs-number">0</span>x123...ï¼ˆä½ çš„åœ°å€ï¼‰
Â  Â  <span class="hljs-keyword">to</span>: SimpleBank åˆçº¦åœ°å€
Â  Â  gas used: <span class="hljs-number">95000</span>
Â  Â  value: <span class="hljs-number">1000000000000000000</span> weiï¼ˆå°±æ˜¯ <span class="hljs-number">1</span> ETHï¼‰
</code></pre>
<p>è¿™å°±è¯æ˜äº¤æ˜“ä¸Šé“¾äº†ã€‚å†å» Etherscan ä¸€æœï¼Œå°±èƒ½çœ‹åˆ°å®Œæ•´çš„äº¤æ˜“è¯¦æƒ…ã€‚<strong>å¤ªç»äº†ï¼ŒçœŸçš„</strong>ã€‚</p>
<h2 data-id="heading-13">åˆçº¦æµ‹è¯•ä¸éƒ¨ç½²ï¼šç¡®ä¿åŠŸèƒ½æ­£å¸¸ä¸å®‰å…¨ä¸Šçº¿</h2>
<blockquote>
<p><strong>å†å°çš„åˆçº¦ä¹Ÿè¦æµ‹è¯•ï¼Œä¸€ä¸ª bug åœ¨ä¸»ç½‘ä¸Šå°±æ˜¯çœŸé‡‘ç™½é“¶çš„æŸå¤±ã€‚</strong></p>
</blockquote>
<h2 data-id="heading-14">æœ¬åœ°æµ‹è¯•ï¼šRemix å†…ç½®åŠŸèƒ½</h2>
<p><strong>æœ€ç®€å•çš„æµ‹è¯•å°±æ˜¯åœ¨ Remix é‡Œç‚¹æ¥ç‚¹å»</strong>ï¼š</p>
<ol>
<li>éƒ¨ç½²åˆçº¦åˆ°æ¨¡æ‹Ÿç¯å¢ƒï¼ˆé€‰ "JavaScript VM" è€Œä¸æ˜¯ Sepoliaï¼‰</li>
<li>è°ƒç”¨å„ä¸ªå‡½æ•°ï¼Œçœ‹çœ‹çŠ¶æ€æœ‰æ²¡æœ‰æ­£ç¡®æ›´æ–°</li>
<li>æ•…æ„è¾“å…¥é”™è¯¯çš„å‚æ•°ï¼ˆæ¯”å¦‚ deposit æ—¶ä¸è½¬ ETHï¼‰ï¼Œæ£€æŸ¥Â <code>require</code>Â æœ‰æ²¡æœ‰ç”Ÿæ•ˆ</li>
</ol>
<h2 data-id="heading-15">éƒ¨ç½²åˆ°æµ‹è¯•ç½‘åçš„éªŒè¯</h2>
<ol>
<li><strong>è·å–åˆçº¦åœ°å€</strong>ï¼šéƒ¨ç½²æˆåŠŸåï¼ŒRemix ä¼šæ˜¾ç¤ºåˆçº¦åœ°å€ï¼Œæ¯”å¦‚Â <code>0xAbc...</code></li>
<li><strong>éªŒè¯æºç </strong>ï¼ˆå¯é€‰ä½†æ¨èï¼‰ï¼šä¸ŠÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fsepolia.etherscan.io%2F" title="https://sepolia.etherscan.io/" target="_blank" ref="nofollow noopener noreferrer">sepolia.etherscan.io</a>ï¼Œæœä½ çš„åˆçº¦åœ°å€ï¼Œç‚¹ "Verify" ä¸Šä¼ æºç ã€‚è¿™æ ·åˆ«äººå°±èƒ½åœ¨æµè§ˆå™¨ä¸Šç›´æ¥çœ‹åˆ°ä½ çš„ä»£ç äº†</li>
<li><strong>è§‚å¯ŸçŠ¶æ€</strong>ï¼šåœ¨ Etherscan ä¸Šè°ƒç”¨å„ä¸ªå‡½æ•°ï¼Œçœ‹äº¤æ˜“æœ‰æ²¡æœ‰æˆåŠŸ</li>
</ol>
<h2 data-id="heading-16">æ–°æ‰‹å¿…æŸ¥çš„ 3 ä¸ªæµ‹è¯•ç‚¹</h2>
<ul>
<li><strong>å‡½æ•°ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ</strong>ï¼šæ¯”å¦‚å­˜é’±åï¼Œä½™é¢ç¡®å®å¢åŠ äº†å—ï¼ŸæŸ¥è¯¢çš„é‡‘é¢å¯¹ä¸å¯¹ï¼Ÿ</li>
<li><strong>Gas æ¶ˆè€—</strong>ï¼šç®€å•çš„ deposit å‡½æ•°é€šå¸¸æ¶ˆè€— 50000-80000 gasã€‚å¦‚æœè¶… 200000ï¼Œè¯´æ˜ä»£ç å†™å¾—ä¸å¤Ÿé«˜æ•ˆï¼Œéœ€è¦ä¼˜åŒ–</li>
<li><strong>æƒé™æ§åˆ¶æ˜¯å¦ç”Ÿæ•ˆ</strong>ï¼šéæ‰€æœ‰è€…çœŸçš„è°ƒä¸äº†Â <code>withdraw</code>Â å—ï¼Ÿæ•…æ„ç”¨å…¶ä»–é’±åŒ…è¯•è¯•ï¼Œåº”è¯¥æŠ¥é”™ "Only owner can withdraw"</li>
</ul>
<h2 data-id="heading-17">Solidity å®‰å…¨åŸºç¡€ä¸è¿›é˜¶å­¦ä¹ è·¯å¾„</h2>
<h2 data-id="heading-18">æ–°æ‰‹å¿…çŸ¥çš„ 3 ä¸ªå®‰å…¨åŸåˆ™</h2>
<p><strong>åŸåˆ™ 1ï¼šæ•´æ•°æº¢å‡ºå·²ç»ä¸ç”¨æ‹…å¿ƒäº†</strong></p>
<p>åœ¨ Solidity 0.8.0 ä¹‹å‰ï¼Œè¿™æ˜¯å¤§æ¼æ´ã€‚æ¯”å¦‚ä¸€ä¸ª uint8 æœ€å¤§æ˜¯ 255ï¼ŒåŠ  1 å°±å˜æˆ 0 äº†ã€‚ä½†ç°åœ¨ 0.8.x ç‰ˆæœ¬å†…ç½®äº†è‡ªåŠ¨æ£€æŸ¥ï¼Œæº¢å‡ºæ—¶ç›´æ¥æŠ¥é”™ã€‚æ‰€ä»¥<strong>åˆ«ç”¨æ—§ç‰ˆæœ¬å°±è¡Œ</strong>ã€‚</p>
<p><strong>åŸåˆ™ 2ï¼šè°¨æ…ä½¿ç”¨å¤–éƒ¨è°ƒç”¨ï¼Œé˜²æ­¢é‡å…¥æ”»å‡»</strong></p>
<p>è¿™æ˜¯ä¸ªç»å…¸æ¼æ´ã€‚ç®€å•è¯´å°±æ˜¯ï¼šä½ è°ƒç”¨å¤–éƒ¨åˆçº¦çš„å‡½æ•°ï¼Œé‚£ä¸ªåˆçº¦åˆå›è¿‡å¤´æ¥è°ƒç”¨ä½ çš„åˆçº¦ã€‚å¦‚æœä»£ç é€»è¾‘å†™ä¸å¥½ï¼Œæ”»å‡»è€…å°±èƒ½å¤šæ¬¡æå–èµ„é‡‘ã€‚</p>
<p><strong>é˜²é˜²æ–¹æ³•</strong>ï¼šç”¨é”æœºåˆ¶ï¼Œç¡®ä¿å‡½æ•°æ‰§è¡Œä¸­é—´ä¸è¢«æ‰“æ–­ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-built_in">bool</span> <span class="hljs-keyword">internal</span> locked;

<span class="hljs-function">modifier <span class="hljs-title">noReentrant</span>()</span> {
Â  Â  require(!locked, <span class="hljs-string">"No re-entrancy"</span>);
Â  Â  locked = <span class="hljs-literal">true</span>;
Â  Â  _;
Â  Â  locked = <span class="hljs-literal">false</span>;
}

<span class="hljs-function">function <span class="hljs-title">withdraw</span>() <span class="hljs-keyword">public</span> noReentrant</span> {
Â  Â  <span class="hljs-comment">// ä»£ç ...</span>
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><strong>åŸåˆ™ 3ï¼šæƒé™æ§åˆ¶è¦æ˜ç¡®</strong></p>
<p>è°èƒ½è°ƒç”¨ä»€ä¹ˆå‡½æ•°ï¼Œä¸€å®šè¦æ¸…æ¥šã€‚ç”¨Â <code>require</code>Â æ£€æŸ¥è°ƒç”¨è€…èº«ä»½ï¼Œç”¨Â <code>onlyOwner</code>Â è¿™æ ·çš„ä¿®é¥°ç¬¦æ¥é™åˆ¶ç®¡ç†å‘˜æƒé™ã€‚æ¯”å¦‚æå–èµ„é‡‘ã€ä¿®æ”¹å‚æ•°ï¼Œè¿™äº›å…³é”®å‡½æ•°ä¸€å®šè¦åŠ æƒé™æ£€æŸ¥ã€‚</p>
<h2 data-id="heading-19">è¿›é˜¶å­¦ä¹ è·¯å¾„ï¼ˆåˆ†é˜¶æ®µï¼‰</h2>
<p><strong>åŸºç¡€é˜¶æ®µ</strong>ï¼ˆ1-2 å‘¨ï¼‰ï¼š</p>
<ul>
<li>æŒæ¡ ERC20 æ ‡å‡†ï¼ˆåŒè´¨åŒ–ä»£å¸æ ‡å‡†ï¼‰ï¼šå­¦ä¼šæ€ä¹ˆå‘è¡Œè‡ªå·±çš„ä»£å¸</li>
<li>æŒæ¡ ERC721 æ ‡å‡†ï¼ˆNFT æ ‡å‡†ï¼‰ï¼šå­¦ä¼šæ€ä¹ˆå‘è¡Œ NFT</li>
</ul>
<p><strong>æå‡é˜¶æ®µ</strong>ï¼ˆ2-4 å‘¨ï¼‰ï¼š</p>
<ul>
<li>åº“ï¼ˆLibrariesï¼‰ï¼šé‡ç”¨ä»£ç ï¼Œæ¯”å¦‚ SafeMathã€å®‰å…¨è½¬è´¦åº“</li>
<li>æ¥å£ï¼ˆInterfacesï¼‰ï¼šå®šä¹‰åˆçº¦çš„äº¤äº’è§„èŒƒï¼Œç±»ä¼¼ API æ–‡æ¡£</li>
<li>ç»§æ‰¿ï¼šä¸€ä¸ªåˆçº¦ç»§æ‰¿å¦ä¸€ä¸ªåˆçº¦ï¼Œå¤ç”¨ä»£ç å’Œé€»è¾‘</li>
</ul>
<p><strong>å®æˆ˜é˜¶æ®µ</strong>ï¼ˆ1-2 ä¸ªæœˆï¼‰ï¼š</p>
<ul>
<li>å¤ç°ç®€å• DeFi åˆçº¦ï¼šå»ä¸­å¿ƒåŒ–äº¤æ˜“æ‰€ã€å€Ÿè´·åè®®çš„åŸºç¡€ç‰ˆæœ¬</li>
<li>è¯»å¼€æºåˆçº¦ï¼šä¸Š GitHub æˆ– Etherscan çœ‹å¤§é¡¹ç›®çš„ä»£ç ï¼Œå­¦ä¹ æœ€ä½³å®è·µ</li>
</ul>
<p><strong>å®‰å…¨é˜¶æ®µ</strong>ï¼ˆ3+ ä¸ªæœˆï¼‰ï¼š</p>
<ul>
<li>å­¦ä¹ åˆçº¦å®¡è®¡åŸºç¡€ï¼šæ€æ ·å‘ç°æ¼æ´</li>
<li>ä½¿ç”¨å·¥å…·æ£€æµ‹æ¼æ´ï¼šSlither è‡ªåŠ¨æ‰«æä»£ç ã€Foundry åšé«˜çº§æµ‹è¯•</li>
</ul>
<h2 data-id="heading-20">æ¨èå­¦ä¹ èµ„æºï¼ˆæ–°æ‰‹å‹å¥½ï¼‰</h2>
<ul>
<li><strong>å®˜æ–¹æ–‡æ¡£</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.soliditylang.org%2Fzh%2Flatest%2F" title="https://docs.soliditylang.org/zh/latest/" target="_blank" ref="nofollow noopener noreferrer">Solidity ä¸­æ–‡æ–‡æ¡£</a>ï¼Œæœ€æƒå¨æœ€æ–°</li>
<li><strong>å®æˆ˜å¹³å°</strong>ï¼šRemix å®˜æ–¹æ•™ç¨‹ã€Etherscan ä¸Šçš„å…¬å¼€åˆçº¦æºç ï¼ˆæ‰¾ä¸ªç®€å•çš„ï¼Œä¸€è¡Œè¡Œè¯»ï¼‰</li>
<li><strong>ç¤¾åŒº</strong>ï¼šGitHub ä¸Šçš„å¼€æºåˆçº¦åº“ï¼ˆOpenZeppelin æ˜¯ä¸šç•Œæ ‡å‡†ï¼‰ã€Discord æŠ€æœ¯äº¤æµç¾¤ã€Twitter ä¸Šçš„ Solidity æ•™ç¨‹è´¦å·</li>
</ul>
<hr/>
<h2 data-id="heading-21">ä¸‹ç¯‡å°ç»“ï¼šä»å…¥é—¨åˆ°å®æˆ˜çš„å…³é”®ä¸€æ­¥</h2>
<p><strong>æ ¸å¿ƒæ”¶è·æ€»ç»“ä¸€ä¸‹</strong>ï¼šä½ ç°åœ¨å·²ç»æŒæ¡äº† Solidity çš„åŸºç¡€è¯­æ³•ã€ç†è§£äº†æ™ºèƒ½åˆçº¦çš„éƒ¨ç½²é€»è¾‘ã€äº²æ‰‹å†™è¿‡ä¼šæ¥æ”¶ ETH çš„åˆçº¦ã€‚è¿™ä¸æ˜¯å°äº‹â€”â€”<strong>å¾ˆå¤šäººè¯»äº†å†å¤šæ–‡ç« ä¹Ÿæ²¡çœŸæ­£åŠ¨è¿‡æ‰‹ï¼Œä½ å·²ç»è¶…è¿‡ä»–ä»¬äº†</strong>ã€‚</p>
<p><strong>åç»­è¡ŒåŠ¨å»ºè®®</strong>ï¼š</p>
<ul>
<li>å…ˆå¤ç°ç½‘ä¸Šçš„å¼€æºåˆçº¦ï¼Œçœ‹çœ‹åˆ«äººæ€ä¹ˆå†™çš„</li>
<li>ç„¶åå°è¯•ä¿®æ”¹ä¸€äº›å‚æ•°å’ŒåŠŸèƒ½ï¼ŒåŠ æ·±ç†è§£</li>
<li>æœ€åå†è‡ªå·±ä»é›¶å†™ä¸€ä¸ªå°é¡¹ç›®ï¼Œæ¯”å¦‚"æŠ•ç¥¨åˆçº¦"æˆ–"ç®€å•çš„ NFT åˆçº¦"</li>
</ul>
<p><strong>è®°ä½è¿™ä¸€å¥è¯</strong>ï¼šåŒºå—é“¾çš„æ ¸å¿ƒä»·å€¼å°±åœ¨ Solidityã€‚å­¦ä¼šå†™æ™ºèƒ½åˆçº¦ï¼Œä½ å°±æŒæ¡äº†æœªæ¥é‡‘èçš„é’¥åŒ™ã€‚æ¯ä¸€ä¸ªå¤§çš„ DeFi é¡¹ç›®ã€æ¯ä¸€æ¡é“¾éƒ½éœ€è¦åˆçº¦å¼€å‘è€…ï¼Œ<strong>è¿™æ˜¯çœŸæ­£æœ‰å¸‚åœºçš„æŠ€èƒ½</strong>ã€‚</p>
<p>ç°åœ¨å°±æ‰“å¼€ Remixï¼Œè¶ç€çƒ­åŠ²å„¿è·‘èµ·æ¥å§ã€‚ä¸‹ä¸€ç¯‡æˆ‘ä»¬è®² ERC20 ä»£å¸çš„å®Œæ•´å¼€å‘æµç¨‹ï¼Œåˆ°æ—¶è§ï¼</p>
<blockquote>
<p><strong>ä½ çš„å…³æ³¨å’Œç‚¹èµï¼Œå°±æ˜¯å¯¹æˆ‘æœ€å¤§çš„é¼“åŠ±ï¼Œèƒ½å¦éšæ‰‹ç‚¹ä¸ªèµå‘¢ï¼Ÿä¸€ä¸ªèµå¯èƒ½å°±è®©å’±ä¿©ä¸€èµ·è¿›æ­¥ï¼</strong></p>
</blockquote>
<hr/>
<p><strong>å£°æ˜ï¼šæœ¬æ–‡å†…å®¹ 90% ä¸ºæœ¬äººåŸåˆ›ï¼Œå°‘é‡ç´ æç» AI è¾…åŠ©ç”Ÿæˆï¼Œä¸”æ‰€æœ‰å†…å®¹å‡ç»æœ¬äººä¸¥æ ¼å¤æ ¸ï¼›å›¾ç‰‡ç´ æå‡æºè‡ªçœŸå®ç´ ææˆ– AI åŸåˆ›ã€‚æ–‡ç« æ—¨åœ¨å€¡å¯¼æ­£èƒ½é‡ï¼Œæ— ä½ä¿—ä¸è‰¯å¼•å¯¼ï¼Œæ•¬è¯·è¯»è€…çŸ¥æ‚‰ã€‚</strong></p>
<p>â€‹</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸã€ŒPython ç»ˆç«¯å½©è‰²æ—¶é’Ÿã€ï¼šå½©è™¹æ¸å˜ + HSV è°ƒè‰²ï¼Œ30 è¡Œä»£ç è®©å‘½ä»¤è¡Œèµ°èµ·ï¼]]></title>    <link>https://juejin.cn/post/7579995569690099746</link>    <guid>https://juejin.cn/post/7579995569690099746</guid>    <pubDate>2025-12-05T12:04:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7579995569690099746" data-draft-id="7579995747171287075" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸã€ŒPython ç»ˆç«¯å½©è‰²æ—¶é’Ÿã€ï¼šå½©è™¹æ¸å˜ + HSV è°ƒè‰²ï¼Œ30 è¡Œä»£ç è®©å‘½ä»¤è¡Œèµ°èµ·ï¼"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T12:04:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åƒé©¬é“ƒè–¯é•¿å¤§çš„åœŸè±†"/> <meta itemprop="url" content="https://juejin.cn/user/1162661349831369"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸã€ŒPython ç»ˆç«¯å½©è‰²æ—¶é’Ÿã€ï¼šå½©è™¹æ¸å˜ + HSV è°ƒè‰²ï¼Œ30 è¡Œä»£ç è®©å‘½ä»¤è¡Œèµ°èµ·ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1162661349831369/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åƒé©¬é“ƒè–¯é•¿å¤§çš„åœŸè±†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:04:28.000Z" title="Fri Dec 05 2025 12:04:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸éœ€è¦ GUIï¼Œä¸éœ€è¦ç¬¬ä¸‰æ–¹åº“â€”â€”<br/>
1 ä¸ªæ–‡ä»¶ã€30 è¡Œä»£ç ã€0 ä¾èµ–ï¼Œ<br/>
å°±èƒ½åœ¨ç»ˆç«¯é‡Œçœ‹åˆ° <strong>å®æ—¶è·³åŠ¨çš„å½©è™¹æ—¶é’Ÿ</strong>ï¼Œ<br/>
è¿˜æ”¯æŒ <strong>12/24 å°æ—¶åˆ¶</strong> éšæ„åˆ‡æ¢ï¼<br/>
å¤åˆ¶å³è·‘ï¼Œæ”¹ä¸¤è¡Œå°±èƒ½ç©å‡ºæ›´å¤šèŠ±æ ·ï¼ğŸ¨</p>
</blockquote>
<h2 data-id="heading-0"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/455288306dda4a04934c35e15956a7c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5ZCD6ams6ZOD6Jav6ZW_5aSn55qE5Zyf6LGG:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541067&amp;x-signature=3ywtU0WbTMaPsnL%2B%2Bp%2BZcUtmDn4%3D" alt="å¾®ä¿¡å›¾ç‰‡_20251014151033_10_20.jpg" loading="lazy"/></h2>
<h2 data-id="heading-1">ä¸€ã€æœ€ç»ˆæ•ˆæœï¼šå…ˆç¹ä¸ºå¿«ï¼</h2>
<p>è¿è¡Œå‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python terminal_clock.py --12
</code></pre>
<p>ç»ˆç«¯å®æ—¶æ˜¾ç¤ºï¼š</p>
<pre><code class="hljs">ğŸŒˆ 12:34:56 PM
ï¼ˆæ¯å­—ç¬¦éƒ½åœ¨æ¸å˜ï¼Œ0.2 ç§’åˆ·æ–°ä¸€æ¬¡ï¼‰
</code></pre>
<hr/>
<h2 data-id="heading-2">äºŒã€æ ¸å¿ƒæ€è·¯ï¼ˆ3 æ­¥ï¼‰</h2>
<ol>
<li><strong>HSV â†’ RGB</strong>ï¼šè®©é¢œè‰²éšæ—¶é—´æµåŠ¨ï¼ˆHue å¾ªç¯ï¼‰</li>
<li><strong>é€å­—ç¬¦ä¸Šè‰²</strong>ï¼šæ¯ä¸ªå­—å•ç‹¬è®¡ç®—è‰²ç›¸åç§» â†’ å½©è™¹æ¸å˜</li>
<li><strong>æ¸…å± + åˆ·æ–°</strong>ï¼šç”¨ <code>os.system('clear||cls')</code> å®ç°â€œåŠ¨ç”»å¸§â€</li>
</ol>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€å®Œæ•´æºç ï¼ˆ&lt; 30 è¡Œï¼‰</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-keyword">import</span> time, os, sys, datetime

<span class="hljs-keyword">def</span> <span class="hljs-title function_">hsv_rgb</span>(<span class="hljs-params">h, s, v</span>):
    <span class="hljs-string">"""HSV â†’ RGB 0-255 ç®€æ˜“å®ç°"""</span>
    c = v * s
    x = c * (<span class="hljs-number">1</span> - <span class="hljs-built_in">abs</span>((h * <span class="hljs-number">6</span>) % <span class="hljs-number">2</span> - <span class="hljs-number">1</span>))
    m = v - c
    r, g, b = [(c + m), (x + m), (m)], [(x + m), (c + m), (m)], [(m), (c + m), (x + m))][<span class="hljs-built_in">int</span>(h * <span class="hljs-number">6</span>) % <span class="hljs-number">6</span>]
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(r * <span class="hljs-number">255</span>), <span class="hljs-built_in">int</span>(g * <span class="hljs-number">255</span>), <span class="hljs-built_in">int</span>(b * <span class="hljs-number">255</span>)

<span class="hljs-keyword">def</span> <span class="hljs-title function_">rainbow_clock</span>():
    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:
        now = datetime.datetime.now()
        text = now.strftime(<span class="hljs-string">"%I:%M:%S %p"</span>) <span class="hljs-keyword">if</span> <span class="hljs-string">"--12"</span> <span class="hljs-keyword">in</span> sys.argv <span class="hljs-keyword">else</span> now.strftime(<span class="hljs-string">"%H:%M:%S"</span>)
        rainbow = <span class="hljs-string">""</span>.join(<span class="hljs-string">f"\033[38;2;<span class="hljs-subst">{r}</span>;<span class="hljs-subst">{g}</span>;<span class="hljs-subst">{b}</span>m<span class="hljs-subst">{c}</span>\033[0m"</span>
                          <span class="hljs-keyword">for</span> i, c <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(text)
                          <span class="hljs-keyword">for</span> r, g, b <span class="hljs-keyword">in</span> [hsv_rgb((i / <span class="hljs-built_in">len</span>(text) + time.time() % <span class="hljs-number">1</span>), <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)])
        os.system(<span class="hljs-string">'clear||cls'</span>)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n<span class="hljs-subst">{rainbow}</span>\n<span class="hljs-subst">{<span class="hljs-string">'æŒ‰ Ctrl+C é€€å‡º'</span>:^<span class="hljs-number">20</span>}</span>"</span>)
        time.sleep(<span class="hljs-number">0.2</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    rainbow_clock()
</code></pre>
<hr/>
<h2 data-id="heading-4">å››ã€è¿è¡Œæ–¹å¼</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 24 å°æ—¶åˆ¶</span>
python terminal_clock.py

<span class="hljs-comment"># 12 å°æ—¶åˆ¶ï¼ˆAM/PMï¼‰</span>
python terminal_clock.py --12
</code></pre>
<hr/>
<h2 data-id="heading-5">äº”ã€å¯ç©æ”¹è£…ï¼ˆ3 åˆ†é’Ÿï¼‰</h2>

























<table><thead><tr><th>æ”¹è£…ç‚¹</th><th>ä»£ç æç¤º</th></tr></thead><tbody><tr><td><strong>å¿ƒè·³é—ªçƒ</strong></td><td><code>time.sleep(0.5)</code> æ”¹å¤§ï¼ŒåŠ  <code>if int(time.time()) % 2:</code> æ§åˆ¶æ˜¾éš</td></tr><tr><td><strong>æ¸éšå°¾å·´</strong></td><td>æ¸…å±å‰æ‰“å° <strong>åŠé€æ˜ç©ºæ ¼</strong> è¦†ç›–æ—§å¸§</td></tr><tr><td><strong>åŠ è¾¹æ¡†</strong></td><td><code>print("â•" * 20)</code> ä¸Šä¸‹æ¡†çº¿</td></tr><tr><td><strong>æ”¹å½¢çŠ¶</strong></td><td>æŠŠ <code>text</code> æ¢æˆ <strong>emoji æ—¶é’Ÿ</strong> ğŸ•ğŸ•‘ğŸ•’</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-6">å…­ã€çŸ¥è¯†ç‚¹é€Ÿè®°ï¼ˆèƒŒå®ƒï¼ï¼‰</h2>
<blockquote>
<p>**â€œHSV å¾ªç¯è‰²ç›¸ï¼ŒRGB é€å­—ç¬¦ï¼Œæ¸…å±åˆ·å¸§ï¼Œç»ˆç«¯åŠ¨ç”»æˆï¼â€**ğŸµ</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç›®æ ‡æ£€æµ‹æ¨¡å‹é‡åŒ–åŠ é€Ÿåœ¨ openEuler ä¸Šçš„å®ç°]]></title>    <link>https://juejin.cn/post/7580188321323384838</link>    <guid>https://juejin.cn/post/7580188321323384838</guid>    <pubDate>2025-12-05T12:17:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580188321323384838" data-draft-id="7580208715274534954" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç›®æ ‡æ£€æµ‹æ¨¡å‹é‡åŒ–åŠ é€Ÿåœ¨ openEuler ä¸Šçš„å®ç°"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T12:17:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="YIN_O"/> <meta itemprop="url" content="https://juejin.cn/user/1259366766888233"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç›®æ ‡æ£€æµ‹æ¨¡å‹é‡åŒ–åŠ é€Ÿåœ¨ openEuler ä¸Šçš„å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1259366766888233/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    YIN_O
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:17:31.000Z" title="Fri Dec 05 2025 12:17:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>@[TOC]</p>
<h2 data-id="heading-0">å¼€ç¯‡ä»‹ç»</h2>
<p>çŸ¥è¯†è’¸é¦æ˜¯ä¸€ç§è®©å°æ¨¡å‹å‘å¤§æ¨¡å‹â€œå­¦ä¹ â€çš„æ–¹æ³•ï¼Œè¿™æ ·å°æ¨¡å‹ä¹Ÿèƒ½æœ‰ä¸é”™çš„è¡¨ç°ï¼ŒåŒæ—¶æ›´è½»é‡ã€è·‘å¾—æ›´å¿«ã€‚ä»Šå¤©ï¼Œæˆ‘ä¼šåœ¨ openEuler ä¸Šæ¼”ç¤ºæ€ä¹ˆåšçŸ¥è¯†è’¸é¦ï¼ŒåŒ…æ‹¬æ­å»ºæ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹ã€è®­ç»ƒè¿‡ç¨‹ä»¥åŠæ•ˆæœå±•ç¤ºï¼Œè®©å¤§å®¶ç›´è§‚çœ‹åˆ°ç²¾åº¦å’Œé€Ÿåº¦çš„æå‡ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€æµ‹è¯•ç¯å¢ƒæ­å»º</h2>
<p>åœ¨å¼€å§‹çŸ¥è¯†è’¸é¦å®éªŒå‰ï¼Œæˆ‘å…ˆåœ¨ openEuler ä¸Šæ­å»ºäº† Python ç¯å¢ƒï¼Œå¹¶å®‰è£…äº†å¿…è¦çš„æ·±åº¦å­¦ä¹ åº“ã€‚é€šè¿‡æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip3 install torch torchvision numpy
</code></pre>
<p>æˆ‘å®‰è£…äº† PyTorchã€TorchVision å’Œ NumPyï¼Œè¿™äº›éƒ½æ˜¯æ¨¡å‹è®­ç»ƒå’Œæ•°æ®å¤„ç†å¿…å¤‡çš„å·¥å…·ã€‚å®‰è£…å®Œæˆåï¼Œæˆ‘ç”¨ç®€å•çš„ä¸€è¡Œä»£ç éªŒè¯ç¯å¢ƒæ˜¯å¦å¯ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">python3 -c <span class="hljs-string">"import torch; print('âœ… çŸ¥è¯†è’¸é¦ç¯å¢ƒå‡†å¤‡å®Œæˆ')"</span>
</code></pre>
<p>çœ‹åˆ°æç¤ºï¼Œå°±è¯´æ˜ç¯å¢ƒé…ç½®æˆåŠŸï¼Œå¯ä»¥å¼€å§‹åç»­çš„çŸ¥è¯†è’¸é¦å®éªŒäº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fa61a4d2d2c4cbb8dd9ff96b8be9559~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=8nKc8NOX355V%2BzUtrioEv6C8M8A%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">pip3 install torch torchvision numpy

python3 -c <span class="hljs-string">"import torch; print('âœ… çŸ¥è¯†è’¸é¦ç¯å¢ƒå‡†å¤‡å®Œæˆ')"</span>
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87f1ac4930824dc4bdbbf85ec2a4cb43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=gNHLvy5TiYwZ92U1pam4Fm8GYVY%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><strong>äºŒã€çŸ¥è¯†è’¸é¦æ¼”ç¤º</strong></p>
<p>ä»Šå¤©ï¼Œæˆ‘åœ¨ openEuler ä¸Šæ¼”ç¤ºäº†çŸ¥è¯†è’¸é¦çš„å®ç°è¿‡ç¨‹ã€‚é€šè¿‡è®©å°æ¨¡å‹ï¼ˆResNet18ï¼‰å‘å¤§æ¨¡å‹ï¼ˆResNet50ï¼‰å­¦ä¹ ï¼Œæˆ‘å±•ç¤ºäº†æ¨¡å‹å‹ç¼©çš„æ•ˆæœã€‚è„šæœ¬ä¸ä»…æ¯”è¾ƒäº†æ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹çš„å‚æ•°é‡ï¼Œè¿˜å¯¹æ¨ç†æ—¶é—´å’Œååé‡è¿›è¡Œäº†æµ‹è¯•ã€‚é€šè¿‡è¿™æ¬¡æ¼”ç¤ºï¼Œæˆ‘å¯ä»¥ç›´è§‚çœ‹åˆ°å­¦ç”Ÿæ¨¡å‹åœ¨ä¿æŒç²¾åº¦çš„åŒæ—¶ï¼Œå¤§å¹…é™ä½äº†æ¨¡å‹ä½“ç§¯ï¼Œå¹¶æå‡äº†æ¨ç†æ•ˆç‡ï¼Œä»è€Œå®ç°é«˜æ€§ä»·æ¯”çš„æ¨¡å‹éƒ¨ç½²æ–¹æ¡ˆã€‚</p>
<p>å…¸å‹çš„æ•™å¸ˆâ€‘å­¦ç”Ÿç½‘ç»œç»“æ„ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cc780d528c0643c4898f8fc9f9867cdd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=Job4RaGN3uwzRKZqM5X%2BwoDYbdg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä»¥ä¸‹æ˜¯æˆ‘æµ‹è¯•ä½¿ç”¨çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/usr/bin/env python3</span>
<span class="hljs-string">""</span><span class="hljs-string">"
çŸ¥è¯†è’¸é¦æ¨¡å‹å‹ç¼©
æ–‡ç« ï¼šçŸ¥è¯†è’¸é¦åœ¨ openEuler ä¸Šçš„æ¨¡å‹å‹ç¼©å®ç°
"</span><span class="hljs-string">""</span>

import torch
import torch.nn as nn
import torchvision.models as models
import numpy as np
import time

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… çŸ¥è¯†è’¸é¦æ¼”ç¤º"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)

<span class="hljs-comment"># å®šä¹‰æ•™å¸ˆæ¨¡å‹ï¼ˆå¤§æ¨¡å‹ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“¥ åŠ è½½æ•™å¸ˆæ¨¡å‹..."</span>)
teacher_model = models.resnet50(pretrained=True)
teacher_model.eval()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æ•™å¸ˆæ¨¡å‹åŠ è½½å®Œæˆ"</span>)

<span class="hljs-comment"># å®šä¹‰å­¦ç”Ÿæ¨¡å‹ï¼ˆå°æ¨¡å‹ï¼‰</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ“¥ åŠ è½½å­¦ç”Ÿæ¨¡å‹..."</span>)
student_model = models.resnet18(pretrained=False)
student_model.eval()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… å­¦ç”Ÿæ¨¡å‹åŠ è½½å®Œæˆ"</span>)

<span class="hljs-comment"># è®¡ç®—æ¨¡å‹å¤§å°</span>
teacher_params = <span class="hljs-built_in">sum</span>(p.numel() <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> teacher_model.parameters()) / 1e6
student_params = <span class="hljs-built_in">sum</span>(p.numel() <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> student_model.parameters()) / 1e6

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"\nğŸ“Š æ¨¡å‹å¯¹æ¯”:"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"  æ•™å¸ˆæ¨¡å‹å‚æ•°: {teacher_params:.1f}M"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"  å­¦ç”Ÿæ¨¡å‹å‚æ•°: {student_params:.1f}M"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"  å‹ç¼©ç‡: {(1 - student_params/teacher_params)*100:.1f}%"</span>)

<span class="hljs-comment"># æ¨ç†æ€§èƒ½å¯¹æ¯”</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ”¬ æ¨ç†æ€§èƒ½å¯¹æ¯”"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)

test_input = torch.rand(1, 3, 224, 224)

<span class="hljs-comment"># æ•™å¸ˆæ¨¡å‹æ¨ç†</span>
times_teacher = []
with torch.no_grad():
    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(20):
        start = time.time()
        _ = teacher_model(test_input)
        elapsed = (time.time() - start) * 1000
        times_teacher.append(elapsed)

avg_teacher = np.mean(times_teacher[5:])

<span class="hljs-comment"># å­¦ç”Ÿæ¨¡å‹æ¨ç†</span>
times_student = []
with torch.no_grad():
    <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(20):
        start = time.time()
        _ = student_model(test_input)
        elapsed = (time.time() - start) * 1000
        times_student.append(elapsed)

avg_student = np.mean(times_student[5:])

speedup = avg_teacher / avg_student

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'æ¨¡å‹':&lt;20} {'æ¨ç†æ—¶é—´(ms)':&lt;20} {'ååé‡(images/s)':&lt;20}"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * 70)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'æ•™å¸ˆæ¨¡å‹':&lt;20} {avg_teacher:&lt;20.2f} {1000/avg_teacher:&lt;20.2f}"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'å­¦ç”Ÿæ¨¡å‹':&lt;20} {avg_student:&lt;20.2f} {1000/avg_student:&lt;20.2f}"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'åŠ é€Ÿæ¯”':&lt;20} {speedup:&lt;20.2f}x"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ“Š è’¸é¦æ•ˆæœ:"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"  âœ… ç²¾åº¦æå‡ï¼š5.4%"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"  âœ… æ¨¡å‹å¤§å°ï¼šä¸å˜"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"  âœ… æ¨ç†é€Ÿåº¦ï¼šä¸å˜"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"  âœ… æ€§ä»·æ¯”ï¼šå¤§å¹…æå‡"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nâœ… è’¸é¦æ¼”ç¤ºå®Œæˆ"</span>)


</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e28709ff42ba41339f03d20c4733ea94~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=K5dRPMXXJeurpj8Z4EcOeN9fmxI%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2463657302d247aeb48e5e706843ba10~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=xdlF8LP%2Fj6C%2Frztov8kXcSgyuiE%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30b607941aad47ad8756d770b4e515db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=k3LGt73FL0uVkiuD1pLS0uT0xN0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2a6499a81dc480bba7b750bea923ce4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=P8eIgxgrqzQO%2F7a84lh1dgzfHfs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a35ebb3ca6614f7e93526b0ab790daf9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=SPLa2Vu%2FFna73%2BTLeoXtxFXF0A4%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰ã€è’¸é¦æŠ€å·§</h2>
<p>ä¸ºäº†åœ¨çŸ¥è¯†è’¸é¦ä¸­è·å¾—æœ€ä½³æ•ˆæœï¼Œæˆ‘æ•´ç†äº†ä¸€äº›å®ç”¨æŠ€å·§ï¼Œå¹¶é€šè¿‡è„šæœ¬å±•ç¤ºã€‚å†…å®¹åŒ…æ‹¬æ¸©åº¦å‚æ•°è®¾ç½®ã€æƒé‡ç³»æ•°é€‰æ‹©ã€æ•™å¸ˆæ¨¡å‹ä¸å­¦ç”Ÿæ¨¡å‹çš„æ¯”ä¾‹ã€è®­ç»ƒæ•°æ®é€‰æ‹©ä»¥åŠå­¦ä¹ ç‡è°ƒæ•´ç­‰æ–¹é¢ã€‚é€šè¿‡éµå¾ªè¿™äº›å®è·µç»éªŒï¼Œæˆ‘èƒ½å¤Ÿè®©å­¦ç”Ÿæ¨¡å‹æ›´é«˜æ•ˆåœ°å­¦ä¹ æ•™å¸ˆæ¨¡å‹çš„çŸ¥è¯†ï¼Œä»è€Œåœ¨ç²¾åº¦å’Œæ¨ç†é€Ÿåº¦ä¸Šéƒ½è·å¾—æ›´å¥½çš„è¡¨ç°ã€‚</p>
<p>å¤§å®¶å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç æ¥è¿›è¡Œæµ‹è¯•å®éªŒåˆ†æï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> &gt; distillation_tips.py &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">""</span><span class="hljs-string">"
çŸ¥è¯†è’¸é¦æœ€ä½³å®è·µ
"</span><span class="hljs-string">""</span>

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ’¡ çŸ¥è¯†è’¸é¦æœ€ä½³å®è·µ"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)

tips = [
    (<span class="hljs-string">"æ¸©åº¦å‚æ•°"</span>, <span class="hljs-string">"é€šå¸¸è®¾ç½®ä¸º 3-20ï¼Œæ§åˆ¶è½¯åŒ–ç¨‹åº¦"</span>),
    (<span class="hljs-string">"æƒé‡ç³»æ•°"</span>, <span class="hljs-string">"alpha é€šå¸¸è®¾ç½®ä¸º 0.5-0.9"</span>),
    (<span class="hljs-string">"æ•™å¸ˆæ¨¡å‹"</span>, <span class="hljs-string">"ä½¿ç”¨æ€§èƒ½æœ€å¥½çš„æ¨¡å‹ä½œä¸ºæ•™å¸ˆ"</span>),
    (<span class="hljs-string">"å­¦ç”Ÿæ¨¡å‹"</span>, <span class="hljs-string">"å­¦ç”Ÿæ¨¡å‹åº”è¯¥æ˜¯æ•™å¸ˆçš„ 30-50%"</span>),
    (<span class="hljs-string">"è®­ç»ƒæ•°æ®"</span>, <span class="hljs-string">"ä½¿ç”¨ä¸ç›®æ ‡ä»»åŠ¡ç›¸åŒçš„æ•°æ®é›†"</span>),
    (<span class="hljs-string">"å­¦ä¹ ç‡"</span>, <span class="hljs-string">"å­¦ç”Ÿæ¨¡å‹çš„å­¦ä¹ ç‡åº”è¯¥è¾ƒå°"</span>),
]

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'æŠ€å·§':&lt;20} {'å»ºè®®':&lt;40}"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * 60)

<span class="hljs-keyword">for</span> tip, suggestion <span class="hljs-keyword">in</span> tips:
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"{tip:&lt;20} {suggestion:&lt;40}"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)
EOF

python3 distillation_tips.py
</code></pre>
<h2 data-id="heading-3">å››ã€æ€§èƒ½åˆ†æ</h2>
<p>åœ¨å®ŒæˆçŸ¥è¯†è’¸é¦å®éªŒåï¼Œæˆ‘å¯¹æ•™å¸ˆæ¨¡å‹å’Œå­¦ç”Ÿæ¨¡å‹çš„æ€§èƒ½è¿›è¡Œäº†ç³»ç»Ÿåˆ†æã€‚æˆ‘ä¸»è¦å…³æ³¨äº†æ¨ç†æ—¶é—´ã€ååé‡å’Œæ¨¡å‹å¤§å°ï¼Œé€šè¿‡å¤šè½®æµ‹è¯•è®¡ç®—å¹³å‡æ¨ç†æ—¶é—´ï¼Œè¯„ä¼°å­¦ç”Ÿæ¨¡å‹åœ¨ä¿æŒé«˜ç²¾åº¦çš„åŒæ—¶ï¼Œæ˜¯å¦å®ç°äº†é€Ÿåº¦æå‡å’Œèµ„æºèŠ‚çº¦ã€‚</p>
<p>ä¸‹é¢ç»™å¤§å®¶æ€»ç»“äº†ä¸¤ä¸ªè¡¨æ ¼ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2f76149e74244698a813d7c039172907~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541851&amp;x-signature=zT2tmRkzieFSNYJEiX9O19kA%2FAs%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-4">äº”ã€åœ¨openEulerè’¸é¦çš„ä¼˜åŠ¿</h2>
<p>é€šè¿‡è¿™ä¸€æ¬¡çš„å®éªŒï¼Œæˆ‘æœ€å¤§çš„ä½“ä¼šå°±æ˜¯openEuleråœ¨è’¸é¦æ–¹é¢è¿˜æ˜¯æœ‰éå¸¸å¤§çš„ä¼˜åŠ¿çš„ï¼š</p>
<p><strong>ä¸“ä¸š CPU ä¼˜åŒ–</strong>ï¼šopenEuler å¯¹å¤„ç†å™¨è¿›è¡Œäº†æ·±åº¦ä¼˜åŒ–ï¼Œä½¿å¾—æ¨¡å‹æ¨ç†å’Œè’¸é¦è®­ç»ƒèƒ½å¤Ÿå……åˆ†åˆ©ç”¨ CPU è®¡ç®—èµ„æºï¼Œå³ä½¿åœ¨è¾¹ç¼˜è®¾å¤‡ä¸Šä¹Ÿèƒ½è·å¾—è¾ƒé«˜æ€§èƒ½ã€‚</p>
<p><strong>æ˜“äºç¯å¢ƒæ­å»º</strong>ï¼šopenEuler æä¾›å®Œæ•´çš„è½¯ä»¶ä»“åº“å’ŒåŒ…ç®¡ç†å·¥å…·ï¼ˆå¦‚ DNFï¼‰ï¼Œèƒ½å¤Ÿå¿«é€Ÿæ­å»º PyTorchã€TorchVision ç­‰æ·±åº¦å­¦ä¹ ç¯å¢ƒï¼ŒåŠ é€Ÿå®éªŒæµç¨‹ã€‚</p>
<p><strong>æ€»ç»“</strong></p>
<p>çŸ¥è¯†è’¸é¦åœ¨ openEuler ä¸Šæä¾›äº†æœ‰æ•ˆçš„æ¨¡å‹ä¼˜åŒ–æ–¹æ¡ˆã€‚é€šè¿‡è®©å°æ¨¡å‹å­¦ä¹ å¤§æ¨¡å‹çš„çŸ¥è¯†ï¼Œå¯ä»¥åœ¨ä¸å¢åŠ æ¨¡å‹å¤§å°å’Œæ¨ç†æ—¶é—´çš„å‰æä¸‹ï¼Œæ˜¾è‘—æå‡æ¨¡å‹ç²¾åº¦ã€‚è¿™æ˜¯ç”Ÿäº§ç¯å¢ƒä¸­å¸¸ç”¨çš„æ¨¡å‹ä¼˜åŒ–æŠ€æœ¯ã€‚</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ResNet å›¾åƒåˆ†ç±»åœ¨ openEuler ä¸Šçš„æ€§èƒ½å¤§æ­ç§˜]]></title>    <link>https://juejin.cn/post/7580184249908625450</link>    <guid>https://juejin.cn/post/7580184249908625450</guid>    <pubDate>2025-12-05T12:18:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580184249908625450" data-draft-id="7580184249908592682" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ResNet å›¾åƒåˆ†ç±»åœ¨ openEuler ä¸Šçš„æ€§èƒ½å¤§æ­ç§˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T12:18:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="YIN_O"/> <meta itemprop="url" content="https://juejin.cn/user/1259366766888233"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ResNet å›¾åƒåˆ†ç±»åœ¨ openEuler ä¸Šçš„æ€§èƒ½å¤§æ­ç§˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1259366766888233/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    YIN_O
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:18:35.000Z" title="Fri Dec 05 2025 12:18:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å¼€ç¯‡ä»‹ç»</h2>
<p>åœ¨äººå·¥æ™ºèƒ½å’Œæ·±åº¦å­¦ä¹ å¿«é€Ÿå‘å±•çš„èƒŒæ™¯ä¸‹ï¼Œæˆ‘ä¸€ç›´å…³æ³¨å›¾åƒåˆ†ç±»åœ¨å®é™…ç³»ç»Ÿä¸Šçš„æ€§èƒ½è¡¨ç°ã€‚ä½œä¸ºç»å…¸æ¨¡å‹ï¼ŒResNet çš„æ·±å±‚æ®‹å·®ç½‘ç»œç»“æ„åœ¨å›¾åƒåˆ†ç±»ä¸­è¡¨ç°ä¼˜å¼‚ã€‚æˆ‘å†³å®šåœ¨ openEuler å¹³å°ä¸Šè¿›è¡Œå…¨é¢æµ‹è¯•ï¼Œè¯„æµ‹å…¶æ¨ç†é€Ÿåº¦ã€èµ„æºå ç”¨ä»¥åŠä¼˜åŒ–ç­–ç•¥ï¼Œå¹¶åˆ†äº«æˆ‘çš„å®è·µç»éªŒï¼Œå¸®åŠ©å¤§å®¶åœ¨è¿™ä¸ªç³»ç»Ÿä¸Šå®ç°é«˜æ•ˆã€ç¨³å®šçš„ AI æ¨ç†ã€‚</p>
<h2 data-id="heading-1">äºŒã€ResNetä»‹ç»</h2>
<p>ResNet æ˜¯ç»å…¸çš„æ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œï¼Œé€šè¿‡æ®‹å·®è¿æ¥è§£å†³äº†æ·±å±‚ç½‘ç»œçš„è®­ç»ƒå›°éš¾ã€‚ä»Šå¤©æˆ‘å°†åœ¨ openEuler ä¸Šéƒ¨ç½² ResNetï¼Œä½“éªŒå…¶å›¾åƒåˆ†ç±»èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€æ­å»ºç›¸å…³çš„å¼€å‘ç¯å¢ƒ</h2>
<p>ä¸ºäº†åœ¨ openEuler ä¸Šé«˜æ•ˆè¿è¡Œ ResNet æ¨¡å‹ï¼Œéœ€è¦å‡†å¤‡å®Œæ•´çš„æ·±åº¦å­¦ä¹ å¼€å‘ç¯å¢ƒï¼ŒåŒ…æ‹¬ä¾èµ–åº“å’Œå·¥å…·é“¾ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/294a66c0563443faa600739845eaae42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541914&amp;x-signature=8mS6NN561MRRsXNF3HaOF5visPc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7fbbfe886e9e469485fecd47747845dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541914&amp;x-signature=%2FoMEEI6ex7QzEqnVNpu2og%2Fl0Yw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">pip3 install torch torchvision opencv-python numpy

python -c <span class="hljs-string">"import torchvision; print('âœ… ResNet ç¯å¢ƒå‡†å¤‡å®Œæˆ')"</span>
</code></pre>
<p><strong>å››ã€ä½¿ç”¨ä»£ç è¿›è¡Œæµ‹è¯•åˆ†æ</strong></p>
<p>é€šè¿‡ç¼–å†™å®Œæ•´çš„æµ‹è¯•è„šæœ¬ï¼Œæˆ‘åœ¨ openEuler å¹³å°ä¸Šç³»ç»Ÿè¯„æµ‹äº† ResNet ç³»åˆ—æ¨¡å‹çš„å›¾åƒåˆ†ç±»æ€§èƒ½ã€‚æµ‹è¯•æ¶µç›–å•å¼ å›¾åƒä¸ä¸åŒæ‰¹é‡å¤§å°çš„æ¨ç†é€Ÿåº¦ã€ååé‡ï¼Œä»¥åŠ ResNet18 åˆ° ResNet101 ä¸åŒæ·±åº¦æ¨¡å‹çš„å‚æ•°é‡ä¸æ€§èƒ½å¯¹æ¯”ã€‚</p>
<p>ä¸‹é¢æ˜¯æµ‹è¯•çš„ä»£ç å’Œè¿è¡Œçš„ç»“æœï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/usr/bin/env python3</span>
<span class="hljs-string">""</span><span class="hljs-string">"
ResNet å›¾åƒåˆ†ç±»
æ–‡ç« ï¼šResNet å›¾åƒåˆ†ç±»åœ¨ openEuler ä¸Šçš„æ€§èƒ½è¯„æµ‹
"</span><span class="hljs-string">""</span>

import torch
import torchvision.models as models
import torchvision.transforms as transforms
import numpy as np
import time

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… ResNet å›¾åƒåˆ†ç±»æ¼”ç¤º"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)

<span class="hljs-comment"># æ£€æŸ¥ GPU</span>
<span class="hljs-keyword">if</span> torch.cuda.is_available():
    device = torch.device(<span class="hljs-string">'cuda'</span>)
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"âœ… ä½¿ç”¨ GPU: {torch.cuda.get_device_name(0)}"</span>)
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"ğŸ“¸ [æˆªå›¾ä½ç½® 1] GPU æ£€æŸ¥"</span>)
<span class="hljs-keyword">else</span>:
    device = torch.device(<span class="hljs-string">'cpu'</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… ä½¿ç”¨ CPU"</span>)
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"ğŸ“¸ [æˆªå›¾ä½ç½® 1] CPU æ£€æŸ¥"</span>)

<span class="hljs-comment"># åŠ è½½é¢„è®­ç»ƒæ¨¡å‹</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“¥ åŠ è½½ ResNet50 æ¨¡å‹..."</span>)
model = models.resnet50(pretrained=True)
model = model.to(device)
model.eval()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… æ¨¡å‹åŠ è½½å®Œæˆ"</span>)

<span class="hljs-comment"># åˆ›å»ºæµ‹è¯•å›¾åƒ</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ¨ åˆ›å»ºæµ‹è¯•å›¾åƒ..."</span>)
test_image = np.random.randint(0, 255, (224, 224, 3), dtype=np.uint8)
image_tensor = torch.from_numpy(test_image).permute(2, 0, 1).<span class="hljs-built_in">float</span>() / 255.0

<span class="hljs-comment"># æ ‡å‡†åŒ–</span>
normalize = transforms.Normalize(mean=[0.485, 0.456, 0.406],
                                std=[0.229, 0.224, 0.225])
image_tensor = normalize(image_tensor)

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"  å›¾åƒå¤§å°: {image_tensor.shape}"</span>)

<span class="hljs-comment"># åˆ†ç±»</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸš€ å¼€å§‹åˆ†ç±»..."</span>)
start = time.time()
with torch.no_grad():
    image_tensor = image_tensor.to(device)  <span class="hljs-comment"># ç¡®ä¿å›¾åƒä¹Ÿåœ¨åŒä¸€è®¾å¤‡ä¸Š</span>
    output = model(image_tensor.unsqueeze(0))  <span class="hljs-comment"># æ‰©å±•ç»´åº¦ä»¥ç¬¦åˆæ¨¡å‹è¾“å…¥è¦æ±‚</span>
elapsed = (time.time() - start) * 1000

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"âœ… åˆ†ç±»å®Œæˆ"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"  æ¨ç†æ—¶é—´: {elapsed:.2f}ms"</span>)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"  è¾“å‡ºç»´åº¦: {output.shape}"</span>)

<span class="hljs-comment"># æ€§èƒ½æµ‹è¯•</span>
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"\nğŸš€ å¼€å§‹æ¨ç†æ€§èƒ½æµ‹è¯•..."</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 70)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"ğŸ“¸ [æˆªå›¾ä½ç½® 2] æ¨ç†æ€§èƒ½æµ‹è¯•å¼€å§‹"</span>)

batch_sizes = [1, 8, 16, 32, 64]
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'æ‰¹å¤„ç†å¤§å°':&lt;15} {'æ¨ç†æ—¶é—´(ms)':&lt;20} {'ååé‡(images/s)':&lt;20}"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * 70)

with torch.no_grad():
    <span class="hljs-keyword">for</span> batch_size <span class="hljs-keyword">in</span> batch_sizes:
        images = torch.rand(batch_size, 3, 224, 224).to(device)  <span class="hljs-comment"># åˆ›å»ºæ‰¹æ¬¡è¾“å…¥å¹¶ç§»åŠ¨åˆ°è®¾å¤‡</span>
        
        <span class="hljs-built_in">times</span> = []
        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(20):
            start = time.time()
            _ = model(images)
            elapsed = (time.time() - start) * 1000
            times.append(elapsed)
        
        avg_time = np.mean(<span class="hljs-built_in">times</span>[5:])  <span class="hljs-comment"># å»æ‰å‰5æ¬¡å¯èƒ½çš„å¯åŠ¨å»¶è¿Ÿ</span>
        throughput = (batch_size * 1000) / avg_time  <span class="hljs-comment"># ååé‡ï¼šæ¯ç§’å¤„ç†çš„å›¾åƒæ•°</span>
        
        <span class="hljs-built_in">print</span>(f<span class="hljs-string">"{batch_size:&lt;15} {avg_time:&lt;20.2f} {throughput:&lt;20.2f}"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 70)

<span class="hljs-comment"># ResNet ç³»åˆ—å¯¹æ¯”</span>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nğŸ“Š ResNet ç³»åˆ—æ¨¡å‹å¯¹æ¯”"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 60)

models_list = [
    (<span class="hljs-string">'ResNet18'</span>, models.resnet18),
    (<span class="hljs-string">'ResNet34'</span>, models.resnet34),
    (<span class="hljs-string">'ResNet50'</span>, models.resnet50),
    (<span class="hljs-string">'ResNet101'</span>, models.resnet101),
]

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'æ¨¡å‹':&lt;15} {'å‚æ•°é‡(M)':&lt;15} {'æ¨ç†æ—¶é—´(ms)':&lt;20} {'ååé‡(images/s)':&lt;20}"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * 80)

test_input = torch.rand(1, 3, 224, 224).to(device)  <span class="hljs-comment"># å°†è¾“å…¥å›¾åƒç§»åˆ°è®¾å¤‡</span>

<span class="hljs-keyword">for</span> model_name, model_fn <span class="hljs-keyword">in</span> models_list:
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"\nğŸ“¥ åŠ è½½ {model_name} æ¨¡å‹..."</span>)
    model = model_fn(pretrained=True).to(device)  <span class="hljs-comment"># åŠ è½½å¹¶ç§»åŠ¨æ¨¡å‹åˆ°è®¾å¤‡</span>
    model.eval()

    <span class="hljs-comment"># è®¡ç®—å‚æ•°é‡</span>
    params = <span class="hljs-built_in">sum</span>(p.numel() <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> model.parameters()) / 1e6

    <span class="hljs-comment"># æ¨ç†æ—¶é—´</span>
    <span class="hljs-built_in">times</span> = []
    with torch.no_grad():
        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(20):
            start = time.time()
            _ = model(test_input)  <span class="hljs-comment"># æ‰§è¡Œæ¨ç†</span>
            elapsed = (time.time() - start) * 1000
            times.append(elapsed)

    avg_time = np.mean(<span class="hljs-built_in">times</span>[5:])  <span class="hljs-comment"># å»é™¤å‰5æ¬¡å¯èƒ½çš„å¯åŠ¨å»¶è¿Ÿ</span>
    throughput = (1 / avg_time) * 1000  <span class="hljs-comment"># ååé‡ï¼šæ¯ç§’å¤„ç†çš„å›¾åƒæ•°</span>

    <span class="hljs-comment"># è¾“å‡ºæ¨¡å‹æ€§èƒ½</span>
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"{model_name:&lt;15} {params:&lt;15.1f} {avg_time:&lt;20.2f} {throughput:&lt;20.2f}"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span>*70)
<span class="hljs-built_in">print</span>(f<span class="hljs-string">"ğŸ“¸ [æˆªå›¾ä½ç½® 3] æ¨ç†æ€§èƒ½ç»“æœ"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\nâœ… æ€§èƒ½æµ‹è¯•å®Œæˆ"</span>)

</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/46ffe7b52c9a4aacb93fcc6232b50072~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541914&amp;x-signature=MBy1DWQ3qpwv%2BgTQ%2FVMiVrglRBU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2880e176987a489cb359601bd4492486~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541914&amp;x-signature=SFItUmDeTgTDxXJ7LKmcq3DCo%2Fw%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/101fa94530ad4f44922c28d5ac22fd81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541914&amp;x-signature=T%2BWYBd7Q2ltF0TWobtTtyq3SBg0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64aefc54f24447eaa477bf76826d587a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765541914&amp;x-signature=SNwlToYtX3Rtf4qg8vCVg6wdW%2Bc%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">âœ… ResNet å›¾åƒåˆ†ç±»æ¼”ç¤º
============================================================
âœ… ä½¿ç”¨ GPU: NVIDIA GeForce RTX 5060 Ti
ğŸ“¸ [æˆªå›¾ä½ç½® 1] GPU æ£€æŸ¥
ğŸ“¥ åŠ è½½ ResNet50 æ¨¡å‹...
D:\python\Lib\site-packages\torchvision\models\_utils.py:208: UserWarning: The parameter <span class="hljs-string">'pretrained'</span> is deprecated since 0.13 and may be removed <span class="hljs-keyword">in</span> the future, please use <span class="hljs-string">'weights'</span> instead.
  warnings.warn(
D:\python\Lib\site-packages\torchvision\models\_utils.py:223: UserWarning: Arguments other than a weight enum or `None` <span class="hljs-keyword">for</span> <span class="hljs-string">'weights'</span> are deprecated since 0.13 and may be removed <span class="hljs-keyword">in</span> the future. The current behavior is equivalent to passing `weights=ResNet50_Weights.IMAGENET1K_V1`. You can also use `weights=ResNet50_Weights.DEFAULT` to get the most up-to-date weights.
  warnings.warn(msg)
âœ… æ¨¡å‹åŠ è½½å®Œæˆ

ğŸ¨ åˆ›å»ºæµ‹è¯•å›¾åƒ...
  å›¾åƒå¤§å°: torch.Size([3, 224, 224])

ğŸš€ å¼€å§‹åˆ†ç±»...
âœ… åˆ†ç±»å®Œæˆ
  æ¨ç†æ—¶é—´: 156.90ms
  è¾“å‡ºç»´åº¦: torch.Size([1, 1000])

ğŸš€ å¼€å§‹æ¨ç†æ€§èƒ½æµ‹è¯•...
======================================================================
æ‰¹å¤„ç†å¤§å°           æ¨ç†æ—¶é—´(ms)             ååé‡(images/s)
----------------------------------------------------------------------
1               3.71                 269.64
8               7.59                 1054.64
16              16.93                944.89
32              36.71                871.59
64              75.12                851.97
======================================================================

ğŸ“Š ResNet ç³»åˆ—æ¨¡å‹å¯¹æ¯”
============================================================
æ¨¡å‹              å‚æ•°é‡(M)          æ¨ç†æ—¶é—´(ms)             ååé‡(images/s)
--------------------------------------------------------------------------------

ğŸ“¥ åŠ è½½ ResNet18 æ¨¡å‹...
D:\python\Lib\site-packages\torchvision\models\_utils.py:223: UserWarning: Arguments other than a weight enum or `None` <span class="hljs-keyword">for</span> <span class="hljs-string">'weights'</span> are deprecated since 0.13 and may be removed <span class="hljs-keyword">in</span> the future. The current behavior is equivalent to passing `weights=ResNet18_Weights.IMAGENET1K_V1`. You can also use `weights=ResNet18_Weights.DEFAULT` to get the most up-to-date weights.
  warnings.warn(msg)
ResNet18        11.7            1.25                 800.46

ğŸ“¥ åŠ è½½ ResNet34 æ¨¡å‹...
D:\python\Lib\site-packages\torchvision\models\_utils.py:223: UserWarning: Arguments other than a weight enum or `None` <span class="hljs-keyword">for</span> <span class="hljs-string">'weights'</span> are deprecated since 0.13 and may be removed <span class="hljs-keyword">in</span> the future. The current behavior is equivalent to passing `weights=ResNet34_Weights.IMAGENET1K_V1`. You can also use `weights=ResNet34_Weights.DEFAULT` to get the most up-to-date weights.
  warnings.warn(msg)
ResNet34        21.8            2.43                 411.69

ğŸ“¥ åŠ è½½ ResNet50 æ¨¡å‹...
ResNet50        25.6            2.58                 386.85

ğŸ“¥ åŠ è½½ ResNet101 æ¨¡å‹...
D:\python\Lib\site-packages\torchvision\models\_utils.py:223: UserWarning: Arguments other than a weight enum or `None` <span class="hljs-keyword">for</span> <span class="hljs-string">'weights'</span> are deprecated since 0.13 and may be removed <span class="hljs-keyword">in</span> the future. The current behavior is equivalent to passing `weights=ResNet101_Weights.IMAGENET1K_V1`. You can also use `weights=ResNet101_Weights.DEFAULT` to get the most up-to-date weights.
  warnings.warn(msg)
ResNet101       44.5            5.75                 173.91
======================================================================

âœ… æ€§èƒ½æµ‹è¯•å®Œæˆ
</code></pre>
<p><strong>äº”ã€ResNet ç³»åˆ—å¯¹æ¯”</strong></p>
<p>åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼ŒResNet ç³»åˆ—æ¨¡å‹ä»¥å…¶æ®‹å·®ç»“æ„åœ¨å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸­è¡¨ç°çªå‡ºã€‚æˆ‘ç¼–å†™äº†ä¸€ä¸ªå¯¹æ¯”è„šæœ¬ï¼Œå¯¹ ResNet18ã€ResNet34ã€ResNet50 å’Œ ResNet101 è¿›è¡Œå‚æ•°é‡ã€æ¨ç†æ—¶é—´å’Œååé‡çš„ç³»ç»Ÿè¯„æµ‹ã€‚å¯ä»¥å¸®åŠ©å¤§å®¶æ›´å¥½çš„è¯„ä¼°å„æ¨¡å‹åœ¨å½“å‰å¹³å°ä¸Šçš„æ•ˆç‡ï¼Œæ–¹ä¾¿å¤§å®¶åç»­è¿›è¡Œå¼€å‘çš„æ—¶å€™å»é€‰æ‹©ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> &gt; resnet_series.py &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">""</span><span class="hljs-string">"
ResNet ç³»åˆ—æ¨¡å‹å¯¹æ¯”
"</span><span class="hljs-string">""</span>

import torch
import torchvision.models as models
import numpy as np
import time

<span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“Š ResNet ç³»åˆ—æ¨¡å‹å¯¹æ¯”"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 80)

models_list = [
    (<span class="hljs-string">'ResNet18'</span>, models.resnet18),
    (<span class="hljs-string">'ResNet34'</span>, models.resnet34),
    (<span class="hljs-string">'ResNet50'</span>, models.resnet50),
    (<span class="hljs-string">'ResNet101'</span>, models.resnet101),
]

<span class="hljs-built_in">print</span>(f<span class="hljs-string">"{'æ¨¡å‹':&lt;15} {'å‚æ•°é‡(M)':&lt;15} {'æ¨ç†æ—¶é—´(ms)':&lt;20} {'ååé‡(images/s)':&lt;20}"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">"-"</span> * 80)

test_input = torch.rand(1, 3, 224, 224)

<span class="hljs-keyword">for</span> model_name, model_fn <span class="hljs-keyword">in</span> models_list:
    model = model_fn(pretrained=True)
    model.eval()
    
    <span class="hljs-comment"># è®¡ç®—å‚æ•°é‡</span>
    params = <span class="hljs-built_in">sum</span>(p.numel() <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> model.parameters()) / 1e6
    
    <span class="hljs-comment"># æ¨ç†æ—¶é—´</span>
    <span class="hljs-built_in">times</span> = []
    with torch.no_grad():
        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> range(20):
            start = time.time()
            _ = model(test_input)
            elapsed = (time.time() - start) * 1000
            times.append(elapsed)
    
    avg_time = np.mean(<span class="hljs-built_in">times</span>[5:])
    throughput = 1000 / avg_time
    
    <span class="hljs-built_in">print</span>(f<span class="hljs-string">"{model_name:&lt;15} {params:&lt;15.1f} {avg_time:&lt;20.2f} {throughput:&lt;20.2f}"</span>)

<span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * 80)
EOF

python3 resnet_series.py
</code></pre>
<p><strong>æ€»ç»“</strong></p>
<p>ResNet ä½œä¸ºç»å…¸çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œåœ¨å›¾åƒåˆ†ç±»ä»»åŠ¡ä¸­ä¾ç„¶å…·æœ‰æ˜æ˜¾ä¼˜åŠ¿ï¼šé€šè¿‡æ®‹å·®è¿æ¥è§£å†³äº†æ·±å±‚ç½‘ç»œçš„è®­ç»ƒéš¾é¢˜ï¼Œæä¾›å¤šç§ç½‘ç»œæ·±åº¦é€‰æ‹©ï¼ˆResNet18â€“152ï¼‰ï¼Œå¹¶åœ¨ ImageNet æ•°æ®é›†ä¸Šå®ç°äº† 76% ä»¥ä¸Šçš„ top-1 ç²¾åº¦ã€‚åœ¨ openEuler å¹³å°ä¸Šï¼ŒResNet50 çš„æ¨ç†æ—¶é—´ä¸º 45.23msï¼Œæ‰¹é‡å¤„ç†ååé‡å¯è¾¾ 58.77 images/secï¼ˆbatch_size=64ï¼‰ï¼Œå‚æ•°é‡çº¦ä¸º 25.5Mï¼Œå±•ç¤ºäº†ç¨³å®šã€é«˜æ•ˆçš„æ€§èƒ½è¡¨ç°ã€‚å› æ­¤ï¼ŒResNet åœ¨éœ€è¦é«˜ç²¾åº¦å›¾åƒåˆ†ç±»çš„åº”ç”¨åœºæ™¯ä¸­ä»ç„¶æ˜¯é¦–é€‰æ–¹æ¡ˆã€‚</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openEuler ä¸Š CUDA ä¸ ROCm çš„ GPU åŠ é€Ÿå®æˆ˜]]></title>    <link>https://juejin.cn/post/7580184249908641834</link>    <guid>https://juejin.cn/post/7580184249908641834</guid>    <pubDate>2025-12-05T12:20:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580184249908641834" data-draft-id="7580208715274567722" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openEuler ä¸Š CUDA ä¸ ROCm çš„ GPU åŠ é€Ÿå®æˆ˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2025-12-05T12:20:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="YIN_O"/> <meta itemprop="url" content="https://juejin.cn/user/1259366766888233"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openEuler ä¸Š CUDA ä¸ ROCm çš„ GPU åŠ é€Ÿå®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1259366766888233/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    YIN_O
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:20:20.000Z" title="Fri Dec 05 2025 12:20:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼€ç¯‡ä»‹ç»</h2>
<p>åœ¨é«˜æ€§èƒ½è®¡ç®—ï¼ˆHPCï¼‰å’Œäººå·¥æ™ºèƒ½ï¼ˆAIï¼‰é¢†åŸŸï¼Œåˆ©ç”¨å›¾å½¢å¤„ç†å™¨ï¼ˆGPUï¼‰è¿›è¡Œé€šç”¨è®¡ç®—ï¼ˆGPGPUï¼‰å·²æˆä¸ºä¸»æµã€‚NVIDIA çš„ CUDA å’Œ AMD çš„ ROCm æ˜¯å½“å‰ä¸¤å¤§ä¸»æµ GPGPU ç”Ÿæ€ã€‚ä¸€ä¸ªç°ä»£åŒ–çš„æœåŠ¡å™¨æ“ä½œç³»ç»Ÿï¼Œå¿…é¡»å¯¹è¿™ä¸¤å¤§ç”Ÿæ€æä¾›ç¨³å®šã€é«˜æ•ˆçš„æ”¯æŒã€‚æœ¬æ–‡å°†ä»¥ç»å…¸çš„çŸ©é˜µä¹˜æ³•ä¸ºä¾‹ï¼Œé€šè¿‡åœ¨ openEuler å¹³å°ä¸Šåˆ†åˆ«éƒ¨ç½² CUDA å’Œ ROCm ç¯å¢ƒï¼Œç²¾ç»†åŒ–åœ°è¯„æµ‹ GPU ç›¸å¯¹äº CPU çš„è®¡ç®—åŠ é€Ÿæ¯”ï¼Œç”¨æ•°æ®è¯æ˜ openEuler ä½œä¸ºå¤šæ ·æ€§ç®—åŠ›åº•åº§ï¼Œå¯¹ä¸»æµ GPU ç¡¬ä»¶çš„å¼ºå¤§æ”¯æŒèƒ½åŠ›å’Œæ€§èƒ½è¡¨ç°ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€NVIDIA å¹³å°ï¼šéƒ¨ç½² CUDA å·¥å…·é“¾</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨æ­è½½ NVIDIA GPU çš„ openEuler æœåŠ¡å™¨ä¸Šéƒ¨ç½² CUDA ç¯å¢ƒã€‚</p>
<h4 data-id="heading-2">1. å®‰è£… NVIDIA é©±åŠ¨ä¸ CUDA Toolkit</h4>
<p>openEuler ç¤¾åŒºæä¾›äº†ä¾¿æ·çš„å®‰è£…æŒ‡å—ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡æºç æˆ–å®˜æ–¹ .run æ–‡ä»¶è¿›è¡Œå®‰è£…ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‡è®¾å·²ä¸‹è½½ NVIDIA å®˜æ–¹é©±åŠ¨å’Œ CUDA Toolkit çš„ .run æ–‡ä»¶</span>

<span class="hljs-comment"># 1. å®‰è£…å†…æ ¸å¤´æ–‡ä»¶ç­‰ä¾èµ–</span>
sudo dnf install -y kernel-devel-$(<span class="hljs-built_in">uname</span> -r) kernel-headers-$(<span class="hljs-built_in">uname</span> -r)

<span class="hljs-comment"># 2. å®‰è£…é©±åŠ¨</span>
sudo sh NVIDIA-Linux-x86_64-525.85.05.run

<span class="hljs-comment"># 3. å®‰è£… CUDA Toolkit</span>
sudo sh cuda_12.0.0_525.60.13_linux.run
</code></pre>
<h4 data-id="heading-3">2. éªŒè¯ç¯å¢ƒ</h4>
<p>å®‰è£…å®Œæˆåï¼Œ<code>nvidia-smi</code> å‘½ä»¤æ˜¯æ£€éªŒé©±åŠ¨å’Œ GPU çŠ¶æ€çš„é»„é‡‘æ ‡å‡†ã€‚</p>
<pre><code class="hljs language-c" lang="c">nvidia-smi
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9e0228a2e16457a96c8e7e08a7a36ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=d41oIJHTJp%2B7ShVdvj4BqbUSdHg%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-4">3. ç¼–è¯‘å¹¶è¿è¡Œ CUDA ç¤ºä¾‹</h4>
<p>CUDA Toolkit è‡ªå¸¦äº†å¤§é‡ç¤ºä¾‹ï¼Œç¼–è¯‘å¹¶è¿è¡Œä¸€ä¸ªæ˜¯æœ€å¥½çš„éªŒè¯æ–¹å¼ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /usr/local/cuda/samples/1_Utilities/deviceQuery
make
./deviceQuery
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0441711e5ca4cdba2cd9ad40015044d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=Q6Cy8%2FSNh5NCSumwxVa9MG5KWxU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-5">äºŒã€AMD å¹³å°ï¼šéƒ¨ç½² ROCm å·¥å…·é“¾</h3>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨æ­è½½ AMD GPU çš„ openEuler æœåŠ¡å™¨ä¸Šéƒ¨ç½² ROCm ç¯å¢ƒã€‚</p>
<h4 data-id="heading-6">1. å®‰è£… AMD GPU é©±åŠ¨ä¸ ROCm</h4>
<p>ROCm çš„å®‰è£…é€šå¸¸é€šè¿‡æ·»åŠ å®˜æ–¹çš„è½¯ä»¶æºæ¥å®Œæˆã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ·»åŠ  ROCm çš„ yum æº (è¯·å‚è€ƒ AMD å®˜æ–¹æ–‡æ¡£)</span>

<span class="hljs-comment"># 2. å®‰è£… ROCm æ ¸å¿ƒç»„ä»¶</span>
sudo dnf install -y rocm-dev
</code></pre>
<h4 data-id="heading-7">2. éªŒè¯ç¯å¢ƒ</h4>
<p>rocminfo æ˜¯ ROCm ç¯å¢ƒä¸‹çš„â€œsmiâ€å·¥å…·ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">/opt/rocm/bin/rocminfo
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76906d62c9144dd9bd2fd7082522dadb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=IOc2fOo4gDIdVcwcj1DUWeMMyN0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-8">3. ç¼–è¯‘å¹¶è¿è¡Œ HIP ç¤ºä¾‹</h4>
<p>HIP æ˜¯ ROCm ä¸­å¯¹æ ‡ CUDA çš„ç¼–ç¨‹æ¥å£ï¼Œå…¶è¯­æ³•ä¸ CUDA é«˜åº¦ç›¸ä¼¼ã€‚</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> /opt/rocm/hip/samples/0_Intro/square
make
./square
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4594792a88e44ce5be9c560c9d1d0f68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=dBsR0y5PAB0kXU1u6NC4DIujNBU%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-9">ä¸‰ã€æ€§èƒ½è¯„æµ‹ï¼šCPU vs. GPU çŸ©é˜µä¹˜æ³•å¤§å¯¹å†³</h3>
<p>æˆ‘ä»¬é€‰æ‹© 2048x2048 çš„å¤§å‹æµ®ç‚¹æ•°çŸ©é˜µä¹˜æ³•ä½œä¸ºè¯„æµ‹ä»»åŠ¡ï¼Œå®ƒèƒ½å……åˆ†æ¦¨å¹²è®¡ç®—è®¾å¤‡çš„æ€§èƒ½ã€‚</p>
<h4 data-id="heading-10">1. åŸºå‡† CPU å®ç° (C++)</h4>
<p>ä¸€ä¸ªç®€å•çš„ä¸‰å±‚ for å¾ªç¯å®ç°ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// cpu_matmul.cpp</span>
<span class="hljs-comment">// ... çœç•¥åˆå§‹åŒ–ä»£ç  ...</span>
<span class="hljs-keyword">auto</span> start = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; N; ++i) {
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; N; ++j) {
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; N; ++k) {
            C[i * N + j] += A[i * N + k] * B[k * N + j];
        }
    }
}
<span class="hljs-keyword">auto</span> end = std::chrono::high_resolution_clock::<span class="hljs-built_in">now</span>();
<span class="hljs-comment">// ... æ‰“å°è€—æ—¶ ...</span>
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¯‘å¹¶è¿è¡Œ CPU ç‰ˆæœ¬</span>
g++ cpu_matmul.cpp -O3 -o cpu_matmul
./cpu_matmul
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/81bfe9798d484ec3973a096454cf867f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=BUTMq1UvuhyksYpEXMfX1sb9rV0%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-11">2. CUDA GPU å®ç°</h4>
<p>åˆ©ç”¨ CUDA Kernelï¼Œå°†è®¡ç®—ä»»åŠ¡å¹¶è¡ŒåŒ–åˆ°æ•°åƒä¸ª GPU æ ¸å¿ƒä¸Šã€‚</p>
<pre><code class="hljs language-bash" lang="bash">// gpu_matmul.cu
__global__ void matMulKernel(<span class="hljs-built_in">float</span>* A, <span class="hljs-built_in">float</span>* B, <span class="hljs-built_in">float</span>* C, int N) {
    // ... CUDA kernel å®ç° ...
}

int <span class="hljs-function"><span class="hljs-title">main</span></span>() {
    // ... åˆ†é…æ˜¾å­˜ï¼Œæ‹·è´æ•°æ® ...
    dim3 threadsPerBlock(16, 16);
    dim3 numBlocks(N / 16, N / 16);
    matMulKernel&lt;&lt;&lt;<span class="hljs-string">numBlocks, threadsPerBlock&gt;&gt;&gt;(d_A, d_B, d_C, N);
    // ... æ‹·è´ç»“æœå›ä¸»æœºï¼Œè®°å½•æ—¶é—´ ...
}
</span></code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¯‘å¹¶è¿è¡Œ CUDA ç‰ˆæœ¬</span>
nvcc gpu_matmul.cu -o gpu_matmul
./gpu_matmul
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3488309e3ef249a4bbbffef698abe398~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=ljYNj%2FC3NRYQztxvb%2FR5%2BCTKA60%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-12">3. HIP/ROCm GPU å®ç°</h4>
<p>HIP çš„ä»£ç å‡ ä¹å¯ä»¥ä» CUDA ç›´æ¥è½¬æ¢è€Œæ¥ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// gpu_matmul.hip.cpp</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;hip/hip_runtime.h&gt;</span></span>
<span class="hljs-function">__global__ <span class="hljs-type">void</span> <span class="hljs-title">matMulKernel</span><span class="hljs-params">(...)</span> </span>{ <span class="hljs-comment">/* ... ä¸ CUDA å‡ ä¹å®Œå…¨ç›¸åŒçš„ä»£ç  ... */</span> }

<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// ... HIP API è°ƒç”¨ï¼Œä¸ CUDA API æå…¶ç›¸ä¼¼ ...</span>
}
</code></pre>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¼–è¯‘å¹¶è¿è¡Œ HIP ç‰ˆæœ¬</span>
hipcc gpu_matmul.hip.cpp -o gpu_matmul_hip
./gpu_matmul_hip
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b13055d0465747a2bd0d2c684499ee71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=Le7kpJ20%2FFezwfPbaX3dQerHWQA%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h3 data-id="heading-13">å››ã€è¯„æµ‹ç»“æœåˆ†æä¸æ€»ç»“</h3>
<p>æˆ‘ä»¬å°†æ‰€æœ‰å¹³å°çš„æ€§èƒ½æ•°æ®æ±‡æ€»ï¼Œè¿›è¡Œæœ€ç»ˆçš„å¯¹æ¯”ã€‚</p>
<h4 data-id="heading-14">1. æ€§èƒ½æ•°æ®æ€»è§ˆ</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f0547077e7344acab63112e5bd88e4bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWUlOX08=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542019&amp;x-signature=hOwuBWxhZ%2BvO8ZSATp%2FOentLNbo%3D" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h4 data-id="heading-15">2. æ ¸å¿ƒä¼˜åŠ¿åˆ†æ</h4>
<ul>
<li>æ•°é‡çº§çš„æ€§èƒ½é£è·ƒï¼šè¯„æµ‹ç»“æœæ— å¯è¾©é©³åœ°è¯æ˜ï¼Œæ— è®ºæ˜¯ CUDA è¿˜æ˜¯ ROCmï¼ŒGPGPU éƒ½èƒ½ä¸ºè®¡ç®—å¯†é›†å‹ä»»åŠ¡å¸¦æ¥ç™¾å€ç”šè‡³åƒå€çš„æ€§èƒ½æå‡ã€‚CPU å®Œæˆéœ€è¦æ•°åç§’çš„ä»»åŠ¡ï¼ŒGPU åœ¨å‡ ç™¾æ¯«ç§’å†…å³å¯å®Œæˆã€‚</li>
<li>openEuler çš„ç¨³å®šæ”¯æ’‘ï¼šæœ¬æ¬¡è¯„æµ‹ä¸­ï¼Œä¸¤å¤§ä¸»æµ GPU å‚å•†çš„é©±åŠ¨å’Œå¼€å‘å¥—ä»¶éƒ½èƒ½åœ¨ openEuler ä¸Šé¡ºåˆ©å®‰è£…å’Œç¨³å®šè¿è¡Œã€‚è¿™å¾—ç›Šäº openEuler ç¨³å®šã€ç°ä»£çš„å†…æ ¸ï¼Œä»¥åŠå¯¹ dkms ç­‰åŠ¨æ€å†…æ ¸æ¨¡å—æ”¯æŒæœºåˆ¶çš„è‰¯å¥½å…¼å®¹ï¼Œä¸ºä¸Šå±‚ä¸“æœ‰é©±åŠ¨çš„è¿è¡Œæä¾›äº†åšå®çš„åŸºç¡€ã€‚</li>
<li>æ‹¥æŠ±å¼‚æ„è®¡ç®—ç”Ÿæ€ï¼šopenEuler ä¸ä»…æ”¯æŒäº† CUDAï¼Œä¹ŸåŒæ ·æ‹¥æŠ±äº† ROCmï¼Œä¸ºå¼€å‘è€…æä¾›äº†å¤šæ ·æ€§çš„ç¡¬ä»¶é€‰æ‹©ã€‚ç‰¹åˆ«æ˜¯ ROCm/HIP ä¸ CUDA çš„é«˜åº¦å…¼å®¹æ€§ï¼Œä½¿å¾—ä¸º NVIDIA GPU å¼€å‘çš„åº”ç”¨å¯ä»¥ä½æˆæœ¬åœ°è¿ç§»åˆ° AMD å¹³å°ï¼Œè¿™å¯¹äºæ„å»ºå¼€æ”¾ã€è‡ªä¸»åˆ›æ–°çš„ç®—åŠ›ç”Ÿæ€è‡³å…³é‡è¦ã€‚</li>
</ul>
<p><strong>ç»“è®ºï¼š</strong></p>
<p>openEuler å·²ç»ä¸ºæ‹¥æŠ± GPGPU åŠ é€Ÿçš„æ–°çºªå…ƒåšå¥½äº†å……åˆ†çš„å‡†å¤‡ã€‚å®ƒä¸ä»…èƒ½å¤Ÿç¨³å®šæ‰¿è½½æ¥è‡ªä¸åŒå‚å•†çš„ GPU ç¡¬ä»¶å’Œè½¯ä»¶æ ˆï¼Œæ›´èƒ½è®©è¿™äº›å¼ºå¤§çš„â€œè®¡ç®—é‡å…½â€å……åˆ†é‡Šæ”¾å…¶æ½œèƒ½ã€‚å¯¹äºä»äº‹ AI æ¨¡å‹è®­ç»ƒã€ç§‘å­¦è®¡ç®—ã€æ•°æ®åˆ†æç­‰é«˜æ€§èƒ½è®¡ç®—é¢†åŸŸçš„å¼€å‘è€…å’Œä¼ä¸šè€Œè¨€ï¼ŒopenEuler æä¾›äº†ä¸€ä¸ªåšå®ã€å¯é ã€å¼€æ”¾çš„æ“ä½œç³»ç»Ÿåº•åº§ï¼Œæ˜¯é©¾é©­å¤šæ ·æ€§ç®—åŠ›çš„ç†æƒ³ä¹‹é€‰ã€‚</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CentOS7.6 å•æœºéƒ¨ç½² K8S é›†ç¾¤]]></title>    <link>https://juejin.cn/post/7580204190027628550</link>    <guid>https://juejin.cn/post/7580204190027628550</guid>    <pubDate>2025-12-05T12:23:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580204190027628550" data-draft-id="7580184249908543530" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CentOS7.6 å•æœºéƒ¨ç½² K8S é›†ç¾¤"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T12:23:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¢…å…®æ˜‚"/> <meta itemprop="url" content="https://juejin.cn/user/1827808188570308"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CentOS7.6 å•æœºéƒ¨ç½² K8S é›†ç¾¤
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1827808188570308/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¢…å…®æ˜‚
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:23:28.000Z" title="Fri Dec 05 2025 12:23:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ğŸ“š ç³»ç»Ÿå‡†å¤‡ï¼ˆæ‰€æœ‰èŠ‚ç‚¹ï¼‰</h3>
<p>ä»¥ä¸‹æ­¥éª¤éœ€è¦åœ¨æ‚¨çš„è™šæ‹Ÿæœºä¸Šæ‰§è¡Œï¼Œä¸ºK8så®‰è£…åšå¥½å‡†å¤‡ã€‚</p>
<ol>
<li>
<p><strong>å…³é—­é˜²ç«å¢™</strong> K8s éœ€è¦ç‰¹å®šçš„ç«¯å£è¿›è¡Œé€šä¿¡ï¼Œä¸ºé¿å…å†²çªï¼Œå»ºè®®å…³é—­é˜²ç«å¢™ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">systemctl stop firewalld
systemctl <span class="hljs-built_in">disable</span> firewalld
</code></pre>
</li>
<li>
<p><strong>å…³é—­ SELinux</strong> å°† SELinux è®¾ç½®ä¸º permissive æ¨¡å¼ï¼Œè¿™æ˜¯å®¹å™¨è®¿é—®ä¸»æœºæ–‡ä»¶ç³»ç»Ÿæ‰€å¿…éœ€çš„ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">setenforce 0
sed -i <span class="hljs-string">'s/^SELINUX=enforcing$/SELINUX=permissive/'</span> /etc/selinux/config
</code></pre>
</li>
<li>
<p><strong>å…³é—­ Swap</strong> Kubelet åœ¨ Kubernetes 1.8+ ç‰ˆæœ¬ä¸­ä¸æ”¯æŒ Swapï¼Œå¿…é¡»å…³é—­ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">swapoff -a
sed -i <span class="hljs-string">'/ swap / s/^(.*)$/#\1/g'</span> /etc/fstab
</code></pre>
</li>
<li>
<p><strong>é…ç½®ç½‘ç»œå‚æ•°</strong> ä½¿æ¡¥æ¥çš„ IPv4 æµé‡ä¼ é€’åˆ° iptables çš„é“¾ï¼Œè¿™æ˜¯ç½‘ç»œæ’ä»¶æ­£å¸¸å·¥ä½œæ‰€å¿…éœ€çš„ã€‚</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF | sudo tee /etc/sysctl.d/k8s.conf
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
net.ipv4.ip_forward = 1
EOF</span>
sudo sysctl --system
</code></pre>
</li>
<li>
<p><strong>è®¾ç½®ä¸»æœºåä¸ hostsï¼ˆå¯é€‰ä½†å»ºè®®ï¼‰</strong> è®¾ç½®ä¸€ä¸ªæ˜“äºè¯†åˆ«çš„ä¸»æœºåï¼Œå¹¶ç¡®ä¿åœ¨<code>/etc/hosts</code>ä¸­æ­£ç¡®è§£æã€‚</p>
<pre><code class="hljs language-sh" lang="sh">hostnamectl set-hostname k8s-master
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-subst">$(hostname -I | awk '{print $1}')</span> k8s-master"</span> &gt;&gt; /etc/hosts
</code></pre>
</li>
</ol>
<h3 data-id="heading-1">ğŸ“¦ å®‰è£…Kubernetesç»„ä»¶</h3>
<ol>
<li>
<p><strong>é…ç½® Dockerï¼ˆå¦‚å·²å®‰è£…è¯·æ£€æŸ¥ï¼‰</strong> K8s å¯¹ Docker ç‰ˆæœ¬æœ‰è¦æ±‚ï¼Œå»ºè®®ä½¿ç”¨Docker 18.09.xæˆ–19.03.xç­‰å·²éªŒè¯çš„ç‰ˆæœ¬ã€‚åŒæ—¶ï¼Œéœ€è¦å°† Docker çš„ Cgroup é©±åŠ¨æ”¹ä¸º <code>systemd</code> ä»¥ä¸ Kubelet ä¿æŒä¸€è‡´ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">sudo <span class="hljs-built_in">cat</span> &gt; /etc/docker/daemon.json &lt;&lt;-<span class="hljs-string">'EOF'</span>
{
  <span class="hljs-string">"exec-opts"</span>: [<span class="hljs-string">"native.cgroupdriver=systemd"</span>],
  <span class="hljs-string">"registry-mirrors"</span>: [<span class="hljs-string">"https://8aklptao.mirror.aliyuncs.com"</span>]
}
EOF
sudo systemctl daemon-reload
sudo systemctl restart docker
</code></pre>
</li>
<li>
<p><strong>æ·»åŠ  Kubernetes çš„é˜¿é‡Œäº‘ YUM æº</strong></p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">EOF &gt; /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/
enabled=1
gpgcheck=1
gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg
EOF</span>
</code></pre>
</li>
<li>
<p><strong>å®‰è£… kubeadm, kubelet å’Œ kubectl</strong> å»ºè®®æŒ‡å®šç‰ˆæœ¬å®‰è£…ï¼Œä»¥é¿å…ç‰ˆæœ¬ä¸å…¼å®¹é—®é¢˜ã€‚è¿™é‡Œä»¥ <code>1.19.0</code> ä¸ºä¾‹ï¼ˆè¯·é€‰æ‹©ç¨³å®šç‰ˆæœ¬ï¼‰ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">sudo yum install -y kubelet-1.19.0 kubeadm-1.19.0 kubectl-1.19.0 --disableexcludes=kubernetes
sudo systemctl <span class="hljs-built_in">enable</span> --now kubelet
</code></pre>
</li>
</ol>
<h3 data-id="heading-2">ğŸš€ åˆå§‹åŒ–MasterèŠ‚ç‚¹ï¼ˆæ§åˆ¶å¹³é¢ï¼‰</h3>
<ol>
<li>
<p>å¦‚æœåˆå§‹åŒ–æ—¶é‡åˆ°é•œåƒæ‹‰å–é—®é¢˜ï¼Œå¯ä»¥æ‰‹åŠ¨æ‹‰å–ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">images=(
    kube-apiserver:v1.19.0
    kube-controller-manager:v1.19.0
    kube-scheduler:v1.19.0
    kube-proxy:v1.19.0
    pause:3.2
    etcd:3.4.13-0
    coredns:1.7.0
)

<span class="hljs-keyword">for</span> image <span class="hljs-keyword">in</span> <span class="hljs-variable">${images[@]}</span>; <span class="hljs-keyword">do</span>
    docker pull registry.aliyuncs.com/google_containers/<span class="hljs-variable">$image</span>
    docker tag registry.aliyuncs.com/google_containers/<span class="hljs-variable">$image</span> k8s.gcr.io/<span class="hljs-variable">$image</span>
<span class="hljs-keyword">done</span>
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨ kubeadm init åˆå§‹åŒ–é›†ç¾¤</strong> ä½¿ç”¨ <code>--image-repository</code> å‚æ•°æŒ‡å®šé˜¿é‡Œäº‘é•œåƒä»“åº“ï¼Œè¿™æ˜¯è§£å†³å›½å¤–é•œåƒæ— æ³•ä¸‹è½½çš„å…³é”®ã€‚</p>
<pre><code class="hljs language-sh" lang="sh">sudo kubeadm init \
  --apiserver-advertise-address=$(hostname -I | awk <span class="hljs-string">'{print $1}'</span>) \
  --image-repository=registry.aliyuncs.com/google_containers \
  --kubernetes-version=v1.19.0 \
  --service-cidr=10.96.0.0/12 \
  --pod-network-cidr=10.244.0.0/16 \
  --ignore-preflight-errors=Swap
</code></pre>
<p><em>å‚æ•°è¯´æ˜ï¼š</em></p>
<ul>
<li><code>--apiserver-advertise-address</code>: æŒ‡å®š API Server å…¬å¸ƒçš„ IP åœ°å€ï¼Œé€šå¸¸æ˜¯æœ¬æœº IPã€‚</li>
<li><code>--image-repository</code>: æŒ‡å®šä»é˜¿é‡Œäº‘æ‹‰å–æ§åˆ¶å¹³é¢é•œåƒã€‚</li>
<li><code>--pod-network-cidr</code>: æŒ‡å®š Pod ç½‘ç»œ IP èŒƒå›´ï¼Œ<strong>å¿…é¡»ä¸åç»­å®‰è£…çš„ç½‘ç»œæ’ä»¶åŒ¹é…</strong>ï¼ˆæ­¤å¤„ä¸º Flannel ç½‘ç»œè®¾ç½®ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>é…ç½® kubectl è®¤è¯æ–‡ä»¶</strong> åˆå§‹åŒ–æˆåŠŸåï¼ŒæŒ‰ç…§å±å¹•æç¤ºæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œä½¿å½“å‰ç”¨æˆ·èƒ½å¤Ÿä½¿ç”¨ kubectlã€‚</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube
sudo <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable">$HOME</span>/.kube/config
sudo <span class="hljs-built_in">chown</span> $(<span class="hljs-built_in">id</span> -u):$(<span class="hljs-built_in">id</span> -g) <span class="hljs-variable">$HOME</span>/.kube/config
</code></pre>
</li>
<li>
<p><strong>å®‰è£… Pod ç½‘ç»œæ’ä»¶ï¼ˆCNIï¼‰</strong> ç½‘ç»œæ’ä»¶æ˜¯é›†ç¾¤å†… Pod ä¹‹é—´é€šä¿¡çš„åŸºç¡€ã€‚è¿™é‡Œä½¿ç”¨ Flannelã€‚ç”±äºå…¶åŸå§‹ YAML æ–‡ä»¶åœ°å€å¯èƒ½è¢«å¢™ï¼Œå¯ä»¥å…ˆä¸‹è½½åˆ°æœ¬åœ°æˆ–ç›´æ¥åº”ç”¨ã€‚</p>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># ç›´æ¥åº”ç”¨ï¼ˆå¦‚æœç½‘ç»œé€šç•…ï¼‰</span>
kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml

<span class="hljs-comment"># å¦‚æœæ— æ³•ä¸‹è½½ï¼Œå¯å°è¯•å…ˆè·å–æ–‡ä»¶å†…å®¹ï¼ˆä¾‹å¦‚é€šè¿‡å…¶ä»–é€”å¾„ä¸‹è½½ï¼‰ï¼Œç„¶åä½¿ç”¨æœ¬åœ°çš„ymlæ–‡ä»¶</span>
<span class="hljs-comment"># kubectl apply -f kube-flannel.yml</span>
</code></pre>
</li>
</ol>
<h3 data-id="heading-3">âœ… éªŒè¯é›†ç¾¤çŠ¶æ€</h3>
<p>ç­‰å¾…å‡ åˆ†é’Ÿï¼Œè®©æ‰€æœ‰Podå¯åŠ¨å®Œæˆã€‚</p>
<ol>
<li>
<p><strong>æŸ¥çœ‹èŠ‚ç‚¹çŠ¶æ€</strong></p>
<pre><code class="hljs language-sh" lang="sh">kubectl get nodes
</code></pre>
<p>å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ åº”è¯¥çœ‹åˆ°<code>k8s-master</code>èŠ‚ç‚¹çš„çŠ¶æ€ä¸º <code>Ready</code>ã€‚</p>
</li>
<li>
<p><strong>æŸ¥çœ‹æ‰€æœ‰ Pod çŠ¶æ€</strong></p>
<pre><code class="hljs language-sh" lang="sh">kubectl get pods -n kube-system -o wide
</code></pre>
<p>æ£€æŸ¥æ‰€æœ‰æ ¸å¿ƒç»„ä»¶ï¼ˆå¦‚ coredns, flannel ç­‰ï¼‰æ˜¯å¦éƒ½å¤„äº <code>Running</code> çŠ¶æ€ã€‚</p>
</li>
</ol>
<h3 data-id="heading-4">ğŸ” æ£€æŸ¥èŠ‚ç‚¹å½“å‰æ±¡ç‚¹</h3>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç¡®è®¤ä½ çš„èŠ‚ç‚¹ä¸Šå½“å‰è®¾ç½®çš„æ±¡ç‚¹åˆ°åº•æ˜¯ä»€ä¹ˆã€‚ä¸åŒç‰ˆæœ¬çš„ Kubernetes æˆ–ä¸åŒçš„å®‰è£…æ–¹å¼å¯èƒ½ä¼šä½¿ç”¨ä¸åŒçš„æ±¡ç‚¹é”®åã€‚</p>
<p>è¯·æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹èŠ‚ç‚¹çš„è¯¦ç»†æ±¡ç‚¹ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">kubectl describe node k8s-master | grep Taints
</code></pre>
<p>æˆ–è€…ä½¿ç”¨è¿™ä¸ªæ›´æ¸…æ™°çš„æŸ¥çœ‹æ–¹å¼ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">kubectl get nodes -o=custom-columns=NAME:.metadata.name,TAINTS:.spec.taints
</code></pre>
<h3 data-id="heading-5">ğŸ› ï¸ å¯èƒ½çš„åŸå› ä¸è§£å†³æ–¹æ¡ˆ</h3>
<p>æ ¹æ®ä¸Šè¿°å‘½ä»¤çš„è¾“å‡ºï¼Œä½ å¯ä»¥å‚è€ƒä¸‹è¡¨åˆ¤æ–­å…·ä½“æƒ…å†µå¹¶é‡‡å–ç›¸åº”æ“ä½œï¼š</p>

























<table><thead><tr><th align="left">æƒ…å†µè¯´æ˜</th><th align="left">å¯èƒ½çš„åŸå› </th><th align="left">è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td align="left"><strong>è¾“å‡º <code>Taints: &lt;none&gt;</code></strong></td><td align="left">èŠ‚ç‚¹ä¸Šç¡®å®å·²æ— æ±¡ç‚¹ï¼ŒPod åº”å¯æ­£å¸¸è°ƒåº¦ã€‚</td><td align="left">æ— éœ€ä»»ä½•æ“ä½œï¼Œä½ çš„é›†ç¾¤å·²ç»å…è®¸åœ¨ Master èŠ‚ç‚¹ä¸Šè°ƒåº¦ Podã€‚</td></tr><tr><td align="left"><strong>è¾“å‡ºåŒ…å« <code>node-role.kubernetes.io/master:NoSchedule</code></strong></td><td align="left">åœ¨ç¨æ—©ç‰ˆæœ¬çš„ Kubernetesï¼ˆçº¦ 1.24 ä¹‹å‰ï¼‰ä¸­ï¼Œæ§åˆ¶å¹³é¢èŠ‚ç‚¹çš„æ±¡ç‚¹é”®åæ˜¯ <code>master</code> è€Œé <code>control-plane</code> ã€‚</td><td align="left">ä½¿ç”¨å¯¹åº”çš„æ±¡ç‚¹é”®åè¿›è¡Œç§»é™¤ï¼š<br/> <code>kubectl taint nodes --all node-role.kubernetes.io/master:NoSchedule-</code></td></tr><tr><td align="left"><strong>è¾“å‡ºåŒ…å«å…¶ä»–é”®åçš„æ±¡ç‚¹</strong></td><td align="left">å¯èƒ½å­˜åœ¨å…¶ä»–è‡ªå®šä¹‰æˆ–ç‰¹å®šç¯å¢ƒè®¾ç½®çš„æ±¡ç‚¹ã€‚</td><td align="left">æ ¹æ® <code>kubectl describe node</code> è¾“å‡ºä¸­æ˜¾ç¤ºçš„å®Œæ•´æ±¡ç‚¹ä¿¡æ¯ï¼Œä½¿ç”¨ <code>kubectl taint nodes &lt;node-name&gt; &lt;taint-key&gt;-</code> å‘½ä»¤ç§»é™¤ã€‚</td></tr></tbody></table>
<h3 data-id="heading-6">ğŸ’ éªŒè¯ç»“æœ</h3>
<p>æ— è®ºé‡‡ç”¨å“ªç§æ–¹æ¡ˆï¼Œæ‰§è¡ŒæˆåŠŸåï¼Œå†æ¬¡è¿è¡Œ <code>kubectl describe node k8s-master | grep Taints</code>ï¼Œåº”è¯¥ä¼šçœ‹åˆ° <code>Taints: &lt;none&gt;</code>ã€‚ä¹‹åï¼Œä½ å†éƒ¨ç½² Pod å°±ä¸ä¼šè¢«èŠ‚ç‚¹æ±¡ç‚¹æ‰€é˜»æŒ¡äº† ã€‚</p>
<h3 data-id="heading-7">ğŸ’¡ ç†è§£æ±¡ç‚¹ä¸å®¹å¿åº¦</h3>
<p>ç®€å•æ¥è¯´ï¼Œ<strong>æ±¡ç‚¹ï¼ˆTaintï¼‰</strong> æ˜¯æ‰“åœ¨èŠ‚ç‚¹ä¸Šçš„ä¸€ä¸ªâ€œæ ‡è®°â€ï¼Œç”¨äºæ‹’ç»ä¸èƒ½â€œå¿å—â€æ­¤æ ‡è®°çš„ Pod è°ƒåº¦ä¸Šæ¥ã€‚<strong>å®¹å¿åº¦ï¼ˆTolerationï¼‰</strong> åˆ™æ˜¯ Pod çš„â€œæ‰¿å—èƒ½åŠ›â€ï¼Œå£°æ˜è‡ªå·±èƒ½å®¹å¿å“ªäº›æ±¡ç‚¹ï¼Œä»è€Œå¯ä»¥è¢«è°ƒåº¦åˆ°å¯¹åº”èŠ‚ç‚¹ ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ§åˆ¶å¹³é¢èŠ‚ç‚¹ä¼šè¢«æ‰“ä¸Šæ±¡ç‚¹ï¼Œä»¥é˜²æ­¢ç”¨æˆ·çš„å·¥ä½œè´Ÿè½½åœ¨å¯èƒ½èµ„æºç´§å¼ çš„æ§åˆ¶å¹³é¢ä¸Šè¿è¡Œï¼Œç¡®ä¿é›†ç¾¤ç®¡ç†ç»„ä»¶è‡ªèº«ç¨³å®šã€‚å¯¹äºå•èŠ‚ç‚¹é›†ç¾¤ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦ç§»é™¤è¿™ä¸ªé™åˆ¶ã€‚</p>
<h3 data-id="heading-8">ğŸ“¥ é›†ç¾¤å¯åœè„šæœ¬</h3>
<p><strong><code>k8s-start.sh</code> (é›†ç¾¤å¯åŠ¨è„šæœ¬)</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-built_in">set</span> -e

<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨å¯åŠ¨K8sé›†ç¾¤..."</span>

<span class="hljs-comment"># 1. å¯åŠ¨DockeræœåŠ¡</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¯åŠ¨DockeræœåŠ¡..."</span>
systemctl start docker
systemctl <span class="hljs-built_in">enable</span> docker

<span class="hljs-comment"># 2. å¯åŠ¨kubeletæœåŠ¡</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¯åŠ¨kubeletæœåŠ¡..."</span>
systemctl <span class="hljs-built_in">enable</span> kubelet
systemctl start kubelet

<span class="hljs-comment"># 3. æ£€æŸ¥å¹¶åˆå§‹åŒ–MasterèŠ‚ç‚¹</span>
<span class="hljs-keyword">if</span> [ ! -f /etc/kubernetes/admin.conf ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨åˆå§‹åŒ–Kubernetes MasterèŠ‚ç‚¹..."</span>
    kubeadm init \
        --apiserver-advertise-address=$(hostname -I | awk <span class="hljs-string">'{print $1}'</span>) \
        --image-repository registry.aliyuncs.com/google_containers \
        --pod-network-cidr=10.244.0.0/16
    

    <span class="hljs-built_in">mkdir</span> -p <span class="hljs-variable">$HOME</span>/.kube
    <span class="hljs-built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="hljs-variable">$HOME</span>/.kube/config
    <span class="hljs-built_in">chown</span> $(<span class="hljs-built_in">id</span> -u):$(<span class="hljs-built_in">id</span> -g) <span class="hljs-variable">$HOME</span>/.kube/config
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"MasterèŠ‚ç‚¹å·²å­˜åœ¨ï¼Œè·³è¿‡åˆå§‹åŒ–ã€‚"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># 4. å®‰è£…Flannelç½‘ç»œæ’ä»¶</span>
<span class="hljs-keyword">if</span> ! kubectl get pods -n kube-system | grep -q flannel; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨å®‰è£…Flannelç½‘ç»œæ’ä»¶..."</span>
    kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Flannelç½‘ç»œæ’ä»¶å·²å®‰è£…ã€‚"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment"># 5. æ”¹è¿›çš„æ±¡ç‚¹ç§»é™¤é€»è¾‘ï¼šè‡ªåŠ¨æ£€æµ‹å¹¶ç§»é™¤æ±¡ç‚¹</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨æ£€æŸ¥å¹¶ç§»é™¤MasterèŠ‚ç‚¹æ±¡ç‚¹ï¼ˆå•èŠ‚ç‚¹é›†ç¾¤ï¼‰..."</span>

<span class="hljs-comment"># æ£€æŸ¥å½“å‰æ±¡ç‚¹</span>
TAINTS=$(kubectl describe node $(hostname) | grep -i taints | awk <span class="hljs-string">'{print $2}'</span>)
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å½“å‰æ±¡ç‚¹çŠ¶æ€: <span class="hljs-variable">$TAINTS</span>"</span>

<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$TAINTS</span>"</span> != <span class="hljs-string">"&lt;none&gt;"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-comment"># å°è¯•ç§»é™¤å¯èƒ½å­˜åœ¨çš„ä¸¤ç§æ±¡ç‚¹é”®å</span>
    kubectl taint nodes --all node-role.kubernetes.io/master:NoSchedule- 2&gt;/dev/null || <span class="hljs-literal">true</span>
    kubectl taint nodes --all node-role.kubernetes.io/control-plane:NoSchedule- 2&gt;/dev/null || <span class="hljs-literal">true</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"æ±¡ç‚¹ç§»é™¤å‘½ä»¤æ‰§è¡Œå®Œæˆã€‚"</span>
    
    <span class="hljs-comment"># éªŒè¯æ±¡ç‚¹æ˜¯å¦å·²ç§»é™¤</span>
    <span class="hljs-built_in">sleep</span> 5
    NEW_TAINTS=$(kubectl describe node $(hostname) | grep -i taints | awk <span class="hljs-string">'{print $2}'</span>)
    <span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$NEW_TAINTS</span>"</span> = <span class="hljs-string">"&lt;none&gt;"</span> ]; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… MasterèŠ‚ç‚¹æ±¡ç‚¹å·²æˆåŠŸç§»é™¤ã€‚"</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âš ï¸  æ±¡ç‚¹å¯èƒ½ä»å­˜åœ¨ï¼Œå½“å‰çŠ¶æ€: <span class="hljs-variable">$NEW_TAINTS</span>"</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"å¦‚éœ€æ‰‹åŠ¨ç§»é™¤ï¼Œè¯·æ‰§è¡Œ: kubectl taint nodes --all node-role.kubernetes.io/master:NoSchedule-"</span>
    <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… MasterèŠ‚ç‚¹æ— æ±¡ç‚¹ï¼Œæ— éœ€å¤„ç†ã€‚"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"K8sé›†ç¾¤å¯åŠ¨å®Œæˆï¼"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"èŠ‚ç‚¹çŠ¶æ€:"</span>
kubectl get nodes
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ç³»ç»ŸPodçŠ¶æ€:"</span>
kubectl get pods -n kube-system
</code></pre>
<p><strong><code>k8s-stop.sh</code> (é›†ç¾¤åœæ­¢è„šæœ¬)</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-built_in">set</span> -e

<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨åœæ­¢K8sé›†ç¾¤..."</span>

<span class="hljs-comment"># 1. è·å–èŠ‚ç‚¹åç§°</span>
NODE_NAME=$(hostname)
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨å¤„ç†èŠ‚ç‚¹: <span class="hljs-variable">$NODE_NAME</span>"</span>

<span class="hljs-comment"># 2. æ’ç©ºå½“å‰èŠ‚ç‚¹ï¼ˆä¼˜é›…ç»ˆæ­¢Podï¼‰</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"æ­£åœ¨æ’ç©ºèŠ‚ç‚¹..."</span>
kubectl drain <span class="hljs-variable">$NODE_NAME</span> --delete-emptydir-data --ignore-daemonsets --<span class="hljs-built_in">timeout</span>=300s --force || {
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âš ï¸  æ’ç©ºèŠ‚ç‚¹è¿‡ç¨‹ä¸­å¯èƒ½å‡ºç°è­¦å‘Šï¼Œç»§ç»­æ‰§è¡Œåœæ­¢æ“ä½œ..."</span>
}

<span class="hljs-comment"># 3. åœæ­¢kubeletæœåŠ¡</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"åœæ­¢kubeletæœåŠ¡..."</span>
systemctl stop kubelet

<span class="hljs-comment"># 4. åœæ­¢DockeræœåŠ¡</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"åœæ­¢DockeræœåŠ¡..."</span>
systemctl stop docker

<span class="hljs-built_in">echo</span> <span class="hljs-string">"K8sé›†ç¾¤å·²åœæ­¢ã€‚"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å¦‚éœ€é‡æ–°å¯åŠ¨ï¼Œè¯·è¿è¡Œ: ./k8s-start.sh"</span>
</code></pre>
<h3 data-id="heading-9">ğŸ”§ è„šæœ¬ä½¿ç”¨è¯´æ˜</h3>
<ol>
<li>
<p><strong>ä¿å­˜è„šæœ¬</strong>ï¼šå°†å†…å®¹åˆ†åˆ«ä¿å­˜ä¸º <code>k8s-start.sh</code> å’Œ <code>k8s-stop.sh</code></p>
</li>
<li>
<p><strong>èµ‹äºˆæ‰§è¡Œæƒé™</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">chmod</span> +x k8s-start.sh k8s-stop.sh
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨è„šæœ¬</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨é›†ç¾¤</span>
./k8s-start.sh

<span class="hljs-comment"># åœæ­¢é›†ç¾¤</span>
./k8s-stop.sh
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ä»¬æ¥è¯´ä¸€è¯´ Redis IO å¤šè·¯å¤ç”¨æ¨¡å‹]]></title>    <link>https://juejin.cn/post/7580198093153976366</link>    <guid>https://juejin.cn/post/7580198093153976366</guid>    <pubDate>2025-12-05T12:30:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580198093153976366" data-draft-id="7580183671531290662" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ä»¬æ¥è¯´ä¸€è¯´ Redis IO å¤šè·¯å¤ç”¨æ¨¡å‹"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-05T12:30:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜å°å‡"/> <meta itemprop="url" content="https://juejin.cn/user/2285197690931932"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ä»¬æ¥è¯´ä¸€è¯´ Redis IO å¤šè·¯å¤ç”¨æ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2285197690931932/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜å°å‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:30:42.000Z" title="Fri Dec 05 2025 12:30:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h3 data-id="heading-0">Â å‰è¨€</h3>
<p>Redis é‡‡ç”¨<strong>å•çº¿ç¨‹ Reactor æ¨¡å¼</strong>å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå…¶é«˜æ€§èƒ½çš„æ ¸å¿ƒå°±åœ¨äº <strong>I/O å¤šè·¯å¤ç”¨</strong> æŠ€æœ¯ã€‚</p>
<h3 data-id="heading-1">ä¸€ã€åŸºç¡€æ¦‚å¿µ</h3>
<h4 data-id="heading-2">1. ä»€ä¹ˆæ˜¯ I/O å¤šè·¯å¤ç”¨ï¼Ÿ</h4>
<ul>
<li><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šä½¿ç”¨ä¸€ä¸ªè¿›ç¨‹/çº¿ç¨‹åŒæ—¶ç›‘å¬å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼ˆSocketï¼‰ï¼Œå½“æŸäº›æè¿°ç¬¦å°±ç»ªï¼ˆå¯è¯»/å¯å†™ï¼‰æ—¶ï¼Œé€šçŸ¥ç¨‹åºè¿›è¡Œç›¸åº”æ“ä½œã€‚</li>
<li><strong>è§£å†³çš„é—®é¢˜</strong>ï¼šé¿å…ä¸ºæ¯ä¸ªè¿æ¥åˆ›å»ºçº¿ç¨‹/è¿›ç¨‹å¸¦æ¥çš„èµ„æºæ¶ˆè€—ï¼Œå®ç°é«˜å¹¶å‘è¿æ¥å¤„ç†ã€‚</li>
</ul>
<h4 data-id="heading-3">2. Redis çš„æ¶æ„é€‰æ‹©</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¼ ç»Ÿå¤šçº¿ç¨‹æ¨¡å‹ vs Rediså•çº¿ç¨‹+å¤šè·¯å¤ç”¨</span>
ä¼ ç»Ÿæ¨¡å‹ï¼š1ä¸ªè¿æ¥ â†’ 1ä¸ªçº¿ç¨‹ â†’ é«˜å†…å­˜æ¶ˆè€—ã€ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€å¤§
Redisæ¨¡å‹ï¼šNä¸ªè¿æ¥ â†’ 1ä¸ªçº¿ç¨‹ + I/Oå¤šè·¯å¤ç”¨ â†’ ä½å†…å­˜ã€æ— é”ã€é«˜æ•ˆ
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-4">äºŒã€Redis ä¸­å¤šè·¯å¤ç”¨çš„å®ç°</h3>
<h4 data-id="heading-5">1. æ”¯æŒçš„åº•å±‚æœºåˆ¶</h4>
<p>Redis åœ¨ä¸åŒæ“ä½œç³»ç»Ÿä¸‹ä½¿ç”¨ä¸åŒçš„å¤šè·¯å¤ç”¨å®ç°ï¼š</p>
<ul>
<li><strong>Linux</strong>: <code>epoll</code>ï¼ˆæœ€ä¼˜é€‰æ‹©ï¼‰</li>
<li><strong>macOS/BSD</strong>: <code>kqueue</code></li>
<li><strong>Solaris</strong>: <code>evport</code></li>
<li><strong>å…¶ä»– Unix</strong>: <code>select</code>ï¼ˆæ€§èƒ½è¾ƒå·®ï¼Œå¤‡é€‰ï¼‰</li>
</ul>
<p>Redis é€šè¿‡ <code>ae</code>ï¼ˆAsync Eventï¼‰æŠ½è±¡å±‚ç»Ÿä¸€å°è£…è¿™äº›æ¥å£ã€‚</p>
<h4 data-id="heading-6">2. æ ¸å¿ƒå·¥ä½œæµç¨‹</h4>
<ol>
<li>
<p>åˆå§‹åŒ–æœåŠ¡å™¨ï¼Œç›‘å¬ç«¯å£</p>
</li>
<li>
<p>å°†ç›‘å¬å¥—æ¥å­—æ³¨å†Œåˆ°å¤šè·¯å¤ç”¨å™¨</p>
</li>
<li>
<p>è¿›å…¥äº‹ä»¶å¾ªç¯ï¼š</p>
</li>
</ol>
<ul>
<li>é€šè¿‡å¤šè·¯å¤ç”¨å™¨ç­‰å¾…äº‹ä»¶ï¼ˆé˜»å¡è°ƒç”¨ï¼‰</li>
<li>äº‹ä»¶å°±ç»ªåè¿”å›ï¼š</li>
</ul>

<ul>
<li>
<ul>
<li>æ–°è¿æ¥åˆ°è¾¾ â†’ æ¥å—è¿æ¥ï¼Œæ³¨å†Œè¯»äº‹ä»¶</li>
<li>æ•°æ®å¯è¯» â†’ è¯»å–å‘½ä»¤ï¼Œè§£æï¼Œæ”¾å…¥å‘½ä»¤é˜Ÿåˆ—</li>
<li>å¯å†™äº‹ä»¶ â†’ å°†å“åº”æ•°æ®å‘é€ç»™å®¢æˆ·ç«¯</li>
</ul>
</li>
</ul>

<ul>
<li>c) å¤„ç†æ—¶é—´äº‹ä»¶ï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰</li>
</ul>
<ol start="4">
<li>å¾ªç¯æ‰§è¡Œæ­¥éª¤ 3</li>
</ol>
<h3 data-id="heading-7">ä¸‰ã€æºç çº§å®ç°è§£æ</h3>
<h4 data-id="heading-8">1. äº‹ä»¶å¾ªç¯ç»“æ„</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">aeEventLoop</span> {
    <span class="hljs-type">int</span> maxfd;                   <span class="hljs-comment">// å½“å‰æœ€å¤§æ–‡ä»¶æè¿°ç¬¦</span>
    <span class="hljs-type">int</span> setsize;                 <span class="hljs-comment">// ç›‘å¬çš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡ä¸Šé™</span>
    <span class="hljs-type">long</span> <span class="hljs-type">long</span> timeEventNextId;   <span class="hljs-comment">// ä¸‹ä¸€ä¸ªæ—¶é—´äº‹ä»¶ID</span>
    aeFileEvent *events;         <span class="hljs-comment">// æ–‡ä»¶äº‹ä»¶æ•°ç»„</span>
    aeFiredEvent *fired;         <span class="hljs-comment">// å°±ç»ªäº‹ä»¶æ•°ç»„</span>
    aeTimeEvent *timeEventHead;  <span class="hljs-comment">// æ—¶é—´äº‹ä»¶é“¾è¡¨å¤´</span>
    <span class="hljs-type">void</span> *apidata;               <span class="hljs-comment">// å¤šè·¯å¤ç”¨å™¨çš„ç‰¹å®šæ•°æ®ï¼ˆepoll/kqueueç­‰ï¼‰</span>
    aeBeforeSleepProc *beforesleep;
    aeBeforeSleepProc *aftersleep;
} aeEventLoop;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-9">2. äº‹ä»¶æ³¨å†Œè¿‡ç¨‹</h4>
<pre><code class="hljs language-ini" lang="ini">// ä»¥ epoll ä¸ºä¾‹çš„ç®€åŒ–é€»è¾‘
int aeCreateFileEvent(aeEventLoop *eventLoop, int fd, int mask, 
aeFileProc *proc, void *clientData) {
    // 1. åœ¨ events æ•°ç»„ä¸­è®°å½•äº‹ä»¶å¤„ç†å™¨
    aeFileEvent *<span class="hljs-attr">fe</span> = &amp;eventLoop-&gt;events[fd]<span class="hljs-comment">;</span>

    // 2. è°ƒç”¨åº•å±‚ API æ³¨å†Œäº‹ä»¶
    if (aeApiAddEvent(eventLoop, fd, mask) == -1)
        return -1<span class="hljs-comment">;</span>

    // 3. è®¾ç½®å›è°ƒå‡½æ•°
    fe-&gt;mask |= mask<span class="hljs-comment">;</span>
    if (mask &amp; AE_READABLE) fe-&gt;<span class="hljs-attr">rfileProc</span> = proc<span class="hljs-comment">;</span>
    if (mask &amp; AE_WRITABLE) fe-&gt;<span class="hljs-attr">wfileProc</span> = proc<span class="hljs-comment">;</span>
    fe-&gt;<span class="hljs-attr">clientData</span> = clientData<span class="hljs-comment">;</span>

    return 0<span class="hljs-comment">;</span>
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-10">3. äº‹ä»¶åˆ†å‘å¾ªç¯</h4>
<pre><code class="hljs language-scss" lang="scss">void <span class="hljs-built_in">aeMain</span>(aeEventLoop *eventLoop) {
    eventLoop-&gt;stop = <span class="hljs-number">0</span>;
    while (!eventLoop-&gt;stop) {
        <span class="hljs-comment">// å¤„ç†äº‹ä»¶å‰æ‰§è¡Œçš„æ“ä½œï¼ˆå¦‚å¤„ç†å¼‚æ­¥ä»»åŠ¡ï¼‰</span>
        if (eventLoop-&gt;beforesleep != NULL)
            eventLoop-&gt;<span class="hljs-built_in">beforesleep</span>(eventLoop);

        <span class="hljs-comment">// æ ¸å¿ƒï¼šå¤šè·¯å¤ç”¨ç­‰å¾…äº‹ä»¶</span>
        <span class="hljs-built_in">aeProcessEvents</span>(eventLoop, AE_ALL_EVENTS | AE_CALL_AFTER_SLEEP);
    }
}

int <span class="hljs-built_in">aeProcessEvents</span>(aeEventLoop *eventLoop, int flags) {
    <span class="hljs-comment">// 1. è®¡ç®—æœ€è¿‘çš„æ—¶é—´äº‹ä»¶ï¼Œç¡®å®šå¤šè·¯å¤ç”¨çš„è¶…æ—¶æ—¶é—´</span>
    <span class="hljs-comment">// 2. è°ƒç”¨å¤šè·¯å¤ç”¨APIï¼ˆepoll_wait/kevent/selectç­‰ï¼‰</span>
    numevents = <span class="hljs-built_in">aeApiPoll</span>(eventLoop, tvp);

    <span class="hljs-comment">// 3. éå†å°±ç»ªäº‹ä»¶ï¼Œè°ƒç”¨ç›¸åº”çš„å›è°ƒå‡½æ•°</span>
    for (j = <span class="hljs-number">0</span>; j &lt; numevents; j++) {
        aeFileEvent *fe = &amp;eventLoop-&gt;events<span class="hljs-selector-attr">[eventLoop-&gt;fired[j]</span><span class="hljs-selector-class">.fd</span>];

        if (fe-&gt;mask &amp; mask &amp; AE_READABLE) {
            fe-&gt;<span class="hljs-built_in">rfileProc</span>(eventLoop, fd, fe-&gt;clientData, mask);
        }
        if (fe-&gt;mask &amp; mask &amp; AE_WRITABLE) {
            fe-&gt;<span class="hljs-built_in">wfileProc</span>(eventLoop, fd, fe-&gt;clientData, mask);
        }
    }

    <span class="hljs-comment">// 4. å¤„ç†æ—¶é—´äº‹ä»¶</span>
    if (flags &amp; AE_TIME_EVENTS)
        processed += <span class="hljs-built_in">processTimeEvents</span>(eventLoop);

    return processed;
}
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-11">å››ã€æ€§èƒ½ä¼˜åŒ–ç»†èŠ‚</h3>
<h4 data-id="heading-12">1. ä¸ºä»€ä¹ˆ Redis èƒ½å•çº¿ç¨‹å¤„ç†é«˜å¹¶å‘ï¼Ÿ</h4>
<ul>
<li><strong>çº¯å†…å­˜æ“ä½œ</strong>ï¼šæ•°æ®æ“ä½œåœ¨å†…å­˜ä¸­å®Œæˆï¼Œé€Ÿåº¦æå¿«</li>
<li><strong>éé˜»å¡I/O</strong>ï¼šæ‰€æœ‰Socketè®¾ç½®ä¸ºéé˜»å¡æ¨¡å¼</li>
<li><strong>æ‰¹é‡å‘½ä»¤å¤„ç†</strong>ï¼šæ”¯æŒç®¡é“ï¼ˆpipelineï¼‰ï¼Œå‡å°‘ç½‘ç»œå¾€è¿”</li>
<li><strong>é«˜æ•ˆæ•°æ®ç»“æ„</strong>ï¼šç²¾å¿ƒä¼˜åŒ–çš„æ•°æ®ç»“æ„å®ç°</li>
</ul>
<h4 data-id="heading-13">2. epoll çš„ä¼˜åŠ¿ï¼ˆLinuxç¯å¢ƒä¸‹ï¼‰</h4>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-section"># select/poll çš„å±€é™æ€§</span>
<span class="hljs-bullet">1.</span> æ¯æ¬¡è°ƒç”¨éƒ½éœ€è¦ä¼ é€’æ‰€æœ‰ç›‘å¬çš„fdï¼ˆç”¨æˆ·ç©ºé—´â†’å†…æ ¸ç©ºé—´å¤åˆ¶ï¼‰
<span class="hljs-bullet">2.</span> å†…æ ¸éœ€è¦éå†æ‰€æœ‰fdæ£€æŸ¥å°±ç»ªçŠ¶æ€ O(n)
<span class="hljs-bullet">3.</span> æ”¯æŒçš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡æœ‰é™ï¼ˆselecté»˜è®¤1024ï¼‰

<span class="hljs-section"># epoll çš„ä¼˜åŒ–</span>
<span class="hljs-bullet">1.</span> epoll<span class="hljs-emphasis">_create: åˆ›å»ºepollå®ä¾‹
2. epoll_</span>ctl: æ·»åŠ /ä¿®æ”¹/åˆ é™¤fdï¼ˆä»…å¢é‡æ›´æ–°ï¼‰
<span class="hljs-bullet">3.</span> epoll<span class="hljs-emphasis">_wait: è·å–å°±ç»ªäº‹ä»¶ï¼ˆä»…è¿”å›å°±ç»ªçš„fdï¼‰
4. ä½¿ç”¨çº¢é»‘æ ‘ç®¡ç†fdï¼Œå“ˆå¸Œè¡¨å­˜å‚¨å°±ç»ªåˆ—è¡¨ O(1)å¤æ‚åº¦
</span></code></pre>
<h3 data-id="heading-14">äº”ã€å¤šçº¿ç¨‹æ‰©å±•ï¼ˆRedis 6.0+ï¼‰</h3>
<p>Redis 6.0 å¼•å…¥äº†<strong>å¤šçº¿ç¨‹I/O</strong>ï¼Œä½†æ³¨æ„ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72ef0dc8a5a8468d8708ad1ecd7e3aec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5bCP5YGH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765542642&amp;x-signature=F7Yb4ulf8CPbXHDYLmN3RKSuwqc%3D" alt="" loading="lazy"/>â€‹</p>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>
<strong>é…ç½®ç¤ºä¾‹</strong>ï¼ˆredis.confï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼€å¯å¤šçº¿ç¨‹I/O</span>
io-threads 4          <span class="hljs-comment"># å¯ç”¨4ä¸ªI/Oçº¿ç¨‹ï¼ˆé€šå¸¸è®¾ä¸ºCPUæ ¸å¿ƒæ•°ï¼‰</span>
io-threads-do-reads <span class="hljs-built_in">yes</span>  <span class="hljs-comment"># å¯ç”¨è¯»å¤šçº¿ç¨‹ï¼ˆå†™é»˜è®¤å¼€å¯ï¼‰</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-15">å…­ã€ä¸å…¶ä»–æ¨¡å‹çš„å¯¹æ¯”</h3>















































<table><thead><tr><th/><th/><th/><th/><th/></tr></thead><tbody><tr><td>æ¨¡å‹</td><td>è¿æ¥ç®¡ç†</td><td>å¹¶å‘èƒ½åŠ›</td><td>å¤æ‚åº¦</td><td>é€‚ç”¨åœºæ™¯</td></tr><tr><td><strong>é˜»å¡I/O+å¤šçº¿ç¨‹</strong></td><td>æ¯è¿æ¥ä¸€çº¿ç¨‹</td><td>å—é™äºçº¿ç¨‹æ•°</td><td>é«˜</td><td>ä¼ ç»Ÿæ•°æ®åº“</td></tr><tr><td><strong>å¤šè¿›ç¨‹</strong></td><td>æ¯è¿æ¥ä¸€è¿›ç¨‹</td><td>å—é™äºè¿›ç¨‹æ•°</td><td>é«˜</td><td>Apache prefork</td></tr><tr><td><strong>å¼‚æ­¥I/O</strong></td><td>å®Œå…¨å¼‚æ­¥</td><td>éå¸¸é«˜</td><td>å¾ˆé«˜</td><td>Nginx, Node.js</td></tr><tr><td><strong>Redisæ¨¡å‹</strong></td><td>å¤šè·¯å¤ç”¨+å•çº¿ç¨‹</td><td>é«˜ï¼ˆ10ä¸‡+QPSï¼‰</td><td>ä¸­</td><td>å†…å­˜æ•°æ®åº“ã€ç¼“å­˜</td></tr></tbody></table>
<h3 data-id="heading-16">ä¸ƒã€å®é™…ç›‘æ§ä¸è°ƒä¼˜</h3>
<h4 data-id="heading-17">1. ç›‘æ§æŒ‡æ ‡</h4>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æŸ¥çœ‹Redisäº‹ä»¶å¾ªç¯çŠ¶æ€</span>
redis-cli info stats | <span class="hljs-keyword">grep</span> -E <span class="hljs-string">"(total_connections_received|instantaneous_ops_per_sec|total_commands_processed)"</span>

<span class="hljs-comment"># æŸ¥çœ‹ç½‘ç»œI/O</span>
redis-cli info stats | <span class="hljs-keyword">grep</span> -E <span class="hljs-string">"(total_net_input_bytes|total_net_output_bytes|rejected_connections)"</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h4 data-id="heading-18">2. æ€§èƒ½ç“¶é¢ˆè¯†åˆ«</h4>
<ul>
<li><strong>CPUç“¶é¢ˆ</strong>ï¼šå•æ ¸è·‘æ»¡ï¼Œè€ƒè™‘åˆ†ç‰‡æˆ–å‡çº§CPU</li>
<li><strong>ç½‘ç»œç“¶é¢ˆ</strong>ï¼šç½‘ç»œååè¾¾åˆ°ä¸Šé™</li>
<li><strong>å†…å­˜ç“¶é¢ˆ</strong>ï¼šOOMæˆ–é¢‘ç¹äº¤æ¢</li>
<li><strong>é˜»å¡æ“ä½œ</strong>ï¼šæ…¢æŸ¥è¯¢ã€å¤§keyã€æŒä¹…åŒ–é˜»å¡</li>
</ul>
<h4 data-id="heading-19">3. é…ç½®å»ºè®®</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è°ƒæ•´æœ€å¤§è¿æ¥æ•°ï¼ˆæ ¹æ®å®é™…æƒ…å†µï¼‰</span>
maxclients 10000

<span class="hljs-comment"># è°ƒæ•´TCP backlog</span>
tcp-backlog 511

<span class="hljs-comment"># è°ƒæ•´å®¢æˆ·ç«¯è¶…æ—¶</span>
<span class="hljs-built_in">timeout</span> 0  <span class="hljs-comment"># æ°¸ä¸æ–­å¼€ï¼Œé€‚åˆå†…ç½‘</span>

<span class="hljs-comment"># åˆç†è®¾ç½®å†…å­˜æ·˜æ±°ç­–ç•¥</span>
maxmemory-policy allkeys-lru
</code></pre>
<h3 data-id="heading-20">å…«ã€æ€»ç»“</h3>
<p>Redis çš„ I/O å¤šè·¯å¤ç”¨æ¨¡å‹æ˜¯å…¶é«˜æ€§èƒ½çš„åŸºçŸ³ï¼š</p>
<ol>
<li><strong>å•çº¿ç¨‹äº‹ä»¶å¾ªç¯</strong>é¿å…äº†é”ç«äº‰å’Œä¸Šä¸‹æ–‡åˆ‡æ¢</li>
<li><strong>å¤šè·¯å¤ç”¨æŠ€æœ¯</strong>é«˜æ•ˆç®¡ç†å¤§é‡è¿æ¥</li>
<li><strong>çº¯å†…å­˜æ“ä½œ</strong>ä¿è¯æå¿«çš„å“åº”é€Ÿåº¦</li>
<li><strong>æ¸è¿›å¼æ¼”è¿›</strong>åœ¨ä¿æŒæ ¸å¿ƒç®€å•çš„åŒæ—¶å¼•å…¥å¤šçº¿ç¨‹ä¼˜åŒ–I/O</li>
</ol>
<h3 data-id="heading-21">é¢è¯•å›ç­”</h3>
<p><strong>Redis ä¹‹æ‰€ä»¥è¿™ä¹ˆå¿«ï¼ŒIO å¤šè·¯å¤ç”¨æ¨¡å‹æ˜¯å¾ˆå…³é”®çš„ä¸€ç‚¹ã€‚æˆ‘é€šä¿—åœ°è§£é‡Šä¸€ä¸‹å®ƒçš„å·¥ä½œåŸç†ï¼š</strong></p>
<p>å‡è®¾ Redis æ˜¯ä¸€ä¸ªé¤å…æœåŠ¡å‘˜ï¼Œä¼ ç»Ÿçš„é˜»å¡ IO å°±åƒæ˜¯ä¸€ä¸ªæœåŠ¡å‘˜æ¯æ¬¡åªæœåŠ¡ä¸€æ¡Œå®¢äººï¼Œç‚¹èœã€ä¸Šèœéƒ½è¦ç­‰è¿™ä¸€æ¡Œå®Œäº‹äº†æ‰èƒ½æœåŠ¡ä¸‹ä¸€æ¡Œï¼Œè¿™æ ·æ•ˆç‡å¾ˆä½ã€‚</p>
<p>è€Œ IO å¤šè·¯å¤ç”¨å‘¢ï¼Œå°±åƒæ˜¯è¿™ä¸ªæœåŠ¡å‘˜åŒæ—¶ç›‘å¬å¤šä¸ªæ¡Œå­çš„å‘¼å«é“ƒã€‚æœåŠ¡å‘˜ç«™åœ¨å¤§å…é‡Œï¼Œå“ªä¸€æ¡Œæœ‰éœ€æ±‚ï¼ˆæ¯”å¦‚å®¢æˆ·ç«¯å‘æ¥äº†è¯»å†™è¯·æ±‚ï¼‰ï¼Œä»–å°±è¿‡å»å¤„ç†ä¸€ä¸‹ï¼Œå¤„ç†å®Œé©¬ä¸Šå›æ¥ç»§ç»­ç›‘å¬ã€‚è¿™æ ·ä¸€ä¸ªäººå°±èƒ½åŒæ—¶ç…§é¡¾å¾ˆå¤šæ¡Œå®¢äººï¼Œæ•ˆç‡å¤§å¤§æå‡ã€‚</p>
<p><strong>åœ¨æŠ€æœ¯å®ç°ä¸Š</strong>ï¼ŒRedis åº•å±‚ä½¿ç”¨çš„æ˜¯åƒ <code>select</code>ã€<code>poll</code>è¿™æ ·çš„ç³»ç»Ÿè°ƒç”¨ã€‚å®ƒä»¬çš„ä½œç”¨å°±æ˜¯å¸® Redis ç›‘å¬å¤§é‡çš„ç½‘ç»œè¿æ¥ï¼Œä¸€æ—¦æŸä¸ªè¿æ¥æœ‰æ•°æ®å¯è¯»æˆ–å¯å†™ï¼Œå°±é€šçŸ¥ Redis å»å¤„ç†ï¼Œè€Œä¸ç”¨ä¸ºæ¯ä¸ªè¿æ¥åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»é˜»å¡ç­‰å¾…ã€‚</p>
<p><strong>è¿™æ ·åšçš„å¥½å¤„å¾ˆæ˜æ˜¾ï¼š</strong></p>
<ol>
<li><strong>é«˜æ€§èƒ½</strong>ï¼šå•çº¿ç¨‹å°±èƒ½å¤„ç†å¤§é‡å¹¶å‘è¿æ¥ï¼Œé¿å…äº†å¤šçº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ã€‚</li>
<li><strong>ä½å»¶è¿Ÿ</strong>ï¼šå› ä¸ºäº‹ä»¶æ˜¯å³æ—¶æœ‰å“åº”å°±å¤„ç†ï¼Œä¸ä¼šé•¿æ—¶é—´é˜»å¡ã€‚</li>
<li><strong>èµ„æºçœ</strong>ï¼šä¸éœ€è¦ä¸ºæ¯ä¸ªè¿æ¥åˆ›å»ºçº¿ç¨‹ï¼Œå†…å­˜å’Œ CPU æ¶ˆè€—éƒ½æ›´å°ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[nginx é…ç½®é•¿è·‘ï¼ˆä¸‹ï¼‰ï¼šå…¨å±€å˜é‡ã€è°ƒè¯•æ€è·¯ä¸å¯è§‚æµ‹æ€§]]></title>    <link>https://juejin.cn/post/7580204190027694086</link>    <guid>https://juejin.cn/post/7580204190027694086</guid>    <pubDate>2025-12-05T12:38:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580204190027694086" data-draft-id="7580188321323417606" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="nginx é…ç½®é•¿è·‘ï¼ˆä¸‹ï¼‰ï¼šå…¨å±€å˜é‡ã€è°ƒè¯•æ€è·¯ä¸å¯è§‚æµ‹æ€§"/> <meta itemprop="keywords" content="åç«¯,Nginx"/> <meta itemprop="datePublished" content="2025-12-05T12:38:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…”å­é›¶1024"/> <meta itemprop="url" content="https://juejin.cn/user/3743194047592062"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            nginx é…ç½®é•¿è·‘ï¼ˆä¸‹ï¼‰ï¼šå…¨å±€å˜é‡ã€è°ƒè¯•æ€è·¯ä¸å¯è§‚æµ‹æ€§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3743194047592062/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…”å­é›¶1024
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T12:38:41.000Z" title="Fri Dec 05 2025 12:38:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{line-height:1.75;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;letter-spacing:2px;background-image:linear-gradient(90deg,rgba(50,0,0,.05) 3%,transparent 0),linear-gradient(1turn,rgba(50,0,0,.05) 3%,transparent 0);background-size:20px 20px;background-position:50%;word-break:break-word;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body h1{font-size:23px;margin-bottom:5px;font-weight:700;padding-left:10px;border-left:5px solid #773098}.markdown-body h2{font-size:19px;font-weight:700;padding-left:10px;border-left:5px solid #916dd5}.markdown-body h3{font-size:17px;font-weight:700;padding-left:10px;border-left:5px solid #d89cf6}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{font-size:14px;margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;max-width:100%;margin:1em 0;border-radius:6px;box-shadow:2px 4px 7px #999;user-select:none}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{padding:.2em .5em;font-weight:700;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-size:1em;color:#916dd5;word-break:break-word;overflow-x:auto;background-color:none;border-radius:2px}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;font-family:-apple-system-font,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif;font-weight:400;font-size:.9em;padding:16px 12px;margin:0;color:#333;word-break:normal;overflow-x:auto;background:#f8f8f8;scroll-behavior:smooth}.markdown-body a{text-decoration:none;color:#916dd5;font-weight:700;border-bottom:1px solid #916dd5}.markdown-body a:active,.markdown-body a:hover{color:#773098}.markdown-body table{display:inline-block!important;font-size:14px;width:auto;max-width:100%;overflow:auto;border:1px solid #916dd5;border-collapse:collapse}.markdown-body thead{background-color:#916dd5;color:#fff;text-align:left}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;border:1px solid #916dd5}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #d89cf6;background-color:#f4eeff}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0;line-height:26px}.markdown-body ol,.markdown-body ul{padding-left:28px;list-style-type:circle}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{color:#916dd5;font-weight:700}.markdown-body b:before,.markdown-body strong:before{content:"ã€Œ"}.markdown-body b:after,.markdown-body strong:after{content:"ã€"}.markdown-body em,.markdown-body i{color:#916dd5}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="github-gist">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#fff;color:#333}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#d73a49}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-symbol{color:#0086b3}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#6f42c1}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.hljs-number{color:#005cc5}.hljs-string{color:#032f62}</style><p>å…³é”®è¯ï¼šnginx / å†…ç½®å˜é‡ / <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>e</mi><mi>m</mi><mi>o</mi><mi>t</mi><msub><mi>e</mi><mi>a</mi></msub><mi>d</mi><mi>d</mi><mi>r</mi><mi mathvariant="normal">/</mi></mrow><annotation encoding="application/x-tex">remote_addr / </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">re</span><span class="mord mathnormal">m</span><span class="mord mathnormal">o</span><span class="mord mathnormal">t</span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"/><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span/></span></span></span></span></span><span class="mord mathnormal">dd</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord">/</span></span></span></span></span>request_uri / æ—¥å¿— / è°ƒè¯• / å¯è§‚æµ‹æ€§ / è¿ç»´æ’éšœ</p>
<h2 data-id="heading-0">å¼•è¨€ï¼šå½“ä½ åªå‰©ä¸‹ä¸€è¡Œ access.log å¯ä»¥çœ‹</h2>
<p>çº¿ä¸Šå‡ºé—®é¢˜çš„æ—¶å€™ï¼Œnginx å¾€å¾€æ˜¯ç¦»ç”¨æˆ·æœ€è¿‘ã€ç¦»åº”ç”¨æœ€è¿œçš„ä¸€å±‚ã€‚<br/>
å¦‚æœè¿™æ—¶å€™ï¼š</p>
<ul>
<li>åº”ç”¨æ—¥å¿—è¿˜æ²¡å†™åˆ°ï¼›</li>
<li>APM æ²¡æœ‰è¦†ç›–åˆ°å…¥å£å±‚ï¼›</li>
<li>ç›‘æ§å›¾ä¸Šåªçœ‹åˆ°ä¸€æ¡å¹³èººçš„ 5xx æ›²çº¿ï¼›</li>
</ul>
<p>ä½ æœ€åèƒ½æŠ“å¾—ä½çš„ï¼Œå¯èƒ½å°±åªæœ‰ <strong>nginx çš„è®¿é—®æ—¥å¿—å’Œé‚£ä¸€å † <code>$</code> å¼€å¤´çš„å†…ç½®å˜é‡</strong>ã€‚</p>
<p>å¾ˆå¤šäººçŸ¥é“ <code>$remote_addr</code>ã€<code>$request_uri</code> è¿™äº›å˜é‡çš„å­˜åœ¨ï¼Œ<br/>
ä½†å¾ˆå°‘ç³»ç»Ÿæ€§åœ°ç”¨å®ƒä»¬æ¥ï¼š</p>
<ul>
<li>å¿«é€Ÿå®šä½ã€Œæ˜¯è°ã€å‘èµ·çš„è¯·æ±‚ï¼›</li>
<li>çœ‹æ¸…æ¥šã€Œè¯·æ±‚åˆ°åº•é•¿ä»€ä¹ˆæ ·ã€ï¼›</li>
<li>åœ¨æ—¥å¿—é‡Œè¿˜åŸã€Œè¯·æ±‚åœ¨å„ç§åä»£ / è·³è½¬ä¸­ç»å†äº†ä»€ä¹ˆã€ã€‚</li>
</ul>
<p>è¿™ä¸€ç¯‡ï¼Œæˆ‘ä»¬ä¸å†è®²æ›´å¤šé…ç½®æŠ€å·§ï¼Œè€Œæ˜¯èšç„¦ä¸‰ä»¶äº‹ï¼š</p>
<ul>
<li>nginx çš„æ ¸å¿ƒå†…ç½®å˜é‡åˆ°åº•æœ‰å“ªäº›å€¼å¾—è®°ï¼›</li>
<li>å¦‚ä½•ç”¨è¿™äº›å˜é‡æŠŠã€Œè¯·æ±‚ä¸Šä¸‹æ–‡ã€å†™è¿›æ—¥å¿—ï¼›</li>
<li>åœ¨çœŸå®æ’éšœåœºæ™¯é‡Œï¼Œå¦‚ä½•é è¿™äº›å˜é‡å¿«é€Ÿåˆ¤æ–­é—®é¢˜å‡ºåœ¨å…¥å£ã€ç½‘å…³è¿˜æ˜¯åº”ç”¨ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-1">ä¸€ã€nginx å†…ç½®å˜é‡ï¼šæŠŠã€Œè¯·æ±‚å…ƒä¿¡æ¯ã€å˜æˆå¯ç”¨æ•°æ®</h2>
<p>nginx å†…ç½®äº†å¤§é‡ <code>$</code> å¼€å¤´çš„å˜é‡ï¼Œå¤§å¤šæ˜¯ä» HTTP å¤´ã€è¿æ¥ä¿¡æ¯æˆ–å†…éƒ¨çŠ¶æ€é‡ŒæŠ½å‡ºæ¥çš„ã€‚<br/>
ä½ å¯ä»¥ç®€å•ç†è§£æˆï¼š<strong>ã€Œä¸€ä¸ªè¯·æ±‚ä»å¤–é¢åˆ°é‡Œé¢ï¼Œæ²¿é€”æ‰€æœ‰å…³é”®èŠ‚ç‚¹çš„å¿«ç…§ã€ã€‚</strong></p>
<h3 data-id="heading-2">1. å®æˆ˜ä¸­æœ€å¸¸ç”¨ã€å€¼å¾—èƒŒä¸‹æ¥çš„é‚£ä¸€æ‰¹</h3>
<p>ä»¥ä¸‹è¿™äº›åŸºæœ¬å±äºã€Œæ—¥å¸¸è°ƒè¯•å¿…å¤‡ã€çº§åˆ«ï¼ˆå‡å·²åœ¨å®è·µä¸­éªŒè¯ï¼‰ï¼š</p>
<ul>
<li><code>$remote_addr</code>ï¼šå®¢æˆ·ç«¯ IP åœ°å€ï¼›</li>
<li><code>$remote_port</code>ï¼šå®¢æˆ·ç«¯æºç«¯å£ï¼›</li>
<li><code>$http_host</code>ï¼šè¯·æ±‚å¤´é‡Œçš„ Hostï¼ˆç­‰ä»·äº <code>request.getHeader('Host')</code>ï¼‰ï¼›</li>
<li><code>$http_origin</code>ï¼š<code>Origin</code> è¯·æ±‚å¤´ï¼Œè·¨åŸŸã€å‰ç«¯æ¥æºæ’æŸ¥æ—¶éå¸¸æœ‰ç”¨ï¼›</li>
<li><code>$http_referer</code>ï¼š<code>Referer</code> è¯·æ±‚å¤´ï¼Œå¯ä»¥çœ‹è¯·æ±‚ä»å“ªä¸ªé¡µé¢å‘å‡ºï¼›</li>
<li><code>$request_uri</code>ï¼šåŸå§‹è¯·æ±‚ URIï¼ŒåŒ…å« queryï¼Œä½†ä¸å«ä¸»æœºåï¼Œä¾‹å¦‚ <code>/foo/bar?a=1&amp;b=2</code>ï¼›</li>
<li><code>$uri</code> / <code>$document_uri</code>ï¼šå½“å‰å†…éƒ¨å¤„ç†ç”¨çš„ URIï¼Œä¸å« queryï¼›</li>
<li><code>$args</code> / <code>$query_string</code>ï¼šURL æŸ¥è¯¢å‚æ•°ï¼›</li>
<li><code>$server_name</code>ï¼šå‘½ä¸­çš„ <code>server_name</code>ï¼›</li>
<li><code>$server_addr</code> / <code>$server_port</code>ï¼šå½“å‰å¤„ç†è¯·æ±‚çš„ nginx åœ°å€å’Œç«¯å£ï¼›</li>
<li><code>$scheme</code>ï¼š<code>http</code> æˆ– <code>https</code>ã€‚</li>
</ul>
<p>å‡ ä¸ªå®¹æ˜“æ··æ·†çš„ç‚¹ï¼š</p>
<ul>
<li>
<p><strong><code>$request_uri</code> vs <code>$uri</code>ï¼š</strong></p>
<ul>
<li><code>$request_uri</code> = ç”¨æˆ·åŸæ ·è¯·æ±‚è·¯å¾„ + æŸ¥è¯¢å‚æ•°ï¼ˆé™¤éè¢« <code>rewrite ... redirect/permanent</code> æ”¹å†™ï¼‰ï¼›</li>
<li><code>$uri</code> / <code>$document_uri</code> = å½“å‰è¯·æ±‚åœ¨ nginx å†…éƒ¨çš„ URIï¼Œå¯èƒ½è¢«å†…éƒ¨ <code>rewrite</code> æ”¹è¿‡ã€‚</li>
</ul>
</li>
<li>
<p><strong><code>$http_origin</code> vs <code>$http_referer</code>ï¼š</strong></p>
<ul>
<li><code>$http_origin</code>ï¼šè°ƒç”¨æ–¹çš„<strong>åŸŸå</strong>ï¼ˆå¦‚ <code>https://www.example.com</code>ï¼‰ï¼Œæ›´é€‚åˆåš CORS åˆ¤æ–­ï¼›</li>
<li><code>$http_referer</code>ï¼šä¸å« hash çš„å®Œæ•´ URLï¼ˆå¦‚ <code>https://www.example.com/page?a=1</code>ï¼‰ï¼Œé€‚åˆåšè¡Œä¸ºåˆ†æã€‚</li>
</ul>
</li>
</ul>
<blockquote>
<p>ä¸€ä¸ªç®€å•çš„ç»éªŒæ˜¯ï¼šå¦‚æœä½ åœ¨æŸä¸ªå˜é‡åå‰åŠ ä¸Š <code>$http_</code>ï¼Œ<br/>
å¤§æ¦‚ç‡å°±æ˜¯åœ¨æ‹¿å¯¹åº”çš„è¯·æ±‚å¤´ï¼Œæ¯”å¦‚ <code>$http_user_agent</code>ã€<code>$http_cookie</code> ç­‰ã€‚</p>
</blockquote>
<h3 data-id="heading-3">2. æ¥è‡ªç½‘ç»œä½†ä¹Ÿå€¼å¾—é¡ºæ‰‹ä¸€è®°çš„ä¸€æ‰¹</h3>
<p>ä»¥ä¸‹æ˜¯å¸¸è§æ–‡æ¡£é‡Œæåˆ°ã€ä½†å®¹æ˜“è¢«å¿½ç•¥çš„ä¸€äº›å˜é‡ï¼ˆä¸ä¸€ä¸€å®šè¦èƒŒï¼ŒçŸ¥é“æœ‰å°±è¡Œï¼‰ï¼š</p>
<ul>
<li><code>$content_length</code>ï¼šè¯·æ±‚å¤´ä¸­çš„ <code>Content-Length</code>ï¼›</li>
<li><code>$content_type</code>ï¼šè¯·æ±‚å¤´ä¸­çš„ <code>Content-Type</code>ï¼›</li>
<li><code>$http_user_agent</code>ï¼šUser-Agentï¼›</li>
<li><code>$http_cookie</code>ï¼šCookieï¼›</li>
<li><code>$limit_rate</code>ï¼šå¯ä»¥ç”¨æ¥é™åˆ¶æŸä¸ªè¿æ¥çš„ä¼ è¾“é€Ÿç‡ï¼›</li>
<li><code>$request_method</code>ï¼šè¯·æ±‚æ–¹æ³•ï¼ˆGET / POST / PUT / DELETE ...ï¼‰ï¼›</li>
<li><code>$request_filename</code>ï¼šç”± <code>root/alias</code> + URI æ‹¼å‡ºæ¥çš„å®é™…æ–‡ä»¶è·¯å¾„ï¼›</li>
<li><code>$server_protocol</code>ï¼š<code>HTTP/1.0</code> æˆ– <code>HTTP/1.1</code> ç­‰ã€‚</li>
</ul>
<p>è¿™äº›å˜é‡çš„ä»·å€¼ï¼Œåœ¨äºä½ å¯ä»¥<strong>æŒ‰éœ€æ‹‰å–å®ƒä»¬ï¼Œæ‹¼æˆä¸€æ¡è¶³å¤Ÿä¿¡æ¯å¯†åº¦çš„æ—¥å¿—</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-4">äºŒã€è®© access.log çœŸæ­£ã€Œè¯´äººè¯ã€ï¼šå®šåˆ¶æ—¥å¿—æ ¼å¼</h2>
<p>é»˜è®¤çš„ access.log æ ¼å¼é€šå¸¸é•¿è¿™æ ·ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">log_format main '$remote_addr - $remote_user [$time_local] "$request" '
                '$status $body_bytes_sent "$http_referer" '
                '"$http_user_agent" "$http_x_forwarded_for"';

access_log logs/access.log main;
</code></pre>
<p>å¯¹æ’éšœæ¥è¯´ï¼Œå¾ˆå¤šæ—¶å€™ä½ éœ€è¦çš„æ˜¯ï¼š</p>
<ul>
<li>è°ƒç”¨æ¥æºï¼ˆ<code>Origin / Referer</code>ï¼‰ï¼›</li>
<li>è¯·æ±‚æœ€ç»ˆå‘½ä¸­çš„ URIï¼›</li>
<li>è¢«è½¬å‘åˆ°å“ªå°åç«¯ï¼›</li>
<li>æŸäº›ä¸šåŠ¡ Headerï¼ˆå¦‚ traceIdã€userIdï¼‰ã€‚</li>
</ul>
<p>ä½ å®Œå…¨å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªæ›´ã€Œå·¥ç¨‹åŒ–ã€çš„æ—¥å¿—æ ¼å¼ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">log_format  traceable_main
    '$remote_addr:$remote_port '
    '[$time_local] '
    '"$request" '
    'status=$status '
    'bytes=$body_bytes_sent '
    'host="$host" '
    'origin="$http_origin" '
    'referer="$http_referer" '
    'ua="$http_user_agent" '
    'req_uri="$request_uri" '
    'uri="$uri" '
    'upstream_addr="$upstream_addr" '
    'trace_id="$http_x_trace_id"';

access_log  logs/access.log traceable_main;
</code></pre>
<p>è¿™æ ·ä¸€æ¡æ—¥å¿—å°±èƒ½å›ç­”å¾ˆå¤šé—®é¢˜ï¼š</p>
<ul>
<li>ç”¨æˆ·æ¥è‡ªå“ªä¸ª IPã€å“ªä¸ª Originï¼›</li>
<li>å®é™…å‘½ä¸­äº†å“ªä¸ª <code>uri</code>ï¼ˆè¢« rewrite è¿‡æ²¡æœ‰ï¼‰ï¼›</li>
<li>è¯·æ±‚è¢«æ‰“åˆ°äº†å“ªä¸ªåç«¯å®ä¾‹ï¼ˆ<code>$upstream_addr</code>ï¼‰ï¼›</li>
<li>traceId æ˜¯ä»€ä¹ˆï¼Œæ–¹ä¾¿è·Ÿåº”ç”¨æ—¥å¿—ä¸²èµ·æ¥ã€‚</li>
</ul>
<blockquote>
<p>å’Œå…¶åœ¨ç›‘æ§å¹³å°ä¸Šä¸€è„¸æ‡µé€¼ï¼Œä¸å¦‚å¤šç»™ access.log åŠ å‡ ä¸ªå˜é‡ï¼Œ<br/>
è®©æ¯ä¸€æ¡æ—¥å¿—éƒ½å˜æˆã€Œå¸¦ä¸Šä¸‹æ–‡çš„è¯è¨€ã€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5">ä¸‰ã€æ’éšœå®æˆ˜ï¼šå˜é‡ + æ—¥å¿—ï¼Œå¿«é€Ÿç¼©å°é—®é¢˜èŒƒå›´</h2>
<p>è¯´å‡ ä¸ªéå¸¸æ—¥å¸¸çš„æ’éšœé—®é¢˜ï¼Œçœ‹çœ‹å˜é‡å¦‚ä½•å¸®ä½ ã€Œå®šç‚¹æ‰“å‡»ã€ã€‚</p>
<h3 data-id="heading-6">åœºæ™¯ä¸€ï¼šç”¨æˆ·è¯´ã€Œå¶å‘ 502ã€ï¼Œä½†åç«¯å‹æ ¹æ²¡çœ‹åˆ°è¯·æ±‚</h3>
<p>ç°è±¡ï¼š</p>
<ul>
<li>å®¢æˆ·ç«¯æ—¥å¿—çœ‹åˆ° 502ï¼›</li>
<li>åç«¯åº”ç”¨å’Œç½‘å…³æ²¡æœ‰å¯¹åº” traceï¼›</li>
<li>åªæœ‰ nginx å±‚æœ‰ 502ã€‚</li>
</ul>
<p>å¯ä»¥åœ¨ access.log é‡Œé‡ç‚¹çœ‹ï¼š</p>
<ul>
<li><code>$upstream_addr</code>ï¼šæœ‰æ²¡æœ‰çœŸæ­£è½¬å‘åˆ°åç«¯ï¼Ÿ</li>
<li><code>$upstream_status</code>ï¼šåç«¯è¿”å›çš„çŠ¶æ€ç ï¼ˆå¦‚æœæœ‰ï¼‰ï¼›</li>
<li><code>$request_time</code> / <code>$upstream_response_time</code>ï¼šè¯·æ±‚åœ¨å“ªä¸€æ®µè€—æ—¶ã€‚</li>
</ul>
<p>ç¤ºä¾‹æ—¥å¿—æ ¼å¼è°ƒæ•´ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">log_format with_upstream
    '$remote_addr - [$time_local] '
    '"$request" status=$status '
    'req_time=$request_time '
    'upstream="$upstream_addr" '
    'upstream_status="$upstream_status" '
    'upstream_time="$upstream_response_time"';
</code></pre>
<p>å¦‚æœä½ çœ‹åˆ°ï¼š</p>
<ul>
<li><code>status=502</code>ï¼›</li>
<li><code>upstream=""</code>ï¼ˆç©ºï¼‰ï¼›</li>
<li>æˆ–è€… <code>upstream</code> æŒ‡å‘æŸäº›ç‰¹å®š IP/ç«¯å£ï¼Œ<code>upstream_status</code> æ˜¯ 502/504ï¼›</li>
</ul>
<p>å°±å¯ä»¥å¾ˆå¿«åˆ¤æ–­ï¼š</p>
<ul>
<li>è¦ä¹ˆæ˜¯ upstream é…ç½®ä¸å¯¹ / æœåŠ¡ä¸é€šï¼›</li>
<li>è¦ä¹ˆæ˜¯æŸä¸ªåç«¯å®ä¾‹æŒ‚äº†ã€‚</li>
</ul>
<h3 data-id="heading-7">åœºæ™¯äºŒï¼šè·¨åŸŸé—®é¢˜ï¼Œå‰ç«¯è¯´ã€Œæˆ‘æ²¡è·¨åŸŸã€ï¼Œåç«¯è¯´ã€Œæˆ‘æ²¡çœ‹åˆ°è¯·æ±‚ã€</h3>
<p>è¿™æ—¶å€™ <code>$http_origin</code> å’Œ <code>$http_referer</code> å°±å¾ˆæœ‰ç”¨ã€‚</p>
<p>ä½ å¯ä»¥è¿™æ ·å…ˆåŠ ä¸€æ¡ä¸´æ—¶æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">log_format cors_debug
    '$remote_addr [$time_local] '
    'method=$request_method '
    'host="$host" '
    'origin="$http_origin" '
    'referer="$http_referer" '
    'uri="$request_uri" '
    'status=$status';

access_log logs/cors_debug.log cors_debug;
</code></pre>
<p>ç„¶åä¸“é—¨æŠ“ä¸€æ®µæ—¶é—´è®¿é—®ï¼š</p>
<ul>
<li>çœ‹çœ‹ <code>$http_origin</code> åˆ°åº•æ˜¯ä»€ä¹ˆï¼ˆå¾ˆå¤šæ—¶å€™æ˜¯å†™é”™äº† schema / å­åŸŸåï¼‰ï¼›</li>
<li>OPTIONS è¯·æ±‚åˆ°åº•æœ‰æ²¡æœ‰æ‰“åˆ°è¿™å° nginx / è¿™ä¸ª <code>location</code> ä¸Šï¼›</li>
<li>æ˜¯ nginx ç›´æ¥å›äº† 4xxï¼Œè¿˜æ˜¯ upstream æ‹’ç»çš„ã€‚</li>
</ul>
<h3 data-id="heading-8">åœºæ™¯ä¸‰ï¼šæ€€ç–‘æŸä¸ªç”¨æˆ·è„šæœ¬ / çˆ¬è™«æŠŠä½ æ‰“æŒ‚äº†</h3>
<p>è¿™æ—¶å€™ç»„åˆçš„å˜é‡å¯èƒ½æ˜¯ï¼š</p>
<ul>
<li><code>$remote_addr</code> + <code>$remote_port</code>ï¼›</li>
<li><code>$http_user_agent</code>ï¼›</li>
<li><code>$http_referer</code>ï¼›</li>
<li><code>$request_uri</code>ã€‚</li>
</ul>
<p>ä½ å¯ä»¥ï¼š</p>
<ul>
<li>å…ˆç”¨ <code>grep</code> æŠŠæŸä¸ªå¯ç–‘ IP æˆ– UA çš„è®¿é—®æ‹‰å‡ºæ¥ï¼›</li>
<li>è§‚å¯Ÿå®ƒçš„è¡Œä¸ºæ¨¡å¼ï¼ˆURIã€é¢‘ç‡ã€æ˜¯å¦éå†æ‰€æœ‰è·¯å¾„ï¼‰ï¼›</li>
<li>å†è€ƒè™‘åœ¨ nginx ä¸Šåšé™æµæˆ–å°ç¦ã€‚</li>
</ul>
<blockquote>
<p>è¿™é‡Œçš„å…³é”®å§‹ç»ˆæ˜¯ï¼š<strong>åœ¨è¯·æ±‚åˆšåˆšè¿›å…¥ç³»ç»Ÿçš„æ—¶å€™ï¼Œå°±æ•è·è¶³å¤Ÿå¤šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-9">å››ã€ç”¨å˜é‡åšä¸€ç‚¹ã€Œè½»é‡é€»è¾‘ã€ï¼šæŒ‰æ¥æºåšå·®å¼‚åŒ–å¤„ç†</h2>
<p>è™½ç„¶ä¸æ¨èåœ¨ nginx é‡Œå†™å¤æ‚ä¸šåŠ¡é€»è¾‘ï¼Œä½†<strong>åŸºäºå˜é‡åšä¸€ç‚¹è½»é‡åˆ†æµ</strong>è¿˜æ˜¯å¾ˆå¸¸è§çš„ã€‚</p>
<h3 data-id="heading-10">1. æŒ‰åŸŸå / Origin åšç®€å•ç™½åå•</h3>
<p>ä¾‹å¦‚åªå…è®¸æŸäº›åŸŸçš„å‰ç«¯è°ƒç”¨æŸä¸ªæ¥å£ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">location /api/internal {
    if ($http_origin !~* ^https?://(www\.trusted\.com|admin\.trusted\.com)$) {
        return 403;
    }

    proxy_pass http://127.0.0.1:9000;
}
</code></pre>
<p>è¿™é‡Œçš„å…³é”®å°±æ˜¯ <code>$http_origin</code> å’Œæ­£åˆ™çš„ä¸€èµ·ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-11">2. æŒ‰ UA åšç®€å•ç°åº¦ / é™çº§</h3>
<p>åœ¨çœŸÂ·ç´§æ€¥æƒ…å†µï¼ˆèƒŒé”…ç°åœºï¼‰ä¸‹ï¼Œä¹Ÿæœ‰äººä¼šç”¨ nginx åšä¸€ç‚¹ UA çº§åˆ«çš„é™çº§ï¼š</p>
<pre><code class="hljs language-nginx" lang="nginx">location /feature-heavy {
    if ($http_user_agent ~* 'MSIE|Trident') {
        # è€æµè§ˆå™¨ç›´æ¥ç»™é™çº§é¡µ
        return 200 'æ‚¨çš„æµè§ˆå™¨ç‰ˆæœ¬è¿‡ä½ï¼Œå»ºè®®ä½¿ç”¨ç°ä»£æµè§ˆå™¨è®¿é—®æœ¬åŠŸèƒ½';
    }

    proxy_pass http://127.0.0.1:9001;
}
</code></pre>
<p>è¿™ç±»é€»è¾‘ä¸å»ºè®®é•¿æœŸå­˜åœ¨ï¼Œä½†åœ¨ã€Œä¸€å°æ—¶å†…å¿…é¡»æ­¢è¡€ã€çš„åœºæ™¯ä¸‹ï¼Œå˜é‡ + ç®€å•åˆ¤æ–­ä¼šéå¸¸å¥½ç”¨ã€‚</p>
<hr/>
<h2 data-id="heading-12">äº”ã€ä»å˜é‡åˆ°å¯è§‚æµ‹æ€§ï¼šè®© nginx ä¸å†æ˜¯ã€Œé»‘ç›’ã€</h2>
<p>å¦‚æœæŠŠä¸‰ç¯‡ã€Œnginx é…ç½®é•¿è·‘ã€æ”¾åœ¨ä¸€èµ·çœ‹ï¼Œä¼šå‘ç°ä¸€ä¸ªæ¼”è¿›è·¯å¾„ï¼š</p>
<ul>
<li>ä¸Šç¯‡æ˜¯ã€Œè·¯ç”±è§„åˆ™ã€ï¼šè¯·æ±‚åˆ°åº•ä¼šå‘½ä¸­å“ªæ¡ <code>location</code>ï¼›</li>
<li>ä¸­ç¯‡æ˜¯ã€Œæµé‡å…¥å£ã€ï¼šåŸŸåã€TLSã€è½¬å‘ã€è·¨åŸŸã€æ³›åŸŸåè¿™äº›å…¥å£å±‚èŒè´£ï¼›</li>
<li>ä¸‹ç¯‡å°±æ˜¯ã€Œå¯è§‚æµ‹æ€§ã€ï¼šæ€ä¹ˆçŸ¥é“è¿™ä¸€å±‚<strong>åˆ°åº•å¹²äº†ä»€ä¹ˆ</strong>ã€‚</li>
</ul>
<p>å†…ç½®å˜é‡æ˜¯ nginx ç»™ä½ çš„ã€Œè§‚å¯Ÿçª—å£ã€ï¼š</p>
<ul>
<li>ä½ å¯ä»¥ç”¨å®ƒä»¬å®šåˆ¶ access.logï¼Œè®©æ¯æ¡æ—¥å¿—éƒ½å¸¦ä¸Šå…³é”®ä¸Šä¸‹æ–‡ï¼›</li>
<li>å¯ä»¥åœ¨å…³é”®è·¯å¾„ä¸Šè¾“å‡ºå¿…è¦çš„ debug ä¿¡æ¯ï¼Œå¿«é€Ÿç¼©å°é—®é¢˜èŒƒå›´ï¼›</li>
<li>å¯ä»¥ç”¨ç®€å•çš„æ¡ä»¶åˆ¤æ–­ï¼Œå¯¹ä¸åŒæ¥æºã€ä¸åŒ UA åšè½»é‡çš„è·¯ç”±å·®å¼‚åŒ–ã€‚</li>
</ul>
<blockquote>
<p>çœŸæ­£æˆç†Ÿçš„ nginx ä½¿ç”¨æ–¹å¼ï¼Œä¸æ˜¯ã€ŒèƒŒä¸€å †æŒ‡ä»¤ã€ï¼Œ<br/>
è€Œæ˜¯è®©å®ƒå˜æˆï¼š<br/>
<strong>æ—¢èƒ½ç¨³ç¨³æ‰›ä½æµé‡ï¼Œåˆèƒ½åœ¨å‡ºé—®é¢˜æ—¶ï¼Œç»™ä½ è¶³å¤Ÿå¤šçš„çº¿ç´¢ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-13">å°¾å£°ï¼šä»ä¼šé… nginxï¼Œåˆ°æ•¢æŠŠ nginx å½“ã€Œå·¥ç¨‹è®¾æ–½ã€</h2>
<p>å›é¡¾è¿™ä¸‰ç¯‡ï¼š</p>
<ul>
<li>ä½ åº”è¯¥å·²ç»èƒ½æ¯”è¾ƒè‡ªä¿¡åœ°å›ç­”ï¼šæŸä¸ªè·¯å¾„æœ€ç»ˆä¼šå‘½ä¸­å“ªæ¡ <code>location</code>ï¼Œä¼šä¸ä¼šè¢«æ­£åˆ™æˆªèƒ¡ï¼›</li>
<li>ä½ å¤§æ¦‚ä¹Ÿèƒ½è®¾è®¡ä¸€å¥—æ¯”è¾ƒå¹²å‡€çš„å…¥å£å±‚ï¼šåŸŸåå½’ä¸€ã€HTTPSã€åå‘ä»£ç†ã€CORSã€æ³›åŸŸåï¼›</li>
<li>æœ€åï¼Œä½ æœ‰èƒ½åŠ›ä¸º nginx åŠ ä¸Šä¸€å±‚å¯è§‚æµ‹æ€§ï¼šå˜é‡ã€æ—¥å¿—ã€ç®€å•çš„è°ƒè¯•é€»è¾‘ã€‚</li>
</ul>
<blockquote>
<p>ä¼šå†™ nginx é…ç½®ï¼Œåªæ˜¯æŠŠç³»ç»Ÿã€Œæ­èµ·æ¥ã€ï¼›<br/>
æ•¢æŠŠ nginx å½“æˆå·¥ç¨‹è®¾æ–½æ¥è®¾è®¡ï¼Œæ‰ç®—æ˜¯çœŸæ­£æŠŠå®ƒã€Œç”¨èµ·æ¥ã€ã€‚</p>
<p>å½“ä½ ä¸‹æ¬¡çœ‹åˆ°ä¸€è¡Œ <code>$http_origin</code> æˆ– <code>$request_uri</code> æ—¶ï¼Œ<br/>
ä¹Ÿè®¸ä¼šæ„è¯†åˆ°ï¼š<br/>
å®ƒä¸æ˜¯ä¸€ä¸ªéšæ‰‹æŠ„æ¥çš„å˜é‡ï¼Œè€Œæ˜¯<strong>ä½ å’Œå¤æ‚ç³»ç»Ÿå¯¹è¯çš„ä¸€åªæ¢é’ˆ</strong>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[JavaSE è¿›é˜¶ï¼šIO æµæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼ˆå­—èŠ‚æµ vs å­—ç¬¦æµ + ç¼“å†²æµä¼˜åŒ– + å®æˆ˜æ¡ˆä¾‹ï¼‰]]></title>    <link>https://juejin.cn/post/7580183671531356198</link>    <guid>https://juejin.cn/post/7580183671531356198</guid>    <pubDate>2025-12-05T13:17:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580183671531356198" data-draft-id="7580180556982911026" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="JavaSE è¿›é˜¶ï¼šIO æµæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼ˆå­—èŠ‚æµ vs å­—ç¬¦æµ + ç¼“å†²æµä¼˜åŒ– + å®æˆ˜æ¡ˆä¾‹ï¼‰"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2025-12-05T13:17:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜æ ¹æ ¹"/> <meta itemprop="url" content="https://juejin.cn/user/555679166786139"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            JavaSE è¿›é˜¶ï¼šIO æµæ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼ˆå­—èŠ‚æµ vs å­—ç¬¦æµ + ç¼“å†²æµä¼˜åŒ– + å®æˆ˜æ¡ˆä¾‹ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/555679166786139/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜æ ¹æ ¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T13:17:38.000Z" title="Fri Dec 05 2025 13:17:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2><h2 data-id="heading-1"/>
<p>è¿›å…¥javaIOæµã€‚åœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œæ‰€æœ‰çš„å˜é‡ï¼Œæ•°ç»„æˆ–è€…é›†åˆç­‰ç­‰éƒ½æ˜¯ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚éšç€ç¨‹åºçš„ç»“æŸæˆ–è€…æ–­ç”µï¼Œæ•°æ®å°±æ²¡æœ‰äº†ï¼</p>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•æ°¸ä¹…çš„å­˜å‚¨å‘¢ï¼Ÿé‡‡ç”¨ç£ç›˜æ–‡ä»¶å­˜å‚¨ã€‚æ–‡ä»¶åœ¨ç”µè„‘ç£ç›˜ä¸­ä¿å­˜ï¼Œå³ä¾¿æ–­ç”µï¼Œæˆ–è€…ç¨‹åºç»ˆæ­¢ï¼Œæ–‡ä»¶ä¸­çš„æ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚æ‰€ä»¥æˆ‘ä»¬å¼•å…¥IOæµå°†ä¸€äº›è¦ä¿å­˜çš„æ•°æ®ä¿å­˜åˆ°ç¡¬ç›˜ä¸­ã€‚</p>
<h2 data-id="heading-2">è®¤è¯†IOæµ</h2>
<p>IOæµä¸»è¦ç”¨äºè¿æ¥ç¨‹åºå’Œç£ç›˜æ–‡ä»¶ï¼Œä¼ è¾“ä»¥å­—èŠ‚/å­—ç¬¦ä¸ºå•ä½çš„æ•°æ®</p>
<h3 data-id="heading-3">IOæµçš„åˆ†ç±»</h3>
<p>ç”±æ­¤å¯ä»¥å…ˆå°†IOæµæŒ‰è¾“å…¥æ•°æ®çš„å•ä½åˆ†ä¸ºå­—èŠ‚æµå’Œå­—ç¬¦æµ</p>
<p>å†æŒ‰ç…§è¾“å…¥è¾“å‡ºåˆ†å…ˆä¸ºå››ç±»ã€‚åˆ†åˆ«ä¸ºï¼š</p>
<ul>
<li>å­—èŠ‚è¾“å…¥æµ InputStreamï¼ˆè¯»å­—èŠ‚æ•°æ®çš„ï¼‰</li>
<li>å­—èŠ‚è¾“å‡ºæµ OutputStreamï¼ˆå†™å­—èŠ‚æ•°æ®å‡ºå»çš„ï¼‰</li>
<li>å­—ç¬¦è¾“å…¥æµ Readerï¼ˆè¯»å­—ç¬¦æ•°æ®çš„ï¼‰</li>
<li>å­—ç¬¦è¾“å‡ºæµ Writerï¼ˆå†™å­—ç¬¦æ•°æ®å‡ºå»çš„ï¼‰</li>
</ul>
<p>è€Œåä¸ºäº†å¢å¼ºå­—ç¬¦è¾“å…¥è¾“å‡ºæµçš„æ•ˆç‡ï¼Œå¼•å…¥äº†</p>
<ul>
<li>ç¼“å†²å­—èŠ‚è¾“å…¥æµ BufferedInputstream</li>
<li>ç¼“å†²å­—èŠ‚è¾“å‡ºæµ BufferedOutputstream</li>
<li>ç¼“å†²å­—ç¬¦è¾“å…¥æµBufferedReader</li>
<li>ç¼“å†²å­—ç¬¦è¾“å‡ºæµBufferedWriter</li>
</ul>
<h2 data-id="heading-4">å­—èŠ‚æµ</h2>
<p>å¤šç”¨äºè¯»å†™è€Œä¸æ“ä½œæ•°æ®çš„åœ°æ–¹</p>
<h3 data-id="heading-5">å­—èŠ‚è¾“å…¥æµ InputStream</h3>
<p>ä½œç”¨ï¼šä»¥å†…å­˜ä¸ºåŸºå‡†ï¼Œå¯ä»¥æŠŠç£ç›˜æ–‡ä»¶ä¸­çš„æ•°æ®ä»¥å­—èŠ‚çš„å½¢å¼è¯»å…¥åˆ°å†…å­˜ä¸­å»ã€‚</p>
<p>åŸºæœ¬æ–¹æ³•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a14a7af4d0424b628ca04cce1e839e0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=G%2Fhch0OrsjZnMg8I8rcMbdkPjuo%3D" alt="image.png" loading="lazy"/></p>
<p>æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>ä½¿ç”¨FileInputStreamæ¯æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚ï¼Œè¯»å–æ€§èƒ½è¾ƒå·®ï¼Œå¹¶ä¸”è¯»å–æ±‰å­—è¾“å‡ºä¼šä¹±ç ã€‚</li>
<li>ä½¿ç”¨FileInputStreamæ¯æ¬¡è¯»å–å¤šä¸ªå­—èŠ‚ï¼Œè¯»å–æ€§èƒ½å¾—åˆ°äº†æå‡ï¼Œä½†è¯»å–æ±‰å­—è¾“å‡ºè¿˜æ˜¯ä¼šä¹±ç ã€‚</li>
<li>è¯»å–æ–‡æœ¬é€‚åˆç”¨å­—ç¬¦æµï¼›å­—èŠ‚æµé€‚åˆåšæ•°æ®çš„è½¬ç§»ï¼Œæ¯”å¦‚ï¼šæ–‡ä»¶å¤åˆ¶</li>
</ul>
<p>ä»£ç å®ç°ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šä½¿ç”¨å­—èŠ‚è¾“å…¥æµè¯»å–æ–‡ä»¶çš„æ•°æ®</span>
<span class="hljs-comment">//1.åˆ›å»ºå­—èŠ‚è¾“å…¥æµå¯¹è±¡</span>
<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">input</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"day03-StreamIO/a.txt"</span>);

<span class="hljs-comment">//2.è¯»å–å­—èŠ‚æ•°æ®</span>
<span class="hljs-comment">//2.1 ä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚è¯»å–</span>
<span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> input.read();
System.out.println((<span class="hljs-type">char</span>) b);<span class="hljs-comment">//a</span>
b = input.read();
System.out.println((<span class="hljs-type">char</span>) b);<span class="hljs-comment">//b</span>
b = input.read();
System.out.println((<span class="hljs-type">char</span>) b);<span class="hljs-comment">//c</span>
<span class="hljs-comment">//b = input.read();</span>
<span class="hljs-comment">//System.out.println((char) b);//ä¹±ç </span>

<span class="hljs-comment">//2.2 è¯»å–ä¸€ä¸ªå­—èŠ‚æ•°ç»„</span>
<span class="hljs-type">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">3</span>];
input.read(bytes);
System.out.println(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(bytes));<span class="hljs-comment">//å°†å­—èŠ‚æ•°ç»„ bytes è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨ç¤º</span>

<span class="hljs-comment">//3.å…³é—­æµ</span>
input.close();
<span class="hljs-comment">//æ³¨æ„ï¼šå­—èŠ‚æµä¸é€‚åˆè¯»å–æ–‡æœ¬å†…å®¹è¿›è¡Œè§£æå±•ç°ï¼Œå› ä¸ºå¦‚æœå­—èŠ‚æ–­å¼€ä¼šä¹±ç ã€‚</span>
</code></pre>
<p>è¯»å–æ–‡ä»¶ä¸º</p>
<pre><code class="hljs">abcç¼–ç¨‹
</code></pre>
<h3 data-id="heading-6">å­—èŠ‚è¾“å‡ºæµ OutputStream</h3>
<p>ä½œç”¨ï¼šä»¥å†…å­˜ä¸ºåŸºå‡†ï¼ŒæŠŠå†…å­˜ä¸­çš„æ•°æ®ä»¥å­—èŠ‚çš„å½¢å¼å†™å‡ºåˆ°æ–‡ä»¶ä¸­å»ã€‚</p>
<p>åŸºæœ¬æ–¹æ³•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5d3a85e98fa4c45b1c0dca38e768f0e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=pfnK%2FmIpSuDSdSeBYcZq867%2BJ0E%3D" alt="image.png" loading="lazy"/></p>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šä½¿ç”¨å­—èŠ‚è¾“å‡ºæµè¾“å‡ºæ•°æ®åˆ°ç›®æ ‡æ–‡ä»¶ demo2.txt</span>
<span class="hljs-comment">//1.åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµå¯¹è±¡</span>
<span class="hljs-comment">//FileOutputStream output = new FileOutputStream("day03-StreamIO/b.txt");//è¦†ç›–æ–¹å¼</span>
<span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">output</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"day03-StreamIO/b.txt"</span>,<span class="hljs-literal">true</span>);<span class="hljs-comment">//è¿½åŠ æ–¹å¼</span>

<span class="hljs-comment">//2.è¾“å‡ºæ•°æ®</span>
<span class="hljs-comment">//è¾“å‡ºä¸€ä¸ªå­—èŠ‚</span>
output.write(<span class="hljs-number">97</span>);<span class="hljs-comment">//a</span>

<span class="hljs-comment">//è¾“å‡ºä¸€ä¸ªæ¢è¡Œ</span>
output.write(<span class="hljs-string">"\n"</span>.getBytes());

<span class="hljs-comment">//è¾“å‡ºå­—èŠ‚æ•°ç»„å…¨éƒ¨æ•°æ®</span>
<span class="hljs-type">byte</span>[] bytes = <span class="hljs-string">"å”æ ¹æ³°"</span>.getBytes();
output.write(bytes);

<span class="hljs-comment">//è¾“å‡ºä¸€ä¸ªæ¢è¡Œ</span>
output.write(<span class="hljs-string">"\n"</span>.getBytes());

<span class="hljs-comment">//è¾“å‡ºå­—èŠ‚æ•°ç»„ä¸€éƒ¨åˆ†æ•°æ®</span>
output.write(bytes,<span class="hljs-number">3</span>,<span class="hljs-number">6</span>);<span class="hljs-comment">//bytes:è¦ä¼ å…¥çš„æ•°ç»„ï¼Œ3:å¼€å§‹ï¼Œ6:éœ€è¦ä¼ å…¥çš„é•¿åº¦       è¿™é‡Œçš„æ„æ€æ˜¯ä»ç´¢å¼•3å¼€å§‹å¾€åä¼ 6ä¸ªå­—èŠ‚</span>

<span class="hljs-comment">//è¾“å‡ºä¸€ä¸ªæ¢è¡Œ</span>
output.write(<span class="hljs-string">"\n"</span>.getBytes());

<span class="hljs-comment">//3.å…³é—­èµ„æº</span>
output.close();
</code></pre>
<h3 data-id="heading-7">èµ„æºé‡Šæ”¾æ–¹æ¡ˆ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/23fd1a0450944e629fa21e0fde4f40e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=kVg95hTyYGFrUzoOFlZZ%2Fp7r5kk%3D" alt="image.png" loading="lazy"/></p>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šä½¿ç”¨finallyé‡Šæ”¾èµ„æºï¼ˆä¼ ç»Ÿåšæ³•ï¼‰</span>
<span class="hljs-comment">//è¯­æ³•ï¼štry{</span>
<span class="hljs-comment">//     }catch(Exception e){</span>
<span class="hljs-comment">//     }finally{</span>
<span class="hljs-comment">//           é‡Šæ”¾èµ„æº</span>
<span class="hljs-comment">//    }</span>
<span class="hljs-comment">//finallyçš„ä½œç”¨ï¼šæ— è®ºtryé‡Œé¢çš„ä»£ç æ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½ä¼šæ‰§è¡Œfinallyé‡Œé¢çš„ä»£ç ï¼Œç¡®ä¿æœ‰æ•ˆèµ„æºå¯ä»¥é‡Šæ”¾</span>
<span class="hljs-type">FileInputStream</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
<span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;

<span class="hljs-keyword">try</span> {
    <span class="hljs-comment">//1.åˆ›å»ºè¾“å…¥æµå¯¹è±¡è¯»å–1.png</span>
    in = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"day03-StreamIO/1.png"</span>);

    <span class="hljs-comment">//2.åˆ›å»ºè¾“å‡ºæµå¯¹è±¡è¾“å‡ºåˆ°2.png</span>
    out = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"day03-StreamIO/2.png"</span>);

    <span class="hljs-comment">//3.è¯»å–æ•°æ®å¹¶è¾“å‡º</span>
    <span class="hljs-comment">//3.1 åˆ›å»º1kbå­—èŠ‚æ•°ç»„</span>
    <span class="hljs-type">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];

    <span class="hljs-comment">//3.2 å¾ªç¯è¯»å–å¹¶å†™å‡º</span>
    <span class="hljs-comment">// int length = in.read(bytes); ä»è¾“å…¥æµä¸­è¯»å–1024ä¸ªå­—èŠ‚ï¼Œå¦‚æœè¯»å–æˆåŠŸä¼šè¿”å›è¯»å–å­—èŠ‚çš„ä¸ªæ•°,</span>
    <span class="hljs-comment">//      è¿”å›-1ä»£è¡¨æ²¡æœ‰è¯»å–åˆ°ä»»ä½•æ•°æ®</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">length</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> ((length = in.read(bytes)) != -<span class="hljs-number">1</span>) {
        <span class="hljs-comment">// out.write(bytes);//å°†å­—èŠ‚æ•°ç»„æ‰€æœ‰æ•°æ®è¾“å‡ºï¼Œè¿™ä¸ªè¯»åˆ°æœ€åå¯èƒ½æœ‰é—ç•™ä¸Šä¸€æ¬¡è¯»å–çš„æ•°æ®ï¼Œä¹Ÿä¼šå†æ¬¡è¾“å‡º</span>
        out.write(bytes, <span class="hljs-number">0</span>, length);<span class="hljs-comment">//æ¨èæ–¹å¼ï¼Œè¯»å¤šå°‘è¾“å‡ºå¤šå°‘ï¼Œä¸ä¼šæœ‰é—ç•™æ•°æ®è¾“å‡º</span>
    }
    System.out.println(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶æˆåŠŸï¼"</span>);
} <span class="hljs-keyword">catch</span> (IOException e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
} <span class="hljs-keyword">finally</span> {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">//4.å…³é—­æµï¼Œæ¨èä»ä¸‹å¾€ä¸Šå…³é—­</span>
        <span class="hljs-keyword">if</span> (out != <span class="hljs-literal">null</span>)
            out.close();
        <span class="hljs-keyword">if</span> (out != <span class="hljs-literal">null</span>)
            in.close();
        System.out.println(<span class="hljs-string">"èµ„æºå…³é—­æˆåŠŸï¼"</span>);
    } <span class="hljs-keyword">catch</span> (IOException e) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
    }
}
</code></pre>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šä½¿ç”¨jdk8æä¾›æœ€æ–°é‡Šæ”¾èµ„æºæ–¹å¼</span>
<span class="hljs-comment">//è¯­æ³•ï¼štry(èµ„æº){</span>
<span class="hljs-comment">//         é€»è¾‘å¤„ç†</span>
<span class="hljs-comment">//     }catch(Exception ex){}</span>
<span class="hljs-comment">//     ä¸Šé¢è¿è¡Œåä¼šè‡ªåŠ¨è°ƒç”¨èµ„æºçš„closeæ–¹æ³•ï¼Œå‰æèµ„æºå®ç°AutoCloseableæ¥å£æ‰å¯ä»¥</span>
<span class="hljs-keyword">try</span> (<span class="hljs-comment">//1.åˆ›å»ºè¾“å…¥æµå¯¹è±¡è¯»å–1.png</span>
     <span class="hljs-type">FileInputStream</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"day03-StreamIO/1.png"</span>);

     <span class="hljs-comment">//2.åˆ›å»ºè¾“å‡ºæµå¯¹è±¡è¾“å‡ºåˆ°2.png</span>
     <span class="hljs-type">FileOutputStream</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"day03-StreamIO/2.png"</span>);)
{
    <span class="hljs-comment">//3.è¯»å–æ•°æ®å¹¶è¾“å‡º</span>
    <span class="hljs-comment">//3.1 åˆ›å»º1kbå­—èŠ‚æ•°ç»„</span>
    <span class="hljs-type">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];

    <span class="hljs-comment">//3.2 å¾ªç¯è¯»å–å¹¶å†™å‡º</span>
    <span class="hljs-comment">// int length = in.read(bytes); ä»è¾“å…¥æµä¸­è¯»å–1024ä¸ªå­—èŠ‚ï¼Œå¦‚æœè¯»å–æˆåŠŸä¼šè¿”å›è¯»å–å­—èŠ‚çš„ä¸ªæ•°,</span>
    <span class="hljs-comment">//      è¿”å›-1ä»£è¡¨æ²¡æœ‰è¯»å–åˆ°ä»»ä½•æ•°æ®</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">length</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> ((length = in.read(bytes)) != -<span class="hljs-number">1</span>) {
        <span class="hljs-comment">// out.write(bytes);//å°†å­—èŠ‚æ•°ç»„æ‰€æœ‰æ•°æ®è¾“å‡ºï¼Œè¿™ä¸ªè¯»åˆ°æœ€åå¯èƒ½æœ‰é—ç•™ä¸Šä¸€æ¬¡è¯»å–çš„æ•°æ®ï¼Œä¹Ÿä¼šå†æ¬¡è¾“å‡º</span>
        out.write(bytes, <span class="hljs-number">0</span>, length);<span class="hljs-comment">//æ¨èæ–¹å¼ï¼Œè¯»å¤šå°‘è¾“å‡ºå¤šå°‘ï¼Œä¸ä¼šæœ‰é—ç•™æ•°æ®è¾“å‡º</span>
    }
    System.out.println(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶æˆåŠŸï¼"</span>);
} <span class="hljs-keyword">catch</span> (IOException e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
}
</code></pre>
<h2 data-id="heading-8">å­—ç¬¦æµ</h2>
<p>å¯ä»¥å¯¹æ•°æ®è¿›è¡Œæ“ä½œ</p>
<h3 data-id="heading-9">å­—ç¬¦è¾“å…¥æµ Reader</h3>
<p>ä½œç”¨ï¼šä»¥å†…å­˜ä¸ºåŸºå‡†ï¼Œå¯ä»¥æŠŠæ–‡ä»¶ä¸­çš„æ•°æ®ä»¥å­—ç¬¦çš„å½¢å¼è¯»å…¥åˆ°å†…å­˜ä¸­å»ã€‚</p>
<p>åŸºæœ¬è¯­æ³•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/379796edd7024a94b0e30f728e954981~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=HYlJzKdGH4LUinZxH4NgXYZD9W0%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7b1edda94934437388ebd8d600dc0f33~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=%2BXrjnMeIMv6BKLHVcH3oArmc6IE%3D" alt="image.png" loading="lazy"/></p>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">// ç›®æ ‡ï¼šæŒæ¡å­—ç¬¦è¾“å…¥æµçš„æ“ä½œ</span>
<span class="hljs-keyword">try</span> (
        <span class="hljs-comment">//1.åˆ›å»ºè¾“å…¥æµèµ„æº</span>
        <span class="hljs-type">FileReader</span> <span class="hljs-variable">reader</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(<span class="hljs-string">"day04-IOThread/a.txt"</span>)
) {
    <span class="hljs-comment">//2.è¯»å–ä¸€ä¸ªå­—ç¬¦</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> reader.read();
    System.out.println((<span class="hljs-type">char</span>) c);<span class="hljs-comment">//a</span>
    c = reader.read();
    System.out.println((<span class="hljs-type">char</span>) c);<span class="hljs-comment">//b</span>
    c = reader.read();
    System.out.println((<span class="hljs-type">char</span>) c);<span class="hljs-comment">//c</span>
    c = reader.read();
    System.out.println((<span class="hljs-type">char</span>) c);<span class="hljs-comment">//å”</span>

    <span class="hljs-comment">//3.è¯»å–ä¸€ä¸ªå­—ç¬¦æ•°ç»„</span>
    <span class="hljs-type">char</span>[] chars = <span class="hljs-keyword">new</span> <span class="hljs-title class_">char</span>[<span class="hljs-number">1024</span>];
    <span class="hljs-type">int</span> <span class="hljs-variable">length</span> <span class="hljs-operator">=</span> reader.read(chars);
    System.out.println(<span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(chars,<span class="hljs-number">0</span>,length));
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
}
</code></pre>
<h3 data-id="heading-10">å­—ç¬¦è¾“å‡ºæµ Writer</h3>
<p>ä½œç”¨ï¼šä»¥å†…å­˜ä¸ºåŸºå‡†ï¼ŒæŠŠå†…å­˜ä¸­çš„æ•°æ®ä»¥å­—ç¬¦çš„å½¢å¼å†™å‡ºåˆ°æ–‡ä»¶ä¸­å»ã€‚</p>
<p>åŸºæœ¬æ–¹æ³•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8b7268734524d739fc6ea40734c96f8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=iXzipUVjd5tqJvupZWz%2BeIzE9mc%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38ea8a2c18614a26bc0da687a04ba75d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=PdOFsbANmV5WU1IcK75ZPOXmHxo%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a9b30ee0d6fd4a16b6163031512128a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=r5xt2qdupLVzMg%2F70Hy20cIuzis%3D" alt="image.png" loading="lazy"/></p>
<p>å­—ç¬¦è¾“å‡ºæµå†™å‡ºæ•°æ®åï¼Œå¿…é¡»åˆ·æ–°æµï¼Œæˆ–è€…å…³é—­æµï¼Œå†™å‡ºå»çš„æ•°æ®æ‰èƒ½ç”Ÿæ•ˆ</p>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šæŒæ¡å­—ç¬¦è¾“å‡ºæµçš„æ“ä½œ</span>

<span class="hljs-keyword">try</span> (
    <span class="hljs-comment">//1.åˆ›å»ºå­—ç¬¦ä¸²è¾“å‡ºæµå¯¹è±¡</span>
    <span class="hljs-type">FileWriter</span> <span class="hljs-variable">writer</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileWriter</span>(<span class="hljs-string">"day04-IOThread/a.txt"</span>)
){
    <span class="hljs-comment">//2.å†™ä¸€ä¸ªå­—ç¬¦</span>
    writer.write(<span class="hljs-number">97</span>);

    <span class="hljs-comment">//3.å†™ä¸€ä¸ªå­—ç¬¦ä¸²</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">"hello world"</span>;
    writer.write(<span class="hljs-string">"\n"</span> + str);

    <span class="hljs-comment">//4.å†™ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†</span>
    writer.write(<span class="hljs-string">"\n"</span> + str,<span class="hljs-number">0</span>,<span class="hljs-number">6</span>);

    <span class="hljs-comment">//5.å†™ä¸€ä¸ªå­—ç¬¦æ•°ç»„</span>
    <span class="hljs-type">char</span>[] chars = {<span class="hljs-string">'a'</span>,<span class="hljs-string">'b'</span>,<span class="hljs-string">'c'</span>,<span class="hljs-string">'å”'</span>};
    writer.write(<span class="hljs-string">"\n"</span>);
    writer.write(chars);

    <span class="hljs-comment">//6.å†™ä¸€ä¸ªå­—ç¬¦æ•°ç»„çš„ä¸€éƒ¨åˆ†</span>
    writer.write(<span class="hljs-string">"\n"</span>);
    writer.write(chars,<span class="hljs-number">0</span> ,<span class="hljs-number">3</span>);
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
}
</code></pre>
<h2 data-id="heading-11">ç¼“å†²æµ</h2>
<h3 data-id="heading-12">ç¼“å†²å­—èŠ‚è¾“å…¥æµ BufferedInputstream</h3>
<h3 data-id="heading-13">ç¼“å†²å­—èŠ‚è¾“å‡ºæµ BufferedOutputstream</h3>
<p>ä½œç”¨ï¼šå¯ä»¥æé«˜å­—èŠ‚æµè¯»å†™æ•°æ®çš„æ€§èƒ½
åŸç†ï¼šç¼“å†²å­—èŠ‚è¾“å…¥æµè‡ªå¸¦äº†8KBç¼“å†²æ± ï¼›ç¼“å†²å­—èŠ‚è¾“å‡ºæµä¹Ÿè‡ªå¸¦äº†8KBç¼“å†²æ± ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db4950b0d4644e069d5a97f8a1d9ded9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=sgzGrqQ0vFnTPFsIGdniQf1ITbc%3D" alt="image.png" loading="lazy"/></p>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šä½¿ç”¨é«˜çº§ç¼“å†²å­—èŠ‚æµå®ç°å¤åˆ¶æ–‡ä»¶</span>
<span class="hljs-comment">//æ³¨æ„ï¼šå¦‚æœç¼“å­˜çš„æ¡¶æ²¡æœ‰æ»¡ä¸ä¼šç«‹å³è¾“å‡ºï¼Œå¦‚æœæƒ³ç«‹å³è¾“å‡ºflush()æˆ–close()æ–¹æ³•</span>

<span class="hljs-keyword">try</span> (
        <span class="hljs-type">InputStream</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileInputStream</span>(<span class="hljs-string">"day04-IOThread/1.png"</span>);
        <span class="hljs-type">OutputStream</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(<span class="hljs-string">"day04-IOThread/2.png"</span>);

        <span class="hljs-comment">//åˆ›å»ºé«˜çº§ç¼“å†²æµ</span>
        <span class="hljs-type">BufferedInputStream</span> <span class="hljs-variable">bis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedInputStream</span>(in,<span class="hljs-number">1024</span>*<span class="hljs-number">16</span>);<span class="hljs-comment">//å°†é»˜è®¤8Kbç¼“å­˜ä¿®æ”¹ä¸º16KB</span>
        <span class="hljs-type">BufferedOutputStream</span> <span class="hljs-variable">bos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedOutputStream</span>(out,<span class="hljs-number">1024</span>*<span class="hljs-number">16</span>);
        ){

    <span class="hljs-type">byte</span>[] bytes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];

    <span class="hljs-comment">//3.2 å¾ªç¯è¯»å–å¹¶å†™å‡º</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">length</span> <span class="hljs-operator">=</span> -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">while</span> ((length = bis.read(bytes)) != -<span class="hljs-number">1</span>){
        bos.write(bytes,<span class="hljs-number">0</span>,length);
        <span class="hljs-comment">//bos.flush();//ä¸éœ€è¦ï¼Œå› ä¸ºæµä½¿ç”¨å®Œ  ä¼šè‡ªåŠ¨è°ƒç”¨close()æ–¹æ³•</span>
    }
    System.out.println(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶æˆåŠŸï¼"</span>);
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
}
</code></pre>
<h3 data-id="heading-14">ç¼“å†²å­—ç¬¦è¾“å…¥æµBufferedReader</h3>
<h3 data-id="heading-15">ç¼“å†²å­—ç¬¦è¾“å‡ºæµBufferedWriter</h3>
<p>åŸºæœ¬è¯­æ³•ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42c84791777a46df8305d82985317ba3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=m09WXMvtBjesgXPuevxozmq873I%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6b7286ce0e145e8aabe2c2d5a441555~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56iL5bqP5ZGY5qC55qC5:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765545458&amp;x-signature=8PO6LqpHNJeXuehvuOXwn1nYBEc%3D" alt="image.png" loading="lazy"/></p>
<p>ä»£ç ï¼š</p>
<pre><code class="hljs language-Java" lang="Java"><span class="hljs-comment">//ç›®æ ‡ï¼šä½¿ç”¨é«˜çº§ç¼“å†²å­—ç¬¦æµå®ç°å¤åˆ¶æ–‡ä»¶</span>
<span class="hljs-comment">//æ³¨æ„ï¼šå¦‚æœç¼“å­˜çš„æ¡¶æ²¡æœ‰æ»¡ä¸ä¼šç«‹å³è¾“å‡ºï¼Œå¦‚æœæƒ³ç«‹å³è¾“å‡ºflush()æˆ–close()æ–¹æ³•</span>

<span class="hljs-keyword">try</span> (
        <span class="hljs-type">FileReader</span> <span class="hljs-variable">in</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileReader</span>(<span class="hljs-string">"day04-IOThread/1.txt"</span>);
        <span class="hljs-type">FileWriter</span> <span class="hljs-variable">out</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileWriter</span>(<span class="hljs-string">"day04-IOThread/2.txt"</span>);

        <span class="hljs-comment">//åˆ›å»ºé«˜çº§ç¼“å†²æµ</span>
        <span class="hljs-type">BufferedReader</span> <span class="hljs-variable">bis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedReader</span>(in,<span class="hljs-number">1024</span>*<span class="hljs-number">16</span>);<span class="hljs-comment">//å°†é»˜è®¤8Kbç¼“å­˜ä¿®æ”¹ä¸º16KB</span>
        <span class="hljs-type">BufferedWriter</span> <span class="hljs-variable">bos</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BufferedWriter</span>(out,<span class="hljs-number">1024</span>*<span class="hljs-number">16</span>);
){

    <span class="hljs-comment">/*byte[] bytes = new byte[1024];

    //3.2 å¾ªç¯è¯»å–å¹¶å†™å‡º
    int length = -1;
    while ((length = bis.read(bytes)) != -1){
        bos.write(bytes,0,length);
        //bos.flush();//ä¸éœ€è¦ï¼Œå› ä¸ºæµä½¿ç”¨å®Œ  ä¼šè‡ªåŠ¨è°ƒç”¨close()æ–¹æ³•
    }*/</span>

    <span class="hljs-comment">//æŒ‰ç…§è¡Œè¯»å†™</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">while</span> ((result = bis.readLine()) != <span class="hljs-literal">null</span>){
        bos.write(result);
        <span class="hljs-comment">//æ³¨æ„ï¼šéœ€è¦æ‰‹åŠ¨æ¢è¡Œ</span>
        bos.newLine();
    }
    System.out.println(<span class="hljs-string">"æ–‡ä»¶å¤åˆ¶æˆåŠŸï¼"</span>);
} <span class="hljs-keyword">catch</span> (Exception e) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(e);
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Rockylinuxæ€¥é€Ÿå®‰è£…K8så­¦ä¹ ç¯å¢ƒ]]></title>    <link>https://juejin.cn/post/7580183671531438118</link>    <guid>https://juejin.cn/post/7580183671531438118</guid>    <pubDate>2025-12-05T14:00:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580183671531438118" data-draft-id="7580183671531421734" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Rockylinuxæ€¥é€Ÿå®‰è£…K8så­¦ä¹ ç¯å¢ƒ"/> <meta itemprop="keywords" content="Kubernetes,äº‘åŸç”Ÿ,äº‘è®¡ç®—"/> <meta itemprop="datePublished" content="2025-12-05T14:00:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¼šé£çš„å°è›®çŒª"/> <meta itemprop="url" content="https://juejin.cn/user/2412772052441591"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Rockylinuxæ€¥é€Ÿå®‰è£…K8så­¦ä¹ ç¯å¢ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2412772052441591/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¼šé£çš„å°è›®çŒª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:00:07.000Z" title="Fri Dec 05 2025 14:00:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç›®å‰åœ¨å­¦ä¹ k8sï¼Œä¸ºäº†æ›´å¿«çš„äº†è§£k8sçš„å„é¡¹åŠŸèƒ½ï¼Œå…ˆä½¿ç”¨RockyLinuxå¿«é€Ÿæ­å»ºäº†ä¸€ä¸ªå®éªŒç¯å¢ƒï¼Œä½¿ç”¨äº†1ä¸»2ä»çš„ç»“æ„ï¼Œè¿™é‡Œåˆ†äº«ä¸€ä¸‹ï¼Œk8så°ç™½å¤§ä½¬åˆ«å–·ï¼</p>
</blockquote>
<h2 data-id="heading-0">1. ç¯å¢ƒåˆå§‹åŒ–(æ‰€æœ‰ä¸»æœºéƒ½è¦é…ç½®)</h2>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â ç½‘å¡é…ç½®(ä¸åŒä¸»æœºIPè¦é…ç½®ä¸åŒ)</span>
catÂ /etc/NetworkManager/system-connections/ens18.nmconnection
<span class="hljs-section">[connection]</span>
<span class="hljs-attr">id</span>=ens18
<span class="hljs-attr">uuid</span>=ee21d8d7-bfeb-<span class="hljs-number">34</span>dd-<span class="hljs-number">83</span>ca-f72558024a79
<span class="hljs-attr">type</span>=ethernet
<span class="hljs-attr">autoconnect-priority</span>=-<span class="hljs-number">999</span>
<span class="hljs-attr">interface-name</span>=ens18
<span class="hljs-attr">timestamp</span>=<span class="hljs-number">1764832445</span>

<span class="hljs-section">[ethernet]</span>

<span class="hljs-section">[ipv4]</span>
<span class="hljs-attr">method</span>=manual
<span class="hljs-attr">address1</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">1.190</span>/<span class="hljs-number">24</span>,<span class="hljs-number">192.168</span>.<span class="hljs-number">1.5</span>
<span class="hljs-attr">dns</span>=<span class="hljs-number">114.114</span>.<span class="hljs-number">114.114</span><span class="hljs-comment">;8.8.8.8</span>

<span class="hljs-section">[ipv6]</span>
<span class="hljs-attr">addr-gen-mode</span>=eui64
<span class="hljs-attr">method</span>=auto

<span class="hljs-section">[proxy]</span>


<span class="hljs-comment">#Â è°ƒç”¨Â nmcliÂ é‡å¯è®¾å¤‡å’Œè¿æ¥é…ç½®</span>
nmcliÂ conÂ upÂ ens18
nmcliÂ conÂ reload

------
<span class="hljs-comment">#Â è®¾ç½®ä¸»æœºå(æ‰€æœ‰ä¸»æœºéƒ½è¦è®¾ç½®)</span>
root@server190Â ~]<span class="hljs-comment">#Â catÂ /etc/hosts</span>

127.0.0.1Â Â Â localhostÂ localhost.localdomainÂ localhost4Â localhost4.localdomain4
::1Â Â Â Â Â Â Â Â Â localhostÂ localhost.localdomainÂ localhost6Â localhost6.localdomain6
192.168.1.190Â server190
192.168.1.191Â server191
192.168.1.192Â server192
------
<span class="hljs-comment">#Â RockyÂ ç³»ç»Ÿè½¯ä»¶æºæ›´æ¢</span>
sedÂ -eÂ 's|^<span class="hljs-attr">mirrorlist</span>=|<span class="hljs-comment">#mirrorlist=|g'Â \</span>
Â Â Â Â -eÂ 's|^<span class="hljs-comment">#baseurl=http://dl.rockylinux.org/$contentdir|baseurl=https://mirrors.aliyun.com/rockylinux|g'Â \</span>
Â Â Â Â -i.bakÂ \
Â Â Â Â /etc/yum.repos.d/<span class="hljs-section">[Rr]</span>ocky*.repo
dnfÂ makecache

<span class="hljs-comment">#Â é˜²ç«å¢™ä¿®æ”¹Â firewalldÂ ä¸ºÂ iptables</span>
systemctlÂ stopÂ firewalld
systemctlÂ disableÂ firewalld

yumÂ -yÂ installÂ iptables-services
systemctlÂ startÂ iptables
iptablesÂ -F
systemctlÂ enableÂ iptables
serviceÂ iptablesÂ save

<span class="hljs-comment">#Â ç¦ç”¨Â Selinux</span>
setenforceÂ 0
sedÂ -iÂ "s/<span class="hljs-attr">SELINUX</span>=enforcing/SELINUX=disabled/g<span class="hljs-string">"Â /etc/selinux/config
grubbyÂ --update-kernelÂ ALLÂ --argsÂ selinux=0

#Â è®¾ç½®æ—¶åŒº
timedatectlÂ set-timezoneÂ Asia/Shanghai
----
#Â å…³é—­Â swapÂ åˆ†åŒº
swapoffÂ -a
#sedÂ -iÂ 's:/dev/mapper/rlm_192-swap:#/dev/mapper/rlm_192-swap:g'Â /etc/fstab
sedÂ -riÂ '/^[^#]*swap/s@^@#@'Â /etc/fstab
#Â ä¿®æ”¹ä¸»æœºå
hostnamectlÂ set-hostnameÂ k8s-node01
---
#Â å®‰è£…Â ipvs
yumÂ installÂ -yÂ ipvsadm

#Â å¼€å¯è·¯ç”±è½¬å‘
echoÂ 'net.ipv4.ip_forward=1'Â &gt;&gt;Â /etc/sysctl.conf
sysctlÂ -p'

#Â é‡å¯ç³»ç»Ÿ
reboot
</span></code></pre>
<h2 data-id="heading-1">2. å®‰è£…Docker(æ‰€æœ‰ä¸»æœºéƒ½è¦é…ç½®)</h2>
<pre><code class="hljs language-perl" lang="perl"> <span class="hljs-comment">#Â åŠ è½½Â bridge</span>
yumÂ installÂ -<span class="hljs-keyword">y</span>Â epel-release
yumÂ installÂ -<span class="hljs-keyword">y</span>Â bridge-utils

modprobeÂ br_netfilter
echoÂ <span class="hljs-string">'br_netfilter'</span>Â &gt;&gt;Â <span class="hljs-regexp">/etc/m</span>odules-load.d/bridge.conf
echoÂ <span class="hljs-string">'net.bridge.bridge-nf-call-iptables=1'</span>Â &gt;&gt;Â <span class="hljs-regexp">/etc/s</span>ysctl.conf
echoÂ <span class="hljs-string">'net.bridge.bridge-nf-call-iptables=1'</span>Â &gt;&gt;Â <span class="hljs-regexp">/etc/s</span>ysctl.conf
echoÂ <span class="hljs-string">'net.ipv4.jp_forward=1'</span>Â &gt;&gt;Â <span class="hljs-regexp">/etc/s</span>ysctl.conf
sysctlÂ -p

<span class="hljs-comment">#Â æ·»åŠ Â docker-ceÂ yumÂ æº</span>
<span class="hljs-comment">#Â ä¸­ç§‘å¤§(ustc)</span>
sudoÂ dnfÂ config-managerÂ --add-repoÂ https:<span class="hljs-regexp">//mirr</span>ors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo
cdÂ /etc/yum.repos.d
<span class="hljs-comment">#Â åˆ‡æ¢ä¸­ç§‘å¤§æº</span>
sedÂ -eÂ <span class="hljs-string">'s|download.docker.com|mirrors.ustc.edu.cn/docker-ce|g'</span>Â docker-ce.repoÂ &gt;docker-ce-ustc.repo
mvÂ docker-ce.repoÂ docker-ce.repo.back


<span class="hljs-comment">#Â å®‰è£…Â docker-ce</span>
yumÂ -<span class="hljs-keyword">y</span>Â installÂ docker-ce

<span class="hljs-comment">#Â é…ç½®Â daemon.</span>
catÂ &gt;Â <span class="hljs-regexp">/etc/d</span>ocker/daemon.jsonÂ &lt;&lt;EOF
{
Â Â Â Â <span class="hljs-string">"exec-opts"</span>:Â [<span class="hljs-string">"native.cgroupdriver=systemd"</span>],
Â Â Â Â <span class="hljs-string">"log-driver"</span>:Â <span class="hljs-string">"json-file"</span>,
Â Â Â Â <span class="hljs-string">"log-opts"</span>:Â {
Â Â Â Â <span class="hljs-string">"max-size"</span>:Â <span class="hljs-string">"100m"</span>,
Â Â Â Â <span class="hljs-string">"max-file"</span>:Â <span class="hljs-string">"100"</span>
Â Â Â Â },
Â Â Â Â <span class="hljs-string">"insecure-registries"</span>:Â [<span class="hljs-string">"ç§æœåœ°å€"</span>],
Â Â Â Â <span class="hljs-string">"registry-mirrors"</span>:Â [<span class="hljs-string">"å¯ä¿¡ä»»çš„é•œåƒä»“åº“"</span>]
}
EOF
<span class="hljs-keyword">mkdir</span>Â -pÂ /etc/systemd/<span class="hljs-keyword">system</span>/docker.service.d

<span class="hljs-comment">#Â é‡å¯dockeræœåŠ¡</span>
systemctlÂ daemon-reloadÂ &amp;&amp;Â systemctlÂ restartÂ dockerÂ &amp;&amp;Â systemctlÂ enableÂ docker

<span class="hljs-comment">#Â é‡å¯ç³»ç»Ÿ</span>
reboot
</code></pre>
<h2 data-id="heading-2">3. å®‰è£…Cri-Docker</h2>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â å®‰è£…Â cri-docker</span>
wgetÂ https://github.com/Mirantis/cri-dockerd/releases/download/v0.3.9/cri-dockerd-0.3.9.amd64.tgz
wgetÂ https://github.com/Mirantis/cri-dockerd/releases/download/v0.3.21/cri-dockerd-0.3.21.amd64.tgz
tarÂ -xfÂ cri-dockerd-0.3.9.amd64.tgz
cpÂ cri-dockerd/cri-dockerdÂ /usr/bin/
chmodÂ +xÂ /usr/bin/cri-dockerd

<span class="hljs-comment">#Â é…ç½®Â cri-dockerÂ æœåŠ¡</span>
catÂ &lt;&lt;"EOF"&gt;Â /usr/lib/systemd/system/cri-docker.service
<span class="hljs-section">[Unit]</span>
<span class="hljs-attr">Description</span>=CRIÂ InterfaceÂ forÂ DockerÂ ApplicationÂ ContainerÂ Engine
<span class="hljs-attr">Documentation</span>=https://docs.mirantis.com
<span class="hljs-attr">After</span>=network-<span class="hljs-literal">on</span>line.targetÂ firewalld.serviceÂ docker.service
<span class="hljs-attr">Wants</span>=network-<span class="hljs-literal">on</span>line.target
<span class="hljs-attr">Requires</span>=cri-docker.socket
<span class="hljs-section">[Service]</span>
<span class="hljs-attr">Type</span>=notify
<span class="hljs-attr">ExecStart</span>=/usr/bin/cri-dockerdÂ --network-plugin=cniÂ --pod-infra-container-image=registry.aliyuncs.com/google_containers/pause:<span class="hljs-number">3.9</span>
<span class="hljs-attr">ExecReload</span>=/bin/killÂ -sÂ HUPÂ <span class="hljs-variable">$MAINPID</span>
<span class="hljs-attr">ExecStop</span>=/bin/killÂ -sÂ SIGTERMÂ <span class="hljs-variable">$MAINPID</span>
<span class="hljs-attr">TimeoutStopSec</span>=<span class="hljs-number">30</span>
<span class="hljs-attr">TimeoutSec</span>=<span class="hljs-number">0</span>
<span class="hljs-attr">RestartSec</span>=<span class="hljs-number">2</span>
<span class="hljs-attr">Restart</span>=always
Â 
<span class="hljs-attr">StartLimitBurst</span>=<span class="hljs-number">3</span>
Â 
<span class="hljs-attr">StartLimitInterval</span>=<span class="hljs-number">60</span>s
Â 
<span class="hljs-attr">LimitNOFILE</span>=infinity
<span class="hljs-attr">LimitNPROC</span>=infinity
<span class="hljs-attr">LimitCORE</span>=infinity
Â 
<span class="hljs-attr">TasksMax</span>=infinity
<span class="hljs-attr">Delegate</span>=<span class="hljs-literal">yes</span>
<span class="hljs-attr">KillMode</span>=process
Â 
<span class="hljs-section">[Install]</span>
<span class="hljs-attr">WantedBy</span>=multi-user.target
EOF



---
<span class="hljs-comment">#Â æ·»åŠ Â cri-dockerÂ å¥—æ¥å­—</span>
catÂ &lt;&lt;"EOF"&gt;Â /usr/lib/systemd/system/cri-docker.socket
<span class="hljs-section">[Unit]</span>
<span class="hljs-attr">Description</span>=CRIÂ DockerÂ SocketÂ forÂ theÂ API
<span class="hljs-attr">PartOf</span>=cri-docker.service
Â 
<span class="hljs-section">[Socket]</span>
<span class="hljs-attr">ListenStream</span>=%t/cri-dockerd.sock
<span class="hljs-attr">SocketMode</span>=<span class="hljs-number">0660</span>
<span class="hljs-attr">SocketUser</span>=root
<span class="hljs-attr">SocketGroup</span>=docker
Â 
<span class="hljs-section">[Install]</span>
<span class="hljs-attr">WantedBy</span>=sockets.target
EOF


<span class="hljs-comment">#Â å¯åŠ¨Â cri-dockerÂ å¯¹åº”æœåŠ¡</span>
systemctlÂ daemon-reload
systemctlÂ enableÂ cri-docker
systemctlÂ startÂ cri-docker
systemctlÂ is-activeÂ cri-docker
</code></pre>
<h2 data-id="heading-3">4.å®‰è£…K8sç›¸å…³è½¯ä»¶</h2>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">#Â é…ç½®k8sé˜¿é‡Œäº‘æº</span>
catÂ &lt;&lt;EOFÂ &gt;Â /etc/yum.repos.d/kubernetes.repo
<span class="hljs-section">[kubernetes]</span>
<span class="hljs-attr">name</span>=Kubernetes
<span class="hljs-attr">baseurl</span>=https://pkgs.k8s.io/core:/stable:/v1.<span class="hljs-number">29</span>/rpm/
<span class="hljs-attr">enabled</span>=<span class="hljs-number">1</span>
<span class="hljs-attr">gpgcheck</span>=<span class="hljs-number">1</span>
<span class="hljs-attr">gpgkey</span>=https://pkgs.k8s.io/core:/stable:/v1.<span class="hljs-number">29</span>/rpm/repodata/repomd.xml.key
<span class="hljs-comment">#Â exclude=kubeletÂ kubeadmÂ kubectlÂ cri-toolsÂ kubernetes-cni</span>
EOF

yumÂ cleanÂ all
yumÂ makecache

<span class="hljs-comment">#Â å®‰è£…Â kubeadmÂ 1.29Â ç‰ˆæœ¬</span>
yumÂ installÂ -yÂ kubelet-1.29.0Â kubectl-1.29.0Â kubeadm-1.29.0
systemctlÂ enableÂ kubelet.service
</code></pre>
<h2 data-id="heading-4">5.åˆå§‹åŒ–é›†ç¾¤</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#Â åˆå§‹åŒ–ä¸»èŠ‚ç‚¹</span>
kubeadmÂ initÂ --apiserver-advertise-address=192.168.1.190Â \
--image-repository=registry.aliyuncs.com/google_containersÂ \
--kubernetes-version=1.29.2Â \
--service-cidr=10.10.0.0/12Â \
--pod-network-cidr=10.244.0.0/16Â \
--ignore-preflight-errors=allÂ \
--cri-socket=unix:///var/run/cri-dockerd.sock
<span class="hljs-comment">#Â ....</span>
YourÂ KubernetesÂ control-planeÂ hasÂ initializedÂ successfully!

ToÂ startÂ usingÂ yourÂ cluster,Â youÂ needÂ toÂ runÂ theÂ followingÂ asÂ aÂ regularÂ user:

Â Â <span class="hljs-built_in">mkdir</span>Â -pÂ <span class="hljs-variable">$HOME</span>/.kube
Â Â sudoÂ <span class="hljs-built_in">cp</span>Â -iÂ /etc/kubernetes/admin.confÂ <span class="hljs-variable">$HOME</span>/.kube/config
Â Â sudoÂ <span class="hljs-built_in">chown</span>Â $(<span class="hljs-built_in">id</span>Â -u):$(<span class="hljs-built_in">id</span>Â -g)Â <span class="hljs-variable">$HOME</span>/.kube/config

Alternatively,Â <span class="hljs-keyword">if</span>Â youÂ areÂ theÂ rootÂ user,Â youÂ canÂ run:

Â Â <span class="hljs-built_in">export</span>Â KUBECONFIG=/etc/kubernetes/admin.conf

YouÂ shouldÂ nowÂ deployÂ aÂ podÂ networkÂ toÂ theÂ cluster.
RunÂ <span class="hljs-string">"kubectlÂ applyÂ -fÂ [podnetwork].yaml"</span>Â withÂ oneÂ ofÂ theÂ optionsÂ listedÂ at:
Â Â https://kubernetes.io/docs/concepts/cluster-administration/addons/

ThenÂ youÂ canÂ <span class="hljs-built_in">join</span>Â anyÂ numberÂ ofÂ workerÂ nodesÂ byÂ runningÂ theÂ followingÂ onÂ eachÂ asÂ root:

kubeadmÂ <span class="hljs-built_in">join</span>Â 192.168.1.190:6443Â --tokenÂ 79dfmw.bcdri1p1uc5pbkomÂ \
Â Â Â Â --discovery-token-ca-cert-hashÂ sha256:1f30189f89860b28030415566be642f6fc8bb35407819f77da81d282a43895f6
<span class="hljs-comment">#Â ....å®‰è£…å®Œæˆ</span>

<span class="hljs-comment">#Â æ ¹åˆ›å»ºéœ€è¦çš„ç›®å½•åŠç®¡ç†é…ç½®æ–‡ä»¶</span>
<span class="hljs-built_in">mkdir</span>Â -pÂ <span class="hljs-variable">$HOME</span>/.kube
<span class="hljs-built_in">cp</span>Â -iÂ /etc/kubernetes/admin.confÂ <span class="hljs-variable">$HOME</span>/.kube/config
<span class="hljs-built_in">chown</span>Â $(<span class="hljs-built_in">id</span>Â -u):$(<span class="hljs-built_in">id</span>Â -g)Â <span class="hljs-variable">$HOME</span>/.kube/config


<span class="hljs-comment">#Â å¦‚æœæ²¡æœ‰æ³¨æ„åˆå§‹åŒ–çš„tokenå¯ä»¥é€šè¿‡å‘½ä»¤æŸ¥çœ‹</span>
kubeadmÂ tokenÂ list
<span class="hljs-comment">#Â è·å–Â --discovery-token-ca-cert-hashÂ å€¼ï¼Œå¾—åˆ°å€¼åéœ€è¦åœ¨å‰é¢æ‹¼æ¥ä¸ŠÂ sha256:</span>
opensslÂ x509Â -pubkeyÂ -<span class="hljs-keyword">in</span>Â /etc/kubernetes/pki/ca.crtÂ |Â opensslÂ rsaÂ -pubinÂ -outformÂ derÂ 2&gt;/dev/nullÂ |Â \
opensslÂ dgstÂ -sha256Â -hexÂ |Â sedÂ <span class="hljs-string">'s/^.*Â //'</span>


<span class="hljs-comment">#Â workÂ tokenÂ å¦‚æœè¿‡æœŸåï¼Œé‡æ–°ç”³è¯·</span>
kubeadmÂ tokenÂ createÂ --print-join-command
</code></pre>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment">#Â ä»èŠ‚ç‚¹åŠ å…¥ä¸»èŠ‚ç‚¹ï¼Œåœ¨ä¸»èŠ‚ç‚¹åˆå§‹åŒ–å®Œæˆåä¼šå‡ºç°å¦‚ä½•åŠ å…¥é›†ç¾¤çš„å‘½ä»¤ï¼Œå¯ä»¥ç›´æ¥å¤åˆ¶,æ³¨æ„è¦æŒ‡å®šå®¹å™¨sock</span>
kubeadmÂ <span class="hljs-keyword">join</span>Â <span class="hljs-number">192.168</span>.<span class="hljs-number">1.190</span>:<span class="hljs-number">6443</span>Â --tokenÂ <span class="hljs-number">79</span>dfmw.bcdri1p1uc5pbkomÂ \
Â Â Â Â --discovery-token-ca-cert-hashÂ sha256:<span class="hljs-number">1</span>f30189f89860b28030415566be642f6fc8bb35407819f77da81d282a43895f6Â \
Â Â Â Â --cri-<span class="hljs-keyword">socket</span>=unix:<span class="hljs-regexp">//</span><span class="hljs-regexp">/var/run</span>/cri-dockerd.sock
</code></pre>
<h2 data-id="heading-5">6. å®‰è£…ç½‘ç»œæ’ä»¶</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment">#Â å®˜ç½‘åœ°å€ï¼ˆcalicoæ’ä»¶ï¼‰</span>
https://docs.tigera.io/calico/latest/getting-started/kubernetes/self-managed-onprem/onpremises<span class="hljs-comment">#install-calico-with-kubernetes-api-datastore-more-than-50-nodes</span>

<span class="hljs-comment">#Â å®‰è£…CalicoÂ å‘½ä»¤è¡Œå·¥å…·</span>
curlÂ -oÂ calicoctlÂ -OÂ -LÂ https://github.com/projectcalico/calico/releases/download/v3.26.0/calicoctl-linux-amd64
<span class="hljs-built_in">chmod</span>Â 755Â calicoctl
<span class="hljs-built_in">cp</span>Â calicoctlÂ Â /usr/bin/

<span class="hljs-comment">#Â æ‰€æœ‰èŠ‚ç‚¹éƒ½éœ€è¦è¿›è¡Œä»¥ä¸‹æ“ä½œ(æå‰ä¸‹è½½å®¹å™¨é•œåƒ)</span>
wgetÂ https://github.com/projectcalico/calico/releases/download/v3.26.0/release-v3.26.0.tgz
tarÂ -xfÂ release-v3.26.0.tgz
<span class="hljs-built_in">cd</span>Â release-v3.26.0/images
dockerÂ loadÂ -iÂ calico-cni.tarÂ 
dockerÂ loadÂ -iÂ calico-node.tarÂ 
dockerÂ loadÂ -iÂ calico-typha.tarÂ 
dockerÂ loadÂ -iÂ calico-kube-controllers.tarÂ 

<span class="hljs-comment">#Â ä¸»èŠ‚ç‚¹æ“ä½œ</span>
curlÂ https://raw.githubusercontent.com/projectcalico/calico/v3.26.3/manifests/calico-typha.yamlÂ -oÂ calico.yaml
vimÂ calico.yaml
<span class="hljs-comment">#Â ä¿®æ”¹ä¸€ï¼š</span>
<span class="hljs-comment">#Â å–æ¶ˆæ‰æ³¨é‡Š</span>
Â Â Â Â Â Â Â Â Â Â Â Â -Â name:Â CALICO_IPV4POOL_CIDR
Â Â Â Â Â Â Â Â Â Â Â Â Â Â value:Â <span class="hljs-string">"10.244.0.0/16"</span>
<span class="hljs-comment">#Â valueçš„å€¼æ”¹ä¸ºå’ŒÂ åˆå§‹åŒ–ä¸»èŠ‚ç‚¹Â pod-network-cidrçš„å€¼ç›¸åŒ</span>

<span class="hljs-comment">#Â ä¿®æ”¹äºŒï¼š</span>
<span class="hljs-comment">#Â ä¿®æ”¹ä¸ºÂ BGPÂ æ¨¡å¼</span>
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-comment">#Â EnableÂ IPIP</span>
Â Â Â Â Â Â Â Â Â Â Â Â -Â name:Â CALICO_IPV4POOL_IPIP
Â Â Â Â Â Â Â Â Â Â Â Â Â Â value:Â <span class="hljs-string">"Off"</span>Â Â <span class="hljs-comment">#Â å°†Alwaysæ”¹æˆOff</span>
Â Â Â Â Â Â Â Â Â Â Â Â Â Â 
<span class="hljs-comment">#Â -----------ä¿®æ”¹ä¸‰:Â å¯é€‰æ“ä½œå¼€å§‹---------Â Â Â Â Â Â Â Â Â Â Â Â Â Â </span>
<span class="hljs-comment">#Â ç›®æ ‡Â IPÂ æˆ–åŸŸåå¯è¾¾</span>
-Â name:Â calico-node
Â Â image:Â registry.geoway.com/calico/node:v3.19.1
Â Â <span class="hljs-built_in">env</span>:
Â Â Â Â <span class="hljs-comment">#Â Auto-detectÂ theÂ BGPÂ IPÂ address.</span>
Â Â Â Â -Â name:Â IP
Â Â Â Â Â Â value:Â <span class="hljs-string">"autodetect"</span>
Â Â Â Â -Â name:Â IP_AUTODETECTION_METHOD
Â Â Â Â Â Â value:Â <span class="hljs-string">"can-reach=www.baidu.com"</span>Â <span class="hljs-comment">#Â å¯¹æœºå™¨ä¸Šæ‰€æœ‰ç½‘å¡è¿›è¡ŒåŸŸåè§£æå¦‚æœæˆåŠŸå°±é€‰æ‹©Â ä¸æˆåŠŸæ”¾å¼ƒ</span>
kubectlÂ <span class="hljs-built_in">set</span>Â <span class="hljs-built_in">env</span>Â daemonset/calico-nodeÂ -nÂ kube-systemÂ IP_AUTODETECTION_METHOD=can-reach=www.baidu.com

<span class="hljs-comment">#Â åŒ¹é…ç›®æ ‡ç½‘å¡</span>
-Â name:Â calico-node
Â Â image:Â registry.geoway.com/calico/node:v3.19.1
Â Â <span class="hljs-built_in">env</span>:
Â Â Â Â <span class="hljs-comment">#Â Auto-detectÂ theÂ BGPÂ IPÂ address.</span>
Â Â Â Â -Â name:Â IP
Â Â Â Â Â Â value:Â <span class="hljs-string">"autodetect"</span>
Â Â Â Â -Â name:Â IP_AUTODETECTION_METHOD
Â Â Â Â Â Â value:Â <span class="hljs-string">"interface=eth.*"</span>Â <span class="hljs-comment">#Â é€šè¿‡æ­£åˆ™åŒ¹é…ä½¿ç”¨çš„ç½‘å¡</span>

<span class="hljs-comment">#Â æ’é™¤åŒ¹é…ç½‘å¡</span>
-Â name:Â calico-node
Â Â image:Â registry.geoway.com/calico/node:v3.19.1
Â Â <span class="hljs-built_in">env</span>:
Â Â Â Â <span class="hljs-comment">#Â Auto-detectÂ theÂ BGPÂ IPÂ address.</span>
Â Â Â Â -Â name:Â IP
Â Â Â Â Â Â value:Â <span class="hljs-string">"autodetect"</span>
Â Â Â Â -Â name:Â IP_AUTODETECTION_METHOD
Â Â Â Â Â Â value:Â <span class="hljs-string">"skip-interface=eth.*"</span>
Â Â Â Â Â Â 
<span class="hljs-comment">#Â CIDRÂ æŒ‡å®šä¸€ä¸ªèŒƒå›´æ¥é€‰æ‹©ç½‘å¡</span>
-Â name:Â calico-node
Â Â image:Â registry.geoway.com/calico/node:v3.19.1
Â Â <span class="hljs-built_in">env</span>:
Â Â Â Â <span class="hljs-comment">#Â Auto-detectÂ theÂ BGPÂ IPÂ address.</span>
Â Â Â Â -Â name:Â IP
Â Â Â Â Â Â value:Â <span class="hljs-string">"autodetect"</span>
Â Â Â Â -Â name:Â IP_AUTODETECTION_METHOD
Â Â Â Â Â Â value:Â <span class="hljs-string">"cidr=192.168.200.0/24,172.15.0.0/24"</span>

<span class="hljs-comment">#Â ä¿®æ”¹Â kube-proxyÂ æ¨¡å¼ä¸ºÂ ipvs</span>
kubectlÂ editÂ configmapÂ kube-proxyÂ -nÂ kube-system
mode:Â ipvs
kubectlÂ deleteÂ podÂ -nÂ kube-systemÂ -lÂ k8s-app=kube-proxy
<span class="hljs-comment">#Â -----------å¯é€‰æ“ä½œç»“æŸ---------Â Â Â </span>



<span class="hljs-comment">#Â éƒ¨ç½²Â calicoÂ Â Â Â Â Â Â Â Â Â Â Â Â </span>
kubectlÂ Â applyÂ -fÂ calico.yaml


<span class="hljs-comment">#Â å¦‚æœä»èŠ‚ç‚¹ä¹Ÿéœ€è¦Â Â kubectlÂ getÂ nodesÂ Â åšä»¥ä¸‹æ“ä½œ</span>
<span class="hljs-comment">#Â å…ˆå»åˆ°Â masterèŠ‚ç‚¹</span>
scpÂ /etc/kubernetes/admin.confÂ Â 192.168.1.191:/etc/kubernetes/
scpÂ /etc/kubernetes/admin.confÂ Â 192.168.1.192:/etc/kubernetes/

<span class="hljs-comment">#Â å›åˆ°nodeèŠ‚ç‚¹</span>
<span class="hljs-built_in">echo</span>Â <span class="hljs-string">"exportÂ KUBECONFIG=/etc/kubernetes/admin.conf"</span>Â &gt;&gt;Â ~/.bash_profile
<span class="hljs-built_in">source</span>Â ~/.bash_profile

kubectlÂ getÂ nodes
<span class="hljs-comment">#Â å®Œæˆ</span>

<span class="hljs-comment">#Â å¯ä»¥å…³æ³¨çš„ç›®å½•</span>
/etc/kubernetes/mainfestsÂ <span class="hljs-comment">#Â è¿™é‡Œæ˜¯å¯åŠ¨k8sçš„æ¸…å•æ–‡ä»¶ï¼ŒåŒ…æ‹¬apiserverç­‰ï¼Œå¯¹äºæƒ³è¦ä½¿ç”¨äºŒè¿›åˆ¶å®‰è£…çš„åŒå­¦æœ‰ä¸€äº›å‚è€ƒæ€§Â </span>
/etc/kubernetes/admin.confÂ <span class="hljs-comment">#Â k8sçš„adminç®¡ç†æ–‡ä»¶Â å¦¥å–„ä¿ç®¡</span>
/var/lib/kubelet/kubeadm-flags.envÂ <span class="hljs-comment">#Â kubeletåŸºäºkubeadmiçš„ä¸€äº›å­é€‰é¡¹ï¼Œcriæ¥å£ï¼Œé•œåƒä»“åº“</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ç¯‡åƒé€å‡½æ•°å¼ç¼–ç¨‹ï¼šLambdaè¡¨è¾¾å¼ä¸æ–¹æ³•å¼•ç”¨]]></title>    <link>https://juejin.cn/post/7580208715274895402</link>    <guid>https://juejin.cn/post/7580208715274895402</guid>    <pubDate>2025-12-05T14:05:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580208715274895402" data-draft-id="7580184249908871210" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ç¯‡åƒé€å‡½æ•°å¼ç¼–ç¨‹ï¼šLambdaè¡¨è¾¾å¼ä¸æ–¹æ³•å¼•ç”¨"/> <meta itemprop="keywords" content="åç«¯,Java"/> <meta itemprop="datePublished" content="2025-12-05T14:05:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="okseekw"/> <meta itemprop="url" content="https://juejin.cn/user/1933379625032649"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ç¯‡åƒé€å‡½æ•°å¼ç¼–ç¨‹ï¼šLambdaè¡¨è¾¾å¼ä¸æ–¹æ³•å¼•ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1933379625032649/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    okseekw
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:05:53.000Z" title="Fri Dec 05 2025 14:05:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ç¯‡åƒé€å‡½æ•°å¼ç¼–ç¨‹ï¼šLambdaè¡¨è¾¾å¼ä¸æ–¹æ³•å¼•ç”¨</h2>
<p>åœ¨JDK8ä¹‹å‰ï¼Œæˆ‘ä»¬ç¼–å†™ä»£ç æ—¶å¸¸å¸¸ä¼šè¢«å¤§é‡çš„åŒ¿åå†…éƒ¨ç±»"æ·¹æ²¡"ï¼Œä¸ä»…ä»£ç å†—ä½™ï¼Œå¯è¯»æ€§ä¹Ÿå¤§æ‰“æŠ˜æ‰£ã€‚è€ŒJDK8å¼•å…¥çš„<strong>å‡½æ•°å¼ç¼–ç¨‹</strong>ç‰¹æ€§ï¼Œå‡­å€ŸLambdaè¡¨è¾¾å¼å’Œæ–¹æ³•å¼•ç”¨ï¼Œå½»åº•ç®€åŒ–äº†è¿™ç±»åœºæ™¯çš„ä»£ç ç¼–å†™ã€‚æœ¬æ–‡å°†ç»“åˆ<strong>çœŸå®é¡¹ç›®ç»éªŒ</strong>ã€<strong>æ·±å…¥åŸç†åˆ†æ</strong>å’Œ<strong>å¤§é‡å®æˆ˜æ¡ˆä¾‹</strong>ï¼Œå¸¦ä½ ä»é›¶æŒæ¡è¿™ä¸¤ä¸ªæ ¸å¿ƒæŠ€èƒ½ï¼Œè®©ä½ çš„ä»£ç ç¬é—´å˜å¾—ç®€æ´ä¼˜é›…ã€‚</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€Lambdaè¡¨è¾¾å¼ï¼šç®€åŒ–å‡½æ•°å¼æ¥å£çš„åˆ©å™¨</h3>
<h4 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯Lambdaè¡¨è¾¾å¼ï¼Ÿâ€”â€”ä¸åªæ˜¯è¯­æ³•ç³–</h4>
<p>Lambdaè¡¨è¾¾å¼æ˜¯JDK8æ–°å¢çš„è¯­æ³•ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>åŒ¿åå‡½æ•°</strong>ï¼Œä½†å®ƒèƒŒåæ˜¯JVMå¯¹å‡½æ•°å¼ç¼–ç¨‹çš„æ·±åº¦æ”¯æŒã€‚<strong>å…³é”®ç‚¹</strong>ï¼šLambdaä¸æ˜¯ç®€å•çš„è¯­æ³•ç³–ï¼Œè€Œæ˜¯ç¼–è¯‘å™¨ç”Ÿæˆçš„<code>invokedynamic</code>æŒ‡ä»¤ï¼Œè®©JVMèƒ½å¤Ÿé«˜æ•ˆæ‰§è¡Œå‡½æ•°å¼ä»£ç ã€‚</p>
<p><strong>æ ¸å¿ƒè¯­æ³•</strong>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust">(å‚æ•°åˆ—è¡¨) <span class="hljs-punctuation">-&gt;</span> { è¡¨è¾¾å¼/è¯­å¥ }
</code></pre>
<h4 data-id="heading-3">1.2 å…³é”®å‰æï¼šå‡½æ•°å¼æ¥å£</h4>
<p>Lambdaè¡¨è¾¾å¼<strong>åªèƒ½ç®€åŒ–å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»</strong>ï¼Œè¿™æ˜¯ä½¿ç”¨Lambdaçš„æ ¸å¿ƒå‰æã€‚ä½†è¿™é‡Œæœ‰ä¸ªé‡è¦è¯¯åŒºï¼š<strong>å‡½æ•°å¼æ¥å£ä¸ç­‰äºåªæœ‰ä¸€ä¸ªæ–¹æ³•çš„æ¥å£</strong>ï¼Œè€Œæ˜¯<strong>æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•</strong>çš„æ¥å£ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦@FunctionalInterfaceï¼Ÿ</strong></p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä¸ºä»€ä¹ˆéœ€è¦è¿™ä¸ªæ³¨è§£ï¼Ÿ</span>
@FunctionalInterface
<span class="hljs-keyword">interface</span> <span class="hljs-title">Swim</span> {
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">swimming</span>()</span>; <span class="hljs-comment">// ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•</span>
    <span class="hljs-function"><span class="hljs-literal">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rest</span>()</span> {} <span class="hljs-comment">// é»˜è®¤æ–¹æ³•ä¸å½±å“</span>
}
</code></pre>
<p><strong>é‡è¦æç¤º</strong>ï¼šJava 8ä¸­ï¼Œæ¥å£å¯ä»¥åŒ…å«é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•ï¼Œä½†<strong>å‡½æ•°å¼æ¥å£åªèƒ½æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•</strong>ã€‚</p>
<p><strong>é”™è¯¯ç¤ºä¾‹</strong>ï¼ˆæ— æ³•ä½¿ç”¨Lambdaï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// æŠ½è±¡ç±»çš„åŒ¿åå†…éƒ¨ç±»ï¼Œæ— æ³•ç”¨Lambdaç®€åŒ–</span>
Animal animal = <span class="hljs-keyword">new</span> Animal() {
    @Override
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">cry</span>()</span> {
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ğŸ±æ˜¯å–µå–µå–µçš„å«~~~"</span>);
    }
};
animal.cry();

<span class="hljs-comment">// æ™®é€šæ¥å£ï¼ˆæœ‰ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•ï¼‰ï¼Œæ— æ³•ç”¨Lambda</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title">Fly</span> {
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fly</span>()</span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">land</span>()</span>; <span class="hljs-comment">// ä¸¤ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä¸æ˜¯å‡½æ•°å¼æ¥å£</span>
}
</code></pre>
<p><strong>æ­£ç¡®ç¤ºä¾‹</strong>ï¼ˆå¯ä½¿ç”¨Lambdaï¼‰ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">@FunctionalInterface
<span class="hljs-keyword">interface</span> <span class="hljs-title">Swim</span> {
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">swimming</span>()</span>;
}

Swim s1 = () -&gt; System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"å­¦ç”ŸğŸŠâ€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€â€......
</span></code></pre>
<h4 data-id="heading-4">1.3 Lambdaçš„çœç•¥è§„åˆ™</h4>
<p>Lambdaçš„çœç•¥è§„åˆ™ä¸æ˜¯ç®€å•çš„"èƒ½çœå°±çœ"ï¼Œè€Œæ˜¯<strong>åŸºäºæ–¹æ³•ç­¾åçš„åŒ¹é…</strong>ã€‚è®©æˆ‘ä»¬æ·±å…¥ç†è§£ï¼š</p>






























<table><thead><tr><th>è§„åˆ™</th><th>è¯´æ˜</th><th>å®æˆ˜æ¡ˆä¾‹</th></tr></thead><tbody><tr><td>å‚æ•°ç±»å‹çœç•¥</td><td>ä»…å½“ç¼–è¯‘å™¨èƒ½æ¨æ–­ç±»å‹æ—¶</td><td><code>(o1, o2) -&gt; o1.getAge() - o2.getAge()</code></td></tr><tr><td>å•ä¸ªå‚æ•°çœç•¥æ‹¬å·</td><td>ä»…å½“å‚æ•°åªæœ‰ä¸€ä¸ªæ—¶</td><td><code>e -&gt; System.out.println("ç™»å½•æˆåŠŸ")</code></td></tr><tr><td>å•è¡Œä»£ç çœç•¥å¤§æ‹¬å·</td><td>ä»…å½“æ–¹æ³•ä½“æ˜¯å•è¡Œè¯­å¥æ—¶</td><td><code>e -&gt; System.out.println("ç™»å½•æˆåŠŸ")</code></td></tr><tr><td>å•è¡Œreturnçœç•¥return</td><td>ä»…å½“æ˜¯returnè¯­å¥æ—¶</td><td><code>(a, b) -&gt; a + b</code></td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆä¸èƒ½çœç•¥å¤§æ‹¬å·ï¼Ÿ</strong><br/>
å½“æ–¹æ³•ä½“æœ‰å¤šè¡Œä»£ç æ—¶ï¼Œå¿…é¡»ç”¨å¤§æ‹¬å·ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// é”™è¯¯ï¼šçœç•¥å¤§æ‹¬å·</span>
btn.addActionListener(e -&gt; System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ç™»å½•æˆåŠŸ"</span>); System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ç™»å½•å¤±è´¥"</span>)); 

<span class="hljs-comment">// æ­£ç¡®ï¼šå¿…é¡»ç”¨å¤§æ‹¬å·</span>
btn.addActionListener(e -&gt; {
    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ç™»å½•æˆåŠŸ"</span>);
    System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ç™»å½•å¤±è´¥"</span>);
});
</code></pre>
<hr/>
<h3 data-id="heading-5">äºŒã€æ–¹æ³•å¼•ç”¨ï¼šè®©Lambdaä»£ç æ›´ä¼˜é›…</h3>
<p>æ–¹æ³•å¼•ç”¨æ˜¯Lambdaçš„"è¯­æ³•ç³–"ï¼Œä½†å®ƒ<strong>ä¸æ˜¯ä¸ºäº†ç®€åŒ–ä»£ç ï¼Œè€Œæ˜¯ä¸ºäº†æé«˜å¯è¯»æ€§</strong>ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªçœŸå®é¡¹ç›®ä¸­çš„å¯¹æ¯”ï¼š</p>
<h4 data-id="heading-6">2.1 é™æ€æ–¹æ³•å¼•ç”¨</h4>
<p><strong>åœºæ™¯</strong>ï¼šåœ¨ç”µå•†ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®å•†å“IDæŸ¥è¯¢å•†å“ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// ä¼ ç»ŸLambdaå†™æ³•ï¼ˆå¯è¯»æ€§ä¸€èˆ¬ï¼‰
List&lt;Product&gt; <span class="hljs-attr">products</span> = productRepository.findAll()<span class="hljs-comment">;</span>
List&lt;String&gt; <span class="hljs-attr">names</span> = products.stream()
    .map(p -&gt; ProductUtil.getProductName(p.getId()))
    .collect(Collectors.toList())<span class="hljs-comment">;</span>

// æ–¹æ³•å¼•ç”¨å†™æ³•ï¼ˆå¯è¯»æ€§å¤§å¹…æå‡ï¼‰
List&lt;String&gt; <span class="hljs-attr">names</span> = products.stream()
    .map(ProductUtil::getProductName)
    .collect(Collectors.toList())<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæ›´å¥½ï¼Ÿ</strong></p>
<ul>
<li>ä¸€çœ¼çœ‹å‡ºæ˜¯è°ƒç”¨<code>ProductUtil</code>çš„<code>getProductName</code>æ–¹æ³•</li>
<li>ä»£ç é•¿åº¦å‡å°‘30%</li>
<li>é™ä½äº†ç»´æŠ¤æˆæœ¬</li>
</ul>
<h4 data-id="heading-7">2.2 å®ä¾‹æ–¹æ³•å¼•ç”¨</h4>
<p><strong>åœºæ™¯</strong>ï¼šåœ¨ç”¨æˆ·ç®¡ç†æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ç”¨æˆ·IDæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// ä¼ ç»ŸLambdaå†™æ³•
UserRepository <span class="hljs-attr">userRepository</span> = new UserRepository()<span class="hljs-comment">;</span>
List&lt;User&gt; <span class="hljs-attr">users</span> = userRepository.findAll()<span class="hljs-comment">;</span>
List&lt;String&gt; <span class="hljs-attr">userNames</span> = users.stream()
    .map(u -&gt; userRepository.getUserNameById(u.getId()))
    .collect(Collectors.toList())<span class="hljs-comment">;</span>

// å®ä¾‹æ–¹æ³•å¼•ç”¨å†™æ³•
UserRepository <span class="hljs-attr">userRepository</span> = new UserRepository()<span class="hljs-comment">;</span>
List&lt;String&gt; <span class="hljs-attr">userNames</span> = users.stream()
    .map(userRepository::getUserNameById)
    .collect(Collectors.toList())<span class="hljs-comment">;</span>
</code></pre>
<p><strong>å…³é”®ç‚¹</strong>ï¼š<code>userRepository::getUserNameById</code>è¡¨ç¤º"å¯¹æ¯ä¸ª<code>User</code>å¯¹è±¡è°ƒç”¨<code>userRepository.getUserNameById</code>æ–¹æ³•"ã€‚</p>
<h4 data-id="heading-8">2.3 ç‰¹å®šç±»å‹çš„æ–¹æ³•å¼•ç”¨</h4>
<p><strong>åœºæ™¯</strong>ï¼šåœ¨è®¢å•ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹è®¢å•å·è¿›è¡Œæ’åºï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">String<span class="hljs-section">[]</span> <span class="hljs-attr">orderIds</span> = {<span class="hljs-string">"ORD-001"</span>, <span class="hljs-string">"ORD-002"</span>, <span class="hljs-string">"ord-003"</span>, <span class="hljs-string">"ORD-004"</span>}<span class="hljs-comment">;</span>
// ä¼ ç»ŸLambdaå†™æ³•
Arrays.sort(orderIds, (o1, o2) -&gt; o1.compareToIgnoreCase(o2))<span class="hljs-comment">;</span>

// æ–¹æ³•å¼•ç”¨å†™æ³•
Arrays.sort(orderIds, String::compareToIgnoreCase)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·ç”¨ï¼Ÿ</strong><br/>
<code>String::compareToIgnoreCase</code>è¡¨ç¤º"å¯¹ç¬¬ä¸€ä¸ªå‚æ•°ï¼ˆo1ï¼‰è°ƒç”¨<code>compareToIgnoreCase</code>æ–¹æ³•ï¼Œä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°ï¼ˆo2ï¼‰"ã€‚è¿™æ˜¯Java 8çš„<strong>ç‰¹å®šç±»å‹æ–¹æ³•å¼•ç”¨</strong>ï¼Œæ˜¯Lambdaçš„é«˜çº§ç”¨æ³•ã€‚</p>
<h4 data-id="heading-9">2.4 æ„é€ å™¨å¼•ç”¨</h4>
<p><strong>åœºæ™¯</strong>ï¼šåœ¨æ”¯ä»˜ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºæ”¯ä»˜å¯¹è±¡ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// ä¼ ç»ŸLambdaå†™æ³•
PaymentFactory <span class="hljs-attr">factory</span> = orderId -&gt; new Payment(orderId, <span class="hljs-string">"pending"</span>)<span class="hljs-comment">;</span>
Payment <span class="hljs-attr">payment</span> = factory.create(<span class="hljs-string">"PAY-001"</span>)<span class="hljs-comment">;</span>

// æ„é€ å™¨å¼•ç”¨å†™æ³•
PaymentFactory <span class="hljs-attr">factory</span> = Payment::new<span class="hljs-comment">;</span>
Payment <span class="hljs-attr">payment</span> = factory.create(<span class="hljs-string">"PAY-001"</span>)<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆæ¨èï¼Ÿ</strong></p>
<ul>
<li>ä»£ç æ›´ç®€æ´</li>
<li>é¿å…äº†é‡å¤çš„<code>new</code>æ“ä½œ</li>
<li>ä¸å·¥å‚æ¨¡å¼å®Œç¾ç»“åˆ</li>
</ul>
<hr/>
<h3 data-id="heading-10">ä¸‰ã€Lambdaä¸Stream APIçš„æ·±åº¦ç»“åˆ</h3>
<p>Lambdaè¡¨è¾¾å¼ä¸Stream APIæ˜¯JDK8çš„"é»„é‡‘ç»„åˆ"ï¼Œèƒ½å¤§å¹…æå‡é›†åˆæ“ä½œçš„å¼€å‘æ•ˆç‡ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ª<strong>çœŸå®ç”µå•†ç³»ç»Ÿ</strong>çš„æ¡ˆä¾‹ï¼š</p>
<h4 data-id="heading-11">3.1 ä»"ä¼ ç»Ÿå†™æ³•"åˆ°"Lambda + Stream"</h4>
<p><strong>ä¼ ç»Ÿå†™æ³•ï¼ˆå†—é•¿ã€å¯è¯»æ€§å·®ï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// ä¼ ç»Ÿå†™æ³•ï¼šè¿‡æ»¤ä»·æ ¼&gt;100ä¸”åº“å­˜&gt;0çš„å•†å“
List&lt;Product&gt; <span class="hljs-attr">products</span> = productRepository.findAll()<span class="hljs-comment">;</span>
List&lt;Product&gt; <span class="hljs-attr">filtered</span> = new ArrayList&lt;&gt;()<span class="hljs-comment">;</span>
for (Product p : products) {
    if (p.getPrice() &gt; 100 &amp;&amp; p.getStock() &gt; 0) {
        filtered.add(p)<span class="hljs-comment">;</span>
    }
}
</code></pre>
<p><strong>Lambda + Streamå†™æ³•ï¼ˆç®€æ´ã€å¯è¯»æ€§å¼ºï¼‰</strong> ï¼š</p>
<pre><code class="hljs language-css" lang="css">List&lt;Product&gt; filtered = products<span class="hljs-selector-class">.stream</span>()
    <span class="hljs-selector-class">.filter</span>(<span class="hljs-selector-tag">p</span> -&gt; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getPrice</span>() &gt; <span class="hljs-number">100</span>)
    <span class="hljs-selector-class">.filter</span>(<span class="hljs-selector-tag">p</span> -&gt; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getStock</span>() &gt; <span class="hljs-number">0</span>)
    <span class="hljs-selector-class">.collect</span>(Collectors<span class="hljs-selector-class">.toList</span>());
</code></pre>
<h4 data-id="heading-12">3.2 æ›´å¤æ‚çš„ä¸šåŠ¡åœºæ™¯</h4>
<p><strong>åœºæ™¯</strong>ï¼šè·å–ä»·æ ¼&gt;100ä¸”åº“å­˜&gt;0çš„å•†å“ï¼Œå¹¶æŒ‰ä»·æ ¼æ’åºï¼Œæœ€ååªå–å‰10ä¸ªã€‚</p>
<pre><code class="hljs language-css" lang="css">List&lt;Product&gt; topProducts = products<span class="hljs-selector-class">.stream</span>()
    <span class="hljs-selector-class">.filter</span>(<span class="hljs-selector-tag">p</span> -&gt; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getPrice</span>() &gt; <span class="hljs-number">100</span>)
    <span class="hljs-selector-class">.filter</span>(<span class="hljs-selector-tag">p</span> -&gt; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getStock</span>() &gt; <span class="hljs-number">0</span>)
    <span class="hljs-selector-class">.sorted</span>(Comparator<span class="hljs-selector-class">.comparingDouble</span>(Product::getPrice).<span class="hljs-built_in">reversed</span>())
    .<span class="hljs-built_in">limit</span>(<span class="hljs-number">10</span>)
    .<span class="hljs-built_in">collect</span>(Collectors.<span class="hljs-built_in">toList</span>());
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·å†™ï¼Ÿ</strong></p>
<ul>
<li><code>filter</code>ï¼šè¿‡æ»¤æ¡ä»¶</li>
<li><code>sorted</code>ï¼šæ’åºï¼ˆ<code>Comparator.comparingDouble</code>æ˜¯Lambdaè¡¨è¾¾å¼ï¼‰</li>
<li><code>limit</code>ï¼šé™åˆ¶æ•°é‡</li>
<li><code>collect</code>ï¼šæ”¶é›†ç»“æœ</li>
</ul>
<p><strong>æ€§èƒ½å¯¹æ¯”</strong>ï¼š<br/>
åœ¨10ä¸‡æ¡æ•°æ®çš„æµ‹è¯•ä¸­ï¼ŒLambda + Streamçš„æ‰§è¡Œæ—¶é—´æ¯”ä¼ ç»Ÿå¾ªç¯å¿«<strong>2.3å€</strong>ï¼Œå†…å­˜ä½¿ç”¨å‡å°‘<strong>40%</strong> ã€‚</p>
<hr/>
<h3 data-id="heading-13">å››ã€å¸¸è§é—®é¢˜ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-14">4.1 å¸¸è§é”™è¯¯ä¸è§£å†³æ–¹æ¡ˆ</h4>



































<table><thead><tr><th>é”™è¯¯</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><code>Lambda expression is not allowed here</code></td><td>è¯•å›¾åœ¨éå‡½æ•°å¼æ¥å£ä¸Šä½¿ç”¨Lambda</td><td>ç¡®è®¤æ¥å£æ˜¯å¦ä¸ºå‡½æ•°å¼æ¥å£</td></tr><tr><td><code>Cannot use method reference to non-static method</code></td><td>è¯•å›¾åœ¨é™æ€ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨å®ä¾‹æ–¹æ³•å¼•ç”¨</td><td>ä½¿ç”¨<code>å¯¹è±¡å::å®ä¾‹æ–¹æ³•</code></td></tr><tr><td><code>Ambiguous method reference</code></td><td>æ–¹æ³•é‡è½½å¯¼è‡´æ­§ä¹‰</td><td>æ˜¾å¼æŒ‡å®šç±»å‹</td></tr><tr><td><code>NullPointerException</code></td><td>Lambdaä¸­è®¿é—®äº†nullå¯¹è±¡</td><td>æ·»åŠ ç©ºå€¼æ£€æŸ¥</td></tr><tr><td><code>Lambda expression is too complex</code></td><td>Lambdaä¸­åŒ…å«è¿‡å¤šé€»è¾‘</td><td>æå–æ–¹æ³•</td></tr></tbody></table>
<h4 data-id="heading-15">4.2 æœ€ä½³å®è·µ</h4>
<ol>
<li>
<p><strong>ä¼˜å…ˆä½¿ç”¨æ–¹æ³•å¼•ç”¨</strong>ï¼šå½“Lambdaè¡¨è¾¾å¼ä»…è°ƒç”¨ä¸€ä¸ªå·²å­˜åœ¨æ–¹æ³•æ—¶ï¼Œä¼˜å…ˆä½¿ç”¨æ–¹æ³•å¼•ç”¨ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ä¼˜å…ˆä½¿ç”¨</span>
list.forEach(System.<span class="hljs-keyword">out</span>::println);

<span class="hljs-comment">// é¿å…</span>
list.forEach(e -&gt; System.<span class="hljs-keyword">out</span>.println(e));
</code></pre>
</li>
<li>
<p><strong>ä¿æŒLambdaè¡¨è¾¾å¼ç®€æ´</strong>ï¼šLambdaè¡¨è¾¾å¼åº”åªåŒ…å«å¿…è¦é€»è¾‘ï¼Œé¿å…å¤æ‚è®¡ç®—ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// ä¼˜å…ˆä½¿ç”¨
.filter(p -&gt; p.getPrice() &gt; 100)

// é¿å…
.filter(p -&gt; {
    double <span class="hljs-attr">price</span> = p.getPrice()<span class="hljs-comment">;</span>
    return price &gt; 100 &amp;&amp; price &lt; 500<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>
</code></pre>
</li>
<li>
<p><strong>ä¸è¦è¿‡åº¦ä½¿ç”¨</strong>ï¼šä¸æ˜¯æ‰€æœ‰åŒ¿åå†…éƒ¨ç±»éƒ½èƒ½ç”¨Lambdaæ›¿ä»£ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// å¯ä»¥ç”¨Lambda</span>
btn<span class="hljs-selector-class">.addActionListener</span>(e -&gt; System.out.println("ç‚¹å‡»"));

<span class="hljs-comment">// ä¸é€‚åˆç”¨Lambdaï¼ˆéœ€è¦å¤æ‚é€»è¾‘ï¼‰</span>
btn<span class="hljs-selector-class">.addActionListener</span>(new ActionListener() {
    <span class="hljs-keyword">@Override</span>
    public void actionPerformed(ActionEvent e) {
        if (user.isLoggedIn()) {
            <span class="hljs-built_in">showOrder</span>();
        } else {
            <span class="hljs-built_in">login</span>();
        }
    }
});
</code></pre>
</li>
<li>
<p><strong>å–„ç”¨Streamçš„å¹¶è¡Œæµ</strong>ï¼šåœ¨å¤§æ•°æ®é‡åœºæ™¯ä¸‹ï¼Œä½¿ç”¨<code>parallelStream()</code>æå‡æ€§èƒ½ã€‚</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// ä¼ ç»Ÿå†™æ³•</span>
List&lt;String&gt; results = list<span class="hljs-selector-class">.stream</span>()<span class="hljs-selector-class">.map</span>(...)<span class="hljs-selector-class">.collect</span>(Collectors.toList());

<span class="hljs-comment">// å¹¶è¡Œæµå†™æ³•ï¼ˆé€‚åˆå¤§æ•°æ®é‡ï¼‰</span>
List&lt;String&gt; results = list<span class="hljs-selector-class">.parallelStream</span>()<span class="hljs-selector-class">.map</span>(...)<span class="hljs-selector-class">.collect</span>(Collectors.toList());
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-16">äº”ã€Lambdaçš„æ€§èƒ½ä¸åŸç†ï¼ˆæ·±åº¦è§£æï¼‰</h3>
<h4 data-id="heading-17">5.1 Lambdaçš„æ€§èƒ½å½±å“</h4>
<p><strong>æµ‹è¯•æ•°æ®</strong>ï¼ˆ10ä¸‡æ¡æ•°æ®ï¼‰ï¼š</p>





























<table><thead><tr><th>æ“ä½œ</th><th>ä¼ ç»Ÿå†™æ³•(ms)</th><th>Lambdaå†™æ³•(ms)</th><th>æ€§èƒ½æå‡</th></tr></thead><tbody><tr><td>è¿‡æ»¤</td><td>125</td><td>98</td><td>21.6%</td></tr><tr><td>æ’åº</td><td>210</td><td>185</td><td>11.9%</td></tr><tr><td>æ˜ å°„</td><td>85</td><td>72</td><td>15.3%</td></tr></tbody></table>
<p><strong>ç»“è®º</strong>ï¼šLambdaåœ¨å¤§å¤šæ•°åœºæ™¯ä¸‹æ€§èƒ½ç•¥ä¼˜äºä¼ ç»Ÿå†™æ³•ï¼Œä¸»è¦æ˜¯å› ä¸ºJVMå¯¹Lambdaçš„ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-18">5.2 Lambdaçš„å·¥ä½œåŸç†</h4>
<p>Lambdaè¡¨è¾¾å¼åœ¨ç¼–è¯‘æ—¶ä¼šè¢«è½¬æ¢ä¸º<strong>invokedynamicæŒ‡ä»¤</strong>ï¼Œåœ¨è¿è¡Œæ—¶ç”±JVMåŠ¨æ€ç”Ÿæˆç±»ã€‚å…·ä½“è¿‡ç¨‹ï¼š</p>
<ol>
<li>ç¼–è¯‘å™¨å°†Lambdaè¡¨è¾¾å¼è½¬æ¢ä¸º<code>LambdaMetafactory</code>çš„è°ƒç”¨</li>
<li>JVMåœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆä¸€ä¸ªå®ç°å‡½æ•°å¼æ¥å£çš„ç±»</li>
<li>ç”Ÿæˆçš„ç±»è¢«ç¼“å­˜ï¼Œé¿å…é‡å¤ç”Ÿæˆ</li>
</ol>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</strong></p>
<ul>
<li>é¿å…ä¸ºæ¯ä¸ªLambdaç”Ÿæˆæ–°ç±»ï¼ŒèŠ‚çœå†…å­˜</li>
<li>æé«˜æ‰§è¡Œæ•ˆç‡</li>
<li>æ”¯æŒJDKçš„åç»­ä¼˜åŒ–</li>
</ul>
<hr/>
<h3 data-id="heading-19">å…­ã€å®æˆ˜é¡¹ç›®ç»éªŒåˆ†äº«</h3>
<h4 data-id="heading-20">6.1 ç”µå•†ç³»ç»Ÿé‡æ„æ¡ˆä¾‹</h4>
<p><strong>èƒŒæ™¯</strong>ï¼šæŸç”µå•†å¹³å°éœ€è¦é‡æ„å•†å“æŸ¥è¯¢æ¨¡å—ï¼ŒåŸä»£ç ä½¿ç”¨å¤§é‡åŒ¿åå†…éƒ¨ç±»ã€‚</p>
<p><strong>é‡æ„å‰</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">List&lt;Product&gt; products = productRepository<span class="hljs-selector-class">.findAll</span>();
List&lt;Product&gt; filtered = new ArrayList&lt;&gt;();
for (Product p : products) {
    if (p.getPrice() &gt; <span class="hljs-number">100</span> &amp;&amp; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getStock</span>() &gt; <span class="hljs-number">0</span>) {
        filtered<span class="hljs-selector-class">.add</span>(p);
    }
}
Collections<span class="hljs-selector-class">.sort</span>(filtered, new Comparator&lt;Product&gt;() {
    <span class="hljs-keyword">@Override</span>
    public int compare(Product o1, Product o2) {
        return o1<span class="hljs-selector-class">.getPrice</span>() - o2<span class="hljs-selector-class">.getPrice</span>();
    }
});
</code></pre>
<p><strong>é‡æ„å</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">List&lt;Product&gt; filtered = productRepository<span class="hljs-selector-class">.findAll</span>()<span class="hljs-selector-class">.stream</span>()
    <span class="hljs-selector-class">.filter</span>(<span class="hljs-selector-tag">p</span> -&gt; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getPrice</span>() &gt; <span class="hljs-number">100</span> &amp;&amp; <span class="hljs-selector-tag">p</span><span class="hljs-selector-class">.getStock</span>() &gt; <span class="hljs-number">0</span>)
    <span class="hljs-selector-class">.sorted</span>(Comparator<span class="hljs-selector-class">.comparingDouble</span>(Product::getPrice))
    .<span class="hljs-built_in">collect</span>(Collectors.<span class="hljs-built_in">toList</span>());
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼š</p>
<ul>
<li>ä»£ç é‡å‡å°‘50%</li>
<li>å¯è¯»æ€§æå‡ï¼Œæ–°æˆå‘˜ç†è§£æ—¶é—´å‡å°‘60%</li>
<li>æ€§èƒ½æå‡15%</li>
<li>ç»´æŠ¤æˆæœ¬é™ä½</li>
</ul>
<h3 data-id="heading-21">ä¸ƒã€æ€»ç»“ä¸è¡ŒåŠ¨å»ºè®®</h3>
<h4 data-id="heading-22">7.1 æ ¸å¿ƒä»·å€¼</h4>
<p>JDK8çš„Lambdaè¡¨è¾¾å¼å’Œæ–¹æ³•å¼•ç”¨ï¼Œä»æ ¹æœ¬ä¸Šè§£å†³äº†åŒ¿åå†…éƒ¨ç±»ä»£ç å†—ä½™çš„é—®é¢˜ï¼š</p>
<ul>
<li><strong>Lambda</strong>ä¸“æ³¨äºç®€åŒ–å‡½æ•°å¼æ¥å£çš„åŒ¿åå®ç°ï¼Œé€šè¿‡çœç•¥è§„åˆ™å®ç°æè‡´ç²¾ç®€</li>
<li><strong>æ–¹æ³•å¼•ç”¨</strong>æ˜¯Lambdaçš„"è¿›é˜¶å½¢æ€"ï¼Œåœ¨ç‰¹å®šåœºæ™¯ä¸‹è®©ä»£ç æ›´å…·å¯è¯»æ€§å’Œä¼˜é›…æ€§</li>
<li><strong>ä¸Stream APIç»“åˆ</strong>ï¼Œèƒ½å¤§å¹…æå‡é›†åˆæ“ä½œçš„å¼€å‘æ•ˆç‡</li>
</ul>
<h4 data-id="heading-23">7.2 è¡ŒåŠ¨å»ºè®®</h4>
<ol>
<li>
<p><strong>ä»ç®€å•åœºæ™¯å¼€å§‹</strong>ï¼šå…ˆæ›¿æ¢<code>Comparator</code>å’Œ<code>Runnable</code>ç­‰å¸¸è§åœºæ™¯</p>
<pre><code class="hljs language-css" lang="css">// æ›¿æ¢Comparator
Arrays<span class="hljs-selector-class">.sort</span>(arr, (<span class="hljs-selector-tag">a</span>, <span class="hljs-selector-tag">b</span>) -&gt; <span class="hljs-selector-tag">a</span> - <span class="hljs-selector-tag">b</span>);
</code></pre>
</li>
<li>
<p><strong>é€æ­¥è¿ç§»</strong>ï¼šä¸è¦ä¸€æ¬¡æ€§é‡æ„æ‰€æœ‰ä»£ç ï¼Œå…ˆä»æ–°åŠŸèƒ½å¼€å§‹</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// æ–°åŠŸèƒ½ä½¿ç”¨Lambda</span>
List&lt;String&gt; names = users<span class="hljs-selector-class">.stream</span>()
    <span class="hljs-selector-class">.map</span>(User::getName)
    <span class="hljs-selector-class">.collect</span>(Collectors.toList());
</code></pre>
</li>
<li>
<p><strong>å›¢é˜ŸåŸ¹è®­</strong>ï¼šç»„ç»‡å†…éƒ¨åˆ†äº«ä¼šï¼Œæ¨å¹¿Lambdaæœ€ä½³å®è·µ</p>
<pre><code class="hljs language-diff" lang="diff"><span class="hljs-deletion">- ä»€ä¹ˆæ˜¯å‡½æ•°å¼æ¥å£ï¼Ÿ</span>
<span class="hljs-deletion">- Lambdaçš„çœç•¥è§„åˆ™</span>
<span class="hljs-deletion">- æ–¹æ³•å¼•ç”¨çš„4ç§ç±»å‹</span>
<span class="hljs-deletion">- ä¸Stream APIçš„ç»“åˆ</span>
</code></pre>
</li>
<li>
<p><strong>ä»£ç å®¡æŸ¥</strong>ï¼šåœ¨ä»£ç å®¡æŸ¥ä¸­ï¼Œé‡ç‚¹å…³æ³¨Lambdaçš„ä½¿ç”¨æ˜¯å¦åˆç†</p>
</li>
</ol>
<h4 data-id="heading-24">7.3 æœ€åçš„è¯</h4>
<p>Lambdaè¡¨è¾¾å¼ä¸æ˜¯ä¸ºäº†ç‚«æŠ€ï¼Œè€Œæ˜¯ä¸ºäº†å†™å‡º<strong>æ›´ç®€æ´ã€æ›´æ˜“è¯»ã€æ›´æ˜“ç»´æŠ¤çš„ä»£ç </strong>ã€‚åœ¨é˜¿é‡Œå·´å·´çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å‘ç°ä½¿ç”¨Lambdaåï¼Œä»£ç é‡å¹³å‡å‡å°‘äº†<strong>30%</strong> ï¼Œå¯è¯»æ€§å¤§å¹…æå‡ï¼Œæ–°äººä¸Šæ‰‹æ—¶é—´ç¼©çŸ­äº†<strong>50%</strong> ã€‚</p>
<blockquote>
<p><strong>è®°ä½</strong>ï¼šå‡½æ•°å¼ç¼–ç¨‹çš„ç²¾é«“ä¸æ˜¯"ç”¨Lambdaä»£æ›¿åŒ¿åå†…éƒ¨ç±»"ï¼Œè€Œæ˜¯"ç”¨å‡½æ•°å¼æ€ç»´é‡æ„ä»£ç "ã€‚</p>
</blockquote>
<hr/>
<p><strong>ç«‹å³è¡ŒåŠ¨</strong>ï¼š</p>
<ol>
<li>åœ¨ä½ çš„ä¸‹ä¸€ä¸ªé¡¹ç›®ä¸­ï¼Œå°è¯•ç”¨Lambdaæ›¿æ¢ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»</li>
<li>åœ¨ä»£ç å®¡æŸ¥ä¸­ï¼Œå…³æ³¨Lambdaçš„ä½¿ç”¨æ˜¯å¦åˆç†</li>
<li>åˆ†äº«ä½ çš„Lambdaä½¿ç”¨ç»éªŒï¼Œå¸®åŠ©æ›´å¤šå¼€å‘è€…</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Python æ¸©åº¦æ•°æ®å¤„ç†ä¸å¯è§†åŒ–å…¨æµç¨‹ï¼šä»è¯»å–åˆ°ä¿å­˜1.2]]></title>    <link>https://juejin.cn/post/7580184249908985898</link>    <guid>https://juejin.cn/post/7580184249908985898</guid>    <pubDate>2025-12-05T14:17:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580184249908985898" data-draft-id="7580208715274977322" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Python æ¸©åº¦æ•°æ®å¤„ç†ä¸å¯è§†åŒ–å…¨æµç¨‹ï¼šä»è¯»å–åˆ°ä¿å­˜1.2"/> <meta itemprop="keywords" content="Python"/> <meta itemprop="datePublished" content="2025-12-05T14:17:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èŠ±å¼€èŠ±å¯Œè´µ"/> <meta itemprop="url" content="https://juejin.cn/user/3220933005549171"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Python æ¸©åº¦æ•°æ®å¤„ç†ä¸å¯è§†åŒ–å…¨æµç¨‹ï¼šä»è¯»å–åˆ°ä¿å­˜1.2
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3220933005549171/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èŠ±å¼€èŠ±å¯Œè´µ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:17:03.000Z" title="Fri Dec 05 2025 14:17:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">4. æ•°æ®å¯è§†åŒ–</h2>
<p>ä½¿ç”¨ matplotlib ç»˜åˆ¶æ¸©åº¦æ›²çº¿ï¼š</p>
<ul>
<li>ç”Ÿæˆæ—¶é—´åºåˆ—ä½œä¸º x è½´</li>
<li>åŒæ—¶ç»˜åˆ¶æ›²çº¿å’Œæ•£ç‚¹ï¼ˆçº¢è‰²å¿ƒå½¢æ ‡è®°ï¼‰</li>
<li>æ·»åŠ æ ‡é¢˜å’Œåæ ‡è½´æ ‡ç­¾ä½¿å›¾åƒæ›´æ¸…æ™°</li>
</ul>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">## 4. å¯è§†åŒ–æ¸©åº¦æ›²çº¿</span>
<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
t = np.arange(<span class="hljs-built_in">len</span>(temperature))  <span class="hljs-comment"># ç”Ÿæˆæ—¶é—´åºåˆ—</span>
plt.plot(t, temperature)  <span class="hljs-comment"># ç»˜åˆ¶æ›²çº¿</span>
plt.plot(t, temperature, <span class="hljs-string">'pr'</span>)  <span class="hljs-comment"># ç»˜åˆ¶çº¢è‰²å¿ƒå½¢ç‚¹</span>
plt.title(<span class="hljs-string">'Temperature Variation Curve'</span>)  <span class="hljs-comment"># æ ‡é¢˜</span>
plt.xlabel(<span class="hljs-string">'Time'</span>)  <span class="hljs-comment"># xè½´æ ‡ç­¾</span>
plt.ylabel(<span class="hljs-string">'Temperature (Â°C)'</span>)  <span class="hljs-comment"># yè½´æ ‡ç­¾</span>
plt.show()  <span class="hljs-comment"># æ˜¾ç¤ºå›¾åƒ</span>
</code></pre>
<h2 data-id="heading-1">5. å°†å¤„ç†åçš„æ¸©åº¦æ•°æ®ä¿å­˜ä¸ºæ–°çš„ CSV æ–‡ä»¶ï¼Œä¿ç•™ä¸¤ä½å°æ•°</h2>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># 5. ç»“æœå†™å…¥æ–‡ä»¶</span>
np.savetxt(
    <span class="hljs-string">"ug_temperature.csv"</span>,
    temperature,
    fmt=<span class="hljs-string">"%.2f"</span>,  <span class="hljs-comment"># ä¿ç•™ä¸¤ä½å°æ•°</span>
    delimiter=<span class="hljs-string">","</span>,
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openEuler 25.09 ç³»ç»Ÿçº§å¼€å‘ç¯å¢ƒé…ç½®ä¸å®è·µï¼ˆGCC + GDB + SDKï¼‰]]></title>    <link>https://juejin.cn/post/7580263284336427049</link>    <guid>https://juejin.cn/post/7580263284336427049</guid>    <pubDate>2025-12-05T15:41:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580263284336427049" data-draft-id="7580208715274387498" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openEuler 25.09 ç³»ç»Ÿçº§å¼€å‘ç¯å¢ƒé…ç½®ä¸å®è·µï¼ˆGCC + GDB + SDKï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T15:41:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯åº—å°äºŒå‘€"/> <meta itemprop="url" content="https://juejin.cn/user/4132386718619243"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openEuler 25.09 ç³»ç»Ÿçº§å¼€å‘ç¯å¢ƒé…ç½®ä¸å®è·µï¼ˆGCC + GDB + SDKï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4132386718619243/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯åº—å°äºŒå‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:41:20.000Z" title="Fri Dec 05 2025 15:41:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ•™ç¨‹ä¸“é—¨é€‚é… <strong>openEuler 25.09</strong> ç‰ˆæœ¬ï¼Œæ‰€æœ‰å‘½ä»¤éƒ½ç»è¿‡éªŒè¯ï¼Œå¯ç›´æ¥ä½¿ç”¨ã€‚</p>
<p>å‰è¨€</p>
<p>åœ¨ Linux ç³»ç»Ÿä¸Šæ­å»ºå¼€å‘ç¯å¢ƒå¾€å¾€è®©åˆå­¦è€…æ„Ÿåˆ°å›°æƒ‘ï¼šè½¯ä»¶æºé…ç½®é”™è¯¯ã€ä¾èµ–åº“ç¼ºå¤±ã€ç¼–è¯‘å™¨ç‰ˆæœ¬ä¸åŒ¹é…â€¦â€¦è¿™äº›é—®é¢˜éƒ½ä¼šé˜»ç¢å¼€å‘è¿›ç¨‹ã€‚openEuler 25.09 ä½œä¸ºä¼ä¸šçº§ Linux å‘è¡Œç‰ˆï¼Œè™½ç„¶åŠŸèƒ½å¼ºå¤§ï¼Œä½†å…¶ç‹¬ç‰¹çš„è½¯ä»¶åŒ…ç®¡ç†ä½“ç³»éœ€è¦ä¸“é—¨çš„é…ç½®æ–¹æ³•ã€‚</p>
<p>æœ¬æ•™ç¨‹æ˜¯ä¸€ä»½ç»è¿‡å®æˆ˜éªŒè¯çš„å®Œæ•´é…ç½®æ‰‹å†Œï¼Œ<strong>ä»ç¬¬ä¸€æ­¥é…ç½®è½¯ä»¶æºå¼€å§‹ï¼Œåˆ°æœ€åéªŒè¯å¼€å‘ç¯å¢ƒï¼Œæ¯ä¸ªæ­¥éª¤éƒ½æä¾›äº†å¯ç›´æ¥è¿è¡Œçš„å‘½ä»¤å’Œè¯¦ç»†çš„è¯´æ˜ã€‚æ‚¨ä¸éœ€è¦å››å¤„æœç´¢èµ„æ–™ï¼Œåªéœ€æŒ‰ç…§æœ¬æ•™ç¨‹é€æ­¥æ“ä½œï¼Œå³å¯åœ¨ 30 åˆ†é’Ÿå†…æ­å»ºèµ·åŒ…å« GCCã€GDBã€å¸¸ç”¨å¼€å‘åº“çš„å®Œæ•´å¼€å‘ç¯å¢ƒï¼Œç«‹å³å¼€å§‹æ‚¨çš„ç¼–ç¨‹å·¥ä½œã€‚</strong></p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€é…ç½®è½¯ä»¶æº</h2>
<h3 data-id="heading-1">1.1 å¤‡ä»½åŸå§‹é…ç½®</h3>
<p>é¦–å…ˆå¤‡ä»½ç³»ç»ŸåŸæœ‰çš„è½¯ä»¶æºé…ç½®ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å¤‡ä»½åŸå§‹æºé…ç½®æ–‡ä»¶</span>
sudo <span class="hljs-built_in">cp</span> /etc/yum.repos.d/openEuler.repo /etc/yum.repos.d/openEuler.repo.backup

<span class="hljs-comment"># ç¡®è®¤å½“å‰ç³»ç»Ÿç‰ˆæœ¬</span>
<span class="hljs-built_in">cat</span> /etc/os-release
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3cccb3081b2a4d08b4b0bfe427938dd8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=QpYQHg7oeFMQQQ4lXHueuZym6uI%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-2">1.2 é…ç½®å®˜æ–¹é•œåƒæº</h3>
<p>ä¸ºäº†åŠ é€Ÿè½¯ä»¶åŒ…ä¸‹è½½ï¼Œé…ç½®é•œåƒæºï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash">sudo <span class="hljs-built_in">tee</span> /etc/yum.repos.d/openEuler.repo &gt; /dev/null &lt;&lt; <span class="hljs-string">'EOF'</span>
[OS]
name=openEuler-25.09-OS
baseurl=https://repo.openeuler.org/openEuler-25.09/OS/<span class="hljs-variable">$basearch</span>/
enabled=1
gpgcheck=1
gpgkey=https://repo.openeuler.org/openEuler-25.09/OS/<span class="hljs-variable">$basearch</span>/RPM-GPG-KEY-openEuler

[everything]
name=openEuler-25.09-Everything
baseurl=https://repo.openeuler.org/openEuler-25.09/everything/<span class="hljs-variable">$basearch</span>/
enabled=1
gpgcheck=1
gpgkey=https://repo.openeuler.org/openEuler-25.09/OS/<span class="hljs-variable">$basearch</span>/RPM-GPG-KEY-openEuler

[EPOL]
name=openEuler-25.09-EPOL
baseurl=https://repo.openeuler.org/openEuler-25.09/EPOL/main/<span class="hljs-variable">$basearch</span>/
enabled=1
gpgcheck=1
gpgkey=https://repo.openeuler.org/openEuler-25.09/OS/<span class="hljs-variable">$basearch</span>/RPM-GPG-KEY-openEuler

[update]
name=openEuler-25.09-Update
baseurl=https://repo.openeuler.org/openEuler-25.09/update/<span class="hljs-variable">$basearch</span>/
enabled=1
gpgcheck=1
gpgkey=https://repo.openeuler.org/openEuler-25.09/OS/<span class="hljs-variable">$basearch</span>/RPM-GPG-KEY-openEuler
EOF

<span class="hljs-comment"># æ¸…ç†ç¼“å­˜å¹¶æ›´æ–°è½¯ä»¶æº</span>
sudo dnf clean all
sudo dnf makecache

<span class="hljs-comment"># éªŒè¯è½¯ä»¶æºé…ç½®æˆåŠŸ</span>
sudo dnf repolist
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7821d6c17ec463cb0aafe6595ed2ae8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=PNX1wuVSOWz2dQoCu3oeHeiFCPI%3D" alt="image.png" loading="lazy"/></p>
<p>å¦‚æœè¿™ä¸€æ­¥ä¸è¡Œ ä½ è‡ªè¡Œæ‰¾ç¬¦åˆè‡ªå·±æ“ä½œç³»ç»Ÿçš„ æºï¼ï¼ï¼</p>
<hr/>
<h2 data-id="heading-3">äºŒã€å®‰è£… GCC ç¼–è¯‘å™¨</h2>
<h3 data-id="heading-4">2.1 å®‰è£… GCC å·¥å…·é“¾</h3>
<p>openEuler 25.09 è‡ªå¸¦è¾ƒæ–°ç‰ˆæœ¬çš„ GCCï¼ˆé¢„è®¡ GCC 12 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼‰ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å®‰è£… GCC æ ¸å¿ƒç¼–è¯‘å™¨</span>
sudo dnf install -y gcc gcc-c++

<span class="hljs-comment"># å®‰è£…ç¼–è¯‘å¿…å¤‡å·¥å…·</span>
sudo dnf install -y make automake autoconf libtool

<span class="hljs-comment"># å®‰è£…ç³»ç»Ÿå¼€å‘åº“</span>
sudo dnf install -y glibc-devel kernel-headers kernel-devel

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
gcc --version
g++ --version
make --version
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c012e233c23c4cc28143f7593bcac0bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=aLFRhwe7aKPclod3lYxD0MAmCRo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">2.2 æµ‹è¯• GCC ç¼–è¯‘å™¨</h3>
<p>åˆ›å»ºæµ‹è¯•ç¨‹åºéªŒè¯ç¼–è¯‘å™¨ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åˆ›å»ºå·¥ä½œç›®å½•</span>
<span class="hljs-built_in">mkdir</span> -p ~/openeuler-dev
<span class="hljs-built_in">cd</span> ~/openeuler-dev

<span class="hljs-comment"># åˆ›å»º C è¯­è¨€æµ‹è¯•ç¨‹åº</span>
<span class="hljs-built_in">cat</span> &gt; hello.c &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#include &lt;stdio.h&gt;</span>

int <span class="hljs-function"><span class="hljs-title">main</span></span>() {
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"===================================\n"</span>);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"  æ¬¢è¿ä½¿ç”¨ openEuler 25.09ï¼\n"</span>);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"===================================\n"</span>);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"GCC ç‰ˆæœ¬: %d.%d.%d\n"</span>, __GNUC__, __GNUC_MINOR__, __GNUC_PATCHLEVEL__);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"ç¼–è¯‘æ—¶é—´: %s %s\n"</span>, __DATE__, __TIME__);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"ç³»ç»Ÿæ¶æ„: %s\n"</span>, 
<span class="hljs-comment">#ifdef __x86_64__</span>
        <span class="hljs-string">"x86_64"</span>
<span class="hljs-comment">#elif __aarch64__</span>
        <span class="hljs-string">"ARM64"</span>
<span class="hljs-comment">#else</span>
        <span class="hljs-string">"æœªçŸ¥"</span>
<span class="hljs-comment">#endif</span>
    );
    <span class="hljs-built_in">return</span> 0;
}
EOF

<span class="hljs-comment"># ç¼–è¯‘ C ç¨‹åº</span>
gcc -o hello hello.c -Wall

<span class="hljs-comment"># è¿è¡Œç¨‹åº</span>
./hello
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/639fc67de77b48efbe656a96102a1fae~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=TrZDzCbmVABlGK%2BjYVK%2FCmdeXLA%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æµ‹è¯• C++ ç¼–è¯‘å™¨</strong>ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åˆ›å»º C++ æµ‹è¯•ç¨‹åºï¼ˆä½¿ç”¨ C++20 ç‰¹æ€§ï¼‰</span>
<span class="hljs-built_in">cat</span> &gt; hello.cpp &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#include &lt;iostream&gt;</span>
<span class="hljs-comment">#include &lt;vector&gt;</span>
<span class="hljs-comment">#include &lt;algorithm&gt;</span>
<span class="hljs-comment">#include &lt;ranges&gt;</span>

int <span class="hljs-function"><span class="hljs-title">main</span></span>() {
    std::vector&lt;int&gt; numbers = {5, 2, 8, 1, 9, 3, 7, 4, 6};
    
    std::cout &lt;&lt; <span class="hljs-string">"åŸå§‹æ•°ç»„: "</span>;
    <span class="hljs-keyword">for</span>(auto n : numbers) std::cout &lt;&lt; <span class="hljs-string">n &lt;&lt; " ";
    std::cout &lt;&lt; std::endl;
    
    // ä½¿ç”¨ C++20 ranges æ’åº
    std::ranges::sort(numbers);
    
    std::cout &lt;&lt; "æ’åºå:   ";
    for(auto n</span> : numbers) std::cout &lt;&lt; <span class="hljs-string">n &lt;&lt; " ";
    std::cout &lt;&lt; std::endl;
    
    std::cout &lt;&lt; "\n</span>âœ… C++ ç¼–è¯‘å™¨æµ‹è¯•æˆåŠŸï¼<span class="hljs-string">" &lt;&lt; std::endl;
    std::cout &lt;&lt; "</span>C++ æ ‡å‡†: <span class="hljs-string">" &lt;&lt; __cplusplus &lt;&lt; std::endl;
    return 0;
}
EOF

# ç¼–è¯‘ C++ ç¨‹åºï¼ˆä½¿ç”¨ C++20 æ ‡å‡†ï¼‰
g++ -o hello_cpp hello.cpp -std=c++20 -Wall

# è¿è¡Œç¨‹åº
./hello_cpp
</span></code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0b6e78cf394e4e7f9cf397cf19cc3c85~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=JsGzXkvRtfUnIBWy39eE%2FU7SFEI%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-6">ä¸‰ã€å®‰è£…è°ƒè¯•å·¥å…· GDB</h2>
<h3 data-id="heading-7">3.1 å®‰è£… GDB è°ƒè¯•å™¨</h3>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å®‰è£… GDB è°ƒè¯•å™¨</span>
sudo dnf install -y gdb

<span class="hljs-comment"># å®‰è£…è¾…åŠ©è°ƒè¯•å·¥å…·</span>
sudo dnf install -y strace ltrace

<span class="hljs-comment"># å®‰è£…æ€§èƒ½åˆ†æå·¥å…·</span>
sudo dnf install -y valgrind

<span class="hljs-comment"># éªŒè¯å®‰è£…</span>
gdb --version
strace --version
valgrind --version
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/22d11b2647e2422db1d129d5f5ab273d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=cCNC0JMTCUeXfp62kxmjzxSI048%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">3.2 GDB è°ƒè¯•å®æˆ˜</h3>
<p>åˆ›å»ºè°ƒè¯•æµ‹è¯•ç¨‹åºï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åˆ›å»ºè°ƒè¯•æµ‹è¯•ç¨‹åº</span>
<span class="hljs-built_in">cat</span> &gt; debug_test.c &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#include &lt;stdio.h&gt;</span>

// è®¡ç®—é˜¶ä¹˜
int factorial(int n) {
    <span class="hljs-keyword">if</span> (n &lt;= 1) <span class="hljs-built_in">return</span> 1;
    <span class="hljs-built_in">return</span> n * factorial(n - 1);
}

// æ•°ç»„æ±‚å’Œ
int sum_array(int arr[], int size) {
    int <span class="hljs-built_in">sum</span> = 0;
    <span class="hljs-keyword">for</span> (int i = 0; i &lt; size; i++) {
        <span class="hljs-built_in">sum</span> += arr[i];
    }
    <span class="hljs-built_in">return</span> <span class="hljs-built_in">sum</span>;
}

int <span class="hljs-function"><span class="hljs-title">main</span></span>() {
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"=== GDB è°ƒè¯•æ¼”ç¤ºç¨‹åº ===\n\n"</span>);
    
    // æµ‹è¯•é˜¶ä¹˜å‡½æ•°
    int num = 5;
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"è®¡ç®— %d çš„é˜¶ä¹˜\n"</span>, num);
    int result = factorial(num);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"ç»“æœ: %d! = %d\n\n"</span>, num, result);
    
    // æµ‹è¯•æ•°ç»„æ±‚å’Œ
    int numbers[] = {10, 20, 30, 40, 50};
    int total = sum_array(numbers, 5);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"æ•°ç»„æ±‚å’Œ: %d\n"</span>, total);
    
    <span class="hljs-built_in">return</span> 0;
}
EOF

<span class="hljs-comment"># ç¼–è¯‘æ—¶åŠ ä¸Š -g é€‰é¡¹ç”Ÿæˆè°ƒè¯•ä¿¡æ¯</span>
gcc -g -o debug_test debug_test.c -Wall

<span class="hljs-comment"># å…ˆæ­£å¸¸è¿è¡Œ</span>
./debug_test
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c528b6a57a0347cba83deb46a550200c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=suKrfhRKelFX0mAYlr4DFcTRZAw%3D" alt="image.png" loading="lazy"/></p>
<p><strong>GDB è°ƒè¯•å‘½ä»¤é€ŸæŸ¥</strong>ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å¯åŠ¨ GDB</span>
gdb ./debug_test

<span class="hljs-comment"># åœ¨ GDB ä¸­å¸¸ç”¨å‘½ä»¤ï¼š</span>
(gdb) list                    <span class="hljs-comment"># æŸ¥çœ‹æºä»£ç </span>
(gdb) <span class="hljs-built_in">break</span> main              <span class="hljs-comment"># åœ¨ main å‡½æ•°è®¾ç½®æ–­ç‚¹</span>
(gdb) <span class="hljs-built_in">break</span> 18                <span class="hljs-comment"># åœ¨ç¬¬ 18 è¡Œè®¾ç½®æ–­ç‚¹</span>
(gdb) info breakpoints        <span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰æ–­ç‚¹</span>
(gdb) run                     <span class="hljs-comment"># è¿è¡Œç¨‹åº</span>
(gdb) next                    <span class="hljs-comment"># å•æ­¥æ‰§è¡Œï¼ˆä¸è¿›å…¥å‡½æ•°ï¼‰</span>
(gdb) step                    <span class="hljs-comment"># å•æ­¥æ‰§è¡Œï¼ˆè¿›å…¥å‡½æ•°ï¼‰</span>
(gdb) <span class="hljs-built_in">print</span> num               <span class="hljs-comment"># æ‰“å°å˜é‡å€¼</span>
(gdb) info locals             <span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰å±€éƒ¨å˜é‡</span>
(gdb) backtrace               <span class="hljs-comment"># æŸ¥çœ‹è°ƒç”¨æ ˆ</span>
(gdb) <span class="hljs-built_in">continue</span>                <span class="hljs-comment"># ç»§ç»­æ‰§è¡Œ</span>
(gdb) quit                    <span class="hljs-comment"># é€€å‡º</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">å››ã€å®‰è£…å¼€å‘åº“ï¼ˆSDKï¼‰</h2>
<h3 data-id="heading-10">4.1 å®‰è£…å¸¸ç”¨å¼€å‘åº“</h3>
<p>openEuler 25.09 æä¾›äº†ä¸°å¯Œçš„å¼€å‘åº“ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å®‰è£…åŸºç¡€å¼€å‘åº“</span>
sudo dnf install -y zlib-devel bzip2-devel xz-devel

<span class="hljs-comment"># å®‰è£…ç½‘ç»œå¼€å‘åº“</span>
sudo dnf install -y openssl-devel libcurl-devel

<span class="hljs-comment"># å®‰è£…æ•°æ®åº“å¼€å‘åº“</span>
sudo dnf install -y sqlite-devel

<span class="hljs-comment"># å®‰è£… JSON å’Œ XML å¤„ç†åº“</span>
sudo dnf install -y json-c-devel libxml2-devel

<span class="hljs-comment"># å®‰è£…çº¿ç¨‹åº“</span>
sudo dnf install -y libuv-devel

<span class="hljs-comment"># æŸ¥çœ‹å·²å®‰è£…çš„å¼€å‘åº“</span>
rpm -qa | grep devel | <span class="hljs-built_in">sort</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e86fd2b3ca904e69a3ccdc717eef391d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=Aidi1uQT3JMdqkZA6%2FRz%2BLV3iWg%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-11">4.2 æµ‹è¯•å¼€å‘åº“</h3>
<p><strong>æµ‹è¯• OpenSSL åº“</strong>ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-built_in">cat</span> &gt; ssl_test.c &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#include &lt;stdio.h&gt;</span>
<span class="hljs-comment">#include &lt;string.h&gt;</span>
<span class="hljs-comment">#include &lt;openssl/md5.h&gt;</span>
<span class="hljs-comment">#include &lt;openssl/opensslv.h&gt;</span>

void print_md5(const char *str) {
    unsigned char digest[MD5_DIGEST_LENGTH];
    MD5((unsigned char*)str, strlen(str), digest);
    
    printf("å­—ç¬¦ä¸²: %s\n", str);
    printf("MD5 å€¼: ");
    for(int i = <span class="hljs-number">0</span>; i &lt; MD5_DIGEST_LENGTH; i++) {
        printf("%<span class="hljs-number">02</span>x", digest[i]);
    }
    printf("\n");
}

int main() {
    printf("=== OpenSSL å¼€å‘åº“æµ‹è¯• ===\n");
    printf("OpenSSL ç‰ˆæœ¬: %s\n\n", OPENSSL_VERSION_TEXT);
    
    print_md5("Hello openEuler <span class="hljs-number">25.09</span>!");
    
    printf("\nâœ… OpenSSL åº“æµ‹è¯•æˆåŠŸï¼\n");
    return <span class="hljs-number">0</span>;
}
EOF

# ç¼–è¯‘ï¼ˆé“¾æ¥ OpenSSL åº“ï¼‰
gcc -o ssl_test ssl_test.c -lssl -lcrypto -Wall

# è¿è¡Œ
./ssl_test
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3b98516edce4724921a4f13da5b7e1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=sZIOC7v6SCG85NXZCF8d8R6S8r4%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æµ‹è¯• SQLite æ•°æ®åº“</strong>ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-built_in">cat</span> &gt; sqlite_test.c &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#include &lt;stdio.h&gt;</span>
<span class="hljs-comment">#include &lt;sqlite3.h&gt;</span>

int <span class="hljs-function"><span class="hljs-title">main</span></span>() {
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"=== SQLite æ•°æ®åº“æµ‹è¯• ===\n"</span>);
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"SQLite ç‰ˆæœ¬: %s\n"</span>, sqlite3_libversion());
    
    sqlite3 *db;
    char *err_msg = 0;
    
    // åˆ›å»ºå†…å­˜æ•°æ®åº“
    int rc = sqlite3_open(<span class="hljs-string">":memory:"</span>, &amp;db);
    
    <span class="hljs-keyword">if</span>(rc == SQLITE_OK) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âœ… SQLite æ•°æ®åº“åˆ›å»ºæˆåŠŸï¼\n"</span>);
        
        // åˆ›å»ºæµ‹è¯•è¡¨
        const char *sql = <span class="hljs-string">"CREATE TABLE test(id INT, name TEXT);"</span>;
        rc = sqlite3_exec(db, sql, 0, 0, &amp;err_msg);
        
        <span class="hljs-keyword">if</span>(rc == SQLITE_OK) {
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âœ… æ•°æ®è¡¨åˆ›å»ºæˆåŠŸï¼\n"</span>);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âŒ åˆ›å»ºè¡¨å¤±è´¥: %s\n"</span>, err_msg);
            sqlite3_free(err_msg);
        }
        
        sqlite3_close(db);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"âŒ SQLite æ•°æ®åº“åˆ›å»ºå¤±è´¥ï¼\n"</span>);
        <span class="hljs-built_in">return</span> 1;
    }
    
    <span class="hljs-built_in">return</span> 0;
}
EOF

<span class="hljs-comment"># ç¼–è¯‘</span>
gcc -o sqlite_test sqlite_test.c -lsqlite3 -Wall

<span class="hljs-comment"># è¿è¡Œ</span>
./sqlite_test
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5fada6bebf947818f2fd46b18f5cdce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=YY7XAAcO2EjY%2BeR46nTJfdOxAJw%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-12">äº”ã€å®ç”¨å¼€å‘æŠ€å·§</h2>
<h3 data-id="heading-13">5.1 åˆ›å»ºå¿«é€Ÿç¼–è¯‘è„šæœ¬</h3>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åˆ›å»ºç¼–è¯‘è„šæœ¬</span>
<span class="hljs-built_in">cat</span> &gt; ~/compile.sh &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/bin/bash</span>
<span class="hljs-comment"># openEuler 25.09 å¿«é€Ÿç¼–è¯‘è„šæœ¬</span>

<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$#</span> -eq 0 ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ç”¨æ³•: ./compile.sh &lt;æºæ–‡ä»¶&gt; [ç¼–è¯‘é€‰é¡¹]"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ç¤ºä¾‹: ./compile.sh hello.c"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ç¤ºä¾‹: ./compile.sh hello.c -O3"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>

SOURCE=<span class="hljs-variable">$1</span>
<span class="hljs-built_in">shift</span>
EXTRA_FLAGS=<span class="hljs-string">"<span class="hljs-variable">$@</span>"</span>

BASENAME=$(<span class="hljs-built_in">basename</span> <span class="hljs-string">"<span class="hljs-variable">$SOURCE</span>"</span> | sed <span class="hljs-string">'s/\.[^.]*$//'</span>)
EXT=<span class="hljs-string">"<span class="hljs-variable">${SOURCE##*.}</span>"</span>

<span class="hljs-keyword">if</span> [ <span class="hljs-string">"<span class="hljs-variable">$EXT</span>"</span> = <span class="hljs-string">"c"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ”¨ ç¼–è¯‘ C ç¨‹åº: <span class="hljs-variable">$SOURCE</span>"</span>
    gcc -o <span class="hljs-string">"<span class="hljs-variable">$BASENAME</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$SOURCE</span>"</span> -Wall -O2 -g <span class="hljs-variable">$EXTRA_FLAGS</span>
<span class="hljs-keyword">elif</span> [ <span class="hljs-string">"<span class="hljs-variable">$EXT</span>"</span> = <span class="hljs-string">"cpp"</span> ] || [ <span class="hljs-string">"<span class="hljs-variable">$EXT</span>"</span> = <span class="hljs-string">"cc"</span> ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"ğŸ”¨ ç¼–è¯‘ C++ ç¨‹åº: <span class="hljs-variable">$SOURCE</span>"</span>
    g++ -o <span class="hljs-string">"<span class="hljs-variable">$BASENAME</span>"</span> <span class="hljs-string">"<span class="hljs-variable">$SOURCE</span>"</span> -std=c++20 -Wall -O2 -g <span class="hljs-variable">$EXTRA_FLAGS</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ ä¸æ”¯æŒçš„æ–‡ä»¶ç±»å‹: <span class="hljs-variable">$EXT</span>"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> [ $? -eq 0 ]; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… ç¼–è¯‘æˆåŠŸï¼è¾“å‡ºæ–‡ä»¶: <span class="hljs-variable">$BASENAME</span>"</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"â–¶ï¸  è¿è¡Œ: ./<span class="hljs-variable">$BASENAME</span>"</span>
    <span class="hljs-built_in">ls</span> -lh <span class="hljs-string">"<span class="hljs-variable">$BASENAME</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ ç¼–è¯‘å¤±è´¥ï¼"</span>
    <span class="hljs-built_in">exit</span> 1
<span class="hljs-keyword">fi</span>
EOF

<span class="hljs-comment"># æ·»åŠ æ‰§è¡Œæƒé™</span>
<span class="hljs-built_in">chmod</span> +x ~/compile.sh

<span class="hljs-comment"># æµ‹è¯•</span>
<span class="hljs-built_in">cd</span> ~/openeuler-dev
~/compile.sh hello.c
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d50820f609f4e79aa4180c44ba62465~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=sv71%2BVNCEF3oY17lH%2Fc1OyY%2Bth4%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-14">5.2 é…ç½®å¼€å‘ç¯å¢ƒåˆ«å</h3>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># æ·»åŠ åˆ° ~/.bashrc</span>
<span class="hljs-built_in">cat</span> &gt;&gt; ~/.bashrc &lt;&lt; <span class="hljs-string">'EOF'</span>

<span class="hljs-comment"># ========== openEuler 25.09 å¼€å‘ç¯å¢ƒ ==========</span>
<span class="hljs-built_in">alias</span> gcc-debug=<span class="hljs-string">'gcc -g -Wall -Wextra'</span>
<span class="hljs-built_in">alias</span> g++-debug=<span class="hljs-string">'g++ -g -Wall -Wextra -std=c++20'</span>
<span class="hljs-built_in">alias</span> gcc-opt=<span class="hljs-string">'gcc -O3 -march=native -Wall'</span>
<span class="hljs-built_in">alias</span> g++-opt=<span class="hljs-string">'g++ -O3 -march=native -Wall -std=c++20'</span>
<span class="hljs-built_in">alias</span> gdb-tui=<span class="hljs-string">'gdb -tui'</span>
<span class="hljs-built_in">alias</span> ll=<span class="hljs-string">'ls -lah --color=auto'</span>
<span class="hljs-built_in">alias</span> clean=<span class="hljs-string">'rm -f *.o *.out a.out core.* *.so *.a'</span>

<span class="hljs-comment"># æ˜¾ç¤ºå¼€å‘ç¯å¢ƒä¿¡æ¯</span>
<span class="hljs-built_in">alias</span> devinfo=<span class="hljs-string">'echo "=== openEuler 25.09 å¼€å‘ç¯å¢ƒ ===" &amp;&amp; gcc --version | head -1 &amp;&amp; g++ --version | head -1 &amp;&amp; gdb --version | head -1 &amp;&amp; make --version | head -1'</span>

<span class="hljs-comment"># å¿«é€Ÿç¼–è¯‘</span>
<span class="hljs-built_in">alias</span> qcc=<span class="hljs-string">'gcc -Wall -O2 -g'</span>
<span class="hljs-built_in">alias</span> qcpp=<span class="hljs-string">'g++ -Wall -O2 -g -std=c++20'</span>

EOF

<span class="hljs-comment"># ä½¿é…ç½®ç”Ÿæ•ˆ</span>
<span class="hljs-built_in">source</span> ~/.bashrc

<span class="hljs-comment"># æµ‹è¯•</span>
devinfo
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ee0f22c7e6b46c4ae404b84a64f7513~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=Q10aCAHtPJPGuAnp3LCES4421ds%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-15">å…­ã€ç¯å¢ƒæ£€æŸ¥è„šæœ¬</h2>
<h3 data-id="heading-16">6.1 åˆ›å»ºå®Œæ•´æ£€æŸ¥è„šæœ¬</h3>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åˆ›å»ºç¯å¢ƒæ£€æŸ¥è„šæœ¬</span>
<span class="hljs-built_in">cat</span> &gt; ~/check_env.sh &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/bin/bash</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"=========================================="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  openEuler 25.09 å¼€å‘ç¯å¢ƒæ£€æŸ¥"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"=========================================="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># æ£€æŸ¥æ“ä½œç³»ç»Ÿ</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€ç³»ç»Ÿä¿¡æ¯ã€‘"</span>
<span class="hljs-built_in">cat</span> /etc/os-release | grep -E <span class="hljs-string">"PRETTY_NAME|VERSION"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"å†…æ ¸ç‰ˆæœ¬: <span class="hljs-subst">$(uname -r)</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ç³»ç»Ÿæ¶æ„: <span class="hljs-subst">$(uname -m)</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># æ£€æŸ¥ç¼–è¯‘å™¨</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€ç¼–è¯‘å™¨ã€‘"</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v gcc &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… GCC: <span class="hljs-subst">$(gcc --version | head -1)</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ GCC æœªå®‰è£…"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v g++ &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… G++: <span class="hljs-subst">$(g++ --version | head -1)</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ G++ æœªå®‰è£…"</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># æ£€æŸ¥æ„å»ºå·¥å…·</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€æ„å»ºå·¥å…·ã€‘"</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v make &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… Make: <span class="hljs-subst">$(make --version | head -1)</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ Make æœªå®‰è£…"</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># æ£€æŸ¥è°ƒè¯•å·¥å…·</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€è°ƒè¯•å·¥å…·ã€‘"</span>
<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v gdb &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… GDB: <span class="hljs-subst">$(gdb --version | head -1)</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ GDB æœªå®‰è£…"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-keyword">if</span> <span class="hljs-built_in">command</span> -v valgrind &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… Valgrind: <span class="hljs-subst">$(valgrind --version)</span>"</span>
<span class="hljs-keyword">else</span>
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ Valgrind æœªå®‰è£…"</span>
<span class="hljs-keyword">fi</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># æ£€æŸ¥å¼€å‘åº“</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€å¼€å‘åº“ã€‘"</span>
<span class="hljs-keyword">for</span> lib <span class="hljs-keyword">in</span> zlib-devel openssl-devel libcurl-devel sqlite-devel json-c-devel; <span class="hljs-keyword">do</span>
    <span class="hljs-keyword">if</span> rpm -q <span class="hljs-variable">$lib</span> &gt;/dev/null 2&gt;&amp;1; <span class="hljs-keyword">then</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âœ… <span class="hljs-variable">$lib</span>"</span>
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ <span class="hljs-variable">$lib</span> (æœªå®‰è£…)"</span>
    <span class="hljs-keyword">fi</span>
<span class="hljs-keyword">done</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-comment"># æ£€æŸ¥è½¯ä»¶æº</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"ã€è½¯ä»¶æºã€‘"</span>
sudo dnf repolist 2&gt;/dev/null | grep -E <span class="hljs-string">"repo id|OS|everything|EPOL|update"</span> || <span class="hljs-built_in">echo</span> <span class="hljs-string">"âŒ è½¯ä»¶æºé…ç½®å¯èƒ½æœ‰é—®é¢˜"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">""</span>

<span class="hljs-built_in">echo</span> <span class="hljs-string">"=========================================="</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"  æ£€æŸ¥å®Œæˆï¼"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"=========================================="</span>
EOF

<span class="hljs-comment"># æ·»åŠ æ‰§è¡Œæƒé™</span>
<span class="hljs-built_in">chmod</span> +x ~/check_env.sh

<span class="hljs-comment"># è¿è¡Œæ£€æŸ¥</span>
~/check_env.sh
</code></pre>
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„å¼€å‘è€…ç¯å¢ƒ æ‰€æœ‰çš„ç»„ä»¶éƒ½å·²å®‰è£…å®Œæ¯•</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/af4be1d183a944778ee4cb1992821e97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=Ei8Bb1k1ro0oV74lMviW4ihjUFA%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-17">å…«ã€å¸¸è§é—®é¢˜è§£å†³</h2>
<h3 data-id="heading-18">8.1 è½¯ä»¶æºé—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼šdnf æ‰¾ä¸åˆ°è½¯ä»¶åŒ…</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># è§£å†³æ–¹æ³•1ï¼šæ›´æ–°ç¼“å­˜</span>
sudo dnf clean all
sudo dnf makecache

<span class="hljs-comment"># è§£å†³æ–¹æ³•2ï¼šæ£€æŸ¥è½¯ä»¶æºé…ç½®</span>
sudo dnf repolist

<span class="hljs-comment"># è§£å†³æ–¹æ³•3ï¼šæœç´¢è½¯ä»¶åŒ…</span>
sudo dnf search gcc
sudo dnf search gdb
</code></pre>
<p><strong>é—®é¢˜ï¼šä¸‹è½½é€Ÿåº¦æ…¢</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åˆ‡æ¢åˆ°åä¸ºäº‘é•œåƒï¼ˆå‚è€ƒç¬¬ä¸€ç« çš„å¤‡ç”¨æ–¹æ¡ˆï¼‰</span>
<span class="hljs-comment"># æˆ–è€…ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒ</span>
sudo sed -i <span class="hljs-string">'s|mirrors.tuna.tsinghua.edu.cn|mirrors.aliyun.com|g'</span> /etc/yum.repos.d/openEuler.repo
sudo dnf clean all
sudo dnf makecache
</code></pre>
<h3 data-id="heading-19">8.2 ç¼–è¯‘é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼šæ‰¾ä¸åˆ°å¤´æ–‡ä»¶</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å®‰è£…å¯¹åº”çš„ devel åŒ…</span>
sudo dnf provides */stdio.h
sudo dnf install -y glibc-devel

<span class="hljs-comment"># æŸ¥æ‰¾ç‰¹å®šå¤´æ–‡ä»¶</span>
sudo dnf provides */openssl/ssl.h
</code></pre>
<p><strong>é—®é¢˜ï¼šé“¾æ¥é”™è¯¯</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ç¤ºä¾‹ï¼šundefined reference to `sqrt'</span>
<span class="hljs-comment"># è§£å†³ï¼šé“¾æ¥æ•°å­¦åº“</span>
gcc -o program program.c -lm

<span class="hljs-comment"># ç¤ºä¾‹ï¼šundefined reference to `pthread_create'</span>
<span class="hljs-comment"># è§£å†³ï¼šé“¾æ¥çº¿ç¨‹åº“</span>
gcc -o program program.c -lpthread
</code></pre>
<h3 data-id="heading-20">8.3 GDB è°ƒè¯•é—®é¢˜</h3>
<p><strong>é—®é¢˜ï¼šçœ‹ä¸åˆ°æºä»£ç </strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ç¡®ä¿ç¼–è¯‘æ—¶åŠ äº† -g é€‰é¡¹</span>
gcc -g -o program program.c

<span class="hljs-comment"># ä½¿ç”¨ TUI æ¨¡å¼</span>
gdb -tui ./program
</code></pre>
<hr/>
<h2 data-id="heading-21">ä¹ã€openEuler 25.09 æ–°ç‰¹æ€§</h2>
<h3 data-id="heading-22">9.1 ç³»ç»Ÿä¼˜åŠ¿</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c5967c5c4c6487b80c90d424838b93b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=iNHRITxxoht7nKa9ukrtRnaAWbE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-23">9.2 å¼€å‘å·¥å…·ä¼˜åŠ¿</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/feec538e578444d0af950f5a5737f0d4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554720&amp;x-signature=SBpX5%2FoH5gAgEgmJ4UIKydf14Yc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-24">æœ«å°¾ æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ•™ç¨‹ï¼Œæ‚¨å·²ç»æˆåŠŸåœ¨ openEuler 25.09 ä¸Šæ­å»ºäº†å®Œæ•´çš„ C/C++ å¼€å‘ç¯å¢ƒã€‚ç°åœ¨æ‚¨çš„ç³»ç»Ÿå…·å¤‡ï¼š</p>
<h3 data-id="heading-25">âœ… æ ¸å¿ƒèƒ½åŠ›</h3>
<p>æœ€æ–°çš„ GCC/G++ ç¼–è¯‘å™¨ï¼ˆæ”¯æŒ C++20/C++23ï¼‰</p>
<p>ä¸“ä¸šçš„ GDB è°ƒè¯•å™¨å’Œæ€§èƒ½åˆ†æå·¥å…·</p>
<p>ä¸°å¯Œçš„ç³»ç»Ÿå¼€å‘åº“ï¼ˆç½‘ç»œã€æ•°æ®åº“ã€åŠ å¯†ã€è§£æç­‰ï¼‰</p>
<p>é«˜æ•ˆçš„å¼€å‘è¾…åŠ©è„šæœ¬å’Œå‘½ä»¤åˆ«å</p>
<p>ä¸‹ä¸€æ­¥å»ºè®®</p>
<p>å®è·µé¡¹ç›®ï¼šå°è¯•ç¼–å†™å¤šæ–‡ä»¶é¡¹ç›®ï¼Œä½¿ç”¨ Makefile æˆ– CMake ç®¡ç†æ„å»º</p>
<p>æ·±å…¥è°ƒè¯•ï¼šå­¦ä¹  GDB çš„é«˜çº§åŠŸèƒ½ï¼ˆæ¡ä»¶æ–­ç‚¹ã€watchpointã€core dump åˆ†æï¼‰</p>
<p>ç‰ˆæœ¬æ§åˆ¶ï¼šå®‰è£… Gitï¼ˆsudo dnf install gitï¼‰ï¼Œå­¦ä¹ ä»£ç ç‰ˆæœ¬ç®¡ç†</p>
<p>æ€§èƒ½ä¼˜åŒ–ï¼šä½¿ç”¨ Valgrindã€perf ç­‰å·¥å…·è¿›è¡Œæ€§èƒ½åˆ†æå’Œå†…å­˜æ£€æµ‹</p>
<p>æ¢ç´¢ç”Ÿæ€ï¼šäº†è§£ openEuler çš„å®¹å™¨ã€è™šæ‹ŸåŒ–ã€äº‘åŸç”Ÿç­‰ç‰¹æ€§</p>
<p>ç¥æ‚¨åœ¨ openEuler 25.09 ä¸Šå¼€å‘é¡ºåˆ©ï¼ğŸŠ</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openEuler ä¸Š Redis æ€§èƒ½è°ƒä¼˜ä¸åŸºå‡†æµ‹è¯•å®æˆ˜]]></title>    <link>https://juejin.cn/post/7580208715275239466</link>    <guid>https://juejin.cn/post/7580208715275239466</guid>    <pubDate>2025-12-05T15:49:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580208715275239466" data-draft-id="7580208715275223082" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openEuler ä¸Š Redis æ€§èƒ½è°ƒä¼˜ä¸åŸºå‡†æµ‹è¯•å®æˆ˜"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T15:49:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯åº—å°äºŒå‘€"/> <meta itemprop="url" content="https://juejin.cn/user/4132386718619243"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openEuler ä¸Š Redis æ€§èƒ½è°ƒä¼˜ä¸åŸºå‡†æµ‹è¯•å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4132386718619243/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯åº—å°äºŒå‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:49:42.000Z" title="Fri Dec 05 2025 15:49:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>Redis ä½œä¸ºé«˜æ€§èƒ½çš„å†…å­˜æ•°æ®åº“ï¼Œåœ¨ç¼“å­˜ã€æ¶ˆæ¯é˜Ÿåˆ—ã€å®æ—¶åˆ†æç­‰åœºæ™¯ä¸­å¹¿æ³›åº”ç”¨ã€‚æœ¬æ–‡åŸºäº openEuler 25.09 æ“ä½œç³»ç»Ÿï¼Œé€šè¿‡å®æˆ˜æ¼”ç¤º Redis çš„éƒ¨ç½²ã€æ€§èƒ½åŸºå‡†æµ‹è¯•ä»¥åŠå‚æ•°è°ƒä¼˜ï¼Œæ·±åº¦æŒ–æ˜ openEuler åœ¨æ•°æ®åº“åœºæ™¯ä¸‹çš„æ€§èƒ½ä¼˜åŠ¿ã€‚openEuler ä½œä¸ºè‡ªä¸»åˆ›æ–°çš„æœåŠ¡å™¨æ“ä½œç³»ç»Ÿï¼Œåœ¨å†…æ ¸ä¼˜åŒ–ã€å†…å­˜ç®¡ç†ã€ç½‘ç»œåè®®æ ˆç­‰æ–¹é¢å…·å¤‡æ˜¾è‘—ä¼˜åŠ¿ï¼Œç‰¹åˆ«é€‚åˆé«˜å¹¶å‘ã€ä½å»¶è¿Ÿçš„æ•°æ®åº“åº”ç”¨åœºæ™¯ã€‚</p>
<p><strong>æµ‹è¯•ç¯å¢ƒï¼š</strong></p>
<ul>
<li>
<p>æ“ä½œç³»ç»Ÿï¼šopenEuler 25.09 x86_64</p>
</li>
<li>
<p>CPUï¼š4æ ¸å¿ƒ</p>
</li>
<li>
<p>å†…å­˜ï¼š8GB</p>
</li>
<li>
<p>Redis ç‰ˆæœ¬ï¼š8.2.1</p>
</li>
<li>
<p>æµ‹è¯•å·¥å…·ï¼šredis-benchmark</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€Redis å¿«é€Ÿéƒ¨ç½²</h2>
<h3 data-id="heading-2">2.1 ç³»ç»Ÿç¯å¢ƒå‡†å¤‡</h3>
<p>openEuler æä¾›äº†å®Œå–„çš„è½¯ä»¶ä»“åº“å’ŒåŒ…ç®¡ç†å·¥å…·ï¼Œä½¿å¾— Redis çš„å®‰è£…éƒ¨ç½²éå¸¸ä¾¿æ·ã€‚é¦–å…ˆæ›´æ–°ç³»ç»Ÿå¹¶å®‰è£…å¿…è¦çš„ä¾èµ–ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># æ›´æ–°ç³»ç»Ÿè½¯ä»¶åŒ…</span>
sudo dnf update -y

<span class="hljs-comment"># å®‰è£… Redisï¼ˆopenEuler ä»“åº“å·²åŒ…å« Redis 7.xï¼‰</span>
sudo dnf install redis -y

<span class="hljs-comment"># æŸ¥çœ‹ Redis ç‰ˆæœ¬</span>
redis-server --version
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/785fd1fd2d304af98dc3c5e659486ad2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=Jozn3%2B9q%2FLj8UH6gREtAO04uSOs%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ“ä½œè¯´æ˜ï¼š</strong></p>
<p>openEuler çš„ dnf åŒ…ç®¡ç†å™¨ç»è¿‡ä¼˜åŒ–ï¼Œä¾èµ–è§£æé€Ÿåº¦æ¯”ä¼ ç»Ÿå‘è¡Œç‰ˆæå‡çº¦ 30%</p>
<p>ç³»ç»Ÿè‡ªå¸¦çš„ Redis ç‰ˆæœ¬å·²ç»è¿‡å……åˆ†æµ‹è¯•ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¯‘ï¼Œå¼€ç®±å³ç”¨</p>
<h3 data-id="heading-3">2.2 Redis æœåŠ¡å¯åŠ¨ä¸é…ç½®</h3>
<p>openEuler é‡‡ç”¨ systemd è¿›è¡ŒæœåŠ¡ç®¡ç†ï¼Œå¯åŠ¨ Redis æœåŠ¡éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å¯åŠ¨ Redis æœåŠ¡</span>
sudo systemctl start redis

<span class="hljs-comment"># è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</span>
sudo systemctl <span class="hljs-built_in">enable</span> redis

<span class="hljs-comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span>
sudo systemctl status redis

<span class="hljs-comment"># éªŒè¯ Redis æ˜¯å¦æ­£å¸¸è¿è¡Œ</span>
redis-cli ping
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a98aedb4afc4533b5a4de9d82ee5ee4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=UB1Q0GdsZdaEC47Z%2BcPuwaphi5c%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é¢„æœŸè¾“å‡ºï¼š</strong></p>
<pre><code class="hljs language-Plain" lang="Plain">PONG
</code></pre>
<p>å¦‚æœè¿”å› <code>PONG</code>ï¼Œè¯´æ˜ Redis å·²æˆåŠŸå¯åŠ¨ã€‚æ­¤æ—¶ Redis è¿è¡Œåœ¨é»˜è®¤é…ç½®ä¸‹ï¼Œç›‘å¬ 6379 ç«¯å£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8299752f30349b7a562a998928888e3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=mVRAo7%2F0dswN1prNFGA0P1%2Bl5Vw%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é…ç½®æ–‡ä»¶ä½ç½®ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># Redis ä¸»é…ç½®æ–‡ä»¶</span>
/etc/redis/redis.conf

<span class="hljs-comment"># å¤‡ä»½åŸå§‹é…ç½®ï¼ˆé‡è¦ï¼ï¼‰</span>
sudo <span class="hljs-built_in">cp</span> /etc/redis/redis.conf /etc/redis/redis.conf.bak
</code></pre>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€åŸºå‡†æ€§èƒ½æµ‹è¯•</h2>
<h3 data-id="heading-5">3.1 é»˜è®¤é…ç½®æ€§èƒ½æµ‹è¯•</h3>
<p>redis-benchmark æ˜¯ Redis å®˜æ–¹æä¾›çš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œå¯ä»¥å…¨é¢è¯„ä¼° Redis çš„è¯»å†™æ€§èƒ½ã€‚æˆ‘ä»¬é¦–å…ˆåœ¨é»˜è®¤é…ç½®ä¸‹è¿›è¡ŒåŸºå‡†æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åŸºç¡€æ€§èƒ½æµ‹è¯•ï¼ˆ10ä¸‡æ¬¡è¯·æ±‚ï¼Œ50ä¸ªå¹¶å‘å®¢æˆ·ç«¯ï¼‰</span>
redis-benchmark -h 127.0.0.1 -p 6379 -n 100000 -c 50 -q
</code></pre>
<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li>
<p><code>-h</code>ï¼šRedis æœåŠ¡å™¨åœ°å€</p>
</li>
<li>
<p><code>-p</code>ï¼šç«¯å£å·</p>
</li>
<li>
<p><code>-n</code>ï¼šæ€»è¯·æ±‚æ•°</p>
</li>
<li>
<p><code>-c</code>ï¼šå¹¶å‘è¿æ¥æ•°</p>
</li>
<li>
<p><code>-t</code>ï¼šæµ‹è¯•æŒ‡å®šå‘½ä»¤</p>
</li>
<li>
<p><code>-q</code>ï¼šç®€æ´è¾“å‡ºæ¨¡å¼</p>
</li>
</ul>
<p><strong>æµ‹è¯•ç»“æœç¤ºä¾‹ï¼ˆé»˜è®¤é…ç½®ï¼‰ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f77c6843158e4788a9b84e19ddd4d29d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=7Nqe14wt%2B%2FnMpjBjymC2e3Po1WE%3D" alt="image.png" loading="lazy"/></p>
<p>è¯¦ç»†æµ‹è¯•å„ç±»å‘½ä»¤æ€§èƒ½</p>
<pre><code class="hljs language-Bash" lang="Bash">redis-benchmark -h 127.0.0.1 -p 6379 -n 100000 -c 50 -t <span class="hljs-built_in">set</span>,get,incr,lpush,rpush,lpop,rpop,sadd,hset,spop,zadd,zpopmin,lrange,mset -q
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/417a94af94b647a190013318dbecc199~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=j0bxbfG00FEfm0m2P3OShqE2dmU%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ€§èƒ½åˆ†æï¼š</strong> åœ¨ openEuler é»˜è®¤é…ç½®ä¸‹ï¼ŒRedis çš„ GET/SET æ“ä½œå·²ç»è¾¾åˆ° <strong>8.9ä¸‡-9.2ä¸‡ QPS</strong>ï¼Œè¿™å¾—ç›Šäº openEuler å†…æ ¸å¯¹å†…å­˜è®¿é—®å’Œç½‘ç»œ I/O çš„ä¼˜åŒ–ã€‚</p>
<h3 data-id="heading-6">3.2 å‹åŠ›æµ‹è¯•ä¸å»¶è¿Ÿåˆ†æ</h3>
<p>ä¸ºäº†æ›´å…¨é¢åœ°è¯„ä¼°æ€§èƒ½ï¼Œæˆ‘ä»¬è¿›è¡Œé«˜å¹¶å‘å‹åŠ›æµ‹è¯•å’Œå»¶è¿Ÿåˆ†æï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># é«˜å¹¶å‘æµ‹è¯•ï¼ˆ200ä¸ªå¹¶å‘å®¢æˆ·ç«¯ï¼‰</span>
redis-benchmark -h 127.0.0.1 -p 6379 -n 500000 -c 200 -t <span class="hljs-built_in">set</span>,get -q

<span class="hljs-comment"># å»¶è¿Ÿåˆ†å¸ƒæµ‹è¯•</span>
redis-cli --latency-history -h 127.0.0.1 -p 6379
</code></pre>
<p><strong>é«˜å¹¶å‘æµ‹è¯•ç»“æœï¼ˆé»˜è®¤é…ç½®ï¼‰ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/127f145dd4b74110882736f5e564853c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=8noTExek771m4rMfk%2FuZSjMBpGY%3D" alt="image.png" loading="lazy"/></p>
<p><strong>å»¶è¿Ÿæµ‹è¯•ç»“æœç¤ºä¾‹ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8c5d8f2d0fb494bb2280db4be712515~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=pcOs4Xa%2BnQBM1gZptTHpFH%2BudwY%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3c5f10df81584e4d96953528f943cf83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=xgXc2vav9p5PqJNUV9m8XrRYJ8I%3D" alt="image.png" loading="lazy"/></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼ŒopenEuler ç³»ç»Ÿä¾ç„¶ä¿æŒç¨³å®šçš„æ€§èƒ½è¾“å‡ºï¼Œå¹³å‡å»¶è¿Ÿæ§åˆ¶åœ¨ <strong>0.15ms</strong> å·¦å³ï¼Œæœ€å¤§å»¶è¿Ÿä¸è¶…è¿‡ 2msï¼Œè¡¨ç°ä¼˜å¼‚ã€‚</p>
<hr/>
<h2 data-id="heading-7">å››ã€æ€§èƒ½è°ƒä¼˜å®æˆ˜</h2>
<h3 data-id="heading-8">4.1 Redis é…ç½®ä¼˜åŒ–</h3>
<p>åŸºäº openEuler çš„ç³»ç»Ÿç‰¹æ€§ï¼Œæˆ‘ä»¬å¯¹ Redis é…ç½®è¿›è¡Œé’ˆå¯¹æ€§ä¼˜åŒ–ã€‚ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash">sudo vim /etc/redis/redis.conf
</code></pre>
<p><strong>å…³é”®ä¼˜åŒ–å‚æ•°ï¼š</strong></p>
<pre><code class="hljs language-Nginx" lang="Nginx"># 1. å†…å­˜ç®¡ç†ä¼˜åŒ–
# å†…å­˜é…ç½®
maxmemory 4294967296
maxmemory-policy allkeys-lru

# 2. æŒä¹…åŒ–ä¼˜åŒ–ï¼ˆæµ‹è¯•ç¯å¢ƒå¯å…³é—­ä»¥æå‡æ€§èƒ½ï¼‰
save ""
appendonly no

# 3. ç½‘ç»œä¼˜åŒ–
tcp-backlog 511
timeout 0
tcp-keepalive 300

# 4. çº¿ç¨‹æ¨¡å‹ä¼˜åŒ–ï¼ˆRedis 6.0+æ”¯æŒå¤šçº¿ç¨‹I/Oï¼‰
io-threads 4
io-threads-do-reads yes

# 5. å†…å­˜åˆ†é…å™¨ä¼˜åŒ–ï¼ˆopenEuler å·²é»˜è®¤ä½¿ç”¨ jemallocï¼‰
# æ— éœ€ä¿®æ”¹ï¼Œç³»ç»Ÿå·²ä¼˜åŒ–

# 6. æ…¢æŸ¥è¯¢æ—¥å¿—
slowlog-log-slower-than 10000
slowlog-max-len 128
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2383958a55b540548f845bdce9ab1f0f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=H%2B1LyCuyxHjD4aOcb70tmeFmTQ0%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é…ç½®è¯´æ˜ï¼š</strong></p>
<ul>
<li>
<p><code>maxmemory</code>ï¼šé™åˆ¶ Redis æœ€å¤§å†…å­˜ä½¿ç”¨ï¼Œé˜²æ­¢ OOM</p>
</li>
<li>
<p><code>maxmemory-policy</code>ï¼šå†…å­˜æ·˜æ±°ç­–ç•¥ï¼ŒLRU é€‚åˆç¼“å­˜åœºæ™¯</p>
</li>
<li>
<p><code>save ""</code>ï¼šå…³é—­ RDB æŒä¹…åŒ–ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰</p>
</li>
<li>
<p><code>appendonly no</code>ï¼šå…³é—­ AOF æŒä¹…åŒ–ï¼ˆæµ‹è¯•ç¯å¢ƒï¼‰</p>
</li>
<li>
<p><code>io-threads 4</code>ï¼šå¯ç”¨ 4 ä¸ª I/O çº¿ç¨‹ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸ CPU</p>
</li>
<li>
<p><code>io-threads-do-reads yes</code>ï¼šI/O çº¿ç¨‹åŒæ—¶å¤„ç†è¯»å†™</p>
</li>
</ul>
<p><strong>åº”ç”¨é…ç½®ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># é‡å¯ Redis æœåŠ¡ä½¿é…ç½®ç”Ÿæ•ˆ</span>
sudo systemctl restart redis

<span class="hljs-comment"># éªŒè¯é…ç½®æ˜¯å¦ç”Ÿæ•ˆ</span>
redis-cli CONFIG GET io-threads
redis-cli CONFIG GET maxmemory
</code></pre>
<p>è¿™é‡Œå¤šæµ‹è¯•å‡ ä¸‹å“ˆ</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b15632e6dde3422491ff55f72744df6d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=edUalsFItD5WvQAFd7h%2BFJVVlz8%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™ä¸ªå‚æ•°å¾ˆé‡è¦ æ‰€ä»¥ä½ è¦å¿…é¡»æŠŠå®ƒå˜ä¸º</p>
<p>CONFIG GET maxmemory 42949....</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52541fde55bc4b198589f6a7386b8863~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=sDleFSE0jbwnNDcbP5TTNLQWYAM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-9">4.2 ç³»ç»Ÿå±‚é¢ä¼˜åŒ–</h3>
<p>openEuler æä¾›äº†ä¸°å¯Œçš„å†…æ ¸å‚æ•°è°ƒä¼˜é€‰é¡¹ï¼Œé’ˆå¯¹ Redis åœºæ™¯è¿›è¡Œç³»ç»Ÿçº§ä¼˜åŒ–ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ç¼–è¾‘ç³»ç»Ÿå‚æ•°é…ç½®</span>
sudo vim /etc/sysctl.conf
</code></pre>
<p><strong>æ·»åŠ ä»¥ä¸‹ä¼˜åŒ–å‚æ•°ï¼š</strong></p>
<pre><code class="hljs language-Nginx" lang="Nginx"># ç½‘ç»œä¼˜åŒ–
net.core.somaxconn = 65535
net.ipv4.tcp_max_syn_backlog = 8192
net.ipv4.tcp_fin_timeout = 30
net.ipv4.tcp_keepalive_time = 300
net.ipv4.tcp_tw_reuse = 1

# å†…å­˜ä¼˜åŒ–
vm.overcommit_memory = 1
vm.swappiness = 0

# é€æ˜å¤§é¡µä¼˜åŒ–ï¼ˆå»ºè®®ç¦ç”¨ï¼‰
# æ³¨æ„ï¼šéœ€è¦åœ¨è¿è¡Œæ—¶ç¦ç”¨
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a8cf501a15fa4ad7b7bc23c87c94fb09~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=Jb73FVtcDWjZ8kIxAmaUpWgGiU8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>åº”ç”¨ç³»ç»Ÿå‚æ•°ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ä½¿é…ç½®ç«‹å³ç”Ÿæ•ˆ</span>
sudo sysctl -p

<span class="hljs-comment"># ç¦ç”¨é€æ˜å¤§é¡µï¼ˆTransparent Huge Pagesï¼‰</span>
<span class="hljs-built_in">echo</span> never | sudo <span class="hljs-built_in">tee</span> /sys/kernel/mm/transparent_hugepage/enabled
<span class="hljs-built_in">echo</span> never | sudo <span class="hljs-built_in">tee</span> /sys/kernel/mm/transparent_hugepage/defrag

<span class="hljs-comment"># æŸ¥çœ‹å½“å‰è®¾ç½®</span>
<span class="hljs-built_in">cat</span> /sys/kernel/mm/transparent_hugepage/enabled
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00f3e832b3ae4bfa934282711ee11779~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=jTTBK7hNp2FeTaS8Va2itg7GZq8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ä¼˜åŒ–è¯´æ˜ï¼š</strong></p>
<ul>
<li>
<p><code>vm.overcommit_memory = 1</code>ï¼šå…è®¸å†…å­˜è¿‡é‡åˆ†é…ï¼Œé¿å… Redis fork æ—¶å¤±è´¥</p>
</li>
<li>
<p><code>vm.swappiness = 0</code>ï¼šå°½é‡é¿å…ä½¿ç”¨ swapï¼Œä¿è¯ Redis æ€§èƒ½</p>
</li>
<li>
<p><code>net.core.somaxconn</code>ï¼šå¢å¤§è¿æ¥é˜Ÿåˆ—ï¼Œæ”¯æŒé«˜å¹¶å‘</p>
</li>
<li>
<p>ç¦ç”¨é€æ˜å¤§é¡µï¼šé¿å…å†…å­˜ç¢ç‰‡å’Œå»¶è¿ŸæŠ–åŠ¨</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-10">äº”ã€è°ƒä¼˜åæ€§èƒ½å¯¹æ¯”æµ‹è¯•</h2>
<h3 data-id="heading-11">5.1 ä¼˜åŒ–ååŸºå‡†æµ‹è¯•</h3>
<p>åº”ç”¨æ‰€æœ‰ä¼˜åŒ–é…ç½®åï¼Œé‡æ–°è¿›è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># åŸºç¡€æ€§èƒ½æµ‹è¯•</span>
redis-benchmark -h 127.0.0.1 -p 6379 -n 100000 -c 50 -t <span class="hljs-built_in">set</span>,get,incr,lpush,rpush,lpop,rpop,sadd,hset,spop,zadd,zpopmin,lrange,mset -q

<span class="hljs-comment"># é«˜å¹¶å‘æµ‹è¯•</span>
redis-benchmark -h 127.0.0.1 -p 6379 -n 500000 -c 200 -t <span class="hljs-built_in">set</span>,get -q

<span class="hljs-comment"># Pipeline æ¨¡å¼æµ‹è¯•ï¼ˆæ¨¡æ‹Ÿæ‰¹é‡æ“ä½œï¼‰</span>
redis-benchmark -h 127.0.0.1 -p 6379 -n 100000 -c 50 -P 16 -t <span class="hljs-built_in">set</span>,get -q
</code></pre>
<p><strong>ä¼˜åŒ–åæµ‹è¯•ç»“æœï¼š</strong></p>
<p><strong>åŸºç¡€æ€§èƒ½æµ‹è¯•ï¼ˆ50å¹¶å‘ï¼‰ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/12173296afda4244bf325555312a09b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=hfHY29c5dlWaJztos8it2Y0%2FPp0%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é«˜å¹¶å‘æµ‹è¯•ï¼ˆ200å¹¶å‘ï¼‰ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0c18230ef154b06bf2f02854a4a0877~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=azya%2BL8Vzg7yWeysTGBLFmnXxUs%3D" alt="image.png" loading="lazy"/></p>
<p><strong>Pipeline æ¨¡å¼æµ‹è¯•ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c973b3adba4f42b0b616b746fa6a0993~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=mIiasJNtbfxB1ERO5GkMhTv8Tm8%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-12">5.2 æ€§èƒ½æå‡åˆ†æ</h3>
<p>é€šè¿‡å¯¹æ¯”ä¼˜åŒ–å‰åçš„æµ‹è¯•æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°æ€§èƒ½æå‡ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fb144f24c3b47c687b4cfa754470d97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=XTeokVxkSxtrQT1aNvbzKHo0nzg%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-Nginx" lang="Nginx">ä¼˜åŒ–å‰ QPS:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 58K
ä¼˜åŒ–å QPS:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 142K  (+45%)

Pipeline ä¼˜åŒ–å‰: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 530K
Pipeline ä¼˜åŒ–å: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 1520K (+87%)
</code></pre>
<p><strong>æ€§èƒ½æå‡å…³é”®å› ç´ ï¼š</strong></p>
<ol>
<li>
<p><strong>å¤šçº¿ç¨‹ I/O ä¼˜åŒ–</strong>ï¼šå¯ç”¨ 4 ä¸ª I/O çº¿ç¨‹åï¼Œå……åˆ†åˆ©ç”¨äº† openEuler çš„å¤šæ ¸è°ƒåº¦ä¼˜åŠ¿ï¼Œç½‘ç»œ I/O å¤„ç†èƒ½åŠ›æ˜¾è‘—æå‡</p>
</li>
<li>
<p><strong>å†…æ ¸ç½‘ç»œæ ˆä¼˜åŒ–</strong>ï¼šopenEuler çš„ç½‘ç»œåè®®æ ˆç»è¿‡æ·±åº¦ä¼˜åŒ–ï¼Œé…åˆç³»ç»Ÿå‚æ•°è°ƒæ•´ï¼Œè¿æ¥å¤„ç†èƒ½åŠ›æå‡ 40%+</p>
</li>
<li>
<p><strong>å†…å­˜ç®¡ç†ä¼˜åŒ–</strong>ï¼šç¦ç”¨é€æ˜å¤§é¡µã€ä¼˜åŒ–å†…å­˜åˆ†é…ç­–ç•¥ï¼Œå‡å°‘äº†å†…å­˜ç¢ç‰‡å’Œå»¶è¿ŸæŠ–åŠ¨</p>
</li>
<li>
<p><strong>æŒä¹…åŒ–å…³é—­</strong>ï¼šæµ‹è¯•ç¯å¢ƒå…³é—­æŒä¹…åŒ–åï¼Œæ¶ˆé™¤äº†ç£ç›˜ I/O ç“¶é¢ˆï¼Œçº¯å†…å­˜æ“ä½œæ€§èƒ½å¾—åˆ°å……åˆ†é‡Šæ”¾</p>
</li>
</ol>
<p><strong>å»¶è¿Ÿå¯¹æ¯”æµ‹è¯•ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ä¼˜åŒ–åå»¶è¿Ÿæµ‹è¯•</span>
redis-cli --latency-history -h 127.0.0.1 -p 6379
</code></pre>
<p><strong>ä¼˜åŒ–åå»¶è¿Ÿç»“æœï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8d19119cd1f4211a31e02462af040a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554582&amp;x-signature=zgaOlXCox296mb4229aoTTcXSAY%3D" alt="image.png" loading="lazy"/></p>
<p>å¹³å‡å»¶è¿Ÿä» <strong>0.15ms é™ä½åˆ° 0.09ms</strong>ï¼Œé™ä½ <strong>40%</strong>ï¼Œæœ€å¤§å»¶è¿Ÿä» 2ms é™ä½åˆ° 1msï¼Œç¨³å®šæ€§æ˜¾è‘—æå‡ã€‚</p>
<hr/>
<h2 data-id="heading-13">å…­ã€openEuler ç³»ç»Ÿä¼˜åŠ¿æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ¬¡ Redis æ€§èƒ½æµ‹è¯•ä¸è°ƒä¼˜å®æˆ˜ï¼ŒopenEuler æ“ä½œç³»ç»Ÿåœ¨æ•°æ®åº“åº”ç”¨åœºæ™¯ä¸‹å±•ç°å‡ºä»¥ä¸‹æ ¸å¿ƒä¼˜åŠ¿ï¼š</p>
<h3 data-id="heading-14">6.1 å“è¶Šçš„æ€§èƒ½è¡¨ç°</h3>
<ul>
<li>
<p><strong>é«˜ååé‡</strong>ï¼šä¼˜åŒ–å Redis QPS çªç ´ 13 ä¸‡ï¼Œé«˜å¹¶å‘åœºæ™¯ä¸‹æå‡ 44%-46%</p>
</li>
<li>
<p><strong>ä½å»¶è¿Ÿ</strong>ï¼šå¹³å‡å»¶è¿Ÿä½è‡³ 0.09msï¼ŒP99 å»¶è¿Ÿç¨³å®šåœ¨ 1ms ä»¥å†…</p>
</li>
<li>
<p><strong>å¤šæ ¸åˆ©ç”¨ç‡é«˜</strong>ï¼šå†…æ ¸è°ƒåº¦å™¨ä¼˜åŒ–ä½¿å¾—å¤šçº¿ç¨‹ I/O æ€§èƒ½æå‡æ˜æ˜¾</p>
</li>
</ul>
<h3 data-id="heading-15">6.2 å®Œå–„çš„è½¯ä»¶ç”Ÿæ€</h3>
<ul>
<li>
<p><strong>å¼€ç®±å³ç”¨</strong>ï¼šè½¯ä»¶ä»“åº“æä¾›æœ€æ–°ç¨³å®šç‰ˆ Redisï¼Œæ— éœ€æ‰‹åŠ¨ç¼–è¯‘</p>
</li>
<li>
<p><strong>ä¾èµ–ç®¡ç†é«˜æ•ˆ</strong>ï¼šdnf åŒ…ç®¡ç†å™¨ä¾èµ–è§£æé€Ÿåº¦å¿«ï¼Œå®‰è£…éƒ¨ç½²ä¾¿æ·</p>
</li>
<li>
<p><strong>å…¼å®¹æ€§å¥½</strong>ï¼šå®Œå…¨å…¼å®¹ Redis å®˜æ–¹ç‰¹æ€§ï¼Œè¿ç§»æˆæœ¬ä½</p>
</li>
</ul>
<p>openEuler ä½œä¸ºé¢å‘ä¼ä¸šçº§åº”ç”¨çš„è‡ªä¸»åˆ›æ–°æ“ä½œç³»ç»Ÿï¼Œåœ¨å†…æ ¸ä¼˜åŒ–ã€ç½‘ç»œåè®®æ ˆã€å†…å­˜ç®¡ç†ç­‰æ–¹é¢æŒç»­æŠ•å…¥ï¼Œç‰¹åˆ«é€‚åˆé«˜æ€§èƒ½æ•°æ®åº“ã€äº‘åŸç”Ÿåº”ç”¨ç­‰åœºæ™¯ã€‚æœ¬æ¬¡æµ‹è¯•è¯æ˜ï¼Œåœ¨ç›¸åŒç¡¬ä»¶æ¡ä»¶ä¸‹ï¼Œé€šè¿‡åˆç†çš„ç³»ç»Ÿè°ƒä¼˜ï¼ŒopenEuler èƒ½å¤Ÿå……åˆ†é‡Šæ”¾ç¡¬ä»¶æ€§èƒ½ï¼Œä¸ºä¸šåŠ¡åº”ç”¨æä¾›åšå®çš„åŸºç¡€æ”¯æ’‘ã€‚</p>
<hr/>
<h2 data-id="heading-16">ä¸ƒã€æ€»ç»“ä¸å»ºè®®</h2>
<p>æœ¬æ–‡åŸºäº openEuler 25.09 ç³»ç»Ÿï¼Œå®Œæˆäº† Redis ä»éƒ¨ç½²ã€åŸºå‡†æµ‹è¯•åˆ°æ€§èƒ½è°ƒä¼˜çš„å…¨æµç¨‹å®æˆ˜ã€‚é€šè¿‡ Redis é…ç½®ä¼˜åŒ–å’Œç³»ç»Ÿå‚æ•°è°ƒæ•´ï¼Œæ€§èƒ½æå‡è¾¾åˆ° <strong>40%-46%</strong>ï¼Œå……åˆ†éªŒè¯äº† openEuler åœ¨æ•°æ®åº“åº”ç”¨åœºæ™¯ä¸‹çš„ä¼˜å¼‚è¡¨ç°ã€‚</p>
<p><strong>å®æˆ˜è¦ç‚¹å›é¡¾ï¼š</strong></p>
<ol>
<li>
<p>openEuler è½¯ä»¶ä»“åº“å®Œå–„ï¼ŒRedis éƒ¨ç½²ä¾¿æ·é«˜æ•ˆ</p>
</li>
<li>
<p>é»˜è®¤é…ç½®ä¸‹æ€§èƒ½å·²è¾¾ 9 ä¸‡+ QPSï¼ŒåŸºç¡€æ€§èƒ½ä¼˜å¼‚</p>
</li>
<li>
<p>å¯ç”¨å¤šçº¿ç¨‹ I/Oã€ä¼˜åŒ–ç³»ç»Ÿå‚æ•°åï¼Œæ€§èƒ½æå‡ 40%+</p>
</li>
<li>
<p>å»¶è¿Ÿé™ä½ 40%ï¼Œç¨³å®šæ€§æ˜¾è‘—æå‡</p>
</li>
</ol>
<p><strong>ç”Ÿäº§ç¯å¢ƒå»ºè®®ï¼š</strong></p>
<ul>
<li>
<p>æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„æŒä¹…åŒ–ç­–ç•¥ï¼ˆRDB/AOFï¼‰</p>
</li>
<li>
<p>åˆç†é…ç½®å†…å­˜ä¸Šé™å’Œæ·˜æ±°ç­–ç•¥ï¼Œé¿å… OOM</p>
</li>
<li>
<p>å®šæœŸç›‘æ§æ…¢æŸ¥è¯¢æ—¥å¿—ï¼Œä¼˜åŒ–ä¸šåŠ¡ä»£ç </p>
</li>
<li>
<p>åˆ©ç”¨ openEuler çš„å†…æ ¸ç‰¹æ€§ï¼ŒæŒç»­è°ƒä¼˜ç³»ç»Ÿå‚æ•°</p>
</li>
</ul>
<p>openEuler ä¸ºæ•°æ®åº“åº”ç”¨æä¾›äº†é«˜æ€§èƒ½ã€é«˜ç¨³å®šæ€§çš„è¿è¡Œç¯å¢ƒï¼Œæ˜¯ä¼ä¸šçº§åº”ç”¨çš„ç†æƒ³é€‰æ‹©ã€‚</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C++ grpc ç¯å¢ƒéƒ¨ç½²]]></title>    <link>https://juejin.cn/post/7580216638109401103</link>    <guid>https://juejin.cn/post/7580216638109401103</guid>    <pubDate>2025-12-05T15:54:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580216638109401103" data-draft-id="7579995747171581987" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C++ grpc ç¯å¢ƒéƒ¨ç½²"/> <meta itemprop="keywords" content="gRPC"/> <meta itemprop="datePublished" content="2025-12-05T15:54:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·07504274114"/> <meta itemprop="url" content="https://juejin.cn/user/2807479185180345"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C++ grpc ç¯å¢ƒéƒ¨ç½²
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2807479185180345/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·07504274114
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:54:34.000Z" title="Fri Dec 05 2025 15:54:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>â€‹</p>
<h2 data-id="heading-0">Â å‰è¨€</h2>
<p>æœ¬æ–‡æ ¹æ®<a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F%25EF%25BC%258C%25E8%25BF%259B%25E8%25A1%258CC%2B%2B" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/%EF%BC%8C%E8%BF%9B%E8%A1%8CC++" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a> grpcçš„å®‰è£…ä¸æµ‹è¯•ç”¨ä¾‹è¿è¡Œï¼Œå¹¶ç»™å‡ºäº†ä¸ªäººC++é¡¹ç›®ä¸­ä¾èµ–grpcç¤ºä¾‹ã€‚å¦‚æœä¸æƒ³è‡ªå·±ç¼–è¯‘ï¼Œå¯ä»¥ç›´æ¥çœ‹Â <strong>ä¸ªäººC++é¡¹ç›®ä¸­ä¾èµ–grpcç¤ºä¾‹ç¼–è¯‘è¿è¡Œ</strong>Â ä¸€èŠ‚ï¼Œç»™å‡ºäº†æˆ‘ä¸ªäººç¼–è¯‘å¥½çš„grpcä»¥åŠç¤ºä¾‹ä»£ç ç¼–è¯‘è¿è¡Œæ–¹æ³•ã€‚æ°´å¹³ä¸é«˜ï¼Œèƒ½åŠ›æœ‰é™ï¼Œé”™æ¼ä¹‹å¤„ï¼Œè¿˜è¯·è§è°…ã€‚æ¬¢è¿å‹å¥½è®¨è®ºã€‚</p>
<h2 data-id="heading-1">ç¯å¢ƒè¯´æ˜</h2>
<p>æœ¬æ–‡æ‰€æœ‰æ“ä½œæ˜¯åœ¨2æ ¸2Gï¼Œæ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆæœ¬ä¸ºCentOS 7.6 Â çš„è…¾è®¯äº‘æœºå™¨ä¸Šè¿›è¡Œçš„ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8d22a8a4d6c47b7a87b44a04de35a64~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=F2fN58hYRaUgLrSe%2BmTItSv%2BPUI%3D" alt="" loading="lazy"/></p>
<p>å„ä¸ªè½¯ä»¶ç‰ˆæœ¬ï¼š</p>
<ul>
<li>CMakeç‰ˆæœ¬ï¼š4.2.0ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>Gitç‰ˆæœ¬ï¼š2.25.0ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>GCCç‰ˆæœ¬ï¼šgcc 11.2ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>GLIBCXX ç‰ˆæœ¬ï¼šlibstdc++.so.6.0.29ï¼ˆä¼´éšgcc11.2å®‰è£…ï¼‰ï¼Œè®¾ç½®è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpc helloworldç¤ºä¾‹ç¨‹åºè¿è¡Œ</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>as &amp; ldç‰ˆæœ¬: Â  2.45ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
</ul>
<h2 data-id="heading-2">C++ grpcå®‰è£…</h2>
<h3 data-id="heading-3">è®¾ç½®å®‰è£…è·¯å¾„</h3>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">#</span><span class="bash">Â å®‰è£…æµç¨‹</span>
export MY_INSTALL_DIR=/home/xxxxxx/blog_code/grpc Â # è®¾ç½®å®‰è£…è·¯å¾„, è®¾ç½®ä¸€ä¸ªæœ¬åœ°è·¯å¾„, é¿å…å¸è½½å›°éš¾
mkdir -p $MY_INSTALL_DIR Â  Â  Â  Â  Â  # ç¡®ä¿å®‰è£…è·¯å¾„å­˜åœ¨
</code></pre>
<h3 data-id="heading-4">ç¡®ä¿CMakeç‰ˆæœ¬å¤Ÿæ–°</h3>
<p>æŒ‰ç…§ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a> ä¸­çš„è¦æ±‚ï¼ŒCMakeç‰ˆæœ¬è¦å¤§äº3.16ç‰ˆæœ¬ã€‚å¯ä»¥æ‰§è¡ŒæŒ‡ä»¤</p>
<pre><code class="hljs language-shell" lang="shell">cmake --version
</code></pre>
<p>æŸ¥çœ‹ã€‚æˆ‘çš„æœ¬æœºç‰ˆæœ¬æ˜¯2.8.12.2ï¼Œæ‰€ä»¥è¦æ›´æ–°ä¸ºè¾ƒæ–°ç‰ˆæœ¬ã€‚</p>
<p>åœ¨ Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a> Â ä¸­ç»™å‡ºäº†æ›´æ–°åˆ°3.30ç‰ˆæœ¬çš„æŒ‡ä»¤ï¼Œå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">wget -q -O cmake-linux.sh https://github.com/Kitware/CMake/releases/download/v3.30.3/cmake-3.30.3-linux-x86_64.sh
sh cmake-linux.sh -- --skip-license --prefix=$MY_INSTALL_DIR
rm cmake-linux.sh
</code></pre>
<p>å¯ä»¥ç”¨è¿™ä¸ªã€‚æˆ‘å½“æ—¶æ²¡æœ‰çœ‹åˆ°ï¼Œæ‰€ä»¥è‡ªå·±è¿›è¡Œäº†æ›´æ–°ï¼Œä¹Ÿç»™å‡ºæ¥è¿‡ç¨‹ï¼Œä»¥ä¾›å‚è€ƒï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">#</span><span class="bash">Â åœ¨ https://cmake.org/download/ é¡µé¢é€‰æ‹©æŒ‡å®šçš„å®‰è£…shæ–‡ä»¶ï¼Œå¦‚https://github.com/Kitware/CMake/releases/download/v4.2.0/cmake-4.2.0-linux-x86_64.shï¼Œæ‰§è¡Œ</span>
wget https://github.com/Kitware/CMake/releases/download/v4.2.0/cmake-4.2.0-linux-x86_64.sh
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b8e83bc45844ccd8dbea586e7212e53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=zVV4kqMILivMpogC5rYKTq2JwvU%3D" alt="" loading="lazy"/></p>
<p>ä¸‹è½½åç»§ç»­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-shell" lang="shell">chmod +x cmake-4.2.0-linux-x86_64.sh
<span class="hljs-meta prompt_">#</span><span class="bash">Â --skip-licenseè¡¨ç¤ºè‡ªåŠ¨æ¥å—è®¸å¯ï¼Œ--exclude-subdiré˜²æ­¢åˆ›å»ºç‰ˆæœ¬å·å­ç›®å½•, å®‰è£…åˆ° /usr/local,</span>
sudo ./cmake-4.2.0-linux-x86_64.sh --skip-license --exclude-subdir --prefix=/usr/local
</code></pre>
<p>æ‰§è¡Œå®Œæ¯•åï¼Œå†æ¬¡æ‰§è¡Œ cmake --versionï¼Œ å‡ºç°äº†ä»¥ä¸‹æŠ¥é”™ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d846f4945cde4021936dab4d94f4fc4a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=jsN3BgA0pY%2Fu6uiT9FLb5eqNb2c%3D" alt="" loading="lazy"/>â€‹</p>
<p>å¯ä»¥æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤è®¾ç½®CMAKE_ROOTå’ŒPATHè·¯å¾„ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">echo 'export CMAKE_ROOT=/usr/local/share/cmake-4.2' &gt;&gt; ~/.bashrc
echo 'export PATH="/usr/local/bin:$PATH"' &gt;&gt; ~/.bashrc
source ~/.bashrc
</code></pre>
<p>å†æ¬¡æ£€æŸ¥ç‰ˆæœ¬ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32d696e9a2324a6080d2b86a9bbc6d14~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=ptU0CqZset3hoy192%2FgazWpq6DA%3D" alt="" loading="lazy"/></p>
<p>è¾“å‡ºæ­£ç¡®ã€‚å®‰è£…å®Œæ¯•ã€‚</p>
<h3 data-id="heading-5">å®‰è£…å…¶ä»–éœ€è¦çš„å·¥å…·</h3>
<pre><code class="hljs language-shell" lang="shell">sudo yum install -y build-essential autoconf libtool pkg-config
</code></pre>
<h3 data-id="heading-6">å…‹éš†grpcå’Œå®ƒçš„å­æ¨¡å—</h3>
<p>æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">git clone --recurse-submodules -b v1.76.0 --depth 1 --shallow-submodules https://github.com/grpc/grpc
</code></pre>
<p>ç”±äºæˆ‘æœ¬åœ°gitç‰ˆæœ¬è¿‡ä½ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f1bf1a0787e4a5b8abd7158631b6839~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=Ajk1vLNBkmi1v6gSePPUj3cZz1g%3D" alt="" loading="lazy"/></p>
<p>æˆ‘æŸ¥äº†æœ¬åœ°çš„gitç‰ˆæœ¬ï¼Œæ˜¯1.8.3.1</p>
<pre><code class="hljs language-css" lang="css">git <span class="hljs-attr">--version</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1210960b7cee4af99d9b1b939ade8926~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=nzbAo3iPPUqe%2FaCExbkRayByHGU%3D" alt="" loading="lazy"/></p>
<p>è€Œæ”¯æŒ --shallow-submodules ç‰ˆæœ¬è¦åœ¨2.10.0 ä»¥ä¸Šã€‚å› æ­¤æˆ‘å‡çº§äº†ç¯å¢ƒgitï¼Œå‡çº§æ–¹æ³•ä¸ºæºç å‡çº§ï¼Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">#</span><span class="bash">Â å®‰è£…ç¼–è¯‘å·¥å…·å’Œä¾èµ–</span>
sudo yum groupinstall "Development Tools"
sudo yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel perl-ExtUtils-MakeMaker
<span class="hljs-meta prompt_">#</span><span class="bash">Â ä¸‹è½½æºç , è¿™é‡Œå®‰è£…2.25.0ç‰ˆæœ¬, å°è¯•å®‰è£…äº†2.52ç‰ˆæœ¬, ä½†æ˜¯glibcç‰ˆæœ¬å¤ªä½äº†, å®‰è£…å¤±è´¥</span>
wget https://github.com/git/git/archive/refs/tags/v2.25.0.tar.gz
<span class="hljs-meta prompt_">#</span><span class="bash">Â è§£å‹</span>
tar -xzf v2.25.0.tar.gz
cd git-2.25.0
<span class="hljs-meta prompt_">#</span><span class="bash">Â é…ç½®ç¼–è¯‘é€‰é¡¹</span>
make configure./configure --prefix=/usr/local
<span class="hljs-meta prompt_">#</span><span class="bash">Â ç¼–è¯‘ï¼ˆä½¿ç”¨å¤šæ ¸åŠ é€Ÿï¼Œæ ¹æ®CPUæ ¸å¿ƒæ•°è°ƒæ•´ï¼‰</span>
make -j$(nproc) all
sudo make install
</code></pre>
<p>å®‰è£…å®Œæ¯•åï¼Œé¦–å…ˆç¡®ä¿~/.bashrcä¸­æœ‰å¦‚ä¸‹è¡Œï¼š</p>
<pre><code class="hljs language-shell" lang="shell">export PATH="/usr/local/bin:$PATH"Â 
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d373da2329b24eb2b08ff363b77d35ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=rkcx6NAfQwBrFfyjp0kAuQZe9n0%3D" alt="" loading="lazy"/></p>
<p>å¦‚æœæ²¡æœ‰ï¼Œåˆ™æ·»åŠ ä¸Šï¼Œå¹¶ä¸”æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-shell" lang="shell">source ~/.bashrc
</code></pre>
<p>ç„¶åæ‰§è¡Œ git --version æŸ¥çœ‹gitç‰ˆæœ¬ï¼Œåº”è¯¥å°±å¯¹äº†ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ffd8406ecd84942b5d6ed21089e8064~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=mcR32aHvQziuTXxENOKRXax%2BrRY%3D" alt="" loading="lazy"/></p>
<p>gitæ›´æ–°å¥½åï¼Œé‡æ–°æ‹‰å–ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">git clone --recurse-submodules -b v1.76.0 --depth 1 --shallow-submodules https://github.com/grpc/grpc
</code></pre>
<p>å¯ä»¥æ‹‰å–æˆåŠŸã€‚</p>
<h3 data-id="heading-7">å®‰è£…grpc</h3>
<p>å®‰è£…è·¯å¾„å°±æ˜¯å‰é¢è®¾ç½®çš„ MY_INSTALL_DIRã€‚</p>
<p>æ ¹æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a> ï¼Œå®‰è£…æŒ‡ä»¤ä¸ºï¼š</p>
<pre><code class="hljs language-ini" lang="ini">cd grpc Â  Â <span class="hljs-comment"># gitæ‹‰å–çš„ä»“åº“æ–‡ä»¶å¤¹</span>
mkdir -p cmake/build
pushd cmake/build
cmake <span class="hljs-attr">-DgRPC_INSTALL</span>=<span class="hljs-literal">ON</span> \Â  Â  Â  
      <span class="hljs-attr">-DgRPC_BUILD_TESTS</span>=<span class="hljs-literal">OFF</span> \Â  Â  Â  
      <span class="hljs-attr">-DCMAKE_CXX_STANDARD</span>=<span class="hljs-number">17</span> \Â  Â  Â  
      <span class="hljs-attr">-DCMAKE_INSTALL_PREFIX</span>=<span class="hljs-variable">$MY_INSTALL_DIR</span> \Â  Â  Â  
      ../..
</code></pre>
<p>æ‰§è¡Œæ—¶ï¼Œæˆ‘çš„ç¯å¢ƒæŠ¥é”™ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a683b47c3804b7db30e7c85100012a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=v2DO55Nl376%2BzTq3jnZ52nmIw%2Fs%3D" alt="" loading="lazy"/></p>
<p>æ˜æ˜¾æ˜¯gccç‰ˆæœ¬å¤ªä½äº†ï¼Œä¸æ”¯æŒC++17ã€‚å› æ­¤éœ€è¦å‡çº§gccï¼Œæˆ‘é€‰æ‹©æºç å‡çº§ï¼Œå‡çº§ç‰ˆæœ¬ä¸ºgcc11ã€‚æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo yum groupinstall <span class="hljs-string">"Development Tools"</span>
sudo yum install gmp-devel mpfr-devel libmpc-devel
wget https://mirrors.cloud.tencent.com/gnu/gcc/gcc-11.2.0/gcc-11.2.0.tar.gz
tar -xzf gcc-11.2.0.tar.gz
<span class="hljs-built_in">cd</span> gcc-11.2.0
<span class="hljs-comment"># å»ºè®®åˆ›å»ºç‹¬ç«‹çš„æ„å»ºç›®å½•</span>
<span class="hljs-built_in">mkdir</span> build &amp;&amp; <span class="hljs-built_in">cd</span> build
<span class="hljs-comment"># é…ç½®ç¼–è¯‘é€‰é¡¹ï¼ŒæŒ‡å®šå®‰è£…è·¯å¾„åˆ°/usr/local/gcc-11.2.0; æˆ–è€…è¿™é‡Œç›´æ¥è®¾ç½®æˆ/usr/localå³å¯, çœå»åé¢ä¿®æ”¹ç³»ç»Ÿå˜é‡PATHçš„æ­¥éª¤</span>
../configure --prefix=/usr/local/gcc-11.2.0 --enable-languages=c,c++ --disable-multilib
<span class="hljs-comment"># å¼€å§‹ç¼–è¯‘ï¼Œä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„CPUæ ¸å¿ƒä»¥åŠ å¿«é€Ÿåº¦</span>
make -j$(<span class="hljs-built_in">nproc</span>)
<span class="hljs-comment"># å®‰è£…ï¼ˆéœ€è¦rootæƒé™ï¼‰</span>
sudo make install
<span class="hljs-comment"># ç¼–è¾‘å½“å‰ç”¨æˆ·çš„bashé…ç½®æ–‡ä»¶ï¼Œå°†GCC 11çš„è·¯å¾„æ·»åŠ åˆ°ç¯å¢ƒå˜é‡PATHä¸­ï¼Œè®©ç³»ç»Ÿä¼˜å…ˆä½¿ç”¨</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export PATH=/usr/local/gcc-11.2.0/bin:$PATH'</span> &gt;&gt; ~/.bashrc
<span class="hljs-built_in">echo</span> <span class="hljs-string">'export LD_LIBRARY_PATH=/usr/local/gcc-11.2.0/lib64:$LD_LIBRARY_PATH'</span> &gt;&gt; ~/.bashrc
<span class="hljs-comment"># ä½¿æ›´æ”¹ç«‹å³ç”Ÿæ•ˆ</span>
<span class="hljs-built_in">source</span> ~/.bashrc
</code></pre>
<p>æ‰§è¡Œå®Œæ¯•æ‰§è¡Œï¼Œå¯ä»¥æ‰§è¡Œ gcc -v è¿›è¡Œæ£€æŸ¥ã€‚å¯ä»¥å‘ç°å·²ç»å˜æˆäº†gcc 11.2ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e33cf8df99b643a39acc98d7627440d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=3aW4oJ1PZDlrFF5BQj0xd%2FYD5zM%3D" alt="" loading="lazy"/></p>
<p>ç„¶åé‡æ–°æ‰§è¡Œgrpcçš„cmakeå‘½ä»¤ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">é¦–å…ˆåˆ‡æ¢åˆ°grpcç›®å½•ä¸‹</span>
rm -rf cmake/build  # åˆ é™¤æ—§çš„ä¿¡æ¯
mkdir -p cmake/build
cd cmake/build
<span class="hljs-meta prompt_"># </span><span class="bash">ä¿®æ”¹æŒ‡ä»¤, ç¡®ä¿ä½¿ç”¨æœ€æ–°çš„gcc</span>
<span class="hljs-meta prompt_"># </span><span class="bash">æ­£å¸¸æˆ‘ç†è§£è¿™ä¸ªæ—¶å€™æ˜¯ä¸ç”¨æŒ‡å®šç¼–è¯‘å™¨ç‰ˆæœ¬çš„, å› ä¸ºæˆ‘å·²ç»è®¾ç½®äº†ç¯å¢ƒå˜é‡, åº”è¯¥é»˜è®¤å°±æ˜¯gcc11, ä½†æ˜¯å¾ˆé—æ†¾, æˆ‘é‡è¯•ä¹‹å, è¿˜æ˜¯ä¼šç”¨gcc 4.8.5æ¥ç¼–è¯‘, å› æ­¤è¿™é‡ŒæŒ‡å®šäº†ç¼–è¯‘å™¨ç‰ˆæœ¬</span>
cmake -DCMAKE_C_COMPILER=/usr/local/gcc-11.2.0/bin/gcc \
      -DCMAKE_CXX_COMPILER=/usr/local/gcc-11.2.0/bin/g++ \
      -DgRPC_INSTALL=ON \
      -DgRPC_BUILD_TESTS=OFF \
      -DCMAKE_CXX_STANDARD=17 \
      -DCMAKE_INSTALL_PREFIX=$MY_INSTALL_DIR \
      ../..
<span class="hljs-meta prompt_"># </span><span class="bash">ç¼–è¯‘</span>
make -j$(nproc)
</code></pre>
<p>æ‰§è¡Œç¼–è¯‘ä¹‹åï¼ŒæŠ¥é”™ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0df4de36ea84ff393b2915d9a8f3dad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=2gWQplctMjzJkkINQA1MqeUKYag%3D" alt="" loading="lazy"/></p>
<p>è¿™ä¸ªæ˜¯å› ä¸ºæ±‡ç¼–å™¨ç‰ˆæœ¬è¿‡ä½ï¼Œå¦‚æˆ‘æœ¬åœ°çš„æ±‡ç¼–å™¨ç‰ˆæœ¬æ˜¯2.27ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8772649fff6c48d58b2b5cf7b5a57d29~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=3uLpAyy1kFz7KD8IDlKkAlEiLPM%3D" alt="" loading="lazy"/></p>
<p>æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤å‡çº§æ±‡ç¼–å™¨ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">æŸ¥çœ‹ç½‘ç«™ https://ftp.gnu.org/gnu/binutils/ æ‰¾åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œè¿™é‡Œé€‰æ‹©2.45</span>
<span class="hljs-meta prompt_"># </span><span class="bash">å¦‚æœå‘ç°ä¸‹è½½é€Ÿåº¦è¿‡æ…¢, å¯ä»¥é€‰æ‹©å›½å†…é•œåƒæº, æ¯”å¦‚é˜¿é‡Œäº‘é•œåƒæºï¼šhttps://mirrors.aliyun.com/gnu/binutils/binutils-2.45.tar.gz</span>
wget http://ftp.gnu.org/gnu/binutils/binutils-2.45.tar.gz
tar -xzf binutils-2.45.tar.gz
cd binutils-2.45
./configure --prefix=/usr/local --enable-gold --enable-plugins --disable-werror
make -j$(nproc)  # ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„CPUæ ¸å¿ƒè¿›è¡Œç¼–è¯‘ï¼ŒåŠ å¿«é€Ÿåº¦
sudo make install
</code></pre>
<p>å®‰è£…å®Œä¹‹åå†æ£€æŸ¥ä¸€ä¸‹ç‰ˆæœ¬ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc0302eac0934569af7f459bf5d471a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=ncqKE43sP6MOjSrsE4NQ4VeAlz8%3D" alt="" loading="lazy"/></p>
<p>å‡çº§æˆåŠŸã€‚</p>
<p>é‡æ–°æ‰§è¡Œç¼–è¯‘æŒ‡ä»¤ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">make -j$(nproc)
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f2d3d8d5ae0943c1b5fd6183067b5e06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=fQxSG9dVHzeRETfSaPLVHbR7N3w%3D" alt="" loading="lazy"/></p>
<p>ç¼–è¯‘æˆåŠŸ</p>
<p>ç„¶åæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-shell" lang="shell">make install
</code></pre>
<p>å®‰è£…ã€‚æˆåŠŸä¹‹åï¼Œåœ¨å®‰è£…ç›®å½•ä¸‹å¯ä»¥çœ‹åˆ°å¦‚ä¸‹æ–‡ä»¶å¤¹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ac3c632b95c4046a7415ef49b3fcaed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=FMgQLKUV5%2Fn1ybIgcrFm99CdbIQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">C++ grpc helloworldç¤ºä¾‹ç¨‹åºç¼–è¯‘è¿è¡Œ</h2>
<p>æ ¹æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F%25EF%25BC%258C%25E6%2589%25A7%25E8%25A1%258C%25E5%25A6%2582%25E4%25B8%258B%25E6%258C%2587%25E4%25BB%25A4%25E8%25BF%2590%25E8%25A1%258C%25E7%25A4%25BA%25E4%25BE%258B%25E7%25A8%258B%25E5%25BA%258F%25EF%25BC%259A" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/%EF%BC%8C%E6%89%A7%E8%A1%8C%E5%A6%82%E4%B8%8B%E6%8C%87%E4%BB%A4%E8%BF%90%E8%A1%8C%E7%A4%BA%E4%BE%8B%E7%A8%8B%E5%BA%8F%EF%BC%9A" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a></p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">é¦–å…ˆåˆ‡æ¢åˆ°grpcä»“åº“ä¸‹</span>
cd examples/cpp/helloworld

mkdir -p cmake/build
pushd cmake/build
cmake -DCMAKE_C_COMPILER=/usr/local/gcc-11.2.0/bin/gcc \
      -DCMAKE_CXX_COMPILER=/usr/local/gcc-11.2.0/bin/g++ \
      -DCMAKE_PREFIX_PATH=$MY_INSTALL_DIR ../..
make -j$(nproc)
</code></pre>
<p>æˆ‘æœ¬åœ°æŠ¥é”™ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bb1518885544513b456dae0f7b4aa9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=PVdDeiVh2v8BYibSP%2FuXI9K3GUw%3D" alt="" loading="lazy"/></p>
<p>è¿™æ˜¯å› ä¸ºGLIBCXX ç‰ˆæœ¬è¿‡ä½ï¼Œä½†æ˜¯å®é™…ä¸Šæˆ‘ä»¬å®‰è£…äº†gcc 11.2 æ˜¯æœ‰é«˜ç‰ˆæœ¬çš„ã€‚æ‰§è¡Œ</p>
<pre><code class="hljs language-shell" lang="shell">sudo find / -name "libstdc++.so.6*" 2&gt;/dev/nullÂ 
</code></pre>
<p>æŒ‡ä»¤è¿›è¡ŒæŸ¥æ‰¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35cdb6aac604440ab32326ac1e47b48d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=n9YpiyCuuH7DXc03WQzADSlyLR8%3D" alt="" loading="lazy"/></p>
<p>å¯ä»¥æ‰¾åˆ°æ›´é«˜ç‰ˆæœ¬ã€‚</p>
<p>æ‰§è¡Œå¦‚ä¸‹æŒ‡ä»¤æ­£ç¡®é“¾æ¥ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">sudo cp /usr/local/gcc-11.2.0/lib64/libstdc++.so.6.0.29 /usr/lib64/
cd /usr/lib64
<span class="hljs-meta prompt_"># </span><span class="bash">å¤‡ä»½æ—§ç‰ˆæœ¬ï¼ˆå¯é€‰ä½†æ¨èï¼‰</span>
sudo cp libstdc++.so.6 libstdc++.so.6.bak
<span class="hljs-meta prompt_"># </span><span class="bash">åˆ›å»ºæŒ‡å‘æ–°ç‰ˆæœ¬çš„è½¯é“¾æ¥</span>
sudo ln -sf libstdc++.so.6.0.29 libstdc++.so.6
<span class="hljs-meta prompt_"># </span><span class="bash">æ›´æ–°åŠ¨æ€åº“ç¼“å­˜</span>
sudo ldconfig
</code></pre>
<p>é‡æ–°å›åˆ°ç¤ºä¾‹æ–‡ä»¶å¤¹æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">make -j$(<span class="hljs-built_in">nproc</span>)
</code></pre>
<p>æˆ‘çš„æœºå™¨åªæœ‰2æ ¸2Gï¼Œä¼šå› ä¸ºå†…å­˜ä¸è¶³è€ŒæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>
<pre><code class="hljs language-shell" lang="shell">[xxxxxxxx@VM-0-5-centos ~/grpc/examples/cpp/helloworld/cmake/build] ((no branch))$ make -j$(nproc)
[ 22%] Built target hw_grpc_proto
[ 27%] Linking CXX executable greeter_server
[ 33%] Linking CXX executable greeter_client
collect2: fatal error: ld terminated with signal 9 [Killed]
compilation terminated.
make[2]: *** [greeter_server] Error 1
make[2]: *** Deleting file `greeter_server'
make[1]: *** [CMakeFiles/greeter_server.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
</code></pre>
<p>æš‚æ—¶æ²¡æœ‰èµ„é‡‘å»å‡çº§æœºå™¨ï¼Œ æ‰€ä»¥å…ˆå¢åŠ ä¸€ä¸‹swapç©ºé—´æ¥ç¼“è§£è¿™ä¸ªé—®é¢˜ã€‚æµç¨‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»º Swap æ–‡ä»¶</span>
sudo <span class="hljs-built_in">dd</span> <span class="hljs-keyword">if</span>=/dev/zero of=/swapfile bs=1M count=2048  <span class="hljs-comment"># å› ä¸ºç³»ç»Ÿç›˜åªæœ‰40Gï¼Œæ‰€ä»¥ä¹Ÿä¸å¤ªæ•¢æŠŠswapè®¾ç½®å¤ªé«˜ï¼Œæä¸ª2Gå…ˆçœ‹çœ‹</span>
<span class="hljs-comment"># è®¾ç½®æƒé™</span>
sudo <span class="hljs-built_in">chmod</span> 600 /swapfile
<span class="hljs-comment"># æ ¼å¼åŒ–å¹¶å¯ç”¨</span>
sudo mkswap /swapfile  <span class="hljs-comment"># æ ¼å¼åŒ–</span>
sudo swapon /swapfile  <span class="hljs-comment"># ç«‹å³å¯ç”¨</span>
<span class="hljs-comment"># è®¾ç½®æ°¸ä¹…ç”Ÿæ•ˆ</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">'/swapfile none swap sw 0 0'</span> | sudo <span class="hljs-built_in">tee</span> -a /etc/fstab
</code></pre>
<p>æ‰§è¡Œ free -h ï¼Œ å¯ä»¥çœ‹åˆ°å·²ç»æœ‰swapç©ºé—´äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cad39b7b48d341948bd30b378b00f9e5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=aNVnTMh7qvthpcvfmmaKLxmwmb0%3D" alt="" loading="lazy"/></p>
<p>ç¼–è¯‘å®Œæˆåã€‚åœ¨æ„å»ºç›®å½• Â examples/cpp/helloworld/cmake/build ä¸‹æ‰§è¡Œï¼š</p>
<ul>
<li>
<p>è¿è¡ŒæœåŠ¡å™¨ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-shell" lang="shell">./greeter_server
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/781a00e877534754ac0b6ffc6e96ed0b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=tbtxE3B790qtiyixt4XLVzB4yPA%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
</ul>

<ul>
<li>
<p>åœ¨å¦å¤–ä¸€ä¸ªç»ˆç«¯è¿è¡Œå®¢æˆ·ç«¯ï¼š</p>
<ul>
<li>
<pre><code class="hljs language-shell" lang="shell">./greeter_client
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/989255eb15ff4df5adec3a4d870debf3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=jewmm2jUJDa%2FyEkY0bD0nALQf3Y%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°æœ‰ç»“æœè¾“å‡ºï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¯ä»¥æ­£å¸¸è¿›è¡Œé€šä¿¡äº†ã€‚</p>
<h2 data-id="heading-9">C++ grpc helloworldç¤ºä¾‹ç¨‹åºä¿®æ”¹è¿è¡Œ</h2>
<p>ä»¥ä¸‹ç›¸å…³ä»£ç éƒ½å¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a> ä¸­æ‰¾åˆ°ã€‚</p>
<h3 data-id="heading-10">æ›´æ–°protoå®šä¹‰</h3>
<p>åœ¨grpcä»“åº“ç›®å½•ä¸‹ï¼Œç¼–è¾‘ Â examples/protos/helloworld.proto ï¼Œå¢åŠ  SayHelloAgain() åè®®ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4fe510cc3d1b491d92f339fffb90161a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=zmshfGrHvSIaRir5VSiBmkPETpc%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-11">æ›´æ–°æœåŠ¡å™¨ä»£ç </h3>
<p>åœ¨grpcä»“åº“ç›®å½•ä¸‹ï¼Œç¼–è¾‘examples/cpp/helloworld/greeter_server.ccï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/26636fde62354fc49e90278c92486d1a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=PySGfQ2ZNIx80ZHktTr2DFbrjsI%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-12">æ›´æ–°å®¢æˆ·ç«¯ä»£ç </h3>
<p>åœ¨grpcä»“åº“ç›®å½•ä¸‹ï¼Œç¼–è¾‘examples/cpp/helloworld/greeter_client.ccï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ecc664355cf3418eb2e40b06471a4b98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=nm0lInVCHOm%2FwutLXvGhfTdVx9Q%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0e6001e43a374915b52cf2962a63c953~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=Oa2UP9BccR8d3yDRd7KNWjbUnvU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-13">é‡æ–°ç¼–è¯‘</h3>
<p>åœ¨grpcä»“åº“ç›®å½•ä¸‹çš„examples/cpp/helloworld/cmake/buildä¸­æ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">make -j$(<span class="hljs-built_in">nproc</span>)
</code></pre>
<p>buildæˆåŠŸä¹‹åï¼Œå†æ¬¡è¿è¡Œã€‚ä¾ç„¶åœ¨ examples/cpp/helloworld/cmake/build ç›®å½•ä¸‹ï¼š</p>
<ul>
<li>
<p>è¿è¡ŒæœåŠ¡å™¨</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  ./greeter_server
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd7902d2f43e43eeb5e875e2c30ce448~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=IaS6%2FEwIc%2FczRMuoKaAPMeTMqrs%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
</ul>

<ul>
<li>
<p>å†åœ¨å¦å¤–ä¸€ä¸ªç»ˆç«¯è¿è¡Œå®¢æˆ·ç«¯</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  ./greeter_client
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7d9b7ead93946f4a59fb865bb924b76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=xenAZ1FFwfVXhNCMG3EB34gI4SM%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
</ul>
<p>å¯ä»¥å‘ç°æ–°åè®®é€šä¿¡æˆåŠŸ</p>
<h2 data-id="heading-14">ä¸ªäººC++é¡¹ç›®ä¸­ä¾èµ–grpcç¤ºä¾‹ç¼–è¯‘è¿è¡Œ</h2>
<p>è¿™é‡Œç»™å‡ºæˆ‘ç®€å•å®ç°çš„ä»£ç ã€‚åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FEarthlyImmortal%2Fblog_code" title="https://github.com/EarthlyImmortal/blog_code" target="_blank" ref="nofollow noopener noreferrer">github.com/EarthlyImmoâ€¦</a></p>
<p>æœ¬åœ°è¿è¡Œæµç¨‹å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p>å…‹éš†ä»“åº“åˆ°æœ¬åœ°</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  git <span class="hljs-built_in">clone</span> https://github.com/EarthlyImmortal/blog_code
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e127e03ec1e4f06a4c59b987f4fc7a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=jgt5Rtok3qfhKwlDVEkji2zgq%2B0%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/>â€‹ç¼–è¾‘</p>
</li>
</ul>
</li>
<li>
<p>åˆ‡æ¢åˆ°ä»“åº“ç›®å½•</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  <span class="hljs-built_in">cd</span> blog_code
  <span class="hljs-built_in">ls</span>
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2dd241691e234686a091992d75e0a9a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=qf0VYs4JZLoQcqQNnfY8o72Yg1k%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
<li>
<p>æ–°å»ºç›®å½•grpcï¼Œå°†ç¼–è¯‘å¥½çš„grpcç›¸å…³å†…å®¹(å³MY_INSTALL_DIR)ä¸­çš„å†…å®¹å¤åˆ¶åˆ°grpcç›®å½•ä¸‹ã€‚å¦‚æœæ²¡æœ‰ç¼–è¯‘å¯ä»¥å…³æ³¨å…¬ä¼—å·Â åªåšäººé—´ä¸è€ä»™ï¼Œåå°å‘é€Â grpcç¼–è¯‘æ–‡ä»¶Â è·å–æˆ‘ç¼–è¯‘å†…å®¹çš„å‹ç¼©åŒ…ã€‚æ²¡æœ‰ç›´æ¥æ”¾åˆ°gitä»“åº“æ˜¯å› ä¸ºæœ‰äº›åº“å¤ªå¤§äº†ã€‚ä¸‹é¢æˆ‘ä»¥å‹ç¼©åŒ…ä¸ºä¾‹ï¼š</p>
<ul>
<li>
<p>ä½¿ç”¨å‹ç¼©åŒ…ä¸ç”¨æå‰æ–°å»ºç›®å½•ï¼Œç›´æ¥å°†å‹ç¼©åŒ…ä¸Šä¼ åˆ°å½“å‰ç›®å½•</p>
<ul>
<li><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4442379935474bf59d67de8acb106204~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=D6mGI4TZc7YXWS6A1nbfQaTI81g%3D" alt="" loading="lazy"/></li>
</ul>
</li>
<li>
<p>è§£å‹</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  tar -xzf grpc_bin.tar.gzÂ 
  <span class="hljs-built_in">ls</span>
</code></pre>
</li>
<li><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9cfebea3a3e34feb96cc1edb84cdb5a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=Y2CLMyBlS0XaWjrcP0iApMKFmVU%3D" alt="" loading="lazy"/></li>
</ul>
</li>
</ul>
</li>
<li>
<p>åˆ‡æ¢åˆ°hello_worldç›®å½•</p>
</li>
<li>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  <span class="hljs-built_in">cd</span> hello_world
  <span class="hljs-built_in">ls</span>
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66c1fbf1649540089246fb7c410d7aec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=pvfJ4ZXCv06QygjfRSDEmMfK8QE%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
<li>
<p>ä¿®æ”¹start_build.shä¸­çš„gccå’Œg++è·¯å¾„ã€‚åˆ‡æ¢ä¸ºè‡ªå·±æœ¬åœ°çš„é«˜ç‰ˆæœ¬gccè·¯å¾„ã€‚</p>
<ul>
<li>
<p>å¦‚æœä¸çŸ¥é“æœ¬åœ°é«˜ç‰ˆæœ¬gccè·¯å¾„åœ¨å“ªé‡Œï¼Œå¯ä»¥æ‰§è¡Œwhereis gcc è¿›è¡ŒæŸ¥æ‰¾</p>
<ul>
<li>
<pre><code class="hljs">  whereis gcc
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1b87e26f1324f1ebf56ad36836186a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=ggoyTENqg6K6NuYg%2FOFTnfu94mY%3D" alt="" loading="lazy"/></p>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ace7141a4424d00a6e2ffad44907fc7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=DJTl8tDSx3POB0pwNPihAsVRho4%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
<li>
<p>å¦‚æœé»˜è®¤gccå°±æ˜¯é«˜ç‰ˆæœ¬ï¼Œå¯ä»¥å°†CMakeæŒ‡ä»¤ä¸­æŒ‡å®šç‰ˆæœ¬çš„éƒ¨åˆ†åˆ é™¤</p>
<ul>
<li><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a31180ad76946228831bf99d4c08584~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=5phrtixVzMpq8o%2FQIhlVpv0YX8c%3D" alt="" loading="lazy"/></li>
</ul>
</li>
</ul>
</li>
<li>
<p>è¿è¡Œstart_build.shè¿›è¡Œç¼–è¯‘</p>
<ul>
<li>
<pre><code class="hljs">  sh start_build.sh
</code></pre>
</li>
<li><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/75de6e1f9f294a41ba23eda7554d7933~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=rYQk%2B7P%2BM94h3BI9t5yuKO%2F4BbU%3D" alt="" loading="lazy"/></li>
</ul>
</li>
</ul>
<p>ç¼–è¯‘å®Œæˆåï¼Œè¿›è¡Œè¿è¡Œã€‚</p>
<ul>
<li>
<p>åœ¨blog_code/hello_world/build/serverç›®å½•ä¸‹æ‰§è¡Œï¼š</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  ./server
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/01c145f59b674d818acab8b07564314c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=nvPlfmQjA5UqghSDRTeJb%2F2oryE%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
<li>
<p>å¦å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œåœ¨blog_code/hello_world/build/clientç›®å½•ä¸‹æ‰§è¡Œ</p>
<ul>
<li>
<pre><code class="hljs language-bash" lang="bash">  ./client
</code></pre>
</li>
<li>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91cd8f4372a14793a6736ed047fc4f32~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3MDc1MDQyNzQxMTQ=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554874&amp;x-signature=Z1igFKHWl1hw7gU3CUv%2BDehXqro%3D" alt="" loading="lazy"/></p>
</li>
</ul>
</li>
</ul>
<p>å¯ä»¥å‘ç°ï¼Œå¯ä»¥æ­£å¸¸é€šä¿¡ã€‚</p>
<p>æ³¨æ„ï¼Œä¸ºäº†å°½å¯èƒ½ä¸å‡ºé—®é¢˜ï¼Œéƒ¨ç½²æœåŠ¡å™¨ç¯å¢ƒè¦ä¸ç¼–è¯‘æœåŠ¡å™¨ç¯å¢ƒä¸€è‡´ã€‚è¿™é‡Œå†æ¬¡ç»™å‡ºæˆ‘ä¸ªäººç¼–è¯‘ç¯å¢ƒä¸‹çš„ä¸»è¦è½¯ä»¶ç‰ˆæœ¬ï¼š</p>
<ul>
<li>CMakeç‰ˆæœ¬ï¼š4.2.0ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>Gitç‰ˆæœ¬ï¼š2.25.0ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>GCCç‰ˆæœ¬ï¼šgcc 11.2ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>GLIBCXX ç‰ˆæœ¬ï¼šlibstdc++.so.6.0.29ï¼ˆä¼´éšgcc11.2å®‰è£…ï¼‰ï¼Œè®¾ç½®è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpc helloworldç¤ºä¾‹ç¨‹åºè¿è¡Œ</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
<li>as &amp; ldç‰ˆæœ¬: Â  2.45ï¼Œå®‰è£…è¿‡ç¨‹å¯åœ¨Â <strong>C++ grpcå®‰è£…</strong>Â ä¸€èŠ‚æ‰¾åˆ°</li>
</ul>
<p>å¦‚é‡åˆ°å…¶ä»–æœ¬æ–‡æœªæåŠçš„é”™è¯¯ï¼Œå»ºè®®ç½‘ä¸ŠæŸ¥æ‰¾ç›¸å…³èµ„æ–™æˆ–è€…è¯¢é—®AIå·¥å…·è¿›è¡Œè§£å†³ã€‚</p>
<p>è¯´æ˜ï¼šé™äºæ—¶é—´å’Œèµ„æºåŸå› ï¼Œä¸Šè¿°å†…å®¹è¿˜æ˜¯åœ¨åŸæ¥çš„æœºå™¨ä¸Šæµ‹è¯•çš„ã€‚åé¢æˆ‘åœ¨å¦å¤–ä¸€å°æœºå™¨ä¸Šè¿›è¡Œå¤ç°ï¼Œåœ¨ç¡®ä¿ä»¥ä¸Šè½¯ä»¶ç‰ˆæœ¬æ­£ç¡®çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ç¼–è¯‘é€šè¿‡å¹¶æ­£å¸¸è¿è¡Œã€‚</p>
<h2 data-id="heading-15">å‚è€ƒ</h2>
<ul>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgrpc.io%2Fdocs%2Flanguages%2Fcpp%2Fquickstart%2F" target="_blank" title="https://grpc.io/docs/languages/cpp/quickstart/" ref="nofollow noopener noreferrer">grpc.io/docs/languaâ€¦</a></p>
</li>
<li>
<p>è…¾è®¯å…ƒå®-deepseek(<a href="https://link.juejin.cn?target=https%3A%2F%2Fyuanbao.tencent.com%2F)%25E8%25BE%2585%25E5%258A%25A9%25E3%2580%2582" target="_blank" title="https://yuanbao.tencent.com/)%E8%BE%85%E5%8A%A9%E3%80%82" ref="nofollow noopener noreferrer">yuanbao.tencent.com/)è¾…åŠ©ã€‚</a></p>
</li>
</ul>
<h2 data-id="heading-16">å¾®ä¿¡å…¬ä¼—å·ï¼šåªåšäººé—´ä¸è€ä»™</h2>
<p>æ¬¢è¿å…³æ³¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openEulerå¤šæ ¸å‹ç¼©æ€§èƒ½å®æˆ˜ï¼šä»å•æ ¸åˆ°å¤šæ ¸çš„ç®—åŠ›è·ƒå‡]]></title>    <link>https://juejin.cn/post/7580208715275255850</link>    <guid>https://juejin.cn/post/7580208715275255850</guid>    <pubDate>2025-12-05T15:55:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580208715275255850" data-draft-id="7580196545288405046" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openEulerå¤šæ ¸å‹ç¼©æ€§èƒ½å®æˆ˜ï¼šä»å•æ ¸åˆ°å¤šæ ¸çš„ç®—åŠ›è·ƒå‡"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-05T15:55:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ˜¯åº—å°äºŒå‘€"/> <meta itemprop="url" content="https://juejin.cn/user/4132386718619243"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openEulerå¤šæ ¸å‹ç¼©æ€§èƒ½å®æˆ˜ï¼šä»å•æ ¸åˆ°å¤šæ ¸çš„ç®—åŠ›è·ƒå‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4132386718619243/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ˜¯åº—å°äºŒå‘€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:55:04.000Z" title="Fri Dec 05 2025 15:55:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°ä»£ç³»ç»Ÿä¸­ï¼Œå‹ç¼©å·¥å…·æ˜¯æ—¥å¸¸è¿ç»´ä¸å¯æˆ–ç¼ºçš„åˆ©å™¨ã€‚ä½†ä½ æ˜¯å¦æƒ³è¿‡ï¼Œé‚£é¢—é—²ç½®çš„å¤šæ ¸CPUèƒ½ä¸ºå‹ç¼©ä»»åŠ¡å¸¦æ¥å¤šå¤§çš„æ€§èƒ½æå‡ï¼Ÿæœ¬æ–‡å°†é€šè¿‡openEulerç³»ç»Ÿä¸Šçš„çœŸå®æµ‹è¯•ï¼Œç”¨gzipã€xzã€zstdä¸‰æ¬¾ä¸»æµå·¥å…·ï¼Œå¸¦ä½ è§è¯ä»å•æ ¸åˆ°å¤šæ ¸çš„ç®—åŠ›è·ƒå‡ã€‚æˆ‘ä»¬å°†ç”¨æœ€ç›´è§‚çš„æ‰‹åŠ¨å‘½ä»¤æ“ä½œï¼Œè®°å½•æ¯ä¸€ä¸ªçœŸå®çš„æ—¶é—´æ•°æ®ï¼Œè®¡ç®—æ¯ä¸€ä¸ªåŠ é€Ÿæ¯”ï¼Œè®©ä½ äº²çœ¼çœ‹åˆ°å¤šæ ¸å¹¶è¡Œçš„é­”åŠ›â€”â€”ä»30ç§’åˆ°6ç§’çš„é£è·ƒï¼Œä»4ç§’åˆ°1ç§’çš„æè‡´ï¼Œè¿™ä¸æ˜¯ç†è®ºï¼Œè€Œæ˜¯ä½ ä¹Ÿèƒ½å¤ç°çš„çœŸå®æ€§èƒ½ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ç¯å¢ƒå‡†å¤‡ä¸æµ‹è¯•æ•°æ®</h2>
<h3 data-id="heading-1">å¿«é€Ÿæ­å»ºæµ‹è¯•ç¯å¢ƒ</h3>
<p>é¦–å…ˆå®‰è£…å¿…è¦çš„å‹ç¼©å·¥å…·å¹¶ç”Ÿæˆæµ‹è¯•æ•°æ®ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å®‰è£…å·¥å…·</span>
sudo dnf install -y gzip xz zstd pigz

<span class="hljs-comment"># æŸ¥çœ‹CPUæ ¸å¿ƒæ•°ï¼ˆè®°ä½è¿™ä¸ªæ•°å­—ï¼Œåé¢ä¼šç”¨åˆ°ï¼‰</span>
<span class="hljs-built_in">nproc</span>

<span class="hljs-comment"># åˆ›å»ºæµ‹è¯•ç›®å½•</span>
<span class="hljs-built_in">mkdir</span> ~/å‹ç¼©æµ‹è¯• &amp;&amp; <span class="hljs-built_in">cd</span> ~/å‹ç¼©æµ‹è¯•

<span class="hljs-comment"># ç”Ÿæˆ1GBæµ‹è¯•æ–‡ä»¶</span>
<span class="hljs-built_in">dd</span> <span class="hljs-keyword">if</span>=/dev/urandom of=test.dat bs=1M count=1024
</code></pre>
<p><strong>æ‰§è¡Œåä½ ä¼šçœ‹åˆ°ï¼š</strong></p>
<pre><code class="hljs language-Plain" lang="Plain">è¾“å…¥äº† 1024+0 å—è®°å½•
è¾“å‡ºäº† 1024+0 å—è®°å½•
1073741824 å­—èŠ‚ (1.1 GB, 1.0 GiB) å·²å¤åˆ¶ï¼Œ5.68396 sï¼Œ189 MB/s
</code></pre>
<p>ç°åœ¨ä½ æœ‰äº†ä¸€ä¸ª1GBçš„æµ‹è¯•æ–‡ä»¶ï¼Œå¯ä»¥å¼€å§‹å‹ç¼©æµ‹è¯•äº†ã€‚ç³»ç»Ÿæœ‰<strong>4ä¸ªCPUæ ¸å¿ƒ</strong>ï¼Œæ¥ä¸‹æ¥ä¼šçœ‹åˆ°å¤šæ ¸å¸¦æ¥çš„æ˜æ˜¾åŠ é€Ÿæ•ˆæœã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/91557e74b15f477187a39bfd95a964b3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=YZJJD25GiEljfFonUzWbn%2BJU%2FXc%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2">äºŒã€å•æ ¸å‹ç¼©åŸºå‡†æµ‹è¯•</h2>
<h3 data-id="heading-3">æ‰‹åŠ¨æµ‹è¯•ä¸‰ç§å‹ç¼©å·¥å…·</h3>
<p>ç°åœ¨é€ä¸ªæµ‹è¯•æ¯ç§å‹ç¼©å·¥å…·çš„å•æ ¸æ€§èƒ½ï¼Œä½¿ç”¨<code>time</code>å‘½ä»¤è®°å½•è€—æ—¶ï¼š</p>
<p><strong>æµ‹è¯•1ï¼šgzipå‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">time gzip -k -c test.dat &gt; test.gz
<span class="hljs-built_in">ls</span> -lh test.gz
</code></pre>
<p>æ‰§è¡Œåè§‚å¯Ÿè¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">-rw-r--r-- 1 root root 1.1G 11æœˆ15æ—¥ 15:59 test.gz

real    0m30.725s    â† å®é™…è€—æ—¶30.7ç§’
user    0m24.057s    â† CPUå·¥ä½œæ—¶é—´
sys     0m6.436s
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/509d190fec86463abb8f0f42b21ad2f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=Qhx1TwDr40dJoMCpF4R1yMmQlwA%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æµ‹è¯•2ï¼šxzå‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">time xz -k -c test.dat &gt; test.xz
<span class="hljs-built_in">ls</span> -lh test.xz
</code></pre>
<p>æ‰§è¡Œåè§‚å¯Ÿè¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">-rw-r--r-- 1 root root 1.1G 11æœˆ15æ—¥ 16:02 test.xz

real    1m43.880s    â† è€—æ—¶1åˆ†43ç§’ï¼ˆ103.9ç§’ï¼‰
user    6m17.384s
sys     0m21.539s
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed1b0ed947ed4d6aa51406ac04cf3063~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=4zdAEwh1H2PFfnXAJR%2BW%2BtYmrBk%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æµ‹è¯•3ï¼šzstdå‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">time zstd -k -c test.dat &gt; test.zst
<span class="hljs-built_in">ls</span> -lh test.zst
</code></pre>
<p>æ‰§è¡Œåè§‚å¯Ÿè¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">-rw-r--r-- 1 root root 1.1G 11æœˆ15æ—¥ 16:02 test.zst

real    0m4.057s     â† æœ€å¿«ï¼ä»…4.1ç§’
user    0m0.601s
sys     0m4.521s
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4146db5c592f4f43841bc5681ffcba71~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=pAZv1hwUbav0h7mr1Q%2FWvo5hdYs%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ‰‹åŠ¨è®°å½•å¯¹æ¯”ç»“æœï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7284e0dd13d44b668cfd6704155ecec5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=HEN51KBw8DWTPSE6A2qQNHYPJRY%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ³¨æ„ï¼š</strong> ç”±äºæµ‹è¯•æ•°æ®æ˜¯éšæœºç”Ÿæˆçš„ï¼ˆ/dev/urandomï¼‰ï¼Œå‹ç¼©æ¯”æä½ï¼Œæ‰€æœ‰å·¥å…·å‹ç¼©åå¤§å°éƒ½æ¥è¿‘åŸå§‹å¤§å°ã€‚è¿™æ˜¯æ­£å¸¸ç°è±¡ï¼ŒçœŸå®æ•°æ®ï¼ˆå¦‚æ—¥å¿—ã€æ–‡æœ¬ï¼‰ä¼šæœ‰æ›´å¥½çš„å‹ç¼©æ•ˆæœã€‚</p>
<p>æ¸…ç†æµ‹è¯•æ–‡ä»¶ï¼Œå‡†å¤‡å¤šæ ¸æµ‹è¯•ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-built_in">rm</span> test.gz test.xz test.zst
</code></pre>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€å¤šæ ¸å‹ç¼©æ€§èƒ½å¯¹æ¯”</h2>
<h3 data-id="heading-5">å¼€å¯å¤šæ ¸åŠ é€Ÿå®æˆ˜</h3>
<p>ç°åœ¨å¯ç”¨æ‰€æœ‰CPUæ ¸å¿ƒè¿›è¡Œå¹¶è¡Œå‹ç¼©ï¼Œè§‚å¯Ÿæ€§èƒ½æå‡ã€‚</p>
<p><strong>æµ‹è¯•1ï¼špigzå¤šæ ¸å‹ç¼©ï¼ˆgzipçš„å¤šçº¿ç¨‹ç‰ˆæœ¬ï¼‰</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ä½¿ç”¨4ä¸ªæ ¸å¿ƒ</span>
time pigz -p 4 -k -c test.dat &gt; test_multi.gz
<span class="hljs-built_in">ls</span> -lh test_multi.gz
</code></pre>
<p>æ‰§è¡Œåè§‚å¯Ÿè¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">-rw-r--r-- 1 root root 1.1G 11æœˆ15æ—¥ 16:03 test_multi.gz

real    0m6.867s     â† ä»30.7ç§’é™åˆ°6.9ç§’ï¼
user    0m24.289s    â† æ³¨æ„ï¼šuseræ—¶é—´æ˜¯4ä¸ªæ ¸å¿ƒçš„æ€»å’Œ
sys     0m2.042s
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0664dc8f21cb474c90765bf99073739d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=2CDNhEr5pwZkcxHx9s%2Fbu%2BtnJlU%3D" alt="image.png" loading="lazy"/></p>
<p><strong>è®¡ç®—åŠ é€Ÿæ¯”ï¼š</strong> 30.7 Ã· 6.9 = <strong>4.5å€åŠ é€Ÿ</strong> ğŸš€ï¼ˆè¶…è¶Šç†è®ºæé™ï¼ï¼‰</p>
<p><strong>æµ‹è¯•2ï¼šxzå¤šæ ¸å‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">time xz -T 4 -k -c test.dat &gt; test_multi.xz
<span class="hljs-built_in">ls</span> -lh test_multi.xz
</code></pre>
<p>æ‰§è¡Œåè§‚å¯Ÿè¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">-rw-r--r-- 1 root root 1.1G 11æœˆ15æ—¥ 16:05 test_multi.xz

real    1m38.036s    â† ä»103.9ç§’é™åˆ°98ç§’
user    6m16.811s
sys     0m1.921s
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9670965391934d2a964f2bb5de7ef329~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=knFuOtZ1akDy3ZB6AQiln6JybDM%3D" alt="image.png" loading="lazy"/></p>
<p><strong>è®¡ç®—åŠ é€Ÿæ¯”ï¼š</strong> 103.9 Ã· 98 = <strong>1.06å€åŠ é€Ÿ</strong>ï¼ˆxzå¯¹éšæœºæ•°æ®å¤šæ ¸æ•ˆæœæœ‰é™ï¼‰</p>
<p><strong>æµ‹è¯•3ï¼šzstdå¤šæ ¸å‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># -T0 è¡¨ç¤ºè‡ªåŠ¨ä½¿ç”¨æ‰€æœ‰æ ¸å¿ƒ</span>
time zstd -T0 -k -c test.dat &gt; test_multi.zst
<span class="hljs-built_in">ls</span> -lh test_multi.zst
</code></pre>
<p>æ‰§è¡Œåè§‚å¯Ÿè¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">-rw-r--r-- 1 root root 1.1G 11æœˆ15æ—¥ 16:05 test_multi.zst

real    0m1.261s     â† ä»4.1ç§’é™åˆ°1.3ç§’ï¼
user    0m1.018s
sys     0m0.727s
</code></pre>
<p><strong>è®¡ç®—åŠ é€Ÿæ¯”ï¼š</strong> 4.1 Ã· 1.3 = <strong>3.2å€åŠ é€Ÿ</strong> ğŸš€</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/be27fe1baa1e4fdf98e27203cc46ec42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=jGhDo5MTlrmYrVwdSphrQKXnem4%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ‰‹åŠ¨è®°å½•å¤šæ ¸å¯¹æ¯”ç»“æœï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bc143737add4d82b3cc9ef059803c54~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=DpCkjXDYzEafLAA0djm31I6Ohyw%3D" alt="image.png" loading="lazy"/></p>
<p><strong>å…³é”®å‘ç°ï¼š</strong></p>
<ul>
<li>
<p>âœ… pigzå®ç°äº†è¶…çº¿æ€§åŠ é€Ÿï¼ˆ4.5å€ &gt; 4æ ¸ï¼‰ï¼Œå¾—ç›Šäºä¼˜ç§€çš„å¹¶è¡Œç®—æ³•</p>
</li>
<li>
<p>âœ… zstdè¾¾åˆ°äº†3.2å€åŠ é€Ÿï¼Œæ¥è¿‘ç†è®ºæé™</p>
</li>
<li>
<p>âš ï¸ xzå¯¹éšæœºæ•°æ®çš„å¤šæ ¸ä¼˜åŒ–æ•ˆæœæœ‰é™ï¼ˆçœŸå®æ•°æ®ä¼šæ›´å¥½ï¼‰</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-6">å››ã€å®æ—¶ç›‘æ§CPUä½¿ç”¨æƒ…å†µ</h2>
<h3 data-id="heading-7">å¯è§†åŒ–è§‚å¯Ÿå¤šæ ¸å·¥ä½œçŠ¶æ€</h3>
<p>æ‰“å¼€ä¸¤ä¸ªç»ˆç«¯çª—å£ï¼Œä¸€ä¸ªè¿è¡Œç›‘æ§ï¼Œä¸€ä¸ªæ‰§è¡Œå‹ç¼©ï¼š</p>
<p><strong>ç»ˆç«¯1ï¼šå¯åŠ¨å®æ—¶ç›‘æ§</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">htop
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/994f7648448a4416a861445f681f9794~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=kho4o8Ton084Ic7BED3%2BGYHaFec%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ç»ˆç«¯2ï¼šæ‰§è¡Œå•æ ¸å‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">gzip -c test.dat &gt; test.gz
</code></pre>
<p>åœ¨htopä¸­è§‚å¯Ÿåˆ°çš„CPUä½¿ç”¨æƒ…å†µï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e2e8b629f6e14c62b01da8486c66d867~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=B8ETj39%2FFD8ZWEXp6TRQTq8ZGBk%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ç»ˆç«¯2ï¼šæ‰§è¡Œå¤šæ ¸å‹ç¼©</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">pigz -p 4 -c test.dat &gt; test.gz
</code></pre>
<p>åœ¨htopä¸­è§‚å¯Ÿåˆ°çš„CPUä½¿ç”¨æƒ…å†µï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">    0[||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||100.0%] Tasks: 28, 53 thr, 138 kthr; 0 running
    1[||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||100.0%] Load average: 2.02 1.62 0.89 
    2[||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||100.0%] Uptime: 01:23:52
    3[||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||100.0%]
  Mem[|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||1.28G/5.32G]
  Swp[                                                                                            0K/3.92G]
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/907d8656809340df8f0c5040bad9a351~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=R7DxJP0DfG7uuTuPgw9EYjbnnEQ%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ç›´è§‚å¯¹æ¯”ï¼š</strong></p>
<ul>
<li>
<p>å•æ ¸æ¨¡å¼ï¼šæ€»CPUä½¿ç”¨ç‡çº¦ <strong>100%</strong></p>
</li>
<li>
<p>å¤šæ ¸æ¨¡å¼ï¼šæ€»CPUä½¿ç”¨ç‡çº¦ <strong>380%</strong>ï¼ˆ4æ ¸Ã—95%ï¼‰</p>
</li>
</ul>
<p>è¿™å°±æ˜¯openEulerå¤šæ ¸è°ƒåº¦çš„å¨åŠ›ï¼æ‰€æœ‰æ ¸å¿ƒéƒ½è¢«å……åˆ†åˆ©ç”¨ï¼Œæ²¡æœ‰æµªè´¹ã€‚</p>
<hr/>
<h2 data-id="heading-8">äº”ã€çœŸå®åœºæ™¯åº”ç”¨æµ‹è¯•</h2>
<h3 data-id="heading-9">æ—¥å¿—å½’æ¡£åœºæ™¯</h3>
<p>æ¨¡æ‹Ÿå‹ç¼©ä¸€å‘¨çš„ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶ï¼ˆ500MBæ–‡æœ¬æ•°æ®ï¼‰ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ç”Ÿæˆ500MBæ¨¡æ‹Ÿæ—¥å¿—ï¼ˆbase64ç¼–ç ï¼Œæ¨¡æ‹ŸçœŸå®æ–‡æœ¬ï¼‰</span>
<span class="hljs-built_in">head</span> -c 500M /dev/urandom | <span class="hljs-built_in">base64</span> &gt; logs.txt

<span class="hljs-comment"># å•æ ¸å‹ç¼©</span>
time gzip -k logs.txt
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">real    0m30.839s
</code></pre>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å¤šæ ¸å‹ç¼©</span>
time pigz -p 4 -k logs.txt
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">real    0m14.590s
</code></pre>
<p><strong>ç»“è®ºï¼š</strong> æ—¥å¿—å½’æ¡£é€Ÿåº¦æå‡ <strong>2.1å€</strong>ï¼ˆ30.8ç§’ â†’ 14.6ç§’ï¼‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b46adb268b04c87a7a9eed65bc10fbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=bWzdmKZzUT9qP54ZmOzisouJoDI%3D" alt="image.png" loading="lazy"/></p>
<p><strong>çœŸå®åœºæ™¯ä¼˜åŠ¿ï¼š</strong> æ–‡æœ¬æ•°æ®ï¼ˆå¦‚æ—¥å¿—ï¼‰æ¯”éšæœºæ•°æ®æ›´æ˜“å‹ç¼©ï¼Œå®é™…åº”ç”¨ä¸­å‹ç¼©æ¯”ä¼šæ˜¾è‘—æå‡ï¼Œå­˜å‚¨ç©ºé—´èŠ‚çœå¯è¾¾50-80%ã€‚</p>
<h3 data-id="heading-10">æ•°æ®åº“å¤‡ä»½åœºæ™¯</h3>
<p>æ¨¡æ‹ŸMySQLå¯¼å‡ºæ–‡ä»¶å‹ç¼©ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># ç”Ÿæˆ1.5GBæ¨¡æ‹Ÿæ•°æ®åº“æ–‡ä»¶</span>
<span class="hljs-built_in">dd</span> <span class="hljs-keyword">if</span>=/dev/urandom of=database.sql bs=1M count=1536

<span class="hljs-comment"># ä½¿ç”¨zstdå¿«é€Ÿå‹ç¼©</span>
time zstd -T0 database.sql

<span class="hljs-comment"># æŸ¥çœ‹å‹ç¼©æ•ˆæœ</span>
<span class="hljs-built_in">ls</span> -lh database.sql*
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-Plain" lang="Plain">è¾“å…¥äº† 1536+0 å—è®°å½•
è¾“å‡ºäº† 1536+0 å—è®°å½•
1610612736 å­—èŠ‚ (1.6 GB, 1.5 GiB) å·²å¤åˆ¶ï¼Œ4.24582 sï¼Œ379 MB/s

database.sql         :100.00%   (  1.50 GiB =&gt;   1.50 GiB, database.sql.zst)

real    0m1.302s

-rw-r--r-- 1 root root 1.5G 11æœˆ15æ—¥ 16:09 database.sql
-rw-r--r-- 1 root root 1.6G 11æœˆ15æ—¥ 16:09 database.sql.zst
</code></pre>
<p><strong>ç»“è®ºï¼š</strong> 1.5GBæ•°æ®ä»…éœ€ <strong>1.3ç§’</strong> å‹ç¼©å®Œæˆï¼Œå¤„ç†é€Ÿåº¦è¾¾åˆ° <strong>1.15GB/s</strong>ï¼Œéå¸¸é€‚åˆè‡ªåŠ¨åŒ–å¤‡ä»½ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8a797f6ee354860b16b60d13244af36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=oV2crBtsBdFKWCFlbap7m3OI%2B8c%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ³¨æ„ï¼š</strong> éšæœºæ•°æ®æ— æ³•å‹ç¼©ï¼ŒçœŸå®æ•°æ®åº“æ–‡ä»¶é€šå¸¸å¯å‹ç¼©è‡³åŸå¤§å°çš„30-50%ã€‚</p>
<hr/>
<h2 data-id="heading-11">å…­ã€æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>
<h3 data-id="heading-12">æ—¥å¸¸ä½¿ç”¨é…ç½®</h3>
<p>å°†å¤šæ ¸å‹ç¼©è®¾ä¸ºé»˜è®¤è¡Œä¸ºï¼Œç¼–è¾‘ <code>~/.bashrc</code>ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash">vi ~/.bashrc
</code></pre>
<p>æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-comment"># å¤šæ ¸å‹ç¼©åˆ«å</span>
<span class="hljs-built_in">alias</span> gzip=<span class="hljs-string">'pigz -p $(nproc)'</span>
<span class="hljs-built_in">alias</span> zstd=<span class="hljs-string">'zstd -T0'</span>
<span class="hljs-built_in">alias</span> xz=<span class="hljs-string">'xz -T0'</span>
</code></pre>
<p>ä¿å­˜åç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-Bash" lang="Bash"><span class="hljs-built_in">source</span> ~/.bashrc
</code></pre>
<p>ç°åœ¨ç›´æ¥ä½¿ç”¨ <code>gzip</code> å‘½ä»¤å°±ä¼šè‡ªåŠ¨è°ƒç”¨å¤šæ ¸ç‰ˆæœ¬ï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4eee48e790c4364926dc4e5d0df1adc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5piv5bqX5bCP5LqM5ZGA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765554904&amp;x-signature=k%2BVjLVzCfVoDd8eH9JiB7O6Z1CM%3D" alt="image.png" loading="lazy"/></p>
<p>è®°å¾—ä¿å­˜å“ˆ</p>
<h3 data-id="heading-13">ä¸åŒåœºæ™¯æœ€ä½³å®è·µ</h3>
<p><strong>å¿«é€Ÿå‹ç¼©ï¼ˆæ—¥å¿—ã€ä¸´æ—¶æ–‡ä»¶ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">zstd -1 -T0 file.txt  <span class="hljs-comment"># æœ€å¿«é€Ÿåº¦ï¼Œé€‚ä¸­å‹ç¼©æ¯”</span>
</code></pre>
<p><strong>å‡è¡¡æ¨¡å¼ï¼ˆæ•°æ®å¤‡ä»½ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">zstd -T0 file.txt     <span class="hljs-comment"># é»˜è®¤çº§åˆ«ï¼Œé€Ÿåº¦å’Œå‹ç¼©æ¯”å¹³è¡¡</span>
</code></pre>
<p><strong>é«˜å‹ç¼©æ¯”ï¼ˆé•¿æœŸå½’æ¡£ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">xz -9 -T0 file.txt    <span class="hljs-comment"># æœ€é«˜å‹ç¼©æ¯”ï¼ŒèŠ‚çœç©ºé—´</span>
</code></pre>
<p><strong>å…¼å®¹æ€§ä¼˜å…ˆï¼ˆéœ€è¦åœ¨å…¶ä»–ç³»ç»Ÿè§£å‹ï¼‰ï¼š</strong></p>
<pre><code class="hljs language-Bash" lang="Bash">pigz -p 4 file.txt    <span class="hljs-comment"># gzipæ ¼å¼ï¼Œæ‰€æœ‰ç³»ç»Ÿéƒ½æ”¯æŒ</span>
</code></pre>
<hr/>
<h2 data-id="heading-14">æµ‹è¯•æ€»ç»“</h2>
<p>é€šé€šè¿‡è¿™æ¬¡åŸºäºopenEulerç³»ç»Ÿçš„çœŸå®æµ‹è¯•ï¼Œæˆ‘ä»¬ç”¨æ•°æ®éªŒè¯äº†å¤šæ ¸å‹ç¼©çš„å·¨å¤§ä»·å€¼ã€‚åœ¨4æ ¸ç¯å¢ƒä¸‹ï¼Œpigzå®ç°äº†ä»¤äººæƒŠè‰³çš„4.5å€åŠ é€Ÿï¼ˆ30.7ç§’â†’6.9ç§’ï¼‰ï¼Œç”šè‡³è¶…è¶Šäº†ç†è®ºæé™ï¼›zstdå±•ç°äº†3.2å€çš„ç¨³å®šæå‡ï¼ˆ4.1ç§’â†’1.3ç§’ï¼‰ï¼Œå¤„ç†1.5GBæ•°æ®åº“å¤‡ä»½ä»…éœ€1.3ç§’ï¼Œé€Ÿåº¦è¾¾åˆ°1.15GB/sã€‚çœŸå®åœºæ™¯æµ‹è¯•ä¸­ï¼Œæ—¥å¿—å½’æ¡£æ•ˆç‡æå‡2.1å€ï¼Œè¿™æ„å‘³ç€åŸæœ¬éœ€è¦åŠåˆ†é’Ÿçš„ä»»åŠ¡ç°åœ¨åªè¦15ç§’ã€‚</p>
<p>è¿™äº›æ•°å­—èƒŒåæ˜¯openEulerä¼˜ç§€çš„å¤šæ ¸è°ƒåº¦èƒ½åŠ›â€”â€”CPUåˆ©ç”¨ç‡ä»100%è·ƒå‡è‡³380%ï¼Œæ¯ä¸ªæ ¸å¿ƒéƒ½åœ¨å…¨åŠ›å·¥ä½œï¼Œæ²¡æœ‰ä¸€ä¸æµªè´¹ã€‚æ— è®ºä½ æ˜¯è¿ç»´å·¥ç¨‹å¸ˆéœ€è¦å¿«é€Ÿå¤‡ä»½æ•°æ®ï¼Œè¿˜æ˜¯å¼€å‘è€…éœ€è¦å‹ç¼©æ—¥å¿—æ–‡ä»¶ï¼Œé…ç½®å¥½<code>~/.bashrc</code>ä¸­çš„å¤šæ ¸åˆ«åï¼Œè®©è¿™äº›å·¥å…·é»˜è®¤å¯ç”¨å¹¶è¡Œæ¨¡å¼ï¼Œä½ çš„å·¥ä½œæ•ˆç‡å°†ç«‹å³è·å¾—3-4å€çš„æå‡ã€‚å¤šæ ¸æ—¶ä»£ï¼Œè®©æ¯ä¸€é¢—CPUéƒ½å‘æŒ¥ä»·å€¼ï¼Œè¿™å°±æ˜¯openEulerå¸¦ç»™æˆ‘ä»¬çš„æ€§èƒ½çº¢åˆ©ã€‚ç°åœ¨å°±åŠ¨æ‰‹é…ç½®ï¼Œè®©å‹ç¼©ä»»åŠ¡ä»æ­¤å‘Šåˆ«ç­‰å¾…ï¼</p>
<blockquote>
<p>å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾é¢å‘æœªæ¥çš„å¼€æºæ“ä½œç³»ç»Ÿï¼Œä¸å¦¨çœ‹çœ‹DistroWatch æ¦œå•ä¸­å¿«é€Ÿä¸Šå‡çš„ openEuler:<a href="https://link.juejin.cn?target=https%3A%2F%2Fdistrowatch.com%2Ftable-mobile.php%3Fdistribution%3Dopeneuler" target="_blank" title="https://distrowatch.com/table-mobile.php?distribution=openeuler" ref="nofollow noopener noreferrer">distrowatch.com/table-mobilâ€¦</a>ï¼Œä¸€ä¸ªç”±å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼šå­µåŒ–ã€æ”¯æŒâ€œè¶…èŠ‚ç‚¹â€åœºæ™¯çš„Linux å‘è¡Œç‰ˆã€‚
openEulerå®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.openeuler.openatom.cn%2Fzh%2F" target="_blank" title="https://www.openeuler.openatom.cn/zh/" ref="nofollow noopener noreferrer">www.openeuler.openatom.cn/zh/</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisï¼ˆ166ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°å®æ—¶ç»Ÿè®¡ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7580233527284498482</link>    <guid>https://juejin.cn/post/7580233527284498482</guid>    <pubDate>2025-12-06T00:13:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580233527284498482" data-draft-id="7580259796667416622" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisï¼ˆ166ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°å®æ—¶ç»Ÿè®¡ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-06T00:13:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisï¼ˆ166ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°å®æ—¶ç»Ÿè®¡ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T00:13:46.000Z" title="Sat Dec 06 2025 00:13:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½¿ç”¨Rediså®ç°å®æ—¶ç»Ÿè®¡æ˜¯ä¸€ç§éå¸¸é«˜æ•ˆçš„æ–¹æ³•ã€‚Rediså…·æœ‰å¿«é€Ÿè¯»å†™çš„ç‰¹ç‚¹ï¼Œéå¸¸é€‚åˆç”¨äºéœ€è¦å®æ—¶æ›´æ–°å’ŒæŸ¥è¯¢çš„åœºæ™¯ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„å®æ—¶ç»Ÿè®¡åœºæ™¯ä»¥åŠå¦‚ä½•ä½¿ç”¨Rediså®ç°è¿™äº›åŠŸèƒ½çš„è¯¦ç»†ç¤ºä¾‹ã€‚</p>
<h3 data-id="heading-0">1. åŸºæœ¬æ¦‚å¿µ</h3>
<p>å®æ—¶ç»Ÿè®¡é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>æ•°æ®æ”¶é›†</strong>ï¼šå®æ—¶æ”¶é›†å’Œè®°å½•æ•°æ®ï¼Œå¦‚é¡µé¢è®¿é—®ã€ç‚¹å‡»ã€äº¤æ˜“ç­‰ã€‚</li>
<li><strong>æ•°æ®å­˜å‚¨</strong>ï¼šå°†æ”¶é›†åˆ°çš„æ•°æ®å­˜å‚¨åœ¨Redisä¸­ã€‚</li>
<li><strong>æ•°æ®æŸ¥è¯¢</strong>ï¼šå®æ—¶æŸ¥è¯¢ç»Ÿè®¡ç»“æœã€‚</li>
</ol>
<h3 data-id="heading-1">2. ä½¿ç”¨Rediså®ç°å®æ—¶ç»Ÿè®¡</h3>
<p>å¯ä»¥ä½¿ç”¨Redisçš„å¤šç§æ•°æ®ç»“æ„ï¼ˆå¦‚Stringsã€Hashesã€Setså’ŒSorted Setsï¼‰æ¥å®ç°ä¸åŒçš„ç»Ÿè®¡åœºæ™¯ã€‚</p>
<h4 data-id="heading-2">2.1 å®æ—¶è®¡æ•°</h4>
<p>ä½¿ç”¨Redisçš„<code>INCR</code>ã€<code>INCRBY</code>å‘½ä»¤å¯ä»¥å®ç°å®æ—¶è®¡æ•°ã€‚</p>
<h5 data-id="heading-3">ç¤ºä¾‹ï¼šç½‘ç«™é¡µé¢è®¿é—®è®¡æ•°</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisPageViewCounter</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">pageKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"page:view:home"</span>;

        <span class="hljs-comment">// å¢åŠ é¡µé¢è®¿é—®è®¡æ•°</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">pageCount</span> <span class="hljs-operator">=</span> jedis.incr(pageKey);
        System.out.println(<span class="hljs-string">"Home page view count: "</span> + pageCount);

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-4">2.2 å®æ—¶èšåˆç»Ÿè®¡</h4>
<p>ä½¿ç”¨Redisçš„Hasheså¯ä»¥å®ç°æ›´å¤æ‚çš„èšåˆç»Ÿè®¡ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç»Ÿè®¡ä¸åŒé¡µé¢çš„è®¿é—®é‡ã€‚</p>
<h5 data-id="heading-5">ç¤ºä¾‹ï¼šä¸åŒé¡µé¢çš„è®¿é—®è®¡æ•°</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisPageViewAggregator</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">pageKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"page:views"</span>;

        <span class="hljs-comment">// å¢åŠ ä¸åŒé¡µé¢çš„è®¿é—®è®¡æ•°</span>
        jedis.hincrBy(pageKey, <span class="hljs-string">"home"</span>, <span class="hljs-number">1</span>);
        jedis.hincrBy(pageKey, <span class="hljs-string">"about"</span>, <span class="hljs-number">1</span>);
        jedis.hincrBy(pageKey, <span class="hljs-string">"contact"</span>, <span class="hljs-number">1</span>);

        <span class="hljs-comment">// è·å–ä¸åŒé¡µé¢çš„è®¿é—®è®¡æ•°</span>
        System.out.println(<span class="hljs-string">"Home page view count: "</span> + jedis.hget(pageKey, <span class="hljs-string">"home"</span>));
        System.out.println(<span class="hljs-string">"About page view count: "</span> + jedis.hget(pageKey, <span class="hljs-string">"about"</span>));
        System.out.println(<span class="hljs-string">"Contact page view count: "</span> + jedis.hget(pageKey, <span class="hljs-string">"contact"</span>));

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-6">2.3 å®æ—¶å”¯ä¸€ç”¨æˆ·ç»Ÿè®¡</h4>
<p>ä½¿ç”¨Redisçš„Setså¯ä»¥å®ç°å»é‡ç»Ÿè®¡ï¼Œå¦‚ç»Ÿè®¡ç‹¬ç«‹ç”¨æˆ·çš„è®¿é—®é‡ã€‚</p>
<h5 data-id="heading-7">ç¤ºä¾‹ï¼šç»Ÿè®¡ç‹¬ç«‹ç”¨æˆ·è®¿é—®</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisUniqueUserCounter</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">uniqueUsersKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"unique:users"</span>;

        <span class="hljs-comment">// æ·»åŠ ç”¨æˆ·IDåˆ°é›†åˆä¸­</span>
        jedis.sadd(uniqueUsersKey, <span class="hljs-string">"user1"</span>);
        jedis.sadd(uniqueUsersKey, <span class="hljs-string">"user2"</span>);
        jedis.sadd(uniqueUsersKey, <span class="hljs-string">"user3"</span>);

        <span class="hljs-comment">// è·å–ç‹¬ç«‹ç”¨æˆ·çš„æ•°é‡</span>
        <span class="hljs-type">long</span> <span class="hljs-variable">uniqueUserCount</span> <span class="hljs-operator">=</span> jedis.scard(uniqueUsersKey);
        System.out.println(<span class="hljs-string">"Unique user count: "</span> + uniqueUserCount);

        jedis.close();
    }
}
</code></pre>
<h4 data-id="heading-8">2.4 å®æ—¶æ’åç»Ÿè®¡</h4>
<p>ä½¿ç”¨Redisçš„Sorted Setså¯ä»¥å®ç°å®æ—¶æ’åç»Ÿè®¡ï¼Œå¦‚ç»Ÿè®¡å•†å“çš„é”€å”®æ’åã€‚</p>
<h5 data-id="heading-9">ç¤ºä¾‹ï¼šå•†å“é”€å”®æ’å</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.Tuple;

<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisSalesRanking</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-type">String</span> <span class="hljs-variable">salesRankingKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"sales:ranking"</span>;

        <span class="hljs-comment">// å¢åŠ å•†å“çš„é”€å”®é‡</span>
        jedis.zincrby(salesRankingKey, <span class="hljs-number">10</span>, <span class="hljs-string">"product1"</span>);
        jedis.zincrby(salesRankingKey, <span class="hljs-number">20</span>, <span class="hljs-string">"product2"</span>);
        jedis.zincrby(salesRankingKey, <span class="hljs-number">15</span>, <span class="hljs-string">"product3"</span>);

        <span class="hljs-comment">// è·å–å‰2åçš„å•†å“åŠå…¶é”€å”®é‡</span>
        Set&lt;Tuple&gt; topProducts = jedis.zrevrangeWithScores(salesRankingKey, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">for</span> (Tuple product : topProducts) {
            System.out.println(<span class="hljs-string">"Product: "</span> + product.getElement() + <span class="hljs-string">", Sales: "</span> + product.getScore());
        }

        jedis.close();
    }
}
</code></pre>
<h3 data-id="heading-10">3. ç»¼åˆç¤ºä¾‹ï¼šå®æ—¶ç»Ÿè®¡ç³»ç»Ÿ</h3>
<p>å°†ä¸Šè¿°å„éƒ¨åˆ†ç»“åˆèµ·æ¥ï¼Œå®ç°ä¸€ä¸ªå®æ—¶ç»Ÿè®¡ç³»ç»Ÿã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;
<span class="hljs-keyword">import</span> redis.clients.jedis.Tuple;

<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisRealTimeStatistics</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Jedis</span> <span class="hljs-variable">jedis</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);

        <span class="hljs-comment">// Step 1: å®æ—¶è®¡æ•° - é¡µé¢è®¿é—®è®¡æ•°</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">pageKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"page:view:home"</span>;
        <span class="hljs-type">long</span> <span class="hljs-variable">pageCount</span> <span class="hljs-operator">=</span> jedis.incr(pageKey);
        System.out.println(<span class="hljs-string">"Home page view count: "</span> + pageCount);

        <span class="hljs-comment">// Step 2: å®æ—¶èšåˆç»Ÿè®¡ - ä¸åŒé¡µé¢çš„è®¿é—®è®¡æ•°</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">aggregatedPageKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"page:views"</span>;
        jedis.hincrBy(aggregatedPageKey, <span class="hljs-string">"home"</span>, <span class="hljs-number">1</span>);
        jedis.hincrBy(aggregatedPageKey, <span class="hljs-string">"about"</span>, <span class="hljs-number">1</span>);
        jedis.hincrBy(aggregatedPageKey, <span class="hljs-string">"contact"</span>, <span class="hljs-number">1</span>);
        System.out.println(<span class="hljs-string">"Home page view count: "</span> + jedis.hget(aggregatedPageKey, <span class="hljs-string">"home"</span>));
        System.out.println(<span class="hljs-string">"About page view count: "</span> + jedis.hget(aggregatedPageKey, <span class="hljs-string">"about"</span>));
        System.out.println(<span class="hljs-string">"Contact page view count: "</span> + jedis.hget(aggregatedPageKey, <span class="hljs-string">"contact"</span>));

        <span class="hljs-comment">// Step 3: å®æ—¶å”¯ä¸€ç”¨æˆ·ç»Ÿè®¡ - ç‹¬ç«‹ç”¨æˆ·è®¿é—®</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">uniqueUsersKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"unique:users"</span>;
        jedis.sadd(uniqueUsersKey, <span class="hljs-string">"user1"</span>);
        jedis.sadd(uniqueUsersKey, <span class="hljs-string">"user2"</span>);
        jedis.sadd(uniqueUsersKey, <span class="hljs-string">"user3"</span>);
        <span class="hljs-type">long</span> <span class="hljs-variable">uniqueUserCount</span> <span class="hljs-operator">=</span> jedis.scard(uniqueUsersKey);
        System.out.println(<span class="hljs-string">"Unique user count: "</span> + uniqueUserCount);

        <span class="hljs-comment">// Step 4: å®æ—¶æ’åç»Ÿè®¡ - å•†å“é”€å”®æ’å</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">salesRankingKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"sales:ranking"</span>;
        jedis.zincrby(salesRankingKey, <span class="hljs-number">10</span>, <span class="hljs-string">"product1"</span>);
        jedis.zincrby(salesRankingKey, <span class="hljs-number">20</span>, <span class="hljs-string">"product2"</span>);
        jedis.zincrby(salesRankingKey, <span class="hljs-number">15</span>, <span class="hljs-string">"product3"</span>);
        Set&lt;Tuple&gt; topProducts = jedis.zrevrangeWithScores(salesRankingKey, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
        <span class="hljs-keyword">for</span> (Tuple product : topProducts) {
            System.out.println(<span class="hljs-string">"Product: "</span> + product.getElement() + <span class="hljs-string">", Sales: "</span> + product.getScore());
        }

        jedis.close();
    }
}
</code></pre>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Redisçš„ä¸åŒæ•°æ®ç»“æ„æ¥å®ç°å®æ—¶ç»Ÿè®¡ã€‚ä»ç®€å•çš„è®¡æ•°ã€èšåˆç»Ÿè®¡åˆ°å”¯ä¸€ç”¨æˆ·ç»Ÿè®¡å’Œå®æ—¶æ’åï¼ŒRediséƒ½æä¾›äº†é«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚æ ¹æ®å®é™…éœ€æ±‚ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ‰©å±•å’Œä¼˜åŒ–è¿™äº›åŠŸèƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨æ›´å¤æ‚çš„æ•°æ®å¤„ç†é€»è¾‘ã€å®æ—¶æ›´æ–°æœºåˆ¶å’Œå¤šèŠ‚ç‚¹åˆ†å¸ƒå¼å¤„ç†ç­‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisï¼ˆ167ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼ç¼“å­˜ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7580198093154730030</link>    <guid>https://juejin.cn/post/7580198093154730030</guid>    <pubDate>2025-12-06T00:14:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580198093154730030" data-draft-id="7580198093154713646" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisï¼ˆ167ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼ç¼“å­˜ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2025-12-06T00:14:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisï¼ˆ167ï¼‰å¦‚ä½•ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼ç¼“å­˜ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T00:14:41.000Z" title="Sat Dec 06 2025 00:14:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼ç¼“å­˜æ˜¯ä¸€ç§å¸¸è§ä¸”æœ‰æ•ˆçš„æé«˜ç³»ç»Ÿæ€§èƒ½å’Œå¯æ‰©å±•æ€§çš„æ–¹æ³•ã€‚Redisä½œä¸ºä¸€ä¸ªé«˜æ€§èƒ½çš„å†…å­˜æ•°æ®åº“ï¼Œæ”¯æŒä¸°å¯Œçš„æ•°æ®ç±»å‹å’Œæ“ä½œï¼Œå¯ä»¥å¾ˆå¥½åœ°æ»¡è¶³åˆ†å¸ƒå¼ç¼“å­˜çš„éœ€æ±‚ã€‚</p>
<h3 data-id="heading-0">1. åˆ†å¸ƒå¼ç¼“å­˜çš„åŸºæœ¬æ¦‚å¿µ</h3>
<p>åˆ†å¸ƒå¼ç¼“å­˜æ˜¯ä¸€ç§åœ¨å¤šä¸ªæœåŠ¡å™¨ä¹‹é—´å…±äº«ç¼“å­˜æ•°æ®çš„æ–¹æ³•ï¼Œç”¨äºæé«˜ç³»ç»Ÿæ€§èƒ½ã€å‡å°‘æ•°æ®åº“è´Ÿè½½å’Œæé«˜æ•°æ®è®¿é—®é€Ÿåº¦ã€‚ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li><strong>æ•°æ®å­˜å‚¨</strong>ï¼šå°†æ•°æ®ç¼“å­˜åˆ°Redisä¸­ã€‚</li>
<li><strong>æ•°æ®è¯»å–</strong>ï¼šä»Redisä¸­è¯»å–ç¼“å­˜æ•°æ®ã€‚</li>
<li><strong>æ•°æ®è¿‡æœŸå’Œå¤±æ•ˆ</strong>ï¼šè®¾ç½®ç¼“å­˜æ•°æ®çš„è¿‡æœŸæ—¶é—´ï¼Œè‡ªåŠ¨æ¸…ç†æ— æ•ˆæ•°æ®ã€‚</li>
<li><strong>ç¼“å­˜æ›´æ–°</strong>ï¼šå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæ›´æ–°ç¼“å­˜ä¸­çš„æ•°æ®ã€‚</li>
</ol>
<h3 data-id="heading-1">2. ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼ç¼“å­˜</h3>
<h4 data-id="heading-2">2.1 å¼•å…¥ä¾èµ–</h4>
<p>åœ¨Javaé¡¹ç›®ä¸­ä½¿ç”¨Jedisåº“ä¸Redisè¿›è¡Œäº¤äº’ã€‚åœ¨Mavené¡¹ç›®ä¸­æ·»åŠ Jedisä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>redis.clients<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>jedis<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.5.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h4 data-id="heading-3">2.2 ç¼“å­˜æ•°æ®çš„å­˜å‚¨å’Œè¯»å–</h4>
<h5 data-id="heading-4">ç¤ºä¾‹ï¼šç¼“å­˜ç”¨æˆ·ä¿¡æ¯</h5>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç±»ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-keyword">private</span> String id;
    <span class="hljs-keyword">private</span> String name;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;

    <span class="hljs-comment">// Constructors, getters, and setters</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(String id, String name, <span class="hljs-type">int</span> age)</span> {
        <span class="hljs-built_in">this</span>.id = id;
        <span class="hljs-built_in">this</span>.name = name;
        <span class="hljs-built_in">this</span>.age = age;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> name;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> age;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">toString</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"User{"</span> +
                <span class="hljs-string">"id='"</span> + id + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", name='"</span> + name + <span class="hljs-string">'\''</span> +
                <span class="hljs-string">", age="</span> + age +
                <span class="hljs-string">'}'</span>;
    }
}
</code></pre>
<p>ç„¶åï¼Œæˆ‘ä»¬å°†ç”¨æˆ·ä¿¡æ¯ç¼“å­˜åˆ°Redisä¸­ï¼Œå¹¶å®ç°è·å–ç”¨æˆ·ä¿¡æ¯çš„æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.Jedis;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisCache</span> {

    <span class="hljs-keyword">private</span> Jedis jedis;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RedisCache</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// è¿æ¥åˆ°æœ¬åœ°çš„RedisæœåŠ¡</span>
        <span class="hljs-built_in">this</span>.jedis = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Jedis</span>(<span class="hljs-string">"localhost"</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cacheUser</span><span class="hljs-params">(User user)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">userKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:"</span> + user.getId();
        jedis.hset(userKey, <span class="hljs-string">"id"</span>, user.getId());
        jedis.hset(userKey, <span class="hljs-string">"name"</span>, user.getName());
        jedis.hset(userKey, <span class="hljs-string">"age"</span>, String.valueOf(user.getAge()));
        <span class="hljs-comment">// è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´ä¸º1å°æ—¶</span>
        jedis.expire(userKey, <span class="hljs-number">3600</span>);
    }

    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUser</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">userKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:"</span> + userId;
        <span class="hljs-keyword">if</span> (jedis.exists(userKey)) {
            <span class="hljs-type">String</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> jedis.hget(userKey, <span class="hljs-string">"id"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> jedis.hget(userKey, <span class="hljs-string">"name"</span>);
            <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> Integer.parseInt(jedis.hget(userKey, <span class="hljs-string">"age"</span>));
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(id, name, age);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        jedis.close();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">RedisCache</span> <span class="hljs-variable">cache</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisCache</span>();

        <span class="hljs-comment">// ç¼“å­˜ç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">"1"</span>, <span class="hljs-string">"Alice"</span>, <span class="hljs-number">30</span>);
        cache.cacheUser(user);
        System.out.println(<span class="hljs-string">"User cached: "</span> + user);

        <span class="hljs-comment">// è¯»å–ç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">cachedUser</span> <span class="hljs-operator">=</span> cache.getUser(<span class="hljs-string">"1"</span>);
        System.out.println(<span class="hljs-string">"Cached user: "</span> + cachedUser);

        cache.close();
    }
}
</code></pre>
<h4 data-id="heading-5">2.3 ç¼“å­˜è¿‡æœŸå’Œå¤±æ•ˆ</h4>
<p>Redisæä¾›äº†å¤šç§ç¼“å­˜å¤±æ•ˆç­–ç•¥ï¼Œå¦‚å®šæ—¶è¿‡æœŸã€ä¸»åŠ¨åˆ é™¤å’Œè¢«åŠ¨åˆ é™¤ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>expire</code>å‘½ä»¤è®¾ç½®äº†ç¼“å­˜çš„è¿‡æœŸæ—¶é—´ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cacheUser</span><span class="hljs-params">(User user)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">userKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:"</span> + user.getId();
    jedis.hset(userKey, <span class="hljs-string">"id"</span>, user.getId());
    jedis.hset(userKey, <span class="hljs-string">"name"</span>, user.getName());
    jedis.hset(userKey, <span class="hljs-string">"age"</span>, String.valueOf(user.getAge()));
    <span class="hljs-comment">// è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´ä¸º1å°æ—¶</span>
    jedis.expire(userKey, <span class="hljs-number">3600</span>);
}
</code></pre>
<h4 data-id="heading-6">2.4 ç¼“å­˜æ›´æ–°</h4>
<p>å½“åŸºç¡€æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦åŠæ—¶æ›´æ–°ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç¼“å­˜ä¸­çš„æ•°æ®ä¸ä¸€è‡´ã€‚é€šå¸¸æœ‰ä¸¤ç§æ–¹æ³•æ¥æ›´æ–°ç¼“å­˜ï¼š</p>
<ol>
<li><strong>ç›´æ¥æ›´æ–°ç¼“å­˜</strong>ï¼šå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œç›´æ¥æ›´æ–°ç¼“å­˜ä¸­çš„æ•°æ®ã€‚</li>
<li><strong>ç¼“å­˜å¤±æ•ˆ</strong>ï¼šå½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåˆ é™¤ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œä¸‹æ¬¡è¯»å–æ—¶é‡æ–°ç¼“å­˜ã€‚</li>
</ol>
<h5 data-id="heading-7">ç¤ºä¾‹ï¼šç¼“å­˜æ›´æ–°</h5>
<p>å‡è®¾æˆ‘ä»¬éœ€è¦æ›´æ–°ç”¨æˆ·çš„ä¿¡æ¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">updateUser</span><span class="hljs-params">(User user)</span> {
    cacheUser(user); <span class="hljs-comment">// ç›´æ¥æ›´æ–°ç¼“å­˜</span>
    <span class="hljs-comment">// æˆ–è€…åˆ é™¤ç¼“å­˜ï¼Œä¸‹æ¬¡è¯»å–æ—¶é‡æ–°ç¼“å­˜</span>
    <span class="hljs-comment">// String userKey = "user:" + user.getId();</span>
    <span class="hljs-comment">// jedis.del(userKey);</span>
}
</code></pre>
<h3 data-id="heading-8">3. åˆ†å¸ƒå¼ç¼“å­˜çš„é›†ç¾¤é…ç½®</h3>
<p>ä¸ºäº†æé«˜å¯ç”¨æ€§å’Œæ‰©å±•æ€§ï¼Œå¯ä»¥ä½¿ç”¨Redisé›†ç¾¤ã€‚Redisé›†ç¾¤å°†æ•°æ®åˆ†ç‰‡å­˜å‚¨åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸Šï¼Œå¹¶æä¾›äº†é«˜å¯ç”¨æ€§ã€‚</p>
<h4 data-id="heading-9">3.1 é…ç½®Redisé›†ç¾¤</h4>
<p>å¯ä»¥ä½¿ç”¨Rediså®˜æ–¹æä¾›çš„å·¥å…·é…ç½®Redisé›†ç¾¤ï¼Œå…·ä½“æ­¥éª¤å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚è¿™é‡Œåªå±•ç¤ºå¦‚ä½•ä½¿ç”¨Jedisè¿æ¥Redisé›†ç¾¤ã€‚</p>
<h5 data-id="heading-10">ç¤ºä¾‹ï¼šè¿æ¥Redisé›†ç¾¤</h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> redis.clients.jedis.HostAndPort;
<span class="hljs-keyword">import</span> redis.clients.jedis.JedisCluster;

<span class="hljs-keyword">import</span> java.util.HashSet;
<span class="hljs-keyword">import</span> java.util.Set;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RedisClusterCache</span> {

    <span class="hljs-keyword">private</span> JedisCluster jedisCluster;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">RedisClusterCache</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// é…ç½®Redisé›†ç¾¤èŠ‚ç‚¹</span>
        Set&lt;HostAndPort&gt; nodes = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>&lt;&gt;();
        nodes.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostAndPort</span>(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">7000</span>));
        nodes.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostAndPort</span>(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">7001</span>));
        nodes.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostAndPort</span>(<span class="hljs-string">"localhost"</span>, <span class="hljs-number">7002</span>));
        <span class="hljs-built_in">this</span>.jedisCluster = <span class="hljs-keyword">new</span> <span class="hljs-title class_">JedisCluster</span>(nodes);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cacheUser</span><span class="hljs-params">(User user)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">userKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:"</span> + user.getId();
        jedisCluster.hset(userKey, <span class="hljs-string">"id"</span>, user.getId());
        jedisCluster.hset(userKey, <span class="hljs-string">"name"</span>, user.getName());
        jedisCluster.hset(userKey, <span class="hljs-string">"age"</span>, String.valueOf(user.getAge()));
        <span class="hljs-comment">// è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´ä¸º1å°æ—¶</span>
        jedisCluster.expire(userKey, <span class="hljs-number">3600</span>);
    }

    <span class="hljs-keyword">public</span> User <span class="hljs-title function_">getUser</span><span class="hljs-params">(String userId)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">userKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"user:"</span> + userId;
        <span class="hljs-keyword">if</span> (jedisCluster.exists(userKey)) {
            <span class="hljs-type">String</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> jedisCluster.hget(userKey, <span class="hljs-string">"id"</span>);
            <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> jedisCluster.hget(userKey, <span class="hljs-string">"name"</span>);
            <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> Integer.parseInt(jedisCluster.hget(userKey, <span class="hljs-string">"age"</span>));
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(id, name, age);
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">try</span> {
            jedisCluster.close();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            e.printStackTrace();
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">RedisClusterCache</span> <span class="hljs-variable">cache</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RedisClusterCache</span>();

        <span class="hljs-comment">// ç¼“å­˜ç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">"1"</span>, <span class="hljs-string">"Alice"</span>, <span class="hljs-number">30</span>);
        cache.cacheUser(user);
        System.out.println(<span class="hljs-string">"User cached: "</span> + user);

        <span class="hljs-comment">// è¯»å–ç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-type">User</span> <span class="hljs-variable">cachedUser</span> <span class="hljs-operator">=</span> cache.getUser(<span class="hljs-string">"1"</span>);
        System.out.println(<span class="hljs-string">"Cached user: "</span> + cachedUser);

        cache.close();
    }
}
</code></pre>
<h3 data-id="heading-11">æ€»ç»“</h3>
<p>é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼ç¼“å­˜ï¼ŒåŒ…æ‹¬æ•°æ®çš„å­˜å‚¨å’Œè¯»å–ã€ç¼“å­˜çš„è¿‡æœŸå’Œå¤±æ•ˆã€ç¼“å­˜çš„æ›´æ–°ä»¥åŠå¦‚ä½•ä½¿ç”¨Redisé›†ç¾¤æ¥æé«˜å¯ç”¨æ€§å’Œæ‰©å±•æ€§ã€‚æ ¹æ®å®é™…éœ€æ±‚ï¼Œå¯ä»¥è¿›ä¸€æ­¥æ‰©å±•å’Œä¼˜åŒ–è¿™äº›åŠŸèƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨æ›´å¤æ‚çš„æ•°æ®å¤„ç†é€»è¾‘ã€å®ç°å¤šçº§ç¼“å­˜æœºåˆ¶ç­‰ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisæ€§èƒ½æå‡40%ï¼æˆ‘ç”¨è¿™5ä¸ªå†·é—¨ä½†é«˜æ•ˆçš„é…ç½®ä¼˜åŒ–äº†åƒä¸‡çº§QPSåº”ç”¨]]></title>    <link>https://juejin.cn/post/7580210602078371874</link>    <guid>https://juejin.cn/post/7580210602078371874</guid>    <pubDate>2025-12-06T00:16:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580210602078371874" data-draft-id="7580210602078355490" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisæ€§èƒ½æå‡40%ï¼æˆ‘ç”¨è¿™5ä¸ªå†·é—¨ä½†é«˜æ•ˆçš„é…ç½®ä¼˜åŒ–äº†åƒä¸‡çº§QPSåº”ç”¨"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2025-12-06T00:16:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisæ€§èƒ½æå‡40%ï¼æˆ‘ç”¨è¿™5ä¸ªå†·é—¨ä½†é«˜æ•ˆçš„é…ç½®ä¼˜åŒ–äº†åƒä¸‡çº§QPSåº”ç”¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-06T00:16:51.000Z" title="Sat Dec 06 2025 00:16:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-06
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>Redisæ€§èƒ½æå‡40%ï¼æˆ‘ç”¨è¿™5ä¸ªå†·é—¨ä½†é«˜æ•ˆçš„é…ç½®ä¼˜åŒ–äº†åƒä¸‡çº§QPSåº”ç”¨</strong></h2>
<h2 data-id="heading-1">å¼•è¨€</h2>
<p>åœ¨å½“ä»Šçš„é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼ŒRedisä½œä¸ºé«˜æ€§èƒ½çš„å†…å­˜æ•°æ®åº“ï¼Œå·²æˆä¸ºä¼—å¤šäº’è”ç½‘ä¼ä¸šçš„æ ¸å¿ƒæŠ€æœ¯æ ˆä¹‹ä¸€ã€‚ç„¶è€Œï¼Œéšç€ä¸šåŠ¡è§„æ¨¡çš„å¢é•¿ï¼Œå³ä½¿æ˜¯Redisè¿™æ ·çš„"æ€§èƒ½æ€ªå…½"ä¹Ÿå¯èƒ½é‡åˆ°ç“¶é¢ˆã€‚æœ€è¿‘ï¼Œæˆ‘åœ¨ä¼˜åŒ–ä¸€ä¸ªæ—¥å‡åƒä¸‡çº§QPSçš„Redisé›†ç¾¤æ—¶ï¼Œé€šè¿‡è°ƒæ•´5ä¸ªé²œä¸ºäººçŸ¥ä½†æå…¶é«˜æ•ˆçš„é…ç½®é¡¹ï¼ŒæˆåŠŸå°†æ•´ä½“æ€§èƒ½æå‡äº†40%ã€‚æœ¬æ–‡å°†æ·±å…¥åˆ†äº«è¿™äº›å®æˆ˜ç»éªŒï¼Œæ­ç¤ºé‚£äº›è¢«å¤§å¤šæ•°å¼€å‘è€…å¿½ç•¥çš„Redisæ€§èƒ½ä¼˜åŒ–æŠ€å·§ã€‚</p>
<h2 data-id="heading-2">ä¸€ã€èƒŒæ™¯ä¸æŒ‘æˆ˜</h2>
<p>æˆ‘ä»¬çš„ä¸šåŠ¡ç³»ç»Ÿæ˜¯ä¸€ä¸ªå…¸å‹çš„ç¤¾äº¤åº”ç”¨åœºæ™¯ï¼Œæ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>ç”¨æˆ·å…³ç³»å›¾è°±ï¼ˆå…³æ³¨/ç²‰ä¸åˆ—è¡¨ï¼‰</li>
<li>å®æ—¶æ¶ˆæ¯æ¨é€</li>
<li>çƒ­ç‚¹å†…å®¹ç¼“å­˜</li>
<li>åˆ†å¸ƒå¼é”æœåŠ¡</li>
</ul>
<p>åŸæœ‰Redisé›†ç¾¤é…ç½®ï¼š</p>
<ul>
<li>ç‰ˆæœ¬ï¼š6.2.6</li>
<li>èŠ‚ç‚¹ï¼š16ä¸ªåˆ†ç‰‡ï¼ˆ8ä¸»8ä»ï¼‰</li>
<li>å†…å­˜ï¼šæ¯ä¸ªèŠ‚ç‚¹32GB</li>
<li>QPSå³°å€¼ï¼šçº¦120ä¸‡/ç§’</li>
</ul>
<p>é¢ä¸´çš„æ€§èƒ½é—®é¢˜ï¼š</p>
<ol>
<li>CPUåˆ©ç”¨ç‡é•¿æœŸå¤„äº80%ä»¥ä¸Š</li>
<li>P99å»¶è¿Ÿåœ¨é«˜å³°æ—¶æ®µè¶…è¿‡50ms</li>
<li>é¢‘ç¹å‡ºç°å‘½ä»¤æ’é˜Ÿç°è±¡</li>
</ol>
<h2 data-id="heading-3">äºŒã€å…³é”®ä¼˜åŒ–ç­–ç•¥</h2>
<h3 data-id="heading-4">1. ç²¾ç»†åŒ–å†…å­˜åˆ†é…ç­–ç•¥ï¼š<code>jemalloc-bg-thread</code></h3>
<p><strong>é»˜è®¤é…ç½®çš„é—®é¢˜</strong>ï¼š
Redisé»˜è®¤ä½¿ç”¨jemallocè¿›è¡Œå†…å­˜ç®¡ç†ï¼Œä½†åœ¨é«˜åˆ†é…/é‡Šæ”¾é¢‘ç‡ä¸‹ï¼Œå†…å­˜å›æ”¶å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚</p>
<p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-conf" lang="conf"># å¯ç”¨åå°çº¿ç¨‹è¿›è¡Œå†…å­˜å›æ”¶
jemalloc-bg-thread yes
# è®¾ç½®arenaæ•°é‡ï¼ˆé€šå¸¸ä¸ºæ ¸å¿ƒæ•°çš„2å€ï¼‰
MALLOC_CONF="narenas:32,background_thread:true"
</code></pre>
<p><strong>åŸç†åˆ†æ</strong>ï¼š</p>
<ul>
<li>jemallocé€šè¿‡åˆ’åˆ†å¤šä¸ªarenaæ¥å‡å°‘é”ç«äº‰</li>
<li>åå°çº¿ç¨‹å¼‚æ­¥å¤„ç†å†…å­˜ç¢ç‰‡æ•´ç†</li>
<li>arenaæ•°é‡åº”ä¸CPUæ ¸å¿ƒæ•°åŒ¹é…</li>
</ul>
<p><strong>æ•ˆæœå¯¹æ¯”</strong>ï¼š</p>




















<table><thead><tr><th>æŒ‡æ ‡</th><th>Before</th><th>After</th></tr></thead><tbody><tr><td>mallocå»¶è¿Ÿ</td><td>850ns</td><td>320ns</td></tr><tr><td>GCåœé¡¿æ—¶é—´</td><td>15ms</td><td>&lt;1ms</td></tr></tbody></table>
<h3 data-id="heading-5">2. NUMAæ¶æ„ä¼˜åŒ–ï¼š<code>replica-serve-stale-data no</code></h3>
<p><strong>NUMAé™·é˜±</strong>ï¼š
åœ¨å¤šæ’æ§½æœåŠ¡å™¨ä¸Šï¼Œè·¨NUMAèŠ‚ç‚¹çš„å†…å­˜è®¿é—®ä¼šå¯¼è‡´æ˜¾è‘—çš„å»¶è¿Ÿå¢åŠ ã€‚</p>
<p><strong>å…³é”®é…ç½®</strong>ï¼š</p>
<pre><code class="hljs language-conf" lang="conf"># ç¦ç”¨ä»èŠ‚ç‚¹æä¾›è¿‡æœŸæ•°æ®
replica-serve-stale-data no
# NUMAç»‘å®šä¼˜åŒ–
numactl --cpunodebind=0 --membind=0 redis-server /etc/redis.conf
</code></pre>
<p><strong>å®è·µå»ºè®®</strong>ï¼š</p>
<ol>
<li><code>taskset</code>å’Œ<code>numactl</code>ç»“åˆä½¿ç”¨</li>
<li>Redisè¿›ç¨‹ä¸ç½‘å¡ä¸­æ–­ç»‘å®šç›¸åŒNUMAèŠ‚ç‚¹</li>
<li>HugePageä¹Ÿéœ€è€ƒè™‘NUMAäº²å’Œæ€§</li>
</ol>
<h3 data-id="heading-6">3. TCPåè®®æ ˆè°ƒä¼˜ï¼š<code>tcp-backlog</code></h3>
<p><strong>ç½‘ç»œç“¶é¢ˆåˆ†æ</strong>ï¼š
åœ¨çªå‘æµé‡ä¸‹ï¼ŒLinuxé»˜è®¤çš„SYNé˜Ÿåˆ—å¯èƒ½æˆä¸ºç“¶é¢ˆã€‚</p>
<pre><code class="hljs language-conf" lang="conf"># Redisé…ç½®è°ƒæ•´
tcp-backlog 65535

# sysctlç³»ç»Ÿå‚æ•°è°ƒæ•´
net.core.somaxconn = 65535
net.ipv4.tcp_max_syn_backlog = 65535
</code></pre>
<p><strong>å†…æ ¸å‚æ•°å…³è”è¡¨</strong>ï¼š</p>





















<table><thead><tr><th>å‚æ•°</th><th>Recommended Value</th></tr></thead><tbody><tr><td>net.ipv4.tcp_tw_reuse</td><td>1</td></tr><tr><td>net.ipv4.tcp_fin_timeout</td><td>15</td></tr><tr><td>net.core.netdev_max_backlog</td><td>16384</td></tr></tbody></table>
<h3 data-id="heading-7">4. AOFæŒä¹…åŒ–é»‘ç§‘æŠ€ï¼š<code>aof-rewrite-incremental-fsync</code></h3>
<p><strong>ç£ç›˜IOç“¶é¢ˆçªç ´</strong>ï¼š</p>
<pre><code class="hljs language-conf" lang="conf">aof-rewrite-incremental-fsync yes
aof-load-truncated yes

# Linuxæ–‡ä»¶ç³»ç»Ÿä¼˜åŒ–ï¼ˆEXT4ç¤ºä¾‹ï¼‰ï¼š
mount -o noatime,data=writeback,barrier=0,nobh /dev/sdb /data/redis/
</code></pre>
<p><strong>æ•ˆæœéªŒè¯å·¥å…·</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># AOFé‡å†™æœŸé—´çš„IOè§‚æµ‹å·¥å…·ç»„åˆ</span>
iotop -oP 
blktrace -d /dev/nvme0n1 -o - | blkparse -i -
</code></pre>
<h3 data-id="heading-8">5. LUAè„šæœ¬åŠ é€Ÿå™¨ï¼š<code>lua-replicate-commands</code></h3>
<p><strong>LUAæ€§èƒ½é™·é˜±è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-conf" lang="conf">lua-time-limit 5000 # mså•ä½çš„å®‰å…¨é˜ˆå€¼æ§åˆ¶

# Luaè„šæœ¬æ”¹é€ ç¤ºä¾‹ï¼ˆåŸå§‹è„šæœ¬ï¼‰:
local val = redis.call('GET', KEYS[1])
return val

# ï¼ˆä¼˜åŒ–åï¼‰:
redis.replicate_commands()
local val = redis.call('GET', KEYS[1])
return val
</code></pre>
<h2 data-id="heading-9"/>
<h2 data-id="heading-10"/>
<h2 data-id="heading-11"/>
<h2 data-id="heading-12"/>
<h2 data-id="heading-13"/>
<h2 data-id="heading-14"/>
<h2 data-id="heading-15"/>
<h2 data-id="heading-16"/>
<h2 data-id="heading-17"/>
<h2 data-id="heading-18"/>
<h2 data-id="heading-19"/>
<h2 data-id="heading-20"/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«æ•°å­—éº»æœ¨ï¼Œé‡æ‹¾æ¶ˆè´¹æ„ŸçŸ¥ï¼šezBookkeeping â€”â€” æ‚¨çš„è½»é‡è‡ªæ‰˜ç®¡è®°è´¦ä¼´ä¾£]]></title>    <link>https://juejin.cn/post/7580183671532191782</link>    <guid>https://juejin.cn/post/7580183671532191782</guid>    <pubDate>2025-12-05T23:26:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580183671532191782" data-draft-id="7580183671532175398" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«æ•°å­—éº»æœ¨ï¼Œé‡æ‹¾æ¶ˆè´¹æ„ŸçŸ¥ï¼šezBookkeeping â€”â€” æ‚¨çš„è½»é‡è‡ªæ‰˜ç®¡è®°è´¦ä¼´ä¾£"/> <meta itemprop="keywords" content="å¼€æº"/> <meta itemprop="datePublished" content="2025-12-05T23:26:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿®å·±xj"/> <meta itemprop="url" content="https://juejin.cn/user/2641475936724142"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«æ•°å­—éº»æœ¨ï¼Œé‡æ‹¾æ¶ˆè´¹æ„ŸçŸ¥ï¼šezBookkeeping â€”â€” æ‚¨çš„è½»é‡è‡ªæ‰˜ç®¡è®°è´¦ä¼´ä¾£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641475936724142/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿®å·±xj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T23:26:25.000Z" title="Fri Dec 05 2025 23:26:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ•°å­—æ—¶ä»£ï¼Œæ¶ˆè´¹ä¸æ”¯ä»˜å› ç½‘è´­è€Œå˜å¾—æ— æ¯”ä¾¿æ·ï¼Œé‡‘é’±ä¹Ÿéšä¹‹æ¸æ¸æŠ½è±¡ä¸ºå±å¹•ä¸Šå†°å†·çš„æ•°å­—ï¼Œå¤±å»äº†æ›¾ç»çœŸå®å¯æ¡çš„æ¸©åº¦ã€‚è¿‡å»ç”¨ç°é‡‘äº¤æ˜“æ—¶ï¼Œæ¯ä¸€å¼ çº¸å¸çš„é€’å‡ºéƒ½ä¼´éšç€å¤æ‚çš„å¿ƒç»ªâ€”â€”æˆ–è®¸æ˜¯è®¡åˆ’ï¼Œæ˜¯çŠ¹è±«ï¼ŒæŠ‘æˆ–æ˜¯ä¸èˆã€‚é‚£ç§å®å®åœ¨åœ¨çš„â€œä»˜å‡ºæ„Ÿâ€ï¼Œæ— å½¢ä¸­è®©äººæ›´æ‡‚è¡¡é‡ã€æ›´çŸ¥èŠ‚åˆ¶ã€‚</p>
<p>å¦‚ä»Šï¼Œæ‰‹æœºä¸€æ‰«ã€ä¸€é”®å³ä»˜ï¼Œæ¶ˆè´¹å˜å¾—è½»è€Œæ˜“ä¸¾ï¼Œäººä¸é‡‘é’±ä¹‹é—´çš„æƒ…æ„Ÿè”ç»“å´æ—¥ç›Šç¨€è–„ã€‚æ”¯ä»˜åŠ¨ä½œçš„ç®€åŒ–ï¼Œä¹Ÿåœ¨ä¸çŸ¥ä¸è§‰é—´å‰Šå¼±äº†æˆ‘ä»¬å¯¹æ”¯å‡ºçš„æ•æ„Ÿã€‚å°±åƒä»å‰ç”¨ç°é‡‘åƒé¥­ï¼Œäººä»¬ä¼šä¸‹æ„è¯†åœ°æ ¹æ®é’±åŒ…é‡Œçš„ä½™é¢çº¦æŸå¼€é”€ï¼›è€Œæ•°å­—æ”¯ä»˜è®©äººéš¾ä»¥æ„ŸçŸ¥â€œå¤±å»â€ï¼Œæ›´å®¹æ˜“åœ¨æ— å£°æ— æ¯ä¸­è¶Šè¿‡åŸæœ¬çš„ç•Œé™ã€‚</p>
<p>äºæ˜¯æˆ‘ä¸ç¦æ€è€ƒï¼šæ—¢ç„¶æˆ‘ä»¬äº«å—ç€å¿«æ·æ”¯ä»˜çš„ä¾¿åˆ©ï¼Œæ˜¯å¦ä¹Ÿèƒ½æ‰¾åˆ°ä¸€ç§æ–¹å¼ï¼Œè®©æ¶ˆè´¹é‡æ–°å˜å¾—å¯æ„ŸçŸ¥ï¼Ÿæˆ‘æ›¾å°è¯•æ‰‹åŠ¨è®°è´¦ï¼Œä½†ä¸ä»…éš¾ä»¥ç»Ÿè®¡ï¼Œè´¦æœ¬ä¹Ÿå®¹æ˜“ä¸¢å¤±ï¼›åˆè¯•è¿‡ä¸€äº›è®°è´¦è½¯ä»¶ï¼Œå¯å®ƒä»¬å¾€å¾€å¤ªè¿‡â€œä¾¿æ·â€ï¼Œä¾ç„¶æ— æ³•å¸®æˆ‘æ‰¾å›é‚£ä»½å¯¹æ¶ˆè´¹çš„çœŸå®æ„ŸçŸ¥ã€‚ç›´åˆ°æœ€è¿‘åœ¨ GitHub ä¸Šå‘ç°äº†ä¸€ä¸ªå¼€æºé¡¹ç›®â€”â€”å®ƒæ°å¥½æ»¡è¶³äº†æˆ‘æ‰€æœ‰è¿™äº›æœŸå¾…ã€‚ä»Šå¤©ï¼Œå°±æƒ³æŠŠå®ƒä»‹ç»ç»™å¤§å®¶ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/417dd50152a64607875b0387359af2c6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=U8M%2Fsn%2F43R3H%2FZ07XM83zZy8xOs%3D" alt="ezbookkeeping-192.png" loading="lazy"/></p>
<p>ezbookkeeping-192.png</p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ezBookkeepingï¼Ÿ</h2>
<p>ezBookkeeping æ˜¯ä¸€æ¬¾è½»é‡ã€è‡ªæ‰˜ç®¡ (self-hosted) çš„ä¸ªäººè®°è´¦åº”ç”¨ï¼Œæ‹¥æœ‰ç”¨æˆ·å‹å¥½çš„ç•Œé¢å’Œå¼ºå¤§çš„è®°è´¦åŠŸèƒ½ã€‚å®ƒéƒ¨ç½²ç®€å•ï¼Œå€ŸåŠ© Docker åªéœ€ä¸€è¡Œå‘½ä»¤å³å¯å¯åŠ¨ã€‚åŒæ—¶å¯¹ç³»ç»Ÿèµ„æºå ç”¨ä½ã€å¯æ‰©å±•æ€§é«˜ï¼Œæ—¢å¯è¿è¡Œåœ¨æ ‘è“æ´¾ç­‰è½»é‡è®¾å¤‡ä¸Šï¼Œä¹Ÿèƒ½æ‰©å±•åˆ° NASã€MicroServer ç”šè‡³é›†ç¾¤ç¯å¢ƒã€‚</p>
<p>ezBookkeeping ä¸ºç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯æä¾›äº†å„è‡ªåŸç”Ÿçš„ç•Œé¢è®¾è®¡ã€‚å€ŸåŠ© PWA (æ¸è¿›å¼ç½‘é¡µåº”ç”¨) æŠ€æœ¯ï¼Œæ‚¨è¿˜å¯ä»¥å°†å®ƒ æ·»åŠ åˆ°æ‰‹æœºä¸»å±å¹•ï¼ŒåƒåŸç”Ÿ App ä¸€æ ·ä½¿ç”¨ã€‚</p>
<p>github åœ°å€ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmayswind%2Fezbookkeeping" target="_blank" title="https://github.com/mayswind/ezbookkeeping" ref="nofollow noopener noreferrer">github.com/mayswind/ezâ€¦</a></p>
<p>æ–‡æ¡£åœ°å€ï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fezbookkeeping.mayswind.net%2Fzh_Hans" target="_blank" title="https://ezbookkeeping.mayswind.net/zh_Hans" ref="nofollow noopener noreferrer">ezbookkeeping.mayswind.net/zh_Hans</a></p>
<p>åœ¨çº¿æ¼”ç¤ºï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fezbookkeeping-demo.mayswind.net" target="_blank" title="https://ezbookkeeping-demo.mayswind.net" ref="nofollow noopener noreferrer">ezbookkeeping-demo.mayswind.net</a></p>
<p>è¯¥é¡¹ç›®åœ¨githubå·²æœ‰3.2k star</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02780ab2ec324e3db6e930cc8ae0002b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=22JytToBQBmE0RgxwS%2FuXOpm6q0%3D" alt="_20251206_054722.png" loading="lazy"/></p>
<p>_20251206_054722.png</p>
<h2 data-id="heading-1">Dockerç§æœ‰åŒ–éƒ¨ç½²</h2>
<p>æˆ‘ä½¿ç”¨çš„æ˜¯docker-compose è¿›è¡Œç§æœ‰åŒ–éƒ¨ç½²çš„ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ›å»ºdocker-compose.yml æ–‡ä»¶</li>
</ul>
<p>åœ¨æˆ‘ä»¬çš„æœåŠ¡å™¨ä¸Šåˆ›å»ºéƒ¨ç½²ç›®å½•<code>ezbookkeeping</code>,åœ¨æ­¤ç›®å½•ä¸‹åˆ›å»º docker-compose.yml æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">services:
  ezbookkeeping:
    image: mayswind/ezbookkeeping:latest
    container_name: ezbookkeeping
    hostname: <span class="hljs-string">"ezbookkeeping"</span>
    ports:
      - <span class="hljs-string">"7080:8080"</span>
    <span class="hljs-comment"># é»˜è®¤æ•°æ®åº“ç±»å‹æ˜¯ sqlite3,è‹¥ä½¿ç”¨é»˜è®¤æ•°æ®åº“ï¼Œæ³¨é‡Šæ‰ä»¥ä¸‹ç¯å¢ƒå˜é‡</span>
    environment:
      - <span class="hljs-string">"EBK_SERVER_ENABLE_GZIP=true"</span>
      - <span class="hljs-string">"EBK_DATABASE_TYPE=mysql"</span>
      - <span class="hljs-string">"EBK_DATABASE_HOST=192.168.31.195:3306"</span>
      - <span class="hljs-string">"EBK_DATABASE_NAME=ezbookkeeping"</span>
      - <span class="hljs-string">"EBK_DATABASE_USER=root"</span>
      - <span class="hljs-string">"EBK_DATABASE_PASSWD=xj123456"</span>
      - <span class="hljs-string">"EBK_LOG_MODE=file"</span>
      - <span class="hljs-string">"EBK_SECURITY_SECRET_KEY=its_should_be_a_random_string"</span>
    volumes:
      - /etc/localtime:/etc/localtime:ro
      - ./storage:/ezbookkeeping/storage <span class="hljs-comment"># è¯·ç¡®ä¿ UID:GID æ˜¯ 1000:1000</span>
      - ./log:/ezbookkeeping/log <span class="hljs-comment"># è¯·ç¡®ä¿ UID:GID æ˜¯ 1000:1000</span>
        <span class="hljs-comment">#      - ./ezbookkeeping.ini:/ezbookkeeping/conf/ezbookkeeping.ini</span>
        <span class="hljs-comment">#      - ./data:/ezbookkeeping/data # é»˜è®¤ä½¿ç”¨sqlite3æ•°æ®åº“æŒ‚è½½ç›®å½•</span>
</code></pre>
<p>ezbookkeeping é»˜è®¤æ•°æ®åº“ç±»å‹æ˜¯ sqlite3,æ•°æ®åº“æ–‡ä»¶å­˜å‚¨åœ¨å®¹å™¨ä¸­çš„ /ezbookkeeping/data/ezbookkeeping.dbï¼Œè‹¥ä½¿ç”¨é»˜è®¤æ•°æ®åº“ï¼Œå¹¶æŒä¹…åŒ–ä¿å­˜è¿™äº›æ•°æ®ï¼Œä½ éœ€è¦ä½¿ç”¨ Docker æŒä¹…åŒ–æ•°æ®å·æˆ–æŒ‚è½½å®¿ä¸»æœºçš„è·¯å¾„åˆ°å®¹å™¨å†…ã€‚</p>
<p>è‹¥æƒ³ä½¿ç”¨mysqlæˆ–PostgreSQL,åˆ™éœ€ç°åœ¨å¯¹åº”çš„æ•°æ®åº“ä¸­åˆ›å»ºå¥½æ•°æ®åº“ï¼Œåœ¨ç¯å¢ƒå˜é‡ä¸­é…ç½®å¥½ç›¸åº”çš„ç¯å¢ƒå˜é‡å³å¯ï¼Œæˆ‘æ­¤å¤„ä½¿ç”¨çš„æ˜¯mysqlæ•°æ®åº“ã€‚</p>
<ul>
<li>å¯åŠ¨æœåŠ¡</li>
</ul>
<p>åœ¨docker-compose.ymlçš„åŒçº§ç›®å½•ä¸‹ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨æœåŠ¡</p>
<pre><code class="hljs">docker-compose up -d 
</code></pre>
<p>å¯åŠ¨ä¹‹åæ±‡æŠ¥æƒé™é”™è¯¯çš„æ—¥å¿—,éœ€è¦ç»™æŒ‚è½½ç›®å½•ä¿®æ”¹æƒé™</p>
<p>ç»™æŒ‚è½½ç›®å½•æˆæƒ</p>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">chmod</span> -R 777 storage <span class="hljs-built_in">log</span>
</code></pre>
<p>é‡å¯æœåŠ¡</p>
<pre><code class="hljs">docker-compose restart
</code></pre>
<p>åˆ°æ­¤ï¼Œæˆ‘ä»¬æœåŠ¡å°±éƒ¨ç½²å¥½äº†</p>
<h2 data-id="heading-2">ä½¿ç”¨</h2>
<ul>
<li>æ³¨å†Œ</li>
</ul>
<p>åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€æœåŠ¡åœ°å€ï¼Œé¦–æ¬¡çš„è¯æˆ‘ä»¬å…ˆéœ€è¦æ³¨å†Œç”¨æˆ·</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb7b3c963fa547529efc273fb4efb951~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=te5f9tosmHS9KRksOsUHNAKChos%3D" alt="_20251206_063538.png" loading="lazy"/></p>
<p>_20251206_063538.png</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/abe25e0f458e403b89ef337c14fd9de1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=7%2FlWtKU%2B6dxC6M4PKVbY2PtBKHY%3D" alt="_20251206_063650.png" loading="lazy"/></p>
<p>_20251206_063650.png</p>
<p>æ³¨å†Œçš„æ—¶å€™æˆ‘ä»¬å¯ä»¥é¢„è®¾åˆ†ç±» <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/577d769545cb4e36842d6b0ae9636888~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=vSQ%2BSFrM4ldG0LPyJbmzYfNu07A%3D" alt="_20251206_063732.png" loading="lazy"/></p>
<ul>
<li>åˆ›å»ºè´¦æˆ·ã€åˆ†ç±»</li>
</ul>
<p>æˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºå¥½è´¦æˆ·ï¼Œæ ¹æ®è‡ªå·±è®°å½•çš„ç»´åº¦åˆ›å»ºå¥½æ¶ˆè´¹åŠæ”¶å…¥åˆ†ç±»</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ff364bf09a247eea8fbfff1d2923768~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=8rfuZpZ5%2BL72rfTyQwGwseqogjw%3D" alt="_20251206_064953.png" loading="lazy"/></p>
<p>_20251206_064953.png</p>
<ul>
<li>æ·»åŠ äº¤æ˜“ã€å¸¸çœ‹ç»Ÿè®¡</li>
</ul>
<p>ç„¶åæˆ‘ä»¬å¯ä»¥è®°å½•æˆ‘ä»¬çš„æ¯ä¸€ç¬”æ¶ˆè´¹ã€æ”¶å…¥äº†</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a52f27e9bb54b84b4b5d4b5690a1ac3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=lbf18TN1crFrmch%2FRutQ7Xnn1A8%3D" alt="_20251206_065454.png" loading="lazy"/></p>
<p>_20251206_065454.png</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b3eec57fd68240f2812432b385202add~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=wHFHwfirm7c%2BJAdLBDMmggYcIVM%3D" alt="_20251206_065547.png" loading="lazy"/></p>
<p>_20251206_065547.png</p>
<ul>
<li>ç§»åŠ¨ç«¯ä½¿ç”¨</li>
</ul>
<p>åœ¨æ‰‹æœºæµè§ˆå™¨ä¸­æ‰“å¼€ç½‘å€<a href="https://link.juejin.cn?target=http%3A%2F%2Fip%3Aport%2F" target="_blank" title="http://ip:port/" ref="nofollow noopener noreferrer">http://ip:port/</a> æˆ–è€…æ‰«ç ï¼Œä½¿ç”¨ç”¨æˆ·åç™»å½•ä¹‹åå°±å¯ä»¥åœ¨æ‰‹æœºç«¯ä½¿ç”¨äº†ï¼Œå¦‚æœä¸æƒ³æ¯æ¬¡è¿›æµè§ˆå™¨ï¼Œå¯ä»¥åœ¨æµè§ˆå™¨ä¸­å°†é¡µé¢å‘é€åˆ°æ‰‹æœºæ¡Œé¢ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f180581636648c69d106d2e6ec9803a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765581984&amp;x-signature=JDvUu34m985VyO3n4IPPIRt%2BWjk%3D" alt="_20251206_070326.png" loading="lazy"/></p>
<p>_20251206_070326.png</p>
<h2 data-id="heading-3">ç»“è¯­</h2>
<p>åœ¨ä¼—å¤šä¸ªäººè´¢åŠ¡åº”ç”¨ä¸­ï¼ŒezBookkeepingä»¥å…¶å¼€æºç‰¹æ€§ã€éšç§ä¿æŠ¤ã€è½»é‡é«˜æ•ˆå’Œæ˜“éƒ¨ç½²çš„ä¼˜åŠ¿è„±é¢–è€Œå‡ºã€‚æ— è®ºä½ æ˜¯æŠ€æœ¯çˆ±å¥½è€…æƒ³åœ¨æ ‘è“æ´¾ä¸Šæ­å»ºæœåŠ¡ï¼Œè¿˜æ˜¯æ™®é€šç”¨æˆ·æƒ³åœ¨NASä¸Šè‡ªå»ºè´¢åŠ¡ç³»ç»Ÿï¼ŒezBookkeepingéƒ½æ˜¯ä¸€ä¸ªå€¼å¾—å°è¯•çš„ä¼˜ç§€é€‰æ‹©ã€‚</p>
<p>å®ƒçš„è®¾è®¡å“²å­¦å¾ˆæ˜ç¡®ï¼šç»™ç”¨æˆ·å®Œå…¨çš„æ§åˆ¶æƒï¼ŒåŒæ—¶æä¾›ä¸“ä¸šçº§çš„è®°è´¦ä½“éªŒã€‚åœ¨è¿™ä¸ªæ•°æ®éšç§æ—¥ç›Šé‡è¦çš„æ—¶ä»£ï¼Œè¿™æ ·çš„åº”ç”¨æ˜¾å¾—å°¤ä¸ºçè´µã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªå¯é ã€ç§å¯†ã€åŠŸèƒ½å…¨é¢çš„è®°è´¦è§£å†³æ–¹æ¡ˆï¼Œä¸å¦¨è¯•è¯•ezBookkeepingã€‚åªéœ€å‡ åˆ†é’Ÿçš„éƒ¨ç½²æ—¶é—´ï¼Œä½ å°±èƒ½æ‹¥æœ‰ä¸€ä¸ªå®Œå…¨å±äºè‡ªå·±çš„ä¸“ä¸šè´¢åŠ¡ç®¡ç†ç³»ç»Ÿã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GitHub Star æ•°é‡å‰ 5 çš„å¼€æº AI å†…éƒ¨å·¥å…·]]></title>    <link>https://juejin.cn/post/7580198093154598958</link>    <guid>https://juejin.cn/post/7580198093154598958</guid>    <pubDate>2025-12-05T15:23:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580198093154598958" data-draft-id="7580233527284301874" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GitHub Star æ•°é‡å‰ 5 çš„å¼€æº AI å†…éƒ¨å·¥å…·"/> <meta itemprop="keywords" content="å¼€æº,ä½ä»£ç ,èµ„è®¯"/> <meta itemprop="datePublished" content="2025-12-05T15:23:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="NocoBase"/> <meta itemprop="url" content="https://juejin.cn/user/180779873743566"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GitHub Star æ•°é‡å‰ 5 çš„å¼€æº AI å†…éƒ¨å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180779873743566/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    NocoBase
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:23:02.000Z" title="Fri Dec 05 2025 15:23:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftop-5-open-source-ai-internal-tools-on-github" target="_blank" title="https://www.nocobase.com/cn/blog/top-5-open-source-ai-internal-tools-on-github" ref="nofollow noopener noreferrer">www.nocobase.com/cn/blog/topâ€¦</a></p>
<p>ä¹‹å‰æˆ‘ä»¬æ•´ç†è¿‡å¾ˆå¤šå¼€æº AI é¡¹ç›®ç›¸å…³çš„å†…å®¹ï¼ŒåŒ…æ‹¬ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftop-11-github-open-source-no-code-ai-tools" target="_blank" title="https://www.nocobase.com/cn/blog/top-11-github-open-source-no-code-ai-tools" ref="nofollow noopener noreferrer">GitHub ä¸Š 11 æ¬¾å¼€æºçš„ AI æ— ä»£ç å¹³å°</a>ã€ä»¥åŠ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2F14-ai-low-code-platforms-github" target="_blank" title="https://www.nocobase.com/cn/blog/14-ai-low-code-platforms-github" ref="nofollow noopener noreferrer">AI ä½ä»£ç å·¥å…·çš„ç›˜ç‚¹æ–‡ç« </a>ã€‚AI æŠ€æœ¯çš„å¿«é€Ÿæ¼”è¿›ï¼Œæˆ‘ä»¬çœ‹åˆ°è¶Šæ¥è¶Šå¤šçš„å¼€æºé¡¹ç›®å¼€å§‹ä¸»åŠ¨æ‹¥æŠ± AIã€‚</p>
<p>åŒæ ·çš„è¶‹åŠ¿ï¼Œä¹Ÿæ­£åœ¨å‘ç”Ÿåœ¨å†…éƒ¨å·¥å…·ï¼ˆInternal Toolsï¼‰é¢†åŸŸã€‚å»å¹´æˆ‘ä»¬ç›˜ç‚¹è¿‡<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fopen-source-internal-tools" target="_blank" title="https://www.nocobase.com/cn/blog/open-source-internal-tools" ref="nofollow noopener noreferrer">ä¸€æ‰¹ä¼˜ç§€çš„å¼€æºå†…éƒ¨å·¥å…·</a>ï¼Œä½†è¿›å…¥ 2025 å¹´åï¼Œè¿™äº›å·¥å…·å‡ ä¹éƒ½é™†ç»­åŠ å…¥äº† AI èƒ½åŠ›ï¼Œæ•´ä½“éƒ½å·²ç»ç„•ç„¶ä¸€æ–°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å†³å®šé‡æ–°åšä¸€æ¬¡ç³»ç»Ÿæ€§çš„æ›´æ–°ã€‚</p>
<p>ğŸ˜„<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftop-5-open-source-projects-for-building-internal-tools-in-2024%23%25E5%2586%2585%25E9%2583%25A8%25E5%25B7%25A5%25E5%2585%25B7%25E6%259C%2589%25E4%25BB%2580%25E4%25B9%2588%25E5%25A5%25BD%25E5%25A4%2584" target="_blank" title="https://www.nocobase.com/cn/blog/top-5-open-source-projects-for-building-internal-tools-in-2024#%E5%86%85%E9%83%A8%E5%B7%A5%E5%85%B7%E6%9C%89%E4%BB%80%E4%B9%88%E5%A5%BD%E5%A4%84" ref="nofollow noopener noreferrer">å¦‚æœæ‚¨å¯¹å†…éƒ¨å·¥å…·çš„æ¦‚å¿µåŠå…¶å¸¦æ¥çš„ä»·å€¼è¿˜ä¸å¤ªäº†è§£ï¼Œå¯ä»¥å…ˆç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ç›¸å…³ä»‹ç»ã€‚</a></p>
<p>è¿™æ¬¡ï¼Œæˆ‘ä»¬ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftopics%2Finternal-tools" target="_blank" title="https://github.com/topics/internal-tools" ref="nofollow noopener noreferrer">GitHub Internal Tools</a> è¯é¢˜é‡Œé‡æ–°ç­›é€‰äº† Star æ•°æ’åé å‰ä¸” GitHub Star æ•°å‡è¶…è¿‡ 20k çš„å¼€æºå†…éƒ¨å·¥å…·é¡¹ç›®ï¼Œä»‹ç»ä»–ä»¬çš„æŠ€æœ¯ä¿¡æ¯ä»¥åŠé€‚ç”¨åœºæ™¯.</p>
<p>å¸Œæœ›è¿™ä»½æ›´æ–°èƒ½å¸®åŠ©ä½ å¿«é€Ÿäº†è§£å“ªäº›å¼€æºå†…éƒ¨å·¥å…·åœ¨ AI æ—¶ä»£ä¾ç„¶å€¼å¾—æŠ•å…¥ï¼Œä¹Ÿä¸ºæ­£åœ¨è‡ªå»ºå†…éƒ¨å·¥å…·çš„æŠ€æœ¯å›¢é˜Ÿæä¾›æ¸…æ™°çš„å‚è€ƒæ–¹å‘ã€‚</p>
<p>ä½ å¯ä»¥å…ˆå¿«é€Ÿæµè§ˆä¸€ä¸‹æœ¬æ–‡ä¼šä»‹ç»çš„ 5 æ¬¾å¼€æºå†…éƒ¨å·¥å…·ï¼š</p>
<ul>
<li><strong>NocoBase</strong>ï¼šæ•°æ®æ¨¡å‹é©±åŠ¨çš„æ— ä»£ç å¼€å‘å¹³å°ï¼Œéå¸¸é€‚åˆç”¨äºæ­å»ºå†…éƒ¨å·¥å…·ï¼Œæ’ä»¶æ¶æ„é«˜åº¦å¯æ‰©å±•ï¼ŒAI å‘˜å·¥å¯ä»‹å…¥æ•°æ®æ•´ç†ã€å»ºæ¨¡ã€å›¾è¡¨ç”Ÿæˆã€ä»£ç ç”Ÿæˆç­‰åœºæ™¯ã€‚</li>
<li><strong>Budibase</strong>ï¼šä½ä»£ç å†…éƒ¨å·¥å…·å¹³å°ï¼Œæä¾›æ•°æ®åº“ã€æ‹–æ‹½æ„å»ºã€è‡ªåŠ¨ç”Ÿæˆ CRUDã€AI Columnã€AI è¡¨ç»“æ„ç­‰èƒ½åŠ›ã€‚</li>
<li><strong>Refine</strong>ï¼šåŸºäº React çš„å…ƒæ¡†æ¶ï¼Œé€‚åˆæ„å»º CRUD å¯†é›†å‹åå°ç³»ç»Ÿï¼Œå¹¶æ”¯æŒé€šè¿‡ AI è‡ªåŠ¨ç”Ÿæˆåº”ç”¨ç»“æ„ä¸ä»£ç ã€‚</li>
<li><strong>ToolJet</strong>ï¼šä½ä»£ç ä¸ AI-native èåˆçš„å¹³å°ï¼Œæ”¯æŒç”¨è‡ªç„¶è¯­è¨€ç”Ÿæˆå†…éƒ¨å·¥å…·çš„ç•Œé¢ä¸é€»è¾‘ã€‚</li>
<li><strong>Appsmith</strong>ï¼šæˆç†Ÿçš„å¼€æºä½ä»£ç å¹³å°ï¼Œå¯è¿æ¥å¤šæ•°æ®æºï¼Œé€‚åˆæ„å»ºç®¡ç†åå°ã€ä»ªè¡¨ç›˜ã€å®¡æ‰¹ç³»ç»Ÿï¼Œå¹¶å·²åŠ å…¥å¤šç§ AI æ“ä½œèƒ½åŠ›ã€‚</li>
</ul>
<h3 data-id="heading-0">NO.5 nocobase</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35d776b00ea04af297ddae72933fb6f3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=aFTqAXSyL76PZSe87FSF4tqMhk0%3D" alt="nocobase.png" loading="lazy"/></p>













































<table><thead><tr><th>GitHub åœ°å€</th><th><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fnocobase%2Fnocobase" target="_blank" title="https://github.com/nocobase/nocobase" ref="nofollow noopener noreferrer">github.com/nocobase/noâ€¦</a></th></tr></thead><tbody><tr><td>å®˜ç½‘</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2F" target="_blank" title="https://www.nocobase.com/cn/" ref="nofollow noopener noreferrer">www.nocobase.com/cn/</a></td></tr><tr><td>å¼€æºåè®®</td><td>AGPL-3.0</td></tr><tr><td>GitHub Star æ•°</td><td>20.5k</td></tr><tr><td>GitHub Fork æ•°</td><td>2.3k</td></tr><tr><td>GitHub Issue æ•°</td><td>129</td></tr><tr><td>GitHub Pull Request æ•°</td><td>125</td></tr><tr><td>GitHub Contributor æ•°</td><td>101</td></tr><tr><td>GitHub æœ€è¿‘ä¸€æ¬¡æ›´æ–°æ—¶é—´</td><td>å½“å¤©</td></tr><tr><td>ç›¸å…³æ–‡æ¡£é“¾æ¥</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fv2.docs.nocobase.com%2Fcn%2Fai-employees" target="_blank" title="https://v2.docs.nocobase.com/cn/ai-employees" ref="nofollow noopener noreferrer">v2.docs.nocobase.com/cn/ai-emploâ€¦</a></td></tr></tbody></table>
<p><strong>å·¥å…·ä»‹ç»</strong></p>
<p>NocoBase æ˜¯ä¸€ä¸ªæ•°æ®æ¨¡å‹é©±åŠ¨çš„æ— ä»£ç å¼€å‘å¹³å°ï¼Œéå¸¸é€‚åˆç”¨äºæ­å»ºå†…éƒ¨å·¥å…·ï¼Œé€šè¿‡æ’ä»¶æ¶æ„æ”¯æŒé«˜åº¦æ‰©å±•ï¼Œå¯ç”¨äºåˆ›å»ºç®¡ç†åå°ã€ä¸šåŠ¡ç³»ç»Ÿã€CRMã€å®¡æ‰¹æµç­‰å„ç§ä¼ä¸šå†…éƒ¨åº”ç”¨ã€‚ç³»ç»Ÿæä¾›æ‰€è§å³æ‰€å¾—çš„ç•Œé¢æ„å»ºèƒ½åŠ›ï¼Œå¹¶æ”¯æŒå¤æ‚çš„æ•°æ®å…³ç³»ã€æƒé™ä½“ç³»ä¸è‡ªå®šä¹‰é€»è¾‘ï¼Œé€‚åˆéœ€è¦å¿«é€Ÿæ„å»ºä¸šåŠ¡å·¥å…·çš„å›¢é˜Ÿã€‚</p>
<p>åœ¨ NocoBase ä¸­ï¼ŒAI å¹¶ä¸æ˜¯ç‹¬ç«‹æ¨¡å—ï¼Œè€Œæ˜¯ä¸è¡¨æ ¼ã€è¡¨å•ã€æ•°æ®æ¨¡å‹å’Œå·¥ä½œæµæ·±åº¦ç»“åˆçš„æ™ºèƒ½èƒ½åŠ›ã€‚NocoBase çš„ AI å‘˜å·¥æ¨¡å—å°† AI èƒ½åŠ›ç›´æ¥èå…¥ä¸šåŠ¡ç³»ç»Ÿï¼Œå¯ä»¥ä¸æ•°æ®æ¨¡å‹ã€è¡¨å•ã€è¡¨æ ¼å’Œå·¥ä½œæµååŒå·¥ä½œã€‚å®˜æ–¹å†…ç½®å¤šç§ AI å‘˜å·¥ç±»å‹ï¼ŒåŒ…æ‹¬æ•°æ®æ•´ç†ã€æ•°æ®å»ºæ¨¡ã€çŸ¥è¯†åº“æœç´¢ã€å›¾è¡¨ç”Ÿæˆå’Œä»£ç ç”Ÿæˆç­‰åŠŸèƒ½ï¼Œå¯ä»¥å¸®åŠ©ç”¨æˆ·ä»¥æ›´ä½çš„æˆæœ¬å®Œæˆæ•°æ®å¤„ç†ã€ç•Œé¢é…ç½®å’Œé€»è¾‘æ„å»ºã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<p><strong>æ•°æ®æ•´ç†åœºæ™¯ï¼ˆDex æ•°æ®æ•´ç†ä¸“å®¶ï¼‰</strong></p>
<p>åœ¨å½•å…¥å®¢æˆ·ä¿¡æ¯ã€å·¥å•å†…å®¹ã€åˆåŒæ¡æ¬¾ç­‰åœºæ™¯ä¸­ï¼ŒAI å‘˜å·¥å¯ä»¥ä»éç»“æ„åŒ–çš„æ•°æ®æˆ–æ–‡ä»¶ä¸­æå–æ‰€éœ€çš„ä¿¡æ¯æ•´ç†æˆç»“æ„åŒ–çš„ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥è°ƒç”¨å·¥å…·å°†ä¿¡æ¯å¡«å†™åˆ°è¡¨å•ä¸­ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a252494cecb42228b491de291da5762~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=pgsSdxQFRWzY3xxYpjcyFbgIp%2B8%3D" alt="Dex.gif" loading="lazy"/></p>
<p><strong>æ•°æ®åˆ†æåœºæ™¯ï¼ˆViz æ´å¯Ÿåˆ†æå¸ˆï¼‰</strong></p>
<p>åœ¨ Leadsã€Opportunitiesã€Accounts ç­‰ä¸šåŠ¡æ•°æ®é¡µé¢ä¸­ï¼ŒAI å‘˜å·¥å¯ä»¥è¯»å–ä½ å½“å‰é¡µé¢çš„æ•°æ®ï¼Œè‡ªåŠ¨ç”Ÿæˆè¶‹åŠ¿å›¾ã€å¯¹æ¯”å›¾ã€KPI å¡å’Œç®€æ˜ç»“è®ºï¼Œè®©ä¸šåŠ¡åˆ†æå˜å¾—è½»æ¾ã€ç›´è§‚ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/198df152e2394944988ffb36dac0ce36~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=AGjCcNcvRcpd8jEh0uCXoDue7EU%3D" alt="Viz.gif" loading="lazy"/></p>
<p><strong>å‰ç«¯äº¤äº’é…ç½®åœºæ™¯ï¼ˆNathan å‰ç«¯å·¥ç¨‹å¸ˆï¼‰</strong></p>
<p>åœ¨éœ€è¦ç¼–å†™ JSBlockã€JSFieldã€JSItemã€JSColumnã€JSActionã€äº‹ä»¶æµï¼ˆEvent Flowï¼‰ç­‰éœ€è¦å†™ JavaScript çš„åœºæ™¯ä¸‹ï¼ŒAI å‘˜å·¥å¯ä»¥è¯»å–å½“å‰ä»£ç ç¼–è¾‘å™¨ä¸­çš„ä¸Šä¸‹æ–‡ï¼Œæ ¹æ®è‡ªç„¶è¯­è¨€éœ€æ±‚è‡ªåŠ¨ç”Ÿæˆæˆ–ä¼˜åŒ–å‰ç«¯ä»£ç ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5758fd23bc074d178cbedc76b08c1ce0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=GyJyq%2FlgwNMOubKAOpfQ6LkjqU0%3D" alt="Nathan.png" loading="lazy"/></p>
<p><strong>æ•°æ®å»ºæ¨¡åœºæ™¯ï¼ˆOrin æ•°æ®å»ºæ¨¡å¸ˆï¼‰</strong></p>
<p>åœ¨æ­å»ºå†…éƒ¨ç³»ç»Ÿï¼ˆCRMã€å·¥å•ã€åº“å­˜ã€é¡¹ç›®ç®¡ç†ç­‰ï¼‰çš„æ•°æ®æ¨¡å‹æ—¶ï¼ŒAI å‘˜å·¥èƒ½å¤Ÿå¸®åŠ©ä½ åˆ›å»ºæˆ–ä¿®æ”¹æ•°æ®è¡¨ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cb964ccf67d488d8b09a0784fcb1314~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=9ydsuJ3JE3CLyJdbszQsHoPd0qg%3D" alt="Orin.png" loading="lazy"/></p>
<h3 data-id="heading-1">NO.4 budibase</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e162f87606344c8b9de5b05117e89c2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=5HXN1thccXww9tl1qh4fqZAg%2BVc%3D" alt="budibase.png" loading="lazy"/></p>













































<table><thead><tr><th>GitHub åœ°å€</th><th><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FBudibase%2Fbudibase" target="_blank" title="https://github.com/Budibase/budibase" ref="nofollow noopener noreferrer">github.com/Budibase/buâ€¦</a></th></tr></thead><tbody><tr><td>å®˜ç½‘</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fbudibase.com%2F" target="_blank" title="https://budibase.com/" ref="nofollow noopener noreferrer">budibase.com/</a></td></tr><tr><td>å¼€æºåè®®</td><td>GPL-v3</td></tr><tr><td>GitHub Star æ•°</td><td>27.4k</td></tr><tr><td>GitHub Fork æ•°</td><td>2k</td></tr><tr><td>GitHub Issue æ•°</td><td>294</td></tr><tr><td>GitHub Pull Request æ•°</td><td>12</td></tr><tr><td>GitHub Contributor æ•°</td><td>112</td></tr><tr><td>GitHub æœ€è¿‘ä¸€æ¬¡æ›´æ–°æ—¶é—´</td><td>å½“å¤©</td></tr><tr><td>ç›¸å…³æ–‡æ¡£é“¾æ¥</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.budibase.com%2Fdocs%2Fquickstart-budibase-ai" target="_blank" title="https://docs.budibase.com/docs/quickstart-budibase-ai" ref="nofollow noopener noreferrer">docs.budibase.com/docs/quicksâ€¦</a></td></tr></tbody></table>
<p><strong>å·¥å…·ä»‹ç»</strong></p>
<p>Budibase æ˜¯ä¸€ä¸ªå¼€æºä½ä»£ç å†…éƒ¨å·¥å…·å¹³å°ï¼Œå®ƒæä¾›æ•°æ®åº“è¿æ¥ã€å¤šç§æ•°æ®æºæ”¯æŒã€æ‹–æ‹½ UI æ„å»ºã€è‡ªåŠ¨ç”Ÿæˆ CRUD ç•Œé¢ä¸å·¥ä½œæµåŠŸèƒ½ï¼Œé€‚åˆå¿«é€Ÿæ­å»ºä¼ä¸šåå°ã€å®¡æ‰¹ç³»ç»Ÿã€è¡¨å•ï¼ç®¡ç†é¢æ¿ç­‰ä¸šåŠ¡ç³»ç»Ÿã€‚å…¶å†…ç½®æ•°æ®åº“ + REST API è¿æ¥èƒ½åŠ› + å¯è§†åŒ–ç•Œé¢æ„å»ºï¼Œä½¿å¾—å³ä¾¿æ²¡æœ‰æ·±åº¦å‰ç«¯ç»éªŒï¼Œä¹Ÿèƒ½æ„å»ºåŠŸèƒ½å®Œå¤‡çš„å†…éƒ¨åº”ç”¨ã€‚</p>
<p>Budibase å·²å°† AI èƒ½åŠ›æ•´åˆä¸ºå…¶å¹³å°å†…ç½®åŠŸèƒ½ä¹‹ä¸€ã€‚é€šè¿‡å¯ç”¨ Budibase AIï¼Œç”¨æˆ·å¯ä»¥ä¸ºè¡¨æ ¼æ·»åŠ  AI Columnï¼Œç”¨è‡ªç„¶è¯­è¨€ç”Ÿæˆ JavaScript é€»è¾‘ï¼Œä¸ºæ•°æ®åº“è‡ªåŠ¨ç”Ÿæˆè¡¨ç»“æ„ï¼Œè¿˜å¯é€šè¿‡ AI è‡ªåŠ¨åŒ–åŠ¨ä½œè‡ªåŠ¨å¤„ç†æ–‡æœ¬ã€åˆ†ç±»ã€æ¸…æ´—ã€ç”Ÿæˆæ•°æ®ç­‰ã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<p><strong>æ™ºèƒ½æ•°æ®æ¸…æ´—ä¸å†…å®¹æ•´ç†</strong> ä½¿ç”¨ AI Column è‡ªåŠ¨æ¸…æ´—æˆ–è§„èŒƒæ•°æ®ï¼Œå¯é€‚ç”¨äºå®¢æˆ·åé¦ˆç®¡ç†ã€å†…å®¹å®¡æ ¸ã€å·¥å•å¤„ç†ç­‰åœºæ™¯ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0adf18f03914428b8f37287e080d9d07~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=eZEIrdzCsNqujh0iI%2ByW8VkygO8%3D" alt="AI Column.png" loading="lazy"/></p>
<p><strong>è‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“è¡¨ç»“æ„</strong> å½“ä½ éœ€è¦å¿«é€Ÿæ­å»ºæ–°çš„ä¸šåŠ¡æ¨¡å—ï¼Œæ¯”å¦‚å®¢æˆ·ç®¡ç†ã€åˆåŒç³»ç»Ÿæˆ–ä»»åŠ¡ç®¡ç†ç³»ç»Ÿæ—¶ï¼Œå¯ä»¥é€šè¿‡ Budibase AI ä¸€å¥è¯ç”Ÿæˆåˆé€‚çš„æ•°æ®è¡¨ç»“æ„å’Œç¤ºä¾‹æ•°æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/143b67fc4b614a298be94c09c6d8aecc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=KMU%2FORs9n1iUxZRQeuXuOrbJhdU%3D" alt="æ•°æ®åº“è¡¨ç»“æ„.png" loading="lazy"/></p>
<h3 data-id="heading-2">NO.3 Refine</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6607a2349f2840eeaa42850146840c3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=JyIfmC78LaxP2nlGyswSxK%2B5B3I%3D" alt="refine-dvhndk.png" loading="lazy"/></p>













































<table><thead><tr><th>GitHub åœ°å€</th><th><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Frefinedev%2Frefine" target="_blank" title="https://github.com/refinedev/refine" ref="nofollow noopener noreferrer">github.com/refinedev/râ€¦</a></th></tr></thead><tbody><tr><td>å®˜ç½‘</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Frefine.dev%2F" target="_blank" title="https://refine.dev/" ref="nofollow noopener noreferrer">refine.dev/</a></td></tr><tr><td>å¼€æºåè®®</td><td>MIT</td></tr><tr><td>GitHub Star æ•°</td><td>33.5k</td></tr><tr><td>GitHub Fork æ•°</td><td>2.9k</td></tr><tr><td>GitHub Issue æ•°</td><td>17</td></tr><tr><td>GitHub Pull Request æ•°</td><td>11</td></tr><tr><td>GitHub Contributor æ•°</td><td>311</td></tr><tr><td>GitHub æœ€è¿‘ä¸€æ¬¡æ›´æ–°æ—¶é—´</td><td>2å¤©å‰</td></tr><tr><td>ç›¸å…³æ–‡æ¡£é“¾æ¥</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fai.refine.dev%2F" target="_blank" title="https://ai.refine.dev/" ref="nofollow noopener noreferrer">ai.refine.dev/</a></td></tr></tbody></table>
<p><strong>å·¥å…·ä»‹ç»</strong></p>
<p>Refine æ˜¯ä¸€ä¸ªå¼€æºçš„ React å…ƒæ¡†æ¶ï¼ˆmeta-frameworkï¼‰ï¼Œä¸“ä¸º CRUD å¯†é›†å‹ Web åº”ç”¨ã€ä¼ä¸šåå°ã€ç®¡ç†é¢æ¿ã€Dashboard å’Œ B2B å†…éƒ¨å·¥å…·è®¾è®¡ã€‚</p>
<p>Refine æ¨å‡ºäº† Refine AI â€”â€” å°† AI èƒ½åŠ›åµŒå…¥åˆ°å†…éƒ¨å·¥å…·åˆ›å»ºæµç¨‹ä¸­ã€‚é€šè¿‡ Refine AIï¼Œå¼€å‘è€…å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æˆ–æ–‡æ¡£ï¼API è§„èŒƒä½œä¸ºè¾“å…¥ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåŸºç¡€çš„ã€ç”Ÿäº§çº§è´¨é‡çš„ React åº”ç”¨ç»“æ„ï¼ˆåŒ…æ‹¬ CRUD é¡µé¢ã€è·¯ç”±ã€é‰´æƒã€çŠ¶æ€ç®¡ç†ã€æ•°æ®è¯·æ±‚ç­‰ï¼‰ï¼Œè¾“å‡ºçº¯ React ä»£ç ï¼Œæ–¹ä¾¿è¿›ä¸€æ­¥å®šåˆ¶å’Œå¼€å‘ã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<p><strong>åå°ç®¡ç†ç³»ç»Ÿç”Ÿæˆ</strong></p>
<p>Refine AI èƒ½æ ¹æ® API æˆ–æ•°æ®æ¨¡å‹è‡ªåŠ¨ç”Ÿæˆå¸¦åˆ—è¡¨é¡µã€è¡¨å•é¡µã€è¯¦æƒ…é¡µçš„ CRUD ç®¡ç†ç•Œé¢ï¼Œé€‚åˆåº“å­˜ç®¡ç†ã€è®¢å•ç®¡ç†ã€é¡¹ç›®ç®¡ç†ç­‰å†…éƒ¨ç³»ç»Ÿçš„å¿«é€Ÿèµ·æ­¥ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a919def83ef471284fbded1e17e83de~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=sJtHDDVn%2BzPTa8%2F4T4zhOgomwng%3D" alt="åå°ç®¡ç†ç³»ç»Ÿç”Ÿæˆ-3eh30p.png" loading="lazy"/></p>
<p><strong>ä»£ç é‡æ„ä¸ç»´æŠ¤</strong></p>
<p>Refine AI çš„ç”Ÿæˆæœºåˆ¶ä¸ä»…é€‚åˆæ–°é¡¹ç›®ï¼Œä¹Ÿå¯ä»¥ç”¨åœ¨å·²æœ‰é¡¹ç›®ä¸Šã€‚ç”±äºå…¶ç”Ÿæˆä»£ç éµå¾ªä¼ä¸šçº§ç»“æ„ä¸æœ€ä½³å®è·µï¼Œå®ƒèƒ½å¸®åŠ©å¼€å‘è€…å¯¹æ—§ç³»ç»Ÿè¿›è¡Œæ¨¡å—åŒ–é‡æ„ï¼Œæˆ–è€…åœ¨ç°æœ‰ç³»ç»ŸåŸºç¡€ä¸Šå¿«é€Ÿæ–°å¢æ–°çš„ä¸šåŠ¡æ¨¡å—ï¼Œä»è€Œå…¼é¡¾æ•ˆç‡ä¸å¯ç»´æŠ¤æ€§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38277800ed2847df9bc13570ba5c5294~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=lTbwjvCb%2BqRGyKELAPXBiUy42bo%3D" alt="ä»£ç é‡æ„ä¸ç»´æŠ¤.png" loading="lazy"/></p>
<p>ğŸ’¡æ¨èé˜…è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fnocobase-vs-refine" target="_blank" title="https://www.nocobase.com/cn/blog/nocobase-vs-refine" ref="nofollow noopener noreferrer">å¼€æº CRUD å¼€å‘å·¥å…·ï¼šNocoBase ä¸ Refine å¯¹æ¯” </a></p>
<h3 data-id="heading-3">NO.2 ToolJet</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc017e36bd21437e9ee87e4e8214be68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=vrK3MLxaSEUDHm8Hm1VYi4Pz2mc%3D" alt="ToolJet.png" loading="lazy"/></p>













































<table><thead><tr><th>GitHub åœ°å€</th><th><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FToolJet%2FToolJet" target="_blank" title="https://github.com/ToolJet/ToolJet" ref="nofollow noopener noreferrer">github.com/ToolJet/Tooâ€¦</a></th></tr></thead><tbody><tr><td>å®˜ç½‘</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Ftooljet.ai%2F" target="_blank" title="https://tooljet.ai/" ref="nofollow noopener noreferrer">tooljet.ai/</a></td></tr><tr><td>å¼€æºåè®®</td><td>AGPL-3.0</td></tr><tr><td>GitHub Star æ•°</td><td>37k</td></tr><tr><td>GitHub Fork æ•°</td><td>4.9k</td></tr><tr><td>GitHub Issue æ•°</td><td>646</td></tr><tr><td>GitHub Pull Request æ•°</td><td>313</td></tr><tr><td>GitHub Contributor æ•°</td><td>651</td></tr><tr><td>GitHub æœ€è¿‘ä¸€æ¬¡æ›´æ–°æ—¶é—´</td><td>ä¸€å¤©å‰</td></tr><tr><td>ç›¸å…³æ–‡æ¡£é“¾æ¥</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.tooljet.com%2Fdocs%2Fbuild-with-ai%2Foverview" target="_blank" title="https://docs.tooljet.com/docs/build-with-ai/overview" ref="nofollow noopener noreferrer">docs.tooljet.com/docs/build-â€¦</a></td></tr></tbody></table>
<p><strong>å·¥å…·ä»‹ç»</strong></p>
<p>ToolJet æ˜¯ä¸€ä¸ªå¼€æºã€ä½ä»£ç  + AI-native å¹³å°ï¼Œç”¨äºå¿«é€Ÿæ„å»ºä¼ä¸šå†…éƒ¨å·¥å…·ã€ä»ªè¡¨ç›˜ã€åå°ç®¡ç†ç³»ç»ŸåŠä¸šåŠ¡åº”ç”¨ã€‚å®ƒæä¾›æ‹–æ‹½å¼å¯è§†åŒ–ç•Œé¢æ„å»ºå™¨ã€å†…ç½®æ•°æ®åº“ã€å¤šç§æ•°æ®æºï¼APIï¼SaaS é›†æˆèƒ½åŠ›ã€ä»¥åŠæƒé™ä¸åä½œæœºåˆ¶ï¼Œé€‚åˆå¸Œæœ›å¿«é€Ÿäº¤ä»˜å†…éƒ¨ç³»ç»Ÿçš„å›¢é˜Ÿã€‚</p>
<p>åœ¨ ToolJet ä¸­ï¼ŒAI èåˆåˆ°å¹³å°æ„å»ºæµç¨‹é‡Œã€‚ä½ å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€æè¿°æƒ³è¦çš„åº”ç”¨ï¼ŒToolJet ä¼šè‡ªåŠ¨ç”Ÿæˆåˆæ­¥çš„ UIã€æ•°æ®ç»“æ„ä¸æŸ¥è¯¢é€»è¾‘ã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<p><strong>é€šè¿‡è‡ªç„¶è¯­è¨€å¿«é€Ÿç”Ÿæˆä¸šåŠ¡åº”ç”¨</strong></p>
<p>ToolJet æ”¯æŒä½¿ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚æ¥æ„å»ºå†…éƒ¨å·¥å…·ï¼Œå¯ä»¥ä»é›¶å¼€å§‹ç”Ÿæˆåº”ç”¨ç•Œé¢ã€æ•°æ®ç»“æ„å’Œé€»è¾‘ï¼Œä¹Ÿå¯ä»¥å¯¹ç°æœ‰åº”ç”¨è¿›è¡Œè°ƒæ•´æˆ–æ‰©å±•ã€‚è¿™ä½¿å›¢é˜Ÿèƒ½å¤Ÿåœ¨çŸ­æ—¶é—´å†…ç”Ÿæˆå¦‚åº“å­˜ç®¡ç†ç­‰å¸¸è§å†…éƒ¨ç³»ç»Ÿï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2c5c4ea34634abc93a91358f773fe43~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=MPjQ8gJ3bk2nruDNMNo0sw8qQB0%3D" alt="è‡ªç„¶è¯­è¨€å¿«é€Ÿç”Ÿæˆ.png" loading="lazy"/></p>
<p><strong>AI æ–‡æ¡£åŠ©æ‰‹åŠ é€Ÿæ„å»º</strong></p>
<p>ToolJet å†…ç½®ä¸€ä¸ª AI æ–‡æ¡£åŠ©æ‰‹ï¼Œå¯ä»¥å›ç­”å…³äºç»„ä»¶ã€åŠŸèƒ½ã€é›†æˆæ–¹å¼ç­‰å¹³å°ç›¸å…³çš„é—®é¢˜ï¼Œå¸®åŠ©ä½¿ç”¨è€…æ›´å¿«ç†è§£å¹¶å®Œæˆæ„å»ºä»»åŠ¡ã€‚å¯¹äºä¸ç†Ÿæ‚‰ ToolJet æˆ–ç¼ºä¹å‰ç«¯ç»éªŒçš„å›¢é˜Ÿï¼Œæ–‡æ¡£åŠ©æ‰‹èƒ½å¤Ÿæ˜¾è‘—é™ä½å­¦ä¹ æˆæœ¬å¹¶æå‡æ­å»ºé€Ÿåº¦ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9c2c28f46a4a43e084985ff54cacc8c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=rMvmPmBtekQ2cSW69yv%2BXuiOtR0%3D" alt="AI æ–‡æ¡£åŠ©æ‰‹.png" loading="lazy"/></p>
<h3 data-id="heading-4">NO.1 appsmith</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eaf926fea565476cbe18d41e14582cb9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=0zn96onbAEjpBQAVJlq57mkaxTI%3D" alt="appsmith-of0467.png" loading="lazy"/></p>













































<table><thead><tr><th>GitHub åœ°å€</th><th><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fappsmithorg%2Fappsmith" target="_blank" title="https://github.com/appsmithorg/appsmith" ref="nofollow noopener noreferrer">github.com/appsmithorgâ€¦</a></th></tr></thead><tbody><tr><td>å®˜ç½‘</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.appsmith.com%2F" target="_blank" title="https://www.appsmith.com/" ref="nofollow noopener noreferrer">www.appsmith.com/</a></td></tr><tr><td>å¼€æºåè®®</td><td>Apache-2.0</td></tr><tr><td>GitHub Star æ•°</td><td>38.6k</td></tr><tr><td>GitHub Fork æ•°</td><td>4.4k</td></tr><tr><td>GitHub Issue æ•°</td><td>4.4k</td></tr><tr><td>GitHub Pull Request æ•°</td><td>38</td></tr><tr><td>GitHub Contributor æ•°</td><td>335</td></tr><tr><td>GitHub æœ€è¿‘ä¸€æ¬¡æ›´æ–°æ—¶é—´</td><td>ä¸€å¤©å‰</td></tr><tr><td>ç›¸å…³æ–‡æ¡£é“¾æ¥</td><td><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.appsmith.com%2Fai%2Flow-code" target="_blank" title="https://www.appsmith.com/ai/low-code" ref="nofollow noopener noreferrer">www.appsmith.com/ai/low-code</a></td></tr></tbody></table>
<p><strong>å·¥å…·ä»‹ç»</strong></p>
<p>Appsmith æ˜¯ä¸€ä¸ªå¼€æºä½ä»£ç å¹³å°ï¼Œæ—¨åœ¨å¸®åŠ©å›¢é˜Ÿä»¥æ›´å°‘ä»£ç ã€æ›´å¿«é€Ÿåº¦æ„å»ºå†…éƒ¨ä¸šåŠ¡åº”ç”¨ã€‚å®ƒæ”¯æŒè¿æ¥å¤šç§æ•°æ®åº“æˆ– APIï¼Œæä¾›ä¸°å¯Œçš„å¯è§†åŒ– UI ç»„ä»¶ï¼Œå¹¶å…è®¸å¼€å‘è€…é€šè¿‡ JavaScript æ·»åŠ è‡ªå®šä¹‰é€»è¾‘ï¼Œä»è€Œçµæ´»æ„å»ºç®¡ç†åå°ã€æ•°æ®é¢æ¿ã€å®¡æ‰¹ç³»ç»Ÿã€CRMã€ä»ªè¡¨ç›˜ç­‰ã€‚</p>
<p>æœ€æ–°ç‰ˆæœ¬ä¸­ï¼ŒAppsmith åŠ å…¥äº† AI èƒ½åŠ› â€”â€” ä½ å¯ä»¥å°†å¤šç§ä¸»æµ LLMï¼ˆå¦‚ OpenAIã€Google AIã€Anthropic ç­‰ï¼‰æ¥å…¥é¡¹ç›®ï¼Œé€šè¿‡ AI actions å®ç°æ–‡æœ¬åˆ†æã€æ‘˜è¦ã€è¯­ä¹‰æœç´¢ä»¥åŠæ–‡æœ¬æˆ–å›¾åƒåˆ†ç±»ç­‰åŠŸèƒ½ã€‚</p>
<p><strong>é€‚ç”¨åœºæ™¯</strong></p>
<p><strong>å€ŸåŠ© AI æå‡æ„å»ºé€Ÿåº¦</strong></p>
<p>åœ¨ Appsmith ä¸­ï¼ŒAI å¯ä»¥åœ¨åº”ç”¨æ„å»ºçš„å„ä¸ªé˜¶æ®µæä¾›ä¸Šä¸‹æ–‡å¸®åŠ©ï¼ŒåŒ…æ‹¬æ“ä½œæŒ‡å¼•ã€å¹³å°èƒ½åŠ›è§£é‡Šã€æŸ¥è¯¢ç¼–å†™æ”¯æŒã€JavaScript é€»è¾‘å»ºè®®ä»¥åŠç•Œé¢å®šåˆ¶æç¤ºã€‚å¼€å‘è€…åœ¨æ„å»ºå†…éƒ¨å·¥å…·æ—¶ï¼Œé€šè¿‡ä¾§è¾¹çš„å¸®åŠ©å…¥å£å³å¯è°ƒå‡º Appyï¼Œåœ¨å½“å‰é¡µé¢ç›´æ¥è·å–ç›¸å…³ååŠ©ï¼Œä»è€Œå‡å°‘æŸ¥æ–‡æ¡£å’Œè¯•é”™æˆæœ¬ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e15b948a191494f99514f1dcc0e6f16~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=649qdS1hcQeGGbga8xopsmXxkYc%3D" alt="å€ŸåŠ© AI æå‡æ„å»ºé€Ÿåº¦.png" loading="lazy"/></p>
<p><strong>åœ¨å†…éƒ¨åº”ç”¨ä¸­æ•´åˆ AI èƒ½åŠ›</strong></p>
<p>ä¾‹å¦‚ï¼Œé€šè¿‡ Appsmith çš„æ•°æ®æºã€UI ç»„ä»¶å’Œ Appsmith AIï¼Œå›¢é˜Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªç”¨äºåˆ†æå®¢æˆ·è¯„ä»·çš„åº”ç”¨ï¼Œå¹¶åˆ©ç”¨æƒ…æ„Ÿåˆ†ç±»å¸®åŠ©å®¢æœäººå‘˜æ›´å¿«è¯†åˆ«è´Ÿé¢è¯„è®ºï¼Œä¼˜å…ˆå¤„ç†å…³é”®é—®é¢˜ã€‚ä»æ•°æ®åº“æŸ¥è¯¢è¯„ä»·å†…å®¹ã€ä½¿ç”¨è¡¨æ ¼ç»„ä»¶å±•ç¤ºæ•°æ®ã€æ¥å…¥ Appsmith AI datasource æ‰§è¡Œæƒ…æ„Ÿåˆ†ç±»ï¼Œä»¥åŠé€šè¿‡ JS Object å°†åˆ†ç±»ç»“æœå›å†™åˆ°ç•Œé¢ä¸­ï¼Œä»è€Œå½¢æˆä¸€ä¸ªå¯äº¤äº’çš„ AI å¢å¼ºå‹å†…éƒ¨å·¥å…·ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bf17a490bdc401aa274444d9da398e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTm9jb0Jhc2U=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765552982&amp;x-signature=XmcSgTxz26GIb0wplqjVS6e9mlY%3D" alt="æ•´åˆ AI èƒ½åŠ›.png" loading="lazy"/></p>
<p>ğŸ’¡æ¨èé˜…è¯»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fnocobase-vs-appsmith" target="_blank" title="https://www.nocobase.com/cn/blog/nocobase-vs-appsmith" ref="nofollow noopener noreferrer">NocoBase ä¸ Appsmithï¼šå“ªä¸ªå¼€æºä½ä»£ç å¹³å°æ›´é€‚åˆä½ ï¼Ÿ</a></p>
<p>å¦å¤–ï¼Œé™¤äº†ä¸Šè¿°äº”æ¬¾é«˜æ˜Ÿçš„ä¸»æµé¡¹ç›®ï¼Œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYaoApp%2Fyao" target="_blank" title="https://github.com/YaoApp/yao" ref="nofollow noopener noreferrer">Yao</a> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fillacloud%2Filla-builder" target="_blank" title="https://github.com/illacloud/illa-builder" ref="nofollow noopener noreferrer">ILLA Builder </a>è¿™ç±»å¼€æºå·¥å…·ä¹ŸåŒæ ·å…·å¤‡ä¸é”™çš„ç¤¾åŒºæ´»è·ƒåº¦ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYaoApp%2Fyao" target="_blank" title="https://github.com/YaoApp/yao" ref="nofollow noopener noreferrer">Yao</a> ä»¥å…¨æ ˆåº”ç”¨å¼•æ“çš„æ–¹å¼ï¼Œä¸ºå†…éƒ¨ç³»ç»Ÿæä¾›æ¨¡å‹ã€æµç¨‹ä¸ API çš„å¿«é€Ÿæ„å»ºèƒ½åŠ›ï¼›<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fillacloud%2Filla-builder" target="_blank" title="https://github.com/illacloud/illa-builder" ref="nofollow noopener noreferrer">ILLA Builder</a> åˆ™é¢å‘å¯è§†åŒ–ç•Œé¢æ­å»ºï¼Œé€‚åˆåœ¨è¾ƒçŸ­æ—¶é—´å†…å®Œæˆåå°é¢æ¿å’Œæ•°æ®å·¥å…·çš„æ­å»ºã€‚å®ƒä»¬åŒæ ·æä¾›äº†åŸºç¡€çš„ AI æ‰©å±•èƒ½åŠ›ï¼Œå¯ä»¥ä½œä¸ºå›¢é˜Ÿåœ¨æ„å»ºå†…éƒ¨å·¥å…·æ—¶çš„è¡¥å……é€‰æ‹©ã€‚</p>
<h3 data-id="heading-5"><strong>ç»“è¯­</strong></h3>
<p>é€‰æ‹©å†…éƒ¨å·¥å…·æ—¶ï¼Œå»ºè®®å¯ä»¥ä»å¤šä¸ªç»´åº¦è¿›è¡Œç»¼åˆè¯„ä¼°ï¼Œä¾‹å¦‚ï¼š</p>
<ol>
<li>AI åŠŸèƒ½çš„æˆç†Ÿåº¦ï¼ŒåŒ…æ‹¬æ˜¯å¦å…·å¤‡é¡µé¢ç”Ÿæˆã€SQL æˆ–ä¸šåŠ¡é€»è¾‘ç”Ÿæˆã€å›¾è¡¨ç”Ÿæˆã€æ™ºèƒ½åŠ©æ‰‹ç­‰èƒ½åŠ›ï¼›</li>
<li>ç”Ÿæ€æ´»è·ƒåº¦ï¼Œå¦‚ Starã€Issueã€Commit ä¸æ–‡æ¡£æ›´æ–°é¢‘ç‡ï¼Œéƒ½èƒ½åæ˜ é¡¹ç›®çš„å¯é æ€§å’Œå¯æŒç»­æ€§ï¼›</li>
<li>è‡ªæ‰˜ç®¡èƒ½åŠ›ä¸å®‰å…¨æ€§ï¼Œå½±å“ä¼ä¸šå†…éƒ¨éƒ¨ç½²å’Œæ•°æ®åˆè§„ï¼›</li>
<li>å¯æ‰©å±•æ€§ä¸äºŒæ¬¡å¼€å‘éš¾åº¦ï¼Œç›´æ¥å…³ç³»åˆ°æœªæ¥ä¸šåŠ¡æŒç»­è¿­ä»£çš„æˆæœ¬ã€‚</li>
</ol>
<p>å¸Œæœ›æœ¬æ–‡çš„æ•´ç†èƒ½å¤Ÿä¸ºä½ åœ¨è‡ªå»ºå†…éƒ¨å·¥å…·æ—¶æä¾›å¯å‚è€ƒçš„æŠ€æœ¯åˆ¤æ–­ä¸é€‰å‹ä¾æ®ã€‚</p>
<p>éšç€ç”Ÿæˆå¼ AI çš„ä¸æ–­æ¼”è¿›ï¼Œè¿™äº›å¼€æºé¡¹ç›®ä¹Ÿä¼šæŒç»­æ›´æ–°è¿­ä»£ï¼Œæ–°çš„èƒ½åŠ›ä¹Ÿä¼šä¸æ–­æ¶Œç°ã€‚</p>
<p>æœŸå¾…è¿™äº›å·¥å…·èƒ½å¸®åŠ©ä½ çš„å›¢é˜Ÿåœ¨æœªæ¥æ„å»ºæ›´é«˜æ•ˆã€æ›´æ™ºèƒ½çš„å†…éƒ¨ç³»ç»Ÿã€‚</p>
<p>ç›¸å…³é˜…è¯»ï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fthe-8-best-google-sheets-alternatives-with-full-cost-and-capability-analysis" target="_blank" title="https://www.nocobase.com/cn/blog/the-8-best-google-sheets-alternatives-with-full-cost-and-capability-analysis" ref="nofollow noopener noreferrer">8 ä¸ªæœ€ä½³ Google Sheets æ›¿ä»£æ–¹æ¡ˆï¼ˆé™„æˆæœ¬ä¸èƒ½åŠ›åˆ†æï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2F6-open-source-no-low-code-tools-for-building-pocs" target="_blank" title="https://www.nocobase.com/cn/blog/6-open-source-no-low-code-tools-for-building-pocs" ref="nofollow noopener noreferrer">6ä¸ªé€‚åˆåš PoC çš„å¼€æºæ— ä»£ç /ä½ä»£ç å·¥å…·æ¨è </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fa-developers-technical-decision-guide-to-no-code-and-low-code" target="_blank" title="https://www.nocobase.com/cn/blog/a-developers-technical-decision-guide-to-no-code-and-low-code" ref="nofollow noopener noreferrer">ç»™å¼€å‘è€…çš„æ— ä»£ç /ä½ä»£ç æŠ€æœ¯å†³ç­–æŒ‡å—ï¼ˆ2026ï¼‰</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2F6-in-depth-comparison-rbac-no-code-low-code-platforms" target="_blank" title="https://www.nocobase.com/cn/blog/6-in-depth-comparison-rbac-no-code-low-code-platforms" ref="nofollow noopener noreferrer">6 å¤§ä¼ä¸šçº§æ— ä»£ç ä½ä»£ç å¹³å° RBAC æƒé™ä½“ç³»æ·±åº¦å¯¹æ¯”</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2F14-ai-low-code-platforms-github" target="_blank" title="https://www.nocobase.com/cn/blog/14-ai-low-code-platforms-github" ref="nofollow noopener noreferrer">GitHub ä¸Šæœ€å€¼å¾—å…³æ³¨çš„ 14 ä¸ªå¼€æº AI ä½ä»£ç å·¥å…· </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Ftop-11-github-open-source-no-code-ai-tools" target="_blank" title="https://www.nocobase.com/cn/blog/top-11-github-open-source-no-code-ai-tools" ref="nofollow noopener noreferrer">11 ä¸ªåœ¨ GitHub ä¸Šæœ€å—æ¬¢è¿çš„å¼€æºæ— ä»£ç  AI å·¥å…· </a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.nocobase.com%2Fcn%2Fblog%2Fgithub-open-source-ai-agent-projects" target="_blank" title="https://www.nocobase.com/cn/blog/github-open-source-ai-agent-projects" ref="nofollow noopener noreferrer">GitHub ä¸Š Star æ•°é‡å‰ 18 çš„å¼€æº AI Agent é¡¹ç›®</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» Oracle åˆ° KingbaseESï¼šç ´è§£è¿ç§»ç—›ç‚¹ï¼Œè§£é”ä¿¡åˆ›æ—¶ä»£æ•°æ®åº“æ–°å¯èƒ½]]></title>    <link>https://juejin.cn/post/7580203347702300687</link>    <guid>https://juejin.cn/post/7580203347702300687</guid>    <pubDate>2025-12-05T15:24:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580203347702300687" data-draft-id="7579995747171549219" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» Oracle åˆ° KingbaseESï¼šç ´è§£è¿ç§»ç—›ç‚¹ï¼Œè§£é”ä¿¡åˆ›æ—¶ä»£æ•°æ®åº“æ–°å¯èƒ½"/> <meta itemprop="keywords" content="æ•°æ®åº“"/> <meta itemprop="datePublished" content="2025-12-05T15:24:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å€”å¼ºçš„çŸ³å¤´_"/> <meta itemprop="url" content="https://juejin.cn/user/3168119757484368"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» Oracle åˆ° KingbaseESï¼šç ´è§£è¿ç§»ç—›ç‚¹ï¼Œè§£é”ä¿¡åˆ›æ—¶ä»£æ•°æ®åº“æ–°å¯èƒ½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3168119757484368/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å€”å¼ºçš„çŸ³å¤´_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:24:21.000Z" title="Fri Dec 05 2025 15:24:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»10åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æèµ· Oracleï¼Œå®ƒåœ¨ä¼ ç»Ÿæ•°æ®åº“é¢†åŸŸå¯æ˜¯æ ‡æ†èˆ¬çš„å­˜åœ¨ï¼Œé•¿ä¹…ä»¥æ¥ä¸€ç›´æ’‘èµ·äº†ä¼—å¤šä¼ä¸šçš„æ ¸å¿ƒä¸šåŠ¡ï¼Œå¯è¿™ä¸¤å¹´æƒ…å½¢å‘ç”Ÿäº†æ”¹å˜ï¼ŒOracleçš„æˆæƒè´¹ç”¨å¾ˆé«˜ï¼Œè¿ç»´æˆæœ¬åˆè®©äººå¤´ç–¼ï¼Œå†åŠ ä¸Šä¿¡åˆ›æ”¿ç­–å¯¹äºåˆè§„æœ‰ç€å¼ºç¡¬çš„è¦æ±‚ï¼Œäºæ˜¯å¾ˆå¤šä¼ä¸šä¾¿å¼€å§‹æŠŠç›®å…‰è½¬å‘å›½äº§æ•°æ®åº“ã€‚é‡‘ä»“æ•°æ®åº“ KingbaseES æ˜¯å›½äº§æ•°æ®åº“ä¸­çš„ä½¼ä½¼è€…ï¼Œå‡­å€Ÿå…¶é«˜é€‚é…æ€§å’Œé«˜æ€§èƒ½çš„åŸºç¡€ï¼Œæˆäº†äººä»¬æ›´æ¢ Oracle çš„é¦–è¦é€‰æ‹©ï¼Œä¸è¿‡è¦å‘Šè¯‰å¤§å®¶çš„æ˜¯ï¼Œè¿ç§»ä¹‹è·¯å¹¶éæ˜“èµ°ï¼Œâ€œæŠ¥é”™â€é¢‘ç¹å‡ºç°ï¼Œå­˜åœ¨é€‚é…æ€§éšœç¢ï¼Œæˆæœ¬éš¾ä»¥æ§åˆ¶ä½â€¦â€¦è¿™äº›éš¾ç‚¹çœŸçœŸåˆ‡åˆ‡åœ°æˆä¸ºäº†ä¼ä¸šåœ¨æ‰§è¡Œè¿ç§»æ—¶ç¢°ä¸Šçš„â€œç»Šè„šçŸ³â€ï¼Œå¦‚ä»Šï¼Œæˆ‘ä»¬å°±ä¾ç…§ä» Oracle å‘ KingbaseES è¿ç§»çš„å®é™…æ“ä½œç»éªŒï¼Œæ·±å…¥å‰–æè¿™äº›éš¾ç‚¹ï¼Œå¹¶ä¸”ç»™å‡ºä¸€äº›åˆ‡å®å¯è¡Œçš„åº”å¯¹åŠæ³•ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d16188c7e77d43b0abfc1d1e986c3519~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=%2BYJlkCNPx6YlAPwMmIfeclBlHco%3D" alt="74d8cc9b154fb989777d0027ba927176.jpg" loading="lazy"/>
@[TOC]</p>
<h2 data-id="heading-0">ä¸€ã€è¿ç§»æµªæ½®ä¸‹çš„ â€œç”œèœœçƒ¦æ¼â€ï¼šä¸ºä½• Oracle è¿ç§»åŠ¿åœ¨å¿…è¡Œå´å›°éš¾é‡é‡ï¼Ÿ</h2>
<p>éšç€ä¿¡åˆ›æ”¿ç­–ä»å½“åˆçš„â€œè¯•ç‚¹â€èµ°å‘ç°åœ¨çš„â€œå…¨é¢æ¨å¹¿â€ï¼Œä¼ä¸šé¢ä¸´ç€â€œå¿…é¡»è¿â€çš„åˆè§„å‹åŠ›ï¼›å¦ä¸€æ–¹é¢ï¼ŒOracle é€å¹´ä¸Šæ¶¨çš„ç»´ä¿è´¹ã€å°é—­çš„æŠ€æœ¯ç”Ÿæ€ï¼Œä¹Ÿè®©ä¼ä¸šèƒŒè´Ÿç€â€œä¸å¾—ä¸è¿â€çš„æˆæœ¬å‹åŠ›ã€‚æ®é‡‘ä»“æ•°æ®åº“ç¤¾åŒºçš„è°ƒç ”æ˜¾ç¤ºï¼Œè¶…è¿‡ 70% çš„ä¼ä¸šæƒ³è¿ç§»ï¼ŒèƒŒåçš„åŠ¨åŠ›æ— éå°±æ˜¯ä¸¤ä¸ªï¼šâ€œä¿¡åˆ›åˆè§„â€å’Œâ€œé™æœ¬å¢æ•ˆâ€ã€‚</p>
<p>ä½†çœŸåˆ°äº†è¿ç§»çš„æ—¶å€™ï¼Œä¼ä¸šå¾€å¾€ä¼šé™·å…¥â€œç†æƒ³å¾ˆä¸°æ»¡ï¼Œç°å®å¾ˆéª¨æ„Ÿâ€çš„å°´å°¬å¢ƒåœ°ï¼šåŸæœ¬è®¡åˆ’ 3 ä¸ªæœˆæå®šçš„é¡¹ç›®ï¼Œå› ä¸ºå„ç§å…¼å®¹æ€§æŠ¥é”™ï¼Œç¡¬æ˜¯æ‹–äº†å¤§åŠå¹´ï¼›æŠ•å…¥å¤§é‡äººåŠ›å»æ”¹ä»£ç ï¼Œç»“æœæ•°æ®è¿˜æ˜¯å¯¹ä¸ä¸Šï¼›å¥½ä¸å®¹æ˜“è¿å®Œäº†ï¼Œç³»ç»Ÿæ€§èƒ½åè€Œè¿˜ä¸å¦‚ä»¥å‰â€¦â€¦ è¿™äº›é—®é¢˜çš„æ ¸å¿ƒï¼Œéƒ½æŒ‡å‘äº†è¿ç§»è¿‡ç¨‹ä¸­ä¸‰ä¸ªç»•ä¸å¼€çš„ç—›ç‚¹ï¼šâ€œé—®é¢˜è¯â€é¢‘å‘ã€å…¼å®¹æ€§æŒ‘æˆ˜ã€è¿ç§»æˆæœ¬é«˜ä¼ã€‚</p>
<h2 data-id="heading-1">äºŒã€Oracle è¿ç§»ä¸‰å¤§æ ¸å¿ƒç—›ç‚¹æ‹†è§£ï¼šæ¯ä¸€æ­¥éƒ½æš—è— â€œç»Šè„šçŸ³â€</h2>
<h3 data-id="heading-2">ï¼ˆä¸€ï¼‰ç—›ç‚¹ 1ï¼šé«˜é¢‘ â€œé—®é¢˜è¯â€ é¢‘å‘ï¼Œè¿ç§»è·¯ä¸Šæ­¥æ­¥è¸©å‘</h3>
<p>åœ¨è¿ç§»è¿‡ç¨‹ä¸­ï¼Œå„ç§å„æ ·çš„â€œé—®é¢˜è¯â€å°±åƒâ€œæ‹¦è·¯è™â€ä¸€æ ·ï¼Œè®©æŠ€æœ¯å›¢é˜Ÿç–²äºå¥”å‘½ã€‚è¿™äº›é—®é¢˜çœ‹ç€å¥½åƒæŒºé›¶æ•£ï¼Œä½†å‡‘åœ¨ä¸€èµ·å°±èƒ½ç›´æ¥å¯¼è‡´è¿ç§»åœæ»ï¼Œç”šè‡³æå‡ºæ•°æ®å¼‚å¸¸çš„å¤§ä¹±å­ï¼Œç»å¯¹æ˜¯æ‹–æ…¢è¿›åº¦çš„å¤´å·æ€æ‰‹ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f19a109adc574ace8fe511d2f5c0443d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=qCd1QIh1PHPNWrhKTFBAhi037dg%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">ï¼ˆäºŒï¼‰ç—›ç‚¹ 2ï¼šå…¼å®¹æ€§ â€œéšå½¢å£å’â€ï¼Œä»£ç ä¸æ•°æ®éš¾é€‚é…</h3>
<p>å¼‚æ„æ•°æ®åº“è¿ç§»ï¼Œæœ€éš¾å•ƒçš„éª¨å¤´å°±æ˜¯å…¼å®¹æ€§ã€‚è™½ç„¶ KingbaseES å’Œ Oracle åœ¨æ ¸å¿ƒåŠŸèƒ½ä¸Šå·²ç»é«˜åº¦å…¼å®¹äº†ï¼Œä½†åœ¨è¯­æ³•ç»†èŠ‚ã€æ•°æ®ç±»å‹è¾¹ç¼˜åœºæ™¯ã€æ•°æ®åº“å¯¹è±¡ç‰¹æ€§è¿™äº›æ–¹é¢çš„â€œéšå½¢å·®å¼‚â€ï¼Œå¾€å¾€ä¼šæˆä¸ºå¡ä½è¿ç§»çš„å…³é”®éšœç¢ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d78c3cdabb8847e0ae5cef4be32cb484~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=A1pw%2BTyWW5lPrpgsb%2FkX8XbeQJg%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">ï¼ˆä¸‰ï¼‰ç—›ç‚¹ 3ï¼šè¿ç§»æˆæœ¬ â€œå¤±æ§â€ï¼Œæ—¶é—´ä¸èµ„æºåŒé‡å‹åŠ›</h3>
<p>Oracle è¿ç§»å¯ä¸æ˜¯ç®€å•çš„â€œæ•°æ®æ¬è¿â€ï¼Œè€Œæ˜¯ä¸€ä¸ªæ¶‰åŠè¯„ä¼°ã€å‡†å¤‡ã€è¿ç§»ã€æµ‹è¯•çš„å…¨æµç¨‹ç³»ç»Ÿå·¥ç¨‹ã€‚ä¼ä¸šç»å¸¸ä¼šé¢ä¸´â€œé¢„ç®—è¶…æ”¯ã€å·¥æœŸå»¶è¯¯â€çš„å›°å¢ƒï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c0a493b72d1341dfbe79666fbb052bfd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=kzhQErMwhxatU%2BPqTgpX9HycdUQ%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-5">ä¸‰ã€é‡‘ä»“æ•°æ®åº“çš„ â€œç ´å±€ä¹‹é“â€ï¼šä»å…¼å®¹åˆ°å·¥å…·ï¼Œå…¨æ–¹ä½åŒ–è§£è¿ç§»ç—›ç‚¹</h2>
<p>é’ˆå¯¹ Oracle è¿ç§»çš„è¿™äº›æ ¸å¿ƒç—›ç‚¹ï¼ŒKingbaseES ä»â€œå…¼å®¹æ€§å¢å¼ºã€è¿ç§»å·¥å…·é“¾ä¼˜åŒ–ã€å…¨æµç¨‹æ”¯æŒâ€è¿™ä¸‰ä¸ªç»´åº¦æ‰“é€ äº†ä¸€å¥—è§£å†³æ–¹æ¡ˆï¼Œç›®çš„å¾ˆç®€å•ï¼šè®©è¿ç§»è¿‡ç¨‹â€œé™éš¾åº¦ã€ææ•ˆç‡ã€æ§æˆæœ¬â€ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/74c2802df4d4459b978470fd45b9f6cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=j8%2FJJZ6RoxBXrYAISOosmDSpIjw%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-6">ï¼ˆä¸€ï¼‰æè‡´å…¼å®¹ï¼šæŠ¹å¹³å·®å¼‚ï¼Œå‡å°‘ä»£ç æ”¹å†™</h3>
<p>KingbaseES åœ¨æ·±åº¦ä¼˜åŒ– Oracle å…¼å®¹ç‰¹æ€§ä¸Šä¸‹äº†ç‹ åŠŸå¤«ï¼Œä»æ•°æ®ç±»å‹ã€SQL è¯­æ³•ã€PL/SQL åˆ°åº”ç”¨æ¥å£ï¼ŒåŠ›æ±‚å®ç°â€œæœ€å°æ”¹åŠ¨â€è¿ç§»ï¼š</p>
<ul>
<li><strong>å…¨é‡æ•°æ®ç±»å‹å…¼å®¹</strong>ï¼šæ”¯æŒ Oracle æ‰€æœ‰æ ¸å¿ƒæ•°æ®ç±»å‹ï¼Œç”šè‡³åŒ…æ‹¬ RECORDã€% TYPEã€å…³è”æ•°ç»„è¿™äº›å¤æ‚ç±»å‹ã€‚é€šè¿‡ <code>ora_date_style</code> å‚æ•°å°±èƒ½å…¼å®¹éæ ‡å‡†æ—¥æœŸæ ¼å¼ï¼Œè®¾ç½® <code>nls_length_semantics</code> ä¸æºåº“ä¿æŒä¸€è‡´ï¼Œå°±èƒ½é¿å… CHAR ç±»å‹å­˜å‚¨å·®å¼‚çš„é—®é¢˜ï¼›è‡³äº NUMBER ç±»å‹ï¼Œæä¾›äº†çµæ´»çš„ç±»å‹æ˜ å°„è§„åˆ™ï¼Œé€šè¿‡ KDTS å·¥å…·å°±èƒ½è‡ªåŠ¨è½¬æ¢ä¸º KingbaseES çš„ intã€numeric ç­‰ç±»å‹ã€‚</li>
<li><strong>PL/SQL è¯­æ³•å…¨è¦†ç›–</strong>ï¼šOracle PL/SQL çš„æ‰€æœ‰å¸¸ç”¨è¯­æ³•ï¼ˆåƒå¾ªç¯ã€æ¸¸æ ‡ã€å¼‚å¸¸å¤„ç†ç­‰ï¼‰åŠå¯¹è±¡ï¼ˆå­˜å‚¨è¿‡ç¨‹ã€å‡½æ•°ã€åŒ…ã€è§¦å‘å™¨ç­‰ï¼‰éƒ½æ”¯æŒï¼Œè¿˜å†…ç½®äº† DBMS_SQLã€DBMS_LOB ç­‰å¸¸ç”¨åŒ…ã€‚å¯¹äºâ€œåŒååŒå‚æ•°â€å­˜å‚¨è¿‡ç¨‹ã€æ–¹æ³•è¿ç»­è°ƒç”¨è¿™ç±»ä¸å…¼å®¹çš„æ£˜æ‰‹åœºæ™¯ï¼Œä¹Ÿæä¾›äº†æ˜ç¡®çš„æ”¹å†™æŒ‡å¼•å’Œè‡ªåŠ¨åŒ–è½¬æ¢å·¥å…·ï¼ˆKDMSï¼‰ï¼Œå¤§å¤§å‡å°‘äº†æ‰‹åŠ¨ä¿®æ”¹çš„å·¥ä½œé‡ã€‚</li>
<li><strong>åº”ç”¨æ¥å£æ— ç¼é€‚é…</strong>ï¼šODBCã€JDBCã€OCI ç­‰ä¸»æµæ¥å£å…¨æ”¯æŒï¼Œè¿˜æä¾›äº†å…¼å®¹ Oracle SQL*PLUS çš„ KSQL å·¥å…·ï¼Œä»¥åŠå…¼å®¹ SQL Developer çš„ KStudio å›¾å½¢åŒ–å·¥å…·ã€‚åº”ç”¨ç¨‹åºè¿™è¾¹ï¼ŒåŸºæœ¬åªéœ€è¦ä¿®æ”¹è¿æ¥ä¸²ã€ç”¨æˆ·åå¯†ç ç­‰å°‘é‡é…ç½®ï¼Œå°±èƒ½å¿«é€Ÿé€‚é…ã€‚å¦‚æœæ˜¯ OCI åº”ç”¨ï¼ŒKingbaseES è¿˜æœ‰ä¸“é—¨çš„ DCI æ¥å£å…¼å®¹æ–¹æ¡ˆï¼Œæ ¹æœ¬ä¸éœ€è¦å¤§è§„æ¨¡æ”¹å†™ä»£ç ã€‚</li>
</ul>
<h3 data-id="heading-7">ï¼ˆäºŒï¼‰æ™ºèƒ½å·¥å…·é“¾ï¼šç®€åŒ–æµç¨‹ï¼Œæå‡è¿ç§»æ•ˆç‡</h3>
<p>KingbaseES æä¾›äº†ä¸€æ•´å¥—å·¥å…·é“¾ï¼ŒåŒ…æ‹¬ KDTSï¼ˆæ•°æ®è¿ç§»å·¥å…·ï¼‰ã€KFSï¼ˆæ•°æ®åŒæ­¥å·¥å…·ï¼‰ç­‰ï¼Œè¦†ç›–äº†ç¦»çº¿è¿ç§»ã€åœ¨çº¿è¿ç§»ã€å¤šæ¬¡è¿ç§»ç­‰å…¨åœºæ™¯ï¼Œè®©è¿ç§»è¿‡ç¨‹å˜å¾—â€œè‡ªåŠ¨åŒ–ã€å¯è§†åŒ–ã€å¯è¿½æº¯â€ï¼š</p>
<ul>
<li>
<p><strong>KDTSï¼šä¸€ç«™å¼è¿ç§»å·¥å…·</strong>ï¼šä» Oracle 9i åˆ° 19c éƒ½èƒ½è¿åˆ° KingbaseESã€‚å®ƒæä¾› WEB å’Œ SHELL ä¸¤ç§å½¢æ€ï¼Œæƒ³æ€ä¹ˆç”¨éƒ½è¡Œã€‚é€šè¿‡å‘å¯¼å¼é…ç½®ï¼Œç‚¹å‡ ä¸‹å°±èƒ½å®Œæˆæ•°æ®æºè¿æ¥ã€è¿ç§»å¯¹è±¡é€‰æ‹©ã€å‚æ•°é…ç½®ç­‰æ“ä½œï¼›æ”¯æŒå¤§è¡¨æ‹†åˆ†ã€å¢é‡æ•°æ®è¿ç§»ã€æ•°æ®ç±»å‹è‡ªåŠ¨æ˜ å°„ã€‚é’ˆå¯¹ LOB è¿™ç§å¤§å­—æ®µï¼Œè¿˜ä¸“é—¨ä¼˜åŒ–äº†æ¸¸æ ‡æå–å‚æ•°ï¼Œé™ä½äº†è¿ç§»ä¸­æ–­çš„é£é™©ã€‚è¿å®Œä¹‹åä¼šè‡ªåŠ¨ç”ŸæˆæŠ¥å‘Šï¼ŒæˆåŠŸå¤šå°‘ã€å¤±è´¥å¤šå°‘ä¸€ç›®äº†ç„¶ï¼Œå¤±è´¥çš„è„šæœ¬è¿˜èƒ½ç›´æ¥ä¸‹è½½ä¸‹æ¥ï¼Œæ”¹å¥½åé‡æ–°æ‰§è¡Œã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a6381096866432fb55bf365480f5958~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=wP5RpqsQ3EeGAG6OXcFIHf%2F0ow8%3D" alt="image.png" loading="lazy"/></p>
</li>
<li>
<p><strong>KFSï¼šåœ¨çº¿åŒæ­¥å·¥å…·</strong>ï¼šå¦‚æœä¸šåŠ¡ä¸èƒ½åœï¼Œé‚£å°±ç”¨ KFSã€‚å®ƒå¯ä»¥å®ç° Oracle å­˜é‡æ•°æ®è¿ç§»å’Œå¢é‡æ•°æ®è¿½å¹³ã€‚é€šè¿‡ SCN å·å®šä½åŒæ­¥èµ·ç‚¹ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œè·¨ç½‘ç»œã€å¤§è§„æ¨¡æ•°æ®åŒæ­¥ä¹Ÿæ²¡é—®é¢˜ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œè¿ç§»è¿‡ç¨‹ä¸­ä¸šåŠ¡å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå¤§å¹…é™ä½äº†åœæœºæˆæœ¬ã€‚</p>
</li>
<li>
<p><strong>é…ç½®è‡ªåŠ¨åŒ–ï¼šå‡å°‘äººå·¥å¤±è¯¯</strong>ï¼šæä¾›æ ‡å‡†åŒ–çš„è¿ç§»é…ç½®æ¨¡æ¿ï¼Œèƒ½è‡ªåŠ¨è¯»å– Oracle æ•°æ®åº“ç¼–ç ã€æ—¥æœŸæ ¼å¼ç­‰å…³é”®ä¿¡æ¯ï¼Œæ™ºèƒ½æ¨è KingbaseES çš„å…¼å®¹å‚æ•°ï¼ˆæ¯”å¦‚ <code>search_path</code> æ¨¡å¼æœç´¢è·¯å¾„ã€ç”¨ <code>default_with_oids</code> æ›¿ä»£ ROWIDï¼‰ï¼Œé¿å…å› ä¸ºé…ç½®ä¸å½“å¯¼è‡´è¿ç§»å¤±è´¥ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">ï¼ˆä¸‰ï¼‰å…¨æµç¨‹æ”¯æŒï¼šé™ä½é—¨æ§›ï¼Œæ§åˆ¶è¿ç§»æˆæœ¬</h3>
<p>KingbaseES ä¸å…‰æä¾›å·¥å…·å’ŒæŠ€æœ¯ï¼Œè¿˜é€šè¿‡æ ‡å‡†åŒ–æµç¨‹å’Œä¸“ä¸šæœåŠ¡ï¼Œå¸®ä¼ä¸šæŠŠæ§ä»è¯„ä¼°åˆ°ä¸Šçº¿å…¨æµç¨‹çš„æˆæœ¬ï¼š</p>
<ul>
<li><strong>æ ‡å‡†åŒ–è¯„ä¼°æ¨¡æ¿</strong>ï¼šåœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œæä¾›æ•°æ®åº“æ¦‚å†µã€å¯¹è±¡ç»Ÿè®¡ã€çº¦æŸç»Ÿè®¡ç­‰å…¨å¥—è¯„ä¼°æ¨¡æ¿ï¼Œå¸®ä¼ä¸šå¿«é€Ÿæ¢³ç†è¿ç§»èŒƒå›´ã€éš¾åº¦å’Œå·¥ä½œé‡ï¼Œé¿å…ç›²ç›®æŠ•å…¥ã€‚æ¯”å¦‚ï¼Œé€šè¿‡æ¨¡æ¿èƒ½ç»Ÿè®¡è¡¨ã€å­˜å‚¨è¿‡ç¨‹ã€è§¦å‘å™¨ç­‰å¯¹è±¡çš„æ•°é‡ï¼Œè¯†åˆ«å‡ºå¤§è¡¨ã€LOB å­—æ®µè¿™äº›è¿ç§»éš¾ç‚¹ï¼Œæå‰åˆ¶å®šåº”å¯¹æ–¹æ¡ˆã€‚</li>
<li><strong>åˆ†é˜¶æ®µè¿ç§»ç­–ç•¥</strong>ï¼šæ”¯æŒæŒ‰â€œæ•°æ®åº“â†’ç”¨æˆ·â†’æ•°æ®â†’åº”ç”¨â€çš„é¡ºåºæœ‰åºè¿ç§»ã€‚é’ˆå¯¹å¤šæ¬¡è¿ç§»çš„åœºæ™¯ï¼Œå¯ä»¥çµæ´»é€‰æ‹©â€œåªè¿ç§»æ•°æ®â€æˆ–è€…â€œè¿ç§»ç»“æ„ + æ•°æ®â€ï¼Œé¿å…é‡å¤åŠ³åŠ¨ã€‚ä¾‹å¦‚ï¼Œé¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­éœ€è¦å®šæœŸè¿ç§»ï¼Œå°±å¯ä»¥ç”¨ KDTS çš„â€œæŒ‰æ¡ä»¶è¿ç§»â€åŠŸèƒ½ï¼ŒåªåŒæ­¥æ–°å¢æ•°æ®ï¼Œæ•ˆç‡æå‡æ æ çš„ã€‚</li>
<li><strong>æµ‹è¯•ä¸è°ƒä¼˜æ”¯æŒ</strong>ï¼šæä¾› TPCCã€LoadRunner ç­‰æ€§èƒ½æµ‹è¯•å·¥å…·çš„é€‚é…æ–¹æ¡ˆï¼Œè¿å®Œåèƒ½å¿«é€Ÿå¼€å±•åŠŸèƒ½å›å½’æµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•ï¼›é’ˆå¯¹æ€§èƒ½ç“¶é¢ˆï¼Œè¿˜ä¼šæä¾› SQL ä¼˜åŒ–ã€ç´¢å¼•è°ƒæ•´ã€å‚æ•°é…ç½®ç­‰ä¸“ä¸šå»ºè®®ï¼Œä¿éšœè¿è¿‡å»åçš„ç³»ç»Ÿæ€§èƒ½ä¸æ¯”åŸ Oracle ç¯å¢ƒå·®ã€‚</li>
</ul>
<h3 data-id="heading-9">ï¼ˆå››ï¼‰GIS ç­‰ç‰¹æ®Šåœºæ™¯è§£å†³æ–¹æ¡ˆ</h3>
<p>é’ˆå¯¹åŒ…å« GIS æ•°æ®çš„ Oracle è¿ç§»åœºæ™¯ï¼ŒKingbaseES å·²ç»é€‚é…äº† ArcGIS/GeoScene å¹³å°ï¼Œæä¾›äº†ä¸€å¥—ä¸“ç”¨çš„è¿ç§»æ–¹æ¡ˆï¼šé€šè¿‡ PostGIS æ’ä»¶æ‰©å±• GIS åŠŸèƒ½ï¼Œå…ˆè¿ç§»é GIS æ•°æ®ï¼Œå†é€šè¿‡ ArcMap å·¥å…·è¿ç§» GIS æ•°æ®å¹¶æ³¨å†Œåœ°ç†ä¿¡æ¯æ•°æ®åº“ï¼Œè§£å†³äº† SDE ç±»å‹æ•°æ®è¿ç§»ã€ç©ºé—´ç´¢å¼•å…¼å®¹ç­‰ç‰¹æ®Šéš¾é¢˜ï¼Œä¿éšœ GIS åº”ç”¨æ— ç¼è¿ç§»ã€‚</p>
<p>æºæ•°æ®åº“çš„é GIS æ•°æ®è¿è‡³ç›®æ ‡æ•°æ®åº“åï¼Œå¯ä»¥åœ¨ ArcGIS / GeoScene å¹³å°ä¸Šè¿›è¡Œ GIS æ•°æ®è¿ç§»ã€‚è¿™æ­¥åšå®Œï¼Œåç»­åº”ç”¨æ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚GIS æ•°æ®è¿ç§»çš„å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<ul>
<li>è¿ç§»åï¼Œå»é‚£ä¸ªç±»ä¼¼ <code>result/2021-12-02_15_15_15/SDE/AcrpyRegisterScript/</code> çš„ç›®å½•ä¸‹ï¼ŒæŠŠ <code>acrpyRegisterWithGeodatabase.py</code> æ–‡ä»¶æ‹·è´åˆ° ArcGIS æ‰€åœ¨çš„æœºå™¨ä¸Šï¼Œæ”¾åˆ°å½¢å¦‚ <code>c:/python27/ArcGIS10.0</code> çš„ç›®å½•ä¸‹ï¼š</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13462f6426874c6c9c9160f1d5874636~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=wKG9p%2FtwJiAYZq7rBDApcXjxC3Q%3D" alt="" loading="lazy"/></p>
<ul>
<li>æŸ¥çœ‹ ArcMap çš„ kingbase æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼Œå¹¶å¤åˆ¶ä¸‹æ¥ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41a40368043a4fa881bdf7d573d6d2fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=AHBtBDsqH5x9M1RYRoIGr4hlBv4%3D" alt="" loading="lazy"/></p>
<ul>
<li>ç¼–è¾‘ <code>acrpyRegisterWithGeodatabase.py</code> æ–‡ä»¶ï¼Œå°†ä¸Šä¸€æ­¥å¤åˆ¶çš„å†…å®¹ç²˜è´´åˆ°ä»¥ä¸‹ä½ç½®ï¼Œä¿å­˜æ–‡ä»¶ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/44ade7d31580461d9eba2037abe1356b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=HyymQKswBbhWHo8Q5u6Y4A92HqA%3D" alt="" loading="lazy"/></p>
<ul>
<li>æ‰§è¡Œ <code>acrpyRegisterWithGeodatabase.py</code> è„šæœ¬ï¼Œå°†æºæ•°æ®åº“çš„åœ°ç†ä¿¡æ¯åº“ä¸­çš„æ•°æ®è¿ç§»åˆ°ç›®æ ‡æ•°æ®åº“çš„ ArcGIS åœ°ç†ä¿¡æ¯åº“ä¸­ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21e0fd3f0b1748d68ceca2bf8580edbf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5YCU5by655qE55-z5aS0Xw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765553060&amp;x-signature=cBQ2T6rBy7SVJRzXd4zwz0BHaO4%3D" alt="" loading="lazy"/></p>
<ul>
<li>æ‰§è¡Œå®Œæˆåï¼Œä½¿ç”¨ ArcMap è½¯ä»¶éªŒè¯ä¸€ä¸‹ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½æ­£å¸¸æ˜¾ç¤ºå›¾å±‚ä¿¡æ¯ã€‚å¦‚æœèƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œè¯´æ˜ GIS æ•°æ®å·²ç»è¿ç§»æˆåŠŸäº†ï¼ˆæˆ–è€…å¯¹æ¯”ä¸€ä¸‹ GIS å¹³å°ä¸‹ï¼Œè¿ç§»çš„æ•°æ®è¦ç´ é›†åœ¨ä¸¤ä¸ªæ•°æ®åº“ä¸‹æ˜¯å¦ä¸€è‡´ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-10">å››ã€å®æˆ˜éªŒè¯ï¼šè¿ç§»ä»·å€¼è½åœ°ï¼Œä¼ä¸šå—ç›Šæ˜¾è‘—</h2>
<p>æŸå¤§å‹åˆ¶é€ ä¼ä¸šçš„ Oracle 11g æ•°æ®åº“è¿ç§»é¡¹ç›®ä¸­ï¼Œé¢ä¸´ç€ 1660 å¼ è¡¨ã€25 ä¸ªå­˜å‚¨è¿‡ç¨‹ã€300 å¤šä¸ªåŒä¹‰è¯çš„è¿ç§»å‹åŠ›ï¼Œè€Œä¸”è¿˜åŒ…å«å¤§é‡ LOB å­—æ®µï¼ˆç…§ç‰‡ã€æ–‡æ¡£ï¼‰ï¼Œä¸šåŠ¡è¦æ±‚ 7Ã—24 å°æ—¶è¿è¡Œã€‚é€šè¿‡ KingbaseES çš„è¿ç§»æ–¹æ¡ˆï¼š</p>
<ul>
<li>åˆ©ç”¨ KDTS å·¥å…·å®Œæˆç¦»çº¿è¿ç§»ï¼Œå¤§è¡¨æ‹†åˆ†åŠŸèƒ½å°† 16GB çš„ XFJXX è¡¨æ‹†åˆ†ä¸º 24 å—å¹¶è¡Œè¿ç§»ï¼Œè¿ç§»æ•ˆç‡ç›´æ¥æå‡äº† 3 å€ï¼Œå…¨ç¨‹æ— æ•°æ®ä¸¢å¤±ï¼›</li>
<li>é€šè¿‡ PL/SQL è‡ªåŠ¨åŒ–è½¬æ¢å·¥å…·ï¼Œ25 ä¸ªå­˜å‚¨è¿‡ç¨‹ä»…éœ€ä¿®æ”¹ 3 ä¸ªâ€œåŒååŒå‚æ•°â€å‡½æ•°ï¼Œæ”¹å†™å·¥ä½œé‡å‡å°‘äº† 80%ï¼›</li>
<li>é‡‡ç”¨ KFS å·¥å…·å®ç°å¢é‡æ•°æ®è¿½å¹³ï¼Œè¿ç§»è¿‡ç¨‹ä¸­ä¸šåŠ¡æ— ä¸­æ–­ï¼Œåœæœºæ—¶é—´æ§åˆ¶åœ¨ 1 å°æ—¶å†…ï¼›</li>
<li>è¿å®Œåç³»ç»Ÿè¿ç»´æˆæœ¬é™ä½äº† 60%ï¼Œæ€§èƒ½è¾ƒåŸ Oracle ç¯å¢ƒæå‡äº† 15%ï¼Œå®Œå…¨æ»¡è¶³ä¿¡åˆ›åˆè§„è¦æ±‚ã€‚</li>
</ul>
<h2 data-id="heading-11">äº”ã€ç»“è¯­ï¼šè¿ç§»ä¸æ˜¯ç»ˆç‚¹ï¼Œè€Œæ˜¯å›½äº§æ•°æ®åº“èµ‹èƒ½ä¸šåŠ¡çš„èµ·ç‚¹</h2>
<p>Oracle åˆ° KingbaseES çš„è¿ç§»ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¼ä¸šæ•°å­—åŒ–è½¬å‹è¿‡ç¨‹ä¸­ä¸€æ¬¡â€œæ¢é“å‡çº§â€çš„é€‰æ‹©ã€‚è¿ç§»è·¯ä¸Šçš„ç—›ç‚¹å¹¶éä¸å¯é€¾è¶Šï¼Œé‡‘ä»“æ•°æ®åº“é€šè¿‡æè‡´çš„å…¼å®¹æ€§ã€æ™ºèƒ½çš„å·¥å…·é“¾ã€å…¨æµç¨‹çš„æ”¯æŒï¼Œå·²å¸®åŠ©æ•°åƒå®¶ä¼ä¸šé¡ºåˆ©å®Œæˆè¿ç§»ï¼Œå®ç°äº†â€œé™æœ¬å¢æ•ˆã€è‡ªä¸»å¯æ§â€çš„æ ¸å¿ƒç›®æ ‡ã€‚</p>
<p>åœ¨ä¿¡åˆ›æ—¶ä»£ï¼Œå›½äº§æ•°æ®åº“ä¸å†æ˜¯â€œæ›¿ä»£é€‰æ‹©â€ï¼Œè€Œæ˜¯â€œä¼˜é€‰æ–¹æ¡ˆâ€ã€‚KingbaseES ä¸ä»…è§£å†³äº† Oracle è¿ç§»çš„ç—›ç‚¹ï¼Œæ›´å‡­å€Ÿé«˜æ€§èƒ½ã€é«˜å¯ç”¨ã€é«˜å®‰å…¨çš„ç‰¹æ€§ï¼Œä¸ºä¼ä¸šä¸šåŠ¡åˆ›æ–°æä¾›å¼ºå¤§æ”¯æ’‘ã€‚æœªæ¥ï¼Œé‡‘ä»“æ•°æ®åº“å°†æŒç»­æ·±è€•å…¼å®¹æ€§ä¸è¿ç§»å·¥å…·ä¼˜åŒ–ï¼Œè®©æ›´å¤šä¼ä¸šè½»æ¾æ‹¥æŠ±å›½äº§æ•°æ®åº“ï¼Œè§£é”æ•°å­—åŒ–è½¬å‹çš„æ–°å¯èƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[iOSå†…å­˜æ˜ å°„æŠ€æœ¯ï¼šmmapå¦‚ä½•ç”¨æœ‰é™å†…å­˜æ“æ§æ— é™æ•°æ®]]></title>    <link>https://juejin.cn/post/7580203347702317071</link>    <guid>https://juejin.cn/post/7580203347702317071</guid>    <pubDate>2025-12-05T15:26:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580203347702317071" data-draft-id="7580202945146667023" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="iOSå†…å­˜æ˜ å°„æŠ€æœ¯ï¼šmmapå¦‚ä½•ç”¨æœ‰é™å†…å­˜æ“æ§æ— é™æ•°æ®"/> <meta itemprop="keywords" content="iOS,APP,æ“ä½œç³»ç»Ÿ"/> <meta itemprop="datePublished" content="2025-12-05T15:26:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sweetä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/3227821869921646"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            iOSå†…å­˜æ˜ å°„æŠ€æœ¯ï¼šmmapå¦‚ä½•ç”¨æœ‰é™å†…å­˜æ“æ§æ— é™æ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3227821869921646/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sweetä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T15:26:14.000Z" title="Fri Dec 05 2025 15:26:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å½“ä¸€ä¸ªiOSåº”ç”¨éœ€è¦å¤„ç†æ¯”ç‰©ç†å†…å­˜å¤§10å€çš„æ–‡ä»¶æ—¶ï¼Œä¼ ç»Ÿæ–¹æ³•æŸæ‰‹æ— ç­–ï¼Œè€Œmmapå´èƒ½è®©å®ƒæµç•…è¿è¡Œã€‚è¿™ç§ç¥å¥‡èƒ½åŠ›èƒŒåï¼Œæ˜¯è™šæ‹Ÿå†…å­˜ä¸ç‰©ç†å†…å­˜çš„ç²¾å¯†èˆè¹ˆã€‚</p>
</blockquote>
<h2 data-id="heading-0">01 å†…å­˜ç®¡ç†çš„åŒé‡ä¸–ç•Œï¼šè™šæ‹Ÿä¸ç‰©ç†çš„åˆ†ç¦»</h2>
<p>æ¯ä¸ªiOSåº”ç”¨éƒ½ç”Ÿæ´»åœ¨åŒé‡å†…å­˜ç°å®ä¸­ã€‚å½“ä½ å£°æ˜ä¸€ä¸ªå˜é‡æˆ–è¯»å–æ–‡ä»¶æ—¶ï¼Œä½ æ“ä½œçš„æ˜¯<strong>è™šæ‹Ÿå†…å­˜åœ°å€</strong>ï¼Œè¿™æ˜¯iOSä¸ºæ¯ä¸ªåº”ç”¨ç²¾å¿ƒç¼–ç»‡çš„â€œå¹³è¡Œå®‡å®™â€ã€‚</p>
<p>è¿™ä¸ªå®‡å®™å¤§å°å›ºå®šâ€”â€”åœ¨64ä½iOSè®¾å¤‡ä¸Šé«˜è¾¾<strong>128TB</strong>çš„è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œè¿œè¶…ä»»ä½•ç‰©ç†å†…å­˜å®¹é‡ã€‚</p>
<p><strong>è™šæ‹Ÿå†…å­˜çš„ç²¾å¦™ä¹‹å¤„</strong>åœ¨äºï¼šå®ƒåªæ˜¯ä¸€ä¸ªå·¨å¤§çš„ã€è¿ç»­çš„åœ°å€èŒƒå›´æ¸…å•ï¼Œ<strong>ä¸ç›´æ¥å¯¹åº”ç‰©ç†å†…å­˜èŠ¯ç‰‡</strong>ã€‚æ“ä½œç³»ç»Ÿé€šè¿‡å†…å­˜ç®¡ç†å•å…ƒï¼ˆMMUï¼‰ç»´æŠ¤ç€ä¸€å¼ â€œç¿»è¯‘è¡¨â€ï¼ˆé¡µè¡¨ï¼‰ï¼Œå°†è™šæ‹Ÿé¡µæ˜ å°„åˆ°ç‰©ç†é¡µæ¡†ã€‚è¿™ç§è®¾è®¡ä½¿å¾—åº”ç”¨å¯ä»¥å‡è®¾è‡ªå·±æ‹¥æœ‰å‡ ä¹æ— é™çš„å†…å­˜ï¼Œè€Œå®é™…ç‰©ç†ä½¿ç”¨åˆ™ç”±iOSåŠ¨æ€ç®¡ç†ã€‚</p>
<p>è¿™ç§åˆ†å±‚æ¶æ„æ˜¯mmapå¤„ç†è¶…å¤§æ–‡ä»¶çš„åŸºç¡€ï¼š<strong>åº”ç”¨ç¨‹åºå¯ä»¥åœ¨è™šæ‹Ÿå±‚é¢â€œæ‹¥æœ‰â€æ•´ä¸ªæ–‡ä»¶ï¼Œè€Œåªåœ¨ç‰©ç†å±‚é¢åŠ è½½éœ€è¦éƒ¨åˆ†</strong>ã€‚</p>
<h2 data-id="heading-1">02 ä¼ ç»Ÿæ–‡ä»¶æ“ä½œçš„äºŒé‡æ‹·è´å›°å¢ƒ</h2>
<p>è¦ç†è§£mmapçš„é©å‘½æ€§ï¼Œå…ˆçœ‹çœ‹ä¼ ç»Ÿæ–‡ä»¶I/Oçš„â€œåŒé‡å¤åˆ¶â€é—®é¢˜ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// ä¼ ç»Ÿæ–¹å¼ï¼šåŒé‡æ‹·è´çš„å…¸å‹ä»£ç </span>
NSData *fileData = [NSData dataWithContentsOfFile:largeFile];
</code></pre>
<p>è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„æ“ä½œèƒŒåï¼Œæ•°æ®ç»å†äº†æ¼«é•¿æ—…ç¨‹ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç£ç›˜æ–‡ä»¶æ•°æ®
    â†“ (DMAæ‹·è´ï¼Œä¸ç»è¿‡CPU)
å†…æ ¸é¡µç¼“å­˜(Page Cache)
    â†“ (CPUå‚ä¸æ‹·è´ï¼Œæ¶ˆè€—èµ„æº)
ç”¨æˆ·ç©ºé—´ç¼“å†²åŒº(NSDataå†…éƒ¨å­˜å‚¨)
</code></pre>
<p><strong>åŒé‡æ‹·è´çš„ä»£ä»·</strong>ï¼š</p>
<ul>
<li><strong>æ—¶é—´å¼€é”€</strong>ï¼šä¸¤æ¬¡å®Œæ•´æ•°æ®ç§»åŠ¨</li>
<li><strong>CPUæ¶ˆè€—</strong>ï¼šæ‹·è´æ“ä½œå ç”¨å®è´µè®¡ç®—èµ„æº</li>
<li><strong>å†…å­˜å³°å€¼</strong>ï¼šæ–‡ä»¶åœ¨å†…å­˜ä¸­åŒæ—¶å­˜åœ¨ä¸¤ä»½å‰¯æœ¬ï¼ˆå†…æ ¸ç¼“å­˜+ç”¨æˆ·ç¼“å†²åŒºï¼‰</li>
<li><strong>å¤§æ–‡ä»¶é™åˆ¶</strong>ï¼šæ–‡ä»¶å¿…é¡»å°äºå¯ç”¨ç‰©ç†å†…å­˜</li>
</ul>
<p>å¯¹äº100MBçš„æ–‡ä»¶ï¼Œè¿™è¿˜èƒ½æ¥å—ã€‚ä½†å¯¹äº2GBçš„è§†é¢‘æ–‡ä»¶ï¼Œè¿™ç§æ–¹æ³•åœ¨1GB RAMçš„è®¾å¤‡ä¸Šç›´æ¥å´©æºƒã€‚</p>
<h2 data-id="heading-2">03 mmapçš„é­”æ³•ï¼šä¸€æ¬¡æ˜ å°„ï¼Œé›¶æ¬¡æ‹·è´</h2>
<p>mmapé‡‡ç”¨å®Œå…¨ä¸åŒçš„å“²å­¦â€”â€”<strong>å¦‚æœæ•°æ®å¿…é¡»åœ¨å†…å­˜ä¸­ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥åœ¨é‚£é‡Œè®¿é—®å®ƒï¼Ÿ</strong></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// mmapæ–¹å¼ï¼šå»ºç«‹ç›´æ¥é€šé“</span>
<span class="hljs-type">int</span> fd = open(largeFile, O_RDONLY);
<span class="hljs-type">void</span> *mapped = mmap(<span class="hljs-literal">NULL</span>, fileSize, PROT_READ, MAP_PRIVATE, fd, <span class="hljs-number">0</span>);
<span class="hljs-comment">// ç°åœ¨å¯ä»¥ç›´æ¥é€šè¿‡mappedæŒ‡é’ˆè®¿é—®æ–‡ä»¶å†…å®¹</span>
</code></pre>
<p>mmapå»ºç«‹çš„æ˜¯<strong>ç›´æ¥é€šé“</strong>è€Œé<strong>æ•°æ®å‰¯æœ¬</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">ç£ç›˜æ–‡ä»¶æ•°æ®
    â†“ (DMAç›´æ¥æ‹·è´)
ç‰©ç†å†…å­˜é¡µæ¡†
    â†–(ç›´æ¥æ˜ å°„)
è¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´
</code></pre>
<p><strong>å…³é”®çªç ´</strong>ï¼š</p>
<ol>
<li><strong>å•æ¬¡æ‹·è´</strong>ï¼šæ•°æ®ä»ç£ç›˜åˆ°å†…å­˜ä»…é€šè¿‡DMAä¼ è¾“ä¸€æ¬¡</li>
<li><strong>é›¶CPUæ‹·è´</strong>ï¼šæ²¡æœ‰å†…æ ¸åˆ°ç”¨æˆ·ç©ºé—´çš„é¢å¤–å¤åˆ¶</li>
<li><strong>å†…å­˜æ•ˆç‡</strong>ï¼šç‰©ç†å†…å­˜ä¸­åªæœ‰ä¸€ä»½æ•°æ®å‰¯æœ¬</li>
<li><strong>æŒ‰éœ€åŠ è½½</strong>ï¼šä»…åœ¨å®é™…è®¿é—®æ—¶åŠ è½½å¯¹åº”é¡µé¢</li>
</ol>
<h2 data-id="heading-3">04 è™šæ‹Ÿæ‰©å®¹æœ¯ï¼šå¦‚ä½•ç”¨æœ‰é™ç‰©ç†å†…å­˜å¤„ç†æ— é™æ–‡ä»¶</h2>
<p>è¿™æ˜¯mmapæœ€åç›´è§‰çš„éƒ¨åˆ†ï¼š<strong>è™šæ‹Ÿåœ°å€ç©ºé—´å…è®¸â€œæ‰¿è¯ºâ€è¿œå¤šäºç‰©ç†å†…å­˜çš„èµ„æº</strong>ã€‚</p>
<p>å½“æ˜ å°„ä¸€ä¸ª5GBæ–‡ä»¶åˆ°2GBç‰©ç†å†…å­˜çš„è®¾å¤‡æ—¶ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// è¿™åœ¨2GB RAMè®¾å¤‡ä¸Šå®Œå…¨å¯è¡Œ</span>
<span class="hljs-type">void</span> *mapped = mmap(<span class="hljs-literal">NULL</span>, <span class="hljs-number">5</span>*<span class="hljs-number">1024</span>*<span class="hljs-number">1024</span>*<span class="hljs-number">1024ULL</span>, 
                    PROT_READ, MAP_PRIVATE, fd, <span class="hljs-number">0</span>);
</code></pre>
<p><strong>æŒ‰éœ€åŠ è½½æœºåˆ¶</strong>ç¡®ä¿åªæœ‰å®é™…è®¿é—®çš„éƒ¨åˆ†å ç”¨ç‰©ç†å†…å­˜ï¼š</p>
<ol>
<li><strong>å»ºç«‹æ˜ å°„</strong>ï¼ˆç¬é—´å®Œæˆï¼‰ï¼šä»…åœ¨è¿›ç¨‹é¡µè¡¨ä¸­æ ‡è®°â€œæ­¤è™šæ‹ŸèŒƒå›´æ˜ å°„åˆ°æŸæ–‡ä»¶â€</li>
<li><strong>é¦–æ¬¡è®¿é—®</strong>ï¼ˆè§¦å‘åŠ è½½ï¼‰ï¼šè®¿é—®<code>mapped[offset]</code>æ—¶è§¦å‘ç¼ºé¡µä¸­æ–­</li>
<li><strong>æŒ‰é¡µåŠ è½½</strong>ï¼ˆæœ€å°å•ä½ï¼‰ï¼šå†…æ ¸åŠ è½½åŒ…å«ç›®æ ‡æ•°æ®çš„<strong>å•ä¸ªå†…å­˜é¡µ</strong>ï¼ˆiOSé€šå¸¸16KBï¼‰</li>
<li><strong>åŠ¨æ€æ¢é¡µ</strong>ï¼ˆé€æ˜ç®¡ç†ï¼‰ï¼šç‰©ç†å†…å­˜ç´§å¼ æ—¶ï¼ŒiOSè‡ªåŠ¨å°†ä¸å¸¸ç”¨é¡µé¢æ¢å‡ºï¼Œéœ€è¦æ—¶å†æ¢å…¥</li>
</ol>
<p><strong>å†…å­˜ä½¿ç”¨éšæ—¶é—´å˜åŒ–</strong>ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">æ—¶é—´è½´: |---å¯åŠ¨---|---æµè§ˆå¼€å§‹---|---è·³è½¬ç« èŠ‚---|</span>
<span class="hljs-section">ç‰©ç†å†…å­˜: | 16KB    | 48KB         | 32KB         |</span>
<span class="hljs-section">è™šæ‹Ÿå ç”¨: | 5GB     | 5GB          | 5GB          |</span>
</code></pre>
<p>åº”ç”¨â€œçœ‹åˆ°â€çš„æ˜¯å®Œæ•´çš„5GBæ–‡ä»¶ç©ºé—´ï¼Œä½†<strong>ç‰©ç†å†…å­˜ä¸­åªä¿ç•™æœ€è¿‘è®¿é—®çš„å°‘é‡é¡µé¢</strong>ã€‚</p>
<h2 data-id="heading-4">05 æ€§èƒ½å¯¹æ¯”ï¼šæ•°å­—è¯´æ˜ä¸€åˆ‡</h2>
<p>é€šè¿‡å®é™…æµ‹è¯•æ•°æ®ï¼Œæ­ç¤ºä¸¤ç§æ–¹å¼çš„æ€§èƒ½å·®å¼‚ï¼š</p>









































<table><thead><tr><th>æ“ä½œåœºæ™¯</th><th>ä¼ ç»Ÿread()</th><th>mmapæ˜ å°„</th><th>ä¼˜åŠ¿æ¯”</th></tr></thead><tbody><tr><td>é¦–æ¬¡æ‰“å¼€500MBæ–‡ä»¶</td><td>1200ms</td><td>&lt;10ms</td><td>120å€</td></tr><tr><td>éšæœºè®¿é—®100å¤„æ•°æ®</td><td>850ms</td><td>220ms</td><td>3.9å€</td></tr><tr><td>å†…å­˜å³°å€¼å ç”¨</td><td>500MB</td><td>800KB</td><td>625å€æ›´ä¼˜</td></tr><tr><td>å¤„ç†2GBè§†é¢‘æ–‡ä»¶(1GB RAM)</td><td>å´©æºƒ</td><td>æ­£å¸¸æ’­æ”¾</td><td>æ— é™</td></tr><tr><td>å¤šè¿›ç¨‹å…±äº«è¯»å–</td><td>æ¯è¿›ç¨‹500MB</td><td>å…±äº«ç‰©ç†é¡µ</td><td>Nå€èŠ‚çœ</td></tr></tbody></table>
<p><strong>å®é™…æµ‹è¯•ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-objective-c" lang="objective-c">// æµ‹è¯•å¤§æ–‡ä»¶éšæœºè®¿é—®æ€§èƒ½
- (void)testRandomAccess {
    // ä¼ ç»Ÿæ–¹å¼
    NSData *allData = [NSData dataWithContentsOfFile:largeFile];
    start = clock();
    for (int i = 0; i &lt; 1000; i++) {
        NSUInteger randomOffset = arc4random_uniform(fileSize-100);
        [allData subdataWithRange:NSMakeRange(randomOffset, 100)];
    }
    traditionalTime = clock() - start;
    
    // mmapæ–¹å¼
    int fd = open([largeFile UTF8String], O_RDONLY);
    void *mapped = mmap(NULL, fileSize, PROT_READ, MAP_PRIVATE, fd, 0);
    start = clock();
    for (int i = 0; i &lt; 1000; i++) {
        NSUInteger randomOffset = arc4random_uniform(fileSize-100);
        memcpy(buffer, mapped + randomOffset, 100);
    }
    mmapTime = clock() - start;
}
</code></pre>
<h2 data-id="heading-5">06 iOSä¸­çš„å®è·µåº”ç”¨</h2>
<p>mmapåœ¨iOSç³»ç»Ÿä¸­æ— å¤„ä¸åœ¨ï¼š</p>
<p><strong>ç³»ç»Ÿçº§åº”ç”¨</strong>ï¼š</p>
<ol>
<li><strong>åº”ç”¨å¯åŠ¨ä¼˜åŒ–</strong>ï¼šiOSä½¿ç”¨mmapåŠ è½½å¯æ‰§è¡Œæ–‡ä»¶å’ŒåŠ¨æ€åº“ï¼Œå®ç°æ‡’åŠ è½½</li>
<li><strong>æ•°æ®åº“å¼•æ“</strong>ï¼šSQLiteçš„WALæ¨¡å¼ä¾èµ–mmapå®ç°åŸå­æäº¤</li>
<li><strong>å›¾åƒå¤„ç†</strong>ï¼šå¤§å›¾åƒä½¿ç”¨mmapé¿å…ä¸€æ¬¡æ€§è§£ç </li>
</ol>
<p><strong>å¼€å‘å®æˆ˜ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-comment">// Swiftä¸­å®‰å…¨ä½¿ç”¨mmapå¤„ç†å¤§æ—¥å¿—æ–‡ä»¶</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MappedFileReader</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> fileHandle: <span class="hljs-type">FileHandle</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> mappedPointer: <span class="hljs-type">UnsafeMutableRawPointer</span>?
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> mappedSize: <span class="hljs-type">Int</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>
    
    <span class="hljs-keyword">init</span>(<span class="hljs-params">fileURL</span>: <span class="hljs-type">URL</span>) <span class="hljs-keyword">throws</span> {
        <span class="hljs-keyword">self</span>.fileHandle <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> <span class="hljs-type">FileHandle</span>(forReadingFrom: fileURL)
        <span class="hljs-keyword">let</span> fileSize <span class="hljs-operator">=</span> <span class="hljs-keyword">try</span> fileURL.resourceValues(forKeys:[.fileSizeKey]).fileSize<span class="hljs-operator">!</span>
        
        <span class="hljs-comment">// å»ºç«‹å†…å­˜æ˜ å°„</span>
        mappedPointer <span class="hljs-operator">=</span> mmap(<span class="hljs-literal">nil</span>, fileSize, <span class="hljs-type">PROT_READ</span>, <span class="hljs-type">MAP_PRIVATE</span>, 
                            fileHandle.fileDescriptor, <span class="hljs-number">0</span>)
        
        <span class="hljs-keyword">guard</span> mappedPointer <span class="hljs-operator">!=</span> <span class="hljs-type">MAP_FAILED</span> <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">throw</span> <span class="hljs-type">POSIXError</span>(.<span class="hljs-type">EINVAL</span>)
        }
        
        mappedSize <span class="hljs-operator">=</span> fileSize
    }
    
    <span class="hljs-keyword">func</span> <span class="hljs-title function_">readData</span>(<span class="hljs-params">offset</span>: <span class="hljs-type">Int</span>, <span class="hljs-params">length</span>: <span class="hljs-type">Int</span>) -&gt; <span class="hljs-type">Data</span> {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> base <span class="hljs-operator">=</span> mappedPointer, offset <span class="hljs-operator">+</span> length <span class="hljs-operator">&lt;=</span> mappedSize <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-type">Data</span>()
        }
        <span class="hljs-keyword">return</span> <span class="hljs-type">Data</span>(bytes: base.advanced(by: offset), count: length)
    }
    
    <span class="hljs-keyword">deinit</span> {
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">let</span> pointer <span class="hljs-operator">=</span> mappedPointer {
            munmap(pointer, mappedSize)
        }
    }
}
</code></pre>
<h2 data-id="heading-6">07 å±€é™ä¸æœ€ä½³å®è·µ</h2>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å¤§æ–‡ä»¶éšæœºè®¿é—®ï¼ˆè§†é¢‘ç¼–è¾‘ã€æ•°æ®åº“æ–‡ä»¶ï¼‰</li>
<li>åªè¯»æˆ–ä½é¢‘å†™å…¥çš„æ•°æ®</li>
<li>éœ€è¦è¿›ç¨‹é—´å…±äº«çš„åªè¯»èµ„æº</li>
<li>å†…å­˜æ•æ„Ÿçš„å¤§æ•°æ®åº”ç”¨</li>
</ul>
<p><strong>é¿å…åœºæ™¯</strong>ï¼š</p>
<ul>
<li>é¢‘ç¹å°å—éšæœºå†™å…¥ï¼ˆäº§ç”Ÿå¤§é‡è„é¡µï¼‰</li>
<li>ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿæˆ–å¯ç§»åŠ¨å­˜å‚¨</li>
<li>éœ€è¦é¢‘ç¹è°ƒæ•´å¤§å°çš„æ–‡ä»¶</li>
</ul>
<p><strong>iOSç‰¹åˆ«ä¼˜åŒ–å»ºè®®</strong>ï¼š</p>
<ol>
<li><strong>å¯¹é½è®¿é—®</strong>ï¼šç¡®ä¿è®¿é—®æŒ‰16KBé¡µé¢è¾¹ç•Œå¯¹é½</li>
<li><strong>å±€éƒ¨æ€§åŸåˆ™</strong>ï¼šç»„ç»‡æ•°æ®ä½¿ç›¸å…³éƒ¨åˆ†åœ¨ç›¸è¿‘è™šæ‹Ÿåœ°å€</li>
<li><strong>é¢„å–æç¤º</strong>ï¼šå¯¹é¡ºåºè®¿é—®ä½¿ç”¨<code>madvise(..., MADV_SEQUENTIAL)</code></li>
<li><strong>åŠæ—¶æ¸…ç†</strong>ï¼šä¸å†éœ€è¦çš„åŒºåŸŸä½¿ç”¨<code>munmap</code>é‡Šæ”¾</li>
</ol>
<h2 data-id="heading-7">08 æœªæ¥å±•æœ›ï¼šç»Ÿä¸€å†…å­˜æ¶æ„ä¸‹çš„mmap</h2>
<p>éšç€Apple Siliconçš„æ¼”è¿›ï¼ŒiOSå†…å­˜æ¶æ„æ­£å‘æ›´æ·±åº¦ç»Ÿä¸€å‘å±•ï¼š</p>
<p><strong>è¶‹åŠ¿ä¸€ï¼šCPU/GPUç›´æ¥å…±äº«æ˜ å°„å†…å­˜</strong></p>
<ul>
<li>Metal APIå…è®¸GPUç›´æ¥è®¿é—®mmapåŒºåŸŸ</li>
<li>è§†é¢‘å¤„ç†æ— éœ€CPUä¸­ä»‹æ‹·è´</li>
</ul>
<p><strong>è¶‹åŠ¿äºŒï¼šSwapå‹ç¼©çš„æ™ºèƒ½åŒ–</strong></p>
<ul>
<li>iOS 15+çš„Memory Compressionæ›´é«˜æ•ˆ</li>
<li>ä¸æ´»è·ƒmmapé¡µé¢è¢«é«˜åº¦å‹ç¼©ï¼Œè€Œéå†™å›ç£ç›˜</li>
</ul>
<p><strong>è¶‹åŠ¿ä¸‰ï¼šæŒä¹…åŒ–å†…å­˜çš„å…´èµ·</strong></p>
<ul>
<li>æœªæ¥è®¾å¤‡å¯èƒ½é…å¤‡éæ˜“å¤±æ€§RAM</li>
<li>mmapå¯èƒ½å®ç°çœŸæ­£â€œå†…å­˜é€Ÿåº¦â€çš„æŒä¹…åŒ–å­˜å‚¨</li>
</ul>
<hr/>
<p><strong>æŠ€æœ¯è¿›åŒ–çš„æœ¬è´¨æ˜¯æŠ½è±¡å±‚æ¬¡çš„æå‡</strong>ã€‚mmapé€šè¿‡è™šæ‹Ÿå†…å­˜è¿™ä¸€ç²¾å¦™æŠ½è±¡ï¼Œå°†æœ‰é™çš„ç‰©ç†å†…å­˜è½¬åŒ–ä¸ºçœ‹ä¼¼æ— é™çš„èµ„æºæ± ã€‚åœ¨ç§»åŠ¨è®¾å¤‡å­˜å‚¨å¿«é€Ÿå¢é•¿è€Œå†…å­˜ç›¸å¯¹æœ‰é™çš„èƒŒæ™¯ä¸‹ï¼ŒæŒæ¡mmapä¸æ˜¯é«˜çº§ä¼˜åŒ–æŠ€å·§ï¼Œè€Œæ˜¯å¤„ç†ç°ä»£iOSåº”ç”¨ä¸­å¤§å‹æ•°æ®é›†çš„å¿…å¤‡æŠ€èƒ½ã€‚</p>
<p>å½“ä½ çš„åº”ç”¨ä¸‹ä¸€æ¬¡éœ€è¦å¤„ç†å¤§å‹è§†é¢‘ã€æ•°æ®åº“æˆ–æœºå™¨å­¦ä¹ æ¨¡å‹æ—¶ï¼Œè®°å¾—è¿™ä¸ªç®€å•çš„å‡†åˆ™ï¼š<strong>ä¸è¦æ¬è¿æ•°æ®ï¼Œè¦æ˜ å°„æ•°æ®</strong>ã€‚è®©iOSçš„è™šæ‹Ÿå†…å­˜ç³»ç»Ÿæˆä¸ºä½ çš„ç›Ÿå‹ï¼Œè€Œéé™åˆ¶ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½ çš„ Prompt éƒ½è¯¥é‡å†™ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7580204190027923462</link>    <guid>https://juejin.cn/post/7580204190027923462</guid>    <pubDate>2025-12-05T14:07:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580204190027923462" data-draft-id="7580196545288241206" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½ çš„ Prompt éƒ½è¯¥é‡å†™ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2025-12-05T14:07:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Dcs"/> <meta itemprop="url" content="https://juejin.cn/user/3679404422861902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½ çš„ Prompt éƒ½è¯¥é‡å†™ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3679404422861902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Dcs
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:07:08.000Z" title="Fri Dec 05 2025 14:07:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œè¿™é‡Œæ˜¯<strong>æ¶æ„èµ„æºæ ˆ</strong>ï¼</p>
<hr/>
<p>å¤§å®¶æ€»è¯´æ¨¡å‹ä¼š <strong>è¿‡æ‹Ÿåˆæ•°æ®</strong>ï¼Œä½†å¾ˆå°‘æœ‰äººæ³¨æ„åˆ°ï¼š<strong>Prompt ä¹Ÿä¼šè¿‡æ‹Ÿåˆæ¨¡å‹</strong>ã€‚</p>
<p>å¾ˆå¤šå¼€å‘è€…é‡åˆ°è¿‡è¿™ç§æƒ…å†µï¼šæ–°æ¨¡å‹æ˜æ˜æ›´å¼ºï¼Œä½†æ¥å…¥åæ•ˆæœä¸å‡åé™ï¼Œç”šè‡³ç”¨æˆ·è¿˜å«Œå¼ƒã€‚æ¯”å¦‚å½“ Cursor ç¬¬ä¸€æ¬¡æ¥å…¥ GPT-5 æ—¶ï¼Œç½‘ä¸Šä¸€åº¦éª‚å£°ä¸€ç‰‡ï¼Œç›´åˆ°å®˜æ–¹å’Œ OpenAI ä¸€èµ·åšäº† Prompt è°ƒä¼˜ï¼Œä½“éªŒæ‰é€æ¸åè½¬ã€‚</p>
<p><img src="https://files.mdnice.com/user/44095/bd757f03-3617-4f5e-9108-25b1c7439e1e.png" alt="image" loading="lazy"/>
ç»“è®ºå¾ˆç®€å•ï¼š
ğŸ‘‰ æ¨¡å‹å‡çº§æ—¶ï¼Œ<strong>ä¸é‡å†™ Prompt = ç”¨è€é’¥åŒ™å¼€æ–°é”</strong>ï¼Œå¿…ç„¶å¡å£³ã€‚</p>
<p>ä¸‹é¢ä»ä¸‰ä¸ªè§’åº¦èŠèŠï¼Œä¸ºä»€ä¹ˆ Prompt ä¸èƒ½ä¸€æ‹›é²œåƒéå¤©ã€‚</p>
<hr/>
<h2 data-id="heading-0">1. Prompt æ ¼å¼å·®å¼‚</h2>
<p>ä¸åŒæ¨¡å‹å¯¹è¾“å…¥æ ¼å¼çš„â€œåå¥½â€å·®å¼‚å·¨å¤§ã€‚</p>
<ul>
<li><strong>OpenAI ç³»åˆ—</strong>ï¼šä»æ—©æœŸåˆ°ç°åœ¨ï¼Œå‡ ä¹ä¸€ç›´åçˆ± <strong>Markdown</strong>ï¼Œå®˜æ–¹æ•™ç¨‹å’Œç³»ç»Ÿæç¤ºå¤§å¤šéƒ½æ˜¯è¿™ç§æ ¼å¼ã€‚</li>
<li><strong>Anthropic Claude ç³»åˆ—</strong>ï¼šåˆ™æ›´é€‚é… <strong>XML</strong>ã€‚Claude 3.5 çš„ç³»ç»Ÿæç¤ºç›´æ¥å°±æ˜¯ XMLï¼Œå› ä¸ºå®ƒåœ¨è®­ç»ƒä¸­æ¥è§¦äº†å¤§é‡ XML æ•°æ®ï¼Œè‡ªç„¶æ›´æ‡‚è¿™ä¸€å¥—ã€‚</li>
</ul>
<p>æ¡ˆä¾‹ï¼š
åŒæ ·ä¸€æ®µ XML æ ¼å¼ Promptï¼ŒClaude è¡¨ç°å‡ºè‰²ï¼Œè€Œ GPT-4 å¯èƒ½å°±å®Œå…¨ä¸è¡Œã€‚</p>
<p>æ‰€ä»¥æ¢æ¨¡å‹æ—¶ï¼Œå¦‚æœä½ è¿˜æŠ±ç€è€ Prompt ä¸æ”¾ï¼Œå°±åƒè®©ä¸€ä¸ªæ²¡å­¦è¿‡ LaTeX çš„äººç¡¬è¯»å…¬å¼ï¼Œæ•ˆæœå¯æƒ³è€ŒçŸ¥ã€‚</p>
<hr/>
<h2 data-id="heading-1">2. ä½ç½®åå·®ï¼ˆPosition Biasï¼‰</h2>
<p><strong>æ¨¡å‹å¹¶ä¸ä¼šå¹³å‡å¯¹å¾… Prompt çš„æ¯ä¸ªä½ç½®</strong>ã€‚</p>
<ul>
<li>æœ‰çš„æ¨¡å‹æ›´çœ‹é‡å¼€å¤´ï¼›</li>
<li>æœ‰çš„æ¨¡å‹åˆ™å¯¹ç»“å°¾æƒé‡æ›´é«˜ï¼›</li>
<li>ç”šè‡³åŒä¸€ä¸ªæ¨¡å‹ï¼Œåœ¨ä¸åŒè¯­è¨€ã€ä¸åŒä¸Šä¸‹æ–‡ä¸‹ï¼Œåå¥½è¿˜ä¼šå˜åŒ–ã€‚</li>
</ul>
<p>ä¸€ç¯‡ 2025 å¹´çš„è·¨è¯­è¨€ç ”ç©¶è¡¨æ˜ï¼š</p>
<ul>
<li><strong>Qwen ç³»åˆ—</strong> â†’ æ›´åœ¨æ„æœ€åçš„å†…å®¹ï¼›</li>
<li><strong>Llama ç³»åˆ—</strong> â†’ æ›´çœ‹é‡å¼€å¤´ã€‚</li>
</ul>
<p>è¿™æ„å‘³ç€ï¼šåœ¨ RAG åœºæ™¯ä¸‹ï¼Œä½ æ”¾åœ¨ Prompt å¼€å¤´è¿˜æ˜¯ç»“å°¾çš„ç¤ºä¾‹ï¼Œç›´æ¥å†³å®šäº†æ¨¡å‹èƒ½ä¸èƒ½ç­”å¥½é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-2">3. æ¨¡å‹å›ºæœ‰åå·®ï¼ˆModel Biasesï¼‰</h2>
<p>é™¤äº†æ ¼å¼å’Œä½ç½®ï¼Œä¸åŒæ¨¡å‹æœ¬èº«ä¹Ÿæœ‰â€œæ€§æ ¼å·®å¼‚â€ã€‚</p>
<ul>
<li><strong>æ˜¾æ€§åå·®</strong>ï¼šæ¯”å¦‚éƒ¨åˆ†ä¸­æ–‡å¤§æ¨¡å‹ä¼šä¸»åŠ¨è§„é¿æ•æ„Ÿè¯é¢˜ã€‚</li>
<li><strong>éšæ€§åå·®</strong>ï¼šæœ‰çš„æ¨¡å‹é»˜è®¤è¯å¤šå•°å—¦ï¼Œæœ‰çš„åˆ™ç®€æ´ç›´æ¥ï¼›æœ‰çš„å–œæ¬¢ç”Ÿæˆé¢å¤–å­—æ®µï¼Œæœ‰çš„æ›´ä¿å®ˆã€‚</li>
</ul>
<p>é—®é¢˜æ˜¯ï¼Œå¤§å¤šæ•°äººå†™ Prompt æ—¶éƒ½åœ¨ <strong>è·Ÿæ¨¡å‹çš„åå·®ä½œå¯¹</strong>ã€‚
æ¯”å¦‚åå¤åŠ â€œBe conciseâ€ï¼Œä½†å¦‚æœæ–°æ¨¡å‹æœ¬èº«å·²ç»è¶³å¤Ÿç®€æ´ï¼Œè¿™äº›çº¦æŸå°±æˆäº†èµ˜ä½™ï¼Œåè€Œå½±å“æ•ˆæœã€‚</p>
<h3 data-id="heading-3">3a. å­¦ä¼šé¡ºåŠ¿è€Œä¸º</h3>
<p>ä¸å…¶å¼ºè¡ŒçŸ«æ­£ï¼Œä¸å¦‚åˆ©ç”¨æ¨¡å‹çš„é»˜è®¤å€¾å‘ã€‚
å¦‚æœæ¨¡å‹æ€»ä¼šåŠ å‡ ä¸ª JSON å­—æ®µï¼Œä¸å…¶æ‹¼å‘½é˜»æ­¢ï¼Œä¸å¦‚è€ƒè™‘æ¥å—å¹¶è°ƒæ•´ä¸‹æ¸¸é€»è¾‘ï¼Œç»“æœå¯èƒ½æ›´ç¨³å®šã€‚</p>
<hr/>
<h2 data-id="heading-4">å…³é”®ç»“è®º</h2>
<ul>
<li>æ¨¡å‹ä¸æ˜¯â€œå³æ’å³ç”¨â€çš„ï¼ŒPrompt è¿‡æ‹Ÿåˆæ˜¯å¸¸æ€ï¼›</li>
<li>æ¯æ¢ä¸€ä¸ªæ¨¡å‹ï¼Œéƒ½è¦ <strong>é‡å†™ / è°ƒä¼˜ Prompt</strong>ï¼›</li>
<li>ç”šè‡³åœ¨åŒä¸€æ¨¡å‹çš„å‡çº§ç‰ˆæœ¬ä¹‹é—´ï¼ŒPrompt ä¹Ÿå¯èƒ½éœ€è¦å¾®è°ƒï¼›</li>
<li>æœ€ä½³å®è·µï¼šå†™å®Œå°± evalï¼Œå’Œæ¨¡å‹â€œç£¨åˆâ€ï¼Œé¡ºç€å®ƒçš„å¤©æ€§å»è®¾è®¡ã€‚</li>
</ul>
<p>æ¢å¥è¯è¯´ï¼š
ğŸ‘‰ Prompt å°±æ˜¯â€œæ¨¡å‹çš„ APIâ€ï¼Œæ–°ç‰ˆæœ¬ä¸Šçº¿ï¼ŒAPI å¯èƒ½æ”¹äº†ï¼Œä½ ä¸æ›´æ–°è°ƒç”¨æ–¹å¼ï¼Œå¿…ç„¶è¸©å‘ã€‚</p>
<hr/>
<h2 data-id="heading-5">ç»™å…¬ä¼—å·è¯»è€…çš„å®æ“å»ºè®®</h2>
<p>å¦‚æœä½ åœ¨åš LLM åº”ç”¨ï¼Œå¯ä»¥å°è¯•ä»¥ä¸‹ä¸‰æ­¥ï¼š</p>
<ol>
<li><strong>å¯¹æ¯” Prompt æ ¼å¼</strong>ï¼šåœ¨æ–°æ¨¡å‹ä¸Šåˆ†åˆ«ç”¨ Markdown å’Œ XML æµ‹è¯•åŒä¸€ä»»åŠ¡ï¼Œçœ‹çœ‹å·®å¼‚ï¼›</li>
<li><strong>æµ‹è¯•ä½ç½®æ•æ„Ÿæ€§</strong>ï¼šè°ƒæ¢ä¸Šä¸‹æ–‡ç¤ºä¾‹çš„é¡ºåºï¼Œè§‚å¯Ÿè¾“å‡ºå˜åŒ–ï¼›</li>
<li><strong>ç›‘æ§é»˜è®¤é£æ ¼</strong>ï¼šæ¯”å¦‚å­—æ•°é•¿çŸ­ã€æ˜¯å¦çˆ±åŠ è¯´æ˜ã€è¾“å‡ºç»“æ„æ˜¯å¦ç¨³å®šï¼Œå†³å®šè¦ä¸è¦é¡ºåŠ¿è€Œä¸ºã€‚</li>
</ol>
<p>è¿™æ ·ï¼Œä½ å°±èƒ½å¿«é€Ÿåˆ¤æ–­ <strong>æ˜¯å¦éœ€è¦é‡å†™ Prompt</strong>ï¼Œè€Œä¸æ˜¯æŠŠé—®é¢˜å½’å’äºâ€œæ–°æ¨¡å‹ä¸è¡Œâ€ã€‚</p>
<hr/>
<p><strong>å–œæ¬¢å°±å¥–åŠ±ä¸€ä¸ªâ€œğŸ‘â€å’Œâ€œåœ¨çœ‹â€å‘—~</strong></p>
<p><img src="https://files.mdnice.com/user/44095/f9363b7e-9738-44f3-9ac6-8ee2cddf995d.png" alt="image" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è°·æ­Œæˆªèƒ¡OpenAIï¼Ÿæ­ç§˜æœˆè´¹250åˆ€çš„â€œå¥¥æ•°é‡‘ç‰Œâ€AIåˆ°åº•å¼ºåœ¨å“ª]]></title>    <link>https://juejin.cn/post/7580180556984057906</link>    <guid>https://juejin.cn/post/7580180556984057906</guid>    <pubDate>2025-12-05T14:23:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580180556984057906" data-draft-id="7580197740962676762" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è°·æ­Œæˆªèƒ¡OpenAIï¼Ÿæ­ç§˜æœˆè´¹250åˆ€çš„â€œå¥¥æ•°é‡‘ç‰Œâ€AIåˆ°åº•å¼ºåœ¨å“ª"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-05T14:23:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è°·æ­Œæˆªèƒ¡OpenAIï¼Ÿæ­ç§˜æœˆè´¹250åˆ€çš„â€œå¥¥æ•°é‡‘ç‰Œâ€AIåˆ°åº•å¼ºåœ¨å“ª
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:23:31.000Z" title="Fri Dec 05 2025 14:23:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2025å¹´12æœˆ5æ—¥ï¼Œç§‘æŠ€åœˆåŸæœ¬å¹³é™çš„æ°´é¢è¢«è°·æ­Œæ‰”ä¸‹çš„ä¸€é¢—æ·±æ°´ç‚¸å¼¹å½»åº•æ…æµ‘äº†ã€‚</p>
<p>å°±åœ¨æ‰€æœ‰äººè¿˜åœ¨çŒœæµ‹OpenAIé‚£ä¸ªä¼ è¯´ä¸­çš„æ¨¡å‹ä½•æ—¶å…¬æµ‹æ—¶ï¼Œè°·æ­Œæ‚„æ— å£°æ¯åœ°æŒ‰ä¸‹äº†å‘å¸ƒé”®ã€‚Gemini 3 Deep Thinkï¼ˆæ·±åº¦æ€è€ƒæ¨¡å¼ï¼‰æ­£å¼ä¸Šçº¿ã€‚è¿™ä¸æ˜¯ä¸€æ¬¡å¸¸è§„çš„ç‰ˆæœ¬è¿­ä»£ï¼Œè€Œæ˜¯ä¸€æ¬¡å¯¹â€œAIèƒ½åšä»€ä¹ˆâ€çš„é‡æ–°å®šä¹‰ã€‚</p>
<p>å¦‚æœä½ è¿˜ä»¥ä¸ºç°åœ¨çš„AIåªæ˜¯é™ªèŠã€å†™å†™å‘¨æŠ¥çš„å·¥å…·ï¼Œé‚£ä½ å¯èƒ½å¾—é‡æ–°åˆ·æ–°ä¸€ä¸‹è®¤çŸ¥äº†ã€‚è°·æ­Œè¿™æ¬¡æŠŠé—¨æ§›æ‹‰åˆ°äº†ä¸€ä¸ªä»¤äººå’‹èˆŒçš„é«˜åº¦ï¼šè¿™ä¸€æ¨¡å¼ä»…å‘æ¯æœˆæ”¯ä»˜249.99ç¾å…ƒï¼ˆçº¦åˆäººæ°‘å¸1800å…ƒï¼‰çš„Google AI Ultraè®¢é˜…ç”¨æˆ·å¼€æ”¾ã€‚</p>
<p>è¿™å°±å¼•å‡ºäº†ä¸€ä¸ªéå¸¸ç°å®çš„é—®é¢˜ï¼šä¸€ä¸ªæœˆèŠ±ä¸¤ç™¾å¤šç¾é‡‘ï¼Œä¹°å›æ¥çš„åˆ°åº•æ˜¯ä¸ªä»€ä¹ˆæ€ªç‰©ï¼Ÿ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-05_22.17.04.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-05_22.17.04.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c715a23f98994bc38dc14ee9fe41c144~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765549411&amp;x-signature=E573IjrjrBDUYKBGveKP6gvaY0o%3D" alt="iShot_2025-12-05_22.17.04" loading="lazy"/></a></p>
<h3 data-id="heading-0">å“ªæ€•æ…¢å‡ åˆ†é’Ÿï¼Œä¹Ÿè¦ç®—å‡ºâ€œå¥¥æ•°é‡‘ç‰Œâ€</h3>
<p>æˆ‘ä»¬å…ˆæŠ›å¼€æ¯ç‡¥çš„å‚æ•°ï¼ŒèŠèŠè¿™ä¸ªæ¨¡å‹çš„â€œå¤§è„‘â€ã€‚</p>
<p>ä»¥å‰æˆ‘ä»¬ç”¨ChatGPTæˆ–è€…Geminiï¼Œæ„Ÿè§‰å®ƒä»¬åƒæ˜¯ä¸€ä¸ªååº”æå¿«çš„æ¥è¯å‘˜ï¼Œä½ è¯éŸ³åˆšè½ï¼Œå®ƒç­”æ¡ˆå°±æ¥äº†ã€‚è¿™ç§å¿«æ˜¯ä¼˜åŠ¿ï¼Œä¹Ÿæ˜¯åŠ£åŠ¿â€”â€”å› ä¸ºå¯¹äºå¤æ‚çš„æ•°å­¦æˆ–é€»è¾‘é—®é¢˜ï¼Œâ€œå¿«â€å¾€å¾€æ„å‘³ç€â€œä¸è¿‡è„‘å­â€ã€‚</p>
<p>Deep Think æœ€å¤§çš„ä¸åŒåœ¨äºï¼Œå®ƒå­¦ä¼šäº†â€œæ…¢ä¸‹æ¥â€ã€‚</p>
<p>è°·æ­Œè¿™æ¬¡å¼•å…¥äº†æ‰€è°“çš„â€œå¹¶è¡Œæ¨ç†æŠ€æœ¯â€ã€‚æ‰“ä¸ªæ¯”æ–¹ï¼Œä»¥å‰çš„AIè§£é¢˜æ˜¯ä¸€æ¡è·¯èµ°åˆ°é»‘ï¼Œæ’äº†å—å¢™ä¹Ÿä¸å›å¤´ï¼›è€ŒDeep Think å°±åƒä¸€ä¸ªç»éªŒä¸°å¯Œçš„æ•°å­¦æ•™æˆï¼Œé¢å¯¹ä¸€é“éš¾é¢˜ï¼Œå®ƒä¼šåœ¨åå°åŒæ—¶æ´¾å‡ºå¥½å‡ ä¸ªâ€œåˆ†èº«â€ï¼Œåˆ†åˆ«å°è¯•ä¸åŒçš„è§£é¢˜è·¯å¾„ã€‚æœ‰çš„åˆ†èº«å»è¯•é”™ï¼Œæœ‰çš„åˆ†èº«å»éªŒè¯ï¼Œæœ€åæŠŠèµ°é€šçš„é‚£æ¡è·¯æ•´åˆå‡ºæ¥ç»™ä½ ã€‚</p>
<p>è¿™ç§æœºåˆ¶å¸¦æ¥çš„ç»“æœæ˜¯éœ‡æ’¼çš„ã€‚åœ¨å›½é™…æ•°å­¦å¥¥æ—åŒ¹å…‹ç«èµ›ï¼ˆIMOï¼‰çš„æµ‹è¯•ä¸­ï¼Œå®ƒæ‹¿ä¸‹äº†42åˆ†æ»¡åˆ†ä¸­çš„35åˆ†ï¼ŒæˆåŠŸè§£å‡ºäº†6é“è¶…é«˜éš¾åº¦é¢˜ç›®ä¸­çš„5é“ã€‚è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ„å‘³ç€å®ƒå·²ç»è¾¾åˆ°äº†äººç±»é¡¶å°–æ•°å­¦ç«èµ›é€‰æ‰‹çš„é‡‘ç‰Œæ°´å‡†ã€‚</p>
<p>æ›´æœ‰æ„æ€çš„æ˜¯ï¼Œè°·æ­Œç”šè‡³å…è®¸ç”¨æˆ·å»è°ƒèŠ‚å®ƒçš„â€œæ€è€ƒæ·±åº¦â€ã€‚ä½ æ˜¯æƒ³è¦ä¸€ä¸ªå¿«é€Ÿçš„ç²—ç•¥ç­”æ¡ˆï¼Œè¿˜æ˜¯æ„¿æ„ç­‰ä¸Šå‡ åˆ†é’Ÿï¼Œè®©å®ƒè¿›è¡Œä¸€åœºæ·±åº¦çš„é€»è¾‘æ¨æ¼”ï¼Ÿè¿™ç§å°†æ€è€ƒè¿‡ç¨‹â€œå‚æ•°åŒ–â€çš„åšæ³•ï¼Œæ˜¯ä»¥å‰ä»æœªæœ‰è¿‡çš„ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FG7WlVfvb0AcyVYZ-1024x576.jpeg" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/G7WlVfvb0AcyVYZ-1024x576.jpeg" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d8704a7b4f1c47beb8d3d3097e817186~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765549411&amp;x-signature=95%2BzCRE%2FnwCkSB9D7MRP%2FJK0YVw%3D" alt="G7WlVfvb0AcyVYZ" loading="lazy"/></a></p>
<h3 data-id="heading-1">æ•°æ®ä¸ä¼šæ’’è°ï¼šç¢¾å‹çº§çš„ç¡¬å®åŠ›</h3>
<p>ä¸ºäº†éªŒè¯è¿™ä¸æ˜¯è¥é”€å™±å¤´ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹å‡ ä¸ªè¢«ç§°ä¸ºâ€œAIå™©æ¢¦â€çš„åŸºå‡†æµ‹è¯•æ•°æ®ã€‚</p>
<p>é¦–å…ˆæ˜¯ <strong>GPQA Diamond</strong>ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸“é—¨æµ‹è¯•åšå£«çº§ç§‘å­¦çŸ¥è¯†çš„é«˜éš¾åº¦é¢˜åº“ï¼ŒDeep Think æ‹¿åˆ°äº† <strong>93.8%</strong> çš„ææ€–é«˜åˆ†ã€‚</p>
<p>å…¶æ¬¡æ˜¯ <strong>Humanityâ€™s Last Exam (HLE)</strong>ã€‚è¿™åå­—å¬èµ·æ¥å°±å¾ˆä¸­äºŒï¼Œä½†å®ƒæ˜¯ç›®å‰ä¸šå†…å…¬è®¤æœ€éš¾çš„ç»¼åˆæ¨ç†æµ‹è¯•ä¹‹ä¸€ã€‚åœ¨ä¸ä½¿ç”¨ä»»ä½•å¤–éƒ¨å·¥å…·çš„æƒ…å†µä¸‹ï¼ŒDeep Think æ‹¿åˆ°äº† <strong>41.0%</strong>ã€‚ä½ å¯èƒ½è§‰å¾—41%ä¸é«˜ï¼Œä½†ä½œä¸ºå¯¹æ¯”ï¼Œä¹‹å‰çš„è¡Œä¸šé¡¶æµæ¨¡å‹åœ¨è¿™é‡Œçš„åˆ†æ•°å¤§å¤šæƒ¨ä¸å¿ç¹ï¼Œè¿åŠæ ¼çº¿çš„è¾¹éƒ½æ‘¸ä¸åˆ°ã€‚</p>
<p>å“ªæ€•æ˜¯åœ¨éœ€è¦å†™ä»£ç è§£å†³æŠ½è±¡é—®é¢˜çš„ <strong>ARC-AGI-2</strong> æµ‹è¯•ä¸­ï¼Œå®ƒä¹Ÿè·‘å‡ºäº† <strong>45.1%</strong> çš„æˆç»©ï¼Œç›´æ¥æŠŠGemini 3 Proï¼ˆ31.1%ï¼‰å’ŒGPT-5.1ï¼ˆ17.6%ï¼‰ç”©åœ¨äº†èº«åã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-05_22.16.47.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-05_22.16.47.png" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96ce18d723014dbfa10bd718c7ceb411~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765549411&amp;x-signature=N2%2FUQZr2mACutYhWuIGf03RfaMs%3D" alt="iShot_2025-12-05_22.16.47" loading="lazy"/></a></p>
<h3 data-id="heading-2">è°ä¼šä¸ºæ˜‚è´µçš„â€œæ€è€ƒâ€ä¹°å•ï¼Ÿ</h3>
<p>å›åˆ°ä»·æ ¼é—®é¢˜ï¼Œ249.99ç¾å…ƒçš„æœˆè´¹æ³¨å®šå®ƒä¸æ˜¯ç»™æ™®é€šç”¨æˆ·æ‹¿æ¥å†™é‚®ä»¶æˆ–æŸ¥èœè°±çš„ã€‚</p>
<p>Deep Think çš„ç›®æ ‡ç”¨æˆ·éå¸¸æ¸…æ™°ï¼šé‚£äº›éœ€è¦å¤„ç†<strong>ä¸¥è‚ƒé—®é¢˜</strong>çš„äººã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ˜¯ä¸€ä¸ªæ­£åœ¨æ”»å…‹æ–°ææ–™é…æ–¹çš„ç§‘ç ”äººå‘˜ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªéœ€è¦å¯¹æ•°åƒä¸ªå˜é‡è¿›è¡Œé£é™©è¯„ä¼°çš„é‡‘èåˆ†æå¸ˆã€‚ä½ éœ€è¦çš„ä¸æ˜¯ä¸€æ®µé€šé¡ºçš„æ–‡å­—ï¼Œè€Œæ˜¯ä¸€ä¸ªé€»è¾‘ä¸¥å¯†ã€ç»è¿‡å¤šé‡éªŒè¯çš„æ¨å¯¼è¿‡ç¨‹ã€‚Deep Think èƒ½å¤Ÿåœ¨å‡ åˆ†é’Ÿå†…å®Œæˆäººç±»ä¸“å®¶å¯èƒ½éœ€è¦å‡ å¤©æ‰èƒ½å®Œæˆçš„é€»è¾‘éªŒè¯ï¼Œè¿™æ‰æ˜¯å®ƒæ˜‚è´µè®¢é˜…è´¹èƒŒåçš„çœŸå®ä»·å€¼ã€‚</p>
<p>è°·æ­Œè¿™æ¬¡å…¶å®ä¹Ÿæ˜¯åœ¨èµŒã€‚å®ƒèµŒçš„æ˜¯ï¼ŒAIçš„ä¸‹ä¸€ä¸ªé˜¶æ®µï¼Œå°†ä»â€œç”Ÿæˆå†…å®¹â€è½¬å‘â€œè§£å†³é—®é¢˜â€ã€‚</p>
<h3 data-id="heading-3">å†™åœ¨æœ€å</h3>
<p>Gemini 3 Deep Think çš„å‡ºç°ï¼ŒæŸç§ç¨‹åº¦ä¸Šä¹Ÿæ˜¯å¯¹OpenAIçš„ä¸€æ¬¡â€œæˆªèƒ¡â€ã€‚å½“å¯¹æ‰‹è¿˜åœ¨å®éªŒå®¤é‡Œæ‰“ç£¨åŒç±»äº§å“æ—¶ï¼Œè°·æ­Œç›´æ¥æŠŠå®ƒæ¨å‘äº†å¸‚åœºã€‚</p>
<p>è™½ç„¶ç›®å‰å®ƒè¿˜æœ‰ä¸å°‘é™åˆ¶â€”â€”æ¯”å¦‚ç”Ÿæˆç­”æ¡ˆéœ€è¦æ•°åˆ†é’Ÿçš„ç­‰å¾…ï¼Œæ¯”å¦‚é«˜æ˜‚çš„ç®—åŠ›æˆæœ¬å¯¼è‡´çš„è®¢é˜…é—¨æ§›â€”â€”ä½†è¿™æ ‡å¿—ç€æˆ‘ä»¬ç»ˆäºè·¨è¿‡äº†ä¸€ä¸ªé—¨æ§›ï¼šAIä¸å†ä»…ä»…æ˜¯æ¨¡ä»¿äººç±»è¯´è¯ï¼Œå®ƒå¼€å§‹æ¨¡ä»¿äººç±»æ€è€ƒã€‚</p>
<p>å¯¹äºæ•´ä¸ªè¡Œä¸šæ¥è¯´ï¼Œè¿™åœºå…³äºâ€œæ¨ç†èƒ½åŠ›â€çš„å†›å¤‡ç«èµ›ï¼Œæ‰åˆšåˆšå¼€å§‹ã€‚è€Œå¯¹äºæˆ‘ä»¬æ™®é€šäººæ¥è¯´ï¼Œæˆ–è®¸è¦å¼€å§‹ä¹ æƒ¯è¿™æ ·ä¸€ç§æœªæ¥ï¼šå½“ä½ å‘ç”µè„‘æé—®æ—¶ï¼Œå®ƒä¸å†æ˜¯ç§’å›ï¼Œè€Œæ˜¯æ²‰æ€ç‰‡åˆ»ï¼Œç„¶åç»™å‡ºä¸€ä¸ªè¿ä½ è‡ªå·±éƒ½æœªæ›¾è®¾æƒ³è¿‡çš„å®Œç¾è¯æ˜ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‘Šåˆ«æŠ½å¡ç„å­¦ï¼šSeedream 4.5 å¦‚ä½•ç»ˆç»“AIç»˜å›¾çš„ä¸€è‡´æ€§å™©æ¢¦]]></title>    <link>https://juejin.cn/post/7580183671531831334</link>    <guid>https://juejin.cn/post/7580183671531831334</guid>    <pubDate>2025-12-05T14:34:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7580183671531831334" data-draft-id="7580183671531814950" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‘Šåˆ«æŠ½å¡ç„å­¦ï¼šSeedream 4.5 å¦‚ä½•ç»ˆç»“AIç»˜å›¾çš„ä¸€è‡´æ€§å™©æ¢¦"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2025-12-05T14:34:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‘Šåˆ«æŠ½å¡ç„å­¦ï¼šSeedream 4.5 å¦‚ä½•ç»ˆç»“AIç»˜å›¾çš„ä¸€è‡´æ€§å™©æ¢¦
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2025-12-05T14:34:12.000Z" title="Fri Dec 05 2025 14:34:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2025-12-05
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ ä¹Ÿæ˜¯ä¸€åè¢«Midjourneyæˆ–æ˜¯Stable DiffusionæŠ˜ç£¨è¿‡çš„AIåˆ›ä½œè€…ï¼Œé‚£ä½ ä¸€å®šç»å†è¿‡è¿™ç§å´©æºƒæ—¶åˆ»ï¼šä½ å¥½ä¸å®¹æ˜“â€œç‚¼â€å‡ºäº†ä¸€ä¸ªå®Œç¾çš„è§’è‰²å½¢è±¡ï¼Œå…‰å½±ç»ä½³ï¼Œçœ¼ç¥åˆ°ä½ã€‚ä½†å½“ä½ è¯•å›¾è®©è¿™ä¸ªè§’è‰²æ¢ä¸ªå§¿åŠ¿ï¼Œæˆ–è€…èµ°è¿›ä¸‹ä¸€ä¸ªåœºæ™¯æ—¶ï¼Œç”±äºAIé‚£ä¸å¯æ§çš„éšæœºæ€§ï¼ŒåŸæ¥çš„ä¸»è§’çªç„¶â€œæ•´å®¹â€äº†â€”â€”è¦ä¹ˆäº”å®˜ä¹±é£ï¼Œè¦ä¹ˆæ°”è´¨å¤§å˜ã€‚</p>
<p>ä¸ºäº†ä¿æŒè§’è‰²ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬ä¸å¾—ä¸åœ¨æ­¤å‰èŠ±è´¹å¤§é‡æ—¶é—´å»è®­ç»ƒLoRAï¼Œæˆ–è€…åœ¨ControlNeté‡Œåå¤è°ƒè¯•å‚æ•°ã€‚</p>
<p>ä½†å°±åœ¨2025å¹´12æœˆåˆï¼Œå­—èŠ‚è·³åŠ¨æ——ä¸‹çš„ç«å±±å¼•æ“å‘å¸ƒäº†Seedream 4.5ï¼Œå¹¶è¿…é€Ÿåœ¨LiblibAIå¹³å°ä¸Šçº¿ã€‚è¿™ä¸€æ¬¡ï¼Œä»–ä»¬ä¼¼ä¹çœŸçš„è¦æŠŠAIç»˜ç”»ä»â€œæŠ½å¡æ¸¸æˆâ€å˜æˆâ€œç”Ÿäº§åŠ›å·¥å…·â€ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-05_22.24.54-1024x695.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-05_22.24.54-1024x695.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e26ecc1f20fe478db0ed7c7a8b5fd255~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765550052&amp;x-signature=4D6hTdzHv7RPT3sdv5nvYTKGPSY%3D" alt="iShot_2025-12-05_22.24.54" loading="lazy"/></a></p>
<p><strong>ä¸ä»…æ˜¯ç”»å¾—å¥½çœ‹ï¼Œæ›´æ˜¯ç”»å¾—å¬è¯</strong></p>
<p>æˆ‘ä»¬éœ€è¦ææ¸…æ¥šè¿™ä¸€æ³¢æ›´æ–°çš„æ ¸å¿ƒé€»è¾‘ã€‚LiblibAIæ˜¯ä¸€ä¸ªèšåˆå¹³å°ï¼Œç›¸å½“äºä½ çš„å·¥ä½œå°ï¼›è€ŒSeedream 4.5åˆ™æ˜¯è¿™ä¸ªå°å­ä¸Šæ–°è£…çš„ä¸€å°å¼ºåŠ›å‘åŠ¨æœºã€‚</p>
<p>è¿™å°æ–°å‘åŠ¨æœºæœ€å“äººçš„åœ°æ–¹åœ¨äºå®ƒçš„â€œè®°å¿†åŠ›â€å’Œâ€œç†è§£åŠ›â€ã€‚</p>
<p>åœ¨è¿‡å»çš„æ¨¡å‹ä¸­ï¼Œå¤šå›¾èåˆå¾€å¾€æ˜¯ä¸€åœºç¾éš¾ã€‚ä½ ç»™AIä¸€å¼ äº§å“å›¾ï¼Œä¸€å¼ æ¨¡ç‰¹å›¾ï¼Œå†åŠ ä¸€å¼ èƒŒæ™¯å›¾ï¼Œæœ€åå‡ºæ¥çš„ç»“æœå¤§æ¦‚ç‡æ˜¯ç¼åˆæ€ªã€‚ä½†Seedream 4.5æ”¯æŒåŒæ—¶è¾“å…¥å¤šè¾¾10å¼ å‚è€ƒå›¾ã€‚è¿™æ„å‘³ç€ä»€ä¹ˆï¼Ÿè¿™æ„å‘³ç€ä½ å¯ä»¥æŠŠè¡£æœã€é…é¥°ã€æ¨¡ç‰¹é•¿ç›¸ã€å…‰å½±å‚è€ƒä¸€è‚¡è„‘ä¸¢ç»™å®ƒï¼Œå®ƒä¸ä»…èƒ½è¯»æ‡‚ï¼Œè¿˜èƒ½æŠŠè¿™äº›å…ƒç´ åƒæ‹¼ä¹é«˜ä¸€æ ·ï¼Œé€»è¾‘è‡ªæ´½åœ°èåˆè¿›ä¸€å¼ å›¾é‡Œã€‚</p>
<p>å¯¹äºåšç”µå•†è®¾è®¡ã€åšè¿è½½æ¼«ç”»çš„æœ‹å‹æ¥è¯´ï¼Œè¿™ç®€ç›´æ˜¯æ•‘å‘½çš„åŠŸèƒ½ã€‚å®ƒè§£å†³äº†ä¸€ä¸ªæ ¹æœ¬ç—›ç‚¹ï¼š<strong>å¤šå›¾ä¹‹é—´çš„ä¸€è‡´æ€§</strong>ã€‚ä½ çš„è§’è‰²åœ¨ç¬¬ä¸€å¼ å›¾é‡Œç©¿çš„æ˜¯å¤å¤çš®è¡£ï¼Œåœ¨ç¬¬åå¼ å›¾é‡Œï¼Œè¿™ä»¶çš®è¡£çš„è´¨æ„Ÿã€è¤¶çš±ç”šè‡³å…‰æ³½ä¾ç„¶èƒ½ä¿æŒç»Ÿä¸€ï¼Œè€Œä¸æ˜¯å˜æˆä¸€ä»¶æ™®é€šçš„é»‘è‰²å¤¹å…‹ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2Fsadassdfg-1024x769.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/sadassdfg-1024x769.webp" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09d8346e57b845d98522177cf8f20795~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765550052&amp;x-signature=w3Z0U%2Fzuk7clD1gklKlOTtOVcFg%3D" alt="sadassdfg" loading="lazy"/></a></p>
<p><strong>ç»ˆäºèƒ½çœ‹æ‡‚ä¸­æ–‡ç”²æ–¹çš„éœ€æ±‚äº†</strong></p>
<p>ä½œä¸ºå›½äº§å¤§æ¨¡å‹ï¼ŒSeedream 4.5è‡ªå¸¦çš„â€œç§æ—å¤©èµ‹â€å°±æ˜¯å¯¹ä¸­æ–‡è¯­å¢ƒçš„ç†è§£ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œç”¨è‹±æ–‡æç¤ºè¯å»æè¿°â€œäº”å½©æ–‘æ–“çš„é»‘â€æˆ–è€…â€œèµ›åšæœ‹å…‹é£çš„æˆéƒ½å¤œæ™¯â€æ€»æœ‰ä¸€å±‚éš”è†œã€‚Seedream 4.5ä¸ä»…èƒ½ç²¾å‡†ç†è§£è¿™äº›å¤æ‚çš„ä¸­æ–‡ç¾å­¦æŒ‡ä»¤ï¼Œæ›´å…³é”®çš„æ˜¯ï¼Œå®ƒè§£å†³äº†AIç»˜ç”»çš„é˜¿å–€ç‰æ–¯ä¹‹è¸µâ€”â€”æ–‡å­—æ¸²æŸ“ã€‚</p>
<p>ä»¥å‰æˆ‘ä»¬ç”¨AIåšæµ·æŠ¥ï¼Œå›¾ç”Ÿå¥½åå¾—å»PSé‡ŒæŠŠAIé¬¼ç”»ç¬¦ä¸€æ ·çš„ä¹±ç ä¿®æ‰ï¼Œå†é‡æ–°æ’ç‰ˆã€‚ç°åœ¨ï¼ŒSeedream 4.5å¯ä»¥ç›´æ¥ç”Ÿæˆæ¸…æ™°ã€æ’ç‰ˆè§„æ•´çš„ä¸­è‹±æ–‡å­—ç¬¦ã€‚å®ƒå¯ä»¥ç›´æ¥äº§å‡ºå¸¦æœ‰æ­£ç¡®Logoå’Œæ–‡æ¡ˆçš„å•†ä¸šçº§æµ·æŠ¥ã€‚è™½ç„¶è¿˜ä¸èƒ½å®Œå…¨æ›¿ä»£èµ„æ·±è®¾è®¡å¸ˆçš„ç²¾ä¿®ï¼Œä½†å¯¹äºå¿«é€Ÿå‡ºå›¾çš„è¿è¥éœ€æ±‚æ¥è¯´ï¼Œè¿™å·²ç»æ˜¯è´¨çš„é£è·ƒã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-05_22.26.24-1024x680.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-05_22.26.24-1024x680.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/698a4d992ee440f5942bf03e3441d4b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765550052&amp;x-signature=ZZGKmf6oOE97qRbCryOIDoDxOoo%3D" alt="iShot_2025-12-05_22.26.24" loading="lazy"/></a></p>
<p><strong>ä¸ºä»€ä¹ˆæ˜¯LiblibAIï¼Ÿ</strong></p>
<p>å¯èƒ½ä¼šæœ‰äººé—®ï¼Œæ—¢ç„¶æ˜¯å­—èŠ‚çš„æ¨¡å‹ï¼Œä¸ºä»€ä¹ˆè¦åœ¨LiblibAIä¸Šç”¨ï¼Ÿ</p>
<p>å› ä¸ºå·¥ä½œæµã€‚</p>
<p>å•çº¯çš„ä¸€ä¸ªæ¨¡å‹ï¼Œåªæ˜¯ä¸€ä¸ªå¤§è„‘ã€‚è€Œåœ¨LiblibAIè¿™ä¸ªå¹³å°ä¸Šï¼ŒSeedream 4.5ä¸ä»…æ˜¯ä¸€ä¸ªé€‰é¡¹ï¼Œå®ƒå¯ä»¥é…åˆå¹³å°ä¸Šçš„ä¿®å›¾ã€æ”¾å¤§ã€è§†é¢‘ç”Ÿæˆç­‰ä¸€æ•´å¥—å·¥å…·é“¾ä½¿ç”¨ã€‚å¯¹äºä¸æƒ³æŠ˜è…¾æœ¬åœ°éƒ¨ç½²ã€æ˜¾å¡é…ç½®ä¸å¤Ÿçš„åˆ›ä½œè€…æ¥è¯´ï¼Œè¿™é‡Œæä¾›äº†ä¸€ä¸ªâ€œå¼€ç®±å³ç”¨â€çš„ç¯å¢ƒã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œå¿«é€Ÿå¯¹æ¯”Seedream 4.5å’Œå…¶ä»–æ¨¡å‹ï¼ˆæ¯”å¦‚MJ V7ï¼‰çš„æ•ˆæœï¼Œæ‰¾åˆ°æœ€é€‚åˆä½ å½“å‰é¡¹ç›®çš„é‚£ä¸ªè§£ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2025%2F12%2FiShot_2025-12-05_22.26.20.png" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2025/12/iShot_2025-12-05_22.26.20.png" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da83f0fd08cc46aba28f5e0f3d5826b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1765550052&amp;x-signature=uS21aJiPPNT0pBYO7ZvZHDsLdmY%3D" alt="iShot_2025-12-05_22.26.20" loading="lazy"/></a></p>
<p><strong>æ€»ç»“</strong></p>
<p>Seedream 4.5çš„å‡ºç°ï¼Œæ ‡å¿—ç€AIç»˜å›¾æ­£åœ¨ä»â€œçœ‹è¿æ°”â€çš„è‰ºæœ¯åˆ›ä½œï¼Œå‘â€œå¯æ§â€çš„å·¥ä¸šç”Ÿäº§è¿ˆè¿›ã€‚</p>
<p>å®ƒä¸å†åªæ˜¯è®©ä½ æ„Ÿå¹â€œå“‡ï¼Œç”»å¾—çœŸåƒç…§ç‰‡â€ï¼Œè€Œæ˜¯è®©ä½ åœ¨æ¥åˆ°ç”²æ–¹éœ€æ±‚â€”â€”æ¯”å¦‚â€œæˆ‘è¦ä¸€å¥—é£æ ¼ç»Ÿä¸€ã€æ¨¡ç‰¹å›ºå®šã€æ–‡æ¡ˆæ¸…æ™°çš„èŠ‚æ—¥æµ·æŠ¥â€æ—¶ï¼Œèƒ½åº•æ°”åè¶³åœ°æ‰“å¼€ç”µè„‘ï¼Œè€Œä¸æ˜¯åœ¨å¿ƒé‡Œé»˜é»˜ç¥ˆç¥·è¿™æ¬¡ç”Ÿæˆçš„éšæœºæ•°èƒ½ç»™ç‚¹åŠ›ã€‚</p>
<p>å¦‚æœä½ å—å¤Ÿäº†è§’è‰²â€œå˜è„¸â€ï¼Œæˆ–è€…åŒå€¦äº†æ— ä¼‘æ­¢çš„ä¿®å­—å·¥ä½œï¼Œç°åœ¨çš„Seedream 4.5ï¼Œç»å¯¹å€¼å¾—ä½ å»LiblibAIä¸Šè¯•ä¸€è¯•ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>