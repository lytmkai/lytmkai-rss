<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸€ç›´è¢«ç—…æ¯’æ”»å‡»ï¼Œè¯¥å¦‚ä½•æ’æŸ¥å‘¢ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7600990891207016475</link>    <guid>https://juejin.cn/post/7600990891207016475</guid>    <pubDate>2026-01-30T12:12:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600990891207016475" data-draft-id="7600752623069249546" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸€ç›´è¢«ç—…æ¯’æ”»å‡»ï¼Œè¯¥å¦‚ä½•æ’æŸ¥å‘¢ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-30T12:12:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="90åæ™¨ä»”"/> <meta itemprop="url" content="https://juejin.cn/user/2717648476705773"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œäº‘æœåŠ¡å™¨ä¸€ç›´è¢«ç—…æ¯’æ”»å‡»ï¼Œè¯¥å¦‚ä½•æ’æŸ¥å‘¢ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2717648476705773/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    90åæ™¨ä»”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T12:12:39.000Z" title="Fri Jan 30 2026 12:12:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€<strong>ç«‹å³åº”æ€¥å“åº”</strong></h3>
<ol>
<li>
<p><strong>æ–­å¼€ç½‘ç»œï¼ˆå¦‚æƒ…å†µä¸¥é‡ï¼‰</strong><br/>
å¦‚æœæ”»å‡»æ­£åœ¨é€ æˆä¸¥é‡å±å®³ï¼ˆå¦‚å¤§é‡å¤–å‘æµé‡ã€æŒ–çŸ¿ã€å‹’ç´¢ç­‰ï¼‰ï¼Œå¯ä¸´æ—¶åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°å°†å®ä¾‹<strong>å®‰å…¨ç»„è§„åˆ™è®¾ä¸ºæ‹’ç»æ‰€æœ‰å…¥ç«™/å‡ºç«™</strong>ï¼Œæˆ–ç›´æ¥<strong>åœæ­¢å®ä¾‹</strong>ï¼Œé˜²æ­¢è¿›ä¸€æ­¥æ‰©æ•£ã€‚</p>
</li>
<li>
<p><strong>ä¸è¦ç›´æ¥åˆ é™¤å¯ç–‘æ–‡ä»¶</strong><br/>
å…ˆä¿ç•™è¯æ®ï¼Œç”¨äºåç»­åˆ†æã€‚å¯ä»¥å°†å¯ç–‘è¿›ç¨‹ã€æ–‡ä»¶ã€æ—¥å¿—å¤‡ä»½åˆ°å…¶ä»–å®‰å…¨ä½ç½®ã€‚</p>
</li>
<li>
<p><strong>æ£€æŸ¥å½“å‰è¿è¡Œçš„è¿›ç¨‹ä¸ç½‘ç»œè¿æ¥</strong><br/>
ç™»å½•æœåŠ¡å™¨åæ‰§è¡Œï¼š</p>
<pre><code class="hljs language-bash" lang="bash">top                    <span class="hljs-comment"># æŸ¥çœ‹é«˜CPUå ç”¨è¿›ç¨‹</span>
ps aux                 <span class="hljs-comment"># åˆ—å‡ºæ‰€æœ‰è¿›ç¨‹</span>
netstat -tulnp         <span class="hljs-comment"># æŸ¥çœ‹ç›‘å¬ç«¯å£åŠå¯¹åº”è¿›ç¨‹</span>
ss -tulnp              <span class="hljs-comment"># æ›´ç°ä»£çš„æ›¿ä»£å‘½ä»¤</span>
lsof -i                <span class="hljs-comment"># æŸ¥çœ‹å“ªäº›è¿›ç¨‹åœ¨ä½¿ç”¨ç½‘ç»œ</span>
</code></pre>
</li>
<li>
<p><strong>æ£€æŸ¥å®šæ—¶ä»»åŠ¡ä¸å¯åŠ¨é¡¹</strong><br/>
ç—…æ¯’å¸¸é€šè¿‡ cron æˆ– systemd æŒä¹…åŒ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">crontab -l             <span class="hljs-comment"># å½“å‰ç”¨æˆ·å®šæ—¶ä»»åŠ¡</span>
<span class="hljs-built_in">cat</span> /etc/crontab       <span class="hljs-comment"># ç³»ç»Ÿçº§å®šæ—¶ä»»åŠ¡</span>
<span class="hljs-built_in">ls</span> /etc/cron.d/
systemctl list-unit-files --<span class="hljs-built_in">type</span>=service | grep enabled
<span class="hljs-built_in">ls</span> /etc/init.d/
</code></pre>
</li>
<li>
<p><strong>æ£€æŸ¥æ–°å¢ç”¨æˆ·æˆ–å¼‚å¸¸SSHç™»å½•</strong></p>
<pre><code class="hljs language-bash" lang="bash">last                   <span class="hljs-comment"># æŸ¥çœ‹æœ€è¿‘ç™»å½•è®°å½•</span>
<span class="hljs-built_in">who</span>                    <span class="hljs-comment"># å½“å‰ç™»å½•ç”¨æˆ·</span>
<span class="hljs-built_in">cat</span> /etc/passwd        <span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦æœ‰å¼‚å¸¸ç”¨æˆ·ï¼ˆUID 0 é rootï¼‰</span>
grep <span class="hljs-string">"Accepted"</span> /var/log/auth.log  <span class="hljs-comment"># Ubuntu/Debian</span>
grep <span class="hljs-string">"Accepted"</span> /var/log/secure    <span class="hljs-comment"># CentOS/RHEL</span>
</code></pre>
</li>
</ol>
<hr/>
<p>###äºŒã€<strong>æ¼æ´æ’æŸ¥ä¸ä¿®å¤</strong></p>
<ol>
<li>
<p><strong>ç¡®ä¿ç³»ç»Ÿå’Œè½¯ä»¶æœ€æ–°</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Ubuntu/Debian</span>
sudo apt update &amp;&amp; sudo apt upgrade -y

<span class="hljs-comment"># CentOS/RHEL</span>
sudo yum update -y   <span class="hljs-comment"># æˆ– dnf updateï¼ˆCentOS 8+ï¼‰</span>
</code></pre>
</li>
<li>
<p><strong>å…³é—­ä¸å¿…è¦çš„æœåŠ¡å’Œç«¯å£</strong><br/>
ä½¿ç”¨ <code>nmap localhost</code> æˆ– <code>ss -tuln</code> æŸ¥çœ‹å¼€æ”¾ç«¯å£ï¼Œå…³é—­ä¸ç”¨çš„æœåŠ¡ï¼ˆå¦‚ FTPã€Telnetã€Redis æœªæˆæƒè®¿é—®ç­‰ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ä¿®æ”¹é»˜è®¤ SSH é…ç½®</strong><br/>
ç¼–è¾‘ <code>/etc/ssh/sshd_config</code>ï¼š</p>
<pre><code class="hljs language-perl" lang="perl">Port <span class="hljs-number">22222</span>               <span class="hljs-comment"># æ”¹ä¸ºéæ ‡å‡†ç«¯å£ï¼ˆè®°å¾—åœ¨å®‰å…¨ç»„æ”¾è¡Œï¼‰</span>
PermitRootLogin <span class="hljs-keyword">no</span>       <span class="hljs-comment"># ç¦æ­¢ root ç™»å½•</span>
PasswordAuthentication <span class="hljs-keyword">no</span> <span class="hljs-comment"># æ”¹ç”¨å¯†é’¥ç™»å½•ï¼ˆæ›´å®‰å…¨ï¼‰</span>
AllowUsers your_user     <span class="hljs-comment"># ä»…å…è®¸ç‰¹å®šç”¨æˆ·</span>
</code></pre>
<p>ä¿®æ”¹åé‡å¯ SSHï¼š<code>sudo systemctl restart sshd</code></p>
</li>
<li>
<p><strong>å®‰è£…å¹¶é…ç½®é˜²ç«å¢™</strong></p>
<ul>
<li>ä½¿ç”¨ <code>ufw</code>ï¼ˆUbuntuï¼‰æˆ– <code>firewalld</code>ï¼ˆCentOSï¼‰</li>
<li>æˆ–ç›´æ¥ä¾èµ–<strong>é˜¿é‡Œäº‘å®‰å…¨ç»„</strong>ï¼šåªå¼€æ”¾å¿…è¦ç«¯å£ï¼ˆå¦‚ 80ã€443ã€è‡ªå®šä¹‰ SSH ç«¯å£ï¼‰</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-1">ä¸‰ã€<strong>ä½¿ç”¨å®‰å…¨å·¥å…·æ‰«æ</strong></h3>
<ol>
<li>
<p><strong>å®‰è£…æ€æ¯’/æ¶æ„è½¯ä»¶æ‰«æå·¥å…·</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.clamav.net%2F" target="_blank" title="https://www.clamav.net/" ref="nofollow noopener noreferrer">ClamAV</a>ï¼ˆå¼€æºæ€æ¯’ï¼‰</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fsourceforge.net%2Fprojects%2Frkhunter%2F" target="_blank" title="https://sourceforge.net/projects/rkhunter/" ref="nofollow noopener noreferrer">rkhunter</a>ï¼ˆæ£€æµ‹ rootkitï¼‰</li>
<li><a href="https://link.juejin.cn?target=http%3A%2F%2Fwww.chkrootkit.org%2F" target="_blank" title="http://www.chkrootkit.org/" ref="nofollow noopener noreferrer">chkrootkit</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcisofy.com%2Flynis%2F" target="_blank" title="https://cisofy.com/lynis/" ref="nofollow noopener noreferrer">Lynis</a>ï¼ˆç³»ç»Ÿå®‰å…¨å®¡è®¡ï¼‰</li>
</ul>
<p>ç¤ºä¾‹å®‰è£… rkhunterï¼š</p>
<pre><code class="hljs language-css" lang="css">sudo apt install rkhunter -y
sudo rkhunter <span class="hljs-attr">--update</span>
sudo rkhunter <span class="hljs-attr">--check</span>
</code></pre>
</li>
<li>
<p><strong>ä½¿ç”¨é˜¿é‡Œäº‘è‡ªå¸¦çš„å®‰å…¨äº§å“</strong></p>
<ul>
<li>
<p><strong>äº‘å®‰å…¨ä¸­å¿ƒï¼ˆåŸå®‰éª‘å£«ï¼‰</strong> ï¼šå…è´¹ç‰ˆå³å¯ç›‘æ§å…¥ä¾µã€ç—…æ¯’ã€æ¼æ´ã€‚</p>
<ul>
<li>ç™»å½• <a href="https://link.juejin.cn?target=https%3A%2F%2Fyundun.console.aliyun.com%2F" target="_blank" title="https://yundun.console.aliyun.com/" ref="nofollow noopener noreferrer">é˜¿é‡Œäº‘æ§åˆ¶å° &gt; äº‘å®‰å…¨ä¸­å¿ƒ</a></li>
<li>å¼€å¯â€œç—…æ¯’æŸ¥æ€â€ã€â€œåŸºçº¿æ£€æŸ¥â€ã€â€œå…¥ä¾µæ£€æµ‹â€</li>
</ul>
</li>
<li>
<p>è‹¥æœªå¼€å¯ï¼Œè¯·ç«‹å³å¯ç”¨ï¼Œå¹¶å…¨ç›˜æ‰«æã€‚</p>
</li>
</ul>
</li>
</ol>
<hr/>
<h3 data-id="heading-2">å››ã€<strong>é•¿æœŸé˜²æŠ¤å»ºè®®</strong></h3>
<ol>
<li><strong>æœ€å°æƒé™åŸåˆ™</strong>ï¼šä¸è¦ç”¨ root è¿è¡Œä¸šåŠ¡ç¨‹åºã€‚</li>
<li><strong>å®šæœŸå¤‡ä»½</strong>ï¼šä½¿ç”¨å¿«ç…§æˆ– OSS å¤‡ä»½å…³é”®æ•°æ®ã€‚</li>
<li><strong>å¯ç”¨å¤šå› ç´ è®¤è¯ï¼ˆMFAï¼‰</strong> ï¼šä¿æŠ¤é˜¿é‡Œäº‘è´¦å·ã€‚</li>
<li><strong>æ—¥å¿—é›†ä¸­ç®¡ç†</strong>ï¼šå°† <code>/var/log/</code> æ—¥å¿—å‘é€åˆ° SLSï¼ˆæ—¥å¿—æœåŠ¡ï¼‰ä¾¿äºåˆ†æã€‚</li>
<li><strong>å®šæœŸå®‰å…¨å®¡è®¡</strong>ï¼šæ¯æœˆæ£€æŸ¥ä¸€æ¬¡ç”¨æˆ·ã€ç«¯å£ã€è¿›ç¨‹ã€å®šæ—¶ä»»åŠ¡ã€‚</li>
</ol>
<hr/>
<h3 data-id="heading-3">äº”ã€<strong>å¦‚æœå·²ä¸¥é‡æ„ŸæŸ“ï¼Ÿ</strong></h3>
<ul>
<li>
<p><strong>æœ€å½»åº•çš„æ–¹å¼</strong>ï¼š</p>
<ol>
<li>åˆ›å»ºå½“å‰ç³»ç»Ÿå¿«ç…§ï¼ˆç”¨äºå–è¯ï¼‰</li>
<li><strong>é‡è£…ç³»ç»Ÿ</strong>ï¼ˆä½¿ç”¨é˜¿é‡Œäº‘æä¾›çš„å¹²å‡€é•œåƒï¼‰</li>
<li><strong>ä»…æ¢å¤ç¡®è®¤å¹²å‡€çš„æ•°æ®</strong>ï¼ˆä¸è¦æ¢å¤å¯æ‰§è¡Œæ–‡ä»¶æˆ–è„šæœ¬ï¼‰</li>
<li>é‡æ–°éƒ¨ç½²åº”ç”¨ï¼Œå¹¶åº”ç”¨ä¸Šè¿°å®‰å…¨æªæ–½</li>
</ol>
</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å…è´¹æ¥å…¥ Stripeï¼Œä¸åˆ° 2 å°æ—¶æå®šï¼šOpenCode + K2.5 å®æ“å…¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7600986252448972840</link>    <guid>https://juejin.cn/post/7600986252448972840</guid>    <pubDate>2026-01-30T12:26:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600986252448972840" data-draft-id="7600799940971495464" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å…è´¹æ¥å…¥ Stripeï¼Œä¸åˆ° 2 å°æ—¶æå®šï¼šOpenCode + K2.5 å®æ“å…¨æµç¨‹"/> <meta itemprop="keywords" content="AIç¼–ç¨‹,AIGC,OpenAI"/> <meta itemprop="datePublished" content="2026-01-30T12:26:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å­Ÿå¥AIç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/4212984287073895"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å…è´¹æ¥å…¥ Stripeï¼Œä¸åˆ° 2 å°æ—¶æå®šï¼šOpenCode + K2.5 å®æ“å…¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984287073895/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å­Ÿå¥AIç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T12:26:16.000Z" title="Fri Jan 30 2026 12:26:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯å­Ÿå¥ã€‚</p>
<p>ä»Šå¤©å°è¯•ç”¨ OpenCode çš„<strong>å…è´¹ K2.5 æ¨¡å‹</strong>æ¥å…¥ Stripeï¼Œæ•´ä¸ªè¿‡ç¨‹éå¸¸ä¸æ»‘ï¼Œ<strong>ä¸€åˆ†é’±æ²¡èŠ±</strong>ï¼Œä¸åˆ° 2 å°æ—¶å°±æå®šäº†ã€‚</p>
<p>K2.5 æ•´ä½“è¡¨ç°æŒºå¼ºçš„ï¼Œå“åº”å¿«ã€é¢åº¦å……è£•ï¼ŒæŠŠå®Œæ•´è¿‡ç¨‹åˆ†äº«ç»™å¤§å®¶ã€‚</p>
<h2 data-id="heading-0">01 è¿æ¥æ¨¡å‹</h2>
<p>å®‰è£…å¥½ OpenCode ä¹‹åï¼Œè¾“å…¥ <code>/connect</code> å‘½ä»¤æ¥è¿æ¥æ¨¡å‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c903e0813ee243778908f0ca5c1d7aed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770380776&amp;x-signature=BY1uLlvy5NPxtj3cPON9C69QVUA%3D" alt="" loading="lazy"/></p>
<p>é€‰æ‹© <strong>Opencode Zen</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7bd21a530cb243acbb48954502edc847~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770380776&amp;x-signature=%2BFpeU8D4TdR4WVNdeEAGO3zG%2Fj0%3D" alt="" loading="lazy"/></p>
<p>ç„¶åè¾“å…¥ä½ çš„ API Key å°±å¯ä»¥ä½¿ç”¨äº†ã€‚Key å¯ä»¥å» OpenCode å®˜ç½‘çš„ Zen æ¨¡å—ç”³è¯·ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fopencode.ai%2F" target="_blank" title="https://opencode.ai/" ref="nofollow noopener noreferrer">opencode.ai/</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17451ae345bb4f54ab182dad71535061~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770380776&amp;x-signature=w5Vm%2BlOizvmGTCDiHyk3afSOZns%3D" alt="" loading="lazy"/></p>
<p>è¾“å…¥å®Œ Key ä¹‹åï¼Œä¼šå‘ç°æœ‰ <strong>5 ä¸ªæ¨¡å‹éƒ½å¯ä»¥å…è´¹ä½¿ç”¨</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/705f3a90d1144e548a3206e0a46d6698~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770380776&amp;x-signature=9OQsiQAe%2BvpgmdA5%2FiyhK23WWOE%3D" alt="" loading="lazy"/></p>
<p>é€‰æ‹© <strong>Kimi K2.5 Free</strong>ï¼Œå°±å¯ä»¥å¼€å§‹äº†ã€‚</p>
<h2 data-id="heading-1">02 è®© K2.5 å¸®æˆ‘æ¥ Stripe</h2>
<p>å› ä¸ºæˆ‘æ˜¯ç¬¬ä¸€æ¬¡æ¥å…¥ Stripeï¼Œä¹Ÿæ²¡æœ‰åº•ï¼Œæ‰€ä»¥å…ˆè®©å®ƒç»™ç‚¹å»ºè®®ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cb8e2f50f1c84057bd91b9f6ab1aa48f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770380776&amp;x-signature=4KW9hx6jdMtc3ShMc9PG8bFK3P8%3D" alt="" loading="lazy"/></p>
<p>å®ƒå‘Šè¯‰æˆ‘è¦åœ¨ Stripe åå°åˆ›å»ºäº§å“ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e37d6c812464b12b9054ab676af5bdf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770380776&amp;x-signature=dlPwZXavenxHz4KDoLg713ejWVI%3D" alt="" loading="lazy"/></p>
<p>ä¸è¿‡æˆ‘æ¯”è¾ƒæ‡’ï¼Œä¸æƒ³æ‰‹åŠ¨åˆ›å»ºï¼Œå°±é—®å®ƒèƒ½ä¸èƒ½ç”¨ API æ¥æå®šï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0bfa361622ae42a784add51271894d05~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770380776&amp;x-signature=ThbF3qlMdg%2BtGub1J7CLPdnjgyA%3D" alt="" loading="lazy"/></p>
<p>å®ƒç›´æ¥å¸®æˆ‘å†™äº†ä¸€ä¸ªè„šæœ¬ï¼Œåªéœ€è¦å¡«å…¥å¯†é’¥å°±å¥½ã€‚æˆ‘å» Stripe åå°æ‹¿åˆ°å¯†é’¥ï¼Œå¡«è¿›å»ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8a74d5ab16274ab98c3e917f5c49af6f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770380776&amp;x-signature=E0m09wXcNj2jQUfqj8CfpIszH3s%3D" alt="" loading="lazy"/></p>
<p>ç„¶åï¼Œ<strong>å®ƒä¸€æŠŠå¸®æˆ‘æŠŠä»£ç å†™å¥½äº†ï¼Œäº§å“ä¹Ÿåˆ›å»ºå¥½äº†</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0671b0b5d5254aaeab15b1fa463ba8f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770380776&amp;x-signature=HkIlufmsgtVJL%2BRQwd0kbaj0gD8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">03 åˆ›å»º Webhooks</h2>
<p>æ¥ä¸‹æ¥æ˜¯åˆ›å»º Webhooksã€‚æˆ‘è¿˜æ˜¯æ¯”è¾ƒæ‡’ï¼Œçœ‹çœ‹å®ƒèƒ½ä¸èƒ½å¸®æˆ‘åˆ›å»ºâ€”â€”ç»“æœ<strong>ç›´æ¥ä¸€é”®æå®š</strong>ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e82cd7bec8ad48cf9abb33cd37c8b6ec~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770380776&amp;x-signature=PWpADvxinMWbpg0s0t6ayG8SE7c%3D" alt="" loading="lazy"/></p>
<p>æˆ‘ç»™å®ƒä¸€ä¸ªæœ¬åœ°è°ƒè¯•åœ°å€ï¼Œå®ƒæ›¿æ¢åˆ° Webhooks é‡Œï¼Œå‘Šè¯‰æˆ‘å¯ä»¥æµ‹è¯•äº†ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/354909a348ec4014bf82c936ba54b9a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770380776&amp;x-signature=9KWIYYdoDyNvcWUPpT0hCl%2FXczo%3D" alt="" loading="lazy"/></p>
<p><strong>ä»˜æ¬¾ä¸€æ¬¡æˆåŠŸï¼Œæ²¡æœ‰ä»»ä½•æ³¢æŠ˜ï¼š</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3b3797ed32e4765a94229696fc1d5af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5a2f5YGlQUnnvJbnqIs=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770380776&amp;x-signature=K49p2nJ8NE37e7c3%2BYXJRUeZHNU%3D" alt="" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥å°±æ˜¯æ­£å¼ç¯å¢ƒå†æ¥ä¸€éï¼Œç›´æ¥éƒ¨ç½²ä¸Šçº¿ã€‚</p>
<h2 data-id="heading-3">04 å†™åœ¨æœ€å</h2>
<p>æ•´ä¸ªè¿‡ç¨‹ä¸åˆ° 2 å°æ—¶ï¼Œæˆ‘å°±æŠŠ Stripe æ¥å®Œäº†ã€‚</p>
<p>K2.5 æ•´ä½“å“åº”é€Ÿåº¦å¾ˆå¿«ï¼Œè€Œä¸” Free é¢åº¦ä¸€ç‚¹ä¹Ÿä¸å¡é¡¿ï¼Œéå¸¸å……è£•â€”â€”æˆ‘æ¥å®Œæ•´ä¸ª Stripe éƒ½æ²¡é‡åˆ°ä»»ä½•é™åˆ¶ã€‚</p>
<p><strong>æ¨èå¤§å®¶éƒ½å»è¯•è¯•ã€‚</strong></p>
<hr/>
<p>ğŸš€ æƒ³è¦ä¸æ›´å¤šAIçˆ±å¥½è€…äº¤æµï¼Œå…±åŒæˆé•¿å—ï¼Ÿ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FZ4k_5_waWJbRRo5lZBZmog" target="_blank" title="https://mp.weixin.qq.com/s/Z4k_5_waWJbRRo5lZBZmog" ref="nofollow noopener noreferrer">å’Œä¸€ç¾¤å¿—åŒé“åˆçš„äººï¼ŒæŒç»­ç²¾è¿› AI çš„æ¯ä¸€å¤©</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[flutteræ·»åŠ é—´éš™gapæºç è§£æ]]></title>    <link>https://juejin.cn/post/7601028900885446702</link>    <guid>https://juejin.cn/post/7601028900885446702</guid>    <pubDate>2026-01-30T12:46:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601028900885446702" data-draft-id="7600967006893637641" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="flutteræ·»åŠ é—´éš™gapæºç è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-30T12:46:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Nicholas68"/> <meta itemprop="url" content="https://juejin.cn/user/1222312662146766"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            flutteræ·»åŠ é—´éš™gapæºç è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1222312662146766/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Nicholas68
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T12:46:13.000Z" title="Fri Jan 30 2026 12:46:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Flutter å°éƒ¨ä»¶ï¼Œå¯è½»æ¾åœ¨ Flex å°éƒ¨ä»¶ï¼ˆå¦‚åˆ—å’Œè¡Œï¼‰æˆ–æ»šåŠ¨è§†å›¾ä¸­æ·»åŠ é—´éš™ã€‚</p>
<p><code>Gap</code>çš„æ ¸å¿ƒåŸç†æ˜¯ä½¿ç”¨<code>RenderObject</code>è‡ªå®šä¹‰å®ç°å¸ƒå±€ã€‚</p>
<h2 data-id="heading-0">Gap</h2>
<pre><code class="hljs language-scala" lang="scala">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Gap</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  const <span class="hljs-type">Gap</span>(
    <span class="hljs-keyword">this</span>.mainAxisExtent, {
    <span class="hljs-type">Key</span>? key,
    <span class="hljs-keyword">this</span>.crossAxisExtent,
    <span class="hljs-keyword">this</span>.color,
  })  : assert(mainAxisExtent &gt;= <span class="hljs-number">0</span> &amp;&amp; mainAxisExtent &lt; double.infinity),
        assert(crossAxisExtent == <span class="hljs-literal">null</span> || crossAxisExtent &gt;= <span class="hljs-number">0</span>),
        <span class="hljs-keyword">super</span>(key: key);

  const <span class="hljs-type">Gap</span>.expand(
    double mainAxisExtent, {
    <span class="hljs-type">Key</span>? key,
    <span class="hljs-type">Color</span>? color,
  }) : <span class="hljs-keyword">this</span>(
          mainAxisExtent,
          key: key,
          crossAxisExtent: double.infinity,
          color: color,
        );

  <span class="hljs-keyword">final</span> double mainAxisExtent;

  <span class="hljs-keyword">final</span> double? crossAxisExtent;

  <span class="hljs-keyword">final</span> <span class="hljs-type">Color</span>? color;

  <span class="hljs-meta">@override</span>
  <span class="hljs-type">Widget</span> build(<span class="hljs-type">BuildContext</span> context) {
    <span class="hljs-keyword">final</span> scrollableState = <span class="hljs-type">Scrollable</span>.maybeOf(context);
    <span class="hljs-keyword">final</span> <span class="hljs-type">AxisDirection</span>? axisDirection = scrollableState?.axisDirection;
    <span class="hljs-keyword">final</span> <span class="hljs-type">Axis</span>? fallbackDirection =
        axisDirection == <span class="hljs-literal">null</span> ? <span class="hljs-literal">null</span> : axisDirectionToAxis(axisDirection);

    <span class="hljs-keyword">return</span> _RawGap(
      mainAxisExtent,
      crossAxisExtent: crossAxisExtent,
      color: color,
      fallbackDirection: fallbackDirection,
    );
  }
}
</code></pre>
<p>ä»æºç çœ‹, å®ƒæä¾›äº†ä¸¤ä¸ªæ„é€ æ–¹æ³•, <code>Gap</code>å’Œ<code>Gap.expand</code>æ–¹ä¾¿ç”¨æˆ·æŒ‰éœ€ä½¿ç”¨ã€‚</p>
<h2 data-id="heading-1">_RawGap</h2>
<p><code>_RawGap</code>æ˜¯æ ¸å¿ƒç±», å®ƒç»§æ‰¿äº†<code>LeafRenderObjectWidget</code>.</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">_RawGap</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">LeafRenderObjectWidget</span> </span>{
  <span class="hljs-keyword">const</span> _RawGap(
    <span class="hljs-keyword">this</span>.mainAxisExtent, {
    Key? key,
    <span class="hljs-keyword">this</span>.crossAxisExtent,
    <span class="hljs-keyword">this</span>.color,
    <span class="hljs-keyword">this</span>.fallbackDirection,
  })  : <span class="hljs-keyword">assert</span>(mainAxisExtent &gt;= <span class="hljs-number">0</span> &amp;&amp; mainAxisExtent &lt; <span class="hljs-built_in">double</span>.infinity),
        <span class="hljs-keyword">assert</span>(crossAxisExtent == <span class="hljs-keyword">null</span> || crossAxisExtent &gt;= <span class="hljs-number">0</span>),
        <span class="hljs-keyword">super</span>(key: key);

  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double</span> mainAxisExtent;

  <span class="hljs-keyword">final</span> <span class="hljs-built_in">double?</span> crossAxisExtent;

  <span class="hljs-keyword">final</span> Color? color;

  <span class="hljs-keyword">final</span> Axis? fallbackDirection;

  <span class="hljs-meta">@override</span>
  RenderObject createRenderObject(BuildContext context) {
    <span class="hljs-keyword">return</span> RenderGap(
      mainAxisExtent: mainAxisExtent,
      crossAxisExtent: crossAxisExtent ?? <span class="hljs-number">0</span>,
      color: color,
      fallbackDirection: fallbackDirection,
    );
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> updateRenderObject(BuildContext context, RenderGap renderObject) {
    <span class="hljs-keyword">if</span> (kDebugMode) {
      debugPrint(
        <span class="hljs-string">'[Gap] updateRenderObject '</span>
        <span class="hljs-string">'mainAxisExtent=<span class="hljs-subst">$mainAxisExtent</span> '</span>
        <span class="hljs-string">'crossAxisExtent=<span class="hljs-subst">${crossAxisExtent ?? <span class="hljs-number">0</span>}</span> '</span>
        <span class="hljs-string">'color=<span class="hljs-subst">$color</span> '</span>
        <span class="hljs-string">'fallbackDirection=<span class="hljs-subst">$fallbackDirection</span>'</span>,
      );
    }
    renderObject
      ..mainAxisExtent = mainAxisExtent
      ..crossAxisExtent = crossAxisExtent ?? <span class="hljs-number">0</span>
      ..color = color
      ..fallbackDirection = fallbackDirection;
  }

  <span class="hljs-meta">@override</span>
  <span class="hljs-keyword">void</span> debugFillProperties(DiagnosticPropertiesBuilder properties) {
    <span class="hljs-keyword">super</span>.debugFillProperties(properties);
    properties.add(DoubleProperty(<span class="hljs-string">'mainAxisExtent'</span>, mainAxisExtent));
    properties.add(
        DoubleProperty(<span class="hljs-string">'crossAxisExtent'</span>, crossAxisExtent, defaultValue: <span class="hljs-number">0</span>));
    properties.add(ColorProperty(<span class="hljs-string">'color'</span>, color));
    properties.add(EnumProperty&lt;Axis&gt;(<span class="hljs-string">'fallbackDirection'</span>, fallbackDirection));
  }
}
</code></pre>
<h2 data-id="heading-2">RenderGap</h2>
<pre><code class="hljs language-scss" lang="scss">class RenderGap extends RenderBox {
  <span class="hljs-built_in">RenderGap</span>({
    required double mainAxisExtent,
    double? crossAxisExtent,
    Axis? fallbackDirection,
    Color? color,
  })  : _mainAxisExtent = mainAxisExtent,
        _crossAxisExtent = crossAxisExtent,
        _color = color,
        _fallbackDirection = fallbackDirection {
    if (kDebugMode) {
      <span class="hljs-built_in">debugPrint</span>(
        'ğŸ†• RenderGap&lt;init&gt; '
        'mainAxisExtent=$mainAxisExtent '
        'crossAxisExtent=$crossAxisExtent '
        'color=$color '
        'fallbackDirection=$fallbackDirection',
      );
    }
  }

  double get mainAxisExtent =&gt; _mainAxisExtent;
  double _mainAxisExtent;
  set <span class="hljs-built_in">mainAxisExtent</span>(double value) {
    if (_mainAxisExtent != value) {
      if (kDebugMode) {
        <span class="hljs-built_in">debugPrint</span>('ğŸ“ mainAxisExtent set: $_mainAxisExtent -&gt; $value');
      }
      _mainAxisExtent = value;
      <span class="hljs-built_in">markNeedsLayout</span>();
    }
  }

  double? get crossAxisExtent =&gt; _crossAxisExtent;
  double? _crossAxisExtent;
  set <span class="hljs-built_in">crossAxisExtent</span>(double? value) {
    if (_crossAxisExtent != value) {
      if (kDebugMode) {
        <span class="hljs-built_in">debugPrint</span>('ğŸ“ crossAxisExtent set: $_crossAxisExtent -&gt; $value');
      }
      _crossAxisExtent = value;
      <span class="hljs-built_in">markNeedsLayout</span>();
    }
  }

  Axis? get fallbackDirection =&gt; _fallbackDirection;
  Axis? _fallbackDirection;
  set <span class="hljs-built_in">fallbackDirection</span>(Axis? value) {
    if (_fallbackDirection != value) {
      if (kDebugMode) {
        <span class="hljs-built_in">debugPrint</span>('ğŸ§­ fallbackDirection set: $_fallbackDirection -&gt; $value');
      }
      _fallbackDirection = value;
      <span class="hljs-built_in">markNeedsLayout</span>();
    }
  }

  Axis? get _direction {
    final parentNode = parent;
    if (parentNode is RenderFlex) {
      return parentNode<span class="hljs-selector-class">.direction</span>;
    } else {
      return fallbackDirection;
    }
  }

  <span class="hljs-attribute">Color</span>? get <span class="hljs-attribute">color</span> =&gt; _color;
  <span class="hljs-attribute">Color</span>? _color;
  set <span class="hljs-attribute">color</span>(Color? value) {
    if (_color != value) {
      if (kDebugMode) {
        <span class="hljs-built_in">debugPrint</span>('ğŸ¨ color set: $_color -&gt; $value');
      }
      _color = value;
      <span class="hljs-built_in">markNeedsPaint</span>();
    }
  }

  <span class="hljs-keyword">@override</span>
  double computeMinIntrinsicWidth(double <span class="hljs-attribute">height</span>) {
    final result = <span class="hljs-built_in">_computeIntrinsicExtent</span>(
      Axis.horizontal,
      () =&gt; super<span class="hljs-selector-class">.computeMinIntrinsicWidth</span>(height),
    )!;
    if (kDebugMode) {
      <span class="hljs-built_in">debugPrint</span>('ğŸ”¹ computeMinIntrinsicWidth(height=$height) =&gt; <span class="hljs-variable">$result</span>');
    }
    return result;
  }

  <span class="hljs-keyword">@override</span>
  double computeMaxIntrinsicWidth(double <span class="hljs-attribute">height</span>) {
    final result = <span class="hljs-built_in">_computeIntrinsicExtent</span>(
      Axis.horizontal,
      () =&gt; super<span class="hljs-selector-class">.computeMaxIntrinsicWidth</span>(height),
    )!;
    if (kDebugMode) {
      <span class="hljs-built_in">debugPrint</span>('ğŸ”· computeMaxIntrinsicWidth(height=$height) =&gt; <span class="hljs-variable">$result</span>');
    }
    return result;
  }

  <span class="hljs-keyword">@override</span>
  double computeMinIntrinsicHeight(double <span class="hljs-attribute">width</span>) {
    final result = <span class="hljs-built_in">_computeIntrinsicExtent</span>(
      Axis.vertical,
      () =&gt; super<span class="hljs-selector-class">.computeMinIntrinsicHeight</span>(width),
    )!;
    if (kDebugMode) {
      <span class="hljs-built_in">debugPrint</span>('ğŸ”¸ computeMinIntrinsicHeight(width=$width) =&gt; <span class="hljs-variable">$result</span>');
    }
    return result;
  }

  <span class="hljs-keyword">@override</span>
  double computeMaxIntrinsicHeight(double <span class="hljs-attribute">width</span>) {
    final result = <span class="hljs-built_in">_computeIntrinsicExtent</span>(
      Axis.vertical,
      () =&gt; super<span class="hljs-selector-class">.computeMaxIntrinsicHeight</span>(width),
    )!;
    if (kDebugMode) {
      <span class="hljs-built_in">debugPrint</span>('ğŸ”¶ computeMaxIntrinsicHeight(width=$width) =&gt; <span class="hljs-variable">$result</span>');
    }
    return result;
  }

  double? <span class="hljs-built_in">_computeIntrinsicExtent</span>(Axis axis, double Function() compute) {
    final Axis? <span class="hljs-attribute">direction</span> = _direction;
    if (direction == axis) {
      final result = _mainAxisExtent;
      if (kDebugMode) {
        <span class="hljs-built_in">debugPrint</span>(
          'ğŸ“ _computeIntrinsicExtent(axis=$axis, direction=$direction) =&gt; <span class="hljs-variable">$result</span>',
        );
      }
      return result;
    } else {
      if (_crossAxisExtent!.isFinite) {
        final result = _crossAxisExtent;
        if (kDebugMode) {
          <span class="hljs-built_in">debugPrint</span>(
            'ğŸ“ _computeIntrinsicExtent(axis=$axis, direction=$direction) =&gt; <span class="hljs-variable">$result</span>',
          );
        }
        return result;
      } else {
        final result = <span class="hljs-built_in">compute</span>();
        if (kDebugMode) {
          <span class="hljs-built_in">debugPrint</span>(
            'ğŸ“ _computeIntrinsicExtent(axis=$axis, direction=$direction) =&gt; <span class="hljs-variable">$result</span>',
          );
        }
        return result;
      }
    }
  }

  <span class="hljs-keyword">@override</span>
  Size computeDryLayout(BoxConstraints constraints) {
    final Axis? <span class="hljs-attribute">direction</span> = _direction;

    if (direction != null) {
      if (direction == Axis.horizontal) {
        final s =
            constraints<span class="hljs-selector-class">.constrain</span>(Size(mainAxisExtent, crossAxisExtent!));
        if (kDebugMode) {
          <span class="hljs-built_in">debugPrint</span>(
            'ğŸ’§ computeDryLayout(constraints=$constraints, direction=$direction) =&gt; <span class="hljs-variable">$s</span>',
          );
        }
        return s;
      } else {
        final s =
            constraints<span class="hljs-selector-class">.constrain</span>(Size(crossAxisExtent!, mainAxisExtent));
        if (kDebugMode) {
          <span class="hljs-built_in">debugPrint</span>(
            'ğŸ’§ computeDryLayout(constraints=$constraints, direction=$direction) =&gt; <span class="hljs-variable">$s</span>',
          );
        }
        return s;
      }
    } else {
      throw <span class="hljs-built_in">FlutterError</span>(
        'A Gap widget must be placed directly inside a Flex widget '
        'or its fallbackDirection must not be null',
      );
    }
  }

  <span class="hljs-keyword">@override</span>
  void performLayout() {
    size = <span class="hljs-built_in">computeDryLayout</span>(constraints);
    if (kDebugMode) {
      <span class="hljs-built_in">debugPrint</span>('ğŸ›  performLayout(constraints=$constraints) size=<span class="hljs-variable">$size</span>');
    }
  }

  <span class="hljs-keyword">@override</span>
  void paint(PaintingContext context, Offset offset) {
    if (color != null) {
      final Paint paint = <span class="hljs-built_in">Paint</span>().<span class="hljs-selector-class">.color</span> = <span class="hljs-attribute">color</span>!;
      context<span class="hljs-selector-class">.canvas</span><span class="hljs-selector-class">.drawRect</span>(offset &amp; size, paint);
      if (kDebugMode) {
        <span class="hljs-built_in">debugPrint</span>('ğŸ¨ paint(offset=$offset, size=$size, color=$color)');
      }
    } else {
      if (kDebugMode) {
        <span class="hljs-built_in">debugPrint</span>('ğŸ¨ paint(offset=$offset, size=$size, color=null)');
      }
    }
  }

  <span class="hljs-keyword">@override</span>
  void debugFillProperties(DiagnosticPropertiesBuilder properties) {
    super<span class="hljs-selector-class">.debugFillProperties</span>(properties);
    if (kDebugMode) {
      <span class="hljs-built_in">debugPrint</span>('ğŸ§¾ debugFillProperties()');
    }
    properties<span class="hljs-selector-class">.add</span>(DoubleProperty('mainAxisExtent', mainAxisExtent));
    properties<span class="hljs-selector-class">.add</span>(DoubleProperty('crossAxisExtent', crossAxisExtent));
    properties<span class="hljs-selector-class">.add</span>(ColorProperty('color', color));
    properties<span class="hljs-selector-class">.add</span>(EnumProperty&lt;Axis&gt;('fallbackDirection', fallbackDirection));
  }
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61eb8d902caf49c2a2f759635a2f51f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTmljaG9sYXM2OA==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770381973&amp;x-signature=KGBT%2B64Io3J2cBKhE36C3%2BXarsg%3D" alt="æˆªå±2026-01-30 19.30.39.png" loading="lazy"/></p>
<p>çœŸæ­£ç»˜åˆ¶åŸç†, <code>RenderGap</code>æ˜¯<code>RenderBox</code>çš„å­ç±», ä¸éœ€è¦å­ç±», ç»˜åˆ¶æ—¶, åªä¸è‡ªèº«<code>size</code>å’Œ<code>color</code>æœ‰å…³ã€‚</p>
<p><code>mainAxisExtent</code>ã€<code>crossAxisExtent</code>å±æ€§<code>set</code>æ–¹æ³•è§¦å‘å, ä¼šæ‰§è¡Œ<code>markNeedsLayout</code>, æ ‡è®°è¯¥æ¸²æŸ“å¯¹è±¡éœ€è¦é‡æ–°å¸ƒå±€, å¹¶è¯·æ±‚(<code>requestVisualUpdate</code>)è°ƒåº¦ä¸‹ä¸€å¸§æ‰§è¡Œå¸ƒå±€ã€‚</p>
<p>å¸ƒå±€é˜¶æ®µ,ä¼šæ‰§è¡Œ<code>computeDryLayout</code>ã€<code>performLayout</code>æ–¹æ³•,æ›´æ–°<code>size</code>ã€‚</p>
<p>ç»˜åˆ¶é˜¶æ®µ<code>paint</code>,åœ¨ offset &amp; size çš„çŸ©å½¢å†…å¡«å……é¢œè‰²ï¼ˆcolor ä¸º null æ—¶ä¸ç»˜åˆ¶ï¼‰ã€‚</p>
<ul>
<li>çŸ©å½¢èŒƒå›´ï¼šoffset &amp; size ç­‰ä»·äº Rect.fromLTWH(offset.dx, offset.dy, size.width, size.height)ï¼Œä¿è¯ç»˜åˆ¶ä¸¥æ ¼ä½äºæœ¬ç»„ä»¶åŒºåŸŸã€‚</li>
<li>æ— å­èŠ‚ç‚¹ä¸å›¾å±‚ï¼šRenderGap ä¸ push é¢å¤– Layerï¼Œä¹Ÿä¸ç»˜åˆ¶å­å†…å®¹ï¼›ä»…æŠŠä¸€ä¸ªçŸ©å½¢æŒ‡ä»¤æäº¤åˆ°å½“å‰ç”»å¸ƒã€‚</li>
</ul>
<p>è·Ÿ<code>markNeedsLayout</code>å¸ƒå±€é˜¶æ®µä¸åŒçš„æ˜¯, <code>markNeedsPaint</code>ç»˜åˆ¶é˜¶æ®µä¸å‚ä¸å°ºå¯¸è®¡ç®—, å®ƒåœ¨<code>size</code>ç¡®å®šåæ‰æ‰§è¡Œã€‚</p>
<p>ä¸æ ‡è®°æ–¹æ³•çš„å…³ç³»:</p>
<ul>
<li>markNeedsPaintï¼šå½“ color å˜æ›´æ—¶ç”±å±æ€§ setter è°ƒç”¨ï¼Œæ ‡è®°æœ¬èŠ‚ç‚¹éœ€è¦åœ¨ä¸‹ä¸€å¸§é‡ç»˜ï¼›ä¸ä¼šè§¦å‘å¸ƒå±€ã€‚</li>
<li>markNeedsLayoutï¼šå½“ mainAxisExtent/crossAxisExtent/fallbackDirection å˜æ›´å¼•èµ·å°ºå¯¸æˆ–æ–¹å‘å˜åŒ–æ—¶è°ƒç”¨ï¼›ä¸‹ä¸€å¸§ä¼šé‡æ–°å¸ƒå±€ï¼Œå¸ƒå±€å®Œæˆåè‹¥ç»˜åˆ¶åŒºåŸŸæˆ–å†…å®¹ä¹Ÿéœ€æ›´æ–°æ‰ä¼šå‡ºç° paintã€‚</li>
<li>æ‰§è¡Œé“¾è·¯ç¤ºä¾‹ï¼šå±æ€§å˜æ›´ â†’ æ ‡è®°ï¼ˆlayout/paintï¼‰â†’ å¸ƒå±€ï¼ˆcomputeDryLayout/performLayoutï¼‰â†’ ç»˜åˆ¶ï¼ˆpaintï¼‰ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»…å‡­80äº¿å‚æ•°å°±æƒ³æŒ‘æˆ˜GPT-5.2ï¼Ÿå•†æ±¤è¿™ä¸ªå¼€æºâ€œä¾¦æ¢â€æœ‰ç‚¹ä¸œè¥¿]]></title>    <link>https://juejin.cn/post/7600868443832844307</link>    <guid>https://juejin.cn/post/7600868443832844307</guid>    <pubDate>2026-01-30T12:49:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600868443832844307" data-draft-id="7600888960106659876" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»…å‡­80äº¿å‚æ•°å°±æƒ³æŒ‘æˆ˜GPT-5.2ï¼Ÿå•†æ±¤è¿™ä¸ªå¼€æºâ€œä¾¦æ¢â€æœ‰ç‚¹ä¸œè¥¿"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-30T12:49:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»…å‡­80äº¿å‚æ•°å°±æƒ³æŒ‘æˆ˜GPT-5.2ï¼Ÿå•†æ±¤è¿™ä¸ªå¼€æºâ€œä¾¦æ¢â€æœ‰ç‚¹ä¸œè¥¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T12:49:24.000Z" title="Fri Jan 30 2026 12:49:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2026å¹´çš„å¼€å¹´å¤§æˆï¼Œæ¯”æˆ‘æƒ³è±¡ä¸­æ¥å¾—æ›´æ—©ä¸€äº›ã€‚</p>
<p>å°±åœ¨1æœˆ30æ—¥ï¼Œå½“å¤§å®¶è¿˜åœ¨è®¨è®ºGPT-5.2çš„é€»è¾‘æ¨ç†æ˜¯å¦å·²ç»è§¦é¡¶æ—¶ï¼Œå•†æ±¤ç§‘æŠ€æ‚„æ— å£°æ¯åœ°ä¸¢å‡ºäº†ä¸€æšé‡ç£…ç‚¸å¼¹ï¼šSenseNova-MARSã€‚è¿™ä¸æ˜¯åˆä¸€ä¸ªåªä¼šâ€œçœ‹å›¾è¯´è¯â€çš„å¤šæ¨¡æ€æ¨¡å‹ï¼Œè€Œæ˜¯ä¸€ä¸ªèƒ½è‡ªä¸»æ€è€ƒã€ä¼šç”¨å·¥å…·ã€ç”šè‡³æœ‰ç‚¹â€œä¾¦æ¢ç›´è§‰â€çš„æ™ºèƒ½ä½“ã€‚</p>
<p>æœ€è®©åœˆå†…äººå’‹èˆŒçš„ä¸æ˜¯å®ƒçš„æŠ€æœ¯æ¶æ„ï¼Œè€Œæ˜¯é‚£ä¸ªåˆºçœ¼çš„åˆ†æ•°â€”â€”åœ¨å¤šæ¨¡æ€æœç´¢ä¸æ¨ç†çš„ç»¼åˆå¹³å‡åˆ†ä¸Šï¼Œå®ƒæ‹¿ä¸‹äº†69.74åˆ†ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fasdfsadfs-1024x501.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/asdfsadfs-1024x501.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b960e5eb9cb146a796f6c6582f8a72aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770382164&amp;x-signature=ndsxMFQ%2B%2BTPj8DzUNA%2F3P5nYilA%3D" alt="asdfsadfs" loading="lazy"/></a></p>
<p>è¿™ä¸ªæ•°å­—æ„å‘³ç€ä»€ä¹ˆï¼Ÿæ„å‘³ç€å®ƒåœ¨çº¸é¢å®åŠ›ä¸Šï¼Œå‹è¿‡äº†è°·æ­Œçš„Gemini-3-Proï¼ˆ69.06åˆ†ï¼‰ï¼Œä¹Ÿè¶…è¿‡äº†OpenAIçš„GPT-5.2ï¼ˆ67.64åˆ†ï¼‰ã€‚è€Œä¸”ï¼Œå®ƒè¿˜æ˜¯å¼€æºçš„ã€‚</p>
<h3 data-id="heading-0">ä¸æ­¢æ˜¯â€œçœ‹â€ï¼Œå®ƒå­¦ä¼šäº†â€œæŸ¥â€</h3>
<p>è¿‡å»æˆ‘ä»¬ç©å¤šæ¨¡æ€æ¨¡å‹ï¼ˆVLMï¼‰ï¼Œæµç¨‹é€šå¸¸æ˜¯è¿™æ ·çš„ï¼šä½ æ‰”ç»™AIä¸€å¼ å›¾ï¼Œé—®å®ƒâ€œè¿™æ˜¯å“ªï¼Ÿâ€ï¼ŒAIä¾é è®­ç»ƒæ—¶è®°ä½çš„çŸ¥è¯†åº“ï¼Œè¿æ°”å¥½èƒ½è’™å¯¹ï¼Œè¿æ°”ä¸å¥½å°±å¼€å§‹ä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“ã€‚</p>
<p>SenseNova-MARSçš„é€»è¾‘å®Œå…¨ä¸åŒã€‚å®ƒæ›´åƒæ˜¯ä¸€ä¸ªéšèº«æºå¸¦äº†æ”¾å¤§é•œå’Œç™¾ç§‘å…¨ä¹¦çš„ç¦å°”æ‘©æ–¯ã€‚</p>
<p>å•†æ±¤è¿™æ¬¡ä¸»æ‰“çš„æ¦‚å¿µå«â€œè‡ªä¸»è§„åˆ’â€ä¸â€œå¤šå·¥å…·åä½œâ€ã€‚ç®€å•æ¥è¯´ï¼Œå½“è¿™ä¸ªæ¨¡å‹é¢å¯¹ä¸€ä¸ªå¤æ‚é—®é¢˜æ—¶ï¼Œå®ƒä¸å†æ˜¯é â€œçŒœâ€ï¼Œè€Œæ˜¯é â€œæŸ¥â€ã€‚å®ƒèƒ½åƒäººç±»ä¸€æ ·ï¼ŒæŠŠä¸€ä¸ªå¤§é—®é¢˜æ‹†è§£æˆå‡ ä¸ªæ­¥éª¤ï¼š</p>
<ol>
<li><strong>è§‚å¯Ÿ</strong>ï¼šçœ‹åˆ°å›¾é‡Œçš„ç‰©ä½“ã€‚</li>
<li><strong>è§„åˆ’</strong>ï¼šæ€è€ƒéœ€è¦ä»€ä¹ˆä¿¡æ¯æ‰èƒ½å›ç­”é—®é¢˜ã€‚</li>
<li><strong>è¡ŒåŠ¨</strong>ï¼šè°ƒç”¨å·¥å…·å»è·å–ä¿¡æ¯ï¼ˆæ¯”å¦‚åˆ‡å‰²å›¾ç‰‡ã€æœç´¢ç½‘ç»œï¼‰ã€‚</li>
<li><strong>åé¦ˆ</strong>ï¼šæ ¹æ®æœåˆ°çš„ç»“æœä¿®æ­£ç­”æ¡ˆã€‚</li>
</ol>
<p>ä¸¾ä¸ªå¾ˆç°å®çš„ä¾‹å­ï¼šç»™å®ƒä¸€å¼ F1èµ›è½¦æ‰‹çš„ç…§ç‰‡ï¼Œé—®â€œè¿™ä¸ªè½¦æ‰‹æ‰€åœ¨çš„è½¦é˜Ÿæˆç«‹äºå“ªä¸€å¹´ï¼Ÿâ€ã€‚</p>
<p>æ™®é€šæ¨¡å‹å¯èƒ½ä¼šç›¯ç€èµ›è½¦æœä¸Šçš„æ¨¡ç³ŠLogoå‘å‘†ã€‚ä½†SenseNova-MARSä¼šå…ˆè°ƒç”¨<strong>å›¾åƒè£å‰ªå·¥å…·</strong>ï¼ŒæŠŠé‚£ä¸ªåªå ç”»é¢ä¸åˆ°5%çš„å¾®å°Logoåˆ‡å‡ºæ¥æ”¾å¤§ï¼›è¯†åˆ«æ¸…æ¥šåï¼Œç«‹åˆ»å¯åŠ¨<strong>å›¾æ–‡æœç´¢</strong>ï¼Œå»ç½‘ä¸ŠæŸ¥è¿™ä¸ªLogoå¯¹åº”çš„å“ç‰Œï¼›ç¡®è®¤å“ç‰Œæ˜¯æŸæŸè½¦é˜Ÿåï¼Œå†è¿›è¡ŒäºŒæ¬¡æœç´¢æŸ¥è¯¢è¯¥è½¦é˜Ÿçš„æˆç«‹å¹´ä»½ã€‚</p>
<p>è¿™å¥—â€œè¯†åˆ«-æŸ¥è¯¢-è®¡ç®—â€çš„è¿æ‹›ï¼Œå°±æ˜¯å®ƒå¾—åˆ†æ¯”GPT-5.2é«˜çš„ç§˜è¯€ã€‚ç‰¹åˆ«æ˜¯åœ¨HR-MMSearchï¼ˆé«˜æ¸…ç»†èŠ‚æœç´¢ï¼‰è¿™é¡¹è¢«èª‰ä¸ºâ€œAIç•Œå¥¥æ—åŒ¹å…‹â€çš„æµ‹è¯•ä¸­ï¼Œå®ƒæ‹¿åˆ°äº†54.43åˆ†ï¼Œè¿œè¶…é‚£äº›è™½ç„¶å‚æ•°å·¨å¤§ä½†åªä¼šâ€œå•æ¬¡ç›´è§‰æ¨ç†â€çš„é—­æºæ¨¡å‹ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fdsgdfgsfd.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/dsgdfgsfd.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6702443365f14382972fb686cd16238c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770382164&amp;x-signature=JAs76pF%2BExXS5VOTpy5IScKUMcw%3D" alt="dsgdfgsfd" loading="lazy"/></a></p>
<h3 data-id="heading-1">æ€ä¹ˆç»ƒå‡ºâ€œç›´è§‰â€çš„ï¼Ÿ</h3>
<p>è¦æŠŠAIè®­ç»ƒæˆè¿™æ ·å¹¶ä¸å®¹æ˜“ã€‚è¿™å°±å¥½æ¯”æ•™ä¸€ä¸ªå­¦ç”Ÿï¼Œå…‰è®©ä»–èƒŒä¹¦ï¼ˆé¢„è®­ç»ƒï¼‰æ˜¯ä¸å¤Ÿçš„ï¼Œä½ å¾—è®©ä»–å»å®ä¹ ï¼Œå»è§£å†³å®é™…é—®é¢˜ã€‚</p>
<p>å•†æ±¤å›¢é˜Ÿè¿™æ¬¡é‡‡ç”¨äº†ä¸€ç§åŒé˜¶æ®µçš„è®­ç»ƒç­–ç•¥ï¼Œéå¸¸æœ‰æ„æ€ï¼š</p>
<p>ç¬¬ä¸€é˜¶æ®µå«**â€œæ‰“åŸºç¡€â€**ã€‚ä»–ä»¬åˆ©ç”¨è‡ªåŠ¨åŒ–å¼•æ“åˆæˆäº†ä¸€å¤§å †é€»è¾‘ä¸¥å¯†çš„é«˜éš¾åº¦æ¡ˆä¾‹ï¼Œåƒæ˜¯ç»™AIç¼–äº†ä¸€å¥—ã€Šä¾¦æ¢å…¥é—¨æŒ‡å—ã€‹ï¼Œå¼ºåˆ¶å®ƒå­¦ä¹ åŸºç¡€çš„å·¥å…·ä½¿ç”¨é€»è¾‘ã€‚</p>
<p>ç¬¬äºŒé˜¶æ®µå«**â€œç»ƒå®æˆ˜â€<strong>ã€‚è¿™æ˜¯æ‹‰å¼€å·®è·çš„å…³é”®ã€‚ä»–ä»¬å¼•å…¥äº†å¼ºåŒ–å­¦ä¹ ï¼Œé…åˆä¸€ç§åä¸º</strong>BN-GSPO**çš„ç®—æ³•ã€‚è¿™å°±å¥½æ¯”æŠŠAIæ‰”è¿›æ¨¡æ‹Ÿå®æˆ˜æ¼”ç»ƒï¼Œåšå¯¹äº†ç»™å¥–åŠ±ï¼Œåšé”™äº†æ²¡ç³–åƒã€‚ä¹…è€Œä¹…ä¹‹ï¼Œæ¨¡å‹å°±åŸ¹å…»å‡ºäº†ä¸€ç§â€œå·¥å…·ä½¿ç”¨ç›´è§‰â€ã€‚å®ƒä¸å†æ˜¯æœºæ¢°åœ°è°ƒç”¨å·¥å…·ï¼Œè€Œæ˜¯çŸ¥é“åœ¨ä»€ä¹ˆæƒ…å†µä¸‹è¯¥æœå›¾ï¼Œä»€ä¹ˆæƒ…å†µä¸‹è¯¥æœå­—ï¼Œç”šè‡³çŸ¥é“ä»€ä¹ˆæ—¶å€™è¯¥åœä¸‹æ¥æ€è€ƒã€‚</p>
<h3 data-id="heading-2">ç»™å¼€å‘è€…çš„ä¸€ä»½å¤§ç¤¼</h3>
<p>å¯¹äºæˆ‘ä»¬åœ¨AIåœˆæ‘¸çˆ¬æ»šæ‰“çš„äººæ¥è¯´ï¼ŒSenseNova-MARSæœ€å¸å¼•äººçš„ç‚¹åœ¨äºå®ƒçš„<strong>å¼€æº</strong>ã€‚</p>
<p>å•†æ±¤è¿™æ¬¡éå¸¸å®åœ¨ï¼Œç›´æ¥æ”¾å‡ºäº†**8Bï¼ˆ80äº¿å‚æ•°ï¼‰<strong>å’Œ</strong>32Bï¼ˆ320äº¿å‚æ•°ï¼‰**ä¸¤ä¸ªç‰ˆæœ¬ã€‚</p>
<ul>
<li><strong>8Bç‰ˆæœ¬</strong>ï¼šè½»é‡çº§ï¼Œé€‚åˆæ˜¾å­˜æœ‰é™çš„å¼€å‘è€…ï¼Œç”šè‡³æœ‰æœ›åœ¨é«˜ç«¯è¾¹ç¼˜è®¾å¤‡ä¸Šè·‘èµ·æ¥ã€‚</li>
<li><strong>32Bç‰ˆæœ¬</strong>ï¼šæ»¡è¡€ç‰ˆï¼Œé‚£ä¸ªåŠæ‰“GPT-5.2çš„æˆç»©å°±æ˜¯å®ƒè·‘å‡ºæ¥çš„ï¼Œé€‚åˆéœ€è¦æè‡´æ¨ç†èƒ½åŠ›çš„ç§‘ç ”æˆ–å•†ä¸šé¡¹ç›®ã€‚</li>
</ul>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Ffsadfasdf-894x1024.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/fsadfasdf-894x1024.webp" ref="nofollow noopener noreferrer"><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57c14d760f0d41faacffafd975360c3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770382164&amp;x-signature=DPOlqPTQs3qigGDLQ0JcTdiwgqI%3D" alt="fsadfasdf" loading="lazy"/></a></p>
<p>è¿™æ„å‘³ç€ï¼Œä¸ç®¡æ˜¯åšå•†ä¸šæƒ…æŠ¥åˆ†æï¼ˆè‡ªåŠ¨ä»å³°ä¼šç…§ç‰‡é‡Œæ‰’ç«å“ä¿¡æ¯ï¼‰ï¼Œè¿˜æ˜¯åšå¤æ‚çš„å­¦æœ¯å›¾è¡¨éªŒè¯ï¼Œæˆ‘ä»¬ç°åœ¨éƒ½æœ‰äº†ä¸€ä¸ªSOTAï¼ˆå½“å‰æœ€ä¼˜ï¼‰çº§åˆ«çš„å¼€æºåº•åº§å¯ç”¨ã€‚æ¨¡å‹æƒé‡ã€è®­ç»ƒä»£ç ã€ç”šè‡³åˆæˆæ•°æ®é›†ï¼Œå…¨éƒ½åœ¨Hugging Faceå’ŒGitHubä¸Šå…¬å¼€äº†ã€‚</p>
<h3 data-id="heading-3">ç»“è¯­</h3>
<p>SenseNova-MARSçš„å‡ºç°ï¼ŒæŸç§ç¨‹åº¦ä¸Šæ ‡å¿—ç€å¤šæ¨¡æ€AIæ­£åœ¨ä»â€œæ„ŸçŸ¥æ—¶ä»£â€è·¨å…¥â€œè¡ŒåŠ¨æ—¶ä»£â€ã€‚</p>
<p>ä»¥å‰æˆ‘ä»¬æƒŠå¹äºAIèƒ½â€œçœ‹æ‡‚â€ä¸€å¼ å›¾ï¼Œç°åœ¨æˆ‘ä»¬å¼€å§‹è¦æ±‚AIèƒ½â€œæå®šâ€å›¾é‡Œçš„äº‹ã€‚è™½ç„¶69.74åˆ†è·ç¦»æ»¡åˆ†è¿˜æœ‰å¾ˆé•¿çš„è·¯è¦èµ°ï¼Œä½†åœ¨å¼€æºé¢†åŸŸï¼Œå•†æ±¤ç¡®å®æŠŠå¤©èŠ±æ¿å‘ä¸Šç‹ ç‹ é¡¶äº†ä¸€æˆªã€‚</p>
<p>å¦‚æœä½ æ‰‹å¤´æœ‰æ˜¾å¡ï¼Œä¸å¦¨å»ä¸‹è½½é‚£ä¸ª32Bçš„ç‰ˆæœ¬è·‘è·‘çœ‹ã€‚è¯´ä¸å®šï¼Œä½ ç”µè„‘é‡Œç°åœ¨å°±ä½ç€ä¸€ä¸ªæ¯”GPT-5.2è¿˜è¦ç²¾æ˜çš„â€œæ•°å­—ä¾¦æ¢â€ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬7ç¯‡ï¼‰ï¼šAionUi - å…è´¹å¼€æºçš„è·¨å¹³å°AIåŠå…¬åŠ©æ‰‹ï¼ŒClaude Coworkçš„å®Œç¾æ›¿ä»£]]></title>    <link>https://juejin.cn/post/7601007650722611241</link>    <guid>https://juejin.cn/post/7601007650722611241</guid>    <pubDate>2026-01-30T12:56:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7601007650722611241" data-draft-id="7600863478929883155" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬7ç¯‡ï¼‰ï¼šAionUi - å…è´¹å¼€æºçš„è·¨å¹³å°AIåŠå…¬åŠ©æ‰‹ï¼ŒClaude Coworkçš„å®Œç¾æ›¿ä»£"/> <meta itemprop="keywords" content="AIGC,å¼€æº,Claude"/> <meta itemprop="datePublished" content="2026-01-30T12:56:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†¬å¥‡Lab"/> <meta itemprop="url" content="https://juejin.cn/user/1857501105781193"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼ˆç¬¬7ç¯‡ï¼‰ï¼šAionUi - å…è´¹å¼€æºçš„è·¨å¹³å°AIåŠå…¬åŠ©æ‰‹ï¼ŒClaude Coworkçš„å®Œç¾æ›¿ä»£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1857501105781193/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†¬å¥‡Lab
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T12:56:03.000Z" title="Fri Jan 30 2026 12:56:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼•è¨€</h2>
<blockquote>
<p>"å½“AIåŠ©æ‰‹ä»äº‘ç«¯èµ°å‘æœ¬åœ°ï¼Œä»å•ä¸€æ¨¡å‹èµ°å‘å¤šæ¨¡å‹ç”Ÿæ€ï¼ŒçœŸæ­£çš„ç”Ÿäº§åŠ›é©å‘½æ‰åˆšåˆšå¼€å§‹ã€‚"</p>
</blockquote>
<p>è¿™æ˜¯"ä¸€å¤©ä¸€ä¸ªå¼€æºé¡¹ç›®"ç³»åˆ—çš„ç¬¬7ç¯‡æ–‡ç« ã€‚ä»Šå¤©å¸¦ä½ äº†è§£çš„é¡¹ç›®æ˜¯ <strong>AionUi</strong>ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FiOfficeAI%2FAionUi" target="_blank" title="https://github.com/iOfficeAI/AionUi" ref="nofollow noopener noreferrer">GitHub</a>ï¼‰ã€‚</p>
<p>å¦‚æœä½ æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªå…è´¹ã€å¼€æºã€è·¨å¹³å°çš„AIåŠå…¬åŠ©æ‰‹ï¼Œèƒ½å¤Ÿæ›¿ä»£Claude Coworkä½†åŠŸèƒ½æ›´å¼ºå¤§ï¼Œé‚£ä¹ˆAionUiç»å¯¹å€¼å¾—ä½ æ·±å…¥äº†è§£ã€‚å®ƒæ”¯æŒå¤šæ¨¡å‹ã€å¤šä¼šè¯ã€WebUIè¿œç¨‹è®¿é—®ï¼Œè¿˜èƒ½è¿›è¡Œæ–‡ä»¶ç®¡ç†ã€å®æ—¶é¢„è§ˆã€AIå›¾åƒç”Ÿæˆï¼Œæ˜¯ä¸€ä¸ªçœŸæ­£çš„"24/7 AIåŠå…¬ä¼™ä¼´"ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆé€‰æ‹©è¿™ä¸ªé¡¹ç›®ï¼Ÿ</strong></p>
<ul>
<li>ğŸ†“ <strong>å®Œå…¨å…è´¹å¼€æº</strong>ï¼šApache-2.0åè®®ï¼Œæ— è®¢é˜…è´¹ç”¨</li>
<li>ğŸŒ <strong>è·¨å¹³å°æ”¯æŒ</strong>ï¼šmacOSã€Windowsã€Linuxå…¨å¹³å°</li>
<li>ğŸ¤– <strong>å¤šæ¨¡å‹ç”Ÿæ€</strong>ï¼šæ”¯æŒGeminiã€Claudeã€OpenAIã€Qwenã€Ollamaç­‰</li>
<li>ğŸŒ <strong>WebUIè¿œç¨‹è®¿é—®</strong>ï¼š24/7éšæ—¶è®¿é—®ï¼Œæ”¯æŒç§»åŠ¨è®¾å¤‡</li>
<li>ğŸ“ <strong>æ™ºèƒ½æ–‡ä»¶ç®¡ç†</strong>ï¼šAIé©±åŠ¨çš„æ–‡ä»¶ç»„ç»‡å’Œå¤„ç†</li>
<li>ğŸ“„ <strong>å®æ—¶é¢„è§ˆ</strong>ï¼šæ”¯æŒ9+ç§æ ¼å¼çš„å³æ—¶é¢„è§ˆ</li>
<li>ğŸ¨ <strong>AIå›¾åƒç”Ÿæˆ</strong>ï¼šé›†æˆå¤šç§å›¾åƒç”Ÿæˆæ¨¡å‹</li>
</ul>
<h3 data-id="heading-1">ä½ å°†å­¦åˆ°ä»€ä¹ˆ</h3>
<ul>
<li>AionUiçš„æ ¸å¿ƒåŠŸèƒ½å’Œæ¶æ„è®¾è®¡</li>
<li>å¦‚ä½•é…ç½®å’Œä½¿ç”¨å¤šæ¨¡å‹AIåŠ©æ‰‹</li>
<li>WebUIè¿œç¨‹è®¿é—®çš„é…ç½®å’Œä½¿ç”¨</li>
<li>æ–‡ä»¶ç®¡ç†å’Œé¢„è§ˆåŠŸèƒ½çš„ä½¿ç”¨æŠ€å·§</li>
<li>AIå›¾åƒç”Ÿæˆå’Œç¼–è¾‘åŠŸèƒ½</li>
<li>ä¸Claude Coworkçš„å¯¹æ¯”åˆ†æ</li>
<li>å¦‚ä½•å¿«é€Ÿä¸Šæ‰‹ä½¿ç”¨AionUi</li>
</ul>
<h3 data-id="heading-2">å‰ç½®çŸ¥è¯†</h3>
<ul>
<li>å¯¹AIåŠ©æ‰‹æœ‰åŸºæœ¬äº†è§£</li>
<li>ç†Ÿæ‚‰æ¡Œé¢åº”ç”¨çš„ä½¿ç”¨</li>
<li>äº†è§£API Keyçš„é…ç½®ï¼ˆå¯é€‰ï¼‰</li>
<li>å¯¹æ–‡ä»¶ç®¡ç†æœ‰åŸºæœ¬æ¦‚å¿µ</li>
</ul>
<hr/>
<h2 data-id="heading-3">é¡¹ç›®èƒŒæ™¯</h2>
<h3 data-id="heading-4">é¡¹ç›®ç®€ä»‹</h3>
<p><strong>AionUi</strong> æ˜¯ä¸€ä¸ª<strong>å…è´¹ã€æœ¬åœ°ã€å¼€æºçš„24/7 AIåŠå…¬åŠ©æ‰‹</strong>ï¼Œæ”¯æŒGemini CLIã€Claude Codeã€Codexã€OpenCodeã€Qwen Codeã€Goose CLIã€Auggieç­‰å¤šç§AIä»£ç†ã€‚å®ƒæä¾›äº†å®Œæ•´çš„GUIç•Œé¢å’ŒWebUIè¿œç¨‹è®¿é—®ï¼Œè®©AIåŠ©æ‰‹çœŸæ­£æˆä¸ºä½ çš„"24å°æ—¶åŠå…¬ä¼™ä¼´"ã€‚</p>
<p><strong>é¡¹ç›®è§£å†³çš„æ ¸å¿ƒé—®é¢˜</strong>ï¼š</p>
<ul>
<li>Claude Coworkä»…æ”¯æŒmacOSï¼Œä¸”é”å®šClaudeæ¨¡å‹</li>
<li>ç¼ºä¹è·¨å¹³å°çš„AIåŠå…¬åŠ©æ‰‹è§£å†³æ–¹æ¡ˆ</li>
<li>éœ€è¦æ”¯æŒå¤šæ¨¡å‹çš„ç»Ÿä¸€ç•Œé¢</li>
<li>éœ€è¦æœ¬åœ°éƒ¨ç½²ï¼Œä¿æŠ¤æ•°æ®éšç§</li>
<li>éœ€è¦è¿œç¨‹è®¿é—®èƒ½åŠ›ï¼Œå®ç°24/7å¯ç”¨</li>
</ul>
<p><strong>é¢å‘çš„ç”¨æˆ·ç¾¤ä½“</strong>ï¼š</p>
<ul>
<li>éœ€è¦è·¨å¹³å°AIåŠ©æ‰‹çš„å¼€å‘è€…</li>
<li>å¸Œæœ›æ›¿ä»£Claude Coworkçš„ç”¨æˆ·</li>
<li>éœ€è¦å¤šæ¨¡å‹æ”¯æŒçš„AIç”¨æˆ·</li>
<li>å¯¹æ•°æ®éšç§æœ‰è¦æ±‚çš„ç”¨æˆ·</li>
<li>éœ€è¦è¿œç¨‹è®¿é—®AIå·¥å…·çš„ç”¨æˆ·</li>
</ul>
<h3 data-id="heading-5">ä½œè€…/å›¢é˜Ÿä»‹ç»</h3>
<p><strong>å›¢é˜Ÿï¼šiOfficeAI</strong></p>
<ul>
<li><strong>èƒŒæ™¯</strong>ï¼šä¸“æ³¨äºAIåŠå…¬è‡ªåŠ¨åŒ–çš„å¼€æºå›¢é˜Ÿ</li>
<li><strong>ç†å¿µ</strong>ï¼šæ‰“é€ å…è´¹ã€å¼€æºã€è·¨å¹³å°çš„AIåŠå…¬åŠ©æ‰‹</li>
<li><strong>é¡¹ç›®å®šä½</strong>ï¼šClaude Coworkçš„å¼€æºæ›¿ä»£æ–¹æ¡ˆ</li>
</ul>
<p><strong>é¡¹ç›®åˆ›å»ºæ—¶é—´</strong>ï¼š2024å¹´ï¼ˆä»GitHubæ´»åŠ¨æ¥çœ‹æ˜¯æŒç»­æ´»è·ƒçš„é¡¹ç›®ï¼‰</p>
<h3 data-id="heading-6">é¡¹ç›®æ•°æ®</h3>
<ul>
<li>â­ <strong>GitHub Stars</strong>: 11.7k+ï¼ˆæŒç»­å¿«é€Ÿå¢é•¿ï¼‰</li>
<li>ğŸ´ <strong>Forks</strong>: 884+</li>
<li>ğŸ“¦ <strong>ç‰ˆæœ¬</strong>: v1.7.8ï¼ˆæœ€æ–°ç‰ˆæœ¬ï¼Œ2026å¹´1æœˆ28æ—¥å‘å¸ƒï¼‰</li>
<li>ğŸ“„ <strong>License</strong>: Apache-2.0ï¼ˆå®Œå…¨å¼€æºï¼Œè‡ªç”±ä½¿ç”¨ï¼‰</li>
<li>ğŸŒ <strong>å®˜ç½‘</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aionui.com" target="_blank" title="https://www.aionui.com" ref="nofollow noopener noreferrer">www.aionui.com</a></li>
<li>ğŸ“š <strong>æ–‡æ¡£</strong>: åŒ…å«å®Œæ•´çš„ä½¿ç”¨æŒ‡å—å’Œé…ç½®æ–‡æ¡£</li>
<li>ğŸ’¬ <strong>ç¤¾åŒº</strong>: GitHub Issueså’ŒDiscussionsæ´»è·ƒ</li>
<li>ğŸ‘¥ <strong>è´¡çŒ®è€…</strong>: 31ä½è´¡çŒ®è€…ï¼Œæ´»è·ƒçš„ç¤¾åŒºå‚ä¸</li>
</ul>
<p><strong>é¡¹ç›®å‘å±•å†ç¨‹</strong>ï¼š</p>
<ul>
<li>2024å¹´ï¼šé¡¹ç›®åˆ›å»ºï¼Œå¼€å§‹æ„å»ºæ ¸å¿ƒåŠŸèƒ½</li>
<li>2024å¹´ä¸­ï¼šæ·»åŠ å¤šæ¨¡å‹æ”¯æŒå’ŒWebUIåŠŸèƒ½</li>
<li>2024å¹´åº•ï¼šå®Œå–„æ–‡ä»¶ç®¡ç†å’Œé¢„è§ˆåŠŸèƒ½</li>
<li>2025å¹´ï¼šæ·»åŠ AIå›¾åƒç”Ÿæˆå’Œç¼–è¾‘åŠŸèƒ½</li>
<li>2026å¹´ï¼šæŒç»­ä¼˜åŒ–ï¼Œç¤¾åŒºæ´»è·ƒåº¦æŒç»­æå‡</li>
</ul>
<hr/>
<h2 data-id="heading-7">ä¸»è¦åŠŸèƒ½</h2>
<h3 data-id="heading-8">æ ¸å¿ƒä½œç”¨</h3>
<p>AionUiçš„æ ¸å¿ƒä½œç”¨æ˜¯<strong>æä¾›ä¸€ä¸ªå…è´¹ã€å¼€æºã€è·¨å¹³å°çš„AIåŠå…¬åŠ©æ‰‹</strong>ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c3c6bedaf8f84256893efd061ed4ff50~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Yas5aWHTGFi:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770382563&amp;x-signature=rH6CvTezxRwIRv4MZm7qePaCGt0%3D" alt="07-01-aionui-function-banner.png" loading="lazy"/></p>
<ol>
<li><strong>å¤šæ¨¡å‹ç»Ÿä¸€ç®¡ç†</strong>ï¼šæ”¯æŒGeminiã€Claudeã€OpenAIã€Qwenã€Ollamaç­‰å¤šç§AIæ¨¡å‹ï¼Œç»Ÿä¸€ç®¡ç†å¯¹è¯å†å²</li>
<li><strong>è·¨å¹³å°ä½¿ç”¨</strong>ï¼šmacOSã€Windowsã€Linuxå…¨å¹³å°æ”¯æŒï¼Œæ”¯æŒWebUIè¿œç¨‹è®¿é—®</li>
<li><strong>æ–‡ä»¶æ™ºèƒ½ç®¡ç†</strong>ï¼šAIé©±åŠ¨çš„æ–‡ä»¶ç»„ç»‡ã€æ‰¹é‡å¤„ç†ã€Excelåˆ†æç­‰</li>
<li><strong>å®æ—¶é¢„è§ˆ</strong>ï¼šæ”¯æŒPDFã€Wordã€Excelã€PPTã€ä»£ç ã€Markdownç­‰9+ç§æ ¼å¼çš„å³æ—¶é¢„è§ˆå’Œç¼–è¾‘</li>
<li><strong>AIå›¾åƒç”Ÿæˆ</strong>ï¼šé›†æˆGemini 2.5 Flashã€Nanoã€Bananaç­‰å¤šç§å›¾åƒç”Ÿæˆæ¨¡å‹</li>
</ol>
<h3 data-id="heading-9">å¿«é€Ÿå¼€å§‹</h3>
<h4 data-id="heading-10">å®‰è£…æ–¹å¼</h4>
<p>AionUiæ”¯æŒå¤šç§å®‰è£…æ–¹å¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼1ï¼šä»GitHub Releasesä¸‹è½½ï¼ˆæ¨èï¼‰</span>
<span class="hljs-comment"># è®¿é—® https://github.com/iOfficeAI/AionUi/releases</span>
<span class="hljs-comment"># ä¸‹è½½å¯¹åº”å¹³å°çš„å®‰è£…åŒ…</span>

<span class="hljs-comment"># macOS</span>
<span class="hljs-comment"># ä¸‹è½½ .dmg æ–‡ä»¶å¹¶å®‰è£…</span>

<span class="hljs-comment"># Windows</span>
<span class="hljs-comment"># ä¸‹è½½ .exe æ–‡ä»¶å¹¶å®‰è£…</span>

<span class="hljs-comment"># Linux</span>
<span class="hljs-comment"># ä¸‹è½½ .AppImage æˆ– .deb/.rpm æ–‡ä»¶å¹¶å®‰è£…</span>

<span class="hljs-comment"># æ–¹å¼2ï¼šä»æºç æ„å»º</span>
git <span class="hljs-built_in">clone</span> https://github.com/iOfficeAI/AionUi.git
<span class="hljs-built_in">cd</span> AionUi
npm install
npm run build
</code></pre>
<h4 data-id="heading-11">åŸºæœ¬é…ç½®</h4>
<p><strong>1. é¦–æ¬¡å¯åŠ¨é…ç½®</strong></p>
<p>å¯åŠ¨AionUiåï¼Œé¦–æ¬¡ä½¿ç”¨éœ€è¦é…ç½®AIæœåŠ¡ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># æ”¯æŒGoogleè´¦å·ç™»å½•ï¼ˆè‡ªåŠ¨å…³è”Gemini CLIï¼‰</span>
<span class="hljs-comment"># æˆ–ä½¿ç”¨API Keyé…ç½®</span>

<span class="hljs-comment"># Geminié…ç½®ç¤ºä¾‹</span>
<span class="hljs-attr">provider:</span> <span class="hljs-string">"gemini"</span>
<span class="hljs-attr">apiKey:</span> <span class="hljs-string">"YOUR_GEMINI_API_KEY"</span>

<span class="hljs-comment"># Claudeé…ç½®ç¤ºä¾‹</span>
<span class="hljs-attr">provider:</span> <span class="hljs-string">"anthropic"</span>
<span class="hljs-attr">apiKey:</span> <span class="hljs-string">"YOUR_CLAUDE_API_KEY"</span>

<span class="hljs-comment"># OpenAIé…ç½®ç¤ºä¾‹</span>
<span class="hljs-attr">provider:</span> <span class="hljs-string">"openai"</span>
<span class="hljs-attr">apiKey:</span> <span class="hljs-string">"YOUR_OPENAI_API_KEY"</span>

<span class="hljs-comment"># æœ¬åœ°æ¨¡å‹é…ç½®ï¼ˆOllamaï¼‰</span>
<span class="hljs-attr">provider:</span> <span class="hljs-string">"custom"</span>
<span class="hljs-attr">apiUrl:</span> <span class="hljs-string">"http://localhost:11434/v1"</span>
</code></pre>
<p><strong>2. æœ€ç®€å•çš„ä½¿ç”¨ç¤ºä¾‹</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. å¯åŠ¨AionUiåº”ç”¨</span>
<span class="hljs-comment"># 2. é€‰æ‹©AIæ¨¡å‹ï¼ˆå¦‚Gemini CLIï¼‰</span>
<span class="hljs-comment"># 3. å¼€å§‹å¯¹è¯</span>

ç”¨æˆ·ï¼š<span class="hljs-string">"å¸®æˆ‘æ•´ç†ä¸€ä¸‹æ¡Œé¢ä¸Šçš„æ–‡ä»¶"</span>
AIï¼š<span class="hljs-string">"æˆ‘æ¥å¸®ä½ æ•´ç†æ–‡ä»¶ã€‚è¯·å‘Šè¯‰æˆ‘ä½ çš„æ•´ç†åå¥½..."</span>

ç”¨æˆ·ï¼š<span class="hljs-string">"ç”Ÿæˆä¸€ä¸ªReactç»„ä»¶çš„ä»£ç "</span>
AIï¼š<span class="hljs-string">"æˆ‘æ¥ä¸ºä½ ç”Ÿæˆä¸€ä¸ªReactç»„ä»¶..."</span>
</code></pre>
<h3 data-id="heading-12">æ ¸å¿ƒç‰¹æ€§</h3>
<ul>
<li><strong>å¤šä¼šè¯ç®¡ç†</strong>ï¼šæ”¯æŒå¤šä¼šè¯å¹¶å‘ï¼Œæ¯ä¸ªä¼šè¯ç‹¬ç«‹ä¸Šä¸‹æ–‡ï¼Œæœ¬åœ°SQLiteå­˜å‚¨</li>
<li><strong>WebUIè¿œç¨‹è®¿é—®</strong>ï¼šæµè§ˆå™¨è®¿é—®ï¼Œæ”¯æŒç§»åŠ¨è®¾å¤‡ï¼Œ24/7å¯ç”¨ï¼Œæ”¯æŒSSHéš§é“</li>
<li><strong>å¤šæ¨¡å‹ç”Ÿæ€</strong>ï¼šä¸»æµæ¨¡å‹ï¼ˆGeminiã€OpenAIã€Claudeã€Qwenï¼‰+ æœ¬åœ°æ¨¡å‹ï¼ˆOllamaã€LM Studioï¼‰+ è‡ªå®šä¹‰å¹³å°</li>
<li><strong>æ™ºèƒ½æ–‡ä»¶ç®¡ç†</strong>ï¼šæ–‡ä»¶æ ‘æµè§ˆã€æ‹–æ‹½ä¸Šä¼ ã€AIæ™ºèƒ½ç»„ç»‡ã€æ‰¹é‡å¤„ç†</li>
<li><strong>å®æ—¶é¢„è§ˆç¼–è¾‘</strong>ï¼š9+æ ¼å¼æ”¯æŒï¼Œå®æ—¶è·Ÿè¸ªæ–‡ä»¶å˜åŒ–ï¼Œæ”¯æŒMarkdown/ä»£ç /HTMLç¼–è¾‘</li>
<li><strong>AIå›¾åƒç”Ÿæˆ</strong>ï¼šé›†æˆå¤šç§å›¾åƒç”Ÿæˆæ¨¡å‹ï¼Œæ”¯æŒå›¾åƒè¯†åˆ«å’Œç¼–è¾‘</li>
<li><strong>ç•Œé¢å®šåˆ¶</strong>ï¼šCSSè‡ªå®šä¹‰ç•Œé¢ï¼Œè‡ªç”±å®šåˆ¶é¢œè‰²ã€æ ·å¼ã€å¸ƒå±€</li>
<li><strong>æ•°æ®å®‰å…¨</strong>ï¼šå®Œå…¨æœ¬åœ°å­˜å‚¨ï¼Œæ•°æ®ä¸ä¸Šäº‘ï¼Œç”¨æˆ·å®Œå…¨æ§åˆ¶</li>
</ul>
<h3 data-id="heading-13">é¡¹ç›®ä¼˜åŠ¿</h3>

































































<table><thead><tr><th align="left">å¯¹æ¯”é¡¹</th><th align="left">AionUi</th><th align="left">Claude Cowork</th><th align="left">å…¶ä»–AIåŠ©æ‰‹</th></tr></thead><tbody><tr><td align="left"><strong>å¹³å°æ”¯æŒ</strong></td><td align="left">macOS / Windows / Linux</td><td align="left">macOS Only</td><td align="left">éƒ¨åˆ†è·¨å¹³å°</td></tr><tr><td align="left"><strong>æ¨¡å‹æ”¯æŒ</strong></td><td align="left">å¤šæ¨¡å‹ï¼ˆGeminiã€Claudeã€OpenAIç­‰ï¼‰</td><td align="left">Claude Only</td><td align="left">å•ä¸€æ¨¡å‹</td></tr><tr><td align="left"><strong>è®¿é—®æ–¹å¼</strong></td><td align="left">GUI + WebUIè¿œç¨‹è®¿é—®</td><td align="left">GUI Only</td><td align="left">GUIä¸ºä¸»</td></tr><tr><td align="left"><strong>æˆæœ¬</strong></td><td align="left">å®Œå…¨å…è´¹å¼€æº</td><td align="left">$100/æœˆè®¢é˜…</td><td align="left">éƒ¨åˆ†å…è´¹</td></tr><tr><td align="left"><strong>æ•°æ®éšç§</strong></td><td align="left">å®Œå…¨æœ¬åœ°å­˜å‚¨</td><td align="left">äº‘ç«¯å­˜å‚¨</td><td align="left">æ··åˆå­˜å‚¨</td></tr><tr><td align="left"><strong>æ–‡ä»¶ç®¡ç†</strong></td><td align="left">AIæ™ºèƒ½ç®¡ç†</td><td align="left">åŸºç¡€æ”¯æŒ</td><td align="left">æœ‰é™æ”¯æŒ</td></tr><tr><td align="left"><strong>é¢„è§ˆåŠŸèƒ½</strong></td><td align="left">9+æ ¼å¼å®æ—¶é¢„è§ˆ</td><td align="left">æœ‰é™é¢„è§ˆ</td><td align="left">åŸºç¡€é¢„è§ˆ</td></tr><tr><td align="left"><strong>å›¾åƒç”Ÿæˆ</strong></td><td align="left">å¤šæ¨¡å‹æ”¯æŒ</td><td align="left">æ— </td><td align="left">éƒ¨åˆ†æ”¯æŒ</td></tr><tr><td align="left"><strong>å®šåˆ¶èƒ½åŠ›</strong></td><td align="left">CSSè‡ªå®šä¹‰ç•Œé¢</td><td align="left">æœ‰é™å®šåˆ¶</td><td align="left">æœ‰é™å®šåˆ¶</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆé€‰æ‹©AionUiï¼Ÿ</strong></p>
<p>ç›¸æ¯”Claude Coworkï¼ŒAionUiæä¾›è·¨å¹³å°æ”¯æŒã€å¤šæ¨¡å‹ç”Ÿæ€ã€WebUIè¿œç¨‹è®¿é—®ã€å®Œå…¨å…è´¹å¼€æºï¼Œæ˜¯æ›´å¼ºå¤§çš„æ›¿ä»£æ–¹æ¡ˆã€‚</p>
<hr/>
<h2 data-id="heading-14">é¡¹ç›®è¯¦ç»†å‰–æ</h2>
<h3 data-id="heading-15">æ¶æ„è®¾è®¡</h3>
<p>AionUié‡‡ç”¨<strong>Electron + React + TypeScript</strong>çš„ç°ä»£æ¡Œé¢åº”ç”¨æ¶æ„ï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒæ¨¡å—ï¼š</p>
<h4 data-id="heading-16">æ ¸å¿ƒæ¶æ„</h4>
<pre><code class="hljs language-java" lang="java">AionUi Application
â”œâ”€â”€ Main <span class="hljs-title function_">Process</span> <span class="hljs-params">(Electron)</span>
â”‚   â”œâ”€â”€ çª—å£ç®¡ç†
â”‚   â”œâ”€â”€ ç³»ç»Ÿé›†æˆ
â”‚   â”œâ”€â”€ æ–‡ä»¶ç³»ç»Ÿè®¿é—®
â”‚   â””â”€â”€ æœ¬åœ°æ•°æ®åº“ç®¡ç†
â”œâ”€â”€ Renderer <span class="hljs-title function_">Process</span> <span class="hljs-params">(React)</span>
â”‚   â”œâ”€â”€ UIç»„ä»¶å±‚
â”‚   â”œâ”€â”€ çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ APIè°ƒç”¨å±‚
â”‚   â””â”€â”€ æ–‡ä»¶é¢„è§ˆç»„ä»¶
â”œâ”€â”€ AIæœåŠ¡å±‚
â”‚   â”œâ”€â”€ å¤šæ¨¡å‹é€‚é…å™¨
â”‚   â”œâ”€â”€ APIè°ƒç”¨å°è£…
â”‚   â”œâ”€â”€ æµå¼å“åº”å¤„ç†
â”‚   â””â”€â”€ ä¸Šä¸‹æ–‡ç®¡ç†
â””â”€â”€ æ•°æ®å±‚
    â”œâ”€â”€ SQLiteæ•°æ®åº“ï¼ˆå¯¹è¯å†å²ï¼‰
    â”œâ”€â”€ æœ¬åœ°æ–‡ä»¶å­˜å‚¨
    â””â”€â”€ é…ç½®ç®¡ç†
</code></pre>
<h4 data-id="heading-17">å¤šæ¨¡å‹é€‚é…æ¶æ„</h4>
<p>AionUié€šè¿‡ç»Ÿä¸€çš„é€‚é…å™¨æ¨¡å¼æ”¯æŒå¤šç§AIæ¨¡å‹ï¼Œæ¯ä¸ªæ¨¡å‹ï¼ˆGeminiã€Claudeã€OpenAIç­‰ï¼‰éƒ½æœ‰ç‹¬ç«‹çš„é€‚é…å™¨å®ç°ï¼Œé€šè¿‡ç»Ÿä¸€çš„<code>AIModelAdapter</code>æ¥å£ç®¡ç†ã€‚è¿™ç§è®¾è®¡ä½¿å¾—æ·»åŠ æ–°æ¨¡å‹å˜å¾—ç®€å•ï¼Œå„æ¨¡å‹å®ç°ç‹¬ç«‹ï¼Œæ”¯æŒåŠ¨æ€åŠ è½½å’Œé…ç½®ã€‚</p>
<h4 data-id="heading-18">WebUIè¿œç¨‹è®¿é—®æ¶æ„</h4>
<p>AionUiçš„WebUIé€šè¿‡å†…ç½®ExpressæœåŠ¡å™¨å’ŒWebSocketå®ç°ï¼Œæä¾›é™æ€æ–‡ä»¶æœåŠ¡ã€APIè·¯ç”±ï¼ˆèŠå¤©ã€ä¼šè¯ã€æ¨¡å‹ç®¡ç†ï¼‰å’Œå®æ—¶é€šä¿¡ã€‚æ”¯æŒTokenè®¤è¯ã€HTTPSã€IPç™½åå•å’ŒSSHéš§é“ç­‰å®‰å…¨æœºåˆ¶ã€‚</p>
<h3 data-id="heading-19">æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ</h3>
<p>AionUiçš„æ–‡ä»¶ç®¡ç†ç³»ç»Ÿæ”¯æŒæ–‡ä»¶æ ‘æµè§ˆã€æ‹–æ‹½ä¸Šä¼ å’ŒAIé©±åŠ¨çš„æ™ºèƒ½ç»„ç»‡ã€‚é€šè¿‡<code>FileTreeManager</code>æ‰«ææ–‡ä»¶ç³»ç»Ÿï¼Œä½¿ç”¨AIåˆ†ææ–‡ä»¶å¹¶æ‰§è¡Œç»„ç»‡æ“ä½œã€‚æ”¯æŒæ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„é€’å½’å¤„ç†ã€‚</p>
<h3 data-id="heading-20">é¢„è§ˆé¢æ¿ç³»ç»Ÿ</h3>
<p>AionUiçš„é¢„è§ˆé¢æ¿é€šè¿‡<code>PreviewComponent</code>æ¥å£å®ç°æ’ä»¶åŒ–æ¶æ„ï¼Œæ”¯æŒPDFã€Wordã€Excelã€PPTã€ä»£ç ã€Markdownã€HTMLã€å›¾åƒã€JSON/YAML/CSVç­‰9+ç§æ ¼å¼ã€‚æ¯ä¸ªé¢„è§ˆç»„ä»¶å®ç°<code>canPreview</code>ã€<code>render</code>ã€<code>update</code>æ–¹æ³•ï¼Œ<code>PreviewManager</code>è´Ÿè´£ç®¡ç†å’Œè·¯ç”±ã€‚æ”¯æŒå®æ—¶æ–‡ä»¶ç›‘å¬å’Œç¼–è¾‘ã€‚</p>
<h3 data-id="heading-21">å¤šä¼šè¯ç®¡ç†ç³»ç»Ÿ</h3>
<p>AionUiçš„<code>ConversationManager</code>ç®¡ç†å¤šä¸ªå¹¶å‘ä¼šè¯ï¼Œæ¯ä¸ªä¼šè¯åŒ…å«ç‹¬ç«‹çš„å¯¹è¯å†å²ã€æ¨¡å‹é…ç½®å’Œå…ƒæ•°æ®ã€‚æ”¯æŒè‡ªåŠ¨æ ‡é¢˜ç”Ÿæˆã€æ™ºèƒ½ä¸Šä¸‹æ–‡æˆªå–ï¼ˆåŸºäºTokené™åˆ¶ï¼‰ã€SQLiteæœ¬åœ°æŒä¹…åŒ–å’Œå¿«é€Ÿåˆ‡æ¢ã€‚</p>
<h3 data-id="heading-22">AIå›¾åƒç”Ÿæˆç³»ç»Ÿ</h3>
<p>AionUié€šè¿‡<code>ImageGenerator</code>æ¥å£å®ç°æ’ä»¶åŒ–çš„å›¾åƒç”Ÿæˆæ¶æ„ï¼Œæ”¯æŒGemini 2.5 Flash Image Previewã€Nanoã€Bananaç­‰å¤šç§æ¨¡å‹ã€‚<code>ImageGenerationManager</code>ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ç”Ÿæˆå™¨ï¼Œæ”¯æŒå•ä¸ªå’Œæ‰¹é‡ç”Ÿæˆã€‚</p>
<h3 data-id="heading-23">æœ¬åœ°æ•°æ®å®‰å…¨</h3>
<p>AionUiä½¿ç”¨SQLiteæ•°æ®åº“å­˜å‚¨æ‰€æœ‰æ•°æ®ï¼ˆå¯¹è¯å†å²ã€æ–‡ä»¶å…ƒæ•°æ®ã€è®¾ç½®ï¼‰ï¼Œæ•°æ®å®Œå…¨å­˜å‚¨åœ¨ç”¨æˆ·æ•°æ®ç›®å½•ï¼Œä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚æ”¯æŒå¯é€‰çš„æ•°æ®åŠ å¯†å’Œæ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼Œç”¨æˆ·å®Œå…¨æ§åˆ¶è‡ªå·±çš„æ•°æ®ã€‚</p>
<hr/>
<h2 data-id="heading-24">é¡¹ç›®åœ°å€ä¸èµ„æº</h2>
<h3 data-id="heading-25">å®˜æ–¹èµ„æº</h3>
<ul>
<li>ğŸŒŸ <strong>GitHub</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FiOfficeAI%2FAionUi" target="_blank" title="https://github.com/iOfficeAI/AionUi" ref="nofollow noopener noreferrer">github.com/iOfficeAI/Aâ€¦</a></li>
<li>ğŸ“š <strong>æ–‡æ¡£</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FiOfficeAI%2FAionUi%2Fwiki" target="_blank" title="https://github.com/iOfficeAI/AionUi/wiki" ref="nofollow noopener noreferrer">GitHub Wiki</a></li>
<li>ğŸ’¬ <strong>ç¤¾åŒº</strong>: GitHub Discussions</li>
<li>ğŸ› <strong>Issue Tracker</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FiOfficeAI%2FAionUi%2Fissues" target="_blank" title="https://github.com/iOfficeAI/AionUi/issues" ref="nofollow noopener noreferrer">GitHub Issues</a></li>
<li>ğŸ“¦ <strong>æœ€æ–°ç‰ˆæœ¬</strong>: v1.7.8ï¼ˆ2026å¹´1æœˆ28æ—¥å‘å¸ƒï¼‰</li>
</ul>
<h3 data-id="heading-26">é€‚ç”¨äººç¾¤</h3>
<p><strong>AionUiç‰¹åˆ«é€‚åˆ</strong>ï¼šéœ€è¦è·¨å¹³å°AIåŠ©æ‰‹çš„å¼€å‘è€…ã€å¤šæ¨¡å‹ç”¨æˆ·ã€å¯¹æ•°æ®éšç§æœ‰è¦æ±‚çš„ç”¨æˆ·ã€éœ€è¦åŠå…¬è‡ªåŠ¨åŒ–åŠŸèƒ½çš„ç”¨æˆ·ï¼Œä»¥åŠå¸Œæœ›æ›¿ä»£Claude Coworkçš„å…è´¹å¼€æºæ–¹æ¡ˆçš„ç”¨æˆ·ã€‚</p>
<p><strong>ä¸é€‚åˆ</strong>ï¼šåªéœ€è¦ç®€å•èŠå¤©çš„ç”¨æˆ·ã€ä¸éœ€è¦è·¨å¹³å°çš„macOSç”¨æˆ·ã€ä¸éœ€è¦å¤šæ¨¡å‹æ”¯æŒçš„ç”¨æˆ·ã€‚</p>
<hr/>
<p><em>æ¬¢è¿æ¥æˆ‘ä¸­çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fhome.wonlab.top" target="_blank" title="https://home.wonlab.top" ref="nofollow noopener noreferrer">ä¸ªäººä¸»é¡µ</a>æ‰¾åˆ°æ›´å¤šæœ‰ç”¨çš„çŸ¥è¯†å’Œæœ‰è¶£çš„äº§å“</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java å¹¶è¡Œä»»åŠ¡åä½œå¼å–æ¶ˆæœºåˆ¶è®¾è®¡ä¸å®ç°]]></title>    <link>https://juejin.cn/post/7600955777315848230</link>    <guid>https://juejin.cn/post/7600955777315848230</guid>    <pubDate>2026-01-30T13:01:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600955777315848230" data-draft-id="7600953879500931123" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java å¹¶è¡Œä»»åŠ¡åä½œå¼å–æ¶ˆæœºåˆ¶è®¾è®¡ä¸å®ç°"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-30T13:01:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¡¦è¯´ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2212689394274136"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java å¹¶è¡Œä»»åŠ¡åä½œå¼å–æ¶ˆæœºåˆ¶è®¾è®¡ä¸å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2212689394274136/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¡¦è¯´ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T13:01:02.000Z" title="Fri Jan 30 2026 13:01:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>è¿™ç¯‡æ–‡ç« ä¸»è¦æ ¹æ®æˆ‘æœ€è¿‘åšçš„çº¿ç¨‹æ± ä»»åŠ¡æ”¯æŒåä½œå¼å–æ¶ˆåŠŸèƒ½å†™çš„ï¼Œä»£ç ä¸­å¯èƒ½æ¶‰åŠä¸€äº›æ— å…³å†…å®¹ï¼Œè¯·é…Œæƒ…å¿½ç•¥ã€‚å†…å®¹æ¶‰åŠï¼š</p>
<ol>
<li>é‡åº¦ä¾èµ– <code>ListenableFuture</code> å®ç°å–æ¶ˆæœºåˆ¶</li>
<li>ä½¿ç”¨ <code>TTL/ThreadLocal</code> å®ç°ä¸Šä¸‹æ–‡ä¼ æ’­(å®é™…ä¸Šï¼Œå¦‚æœèƒ½æ‰‹åŠ¨æ˜¾å¼ä¼ é€’ä¸Šä¸‹æ–‡æœ€å¥½ï¼‰</li>
<li>ä¹‹å‰æ–‡ç« æåˆ°çš„å¹¶å‘åº¦æ§åˆ¶ä¹Ÿæ”¯æŒäº†å–æ¶ˆæœºåˆ¶</li>
<li>èµ„æºæ¸…ç†</li>
</ol>
<p>ä¸ºäº†ä½¿é—®é¢˜ä¸è¿‡äºå¤æ‚ï¼Œåˆ é™¤äº†å…³äºåµŒå¥—å–æ¶ˆä¼ æ’­çš„å†…å®¹ï¼Œä¸‹ç¯‡æ–‡ç« ä¼šè°ˆåˆ°ï¼Œæ•¬è¯·æœŸå¾…ã€‚</p>
</blockquote>
<h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>åœ¨é«˜å¹¶å‘ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦å¹¶è¡Œæ‰§è¡Œå¤§é‡å­ä»»åŠ¡ã€‚ç„¶è€Œï¼Œå½“å‡ºç°ä»¥ä¸‹æƒ…å†µæ—¶ï¼Œç»§ç»­æ‰§è¡Œå‰©ä½™ä»»åŠ¡å¾€å¾€æ˜¯èµ„æºæµªè´¹ï¼š</p>
<ol>
<li><strong>è¶…æ—¶</strong>ï¼šæ€»ä½“ä»»åŠ¡å·²è¶…æ—¶ï¼Œç»§ç»­æ‰§è¡Œæ— æ„ä¹‰</li>
<li><strong>å¿«é€Ÿå¤±è´¥ï¼ˆFail-Fastï¼‰</strong>ï¼šæŸä¸ªå­ä»»åŠ¡å¼‚å¸¸ï¼Œæ•´æ‰¹ä»»åŠ¡ç»“æœå·²ä¸å¯ç”¨</li>
<li><strong>ä¸»åŠ¨å–æ¶ˆ</strong>ï¼šä¸šåŠ¡é€»è¾‘åˆ¤æ–­ä¸å†éœ€è¦ç»“æœ</li>
</ol>
<p>Java åŸç”Ÿçš„ <code>Thread.interrupt()</code> åªèƒ½ä¸­æ–­é˜»å¡æ“ä½œï¼ˆå¦‚ <code>sleep</code>ã€<code>wait</code>ã€<code>BlockingQueue.take</code>ï¼‰ï¼Œæ— æ³•ä¸­æ–­æ­£åœ¨æ‰§è¡Œ CPU å¯†é›†å‹ä»£ç çš„çº¿ç¨‹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è®¾è®¡ä¸€å¥—<strong>åä½œå¼å–æ¶ˆæœºåˆ¶ï¼ˆCooperative Cancellationï¼‰</strong>ã€‚</p>
<h2 data-id="heading-1">è®¾è®¡ç›®æ ‡</h2>
<ol>
<li><strong>ç»Ÿä¸€çš„å–æ¶ˆä¿¡å·ä¼ é€’</strong>ï¼šæ‰€æœ‰å¹¶è¡Œå­ä»»åŠ¡å…±äº«åŒä¸€ä¸ªå–æ¶ˆä»¤ç‰Œ</li>
<li><strong>æ”¯æŒå¤šç§å–æ¶ˆåŸå› </strong>ï¼šè¶…æ—¶ã€å¼‚å¸¸ã€ä¸»åŠ¨å–æ¶ˆ</li>
<li><strong>è½»é‡çº§æ£€æŸ¥ç‚¹</strong>ï¼šä»»åŠ¡å¯ä»¥åœ¨å…³é”®èŠ‚ç‚¹ä¸»åŠ¨æ£€æŸ¥å–æ¶ˆçŠ¶æ€</li>
<li><strong>å»¶è¿Ÿç»‘å®š</strong>ï¼šå–æ¶ˆä»¤ç‰Œåœ¨ä»»åŠ¡æäº¤åæ‰ç»‘å®šå®é™…çš„ Future</li>
<li><strong>èµ„æºè‡ªåŠ¨é‡Šæ”¾</strong>ï¼šå–æ¶ˆåè‡ªåŠ¨æ¸…ç†æœªå®Œæˆä»»åŠ¡</li>
</ol>
<h2 data-id="heading-2">æ ¸å¿ƒç»„ä»¶è®¾è®¡</h2>
<h3 data-id="heading-3">1. CancellationTokenState - å–æ¶ˆçŠ¶æ€æšä¸¾</h3>
<p>é¦–å…ˆå®šä¹‰æ¸…æ™°çš„çŠ¶æ€æšä¸¾ï¼Œé¿å…é­”æ³•æ•°å­—ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">CancellationTokenState</span> {
    <span class="hljs-comment">/** ä»»åŠ¡æ­£åœ¨è¿è¡Œ */</span>
    RUNNING(<span class="hljs-number">0</span>),
    <span class="hljs-comment">/** ä»»åŠ¡æˆåŠŸå®Œæˆ */</span>
    SUCCESS(<span class="hljs-number">1</span>),
    <span class="hljs-comment">/** ç©ºæ“ä½œ */</span>
    NO_OP(<span class="hljs-number">2</span>),
    <span class="hljs-comment">/** å› å…¶ä»–ä»»åŠ¡å¼‚å¸¸è€Œå–æ¶ˆï¼ˆå¿«é€Ÿå¤±è´¥ï¼‰ */</span>
    FAIL_FAST_CANCELLED(-<span class="hljs-number">1</span>),
    <span class="hljs-comment">/** å› è¶…æ—¶è€Œå–æ¶ˆ */</span>
    TIMEOUT_CANCELLED(-<span class="hljs-number">2</span>),
    <span class="hljs-comment">/** å› ä¸»åŠ¨è°ƒç”¨ cancel() è€Œå–æ¶ˆ */</span>
    MUTUAL_CANCELLED(-<span class="hljs-number">3</span>);

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> value;

    <span class="hljs-comment">/**
     * åˆ¤æ–­æ˜¯å¦éœ€è¦å–æ¶ˆå­ä»»åŠ¡
     * è´Ÿå€¼çŠ¶æ€è¡¨ç¤ºéœ€è¦å–æ¶ˆ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">shouldCancelSubtasks</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.value &lt; <span class="hljs-number">0</span>;
    }
}
</code></pre>
<p><strong>è®¾è®¡è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨æ­£å€¼è¡¨ç¤ºæ­£å¸¸çŠ¶æ€ï¼Œè´Ÿå€¼è¡¨ç¤ºå–æ¶ˆçŠ¶æ€</li>
<li><code>shouldCancelSubtasks()</code> æ–¹æ³•æä¾›è¯­ä¹‰åŒ–çš„åˆ¤æ–­æ¥å£</li>
</ul>
<h3 data-id="heading-4">2. CancellationToken - å–æ¶ˆä»¤ç‰Œ</h3>
<p>å–æ¶ˆä»¤ç‰Œæ˜¯æ•´ä¸ªæœºåˆ¶çš„æ ¸å¿ƒï¼Œè´Ÿè´£ï¼š</p>
<ul>
<li>è·Ÿè¸ªä»»åŠ¡æ‰¹æ¬¡çš„æ•´ä½“çŠ¶æ€</li>
<li>ä¼ é€’å–æ¶ˆä¿¡å·</li>
<li>æ”¯æŒå»¶è¿Ÿç»‘å®š</li>
</ul>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@NoArgsConstructor</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CancellationToken</span> {
    <span class="hljs-comment">// ä½¿ç”¨ SettableFuture æ”¯æŒå»¶è¿Ÿç»‘å®š</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> SettableFuture&lt;Object&gt; futureToken = SettableFuture.create();
    <span class="hljs-comment">// åŸå­çŠ¶æ€ï¼Œä¿è¯çº¿ç¨‹å®‰å…¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> AtomicReference&lt;CancellationTokenState&gt; state =
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicReference</span>&lt;&gt;(RUNNING);

    <span class="hljs-comment">/**
     * å»¶è¿Ÿç»‘å®šï¼šåœ¨ä»»åŠ¡æäº¤åç»‘å®šå®é™…çš„ Future
     *
     * <span class="hljs-doctag">@param</span> futures æ‰€æœ‰å­ä»»åŠ¡çš„ Future åˆ—è¡¨
     * <span class="hljs-doctag">@param</span> timeout è¶…æ—¶æ—¶é—´
     * <span class="hljs-doctag">@param</span> submitCanceller æäº¤å™¨çš„å–æ¶ˆ Future
     */</span>
    <span class="hljs-meta">@SuppressWarnings({"unchecked", "raw"})</span>
    <span class="hljs-keyword">public</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">lateBind</span><span class="hljs-params">(List&lt;ListenableFuture&lt;T&gt;&gt; futures,
                             Duration timeout,
                             ListenableFuture&lt;?&gt; submitCanceller)</span> {
        <span class="hljs-comment">// å¿«é€Ÿå¤±è´¥ Futureï¼šä»»ä½•ä¸€ä¸ªä»»åŠ¡å¤±è´¥éƒ½ä¼šè§¦å‘</span>
        FluentFuture&lt;?&gt; failFastFuture = FluentFuture.from(Futures.allAsList(futures))
                .catchingAsync(Throwable.class,
                    ex -&gt; Futures.immediateCancelledFuture(), directExecutor())
                .withTimeout(timeout, TimerService.getTimer());

        <span class="hljs-comment">// æ‰€æœ‰ä»»åŠ¡çš„ç»„åˆ Future</span>
        ListenableFuture&lt;?&gt; allFutures = Futures.successfulAsList(
            Futures.successfulAsList(futures), submitCanceller);

        <span class="hljs-comment">// ç›‘å¬å¿«é€Ÿå¤±è´¥ Future çš„å®Œæˆäº‹ä»¶</span>
        failFastFuture.addCallback(<span class="hljs-keyword">new</span> <span class="hljs-title class_">FutureCallback</span>() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onSuccess</span><span class="hljs-params">(Object result)</span> {
                state.compareAndSet(RUNNING, SUCCESS);
            }

            <span class="hljs-meta">@Override</span>
            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFailure</span><span class="hljs-params">(Throwable t)</span> {
                <span class="hljs-comment">// å–æ¶ˆæ‰€æœ‰ä»»åŠ¡</span>
                allFutures.cancel(<span class="hljs-literal">true</span>);
                <span class="hljs-comment">// æ ¹æ®å¼‚å¸¸ç±»å‹è®¾ç½®çŠ¶æ€</span>
                <span class="hljs-keyword">if</span> (t <span class="hljs-keyword">instanceof</span> TimeoutException) {
                    state.compareAndSet(RUNNING, TIMEOUT_CANCELLED);
                } <span class="hljs-keyword">else</span> {
                    state.compareAndSet(RUNNING, FAIL_FAST_CANCELLED);
                }
            }
        }, directExecutor());

        <span class="hljs-comment">// ç»‘å®šåˆ° futureToken</span>
        futureToken.setFuture(failFastFuture);
    }

    <span class="hljs-comment">/**
     * ä¸»åŠ¨å–æ¶ˆ
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cancel</span><span class="hljs-params">(<span class="hljs-type">boolean</span> useInterrupt)</span> {
        state.compareAndSet(RUNNING, MUTUAL_CANCELLED);
        futureToken.cancel(useInterrupt);
    }

    <span class="hljs-keyword">public</span> CancellationTokenState <span class="hljs-title function_">checkState</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> state.get();
    }
}
</code></pre>
<p><strong>å…³é”®è®¾è®¡</strong>ï¼š</p>
<ol>
<li>
<p><strong>å»¶è¿Ÿç»‘å®šï¼ˆLate Bindingï¼‰</strong>ï¼š<code>SettableFuture</code> å…è®¸å…ˆåˆ›å»º Tokenï¼Œåç»‘å®šå®é™… Futureï¼Œè§£å†³"å…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹"é—®é¢˜</p>
</li>
<li>
<p><strong>å¿«é€Ÿå¤±è´¥è¯­ä¹‰</strong>ï¼šä½¿ç”¨ <code>Futures.allAsList()</code> + <code>catchingAsync</code> å®ç°â€”â€”åªè¦æœ‰ä¸€ä¸ªä»»åŠ¡å¤±è´¥ï¼Œç«‹å³è§¦å‘å–æ¶ˆ</p>
</li>
<li>
<p><strong>è¶…æ—¶æ§åˆ¶</strong>ï¼š<code>withTimeout()</code> è®¾ç½®è¶…æ—¶ï¼Œè¶…æ—¶åè§¦å‘ <code>TimeoutException</code></p>
</li>
</ol>
<h3 data-id="heading-5">3. Checkpoints - æ£€æŸ¥ç‚¹æœºåˆ¶</h3>
<p>ç”±äºæ— æ³•å¼ºåˆ¶ä¸­æ–­ CPU å¯†é›†å‹ä»£ç ï¼Œæˆ‘ä»¬åœ¨ä»»åŠ¡ä»£ç ä¸­æ’å…¥"æ£€æŸ¥ç‚¹"ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Checkpoints</span> {

    <span class="hljs-comment">/**
     * æ ‡å‡†æ£€æŸ¥ç‚¹ï¼šæ£€æŸ¥ cancelToken çŠ¶æ€
     * å¦‚æœä»»åŠ¡å·²å–æ¶ˆï¼ŒæŠ›å‡ºå–æ¶ˆå¼‚å¸¸
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">checkpoint</span><span class="hljs-params">(String taskName, <span class="hljs-type">boolean</span> lean)</span> {
        <span class="hljs-type">ParallelOptions</span> <span class="hljs-variable">options</span> <span class="hljs-operator">=</span> TaskScopeTl.getParallelOptions();
        <span class="hljs-keyword">if</span> (taskName == <span class="hljs-literal">null</span> || options == <span class="hljs-literal">null</span>
                || <span class="hljs-string">"task"</span>.equals(options.getTaskName())
                || !taskName.equals(options.getTaskName())) {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-type">CancellationToken</span> <span class="hljs-variable">cancelToken</span> <span class="hljs-operator">=</span> TaskScopeTl.getCancellationToken();
        <span class="hljs-keyword">if</span> (cancelToken != <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">if</span> (cancelToken.checkState().shouldCancelSubtasks()) {
                <span class="hljs-keyword">throw</span> lean
                    ? <span class="hljs-keyword">new</span> <span class="hljs-title class_">LeanCancellationException</span>(<span class="hljs-string">"Cancel during running"</span>)
                    : <span class="hljs-keyword">new</span> <span class="hljs-title class_">FatCancellationException</span>(<span class="hljs-string">"Cancel during running"</span>);
            }
        }
    }

    <span class="hljs-comment">/**
     * åŸå§‹æ£€æŸ¥ç‚¹ï¼šåªæ£€æŸ¥çº¿ç¨‹ä¸­æ–­æ ‡å¿—
     * é€‚ç”¨äºä¸ä½¿ç”¨ cancelToken çš„åœºæ™¯
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">rawCheckpoint</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (Thread.interrupted()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FatCancellationException</span>(<span class="hljs-string">"Cancel by interruption"</span>);
        }
    }
}
</code></pre>
<p><strong>ä¸¤ç§å–æ¶ˆå¼‚å¸¸</strong>ï¼š</p>
<ul>
<li><code>FatCancellationException</code>ï¼šå¸¦å®Œæ•´å †æ ˆï¼Œä¾¿äºè°ƒè¯•</li>
<li><code>LeanCancellationException</code>ï¼šæ— å †æ ˆï¼Œç”Ÿäº§ç¯å¢ƒå‡å°‘å¼€é”€</li>
</ul>
<h3 data-id="heading-6">4. ScopedCallable - å¸¦ä½œç”¨åŸŸçš„ Callable åŒ…è£…å™¨</h3>
<p>åŒ…è£…åŸå§‹ä»»åŠ¡ï¼Œæ·»åŠ ä¸Šä¸‹æ–‡ç»‘å®šå’Œç›‘æ§èƒ½åŠ›ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ScopedCallable</span>&lt;V&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Callable</span>&lt;V&gt;, Attachable {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">KEY_PARALLEL_OPTIONS</span> <span class="hljs-operator">=</span> <span class="hljs-string">"parallelOptions"</span>;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">KEY_CANCELLATION_TOKEN</span> <span class="hljs-operator">=</span> <span class="hljs-string">"cancellationToken"</span>;

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String taskName;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Callable&lt;V&gt; delegate;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ConcurrentMap&lt;String, Object&gt; attachments = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConcurrentHashMap</span>&lt;&gt;();

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> V <span class="hljs-title function_">call</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// 1. å‡†å¤‡ä¸Šä¸‹æ–‡ï¼šç»‘å®š CancellationToken åˆ° ThreadLocal</span>
        TaskScopeTl.init(getCancellationToken(), getParallelOptions());
        TaskPair.init(taskName);

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 2. æ‰§è¡Œæ£€æŸ¥ç‚¹ï¼ˆä»»åŠ¡å¼€å§‹å‰æ£€æŸ¥ï¼‰</span>
            Checkpoints.checkpoint(taskName, <span class="hljs-literal">true</span>);
            startTime = ticker.read();
            <span class="hljs-comment">// 3. æ‰§è¡Œå®é™…ä»»åŠ¡</span>
            <span class="hljs-keyword">return</span> delegate.call();
        } <span class="hljs-keyword">finally</span> {
            endTime = ticker.read();
            <span class="hljs-comment">// 4. æ¸…ç†ä¸Šä¸‹æ–‡</span>
            TaskScopeTl.remove();
            <span class="hljs-comment">// 5. è®°å½•ç›‘æ§æŒ‡æ ‡</span>
            recordMetrics();
        }
    }
}
</code></pre>
<p><strong>è®¾è®¡è¦ç‚¹</strong>ï¼š</p>
<ul>
<li>é€šè¿‡ <code>Attachable</code> æ¥å£æ”¯æŒä»»æ„ä¸Šä¸‹æ–‡ä¼ é€’</li>
<li>ä»»åŠ¡æ‰§è¡Œå‰è‡ªåŠ¨è°ƒç”¨æ£€æŸ¥ç‚¹</li>
<li>ä½¿ç”¨ <code>ThreadLocal</code> ä¼ é€’å–æ¶ˆä»¤ç‰Œï¼Œå­æ–¹æ³•å¯éšæ—¶æ£€æŸ¥</li>
</ul>
<h3 data-id="heading-7">5. ConcurrentLimitExecutor - å¹¶å‘é™åˆ¶æ‰§è¡Œå™¨</h3>
<p>æ§åˆ¶åŒæ—¶æ‰§è¡Œçš„ä»»åŠ¡æ•°é‡ï¼Œå®ç°"æ»‘åŠ¨çª—å£"æäº¤ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ConcurrentLimitExecutor</span>&lt;V&gt; {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ExecutorCompletionService&lt;V&gt; cs;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> BlockingQueue&lt;ListenableFuture&lt;V&gt;&gt; blockingQueue =
        <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedBlockingQueue</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ParallelOptions options;

    <span class="hljs-comment">/**
     * æäº¤æ‰€æœ‰ä»»åŠ¡ï¼Œç«‹å³è¿”å› Future åˆ—è¡¨
     */</span>
    <span class="hljs-keyword">public</span> AsyncBatchResult&lt;V&gt; <span class="hljs-title function_">submitAll</span><span class="hljs-params">(List&lt;? extends Callable&lt;V&gt;&gt; tasks)</span> {
        Builder&lt;ListenableFuture&lt;V&gt;&gt; resultBuilder =
            ImmutableList.builderWithExpectedSize(tasks.size());

        <span class="hljs-comment">// 1. ç«‹å³æäº¤åˆå§‹æ‰¹æ¬¡ï¼ˆæ•°é‡ = å¹¶è¡Œåº¦ï¼‰</span>
        <span class="hljs-type">int</span> <span class="hljs-variable">start</span> <span class="hljs-operator">=</span> Math.min(tasks.size(), options.getParallelism());
        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; start; i++) {
            resultBuilder.add(fallbackSubmit(tasks, i));
        }

        <span class="hljs-type">int</span> <span class="hljs-variable">remaining</span> <span class="hljs-operator">=</span> tasks.size() - start;
        <span class="hljs-keyword">if</span> (remaining &lt;= <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">return</span> AsyncBatchResult.&lt;V&gt;builder()
                    .results(resultBuilder.build())
                    .build();
        }

        <span class="hljs-comment">// 2. ä¸ºå‰©ä½™ä»»åŠ¡åˆ›å»º SettableFuture å ä½</span>
        List&lt;SettableFuture&lt;V&gt;&gt; others = IntStream.range(<span class="hljs-number">0</span>, remaining)
                .mapToObj(ignore -&gt; SettableFuture.&lt;V&gt;create())
                .collect(toImmutableList());

        ImmutableList&lt;ListenableFuture&lt;V&gt;&gt; results =
            resultBuilder.addAll(others).build();

        <span class="hljs-comment">// 3. å¼‚æ­¥æäº¤å‰©ä½™ä»»åŠ¡ï¼ˆåœ¨ç‹¬ç«‹çº¿ç¨‹ä¸­ï¼‰</span>
        ListenableFuture&lt;?&gt; submittingFuture =
            TimerService.getTimer().submit(() -&gt; submitRemaining(tasks, results, start));

        <span class="hljs-keyword">return</span> AsyncBatchResult.&lt;V&gt;builder()
                .submitCanceller(submittingFuture)
                .results(results)
                .build();
    }

    <span class="hljs-comment">/**
     * æäº¤å‰©ä½™ä»»åŠ¡ï¼ˆåœ¨ç‹¬ç«‹çº¿ç¨‹æ‰§è¡Œï¼‰
     * ç­‰å¾…ä¸€ä¸ªå®Œæˆ -&gt; æäº¤ä¸‹ä¸€ä¸ª
     */</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-title function_">submitRemaining</span><span class="hljs-params">(List&lt;? extends Callable&lt;V&gt;&gt; tasks,
                                List&lt;ListenableFuture&lt;V&gt;&gt; result,
                                <span class="hljs-type">int</span> start)</span> {
        <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> start;
        <span class="hljs-keyword">while</span> (index &lt; tasks.size()) {
            <span class="hljs-comment">// é˜»å¡ç­‰å¾…ä»»ä½•ä¸€ä¸ªä»»åŠ¡å®Œæˆ</span>
            ListenableFuture&lt;V&gt; completed = blockingQueue.take();

            <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦å·²å–æ¶ˆ</span>
            <span class="hljs-keyword">if</span> (completed.isCancelled() || result.get(index).isCancelled()
                    || Thread.interrupted()) {
                <span class="hljs-keyword">return</span> submitted;
            }

            <span class="hljs-comment">// æäº¤ä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œç»‘å®šåˆ°å¯¹åº”ä½ç½®çš„ SettableFuture</span>
            ((SettableFuture&lt;V&gt;) result.get(index))
                .setFuture(fallbackSubmit(tasks, index));
            index++;
        }
        <span class="hljs-keyword">return</span> submitted;
    }
}
</code></pre>
<p><strong>æ»‘åŠ¨çª—å£æœºåˆ¶</strong>ï¼š</p>
<ol>
<li>åˆå§‹æäº¤ N ä¸ªä»»åŠ¡ï¼ˆN = å¹¶è¡Œåº¦ï¼‰</li>
<li>ç­‰å¾…ä»»ä½•ä¸€ä¸ªå®Œæˆï¼Œé‡Šæ”¾ä¸€ä¸ª"æ§½ä½"</li>
<li>æäº¤ä¸‹ä¸€ä¸ªä»»åŠ¡</li>
<li>é‡å¤ç›´åˆ°æ‰€æœ‰ä»»åŠ¡æäº¤å®Œæˆ</li>
</ol>
<h2 data-id="heading-8">æ•´ä½“æµç¨‹</h2>
<p>ä¸‹é¢æ˜¯ <code>FlightParallelHelper.parMap</code> çš„å®Œæ•´æµç¨‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T, R&gt; AsyncBatchResult&lt;R&gt; <span class="hljs-title function_">parMap</span><span class="hljs-params">(
        List&lt;T&gt; list,
        Function&lt;? <span class="hljs-built_in">super</span> T, ? extends R&gt; function,
        ParallelOptions options,
        ListeningExecutorService executor,
        String executorName)</span> {

    <span class="hljs-keyword">if</span> (CollectionUtils.isEmpty(list)) {
        <span class="hljs-keyword">return</span> emptyBatchResult();
    }

    <span class="hljs-comment">// 1. è§„èŒƒåŒ–å‚æ•°</span>
    <span class="hljs-type">ParallelOptions</span> <span class="hljs-variable">normalizedOptions</span> <span class="hljs-operator">=</span> ParallelOptions.formalized(options, list.size());
    <span class="hljs-type">String</span> <span class="hljs-variable">taskName</span> <span class="hljs-operator">=</span> normalizedOptions.getTaskName();

    <span class="hljs-comment">// 2. åˆ›å»ºå–æ¶ˆä»¤ç‰Œï¼ˆæ­¤æ—¶æœªç»‘å®š Futureï¼‰</span>
    <span class="hljs-type">CancellationToken</span> <span class="hljs-variable">cancellationToken</span> <span class="hljs-operator">=</span> CancellationToken.create();

    <span class="hljs-comment">// 3. åŒ…è£…ä»»åŠ¡ï¼Œé™„åŠ ä¸Šä¸‹æ–‡</span>
    List&lt;Callable&lt;R&gt;&gt; tasks = list.stream()
            .map(item -&gt; {
                ScopedCallable&lt;R&gt; scopedCallable = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ScopedCallable</span>&lt;&gt;(
                    taskName, () -&gt; function.apply(item));
                scopedCallable.put(KEY_PARALLEL_OPTIONS, normalizedOptions);
                scopedCallable.put(KEY_CANCELLATION_TOKEN, cancellationToken);
                <span class="hljs-keyword">return</span> (Callable&lt;R&gt;) scopedCallable;
            })
            .collect(toImmutableList());

    <span class="hljs-comment">// 4. é€šè¿‡é™æµæ‰§è¡Œå™¨æäº¤ä»»åŠ¡</span>
    AsyncBatchResult&lt;R&gt; batchResult = ConcurrentLimitExecutor.&lt;R&gt;builder()
            .pool(executor)
            .options(normalizedOptions)
            .build()
            .submitAll(tasks);

    <span class="hljs-comment">// 5. å»¶è¿Ÿç»‘å®šï¼šå°† Future åˆ—è¡¨ç»‘å®šåˆ° CancellationToken</span>
    cancellationToken.lateBind(
        batchResult.getResults(),
        normalizedOptions.forTimeout(),
        batchResult.getSubmitCanceller());

    <span class="hljs-comment">// 6. è¶…æ—¶æ—¶è§¦å‘èµ„æºæ¸…ç†</span>
    tryPurgeOnTimeout(executorName, batchResult);

    <span class="hljs-keyword">return</span> batchResult;
}
</code></pre>
<h2 data-id="heading-9">æ—¶åºå›¾</h2>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Caller     â”‚   â”‚ FlightParallel   â”‚   â”‚CancellationTokenâ”‚   â”‚  Executor    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                      â”‚                   â”‚
       â”‚   <span class="hljs-built_in">parMap</span>(list)    â”‚                      â”‚                   â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                      â”‚                   â”‚
       â”‚                   â”‚                      â”‚                   â”‚
       â”‚                   â”‚     <span class="hljs-built_in">create</span>()         â”‚                   â”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                   â”‚
       â”‚                   â”‚                      â”‚                   â”‚
       â”‚                   â”‚              <span class="hljs-built_in">submitAll</span>(tasks)            â”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚
       â”‚                   â”‚                      â”‚                   â”‚
       â”‚                   â”‚              Future<span class="hljs-selector-attr">[]</span> results            â”‚
       â”‚                   â”‚&lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                   â”‚                      â”‚                   â”‚
       â”‚                   â”‚  <span class="hljs-built_in">lateBind</span>(futures)   â”‚                   â”‚
       â”‚                   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚                   â”‚
       â”‚                   â”‚                      â”‚                   â”‚
       â”‚  AsyncBatchResult â”‚                      â”‚                   â”‚
       â”‚&lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                      â”‚                   â”‚
       â”‚                   â”‚                      â”‚                   â”‚
       â”‚                   â”‚                      â”‚   ä»»åŠ¡æ‰§è¡Œ...      â”‚
       â”‚                   â”‚                      â”‚&lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                   â”‚                      â”‚                   â”‚
       â”‚                   â”‚                      â”‚   <span class="hljs-built_in">checkpoint</span>()    â”‚
       â”‚                   â”‚                      â”‚&lt;â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                   â”‚                      â”‚                   â”‚
       â”‚                   â”‚  <span class="hljs-selector-attr">[è¶…æ—¶/å¼‚å¸¸æ—¶]</span>        â”‚                   â”‚
       â”‚                   â”‚                      â”‚   <span class="hljs-built_in">cancel</span>(true)    â”‚
       â”‚                   â”‚                      â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€&gt;â”‚
       â”‚                   â”‚                      â”‚                   â”‚
</code></pre>
<h2 data-id="heading-10">åœ¨ä¸šåŠ¡ä»£ç ä¸­ä½¿ç”¨æ£€æŸ¥ç‚¹</h2>
<p>å¯¹äº CPU å¯†é›†å‹ä»»åŠ¡ï¼Œéœ€è¦åœ¨å…³é”®ä½ç½®æ’å…¥æ£€æŸ¥ç‚¹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processLargeDataSet</span><span class="hljs-params">(List&lt;Data&gt; dataList)</span> {
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; dataList.size(); i++) {
        <span class="hljs-comment">// æ¯å¤„ç† 100 æ¡æ•°æ®æ£€æŸ¥ä¸€æ¬¡</span>
        <span class="hljs-keyword">if</span> (i % <span class="hljs-number">100</span> == <span class="hljs-number">0</span>) {
            Checkpoints.checkpoint(<span class="hljs-string">"processData"</span>, <span class="hljs-literal">true</span>);
        }

        processItem(dataList.get(i));
    }
}

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">complexCalculation</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// é˜¶æ®µ 1</span>
    doPhase1();
    Checkpoints.checkpoint(<span class="hljs-string">"complexCalc"</span>, <span class="hljs-literal">true</span>);

    <span class="hljs-comment">// é˜¶æ®µ 2</span>
    doPhase2();
    Checkpoints.checkpoint(<span class="hljs-string">"complexCalc"</span>, <span class="hljs-literal">true</span>);

    <span class="hljs-comment">// é˜¶æ®µ 3</span>
    doPhase3();
}
</code></pre>
<h2 data-id="heading-11">æ€»ç»“</h2>
<p>æœ¬æ–‡ä»‹ç»çš„å–æ¶ˆæœºåˆ¶åŒ…å«ä»¥ä¸‹æ ¸å¿ƒè®¾è®¡æ€æƒ³ï¼š</p>

































<table><thead><tr><th>è®¾è®¡ç‚¹</th><th>è§£å†³çš„é—®é¢˜</th></tr></thead><tbody><tr><td><strong>åä½œå¼å–æ¶ˆ</strong></td><td>Java æ— æ³•å¼ºåˆ¶ä¸­æ–­ CPU å¯†é›†å‹ä»£ç </td></tr><tr><td><strong>å»¶è¿Ÿç»‘å®š</strong></td><td>è§£å†³"å…ˆåˆ›å»º Token è¿˜æ˜¯å…ˆæäº¤ä»»åŠ¡"çš„å¾ªç¯ä¾èµ–</td></tr><tr><td><strong>çŠ¶æ€æšä¸¾</strong></td><td>æ¸…æ™°åŒºåˆ†ä¸åŒå–æ¶ˆåŸå› ï¼Œä¾¿äºç›‘æ§å’Œæ’æŸ¥</td></tr><tr><td><strong>è½»é‡çº§å¼‚å¸¸</strong></td><td>ç”Ÿäº§ç¯å¢ƒå‡å°‘å †æ ˆå¼€é”€</td></tr><tr><td><strong>æ»‘åŠ¨çª—å£æäº¤</strong></td><td>æ§åˆ¶å¹¶å‘åº¦ï¼Œé¿å…çº¿ç¨‹æ± è¿‡è½½</td></tr><tr><td><strong>ä¸Šä¸‹æ–‡ä¼ é€’</strong></td><td>ThreadLocal + Attachable å®ç°è·¨æ–¹æ³•çš„å–æ¶ˆä¿¡å·ä¼ é€’</td></tr></tbody></table>
<p>è¿™å¥—æœºåˆ¶å·²åœ¨ç”Ÿäº§ç¯å¢ƒç¨³å®šè¿è¡Œï¼Œæœ‰æ•ˆå‡å°‘äº†è¶…æ—¶åœºæ™¯ä¸‹çš„èµ„æºæµªè´¹ï¼Œæå‡äº†ç³»ç»Ÿæ•´ä½“ååèƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ73ï¼‰å¦‚ä½•åœ¨äº‹ä»¶é©±åŠ¨æ¶æ„ä¸­ä½¿ç”¨Hibernateï¼Ÿ]]></title>    <link>https://juejin.cn/post/7600967006893719561</link>    <guid>https://juejin.cn/post/7600967006893719561</guid>    <pubDate>2026-01-30T11:49:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600967006893719561" data-draft-id="7600955777315782694" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ73ï¼‰å¦‚ä½•åœ¨äº‹ä»¶é©±åŠ¨æ¶æ„ä¸­ä½¿ç”¨Hibernateï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-30T11:49:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ73ï¼‰å¦‚ä½•åœ¨äº‹ä»¶é©±åŠ¨æ¶æ„ä¸­ä½¿ç”¨Hibernateï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T11:49:57.000Z" title="Fri Jan 30 2026 11:49:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨äº‹ä»¶é©±åŠ¨æ¶æ„ä¸­ä½¿ç”¨Hibernateï¼Œå¯ä»¥æœ‰æ•ˆåœ°å¤„ç†æ•°æ®æŒä¹…æ€§ï¼Œå¹¶åœ¨äº‹ä»¶å‘ç”Ÿæ—¶è§¦å‘ç›¸åº”çš„æ•°æ®åº“æ“ä½œã€‚äº‹ä»¶é©±åŠ¨æ¶æ„é€šå¸¸æ¶‰åŠä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚RabbitMQã€Kafkaç­‰ï¼‰æ¥å‘å¸ƒå’Œè®¢é˜…äº‹ä»¶ã€‚ä¸‹é¢æˆ‘ä»¬å°†å±•ç¤ºå¦‚ä½•åœ¨Spring Booté¡¹ç›®ä¸­ç»“åˆHibernateå’ŒRabbitMQå®ç°äº‹ä»¶é©±åŠ¨æ¶æ„ã€‚</p>
<h3 data-id="heading-0">1. é¡¹ç›®ä¾èµ–</h3>
<p>åœ¨<code>pom.xml</code>ä¸­æ·»åŠ å¿…è¦çš„ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Spring Boot Starter Data JPA --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- MySQL Connector --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.26<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- HikariCP for Connection Pooling --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.zaxxer<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>HikariCP<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- RabbitMQ --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-amqp<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h3 data-id="heading-1">2. é…ç½®æ•°æ®æºå’ŒHibernateå±æ€§</h3>
<p>åœ¨<code>application.properties</code>ä¸­é…ç½®æ•°æ®æºå’ŒHibernateå±æ€§ï¼š</p>
<pre><code class="hljs language-properties" lang="properties"># MySQL Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase
spring.datasource.username=root
spring.datasource.password=rootpassword
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# RabbitMQ Configuration
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest
</code></pre>
<h3 data-id="heading-2">3. å®šä¹‰å®ä½“ç±»å’ŒDAOå±‚</h3>
<h4 data-id="heading-3"><code>Order.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.Entity;
<span class="hljs-keyword">import</span> javax.persistence.GeneratedValue;
<span class="hljs-keyword">import</span> javax.persistence.GenerationType;
<span class="hljs-keyword">import</span> javax.persistence.Id;
<span class="hljs-keyword">import</span> javax.persistence.Table;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "orders")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String product;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> quantity;
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;

    <span class="hljs-comment">// Getters and Setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> id;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(Long id)</span> {
        <span class="hljs-built_in">this</span>.id = id;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getProduct</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> product;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setProduct</span><span class="hljs-params">(String product)</span> {
        <span class="hljs-built_in">this</span>.product = product;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getQuantity</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> quantity;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setQuantity</span><span class="hljs-params">(<span class="hljs-type">int</span> quantity)</span> {
        <span class="hljs-built_in">this</span>.quantity = quantity;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getPrice</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> price;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPrice</span><span class="hljs-params">(<span class="hljs-type">double</span> price)</span> {
        <span class="hljs-built_in">this</span>.price = price;
    }
}
</code></pre>
<h4 data-id="heading-4"><code>OrderRepository.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">OrderRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JpaRepository</span>&lt;Order, Long&gt; {
}
</code></pre>
<h3 data-id="heading-5">4. é…ç½®RabbitMQ</h3>
<h4 data-id="heading-6"><code>RabbitMQConfig.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.amqp.core.Queue;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Bean;
<span class="hljs-keyword">import</span> org.springframework.context.annotation.Configuration;

<span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RabbitMQConfig</span> {

    <span class="hljs-meta">@Bean</span>
    <span class="hljs-keyword">public</span> Queue <span class="hljs-title function_">orderQueue</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Queue</span>(<span class="hljs-string">"orderQueue"</span>, <span class="hljs-literal">true</span>);
    }
}
</code></pre>
<h3 data-id="heading-7">5. åˆ›å»ºäº‹ä»¶å’Œäº‹ä»¶å¤„ç†å™¨</h3>
<h4 data-id="heading-8"><code>OrderCreatedEvent.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> java.io.Serializable;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderCreatedEvent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">long</span> <span class="hljs-variable">serialVersionUID</span> <span class="hljs-operator">=</span> <span class="hljs-number">1L</span>;
    <span class="hljs-keyword">private</span> Long orderId;
    <span class="hljs-keyword">private</span> String product;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> quantity;
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;

    <span class="hljs-comment">// Getters and Setters</span>
    <span class="hljs-keyword">public</span> Long <span class="hljs-title function_">getOrderId</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> orderId;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setOrderId</span><span class="hljs-params">(Long orderId)</span> {
        <span class="hljs-built_in">this</span>.orderId = orderId;
    }

    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getProduct</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> product;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setProduct</span><span class="hljs-params">(String product)</span> {
        <span class="hljs-built_in">this</span>.product = product;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getQuantity</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> quantity;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setQuantity</span><span class="hljs-params">(<span class="hljs-type">int</span> quantity)</span> {
        <span class="hljs-built_in">this</span>.quantity = quantity;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getPrice</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> price;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPrice</span><span class="hljs-params">(<span class="hljs-type">double</span> price)</span> {
        <span class="hljs-built_in">this</span>.price = price;
    }
}
</code></pre>
<h4 data-id="heading-9"><code>OrderEventListener.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.amqp.rabbit.annotation.RabbitListener;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderEventListener</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> OrderRepository orderRepository;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderEventListener</span><span class="hljs-params">(OrderRepository orderRepository)</span> {
        <span class="hljs-built_in">this</span>.orderRepository = orderRepository;
    }

    <span class="hljs-meta">@RabbitListener(queues = "orderQueue")</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleOrderCreatedEvent</span><span class="hljs-params">(OrderCreatedEvent event)</span> {
        <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>();
        order.setId(event.getOrderId());
        order.setProduct(event.getProduct());
        order.setQuantity(event.getQuantity());
        order.setPrice(event.getPrice());
        orderRepository.save(order);
    }
}
</code></pre>
<h3 data-id="heading-10">6. å‘å¸ƒäº‹ä»¶</h3>
<h4 data-id="heading-11"><code>OrderService.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.amqp.rabbit.core.RabbitTemplate;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
<span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Transactional;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> RabbitTemplate rabbitTemplate;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> OrderRepository orderRepository;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">OrderService</span><span class="hljs-params">(RabbitTemplate rabbitTemplate, OrderRepository orderRepository)</span> {
        <span class="hljs-built_in">this</span>.rabbitTemplate = rabbitTemplate;
        <span class="hljs-built_in">this</span>.orderRepository = orderRepository;
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-type">Order</span> <span class="hljs-variable">savedOrder</span> <span class="hljs-operator">=</span> orderRepository.save(order);

        <span class="hljs-comment">// Publish event</span>
        <span class="hljs-type">OrderCreatedEvent</span> <span class="hljs-variable">event</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderCreatedEvent</span>();
        event.setOrderId(savedOrder.getId());
        event.setProduct(savedOrder.getProduct());
        event.setQuantity(savedOrder.getQuantity());
        event.setPrice(savedOrder.getPrice());
        rabbitTemplate.convertAndSend(<span class="hljs-string">"orderQueue"</span>, event);

        <span class="hljs-keyword">return</span> savedOrder;
    }
}
</code></pre>
<h3 data-id="heading-12">7. åˆ›å»ºæ§åˆ¶å™¨</h3>
<h4 data-id="heading-13"><code>OrderController.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.http.ResponseEntity;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;

<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/orders")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderController</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderService orderService;

    <span class="hljs-meta">@PostMapping</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Order&gt; <span class="hljs-title function_">createOrder</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Order order)</span> {
        <span class="hljs-type">Order</span> <span class="hljs-variable">createdOrder</span> <span class="hljs-operator">=</span> orderService.createOrder(order);
        <span class="hljs-keyword">return</span> ResponseEntity.ok(createdOrder);
    }

    <span class="hljs-meta">@GetMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Order&gt; <span class="hljs-title function_">getOrderById</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> orderService.getOrderById(id);
        <span class="hljs-keyword">return</span> ResponseEntity.ok(order);
    }

    <span class="hljs-meta">@GetMapping</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;List&lt;Order&gt;&gt; <span class="hljs-title function_">getAllOrders</span><span class="hljs-params">()</span> {
        List&lt;Order&gt; orders = orderService.getAllOrders();
        <span class="hljs-keyword">return</span> ResponseEntity.ok(orders);
    }

    <span class="hljs-meta">@PutMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Order&gt; <span class="hljs-title function_">updateOrder</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id, <span class="hljs-meta">@RequestBody</span> Order order)</span> {
        order.setId(id); <span class="hljs-comment">// Ensure the order ID is set correctly</span>
        <span class="hljs-type">Order</span> <span class="hljs-variable">updatedOrder</span> <span class="hljs-operator">=</span> orderService.updateOrder(order);
        <span class="hljs-keyword">return</span> ResponseEntity.ok(updatedOrder);
    }

    <span class="hljs-meta">@DeleteMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Void&gt; <span class="hljs-title function_">deleteOrder</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id)</span> {
        orderService.deleteOrder(id);
        <span class="hljs-keyword">return</span> ResponseEntity.noContent().build();
    }
}
</code></pre>
<h3 data-id="heading-14">8. è¿è¡Œåº”ç”¨</h3>
<ol>
<li><strong>å¯åŠ¨RabbitMQ</strong>ï¼šç¡®ä¿ä½ çš„RabbitMQæœåŠ¡å™¨è¿è¡Œåœ¨<code>localhost:5672</code>ã€‚</li>
<li><strong>å¯åŠ¨Spring Bootåº”ç”¨</strong>ï¼šè¿è¡ŒSpring Bootåº”ç”¨ç¨‹åºã€‚</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">mvn spring-boot:run
</code></pre>
<h3 data-id="heading-15">9. è®¿é—®API</h3>
<p>é€šè¿‡ä»¥ä¸‹APIè®¿é—®<code>Order</code>æ•°æ®ï¼š</p>
<ul>
<li><code>POST /orders</code>ï¼šåˆ›å»ºOrderã€‚</li>
<li><code>GET /orders/{id}</code>ï¼šæŒ‰IDè·å–Orderã€‚</li>
<li><code>GET /orders</code>ï¼šè·å–æ‰€æœ‰Ordersã€‚</li>
<li><code>PUT /orders/{id}</code>ï¼šæ›´æ–°Orderã€‚</li>
<li><code>DELETE /orders/{id}</code>ï¼šåˆ é™¤Orderã€‚</li>
</ul>
<h3 data-id="heading-16">æ€»ç»“</h3>
<p>é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œæˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•åœ¨äº‹ä»¶é©±åŠ¨æ¶æ„ä¸­ä½¿ç”¨Hibernateï¼ŒåŒ…æ‹¬é…ç½®Hibernateå’Œæ•°æ®æºã€å®šä¹‰å®ä½“å’ŒDAOå±‚ã€é…ç½®RabbitMQã€åˆ›å»ºäº‹ä»¶å’Œäº‹ä»¶å¤„ç†å™¨ã€å‘å¸ƒå’Œå¤„ç†äº‹ä»¶ï¼Œä»¥åŠä½¿ç”¨æ§åˆ¶å™¨è®¿é—®APIã€‚åœ¨äº‹ä»¶é©±åŠ¨æ¶æ„ä¸­ï¼Œäº‹ä»¶è§¦å‘å™¨å’Œäº‹ä»¶å¤„ç†å™¨ä¹‹é—´çš„æ¾æ•£è€¦åˆå¯ä»¥æé«˜ç³»ç»Ÿçš„å¯æ‰©å±•æ€§å’Œçµæ´»æ€§ï¼ŒåŒæ—¶é€šè¿‡ä½¿ç”¨Hibernateç¡®ä¿æ•°æ®æŒä¹…æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ74ï¼‰å¦‚ä½•åœ¨CQRSæ¶æ„ä¸­ä½¿ç”¨Hibernateï¼Ÿ]]></title>    <link>https://juejin.cn/post/7600787795477872686</link>    <guid>https://juejin.cn/post/7600787795477872686</guid>    <pubDate>2026-01-30T11:50:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600787795477872686" data-draft-id="7600990891206983707" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ74ï¼‰å¦‚ä½•åœ¨CQRSæ¶æ„ä¸­ä½¿ç”¨Hibernateï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-30T11:50:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ74ï¼‰å¦‚ä½•åœ¨CQRSæ¶æ„ä¸­ä½¿ç”¨Hibernateï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T11:50:55.000Z" title="Fri Jan 30 2026 11:50:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨CQRSï¼ˆCommand Query Responsibility Segregationï¼‰æ¶æ„ä¸­ï¼Œè¯»æ“ä½œï¼ˆQueryï¼‰å’Œå†™æ“ä½œï¼ˆCommandï¼‰è¢«åˆ†ç¦»åˆ°ä¸åŒçš„æ¨¡å‹ä¸­ã€‚è¿™æ ·å¯ä»¥ä¼˜åŒ–è¯»å–å’Œå†™å…¥çš„æ€§èƒ½ï¼Œå¹¶ä¸”å…è®¸ä½¿ç”¨ä¸åŒçš„å­˜å‚¨æŠ€æœ¯æ¥å®ç°è¯»å–å’Œå†™å…¥æ¨¡å‹ã€‚Hibernateé€šå¸¸ç”¨äºå¤„ç†å†™æ“ä½œï¼Œå› ä¸ºå®ƒæ“…é•¿å¤„ç†å¤æ‚çš„äº¤æ˜“å’Œå…³ç³»æ•°æ®ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬å°†å±•ç¤ºå¦‚ä½•åœ¨Spring Booté¡¹ç›®ä¸­ç»“åˆHibernateå®ç°CQRSæ¶æ„ã€‚</p>
<h3 data-id="heading-0">1. é¡¹ç›®ä¾èµ–</h3>
<p>åœ¨<code>pom.xml</code>ä¸­æ·»åŠ å¿…è¦çš„ä¾èµ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Spring Boot Starter Data JPA --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- MySQL Connector --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.26<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- HikariCP for Connection Pooling --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.zaxxer<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>HikariCP<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.0.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- Spring Boot Starter Web --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- Spring Boot Starter Data MongoDB (for Query Model) --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-mongodb<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- Lombok --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.projectlombok<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>lombok<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.18.20<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h3 data-id="heading-1">2. é…ç½®æ•°æ®æºå’ŒHibernateå±æ€§</h3>
<p>åœ¨<code>application.properties</code>ä¸­é…ç½®MySQLå’ŒMongoDBæ•°æ®æºï¼š</p>
<pre><code class="hljs language-properties" lang="properties"># MySQL Database Configuration (Command Model)
spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase
spring.datasource.username=root
spring.datasource.password=rootpassword
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# MongoDB Configuration (Query Model)
spring.data.mongodb.host=localhost
spring.data.mongodb.port=27017
spring.data.mongodb.database=myquerydatabase
</code></pre>
<h3 data-id="heading-2">3. å®šä¹‰å†™æ¨¡å‹ï¼ˆCommand Modelï¼‰</h3>
<h4 data-id="heading-3"><code>Order.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> javax.persistence.Entity;
<span class="hljs-keyword">import</span> javax.persistence.GeneratedValue;
<span class="hljs-keyword">import</span> javax.persistence.GenerationType;
<span class="hljs-keyword">import</span> javax.persistence.Id;
<span class="hljs-keyword">import</span> javax.persistence.Table;

<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "orders")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Order</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;
    <span class="hljs-keyword">private</span> String product;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> quantity;
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;
}
</code></pre>
<h4 data-id="heading-4"><code>OrderRepository.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.data.jpa.repository.JpaRepository;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">OrderRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JpaRepository</span>&lt;Order, Long&gt; {
}
</code></pre>
<h3 data-id="heading-5">4. å®šä¹‰è¯»æ¨¡å‹ï¼ˆQuery Modelï¼‰</h3>
<h4 data-id="heading-6"><code>OrderView.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> org.springframework.data.mongodb.core.mapping.Document;
<span class="hljs-keyword">import</span> org.springframework.data.annotation.Id;

<span class="hljs-meta">@Data</span>
<span class="hljs-meta">@Document(collection = "orders")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderView</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-keyword">private</span> String id;
    <span class="hljs-keyword">private</span> String product;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> quantity;
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;
}
</code></pre>
<h4 data-id="heading-7"><code>OrderViewRepository.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.data.mongodb.repository.MongoRepository;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">OrderViewRepository</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">MongoRepository</span>&lt;OrderView, String&gt; {
}
</code></pre>
<h3 data-id="heading-8">5. åˆ›å»ºæœåŠ¡å±‚</h3>
<h4 data-id="heading-9">å†™æ“ä½œæœåŠ¡ï¼ˆCommand Serviceï¼‰</h4>
<h5 data-id="heading-10"><code>OrderCommandService.java</code></h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
<span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Transactional;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderCommandService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderRepository orderRepository;

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-keyword">return</span> orderRepository.save(order);
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">updateOrder</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-keyword">return</span> orderRepository.save(order);
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteOrder</span><span class="hljs-params">(Long id)</span> {
        orderRepository.deleteById(id);
    }
}
</code></pre>
<h4 data-id="heading-11">è¯»æ“ä½œæœåŠ¡ï¼ˆQuery Serviceï¼‰</h4>
<h5 data-id="heading-12"><code>OrderQueryService.java</code></h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;

<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.Optional;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderQueryService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderViewRepository orderViewRepository;

    <span class="hljs-keyword">public</span> List&lt;OrderView&gt; <span class="hljs-title function_">getAllOrders</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> orderViewRepository.findAll();
    }

    <span class="hljs-keyword">public</span> Optional&lt;OrderView&gt; <span class="hljs-title function_">getOrderById</span><span class="hljs-params">(String id)</span> {
        <span class="hljs-keyword">return</span> orderViewRepository.findById(id);
    }
}
</code></pre>
<h3 data-id="heading-13">6. åˆ›å»ºäº‹ä»¶å’Œäº‹ä»¶å¤„ç†å™¨</h3>
<h4 data-id="heading-14"><code>OrderCreatedEvent.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.io.Serializable;

<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderCreatedEvent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> Long orderId;
    <span class="hljs-keyword">private</span> String product;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> quantity;
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;
}
</code></pre>
<h4 data-id="heading-15"><code>OrderUpdatedEvent.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.io.Serializable;

<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderUpdatedEvent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> Long orderId;
    <span class="hljs-keyword">private</span> String product;
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> quantity;
    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> price;
}
</code></pre>
<h4 data-id="heading-16"><code>OrderDeletedEvent.java</code></h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> lombok.Data;
<span class="hljs-keyword">import</span> java.io.Serializable;

<span class="hljs-meta">@Data</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderDeletedEvent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Serializable</span> {
    <span class="hljs-keyword">private</span> Long orderId;
}
</code></pre>
<h3 data-id="heading-17">7. äº‹ä»¶å‘å¸ƒå™¨å’Œå¤„ç†å™¨</h3>
<h4 data-id="heading-18">äº‹ä»¶å‘å¸ƒå™¨</h4>
<h5 data-id="heading-19"><code>EventPublisher.java</code></h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.context.ApplicationEventPublisher;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">EventPublisher</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ApplicationEventPublisher applicationEventPublisher;

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">EventPublisher</span><span class="hljs-params">(ApplicationEventPublisher applicationEventPublisher)</span> {
        <span class="hljs-built_in">this</span>.applicationEventPublisher = applicationEventPublisher;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">publish</span><span class="hljs-params">(Object event)</span> {
        applicationEventPublisher.publishEvent(event);
    }
}
</code></pre>
<h4 data-id="heading-20">äº‹ä»¶å¤„ç†å™¨</h4>
<h5 data-id="heading-21"><code>OrderEventListener.java</code></h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.context.event.EventListener;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderEventListener</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderViewRepository orderViewRepository;

    <span class="hljs-meta">@EventListener</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleOrderCreatedEvent</span><span class="hljs-params">(OrderCreatedEvent event)</span> {
        <span class="hljs-type">OrderView</span> <span class="hljs-variable">orderView</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderView</span>();
        orderView.setId(event.getOrderId().toString());
        orderView.setProduct(event.getProduct());
        orderView.setQuantity(event.getQuantity());
        orderView.setPrice(event.getPrice());
        orderViewRepository.save(orderView);
    }

    <span class="hljs-meta">@EventListener</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleOrderUpdatedEvent</span><span class="hljs-params">(OrderUpdatedEvent event)</span> {
        <span class="hljs-type">OrderView</span> <span class="hljs-variable">orderView</span> <span class="hljs-operator">=</span> orderViewRepository.findById(event.getOrderId().toString()).orElse(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderView</span>());
        orderView.setProduct(event.getProduct());
        orderView.setQuantity(event.getQuantity());
        orderView.setPrice(event.getPrice());
        orderViewRepository.save(orderView);
    }

    <span class="hljs-meta">@EventListener</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">handleOrderDeletedEvent</span><span class="hljs-params">(OrderDeletedEvent event)</span> {
        orderViewRepository.deleteById(event.getOrderId().toString());
    }
}
</code></pre>
<h3 data-id="heading-22">8. ä¿®æ”¹æœåŠ¡å±‚å‘å¸ƒäº‹ä»¶</h3>
<h4 data-id="heading-23">ä¿®æ”¹å†™æ“ä½œæœåŠ¡ï¼ˆCommand Serviceï¼‰</h4>
<h5 data-id="heading-24"><code>OrderCommandService.java</code></h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Service;
<span class="hljs-keyword">import</span> org.springframework.transaction.annotation.Transactional;

<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderCommandService</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderRepository orderRepository;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> EventPublisher eventPublisher;

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">createOrder</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-type">Order</span> <span class="hljs-variable">savedOrder</span> <span class="hljs-operator">=</span> orderRepository.save(order);
        <span class="hljs-type">OrderCreatedEvent</span> <span class="hljs-variable">event</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderCreatedEvent</span>();
        event.setOrderId(savedOrder.getId());
        event.setProduct(savedOrder.getProduct());
        event.setQuantity(savedOrder.getQuantity());
        event.setPrice(savedOrder.getPrice());
        eventPublisher.publish(event);
        <span class="hljs-keyword">return</span> savedOrder;
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> Order <span class="hljs-title function_">updateOrder</span><span class="hljs-params">(Order order)</span> {
        <span class="hljs-type">Order</span> <span class="hljs-variable">updatedOrder</span> <span class="hljs-operator">=</span> orderRepository.save(order);
        <span class="hljs-type">OrderUpdatedEvent</span> <span class="hljs-variable">event</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderUpdatedEvent</span>();
        event.setOrderId(updatedOrder.getId());
        event.setProduct(updatedOrder.getProduct());
        event.setQuantity(updatedOrder.getQuantity());
        event.setPrice(updatedOrder.getPrice());
        eventPublisher.publish(event);
        <span class="hljs-keyword">return</span> updatedOrder;
    }

    <span class="hljs-meta">@Transactional</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">deleteOrder</span><span class="hljs-params">(Long id)</span> {
        orderRepository.deleteById(id);
        <span class="hljs-type">OrderDeletedEvent</span> <span class="hljs-variable">event</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrderDeletedEvent</span>();
        event.setOrderId(id);
        eventPublisher.publish(event);
    }
}
</code></pre>
<h3 data-id="heading-25">9. åˆ›å»ºæ§åˆ¶å™¨</h3>
<h4 data-id="heading-26">å†™æ“ä½œæ§åˆ¶å™¨ï¼ˆCommand Controllerï¼‰</h4>
<h5 data-id="heading-27"><code>OrderCommandController.java</code></h5>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.springframework.beans.factory.annotation.Autowired;
<span class="hljs-keyword">import</span> org.springframework.http.ResponseEntity;
<span class="hljs-keyword">import</span> org.springframework.web.bind.annotation.*;

<span class="hljs-meta">@RestController</span>
<span class="hljs-meta">@RequestMapping("/orders")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderCommandController</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderCommandService orderCommandService;

    <span class="hljs-meta">@PostMapping</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Order&gt; <span class="hljs-title function_">createOrder</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Order order)</span> {
        <span class="hljs-type">Order</span> <span class="hljs-variable">createdOrder</span> <span class="hljs-operator">=</span> orderCommandService.createOrder(order);
        <span class="hljs-keyword">return</span> ResponseEntity.ok(createdOrder);
    }

    <span class="hljs-meta">@PutMapping("/{id}")</span>
    <span class="hljs-keyword">public</span> ResponseEntity&lt;Order&gt; <span class="hljs-title function_">updateOrder</span><span class="hljs-params">(<span class="hljs-meta">@PathVariable</span> Long id, <span class="hljs-meta">@RequestBody</span> Order order)</span> {
        order.setId(id); <span class="hljs-comment">// Ensure the order ID is set correctly</span>
        
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šæ‰“é€ é«˜æ•ˆçš„å‰ç«¯å·¥ç¨‹å¸ˆç»ˆç«¯ï¼šä¸€ä»½å¯å¤åˆ¶çš„ Zsh + Powerlevel10k é…ç½®å®è·µã€‹]]></title>    <link>https://juejin.cn/post/7600990891206672411</link>    <guid>https://juejin.cn/post/7600990891206672411</guid>    <pubDate>2026-01-30T09:21:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600990891206672411" data-draft-id="7600967006892982281" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šæ‰“é€ é«˜æ•ˆçš„å‰ç«¯å·¥ç¨‹å¸ˆç»ˆç«¯ï¼šä¸€ä»½å¯å¤åˆ¶çš„ Zsh + Powerlevel10k é…ç½®å®è·µã€‹"/> <meta itemprop="keywords" content="å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2026-01-30T09:21:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="WaitingChen"/> <meta itemprop="url" content="https://juejin.cn/user/1900414998429544"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šæ‰“é€ é«˜æ•ˆçš„å‰ç«¯å·¥ç¨‹å¸ˆç»ˆç«¯ï¼šä¸€ä»½å¯å¤åˆ¶çš„ Zsh + Powerlevel10k é…ç½®å®è·µã€‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1900414998429544/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    WaitingChen
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:21:40.000Z" title="Fri Jan 30 2026 09:21:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ç›®æ ‡å¾ˆç®€å•ï¼š<strong>å¿«ã€ç¨³ã€çˆ½</strong>ã€‚</p>
<p>å¿«ï¼šæ‰“å¼€ç»ˆç«¯ä¸æ‹–æ³¥å¸¦æ°´ï¼›
ç¨³ï¼šè¡¥å…¨ã€å†å²ã€æ’ä»¶ä¸äº’ç›¸æ‰“æ¶ï¼›
çˆ½ï¼š<code>git commit</code> è¿™ç§é«˜é¢‘å‘½ä»¤ï¼Œè‚Œè‚‰è®°å¿†çº§ä½“éªŒã€‚</p>
</blockquote>
<p>è¿™ç¯‡æ–‡ç« åŸºäºä¸€ä»½<strong>å¯ç›´æ¥ä½¿ç”¨çš„ <code>.zshrc</code> é…ç½®</strong>ï¼Œå®Œæ•´è®²æ¸…æ¥šæ¯ä¸€æ®µé…ç½®è§£å†³äº†ä»€ä¹ˆé—®é¢˜ã€ä¸ºä»€ä¹ˆè¦è¿™æ ·æ”¾ã€ä»¥åŠå®ƒå¸¦æ¥çš„å®é™…ä½“éªŒæå‡ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆè¦â€œè®¤çœŸé…ç½®â€ç»ˆç«¯ï¼Ÿ</h2>
<p>å¯¹äºå‰ç«¯å·¥ç¨‹å¸ˆæ¥è¯´ï¼Œç»ˆç«¯å¹¶ä¸æ˜¯å¶å°”ç”¨ä¸€ä¸‹çš„å·¥å…·ï¼Œè€Œæ˜¯ï¼š</p>
<ul>
<li>é«˜é¢‘ Git æ“ä½œï¼ˆ<code>git commit / rebase / checkout</code>ï¼‰</li>
<li>åŒ…ç®¡ç†ï¼ˆ<code>pnpm / npm / yarn</code>ï¼‰</li>
<li>æœ¬åœ°è°ƒè¯•ã€æ„å»ºã€è„šæ‰‹æ¶</li>
</ul>
<p>å¦‚æœç»ˆç«¯å…·å¤‡ä¸‹é¢è¿™äº›èƒ½åŠ›ï¼š</p>
<ul>
<li><strong>â†‘ / â†“ åªåœ¨â€œç›¸å…³å†å²â€é‡Œå¾ªç¯</strong></li>
<li><strong>è‡ªåŠ¨è”æƒ³ä½†ä¸æŠ¢é”®</strong></li>
<li><strong>è¡¥å…¨ç¨³å®šã€æ— å¡é¡¿</strong></li>
</ul>
<p>æ¯å¤©èŠ‚çœçš„ä¸æ˜¯å‡ ç§’ï¼Œè€Œæ˜¯<strong>æ³¨æ„åŠ›å’Œå¿ƒæ™ºè´Ÿæ‹…</strong>ã€‚</p>
<h2 data-id="heading-1">äºŒã€æ•´ä½“ç»“æ„è®¾è®¡åŸåˆ™</h2>
<p>è¿™ä»½é…ç½®éµå¾ªå‡ ä¸ªæ˜ç¡®çš„åŸåˆ™ï¼š</p>
<ol>
<li><strong>å¯åŠ¨ç›¸å…³çš„é…ç½®å°½é‡é å‰</strong>ï¼ˆé¿å…é—ªå±ã€å¡é¡¿ï¼‰</li>
<li><strong>åŠŸèƒ½æ€§æ¨¡å—åˆ†åŒºæ¸…æ™°</strong>ï¼ˆè¡¥å…¨ã€å†å²ã€è”æƒ³ã€é«˜äº®å„å¸å…¶èŒï¼‰</li>
<li><strong>é¡ºåºä¸¥æ ¼</strong>ï¼ˆè¿™æ˜¯å¾ˆå¤šé—®é¢˜çš„æ ¹æºï¼‰</li>
</ol>
<p>ä¸‹é¢æŒ‰æ¨¡å—é€ä¸€æ‹†è§£ã€‚</p>
<h2 data-id="heading-2">ä¸‰ã€Powerlevel10k Instant Promptï¼šå¯åŠ¨é€Ÿåº¦çš„å…³é”®</h2>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-keyword">if</span> [[ -r <span class="hljs-string">"<span class="hljs-variable">${XDG_CACHE_HOME:-<span class="hljs-variable">$HOME</span>/.cache}</span>/p10k-instant-prompt-<span class="hljs-variable">${(%):-%n}</span>.zsh"</span> ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">source</span> <span class="hljs-string">"<span class="hljs-variable">${XDG_CACHE_HOME:-<span class="hljs-variable">$HOME</span>/.cache}</span>/p10k-instant-prompt-<span class="hljs-variable">${(%):-%n}</span>.zsh"</span>
<span class="hljs-keyword">fi</span>
</code></pre>
<p>è¿™æ˜¯ Powerlevel10k å®˜æ–¹æ¨èçš„ <strong>Instant Prompt</strong> å†™æ³•ï¼Œä½œç”¨æ˜¯ï¼š</p>
<ul>
<li>åœ¨ Zsh å®Œå…¨åˆå§‹åŒ–ä¹‹å‰ï¼Œ<strong>å…ˆæ¸²æŸ“ Prompt</strong></li>
<li>é¿å…ç»ˆç«¯å¯åŠ¨æ—¶çš„â€œç™½å±ç­‰å¾…â€</li>
</ul>
<h2 data-id="heading-3">å››ã€NVM ä¸ä¸»é¢˜åŠ è½½ï¼šç¨³å®šä¼˜å…ˆ</h2>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">export</span> NVM_DIR=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.nvm"</span>
[ -s <span class="hljs-string">"/opt/homebrew/opt/nvm/nvm.sh"</span> ] &amp;&amp; . <span class="hljs-string">"/opt/homebrew/opt/nvm/nvm.sh"</span>

<span class="hljs-built_in">source</span> /opt/homebrew/share/powerlevel10k/powerlevel10k.zsh-theme
[[ -f ~/.p10k.zsh ]] &amp;&amp; <span class="hljs-built_in">source</span> ~/.p10k.zsh
</code></pre>
<p>è¿™é‡Œé€‰æ‹©çš„æ˜¯<strong>æœ€ç¨³å¦¥ã€æœ€ä¸å®¹æ˜“å‡ºå‘</strong>çš„æ–¹å¼ï¼š</p>
<ul>
<li>ä¸åšè¿‡åº¦é­”æ”¹</li>
<li>ä¸æå‰ä¼˜åŒ–å¯åŠ¨æ—¶é—´</li>
</ul>
<p>å¦‚æœåç»­éœ€è¦è¿½æ±‚æè‡´å¯åŠ¨é€Ÿåº¦ï¼Œå†å¯¹ NVM åš lazy load å³å¯ã€‚</p>
<h2 data-id="heading-4">äº”ã€PATH ç®¡ç†ï¼šå»é‡æ˜¯éšè—çš„å·¥ç¨‹å¸ˆç»†èŠ‚</h2>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment"># ç¤ºä¾‹ï¼šå°†è‡ªå®šä¹‰å·¥å…·åŠ å…¥ PATHï¼ˆè¯·æŒ‰éœ€ä¿®æ”¹æˆ–åˆ é™¤ï¼‰</span>
<span class="hljs-comment"># export PATH="$HOME/.comate/bin:$PATH"</span>

<span class="hljs-built_in">typeset</span> -U PATH path
</code></pre>
<p><code>typeset -U PATH path</code> çš„ä½œç”¨æ˜¯ï¼š</p>
<ul>
<li>è‡ªåŠ¨å»é‡ PATH</li>
<li><strong>ä¿ç•™ç¬¬ä¸€æ¬¡å‡ºç°çš„é¡ºåº</strong></li>
</ul>
<p>è¿™èƒ½é¿å…ï¼š</p>
<ul>
<li>PATH æ— é™å¢é•¿</li>
<li>åŒä¸€ä¸ªäºŒè¿›åˆ¶è¢«å¤šæ¬¡æ‰«æ</li>
</ul>
<p>å±äºâ€œçœ‹ä¸è§ï¼Œä½†å¾ˆä¸“ä¸šâ€çš„é…ç½®ã€‚</p>
<h2 data-id="heading-5">å…­ã€è¡¥å…¨ç³»ç»Ÿï¼šä¸€åˆ‡ä½“éªŒçš„åœ°åŸº</h2>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">autoload</span> -Uz compinit
compinit -d ~/.zcompdump
</code></pre>
<p>è¡¥å…¨ç³»ç»Ÿæ˜¯å¾ˆå¤šæ’ä»¶çš„åŸºç¡€ï¼ˆåŒ…æ‹¬è‡ªåŠ¨è”æƒ³ï¼‰ã€‚</p>
<p>æ˜¾å¼æŒ‡å®š <code>.zcompdump</code> æ–‡ä»¶å¯ä»¥ï¼š</p>
<ul>
<li>é¿å…å¶å‘çš„è¡¥å…¨é‡å»º</li>
<li>æé«˜ç¨³å®šæ€§</li>
</ul>
<p><strong>é¡ºåºè¦æ±‚</strong>ï¼š</p>
<blockquote>
<p><code>compinit</code> å¿…é¡»åœ¨ autosuggestions ä¹‹å‰ã€‚</p>
</blockquote>
<h2 data-id="heading-6">ä¸ƒã€å†å²è¡Œä¸ºä¼˜åŒ–ï¼šè®©â€œâ†‘â€å˜èªæ˜</h2>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">setopt</span> HIST_IGNORE_ALL_DUPS
<span class="hljs-built_in">setopt</span> HIST_REDUCE_BLANKS
<span class="hljs-built_in">setopt</span> INC_APPEND_HISTORY
<span class="hljs-built_in">setopt</span> SHARE_HISTORY
</code></pre>
<p>è¿™äº›é€‰é¡¹å…±åŒè§£å†³äº†å‡ ä¸ªç—›ç‚¹ï¼š</p>
<ul>
<li>åŒä¸€æ¡å‘½ä»¤ä¸ä¼šæ— é™åˆ·å†å²</li>
<li>å¤šä½™ç©ºæ ¼ä¸ä¼šå½±å“åŒ¹é…</li>
<li>å¤šä¸ªç»ˆç«¯çª—å£å…±äº«å†å²</li>
</ul>
<p>ç»“æœæ˜¯ï¼š</p>
<blockquote>
<p>å†å²è®°å½•æ›´å¹²å‡€ï¼Œæœç´¢æ›´ç²¾å‡†ã€‚</p>
</blockquote>
<h2 data-id="heading-7">å…«ã€â†‘ / â†“ å‰ç¼€å†å²æœç´¢ï¼ˆæ ¸å¿ƒä½“éªŒï¼‰</h2>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">bindkey</span> -M emacs <span class="hljs-string">'^[[A'</span> history-beginning-search-backward
<span class="hljs-built_in">bindkey</span> -M emacs <span class="hljs-string">'^[[B'</span> history-beginning-search-forward
</code></pre>
<p>è¿™æ˜¯æ•´ä»½é…ç½®çš„<strong>çµé­‚éƒ¨åˆ†</strong>ã€‚</p>
<h3 data-id="heading-8">è¡Œä¸ºå¯¹æ¯”</h3>
<p>å†å²ä¸­æœ‰ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">git commit -m <span class="hljs-string">"init"</span>
git commit --amend
git checkout main
pnpm install
</code></pre>
<p>å½“ä½ è¾“å…¥ï¼š</p>
<pre><code class="hljs language-sh" lang="sh">git commit
</code></pre>
<p>æŒ‰ â†‘ / â†“ï¼š</p>
<ul>
<li>âœ… åªä¼šå‡ºç° <code>git commit ...</code></li>
<li>âŒ ä¸ä¼šæ··å…¥ <code>checkout / pnpm</code></li>
</ul>
<p>è¿™æ˜¯<strong>ä¸¥æ ¼çš„å‰ç¼€åŒ¹é…</strong>ï¼Œéå¸¸é€‚åˆ Git è¿™ç±»å‘½ä»¤æ—ã€‚</p>
<h2 data-id="heading-9">ä¹ã€è‡ªåŠ¨è”æƒ³ï¼šè¾…åŠ©è€Œä¸æ˜¯å¹²æ‰°</h2>
<pre><code class="hljs language-sh" lang="sh">ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=<span class="hljs-string">'fg=8'</span>
<span class="hljs-built_in">source</span> /opt/homebrew/share/zsh-autosuggestions/zsh-autosuggestions.zsh
</code></pre>
<ul>
<li>ç°è‰²æç¤ºè¶³å¤Ÿå…‹åˆ¶</li>
<li>åªåšâ€œæç¤ºâ€ï¼Œä¸æŠ¢æ§åˆ¶æƒ</li>
</ul>
<p>å¹¶ä¸”é€šè¿‡ <code>-M emacs</code> çš„ bindkey å†™æ³•ï¼Œç¡®ä¿å®ƒä¸ä¼šå’Œ â†‘ / â†“ è¡Œä¸ºå†²çªã€‚</p>
<h2 data-id="heading-10">åã€è¯­æ³•é«˜äº®ï¼šä¸ºä»€ä¹ˆå¿…é¡»æ”¾æœ€åï¼Ÿ</h2>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-built_in">source</span> /opt/homebrew/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
</code></pre>
<p>è¿™æ˜¯å®˜æ–¹å’Œç¤¾åŒºåå¤å¼ºè°ƒçš„ä¸€ç‚¹ï¼š</p>
<blockquote>
<p><code>zsh-syntax-highlighting</code> <strong>å¿…é¡»æ˜¯æœ€ååŠ è½½çš„æ’ä»¶</strong>ã€‚</p>
</blockquote>
<p>å¦åˆ™ä¼šå‡ºç°ï¼š</p>
<ul>
<li>é«˜äº®å¤±æ•ˆ</li>
<li>ä¸å…¶ä»–æ’ä»¶å†²çª</li>
</ul>
<h2 data-id="heading-11">åä¸€ã€æœ€ç»ˆé…ç½®ï¼ˆå¯ç›´æ¥ä½¿ç”¨ï¼‰</h2>
<p>ä¸‹é¢æ˜¯ä¸€ä»½<strong>å®Œæ•´ã€å¯ç›´æ¥å¤åˆ¶ä½¿ç”¨çš„ <code>.zshrc</code> æœ€ç»ˆé…ç½®</strong>ã€‚</p>
<blockquote>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>å·²åŒ…å« Powerlevel10k Instant Prompt</li>
<li>æ”¯æŒ <code>git commit</code> ç­‰å‘½ä»¤çš„ <strong>â†‘ / â†“ ä¸¥æ ¼å‰ç¼€å†å²æœç´¢</strong></li>
<li>è‡ªåŠ¨è”æƒ³ã€é«˜äº®ã€è¡¥å…¨é¡ºåºå…¨éƒ¨æ­£ç¡®</li>
<li>é€‚åˆé•¿æœŸä½œä¸ºä¸»åŠ›ç»ˆç«¯é…ç½®ä½¿ç”¨</li>
</ul>
</blockquote>
<pre><code class="hljs language-sh" lang="sh"><span class="hljs-comment">########################################</span>
<span class="hljs-comment"># Powerlevel10k instant promptï¼ˆå¿…é¡»é å‰ï¼‰</span>
<span class="hljs-comment">########################################</span>
<span class="hljs-keyword">if</span> [[ -r <span class="hljs-string">"<span class="hljs-variable">${XDG_CACHE_HOME:-<span class="hljs-variable">$HOME</span>/.cache}</span>/p10k-instant-prompt-<span class="hljs-variable">${(%):-%n}</span>.zsh"</span> ]]; <span class="hljs-keyword">then</span>
  <span class="hljs-built_in">source</span> <span class="hljs-string">"<span class="hljs-variable">${XDG_CACHE_HOME:-<span class="hljs-variable">$HOME</span>/.cache}</span>/p10k-instant-prompt-<span class="hljs-variable">${(%):-%n}</span>.zsh"</span>
<span class="hljs-keyword">fi</span>

<span class="hljs-comment">########################################</span>
<span class="hljs-comment"># åŸºç¡€ç¯å¢ƒ</span>
<span class="hljs-comment">########################################</span>
<span class="hljs-built_in">export</span> NVM_DIR=<span class="hljs-string">"<span class="hljs-variable">$HOME</span>/.nvm"</span>
[ -s <span class="hljs-string">"/opt/homebrew/opt/nvm/nvm.sh"</span> ] &amp;&amp; . <span class="hljs-string">"/opt/homebrew/opt/nvm/nvm.sh"</span>

<span class="hljs-comment"># Powerlevel10k ä¸»é¢˜</span>
<span class="hljs-built_in">source</span> /opt/homebrew/share/powerlevel10k/powerlevel10k.zsh-theme
[[ -f ~/.p10k.zsh ]] &amp;&amp; <span class="hljs-built_in">source</span> ~/.p10k.zsh

<span class="hljs-comment"># PATH å»é‡</span>
<span class="hljs-built_in">typeset</span> -U PATH path

<span class="hljs-comment">########################################</span>
<span class="hljs-comment"># Zsh è¡¥å…¨ç³»ç»Ÿ</span>
<span class="hljs-comment">########################################</span>
<span class="hljs-built_in">autoload</span> -Uz compinit
compinit -d ~/.zcompdump

<span class="hljs-comment">########################################</span>
<span class="hljs-comment"># å†å²è¡Œä¸ºä¼˜åŒ–</span>
<span class="hljs-comment">########################################</span>
<span class="hljs-built_in">setopt</span> HIST_IGNORE_ALL_DUPS
<span class="hljs-built_in">setopt</span> HIST_REDUCE_BLANKS
<span class="hljs-built_in">setopt</span> INC_APPEND_HISTORY
<span class="hljs-built_in">setopt</span> SHARE_HISTORY

<span class="hljs-comment">########################################</span>
<span class="hljs-comment"># è‡ªåŠ¨è”æƒ³ï¼ˆç°è‰²æç¤ºï¼‰</span>
<span class="hljs-comment">########################################</span>
ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE=<span class="hljs-string">'fg=8'</span>
<span class="hljs-built_in">source</span> /opt/homebrew/share/zsh-autosuggestions/zsh-autosuggestions.zsh

<span class="hljs-comment">########################################</span>
<span class="hljs-comment"># â†‘ / â†“ å‰ç¼€å†å²æœç´¢ï¼ˆgit commit å‹å¥½ï¼‰</span>
<span class="hljs-comment">########################################</span>
<span class="hljs-built_in">bindkey</span> -M emacs <span class="hljs-string">'^[[A'</span> history-beginning-search-backward
<span class="hljs-built_in">bindkey</span> -M emacs <span class="hljs-string">'^[[B'</span> history-beginning-search-forward

<span class="hljs-comment">########################################</span>
<span class="hljs-comment"># è¯­æ³•é«˜äº®ï¼ˆå¿…é¡»æ”¾æœ€åï¼‰</span>
<span class="hljs-comment">########################################</span>
<span class="hljs-built_in">source</span> /opt/homebrew/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
</code></pre>
<h2 data-id="heading-12">åäºŒã€æœ€ç»ˆæ•ˆæœæ€»ç»“</h2>
<p>ä½¿ç”¨è¿™ä»½é…ç½®ï¼Œä½ ä¼šå¾—åˆ°ï¼š</p>
<ul>
<li><strong>å¯åŠ¨å¿«ã€ä¸é—ªå±</strong>ï¼ˆPowerlevel10k Instant Promptï¼‰</li>
<li><strong>è¡¥å…¨ç¨³å®š</strong>ï¼ˆcompinit é¡ºåºæ­£ç¡®ï¼‰</li>
<li><strong>å†å²æœç´¢ç²¾å‡†</strong>ï¼ˆå‰ç¼€åŒ¹é…ï¼‰</li>
<li><strong>è‡ªåŠ¨è”æƒ³ä¸å¹²æ‰°æ“ä½œ</strong></li>
</ul>
<p>è¿™ä¸æ˜¯â€œç‚«æŠ€å‹é…ç½®â€ï¼Œè€Œæ˜¯ï¼š</p>
<blockquote>
<p><strong>é€‚åˆé•¿æœŸä½¿ç”¨çš„å·¥ç¨‹å¸ˆç»ˆç«¯åŸºå»ºã€‚</strong></p>
</blockquote>
<h2 data-id="heading-13">ç»“è¯­</h2>
<p>ç»ˆç«¯é…ç½®çš„ä»·å€¼ï¼Œä¸åœ¨äºä½ ç”¨äº†å¤šå°‘æ’ä»¶ï¼Œè€Œåœ¨äºï¼š</p>
<ul>
<li>æ˜¯å¦å‡å°‘äº†æ— æ„ä¹‰çš„æ“ä½œ</li>
<li>æ˜¯å¦è®©é«˜é¢‘è¡Œä¸ºå˜æˆè‚Œè‚‰è®°å¿†</li>
</ul>
<p>å¦‚æœä½ æ¯å¤©è¦æ•²å‡ åæ¬¡ <code>git commit</code>ï¼Œ
é‚£ä¹ˆè®© â†‘ é”®â€œåªåšæ­£ç¡®çš„äº‹â€ï¼Œæœ¬èº«å°±å·²ç»éå¸¸å€¼å¾—äº†ã€‚</p>
<blockquote>
<p>åç»­å¯ä»¥ç»§ç»­è¿›é˜¶çš„æ–¹å‘ï¼š</p>
<ul>
<li>NVM lazy loadï¼ˆç§’å¼€ç»ˆç«¯ï¼‰</li>
<li>Git / pnpm ä¸“ç”¨å¿«æ·é”®</li>
<li>ZLE Widget æ·±åº¦å®šåˆ¶</li>
</ul>
</blockquote>
<p>è¿™äº›ï¼Œéƒ½å¯ä»¥åœ¨è¿™ä»½é…ç½®ä¹‹ä¸Šè‡ªç„¶æ¼”è¿›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React-Scheduler è°ƒåº¦å™¨å¦‚ä½•æŒæ§ä¸»çº¿ç¨‹ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7600787795477364782</link>    <guid>https://juejin.cn/post/7600787795477364782</guid>    <pubDate>2026-01-30T09:21:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600787795477364782" data-draft-id="7600990891206475803" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React-Scheduler è°ƒåº¦å™¨å¦‚ä½•æŒæ§ä¸»çº¿ç¨‹ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,React.js"/> <meta itemprop="datePublished" content="2026-01-30T09:21:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React-Scheduler è°ƒåº¦å™¨å¦‚ä½•æŒæ§ä¸»çº¿ç¨‹ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:21:35.000Z" title="Fri Jan 30 2026 09:21:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨ React 18 çš„å¹¶å‘æ—¶ä»£ï¼Œ<code>Schedulerï¼ˆè°ƒåº¦å™¨ï¼‰</code> æ˜¯å®ç°éé˜»å¡æ¸²æŸ“çš„å¹•åè‹±é›„ã€‚å®ƒä¸åªæ˜¯ React çš„ä¸€ä¸ªæ¨¡å—ï¼Œæ›´æ˜¯ä¸€ä¸ªé€šç”¨çš„ã€é«˜æ€§èƒ½çš„ JavaScript ä»»åŠ¡è°ƒåº¦åº“ã€‚å®ƒä¸ä»…è®© React ä»»åŠ¡å¯ä»¥â€œæ’é˜Ÿâ€ï¼Œè¿˜è®©â€œé•¿ä»»åŠ¡â€ä¸å†é˜»å¡æµè§ˆå™¨ UI æ¸²æŸ“ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ æ ¸å¿ƒæ¦‚å¿µï¼šä»€ä¹ˆæ˜¯ Schedulerï¼Ÿ</h2>
<p>Scheduler æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„åŒ…ï¼Œå®ƒé€šè¿‡ä¸ React åè°ƒè¿‡ç¨‹ï¼ˆReconciliationï¼‰çš„ç´§å¯†é…åˆï¼Œå®ç°äº†ä»»åŠ¡çš„<strong>å¯ä¸­æ–­ã€å¯æ¢å¤ã€å¸¦ä¼˜å…ˆçº§</strong>æ‰§è¡Œã€‚</p>
<h3 data-id="heading-2">ä¸»è¦èŒè´£</h3>
<ol>
<li><strong>ä¼˜å…ˆçº§ç®¡ç†</strong>ï¼šæ ¹æ®ä»»åŠ¡ç´§æ€¥ç¨‹åº¦ï¼ˆå¦‚ç”¨æˆ·ç‚¹å‡» vs æ•°æ®é¢„å–ï¼‰å®‰æ’æ‰§è¡Œé¡ºåºã€‚</li>
<li><strong>ç©ºé—²æ—¶é—´åˆ©ç”¨</strong>ï¼šåœ¨æµè§ˆå™¨æ¯ä¸€å¸§çš„ç©ºé—²æ—¶é—´å¤„ç†ä¸ç´§æ€¥çš„ä»»åŠ¡ã€‚</li>
<li><strong>é˜²æ­¢ä¸»çº¿ç¨‹é˜»å¡</strong>ï¼šé€šè¿‡â€œæ—¶é—´ç‰‡ï¼ˆTime Slicingï¼‰â€æœºåˆ¶ï¼Œé¿å…é•¿ä»»åŠ¡å¯¼è‡´é¡µé¢å‡æ­»ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-3">äºŒã€ Scheduler çš„å®Œæ•´è°ƒåº¦é“¾è·¯</h2>
<p>å½“ä¸€ä¸ª <code>setState</code> è§¦å‘åï¼ŒScheduler å†…éƒ¨ä¼šç»å†ä»¥ä¸‹ç²¾å¯†æµç¨‹ï¼š</p>
<h3 data-id="heading-4">1. ä»»åŠ¡åˆ›å»ºä¸é€šçŸ¥</h3>
<p>å½“çŠ¶æ€æ›´æ–°æ—¶ï¼ŒReact ä¸ä¼šç«‹å³æ‰§è¡Œ Renderã€‚å®ƒé¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ª <code>Update</code>å¯¹è±¡æ¥è®°å½•è¿™æ¬¡å˜æ›´ï¼Œè¿™ä¸ªå¯¹è±¡ä¸­åŒ…å«è¿™æ¬¡æ›´æ–°æ‰€éœ€çš„å…¨éƒ¨ä¿¡æ¯ï¼Œä¾‹å¦‚æ›´æ–°åçš„çŠ¶æ€å€¼ï¼Œ<code>Lane</code>è½¦é“æ¨¡å‹åˆ†é…çš„ä»»åŠ¡ä¼˜å…ˆçº§.</p>
<h3 data-id="heading-5">2. ä¼˜å…ˆçº§æ’åºä¸é˜Ÿåˆ—ç»´æŠ¤</h3>
<ul>
<li>
<p><strong>ä»»åŠ¡ä¼˜å…ˆçº§æ’åº</strong>ï¼š åˆ›å»ºæ›´æ–°åï¼Œreactä¼šè°ƒç”¨<code>scheduleUpdateOnFiber</code>å‡½æ•°é€šçŸ¥<code>scheduler</code>è°ƒåº¦å™¨æœ‰ä¸ªä¸€ä¸ªæ–°çš„ä»»åŠ¡éœ€è¦è°ƒåº¦ï¼Œè¿™æ—¶<code>scheduler</code>ä¼šå¯¹è¯¥ä»»åŠ¡ç¡®å®šä¸€ä¸ªä¼˜å…ˆçº§ï¼Œä»¥åŠè¿‡æœŸæ—¶é—´ï¼ˆä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¿‡æœŸæ—¶é—´è¶ŠçŸ­ï¼Œè¡¨ç¤ºè¶Šç´§æ€¥ï¼‰</p>
</li>
<li>
<p><strong>é˜Ÿåˆ—ç»´æŠ¤</strong>ï¼š æ¥ç€<code>scheduler</code>ä¼šå°†è¯¥ä»»åŠ¡æ”¾å…¥åˆ°å¾ªç¯è°ƒåº¦ä¸­ï¼Œ<code>scheduler</code>å¯¹äºä»»åŠ¡å¾ªç¯è°ƒåº¦åœ¨å†…éƒ¨ç»´æŠ¤ç€ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯ç«‹å³æ‰§è¡Œé˜Ÿåˆ—<code>taskQueue</code>å’Œå»¶è¿Ÿä»»åŠ¡é˜Ÿåˆ—<code>timeQueue</code>ï¼Œæ–°ä»»åŠ¡ä¼šæ ¹æ®ä¼˜å…ˆçº§è¿›å…¥åˆ°ç›¸åº”å¯¹åˆ—</p>
<ul>
<li><strong><code>timerQueue</code>ï¼ˆå»¶æ—¶ä»»åŠ¡é˜Ÿåˆ—ï¼‰</strong> ï¼šå­˜æ”¾è¿˜æœªåˆ°å¼€å§‹æ—¶é—´çš„ä»»åŠ¡ï¼ŒæŒ‰å¼€å§‹æ—¶é—´æ’åºã€‚</li>
<li><strong><code>taskQueue</code>ï¼ˆç«‹å³ä»»åŠ¡é˜Ÿåˆ—ï¼‰</strong> ï¼šå­˜æ”¾å·²ç»å°±ç»ªçš„ä»»åŠ¡ï¼ŒæŒ‰<strong>è¿‡æœŸæ—¶é—´</strong>æ’åºã€‚ä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¿‡æœŸæ—¶é—´è¶ŠçŸ­ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-6">3. æ—¶é—´ç‰‡çš„å¼€å¯ï¼šMessageChannel</h3>
<p>å°†ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—åï¼Œ<code>scheduler</code>ä¼šè°ƒç”¨<code>requetHostCallback</code>å‡½æ•°å»è¯·æ±‚æµè§ˆå™¨åœ¨åˆé€‚çš„æ—¶æœºå»æ‰§è¡Œè°ƒåº¦ï¼Œè¯¥å‡½æ•°é€šè¿‡ <code>MessageChannel</code>å¯¹è±¡ä¸­çš„<code>port.postMessage</code> æ–¹æ³•åˆ›å»ºä¸€ä¸ªå®ä»»åŠ¡ï¼Œæµè§ˆå™¨åœ¨ä¸‹ä¸€ä¸ªå®ä»»åŠ¡æ—¶æœºè§¦å‘ <code>port.onmessage</code>ï¼Œå¹¶åœ¨è¿™å®ä»»åŠ¡å›è°ƒä¸­å¯åŠ¨ <code>workLoop</code>å‡½æ•°ã€‚</p>
<blockquote>
<p>è¡¥å……ï¼šScheduler ä¼šè°ƒç”¨ <code>requestHostCallback</code> è¯·æ±‚æµè§ˆå™¨è°ƒåº¦ã€‚å®ƒæ²¡æœ‰é€‰æ‹© <code>setTimeout</code>ï¼Œè€Œæ˜¯é€‰æ‹©äº† <strong><code>MessageChannel</code></strong>ã€‚</p>
</blockquote>
<blockquote>
<p><strong>ä¸ºä»€ä¹ˆé€‰ MessageChannelï¼Ÿ</strong> <code>setTimeout(fn, 0)</code> åœ¨æµè§ˆå™¨ä¸­é€šå¸¸æœ‰ 4ms çš„æœ€å°å»¶è¿Ÿï¼Œä¸”å±äºå®ä»»åŠ¡ä¸­æ‰§è¡Œæ—¶æœºè¾ƒæ™šçš„ã€‚<code>MessageChannel</code> çš„ <code>port.postMessage</code> äº§ç”Ÿçš„å®ä»»åŠ¡æ‰§è¡Œæ—¶æœºæ›´æ—©ï¼Œä¸”èƒ½æ›´ç²¾å‡†åœ°åœ¨æµè§ˆå™¨æ¸²æŸ“å¸§ä¹‹é—´åˆ‡å…¥ã€‚</p>
</blockquote>
<h3 data-id="heading-7">4. å·¥ä½œå¾ªç¯ï¼šworkLoop</h3>
<ul>
<li>
<p>åœ¨å®ä»»åŠ¡å›è°ƒä¸­ï¼Œè°ƒåº¦å™¨ä¼šè¿›å…¥ <code>workLoop</code>ã€‚å®ƒä¼šè°ƒç”¨<code>performUnitOfWor</code>kå‡½æ•°å¾ªç¯åœ°å¤„ç†FiberèŠ‚ç‚¹ï¼Œå¯¹æ¯”æ–°æ—§èŠ‚ç‚¹çš„<code>propsã€state</code>ï¼Œå¹¶ä»é˜Ÿåˆ—ä¸­å–å‡ºæœ€ç´§æ€¥çš„ä»»åŠ¡äº¤ç»™ React æ‰§è¡Œã€‚</p>
</li>
<li>
<p><code>workLopp</code>ä¸­ä¼šåŒ…å«ä¸€ä¸ª<code>shouldYield</code>å‡½æ•°ä¸­æ–­æ£€æŸ¥å‡½æ•°ï¼Œç”¨äºæ£€æŸ¥å½“å‰æ—¶é—´ç‰‡æ˜¯å¦è€—å°½ä»¥åŠæ˜¯å¦æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡æ‰§è¡Œï¼Œå¦‚æœæœ‰çš„è¯åˆ™ä¼šå°†ä¸»çº¿ç¨‹æ§åˆ¶æƒäº¤è¿˜ç»™æµè§ˆå™¨ï¼Œä»¥ä¿è¯é«˜ä¼˜å…ˆçº§ä»»åŠ¡ï¼ˆå¦‚ç”¨æˆ·è¾“å…¥ã€åŠ¨ç”»ï¼‰èƒ½åŠæ—¶å“åº”ã€‚</p>
</li>
</ul>
<hr/>
<h3 data-id="heading-8">5. ä¸­æ–­ä¸æ¢å¤ï¼šshouldYield çš„é­”åŠ›</h3>
<p>åœ¨ <code>workLoop</code> æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€é¡¹å•å…ƒå·¥ä½œå®Œæˆåï¼Œéƒ½ä¼šè°ƒç”¨ <strong><code>shouldYield()</code></strong> å‡½æ•°è¿›è¡Œâ€œè·¯å†µæ£€æŸ¥â€ã€‚</p>
<ul>
<li><strong>ä¸­æ–­æ¡ä»¶</strong>ï¼šå¦‚æœå½“å‰æ—¶é—´ç‰‡ï¼ˆé€šå¸¸ä¸º <strong>5ms</strong>ï¼‰è€—å°½ï¼Œæˆ–è€…æ£€æµ‹åˆ°æœ‰æ›´ç´§æ€¥çš„ç”¨æˆ·äº¤äº’ï¼ˆé«˜ä¼˜ä»»åŠ¡æ’é˜Ÿï¼‰ï¼Œ<code>shouldYield</code> è¿”å› <code>true</code>ã€‚</li>
<li><strong>çŠ¶æ€ä¿å­˜</strong>ï¼šæ­¤æ—¶ React ä¼šè®°å½•å½“å‰ <code>workInProgress</code> æ ‘çš„ä½ç½®ï¼Œå°†æ§åˆ¶æƒäº¤è¿˜ç»™æµè§ˆå™¨ã€‚</li>
<li><strong>ä»»åŠ¡æ¢å¤</strong>ï¼šScheduler ä¼šåœ¨ä¸‹ä¸€ä¸ªæ—¶é—´ç‰‡é€šè¿‡ <code>MessageChannel</code> å†æ¬¡è§¦å‘ï¼Œä»è®°å½•çš„ä½ç½®ç»§ç»­æ‰§è¡Œï¼Œä»è€Œå®ç°å¯æ¢å¤ã€‚</li>
</ul>
<h3 data-id="heading-9">6. ä»»åŠ¡æ’é˜Ÿ</h3>
<p>å¦‚æœåœ¨æ‰§è¡Œä¸€ä¸ªä½ä¼˜å…ˆçº§ä»»åŠ¡æ—¶ï¼Œæœ‰é«˜ä¼˜å…ˆçº§ä»»åŠ¡åŠ å…¥ï¼ˆå¦‚ç”¨æˆ·çªç„¶ç‚¹å‡»æŒ‰é’®ï¼‰ï¼Œ<code>Scheduler</code>ä¼šä¸­æ–­å½“å‰çš„ä½ä¼˜ä»»åŠ¡å¹¶è®°å½•è¯¥ä½ç½®ï¼Œå…ˆæ‰§è¡Œé«˜ä¼˜ä»»åŠ¡ã€‚ç­‰é«˜ä¼˜ä»»åŠ¡å®Œæˆåï¼Œå†é‡æ–°æ‰§è¡Œæˆ–ç»§ç»­ä¹‹å‰çš„ä½ä¼˜ä»»åŠ¡</p>
<hr/>
<h2 data-id="heading-10">ä¸‰ã€ è¡¥å……</h2>
<ol>
<li><strong>æ‰§è¡Œæ—¶æœºå¯¹æ¯”</strong>ï¼š<code>MessageChannel</code> ç¡®å®åœ¨å®ä»»åŠ¡ä¸­éå¸¸å¿«ï¼Œä½†åœ¨æŸäº›æå…¶ç‰¹æ®Šçš„æƒ…å†µä¸‹ï¼ˆå¦‚æ²¡æœ‰ <code>MessageChannel</code> çš„æ—§ç¯å¢ƒï¼‰ï¼Œå®ƒä¼šå›é€€åˆ° <code>setTimeout</code>ã€‚</li>
<li><strong>é¥¥é¥¿ç°è±¡é˜²æ­¢</strong>ï¼šå¦‚æœä¸€ä¸ªä½ä¼˜å…ˆçº§ä»»åŠ¡ä¸€ç›´è¢«æ’é˜Ÿæ€ä¹ˆåŠï¼ŸScheduler é€šè¿‡<strong>è¿‡æœŸæ—¶é—´</strong>è§£å†³ã€‚ä¸€æ—¦ä»»åŠ¡è¿‡æœŸï¼Œå®ƒä¼šä» <code>taskQueue</code> ä¸­è¢«æå‡ä¸ºåŒæ­¥ä»»åŠ¡ï¼Œå¼ºåˆ¶æ‰§è¡Œã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªViteæ’ä»¶å®ç°PCåˆ°ç§»åŠ¨ç«¯é¡¹ç›®çš„é«˜æ•ˆè¿ç§»æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7600868443832254483</link>    <guid>https://juejin.cn/post/7600868443832254483</guid>    <pubDate>2026-01-30T09:24:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600868443832254483" data-draft-id="7600967006892752905" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªViteæ’ä»¶å®ç°PCåˆ°ç§»åŠ¨ç«¯é¡¹ç›®çš„é«˜æ•ˆè¿ç§»æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vite"/> <meta itemprop="datePublished" content="2026-01-30T09:24:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æµ®å¹»äº‘æœˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1019992474918343"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªViteæ’ä»¶å®ç°PCåˆ°ç§»åŠ¨ç«¯é¡¹ç›®çš„é«˜æ•ˆè¿ç§»æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1019992474918343/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æµ®å¹»äº‘æœˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:24:34.000Z" title="Fri Jan 30 2026 09:24:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å½“PCç«¯é¡¹ç›®éœ€è¦è¿ç§»åˆ°ç§»åŠ¨ç«¯æ—¶ï¼Œä½ æ˜¯å¦è¿˜åœ¨æ‰‹åŠ¨å¤åˆ¶ç²˜è´´ä»£ç ï¼Ÿä»Šå¤©åˆ†äº«ä¸€ä¸ªæˆ‘ä»¬å›¢é˜Ÿè‡ªç ”çš„Viteæ’ä»¶ï¼Œå¸®ä½ å®ç°è·¨ä»“åº“ã€è·¨æŠ€æœ¯æ ˆçš„ä»£ç é«˜æ•ˆå¤ç”¨ï¼</p>
<h2 data-id="heading-0">èƒŒæ™¯ï¼šä»PCåˆ°ç§»åŠ¨ç«¯çš„è¿ç§»ä¹‹ç—›</h2>
<p>æœ€è¿‘æˆ‘ä»¬å›¢é˜Ÿé‡åˆ°äº†ä¸€ä¸ªå…¸å‹çš„ä¼ä¸šçº§éœ€æ±‚ï¼š<strong>å°†ä¸€ä¸ªæˆç†Ÿçš„PCç«¯åŒ»ç–—ç®¡ç†ç³»ç»Ÿï¼ˆMDMï¼‰è¿ç§»åˆ°ç§»åŠ¨ç«¯</strong>ã€‚å¬èµ·æ¥ç®€å•ï¼Œä½†å®é™…ä¸Šå´é¢ä¸´è¯¸å¤šæŒ‘æˆ˜ï¼š</p>
<h3 data-id="heading-1">é¢ä¸´çš„æŒ‘æˆ˜</h3>
<ol>
<li><strong>æŠ€æœ¯æ ˆå·®å¼‚</strong>ï¼šPCç«¯ä½¿ç”¨Element Plusï¼Œç§»åŠ¨ç«¯éœ€è¦Vant</li>
<li><strong>ä»“åº“éš”ç¦»</strong>ï¼šPCç«¯å’Œç§»åŠ¨ç«¯åœ¨ä¸åŒçš„Gitä»“åº“</li>
<li><strong>ä»£ç å¤ç”¨</strong>ï¼šå¸Œæœ›å¤ç”¨80%çš„ä¸šåŠ¡é€»è¾‘ï¼Œä½†UIç»„ä»¶å®Œå…¨ä¸åŒ</li>
<li><strong>ç»´æŠ¤åŒæ­¥</strong>ï¼šä¸šåŠ¡é€»è¾‘æ›´æ–°éœ€è¦åœ¨ä¸¤ç«¯åŒæ­¥</li>
</ol>
<p>ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆè¦ä¹ˆæ˜¯<strong>å®Œå…¨é‡å†™</strong>ï¼ˆæˆæœ¬é«˜ï¼‰ï¼Œè¦ä¹ˆæ˜¯<strong>å¤åˆ¶ç²˜è´´</strong>ï¼ˆç»´æŠ¤å™©æ¢¦ï¼‰,æˆ–è€…æ˜¯<strong>Monorepo</strong> (ä»£ç å’Œä¾èµ–æ”¾ä¸€èµ·)ã€‚æˆ‘ä»¬éœ€è¦çš„æ˜¯ä¸€ç§æ—¢èƒ½å¤ç”¨æ ¸å¿ƒé€»è¾‘ï¼Œä»£ç åœ¨ä¸åŒä»“åº“ç»´æŠ¤ï¼Œåˆèƒ½çµæ´»å®šåˆ¶UIçš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-2">è§£å†³æ–¹æ¡ˆï¼švite-plugin-code-reuse</h2>
<p>åŸºäºè¿™ä¸ªéœ€æ±‚ï¼Œæˆ‘ä»¬å¼€å‘äº† <code>vite-plugin-code-reuse</code> æ’ä»¶ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>å¤šä»“åº“ä»£ç å¤ç”¨ã€æ™ºèƒ½æ›¿æ¢ã€æ— ç¼é›†æˆ</strong>ã€‚</p>
<h3 data-id="heading-3">æ’ä»¶æ ¸å¿ƒèƒ½åŠ›</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ’ä»¶çš„æ ¸å¿ƒé…ç½®ç»“æ„</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">PluginConfig</span> {
  <span class="hljs-attr">repositories</span>: <span class="hljs-title class_">RepositoryConfig</span>[];     <span class="hljs-comment">// ä»£ç ä»“åº“é…ç½®</span>
  <span class="hljs-attr">repoImportMappings</span>: <span class="hljs-title class_">RepoImportMappings</span>[]; <span class="hljs-comment">// è·¯å¾„æ˜ å°„ï¼Œä¸»è¦æ˜¯è§„é¿ä¸åŒä»“åº“è·¯å¾„åˆ«åå†²çªé—®é¢˜</span>
  <span class="hljs-attr">importReplacements</span>: <span class="hljs-title class_">ImportReplacementConfig</span>[]; <span class="hljs-comment">// å¯¼å…¥æ›¿æ¢</span>
}
</code></pre>
<h2 data-id="heading-4">å®æˆ˜æ¡ˆä¾‹ï¼šåŒ»ç–—ç®¡ç†ç³»ç»Ÿè¿ç§»</h2>
<p>è®©æˆ‘é€šè¿‡å®é™…æ¡ˆä¾‹å±•ç¤ºè¿™ä¸ªæ’ä»¶çš„æ•ˆæœã€‚</p>
<h3 data-id="heading-5">é¡¹ç›®èƒŒæ™¯</h3>
<ul>
<li><strong>PCç«¯é¡¹ç›®</strong>ï¼š<code>xlian-web-mdm</code>ï¼ˆVue 3 + Element Plus + TypeScriptï¼‰</li>
<li><strong>ç§»åŠ¨ç«¯é¡¹ç›®</strong>ï¼šæ–°å»ºçš„H5é¡¹ç›®ï¼ˆVue 3 + Vant + TypeScriptï¼‰</li>
<li><strong>ç›®æ ‡</strong>ï¼šå¤ç”¨PCç«¯80%çš„ä¸šåŠ¡é€»è¾‘ï¼Œ100%æ›¿æ¢UIç»„ä»¶</li>
</ul>
<h3 data-id="heading-6">ç¬¬ä¸€æ­¥ï¼šå®‰è£…é…ç½®æ’ä»¶</h3>
<pre><code class="hljs language-bash" lang="bash">npm install vite-plugin-code-reuse --save-dev
</code></pre>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// vite.config.ts</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>
<span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-vue'</span>
<span class="hljs-keyword">import</span> codeReusePlugin <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-plugin-code-reuse'</span>
<span class="hljs-keyword">import</span> path <span class="hljs-keyword">from</span> <span class="hljs-string">'path'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">vue</span>(),
    <span class="hljs-title function_">codeReusePlugin</span>({
      <span class="hljs-comment">// 1. å¼•å…¥PCç«¯ä»£ç ä»“åº“</span>
      <span class="hljs-attr">repositories</span>: [
        {
          <span class="hljs-attr">url</span>: <span class="hljs-string">'http://gitlab.xinglianhealth.com/web/mdm/xlian-web-mdm.git'</span>,
          <span class="hljs-attr">branch</span>: <span class="hljs-string">'master'</span>,
          <span class="hljs-attr">dir</span>: <span class="hljs-string">'mdm-pc'</span>  <span class="hljs-comment">// æœ¬åœ°å­˜æ”¾ç›®å½•</span>
        }
      ],
      
      <span class="hljs-comment">// 2. ä¿®æ­£è·¯å¾„åˆ«åæ˜ å°„,pcå’Œç§»åŠ¨éƒ½é…ç½®äº†â€œ@â€åˆ«åï¼Œéœ€è¦å„è‡ªå¼•ç”¨æ­£ç¡®çš„è·¯å¾„</span>
      <span class="hljs-attr">repoImportMappings</span>: [
        {
          <span class="hljs-attr">alias</span>: <span class="hljs-string">'@'</span>,
          <span class="hljs-attr">repoDir</span>: <span class="hljs-string">'mdm-pc'</span>,
          <span class="hljs-comment">// PCç«¯ä¸­çš„â€œ@â€åˆ«åè¿˜æ˜¯å¼•ç”¨pcç«¯ç›®å½•ä¸‹çš„ä»£ç ï¼Œä½†æ˜¯éœ€è¦æ’é™¤è·¯ç”±ã€çŠ¶æ€ç®¡ç†ç­‰è·¯å¾„ï¼Œå¼•ç”¨ç§»åŠ¨ç«¯çš„ï¼Œå› ä¸ºè·¯ç”±å’Œstoreä¸èƒ½å­˜åœ¨ä¸¤ä¸ª</span>
          <span class="hljs-attr">ignorePatterns</span>: [<span class="hljs-string">'src/router'</span>, <span class="hljs-string">'src/store'</span>, <span class="hljs-string">'src/axios'</span>]
        }
      ],
      
      <span class="hljs-comment">// 3. æ™ºèƒ½å¯¼å…¥æ›¿æ¢ï¼Œpcç«¯çš„éƒ¨åˆ†ç»„ä»¶æ— æ³•å¤ç”¨æ—¶ï¼Œå¯ä»¥åšæ›¿æ¢</span>
      <span class="hljs-attr">importReplacements</span>: [
        <span class="hljs-comment">// åœºæ™¯1ï¼šç»„ä»¶æ›¿æ¢ï¼ˆElement Plus â†’ Vantï¼‰</span>
        {
          <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/\/views\/MasterData\/components\/UploadFile\.vue$/</span>,
          <span class="hljs-attr">file</span>: <span class="hljs-string">'src/components/MbUpload.vue'</span> <span class="hljs-comment">// ç§»åŠ¨ç«¯ä¸“ç”¨ä¸Šä¼ ç»„ä»¶</span>
        },
        {
          <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/\/views\/MasterData\/components\/TextInput\.vue$/</span>,
          <span class="hljs-attr">file</span>: <span class="hljs-string">'src/components/MbTextInput.vue'</span> <span class="hljs-comment">// ç§»åŠ¨ç«¯è¾“å…¥æ¡†</span>
        },
        
        <span class="hljs-comment">// åœºæ™¯2ï¼šå¤æ‚è¡¨å•ç»„ä»¶æ›¿æ¢</span>
        {
          <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/\/views\/MasterData\/components\/MasterForm\.vue$/</span>,
          <span class="hljs-attr">file</span>: <span class="hljs-string">'src/components/MbForm.vue'</span> <span class="hljs-comment">// ç§»åŠ¨ç«¯è¡¨å•å°è£…</span>
        },
        
        <span class="hljs-comment">// åœºæ™¯3ï¼šPCç«¯ç‰¹æœ‰åŠŸèƒ½åœ¨ç§»åŠ¨ç«¯éšè—</span>
        {
          <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/\/views\/MasterData\/components\/HeaderFilter\/HeaderFilter\.vue$/</span>,
          <span class="hljs-attr">code</span>: <span class="hljs-string">'&lt;template&gt;&lt;/template&gt;'</span> <span class="hljs-comment">// ç§»åŠ¨ç«¯ä¸éœ€è¦å¤æ‚çš„è¡¨å¤´ç­›é€‰</span>
        },
        
        <span class="hljs-comment">// åœºæ™¯4ï¼šUIåº“æ›¿æ¢</span>
        {
          <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/^@?element-plus/</span>,
          <span class="hljs-attr">resolve</span>: path.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'src/components/ElementPlus.ts'</span>) <span class="hljs-comment">// é‡å®šå‘åˆ°å…¼å®¹å±‚</span>
        }
      ]
    })
  ]
})
</code></pre>
<h3 data-id="heading-7">ç¬¬äºŒæ­¥ï¼šUIç»„ä»¶æ›¿æ¢</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// src/components/ElementPlus.ts - UIåº“å…¼å®¹å±‚</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span>, <span class="hljs-title class_">Input</span>, <span class="hljs-title class_">Select</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ui-adaptor'</span>

<span class="hljs-comment">// åˆ›å»ºElement Plusåˆ°Vantçš„æ˜ å°„</span>
<span class="hljs-keyword">export</span> {
  <span class="hljs-title class_">ElButton</span>: <span class="hljs-title class_">Button</span>,
  <span class="hljs-title class_">ElInput</span>: <span class="hljs-title class_">Input</span>,
  <span class="hljs-title class_">ElSelect</span>: <span class="hljs-title class_">Select</span>,
  <span class="hljs-comment">// ... æ›´å¤šæ˜ å°„</span>
}

<span class="hljs-comment">// src/components/ui-adaptor.ts - UIåº“é€‚é…å±‚,ä»¥Buttonç»„ä»¶ä¸ºä¾‹</span>

&lt;template&gt;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">van-button</span> <span class="hljs-attr">v-bind</span>=<span class="hljs-string">"$attrs"</span> /&gt;</span></span>&lt;/template&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">const</span> props = <span class="hljs-title function_">defineProps</span>({
<span class="hljs-comment">// å¯¹element-plus Button Propsåšé€‚é…ï¼Œæ¯”å¦‚sizeä¸æ”¯æŒ"medium"ï¼Œå¯ä»¥å¤„ç†æˆå…¶ä»–çš„,ç›¸åŒçš„å±æ€§ä¸ç”¨å¤„ç†</span>
})
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span>
</code></pre>
<h3 data-id="heading-8">ç¬¬ä¸‰æ­¥ï¼šå¤ç”¨ä¸šåŠ¡é€»è¾‘ç»„ä»¶</h3>
<pre><code class="hljs language-vue" lang="vue">&lt;!-- src/views/MasterData/PatientList.vue --&gt;
&lt;template&gt;
  &lt;!-- å¤ç”¨PCç«¯çš„æ¨¡æ¿ç»“æ„ï¼Œä½†ä½¿ç”¨ç§»åŠ¨ç«¯ç»„ä»¶ --&gt;
  &lt;div class="patient-list"&gt;
    &lt;!-- æœç´¢æ¡†ï¼ˆPCç«¯æ˜¯ElInputï¼Œè‡ªåŠ¨æ›¿æ¢ä¸ºVant Fieldï¼‰ --&gt;
    &lt;van-field 
      v-model="searchKey"
      placeholder="æœç´¢æ‚£è€…"
      @input="handleSearch"
    /&gt;
    
    &lt;!-- æ‚£è€…åˆ—è¡¨ --&gt;
    &lt;van-list 
      v-model:loading="loading"
      :finished="finished"
      @load="loadPatients"
    &gt;
      &lt;patient-item 
        v-for="patient in patients"
        :key="patient.id"
        :patient="patient"
        @click="handlePatientClick"
      /&gt;
    &lt;/van-list&gt;
  &lt;/div&gt;
&lt;/template&gt;

&lt;script setup lang="ts"&gt;
// è¿™é‡Œç›´æ¥å¤ç”¨PCç«¯çš„ä¸šåŠ¡é€»è¾‘ï¼
import { usePatientList } from '@/mdm-pc/src/views/MasterData/composables/usePatientList'

// å®Œå…¨å¤ç”¨PCç«¯çš„é€»è¾‘ï¼ŒåŒ…æ‹¬ï¼š
// 1. æ•°æ®è·å–é€»è¾‘
// 2. æœç´¢è¿‡æ»¤é€»è¾‘  
// 3. åˆ†é¡µé€»è¾‘
// 4. äº‹ä»¶å¤„ç†é€»è¾‘
const {
  patients,
  loading,
  finished,
  searchKey,
  loadPatients,
  handleSearch,
  handlePatientClick
} = usePatientList()
&lt;/script&gt;

&lt;style scoped&gt;
/* ç§»åŠ¨ç«¯ç‰¹æœ‰çš„æ ·å¼ */
.patient-list {
  padding: 12px;
}
&lt;/style&gt;
</code></pre>
<h2 data-id="heading-9">æ’ä»¶çš„æ ¸å¿ƒå®ç°åŸç†</h2>
<h3 data-id="heading-10">1. ä»£ç ä»“åº“ç®¡ç†</h3>
<p>vite build startå¼€å§‹æ—¶ï¼Œè‡ªåŠ¨æ‹‰å–PCç«¯ä»“åº“ä»£ç ï¼Œå¦‚æ— æ›´æ–°ä¸ä¼šé‡å¤æ‹‰å–ï¼Œé»˜è®¤åªæ‹‰å–ä¸€ä¸ªcommitï¼Œé€Ÿåº¦æå¿«ã€‚</p>
<pre><code class="hljs language-js" lang="js">{
  <span class="hljs-attr">url</span>: <span class="hljs-string">'http://gitlab.xinglianhealth.com/web/mdm/xlian-web-mdm.git'</span>, <span class="hljs-comment">//ä»“åº“åœ°å€</span>
  <span class="hljs-attr">branch</span>: <span class="hljs-string">'master'</span>, <span class="hljs-comment">// ä»“åº“åˆ†æ”¯</span>
  <span class="hljs-attr">dir</span>: <span class="hljs-string">'mdm-pc'</span>  <span class="hljs-comment">// æœ¬åœ°å­˜æ”¾ç›®å½•</span>
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2b6ca51236224404b5ba283028673f6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rWu5bm75LqR5pyI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770369874&amp;x-signature=clzoq9KrtH6yG2l7yvIQ0M0W9jw%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-csharp" lang="csharp">
<span class="hljs-meta">### 2. æ™ºèƒ½å¯¼å…¥æ›¿æ¢ï¼Œæ”¯æŒä¸‰ç§æ›¿æ¢æ–¹å¼ï¼Œä»»æ„é€‰æ‹©</span>

```typescript
<span class="hljs-keyword">interface</span> <span class="hljs-title">ImportReplacementConfig</span> {
    <span class="hljs-comment">/**
     * åŒ¹é…æ¨¡å¼ï¼ˆæ­£åˆ™è¡¨è¾¾å¼å­—ç¬¦ä¸²ï¼‰
     */</span>
    pattern: RegExp;
    <span class="hljs-comment">/**
     * æ›¿æ¢æ–¹å¼ï¼šä»£ç å­—ç¬¦ä¸²
     */</span>
    code?: <span class="hljs-built_in">string</span>;
    <span class="hljs-comment">/**
     * æ›¿æ¢æ–¹å¼ï¼šæ–‡ä»¶è·¯å¾„
     */</span>
    file?: <span class="hljs-built_in">string</span>;
    <span class="hljs-comment">/**
     * æ›¿æ¢æ–¹å¼ï¼šé‡å®šå‘è·¯å¾„
     */</span>
    resolve?: <span class="hljs-built_in">string</span>;
}
</code></pre>
<h3 data-id="heading-11">3. åˆ«åè·¯å¾„å†²çªæ˜ å°„ä¿®æ­£ï¼Œå°†è¢«å¼•ç”¨çš„ä»“åº“å†…éƒ¨åˆ«åæŒ‡å‘ä»“åº“å†…éƒ¨ï¼Œè§„é¿å’Œå¤–å±‚åˆ«åçš„å†²çª</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">RepoImportMappings</span> {
    <span class="hljs-comment">/**
     * è·¯å¾„åˆ«å
     */</span>
    <span class="hljs-attr">alias</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-comment">/**
     * å†²çªçš„ä»“åº“ç›®å½•
     */</span>
    <span class="hljs-attr">repoDir</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-comment">/**
     * å¿½ç•¥åˆ—è¡¨ï¼ˆè·¯å¾„åŒ¹é…æ—¶è·³è¿‡ï¼‰ï¼Œä½¿ç”¨å¤–å‡ºä»“åº“åˆ«åè§£æ
     */</span>
    ignorePatterns?: <span class="hljs-built_in">string</span>[];
}
</code></pre>
<h2 data-id="heading-12">å®é™…æ•ˆæœå¯¹æ¯”</h2>
<h3 data-id="heading-13">è¿ç§»å‰ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰</h3>
<pre><code class="hljs language-scss" lang="scss">â”œâ”€â”€ ç§»åŠ¨ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ <span class="hljs-attribute">src</span>
â”‚   â”‚   â”œâ”€â”€ views
â”‚   â”‚   â”‚   â”œâ”€â”€ PatientList<span class="hljs-selector-class">.vue</span>    â† éœ€è¦é‡å†™
â”‚   â”‚   â”‚   â”œâ”€â”€ DoctorList<span class="hljs-selector-class">.vue</span>     â† éœ€è¦é‡å†™
â”‚   â”‚   â”‚   â””â”€â”€ ... (<span class="hljs-number">20</span>+ä¸ªé¡µé¢)
â”‚   â”‚   â””â”€â”€ components
â”‚   â”‚       â”œâ”€â”€ MbForm<span class="hljs-selector-class">.vue</span>         â† éœ€è¦é‡å†™
â”‚   â”‚       â””â”€â”€ ... (<span class="hljs-number">50</span>+ä¸ªç»„ä»¶)
â””â”€â”€ å·¥æ—¶ï¼š<span class="hljs-number">3</span>-<span class="hljs-number">4</span>äººæœˆ
</code></pre>
<h3 data-id="heading-14">è¿ç§»åï¼ˆä½¿ç”¨æ’ä»¶ï¼‰</h3>
<pre><code class="hljs language-scss" lang="scss">â”œâ”€â”€ ç§»åŠ¨ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ mdm-pc/                    â† è‡ªåŠ¨å¼•å…¥çš„PCç«¯ä»£ç 
â”‚   â”œâ”€â”€ <span class="hljs-attribute">src</span>
â”‚   â”‚   â”œâ”€â”€ views
â”‚   â”‚   â”‚   â”œâ”€â”€ PatientList<span class="hljs-selector-class">.vue</span>    â† ç›´æ¥å¼•ç”¨PCç«¯PatientListç»„ä»¶ï¼Œåªå¯¹æ ·å¼åšé€‚é…è¦†ç›–
â”‚   â”‚   â”‚   â”œâ”€â”€ DoctorList<span class="hljs-selector-class">.vue</span>     â† ç›´æ¥å¼•ç”¨PCç«¯DoctorListç»„ä»¶ï¼Œåªå¯¹æ ·å¼åšé€‚é…è¦†
â”‚   â”‚   â”‚   â””â”€â”€ ... (å¤ç”¨<span class="hljs-number">80%</span>)
â”‚   â”‚   â””â”€â”€ components
â”‚   â”‚       â”œâ”€â”€ MbUploader<span class="hljs-selector-class">.vue</span>     â† æ— æ³•å¤ç”¨çš„ç»„ä»¶ï¼Œç”¨ç§»åŠ¨ç«¯ä¸“ç”¨æ–‡ä»¶ç»„ä»¶åšæ›¿æ¢
â”‚   â”‚       â””â”€â”€ ... (åªéœ€å†™<span class="hljs-number">30%</span>çš„ç»„ä»¶)
â””â”€â”€ å·¥æ—¶ï¼š<span class="hljs-number">1</span>-<span class="hljs-number">1.5</span>äººæœˆï¼ˆèŠ‚çœ<span class="hljs-number">60%</span>+ï¼‰
</code></pre>
<h2 data-id="heading-15">é«˜çº§åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-16">åœºæ™¯1ï¼šå¤šé¡¹ç›®å…±äº«å·¥å…·åº“</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å¤šä¸ªé¡¹ç›®å…±äº«å·¥å…·å‡½æ•°</span>
<span class="hljs-title function_">codeReusePlugin</span>({
  <span class="hljs-attr">repositories</span>: [
    {
      <span class="hljs-attr">url</span>: <span class="hljs-string">'git@github.com:company/shared-utils.git'</span>,
      <span class="hljs-attr">branch</span>: <span class="hljs-string">'main'</span>,
      <span class="hljs-attr">dir</span>: <span class="hljs-string">'shared-utils'</span>
    },
    ...
  ],
  <span class="hljs-attr">importReplacements</span>: [
    {
      <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/^@shared\/utils/</span>,
      <span class="hljs-attr">resolve</span>: path.<span class="hljs-title function_">resolve</span>(<span class="hljs-string">'shared-utils/src'</span>)
    },
    ...
  ]
})
</code></pre>
<h3 data-id="heading-17">åœºæ™¯2ï¼šä¸»é¢˜ç³»ç»Ÿåˆ‡æ¢</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æ ¹æ®ç¯å¢ƒåˆ‡æ¢ä¸»é¢˜</span>
<span class="hljs-title function_">codeReusePlugin</span>({
  <span class="hljs-attr">importReplacements</span>: [
    {
      <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/\/themes\/default/</span>,
      <span class="hljs-attr">file</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">'mobile'</span> 
        ? <span class="hljs-string">'src/themes/mobile.vue'</span>
        : <span class="hljs-string">'src/themes/pc.vue'</span>
    }
  ]
})
</code></pre>
<h3 data-id="heading-18">åœºæ™¯3ï¼šA/Bæµ‹è¯•ç‰ˆæœ¬</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// A/Bæµ‹è¯•ä¸åŒç‰ˆæœ¬çš„ç»„ä»¶</span>
<span class="hljs-title function_">codeReusePlugin</span>({
  <span class="hljs-attr">importReplacements</span>: [
    {
      <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/\/components\/CheckoutButton\.vue$/</span>,
      <span class="hljs-attr">file</span>: <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() &gt; <span class="hljs-number">0.5</span> 
        ? <span class="hljs-string">'src/components/CheckoutButtonVariantA.vue'</span>
        : <span class="hljs-string">'src/components/CheckoutButtonVariantB.vue'</span>
    }
  ]
})
</code></pre>
<h2 data-id="heading-19">æ€»ç»“</h2>
<p><code>vite-plugin-code-reuse</code> æ’ä»¶ä¸ºæˆ‘ä»¬è§£å†³äº†è·¨é¡¹ç›®ä»£ç å¤ç”¨çš„æ ¸å¿ƒç—›ç‚¹ï¼š</p>
<h3 data-id="heading-20">ğŸ¯ <strong>æ ¸å¿ƒä»·å€¼</strong></h3>
<ol>
<li><strong>å¤§å¹…æå‡å¼€å‘æ•ˆç‡</strong>ï¼šèŠ‚çœ60%+çš„å¼€å‘æ—¶é—´</li>
<li><strong>ä¿è¯ä»£ç ä¸€è‡´æ€§</strong>ï¼šä¸šåŠ¡é€»è¾‘å®Œå…¨ä¸€è‡´ï¼Œå‡å°‘BUG</li>
<li><strong>é™ä½ç»´æŠ¤æˆæœ¬</strong>ï¼šä¸€å¤„ä¿®æ”¹ï¼Œå¤šå¤„ç”Ÿæ•ˆ</li>
<li><strong>çµæ´»å®šåˆ¶</strong>ï¼šUIå±‚å®Œå…¨å¯å®šåˆ¶ï¼Œä¸å½±å“æ ¸å¿ƒé€»è¾‘</li>
</ol>
<h3 data-id="heading-21">ğŸš€ <strong>é€‚ç”¨åœºæ™¯</strong></h3>
<ul>
<li>PCç«¯åˆ°ç§»åŠ¨ç«¯çš„é¡¹ç›®è¿ç§»</li>
<li>å¤šé¡¹ç›®å…±äº«ç»„ä»¶åº“</li>
<li>å¾®å‰ç«¯æ¶æ„ä¸­çš„æ¨¡å—å¤ç”¨</li>
<li>A/Bæµ‹è¯•å’Œå®éªŒæ€§åŠŸèƒ½</li>
</ul>
<p>å¦‚æœä½ ä¹Ÿé¢ä¸´ç±»ä¼¼çš„å¤šé¡¹ç›®ä»£ç å¤ç”¨é—®é¢˜ï¼Œä¸å¦¨è¯•è¯•è¿™ä¸ªæ’ä»¶ã€‚é¡¹ç›®å·²åœ¨GitHubå¼€æºï¼Œæ¬¢è¿Starå’Œè´¡çŒ®ä»£ç ï¼</p>
<p><strong>GitHubåœ°å€</strong>ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxlian-fe%2Fvite-plugin-code-reuse" target="_blank" title="https://github.com/xlian-fe/vite-plugin-code-reuse" ref="nofollow noopener noreferrer">vite-plugin-code-reuse</a></p>
<p><strong>è®©ä»£ç å¤ç”¨å˜å¾—ç®€å•ï¼Œè®©å¼€å‘æ•ˆç‡é£èµ·æ¥ï¼</strong> ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React-Hooksé€»è¾‘å¤ç”¨è‰ºæœ¯]]></title>    <link>https://juejin.cn/post/7600990891206787099</link>    <guid>https://juejin.cn/post/7600990891206787099</guid>    <pubDate>2026-01-30T09:38:58.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600990891206787099" data-draft-id="7600752623068758026" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React-Hooksé€»è¾‘å¤ç”¨è‰ºæœ¯"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,é¢è¯•"/> <meta itemprop="datePublished" content="2026-01-30T09:38:58.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å‘ç°ä¸€åªå¤§å‘†ç“œ"/> <meta itemprop="url" content="https://juejin.cn/user/180747382561607"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React-Hooksé€»è¾‘å¤ç”¨è‰ºæœ¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/180747382561607/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å‘ç°ä¸€åªå¤§å‘†ç“œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:38:58.000Z" title="Fri Jan 30 2026 09:38:58 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">å‰è¨€</h3>
<p>åœ¨ React å¼€å‘ä¸­ï¼ŒHooks çš„å‡ºç°å½»åº•æ”¹å˜äº†é€»è¾‘å¤ç”¨çš„æ–¹å¼ã€‚å®ƒè®©æˆ‘ä»¬èƒ½å¤Ÿå°†å¤æ‚çš„ã€å¯å¤ç”¨çš„é€»è¾‘ä» UI ç»„ä»¶ä¸­æŠ½ç¦»ï¼Œå®ç°çœŸæ­£çš„â€œå…³æ³¨ç‚¹åˆ†ç¦»â€ã€‚æœ¬æ–‡å°†åˆ†äº« Hooks çš„æ ¸å¿ƒåŸåˆ™ï¼Œå¹¶æä¾› 4 ä¸ªåœ¨çœŸå®ä¸šåŠ¡åœºæ™¯ä¸­å°è£…çš„å®æˆ˜æ¡ˆä¾‹ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€ Hooks æ ¸å¿ƒ</h2>
<h3 data-id="heading-2">1. æ¦‚å¿µç†è§£</h3>
<p>Hooks æœ¬è´¨ä¸Šæ˜¯<strong>å°†ç»„ä»¶é—´å…±äº«çš„é€»è¾‘æŠ½ç¦»å¹¶å°è£…æˆçš„ç‰¹æ®Šå‡½æ•°</strong>ã€‚</p>
<h3 data-id="heading-3">2. ä½¿ç”¨â€œçº¢çº¿â€ï¼šè§„åˆ™ä¸åŸç†</h3>
<ul>
<li><strong>å‘½åè§„èŒƒ</strong>ï¼šå¿…é¡»ä»¥ <code>use</code> å¼€å¤´ï¼ˆå¦‚ <code>useChat</code>ï¼‰ï¼Œè¿™ä¸ä»…æ˜¯çº¦å®šï¼Œä¹Ÿæ˜¯é™æ€æ£€æŸ¥å·¥å…·ï¼ˆESLintï¼‰è¯†åˆ« Hook çš„ä¾æ®ã€‚</li>
<li><strong>è°ƒç”¨ä½ç½®</strong>ï¼š<strong>ä¸¥ç¦åœ¨å¾ªç¯ã€æ¡ä»¶åˆ¤æ–­æˆ–åµŒå¥—å‡½æ•°ä¸­è°ƒç”¨ Hook</strong>ã€‚</li>
</ul>
<p><strong>åº•å±‚åŸç†</strong>ï¼š React å†…éƒ¨å¹¶ä¸æ˜¯é€šè¿‡â€œå˜é‡åâ€æ¥è®°å½• Hook çŠ¶æ€çš„ï¼Œè€Œæ˜¯é€šè¿‡<strong>é“¾è¡¨</strong> ã€‚æ¯æ¬¡æ¸²æŸ“æ—¶ï¼ŒReact ä¸¥æ ¼ä¾èµ– Hook çš„<strong>è°ƒç”¨é¡ºåº</strong>æ¥æŸ¥æ‰¾å¯¹åº”çš„çŠ¶æ€ã€‚</p>
<blockquote>
<p><strong>æ³¨æ„ï¼š</strong> å¦‚æœåœ¨ <code>if</code> è¯­å¥ä¸­è°ƒç”¨ Hookï¼Œä¸€æ—¦æ¡ä»¶ä¸æˆç«‹å¯¼è‡´æŸæ¬¡æ¸²æŸ“è·³è¿‡äº†è¯¥ Hookï¼Œæ•´ä¸ªé“¾è¡¨çš„æŒ‡é’ˆå°±ä¼šé”™ä½ï¼Œå¯¼è‡´çŠ¶æ€è¯»å–å¼‚å¸¸ã€‚</p>
</blockquote>
<h2 data-id="heading-4">äºŒã€ å®æˆ˜ï¼šè‡ªå®šä¹‰ Hooks å°è£…</h2>
<h3 data-id="heading-5">1. AI åœºæ™¯ï¼šæ¶ˆæ¯ç‚¹èµ/ç‚¹è¸©é€»è¾‘ (<code>useChatEvaluate</code>)</h3>
<p>åœ¨ AI å¯¹è¯ç³»ç»Ÿä¸­ï¼Œæ¶ˆæ¯è¯„ä»·æ˜¯é€šç”¨åŠŸèƒ½ã€‚æˆ‘ä»¬éœ€è¦å¤„ç†ï¼šçŠ¶æ€åˆ‡æ¢ï¼ˆç‚¹èµ -&gt; å–æ¶ˆç‚¹èµï¼‰ã€å•é€‰é€»è¾‘ã€ä»¥åŠå¼‚æ­¥æ¥å£è°ƒç”¨ã€‚</p>
<pre><code class="hljs language-TSX" lang="TSX"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// æ¨¡æ‹Ÿæ¥å£</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">public_evaluateMessage</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">params: <span class="hljs-built_in">any</span></span>) =&gt; ({ <span class="hljs-attr">data</span>: <span class="hljs-literal">true</span> });

<span class="hljs-keyword">type</span> <span class="hljs-title class_">EvaluateType</span> = <span class="hljs-string">"GOOD"</span> | <span class="hljs-string">"BAD"</span> | <span class="hljs-string">"NONE"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">useChatEvaluate</span> = (<span class="hljs-params">initialType: EvaluateType = <span class="hljs-string">"NONE"</span></span>) =&gt; {
  <span class="hljs-keyword">const</span> [ratingType, setRatingType] = useState&lt;<span class="hljs-title class_">EvaluateType</span>&gt;(initialType);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">evaluateMessage</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">contentId: <span class="hljs-built_in">number</span>, <span class="hljs-keyword">type</span>: <span class="hljs-string">"GOOD"</span> | <span class="hljs-string">"BAD"</span></span>) =&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-attr">newEvaluateType</span>: <span class="hljs-title class_">EvaluateType</span>;

    <span class="hljs-comment">// é€»è¾‘ï¼šå¦‚æœç‚¹å‡»å·²é€‰ä¸­çš„ç±»å‹ï¼Œåˆ™å–æ¶ˆé€‰ä¸­(NONE)ï¼›å¦åˆ™åˆ‡æ¢åˆ°æ–°ç±»å‹</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-string">"GOOD"</span>) {
      newEvaluateType = ratingType === <span class="hljs-string">"GOOD"</span> ? <span class="hljs-string">"NONE"</span> : <span class="hljs-string">"GOOD"</span>;
    } <span class="hljs-keyword">else</span> {
      newEvaluateType = ratingType === <span class="hljs-string">"BAD"</span> ? <span class="hljs-string">"NONE"</span> : <span class="hljs-string">"BAD"</span>;
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">public_evaluateMessage</span>({
        contentId,
        <span class="hljs-attr">ratingType</span>: newEvaluateType,
        <span class="hljs-attr">content</span>: <span class="hljs-string">""</span>,
      });

      <span class="hljs-keyword">if</span> (res.<span class="hljs-property">data</span> === <span class="hljs-literal">true</span>) {
        <span class="hljs-title function_">setRatingType</span>(newEvaluateType);
      }
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"è¯„ä»·å¤±è´¥:"</span>, error);
    }
  };

  <span class="hljs-keyword">return</span> { ratingType, evaluateMessage };
};

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ChatMessage</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;{ <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span> }&gt; = <span class="hljs-function">(<span class="hljs-params">{ id }</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> { ratingType, evaluateMessage } = <span class="hljs-title function_">useChatEvaluate</span>();
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> evaluateMessage(id, "GOOD")}&gt;
      {ratingType === "GOOD" ? "ğŸ‘ å·²ç‚¹èµ" : "ğŸ‘ ç‚¹èµ"}
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
};
</code></pre>
<hr/>
<h3 data-id="heading-6">2. å“åº”å¼å¸ƒå±€ï¼šå±å¹•å°ºå¯¸ç›‘å¬ (<code>useMediaSize</code>)</h3>
<p>åœ¨å“åº”å¼ç³»ç»Ÿä¸­ï¼Œå°è£…ä¸€ä¸ªèƒ½æ ¹æ®çª—å£å®½åº¦è‡ªåŠ¨åˆ‡æ¢â€œè®¾å¤‡ç±»å‹â€çš„ Hookï¼Œå¯ä»¥æå¤§åœ°ç®€åŒ–å“åº”å¼å¼€å‘ã€‚</p>
<pre><code class="hljs language-TSX" lang="TSX"><span class="hljs-keyword">import</span> { useState, useEffect, useMemo } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">enum</span> <span class="hljs-title class_">MediaType</span> {
  mobile = <span class="hljs-string">'mobile'</span>,
  tablet = <span class="hljs-string">'tablet'</span>,
  pc = <span class="hljs-string">'pc'</span>,
}

<span class="hljs-keyword">const</span> useMediaSize = (): <span class="hljs-function"><span class="hljs-params">MediaType</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> [width, setWidth] = useState&lt;<span class="hljs-built_in">number</span>&gt;(globalThis.<span class="hljs-property">innerWidth</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleWindowResize</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-title function_">setWidth</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>);
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, handleWindowResize);
    <span class="hljs-comment">// è®°å¾—æ¸…ç†äº‹ä»¶ç›‘å¬</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, handleWindowResize);
  }, []);

  <span class="hljs-comment">// ä½¿ç”¨ useMemo é¿å…æ¯æ¬¡æ¸²æŸ“éƒ½é‡æ–°è¿è¡Œè®¡ç®—é€»è¾‘</span>
  <span class="hljs-keyword">const</span> media = <span class="hljs-title function_">useMemo</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (width &lt;= <span class="hljs-number">640</span>) <span class="hljs-keyword">return</span> <span class="hljs-title class_">MediaType</span>.<span class="hljs-property">mobile</span>;
    <span class="hljs-keyword">if</span> (width &lt;= <span class="hljs-number">768</span>) <span class="hljs-keyword">return</span> <span class="hljs-title class_">MediaType</span>.<span class="hljs-property">tablet</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">MediaType</span>.<span class="hljs-property">pc</span>;
  }, [width]);

  <span class="hljs-keyword">return</span> media;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useMediaSize;
</code></pre>
<hr/>
<h3 data-id="heading-7">3. æ€§èƒ½ä¼˜åŒ–ï¼šé˜²æŠ–ä¸èŠ‚æµ Hook</h3>
<h4 data-id="heading-8">A. é˜²æŠ– Hook (<code>useDebounce</code>)</h4>
<p>å¸¸ç”¨äºæœç´¢æ¡†ï¼Œé˜²æ­¢ç”¨æˆ·å¿«é€Ÿè¾“å…¥æ—¶é¢‘ç¹è§¦å‘è¯·æ±‚ã€‚</p>
<pre><code class="hljs language-TSX" lang="TSX"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> useDebounce&lt;T&gt;(<span class="hljs-attr">value</span>: T, <span class="hljs-attr">delay</span>: <span class="hljs-built_in">number</span>): T {
  <span class="hljs-keyword">const</span> [debouncedValue, setDebouncedValue] = useState&lt;T&gt;(value);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> handler = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setDebouncedValue</span>(value);
    }, delay);

    <span class="hljs-comment">// å…³é”®ï¼šåœ¨ä¸‹ä¸€æ¬¡ useEffect æ‰§è¡Œå‰æ¸…ç†ä¸Šä¸€æ¬¡çš„å®šæ—¶å™¨</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearTimeout</span>(handler);
  }, [value, delay]);

  <span class="hljs-keyword">return</span> debouncedValue;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useDebounce;
</code></pre>
<h4 data-id="heading-9">B. èŠ‚æµ Hook (<code>useThrottle</code>)</h4>
<p>å¸¸ç”¨äºæ»šåŠ¨åŠ è½½ã€çª—å£ç¼©æ”¾ï¼Œç¡®ä¿åœ¨è§„å®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡ã€‚</p>
<pre><code class="hljs language-TSX" lang="TSX"><span class="hljs-keyword">import</span> { useState, useEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> useThrottle&lt;T&gt;(<span class="hljs-attr">value</span>: T, <span class="hljs-attr">delay</span>: <span class="hljs-built_in">number</span>): T {
  <span class="hljs-keyword">const</span> [throttledValue, setThrottledValue] = useState&lt;T&gt;(value);
  <span class="hljs-keyword">const</span> lastExecuted = useRef&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>());

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
    <span class="hljs-keyword">const</span> remainingTime = delay - (now - lastExecuted.<span class="hljs-property">current</span>);

    <span class="hljs-keyword">if</span> (remainingTime &lt;= <span class="hljs-number">0</span>) {
      <span class="hljs-comment">// ç«‹å³æ‰§è¡Œ</span>
      <span class="hljs-title function_">setThrottledValue</span>(value);
      lastExecuted.<span class="hljs-property">current</span> = now;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// è®¾ç½®å®šæ—¶å™¨å¤„ç†å‰©ä½™æ—¶é—´</span>
      <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-title function_">setThrottledValue</span>(value);
        lastExecuted.<span class="hljs-property">current</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
      }, remainingTime);

      <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearTimeout</span>(timer);
    }
  }, [value, delay]);

  <span class="hljs-keyword">return</span> throttledValue;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useThrottle;
</code></pre>
<hr/>
<h2 data-id="heading-10">ä¸‰ã€ æ€»ç»“ï¼šå°è£…è‡ªå®šä¹‰ Hook çš„å¿ƒæ³•</h2>
<ol>
<li><strong>æŠ½ç¦»çŠ¶æ€è€Œéä»…é€»è¾‘</strong>ï¼šå¦‚æœä¸€æ®µé€»è¾‘åªæ¶‰åŠçº¯å‡½æ•°è®¡ç®—ï¼Œä¸éœ€è¦ Hookï¼›åªæœ‰æ¶‰åŠ <code>useState</code> æˆ– <code>useEffect</code> ç­‰çŠ¶æ€ç®¡ç†æ—¶ï¼Œæ‰æœ‰å¿…è¦å°è£… Hookã€‚</li>
<li><strong>ä¿æŒçº¯å‡€</strong>ï¼šè‡ªå®šä¹‰ Hook åº”è¯¥åªå…³å¿ƒé€»è¾‘ï¼Œè€Œä¸åº”è¯¥ç›´æ¥æ“ä½œ DOMã€‚</li>
<li><strong>TS ç±»å‹ä¿æŠ¤</strong>ï¼šåˆ©ç”¨æ³›å‹ <code>&lt;T&gt;</code> å¢å¼º Hook çš„å…¼å®¹æ€§ï¼Œè®©å®ƒèƒ½é€‚é…å„ç§æ•°æ®ç±»å‹ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React æ‰‹å†™å®ç°çš„ KeepAlive ç»„ä»¶ ğŸš€]]></title>    <link>https://juejin.cn/post/7600967006893178889</link>    <guid>https://juejin.cn/post/7600967006893178889</guid>    <pubDate>2026-01-30T09:42:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600967006893178889" data-draft-id="7600705962249191433" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React æ‰‹å†™å®ç°çš„ KeepAlive ç»„ä»¶ ğŸš€"/> <meta itemprop="keywords" content="React.js,é¢è¯•,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-30T09:42:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="xiaoxue_"/> <meta itemprop="url" content="https://juejin.cn/user/4065372122398027"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React æ‰‹å†™å®ç°çš„ KeepAlive ç»„ä»¶ ğŸš€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4065372122398027/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    xiaoxue_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:42:50.000Z" title="Fri Jan 30 2026 09:42:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">React æ‰‹å†™å®ç°çš„ KeepAlive ç»„ä»¶ ğŸš€</h2>
<h3 data-id="heading-1">å¼•è¨€ ğŸ“</h3>
<p>åœ¨ React å¼€å‘ä¸­ï¼Œä½ æ˜¯å¦é‡åˆ°è¿‡è¿™æ ·çš„åœºæ™¯ï¼šåˆ‡æ¢ Tab é¡µé¢åï¼Œè¿”å›ä¹‹å‰çš„é¡µé¢ï¼Œè¾“å…¥çš„å†…å®¹ã€è®¡æ•°çŠ¶æ€å´ â€œæ¶ˆå¤±ä¸è§â€ äº†ï¼ŸğŸ¤” è¿™æ˜¯å› ä¸º React ç»„ä»¶é»˜è®¤åœ¨å¸è½½æ—¶ä¼šé”€æ¯çŠ¶æ€ï¼Œé‡æ–°æ¸²æŸ“æ—¶ä¼šåˆ›å»ºæ–°çš„å®ä¾‹ã€‚è€Œ <code>KeepAlive</code> ç»„ä»¶å°±åƒä¸€ä¸ª â€œçŠ¶æ€ä¿é²œç›’â€ï¼Œèƒ½è®©ç»„ä»¶åœ¨éšè—æ—¶ä¸å¸è½½ï¼Œä¿æŒåŸæœ‰çŠ¶æ€ï¼Œå†æ¬¡æ˜¾ç¤ºæ—¶ç›´æ¥å¤ç”¨ã€‚ä»Šå¤©æˆ‘ä»¬å°±ç»“åˆå®æˆ˜ä»£ç ï¼Œä»é›¶æ‹†è§£ <code>KeepAlive</code> ç»„ä»¶çš„å®ç°é€»è¾‘ï¼Œå¸¦ä½ åƒé€è¿™ä¸€å®ç”¨æŠ€èƒ½ï¼</p>
<h3 data-id="heading-2">ä¸€ã€ä»€ä¹ˆæ˜¯ Keep-Aliveï¼Ÿ ğŸ§©</h3>
<p><code>Keep-Alive</code> æºäº Vue çš„å†…ç½®ç»„ä»¶ï¼Œåœ¨ React ä¸­å¹¶æ²¡æœ‰åŸç”Ÿæ”¯æŒï¼Œä½†æä¾›äº†<strong>ç»„ä»¶ç¼“å­˜èƒ½åŠ›</strong>çš„ç¬¬ä¸‰æ–¹åº“<code>react-activation</code>,æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>import {KeepAlive} from 'react-activation';</code> å¯¼å…¥<code>KeepAlive</code>è·å¾—çŠ¶æ€ä¿å­˜èƒ½åŠ›ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬æ¥æ‰‹åŠ¨å®ç°å…¶æ ¸å¿ƒåŠŸèƒ½ï¼Œå®ƒæœ¬è´¨æ˜¯ä¸€ä¸ª<strong>ç»„ä»¶ç¼“å­˜å®¹å™¨</strong>ï¼Œæ ¸å¿ƒç‰¹æ€§å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç¼“å­˜ç»„ä»¶å®ä¾‹ï¼Œé¿å…ç»„ä»¶é¢‘ç¹æŒ‚è½½ / å¸è½½ï¼Œå‡å°‘æ€§èƒ½å¼€é”€ï¼›</li>
<li>ä¿æŒç»„ä»¶çŠ¶æ€ï¼ˆå¦‚ useState æ•°æ®ã€è¡¨å•è¾“å…¥å€¼ç­‰ï¼‰ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼›</li>
<li>é€šè¿‡ â€œæ˜¾éšæ§åˆ¶â€ æ›¿ä»£ â€œæŒ‚è½½ / å¸è½½â€ï¼Œç»„ä»¶å§‹ç»ˆå­˜åœ¨äº DOM ä¸­ï¼Œå¹¶æœªå¸è½½ï¼Œåªæ˜¯é€šè¿‡æ ·å¼éšè—ï¼›</li>
<li>æ”¯æŒä»¥å”¯ä¸€æ ‡è¯†ï¼ˆå¦‚ <code>activeId</code>ï¼‰ç®¡ç†å¤šä¸ªç»„ä»¶çš„ç¼“å­˜ä¸åˆ‡æ¢ã€‚</li>
</ul>
<p>ç®€å•è¯´ï¼Œ<code>Keep-Alive</code> å°±åƒç»™ç»„ä»¶ â€œå†¬çœ â€ çš„èƒ½åŠ› â€”â€” ä¸ç”¨æ—¶ä¼‘çœ ï¼ˆéšè—ï¼‰ï¼Œéœ€è¦æ—¶å”¤é†’ï¼ˆæ˜¾ç¤ºï¼‰ï¼ŒçŠ¶æ€å§‹ç»ˆä¸å˜ âœ¨ã€‚</p>
<h3 data-id="heading-3">äºŒã€ä¸ºä»€ä¹ˆéœ€è¦ Keep-Aliveï¼Ÿï¼ˆä½œç”¨ + åœºæ™¯ + ä½¿ç”¨ï¼‰ğŸŒŸ</h3>
<h4 data-id="heading-4">1. æ ¸å¿ƒä½œç”¨</h4>
<ul>
<li><strong>çŠ¶æ€ä¿ç•™</strong>ï¼šé¿å…ç»„ä»¶åˆ‡æ¢æ—¶ä¸¢å¤±ä¸´æ—¶çŠ¶æ€ï¼ˆå¦‚è¡¨å•è¾“å…¥ã€è®¡æ•°ã€æ»šåŠ¨ä½ç½®ï¼‰ï¼›</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šå‡å°‘é‡å¤æ¸²æŸ“å’Œç”Ÿå‘½å‘¨æœŸå‡½æ•°æ‰§è¡Œï¼ˆå¦‚ <code>useEffect</code> ä¸­çš„æ¥å£è¯·æ±‚ï¼‰ï¼›</li>
<li><strong>ä½“éªŒæå‡</strong>ï¼šåˆ‡æ¢ç»„ä»¶æ—¶æ— åŠ è½½å»¶è¿Ÿï¼Œæ“ä½œè¿è´¯æ€§æ›´å¼ºã€‚</li>
</ul>
<h4 data-id="heading-5">2. é€‚ç”¨åœºæ™¯</h4>
<ul>
<li><strong>Tab åˆ‡æ¢é¡µé¢</strong>ï¼šå¦‚åå°ç®¡ç†ç³»ç»Ÿçš„å¤šæ ‡ç­¾é¡µã€ç§»åŠ¨ç«¯çš„åº•éƒ¨å¯¼èˆªåˆ‡æ¢ï¼›</li>
<li><strong>è·¯ç”±è·³è½¬</strong>ï¼šåˆ—è¡¨é¡µè·³è½¬è¯¦æƒ…é¡µåè¿”å›ï¼Œä¿ç•™åˆ—è¡¨ç­›é€‰æ¡ä»¶å’Œæ»šåŠ¨ä½ç½®ï¼›</li>
<li><strong>é«˜é¢‘åˆ‡æ¢ç»„ä»¶</strong>ï¼šå¦‚è¡¨å•åˆ†æ­¥å¡«å†™ã€å¼¹çª—ä¸é¡µé¢çš„åˆ‡æ¢ï¼›</li>
<li><strong>èµ„æºå¯†é›†å‹ç»„ä»¶</strong>ï¼šå¦‚åŒ…å«å¤§é‡å›¾è¡¨ã€è§†é¢‘çš„ç»„ä»¶ï¼Œé¿å…é‡å¤åˆå§‹åŒ–ã€‚</li>
</ul>
<h4 data-id="heading-6">3. åŸºç¡€ä½¿ç”¨æ–¹å¼</h4>
<p>åœ¨æˆ‘ä»¬çš„å®æˆ˜ä»£ç ä¸­ï¼Œ<code>Keep-Alive</code> çš„ä½¿ç”¨éå¸¸ç®€æ´ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-ini" lang="ini">// çˆ¶ç»„ä»¶ä¸­åŒ…è£¹éœ€è¦ç¼“å­˜çš„ç»„ä»¶ï¼Œä¼ å…¥ activeId æ§åˆ¶æ¿€æ´»çŠ¶æ€
&lt;KeepAlive <span class="hljs-attr">activeId</span>={activeTab}&gt;
  {<span class="hljs-attr">activeTab</span> === <span class="hljs-string">'A'</span> ? &lt;Counter name=<span class="hljs-string">"A"</span> /&gt; : &lt;OtherCounter name=<span class="hljs-string">"B"</span> /&gt;}
&lt;/KeepAlive&gt;
</code></pre>
<ul>
<li><code>activeId</code>ï¼šå”¯ä¸€æ ‡è¯†ï¼Œç”¨äºåŒºåˆ†å½“å‰æ¿€æ´»çš„ç»„ä»¶ï¼›</li>
<li><code>children</code>ï¼šéœ€è¦ç¼“å­˜çš„ç»„ä»¶å®ä¾‹ï¼Œæ”¯æŒåŠ¨æ€åˆ‡æ¢ä¸åŒç»„ä»¶ã€‚</li>
</ul>
<h3 data-id="heading-7">ä¸‰ã€æ‰‹å†™ KeepAlive ç»„ä»¶çš„å®ç°æ€è·¯ ğŸ”</h3>
<h4 data-id="heading-8">1. æ ¸å¿ƒéœ€æ±‚åˆ†æ</h4>
<p>è¦å®ç°ä¸€ä¸ªé€šç”¨çš„ <code>Keep-Alive</code> ç»„ä»¶ï¼Œéœ€æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p>
<ul>
<li>æ”¯æŒå¤šç»„ä»¶ç¼“å­˜ï¼šèƒ½åŒæ—¶ç¼“å­˜å¤šä¸ªç»„ä»¶ï¼Œé€šè¿‡ <code>activeId</code> åŒºåˆ†ï¼›</li>
<li>è‡ªåŠ¨æ›´æ–°ç¼“å­˜ï¼šæ–°ç»„ä»¶é¦–æ¬¡æ¿€æ´»æ—¶è‡ªåŠ¨å­˜å…¥ç¼“å­˜ï¼Œå·²ç¼“å­˜ç»„ä»¶ç›´æ¥å¤ç”¨ï¼›</li>
<li>çµæ´»æ§åˆ¶æ˜¾éšï¼šåªæ˜¾ç¤ºå½“å‰æ¿€æ´»çš„ç»„ä»¶ï¼Œå…¶ä½™ç»„ä»¶éšè—ï¼›</li>
<li>å…¼å®¹æ€§å¼ºï¼šä¸ä¾µå…¥å­ç»„ä»¶é€»è¾‘ï¼Œå­ç»„ä»¶æ— éœ€ä¿®æ”¹å³å¯ä½¿ç”¨ï¼›</li>
<li>çŠ¶æ€ç¨³å®šï¼šç¼“å­˜çš„ç»„ä»¶çŠ¶æ€ä¸ä¸¢å¤±ï¼Œç”Ÿå‘½å‘¨æœŸä¸é‡å¤æ‰§è¡Œã€‚</li>
</ul>
<h4 data-id="heading-9">2. å®ç°æ­¥éª¤æ‹†è§£ï¼ˆç»“åˆä»£ç è®²è§£ï¼‰</h4>
<p>åˆå§‹åŒ–ä¸€ä¸ª<code>React</code>é¡¹ç›®,é€‰æ‹©<code>JavaScript</code>è¯­è¨€ã€‚</p>
<p>æˆ‘ä»¬çš„ <code>KeepAlive</code> ç»„ä»¶ä»£ç ä½äº <code>src/components/KeepAlive.jsx</code>ï¼Œæ ¸å¿ƒåˆ†ä¸º 3 ä¸ªæ­¥éª¤ï¼Œä¸€æ­¥æ­¥æ‹†è§£å¦‚ä¸‹ï¼š</p>
<h5 data-id="heading-10">æ­¥éª¤ä¸€ï¼šå®šä¹‰ç¼“å­˜å®¹å™¨ ğŸ“¦</h5>
<p>æ ¸å¿ƒæ€è·¯ï¼šç”¨ React çš„ <code>useState</code> å®šä¹‰ä¸€ä¸ªç¼“å­˜å¯¹è±¡ <code>cache</code>ï¼Œä»¥ <code>activeId</code> ä¸º keyï¼Œç¼“å­˜å¯¹åº”çš„ç»„ä»¶å®ä¾‹ï¼ˆ<code>children</code>ï¼‰ã€‚</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title function_">KeepAlive</span> = (<span class="hljs-params">{ activeId, children }</span>) =&gt; {
  <span class="hljs-comment">// å®šä¹‰ç¼“å­˜å®¹å™¨ï¼škey æ˜¯ activeIdï¼Œvalue æ˜¯å¯¹åº”çš„ç»„ä»¶å®ä¾‹ï¼ˆchildrenï¼‰</span>
  <span class="hljs-comment">// åˆå§‹å€¼ä¸ºç©ºå¯¹è±¡ï¼Œä¿è¯é¦–æ¬¡æ¸²æŸ“æ—¶æ— ç¼“å­˜ç»„ä»¶</span>
  <span class="hljs-keyword">const</span> [cache, setCache] = <span class="hljs-title function_">useState</span>({}); 

  <span class="hljs-comment">// åç»­é€»è¾‘...</span>
};
</code></pre>
<ul>
<li>ä¸ºä»€ä¹ˆç”¨å¯¹è±¡ä½œä¸ºç¼“å­˜å®¹å™¨ï¼Ÿå¯¹è±¡çš„ key æ”¯æŒå­—ç¬¦ä¸²ç±»å‹çš„ <code>activeId</code>ï¼ŒæŸ¥è¯¢å’Œä¿®æ”¹æ•ˆç‡é«˜ï¼ˆO (1)ï¼‰ï¼Œä¸”é…åˆ <code>Object.entries</code> æ–¹ä¾¿éå†ï¼›</li>
<li>Map ä¹Ÿå¯ä½œä¸ºç¼“å­˜å®¹å™¨ï¼ˆkey å¯æ”¯æŒå¯¹è±¡ç±»å‹ï¼‰ï¼Œä½†æœ¬ä¾‹ä¸­ <code>activeId</code> æ˜¯å­—ç¬¦ä¸²ï¼Œå¯¹è±¡è¶³å¤Ÿæ»¡è¶³éœ€æ±‚ï¼Œæ›´ç®€æ´ã€‚</li>
</ul>
<h5 data-id="heading-11">æ­¥éª¤äºŒï¼šç›‘å¬ä¾èµ–ï¼Œæ›´æ–°ç¼“å­˜ ğŸ”„</h5>
<p>æ ¸å¿ƒæ€è·¯ï¼šé€šè¿‡ <code>useEffect</code> ç›‘å¬ <code>activeId</code> å’Œ <code>children</code> çš„å˜åŒ–ï¼Œå½“åˆ‡æ¢ç»„ä»¶æ—¶ï¼Œè‹¥å½“å‰ <code>activeId</code> å¯¹åº”çš„ç»„ä»¶æœªè¢«ç¼“å­˜ï¼Œåˆ™å­˜å…¥ç¼“å­˜ã€‚</p>
<p>jsx</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">useEffect</span>(() =&gt; {
  <span class="hljs-comment">// é€»è¾‘ï¼šå¦‚æœå½“å‰ activeId å¯¹åº”çš„ç»„ä»¶æœªåœ¨ç¼“å­˜ä¸­ï¼Œå°±æ·»åŠ åˆ°ç¼“å­˜</span>
  if (!cache[activeId]) { 
    <span class="hljs-comment">// åˆ©ç”¨å‡½æ•°å¼æ›´æ–°ï¼Œç¡®ä¿æ‹¿åˆ°æœ€æ–°çš„ç¼“å­˜çŠ¶æ€ï¼ˆprev æ˜¯ä¸Šä¸€æ¬¡çš„ cacheï¼‰</span>
    <span class="hljs-built_in">setCache</span>((prev) =&gt; ({
      ...prev, // ä¿ç•™å·²æœ‰çš„ç¼“å­˜ç»„ä»¶
      [activeId]: children // æ–°å¢å½“å‰ activeId å¯¹åº”çš„ç»„ä»¶åˆ°ç¼“å­˜
    }))
  }
}, <span class="hljs-selector-attr">[activeId, children, cache]</span>); <span class="hljs-comment">// ä¾èµ–é¡¹ï¼šactiveId å˜äº†ã€ç»„ä»¶å˜äº†ã€ç¼“å­˜å˜äº†ï¼Œéƒ½è¦é‡æ–°æ£€æŸ¥</span>
</code></pre>
<ul>
<li>
<p>ä¾èµ–é¡¹è¯´æ˜ï¼š</p>
<ul>
<li><code>activeId</code>ï¼šåˆ‡æ¢æ ‡ç­¾æ—¶è§¦å‘ï¼Œæ£€æŸ¥æ–°æ ‡ç­¾å¯¹åº”çš„ç»„ä»¶æ˜¯å¦å·²ç¼“å­˜ï¼›</li>
<li><code>children</code>ï¼šè‹¥ä¼ å…¥çš„ç»„ä»¶å®ä¾‹å˜åŒ–ï¼ˆå¦‚ props æ”¹å˜ï¼‰ï¼Œéœ€è¦æ›´æ–°ç¼“å­˜ä¸­çš„ç»„ä»¶ï¼›</li>
<li><code>cache</code>ï¼šç¡®ä¿è·å–æœ€æ–°çš„ç¼“å­˜çŠ¶æ€ï¼Œé¿å…è¦†ç›–å·²æœ‰ç¼“å­˜ï¼›</li>
</ul>
</li>
<li>
<p>ä¸ºä»€ä¹ˆä¸ç›´æ¥ <code>setCache({...cache, [activeId]: children})</code>ï¼Ÿ å› ä¸º <code>cache</code> æ˜¯çŠ¶æ€ï¼Œç›´æ¥ä½¿ç”¨å¯èƒ½æ‹¿åˆ°æ—§å€¼ï¼Œå‡½æ•°å¼æ›´æ–°ï¼ˆ<code>prev =&gt; {...}</code>ï¼‰èƒ½ä¿è¯æ‹¿åˆ°æœ€æ–°çš„çŠ¶æ€ï¼Œé¿å…ç¼“å­˜ä¸¢å¤±ã€‚</p>
</li>
</ul>
<h5 data-id="heading-12">æ­¥éª¤ä¸‰ï¼šéå†ç¼“å­˜ï¼Œæ§åˆ¶ç»„ä»¶æ˜¾éš ğŸ­</h5>
<p>æ ¸å¿ƒæ€è·¯ï¼šé€šè¿‡ <code>Object.entries</code> å°†ç¼“å­˜å¯¹è±¡è½¬ä¸º <code>[key, value]</code> äºŒç»´æ•°ç»„ï¼Œéå†æ¸²æŸ“æ‰€æœ‰ç¼“å­˜ç»„ä»¶ï¼Œé€šè¿‡ <code>display</code> æ ·å¼æ§åˆ¶æ˜¾éšï¼ˆæ¿€æ´»çš„ç»„ä»¶æ˜¾ç¤ºï¼Œå…¶ä½™éšè—ï¼‰ã€‚</p>
<p>jsx</p>
<pre><code class="hljs language-css" lang="css">return (
  &lt;&gt;
    {
      // <span class="hljs-selector-tag">Object</span><span class="hljs-selector-class">.entries</span>(cache)ï¼šå°†ç¼“å­˜å¯¹è±¡è½¬ä¸ºäºŒç»´æ•°ç»„ï¼Œæ ¼å¼å¦‚ <span class="hljs-selector-attr">[[id1, component1]</span>, <span class="hljs-selector-attr">[id2, component2]</span>]
      <span class="hljs-selector-tag">Object</span><span class="hljs-selector-class">.entries</span>(cache)<span class="hljs-selector-class">.map</span>((<span class="hljs-selector-attr">[id, component]</span>) =&gt; (
        &lt;<span class="hljs-selector-tag">div</span> 
          key={id} // ç”¨ç¼“å­˜çš„ id ä½œä¸º keyï¼Œç¡®ä¿ React æ­£ç¡®è¯†åˆ«ç»„ä»¶
          // æ˜¾éšæ§åˆ¶ï¼šå½“å‰ id ç­‰äº activeId æ—¶æ˜¾ç¤ºï¼ˆblockï¼‰ï¼Œå¦åˆ™éšè—ï¼ˆ<span class="hljs-attribute">none</span>ï¼‰
          style={{ <span class="hljs-attribute">display</span>: id === activeId ? <span class="hljs-string">'block'</span> : <span class="hljs-string">'none'</span> }}
        &gt;
          {component} {<span class="hljs-comment">/* æ¸²æŸ“ç¼“å­˜çš„ç»„ä»¶å®ä¾‹ */</span>}
        &lt;/<span class="hljs-selector-tag">div</span>&gt;
      ))
    }
  &lt;/&gt;
);
</code></pre>
<ul>
<li>å…³é”®é€»è¾‘ï¼šæ‰€æœ‰ç¼“å­˜çš„ç»„ä»¶éƒ½ä¼šè¢«æ¸²æŸ“åˆ° DOM ä¸­ï¼Œä½†é€šè¿‡ <code>display: none</code> éšè—æœªæ¿€æ´»çš„ç»„ä»¶ï¼Œè¿™æ ·ç»„ä»¶ä¸ä¼šå¸è½½ï¼ŒçŠ¶æ€å¾—ä»¥ä¿ç•™ï¼›</li>
<li><code>key</code> çš„ä½œç”¨ï¼šå¿…é¡»ç”¨ <code>id</code> ä½œä¸º keyï¼Œé¿å… React è¯¯åˆ¤ç»„ä»¶èº«ä»½ï¼Œå¯¼è‡´çŠ¶æ€ä¸¢å¤±ã€‚</li>
</ul>
<h4 data-id="heading-13">3.å…³é”®é€»è¾‘æ‹†è§£</h4>
<h3 data-id="heading-14">å››ã€å®Œæ•´ä»£ç åŠæ•ˆæœæ¼”ç¤º ğŸ“¸</h3>
<h4 data-id="heading-15">1. å®Œæ•´ KeepAlive ç»„ä»¶ï¼ˆ<code>src/components/KeepAlive.jsx</code>ï¼‰</h4>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">/**
 * KeepAlive ç»„ä»¶ï¼šç¼“å­˜ React ç»„ä»¶ï¼Œé¿å…å¸è½½ï¼Œä¿æŒçŠ¶æ€
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">string</span>} <span class="hljs-variable">activeId</span> - å½“å‰æ¿€æ´»çš„ç»„ä»¶æ ‡è¯†ï¼ˆå”¯ä¸€keyï¼‰
 * <span class="hljs-doctag">@param</span> {<span class="hljs-type">React.ReactNode</span>} <span class="hljs-variable">children</span> - éœ€è¦ç¼“å­˜çš„ç»„ä»¶å®ä¾‹
 * <span class="hljs-doctag">@returns</span> {<span class="hljs-type">JSX.Element</span>} æ¸²æŸ“æ‰€æœ‰ç¼“å­˜ç»„ä»¶ï¼Œæ§åˆ¶æ˜¾éš
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">KeepAlive</span> = (<span class="hljs-params">{ activeId, children }</span>) =&gt; {
  <span class="hljs-comment">// ç¼“å­˜å®¹å™¨ï¼škey ä¸º activeIdï¼Œvalue ä¸ºå¯¹åº”çš„ç»„ä»¶å®ä¾‹</span>
  <span class="hljs-keyword">const</span> [cache, setCache] = <span class="hljs-title function_">useState</span>({});

  <span class="hljs-comment">// ç›‘å¬ activeIdã€childrenã€cache å˜åŒ–ï¼Œæ›´æ–°ç¼“å­˜</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// è‹¥å½“å‰ activeId å¯¹åº”çš„ç»„ä»¶æœªç¼“å­˜ï¼Œåˆ™æ·»åŠ åˆ°ç¼“å­˜</span>
    <span class="hljs-keyword">if</span> (!cache[activeId]) {
      <span class="hljs-comment">// å‡½æ•°å¼æ›´æ–°ï¼Œç¡®ä¿æ‹¿åˆ°æœ€æ–°çš„ç¼“å­˜çŠ¶æ€</span>
      <span class="hljs-title function_">setCache</span>(<span class="hljs-function">(<span class="hljs-params">prevCache</span>) =&gt;</span> ({
        ...prevCache, <span class="hljs-comment">// ä¿ç•™å·²æœ‰ç¼“å­˜</span>
        [activeId]: children <span class="hljs-comment">// æ–°å¢å½“å‰ç»„ä»¶åˆ°ç¼“å­˜</span>
      }));
    }
  }, [activeId, children, cache]);

  <span class="hljs-comment">// éå†ç¼“å­˜ï¼Œæ¸²æŸ“æ‰€æœ‰ç»„ä»¶ï¼Œé€šè¿‡ display æ§åˆ¶æ˜¾éš</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
      {Object.entries(cache).map(([id, component]) =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>
          <span class="hljs-attr">key</span>=<span class="hljs-string">{id}</span>
          <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
            <span class="hljs-attr">display:</span> <span class="hljs-attr">id</span> === <span class="hljs-string">activeId</span> ? '<span class="hljs-attr">block</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">none</span>',
          }}
        &gt;</span>
          {component}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      ))}
    <span class="hljs-tag">&lt;/&gt;</span></span>
  );
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">KeepAlive</span>;
</code></pre>
<h4 data-id="heading-16">2. æ¨¡æ‹Ÿ Tab åˆ‡æ¢åœºæ™¯ï¼ˆ<code>src/App.jsx</code>ï¼‰</h4>
<p>jsx</p>
<pre><code class="hljs language-ini" lang="ini">import { useState, useEffect } from 'react'<span class="hljs-comment">;</span>
import KeepAlive from './components/KeepAlive.jsx'<span class="hljs-comment">;</span>

// è®¡æ•°ç»„ä»¶ Aï¼šæ¼”ç¤ºçŠ¶æ€ä¿ç•™
const <span class="hljs-attr">Counter</span> = ({ name }) =&gt; {
  const <span class="hljs-section">[count, setCount]</span> = useState(0)<span class="hljs-comment">;</span>

  // æ¨¡æ‹Ÿç»„ä»¶æŒ‚è½½/å¸è½½ç”Ÿå‘½å‘¨æœŸ
  useEffect(() =&gt; {
    console.log(`âœ¨ ç»„ä»¶ ${name} æŒ‚è½½å®Œæˆ`)<span class="hljs-comment">;</span>
    return () =&gt; {
      console.log(`âŒ ç»„ä»¶ ${name} å¸è½½å®Œæˆ`)<span class="hljs-comment">;</span>
    }<span class="hljs-comment">;</span>
  }, <span class="hljs-section">[name]</span>)<span class="hljs-comment">;</span>

  return (
    &lt;div <span class="hljs-attr">style</span>={{ padding: <span class="hljs-string">'20px'</span>, border: <span class="hljs-string">'1px solid #646cff'</span>, borderRadius: <span class="hljs-string">'8px'</span>, margin: <span class="hljs-string">'10px 0'</span> }}&gt;
      &lt;h3 <span class="hljs-attr">style</span>={{ color: <span class="hljs-string">'#646cff'</span> }}&gt;{name} è§†å›¾&lt;/h3&gt;
      &lt;p&gt;å½“å‰è®¡æ•°ï¼š{count} ğŸ¯&lt;/p&gt;
      &lt;button <span class="hljs-attr">onClick</span>={() =&gt; setCount(count + <span class="hljs-number">1</span>)} style={{ marginRight: <span class="hljs-string">'10px'</span> }}&gt;+<span class="hljs-number">1</span>&lt;/button&gt;
      &lt;button <span class="hljs-attr">onClick</span>={() =&gt; setCount(<span class="hljs-number">0</span>)}&gt;é‡ç½®&lt;/button&gt;
    &lt;/div&gt;
  )<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

// è®¡æ•°ç»„ä»¶ Bï¼šä¸ A åŠŸèƒ½ä¸€è‡´ï¼Œç”¨äºæ¨¡æ‹Ÿåˆ‡æ¢
const <span class="hljs-attr">OtherCounter</span> = ({ name }) =&gt; {
  const <span class="hljs-section">[count, setCount]</span> = useState(0)<span class="hljs-comment">;</span>

  useEffect(() =&gt; {
    console.log(`âœ¨ ç»„ä»¶ ${name} æŒ‚è½½å®Œæˆ`)<span class="hljs-comment">;</span>
    return () =&gt; {
      console.log(`âŒ ç»„ä»¶ ${name} å¸è½½å®Œæˆ`)<span class="hljs-comment">;</span>
    }<span class="hljs-comment">;</span>
  }, <span class="hljs-section">[name]</span>)<span class="hljs-comment">;</span>

  return (
    &lt;div <span class="hljs-attr">style</span>={{ padding: <span class="hljs-string">'20px'</span>, border: <span class="hljs-string">'1px solid #535bf2'</span>, borderRadius: <span class="hljs-string">'8px'</span>, margin: <span class="hljs-string">'10px 0'</span> }}&gt;
      &lt;h3 <span class="hljs-attr">style</span>={{ color: <span class="hljs-string">'#535bf2'</span> }}&gt;{name} è§†å›¾&lt;/h3&gt;
      &lt;p&gt;å½“å‰è®¡æ•°ï¼š{count} ğŸ¯&lt;/p&gt;
      &lt;button <span class="hljs-attr">onClick</span>={() =&gt; setCount(count + <span class="hljs-number">1</span>)} style={{ marginRight: <span class="hljs-string">'10px'</span> }}&gt;+<span class="hljs-number">1</span>&lt;/button&gt;
      &lt;button <span class="hljs-attr">onClick</span>={() =&gt; setCount(<span class="hljs-number">0</span>)}&gt;é‡ç½®&lt;/button&gt;
    &lt;/div&gt;
  )<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

const <span class="hljs-attr">App</span> = () =&gt; {
  // æ§åˆ¶å½“å‰æ¿€æ´»çš„ Tabï¼Œé»˜è®¤æ¿€æ´» A ç»„ä»¶
  const <span class="hljs-section">[activeTab, setActiveTab]</span> = useState('A')<span class="hljs-comment">;</span>

  return (
    &lt;div <span class="hljs-attr">style</span>={{ maxWidth: <span class="hljs-string">'800px'</span>, margin: <span class="hljs-string">'0 auto'</span>, padding: <span class="hljs-string">'2rem'</span> }}&gt;
      &lt;h1 <span class="hljs-attr">style</span>={{ textAlign: <span class="hljs-string">'center'</span>, marginBottom: <span class="hljs-string">'2rem'</span>, color: <span class="hljs-string">'#242424'</span> }}&gt;
        React KeepAlive ç»„ä»¶å®æˆ˜ ğŸš€
      &lt;/h1&gt;

      {/* Tab åˆ‡æ¢æŒ‰é’® */}
      &lt;div <span class="hljs-attr">style</span>={{ textAlign: <span class="hljs-string">'center'</span>, marginBottom: <span class="hljs-string">'2rem'</span> }}&gt;
        &lt;button
          <span class="hljs-attr">onClick</span>={() =&gt; setActiveTab(<span class="hljs-string">'A'</span>)}
          <span class="hljs-attr">style</span>={{
            marginRight: '1rem',
            padding: '0.8rem 1.5rem',
            backgroundColor: <span class="hljs-attr">activeTab</span> === <span class="hljs-string">'A'</span> ? <span class="hljs-string">'#646cff'</span> : <span class="hljs-string">'#f9f9f9'</span>,
            color: <span class="hljs-attr">activeTab</span> === <span class="hljs-string">'A'</span> ? <span class="hljs-string">'white'</span> : <span class="hljs-string">'#242424'</span>
          }}
        &gt;
          æ˜¾ç¤º A ç»„ä»¶
        &lt;/button&gt;
        &lt;button
          <span class="hljs-attr">onClick</span>={() =&gt; setActiveTab(<span class="hljs-string">'B'</span>)}
          <span class="hljs-attr">style</span>={{
            padding: '0.8rem 1.5rem',
            backgroundColor: <span class="hljs-attr">activeTab</span> === <span class="hljs-string">'B'</span> ? <span class="hljs-string">'#535bf2'</span> : <span class="hljs-string">'#f9f9f9'</span>,
            color: <span class="hljs-attr">activeTab</span> === <span class="hljs-string">'B'</span> ? <span class="hljs-string">'white'</span> : <span class="hljs-string">'#242424'</span>
          }}
        &gt;
          æ˜¾ç¤º B ç»„ä»¶
        &lt;/button&gt;
      &lt;/div&gt;

      {/* ç”¨ KeepAlive åŒ…è£¹éœ€è¦ç¼“å­˜çš„ç»„ä»¶ */}
      &lt;KeepAlive <span class="hljs-attr">activeId</span>={activeTab}&gt;
        {<span class="hljs-attr">activeTab</span> === <span class="hljs-string">'A'</span> ? &lt;Counter name=<span class="hljs-string">"A"</span> /&gt; : &lt;OtherCounter name=<span class="hljs-string">"B"</span> /&gt;}
      &lt;/KeepAlive&gt;

      &lt;div <span class="hljs-attr">style</span>={{ marginTop: <span class="hljs-string">'2rem'</span>, textAlign: <span class="hljs-string">'center'</span>, color: <span class="hljs-string">'#888'</span> }}&gt;
        ğŸ‘‰ åˆ‡æ¢ Tab è¯•è¯•ï¼Œç»„ä»¶çŠ¶æ€ä¸ä¼šä¸¢å¤±å“¦ï¼
      &lt;/div&gt;
    &lt;/div&gt;
  )<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>

export default App<span class="hljs-comment">;</span>
</code></pre>
<h4 data-id="heading-17">3. æ•ˆæœå±•ç¤º</h4>
<h5 data-id="heading-18">ï¼ˆ1ï¼‰åŠŸèƒ½æ•ˆæœ</h5>
<ul>
<li>é¦–æ¬¡è¿›å…¥é¡µé¢ï¼šæ˜¾ç¤º A ç»„ä»¶ï¼Œè®¡æ•°ä¸º 0ï¼›</li>
<li>ç‚¹å‡» A ç»„ä»¶ â€œ+1â€ æŒ‰é’®ï¼Œè®¡æ•°å˜ä¸º 7ï¼›</li>
<li>åˆ‡æ¢åˆ° B ç»„ä»¶ï¼šB ç»„ä»¶è®¡æ•°ä¸º 0ï¼ŒA ç»„ä»¶éšè—ï¼ˆæœªå¸è½½ï¼‰ï¼›</li>
<li>ç‚¹å‡» B ç»„ä»¶ â€œ+1â€ æŒ‰é’®ï¼Œè®¡æ•°å˜ä¸º 5ï¼›</li>
<li>åˆ‡æ¢å› A ç»„ä»¶ï¼šA ç»„ä»¶è®¡æ•°ä¾ç„¶æ˜¯ 7ï¼Œæ— éœ€é‡æ–°åˆå§‹åŒ–ï¼›</li>
<li>æ§åˆ¶å°æ—¥å¿—ï¼šåªæœ‰ç»„ä»¶æŒ‚è½½æ—¥å¿—ï¼Œæ— å¸è½½æ—¥å¿—ï¼Œè¯æ˜ç»„ä»¶å§‹ç»ˆå­˜åœ¨ã€‚</li>
</ul>
<h5 data-id="heading-19">ï¼ˆ2ï¼‰ç”¨æˆ·ä½“éªŒ</h5>
<ul>
<li>åˆ‡æ¢æ— å»¶è¿Ÿï¼ŒçŠ¶æ€æ— ç¼è¡”æ¥ï¼›</li>
<li>é¿å…é‡å¤æ‰§è¡Œ <code>useEffect</code> ä¸­çš„é€»è¾‘ï¼ˆå¦‚æ¥å£è¯·æ±‚ï¼‰ï¼Œæå‡æ€§èƒ½ï¼›</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02ac2def766c4d428fa6efc0df4e1d97~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGlhb3h1ZV8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770370996&amp;x-signature=nniOvf5UJsZhDge9KccOFxi6y%2Bw%3D" alt="QQ20260130-172541.gif" loading="lazy"/></p>
<h3 data-id="heading-20">äº”ã€æ ¸å¿ƒçŸ¥è¯†ç‚¹æ¢³ç† ğŸ“š</h3>
<p>é€šè¿‡æ‰‹å†™ <code>KeepAlive</code> ç»„ä»¶ï¼Œæˆ‘ä»¬æŒæ¡äº†è¿™äº›å…³é”®çŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li><strong>React Hooks å®æˆ˜</strong>ï¼š<code>useState</code> ç®¡ç†ç¼“å­˜çŠ¶æ€ï¼Œ<code>useEffect</code> ç›‘å¬ä¾èµ–æ›´æ–°ï¼Œå‡½æ•°å¼æ›´æ–°é¿å…çŠ¶æ€è¦†ç›–ï¼›</li>
<li><strong>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸæ§åˆ¶</strong>ï¼šé€šè¿‡ <code>display</code> æ ·å¼æ§åˆ¶ç»„ä»¶æ˜¾éšï¼Œæ›¿ä»£æŒ‚è½½ / å¸è½½ï¼Œä»è€Œä¿ç•™çŠ¶æ€ï¼›</li>
<li><strong>æ•°æ®ç»“æ„åº”ç”¨</strong>ï¼šå¯¹è±¡ä½œä¸ºç¼“å­˜å®¹å™¨ï¼Œ<code>Object.entries</code> å®ç°å¯¹è±¡éå†ï¼›</li>
<li><strong>Props ä¼ é€’ä¸å¤ç”¨</strong>ï¼š<code>children</code> props è®© <code>KeepAlive</code> ç»„ä»¶é€šç”¨åŒ–ï¼Œæ”¯æŒä»»æ„å­ç»„ä»¶ç¼“å­˜ï¼›</li>
<li><strong>çŠ¶æ€ç®¡ç†æ€è·¯</strong>ï¼šä»¥å”¯ä¸€æ ‡è¯†ï¼ˆ<code>activeId</code>ï¼‰å…³è”ç»„ä»¶ï¼Œç¡®ä¿ç¼“å­˜çš„å‡†ç¡®æ€§å’Œå”¯ä¸€æ€§ï¼›</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–æŠ€å·§</strong>ï¼šé¿å…ç»„ä»¶é¢‘ç¹æŒ‚è½½ / å¸è½½ï¼Œå‡å°‘ DOM æ“ä½œå’Œèµ„æºæ¶ˆè€—ï¼›</li>
<li><strong>ç»„ä»¶è®¾è®¡åŸåˆ™</strong>ï¼šé€šç”¨ã€ä½ä¾µå…¥ã€æ˜“æ‰©å±•ï¼Œä¸ä¿®æ”¹å­ç»„ä»¶é€»è¾‘å³å¯å®ç°ç¼“å­˜åŠŸèƒ½ã€‚</li>
</ol>
<p>è¡¥å……ï¼š Map ä¸ JSON çš„åŒºåˆ« â€”â€”Map å¯ä»¥ç›´æ¥å­˜å‚¨å¯¹è±¡ä½œä¸º keyï¼Œè€Œ JSON åªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ã€‚å¦‚æœéœ€è¦ç¼“å­˜ä»¥å¯¹è±¡ä¸ºæ ‡è¯†çš„ç»„ä»¶ï¼Œå¯å°† <code>cache</code> æ”¹ä¸º Map ç±»å‹ï¼Œä¼˜åŒ–å¦‚ä¸‹ï¼š</p>
<p>jsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ç”¨ Map æ›¿ä»£å¯¹è±¡ä½œä¸ºç¼“å­˜å®¹å™¨</span>
<span class="hljs-keyword">const</span> [cache, setCache] = <span class="hljs-title function_">useState</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>());

<span class="hljs-comment">// æ›´æ–°ç¼“å­˜</span>
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">if</span> (!cache.<span class="hljs-title function_">has</span>(activeId)) {
    <span class="hljs-title function_">setCache</span>(<span class="hljs-function">(<span class="hljs-params">prev</span>) =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(prev).<span class="hljs-title function_">set</span>(activeId, children));
  }
}, [activeId, children, cache]);

<span class="hljs-comment">// éå†ç¼“å­˜</span>
<span class="hljs-keyword">return</span> (
  <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
    {Array.from(cache.entries()).map(([id, component]) =&gt; (
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{id}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">display:</span> <span class="hljs-attr">id</span> === <span class="hljs-string">activeId</span> ? '<span class="hljs-attr">block</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">none</span>' }}&gt;</span>
        {component}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    ))}
  <span class="hljs-tag">&lt;/&gt;</span></span>
);
</code></pre>
<h3 data-id="heading-21">å…­ã€ç»“è¯­ ğŸ‰</h3>
<p>æ‰‹å†™ <code>Keep-Alive</code> ç»„ä»¶çœ‹ä¼¼ç®€å•ï¼Œå´æ¶µç›–äº† React ç»„ä»¶è®¾è®¡ã€çŠ¶æ€ç®¡ç†ã€æ€§èƒ½ä¼˜åŒ–ç­‰å¤šä¸ªæ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ â€œç¼“å­˜ + æ˜¾éšæ§åˆ¶â€ï¼Œé€šè¿‡å·§å¦™çš„çŠ¶æ€ç®¡ç†é¿å…ç»„ä»¶å¸è½½ï¼Œä»è€Œä¿ç•™çŠ¶æ€ã€‚</p>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºè¿™ä¸ªåŸºç¡€ç‰ˆæœ¬æ‰©å±•æ›´å¤šåŠŸèƒ½ï¼šæ¯”å¦‚è®¾ç½®ç¼“å­˜ä¸Šé™ï¼ˆé¿å…å†…å­˜æº¢å‡ºï¼‰ã€æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜ã€æ”¯æŒè·¯ç”±çº§ç¼“å­˜ç­‰ã€‚æŒæ¡äº†è¿™ä¸ªç»„ä»¶çš„å®ç°é€»è¾‘ï¼Œä½ ä¸ä»…èƒ½è§£å†³å®é™…å¼€å‘ä¸­çš„çŠ¶æ€ä¿ç•™é—®é¢˜ï¼Œè¿˜èƒ½æ›´æ·±å…¥ç†è§£ React ç»„ä»¶çš„æ¸²æŸ“æœºåˆ¶å’Œç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸¦ä½ åƒé€ <code>Keep-Alive</code> ç»„ä»¶çš„æ ¸å¿ƒåŸç†ï¼Œä¸‹æ¬¡é‡åˆ°ç±»ä¼¼éœ€æ±‚æ—¶ï¼Œä¹Ÿèƒ½ä»å®¹æ‰‹å†™å®ç°ï¼å¦‚æœè§‰å¾—æœ‰æ”¶è·ï¼Œæ¬¢è¿ç‚¹èµæ”¶è—ï¼Œä¸€èµ·æ¢ç´¢ React çš„æ›´å¤šå®æˆ˜æŠ€å·§å§ï½ ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AI æ—¶ä»£æ“ä½œ GitHub çš„ä¸‰ç§æ–¹å¼ï¼Œç”¨è¿‡çš„éƒ½è¯´é¦™]]></title>    <link>https://juejin.cn/post/7600678255042707465</link>    <guid>https://juejin.cn/post/7600678255042707465</guid>    <pubDate>2026-01-30T07:28:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600678255042707465" data-draft-id="7600990891206115355" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AI æ—¶ä»£æ“ä½œ GitHub çš„ä¸‰ç§æ–¹å¼ï¼Œç”¨è¿‡çš„éƒ½è¯´é¦™"/> <meta itemprop="keywords" content="GitHub"/> <meta itemprop="datePublished" content="2026-01-30T07:28:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="aZheçš„å…¨æ ˆçŸ¥è¯†åˆ†äº«"/> <meta itemprop="url" content="https://juejin.cn/user/1039471959105228"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AI æ—¶ä»£æ“ä½œ GitHub çš„ä¸‰ç§æ–¹å¼ï¼Œç”¨è¿‡çš„éƒ½è¯´é¦™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1039471959105228/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    aZheçš„å…¨æ ˆçŸ¥è¯†åˆ†äº«
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T07:28:22.000Z" title="Fri Jan 30 2026 07:28:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    20
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸€å¥è¯æ¨é€ä»£ç åˆ° GitHubï¼Œä¸€æ¬¡é…ç½®æ°¸ä¹…ä½¿ç”¨ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">æ ¸å¿ƒä»·å€¼</h2>
<p><strong>ä¼ ç»Ÿæ–¹å¼</strong>ï¼šæ‰“å¼€æµè§ˆå™¨ â†’ ç™»å½• GitHub â†’ åˆ›å»ºä»“åº“ â†’ å¤åˆ¶åœ°å€ â†’ git remote add â†’ git push</p>
<p><strong>ç°åœ¨åªéœ€è¦</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">ä½ ï¼šå¸®æˆ‘æŠŠè¿™ä¸ªé¡¹ç›®æ¨é€åˆ° GitHub
AIï¼šå¥½çš„ï¼Œå·²å®Œæˆã€‚ä»“åº“åœ°å€ï¼šhttps:<span class="hljs-comment">//github.com/xxx/xxx</span>
</code></pre>
<p><strong>è€Œä¸”</strong>ï¼šç¬¬ä¸€æ¬¡é…ç½®åï¼Œä»¥åæ‰€æœ‰é¡¹ç›®éƒ½ä¸éœ€è¦å†è®¤è¯ï¼Œç›´æ¥æ¨é€ã€‚</p>
<hr/>
<h2 data-id="heading-1">å¿«é€Ÿå¼€å§‹ï¼ˆ3 åˆ†é’Ÿä¸Šæ‰‹ï¼‰</h2>
<h3 data-id="heading-2">ç¬¬ä¸€æ­¥ï¼šå®‰è£…å·¥å…·</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£… GitHub CLI</span>
brew install gh

<span class="hljs-comment"># å®‰è£… Claude Code</span>
npm install -g @anthropic-ai/claude-code
</code></pre>
<h3 data-id="heading-3">ç¬¬äºŒæ­¥ï¼šç™»å½• GitHubï¼ˆä»…éœ€ä¸€æ¬¡ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">gh auth login
</code></pre>
<p>æŒ‰æç¤ºåœ¨æµè§ˆå™¨å®Œæˆè®¤è¯ã€‚<strong>è¿™æ˜¯å”¯ä¸€éœ€è¦æ‰‹åŠ¨æ“ä½œçš„æ­¥éª¤ï¼Œè€Œä¸”åªéœ€è¦åšä¸€æ¬¡ã€‚</strong></p>
<h3 data-id="heading-4">ç¬¬ä¸‰æ­¥ï¼šå¼€å§‹ä½¿ç”¨</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> your-project    <span class="hljs-comment"># è¿›å…¥ä»»æ„é¡¹ç›®</span>
claude             <span class="hljs-comment"># å¯åŠ¨ AI åŠ©æ‰‹</span>
</code></pre>
<p>ç„¶åç›´æ¥è¯´ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-string">"å¸®æˆ‘æŠŠè¿™ä¸ªé¡¹ç›®æ¨é€åˆ° GitHub"</span>
</code></pre>
<p>å®Œæˆã€‚ä»¥åä»»ä½•é¡¹ç›®ï¼Œé‡å¤ç¬¬ä¸‰æ­¥å³å¯ã€‚</p>
<hr/>
<h2 data-id="heading-5">ä¸€æ¬¡é…ç½®ï¼Œæ°¸ä¹…ä½¿ç”¨</h2>
<p>è¿™æ˜¯æœ¬æ–¹æ¡ˆæœ€å¤§çš„ä¼˜åŠ¿ï¼Œå€¼å¾—å•ç‹¬å¼ºè°ƒï¼š</p>





























<table><thead><tr><th>åœºæ™¯</th><th>æ“ä½œ</th></tr></thead><tbody><tr><td>ç¬¬ä¸€ä¸ªé¡¹ç›®</td><td>å®‰è£… gh CLI â†’ è®¤è¯ â†’ æ¨é€</td></tr><tr><td>ç¬¬äºŒä¸ªé¡¹ç›®</td><td>ç›´æ¥è¯´"å¸®æˆ‘æ¨é€åˆ° GitHub"</td></tr><tr><td>ç¬¬ä¸‰ä¸ªé¡¹ç›®</td><td>ç›´æ¥è¯´"å¸®æˆ‘æ¨é€åˆ° GitHub"</td></tr><tr><td>ç¬¬ N ä¸ªé¡¹ç›®</td><td>ç›´æ¥è¯´"å¸®æˆ‘æ¨é€åˆ° GitHub"</td></tr><tr><td>é‡å¯ç”µè„‘å</td><td>ç›´æ¥è¯´"å¸®æˆ‘æ¨é€åˆ° GitHub"</td></tr></tbody></table>
<p><strong>åŸç†</strong>ï¼šgh CLI çš„è®¤è¯ä¿¡æ¯å­˜å‚¨åœ¨ç³»ç»Ÿé’¥åŒ™ä¸²ä¸­ï¼Œå…¨å±€ç”Ÿæ•ˆï¼Œæ°¸ä¹…æœ‰æ•ˆã€‚</p>
<hr/>
<h2 data-id="heading-6">ä¸‰ç§æ–¹å¼å¯¹æ¯”</h2>
<p>æœ¬æ–‡ä»‹ç»ä¸‰ç§æ“ä½œ GitHub çš„æ–¹å¼ï¼Œ<strong>æ¨èç¬¬äºŒç§</strong>ï¼š</p>





























<table><thead><tr><th>æ–¹å¼</th><th>æ“ä½œæ–¹å¼</th><th>å­¦ä¹ æˆæœ¬</th><th>æ¨èåº¦</th></tr></thead><tbody><tr><td>GitHub CLI</td><td>æ‰‹åŠ¨æ•²å‘½ä»¤</td><td>éœ€è¦è®°å‘½ä»¤</td><td>ä¸€èˆ¬</td></tr><tr><td><strong>Claude Code + gh CLI</strong></td><td><strong>è¯´äººè¯</strong></td><td><strong>é›¶æˆæœ¬</strong></td><td><strong>å¼ºçƒˆæ¨è</strong></td></tr><tr><td>Claude Code + MCP</td><td>è¯´äººè¯</td><td>é…ç½®ç¨å¤æ‚</td><td>æ¨è</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-7">æ–¹å¼ä¸€ï¼šGitHub CLIï¼ˆåŸºç¡€ï¼‰</h2>
<p>GitHub CLI (gh) æ˜¯ GitHub å®˜æ–¹å‘½ä»¤è¡Œå·¥å…·ã€‚</p>
<h3 data-id="heading-8">å®‰è£…ä¸è®¤è¯</h3>
<pre><code class="hljs language-bash" lang="bash">brew install gh      <span class="hljs-comment"># å®‰è£…</span>
gh auth login        <span class="hljs-comment"># ç™»å½•ï¼ˆæŒ‰æç¤ºæ“ä½œï¼‰</span>
</code></pre>
<h3 data-id="heading-9">æ ¸å¿ƒå‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºä»“åº“å¹¶æ¨é€ï¼ˆæœ€å¸¸ç”¨ï¼‰</span>
gh repo create ä»“åº“å --public --<span class="hljs-built_in">source</span>=. --remote=github --push

<span class="hljs-comment"># å…¶ä»–å¸¸ç”¨å‘½ä»¤</span>
gh repo <span class="hljs-built_in">clone</span> owner/repo    <span class="hljs-comment"># å…‹éš†ä»“åº“</span>
gh <span class="hljs-built_in">pr</span> create                <span class="hljs-comment"># åˆ›å»º PR</span>
gh issue list               <span class="hljs-comment"># æŸ¥çœ‹ Issue</span>
</code></pre>
<h3 data-id="heading-10">å°ç»“</h3>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šå®˜æ–¹å·¥å…·ï¼ŒåŠŸèƒ½å®Œæ•´</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šéœ€è¦è®°ä½å‘½ä»¤å’Œå‚æ•°</li>
</ul>
<hr/>
<h2 data-id="heading-11">æ–¹å¼äºŒï¼šClaude Code + gh CLIï¼ˆæ¨èï¼‰</h2>
<p>ä¸æƒ³è®°å‘½ä»¤ï¼Ÿè®© AI å¸®ä½ æ‰§è¡Œã€‚</p>
<h3 data-id="heading-12">ä»€ä¹ˆæ˜¯ Claude Code</h3>
<p>Anthropic å®˜æ–¹å‘½ä»¤è¡Œ AI åŠ©æ‰‹ï¼š</p>
<ul>
<li>ç›´æ¥åœ¨ç»ˆç«¯ä¸ AI å¯¹è¯</li>
<li>AI å¯ä»¥æ‰§è¡Œå‘½ä»¤ã€è¯»å†™æ–‡ä»¶ã€æ“ä½œ Git</li>
<li>ç†è§£é¡¹ç›®ä¸Šä¸‹æ–‡</li>
</ul>
<h3 data-id="heading-13">å®‰è£…</h3>
<pre><code class="hljs language-bash" lang="bash">npm install -g @anthropic-ai/claude-code
</code></pre>
<h3 data-id="heading-14">å¦‚ä½•ä¸ Claude äº¤æµ</h3>
<p><strong>ç›´æ¥è¯´ç›®æ ‡ï¼ˆæ¨èï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-string">"å¸®æˆ‘æŠŠè¿™ä¸ªé¡¹ç›®æ¨é€åˆ° GitHub"</span>
</code></pre>
<p>Claude ä¼šè‡ªåŠ¨ï¼šæ£€æŸ¥ gh CLI â†’ æ£€æŸ¥è®¤è¯ â†’ åˆ›å»ºä»“åº“ â†’ æ¨é€ä»£ç </p>
<p><strong>æŒ‡å®šå·¥å…·</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-string">"ç”¨ gh cli åˆ›å»ºä¸€ä¸ª GitHub ä»“åº“å¹¶æ¨é€"</span>
</code></pre>
<p><strong>åˆ†æ­¥æ‰§è¡Œ</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-string">"å¸®æˆ‘å®‰è£… GitHub CLI"</span>
<span class="hljs-string">"å¸®æˆ‘ç™»å½• GitHub"</span>
<span class="hljs-string">"å¸®æˆ‘åˆ›å»ºä»“åº“å¹¶æ¨é€"</span>
</code></pre>
<h3 data-id="heading-15">å®é™…å¯¹è¯æ¼”ç¤º</h3>
<p>ä»¥ä¸‹æ˜¯æœ¬æ–‡çš„çœŸå®æ“ä½œè®°å½•ï¼š</p>
<hr/>
<p><strong>æˆ‘</strong>ï¼šå¸®æˆ‘æŠŠé¡¹ç›®æ¨é€åˆ° GitHub</p>
<p><strong>Claude</strong>ï¼šè®©æˆ‘å…ˆå®‰è£… gh CLIã€‚</p>
<pre><code class="hljs language-bash" lang="bash">brew install gh
</code></pre>
<p><strong>Claude</strong>ï¼šè¯·åœ¨æµè§ˆå™¨æ‰“å¼€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Flogin%2Fdevice" target="_blank" title="https://github.com/login/device" ref="nofollow noopener noreferrer">github.com/login/devicâ€¦</a> è¾“å…¥éªŒè¯ç ï¼š<code>9F6D-76C8</code></p>
<p><strong>æˆ‘</strong>ï¼šå¥½äº†</p>
<p><strong>Claude</strong>ï¼šè®¤è¯æˆåŠŸï¼Œæ­£åœ¨åˆ›å»ºä»“åº“å¹¶æ¨é€ã€‚</p>
<pre><code class="hljs language-bash" lang="bash">gh repo create azhe_project --public --<span class="hljs-built_in">source</span>=. --remote=github --push
</code></pre>
<p><strong>Claude</strong>ï¼šå®Œæˆï¼ä»“åº“åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2F15811079534%2Fazhe_project" target="_blank" title="https://github.com/15811079534/azhe_project" ref="nofollow noopener noreferrer">github.com/15811079534â€¦</a></p>
<hr/>
<h3 data-id="heading-16">æ›´å¤šåœºæ™¯</h3>
<pre><code class="hljs language-sql" lang="sql">"å¸®æˆ‘æäº¤ä»£ç "           â†’ AI è‡ªåŠ¨ <span class="hljs-keyword">add</span>ã€ç”Ÿæˆ <span class="hljs-keyword">commit</span> messageã€<span class="hljs-keyword">commit</span>
"å¸®æˆ‘åˆ›å»º PR"            â†’ AI æ‰§è¡Œ gh pr <span class="hljs-keyword">create</span>
"å¸®æˆ‘çœ‹çœ‹æœ‰å“ªäº› Issue"    â†’ AI æ‰§è¡Œ gh issue list å¹¶æ€»ç»“
"å¸®æˆ‘å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬"    â†’ AI æ‰§è¡Œ git revert
</code></pre>
<h3 data-id="heading-17">å°ç»“</h3>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šé›¶è®°å¿†è´Ÿæ‹…ï¼Œè¯´äººè¯å°±è¡Œï¼Œä¸€æ¬¡é…ç½®æ°¸ä¹…ä½¿ç”¨</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šéœ€è¦ Claude Code å’Œ API è®¿é—®</li>
</ul>
<hr/>
<h2 data-id="heading-18">æ–¹å¼ä¸‰ï¼šMCPï¼ˆè¿›é˜¶ï¼‰</h2>
<p>MCP (Model Context Protocol) è®© AI ç›´æ¥è°ƒç”¨ GitHub APIï¼Œè·³è¿‡å‘½ä»¤è¡Œã€‚</p>
<h3 data-id="heading-19">ä¸ gh CLI çš„åŒºåˆ«</h3>
<pre><code class="hljs language-objectivec" lang="objectivec">gh <span class="hljs-built_in">CLI</span> æ–¹å¼ï¼šAI â†’ shell å‘½ä»¤ â†’ gh <span class="hljs-built_in">CLI</span> â†’ GitHub API
MCP æ–¹å¼ï¼š  AI â†’ MCP Server â†’ GitHub APIï¼ˆæ›´ç›´æ¥ï¼‰
</code></pre>
<h3 data-id="heading-20">é…ç½®æ­¥éª¤</h3>
<p><strong>1. åˆ›å»º GitHub Token</strong></p>
<p>æ‰“å¼€ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fsettings%2Ftokens" target="_blank" title="https://github.com/settings/tokens" ref="nofollow noopener noreferrer">github.com/settings/toâ€¦</a> â†’ Generate new token â†’ å‹¾é€‰ <code>repo</code> æƒé™</p>
<p><strong>2. é…ç½® Claude Code</strong></p>
<p>ç¼–è¾‘ <code>~/.claude/settings.json</code>ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"mcpServers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"github"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"command"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"npx"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"-y"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"@modelcontextprotocol/server-github"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"env"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"GITHUB_PERSONAL_ACCESS_TOKEN"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ghp_ä½ çš„token"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>3. é‡å¯ Claude Code</strong></p>
<h3 data-id="heading-21">é€‚ç”¨åœºæ™¯</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-string">"å¸®æˆ‘ fork è¿™ä¸ªä»“åº“"</span>
<span class="hljs-string">"å¸®æˆ‘çœ‹çœ‹ owner/repo çš„ README"</span>
<span class="hljs-string">"åœ¨ owner/repo åˆ›å»ºä¸€ä¸ª Issue"</span>
</code></pre>
<h3 data-id="heading-22">å°ç»“</h3>
<ul>
<li><strong>ä¼˜ç‚¹</strong>ï¼šç›´æ¥è°ƒç”¨ APIï¼Œé€Ÿåº¦å¿«ï¼Œé€‚åˆæ‰¹é‡æ“ä½œ</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šä¸æ”¯æŒæœ¬åœ° Git æ“ä½œï¼ˆpush/pullï¼‰ï¼Œé…ç½®è¾ƒå¤æ‚</li>
</ul>
<hr/>
<h2 data-id="heading-23">æ¨èæ–¹æ¡ˆ</h2>

























<table><thead><tr><th>ç”¨æˆ·ç±»å‹</th><th>æ¨èæ–¹å¼</th><th>ç†ç”±</th></tr></thead><tbody><tr><td><strong>å¤§å¤šæ•°å¼€å‘è€…</strong></td><td>Claude Code + gh CLI</td><td>ç®€å•ã€å®Œæ•´ã€ä¸€æ¬¡é…ç½®æ°¸ä¹…ä½¿ç”¨</td></tr><tr><td>å–œæ¬¢å‘½ä»¤è¡Œ</td><td>çº¯ gh CLI</td><td>ç²¾ç¡®æ§åˆ¶</td></tr><tr><td>æ‰¹é‡è¿œç¨‹æ“ä½œ</td><td>é¢å¤–é…ç½® MCP</td><td>é€Ÿåº¦æ›´å¿«</td></tr></tbody></table>
<p><strong>æœ¬æ–‡æ¨è</strong>ï¼šClaude Code + gh CLIï¼Œå…¼é¡¾æ˜“ç”¨æ€§å’ŒåŠŸèƒ½å®Œæ•´æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-24">æ€»ç»“</h2>
<p><strong>æ ¸å¿ƒæ”¶ç›Š</strong>ï¼š</p>
<ol>
<li>ä¸€å¥è¯æ¨é€ä»£ç åˆ° GitHub</li>
<li>ä¸€æ¬¡é…ç½®ï¼Œæ°¸ä¹…ä½¿ç”¨</li>
<li>ä¸ç”¨è®°ä»»ä½•å‘½ä»¤</li>
</ol>
<p><strong>è¡ŒåŠ¨æ­¥éª¤</strong>ï¼š</p>
<ol>
<li><code>brew install gh</code> - å®‰è£… GitHub CLI</li>
<li><code>gh auth login</code> - ç™»å½•ï¼ˆä»…æ­¤ä¸€æ¬¡ï¼‰</li>
<li><code>npm install -g @anthropic-ai/claude-code</code> - å®‰è£… Claude Code</li>
<li>ä»¥åä»»ä½•é¡¹ç›®ï¼Œç›´æ¥è¯´"å¸®æˆ‘æ¨é€åˆ° GitHub"</li>
</ol>
<p>å°±è¿™ä¹ˆç®€å•ã€‚</p>
<hr/>
<h2 data-id="heading-25">å‚è€ƒé“¾æ¥</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcli.github.com%2Fmanual%2F" target="_blank" title="https://cli.github.com/manual/" ref="nofollow noopener noreferrer">GitHub CLI å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.anthropic.com%2Fen%2Fdocs%2Fclaude-code" target="_blank" title="https://docs.anthropic.com/en/docs/claude-code" ref="nofollow noopener noreferrer">Claude Code å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2F" target="_blank" title="https://modelcontextprotocol.io/" ref="nofollow noopener noreferrer">MCP å®˜æ–¹æ–‡æ¡£</a></li>
</ul>
<hr/>
<blockquote>
<p>ä½œè€…ï¼šaZhe
å¦‚æœ‰é—®é¢˜æ¬¢è¿ç•™è¨€äº¤æµ</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥è§£æWindows OLEé«˜å±æ¼æ´CVE-2025-21298ï¼šé›¶ç‚¹å‡»è¿œç¨‹ä»£ç æ‰§è¡Œ]]></title>    <link>https://juejin.cn/post/7600764857770164274</link>    <guid>https://juejin.cn/post/7600764857770164274</guid>    <pubDate>2026-01-30T07:32:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600764857770164274" data-draft-id="7600764857770115122" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥è§£æWindows OLEé«˜å±æ¼æ´CVE-2025-21298ï¼šé›¶ç‚¹å‡»è¿œç¨‹ä»£ç æ‰§è¡Œ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2026-01-30T07:32:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="qife122"/> <meta itemprop="url" content="https://juejin.cn/user/1743174852185579"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥è§£æWindows OLEé«˜å±æ¼æ´CVE-2025-21298ï¼šé›¶ç‚¹å‡»è¿œç¨‹ä»£ç æ‰§è¡Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1743174852185579/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    qife122
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T07:32:08.000Z" title="Fri Jan 30 2026 07:32:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">CVE-2025-21298 â€“ Microsoft Windows OLEé›¶ç‚¹å‡»è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´åˆ†æ</h2>
<h3 data-id="heading-1">ğŸ“Œ é¡¹ç›®æ¦‚è¿°</h3>
<p>æœ¬åˆ†ææŠ¥å‘Šè¯¦ç»†å‰–æäº†Microsoft Windows OLEç»„ä»¶ä¸­çš„ä¸€ä¸ªä¸¥é‡å®‰å…¨æ¼æ´CVE-2025-21298ã€‚è¯¥æ¼æ´å­˜åœ¨äº<code>ole32.dll</code>åº“çš„<code>UtOlePresStmToContentsStm</code>å‡½æ•°ä¸­ï¼Œæ˜¯ä¸€ä¸ªåŒé‡é‡Šæ”¾å†…å­˜ç ´åæ¼æ´ã€‚æ”»å‡»è€…é€šè¿‡ç‰¹åˆ¶çš„RTFæ–‡ä»¶ï¼Œå¯åœ¨å—å®³è€…é¢„è§ˆé‚®ä»¶æ—¶è§¦å‘æ¼æ´ï¼Œå®ç°é›¶ç‚¹å‡»è¿œç¨‹ä»£ç æ‰§è¡Œã€‚</p>
<p><strong>å…³é”®ä¿¡æ¯ï¼š</strong></p>
<ul>
<li><strong>æ¼æ´ç±»å‹</strong>ï¼šåŒé‡é‡Šæ”¾å†…å­˜ç ´å</li>
<li><strong>å½±å“ç»„ä»¶</strong>ï¼šMicrosoft Windows OLE (Object Linking and Embedding) â€“ å…·ä½“åœ¨<code>ole32.dll</code></li>
<li><strong>å—å½±å“å‡½æ•°</strong>ï¼š<code>UtOlePresStmToContentsStm</code></li>
<li><strong>ä¸¥é‡ç­‰çº§</strong>ï¼šCVSS 3.1è¯„åˆ† <strong>9.8</strong> â€“ å…³é”®çº§</li>
<li><strong>æ”»å‡»å‘é‡</strong>ï¼šç‰¹åˆ¶RTFæ–‡ä»¶</li>
<li><strong>äº¤äº’éœ€æ±‚</strong>ï¼šé›¶ç‚¹å‡»ï¼ˆé¢„è§ˆæ—¶è§¦å‘ï¼‰</li>
<li><strong>ä¸»è¦ç›®æ ‡</strong>ï¼šOutlookç”¨æˆ·åŠå…¶ä»–æ”¯æŒOLEçš„åº”ç”¨ç¨‹åºï¼ˆå¦‚Wordï¼‰</li>
</ul>
<h3 data-id="heading-2">âš™ï¸ åŠŸèƒ½ç‰¹æ€§</h3>
<h4 data-id="heading-3">æ¼æ´åˆ†æåŠŸèƒ½</h4>
<ul>
<li><strong>å†…å­˜ç®¡ç†ç¼ºé™·è¯†åˆ«</strong>ï¼šåˆ†æWindows OLEç»„ä»¶åœ¨RTFæ–‡ä»¶å¤„ç†æ—¶çš„å†…å­˜ç®¡ç†é”™è¯¯</li>
<li><strong>åŒé‡é‡Šæ”¾è·¯å¾„è¿½è¸ª</strong>ï¼šè¯¦ç»†è¿½è¸ª<code>pstmContents</code>æŒ‡é’ˆåœ¨ç‰¹å®šæ¡ä»¶ä¸‹çš„åŒé‡é‡Šæ”¾è¿‡ç¨‹</li>
<li><strong>æ”»å‡»å‘é‡è¿˜åŸ</strong>ï¼šé‡æ„é€šè¿‡æ¶æ„RTFæ–‡ä»¶åˆ©ç”¨OLEç»“æ„çš„æŠ€æœ¯è·¯å¾„</li>
</ul>
<h4 data-id="heading-4">æŠ€æœ¯æ·±åº¦åˆ†æ</h4>
<ul>
<li><strong>é›¶ç‚¹å‡»æ¼æ´æœºåˆ¶</strong>ï¼šæ·±å…¥åˆ†ææ— éœ€ç”¨æˆ·äº¤äº’å³å¯è§¦å‘çš„æ¼æ´æ‰§è¡Œæœºåˆ¶</li>
<li><strong>é‚®ä»¶æ”»å‡»åœºæ™¯</strong>ï¼šé’ˆå¯¹Outlooké‚®ä»¶é¢„è§ˆåœºæ™¯çš„ä¸“é¡¹å®‰å…¨åˆ†æ</li>
<li><strong>ç³»ç»Ÿå…¼å®¹æ€§è¯„ä¼°</strong>ï¼šè¦†ç›–ä»Windows 10åˆ°Windows Server 2025çš„å¹¿æ³›ç³»ç»Ÿç‰ˆæœ¬</li>
</ul>
<h4 data-id="heading-5">å®‰å…¨ç ”ç©¶ä»·å€¼</h4>
<ul>
<li><strong>å®æˆ˜æ¼æ´ç ”ç©¶</strong>ï¼šçœŸå®ä¸–ç•Œä¸­çš„é«˜å±å®³é›¶ç‚¹å‡»æ¼æ´åˆ†ææ¡ˆä¾‹</li>
<li><strong>è¡¥ä¸å½±å“è¯„ä¼°</strong>ï¼šåˆ†æå¾®è½¯2025å¹´1æœˆå®‰å…¨æ›´æ–°çš„ä¿®å¤æ•ˆæœ</li>
<li><strong>ä¼ä¸šçº§é˜²æŠ¤å»ºè®®</strong>ï¼šæä¾›å¤šå±‚æ¬¡çš„ç¼“è§£æªæ–½å’Œé˜²æŠ¤ç­–ç•¥</li>
</ul>
<h3 data-id="heading-6">ğŸ’» å®‰è£…ä¸è¿è¡Œ</h3>
<h4 data-id="heading-7">ç¯å¢ƒè¦æ±‚</h4>
<ul>
<li><strong>æ“ä½œç³»ç»Ÿ</strong>ï¼šå—å½±å“ç‰ˆæœ¬çš„Windowsç³»ç»Ÿï¼ˆç”¨äºéªŒè¯åˆ†æï¼‰</li>
<li><strong>åˆ†æå·¥å…·</strong>ï¼š
<ul>
<li>IDA Proæˆ–Ghidraï¼ˆåæ±‡ç¼–åˆ†æï¼‰</li>
<li>WinDbgæˆ–x64dbgï¼ˆåŠ¨æ€è°ƒè¯•ï¼‰</li>
<li>RTFæ–‡ä»¶åˆ†æå·¥å…·</li>
</ul>
</li>
<li><strong>å®‰å…¨ç¯å¢ƒ</strong>ï¼šå»ºè®®åœ¨éš”ç¦»çš„è™šæ‹Ÿç¯å¢ƒä¸­è¿›è¡Œåˆ†æ</li>
</ul>
<h4 data-id="heading-8">é…ç½®è¯´æ˜</h4>
<ol>
<li>
<p><strong>è·å–å—å½±å“ç»„ä»¶</strong>ï¼š</p>
<ul>
<li>ä»å—å½±å“Windowsç‰ˆæœ¬æå–<code>ole32.dll</code>æ–‡ä»¶</li>
<li>ç¡®ä¿è·å–æ­£ç¡®ç‰ˆæœ¬ä»¥åŒ¹é…æ¼æ´å­˜åœ¨æ¡ä»¶</li>
</ul>
</li>
<li>
<p><strong>è®¾ç½®åˆ†æç¯å¢ƒ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºéš”ç¦»çš„æµ‹è¯•ç¯å¢ƒ</span>
<span class="hljs-comment"># å®‰è£…å¿…è¦çš„è°ƒè¯•å’Œåˆ†æå·¥å…·</span>
</code></pre>
</li>
<li>
<p><strong>å‡†å¤‡æµ‹è¯•ç”¨ä¾‹</strong>ï¼š</p>
<ul>
<li>æ„é€ ç¬¦åˆæ¼æ´è§¦å‘æ¡ä»¶çš„RTFæ ·æœ¬æ–‡ä»¶</li>
<li>é…ç½®Outlookæˆ–å…¶ä»–OLEåº”ç”¨ä½œä¸ºæµ‹è¯•ç›®æ ‡</li>
</ul>
</li>
</ol>
<h3 data-id="heading-9">ğŸ“– ä½¿ç”¨è¯´æ˜</h3>
<h4 data-id="heading-10">æ¼æ´å¤ç°æ­¥éª¤</h4>
<ol>
<li>
<p><strong>é™æ€åˆ†æé˜¶æ®µ</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># ä½¿ç”¨åæ±‡ç¼–å·¥å…·åˆ†æole32.dll</span>
<span class="hljs-comment"># é‡ç‚¹æŸ¥çœ‹UtOlePresStmToContentsStmå‡½æ•°</span>
function_analysis = analyze_function(<span class="hljs-string">"UtOlePresStmToContentsStm"</span>)

<span class="hljs-comment"># è¯†åˆ«å†…å­˜ç®¡ç†ç›¸å…³æ“ä½œ</span>
memory_operations = find_memory_management_patterns()

<span class="hljs-comment"># æ ‡è®°æ½œåœ¨çš„é‡Šæ”¾æ“ä½œç‚¹</span>
free_points = identify_free_operations()
</code></pre>
</li>
<li>
<p><strong>åŠ¨æ€è°ƒè¯•é˜¶æ®µ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é™„åŠ åˆ°ç›®æ ‡è¿›ç¨‹ï¼ˆå¦‚Outlookï¼‰</span>
windbg -p &lt;outlook_pid&gt;

<span class="hljs-comment"># è®¾ç½®æ–­ç‚¹åœ¨å…³é”®å‡½æ•°</span>
bp ole32!UtOlePresStmToContentsStm

<span class="hljs-comment"># ç›‘æ§å†…å­˜åˆ†é…å’Œé‡Šæ”¾</span>
!heap -<span class="hljs-built_in">stat</span>
</code></pre>
</li>
<li>
<p><strong>æ”»å‡»å‘é‡æ„å»º</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ„å»ºæ¶æ„RTFæ–‡ä»¶ç»“æ„</span>
rtf_structure = {
    <span class="hljs-string">"ole_object"</span>: {
        <span class="hljs-string">"pres_stream"</span>: <span class="hljs-string">"malicious_data"</span>,
        <span class="hljs-string">"contents_stream"</span>: <span class="hljs-string">"exploit_payload"</span>
    },
    <span class="hljs-string">"trigger_conditions"</span>: <span class="hljs-string">"double_free_trigger"</span>
}

<span class="hljs-comment"># åµŒå…¥åˆ°é‚®ä»¶ä¸­æµ‹è¯•</span>
test_email = create_email_with_rtf_attachment(rtf_structure)
</code></pre>
</li>
</ol>
<h4 data-id="heading-11">å…¸å‹åº”ç”¨åœºæ™¯</h4>
<ul>
<li><strong>å®‰å…¨ç ”ç©¶äººå‘˜</strong>ï¼šç”¨äºç†è§£Windows OLEå®‰å…¨æœºåˆ¶å’Œæ¼æ´æ¨¡å¼</li>
<li><strong>ä¼ä¸šå®‰å…¨å›¢é˜Ÿ</strong>ï¼šè¯„ä¼°å†…éƒ¨ç³»ç»Ÿçš„æ¼æ´é£é™©å’Œåˆ¶å®šé˜²æŠ¤ç­–ç•¥</li>
<li><strong>æ¼æ´æŒ–æ˜è€…</strong>ï¼šå­¦ä¹ ç±»ä¼¼æ¼æ´çš„å‘ç°å’Œåˆ†ææ–¹æ³•</li>
</ul>
<h3 data-id="heading-12">ğŸ” æ ¸å¿ƒä»£ç åˆ†æ</h3>
<h4 data-id="heading-13">æ¼æ´å‡½æ•°åˆ†æ</h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ole32.dllä¸­çš„æ¼æ´å‡½æ•°ç‰‡æ®µ</span>
<span class="hljs-function">HRESULT <span class="hljs-title">UtOlePresStmToContentsStm</span><span class="hljs-params">(IStream *pstmPres, IStream **ppstmContents)</span>
</span>{
    HRESULT hr = S_OK;
    <span class="hljs-comment">// ... åˆå§‹åŒ–ä»£ç </span>
    
    <span class="hljs-comment">// æ¼æ´ç‚¹ï¼špstmContentsçš„å†…å­˜ç®¡ç†é”™è¯¯</span>
    <span class="hljs-keyword">if</span> (pstmPres != <span class="hljs-literal">NULL</span>)
    {
        <span class="hljs-comment">// ç¬¬ä¸€æ¬¡å†…å­˜åˆ†é…æˆ–è·å–</span>
        *ppstmContents = <span class="hljs-built_in">allocate_or_get_stream</span>();
        
        <span class="hljs-comment">// æŸäº›é”™è¯¯å¤„ç†è·¯å¾„å¯èƒ½å¯¼è‡´åŒé‡é‡Šæ”¾</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">FAILED</span>(hr))
        {
            <span class="hljs-comment">// é”™è¯¯å¤„ç†ï¼šå¯èƒ½é‡Šæ”¾ppstmContents</span>
            <span class="hljs-keyword">if</span> (*ppstmContents != <span class="hljs-literal">NULL</span>)
            {
                <span class="hljs-comment">// ç¬¬ä¸€ä¸ªé‡Šæ”¾ç‚¹</span>
                (*ppstmContents)-&gt;<span class="hljs-built_in">Release</span>();
                *ppstmContents = <span class="hljs-literal">NULL</span>;
            }
        }
    }
    
    <span class="hljs-comment">// åç»­ä»£ç ä¸­å¯èƒ½å­˜åœ¨å¦ä¸€ä¸ªé‡Šæ”¾æ“ä½œ</span>
    <span class="hljs-keyword">if</span> (some_condition)
    {
        <span class="hljs-comment">// ç¬¬äºŒä¸ªé‡Šæ”¾ç‚¹ï¼ˆæ¼æ´è§¦å‘ï¼‰</span>
        <span class="hljs-keyword">if</span> (*ppstmContents != <span class="hljs-literal">NULL</span>)
        {
            (*ppstmContents)-&gt;<span class="hljs-built_in">Release</span>();  <span class="hljs-comment">// åŒé‡é‡Šæ”¾å‘ç”Ÿï¼</span>
            *ppstmContents = <span class="hljs-literal">NULL</span>;
        }
    }
    
    <span class="hljs-keyword">return</span> hr;
}
</code></pre>
<h4 data-id="heading-14">RTFæ–‡ä»¶è§£æå…³é”®ä»£ç </h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// RTFè§£æä¸­çš„OLEå¯¹è±¡å¤„ç†</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">ProcessOLEObjectInRTF</span><span class="hljs-params">(<span class="hljs-type">const</span> RTF_DOCUMENT *doc, OLE_OBJECT *obj)</span>
</span>{
    <span class="hljs-comment">// è§£æOLEç›¸å…³æµæ•°æ®</span>
    STREAM *presStream = <span class="hljs-built_in">FindStream</span>(doc, <span class="hljs-string">"\\objupdate"</span>);
    STREAM *contentsStream = <span class="hljs-built_in">FindStream</span>(doc, <span class="hljs-string">"\\objdata"</span>);
    
    <span class="hljs-comment">// è°ƒç”¨æ¼æ´å‡½æ•°</span>
    IStream *pstmContents = <span class="hljs-literal">NULL</span>;
    HRESULT hr = <span class="hljs-built_in">UtOlePresStmToContentsStm</span>(presStream, &amp;pstmContents);
    
    <span class="hljs-comment">// å¤„ç†ç»“æœ</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">SUCCEEDED</span>(hr) &amp;&amp; pstmContents != <span class="hljs-literal">NULL</span>)
    {
        <span class="hljs-comment">// æ­£å¸¸å¤„ç†å†…å®¹æµ</span>
        <span class="hljs-built_in">ProcessContentsStream</span>(pstmContents);
        
        <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œåº”è¯¥æœ‰é€‚å½“çš„é‡Šæ”¾</span>
        pstmContents-&gt;<span class="hljs-built_in">Release</span>();
    }
    
    <span class="hljs-comment">// é—®é¢˜ï¼šåœ¨æŸäº›é”™è¯¯è·¯å¾„ä¸‹ï¼Œå¯èƒ½å¯¼è‡´pstmContentsè¢«å¤šæ¬¡é‡Šæ”¾</span>
}
</code></pre>
<h4 data-id="heading-15">å†…å­˜ç®¡ç†è·Ÿè¸ªä»£ç </h4>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-comment">// ç”¨äºè·Ÿè¸ªå†…å­˜æ“ä½œçš„è¾…åŠ©å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">TrackMemoryOperation</span><span class="hljs-params">(<span class="hljs-type">void</span> *ptr, <span class="hljs-type">const</span> <span class="hljs-type">char</span> *operation)</span>
</span>{
    <span class="hljs-type">static</span> std::map&lt;<span class="hljs-type">void</span>*, <span class="hljs-type">int</span>&gt; allocation_count;
    
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(operation, <span class="hljs-string">"allocate"</span>) == <span class="hljs-number">0</span>)
    {
        allocation_count[ptr] = <span class="hljs-number">1</span>;
        <span class="hljs-built_in">Log</span>(<span class="hljs-string">"Allocated: %p"</span>, ptr);
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(operation, <span class="hljs-string">"release"</span>) == <span class="hljs-number">0</span>)
    {
        <span class="hljs-keyword">if</span> (allocation_count.<span class="hljs-built_in">find</span>(ptr) != allocation_count.<span class="hljs-built_in">end</span>())
        {
            <span class="hljs-keyword">if</span> (allocation_count[ptr] == <span class="hljs-number">0</span>)
            {
                <span class="hljs-comment">// æ£€æµ‹åˆ°åŒé‡é‡Šæ”¾ï¼</span>
                <span class="hljs-built_in">LogError</span>(<span class="hljs-string">"Double free detected: %p"</span>, ptr);
                <span class="hljs-comment">// è§¦å‘å´©æºƒæˆ–è®°å½•æ¼æ´</span>
                <span class="hljs-built_in">TriggerExploitCondition</span>();
            }
            <span class="hljs-keyword">else</span>
            {
                allocation_count[ptr]--;
            }
        }
    }
}
</code></pre>
<h4 data-id="heading-16">æ¼æ´è§¦å‘æ¡ä»¶æ¨¡æ‹Ÿ</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CVE202521298Exploit</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.rtf_template = <span class="hljs-string">"""{\\rtf1\\ansi\\ansicpg1252
\\objupdate
{\\*\\oleobj
\\objemb
{\\*\\objdata
%s
}
}}"""</span>
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_exploit_payload</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ„é€ è§¦å‘åŒé‡é‡Šæ”¾çš„æ¶æ„æ•°æ®"""</span>
        payload = {
            <span class="hljs-string">'pres_stream_data'</span>: self.craft_pres_stream(),
            <span class="hljs-string">'contents_stream_data'</span>: self.craft_contents_stream(),
            <span class="hljs-string">'trigger_sequence'</span>: self.generate_trigger_sequence()
        }
        
        <span class="hljs-comment"># ç¡®ä¿æ•°æ®æ ¼å¼èƒ½è§¦å‘ç‰¹å®šçš„ä»£ç è·¯å¾„</span>
        <span class="hljs-keyword">return</span> self.format_for_rtf(payload)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">craft_pres_stream</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""æ„é€ Presentation Streamæ•°æ®"""</span>
        <span class="hljs-comment"># è®¾è®¡ç‰¹å®šçš„æ•°æ®æ ¼å¼å’Œå¤§å°</span>
        <span class="hljs-comment"># ä»¥æ§åˆ¶å†…å­˜åˆ†é…å’Œé‡Šæ”¾çš„æ—¶æœº</span>
        stream_data = <span class="hljs-string">b'\x00'</span> * <span class="hljs-number">512</span>  <span class="hljs-comment"># ç‰¹å®šå¤§å°</span>
        
        <span class="hljs-comment"># æ·»åŠ æ§åˆ¶ä¿¡æ¯ä»¥å½±å“æ‰§è¡Œæµç¨‹</span>
        control_info = struct.pack(<span class="hljs-string">'&lt;I'</span>, <span class="hljs-number">0xDEADBEEF</span>)
        stream_data += control_info
        
        <span class="hljs-keyword">return</span> stream_data
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_trigger_sequence</span>(<span class="hljs-params">self</span>):
        <span class="hljs-string">"""ç”Ÿæˆè§¦å‘åŒé‡é‡Šæ”¾çš„æ“ä½œåºåˆ—"""</span>
        <span class="hljs-comment"># æ§åˆ¶RTFè§£æå™¨æ‰§è¡Œç‰¹å®šè·¯å¾„</span>
        <span class="hljs-comment"># ä½¿å¾—pstmContentsè¢«å¤šæ¬¡é‡Šæ”¾</span>
        trigger = []
        
        <span class="hljs-comment"># ç¬¬ä¸€æ¬¡æ“ä½œï¼šæ­£å¸¸åˆ†é…</span>
        trigger.append((<span class="hljs-string">'allocate'</span>, <span class="hljs-string">'pstmContents'</span>))
        
        <span class="hljs-comment"># è§¦å‘é”™è¯¯æ¡ä»¶</span>
        trigger.append((<span class="hljs-string">'error'</span>, <span class="hljs-string">'stream_parse'</span>))
        
        <span class="hljs-comment"># é”™è¯¯å¤„ç†ä¸­çš„é‡Šæ”¾</span>
        trigger.append((<span class="hljs-string">'release'</span>, <span class="hljs-string">'pstmContents'</span>))
        
        <span class="hljs-comment"># åç»­æ“ä½œä¸­çš„å†æ¬¡é‡Šæ”¾</span>
        trigger.append((<span class="hljs-string">'release'</span>, <span class="hljs-string">'pstmContents'</span>))
        
        <span class="hljs-keyword">return</span> trigger
</code></pre>
<h3 data-id="heading-17">ğŸ“Š å½±å“ç³»ç»Ÿç‰ˆæœ¬</h3>
<h4 data-id="heading-18">å—å½±å“æ“ä½œç³»ç»Ÿ</h4>
<ul>
<li><strong>Windows 10</strong>ï¼šç‰ˆæœ¬1507è‡³22H2</li>
<li><strong>Windows 11</strong>ï¼šæ‰€æœ‰ç‰ˆæœ¬è‡³24H2</li>
<li><strong>Windows Server</strong>ï¼š
<ul>
<li>2008, 2008 R2</li>
<li>2012, 2012 R2</li>
<li>2016, 2019, 2022, 2025</li>
</ul>
</li>
</ul>
<h3 data-id="heading-19">ğŸ›¡ï¸ ç¼“è§£æªæ–½</h3>
<h4 data-id="heading-20">1. å®˜æ–¹ä¿®å¤</h4>
<ul>
<li><strong>å®‰è£…å¾®è½¯2025å¹´1æœˆå®‰å…¨æ›´æ–°</strong>ï¼šå®Œå…¨ä¿®å¤æ­¤æ¼æ´</li>
<li>é€šè¿‡Windows Updateè·å–æœ€æ–°è¡¥ä¸</li>
</ul>
<h4 data-id="heading-21">2. ä¸´æ—¶é˜²æŠ¤æªæ–½</h4>
<ul>
<li>
<p><strong>é…ç½®Outlookä»¥çº¯æ–‡æœ¬æ˜¾ç¤ºé‚®ä»¶</strong>ï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell"># ç»„ç­–ç•¥æˆ–æ³¨å†Œè¡¨è®¾ç½®
Set-ItemProperty -Path "HKCU:\Software\Microsoft\Office\16.0\Outlook\Options\Mail" -Name "ReadAsPlain" -Value 1
</code></pre>
</li>
<li>
<p><strong>é˜»æ–­RTFé™„ä»¶</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‚®ä»¶ç½‘å…³è¿‡æ»¤è§„åˆ™</span>
block file-extension <span class="hljs-string">"rtf"</span>
block mime-type <span class="hljs-string">"application/rtf"</span>
</code></pre>
</li>
<li>
<p><strong>ç¦ç”¨OLEé¢„è§ˆåŠŸèƒ½</strong>ï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell"># é€šè¿‡ç»„ç­–ç•¥ç¦ç”¨Officeä¸­çš„OLEå¯¹è±¡é¢„è§ˆ
</code></pre>
</li>
</ul>
<h4 data-id="heading-22">3. ä¼ä¸šçº§é˜²æŠ¤ç­–ç•¥</h4>
<ul>
<li><strong>ç½‘ç»œå±‚é¢</strong>ï¼šåœ¨è¾¹ç•Œè®¾å¤‡è¿‡æ»¤RTFæ–‡ä»¶</li>
<li><strong>ç»ˆç«¯é˜²æŠ¤</strong>ï¼šéƒ¨ç½²å…·æœ‰å†…å­˜ä¿æŠ¤åŠŸèƒ½çš„ç«¯ç‚¹å®‰å…¨è§£å†³æ–¹æ¡ˆ</li>
<li><strong>ç”¨æˆ·æ•™è‚²</strong>ï¼šæé†’å‘˜å·¥ä¸é¢„è§ˆå¯ç–‘é‚®ä»¶</li>
<li><strong>ç›‘æ§æ£€æµ‹</strong>ï¼šéƒ¨ç½²é’ˆå¯¹å¼‚å¸¸OLEæ“ä½œçš„ç›‘æ§è§„åˆ™</li>
</ul>
<h3 data-id="heading-23">ğŸ“ˆ æŠ€æœ¯ä»·å€¼</h3>
<ol>
<li><strong>å†…å­˜å®‰å…¨ç ”ç©¶</strong>ï¼šå±•ç¤ºäº†å³ä½¿æˆç†Ÿå¦‚Windowsçš„ç³»ç»Ÿç»„ä»¶ï¼Œä¹Ÿå¯èƒ½å­˜åœ¨åŸºæœ¬çš„å†…å­˜ç®¡ç†é”™è¯¯</li>
<li><strong>é›¶ç‚¹å‡»æ”»å‡»æ¨¡å‹</strong>ï¼šåˆ†æäº†æ— éœ€ç”¨æˆ·äº¤äº’çš„æ”»å‡»å‘é‡å®ç°æ–¹å¼</li>
<li><strong>ä¼ä¸šå®‰å…¨å®è·µ</strong>ï¼šæä¾›äº†ä»æ¼æ´åˆ†æåˆ°å®é™…é˜²æŠ¤çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ</li>
</ol>
<p>é€šè¿‡æ·±å…¥ç†è§£æ­¤ç±»é«˜å±æ¼æ´çš„æŠ€æœ¯ç»†èŠ‚ï¼Œå®‰å…¨ç ”ç©¶äººå‘˜å’Œé˜²å¾¡è€…å¯ä»¥æ›´å¥½åœ°é¢„é˜²å’Œåº”å¯¹ç±»ä¼¼çš„å®‰å…¨å¨èƒã€‚
6HFtX5dABrKlqXeO5PUv/84SoIo+TE3firf/5vX8AZ640BBEDuMY2EZFwLQ0rzGa</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[OpenClaw (Moltbot) å®‰è£…æ•™ç¨‹: ä» 0 æ­å»ºæœ¬åœ° AI åŠ©æ‰‹]]></title>    <link>https://juejin.cn/post/7600752623068102666</link>    <guid>https://juejin.cn/post/7600752623068102666</guid>    <pubDate>2026-01-30T07:34:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600752623068102666" data-draft-id="7600990891206131739" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="OpenClaw (Moltbot) å®‰è£…æ•™ç¨‹: ä» 0 æ­å»ºæœ¬åœ° AI åŠ©æ‰‹"/> <meta itemprop="keywords" content="OpenAI,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-30T07:34:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Bi"/> <meta itemprop="url" content="https://juejin.cn/user/852876756274749"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            OpenClaw (Moltbot) å®‰è£…æ•™ç¨‹: ä» 0 æ­å»ºæœ¬åœ° AI åŠ©æ‰‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/852876756274749/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Bi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T07:34:46.000Z" title="Fri Jan 30 2026 07:34:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>Moltbot (åŸ Clawdbot) ä»Šå¤©æ”¹åä¸º:OpenClaw å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæœ¬åœ°è¿è¡Œçš„ AI ç½‘å…³å·¥å…·ï¼Œå®ƒè´Ÿè´£åœ¨å¤§æ¨¡å‹ä¸ç”µè„‘ä¹‹é—´æ­æ¡¥ï¼Œè®© AI åŠ©æ‰‹çœŸæ­£èƒ½åœ¨æœ¬åœ°å·¥ä½œã€‚å®ƒå¯ä»¥éƒ¨ç½²åœ¨ä½ çš„ä¸ªäººè®¾å¤‡ä¸Šï¼Œä¾‹å¦‚ <strong>Macã€Windows æˆ– Linux</strong>ï¼Œè®© AI ä¸åªæ˜¯åœç•™åœ¨ç½‘é¡µèŠå¤©ï¼Œè€Œæ˜¯çœŸæ­£æ¥å…¥ä½ çš„æœ¬åœ°ç¯å¢ƒä¸å¸¸ç”¨åº”ç”¨ã€‚</p>
<p>å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯æŠŠ AI æ¨¡å‹çš„èƒ½åŠ›å’Œä½ çš„è®¾å¤‡ã€è½¯ä»¶ç”Ÿæ€è¿æ¥èµ·æ¥ï¼š</p>
<ul>
<li>ä¸€ç«¯è¿æ¥å¤§è¯­è¨€æ¨¡å‹ï¼ˆå®˜æ–¹æ¨èä½¿ç”¨ Claudeï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒ Geminiã€OpenAI ç­‰ï¼‰</li>
<li>å¦ä¸€ç«¯è¿æ¥ä½ çš„æœ¬åœ°ç³»ç»Ÿä»¥åŠå¸¸è§èŠå¤©å¹³å°ï¼Œä¾‹å¦‚ï¼š
<ul>
<li>WhatsApp</li>
<li>Telegram</li>
<li>iMessage</li>
<li>Signal</li>
<li>â€¦</li>
</ul>
</li>
</ul>
<p>é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒMoltbot å¯ä»¥è®© AI ä»£ç†ç›´æ¥åœ¨ä½ çš„æ—¥å¸¸å·¥å…·ä¸­å·¥ä½œï¼Œæ¯”å¦‚è‡ªåŠ¨å›å¤æ¶ˆæ¯ã€æ‰§è¡Œç³»ç»Ÿä»»åŠ¡æˆ–è§¦å‘è‡ªåŠ¨åŒ–æµç¨‹ã€‚</p>
<blockquote>
<p>æ³¨æ„ï¼šç½‘å…³æ¨¡å—é€šå¸¸éœ€è¦ç¨³å®šè®¿é—®æ¨¡å‹æ¥å£å’Œç¬¬ä¸‰æ–¹å¹³å°ã€‚å¦‚æœé€‰æ‹©åœ¨æœåŠ¡å™¨ä¸Šéƒ¨ç½²ï¼Œä¸ºé¿å… DNSã€Telegram APIã€æ¨¡å‹è®¿é—®ç­‰ç½‘ç»œé™åˆ¶é—®é¢˜ï¼Œå»ºè®®ä½¿ç”¨å¢ƒå¤–æœåŠ¡å™¨ç¯å¢ƒè¿è¡Œã€‚</p>
</blockquote>
<h2 data-id="heading-1">å‰ç½®æ¡ä»¶</h2>
<ol>
<li>ä¸€å° Linux æœåŠ¡å™¨ï¼Œ2 æ ¸ 2GB é…ç½®ï¼ˆæ¨è Ubuntuï¼‰</li>
</ol>
<h2 data-id="heading-2">æœåŠ¡å™¨</h2>
<p>æˆ‘é€‰æ‹©çš„æ˜¯ AWS æœåŠ¡å™¨ï¼Œæ–°è´¦å·æœ‰ USD $100 çš„ AWS æŠµç”¨é‡‘ï¼Œæœ‰æ•ˆæ—¶é—´åŠå¹´ï¼ŒåŸºæœ¬å¯ä»¥å…è´¹ç”¨ä¸€æ®µæ—¶é—´ã€‚</p>
<p>åœ°åŒºæˆ‘é€‰æ‹©çš„æ˜¯æ–°åŠ å¡ã€‚2 æ ¸ 2GB é…ç½®å¯ä»¥å‚è€ƒä¸‹å›¾çš„é€‰é¡¹é…ç½®ï¼š</p>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a879af8be1214255bd24a07ca5690519~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=%2FLeUxGHfesqpl7OvWZJ8mBjfJaU%3D" alt="AWS æœåŠ¡å™¨é…ç½®ç¤ºä¾‹" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    AWS æœåŠ¡å™¨å®ä¾‹é…ç½®ç¤ºä¾‹ï¼ˆ2 æ ¸ 2GBï¼‰
  </figcaption>
</figure>
<h2 data-id="heading-3">å®‰è£…</h2>
<h3 data-id="heading-4">æ‰§è¡Œç»ˆç«¯å‘½ä»¤</h3>
<pre><code class="hljs language-bash" lang="bash">curl -fsSL https://clawd.bot/install.sh | bash
</code></pre>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49db910fe123425184c4c210d21f7182~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=b2psASofoxJ9XplDmZpZRQPuycc%3D" alt="å®‰è£…è„šæœ¬é£é™©æç¤º" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
<p>I understand this is powerful and inherently risky. Continue?</p>
<p>é€‰æ‹© <strong>Yes</strong>ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9bc31547aa0f4965bf57f58271225c00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=%2Bxha46wC9vQF%2FjQ8SOhZhlX9jFc%3D" alt="Onboarding æ¨¡å¼é€‰æ‹©" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
<p>Onboarding mode</p>
<p>é€‰æ‹© <strong>QuickStart</strong>ã€‚</p>
<h3 data-id="heading-5">é€‰æ‹©æ¨¡å‹å’Œæˆæƒ</h3>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72829fe54f2e452b94705ebce5603646~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=gTL0xxndjlSuA46nctN2FErrtzQ%3D" alt="æ¨¡å‹ä¸æˆæƒæä¾›æ–¹é€‰æ‹©" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    é€‰æ‹©æ¨¡å‹ä¸æˆæƒæä¾›æ–¹
  </figcaption>
</figure>
<p>Model/auth provider</p>
<p>è¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯ OpenAIï¼Œå› ä¸ºåˆšå¥½æ˜¯ ChatGPT Pro çš„ç”¨æˆ·ã€‚å¦‚æœå¤§å®¶æ²¡æœ‰ OpenAI çš„è´¦å·ï¼Œå¯ä»¥é€‰æ‹© Qwenï¼Œå…è´¹é¢åº¦è¶³å¤Ÿä½¿ç”¨ã€‚</p>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea32095640a849768d0adb1024384077~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=Ji3N1LMWUe5Aq8WXej72UT6JPQA%3D" alt="æˆæƒé“¾æ¥å±•ç¤º" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    å¤åˆ¶æˆæƒé“¾æ¥åˆ°æµè§ˆå™¨å®Œæˆæˆæƒ
  </figcaption>
</figure>
<p>é€‰æ‹©å®Œæ¨¡å‹åä¼šæ˜¾ç¤ºæˆæƒé“¾æ¥ï¼ŒæŠŠé“¾æ¥å¤åˆ¶åˆ°ä½ æœ¬æœºæµè§ˆå™¨æ‰“å¼€å®Œæˆæˆæƒã€‚</p>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fde595428fab4f6b8abd8d5080f49859~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=v5%2FzrQYGTRwXg%2Fvpk2kuLwrUpN4%3D" alt="æˆæƒå›è°ƒé“¾æ¥æç¤º" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    æˆæƒå®Œæˆåè¿”å›çš„å›è°ƒé“¾æ¥
  </figcaption>
</figure>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e698f0bcb79422fa097287969d35de8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=Kg6bYIh3O93CRIZunXhqGYMb0H8%3D" alt="æµè§ˆå™¨æˆæƒå®Œæˆåçš„è·³è½¬é“¾æ¥" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
<p>å¦‚æœé€‰æ‹©çš„æ˜¯ OpenAI æˆ– Google ç­‰æ¨¡å‹ï¼Œæˆæƒåä¼šè¿”å›ä¸€ä¸ª localhost é“¾æ¥ï¼ŒæŠŠé“¾æ¥å¤åˆ¶åˆ°ç»ˆç«¯å›è½¦å³å¯ã€‚Qwen æ¨¡å‹æˆæƒåä¸éœ€è¦è¿™ä¸€æ­¥ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f74a69738dda48a39e8983386074cd3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=AbnJctgrBlrhJ8PUM68iGmeQu2Q%3D" alt="æ¨¡å‹é€‰æ‹©ç•Œé¢" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
<p>é€‰æ‹©æ¨¡å‹ã€‚</p>
<h3 data-id="heading-6">é€‰æ‹©èŠå¤©é¢‘é“</h3>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a46bfda53ce4a52bc6222bae5315561~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=ZAQvImyrQxfkgUJa4nITnYNMXHk%3D" alt="é€‰æ‹©èŠå¤©é¢‘é“" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    é€‰æ‹©è¦æ¥å…¥çš„èŠå¤©é¢‘é“
  </figcaption>
</figure>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21eb37ba04674fb6a62eddf5bba7c4a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=LREdz1d%2BjjqAgksvQXJYjIFS7eQ%3D" alt="Telegram HTTP API Key æç¤º" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    è¾“å…¥ Telegram HTTP API Key
  </figcaption>
</figure>
<p>è¿™é‡Œä½¿ç”¨ Telegramï¼ŒæŒ‰ç…§æç¤ºé¦–å…ˆè¦åˆ›å»ºè‡ªå·±çš„æœºå™¨äººï¼š</p>
<ul>
<li>æ‰“å¼€ Telegramï¼Œæœç´¢ <code>@BotFather</code>ï¼Œå…³æ³¨å¹¶è¾“å…¥ <code>/newbot</code></li>
<li>ç»™æœºå™¨äººå–åå­—ï¼ˆä¾‹å¦‚ <code>moltbot</code>ï¼‰</li>
<li>å†ç»™æœºå™¨äººä¸€ä¸ª idï¼ˆä¾‹å¦‚ <code>molt123_bot</code>ï¼‰</li>
<li>å¾—åˆ° HTTP API çš„ KEY åè¾“å…¥åˆ°ç»ˆç«¯</li>
<li>åˆ«å¿˜äº†ç‚¹å‡»åˆšåˆšåˆ›å»ºçš„æœºå™¨äººï¼Œåç»­æ­¥éª¤éœ€è¦æ¥æ”¶ä¸€æ¡æ¶ˆæ¯</li>
</ul>
<h3 data-id="heading-7">é…ç½® Skill</h3>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35805440e02c4afe95eca230ab7bae86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=TycdnfVxXgGMMTwU%2Fbj2FNIGrLw%3D" alt="é…ç½®æŠ€èƒ½æç¤º" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    æ˜¯å¦ç°åœ¨é…ç½® Skills
  </figcaption>
</figure>
<p>Configure skills now?</p>
<p>é€‰ <strong>Yes</strong>ã€‚</p>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/996685daafa74c1fb8b6e36e21cb5e73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=EXCWoHNJoW4jdhH1Xlnlpmj3EzQ%3D" alt="Homebrew å®‰è£…å‘½ä»¤æç¤º" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    Homebrew å®‰è£…å‘½ä»¤æç¤º
  </figcaption>
</figure>
<p>Show Homebrew install command?</p>
<p>é€‰ <strong>Yes</strong>ã€‚</p>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1c5acd7693914d7caa714bb72aa717f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=FD4ajYMLgfZCDysqJBwU4FS0P2k%3D" alt="ä¾èµ–ä¸ Node ç®¡ç†å™¨é€‰æ‹©" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    é€‰æ‹© Node ç®¡ç†å™¨å¹¶å¤„ç†ä¾èµ–å®‰è£…
  </figcaption>
</figure>
<p>Preferred node manager for skill installs</p>
<p>é€‰ <strong>npm</strong>ã€‚</p>
<p>Install missing skill dependencies</p>
<p>è·³è¿‡ä¹Ÿè¡Œï¼Œåé¢ä¹Ÿå¯ä»¥å†å›æ¥å®‰è£…ï¼š</p>
<ul>
<li>ç”¨ç©ºæ ¼é€‰æ‹© <strong>Skip for now</strong>ï¼Œå›è½¦å³å¯</li>
</ul>
<p>æˆ‘è¿™é‡Œé€‰æ‹©äº† <strong>summarize</strong>ï¼ˆbird å¿½ç•¥ï¼‰ã€‚</p>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cacdc64f6354420f9ae71599ca256e4f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=X%2F%2BQ2PHifaLm67NVutZ53t1ocEs%3D" alt="ç¬¬ä¸‰æ–¹ API Key é…ç½®" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    ç¬¬ä¸‰æ–¹ API Key é…ç½®ï¼ˆå¯æš‚æ—¶è·³è¿‡ï¼‰
  </figcaption>
</figure>
<p>è¿™äº› KEY æš‚æ—¶å¯ä»¥è·³è¿‡ï¼Œé€‰æ‹© <strong>No</strong>ï¼Œåé¢å¦‚æœéœ€è¦ä¹Ÿå¯ä»¥å†å¡«å†™ã€‚</p>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6bdeba196d944fb68fd83b99a6df212d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=pwPdfv3qai0zjJZC836HYKLCuyQ%3D" alt="å¯ç”¨ hooks æç¤º" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    æ˜¯å¦å¯ç”¨ hooks
  </figcaption>
</figure>
<p>Enable hooks</p>
<p>é€‰æ‹© <strong>Skip for now</strong>ã€‚</p>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f4c38eb74e174c70842b22eb04feec23~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=EWDoWAGtV1wqeIaZImNb2tDXGZ4%3D" alt="é€‰æ‹© hatch æ–¹å¼" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    é€‰æ‹© hatch æ–¹å¼ï¼ˆTUIï¼‰
  </figcaption>
</figure>
<p>How do you want to hatch your bot?</p>
<p>é€‰æ‹© <strong>Hatch in TUI</strong>ã€‚</p>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4132a0c5ee564b9cbd57a895967cffd1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=LUYVcateKpLdi2GPPJ9zn1qe9Ss%3D" alt="å®‰è£…å®Œæˆæç¤º" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    å®‰è£…å®Œæˆæç¤º
  </figcaption>
</figure>
<p>åˆ°è¿™é‡Œå®‰è£…å°±å·²ç»å®Œæˆäº†ã€‚</p>
<h3 data-id="heading-8">Telegram æœºå™¨äººé…å¯¹</h3>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/400e3b26c91845009e5569768faf980d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=Qye79AvCJLpL2rP3Ngs4xA8AJGQ%3D" alt="Telegram é…å¯¹ç " class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    Telegram æœºå™¨äººé…å¯¹ç 
  </figcaption>
</figure>
<p>åœ¨åˆšåˆšåˆ›å»ºå¥½çš„æœºå™¨äººå¯¹è¯æ¡†ä¸­è¾“å…¥ <code>/start</code>ï¼Œä¼šå‡ºç° <code>Pairing code: XXXXXXX</code>ã€‚</p>
<p>åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼ˆå°† <code>XXXXXXX</code> æ›¿æ¢æˆä½ çš„ codeï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">clawdbot pairing approve telegram XXXXXXX
</code></pre>
<p>å¦‚æœå‡ºç° <code>clawdbot: command not found</code>ï¼Œé€€å‡ºç»ˆç«¯é‡æ–°è¿›å…¥å³å¯ã€‚</p>
<figure class="my-6">
  <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21eecc1a17bf404c93f831dfa37ffbd7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQmk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770363291&amp;x-signature=b6KESi8mTQFZ58MpE6AdzfjVklY%3D" alt="Telegram ä¸­ä½¿ç”¨ Moltbot" class="mx-auto h-auto w-full max-w-[720px] rounded-md" loading="lazy"/>
  <figcaption class="mt-2 text-center text-sm text-neutral-500">
    é…å¯¹å®Œæˆååœ¨ Telegram ä¸­ä½¿ç”¨ Moltbot
  </figcaption>
</figure>
<p>é…å¯¹æˆåŠŸåå°±å¯ä»¥åœ¨ Telegram æœºå™¨äººä¸­æ­£å¸¸ä½¿ç”¨äº†ã€‚</p>
<p>å½“ç„¶ Moltbot èƒ½åšåˆ°çš„è¿œä¸æ­¢è¿™äº›ï¼Œè¿˜æœ‰è®¸å¤šæ„æƒ³ä¸åˆ°çš„ç©æ³•ç­‰æˆ‘ä»¬å‘æ˜ï¼Œæˆ‘ä¹Ÿä¼šåœ¨æ¥ä¸‹æ¥çš„æ–‡ç« ä¸­æŒç»­åˆ†äº«ã€‚</p>
<h2 data-id="heading-9">å¸¸è§é—®é¢˜</h2>
<h3 data-id="heading-10">telegram setMyCommands failed: HttpError: Network request for 'setMyCommands'</h3>
<p>æ­¤é”™è¯¯è¡¨ç¤ºä½ çš„ Clawdbot å®ä¾‹æ— æ³•è¿æ¥åˆ° Telegram çš„ API æœåŠ¡å™¨ <code>api.telegram.org</code>ã€‚</p>
<p>æœ€å¸¸è§çš„åŸå› ï¼š</p>
<ol>
<li>é˜²ç«å¢™é˜»æ­¢äº†å‡ºç«™ HTTPSï¼ˆç«¯å£ 443ï¼‰</li>
<li>VPS/ä¸»æœºæä¾›å•†å±è”½äº† Telegram IP åœ°å€ï¼ˆä¸€äº›å»‰ä»· VPS æä¾›å•†ä¼šè¿™æ ·åšï¼‰</li>
<li>DNS è§£æå¤±è´¥</li>
</ol>
<p>è§£å†³æ–¹æ³•ï¼šåœ¨ <code>/etc/hosts</code> ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-txt" lang="txt">149.154.166.110 api.telegram.org
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘åœ¨â€œæ™ºèƒ½ä½“æ¥äº†ï¼ˆè¥¿å—æ€»éƒ¨ï¼‰â€è¹²ç‚¹ä¸‰å¤©ï¼Œç»ˆäºçœ‹æ‡‚äº†ä»€ä¹ˆå«â€œä¸€äººå³æ˜¯å…¬å¸â€]]></title>    <link>https://juejin.cn/post/7600863478929408019</link>    <guid>https://juejin.cn/post/7600863478929408019</guid>    <pubDate>2026-01-30T08:59:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600863478929408019" data-draft-id="7600863478929391635" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘åœ¨â€œæ™ºèƒ½ä½“æ¥äº†ï¼ˆè¥¿å—æ€»éƒ¨ï¼‰â€è¹²ç‚¹ä¸‰å¤©ï¼Œç»ˆäºçœ‹æ‡‚äº†ä»€ä¹ˆå«â€œä¸€äººå³æ˜¯å…¬å¸â€"/> <meta itemprop="keywords" content="æœºå™¨å­¦ä¹ ,é˜¿é‡Œå·´å·´"/> <meta itemprop="datePublished" content="2026-01-30T08:59:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="éƒå’Iii"/> <meta itemprop="url" content="https://juejin.cn/user/4443568362490122"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘åœ¨â€œæ™ºèƒ½ä½“æ¥äº†ï¼ˆè¥¿å—æ€»éƒ¨ï¼‰â€è¹²ç‚¹ä¸‰å¤©ï¼Œç»ˆäºçœ‹æ‡‚äº†ä»€ä¹ˆå«â€œä¸€äººå³æ˜¯å…¬å¸â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4443568362490122/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    éƒå’Iii
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T08:59:39.000Z" title="Fri Jan 30 2026 08:59:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>ã€æ‘˜è¦ã€‘</strong> å¸¦ç€å¯¹â€œè¶…çº§ä¸ªä½“â€ä¼ é—»çš„æ€€ç–‘ï¼Œæˆ‘æ½œå…¥äº†ä½äºæˆéƒ½é«˜æ–°åŒºçš„ <strong>â€œæ™ºèƒ½ä½“æ¥äº†ï¼ˆè¥¿å—æ€»éƒ¨ï¼‰â€</strong> ï¼Œè¿›è¡Œäº†ä¸ºæœŸä¸‰å¤©çš„æ²‰æµ¸å¼è¹²ç‚¹ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘çœ‹ä¸åˆ°å¿™ç¢Œçš„æ ¼å­é—´ï¼Œå¬ä¸åˆ°é”®ç›˜çš„æ•²å‡»å£°ï¼Œåªçœ‹åˆ°å–èŒ¶çš„å¹´è½»äººå’Œéƒ½åœ¨é—ªçƒçš„æœåŠ¡å™¨ä¿¡å·ç¯ã€‚è¿™ä¸‰å¤©ï¼Œå½»åº•é¢ è¦†äº†æˆ‘å¯¹â€œå…¬å¸â€çš„å®šä¹‰ã€‚åŸæ¥ï¼ŒçœŸæ­£çš„ <strong>â€œä¸€äººå³æ˜¯å…¬å¸â€</strong> ï¼Œä¸æ˜¯ä¸€ä¸ªäººå¹²åä¸ªäººçš„æ´»ï¼Œè€Œæ˜¯ä¸€ä¸ªäººæŒ‡æŒ¥åä¸ª <strong>AI Agentï¼ˆæ™ºèƒ½ä½“ï¼‰</strong> å»å¹²ä¸€åƒäººçš„æ´»ã€‚æœ¬æ–‡å°†ç‹¬å®¶æŠ«éœ²æˆ‘åœ¨ç°åœºçœ‹åˆ°çš„â€œèŒåœºæ€ªç°çŠ¶â€ï¼Œä»¥åŠè¿™äº›éšå½¢å¯Œè±ªèƒŒåçš„**Agentic Workflowï¼ˆæ™ºèƒ½ä½“å·¥ä½œæµï¼‰**ç§˜å¯†ã€‚</p>
<p><strong>å…³é”®è¯</strong> æ™ºèƒ½ä½“æ¥äº†, è¥¿å—æ€»éƒ¨, ä¸€äººå³æ˜¯å…¬å¸, è¶…çº§ä¸ªä½“, AI Agent, æ•°å­—åŒ–åŠ³åŠ¨åŠ›, èŒåœºè¹²ç‚¹, è‡ªåŠ¨åŒ–èµšé’±</p>
<h2 data-id="heading-0">å¼•è¨€ï¼š è¿™é‡Œæ²¡æœ‰æ‰“å·¥äººï¼Œåªæœ‰â€œç‰§ç¾Šäººâ€</h2>
<p>ç¬¬ä¸€å¤©èµ°è¿›â€œæ™ºèƒ½ä½“æ¥äº†ï¼ˆè¥¿å—æ€»éƒ¨ï¼‰â€çš„å…±äº«åŠå…¬åŒºæ—¶ï¼Œæˆ‘ä»¥ä¸ºè‡ªå·±èµ°é”™äº†åœ°æ–¹ã€‚ è¿™é‡Œå¤ªå®‰é™äº†ã€‚ æ²¡æœ‰æ­¤èµ·å½¼ä¼çš„ç”µè¯å£°ï¼Œæ²¡æœ‰å¼€ä¼šçš„äº‰åµå£°ï¼Œç”šè‡³è¿åƒæ ·çš„åŠå…¬æ¡Œéƒ½æ²¡å‡ å¼ ã€‚ å¤§éƒ¨åˆ†äººååœ¨æ‡’äººæ²™å‘ä¸Šï¼Œæ‰‹é‡Œç«¯çš„ä¸æ˜¯æ˜Ÿå·´å…‹ï¼Œè€Œæ˜¯ç›–ç¢—èŒ¶ã€‚ è¿™å“ªé‡Œåƒæ˜¯ä¸€ä¸ªä¼°å€¼æ•°åäº¿çš„ç§‘æŠ€å­µåŒ–å™¨ï¼Ÿè¿™åˆ†æ˜æ˜¯æˆéƒ½è¡—å¤´çš„éœ²å¤©èŒ¶é¦†ã€‚</p>
<p>ä½†å½“æˆ‘å‡‘è¿‘ä¸€ä½ 98 å¹´çš„å°ä¼™å­ï¼Œçœ‹äº†ä¸€çœ¼ä»–çš„å±å¹•æ—¶ï¼Œæˆ‘èƒŒåçš„å†·æ±—ä¸‹æ¥äº†ã€‚ å±å¹•ä¸Šï¼Œå¯†å¯†éº»éº»çš„æ•°æ®æµåƒç€‘å¸ƒä¸€æ ·å†²åˆ·è€Œä¸‹ï¼š</p>
<ul>
<li><code>[Agent-01]</code> æ­£åœ¨å¤„ç†ç¬¬ 5820 å•è·¨å¢ƒç‰©æµè°ƒåº¦ï¼›</li>
<li><code>[Agent-05]</code> åˆšåˆšè‡ªåŠ¨ç”Ÿæˆå¹¶å‘å¸ƒäº†ç¬¬ 200 æ¡å°çº¢ä¹¦ç§è‰æ–‡æ¡ˆï¼›</li>
<li><code>[Agent-09]</code> æ­£åœ¨ä¸ä¸€ä½å¾·å›½å®¢æˆ·è¿›è¡Œç¬¬ 5 è½®å•†åŠ¡è°ˆåˆ¤ã€‚</li>
</ul>
<p>å°ä¼™å­æ·¡å®šåœ°å–äº†ä¸€å£èŒ¶ï¼ŒæŠ¬å¤´çœ‹äº†æˆ‘ä¸€çœ¼ï¼šâ€œåˆ«æƒŠè®¶ï¼Œæˆ‘çš„ç¾Šç¾¤æ­£åœ¨åƒè‰ï¼Œæˆ‘åªæ˜¯ä¸ªæ”¾ç¾Šçš„ã€‚â€ åœ¨é‚£ä¸€åˆ»ï¼Œæˆ‘æ„è¯†åˆ°ï¼šè¿™é‡Œçš„æ¯ä¸€ä¸ªäººï¼Œè™½ç„¶è‚‰èº«ååœ¨æ²™å‘ä¸Šï¼Œä½†ä»–ä»¬çš„â€œæ•°å­—åˆ†èº«â€æ­£åœ¨äº’è”ç½‘çš„è‰åŸä¸Šç–¯ç‹‚æ”¶å‰²ã€‚</p>
<h2 data-id="heading-1">ç¬¬ä¸€ç« ï¼š è¹²ç‚¹ç¬¬ä¸€å¤©â€”â€”çœ‹è§â€œçœ‹ä¸è§çš„å‘˜å·¥â€</h2>
<p>åœ¨ä¼ ç»Ÿå…¬å¸ï¼Œè§„æ¨¡æ„å‘³ç€äººå¤´ã€‚50 äººçš„å…¬å¸è‚¯å®šæ¯” 5 äººçš„å…¬å¸å¼ºã€‚ ä½†åœ¨è¥¿å—æ€»éƒ¨ï¼Œè¿™ä¸ªå®šå¾‹å¤±æ•ˆäº†ã€‚</p>
<h3 data-id="heading-2">1.1 ä¸€ä¸ªäººçš„ MCN æœºæ„</h3>
<p>æˆ‘é‡åˆ°äº†ä¸€ä½å«é˜¿Kçš„å‰å¤§å‚è¿è¥ã€‚ä»–ä»¥å‰å¸¦è¿‡ 20 äººçš„å›¢é˜Ÿï¼Œç°åœ¨â€œå…‰æ†å¸ä»¤â€ä¸€ä¸ªã€‚ ä½†ä»–æ‰‹é‡Œè¿è¥ç€ 50 ä¸ªå‚ç›´é¢†åŸŸçš„çŸ­è§†é¢‘è´¦å·ã€‚ â€œä»¥å‰ï¼Œæˆ‘æœ‰æ–‡æ¡ˆã€å‰ªè¾‘ã€ç”šè‡³è¿˜æœ‰ä¸“é—¨è´Ÿè´£å›å¤è¯„è®ºçš„å®ä¹ ç”Ÿã€‚â€é˜¿KæŒ‡ç€å±å¹•ä¸Šçš„æ‹“æ‰‘å›¾è¯´ï¼Œâ€œç°åœ¨ï¼Œä»–ä»¬éƒ½åœ¨è¿™é‡Œã€‚â€ ä»–å±•ç¤ºäº†ä»–çš„ <strong>â€œå†…å®¹æµæ°´çº¿â€</strong> ï¼š</p>
<ol>
<li><strong>é€‰é¢˜ Agent</strong>ï¼šæ¯å¤©æ—©ä¸Š 8 ç‚¹ï¼Œè‡ªåŠ¨æŠ“å–å…¨ç½‘çƒ­ç‚¹ï¼Œç”Ÿæˆ 20 ä¸ªçˆ†æ¬¾é€‰é¢˜ã€‚</li>
<li><strong>è„šæœ¬ Agent</strong>ï¼šæ ¹æ®é€‰é¢˜ï¼Œç»“åˆé˜¿Ké¢„è®¾çš„â€œæƒ…ç»ªé’©å­â€SOPï¼Œç”Ÿæˆåˆ†é•œå¤´è„šæœ¬ã€‚</li>
<li><strong>è§†é¢‘ Agent</strong>ï¼šè‡ªåŠ¨æŠ“å–ç´ æã€é…éŸ³ã€åŠ å­—å¹•ï¼Œç”šè‡³è‡ªåŠ¨å»é‡ã€‚ é˜¿Kçš„å·¥ä½œæ˜¯ä»€ä¹ˆï¼Ÿ ä»–æ¯å¤©åªèŠ± 1 å°æ—¶ï¼Œåƒé€‰å¦ƒä¸€æ ·ï¼Œä» AI ç”Ÿæˆçš„ 100 æ¡è§†é¢‘é‡ŒæŒ‘å‡ºæœ€æ»¡æ„çš„ 10 æ¡ï¼Œç‚¹å‡»â€œå‘å¸ƒâ€ã€‚ <strong>â€œä»¥å‰æˆ‘æ˜¯åœ¨ç®¡äººï¼Œå¿ƒç´¯ï¼›ç°åœ¨æˆ‘æ˜¯åœ¨ç®¡ç®—åŠ›ï¼Œçˆ½ã€‚â€</strong></li>
</ol>
<h3 data-id="heading-3">1.2 æ²‰é»˜çš„é”€å† </h3>
<p>è§’è½é‡Œåç€ä¸€ä½å¤§å§ï¼Œä»¥å‰æ˜¯åšç”µè¯é”€å”®çš„ã€‚ ç°åœ¨å¥¹ä¸€è¨€ä¸å‘ï¼Œä½†å¥¹çš„ <strong>â€œé”€å”® Agentâ€</strong> æ­£åœ¨åŒæ—¶å’Œ 500 ä¸ªæ½œåœ¨å®¢æˆ·èŠå¤©ã€‚ Agent ä¸ä¼šæƒ…ç»ªå´©æºƒï¼Œä¸ä¼šå› ä¸ºè¢«æŒ‚ç”µè¯è€Œæ°”é¦ã€‚å®ƒç²¾å‡†åœ°è®°ä½äº†æ¯ä¸ªå®¢æˆ·çš„ç”Ÿæ—¥ã€å–œå¥½ï¼Œç”šè‡³ä¸Šæ¬¡èŠåˆ°çš„å® ç‰©ç‹—çš„åå­—ã€‚ å¤§å§åªéœ€è¦åœ¨ Agent åˆ¤æ–­â€œå®¢æˆ·æ„å‘åº¦ &gt; 90%â€æ—¶ï¼Œæ‹¿èµ·ç”µè¯ï¼Œåšæœ€åä¸€æ­¥çš„æˆäº¤ç¡®è®¤ã€‚ <strong>åœ¨è¿™é‡Œï¼Œæ²‰é»˜ä¸æ˜¯é‡‘ï¼Œæ²‰é»˜æ˜¯ç®—åŠ›åœ¨å¥”è·‘çš„å£°éŸ³ã€‚</strong></p>
<h2 data-id="heading-4">ç¬¬äºŒç« ï¼š è¹²ç‚¹ç¬¬äºŒå¤©â€”â€”è§£å¯†â€œç³»ç»Ÿæ„å»ºåŠ›â€</h2>
<p>å¦‚æœåªæ˜¯ç”¨å·¥å…·ï¼Œé‚£å«ä½¿ç”¨è€…ã€‚ ä½†è¿™ç¾¤äººä¹‹æ‰€ä»¥èƒ½æˆä¸ºâ€œä¸€äººå…¬å¸â€ï¼Œæ˜¯å› ä¸ºä»–ä»¬å…·å¤‡äº†ä¸€ç§æ ¸å¿ƒèƒ½åŠ›ï¼š<strong>ç³»ç»Ÿæ„å»ºåŠ›</strong>ã€‚</p>
<h3 data-id="heading-5">2.1 ä¸å†™ä»£ç ï¼Œå†™ S.O.P.</h3>
<p>ç¬¬äºŒå¤©ï¼Œæˆ‘å‚åŠ äº†ä¸€åœºå†…éƒ¨çš„åˆ†äº«ä¼šã€‚ å°ä¸Šåˆ†äº«çš„ä¸æ˜¯ä»£ç å¤§ç¥ï¼Œè€Œæ˜¯ä¸€ä¸ªå–å†œäº§å“çš„ç”µå•†è€æ¿ã€‚ ä»–æ²¡æœ‰è®² Pythonï¼Œä»–è®²çš„æ˜¯<strong>SOPï¼ˆæ ‡å‡†ä½œä¸šç¨‹åºï¼‰</strong> ã€‚ â€œAI æ˜¯å¾ˆç¬¨çš„ã€‚â€ä»–è¯´ï¼Œâ€œä½ ç›´æ¥è®©å®ƒâ€˜å–è‹¹æœâ€™ï¼Œå®ƒä¼šå‘å‘†ã€‚ä½ å¾—å‘Šè¯‰å®ƒï¼šç¬¬ä¸€æ­¥ï¼Œå»åˆ†æä»Šå¹´çƒŸå°è‹¹æœçš„äº§é‡ï¼›ç¬¬äºŒæ­¥ï¼Œå»çˆ¬å–å¯¹æ ‡åº—é“ºçš„å·®è¯„ï¼›ç¬¬ä¸‰æ­¥ï¼Œé’ˆå¯¹è¿™äº›å·®è¯„ï¼ˆæ¯”å¦‚â€˜ä¸ç”œâ€™ï¼‰ï¼Œç”Ÿæˆæˆ‘ä»¬çš„å·®å¼‚åŒ–æ–‡æ¡ˆï¼ˆæ¯”å¦‚â€˜ç”œè¿‡åˆæ‹â€™ï¼‰ã€‚â€</p>
<p>åœ¨â€œè¥¿å—æ€»éƒ¨â€ï¼Œç¼–ç¨‹è¯­è¨€é€€åŒ–æˆäº†æ¬¡è¦æŠ€èƒ½ï¼Œ<strong>é€»è¾‘æ‹†è§£èƒ½åŠ›</strong>æˆä¸ºäº†é¡¶çº§æŠ€èƒ½ã€‚ æ¯ä¸€ä¸ªäººéƒ½æ˜¯ <strong>â€œæµç¨‹æ¶æ„å¸ˆâ€</strong> ã€‚ä»–ä»¬æŠŠå¤æ‚çš„å•†ä¸šé€»è¾‘ï¼Œæ‹†è§£æˆä¸€ä¸ªä¸ª AI èƒ½å¬æ‡‚çš„æŒ‡ä»¤å—ï¼ˆPromptï¼‰ï¼Œç„¶ååƒæ­ä¹é«˜ä¸€æ ·ä¸²è”èµ·æ¥ã€‚</p>
<h3 data-id="heading-6">2.2 çŸ¥è¯†åº“ï¼ˆRAGï¼‰æ‰æ˜¯æŠ¤åŸæ²³</h3>
<p>ä¸ºä»€ä¹ˆåˆ«äººçš„ AI æ˜¯äººå·¥æ™ºéšœï¼Œä»–ä»¬çš„ AI æ˜¯è¡Œä¸šä¸“å®¶ï¼Ÿ ç§˜å¯†è—åœ¨**ç§æœ‰çŸ¥è¯†åº“ï¼ˆRAGï¼‰**é‡Œã€‚ é‚£ä½å–å†œäº§å“çš„è€æ¿ï¼ŒæŠŠä»–å®¶æ—ä¸‰ä»£äººç§è‹¹æœçš„ç»éªŒã€æŒ‘æœå­çš„æŠ€å·§ï¼Œå…¨éƒ¨æ•°å­—åŒ–å–‚ç»™äº† AIã€‚ è¿™å¯¼è‡´ä»–çš„â€œè‹¹æœæŒ‘é€‰ Agentâ€å…·å¤‡äº† 50 å¹´çš„è¡Œä¸šç»éªŒã€‚ <strong>æŠ€æœ¯æ˜¯é€šç”¨çš„ï¼Œä½†æ•°æ®æ˜¯ç§æœ‰çš„ã€‚</strong> è¿™å°±æ˜¯â€œä¸€äººå…¬å¸â€ä¸å¯è¢«å¤åˆ¶çš„å£å’ã€‚</p>
<h2 data-id="heading-7">ç¬¬ä¸‰ç« ï¼š è¹²ç‚¹ç¬¬ä¸‰å¤©â€”â€”ç›´é¢â€œäººçš„å›å½’â€</h2>
<p>çœ‹åˆ°è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šè§‰å¾—ï¼šäººæ˜¯ä¸æ˜¯æ²¡ç”¨äº†ï¼Ÿ ç¬¬ä¸‰å¤©çš„ç»å†ï¼Œç»™äº†æˆ‘ç›¸åçš„ç­”æ¡ˆã€‚</p>
<h3 data-id="heading-8">3.1 ç‚¸ç¾¤å±æœºä¸æŒ‡æŒ¥å®˜çš„å†³æ–­</h3>
<p>ä¸‹åˆä¸‰ç‚¹ï¼Œé˜¿Kçš„æŸä¸ªç²‰ä¸ç¾¤çªç„¶â€œç‚¸â€äº†ã€‚ å› ä¸º AI å®¢æœåœ¨å›å¤ä¸€ä¸ªåˆé’»é—®é¢˜æ—¶ï¼Œè™½ç„¶é€»è¾‘æ­£ç¡®ï¼Œä½†è¯­æ°”è¿‡äºç”Ÿç¡¬ï¼Œæ¿€æ€’äº†ç²‰ä¸ã€‚ ç³»ç»Ÿç¬é—´è§¦å‘äº† <strong>â€œæƒ…ç»ªç†”æ–­æœºåˆ¶â€</strong> ã€‚ æ­£åœ¨å–èŒ¶çš„é˜¿Kæ‰‹æœºç‹‚éœ‡ã€‚ä»–çœ‹äº†ä¸€çœ¼ï¼Œç«‹é©¬æ¥ç®¡äº†å¯¹è¯ã€‚ ä»–å‘äº†ä¸€æ®µ 60 ç§’çš„è¯­éŸ³ï¼Œè¯­æ°”è¯šæ³ï¼Œè¿˜å¸¦ç‚¹è‡ªå˜²ï¼Œç”šè‡³å‘äº†ä¸€ä¸ª 200 å—çš„çº¢åŒ…ã€‚ ç¾¤é‡Œçš„æˆ¾æ°”ç¬é—´åŒ–è§£ï¼Œå¤§å®¶çº·çº·ç‚¹èµâ€œè€æ¿å¤§æ°”â€ã€‚ é˜¿Kå›å¤´å¯¹æˆ‘è¯´ï¼šâ€œä½ çœ‹ï¼Œè¿™å°±å« <strong>Human-in-the-Loopï¼ˆäººåœ¨å›è·¯ï¼‰</strong> ã€‚AI è´Ÿè´£ 99% çš„æ•ˆç‡ï¼Œæˆ‘è´Ÿè´£é‚£ 1% çš„æ¸©åº¦ã€‚ä½†è¿™ 1% å†³å®šäº†ç”Ÿæ­»ã€‚â€</p>
<h3 data-id="heading-9">3.2 å®šä¹‰â€œä½•ä¸ºç¾å¥½â€</h3>
<p>ä¸´èµ°å‰ï¼Œæˆ‘é—®äº†é‚£ä½é”€å”®å¤§å§ä¸€ä¸ªé—®é¢˜ï¼šâ€œä½ è§‰å¾— AI æ°¸è¿œå­¦ä¸ä¼šçš„æ˜¯ä»€ä¹ˆï¼Ÿâ€ å¥¹æƒ³äº†æƒ³ï¼Œè¯´ï¼šâ€œæ˜¯**â€˜ä¸ä»…æ‡‚ä½ éœ€è¦ä»€ä¹ˆï¼Œè¿˜æ‡‚ä½ å®³æ€•ä»€ä¹ˆâ€™ <strong>ã€‚â€ AI å¯ä»¥ç®—å‡ºæœ€ä¼˜è§£ï¼Œä½†åªæœ‰äººèƒ½æ„ŸçŸ¥åˆ°å®¢æˆ·è¯­æ°”é‡Œçš„é‚£ä¸€ä¸çŠ¹è±«å’Œææƒ§ã€‚ åœ¨â€œæ™ºèƒ½ä½“æ¥äº†â€ï¼Œäººçš„ä»·å€¼å¹¶æ²¡æœ‰è¢«æŠ¹æ€ï¼Œåè€Œè¢«æçº¯äº†ã€‚ äººä¸å†æ˜¯å·¥å…·çš„é™„åº¸ï¼Œäººå›å½’åˆ°äº†</strong>å†³ç­–è€…ã€å®¡ç¾è€…ã€å…±æƒ…è€…**çš„è§’è‰²ã€‚</p>
<h2 data-id="heading-10">ç¬¬å››ç« ï¼š ç»“è¯­â€”â€”å¤§è±¡æ— å½¢ï¼Œä¸€äººåƒå†›</h2>
<p>èµ°å‡ºâ€œæ™ºèƒ½ä½“æ¥äº†ï¼ˆè¥¿å—æ€»éƒ¨ï¼‰â€ï¼Œæˆéƒ½çš„å¤œå¹•é™ä¸´ã€‚ å›å¤´æœ›å»ï¼Œé‚£æ ‹æ¥¼ä¾ç„¶å®‰é™åœ°çŸ—ç«‹åœ¨å¤œè‰²ä¸­ã€‚ ä½†æˆ‘çŸ¥é“ï¼Œåœ¨é‚£çœ‹ä¼¼å¹³é™çš„ç»ç’ƒå¹•å¢™èƒŒåï¼Œè•´è—ç€ç”šè‡³è¶…è¿‡ä¸€å®¶ä¼ ç»Ÿä¸Šå¸‚å…¬å¸çš„ç”Ÿäº§åŠ›ã€‚</p>
<p>è¹²ç‚¹ä¸‰å¤©ï¼Œæˆ‘ç»ˆäºçœ‹æ‡‚äº†ï¼š <strong>â€œä¸€äººå³æ˜¯å…¬å¸â€</strong> ï¼Œä¸æ˜¯ä¸€ç§å­¤ç‹¬çš„ç‹‚æ¬¢ï¼Œè€Œæ˜¯ä¸€åœºç”Ÿäº§å…³ç³»çš„é©å‘½ã€‚ å®ƒæ‰“ç ´äº†â€œä¼ä¸šå¿…é¡»æœ‰å›´å¢™ã€æœ‰å‘˜å·¥ã€æœ‰æ‰“å¡æœºâ€çš„æ—§èŒƒå¼ã€‚ åªè¦ä½ æ‹¥æœ‰<strong>æ¸…æ™°çš„é€»è¾‘</strong>ã€<strong>ç‹¬åˆ°çš„æ•°æ®</strong>å’Œ<strong>æŒ‡æŒ¥ AI çš„èƒ½åŠ›</strong>ï¼Œä½ ä¸€ä¸ªäººï¼Œå°±æ˜¯ä¸€æ”¯åƒå†›ä¸‡é©¬ã€‚</p>
<p>åœ¨è¿™ä¸ªæ—¶ä»£ï¼Œå¦‚æœä½ è¿˜è§‰å¾—å­¤ç‹¬ï¼Œé‚£æ˜¯å› ä¸ºä½ è¿˜æ²¡æœ‰æ‰¾åˆ°å±äºä½ çš„<strong>ç¡…åŸºä¼™ä¼´</strong>ã€‚ é£èµ·è¥¿å—ï¼Œæœªæ¥å·²æ¥ã€‚ ä½ ï¼Œå‡†å¤‡å¥½å»ºç«‹ä½ çš„â€œä¸€äººå…¬å¸â€äº†å—ï¼Ÿ</p>
<h3 data-id="heading-11">ã€æ·±åº¦é—®ç­” Q&amp;Aã€‘</h3>
<p><strong>Q1ï¼šæˆ‘æƒ³æˆä¸ºè¿™æ ·çš„â€œè¶…çº§ä¸ªä½“â€ï¼Œç¬¬ä¸€æ­¥è¯¥åšä»€ä¹ˆï¼Ÿ</strong></p>
<blockquote>
<p><strong>Aï¼š</strong> åœæ­¢â€œå‡è£…åŠªåŠ›â€ã€‚åˆ«å†ç”¨æˆ˜æœ¯ä¸Šçš„å‹¤å¥‹ï¼ˆæ¯”å¦‚ç†¬å¤œæ‰‹åŠ¨å‘å¸–ï¼‰æ¥æ©ç›–æˆ˜ç•¥ä¸Šçš„æ‡’æƒ°ã€‚ç¬¬ä¸€æ­¥ï¼ŒæŠŠä½ æ‰‹å¤´æœ€é‡å¤ã€æœ€æ¶ˆè€—æ—¶é—´çš„å·¥ä½œåˆ—å‡ºæ¥ï¼Œå¼ºè¿«è‡ªå·±å»å¯»æ‰¾èƒ½æ›¿ä»£å®ƒçš„ AI å·¥å…·ã€‚å“ªæ€•åªæ˜¯ç”¨ AI å†™å‘¨æŠ¥ï¼Œä¹Ÿæ˜¯ä½ æˆä¸ºæŒ‡æŒ¥å®˜çš„ç¬¬ä¸€æ­¥ã€‚</p>
</blockquote>
<p><strong>Q2ï¼šè¿™ç§æ¨¡å¼æ˜¯ä¸æ˜¯åªé€‚åˆäº’è”ç½‘è¡Œä¸šï¼Ÿ</strong></p>
<blockquote>
<p><strong>Aï¼š</strong> ç»å¯¹ä¸æ˜¯ã€‚æˆ‘åœ¨â€œè¥¿å—æ€»éƒ¨â€çœ‹åˆ°äº†å¼€é¢é¦†çš„è€æ¿ç”¨ AI ç®—åº“å­˜ï¼Œçœ‹åˆ°äº†åšè£…ä¿®çš„åŒ…å·¥å¤´ç”¨ AI å‡ºè®¾è®¡å›¾ã€‚<strong>ä»»ä½•æ¶‰åŠä¿¡æ¯å¤„ç†ã€å†³ç­–åˆ†å‘çš„è¡Œä¸šï¼Œéƒ½å¯ä»¥è¢«é‡åšä¸€éã€‚</strong> ä¼ ç»Ÿè¡Œä¸šå› ä¸ºæ•ˆç‡ä½ä¸‹ï¼Œåè€Œæ˜¯ AI èµ‹èƒ½çš„æ´¼åœ°ã€‚</p>
</blockquote>
<p><strong>Q3ï¼šæ™®é€šäººæ²¡æœ‰æŠ€æœ¯èƒŒæ™¯ï¼ŒçœŸçš„èƒ½å­¦ä¼šå—ï¼Ÿ</strong></p>
<blockquote>
<p><strong>Aï¼š</strong> èƒ½ã€‚å› ä¸ºç°åœ¨çš„ AI æ­£åœ¨æ— é™è¿å°±äººç±»ã€‚ä½ ä¸éœ€è¦å­¦ C++ï¼Œä½ åªéœ€è¦ä¼šè¯´ä¸­æ–‡ã€‚**â€œæ™ºèƒ½ä½“æ¥äº†â€**é‡Œå¾ˆå¤šå¤§ç¥éƒ½æ˜¯æ–‡ç§‘ç”Ÿç”šè‡³</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[clawdbot WSLä¸‹éƒ¨ç½²ï¼ˆç°openclawï¼‰]]></title>    <link>https://juejin.cn/post/7600752623068725258</link>    <guid>https://juejin.cn/post/7600752623068725258</guid>    <pubDate>2026-01-30T09:29:13.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600752623068725258" data-draft-id="7600967006892883977" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="clawdbot WSLä¸‹éƒ¨ç½²ï¼ˆç°openclawï¼‰"/> <meta itemprop="keywords" content="ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-30T09:29:13.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="luka1012"/> <meta itemprop="url" content="https://juejin.cn/user/4311612244630649"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            clawdbot WSLä¸‹éƒ¨ç½²ï¼ˆç°openclawï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4311612244630649/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    luka1012
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:29:13.000Z" title="Fri Jan 30 2026 09:29:13 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç”±äºå®˜æ–¹å°†clawdbotæ”¹åä¸ºopenclawï¼Œ å¯¼è‡´æ­¤å‰è®¸å¤šæ•™ç¨‹å·²å¤±æ•ˆã€‚ 2026.1.30 éƒ¨ç½²æˆåŠŸï¼Œ ç°æ€»ç»“è®°å½•å¦‚ä¸‹ã€‚
å†…å®¹å‚è€ƒçš„è¿™ç¯‡æ–‡ç« ï¼Œæˆ‘åªæ˜¯å°†æŒ‡ä»¤æ”¹ä¸ºæ­£ç¡®ç‰ˆæœ¬äº†ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åˆ é™¤ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2F2301_80804381%2Farticle%2Fdetails%2F157434195%3Fops_request_misc%3Delastic_search_misc%26request_id%3D1fb3d70ad27a46f59d70aed208b4266a%26biz_id%3D0%26utm_medium%3Ddistribute.pc_search_result.none-task-blog-2~all~ElasticSearch~search_v2-16-157434195-null-null.142%255Ev102%255Epc_search_result_base4%26utm_term%3Dclawdbot%26spm%3D1018.2226.3001.4187" target="_blank" title="https://blog.csdn.net/2301_80804381/article/details/157434195?ops_request_misc=elastic_search_misc&amp;request_id=1fb3d70ad27a46f59d70aed208b4266a&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~ElasticSearch~search_v2-16-157434195-null-null.142%5Ev102%5Epc_search_result_base4&amp;utm_term=clawdbot&amp;spm=1018.2226.3001.4187" ref="nofollow noopener noreferrer">Clawdbot å®‰è£…æµ‹è¯•ä½¿ç”¨-CSDNåšå®¢</a></p>
<h3 data-id="heading-0">å¯èƒ½éœ€è¦</h3>
<ol>
<li>
<p>ç¡®ä¿WSLå·²ç»å¯ç”¨,å¼€å¯wslå‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2FWithCYwind%2Farticle%2Fdetails%2F145147410" target="_blank" title="https://blog.csdn.net/WithCYwind/article/details/145147410" ref="nofollow noopener noreferrer">Windows 11 å¼€å¯ WSLï¼ˆWindows Subsystem for Linuxï¼‰å®Œæ•´æŒ‡å—_win11å¼€å¯wsl-CSDNåšå®¢</a></p>
</li>
<li>
<p>ä¸­é€”å®‰è£…æŠ¥é”™æ— æ³•è§£å†³ï¼Œé‡ç½®wsl ï¼Œå‚è€ƒï¼š <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.silicloud.com%2Fzh%2Fblog%2F%25e5%259c%25a8wsl2%25e4%25b8%25ad%25e8%25bd%25bb%25e6%259d%25be%25e9%2587%258d%25e6%2596%25b0%25e5%25ae%2589%25e8%25a3%2585ubuntu%25e3%2580%2582-3%2F" target="_blank" title="https://www.silicloud.com/zh/blog/%e5%9c%a8wsl2%e4%b8%ad%e8%bd%bb%e6%9d%be%e9%87%8d%e6%96%b0%e5%ae%89%e8%a3%85ubuntu%e3%80%82-3/" ref="nofollow noopener noreferrer">åœ¨WSL2ä¸­è½»æ¾é‡æ–°å®‰è£…Ubuntu - Blog - Silicon Cloud</a></p>
</li>
</ol>
<h2 data-id="heading-1">å®‰è£…</h2>
<p><strong>ç¬¬ä¸€æ­¥ï¼šå¼€å¯ WSL çš„ systemd</strong></p>
<p>Clawdbot çš„ç½‘å…³ï¼ˆGatewayï¼‰éœ€è¦ systemd æ¥å®ç°å¼€æœºè‡ªå¯å’Œåå°å¸¸é©»ã€‚</p>
<ol>
<li>åœ¨ WSL ç»ˆç«¯ä¸­è¿è¡Œï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">sudo <span class="hljs-built_in">tee</span> /etc/wsl.conf &gt;/dev/null &lt;&lt;<span class="hljs-string">'EOF'</span>
[boot]
systemd=<span class="hljs-literal">true</span>
EOF
</code></pre>
<p><strong>é‡å¯ WSL</strong>ï¼šåœ¨ Windows PowerShell ä¸­è¿è¡ŒÂ <code>wsl --shutdown</code>ï¼Œç„¶åé‡æ–°æ‰“å¼€ Ubuntuã€‚</p>
<p><strong>éªŒè¯</strong>ï¼šè¾“å…¥Â <code>systemctl -``-user status</code>ï¼Œå¦‚æœæ²¡æœ‰æŠ¥é”™å³è¡¨ç¤ºæˆåŠŸã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5726c88b1315405a828606926ff5798b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbHVrYTEwMTI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770372241&amp;x-signature=Z1G43b%2B2MoJeFpPIfigNvjbvJ5w%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ç¬¬äºŒæ­¥ï¼šå®‰è£… Node.js 22 (å·²ç»å®‰è£…è¿‡å¯ä»¥å¿½ç•¥)</strong></p>
<p>Clawdbot è¦æ±‚Â Node.jsÂ ç‰ˆæœ¬è‡³å°‘ä¸ºÂ <strong>22.12.0</strong>ã€‚å»ºè®®ä½¿ç”¨ NVM è¿›è¡Œå®‰è£…ï¼Œè¿™æ ·ä¸ä¼šæ±¡æŸ“ç³»ç»Ÿç¯å¢ƒï¼š</p>
<p><strong>1ã€å®‰è£… NVM</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.1/install.sh | bash
</code></pre>
<p>2ã€<strong>å®‰è£… Node 22</strong>ï¼ˆåˆ·æ–°ç»ˆç«¯æˆ–è¿è¡ŒÂ <code>source ~/.bashrc</code>Â åï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">nvm install 22
nvm use 22
node -v  <span class="hljs-comment"># åº”æ˜¾ç¤º v22.x.x</span>
</code></pre>
<h4 data-id="heading-2">ç¬¬ä¸‰æ­¥ï¼šä¸€é”®å®‰è£… Clawdbot</h4>
<p>ä½¿ç”¨å®˜æ–¹æä¾›çš„å®‰è£…è„šæœ¬ï¼Œå®ƒä¼šè‡ªåŠ¨é…ç½®ç¯å¢ƒå¹¶å®‰è£… CLI å·¥å…·ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -fsSL https://openclaw.bot/install.sh | bash
</code></pre>
<p>ä¸‹è½½å®Œæˆåæœ‰è®¸å¤šé…ç½®è®©ä½ é€‰ï¼Œé€šè¿‡é”®ç›˜ä¸Šä¸‹å·¦å³é€‰æ‹©ï¼Œä»¥åŠç©ºæ ¼é€‰ä¸­å’Œå›è½¦æ¥ç¡®å®šã€‚è¿™é‡Œå°±çœç•¥æ‰äº†ï¼Œå¯ä»¥å…¨éƒ¨[ skip for now ]ï¼Œæœ€é‡è¦çš„æ˜¯å…ˆè·‘èµ·è·¯æ¥ã€‚make it workï¼</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe50d5e1455f438f9282f84a93341848~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbHVrYTEwMTI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770372241&amp;x-signature=ZsRoUiTD6KB55Uyx2O4%2BNH614Go%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™é‡Œå°±å·®ä¸å¤šäº†ã€‚æ—¢ç„¶å®‰è£…å®Œäº†ï¼Œå°±è¦è®©å®ƒåŠ¨èµ·æ¥ã€‚</p>
<h2 data-id="heading-3"><a href="https://link.juejin.cn?target=" title="" ref="nofollow noopener noreferrer"/>ä½¿ç”¨</h2>
<p>ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨</p>
<pre><code class="hljs language-bash" lang="bash">openclaw gateway --verbose
</code></pre>
<p>ç»ˆç«¯ä¼šè¿è¡Œ clawdbotæœåŠ¡ï¼Œå¯ä»¥ä¿æŒè¿™ä¸ªç»ˆç«¯çš„çŠ¶æ€ï¼Œæ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œè¾“å…¥</p>
<pre><code class="hljs language-bash" lang="bash">openclawÂ dashboard
</code></pre>
<p>ç”Ÿæˆäº†ä¸€ä¸ªå¸¦æœ‰tokençš„é“¾æ¥ï¼Œæ‰“å¼€å®ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c36cf640e009477ea7c58fbb221662e6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbHVrYTEwMTI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770372241&amp;x-signature=DmHfh%2FxQvBH9G88PMG%2FemDZCjFM%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c5a6326fcf54ef89573b40111546ab5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbHVrYTEwMTI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770372241&amp;x-signature=hAhiO1gCQ55y1WygeVvbJCFc6TM%3D" alt="image.png" loading="lazy"/></p>
<p>åˆ°è¿™å°±å·²â€åŸºæœ¬æˆåŠŸâ€œã€‚</p>
<p>é…ç½®APIæ–¹æ³• ï¼š<a href="https://juejin.cn/post/7600953879500619827" target="_blank" title="https://juejin.cn/post/7600953879500619827">openclaw UIæ–¹å¼é…ç½®APIåœ¨æ‰§è¡Œ openclaw dashborad æŒ‡ä»¤åæ‰“å¼€å¸¦æœ‰tokençš„urlé“¾æ¥ï¼Œ - æ˜é‡‘</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Clawdbot/Moltbotï¼šå¯¹æ¥Telegramé…ç½®å®å½•ï¼ˆé™„æœ‰LLM æ‘˜è¦ï¼‰]]></title>    <link>https://juejin.cn/post/7600752623068741642</link>    <guid>https://juejin.cn/post/7600752623068741642</guid>    <pubDate>2026-01-30T09:32:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600752623068741642" data-draft-id="7600967006892949513" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Clawdbot/Moltbotï¼šå¯¹æ¥Telegramé…ç½®å®å½•ï¼ˆé™„æœ‰LLM æ‘˜è¦ï¼‰"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,AIGC"/> <meta itemprop="datePublished" content="2026-01-30T09:32:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="yezannnnnn"/> <meta itemprop="url" content="https://juejin.cn/user/958429869908247"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Clawdbot/Moltbotï¼šå¯¹æ¥Telegramé…ç½®å®å½•ï¼ˆé™„æœ‰LLM æ‘˜è¦ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/958429869908247/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    yezannnnnn
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:32:04.000Z" title="Fri Jan 30 2026 09:32:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{font-family:-apple-system,system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial;color:#00325e}.markdown-body ::selection{background-color:#00325e;color:#fff}.markdown-body blockquote{padding:10px 20px;background-color:#fffaf0;box-shadow:0 3px 10px 0 rgba(255,172,194,.24);border:1px solid #f3ca8e;transition:all .2s;margin:1em 0;border-radius:5px}.markdown-body blockquote p{font-size:14px;line-height:25px;color:#795548}.markdown-body blockquote p:last-child{margin:0}.markdown-body blockquote:hover{border-color:#ff9800;background-color:#fff8e0;box-shadow:0 6px 10px -5px rgba(225,173,98,.3803921569)}.markdown-body blockquote code{color:#ff502c}.markdown-body pre{border:1px solid #8cc0f3;box-shadow:0 3px 10px 0 rgba(255,198,198,.28);border-radius:5px;transition:all .2s;overflow-x:auto;white-space:pre-wrap}.markdown-body pre:hover{border-color:#6d9dce}.markdown-body pre&gt;code{padding:10px 20px;color:#00325e;background:#f0f8ff;font-size:12px;line-height:1.6;display:block}.markdown-body code{background:#f6fbff;color:#0b5393;padding:2px 4px;border-radius:4px;font-size:12px}.markdown-body p{font-size:14px;line-height:28px;text-align:justify;margin-bottom:17px;color:#595959}.markdown-body a{color:#00325e;text-decoration:none}.markdown-body a:after{content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAQdJREFUKFNt0DtLA0EUBeBzZle0Eks7rcUfEfBRCha7NorYa6NmVJzgyi4smUgKtdZGCJktLMVH4Y8QeztLWyE7VyLEuNFbXj4Oh0P8c8mZm+uJrEN4BJFTeP/MUVe3bnocfALwkOlo1zS7iZAzf6Cx7oXgbaqjxiDEWCcVaGyxQ8pSWo9XhqhoQ/xUFbaKjhe5V+CmR7mnSplEEF6GSmJ+F/d0KHvbCIIJCLc85U6BC5mONgbJNM3uFag++sX7z8O8MzsWBucifMx0dDGE1kmm458KDVukAlnNdDz/exEeW3dNkbfsYC0xtmgDWP6ELLZ0/F6BJu/UoFQN5AkoeUjeJPvx6+i+X5Sjah4tA6gYAAAAAElFTkSuQmCC);margin-left:2px}.markdown-body a:hover{box-shadow:0 1px}.markdown-body table{max-width:100%;border-collapse:collapse;border-spacing:0;box-shadow:0 3px 10px 0 rgba(255,238,172,.24);transition:all .2s}.markdown-body table:hover{box-shadow:0 3px 10px 0 rgba(185,169,103,.24)}.markdown-body table tr th{border:1px solid #8cc0f3;background-color:#f0f8ff;padding:12px 15px}.markdown-body table tr td{border:1px solid rgba(243,202,142,.4);padding:12px 15px}.markdown-body table tbody tr{transition:all .2s}.markdown-body table tbody tr:hover td{border-color:#f3ca8e;background-color:#fff8e0;z-index:1}.markdown-body img{max-width:100%}.markdown-body h1{font-size:20px;margin-top:30px;margin-bottom:10px;padding-left:30px;position:relative}.markdown-body h1&gt;code{font-size:20px}.markdown-body h1:before{content:"ğŸº";display:block;font-size:18px;width:18px;height:18px;left:0;position:absolute}.markdown-body h2{font-size:18px;margin-top:30px;margin-bottom:10px;padding-left:28px;position:relative}.markdown-body h2&gt;code{font-size:18px}.markdown-body h2:before{content:"ğŸ»";display:block;font-size:16px;width:16px;height:16px;left:0;position:absolute}.markdown-body h3{font-size:16px;margin-top:30px;margin-bottom:10px;padding-left:26px;position:relative}.markdown-body h3&gt;code{font-size:16px}.markdown-body h3:before{content:"ğŸ¥‚";display:block;font-size:14px;width:14px;height:14px;left:0;position:absolute}.markdown-body h4{font-size:14px;margin-top:30px;margin-bottom:10px;padding-left:24px;position:relative}.markdown-body h4&gt;code{font-size:14px}.markdown-body h4:before{content:"ğŸ¥ƒ";display:block;font-size:12px;width:12px;height:12px;left:0;position:absolute}.markdown-body h5{font-size:12px;margin-top:30px;margin-bottom:10px}.markdown-body h5&gt;code{font-size:12px}.markdown-body h6{font-size:10px;margin-top:30px;margin-bottom:10px}.markdown-body h6&gt;code{font-size:10px}.markdown-body h1,.markdown-body h2{color:#ff502c}.markdown-body hr{height:4px;border:none;margin-top:32px;margin-bottom:32px;background-size:4px 1px;background-image:linear-gradient(270deg,#6d9dce,#8cc0f3 25%,transparent 50%)}.markdown-body hr:nth-child(2n){background-image:linear-gradient(270deg,#ff9800,#fff8e0 25%,transparent 50%)}.markdown-body ul{padding-inline-start:20px}.markdown-body ul li{list-style-type:"ğŸ”¸"}.markdown-body ul li li{list-style-type:"â—»ï¸"}.markdown-body ul li li li{list-style-type:"â–«ï¸"}.markdown-body ol{padding-inline-start:20px}.markdown-body ol ::marker{color:#ff9800}.markdown-body ol,.markdown-body ul{line-height:2em}.markdown-body li{padding-inline-start:1ch}.markdown-body li.task-list-item{list-style:none;padding-inline-start:0}.markdown-body li input{padding-right:2px}.markdown-body li input[type=checkbox i]{appearance:none}.markdown-body li input:before{content:"ğŸŸ©";display:block;width:13px;height:13px}.markdown-body li input:checked:before{content:"âœ…"}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atelier-sulphurpool-light">.hljs-comment,.hljs-quote{color:#6b7394}.hljs-attribute,.hljs-link,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#c94922}.hljs-built_in,.hljs-builtin-name,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#c76b29}.hljs-bullet,.hljs-string,.hljs-symbol{color:#ac9739}.hljs-section,.hljs-title{color:#3d8fd1}.hljs-keyword,.hljs-selector-tag{color:#6679cc}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#f5f7ff;color:#5e6687}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Clawdbot/Moltbotï¼šå¯¹æ¥Telegramé…ç½®å®å½•</h2>
<blockquote>
<p>ä»å®‰è£…åˆ° Telegram é›†æˆï¼Œä¸€ä¸ªæŠ˜è…¾äº†æ•°å°æ—¶çš„çœŸå®ç»å†</p>
</blockquote>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>Clawdbotï¼ˆç°å·²æ›´åä¸º Moltbotï¼‰æ˜¯ä¸€ä¸ªå¼€æºçš„æœ¬åœ° AI åŠ©æ‰‹ï¼Œå¯ä»¥é€šè¿‡ Telegramã€WhatsAppã€Discord ç­‰æ¶ˆæ¯åº”ç”¨ä¸ Claude æ¨¡å‹äº¤äº’ã€‚æœ¬æ–‡è®°å½•äº†åœ¨ç‰¹æ®Šç½‘ç»œç¯å¢ƒä¸‹é…ç½® Clawdbot çš„å®Œæ•´è¿‡ç¨‹ï¼ŒåŒ…æ‹¬é‡åˆ°çš„å„ç§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚</p>
<p><strong>ç¯å¢ƒä¿¡æ¯ï¼š</strong></p>
<ul>
<li>æ“ä½œç³»ç»Ÿï¼šmacOS 14.5</li>
<li>Node.jsï¼šv22.22.0</li>
<li>Clawdbot ç‰ˆæœ¬ï¼š2026.1.24-3</li>
<li>ç½‘ç»œç¯å¢ƒï¼šéœ€è¦é­”æ³•ä¸Šç½‘è®¿é—®å¢ƒå¤–æœåŠ¡</li>
</ul>
<hr/>
<h3 data-id="heading-2">ä¸€ã€å®‰è£… Clawdbot</h3>
<h4 data-id="heading-3">1.1 å‰ç½®æ¡ä»¶</h4>
<p>ç¡®ä¿ Node.js ç‰ˆæœ¬ä¸ä½äº 22.0.0ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ nvm å®‰è£…</span>
nvm install 22
nvm use 22
nvm <span class="hljs-built_in">alias</span> default 22

<span class="hljs-comment"># éªŒè¯ç‰ˆæœ¬</span>
node --version  <span class="hljs-comment"># åº”æ˜¾ç¤º v22.x.x</span>
</code></pre>
<h4 data-id="heading-4">1.2 å…¨å±€å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash">npm install -g clawdbot
</code></pre>
<h4 data-id="heading-5">1.3 åˆå§‹åŒ–é…ç½®</h4>
<pre><code class="hljs language-bash" lang="bash">clawdbot onboard
</code></pre>
<p>é…ç½®å‘å¯¼ä¼šå¼•å¯¼ä½ å®ŒæˆåŸºæœ¬è®¾ç½®ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">ğŸ¦ Clawdbot <span class="hljs-number">2026.1</span>.<span class="hljs-number">24</span>-<span class="hljs-number">3</span>
â”‚
â—‡  å®‰å…¨æç¤º â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚  Clawdbot å¯ä»¥è¿è¡Œå‘½ä»¤ã€è¯»å†™æ–‡ä»¶ï¼Œè¯·ç¡®ä¿äº†è§£ç›¸å…³é£é™©ã€‚        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
â”‚
â—‡  æˆ‘å·²äº†è§£é£é™©ï¼Œç»§ç»­ï¼Ÿ
â”‚  æ˜¯
â”‚
â—‡  é€‰æ‹©æ¨¡å‹/è®¤è¯æä¾›å•†
â”‚  Anthropic
â”‚
â—‡  é€‰æ‹©è®¤è¯æ–¹å¼
â”‚  Anthropic API <span class="hljs-keyword">key</span>
</code></pre>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/455024c278a5446dab4debca9ced00af~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeWV6YW5ubm5ubg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770370826&amp;x-signature=1SC%2B7yAyhQf0De300pq0FYMl0oE%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-6">äºŒã€API ä»£ç†é…ç½®ï¼ˆæ¨èæ–¹æ¡ˆï¼‰</h3>
<p>å¯¹äºéœ€è¦é­”æ³•ä¸Šç½‘çš„ç”¨æˆ·ï¼Œä½¿ç”¨ç¬¬ä¸‰æ–¹ API ä»£ç†æœåŠ¡æ˜¯æœ€ç¨³å®šçš„æ–¹æ¡ˆã€‚</p>
<h4 data-id="heading-7">2.1 é…ç½®æ–‡ä»¶ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">~/.clawdbot/
â”œâ”€â”€ clawdbot.json                    <span class="hljs-comment"># ä¸»é…ç½®æ–‡ä»¶</span>
â””â”€â”€ agents/
    â””â”€â”€ main/
        â””â”€â”€ agent/
            â””â”€â”€ auth-profiles.json   <span class="hljs-comment"># è®¤è¯é…ç½®æ–‡ä»¶</span>
</code></pre>
<h4 data-id="heading-8">2.2 ä¸»é…ç½®æ–‡ä»¶</h4>
<p><strong>æ–‡ä»¶ä½ç½®ï¼š</strong> <code>~/.clawdbot/clawdbot.json</code></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"models"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"providers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"anthropic"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"baseUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://ä½ çš„ä»£ç†åœ°å€.com"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"apiKey"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ çš„APIå¯†é’¥"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"api"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"anthropic-messages"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"models"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"agents"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"defaults"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"primary"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"anthropic/claude-sonnet-4-5-20250929"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"workspace"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/Users/ä½ çš„ç”¨æˆ·å/clawd"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-9">2.3 å…³é”®é…ç½®é¡¹è¯´æ˜</h4>






























<table><thead><tr><th>å­—æ®µ</th><th>è¯´æ˜</th><th align="center">å¿…éœ€</th></tr></thead><tbody><tr><td><code>baseUrl</code></td><td>API ä»£ç†åœ°å€</td><td align="center">âœ…</td></tr><tr><td><code>apiKey</code></td><td>ä»£ç†æœåŠ¡çš„ API å¯†é’¥</td><td align="center">âœ…</td></tr><tr><td><code>api</code></td><td><strong>å¿…é¡»</strong>è®¾ç½®ä¸º <code>anthropic-messages</code></td><td align="center">âœ…</td></tr><tr><td><code>models</code></td><td><strong>å¿…é¡»</strong>åŒ…å«æ­¤å­—æ®µï¼Œå¯ä»¥ä¸ºç©ºæ•°ç»„ <code>[]</code></td><td align="center">âœ…</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ <strong>è¸©å‘ç‚¹ï¼š</strong> å¦‚æœç¼ºå°‘ <code>api</code> æˆ– <code>models</code> å­—æ®µï¼Œä¼šå¯¼è‡´ HTTP 403 é”™è¯¯ï¼è¿™æ˜¯æˆ‘èŠ±äº†å¾ˆé•¿æ—¶é—´æ‰å‘ç°çš„é—®é¢˜ã€‚</p>
</blockquote>
<h4 data-id="heading-10">2.4 è®¤è¯é…ç½®æ–‡ä»¶</h4>
<p><strong>æ–‡ä»¶ä½ç½®ï¼š</strong> <code>~/.clawdbot/agents/main/agent/auth-profiles.json</code></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"profiles"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"anthropic:default"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"api_key"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"provider"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"anthropic"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"apiKey"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ çš„APIå¯†é’¥"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-11">2.5 éªŒè¯ API é…ç½®</h4>
<p>é…ç½®å®Œæˆåï¼Œç”¨ curl æµ‹è¯• API æ˜¯å¦å¯ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># âŒ è¿™é‡Œæ³¨æ„è¯·æ±‚çš„modelæ˜¯è‡ªå·±ä»¤ç‰Œæ”¯æŒçš„ï¼</span>
curl -H <span class="hljs-string">"x-api-key: ä½ çš„APIå¯†é’¥"</span> \
  -H <span class="hljs-string">"content-type: application/json"</span> \
  -H <span class="hljs-string">"anthropic-version: 2023-06-01"</span> \
  -d <span class="hljs-string">'{"model":"claude-sonnet-4-5-20250929","max_tokens":50,"messages":[{"role":"user","content":"ä½ å¥½"}]}'</span> \
  https://ä½ çš„ä»£ç†åœ°å€.com/v1/messages
</code></pre>
<p>é¢„æœŸè¿”å›ç±»ä¼¼ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"msg_xxx"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"message"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span><span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"text"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"text"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ å¥½ï¼æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ"</span><span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-12">ä¸‰ã€ä»£ç†é…ç½®ï¼ˆæ ¸å¿ƒéš¾ç‚¹ï¼‰</h3>
<p>ç”±äº Telegram API éœ€è¦é­”æ³•è®¿é—®ï¼Œè¿™æ˜¯é…ç½®ä¸­æœ€å¤æ‚çš„éƒ¨åˆ†ã€‚</p>
<h4 data-id="heading-13">3.1 é—®é¢˜ï¼šNode.js ä¸è¯»å–ç³»ç»Ÿä»£ç†</h4>
<p>è®¾ç½®ç¯å¢ƒå˜é‡å¯¹ Node.js 22 çš„ç½‘ç»œè¯·æ±‚æ— æ•ˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># âŒ è¿™æ ·åšæ˜¯æ— æ•ˆçš„ï¼</span>
<span class="hljs-built_in">export</span> HTTP_PROXY=http://127.0.0.1:1087
<span class="hljs-built_in">export</span> HTTPS_PROXY=http://127.0.0.1:1087
clawdbot gateway  <span class="hljs-comment"># Telegram è¿æ¥ä»ä¼šå¤±è´¥</span>
</code></pre>
<p>ä¼šçœ‹åˆ°å¦‚ä¸‹é”™è¯¯ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">[<span class="hljs-meta">telegram</span>] telegram setMyCommands failed: HttpError: Network request failed!
[<span class="hljs-meta">clawdbot</span>] Unhandled promise rejection: TypeError: fetch failed
</code></pre>
<h4 data-id="heading-14">3.2 è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ undici ä»£ç†</h4>
<blockquote>
<p>å®‰è£…å‰è¯·å…ˆæœ‰è‡ªå·±çš„æ¢¯å­ï¼Œç¬”è€…ç”¨çš„<strong>shadowsocks</strong>ä¸”ä»£ç†ç«¯å£1087</p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/53168b4ea2494604a783bd18331c2f2b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeWV6YW5ubm5ubg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770370826&amp;x-signature=NZq8ORaJyAxIq7KtD2KITM8tM10%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ­¥éª¤ä¸€ï¼šå®‰è£… undici</strong></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4611913382d14081a6e3afa7a30924cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeWV6YW5ubm5ubg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770370826&amp;x-signature=O6QpF3f58%2BTfCWq%2BAgzixgUh5TQ%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-bash" lang="bash">npm install -g undici
</code></pre>
<p><strong>æ­¥éª¤äºŒï¼šåˆ›å»ºä»£ç†é…ç½®è„šæœ¬</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> &gt; ~/proxy-setup.js &lt;&lt; <span class="hljs-string">'EOF'</span>
const { setGlobalDispatcher, ProxyAgent } = require(<span class="hljs-string">'undici'</span>);
setGlobalDispatcher(new ProxyAgent(<span class="hljs-string">'http://127.0.0.1:1087'</span>));
console.log(<span class="hljs-string">'[ä»£ç†] å·²è®¾ç½®å…¨å±€ä»£ç†: http://127.0.0.1:1087'</span>);
EOF
</code></pre>
<blockquote>
<p>æ³¨æ„ï¼šè¯·å°† <code>1087</code> æ›¿æ¢ä¸ºä½ å®é™…çš„ä»£ç†ç«¯å£</p>
</blockquote>
<p><strong>æ­¥éª¤ä¸‰ï¼šåˆ›å»ºå¯åŠ¨è„šæœ¬</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> &gt; ~/start-clawdbot.sh &lt;&lt; <span class="hljs-string">'EOF'</span>
<span class="hljs-comment">#!/bin/bash</span>
NODE_PATH=$(npm root -g) node --require ~/proxy-setup.js $(<span class="hljs-built_in">which</span> clawdbot) gateway --port 18789
EOF

<span class="hljs-built_in">chmod</span> +x ~/start-clawdbot.sh
</code></pre>
<p><strong>æ­¥éª¤å››ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬è¿è¡Œ</strong></p>
<pre><code class="hljs language-bash" lang="bash">~/start-clawdbot.sh
</code></pre>
<p>æˆåŠŸå¯åŠ¨åä¼šçœ‹åˆ°ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-attr">[ä»£ç†]</span> å·²è®¾ç½®å…¨å±€ä»£ç†: <span class="hljs-selector-tag">http</span>:<span class="hljs-comment">//127.0.0.1:1087</span>
ğŸ¦ <span class="hljs-selector-tag">Clawdbot</span> <span class="hljs-number">2026.1</span><span class="hljs-selector-class">.24-3</span>
<span class="hljs-selector-attr">[gateway]</span> æ­£åœ¨ç›‘å¬ <span class="hljs-selector-tag">ws</span>:<span class="hljs-comment">//127.0.0.1:18789</span>
<span class="hljs-selector-attr">[telegram]</span> <span class="hljs-selector-attr">[default]</span> æ­£åœ¨å¯åŠ¨...
<span class="hljs-selector-attr">[telegram]</span> <span class="hljs-selector-attr">[default]</span> å¯åŠ¨æˆåŠŸ (@ä½ çš„æœºå™¨äººå)
</code></pre>

<p>æœ‰è¿™ä¸ªçº¢æ¡†è¡¨ç¤ºtelegramä¹ŸæˆåŠŸè¿æ¥</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eaa8757d38e40df93fa345d9597701f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeWV6YW5ubm5ubg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770370826&amp;x-signature=ClVetGDsnx8DMK8y5yw3gD8BcWo%3D" alt="image.png" loading="lazy"/></p>
<h4 data-id="heading-15">3.3 éªŒè¯ä»£ç†æ˜¯å¦ç”Ÿæ•ˆ</h4>
<p>æµ‹è¯• Telegram API è¿æ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -x http://127.0.0.1:1087 https://api.telegram.org/botä½ çš„TOKEN/getMe
</code></pre>
<p>å¦‚æœè¿”å›æœºå™¨äººä¿¡æ¯ï¼Œè¯´æ˜ä»£ç†é…ç½®æ­£ç¡®ã€‚</p>
<hr/>
<h3 data-id="heading-16">å››ã€Telegram æœºå™¨äººé…ç½®</h3>
<h4 data-id="heading-17">4.1 åˆ›å»º Telegram æœºå™¨äºº</h4>
<ol>
<li>åœ¨ Telegram æœç´¢ <strong>@BotFather</strong></li>
<li>å‘é€ <code>/newbot</code></li>
<li>æŒ‰æç¤ºè®¾ç½®æœºå™¨äººåç§°å’Œç”¨æˆ·å</li>
<li>è·å–æœºå™¨äºº Tokenï¼ˆæ ¼å¼ç±»ä¼¼ <code>123456789:ABCdefGHIjklMNOpqrsTUVwxyz</code>ï¼‰</li>
</ol>
<h4 data-id="heading-18">4.2 é…ç½® Clawdbot</h4>
<p>åœ¨ <code>~/.clawdbot/clawdbot.json</code> ä¸­æ·»åŠ  Telegram é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"channels"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"telegram"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"dmPolicy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pairing"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"botToken"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ çš„æœºå™¨äººToken"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"groupPolicy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"allowlist"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"streamMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"partial"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-19">4.3 é…å¯¹ä½ çš„ Telegram è´¦å·</h4>
<ol>
<li>ä½¿ç”¨ä»£ç†å¯åŠ¨ Gatewayï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">~/start-clawdbot.sh
</code></pre>
<ol start="2">
<li>
<p>åœ¨ Telegram ç»™ä½ çš„æœºå™¨äººå‘é€ä»»æ„æ¶ˆæ¯</p>
</li>
<li>
<p>æœºå™¨äººä¼šå›å¤é…å¯¹ç ï¼š</p>
</li>
</ol>

<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Clawdbot: è®¿é—®æœªé…ç½®</span>

ä½ çš„ Telegram ç”¨æˆ· ID: 123456789
<span class="hljs-section">é…å¯¹ç : ABC12345</span>

è¯·æœºå™¨äººç®¡ç†å‘˜æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ‰¹å‡†ï¼š
clawdbot pairing approve telegram ABC12345

</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5597b49de3f347329f1787d65d5b9469~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeWV6YW5ubm5ubg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770370826&amp;x-signature=6sRdy%2BYzIZO%2FtQVpY7XaAteSL1E%3D" alt="image.png" loading="lazy"/></p>
<ol start="4">
<li>åœ¨ç»ˆç«¯æ‰§è¡Œæ‰¹å‡†å‘½ä»¤ï¼š</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">clawdbot pairing approve telegram ABC12345
</code></pre>
<ol start="5">
<li>é…å¯¹æˆåŠŸåå³å¯æ­£å¸¸å¯¹è¯</li>
</ol>

<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4b4fd1fef8da496680e68df3afaa25b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeWV6YW5ubm5ubg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770370826&amp;x-signature=uRAGH9BIbYm29iGyuqqOPcLDSZI%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-20">äº”ã€Web æ§åˆ¶é¢æ¿</h3>
<p>Clawdbot æä¾›äº†ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„ Web æ§åˆ¶é¢æ¿ã€‚</p>
<h4 data-id="heading-21">5.1 è®¿é—®åœ°å€</h4>
<p>Gateway å¯åŠ¨åï¼Œè®¿é—®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">http://127.0.0.1:18789/?<span class="hljs-attr">token</span>=ä½ çš„gateway_token
</code></pre>
<p>æˆ–è€…ä½¿ç”¨å‘½ä»¤è‡ªåŠ¨æ‰“å¼€ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">clawdbot dashboard
</code></pre>
<h4 data-id="heading-22">5.2 ä¸»è¦åŠŸèƒ½</h4>
<ul>
<li><strong>ğŸ’¬ å¯¹è¯</strong>ï¼šç›´æ¥ä¸ AI å¯¹è¯</li>
<li><strong>ğŸ“Š æ¦‚è§ˆ</strong>ï¼šæŸ¥çœ‹ç³»ç»ŸçŠ¶æ€</li>
<li><strong>ğŸ”Œ é¢‘é“</strong>ï¼šç®¡ç† Telegram/WhatsApp ç­‰è¿æ¥</li>
<li><strong>ğŸ“ ä¼šè¯</strong>ï¼šæŸ¥çœ‹å’Œç®¡ç†å¯¹è¯å†å²</li>
<li><strong>âš™ï¸ é…ç½®</strong>ï¼šä¿®æ”¹å„é¡¹è®¾ç½®</li>
</ul>
<p>ç¬”è€…è®©ä»–å¸®å¿™ç¼–å†™è¿™ç¯‡æ–‡æ¡£</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2ece21d89f564b629c84877c8d5b72d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeWV6YW5ubm5ubg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770370826&amp;x-signature=gz1pbYCZC1eAM4O3SF8gCRFctI8%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-23">å…­ã€å®Œæ•´é…ç½®æ–‡ä»¶å‚è€ƒ</h3>
<h4 data-id="heading-24">6.1 ä¸»é…ç½®æ–‡ä»¶ <code>~/.clawdbot/clawdbot.json</code></h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"meta"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"lastTouchedVersion"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"2026.1.24-3"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"models"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"providers"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"anthropic"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"baseUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://ä½ çš„ä»£ç†åœ°å€.com"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"apiKey"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ çš„APIå¯†é’¥"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"api"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"anthropic-messages"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"models"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"agents"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"defaults"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"workspace"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/Users/ä½ çš„ç”¨æˆ·å/clawd"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"model"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"primary"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"anthropic/claude-sonnet-4-5-20250929"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"compaction"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"safeguard"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"maxConcurrent"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"channels"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"telegram"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"enabled"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"dmPolicy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"pairing"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"botToken"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ çš„æœºå™¨äººToken"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"groupPolicy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"allowlist"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"streamMode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"partial"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"gateway"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"port"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">18789</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"local"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"bind"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"loopback"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"auth"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"mode"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"token"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"token"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ çš„gateway_token"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-25">6.2 è®¤è¯é…ç½®æ–‡ä»¶</h4>
<p><code>~/.clawdbot/agents/main/agent/auth-profiles.json</code></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"profiles"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"anthropic:default"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"api_key"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"provider"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"anthropic"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"apiKey"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ çš„APIå¯†é’¥"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<hr/>
<h3 data-id="heading-26">ä¸ƒã€å¸¸è§é—®é¢˜æ’æŸ¥</h3>
<h4 data-id="heading-27">7.1 HTTP 403 é”™è¯¯</h4>
<p><strong>å¯èƒ½åŸå› ï¼š</strong></p>
<ul>
<li>ç¼ºå°‘ <code>api: "anthropic-messages"</code> é…ç½®</li>
<li>ç¼ºå°‘ <code>models: []</code> å­—æ®µ</li>
<li>API å¯†é’¥æ— æ•ˆæˆ–ä½™é¢ä¸è¶³</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>
æ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼ï¼Œç¡®ä¿åŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µã€‚</p>
<h4 data-id="heading-28">7.2 Telegram è¿æ¥å¤±è´¥</h4>
<p><strong>é”™è¯¯ä¿¡æ¯ï¼š</strong></p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">TypeError</span>: fetch failed
</code></pre>
<p><strong>å¯èƒ½åŸå› ï¼š</strong></p>
<ul>
<li>ä»£ç†æœªæ­£ç¡®é…ç½®</li>
<li>Node.js çš„ç½‘ç»œè¯·æ±‚æ²¡æœ‰èµ°ä»£ç†</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>
ä½¿ç”¨ undici ä»£ç†æ–¹æ¡ˆï¼ˆè§ç¬¬ä¸‰èŠ‚ï¼‰ã€‚</p>
<h4 data-id="heading-29">7.3 Gateway å¯åŠ¨ä½†æ— å“åº”</h4>
<p><strong>æ£€æŸ¥æ­¥éª¤ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹çŠ¶æ€</span>
clawdbot status

<span class="hljs-comment"># æŸ¥çœ‹æ—¥å¿—</span>
<span class="hljs-built_in">tail</span> -f /tmp/clawdbot/clawdbot-$(<span class="hljs-built_in">date</span> +%Y-%m-%d).<span class="hljs-built_in">log</span>
</code></pre>
<h4 data-id="heading-30">7.4 é…å¯¹ç ä¸æ˜¾ç¤º</h4>
<p><strong>å¯èƒ½åŸå› ï¼š</strong></p>
<ul>
<li>Telegram æœºå™¨äºº Token æ— æ•ˆ</li>
<li>ä»£ç†è¿æ¥ä¸ç¨³å®š</li>
</ul>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ol>
<li>éªŒè¯ Tokenï¼š<code>curl -x http://127.0.0.1:1087 https://api.telegram.org/botä½ çš„TOKEN/getMe</code></li>
<li>æ£€æŸ¥ä»£ç†è¿æ¥æ˜¯å¦æ­£å¸¸</li>
</ol>
<hr/>
<h3 data-id="heading-31">å…«ã€å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥</h3>













































<table><thead><tr><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>clawdbot status</code></td><td>æŸ¥çœ‹çŠ¶æ€</td></tr><tr><td><code>clawdbot status --deep</code></td><td>æŸ¥çœ‹è¯¦ç»†çŠ¶æ€</td></tr><tr><td><code>clawdbot models status</code></td><td>æŸ¥çœ‹æ¨¡å‹çŠ¶æ€</td></tr><tr><td><code>clawdbot logs --follow</code></td><td>å®æ—¶æŸ¥çœ‹æ—¥å¿—</td></tr><tr><td><code>clawdbot gateway restart</code></td><td>é‡å¯ç½‘å…³</td></tr><tr><td><code>clawdbot configure</code></td><td>é…ç½®å‘å¯¼</td></tr><tr><td><code>clawdbot doctor</code></td><td>è¯Šæ–­é—®é¢˜</td></tr><tr><td><code>clawdbot dashboard</code></td><td>æ‰“å¼€æ§åˆ¶é¢æ¿</td></tr><tr><td><code>clawdbot pairing approve telegram &lt;ç &gt;</code></td><td>æ‰¹å‡†é…å¯¹</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-32">ä¹ã€æ€»ç»“</h3>
<p>åœ¨ç‰¹æ®Šç½‘ç»œç¯å¢ƒä¸‹é…ç½® Clawdbot çš„ä¸»è¦æŒ‘æˆ˜ï¼š</p>
<ol>
<li><strong>ä»£ç†é…ç½®å¤æ‚</strong>ï¼šNode.js 22 çš„ç½‘ç»œè¯·æ±‚ä¸è¯»å–ç¯å¢ƒå˜é‡ä»£ç†ï¼Œéœ€è¦ä½¿ç”¨ undici æ–¹æ¡ˆ</li>
<li><strong>é…ç½®æ ¼å¼ä¸¥æ ¼</strong>ï¼š<code>api</code> å’Œ <code>models</code> å­—æ®µç¼ºä¸€ä¸å¯ï¼Œå¦åˆ™ä¼šæŠ¥ 403 é”™è¯¯</li>
<li><strong>å¤šä¸ªé…ç½®æ–‡ä»¶</strong>ï¼šä¸»é…ç½®å’Œè®¤è¯é…ç½®éœ€è¦åŒæ—¶æ­£ç¡®è®¾ç½®</li>
</ol>
<p><strong>æ¨èæ–¹æ¡ˆï¼š</strong></p>
<ul>
<li>ä½¿ç”¨ API ä»£ç†æœåŠ¡è·å–ç¨³å®šçš„ API è®¿é—®</li>
<li>ä½¿ç”¨ undici + å¯åŠ¨è„šæœ¬é…ç½®å…¨å±€ä»£ç†</li>
<li>ä¿ç•™é…ç½®å¤‡ä»½ï¼Œæ–¹ä¾¿å‡ºé—®é¢˜æ—¶æ¢å¤</li>
</ul>
<hr/>
<h3 data-id="heading-33">å‚è€ƒèµ„æº</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.molt.bot%2F" target="_blank" title="https://docs.molt.bot/" ref="nofollow noopener noreferrer">Moltbot å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmoltbot%2Fmoltbot" target="_blank" title="https://github.com/moltbot/moltbot" ref="nofollow noopener noreferrer">Moltbot GitHub ä»“åº“</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fxianyu110%2Fclawbot" target="_blank" title="https://github.com/xianyu110/clawbot" ref="nofollow noopener noreferrer">é…ç½®æŒ‡å—å‚è€ƒ</a></li>
</ul>
<hr/>
<h3 data-id="heading-34">æ–‡ä»¶ç»“æ„é€ŸæŸ¥</h3>
<pre><code class="hljs language-bash" lang="bash">~/.clawdbot/
â”œâ”€â”€ clawdbot.json                    <span class="hljs-comment"># ä¸»é…ç½®</span>
â”œâ”€â”€ logs/                            <span class="hljs-comment"># æ—¥å¿—ç›®å½•</span>
â”‚   â”œâ”€â”€ gateway.log
â”‚   â””â”€â”€ gateway.err.log
â””â”€â”€ agents/
    â””â”€â”€ main/
        â”œâ”€â”€ agent/
        â”‚   â””â”€â”€ auth-profiles.json   <span class="hljs-comment"># è®¤è¯é…ç½®</span>
        â””â”€â”€ sessions/                <span class="hljs-comment"># ä¼šè¯å­˜å‚¨</span>

~/
â”œâ”€â”€ proxy-setup.js                   <span class="hljs-comment"># ä»£ç†é…ç½®è„šæœ¬</span>
â””â”€â”€ start-clawdbot.sh               <span class="hljs-comment"># å¯åŠ¨è„šæœ¬</span>
</code></pre>
<hr/>
<hr/>
<h3 data-id="heading-35">é™„å½•ï¼šLLMæ‘˜è¦</h3>
<blockquote>
<p>ä»¥ä¸‹æ˜¯æœ¬æ–‡çš„ç»“æ„åŒ–æ‘˜è¦ï¼Œæ–¹ä¾¿å–‚ç»™å…¶ä»– AI æ¨¡å‹å¿«é€Ÿç†è§£ï¼ŒèŠ‚çœ token æ¶ˆè€—ã€‚</p>
</blockquote>
<p>yaml</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># Clawdbot/Moltbot é…ç½®çŸ¥è¯†å¡ç‰‡</span>
<span class="hljs-comment"># ç”Ÿæˆæ—¶é—´: 2026-01</span>
<span class="hljs-comment"># ç”¨é€”: ä¾›AIæ¨¡å‹å¿«é€Ÿç†è§£æœ¬æ–‡æ ¸å¿ƒå†…å®¹</span>

<span class="hljs-attr">meta:</span>
  <span class="hljs-attr">project:</span> <span class="hljs-string">Clawdbot</span> <span class="hljs-string">(å·²æ›´å</span> <span class="hljs-string">Moltbot)</span>
  <span class="hljs-attr">repo:</span> <span class="hljs-string">https://github.com/moltbot/moltbot</span>
  <span class="hljs-attr">docs:</span> <span class="hljs-string">https://docs.molt.bot/</span>
  <span class="hljs-string">åŠŸèƒ½:</span> <span class="hljs-string">æœ¬åœ°AIåŠ©æ‰‹ï¼Œæ”¯æŒTelegram/WhatsApp/Discordæ¥å…¥Claudeæ¨¡å‹</span>

<span class="hljs-string">ç¯å¢ƒè¦æ±‚:</span>
  <span class="hljs-attr">os:</span> <span class="hljs-string">macOS/Linux</span>
  <span class="hljs-attr">node:</span> <span class="hljs-string">"&gt;=22.0.0"</span>
  <span class="hljs-string">å®‰è£…:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span> <span class="hljs-string">-g</span> <span class="hljs-string">clawdbot</span>
  <span class="hljs-string">åˆå§‹åŒ–:</span> <span class="hljs-string">clawdbot</span> <span class="hljs-string">onboard</span>

<span class="hljs-string">é…ç½®æ–‡ä»¶:</span>
  <span class="hljs-string">ä¸»é…ç½®:</span> <span class="hljs-string">~/.clawdbot/clawdbot.json</span>
  <span class="hljs-string">è®¤è¯é…ç½®:</span> <span class="hljs-string">~/.clawdbot/agents/main/agent/auth-profiles.json</span>

<span class="hljs-string">APIä»£ç†é…ç½®:</span>
  <span class="hljs-string">ä½ç½®:</span> <span class="hljs-string">clawdbot.json</span> <span class="hljs-string">-&gt;</span> <span class="hljs-string">models.providers.anthropic</span>
  <span class="hljs-string">å¿…éœ€å­—æ®µ:</span>
    <span class="hljs-attr">baseUrl:</span> <span class="hljs-string">"APIä»£ç†åœ°å€"</span>
    <span class="hljs-attr">apiKey:</span> <span class="hljs-string">"å¯†é’¥"</span>
    <span class="hljs-attr">api:</span> <span class="hljs-string">"anthropic-messages"</span>  <span class="hljs-comment"># å…³é”®ï¼ç¼ºå°‘æŠ¥403</span>
    <span class="hljs-attr">models:</span> []  <span class="hljs-comment"># å…³é”®ï¼å¿…é¡»å­˜åœ¨ï¼Œå¯ä¸ºç©ºæ•°ç»„</span>
  <span class="hljs-string">ç¤ºä¾‹:</span> <span class="hljs-string">|
    {"models":{"providers":{"anthropic":{
      "baseUrl":"https://proxy.example.com",
      "apiKey":"sk-xxx",
      "api":"anthropic-messages",
      "models":[]
    }}}}
</span>
<span class="hljs-string">è®¤è¯é…ç½®:</span>
  <span class="hljs-string">ä½ç½®:</span> <span class="hljs-string">auth-profiles.json</span>
  <span class="hljs-string">æ ¼å¼:</span> <span class="hljs-string">|
    {"version":1,"profiles":{"anthropic:default":{
      "type":"api_key","provider":"anthropic","apiKey":"sk-xxx"
    }}}
</span>
<span class="hljs-string">ç½‘ç»œä»£ç†é—®é¢˜:</span>
  <span class="hljs-string">ç—‡çŠ¶:</span> <span class="hljs-string">Telegramè¿æ¥å¤±è´¥ï¼Œfetch</span> <span class="hljs-string">failed</span>
  <span class="hljs-string">åŸå› :</span> <span class="hljs-string">Node.js</span> <span class="hljs-number">22</span> <span class="hljs-string">çš„</span> <span class="hljs-string">fetch</span> <span class="hljs-string">ä¸è¯»å–</span> <span class="hljs-string">HTTP_PROXY</span> <span class="hljs-string">ç¯å¢ƒå˜é‡</span>
  <span class="hljs-string">é”™è¯¯æ–¹å¼:</span> <span class="hljs-string">export</span> <span class="hljs-string">HTTP_PROXY=...</span> <span class="hljs-string">æ— æ•ˆ</span>
  <span class="hljs-string">æ­£ç¡®æ–¹æ¡ˆ:</span>
    <span class="hljs-string">1_å®‰è£…:</span> <span class="hljs-string">npm</span> <span class="hljs-string">install</span> <span class="hljs-string">-g</span> <span class="hljs-string">undici</span>
    <span class="hljs-string">2_åˆ›å»ºè„šæœ¬:</span> <span class="hljs-string">|
      # ~/proxy-setup.js
      const {setGlobalDispatcher,ProxyAgent}=require('undici');
      setGlobalDispatcher(new ProxyAgent('http://127.0.0.1:ç«¯å£'));
</span>    <span class="hljs-string">3_å¯åŠ¨å‘½ä»¤:</span> <span class="hljs-string">|
      NODE_PATH=$(npm root -g) node --require ~/proxy-setup.js $(which clawdbot) gateway --port 18789
</span>
<span class="hljs-string">Telegramé…ç½®:</span>
  <span class="hljs-string">é…ç½®ä½ç½®:</span> <span class="hljs-string">clawdbot.json</span> <span class="hljs-string">-&gt;</span> <span class="hljs-string">channels.telegram</span>
  <span class="hljs-string">å¿…éœ€å­—æ®µ:</span> {<span class="hljs-string">enabled:true</span>, <span class="hljs-string">botToken:"xxx"</span>, <span class="hljs-string">dmPolicy:"pairing"</span>}
  <span class="hljs-string">é…å¯¹æµç¨‹:</span>
    <span class="hljs-attr">1:</span> <span class="hljs-string">é€šè¿‡@BotFatheråˆ›å»ºæœºå™¨äººè·å–token</span>
    <span class="hljs-attr">2:</span> <span class="hljs-string">é…ç½®clawdbot.json</span>
    <span class="hljs-attr">3:</span> <span class="hljs-string">å¯åŠ¨gateway</span>
    <span class="hljs-attr">4:</span> <span class="hljs-string">Telegramå‘æ¶ˆæ¯ç»™bot</span>
    <span class="hljs-attr">5:</span> <span class="hljs-string">è·å–é…å¯¹ç </span>
    <span class="hljs-attr">6:</span> <span class="hljs-string">æ‰§è¡Œ</span> <span class="hljs-string">clawdbot</span> <span class="hljs-string">pairing</span> <span class="hljs-string">approve</span> <span class="hljs-string">telegram</span> <span class="hljs-string">&lt;é…å¯¹ç &gt;</span>

<span class="hljs-string">Webæ§åˆ¶å°:</span>
  <span class="hljs-string">åœ°å€:</span> <span class="hljs-string">http://127.0.0.1:18789/?token=&lt;gateway_token&gt;</span>
  <span class="hljs-string">å‘½ä»¤:</span> <span class="hljs-string">clawdbot</span> <span class="hljs-string">dashboard</span>

<span class="hljs-string">å¸¸è§é”™è¯¯:</span>
  <span class="hljs-attr">HTTP_403:</span>
    <span class="hljs-string">åŸå› :</span> [<span class="hljs-string">ç¼ºå°‘apiå­—æ®µ</span>, <span class="hljs-string">ç¼ºå°‘modelså­—æ®µ</span>, <span class="hljs-string">apiKeyæ— æ•ˆ</span>]
    <span class="hljs-string">è§£å†³:</span> <span class="hljs-string">æ£€æŸ¥é…ç½®æ–‡ä»¶æ ¼å¼</span>
  <span class="hljs-attr">fetch_failed:</span>
    <span class="hljs-string">åŸå› :</span> <span class="hljs-string">ä»£ç†æœªç”Ÿæ•ˆ</span>
    <span class="hljs-string">è§£å†³:</span> <span class="hljs-string">ä½¿ç”¨undiciæ–¹æ¡ˆ</span>
  <span class="hljs-string">é…å¯¹ç ä¸æ˜¾ç¤º:</span>
    <span class="hljs-string">åŸå› :</span> [<span class="hljs-string">botTokenæ— æ•ˆ</span>, <span class="hljs-string">ä»£ç†ä¸ç¨³å®š</span>]
    <span class="hljs-string">è§£å†³:</span> <span class="hljs-string">curlæµ‹è¯•Telegram</span> <span class="hljs-string">API</span>

<span class="hljs-string">å‘½ä»¤é€ŸæŸ¥:</span>
  <span class="hljs-string">çŠ¶æ€:</span> <span class="hljs-string">clawdbot</span> <span class="hljs-string">status</span> [<span class="hljs-string">--deep</span>]
  <span class="hljs-string">æ—¥å¿—:</span> <span class="hljs-string">clawdbot</span> <span class="hljs-string">logs</span> <span class="hljs-string">--follow</span>
  <span class="hljs-string">é‡å¯:</span> <span class="hljs-string">clawdbot</span> <span class="hljs-string">gateway</span> <span class="hljs-string">restart</span>
  <span class="hljs-string">è¯Šæ–­:</span> <span class="hljs-string">clawdbot</span> <span class="hljs-string">doctor</span>
  <span class="hljs-string">é…å¯¹:</span> <span class="hljs-string">clawdbot</span> <span class="hljs-string">pairing</span> <span class="hljs-string">approve</span> <span class="hljs-string">telegram</span> <span class="hljs-string">&lt;ç &gt;</span>
  <span class="hljs-string">é¢æ¿:</span> <span class="hljs-string">clawdbot</span> <span class="hljs-string">dashboard</span>

<span class="hljs-string">æ–‡ä»¶ç»“æ„:</span>
  <span class="hljs-string">~/.clawdbot/clawdbot.json:</span> <span class="hljs-string">ä¸»é…ç½®</span>
  <span class="hljs-string">~/.clawdbot/agents/main/agent/auth-profiles.json:</span> <span class="hljs-string">è®¤è¯</span>
  <span class="hljs-string">~/proxy-setup.js:</span> <span class="hljs-string">ä»£ç†è„šæœ¬</span>
  <span class="hljs-string">~/start-clawdbot.sh:</span> <span class="hljs-string">å¯åŠ¨è„šæœ¬</span>
</code></pre>
<p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong> å¤åˆ¶ä¸Šæ–¹ YAML ä»£ç å—ï¼Œç›´æ¥ç²˜è´´ç»™ AI åŠ©æ‰‹ï¼Œå³å¯å¿«é€Ÿè·å¾— Clawdbot é…ç½®ç›¸å…³é—®é¢˜çš„è§£ç­”ã€‚</p>
<hr/>
<p><em>æœ¬æ–‡åŸºäº 2026 å¹´ 1 æœˆçš„å®é™…é…ç½®ç»å†æ’°å†™ï¼Œ ç”±claude-opus-4.5 + clawdbotæ•´ç†ç¼–å†™ã€‚</em></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openclaw UIæ–¹å¼é…ç½®API]]></title>    <link>https://juejin.cn/post/7600953879500619827</link>    <guid>https://juejin.cn/post/7600953879500619827</guid>    <pubDate>2026-01-30T10:02:29.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600953879500619827" data-draft-id="7600967006893113353" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openclaw UIæ–¹å¼é…ç½®API"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-30T10:02:29.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="luka1012"/> <meta itemprop="url" content="https://juejin.cn/user/4311612244630649"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openclaw UIæ–¹å¼é…ç½®API
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4311612244630649/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    luka1012
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T10:02:29.000Z" title="Fri Jan 30 2026 10:02:29 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨æ‰§è¡Œ openclaw dashborad æŒ‡ä»¤åæ‰“å¼€å¸¦æœ‰tokençš„urlé“¾æ¥ï¼Œè¿›åˆ°å¦‚ä¸‹é¡µé¢</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c9c398380efc4c47863470b9e5f10fd9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbHVrYTEwMTI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770372148&amp;x-signature=NQj4%2Bqbgz8TH5BPw1N9GsjvN5dE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-0">æ·»åŠ æ¨¡å‹  (è¿™é‡Œä»¥é€šä¹‰åƒé—® Max Thinking ç‰ˆä¸¾ä¾‹)</h3>
<p>å³ä¾§config --&gt;models --&gt; provider, ç‚¹å‡»add entry</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cf0ffc6c302d4b39a261f6b54eefa8ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbHVrYTEwMTI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770372148&amp;x-signature=K%2FNbg0XlQgVqde737e%2FuCQhQk70%3D" alt="image.png" loading="lazy"/></p>
<p>è¡¨æ ¼ä¸­å†…å®¹å¡«å†™æŒ‰ç…§å¦‚ä¸‹æ ¼å¼ï¼š</p>
<pre><code class="hljs language-json" lang="json">providers<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      bailian<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        baseUrl<span class="hljs-punctuation">:</span> <span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span><span class="hljs-punctuation">,</span>
        apiKey<span class="hljs-punctuation">:</span> <span class="hljs-string">"æ›¿æ¢ä¸ºä½ çš„API key"</span><span class="hljs-punctuation">,</span>
        api<span class="hljs-punctuation">:</span> <span class="hljs-string">"openai-completions"</span><span class="hljs-punctuation">,</span>
        models<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
          <span class="hljs-punctuation">{</span>
            id<span class="hljs-punctuation">:</span> <span class="hljs-string">"qwen3-max-2026-01-23"</span><span class="hljs-punctuation">,</span>
            name<span class="hljs-punctuation">:</span> <span class="hljs-string">"é€šä¹‰åƒé—® Max Thinking ç‰ˆ"</span><span class="hljs-punctuation">,</span>
            reasoning<span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
            input<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"text"</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
            cost<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> input<span class="hljs-punctuation">:</span> <span class="hljs-number">0.0025</span><span class="hljs-punctuation">,</span> output<span class="hljs-punctuation">:</span> <span class="hljs-number">0.01</span><span class="hljs-punctuation">,</span> cacheRead<span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span> cacheWrite<span class="hljs-punctuation">:</span> <span class="hljs-number">0</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
            contextWindow<span class="hljs-punctuation">:</span> <span class="hljs-number">262144</span><span class="hljs-punctuation">,</span>
            maxTokens<span class="hljs-punctuation">:</span> <span class="hljs-number">65536</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-1">åº”ç”¨æ¨¡å‹</h3>
<p>å°†æ·»åŠ çš„æ¨¡å‹è®¾ä¸ºé»˜è®¤ï¼š
config --&gt; agents --&gt;Default --&gt;Model
æŒ‰ç…§ä»¥ä¸‹æ ¼å¼å¡«å†™å†…å®¹</p>
<p>ï¼ˆ1. åœ¨modelsé‡Œæ·»åŠ entry</p>
<ol start="2">
<li>å°†primary model å­—æ®µæ”¹ä¸ºbailian/qwen3-max-2026-01-23ï¼‰</li>
</ol>
<pre><code class="hljs language-json" lang="json">agents<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    defaults<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      model<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> primary<span class="hljs-punctuation">:</span> <span class="hljs-string">"bailian/qwen3-max-2026-01-23"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      models<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"bailian/qwen3-max-2026-01-23"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> alias<span class="hljs-punctuation">:</span> <span class="hljs-string">"é€šä¹‰åƒé—® Max Thinking ç‰ˆ"</span> <span class="hljs-punctuation">}</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
</code></pre>
<p>å¦‚å›¾</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1529e93bc0c04da28b56bca1819cf583~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbHVrYTEwMTI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770372148&amp;x-signature=7MaFUTCBq0dG0OSC%2BbXof57VzNo%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3dd5c89b28aa4c6da7d1db7db1e6a8a1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbHVrYTEwMTI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770372148&amp;x-signature=BUdOL3DGGc1XRS%2BVtsGQ66GVtGU%3D" alt="image.png" loading="lazy"/></p>
<p><strong>ç‚¹å‡»save ä¿å­˜é…ç½®</strong></p>
<h3 data-id="heading-2"><strong>é…ç½®ç”Ÿæ•ˆ + éªŒè¯æ¨¡å‹çŠ¶æ€</strong></h3>
<p>åœ¨ç»ˆç«¯è¿è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œä¿è¯é…ç½®èƒ½å¤Ÿç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼ä¸€ï¼šåœæ­¢æœåŠ¡åï¼Œå†å¯åŠ¨æœåŠ¡</span>
openclaw gateway stop
<span class="hljs-comment"># ç­‰å¾… 2-3 ç§’åå¯åŠ¨æœåŠ¡</span>
openclaw gateway start
<span class="hljs-comment"># æ–¹å¼äºŒï¼šç›´æ¥ä½¿ç”¨é‡å¯å‘½ä»¤</span>
openclaw gateway restart
</code></pre>
<p>ä½ è¿˜å¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤çœ‹åˆšåˆšè®¾ç½®çš„æ¨¡å‹æ˜¯å¦è¢« Clawdbot è¯†åˆ«ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">openclaw models list
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b7dad413a48345ccad9f4a735cb1cd42~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbHVrYTEwMTI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770372148&amp;x-signature=INJSWEYmNWOUbPbuNmqt6rpWc4Y%3D" alt="image.png" loading="lazy"/></p>
<p>ä½ è¿˜å¯ä»¥é€šè¿‡ä»¥ä¸‹æŒ‡ä»¤è¿›è¡Œä¸€æ¬¡çœŸå®è¿é€šæ¢æµ‹ï¼ˆä¼šå‘çœŸå®è¯·æ±‚ï¼Œå¯èƒ½äº§ç”Ÿè´¹ç”¨~ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">openclaw models status --probe
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0d1562e5d9d34d448d803d8fda4f7d58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbHVrYTEwMTI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770372148&amp;x-signature=B%2ByahbntNMnFZef2zejOmUrYriE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-3">æå®š</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/33e2754ceb2a41d1b961876aef0f171f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbHVrYTEwMTI=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770372148&amp;x-signature=%2BEtOF%2F7POn4jOkmtxZOnoxlw3Jc%3D" alt="image.png" loading="lazy"/></p>
<p>å‚è€ƒæ–‡ç« ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.aliyun.com%2Farticle%2F1708855%3Fspm%3D5176.454194655176.J_L02u6VphiK2DqbAEtTYRj.3.1ba44859qmPsDh" target="_blank" title="https://developer.aliyun.com/article/1708855?spm=5176.454194655176.J_L02u6VphiK2DqbAEtTYRj.3.1ba44859qmPsDh" ref="nofollow noopener noreferrer">ğŸ¦ å¦‚ä½•åœ¨ Moltbot é…ç½®é˜¿é‡Œäº‘ç™¾ç‚¼ API-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[[gitç‰ˆæœ¬æ§åˆ¶]å…ˆæœ‰æœ¬åœ°é¡¹ç›®, å†è¿›è¡Œgithubç‰ˆæœ¬æ§åˆ¶(äº²æµ‹å¯ç”¨)]]></title>    <link>https://juejin.cn/post/7600752623068233738</link>    <guid>https://juejin.cn/post/7600752623068233738</guid>    <pubDate>2026-01-30T08:00:41.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600752623068233738" data-draft-id="7600967006892310537" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="[gitç‰ˆæœ¬æ§åˆ¶]å…ˆæœ‰æœ¬åœ°é¡¹ç›®, å†è¿›è¡Œgithubç‰ˆæœ¬æ§åˆ¶(äº²æµ‹å¯ç”¨)"/> <meta itemprop="keywords" content="Git"/> <meta itemprop="datePublished" content="2026-01-30T08:00:41.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="import_random"/> <meta itemprop="url" content="https://juejin.cn/user/2013961033882312"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            [gitç‰ˆæœ¬æ§åˆ¶]å…ˆæœ‰æœ¬åœ°é¡¹ç›®, å†è¿›è¡Œgithubç‰ˆæœ¬æ§åˆ¶(äº²æµ‹å¯ç”¨)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2013961033882312/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    import_random
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T08:00:41.000Z" title="Fri Jan 30 2026 08:00:41 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æˆ‘æ¥ä¸ºä½ æä¾›ä¸€ä¸ªå®Œæ•´çš„ GitHub æ¨é€æ­¥éª¤ï¼š</p>
<h2 data-id="heading-0"><strong>æ­¥éª¤ 1ï¼šå‡†å¤‡å·¥ä½œ</strong></h2>
<h3 data-id="heading-1">1.1 å®‰è£…å’Œé…ç½® Git</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ£€æŸ¥æ˜¯å¦å·²å®‰è£… Git</span>
git --version

<span class="hljs-comment"># å¦‚æœæ²¡æœ‰å®‰è£…ï¼Œå…ˆå®‰è£… Git</span>
<span class="hljs-comment"># Windows: ä¸‹è½½ Git for Windows</span>
<span class="hljs-comment"># Mac: brew install git</span>
<span class="hljs-comment"># Linux: sudo apt-get install git</span>

<span class="hljs-comment"># é…ç½®ç”¨æˆ·åå’Œé‚®ç®±</span>
git config --global user.name <span class="hljs-string">"ä½ çš„åå­—"</span>
git config --global user.email <span class="hljs-string">"ä½ çš„é‚®ç®±"</span>
</code></pre>
<h3 data-id="heading-2">1.2 åˆ›å»º GitHub è´¦å·ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰</h3>
<ul>
<li>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com" target="_blank" title="https://github.com" ref="nofollow noopener noreferrer">github.com</a> æ³¨å†Œè´¦å·</li>
<li>å»ºè®®è®¾ç½® SSH Keyï¼ˆå¯é€‰ä½†æ¨èï¼‰</li>
</ul>
<h2 data-id="heading-3"><strong>æ­¥éª¤ 2ï¼šåœ¨ GitHub ä¸Šåˆ›å»ºè¿œç¨‹ä»“åº“</strong></h2>
<ol>
<li>ç™»å½• GitHub</li>
<li>ç‚¹å‡»å³ä¸Šè§’ "+" â†’ "New repository"</li>
<li>å¡«å†™ä»“åº“ä¿¡æ¯ï¼š
<ul>
<li>Repository name: é¡¹ç›®åç§°</li>
<li>Description: é¡¹ç›®æè¿°ï¼ˆå¯é€‰ï¼‰</li>
<li>é€‰æ‹© Publicï¼ˆå…¬å¼€ï¼‰æˆ– Privateï¼ˆç§æœ‰ï¼‰</li>
<li><strong>ä¸è¦</strong>å‹¾é€‰ "Initialize this repository with a README"ï¼ˆæœ¬åœ°å·²æœ‰é¡¹ç›®ï¼‰</li>
</ul>
</li>
<li>ç‚¹å‡» "Create repository"</li>
</ol>
<h2 data-id="heading-4"><strong>æ­¥éª¤ 3ï¼šæœ¬åœ°é¡¹ç›®åˆå§‹åŒ–</strong></h2>
<h3 data-id="heading-5">3.1 åˆå§‹åŒ– Git ä»“åº“</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span>
<span class="hljs-built_in">cd</span> /path/to/your/project

<span class="hljs-comment"># åˆå§‹åŒ–æœ¬åœ°ä»“åº“</span>
git init
</code></pre>
<h3 data-id="heading-6">3.2 åˆ›å»º .gitignore æ–‡ä»¶ï¼ˆé‡è¦ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»º .gitignore æ–‡ä»¶ï¼Œæ’é™¤ä¸éœ€è¦ç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"node_modules/"</span> &gt;&gt; .gitignore
<span class="hljs-built_in">echo</span> <span class="hljs-string">".env"</span> &gt;&gt; .gitignore
<span class="hljs-built_in">echo</span> <span class="hljs-string">".DS_Store"</span> &gt;&gt; .gitignore
<span class="hljs-built_in">echo</span> <span class="hljs-string">"dist/"</span> &gt;&gt; .gitignore
<span class="hljs-built_in">echo</span> <span class="hljs-string">"build/"</span> &gt;&gt; .gitignore
<span class="hljs-comment"># æ ¹æ®ä½ çš„é¡¹ç›®ç±»å‹æ·»åŠ æ›´å¤š</span>
</code></pre>
<h3 data-id="heading-7">3.3 æ·»åŠ æ–‡ä»¶å¹¶æäº¤</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å½“å‰çŠ¶æ€</span>
git status

<span class="hljs-comment"># æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒºï¼ˆæ’é™¤ .gitignore ä¸­çš„æ–‡ä»¶ï¼‰</span>
git add .

<span class="hljs-comment"># æˆ–è€…é€‰æ‹©æ€§æ·»åŠ </span>
git add file1.js file2.css

<span class="hljs-comment"># æäº¤åˆ°æœ¬åœ°ä»“åº“</span>
git commit -m <span class="hljs-string">"åˆå§‹æäº¤ï¼šé¡¹ç›®åŸºç¡€æ¡†æ¶"</span>
</code></pre>
<h2 data-id="heading-8"><strong>æ­¥éª¤ 4ï¼šè¿æ¥è¿œç¨‹ä»“åº“å¹¶æ¨é€</strong></h2>
<h3 data-id="heading-9">4.1 æ·»åŠ è¿œç¨‹ä»“åº“åœ°å€</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¤åˆ¶ GitHub æä¾›çš„è¿œç¨‹ä»“åº“åœ°å€</span>
<span class="hljs-comment"># HTTPS æ–¹å¼ï¼ˆéœ€è¦æ¯æ¬¡è¾“å…¥å¯†ç æˆ– tokenï¼‰</span>
git remote add origin https://github.com/ä½ çš„ç”¨æˆ·å/ä»“åº“å.git

<span class="hljs-comment"># æˆ–è€… SSH æ–¹å¼ï¼ˆéœ€è¦é…ç½® SSH keyï¼‰</span>
<span class="hljs-comment"># git remote add origin git@github.com:ä½ çš„ç”¨æˆ·å/ä»“åº“å.git</span>

<span class="hljs-comment"># éªŒè¯è¿œç¨‹ä»“åº“</span>
git remote -v
</code></pre>
<h3 data-id="heading-10">4.2 æ¨é€ä»£ç åˆ° GitHub</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¬¬ä¸€æ¬¡æ¨é€ï¼ˆ-u å‚æ•°è®¾ç½®ä¸Šæ¸¸åˆ†æ”¯ï¼‰</span>
git push -u origin main

<span class="hljs-comment"># å¦‚æœä½ æœ¬åœ°åˆ†æ”¯æ˜¯ masterï¼Œéœ€è¦å…ˆé‡å‘½å</span>
git branch -M main
git push -u origin main
</code></pre>
<h2 data-id="heading-11"><strong>å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ</strong></h2>
<h3 data-id="heading-12">é—®é¢˜ 1ï¼šæ¨é€è¢«æ‹’ç»</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¦‚æœè¿œç¨‹ä»“åº“æœ‰ README ç­‰æ–‡ä»¶ï¼ˆä¹‹å‰è¯¯æ“ä½œï¼‰</span>
git pull origin main --allow-unrelated-histories
<span class="hljs-comment"># è§£å†³åˆå¹¶å†²çªï¼ˆå¦‚æœæœ‰ï¼‰</span>
git push origin main
</code></pre>
<h3 data-id="heading-13">é—®é¢˜ 2ï¼šéœ€è¦èº«ä»½éªŒè¯</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨ Personal Access Tokenï¼ˆæ¨èï¼‰</span>
<span class="hljs-comment"># 1. GitHub â†’ Settings â†’ Developer settings â†’ Personal access tokens</span>
<span class="hljs-comment"># 2. ç”Ÿæˆæ–° tokenï¼Œå‹¾é€‰ repo æƒé™</span>
<span class="hljs-comment"># 3. æ¨é€æ—¶ä½¿ç”¨ token ä½œä¸ºå¯†ç </span>
</code></pre>
<h3 data-id="heading-14">é—®é¢˜ 3ï¼šé…ç½® SSH Keyï¼ˆå…å¯†ç æ¨é€ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”Ÿæˆ SSH Key</span>
ssh-keygen -t ed25519 -C <span class="hljs-string">"your_email@example.com"</span>

<span class="hljs-comment"># æŸ¥çœ‹å…¬é’¥å¹¶å¤åˆ¶</span>
<span class="hljs-built_in">cat</span> ~/.ssh/id_ed25519.pub

<span class="hljs-comment"># æ·»åŠ åˆ° GitHub</span>
<span class="hljs-comment"># Settings â†’ SSH and GPG keys â†’ New SSH key</span>
</code></pre>
<h2 data-id="heading-15"><strong>æ­¥éª¤ 5ï¼šåç»­æ—¥å¸¸æ“ä½œ</strong></h2>
<h3 data-id="heading-16">æ—¥å¸¸æ¨é€æµç¨‹</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æŸ¥çœ‹ä¿®æ”¹çŠ¶æ€</span>
git status

<span class="hljs-comment"># 2. æ·»åŠ ä¿®æ”¹æ–‡ä»¶</span>
git add .

<span class="hljs-comment"># 3. æäº¤åˆ°æœ¬åœ°</span>
git commit -m <span class="hljs-string">"æäº¤æè¿°"</span>

<span class="hljs-comment"># 4. æ‹‰å–è¿œç¨‹æœ€æ–°ä»£ç ï¼ˆé¿å…å†²çªï¼‰</span>
git pull origin main

<span class="hljs-comment"># 5. æ¨é€åˆ°è¿œç¨‹</span>
git push origin main
</code></pre>
<h3 data-id="heading-17">åˆ†æ”¯ç®¡ç†ï¼ˆæ¨èï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ›å»ºæ–°åˆ†æ”¯</span>
git branch feature/new-feature
git checkout feature/new-feature

<span class="hljs-comment"># æˆ–è€…ä¸€æ­¥åˆ›å»ºå¹¶åˆ‡æ¢</span>
git checkout -b feature/new-feature

<span class="hljs-comment"># åˆå¹¶åˆ†æ”¯</span>
git checkout main
git merge feature/new-feature
</code></pre>
<h2 data-id="heading-18"><strong>å¿«é€Ÿå‘½ä»¤æ€»ç»“</strong></h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®Œæ•´æµç¨‹ï¼ˆå·²æœ‰é¡¹ç›®é¦–æ¬¡æ¨é€ï¼‰</span>
<span class="hljs-built_in">cd</span> your-project
git init
git add .
git commit -m <span class="hljs-string">"first commit"</span>
git branch -M main
git remote add origin https://github.com/username/repo.git
git push -u origin main
</code></pre>
<h2 data-id="heading-19"><strong>é¢å¤–å»ºè®®</strong></h2>
<ol>
<li><strong>æäº¤è§„èŒƒ</strong>ï¼šä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯</li>
<li><strong>åˆ†æ”¯ç­–ç•¥</strong>ï¼šå»ºè®®ä½¿ç”¨ Git Flow æˆ– GitHub Flow</li>
<li><strong>.gitignore</strong>ï¼šç¡®ä¿åŒ…å«æ‰€æœ‰æ•æ„Ÿæ–‡ä»¶å’Œä¸´æ—¶æ–‡ä»¶</li>
<li><strong>README.md</strong>ï¼šæ·»åŠ é¡¹ç›®è¯´æ˜æ–‡æ¡£</li>
</ol>
<p>æŒ‰ç…§è¿™ä¸ªæµç¨‹ï¼Œä½ çš„é¡¹ç›®åº”è¯¥èƒ½æˆåŠŸæ¨é€åˆ° GitHubã€‚å¦‚æœé‡åˆ°å…·ä½“é—®é¢˜ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘é”™è¯¯ä¿¡æ¯ï¼Œæˆ‘ä¼šå¸®ä½ è§£å†³ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å†²å†²å†²ï¼ŒFlutteræ‹–æ‹‰æ‹½å®æˆ˜ï¼Œé«˜ä»¿é£ä¹¦ä¼šè®®å®¤è¯¦æƒ…é¡µ]]></title>    <link>https://juejin.cn/post/7600955777315749926</link>    <guid>https://juejin.cn/post/7600955777315749926</guid>    <pubDate>2026-01-30T10:39:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600955777315749926" data-draft-id="7377026952786329637" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å†²å†²å†²ï¼ŒFlutteræ‹–æ‹‰æ‹½å®æˆ˜ï¼Œé«˜ä»¿é£ä¹¦ä¼šè®®å®¤è¯¦æƒ…é¡µ"/> <meta itemprop="keywords" content="Flutter,å‰ç«¯,GitHub"/> <meta itemprop="datePublished" content="2026-01-30T10:39:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="rainboy"/> <meta itemprop="url" content="https://juejin.cn/user/3808364011199591"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å†²å†²å†²ï¼ŒFlutteræ‹–æ‹‰æ‹½å®æˆ˜ï¼Œé«˜ä»¿é£ä¹¦ä¼šè®®å®¤è¯¦æƒ…é¡µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808364011199591/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    rainboy
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T10:39:35.000Z" title="Fri Jan 30 2026 10:39:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å®ç°æ•ˆæœ</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c79637f47d3a4d48af526a4343d94a63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcmFpbmJveQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770374812&amp;x-signature=4hUTxRXPLZsU2aH%2F%2BX8sUqLacSQ%3D" alt="schedule.gif" loading="lazy"/></p>
<h2 data-id="heading-1">ä¸»è¦åŠŸèƒ½</h2>
<ul>
<li>ğŸ“‰å¯è§†åŒ–äº‹ä»¶åˆ—è¡¨ï¼Œä¼šè®®å®¤çŠ¶æ€ä¸€è§ˆæ— ä½™ï¼Œæ¸…æ™°ç›´è§‚</li>
<li>ğŸ’¥æ”¯æŒæ‹–æ‹½é€‰æ‹©é¢„è®¢æ—¶é—´ï¼Œäº¤äº’è‡ªç„¶ï¼Œçºµäº«ä¸æ»‘</li>
<li>ğŸŒˆæä¾›ä¸°å¯Œçš„æ ·å¼é…ç½®é€‰é¡¹ï¼Œæ»¡è¶³ä¸åŒåœºæ™¯çš„è§†è§‰éœ€æ±‚</li>
</ul>
<h2 data-id="heading-2">æŠ€æœ¯å®ç°</h2>
<h3 data-id="heading-3">å®ç°ä¸»ç•Œé¢</h3>
<p>é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡æ€æƒ³ï¼Œæ ¸å¿ƒæ§ä»¶ä¸º<code>DayView</code>ï¼Œç”¨äºå±•ç¤ºå•æ—¥ä¼šè®®å®¤é¢„è®¢äº‹ä»¶ã€‚æ•´ä½“æ¶æ„é‡‡ç”¨<code>SingleChildScrollView</code>ä½œä¸ºå¤–å±‚å®¹å™¨å®ç°å‚ç›´æ»šåŠ¨ï¼Œå†…éƒ¨ä½¿ç”¨<code>Stack</code>å¸ƒå±€ç®¡ç†å¤šä¸ªè§†è§‰å…ƒç´ ã€‚</p>
<ul>
<li><strong>å·¦ä¾§æ—¶é—´è½´ç»„ä»¶</strong>ï¼šè´Ÿè´£ç»˜åˆ¶00:00-24:00çš„æ—¶é—´æ–‡æœ¬ï¼Œä¸ºç”¨æˆ·æä¾›æ—¶é—´å‚è€ƒ</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">widgets/day<span class="hljs-emphasis">_view.dart</span></span></span>
<span class="hljs-keyword">if</span> (widget.hoursColumnStyle.width &gt; <span class="hljs-number">0</span>) {
  children.add(Positioned(
    top: <span class="hljs-number">0</span>,
    left: widget.isRTL ? <span class="hljs-keyword">null</span> : <span class="hljs-number">0</span>,
    child: HoursColumn.fromHeadersWidgetState(parent: <span class="hljs-keyword">this</span>),
  ));
}
</code></pre>
<ul>
<li><strong>å³ä¾§èƒŒæ™¯æ—¶é—´çº¿ç½‘æ ¼</strong>ï¼šè‡ªå®šä¹‰<code>CustomPaint</code>å®ç°æ¯å°æ—¶çš„æ—¶é—´åˆ†å‰²çº¿</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">widgets/day<span class="hljs-emphasis">_view.dart</span></span></span>
Widget createBackground() =&gt; Positioned.fill(
      child: CustomPaint(
        painter: widget.style.createBackgroundPainter(
          dayView: widget,
          topOffsetCalculator: calculateTopOffset,
        ),
      ),
    );

</code></pre>
<ul>
<li><strong>å½“å‰æ—¶é—´æŒ‡ç¤ºå™¨</strong>ï¼šé€šè¿‡<code>RepaintBoundary</code>å’Œ<code>CustomPaint</code>å®ç°å®æ—¶æ›´æ–°çš„å½“å‰æ—¶é—´çº¿</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">widgets/day<span class="hljs-emphasis">_view.dart</span></span></span>
<span class="hljs-keyword">if</span> (_showCurrentTimeIndicator()) {
  Widget? currentTimeIndicator =
      (widget.currentTimeIndicatorBuilder ?? DefaultBuilders.defaultCurrentTimeIndicatorBuilder)(widget.style, calculateTopOffset, widget.hoursColumnStyle, widget.isRTL,_currentTimeNotifier);
  <span class="hljs-keyword">if</span> (currentTimeIndicator != <span class="hljs-keyword">null</span>) {
    children.add(currentTimeIndicator);
  }
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8f32e72570e34d86b2e1d3443c0c2399~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcmFpbmJveQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770374812&amp;x-signature=mTjCDf2MitnJcl%2BDL5QiAXc%2BR28%3D" alt="ui.png" loading="lazy"/></p>
<ul>
<li><strong>äº‹ä»¶åˆ—è¡¨æ¸²æŸ“</strong>ï¼šåŸºäº<code>FlutterWeekViewEvent</code>æ•°æ®æ¨¡å‹ï¼ŒåŠ¨æ€ç”Ÿæˆä¼šè®®å®¤é¢„è®¢äº‹ä»¶å¡ç‰‡</li>
</ul>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">widgets/day<span class="hljs-emphasis">_view.dart</span></span></span>
children.addAll(eventsDrawProperties.entries.map((entry) =&gt; entry.value.createWidget(
      context,
      widget,
      buildResizeUpGestureDetector(entry.key),
      buildResizeDownGestureDetector(entry.key),
      entry.key,
    )));
</code></pre>
<p><strong>äº‹ä»¶æ•°æ®ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">event.dart</span></span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FlutterWeekViewEvent</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Comparable</span>&lt;<span class="hljs-title">FlutterWeekViewEvent</span>&gt; </span>{
   <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> title;         <span class="hljs-comment">// äº‹ä»¶æ ‡é¢˜</span>
   <span class="hljs-keyword">final</span> <span class="hljs-built_in">String</span> description;   <span class="hljs-comment">// äº‹ä»¶æè¿°</span>
   <span class="hljs-built_in">DateTime</span> start;             <span class="hljs-comment">// å¼€å§‹æ—¶é—´</span>
   <span class="hljs-built_in">DateTime</span> end;               <span class="hljs-comment">// ç»“æŸæ—¶é—´</span>
   <span class="hljs-comment">// å…¶ä»–å±æ€§...</span>
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15fdf64ec7594e6f8ebda93006d365b4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcmFpbmJveQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770374812&amp;x-signature=xHMXuYpk%2BfVUs%2ByIwr0Fuqgqh4w%3D" alt="events.png" loading="lazy"/></p>
<h3 data-id="heading-4">å®ç°æ‹–æ‹½è°ƒæ•´åŠŸèƒ½</h3>
<p>é€šè¿‡<code>GestureDetector</code>ç»„ä»¶å®ç°äº‹ä»¶çš„å‚ç›´æ‹–æ‹½è°ƒæ•´ï¼Œæ”¯æŒä¿®æ”¹äº‹ä»¶çš„å¼€å§‹å’Œç»“æŸæ—¶é—´ï¼š</p>
<ol>
<li><strong>æ‹–æ‹½æ‰‹åŠ¿ç›‘å¬</strong>ï¼šä¸º<strong>æ–°åˆ›å»ºäº‹ä»¶</strong>æ·»åŠ ä¸¤ä¸ª<code>GestureDetector</code>ï¼Œåˆ†åˆ«å¤„ç†ä¸Šä¸‹æ‹–æ‹½æ“ä½œ</li>
<li><strong>ä½ç½®è®¡ç®—</strong>ï¼šæ ¹æ®æ‹–æ‹½åç§»é‡è®¡ç®—æ–°çš„æ—¶é—´ä½ç½®</li>
<li><strong>è¾¹ç•Œå¤„ç†</strong>ï¼šå®ç°æœ€å°äº‹ä»¶æ—¶é•¿é™åˆ¶ï¼Œç¡®ä¿ç”¨æˆ·ä½“éªŒ</li>
<li><strong>çŠ¶æ€æ›´æ–°</strong>ï¼šæ‹–æ‹½ç»“æŸåæ›´æ–°äº‹ä»¶æ•°æ®å¹¶åˆ·æ–°UI</li>
</ol>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">widgets/day<span class="hljs-emphasis">_view.dart</span></span></span>
<span class="hljs-comment">/// <span class="markdown"><span class="hljs-emphasis">å‘ä¸Šæ‹–æ‹½è°ƒæ•´å¼€å§‹æ—¶é—´</span></span></span>
Widget? buildResizeUpGestureDetector(FlutterWeekViewEvent event,) {
  <span class="hljs-keyword">if</span> (widget.resizeEventOptions == <span class="hljs-keyword">null</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
  }
  <span class="hljs-keyword">return</span> GestureDetector(
    onVerticalDragStart: (_) {
      accumulatedResizeOffset = <span class="hljs-number">0</span>;
      originalResizeEventStart = event.start;
    },
    onVerticalDragEnd: (_) {
      <span class="hljs-built_in">DateTime</span> newEventStart = event.start;
      event.start = originalResizeEventStart;
      widget.resizeEventOptions!.onEventResizedUp(event, newEventStart);
      setState(() {
        reset();
        createEventsDrawProperties();
      });
    },
    onVerticalDragUpdate: (details) =&gt; onEventResizeUpUpdate(event, details.primaryDelta ?? <span class="hljs-number">0</span>),
    child: MouseRegion(
      cursor: SystemMouseCursors.resizeUpDown,
      child: Container(color: Colors.transparent),
    ),
  );
}
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc5437a4d93949928b323329862915bb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcmFpbmJveQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770374812&amp;x-signature=L0C0sjHxDk%2Bt%2BK69VVWlFVFHnGs%3D" alt="gestureDetector.png" loading="lazy"/></p>
<h3 data-id="heading-5">å®ç°æ‹–æ”¾åŠŸèƒ½</h3>
<p>åˆ©ç”¨Flutterä¸­çš„<code>Draggable</code>å’Œ<code>DragTarget</code>ç»„ä»¶å®ç°äº‹ä»¶çš„è‡ªç”±æ‹–æ”¾ï¼š</p>
<blockquote>
<p><code>Draggable</code>å¯ä»¥è®©ç»„ä»¶åœ¨ç•Œé¢ä¸Šä»»æ„æ‹–åŠ¨ï¼ŒåŒæ—¶æºå¸¦ä¸€ä¸ªæ³›å‹Tçš„æ•°æ®ï¼Œ<code>DragTarget</code>ç”¨äºå®šä¹‰ä¸€ä¸ªæ‹–åŠ¨çš„ç›®æ ‡åŒºåŸŸï¼Œå¯ä»¥æ¥æ”¶<code>Draggable</code>ç»„ä»¶çš„ä¿¡æ¯ã€‚</p>
</blockquote>
<ol>
<li><strong>äº‹ä»¶åŒ…è£…</strong>ï¼šå°†äº‹ä»¶å¡ç‰‡åŒ…è£…åœ¨<code>Draggable</code>ç»„ä»¶ä¸­ï¼Œæ”¯æŒé•¿æŒ‰æˆ–ç‚¹å‡»è§¦å‘æ‹–æ‹½</li>
<li><strong>ç›®æ ‡åŒºåŸŸ</strong>ï¼šä½¿ç”¨<code>DragTarget</code>åŒ…è£¹æ•´ä¸ªæ—¥è§†å›¾ï¼Œæ¥æ”¶æ‹–æ”¾äº‹ä»¶</li>
<li><strong>ä½ç½®è®¡ç®—</strong>ï¼šåœ¨æ‹–æ‹½è¿‡ç¨‹ä¸­å®æ—¶è®¡ç®—æ–°ä½ç½®å¯¹åº”çš„æ—¶é—´ï¼Œåˆ·æ–°UI</li>
</ol>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">utils/event<span class="hljs-emphasis">_grid.dart</span></span></span>
<span class="hljs-comment">/// <span class="markdown"><span class="hljs-emphasis">äº‹ä»¶æ‹–æ‹½åŒ…è£…</span></span></span>
child = _getDraggableOrLongPressDraggable(
  isLongPress: options.startingGesture == DragStartingGesture.longPress,
  data: event,
  axis: options.allowOnlyVerticalDrag ? Axis.vertical : <span class="hljs-keyword">null</span>,
  feedback: SizedBox(
    height: height!,
    width: width!,
    child: child,
  ),
  childWhenDragging: Opacity(opacity: <span class="hljs-number">0.5</span>, child: child),
  child: child,
);
  
</code></pre>
<pre><code class="hljs language-dart" lang="dart"><span class="hljs-comment">/// <span class="markdown">widgets/day<span class="hljs-emphasis">_view.dart</span></span></span>
<span class="hljs-comment">/// <span class="markdown"><span class="hljs-emphasis">æ‹–æ”¾ç›®æ ‡åŒºåŸŸ</span></span></span>
mainWidget = DragTarget&lt;FlutterWeekViewEvent&gt;(
  builder: (_, __, ___) =&gt; createMainWidget(),
  onMove: (details){
    <span class="hljs-comment">/// <span class="markdown"><span class="hljs-emphasis">è®¡ç®—æ–°ä½ç½®å¯¹åº”çš„æ—¶é—´</span></span></span>
    RenderBox renderBox = context.findRenderObject() <span class="hljs-keyword">as</span> RenderBox;
    Offset localOffset = renderBox.globalToLocal(details.offset);
    Offset correctedOffset = Offset(localOffset.dx, localOffset.dy + (verticalScrollController?.offset ?? <span class="hljs-number">0</span>) - widget.padding.top);
    <span class="hljs-built_in">DateTime</span> newStartTime = widget.date.add(calculateOffsetHourMinute(correctedOffset).asDuration);
     <span class="hljs-comment">/// <span class="markdown"><span class="hljs-emphasis">ç½‘æ ¼å¯¹é½å¤„ç†</span></span></span>
    <span class="hljs-keyword">if</span>(widget.resizeEventOptions!=<span class="hljs-keyword">null</span>) {
      newStartTime= roundTimeToFitGrid(newStartTime,
          gridGranularity: widget.resizeEventOptions!.snapToGridGranularity);
    }
    <span class="hljs-comment">/// <span class="markdown"><span class="hljs-emphasis">æ›´æ–°é¢„è§ˆä½ç½®</span></span></span>
    widget.timeRangeStartNotifier?.value = newStartTime;
    widget.timeRangeEndNotifier?.value = details.data.end.add(newStartTime.difference(details.data.start));
  },
  onAcceptWithDetails: (details) {
    <span class="hljs-comment">/// <span class="markdown"><span class="hljs-emphasis">å¤„ç†æ‹–æ”¾å®Œæˆé€»è¾‘</span></span></span>
    RenderBox renderBox = context.findRenderObject() <span class="hljs-keyword">as</span> RenderBox;
    Offset localOffset = renderBox.globalToLocal(details.offset);
    Offset correctedOffset = Offset(localOffset.dx, localOffset.dy + (verticalScrollController?.offset ?? <span class="hljs-number">0</span>) - widget.padding.top);
    <span class="hljs-built_in">DateTime</span> newStartTime = widget.date.add(calculateOffsetHourMinute(correctedOffset).asDuration);
    widget.dragAndDropOptions!.onEventDragged(details.data, newStartTime);
    widget.timeRangeStartNotifier?.value = details.data.start;
    widget.timeRangeEndNotifier?.value = details.data.end;
    <span class="hljs-comment">/// <span class="markdown"><span class="hljs-emphasis">æ›´æ–°UI</span></span></span>
    setState(() {
      reset();
      createEventsDrawProperties();
    });
  },
  onLeave: (event){
    <span class="hljs-comment">/// <span class="markdown"><span class="hljs-emphasis">å¤„ç†æ‹–æ”¾ç¦»å¼€é€»è¾‘</span></span></span>
    <span class="hljs-keyword">if</span>(event!=<span class="hljs-keyword">null</span>) {
      widget.timeRangeStartNotifier?.value = event.start;
      widget.timeRangeEndNotifier?.value = event.end;
    }
  },
);
</code></pre>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e831b256df3649919490fb1d25d6286e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgcmFpbmJveQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770374812&amp;x-signature=jeN6xqQo4lttthKUwSccvu3shmo%3D" alt="drag_drop.png" loading="lazy"/></p>
<h2 data-id="heading-6">åº”ç”¨åœºæ™¯ä¸ä»·å€¼</h2>
<p>è¯¥æŠ€æœ¯æ–¹æ¡ˆé€‚ç”¨äºå¤šç§éœ€è¦æ—¶é—´å¯è§†åŒ–çš„åœºæ™¯ï¼š</p>
<ul>
<li><strong>ä¼šè®®å®¤é¢„è®¢ç³»ç»Ÿ</strong>ï¼šç›´è§‚å±•ç¤ºä¼šè®®å®¤ä½¿ç”¨æƒ…å†µ</li>
<li><strong>ä¸ªäººæ—¥ç¨‹ç®¡ç†</strong>ï¼šæ¸…æ™°ç®¡ç†æ¯æ—¥ä»»åŠ¡å’Œæ´»åŠ¨</li>
<li><strong>é¡¹ç›®æ—¶é—´çº¿</strong>ï¼šå¯è§†åŒ–é¡¹ç›®è¿›åº¦å’Œé‡Œç¨‹ç¢‘</li>
</ul>
<h2 data-id="heading-7">Github</h2>
<p>æœ¬æ–‡ç›¸å…³çš„ä»£ç åŸºäº<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSkyost" target="_blank" title="https://github.com/Skyost" ref="nofollow noopener noreferrer">Skyost</a>çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSkyost%2FFlutterWeekView" target="_blank" title="https://github.com/Skyost/FlutterWeekView" ref="nofollow noopener noreferrer">FlutterWeekView</a>ä¿®æ”¹è€Œæ¥ï¼Œåœ°å€å¦‚ä¸‹ï¼š
<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fkongpf8848%2Fflutter_schedule_view" target="_blank" title="https://github.com/kongpf8848/flutter_schedule_view" ref="nofollow noopener noreferrer">github.com/kongpf8848/â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ“¦ AI Git CLIï¼šè®© AI å¸®ä½ å†™ Commit å’Œ MR]]></title>    <link>https://juejin.cn/post/7600837236620312628</link>    <guid>https://juejin.cn/post/7600837236620312628</guid>    <pubDate>2026-01-30T08:29:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600837236620312628" data-draft-id="7600728866757754932" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ“¦ AI Git CLIï¼šè®© AI å¸®ä½ å†™ Commit å’Œ MR"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-30T08:29:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="cecyci"/> <meta itemprop="url" content="https://juejin.cn/user/2356969294276701"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ“¦ AI Git CLIï¼šè®© AI å¸®ä½ å†™ Commit å’Œ MR
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2356969294276701/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    cecyci
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T08:29:28.000Z" title="Fri Jan 30 2026 08:29:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€ç—›ç‚¹ï¼šé‡å¤è€Œæœºæ¢°çš„ Git å·¥ä½œæµ</h3>
<p>æ¯æ¬¡å¼€å‘æ–°éœ€æ±‚ï¼Œä½ æ˜¯å¦ä¹Ÿè¦é‡å¤è¿™ä¸€å¥—æµç¨‹ï¼Ÿ</p>
<ol>
<li>æ‹‰å–æœ€æ–°ä¸»åˆ†æ”¯</li>
<li>åˆ›å»ºæ–°åˆ†æ”¯Â <code>feat/xxx</code></li>
<li>å†™ä»£ç </li>
<li>æäº¤ï¼š</li>
</ol>
<pre><code class="hljs language-git" lang="git">git commit -m "feat: xxxxx"  # è¿˜å¾—æƒ³æ€ä¹ˆå†™
git push origin feat/xxx
</code></pre>
<ol start="5">
<li>å» GitLab æ‰‹åŠ¨æ–°å»º Merge Request</li>
<li>è¿˜å¯èƒ½éœ€ rebase ä¸»åˆ†æ”¯ï¼š</li>
</ol>
<pre><code class="hljs language-css" lang="css">git checkout <span class="hljs-selector-tag">main</span>
git pull origin <span class="hljs-selector-tag">main</span>
git checkout feat/xxx
git rebase <span class="hljs-selector-tag">main</span>
</code></pre>
<p>è¿™äº›æ“ä½œé‡å¤ã€çç¢ï¼Œä¸”Â <strong>Commit æ¶ˆæ¯å†™èµ·æ¥è´¹ç¥</strong>ï¼Œ<strong>MR æè¿°æ›´éš¾å†™å…¨é¢</strong>ã€‚</p>
<h3 data-id="heading-1">äºŒã€è§£å†³æ–¹æ¡ˆï¼šAIÂ CLI â€”â€” ä¸€æ¡é¾™è‡ªåŠ¨åŒ–</h3>
<p>å› æ­¤æˆ‘å¼€å‘äº†ä¸€ä¸ªÂ <strong>Git + AI å‘½ä»¤è¡Œå·¥å…·</strong>ï¼Œå¸®ä½ è‡ªåŠ¨åŒ–ä»¥ä¸Šæµç¨‹ï¼Œå¹¶è®© AI ç”Ÿæˆè§„èŒƒçš„ Commit å’Œ MR æè¿°ã€‚</p>

























<table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>ai git commit</code></td><td>rebase + commit + push + åˆ›å»º MR</td><td>å®Œæ•´æµç¨‹ï¼Œç¡®ä¿ä»£ç ä¸ä¸»åˆ†æ”¯åŒæ­¥</td></tr><tr><td><code>ai git mr</code></td><td>commit + push + åˆ›å»º MR</td><td>å·²æœ‰æœ¬åœ°æ›´æ”¹ï¼Œç›´æ¥æäº¤å¹¶æ MR</td></tr><tr><td><code>ai git add</code></td><td>add + commitï¼ˆå¯é€‰ pushï¼‰</td><td>ä»…æäº¤åˆ°æœ¬åœ°ï¼Œæš‚ä¸æ MR</td></tr></tbody></table>
<h3 data-id="heading-2">ä¸‰ã€æŠ€æœ¯å®ç°äº®ç‚¹</h3>
<h4 data-id="heading-3">Â 1. <strong>æ™ºèƒ½ç”Ÿæˆ Commit æ¶ˆæ¯</strong></h4>
<p>é€šè¿‡Â <code>git diff --cached</code>Â è·å–æš‚å­˜åŒºæ”¹åŠ¨ï¼Œå‘é€ç»™ AIï¼ˆä½¿ç”¨tokenè°ƒç”¨AIæ¥å£ï¼‰ï¼Œç”Ÿæˆç¬¦åˆÂ <strong>Conventional Commits</strong>Â æ ¼å¼çš„æ¶ˆæ¯ã€‚</p>
<p>prompt</p>
<pre><code class="hljs language-bash" lang="bash">è¯·åˆ†æä»¥ä¸‹ä»£ç æ”¹åŠ¨ï¼Œç”Ÿæˆä¸€ä¸ªç®€æ´çš„ commit messageï¼ˆæ ¼å¼ï¼š<span class="hljs-built_in">type</span>: descriptionï¼‰ã€‚

è¦æ±‚ï¼š
1. ä½¿ç”¨å¸¸è§çš„ commit <span class="hljs-built_in">type</span>ï¼ˆfeat, fix, docs, style, refactor, <span class="hljs-built_in">test</span>, choreï¼‰
2. æè¿°è¦ç®€æ´æ˜äº†ï¼Œä¸è¶…è¿‡ 50 ä¸ªå­—
3. åªè¾“å‡º commit messageï¼Œä¸è¦å…¶ä»–è¯´æ˜

ä»£ç æ”¹åŠ¨ï¼š<span class="hljs-variable">${diff}</span>
</code></pre>
<h4 data-id="heading-4">2.Â <strong>è‡ªåŠ¨åˆ›å»º MRï¼ˆä½¿ç”¨ GitLab CLIÂ <code>glab</code>ï¼‰</strong></h4>
<ul>
<li>æ£€æŸ¥æ˜¯å¦å·²æœ‰ MR</li>
<li>è·å–ä¸ä¸»åˆ†æ”¯çš„ diff å’Œ log</li>
<li>è°ƒç”¨ AI ç”ŸæˆÂ <strong>æ ‡é¢˜ + è¯¦ç»†æè¿°</strong>ï¼ˆå«æ”¹åŠ¨ç‚¹ã€å½±å“èŒƒå›´ã€é£é™©ï¼‰</li>
</ul>
<h4 data-id="heading-5">3.Â <strong>é˜²æ­¢ AI Token è¶…é™</strong></h4>
<ul>
<li>Commit æ—¶ï¼šå¯¹ diff é•¿åº¦æˆªæ–­</li>
<li>MR æ—¶ï¼šä»…æå–<strong>å…³é”®æ–‡ä»¶</strong>ï¼ˆæ–°å¢æ–‡ä»¶æˆ–ä¿®æ”¹å‡½æ•°è¶…è¿‡50è¡Œçš„æ–‡ä»¶ï¼‰</li>
</ul>
<h4 data-id="heading-6">4.Â <strong>å¥å£®çš„ Git æ“ä½œå°è£…</strong></h4>
<ul>
<li>è‡ªåŠ¨æ£€æµ‹ä¸»åˆ†æ”¯ï¼ˆmain/masterï¼‰</li>
<li>æ”¯æŒ stash â†’ rebase â†’ pop æµç¨‹ï¼Œå¤„ç†å†²çªä¸­æ–­</li>
<li>ä½¿ç”¨Â <code>git status --porcelain</code>Â è§£æçŠ¶æ€ï¼Œé¿å…äººå·¥è§£æè¾“å‡º</li>
</ul>
<h4 data-id="heading-7">5.Â <strong>å¤šç¯å¢ƒé…ç½®æ”¯æŒ</strong></h4>
<p>é€šè¿‡Â <code>dotenv</code>Â æŒ‰ä¼˜å…ˆçº§åŠ è½½Â <code>.env</code>Â æ–‡ä»¶ï¼Œæ–¹ä¾¿åœ¨ä¸åŒç›®å½•ä¸‹ä½¿ç”¨ã€‚</p>
<hr/>
<h3 data-id="heading-8">å››ã€ç¤ºä¾‹æµç¨‹</h3>
<h4 data-id="heading-9">ä½¿ç”¨Â <code>ai git commit</code>ï¼š</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. åœ¨ feat/0130 åˆ†æ”¯å¼€å‘å®Œæ¯•</span>
<span class="hljs-comment"># 2. ä¸€é”®å®Œæˆï¼š</span>
ai git commit --main-branch main

<span class="hljs-comment"># å·¥å…·ä¼šï¼š</span>
<span class="hljs-comment"># âœ… æ‹‰å–æœ€æ–° main</span>
<span class="hljs-comment"># âœ… stash â†’ rebase â†’ popï¼ˆå¦‚æœ‰å†²çªä¼šæš‚åœï¼‰</span>
<span class="hljs-comment"># âœ… è‡ªåŠ¨ add</span>
<span class="hljs-comment"># âœ… AI ç”Ÿæˆ commit messageï¼ˆå¯ç¼–è¾‘ç¡®è®¤ï¼‰</span>
<span class="hljs-comment"># âœ… æ¨é€åˆ†æ”¯</span>
<span class="hljs-comment"># âœ… åˆ›å»º MRï¼ˆAI ç”Ÿæˆæ ‡é¢˜å’Œæè¿°ï¼‰</span>
</code></pre>
<hr/>
<h3 data-id="heading-10">äº”ã€é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h3>

























<table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>AI token å¯èƒ½è¶…é™</td><td>å¯¹ diff æ™ºèƒ½æˆªæ–­ï¼Œåªæå–å…³é”®æ”¹åŠ¨</td></tr><tr><td>å†²çªå¤„ç†ä¸­æ–­æµç¨‹</td><td>é‡‡ç”¨ stash æœºåˆ¶ï¼Œå†²çªæ—¶ä¸­æ–­å¹¶æç¤ºç”¨æˆ·è§£å†³</td></tr><tr><td>ä¸åŒé¡¹ç›®ä¸»åˆ†æ”¯åä¸åŒ</td><td>æ”¯æŒÂ <code>--main-branch</code>Â å‚æ•°ï¼Œé»˜è®¤æ£€æµ‹Â <code>main</code>Â æˆ–Â <code>master</code></td></tr><tr><td>éœ€å…¼å®¹ä¸åŒ GitLab å®ä¾‹</td><td>ä½¿ç”¨Â <code>glab auth login</code>Â æå‰è®¤è¯ï¼Œæ”¯æŒè‡ªæ‰˜ç®¡ GitLab</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-11">å…­ã€æœªæ¥æ”¹è¿›æ–¹å‘</h3>
<ol>
<li><strong>äº¤äº’ç¡®è®¤</strong>ï¼šAI ç”Ÿæˆçš„ Commit å’Œ MR ä¿¡æ¯å¯ç¼–è¾‘åå†æäº¤</li>
<li><strong>æœ¬åœ°æ¨¡å‹æ”¯æŒ</strong>ï¼šæ¥å…¥ Ollamaï¼Œä¿æŠ¤ä»£ç éšç§ï¼Œå‡å°‘ API è°ƒç”¨æˆæœ¬</li>
<li><strong>å¤šå¹³å°æ”¯æŒ</strong>ï¼šé™¤äº† GitLabï¼Œä¹Ÿæ”¯æŒ GitHubï¼ˆé€šè¿‡Â <code>gh</code>Â CLIï¼‰</li>
<li><strong>Commit è§„èŒƒæ ¡éªŒ</strong>ï¼šåœ¨ AI ç”Ÿæˆåï¼Œè‡ªåŠ¨æ ¡éªŒæ˜¯å¦ç¬¦åˆå›¢é˜Ÿè§„èŒƒ</li>
<li><strong>å¯è§†åŒ–å†²çªè§£å†³</strong>ï¼šåœ¨ rebase å†²çªæ—¶æä¾›æ›´å‹å¥½çš„è§£å†³ç•Œé¢</li>
<li><strong>é”™è¯¯å¤„ç†ä¸å›æ»š</strong>ï¼šåœ¨ rebase æˆ– push å¤±è´¥æ—¶ï¼Œåº”æœ‰æ›´å®‰å…¨çš„å›æ»šæœºåˆ¶</li>
<li><strong>é…ç½®åŒ–</strong>ï¼šå…è®¸ç”¨æˆ·è‡ªå®šä¹‰ AI promptã€Commit ç±»å‹æ˜ å°„ç­‰</li>
<li><strong>è¿›åº¦æç¤º</strong>ï¼šé•¿æ—¶é—´æ“ä½œï¼ˆå¦‚ AI è°ƒç”¨ã€ç½‘ç»œè¯·æ±‚ï¼‰åº”æœ‰ loading æç¤º</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤åˆ» Kimi å®˜ç½‘åŠ¨ç”»æ•ˆæœï¼šåŸºäº Rive çš„äº¤äº’å¼ Canvas å®ç°]]></title>    <link>https://juejin.cn/post/7600692485947490313</link>    <guid>https://juejin.cn/post/7600692485947490313</guid>    <pubDate>2026-01-30T08:27:09.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600692485947490313" data-draft-id="7600692485947342857" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤åˆ» Kimi å®˜ç½‘åŠ¨ç”»æ•ˆæœï¼šåŸºäº Rive çš„äº¤äº’å¼ Canvas å®ç°"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-30T08:27:09.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿œä¹‹å–µ"/> <meta itemprop="url" content="https://juejin.cn/user/888852236483800"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤åˆ» Kimi å®˜ç½‘åŠ¨ç”»æ•ˆæœï¼šåŸºäº Rive çš„äº¤äº’å¼ Canvas å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/888852236483800/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿œä¹‹å–µ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T08:27:09.000Z" title="Fri Jan 30 2026 08:27:09 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#2b2b2b;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(159,219,252,.15) 3%,transparent 0),linear-gradient(1turn,rgba(159,219,252,.15) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin-top:35px;margin-bottom:10px;color:#4dd0e1}.markdown-body h1{font-size:30px;text-align:center;position:relative;width:max-content;margin:0 auto}.markdown-body h1:before{position:absolute;content:"";z-index:-1;top:-20px;height:100%;width:100px;left:0;right:0;margin:0 auto;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADsAAAA6CAYAAAAOeSEWAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAABkLSURBVGhDtZoHnJ1llcbP3Om9ZiYzmfSQhCQQIbRQVQKI9CYC68qKriJK0UXcZRcINqStIoiIqKCi1NACQihBWiCkkJ5MJlMyvd7p7d759v989/sy34yTbIj48Atz71ff855znvOc971xDrB/EtoGI7a9Z8Aq+wZML0mNj7dE95NZ1OKsj1dHo1GbnJpss9OTbWJyonvun4VP1Njuoagtb+m0it4By0iIt8LEeMvkr8XFWcfgkA1gYDLf47i2PzpsyU7UspKSLDoctagTZ7Vc08MzClMS7awJ2ZaflBB78CeET8TYla1dtrKt2w5KS7YCDGzEoz2RqKUmhGw6x2bhuXyOp2BoRXef1Q1E7Lj8TIsMD1sbxu1kcnYSAX1810RMTUmyMB7f2j1gC7NS7byinNiL/kH8Q8a+2NRh77b32El56VaPAe0YeGR2mh2bm+FdMRqP1rbZe+3dFsHT35qcb/Oz0rwzo7Gxs9feYPLS4kM2h8lawee5hPmlJXneFQeGAzJ2F564v7rFzi7Msu3d/Xgjzq5g8ArX8VCNN2vJ28daey0zZJabmGCLslP5HOf+Oygr3UzDGOf+JxrauXfQjslJt+dbuuyMgiwmk+sPAB/b2Lt2NdoMZnuY21qHIvbvUyZ4Z0ZQiXGrWjvsmPxsK4R0nmHA8ZCTQvxVQn5eRipklIBtcVbV1WtHYsjati47ZWKuTUpP9Z4yGk/xDBGe3v1mW4/dOrvYO7P/2G9jRSjf31FnXyaUXiB8r51WaJkM3kcfOSa2FR6qarIenooTLQHPLcC4mYThyw1tVpKWYlVERlZ8nC3Oz3Jzdn1nn5uvQ8OOHYvhR/CvsqffJbkCkZTvcYZ6Z0WTfTovw5Y1dtjXp+TbFPhgf7FfxpYxuMfr2uwo8rEtMmwXF+d6Z8wGmIR2PLyjo8cqOFffP2SLGexJEJCP9R29thkPXlpa4A5Y3w/jmuVNYYwO2QkY7WMtz3mVcE1hkualJdmSolzX8GnpKd4VZq80d1o7zN0RdWxGaqItgbn3B/+vsasgh/UMNBOvzYMZDxtDKp289KGaVguFQvb1yQWWwuB97GaSXqUUnVaYbSUwrDCEBz/C2CM8EhNrP13fbkeSh3OJgCAe2N1CWXKsGOc6TOr5U4q8MwYhDtkTda02MyPN+nnGBQEH7A37NHYz5KOZVv08qyjbSseEzKauPnsMj98wc6Ibcj5UUv7M8QWZTE52jEwGOVaD8U1Dw1YNWX0qM8VKyb80L/TrOPYOzH4KBJQTrK8M7+7KZjuM63sHBt17FubGoibCuf+tarWFGUmuwWeT8/vCXo1tZOYeZcazCaez8MwEzzM+HqhqtiJI5twxL1jeGLYk7jmKMF1JOCbg6Qj5nAdRqX7q3BYm8VAmQvW1lfcMc58IT95uIA3q+gftrDHPXUXJWkVEHJme5Bp5UmHsvIZ/O3l8ECE/FWcsItX2hr0ae8O2Wjs+J43QTbOZzGYQ/7Wtxq6eXjRK3r0By4YJ6Ty8EiYSJqcm2eGeV4Pox/ANENJR49RiEdfqcLflUJrEBZqgxYHrBjn2ExFURqKdVETN9YirJxKxR2rbrYeQv5ISmB6IsiDGNfZGWPeMgkzr58xnPaJ5p6XDZPKz4T77wayJ7jGhhXLwanOHTWBgq5n5q6YUwNJ7l3kKcRl7OJ7fF56l1GzvHbSD8dghTPi0wIRfv6XafjJ3ssv0PnZQ7nZx/etwzO1zJ3lHR2OETTw8x0tOx1AN3De0D7YV+63oGthjaJQ5Ur7eVVZjcdGInUyuaT73ZWg3efV8fZs7cc2E777Qi5eunVbghvPPymrt/krKGfcLd8ybYjdxrK6333Z09rjHZkNuLYzz0uIc+xWCZzz8nbHbe4dsY1e/XUOY+nimvtUaSazv4jXhaQasSbmYmpuenGwHZ8TKggSEQm08rMD7ahBOoExcMqXQegjnZ+CEvaEa1ZQUQkt39dj0zDS7krq+ARmpdws/nlNqD9WFbWN7l5u3wr9MyrcXKUsqWy3jTOaoML4DdaQ83YIoT4VYpEXvYQZLmbX5SLohBrgOj186Kc/iKTUPUhq+Rrm5ekOl3TWv1Mr6hqwbY0VOQXwEo+Moq4Z47q5qsU489G944LyJOW4LOLZOKtT/iI6+nGe/0dhuEd4ltj2NmiuCU4hnk5fHIi7+RK4uTEu0e+s7rAiRcw1CYy3OejvcYz+eXeI9MYY9nu3lYZl0KavJJ7Vjibzgjp319rUZE20j7CkJqFr5JQYgQ39f3eQaKpQk0afy8nl4uBzvjUUTRk7k3iebOm0pabDiyFn2XGu3dRME41CGVeBVqSiVnc6hIUpekp1VjHLDSOEcQlui5W/U8C7IKREjv1Gabw3wRwUTvpv7jybPtzHmIPZ49q6KRjuccqBQVCOtGvqXhrCFUUXJzOYSHt7Kw5Ix9H08dSje1o1JyL73IYXpEMmE5CRbw6wuykx2pR+Pd6/J4JpLiJKV6N9OnrcQNfQ0Zem6qQX2MmFXyWTE+DMO0kGx4e08DEjnXbsYuOq7niHB8jdY/wQ8Srm2XCZZUrOakF1CY5EKX0h93Tu/1J4kRdbDMT8MamgZK9xe3uDcvrPe++Y4f61rcZr7B53rN1c5N2ytcV5rCrvHt3T2Og19g+5nH7dvq3bqunr4NOwgK2MHA1jeEDuG7HNuLmtw7qpocl5t6nCPvdTQ7v4N4u3WTqeyu9cZHIo4f6lqdFoHh7wzMbzDeeGv3Hvzjlrnh2W1zofhHuftxpFn3VFe7zxS0+p0DlKVPbhhvBxhvwiFMgfP+mjHA08gEC4pybeLyK1iZldh8zC5VJQyUl8l59KZ0WJk2xaiYWxNrkXXJhA8r3PvZRur7ZZZRfadaRPsfiTmX9HGajC2tXd6V8dQTMhX0h8rNdJx9Ra8F8SbRNLzhPRnJmTZIUTYueTyWxyr7uv3rjC3OkzE8495oS+4xq6D5WoI0bO5WVCOSerl8rIeBrOI/Hkaw6ME5W1zSuzx2la3CRdWi3zIG+FDBvUp9LMgI/vggUmE7KkT81yGvOOgEYa/aUahhRAF5xLec3OzbF1r2O17BbVxIi7hzJIC64IYhXdJA+nh/5xVbOmE9J0QqjSxWk0pp37M2YEtgjS8GpimACu7xkqxdKJ6fEXyYl2Lre0ZtC8yELVewtWUnbfCPIhrvgDFz8WI5yhJKgcnFMZWEFrwhgzo5uWDDDA1oGSOzcu0xfx7vTlsv6posIMpJ6cGWPiw/BxL4PU7vbrpjgf8bMdu5OYwOdhm83DARUSa0ELknYIeEAaILuWxlhGa0M8+EuJCrpJT+ymENhN60pXBxa3LZ5TsucnlGaCmIEQ4Evru91yuz0xMtKaeXluI5zdh9Mm8vAlBn4aR07X64EH3vEKdXQkZJXPP/JxMvNRpLxEtHZ5RQgmNewnpouvVTpYTHdfOnmy5kFUGnpRTfEhXD9DiBdFFJB0/YWS9aj6pmc89r0BaQmgTRkgI+EsdKsYasJZOBF+QqTH474NK7LbyBvf7W+RgOxNyxfQY2/2hrp2+NkroxrzrQ55fSZkpJIa28znCgF6rb7H1hOSslATyvNflAh9pvHcX3lVE/Ya8FjTJIexa2Rq77nfU96unTnD7aME3+TAm6BFKYrPnqCNIqV5sq0ZGCiEV+Db+qWMQqpFgb5KPx48R6omeDl2EuP9DTYt9iGA/f1KBS1w/La+H4ktsSmLItvZHXLUkrCeflVtJ9DVVg1H7+sxiGvVM975rZpfabuqHVhuP5F1vewav5O8GamUe91yDanoYw47FWzC929O+DJnKA2opFY1Rjru5CE7kOcO0jJtQVUIynzuZEMeb+1CEOFXN8iFSGeRpCm1BTlJxVg49Azm819SO7Bu0axEbwn27GuxMck+TMQHDP8fn48gfDVIL4R8xKVPJ73MQBUIfA/Z54LMw5vmlE+w+VFo2A78X/SsyPA/RMD0z3e2qVLtfo7aeBslpMX0N0TEnLcUlKym1jyBFqSohmYntI5enBhYB9CY/2kNarhwJhNiMtRGyWnkQdKaCFyQwgydjyNUw4VchKxXv2/DoKdC+lkQbCX1NlKCGvJiBJkSGbCus6jfo4yGBNySgr+u7e20BCsxdVAcFlJ/tHd32+cIsNxSXUULUUx+dg/d47g7OPYFw2MxkSuyMwLHVTI6PBN6dS8Sppw45zHJSgDXV3aQzmz40Z6fDgBfiAXU0uZxby2zejee+j3eltoQMzhV6qSBogXwrEXDj7ElWxUQ8RrnSaoU0dxIsKaiMvMykXTu90NqJsGHP4z78SdLigUrLKat32nFwy/E07pfDFRdQ/7N5r57pQ1482uvWhMGhQcviGkVrKDUp0ToCxfhQal5n4Hs/g1jOgH4LWdwFOd1b1WzHET4vLZppv+Czjxo840OrDlG8jAJzv2tp5mLK1dsU/lfIOeWy5NxFxfl2BoYImlQtx9QF6mJRQKBsQYYuO2yaLYPBUXvu/VqYPxtHhNy7Y4hCkNLGPtKSklzCVKSHtMQxcqm5Kw1DhI2PTGZtcGDAvoLQ/u7MifYtWFBlxz2H9zo8RkwKzC5UYiG+p44ccqE62YAxLeT/TOpf8MXx8Qk0IJFRY1Go+viQVJpE5Ehjf49xfAZeqGIy/7us3nqxwQfCkjZypPxobVr/6YpQHIalUvuCyEwbSXC9PC8QnkFcXlrgLpoLIhIfKuaqlQkYIAwQnr/f3eyu7KttOw2lNpv8/BPHyjzVNER3o72gvEBKqRMTflndbP8BMweRDyeciEj5bFayFXqTLzheivgYJC0jwzwHa0MDDEotm48ndze5BBBElAnxxcRYHAFh3FfZaA9UNRmC354kNwUx8eHkmVj5dcTE5ZMnuEyr1QqlhtaJLuOYZv4v3KNo0TKrGPUZ1NILPKuWcvVn5Trv10SMB6h0j/ARMnlOuafCBIfnSWEx/Raif3HDzofYMM31dOyY9LBaLK3TjoX2fEqT4+2qaUVWSTQvyM6wC8nNJyEetXIyuLKrx04P7MKNnbJZlKUtNAIHo7i2dA/YU3Vtdi5l6jCepXy8hOedSSSsI8/HQg5Q+gxTKXwkMHkbESo+hjG0lbRRzQ3Fc5LOzDuFhs3Ptumpie7ilRDhlEJOq/hjsZljCxjkt7fWuPS/EekpXMggJQIk0G+eN9Xu2VmHWIkJe0nJRN4ptBBit2yutG9ML7J1DHAxebiAMrZ4VZlduqGS8I2tJc2iborUxmIN79c+kTovFxivPvrcSaP3n7RSKYTUmKt4N3rMOcw4JOneD3sP956jNaMglIeTER5Xbdlt15Tm2W10NEsYrA/N5JLCHHsR9tSqwxq08G3bqm1ZTbOtagnbo6SLvH/VzBL7W7jPzqFea0LmMLFzUuLtdwumuO3i1Vtq7OK15Xgw3l1PDmIXak+6QBEkvB9YJIzBcc/L20JIYaSZ/qAzVm5Ut4oowk3QehC+N3xo/1wTqt7zsYawfX9no9XjqdPXVLhrwyo/wucJYQkE1e4j8rLcBuHUItQQKqgMXb6LGvxFQlXw33AdZLR0V5P9Fr29lP73scNnosoyvdWPv4fPJ+uJrLVtMakqaL1M1cTvv0OLIZE6wk2a2IcIRUQh+DaejpdcXepBa7bKDRGM9PIVxTl2EwarZ72rooVuY4RQtMypdk6e1lLLehhY2lt7QEd7WxlCDvdIli6E9B4+ZIodmZEMccUGqgiZOqru9tkR3iJ8nCcXRWRZCSPMLPEjlx2LjQL1OM5qKAm+vhSuRqSfV5Ttrg8FdWcrnhMqCTex7DEM6qTsVEuM1+8hovaHQ6e6a1Fz0xLd3nUt4ToWWuzWNkhcoAIIjUx2ZpxjLzWF9+SYmngR1lok4TEoJxGfuijhI/7OICoFmadl2llcL9b1oRVJtbD+JLlv1KrhHG5811t9ELbzgk14ICUwqE+TDzftqHPz98vUSy3jSIwP8dCpkNqLDPTx+rArz4T5qLG3G2PrvJKKPoLBWE501NC3ilUX5mVjVIb9nIbgWcpPMiSXjbcL8K62UkR86m1/yfkSeMaHFuK04X0CE3J6SWzFUxw0BSNHlSzi3RmIRJwHq5udO3c16quLp6sbnffbupxbt+12vzOrzuvNHc7ycRbIxuJHgYU7YSASdQgxp7qz2ynv6HJeqW91doa7nLruXof+17sqhhu31Xif9o7HalqczV29Dnrb/f5EXZvzdH27U98/6LR5i3N0UM5zjHU71/lwjRWWltU5CAIn7F1MqLp/r9hQ5RoaxG+qmrxP4yNKcfsFLwuiprffeb2l03m2scO5h3Or2rudzjGrhk8x4Cqu2xcexilBvNEcdi5Yu4tKF3Ue4tzPy+td5/1md4tzw5iJ27NuXEYobYUdlb8z6GTWkdxaCvk2zHjd5mpKQ459mv5TkAp6mQb9Aq9HHQ8S6mrZnuc6vUG6WHusIhCJGNXl9byvnJyaiE7+Eoz8c5TYNQiUveENGpJpcIJ+biS8R0+rlcazGNs7pKB+zPLTOSX2KNWhlDAf4r2Spj72JORB5OyHULX+dlD/FOky/HFy5ygYU0sey/i8moeqdunXK1qC3RuaMOYHlI/raQMl3M+EeTV5WxD3Km8a8PkM8nr648sQ9+esKbf5e/nxiKBfAOQkxbv3SU9LYmqPV9V/Pn+V20VwTyVjTqCI6edEQUOFUXs9WmfSll8DyX2dt7GlnwkswaM3l9XZ0oNK3MTXbxpOV2sGk69s6XCJw4cY8KbyRrt9TrHt7Bm0rRBQe1+fHUWNfaapU0KbqxzbORC1M/LS3dJwIl3KOrwykQG/E+61q+isgniztdOKqNOziDgZqZIzFwPvqGiyg5NCtoCqoG5NxHhPZTOsnORulKskjoKMDeLuXQ3OmnC3syxARFXdfc57LR3OrdtrvSOOs55rnqhtcdoGhpxHdjc5EfJUuHZTlftX+G15rXPlhkrnLe59F7Lz8VGHdg8c5y2OLeMZ126qduq9XC3v7nd+FchLvYPJd15gPCu8XQnh/qpm59WGVudZzvvQO97kXTcGxhnEuJvR39tWY8cwK4uhcikk4a3Gdstg9l5B2t0wfaTdWkEou5vCPOV5PH73vFL3+DfXltnh6OxjkJD6Wd5F3g88tMe6CW/7YmI99VIL4u0oqUK8ocW4d8hFrXMVoOQU8s3U97MnjvDD/XRYkyhHM1MT3GVZQR2Tdv70U8EbA5vlo+CaPAaaSWoZXm50otGodxQ6L6txGKxzw5ZYORrBsPPrykZKQIy1n8bTjwb2fO4Te3ue7x6KOKvaYns1wtIddd4nx3mwot55qyl2360cp81zurg+CGqwU8v4/Of5uAVvPgObrwvHomY8jOtZ4fXWLnefdHVXv9044+8ZklCx75DXwcV1Sb27y+vInUQEuVYSaMgRJYfAwtoj0raFxIUW1A8nz35f02qLc9Lc9lG7CBkwtUR7bf+A+5uL6ehnH9Lat+5sIEfj3Cbj3NKRvP7Rjlo7FSmqavKvpSP8MRZ7NVbQYLSkqlC9ZW4sPH18gBTcORjrhMWmQWzFmK2UsvO90qQ1oZcI8UhkCLZPtRqMy0NirobAvjIpb4/sW06qKGyPR2oGIdlazjOOTk+kLYzaaYGSp63Wz6HsXsQ51wd+LTAuZOy+8GBNq7tF+IOdDU4kENJthNID5YRafZtzZ3mDs9LbRgzixcZ2l1h83OKFbDmEd0/FiFp7DWHgp0AQGzq6nf8hPF+oa3EehOz0ziCWcm4NpBRMhX1hn571oR9wqVVSDVPtUi32sQ0vbu7scZdY9aOt2ZSEL9BEBIW+dv20AKDd9/ep09oimYqHpyImkKDuRllS4PrlHNuIqDmCJmNJQba7q1joEaUQJuR/WdXsLrJrq/L6cdJsPOyXscJ7GLKqo8cOpqhrO//yQG6oS3kZwS9xPkRB3wi7diFMtDN+PLk5m1ath+8f0Fy80dbjhvVXub+U5mEqeal27UP+dWpPlknNxW79Ak6/7Tg3UMOF52j1xA1qK7Trd6nXC+8P9ttYQcumIonLSnJtBdJNa77axw1C2x3qR4Wqnj73x9f6MbV+CCYFBZO6y51aSh3gzVrsmwzJnULEbCJC1oZ7vIZ/9Iqmfvn2u5oWO5n8fApxcuWUApum5diPgY9lrA9EtvUNOzYf8vqAcJPsU5iOh7XtXQgt2uZhjKU2amF7HQyfEYWcZk5yQ1RDKNrLcq02k/9IGmldrB93KiokPw8EB2SsoKWXO5FmxXhlckqi+3vEUvLqwok5PHVkIWAszlqzy1p54zuLpnPZ3q9bod08JlLSb5DrNxDm38Sbvsg5EBywsT7oH+3XNW3uasGirFSrxRNdCllKiPZHZzJYLZb5qEcpae3pxMCuu9oibS5/QCOiLcYUrp+MmtJeURjFdVlxzqiae6D4h40NQt54HyGv3JRo10aVfv8YhtC0pSlVKcPFuxIXahr08mzCO4VzMlLSsZuomZ+RaucU0rXsw/sfF5+osUFonWob/7TrLdaUgdpV93fl9X+VIC0Y6tek2uI8OD3J5gT2Vj9ZmP0f4IM4iY7RQ5gAAAAASUVORK5CYII=) no-repeat 50%;background-size:64px 64px;opacity:.84}.markdown-body h1:after{position:absolute;content:"";width:150%;left:-25%;height:50%;bottom:12px;border-radius:50%;background:linear-gradient(transparent 80%,rgba(77,208,225,.8));background-size:400% 200%;opacity:.6;animation:h1Animate 6s linear infinite}@keyframes h1Animate{0%{background-position:100% 100%}50%{background-position:100% 50%}to{background-position:100% 100%}}.markdown-body h2{display:block;border-bottom:4px solid #4dd0e1;position:relative;font-size:24px;padding:12px 32px;margin:30px 0}.markdown-body h2:before{width:24px;height:24px;left:0;top:0;margin:auto;background-size:24px 24px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADGklEQVRYR81X32vTYBQ999s6mFjQgQ+DrbHiVFZYU4cDcQ/6pGhTFVYFEXGi82H+Bz448UnEF1Fx9ccEEcXpZE3d5tP2ooKiTacTHaLNpigMHDgnU9tcSbrWrkwWR0sbyEOSe885ObnfvV8IRT6oyPwoLQHBx+OVM5WJvSyEVAhnBOjt7yU/+/rr6r6l8TMO+F/EN0JQhICqQpD/xaRpcpAc9tS+M+9lBCia/oqBamK+zeDuQogQZaKJk3wcQjxSva7tGQGB2Ke1zIk3DNyMyNL+QpCnMQOaPsDAVuGAp9cjvbYc8Ec/bCYSg0zoiHilk1tHxqsqEsYlML4kjIpT/eurJxRNPweQU5VdrWaOEo1fgKAVbBgXIz73kF3R/ph+ghgdzMYWM29eAWlBJqgZaFlFYtC6nhWpaDqnSGlIlV1WjJ3DloDNgyNLncudqgX//Ucg3LxuStHGuhi8pqKCW3rqV342rwFjRznKm+/LNaN2yC237ThgF2wxcfMLeP6+ncrKzoPoKTGeLQbYbg4TNoC5iZPJY5HGVRdSNZAWYBclD3FzBQzrR8hACAKdzBzKA/4/IYioDQaOskBbpEG6PO8qKKSAEi3CnEb0Pw4oMf0OmKbTDWqh3Lw6EIiNBZi5lxh3wz4puBD5ovqAMvxhHSdFKxE1CQe3m/07TeTX4lcJdAhE+1Sv65Z5P/ByvIGTRowIZ9igbtXnmrOsbTvgj+kHBNMuBu9OdVw8EeU4nC1A0cYmAHZOTRrLhra4Z8ywnSN6vZHAFTA2WnnMfQB3qz73ddsOZM8CACFDIPSgQXqebXEgqgeZcAeEe6pXasm1f8ew3igMtAHWac0Uc/jYdyAaP0xEBwFsmgUPqbJ0NE2UKj4EGcahiOzuyhagaHpnmtgcVgTcCMuua7YdyAHbA3ArQNscVFbb4635aD6fnYaTvxxi9UNP7ddMXaRWVBdAcaLk6bDXPZCNZ9uBXEsDUX1T2Cc9yjig6Z0EHg3LK8/aqf6MwJKchkXfks1+0+JtSq3qLPa23BRR1B+T/6nkfMaW1r9hPt/MLtYfTLEpP+T9FNoAAAAASUVORK5CYII=)}.markdown-body h2:after,.markdown-body h2:before{content:"";display:block;position:absolute;bottom:0}.markdown-body h2:after{right:0;width:400px;height:10px;border-top-right-radius:24px;background:linear-gradient(90deg,#fff,#4dd0e1);max-width:50vw}.markdown-body h3{margin:30px 0;font-size:18px;position:relative;padding:4px 32px;width:max-content}.markdown-body h3:before{border-bottom:2px solid #4dd0e1;width:100%;content:"";display:block;height:28px;position:absolute;left:0;top:0;bottom:-2px;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);background-repeat:no-repeat;animation:h3AnimationBefore 2s infinite alternate}@keyframes h3AnimationBefore{0%{width:28px}25%{width:100%}50%{width:100%}to{width:100%}}.markdown-body h3:after{content:"";display:block;width:28px;height:28px;position:absolute;border:2px solid #4dd0e1;border-radius:50%;right:-15px;top:0;bottom:0;margin:auto;background-size:28px 28px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABRklEQVRYR2NkGGDAOMD2M4w6YDQERkNg+ITAppcfY/8zMv3wF+NdTUrZQpUQ2PT6cz8Dw/8CkMWMDIwNvqK8jcQ6gmIHNN19EaXPx1XPyMCghrCUKcpPlGc5MY6gyAE+Fx52MjL8j3cU5a1UYWXtZGBkEAVb+p8hxU+Mby5NHQCxnKEMaskzJ37uFmUetkmMjAzrfUX4woixHBJlZAA0y2EmPPYU4enLkhGeQIqRJDsAh+UgO7duNpD3IcVykkOA2paT5ABaWE60A2hlOdEO8D3/4CMDIyMfWvySFefoaYSoROh74eFXBgYGLiTNVLGc+BC48PAnAwMDG9QBVLOcaAd8P5ox+x/jf5AjGLgYfnwnKqv9/8/PwPO/kFF/MSj0cAKiouD/0bgYoixFU8RovWgJIX1EOYCQIZTIjzpgNARGQ2DAQwAAvHBaIdB7zxsAAAAASUVORK5CYII=);animation:h3AnimationAfter 2s infinite alternate}@keyframes h3AnimationAfter{0%{transform:rotate(0)}10%{transform:rotate(0)}50%{transform:rotate(-1turn)}to{transform:rotate(-1turn)}}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin:22px 0;letter-spacing:2px;font-size:14px;word-spacing:2px}.markdown-body img{max-width:80%;border-radius:6px;display:block;margin:20px auto!important;object-fit:contain;box-shadow:0 0 16px hsla(0,0%,43.1%,.45)}.markdown-body figcaption{display:block;font-size:13px;color:#2b2b2b}.markdown-body figcaption:before{content:"";background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAGFBMVEVHcExAuPtAuPpAuPtAuPpAuPtAvPxAuPokzOX5AAAAB3RSTlMAkDLqNegkoiUM7wAAAGBJREFUKM9jYBhcgMkBTUDVBE1BeDGqEtXychNUBeXlKEqACsrLQxB8lnCQQClCiWt5OYoSiAIkJVAF5eVBqAqAShTAAs7l5ShKWMwRAmAlSArASpAVgJUkCqIAscESHwCVVjMBK9JnbQAAAABJRU5ErkJggg==);display:inline-block;width:18px;height:18px;background-size:18px;background-repeat:no-repeat;background-position:50%;margin-right:5px;margin-bottom:-5px}.markdown-body hr{border:none;border-top:1px solid #4dd0e1;margin-top:32px;margin-bottom:32px}.markdown-body del{color:#4dd0e1}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(77,208,225,.08);color:#26c6da;padding:.195em .4em}.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#4dd0e1;border-bottom:1px solid #4dd0e1;font-weight:400;text-decoration:none;margin:0 4px}.markdown-body a:active,.markdown-body a:hover{background-color:rgba(77,208,225,.1)}.markdown-body strong{color:#26c6da}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{font-style:normal;color:#4dd0e1;font-weight:700}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:rgba(77,208,225,.05)}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{margin:2em 0;padding:24px 32px;border-left:4px solid #26c6da;background:rgba(77,208,225,.15);position:relative}.markdown-body blockquote:before{content:"â";top:8px;left:8px;color:#4dd0e1;font-size:30px;line-height:1;font-weight:700;position:absolute;opacity:.7}.markdown-body blockquote:after{content:"â";font-size:30px;position:absolute;right:8px;bottom:0;color:#4dd0e1;opacity:.7}.markdown-body blockquote p{color:#595959;line-height:2}.markdown-body ol,.markdown-body ul{color:#595959;padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><p>æœ€è¿‘Kimi2.5å‘å¸ƒï¼Œå®˜ç½‘çš„åŠ¨ç”»æ•ˆæœè®©äººçœ¼å‰ä¸€äº®ï¼ŒçµåŠ¨çš„äº¤äº’åé¦ˆã€ç»†è…»çš„åŠ¨ç”»è¿‡æ¸¡ï¼Œç»™ç”¨æˆ·å¸¦æ¥äº†æä½³çš„è§†è§‰ä½“éªŒã€‚æœ¬æ–‡å°†æ‰‹æŠŠæ‰‹æ•™ä½ ä½¿ç”¨Riveç»“åˆCanvaså¤åˆ»è¿™ç±»åŠ¨ç”»æ•ˆæœï¼Œä»æ ¸å¿ƒåŸç†åˆ°ä»£ç å®ç°ï¼Œè®©ä½ è½»æ¾æŒæ¡äº¤äº’å¼çŸ¢é‡åŠ¨ç”»çš„å¼€å‘æŠ€å·§ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æŠ€æœ¯é€‰å‹ä¸æ ¸å¿ƒåŸç†</h2>
<h3 data-id="heading-1">1. ä¸ºä»€ä¹ˆé€‰æ‹©Riveï¼Ÿ</h3>
<p>Riveï¼ˆåŸFlareï¼‰æ˜¯ä¸€æ¬¾ä¸“æ³¨äºäº¤äº’å¼çŸ¢é‡åŠ¨ç”»çš„å·¥å…·ï¼Œæ”¯æŒè·¨å¹³å°è¿è¡Œï¼Œèƒ½å°†è®¾è®¡å¸ˆåˆ¶ä½œçš„åŠ¨ç”»å¯¼å‡ºä¸º<code>.riv</code>æ ¼å¼æ–‡ä»¶ï¼Œé€šè¿‡å…¶å®˜æ–¹SDKå¯ç›´æ¥åœ¨Webç«¯æ¸²æŸ“ã€‚ç›¸æ¯”ä¼ ç»Ÿçš„GIF/è§†é¢‘ï¼ŒRiveåŠ¨ç”»ä½“ç§¯å°ã€å¯äº¤äº’ã€æ”¯æŒçŸ¢é‡ç¼©æ”¾ä¸å¤±çœŸï¼Œå®Œç¾å¥‘åˆç½‘é¡µç«¯äº¤äº’å¼åŠ¨ç”»çš„éœ€æ±‚ã€‚</p>
<h3 data-id="heading-2">2. æ ¸å¿ƒå®ç°é€»è¾‘</h3>
<ul>
<li>åˆ©ç”¨Canvasä½œä¸ºRiveåŠ¨ç”»çš„æ¸²æŸ“å®¹å™¨ï¼Œä¿è¯åŠ¨ç”»çš„é«˜æ€§èƒ½ç»˜åˆ¶ï¼›</li>
<li>é€šè¿‡Rive SDKè§£æåŠ¨ç”»æ–‡ä»¶ï¼Œè·å–çŠ¶æ€æœºä¸­çš„è¾“å…¥å‚æ•°ï¼ˆå¦‚é¼ æ ‡åæ ‡ã€è§¦å‘äº‹ä»¶ï¼‰ï¼›</li>
<li>ç›‘å¬é¼ æ ‡/è§¦æ‘¸äº‹ä»¶ï¼Œå®æ—¶æ›´æ–°RiveçŠ¶æ€æœºçš„è¾“å…¥å€¼ï¼Œå®ç°åŠ¨ç”»ä¸ç”¨æˆ·äº¤äº’çš„è”åŠ¨ï¼›</li>
<li>é€‚é…ä¸åŒè®¾å¤‡å°ºå¯¸ï¼Œä¿è¯åŠ¨ç”»åœ¨ç§»åŠ¨ç«¯/æ¡Œé¢ç«¯éƒ½èƒ½æ­£å¸¸å±•ç¤ºã€‚</li>
</ul>
<h2 data-id="heading-3">äºŒã€å®æˆ˜å¼€å‘æ­¥éª¤</h2>
<h3 data-id="heading-4">1. ç¯å¢ƒå‡†å¤‡</h3>
<p>æ— éœ€å¤æ‚çš„æ„å»ºå·¥å…·ï¼Œç›´æ¥é€šè¿‡CDNå¼•å…¥Riveçš„Canvasç‰ˆSDKå³å¯ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://unpkg.com/@rive-app/canvas@2.15.0"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span> 
</code></pre>
<h3 data-id="heading-5">2. é¡µé¢ç»“æ„æ­å»º</h3>
<p>é¦–å…ˆåˆ›å»ºåŸºç¡€çš„HTMLç»“æ„ï¼Œæ ¸å¿ƒæ˜¯ä¸€ä¸ªCanvaså®¹å™¨ï¼Œç”¨äºæ‰¿è½½RiveåŠ¨ç”»ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"zh-CN"</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Kimi Doodle - åå­—ç»˜åˆ¶æ•ˆæœ<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css"> 
    * { 
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; 
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>; 
        <span class="hljs-attribute">box-sizing</span>: 
        border-box; 
    } 
    <span class="hljs-selector-tag">html</span>, <span class="hljs-selector-tag">body</span> { 
        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; 
        <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>; 
        <span class="hljs-attribute">overflow</span>: hidden; 
    } 
    <span class="hljs-selector-class">.rive-container</span> { 
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto; 
        <span class="hljs-attribute">width</span>: <span class="hljs-number">260px</span>; 
        <span class="hljs-attribute">height</span>: <span class="hljs-number">160px</span>; 
        <span class="hljs-attribute">cursor</span>: pointer; 
    } 
    <span class="hljs-selector-tag">canvas</span> { 
        <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>; 
        <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>; 
    } 
</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"rive-container"</span>&gt;</span> 
        <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"canvas"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span> 
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> 
<span class="hljs-comment">&lt;!-- åç»­JSä»£ç å†™åœ¨è¿™é‡Œ --&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span> 
</code></pre>
<p>æ ·å¼ä¸Šåšäº†åŸºç¡€çš„é‡ç½®ï¼Œä¿è¯å®¹å™¨å±…ä¸­ä¸”å æ»¡å¯è§†åŒºåŸŸï¼ŒåŒæ—¶éšè—æ»šåŠ¨æ¡é¿å…å¹²æ‰°ã€‚</p>
<h3 data-id="heading-6">3. RiveåŠ¨ç”»åˆå§‹åŒ–</h3>
<p>åˆå§‹åŒ–Riveå®ä¾‹æ˜¯æ ¸å¿ƒæ­¥éª¤ï¼Œéœ€è¦æŒ‡å®šåŠ¨ç”»æ–‡ä»¶ã€æ¸²æŸ“ç”»å¸ƒã€çŠ¶æ€æœºç­‰å…³é”®å‚æ•°ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">    <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'canvas'</span>); 
    <span class="hljs-keyword">const</span> dpr = <span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span> || <span class="hljs-number">1</span>; <span class="hljs-comment">// é€‚é…é«˜æ¸…å± </span>
    <span class="hljs-keyword">let</span> riveInstance = <span class="hljs-literal">null</span>; 
    <span class="hljs-keyword">let</span> mouseXInput = <span class="hljs-literal">null</span>; 
    <span class="hljs-keyword">let</span> mouseYInput = <span class="hljs-literal">null</span>; 
    <span class="hljs-keyword">function</span> <span class="hljs-title function_">init</span>(<span class="hljs-params"/>) { <span class="hljs-comment">// é€‚é…é«˜æ¸…å±ï¼Œè®¾ç½®Canvaså®é™…å°ºå¯¸ </span>
        canvas.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> * dpr; 
        canvas.<span class="hljs-property">height</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> * dpr; <span class="hljs-comment">// åˆå§‹åŒ–Riveå®ä¾‹ </span>
        riveInstance = <span class="hljs-keyword">new</span> rive.<span class="hljs-title class_">Rive</span>({ 
            <span class="hljs-attr">src</span>: <span class="hljs-string">'./261230-11_16_34_visual_doodle2.riv'</span>, <span class="hljs-comment">// æœ¬åœ°RiveåŠ¨ç”»æ–‡ä»¶ </span>
            <span class="hljs-attr">canvas</span>: canvas, <span class="hljs-comment">// æ¸²æŸ“ç”»å¸ƒ </span>
            <span class="hljs-attr">autoplay</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// è‡ªåŠ¨æ’­æ”¾ </span>
            <span class="hljs-attr">stateMachines</span>: <span class="hljs-string">'doodle'</span>, <span class="hljs-comment">// æŒ‡å®šè¦ä½¿ç”¨çš„çŠ¶æ€æœºåç§° </span>
            <span class="hljs-attr">fit</span>: rive.<span class="hljs-property">Fit</span>.<span class="hljs-property">cover</span>, <span class="hljs-comment">// åŠ¨ç”»é€‚é…æ–¹å¼ </span>
            <span class="hljs-attr">alignment</span>: rive.<span class="hljs-property">Alignment</span>.<span class="hljs-property">center</span>, <span class="hljs-comment">// åŠ¨ç”»å¯¹é½æ–¹å¼ </span>
            <span class="hljs-attr">onLoad</span>: <span class="hljs-function">() =&gt;</span> { <span class="hljs-comment">// è°ƒæ•´ç”»å¸ƒå°ºå¯¸é€‚é…åŠ¨ç”»   </span>
                riveInstance.<span class="hljs-title function_">resizeDrawingSurfaceToCanvas</span>(); <span class="hljs-comment">// æå–çŠ¶æ€æœºè¾“å…¥å‚æ•° </span>
                <span class="hljs-title function_">extractInputs</span>(); 
            } 
}); 
} <span class="hljs-comment">// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ– </span>
<span class="hljs-variable language_">document</span>.<span class="hljs-property">readyState</span> === <span class="hljs-string">'loading'</span> ? <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'DOMContentLoaded'</span>, init) : <span class="hljs-title function_">init</span>(); 
</code></pre>
<p>å…³é”®å‚æ•°è¯´æ˜ï¼š</p>
<ul>
<li><code>src</code>ï¼šRiveåŠ¨ç”»æ–‡ä»¶è·¯å¾„ï¼ˆéœ€æå‰ç”¨Rive Editoråˆ¶ä½œå¹¶å¯¼å‡ºï¼‰ï¼›</li>
<li><code>stateMachines</code>ï¼šè®¾è®¡å¸ˆåœ¨Riveä¸­å®šä¹‰çš„çŠ¶æ€æœºåç§°ï¼Œç”¨äºå…³è”äº¤äº’é€»è¾‘ï¼›</li>
<li><code>fit/alignment</code>ï¼šæ§åˆ¶åŠ¨ç”»åœ¨Canvasä¸­çš„ç¼©æ”¾å’Œå¯¹é½æ–¹å¼ï¼Œç±»ä¼¼CSSçš„object-fitã€‚</li>
</ul>
<h3 data-id="heading-7">4. å®ç°äº¤äº’è”åŠ¨ï¼š</h3>
<p>é¼ æ ‡/è§¦æ‘¸è·Ÿéš RiveåŠ¨ç”»çš„æ ¸å¿ƒäº¤äº’æ€§ä½“ç°åœ¨â€œçŠ¶æ€æœºè¾“å…¥â€â€”â€”è®¾è®¡å¸ˆå¯åœ¨Riveä¸­å®šä¹‰æ•°å€¼å‹è¾“å…¥ï¼ˆå¦‚x/yåæ ‡ï¼‰å’Œè§¦å‘å‹è¾“å…¥ï¼ˆå¦‚ç‚¹å‡»äº‹ä»¶ï¼‰ï¼Œå‰ç«¯é€šè¿‡ä¿®æ”¹è¿™äº›è¾“å…¥å€¼é©±åŠ¨åŠ¨ç”»å˜åŒ–ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">extractInputs</span>(<span class="hljs-params"/>) { 
    <span class="hljs-keyword">try</span> { <span class="hljs-comment">// è·å–çŠ¶æ€æœºçš„æ‰€æœ‰è¾“å…¥å‚æ•° </span>
        <span class="hljs-keyword">const</span> inputs = riveInstance.<span class="hljs-title function_">stateMachineInputs</span>(<span class="hljs-string">'doodle'</span>); 
        <span class="hljs-keyword">if</span> (!inputs) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// è‡ªåŠ¨åŒ¹é…åæ ‡è¾“å…¥ï¼ˆå…¼å®¹å¤šç§å‘½åæ–¹å¼ï¼‰ mouseXInput = inputs.find(i =&gt; ['x','X','mouseX','MouseX','posX'].includes(i.name) ); mouseYInput = inputs.find(i =&gt; ['y','Y','mouseY','MouseY','posY'].includes(i.name) ); // æ‰¾åˆ°åæ ‡è¾“å…¥åï¼Œç»‘å®šäº¤äº’äº‹ä»¶ </span>
        <span class="hljs-keyword">if</span> (mouseXInput &amp;&amp; mouseYInput) { 
            <span class="hljs-title function_">setupInteraction</span>(); 
        } 
    } <span class="hljs-keyword">catch</span> (e) { 
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æå–è¾“å…¥å¤±è´¥:'</span>, e); 
    } 
} 
<span class="hljs-keyword">function</span> <span class="hljs-title function_">setupInteraction</span>(<span class="hljs-params"/>) { <span class="hljs-comment">// ç»Ÿä¸€çš„åæ ‡æ›´æ–°é€»è¾‘ </span>
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">updatePosition</span> = (<span class="hljs-params">clientX, clientY</span>) =&gt; { <span class="hljs-comment">// è·å–Canvasçš„å¯è§†åŒºåŸŸä½ç½® </span>
    <span class="hljs-keyword">const</span> rect = canvas.<span class="hljs-title function_">getBoundingClientRect</span>(); <span class="hljs-comment">// å°†é¼ æ ‡åæ ‡è½¬æ¢ä¸º0-1çš„ç›¸å¯¹å€¼ï¼ˆé€‚é…ä¸åŒå°ºå¯¸ï¼‰ </span>
    <span class="hljs-keyword">const</span> x = (clientX - rect.<span class="hljs-property">left</span>) / rect.<span class="hljs-property">width</span>; 
    <span class="hljs-keyword">const</span> y = (clientY - rect.<span class="hljs-property">top</span>) / rect.<span class="hljs-property">height</span>; <span class="hljs-comment">// æ›´æ–°RiveçŠ¶æ€æœºçš„åæ ‡è¾“å…¥å€¼ </span>
    <span class="hljs-keyword">if</span> (mouseXInput) mouseXInput.<span class="hljs-property">value</span> = x; 
    <span class="hljs-keyword">if</span> (mouseYInput) mouseYInput.<span class="hljs-property">value</span> = y; 
    }; <span class="hljs-comment">// ç›‘å¬é¼ æ ‡ç§»åŠ¨ </span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousemove'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> { <span class="hljs-title function_">updatePosition</span>(e.<span class="hljs-property">clientX</span>, e.<span class="hljs-property">clientY</span>); 
    }); <span class="hljs-comment">// ç›‘å¬è§¦æ‘¸ç§»åŠ¨ï¼ˆé€‚é…ç§»åŠ¨ç«¯ï¼‰ </span>
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'touchmove'</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    e.<span class="hljs-title function_">preventDefault</span>(); <span class="hljs-comment">// é˜»æ­¢é»˜è®¤æ»šåŠ¨è¡Œä¸º </span>
    <span class="hljs-title function_">updatePosition</span>(e.<span class="hljs-property">touches</span>[<span class="hljs-number">0</span>].<span class="hljs-property">clientX</span>, e.<span class="hljs-property">touches</span>[<span class="hljs-number">0</span>].<span class="hljs-property">clientY</span>); }, { <span class="hljs-attr">passive</span>: <span class="hljs-literal">false</span> }); <span class="hljs-comment">// ç‚¹å‡»è§¦å‘é¢å¤–åŠ¨ç”»ï¼ˆè§¦å‘å‹è¾“å…¥ï¼‰ document.addEventListener('click', () =&gt; { </span>
    <span class="hljs-keyword">const</span> trigger=riveInstance.<span class="hljs-title function_">stateMachineInputs</span>(<span class="hljs-string">'doodle'</span>).<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> i.<span class="hljs-property">type</span> === rive.<span class="hljs-property">StateMachineInputType</span>.<span class="hljs-property">Trigger</span>); 
    <span class="hljs-keyword">if</span> (trigger) trigger.<span class="hljs-title function_">fire</span>(); <span class="hljs-comment">// è§¦å‘åŠ¨ç”» </span>
}); 
} 
</code></pre>
<p>æ ¸å¿ƒæ€è·¯ï¼š</p>
<ul>
<li>å°†é¼ æ ‡/è§¦æ‘¸çš„ç»å¯¹åæ ‡è½¬æ¢ä¸ºç›¸å¯¹Canvasçš„0-1åŒºé—´å€¼ï¼Œä¿è¯ä¸åŒå°ºå¯¸ä¸‹äº¤äº’é€»è¾‘ä¸€è‡´ï¼›</li>
<li>ç§»åŠ¨ç«¯é€šè¿‡<code>touchmove</code>äº‹ä»¶é€‚é…ï¼Œæ³¨æ„è®¾ç½®<code>passive: false</code>ä»¥å…è®¸é˜»æ­¢é»˜è®¤æ»šåŠ¨ï¼›</li>
<li>ç‚¹å‡»äº‹ä»¶è§¦å‘Riveçš„Triggerç±»å‹è¾“å…¥ï¼Œå¯å®ç°ç‚¹å‡»æ—¶çš„åŠ¨ç”»åé¦ˆï¼ˆå¦‚æ‰‹ç»˜ç¬”è§¦çš„â€œè½ç¬”â€æ•ˆæœï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-8">5. å“åº”å¼é€‚é…</h3>
<p>ä¸ºäº†è®©åŠ¨ç”»åœ¨çª—å£å°ºå¯¸å˜åŒ–æ—¶æ­£å¸¸æ˜¾ç¤ºï¼Œéœ€è¦ç›‘å¬<code>resize</code>äº‹ä»¶å¹¶æ›´æ–°Canvaså°ºå¯¸ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, <span class="hljs-function">() =&gt;</span> { 
    canvas.<span class="hljs-property">width</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span> * dpr; 
    canvas.<span class="hljs-property">height</span> = <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span> * dpr; 
    <span class="hljs-keyword">if</span> (riveInstance)riveInstance.<span class="hljs-title function_">resizeDrawingSurfaceToCanvas</span>(); 
}); 
</code></pre>
<h2 data-id="heading-9">ä¸‰ã€å…³é”®ä¼˜åŒ–ç‚¹</h2>
<h3 data-id="heading-10">1. é«˜æ¸…å±é€‚é…</h3>
<p>é€šè¿‡<code>window.devicePixelRatio</code>è®¾ç½®Canvasçš„å®é™…å°ºå¯¸ï¼Œé¿å…åŠ¨ç”»åœ¨Retinaå±ä¸Šæ¨¡ç³Šã€‚</p>
<h3 data-id="heading-11">2. æ€§èƒ½ä¼˜åŒ–</h3>
<ul>
<li>é¿å…é¢‘ç¹ä¿®æ”¹Canvaså°ºå¯¸ï¼Œä»…åœ¨çª—å£resizeæ—¶æ›´æ–°ï¼›</li>
<li>è§¦æ‘¸äº‹ä»¶ä¸­åˆç†ä½¿ç”¨<code>passive: false</code>ï¼Œæ—¢é˜»æ­¢é»˜è®¤æ»šåŠ¨åˆä¸å½±å“æ€§èƒ½ï¼›</li>
<li>RiveåŠ¨ç”»æœ¬èº«å·²åšçŸ¢é‡ä¼˜åŒ–ï¼Œæ— éœ€é¢å¤–å‹ç¼©ï¼Œåªéœ€ä¿è¯<code>.riv</code>æ–‡ä»¶ä½“ç§¯é€‚ä¸­ã€‚</li>
</ul>
<h3 data-id="heading-12">3. å…¼å®¹æ€§å¤„ç†</h3>
<ul>
<li>ç›‘å¬<code>DOMContentLoaded</code>ç¡®ä¿é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–Riveï¼›</li>
<li>å¼‚å¸¸æ•è·ï¼šåœ¨æå–çŠ¶æ€æœºè¾“å…¥æ—¶å¢åŠ try/catchï¼Œé¿å…åŠ¨ç”»æ–‡ä»¶åŠ è½½å¼‚å¸¸å¯¼è‡´é¡µé¢å´©æºƒã€‚</li>
</ul>
<h2 data-id="heading-13">å››ã€RiveåŠ¨ç”»åˆ¶ä½œå°è´´å£«</h2>
<ol>
<li>åŠ¨ç”»æ–‡ä»¶åˆ¶ä½œï¼šä½¿ç”¨Rive Editorï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Frive.app%2F%25EF%25BC%2589%25E5%2588%25B6%25E4%25BD%259C%25E6%2589%258B%25E7%25BB%2598%25E9%25A3%258E%25E6%25A0%25BC%25E5%258A%25A8%25E7%2594%25BB%25EF%25BC%258C%25E5%25AE%259A%25E4%25B9%2589%25E7%258A%25B6%25E6%2580%2581%25E6%259C%25BA%25E8%25BE%2593%25E5%2585%25A5%25EF%25BC%2588x%2Fy%25E6%2595%25B0%25E5%2580%25BC%25E8%25BE%2593%25E5%2585%25A5%25E3%2580%2581%25E7%2582%25B9%25E5%2587%25BBTrigger%25EF%25BC%2589%25EF%25BC%259B" target="_blank" title="https://rive.app/%EF%BC%89%E5%88%B6%E4%BD%9C%E6%89%8B%E7%BB%98%E9%A3%8E%E6%A0%BC%E5%8A%A8%E7%94%BB%EF%BC%8C%E5%AE%9A%E4%B9%89%E7%8A%B6%E6%80%81%E6%9C%BA%E8%BE%93%E5%85%A5%EF%BC%88x/y%E6%95%B0%E5%80%BC%E8%BE%93%E5%85%A5%E3%80%81%E7%82%B9%E5%87%BBTrigger%EF%BC%89%EF%BC%9B" ref="nofollow noopener noreferrer">rive.app/ï¼‰åˆ¶ä½œæ‰‹ç»˜é£æ ¼åŠ¨ç”»ï¼Œå®šâ€¦</a></li>
<li>å‘½åè§„èŒƒï¼šçŠ¶æ€æœºè¾“å…¥åç§°å°½é‡ç»Ÿä¸€ï¼ˆå¦‚mouseX/mouseYï¼‰ï¼Œæ–¹ä¾¿å‰ç«¯è‡ªåŠ¨åŒ¹é…ï¼›</li>
<li>å¯¼å‡ºè®¾ç½®ï¼šå¯¼å‡ºæ—¶é€‰æ‹©â€œMinifyâ€å‹ç¼©æ–‡ä»¶ï¼Œå‡å°ä½“ç§¯ã€‚</li>
</ol>
<h2 data-id="heading-14">äº”ã€æœ€ç»ˆæ•ˆæœä¸ç»“è¯­</h2>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œæˆ‘ä»¬å®ç°äº†å’ŒKimiå®˜ç½‘ç±»ä¼¼çš„äº¤äº’å¼æ‰‹ç»˜åŠ¨ç”»æ•ˆæœï¼š</p>
<ul>
<li>é¼ æ ‡/è§¦æ‘¸è·Ÿéšï¼ŒåŠ¨ç”»å®æ—¶å“åº”ä½ç½®å˜åŒ–ï¼›</li>
<li>ç‚¹å‡»è§¦å‘é¢å¤–åŠ¨ç”»åé¦ˆï¼›</li>
<li>é€‚é…ä¸åŒè®¾å¤‡å°ºå¯¸ï¼Œé«˜æ¸…å±æ— æ¨¡ç³Šï¼›</li>
<li>é«˜æ€§èƒ½æ¸²æŸ“ï¼Œæµç•…æ— å¡é¡¿ã€‚</li>
</ul>
<p>Riveä½œä¸ºä¸€æ¬¾å¼ºå¤§çš„äº¤äº’å¼åŠ¨ç”»å·¥å…·ï¼Œèƒ½æå¤§é™ä½å‰ç«¯å®ç°å¤æ‚äº¤äº’åŠ¨ç”»çš„æˆæœ¬ã€‚åªéœ€è®¾è®¡å¸ˆæä¾›åšå¥½çš„<code>.riv</code>åŠ¨ç”»æ–‡ä»¶ï¼Œå‰ç«¯å³å¯é€šè¿‡ç®€å•çš„APIå®ç°ä¸°å¯Œçš„äº¤äº’æ•ˆæœã€‚è¿™ç§â€œè®¾è®¡ä¸å¼€å‘åˆ†ç¦»â€çš„æ¨¡å¼ï¼Œæ—¢èƒ½ä¿è¯åŠ¨ç”»æ•ˆæœçš„è¿˜åŸåº¦ï¼Œåˆèƒ½æå‡å¼€å‘æ•ˆç‡ã€‚</p>
<p>å¦‚æœä½ æƒ³è¿›ä¸€æ­¥æ‰©å±•åŠŸèƒ½ï¼Œè¿˜å¯ä»¥å°è¯•ï¼š</p>
<ul>
<li>å¢åŠ åŠ¨ç”»æ’­æ”¾/æš‚åœæ§åˆ¶ï¼›</li>
<li>è‡ªå®šä¹‰ä¸åŒäº¤äº’åœºæ™¯çš„åŠ¨ç”»çŠ¶æ€ï¼›</li>
<li>ç»“åˆCSSè¿‡æ¸¡å®ç°æ›´ä¸°å¯Œçš„è§†è§‰æ•ˆæœã€‚ å®Œæ•´ä»£ç å·²åœ¨æ–‡ä¸­ç»™å‡ºï¼Œåªéœ€æ›¿æ¢è‡ªå·±çš„<code>.riv</code>åŠ¨ç”»æ–‡ä»¶ï¼Œå³å¯å¿«é€Ÿå¤åˆ»å‡ºå±äºè‡ªå·±çš„äº¤äº’å¼åŠ¨ç”»æ•ˆæœï¼</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[langchain-æç¤ºè¯æ¨¡æ¿çš„ç”¨æ³•]]></title>    <link>https://juejin.cn/post/7600752623068463114</link>    <guid>https://juejin.cn/post/7600752623068463114</guid>    <pubDate>2026-01-30T08:23:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600752623068463114" data-draft-id="7600791597169115179" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="langchain-æç¤ºè¯æ¨¡æ¿çš„ç”¨æ³•"/> <meta itemprop="keywords" content="LangChain"/> <meta itemprop="datePublished" content="2026-01-30T08:23:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æµ…ç¢æ—¶å…‰195"/> <meta itemprop="url" content="https://juejin.cn/user/2983420676552378"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            langchain-æç¤ºè¯æ¨¡æ¿çš„ç”¨æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2983420676552378/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æµ…ç¢æ—¶å…‰195
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T08:23:17.000Z" title="Fri Jan 30 2026 08:23:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    16
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. åŸºæœ¬æç¤ºè¯æ¨¡æ¿ï¼šPromptTemplate</h2>
<h3 data-id="heading-1">æ¨¡æ¿ä¾èµ–åŒ…åŠå¯¼å…¥æ–¹å¼</h3>
<pre><code class="hljs language-javascript" lang="javascript">langchain0<span class="hljs-number">.1</span>ç‰ˆæœ¬ï¼Œç»„ä»¶langchain.<span class="hljs-property">prompts</span>;
    <span class="hljs-keyword">from</span> langchain.<span class="hljs-property">prompts</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">PromptTemplate</span>
langchain0<span class="hljs-number">.2</span>åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œè°ƒæ•´æ¶æ„ï¼Œç»„ä»¶langchain_core.<span class="hljs-property">prompts</span>
    <span class="hljs-keyword">from</span> langchain_core.<span class="hljs-property">prompts</span> <span class="hljs-keyword">import</span> <span class="hljs-title class_">PromptTemplate</span>
    
</code></pre>
<h3 data-id="heading-2">PromptTemplate æ„é€ æ–¹æ³•çš„å‚æ•°åŠå…¶ä½¿ç”¨</h3>









































<table><thead><tr><th align="left">å‚æ•°å</th><th align="left">ç±»å‹</th><th align="left">æ˜¯å¦å¿…ä¼ </th><th align="left">æ ¸å¿ƒä½œç”¨</th></tr></thead><tbody><tr><td align="left">template</td><td align="left">str</td><td align="left">å¿…ä¼ </td><td align="left">æç¤ºè¯æ¨¡æ¿å­—ç¬¦ä¸²ï¼ŒåŒ…å«{å˜é‡å}å ä½ç¬¦</td></tr><tr><td align="left">input_variables</td><td align="left">list[str]</td><td align="left">å¯é€‰</td><td align="left">æ¨¡æ¿ä¸­æ‰€æœ‰å ä½ç¬¦çš„åç§°åˆ—è¡¨ï¼Œç”¨äºæ ¡éªŒå‚æ•°å®Œæ•´æ€§</td></tr><tr><td align="left">template_format</td><td align="left">f-string/jinja2</td><td align="left">å¯é€‰</td><td align="left">æ¨¡æ¿è§£ææ ¼å¼ï¼Œé»˜è®¤f-string</td></tr><tr><td align="left">validate_template</td><td align="left">f-string/jinja2</td><td align="left">å¯é€‰</td><td align="left">æ˜¯å¦æ ¡éªŒæ¨¡æ¿ä¸­å ä½ç¬¦ä¸input_variablesåŒ¹é…ï¼Œé»˜è®¤Trueï¼›å…·ä½“é¡¹ç›®ä¸­ä¹Ÿæ— éœ€ä¿®æ”¹ä¸ºfalse,å¯å¿½ç•¥æ­¤å‚æ•°</td></tr><tr><td align="left">partial_variables</td><td align="left">dict</td><td align="left">å¯é€‰</td><td align="left">éƒ¨åˆ†å›ºå®šå‚æ•°</td></tr></tbody></table>
<h3 data-id="heading-3">template + input_variables + template_format="f-string"(å‚æ•°é»˜è®¤ï¼Œå¯ç¼ºçœ)çš„ä½¿ç”¨</h3>
<h4 data-id="heading-4">ä¸€ä¸ªå ä½ç¬¦</h4>
<pre><code class="hljs language-ini" lang="ini">from langchain_core.prompts import PromptTemplate

<span class="hljs-comment"># {varliable}æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œå¯é€šè¿‡æ¥å£ä¿®æ”¹ï¼Œæ”¹å˜è¾“å…¥å†…å®¹</span>
<span class="hljs-attr">tmp</span> = <span class="hljs-string">""" æˆ‘æ˜¯ä¸€ä½{varliable}åˆå­¦è€… """</span> 

<span class="hljs-attr">prompt_template</span> = PromptTemplate(
   <span class="hljs-attr">template</span> = tmp,
   <span class="hljs-attr">input_variables</span> = [<span class="hljs-string">"varliable"</span>] <span class="hljs-comment"># åˆ—è¡¨ç±»å‹</span>
)

""" ç»™å ä½ç¬¦èµ‹å€¼çš„ä¸€ç§æ–¹å¼ï¼Œlangchain1.0å‰çš„ç”¨æ³•<span class="hljs-comment">; .formatè¿”å›å€¼æ˜¯strç±»å‹</span>
<span class="hljs-attr">final_prompt</span> = prompt_template.format(varliable=<span class="hljs-string">"AIåº”ç”¨"</span>)
print(final_prompt)
"""

<span class="hljs-comment"># ç»™å ä½ç¬¦èµ‹å€¼çš„å¦ä¸€ç§æ–¹å¼ï¼Œlangchain1.0åçš„ç”¨æ³•ï¼Œç»™å ä½ç¬¦èµ‹å€¼ï¼›PromptTemplateçš„.invoke()è¿”å›å€¼æ˜¯StringPromptValueå°è£…çº¯æ–‡æœ¬æç¤ºè¯ï¼Œå¯é€šè¿‡.textè·å–å­—ç¬¦ä¸²</span>

<span class="hljs-attr">result</span> = prompt_template.invoke( {<span class="hljs-string">"varliable"</span>:<span class="hljs-string">"AIåº”ç”¨"</span>} ) 
print(result.text)

<span class="hljs-comment"># è¾“å‡º  æˆ‘æ˜¯ä¸€ä½AIåº”ç”¨åˆå­¦è€…</span>
</code></pre>
<h4 data-id="heading-5">å¤šä¸ªå ä½ç¬¦</h4>
<pre><code class="hljs language-ini" lang="ini">from langchain_core.prompts import PromptTemplate

<span class="hljs-attr">tmp</span> = <span class="hljs-string">""" æˆ‘æ˜¯ä¸€ä½{varliable}åˆå­¦è€…ï¼Œç»ƒä¹ æ—¶é•¿{learnLenth} """</span> 

<span class="hljs-attr">prompt_template</span> = PromptTemplate(
   <span class="hljs-attr">template</span> = tmp,
   <span class="hljs-attr">input_variables</span> = [<span class="hljs-string">"varliable"</span>,<span class="hljs-string">"learnLenth"</span>] <span class="hljs-comment"># åˆ—è¡¨ç±»å‹</span>
)

<span class="hljs-attr">result</span> = prompt_template.invoke( {<span class="hljs-string">"varliable"</span>:<span class="hljs-string">"AIåº”ç”¨"</span>,<span class="hljs-string">"learnLenth"</span>:<span class="hljs-string">"ä¸¤å¹´åŠ"</span>} ) 

print(result.text)

<span class="hljs-comment"># è¾“å‡º  æˆ‘æ˜¯ä¸€ä½AIåº”ç”¨åˆå­¦è€…,ç»ƒä¹ æ—¶é•¿ä¸¤å¹´åŠ</span>
</code></pre>
<h3 data-id="heading-6">template_format 'jinja2'çš„ä½¿ç”¨</h3>

























<table><thead><tr><th align="left">f-string</th><th align="left">jinja2</th><th align="left">åŠŸèƒ½</th></tr></thead><tbody><tr><td align="left">{varliable}</td><td align="left">{{varliable}}</td><td align="left">å ä½ç¬¦</td></tr><tr><td align="left"/><td align="left">{% if æ¡ä»¶ %} {% endif %}</td><td align="left">æ¡ä»¶åˆ¤æ–­</td></tr><tr><td align="left"/><td align="left">{% for å…ƒç´  in åˆ—è¡¨ %} {% endfor %}</td><td align="left">å¾ªç¯è¯­å¥</td></tr></tbody></table>
<h4 data-id="heading-7">jinja2</h4>
<pre><code class="hljs language-ini" lang="ini">from langchain_core.prompts import PromptTemplate

<span class="hljs-comment"># {{varliable}}æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œå¯é€šè¿‡æ¥å£ä¿®æ”¹ï¼Œæ”¹å˜è¾“å…¥å†…å®¹</span>
<span class="hljs-attr">tmp</span> = <span class="hljs-string">""" æˆ‘æ˜¯ä¸€ä½{{varliable}}åˆå­¦è€… """</span>

<span class="hljs-attr">prompt_template</span> = PromptTemplate(
    <span class="hljs-attr">template</span> = tmp,
    <span class="hljs-attr">input_variables</span>=[<span class="hljs-string">"varliable"</span>],
    <span class="hljs-attr">template_format</span>=<span class="hljs-string">"jinja2"</span>
)

<span class="hljs-attr">result</span> = prompt_template.invoke({<span class="hljs-string">"varliable"</span>:<span class="hljs-string">"AIåº”ç”¨"</span>})

print(result.text)
</code></pre>
<h4 data-id="heading-8">{% if æ¡ä»¶ %} {% endif %}</h4>
<pre><code class="hljs language-ini" lang="ini">from langchain_core.prompts import PromptTemplate

<span class="hljs-attr">tmp</span> = <span class="hljs-string">"""
ä½ æ˜¯ä¸€å{{role}}ï¼Œä¸º{{user_type}}æ’°å†™æ–‡æ¡ˆ
{% if user_type == "å­¦ç”Ÿ" %}
è¦æ±‚ï¼šè¯­è¨€æ´»æ³¼ï¼Œçªå‡ºæ€§ä»·æ¯”ï¼Œä¸è¶…è¿‡80å­—
{% elif user_type == "èŒåœºäºº" %}
è¦æ±‚ï¼šè¯­è¨€ä¸“ä¸šï¼Œçªå‡ºæ•ˆç‡ï¼Œä¸è¶…è¿‡100å­—ã€‚
{% else %}
è¦æ±‚ï¼šé€šç”¨é£æ ¼ï¼Œç®€æ´æ˜äº†ï¼Œä¸è¶…è¿‡90å­—ã€‚
{% endif %}
äº§å“ï¼š{{product}}ï¼Œå–ç‚¹ï¼š{{selling_point}}
"""</span>
<span class="hljs-attr">prompt_template</span> = PromptTemplate(
    <span class="hljs-attr">template</span> = tmp,
    <span class="hljs-attr">input_variables</span>=[<span class="hljs-string">"role"</span>,<span class="hljs-string">"user_type"</span>,<span class="hljs-string">"product"</span>,<span class="hljs-string">"selling_point"</span>],
    <span class="hljs-attr">template_format</span>=<span class="hljs-string">"jinja2"</span>
)

<span class="hljs-attr">result</span> = prompt_template.invoke({<span class="hljs-string">"role"</span>:<span class="hljs-string">"ä¸“å®¶"</span>,<span class="hljs-string">"user_type"</span>:<span class="hljs-string">"å­¦ç”Ÿ"</span>,<span class="hljs-string">"product"</span>:<span class="hljs-string">"è“ç‰™è€³æœº"</span>,<span class="hljs-string">"selling_point"</span>:<span class="hljs-string">"çœç”µ"</span>})

print(result.text)

<span class="hljs-comment"># è¾“å‡ºï¼šä½ æ˜¯ä¸€åä¸“å®¶ï¼Œä¸ºå­¦ç”Ÿæ’°å†™æ–‡æ¡ˆ è¦æ±‚ï¼šè¯­è¨€æ´»æ³¼ï¼Œçªå‡ºæ€§ä»·æ¯”ï¼Œä¸è¶…è¿‡80å­— äº§å“ï¼šè“ç‰™è€³æœºï¼Œå–ç‚¹ï¼šçœç”µ</span>


<span class="hljs-attr">result</span> = prompt_template.invoke({<span class="hljs-string">"role"</span>:<span class="hljs-string">"ä¸“å®¶"</span>,<span class="hljs-string">"user_type"</span>:<span class="hljs-string">"èŒåœºäºº"</span>,<span class="hljs-string">"product"</span>:<span class="hljs-string">"è“ç‰™è€³æœº"</span>,<span class="hljs-string">"selling_point"</span>:<span class="hljs-string">"çœç”µ"</span>})

print(result.text)

<span class="hljs-comment"># è¾“å‡ºï¼šä½ æ˜¯ä¸€åä¸“å®¶ï¼Œä¸ºèŒåœºäººæ’°å†™æ–‡æ¡ˆ  è¦æ±‚ï¼šè¯­è¨€ä¸“ä¸šï¼Œçªå‡ºæ•ˆç‡ï¼Œä¸è¶…è¿‡100å­—ã€‚ äº§å“ï¼šè“ç‰™è€³æœºï¼Œå–ç‚¹ï¼šçœç”µ</span>

<span class="hljs-attr">result</span> = prompt_template.invoke({<span class="hljs-string">"role"</span>:<span class="hljs-string">"ä¸“å®¶"</span>,<span class="hljs-string">"user_type"</span>:<span class="hljs-string">"å­¦è€…"</span>,<span class="hljs-string">"product"</span>:<span class="hljs-string">"è“ç‰™è€³æœº"</span>,<span class="hljs-string">"selling_point"</span>:<span class="hljs-string">"çœç”µ"</span>})

<span class="hljs-comment"># è¾“å‡ºï¼šä½ æ˜¯ä¸€åä¸“å®¶ï¼Œä¸ºå­¦è€…æ’°å†™æ–‡æ¡ˆ  è¦æ±‚ï¼šé€šç”¨é£æ ¼ï¼Œç®€æ´æ˜äº†ï¼Œä¸è¶…è¿‡90å­—ã€‚ äº§å“ï¼šè“ç‰™è€³æœºï¼Œå–ç‚¹ï¼šçœç”µ</span>
</code></pre>
<h4 data-id="heading-9">{% for å…ƒç´  in åˆ—è¡¨ %}</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> PromptTemplate

template = <span class="hljs-string">"""
    {% for trunk in trunks %}
    -   {{trunk}}
    {% endfor %}
"""</span>

prompt_template = PromptTemplate(
    template=template,
    input_variables=[<span class="hljs-string">"trunks"</span>],
    template_format=<span class="hljs-string">"jinja2"</span>
)

result = prompt_template.invoke({<span class="hljs-string">"trunks"</span>:[<span class="hljs-string">"åŒ—äº¬ä»Šå¤©å¤šäº‘"</span>, <span class="hljs-string">"æ°”æ¸©10-20â„ƒ"</span>, <span class="hljs-string">"å¾®é£"</span>]})

<span class="hljs-built_in">print</span>(result.text)

<span class="hljs-string">""" è¾“å‡º
-   åŒ—äº¬ä»Šå¤©å¤šäº‘

-   æ°”æ¸©10-20â„ƒ

-   å¾®é£
"""</span>
</code></pre>
<h3 data-id="heading-10">partial_variables çš„ä½¿ç”¨</h3>
<pre><code class="hljs language-ini" lang="ini">from langchain_core.prompts import PromptTemplate

<span class="hljs-attr">tmp</span> = <span class="hljs-string">""" æˆ‘æ˜¯ä¸€ä½{varliable}åˆå­¦è€…ï¼Œç»ƒä¹ æ—¶é•¿{learnLenth} """</span> 

<span class="hljs-attr">prompt_template</span> = PromptTemplate(
   <span class="hljs-attr">template</span> = tmp,
   <span class="hljs-attr">input_variables</span> = [<span class="hljs-string">"varliable"</span>,<span class="hljs-string">"learnLenth"</span>], <span class="hljs-comment"># åˆ—è¡¨ç±»å‹</span>
   <span class="hljs-attr">partial_variables</span>={<span class="hljs-string">"learnLenth"</span>:<span class="hljs-string">"ä¸¤å¹´åŠ"</span>}   <span class="hljs-comment"># å›ºå®š learnLenth å‚æ•°å€¼</span>
)

<span class="hljs-attr">result</span> = prompt_template.invoke( {<span class="hljs-string">"varliable"</span>:<span class="hljs-string">"AIåº”ç”¨"</span>} ) 

print(result.text)

<span class="hljs-comment"># è¾“å‡º  æˆ‘æ˜¯ä¸€ä½AIåº”ç”¨åˆå­¦è€…,ç»ƒä¹ æ—¶é•¿ä¸¤å¹´åŠ</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Git ä½¿ç”¨è§„èŒƒ]]></title>    <link>https://juejin.cn/post/7600837236620427316</link>    <guid>https://juejin.cn/post/7600837236620427316</guid>    <pubDate>2026-01-30T08:44:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600837236620427316" data-draft-id="7600799940970577960" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Git ä½¿ç”¨è§„èŒƒ"/> <meta itemprop="keywords" content="Git"/> <meta itemprop="datePublished" content="2026-01-30T08:44:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å®Œå±±"/> <meta itemprop="url" content="https://juejin.cn/user/1848713794559706"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Git ä½¿ç”¨è§„èŒƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1848713794559706/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å®Œå±±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T08:44:55.000Z" title="Fri Jan 30 2026 08:44:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è‡ªç”¨çš„ï¼‰åœ¨ GitHub ä¸Šè¿›è¡Œå¼€æºé¡¹ç›®çš„å¼€å‘æ—¶ï¼Œç¡®ä¿ä»£ç ç®¡ç†çš„æ¸…æ™°å’Œåä½œçš„é¡ºåˆ©è¿›è¡Œï¼Œæœ‰ä¸€äº›å¸¸è§çš„æœ€ä½³å®è·µå’Œè§„èŒƒã€‚ä»¥ä¸‹æ˜¯ä¸€èˆ¬çš„è§„èŒƒå»ºè®®ï¼š</p>
<h3 data-id="heading-0">1. Git Flow</h3>
<p>ä¸€ç§ç»å…¸çš„åˆ†æ”¯ç®¡ç†æ¨¡å‹ï¼ŒåŒ…å« masterã€developã€featureã€release å’Œ hotfix åˆ†æ”¯ç­‰ã€‚</p>
<p><strong>ä¸»åˆ†æ”¯ (Main/Master Branch)</strong> ï¼š é€šå¸¸æ˜¯ main æˆ– masterï¼Œè¿™æ˜¯ä»£ç çš„ç¨³å®šç‰ˆæœ¬ï¼Œç¡®ä¿åœ¨å‘å¸ƒå‰æ‰€æœ‰æµ‹è¯•é€šè¿‡ã€‚</p>
<p><strong>åŠŸèƒ½åˆ†æ”¯ (Feature Branches)</strong> ï¼š æ¯ä¸ªæ–°çš„åŠŸèƒ½æˆ–ç‰¹æ€§åº”è¯¥æœ‰ä¸€ä¸ªå•ç‹¬çš„åˆ†æ”¯ï¼Œé€šå¸¸å‘½åä¸º feature/feature-nameã€‚ featureè¢«reviewé€šè¿‡äº†å°±å¯ä»¥åˆå¹¶åˆ°developåˆ†æ”¯ï¼Œå¦‚æœå°è§„æ¨¡å›¢é˜Ÿå’Œé¡¹ç›®çš„è¯ç›´æ¥åˆå¹¶åˆ°mainåˆ†æ”¯å°±å¯ä»¥äº†ã€‚git commit -m "feat: å¹²å•¥äº†"</p>
<p><strong>é”™è¯¯ä¿®å¤åˆ†æ”¯ (Hotfix Branches)</strong> ï¼š ç´§æ€¥é”™è¯¯ä¿®å¤é€šå¸¸ä»ä¸»åˆ†æ”¯æ‹‰å‡ºï¼Œå‘½åä¸º hotfix/fix-nameã€‚</p>
<p><strong>å¼€å‘åˆ†æ”¯ (Develop Branch)</strong> ï¼š å¯é€‰çš„åˆ†æ”¯ï¼Œç”¨äºé›†æˆæ‰€æœ‰åŠŸèƒ½åˆ†æ”¯ï¼Œä½¿ç”¨åœ¨å‡†å¤‡å‘å¸ƒåˆ°ä¸»åˆ†æ”¯å‰ã€‚</p>
<h3 data-id="heading-1">2. Commit Messages</h3>
<p><strong>æ ¼å¼æ¸…æ™°</strong>ï¼š é€šå¸¸ç»“æ„ä¸ºï¼šç±»å‹: ç®€çŸ­æè¿°ã€‚ ç¤ºä¾‹ï¼šfix: ä¿®å¤ç™»å½•å´©æºƒé—®é¢˜ æˆ– feat: æ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ã€‚</p>
<p><strong>ä½¿ç”¨å‘½ä»¤å¼è¯­æ°”</strong>ï¼š æè¿°â€œè¿™æ¬¡æäº¤åšäº†ä»€ä¹ˆâ€è€Œä¸æ˜¯â€œæ­£åœ¨åšä»€ä¹ˆâ€ã€‚</p>
<p><strong>ä¿æŒç®€æ´</strong>ï¼š é€šå¸¸ç®€çŸ­æè¿°ä¸è¶…è¿‡50ä¸ªå­—ç¬¦ã€‚ å¦‚æœéœ€è¦è¯¦ç»†æè¿°ï¼Œå¯ä»¥åœ¨ä¸‹é¢æ·»åŠ æ›´è¯¦ç»†çš„è¯´æ˜ã€‚</p>
<p><strong>Commit Message Conventions</strong>ï¼šæäº¤ä¿¡æ¯é€šå¸¸ä½¿ç”¨æŸç§è§„èŒƒã€‚ä½¿ç”¨ç°åœ¨æ—¶ï¼Œç®€æ´ä¸è¶…è¿‡50ä¸ªå­—ç¬¦ã€‚ä»¥ä¸‹æ˜¯å¸¸è§çš„æäº¤ç±»å‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">commitæ ¼å¼ï¼š&lt;<span class="hljs-built_in">type</span>&gt;(&lt;scope&gt;): &lt;subject&gt;
 Â 
feat(auth): add login functionality <span class="hljs-comment"># æ–°å¢ç‰¹æ€§</span>
fix(user): correct typo <span class="hljs-keyword">in</span> username validation <span class="hljs-comment"># ä¿®å¤bug</span>
docs(readme): update installation instructions <span class="hljs-comment"># æ›´æ–°æ–‡æ¡£</span>
refactor(api): simplify request handling <span class="hljs-comment"># ä»£ç é‡æ„</span>
perf(search): improve search algorithm performance <span class="hljs-comment"># æ€§èƒ½ä¼˜åŒ–</span>
<span class="hljs-built_in">test</span>(button): add unit tests <span class="hljs-keyword">for</span> button component <span class="hljs-comment">#æµ‹è¯•</span>
</code></pre>
<h3 data-id="heading-2">3. Pull Requests</h3>
<p><strong>æè¿°æ˜ç¡®</strong>ï¼š æ¸…æ™°æè¿°æ‰€è§£å†³çš„é—®é¢˜æˆ–å®ç°çš„åŠŸèƒ½ã€‚</p>
<p><strong>å¼•ç”¨ç›¸å…³é—®é¢˜</strong>ï¼š ä½¿ç”¨ closes #issue-number æ³¨è§£è‡ªåŠ¨å…³é—­ç›¸å…³çš„ GitHub Issuesã€‚</p>
<p><strong>è¯·æ±‚ä»£ç å®¡æŸ¥</strong>ï¼š å¯»æ±‚å›¢é˜Ÿæˆå‘˜çš„å®¡æŸ¥å’Œåé¦ˆã€‚</p>
<h3 data-id="heading-3">4. Git å¸¸ç”¨å‘½ä»¤</h3>
<h4 data-id="heading-4">æ‹‰å–ä»£ç </h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‹‰å–è¿œç¨‹ä»£ç ï¼ˆä¸åˆå¹¶ï¼‰</span>
git fetch

<span class="hljs-comment"># æ‹‰å–è¿œç¨‹ä»£ç ååˆå¹¶ï¼ˆç­‰åŒäº git fetch + git mergeï¼‰</span>
git pull

<span class="hljs-comment"># æ‹‰å–è¿œç¨‹ä»£ç ååˆå¹¶ï¼ˆç­‰åŒäº git fetch + git rebaseï¼‰</span>
git pull --rebase
</code></pre>
<h4 data-id="heading-5">æäº¤ä»£ç </h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span>
git add .

<span class="hljs-comment"># æäº¤åˆ°æœ¬åœ°ä»“åº“</span>
git commit -m <span class="hljs-string">"Commit Messages"</span>

<span class="hljs-comment"># æäº¤åˆ°è¿œç¨‹ä»“åº“</span>
git push
</code></pre>
<h4 data-id="heading-6">æ’¤é”€æ›´æ”¹</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å°†å·¥ä½œåŒºæ¢å¤åˆ°ä¸Šä¸€æ¬¡æäº¤çš„çŠ¶æ€ï¼ˆå¦‚æœè¯¯ä¿®æ”¹äº†æ–‡ä»¶æƒ³è¿˜åŸï¼‰</span>
git restore [file]

<span class="hljs-comment"># æ’¤é”€æš‚å­˜æ“ä½œï¼ˆæ’¤é”€ git addï¼‰</span>
git restore --staged [file]

<span class="hljs-comment"># æ’¤é”€æœ€è¿‘ä¸€æ¬¡ commitï¼ˆä¿ç•™æœ¬åœ°æ›´æ”¹ï¼‰</span>
git reset --soft HEAD~1

<span class="hljs-comment"># æ’¤é”€æœ€è¿‘ä¸€æ¬¡ commit å¹¶ä¸ä¿ç•™æœ¬åœ°ä¿®æ”¹ï¼ˆæ…ç”¨ï¼ï¼‰</span>
git reset --hard HEAD~1

<span class="hljs-comment"># æ’¤é”€å·²ç»æäº¤åˆ°è¿œç«¯çš„ commitï¼ˆä¿ç•™è®°å½•ï¼‰</span>
git revert [<span class="hljs-built_in">hash</span>]
git push

<span class="hljs-comment"># æŸ¥çœ‹å†å²æ“ä½œ</span>
git reflog
git <span class="hljs-built_in">log</span>

<span class="hljs-comment"># å–æ¶ˆå·²ç»è¢« git è¿½è¸ªçš„æ–‡ä»¶ï¼ˆå› ä¸º .gitignore æ— æ³•å–æ¶ˆå·²ç»è¢«è¿½è¸ªçš„æ–‡ä»¶ï¼Œæ­¤æ—¶éœ€è¦æ‰‹åŠ¨å–æ¶ˆï¼‰</span>
git <span class="hljs-built_in">rm</span> --cached [file]
</code></pre>
<h4 data-id="heading-7">æ“ä½œåˆ†æ”¯</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯ï¼Œ-a æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ï¼Œ</span>
git branch

<span class="hljs-comment"># åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯</span>
git checkout -b [branch]

<span class="hljs-comment"># åˆ‡æ¢åˆ°å·²æœ‰åˆ†æ”¯</span>
git checkout [branch]
git switch [branch]

<span class="hljs-comment"># ä¿®æ”¹åˆ†æ”¯å</span>
git branch -m [branch]

<span class="hljs-comment"># åˆ é™¤æœ¬åœ°åˆ†æ”¯</span>
git branch -d [branch]

<span class="hljs-comment"># åˆ é™¤è¿œç¨‹ä»“åº“åˆ†æ”¯</span>
git push origin --delete [branch]

<span class="hljs-comment"># å˜åŸºåˆ†æ”¯</span>
git rebase [branch]

<span class="hljs-comment"># åˆå¹¶åˆ†æ”¯</span>
git merge [branch]

<span class="hljs-comment"># åˆå¹¶æŒ‡å®šcommit</span>
git cherry-pick [<span class="hljs-built_in">hash</span>]
</code></pre>
<h4 data-id="heading-8">æ–°å»ºä»“åº“</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆå§‹åŒ–</span>
git init

<span class="hljs-comment"># æŸ¥çœ‹è¿œç¨‹ä»“åº“ä¿¡æ¯</span>
git remote -v

<span class="hljs-comment"># æ·»åŠ è¿œç¨‹ä»“åº“</span>
git remote add origin &lt;repository_url&gt;
git remote set-url origin &lt;repository_ssh&gt;
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ„å»ºä½ çš„ç¬¬ä¸€ä¸ªAIGCåº”ç”¨ï¼šä»åŸç†åˆ°å®è·µ]]></title>    <link>https://juejin.cn/post/7600957412128948239</link>    <guid>https://juejin.cn/post/7600957412128948239</guid>    <pubDate>2026-01-30T09:53:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600957412128948239" data-draft-id="7600986252448596008" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºä½ çš„ç¬¬ä¸€ä¸ªAIGCåº”ç”¨ï¼šä»åŸç†åˆ°å®è·µ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-30T09:53:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Leeå·"/> <meta itemprop="url" content="https://juejin.cn/user/2402874087453658"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºä½ çš„ç¬¬ä¸€ä¸ªAIGCåº”ç”¨ï¼šä»åŸç†åˆ°å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2402874087453658/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Leeå·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:53:31.000Z" title="Fri Jan 30 2026 09:53:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ„å»ºä½ çš„ç¬¬ä¸€ä¸ªAIGCåº”ç”¨ï¼šä»åŸç†åˆ°å®è·µ</h2>
<h3 data-id="heading-1">ä¸€ã€é¡¹ç›®å…¨æ™¯ï¼šæˆ‘ä»¬è¦åšä»€ä¹ˆï¼Ÿ</h3>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æœ‰ä¸€ä¸ªæ°¸ä¸ç–²å€¦ã€æŠ€è‰ºé«˜è¶…çš„AIç”»å¸ˆã€‚è¿™ä¸ªé¡¹ç›®å°±æ˜¯ä½ ä¸è¿™ä½ç”»å¸ˆä¹‹é—´çš„<strong>è‡ªåŠ¨åŒ–æ²Ÿé€šæ¡¥æ¢</strong>ã€‚ä½ é€šè¿‡ä»£ç ä¸‹è¾¾æŒ‡ä»¤ï¼ŒAIç”»å¸ˆä½œç”»ï¼Œç„¶åå°†ä½œå“ï¼ˆå›¾ç‰‡ç½‘å€ï¼‰é€å›ç»™ä½ ã€‚</p>
<p><strong>æ ¸å¿ƒä»·å€¼</strong>ï¼šå°†é‡å¤æ€§çš„AIç»˜å›¾ä»»åŠ¡è‡ªåŠ¨åŒ–ï¼Œä¸ºåç»­é›†æˆåˆ°ç½‘ç«™ã€Appæˆ–å·¥ä½œæµä¸­å¥ å®šåŸºç¡€ã€‚</p>
<h3 data-id="heading-2">äºŒã€æŠ€æœ¯æ ˆæ·±åº¦å‰–æ</h3>
<h4 data-id="heading-3">1. åŒ…ç®¡ç†çš„è¿›åŒ–ï¼šä¸ºä»€ä¹ˆæ˜¯pnpmï¼Ÿ</h4>
<p>ä¼ ç»Ÿçš„npmç®¡ç†ä¾èµ–æ—¶ï¼Œæ¯ä¸ªé¡¹ç›®éƒ½ç‹¬ç«‹å­˜å‚¨ä¾èµ–åŒ…ã€‚å¦‚æœä½ çš„ç”µè„‘æœ‰10ä¸ªVueé¡¹ç›®ï¼Œå°±ä¼šæœ‰10ä»½Vueçš„ä»£ç ï¼Œè¿™æ˜¾ç„¶ä¸é«˜æ•ˆã€‚</p>
<p><strong>pnpmçš„èªæ˜ä¹‹å¤„</strong>ï¼š</p>
<ul>
<li>å®ƒåœ¨æœ¬æœºå»ºç«‹ä¸€ä¸ª<strong>ä¸­å¤®ä»“åº“</strong>å­˜å‚¨æ‰€æœ‰åŒ…</li>
<li>æ–°é¡¹ç›®éœ€è¦åŒ…æ—¶ï¼Œpnpmåˆ›å»ºä¸€ä¸ªâ€œå¿«æ·æ–¹å¼â€æŒ‡å‘ä¸­å¤®ä»“åº“</li>
<li>å°±åƒå›¾ä¹¦é¦†ï¼šä¹¦åªæœ‰ä¸€å¥—ï¼Œä½†æ‰€æœ‰è¯»è€…éƒ½èƒ½å€Ÿé˜…</li>
</ul>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä¼ ç»Ÿæ–¹å¼ - æ¯ä¸ªé¡¹ç›®ç‹¬ç«‹å­˜å‚¨</span>
npm install openai  <span class="hljs-comment"># ä¸‹è½½å¹¶å­˜å‚¨åˆ°å½“å‰é¡¹ç›®çš„node_modules</span>

<span class="hljs-comment"># pnpmæ–¹å¼ - å…¨å±€é“¾æ¥</span>
pnpm install openai  <span class="hljs-comment"># åˆ›å»ºé“¾æ¥æŒ‡å‘å…¨å±€å­˜å‚¨</span>
</code></pre>
<p><strong>å®é™…å½±å“</strong>ï¼šå®‰è£…é€Ÿåº¦æå‡2å€ï¼Œç£ç›˜å ç”¨å‡å°‘50%ä»¥ä¸Šã€‚</p>
<h4 data-id="heading-4">2. æ¨¡å—åŒ–ï¼šç°ä»£JavaScriptçš„å·¥ç¨‹åŒ–æ€ç»´</h4>
<p><strong>é—®é¢˜</strong>ï¼šæ—©æœŸJavaScriptæ‰€æœ‰ä»£ç å†™åœ¨ä¸€èµ·ï¼Œå‡ åƒè¡Œä»£ç éš¾ä»¥ç»´æŠ¤ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šåƒä¹é«˜ç§¯æœ¨ä¸€æ ·æ‹†åˆ†åŠŸèƒ½ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¼ ç»Ÿå†™æ³• - æ•´ä¸ªå·¥å…·ç®±éƒ½æ‹¿æ¥</span>
<span class="hljs-keyword">import</span> dotenv <span class="hljs-keyword">from</span> <span class="hljs-string">'dotenv'</span>;
dotenv.<span class="hljs-title function_">config</span>();  <span class="hljs-comment">// è¿˜è¦é€šè¿‡.æ¥è°ƒç”¨</span>

<span class="hljs-comment">// ç°ä»£å†™æ³• - åªæ‹¿éœ€è¦çš„å·¥å…·</span>
<span class="hljs-keyword">import</span> { config } <span class="hljs-keyword">from</span> <span class="hljs-string">'dotenv'</span>;
<span class="hljs-title function_">config</span>({ <span class="hljs-attr">path</span>: <span class="hljs-string">'.env'</span> });  <span class="hljs-comment">// ç›´æ¥ä½¿ç”¨</span>
</code></pre>
<p><strong>è§£æ„å¯¼å…¥çš„ç²¾å¦™ä¹‹å¤„</strong>ï¼š</p>
<ul>
<li>æ˜ç¡®å£°æ˜ï¼šæˆ‘åªéœ€è¦<code>config</code>è¿™ä¸ªåŠŸèƒ½</li>
<li>æ‰“åŒ…ä¼˜åŒ–ï¼šæ„å»ºå·¥å…·å¯ä»¥å‰”é™¤æœªä½¿ç”¨çš„ä»£ç </li>
<li>ä»£ç æ¸…æ™°ï¼šä¸€çœ¼å°±çŸ¥é“ä¾èµ–ä»€ä¹ˆåŠŸèƒ½</li>
</ul>
<h4 data-id="heading-5">3. ç¯å¢ƒå˜é‡ï¼šå®‰å…¨ä¸é…ç½®çš„è‰ºæœ¯</h4>
<p><strong>ä¸ºä»€ä¹ˆä¸ç”¨ç¡¬ç¼–ç ï¼Ÿ</strong></p>
<pre><code class="hljs language-ini" lang="ini">// âŒ å±é™©åšæ³• - å¯†ç æš´éœ²åœ¨ä»£ç ä¸­
const <span class="hljs-attr">apiKey</span> = <span class="hljs-string">"sk-123456789abc"</span><span class="hljs-comment">;</span>

// âœ… å®‰å…¨åšæ³• - ä»ç¯å¢ƒå˜é‡è¯»å–
const <span class="hljs-attr">apiKey</span> = process.env.OpenAI_API_KEY<span class="hljs-comment">;</span>
</code></pre>
<p><strong>ç¯å¢ƒå˜é‡çš„å¤šé‡ä»·å€¼</strong>ï¼š</p>
<ol>
<li><strong>å®‰å…¨æ€§</strong>ï¼šä»£ç å¯ä»¥å…¬å¼€ï¼Œå¯†ç ä¿æŒç§æœ‰</li>
<li><strong>çµæ´»æ€§</strong>ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ä¸åŒé…ç½®</li>
<li><strong>ä¾¿æ·æ€§</strong>ï¼šä¿®æ”¹é…ç½®æ— éœ€é‡æ–°éƒ¨ç½²ä»£ç </li>
</ol>
<p><strong>process.envçš„åº•å±‚åŸç†</strong>ï¼š</p>
<ul>
<li>å½“Node.jsè¿›ç¨‹å¯åŠ¨æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šæ³¨å…¥ç¯å¢ƒå˜é‡</li>
<li><code>process.env</code>æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼ŒåŒ…å«æ‰€æœ‰ç¯å¢ƒå˜é‡</li>
<li>dotenvåº“çš„ä½œç”¨ï¼šè¯»å–.envæ–‡ä»¶å†…å®¹ï¼Œå°†å…¶æ·»åŠ åˆ°<code>process.env</code>ä¸­</li>
</ul>
<h4 data-id="heading-6">4. è¿›ç¨‹æ¦‚å¿µï¼šç†è§£ç¨‹åºè¿è¡Œçš„ç¯å¢ƒ</h4>
<p><strong>å‰ç«¯ vs åç«¯ç¯å¢ƒå·®å¼‚</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// å‰ç«¯ç¯å¢ƒ - æ“ä½œæµè§ˆå™¨æ–‡æ¡£</span>
document.<span class="hljs-built_in">getElementById</span>(<span class="hljs-string">'app'</span>);  <span class="hljs-comment">// æ“ä½œç½‘é¡µå…ƒç´ </span>
window.location.href;           <span class="hljs-comment">// è·å–æµè§ˆå™¨åœ°å€</span>

<span class="hljs-comment">// åç«¯ç¯å¢ƒ - æ“ä½œæœåŠ¡å™¨è¿›ç¨‹  </span>
process.env.API_KEY;           <span class="hljs-comment">// è¯»å–ç³»ç»Ÿç¯å¢ƒå˜é‡</span>
process.<span class="hljs-built_in">cwd</span>();                 <span class="hljs-comment">// è·å–å½“å‰å·¥ä½œç›®å½•</span>
</code></pre>
<p><strong>è¿›ç¨‹çš„æ·±å±‚ç†è§£</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ªè¿è¡Œçš„ç¨‹åºéƒ½æ˜¯æ“ä½œç³»ç»Ÿçš„ä¸€ä¸ª<strong>è¿›ç¨‹</strong></li>
<li>è¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´å’Œç³»ç»Ÿèµ„æº</li>
<li>æˆ‘ä»¬çš„Node.jsè„šæœ¬è¿è¡Œæ—¶ï¼Œå°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹</li>
</ul>
<h3 data-id="heading-7">ä¸‰ã€AIGCæ ¸å¿ƒï¼šæç¤ºå·¥ç¨‹çš„è‰ºæœ¯</h3>
<h4 data-id="heading-8">1. APIå®¢æˆ·ç«¯é…ç½®ï¼šè¿æ¥AIæœåŠ¡çš„æ¡¥æ¢</h4>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-type">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-built_in">OpenAI</span>({
    apiKey: process.env.OpenAI_API_KEY,  <span class="hljs-comment">// èº«ä»½è®¤è¯</span>
    baseURL: <span class="hljs-string">'https://api.agicto.cn/v1'</span>   <span class="hljs-comment">// æœåŠ¡ç«¯ç‚¹</span>
});
</code></pre>
<p><strong>baseURLçš„å¦™ç”¨</strong>ï¼š</p>
<ul>
<li>é»˜è®¤æŒ‡å‘OpenAIå®˜æ–¹æœåŠ¡å™¨</li>
<li>å¯ä»¥æ›¿æ¢ä¸ºå…¶ä»–å…¼å®¹OpenAI APIçš„æœåŠ¡å•†</li>
<li>åœ¨å›½å†…è®¿é—®æ—¶ï¼Œå¸¸ç”¨ä»£ç†æœåŠ¡è§£å†³ç½‘ç»œé—®é¢˜</li>
</ul>
<h4 data-id="heading-9">2. æç¤ºè¯è®¾è®¡ï¼šå¦‚ä½•ä¸AIæœ‰æ•ˆæ²Ÿé€šï¼Ÿ</h4>
<p><strong>æç¤ºè¯æ¼”è¿›ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-comment">// åˆçº§æç¤ºè¯ - ç»“æœéšæœºæ€§å¼º</span>
<span class="hljs-string">"ç”»ä¸€åªçŒ«"</span>

<span class="hljs-comment">// ä¸­çº§æç¤ºè¯ - å¢åŠ ç»†èŠ‚çº¦æŸ  </span>
<span class="hljs-string">"ç”»ä¸€åªæ©˜çŒ«åœ¨æ²™å‘ä¸Šæ™’å¤ªé˜³ï¼Œæ¸©æš–çš„å…‰å½±"</span>

<span class="hljs-comment">// é«˜çº§æç¤ºè¯ - ä¸“ä¸šçº§æè¿°</span>
<span class="hljs-string">"A cute ginger cat lounging on a vintage velvet sofa, bathed in warm sunlight streaming through a window, photorealistic style, 4K resolution"</span>
</code></pre>
<p><strong>æç¤ºå·¥ç¨‹çš„æ ¸å¿ƒåŸåˆ™</strong>ï¼š</p>
<ol>
<li><strong>å…·ä½“æ€§</strong>ï¼šæ˜ç¡®ä¸»é¢˜ã€é£æ ¼ã€ç»†èŠ‚è¦æ±‚</li>
<li><strong>ä¸Šä¸‹æ–‡</strong>ï¼šæä¾›è¶³å¤Ÿçš„èƒŒæ™¯ä¿¡æ¯å¼•å¯¼AI</li>
<li><strong>çº¦æŸæ¡ä»¶</strong>ï¼šæŒ‡å®šå°ºå¯¸ã€æ•°é‡ã€æ ¼å¼ç­‰é™åˆ¶</li>
<li><strong>è¿­ä»£ä¼˜åŒ–</strong>ï¼šåŸºäºç»“æœä¸æ–­è°ƒæ•´æç¤ºè¯</li>
</ol>
<h3 data-id="heading-10">å››ã€å¼‚æ­¥ç¼–ç¨‹ï¼šç°ä»£JavaScriptçš„æ™ºæ…§</h3>
<h4 data-id="heading-11">1. ä»å›è°ƒåœ°ç‹±åˆ°async/await</h4>
<p><strong>æ¼”è¿›å†ç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. å›è°ƒåœ°ç‹± - éš¾ä»¥é˜…è¯»å’Œç»´æŠ¤</span>
client.<span class="hljs-property">images</span>.<span class="hljs-title function_">generate</span>(options, <span class="hljs-function">(<span class="hljs-params">error, response</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// å¤„ç†å“åº”</span>
        client.<span class="hljs-title function_">anotherCall</span>(response, <span class="hljs-function">(<span class="hljs-params">error2, response2</span>) =&gt;</span> {
            <span class="hljs-comment">// æ›´å¤šåµŒå¥—...</span>
        });
    }
});

<span class="hljs-comment">// 2. Promiseé“¾ - ç¨å¥½ä½†ä»å¤æ‚  </span>
client.<span class="hljs-property">images</span>.<span class="hljs-title function_">generate</span>(options)
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
        <span class="hljs-keyword">return</span> client.<span class="hljs-title function_">anotherCall</span>(response);
    })
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response2</span> =&gt;</span> {
        <span class="hljs-comment">// å¤„ç†ç»“æœ</span>
    })
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
    });

<span class="hljs-comment">// 3. async/await - åŒæ­¥å†™æ³•ï¼Œå¼‚æ­¥æ•ˆæœ</span>
<span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> client.<span class="hljs-property">images</span>.<span class="hljs-title function_">generate</span>(options);
    <span class="hljs-keyword">const</span> response2 = <span class="hljs-keyword">await</span> client.<span class="hljs-title function_">anotherCall</span>(response);
    <span class="hljs-comment">// ä»£ç æ¸…æ™°å¦‚åŒæ­¥</span>
} <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(error);
}
</code></pre>
<h4 data-id="heading-12">2. ç®­å¤´å‡½æ•°çš„ä¼˜åŠ¿</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä¼ ç»Ÿå‡½æ•° - thisæŒ‡å‘è°ƒç”¨è€…</span>
<span class="hljs-keyword">const</span> obj = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"test"</span>,
    <span class="hljs-attr">traditional</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"/>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);  <span class="hljs-comment">// è¾“å‡º"test"</span>
    }
};

<span class="hljs-comment">// ç®­å¤´å‡½æ•° - thisç»§æ‰¿è‡ªå¤–å±‚</span>
<span class="hljs-keyword">const</span> obj = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">"test"</span>, 
    <span class="hljs-attr">arrow</span>: <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);  <span class="hljs-comment">// è¾“å‡ºundefinedï¼ˆç»§æ‰¿å…¨å±€ï¼‰</span>
    }
};
</code></pre>
<h3 data-id="heading-13">äº”ã€å®Œæ•´å·¥ä½œæµç¨‹è§£æ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// 1. å‡†å¤‡é˜¶æ®µï¼šå¯¼å…¥å·¥å…·å’Œé…ç½®</span>
<span class="hljs-keyword">import</span> { config } <span class="hljs-keyword">from</span> <span class="hljs-string">'dotenv'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">OpenAI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"openai"</span>;

<span class="hljs-comment">// 2. åˆå§‹åŒ–é˜¶æ®µï¼šè¯»å–é…ç½®å¹¶å»ºç«‹è¿æ¥</span>
<span class="hljs-title function_">config</span>({ <span class="hljs-attr">path</span>: <span class="hljs-string">'.env'</span> });
<span class="hljs-keyword">const</span> client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OpenAI</span>({
    <span class="hljs-attr">apiKey</span>: process.<span class="hljs-property">env</span>.<span class="hljs-property">OpenAI_API_KEY</span>,
    <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.agicto.cn/v1'</span>
});

<span class="hljs-comment">// 3. æ‰§è¡Œé˜¶æ®µï¼šå®šä¹‰ä¸»é€»è¾‘</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">main</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 3.1 æ„é€ è¯·æ±‚ï¼šå‘Šè¯‰AIè¦ç”»ä»€ä¹ˆ</span>
        <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> client.<span class="hljs-property">images</span>.<span class="hljs-title function_">generate</span>({
            <span class="hljs-attr">model</span>: <span class="hljs-string">"dall-e-3"</span>,           <span class="hljs-comment">// é€‰æ‹©æ¨¡å‹å¼•æ“</span>
            <span class="hljs-attr">prompt</span>: <span class="hljs-string">"A spaceship flying through the universe"</span>,  <span class="hljs-comment">// æ ¸å¿ƒæŒ‡ä»¤</span>
            <span class="hljs-attr">n</span>: <span class="hljs-number">1</span>,                        <span class="hljs-comment">// ç”Ÿæˆæ•°é‡</span>
            <span class="hljs-attr">size</span>: <span class="hljs-string">"1024x1024"</span>            <span class="hljs-comment">// å›¾ç‰‡è§„æ ¼</span>
        });
        
        <span class="hljs-comment">// 3.2 å¤„ç†å“åº”ï¼šè·å–ç»“æœ</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"AIä½œå“ç½‘å€:"</span>, response.<span class="hljs-property">data</span>[<span class="hljs-number">0</span>].<span class="hljs-property">url</span>);
        
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-comment">// 4. é”™è¯¯å¤„ç†ï¼šä¼˜é›…åº”å¯¹å¼‚å¸¸</span>
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"ç”Ÿæˆå›¾ç‰‡å¤±è´¥:"</span>, error.<span class="hljs-property">message</span>);
    }
};

<span class="hljs-comment">// 5. å¯åŠ¨åº”ç”¨</span>
<span class="hljs-title function_">main</span>();
</code></pre>
<h3 data-id="heading-14">å…­ã€é¡¹ç›®æ‰©å±•æ€è·¯</h3>
<h4 data-id="heading-15">1. åŠŸèƒ½å¢å¼ºæ–¹å‘</h4>
<ul>
<li><strong>æ‰¹é‡ç”Ÿæˆ</strong>ï¼šè¯»å–æ–‡æœ¬æ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆå¤šå¼ å›¾ç‰‡</li>
<li><strong>é£æ ¼è½¬æ¢</strong>ï¼šé›†æˆä¸åŒè‰ºæœ¯é£æ ¼çš„æç¤ºè¯æ¨¡æ¿</li>
<li><strong>ç»“æœå¤„ç†</strong>ï¼šè‡ªåŠ¨ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ç›®å½•</li>
</ul>
<h4 data-id="heading-16">2. å·¥ç¨‹åŒ–æ”¹è¿›</h4>
<ul>
<li><strong>é…ç½®æ–‡ä»¶</strong>ï¼šå°†æ¨¡å‹å‚æ•°ã€å›¾ç‰‡å°ºå¯¸ç­‰æå–åˆ°é…ç½®æ–‡ä»¶ä¸­</li>
<li><strong>æ—¥å¿—ç³»ç»Ÿ</strong>ï¼šæ·»åŠ è¯¦ç»†çš„è¿è¡Œæ—¥å¿—è®°å½•</li>
<li><strong>é”™è¯¯é‡è¯•</strong>ï¼šç½‘ç»œå¼‚å¸¸æ—¶è‡ªåŠ¨é‡è¯•æœºåˆ¶</li>
</ul>
<h4 data-id="heading-17">3. ä¸šåŠ¡é›†æˆ</h4>
<ul>
<li><strong>Webæ¥å£</strong>ï¼šå°è£…æˆHTTP APIä¾›å‰ç«¯è°ƒç”¨</li>
<li><strong>å®šæ—¶ä»»åŠ¡</strong>ï¼šå®šæœŸè‡ªåŠ¨ç”Ÿæˆç‰¹å®šä¸»é¢˜çš„å›¾ç‰‡</li>
<li><strong>å†…å®¹ç®¡ç†</strong>ï¼šå°†ç”Ÿæˆçš„å›¾ç‰‡ä¿¡æ¯ä¿å­˜åˆ°æ•°æ®åº“</li>
</ul>
<p>è¿™ä¸ªé¡¹ç›®è™½ç„¶ä»£ç é‡ä¸å¤§ï¼Œä½†åŒ…å«äº†ç°ä»£JavaScriptå¼€å‘çš„æ ¸å¿ƒç†å¿µå’ŒæŠ€æœ¯æ ˆã€‚ç†è§£è¿™äº›åŸç†ï¼Œä½ å°±èƒ½å¿«é€Ÿæ‰©å±•åˆ°å…¶ä»–AIGCé¢†åŸŸï¼Œå¦‚æ–‡æœ¬ç”Ÿæˆã€è¯­éŸ³åˆæˆç­‰ï¼ŒçœŸæ­£æŒæ¡AIæ—¶ä»£çš„å¼€å‘æŠ€èƒ½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[godot-rustï¼ˆgdextï¼‰ä½ çš„ç¬¬ä¸€ä¸ª2Dæ¸¸æˆ - 5]]></title>    <link>https://juejin.cn/post/7600837236619870260</link>    <guid>https://juejin.cn/post/7600837236619870260</guid>    <pubDate>2026-01-30T07:21:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600837236619870260" data-draft-id="7600606150732693547" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="godot-rustï¼ˆgdextï¼‰ä½ çš„ç¬¬ä¸€ä¸ª2Dæ¸¸æˆ - 5"/> <meta itemprop="keywords" content="æ¸¸æˆ"/> <meta itemprop="datePublished" content="2026-01-30T07:21:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æŸšè¦åšç”šç "/> <meta itemprop="url" content="https://juejin.cn/user/2200546203156138"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            godot-rustï¼ˆgdextï¼‰ä½ çš„ç¬¬ä¸€ä¸ª2Dæ¸¸æˆ - 5
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2200546203156138/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æŸšè¦åšç”šç 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T07:21:04.000Z" title="Fri Jan 30 2026 07:21:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ç®€ä»‹</h2>
<p>æœ¬æ–‡ä»¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.godotengine.org%2Fzh-cn%2F4.5%2Fgetting_started%2Ffirst_2d_game%2Findex.html" target="_blank" title="https://docs.godotengine.org/zh-cn/4.5/getting_started/first_2d_game/index.html" ref="nofollow noopener noreferrer">ä½ çš„ç¬¬ä¸€ä¸ª 2D æ¸¸æˆ â€” Godot Engine (4.5) ç®€ä½“ä¸­æ–‡æ–‡æ¡£</a>ä¸ºè“æœ¬æ’°å†™ï¼Œgodot-rustæä¾›äº†è¯¥æ•™ç¨‹çš„ä¸€ä¸ªrustçš„å®ç°<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgodot-rust%2Fdemo-projects%2Ftree%2Fmaster%2Fdodge-the-creeps" target="_blank" title="https://github.com/godot-rust/demo-projects/tree/master/dodge-the-creeps" ref="nofollow noopener noreferrer">dodge-the-creeps</a>ï¼Œä¸æœ¬æ–‡æ–¹æ³•ä¼šç¨æœ‰ä¸åŒã€‚å¦‚æœä½ å¯¹rustã€godotç­‰å†…å®¹æ¯”è¾ƒç”Ÿç–æˆ–æ„Ÿåˆ°ç–‘æƒ‘ï¼Œå¯ä»¥å…ˆé˜…è¯»<a href="https://link.juejin.cn/?target=https%3A%2F%2Fcolinwttt.github.io%2Fgodot-rust-book-chinese%2Fintro%2Findex.html" title="https://link.juejin.cn/?target=https%3A%2F%2Fcolinwttt.github.io%2Fgodot-rust-book-chinese%2Fintro%2Findex.html" target="_blank">godot-rustå…¥é—¨æ–‡æ¡£</a>ã€‚</p>
<p>æœ¬æ–‡æ­å»ºåœ¨<a href="https://juejin.cn/post/7599566082212986932" target="_blank" title="https://juejin.cn/post/7599566082212986932">godot-rustï¼ˆgdextï¼‰åˆ›å»ºé¡¹ç›®</a>çš„åŸºç¡€ä¹‹ä¸Šï¼Œå¦‚æœä½ å¯¹è¯¥éƒ¨åˆ†å†…å®¹æ„Ÿåˆ°ç”Ÿç–ï¼Œå¯ä»¥å…ˆé˜…è¯»è¿™éƒ¨åˆ†å†…å®¹ï¼Œä¸ºæ¥ä¸‹æ¥çš„æ“ä½œåšå¥½å‡†å¤‡ã€‚</p>
<p><strong>æ³¨æ„ï¼Œæœ¬æ–‡ä½¿ç”¨çš„godotç‰ˆæœ¬ä¸º4.5.1ï¼Œgodotç‰ˆæœ¬çš„å˜åŒ–å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›å†…å®¹å¤±æ•ˆ</strong>ã€‚</p>
<p>æœ¬æ–‡æ“ä½œå‡åœ¨Windowsä¸Šæ‰§è¡Œã€‚</p>
<h2 data-id="heading-1">æ­£æ–‡</h2>
<h3 data-id="heading-2">åˆ›å»ºä¸»åœºæ™¯</h3>
<p>åœ¨rustä¸­åˆ›å»º<strong>ä¸»åœºæ™¯</strong>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> godot::prelude::*;

<span class="hljs-meta">#[derive(GodotClass)]</span>
<span class="hljs-meta">#[class(base=Node)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Main</span> {
    base: Base&lt;Node&gt;,
}
<span class="hljs-meta">#[godot_api]</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">INode</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">init</span>(base: Base&lt;Node&gt;) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        <span class="hljs-keyword">Self</span> { base }
    }
}
</code></pre>
<blockquote>
<p>æˆ‘ä»¬ä¹‹æ‰€ä»¥ä½¿ç”¨ Node è€Œä¸æ˜¯ Node2Dï¼Œæ˜¯å› ä¸ºè¿™ä¸ªèŠ‚ç‚¹ä¼šä½œä¸ºå¤„ç†æ¸¸æˆé€»è¾‘çš„å®¹å™¨ä½¿ç”¨ã€‚æœ¬èº«æ˜¯ä¸éœ€è¦ 2D åŠŸèƒ½çš„ã€‚</p>
</blockquote>
<p>ç¼–è¯‘rust</p>
<pre><code class="hljs">cargo build
</code></pre>
<p>å›åˆ°godotç¼–è¾‘å™¨ï¼Œå¦‚åŒä¹‹å‰ä¸€æ ·åˆ›å»ºæ–°åœºæ™¯ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e4ee8281d80749ffb3160235f0870e7f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770364413&amp;x-signature=dSlvFeSkTkjmmhyo9qMNyB34JRA%3D" alt="åˆ›å»ºMain" loading="lazy"/></p>
<p>ä¿å­˜mainåœºæ™¯ï¼Œè¿™æ—¶ä½ çš„<strong>æ–‡ä»¶ç³»ç»Ÿ</strong>çœ‹ä¸Šå»åº”è¯¥åƒè¿™æ ·ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cd9554e70494b209f732aa1ce28a553~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770364413&amp;x-signature=DY0T1QlV%2FfOy5hW87vUlaLU6BSM%3D" alt="ä¿å­˜mainåœºæ™¯" loading="lazy"/></p>
<p>åœ¨<code>Main</code>åœºæ™¯ä¸‹å®ä¾‹åŒ–ä½ çš„<code>Player</code>ä½¿å…¶æˆä¸ºä¸€ä¸ªå­èŠ‚ç‚¹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d386421535564ca29ffae349417487d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770364413&amp;x-signature=8ooJsij2gTNZYPnOJbcP%2BHljVKo%3D" alt="å®ä¾‹åŒ–åœºæ™¯" loading="lazy"/></p>
<p>ä¸º<code>Main</code>æ·»åŠ å­èŠ‚ç‚¹:</p>
<ul>
<li><code>Timer</code>æ›´åä¸º<code>MobTimer</code> â€”â€” æ§åˆ¶æ€ªç‰©äº§ç”Ÿçš„é¢‘ç‡</li>
<li><code>Timer</code>æ›´åä¸º<code>ScoreTimer</code> â€”â€” è®¡ç®—æ¸¸ç©ç§’æ•°ï¼Œå³åˆ†æ•°</li>
<li><code>Timer</code>æ›´åä¸º<code>StartTimer</code> â€”â€” åœ¨æ¸¸æˆå¼€å§‹ä¹‹å‰ç»™å‡ºå»¶è¿Ÿ</li>
<li><code>Marker2D</code>æ›´åä¸º<code>StartPosition</code> â€”â€” è¡¨ç¤ºç©å®¶çš„èµ·å§‹ä½ç½®</li>
</ul>
<p>åœ¨æ¯ä¸ª<code>Timer</code>èŠ‚ç‚¹çš„<strong>æ£€æŸ¥å™¨</strong>é¢æ¿ä¸­è®¾ç½®<code>WaitÂ Time</code>å±æ€§ï¼š</p>
<ul>
<li><code>MobTimer</code>ï¼š<code>0.5s</code></li>
<li><code>ScoreTimer</code>ï¼š<code>1s</code></li>
<li><code>StartTimer</code>ï¼š<code>2s</code></li>
</ul>
<p>æ³¨æ„ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰ä¸º<code>Main</code><strong>ç¼–ç»„</strong>ã€‚</p>
<p>åœ¨<code>StartTimer</code>çš„<strong>æ£€æŸ¥å™¨</strong>é¢æ¿ä¸­ï¼Œå¯ç”¨<code>OneÂ Shot</code>å±æ€§ï¼Œ<code>StartPosition</code>çš„<code>Position</code>å±æ€§è®¾ç½®ä¸º<code>x = 240, y = 450</code>ã€‚</p>
<h3 data-id="heading-3">ç”Ÿæˆæ€ªç‰©</h3>
<p>åœ¨ä¸»åœºæ™¯ä¸­æˆ‘ä»¬éœ€è¦å®ç°ç”Ÿæˆæ€ªç‰©çš„é€»è¾‘ï¼Œå®ƒæ˜¯ä»æ¸¸æˆå±å¹•è¾¹ç¼˜éšæœºä½ç½®ç”Ÿæˆï¼Œä¸º<code>Main</code>æ·»åŠ å­èŠ‚ç‚¹<code>Path2D</code>å¹¶å‘½åä¸º<code>MobPath</code>ï¼Œé€‰ä¸­<code>MobPath</code>ï¼Œåœ¨å·¥å…·æ ä½ åº”è¯¥ä¼šå‘ç°ä¸€äº›æ–°çš„æŒ‰é’®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88fa44670eb5495283d63513bedeca59~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770364413&amp;x-signature=SoBImVOYXZZ9pth%2BBK2Ig8T7mvI%3D" alt="å·¥å…·æ å˜åŒ–" loading="lazy"/></p>
<p>æ¨èå°†<strong>ä½¿ç”¨æ™ºèƒ½å¸é™„</strong>å’Œ<strong>ä½¿ç”¨æ …æ ¼å¸é™„</strong>è¿™ä¸¤ä¸ªåŠŸèƒ½æ‰“å¼€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae4a6d1fef854cbf9a3bc69a42914ada~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770364413&amp;x-signature=cJ%2FImZdkfmHEiESclCQ1zdgly0Y%3D" alt="ä½¿ç”¨å¸é™„" loading="lazy"/></p>
<p>ä½¿ç”¨æŒ‰ä½<code>ctrl + é¼ æ ‡å·¦é”®</code>æ–¹å¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œé¡ºæ—¶é’ˆæ–¹å¼ä¸ºä½ çš„æ¸¸æˆè¾¹æ¡†ç”Ÿæˆä¸€æ¡è·¯å¾„ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bc7a2f9cc77e4a65af8044b662c852a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770364413&amp;x-signature=NL3NniYmz%2FSJJMhLA96sIm1kXl8%3D" alt="draw_path2d.gif" loading="lazy"/></p>
<p>å®Œæˆåä½ åº”è¯¥èƒ½åœ¨ä½ çš„ç¼–è¾‘å™¨ä¸­çœ‹åˆ°å¦‚ä¸‹æ‰€ç¤ºå¸¦ç®­å¤´çš„ä¸€ä¸ªé—­åˆçŸ©å½¢ï¼Œå¤§å°å’Œä½ çš„æ¸¸æˆå±å¹•ä¸€è‡´ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0911f06e695a40afaa03c89974376407~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770364413&amp;x-signature=WIaMJqE0njdJvC76IbGBZADAtOQ%3D" alt="å¾®ä¿¡å›¾ç‰‡_20260130085358_66_27.jpg" loading="lazy"/></p>
<p><em>åŸæ–‡æåˆ°â€œä»¥é¡ºæ—¶é’ˆçš„é¡ºåºç»˜åˆ¶è·¯å¾„ï¼Œå¦åˆ™å°æ€ªä¼šå‘å¤–è€Œéå‘å†…ç”Ÿæˆï¼â€ï¼Œå¹¶éæŒ‡é¡ºæ—¶é’ˆè¿™ä¸ªæ–¹å‘æ˜¯ä»€ä¹ˆç‰¹åˆ«çº¦å®šæˆ–è€…å¯¹godotå¼•æ“æ¥è¯´æœ‰ä½•ç‰¹åˆ«ä¹‹å¤„ï¼Œæ˜¯ç”±äºå…¶ç”Ÿæˆæ€ªç‰©ç®—æ³•ä¾èµ–äº†ä¸Šå›¾ä¸­è·¯å¾„çš„ç®­å¤´æ–¹å‘</em></p>
<p>å†ä¸º<code>Path2D</code>å­èŠ‚ç‚¹æ·»åŠ å­èŠ‚ç‚¹<code>PathFollow2D</code>å¹¶å‘½åä¸º<code>MobSpawnLocation</code>ï¼Œæ­¤æ—¶ä½ çš„èŠ‚ç‚¹ç»“æ„çœ‹ä¸Šå»åº”è¯¥åƒè¿™æ ·ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/847fd161374b4db7aacb4396e7f83689~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770364413&amp;x-signature=siPiV2yG51J2AATQjJW%2FZxEzNJo%3D" alt="mainçš„èŠ‚ç‚¹ç»“æ„" loading="lazy"/></p>
<h3 data-id="heading-4">ç¼–å†™ä¸»åœºæ™¯ä»£ç </h3>
<p>åœ¨rustä¸­å‘<code>Main</code>æ·»åŠ ä¸¤ä¸ªå­—æ®µï¼Œå¹¶æ›´æ–°<code>init()</code>å‡½æ•°ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[derive(GodotClass)]</span>
<span class="hljs-meta">#[class(base=Node)]</span>
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-meta">#[export]</span>
    mob_scene: OnEditor&lt;Gd&lt;PackedScene&gt;&gt;,
    score: <span class="hljs-type">i64</span>,
    base: Base&lt;Node&gt;,
}
<span class="hljs-meta">#[godot_api]</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">INode</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">init</span>(base: Base&lt;Node&gt;) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-keyword">Self</span> {
        <span class="hljs-keyword">Self</span> {
            mob_scene: OnEditor::<span class="hljs-title function_ invoke__">default</span>(),
            score: <span class="hljs-number">0</span>,
            base,
        }
    }
}
</code></pre>
<p>ç¼–è¯‘rust</p>
<pre><code class="hljs">cargo build
</code></pre>
<p>å›åˆ°godotç¼–è¾‘å™¨ï¼Œåœ¨ç¼–è¾‘å™¨é‡Œç»™<code>mob_scene</code>èµ‹å€¼ï¼š</p>
<ul>
<li>å°†<code>mob.tscn</code>ä»<strong>æ–‡ä»¶ç³»ç»Ÿ</strong>é¢æ¿æ‹–æ”¾åˆ°<code>Mob Scene</code>å±æ€§é‡Œã€‚</li>
<li>å•å‡»<code>[ç©º]</code>æ—è¾¹çš„ä¸‹æ‹‰ç®­å¤´æŒ‰é’®ï¼Œé€‰æ‹©â€œåŠ è½½â€ã€‚é€‰æ‹©Â <code>mob.tscn</code></li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/388faf34c8c1430ab1fde1630e98ae00~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770364413&amp;x-signature=8BMZ%2FdVhTO2RbFHwsXb40pjQrYE%3D" alt="åˆå§‹åŒ–Mob" loading="lazy"/></p>
<p>æˆ‘ä»¬å…ˆåœ¨<code>Main</code>ä¸­æ·»åŠ ä¸€ä¸ª<code>game_over</code>æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[godot_api]</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Main</span> {
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">game_over</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) {
        <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">base</span>().get_node_as::&lt;Timer&gt;(<span class="hljs-string">"ScoreTimer"</span>).<span class="hljs-title function_ invoke__">stop</span>();
        <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">base</span>().get_node_as::&lt;Timer&gt;(<span class="hljs-string">"MobTimer"</span>).<span class="hljs-title function_ invoke__">stop</span>();
    }
}
</code></pre>
<p>å°†<code>Player</code>çš„<code>hit()</code>ä¿¡å·è¿æ¥åˆ°<code>game_over()</code>ï¼Œæ³¨æ„ï¼Œåœ¨è¿™ä¹‹å‰è¯·å°†<code>Player</code>å’Œ<code>Player</code>çš„<code>hit()</code>ä¿¡å·æ·»åŠ <code>pub</code>æ ‡è¯†ï¼Œè®©å…¶åœ¨rustä¸­å¤–éƒ¨å¯è§ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">Player</span>
......
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">Player</span> {
    <span class="hljs-meta">#[signal]</span>
    <span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">hit</span>();
    ......
}
</code></pre>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[godot_api]</span>
<span class="hljs-keyword">impl</span> <span class="hljs-title class_">INode</span> <span class="hljs-keyword">for</span> <span class="hljs-title class_">Main</span> {
    ......
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">ready</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) {
        <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">base</span>()
            .get_node_as::&lt;Player&gt;(<span class="hljs-string">"Player"</span>)
            .<span class="hljs-title function_ invoke__">signals</span>()
            .<span class="hljs-title function_ invoke__">hit</span>()
            .<span class="hljs-title function_ invoke__">connect_other</span>(<span class="hljs-keyword">self</span>, <span class="hljs-keyword">Self</span>::game_over);
    }
}
</code></pre>
<p>å¼€å§‹ä¸‹ä¸€æ­¥ä¹‹å‰æˆ‘ä»¬åœ¨<code>impl Main</code>æ¨¡å—ä¸­å‡†å¤‡ä¸€ä¸ª<code>new_game()</code>æ–¹æ³•ä»¥ä¾›å¤‡ç”¨ï¼Œåœ¨è¿™ä¹‹å‰è¯·å°†<code>player</code>çš„<code>start()</code>æ–¹æ³•æ ‡è®°ä¸º<code>pub</code>ï¼Œå°±åƒå‰é¢ä¸€æ­¥ä¸€æ ·ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">impl</span> <span class="hljs-title class_">Main</span> {
    ......
    <span class="hljs-keyword">fn</span> <span class="hljs-title function_">new_game</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) {
        <span class="hljs-keyword">self</span>.score = <span class="hljs-number">0</span>;

        <span class="hljs-comment">// è·å¾—æˆ‘ä»¬å®šä¹‰çš„åˆå§‹ä½ç½®ï¼Œå³(240.0, 450.0)</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">position</span> = <span class="hljs-keyword">self</span>
            .<span class="hljs-title function_ invoke__">base</span>()
            .get_node_as::&lt;Marker2D&gt;(<span class="hljs-string">"StartPosition"</span>)
            .<span class="hljs-title function_ invoke__">get_position</span>();

        <span class="hljs-comment">// å±•ç°godot-rusté€šè¿‡bindæœºåˆ¶ä»GDå¯¹è±¡è°ƒç”¨Playerå®šä¹‰çš„æ–¹æ³•</span>
        <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">mob</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">base</span>().get_node_as::&lt;Player&gt;(<span class="hljs-string">"Player"</span>);
        {
            <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">player</span> = mob.<span class="hljs-title function_ invoke__">bind_mut</span>(); <span class="hljs-comment">// åœ¨åŒºåŸŸå†…ç»‘å®šï¼Œå¹¶åœ¨åŒºåŸŸå†…é‡Šæ”¾</span>
            player.<span class="hljs-title function_ invoke__">start</span>(position);
        }

        <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">base</span>().get_node_as::&lt;Timer&gt;(<span class="hljs-string">"StartTimer"</span>).<span class="hljs-title function_ invoke__">start</span>();
    }
}
</code></pre>
<p>ç°åœ¨å¤„ç†ä¸‰ä¸ªè®¡æ—¶å™¨<code>Timer</code>ï¼Œåœ¨<code>impl Main</code>æ¨¡å—ä¸­æ·»åŠ ä¸‰ä¸ª<code>handle()</code>ï¼Œåœ¨æ­¤ä¹‹å‰ä½ éœ€è¦å°†ä½ çš„<code>Mob</code>æ ‡è®°ä¸º<code>pub</code>è®©å…¶åœ¨rustå†…å¤–éƒ¨å¯è§ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">on_score_timer_timeout</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) {
    <span class="hljs-keyword">self</span>.score += <span class="hljs-number">1</span>; <span class="hljs-comment">// æ¯æ¬¡ScoreTimeræŒ‰ç…§è®¾ç½®çš„ç­‰å¾…æ—¶é—´è·³ä¸€æ¬¡ï¼ŒåŠ ä¸€åˆ†</span>
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">on_start_timer_timeout</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) {
    <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">base</span>().get_node_as::&lt;Timer&gt;(<span class="hljs-string">"MobTimer"</span>).<span class="hljs-title function_ invoke__">start</span>(); <span class="hljs-comment">// MobTimerå¼€å§‹è®¡æ—¶</span>
    <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">base</span>().get_node_as::&lt;Timer&gt;(<span class="hljs-string">"ScoreTimer"</span>).<span class="hljs-title function_ invoke__">start</span>(); <span class="hljs-comment">// ScoreTimerå¼€å§‹è®¡æ—¶</span>
}

<span class="hljs-keyword">fn</span> <span class="hljs-title function_">on_mob_timer_timeout</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">rng</span> = rand::<span class="hljs-title function_ invoke__">rng</span>();

    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">mob</span> = <span class="hljs-keyword">self</span>.mob_scene.instantiate_as::&lt;Mob&gt;(); <span class="hljs-comment">// ç”Ÿæˆä¸€ä¸ªMobå®ä¾‹</span>

    <span class="hljs-comment">// åœ¨è¾¹æ¡†è·¯å¾„ä¸Šéšæœºè·å¾—ä¸€ä¸ªç‚¹</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">mob_spawn_location</span> = <span class="hljs-keyword">self</span>
        .<span class="hljs-title function_ invoke__">base</span>()
        .get_node_as::&lt;PathFollow2D&gt;(<span class="hljs-string">"MobPath/MobSpawnLocation"</span>);
    mob_spawn_location.<span class="hljs-title function_ invoke__">set_progress_ratio</span>(rng.<span class="hljs-title function_ invoke__">random_range</span>(<span class="hljs-number">0.0</span>..=<span class="hljs-number">1.0</span>));

    <span class="hljs-comment">// å°†Mobå®ä¾‹æ”¾åˆ°éšæœºç‚¹ä¸Š</span>
    mob.<span class="hljs-title function_ invoke__">set_position</span>(mob_spawn_location.<span class="hljs-title function_ invoke__">get_position</span>());

    <span class="hljs-comment">// æ ¹æ®éšæœºç‚¹çš„æ–¹å‘é¡ºæ—¶é’ˆæ­£äº¤å‡ºå‘æ¸¸æˆå±å¹•å†…çš„æ–¹å‘ï¼Œå¹¶ä½¿è¿™ä¸ªæ–¹å‘åœ¨æ­£è´ŸPI/4èŒƒå›´éšæœºåŒ–</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword">mut </span><span class="hljs-variable">direction</span> = mob_spawn_location.<span class="hljs-title function_ invoke__">get_rotation</span>() + PI <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span> / <span class="hljs-number">2.0</span>;
    direction += rng.<span class="hljs-title function_ invoke__">random_range</span>((-PI / <span class="hljs-number">4.0</span>)..=(PI / <span class="hljs-number">4.0</span>)) <span class="hljs-keyword">as</span> <span class="hljs-type">f32</span>;

    <span class="hljs-comment">// å°†éšæœºåŒ–çš„æ–¹å‘æ”¾ç½®å…¥mobå®ä¾‹</span>
    mob.<span class="hljs-title function_ invoke__">set_rotation</span>(direction);

    <span class="hljs-comment">// éšæœºä¸€ä¸ªé€Ÿåº¦ï¼Œä½¿é€Ÿåº¦å’Œmobçš„æœå‘ä¸€è‡´ï¼Œå¹¶å°†è¿™ä¸ªé€Ÿåº¦è®¾ç½®ä¸ºmobçš„çº¿æ€§é€Ÿåº¦</span>
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">velocity</span> = Vector2::<span class="hljs-title function_ invoke__">new</span>(rng.<span class="hljs-title function_ invoke__">random_range</span>(<span class="hljs-number">150.0</span>..=<span class="hljs-number">250.0</span>), <span class="hljs-number">0.0</span>);
    mob.<span class="hljs-title function_ invoke__">set_linear_velocity</span>(velocity.<span class="hljs-title function_ invoke__">rotated</span>(direction));

    <span class="hljs-comment">// å‘åœºæ™¯åŠ å…¥è¿™ä¸ªmobå®ä¾‹</span>
    <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">base_mut</span>().<span class="hljs-title function_ invoke__">add_child</span>(&amp;mob);
}

</code></pre>
<p><em>åŸæ–‡ä¸­çš„<code>randf()</code>ã€<code>randf_range()</code>è¾…åŠ©å‡½æ•°å…¶å®åœ¨<code>godot-rust 4.5</code>å·²ç»æœ‰äº†ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸¤ä¸ªå‡½æ•°æ¥è¾…åŠ©ä½ ç”Ÿæˆéšæœºæ•°</em></p>
<p>åœ¨<code>ready()</code>ä¸­å°†<code>Timer</code>çš„<strong>ä¿¡å·</strong>è¿æ¥åˆ°ä¸Šè¿°<code>handle</code>:</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">ready</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) {
    ......
    <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">base</span>()
        .get_node_as::&lt;Timer&gt;(<span class="hljs-string">"MobTimer"</span>)
        .<span class="hljs-title function_ invoke__">signals</span>()
        .<span class="hljs-title function_ invoke__">timeout</span>()
        .<span class="hljs-title function_ invoke__">connect_other</span>(<span class="hljs-keyword">self</span>, <span class="hljs-keyword">Self</span>::on_mob_timer_timeout);

    <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">base</span>()
        .get_node_as::&lt;Timer&gt;(<span class="hljs-string">"ScoreTimer"</span>)
        .<span class="hljs-title function_ invoke__">signals</span>()
        .<span class="hljs-title function_ invoke__">timeout</span>()
        .<span class="hljs-title function_ invoke__">connect_other</span>(<span class="hljs-keyword">self</span>, <span class="hljs-keyword">Self</span>::on_score_timer_timeout);

    <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">base</span>()
        .get_node_as::&lt;Timer&gt;(<span class="hljs-string">"StartTimer"</span>)
        .<span class="hljs-title function_ invoke__">signals</span>()
        .<span class="hljs-title function_ invoke__">timeout</span>()
        .<span class="hljs-title function_ invoke__">connect_other</span>(<span class="hljs-keyword">self</span>, <span class="hljs-keyword">Self</span>::on_start_timer_timeout);
}
</code></pre>
<h3 data-id="heading-5">æµ‹è¯•ä¸»åœºæ™¯</h3>
<p>åœ¨<code>ready()</code>æœ€åæ·»åŠ ä»£ç ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">fn</span> <span class="hljs-title function_">ready</span>(&amp;<span class="hljs-keyword">mut</span> <span class="hljs-keyword">self</span>) {
    <span class="hljs-keyword">self</span>.<span class="hljs-title function_ invoke__">new_game</span>();
}
</code></pre>
<p>å°†<code>main.tscn</code>è®¾ç½®ä¸º<strong>ä¸»åœºæ™¯</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bda9738abaa04002be250e98553d6f24~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p-a6KaB5YGa55Sa56CB:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770364413&amp;x-signature=KAr3jpO2PGQPIpNYyp15AYSRezw%3D" alt="mainä¸ºä¸»åœºæ™¯" loading="lazy"/></p>
<p>å¦‚æœæ²¡æœ‰è¿™ä¸ªé€‰é¡¹ï¼Œè¯´æ˜<code>main</code>å·²ç»ä¸ºä¸»åœºæ™¯ã€‚</p>
<p>å›å¿†ä¸€ä¸‹ï¼Œæˆ‘ä»¬åœ¨<code>StartTimer</code>è®¡æ—¶ç»“æŸï¼Œä¹Ÿå°±æ˜¯<code>2s</code>åæ‰å¯åŠ¨çš„<code>MobTimer</code>ï¼Œä»¥<code>0.5s</code>é€Ÿç‡ç”Ÿæˆä¸€ä¸ª<code>Mob</code>ï¼Œå› æ­¤æµ‹è¯•åˆšå¼€å§‹æ—¶éœ€è¦è€å¿ƒç¨ç­‰ç¬¬ä¸€ä¸ªçš„æ•Œäººæ‰ä¼šå‡ºç°ã€‚</p>
<p>å½“ç¡®è®¤åœºæ™¯æ²¡æœ‰é—®é¢˜ï¼Œå°†<code>self.new_game()</code>ä»<code>ready()</code>ä¸­<strong>åˆ é™¤</strong>ï¼Œå› ä¸ºæˆ‘ä»¬è¦åœ¨å…¶ä»–åœ°æ–¹å¼€å§‹æ–°æ¸¸æˆã€‚</p>
<h2 data-id="heading-6">å‚è€ƒ</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.godotengine.org%2Fzh-cn%2F4.5%2Fgetting_started%2Ffirst_2d_game%2Findex.html" target="_blank" title="https://docs.godotengine.org/zh-cn/4.5/getting_started/first_2d_game/index.html" ref="nofollow noopener noreferrer">ä½ çš„ç¬¬ä¸€ä¸ª 2D æ¸¸æˆ â€” Godot Engine (4.5) ç®€ä½“ä¸­æ–‡æ–‡æ¡£</a></li>
<li><a href="https://juejin.cn/post/7599566082212986932" target="_blank" title="https://juejin.cn/post/7599566082212986932">godot-rustï¼ˆgdextï¼‰åˆ›å»ºé¡¹ç›® - æ˜é‡‘</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.rs%2Fgodot%2F0.4.5%2Fgodot%2F" target="_blank" title="https://docs.rs/godot/0.4.5/godot/" ref="nofollow noopener noreferrer">godot - Rust</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgodot-rust%2Fdemo-projects%2Ftree%2Fmaster%2Fdodge-the-creeps" target="_blank" title="https://github.com/godot-rust/demo-projects/tree/master/dodge-the-creeps" ref="nofollow noopener noreferrer">demo-projects/dodge-the-creeps at master Â· godot-rust/demo-projects Â· GitHub</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring Boot + JPackageï¼šæ„å»ºç‹¬ç«‹å®‰è£…åŒ…]]></title>    <link>https://juejin.cn/post/7600284420633952297</link>    <guid>https://juejin.cn/post/7600284420633952297</guid>    <pubDate>2026-01-28T23:58:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600284420633952297" data-draft-id="7600296037542428672" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" Spring Boot + JPackageï¼šæ„å»ºç‹¬ç«‹å®‰è£…åŒ…"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-28T23:58:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é£è±¡å—"/> <meta itemprop="url" content="https://juejin.cn/user/2524134428655159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             Spring Boot + JPackageï¼šæ„å»ºç‹¬ç«‹å®‰è£…åŒ…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2524134428655159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é£è±¡å—
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-28T23:58:11.000Z" title="Wed Jan 28 2026 23:58:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-28
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    46
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>ä» JDK 14 å¼€å§‹ï¼ŒJava å®˜æ–¹å¼•å…¥äº† <strong>JPackage</strong> å·¥å…·ï¼ˆåœ¨ JDK 16 æ­£å¼æˆä¸ºæ ‡å‡†åŠŸèƒ½ï¼‰ï¼Œå®ƒèƒ½å¤Ÿå°† Java åº”ç”¨æ‰“åŒ…æˆç‰¹å®šå¹³å°çš„åŸç”Ÿå®‰è£…åŒ…ï¼Œ<strong>è‡ªå¸¦å®šåˆ¶åŒ–çš„ JRE è¿è¡Œç¯å¢ƒ</strong>ã€‚è¿™æ„å‘³ç€ç”¨æˆ·æ— éœ€æå‰å®‰è£… Java ç¯å¢ƒï¼ŒåŒå‡»å®‰è£…åŒ…å³å¯å®Œæˆåº”ç”¨éƒ¨ç½²ï¼Œæå¤§åœ°ç®€åŒ–äº†äº¤ä»˜æµç¨‹ã€‚</p>
<p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ JPackage å·¥å…·å°† Spring Boot é¡¹ç›®æ‰“åŒ…æˆ Windowsã€macOS æˆ– Linux å¹³å°çš„åŸç”Ÿå®‰è£…åŒ…ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€JPackage ç®€ä»‹</h2>
<h4 data-id="heading-2">1.1 ä»€ä¹ˆæ˜¯ JPackage</h4>
<p>JPackage æ˜¯ JDK è‡ªå¸¦çš„æ‰“åŒ…å·¥å…·ï¼Œä½äº <code>$JAVA_HOME/bin</code> ç›®å½•ä¸‹ã€‚å®ƒçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯ï¼š</p>
<p><strong>ç”Ÿæˆå¹³å°åŸç”Ÿå®‰è£…åŒ…</strong>ï¼šWindows çš„ <code>.exe</code>/<code>.msi</code>ã€macOS çš„ <code>.dmg</code>/<code>.pkg</code>ã€Linux çš„ <code>.deb</code>/<code>.rpm</code></p>
<p><strong>è‡ªå®šä¹‰ JRE</strong>ï¼šä½¿ç”¨ <code>jlink</code> å·¥å…·è£å‰ª JDKï¼Œä»…æ‰“åŒ…åº”ç”¨æ‰€éœ€çš„æ¨¡å—ï¼Œå¤§å¹…å‡å°å®‰è£…åŒ…ä½“ç§¯</p>
<p><strong>ç®€åŒ–éƒ¨ç½²</strong>ï¼šç”¨æˆ·æ— éœ€é¢„è£… Java ç¯å¢ƒï¼Œå®‰è£…åŒ…è‡ªå¸¦è¿è¡Œæ—¶</p>
<h4 data-id="heading-3">1.2 JPackage çš„ä¼˜åŠ¿</h4>

























<table><thead><tr><th>ä¼ ç»Ÿéƒ¨ç½²æ–¹å¼</th><th>JPackage æ–¹å¼</th></tr></thead><tbody><tr><td>éœ€è¦é¢„è£… JRE/JDK</td><td>è‡ªå¸¦ JREï¼Œæ— éœ€é¢å¤–å®‰è£…</td></tr><tr><td>ç¯å¢ƒç‰ˆæœ¬å¯èƒ½ä¸åŒ¹é…</td><td>ç»‘å®šç‰¹å®š JRE ç‰ˆæœ¬ï¼Œç¯å¢ƒä¸€è‡´</td></tr><tr><td>æ‰‹åŠ¨ç¼–å†™å¯åŠ¨è„šæœ¬</td><td>è‡ªåŠ¨ç”Ÿæˆå¯åŠ¨å™¨</td></tr><tr><td>è·¨å¹³å°éœ€è¦å¤šå¥—è„šæœ¬</td><td>ä¸€é”®ç”Ÿæˆå„å¹³å°å®‰è£…åŒ…</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-4">äºŒã€ç¯å¢ƒå‡†å¤‡</h2>
<h4 data-id="heading-5">2.1 JDK ç‰ˆæœ¬è¦æ±‚</h4>
<p><strong>æ¨èä½¿ç”¨ JDK 17 æˆ–æ›´é«˜ç‰ˆæœ¬</strong>ï¼ˆJPackage åœ¨ JDK 16 æ‰æˆä¸ºæ ‡å‡†åŠŸèƒ½ï¼ŒJDK 17 æ˜¯ LTS ç‰ˆæœ¬ï¼‰</p>
<p>ç¡®è®¤ JPackage å¯ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">jpackage --version
</code></pre>
<h4 data-id="heading-6">2.2 å¹³å°ç‰¹å®šå·¥å…·</h4>
<p>æ ¹æ®ç›®æ ‡æ“ä½œç³»ç»Ÿï¼Œéœ€è¦å®‰è£…å¯¹åº”çš„æ‰“åŒ…å·¥å…·ï¼š</p>
<h5 data-id="heading-7">Windows</h5>
<p><strong>WiX Toolset 3.11+</strong>ï¼ˆç”¨äºç”Ÿæˆ <code>.msi</code> å®‰è£…åŒ…ï¼‰<br/>
ä¸‹è½½åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwixtoolset.org%2F" target="_blank" title="https://wixtoolset.org/" ref="nofollow noopener noreferrer">wixtoolset.org/</a><br/>
å®‰è£…åå°† <code>bin</code> ç›®å½•æ·»åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ <code>PATH</code></p>
<h5 data-id="heading-8">macOS</h5>
<p>Xcode å‘½ä»¤è¡Œå·¥å…·ï¼ˆç”¨äºç”Ÿæˆ <code>.dmg</code>/<code>.pkg</code>ï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">xcode-select --install
</code></pre>
<h5 data-id="heading-9">Linux</h5>
<p><strong>Debian/Ubuntu</strong>ï¼šå®‰è£… <code>fakeroot</code></p>
<pre><code class="hljs language-bash" lang="bash">sudo apt-get install fakeroot
</code></pre>
<p><strong>RedHat/CentOS</strong>ï¼šå®‰è£… <code>rpm-build</code></p>
<pre><code class="hljs language-bash" lang="bash">sudo yum install rpm-build
</code></pre>
<h2 data-id="heading-10">ä¸‰ã€Spring Boot é¡¹ç›®å‡†å¤‡</h2>
<h4 data-id="heading-11">3.1 ç¤ºä¾‹é¡¹ç›®ç»“æ„</h4>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ ‡å‡†çš„ Spring Boot é¡¹ç›®ï¼š</p>
<pre><code class="hljs language-css" lang="css">my-springboot-app/
â”œâ”€â”€ <span class="hljs-attribute">src</span>/
â”‚   â””â”€â”€ <span class="hljs-selector-tag">main</span>/
â”‚       â”œâ”€â”€ java/
â”‚       â””â”€â”€ resources/
â”œâ”€â”€ pom<span class="hljs-selector-class">.xml</span>
â””â”€â”€ target/
    â””â”€â”€ my-app-<span class="hljs-number">1.0</span>.<span class="hljs-number">0</span><span class="hljs-selector-class">.jar</span>
</code></pre>
<h4 data-id="heading-12">3.2 æ„å»ºå¯æ‰§è¡Œ JAR</h4>
<p>é¦–å…ˆä½¿ç”¨ Maven æˆ– Gradle æ„å»ºé¡¹ç›®ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Maven</span>
mvn clean package

<span class="hljs-comment"># Gradle</span>
gradle clean build
</code></pre>
<p>ç¡®ä¿ç”Ÿæˆçš„ JAR åŒ…æ˜¯å¯æ‰§è¡Œçš„ï¼ˆSpring Boot é»˜è®¤æ‰“åŒ…æ–¹å¼ï¼‰ã€‚</p>
<h2 data-id="heading-13">å››ã€ä½¿ç”¨ JPackage æ‰“åŒ…</h2>
<h4 data-id="heading-14">4.1 åŸºç¡€æ‰“åŒ…å‘½ä»¤</h4>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºç¡€çš„ JPackage å‘½ä»¤ç¤ºä¾‹ï¼ˆä»¥ Windows ä¸ºä¾‹ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">jpackage \
  --input target \
  --name MySpringBootApp \
  --main-jar my-app-1.0.0.jar \
  --main-class org.springframework.boot.loader.JarLauncher \
  --<span class="hljs-built_in">type</span> msi \
  --app-version 1.0.0 \
  --vendor <span class="hljs-string">"æˆ‘çš„å…¬å¸"</span> \
  --description <span class="hljs-string">"åŸºäº Spring Boot çš„ä¼ä¸šçº§åº”ç”¨"</span> \
  --icon src/main/resources/app-icon.ico \
  --win-dir-chooser \
  --win-menu \
  --win-shortcut
</code></pre>
<h5 data-id="heading-15">å‚æ•°è¯´æ˜</h5>

















































<table><thead><tr><th>å‚æ•°</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>--input</code></td><td>è¾“å…¥ç›®å½•ï¼ŒåŒ…å« JAR åŒ…å’Œä¾èµ–</td></tr><tr><td><code>--name</code></td><td>åº”ç”¨åç§°</td></tr><tr><td><code>--main-jar</code></td><td>ä¸» JAR åŒ…æ–‡ä»¶å</td></tr><tr><td><code>--main-class</code></td><td>ä¸»ç±»ï¼ˆSpring Boot ä½¿ç”¨ <code>JarLauncher</code>ï¼‰</td></tr><tr><td><code>--type</code></td><td>å®‰è£…åŒ…ç±»å‹ï¼ˆ<code>msi</code>/<code>exe</code>/<code>dmg</code>/<code>pkg</code>/<code>deb</code>/<code>rpm</code>ï¼‰</td></tr><tr><td><code>--app-version</code></td><td>åº”ç”¨ç‰ˆæœ¬å·</td></tr><tr><td><code>--icon</code></td><td>åº”ç”¨å›¾æ ‡ï¼ˆWindows ç”¨ <code>.ico</code>ï¼ŒmacOS ç”¨ <code>.icns</code>ï¼‰</td></tr><tr><td><code>--win-dir-chooser</code></td><td>å…è®¸ç”¨æˆ·é€‰æ‹©å®‰è£…ç›®å½•</td></tr><tr><td><code>--win-menu</code></td><td>åˆ›å»ºå¼€å§‹èœå•é¡¹</td></tr><tr><td><code>--win-shortcut</code></td><td>åˆ›å»ºæ¡Œé¢å¿«æ·æ–¹å¼</td></tr></tbody></table>
<h4 data-id="heading-16">4.2 è‡ªå®šä¹‰ JREï¼ˆä½¿ç”¨ jlinkï¼‰</h4>
<p>ä¸ºäº†å‡å°å®‰è£…åŒ…ä½“ç§¯ï¼Œå¯ä»¥ä½¿ç”¨ <code>jlink</code> è£å‰ª JREï¼Œä»…åŒ…å«å¿…è¦çš„æ¨¡å—ã€‚</p>
<h5 data-id="heading-17">æ­¥éª¤ 1ï¼šæŸ¥æ‰¾åº”ç”¨ä¾èµ–çš„æ¨¡å—</h5>
<pre><code class="hljs language-bash" lang="bash">jdeps --list-deps target/my-app-1.0.0.jar
</code></pre>
<p>è¾“å‡ºç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">java.<span class="hljs-keyword">base</span>
java.logging
java.sql
java.naming
java.desktop
...
</code></pre>
<h5 data-id="heading-18">æ­¥éª¤ 2ï¼šä½¿ç”¨ jlink åˆ›å»ºè‡ªå®šä¹‰ JRE</h5>
<pre><code class="hljs language-bash" lang="bash">jlink \
  --add-modules java.base,java.logging,java.sql,java.naming,java.desktop,java.xml,java.management \
  --output custom-jre \
  --strip-debug \
  --no-header-files \
  --no-man-pages \
  --compress=2
</code></pre>
<h5 data-id="heading-19">æ­¥éª¤ 3ï¼šä½¿ç”¨è‡ªå®šä¹‰ JRE æ‰“åŒ…</h5>
<pre><code class="hljs language-bash" lang="bash">jpackage \
  --input target \
  --name MySpringBootApp \
  --main-jar my-app-1.0.0.jar \
  --main-class org.springframework.boot.loader.JarLauncher \
  --<span class="hljs-built_in">type</span> msi \
  --runtime-image custom-jre \
  --app-version 1.0.0 \
  --vendor <span class="hljs-string">"æˆ‘çš„å…¬å¸"</span>
</code></pre>
<blockquote>
<p><strong>æ³¨æ„</strong>ï¼šSpring Boot åº”ç”¨é€šå¸¸ä¾èµ–è¾ƒå¤šæ¨¡å—ï¼Œå»ºè®®å…ˆä¸è£å‰ª JREï¼Œç¡®ä¿åŠŸèƒ½æ­£å¸¸åå†ä¼˜åŒ–ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-20">äº”ã€ä¸åŒå¹³å°çš„æ‰“åŒ…ç¤ºä¾‹</h2>
<h4 data-id="heading-21">5.1 Windows å¹³å°ï¼ˆMSIï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">jpackage \
  --input target \
  --name MyApp \
  --main-jar my-app-1.0.0.jar \
  --main-class org.springframework.boot.loader.JarLauncher \
  --<span class="hljs-built_in">type</span> msi \
  --app-version 1.0.0 \
  --icon src/main/resources/app.ico \
  --win-dir-chooser \
  --win-menu \
  --win-shortcut \
  --win-menu-group <span class="hljs-string">"æˆ‘çš„åº”ç”¨"</span>
</code></pre>
<h4 data-id="heading-22">5.2 macOS å¹³å°ï¼ˆDMGï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">jpackage \
  --input target \
  --name MyApp \
  --main-jar my-app-1.0.0.jar \
  --main-class org.springframework.boot.loader.JarLauncher \
  --<span class="hljs-built_in">type</span> dmg \
  --app-version 1.0.0 \
  --icon src/main/resources/app.icns \
  --mac-package-name <span class="hljs-string">"com.mycompany.myapp"</span> \
  --mac-package-identifier <span class="hljs-string">"com.mycompany.myapp"</span>
</code></pre>
<h4 data-id="heading-23">5.3 Linux å¹³å°ï¼ˆDEBï¼‰</h4>
<pre><code class="hljs language-bash" lang="bash">jpackage \
  --input target \
  --name myapp \
  --main-jar my-app-1.0.0.jar \
  --main-class org.springframework.boot.loader.JarLauncher \
  --<span class="hljs-built_in">type</span> deb \
  --app-version 1.0.0 \
  --icon src/main/resources/app.png \
  --linux-shortcut \
  --linux-menu-group <span class="hljs-string">"Development"</span>
</code></pre>
<hr/>
<h2 data-id="heading-24">å…­ã€é›†æˆåˆ° Maven æ„å»ºæµç¨‹</h2>
<p>ä¸ºäº†è‡ªåŠ¨åŒ–æ‰“åŒ…æµç¨‹ï¼Œå¯ä»¥å°† JPackage å‘½ä»¤é›†æˆåˆ° Maven çš„ <code>pom.xml</code> ä¸­ã€‚</p>
<h4 data-id="heading-25">6.1 ä½¿ç”¨ exec-maven-plugin</h4>
<p>åœ¨ <code>pom.xml</code> ä¸­æ·»åŠ ä»¥ä¸‹æ’ä»¶é…ç½®ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">build</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- Spring Boot Maven æ’ä»¶ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- JPackage æ‰“åŒ…æ’ä»¶ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.codehaus.mojo<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>exec-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">executions</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">execution</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>jpackage<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">phase</span>&gt;</span>package<span class="hljs-tag">&lt;/<span class="hljs-name">phase</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">goals</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">goal</span>&gt;</span>exec<span class="hljs-tag">&lt;/<span class="hljs-name">goal</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">goals</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">executable</span>&gt;</span>jpackage<span class="hljs-tag">&lt;/<span class="hljs-name">executable</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">arguments</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>--input<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>target<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>--name<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>MySpringBootApp<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>--main-jar<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>${project.build.finalName}.jar<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>--main-class<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>org.springframework.boot.loader.JarLauncher<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>--type<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>msi<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>--app-version<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>${project.version}<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>--vendor<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>æˆ‘çš„å…¬å¸<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>--win-dir-chooser<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>--win-menu<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-name">argument</span>&gt;</span>--win-shortcut<span class="hljs-tag">&lt;/<span class="hljs-name">argument</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">arguments</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">execution</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">executions</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">build</span>&gt;</span>
</code></pre>
<h4 data-id="heading-26">6.2 æ‰§è¡Œæ„å»º</h4>
<pre><code class="hljs language-bash" lang="bash">mvn clean package
</code></pre>
<p>æ„å»ºå®Œæˆåï¼Œå®‰è£…åŒ…å°†ç”Ÿæˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ã€‚</p>
<h2 data-id="heading-27">ä¸ƒã€æ€»ç»“</h2>
<p>JPackage å·¥å…·ä¸º Java åº”ç”¨çš„åˆ†å‘æä¾›äº†å¼ºå¤§çš„æ”¯æŒï¼Œä»ç®€å•çš„å‘½ä»¤è¡Œæ“ä½œåˆ°é›†æˆåˆ°è‡ªåŠ¨åŒ–æ„å»ºæµç¨‹ï¼ŒJPackage éƒ½èƒ½å¾ˆå¥½åœ°æ»¡è¶³éœ€æ±‚ã€‚</p>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®æ ¹æ®åº”ç”¨ç‰¹ç‚¹é€‰æ‹©åˆé€‚çš„æ‰“åŒ…ç­–ç•¥ï¼Œå¹³è¡¡å®‰è£…åŒ…ä½“ç§¯ã€éƒ¨ç½²ä¾¿åˆ©æ€§å’Œè¿è¡Œæ€§èƒ½ï¼Œä¸ºç”¨æˆ·æä¾›æœ€ä½³çš„ä½¿ç”¨ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java SPIæœºåˆ¶ï¼šä»åŸç†åˆ°å®æˆ˜]]></title>    <link>https://juejin.cn/post/7600316828485009423</link>    <guid>https://juejin.cn/post/7600316828485009423</guid>    <pubDate>2026-01-29T01:15:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600316828485009423" data-draft-id="7600265780349321256" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java SPIæœºåˆ¶ï¼šä»åŸç†åˆ°å®æˆ˜"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-29T01:15:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é›¨ä¸­é£˜è¡çš„è®°å¿†"/> <meta itemprop="url" content="https://juejin.cn/user/694547077666606"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java SPIæœºåˆ¶ï¼šä»åŸç†åˆ°å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/694547077666606/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é›¨ä¸­é£˜è¡çš„è®°å¿†
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-29T01:15:53.000Z" title="Thu Jan 29 2026 01:15:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Java SPIæœºåˆ¶ï¼šä»åŸç†åˆ°å®æˆ˜</h2>
<h2 data-id="heading-1">ä¸€ã€ä»€ä¹ˆæ˜¯SPIæœºåˆ¶</h2>
<p>SPIï¼ˆService Provider Interfaceï¼‰ï¼ŒæœåŠ¡æä¾›è€…æ¥å£ï¼Œæ˜¯Javaæä¾›çš„ä¸€ç§æœåŠ¡å‘ç°æœºåˆ¶ã€‚å®ƒå…è®¸ç¬¬ä¸‰æ–¹æœåŠ¡æä¾›å•†ä¸ºæ ¸å¿ƒåº“æˆ–æ¥å£æä¾›å®ç°ï¼Œè€Œä¸éœ€è¦ä¿®æ”¹æ ¸å¿ƒä»£ç ã€‚</p>
<h3 data-id="heading-2">1.1 ä¸ºä»€ä¹ˆéœ€è¦SPIï¼Ÿ</h3>
<p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸é‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼šå®šä¹‰äº†ä¸€ä¸ªæ¥å£ï¼Œä½†å…·ä½“å®ç°ç”±ä¸åŒå‚å•†æˆ–ä¸åŒåœºæ™¯æä¾›ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li><strong>JDBCé©±åŠ¨</strong>ï¼šä¸åŒæ•°æ®åº“ï¼ˆMySQLã€Oracleã€PostgreSQLï¼‰æä¾›ä¸åŒçš„é©±åŠ¨å®ç°</li>
<li><strong>æ—¥å¿—æ¡†æ¶</strong>ï¼šSLF4Jå®šä¹‰æ¥å£ï¼ŒLogbackã€Log4j2æä¾›å®ç°</li>
</ul>
<p>ä¼ ç»Ÿåšæ³•æ˜¯é€šè¿‡ç¡¬ç¼–ç æˆ–é…ç½®æ–‡ä»¶æŒ‡å®šå®ç°ç±»ï¼Œè¿™æ ·å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>ä»£ç è€¦åˆåº¦é«˜ï¼Œåˆ‡æ¢å®ç°éœ€è¦ä¿®æ”¹ä»£ç </li>
<li>æ— æ³•åŠ¨æ€æ‰©å±•</li>
<li>ä¸ç¬¦åˆ"å¼€é—­åŸåˆ™"</li>
</ul>
<p>SPIæœºåˆ¶é€šè¿‡çº¦å®šé…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œå®ç°äº†æœåŠ¡çš„åŠ¨æ€å‘ç°å’ŒåŠ è½½ã€‚</p>
<h3 data-id="heading-3">1.2 SPI vs API</h3>






























<table><thead><tr><th>ç‰¹æ€§</th><th>APIï¼ˆApplication Programming Interfaceï¼‰</th><th>SPIï¼ˆService Provider Interfaceï¼‰</th></tr></thead><tbody><tr><td>è°ƒç”¨æ–¹å‘</td><td>åº”ç”¨ â†’ æ¡†æ¶/åº“</td><td>æ¡†æ¶/åº“ â†’ æœåŠ¡æä¾›è€…</td></tr><tr><td>å®šä¹‰è€…</td><td>æ¡†æ¶/åº“å®šä¹‰</td><td>æ¡†æ¶/åº“å®šä¹‰</td></tr><tr><td>å®ç°è€…</td><td>åº”ç”¨å®ç°</td><td>ç¬¬ä¸‰æ–¹æä¾›è€…å®ç°</td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>åº”ç”¨ä½¿ç”¨æ¡†æ¶åŠŸèƒ½</td><td>æ¡†æ¶è°ƒç”¨æ‰©å±•å®ç°</td></tr></tbody></table>
<p>ç®€å•ç†è§£ï¼š<strong>APIæ˜¯ç»™åº”ç”¨ç”¨çš„ï¼ŒSPIæ˜¯ç»™æ¡†æ¶æ‰©å±•ç”¨çš„ã€‚</strong></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/000af4c89a2549ab8b83413a24d2aed9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770254152&amp;x-signature=nqnUqV981Eyrc%2FDxAqLEm93fqdI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">äºŒã€Java SPIæ ¸å¿ƒåŸç†</h2>
<h3 data-id="heading-5">2.1 æ ¸å¿ƒç±»</h3>
<p>Java SPIä¸»è¦ä¾èµ–<code>java.util.ServiceLoader</code>ç±»ï¼Œä½äºJDKæ ¸å¿ƒåº“ä¸­ã€‚</p>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ServiceLoader</span>&lt;<span class="hljs-title class_">S</span>&gt; <span class="hljs-title class_">implements</span> <span class="hljs-title class_">Iterable</span>&lt;<span class="hljs-title class_">S</span>&gt; {
    <span class="hljs-comment">// æœåŠ¡æ¥å£çš„Classå¯¹è±¡</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Class</span>&lt;<span class="hljs-type">S</span>&gt; service;

    <span class="hljs-comment">// ç±»åŠ è½½å™¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">ClassLoader</span> loader;

    <span class="hljs-comment">// å·²åŠ è½½çš„æœåŠ¡æä¾›è€…ç¼“å­˜</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">LinkedHashMap</span>&lt;<span class="hljs-type">String</span>,<span class="hljs-type">S</span>&gt; providers <span class="hljs-operator">=</span> new <span class="hljs-type">LinkedHashMap</span>&lt;&gt;();

    <span class="hljs-comment">// æ‡’åŠ è½½æŸ¥æ‰¾è¿­ä»£å™¨</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">LazyIterator</span> lookupIterator;

    <span class="hljs-comment">// é€šè¿‡ç±»åŠ è½½å™¨å’Œæ¥å£ç±»å‹åŠ è½½æœåŠ¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-operator">&lt;</span><span class="hljs-type">S</span><span class="hljs-operator">&gt;</span> <span class="hljs-type">ServiceLoader</span>&lt;<span class="hljs-type">S</span>&gt; load(<span class="hljs-type">Class</span>&lt;<span class="hljs-type">S</span>&gt; service) {
        <span class="hljs-type">ClassLoader</span> cl <span class="hljs-operator">=</span> <span class="hljs-type">Thread</span>.currentThread().getContextClassLoader();
        <span class="hljs-keyword">return</span> <span class="hljs-type">ServiceLoader</span>.load(service, cl);
    }

    <span class="hljs-comment">// é€šè¿‡æŒ‡å®šç±»åŠ è½½å™¨åŠ è½½æœåŠ¡</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-operator">&lt;</span><span class="hljs-type">S</span><span class="hljs-operator">&gt;</span> <span class="hljs-type">ServiceLoader</span>&lt;<span class="hljs-type">S</span>&gt; load(<span class="hljs-type">Class</span>&lt;<span class="hljs-type">S</span>&gt; service, <span class="hljs-type">ClassLoader</span> loader) {
        <span class="hljs-keyword">return</span> new <span class="hljs-type">ServiceLoader</span>&lt;&gt;(service, loader);
    }
}
</code></pre>
<h3 data-id="heading-6">2.2 çº¦å®šé…ç½®æ–‡ä»¶</h3>
<p>SPIæœºåˆ¶é€šè¿‡çº¦å®šé…ç½®æ–‡ä»¶æ¥å‘ç°æœåŠ¡å®ç°ã€‚é…ç½®æ–‡ä»¶ä½ç½®å¿…é¡»ä¸ºï¼š</p>
<pre><code class="hljs language-bash" lang="bash">META-INF/services/
â””â”€â”€ com.example.spi.SomeService  <span class="hljs-comment"># æ–‡ä»¶åä¸ºæ¥å£çš„å…¨é™å®šå</span>
</code></pre>
<p>æ–‡ä»¶å†…å®¹ä¸ºå®ç°ç±»çš„å…¨é™å®šåï¼Œæ¯è¡Œä¸€ä¸ªï¼š</p>
<pre><code class="hljs language-rust" lang="rust">com.example.spi.<span class="hljs-keyword">impl</span>.SomeServiceImpl
com.example.spi.<span class="hljs-keyword">impl</span>.AnotherServiceImpl
</code></pre>
<h3 data-id="heading-7">2.3 æœåŠ¡åŠ è½½æµç¨‹</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c29e3110cda049fa93ef8d6f73b14d3c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770254152&amp;x-signature=aq7j06Y1xtYG00%2F8HbS4V8sKI8A%3D" alt="" loading="lazy"/></p>
<p>æœåŠ¡åŠ è½½æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>æŸ¥æ‰¾é…ç½®æ–‡ä»¶</strong>ï¼šServiceLoaderåœ¨classpathä¸‹æŸ¥æ‰¾<code>META-INF/services/æ¥å£å…¨é™å®šå</code>æ–‡ä»¶</li>
<li><strong>è§£æé…ç½®æ–‡ä»¶</strong>ï¼šè¯»å–æ–‡ä»¶å†…å®¹ï¼Œè·å–æ‰€æœ‰å®ç°ç±»çš„å…¨é™å®šå</li>
<li><strong>ç±»åŠ è½½</strong>ï¼šä½¿ç”¨ç±»åŠ è½½å™¨åŠ è½½å®ç°ç±»</li>
<li><strong>å®ä¾‹åŒ–</strong>ï¼šé€šè¿‡åå°„åˆ›å»ºå®ç°ç±»å®ä¾‹</li>
<li><strong>ç±»å‹è½¬æ¢</strong>ï¼šå°†å®ä¾‹è½¬æ¢ä¸ºæ¥å£ç±»å‹</li>
<li><strong>ç¼“å­˜ç»“æœ</strong>ï¼šå°†å®ä¾‹ç¼“å­˜åˆ°providers Mapä¸­</li>
</ol>
<h2 data-id="heading-8">ä¸‰ã€Java SPIä½¿ç”¨ç¤ºä¾‹</h2>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ç¤ºä¾‹æ¥æ¼”ç¤ºJava SPIçš„ä½¿ç”¨ã€‚</p>
<h3 data-id="heading-9">3.1 å®šä¹‰æ¥å£</h3>
<p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªæ•°æ®åº“æ“ä½œæ¥å£ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">package com.example.spi;

<span class="hljs-comment">/**
 * æ•°æ®åº“æ“ä½œæ¥å£
 */</span>
<span class="hljs-keyword">public</span> interface DatabaseOperation {

    <span class="hljs-comment">/**
     * æ‰§è¡ŒæŸ¥è¯¢
     * @param sql SQLè¯­å¥
     * @return æŸ¥è¯¢ç»“æœ
     */</span>
    <span class="hljs-function"><span class="hljs-type">String</span> <span class="hljs-title">query</span><span class="hljs-params">(<span class="hljs-type">String</span> sql)</span></span>;

    <span class="hljs-comment">/**
     * è·å–æ•°æ®åº“ç±»å‹
     * @return æ•°æ®åº“ç±»å‹åç§°
     */</span>
    <span class="hljs-function"><span class="hljs-type">String</span> <span class="hljs-title">getDatabaseType</span><span class="hljs-params">()</span></span>;

    <span class="hljs-comment">/**
     * è·å–ç‰ˆæœ¬ä¿¡æ¯
     * @return ç‰ˆæœ¬å·
     */</span>
    <span class="hljs-function"><span class="hljs-type">String</span> <span class="hljs-title">getVersion</span><span class="hljs-params">()</span></span>;
}
</code></pre>
<h3 data-id="heading-10">3.2 å®ç°MySQLæ“ä½œ</h3>
<pre><code class="hljs language-typescript" lang="typescript">package com.<span class="hljs-property">example</span>.<span class="hljs-property">spi</span>.<span class="hljs-property">impl</span>;

<span class="hljs-keyword">import</span> com.<span class="hljs-property">example</span>.<span class="hljs-property">spi</span>.<span class="hljs-property">DatabaseOperation</span>;

<span class="hljs-comment">/**
 * MySQLæ•°æ®åº“æ“ä½œå®ç°
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MySQLDatabaseOperation</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DatabaseOperation</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">query</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> sql</span>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"[MySQL] æ‰§è¡ŒSQL: "</span> + sql);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"MySQLæŸ¥è¯¢ç»“æœé›†"</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getDatabaseType</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"MySQL"</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getVersion</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"8.0.32"</span>;
    }
}
</code></pre>
<h3 data-id="heading-11">3.3 å®ç°Oracleæ“ä½œ</h3>
<pre><code class="hljs language-typescript" lang="typescript">package com.<span class="hljs-property">example</span>.<span class="hljs-property">spi</span>.<span class="hljs-property">impl</span>;

<span class="hljs-keyword">import</span> com.<span class="hljs-property">example</span>.<span class="hljs-property">spi</span>.<span class="hljs-property">DatabaseOperation</span>;

<span class="hljs-comment">/**
 * Oracleæ•°æ®åº“æ“ä½œå®ç°
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OracleDatabaseOperation</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">DatabaseOperation</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">query</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> sql</span>) {
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">"[Oracle] æ‰§è¡ŒSQL: "</span> + sql);
        <span class="hljs-keyword">return</span> <span class="hljs-string">"OracleæŸ¥è¯¢ç»“æœé›†"</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getDatabaseType</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"Oracle"</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getVersion</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"19c"</span>;
    }
}
</code></pre>
<h3 data-id="heading-12">3.4 é…ç½®SPIæ–‡ä»¶</h3>
<p>åœ¨<code>src/main/resources/META-INF/services/</code>ç›®å½•ä¸‹åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š</p>
<p><strong>æ–‡ä»¶å</strong>ï¼š<code>com.example.spi.DatabaseOperation</code></p>
<p><strong>æ–‡ä»¶å†…å®¹</strong>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust">com.example.spi.<span class="hljs-keyword">impl</span>.MySQLDatabaseOperation
com.example.spi.<span class="hljs-keyword">impl</span>.OracleDatabaseOperation
</code></pre>
<h3 data-id="heading-13">3.5 ä½¿ç”¨ServiceLoaderåŠ è½½æœåŠ¡</h3>
<pre><code class="hljs language-csharp" lang="csharp">package com.example.spi;

import java.util.ServiceLoader;

<span class="hljs-comment">/**
 * SPIæœåŠ¡åŠ è½½å™¨
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">SPIDemo</span> {

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span>(<span class="hljs-params">String[] args</span>)</span> {
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"=== Java SPI æœºåˆ¶æ¼”ç¤º ===\n"</span>);

        <span class="hljs-comment">// åŠ è½½æ‰€æœ‰DatabaseOperationå®ç°</span>
        ServiceLoader&lt;DatabaseOperation&gt; loader = ServiceLoader.load(DatabaseOperation.<span class="hljs-keyword">class</span>);

        <span class="hljs-comment">// éå†æ‰€æœ‰å®ç°</span>
        <span class="hljs-keyword">for</span> (DatabaseOperation operation : loader) {
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"å‘ç°æ•°æ®åº“å®ç°: "</span> + operation.getClass().getSimpleName());
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æ•°æ®åº“ç±»å‹: "</span> + operation.getDatabaseType());
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ç‰ˆæœ¬ä¿¡æ¯: "</span> + operation.getVersion());
            String result = operation.query(<span class="hljs-string">"SELECT * FROM users"</span>);
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"æŸ¥è¯¢ç»“æœ: "</span> + result);
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"----------------------"</span>);
        }

        <span class="hljs-comment">// å†æ¬¡éå†ï¼ŒéªŒè¯ç¼“å­˜æœºåˆ¶</span>
        System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"\n=== ç¬¬äºŒæ¬¡éå†ï¼ˆä»ç¼“å­˜è¯»å–ï¼‰==="</span>);
        <span class="hljs-keyword">for</span> (DatabaseOperation operation : loader) {
            System.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">"ç¼“å­˜ä¸­çš„å®ç°: "</span> + operation.getClass().getSimpleName());
        }
    }
}
</code></pre>
<h2 data-id="heading-14">å››ã€SPIåœ¨JDBCé©±åŠ¨ä¸­çš„åº”ç”¨</h2>
<p>JDBCæ˜¯Java SPIæœºåˆ¶çš„å…¸å‹åº”ç”¨åœºæ™¯ã€‚è®©æˆ‘ä»¬æ·±å…¥åˆ†æJDBCå¦‚ä½•é€šè¿‡SPIåŠ è½½é©±åŠ¨ã€‚</p>
<h3 data-id="heading-15">4.1 ä¼ ç»Ÿé©±åŠ¨åŠ è½½æ–¹å¼</h3>
<p>åœ¨JDBC 4.0ä¹‹å‰ï¼Œéœ€è¦æ˜¾å¼åŠ è½½é©±åŠ¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// æ˜¾å¼åŠ è½½é©±åŠ¨
Class.forName("com.mysql.cj.jdbc.Driver")<span class="hljs-comment">;</span>
Connection <span class="hljs-attr">conn</span> = DriverManager.getConnection(url, user, password)<span class="hljs-comment">;</span>
</code></pre>
<p>è¿™ç§æ–¹å¼å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>éœ€è¦ç¡¬ç¼–ç é©±åŠ¨ç±»å</li>
<li>ä»£ç ä¸å…·ä½“é©±åŠ¨è€¦åˆ</li>
<li>åˆ‡æ¢æ•°æ®åº“éœ€è¦ä¿®æ”¹ä»£ç </li>
</ul>
<h3 data-id="heading-16">4.2 SPIè‡ªåŠ¨åŠ è½½æœºåˆ¶</h3>
<p>ä»JDBC 4.0å¼€å§‹ï¼Œé€šè¿‡SPIæœºåˆ¶è‡ªåŠ¨å‘ç°å¹¶åŠ è½½é©±åŠ¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac4a68a5d22e4dccba12d2fff32792a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770254152&amp;x-signature=ntb3SvjBTPDto32qZJ7Ut4TuqZU%3D" alt="" loading="lazy"/></p>
<p><strong>é©±åŠ¨æ³¨å†Œæµç¨‹</strong>ï¼š</p>
<ol>
<li>MySQLé©±åŠ¨jaråŒ…ä¸­çš„SPIé…ç½®æ–‡ä»¶</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">æ–‡ä»¶è·¯å¾„ï¼šMETA-INF/services/java.sql.Driver
com.mysql.cj.jdbc.Driver

 
</code></pre>
<ol>
<li>å½“DriverManagerç±»è¢«åŠ è½½æ—¶ï¼Œä¼šè§¦å‘é™æ€åˆå§‹åŒ–å—ï¼š</li>
</ol>
<pre><code class="hljs language-scss" lang="scss"> public class DriverManager {
 static {
        <span class="hljs-built_in">loadInitialDrivers</span>();
        <span class="hljs-built_in">println</span>("JDBC DriverManager initialized");
    }

 private static void <span class="hljs-built_in">loadInitialDrivers</span>() {
        ServiceLoader&lt;Driver&gt; loadedDrivers = ServiceLoader<span class="hljs-selector-class">.load</span>(Driver.class);
        Iterator&lt;Driver&gt; driversIterator = loadedDrivers<span class="hljs-selector-class">.iterator</span>();

 try {
 <span class="hljs-built_in">while</span>(driversIterator.hasNext()) {
                driversIterator<span class="hljs-selector-class">.next</span>();
            }
        } <span class="hljs-built_in">catch</span>(Throwable t) {
 <span class="hljs-comment">// å¤„ç†å¼‚å¸¸</span>
        }
    }
}

 
</code></pre>
<ol>
<li>MySQLé©±åŠ¨å®ç°ç±»çš„é™æ€åˆå§‹åŒ–å—ä¼šæ³¨å†Œé©±åŠ¨ï¼š</li>
</ol>

<pre><code class="hljs language-scala" lang="scala"><span class="hljs-keyword">package</span> com.mysql.cj.jdbc;

public <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Driver</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">NonRegisteringDriver</span> <span class="hljs-title">implements</span> <span class="hljs-title">java</span>.<span class="hljs-title">sql</span>.<span class="hljs-title">Driver</span> </span>{
 static {
 <span class="hljs-keyword">try</span> {
            java.sql.<span class="hljs-type">DriverManager</span>.registerDriver(<span class="hljs-keyword">new</span> <span class="hljs-type">Driver</span>());
        } <span class="hljs-keyword">catch</span> (<span class="hljs-type">SQLException</span> <span class="hljs-type">E</span>) {
 <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-type">RuntimeException</span>(<span class="hljs-string">"Can't register driver!"</span>);
        }
    }

}
</code></pre>
<h3 data-id="heading-17">4.3 ä½¿ç”¨ç¤ºä¾‹</h3>
<p>ä½¿ç”¨SPIæœºåˆ¶åï¼Œè·å–æ•°æ®åº“è¿æ¥å˜å¾—éå¸¸ç®€å•ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.jdbc;

<span class="hljs-keyword">import</span> java.sql.Connection;
<span class="hljs-keyword">import</span> java.sql.DriverManager;
<span class="hljs-keyword">import</span> java.sql.PreparedStatement;
<span class="hljs-keyword">import</span> java.sql.ResultSet;

<span class="hljs-comment">/**
 * JDBC SPIä½¿ç”¨ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">JdbcSPIDemo</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> <span class="hljs-keyword">throws</span> Exception {
        <span class="hljs-comment">// æ— éœ€æ˜¾å¼åŠ è½½é©±åŠ¨ï¼ŒSPIè‡ªåŠ¨å‘ç°</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-string">"jdbc:mysql://localhost:3306/test"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">user</span> <span class="hljs-operator">=</span> <span class="hljs-string">"root"</span>;
        <span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> <span class="hljs-string">"password"</span>;

        <span class="hljs-keyword">try</span> (<span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> DriverManager.getConnection(url, user, password)) {
            <span class="hljs-type">String</span> <span class="hljs-variable">sql</span> <span class="hljs-operator">=</span> <span class="hljs-string">"SELECT id, username, email FROM users WHERE status = ?"</span>;

            <span class="hljs-keyword">try</span> (<span class="hljs-type">PreparedStatement</span> <span class="hljs-variable">pstmt</span> <span class="hljs-operator">=</span> conn.prepareStatement(sql)) {
                pstmt.setInt(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>);

                <span class="hljs-keyword">try</span> (<span class="hljs-type">ResultSet</span> <span class="hljs-variable">rs</span> <span class="hljs-operator">=</span> pstmt.executeQuery()) {
                    <span class="hljs-keyword">while</span> (rs.next()) {
                        System.out.println(<span class="hljs-string">"ID: "</span> + rs.getInt(<span class="hljs-string">"id"</span>));
                        System.out.println(<span class="hljs-string">"ç”¨æˆ·å: "</span> + rs.getString(<span class="hljs-string">"username"</span>));
                        System.out.println(<span class="hljs-string">"é‚®ç®±: "</span> + rs.getString(<span class="hljs-string">"email"</span>));
                    }
                }
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-18">4.4 å®é™…ç”Ÿäº§æ¡ˆä¾‹</h3>
<p><strong>åœºæ™¯</strong>ï¼šæ”¯æŒå¤šæ•°æ®æºåŠ¨æ€åˆ‡æ¢</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.jdbc;

<span class="hljs-keyword">import</span> javax.sql.DataSource;
<span class="hljs-keyword">import</span> java.sql.Connection;
<span class="hljs-keyword">import</span> java.sql.SQLException;
<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;
<span class="hljs-keyword">import</span> java.util.ServiceLoader;

<span class="hljs-comment">/**
 * å¤šæ•°æ®æºç®¡ç†å™¨
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiDataSourceManager</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Map&lt;String, DataSource&gt; dataSourceMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MultiDataSourceManager</span><span class="hljs-params">()</span> {
        <span class="hljs-comment">// é€šè¿‡SPIåŠ è½½æ‰€æœ‰DataSourceå®ç°</span>
        ServiceLoader&lt;DataSourceProvider&gt; providers =
            ServiceLoader.load(DataSourceProvider.class);

        <span class="hljs-keyword">for</span> (DataSourceProvider provider : providers) {
            <span class="hljs-type">DataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> provider.createDataSource();
            dataSourceMap.put(provider.getDataSourceName(), ds);
            System.out.println(<span class="hljs-string">"æ³¨å†Œæ•°æ®æº: "</span> + provider.getDataSourceName());
        }
    }

    <span class="hljs-keyword">public</span> Connection <span class="hljs-title function_">getConnection</span><span class="hljs-params">(String dataSourceName)</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-type">DataSource</span> <span class="hljs-variable">ds</span> <span class="hljs-operator">=</span> dataSourceMap.get(dataSourceName);
        <span class="hljs-keyword">if</span> (ds == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"æœªæ‰¾åˆ°æ•°æ®æº: "</span> + dataSourceName);
        }
        <span class="hljs-keyword">return</span> ds.getConnection();
    }

    <span class="hljs-comment">/**
     * åŠ¨æ€åˆ‡æ¢æ•°æ®æºæ‰§è¡ŒæŸ¥è¯¢
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">executeQuery</span><span class="hljs-params">(String dataSourceName, String sql)</span> <span class="hljs-keyword">throws</span> SQLException {
        <span class="hljs-keyword">try</span> (<span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> getConnection(dataSourceName)) {
            <span class="hljs-keyword">try</span> (<span class="hljs-type">var</span> <span class="hljs-variable">stmt</span> <span class="hljs-operator">=</span> conn.createStatement();
                 <span class="hljs-type">var</span> <span class="hljs-variable">rs</span> <span class="hljs-operator">=</span> stmt.executeQuery(sql)) {

                System.out.println(<span class="hljs-string">"["</span> + dataSourceName + <span class="hljs-string">"] æŸ¥è¯¢ç»“æœ:"</span>);
                <span class="hljs-keyword">while</span> (rs.next()) {
                    <span class="hljs-comment">// å¤„ç†ç»“æœé›†</span>
                }
            }
        }
    }
}
</code></pre>
<h2 data-id="heading-19">äº”ã€Dubboå¯¹SPIçš„æ”¹è¿›</h2>
<p>è™½ç„¶Java SPIæä¾›äº†æœåŠ¡å‘ç°æœºåˆ¶ï¼Œä½†å­˜åœ¨ä¸€äº›ä¸è¶³ï¼š</p>
<ol>
<li><strong>æ— æ³•æŒ‰éœ€åŠ è½½</strong>ï¼šä¸€æ¬¡æ€§åŠ è½½æ‰€æœ‰å®ç°ï¼Œæµªè´¹èµ„æº</li>
<li><strong>ç¼ºå°‘é…ç½®åŒ–</strong>ï¼šæ— æ³•é€šè¿‡é…ç½®é€‰æ‹©å…·ä½“å®ç°</li>
<li><strong>ç¼ºå°‘ä¾èµ–æ³¨å…¥</strong>ï¼šå®ç°ç±»ä¹‹é—´æ— æ³•ç›¸äº’ä¾èµ–</li>
<li><strong>ç¼ºå°‘æ‰©å±•ç‚¹éš”ç¦»</strong>ï¼šä¸åŒæ‰©å±•ç‚¹çš„å®ç°å¯èƒ½å†²çª</li>
</ol>
<p>Dubboå®ç°äº†è‡ªå·±çš„SPIæœºåˆ¶ï¼Œè§£å†³äº†è¿™äº›é—®é¢˜ã€‚</p>
<h3 data-id="heading-20">5.1 Dubbo SPIæ”¹è¿›</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/de6a6c1833794f19bd8c7157c02b2367~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770254152&amp;x-signature=vwyUBEHQrdpnT8u%2FpFcen6coxRA%3D" alt="" loading="lazy"/></p>
<p><strong>ä¸»è¦æ”¹è¿›</strong>ï¼š</p>
<ol>
<li><strong>æ”¯æŒæŒ‰éœ€åŠ è½½</strong>ï¼šåªåŠ è½½éœ€è¦çš„å®ç°</li>
<li><strong>æ”¯æŒä¾èµ–æ³¨å…¥</strong>ï¼šå®ç°ç±»å¯ä»¥æ³¨å…¥å…¶ä»–æ‰©å±•ç‚¹</li>
<li><strong>æ”¯æŒè‡ªé€‚åº”æ‰©å±•</strong>ï¼šæ ¹æ®è¿è¡Œæ—¶å‚æ•°è‡ªåŠ¨é€‰æ‹©å®ç°</li>
<li><strong>æ”¯æŒAOP</strong>ï¼šå¯ä»¥ä¸ºæ‰©å±•ç‚¹æ·»åŠ åŒ…è£…ç±»</li>
</ol>
<h3 data-id="heading-21">5.2 Dubbo SPIç¤ºä¾‹</h3>
<pre><code class="hljs language-ini" lang="ini">package com.example.dubbo.spi<span class="hljs-comment">;</span>

import org.apache.dubbo.common.extension.ExtensionLoader<span class="hljs-comment">;</span>

/**
 * Dubbo SPIä½¿ç”¨ç¤ºä¾‹
 */
public class DubboSPIDemo {

    public static void main(String<span class="hljs-section">[]</span> args) {
        // è·å–æ‰©å±•åŠ è½½å™¨
        ExtensionLoader&lt;Robot&gt; <span class="hljs-attr">loader</span> = ExtensionLoader.getExtensionLoader(Robot.class)<span class="hljs-comment">;</span>

        // æŒ‰éœ€è·å–æŒ‡å®šå®ç°
        Robot <span class="hljs-attr">optimusPrime</span> = loader.getExtension(<span class="hljs-string">"optimusPrime"</span>)<span class="hljs-comment">;</span>
        optimusPrime.sayHello()<span class="hljs-comment">;</span>

        Robot <span class="hljs-attr">bumblebee</span> = loader.getExtension(<span class="hljs-string">"bumblebee"</span>)<span class="hljs-comment">;</span>
        bumblebee.sayHello()<span class="hljs-comment">;</span>

        // è·å–è‡ªé€‚åº”æ‰©å±•ï¼ˆæ ¹æ®URLå‚æ•°è‡ªåŠ¨é€‰æ‹©ï¼‰
        Robot <span class="hljs-attr">adaptiveRobot</span> = loader.getAdaptiveExtension()<span class="hljs-comment">;</span>
        adaptiveRobot.sayHello()<span class="hljs-comment">;</span>
    }
}
</code></pre>
<h2 data-id="heading-22">å…­ã€å®é™…ç”Ÿäº§æ¡ˆä¾‹ï¼šæ—¥å¿—æ¡†æ¶SPI</h2>
<h3 data-id="heading-23">6.1 SLF4J + Logbackå®ç°</h3>
<p>SLF4Jå®šä¹‰æ—¥å¿—é—¨é¢æ¥å£ï¼ŒLogbackæä¾›å®ç°ã€‚</p>
<p><strong>SLF4Jæ¥å£</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">package org.slf4j;

<span class="hljs-keyword">public</span> interface Logger {
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">debug</span><span class="hljs-params">(<span class="hljs-type">String</span> msg)</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">info</span><span class="hljs-params">(<span class="hljs-type">String</span> msg)</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">warn</span><span class="hljs-params">(<span class="hljs-type">String</span> msg)</span></span>;
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">error</span><span class="hljs-params">(<span class="hljs-type">String</span> msg)</span></span>;
}
</code></pre>
<p><strong>Logbackå®ç°</strong>ï¼š</p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_"># </span><span class="bash">META-INF/services/org.slf4j.spi.SLF4JServiceProvider</span>
ch.qos.logback.classic.spi.LogbackServiceProvider
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.slf4j.Logger;
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LoggingService</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(LoggingService.class);

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processOrder</span><span class="hljs-params">(Order order)</span> {
        logger.info(<span class="hljs-string">"å¼€å§‹å¤„ç†è®¢å•: {}"</span>, order.getId());

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
            logger.debug(<span class="hljs-string">"è®¢å•é‡‘é¢: {}"</span>, order.getAmount());
        } <span class="hljs-keyword">catch</span> (Exception e) {
            logger.error(<span class="hljs-string">"å¤„ç†è®¢å•å¤±è´¥"</span>, e);
            <span class="hljs-keyword">throw</span> e;
        }

        logger.info(<span class="hljs-string">"è®¢å•å¤„ç†å®Œæˆ"</span>);
    }
}
</code></pre>
<h3 data-id="heading-24">6.2 å®é™…ç”Ÿäº§æ¡ˆä¾‹ï¼šæ”¯ä»˜ç³»ç»Ÿ</h3>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/419187ab020d4594b1d153357d3c1e39~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zuo5Lit6aOY6I2h55qE6K6w5b-G:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770254152&amp;x-signature=DekGrbnEliD41lrHxuIZ%2Fhu%2FNWE%3D" alt="" loading="lazy"/></p>
<p><strong>åœºæ™¯</strong>ï¼šæ”¯æŒå¤šç§æ”¯ä»˜æ–¹å¼ï¼ˆæ”¯ä»˜å®ã€å¾®ä¿¡ã€é“¶è”ï¼‰</p>
<p><strong>æ”¯ä»˜æ¥å£å®šä¹‰</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.payment.spi;

<span class="hljs-comment">/**
 * æ”¯ä»˜æœåŠ¡æ¥å£
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">PaymentService</span> {

    <span class="hljs-comment">/**
     * åˆ›å»ºæ”¯ä»˜è®¢å•
     * <span class="hljs-doctag">@param</span> request æ”¯ä»˜è¯·æ±‚
     * <span class="hljs-doctag">@return</span> æ”¯ä»˜ç»“æœ
     */</span>
    PaymentResult <span class="hljs-title function_">createPayment</span><span class="hljs-params">(PaymentRequest request)</span>;

    <span class="hljs-comment">/**
     * æŸ¥è¯¢æ”¯ä»˜çŠ¶æ€
     * <span class="hljs-doctag">@param</span> paymentId æ”¯ä»˜è®¢å•å·
     * <span class="hljs-doctag">@return</span> æ”¯ä»˜çŠ¶æ€
     */</span>
    PaymentStatus <span class="hljs-title function_">queryStatus</span><span class="hljs-params">(String paymentId)</span>;

    <span class="hljs-comment">/**
     * ç”³è¯·é€€æ¬¾
     * <span class="hljs-doctag">@param</span> refundRequest é€€æ¬¾è¯·æ±‚
     * <span class="hljs-doctag">@return</span> é€€æ¬¾ç»“æœ
     */</span>
    RefundResult <span class="hljs-title function_">refund</span><span class="hljs-params">(RefundRequest refundRequest)</span>;

    <span class="hljs-comment">/**
     * è·å–æ”¯ä»˜æ–¹å¼
     * <span class="hljs-doctag">@return</span> æ”¯ä»˜æ–¹å¼åç§°
     */</span>
    String <span class="hljs-title function_">getPaymentType</span><span class="hljs-params">()</span>;
}
</code></pre>
<p><strong>æ”¯ä»˜å®å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">package com.<span class="hljs-property">example</span>.<span class="hljs-property">payment</span>.<span class="hljs-property">impl</span>;

<span class="hljs-keyword">import</span> com.<span class="hljs-property">example</span>.<span class="hljs-property">payment</span>.<span class="hljs-property">spi</span>.*;
<span class="hljs-keyword">import</span> com.<span class="hljs-property">alipay</span>.<span class="hljs-property">api</span>.<span class="hljs-property">AlipayClient</span>;
<span class="hljs-keyword">import</span> com.<span class="hljs-property">alipay</span>.<span class="hljs-property">api</span>.<span class="hljs-property">DefaultAlipayClient</span>;
<span class="hljs-keyword">import</span> com.<span class="hljs-property">alipay</span>.<span class="hljs-property">api</span>.<span class="hljs-property">request</span>.<span class="hljs-property">AlipayTradeCreateRequest</span>;
<span class="hljs-keyword">import</span> com.<span class="hljs-property">alipay</span>.<span class="hljs-property">api</span>.<span class="hljs-property">response</span>.<span class="hljs-property">AlipayTradeCreateResponse</span>;

<span class="hljs-comment">/**
 * æ”¯ä»˜å®æ”¯ä»˜å®ç°
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AlipayPaymentService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentService</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-title class_">AlipayClient</span> alipayClient;

    <span class="hljs-keyword">public</span> <span class="hljs-title class_">AlipayPaymentService</span>() {
        <span class="hljs-comment">// åˆå§‹åŒ–æ”¯ä»˜å®å®¢æˆ·ç«¯</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">alipayClient</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DefaultAlipayClient</span>(
            <span class="hljs-string">"https://openapi.alipay.com/gateway.do"</span>,
            <span class="hljs-string">"APP_ID"</span>, <span class="hljs-string">"PRIVATE_KEY"</span>, <span class="hljs-string">"json"</span>, <span class="hljs-string">"UTF-8"</span>, <span class="hljs-string">"ALIPAY_PUBLIC_KEY"</span>
        );
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">PaymentResult</span> <span class="hljs-title function_">createPayment</span>(<span class="hljs-params">PaymentRequest request</span>) {
        <span class="hljs-keyword">try</span> {
            <span class="hljs-title class_">AlipayTradeCreateRequest</span> alipayRequest = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AlipayTradeCreateRequest</span>();
            alipayRequest.<span class="hljs-title function_">setBizContent</span>(<span class="hljs-title class_">String</span>.<span class="hljs-title function_">format</span>(
                <span class="hljs-string">"{"</span>out_trade_no<span class="hljs-string">":"</span>%s<span class="hljs-string">","</span>total_amount<span class="hljs-string">":"</span>%s<span class="hljs-string">","</span>subject<span class="hljs-string">":"</span>%s<span class="hljs-string">"}"</span>,
                request.<span class="hljs-title function_">getOrderNo</span>(), request.<span class="hljs-title function_">getAmount</span>(), request.<span class="hljs-title function_">getSubject</span>()
            ));

            <span class="hljs-title class_">AlipayTradeCreateResponse</span> response = alipayClient.<span class="hljs-title function_">execute</span>(alipayRequest);

            <span class="hljs-keyword">if</span> (response.<span class="hljs-title function_">isSuccess</span>()) {
                <span class="hljs-keyword">return</span> <span class="hljs-title class_">PaymentResult</span>.<span class="hljs-title function_">success</span>(response.<span class="hljs-title function_">getTradeNo</span>());
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-title class_">PaymentResult</span>.<span class="hljs-title function_">fail</span>(response.<span class="hljs-title function_">getSubMsg</span>());
            }
        } <span class="hljs-keyword">catch</span> (<span class="hljs-title class_">Exception</span> e) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">PaymentResult</span>.<span class="hljs-title function_">fail</span>(<span class="hljs-string">"æ”¯ä»˜å¼‚å¸¸: "</span> + e.<span class="hljs-title function_">getMessage</span>());
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">PaymentStatus</span> <span class="hljs-title function_">queryStatus</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> paymentId</span>) {
        <span class="hljs-comment">// æŸ¥è¯¢æ”¯ä»˜çŠ¶æ€å®ç°</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">PaymentStatus</span>.<span class="hljs-property">PAID</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">RefundResult</span> <span class="hljs-title function_">refund</span>(<span class="hljs-params">RefundRequest refundRequest</span>) {
        <span class="hljs-comment">// é€€æ¬¾å®ç°</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">RefundResult</span>.<span class="hljs-title function_">success</span>();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getPaymentType</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ALIPAY"</span>;
    }
}
</code></pre>
<p><strong>å¾®ä¿¡æ”¯ä»˜å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">package com.<span class="hljs-property">example</span>.<span class="hljs-property">payment</span>.<span class="hljs-property">impl</span>;

<span class="hljs-keyword">import</span> com.<span class="hljs-property">example</span>.<span class="hljs-property">payment</span>.<span class="hljs-property">spi</span>.*;

<span class="hljs-comment">/**
 * å¾®ä¿¡æ”¯ä»˜å®ç°
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">WechatPaymentService</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">PaymentService</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">PaymentResult</span> <span class="hljs-title function_">createPayment</span>(<span class="hljs-params">PaymentRequest request</span>) {
        <span class="hljs-comment">// å¾®ä¿¡æ”¯ä»˜ç»Ÿä¸€ä¸‹å•å®ç°</span>
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">PaymentResult</span>.<span class="hljs-title function_">success</span>(<span class="hljs-string">"WX"</span> + request.<span class="hljs-title function_">getOrderNo</span>());
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">PaymentStatus</span> <span class="hljs-title function_">queryStatus</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> paymentId</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">PaymentStatus</span>.<span class="hljs-property">PAID</span>;
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">RefundResult</span> <span class="hljs-title function_">refund</span>(<span class="hljs-params">RefundRequest refundRequest</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">RefundResult</span>.<span class="hljs-title function_">success</span>();
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getPaymentType</span>(<span class="hljs-params"/>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"WECHAT"</span>;
    }
}
</code></pre>
<p><strong>æ”¯ä»˜æœåŠ¡å·¥å‚</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.payment;

<span class="hljs-keyword">import</span> com.example.payment.spi.PaymentService;
<span class="hljs-keyword">import</span> com.example.payment.spi.PaymentRequest;
<span class="hljs-keyword">import</span> java.util.HashMap;
<span class="hljs-keyword">import</span> java.util.Map;
<span class="hljs-keyword">import</span> java.util.ServiceLoader;

<span class="hljs-comment">/**
 * æ”¯ä»˜æœåŠ¡å·¥å‚
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentServiceFactory</span> {

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Map&lt;String, PaymentService&gt; SERVICE_MAP = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();

    <span class="hljs-keyword">static</span> {
        <span class="hljs-comment">// é€šè¿‡SPIåŠ è½½æ‰€æœ‰æ”¯ä»˜å®ç°</span>
        ServiceLoader&lt;PaymentService&gt; loader = ServiceLoader.load(PaymentService.class);
        <span class="hljs-keyword">for</span> (PaymentService service : loader) {
            SERVICE_MAP.put(service.getPaymentType(), service);
            System.out.println(<span class="hljs-string">"æ³¨å†Œæ”¯ä»˜æœåŠ¡: "</span> + service.getPaymentType());
        }
    }

    <span class="hljs-comment">/**
     * æ ¹æ®æ”¯ä»˜ç±»å‹è·å–æ”¯ä»˜æœåŠ¡
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> PaymentService <span class="hljs-title function_">getPaymentService</span><span class="hljs-params">(String paymentType)</span> {
        <span class="hljs-type">PaymentService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> SERVICE_MAP.get(paymentType);
        <span class="hljs-keyword">if</span> (service == <span class="hljs-literal">null</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalArgumentException</span>(<span class="hljs-string">"ä¸æ”¯æŒçš„æ”¯ä»˜æ–¹å¼: "</span> + paymentType);
        }
        <span class="hljs-keyword">return</span> service;
    }

    <span class="hljs-comment">/**
     * åˆ›å»ºæ”¯ä»˜è®¢å•
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createPayment</span><span class="hljs-params">(String paymentType, PaymentRequest request)</span> {
        <span class="hljs-type">PaymentService</span> <span class="hljs-variable">service</span> <span class="hljs-operator">=</span> getPaymentService(paymentType);
        System.out.println(<span class="hljs-string">"ä½¿ç”¨ "</span> + paymentType + <span class="hljs-string">" æ”¯ä»˜..."</span>);
        <span class="hljs-type">var</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> service.createPayment(request);

        <span class="hljs-keyword">if</span> (result.isSuccess()) {
            System.out.println(<span class="hljs-string">"æ”¯ä»˜åˆ›å»ºæˆåŠŸ: "</span> + result.getTransactionId());
        } <span class="hljs-keyword">else</span> {
            System.out.println(<span class="hljs-string">"æ”¯ä»˜å¤±è´¥: "</span> + result.getErrorMessage());
        }
    }
}
</code></pre>
<p><strong>é…ç½®æ–‡ä»¶</strong>ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"># META-INF/services/com.example.payment.spi.PaymentService
com.example.payment.<span class="hljs-keyword">impl</span>.AlipayPaymentService
com.example.payment.<span class="hljs-keyword">impl</span>.WechatPaymentService
</code></pre>
<p><strong>ä½¿ç”¨ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.example.payment;

<span class="hljs-keyword">import</span> com.example.payment.spi.PaymentRequest;
<span class="hljs-keyword">import</span> java.math.BigDecimal;

<span class="hljs-comment">/**
 * æ”¯ä»˜ç³»ç»Ÿä½¿ç”¨ç¤ºä¾‹
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentSystemDemo</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-comment">// åˆ›å»ºæ”¯ä»˜è¯·æ±‚</span>
        <span class="hljs-type">PaymentRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">PaymentRequest</span>();
        request.setOrderNo(<span class="hljs-string">"ORDER20240101001"</span>);
        request.setAmount(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BigDecimal</span>(<span class="hljs-string">"99.99"</span>));
        request.setSubject(<span class="hljs-string">"æµ‹è¯•å•†å“"</span>);

        <span class="hljs-comment">// ä½¿ç”¨æ”¯ä»˜å®æ”¯ä»˜</span>
        PaymentServiceFactory.createPayment(<span class="hljs-string">"ALIPAY"</span>, request);

        <span class="hljs-comment">// ä½¿ç”¨å¾®ä¿¡æ”¯ä»˜</span>
        PaymentServiceFactory.createPayment(<span class="hljs-string">"WECHAT"</span>, request);
    }
}
</code></pre>
<h2 data-id="heading-25">ä¸ƒã€æ€»ç»“</h2>
<p>Java SPIæœºåˆ¶æ˜¯ä¸€ç§ä¼˜é›…çš„æœåŠ¡å‘ç°å’Œæ‰©å±•æœºåˆ¶ï¼Œå®ƒé€šè¿‡çº¦å®šé…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œå®ç°äº†ï¼š</p>
<ol>
<li><strong>è§£è€¦</strong>ï¼šæ ¸å¿ƒæ¡†æ¶ä¸å…·ä½“å®ç°åˆ†ç¦»</li>
<li><strong>æ‰©å±•</strong>ï¼šç¬¬ä¸‰æ–¹å¯ä»¥è½»æ¾æä¾›å®ç°</li>
<li><strong>çµæ´»</strong>ï¼šæ”¯æŒåŠ¨æ€åˆ‡æ¢å®ç°</li>
</ol>
<blockquote>
<p>æŒæ¡SPIæœºåˆ¶ï¼Œä¸ä»…èƒ½æ›´å¥½åœ°ç†è§£å¼€æºæ¡†æ¶çš„è®¾è®¡æ€æƒ³ï¼Œè¿˜èƒ½åœ¨å®é™…é¡¹ç›®ä¸­å®ç°æ›´ä¼˜é›…çš„æ¶æ„è®¾è®¡ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Jetpack Compose ä»å…¥é—¨åˆ°ç²¾é€šï¼ˆäºŒï¼‰ï¼šæ ¸å¿ƒåŸºçŸ³ - æ·±å…¥ç†è§£ Modifier ä¸å¸ƒå±€ç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7600342663319388201</link>    <guid>https://juejin.cn/post/7600342663319388201</guid>    <pubDate>2026-01-29T03:31:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600342663319388201" data-draft-id="7600430748780445739" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Jetpack Compose ä»å…¥é—¨åˆ°ç²¾é€šï¼ˆäºŒï¼‰ï¼šæ ¸å¿ƒåŸºçŸ³ - æ·±å…¥ç†è§£ Modifier ä¸å¸ƒå±€ç³»ç»Ÿ"/> <meta itemprop="keywords" content="Android,Kotlin,JetBrains"/> <meta itemprop="datePublished" content="2026-01-29T03:31:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‚¹é˜¿æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›"/> <meta itemprop="url" content="https://juejin.cn/user/3808364009106839"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Jetpack Compose ä»å…¥é—¨åˆ°ç²¾é€šï¼ˆäºŒï¼‰ï¼šæ ¸å¿ƒåŸºçŸ³ - æ·±å…¥ç†è§£ Modifier ä¸å¸ƒå±€ç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808364009106839/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‚¹é˜¿æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-29T03:31:20.000Z" title="Thu Jan 29 2026 03:31:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    19
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬ç¯‡æ–‡ç« å°†ä»æºç å±‚é¢æ·±å…¥è§£æ Compose çš„æ ¸å¿ƒæœºåˆ¶ï¼Œå¸®åŠ©ä½ çœŸæ­£ç†è§£ Modifier çš„è®¾è®¡å“²å­¦ã€å¸ƒå±€ç³»ç»Ÿçš„æµ‹é‡æµç¨‹ï¼Œä»¥åŠ LazyColumn çš„æƒ°æ€§åŠ è½½åŸç†ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨ä¸Šä¸€ç¯‡ä¸­ï¼Œæˆ‘ä»¬å®Œæˆäº† Compose çš„å…¥é—¨ã€‚ä½†å¦‚æœä½ åªåœç•™åœ¨"ä¼šç”¨"çš„å±‚é¢ï¼Œé‡åˆ°å¤æ‚åœºæ™¯æ—¶å°±ä¼šæŸæ‰‹æ— ç­–ã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li>ä¸ºä»€ä¹ˆ Modifier çš„è°ƒç”¨é¡ºåºä¼šå½±å“æœ€ç»ˆæ•ˆæœï¼Ÿ</li>
<li>LazyColumn ä¸ºä»€ä¹ˆèƒ½æµç•…å¤„ç†ä¸Šä¸‡æ¡æ•°æ®ï¼Ÿ</li>
<li>è‡ªå®šä¹‰ Layout æ—¶ï¼ŒConstraints åˆ°åº•è¯¥æ€ä¹ˆç”¨ï¼Ÿ</li>
<li>ä»€ä¹ˆæ—¶å€™åº”è¯¥ç”¨ ConstraintLayoutï¼Œä»€ä¹ˆæ—¶å€™ç”¨åµŒå¥— Column/Rowï¼Ÿ</li>
</ul>
<p>æœ¬ç¯‡æ–‡ç« å°†å¸¦ä½ <strong>æ·±å…¥åŸç†å±‚</strong>ï¼Œä¸ä»…å‘Šè¯‰ä½ "æ€ä¹ˆåš"ï¼Œæ›´è¦è®©ä½ ç†è§£"ä¸ºä»€ä¹ˆè¿™æ ·åš"ã€‚å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬å¼€å§‹æ·±åº¦æ¢ç´¢ï¼</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€Modifier æ·±åº¦è§£æï¼šä»è®¾è®¡å“²å­¦åˆ°æºç å®ç°</h2>
<h3 data-id="heading-2">1.1 ä¸ºä»€ä¹ˆéœ€è¦ Modifierï¼Ÿ</h3>
<p>åœ¨ä¼ ç»Ÿ View ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ª View éƒ½æœ‰ä¸€å¤§å †å±æ€§æ–¹æ³•ï¼š<code>setPadding()</code>ã€<code>setBackground()</code>ã€<code>setOnClickListener()</code>... è¿™ä¸ä»…è®© View ç±»å˜å¾—è‡ƒè‚¿ï¼Œä¹Ÿé™åˆ¶äº†æ‰©å±•æ€§ã€‚</p>
<p>Compose é‡‡ç”¨äº†å®Œå…¨ä¸åŒçš„è®¾è®¡ï¼š<strong>å°†ä¿®é¥°èƒ½åŠ›ä»ç»„ä»¶ä¸­åˆ†ç¦»å‡ºæ¥</strong>ï¼Œå½¢æˆç‹¬ç«‹çš„ Modifier ç³»ç»Ÿã€‚</p>
<p><strong>è®¾è®¡å“²å­¦</strong>ï¼š</p>
<ul>
<li><strong>å•ä¸€èŒè´£</strong>ï¼šText åªè´Ÿè´£æ˜¾ç¤ºæ–‡å­—ï¼Œä¿®é¥°äº¤ç»™ Modifier</li>
<li><strong>å¯ç»„åˆ</strong>ï¼šé€šè¿‡é“¾å¼è°ƒç”¨ç»„åˆå„ç§ä¿®é¥°æ•ˆæœ</li>
<li><strong>å¯æ‰©å±•</strong>ï¼šéšæ—¶å¯ä»¥å¢åŠ æ–°çš„ Modifierï¼Œæ— éœ€ä¿®æ”¹ç»„ä»¶</li>
</ul>
<h3 data-id="heading-3">1.2 Modifier çš„æœ¬è´¨ï¼šæ¥å£ä¸é“¾è¡¨</h3>
<p>Modifier æ˜¯ä¸€ä¸ª<strong>æ¥å£</strong>ï¼Œå®ƒçš„æ ¸å¿ƒè®¾è®¡éå¸¸ç²¾å·§ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ç®€åŒ–ç‰ˆæºç </span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Modifier</span> {
    <span class="hljs-comment">// ä»å·¦åˆ°å³éå†æ‰€æœ‰ Element</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;R&gt;</span> <span class="hljs-title">foldIn</span><span class="hljs-params">(initial: <span class="hljs-type">R</span>, operation: (<span class="hljs-type">R</span>, <span class="hljs-type">Element</span>) -&gt; <span class="hljs-type">R</span>)</span></span>: R
    
    <span class="hljs-comment">// ä»å³åˆ°å·¦éå†æ‰€æœ‰ Element</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;R&gt;</span> <span class="hljs-title">foldOut</span><span class="hljs-params">(initial: <span class="hljs-type">R</span>, operation: (<span class="hljs-type">Element</span>, <span class="hljs-type">R</span>) -&gt; <span class="hljs-type">R</span>)</span></span>: R
    
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æœ‰æ»¡è¶³æ¡ä»¶çš„ Element</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">any</span><span class="hljs-params">(predicate: (<span class="hljs-type">Element</span>) -&gt; <span class="hljs-type">Boolean</span>)</span></span>: <span class="hljs-built_in">Boolean</span>
    
    <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦æ‰€æœ‰ Element éƒ½æ»¡è¶³æ¡ä»¶</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">all</span><span class="hljs-params">(predicate: (<span class="hljs-type">Element</span>) -&gt; <span class="hljs-type">Boolean</span>)</span></span>: <span class="hljs-built_in">Boolean</span>
    
    <span class="hljs-comment">// ç»„åˆä¸¤ä¸ª Modifier</span>
    <span class="hljs-keyword">infix</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">then</span><span class="hljs-params">(other: <span class="hljs-type">Modifier</span>)</span></span>: Modifier
    
    <span class="hljs-comment">// ç©ºçš„ Modifier å®ä¾‹</span>
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> : Modifier {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;R&gt;</span> <span class="hljs-title">foldIn</span><span class="hljs-params">(initial: <span class="hljs-type">R</span>, operation: (<span class="hljs-type">R</span>, <span class="hljs-type">Element</span>) -&gt; <span class="hljs-type">R</span>)</span></span>: R = initial
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;R&gt;</span> <span class="hljs-title">foldOut</span><span class="hljs-params">(initial: <span class="hljs-type">R</span>, operation: (<span class="hljs-type">Element</span>, <span class="hljs-type">R</span>) -&gt; <span class="hljs-type">R</span>)</span></span>: R = initial
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">then</span><span class="hljs-params">(other: <span class="hljs-type">Modifier</span>)</span></span>: Modifier = other
    }
}
</code></pre>
<p><strong>å…³é”®è®¾è®¡</strong>ï¼šModifier å†…éƒ¨ä½¿ç”¨<strong>é“¾è¡¨ç»“æ„</strong>å­˜å‚¨æ‰€æœ‰çš„ä¿®é¥°å…ƒç´ ã€‚</p>
<h3 data-id="heading-4">1.3 é“¾å¼è°ƒç”¨çš„ç§˜å¯†</h3>
<p>å½“æˆ‘ä»¬å†™ä¸‹è¿™æ ·çš„ä»£ç æ—¶ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<pre><code class="hljs language-kotlin" lang="kotlin">Modifier
    .padding(<span class="hljs-number">16.</span>dp)
    .background(Color.Blue)
    .size(<span class="hljs-number">100.</span>dp)
</code></pre>
<p><strong>æ‰§è¡Œè¿‡ç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">æ­¥éª¤</span> <span class="hljs-attr">1:</span> <span class="hljs-string">Modifier</span> <span class="hljs-string">(ç©º)</span> 
        <span class="hljs-string">â†“</span> <span class="hljs-string">then()</span>
<span class="hljs-string">æ­¥éª¤</span> <span class="hljs-attr">2:</span> <span class="hljs-string">Modifier</span> <span class="hljs-string">+</span> <span class="hljs-string">PaddingModifier</span>
        <span class="hljs-string">â†“</span> <span class="hljs-string">then()</span>
<span class="hljs-string">æ­¥éª¤</span> <span class="hljs-attr">3:</span> <span class="hljs-string">Modifier</span> <span class="hljs-string">+</span> <span class="hljs-string">PaddingModifier</span> <span class="hljs-string">+</span> <span class="hljs-string">BackgroundModifier</span>
        <span class="hljs-string">â†“</span> <span class="hljs-string">then()</span>
<span class="hljs-string">æ­¥éª¤</span> <span class="hljs-attr">4:</span> <span class="hljs-string">Modifier</span> <span class="hljs-string">+</span> <span class="hljs-string">PaddingModifier</span> <span class="hljs-string">+</span> <span class="hljs-string">BackgroundModifier</span> <span class="hljs-string">+</span> <span class="hljs-string">SizeModifier</span>
</code></pre>
<p><strong>æºç å®ç°</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Modifier.kt</span>
<span class="hljs-keyword">infix</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">then</span><span class="hljs-params">(other: <span class="hljs-type">Modifier</span>)</span></span>: Modifier = 
    <span class="hljs-keyword">if</span> (other === Modifier) <span class="hljs-keyword">this</span> <span class="hljs-keyword">else</span> CombinedModifier(<span class="hljs-keyword">this</span>, other)

<span class="hljs-comment">// CombinedModifier å°†ä¸¤ä¸ª Modifier ç»„åˆåœ¨ä¸€èµ·</span>
<span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CombinedModifier</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> outer: Modifier,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> <span class="hljs-keyword">inner</span>: Modifier
) : Modifier {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;R&gt;</span> <span class="hljs-title">foldIn</span><span class="hljs-params">(initial: <span class="hljs-type">R</span>, operation: (<span class="hljs-type">R</span>, <span class="hljs-type">Modifier</span>.<span class="hljs-type">Element</span>) -&gt; <span class="hljs-type">R</span>)</span></span>: R =
        <span class="hljs-keyword">inner</span>.foldIn(outer.foldIn(initial, operation), operation)
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;R&gt;</span> <span class="hljs-title">foldOut</span><span class="hljs-params">(initial: <span class="hljs-type">R</span>, operation: (<span class="hljs-type">Modifier</span>.<span class="hljs-type">Element</span>, <span class="hljs-type">R</span>) -&gt; <span class="hljs-type">R</span>)</span></span>: R =
        outer.foldOut(<span class="hljs-keyword">inner</span>.foldOut(initial, operation), operation)
}
</code></pre>
<p><strong>æ ¸å¿ƒæ´å¯Ÿ</strong>ï¼š<code>CombinedModifier</code> æ˜¯ä¸€ä¸ª<strong>äºŒå‰æ ‘ç»“æ„</strong>ï¼Œ<code>outer</code> æŒ‡å‘é“¾è¡¨å¤´éƒ¨ï¼Œ<code>inner</code> æŒ‡å‘é“¾è¡¨å°¾éƒ¨ã€‚</p>
<h3 data-id="heading-5">1.4 æ‰§è¡Œé¡ºåºï¼šä¸ºä»€ä¹ˆé¡ºåºå¾ˆé‡è¦ï¼Ÿ</h3>
<p>è¿™æ˜¯ Modifier æœ€å®¹æ˜“è®©äººå›°æƒ‘çš„åœ°æ–¹ã€‚è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªä¾‹å­ç†è§£ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æƒ…å†µ A</span>
Modifier
    .padding(<span class="hljs-number">16.</span>dp)        <span class="hljs-comment">// å¤–å±‚</span>
    .background(Color.Blue) <span class="hljs-comment">// ä¸­é—´</span>
    .padding(<span class="hljs-number">8.</span>dp)         <span class="hljs-comment">// å†…å±‚</span>
    .size(<span class="hljs-number">100.</span>dp)
</code></pre>
<p><strong>è§†è§‰æ•ˆæœ</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â† å¤–å±‚ <span class="hljs-attribute">padding</span> (<span class="hljs-number">16</span>dp) - é€æ˜åŒºåŸŸ
â”‚                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  è“è‰²èƒŒæ™¯             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚  â”‚  â† å†…å±‚ <span class="hljs-attribute">padding</span> (<span class="hljs-number">8</span>dp) - è“è‰²åŒºåŸŸå†…
â”‚  â”‚  â”‚    <span class="hljs-number">100</span>x100      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚     å†…å®¹        â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>è®¾è®¡åŸåˆ™</strong>ï¼šModifier çš„æ‰§è¡Œéµå¾ª**"ä»å¤–åˆ°å†…"**çš„é¡ºåºã€‚å…ˆåº”ç”¨çš„ Modifier åœ¨å¤–å±‚ï¼Œååº”ç”¨çš„åœ¨å†…å±‚ã€‚</p>
<h3 data-id="heading-6">1.5 Modifier çš„éå†æœºåˆ¶</h3>
<p>Compose éœ€è¦éå† Modifier é“¾è¡¨æ¥åº”ç”¨å„ç§æ•ˆæœã€‚éå†æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// foldIn: ä»å·¦åˆ°å³ï¼ˆouter â†’ innerï¼‰</span>
modifier.foldIn(initialValue) { acc, element -&gt;
    <span class="hljs-comment">// å¤„ç†æ¯ä¸ª Element</span>
    acc + element
}

<span class="hljs-comment">// foldOut: ä»å³åˆ°å·¦ï¼ˆinner â†’ outerï¼‰</span>
modifier.foldOut(initialValue) { element, acc -&gt;
    <span class="hljs-comment">// å¤„ç†æ¯ä¸ª Element</span>
    element + acc
}
</code></pre>
<p><strong>åº”ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li><strong>foldIn</strong>ï¼šæµ‹é‡ã€å¸ƒå±€æ—¶ï¼Œéœ€è¦ä»å¤–åˆ°å†…ä¼ é€’çº¦æŸ</li>
<li><strong>foldOut</strong>ï¼šç»˜åˆ¶æ—¶ï¼Œéœ€è¦ä»å†…åˆ°å¤–ç»˜åˆ¶å†…å®¹</li>
</ul>
<h3 data-id="heading-7">1.6 Modifier çš„åˆ†ç±»ä¸å†…éƒ¨å®ç°</h3>
<h4 data-id="heading-8">1.6.1 å¸ƒå±€ç±» Modifier</h4>
<p><strong>size() çš„å®ç°åŸç†</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// SizeModifier ç®€åŒ–ç‰ˆ</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SizeModifier</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> minWidth: Dp = Dp.Unspecified,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> minHeight: Dp = Dp.Unspecified,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> maxWidth: Dp = Dp.Unspecified,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> maxHeight: Dp = Dp.Unspecified,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> enforceIncoming: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">true</span>
) : LayoutModifier {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> MeasureScope.<span class="hljs-title">measure</span><span class="hljs-params">(
        measurable: <span class="hljs-type">Measurable</span>,
        constraints: <span class="hljs-type">Constraints</span>
    )</span></span>: MeasureResult {
        <span class="hljs-comment">// è§£æå°ºå¯¸å€¼</span>
        <span class="hljs-keyword">val</span> resolvedMinWidth = <span class="hljs-keyword">if</span> (minWidth != Dp.Unspecified) {
            minWidth.roundToPx()
        } <span class="hljs-keyword">else</span> {
            constraints.minWidth
        }
        
        <span class="hljs-keyword">val</span> resolvedMaxWidth = <span class="hljs-keyword">if</span> (maxWidth != Dp.Unspecified) {
            maxWidth.roundToPx()
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (enforceIncoming) constraints.maxWidth <span class="hljs-keyword">else</span> Constraints.Infinity
        }
        
        <span class="hljs-comment">// ... é«˜åº¦åŒç†</span>
        
        <span class="hljs-comment">// åˆ›å»ºæ–°çš„çº¦æŸ</span>
        <span class="hljs-keyword">val</span> wrappedConstraints = Constraints(
            minWidth = resolvedMinWidth,
            maxWidth = resolvedMaxWidth,
            minHeight = resolvedMinHeight,
            maxHeight = resolvedMaxHeight
        )
        
        <span class="hljs-comment">// æµ‹é‡å­å…ƒç´ </span>
        <span class="hljs-keyword">val</span> placeable = measurable.measure(wrappedConstraints)
        
        <span class="hljs-comment">// è¿”å›æµ‹é‡ç»“æœ</span>
        <span class="hljs-keyword">return</span> layout(placeable.width, placeable.height) {
            placeable.placeRelative(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
        }
    }
}
</code></pre>
<p><strong>å…³é”®æ´å¯Ÿ</strong>ï¼šSizeModifier æ˜¯ä¸€ä¸ª <code>LayoutModifier</code>ï¼Œå®ƒæ‹¦æˆªäº†æµ‹é‡è¿‡ç¨‹ï¼Œä¿®æ”¹äº†ä¼ é€’ç»™å­å…ƒç´ çš„ Constraintsã€‚</p>
<h4 data-id="heading-9">1.6.2 ç»˜åˆ¶ç±» Modifier</h4>
<p><strong>background() çš„å®ç°åŸç†</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// BackgroundModifier ç®€åŒ–ç‰ˆ</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">BackgroundModifier</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> color: Color? = <span class="hljs-literal">null</span>,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> brush: Brush? = <span class="hljs-literal">null</span>,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> shape: Shape = RectangleShape,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> alpha: <span class="hljs-built_in">Float</span> = <span class="hljs-number">1.0f</span>
) : DrawModifier {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> ContentDrawScope.<span class="hljs-title">draw</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// ç»˜åˆ¶èƒŒæ™¯</span>
        <span class="hljs-keyword">if</span> (shape == RectangleShape) {
            <span class="hljs-comment">// çŸ©å½¢èƒŒæ™¯</span>
            <span class="hljs-keyword">if</span> (color != <span class="hljs-literal">null</span>) {
                drawRect(color = color, alpha = alpha)
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (brush != <span class="hljs-literal">null</span>) {
                drawRect(brush = brush, alpha = alpha)
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// åœ†è§’/è‡ªå®šä¹‰å½¢çŠ¶èƒŒæ™¯</span>
            <span class="hljs-keyword">val</span> outline = shape.createOutline(size, layoutDirection, <span class="hljs-keyword">this</span>)
            <span class="hljs-keyword">if</span> (color != <span class="hljs-literal">null</span>) {
                drawOutline(outline, color = color, alpha = alpha)
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (brush != <span class="hljs-literal">null</span>) {
                drawOutline(outline, brush = brush, alpha = alpha)
            }
        }
        
        <span class="hljs-comment">// ç»˜åˆ¶å†…å®¹ï¼ˆè°ƒç”¨ drawContent ç»§ç»­é“¾å¼ç»˜åˆ¶ï¼‰</span>
        drawContent()
    }
}
</code></pre>
<p><strong>å…³é”®æ´å¯Ÿ</strong>ï¼š<code>DrawModifier</code> æ‹¦æˆªäº†ç»˜åˆ¶æµç¨‹ï¼Œå…ˆç»˜åˆ¶èƒŒæ™¯ï¼Œå†é€šè¿‡ <code>drawContent()</code> ç»§ç»­ç»˜åˆ¶åç»­å†…å®¹å’Œå­å…ƒç´ ã€‚</p>
<h4 data-id="heading-10">1.6.3 äº¤äº’ç±» Modifier</h4>
<p><strong>clickable() çš„å®ç°åŸç†</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// clickable çš„ Modifier é“¾</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> Modifier.<span class="hljs-title">clickable</span><span class="hljs-params">(
    enabled: <span class="hljs-type">Boolean</span> = <span class="hljs-literal">true</span>,
    onClickLabel: <span class="hljs-type">String</span>? = <span class="hljs-literal">null</span>,
    role: <span class="hljs-type">Role</span>? = <span class="hljs-literal">null</span>,
    onClick: () -&gt; <span class="hljs-type">Unit</span>
)</span></span>: Modifier = composed(
    inspectorInfo = debugInspectorInfo { ... }
) {
    <span class="hljs-keyword">val</span> interactionSource = remember { MutableInteractionSource() }
    <span class="hljs-keyword">val</span> indication = LocalIndication.current
    
    Modifier
        .clickable(
            interactionSource = interactionSource,
            indication = indication,
            enabled = enabled,
            onClickLabel = onClickLabel,
            role = role,
            onClick = onClick
        )
}
</code></pre>
<p><strong>clickable å†…éƒ¨ Modifier é“¾</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">clickable
â”œâ”€â”€ focusableInNonTouchMode  (ç„¦ç‚¹ç®¡ç†)
â”œâ”€â”€ pointerInput             (æ‰‹åŠ¿æ£€æµ‹)
â”œâ”€â”€ semantics                (æ— éšœç¢æ”¯æŒ)
â”œâ”€â”€ indication               (æ¶Ÿæ¼ªæ•ˆæœ)
â””â”€â”€ isComposeRootInScrollableContainer (æ»šåŠ¨å®¹å™¨æ£€æµ‹)
</code></pre>
<h3 data-id="heading-11">1.7 è‡ªå®šä¹‰ Modifier çš„å®Œæ•´æŒ‡å—</h3>
<h4 data-id="heading-12">1.7.1 ç®€å•è‡ªå®šä¹‰ï¼šä½¿ç”¨ composed</h4>
<p>é€‚ç”¨äºéœ€è¦è®¿é—® CompositionLocal æˆ– remember çŠ¶æ€çš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// è‡ªå®šä¹‰å¸¦é˜´å½±çš„åœ†è§’èƒŒæ™¯</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> Modifier.<span class="hljs-title">shadowBackground</span><span class="hljs-params">(
    color: <span class="hljs-type">Color</span>,
    cornerRadius: <span class="hljs-type">Dp</span> = <span class="hljs-number">8.</span>dp,
    shadowElevation: <span class="hljs-type">Dp</span> = <span class="hljs-number">4.</span>dp
)</span></span>: Modifier = composed {
    <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œä½¿ç”¨ remember å’Œ CompositionLocal</span>
    <span class="hljs-keyword">val</span> density = LocalDensity.current
    <span class="hljs-keyword">val</span> shadowPx = with(density) { shadowElevation.toPx() }
    
    remember(color, cornerRadius, shadowElevation) {
        Modifier
            .shadow(shadowElevation, RoundedCornerShape(cornerRadius))
            .background(color, RoundedCornerShape(cornerRadius))
            .padding(cornerRadius)
    }
}
</code></pre>
<h4 data-id="heading-13">1.7.2 ä¸­çº§è‡ªå®šä¹‰ï¼šå®ç° Modifier.NodeElement</h4>
<p>é€‚ç”¨äºéœ€è¦è‡ªå®šä¹‰æµ‹é‡ã€å¸ƒå±€æˆ–ç»˜åˆ¶çš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// è‡ªå®šä¹‰ç»˜åˆ¶å¯¹è§’çº¿çš„ Modifier</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">DiagonalLineElement</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> color: Color,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> strokeWidth: <span class="hljs-built_in">Float</span>
) : ModifierNodeElement&lt;DiagonalLineNode&gt;() {
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">()</span></span>: DiagonalLineNode = 
        DiagonalLineNode(color, strokeWidth)
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">update</span><span class="hljs-params">(node: <span class="hljs-type">DiagonalLineNode</span>)</span></span> {
        node.color = color
        node.strokeWidth = strokeWidth
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Int</span> =
        color.hashCode() * <span class="hljs-number">31</span> + strokeWidth.hashCode()
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">equals</span><span class="hljs-params">(other: <span class="hljs-type">Any</span>?)</span></span>: <span class="hljs-built_in">Boolean</span> =
        other <span class="hljs-keyword">is</span> DiagonalLineElement &amp;&amp;
        other.color == color &amp;&amp;
        other.strokeWidth == strokeWidth
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">DiagonalLineNode</span>(
    <span class="hljs-keyword">var</span> color: Color,
    <span class="hljs-keyword">var</span> strokeWidth: <span class="hljs-built_in">Float</span>
) : Modifier.Node(), DrawModifierNode {
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> ContentDrawScope.<span class="hljs-title">draw</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// å…ˆç»˜åˆ¶å†…å®¹</span>
        drawContent()
        
        <span class="hljs-comment">// å†ç»˜åˆ¶å¯¹è§’çº¿</span>
        drawLine(
            color = color,
            start = Offset(<span class="hljs-number">0f</span>, <span class="hljs-number">0f</span>),
            end = Offset(size.width, size.height),
            strokeWidth = strokeWidth
        )
    }
}

<span class="hljs-comment">// ä½¿ç”¨æ‰©å±•å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> Modifier.<span class="hljs-title">diagonalLine</span><span class="hljs-params">(
    color: <span class="hljs-type">Color</span>,
    strokeWidth: <span class="hljs-type">Float</span> = <span class="hljs-number">2</span>f
)</span></span>: Modifier = <span class="hljs-keyword">this</span>.then(DiagonalLineElement(color, strokeWidth))
</code></pre>
<h4 data-id="heading-14">1.7.3 é«˜çº§è‡ªå®šä¹‰ï¼šLayoutModifier</h4>
<p>é€‚ç”¨äºéœ€è¦è‡ªå®šä¹‰æµ‹é‡å’Œå¸ƒå±€é€»è¾‘çš„åœºæ™¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// è‡ªå®šä¹‰ AspectRatio Modifierï¼ˆä¿æŒå®½é«˜æ¯”ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AspectRatioElement</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> ratio: <span class="hljs-built_in">Float</span>
) : ModifierNodeElement&lt;AspectRatioNode&gt;() {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">create</span><span class="hljs-params">()</span></span> = AspectRatioNode(ratio)
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">update</span><span class="hljs-params">(node: <span class="hljs-type">AspectRatioNode</span>)</span></span> {
        node.ratio = ratio
    }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">AspectRatioNode</span>(<span class="hljs-keyword">var</span> ratio: <span class="hljs-built_in">Float</span>) : 
    Modifier.Node(), 
    LayoutModifierNode {
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> MeasureScope.<span class="hljs-title">measure</span><span class="hljs-params">(
        measurable: <span class="hljs-type">Measurable</span>,
        constraints: <span class="hljs-type">Constraints</span>
    )</span></span>: MeasureResult {
        <span class="hljs-comment">// æ ¹æ®çº¦æŸè®¡ç®—åˆé€‚çš„å°ºå¯¸</span>
        <span class="hljs-keyword">val</span> width = constraints.maxWidth
        <span class="hljs-keyword">val</span> height = (width / ratio).toInt()
        
        <span class="hljs-comment">// ç¡®ä¿ä¸è¶…è¿‡æœ€å¤§é«˜åº¦</span>
        <span class="hljs-keyword">val</span> finalHeight = <span class="hljs-keyword">if</span> (height &gt; constraints.maxHeight) {
            constraints.maxHeight
        } <span class="hljs-keyword">else</span> {
            height
        }
        
        <span class="hljs-comment">// é‡æ–°è®¡ç®—å®½åº¦ä»¥ä¿æŒæ¯”ä¾‹</span>
        <span class="hljs-keyword">val</span> finalWidth = (finalHeight * ratio).toInt()
        
        <span class="hljs-comment">// æµ‹é‡å­å…ƒç´ </span>
        <span class="hljs-keyword">val</span> placeable = measurable.measure(
            Constraints.fixed(finalWidth, finalHeight)
        )
        
        <span class="hljs-keyword">return</span> layout(finalWidth, finalHeight) {
            placeable.placeRelative(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
        }
    }
}
</code></pre>
<h3 data-id="heading-15">1.8 Intrinsic æµ‹é‡ï¼šè§£å†³"å…ˆæœ‰é¸¡è¿˜æ˜¯å…ˆæœ‰è›‹"</h3>
<h4 data-id="heading-16">1.8.1 é—®é¢˜åœºæ™¯</h4>
<p>è€ƒè™‘è¿™æ ·ä¸€ä¸ªéœ€æ±‚ï¼šä¸¤ä¸ª Text å‚ç›´æ’åˆ—ï¼Œè¦æ±‚ Divider çš„å®½åº¦ç­‰äºä¸¤ä¸ª Text ä¸­æœ€å®½çš„é‚£ä¸ªã€‚</p>
<pre><code class="hljs language-kotlin" lang="kotlin">Column {
    Text(<span class="hljs-string">"Short"</span>)
    Text(<span class="hljs-string">"Longer text"</span>)
    Divider() <span class="hljs-comment">// å®½åº¦åº”è¯¥ç­‰äº "Longer text" çš„å®½åº¦</span>
}
</code></pre>
<p><strong>é—®é¢˜</strong>ï¼šåœ¨æµ‹é‡ Divider æ—¶ï¼ŒColumn è¿˜ä¸çŸ¥é“ä¸¤ä¸ª Text çš„å®½åº¦ï¼Œå› ä¸º Text è¿˜æ²¡è¢«æµ‹é‡ã€‚</p>
<h4 data-id="heading-17">1.8.2 Intrinsic æµ‹é‡çš„åŸç†</h4>
<p>Intrinsic æµ‹é‡å…è®¸çˆ¶ç»„ä»¶åœ¨æ­£å¼æµ‹é‡å‰ï¼Œ<strong>é¢„å…ˆè¯¢é—®å­å…ƒç´ çš„æœŸæœ›å°ºå¯¸</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">IntrinsicMeasurable</span> {
    <span class="hljs-comment">// ç»™å®šé«˜åº¦ï¼Œè¿”å›æœ€å°/æœ€å¤§å®½åº¦</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">minIntrinsicWidth</span><span class="hljs-params">(height: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">maxIntrinsicWidth</span><span class="hljs-params">(height: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span>
    
    <span class="hljs-comment">// ç»™å®šå®½åº¦ï¼Œè¿”å›æœ€å°/æœ€å¤§é«˜åº¦  </span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">minIntrinsicHeight</span><span class="hljs-params">(width: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">maxIntrinsicHeight</span><span class="hljs-params">(width: <span class="hljs-type">Int</span>)</span></span>: <span class="hljs-built_in">Int</span>
}
</code></pre>
<p><strong>ä½¿ç”¨ Intrinsic æµ‹é‡è§£å†³ Divider é—®é¢˜</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">IntrinsicWidthDemo</span><span class="hljs-params">()</span></span> {
    Column(
        modifier = Modifier.width(IntrinsicSize.Max)  <span class="hljs-comment">// ä½¿ç”¨æœ€å¤§å›ºæœ‰å®½åº¦</span>
    ) {
        Text(<span class="hljs-string">"Short text"</span>)
        Text(<span class="hljs-string">"This is a longer text"</span>)
        Divider(
            modifier = Modifier.fillMaxWidth(),
            color = Color.Black
        )
    }
}
</code></pre>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> Column æ”¶åˆ° IntrinsicSize.Max çº¦æŸ
<span class="hljs-bullet">2.</span> Column è¯¢é—®æ‰€æœ‰å­å…ƒç´ çš„ maxIntrinsicWidth
<span class="hljs-bullet">3.</span> Text è¿”å›è‡ªå·±çš„æ–‡æœ¬å®½åº¦
<span class="hljs-bullet">4.</span> Column å–æœ€å¤§å€¼ä½œä¸ºè‡ªèº«å®½åº¦
<span class="hljs-bullet">5.</span> Column æ­£å¼æµ‹é‡ï¼Œå°†å®½åº¦çº¦æŸä¼ é€’ç»™å­å…ƒç´ 
<span class="hljs-bullet">6.</span> Divider æ”¶åˆ°ä¸æœ€å®½ Text ç›¸åŒçš„å®½åº¦
</code></pre>
<h4 data-id="heading-18">1.8.3 IntrinsicSize.Min ä¸ IntrinsicSize.Max</h4>




















<table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th><th>åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>IntrinsicSize.Min</code></td><td>ä½¿ç”¨å­å…ƒç´ çš„æœ€å°å›ºæœ‰å°ºå¯¸</td><td>æŒ‰é’®ç­‰éœ€è¦ç´§å‡‘å°ºå¯¸çš„åœºæ™¯</td></tr><tr><td><code>IntrinsicSize.Max</code></td><td>ä½¿ç”¨å­å…ƒç´ çš„æœ€å¤§å›ºæœ‰å°ºå¯¸</td><td>è¡¨å•ç­‰éœ€è¦å¯¹é½çš„åœºæ™¯</td></tr></tbody></table>
<h3 data-id="heading-19">1.9 Modifier æ€§èƒ½ä¼˜åŒ–</h3>
<h4 data-id="heading-20">1.9.1 é¿å…ä¸å¿…è¦çš„é‡ç»„</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ¯æ¬¡é‡ç»„éƒ½åˆ›å»ºæ–°çš„ Modifier</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">BadExample</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> count <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-number">0</span>) }
    
    Text(
        text = <span class="hljs-string">"Count: <span class="hljs-variable">$count</span>"</span>,
        modifier = Modifier.padding(<span class="hljs-number">16.</span>dp)  <span class="hljs-comment">// æ¯æ¬¡é‡ç»„éƒ½åˆ›å»ºæ–°å®ä¾‹</span>
    )
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨ remember ç¼“å­˜ Modifier</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">GoodExample</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> count <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-number">0</span>) }
    <span class="hljs-keyword">val</span> modifier = remember { Modifier.padding(<span class="hljs-number">16.</span>dp) }
    
    Text(
        text = <span class="hljs-string">"Count: <span class="hljs-variable">$count</span>"</span>,
        modifier = modifier  <span class="hljs-comment">// å¤ç”¨åŒä¸€ä¸ªå®ä¾‹</span>
    )
}

<span class="hljs-comment">// âœ… æ›´å¥½ï¼šå°† Modifier ä½œä¸ºå‚æ•°ï¼Œç”±çˆ¶ç»„ä»¶æä¾›</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">BestExample</span><span class="hljs-params">(
    text: <span class="hljs-type">String</span>,
    modifier: <span class="hljs-type">Modifier</span> = Modifier  <span class="hljs-comment">// ç”±è°ƒç”¨æ–¹æä¾›</span>
)</span></span> {
    Text(
        text = text,
        modifier = modifier
    )
}
</code></pre>
<h4 data-id="heading-21">1.9.2 Modifier çš„ç›¸ç­‰æ€§ä¼˜åŒ–</h4>
<p>Compose ä½¿ç”¨ <code>equals()</code> åˆ¤æ–­ Modifier æ˜¯å¦å˜åŒ–ï¼Œä»è€Œå†³å®šæ˜¯å¦è·³è¿‡é‡ç»„ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// è‡ªå®šä¹‰ Modifier æ—¶ï¼ŒåŠ¡å¿…å®ç° equals å’Œ hashCode</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MyModifier</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> color: Color,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> size: Dp
) : Modifier.Element {
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">equals</span><span class="hljs-params">(other: <span class="hljs-type">Any</span>?)</span></span>: <span class="hljs-built_in">Boolean</span> {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> === other) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
        <span class="hljs-keyword">if</span> (other !<span class="hljs-keyword">is</span> MyModifier) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
        <span class="hljs-keyword">return</span> color == other.color &amp;&amp; size == other.size
    }
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span></span>: <span class="hljs-built_in">Int</span> {
        <span class="hljs-keyword">return</span> color.hashCode() * <span class="hljs-number">31</span> + size.hashCode()
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-22">äºŒã€å¸ƒå±€ç³»ç»Ÿæ·±åº¦è§£æï¼šä»æµ‹é‡åˆ°ç»˜åˆ¶</h2>
<h3 data-id="heading-23">2.1 Compose å¸ƒå±€çš„ä¸‰é˜¶æ®µ</h3>
<p>Compose çš„æ¸²æŸ“æµç¨‹åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š</p>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Composition                            â”‚
â”‚  æ‰§è¡Œ Composable å‡½æ•°ï¼Œæ„å»º UI æ ‘ï¼ˆLayoutNode æ ‘ï¼‰            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Layout                               â”‚
â”‚  æµ‹é‡æ¯ä¸ªèŠ‚ç‚¹çš„å°ºå¯¸ï¼ˆMeasureï¼‰ï¼Œç¡®å®šä½ç½®ï¼ˆPlaceï¼‰              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Drawing                              â”‚
â”‚  å°† UI ç»˜åˆ¶åˆ° <span class="hljs-selector-tag">Canvas</span> ä¸Š                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-24">2.2 Layout èŠ‚ç‚¹çš„æ•°æ®ç»“æ„</h3>
<p>æ¯ä¸ª Composable åœ¨å¸ƒå±€é˜¶æ®µéƒ½ä¼šå¯¹åº”ä¸€ä¸ª <code>LayoutNode</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ç®€åŒ–ç‰ˆ LayoutNode ç»“æ„</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LayoutNode</span> {
    <span class="hljs-comment">// çˆ¶èŠ‚ç‚¹</span>
    <span class="hljs-keyword">var</span> parent: LayoutNode? = <span class="hljs-literal">null</span>
    
    <span class="hljs-comment">// å­èŠ‚ç‚¹åˆ—è¡¨</span>
    <span class="hljs-keyword">val</span> children: MutableList&lt;LayoutNode&gt; = mutableListOf()
    
    <span class="hljs-comment">// Modifier é“¾è¡¨</span>
    <span class="hljs-keyword">var</span> modifier: Modifier = Modifier
    
    <span class="hljs-comment">// æµ‹é‡ç»“æœ</span>
    <span class="hljs-keyword">var</span> width: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>
    <span class="hljs-keyword">var</span> height: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>
    
    <span class="hljs-comment">// ä½ç½®</span>
    <span class="hljs-keyword">var</span> x: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>
    <span class="hljs-keyword">var</span> y: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>
    
    <span class="hljs-comment">// æµ‹é‡å‡½æ•°ï¼ˆç”± Layout Composable æä¾›ï¼‰</span>
    <span class="hljs-keyword">lateinit</span> <span class="hljs-keyword">var</span> measurePolicy: MeasurePolicy
}
</code></pre>
<h3 data-id="heading-25">2.3 Constraintsï¼šå¸ƒå±€çš„çº¦æŸæ¡ä»¶</h3>
<p>Constraints æ˜¯ Compose å¸ƒå±€ç³»ç»Ÿçš„æ ¸å¿ƒï¼Œå®ƒå®šä¹‰äº†å°ºå¯¸çš„é™åˆ¶èŒƒå›´ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Constraints</span> {
    <span class="hljs-keyword">val</span> minWidth: <span class="hljs-built_in">Int</span>
    <span class="hljs-keyword">val</span> maxWidth: <span class="hljs-built_in">Int</span>
    <span class="hljs-keyword">val</span> minHeight: <span class="hljs-built_in">Int</span>
    <span class="hljs-keyword">val</span> maxHeight: <span class="hljs-built_in">Int</span>
    
    <span class="hljs-keyword">companion</span> <span class="hljs-keyword">object</span> {
        <span class="hljs-comment">// åˆ›å»ºå›ºå®šå°ºå¯¸çº¦æŸ</span>
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fixed</span><span class="hljs-params">(width: <span class="hljs-type">Int</span>, height: <span class="hljs-type">Int</span>)</span></span>: Constraints
        
        <span class="hljs-comment">// åˆ›å»ºæœ€å¤§å°ºå¯¸çº¦æŸ</span>
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">maxWidth</span><span class="hljs-params">(width: <span class="hljs-type">Int</span>)</span></span>: Constraints
        <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">maxHeight</span><span class="hljs-params">(height: <span class="hljs-type">Int</span>)</span></span>: Constraints
        
        <span class="hljs-comment">// æ— é™çº¦æŸ</span>
        <span class="hljs-keyword">val</span> Infinity = <span class="hljs-built_in">Int</span>.MAX_VALUE
    }
}
</code></pre>
<p><strong>çº¦æŸç±»å‹</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    çº¦æŸç±»å‹å›¾è§£                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ç²¾ç¡®çº¦æŸ                    èŒƒå›´çº¦æŸ                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         â”‚               â”‚  minWidth          maxWidthâ”‚   â”‚
â”‚  â”‚ 100x100 â”‚               â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚   â”‚
â”‚  â”‚         â”‚               â”‚       å¯ä»¥æ˜¯ä»»æ„å€¼          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  <span class="hljs-attr">minWidth</span> = maxWidth = <span class="hljs-number">100</span>                                  â”‚
â”‚                                                             â”‚
â”‚  æ— çº¦æŸ                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Infinity                          â”‚   â”‚
â”‚  â”‚  å¯ä»¥æ˜¯ä»»æ„å¤§çš„å°ºå¯¸                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  <span class="hljs-attr">maxWidth</span> = Int.MAX_VALUE                                   â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-26">2.4 æµ‹é‡æµç¨‹è¯¦è§£</h3>
<p>æµ‹é‡æ˜¯ä¸€ä¸ª<strong>è‡ªé¡¶å‘ä¸‹</strong>çš„è¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// çˆ¶èŠ‚ç‚¹æµ‹é‡å­èŠ‚ç‚¹çš„æµç¨‹</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">measureChild</span><span class="hljs-params">(child: <span class="hljs-type">Measurable</span>, constraints: <span class="hljs-type">Constraints</span>)</span></span>: Placeable {
    <span class="hljs-comment">// 1. æ ¹æ®çˆ¶èŠ‚ç‚¹çš„çº¦æŸï¼Œè®¡ç®—ç»™å­èŠ‚ç‚¹çš„çº¦æŸ</span>
    <span class="hljs-keyword">val</span> childConstraints = calculateChildConstraints(constraints)
    
    <span class="hljs-comment">// 2. è®©å­èŠ‚ç‚¹æµ‹é‡è‡ªå·±</span>
    <span class="hljs-keyword">val</span> placeable = child.measure(childConstraints)
    
    <span class="hljs-comment">// 3. è¿”å›æµ‹é‡ç»“æœï¼ˆPlaceableï¼‰</span>
    <span class="hljs-keyword">return</span> placeable
}
</code></pre>
<p><strong>å®Œæ•´æµ‹é‡æµç¨‹ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">MeasureDemo</span><span class="hljs-params">()</span></span> {
    Layout(
        content = {
            Text(<span class="hljs-string">"Child 1"</span>)
            Text(<span class="hljs-string">"Child 2"</span>)
        }
    ) { measurables, constraints -&gt;
        <span class="hljs-comment">// constraints: çˆ¶èŠ‚ç‚¹ç»™å½“å‰èŠ‚ç‚¹çš„çº¦æŸ</span>
        println(<span class="hljs-string">"çˆ¶çº¦æŸ: minW=<span class="hljs-subst">${constraints.minWidth}</span>, maxW=<span class="hljs-subst">${constraints.maxWidth}</span>"</span>)
        
        <span class="hljs-comment">// æµ‹é‡å­èŠ‚ç‚¹</span>
        <span class="hljs-keyword">val</span> placeables = measurables.map { measurable -&gt;
            <span class="hljs-comment">// å¯ä»¥ç»™å­èŠ‚ç‚¹ä¸åŒçš„çº¦æŸ</span>
            <span class="hljs-keyword">val</span> childConstraints = Constraints(
                minWidth = <span class="hljs-number">0</span>,
                maxWidth = constraints.maxWidth / <span class="hljs-number">2</span>,  <span class="hljs-comment">// æ¯ä¸ªå­èŠ‚ç‚¹æœ€å¤šä¸€åŠå®½åº¦</span>
                minHeight = <span class="hljs-number">0</span>,
                maxHeight = constraints.maxHeight
            )
            measurable.measure(childConstraints)
        }
        
        <span class="hljs-comment">// è®¡ç®—è‡ªå·±çš„å°ºå¯¸</span>
        <span class="hljs-keyword">val</span> width = placeables.sumOf { it.width }
        <span class="hljs-keyword">val</span> height = placeables.maxOf { it.height }
        
        <span class="hljs-comment">// å¸ƒå±€</span>
        layout(width, height) {
            <span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>
            placeables.forEach { placeable -&gt;
                placeable.placeRelative(x, <span class="hljs-number">0</span>)
                x += placeable.width
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-27">2.5 Column çš„æµ‹é‡ä¸å¸ƒå±€åŸç†</h3>
<p>è®©æˆ‘ä»¬æ·±å…¥åˆ†æ Column çš„å®ç°ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Column çš„ç®€åŒ–å®ç°</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Column</span><span class="hljs-params">(
    modifier: <span class="hljs-type">Modifier</span> = Modifier,
    verticalArrangement: <span class="hljs-type">Arrangement</span>.<span class="hljs-type">Vertical</span> = Arrangement.Top,
    horizontalAlignment: <span class="hljs-type">Alignment</span>.<span class="hljs-type">Horizontal</span> = Alignment.Start,
    content: @<span class="hljs-type">Composable</span> <span class="hljs-type">ColumnScope</span>.() -&gt; <span class="hljs-type">Unit</span>
)</span></span> {
    <span class="hljs-keyword">val</span> measurePolicy = columnMeasurePolicy(
        verticalArrangement = verticalArrangement,
        horizontalAlignment = horizontalAlignment
    )
    
    Layout(
        content = { ColumnScopeInstance.content() },
        measurePolicy = measurePolicy,
        modifier = modifier
    )
}

<span class="hljs-comment">// Column çš„æµ‹é‡ç­–ç•¥</span>
<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">columnMeasurePolicy</span><span class="hljs-params">(
    verticalArrangement: <span class="hljs-type">Arrangement</span>.<span class="hljs-type">Vertical</span>,
    horizontalAlignment: <span class="hljs-type">Alignment</span>.<span class="hljs-type">Horizontal</span>
)</span></span>: MeasurePolicy = MeasurePolicy { measurables, constraints -&gt;
    <span class="hljs-comment">// 1. æµ‹é‡æ‰€æœ‰å­å…ƒç´ </span>
    <span class="hljs-keyword">val</span> placeables = measurables.map { measurable -&gt;
        measurable.measure(constraints)
    }
    
    <span class="hljs-comment">// 2. è®¡ç®— Column çš„å°ºå¯¸</span>
    <span class="hljs-keyword">val</span> width = placeables.maxOf { it.width }
        .coerceIn(constraints.minWidth, constraints.maxWidth)
    
    <span class="hljs-keyword">val</span> height = placeables.sumOf { it.height }
        .coerceIn(constraints.minHeight, constraints.maxHeight)
    
    <span class="hljs-comment">// 3. è®¡ç®—å‚ç›´ä½ç½®ï¼ˆæ ¹æ® Arrangementï¼‰</span>
    <span class="hljs-keyword">val</span> positions = verticalArrangement.arrange(
        totalSize = height,
        sizes = placeables.map { it.height },
        layoutDirection = layoutDirection
    )
    
    <span class="hljs-comment">// 4. å¸ƒå±€</span>
    layout(width, height) {
        placeables.forEachIndexed { index, placeable -&gt;
            <span class="hljs-comment">// è®¡ç®—æ°´å¹³ä½ç½®ï¼ˆæ ¹æ® Alignmentï¼‰</span>
            <span class="hljs-keyword">val</span> x = horizontalAlignment.align(
                size = placeable.width,
                space = width,
                layoutDirection = layoutDirection
            )
            placeable.placeRelative(x, positions[index])
        }
    }
}
</code></pre>
<p><strong>å…³é”®è®¾è®¡</strong>ï¼š</p>
<ul>
<li>Column ç»™å­å…ƒç´ çš„çº¦æŸæ˜¯<strong>å®Œæ•´çš„çˆ¶çº¦æŸ</strong>ï¼Œå­å…ƒç´ å¯ä»¥å†³å®šè‡ªå·±çš„é«˜åº¦</li>
<li>Column çš„æ€»é«˜åº¦æ˜¯å­å…ƒç´ é«˜åº¦ä¹‹å’Œ</li>
<li>Arrangement å†³å®šå­å…ƒç´ çš„å‚ç›´åˆ†å¸ƒ</li>
<li>Alignment å†³å®šå­å…ƒç´ çš„æ°´å¹³å¯¹é½</li>
</ul>
<h3 data-id="heading-28">2.6 Row çš„æµ‹é‡ä¸å¸ƒå±€åŸç†</h3>
<p>Row ä¸ Column ç±»ä¼¼ï¼Œåªæ˜¯æ–¹å‘ä¸åŒï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Row çš„æµ‹é‡ç­–ç•¥</span>
<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">rowMeasurePolicy</span><span class="hljs-params">(
    horizontalArrangement: <span class="hljs-type">Arrangement</span>.<span class="hljs-type">Horizontal</span>,
    verticalAlignment: <span class="hljs-type">Alignment</span>.<span class="hljs-type">Vertical</span>
)</span></span>: MeasurePolicy = MeasurePolicy { measurables, constraints -&gt;
    <span class="hljs-comment">// 1. æµ‹é‡æ‰€æœ‰å­å…ƒç´ </span>
    <span class="hljs-keyword">val</span> placeables = measurables.map { measurable -&gt;
        measurable.measure(constraints)
    }
    
    <span class="hljs-comment">// 2. è®¡ç®— Row çš„å°ºå¯¸</span>
    <span class="hljs-keyword">val</span> width = placeables.sumOf { it.width }
        .coerceIn(constraints.minWidth, constraints.maxWidth)
    
    <span class="hljs-keyword">val</span> height = placeables.maxOf { it.height }
        .coerceIn(constraints.minHeight, constraints.maxHeight)
    
    <span class="hljs-comment">// 3. è®¡ç®—æ°´å¹³ä½ç½®ï¼ˆæ ¹æ® Arrangementï¼‰</span>
    <span class="hljs-keyword">val</span> positions = horizontalArrangement.arrange(
        totalSize = width,
        sizes = placeables.map { it.width },
        layoutDirection = layoutDirection
    )
    
    <span class="hljs-comment">// 4. å¸ƒå±€</span>
    layout(width, height) {
        placeables.forEachIndexed { index, placeable -&gt;
            <span class="hljs-comment">// è®¡ç®—å‚ç›´ä½ç½®ï¼ˆæ ¹æ® Alignmentï¼‰</span>
            <span class="hljs-keyword">val</span> y = verticalAlignment.align(
                size = placeable.height,
                space = height
            )
            placeable.placeRelative(positions[index], y)
        }
    }
}
</code></pre>
<h3 data-id="heading-29">2.7 Box çš„æµ‹é‡ä¸å¸ƒå±€åŸç†</h3>
<p>Box æ˜¯å±‚å å¸ƒå±€ï¼Œå­å…ƒç´ å¯ä»¥é‡å ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// Box çš„æµ‹é‡ç­–ç•¥</span>
<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">boxMeasurePolicy</span><span class="hljs-params">(alignment: <span class="hljs-type">Alignment</span>)</span></span>: MeasurePolicy = 
    MeasurePolicy { measurables, constraints -&gt;
        <span class="hljs-comment">// 1. æµ‹é‡æ‰€æœ‰å­å…ƒç´ </span>
        <span class="hljs-keyword">val</span> placeables = measurables.map { measurable -&gt;
            measurable.measure(constraints)
        }
        
        <span class="hljs-comment">// 2. è®¡ç®— Box çš„å°ºå¯¸</span>
        <span class="hljs-keyword">val</span> width = placeables.maxOf { it.width }
            .coerceIn(constraints.minWidth, constraints.maxWidth)
        
        <span class="hljs-keyword">val</span> height = placeables.maxOf { it.height }
            .coerceIn(constraints.minHeight, constraints.maxHeight)
        
        <span class="hljs-comment">// 3. å¸ƒå±€ï¼ˆæ‰€æœ‰å­å…ƒç´ éƒ½ä½¿ç”¨ç›¸åŒçš„å¯¹é½æ–¹å¼ï¼‰</span>
        layout(width, height) {
            placeables.forEach { placeable -&gt;
                <span class="hljs-keyword">val</span> x = alignment.align(
                    size = placeable.width,
                    space = width,
                    layoutDirection = layoutDirection
                )
                <span class="hljs-keyword">val</span> y = alignment.align(
                    size = placeable.height,
                    space = height
                )
                placeable.placeRelative(x, y)
            }
        }
    }
</code></pre>
<p><strong>Box çš„ç‰¹æ®Šä¹‹å¤„</strong>ï¼š</p>
<ul>
<li>æ‰€æœ‰å­å…ƒç´ éƒ½æµ‹é‡ä¸ºæœ€å¤§å°ºå¯¸</li>
<li>å­å…ƒç´ é»˜è®¤ä½¿ç”¨ contentAlignment å¯¹é½</li>
<li>å¯ä»¥å•ç‹¬æŒ‡å®šå­å…ƒç´ çš„å¯¹é½æ–¹å¼ï¼ˆä½¿ç”¨ Modifier.alignï¼‰</li>
</ul>
<h3 data-id="heading-30">2.8 è‡ªå®šä¹‰ Layout çš„è®¾è®¡æ€è·¯</h3>
<h4 data-id="heading-31">2.8.1 è®¾è®¡è‡ªå®šä¹‰å¸ƒå±€çš„æ­¥éª¤</h4>
<ol>
<li><strong>æ˜ç¡®éœ€æ±‚</strong>ï¼šè¦å®ç°ä»€ä¹ˆæ ·çš„å¸ƒå±€æ•ˆæœï¼Ÿ</li>
<li><strong>ç¡®å®šçº¦æŸ</strong>ï¼šå­å…ƒç´ çš„å°ºå¯¸å¦‚ä½•ç¡®å®šï¼Ÿ</li>
<li><strong>è®¾è®¡æµ‹é‡ç­–ç•¥</strong>ï¼šå¦‚ä½•æµ‹é‡å­å…ƒç´ ï¼Ÿ</li>
<li><strong>è®¾è®¡å¸ƒå±€ç­–ç•¥</strong>ï¼šå­å…ƒç´ å¦‚ä½•æ’åˆ—ï¼Ÿ</li>
</ol>
<h4 data-id="heading-32">2.8.2 å®æˆ˜ï¼šè‡ªå®šä¹‰ç€‘å¸ƒæµå¸ƒå±€</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * ç€‘å¸ƒæµå¸ƒå±€ï¼ˆStaggeredGridï¼‰
 * 
 * è®¾è®¡æ€è·¯ï¼š
 * 1. å°†å­å…ƒç´ åˆ†é…åˆ°å¤šåˆ—ä¸­
 * 2. æ¯åˆ—ç‹¬ç«‹è®¡ç®—é«˜åº¦
 * 3. æ–°å…ƒç´ æ·»åŠ åˆ°æœ€çŸ­çš„åˆ—
 */</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">StaggeredGrid</span><span class="hljs-params">(
    columns: <span class="hljs-type">Int</span> = <span class="hljs-number">2</span>,
    horizontalGap: <span class="hljs-type">Dp</span> = <span class="hljs-number">8.</span>dp,
    verticalGap: <span class="hljs-type">Dp</span> = <span class="hljs-number">8.</span>dp,
    modifier: <span class="hljs-type">Modifier</span> = Modifier,
    content: @<span class="hljs-type">Composable</span> () -&gt; <span class="hljs-type">Unit</span>
)</span></span> {
    Layout(
        content = content,
        modifier = modifier
    ) { measurables, constraints -&gt;
        <span class="hljs-keyword">val</span> hGapPx = horizontalGap.roundToPx()
        <span class="hljs-keyword">val</span> vGapPx = verticalGap.roundToPx()
        
        <span class="hljs-comment">// è®¡ç®—æ¯åˆ—çš„å®½åº¦</span>
        <span class="hljs-keyword">val</span> columnWidth = (constraints.maxWidth - (columns - <span class="hljs-number">1</span>) * hGapPx) / columns
        
        <span class="hljs-comment">// åˆ›å»ºåˆ—é«˜åº¦è¿½è¸ªå™¨</span>
        <span class="hljs-keyword">val</span> columnHeights = IntArray(columns) { <span class="hljs-number">0</span> }
        
        <span class="hljs-comment">// å­˜å‚¨æ¯ä¸ªå­å…ƒç´ çš„ä½ç½®ä¿¡æ¯</span>
        <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ItemInfo</span>(
            <span class="hljs-keyword">val</span> placeable: Placeable,
            <span class="hljs-keyword">val</span> column: <span class="hljs-built_in">Int</span>,
            <span class="hljs-keyword">val</span> x: <span class="hljs-built_in">Int</span>,
            <span class="hljs-keyword">val</span> y: <span class="hljs-built_in">Int</span>
        )
        
        <span class="hljs-keyword">val</span> itemInfos = mutableListOf&lt;ItemInfo&gt;()
        
        <span class="hljs-comment">// æµ‹é‡å¹¶æ”¾ç½®æ¯ä¸ªå­å…ƒç´ </span>
        measurables.forEach { measurable -&gt;
            <span class="hljs-comment">// æµ‹é‡å­å…ƒç´ ï¼ˆå®½åº¦å›ºå®šä¸ºåˆ—å®½ï¼Œé«˜åº¦ä¸é™ï¼‰</span>
            <span class="hljs-keyword">val</span> placeable = measurable.measure(
                Constraints.fixedWidth(columnWidth)
            )
            
            <span class="hljs-comment">// æ‰¾åˆ°æœ€çŸ­çš„åˆ—</span>
            <span class="hljs-keyword">val</span> shortestColumn = columnHeights.indices.minByOrNull { columnHeights[it] } ?: <span class="hljs-number">0</span>
            
            <span class="hljs-comment">// è®¡ç®—ä½ç½®</span>
            <span class="hljs-keyword">val</span> x = shortestColumn * (columnWidth + hGapPx)
            <span class="hljs-keyword">val</span> y = columnHeights[shortestColumn]
            
            <span class="hljs-comment">// æ›´æ–°åˆ—é«˜åº¦</span>
            columnHeights[shortestColumn] += placeable.height + vGapPx
            
            itemInfos.add(ItemInfo(placeable, shortestColumn, x, y))
        }
        
        <span class="hljs-comment">// è®¡ç®—æ€»é«˜åº¦ï¼ˆæœ€é«˜åˆ—çš„é«˜åº¦ï¼‰</span>
        <span class="hljs-keyword">val</span> totalHeight = columnHeights.maxOrNull()?.let { 
            it - vGapPx  <span class="hljs-comment">// å‡å»æœ€åä¸€ä¸ªé—´éš™</span>
        } ?: <span class="hljs-number">0</span>
        
        <span class="hljs-comment">// å¸ƒå±€</span>
        layout(constraints.maxWidth, totalHeight.coerceIn(constraints.minHeight, constraints.maxHeight)) {
            itemInfos.forEach { info -&gt;
                info.placeable.placeRelative(info.x, info.y)
            }
        }
    }
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">StaggeredGridDemo</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> items = listOf(
        <span class="hljs-string">"çŸ­æ–‡æœ¬"</span> to <span class="hljs-number">80</span>,
        <span class="hljs-string">"è¿™æ˜¯ä¸€ä¸ªæ¯”è¾ƒé•¿çš„æ–‡æœ¬å†…å®¹"</span> to <span class="hljs-number">120</span>,
        <span class="hljs-string">"ä¸­ç­‰"</span> to <span class="hljs-number">100</span>,
        <span class="hljs-string">"å¾ˆé•¿å¾ˆé•¿å¾ˆé•¿çš„æ–‡æœ¬å†…å®¹åœ¨è¿™é‡Œ"</span> to <span class="hljs-number">150</span>,
        <span class="hljs-string">"çŸ­"</span> to <span class="hljs-number">60</span>,
    )
    
    StaggeredGrid(
        columns = <span class="hljs-number">2</span>,
        horizontalGap = <span class="hljs-number">8.</span>dp,
        verticalGap = <span class="hljs-number">8.</span>dp,
        modifier = Modifier.fillMaxWidth()
    ) {
        items.forEach { (text, height) -&gt;
            Card(
                modifier = Modifier.height(height.dp)
            ) {
                Text(
                    text = text,
                    modifier = Modifier.padding(<span class="hljs-number">8.</span>dp)
                )
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-33">2.9 SubcomposeLayoutï¼šå»¶è¿Ÿç»„åˆ</h3>
<p>SubcomposeLayout å…è®¸åœ¨æµ‹é‡é˜¶æ®µåŠ¨æ€åˆ›å»ºå­å…ƒç´ ï¼Œè¿™åœ¨æŸäº›åœºæ™¯ä¸‹éå¸¸æœ‰ç”¨ã€‚</p>
<h4 data-id="heading-34">2.9.1 ä½¿ç”¨åœºæ™¯</h4>
<ol>
<li><strong>æ ¹æ®æµ‹é‡ç»“æœå†³å®šå­å…ƒç´ å†…å®¹</strong></li>
<li><strong>å®ç°å¤æ‚çš„è‡ªé€‚åº”å¸ƒå±€</strong></li>
<li><strong>åŠ¨æ€åŠ è½½å†…å®¹</strong></li>
</ol>
<h4 data-id="heading-35">2.9.2 å®æˆ˜ï¼šå“åº”å¼æ–‡æœ¬</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">/**
 * å“åº”å¼æ–‡æœ¬ï¼šæ ¹æ®å¯ç”¨å®½åº¦è‡ªåŠ¨è°ƒæ•´å­—ä½“å¤§å°
 */</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ResponsiveText</span><span class="hljs-params">(
    text: <span class="hljs-type">String</span>,
    modifier: <span class="hljs-type">Modifier</span> = Modifier,
    minFontSize: <span class="hljs-type">TextUnit</span> = <span class="hljs-number">12.</span>sp,
    maxFontSize: <span class="hljs-type">TextUnit</span> = <span class="hljs-number">48.</span>sp
)</span></span> {
    SubcomposeLayout(modifier = modifier) { constraints -&gt;
        <span class="hljs-keyword">var</span> fontSize = maxFontSize
        <span class="hljs-keyword">var</span> placeable: Placeable? = <span class="hljs-literal">null</span>
        
        <span class="hljs-comment">// äºŒåˆ†æŸ¥æ‰¾åˆé€‚çš„å­—ä½“å¤§å°</span>
        <span class="hljs-keyword">while</span> (fontSize &gt;= minFontSize) {
            <span class="hljs-keyword">val</span> measurable = subcompose(<span class="hljs-string">"text_<span class="hljs-variable">$fontSize</span>"</span>) {
                Text(
                    text = text,
                    fontSize = fontSize,
                    maxLines = <span class="hljs-number">1</span>
                )
            }[<span class="hljs-number">0</span>]
            
            <span class="hljs-keyword">val</span> testPlaceable = measurable.measure(constraints)
            
            <span class="hljs-keyword">if</span> (testPlaceable.width &lt;= constraints.maxWidth) {
                placeable = testPlaceable
                <span class="hljs-keyword">break</span>
            }
            
            fontSize *= <span class="hljs-number">0.9f</span>
        }
        
        placeable = placeable ?: subcompose(<span class="hljs-string">"text_min"</span>) {
            Text(text = text, fontSize = minFontSize, maxLines = <span class="hljs-number">1</span>)
        }[<span class="hljs-number">0</span>].measure(constraints)
        
        layout(placeable.width, placeable.height) {
            placeable.placeRelative(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
        }
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-36">ä¸‰ã€LazyColumn æ·±åº¦è§£æï¼šæƒ°æ€§åŠ è½½çš„è‰ºæœ¯</h2>
<h3 data-id="heading-37">3.1 ä¸ºä»€ä¹ˆéœ€è¦æƒ°æ€§åŠ è½½ï¼Ÿ</h3>
<p>å‡è®¾æˆ‘ä»¬è¦æ˜¾ç¤º 10000 æ¡æ•°æ®çš„åˆ—è¡¨ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½¿ç”¨æ™®é€š Column - ä¼šåˆ›å»º 10000 ä¸ª Text ç»„ä»¶ï¼</span>
Column {
    repeat(<span class="hljs-number">10000</span>) { index -&gt;
        Text(<span class="hljs-string">"Item <span class="hljs-variable">$index</span>"</span>)
    }
}
</code></pre>
<p><strong>é—®é¢˜</strong>ï¼š</p>
<ul>
<li>å†…å­˜å ç”¨ï¼š10000 ä¸ª Text ç»„ä»¶åŒæ—¶å­˜åœ¨</li>
<li>é¦–æ¬¡åŠ è½½ï¼šéœ€è¦æµ‹é‡å’Œå¸ƒå±€æ‰€æœ‰ item</li>
<li>æ»‘åŠ¨æ€§èƒ½ï¼šå¤§é‡è§†å›¾å‚ä¸ç»˜åˆ¶</li>
</ul>
<h3 data-id="heading-38">3.2 LazyColumn çš„è§£å†³æ–¹æ¡ˆ</h3>
<p>LazyColumn é‡‡ç”¨<strong>è§†å£æ¸²æŸ“ + å¯¹è±¡æ± å¤ç”¨</strong>ç­–ç•¥ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     LazyColumn è§†å£                            â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚                    å¯è§åŒºåŸŸ (Viewport)                  â”‚     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚     â”‚
â”‚  â”‚  â”‚ Item <span class="hljs-number">5</span>  â”‚  â”‚ Item <span class="hljs-number">6</span>  â”‚  â”‚ Item <span class="hljs-number">7</span>  â”‚  â”‚ Item <span class="hljs-number">8</span>  â”‚  â”‚     â”‚
â”‚  â”‚  â”‚ (å¯è§)  â”‚  â”‚ (å¯è§)  â”‚  â”‚ (å¯è§)  â”‚  â”‚ (å¯è§)  â”‚  â”‚     â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                â”‚
â”‚  Item <span class="hljs-number">1</span>-<span class="hljs-number">4</span>: å·²æ»‘å‡ºè§†å£ï¼Œç»„ä»¶è¢«å›æ”¶ï¼ŒçŠ¶æ€ä¿å­˜                      â”‚
â”‚  Item <span class="hljs-number">9</span>+:  æœªè¿›å…¥è§†å£ï¼Œç»„ä»¶æœªåˆ›å»º                                â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-39">3.3 LazyColumn çš„æ¶æ„è®¾è®¡</h3>
<pre><code class="hljs language-scss" lang="scss">LazyColumn
â”œâ”€â”€ LazyListState          (çŠ¶æ€ç®¡ç†)
â”‚   â”œâ”€â”€ firstVisibleItemIndex
â”‚   â”œâ”€â”€ firstVisibleItemScrollOffset
â”‚   â””â”€â”€ layoutInfo
â”œâ”€â”€ LazyListLayoutInfo     (å¸ƒå±€ä¿¡æ¯)
â”‚   â”œâ”€â”€ visibleItemsInfo   (å¯è§ item ä¿¡æ¯)
â”‚   â”œâ”€â”€ totalItemsCount
â”‚   â””â”€â”€ viewportSize
â””â”€â”€ LazyListItemProvider   (Item æä¾›å™¨)
    â””â”€â”€ itemProvider       (æ ¹æ®ç´¢å¼•åˆ›å»º item)
</code></pre>
<h3 data-id="heading-40">3.4 æµ‹é‡ä¸å¸ƒå±€æµç¨‹</h3>
<p>LazyColumn çš„æµ‹é‡æµç¨‹ä¸æ™®é€š Layout ä¸åŒï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// LazyColumn çš„æµ‹é‡ç­–ç•¥ï¼ˆç®€åŒ–ç‰ˆï¼‰</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">measureLazyList</span><span class="hljs-params">(constraints: <span class="hljs-type">Constraints</span>)</span></span>: MeasureResult {
    <span class="hljs-comment">// 1. è®¡ç®—è§†å£å¤§å°</span>
    <span class="hljs-keyword">val</span> viewportWidth = constraints.maxWidth
    <span class="hljs-keyword">val</span> viewportHeight = constraints.maxHeight
    
    <span class="hljs-comment">// 2. ç¡®å®šå¯è§ item èŒƒå›´</span>
    <span class="hljs-keyword">val</span> firstVisibleIndex = calculateFirstVisibleItem()
    <span class="hljs-keyword">val</span> lastVisibleIndex = calculateLastVisibleItem(viewportHeight)
    
    <span class="hljs-comment">// 3. æµ‹é‡å¯è§ item</span>
    <span class="hljs-keyword">val</span> visiblePlaceables = mutableListOf&lt;Placeable&gt;()
    <span class="hljs-keyword">for</span> (index <span class="hljs-keyword">in</span> firstVisibleIndex..lastVisibleIndex) {
        <span class="hljs-keyword">val</span> placeable = measureItem(index, constraints)
        visiblePlaceables.add(placeable)
    }
    
    <span class="hljs-comment">// 4. è®¡ç®—æ€»é«˜åº¦ï¼ˆé¢„ä¼°ï¼‰</span>
    <span class="hljs-keyword">val</span> totalHeight = <span class="hljs-keyword">if</span> (hasMoreItems) {
        estimateTotalHeight()
    } <span class="hljs-keyword">else</span> {
        visiblePlaceables.sumOf { it.height }
    }
    
    <span class="hljs-comment">// 5. å¸ƒå±€</span>
    <span class="hljs-keyword">return</span> layout(viewportWidth, totalHeight) {
        <span class="hljs-keyword">var</span> y = -scrollOffset
        visiblePlaceables.forEach { placeable -&gt;
            placeable.placeRelative(<span class="hljs-number">0</span>, y)
            y += placeable.height
        }
    }
}
</code></pre>
<h3 data-id="heading-41">3.5 key çš„ä½œç”¨ä¸ diff ç®—æ³•</h3>
<h4 data-id="heading-42">3.5.1 ä¸ºä»€ä¹ˆéœ€è¦ keyï¼Ÿ</h4>
<p>å½“åˆ—è¡¨æ•°æ®å˜åŒ–æ—¶ï¼ŒCompose éœ€è¦çŸ¥é“ï¼š</p>
<ul>
<li>å“ªäº› item æ˜¯æ–°å¢çš„ï¼Ÿ</li>
<li>å“ªäº› item è¢«åˆ é™¤äº†ï¼Ÿ</li>
<li>å“ªäº› item ç§»åŠ¨äº†ä½ç½®ï¼Ÿ</li>
</ul>
<p><strong>æ²¡æœ‰ key çš„é—®é¢˜</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å‡è®¾åˆ—è¡¨åˆå§‹çŠ¶æ€</span>
items = [A, B, C]

<span class="hljs-comment">// åˆ é™¤ A å</span>
items = [B, C]

<span class="hljs-comment">// æ²¡æœ‰ key æ—¶ï¼ŒCompose ä¼šè®¤ä¸ºï¼š</span>
<span class="hljs-comment">// - ä½ç½® 0 çš„å†…å®¹ä» A å˜æˆäº† B</span>
<span class="hljs-comment">// - ä½ç½® 1 çš„å†…å®¹ä» B å˜æˆäº† C</span>
<span class="hljs-comment">// - ä½ç½® 2 è¢«åˆ é™¤</span>
<span class="hljs-comment">// ç»“æœæ˜¯ï¼šB å’Œ C éƒ½ä¼šé‡ç»„ï¼ŒçŠ¶æ€ä¸¢å¤±ï¼</span>
</code></pre>
<p><strong>æœ‰ key æ—¶</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">items(items, key = { it.id }) { item -&gt;
    ItemCard(item)
}

<span class="hljs-comment">// åˆ é™¤ A å</span>
<span class="hljs-comment">// Compose çŸ¥é“ï¼š</span>
<span class="hljs-comment">// - A è¢«åˆ é™¤äº†</span>
<span class="hljs-comment">// - B å’Œ C åªæ˜¯ä½ç½®å˜äº†</span>
<span class="hljs-comment">// ç»“æœæ˜¯ï¼šåªæœ‰ A çš„ç»„ä»¶è¢«é”€æ¯ï¼ŒB å’Œ C åªæ˜¯ç§»åŠ¨ä½ç½®</span>
</code></pre>
<h4 data-id="heading-43">3.5.2 key çš„ diff ç®—æ³•</h4>
<p>Compose ä½¿ç”¨ç±»ä¼¼ React çš„ diff ç®—æ³•ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">æ—§åˆ—è¡¨: <span class="hljs-section">[A(key=1), B(key=2), C(key=3)]</span>
æ–°åˆ—è¡¨: <span class="hljs-section">[B(key=2), C(key=3), D(key=4)]</span>

Diff ç»“æœ:
<span class="hljs-attr">1. key</span>=<span class="hljs-number">1</span> çš„ A ä¸åœ¨æ–°åˆ—è¡¨ä¸­ â†’ åˆ é™¤ A
<span class="hljs-attr">2. key</span>=<span class="hljs-number">2</span> çš„ B åœ¨ä½ç½® <span class="hljs-number">0</span> â†’ ç§»åŠ¨åˆ°ä½ç½® <span class="hljs-number">0</span>
<span class="hljs-attr">3. key</span>=<span class="hljs-number">3</span> çš„ C åœ¨ä½ç½® <span class="hljs-number">1</span> â†’ ç§»åŠ¨åˆ°ä½ç½® <span class="hljs-number">1</span>  
<span class="hljs-attr">4. key</span>=<span class="hljs-number">4</span> çš„ D æ˜¯æ–°å…ƒç´  â†’ åˆ›å»º D
</code></pre>
<h3 data-id="heading-44">3.6 åˆ—è¡¨çŠ¶æ€ç®¡ç†</h3>
<h4 data-id="heading-45">3.6.1 è®°ä½æ»šåŠ¨ä½ç½®</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">LazyColumnWithState</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">// rememberLazyListState ä¼šè‡ªåŠ¨ä¿å­˜å’Œæ¢å¤æ»šåŠ¨ä½ç½®</span>
    <span class="hljs-keyword">val</span> listState = rememberLazyListState()
    
    LazyColumn(state = listState) {
        items(<span class="hljs-number">1000</span>) { index -&gt;
            Text(<span class="hljs-string">"Item <span class="hljs-variable">$index</span>"</span>)
        }
    }
    
    <span class="hljs-comment">// æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®</span>
    LaunchedEffect(<span class="hljs-built_in">Unit</span>) {
        listState.scrollToItem(<span class="hljs-number">100</span>)
    }
    
    <span class="hljs-comment">// å¹³æ»‘æ»šåŠ¨</span>
    scope.launch {
        listState.animateScrollToItem(<span class="hljs-number">100</span>)
    }
}
</code></pre>
<h4 data-id="heading-46">3.6.2 ç›‘å¬æ»šåŠ¨çŠ¶æ€</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">LazyColumnWithScrollListener</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> listState = rememberLazyListState()
    
    <span class="hljs-comment">// ä½¿ç”¨ derivedStateOf ä¼˜åŒ–é¢‘ç¹å˜åŒ–çš„çŠ¶æ€</span>
    <span class="hljs-keyword">val</span> firstVisibleItem <span class="hljs-keyword">by</span> remember {
        derivedStateOf { listState.firstVisibleItemIndex }
    }
    
    <span class="hljs-keyword">val</span> isScrolling <span class="hljs-keyword">by</span> remember {
        derivedStateOf { listState.isScrollInProgress }
    }
    
    <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦æ»‘åˆ°åº•éƒ¨</span>
    <span class="hljs-keyword">val</span> isAtBottom <span class="hljs-keyword">by</span> remember {
        derivedStateOf {
            <span class="hljs-keyword">val</span> layoutInfo = listState.layoutInfo
            <span class="hljs-keyword">val</span> visibleItems = layoutInfo.visibleItemsInfo
            <span class="hljs-keyword">val</span> lastVisibleItem = visibleItems.lastOrNull()
            
            lastVisibleItem != <span class="hljs-literal">null</span> &amp;&amp; 
            lastVisibleItem.index &gt;= layoutInfo.totalItemsCount - <span class="hljs-number">1</span>
        }
    }
    
    LazyColumn(state = listState) {
        <span class="hljs-comment">// ...</span>
    }
}
</code></pre>
<h3 data-id="heading-47">3.7 åˆ†é¡µåŠ è½½å®ç°</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">PaginatedList</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> listState = rememberLazyListState()
    <span class="hljs-keyword">var</span> items <span class="hljs-keyword">by</span> remember { mutableStateOf&lt;List&lt;Item&gt;&gt;(emptyList()) }
    <span class="hljs-keyword">var</span> isLoading <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-literal">false</span>) }
    <span class="hljs-keyword">var</span> hasMore <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-literal">true</span>) }
    
    <span class="hljs-comment">// ç›‘å¬æ˜¯å¦éœ€è¦åŠ è½½æ›´å¤š</span>
    <span class="hljs-keyword">val</span> shouldLoadMore <span class="hljs-keyword">by</span> remember {
        derivedStateOf {
            <span class="hljs-keyword">val</span> layoutInfo = listState.layoutInfo
            <span class="hljs-keyword">val</span> visibleItems = layoutInfo.visibleItemsInfo
            <span class="hljs-keyword">val</span> lastVisibleItem = visibleItems.lastOrNull()
            
            <span class="hljs-comment">// å½“æœ€åä¸€ä¸ªå¯è§ item æ˜¯å€’æ•°ç¬¬ 5 ä¸ªæ—¶ï¼Œå¼€å§‹åŠ è½½</span>
            lastVisibleItem != <span class="hljs-literal">null</span> &amp;&amp;
            lastVisibleItem.index &gt;= layoutInfo.totalItemsCount - <span class="hljs-number">5</span> &amp;&amp;
            !isLoading &amp;&amp; hasMore
        }
    }
    
    <span class="hljs-comment">// åŠ è½½æ•°æ®</span>
    LaunchedEffect(shouldLoadMore) {
        <span class="hljs-keyword">if</span> (shouldLoadMore) {
            isLoading = <span class="hljs-literal">true</span>
            <span class="hljs-keyword">val</span> newItems = repository.loadMore(items.size, pageSize = <span class="hljs-number">20</span>)
            items = items + newItems
            hasMore = newItems.size &gt;= <span class="hljs-number">20</span>
            isLoading = <span class="hljs-literal">false</span>
        }
    }
    
    LazyColumn(state = listState) {
        items(items, key = { it.id }) { item -&gt;
            ItemCard(item)
        }
        
        <span class="hljs-keyword">if</span> (isLoading) {
            item {
                Box(
                    modifier = Modifier
                        .fillMaxWidth()
                        .padding(<span class="hljs-number">16.</span>dp),
                    contentAlignment = Alignment.Center
                ) {
                    CircularProgressIndicator()
                }
            }
        }
    }
}
</code></pre>
<h3 data-id="heading-48">3.8 æ€§èƒ½ä¼˜åŒ–æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-49">3.8.1 ä½¿ç”¨ key</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨ key</span>
items(dataList, key = { it.id }) { item -&gt;
    ItemCard(item)
}

<span class="hljs-comment">// âŒ é”™è¯¯ï¼šä¸ä½¿ç”¨ key</span>
items(dataList) { item -&gt;
    ItemCard(item)
}
</code></pre>
<h4 data-id="heading-50">3.8.2 é¿å…åœ¨ item ä¸­åˆ›å»ºæ–°çš„å¯¹è±¡</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ¯æ¬¡é‡ç»„éƒ½åˆ›å»ºæ–°çš„ lambda</span>
items(dataList, key = { it.id }) { item -&gt;
    ItemCard(
        item = item,
        onClick = { viewModel.onItemClick(item) }  <span class="hljs-comment">// æ¯æ¬¡é‡ç»„éƒ½åˆ›å»º</span>
    )
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨ remember ç¼“å­˜ lambda</span>
items(dataList, key = { it.id }) { item -&gt;
    <span class="hljs-keyword">val</span> onClick = remember(item.id) {
        { viewModel.onItemClick(item) }
    }
    ItemCard(item = item, onClick = onClick)
}
</code></pre>
<h4 data-id="heading-51">3.8.3 ä½¿ç”¨ contentType ä¼˜åŒ–ä¸åŒç±»å‹ item</h4>
<pre><code class="hljs language-kotlin" lang="kotlin">LazyColumn {
    items(
        items = mixedList,
        key = { it.id },
        contentType = { it.type }  <span class="hljs-comment">// å¸®åŠ© Compose å¤ç”¨ item</span>
    ) { item -&gt;
        <span class="hljs-keyword">when</span> (item.type) {
            Type.HEADER -&gt; HeaderItem(item)
            Type.CONTENT -&gt; ContentItem(item)
            Type.FOOTER -&gt; FooterItem(item)
        }
    }
}
</code></pre>
<h4 data-id="heading-52">3.8.4 åˆç†ä½¿ç”¨ remember ç¼“å­˜è®¡ç®—</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ItemCard</span><span class="hljs-params">(item: <span class="hljs-type">Item</span>)</span></span> {
    <span class="hljs-comment">// âœ… ç¼“å­˜æ ¼å¼åŒ–åçš„ä»·æ ¼</span>
    <span class="hljs-keyword">val</span> formattedPrice = remember(item.price) {
        NumberFormat.getCurrencyInstance().format(item.price)
    }
    
    <span class="hljs-comment">// âœ… ç¼“å­˜æ¸å˜ Brush</span>
    <span class="hljs-keyword">val</span> gradient = remember(item.color) {
        Brush.linearGradient(
            colors = listOf(item.color, item.color.copy(alpha = <span class="hljs-number">0.5f</span>))
        )
    }
    
    Text(text = formattedPrice)
}
</code></pre>
<hr/>
<h2 data-id="heading-53">å››ã€ConstraintLayout æ·±åº¦è§£æ</h2>
<h3 data-id="heading-54">4.1 ConstraintLayout çš„è®¾è®¡å“²å­¦</h3>
<p>ConstraintLayout çš„æ ¸å¿ƒæ€æƒ³æ˜¯<strong>é€šè¿‡çº¦æŸæ¡ä»¶æè¿°å¸ƒå±€</strong>ï¼Œè€Œä¸æ˜¯é€šè¿‡åµŒå¥—å±‚æ¬¡ã€‚</p>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>æ‰å¹³çš„è§†å›¾å±‚çº§ï¼ˆé€šå¸¸åªæœ‰ä¸€å±‚ï¼‰</li>
<li>çµæ´»çš„ç›¸å¯¹å®šä½</li>
<li>æ›´å¥½çš„æ€§èƒ½ï¼ˆå‡å°‘æµ‹é‡æ¬¡æ•°ï¼‰</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å¤æ‚çš„è¡¨å•é¡µé¢</li>
<li>éœ€è¦ç›¸å¯¹å®šä½çš„å¸ƒå±€</li>
<li>éœ€è¦åŠ¨æ€è°ƒæ•´ä½ç½®çš„å…ƒç´ </li>
</ul>
<h3 data-id="heading-55">4.2 çº¦æŸæ±‚è§£åŸç†</h3>
<p>ConstraintLayout çš„å¸ƒå±€è¿‡ç¨‹å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ª<strong>çº¦æŸæ±‚è§£é—®é¢˜</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">å˜é‡ï¼šæ¯ä¸ª View çš„ x, y, <span class="hljs-attribute">width</span>, <span class="hljs-attribute">height</span>
çº¦æŸæ¡ä»¶ï¼š
  - View <span class="hljs-selector-tag">A</span> çš„å·¦è¾¹ä¸çˆ¶å¸ƒå±€å·¦è¾¹å¯¹é½
  - View <span class="hljs-selector-tag">B</span> çš„å·¦è¾¹ä¸ View <span class="hljs-selector-tag">A</span> çš„å³è¾¹å¯¹é½
  - View C åœ¨çˆ¶å¸ƒå±€ä¸­æ°´å¹³å±…ä¸­
  - ...

æ±‚è§£ç›®æ ‡ï¼šæ‰¾åˆ°æ»¡è¶³æ‰€æœ‰çº¦æŸçš„ x, y, <span class="hljs-attribute">width</span>, <span class="hljs-attribute">height</span>
</code></pre>
<h3 data-id="heading-56">4.3 ä¸åµŒå¥—å¸ƒå±€çš„é€‰æ‹©ç­–ç•¥</h3>



































<table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th><th>ç†ç”±</th></tr></thead><tbody><tr><td>ç®€å•çº¿æ€§æ’åˆ—</td><td>Column/Row</td><td>ä»£ç æ›´ç®€æ´ï¼Œè¯­ä¹‰æ›´æ¸…æ™°</td></tr><tr><td>éœ€è¦ç›¸å¯¹å®šä½</td><td>ConstraintLayout</td><td>å‡å°‘åµŒå¥—å±‚çº§</td></tr><tr><td>å¤æ‚è¡¨å•</td><td>ConstraintLayout</td><td>æ ‡ç­¾å’Œè¾“å…¥æ¡†å¯¹é½æ›´æ–¹ä¾¿</td></tr><tr><td>åˆ—è¡¨é¡¹</td><td>Column/Row</td><td>æ€§èƒ½æ›´å¥½ï¼Œä»£ç æ›´æ˜“è¯»</td></tr><tr><td>éœ€è¦åŠ¨æ€ä½ç½®</td><td>ConstraintLayout</td><td>çº¦æŸå¯ä»¥åŠ¨æ€ä¿®æ”¹</td></tr></tbody></table>
<h3 data-id="heading-57">4.4 æ€§èƒ½å¯¹æ¯”</h3>
<pre><code class="hljs language-diff" lang="diff">åœºæ™¯ï¼šä¸€ä¸ªåŒ…å« 10 ä¸ªå­å…ƒç´ çš„å¤æ‚å¸ƒå±€

åµŒå¥— Column + Row:
<span class="hljs-deletion">- æµ‹é‡æ¬¡æ•°ï¼šO(nÂ²) çº§åˆ«</span>
<span class="hljs-deletion">- è§†å›¾å±‚çº§ï¼š3-4 å±‚</span>

ConstraintLayout:
<span class="hljs-deletion">- æµ‹é‡æ¬¡æ•°ï¼šO(n) çº§åˆ«</span>
<span class="hljs-deletion">- è§†å›¾å±‚çº§ï¼š1 å±‚</span>
</code></pre>
<p><strong>å»ºè®®</strong>ï¼š</p>
<ul>
<li>ç®€å•å¸ƒå±€ä¼˜å…ˆä½¿ç”¨ Column/Row</li>
<li>å¤æ‚å¸ƒå±€è€ƒè™‘ ConstraintLayout</li>
<li>ä¸è¦è¿‡åº¦ä¼˜åŒ–ï¼Œå…ˆä¿è¯ä»£ç å¯è¯»æ€§</li>
</ul>
<hr/>
<h2 data-id="heading-58">äº”ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>
<h3 data-id="heading-59">5.1 Modifier ç›¸å…³é—®é¢˜</h3>
<p><strong>Q: ä¸ºä»€ä¹ˆ Modifier.padding() å’Œ Modifier.background() çš„é¡ºåºä¼šå½±å“æ•ˆæœï¼Ÿ</strong></p>
<p>A: å› ä¸º Modifier æ˜¯ä»å¤–åˆ°å†…æ‰§è¡Œçš„ã€‚å…ˆåº”ç”¨çš„ Modifier åœ¨å¤–å±‚ï¼Œååº”ç”¨çš„åœ¨å†…å±‚ã€‚</p>
<p><strong>Q: å¦‚ä½•å®ç°ç‚¹å‡»åŒºåŸŸæ¯”å®é™… View å¤§ï¼Ÿ</strong></p>
<p>A: ä½¿ç”¨ <code>Modifier.clickable</code> é…åˆ <code>Modifier.padding</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">Box(
    modifier = Modifier
        .clickable { <span class="hljs-comment">/* ç‚¹å‡»å¤„ç† */</span> }
        .padding(<span class="hljs-number">16.</span>dp)  <span class="hljs-comment">// ç‚¹å‡»åŒºåŸŸåŒ…å« padding</span>
        .background(Color.Blue)
) {
    Text(<span class="hljs-string">"Click me"</span>)
}
</code></pre>
<h3 data-id="heading-60">5.2 å¸ƒå±€ç›¸å…³é—®é¢˜</h3>
<p><strong>Q: å¦‚ä½•å®ç°å®½é«˜æ¯”å›ºå®šçš„ç»„ä»¶ï¼Ÿ</strong></p>
<p>A: ä½¿ç”¨ <code>AspectRatio</code> Modifierï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">Image(
    painter = painterResource(R.drawable.image),
    contentDescription = <span class="hljs-literal">null</span>,
    modifier = Modifier.aspectRatio(<span class="hljs-number">16f</span> / <span class="hljs-number">9f</span>)
)
</code></pre>
<p><strong>Q: å¦‚ä½•è®©å­å…ƒç´ å¡«æ»¡å‰©ä½™ç©ºé—´ï¼Ÿ</strong></p>
<p>A: ä½¿ç”¨ <code>Modifier.weight</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">Column {
    Text(<span class="hljs-string">"Header"</span>)
    Box(
        modifier = Modifier
            .fillMaxWidth()
            .weight(<span class="hljs-number">1f</span>)  <span class="hljs-comment">// å¡«æ»¡å‰©ä½™ç©ºé—´</span>
    )
    Text(<span class="hljs-string">"Footer"</span>)
}
</code></pre>
<h3 data-id="heading-61">5.3 LazyColumn ç›¸å…³é—®é¢˜</h3>
<p><strong>Q: åˆ—è¡¨æ»‘åŠ¨å¡é¡¿æ€ä¹ˆåŠï¼Ÿ</strong></p>
<p>A: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ol>
<li>æ˜¯å¦ä½¿ç”¨äº† key</li>
<li>item ä¸­æ˜¯å¦é¿å…äº†åˆ›å»ºæ–°å¯¹è±¡</li>
<li>æ˜¯å¦ä½¿ç”¨äº† derivedStateOf ä¼˜åŒ–é¢‘ç¹å˜åŒ–çš„çŠ¶æ€</li>
<li>item çš„å¸ƒå±€æ˜¯å¦è¿‡äºå¤æ‚</li>
</ol>
<p><strong>Q: å¦‚ä½•å®ç°ç²˜æ€§ Headerï¼Ÿ</strong></p>
<p>A: ä½¿ç”¨ <code>stickyHeader</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">LazyColumn {
    stickyHeader {
        Text(<span class="hljs-string">"Section A"</span>, modifier = Modifier.background(Color.Gray))
    }
    items(itemsA) { Item(it) }
    
    stickyHeader {
        Text(<span class="hljs-string">"Section B"</span>, modifier = Modifier.background(Color.Gray))
    }
    items(itemsB) { Item(it) }
}
</code></pre>
<hr/>
<h2 data-id="heading-62">å…­ã€æœ¬ç¯‡å°ç»“</h2>
<p>ä»Šå¤©æˆ‘ä»¬æ·±å…¥æ¢è®¨äº† Compose çš„æ ¸å¿ƒåŸºçŸ³ï¼š</p>
<h3 data-id="heading-63">Modifier</h3>
<ul>
<li>ç†è§£äº† Modifier çš„æ¥å£è®¾è®¡å’Œé“¾è¡¨ç»“æ„</li>
<li>æŒæ¡äº†é“¾å¼è°ƒç”¨çš„æ‰§è¡Œé¡ºåº</li>
<li>å­¦ä¼šäº†è‡ªå®šä¹‰ Modifier çš„ä¸‰ç§æ–¹å¼</li>
<li>äº†è§£äº† Intrinsic æµ‹é‡çš„åŸç†</li>
</ul>
<h3 data-id="heading-64">å¸ƒå±€ç³»ç»Ÿ</h3>
<ul>
<li>ç†è§£äº† Composition â†’ Layout â†’ Drawing çš„ä¸‰é˜¶æ®µ</li>
<li>æŒæ¡äº† Constraints çš„ä½¿ç”¨æ–¹æ³•</li>
<li>æ·±å…¥äº†è§£äº† Columnã€Rowã€Box çš„æµ‹é‡ä¸å¸ƒå±€åŸç†</li>
<li>å­¦ä¼šäº†è‡ªå®šä¹‰ Layout çš„è®¾è®¡æ€è·¯</li>
</ul>
<h3 data-id="heading-65">LazyColumn</h3>
<ul>
<li>ç†è§£äº†æƒ°æ€§åŠ è½½çš„è§†å£æ¸²æŸ“æœºåˆ¶</li>
<li>æŒæ¡äº† key çš„ä½œç”¨å’Œ diff ç®—æ³•</li>
<li>å­¦ä¼šäº†åˆ—è¡¨çŠ¶æ€ç®¡ç†å’Œåˆ†é¡µåŠ è½½</li>
<li>äº†è§£äº†æ€§èƒ½ä¼˜åŒ–çš„æœ€ä½³å®è·µ</li>
</ul>
<h3 data-id="heading-66">ConstraintLayout</h3>
<ul>
<li>ç†è§£äº†çº¦æŸæ±‚è§£çš„åŸç†</li>
<li>æŒæ¡äº†ä¸åµŒå¥—å¸ƒå±€çš„é€‰æ‹©ç­–ç•¥</li>
</ul>
<hr/>
<h2 data-id="heading-67">ä¸‹ç¯‡é¢„å‘Š</h2>
<p><strong>ç¬¬ä¸‰ç¯‡ï¼šçŠ¶æ€ç®¡ç†</strong> å°†æ·±å…¥è®²è§£ï¼š</p>
<ul>
<li>çŠ¶æ€ä¸é‡ç»„æœºåˆ¶æ·±åº¦è§£æï¼ˆSlot Table åŸç†ï¼‰</li>
<li>rememberã€mutableStateOf æºç åˆ†æ</li>
<li>çŠ¶æ€æå‡ï¼ˆState Hoistingï¼‰è®¾è®¡æ¨¡å¼</li>
<li>ViewModel ä¸ Compose çš„æœ€ä½³å®è·µ</li>
<li>CompositionLocal åŸç†ä¸åº”ç”¨</li>
</ul>
<p>æ•¬è¯·æœŸå¾…ï¼</p>
<hr/>
<h2 data-id="heading-68">å‚è€ƒèµ„æº</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Flayouts" target="_blank" title="https://developer.android.com/jetpack/compose/layouts" ref="nofollow noopener noreferrer">Compose å¸ƒå±€å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Flists" target="_blank" title="https://developer.android.com/jetpack/compose/lists" ref="nofollow noopener noreferrer">Lazy åˆ—è¡¨å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fandroid.googlesource.com%2Fplatform%2Fframeworks%2Fsupport%2F%2B%2Fandroidx-main%2Fcompose%2F" target="_blank" title="https://android.googlesource.com/platform/frameworks/support/+/androidx-main/compose/" ref="nofollow noopener noreferrer">Compose æºç </a></li>
</ul>
<hr/>
<blockquote>
<p>ğŸ“Œ <strong>ç³»åˆ—æ–‡ç« å¯¼èˆª</strong></p>
<ul>
<li>ç¬¬ä¸€ç¯‡ï¼šåˆè¯† Compose âœ…</li>
<li>ç¬¬äºŒç¯‡ï¼šæ ¸å¿ƒåŸºçŸ³ï¼ˆå½“å‰ï¼‰âœ…</li>
<li>ç¬¬ä¸‰ç¯‡ï¼šçŠ¶æ€ç®¡ç†</li>
<li>ç¬¬å››ç¯‡ï¼šMaterial ç»„ä»¶ä¸ä¸»é¢˜</li>
<li>ç¬¬äº”ç¯‡ï¼šåŠ¨ç”»ä¸äº¤äº’</li>
<li>ç¬¬å…­ç¯‡ï¼šæ¶æ„ä¸å·¥ç¨‹åŒ–</li>
<li>ç¬¬ä¸ƒç¯‡ï¼šé«˜çº§ç‰¹æ€§ä¸å®æˆ˜</li>
</ul>
</blockquote>
<hr/>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ <strong>ç‚¹èµ</strong>ã€<strong>æ”¶è—</strong>ã€<strong>å…³æ³¨</strong>ï¼æœ‰ä»»ä½•é—®é¢˜å¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</p>
<p><del>Generated by Kimi K2.5 Agent</del></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»€ä¹ˆï¼ŸMybaitsæ‰©å±• JPAåŠŸèƒ½ï¼Œæœ‰è¶£ï¼]]></title>    <link>https://juejin.cn/post/7600314093294207014</link>    <guid>https://juejin.cn/post/7600314093294207014</guid>    <pubDate>2026-01-29T01:22:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600314093294207014" data-draft-id="7600314093294190630" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»€ä¹ˆï¼ŸMybaitsæ‰©å±• JPAåŠŸèƒ½ï¼Œæœ‰è¶£ï¼"/> <meta itemprop="keywords" content="åç«¯,Java,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-29T01:22:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="SimonKing"/> <meta itemprop="url" content="https://juejin.cn/user/4001878056904584"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»€ä¹ˆï¼ŸMybaitsæ‰©å±• JPAåŠŸèƒ½ï¼Œæœ‰è¶£ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4001878056904584/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    SimonKing
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-29T01:22:24.000Z" title="Thu Jan 29 2026 01:22:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼šã€ç¼–ç¨‹æœèŠ±å¤•æ‹¾ã€‘ï¼Œå¯è·å–é¦–å‘å†…å®¹ã€‚</p>
</blockquote>
<h2 data-id="heading-0">01 å¼•è¨€</h2>
<p>ä¸€ç›´å¾ˆå…³æ³¨<code>dromara</code>ç¤¾åŒºçš„é¡¹ç›®ï¼Œæœ€è¿‘æµè§ˆå™¨é¡¹ç›®æ—¶ï¼Œå‘ç°ä¸€ä¸ª<code>mybatis-jpa-extra</code>é¡¹ç›®ï¼Œé‡Œé¢é’ˆå¯¹<code>JPA</code>æ‰©å±•ï¼Œå¯ä»¥ä½¿ç”¨<code>Lambda</code>è¡¨è¾¾å¼ï¼Œäºæ˜¯å¥½å¥‡çš„ç‚¹è¿›å»äº†è§£äº†ä¸€ä¸‹ï¼Œåˆ†äº«ç»™å¤§å®¶ã€‚</p>
<h2 data-id="heading-1">02 ç®€ä»‹</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c408060fe3a14e7cb84368a74351d103~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770254543&amp;x-signature=0EGN0a7DrQYjMgOMHuYNR7GjygA%3D" alt="" loading="lazy"/></p>
<p><code>MyBatis JPA Extra</code>å¯¹<code>MyBatis</code>æ‰©å±•<code>JPA</code>åŠŸèƒ½ï¼Œ<code>Jakarta JPA</code> æ³¨é‡Šç®€åŒ–<code>CRUD</code>æ“ä½œï¼Œå¢å¼ºäº†SELECTåˆ†é¡µæŸ¥è¯¢ï¼Œå¢åŠ é“¾å¼QueryæŸ¥è¯¢æ¡ä»¶æ„é€ å™¨ï¼›æ”¯æŒ<code>Lambda</code> å½¢å¼è°ƒç”¨ï¼Œæ–¹ä¾¿ç¼–å†™å„ç±»æŸ¥è¯¢æ¡ä»¶ï¼Œä½¿ç”¨<code>@Encrypted</code>æ³¨è§£è½»æ¾å®ç°å­—æ®µæ•°æ®åŠ å¯†å’Œè§£å¯†ä»¥åŠå­—æ®µæ•°æ®è‡ªåŠ¨å¡«å……åŠŸèƒ½ç­‰ã€‚</p>
<p><code>GitHub</code>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fdromara%2Fmybatis-jpa-extra" target="_blank" title="https://github.com/dromara/mybatis-jpa-extra" ref="nofollow noopener noreferrer">github.com/dromara/mybâ€¦</a></p>
<p><code>Gitee</code>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgitee.com%2Fdromara%2Fmybatis-jpa-extra" target="_blank" title="https://gitee.com/dromara/mybatis-jpa-extra" ref="nofollow noopener noreferrer">gitee.com/dromara/mybâ€¦</a></p>
<h2 data-id="heading-2">03 ç®€å•ä½¿ç”¨</h2>
<h3 data-id="heading-3">3.1 ä¾èµ–</h3>
<p><strong>Maven</strong></p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.dromara.mybatis-jpa-extra<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-jpa-extra-spring-boot-starter<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.4.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<p><strong>é…ç½®</strong></p>
<pre><code class="hljs language-properties" lang="properties">spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/test
spring.datasource.username=root
spring.datasource.password=123456

mybatis.type-aliases-package=com.simonking.boot.jpa.pojo
</code></pre>
<h3 data-id="heading-4">3.2 å®ä½“å®šä¹‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@Entity(name = "users")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Users</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JpaEntity</span> {

    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@Column</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Integer id;
    <span class="hljs-meta">@Column</span>
    <span class="hljs-keyword">private</span> String username;
    <span class="hljs-meta">@Column</span>
    <span class="hljs-keyword">private</span> String password;
    <span class="hljs-meta">@Column(name = "password_salt")</span>
    <span class="hljs-keyword">private</span> String passwordSalt;
    <span class="hljs-meta">@Column(name = "del_flag")</span>
    <span class="hljs-keyword">private</span> Boolean delFlag;
}
</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œçš„<code>@Column</code>ä¸€å®šè¦åŠ ï¼Œå¦åˆ™ä½¿ç”¨<code>Lambda</code>è°ƒç”¨çš„æ—¶å€™ä¼šå‡ºç°<code>sql</code>å¼‚å¸¸ã€‚</p>
<h3 data-id="heading-5">3.3 æ¥å£ä»¥åŠå®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">/**
 * æ¥å£
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UsersService</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">IJpaService</span>&lt;Users, Integer&gt; {

}

<span class="hljs-comment">/**
 * å®ç°
 */</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UsersServiceImpl</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">JpaServiceImpl</span>&lt;UsersMapper, Users, Integer&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UsersService</span>  {

}
</code></pre>
<p>å®˜æ–¹è¯´æ˜é‡Œé¢ç»§æ‰¿çš„æ˜¯<code>AbstractJpaRepository</code>ï¼Œä½¿ç”¨èµ·æ¥æœ‰ç‚¹å°é—®é¢˜ï¼Œä¼šå¯¼è‡´<code>getMapper</code>ä¸ºç©ºçš„å¼‚å¸¸ã€‚ä½¿ç”¨æ—¶éœ€è¦ç»§æ‰¿<code>JpaServiceImpl</code>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/34af6f35a058457aa4cf37911839fc53~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770254543&amp;x-signature=zosIKJRs%2FTtbfDKUNNLkag6TzG8%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-6">3.4 Mapper</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Mapper</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UsersMapper</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">IJpaMapper</span>&lt;Users, Integer&gt; {
}
</code></pre>
<p>è¿™é‡Œçš„Mapperå¯ä»¥ä½¿ç”¨<code>@Mapper</code>æ³¨è§£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>@MapperScan("com.simonking.boot.jpa.mapper")</code>æ”¾åœ¨å¯åŠ¨ç±»ä¸Šã€‚</p>
<h3 data-id="heading-7">3.5 æµ‹è¯•</h3>
<pre><code class="hljs language-java" lang="java"> <span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> UsersService usersService;

<span class="hljs-comment">/**
 * JPA æµ‹è¯•
 */</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">test03</span><span class="hljs-params">()</span> {
    <span class="hljs-type">Users</span> <span class="hljs-variable">byId</span> <span class="hljs-operator">=</span> usersService.findById(<span class="hljs-number">1</span>);
    System.out.println(byId);
}

<span class="hljs-comment">/**
 * Lambda æµ‹è¯•
 */</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">test02</span><span class="hljs-params">()</span> {
    usersService.query(<span class="hljs-keyword">new</span> <span class="hljs-title class_">LambdaQuery</span>&lt;Users&gt;()
                    .eq(Users::getUsername, <span class="hljs-string">"test"</span>)
            ).forEach(System.out::println);
}

<span class="hljs-comment">/**
 * Mybatis æ³¨è§£æµ‹è¯•
 */</span>
<span class="hljs-meta">@Test</span>
<span class="hljs-keyword">void</span> <span class="hljs-title function_">test03</span><span class="hljs-params">()</span> {
     <span class="hljs-type">Users</span> <span class="hljs-variable">users</span> <span class="hljs-operator">=</span> usersService.getByUsername(<span class="hljs-string">"lisi"</span>);
     System.out.println(users);
}
</code></pre>
<p>ç»“æœ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/18e64b6f904d44aeb9ccf17d3f430fc8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770254543&amp;x-signature=y8J8ROY0MefQOiNP4IhTlugdtGM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6fdcb0b2aac54462a27b143df8e631fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770254543&amp;x-signature=lLL4p8WqhEJR7HNZ6kdjQH1tNJA%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ab0245df69574ae5a9ec2eac79dd9e5c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2ltb25LaW5n:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770254543&amp;x-signature=5HP%2F8HNzYSpqOmT5oMD2QPhe0gE%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">04 å°ç»“</h2>
<p>ä½œè€…æ˜¯åŸºäº<code>Mybaits</code>æ‰©å±•çš„<code>JPA</code>ã€‚ç±»ä¼¼æ¡†æ¶<code>Mybaits-Plus</code>ã€<code>Mybaits-Flex</code>ï¼Œæœ¬èº«æ˜¯å¯¹<code>Mybatis</code>çš„å¢å¼ºï¼Œæ²¡æœ‰å¼•å…¥å…¶ä»–çš„æ¡†æ¶ã€‚<code>mybatis-jpa-extra</code>ä½•å°ä¸æ˜¯ä¸€ç§æ–°çš„é€‰æ‹©ã€‚</p>
<p>æ¡†æ¶å¯èƒ½è¿˜ä¸æˆç†Ÿï¼Œæµ‹è¯•ä¸‹æ¥æ€»ä¼šç¢°åˆ°ä¸€äº›å°é—®é¢˜ã€‚</p>
<ul>
<li><code>xxxServiceImpl</code>éœ€è¦ç»§æ‰¿<code>JpaServiceImpl</code>ï¼Œè€Œä¸æ˜¯<code>AbstractJpaRepository</code>ï¼Œå¦åˆ™<code>getMapper</code> is null</li>
<li>ä½¿ç”¨<code>SpringBoot 3.x</code>å¯åŠ¨å¼‚å¸¸ï¼Œä½¿ç”¨<code>SpringBoot4.0.1</code>æ­£å¸¸å¯åŠ¨æµ‹è¯•</li>
<li><code>insert</code>æ–¹æ³•æ²¡æœ‰è¿”å›ä¸»é”®</li>
</ul>
<p>ä½¿ç”¨ä¸‹æ¥æ„Ÿè§‰æ²¡æœ‰<code>MP</code>ã€<code>MF</code>ä¸æ»‘ï¼Œå°±æ²¡æœ‰æ·±å…¥å»äº†è§£äº†ã€‚æœ‰æ‡‚çš„æœ‹å‹ä¸€èµ·å” å” ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[SpringBoot å¼€å‘æ•ˆç‡ç¿»å€çš„5ä¸ªéšè—æŠ€å·§ï¼Œä½ çŸ¥é“å‡ ä¸ªï¼Ÿ]]></title>    <link>https://juejin.cn/post/7600265780349861928</link>    <guid>https://juejin.cn/post/7600265780349861928</guid>    <pubDate>2026-01-29T00:17:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600265780349861928" data-draft-id="7600296037542674432" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="SpringBoot å¼€å‘æ•ˆç‡ç¿»å€çš„5ä¸ªéšè—æŠ€å·§ï¼Œä½ çŸ¥é“å‡ ä¸ªï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-29T00:17:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿æ©™çš„ç™¾å®ç®±"/> <meta itemprop="url" content="https://juejin.cn/user/1638743356481367"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            SpringBoot å¼€å‘æ•ˆç‡ç¿»å€çš„5ä¸ªéšè—æŠ€å·§ï¼Œä½ çŸ¥é“å‡ ä¸ªï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1638743356481367/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿æ©™çš„ç™¾å®ç®±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-29T00:17:20.000Z" title="Thu Jan 29 2026 00:17:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    22
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>SpringBoot å¼€å‘æ•ˆç‡ç¿»å€çš„5ä¸ªéšè—æŠ€å·§ï¼Œä½ çŸ¥é“å‡ ä¸ªï¼Ÿ</strong></h2>
<h3 data-id="heading-1">å¼•è¨€</h3>
<p>SpringBoot ä½œä¸º Java ç”Ÿæ€ä¸­æœ€æµè¡Œçš„å¾®æœåŠ¡æ¡†æ¶ä¹‹ä¸€ï¼Œä»¥å…¶â€œçº¦å®šä¼˜äºé…ç½®â€çš„ç†å¿µå’Œä¸°å¯Œçš„ Starter ä¾èµ–æå¤§åœ°ç®€åŒ–äº†å¼€å‘æµç¨‹ã€‚ç„¶è€Œï¼Œå¾ˆå¤šå¼€å‘è€…ä»…åœç•™åœ¨åŸºç¡€ç”¨æ³•ä¸Šï¼Œå¿½ç•¥äº† SpringBoot æä¾›çš„ä¸€äº›éšè—æŠ€å·§ã€‚è¿™äº›æŠ€å·§ä¸ä»…èƒ½å‡å°‘æ ·æ¿ä»£ç ï¼Œè¿˜èƒ½æ˜¾è‘—æå‡å¼€å‘æ•ˆç‡ã€‚æœ¬æ–‡å°†æ·±å…¥å‰–æ <strong>5 ä¸ªé²œä¸ºäººçŸ¥ä½†æå…¶å®ç”¨çš„ SpringBoot æŠ€å·§</strong>ï¼Œå¸®åŠ©ä½ ä»â€œä¼šç”¨â€è¿›é˜¶åˆ°â€œç²¾é€šâ€ã€‚</p>
<hr/>
<h3 data-id="heading-2">1. Lombok + @Builder.Defaultï¼šä¼˜é›…å¤„ç†é»˜è®¤å€¼</h3>
<h4 data-id="heading-3">é—®é¢˜åœºæ™¯</h4>
<p>åœ¨å®ä½“ç±»æˆ– DTO ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦ä¸ºå­—æ®µè®¾ç½®é»˜è®¤å€¼ã€‚ä¼ ç»Ÿåšæ³•æ˜¯åœ¨æ„é€ å‡½æ•°æˆ– <code>@Data</code> æ³¨è§£ç”Ÿæˆçš„ <code>setter</code> æ–¹æ³•ä¸­ç¡¬ç¼–ç ï¼Œä½†è¿™ä¼šå¯¼è‡´ä»£ç å†—ä½™ä¸”éš¾ä»¥ç»´æŠ¤ã€‚</p>
<h4 data-id="heading-4">è§£å†³æ–¹æ¡ˆ</h4>
<p>ç»“åˆ Lombok çš„ <code>@Builder</code> å’Œ <code>@Builder.Default</code>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Data</span>
<span class="hljs-meta">@Builder</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> {
    <span class="hljs-meta">@Builder</span>.Default
    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">status</span> <span class="hljs-operator">=</span> <span class="hljs-string">"ACTIVE"</span>;
    
    <span class="hljs-meta">@Builder</span>.Default
    <span class="hljs-keyword">private</span> <span class="hljs-type">LocalDateTime</span> <span class="hljs-variable">createdAt</span> <span class="hljs-operator">=</span> LocalDateTime.now();
}
</code></pre>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼š
<ol>
<li><strong>æ¸…æ™°ç›´è§‚</strong>ï¼šé€šè¿‡æ³¨è§£æ˜¾å¼å£°æ˜é»˜è®¤å€¼ã€‚</li>
<li><strong>çº¿ç¨‹å®‰å…¨</strong>ï¼šæ¯æ¬¡æ„å»ºå¯¹è±¡æ—¶ä¼šé‡æ–°è®¡ç®—é»˜è®¤å€¼ï¼ˆå¦‚ <code>LocalDateTime.now()</code>ï¼‰ã€‚</li>
<li><strong>ä¸ Jackson æ— ç¼é›†æˆ</strong>ï¼šååºåˆ—åŒ–æ—¶è‡ªåŠ¨åº”ç”¨é»˜è®¤å€¼ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-5">æ³¨æ„äº‹é¡¹</h4>
<ul>
<li>Lombok v1.18.4+ ç‰ˆæœ¬æ”¯æŒæ­¤ç‰¹æ€§ã€‚</li>
<li>é¿å…åœ¨ <code>@Builder.Default</code> ä¸­ä½¿ç”¨å¯å˜å¯¹è±¡ï¼ˆå¦‚ <code>List</code>ï¼‰ï¼Œå»ºè®®ç”¨ä¸å¯å˜é›†åˆï¼ˆå¦‚ <code>Collections.unmodifiableList</code>ï¼‰ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-6">2. @ConfigurationProperties + Validationï¼šå¼ºç±»å‹çš„é…ç½®ç®¡ç†</h3>
<h4 data-id="heading-7">é—®é¢˜åœºæ™¯</h4>
<p>SpringBoot çš„ <code>application.properties</code>/<code>.yml</code> é€šå¸¸é€šè¿‡ <code>@Value</code>æ³¨å…¥ï¼Œä½†è¿™ç§æ–¹å¼ç¼ºä¹ç±»å‹å®‰å…¨å’Œç»“æ„åŒ–éªŒè¯ã€‚</p>
<h4 data-id="heading-8">è§£å†³æ–¹æ¡ˆ</h4>
<p>ä½¿ç”¨ <code>@ConfigurationProperties</code> + JSR-303 Validationï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-comment"># application.yml</span>
<span class="hljs-attr">app:</span>
   <span class="hljs-attr">max-retry:</span> <span class="hljs-number">3</span>
   <span class="hljs-attr">endpoints:</span>
     <span class="hljs-bullet">-</span> <span class="hljs-string">"/api/v1/users"</span>
     <span class="hljs-bullet">-</span> <span class="hljs-string">"/api/v1/products"</span>
</code></pre>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@ConfigurationProperties(prefix = "app")</span>
<span class="hljs-meta">@Validated</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppConfig</span> {
    <span class="hljs-meta">@Min(1)</span> <span class="hljs-meta">@Max(10)</span>
    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> maxRetry;
    
    <span class="hljs-meta">@NotEmpty</span>
    <span class="hljs-keyword">private</span> List&lt;String&gt; endpoints;
    
    <span class="hljs-comment">// Getters and Setters</span>
}
</code></pre>
<ul>
<li><strong>ä¼˜åŠ¿</strong>ï¼š
<ol>
<li><strong>ç±»å‹å®‰å…¨</strong>ï¼šé¿å…æ‹¼å†™é”™è¯¯å’Œç±»å‹è½¬æ¢é—®é¢˜ã€‚</li>
<li><strong>è‡ªåŠ¨è¡¥å…¨æ”¯æŒ</strong>ï¼šIDEï¼ˆå¦‚ IntelliJï¼‰èƒ½è¯†åˆ«é…ç½®é¡¹ã€‚</li>
<li><strong>å¯åŠ¨æ—¶éªŒè¯</strong>ï¼šé…ç½®é”™è¯¯ä¼šç›´æ¥æŠ›å‡ºå¼‚å¸¸ã€‚</li>
</ol>
</li>
</ul>
<h4 data-id="heading-9">è¿›é˜¶æŠ€å·§</h4>
<p>é€šè¿‡ <code>spring-boot-configuration-processor</code>ç”Ÿæˆå…ƒæ•°æ®æ–‡ä»¶ï¼Œå®ç°é…ç½®æç¤ºï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">optional</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">optional</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<hr/>
<h3 data-id="heading-10">3. Spring DevTools + LiveReloadï¼šæé€Ÿçƒ­éƒ¨ç½²</h3>
<h4 data-id="heading-11">Why DevTools?</h4>
<p>ä¼ ç»Ÿçš„é‡å¯å¼çƒ­éƒ¨ç½²ï¼ˆå¦‚ JRebelï¼‰éœ€è¦ä»˜è´¹æˆ–å¤æ‚é…ç½®ã€‚Spring DevToolsæ˜¯å®˜æ–¹æä¾›çš„å…è´¹æ–¹æ¡ˆï¼š</p>
<ol>
<li><strong>å¿«é€Ÿé‡å¯</strong>ï¼šä»…é‡è½½å˜æ›´çš„ç±»ï¼ˆæ¯”å†·å¯åŠ¨å¿«5-10å€ï¼‰ã€‚</li>
<li><strong>LiveReloadé›†æˆ</strong>ï¼šè‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ï¼ˆéœ€å®‰è£…LiveReloadæ’ä»¶ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-12">Hidden Features:</h4>
<ul>
<li><strong>æ’é™¤é™æ€èµ„æºé‡å¯</strong>ï¼š</li>
</ul>
<pre><code class="hljs language-properties" lang="properties">spring.devtools.restart.exclude=static/**
</code></pre>
<ul>
<li><strong>è¿œç¨‹è°ƒè¯•æ”¯æŒ</strong>ï¼š</li>
</ul>
<pre><code class="hljs language-bash" lang="bash">mvn spring-boot:run -Dspring.devtools.restart.enabled=<span class="hljs-literal">true</span> 
</code></pre>
<h4 data-id="heading-13">Profilingç»“æœå¯¹æ¯”ï¼š</h4>

















<table><thead><tr><th>Method</th><th>Avg Restart Time</th></tr></thead><tbody><tr><td>Cold Start</td><td>~8s</td></tr><tr><td>With DevTools</td><td>~1s</td></tr></tbody></table>
<hr/>
<p>###4 .è‡ªå®šä¹‰FailureAnalyzer ï¼šè®©å¯åŠ¨é”™è¯¯ä¸€ç›®äº†ç„¶</p>
<p>å½“SpringBootåº”ç”¨å¯åŠ¨å¤±è´¥æ—¶,é»˜è®¤çš„é”™è¯¯æ—¥å¿—å¯èƒ½æ™¦æ¶©éš¾æ‡‚ ã€‚é€šè¿‡å®ç°FailureAnalyzeræ¥å£,å¯ä»¥å°†åº•å±‚å¼‚å¸¸è½¬æ¢ä¸ºå‹å¥½çš„é”™è¯¯æç¤º :</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyBeanFailureAnalyzer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">FailureAnalyzer</span> {
<span class="hljs-meta">@Override</span> 
<span class="hljs-keyword">public</span> FailureAnalysis <span class="hljs-title function_">analyze</span><span class="hljs-params">(Throwable failure)</span> { 
<span class="hljs-keyword">if</span> (failure <span class="hljs-keyword">instanceof</span> UnsatisfiedDependencyException ex) { 
<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FailureAnalysis</span>(
<span class="hljs-string">"Beanä¾èµ–æ³¨å…¥å¤±è´¥: "</span>+ex.getInjectionPoint(),
<span class="hljs-string">"æ£€æŸ¥æ˜¯å¦å­˜åœ¨å¯¹åº”çš„Beanå®šä¹‰"</span>, 
failure); } <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; } }
</code></pre>
<p>æ³¨å†Œåˆ°META-INF/spring.factories :</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">org.springframework.boot.diagnostics.FailureAnalyzer</span>=\ com.example.MyBeanFailureAnalyzer 
</code></pre>
<p>æ•ˆæœå¯¹æ¯” :</p>
<pre><code class="hljs language-kotlin" lang="kotlin">Before : NoSuchBeanDefinitionException ... 
After : [ACTION REQUIRED] Beanä¾èµ–æ³¨å…¥å¤±è´¥: UserService.userDao â†’ Check <span class="hljs-keyword">if</span> <span class="hljs-meta">@Repository</span> <span class="hljs-keyword">is</span> missing!
</code></pre>
<hr/>
<p>###5 .Smart Initialization ï¼šä¼˜åŒ–å¯åŠ¨æ€§èƒ½</p>
<p>SpringBooté»˜è®¤æŒ‰é¡ºåºåˆå§‹åŒ–æ‰€æœ‰Bean,å¯¼è‡´å¯åŠ¨æ…¢ ã€‚é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¼˜åŒ– :</p>
<p>1 .æ‡’åŠ è½½ç‰¹å®šBean :</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Lazy</span> <span class="hljs-meta">@Service</span> <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HeavyService</span> { ... } 
</code></pre>
<p>2 .åˆ†æ‰¹åˆå§‹åŒ– (Spring Boot2.4+) :</p>
<pre><code class="hljs language-properties" lang="properties">spring.main.lazy-initialization=true #å…¨å±€æ‡’åŠ è½½ spring.main.eager-init-beans[0]=criticalService #å¼ºåˆ¶æå‰åŠ è½½å…³é”®Bean 
</code></pre>
<p>3 .ä½¿ç”¨ApplicationRunneræ§åˆ¶é¡ºåº :</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Order(1)</span> <span class="hljs-meta">@Bean</span> <span class="hljs-keyword">public</span> ApplicationRunner <span class="hljs-title function_">initDB</span><span class="hljs-params">()</span> { .. } 

å®æµ‹æ•ˆæœ (åŸºäº<span class="hljs-number">100</span>ä¸ªBeançš„é¡¹ç›® ):
| Configuration       | Startup Time |
|----------------------|--------------|
| Default              | ~12s         |
| Smart Initialization | ~6s          |
</code></pre>
<hr/>
<p>###æ€»ç»“</p>
<p>æœ¬æ–‡æ­ç¤ºçš„äº”ä¸ªæŠ€å·§è¦†ç›–äº†ä»ç¼–ç  ã€é…ç½®åˆ°è°ƒè¯• ã€ä¼˜åŒ–çš„å®Œæ•´é“¾è·¯ :</p>
<p>â€¢ Lombokçš„ Builder.Default â†’å‡å°‘æ ·æ¿ä»£ç  â€¢ ConfigurationProperties â†’å¼ºåŒ–é…ç½®ç®¡ç† â€¢ DevToolsæ·±åº¦ä½¿ç”¨ â†’åŠ é€Ÿå¼€å‘å¾ªç¯ â€¢ Custom FailureAnalyzer â†’æå‡å¯ç»´æŠ¤æ€§ â€¢ Smart Initialization â†’ä¼˜åŒ–è¿è¡Œæ—¶æ€§èƒ½</p>
<p>æŒæ¡è¿™äº›é²œä¸ºäººçŸ¥å´è‡³å…³é‡è¦çš„æŠ€æœ¯ ,ä½ çš„SpringBootå¼€å‘æ•ˆç‡å°†äº§ç”Ÿè´¨çš„é£è·ƒ ã€‚å»ºè®®æ”¶è—æœ¬æ–‡å¹¶å®è·µæ¯ä¸€ä¸ªæ¡ˆä¾‹ ,å®ƒä»¬éƒ½æ¥è‡ªçœŸå®é¡¹ç›®çš„æœ€ä½³å®è·µ ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Jetpack Compose ä»å…¥é—¨åˆ°ç²¾é€šï¼ˆä¸‰ï¼‰ï¼šçŠ¶æ€ç®¡ç† - ä»åŸç†åˆ°å®è·µ]]></title>    <link>https://juejin.cn/post/7600663744192069668</link>    <guid>https://juejin.cn/post/7600663744192069668</guid>    <pubDate>2026-01-29T11:34:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600663744192069668" data-draft-id="7600562816458653738" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Jetpack Compose ä»å…¥é—¨åˆ°ç²¾é€šï¼ˆä¸‰ï¼‰ï¼šçŠ¶æ€ç®¡ç† - ä»åŸç†åˆ°å®è·µ"/> <meta itemprop="keywords" content="Kotlin,JetBrains,Android"/> <meta itemprop="datePublished" content="2026-01-29T11:34:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‚¹é˜¿æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›"/> <meta itemprop="url" content="https://juejin.cn/user/3808364009106839"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Jetpack Compose ä»å…¥é—¨åˆ°ç²¾é€šï¼ˆä¸‰ï¼‰ï¼šçŠ¶æ€ç®¡ç† - ä»åŸç†åˆ°å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3808364009106839/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‚¹é˜¿æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›æ¶›
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-29T11:34:11.000Z" title="Thu Jan 29 2026 11:34:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ·±å…¥ç†è§£ Compose çš„çŠ¶æ€ç³»ç»Ÿï¼šSlot Table æœºåˆ¶ã€é‡ç»„åŸç†ã€çŠ¶æ€æå‡è®¾è®¡æ¨¡å¼ï¼Œä»¥åŠä¼ä¸šçº§çŠ¶æ€ç®¡ç†æœ€ä½³å®è·µã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨å‰ä¸¤ç¯‡ä¸­ï¼Œæˆ‘ä»¬æŒæ¡äº† Compose çš„å¸ƒå±€ç³»ç»Ÿã€‚ä½†ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¦»ä¸å¼€çŠ¶æ€ç®¡ç†ï¼šç”¨æˆ·çš„ç‚¹å‡»ã€ç½‘ç»œè¯·æ±‚çš„ç»“æœã€é¡µé¢çš„åˆ‡æ¢...è¿™äº›éƒ½éœ€è¦çŠ¶æ€æ¥é©±åŠ¨ UI æ›´æ–°ã€‚</p>
<p>Compose çš„çŠ¶æ€ç³»ç»Ÿä¸ä¼ ç»Ÿ View ç³»ç»Ÿå®Œå…¨ä¸åŒï¼Œå®ƒé‡‡ç”¨äº†<strong>å“åº”å¼ç¼–ç¨‹</strong>çš„æ€æƒ³ï¼šçŠ¶æ€å˜åŒ–è‡ªåŠ¨è§¦å‘ UI æ›´æ–°ã€‚è¿™å¬èµ·æ¥å¾ˆç¥å¥‡ï¼Œä½†èƒŒåæœ‰ç€ç²¾å¦™çš„è®¾è®¡ã€‚</p>
<p>æœ¬ç¯‡æ–‡ç« å°†å¸¦ä½ æ·±å…¥ç†è§£ï¼š</p>
<ul>
<li>Compose å¦‚ä½•è¿½è¸ªçŠ¶æ€å˜åŒ–ï¼Ÿ</li>
<li>é‡ç»„ï¼ˆRecompositionï¼‰åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</li>
<li>ä¸ºä»€ä¹ˆæœ‰æ—¶å€™çŠ¶æ€æ›´æ–°äº† UI å´æ²¡åˆ·æ–°ï¼Ÿ</li>
<li>å¦‚ä½•è®¾è®¡ä¼˜é›…çš„çŠ¶æ€ç®¡ç†æ¶æ„ï¼Ÿ</li>
</ul>
<p>è®©æˆ‘ä»¬å¼€å§‹è¿™åœºæ·±å…¥æºç çš„æ¢ç´¢ä¹‹æ—…ï¼</p>
<hr/>
<h2 data-id="heading-1">ä¸€ã€çŠ¶æ€ä¸é‡ç»„æœºåˆ¶æ·±åº¦è§£æ</h2>
<h3 data-id="heading-2">1.1 å“åº”å¼ç¼–ç¨‹çš„æœ¬è´¨</h3>
<p>Compose çš„æ ¸å¿ƒç†å¿µæ˜¯<strong>çŠ¶æ€é©±åŠ¨ UI</strong>ã€‚å½“çŠ¶æ€å˜åŒ–æ—¶ï¼ŒUI ä¼šè‡ªåŠ¨æ›´æ–°ã€‚è¿™èƒŒåçš„å…³é”®æœºåˆ¶å°±æ˜¯<strong>é‡ç»„ï¼ˆRecompositionï¼‰</strong>ã€‚</p>
<p><strong>ä¼ ç»Ÿ View ç³»ç»Ÿï¼ˆå‘½ä»¤å¼ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// æ‰‹åŠ¨æ›´æ–° UI</span>
button.setOnClickListener {
    count++
    textView.text = <span class="hljs-string">"Count: <span class="hljs-variable">$count</span>"</span>  <span class="hljs-comment">// æ‰‹åŠ¨è®¾ç½®æ–°å€¼</span>
}
</code></pre>
<p><strong>Composeï¼ˆå£°æ˜å¼ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Counter</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> count <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-number">0</span>) }
    
    Button(onClick = { count++ }) {
        Text(<span class="hljs-string">"Count: <span class="hljs-variable">$count</span>"</span>)  <span class="hljs-comment">// è‡ªåŠ¨æ›´æ–°</span>
    }
}
</code></pre>
<p><strong>å…³é”®åŒºåˆ«</strong>ï¼šCompose ä¼šè‡ªåŠ¨è¿½è¸ª <code>count</code> çš„å˜åŒ–ï¼Œå½“ <code>count</code> æ”¹å˜æ—¶ï¼Œè‡ªåŠ¨é‡æ–°æ‰§è¡Œ <code>Counter</code> å‡½æ•°ï¼Œæ›´æ–° UIã€‚</p>
<h3 data-id="heading-3">1.2 Slot Tableï¼šCompose çš„"è®°å¿†"ç³»ç»Ÿ</h3>
<p>Compose å¦‚ä½•çŸ¥é“å“ªäº› Composable éœ€è¦é‡ç»„ï¼Ÿç­”æ¡ˆå°±æ˜¯ <strong>Slot Table</strong>ã€‚</p>
<h4 data-id="heading-4">1.2.1 ä¸ºä»€ä¹ˆéœ€è¦ Slot Tableï¼Ÿ</h4>
<p>æƒ³è±¡è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Counter</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> count <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-number">0</span>) }
    
    Button(onClick = { count++ }) {
        Text(<span class="hljs-string">"Count: <span class="hljs-variable">$count</span>"</span>)
    }
}
</code></pre>
<p>å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®ï¼Œ<code>count</code> ä» 0 å˜æˆ 1ã€‚æ­¤æ—¶ Compose éœ€è¦ï¼š</p>
<ol>
<li>çŸ¥é“ <code>count</code> çš„æ–°å€¼æ˜¯ 1</li>
<li>çŸ¥é“å“ªäº› Composable è¯»å–äº† <code>count</code></li>
<li>åªæ›´æ–°é‚£äº› Composable</li>
</ol>
<p><strong>Slot Table å°±æ˜¯è§£å†³è¿™ä¸ªé—®é¢˜çš„æ ¸å¿ƒæœºåˆ¶</strong>ã€‚</p>
<h4 data-id="heading-5">1.2.2 Slot Table æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p>Slot Table æ˜¯ Compose è¿è¡Œæ—¶ç»´æŠ¤çš„ä¸€ä¸ª<strong>çº¿æ€§æ•°ç»„</strong>ï¼Œç”¨äºå­˜å‚¨ Composable å‡½æ•°çš„æ‰§è¡Œç»“æœã€‚ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸º Compose çš„"è®°å¿†ç³»ç»Ÿ"ã€‚</p>
<pre><code class="hljs language-vbnet" lang="vbnet">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Slot Table ç»“æ„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ç´¢å¼•    ç±»å‹          å†…å®¹                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚   <span class="hljs-number">0</span>      <span class="hljs-keyword">Group</span>        Counter (Composable ç»„)                   â”‚
â”‚   <span class="hljs-number">1</span>      Int          <span class="hljs-number">0</span> (remember çš„ <span class="hljs-keyword">key</span>)                       â”‚
â”‚   <span class="hljs-number">2</span>      State        MutableState(value=<span class="hljs-number">0</span>)                     â”‚
â”‚   <span class="hljs-number">3</span>      <span class="hljs-keyword">Group</span>        Button                                    â”‚
â”‚   <span class="hljs-number">4</span>      Lambda       onClick = { count++ }                     â”‚
â”‚   <span class="hljs-number">5</span>      <span class="hljs-keyword">Group</span>        <span class="hljs-keyword">Text</span>                                      â”‚
â”‚   <span class="hljs-number">6</span>      <span class="hljs-type">String</span>       <span class="hljs-string">"Count: 0"</span>                                â”‚
â”‚   <span class="hljs-number">7</span>      EndGroup     <span class="hljs-keyword">Text</span> ç»“æŸ                                 â”‚
â”‚   <span class="hljs-number">8</span>      EndGroup     Button ç»“æŸ                               â”‚
â”‚   <span class="hljs-number">9</span>      EndGroup     Counter ç»“æŸ                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>Slot Table çš„ä¸‰å¤§ä½œç”¨</strong>ï¼š</p>
<ol>
<li><strong>è®°å¿†çŠ¶æ€</strong>ï¼šä¿å­˜ <code>remember</code>ã€<code>mutableStateOf</code> ç­‰çš„çŠ¶æ€ï¼Œé‡ç»„æ—¶ä¸ä¸¢å¤±</li>
<li><strong>è¿½è¸ªç»“æ„</strong>ï¼šè®°å½• Composable æ ‘çš„ç»“æ„ï¼ŒçŸ¥é“å“ªä¸ªç»„ä»¶åœ¨å“ªé‡Œ</li>
<li><strong>æ”¯æŒé‡ç»„</strong>ï¼šé€šè¿‡å¯¹æ¯”æ–°æ—§ Slot Tableï¼Œç¡®å®šå“ªäº›éƒ¨åˆ†éœ€è¦æ›´æ–°</li>
</ol>
<h4 data-id="heading-6">1.2.3 Slot Table çš„æºç å®ç°</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// SlotTable ç®€åŒ–ç‰ˆæºç ï¼ˆä½äº androidx.compose.runtime åŒ…ï¼‰</span>
<span class="hljs-keyword">internal</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SlotTable</span> {
    <span class="hljs-comment">// å­˜å‚¨æ•°æ®çš„æ•°ç»„ï¼Œæ‰€æœ‰çŠ¶æ€å’Œå¯¹è±¡éƒ½å­˜åœ¨è¿™é‡Œ</span>
    <span class="hljs-keyword">val</span> slots = Array&lt;Any?&gt;(<span class="hljs-number">64</span>) { <span class="hljs-literal">null</span> }
    
    <span class="hljs-comment">// å½“å‰å†™å…¥ä½ç½®</span>
    <span class="hljs-keyword">var</span> currentSlot = <span class="hljs-number">0</span>
    
    <span class="hljs-comment">// ç»„ï¼ˆGroupï¼‰çš„æ ˆï¼Œç”¨äºè¿½è¸ªåµŒå¥—çš„ Composable</span>
    <span class="hljs-keyword">val</span> groups = IntArray(<span class="hljs-number">64</span>)
    <span class="hljs-keyword">var</span> currentGroup = <span class="hljs-number">0</span>
    
    <span class="hljs-comment">// å†™å…¥æ•°æ®åˆ°å½“å‰ä½ç½®ï¼Œç„¶åç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">write</span><span class="hljs-params">(value: <span class="hljs-type">Any</span>?)</span></span> {
        slots[currentSlot++] = value
    }
    
    <span class="hljs-comment">// è¯»å–å½“å‰ä½ç½®çš„æ•°æ®ï¼Œç„¶åç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ª</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">read</span><span class="hljs-params">()</span></span>: Any? = slots[currentSlot++]
    
    <span class="hljs-comment">// å¼€å§‹ä¸€ä¸ªç»„ï¼ˆComposableï¼‰</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">startGroup</span><span class="hljs-params">(key: <span class="hljs-type">Int</span>)</span></span> {
        groups[currentGroup++] = currentSlot
        write(key)
    }
    
    <span class="hljs-comment">// ç»“æŸä¸€ä¸ªç»„</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">endGroup</span><span class="hljs-params">()</span></span> {
        currentGroup--
    }
}
</code></pre>
<h4 data-id="heading-7">1.2.4 Slot Table å¦‚ä½•å·¥ä½œï¼Ÿ</h4>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®Œæ•´ä¾‹å­ç†è§£ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Counter</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> count <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-number">0</span>) }
    
    Button(onClick = { count++ }) {
        Text(<span class="hljs-string">"Count: <span class="hljs-variable">$count</span>"</span>)
    }
}
</code></pre>
<p><strong>é¦–æ¬¡ç»„åˆæ—¶</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-number">1</span>. å¼€å§‹ Counter ç»„
   SlotTable<span class="hljs-selector-class">.startGroup</span>("Counter".hashCode())
   
<span class="hljs-number">2</span>. æ‰§è¡Œ remember { <span class="hljs-built_in">mutableStateOf</span>(<span class="hljs-number">0</span>) }
   - åˆ›å»º MutableState å¯¹è±¡
   - å†™å…¥ SlotTable: <span class="hljs-built_in">write</span>(<span class="hljs-built_in">MutableState</span>(<span class="hljs-number">0</span>))
   
<span class="hljs-number">3</span>. å¼€å§‹ Button ç»„
   SlotTable.<span class="hljs-built_in">startGroup</span>(<span class="hljs-string">"Button"</span>.<span class="hljs-built_in">hashCode</span>())
   
<span class="hljs-number">4</span>. æ‰§è¡Œ <span class="hljs-built_in">Text</span>(<span class="hljs-string">"Count: $count"</span>)
   - è¯»å– count çš„å€¼: <span class="hljs-number">0</span>
   - å†™å…¥ SlotTable: <span class="hljs-built_in">write</span>(<span class="hljs-string">"Count: 0"</span>)
   
<span class="hljs-number">5</span>. ç»“æŸæ‰€æœ‰ç»„
</code></pre>
<p><strong>é‡ç»„æ—¶</strong>ï¼ˆç”¨æˆ·ç‚¹å‡»åï¼Œcount å˜æˆ 1ï¼‰ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> å¼€å§‹ Counter ç»„
<span class="hljs-bullet">   -</span> å‘ç°è¿™ä¸ªç»„å·²ç»å­˜åœ¨
<span class="hljs-bullet">   -</span> è·³è¿‡å·²å­˜åœ¨çš„å†…å®¹ï¼Œåªå¯¹æ¯”å˜åŒ–
   
<span class="hljs-bullet">2.</span> æ‰§è¡Œ remember
<span class="hljs-bullet">   -</span> å‘ç° remember å·²ç»å­˜åœ¨
<span class="hljs-bullet">   -</span> ç›´æ¥è¿”å›ç¼“å­˜çš„ MutableState
   
<span class="hljs-bullet">3.</span> æ‰§è¡Œ Text("Count: $count")
<span class="hljs-bullet">   -</span> å‘ç°ä¹‹å‰çš„å€¼æ˜¯ "Count: 0"
<span class="hljs-bullet">   -</span> æ–°çš„å€¼æ˜¯ "Count: 1"
<span class="hljs-bullet">   -</span> å€¼ä¸åŒï¼éœ€è¦æ›´æ–°
   
<span class="hljs-bullet">4.</span> åªæ›´æ–° Text ç»„ä»¶
</code></pre>
<h3 data-id="heading-8">1.3 Composition çš„ç”Ÿå‘½å‘¨æœŸ</h3>
<p>Compose çš„æ¸²æŸ“è¿‡ç¨‹åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š</p>
<pre><code class="hljs language-sql" lang="sql">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Composition ç”Ÿå‘½å‘¨æœŸ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   åˆå§‹ç»„åˆ (<span class="hljs-keyword">Initial</span> Composition)                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-number">1.</span> æ‰§è¡Œ Composable å‡½æ•°                                  â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">2.</span> å¡«å…… Slot <span class="hljs-keyword">Table</span>                                       â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">3.</span> åˆ›å»º LayoutNode æ ‘                                    â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">4.</span> æµ‹é‡ã€å¸ƒå±€ã€ç»˜åˆ¶                                       â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â†“                                  â”‚
â”‚   çŠ¶æ€å˜åŒ–                                                      â”‚
â”‚                              â†“                                  â”‚
â”‚   é‡ç»„ (Recomposition)                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-number">1.</span> æ£€æµ‹åˆ° State å˜åŒ–                                     â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">2.</span> æ ‡è®°å—å½±å“çš„ Composable ä¸º"è¿‡æœŸ"                      â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">3.</span> é‡æ–°æ‰§è¡Œè¿‡æœŸçš„ Composable                             â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">4.</span> å¯¹æ¯”æ–°æ—§ Slot <span class="hljs-keyword">Table</span>                                   â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">5.</span> åªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†                                      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â†“                                  â”‚
â”‚   å¸ƒå±€ä¸ç»˜åˆ¶ (Layout <span class="hljs-operator">&amp;</span> Draw)                                    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-number">1.</span> æµ‹é‡å—å½±å“çš„èŠ‚ç‚¹                                       â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">2.</span> å¸ƒå±€å—å½±å“çš„èŠ‚ç‚¹                                       â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">3.</span> ç»˜åˆ¶å—å½±å“çš„åŒºåŸŸ                                       â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-9">1.4 é‡ç»„çš„è§¦å‘æœºåˆ¶</h3>
<h4 data-id="heading-10">1.4.1 State å˜åŒ–å¦‚ä½•è§¦å‘é‡ç»„ï¼Ÿ</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// mutableStateOf çš„ç®€åŒ–å®ç°</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">mutableStateOf</span><span class="hljs-params">(value: <span class="hljs-type">T</span>)</span></span>: MutableState&lt;T&gt; =
    SnapshotMutableStateImpl(value)

<span class="hljs-comment">// SnapshotMutableStateImpl ç®€åŒ–ç‰ˆ</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SnapshotMutableStateImpl</span>&lt;<span class="hljs-type">T</span>&gt;(initial: T) : MutableState&lt;T&gt; {
    <span class="hljs-meta">@Suppress(<span class="hljs-string">"UNCHECKED_CAST"</span>)</span>
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">var</span> value: T
        <span class="hljs-keyword">get</span>() = next.readable(<span class="hljs-keyword">this</span>).value
        <span class="hljs-keyword">set</span>(value) = next.withCurrent {
            <span class="hljs-keyword">if</span> (it.value != value) {
                <span class="hljs-comment">// 1. åˆ›å»ºæ–°çš„ State è®°å½•</span>
                next = it.newStateRecord(value)
                <span class="hljs-comment">// 2. é€šçŸ¥è§‚å¯Ÿè€…</span>
                notifyObservers()
            }
        }
}
</code></pre>
<p><strong>è§¦å‘æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">1. ç”¨æˆ·ç‚¹å‡»æŒ‰é’®
        â†“
2. count++ æ‰§è¡Œ
        â†“
<span class="hljs-attr">3. MutableState.value</span> = newValue
        â†“
4. åˆ›å»ºæ–°çš„ Snapshot è®°å½•
        â†“
5. é€šçŸ¥æ‰€æœ‰è¯»å–è¿‡è¯¥ State çš„ Composable
        â†“
6. å°†è¿™äº› Composable æ ‡è®°ä¸º"éœ€è¦é‡ç»„"
        â†“
7. åœ¨ä¸‹ä¸€å¸§ï¼Œæ‰§è¡Œé‡ç»„
</code></pre>
<h4 data-id="heading-11">1.4.2 é‡ç»„çš„èŒƒå›´æ§åˆ¶</h4>
<p>Compose ä¼šå°½é‡ç¼©å°é‡ç»„çš„èŒƒå›´ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Parent</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> count <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-number">0</span>) }
    
    Column {
        <span class="hljs-comment">// è¿™ä¸ª Text ä¼šé‡ç»„ï¼Œå› ä¸ºå®ƒè¯»å–äº† count</span>
        Text(<span class="hljs-string">"Count: <span class="hljs-variable">$count</span>"</span>)
        
        <span class="hljs-comment">// è¿™ä¸ª Button ä¸ä¼šé‡ç»„ï¼Œå› ä¸ºå®ƒæ²¡æœ‰è¯»å– count</span>
        Button(onClick = { count++ }) {
            Text(<span class="hljs-string">"Increment"</span>)
        }
        
        <span class="hljs-comment">// Child ä¼šé‡ç»„å—ï¼Ÿå–å†³äºå®ƒæ˜¯å¦è¯»å–äº† count</span>
        Child(count)
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Child</span><span class="hljs-params">(count: <span class="hljs-type">Int</span>)</span></span> {
    <span class="hljs-comment">// å¦‚æœè¿™é‡Œä½¿ç”¨äº† countï¼Œå°±ä¼šé‡ç»„</span>
    Text(<span class="hljs-string">"Child: <span class="hljs-variable">$count</span>"</span>)
}
</code></pre>
<p><strong>é‡ç»„èŒƒå›´è§„åˆ™</strong>ï¼š</p>
<ul>
<li>åªæœ‰<strong>è¯»å–äº†å˜åŒ– State</strong> çš„ Composable æ‰ä¼šé‡ç»„</li>
<li>é‡ç»„ä¼š<strong>å‘ä¸‹ä¼ æ’­</strong>åˆ°æ‰€æœ‰å­ Composable</li>
<li>å¯ä»¥é€šè¿‡<strong>å‚æ•°ä¼ é€’</strong>æ§åˆ¶é‡ç»„èŒƒå›´</li>
</ul>
<h3 data-id="heading-12">1.5 é‡ç»„çš„ä¼˜åŒ–ç­–ç•¥</h3>
<h4 data-id="heading-13">1.5.1 @Stable ä¸ @Immutable</h4>
<p>Compose ä½¿ç”¨ <strong>ç¨³å®šæ€§ï¼ˆStabilityï¼‰</strong> æ¥åˆ¤æ–­å¯¹è±¡å˜åŒ–æ—¶æ˜¯å¦éœ€è¦é‡ç»„ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¸ç¨³å®šç±» - ä»»ä½•å˜åŒ–éƒ½ä¼šè§¦å‘é‡ç»„</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UnstableUser</span> {
    <span class="hljs-keyword">var</span> name: String = <span class="hljs-string">""</span>
    <span class="hljs-keyword">var</span> age: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>
}

<span class="hljs-comment">// ç¨³å®šç±» - åªæœ‰å±æ€§å˜åŒ–æ—¶è§¦å‘é‡ç»„</span>
<span class="hljs-meta">@Stable</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">StableUser</span> {
    <span class="hljs-keyword">var</span> name: String = <span class="hljs-string">""</span>
    <span class="hljs-keyword">var</span> age: <span class="hljs-built_in">Int</span> = <span class="hljs-number">0</span>
}

<span class="hljs-comment">// ä¸å¯å˜ç±» - å®ä¾‹æ›¿æ¢æ—¶è§¦å‘é‡ç»„</span>
<span class="hljs-meta">@Immutable</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ImmutableUser</span>(
    <span class="hljs-keyword">val</span> name: String,
    <span class="hljs-keyword">val</span> age: <span class="hljs-built_in">Int</span>
)
</code></pre>
<p><strong>ç¨³å®šæ€§å¯¹æ¯”</strong>ï¼š</p>

























<table><thead><tr><th>æ³¨è§£</th><th>è¯´æ˜</th><th>è§¦å‘é‡ç»„æ¡ä»¶</th></tr></thead><tbody><tr><td>æ— </td><td>ä¸ç¨³å®š</td><td>ä»»ä½•æƒ…å†µéƒ½å¯èƒ½é‡ç»„</td></tr><tr><td>@Stable</td><td>ç¨³å®š</td><td>å±æ€§å˜åŒ–æ—¶é‡ç»„</td></tr><tr><td>@Immutable</td><td>ä¸å¯å˜</td><td>å®ä¾‹æ›¿æ¢æ—¶é‡ç»„</td></tr></tbody></table>
<h4 data-id="heading-14">1.5.2 remember çš„å¦™ç”¨</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ExpensiveCalculation</span><span class="hljs-params">(<span class="hljs-keyword">data</span>: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Int</span>&gt;)</span></span> {
    <span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ¯æ¬¡é‡ç»„éƒ½é‡æ–°è®¡ç®—</span>
    <span class="hljs-keyword">val</span> sum = <span class="hljs-keyword">data</span>.sum()
    
    <span class="hljs-comment">// âœ… æ­£ç¡®ï¼šåªåœ¨ data å˜åŒ–æ—¶è®¡ç®—</span>
    <span class="hljs-keyword">val</span> sum = remember(<span class="hljs-keyword">data</span>) { <span class="hljs-keyword">data</span>.sum() }
    
    Text(<span class="hljs-string">"Sum: <span class="hljs-variable">$sum</span>"</span>)
}
</code></pre>
<h4 data-id="heading-15">1.5.3 derivedStateOfï¼šæ´¾ç”ŸçŠ¶æ€</h4>
<p>å½“çŠ¶æ€å˜åŒ–é¢‘ç¹ï¼Œä½† UI ä¸éœ€è¦æ¯æ¬¡éƒ½æ›´æ–°æ—¶ï¼Œä½¿ç”¨ <code>derivedStateOf</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">SearchList</span><span class="hljs-params">(query: <span class="hljs-type">String</span>, items: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Item</span>&gt;)</span></span> {
    <span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ¯æ¬¡ query å˜åŒ–éƒ½è¿‡æ»¤æ•´ä¸ªåˆ—è¡¨</span>
    <span class="hljs-keyword">val</span> filtered = items.filter { it.name.contains(query) }
    
    <span class="hljs-comment">// âœ… æ­£ç¡®ï¼šåªåœ¨å¿…è¦æ—¶æ›´æ–°</span>
    <span class="hljs-keyword">val</span> filtered <span class="hljs-keyword">by</span> remember {
        derivedStateOf {
            items.filter { it.name.contains(query) }
        }
    }
    
    LazyColumn {
        items(filtered) { item -&gt;
            ItemRow(item)
        }
    }
}
</code></pre>
<p><strong>derivedStateOf çš„åŸç†</strong>ï¼š</p>
<ul>
<li>å†…éƒ¨ç»´æŠ¤ä¸€ä¸ªç¼“å­˜å€¼</li>
<li>åªæœ‰è¯»å–æ—¶æ‰ä¼šé‡æ–°è®¡ç®—</li>
<li>è®¡ç®—ç»“æœå˜åŒ–æ—¶æ‰é€šçŸ¥è§‚å¯Ÿè€…</li>
</ul>
<hr/>
<h2 data-id="heading-16">äºŒã€remember ä¸ mutableStateOf æºç è§£æ</h2>
<h3 data-id="heading-17">2.1 remember çš„åŸç†</h3>
<p><code>remember</code> æ˜¯ Compose ä¸­ç”¨äº<strong>ç¼“å­˜è®¡ç®—ç»“æœ</strong>çš„å‡½æ•°ã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼šåœ¨é‡ç»„æ—¶ä¿æŒçŠ¶æ€ä¸å˜ã€‚</p>
<h4 data-id="heading-18">2.1.1 ä¸ºä»€ä¹ˆéœ€è¦ rememberï¼Ÿ</h4>
<p>çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Counter</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> count = <span class="hljs-number">0</span>  <span class="hljs-comment">// âŒ é”™è¯¯ï¼šæ¯æ¬¡é‡ç»„éƒ½ä¼šé‡ç½®ä¸º 0</span>
    
    Button(onClick = { count++ }) {
        Text(<span class="hljs-string">"Count: <span class="hljs-variable">$count</span>"</span>)
    }
}
</code></pre>
<p>æ¯æ¬¡ç”¨æˆ·ç‚¹å‡»æŒ‰é’®ï¼Œè§¦å‘é‡ç»„ï¼Œ<code>count</code> éƒ½ä¼šè¢«é‡æ–°åˆå§‹åŒ–ä¸º 0ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰"è®°ä½"è¿™ä¸ªå€¼ã€‚</p>
<p><strong>remember çš„ä½œç”¨</strong>ï¼šåœ¨é¦–æ¬¡ç»„åˆæ—¶è®¡ç®—å€¼ï¼Œå¹¶åœ¨åç»­é‡ç»„æ—¶è¿”å›ç¼“å­˜çš„å€¼ã€‚</p>
<h4 data-id="heading-19">2.1.2 remember çš„æºç å®ç°</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// remember çš„ç®€åŒ–å®ç°</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">remember</span><span class="hljs-params">(
    <span class="hljs-keyword">vararg</span> keys: <span class="hljs-type">Any</span>?,  <span class="hljs-comment">// ç¼“å­˜çš„ key</span>
    calculation: () -&gt; <span class="hljs-type">T</span>  <span class="hljs-comment">// è®¡ç®—å‡½æ•°</span>
)</span></span>: T {
    <span class="hljs-comment">// è·å–å½“å‰ Composer</span>
    <span class="hljs-keyword">val</span> composer = currentComposer
    
    <span class="hljs-comment">// åœ¨ Slot Table ä¸­æŸ¥æ‰¾ç¼“å­˜</span>
    <span class="hljs-keyword">val</span> slot = composer.nextSlot()
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> (slot === Composer.Empty || 
               keys.any { it != composer.rememberedValue() }) {
        <span class="hljs-comment">// ç¼“å­˜ä¸å­˜åœ¨æˆ– key å˜åŒ–ï¼Œé‡æ–°è®¡ç®—</span>
        <span class="hljs-keyword">val</span> value = calculation()
        composer.updateRememberedValue(value)
        value
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç¼“å­˜</span>
        <span class="hljs-meta">@Suppress(<span class="hljs-string">"UNCHECKED_CAST"</span>)</span>
        slot <span class="hljs-keyword">as</span> T
    }
}
</code></pre>
<p><strong>æ‰§è¡Œæµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      remember æ‰§è¡Œæµç¨‹                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ç¬¬ä¸€æ¬¡ç»„åˆ                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">1</span>. è¯»å– Slot <span class="hljs-selector-tag">Table</span> â†’ å¾—åˆ° Composer<span class="hljs-selector-class">.Empty</span>               â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">2</span>. æ‰§è¡Œ calculation()                                   â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">3</span>. å°†ç»“æœå†™å…¥ Slot <span class="hljs-selector-tag">Table</span>                                â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">4</span>. è¿”å›ç»“æœ                                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                  â”‚
â”‚  é‡ç»„ï¼ˆkey æœªå˜åŒ–ï¼‰                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">1</span>. è¯»å– Slot <span class="hljs-selector-tag">Table</span> â†’ å¾—åˆ°ç¼“å­˜å€¼                         â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">2</span>. å¯¹æ¯” keys â†’ æ²¡æœ‰å˜åŒ–                                 â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">3</span>. ç›´æ¥è¿”å›ç¼“å­˜å€¼ï¼ˆè·³è¿‡äº† calculationï¼‰                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                  â”‚
â”‚  é‡ç»„ï¼ˆkey å˜åŒ–ï¼‰                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">1</span>. è¯»å– Slot <span class="hljs-selector-tag">Table</span> â†’ å¾—åˆ°ç¼“å­˜å€¼                         â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">2</span>. å¯¹æ¯” keys â†’ æœ‰å˜åŒ–                                   â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">3</span>. æ‰§è¡Œ calculation()                                   â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">4</span>. æ›´æ–° Slot <span class="hljs-selector-tag">Table</span>                                      â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">5</span>. è¿”å›æ–°ç»“æœ                                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-20">2.1.3 remember çš„å¤šç§ç”¨æ³•</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. æ—  key - æ°¸è¿œä½¿ç”¨ç¼“å­˜</span>
<span class="hljs-keyword">val</span> value = remember { expensiveCalculation() }

<span class="hljs-comment">// 2. æœ‰ key - key å˜åŒ–æ—¶é‡æ–°è®¡ç®—</span>
<span class="hljs-keyword">val</span> value = remember(userId) { loadUser(userId) }

<span class="hljs-comment">// 3. å¤šä¸ª key - ä»»ä¸€ key å˜åŒ–éƒ½é‡æ–°è®¡ç®—</span>
<span class="hljs-keyword">val</span> value = remember(userId, refreshFlag) { loadUser(userId) }

<span class="hljs-comment">// 4. rememberSaveable - é…ç½®å˜æ›´åæ¢å¤</span>
<span class="hljs-keyword">val</span> value = rememberSaveable { mutableStateOf(<span class="hljs-number">0</span>) }
</code></pre>
<h3 data-id="heading-21">2.2 mutableStateOf çš„åŸç†</h3>
<p><code>mutableStateOf</code> åˆ›å»ºäº†ä¸€ä¸ª<strong>å¯è§‚å¯Ÿçš„çŠ¶æ€å¯¹è±¡</strong>ï¼Œå½“å€¼å˜åŒ–æ—¶ä¼šè‡ªåŠ¨è§¦å‘é‡ç»„ã€‚</p>
<h4 data-id="heading-22">2.2.1 mutableStateOf çš„æºç å®ç°</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// mutableStateOf å®ç°</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T&gt;</span> <span class="hljs-title">mutableStateOf</span><span class="hljs-params">(
    value: <span class="hljs-type">T</span>,
    policy: <span class="hljs-type">SnapshotMutationPolicy</span>&lt;<span class="hljs-type">T</span>&gt; = structuralEqualityPolicy()</span></span>
): MutableState&lt;T&gt; = createSnapshotMutableState(value, policy)

<span class="hljs-comment">// SnapshotMutableStateImpl ç®€åŒ–ç‰ˆ</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SnapshotMutableStateImpl</span>&lt;<span class="hljs-type">T</span>&gt;(
    initial: T,
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> policy: SnapshotMutationPolicy&lt;T&gt;
) : MutableState&lt;T&gt; {
    
    <span class="hljs-meta">@Suppress(<span class="hljs-string">"UNCHECKED_CAST"</span>)</span>
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">var</span> value: T
        <span class="hljs-keyword">get</span>() = next.readable(<span class="hljs-keyword">this</span>).value
        <span class="hljs-keyword">set</span>(value) = next.withCurrent {
            <span class="hljs-comment">// ä½¿ç”¨ policy åˆ¤æ–­æ˜¯å¦ç›¸ç­‰</span>
            <span class="hljs-keyword">if</span> (!policy.equivalent(it.value, value)) {
                <span class="hljs-comment">// åˆ›å»ºæ–°çš„ State è®°å½•</span>
                next = it.newStateRecord(value)
            }
        }
    
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">component1</span><span class="hljs-params">()</span></span>: T = value
    <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">component2</span><span class="hljs-params">()</span></span>: (T) -&gt; <span class="hljs-built_in">Unit</span> = { value = it }
}
</code></pre>
<h4 data-id="heading-23">2.2.2 Snapshot æœºåˆ¶</h4>
<p>Compose çš„ State åŸºäº <strong>Snapshotï¼ˆå¿«ç…§ï¼‰</strong> æœºåˆ¶å®ç°ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Snapshot æœºåˆ¶                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   Snapshot 1 (å½“å‰)                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  StateRecord 1: <span class="hljs-attr">value</span> = <span class="hljs-string">"A"</span>                             â”‚  â”‚
â”‚   â”‚  StateRecord 2: <span class="hljs-attr">value</span> = <span class="hljs-string">"B"</span>  â† å½“å‰å€¼                   â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â†“                                  â”‚
â”‚   <span class="hljs-attr">value</span> = <span class="hljs-string">"C"</span> (ä¿®æ”¹)                                            â”‚
â”‚                              â†“                                  â”‚
â”‚   Snapshot 2 (æ–°å¿«ç…§)                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚  StateRecord 1: <span class="hljs-attr">value</span> = <span class="hljs-string">"A"</span>                             â”‚  â”‚
â”‚   â”‚  StateRecord 2: <span class="hljs-attr">value</span> = <span class="hljs-string">"B"</span>                             â”‚  â”‚
â”‚   â”‚  StateRecord 3: <span class="hljs-attr">value</span> = <span class="hljs-string">"C"</span>  â† æ–°è®°å½•                   â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â†“                                  â”‚
â”‚   é€šçŸ¥è§‚å¯Ÿè€…ï¼šå€¼ä» "B" å˜ä¸º "C"                                  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>Snapshot çš„ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>åŸå­æ€§</strong>ï¼šå¤šä¸ª State çš„ä¿®æ”¹è¦ä¹ˆå…¨éƒ¨ç”Ÿæ•ˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸ç”Ÿæ•ˆ</li>
<li><strong>ä¸€è‡´æ€§</strong>ï¼šè¯»å–æ—¶çœ‹åˆ°çš„æ˜¯ä¸€è‡´çš„å¿«ç…§</li>
<li><strong>å¯å›æ»š</strong>ï¼šå¯ä»¥ä¸¢å¼ƒæœªæäº¤çš„ä¿®æ”¹</li>
</ul>
<h4 data-id="heading-24">2.2.3 çŠ¶æ€æ¯”è¾ƒç­–ç•¥</h4>
<p><code>mutableStateOf</code> æ”¯æŒä¸‰ç§æ¯”è¾ƒç­–ç•¥ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. ç»“æ„ç›¸ç­‰ï¼ˆé»˜è®¤ï¼‰- ä½¿ç”¨ == æ¯”è¾ƒ</span>
<span class="hljs-keyword">val</span> state = mutableStateOf(listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>))
state.value = listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)  <span class="hljs-comment">// ä¸ä¼šè§¦å‘é‡ç»„ï¼Œå› ä¸ºå†…å®¹ç›¸ç­‰</span>

<span class="hljs-comment">// 2. å¼•ç”¨ç›¸ç­‰ - ä½¿ç”¨ === æ¯”è¾ƒ</span>
<span class="hljs-keyword">val</span> state = mutableStateOf(listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>), policy = referentialEqualityPolicy())
state.value = listOf(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)  <span class="hljs-comment">// ä¼šè§¦å‘é‡ç»„ï¼Œå› ä¸ºæ˜¯æ–°å¯¹è±¡</span>

<span class="hljs-comment">// 3. æ°¸ä¸æ¯”è¾ƒ - æ€»æ˜¯è®¤ä¸ºä¸åŒ</span>
<span class="hljs-keyword">val</span> state = mutableStateOf(<span class="hljs-number">0</span>, policy = neverEqualPolicy())
state.value = <span class="hljs-number">0</span>  <span class="hljs-comment">// ä¼šè§¦å‘é‡ç»„</span>
</code></pre>
<h3 data-id="heading-25">2.3 rememberSaveable çš„åŸç†</h3>
<p><code>rememberSaveable</code> å¯ä»¥åœ¨<strong>é…ç½®å˜æ›´</strong>ï¼ˆå¦‚å±å¹•æ—‹è½¬ï¼‰åæ¢å¤çŠ¶æ€ã€‚</p>
<h4 data-id="heading-26">2.3.1 ä¸ºä»€ä¹ˆéœ€è¦ rememberSaveableï¼Ÿ</h4>
<p>çœ‹ä¸€ä¸ªåœºæ™¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">FormScreen</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> name <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-string">""</span>) }
    <span class="hljs-keyword">var</span> email <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-string">""</span>) }
    
    <span class="hljs-comment">// ç”¨æˆ·å¡«å†™äº†è¡¨å•...</span>
    
    <span class="hljs-comment">// æ—‹è½¬å±å¹•åï¼Œname å’Œ email éƒ½å˜æˆç©ºå­—ç¬¦ä¸²äº†ï¼</span>
    <span class="hljs-comment">// å› ä¸º Activity é‡å»ºï¼Œremember çš„ç¼“å­˜ä¸¢å¤±äº†</span>
}
</code></pre>
<p><strong>rememberSaveable çš„ä½œç”¨</strong>ï¼šå°†çŠ¶æ€ä¿å­˜åˆ° Bundleï¼Œé…ç½®å˜æ›´åè‡ªåŠ¨æ¢å¤ã€‚</p>
<h4 data-id="heading-27">2.3.2 å®ç°åŸç†</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-keyword">inline</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-type">&lt;T : Any&gt;</span> <span class="hljs-title">rememberSaveable</span><span class="hljs-params">(
    <span class="hljs-keyword">vararg</span> inputs: <span class="hljs-type">Any</span>?,
    saver: <span class="hljs-type">Saver</span>&lt;<span class="hljs-type">T</span>, <span class="hljs-keyword">out</span> Any&gt; = autoSaver()</span></span>,
    key: String? = <span class="hljs-literal">null</span>,
    <span class="hljs-keyword">init</span>: () -&gt; T
): T {
    <span class="hljs-comment">// ç»„åˆæœ¬åœ°æä¾›çš„ SaveableStateRegistry</span>
    <span class="hljs-keyword">val</span> registry = LocalSaveableStateRegistry.current
    
    <span class="hljs-comment">// ç”Ÿæˆå”¯ä¸€ key</span>
    <span class="hljs-keyword">val</span> finalKey = key ?: rememberSaveableKey()
    
    <span class="hljs-comment">// å°è¯•ä» Bundle æ¢å¤</span>
    <span class="hljs-keyword">val</span> restored = registry?.consumeRestored(finalKey)
    
    <span class="hljs-comment">// åˆ›å»ºæˆ–æ¢å¤çŠ¶æ€</span>
    <span class="hljs-keyword">val</span> value = remember(*inputs) {
        restored?.let { saver.restore(it) } ?: <span class="hljs-keyword">init</span>()
    }
    
    <span class="hljs-comment">// æ³¨å†Œä¿å­˜å›è°ƒ</span>
    <span class="hljs-keyword">if</span> (registry != <span class="hljs-literal">null</span>) {
        DisposableEffect(registry, finalKey, saver) {
            <span class="hljs-keyword">val</span> entry = registry.registerProvider(finalKey) {
                saver.save(value)
            }
            onDispose { entry.unregister() }
        }
    }
    
    <span class="hljs-keyword">return</span> value
}
</code></pre>
<p><strong>ä¿å­˜ä¸æ¢å¤æµç¨‹</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  rememberSaveable æµç¨‹                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   é¦–æ¬¡åˆ›å»º                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-number">1</span>. æ£€æŸ¥ Bundle ä¸­æ²¡æœ‰è¯¥ key çš„ä¿å­˜å€¼                     â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">2</span>. æ‰§è¡Œ <span class="hljs-built_in">init</span>() åˆ›å»ºåˆå§‹å€¼                               â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">3</span>. æ³¨å†Œä¿å­˜å›è°ƒåˆ° SaveableStateRegistry                 â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">4</span>. è¿”å›åˆå§‹å€¼                                           â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â†“                                  â”‚
â”‚   é…ç½®å˜æ›´ï¼ˆå¦‚æ—‹è½¬å±å¹•ï¼‰                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-number">1</span>. Activity è¢«é”€æ¯ï¼Œè§¦å‘ onSaveInstanceState            â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">2</span>. SaveableStateRegistry è°ƒç”¨æ‰€æœ‰æ³¨å†Œçš„ä¿å­˜å›è°ƒ          â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">3</span>. å°†å€¼åºåˆ—åŒ–ä¿å­˜åˆ° Bundle                               â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">4</span>. Activity é‡å»º                                         â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">5</span>. ä» Bundle æ¢å¤å€¼                                      â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">6</span>. rememberSaveable è¯»å–æ¢å¤çš„å€¼                         â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-28">2.3.3 è‡ªå®šä¹‰ Saver</h4>
<p><strong>ä»€ä¹ˆæ˜¯ Saverï¼Ÿ</strong></p>
<p>Saver æ˜¯ rememberSaveable ç”¨æ¥<strong>åºåˆ—åŒ–å’Œååºåˆ—åŒ–çŠ¶æ€</strong>çš„å·¥å…·ã€‚å› ä¸º Bundle åªèƒ½å­˜å‚¨ç‰¹å®šç±»å‹çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰ Compose å¦‚ä½•å°†è‡ªå®šä¹‰å¯¹è±¡è½¬æ¢ä¸º Bundle å¯å­˜å‚¨çš„æ ¼å¼ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦è‡ªå®šä¹‰ Saverï¼Ÿ</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè‡ªå®šä¹‰ç±»</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(
    <span class="hljs-keyword">val</span> id: <span class="hljs-built_in">Int</span>,
    <span class="hljs-keyword">val</span> name: String,
    <span class="hljs-keyword">val</span> email: String
)

<span class="hljs-comment">// âŒ é”™è¯¯ï¼šç›´æ¥ rememberSaveable ä¼šå´©æºƒ</span>
<span class="hljs-keyword">var</span> user <span class="hljs-keyword">by</span> rememberSaveable { mutableStateOf(User(<span class="hljs-number">1</span>, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"zhangsan@example.com"</span>)) }
<span class="hljs-comment">// å´©æºƒåŸå› ï¼šUser ç±»ä¸çŸ¥é“å¦‚ä½•ä¿å­˜åˆ° Bundle</span>
</code></pre>
<p><strong>è‡ªå®šä¹‰ Saver ç¤ºä¾‹</strong>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¸ºè‡ªå®šä¹‰ç±»åˆ›å»º Saver</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(<span class="hljs-keyword">val</span> id: <span class="hljs-built_in">Int</span>, <span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> email: String)

<span class="hljs-keyword">val</span> UserSaver = Saver&lt;User, Bundle&gt;(
    <span class="hljs-comment">// save: å°† User è½¬æ¢ä¸º Bundle</span>
    save = { user -&gt;
        Bundle().apply {
            putInt(<span class="hljs-string">"id"</span>, user.id)
            putString(<span class="hljs-string">"name"</span>, user.name)
            putString(<span class="hljs-string">"email"</span>, user.email)
        }
    },
    <span class="hljs-comment">// restore: ä» Bundle æ¢å¤ User</span>
    restore = { bundle -&gt;
        User(
            id = bundle.getInt(<span class="hljs-string">"id"</span>),
            name = bundle.getString(<span class="hljs-string">"name"</span>) ?: <span class="hljs-string">""</span>,
            email = bundle.getString(<span class="hljs-string">"email"</span>) ?: <span class="hljs-string">""</span>
        )
    }
)

<span class="hljs-comment">// ä½¿ç”¨è‡ªå®šä¹‰ Saver</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserScreen</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> user <span class="hljs-keyword">by</span> rememberSaveable(saver = UserSaver) {
        mutableStateOf(User(<span class="hljs-number">1</span>, <span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"zhangsan@example.com"</span>))
    }
    
    <span class="hljs-comment">// ç°åœ¨æ—‹è½¬å±å¹•åï¼Œuser çš„å€¼ä¼šè¢«æ­£ç¡®æ¢å¤</span>
    Text(<span class="hljs-string">"Name: <span class="hljs-subst">${user.name}</span>"</span>)
}
</code></pre>
<p><strong>Saver ç”Ÿæ•ˆæœºåˆ¶</strong>ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Saver ç”Ÿæ•ˆæµç¨‹                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ä¿å­˜æ—¶                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">1</span>. rememberSaveable æ£€æµ‹åˆ°é…ç½®å˜æ›´                       â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">2</span>. è°ƒç”¨ Saver<span class="hljs-selector-class">.save</span>(value)                                â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">3</span>. è¿”å› Bundle/Parcelable/List ç­‰å¯åºåˆ—åŒ–ç±»å‹            â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">4</span>. ç³»ç»Ÿè‡ªåŠ¨ä¿å­˜åˆ° Activity çš„ Bundle                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                  â”‚
â”‚  æ¢å¤æ—¶                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ <span class="hljs-number">1</span>. Activity é‡å»ºï¼Œä» Bundle è¯»å–ä¿å­˜çš„æ•°æ®               â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">2</span>. rememberSaveable è°ƒç”¨ Saver<span class="hljs-selector-class">.restore</span>(savedData)        â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">3</span>. è¿”å›æ¢å¤åçš„å¯¹è±¡                                        â”‚   â”‚
â”‚  â”‚ <span class="hljs-number">4</span>. èµ‹å€¼ç»™çŠ¶æ€å˜é‡                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>é€‚åˆä½¿ç”¨è‡ªå®šä¹‰ Saver çš„åœºæ™¯</strong>ï¼š</p>
<ol>
<li><strong>è¡¨å•æ•°æ®</strong>ï¼šç”¨æˆ·å¡«å†™çš„è¡¨å•ï¼Œæ—‹è½¬å±å¹•åéœ€è¦ä¿ç•™</li>
<li><strong>æ»šåŠ¨ä½ç½®</strong>ï¼šåˆ—è¡¨çš„æ»šåŠ¨ä½ç½®</li>
<li><strong>ç”¨æˆ·åå¥½</strong>ï¼šå½“å‰é€‰ä¸­çš„é€‰é¡¹ã€å¼€å…³çŠ¶æ€</li>
<li><strong>ä¸´æ—¶æ•°æ®</strong>ï¼šæœªæäº¤çš„ç¼–è¾‘å†…å®¹</li>
</ol>
<p><strong>ä¸é€‚åˆä½¿ç”¨ Saver çš„åœºæ™¯</strong>ï¼š</p>
<ol>
<li><strong>å¤§é‡æ•°æ®</strong>ï¼šBundle æœ‰å¤§å°é™åˆ¶ï¼ˆçº¦ 1MBï¼‰</li>
<li><strong>æ•æ„Ÿæ•°æ®</strong>ï¼šBundle æ•°æ®å¯ä»¥è¢«è¯»å–</li>
<li><strong>ä¸éœ€è¦æŒä¹…åŒ–çš„æ•°æ®</strong>ï¼šå¦‚ç½‘ç»œè¯·æ±‚ç»“æœ</li>
</ol>
<hr/>
<h2 data-id="heading-29">ä¸‰ã€çŠ¶æ€æå‡ï¼ˆState Hoistingï¼‰è®¾è®¡æ¨¡å¼</h2>
<h3 data-id="heading-30">3.1 ä»€ä¹ˆæ˜¯çŠ¶æ€æå‡ï¼Ÿ</h3>
<p><strong>çŠ¶æ€æå‡</strong>æ˜¯ Compose æ¨èçš„çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼šå°†çŠ¶æ€ä»å­ç»„ä»¶"æå‡"åˆ°çˆ¶ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡å‚æ•°æ¥æ”¶çŠ¶æ€ï¼Œé€šè¿‡å›è°ƒé€šçŸ¥çŠ¶æ€å˜åŒ–ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆå«"æå‡"ï¼Ÿ</strong></p>
<p>æƒ³è±¡ä¸€ä¸ªç»„ä»¶æ ‘ï¼š</p>
<pre><code class="hljs">Parent
â”œâ”€â”€ ChildA
â”‚   â””â”€â”€ GrandChild
â””â”€â”€ ChildB
</code></pre>
<p>å¦‚æœ <code>GrandChild</code> éœ€è¦ä¿®æ”¹çŠ¶æ€ï¼Œè€Œè¿™ä¸ªçŠ¶æ€éœ€è¦å½±å“ <code>ChildB</code>ï¼Œé‚£ä¹ˆçŠ¶æ€å°±éœ€è¦"æå‡"åˆ°å®ƒä»¬çš„å…±åŒç¥–å…ˆ <code>Parent</code>ã€‚</p>
<h3 data-id="heading-31">3.2 çŠ¶æ€æå‡çš„è®¾è®¡åŸåˆ™</h3>
<p><strong>å•ä¸€æ•°æ®æº</strong>ï¼šçŠ¶æ€åªåœ¨ä¸€ä¸ªåœ°æ–¹å®šä¹‰
<strong>çŠ¶æ€å‘ä¸‹æµåŠ¨</strong>ï¼šé€šè¿‡å‚æ•°ä¼ é€’ç»™å­ç»„ä»¶
<strong>äº‹ä»¶å‘ä¸Šä¼ é€’</strong>ï¼šé€šè¿‡å›è°ƒé€šçŸ¥çˆ¶ç»„ä»¶ä¿®æ”¹çŠ¶æ€</p>
<h3 data-id="heading-32">3.3 çŠ¶æ€æå‡çš„ç¤ºä¾‹</h3>
<h4 data-id="heading-33">3.3.1 æ— çŠ¶æ€æå‡ï¼ˆé—®é¢˜ä»£ç ï¼‰</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šçŠ¶æ€åˆ†æ•£åœ¨å„ä¸ªç»„ä»¶ä¸­</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CounterScreen</span><span class="hljs-params">()</span></span> {
    Column {
        Counter()  <span class="hljs-comment">// æ¯ä¸ª Counter æœ‰è‡ªå·±çš„çŠ¶æ€</span>
        Counter()
        Counter()
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Counter</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> count <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-number">0</span>) }  <span class="hljs-comment">// çŠ¶æ€åœ¨å­ç»„ä»¶ä¸­</span>
    
    Button(onClick = { count++ }) {
        Text(<span class="hljs-string">"Count: <span class="hljs-variable">$count</span>"</span>)
    }
}
</code></pre>
<p><strong>é—®é¢˜</strong>ï¼š</p>
<ul>
<li>æ— æ³•åŒæ­¥å¤šä¸ª Counter çš„çŠ¶æ€</li>
<li>çˆ¶ç»„ä»¶æ— æ³•è·å–/ä¿®æ”¹å­ç»„ä»¶çš„çŠ¶æ€</li>
<li>çŠ¶æ€åˆ†æ•£ï¼Œéš¾ä»¥ç®¡ç†</li>
</ul>
<h4 data-id="heading-34">3.3.2 æœ‰çŠ¶æ€æå‡ï¼ˆæ­£ç¡®ä»£ç ï¼‰</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… æ­£ç¡®ï¼šçŠ¶æ€æå‡åˆ°çˆ¶ç»„ä»¶</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CounterScreen</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> counts <span class="hljs-keyword">by</span> remember { mutableStateOf(List(<span class="hljs-number">3</span>) { <span class="hljs-number">0</span> }) }
    
    Column {
        counts.forEachIndexed { index, count -&gt;
            Counter(
                count = count,
                onIncrement = {
                    counts = counts.toMutableList().apply {
                        <span class="hljs-keyword">this</span>[index]++
                    }
                }
            )
        }
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Counter</span><span class="hljs-params">(
    count: <span class="hljs-type">Int</span>,                    <span class="hljs-comment">// çŠ¶æ€é€šè¿‡å‚æ•°ä¼ å…¥</span>
    onIncrement: () -&gt; <span class="hljs-type">Unit</span>        <span class="hljs-comment">// äº‹ä»¶é€šè¿‡å›è°ƒä¼ å‡º</span>
)</span></span> {
    Button(onClick = onIncrement) {
        Text(<span class="hljs-string">"Count: <span class="hljs-variable">$count</span>"</span>)
    }
}
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li>çŠ¶æ€é›†ä¸­ç®¡ç†</li>
<li>å­ç»„ä»¶å¯å¤ç”¨</li>
<li>æ˜“äºæµ‹è¯•</li>
</ul>
<h3 data-id="heading-35">3.4 çŠ¶æ€æå‡çš„è®¾è®¡æ¨¡å¼</h3>
<h4 data-id="heading-36">3.4.1 çŠ¶æ€å®¹å™¨æ¨¡å¼</h4>
<p>å¯¹äºå¤æ‚çš„çŠ¶æ€ï¼Œå¯ä»¥åˆ›å»ºä¸“é—¨çš„çŠ¶æ€å®¹å™¨ç±»ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// çŠ¶æ€å®¹å™¨</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CounterState</span> {
    <span class="hljs-keyword">var</span> count <span class="hljs-keyword">by</span> mutableStateOf(<span class="hljs-number">0</span>)
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">increment</span><span class="hljs-params">()</span></span> {
        count++
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">decrement</span><span class="hljs-params">()</span></span> {
        count--
    }
}

<span class="hljs-comment">// ä½¿ç”¨ remember åˆ›å»ºçŠ¶æ€å®¹å™¨</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">rememberCounterState</span><span class="hljs-params">()</span></span> = remember { CounterState() }

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">CounterScreen</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> state = rememberCounterState()
    
    Counter(
        count = state.count,
        onIncrement = { state.increment() }
    )
}
</code></pre>
<h4 data-id="heading-37">3.4.2 å±å¹•çº§çŠ¶æ€ç®¡ç†</h4>
<p>å¯¹äºæ•´ä¸ªå±å¹•çš„çŠ¶æ€ï¼Œå¯ä»¥åœ¨å±å¹•çº§ Composable ä¸­ç»Ÿä¸€ç®¡ç†ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserProfileScreen</span><span class="hljs-params">(
    userId: <span class="hljs-type">String</span>,
    viewModel: <span class="hljs-type">UserProfileViewModel</span> = hiltViewModel()</span></span>
) {
    <span class="hljs-comment">// æ”¶é›† ViewModel çš„çŠ¶æ€</span>
    <span class="hljs-keyword">val</span> uiState <span class="hljs-keyword">by</span> viewModel.uiState.collectAsState()
    
    <span class="hljs-comment">// å±å¹•çº§çŠ¶æ€ç®¡ç†</span>
    <span class="hljs-keyword">var</span> isEditing <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-literal">false</span>) }
    <span class="hljs-keyword">var</span> editedName <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-string">""</span>) }
    
    <span class="hljs-keyword">when</span> (<span class="hljs-keyword">val</span> state = uiState) {
        <span class="hljs-keyword">is</span> UiState.Loading -&gt; LoadingScreen()
        <span class="hljs-keyword">is</span> UiState.Error -&gt; ErrorScreen(state.message)
        <span class="hljs-keyword">is</span> UiState.Success -&gt; {
            UserProfileContent(
                user = state.<span class="hljs-keyword">data</span>,
                isEditing = isEditing,
                editedName = editedName,
                onEditClick = { 
                    isEditing = <span class="hljs-literal">true</span>
                    editedName = state.<span class="hljs-keyword">data</span>.name
                },
                onNameChange = { editedName = it },
                onSaveClick = {
                    viewModel.updateName(editedName)
                    isEditing = <span class="hljs-literal">false</span>
                }
            )
        }
    }
}
</code></pre>
<h3 data-id="heading-38">3.5 çŠ¶æ€æå‡çš„è¾¹ç•Œ</h3>
<p>ä¸æ˜¯æ‰€æœ‰çŠ¶æ€éƒ½éœ€è¦æå‡ï¼Œéœ€è¦æ ¹æ®åœºæ™¯åˆ¤æ–­ï¼š</p>





















<table><thead><tr><th>çŠ¶æ€ä½ç½®</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>å­ç»„ä»¶å†…éƒ¨</td><td>çº¯ UI çŠ¶æ€ï¼ˆå¦‚åŠ¨ç”»çŠ¶æ€ã€æ»šåŠ¨ä½ç½®ï¼‰</td></tr><tr><td>çˆ¶ç»„ä»¶</td><td>éœ€è¦å…±äº«çš„çŠ¶æ€ã€éœ€è¦æŒä¹…åŒ–çš„çŠ¶æ€</td></tr><tr><td>ViewModel</td><td>ä¸šåŠ¡é€»è¾‘çŠ¶æ€ã€éœ€è¦è·¨å±å¹•å…±äº«çš„çŠ¶æ€</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-39">å››ã€ViewModel ä¸ Compose æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-40">4.1 ViewModel çš„ä½œç”¨</h3>
<p>ViewModel æ˜¯ Android æ¶æ„ç»„ä»¶ï¼Œç”¨äºï¼š</p>
<ul>
<li><strong>ä¿å­˜é…ç½®å˜æ›´åçš„çŠ¶æ€</strong></li>
<li><strong>ç®¡ç†ä¸šåŠ¡é€»è¾‘</strong></li>
<li><strong>ä½œä¸º UI å±‚å’Œæ•°æ®å±‚çš„æ¡¥æ¢</strong></li>
</ul>
<h3 data-id="heading-41">4.2 ViewModel ä¸ Compose çš„é›†æˆ</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ViewModel å®šä¹‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModel</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> userRepository: UserRepository
) : ViewModel() {
    
    <span class="hljs-comment">// ä½¿ç”¨ StateFlow ç®¡ç†çŠ¶æ€</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _uiState = MutableStateFlow&lt;UiState&lt;User&gt;&gt;(UiState.Loading)
    <span class="hljs-keyword">val</span> uiState: StateFlow&lt;UiState&lt;User&gt;&gt; = _uiState.asStateFlow()
    
    <span class="hljs-keyword">init</span> {
        loadUser()
    }
    
    <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadUser</span><span class="hljs-params">()</span></span> {
        viewModelScope.launch {
            _uiState.value = UiState.Loading
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">val</span> user = userRepository.getUser()
                _uiState.value = UiState.Success(user)
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                _uiState.value = UiState.Error(e.message ?: <span class="hljs-string">"Unknown error"</span>)
            }
        }
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">refresh</span><span class="hljs-params">()</span></span> {
        loadUser()
    }
}

<span class="hljs-comment">// Composable ä¸­ä½¿ç”¨</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserScreen</span><span class="hljs-params">(
    viewModel: <span class="hljs-type">UserViewModel</span> = hiltViewModel()</span></span>
) {
    <span class="hljs-keyword">val</span> uiState <span class="hljs-keyword">by</span> viewModel.uiState.collectAsState()
    
    <span class="hljs-keyword">when</span> (<span class="hljs-keyword">val</span> state = uiState) {
        <span class="hljs-keyword">is</span> UiState.Loading -&gt; LoadingScreen()
        <span class="hljs-keyword">is</span> UiState.Error -&gt; ErrorScreen(
            message = state.message,
            onRetry = { viewModel.refresh() }
        )
        <span class="hljs-keyword">is</span> UiState.Success -&gt; UserContent(user = state.<span class="hljs-keyword">data</span>)
    }
}
</code></pre>
<h3 data-id="heading-42">4.3 StateFlow vs LiveData</h3>
<p>åœ¨ Compose ä¸­ï¼Œæ¨èä½¿ç”¨ <strong>StateFlow</strong>ï¼š</p>






























<table><thead><tr><th>ç‰¹æ€§</th><th>StateFlow</th><th>LiveData</th></tr></thead><tbody><tr><td>ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥</td><td>éœ€è¦é…åˆ <code>collectAsState</code></td><td>è‡ªåŠ¨æ„ŸçŸ¥</td></tr><tr><td>åˆå§‹å€¼</td><td>å¿…é¡»æœ‰</td><td>å¯ä»¥æ²¡æœ‰</td></tr><tr><td>çº¿ç¨‹å®‰å…¨</td><td>æ˜¯</td><td>æ˜¯</td></tr><tr><td>ä¸ Compose é›†æˆ</td><td>æ›´è‡ªç„¶</td><td>éœ€è¦é¢å¤–è½¬æ¢</td></tr></tbody></table>
<h3 data-id="heading-43">4.4 UI çŠ¶æ€è®¾è®¡æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-44">4.4.1 å•ä¸€çŠ¶æ€ç±»</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… æ¨èï¼šä½¿ç”¨å•ä¸€çŠ¶æ€ç±»</span>
<span class="hljs-keyword">sealed</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserUiState</span> {
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> Loading : UserUiState
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Success</span>(<span class="hljs-keyword">val</span> user: User) : UserUiState
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Error</span>(<span class="hljs-keyword">val</span> message: String) : UserUiState
}

<span class="hljs-comment">// âŒ ä¸æ¨èï¼šåˆ†æ•£çš„çŠ¶æ€</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserViewModel</span> : <span class="hljs-type">ViewModel</span>() {
    <span class="hljs-keyword">val</span> isLoading = MutableStateFlow(<span class="hljs-literal">false</span>)
    <span class="hljs-keyword">val</span> user = MutableStateFlow&lt;User?&gt;(<span class="hljs-literal">null</span>)
    <span class="hljs-keyword">val</span> error = MutableStateFlow&lt;String?&gt;(<span class="hljs-literal">null</span>)
}
</code></pre>
<h4 data-id="heading-45">4.4.2 ä¸å¯å˜çŠ¶æ€</h4>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âœ… æ¨èï¼šçŠ¶æ€ä¸å¯å˜ï¼Œé€šè¿‡ copy æ›´æ–°</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserUiState</span>(
    <span class="hljs-keyword">val</span> isLoading: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">false</span>,
    <span class="hljs-keyword">val</span> user: User? = <span class="hljs-literal">null</span>,
    <span class="hljs-keyword">val</span> error: String? = <span class="hljs-literal">null</span>
)

<span class="hljs-comment">// ViewModel ä¸­</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _uiState = MutableStateFlow(UserUiState())
<span class="hljs-keyword">val</span> uiState = _uiState.asStateFlow()

<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">updateUser</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
    _uiState.update { it.copy(user = user, isLoading = <span class="hljs-literal">false</span>) }
}
</code></pre>
<h3 data-id="heading-46">4.5 ViewModel çš„ç”Ÿå‘½å‘¨æœŸ</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ViewModel ç”Ÿå‘½å‘¨æœŸ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   Activity/Fragment åˆ›å»º                                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-number">1</span>. ViewModel åˆ›å»º                                       â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">2</span>. æ‰§è¡Œ init å—                                         â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">3</span>. å¼€å§‹æ”¶é›†æ•°æ®                                          â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â†“                                  â”‚
â”‚   é…ç½®å˜æ›´ï¼ˆæ—‹è½¬å±å¹•ï¼‰                                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-number">1</span>. Activity é”€æ¯                                        â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">2</span>. ViewModel ä¿ç•™ï¼ˆä¸é”€æ¯ï¼‰                              â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">3</span>. æ–°çš„ Activity åˆ›å»º                                    â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">4</span>. è·å–ç›¸åŒçš„ ViewModel å®ä¾‹                             â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">5</span>. çŠ¶æ€ä¿æŒä¸å˜                                          â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â†“                                  â”‚
â”‚   Activity/Fragment çœŸæ­£é”€æ¯                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-number">1</span>. <span class="hljs-built_in">onCleared</span>() è¢«è°ƒç”¨                                    â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">2</span>. ViewModel é”€æ¯                                        â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">3</span>. åç¨‹ä½œç”¨åŸŸå–æ¶ˆ                                        â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-47">äº”ã€CompositionLocal æ·±åº¦è§£æ</h2>
<h3 data-id="heading-48">5.1 ä»€ä¹ˆæ˜¯ CompositionLocalï¼Ÿ</h3>
<p><strong>CompositionLocal</strong> æ˜¯ä¸€ç§<strong>éšå¼ä¼ å‚</strong>æœºåˆ¶ï¼Œå…è®¸åœ¨ Composable æ ‘ä¸­å‘ä¸‹ä¼ é€’æ•°æ®ï¼Œè€Œä¸éœ€è¦é€šè¿‡æ¯ä¸€å±‚çš„å‚æ•°ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ CompositionLocalï¼Ÿ</strong></p>
<p>æƒ³è±¡è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¸ä½¿ç”¨ CompositionLocal - éœ€è¦å±‚å±‚ä¼ é€’</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">App</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> user = User(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"admin"</span>)
    ScreenA(user = user)
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ScreenA</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
    Header(user = user)
    Content(user = user)
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Header</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
    Avatar(user = user)
    UserName(user = user)
}

<span class="hljs-comment">// æ¯ä¸€å±‚éƒ½éœ€è¦ä¼ é€’ user å‚æ•°ï¼Œå³ä½¿ä¸­é—´å±‚ä¸ä½¿ç”¨å®ƒ</span>
</code></pre>
<p>ä½¿ç”¨ CompositionLocalï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä½¿ç”¨ CompositionLocal - éšå¼ä¼ é€’</span>
<span class="hljs-keyword">val</span> LocalUser = compositionLocalOf&lt;User&gt; { error(<span class="hljs-string">"No user provided"</span>) }

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">App</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> user = User(<span class="hljs-string">"å¼ ä¸‰"</span>, <span class="hljs-string">"admin"</span>)
    CompositionLocalProvider(LocalUser provides user) {
        ScreenA()  <span class="hljs-comment">// ä¸éœ€è¦ä¼ é€’ user</span>
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ScreenA</span><span class="hljs-params">()</span></span> {
    Header()   <span class="hljs-comment">// ä¸éœ€è¦ä¼ é€’ user</span>
    Content()  <span class="hljs-comment">// ä¸éœ€è¦ä¼ é€’ user</span>
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Header</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> user = LocalUser.current  <span class="hljs-comment">// åœ¨éœ€è¦çš„åœ°æ–¹è·å–</span>
    Avatar(user = user)
    UserName(user = user)
}
</code></pre>
<h3 data-id="heading-49">5.2 CompositionLocal çš„åŸç†</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  CompositionLocal åŸç†                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   Composable æ ‘                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-built_in">CompositionLocalProvider</span>(LocalColor provides Color.Red) â”‚  â”‚
â”‚   â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚   â”‚ â”‚  <span class="hljs-built_in">Child1</span>()                                          â”‚ â”‚  â”‚
â”‚   â”‚ â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚  â”‚
â”‚   â”‚ â”‚   â”‚  <span class="hljs-built_in">Child2</span>()                                  â”‚  â”‚ â”‚  â”‚
â”‚   â”‚ â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚ â”‚  â”‚
â”‚   â”‚ â”‚   â”‚   â”‚  LocalColor<span class="hljs-selector-class">.current</span>  <span class="hljs-comment">// è¿”å› Red   â”‚  â”‚  â”‚ â”‚  â”‚</span>
â”‚   â”‚ â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚ â”‚  â”‚
â”‚   â”‚ â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚  â”‚
â”‚   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚   æŸ¥æ‰¾è§„åˆ™ï¼š                                                      â”‚
â”‚   <span class="hljs-number">1</span>. ä»å½“å‰èŠ‚ç‚¹å‘ä¸ŠæŸ¥æ‰¾                                           â”‚
â”‚   <span class="hljs-number">2</span>. æ‰¾åˆ°æœ€è¿‘çš„ CompositionLocalProvider                          â”‚
â”‚   <span class="hljs-number">3</span>. è¿”å›å¯¹åº”çš„å€¼                                                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-50">5.3 åˆ›å»ºä¸ä½¿ç”¨ CompositionLocal</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// 1. åˆ›å»º CompositionLocal</span>
<span class="hljs-keyword">val</span> LocalUser = compositionLocalOf&lt;User&gt; { error(<span class="hljs-string">"No user provided"</span>) }

<span class="hljs-comment">// 2. æä¾›å€¼</span>
CompositionLocalProvider(LocalUser provides currentUser) {
    UserProfile()  <span class="hljs-comment">// åŠå…¶å­ç»„ä»¶éƒ½å¯ä»¥é€šè¿‡ LocalUser.current è·å–</span>
}

<span class="hljs-comment">// 3. ä½¿ç”¨å€¼</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserProfile</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> user = LocalUser.current
    Text(<span class="hljs-string">"Hello, <span class="hljs-subst">${user.name}</span>"</span>)
}
</code></pre>
<h3 data-id="heading-51">5.4 compositionLocalOf vs staticCompositionLocalOf</h3>




















<table><thead><tr><th>å‡½æ•°</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><code>compositionLocalOf</code></td><td>å€¼å˜åŒ–æ—¶ï¼Œåªé‡ç»„è¯»å–è¯¥å€¼çš„ç»„ä»¶</td><td>é¢‘ç¹å˜åŒ–çš„å€¼</td></tr><tr><td><code>staticCompositionLocalOf</code></td><td>å€¼å˜åŒ–æ—¶ï¼Œé‡ç»„æ•´ä¸ªå­æ ‘</td><td>å¾ˆå°‘å˜åŒ–çš„å€¼</td></tr></tbody></table>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ä¸»é¢˜é¢œè‰² - å¾ˆå°‘å˜åŒ–</span>
<span class="hljs-keyword">val</span> LocalColors = staticCompositionLocalOf { LightColorScheme }

<span class="hljs-comment">// æ»šåŠ¨çŠ¶æ€ - é¢‘ç¹å˜åŒ–</span>
<span class="hljs-keyword">val</span> LocalScrollState = compositionLocalOf { ScrollState(<span class="hljs-number">0</span>) }
</code></pre>
<h3 data-id="heading-52">5.5 MaterialTheme çš„å®ç°</h3>
<p>MaterialTheme å°±æ˜¯åŸºäº CompositionLocal å®ç°çš„ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">MaterialTheme</span><span class="hljs-params">(
    colorScheme: <span class="hljs-type">ColorScheme</span> = MaterialTheme.colorScheme,
    typography: <span class="hljs-type">Typography</span> = MaterialTheme.typography,
    shapes: <span class="hljs-type">Shapes</span> = MaterialTheme.shapes,
    content: @<span class="hljs-type">Composable</span> () -&gt; <span class="hljs-type">Unit</span>
)</span></span> {
    <span class="hljs-keyword">val</span> rememberedColorScheme = remember { colorScheme }
    <span class="hljs-keyword">val</span> rememberedTypography = remember { typography }
    <span class="hljs-keyword">val</span> rememberedShapes = remember { shapes }
    
    CompositionLocalProvider(
        LocalColorScheme provides rememberedColorScheme,
        LocalTypography provides rememberedTypography,
        LocalShapes provides rememberedShapes
    ) {
        content()
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">MyComponent</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> colorScheme = MaterialTheme.colorScheme
    <span class="hljs-keyword">val</span> typography = MaterialTheme.typography
    
    Text(
        text = <span class="hljs-string">"Hello"</span>,
        color = colorScheme.primary,
        style = typography.bodyLarge
    )
}
</code></pre>
<h3 data-id="heading-53">5.6 CompositionLocal çš„æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-54">âœ… æ¨èä½¿ç”¨</h4>
<ul>
<li>ä¸»é¢˜é…ç½®ï¼ˆé¢œè‰²ã€å­—ä½“ã€å½¢çŠ¶ï¼‰</li>
<li>ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ˆå±å¹•ç±»å‹ã€æƒé™çŠ¶æ€ï¼‰</li>
<li>å…¨å±€æœåŠ¡ï¼ˆNavigatorã€Analyticsï¼‰</li>
</ul>
<h4 data-id="heading-55">âŒ é¿å…ä½¿ç”¨</h4>
<ul>
<li>é¢‘ç¹å˜åŒ–çš„æ•°æ®ï¼ˆä½¿ç”¨å‚æ•°ä¼ é€’ï¼‰</li>
<li>ä¸šåŠ¡é€»è¾‘çŠ¶æ€ï¼ˆä½¿ç”¨ ViewModelï¼‰</li>
<li>å¯èƒ½å¯¼è‡´éšå¼ä¾èµ–ï¼Œé™ä½ä»£ç å¯è¯»æ€§</li>
</ul>
<hr/>
<h2 data-id="heading-56">å…­ã€å‰¯ä½œç”¨ API è¯¦è§£</h2>
<h3 data-id="heading-57">6.1 ä»€ä¹ˆæ˜¯å‰¯ä½œç”¨ï¼Ÿ</h3>
<p><strong>å‰¯ä½œç”¨</strong>æ˜¯æŒ‡ Composable å‡½æ•°å¯¹å¤–éƒ¨ä¸–ç•Œçš„å½±å“ï¼Œå¦‚ï¼š</p>
<ul>
<li>ç½‘ç»œè¯·æ±‚</li>
<li>æ•°æ®åº“æ“ä½œ</li>
<li>è®¢é˜…äº‹ä»¶</li>
<li>ä¿®æ”¹å…±äº«çŠ¶æ€</li>
</ul>
<p>Compose æ˜¯çº¯å‡½æ•°å¼çš„ï¼ŒComposable ä¸åº”è¯¥æœ‰å‰¯ä½œç”¨ã€‚ä½†åº”ç”¨å¼€å‘ç¦»ä¸å¼€å‰¯ä½œç”¨ï¼Œå› æ­¤ Compose æä¾›äº†ä¸“é—¨çš„ API æ¥å¤„ç†å‰¯ä½œç”¨ã€‚</p>
<h3 data-id="heading-58">6.2 LaunchedEffectï¼šåœ¨ç»„åˆä¸­å¯åŠ¨åç¨‹</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserProfile</span><span class="hljs-params">(userId: <span class="hljs-type">String</span>)</span></span> {
    <span class="hljs-keyword">var</span> user <span class="hljs-keyword">by</span> remember { mutableStateOf&lt;User?&gt;(<span class="hljs-literal">null</span>) }
    
    <span class="hljs-comment">// åœ¨ç»„åˆæ—¶å¯åŠ¨åç¨‹</span>
    LaunchedEffect(userId) {
        <span class="hljs-comment">// è¿™é‡Œçš„ä»£ç åœ¨åç¨‹ä¸­æ‰§è¡Œ</span>
        user = api.getUser(userId)
    }
    
    user?.let {
        Text(<span class="hljs-string">"Name: <span class="hljs-subst">${it.name}</span>"</span>)
    }
}
</code></pre>
<p><strong>LaunchedEffect çš„ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>åœ¨ç»„åˆæ—¶å¯åŠ¨åç¨‹</li>
<li>key å˜åŒ–æ—¶ï¼Œå–æ¶ˆæ—§åç¨‹ï¼Œå¯åŠ¨æ–°åç¨‹</li>
<li>é‡ç»„æ—¶ä¸ä¼šé‡æ–°å¯åŠ¨</li>
</ul>
<pre><code class="hljs language-vbnet" lang="vbnet">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   LaunchedEffect ç”Ÿå‘½å‘¨æœŸ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   é¦–æ¬¡ç»„åˆ                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-number">1</span>. LaunchedEffect è¿›å…¥ç»„åˆ                              â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">2</span>. å¯åŠ¨åç¨‹ï¼Œæ‰§è¡Œå‰¯ä½œç”¨ä»£ç                               â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">3</span>. åç¨‹æŒç»­è¿è¡Œ...                                       â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â†“                                  â”‚
â”‚   é‡ç»„ï¼ˆ<span class="hljs-keyword">key</span> æœªå˜åŒ–ï¼‰                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-number">1</span>. LaunchedEffect é‡ç»„                                  â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">2</span>. <span class="hljs-keyword">key</span> ç›¸åŒï¼Œåç¨‹ç»§ç»­è¿è¡Œ                                â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">3</span>. ä¸æ‰§è¡Œå‰¯ä½œç”¨ä»£ç                                       â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â†“                                  â”‚
â”‚   é‡ç»„ï¼ˆ<span class="hljs-keyword">key</span> å˜åŒ–ï¼‰                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-number">1</span>. å–æ¶ˆæ—§åç¨‹                                           â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">2</span>. å¯åŠ¨æ–°åç¨‹                                           â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">3</span>. æ‰§è¡Œæ–°çš„å‰¯ä½œç”¨ä»£ç                                     â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â†“                                  â”‚
â”‚   é€€å‡ºç»„åˆ                                                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ <span class="hljs-number">1</span>. LaunchedEffect é€€å‡ºç»„åˆ                              â”‚  â”‚
â”‚   â”‚ <span class="hljs-number">2</span>. å–æ¶ˆåç¨‹                                             â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-59">6.3 SideEffectï¼šæ¯æ¬¡é‡ç»„éƒ½æ‰§è¡Œ</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">AnalyticsScreen</span><span class="hljs-params">(screenName: <span class="hljs-type">String</span>)</span></span> {
    <span class="hljs-comment">// æ¯æ¬¡é‡ç»„éƒ½æ‰§è¡Œ</span>
    SideEffect {
        analytics.logScreenView(screenName)
    }
    
    <span class="hljs-comment">// UI å†…å®¹</span>
    Text(<span class="hljs-string">"Screen: <span class="hljs-variable">$screenName</span>"</span>)
}
</code></pre>
<p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šéœ€è¦ç¡®ä¿å‰¯ä½œç”¨åœ¨æ¯æ¬¡æˆåŠŸé‡ç»„åéƒ½æ‰§è¡Œã€‚</p>
<h3 data-id="heading-60">6.4 DisposableEffectï¼šéœ€è¦æ¸…ç†çš„å‰¯ä½œç”¨</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">BackHandler</span><span class="hljs-params">(onBack: () -&gt; <span class="hljs-type">Unit</span>)</span></span> {
    <span class="hljs-keyword">val</span> dispatcher = LocalOnBackPressedDispatcherOwner.current?.onBackPressedDispatcher
    
    DisposableEffect(dispatcher) {
        <span class="hljs-comment">// è®¾ç½®å›è°ƒ</span>
        <span class="hljs-keyword">val</span> callback = <span class="hljs-keyword">object</span> : OnBackPressedCallback(<span class="hljs-literal">true</span>) {
            <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">handleOnBackPressed</span><span class="hljs-params">()</span></span> {
                onBack()
            }
        }
        dispatcher?.addCallback(callback)
        
        <span class="hljs-comment">// è¿”å›æ¸…ç†å‡½æ•°</span>
        onDispose {
            callback.remove()
        }
    }
}
</code></pre>
<p><strong>DisposableEffect çš„ç‰¹ç‚¹</strong>ï¼š</p>
<ul>
<li>key å˜åŒ–æ—¶ï¼Œå…ˆæ‰§è¡Œ onDisposeï¼Œå†æ‰§è¡Œæ–°çš„å‰¯ä½œç”¨</li>
<li>é€€å‡ºç»„åˆæ—¶ï¼Œæ‰§è¡Œ onDispose</li>
</ul>
<h3 data-id="heading-61">6.5 rememberCoroutineScopeï¼šåœ¨å›è°ƒä¸­å¯åŠ¨åç¨‹</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserList</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">val</span> scope = rememberCoroutineScope()
    <span class="hljs-keyword">var</span> users <span class="hljs-keyword">by</span> remember { mutableStateOf&lt;List&lt;User&gt;&gt;(emptyList()) }
    
    Button(onClick = {
        <span class="hljs-comment">// åœ¨å›è°ƒä¸­å¯åŠ¨åç¨‹</span>
        scope.launch {
            users = api.getUsers()
        }
    }) {
        Text(<span class="hljs-string">"Load Users"</span>)
    }
    
    <span class="hljs-comment">// æ˜¾ç¤ºç”¨æˆ·åˆ—è¡¨</span>
    LazyColumn {
        items(users) { user -&gt;
            Text(user.name)
        }
    }
}
</code></pre>
<p><strong>ä¸ LaunchedEffect çš„åŒºåˆ«</strong>ï¼š</p>
<ul>
<li><code>LaunchedEffect</code>ï¼šåœ¨ç»„åˆæ—¶è‡ªåŠ¨å¯åŠ¨</li>
<li><code>rememberCoroutineScope</code>ï¼šæä¾› CoroutineScopeï¼Œåœ¨å›è°ƒä¸­æ‰‹åŠ¨å¯åŠ¨</li>
</ul>
<h3 data-id="heading-62">6.6 rememberUpdatedStateï¼šè·å–æœ€æ–°å€¼</h3>
<p>å½“éœ€è¦åœ¨é•¿æ—¶é—´è¿è¡Œçš„å‰¯ä½œç”¨ä¸­è·å–æœ€æ–°çŠ¶æ€æ—¶ï¼Œä½¿ç”¨ <code>rememberUpdatedState</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">Timer</span><span class="hljs-params">(
    onTick: () -&gt; <span class="hljs-type">Unit</span>,
    interval: <span class="hljs-type">Long</span> = <span class="hljs-number">1000</span>L
)</span></span> {
    <span class="hljs-comment">// ä½¿ç”¨ rememberUpdatedState è·å–æœ€æ–°çš„ onTick</span>
    <span class="hljs-keyword">val</span> currentOnTick <span class="hljs-keyword">by</span> rememberUpdatedState(onTick)
    
    LaunchedEffect(<span class="hljs-built_in">Unit</span>) {
        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
            delay(interval)
            currentOnTick()  <span class="hljs-comment">// æ€»æ˜¯è°ƒç”¨æœ€æ–°çš„ onTick</span>
        }
    }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦ rememberUpdatedStateï¼Ÿ</strong></p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// âŒ é”™è¯¯ï¼šLaunchedEffect æ•è·çš„æ˜¯æ—§çš„ onTick</span>
LaunchedEffect(<span class="hljs-built_in">Unit</span>) {
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
        delay(<span class="hljs-number">1000</span>)
        onTick()  <span class="hljs-comment">// æ€»æ˜¯è°ƒç”¨ç¬¬ä¸€æ¬¡ä¼ å…¥çš„ onTick</span>
    }
}

<span class="hljs-comment">// âœ… æ­£ç¡®ï¼šä½¿ç”¨ rememberUpdatedState</span>
<span class="hljs-keyword">val</span> currentOnTick <span class="hljs-keyword">by</span> rememberUpdatedState(onTick)
LaunchedEffect(<span class="hljs-built_in">Unit</span>) {
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
        delay(<span class="hljs-number">1000</span>)
        currentOnTick()  <span class="hljs-comment">// æ€»æ˜¯è°ƒç”¨æœ€æ–°çš„ onTick</span>
    }
}
</code></pre>
<h3 data-id="heading-63">6.7 DerivedStateï¼šæ´¾ç”ŸçŠ¶æ€</h3>
<p>å½“éœ€è¦åŸºäºå…¶ä»–çŠ¶æ€è®¡ç®—æ´¾ç”ŸçŠ¶æ€æ—¶ï¼Œä½¿ç”¨ <code>derivedStateOf</code>ï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">SearchResults</span><span class="hljs-params">(query: <span class="hljs-type">String</span>, items: <span class="hljs-type">List</span>&lt;<span class="hljs-type">Item</span>&gt;)</span></span> {
    <span class="hljs-comment">// åªåœ¨å¿…è¦æ—¶é‡æ–°è®¡ç®—</span>
    <span class="hljs-keyword">val</span> filteredItems <span class="hljs-keyword">by</span> remember {
        derivedStateOf {
            items.filter { it.name.contains(query, ignoreCase = <span class="hljs-literal">true</span>) }
        }
    }
    
    LazyColumn {
        items(filteredItems) { item -&gt;
            ItemRow(item)
        }
    }
}
</code></pre>
<p><strong>derivedStateOf vs remember</strong>ï¼š</p>




















<table><thead><tr><th>ç‰¹æ€§</th><th>derivedStateOf</th><th>remember</th></tr></thead><tbody><tr><td>è§¦å‘æ¡ä»¶</td><td>è¯»å–æ—¶</td><td>ä¾èµ–å˜åŒ–æ—¶</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>é¢‘ç¹è¯»å–ã€è®¡ç®—æˆæœ¬é«˜</td><td>ä¸€æ¬¡æ€§è®¡ç®—</td></tr></tbody></table>
<h3 data-id="heading-64">6.8 produceStateï¼šå°†é Compose çŠ¶æ€è½¬æ¢ä¸º State</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadUser</span><span class="hljs-params">(userId: <span class="hljs-type">String</span>)</span></span>: State&lt;User?&gt; {
    <span class="hljs-keyword">return</span> produceState&lt;User?&gt;(initialValue = <span class="hljs-literal">null</span>, userId) {
        value = api.getUser(userId)
    }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserProfile</span><span class="hljs-params">(userId: <span class="hljs-type">String</span>)</span></span> {
    <span class="hljs-keyword">val</span> user <span class="hljs-keyword">by</span> loadUser(userId)
    
    user?.let {
        Text(<span class="hljs-string">"Name: <span class="hljs-subst">${it.name}</span>"</span>)
    }
}
</code></pre>
<h3 data-id="heading-65">6.9 snapshotFlowï¼šå°† State è½¬æ¢ä¸º Flow</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">SearchScreen</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> query <span class="hljs-keyword">by</span> remember { mutableStateOf(<span class="hljs-string">""</span>) }
    
    <span class="hljs-comment">// å°† State è½¬æ¢ä¸º Flow</span>
    <span class="hljs-keyword">val</span> searchResults <span class="hljs-keyword">by</span> remember {
        snapshotFlow { query }
            .debounce(<span class="hljs-number">300</span>)  <span class="hljs-comment">// é˜²æŠ–</span>
            .flatMapLatest { api.search(it) }
            .collectAsState(initial = emptyList())
    }
    
    Column {
        TextField(
            value = query,
            onValueChange = { query = it }
        )
        
        LazyColumn {
            items(searchResults) { result -&gt;
                Text(result.name)
            }
        }
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-66">ä¸ƒã€çŠ¶æ€ç®¡ç†æ¶æ„è®¾è®¡</h2>
<h3 data-id="heading-67">7.1 åˆ†å±‚æ¶æ„</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      UI Layer (Composable)                      â”‚
â”‚  - æ˜¾ç¤ºæ•°æ®                                                      â”‚
â”‚  - å¤„ç†ç”¨æˆ·äº¤äº’                                                  â”‚
â”‚  - è°ƒç”¨ ViewModel æ–¹æ³•                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   ViewModel Layer                               â”‚
â”‚  - ç®¡ç† UI çŠ¶æ€                                                  â”‚
â”‚  - å¤„ç†ä¸šåŠ¡é€»è¾‘                                                  â”‚
â”‚  - è°ƒç”¨ Repository æ–¹æ³•                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  Repository Layer                               â”‚
â”‚  - æ•°æ®èšåˆ                                                      â”‚
â”‚  - ä¸šåŠ¡è§„åˆ™                                                      â”‚
â”‚  - é€‰æ‹©æ•°æ®æº                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   Data Source Layer                             â”‚
â”‚  - ç½‘ç»œ API (Retrofit)                                          â”‚
â”‚  - æœ¬åœ°æ•°æ®åº“ (Room)                                            â”‚
â”‚  - æœ¬åœ°ç¼“å­˜ (DataStore)                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-68">7.2 å®Œæ•´å®æˆ˜ï¼šç”¨æˆ·åˆ—è¡¨é¡µé¢</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-comment">// ============ Data Layer ============</span>

<span class="hljs-comment">// æ•°æ®æ¨¡å‹</span>
<span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span>(
    <span class="hljs-keyword">val</span> id: String,
    <span class="hljs-keyword">val</span> name: String,
    <span class="hljs-keyword">val</span> email: String,
    <span class="hljs-keyword">val</span> avatar: String
)

<span class="hljs-comment">// Repository</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserRepository</span> {
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUsers</span><span class="hljs-params">()</span></span>: List&lt;User&gt;
    <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">searchUsers</span><span class="hljs-params">(query: <span class="hljs-type">String</span>)</span></span>: List&lt;User&gt;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserRepositoryImpl</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> api: UserApi
) : UserRepository {
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getUsers</span><span class="hljs-params">()</span></span>: List&lt;User&gt; = api.getUsers()
    <span class="hljs-keyword">override</span> <span class="hljs-keyword">suspend</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">searchUsers</span><span class="hljs-params">(query: <span class="hljs-type">String</span>)</span></span>: List&lt;User&gt; = api.searchUsers(query)
}

<span class="hljs-comment">// ============ ViewModel Layer ============</span>

<span class="hljs-keyword">sealed</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UsersUiState</span> {
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">object</span> Loading : UsersUiState
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Success</span>(<span class="hljs-keyword">val</span> users: List&lt;User&gt;) : UsersUiState
    <span class="hljs-keyword">data</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Error</span>(<span class="hljs-keyword">val</span> message: String) : UsersUiState
}

<span class="hljs-meta">@HiltViewModel</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UsersViewModel</span> <span class="hljs-meta">@Inject</span> <span class="hljs-keyword">constructor</span>(
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> repository: UserRepository
) : ViewModel() {
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _uiState = MutableStateFlow&lt;UsersUiState&gt;(UsersUiState.Loading)
    <span class="hljs-keyword">val</span> uiState: StateFlow&lt;UsersUiState&gt; = _uiState.asStateFlow()
    
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> _searchQuery = MutableStateFlow(<span class="hljs-string">""</span>)
    <span class="hljs-keyword">val</span> searchQuery: StateFlow&lt;String&gt; = _searchQuery.asStateFlow()
    
    <span class="hljs-comment">// æœç´¢ç»“æœçš„æ´¾ç”ŸçŠ¶æ€</span>
    <span class="hljs-keyword">val</span> searchResults: StateFlow&lt;UsersUiState&gt; = _searchQuery
        .debounce(<span class="hljs-number">300</span>)
        .flatMapLatest { query -&gt;
            <span class="hljs-keyword">if</span> (query.isEmpty()) {
                flowOf(UsersUiState.Success(emptyList()))
            } <span class="hljs-keyword">else</span> {
                flow {
                    emit(UsersUiState.Loading)
                    <span class="hljs-keyword">try</span> {
                        <span class="hljs-keyword">val</span> users = repository.searchUsers(query)
                        emit(UsersUiState.Success(users))
                    } <span class="hljs-keyword">catch</span> (e: Exception) {
                        emit(UsersUiState.Error(e.message ?: <span class="hljs-string">"Unknown error"</span>))
                    }
                }
            }
        }
        .stateIn(
            scope = viewModelScope,
            started = SharingStarted.WhileSubscribed(<span class="hljs-number">5000</span>),
            initialValue = UsersUiState.Success(emptyList())
        )
    
    <span class="hljs-keyword">init</span> {
        loadUsers()
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadUsers</span><span class="hljs-params">()</span></span> {
        viewModelScope.launch {
            _uiState.value = UsersUiState.Loading
            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">val</span> users = repository.getUsers()
                _uiState.value = UsersUiState.Success(users)
            } <span class="hljs-keyword">catch</span> (e: Exception) {
                _uiState.value = UsersUiState.Error(e.message ?: <span class="hljs-string">"Unknown error"</span>)
            }
        }
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">onSearchQueryChange</span><span class="hljs-params">(query: <span class="hljs-type">String</span>)</span></span> {
        _searchQuery.value = query
    }
    
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">refresh</span><span class="hljs-params">()</span></span> {
        loadUsers()
    }
}

<span class="hljs-comment">// ============ UI Layer ============</span>

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UsersScreen</span><span class="hljs-params">(
    viewModel: <span class="hljs-type">UsersViewModel</span> = hiltViewModel()</span></span>
) {
    <span class="hljs-keyword">val</span> uiState <span class="hljs-keyword">by</span> viewModel.uiState.collectAsState()
    <span class="hljs-keyword">val</span> searchQuery <span class="hljs-keyword">by</span> viewModel.searchQuery.collectAsState()
    <span class="hljs-keyword">val</span> searchResults <span class="hljs-keyword">by</span> viewModel.searchResults.collectAsState()
    
    <span class="hljs-keyword">val</span> isSearching = searchQuery.isNotEmpty()
    <span class="hljs-keyword">val</span> currentState = <span class="hljs-keyword">if</span> (isSearching) searchResults <span class="hljs-keyword">else</span> uiState
    
    UsersContent(
        uiState = currentState,
        searchQuery = searchQuery,
        onSearchQueryChange = viewModel::onSearchQueryChange,
        onRefresh = viewModel::refresh
    )
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UsersContent</span><span class="hljs-params">(
    uiState: <span class="hljs-type">UsersUiState</span>,
    searchQuery: <span class="hljs-type">String</span>,
    onSearchQueryChange: (<span class="hljs-type">String</span>) -&gt; <span class="hljs-type">Unit</span>,
    onRefresh: () -&gt; <span class="hljs-type">Unit</span>
)</span></span> {
    Column(modifier = Modifier.fillMaxSize()) {
        <span class="hljs-comment">// æœç´¢æ¡†</span>
        SearchBar(
            query = searchQuery,
            onQueryChange = onSearchQueryChange
        )
        
        <span class="hljs-comment">// å†…å®¹åŒºåŸŸ</span>
        <span class="hljs-keyword">when</span> (<span class="hljs-keyword">val</span> state = uiState) {
            <span class="hljs-keyword">is</span> UsersUiState.Loading -&gt; LoadingScreen()
            <span class="hljs-keyword">is</span> UsersUiState.Error -&gt; ErrorScreen(
                message = state.message,
                onRetry = onRefresh
            )
            <span class="hljs-keyword">is</span> UsersUiState.Success -&gt; {
                <span class="hljs-keyword">if</span> (state.users.isEmpty()) {
                    EmptyScreen()
                } <span class="hljs-keyword">else</span> {
                    UserList(users = state.users)
                }
            }
        }
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserList</span><span class="hljs-params">(users: <span class="hljs-type">List</span>&lt;<span class="hljs-type">User</span>&gt;)</span></span> {
    LazyColumn {
        items(users, key = { it.id }) { user -&gt;
            UserItem(user = user)
        }
    }
}

<span class="hljs-meta">@Composable</span>
<span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">UserItem</span><span class="hljs-params">(user: <span class="hljs-type">User</span>)</span></span> {
    Card(
        modifier = Modifier
            .fillMaxWidth()
            .padding(horizontal = <span class="hljs-number">16.</span>dp, vertical = <span class="hljs-number">8.</span>dp)
    ) {
        Row(
            modifier = Modifier.padding(<span class="hljs-number">16.</span>dp),
            verticalAlignment = Alignment.CenterVertically
        ) {
            AsyncImage(
                model = user.avatar,
                contentDescription = <span class="hljs-literal">null</span>,
                modifier = Modifier
                    .size(<span class="hljs-number">48.</span>dp)
                    .clip(CircleShape)
            )
            
            Spacer(modifier = Modifier.width(<span class="hljs-number">16.</span>dp))
            
            Column {
                Text(
                    text = user.name,
                    style = MaterialTheme.typography.titleMedium
                )
                Text(
                    text = user.email,
                    style = MaterialTheme.typography.bodyMedium,
                    color = Color.Gray
                )
            }
        }
    }
}
</code></pre>
<hr/>
<h2 data-id="heading-69">å…«ã€æœ¬ç¯‡å°ç»“</h2>
<p>ä»Šå¤©æˆ‘ä»¬æ·±å…¥æ¢è®¨äº† Compose çš„çŠ¶æ€ç®¡ç†ç³»ç»Ÿï¼š</p>
<h3 data-id="heading-70">çŠ¶æ€ä¸é‡ç»„æœºåˆ¶</h3>
<ul>
<li>ç†è§£äº† Slot Table çš„æ•°æ®ç»“æ„å’Œä½œç”¨</li>
<li>æŒæ¡äº†é‡ç»„çš„è§¦å‘æœºåˆ¶å’Œä¼˜åŒ–ç­–ç•¥</li>
<li>å­¦ä¼šäº†ä½¿ç”¨ @Stable å’Œ @Immutable æ§åˆ¶é‡ç»„</li>
</ul>
<h3 data-id="heading-71">remember ä¸ mutableStateOf</h3>
<ul>
<li>æ·±å…¥ç†è§£äº† remember çš„ç¼“å­˜åŸç†</li>
<li>æŒæ¡äº† mutableStateOf çš„ Snapshot æœºåˆ¶</li>
<li>å­¦ä¼šäº† rememberSaveable çš„ä¿å­˜ä¸æ¢å¤</li>
</ul>
<h3 data-id="heading-72">çŠ¶æ€æå‡</h3>
<ul>
<li>ç†è§£äº†çŠ¶æ€æå‡çš„è®¾è®¡å“²å­¦</li>
<li>æŒæ¡äº†çŠ¶æ€å®¹å™¨æ¨¡å¼å’Œå±å¹•çº§çŠ¶æ€ç®¡ç†</li>
</ul>
<h3 data-id="heading-73">ViewModel ä¸ Compose</h3>
<ul>
<li>å­¦ä¼šäº† StateFlow ä¸ Compose çš„é›†æˆ</li>
<li>æŒæ¡äº† UI çŠ¶æ€è®¾è®¡çš„æœ€ä½³å®è·µ</li>
</ul>
<h3 data-id="heading-74">CompositionLocal</h3>
<ul>
<li>ç†è§£äº†éšå¼ä¼ å‚çš„åŸç†</li>
<li>å­¦ä¼šäº†åˆ›å»ºå’Œä½¿ç”¨ CompositionLocal</li>
</ul>
<h3 data-id="heading-75">å‰¯ä½œç”¨ API</h3>
<ul>
<li>æŒæ¡äº† LaunchedEffectã€DisposableEffect ç­‰å‰¯ä½œç”¨ API</li>
<li>ç†è§£äº†ä¸åŒåœºæ™¯ä¸‹çš„é€‰æ‹©ç­–ç•¥</li>
</ul>
<hr/>
<h2 data-id="heading-76">ä¸‹ç¯‡é¢„å‘Š</h2>
<p><strong>ç¬¬å››ç¯‡ï¼šMaterial ç»„ä»¶ä¸ä¸»é¢˜</strong> å°†æ·±å…¥è®²è§£ï¼š</p>
<ul>
<li>Material Design 3 ç»„ä»¶å¤§å…¨</li>
<li>è‡ªå®šä¹‰ä¸»é¢˜ä¸é¢œè‰²ç³»ç»Ÿ</li>
<li>æ·±è‰²æ¨¡å¼ä¸åŠ¨æ€ä¸»é¢˜é€‚é…</li>
<li>è‡ªå®šä¹‰ç»„ä»¶çš„è®¾è®¡æ€è·¯</li>
</ul>
<p>æ•¬è¯·æœŸå¾…ï¼</p>
<hr/>
<h2 data-id="heading-77">å‚è€ƒèµ„æº</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Fstate" target="_blank" title="https://developer.android.com/jetpack/compose/state" ref="nofollow noopener noreferrer">Compose çŠ¶æ€å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.android.com%2Fjetpack%2Fcompose%2Fside-effects" target="_blank" title="https://developer.android.com/jetpack/compose/side-effects" ref="nofollow noopener noreferrer">Compose å‰¯ä½œç”¨å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fandroid.googlesource.com%2Fplatform%2Fframeworks%2Fsupport%2F%2B%2Fandroidx-main%2Fcompose%2F" target="_blank" title="https://android.googlesource.com/platform/frameworks/support/+/androidx-main/compose/" ref="nofollow noopener noreferrer">Compose æºç </a></li>
</ul>
<hr/>
<blockquote>
<p>ğŸ“Œ <strong>ç³»åˆ—æ–‡ç« å¯¼èˆª</strong></p>
<ul>
<li>ç¬¬ä¸€ç¯‡ï¼šåˆè¯† Compose âœ…</li>
<li>ç¬¬äºŒç¯‡ï¼šæ ¸å¿ƒåŸºçŸ³ âœ…</li>
<li>ç¬¬ä¸‰ç¯‡ï¼šçŠ¶æ€ç®¡ç†ï¼ˆå½“å‰ï¼‰âœ…</li>
<li>ç¬¬å››ç¯‡ï¼šMaterial ç»„ä»¶ä¸ä¸»é¢˜</li>
<li>ç¬¬äº”ç¯‡ï¼šåŠ¨ç”»ä¸äº¤äº’</li>
<li>ç¬¬å…­ç¯‡ï¼šæ¶æ„ä¸å·¥ç¨‹åŒ–</li>
<li>ç¬¬ä¸ƒç¯‡ï¼šé«˜çº§ç‰¹æ€§ä¸å®æˆ˜</li>
</ul>
</blockquote>
<hr/>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ <strong>ç‚¹èµ</strong>ã€<strong>æ”¶è—</strong>ã€<strong>å…³æ³¨</strong>ï¼æœ‰ä»»ä½•é—®é¢˜å¯ä»¥åœ¨è¯„è®ºåŒºç•™è¨€ã€‚</p>
<p><del>Generated by Kimi K2.5 Agent</del></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ„å»ºä¸“ä¸šå‘½ä»¤è¡Œå·¥å…·ï¼šè§£æ Commander ä¸ Inquirer çš„åä½œä¹‹é“]]></title>    <link>https://juejin.cn/post/7600344784945381422</link>    <guid>https://juejin.cn/post/7600344784945381422</guid>    <pubDate>2026-01-29T06:23:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600344784945381422" data-draft-id="7600344784945348654" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºä¸“ä¸šå‘½ä»¤è¡Œå·¥å…·ï¼šè§£æ Commander ä¸ Inquirer çš„åä½œä¹‹é“"/> <meta itemprop="keywords" content="åç«¯,å‰ç«¯,JavaScript"/> <meta itemprop="datePublished" content="2026-01-29T06:23:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«è½¦å¼ä½"/> <meta itemprop="url" content="https://juejin.cn/user/1345457960792808"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºä¸“ä¸šå‘½ä»¤è¡Œå·¥å…·ï¼šè§£æ Commander ä¸ Inquirer çš„åä½œä¹‹é“
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1345457960792808/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«è½¦å¼ä½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-29T06:23:57.000Z" title="Thu Jan 29 2026 06:23:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ Node.js ç”Ÿæ€ä¸­ï¼Œå¼€å‘ä¸€ä¸ªå‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰å·¥å…·å‡ ä¹æ˜¯æ¯ä¸ªé«˜çº§å¼€å‘è€…çš„å¿…ç»ä¹‹è·¯ã€‚ç„¶è€Œï¼Œé¢å¯¹ <strong>Commander.js</strong> å’Œ <strong>Inquirer.js</strong> è¿™ä¸¤ä¸ªé¡¶çº§åº“æ—¶ï¼Œå¾ˆå¤šå¼€å‘è€…ä¼šäº§ç”Ÿå›°æƒ‘ï¼šâ€œæˆ‘åˆ°åº•è¯¥é€‰å“ªä¸€ä¸ªï¼Ÿâ€</p>
<p>å®é™…ä¸Šï¼Œè¿™ç§å›°æƒ‘æºäºå¯¹ä¸¤è€…å®šä½çš„é‡å æ€§è¯¯è§£ã€‚Commander è´Ÿè´£çš„æ˜¯**â€œå‘½ä»¤çš„ç»“æ„â€<strong>ï¼Œè€Œ Inquirer è´Ÿè´£çš„æ˜¯</strong>â€œäº’åŠ¨çš„ä½“éªŒâ€**ã€‚æœ¬æ–‡å°†å¸¦ä½ æ·±å…¥åº•å±‚ï¼Œçœ‹æ¸…å®ƒä»¬çš„ç›¸åŒç‚¹ä¸æœ¬è´¨åŒºåˆ«ï¼ŒåŠ©ä½ åšå‡ºæœ€ç†æ€§çš„æŠ€æœ¯é€‰å‹ã€‚</p>
<hr/>
<h2 data-id="heading-0">1. Commander.jsï¼šCLI çš„éª¨æ¶ä¸è§„åˆ™</h2>
<h3 data-id="heading-1">1.1 æ ¸å¿ƒå®šä½</h3>
<p>Commander æ˜¯ä¸€ä¸ªå®Œæ•´çš„ Node.js å‘½ä»¤è¡Œè§£å†³æ–¹æ¡ˆã€‚å®ƒæ•ˆä»¿äº† Ruby çš„ <code>commander</code>ï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯<strong>è§£æï¼ˆParsingï¼‰</strong>ã€‚å®ƒè´Ÿè´£å‘Šè¯‰ç¨‹åºï¼šç”¨æˆ·åœ¨å¯åŠ¨æ—¶è¾“å…¥äº†ä»€ä¹ˆæŒ‡ä»¤ã€å¸¦äº†ä»€ä¹ˆå‚æ•°ã€è®¾ç½®äº†å“ªäº›é€‰é¡¹ã€‚</p>
<h3 data-id="heading-2">1.2 æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§</h3>
<ul>
<li><strong>å‚æ•°è§£æ</strong>ï¼šè‡ªåŠ¨å¤„ç† <code>process.argv</code>ï¼Œæ”¯æŒå¿…å¡«å‚æ•° <code>&lt;arg&gt;</code> å’Œå¯é€‰å‚æ•° <code>[arg]</code>ã€‚</li>
<li><strong>é€‰é¡¹å®šä¹‰</strong>ï¼šæ”¯æŒçŸ­é€‰é¡¹ï¼ˆ<code>-f</code>ï¼‰å’Œé•¿é€‰é¡¹ï¼ˆ<code>--force</code>ï¼‰ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆå¸ƒå°”å€¼æˆ–å‚æ•°å€¼ã€‚</li>
<li><strong>å­å‘½ä»¤ç³»ç»Ÿ</strong>ï¼šé€šè¿‡ <code>.command()</code> æ„å»ºç±»ä¼¼ <code>git push</code>ã€<code>git pull</code> çš„åµŒå¥—ç»“æ„ã€‚</li>
<li><strong>è‡ªåŠ¨æ–‡æ¡£</strong>ï¼šåŸºäºå®šä¹‰è‡ªåŠ¨ç”Ÿæˆ <code>-h, --help</code> å¸®åŠ©ä¿¡æ¯ã€‚</li>
</ul>
<h3 data-id="heading-3">1.3 ä»£ç ç¤ºä¾‹ï¼ˆåŸºäºæ–‡æ¡£ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { program } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'commander'</span>);

program
  .<span class="hljs-title function_">name</span>(<span class="hljs-string">'pizza-cli'</span>)
  .<span class="hljs-title function_">description</span>(<span class="hljs-string">'è®¢è´­çš®è¨çš„å·¥å…·'</span>)
  .<span class="hljs-title function_">version</span>(<span class="hljs-string">'1.0.0'</span>);

program
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">'-s, --size &lt;type&gt;'</span>, <span class="hljs-string">'çš®è¨å°ºå¯¸'</span>, <span class="hljs-string">'medium'</span>)
  .<span class="hljs-title function_">option</span>(<span class="hljs-string">'-d, --debug'</span>, <span class="hljs-string">'å¼€å¯è°ƒè¯•æ¨¡å¼'</span>)
  .<span class="hljs-title function_">action</span>(<span class="hljs-function">(<span class="hljs-params">options</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ‚¨è®¢è´­äº†ä¸€ä¸ª <span class="hljs-subst">${options.size}</span> å°ºå¯¸çš„çš®è¨ã€‚`</span>);
  });

program.<span class="hljs-title function_">parse</span>();
</code></pre>
<hr/>
<h2 data-id="heading-4">2. Inquirer.jsï¼šCLI çš„è¡€è‚‰ä¸äº¤äº’</h2>
<h3 data-id="heading-5">2.1 æ ¸å¿ƒå®šä½</h3>
<p>Inquirer æ˜¯ä¸€ä¸ªäº¤äº’å¼å‘½ä»¤è¡Œç”¨æˆ·ç•Œé¢çš„é›†åˆã€‚å®ƒçš„ç›®æ ‡æ˜¯<strong>å¼•å¯¼ï¼ˆGuidingï¼‰</strong>ã€‚å½“ä½ çš„ç¨‹åºéœ€è¦ä»ç”¨æˆ·é‚£é‡Œè·å–éé¢„è®¾çš„ã€å¤æ‚çš„ä¿¡æ¯æ—¶ï¼ŒInquirer æä¾›äº†ä¸°å¯Œçš„ UI ç»„ä»¶ã€‚</p>
<h3 data-id="heading-6">2.2 æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§</h3>
<ul>
<li><strong>å¤šæ ·åŒ–è¾“å…¥</strong>ï¼šæ”¯æŒ <code>input</code>ï¼ˆæ–‡æœ¬ï¼‰ã€<code>password</code>ï¼ˆé®ç½©ï¼‰ã€<code>confirm</code>ï¼ˆç¡®è®¤ï¼‰ã€<code>select</code>ï¼ˆå•é€‰ï¼‰ã€<code>checkbox</code>ï¼ˆå¤šé€‰ï¼‰ç­‰ã€‚</li>
<li><strong>æµå¼å¯¹è¯</strong>ï¼šå¯ä»¥æ ¹æ®ä¸Šä¸€æ­¥çš„å›ç­”åŠ¨æ€å†³å®šä¸‹ä¸€æ­¥æé—®çš„å†…å®¹ã€‚</li>
<li><strong>è¾“å…¥æ ¡éªŒ</strong>ï¼šå†…ç½® <code>validate</code> é’©å­ï¼Œå®æ—¶åé¦ˆè¾“å…¥é”™è¯¯ã€‚</li>
<li><strong>æ–°ç‰ˆä¼˜åŒ–</strong>ï¼šæœ€æ–°ç‰ˆï¼ˆ<code>@inquirer/prompts</code>ï¼‰é‡‡ç”¨äº†æ›´è½»é‡ã€æ€§èƒ½æ›´é«˜çš„æ¶æ„ï¼Œå¹¶æ”¯æŒæ›´çµæ´»çš„å¼‚æ­¥æ“ä½œã€‚</li>
</ul>
<h3 data-id="heading-7">2.3 ä»£ç ç¤ºä¾‹ï¼ˆåŸºäºæ–‡æ¡£ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { input, select } <span class="hljs-keyword">from</span> <span class="hljs-string">'@inquirer/prompts'</span>;

<span class="hljs-keyword">const</span> name = <span class="hljs-keyword">await</span> <span class="hljs-title function_">input</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'è¯·è¾“å…¥æ‚¨çš„åå­—'</span> });
<span class="hljs-keyword">const</span> color = <span class="hljs-keyword">await</span> <span class="hljs-title function_">select</span>({
  <span class="hljs-attr">message</span>: <span class="hljs-string">'é€‰æ‹©ä½ å–œæ¬¢çš„é¢œè‰²'</span>,
  <span class="hljs-attr">choices</span>: [
    { <span class="hljs-attr">name</span>: <span class="hljs-string">'çº¢è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'red'</span> },
    { <span class="hljs-attr">name</span>: <span class="hljs-string">'è“è‰²'</span>, <span class="hljs-attr">value</span>: <span class="hljs-string">'blue'</span> },
  ],
});

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä½ å¥½ <span class="hljs-subst">${name}</span>ï¼Œä½ é€‰æ‹©äº† <span class="hljs-subst">${color}</span>ã€‚`</span>);
</code></pre>
<hr/>
<h2 data-id="heading-8">3. æ·±åº¦å¯¹æ¯”ï¼šç›¸åŒç‚¹ä¸ä¸åŒç‚¹</h2>
<p>ä¸ºäº†è¾…åŠ©é€‰å‹ï¼Œæˆ‘ä»¬å°†ä¸¤è€…è¿›è¡Œå¤šç»´åº¦çš„æ¨ªå‘å¯¹æ¯”ï¼š</p>



































<table><thead><tr><th align="left">ç»´åº¦</th><th align="left">Commander.js</th><th align="left">Inquirer.js</th></tr></thead><tbody><tr><td align="left"><strong>äº¤äº’æ¨¡å¼</strong></td><td align="left"><strong>é™æ€/å£°æ˜å¼</strong>ï¼šç”¨æˆ·å¯åŠ¨å‰å†³å®šä¸€åˆ‡</td><td align="left"><strong>åŠ¨æ€/äº¤äº’å¼</strong>ï¼šç¨‹åºè¿è¡Œä¸­å®æ—¶é—®ç­”</td></tr><tr><td align="left"><strong>ä¸»è¦èŒè´£</strong></td><td align="left">å‘½ä»¤è§£æã€ç‰ˆæœ¬ç®¡ç†ã€å¸®åŠ©ä¿¡æ¯ã€å­å‘½ä»¤è°ƒåº¦</td><td align="left">æ”¶é›†ç”¨æˆ·è¾“å…¥ã€æ•°æ®æ ¡éªŒã€æµç¨‹å¼•å¯¼ã€UI å‘ˆç°</td></tr><tr><td align="left"><strong>è‡ªåŠ¨åŒ–æ”¯æŒ</strong></td><td align="left"><strong>æä½³</strong>ï¼šå®Œç¾æ”¯æŒ CI/CDã€è„šæœ¬è‡ªåŠ¨åŒ–è°ƒç”¨</td><td align="left"><strong>è¾ƒå·®</strong>ï¼šé€šå¸¸éœ€è¦äººå·¥å¹²é¢„ï¼ˆé™¤é Mock æ ‡å‡†è¾“å…¥ï¼‰</td></tr><tr><td align="left"><strong>å­¦ä¹ æ›²çº¿</strong></td><td align="left">ä½ï¼šä¸»è¦æ˜¯å£°æ˜ API åŠå…¶å›è°ƒ</td><td align="left">ä¸­ï¼šéœ€å¤„ç†å¼‚æ­¥æµç¨‹ã€é€»è¾‘åˆ†æ”¯å’Œæ ¡éªŒ</td></tr><tr><td align="left"><strong>ç”¨æˆ·ç¾¤ä½“</strong></td><td align="left">é«˜çº§ç”¨æˆ·ï¼ˆåå‘è„šæœ¬åŒ–ã€å¿«é€ŸæŒ‡ä»¤ï¼‰</td><td align="left">æ™®é€šç”¨æˆ·ï¼ˆåå‘é…ç½®å‘å¯¼ã€åˆå§‹åŒ–å·¥å…·ï¼‰</td></tr></tbody></table>
<h3 data-id="heading-9">ç›¸åŒç‚¹</h3>
<ol>
<li><strong>åŸºç¡€ç¯å¢ƒ</strong>ï¼šä¸¤è€…éƒ½è¿è¡Œåœ¨ Node.js ç¯å¢ƒï¼Œå‡å¯¹åŸç”Ÿ <code>process.stdin</code> å’Œ <code>process.stdout</code> è¿›è¡Œäº†é«˜çº§å°è£…ã€‚</li>
<li><strong>ç¤¾åŒºæ ‡å‡†</strong>ï¼šå®ƒä»¬éƒ½æ˜¯å„è‡ªé¢†åŸŸçš„â€œäº‹å®æ ‡å‡†â€ï¼Œnpm ä¸‹è½½é‡å‡ä¸ºåƒä¸‡çº§ã€‚</li>
<li><strong>æ‰©å±•æ€§</strong>ï¼šéƒ½æ”¯æŒè‡ªå®šä¹‰æ‰©å±•ï¼ŒCommander å¯ä»¥è‡ªå®šä¹‰é…ç½® Help ç±»ï¼ŒInquirer å¯ä»¥å¼€å‘è‡ªå®šä¹‰ Prompt æ’ä»¶ã€‚</li>
</ol>
<h3 data-id="heading-10">æ ¸å¿ƒåŒºåˆ«</h3>
<ul>
<li><strong>è§¦å‘æ—¶æœºä¸åŒ</strong>ï¼šCommander å…³æ³¨çš„æ˜¯å‘½ä»¤å¯åŠ¨é‚£ä¸€åˆ»çš„çŠ¶æ€ï¼›Inquirer å…³æ³¨çš„æ˜¯å¯åŠ¨åä¸ç”¨æˆ·çš„æŒç»­å¯¹è¯ã€‚</li>
<li><strong>CI/CD å‹å¥½åº¦ä¸åŒ</strong>ï¼šå¦‚æœä½ çš„å·¥å…·è¦åœ¨æœåŠ¡å™¨è„šæœ¬ï¼ˆå¦‚ Jenkinsï¼‰ä¸­è¿è¡Œï¼ŒCommander æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºå®ƒå¯ä»¥é€šè¿‡ Flagï¼ˆå¦‚ <code>--yes</code>ï¼‰é¿å¼€äººå·¥å¹²é¢„ï¼›è€Œ Inquirer åœ¨è¿™ç§åœºæ™¯ä¸‹ä¼šé˜»å¡è¿›ç¨‹ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-11">4. æ··åˆé€‰å‹ç­–ç•¥ï¼š1 + 1 &gt; 2</h2>
<p>åœ¨ç°ä»£ CLI å¼€å‘ä¸­ï¼Œ**â€œCommander æ„å»ºéª¨æ¶ + Inquirer å¡«å……äº¤äº’â€**æ˜¯æœ€æˆç†Ÿçš„æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-12">å®è·µæ¡ˆä¾‹ï¼šè„šæ‰‹æ¶åˆå§‹åŒ–</h3>
<p>æƒ³è±¡ä½ è¦å¼€å‘ä¸€ä¸ªç±»ä¼¼ <code>vue-cli</code> çš„å·¥å…·ï¼š</p>
<ol>
<li><strong>ä½¿ç”¨ Commander è§£ææŒ‡ä»¤</strong>ï¼šç”¨æˆ·è¾“å…¥ <code>my-cli create my-project</code>ã€‚</li>
<li><strong>ç¼ºçœæ£€æµ‹</strong>ï¼šå¦‚æœç”¨æˆ·æ²¡ä¼ å‚æ•°ï¼Œæˆ–è€…éœ€è¦è¿›ä¸€æ­¥é…ç½®ï¼Œåˆ™å”¤èµ· <strong>Inquirer</strong>ã€‚</li>
<li><strong>äº¤äº’å¼é—®ç­”</strong>ï¼šè¯¢é—®â€œæ˜¯å¦ä½¿ç”¨ TypeScriptï¼Ÿâ€ã€â€œæ˜¯å¦é›†æˆ ESLintï¼Ÿâ€ã€‚</li>
<li><strong>ç»“æœåˆå¹¶</strong>ï¼šå°† Commander è§£æçš„åˆå§‹å‚æ•°ä¸ Inquirer æ”¶é›†çš„é…ç½®åˆå¹¶ï¼Œæœ€åæ‰§è¡Œæ–‡ä»¶åˆ›å»ºä»»åŠ¡ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-13">5. ç»“è®ºä¸è¡ŒåŠ¨å»ºè®®</h2>
<p>é’ˆå¯¹ä½ çš„æŠ€æœ¯é€‰å‹ï¼Œæˆ‘ç»™å‡ºä»¥ä¸‹ç»“è®ºï¼š</p>
<ol>
<li><strong>å¦‚æœä½ çš„å·¥å…·ä¸»è¦ç”¨äºè‡ªåŠ¨åŒ–è„šæœ¬ã€æ•°æ®å¤„ç†æˆ–æ‹¥æœ‰å¤§é‡å¤æ‚å‚æ•°</strong>ï¼šè¯·ä¼˜å…ˆç¡®ä¿ <strong>Commander</strong> çš„ç¨³å¥å®ç°ã€‚å®ƒèƒ½è®©ä½ çš„å·¥å…·åƒ <code>ls</code> æˆ– <code>git</code> ä¸€æ ·ä¸“ä¸šä¸”æ˜“äºé›†æˆã€‚</li>
<li><strong>å¦‚æœä½ çš„å·¥å…·ä¸»è¦é¢å‘åˆçº§ç”¨æˆ·ï¼Œæˆ–è€…æ¶‰åŠå¤æ‚çš„åˆå§‹åŒ–é…ç½®ï¼ˆå¦‚è„šæ‰‹æ¶ã€å®‰è£…å‘å¯¼ï¼‰</strong>ï¼š<strong>Inquirer</strong>ï¼ˆæ¨èä½¿ç”¨æ–°ç‰ˆ <code>@inquirer/prompts</code>ï¼‰å°†æå¤§æå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>è¡ŒåŠ¨å»ºè®®</strong>ï¼š
<ul>
<li><strong>ç«‹å³å¯åš</strong>ï¼šå®šä¹‰ä½ çš„ CLI æ ¸å¿ƒå‘½ä»¤ç»“æ„ï¼Œä½¿ç”¨ Commander å»ºç«‹ç¬¬ä¸€ä¸ª <code>--help</code>ã€‚</li>
<li><strong>ä¸­æœŸè®¡åˆ’</strong>ï¼šè¯†åˆ«ç”¨æˆ·å®¹æ˜“è¾“é”™æˆ–éš¾ä»¥è®°å¿†çš„å¤æ‚å‚æ•°ï¼Œå°†å…¶è½¬åŒ–ä¸º Inquirer çš„äº¤äº’å¼é—®ç­”æµç¨‹ã€‚</li>
</ul>
</li>
</ol>
<hr/>
<p><strong>å‚è€ƒæ¥æºï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FSBoudrias%2FInquirer.js" target="_blank" title="https://github.com/SBoudrias/Inquirer.js" ref="nofollow noopener noreferrer">Inquirer.js GitHub Repository</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Ftj%2Fcommander.js" target="_blank" title="https://github.com/tj/commander.js" ref="nofollow noopener noreferrer">Commander.js GitHub Repository</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä» 0 åˆ° 1 ç²¾é€š Reduxï¼šä»â€œç»•æ™•â€åˆ°â€œçœŸé¦™â€çš„ä¿å§†çº§å®æˆ˜]]></title>    <link>https://juejin.cn/post/7600489282822832178</link>    <guid>https://juejin.cn/post/7600489282822832178</guid>    <pubDate>2026-01-29T05:06:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600489282822832178" data-draft-id="7600508556102811698" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä» 0 åˆ° 1 ç²¾é€š Reduxï¼šä»â€œç»•æ™•â€åˆ°â€œçœŸé¦™â€çš„ä¿å§†çº§å®æˆ˜"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,Vue.js"/> <meta itemprop="datePublished" content="2026-01-29T05:06:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è±†è‹—å­¦å‰ç«¯"/> <meta itemprop="url" content="https://juejin.cn/user/1935598759719400"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä» 0 åˆ° 1 ç²¾é€š Reduxï¼šä»â€œç»•æ™•â€åˆ°â€œçœŸé¦™â€çš„ä¿å§†çº§å®æˆ˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1935598759719400/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è±†è‹—å­¦å‰ç«¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-29T05:06:18.000Z" title="Thu Jan 29 2026 05:06:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    33
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€ï¼šä¸ºä»€ä¹ˆä½ è§‰å¾— Redux ç»•ï¼Ÿ</h2>
<p>å¾ˆå¤šåŒå­¦åœ¨å­¦ä¹  Redux æ—¶ï¼Œä¼šè¢«Â <strong>Actionã€Reducerã€Dispatchã€Store</strong>Â è¿™ä¸€å †åè¯ç»•æ™•ã€‚å…¶å®ï¼ŒRedux çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ª**â€œå…¨åº—å…±äº«çš„ä¸­å¤®è´¦æœ¬â€**ã€‚</p>
<p>åœ¨æ²¡æœ‰ Redux çš„æ—¶å€™ï¼Œç»„ä»¶ä¼ å€¼åƒâ€œä¼ å£°ç­’â€ï¼Œçˆ¶ä¼ å­ã€å­ä¼ å­™ï¼Œå±‚çº§ä¸€æ·±ï¼Œä»£ç å°±æˆäº†ä¹±éº»ã€‚è€Œ Redux è®©æ•°æ®è„±ç¦»äº†ç»„ä»¶æ ‘ï¼Œç‹¬ç«‹å­˜åœ¨ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬ä»¥**â€œå¤èŒ—å¥¶èŒ¶ä¸‹å•ç³»ç»Ÿâ€**ä¸ºä¾‹ï¼Œç”¨æœ€ç°ä»£çš„Â <strong>Redux Toolkit (RTK)</strong> Â æ–¹æ¡ˆï¼Œå®Œæˆä»é›¶åˆ°ä¸€çš„è¿›åŒ–ã€‚</p>
<hr/>
<h2 data-id="heading-1">ç¬¬ä¸€æ­¥ï¼šå»ºç«‹å¿ƒæ™ºæ¨¡å‹â€”â€”â€œå¤èŒ—åº—é•¿ç¬”è®°â€</h2>
<p>åœ¨åŠ¨æ‰‹å†™ä»£ç å‰ï¼Œå…ˆè®°ä½è¿™ä¸ªæ˜ å°„å…³ç³»ï¼š</p>
<ol>
<li><strong>Storeï¼ˆå¤§è´¦æœ¬ï¼‰</strong> ï¼šå¤èŒ—åº—é‡Œå”¯ä¸€çš„ä¸­å¤®è´¦æœ¬ï¼Œè®°å½•äº†æ‰€æœ‰åº“å­˜å’Œè®¢å•ã€‚</li>
<li><strong>Sliceï¼ˆéƒ¨é—¨ï¼‰</strong> ï¼šè´¦æœ¬é‡Œçš„åˆ†åŒºã€‚æ¯”å¦‚â€œè´­ç‰©è½¦éƒ¨â€ã€â€œç”¨æˆ·éƒ¨â€ã€‚</li>
<li><strong>Actionï¼ˆç”³è¯·å•ï¼‰</strong> ï¼šä½ æƒ³æ”¹è´¦æœ¬ï¼Ÿå¿…é¡»å¡«ç”³è¯·å•ã€‚æ¯”å¦‚â€œåŠ ä¸€æ¯æ¨æ¢…å†°â€ã€‚</li>
<li><strong>Reducerï¼ˆè´¢åŠ¡ä¸»ç®¡ï¼‰</strong> ï¼šå”¯ä¸€æœ‰æƒæ”¹è´¦æœ¬çš„äººã€‚ä»–çœ‹åˆ°ç”³è¯·å•ï¼Œäº²è‡ªåˆ’æ‰æ—§æ•°å­—ï¼Œå†™ä¸Šæ–°æ•°å­—ã€‚</li>
<li><strong>Selectorï¼ˆç›‘æ§å™¨ï¼‰</strong> ï¼šæ”¶é“¶å°çš„å±å¹•ã€‚è´¦æœ¬ä¸€å˜ï¼Œå±å¹•è‡ªåŠ¨åˆ·æ–°æ˜¾ç¤ºã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-2">ç¬¬äºŒæ­¥ï¼šç¯å¢ƒæ­å»ºï¼ˆèµ·æ­¥ï¼‰</h2>
<p>ç°åœ¨æˆ‘ä»¬ä¸å†å†™è€æ—§çš„ Redux æ¨¡æ¿ï¼Œç›´æ¥ä¸ŠÂ <strong>Redux Toolkit</strong>ã€‚</p>
<p>codeBash</p>
<pre><code class="hljs language-bash" lang="bash">npm install @reduxjs/toolkit react-redux
</code></pre>
<hr/>
<h2 data-id="heading-3">ç¬¬ä¸‰æ­¥ï¼šç¼–å†™ä¸šåŠ¡é€»è¾‘åˆ‡ç‰‡ (Slice)</h2>
<p>æˆ‘ä»¬è¦å¤„ç†è´­ç‰©è½¦ä¸šåŠ¡ã€‚æ–°å»ºÂ src/features/cartSlice.jsï¼š</p>
<p>codeJavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { createSlice } <span class="hljs-keyword">from</span> <span class="hljs-string">'@reduxjs/toolkit'</span>;

<span class="hljs-keyword">const</span> cartSlice = <span class="hljs-title function_">createSlice</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'cart'</span>, <span class="hljs-comment">// éƒ¨é—¨åç§°</span>
  <span class="hljs-attr">initialState</span>: {
    <span class="hljs-attr">items</span>: [],    <span class="hljs-comment">// è´­ç‰©è½¦å¥¶èŒ¶åˆ—è¡¨</span>
    <span class="hljs-attr">total</span>: <span class="hljs-number">0</span>      <span class="hljs-comment">// æ€»é‡‘é¢</span>
  },
  <span class="hljs-attr">reducers</span>: {
    <span class="hljs-comment">// ç”³è¯·å•1ï¼šåŠ å…¥è´­ç‰©è½¦</span>
    <span class="hljs-attr">addToCart</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      <span class="hljs-comment">// action.payload å°±æ˜¯ä¼ è¿›æ¥çš„å¥¶èŒ¶ï¼š{ name: 'æ¨æ¢…å†°', price: 15 }</span>
      state.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(action.<span class="hljs-property">payload</span>);
      state.<span class="hljs-property">total</span> += action.<span class="hljs-property">payload</span>.<span class="hljs-property">price</span>;
    },
    <span class="hljs-comment">// ç”³è¯·å•2ï¼šæ¸…ç©ºè´­ç‰©è½¦</span>
    <span class="hljs-attr">clearCart</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
      state.<span class="hljs-property">items</span> = [];
      state.<span class="hljs-property">total</span> = <span class="hljs-number">0</span>;
    }
  }
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> { addToCart, clearCart } = cartSlice.<span class="hljs-property">actions</span>; <span class="hljs-comment">// å¯¼å‡ºç”³è¯·å•</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> cartSlice.<span class="hljs-property">reducer</span>; <span class="hljs-comment">// å¯¼å‡ºè´¢åŠ¡ä¸»ç®¡</span>
</code></pre>
<hr/>
<h2 data-id="heading-4">ç¬¬å››æ­¥ï¼šé…ç½®ä¸­å¤®ä»“åº“ (Store)</h2>
<p>æ–°å»ºÂ src/app/store.jsï¼ŒæŠŠå„éƒ¨é—¨ä¸»ç®¡é›†åˆèµ·æ¥ï¼š</p>
<p>codeJavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { configureStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'@reduxjs/toolkit'</span>;
<span class="hljs-keyword">import</span> cartReducer <span class="hljs-keyword">from</span> <span class="hljs-string">'../features/cartSlice'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">configureStore</span>({
  <span class="hljs-attr">reducer</span>: {
    <span class="hljs-attr">cart</span>: cartReducer, <span class="hljs-comment">// æ³¨å†Œè´­ç‰©è½¦éƒ¨é—¨</span>
    <span class="hljs-comment">// user: userReducer, ä»¥åæœ‰ç”¨æˆ·éƒ¨é—¨å†å¾€è¿™åŠ </span>
  }
});
</code></pre>
<hr/>
<h2 data-id="heading-5">ç¬¬äº”æ­¥ï¼šå…¨å±€æ³¨å…¥</h2>
<p>åœ¨å…¥å£æ–‡ä»¶Â main.jsxÂ ä¸­ï¼Œç”¨Â Â æŠŠè´¦æœ¬å‘ç»™å…¨åº—ï¼š</p>
<p>codeJsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">Provider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">import</span> { store } <span class="hljs-keyword">from</span> <span class="hljs-string">'./app/store'</span>;

<span class="hljs-title class_">ReactDOM</span>.<span class="hljs-title function_">createRoot</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'root'</span>)).<span class="hljs-title function_">render</span>(
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Provider</span> <span class="hljs-attr">store</span>=<span class="hljs-string">{store}</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">App</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Provider</span>&gt;</span></span>
);
</code></pre>
<hr/>
<h2 data-id="heading-6">ç¬¬å…­æ­¥ï¼šåœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼ˆå®æˆ˜æ¼”ç»ƒï¼‰</h2>
<h3 data-id="heading-7">1. æäº¤ç”³è¯·å•ï¼ˆDispatching Actionsï¼‰</h3>
<p>åœ¨Â Menu.jsxï¼ˆèœå•é¡µï¼‰ï¼Œç‚¹å‡»æŒ‰é’®åŠ å¥¶èŒ¶ï¼š</p>
<p>codeJsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useDispatch } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;
<span class="hljs-keyword">import</span> { addToCart } <span class="hljs-keyword">from</span> <span class="hljs-string">'./features/cartSlice'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Menu</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> dispatch = <span class="hljs-title function_">useDispatch</span>(); <span class="hljs-comment">// æ‹¿åˆ°é‚£ä¸ªâ€œå‘å•æœºâ€</span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch(addToCart({ name: 'æ¨æ¢…å†°', price: 15 }))}&gt;
      ç‚¹ä¸€æ¯æ¨æ¢…å†°
    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>
  );
}
</code></pre>
<h3 data-id="heading-8">2. æŸ¥çœ‹å±å¹•æ˜¾ç¤ºï¼ˆSelecting Stateï¼‰</h3>
<p>åœ¨Â Header.jsxï¼ˆé¡µçœ‰ï¼‰ï¼Œå®æ—¶æ˜¾ç¤ºé‡‘é¢ï¼š</p>
<p>codeJsx</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useSelector } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Header</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç›¯ç€è´¦æœ¬é‡Œçš„ cart éƒ¨åˆ†çœ‹</span>
  <span class="hljs-keyword">const</span> { total, items } = <span class="hljs-title function_">useSelector</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">cart</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>è´­ç‰©è½¦æ•°é‡ï¼š{items.length}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>æ€»é‡‘é¢ï¼šï¿¥{total}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<hr/>
<h2 data-id="heading-9">ç¬¬ä¸ƒæ­¥ï¼šè¿›é˜¶â€”â€”å¤„ç†å¼‚æ­¥ä¸šåŠ¡ (Async Thunk)</h2>
<p>ç°å®ä¸­ï¼Œæˆ‘ä»¬è¦é¢†ä¼˜æƒ åˆ¸ï¼Œéœ€è¦ç­‰æ¥å£è¿”å›ã€‚</p>
<p>codeJavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœ¨ cartSlice.js ä¸­æ·»åŠ </span>
<span class="hljs-keyword">import</span> { createAsyncThunk } <span class="hljs-keyword">from</span> <span class="hljs-string">'@reduxjs/toolkit'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> fetchCoupon = <span class="hljs-title function_">createAsyncThunk</span>(<span class="hljs-string">'cart/fetchCoupon'</span>, <span class="hljs-keyword">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/get-coupon'</span>);
  <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>(); <span class="hljs-comment">// è¿”å› { discount: 5 }</span>
});

<span class="hljs-comment">// åœ¨ createSlice çš„ extraReducers ä¸­ç›‘å¬</span>
<span class="hljs-attr">extraReducers</span>: <span class="hljs-function">(<span class="hljs-params">builder</span>) =&gt;</span> {
  builder.<span class="hljs-title function_">addCase</span>(fetchCoupon.<span class="hljs-property">fulfilled</span>, <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
    state.<span class="hljs-property">total</span> -= action.<span class="hljs-property">payload</span>.<span class="hljs-property">discount</span>; <span class="hljs-comment">// é¢†åˆ¸æˆåŠŸï¼Œå‡é’±ï¼</span>
  });
}
</code></pre>
<hr/>
<h2 data-id="heading-10">æ€»ç»“ï¼šç²¾é€š Redux çš„ä¸‰å­—ç»</h2>
<ol>
<li><strong>åˆ† (Slice)</strong> ï¼šæŒ‰ä¸šåŠ¡æ‹†åˆ†æ¨¡å—ï¼Œåˆ«æŠŠæ‰€æœ‰ä¸œè¥¿å¡ä¸€èµ·ã€‚</li>
<li><strong>é€‰ (Selector)</strong> ï¼šç»„ä»¶åªæ‹¿è‡ªå·±éœ€è¦çš„é‚£ä¸€å°å—æ•°æ®ï¼Œé¿å…æ— æ•ˆæ¸²æŸ“ã€‚</li>
<li><strong>å• (Dispatch)</strong> ï¼šæ”¹æ•°æ®å¿…é¡»å‘ Actionï¼Œä¸è¦åœ¨ç»„ä»¶é‡Œç›´æ¥æ”¹ Stateã€‚</li>
</ol>
<h3 data-id="heading-11">ä»€ä¹ˆæ—¶å€™ç”¨ Reduxï¼Ÿ</h3>
<ul>
<li><strong>è·¨é¡µé¢å…±äº«</strong>ï¼šç”¨æˆ·ä¿¡æ¯ã€è´­ç‰©è½¦ã€å…¨å±€ä¸»é¢˜ã€‚</li>
<li><strong>é¢‘ç¹å˜åŠ¨</strong>ï¼šå¤šå¤„ç»„ä»¶ä¾èµ–åŒä¸€ä¸ªæ•°æ®æºã€‚</li>
<li><strong>æœ¬åœ°ç¼“å­˜</strong>ï¼šæ¯”å¦‚ç”µè§†æœºæ’­æ”¾ç™½å±ä¼˜åŒ–ä¸­çš„â€œç¦»çº¿èµ„æºåˆ—è¡¨â€ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[openspecå·¥ä½œæµè§£æï¼šproposalã€specã€tasksçš„æ˜ç¡®åˆ†å·¥ä¸åä½œ]]></title>    <link>https://juejin.cn/post/7600298554871726086</link>    <guid>https://juejin.cn/post/7600298554871726086</guid>    <pubDate>2026-01-29T01:18:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600298554871726086" data-draft-id="7600326291552403462" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="openspecå·¥ä½œæµè§£æï¼šproposalã€specã€tasksçš„æ˜ç¡®åˆ†å·¥ä¸åä½œ"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-29T01:18:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«è½¦å¼ä½"/> <meta itemprop="url" content="https://juejin.cn/user/1345457960792808"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            openspecå·¥ä½œæµè§£æï¼šproposalã€specã€tasksçš„æ˜ç¡®åˆ†å·¥ä¸åä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1345457960792808/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«è½¦å¼ä½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-29T01:18:46.000Z" title="Thu Jan 29 2026 01:18:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>OpenSpec</strong> æ˜¯ä¸€ä¸ªä¸“ä¸º AI ç¼–ç åŠ©æ‰‹è®¾è®¡çš„è§„èŒƒé©±åŠ¨å¼€å‘ç³»ç»Ÿï¼Œæ—¨åœ¨ç¼–å†™ä»£ç ä¹‹å‰å»ºç«‹äººä¸ AI ä¹‹é—´çš„å¯¹é½ã€‚é€šè¿‡åœ¨å®ç°ä¹‹å‰é”å®šæ„å›¾ï¼ŒOpenSpec æä¾›äº†ç¡®å®šæ€§ã€å¯å®¡æŸ¥çš„è¾“å‡ºï¼Œè€Œæ— éœ€ API å¯†é’¥ã€‚</p>
<p>OpenSpec å¼•å…¥äº†ä¸€ä¸ªè½»é‡çº§çš„è§„èŒƒå·¥ä½œæµï¼Œæ”¹å˜äº†ä½ ä¸ AI ç¼–ç åŠ©æ‰‹çš„åä½œæ–¹å¼ã€‚å®ƒä¸å†ä¾èµ–èŠå¤©å†å²è®°å½•æ¥è·å–éœ€æ±‚ï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ˜ç¡®çš„ç»“æ„åŒ–å¥‘çº¦ï¼Œä¾›äººç±»å’Œ AI å·¥å…·æŒç»­å‚è€ƒã€‚è¿™ç§æ–¹æ³•ç¡®ä¿ææ¡ˆã€ä»»åŠ¡å’Œè§„èŒƒæ›´æ–°åœ¨æ•´ä¸ªå¼€å‘ç”Ÿå‘½å‘¨æœŸä¸­ä¿æŒå¯è§ã€å¯å®¡è®¡å’Œæ˜ç¡®ã€‚</p>
<p>è¯¥ç³»ç»Ÿé€šè¿‡åŸç”Ÿæ–œæ å‘½ä»¤æˆ– AGENTS.md çº¦å®šæ”¯æŒ 20 å¤šç§ AI å·¥å…·ï¼Œä½¿å…¶æ—¢çµæ´»åœ°é›†æˆåˆ°ä½ ç°æœ‰çš„å·¥ä½œæµä¸­ï¼Œåˆèƒ½æä¾›è¶³å¤Ÿçš„ç»“æ„ä»¥åœ¨å¤æ‚çš„å¤šæ–‡ä»¶æ›´æ”¹ä¸­ä¿æŒä¸€è‡´æ€§ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸‰è€…å®šä½ï¼šOpenSpecå·¥å…·ä¸­çš„è§’è‰²</h2>
<p><strong>åœ¨OpenSpecå·¥å…·ä¸­ï¼Œè¿™ä¸‰ä»½æ–‡æ¡£å…·æœ‰æ˜ç¡®çš„å®šä½ï¼š</strong></p>
<ul>
<li><strong><code>proposal.md</code></strong> = å˜æ›´ææ¡ˆæ–‡æ¡£ï¼ˆä¸ºä»€ä¹ˆæ”¹ã€æ”¹ä»€ä¹ˆã€å½±å“èŒƒå›´ï¼‰</li>
<li><strong><code>spec.md</code></strong> = è§„æ ¼å®šä¹‰æ–‡æ¡£ï¼ˆç³»ç»Ÿæœ€ç»ˆåº”è¯¥æ€ä¹ˆå·¥ä½œï¼‰</li>
<li><strong><code>tasks.md</code></strong> = ä»»åŠ¡æ‰§è¡Œæ¸…å•ï¼ˆå…·ä½“æ€ä¹ˆå®Œæˆã€è¿›åº¦è·Ÿè¸ªï¼‰</li>
</ul>
<p><strong>å®ƒä»¬åœ¨OpenSpecå·¥ä½œæµä¸­çš„ä¸»æ¬¡å…³ç³»ï¼š</strong></p>
<ol>
<li>
<p><strong><code>proposal.md</code> æ˜¯å†³ç­–èµ·ç‚¹</strong>ï¼šåœ¨ä½¿ç”¨OpenSpecç®¡ç†å˜æ›´æ—¶ï¼Œä»»ä½•æ”¹åŠ¨éƒ½ä»åˆ›å»ºproposal.mdå¼€å§‹ã€‚å®ƒé˜è¿°å˜æ›´çš„ç†ç”±ï¼ˆWhyï¼‰ã€æ¦‚è¿°å†…å®¹ï¼ˆWhatï¼‰ã€æ˜ç¡®å½±å“èŒƒå›´ï¼ˆImpactï¼‰ã€‚è¿™ä»½æ–‡æ¡£æ˜¯å›¢é˜Ÿè®¨è®ºæ˜¯å¦æ¥å—è¯¥å˜æ›´çš„å†³ç­–ä¾æ®ï¼Œé€šå¸¸ç¯‡å¹…è¾ƒçŸ­ã€‚</p>
</li>
<li>
<p><strong><code>spec.md</code> å®šä¹‰éªŒæ”¶æ ‡å‡†</strong>ï¼šå½“proposalè¢«æ¥å—åï¼Œéœ€è¦ç¼–å†™spec.mdæ¥è¯¦ç»†å®šä¹‰ç³»ç»Ÿè¡Œä¸ºçš„è§„æ ¼è¯´æ˜ã€‚åœ¨OpenSpecä¸­ï¼Œspecé€šå¸¸é‡‡ç”¨BDDé£æ ¼ï¼ˆWHEN/THENï¼‰æ¥å®šä¹‰éœ€æ±‚å’Œåœºæ™¯ï¼Œå®ƒæ˜¯éªŒæ”¶çš„é»„é‡‘æ ‡å‡†ï¼Œä¹Ÿæ˜¯ç¯‡å¹…æœ€é•¿çš„æ–‡æ¡£ã€‚</p>
</li>
<li>
<p><strong><code>tasks.md</code> æŒ‡å¯¼å…·ä½“æ‰§è¡Œ</strong>ï¼šåŸºäºproposalçš„ç›®æ ‡å’Œspecçš„è§„æ ¼ï¼Œtasks.mdå°†å˜æ›´æ‹†è§£ä¸ºå¯æ‰§è¡Œã€å¯è·Ÿè¸ªçš„ä»»åŠ¡åˆ—è¡¨ï¼Œæ¯ä¸ªä»»åŠ¡éƒ½å¸¦æœ‰checkboxã€‚åœ¨OpenSpecå·¥ä½œæµä¸­ï¼Œå¼€å‘è€…æŒ‰ç…§tasks.mdä¸€æ­¥æ­¥å®Œæˆï¼Œå¹¶æ‰“é’©æ ‡è®°è¿›åº¦ã€‚</p>
</li>
</ol>
<p><strong>æ ¸å¿ƒåŒºåˆ«å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š</strong></p>
<ul>
<li><strong>Proposal</strong> å›ç­”"<strong>ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªå˜æ›´</strong>"</li>
<li><strong>Spec</strong> å›ç­”"<strong>å˜æ›´åç³»ç»Ÿåº”è¯¥æ˜¯ä»€ä¹ˆæ ·</strong>"</li>
<li><strong>Tasks</strong> å›ç­”"<strong>å¦‚ä½•ä¸€æ­¥æ­¥å®Œæˆè¿™ä¸ªå˜æ›´</strong>"</li>
</ul>
<h2 data-id="heading-1">OpenSpecå·¥ä½œæµä¸­çš„å¯è§†åŒ–å…³ç³»</h2>
<p>ä¸ºäº†æ›´ç›´è§‚åœ°ç†è§£å®ƒä»¬åœ¨OpenSpecå·¥å…·ä¸­çš„åä½œå…³ç³»ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å›¾è¡¨æ¥æè¿°ã€‚</p>
<p><strong>ç»“æ„å…³ç³»å›¾</strong>å±•ç¤ºäº†æ–‡æ¡£é—´çš„äº§å‡ºä¸å‚ç…§å…³ç³»ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TD
    A[proposal.md&lt;br/&gt;å˜æ›´ææ¡ˆ] --&gt;|äº§å‡º| B[spec.md&lt;br/&gt;è§„æ ¼å®šä¹‰]
    A --&gt;|åˆ†è§£ä¸º| C[tasks.md&lt;br/&gt;ä»»åŠ¡æ¸…å•]
    B -.å‚ç…§.-&gt; C
    
    classDef proposal fill:#e1f5ff,stroke:#0366d6,stroke-width:2px
    classDef spec fill:#fff5e1,stroke:#d73a49,stroke-width:2px
    classDef tasks fill:#e1ffe1,stroke:#22863a,stroke-width:2px
</code></pre>
<p><em>å›¾è¡¨è¯´æ˜ï¼šåœ¨OpenSpecä¸­ï¼Œproposal.mdæ˜¯å˜æ›´çš„èµ·ç‚¹ï¼Œäº§å‡ºspec.mdï¼ˆå®šä¹‰éªŒæ”¶æ ‡å‡†ï¼‰å¹¶åˆ†è§£ä¸ºtasks.mdï¼ˆæ‰§è¡Œæ¸…å•ï¼‰ã€‚tasksåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šå‚ç…§specçš„éªŒæ”¶æ ‡å‡†ã€‚</em></p>
<p><strong>æ—¶åºå›¾</strong>å±•ç¤ºäº†OpenSpecå·¥ä½œæµä¸­çš„æ—¶é—´é¡ºåºï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant Dev as å¼€å‘è€…
    participant P as proposal.md
    participant S as spec.md
    participant T as tasks.md
    participant Code as ä»£ç å®ç°

    Dev-&gt;&gt;P: 1. åˆ›å»ºå˜æ›´ææ¡ˆ&lt;br/&gt;(Why/What/Impact)
    Note over P: å›¢é˜Ÿå†³ç­–ï¼šæ˜¯å¦æ¥å—å˜æ›´ï¼Ÿ
    
    Dev-&gt;&gt;S: 2. ç¼–å†™è§„æ ¼è¯´æ˜&lt;br/&gt;(WHEN/THEN åœºæ™¯)
    Note over S: å®šä¹‰éªŒæ”¶æ ‡å‡†
    
    Dev-&gt;&gt;T: 3. åˆ†è§£ä»»åŠ¡æ¸…å•&lt;br/&gt;(å¯æ‰§è¡Œæ­¥éª¤)
    Note over T: è§„åˆ’å®æ–½è·¯å¾„
    
    loop è¿­ä»£å¼€å‘
        Dev-&gt;&gt;Code: 4. å®ç°ä»£ç 
        Code--&gt;&gt;T: å®Œæˆä»»åŠ¡æ‰“é’© [x]
        Code--&gt;&gt;S: æ»¡è¶³è§„æ ¼åœºæ™¯
    end
    
    Note over Dev,Code: æ‰€æœ‰ tasks å®Œæˆ + spec é€šè¿‡éªŒè¯&lt;br/&gt;â†’ å‡†å¤‡å½’æ¡£
</code></pre>
<p><em>å›¾è¡¨è¯´æ˜ï¼šOpenSpecå·¥ä½œæµå§‹äºå˜æ›´ææ¡ˆå†³ç­–ï¼Œç»è¿‡è§„æ ¼å®šä¹‰å’Œä»»åŠ¡è§„åˆ’ï¼Œè¿›å…¥è¿­ä»£å¼€å‘ï¼Œæœ€ç»ˆä»¥å®Œæˆæ‰€æœ‰ä»»åŠ¡å¹¶æ»¡è¶³è§„æ ¼ä¸ºç»“æŸæ ‡å¿—ï¼Œå‡†å¤‡å½’æ¡£ã€‚</em></p>
<h2 data-id="heading-2">OpenSpecå·¥ä½œæµçš„å…³é”®é˜¶æ®µ</h2>
<p>åœ¨ä½¿ç”¨OpenSpecå·¥å…·ç®¡ç†å˜æ›´æ—¶ï¼Œæ•´ä¸ªæµç¨‹å¯ä»¥åˆ†ä¸ºäº”ä¸ªæ¸…æ™°çš„é˜¶æ®µï¼š</p>
<ol>
<li><strong>ææ¡ˆé˜¶æ®µ</strong>ï¼šåœ¨OpenSpecçš„changesç›®å½•ä¸‹åˆ›å»ºproposal.mdï¼Œé˜è¿°å˜æ›´ç†ç”±ï¼Œå›¢é˜Ÿè®¨è®ºå¹¶å†³å®šæ˜¯å¦æ¥å—è¯¥å˜æ›´ã€‚</li>
<li><strong>è®¾è®¡é˜¶æ®µ</strong>ï¼šç¼–å†™spec.mdï¼Œæ˜ç¡®å˜æ›´åç³»ç»Ÿè¡Œä¸ºçš„è¯¦ç»†å¥‘çº¦å’ŒéªŒæ”¶æ ‡å‡†ã€‚è¿™æ˜¯OpenSpecå¼ºè°ƒçš„"è®¾è®¡å…ˆè¡Œ"åŸåˆ™ã€‚</li>
<li><strong>è§„åˆ’é˜¶æ®µ</strong>ï¼šç¼–å†™tasks.mdï¼Œå°†å˜æ›´æ‹†è§£ä¸ºå…·ä½“ã€å¯æ‰§è¡Œçš„ä»»åŠ¡é¡¹ï¼Œæ¯ä¸ªä»»åŠ¡éƒ½å¸¦æœ‰checkboxã€‚</li>
<li><strong>å¼€å‘é˜¶æ®µ</strong>ï¼šæŒ‰ç…§tasks.mdè¿›è¡Œç¼–ç ï¼Œå¹¶æŒç»­å¯¹ç…§spec.mdè¿›è¡ŒéªŒè¯ï¼Œå®Œæˆä¸€é¡¹æ‰“é’©ä¸€é¡¹ã€‚OpenSpecé¼“åŠ±"å°æ­¥å¿«è·‘"çš„è¿­ä»£æ–¹å¼ã€‚</li>
<li><strong>å½’æ¡£é˜¶æ®µ</strong>ï¼šå½“æ‰€æœ‰taskså®Œæˆä¸”specé€šè¿‡éªŒè¯åï¼Œå°†æ•´ä¸ªå˜æ›´æ–‡æ¡£ä»changesç›®å½•ç§»è‡³archive/ç›®å½•ï¼Œæ ‡å¿—å˜æ›´å®Œç»“ã€‚</li>
</ol>
<h2 data-id="heading-3">å®é™…æ¡ˆä¾‹ï¼šadd-feedback-command</h2>
<p>ä»¥OpenSpecé¡¹ç›®æœ¬èº«çš„<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenspec%2Fopenspec%2Ftree%2Fmain%2Fchanges%2Fadd-feedback-command%25E5%258F%2598%25E6%259B%25B4%25E4%25B8%25BA%25E4%25BE%258B%25EF%25BC%258C%25E5%258F%25AF%25E4%25BB%25A5%25E6%25B8%2585%25E6%2599%25B0%25E5%259C%25B0%25E7%259C%258B%25E5%2588%25B0%25E4%25B8%2589%25E8%2580%2585%25E5%259C%25A8OpenSpec%25E5%25B7%25A5%25E5%2585%25B7%25E4%25B8%25AD%25E7%259A%2584%25E5%25AE%259E%25E9%2599%2585%25E5%25BA%2594%25E7%2594%25A8%25EF%25BC%259A" target="_blank" title="https://github.com/openspec/openspec/tree/main/changes/add-feedback-command%E5%8F%98%E6%9B%B4%E4%B8%BA%E4%BE%8B%EF%BC%8C%E5%8F%AF%E4%BB%A5%E6%B8%85%E6%99%B0%E5%9C%B0%E7%9C%8B%E5%88%B0%E4%B8%89%E8%80%85%E5%9C%A8OpenSpec%E5%B7%A5%E5%85%B7%E4%B8%AD%E7%9A%84%E5%AE%9E%E9%99%85%E5%BA%94%E7%94%A8%EF%BC%9A" ref="nofollow noopener noreferrer">github.com/openspec/opâ€¦</a></p>





























<table><thead><tr><th align="left">æ–‡ä»¶</th><th align="left">æ ¸å¿ƒå†…å®¹</th><th align="left">è¡Œæ•°ï¼ˆçº¦ï¼‰</th><th align="left">åœ¨OpenSpecä¸­çš„ä½œç”¨</th></tr></thead><tbody><tr><td align="left"><code>proposal.md</code></td><td align="left"><strong>Why</strong>: éœ€è¦æ”¶é›†ç”¨æˆ·åé¦ˆ<br/><strong>What</strong>: æ·»åŠ  <code>openspec feedback</code> å‘½ä»¤<br/><strong>Impact</strong>: æ–°å¢CLIå‘½ä»¤ã€ä¾èµ– <code>gh</code> CLI</td><td align="left">21 è¡Œ</td><td align="left"><strong>å˜æ›´å†³ç­–ä¾æ®</strong>ï¼Œè¯´æ˜å˜æ›´å¿…è¦æ€§å’ŒèŒƒå›´</td></tr><tr><td align="left"><code>spec.md</code></td><td align="left">6ä¸ªä¸»è¦éœ€æ±‚ã€20+ä¸ªå…·ä½“åœºæ™¯<br/>è¯¦ç»†å®šä¹‰å‘½ä»¤è¡Œä¸ºã€é”™è¯¯å¤„ç†ã€è·¨å¹³å°å…¼å®¹æ€§</td><td align="left">189 è¡Œ</td><td align="left"><strong>éªŒæ”¶æ ‡å‡†å®šä¹‰</strong>ï¼Œè¯¦ç»†å®šä¹‰"æ­£ç¡®"è¡Œä¸º</td></tr><tr><td align="left"><code>tasks.md</code></td><td align="left">4å¤§æ¨¡å—ã€30+ä¸ªå­ä»»åŠ¡<br/>ä»å‘½ä»¤å®ç°ã€å‚æ•°è§£æåˆ°æµ‹è¯•è¦†ç›–ï¼Œå…¨éƒ¨å¸¦checkbox</td><td align="left">31 è¡Œ</td><td align="left"><strong>æ‰§è¡Œè·¯çº¿å›¾</strong>ï¼ŒæŒ‡å¯¼å¼€å‘ä¸€æ­¥æ­¥å®Œæˆå˜æ›´</td></tr></tbody></table>
<p>ä»è¿™ä¸ªæ¡ˆä¾‹å¯ä»¥çœ‹å‡ºï¼Œåœ¨OpenSpecå·¥å…·ä¸­ï¼Œ<code>spec.md</code>æ˜¯ç¯‡å¹…æœ€å¤§ã€æœ€è¯¦ç»†çš„æ–‡æ¡£ï¼Œå› ä¸ºå®ƒæ‰¿è½½äº†æœ€ç»ˆçš„è´¨é‡æ ‡å‡†ï¼›è€Œ<code>proposal.md</code>å’Œ<code>tasks.md</code>åˆ™æ›´åå‘äºå˜æ›´ç®¡ç†å’Œæ‰§è¡Œè§„åˆ’ã€‚</p>
<h2 data-id="heading-4">å°ç»“ä¸å»¶ä¼¸</h2>
<p>åœ¨OpenSpecå·¥å…·ä¸­ï¼Œå°†<code>proposal.md</code>ã€<code>spec.md</code>å’Œ<code>tasks.md</code>æ¸…æ™°åˆ†ç¦»ï¼Œæ˜¯å·¥å…·è®¾è®¡å“²å­¦çš„æ ¸å¿ƒä½“ç°ã€‚è¿™ç§åˆ†ç¦»ç¡®ä¿äº†ï¼š</p>
<ul>
<li><strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼šå†³ç­–è€…ã€è®¾è®¡è€…å’Œæ‰§è¡Œè€…éƒ½èƒ½è·å¾—æœ€ç›¸å…³ã€æœ€æ¸…æ™°çš„ä¿¡æ¯</li>
<li><strong>å¼ºåˆ¶è®¾è®¡å…ˆè¡Œ</strong>ï¼šåœ¨åŠ¨æ‰‹ç¼–ç å‰å¿…é¡»æ€è€ƒæ¸…æ¥š"ä¸ºä»€ä¹ˆæ”¹"ã€"æ”¹ä»€ä¹ˆ"å’Œ"æ€ä¹ˆæ”¹"</li>
<li><strong>å¯è¿½æº¯æ€§</strong>ï¼šä»ææ¡ˆåˆ°å®ç°ï¼Œæ¯ä¸ªç¯èŠ‚éƒ½æœ‰æ˜ç¡®æ–‡æ¡£è®°å½•</li>
<li><strong>è´¨é‡å¯æ§</strong>ï¼šé€šè¿‡spec.mdçš„è¯¦ç»†å®šä¹‰ï¼Œç¡®ä¿æœ€ç»ˆäº¤ä»˜ç¬¦åˆé¢„æœŸ</li>
</ul>
<p><strong>å¦‚æœä½ æƒ³è¿›ä¸€æ­¥äº†è§£OpenSpecå·¥å…·çš„è®¾è®¡å“²å­¦ï¼š</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenspec%2Fopenspec%2Fblob%2Fmain%2Fdocs%2F11-spec-vs-change-separation-model.md" target="_blank" title="https://github.com/openspec/openspec/blob/main/docs/11-spec-vs-change-separation-model.md" ref="nofollow noopener noreferrer">github.com/openspec/opâ€¦</a> - ç†è§£OpenSpecä¸­specs/å’Œchanges/ç›®å½•çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenspec%2Fopenspec%2Fblob%2Fmain%2Fdocs%2F15-archive-and-merge-process.md" target="_blank" title="https://github.com/openspec/openspec/blob/main/docs/15-archive-and-merge-process.md" ref="nofollow noopener noreferrer">github.com/openspec/opâ€¦</a> - äº†è§£OpenSpecä¸­å˜æ›´å®Œæˆåå¦‚ä½•è§„èŒƒå½’æ¡£</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fopenspec%2Fopenspec%2Fblob%2Fmain%2Fdocs%2F10-directory-structure-conventions.md" target="_blank" title="https://github.com/openspec/openspec/blob/main/docs/10-directory-structure-conventions.md" ref="nofollow noopener noreferrer">github.com/openspec/opâ€¦</a> - æŒæ¡OpenSpecé¡¹ç›®çš„æ ‡å‡†æ–‡ä»¶ç»„ç»‡æ–¹å¼</li>
</ul>
<p>æ¸…æ™°å®šä¹‰æ¯ä¸ªæ–‡æ¡£çš„èŒè´£ï¼Œæ˜¯ä½¿ç”¨OpenSpecå·¥å…·è¿›è¡Œé«˜æ•ˆå˜æ›´ç®¡ç†çš„é‡è¦åŸºç¡€ã€‚å¸Œæœ›è¿™ç¯‡è§£æèƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’Œåº”ç”¨OpenSpecçš„æ–‡æ¡£å·¥ä½œæµã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Tip: å¦‚ä½•ä½¿ç”¨AIæå‡å­¦ä¹ æ•ˆç‡]]></title>    <link>https://juejin.cn/post/7600967006893293577</link>    <guid>https://juejin.cn/post/7600967006893293577</guid>    <pubDate>2026-01-30T09:49:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600967006893293577" data-draft-id="7600953198746992646" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Tip: å¦‚ä½•ä½¿ç”¨AIæå‡å­¦ä¹ æ•ˆç‡"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-30T09:49:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¡¦è¯´ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2212689394274136"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Tip: å¦‚ä½•ä½¿ç”¨AIæå‡å­¦ä¹ æ•ˆç‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2212689394274136/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¡¦è¯´ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:49:04.000Z" title="Fri Jan 30 2026 09:49:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    4
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¦‚ä½•ä½¿ç”¨AIæå‡å­¦ä¹ æ•ˆç‡</h2>
<p>è¿™ä¸€èŠ‚å¯èƒ½æ˜¯æˆ‘æœ€è¿‘æœ€å…³æ³¨å’Œæ€è€ƒçš„ï¼Œç„¶è€Œå¯èƒ½å¤æ‚çš„é—®é¢˜å¸¸å¸¸å¯ä»¥ç”¨ç®€å•çš„å½¢å¼å¾—åˆ°å¾ˆå¥½çš„è§£ç­”ã€‚å› ä¸ºäººä»¬å­¦ä¹ çš„åº•å±‚åŸç†å¹¶æ²¡æœ‰å› ä¸ºAIçš„å‡ºç°è€Œæ”¹å˜ï¼Œæ›¾ç»æœ‰ä¸€ç¯‡å¾ˆæœ‰åçš„å­¦ä¹ æ–¹æ³•çš„è®ºæ–‡ï¼Œæ€»ç»“äº†æ‰€æœ‰äººç±»å·²ç»ç ”ç©¶è¿‡çš„å­¦ä¹ æ–¹æ³•ï¼Œå‘ç°é—´éš”å­¦ä¹ ã€é—®é¢˜ä¼˜å…ˆï¼ˆä½¿ç”¨æµ‹è¯•ï¼‰ã€ä¸åŒä»»åŠ¡æ··æ­çš„å­¦ä¹ æ•ˆæœæœ€å¥½ã€‚å®é™…ä¸Šï¼Œå­¦ä¹ çš„æ•ˆæœå–å†³äºäººçš„æ€è€ƒå‚ä¸ç¨‹åº¦ï¼Œæ¯”å¦‚ä¸€é“æ•°å­¦é¢˜ä½ è‡ªå·±æ¨å¯¼ä¸€éä¼šè®°å¾—æ›´æ·±ï¼Œå­¦æ¸¸æ³³è¦ä¸‹æ°´ï¼Œå­¦ç¼–ç¨‹è¦å†™ä»£ç ã€‚</p>
<p>æ²¡æœ‰çµä¸¹å¦™è¯ï¼Œå­¦ä¹ éœ€è¦ä»˜å‡ºè„‘åŠ›ã€‚</p>
<p>AIè¾…åŠ©å­¦ä¹ æœ‰å¾ˆå¤šæœ‰ç”¨çš„å½¢å¼ï¼Œæˆ‘ä½¿ç”¨æœ€å¤šçš„æ˜¯ Notebooklmï¼š</p>
<ol>
<li>æ ¹æ®çŸ¥è¯†åº“ç”Ÿæˆé—®é¢˜å¡ç‰‡ï¼Œä¸»åŠ¨å›å¿†å¹¶å›ç­”</li>
<li>ä¸€äº›åŸæœ¬ä¼˜ç§€çš„ä¹¦ç±ã€æ•™ç¨‹ä¾ç„¶ä¼˜ç§€ï¼Œä»–ä»¬ä¼šå¸®ä½ ä¿æŒæ€ç»´çš„è¿è´¯æ€§å’Œå¿ƒæµçŠ¶æ€</li>
<li>ä½¿ç”¨AIè¾…åŠ©å¤ä¹ ï¼Œé€æ¸å›å¿†èµ·å¿˜è®°çš„å†…å®¹</li>
<li>ç”ŸæˆéŸ³é¢‘å¯¹è¯ï¼Œæˆ‘æ¨èä½¿ç”¨è¾©è®ºå½¢å¼ï¼Œä¼šè·å¾—ä¸åŒè§’åº¦çš„ç†è§£</li>
<li>ç”Ÿæˆæ•™ç¨‹å¼æ¼”ç¤ºæ–‡ç¨¿ï¼Œæœ‰æ—¶å¯ä»¥å¸®åŠ©ä½ æŠŠå¤æ‚çš„é—®é¢˜ç®€åŒ–ï¼Œè®©ç®€å•çš„å†…å®¹æ›´å®¹æ˜“è®°ä½</li>
</ol>
<p>ä¸‹ä¸€ç¯‡æ–‡ç« å‡†å¤‡ä¸¾ä¾‹è¯´æ˜å¦‚ä½•ä½¿ç”¨AIæˆå€æå‡å­¦ä¹ æ•ˆç‡ï¼Œæ¬¢è¿å…³æ³¨ã€‚</p>
<p>ä½œè€…ï¼šæ¡¦è¯´ç¼–ç¨‹<br/>
é“¾æ¥ï¼š<a href="https://juejin.cn/spost/7597634458697531398" target="_blank" title="https://juejin.cn/spost/7597634458697531398">juejin.cn/spost/75976â€¦</a><br/>
æ¥æºï¼šç¨€åœŸæ˜é‡‘<br/>
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[AIä¸ç‰©è”ç½‘ç»“åˆï¼šæ™ºèƒ½ä½“çš„çœŸæ­£è½åœ°åœºæ™¯]]></title>    <link>https://juejin.cn/post/7600303087874703398</link>    <guid>https://juejin.cn/post/7600303087874703398</guid>    <pubDate>2026-01-29T01:43:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600303087874703398" data-draft-id="7600260767687442458" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="AIä¸ç‰©è”ç½‘ç»“åˆï¼šæ™ºèƒ½ä½“çš„çœŸæ­£è½åœ°åœºæ™¯"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-29T01:43:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="LeonGao"/> <meta itemprop="url" content="https://juejin.cn/user/3976252950591149"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            AIä¸ç‰©è”ç½‘ç»“åˆï¼šæ™ºèƒ½ä½“çš„çœŸæ­£è½åœ°åœºæ™¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3976252950591149/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    LeonGao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-29T01:43:12.000Z" title="Thu Jan 29 2026 01:43:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0"><strong>å¼•è¨€</strong></h2>
<p>éšç€äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰å’Œç‰©è”ç½‘ï¼ˆIoTï¼‰çš„ä¸æ–­å‘å±•ï¼ŒäºŒè€…çš„ç»“åˆæ­£åœ¨æˆä¸ºæ¨åŠ¨â€œä¸‡ç‰©æ™ºè”â€çš„å…³é”®åŠ›é‡ã€‚AIèµ‹äºˆç‰©è”ç½‘è®¾å¤‡â€œå­¦ä¹ ã€å†³ç­–ä¸ä¼˜åŒ–â€çš„èƒ½åŠ›ï¼Œä½¿å…¶ä»â€œä¿¡æ¯æ”¶é›†è€…â€è½¬å˜ä¸ºâ€œæ™ºèƒ½ä½“â€ï¼ˆIntelligent Agentï¼‰â€”â€”ä¸ä»…èƒ½æ„ŸçŸ¥ç¯å¢ƒï¼Œè¿˜èƒ½è‡ªä¸»æ‰§è¡Œä»»åŠ¡ä¸ååŒå†³ç­–ã€‚<br/>
æœ¬æ–‡å°†æ·±å…¥æ¢è®¨AIä¸IoTçš„èåˆæœºåˆ¶ã€æŠ€æœ¯å®ç°æ–¹å¼åŠå®é™…åº”ç”¨åœºæ™¯ï¼Œå¸®åŠ©è¯»è€…ç†è§£æ™ºèƒ½ä½“å¦‚ä½•åœ¨ç°å®ä¸–ç•Œä¸­çœŸæ­£è½åœ°ã€‚</p>
<hr/>
<h2 data-id="heading-1"><strong>ä¸€ã€èƒŒæ™¯ä¸é—®é¢˜å®šä¹‰</strong></h2>
<p>ä¼ ç»Ÿç‰©è”ç½‘ä¸»è¦å®ç°â€œäº’è¿äº’é€šâ€ï¼Œå³é€šè¿‡å„ç§ä¼ æ„Ÿå™¨æ”¶é›†æ•°æ®ï¼Œå¹¶å°†å…¶ä¸Šä¼ è‡³äº‘ç«¯ã€‚ä½†è¿™ç§æ¶æ„å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li><strong>æ•°æ®å»¶è¿Ÿä¸å¸¦å®½æµªè´¹</strong>ï¼šå¤§é‡åŸå§‹æ•°æ®ä¸Šä¼ äº‘ç«¯ï¼Œå»¶è¿Ÿé«˜ä¸”æˆæœ¬å¤§ã€‚</li>
<li><strong>ç¼ºä¹è‡ªæ²»èƒ½åŠ›</strong>ï¼šè®¾å¤‡ä»…èƒ½æ‰§è¡Œé¢„è®¾è§„åˆ™ï¼Œæ— æ³•æ ¹æ®ç¯å¢ƒè‡ªé€‚åº”ã€‚</li>
<li><strong>å®‰å…¨ä¸éšç§éšæ‚£</strong>ï¼šæ•°æ®é›†ä¸­å¤„ç†æ˜“é€ æˆéšç§æ³„éœ²ä¸å•ç‚¹æ•…éšœã€‚</li>
</ol>
<p>è¿™ä¿ƒä½¿AIä¸IoTçš„èåˆæˆä¸ºè¶‹åŠ¿â€”â€”è®©è®¾å¤‡å…·å¤‡æœ¬åœ°æ™ºèƒ½ä¸è‡ªæ²»èƒ½åŠ›ï¼Œå³ <strong>AIoTï¼ˆArtificial Intelligence of Thingsï¼‰</strong> ã€‚</p>
<hr/>
<h2 data-id="heading-2"><strong>äºŒã€æŠ€æœ¯å®ç°ä¸è§£å†³æ–¹æ¡ˆ</strong></h2>
<h3 data-id="heading-3"><strong>1. æ¶æ„å±‚æ¬¡</strong></h3>
<p>AIoTç³»ç»Ÿå¯åˆ†ä¸ºä¸‰å±‚æ¶æ„ï¼š</p>
<ul>
<li><strong>æ„ŸçŸ¥å±‚ï¼ˆPerception Layerï¼‰</strong> ï¼šä¼ æ„Ÿå™¨æ”¶é›†ç¯å¢ƒæ•°æ®ï¼ˆæ¸©åº¦ã€å…‰å¼ºã€ä½ç§»ç­‰ï¼‰ã€‚</li>
<li><strong>è¾¹ç¼˜æ™ºèƒ½å±‚ï¼ˆEdge Intelligence Layerï¼‰</strong> ï¼šè®¾å¤‡æˆ–è¾¹ç¼˜èŠ‚ç‚¹è¿›è¡ŒAIæ¨ç†ä¸æœ¬åœ°å†³ç­–ã€‚</li>
<li><strong>äº‘ç«¯ååŒå±‚ï¼ˆCloud Orchestration Layerï¼‰</strong> ï¼šäº‘ç«¯è´Ÿè´£æ¨¡å‹è®­ç»ƒã€æ•°æ®åˆ†æä¸å…¨å±€è°ƒä¼˜ã€‚</li>
</ul>
<p>è¿™å½¢æˆâ€œäº‘-è¾¹-ç«¯ååŒâ€çš„æ¶æ„ï¼Œä½¿AIåœ¨ç‰©è”ç½‘åœºæ™¯ä¸­å…·å¤‡å®æ—¶æ€§ä¸å¯æ‰©å±•æ€§ã€‚</p>
<hr/>
<h3 data-id="heading-4"><strong>2. æŠ€æœ¯å®ç°ç¤ºä¾‹</strong></h3>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåŸºäºPythonä¸TensorFlow Liteçš„<strong>è¾¹ç¼˜AIæ¸©æ¹¿åº¦ç›‘æµ‹ç³»ç»Ÿ</strong>ç¤ºä¾‹ï¼š</p>
<h4 data-id="heading-5"><strong>(1) ç¡¬ä»¶é…ç½®</strong></h4>
<ul>
<li>Raspberry Pi + DHT11 æ¸©æ¹¿åº¦ä¼ æ„Ÿå™¨</li>
<li>TensorFlow Lite è¿è¡Œç¯å¢ƒ</li>
<li>æœ¬åœ°æ¨¡å‹æ–‡ä»¶ <code>temp_predict.tflite</code></li>
</ul>
<h4 data-id="heading-6"><strong>(2) æ•°æ®é‡‡é›†ä¸æ¨ç†ä»£ç </strong></h4>
<pre><code class="hljs language-ini" lang="ini">import tensorflow as tf
import Adafruit_DHT
import time

<span class="hljs-comment"># åŠ è½½è¾¹ç¼˜æ¨¡å‹</span>
<span class="hljs-attr">interpreter</span> = tf.lite.Interpreter(model_path=<span class="hljs-string">"temp_predict.tflite"</span>)
interpreter.allocate_tensors()

<span class="hljs-attr">input_details</span> = interpreter.get_input_details()
<span class="hljs-attr">output_details</span> = interpreter.get_output_details()

<span class="hljs-attr">SENSOR</span> = Adafruit_DHT.DHT11
<span class="hljs-attr">PIN</span> = <span class="hljs-number">4</span>  <span class="hljs-comment"># GPIO å¼•è„šç¼–å·</span>

def read_sensor():
    humidity, <span class="hljs-attr">temperature</span> = Adafruit_DHT.read_retry(SENSOR, PIN)
    return humidity, temperature

while True:
    humidity, <span class="hljs-attr">temp</span> = read_sensor()
    <span class="hljs-attr">input_data</span> = [[humidity, temp]]
    interpreter.set_tensor(input_details<span class="hljs-section">[0]</span><span class="hljs-section">['index']</span>, input_data)
    interpreter.invoke()
    <span class="hljs-attr">prediction</span> = interpreter.get_tensor(output_details[<span class="hljs-number">0</span>][<span class="hljs-string">'index'</span>])
    print(f"Current: {temp:.1f}Â°C, Predicted Trend: {prediction<span class="hljs-section">[0]</span>:.2f}")
    time.sleep(5)
</code></pre>
<h4 data-id="heading-7"><strong>(3) æœºåˆ¶è¯´æ˜</strong></h4>
<ul>
<li>é€šè¿‡æœ¬åœ°æ¨¡å‹é¢„æµ‹ç¯å¢ƒå˜åŒ–è¶‹åŠ¿ï¼›</li>
<li>è‹¥æ£€æµ‹åˆ°å¼‚å¸¸å˜åŒ–ï¼ˆå¦‚å¿«é€Ÿå‡æ¸©ï¼‰ï¼Œç³»ç»Ÿå¯è‡ªåŠ¨è§¦å‘æŠ¥è­¦æˆ–è°ƒèŠ‚ç©ºè°ƒï¼›</li>
<li>äº‘ç«¯å‘¨æœŸæ€§æ”¶é›†æ‘˜è¦æ•°æ®ï¼Œç”¨äºæ¨¡å‹å†è®­ç»ƒä¸å…¨å±€ä¼˜åŒ–ã€‚</li>
</ul>
<hr/>
<h3 data-id="heading-8"><strong>3. æ™ºèƒ½ä½“çš„ä½“ç°</strong></h3>
<p>åœ¨AIoTæ¶æ„ä¸­ï¼Œå•ä¸€è®¾å¤‡ï¼ˆä¾‹å¦‚æ™ºèƒ½ç©ºè°ƒï¼‰é€šè¿‡AIç®—æ³•å…·å¤‡â€œè‡ªæ²»æ™ºèƒ½â€ï¼š</p>
<ul>
<li>æ ¹æ®ç¯å¢ƒæ•°æ®è‡ªæˆ‘è°ƒæ•´å‚æ•°ï¼›</li>
<li>ä¸å…¶ä»–è®¾å¤‡åä½œï¼ˆä¾‹å¦‚çª—å¸˜ã€æ¸©æ§å™¨ï¼‰ï¼›</li>
<li>å¯åœ¨æ–­ç½‘ç¯å¢ƒä¸­ç‹¬ç«‹è¿è¡Œã€‚</li>
</ul>
<p>å¦‚ä¸‹æ˜¯å…¶å†³ç­–é€»è¾‘ç¤ºä¾‹ï¼ˆä¼ªä»£ç ï¼‰ï¼š</p>
<pre><code class="hljs language-css" lang="css">if temp &gt; <span class="hljs-number">30</span> and humidity &lt; <span class="hljs-number">40</span>:
    <span class="hljs-built_in">turn_on_air_conditioner</span>()
    <span class="hljs-built_in">send_log</span>(<span class="hljs-string">"Cooling started"</span>)
elif temp &lt; <span class="hljs-number">22</span>:
    <span class="hljs-built_in">turn_off_air_conditioner</span>()
else:
    <span class="hljs-built_in">maintain_state</span>()
</code></pre>
<p>è¿™ç§è‡ªä¸»é€»è¾‘è®©â€œè®¾å¤‡â€è½¬å˜ä¸ºçœŸæ­£çš„â€œæ™ºèƒ½ä½“â€ã€‚</p>
<hr/>
<h2 data-id="heading-9"><strong>ä¸‰ã€ä¼˜ç¼ºç‚¹åˆ†æä¸å®è·µå»ºè®®</strong></h2>






























<table><thead><tr><th>æ–¹é¢</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th></tr></thead><tbody><tr><td><strong>å®æ—¶æ€§</strong></td><td>è¾¹ç¼˜å¤„ç†å‡å°‘å»¶è¿Ÿ</td><td>æ¨¡å‹è®¡ç®—èµ„æºå—é™</td></tr><tr><td><strong>å®‰å…¨æ€§</strong></td><td>æ•°æ®æœ¬åœ°åŒ–ä¿æŠ¤éšç§</td><td>è¾¹ç¼˜å®‰å…¨ä»é¢ä¸´æ”»å‡»é£é™©</td></tr><tr><td><strong>å¯æ‰©å±•æ€§</strong></td><td>äº‘ç«¯ç»Ÿä¸€è°ƒä¼˜ï¼Œæ”¯æŒè®¾å¤‡ååŒ</td><td>æ¨¡å‹æ›´æ–°ä¸åŒæ­¥éœ€æœºåˆ¶ä¿éšœ</td></tr><tr><td><strong>èƒ½è€—ä¸æˆæœ¬</strong></td><td>é™ä½äº‘ç«¯è´Ÿè½½</td><td>ç¡¬ä»¶ç®—åŠ›æˆæœ¬è¾ƒé«˜</td></tr></tbody></table>
<h3 data-id="heading-10"><strong>å®è·µå»ºè®®</strong></h3>
<ol>
<li><strong>é‡‡ç”¨è½»é‡åŒ–æ¨¡å‹</strong>ï¼ˆå¦‚TensorFlow Liteã€ONNX Runtimeã€TinyMLï¼‰ä»¥é€‚é…è¾¹ç¼˜ç®—åŠ›ã€‚</li>
<li><strong>é€šè¿‡è”é‚¦å­¦ä¹ ï¼ˆFederated Learningï¼‰</strong> å®ç°åˆ†å¸ƒå¼æ™ºèƒ½ä½“è®­ç»ƒï¼Œä¿æŠ¤éšç§ã€‚</li>
<li><strong>å»ºç«‹ç»Ÿä¸€çš„è®¾å¤‡ç®¡ç†å¹³å°</strong>ï¼Œå®ç°æ™ºèƒ½ä½“åä½œä¸å‡çº§ç®¡ç†ã€‚</li>
<li><strong>å¼ºåŒ–å®‰å…¨æœºåˆ¶</strong>ï¼Œå¦‚è®¾å¤‡èº«ä»½è®¤è¯ã€åŠ å¯†é€šä¿¡ã€é˜²ç¯¡æ”¹æœºåˆ¶ã€‚</li>
</ol>
<hr/>
<h2 data-id="heading-11"><strong>å››ã€ç»“è®º</strong></h2>
<p>AIä¸ç‰©è”ç½‘çš„æ·±åº¦èåˆï¼Œä½¿å¾—â€œæ™ºèƒ½ä½“â€ä¸å†åœç•™åœ¨æ¦‚å¿µå±‚é¢ï¼Œè€Œæ˜¯çœŸæ­£è¿›å…¥å®¶åº­ã€å·¥ä¸šã€äº¤é€šã€èƒ½æºç­‰åœºæ™¯ã€‚<br/>
æœªæ¥ï¼Œéšç€<strong>ä½åŠŸè€—AIèŠ¯ç‰‡ã€5G/6Gç½‘ç»œã€è¾¹ç¼˜è®¡ç®—ä¸å¤§æ¨¡å‹å‹ç¼©æŠ€æœ¯</strong>çš„ä¸æ–­è¿›æ­¥ï¼ŒAIoTå°†æˆä¸ºæ™ºèƒ½åŒ–ç¤¾ä¼šçš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ã€‚</p>
<p>ç®€è€Œè¨€ä¹‹ï¼Œ<strong>AIèµ‹äºˆç‰©è”ä»¥çµé­‚ï¼ŒIoTèµ‹äºˆAIä»¥è½½ä½“</strong>â€”â€”æ™ºèƒ½ä½“çš„è½åœ°ï¼Œå°†æˆä¸ºäººæœºåä½œä¸æ™ºèƒ½ç¤¾ä¼šçš„æ ¸å¿ƒæ ‡å¿—ã€‚</p>
<hr/>
<h2 data-id="heading-12"><strong>å‚è€ƒèµ„æ–™</strong></h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.tensorflow.org%2Flite" target="_blank" title="https://www.tensorflow.org/lite" ref="nofollow noopener noreferrer">Google TensorFlow Lite å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fieeexplore.ieee.org%2Fdocument%2F9390318" target="_blank" title="https://ieeexplore.ieee.org/document/9390318" ref="nofollow noopener noreferrer">Edge AI and IoT Integration â€“ IEEE Xplore</a></li>
<li>æé£é£ç­‰ï¼Œã€Šäººå·¥æ™ºèƒ½å¯¼è®ºã€‹ï¼Œæ¸…åå¤§å­¦å‡ºç‰ˆç¤¾ï¼Œ2022å¹´ã€‚</li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.nvidia.com%2Fembedded-computing" target="_blank" title="https://developer.nvidia.com/embedded-computing" ref="nofollow noopener noreferrer">NVIDIA Jetson Edge AI å¹³å°</a></li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Git Commit è§„èŒƒåŒ–å®è·µ - å‘Šåˆ«æ‰‹åŠ¨è¾“å…¥è¡¨æƒ…ç¬¦å·]]></title>    <link>https://juejin.cn/post/7600597995768021001</link>    <guid>https://juejin.cn/post/7600597995768021001</guid>    <pubDate>2026-01-29T09:32:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600597995768021001" data-draft-id="7600581247020384265" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Git Commit è§„èŒƒåŒ–å®è·µ - å‘Šåˆ«æ‰‹åŠ¨è¾“å…¥è¡¨æƒ…ç¬¦å·"/> <meta itemprop="keywords" content="Git,GitHub"/> <meta itemprop="datePublished" content="2026-01-29T09:32:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ²¡å¤šå°‘é€»è¾‘"/> <meta itemprop="url" content="https://juejin.cn/user/2717648475395325"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Git Commit è§„èŒƒåŒ–å®è·µ - å‘Šåˆ«æ‰‹åŠ¨è¾“å…¥è¡¨æƒ…ç¬¦å·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2717648475395325/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ²¡å¤šå°‘é€»è¾‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-29T09:32:53.000Z" title="Thu Jan 29 2026 09:32:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    44
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å†™åœ¨å‰é¢</h2>
<p>ä¹‹å‰æˆ‘ä¸€ç›´æ‰‹åŠ¨åœ¨ commit ä¿¡æ¯å‰åŠ è¡¨æƒ…ç¬¦å·ï¼Œæ¯”å¦‚ <code>âœ¨ feat: xxx</code>ã€<code>ğŸ› fix: xxx</code>ï¼Œæ¯æ¬¡éƒ½è¦å»æ‰¾å¯¹åº”çš„ emojiï¼Œæœ‰æ—¶å€™è¿˜ä¼šé—æ¼ï¼ŒæŒºéº»çƒ¦çš„ã€‚æœ€è¿‘å‘ç°äº† commitizen + cz-git è¿™å¥—æ–¹æ¡ˆï¼Œå¯ä»¥é€šè¿‡äº¤äº’å¼ç•Œé¢è‡ªåŠ¨ç”Ÿæˆè§„èŒƒçš„æäº¤ä¿¡æ¯ï¼Œåˆ†äº«ç»™å¤§å®¶ã€‚</p>
<p>é¡ºä¾¿æ¨èä¸€ä¸‹æˆ‘åœ¨ç»´æŠ¤çš„å¼€æºé¡¹ç›® <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgocronx-team%2Fgocron" target="_blank" title="https://github.com/gocronx-team/gocron" ref="nofollow noopener noreferrer">gocron</a> - ä¸€ä¸ª Go å†™çš„åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œç”¨æ¥æ›¿ä»£ Linux crontab çš„ï¼Œæ”¯æŒ Web ç•Œé¢ã€ç§’çº§ç²¾åº¦ã€ä»»åŠ¡ä¾èµ–ç­‰åŠŸèƒ½ã€‚æ¬¢è¿ Star â­ï¸</p>
<h2 data-id="heading-1">å¯¹æ¯”æ•ˆæœ</h2>
<p><strong>ä¹‹å‰æ‰‹åŠ¨è¾“å…¥ï¼š</strong></p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">âœ¨</span> <span class="hljs-attr">feat:</span> <span class="hljs-string">add</span> <span class="hljs-string">task</span> <span class="hljs-string">dependency</span> <span class="hljs-string">feature</span>  <span class="hljs-comment"># æ¯æ¬¡éƒ½è¦å¤åˆ¶ç²˜è´´ emoji</span>
<span class="hljs-string">ğŸ›</span> <span class="hljs-attr">fix:</span> <span class="hljs-string">fix</span> <span class="hljs-string">status</span> <span class="hljs-string">update</span> <span class="hljs-string">issue</span>
</code></pre>
<p><strong>ç°åœ¨äº¤äº’å¼é€‰æ‹©ï¼š</strong></p>
<pre><code class="hljs language-bash" lang="bash">pnpm run commit
<span class="hljs-comment"># é€‰æ‹©ç±»å‹ã€èŒƒå›´ã€å¡«å†™æè¿°ï¼Œè‡ªåŠ¨ç”Ÿæˆå¸¦ emoji çš„è§„èŒƒæäº¤</span>
</code></pre>
<h2 data-id="heading-2">åœ¨gocroné¡¹ç›®ä¸­ä½¿ç”¨æ¡ˆä¾‹</h2>
<p>gocron é¡¹ç›®å·²ç»é…ç½®å¥½äº†ï¼Œç›´æ¥ä½¿ç”¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> gocron
pnpm install
pnpm run prepare

<span class="hljs-comment"># æäº¤ä»£ç </span>
git add .
pnpm run commit
</code></pre>
<h2 data-id="heading-3">åœ¨è‡ªå·±é¡¹ç›®ä¸­é…ç½®</h2>
<h3 data-id="heading-4">1. å®‰è£…ä¾èµ–</h3>
<pre><code class="hljs language-bash" lang="bash">pnpm add -D @commitlint/cli @commitlint/config-conventional commitizen cz-git husky
</code></pre>
<h3 data-id="heading-5">2. åˆ›å»ºé…ç½®æ–‡ä»¶</h3>
<p>åˆ›å»º <code>commitlint.config.cjs</code>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">extends</span>: [<span class="hljs-string">'@commitlint/config-conventional'</span>],
  <span class="hljs-attr">prompt</span>: {
    <span class="hljs-attr">types</span>: [
      { <span class="hljs-attr">value</span>: <span class="hljs-string">"âœ¨ feat"</span>,     <span class="hljs-attr">name</span>: <span class="hljs-string">"feat:     âœ¨ æ–°å¢åŠŸèƒ½"</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">"ğŸ› fix"</span>,      <span class="hljs-attr">name</span>: <span class="hljs-string">"fix:      ğŸ› ä¿®å¤ç¼ºé™·"</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">"ğŸ“ docs"</span>,     <span class="hljs-attr">name</span>: <span class="hljs-string">"docs:     ğŸ“ æ–‡æ¡£å˜æ›´"</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">"ğŸ’„ style"</span>,    <span class="hljs-attr">name</span>: <span class="hljs-string">"style:    ğŸ’„ ä»£ç æ ¼å¼"</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">"â™»ï¸ refactor"</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"refactor: â™»ï¸ ä»£ç é‡æ„"</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">"âš¡ï¸ perf"</span>,     <span class="hljs-attr">name</span>: <span class="hljs-string">"perf:     âš¡ï¸ æ€§èƒ½ä¼˜åŒ–"</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">"âœ… test"</span>,     <span class="hljs-attr">name</span>: <span class="hljs-string">"test:     âœ… æ·»åŠ æµ‹è¯•"</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">"ğŸ“¦ï¸ build"</span>,    <span class="hljs-attr">name</span>: <span class="hljs-string">"build:    ğŸ“¦ï¸ æ„å»ºå˜æ›´"</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">"ğŸ¡ ci"</span>,       <span class="hljs-attr">name</span>: <span class="hljs-string">"ci:       ğŸ¡ CI é…ç½®"</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">"âªï¸ revert"</span>,   <span class="hljs-attr">name</span>: <span class="hljs-string">"revert:   âªï¸ å›æ»š"</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">"ğŸ”¨ chore"</span>,    <span class="hljs-attr">name</span>: <span class="hljs-string">"chore:    ğŸ”¨ å…¶ä»–ä¿®æ”¹"</span> }
    ],
    <span class="hljs-attr">skipQuestions</span>: [<span class="hljs-string">'breaking'</span>, <span class="hljs-string">'footerPrefix'</span>, <span class="hljs-string">'footer'</span>]
  }
}
</code></pre>
<h3 data-id="heading-6">3. ä¿®æ”¹ package.json</h3>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"prepare"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"husky"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"commit"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"git-cz"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"config"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"commitizen"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"node_modules/cz-git"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-7">4. åˆå§‹åŒ– husky</h3>
<pre><code class="hljs language-bash" lang="bash">pnpm run prepare
<span class="hljs-built_in">echo</span> <span class="hljs-string">"npx --no -- commitlint --edit \$1"</span> &gt; .husky/commit-msg
</code></pre>
<h2 data-id="heading-8">ä½¿ç”¨</h2>
<pre><code class="hljs language-bash" lang="bash">git add .
pnpm run commit
</code></pre>
<p>æŒ‰æç¤ºæ“ä½œï¼š</p>
<ol>
<li>é€‰æ‹©æäº¤ç±»å‹ï¼ˆè‡ªåŠ¨å¸¦ emojiï¼‰</li>
<li>é€‰æ‹©å½±å“èŒƒå›´ï¼ˆå¯é€‰ï¼‰</li>
<li>å¡«å†™ç®€çŸ­æè¿°</li>
<li>ç¡®è®¤æäº¤</li>
</ol>
<h2 data-id="heading-9">æäº¤ç±»å‹è¯´æ˜</h2>

































































<table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>feat</td><td>æ–°åŠŸèƒ½</td><td><code>âœ¨ feat(task): æ·»åŠ ä»»åŠ¡ä¾èµ–é…ç½®</code></td></tr><tr><td>fix</td><td>Bug ä¿®å¤</td><td><code>ğŸ› fix(api): ä¿®å¤çŠ¶æ€æ›´æ–°å¼‚å¸¸</code></td></tr><tr><td>docs</td><td>æ–‡æ¡£</td><td><code>ğŸ“ docs: æ›´æ–° API æ–‡æ¡£</code></td></tr><tr><td>style</td><td>ä»£ç æ ¼å¼</td><td><code>ğŸ’„ style: ç»Ÿä¸€ä»£ç ç¼©è¿›</code></td></tr><tr><td>refactor</td><td>é‡æ„</td><td><code>â™»ï¸ refactor: é‡æ„ä»»åŠ¡è°ƒåº¦é€»è¾‘</code></td></tr><tr><td>perf</td><td>æ€§èƒ½ä¼˜åŒ–</td><td><code>âš¡ï¸ perf: ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½</code></td></tr><tr><td>test</td><td>æµ‹è¯•</td><td><code>âœ… test: æ·»åŠ å•å…ƒæµ‹è¯•</code></td></tr><tr><td>build</td><td>æ„å»º</td><td><code>ğŸ“¦ï¸ build: å‡çº§ä¾èµ–</code></td></tr><tr><td>ci</td><td>CI é…ç½®</td><td><code>ğŸ¡ ci: æ·»åŠ  GitHub Actions</code></td></tr><tr><td>revert</td><td>å›æ»š</td><td><code>âªï¸ revert: å›æ»šæŸåŠŸèƒ½</code></td></tr><tr><td>chore</td><td>å…¶ä»–</td><td><code>ğŸ”¨ chore: æ›´æ–° .gitignore</code></td></tr></tbody></table>
<h2 data-id="heading-10">ç›¸å…³é“¾æ¥</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgocronx-team%2Fgocron" target="_blank" title="https://github.com/gocronx-team/gocron" ref="nofollow noopener noreferrer">GoCron é¡¹ç›®</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgocron-docs.pages.dev" target="_blank" title="https://gocron-docs.pages.dev" ref="nofollow noopener noreferrer">GoCron æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcz-git.qbb.sh%2Fzh%2F" target="_blank" title="https://cz-git.qbb.sh/zh/" ref="nofollow noopener noreferrer">cz-git æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fcommitlint.js.org%2F" target="_blank" title="https://commitlint.js.org/" ref="nofollow noopener noreferrer">Commitlint æ–‡æ¡£</a></li>
</ul>
<hr/>
<p>å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œæ¬¢è¿ç»™ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fgocronx-team%2Fgocron" target="_blank" title="https://github.com/gocronx-team/gocron" ref="nofollow noopener noreferrer">gocron</a> ç‚¹ä¸ª Star â­ï¸</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘ä¸å…è®¸è°è¿˜ä¸æ¸…æ¥šfunction callåœ¨AI-Agenté¢†åŸŸä¸­æµç ¥æŸ±çš„åœ°ä½]]></title>    <link>https://juejin.cn/post/7600296037543854080</link>    <guid>https://juejin.cn/post/7600296037543854080</guid>    <pubDate>2026-01-29T03:26:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600296037543854080" data-draft-id="7600293373476765696" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘ä¸å…è®¸è°è¿˜ä¸æ¸…æ¥šfunction callåœ¨AI-Agenté¢†åŸŸä¸­æµç ¥æŸ±çš„åœ°ä½"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-29T03:26:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœ‰æ€åº¦çš„ä¸‹ç­‰é©¬"/> <meta itemprop="url" content="https://juejin.cn/user/448256476727662"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘ä¸å…è®¸è°è¿˜ä¸æ¸…æ¥šfunction callåœ¨AI-Agenté¢†åŸŸä¸­æµç ¥æŸ±çš„åœ°ä½
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/448256476727662/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœ‰æ€åº¦çš„ä¸‹ç­‰é©¬
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-29T03:26:45.000Z" title="Thu Jan 29 2026 03:26:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    14
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å‰æ–‡æè¦ï¼šè¿˜æœ‰æ¯”ollamaæ›´å‚»ç“œå¼çš„å¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²æ–¹å¼å— ï¼Ÿ</p>
<h2 data-id="heading-0">1.<a href="https://link.juejin.cn?target=https%3A%2F%2Fmedium.com%2F%40jamestang%2Fllm-function-calling-explained-a-deep-dive-into-the-request-and-response-payloads-894800fcad75" title="https://medium.com/@jamestang/llm-function-calling-explained-a-deep-dive-into-the-request-and-response-payloads-894800fcad75" target="_blank" ref="nofollow noopener noreferrer">function calling</a> åº•å±‚å·¥ä½œåŸç†</h2>
<p>å¤§æ¨¡å‹é‡å¡‘äº†æˆ‘ä»¬ä¸è½¯ä»¶åº”ç”¨çš„äº¤äº’æ–¹å¼ï¼Œ å…¶ä¸­æœ€é‡è¦çš„ç‰¹æ€§å°±æ˜¯ function calling ã€‚</p>
<p>ä¸€ç§<strong>åˆ©ç”¨ç»“æ„åŒ–è¾“å…¥/è¾“å‡ºåœ¨LLMå’Œç¼–ç¨‹åº”ç”¨ä¹‹é—´å»ºç«‹æ¡¥æ¢</strong>çš„æ–¹å¼ã€‚</p>
<p>ä¸ç®¡æ˜¯å½“å‰ç«çƒ­çš„AI-agentè¿˜æ˜¯MCPï¼Œäº†è§£function callingåº•å±‚å·¥ä½œåŸç†éƒ½è‡³å…³é‡è¦ï¼Œç‰¹åˆ«æ˜¯requestå’Œresponse payloadã€‚</p>
<p>å›é¡¾ä¸Šæ–‡æˆ‘ä»¬ä¸qwenå¤§æ¨¡å‹çš„å¯¹è¯ï¼š</p>
<p><code>what is the temperature in the capital of china todayï¼Ÿ</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/93c158ad999046ebab870e1aabadd442~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770262882&amp;x-signature=DbQP0xBsQB3dWsK1v%2FffgV3QqmA%3D" alt="" loading="lazy"/></p>
<p>ä¸€ä¸ªç”±LLMé©±åŠ¨çš„åº”ç”¨ï¼Œ å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œåº”ç”¨ä¸LLMç»å†äº†ä¸‰æ¬¡å¯¹è¯ã€‚</p>
<p>â‘  ç¬¬ä¸€æ¬¡è¯·æ±‚payloadï¼š</p>
<ul>
<li>messageï¼šæ ‡å‡†çš„å†å²å¯¹è¯ï¼Œ æä¾›ä¸Šä¸‹æ–‡context</li>
<li>toolsï¼šä¸€ç³»åˆ—çš„å·¥å…·å‡½æ•°å®šä¹‰ï¼Œ æä¾›ç»™LLMæ¥é€‰æ‹©</li>
</ul>
<p>LLMçš„å“åº”payloadï¼š</p>
<ul>
<li><code>tool_calls.function.name</code>ï¼š LLMé€‰ä¸­çš„å·¥å…·å‡½æ•°<code>get_currentDate</code></li>
<li><code>tool_calls.id</code>ï¼š ç”±LLMä¸ºè¿™ä¸ªå‡½æ•°æŒ‡å®šçš„idï¼Œåé¢ä¼šç”¨åˆ°</li>
</ul>
<p>â‘¡ ç¬¬äºŒæ¬¡requestï¼š</p>
<ul>
<li><code>messages.role.assistant</code>: å‘Šè¯‰LLMæˆ‘ä»¬è¿™æ¬¡è¯·æ±‚åŒ…å«äº†ä¸Šæ¬¡function callingçš„ç»“æœ</li>
<li><code>messages.role.tool</code>ï¼š ä¸Šæ¬¡function callingæ‰§è¡Œçš„ç»“æœ<code>2026-01-24</code></li>
</ul>
<p>LLMçš„å“åº”payloadï¼š</p>
<p>å¦‚ç¬¬ä¸€æ¬¡ç±»ä¼¼ï¼š
æœ¬ä¾‹ä¹Ÿæœ‰<code>tool_calls</code>:åŒ…å«LLMé€‰ä¸­çš„å‡½æ•°<code>get_temperature()</code> å’Œæ‰€æœ‰çš„å‚æ•°<code>beijing</code> <code>2026-01-24</code>ã€‚</p>
<p>â‘¢ åº”ç”¨æœ€åä¸€æ¬¡è¯·æ±‚ï¼ŒåŒ…å«æ‰€æœ‰ä¿¡æ¯</p>
<p>LLMæ¨ç†è®¤ä¸ºä¸å†éœ€è¦å¤–éƒ¨å·¥å…·ï¼Œä¸å†è¿”å›<code>tool_calls</code>,ç»™å‡ºç»“åˆå¤–éƒ¨å·¥å…·çš„å¯¹è¯ç»“æœã€‚</p>
<hr/>
<p>ä»ä¸‰æ¬¡è¯·æ±‚å¯¹è¯æ¥çœ‹ï¼Œ LLMåœ¨ä¸‰æ¬¡å¯¹è¯çš„å“åº”ä¸­ä½“ç°äº†å®ƒçš„æ€è€ƒå’Œé€»è¾‘æ­¥éª¤ï¼Œåº”ç”¨æŒç»­è¢«LLMå¼•å¯¼åšå‡ºè¡ŒåŠ¨ï¼ŒåŒæ—¶LLMä¹ŸæŒç»­å¯¹åº”ç”¨çš„è¡Œä¸ºåšå‡ºè¿›ä¸€æ­¥æ€è€ƒå’Œåé¦ˆã€‚</p>
<h2 data-id="heading-1">2. agentçš„å®ç°åŸç†</h2>
<p>å¤§æ¨¡å‹æ˜¯ AI çš„å¤§è„‘ï¼Œå…¶æ ¸å¿ƒæ˜¯ç†è§£è‡ªç„¶è¯­è¨€ï¼Œå¹¶åšå‡ºå›åº”ï¼Œ(æ–‡æœ¬)å¤§æ¨¡å‹æœ¬èº«åªèƒ½æ¥æ”¶ä¸€æ®µæ–‡æœ¬ï¼Œç„¶åè¾“å‡ºä¸€æ®µæ–‡æœ¬ã€‚</p>
<p>è€Œå½“ä½ å¸Œæœ›å¤§æ¨¡å‹èƒ½ä½¿ç”¨ä¸€äº›å·¥å…·è‡ªè¡Œè·å–æ‰€éœ€çš„ä¿¡æ¯ã€æ‰§è¡Œä¸€äº›åŠ¨ä½œï¼Œå°±éœ€è¦ä½¿ç”¨ Tool æ¥å®ç°äº†ï¼Œæ‹¥æœ‰äº† Tool çš„å¤§æ¨¡å‹å°±åƒæ˜¯æ‹¥æœ‰äº†æ‰‹è„šï¼Œå¯ä»¥å’Œå½“ä¸‹å·²æœ‰çš„ IT åŸºç¡€è®¾æ–½è¿›è¡Œäº¤äº’ã€‚</p>
<blockquote>
<p>RAGç»™LLMè£…ä¸Šå®æ—¶çŸ¥è¯†å¤–æŒ‚ï¼Œ é€šè¿‡å°†ä¿¡æ¯æ£€ç´¢ä¸æ–‡æœ¬ç”Ÿæˆç»“åˆï¼Œè®©æ¨¡å‹èƒ½å¼•ç”¨å¤–éƒ¨æƒå¨ä¿¡æ¯ç”Ÿæˆå›ç­”ï¼Œæ—¢ä¿è¯äº†æ—¶æ•ˆæ€§ï¼Œåˆæå‡äº†å‡†ç¡®æ€§ã€‚</p>
</blockquote>
<p>å­—èŠ‚å¼€æºçš„<code>Eino</code>æ ‡æ¦œçš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ol>
<li>
<p>LangChainï¼ŒLlamaIndexç­‰ä¸»æµæ¡†æ¶è™½ç„¶èµ·æºè‡ªpythonå¼ºå¤§çš„AIç”Ÿæ€ï¼Œä½†æ˜¯ä¹Ÿç»§æ‰¿äº†pythonâ€œå¼±ç±»å‹æ£€æŸ¥â€å’Œâ€œé•¿æœŸç»´æŠ¤æˆæœ¬é«˜â€çš„è¯Ÿç—…ã€‚ Einoä½œä¸ºgolangä¸‹çš„å¼€æºagentå¼€å‘æ¡†æ¶ï¼Œè§„é¿äº†è¿™ä¸€é—®é¢˜ã€‚</p>
</li>
<li>
<p>å¦ä¸€æ–¹é¢ï¼Œ å€ŸåŠ©å­—èŠ‚ç³»åœ¨agenté¢†åŸŸçš„å·¥ç¨‹åŒ–å®è·µï¼ŒEinoæ—¢å°è£…äº†é¢†åŸŸå†…ä¸å˜çš„é€šç”¨æ ¸å¿ƒå’Œæœ€ä½³å®è·µï¼Œä¹Ÿèƒ½æ•æ·çš„åæ˜ ä¸šå†…æŠ€æœ¯åŠ¨å‘ã€‚</p>
</li>
</ol>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cloudwego.io%2Fzh%2Fdocs%2Feino%2Fquick_start%2F" title="https://www.cloudwego.io/zh/docs/eino/quick_start/" target="_blank" ref="nofollow noopener noreferrer">Eino</a>æ¡†æ¶ç»“æ„å›¾ï¼š
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f8174a2cdb14bb2a570e232d69f5e1d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770262882&amp;x-signature=ahn0eXegCeZFRHfrCgU1BcH5JdM%3D" alt="" loading="lazy"/></p>
<p>Eino æœ‰ä¸‰å¤§ç¨³å®šå†…æ ¸ï¼š composeç¼–æ’ã€componentsç»„ä»¶ï¼Œcommonå…¬å…±åº“ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cloudwego.io%2Fzh%2Fdocs%2Feino%2Foverview%2Fbytedance_eino_practice%2F" target="_blank" title="https://www.cloudwego.io/zh/docs/eino/overview/bytedance_eino_practice/" ref="nofollow noopener noreferrer">ç»„ä»¶</a>ä¸€æŠ¹å¤š,æ˜¯åŸå­èƒ½åŠ›çš„æœ€å°å•ä½ï¼Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.cloudwego.io%2Fzh%2Fdocs%2Feino%2Fcore_modules%2Fchain_and_graph_orchestration%2F" target="_blank" title="https://www.cloudwego.io/zh/docs/eino/core_modules/chain_and_graph_orchestration/" ref="nofollow noopener noreferrer">ç¼–æ’</a>å¯¹è¿™äº›ç»„ä»¶è¿›è¡Œç»„åˆã€ä¸²è¿ã€‚</p>
<h2 data-id="heading-2">3.  ä¸­å›½é¦–éƒ½ä»Šå¤©çš„å¤©æ°”æ€ä¹ˆæ ·? æˆ‘æ¯é¸¡å•Š</h2>
<p>æˆ‘ä»¬ä½¿ç”¨Einoæ¡†æ¶æ¥å®ç°æœ¬æ–‡çš„é¢˜ç›®ï¼š
<code>what is  the temperature in the capital of china today</code>ã€‚</p>
<p>æŒ‰ç…§æˆ‘ä»¬çš„åˆ†æï¼Œ
ä»LLMçš„è§†è§’ï¼Œè¦å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œç»å†äº†â€œæ€è€ƒ-è¡ŒåŠ¨-è§‚å¯Ÿ-æ€è€ƒâ€ å¾ªç¯ï¼Œ è¿™æ˜¯ä¸€ä¸ª<code>ReAct</code>æ¨¡å¼çš„agentã€‚</p>
<p>ä¸‹é¢åŸºäºé˜¿é‡Œç™¾ç‚¼ åƒé—®å¤§æ¨¡å‹ï¼Œå®ç°äº†å¤©æ°”å¯¹è¯ï¼Œè¯·è‡ªè¡Œä»é˜¿é‡Œç™¾ç‚¼å¹³å°ç”³è¯·çš„apiKeyæ›¿æ¢åˆ°54è¡Œã€‚</p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
	<span class="hljs-string">"context"</span>
	<span class="hljs-string">"fmt"</span>
	<span class="hljs-string">"log"</span>
	<span class="hljs-string">"os"</span>
	<span class="hljs-string">"time"</span>

	<span class="hljs-string">"github.com/cloudwego/eino-ext/components/model/qwen"</span>
	<span class="hljs-string">"github.com/cloudwego/eino/components/tool"</span>
	<span class="hljs-string">"github.com/cloudwego/eino/components/tool/utils"</span>
	<span class="hljs-string">"github.com/cloudwego/eino/compose"</span>
	<span class="hljs-string">"github.com/cloudwego/eino/schema"</span>
)

<span class="hljs-comment">// what is  the temperature in the capital of china today</span>

<span class="hljs-keyword">type</span> weatherReqParam <span class="hljs-keyword">struct</span> {
	City <span class="hljs-type">string</span> <span class="hljs-string">`json:"city"  jsonschema:"description=the name of the city"`</span>
	Date <span class="hljs-type">string</span> <span class="hljs-string">`json:"date"  jsonschema:"description=the date in the format of YYYY-MM-DD"`</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetTemperatureFunc</span><span class="hljs-params">(_ context.Context, p weatherReqParam)</span></span> (<span class="hljs-type">float64</span>, <span class="hljs-type">error</span>) {
	<span class="hljs-comment">// è¿™é‡Œç›´æ¥mockä¸€ä¸ªæ¸©åº¦å€¼ï¼Œå®é™…åº”ç”¨ä¸­åº”è¯¥æ›¿æ¢ä¸ºçœŸå®çš„APIè°ƒç”¨</span>
	<span class="hljs-keyword">return</span> <span class="hljs-number">32</span>, <span class="hljs-literal">nil</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">GetCurrentDateFunc</span><span class="hljs-params">(_ context.Context, _ <span class="hljs-keyword">struct</span>{})</span></span> (<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
	<span class="hljs-keyword">return</span> time.Now().Format(<span class="hljs-string">"2006-01-02"</span>), <span class="hljs-literal">nil</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">of</span>[<span class="hljs-title">T</span> <span class="hljs-title">any</span>]<span class="hljs-params">(t T)</span></span> *T {
	<span class="hljs-keyword">return</span> &amp;t
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
	getDateTool, err := utils.InferTool(<span class="hljs-string">"get_currentDate"</span>, <span class="hljs-string">"Get the current date"</span>, GetCurrentDateFunc)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-built_in">panic</span>(err)
	}
	getTemperatureTool, err := utils.InferTool(<span class="hljs-string">"get_temperature"</span>, <span class="hljs-string">"Get the temperature in the capital of the city"</span>, GetTemperatureFunc)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		<span class="hljs-built_in">panic</span>(err)
	}

	<span class="hljs-comment">// åˆå§‹åŒ– tools</span>
	weatherTools := []tool.BaseTool{
		getDateTool,
		getTemperatureTool,
	}

	apiKey := os.Getenv(<span class="hljs-string">"DASHSCOPE_API_KEY"</span>)
	apiKey = <span class="hljs-string">"{}"</span>  <span class="hljs-comment">// åœ¨é˜¿é‡Œç™¾ç‚¼å¹³å°ç”³è¯·ç­¾å</span>
	modelName := os.Getenv(<span class="hljs-string">"MODEL_NAME"</span>)
	modelName = <span class="hljs-string">"qwen3-max"</span>
	chatModel, err := qwen.NewChatModel(context.Background(), &amp;qwen.ChatModelConfig{
		BaseURL:     <span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
		APIKey:      apiKey,
		Timeout:     <span class="hljs-number">0</span>,
		Model:       modelName,
		MaxTokens:   of(<span class="hljs-number">2048</span>),
		Temperature: of(<span class="hljs-type">float32</span>(<span class="hljs-number">0.7</span>)),
		TopP:        of(<span class="hljs-type">float32</span>(<span class="hljs-number">0.7</span>)),
	})
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		log.Fatalf(<span class="hljs-string">"NewChatModel of qwen failed, err=%v"</span>, err)
	}

	<span class="hljs-keyword">var</span> ctx = context.Background()
	<span class="hljs-comment">// è·å–å·¥å…·ä¿¡æ¯å¹¶ç»‘å®šåˆ° ChatModel</span>
	toolInfos := <span class="hljs-built_in">make</span>([]*schema.ToolInfo, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(weatherTools))
	<span class="hljs-keyword">for</span> _, tool := <span class="hljs-keyword">range</span> weatherTools {
		info, err := tool.Info(ctx)
		<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
			log.Fatal(err)
		}
		toolInfos = <span class="hljs-built_in">append</span>(toolInfos, info)
	}
	err = chatModel.BindTools(toolInfos)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		log.Fatal(err)
	}

	<span class="hljs-comment">// åˆ›å»º tools èŠ‚ç‚¹</span>
	weatherToolsNode, err := compose.NewToolNode(context.Background(), &amp;compose.ToolsNodeConfig{
		Tools: weatherTools,
	})
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		log.Fatal(err)
	}

	<span class="hljs-comment">// æ„å»ºåŸºäº Graph çš„ Agentï¼Œå®ç° ReAct æ¨¡å¼ï¼ˆè‡ªåŠ¨æ‰§è¡Œå·¥å…·å¹¶ç”Ÿæˆè‡ªç„¶è¯­è¨€å›å¤ï¼‰</span>

	<span class="hljs-comment">// å®šä¹‰çŠ¶æ€ï¼Œç”¨äºä¿å­˜å¯¹è¯å†å²</span>
	<span class="hljs-keyword">type</span> appState <span class="hljs-keyword">struct</span> {
		messages []*schema.Message
	}

	graph := compose.NewGraph[[]*schema.Message, *schema.Message](
		compose.WithGenLocalState(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context)</span></span> *appState {
			<span class="hljs-keyword">return</span> &amp;appState{}
		}),
	)

	<span class="hljs-comment">// æ·»åŠ  ChatModel èŠ‚ç‚¹</span>
	err = graph.AddChatModelNode(<span class="hljs-string">"qwen_chat_model"</span>, chatModel,
		compose.WithStatePreHandler(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context, input []*schema.Message, state *appState)</span></span> ([]*schema.Message, <span class="hljs-type">error</span>) {
			<span class="hljs-comment">// å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡è¿›å…¥ï¼ˆä» Startï¼‰ï¼Œå°†è¾“å…¥ï¼ˆç”¨æˆ·é—®é¢˜ï¼‰æ·»åŠ åˆ°å†å²</span>
			<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(state.messages) == <span class="hljs-number">0</span> {
				state.messages = <span class="hljs-built_in">append</span>(state.messages, input...)
			}
			<span class="hljs-comment">// å§‹ç»ˆå°†å®Œæ•´çš„å†å²è®°å½•ä½œä¸º ChatModel çš„è¾“å…¥</span>
			<span class="hljs-keyword">return</span> state.messages, <span class="hljs-literal">nil</span>
		}),
		compose.WithStatePostHandler(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context, output *schema.Message, state *appState)</span></span> (*schema.Message, <span class="hljs-type">error</span>) {
			<span class="hljs-comment">// å°† ChatModel çš„è¾“å‡ºï¼ˆå¯èƒ½æ˜¯å·¥å…·è°ƒç”¨æˆ–æœ€ç»ˆå›å¤ï¼‰æ·»åŠ åˆ°å†å²</span>
			state.messages = <span class="hljs-built_in">append</span>(state.messages, output)
			<span class="hljs-keyword">return</span> output, <span class="hljs-literal">nil</span>
		}),
	)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		log.Fatal(err)
	}

	<span class="hljs-comment">// æ·»åŠ  Tools èŠ‚ç‚¹</span>
	err = graph.AddToolsNode(<span class="hljs-string">"agent_tools"</span>, weatherToolsNode,
		compose.WithStatePostHandler(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context, output []*schema.Message, state *appState)</span></span> ([]*schema.Message, <span class="hljs-type">error</span>) {
			<span class="hljs-comment">// å°†å·¥å…·æ‰§è¡Œç»“æœæ·»åŠ åˆ°å†å²</span>
			state.messages = <span class="hljs-built_in">append</span>(state.messages, output...)
			<span class="hljs-keyword">return</span> output, <span class="hljs-literal">nil</span>
		}),
	)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		log.Fatal(err)
	}

	<span class="hljs-comment">// æ·»åŠ è¾¹å’Œåˆ†æ”¯</span>
	_ = graph.AddEdge(compose.START, <span class="hljs-string">"qwen_chat_model"</span>)

	<span class="hljs-comment">// å¦‚æœæœ‰å·¥å…·è°ƒç”¨ï¼Œæµè½¬åˆ° toolsï¼›å¦åˆ™ç»“æŸ</span>
	_ = graph.AddBranch(<span class="hljs-string">"qwen_chat_model"</span>, compose.NewGraphBranch(<span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(ctx context.Context, msg *schema.Message)</span></span> (<span class="hljs-type">string</span>, <span class="hljs-type">error</span>) {
		<span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(msg.ToolCalls) &gt; <span class="hljs-number">0</span> {
			<span class="hljs-keyword">return</span> <span class="hljs-string">"agent_tools"</span>, <span class="hljs-literal">nil</span>
		}
		<span class="hljs-keyword">return</span> compose.END, <span class="hljs-literal">nil</span>
	}, <span class="hljs-keyword">map</span>[<span class="hljs-type">string</span>]<span class="hljs-type">bool</span>{<span class="hljs-string">"agent_tools"</span>: <span class="hljs-literal">true</span>, compose.END: <span class="hljs-literal">true</span>}))

	<span class="hljs-comment">// å·¥å…·æ‰§è¡Œå®Œåï¼Œå›æµåˆ° chat_model ç”Ÿæˆå›å¤</span>
	_ = graph.AddEdge(<span class="hljs-string">"agent_tools"</span>, <span class="hljs-string">"qwen_chat_model"</span>)

	<span class="hljs-comment">// ç¼–è¯‘è¿è¡Œ</span>
	agent, err := graph.Compile(ctx)
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		log.Fatal(err)
	}

	<span class="hljs-comment">// è¿è¡Œç¤ºä¾‹</span>
	resp, err := agent.Invoke(ctx, []*schema.Message{
		{
			Role:    schema.User,
			Content: <span class="hljs-string">"what is the temperature in the capital of china today? please answer in a humam like way."</span>,
		},
	})
	<span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
		log.Fatal(err)
	}

	<span class="hljs-comment">// è¾“å‡ºç»“æœ</span>
	fmt.Println(resp.Content)
}

</code></pre>
<p>ä¸€å¼€å§‹æˆ‘å‚ç…§çš„å®˜ç½‘çš„<code>chain</code>ç¼–æ’Einoç»„ä»¶ï¼Œä½†æ˜¯å¾—åˆ°çš„ç»“æœæ˜¯æ•°å­—â€œ32â€ï¼Œ å¹¶ä¸æ˜¯LLMå¯¹è¯çš„ç±»äººè¯­è¨€ã€‚</p>
<p>ä½¿ç”¨Traeçš„ç¼–ç agentï¼Œ20så°±å¸®æˆ‘æ”¹æˆäº†Graphå½¢å¼çš„æ­£ç¡®ç¼–ç ï¼Œ è¾“å‡ºï¼š</p>
<pre><code class="hljs language-kotlin" lang="kotlin">The temperature <span class="hljs-keyword">in</span> Beijing, the capital of China, today (January <span class="hljs-number">28</span>, <span class="hljs-number">2026</span>) <span class="hljs-keyword">is</span> a warm <span class="hljs-number">32</span>Â°C! Thatâ€™s quite hot <span class="hljs-keyword">for</span> <span class="hljs-keyword">this</span> time of yearâ€”make sure to stay hydrated and cool <span class="hljs-keyword">if</span> youâ€™re <span class="hljs-keyword">out</span> and about!
</code></pre>
<blockquote>
<p>æœ¬ä¾‹å®é™…ä¹Ÿå¯ä»¥ä½¿ç”¨<code>Chain</code>æ¥å®Œæˆï¼Œchainæ˜¯ä¸€ç§ç‰¹æ®Šçš„ã€ç®€åŒ–çš„graphï¼Œchainä¸èƒ½å›å¤´ï¼Œæœ¬ä¾‹éœ€è¦æ‰‹åŠ¨ä¸²èµ·æ¥ï¼ŒChainæ›´é€‚åˆç¡®å®šæ€§çš„ç¼–æ’ã€‚</p>
</blockquote>
<p>Graphå°±åƒä¸€ä¸ªè‡ªåŠ¨åŒ–çš„æµæ°´çº¿ï¼ˆloopï¼‰ï¼Œå·¥äººæ˜¯ chat_model å’Œ tools ï¼š</p>
<p>æœ¬ä¾‹çš„Graphå›¾å¦‚ä¸‹ï¼Œè¯»è€…å¯ä»¥ç»“åˆæºä»£ç ç†è§£ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/afe66b9b3e89498f8802096181aa56dd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5pyJ5oCB5bqm55qE5LiL562J6ams:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770262882&amp;x-signature=%2BJulP4zHryucNgMwa07hjemOEPE%3D" alt="" loading="lazy"/></p>
<ol>
<li>START -&gt; chat_model
<ul>
<li>ChatModel æ‹¿åˆ°ç”¨æˆ·é—®é¢˜ï¼Œæ€è€ƒåè¯´ï¼šâ€œæˆ‘éœ€è¦æŸ¥æ—¥æœŸã€‚â€ï¼ˆè¾“å‡ºåŒ…å« ToolCallï¼‰</li>
</ul>
</li>
<li>chat_model -&gt; tools (ç”± Branch åˆ¤æ–­)
<ul>
<li>Tools å¬åˆ°æŒ‡ä»¤ï¼Œå»æŸ¥æ—¥æœŸï¼Œå¾—åˆ° "2026-01-24"ã€‚</li>
</ul>
</li>
<li>tools -&gt; chat_model (ç”± AddEdge å¼ºåˆ¶æµè½¬)
<ul>
<li>ChatModel å†æ¬¡è¢«å”¤é†’ã€‚è¿™æ¬¡å®ƒçš„è¾“å…¥åŒ…å«äº†ä¹‹å‰çš„å†å²ï¼ˆç”¨æˆ·é—®é¢˜ + åˆšæ‰çš„ ToolCall + åˆšæ‰çš„ç»“æœï¼‰ã€‚</li>
<li>å®ƒå†æ¬¡æ€è€ƒï¼šâ€œæˆ‘çŸ¥é“æ—¥æœŸäº†ï¼Œç°åœ¨æˆ‘è¦æŸ¥åŒ—äº¬çš„æ¸©åº¦ã€‚â€ï¼ˆè¾“å‡ºåŒ…å« ToolCallï¼‰</li>
</ul>
</li>
<li>chat_model -&gt; tools (å†æ¬¡å¾ªç¯)
<ul>
<li>Tools å»æŸ¥æ¸©åº¦ï¼Œå¾—åˆ° "32åº¦"ã€‚</li>
</ul>
</li>
<li>tools -&gt; chat_model (å†æ¬¡å¾ªç¯)
<ul>
<li>ChatModel å†æ¬¡è¢«å”¤é†’ã€‚ç°åœ¨çš„è¾“å…¥æ›´ä¸°å¯Œäº†ï¼ˆæ‰€æœ‰å†å²ï¼‰ã€‚</li>
<li>å®ƒå†æ¬¡æ€è€ƒï¼šâ€œæ—¥æœŸæœ‰äº†ï¼Œæ¸©åº¦ä¹Ÿæœ‰äº†ï¼Œæˆ‘å¯ä»¥ç›´æ¥å›ç­”ç”¨æˆ·äº†ã€‚â€ï¼ˆè¾“å‡º ä¸åŒ…å« ToolCallï¼‰</li>
</ul>
</li>
<li>chat_model -&gt; END (ç”± Branch åˆ¤æ–­)
<ul>
<li>å¾ªç¯ç»“æŸã€‚</li>
</ul>
</li>
</ol>
<p>æœ€åæˆ‘ä»¬é‡æ¸©å…¨æ–‡ï¼Œfunction callingï¼ˆfunction toolsï¼‰åœ¨agentä¸­çš„ä½œç”¨ï¼š
åœ¨ç”±LLMé©±åŠ¨çš„agentåº”ç”¨ä¸­ï¼Œfunction callingï¼ˆfunction toolsï¼‰ä½œä¸ºLLMçš„æ‰‹è„šï¼Œè®©LLMå…·å¤‡ä½¿ç”¨å·¥å…·ä»å¤–éƒ¨è·å–æœ€æ–°ä¿¡æ¯å¹¶æŒ‡å¯¼åº”ç”¨è¡Œä¸ºçš„èƒ½åŠ›ï¼Œè¿™ä¸€è¿‡ç¨‹ç”±ç»“æ„åŒ–çš„è¾“å…¥è¾“å‡ºå‚æ•°æ¥ä¼ é€’ã€‚</p>
<p>æœ€è¿‘è‚¡å¸‚é•¿è™¹ï¼Œç¥å¤§å®¶å‘å¤§è´¢ã€‚ğŸ˜„ğŸ˜„ğŸ˜„</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[RBAC æƒé™ç³»ç»Ÿå®æˆ˜ï¼ˆä¸€ï¼‰ï¼šé¡µé¢çº§è®¿é—®æ§åˆ¶å…¨è§£æ]]></title>    <link>https://juejin.cn/post/7600600904094842914</link>    <guid>https://juejin.cn/post/7600600904094842914</guid>    <pubDate>2026-01-29T10:56:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600600904094842914" data-draft-id="7600600904094826530" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="RBAC æƒé™ç³»ç»Ÿå®æˆ˜ï¼ˆä¸€ï¼‰ï¼šé¡µé¢çº§è®¿é—®æ§åˆ¶å…¨è§£æ"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-29T10:56:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åäº”ä¸¶"/> <meta itemprop="url" content="https://juejin.cn/user/343495027727229"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            RBAC æƒé™ç³»ç»Ÿå®æˆ˜ï¼ˆä¸€ï¼‰ï¼šé¡µé¢çº§è®¿é—®æ§åˆ¶å…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/343495027727229/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åäº”ä¸¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-29T10:56:23.000Z" title="Thu Jan 29 2026 10:56:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-29
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>æœ¬ç¯‡æ–‡ç« ä¸»è¦è®²è§£ RBAC æƒé™æ–¹æ¡ˆåœ¨ä¸­åå°ç®¡ç†ç³»ç»Ÿçš„å®ç°</p>
<p>åœ¨å…¬å¸å†…éƒ¨å†™è¿‡å¥½å‡ ä¸ªåå°ç³»ç»Ÿï¼Œéƒ½éœ€è¦å®ç°æƒé™æ§åˆ¶ï¼Œåœ¨èŒæ—¶å·¥ä½œç¹å¤šï¼Œæ²¡æœ‰ç³»ç»Ÿæ€§çš„æ¥æ€»ç»“ä¸€ä¸‹ç›¸å…³ç»éªŒï¼Œç°åœ¨äººå·²ç¦»èŒï¼Œå°±æŠŠè‡ªå·±çš„ç»éªŒæ€»ç»“ä¸€ä¸‹ï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°ä½ </p>
<blockquote>
<p>æœ¬æ–‡æ˜¯<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbryqiu%2FBlog%3Ftab%3Dreadme-ov-file%23%25E9%2580%259A%25E4%25BF%2597%25E6%2598%2593%25E6%2587%2582%25E7%259A%2584%25E4%25B8%25AD%25E5%2590%258E%25E5%258F%25B0%25E7%25B3%25BB%25E7%25BB%259F%25E5%25BB%25BA%25E8%25AE%25BE%25E6%258C%2587%25E5%258D%2597%25E4%25B8%2593%25E6%25A0%258F" target="_blank" title="https://github.com/bryqiu/Blog?tab=readme-ov-file#%E9%80%9A%E4%BF%97%E6%98%93%E6%87%82%E7%9A%84%E4%B8%AD%E5%90%8E%E5%8F%B0%E7%B3%BB%E7%BB%9F%E5%BB%BA%E8%AE%BE%E6%8C%87%E5%8D%97%E4%B8%93%E6%A0%8F" ref="nofollow noopener noreferrer">ã€Šé€šä¿—æ˜“æ‡‚çš„ä¸­åå°ç³»ç»Ÿå»ºè®¾æŒ‡å—ã€‹</a>ç³»åˆ—çš„ç¬¬ä¹ç¯‡æ–‡ç« ï¼Œè¯¥ç³»åˆ—æ—¨åœ¨å‘Šè¯‰ä½ å¦‚ä½•æ¥æ„å»ºä¸€ä¸ªä¼˜ç§€çš„ä¸­åå°ç®¡ç†ç³»ç»Ÿ</p>
</blockquote>
<h2 data-id="heading-1">æƒé™æ¨¡å‹æœ‰å“ªäº›ï¼Ÿ</h2>
<p>ä¸»æµçš„æƒé™æ¨¡å‹ä¸»è¦åˆ†ä¸ºä»¥ä¸‹äº”ç§ï¼š</p>
<ul>
<li>ACLæ¨¡å‹ï¼šè®¿é—®æ§åˆ¶åˆ—è¡¨</li>
<li>DACæ¨¡å‹ï¼šè‡ªä¸»è®¿é—®æ§åˆ¶</li>
<li>MACæ¨¡å‹ï¼šå¼ºåˆ¶è®¿é—®æ§åˆ¶</li>
<li>ABACæ¨¡å‹ï¼šåŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶</li>
<li>RBACæ¨¡å‹ï¼šåŸºäºè§’è‰²çš„æƒé™è®¿é—®æ§åˆ¶</li>
</ul>
<p>è¿™é‡Œä¸ä»‹ç»å…¨éƒ¨çš„æƒé™æ¨¡å‹ï¼Œæœ‰å…´è¶£ä½ å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://juejin.cn/post/7121977695197970463" target="_blank" title="https://juejin.cn/post/7121977695197970463">æƒé™ç³»ç»Ÿå°±è¯¥è¿™ä¹ˆè®¾è®¡ï¼Œyyds</a></p>
<p>å¦‚æœä½ çœ‹è¿‡ã€ç”¨è¿‡å¸‚é¢ä¸Šä¸€äº›å¼€æºåå°ç³»ç»ŸåŠæƒé™è®¾è®¡ï¼Œä½ ä¼šå‘ç°å®ƒä»¬ä¸»è¦éƒ½æ˜¯åŸºäº RBAC æ¨¡å‹æ¥å®ç°çš„</p>
<h2 data-id="heading-2">ä¸ºä»€ä¹ˆæ˜¯ RBAC æƒé™æ¨¡å‹ï¼Ÿ</h2>
<p>å¥½é—®é¢˜ï¼æˆ‘å¸®ä½ é—®äº†ä¸‹ AI</p>



































<table><thead><tr><th align="left">å¯¹æ¯”ç»´åº¦</th><th align="left">ACL (è®¿é—®æ§åˆ¶åˆ—è¡¨)</th><th align="left">RBAC (åŸºäºè§’è‰²)</th><th align="left">ABAC (åŸºäºå±æ€§)</th></tr></thead><tbody><tr><td align="left"><strong>æ ¸å¿ƒé€»è¾‘</strong></td><td align="left"><strong>ç”¨æˆ· â†” æƒé™</strong><br/>ç›´æ¥ç‚¹å¯¹ç‚¹ç»‘å®šï¼Œæ— ä¸­é—´å±‚</td><td align="left"><strong>ç”¨æˆ· â†” è§’è‰² â†” æƒé™</strong><br/>å¼•å…¥â€œè§’è‰²â€è§£è€¦ï¼Œæƒé™å½’äºè§’è‰²</td><td align="left"><strong>å±æ€§ + è§„åˆ™ = æƒé™</strong><br/>åŠ¨æ€è®¡ç®— (Who, When, Where)</td></tr><tr><td align="left"><strong>ä¼˜ç‚¹</strong></td><td align="left">æ¨¡å‹æç®€ï¼Œå¼€å‘é€Ÿåº¦å¿«ï¼Œé€‚åˆåˆæœŸ MVP</td><td align="left">ç»“æ„æ¸…æ™°ï¼Œ<strong>å¤ç”¨æ€§é«˜</strong>ï¼Œç¬¦åˆä¼ä¸šç»„ç»‡æ¶æ„ï¼Œç»´æŠ¤æˆæœ¬ä½</td><td align="left">æåº¦çµæ´»ï¼Œæ”¯æŒç»†ç²’åº¦æ§åˆ¶<br/>(å¦‚ï¼šåªèƒ½åœ¨å·¥ä½œæ—¥è®¿é—®)</td></tr><tr><td align="left"><strong>ç¼ºç‚¹</strong></td><td align="left">ç”¨æˆ·é‡å¤§æ—¶ç»´æŠ¤å·¥ä½œå‘ˆæŒ‡æ•°çº§å¢é•¿ï¼Œææ˜“å‡ºé”™</td><td align="left"><strong>è§’è‰²çˆ†ç‚¸</strong>ï¼šè‹¥ç‰¹ä¾‹è¿‡å¤šï¼Œå¯èƒ½å¯¼è‡´å®šä¹‰æˆç™¾ä¸Šåƒä¸ªè§’è‰²</td><td align="left">å¼€å‘å¤æ‚åº¦æé«˜ï¼Œè§„åˆ™å¼•æ“éš¾è®¾è®¡ï¼Œæœ‰ä¸€å®šçš„æ€§èƒ½æ¶ˆè€—</td></tr><tr><td align="left"><strong>é€‚ç”¨åœºæ™¯</strong></td><td align="left">ä¸ªäººåšå®¢ã€å°å‹å†…éƒ¨å·¥å…·</td><td align="left"><strong>ä¸­å¤§å‹åå°ç³»ç»Ÿã€SaaS å¹³å° (è¡Œä¸šæ ‡å‡†)</strong></td><td align="left">é“¶è¡Œé£æ§ã€AWS IAMã€å›½å®¶å®‰å…¨çº§ç³»ç»Ÿ</td></tr></tbody></table>
<p>æ€»ç»“æ¥è¯´ï¼Œåœ¨åå°ç³»ç»Ÿçš„åœºæ™¯ä¸‹ï¼ŒRBAC æ¨¡å‹åœ¨çµæ´»æ€§ï¼ˆå¯¹æ¯”ACLï¼‰å’Œå¤æ‚æ€§ï¼ˆå¯¹æ¯”ABACï¼‰ä¸Šå–å¾—äº†ä¸€ä¸ªå¾ˆå¥½çš„å¹³è¡¡</p>
<h2 data-id="heading-3">RBAC æ¦‚å¿µç†è§£</h2>
<p>RBAC æƒé™æ¨¡å‹ï¼Œå…¨ç§° Role-Based Access Controlï¼ŒåŸºäºè§’è‰²çš„æƒé™è®¿é—®æ§åˆ¶</p>
<p>æ¨¡å‹æœ‰ä¸‰è¦ç´ ï¼š</p>
<ul>
<li>ç”¨æˆ·ï¼ˆUserï¼‰ï¼šç³»ç»Ÿä¸»ä½“ï¼Œå³æ“ä½œç³»ç»Ÿçš„å…·ä½“äººå‘˜æˆ–è´¦å·</li>
<li>è§’è‰²ï¼ˆRoleï¼‰ï¼šè§’è‰²æ˜¯ä¸€ç»„æƒé™çš„é›†åˆï¼Œä»£è¡¨äº†ç”¨æˆ·åœ¨ç»„ç»‡ä¸­çš„èŒèƒ½æˆ–èº«ä»½</li>
<li>æƒé™ï¼ˆPermissionï¼‰ï¼šç”¨æˆ·å¯ä»¥å¯¹ç³»ç»Ÿèµ„æºè¿›è¡Œçš„è®¿é—®æˆ–æ“ä½œèƒ½åŠ›</li>
</ul>
<p>RBAC çš„è®¾è®¡æ˜¯å°†è§’è‰²ç»‘å®šæƒé™ï¼Œç”¨æˆ·ç»‘å®šè§’è‰²ï¼Œä»è€Œå®ç°æƒé™æ§åˆ¶</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/477cc8185d0244aaa6a073d8313920c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2B5LqU5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770288982&amp;x-signature=6fTTIUFMJOrZGOxj7nfS%2BhqLnJg%3D" alt="image.png" loading="lazy"/></p>
<p>å¹¶ä¸”ï¼Œå®ƒä»¬ä¹‹é—´çš„é€»è¾‘å…³ç³»é€šå¸¸æ˜¯å¤šå¯¹å¤šçš„ï¼š</p>
<p><strong>ç”¨æˆ· - è§’è‰² (User-Role)ï¼š</strong> ä¸€ä¸ªç”¨æˆ·å¯ä»¥æ‹¥æœ‰å¤šä¸ªè§’è‰²ï¼ˆä¾‹å¦‚ï¼šæŸäººæ—¢æ˜¯â€œé¡¹ç›®ç»ç†â€åˆæ˜¯â€œæŠ€æœ¯å§”å‘˜ä¼šæˆå‘˜â€ï¼‰</p>
<p><strong>è§’è‰² - æƒé™(Role-Permission)ï¼š</strong> ä¸€ä¸ªè§’è‰²åŒ…å«å¤šä¸ªæƒé™ï¼ˆä¾‹å¦‚ï¼šâ€œäººäº‹ç»ç†â€è§’è‰²æ‹¥æœ‰â€œæŸ¥çœ‹å‘˜å·¥â€ã€â€œç¼–è¾‘è–ªèµ„â€ç­‰æƒé™ï¼‰</p>
<h2 data-id="heading-4">ä¸»å¯¼æƒé™æ§åˆ¶çš„å‰ç«¯ã€åç«¯æ–¹æ¡ˆ</h2>
<p>å¸‚é¢ä¸Šè¿™äº›å¼€æº Admin çš„æƒé™æ§åˆ¶ä¸­ï¼Œå­˜åœ¨ä¸¤ç§ä¸»è¦çš„æƒé™ä¸»å¯¼æ–¹æ¡ˆï¼šå‰ç«¯ä¸»å¯¼çš„æƒé™æ–¹æ¡ˆå’Œåç«¯ä¸»å¯¼çš„æƒé™æ–¹æ¡ˆ</p>
<h3 data-id="heading-5">å‰ç«¯ä¸»å¯¼çš„æƒé™æ–¹æ¡ˆ</h3>
<p>å‰ç«¯ä¸»å¯¼çš„æƒé™æ–¹æ¡ˆï¼Œä¸€ä¸ªä¸»è¦çš„ç‰¹å¾æ˜¯èœå•æ•°æ®ç”±å‰ç«¯ç»´æŠ¤ï¼Œè€Œä¸æ˜¯å­˜åœ¨æ•°æ®åº“ä¸­</p>
<p>åç«¯åªéœ€è¦åœ¨ç™»å½•åç»™åˆ°ç”¨æˆ·ä¿¡æ¯ï¼Œè¿™ä¸ªä¿¡æ¯ä¸­ä¼šåŒ…å«ç”¨æˆ·çš„è§’è‰²ï¼Œæ ¹æ®è¿™ä¸ªè§’è‰²ä¿¡æ¯ï¼Œå‰ç«¯å¯ä»¥ç­›é€‰å‡ºå…·æœ‰æƒé™çš„èœå•ã€æŒ‰é’®</p>
<p>è¿™ç§æ–¹æ¡ˆçš„ä¸»è¦é€»è¾‘æ”¾åœ¨å‰ç«¯ï¼Œè€Œä¸æ˜¯åç«¯æ•°æ®åº“ï¼Œæ‰€ä»¥å®‰å…¨æ€§æ²¡ä¿éšœï¼Œçµæ´»æ€§ä¹Ÿè¾ƒå·®ï¼Œè¦æ›´æ–°æƒé™ï¼Œå°±éœ€è¦æ”¹åŠ¨å‰ç«¯ä»£ç å¹¶é‡æ–°æ‰“åŒ…ä¸Šçº¿ï¼Œæ— æ³•æ”¯æŒâ€œåŠ¨æ€é…ç½®æƒé™â€</p>
<p>é€‚åˆä¸€äº›å°å‹ã€ç®€å•ç³»ç»Ÿ</p>
<h3 data-id="heading-6">åç«¯ä¸»å¯¼çš„æƒé™æ–¹æ¡ˆ</h3>
<p>åç«¯æ§åˆ¶æ–¹æ¡ˆï¼Œå³ç™»å½•ååœ¨è¿”å›ç”¨æˆ·ä¿¡æ¯æ—¶ï¼Œè¿˜ä¼šç»™åˆ°æ­¤ç”¨æˆ·å¯¹åº”çš„èœå•æ•°æ®å’ŒæŒ‰é’®æƒé™ç ç­‰</p>
<p>èœå•æ•°æ®ã€æŒ‰é’®æƒé™ç ç­‰éƒ½å­˜åœ¨æ•°æ®åº“ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå®‰å…¨æ€§ã€çµæ´»æ€§æ›´é«˜ï¼Œè¦æ›´æ–°æƒé™æ•°æ®æˆ–ç”¨æˆ·æƒé™æ§åˆ¶ï¼Œæä¾›ç›¸åº”æ¥å£å³å¯ä¿®æ”¹</p>
<blockquote>
<p>å€’ä¹Ÿä¸æ˜¯è¯´å‰ç«¯å®Œå…¨ä¸ç”¨ç®¡èœå•æ•°æ®ï¼Œè€Œæ˜¯å‰ç«¯åªéœ€è¦ç»´æŠ¤ä¸€äº›é™æ€èœå•æ•°æ®ï¼Œæ¯”å¦‚ç™»å½•é¡µã€å¼‚å¸¸é¡µ(404ã€403...)</p>
</blockquote>
<p>åœ¨ä¼ä¸šçº§åå°ç³»ç»Ÿä¸­ï¼Œåç«¯ä¸»å¯¼çš„æƒé™æ–¹æ¡ˆæ˜¯æ¯”è¾ƒå¸¸ç”¨çš„ï¼Œæœ¬æ–‡åªä»‹ç»åç«¯ä¸»å¯¼çš„æƒé™æ–¹æ¡ˆ</p>
<h2 data-id="heading-7">æƒé™æ–¹æ¡ˆæ•´ä½“æµç¨‹</h2>
<p>åœ¨å¼€å§‹å†™ä»£ç ä¹‹å‰ï¼Œè¦æ¸…æ™°çŸ¥é“æ•´ä½“å®ç°æµç¨‹ï¼Œæˆ‘ç”»äº†ä¸€å¼ å›¾æ¥ç›´è§‚å±•ç¤ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/24d25fc5a24b446eb3b46d1109e688ee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2B5LqU5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770288982&amp;x-signature=X8GZE0WmhkV99y%2BwVUpesaS5Fmc%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-8">åå°ç³»ç»Ÿä¸­çš„ RBAC æƒé™å®æˆ˜</h2>
<h3 data-id="heading-9">æƒé™èœå•ç±»å‹å®šä¹‰</h3>
<p>é¦–å…ˆï¼Œåœ¨å‰åç«¯äººå‘˜é…åˆä¸­ï¼Œæˆ‘ä»¬æœ€å¥½çº¦å®šä¸€å¥—èœå•æ•°æ®çš„ç»“æ„ï¼Œæ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">RouteMeta</span>, <span class="hljs-title class_">RouteRecordRaw</span>, <span class="hljs-title class_">RouteRecordRedirectOption</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">DefineComponent</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">RouteType</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'#/type'</span>;

<span class="hljs-keyword">declare</span> <span class="hljs-variable language_">global</span> {
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">CustomRouteRecordRaw</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Omit</span>&lt;<span class="hljs-title class_">RouteRecordRaw</span>, 'meta'&gt; {
    <span class="hljs-comment">/**
     * è·¯ç”±åœ°å€
     */</span>
    path?: <span class="hljs-built_in">string</span>;
    <span class="hljs-comment">/**
     * è·¯ç”±åç§°
     */</span>
    name?: <span class="hljs-built_in">string</span>;
    <span class="hljs-comment">/**
     * é‡å®šå‘è·¯å¾„
     */</span>
    redirect?: <span class="hljs-title class_">RouteRecordRedirectOption</span>;
    <span class="hljs-comment">/**
     * ç»„ä»¶
     */</span>
    component?: <span class="hljs-title class_">Component</span> | <span class="hljs-title class_">DefineComponent</span> | (<span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">unknown</span>&gt;);
    <span class="hljs-comment">/**
     * å­è·¯ç”±ä¿¡æ¯
     */</span>
    children?: <span class="hljs-title class_">CustomRouteRecordRaw</span>[];
    <span class="hljs-comment">/**
     * è·¯ç”±ç±»å‹
     */</span>
    <span class="hljs-keyword">type</span>?: <span class="hljs-title class_">RouteType</span>;
    <span class="hljs-comment">/**
     * å…ƒä¿¡æ¯
     */</span>
    <span class="hljs-attr">meta</span>: {
      <span class="hljs-comment">/**
       * èœå•æ ‡é¢˜
       */</span>
      <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;
      <span class="hljs-comment">/**
       * èœå•å›¾æ ‡
       */</span>
      menuIcon?: <span class="hljs-built_in">string</span>;
      <span class="hljs-comment">/**
       * æ’åº
       */</span>
      sort?: <span class="hljs-built_in">number</span>;
      <span class="hljs-comment">/**
       * æ˜¯å¦åœ¨ä¾§è¾¹æ èœå•ä¸­éšè—
       * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
       */</span>
      hideMenu?: <span class="hljs-built_in">boolean</span>;
      <span class="hljs-comment">/**
       * æ˜¯å¦åœ¨é¢åŒ…å±‘ä¸­éšè—
       * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
       */</span>
      hideBreadcrumb?: <span class="hljs-built_in">boolean</span>;
      <span class="hljs-comment">/**
       * å½“åªæœ‰ä¸€ä¸ªå­èœå•æ—¶ï¼Œæ˜¯å¦éšè—çˆ¶çº§èœå•ç›´æ¥æ˜¾ç¤ºå­èœå•å†…å®¹
       * <span class="hljs-doctag">@default</span> <span class="hljs-variable">false</span>
       */</span>
      hideParentIfSingleChild?: <span class="hljs-built_in">boolean</span>;
    };
  }

  <span class="hljs-comment">/**
   * åç«¯è¿”å›çš„æƒé™è·¯ç”±ç±»å‹å®šä¹‰
   */</span>
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> <span class="hljs-title class_">PermissionRoute</span> = <span class="hljs-title class_">Omit</span>&lt;<span class="hljs-title class_">CustomRouteRecordRaw</span>, <span class="hljs-string">'component'</span> | <span class="hljs-string">'children'</span> | <span class="hljs-string">'type'</span>&gt; &amp; {
    <span class="hljs-comment">/**
     * è·¯ç”±ID
     */</span>
    id?: <span class="hljs-built_in">number</span>;
    <span class="hljs-comment">/**
     * è·¯ç”±çˆ¶ID
     */</span>
    parentId?: <span class="hljs-built_in">number</span>;
    <span class="hljs-comment">/**
     * ç»„ä»¶è·¯å¾„ï¼ˆåç«¯è¿”å›æ—¶ä¸ºå­—ç¬¦ä¸²ï¼Œå‰ç«¯å¤„ç†åä¸ºç»„ä»¶ï¼‰
     */</span>
    <span class="hljs-attr">component</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-comment">/**
     * å­è·¯ç”±ä¿¡æ¯
     */</span>
    children?: <span class="hljs-title class_">PermissionRoute</span>[];
    <span class="hljs-comment">/**
     * è·¯ç”±ç±»å‹
     */</span>
    <span class="hljs-attr">type</span>: <span class="hljs-title class_">RouteType</span>;
  };
}

</code></pre>
<blockquote>
<p>åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbryqiu%2Fvue-clean-admin%2Fblob%2Fmain%2Fsrc%2Ftypings%2Frouter.d.ts" target="_blank" title="https://github.com/bryqiu/vue-clean-admin/blob/main/src/typings/router.d.ts" ref="nofollow noopener noreferrer">router.d.ts</a> æ‰¾åˆ°ç±»å‹æ–‡ä»¶</p>
</blockquote>
<p>ä»¥ä¸Šé¢çš„ç±»å‹å®šä¹‰ä¸ºä¾‹ï¼Œæˆ‘ä»¬çº¦å®š <code>PermissionRoute</code> ç±»å‹æ˜¯åç«¯è¿”å›çš„æƒé™è·¯ç”±ç±»å‹ï¼š</p>
<p>æˆ‘è¿™é‡Œä½¿ç”¨ ApiFox æ¥ Mock æƒé™è·¯ç”±æ•°æ®ï¼Œæ•°æ®æ˜¯è¿™æ ·çš„ï¼š</p>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fclean-admin.apifox.cn%2F" target="_blank" title="https://clean-admin.apifox.cn/" ref="nofollow noopener noreferrer">clean-admin ApiFox æ–‡æ¡£åœ¨çº¿åœ°å€</a></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4d472ebe0289417aab9114ab52c82a2e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2B5LqU5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770288982&amp;x-signature=533qsuaKRIxS%2Bvb0FxFeUHlz7Mo%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-10">ä»ç™»å½•é¡µåˆ°è·¯ç”±å®ˆå«</h3>
<p>æƒé™æ–¹æ¡ˆçš„ç¬¬ä¸€æ­¥ï¼Œæ˜¯ç™»å½•å¹¶æ‹¿åˆ°ç”¨æˆ·ä¿¡æ¯</p>
<p>å‡è®¾æˆ‘ä»¬ç°åœ¨ç”¨ Element Plus æ­å»ºèµ·äº†ä¸€ä¸ªç™»å½•é¡µé¢ï¼Œå½“ç”¨æˆ·ç‚¹å‡»ç™»å½•æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åšè¿™å‡ ä»¶äº‹ï¼š</p>
<ol>
<li>è°ƒç”¨ç™»å½•æ¥å£ï¼Œå°†è´¦å·ã€å¯†ç å‘é€ç»™åç«¯è¿›è¡ŒéªŒè¯ï¼ŒéªŒè¯é€šè¿‡åˆ™è¿”å› JWT ä¿¡æ¯</li>
<li>å°†è¿”å›çš„ JWT ä¿¡æ¯ä¿å­˜åˆ°æœ¬åœ°ï¼Œåç»­æ¯æ¬¡è¯·æ±‚éƒ½æºå¸¦ Token æ¥è¯†åˆ«ç”¨æˆ·èº«ä»½å¹¶å†³å®šä½ èƒ½æ‹¿åˆ°çš„æƒé™è·¯ç”±æ•°æ®</li>
<li>è§¦å‘è·¯ç”±å®ˆå«æ‹¦æˆª</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d1195e632f74c2aa508c623555734ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2B5LqU5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770288982&amp;x-signature=f%2FsehCMd98KQLSHYFgN9fuwg2Qg%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbryqiu%2Fvue-clean-admin%2Fblob%2Fmain%2Fsrc%2Fviews%2Fauth%2Fpage%2Faccount-login.vue" target="_blank" title="https://github.com/bryqiu/vue-clean-admin/blob/main/src/views/auth/page/account-login.vue" ref="nofollow noopener noreferrer">account-login.vue</a> æ‰¾åˆ°å…¨éƒ¨ä»£ç </p>
</blockquote>
<h3 data-id="heading-11">åŸºæœ¬ Vue Router é…ç½®</h3>
<p>ç™»å½•å®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥è§¦å‘è·¯ç”±å®ˆå«äº†ï¼Œä½†åœ¨å†™è·¯ç”±å®ˆå«ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥é…ç½®ä¸€ä¸‹åŸºæœ¬çš„ Vue Router</p>
<p>åœ¨æ•´ä¸ªæƒé™ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å°†è·¯ç”±æ•°æ®åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ol>
<li>é™æ€è·¯ç”±ï¼šç³»ç»Ÿå›ºå®šçš„è·¯ç”±ï¼Œæ¯”å¦‚ç™»å½•é¡µã€å¼‚å¸¸é¡µ(404ã€403...)</li>
<li>åŠ¨æ€è·¯ç”±ï¼šç”±åç«¯æ¥å£è¿”å›çš„ç”¨æˆ·è§’è‰²å¯¹åº”çš„èœå•è·¯ç”±æ•°æ®</li>
</ol>
<p>é™æ€è·¯ç”±æ˜¯ç›´æ¥ç”±å‰ç«¯å®šä¹‰ï¼Œä¸ä¼šä»åç«¯æ¥å£è¿”å›ã€ä¸ä¼šæ ¹æ®ç”¨æˆ·è§’è‰²åŠ¨æ€å˜åŒ–ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†è·¯ç”±æˆ‘ä»¬ç›´æ¥å†™å¥½ç„¶åæ³¨å†Œåˆ° Vue Router ä¸­å³å¯</p>
<p>Vue Router é…ç½®ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { createRouter, createWebHashHistory } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">RouteRecordRaw</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">App</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">ImportGlobRoutes</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./typing'</span>;
<span class="hljs-keyword">import</span> { extractRoutes } <span class="hljs-keyword">from</span> <span class="hljs-string">'./helpers'</span>;
<span class="hljs-keyword">import</span> { afterEachGuard, beforeEachGuard } <span class="hljs-keyword">from</span> <span class="hljs-string">'./guards'</span>;

<span class="hljs-comment">/** é™æ€è·¯ç”± */</span>
<span class="hljs-keyword">const</span> staticRoutes = <span class="hljs-title function_">extractRoutes</span>(
  <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">glob</span>&lt;<span class="hljs-title class_">ImportGlobRoutes</span>&gt;([<span class="hljs-string">'./modules/constant-routes/**/*.ts'</span>], {
    <span class="hljs-attr">eager</span>: <span class="hljs-literal">true</span>,
  }),
);

<span class="hljs-comment">/** ç³»ç»Ÿè·¯ç”± */</span>
<span class="hljs-keyword">const</span> systemRoutes = <span class="hljs-title function_">extractRoutes</span>(
  <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">glob</span>&lt;<span class="hljs-title class_">ImportGlobRoutes</span>&gt;([<span class="hljs-string">'./modules/system-routes/**/*.ts'</span>], {
    <span class="hljs-attr">eager</span>: <span class="hljs-literal">true</span>,
  }),
);

<span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>({
  <span class="hljs-attr">history</span>: <span class="hljs-title function_">createWebHashHistory</span>(),
  <span class="hljs-attr">routes</span>: [...staticRoutes, ...systemRoutes] <span class="hljs-keyword">as</span> <span class="hljs-title class_">RouteRecordRaw</span>[],
  <span class="hljs-attr">strict</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">scrollBehavior</span>: <span class="hljs-function">() =&gt;</span> ({ <span class="hljs-attr">left</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">top</span>: <span class="hljs-number">0</span> }),
});

<span class="hljs-title function_">beforeEachGuard</span>(router);
<span class="hljs-title function_">afterEachGuard</span>(router);

<span class="hljs-comment">/** åˆå§‹åŒ–è·¯ç”± */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">initRouter</span>(<span class="hljs-params">app: App&lt;Element&gt;</span>) {
  app.<span class="hljs-title function_">use</span>(router);
}

<span class="hljs-keyword">export</span> { router, initRouter, staticRoutes };

</code></pre>
<blockquote>
<p>å›¾ä¸­çš„é™æ€è·¯ç”±å’Œç³»ç»Ÿè·¯ç”±æ˜¯åŒä¸€ç±»è·¯ç”±æ•°æ®ï¼Œå³é™æ€è·¯ç”±</p>
</blockquote>
<p>è¿™ä¸ªé…ç½®æ–‡ä»¶å¯ä»¥åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbryqiu%2Fvue-clean-admin%2Fblob%2Fmain%2Fsrc%2Frouter%2Findex.ts" target="_blank" title="https://github.com/bryqiu/vue-clean-admin/blob/main/src/router/index.ts" ref="nofollow noopener noreferrer">router/index.ts</a> æ‰¾åˆ°</p>
<p>è¿™ä¸ªåŸºæœ¬çš„ Vue Router é…ç½®ï¼Œåšäº†è¿™ä¹ˆå‡ ä»¶äº‹ï¼š</p>
<ol>
<li>å¯¼å…¥ <code>modules</code> æ–‡ä»¶å¤¹ä¸‹çš„é™æ€è·¯ç”±è¿›è¡Œæ³¨å†Œ</li>
<li>è·¯ç”±åˆå§‹åŒ–é…ç½® <code>initRouter</code> ï¼Œåœ¨ <code>main.ts</code> ä¸­è°ƒç”¨</li>
<li>æ³¨å†Œå…¨å±€å‰ç½®å®ˆå« <code>beforeEach</code>ã€å…¨å±€åç½®å®ˆå« <code>afterEach</code></li>
</ol>
<p>æˆ‘ä»¬å®ç°åŠ¨æ€è·¯ç”±æ³¨å†Œçš„é€»è¾‘å°±å†™åœ¨ <code>beforeEach</code> ä¸­</p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œä½¿ç”¨äº† <code>import.meta.glob</code> æ¥åŠ¨æ€å¯¼å…¥æŒ‡å®šè·¯å¾„ä¸‹çš„æ–‡ä»¶æ¨¡å—ï¼Œè¿™æ˜¯ <code>Vite</code> æä¾›çš„ä¸€ç§å¯¼å…¥æ–¹å¼ï¼Œå‚è€ƒï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcn.vite.dev%2Fguide%2Ffeatures%23glob-import" target="_blank" title="https://cn.vite.dev/guide/features#glob-import" ref="nofollow noopener noreferrer">Vite Glob å¯¼å…¥</a></p>
<h3 data-id="heading-12">è·¯ç”±å®ˆå«ä¸åŠ¨æ€æ³¨å†Œ</h3>
<p>è·¯ç”±å®ˆå«æ˜¯ Vue Router æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œä¸»è¦ç”¨æ¥é€šè¿‡è·³è½¬æˆ–å–æ¶ˆçš„æ–¹å¼å®ˆå«å¯¼èˆªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Frouter.vuejs.org%2Fzh%2Fguide%2Fadvanced%2Fnavigation-guards.html" target="_blank" title="https://router.vuejs.org/zh/guide/advanced/navigation-guards.html" ref="nofollow noopener noreferrer">Vue Router è·¯ç”±å®ˆå«</a></p>
<p>é‡å¤´æˆåœ¨å…¨å±€å‰ç½®å®ˆå« <code>router.beforeEach</code> ä¸­å®ç°ï¼Œæ¥çœ‹çœ‹æˆ‘ä»¬åšå“ªäº›äº‹ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> { <span class="hljs-variable constant_">ROUTE_NAMES</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'../config'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-keyword">type</span> { <span class="hljs-title class_">RouteRecordNameGeneric</span>, <span class="hljs-title class_">RouteRecordRaw</span>, <span class="hljs-title class_">Router</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'vue-router'</span>;
<span class="hljs-keyword">import</span> { getLocalAccessToken } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/permission'</span>;
<span class="hljs-keyword">import</span> { userService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/services/api'</span>;
<span class="hljs-keyword">import</span> { nprogress } <span class="hljs-keyword">from</span> <span class="hljs-string">'./helpers'</span>;
<span class="hljs-keyword">import</span> { storeToRefs } <span class="hljs-keyword">from</span> <span class="hljs-string">'pinia'</span>;

<span class="hljs-comment">/** ç™»å½•è®¤è¯é¡µé¢ï¼šè´¦å·ç™»å½•é¡µã€çŸ­ä¿¡ç™»å½•é¡µã€äºŒç»´ç ç™»å½•é¡µã€å¿˜è®°å¯†ç é¡µã€æ³¨å†Œé¡µ... */</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">authPages</span>: <span class="hljs-title class_">RouteRecordNameGeneric</span>[] = [
  <span class="hljs-variable constant_">ROUTE_NAMES</span>.<span class="hljs-property">AUTH</span>,
  <span class="hljs-variable constant_">ROUTE_NAMES</span>.<span class="hljs-property">ACCOUNT_LOGIN</span>,
  <span class="hljs-variable constant_">ROUTE_NAMES</span>.<span class="hljs-property">SMS_LOGIN</span>,
  <span class="hljs-variable constant_">ROUTE_NAMES</span>.<span class="hljs-property">QR_LOGIN</span>,
  <span class="hljs-variable constant_">ROUTE_NAMES</span>.<span class="hljs-property">FORGOT_PASSWORD</span>,
  <span class="hljs-variable constant_">ROUTE_NAMES</span>.<span class="hljs-property">REGISTER</span>,
];

<span class="hljs-comment">/** é¡µé¢ç™½åå•ï¼šä¸éœ€è¦ç™»å½•ä¹Ÿèƒ½è®¿é—®çš„é¡µé¢ */</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">pageWhiteList</span>: <span class="hljs-title class_">RouteRecordNameGeneric</span>[] = [...authPages];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">beforeEachGuard</span>(<span class="hljs-params">router: Router</span>) {
  router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-keyword">async</span> (to) =&gt; {
    <span class="hljs-comment">/** è¿›åº¦æ¡ï¼šå¼€å§‹ */</span>
    nprogress.<span class="hljs-title function_">start</span>();

    <span class="hljs-keyword">const</span> { <span class="hljs-attr">name</span>: <span class="hljs-title class_">RouteName</span> } = to;

    <span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>();
    <span class="hljs-keyword">const</span> { getAccessToken, getRoutesAddStatus, registerRoutes } = <span class="hljs-title function_">storeToRefs</span>(userStore);
    <span class="hljs-keyword">const</span> { setRoutesAddStatus, setUserInfo, logout } = userStore;

    <span class="hljs-comment">/** è®¿é—®ä»¤ç‰Œ */</span>
    <span class="hljs-keyword">const</span> accessToken = getAccessToken.<span class="hljs-property">value</span> || <span class="hljs-title function_">getLocalAccessToken</span>();

    <span class="hljs-comment">// 1.ç”¨æˆ·æœªç™»å½•ï¼ˆæ—  Tokenï¼‰</span>
    <span class="hljs-keyword">if</span> (!accessToken) {
      <span class="hljs-keyword">const</span> isWhitePage = pageWhiteList.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">RouteName</span>);
      <span class="hljs-comment">// 1.1 æœªç™»å½•ï¼Œå¦‚æœè®¿é—®çš„æ˜¯ç™½åå•ä¸­çš„é¡µé¢ï¼Œç›´æ¥æ”¾è¡Œ</span>
      <span class="hljs-keyword">if</span> (isWhitePage) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;

      nprogress.<span class="hljs-title function_">done</span>();

      <span class="hljs-comment">// 1.2 æœªç™»å½•åˆä¸åœ¨ç™½åå•ï¼Œåˆ™æ‹¦æˆªå¹¶é‡å®šå‘åˆ°ç™»å½•é¡µ</span>
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-variable constant_">ROUTE_NAMES</span>.<span class="hljs-property">ACCOUNT_LOGIN</span> };
    }

    <span class="hljs-comment">// å¦‚æœå·²ç™»å½•ç”¨æˆ·è¯•å›¾è®¿é—®ç™»å½•é¡µï¼Œé¿å…é‡å¤ç™»å½•ï¼Œè¦å¼ºåˆ¶é‡å®šå‘åˆ°é¦–é¡µ</span>
    <span class="hljs-keyword">if</span> (authPages.<span class="hljs-title function_">includes</span>(<span class="hljs-title class_">RouteName</span>)) {
      nprogress.<span class="hljs-title function_">done</span>();
      <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-variable constant_">ROUTE_NAMES</span>.<span class="hljs-property">ROOT</span> };
    }

    <span class="hljs-comment">// åˆ¤æ–­æ˜¯å¦éœ€è¦åŠ¨æ€åŠ è½½è·¯ç”±çš„æ“ä½œ</span>
    <span class="hljs-keyword">if</span> (!getRoutesAddStatus.<span class="hljs-property">value</span>) {
      <span class="hljs-comment">// isRoutesAdded é»˜è®¤ä¸º falseï¼ˆæœªæŒä¹…åŒ–ï¼‰ï¼Œåœ¨å·²ç»åŠ¨æ€æ³¨å†Œè¿‡æ—¶ä¼šè®¾ç½®ä¸ºtrueï¼Œåœ¨é¡µé¢åˆ·æ–°æ—¶ä¼šé‡ç½®ä¸º false</span>
      <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// 1.æ‹‰å–ç”¨æˆ·ä¿¡æ¯</span>
        <span class="hljs-keyword">const</span> userInfo = <span class="hljs-keyword">await</span> userService.<span class="hljs-title function_">getUserInfo</span>();

        <span class="hljs-comment">// 2.å°†ç”¨æˆ·ä¿¡æ¯å­˜å…¥ Store</span>
        <span class="hljs-title function_">setUserInfo</span>(userInfo);

        <span class="hljs-comment">// 3.åŠ¨æ€æ³¨å†Œè·¯ç”±ï¼ŒregisterRoutes æ˜¯å¤„ç†åçš„è·¯ç”±è¡¨</span>
        registerRoutes.<span class="hljs-property">value</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">route</span>) =&gt;</span> {
          router.<span class="hljs-title function_">addRoute</span>(route <span class="hljs-keyword">as</span> <span class="hljs-built_in">unknown</span> <span class="hljs-keyword">as</span> <span class="hljs-title class_">RouteRecordRaw</span>);
        });

        <span class="hljs-comment">// 4.æ ‡è®°è·¯ç”±å·²æ·»åŠ </span>
        <span class="hljs-title function_">setRoutesAddStatus</span>(<span class="hljs-literal">true</span>);

        <span class="hljs-comment">// 5.ä¸­æ–­å½“å‰å¯¼èˆªï¼Œé‡æ–°è¿›å…¥å®ˆå«</span>
        <span class="hljs-keyword">return</span> { ...to, <span class="hljs-attr">replace</span>: <span class="hljs-literal">true</span> };
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-comment">// è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥ï¼ˆå¦‚ Token è¿‡æœŸå¤±æ•ˆã€ç½‘ç»œå¼‚å¸¸ï¼‰</span>
        <span class="hljs-title function_">logout</span>();
        nprogress.<span class="hljs-title function_">done</span>();
        <span class="hljs-comment">// é‡å®šå‘å›ç™»å½•é¡µï¼Œè®©ç”¨æˆ·é‡æ–°ç™»å½•</span>
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">name</span>: <span class="hljs-variable constant_">ROUTE_NAMES</span>.<span class="hljs-property">ACCOUNT_LOGIN</span> };
      }
    }

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  });
}

</code></pre>
<blockquote>
<p>åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbryqiu%2Fvue-clean-admin%2Fblob%2Fmain%2Fsrc%2Frouter%2Fguards%2Fbefore-each-guard.ts" target="_blank" title="https://github.com/bryqiu/vue-clean-admin/blob/main/src/router/guards/before-each-guard.ts" ref="nofollow noopener noreferrer">before-each-guard.ts</a> æ‰¾åˆ°å…¨éƒ¨ä»£ç </p>
</blockquote>
<p>ä¸Šé¢çš„ä»£ç å·²ç»ç»™å‡ºäº†å¾ˆè¯¦ç»†çš„æ³¨é‡Šï¼Œä»æ•´ä½“è§’åº¦æ¥è®²ï¼Œæˆ‘ä»¬åšäº†ä¸¤ä»¶äº‹ï¼š</p>
<ol>
<li>å¤„ç†ä¸€äº›æƒ…å†µï¼Œæ¯”å¦‚ç”¨æˆ·æœªç™»å½•ã€ç™»å½•åè®¿é—®ç™»å½•é¡µã€ç™½åå•ç­‰æƒ…å†µ</li>
<li>æ‹‰å–ç”¨æˆ·ä¿¡æ¯ï¼ŒåŠ¨æ€æ³¨å†Œè·¯ç”±</li>
</ol>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52a61b13fbbd43698183f2e65dee3b47~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2B5LqU5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770288982&amp;x-signature=bEbJ33PHj4SjT%2BBG4X%2BVC942%2BOA%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨è·¯ç”±å®ˆå«ä¸­â€œæ‹‰å–ç”¨æˆ·ä¿¡æ¯â€ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œé™¤äº†è¿”å›ç”¨æˆ·æœ¬èº«çš„ä¿¡æ¯å¤–ï¼Œè¿˜ä¼šç»™åˆ°æƒé™è·¯ç”±ä¿¡æ¯ã€æƒé™ç ä¿¡æ¯ï¼Œè¿™é‡Œçš„æ•°æ®ç»“æ„å¯ä»¥è·Ÿåç«¯è¿›è¡Œçº¦å®š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1e69f7c3abe341d4b51f2033820b757e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2B5LqU5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770288982&amp;x-signature=ciXyPsIRKCJK%2BwXwvHogFOQlqBg%3D" alt="image.png" loading="lazy"/></p>
<p>æ¯”å¦‚åœ¨ vue-clean-admin ä¸­ï¼Œè¿”å›çš„æ•°æ®ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p>
<blockquote>
<p>åœ¨ ApiFox æ–‡æ¡£å¯ä»¥æ‰¾åˆ°ç”¨æˆ·æ¥å£è¯´æ˜ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fclean-admin.apifox.cn%2F336121333e0" target="_blank" title="https://clean-admin.apifox.cn/336121333e0" ref="nofollow noopener noreferrer">ApiFox æ–‡æ¡£ - ç”¨æˆ·ä¿¡æ¯</a></p>
</blockquote>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a1983f04833498ca8738fd8e027677c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2B5LqU5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770288982&amp;x-signature=TEQWMgkv5Yb42BKazc%2BroN1epGE%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-13">åç«¯è·¯ç”±ç»“æ„çš„è½¬åŒ–</h3>
<p>åœ¨é€šè¿‡â€œæ‹‰å–ç”¨æˆ·ä¿¡æ¯â€æ‹¿åˆ°è·¯ç”±æ•°æ®åï¼Œå¹¶ä¸æ˜¯ç›´æ¥æ³¨å†Œåˆ° Vue Routerï¼Œè€Œæ˜¯éœ€è¦è¿›è¡Œå¤„ç†è½¬åŒ–ï¼Œæ‰èƒ½ç¬¦åˆ Vue Router å®šä¹‰çš„è·¯ç”±è¡¨ç»“æ„ï¼Œ<code>registerRoutes</code> å°±æ˜¯å¤„ç†åçš„è·¯ç”±è¡¨ï¼Œå¤„ç†åçš„ç±»å‹å®šä¹‰å¯ä»¥å‚è€ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbryqiu%2Fvue-clean-admin%2Fblob%2Fmain%2Fsrc%2Ftypings%2Frouter.d.ts%23L7-L64" target="_blank" title="https://github.com/bryqiu/vue-clean-admin/blob/main/src/typings/router.d.ts#L7-L64" ref="nofollow noopener noreferrer"><code>CustomRouteRecordRaw</code></a></p>
<p>å¤„ç†ä»€ä¹ˆå†…å®¹å‘¢ï¼Ÿ</p>
<p>æ¯”å¦‚ï¼Œæ¥å£æ‹¿åˆ°çš„è·¯ç”±æ•°æ®å­—æ®µ <code>component</code> æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²è·¯å¾„ï¼Œè¿™æ˜¯ä¸€ä¸ªæ˜ å°„è·¯å¾„ï¼Œæ˜ å°„åˆ°å‰ç«¯é¡¹ç›®ä¸‹çš„çœŸå®ç»„ä»¶è·¯å¾„</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e45648c28a1842d989038a603c9d8fdc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2B5LqU5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770288982&amp;x-signature=3pupbwBxPl8RwEVJMSVXNGpW8Ws%3D" alt="image.png" loading="lazy"/></p>
<p>å®ç°è·¯ç”±ç»“æ„è½¬æ¢çš„ä»£ç ï¼Œæˆ‘å†™åœ¨äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbryqiu%2Fvue-clean-admin%2Fblob%2Fmain%2Fsrc%2Frouter%2Fhelpers.ts" target="_blank" title="https://github.com/bryqiu/vue-clean-admin/blob/main/src/router/helpers.ts" ref="nofollow noopener noreferrer">router/helpers.ts</a>ï¼Œæœ€ä¸»è¦é€»è¾‘æ˜¯ <code>generateRoutes</code> å‡½æ•°ï¼š</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">/**
 * ç”Ÿæˆç¬¦åˆ Vue Router å®šä¹‰çš„è·¯ç”±è¡¨
 * <span class="hljs-doctag">@param</span> routes æœªè½¬åŒ–çš„è·¯ç”±æ•°æ®
 * <span class="hljs-doctag">@returns</span> ç¬¦åˆç»“æ„çš„è·¯ç”±è¡¨
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">generateRoutes</span>(<span class="hljs-params">routes: PermissionRoute[]</span>): <span class="hljs-title class_">CustomRouteRecordRaw</span>[] {
  <span class="hljs-keyword">if</span> (!routes.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> [];
  <span class="hljs-keyword">return</span> routes.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">route</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> { path, name, redirect, <span class="hljs-keyword">type</span>, meta } = route;
    <span class="hljs-keyword">const</span> <span class="hljs-attr">baseRoute</span>: <span class="hljs-title class_">Omit</span>&lt;<span class="hljs-title class_">CustomRouteRecordRaw</span>, <span class="hljs-string">'children'</span>&gt; = {
      path,
      name,
      redirect,
      <span class="hljs-keyword">type</span>,
      <span class="hljs-attr">component</span>: <span class="hljs-title function_">loadComponent</span>(route),
      <span class="hljs-attr">meta</span>: {
        ...meta,
        <span class="hljs-comment">// æ˜¯å¦åœ¨ä¾§è¾¹æ èœå•ä¸­éšè—</span>
        <span class="hljs-attr">hideMenu</span>: route.<span class="hljs-property">meta</span>?.<span class="hljs-property">hideMenu</span> || <span class="hljs-literal">false</span>,
        <span class="hljs-comment">// æ˜¯å¦åœ¨é¢åŒ…å±‘ä¸­éšè—</span>
        <span class="hljs-attr">hideBreadcrumb</span>: route.<span class="hljs-property">meta</span>?.<span class="hljs-property">hideBreadcrumb</span> || <span class="hljs-literal">false</span>,
        <span class="hljs-comment">// å½“åªæœ‰ä¸€ä¸ªå­èœå•æ—¶ï¼Œæ˜¯å¦éšè—çˆ¶çº§èœå•ç›´æ¥æ˜¾ç¤ºå­èœå•å†…å®¹</span>
        <span class="hljs-attr">hideParentIfSingleChild</span>: route.<span class="hljs-property">meta</span>?.<span class="hljs-property">hideParentIfSingleChild</span> || <span class="hljs-literal">false</span>,
      },
    };

    <span class="hljs-comment">// æ˜¯ç›®å½•æ•°æ®ï¼Œè®¾ç½®é‡å®šå‘è·¯å¾„</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">type</span> === <span class="hljs-title class_">PermissionRouteTypeEnum</span>.<span class="hljs-property">DIR</span>) {
      baseRoute.<span class="hljs-property">redirect</span> = redirect || <span class="hljs-title function_">getRedirectPath</span>(route);
    }
    <span class="hljs-comment">// é€’å½’å¤„ç†å­è·¯ç”±</span>
    <span class="hljs-keyword">const</span> processedChildren =
      route.<span class="hljs-property">children</span> &amp;&amp; route.<span class="hljs-property">children</span>.<span class="hljs-property">length</span> ? <span class="hljs-title function_">generateRoutes</span>(route.<span class="hljs-property">children</span>) : <span class="hljs-literal">undefined</span>;

    <span class="hljs-keyword">return</span> {
      ...baseRoute,
      ...(processedChildren ? { <span class="hljs-attr">children</span>: processedChildren } : {}),
    };
  });
}
</code></pre>
<p>ç»è¿‡ <code>generateRoutes</code> å¤„ç†çš„è·¯ç”±è¡¨ï¼Œå† <code>addRoute</code> åˆ° Vue Router ä¸­</p>
<h3 data-id="heading-14">ä¾§è¾¹æ èœå•çš„æ¸²æŸ“</h3>
<p>å½“è·¯ç”±å®ˆå«çš„é€»è¾‘èµ°å®Œåï¼Œå°±è¿›å…¥åˆ°é¦–é¡µï¼Œåœ¨é¦–é¡µä¸­ï¼Œæˆ‘ä»¬ä¼šæ ¹æ®è·¯ç”±è¡¨ï¼ˆè½¬æ¢è¿‡çš„ï¼‰æ¥æ¸²æŸ“ä¾§è¾¹æ èœå•</p>
<p>ä¾§è¾¹æ èœå•æ˜¯æ‹¿ Element Plus çš„ <code>el-menu</code> ç»„ä»¶æ¥åšçš„ï¼Œæˆ‘ä»¬å°è£…äº†ä¸€ä¸ªèœå•ç»„ä»¶ï¼Œé™¤äº†æ¸²æŸ“è·¯ç”±æ•°æ®å¤–ï¼Œä¹Ÿæ›´æ–¹ä¾¿è‡ªå®šä¹‰é…ç½®èœå•å±æ€§ï¼ˆ<code>meta</code>ï¼‰æ¥å®ç°ä¸€äº›åŠŸèƒ½</p>
<p>å°è£…ä¸éš¾ï¼Œå°±æ˜¯æ‹¿å¤„ç†åçš„è·¯ç”±è¡¨å¾ªç¯æ¸²æŸ“ <code>menu-item</code>ï¼Œæ ¹æ® <code>meta</code> é…ç½®é¡¹æ¥å®ç°"æ˜¯å¦éšè—èœå•"ï¼Œ"å½“åªæœ‰ä¸€ä¸ªå­èœå•æ—¶ï¼Œæ˜¯å¦éšè—çˆ¶çº§èœå•ç›´æ¥æ˜¾ç¤ºå­èœå•å†…å®¹"ç­‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc22c2cff5504c7da9f622501542575d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y2B5LqU5Li2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770288982&amp;x-signature=N30nuLBJhKAnO0gn1RD1N8kky4E%3D" alt="image.png" loading="lazy"/></p>
<p>èœå•ç»„ä»¶çš„å°è£…ä»£ç åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbryqiu%2Fvue-clean-admin%2Ftree%2Fmain%2Fsrc%2Flayout%2Fcomponents%2Fbasic-menu" target="_blank" title="https://github.com/bryqiu/vue-clean-admin/tree/main/src/layout/components/basic-menu" ref="nofollow noopener noreferrer">basic-menu</a> æ–‡ä»¶å¤¹ä¸­</p>
<p>åˆ°è¿™ä¸€æ­¥ï¼Œå·²ç»å®ç°äº†åŠ¨æ€æƒé™è·¯ç”±åŠä¾§è¾¹æ èœå•çš„æ¸²æŸ“ï¼Œä½†è¿˜ä¸ç®—å®Œ</p>
<p>å› ä¸ºæˆ‘ä»¬è¿˜ä¸èƒ½è‡ªç”±å®šä¹‰èœå•ä¿¡æ¯ã€è§’è‰²ä¿¡æ¯ã€ç”¨æˆ·ä¿¡æ¯æ¥å®ç°æƒé™æ§åˆ¶ï¼Œåœ¨ä¸‹ä¸€ç¯‡æ–‡ç« æ¥èŠèŠç®¡ç†æ¨¡å—</p>
<h2 data-id="heading-15">äº†è§£æ›´å¤š</h2>
<p>ç³»åˆ—ä¸“æ åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbryqiu%2FBlog" target="_blank" title="https://github.com/bryqiu/Blog" ref="nofollow noopener noreferrer">GitHub åšå®¢</a> | <a href="https://juejin.cn/column/7437267529330901026" target="_blank" title="https://juejin.cn/column/7437267529330901026">æ˜é‡‘ä¸“æ </a> | <a href="https://link.juejin.cn?target=https%3A%2F%2Fsegmentfault.com%2Fblog%2Fadmin_guide" target="_blank" title="https://segmentfault.com/blog/admin_guide" ref="nofollow noopener noreferrer">æ€å¦ä¸“æ </a></p>
<p>å®æˆ˜é¡¹ç›®ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbryqiu%2Fvue-clean-admin" target="_blank" title="https://github.com/bryqiu/vue-clean-admin" ref="nofollow noopener noreferrer">vue-clean-admin</a></p>
<h2 data-id="heading-16">äº¤æµè®¨è®º</h2>
<p>æ–‡ç« å¦‚æœ‰é”™è¯¯æˆ–éœ€è¦æ”¹è¿›ä¹‹å¤„ï¼Œæ¬¢è¿æŒ‡æ­£</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é£ä¹¦AIæœºå™¨äººæµå¼è¾“å‡ºå®è·µï¼šä»æ¶ˆæ¯ç¼–è¾‘è¸©å‘åˆ°å¡ç‰‡æ›´æ–°æœ€ä½³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7600990891206819867</link>    <guid>https://juejin.cn/post/7600990891206819867</guid>    <pubDate>2026-01-30T09:50:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600990891206819867" data-draft-id="7600953879500521523" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é£ä¹¦AIæœºå™¨äººæµå¼è¾“å‡ºå®è·µï¼šä»æ¶ˆæ¯ç¼–è¾‘è¸©å‘åˆ°å¡ç‰‡æ›´æ–°æœ€ä½³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="ç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-30T09:50:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="moshuying"/> <meta itemprop="url" content="https://juejin.cn/user/2700056289356936"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é£ä¹¦AIæœºå™¨äººæµå¼è¾“å‡ºå®è·µï¼šä»æ¶ˆæ¯ç¼–è¾‘è¸©å‘åˆ°å¡ç‰‡æ›´æ–°æœ€ä½³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2700056289356936/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    moshuying
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:50:01.000Z" title="Fri Jan 30 2026 09:50:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æœ¬æ–‡æ€»ç»“äº†åœ¨å¼€å‘ AI Agent + é£ä¹¦æœºå™¨äººåœºæ™¯ä¸‹ï¼Œå®ç°æµå¼è¾“å‡ºæ—¶è¸©è¿‡çš„å‘å’Œæœ€ç»ˆçš„å·¥ç¨‹æ–¹æ¡ˆã€‚é€‚åˆæœ‰é£ä¹¦å¼€æ”¾å¹³å°å¼€å‘ç»éªŒã€æ­£åœ¨æ„å»º AI åº”ç”¨çš„å·¥ç¨‹å¸ˆé˜…è¯»ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯ä¸é—®é¢˜</h2>
<h3 data-id="heading-1">1.1 åœºæ™¯æè¿°</h3>
<p>åœ¨ AI Agent åœºæ™¯ä¸‹ï¼Œå¤§æ¨¡å‹çš„è¾“å‡ºå¾€å¾€æ˜¯<strong>æµå¼</strong>çš„ï¼ˆStreamingï¼‰ï¼Œå³å†…å®¹é€æ­¥ç”Ÿæˆã€é€æ­¥è¿”å›ã€‚ä¸ºäº†æå‡ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨é£ä¹¦æœºå™¨äººä¸­å®ç°ç±»ä¼¼ ChatGPT çš„ã€Œæ‰“å­—æœºæ•ˆæœã€â€”â€”ç”¨æˆ·å‘é€æ¶ˆæ¯åï¼Œæœºå™¨äººå…ˆå›å¤ä¸€æ¡ã€Œæ­£åœ¨å¤„ç†...ã€ï¼Œç„¶åéšç€ Agent çš„è¾“å‡ºä¸æ–­æ›´æ–°è¿™æ¡æ¶ˆæ¯ï¼Œæœ€ç»ˆæ˜¾ç¤ºå®Œæ•´å›å¤ã€‚</p>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User as ç”¨æˆ·
    participant Bot as é£ä¹¦æœºå™¨äºº
    participant Agent as AI Agent
    
    User-&gt;&gt;Bot: å‘é€æ¶ˆæ¯
    Bot-&gt;&gt;User: å›å¤ã€Œæ­£åœ¨å¤„ç†...ã€
    Bot-&gt;&gt;Agent: è°ƒç”¨ Agent
    loop æµå¼è¾“å‡º
        Agent--&gt;&gt;Bot: chunk_1
        Bot-&gt;&gt;User: æ›´æ–°æ¶ˆæ¯ä¸º chunk_1
        Agent--&gt;&gt;Bot: chunk_1 + chunk_2
        Bot-&gt;&gt;User: æ›´æ–°æ¶ˆæ¯ä¸º chunk_1 + chunk_2
    end
    Agent--&gt;&gt;Bot: å®Œæ•´å†…å®¹
    Bot-&gt;&gt;User: æœ€ç»ˆæ›´æ–°
</code></pre>
<h3 data-id="heading-2">1.2 è¸©å‘ï¼šæ¶ˆæ¯ç¼–è¾‘æ¬¡æ•°ä¸Šé™</h3>
<p>æœ€åˆçš„å®ç°æ–¹æ¡ˆæ˜¯ä½¿ç”¨é£ä¹¦çš„<strong>ç¼–è¾‘æ¶ˆæ¯ API</strong>ï¼ˆ<code>PATCH /open-apis/im/v1/messages/:message_id</code>ï¼‰æ¥æ›´æ–°å·²å‘é€çš„æ–‡æœ¬æ¶ˆæ¯ã€‚</p>
<p><strong>é—®é¢˜æš´éœ²</strong>ï¼šå½“ Agent è¾“å‡ºè¾ƒé•¿ã€chunk è¾ƒå¤šæ—¶ï¼Œç¼–è¾‘è¯·æ±‚ä¼š<strong>é™é»˜å¤±è´¥</strong>â€”â€”API è¿”å›æˆåŠŸï¼Œä½†æ¶ˆæ¯å†…å®¹ä¸å†æ›´æ–°ã€‚</p>
<p><strong>æ ¹å› åˆ†æ</strong>ï¼šé£ä¹¦å¯¹å•æ¡æ¶ˆæ¯çš„ç¼–è¾‘æ¬¡æ•°æœ‰<strong>éšæ€§ä¸Šé™</strong>ï¼ˆå®˜æ–¹æ–‡æ¡£æœªæ˜ç¡®è¯´æ˜å…·ä½“æ•°å€¼ï¼‰ï¼Œè¶…è¿‡ä¸Šé™åç¼–è¾‘æ“ä½œä¼šè¢«å¿½ç•¥ã€‚</p>




















<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ç¼–è¾‘æ¬¡æ•°é™åˆ¶</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>æ¶ˆæ¯ç¼–è¾‘ API</td><td>æœ‰ä¸Šé™ï¼ˆçº¦ 20-30 æ¬¡ï¼‰</td><td>å°‘é‡æ›´æ–°ã€éæµå¼åœºæ™¯</td></tr><tr><td>å¡ç‰‡å®ä½“æ›´æ–°</td><td>æ— æ˜ç¡®ä¸Šé™</td><td>é«˜é¢‘æ›´æ–°ã€æµå¼è¾“å‡ºåœºæ™¯</td></tr></tbody></table>
<h2 data-id="heading-3">äºŒã€è§£å†³æ–¹æ¡ˆï¼šå¡ç‰‡å®ä½“ï¼ˆCardKitï¼‰</h2>
<h3 data-id="heading-4">2.1 æ–¹æ¡ˆå¯¹æ¯”</h3>
<p>é£ä¹¦æä¾›äº†ä¸¤ç§æ¶ˆæ¯æ›´æ–°æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart LR
    subgraph æ–¹æ¡ˆA["æ–¹æ¡ˆ A: æ¶ˆæ¯ç¼–è¾‘"]
        A1[å‘é€æ–‡æœ¬æ¶ˆæ¯] --&gt; A2[è·å– message_id]
        A2 --&gt; A3[è°ƒç”¨ç¼–è¾‘ API]
        A3 --&gt; A4{è¶…è¿‡ä¸Šé™?}
        A4 --&gt;|æ˜¯| A5[é™é»˜å¤±è´¥]
        A4 --&gt;|å¦| A3
    end
    
    subgraph æ–¹æ¡ˆB["æ–¹æ¡ˆ B: å¡ç‰‡å®ä½“"]
        B1[åˆ›å»ºå¡ç‰‡å®ä½“] --&gt; B2[è·å– card_id]
        B2 --&gt; B3[å‘é€å¡ç‰‡æ¶ˆæ¯]
        B3 --&gt; B4[è°ƒç”¨å¡ç‰‡æ›´æ–° API]
        B4 --&gt; B4
    end
</code></pre>
<p><strong>å¡ç‰‡å®ä½“çš„ä¼˜åŠ¿</strong>ï¼š</p>
<ol>
<li><strong>æ— ç¼–è¾‘æ¬¡æ•°é™åˆ¶</strong>ï¼šé€‚åˆé«˜é¢‘æ›´æ–°åœºæ™¯</li>
<li><strong>æ”¯æŒ JSON 2.0</strong>ï¼šå¯Œæ–‡æœ¬ã€Markdownã€äº¤äº’ç»„ä»¶ç­‰</li>
<li><strong>æµå¼æ›´æ–°ä¸“ç”¨é…ç½®</strong>ï¼š<code>streaming_mode</code> å¯ä¼˜åŒ–å®¢æˆ·ç«¯æ¸²æŸ“</li>
</ol>
<h3 data-id="heading-5">2.2 æ ¸å¿ƒæµç¨‹</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">sequenceDiagram
    participant User as ç”¨æˆ·
    participant Bot as é£ä¹¦æœºå™¨äºº
    participant CardKit as CardKit API
    participant Agent as AI Agent
    
    User-&gt;&gt;Bot: å‘é€æ¶ˆæ¯
    Bot-&gt;&gt;CardKit: åˆ›å»ºå¡ç‰‡å®ä½“
    CardKit--&gt;&gt;Bot: è¿”å› card_id
    Bot-&gt;&gt;User: å‘é€å¡ç‰‡æ¶ˆæ¯ï¼ˆå…³è” card_idï¼‰
    Bot-&gt;&gt;Agent: è°ƒç”¨ Agent
    loop æµå¼è¾“å‡ºï¼ˆå¸¦èŠ‚æµï¼‰
        Agent--&gt;&gt;Bot: accumulated_content
        Bot-&gt;&gt;CardKit: æ›´æ–°å¡ç‰‡å†…å®¹ï¼ˆcard_id, seq++ï¼‰
        CardKit--&gt;&gt;User: æ¨é€æ›´æ–°
    end
    Bot-&gt;&gt;CardKit: å…œåº•æ›´æ–°ï¼ˆæœ€ç»ˆå†…å®¹ï¼‰
</code></pre>
<h2 data-id="heading-6">ä¸‰ã€å·¥ç¨‹å®ç°</h2>
<h3 data-id="heading-7">3.1 æ¨¡å—æ¶æ„</h3>
<p>ä¸ºäº†å¯ç»´æŠ¤æ€§å’Œå¯å¤ç”¨æ€§ï¼Œå°†é£ä¹¦æ’ä»¶æ‹†åˆ†ä¸ºä»¥ä¸‹æ¨¡å—ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph TB
    subgraph feishu["é£ä¹¦æ’ä»¶æ¨¡å—"]
        client["client.py&lt;br/&gt;ä¸»å®¢æˆ·ç«¯ &amp; äº‹ä»¶è·¯ç”±"]
        card["card.py&lt;br/&gt;å¡ç‰‡åˆ›å»º/æ›´æ–°/å‘é€"]
        message["message.py&lt;br/&gt;æ–‡æœ¬æ¶ˆæ¯æ“ä½œ"]
        agent["agent.py&lt;br/&gt;Agent æµå¼è°ƒç”¨"]
    end
    
    client --&gt; card
    client --&gt; message
    client --&gt; agent
    agent --&gt; card
    agent --&gt; message
</code></pre>

























<table><thead><tr><th>æ¨¡å—</th><th>èŒè´£</th></tr></thead><tbody><tr><td><code>client.py</code></td><td>ä¸»ç±»ï¼ŒWebSocket äº‹ä»¶å¤„ç†ï¼Œæ¶ˆæ¯è·¯ç”±</td></tr><tr><td><code>card.py</code></td><td>CardMixinï¼šå¡ç‰‡æ¨¡æ¿ã€åˆ›å»ºã€æ›´æ–°ã€å‘é€</td></tr><tr><td><code>message.py</code></td><td>MessageMixinï¼šæ–‡æœ¬æ¶ˆæ¯å‘é€ã€å›å¤ã€ç¼–è¾‘</td></tr><tr><td><code>agent.py</code></td><td>Agent æµå¼è°ƒç”¨ï¼ŒèŠ‚æµå›è°ƒï¼Œå…œåº•æ›´æ–°</td></tr></tbody></table>
<h3 data-id="heading-8">3.2 æ ¸å¿ƒä»£ç ç¤ºä¾‹</h3>
<h4 data-id="heading-9">3.2.1 å¡ç‰‡åˆ›å»ºä¸æ›´æ–°</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># card.py - å¡ç‰‡ç›¸å…³åŠŸèƒ½</span>

<span class="hljs-keyword">import</span> json
<span class="hljs-keyword">from</span> pathlib <span class="hljs-keyword">import</span> Path
<span class="hljs-keyword">from</span> lark_oapi.api.cardkit.v1 <span class="hljs-keyword">import</span> (
    Card, CreateCardRequest, CreateCardRequestBody,
    UpdateCardRequest, UpdateCardRequestBody,
)

<span class="hljs-keyword">class</span> <span class="hljs-title class_">CardMixin</span>:
    <span class="hljs-string">"""å¡ç‰‡ç›¸å…³æ–¹æ³•çš„ Mixin ç±»"""</span>
    
    http_client: <span class="hljs-string">"lark.Client"</span>
    _card_sequence: <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">int</span>]  <span class="hljs-comment"># å¡ç‰‡åºå·ç®¡ç†</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_get_next_sequence</span>(<span class="hljs-params">self, card_id: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:
        <span class="hljs-string">"""è·å–å¹¶é€’å¢å¡ç‰‡æ“ä½œåºå·ï¼ˆå¿…é¡»ä¸¥æ ¼é€’å¢ï¼‰"""</span>
        seq = self._card_sequence.get(card_id, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>
        self._card_sequence[card_id] = seq
        <span class="hljs-keyword">return</span> seq
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_card_entity</span>(<span class="hljs-params">self, content: <span class="hljs-built_in">str</span>, title: <span class="hljs-built_in">str</span> = <span class="hljs-string">"AI åŠ©æ‰‹"</span></span>) -&gt; <span class="hljs-built_in">str</span> | <span class="hljs-literal">None</span>:
        <span class="hljs-string">"""åˆ›å»ºå¡ç‰‡å®ä½“ï¼Œè¿”å› card_id"""</span>
        card_data = {
            <span class="hljs-string">"schema"</span>: <span class="hljs-string">"2.0"</span>,
            <span class="hljs-string">"config"</span>: {<span class="hljs-string">"update_multi"</span>: <span class="hljs-literal">True</span>},  <span class="hljs-comment"># å…±äº«å¡ç‰‡ï¼Œæ‰€æœ‰äººå¯è§æ›´æ–°</span>
            <span class="hljs-string">"header"</span>: {<span class="hljs-string">"title"</span>: {<span class="hljs-string">"tag"</span>: <span class="hljs-string">"plain_text"</span>, <span class="hljs-string">"content"</span>: title}},
            <span class="hljs-string">"body"</span>: {
                <span class="hljs-string">"elements"</span>: [{<span class="hljs-string">"tag"</span>: <span class="hljs-string">"markdown"</span>, <span class="hljs-string">"content"</span>: content}]
            }
        }
        request = CreateCardRequest.builder() \
            .request_body(
                CreateCardRequestBody.builder()
                .<span class="hljs-built_in">type</span>(<span class="hljs-string">"card_json"</span>)
                .data(json.dumps(card_data))
                .build()
            ).build()
        
        response = self.http_client.cardkit.v1.card.create(request)
        <span class="hljs-keyword">if</span> response.success():
            <span class="hljs-keyword">return</span> response.data.card_id
        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update_card_content</span>(<span class="hljs-params">self, card_id: <span class="hljs-built_in">str</span>, content: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bool</span>:
        <span class="hljs-string">"""æ›´æ–°å¡ç‰‡å†…å®¹"""</span>
        card_data = {
            <span class="hljs-string">"schema"</span>: <span class="hljs-string">"2.0"</span>,
            <span class="hljs-string">"config"</span>: {<span class="hljs-string">"update_multi"</span>: <span class="hljs-literal">True</span>},
            <span class="hljs-string">"body"</span>: {<span class="hljs-string">"elements"</span>: [{<span class="hljs-string">"tag"</span>: <span class="hljs-string">"markdown"</span>, <span class="hljs-string">"content"</span>: content}]}
        }
        seq = self._get_next_sequence(card_id)
        
        <span class="hljs-comment"># æ³¨æ„ï¼šcard å‚æ•°éœ€è¦ Card å¯¹è±¡ï¼Œä¸æ˜¯å­—ç¬¦ä¸²</span>
        card_obj = Card.builder() \
            .<span class="hljs-built_in">type</span>(<span class="hljs-string">"card_json"</span>) \
            .data(json.dumps(card_data)) \
            .build()
        
        request = UpdateCardRequest.builder() \
            .card_id(card_id) \
            .request_body(
                UpdateCardRequestBody.builder()
                .card(card_obj)
                .sequence(seq)  <span class="hljs-comment"># å¿…é¡»ä¸¥æ ¼é€’å¢</span>
                .build()
            ).build()
        
        <span class="hljs-keyword">return</span> self.http_client.cardkit.v1.card.update(request).success()
</code></pre>
<h4 data-id="heading-10">3.2.2 æµå¼æ›´æ–°èŠ‚æµ</h4>
<p>Agent è¾“å‡ºéå¸¸å¿«ï¼Œä½†é£ä¹¦ API æœ‰é¢‘ç‡é™åˆ¶ï¼Œéœ€è¦<strong>èŠ‚æµ</strong>å¤„ç†ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># agent.py - Agent æµå¼è°ƒç”¨</span>

<span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">Callable</span>

<span class="hljs-comment"># èŠ‚æµé—´éš”ï¼ˆç§’ï¼‰- æ§åˆ¶æ›´æ–°é¢‘ç‡</span>
UPDATE_THROTTLE_INTERVAL = <span class="hljs-number">0.5</span>

<span class="hljs-keyword">def</span> <span class="hljs-title function_">make_throttled_callback</span>(<span class="hljs-params">
    do_update: <span class="hljs-type">Callable</span>[[<span class="hljs-built_in">str</span>], <span class="hljs-literal">None</span>],
    interval: <span class="hljs-built_in">float</span> = UPDATE_THROTTLE_INTERVAL,
</span>) -&gt; <span class="hljs-type">Callable</span>[[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">bool</span>], <span class="hljs-literal">None</span>]:
    <span class="hljs-string">"""
    åˆ›å»ºå¸¦èŠ‚æµçš„å›è°ƒå‡½æ•°
    - æ¯éš” interval ç§’æœ€å¤šæ‰§è¡Œä¸€æ¬¡ do_update
    - is_last=True æ—¶å¼ºåˆ¶æ‰§è¡Œï¼ˆä¿è¯æœ€ç»ˆå†…å®¹åŒæ­¥ï¼‰
    """</span>
    state = {<span class="hljs-string">"last_update_time"</span>: <span class="hljs-number">0.0</span>, <span class="hljs-string">"last_content"</span>: <span class="hljs-string">""</span>}
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">on_chunk</span>(<span class="hljs-params">accumulated: <span class="hljs-built_in">str</span>, is_last: <span class="hljs-built_in">bool</span></span>) -&gt; <span class="hljs-literal">None</span>:
        state[<span class="hljs-string">"last_content"</span>] = accumulated <span class="hljs-keyword">or</span> <span class="hljs-string">"æ­£åœ¨å¤„ç†..."</span>
        now = time.time()
        
        <span class="hljs-comment"># èŠ‚æµé€»è¾‘ï¼šé—´éš”è¶³å¤Ÿ æˆ– æœ€åä¸€æ¬¡</span>
        <span class="hljs-keyword">if</span> is_last <span class="hljs-keyword">or</span> (now - state[<span class="hljs-string">"last_update_time"</span>]) &gt;= interval:
            do_update(state[<span class="hljs-string">"last_content"</span>])
            state[<span class="hljs-string">"last_update_time"</span>] = now
    
    <span class="hljs-keyword">return</span> on_chunk


<span class="hljs-keyword">def</span> <span class="hljs-title function_">run_agent_with_card</span>(<span class="hljs-params">
    plugin: <span class="hljs-string">"FeishuPlugin"</span>,
    card_id: <span class="hljs-built_in">str</span>,
    user_text: <span class="hljs-built_in">str</span>,
</span>) -&gt; <span class="hljs-literal">None</span>:
    <span class="hljs-string">"""ä½¿ç”¨å¡ç‰‡è¿›è¡Œæµå¼æ›´æ–°"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">do_update</span>(<span class="hljs-params">content: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-literal">None</span>:
        plugin.update_card_content(card_id, content)
    
    on_chunk = make_throttled_callback(do_update)
    
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">_run</span>():
        <span class="hljs-comment"># å‡è®¾ run_agent_streaming æ˜¯ Agent çš„æµå¼è°ƒç”¨å‡½æ•°</span>
        final = <span class="hljs-keyword">await</span> run_agent_streaming(user_text, on_chunk)
        <span class="hljs-comment"># å…œåº•æ›´æ–°ï¼šç¡®ä¿æœ€ç»ˆå†…å®¹å·²åŒæ­¥</span>
        do_update(final <span class="hljs-keyword">or</span> <span class="hljs-string">"å¤„ç†å®Œæˆ"</span>)
    
    <span class="hljs-comment"># é€‚é…äº‹ä»¶å¾ªç¯</span>
    <span class="hljs-keyword">try</span>:
        loop = asyncio.get_running_loop()
        loop.create_task(_run())
    <span class="hljs-keyword">except</span> RuntimeError:
        asyncio.run(_run())
</code></pre>
<h4 data-id="heading-11">3.2.3 æ¶ˆæ¯å¤„ç†ä¸»é€»è¾‘</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># client.py - ä¸»å®¢æˆ·ç«¯</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">FeishuPlugin</span>(CardMixin, MessageMixin):
    <span class="hljs-string">"""é£ä¹¦æœºå™¨äººä¸»ç±»"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, app_id: <span class="hljs-built_in">str</span>, app_secret: <span class="hljs-built_in">str</span></span>):
        <span class="hljs-comment"># ... åˆå§‹åŒ– http_client, ws_client ç­‰</span>
        self._card_sequence: <span class="hljs-built_in">dict</span>[<span class="hljs-built_in">str</span>, <span class="hljs-built_in">int</span>] = {}  <span class="hljs-comment"># å¡ç‰‡åºå·</span>
        self._processed_ids: <span class="hljs-built_in">set</span>[<span class="hljs-built_in">str</span>] = <span class="hljs-built_in">set</span>()     <span class="hljs-comment"># æ¶ˆæ¯å»é‡</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">handle_message</span>(<span class="hljs-params">self, message_id: <span class="hljs-built_in">str</span>, user_text: <span class="hljs-built_in">str</span>, open_id: <span class="hljs-built_in">str</span></span>):
        <span class="hljs-string">"""å¤„ç†ç”¨æˆ·æ¶ˆæ¯"""</span>
        <span class="hljs-comment"># 1. åˆ›å»ºå¡ç‰‡å®ä½“</span>
        card_id = self.create_card_entity(<span class="hljs-string">"æ­£åœ¨å¤„ç†..."</span>, title=<span class="hljs-string">"ğŸ¤– AI åŠ©æ‰‹"</span>)
        
        <span class="hljs-keyword">if</span> card_id:
            <span class="hljs-comment"># 2. å‘é€å¡ç‰‡æ¶ˆæ¯</span>
            self.send_card_message(open_id, card_id)
            <span class="hljs-comment"># 3. å¯åŠ¨ Agent æµå¼æ›´æ–°</span>
            run_agent_with_card(self, card_id, user_text)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-comment"># fallback: æ™®é€šæ¶ˆæ¯ï¼ˆæœ‰ç¼–è¾‘æ¬¡æ•°é™åˆ¶ï¼‰</span>
            reply_id = self.send_text_message(open_id, <span class="hljs-string">"æ­£åœ¨å¤„ç†..."</span>)
            run_agent_with_message(self, reply_id, user_text)
</code></pre>
<h3 data-id="heading-12">3.3 SDK è¸©å‘è®°å½•</h3>
<h4 data-id="heading-13">å‘ 1ï¼šUpdateCardRequestBody.card å‚æ•°ç±»å‹</h4>
<p><strong>é”™è¯¯å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">UpdateCardRequestBody.builder().card(card_json_str)  <span class="hljs-comment"># âŒ å­—ç¬¦ä¸²</span>
</code></pre>
<p><strong>æ­£ç¡®å†™æ³•</strong>ï¼š</p>
<pre><code class="hljs language-python" lang="python">card_obj = Card.builder().<span class="hljs-built_in">type</span>(<span class="hljs-string">"card_json"</span>).data(card_json_str).build()
UpdateCardRequestBody.builder().card(card_obj)  <span class="hljs-comment"># âœ… Card å¯¹è±¡</span>
</code></pre>
<h4 data-id="heading-14">å‘ 2ï¼šsequence å¿…é¡»ä¸¥æ ¼é€’å¢</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é”™è¯¯ï¼šæ¯æ¬¡éƒ½ä¼  1</span>
.sequence(<span class="hljs-number">1</span>)  <span class="hljs-comment"># âŒ ç¬¬äºŒæ¬¡æ›´æ–°ä¼šå¤±è´¥</span>

<span class="hljs-comment"># æ­£ç¡®ï¼šç»´æŠ¤é€’å¢åºå·</span>
seq = self._card_sequence.get(card_id, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>
self._card_sequence[card_id] = seq
.sequence(seq)  <span class="hljs-comment"># âœ…</span>
</code></pre>
<h4 data-id="heading-15">å‘ 3ï¼šasyncio.run() ä¸èƒ½åœ¨å·²æœ‰äº‹ä»¶å¾ªç¯ä¸­è°ƒç”¨</h4>
<p>WebSocket å›è°ƒå·²åœ¨äº‹ä»¶å¾ªç¯ä¸­ï¼Œå†è°ƒ <code>asyncio.run()</code> ä¼šæŠ¥é”™ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é”™è¯¯</span>
asyncio.run(async_func())  <span class="hljs-comment"># âŒ RuntimeError</span>

<span class="hljs-comment"># æ­£ç¡®</span>
<span class="hljs-keyword">try</span>:
    loop = asyncio.get_running_loop()
    loop.create_task(async_func())  <span class="hljs-comment"># æŒ‚åˆ°ç°æœ‰å¾ªç¯</span>
<span class="hljs-keyword">except</span> RuntimeError:
    asyncio.run(async_func())  <span class="hljs-comment"># æ— å¾ªç¯æ—¶æ–°å»º</span>
</code></pre>
<h2 data-id="heading-16">å››ã€æœ€ä½³å®è·µæ€»ç»“</h2>
<h3 data-id="heading-17">4.1 æ¶æ„è®¾è®¡</h3>





















<table><thead><tr><th>åŸåˆ™</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>èŒè´£åˆ†ç¦»</strong></td><td>å¡ç‰‡ã€æ¶ˆæ¯ã€Agent è°ƒç”¨æ‹†åˆ†ä¸ºç‹¬ç«‹æ¨¡å—</td></tr><tr><td><strong>Mixin æ¨¡å¼</strong></td><td>åŠŸèƒ½æ¨¡å—é€šè¿‡ Mixin ç»„åˆåˆ°ä¸»ç±»</td></tr><tr><td><strong>ä¼˜é›…é™çº§</strong></td><td>å¡ç‰‡åˆ›å»ºå¤±è´¥æ—¶ fallback åˆ°æ™®é€šæ¶ˆæ¯</td></tr></tbody></table>
<h3 data-id="heading-18">4.2 æµå¼æ›´æ–°</h3>





















<table><thead><tr><th>ç­–ç•¥</th><th>å®ç°</th></tr></thead><tbody><tr><td><strong>èŠ‚æµ</strong></td><td>æ¯ 0.5s æœ€å¤šæ›´æ–°ä¸€æ¬¡ï¼Œé¿å…æ‰“çˆ† API</td></tr><tr><td><strong>å…œåº•</strong></td><td>æµå¼ç»“æŸåå¼ºåˆ¶åŒæ­¥æœ€ç»ˆå†…å®¹</td></tr><tr><td><strong>åºå·ç®¡ç†</strong></td><td>ç»´æŠ¤ <code>card_id â†’ sequence</code> æ˜ å°„ï¼Œä¸¥æ ¼é€’å¢</td></tr></tbody></table>
<h3 data-id="heading-19">4.3 å¼‚å¸¸å¤„ç†</h3>
<pre><code class="hljs language-mermaid" lang="mermaid">flowchart TD
    A[æ”¶åˆ°ç”¨æˆ·æ¶ˆæ¯] --&gt; B{åˆ›å»ºå¡ç‰‡æˆåŠŸ?}
    B --&gt;|æ˜¯| C[å‘é€å¡ç‰‡æ¶ˆæ¯]
    B --&gt;|å¦| D[å‘é€æ–‡æœ¬æ¶ˆæ¯]
    C --&gt; E[å¯åŠ¨ Agent]
    D --&gt; F[å¯åŠ¨ Agent - fallback æ¨¡å¼]
    E --&gt; G{æ›´æ–°å¤±è´¥?}
    G --&gt;|æ˜¯| H[è®°å½•æ—¥å¿—, ç»§ç»­]
    G --&gt;|å¦| I[ç»§ç»­æ›´æ–°]
    F --&gt; J[å¯èƒ½è§¦å‘ç¼–è¾‘ä¸Šé™]
</code></pre>
<h2 data-id="heading-20">äº”ã€æ€»ç»“</h2>





























<table><thead><tr><th>é—®é¢˜</th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>æ¶ˆæ¯ç¼–è¾‘æ¬¡æ•°ä¸Šé™</td><td>æ”¹ç”¨å¡ç‰‡å®ä½“ + CardKit API</td></tr><tr><td>Agent è¾“å‡ºè¿‡å¿«</td><td>èŠ‚æµå›è°ƒï¼Œ0.5s æ›´æ–°ä¸€æ¬¡</td></tr><tr><td>æœ€ç»ˆå†…å®¹å¯èƒ½ä¸¢å¤±</td><td>æµå¼ç»“æŸåå…œåº•æ›´æ–°</td></tr><tr><td>SDK å‚æ•°ç±»å‹å‘</td><td>Card å¯¹è±¡è€Œéå­—ç¬¦ä¸²</td></tr><tr><td>å¼‚æ­¥ä¸Šä¸‹æ–‡å†²çª</td><td>åˆ¤æ–­æ˜¯å¦å·²æœ‰äº‹ä»¶å¾ªç¯</td></tr></tbody></table>
<p>è¿™å¥—æ–¹æ¡ˆå·²åœ¨ç”Ÿäº§ç¯å¢ƒç¨³å®šè¿è¡Œï¼Œæ”¯æŒ Agent è¾“å‡ºä¸Šä¸‡å­—çš„é•¿æ–‡æœ¬ï¼Œæ›´æ–°æ¬¡æ•°ä¸å—é™åˆ¶ã€‚</p>
<hr/>
<h2 data-id="heading-21">é™„å½•ï¼šç›¸å…³ API æ–‡æ¡£</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.feishu.cn%2Fdocument%2FuAjLw4CM%2FukTMukTMukTM%2Fcardkit-v1%2Fcard%2Fcreate" target="_blank" title="https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/cardkit-v1/card/create" ref="nofollow noopener noreferrer">åˆ›å»ºå¡ç‰‡å®ä½“</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.feishu.cn%2Fdocument%2FuAjLw4CM%2FukTMukTMukTM%2Fcardkit-v1%2Fcard%2Fupdate" target="_blank" title="https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/cardkit-v1/card/update" ref="nofollow noopener noreferrer">æ›´æ–°å¡ç‰‡å®ä½“</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.feishu.cn%2Fdocument%2FuAjLw4CM%2FukzMukzMukzM%2Ffeishu-cards%2Fcard-json-v2-structure" target="_blank" title="https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/card-json-v2-structure" ref="nofollow noopener noreferrer">å¡ç‰‡ JSON 2.0 ç»“æ„</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fopen.feishu.cn%2Fdocument%2FuAjLw4CM%2FukzMukzMukzM%2Ffeishu-cards%2Fstreaming-updates-openapi-overview" target="_blank" title="https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/streaming-updates-openapi-overview" ref="nofollow noopener noreferrer">æµå¼æ›´æ–°å¡ç‰‡</a></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç»“æ„åŒ–å¹¶å‘ï¼šå‘Šåˆ«çº¿ç¨‹æ³„éœ²çš„ä¼˜é›…æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7600863478929621011</link>    <guid>https://juejin.cn/post/7600863478929621011</guid>    <pubDate>2026-01-30T09:52:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600863478929621011" data-draft-id="7600990891206836251" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç»“æ„åŒ–å¹¶å‘ï¼šå‘Šåˆ«çº¿ç¨‹æ³„éœ²çš„ä¼˜é›…æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-30T09:52:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¡¦è¯´ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2212689394274136"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç»“æ„åŒ–å¹¶å‘ï¼šå‘Šåˆ«çº¿ç¨‹æ³„éœ²çš„ä¼˜é›…æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2212689394274136/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¡¦è¯´ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:52:51.000Z" title="Fri Jan 30 2026 09:52:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ¡¦è¯´ç¼–ç¨‹ã€‚</p>
<blockquote>
<p>æœ¬æ–‡æ·±å…¥åˆ†æä¼ ç»Ÿå¹¶å‘æ¨¡å‹ä¸­ <code>Future.get()</code> è¶…æ—¶å¯¼è‡´çš„çº¿ç¨‹æ³„éœ²é—®é¢˜ï¼Œå¹¶ä»‹ç»ç»“æ„åŒ–å¹¶å‘ï¼ˆStructured Concurrencyï¼‰å¦‚ä½•ä»æ ¹æœ¬ä¸Šè§£å†³è¿™ä¸€ç—›ç‚¹ã€‚</p>
</blockquote>
<h2 data-id="heading-0">é—®é¢˜èƒŒæ™¯</h2>
<p>åœ¨é«˜å¹¶å‘ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ <code>ExecutorService</code> æäº¤å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åé€šè¿‡ <code>Future.get(timeout)</code> è·å–ç»“æœã€‚çœ‹ä¼¼åˆç†çš„ä»£ç ï¼Œå´éšè—ç€ä¸€ä¸ªè‡´å‘½é—®é¢˜â€”â€”<strong>çº¿ç¨‹æ³„éœ²</strong>ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">10</span>);
Future&lt;String&gt; future = executor.submit(() -&gt; {
    <span class="hljs-comment">// æ¨¡æ‹Ÿæ…¢é€Ÿæ“ä½œï¼Œå¦‚è°ƒç”¨å¤–éƒ¨æœåŠ¡</span>
    Thread.sleep(<span class="hljs-number">5000</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-string">"result"</span>;
});

<span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// è¶…æ—¶ 100ms åæ”¾å¼ƒç­‰å¾…</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> future.get(<span class="hljs-number">100</span>, TimeUnit.MILLISECONDS);
} <span class="hljs-keyword">catch</span> (TimeoutException e) {
    <span class="hljs-comment">// è¶…æ—¶äº†ï¼Œä½†ä»»åŠ¡è¿˜åœ¨åå°è¿è¡Œï¼</span>
    log.warn(<span class="hljs-string">"Request timeout"</span>);
}
</code></pre>
<p><strong>é—®é¢˜æ ¸å¿ƒ</strong>ï¼š<code>Future.get()</code> è¶…æ—¶åªæ˜¯æ”¾å¼ƒäº†ç­‰å¾…ï¼Œ<strong>åº•å±‚ä»»åŠ¡ä»åœ¨çº¿ç¨‹æ± ä¸­ç»§ç»­æ‰§è¡Œ</strong>ã€‚</p>
<h2 data-id="heading-1">çº¿ç¨‹æ³„éœ²çš„ä¸‰ç§å…¸å‹åœºæ™¯</h2>
<h3 data-id="heading-2">åœºæ™¯ä¸€ï¼šFuture.get() è¶…æ—¶ä¸å–æ¶ˆ</h3>
<p>è¿™æ˜¯æœ€å¸¸è§çš„æƒ…å†µã€‚è°ƒç”¨æ–¹è®¾ç½®äº†è¶…æ—¶ï¼Œä½†è¶…æ—¶ååªæ˜¯ catch å¼‚å¸¸ç»§ç»­æ‰§è¡Œï¼Œä»»åŠ¡æœ¬èº«ä»å ç”¨çº¿ç¨‹èµ„æºã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é”™è¯¯ç¤ºä¾‹ï¼šè¶…æ—¶åä»»åŠ¡ç»§ç»­è¿è¡Œ</span>
<span class="hljs-keyword">try</span> {
    result = future.get(<span class="hljs-number">100</span>, TimeUnit.MILLISECONDS);
} <span class="hljs-keyword">catch</span> (TimeoutException e) {# ç»“æ„åŒ–å¹¶å‘ï¼šå‘Šåˆ«çº¿ç¨‹æ³„éœ²çš„ä¼˜é›…æ–¹æ¡ˆ

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ¡¦è¯´ç¼–ç¨‹ã€‚

&gt; æœ¬æ–‡æ·±å…¥åˆ†æä¼ ç»Ÿå¹¶å‘æ¨¡å‹ä¸­ `Future.get()` è¶…æ—¶å¯¼è‡´çš„çº¿ç¨‹æ³„éœ²é—®é¢˜ï¼Œå¹¶ä»‹ç»ç»“æ„åŒ–å¹¶å‘ï¼ˆStructured Concurrencyï¼‰å¦‚ä½•ä»æ ¹æœ¬ä¸Šè§£å†³è¿™ä¸€ç—›ç‚¹ã€‚

## é—®é¢˜èƒŒæ™¯

åœ¨é«˜å¹¶å‘ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä½¿ç”¨ `ExecutorService` æäº¤å¼‚æ­¥ä»»åŠ¡ï¼Œç„¶åé€šè¿‡ `Future.get(timeout)` è·å–ç»“æœã€‚çœ‹ä¼¼åˆç†çš„ä»£ç ï¼Œå´éšè—ç€ä¸€ä¸ªè‡´å‘½é—®é¢˜â€”â€”**çº¿ç¨‹æ³„éœ²**ã€‚

```java
<span class="hljs-type">ExecutorService</span> <span class="hljs-variable">executor</span> <span class="hljs-operator">=</span> Executors.newFixedThreadPool(<span class="hljs-number">10</span>);
Future&lt;String&gt; future = executor.submit(() -&gt; {
    <span class="hljs-comment">// æ¨¡æ‹Ÿæ…¢é€Ÿæ“ä½œï¼Œå¦‚è°ƒç”¨å¤–éƒ¨æœåŠ¡</span>
    Thread.sleep(<span class="hljs-number">5000</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-string">"result"</span>;
});

<span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// è¶…æ—¶ 100ms åæ”¾å¼ƒç­‰å¾…</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> future.get(<span class="hljs-number">100</span>, TimeUnit.MILLISECONDS);
} <span class="hljs-keyword">catch</span> (TimeoutException e) {
    <span class="hljs-comment">// è¶…æ—¶äº†ï¼Œä½†ä»»åŠ¡è¿˜åœ¨åå°è¿è¡Œï¼</span>
    log.warn(<span class="hljs-string">"Request timeout"</span>);
}
</code></pre>
<p><strong>é—®é¢˜æ ¸å¿ƒ</strong>ï¼š<code>Future.get()</code> è¶…æ—¶åªæ˜¯æ”¾å¼ƒäº†ç­‰å¾…ï¼Œ<strong>åº•å±‚ä»»åŠ¡ä»åœ¨çº¿ç¨‹æ± ä¸­ç»§ç»­æ‰§è¡Œ</strong>ã€‚</p>
<h2 data-id="heading-3">çº¿ç¨‹æ³„éœ²çš„ä¸‰ç§å…¸å‹åœºæ™¯</h2>
<h3 data-id="heading-4">åœºæ™¯ä¸€ï¼šFuture.get() è¶…æ—¶ä¸å–æ¶ˆ</h3>
<p>è¿™æ˜¯æœ€å¸¸è§çš„æƒ…å†µã€‚è°ƒç”¨æ–¹è®¾ç½®äº†è¶…æ—¶ï¼Œä½†è¶…æ—¶ååªæ˜¯ catch å¼‚å¸¸ç»§ç»­æ‰§è¡Œï¼Œä»»åŠ¡æœ¬èº«ä»å ç”¨çº¿ç¨‹èµ„æºã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// é”™è¯¯ç¤ºä¾‹ï¼šè¶…æ—¶åä»»åŠ¡ç»§ç»­è¿è¡Œ</span>
<span class="hljs-keyword">try</span> {
    result = future.get(<span class="hljs-number">100</span>, TimeUnit.MILLISECONDS);
} <span class="hljs-keyword">catch</span> (TimeoutException e) {
    <span class="hljs-comment">// ä»»åŠ¡ä»åœ¨åå°è¿è¡Œï¼Œçº¿ç¨‹è¢«å ç”¨</span>
    <span class="hljs-keyword">return</span> defaultValue;
}
</code></pre>
<h3 data-id="heading-5">åœºæ™¯äºŒï¼šcancel() æ— æ³•ä¸­æ–­é˜»å¡æ“ä½œ</h3>
<p>å³ä½¿è°ƒç”¨ <code>future.cancel(true)</code>ï¼Œå¦‚æœä»»åŠ¡å†…éƒ¨åœ¨æ‰§è¡Œä¸å¯ä¸­æ–­çš„é˜»å¡æ“ä½œï¼ˆå¦‚ Socket I/Oï¼‰ï¼Œçº¿ç¨‹ä¾ç„¶æ— æ³•é‡Šæ”¾ã€‚</p>
<pre><code class="hljs language-java" lang="java">Future&lt;String&gt; future = executor.submit(() -&gt; {
    <span class="hljs-comment">// Socket è¯»å–æ˜¯ä¸å¯ä¸­æ–­çš„ï¼</span>
    <span class="hljs-keyword">return</span> httpClient.execute(request);  <span class="hljs-comment">// é˜»å¡åœ¨ç½‘ç»œ I/O</span>
});

future.cancel(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// æ— æ•ˆï¼çº¿ç¨‹ä»è¢«é˜»å¡</span>
</code></pre>
<h3 data-id="heading-6">åœºæ™¯ä¸‰ï¼šå¼‚å¸¸ä¼ æ’­æ–­è£‚</h3>
<p>çˆ¶ä»»åŠ¡è¶…æ—¶é€€å‡ºï¼Œä½†å­ä»»åŠ¡ä¸çŸ¥é“çˆ¶ä»»åŠ¡å·²ç»ä¸éœ€è¦ç»“æœï¼Œç»§ç»­æ‰§è¡Œå®Œæ•´é€»è¾‘ã€‚</p>
<pre><code class="hljs language-java" lang="java">Future&lt;Result&gt; parentTask = executor.submit(() -&gt; {
    Future&lt;Data&gt; childTask = executor.submit(() -&gt; {
        <span class="hljs-keyword">return</span> slowDatabaseQuery();  <span class="hljs-comment">// è€—æ—¶æ“ä½œ</span>
    });
    <span class="hljs-keyword">return</span> process(childTask.get());
});

parentTask.get(<span class="hljs-number">100</span>, TimeUnit.MILLISECONDS);  <span class="hljs-comment">// è¶…æ—¶</span>
<span class="hljs-comment">// parentTask è¶…æ—¶äº†ï¼Œä½† childTask ä»åœ¨æ‰§è¡Œæ•°æ®åº“æŸ¥è¯¢ï¼</span>
</code></pre>
<h2 data-id="heading-7">çº¿ç¨‹æ³„éœ²çš„å±å®³</h2>
<p>åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œçº¿ç¨‹æ³„éœ²ä¼šå¯¼è‡´ï¼š</p>
<ol>
<li><strong>çº¿ç¨‹æ± è€—å°½</strong>ï¼šæ‰€æœ‰çº¿ç¨‹è¢«"åƒµå°¸ä»»åŠ¡"å ç”¨ï¼Œæ–°è¯·æ±‚æ— æ³•æ‰§è¡Œ</li>
<li><strong>ç³»ç»Ÿå“åº”å˜æ…¢</strong>ï¼šçº¿ç¨‹åˆ‡æ¢å¼€é”€å¢å¤§ï¼ŒCPU åˆ©ç”¨ç‡é£™å‡</li>
<li><strong>å†…å­˜æ³„éœ²</strong>ï¼šä»»åŠ¡æŒæœ‰çš„å¯¹è±¡æ— æ³•è¢« GC å›æ”¶</li>
<li><strong>çº§è”æ•…éšœ</strong>ï¼šä¸‹æ¸¸æœåŠ¡è¶…æ—¶ â†’ çº¿ç¨‹ç§¯å‹ â†’ ä¸Šæ¸¸è¶…æ—¶ â†’ å…¨é“¾è·¯é›ªå´©</li>
</ol>
<h2 data-id="heading-8">ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆçš„å±€é™</h2>
<h3 data-id="heading-9">æ–¹æ¡ˆä¸€ï¼šæ‰‹åŠ¨ cancel</h3>
<pre><code class="hljs language-java" lang="java">Future&lt;String&gt; future = executor.submit(task);
<span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">return</span> future.get(timeout, TimeUnit.MILLISECONDS);
} <span class="hljs-keyword">catch</span> (TimeoutException e) {
    future.cancel(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// å°è¯•å–æ¶ˆ</span>
    <span class="hljs-keyword">throw</span> e;
} <span class="hljs-keyword">finally</span> {
    <span class="hljs-comment">// é—®é¢˜ï¼šcancel å¯èƒ½æ— æ•ˆ</span>
}
</code></pre>
<p><strong>å±€é™</strong>ï¼š<code>cancel(true)</code> ä¾èµ–ä»»åŠ¡å†…éƒ¨æ­£ç¡®å“åº”ä¸­æ–­ï¼Œå¾ˆå¤šä¸‰æ–¹åº“å¹¶ä¸æ”¯æŒã€‚</p>
<h3 data-id="heading-10">æ–¹æ¡ˆäºŒï¼šExecutorService.invokeAll</h3>
<pre><code class="hljs language-java" lang="java">List&lt;Callable&lt;String&gt;&gt; tasks = Arrays.asList(task1, task2, task3);
List&lt;Future&lt;String&gt;&gt; futures = executor.invokeAll(tasks, timeout, TimeUnit.MILLISECONDS);
</code></pre>
<p><strong>å±€é™</strong>ï¼šåªé€‚ç”¨äºæ‰¹é‡ä»»åŠ¡ï¼Œæ— æ³•å¤„ç†åŠ¨æ€åˆ›å»ºçš„å­ä»»åŠ¡ã€‚</p>
<h3 data-id="heading-11">æ–¹æ¡ˆä¸‰ï¼šCompletableFuture.orTimeout (Java 9+)</h3>
<pre><code class="hljs language-java" lang="java">CompletableFuture.supplyAsync(() -&gt; slowOperation())
    .orTimeout(<span class="hljs-number">100</span>, TimeUnit.MILLISECONDS)
    .exceptionally(ex -&gt; defaultValue);
</code></pre>
<p><strong>å±€é™</strong>ï¼šè¶…æ—¶ååº•å±‚ä»»åŠ¡ä»åœ¨æ‰§è¡Œï¼Œåªæ˜¯ä¸å†ç­‰å¾…ç»“æœã€‚</p>
<h2 data-id="heading-12">ç»“æ„åŒ–å¹¶å‘ï¼šæ ¹æœ¬æ€§è§£å†³æ–¹æ¡ˆ</h2>
<p><strong>ç»“æ„åŒ–å¹¶å‘ï¼ˆStructured Concurrencyï¼‰</strong> çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š<strong>è®©å¹¶å‘ä»»åŠ¡çš„ç”Ÿå‘½å‘¨æœŸä¸ä»£ç å—çš„ä½œç”¨åŸŸç»‘å®š</strong>ã€‚å°±åƒç»“æ„åŒ–ç¼–ç¨‹è®©æ§åˆ¶æµæœ‰æ˜ç¡®çš„å…¥å£å’Œå‡ºå£ï¼Œç»“æ„åŒ–å¹¶å‘è®©å¹¶å‘ä»»åŠ¡ä¹Ÿæœ‰æ˜ç¡®çš„å¼€å§‹å’Œç»“æŸè¾¹ç•Œã€‚</p>
<h3 data-id="heading-13">æ ¸å¿ƒåŸåˆ™</h3>
<ol>
<li><strong>ä»»åŠ¡ä½œç”¨åŸŸ</strong>ï¼šæ‰€æœ‰å­ä»»åŠ¡å¿…é¡»åœ¨çˆ¶ä»»åŠ¡çš„ä½œç”¨åŸŸå†…å®Œæˆ</li>
<li><strong>è‡ªåŠ¨å–æ¶ˆä¼ æ’­</strong>ï¼šçˆ¶ä»»åŠ¡å–æ¶ˆæ—¶ï¼Œæ‰€æœ‰å­ä»»åŠ¡è‡ªåŠ¨å–æ¶ˆ</li>
<li><strong>å¼‚å¸¸èšåˆ</strong>ï¼šå­ä»»åŠ¡çš„å¼‚å¸¸èƒ½æ­£ç¡®ä¼ æ’­åˆ°çˆ¶ä»»åŠ¡</li>
<li><strong>èµ„æºè‡ªåŠ¨æ¸…ç†</strong>ï¼šä½œç”¨åŸŸç»“æŸæ—¶ï¼Œç¡®ä¿æ‰€æœ‰èµ„æºè¢«é‡Šæ”¾</li>
</ol>
<h3 data-id="heading-14">Java 21 StructuredTaskScope</h3>
<p>Java 21 æ­£å¼å¼•å…¥äº† <code>StructuredTaskScope</code>ï¼ˆJEP 453ï¼‰ï¼Œæä¾›äº†ç»“æ„åŒ–å¹¶å‘çš„åŸç”Ÿæ”¯æŒï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">try</span> (<span class="hljs-type">var</span> <span class="hljs-variable">scope</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StructuredTaskScope</span>.ShutdownOnFailure()) {
    Subtask&lt;String&gt; user = scope.fork(() -&gt; fetchUser(userId));
    Subtask&lt;List&lt;Order&gt;&gt; orders = scope.fork(() -&gt; fetchOrders(userId));

    scope.joinUntil(Instant.now().plusMillis(<span class="hljs-number">100</span>));  <span class="hljs-comment">// è¶…æ—¶æ§åˆ¶</span>
    scope.throwIfFailed();  <span class="hljs-comment">// ä»»ä¸€å¤±è´¥åˆ™æŠ›å¼‚å¸¸</span>

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserProfile</span>(user.get(), orders.get());
}
<span class="hljs-comment">// ç¦»å¼€ try å—æ—¶ï¼Œæ‰€æœ‰æœªå®Œæˆçš„å­ä»»åŠ¡è‡ªåŠ¨å–æ¶ˆï¼</span>
</code></pre>
<p><strong>å…³é”®ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><code>fork()</code> åˆ›å»ºçš„ä»»åŠ¡ç»‘å®šåˆ° scope çš„ç”Ÿå‘½å‘¨æœŸ</li>
<li><code>joinUntil()</code> è¶…æ—¶åï¼Œscope å…³é—­ä¼šè‡ªåŠ¨å–æ¶ˆæ‰€æœ‰å­ä»»åŠ¡</li>
<li>try-with-resources ç¡®ä¿èµ„æºé‡Šæ”¾</li>
</ul>
<h3 data-id="heading-15">å¯¹æ¯”ä¼ ç»Ÿæ–¹å¼</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>ä¼ ç»Ÿ Future</th><th>ç»“æ„åŒ–å¹¶å‘</th></tr></thead><tbody><tr><td>è¶…æ—¶å–æ¶ˆ</td><td>éœ€æ‰‹åŠ¨ cancel</td><td>è‡ªåŠ¨å–æ¶ˆ</td></tr><tr><td>å­ä»»åŠ¡ç®¡ç†</td><td>æ— å…³è”</td><td>ç”Ÿå‘½å‘¨æœŸç»‘å®š</td></tr><tr><td>å¼‚å¸¸å¤„ç†</td><td>å®¹æ˜“ä¸¢å¤±</td><td>è‡ªåŠ¨èšåˆ</td></tr><tr><td>èµ„æºæ¸…ç†</td><td>éœ€æ‰‹åŠ¨å¤„ç†</td><td>è‡ªåŠ¨æ¸…ç†</td></tr><tr><td>çº¿ç¨‹æ³„éœ²</td><td>å®¹æ˜“å‘ç”Ÿ</td><td>ä»æ ¹æœ¬æœç»</td></tr></tbody></table>
<h2 data-id="heading-16">Java 8 ç¯å¢ƒä¸‹çš„ç»“æ„åŒ–å¹¶å‘å®ç°</h2>
<p>ç”±äºå¾ˆå¤šé¡¹ç›®ä»åœ¨ä½¿ç”¨ Java 8ï¼Œæˆ‘ä»¬å¯ä»¥å€Ÿé‰´ç»“æ„åŒ–å¹¶å‘çš„æ€æƒ³ï¼Œå®ç°ä¸€ä¸ªç®€åŒ–ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StructuredScope</span>&lt;T&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">AutoCloseable</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> ExecutorService executor;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> List&lt;Future&lt;?&gt;&gt; tasks = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CopyOnWriteArrayList</span>&lt;&gt;();
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-type">AtomicBoolean</span> <span class="hljs-variable">shutdown</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AtomicBoolean</span>(<span class="hljs-literal">false</span>);

    <span class="hljs-keyword">public</span> <span class="hljs-title function_">StructuredScope</span><span class="hljs-params">(ExecutorService executor)</span> {
        <span class="hljs-built_in">this</span>.executor = executor;
    }

    <span class="hljs-keyword">public</span> &lt;R&gt; Future&lt;R&gt; <span class="hljs-title function_">fork</span><span class="hljs-params">(Callable&lt;R&gt; task)</span> {
        <span class="hljs-keyword">if</span> (shutdown.get()) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">"Scope already shutdown"</span>);
        }
        Future&lt;R&gt; future = executor.submit(() -&gt; {
            <span class="hljs-keyword">if</span> (shutdown.get()) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">CancellationException</span>(<span class="hljs-string">"Scope shutdown"</span>);
            }
            <span class="hljs-keyword">return</span> task.call();
        });
        tasks.add(future);
        <span class="hljs-keyword">return</span> future;
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">joinAll</span><span class="hljs-params">(<span class="hljs-type">long</span> timeout, TimeUnit unit)</span> <span class="hljs-keyword">throws</span> TimeoutException {
        <span class="hljs-type">long</span> <span class="hljs-variable">deadline</span> <span class="hljs-operator">=</span> System.nanoTime() + unit.toNanos(timeout);
        <span class="hljs-keyword">for</span> (Future&lt;?&gt; task : tasks) {
            <span class="hljs-type">long</span> <span class="hljs-variable">remaining</span> <span class="hljs-operator">=</span> deadline - System.nanoTime();
            <span class="hljs-keyword">if</span> (remaining &lt;= <span class="hljs-number">0</span>) {
                shutdown();
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">TimeoutException</span>(<span class="hljs-string">"Scope timeout"</span>);
            }
            <span class="hljs-keyword">try</span> {
                task.get(remaining, TimeUnit.NANOSECONDS);
            } <span class="hljs-keyword">catch</span> (TimeoutException e) {
                shutdown();
                <span class="hljs-keyword">throw</span> e;
            } <span class="hljs-keyword">catch</span> (Exception e) {
                <span class="hljs-comment">// è®°å½•ä½†ç»§ç»­ç­‰å¾…å…¶ä»–ä»»åŠ¡</span>
            }
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">shutdown</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">if</span> (shutdown.compareAndSet(<span class="hljs-literal">false</span>, <span class="hljs-literal">true</span>)) {
            <span class="hljs-keyword">for</span> (Future&lt;?&gt; task : tasks) {
                task.cancel(<span class="hljs-literal">true</span>);
            }
        }
    }

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">close</span><span class="hljs-params">()</span> {
        shutdown();
    }
}
</code></pre>
<p>ä½¿ç”¨æ–¹å¼ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">try</span> (StructuredScope&lt;String&gt; scope = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StructuredScope</span>&lt;&gt;(executor)) {
    Future&lt;String&gt; user = scope.fork(() -&gt; fetchUser(userId));
    Future&lt;List&lt;Order&gt;&gt; orders = scope.fork(() -&gt; fetchOrders(userId));

    scope.joinAll(<span class="hljs-number">100</span>, TimeUnit.MILLISECONDS);

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserProfile</span>(user.get(), orders.get());
}
<span class="hljs-comment">// è¶…æ—¶æˆ–å¼‚å¸¸æ—¶ï¼Œæ‰€æœ‰ä»»åŠ¡è‡ªåŠ¨å–æ¶ˆ</span>
</code></pre>
<h2 data-id="heading-17">æœ€ä½³å®è·µ</h2>
<h3 data-id="heading-18">1. ä»»åŠ¡å†…éƒ¨æ­£ç¡®å“åº”ä¸­æ–­</h3>
<pre><code class="hljs language-java" lang="java">executor.submit(() -&gt; {
    <span class="hljs-keyword">while</span> (!Thread.currentThread().isInterrupted()) {
        <span class="hljs-comment">// å¤„ç†é€»è¾‘</span>
        <span class="hljs-keyword">if</span> (Thread.interrupted()) {
            cleanup();
            <span class="hljs-keyword">return</span>;
        }
    }
});
</code></pre>
<h3 data-id="heading-19">2. è®¾ç½®åˆç†çš„è¶…æ—¶å±‚çº§</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å¤–å±‚è¶…æ—¶ &gt; å†…å±‚è¶…æ—¶ï¼Œç•™å‡ºå–æ¶ˆçš„æ—¶é—´çª—å£</span>
<span class="hljs-keyword">try</span> (<span class="hljs-type">var</span> <span class="hljs-variable">scope</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StructuredScope</span>(executor)) {
    Future&lt;A&gt; a = scope.fork(() -&gt; callServiceA(innerTimeout));
    Future&lt;B&gt; b = scope.fork(() -&gt; callServiceB(innerTimeout));
    scope.joinAll(outerTimeout, TimeUnit.MILLISECONDS);
}
</code></pre>
<h2 data-id="heading-20">æ€»ç»“</h2>
<ul>
<li><strong>çº¿ç¨‹æ³„éœ²æ ¹å› </strong>ï¼š<code>Future.get()</code> è¶…æ—¶åªæ”¾å¼ƒç­‰å¾…ï¼Œä¸å–æ¶ˆä»»åŠ¡ï¼›<code>cancel()</code> ä¾èµ–ä»»åŠ¡å“åº”ä¸­æ–­</li>
<li><strong>ç»“æ„åŒ–å¹¶å‘æ ¸å¿ƒ</strong>ï¼šè®©ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸä¸ä»£ç ä½œç”¨åŸŸç»‘å®šï¼Œä½œç”¨åŸŸç»“æŸæ—¶è‡ªåŠ¨å–æ¶ˆæ‰€æœ‰ä»»åŠ¡ã€‚å¯ä»¥è§†ä¸ºé»‘ç›’ã€‚</li>
<li><del><strong>Java 21+ æ¨è</strong>ï¼šä½¿ç”¨ <code>StructuredTaskScope</code> åŸç”Ÿæ”¯æŒ</del></li>
<li><strong>å…³é”®å®è·µ</strong>ï¼šä»»åŠ¡å†…éƒ¨å¿…é¡»æ­£ç¡®å“åº”ä¸­æ–­ï¼Œä½¿ç”¨å¯ä¸­æ–­çš„ I/O æ“ä½œ</li>
</ul>
<hr/>
<p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿å…³æ³¨æˆ‘ï¼ŒæŒç»­åˆ†äº«é«˜è´¨é‡æŠ€æœ¯å¹²è´§ï¼ŒåŠ©ä½ æ›´å¿«æå‡ç¼–ç¨‹èƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»£ç ç­¾åè¯ä¹¦ï¼šæ•°å­—åŒ–æ—¶ä»£è½¯ä»¶å®‰å…¨çš„å¿…ç„¶è¶‹åŠ¿]]></title>    <link>https://juejin.cn/post/7600622206269554698</link>    <guid>https://juejin.cn/post/7600622206269554698</guid>    <pubDate>2026-01-30T01:24:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600622206269554698" data-draft-id="7600674821307842596" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»£ç ç­¾åè¯ä¹¦ï¼šæ•°å­—åŒ–æ—¶ä»£è½¯ä»¶å®‰å…¨çš„å¿…ç„¶è¶‹åŠ¿"/> <meta itemprop="keywords" content="ç®—æ³•,æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-30T01:24:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JoySSLæ•°å­—åŠ å¯†è¯ä¹¦"/> <meta itemprop="url" content="https://juejin.cn/user/4162089392540587"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»£ç ç­¾åè¯ä¹¦ï¼šæ•°å­—åŒ–æ—¶ä»£è½¯ä»¶å®‰å…¨çš„å¿…ç„¶è¶‹åŠ¿
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4162089392540587/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JoySSLæ•°å­—åŠ å¯†è¯ä¹¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T01:24:10.000Z" title="Fri Jan 30 2026 01:24:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä»æ—¥å¸¸ä½¿ç”¨çš„æ‰‹æœºåº”ç”¨ï¼Œåˆ°ä¼ä¸šä¾èµ–çš„ä¸šåŠ¡ç³»ç»Ÿï¼Œè½¯ä»¶çš„å¹¿æ³›åº”ç”¨æå¤§åœ°æå‡äº†æ•ˆç‡ä¸ä¾¿åˆ©æ€§ã€‚ç„¶è€Œï¼Œè½¯ä»¶å®‰å…¨é—®é¢˜å´å¦‚å½±éšå½¢ï¼Œæ¶æ„è½¯ä»¶ã€ä»£ç ç¯¡æ”¹ç­‰å¨èƒå±‚å‡ºä¸ç©·ï¼Œç»™ç”¨æˆ·å’Œä¼ä¸šå¸¦æ¥äº†å·¨å¤§çš„æŸå¤±ã€‚</p>
<p>2025å¹´å…¨å¹´ï¼Œå…¨çƒå› è½¯ä»¶å®‰å…¨æ¼æ´å¯¼è‡´çš„ç»æµæŸå¤±è¶…è¿‡1.8ä¸‡äº¿ç¾å…ƒï¼ŒåŒæ¯”å¢é•¿15%ï¼Œå…¶ä¸­æ¶æ„è½¯ä»¶æ”»å‡»äº‹ä»¶å æ¯”é«˜è¾¾42%ã€‚åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œä»£ç ç­¾åè¯ä¹¦ä½œä¸ºä¿éšœè½¯ä»¶å®‰å…¨çš„æ ¸å¿ƒå·¥å…·ï¼Œå·²é€æ¸æˆä¸ºæ•°å­—åŒ–æ—¶ä»£çš„æ ‡é…ï¼Œè€Œå›½å†…çŸ¥åæ•°å­—è¯ä¹¦å“ç‰Œ     [JoySSL] å‡­å€Ÿå…¶ä¸“ä¸šèƒ½åŠ›å’Œæœ¬åœ°åŒ–æœåŠ¡ï¼Œæ­£å¼•é¢†ç€ä»£ç ç­¾åè¯ä¹¦è¡Œä¸šçš„å‘å±•ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d67f26a7f3104d8b91131a320d24552f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgSm95U1NM5pWw5a2X5Yqg5a-G6K-B5Lmm:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770370181&amp;x-signature=u9iF9DcjXb%2FIkDPim2m7bflPqSs%3D" alt="ä»£ç ç­¾å.jpg" loading="lazy"/></p>
<h2 data-id="heading-0">ä¸€ã€ä»£ç ç­¾åè¯ä¹¦ï¼šè½¯ä»¶å®‰å…¨çš„â€œæ•°å­—èº«ä»½è¯â€</h2>
<h3 data-id="heading-1">1.1 æ ¸å¿ƒåŸç†ä¸åŠŸèƒ½</h3>
<p>ä»£ç ç­¾åè¯ä¹¦æ˜¯ä¸€ç§ç”±å—ä¿¡ä»»çš„è¯ä¹¦é¢å‘æœºæ„ï¼ˆCAï¼‰ç­¾å‘çš„æ•°å­—è¯ä¹¦ï¼Œå®ƒå…è®¸å¼€å‘è€…å¯¹åº”ç”¨ç¨‹åºä»£ç è¿›è¡Œç­¾åï¼Œä»¥éªŒè¯è½¯ä»¶çš„å®Œæ•´æ€§å’Œæ¥æºã€‚å½“ç”¨æˆ·ä¸‹è½½æˆ–å®‰è£…åº”ç”¨ç¨‹åºæ—¶ï¼Œæ“ä½œç³»ç»Ÿèƒ½å¤Ÿé€šè¿‡ä»£ç ç­¾åæ¥ç¡®è®¤è¯¥åº”ç”¨ç¨‹åºæ˜¯ç”±åˆæ³•çš„å¼€å‘è€…åˆ›å»ºçš„ï¼Œå¹¶ä¸”åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­æ²¡æœ‰è¢«ç¯¡æ”¹ã€‚</p>
<p>å…¶å·¥ä½œåŸç†åŸºäºå…¬é’¥å¯†ç å­¦ä½“ç³»ï¼šå¼€å‘è€…ä½¿ç”¨ç§é’¥å¯¹è½¯ä»¶çš„å“ˆå¸Œå€¼è¿›è¡ŒåŠ å¯†ï¼Œç”Ÿæˆæ•°å­—ç­¾åã€‚ç”¨æˆ·åœ¨ä¸‹è½½è½¯ä»¶æ—¶ï¼Œæ“ä½œç³»ç»Ÿä¼šä½¿ç”¨å…¬é’¥å¯¹æ•°å­—ç­¾åè¿›è¡Œè§£å¯†ï¼Œå¹¶é‡æ–°è®¡ç®—è½¯ä»¶çš„å“ˆå¸Œå€¼ï¼Œä¸ç­¾åä¸­çš„å“ˆå¸Œå€¼è¿›è¡Œæ¯”å¯¹ã€‚å¦‚æœä¸¤è€…ä¸€è‡´ï¼Œåˆ™è¯æ˜è½¯ä»¶æœªè¢«ç¯¡æ”¹ï¼Œæ¥æºå¯ä¿¡ï¼›åä¹‹åˆ™ä¼šè§¦å‘å®‰å…¨è­¦å‘Šã€‚</p>
<h3 data-id="heading-2">1.2 ç±»å‹ä¸é€‚ç”¨åœºæ™¯</h3>
<p>ä»£ç ç­¾åè¯ä¹¦ä¸»è¦åˆ†ä¸ºæ ‡å‡†OVä»£ç ç­¾åè¯ä¹¦å’ŒEVæ‰©å±•éªŒè¯ä»£ç ç­¾åè¯ä¹¦ã€‚OVè¯ä¹¦é€šè¿‡éªŒè¯ä¼ä¸šèº«ä»½ï¼Œä¸ºè½¯ä»¶æä¾›åŸºç¡€çš„å¯ä¿¡æ ‡è¯†ï¼Œé€‚ç”¨äºå¤§å¤šæ•°é€šç”¨è½¯ä»¶ï¼›EVè¯ä¹¦åˆ™é‡‡ç”¨æ›´ä¸¥æ ¼çš„èº«ä»½å®¡æ ¸æµç¨‹ï¼Œä¸”ç§é’¥å­˜å‚¨åœ¨ç¡¬ä»¶åŠ å¯†è®¾å¤‡ä¸­ï¼Œå®‰å…¨æ€§æ›´é«˜ï¼Œé€‚åˆé‡‘èã€æ”¿åŠ¡ç­‰å¯¹å®‰å…¨è¦æ±‚æé«˜çš„è¡Œä¸šåœºæ™¯ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¾®è½¯ç­‰å¹³å°è¦æ±‚é©±åŠ¨ç¨‹åºæäº¤å‰å¿…é¡»ä½¿ç”¨ä»£ç ç­¾åè¯ä¹¦è¿›è¡Œç­¾åï¼Œå¹¶æŒ‡å®šä½¿ç”¨SHA256ç®—æ³•ï¼Œè‡ª2016å¹´èµ·é€æ­¥æ·˜æ±°SHA1ç®—æ³•ã€‚å›½å†…æ™ºèƒ½å®¶å±…ä¼ä¸šå°ç±³åœ¨å…¶IoTè®¾å¤‡å›ºä»¶å‘å¸ƒä¸­ï¼Œå…¨é¢é‡‡ç”¨EVä»£ç ç­¾åè¯ä¹¦ï¼Œæœ‰æ•ˆé˜²æ­¢äº†å›ºä»¶è¢«ç¯¡æ”¹å’Œæ¶æ„æ¤å…¥ï¼Œä¿éšœäº†5000ä¸‡ä»¥ä¸Šè®¾å¤‡çš„å®‰å…¨è¿è¡Œã€‚</p>
<h2 data-id="heading-3">äºŒã€ä»£ç ç­¾åè¯ä¹¦æˆä¸ºè½¯ä»¶å®‰å…¨åˆšéœ€çš„ä¸‰å¤§åŸå› </h2>
<h3 data-id="heading-4">2.1 éåˆ¶æ¶æ„è½¯ä»¶ä¼ æ’­ï¼Œå®ˆæŠ¤ç”¨æˆ·å®‰å…¨</h3>
<p>åœ¨è½¯ä»¶å¸‚åœºä¸­ï¼Œå­˜åœ¨ç€å¤§é‡ä¼ªè£…æˆåˆæ³•è½¯ä»¶çš„æ¶æ„ç¨‹åºï¼Œå®ƒä»¬å¯èƒ½çªƒå–ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ã€ç ´åç³»ç»Ÿæ•°æ®ç”šè‡³æ§åˆ¶ç”¨æˆ·çš„è®¾å¤‡ã€‚é€šè¿‡ä»£ç ç­¾åï¼Œç”¨æˆ·å¯ä»¥è½»æ¾è¯†åˆ«å‡ºè¿™äº›æ¶æ„è½¯ä»¶ï¼Œé¿å…ä¸‹è½½å’Œå®‰è£…ï¼Œä»è€Œå¤§å¤§é™ä½æ„ŸæŸ“é£é™©ã€‚</p>
<p>2025å¹´ï¼Œå›½å†…æŸåŠå…¬è½¯ä»¶å¼€å‘å•†æ›¾å› æœªä½¿ç”¨ä»£ç ç­¾åè¯ä¹¦ï¼Œå¯¼è‡´è½¯ä»¶è¢«é»‘å®¢ç¯¡æ”¹å¹¶æ¤å…¥çªƒå¯†æ¨¡å—ï¼Œè¶…10ä¸‡ç”¨æˆ·è´¦å·ä¿¡æ¯æ³„éœ²ï¼Œä¼ä¸šä¸ä»…èµ”å¿ç”¨æˆ·æŸå¤±è¶…500ä¸‡å…ƒï¼Œè¿˜æµå¤±äº†30%çš„å®¢æˆ·ã€‚å¯ç”¨ä»£ç ç­¾åè¯ä¹¦åï¼Œè½¯ä»¶ç¯¡æ”¹å°è¯•å‡è¢«ç³»ç»Ÿæ‹¦æˆªï¼Œæœªå†å‘ç”Ÿå®‰å…¨äº‹æ•…ï¼ŒæˆåŠŸå®ˆä½ä»£ç å®‰å…¨é˜²çº¿ã€‚</p>
<h3 data-id="heading-5">2.2 æ„å»ºä¿¡ä»»ä½“ç³»ï¼Œæå‡è½¯ä»¶åˆ†å‘æ•ˆç‡</h3>
<p>è®¸å¤šæ“ä½œç³»ç»Ÿå’Œæµè§ˆå™¨åœ¨æ‰“å¼€æœªç­¾åçš„åº”ç”¨ç¨‹åºæ—¶ï¼Œéƒ½ä¼šå±•ç¤ºâ€œæœªçŸ¥å‘å¸ƒè€…â€çš„è­¦å‘Šä¿¡æ¯ï¼Œè¿™ä¼šå¯¼è‡´70%ä»¥ä¸Šçš„ç”¨æˆ·æ”¾å¼ƒå®‰è£…ã€‚è€Œæ‹¥æœ‰ç­¾åçš„è½¯ä»¶åˆ™å¯ä»¥ç»•è¿‡è¿™äº›è­¦å‘Šï¼Œæä¾›æ›´æµç•…çš„å®‰è£…ä½“éªŒã€‚æŸSaaSä¼ä¸šä½¿ç”¨EVä»£ç ç­¾åè¯ä¹¦åï¼Œä¼ä¸šå®¢æˆ·çš„å®‰è£…è½¬åŒ–ç‡æå‡äº†45%ï¼Œç”¨æˆ·å’¨è¯¢é‡å‡å°‘äº†30%ã€‚</p>
<p>æ­¤å¤–ï¼Œæ—¶é—´æˆ³åŠŸèƒ½å¯ç¡®ä¿è¯ä¹¦è¿‡æœŸåå·²ç­¾åä»£ç ä»æœ‰æ•ˆï¼Œé¿å…äº†å› è¯ä¹¦åˆ°æœŸå¯¼è‡´å·²å‘å¸ƒè½¯ä»¶æ— æ³•æ­£å¸¸è¿è¡Œçš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-6">2.3 æ»¡è¶³åˆè§„è¦æ±‚ï¼Œè§„é¿æ³•å¾‹é£é™©</h3>
<p>éšç€ã€Šç½‘ç»œå®‰å…¨æ³•ã€‹ã€Šæ•°æ®å®‰å…¨æ³•ã€‹ç­‰æ³•å¾‹æ³•è§„çš„ä¸æ–­å®Œå–„ï¼Œè½¯ä»¶å®‰å…¨åˆè§„å·²æˆä¸ºä¼ä¸šè¿è¥çš„åº•çº¿è¦æ±‚ã€‚ä¾‹å¦‚ï¼Œé‡‘èè¡Œä¸šçš„è½¯ä»¶å¿…é¡»é€šè¿‡ç­‰ä¿ä¸‰çº§ä»¥ä¸Šè®¤è¯ï¼Œè€Œä»£ç ç­¾åè¯ä¹¦æ˜¯ç­‰ä¿è®¤è¯çš„å¿…è¦æ¡ä»¶ä¹‹ä¸€ã€‚</p>
<p>2025å¹´ï¼Œå›½å†…æŸP2På¹³å°å› æœªå¯¹å…¶å®¢æˆ·ç«¯è½¯ä»¶è¿›è¡Œä»£ç ç­¾åï¼Œè¢«ç›‘ç®¡éƒ¨é—¨å¤„ä»¥200ä¸‡å…ƒç½šæ¬¾ï¼Œå¹¶è¦æ±‚é™æœŸæ•´æ”¹ã€‚è€Œä½¿ç”¨JoySSLä»£ç ç­¾åè¯ä¹¦çš„ä¼ä¸šï¼Œåœ¨åˆè§„å®¡æ ¸ä¸­é€šè¿‡ç‡é«˜è¾¾98%ã€‚</p>
<h2 data-id="heading-7">ä¸‰ã€JoySSLï¼šå›½å†…ä»£ç ç­¾åè¯ä¹¦è¡Œä¸šæ ‡æ†</h2>
<h3 data-id="heading-8">3.1 æœ¬åœŸåŒ–æœåŠ¡ä¼˜åŠ¿</h3>
<p>ä½œä¸ºå›½å†…é¢†å…ˆçš„æ•°å­—è¯ä¹¦æœåŠ¡å•†ï¼ŒJoySSLæ·±çŸ¥å›½å†…ä¼ä¸šçš„éœ€æ±‚ä¸ç—›ç‚¹ã€‚ä¸å›½é™…å“ç‰Œç›¸æ¯”ï¼ŒJoySSLæä¾›7*24å°æ—¶ä¸­æ–‡æŠ€æœ¯æ”¯æŒï¼Œå“åº”é€Ÿåº¦æå‡60%ï¼Œè¯ä¹¦ç”³è¯·å‘¨æœŸç¼©çŸ­è‡³1-3ä¸ªå·¥ä½œæ—¥ï¼Œè¿œå¿«äºå›½é™…å“ç‰Œçš„5-7ä¸ªå·¥ä½œæ—¥ã€‚</p>
<p>é’ˆå¯¹å›½å†…ä¼ä¸šå¯¹å›½å¯†ç®—æ³•çš„éœ€æ±‚ï¼ŒJoySSLç‡å…ˆæ¨å‡ºæ”¯æŒSM2/SM3/SM4å›½å¯†ç®—æ³•çš„ä»£ç ç­¾åè¯ä¹¦ï¼Œæ»¡è¶³äº†é‡‘èã€æ”¿åŠ¡ç­‰é¢†åŸŸçš„åˆè§„è¦æ±‚ã€‚ç›®å‰ï¼Œå·²æœ‰è¶…è¿‡300å®¶æ”¿åºœæœºæ„å’Œå¤®ä¼é€‰æ‹©JoySSLçš„å›½å¯†ä»£ç ç­¾åè¯ä¹¦æœåŠ¡ã€‚</p>
<h3 data-id="heading-9">3.2 å…¨åœºæ™¯å®‰å…¨è§£å†³æ–¹æ¡ˆ</h3>
<p>JoySSLä¸ºä¼ä¸šæä¾›ä»è¯ä¹¦ç”³è¯·ã€éƒ¨ç½²åˆ°ç®¡ç†çš„å…¨ç”Ÿå‘½å‘¨æœŸæœåŠ¡ã€‚å…¶è‡ªä¸»ç ”å‘çš„è¯ä¹¦ç®¡ç†å¹³å°ï¼Œæ”¯æŒä¸€é”®æ‰¹é‡ç­¾åã€è¯ä¹¦åˆ°æœŸè‡ªåŠ¨æé†’ç­‰åŠŸèƒ½ï¼Œå¸®åŠ©ä¼ä¸šæå‡ç®¡ç†æ•ˆç‡ã€‚åŒæ—¶ï¼ŒJoySSLä¸å›½å†…ä¸»æµåº”ç”¨å•†åº—ï¼ˆå¦‚åä¸ºåº”ç”¨å¸‚åœºã€å°ç±³åº”ç”¨å•†åº—ï¼‰è¾¾æˆåˆä½œï¼Œä¸ºå¼€å‘è€…æä¾›ç­¾åå¿«é€Ÿå®¡æ ¸é€šé“ï¼Œç¼©çŸ­åº”ç”¨ä¸Šçº¿æ—¶é—´ã€‚</p>
<h3 data-id="heading-10">3.3 è¡Œä¸šæ¡ˆä¾‹ä¸å®¢æˆ·å£ç¢‘</h3>
<p>å®‰å¾½æœ¬åœ°åˆ¶é€ ä¸šå·¨å¤´æ±Ÿæ·®æ±½è½¦ï¼Œåœ¨å…¶è½¦è”ç½‘ç³»ç»Ÿå¼€å‘ä¸­é‡‡ç”¨JoySSLçš„EVä»£ç ç­¾åè¯ä¹¦ï¼Œå®ç°äº†å¯¹è½¦è½½è½¯ä»¶å…¨ç”Ÿå‘½å‘¨æœŸçš„å®‰å…¨ç®¡æ§ï¼Œæœ‰æ•ˆé˜²æ­¢äº†å›ºä»¶ç¯¡æ”¹å’Œè¿œç¨‹æ”»å‡»ï¼Œä¿éšœäº†ç™¾ä¸‡çº§è½¦è¾†çš„æ•°æ®å®‰å…¨ã€‚</p>
<p>æˆªè‡³2026å¹´1æœˆï¼ŒJoySSLå·²ä¸ºå›½å†…è¶…è¿‡2ä¸‡å®¶ä¼ä¸šæä¾›ä»£ç ç­¾åè¯ä¹¦æœåŠ¡ï¼Œå®¢æˆ·æ»¡æ„åº¦é«˜è¾¾96.8%ã€‚åœ¨Gartner 2025å¹´å›½å†…æ•°å­—è¯ä¹¦æœåŠ¡å•†æ’åä¸­ï¼ŒJoySSLå‡­å€Ÿå…¶åˆ›æ–°èƒ½åŠ›å’Œå®¢æˆ·æœåŠ¡ï¼Œè·»èº«å‰ä¸‰ã€‚</p>
<h2 data-id="heading-11">å››ã€ä»£ç ç­¾åè¯ä¹¦æœªæ¥å‘å±•è¶‹åŠ¿</h2>
<h3 data-id="heading-12">4.1 è‡ªåŠ¨åŒ–ä¸æ™ºèƒ½åŒ–</h3>
<p>éšç€DevOpsæ¨¡å¼çš„æ™®åŠï¼Œä»£ç ç­¾åå°†èå…¥è½¯ä»¶å¼€å‘æµæ°´çº¿ï¼Œå®ç°è‡ªåŠ¨åŒ–ç­¾åã€‚JoySSLå·²æ¨å‡ºä¸GitLabã€Jenkinsç­‰CI/CDå·¥å…·çš„é›†æˆæ–¹æ¡ˆï¼Œæ”¯æŒä»£ç æäº¤åè‡ªåŠ¨å®Œæˆç­¾åï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-13">4.2 å¤šåœºæ™¯èåˆ</h3>
<p>ä»£ç ç­¾åå°†ä¸åŒºå—é“¾æŠ€æœ¯ç»“åˆï¼Œå®ç°ç­¾åä¿¡æ¯çš„ä¸å¯ç¯¡æ”¹å’Œå¯è¿½æº¯ã€‚æœªæ¥ï¼Œç”¨æˆ·é€šè¿‡åŒºå—é“¾æµè§ˆå™¨å³å¯æŸ¥è¯¢è½¯ä»¶çš„ç­¾åå†å²å’Œå¼€å‘è€…ä¿¡æ¯ï¼Œè¿›ä¸€æ­¥æå‡ä¿¡ä»»åº¦ã€‚</p>
<h3 data-id="heading-14">4.3 é›¶ä¿¡ä»»æ¶æ„é€‚é…</h3>
<p>åœ¨é›¶ä¿¡ä»»æ¶æ„ä¸‹ï¼Œä»£ç ç­¾åå°†ä½œä¸ºèº«ä»½éªŒè¯çš„é‡è¦ç¯èŠ‚ï¼Œå®ç°å¯¹è½¯ä»¶çš„åŠ¨æ€ä¿¡ä»»è¯„ä¼°ã€‚JoySSLæ­£ä¸å›½å†…é›¶ä¿¡ä»»è§£å†³æ–¹æ¡ˆå‚å•†åˆä½œï¼Œæ‰“é€ åŸºäºä»£ç ç­¾åçš„é›¶ä¿¡ä»»å®‰å…¨ä½“ç³»ã€‚</p>
<h2 data-id="heading-15"/>
<p>åœ¨æ•°å­—åŒ–æ—¶ä»£ï¼Œè½¯ä»¶å®‰å…¨å·²ä¸å†æ˜¯å¯é€‰é€‰é¡¹ï¼Œè€Œæ˜¯ä¼ä¸šç”Ÿå­˜å’Œå‘å±•çš„å¿…è¦æ¡ä»¶ã€‚ä»£ç ç­¾åè¯ä¹¦ä½œä¸ºè½¯ä»¶å®‰å…¨çš„â€œæ•°å­—èº«ä»½è¯â€ï¼Œä¸ä»…èƒ½æœ‰æ•ˆé˜²æ­¢æ¶æ„è½¯ä»¶ä¼ æ’­ã€æå‡ç”¨æˆ·ä¿¡ä»»ï¼Œè¿˜èƒ½å¸®åŠ©ä¼ä¸šæ»¡è¶³åˆè§„è¦æ±‚ã€‚</p>
<p>JoySSLå‡­å€Ÿå…¶æœ¬åœŸåŒ–æœåŠ¡ä¼˜åŠ¿å’Œå…¨åœºæ™¯è§£å†³æ–¹æ¡ˆï¼Œæ­£åœ¨æˆä¸ºå›½å†…ä¼ä¸šä¿éšœè½¯ä»¶å®‰å…¨çš„é¦–é€‰åˆä½œä¼™ä¼´ã€‚æœªæ¥ï¼Œéšç€æŠ€æœ¯çš„ä¸æ–­æ¼”è¿›ï¼Œä»£ç ç­¾åè¯ä¹¦å°†åœ¨æ„å»ºå¯ä¿¡è½¯ä»¶ç”Ÿæ€ä¸­å‘æŒ¥æ›´åŠ é‡è¦çš„ä½œç”¨ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æˆ‘çš„2025ï¼šTRAEå¸®æˆ‘åœ†æ¢¦å¼€å‘çš„VibeCodingæ—¶å…‰]]></title>    <link>https://juejin.cn/post/7598587406708064297</link>    <guid>https://juejin.cn/post/7598587406708064297</guid>    <pubDate>2026-01-25T12:45:30.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598587406708064297" data-draft-id="7598744870995427371" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æˆ‘çš„2025ï¼šTRAEå¸®æˆ‘åœ†æ¢¦å¼€å‘çš„VibeCodingæ—¶å…‰"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2026-01-25T12:45:30.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é¼“æŒMVP"/> <meta itemprop="url" content="https://juejin.cn/user/3009786736020724"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æˆ‘çš„2025ï¼šTRAEå¸®æˆ‘åœ†æ¢¦å¼€å‘çš„VibeCodingæ—¶å…‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3009786736020724/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é¼“æŒMVP
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-25T12:45:30.000Z" title="Sun Jan 25 2026 12:45:30 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-25
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»31åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/65e3d64677984768b6983c87bc2fc3a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=GC3RCvLXe%2F5GZj9Uc4qSBubitag%3D" alt="image.png" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/112c25d09b494a1d9a2a002a37c676ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=1hO7T8fIXtwmC3vl455adaGRYJc%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<h2 data-id="heading-0">å¼•è¨€</h2>
<p>2025å¹´ï¼Œå¯¹æˆ‘è€Œè¨€æ˜¯å……æ»¡æŠ€æœ¯æ¢ç´¢ä¸åˆ›æ„å®è·µçš„ä¸€å¹´ã€‚è¿™ä¸€å¹´ï¼Œæˆ‘ä¸TRAEç›¸é‡ï¼Œå®ƒåƒä¸€æŠŠé’¥åŒ™ï¼Œä¸ºæˆ‘æ‰“å¼€äº†åˆ›æ„ä¸æŠ€æœ¯èåˆçš„å¤§é—¨ã€‚</p>
<p>ä»æ—…æ¸¸æœ­è®°åˆ°æ¸¸æˆå¼€å‘ï¼Œä»ç”Ÿæ´»åŠ©æ‰‹åˆ°ç¤¾äº¤ç®¡ç†ï¼ŒTRAEä¸MCPçš„ç»„åˆä»¥å…¶å¼ºå¤§çš„AIè¾…åŠ©ç¼–ç¨‹å’ŒæœåŠ¡æ•´åˆèƒ½åŠ›ï¼Œè®©æˆ‘è¿™ä¸ªå‰ç«¯å¼€å‘è€…èƒ½å¤Ÿè½»æ¾å°†åˆ›æ„å˜ä¸ºç°å®ã€‚ç°åœ¨ï¼Œå°±è®©æˆ‘å›é¡¾è¿™æ®µä¸TRAEå’ŒMCPç›¸ä¼´çš„ç²¾å½©æ—¶å…‰ã€‚</p>
<h2 data-id="heading-1">ä¸€ã€TRAEèµ‹èƒ½çš„åˆ›æ„é¡¹ç›®</h2>
<h3 data-id="heading-2">1. AIé©±åŠ¨çš„æ—…æ¸¸æœ­è®°ç”Ÿæˆå™¨ï¼šMCPèƒ½åŠ›çš„å®Œç¾å±•ç¤º</h3>
<p>ä½œä¸ºä¸€ä¸ªçƒ­çˆ±æ—…è¡Œçš„äººï¼Œæˆ‘ä¸€ç›´å›°æ‰°äºæ—…è¡Œåæ•´ç†ç…§ç‰‡å’Œæ’°å†™æ¸¸è®°çš„ç¹çã€‚2025å¹´ï¼Œæˆ‘åˆ©ç”¨TRAE Builder+MCPæœåŠ¡å¼€å‘äº†ä¸€ä¸ªAIé©±åŠ¨çš„æ—…æ¸¸æœ­è®°ç”Ÿæˆå™¨ï¼Œå½»åº•è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cd7bd65cfb6d46248a8e96d2dab1caf1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=uXGl4adc%2FGswzx9UYHQ3c06PIVY%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1fa3f24946744cf6b2c7dc349c08300e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=c3i4BMKwg%2B9rN%2BQuVKWXiwkZYps%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¿™ä¸ªåº”ç”¨çš„ç¥å¥‡ä¹‹å¤„åœ¨äºï¼šåªéœ€è¾“å…¥æ—…è¡Œçš„åŸºæœ¬ä¿¡æ¯å’Œç…§ç‰‡ï¼Œå®ƒå°±èƒ½è‡ªåŠ¨åˆ†æç…§ç‰‡å†…å®¹ï¼Œç»“åˆåœ°ç†ä½ç½®ä¿¡æ¯ï¼Œç”Ÿæˆé£æ ¼å¤šæ ·ã€å†…å®¹ä¸°å¯Œçš„æ—…è¡Œæœ­è®°ã€‚æ›´ä»¤äººæƒŠå–œçš„æ˜¯ï¼Œå®ƒè¿˜æ”¯æŒMarkdownã€HTMLã€PDFç­‰å¤šç§æ ¼å¼å¯¼å‡ºï¼Œè®©æˆ‘çš„æ—…è¡Œè®°å¿†èƒ½å¤Ÿä»¥å„ç§å½¢å¼ä¿å­˜å’Œåˆ†äº«ã€‚</p>
<p>MCPæœåŠ¡åœ¨è¿™é‡Œå‘æŒ¥äº†æ ¸å¿ƒä½œç”¨ï¼š</p>
<ul>
<li><strong>å›¾åƒåˆ†æMCP</strong>ï¼šåƒä¸€ä½ä¸“ä¸šçš„è§†è§‰è§£è¯»å¸ˆï¼Œæ™ºèƒ½è¯†åˆ«ç…§ç‰‡ä¸­çš„åœºæ™¯ã€ç‰©ä½“ã€äººç‰©å’Œæ°›å›´ï¼Œç”šè‡³èƒ½æ•æ‰åˆ°ç…§ç‰‡ä¸­çš„æƒ…æ„Ÿè‰²å½©ï¼Œä¸ºæ¸¸è®°å¢æ·»ç”ŸåŠ¨çš„æè¿°ã€‚</li>
<li><strong>é«˜å¾·åœ°å›¾MCP</strong>ï¼šå°†æ™®é€šåœ°å€ç²¾å‡†è½¬æ¢ä¸ºç»çº¬åº¦åæ ‡ï¼Œä¸ä»…èƒ½åœ¨åœ°å›¾ä¸Šæ ‡è®°æ—…è¡Œè¶³è¿¹ï¼Œè¿˜èƒ½æ™ºèƒ½æœç´¢å‘¨è¾¹çš„éšè—æ™¯ç‚¹å’Œç‰¹è‰²ç¾é£Ÿï¼Œä¸ºæ—…è¡Œæ•…äº‹å¢æ·»æƒŠå–œå…ƒç´ ã€‚</li>
<li><strong>æ–‡æœ¬ç”ŸæˆMCP</strong>ï¼šç»“åˆæ‰€æœ‰åˆ†æç»“æœï¼Œç”Ÿæˆé£æ ¼å„å¼‚çš„æ—…è¡Œæ•…äº‹ï¼Œä»æ–‡è‰ºå°æ¸…æ–°åˆ°æ·±åº¦æ—…è¡Œæ„Ÿæ‚Ÿï¼Œæ»¡è¶³ä¸åŒåœºæ™¯çš„è¡¨è¾¾éœ€æ±‚ã€‚</li>
</ul>
<p>é€šè¿‡è¿™äº›MCPæœåŠ¡çš„æ— ç¼æ•´åˆï¼Œæœ€ç»ˆç”Ÿæˆçš„æ—…è¡Œæ•…äº‹ä¸ªæ€§åŒ–åè¶³ï¼Œç»†èŠ‚ä¸°å¯Œï¼Œæƒ…æ„ŸçœŸæŒšï¼Œæ¯”æˆ‘è‡ªå·±å†™çš„è¿˜è¦ç²¾å½©ã€‚è¿™è®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°ï¼ŒMCPä¸ä»…æ˜¯æŠ€æœ¯å·¥å…·ï¼Œæ›´æ˜¯åˆ›æ„çš„æ”¾å¤§å™¨ã€‚</p>
<h3 data-id="heading-3">2. åŸºäºMCPä¸Traeæ¡†æ¶çš„"äººæƒ…è´¦æœ¬"ç³»ç»Ÿï¼šæ™ºèƒ½ç¤¾äº¤ç®¡ç†çš„æ–°èŒƒå¼</h3>
<p>ä¸­å›½äººçš„ç¤¾äº¤å¾€æ¥ä¸­ï¼Œ"äººæƒ…"æ˜¯ä¸€ä¸ªé‡è¦çš„ç»„æˆéƒ¨åˆ†ã€‚ä½†éšç€æ—¶é—´æ¨ç§»ï¼Œäº‹åŠ¡ç¹æ‚ï¼Œå¾ˆéš¾è®°å¾—æ¸…è¿™äº›å¾€æ¥è´¦ã€‚ä¸ºæ­¤ï¼Œæˆ‘åˆ©ç”¨TRAEçš„Vibe Codingå¼€å‘èƒ½åŠ›ï¼Œç»“åˆMCPæŠ€æœ¯ï¼Œå¼€å‘äº†ä¸€ä¸ª"äººæƒ…è´¦æœ¬"ç³»ç»Ÿã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/61cbd800f1584a55911082a739261a68~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=5ZsNzU5%2FsgybGF5cXrLsx7qZSEs%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7790eafa19114ae2b2e384dc3211e9f1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=%2BNA%2FQrET7GDw5WxhyYcgTFbzQ8I%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¿™ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒç‰¹ç‚¹æ˜¯æ”¯æŒè‡ªç„¶è¯­è¨€ç®¡ç†äººé™…å¾€æ¥ï¼Œè®©ç”¨æˆ·èƒ½å¤Ÿè½»æ¾è®°å½•å’ŒæŸ¥è¯¢ç¤¾äº¤è´¦ç›®ã€‚æ— è®ºæ˜¯æ”¶åˆ°çš„çº¢åŒ…ï¼Œè¿˜æ˜¯éœ€è¦éšä»½å­çš„åº†å…¸ï¼Œéƒ½èƒ½é€šè¿‡ç®€å•çš„è¯­è¨€æè¿°å¿«é€Ÿè®°å½•ï¼Œä»æ­¤äººé™…å¾€æ¥ä¸å†å¤´ç–¼ã€‚</p>
<p>MCPæŠ€æœ¯åœ¨è¿™é‡Œçš„åº”ç”¨è®©ç³»ç»Ÿæ›´åŠ æ™ºèƒ½ï¼š</p>
<ul>
<li><strong>è‡ªç„¶è¯­è¨€å¤„ç†MCP</strong>ï¼šç†è§£ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€è¾“å…¥ï¼Œè‡ªåŠ¨æå–å…³é”®ä¿¡æ¯ï¼ˆå¦‚äººç‰©ã€é‡‘é¢ã€äº‹ä»¶ç±»å‹ã€æ—¥æœŸç­‰ï¼‰ï¼Œå°†éç»“æ„åŒ–çš„è¯­è¨€æè¿°è½¬åŒ–ä¸ºç»“æ„åŒ–çš„æ•°æ®è®°å½•ã€‚</li>
<li><strong>æ•°æ®å­˜å‚¨ä¸åˆ†æMCP</strong>ï¼šå®‰å…¨å­˜å‚¨ç”¨æˆ·çš„ç¤¾äº¤å¾€æ¥æ•°æ®ï¼Œå¹¶æä¾›æ™ºèƒ½åˆ†æåŠŸèƒ½ï¼Œå¦‚å¾€æ¥é¢‘æ¬¡ç»Ÿè®¡ã€é‡‘é¢åˆ†æã€å…³ç³»ç½‘ç»œå›¾ç­‰ï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°ç†è§£è‡ªå·±çš„ç¤¾äº¤ç½‘ç»œã€‚</li>
<li><strong>æé†’æœåŠ¡MCP</strong>ï¼šæ ¹æ®å†å²æ•°æ®å’Œæ—¶é—´èŠ‚ç‚¹ï¼Œæ™ºèƒ½æé†’ç”¨æˆ·é‡è¦çš„ç¤¾äº¤äº‹ä»¶ï¼Œå¦‚æœ‹å‹çš„ç”Ÿæ—¥ã€çºªå¿µæ—¥ç­‰ï¼Œé¿å…å› ç–å¿½è€Œé”™è¿‡é‡è¦çš„ç¤¾äº¤åœºåˆã€‚</li>
</ul>
<p>é€šè¿‡è¿™äº›MCPæœåŠ¡çš„æ•´åˆï¼Œ"äººæƒ…è´¦æœ¬"ç³»ç»Ÿä¸ä»…è§£å†³äº†å®é™…é—®é¢˜ï¼Œè¿˜ä¸ºç”¨æˆ·æä¾›äº†å…¨æ–°çš„ç¤¾äº¤ç®¡ç†ä½“éªŒã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼ŒMCPçš„ä»·å€¼åœ¨äºå®ƒèƒ½å¤Ÿå°†å¤æ‚çš„æŠ€æœ¯èƒ½åŠ›å°è£…ä¸ºç®€å•æ˜“ç”¨çš„æœåŠ¡ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºè§£å†³ç”¨æˆ·é—®é¢˜ã€‚</p>
<h3 data-id="heading-4">3. æ™ºèƒ½ç¡çœ åŠ©æ‰‹Agentï¼šMCPé©±åŠ¨çš„å¥åº·ç®¡ç†</h3>
<p>ç”±äºå·¥ä½œå‹åŠ›ï¼Œæˆ‘æ›¾ç»å¸¸é­å—å¤±çœ çš„å›°æ‰°ï¼Œæ—©ä¸Šé†’æ¥æ€»æ˜¯å¤´ç–¼ä¸å·²ã€‚æ„è¯†åˆ°è¿™ä¸ªé—®é¢˜åï¼Œæˆ‘æƒ³åˆ°äº†ç”¨TRAEçš„AIæ™ºèƒ½ä½“åŠŸèƒ½ç»“åˆMCPæœåŠ¡å¼€å‘ä¸€ä¸ªç¡çœ åŠ©æ‰‹ã€‚</p>
<p>è™½ç„¶æœ€åˆåªæ˜¯æŠ±ç€å°è¯•çš„å¿ƒæ€ï¼Œä½†TRAEä¸MCPçš„ç»„åˆè®©æˆ‘æƒŠå–œä¸å·²ã€‚é€šè¿‡ä¸ç¡çœ åŠ©æ‰‹çš„äº¤æµï¼Œå®ƒèƒ½å¤Ÿåˆ†ææˆ‘çš„ç¡çœ ä¹ æƒ¯ï¼Œæä¾›ä¸ªæ€§åŒ–çš„ç¡çœ å»ºè®®ï¼Œç”šè‡³é€šè¿‡æ”¾æ¾éŸ³ä¹å’Œå†¥æƒ³æŒ‡å¯¼å¸®åŠ©æˆ‘æ”¹å–„ç¡çœ è´¨é‡ã€‚è¿™ä¸ªå°å°çš„å·¥å…·ï¼Œæˆä¸ºäº†æˆ‘2025å¹´æœ€è´´å¿ƒçš„å¥åº·ä¼™ä¼´ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d7d168f4391f4266b4cc454c16055dbe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=IkpsJynwo89yBJnmb3E7B9kPkc8%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>MCPæœåŠ¡åœ¨è¿™é‡Œçš„åº”ç”¨è®©ç¡çœ åŠ©æ‰‹æ›´åŠ æ™ºèƒ½å’Œå®ç”¨ï¼š</p>
<ul>
<li><strong>è¯­éŸ³äº¤äº’MCP</strong>ï¼šæä¾›è‡ªç„¶æµç•…çš„è¯­éŸ³å¯¹è¯èƒ½åŠ›ï¼Œè®©æˆ‘èƒ½å¤Ÿåœ¨ç¡å‰æ”¾æ¾çŠ¶æ€ä¸‹ä¸åŠ©æ‰‹äº¤æµï¼Œæ— éœ€åŠ¨æ‰‹æ“ä½œã€‚</li>
<li><strong>æ•°æ®åˆ†æMCP</strong>ï¼šè®°å½•å’Œåˆ†ææˆ‘çš„ç¡çœ æ•°æ®ï¼ŒåŒ…æ‹¬å…¥ç¡æ—¶é—´ã€ç¡çœ æ—¶é•¿ã€ç¡çœ è´¨é‡ç­‰ï¼Œç”Ÿæˆè¯¦ç»†çš„ç¡çœ æŠ¥å‘Šï¼Œå¸®åŠ©æˆ‘äº†è§£è‡ªå·±çš„ç¡çœ çŠ¶å†µã€‚</li>
<li><strong>å†…å®¹ç”ŸæˆMCP</strong>ï¼šæ ¹æ®æˆ‘çš„åå¥½å’Œå½“å‰çŠ¶æ€ï¼Œç”Ÿæˆä¸ªæ€§åŒ–çš„æ”¾æ¾éŸ³ä¹å’Œå†¥æƒ³æŒ‡å¯¼ï¼Œå¸®åŠ©æˆ‘æ›´å¿«è¿›å…¥ç¡çœ çŠ¶æ€ã€‚</li>
<li><strong>å¥åº·å»ºè®®MCP</strong>ï¼šç»“åˆç¡çœ æ•°æ®å’Œä¸ªäººæƒ…å†µï¼Œæä¾›ç§‘å­¦çš„ç¡çœ å»ºè®®ï¼Œå¦‚è°ƒæ•´ä½œæ¯æ—¶é—´ã€æ”¹å–„ç¡çœ ç¯å¢ƒç­‰ï¼Œå¸®åŠ©æˆ‘å»ºç«‹å¥åº·çš„ç¡çœ ä¹ æƒ¯ã€‚</li>
</ul>
<p>é€šè¿‡è¿™äº›MCPæœåŠ¡çš„æ•´åˆï¼Œæ™ºèƒ½ç¡çœ åŠ©æ‰‹ä¸ä»…æ˜¯ä¸€ä¸ªç®€å•çš„åº”ç”¨ï¼Œæ›´æ˜¯ä¸€ä¸ªä¸ªæ€§åŒ–çš„å¥åº·ç®¡ç†ä¸“å®¶ã€‚è¿™è®©æˆ‘è®¤è¯†åˆ°ï¼ŒMCPæŠ€æœ¯åœ¨å¥åº·é¢†åŸŸæœ‰ç€å·¨å¤§çš„åº”ç”¨æ½œåŠ›ï¼Œèƒ½å¤Ÿä¸ºäººä»¬çš„ç”Ÿæ´»å¸¦æ¥å®è´¨æ€§çš„æ”¹å–„ã€‚</p>
<h3 data-id="heading-5">4. ç¢°ç¢°è½¦åƒè±†å¤§æˆ˜æ¸¸æˆï¼šMCPå¢å¼ºçš„æ¸¸æˆä½“éªŒ</h3>
<p>æ¸¸æˆå¼€å‘ä¸€ç›´æ˜¯æˆ‘çš„å…´è¶£æ‰€åœ¨ï¼Œä½†ä¼ ç»Ÿçš„æ¸¸æˆå¼€å‘æµç¨‹å¤æ‚ä¸”è€—æ—¶ã€‚2025å¹´ï¼Œæˆ‘åˆ©ç”¨Traeå¯¹è¯å¼ç¼–ç¨‹ï¼Œç»“åˆHTML5 CanvasæŠ€æœ¯å’ŒMCPæœåŠ¡ï¼Œå¼€å‘äº†ä¸€æ¬¾ç¢°ç¢°è½¦åƒè±†å¤§æˆ˜æ¸¸æˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e8b9e7aa4bd848b68f8b69fbe9d738df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=PkG1BOkh3jbQDftpcDL4w8gnjg4%3D" alt="pp.gif" loading="lazy"/></p>
<p>è¿™æ˜¯ä¸€æ¬¾ä¼‘é—²ç«æŠ€æ¸¸æˆï¼Œç©å®¶æ§åˆ¶ä¸€è¾†ç¢°ç¢°è½¦ä¸å…¶ä»–AIå¯¹æ‰‹åœ¨åœ°å›¾ä¸Šäº‰å¤ºèµ„æºã€‚æ¸¸æˆå®ç°äº†çˆ½å¿«çš„ç‰©ç†ç¢°æ’ä½“éªŒã€æ™ºèƒ½çš„AIå¯¹æ‰‹è¡Œä¸ºã€éšæœºç”Ÿæˆçš„å¥–åŠ±ç³»ç»Ÿå’Œå®æ—¶è®¡åˆ†æ’è¡Œæ¦œã€‚æ•´ä¸ªå¼€å‘è¿‡ç¨‹ä¸­ï¼ŒTRAEçš„ä»£ç ç”Ÿæˆå’Œä¼˜åŒ–èƒ½åŠ›è®©æˆ‘èƒ½å¤Ÿåœ¨çŸ­æ—¶é—´å†…å®ç°å¤æ‚çš„æ¸¸æˆé€»è¾‘å’ŒAIè¡Œä¸ºï¼Œè€ŒMCPæœåŠ¡åˆ™ä¸ºæ¸¸æˆå¢æ·»äº†æ›´å¤šç²¾å½©ç‰¹æ€§ã€‚</p>
<p>MCPæœåŠ¡åœ¨è¿™é‡Œçš„åº”ç”¨è®©æ¸¸æˆæ›´åŠ ä¸°å¯Œå’Œæ™ºèƒ½ï¼š</p>
<ul>
<li><strong>AIè¡Œä¸ºMCP</strong>ï¼šä¸ºæ¸¸æˆä¸­çš„AIå¯¹æ‰‹æä¾›æ™ºèƒ½å†³ç­–èƒ½åŠ›ï¼Œä½¿å®ƒä»¬èƒ½å¤Ÿè¯„ä¼°åœ°å›¾ä¸Šçš„èµ„æºä»·å€¼ï¼Œé€‰æ‹©æœ€ä¼˜ç›®æ ‡ï¼Œç”šè‡³èƒ½å¤Ÿå­¦ä¹ ç©å®¶çš„æ¸¸æˆé£æ ¼å¹¶è°ƒæ•´ç­–ç•¥ã€‚</li>
<li><strong>éŸ³æ•ˆMCP</strong>ï¼šæ ¹æ®æ¸¸æˆåœºæ™¯å’Œç©å®¶æ“ä½œï¼Œç”ŸæˆåŠ¨æ€çš„éŸ³æ•ˆå’ŒèƒŒæ™¯éŸ³ä¹ï¼Œå¢å¼ºæ¸¸æˆçš„æ²‰æµ¸æ„Ÿå’Œè¶£å‘³æ€§ã€‚</li>
<li><strong>æ•°æ®åˆ†æMCP</strong>ï¼šè®°å½•ç©å®¶çš„æ¸¸æˆæ•°æ®ï¼Œå¦‚æ¸¸æˆæ—¶é•¿ã€å¾—åˆ†ã€å¸¸ç”¨ç­–ç•¥ç­‰ï¼Œç”Ÿæˆä¸ªäººæ¸¸æˆæŠ¥å‘Šï¼Œå¸®åŠ©ç©å®¶äº†è§£è‡ªå·±çš„æ¸¸æˆé£æ ¼å’Œæ”¹è¿›æ–¹å‘ã€‚</li>
<li><strong>ç¤¾äº¤åˆ†äº«MCP</strong>ï¼šæä¾›ä¾¿æ·çš„æ¸¸æˆæˆç»©åˆ†äº«åŠŸèƒ½ï¼Œè®©ç©å®¶èƒ½å¤Ÿè½»æ¾å°†è‡ªå·±çš„ç²¾å½©è¡¨ç°åˆ†äº«åˆ°ç¤¾äº¤å¹³å°ï¼Œå¢åŠ æ¸¸æˆçš„ç¤¾äº¤å±æ€§ã€‚</li>
</ul>
<p>é€šè¿‡è¿™äº›MCPæœåŠ¡çš„æ•´åˆï¼Œç¢°ç¢°è½¦åƒè±†å¤§æˆ˜æ¸¸æˆä¸ä»…å…·æœ‰å‡ºè‰²çš„æ¸¸æˆä½“éªŒï¼Œè¿˜å…·å¤‡äº†æ™ºèƒ½å’Œç¤¾äº¤ç‰¹æ€§ã€‚è¿™è®©æˆ‘æ„è¯†åˆ°ï¼ŒMCPæŠ€æœ¯èƒ½å¤Ÿä¸ºæ¸¸æˆå¼€å‘å¸¦æ¥å…¨æ–°çš„å¯èƒ½æ€§ï¼Œè®©æ¸¸æˆæ›´åŠ æ™ºèƒ½ã€ä¸ªæ€§åŒ–å’Œç¤¾äº¤åŒ–ã€‚</p>
<h3 data-id="heading-6">5. "çŒ«é¼ å¤§ä½œæˆ˜"å°æ¸¸æˆï¼šMCPåŠ©åŠ›çš„å¿«é€Ÿå¼€å‘</h3>
<p>ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä¸€ç›´å¸Œæœ›èƒ½å¤Ÿå¿«é€Ÿå®ç°è‡ªå·±çš„æ¸¸æˆåˆ›æ„ã€‚2025å¹´ï¼Œæˆ‘å°è¯•äº†è±†åŒ…AI+Trae IDE+MCPçš„ç»„åˆï¼Œä»…ç”¨ä¸€å¥è¯å°±å¼€å‘äº†"çŒ«é¼ å¤§ä½œæˆ˜"ç½‘é¡µå°æ¸¸æˆã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7501824bf044355a77d8a047a5ea960~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=fofUbk7PLiAk6rXrwsC61xcTEf4%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æ•´ä¸ªå¼€å‘è¿‡ç¨‹å§‹äºä¸€ä¸ªç®€å•çš„éœ€æ±‚æè¿°ï¼š"å¸®æˆ‘å¼€å‘ä¸€ä¸ªçŒ«æ‰è€é¼ çš„ç½‘é¡µå°æ¸¸æˆ"ã€‚è±†åŒ…AIé€šè¿‡æ™ºèƒ½åˆ†æå’Œä»£ç ç”Ÿæˆï¼Œå¿«é€Ÿå®ç°äº†æ¸¸æˆçš„åŸºæœ¬æ¡†æ¶ï¼Œè€ŒMCPæœåŠ¡åˆ™ä¸ºæ¸¸æˆå¢æ·»äº†æ›´å¤šæ™ºèƒ½ç‰¹æ€§ã€‚æœ€ç»ˆçš„æ¸¸æˆåŒ…å«äº†é”®ç›˜å’Œè§¦æ‘¸æ§åˆ¶ã€åŠ¨æ€éš¾åº¦ç³»ç»Ÿã€æ™ºèƒ½çš„è€é¼ AIå’Œå“åº”å¼è®¾è®¡ï¼Œèƒ½å¤Ÿåœ¨ä¸åŒè®¾å¤‡ä¸Šæä¾›è‰¯å¥½çš„æ¸¸æˆä½“éªŒã€‚</p>
<p>MCPæœåŠ¡åœ¨è¿™é‡Œçš„åº”ç”¨è®©æ¸¸æˆå¼€å‘æ›´åŠ é«˜æ•ˆå’Œæ™ºèƒ½ï¼š</p>
<ul>
<li><strong>æ¸¸æˆé€»è¾‘MCP</strong>ï¼šæä¾›é¢„è®¾çš„æ¸¸æˆé€»è¾‘æ¨¡å—ï¼Œå¦‚ç¢°æ’æ£€æµ‹ã€AIè¡Œä¸ºã€è®¡åˆ†ç³»ç»Ÿç­‰ï¼Œå¤§å¤§å‡å°‘äº†æ‰‹åŠ¨ç¼–å†™ä»£ç çš„å·¥ä½œé‡ã€‚</li>
<li><strong>å¤šè®¾å¤‡é€‚é…MCP</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆé€‚é…ä¸åŒè®¾å¤‡çš„ä»£ç ï¼Œç¡®ä¿æ¸¸æˆåœ¨PCã€å¹³æ¿å’Œæ‰‹æœºä¸Šéƒ½èƒ½æä¾›è‰¯å¥½çš„ä½“éªŒï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™å¤æ‚çš„å“åº”å¼ä»£ç ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–MCP</strong>ï¼šæ ¹æ®æ¸¸æˆçš„å…·ä½“æƒ…å†µï¼Œè‡ªåŠ¨ä¼˜åŒ–ä»£ç ç»“æ„å’Œèµ„æºåŠ è½½ç­–ç•¥ï¼Œç¡®ä¿æ¸¸æˆåœ¨å„ç§è®¾å¤‡ä¸Šéƒ½èƒ½æµç•…è¿è¡Œã€‚</li>
<li><strong>ç”¨æˆ·ä½“éªŒMCP</strong>ï¼šæä¾›æ¸¸æˆæ•™ç¨‹ã€éš¾åº¦è°ƒæ•´ã€æˆå°±ç³»ç»Ÿç­‰é€šç”¨æ¸¸æˆåŠŸèƒ½æ¨¡å—ï¼Œè®©æ¸¸æˆæ›´åŠ å®Œæ•´å’Œä¸“ä¸šã€‚</li>
</ul>
<p>é€šè¿‡è¿™äº›MCPæœåŠ¡çš„æ•´åˆï¼Œ"çŒ«é¼ å¤§ä½œæˆ˜"å°æ¸¸æˆçš„å¼€å‘æ—¶é—´å¤§å¤§ç¼©çŸ­ï¼Œè€Œæ¸¸æˆè´¨é‡å´å¾—åˆ°äº†ä¿è¯ã€‚è¿™è®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°ï¼ŒMCPæŠ€æœ¯æ˜¯å¿«é€ŸåŸå‹å¼€å‘å’Œåˆ›æ„éªŒè¯çš„å¼ºå¤§å·¥å…·ï¼Œèƒ½å¤Ÿè®©å¼€å‘è€…åœ¨çŸ­æ—¶é—´å†…å°†åˆ›æ„å˜ä¸ºç°å®ã€‚</p>
<h2 data-id="heading-7">äºŒã€TRAEçš„2025å¹´æ›´æ–°å˜è¿</h2>
<p>2025å¹´æ˜¯TRAEå¿«é€Ÿå‘å±•çš„ä¸€å¹´ï¼Œåœ¨è¿™ä¸€å¹´é‡Œï¼ŒTRAEæ¨å‡ºäº†å¤šé¡¹é‡è¦æ›´æ–°ï¼Œä¸æ–­æå‡å¼€å‘è€…ä½“éªŒå’Œèƒ½åŠ›ã€‚è¿™äº›æ›´æ–°ä¸ä»…ä¸°å¯Œäº†TRAEçš„åŠŸèƒ½ï¼Œä¹Ÿä¸ºVibeCodingçš„å®è·µæä¾›äº†æ›´åŠ å¼ºå¤§çš„æ”¯æŒã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/401244d4976848f693805c2cd1d1aada~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=G6zrm7MC6eaS8fS6vXYrxZsPhyg%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä½œä¸ºä¸€ä¸ªå—ç›ŠåŒªæµ…çš„å¼€å‘è€…ï¼Œæ„Ÿè°¢TRAEçš„é™ªä¼´ï¼Œä¹Ÿæ„Ÿè°¢æ— æ•°å·¥ä½œäººå‘˜èƒŒåé»˜é»˜çš„ä»˜å‡ºï¼</p>
<h3 data-id="heading-8">2.1 TRAEæ’ä»¶ç³»ç»Ÿçš„æ¨å‡º</h3>
<p>å¹´åˆï¼ŒTRAEæ­£å¼æ¨å‡ºäº†æ’ä»¶ç³»ç»Ÿï¼Œä¸ºå¼€å‘è€…æä¾›äº†æ‰©å±•TRAEåŠŸèƒ½çš„å…¨æ–°æ–¹å¼ã€‚æ’ä»¶ç³»ç»Ÿçš„æ ¸å¿ƒä»·å€¼åœ¨äºï¼š</p>
<ul>
<li><strong>åŠŸèƒ½æ‰©å±•</strong>ï¼šå¼€å‘è€…å¯ä»¥é€šè¿‡å®‰è£…å’Œå¼€å‘æ’ä»¶ï¼Œä¸ºTRAEæ·»åŠ æ–°çš„åŠŸèƒ½å’Œèƒ½åŠ›ï¼Œå¦‚ç‰¹å®šé¢†åŸŸçš„ä»£ç ç”Ÿæˆã€è‡ªå®šä¹‰MCPæœåŠ¡é›†æˆç­‰ã€‚</li>
<li><strong>ä¸ªæ€§åŒ–å®šåˆ¶</strong>ï¼šæ¯ä¸ªå¼€å‘è€…éƒ½å¯ä»¥æ ¹æ®è‡ªå·±çš„å·¥ä½œæµç¨‹å’Œåå¥½ï¼Œå®šåˆ¶TRAEçš„ç•Œé¢å’ŒåŠŸèƒ½ï¼Œæ‰“é€ ä¸“å±çš„å¼€å‘ç¯å¢ƒã€‚</li>
<li><strong>ç¤¾åŒºç”Ÿæ€</strong>ï¼šæ’ä»¶ç³»ç»Ÿå‚¬ç”Ÿäº†æ´»è·ƒçš„å¼€å‘è€…ç¤¾åŒºï¼Œå¼€å‘è€…å¯ä»¥åˆ†äº«è‡ªå·±å¼€å‘çš„æ’ä»¶ï¼Œä¹Ÿå¯ä»¥ä»ç¤¾åŒºè·å–ä»–äººå¼€å‘çš„ä¼˜è´¨æ’ä»¶ï¼Œå…±åŒä¸°å¯ŒTRAEçš„åŠŸèƒ½ç”Ÿæ€ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/adbb33f0b0064e9e8b4005cb9264d3a8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=qgtn45wYpqLzXkTFdMMq6JXU%2FLQ%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘è¿˜ç‰¹åˆ«å–œæ¬¢å‰ç«¯ç›¸å…³çš„æ’ä»¶ï¼Œå¦‚Reactç»„ä»¶ç”Ÿæˆæ’ä»¶ã€Tailwind CSSæ™ºèƒ½æç¤ºæ’ä»¶ç­‰ï¼Œè¿™äº›æ’ä»¶å¤§å¤§æé«˜äº†æˆ‘çš„å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-9">2.2 TRAE Builderçš„å…¨é¢å‡çº§</h3>
<p>å¹´ä¸­ï¼ŒTRAE Builderè¿æ¥äº†é‡å¤§å‡çº§ï¼Œä»ä¸€ä¸ªç®€å•çš„é¡¹ç›®ç”Ÿæˆå·¥å…·è¿›åŒ–ä¸ºåŠŸèƒ½å¼ºå¤§çš„å¯è§†åŒ–å¼€å‘å¹³å°ï¼š</p>
<ul>
<li><strong>å¯è§†åŒ–ç•Œé¢è®¾è®¡</strong>ï¼šæ–°å¢äº†æ‹–æ‹½å¼ç•Œé¢è®¾è®¡å™¨ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡å¯è§†åŒ–æ“ä½œåˆ›å»ºå’Œç¼–è¾‘UIç•Œé¢ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™HTMLå’ŒCSSä»£ç ã€‚</li>
<li><strong>æµç¨‹ç¼–æ’èƒ½åŠ›</strong>ï¼šæä¾›äº†ç›´è§‚çš„æµç¨‹ç¼–æ’å·¥å…·ï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡æ‹–æ‹½å’Œè¿æ¥ä¸åŒçš„èŠ‚ç‚¹ï¼Œæ„å»ºå¤æ‚çš„ä¸šåŠ¡é€»è¾‘å’Œå·¥ä½œæµç¨‹ã€‚</li>
<li><strong>MCPæœåŠ¡å¯è§†åŒ–é…ç½®</strong>ï¼šæ”¯æŒé€šè¿‡å¯è§†åŒ–ç•Œé¢é…ç½®å’Œç®¡ç†MCPæœåŠ¡ï¼Œå¤§å¤§é™ä½äº†MCPæœåŠ¡çš„ä½¿ç”¨é—¨æ§›ã€‚</li>
<li><strong>å¤šå¹³å°å‘å¸ƒ</strong>ï¼šå†…ç½®äº†å¤šå¹³å°å‘å¸ƒåŠŸèƒ½ï¼Œå¼€å‘è€…å¯ä»¥ä¸€é”®å°†åº”ç”¨å‘å¸ƒåˆ°Webã€ç§»åŠ¨ç«¯ã€æ¡Œé¢ç«¯ç­‰å¤šä¸ªå¹³å°ï¼Œæ— éœ€ä¸ºä¸åŒå¹³å°å•ç‹¬å¼€å‘ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32607827bc984b00a36daad4a8161028~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=jJu9%2FKOHU60gVXruo44crp%2Bbeic%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>TRAE Builderçš„å‡çº§ï¼Œè®©æˆ‘èƒ½å¤Ÿæ›´åŠ é«˜æ•ˆåœ°æ„å»ºå®Œæ•´çš„åº”ç”¨ï¼Œä»ç•Œé¢è®¾è®¡åˆ°åŠŸèƒ½å®ç°ï¼Œéƒ½å¯ä»¥åœ¨ä¸€ä¸ªç»Ÿä¸€çš„å¹³å°ä¸Šå®Œæˆï¼Œå¤§å¤§ç®€åŒ–äº†å¼€å‘æµç¨‹ã€‚</p>
<h3 data-id="heading-10">2.3 SOLOæ¨¡å¼çš„åˆ›æ–°</h3>
<p>ä¸‹åŠå¹´ï¼ŒTRAEæ¨å‡ºäº†å…¨æ–°çš„SOLOæ¨¡å¼ï¼Œä¸ºä¸ªäººå¼€å‘è€…æä¾›äº†æ›´åŠ ä¸“æ³¨å’Œé«˜æ•ˆçš„å¼€å‘ç¯å¢ƒï¼š</p>
<ul>
<li><strong>æ²‰æµ¸å¼å¼€å‘ä½“éªŒ</strong>ï¼šSOLOæ¨¡å¼æä¾›äº†æç®€çš„ç•Œé¢è®¾è®¡ï¼Œç§»é™¤äº†æ‰€æœ‰ä¸å¿…è¦çš„å¹²æ‰°å…ƒç´ ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿå®Œå…¨ä¸“æ³¨äºä»£ç å’Œåˆ›æ„ã€‚</li>
<li><strong>æ™ºèƒ½ä¸Šä¸‹æ–‡æ„ŸçŸ¥</strong>ï¼šç³»ç»Ÿèƒ½å¤Ÿæ™ºèƒ½æ„ŸçŸ¥å¼€å‘è€…çš„å·¥ä½œä¸Šä¸‹æ–‡ï¼Œè‡ªåŠ¨æä¾›ç›¸å…³çš„ä»£ç å»ºè®®ã€æ–‡æ¡£å’Œå·¥å…·ï¼Œå‡å°‘äº†å¼€å‘è€…çš„è®¤çŸ¥è´Ÿæ‹…ã€‚</li>
<li><strong>ç¦»çº¿å·¥ä½œèƒ½åŠ›</strong>ï¼šSOLOæ¨¡å¼æ”¯æŒå®Œå…¨ç¦»çº¿å·¥ä½œï¼Œå¼€å‘è€…å¯ä»¥åœ¨æ²¡æœ‰ç½‘ç»œè¿æ¥çš„æƒ…å†µä¸‹ç»§ç»­å¼€å‘ï¼Œç¡®ä¿äº†å¼€å‘å·¥ä½œçš„è¿ç»­æ€§ã€‚</li>
<li><strong>ä¸ªäººçŸ¥è¯†ç®¡ç†</strong>ï¼šå†…ç½®äº†ä¸ªäººçŸ¥è¯†ç®¡ç†ç³»ç»Ÿï¼Œè‡ªåŠ¨è®°å½•å’Œç»„ç»‡å¼€å‘è€…çš„ä»£ç ç‰‡æ®µã€è§£å†³æ–¹æ¡ˆå’Œå¼€å‘ç»éªŒï¼Œå½¢æˆä¸ªäººçš„å¼€å‘çŸ¥è¯†åº“ã€‚</li>
</ul>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f43a0b8fe61846eb8768fd05b0d263b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=uapHWN2PV%2FL81ydmDD1W0QG5Dlg%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>è¿™æ—¶æˆ‘è‹¦è‹¦æ’é˜Ÿç­‰äº†å¾ˆä¹…ï¼Œå¿ƒå¿ƒå¿µå¿µçš„SOLOæ¨¡å¼ï¼Œç»ˆäºç”¨ä¸Šäº†ï¼è¿˜æ˜¯å…è´¹çš„ï¼</p>
<p>SOLOæ¨¡å¼çš„æ¨å‡ºï¼Œè®©æˆ‘åœ¨å¼€å‘è¿‡ç¨‹ä¸­èƒ½å¤Ÿæ›´åŠ ä¸“æ³¨å’Œé«˜æ•ˆï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤æ‚çš„é—®é¢˜æ—¶ï¼Œæ²‰æµ¸å¼çš„å¼€å‘ç¯å¢ƒå¸®åŠ©æˆ‘æ›´å¥½åœ°é›†ä¸­æ³¨æ„åŠ›ï¼Œæ‰¾åˆ°æœ€ä½³çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-11">2.4 å…¶ä»–é‡è¦æ›´æ–°</h3>
<p>é™¤äº†ä¸Šè¿°é‡å¤§æ›´æ–°å¤–ï¼ŒTRAEåœ¨2025å¹´è¿˜æ¨å‡ºäº†å¤šé¡¹å…¶ä»–é‡è¦æ›´æ–°ï¼š</p>
<ul>
<li><strong>AIèƒ½åŠ›å¢å¼º</strong>ï¼šä¸æ–­æå‡TRAEçš„AIç†è§£å’Œç”Ÿæˆèƒ½åŠ›ï¼Œæ”¯æŒæ›´åŠ å¤æ‚å’ŒæŠ½è±¡çš„éœ€æ±‚æè¿°ï¼Œç”Ÿæˆæ›´åŠ å‡†ç¡®å’Œé«˜è´¨é‡çš„ä»£ç ã€‚</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šæŒç»­ä¼˜åŒ–TRAEçš„è¿è¡Œæ€§èƒ½ï¼Œå‡å°‘å“åº”æ—¶é—´ï¼Œæé«˜ä»£ç ç”Ÿæˆé€Ÿåº¦ï¼Œç¡®ä¿æµç•…çš„å¼€å‘ä½“éªŒã€‚</li>
<li><strong>å¤šè¯­è¨€æ”¯æŒ</strong>ï¼šå¢åŠ äº†å¯¹æ›´å¤šç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶çš„æ”¯æŒï¼Œæ‰©å¤§äº†TRAEçš„é€‚ç”¨èŒƒå›´ã€‚</li>
<li><strong>å®‰å…¨æ€§æå‡</strong>ï¼šåŠ å¼ºäº†ä»£ç å’Œæ•°æ®çš„å®‰å…¨æ€§ï¼Œç¡®ä¿å¼€å‘è€…çš„çŸ¥è¯†äº§æƒå’Œæ•æ„Ÿä¿¡æ¯å¾—åˆ°å……åˆ†ä¿æŠ¤ã€‚</li>
</ul>
<p>è¿™äº›æ›´æ–°ï¼Œè®©TRAEåœ¨2025å¹´å®ç°äº†ä»å·¥å…·åˆ°å¹³å°çš„è·¨è¶Šï¼Œæˆä¸ºäº†ä¸€ä¸ªåŠŸèƒ½å®Œæ•´ã€ç”Ÿæ€ä¸°å¯Œçš„AIè¾…åŠ©å¼€å‘å¹³å°ã€‚ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘æ·±åˆ»æ„Ÿå—åˆ°äº†è¿™äº›æ›´æ–°å¸¦æ¥çš„ä¾¿åˆ©å’Œæ•ˆç‡æå‡ï¼Œå®ƒä»¬ä¸ä»…æ”¹å˜äº†æˆ‘çš„å¼€å‘æ–¹å¼ï¼Œä¹Ÿè®©æˆ‘å¯¹ç¼–ç¨‹çš„æœªæ¥å……æ»¡äº†æœŸå¾…ã€‚</p>
<h2 data-id="heading-12">ä¸‰ã€TRAEå¸¦æ¥çš„æŠ€æœ¯ä½“éªŒä¸æ”¶è·</h2>
<h3 data-id="heading-13">1. é™ä½ç¼–ç¨‹é—¨æ§›ï¼Œæé«˜å¼€å‘æ•ˆç‡</h3>
<p>åœ¨ä¸TRAEç›¸ä¼´çš„2025å¹´ï¼Œæˆ‘æ·±åˆ»ä½“ä¼šåˆ°äº†AIè¾…åŠ©ç¼–ç¨‹å¦‚ä½•å½»åº•æ”¹å˜ä¼ ç»Ÿçš„è½¯ä»¶å¼€å‘æµç¨‹ã€‚æ— è®ºæ˜¯å¤æ‚çš„æ—…æ¸¸æœ­è®°ç”Ÿæˆå™¨ï¼Œè¿˜æ˜¯ç®€å•çš„ç½‘é¡µå°æ¸¸æˆï¼ŒTRAEéƒ½èƒ½é€šè¿‡å¯¹è¯å¼ç¼–ç¨‹å’Œæ™ºèƒ½ä»£ç ç”Ÿæˆï¼Œå¸®åŠ©æˆ‘å¿«é€Ÿå®ç°åˆ›æ„ã€‚</p>
<p>è¿™ç§å¼€å‘æ–¹å¼ä¸ä»…å¤§å¤§é™ä½äº†ç¼–ç¨‹é—¨æ§›ï¼Œè®©ç¼–ç¨‹ç»éªŒæœ‰é™çš„æˆ‘ä¹Ÿèƒ½å¼€å‘å‡ºä¸“ä¸šçº§åˆ«çš„åº”ç”¨ï¼Œä¹Ÿæå¤§æé«˜äº†å¼€å‘æ•ˆç‡ï¼Œè®©æˆ‘èƒ½å¤Ÿå°†æ›´å¤šç²¾åŠ›æ”¾åœ¨åˆ›æ„è®¾è®¡å’Œç”¨æˆ·ä½“éªŒä¸Šã€‚</p>
<h3 data-id="heading-14">2. æ¨¡å—åŒ–è®¾è®¡ä¸æŠ€æœ¯æ•´åˆï¼šMCPçš„æ ¸å¿ƒä»·å€¼</h3>
<p>TRAEçš„å¼€å‘ç¯å¢ƒé¼“åŠ±æ¨¡å—åŒ–è®¾è®¡ï¼Œè®©æˆ‘èƒ½å¤Ÿå°†å¤æ‚çš„é¡¹ç›®åˆ†è§£ä¸ºå¤šä¸ªç‹¬ç«‹ä½†ç›¸äº’åä½œçš„ç»„ä»¶ã€‚è¿™ç§è®¾è®¡æ–¹å¼ä¸ä»…ä½¿ä»£ç ç»“æ„æ¸…æ™°ï¼Œä¹Ÿä¾¿äºåç»­ç»´æŠ¤å’Œæ‰©å±•ã€‚</p>
<p>è€ŒMCPï¼ˆModule Connect Platformï¼‰åˆ™æ˜¯æŠ€æœ¯æ•´åˆçš„æœ€ä½³å®è·µï¼Œå®ƒåƒä¸€ä¸ªæ™ºèƒ½çš„è¿æ¥å™¨ï¼Œè®©ä¸åŒçš„æŠ€æœ¯æœåŠ¡èƒ½å¤Ÿæ— ç¼åä½œï¼š</p>
<ul>
<li><strong>æœåŠ¡å°è£…</strong>ï¼šMCPå°†å¤æ‚çš„æŠ€æœ¯èƒ½åŠ›å°è£…ä¸ºç®€å•æ˜“ç”¨çš„æœåŠ¡æ¥å£ï¼Œå¼€å‘è€…æ— éœ€äº†è§£åº•å±‚å®ç°ç»†èŠ‚ï¼Œåªéœ€å…³æ³¨å¦‚ä½•ä½¿ç”¨è¿™äº›æœåŠ¡æ¥è§£å†³é—®é¢˜ã€‚</li>
<li><strong>æ ‡å‡†åŒ–æ¥å£</strong>ï¼šMCPæä¾›æ ‡å‡†åŒ–çš„æœåŠ¡æ¥å£ï¼Œä½¿ä¸åŒçš„æœåŠ¡èƒ½å¤ŸæŒ‰ç…§ç»Ÿä¸€çš„æ–¹å¼è¿›è¡Œè°ƒç”¨å’Œé›†æˆï¼Œå¤§å¤§é™ä½äº†æŠ€æœ¯æ•´åˆçš„å¤æ‚åº¦ã€‚</li>
<li><strong>æœåŠ¡ç¼–æ’</strong>ï¼šMCPæ”¯æŒæœåŠ¡ä¹‹é—´çš„æ™ºèƒ½ç¼–æ’ï¼Œä½¿å¤šä¸ªæœåŠ¡èƒ½å¤ŸååŒå·¥ä½œï¼Œå½¢æˆæ›´å¼ºå¤§çš„å¤åˆåŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œåœ¨æ—…æ¸¸æœ­è®°ç”Ÿæˆå™¨ä¸­ï¼Œå›¾åƒåˆ†æMCPã€åœ°å›¾MCPå’Œæ–‡æœ¬ç”ŸæˆMCPçš„ååŒå·¥ä½œï¼Œäº§ç”Ÿäº†1+1+1&gt;3çš„æ•ˆæœã€‚</li>
<li><strong>å¯æ‰©å±•æ€§</strong>ï¼šMCPçš„æ¨¡å—åŒ–æ¶æ„ä½¿å¾—ç³»ç»Ÿå…·æœ‰é«˜åº¦çš„å¯æ‰©å±•æ€§ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®éœ€è¦è½»æ¾æ·»åŠ æ–°çš„æœåŠ¡æˆ–æ›¿æ¢ç°æœ‰çš„æœåŠ¡ï¼Œè€Œä¸ä¼šå½±å“æ•´ä¸ªç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚</li>
</ul>
<p>é€šè¿‡TRAEä¸MCPçš„ç»“åˆï¼Œæˆ‘èƒ½å¤Ÿè½»æ¾æ•´åˆå„ç§ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œå¦‚å›¾åƒåˆ†æã€åœ°å›¾æœåŠ¡ã€è¯­éŸ³è¯†åˆ«ç­‰ï¼Œä¸ºåº”ç”¨æ·»åŠ ä¸°å¯Œçš„åŠŸèƒ½ã€‚è¿™ç§æŠ€æœ¯æ•´åˆèƒ½åŠ›ï¼Œè®©æˆ‘çš„é¡¹ç›®èƒ½å¤Ÿç«™åœ¨å·¨äººçš„è‚©è†€ä¸Šï¼Œå®ç°æ›´å¤šå¯èƒ½æ€§ã€‚</p>
<p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘å°¤å…¶æ¬£èµMCPåœ¨å‰ç«¯æŠ€æœ¯æ•´åˆæ–¹é¢çš„èƒ½åŠ›ã€‚å®ƒä¸ä»…èƒ½å¤Ÿæ•´åˆåç«¯æœåŠ¡ï¼Œè¿˜èƒ½å¤Ÿæ•´åˆå„ç§å‰ç«¯åº“å’Œæ¡†æ¶ï¼Œå¦‚Reactã€Vueã€Three.jsç­‰ï¼Œè®©å‰ç«¯å¼€å‘æ›´åŠ é«˜æ•ˆå’Œçµæ´»ã€‚</p>
<h3 data-id="heading-15">3. ä»åˆ›æ„åˆ°ç°å®çš„å¿«é€Ÿè½¬åŒ–ï¼šMCPçš„åŠ é€Ÿä½œç”¨</h3>
<p>2025å¹´ï¼Œæˆ‘æœ€æ·±çš„æ„Ÿå—æ˜¯ï¼šæœ‰äº†TRAEå’ŒMCPï¼Œåˆ›æ„åˆ°ç°å®çš„è·ç¦»å˜å¾—å‰æ‰€æœªæœ‰çš„è¿‘ã€‚æ— è®ºæ˜¯çªå‘å¥‡æƒ³çš„å°æ¸¸æˆï¼Œè¿˜æ˜¯è§£å†³å®é™…é—®é¢˜çš„å·¥å…·åº”ç”¨ï¼Œæˆ‘éƒ½èƒ½é€šè¿‡TRAEå’ŒMCPå¿«é€Ÿå°†å…¶å˜ä¸ºç°å®ã€‚</p>
<p>MCPåœ¨åˆ›æ„è½¬åŒ–è¿‡ç¨‹ä¸­å‘æŒ¥äº†å…³é”®çš„åŠ é€Ÿä½œç”¨ï¼š</p>
<ul>
<li><strong>å¿«é€ŸåŸå‹</strong>ï¼šé€šè¿‡è°ƒç”¨ç°æœ‰çš„MCPæœåŠ¡ï¼Œæˆ‘å¯ä»¥åœ¨çŸ­æ—¶é—´å†…æ­å»ºå‡ºåŠŸèƒ½å®Œæ•´çš„åŸå‹ï¼ŒéªŒè¯åˆ›æ„çš„å¯è¡Œæ€§ï¼Œè€Œä¸éœ€è¦ä»é›¶å¼€å§‹ç¼–å†™æ‰€æœ‰ä»£ç ã€‚</li>
<li><strong>åŠŸèƒ½ä¸°å¯Œ</strong>ï¼šMCPæä¾›äº†ä¸°å¯Œçš„æœåŠ¡åº“ï¼Œæ¶µç›–äº†ä»å›¾åƒå¤„ç†ã€è‡ªç„¶è¯­è¨€å¤„ç†åˆ°æ•°æ®åˆ†æã€ç¤¾äº¤åˆ†äº«ç­‰å„ç§åŠŸèƒ½ï¼Œè®©æˆ‘èƒ½å¤Ÿä¸ºåº”ç”¨æ·»åŠ æ›´å¤šé«˜çº§ç‰¹æ€§ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>æŠ€æœ¯å…œåº•</strong>ï¼šMCPæœåŠ¡ç”±ä¸“ä¸šå›¢é˜Ÿç»´æŠ¤å’Œæ›´æ–°ï¼Œç¡®ä¿äº†æœåŠ¡çš„ç¨³å®šæ€§å’Œå®‰å…¨æ€§ï¼Œè®©æˆ‘èƒ½å¤Ÿä¸“æ³¨äºåˆ›æ„è®¾è®¡ï¼Œè€Œä¸éœ€è¦æ‹…å¿ƒæŠ€æœ¯å®ç°çš„ç»†èŠ‚å’Œé£é™©ã€‚</li>
<li><strong>è¿­ä»£è¿…é€Ÿ</strong>ï¼šå½“åˆ›æ„éœ€è¦è°ƒæ•´æ—¶ï¼Œæˆ‘å¯ä»¥é€šè¿‡ä¿®æ”¹MCPæœåŠ¡çš„é…ç½®æˆ–æ›¿æ¢ä¸åŒçš„MCPæœåŠ¡ï¼Œå¿«é€Ÿå®ç°åŠŸèƒ½çš„å˜æ›´å’Œä¼˜åŒ–ï¼Œå¤§å¤§ç¼©çŸ­äº†è¿­ä»£å‘¨æœŸã€‚</li>
</ul>
<p>è¿™ç§å¿«é€Ÿè½¬åŒ–çš„èƒ½åŠ›ï¼Œè®©æˆ‘æ›´åŠ å‹‡äºå°è¯•æ–°çš„åˆ›æ„ï¼Œä¹Ÿè®©æˆ‘çš„2025å¹´å……æ»¡äº†æƒŠå–œå’Œæˆå°±æ„Ÿã€‚æ­£å¦‚é‚£å¥"äººäººéƒ½æ˜¯VibeMaker"æ‰€è¯´ï¼ŒTRAEå’ŒMCPè®©æ¯ä¸ªäººéƒ½æœ‰æœºä¼šæˆä¸ºåˆ›æ„çš„å®ç°è€…ã€‚</p>
<p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘å‘ç°MCPåœ¨å‰ç«¯åˆ›æ„è½¬åŒ–æ–¹é¢å°¤å…¶æœ‰ä»·å€¼ã€‚å®ƒä¸ä»…èƒ½å¤ŸåŠ é€Ÿå‰ç«¯ç•Œé¢çš„å¼€å‘ï¼Œè¿˜èƒ½å¤Ÿè½»æ¾æ•´åˆåç«¯æœåŠ¡ï¼Œè®©æˆ‘èƒ½å¤Ÿç‹¬ç«‹å®Œæˆä»å‰ç«¯åˆ°åç«¯çš„å®Œæ•´åº”ç”¨å¼€å‘ï¼ŒçœŸæ­£å®ç°"ä¸€ä¸ªäººå°±æ˜¯ä¸€ä¸ªå›¢é˜Ÿ"çš„å¼€å‘æ•ˆç‡ã€‚</p>
<h3 data-id="heading-16">4. VibeCodingï¼šé‡æ–°å®šä¹‰ç¼–ç¨‹ä½“éªŒ</h3>
<p>åœ¨ä½¿ç”¨TRAEå’ŒMCPçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘é€æ¸é¢†æ‚Ÿåˆ°VibeCodingçš„çœŸæ­£å«ä¹‰ã€‚å®ƒä¸ä»…ä»…æ˜¯ä¸€ç§ç¼–ç¨‹æ–¹å¼ï¼Œæ›´æ˜¯ä¸€ç§å…¨æ–°çš„åˆ›æ„è¡¨è¾¾å½¢å¼ï¼Œè€ŒMCPåˆ™æ˜¯VibeCodingçš„é‡è¦æŠ€æœ¯æ”¯æ’‘ã€‚</p>
<p>VibeCodingçš„æ ¸å¿ƒåœ¨äº"å¯¹è¯å¼ç¼–ç¨‹"ï¼Œå®ƒæ‰“ç ´äº†ä¼ ç»Ÿç¼–ç¨‹ä¸­äººä¸æœºå™¨ä¹‹é—´çš„å£å’ã€‚é€šè¿‡è‡ªç„¶è¯­è¨€äº¤æµï¼Œæˆ‘å¯ä»¥ç›´æ¥å‘TRAEè¡¨è¾¾æˆ‘çš„åˆ›æ„å’Œéœ€æ±‚ï¼Œè€Œä¸éœ€è¦æ‹…å¿ƒè¯­æ³•é”™è¯¯æˆ–å¤æ‚çš„ä»£ç ç»“æ„ã€‚è¿™ç§äº¤æµæ–¹å¼æ›´åŠ ç¬¦åˆäººç±»çš„æ€ç»´ä¹ æƒ¯ï¼Œè®©ç¼–ç¨‹å˜å¾—æ›´åŠ ç›´è§‚å’Œæ„‰æ‚¦ã€‚</p>
<p>è€ŒMCPåˆ™ä¸ºVibeCodingæä¾›äº†å¼ºå¤§çš„æŠ€æœ¯åç›¾ï¼š</p>
<ul>
<li><strong>èƒ½åŠ›æ‰©å±•</strong>ï¼šMCPä¸ºVibeCodingæä¾›äº†ä¸°å¯Œçš„æŠ€æœ¯èƒ½åŠ›ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿé€šè¿‡å¯¹è¯å¼ç¼–ç¨‹è°ƒç”¨å„ç§é«˜çº§æœåŠ¡ï¼Œå¦‚å›¾åƒå¤„ç†ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€æ•°æ®åˆ†æç­‰ï¼Œå¤§å¤§æ‰©å±•äº†VibeCodingçš„åº”ç”¨èŒƒå›´ã€‚</li>
<li><strong>å¤æ‚åº¦ç®¡ç†</strong>ï¼šMCPå°†å¤æ‚çš„æŠ€æœ¯å®ç°å°è£…ä¸ºç®€å•çš„æœåŠ¡æ¥å£ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿé€šè¿‡è‡ªç„¶è¯­è¨€å‘½ä»¤è½»æ¾ä½¿ç”¨è¿™äº›æœåŠ¡ï¼Œè€Œä¸éœ€è¦äº†è§£åº•å±‚å®ç°çš„å¤æ‚åº¦ï¼Œè¿›ä¸€æ­¥é™ä½äº†ç¼–ç¨‹çš„é—¨æ§›ã€‚</li>
<li><strong>åˆ›æ„èšç„¦</strong>ï¼šMCPè®©å¼€å‘è€…èƒ½å¤Ÿä¸“æ³¨äºé—®é¢˜çš„æœ¬è´¨å’Œè§£å†³æ–¹æ¡ˆçš„åˆ›æ„ï¼Œè€Œä¸æ˜¯é™·å…¥ç¹ççš„ä»£ç ç»†èŠ‚ä¸­ã€‚å½“æˆ‘å¼€å‘æ—…æ¸¸æœ­è®°ç”Ÿæˆå™¨æ—¶ï¼Œæˆ‘å¯ä»¥ä¸“æ³¨äºå¦‚ä½•è®©AIæ›´å¥½åœ°ç†è§£ç…§ç‰‡å†…å®¹å’Œæ—…è¡Œæ•…äº‹ï¼Œè€Œä¸æ˜¯çº ç»“äºå›¾åƒå¤„ç†çš„å…·ä½“ç®—æ³•ï¼›å½“æˆ‘å¼€å‘æ¸¸æˆæ—¶ï¼Œæˆ‘å¯ä»¥ä¸“æ³¨äºæ¸¸æˆæœºåˆ¶å’Œç”¨æˆ·ä½“éªŒï¼Œè€Œä¸æ˜¯æ‹…å¿ƒç¢°æ’æ£€æµ‹çš„å®ç°ç»†èŠ‚ã€‚</li>
</ul>
<p>è¿™ç§æ€ç»´æ–¹å¼çš„è½¬å˜ï¼Œè®©æˆ‘å¯¹ç¼–ç¨‹æœ‰äº†å…¨æ–°çš„è®¤è¯†ã€‚ç¼–ç¨‹ä¸å†æ˜¯ä¸€ç§æŠ€æœ¯é—¨æ§›ï¼Œè€Œæ˜¯ä¸€ç§åˆ›æ„è¡¨è¾¾çš„å·¥å…·ã€‚æ¯ä¸ªäººéƒ½å¯ä»¥é€šè¿‡VibeCodingå’ŒMCPï¼Œå°†è‡ªå·±çš„åˆ›æ„å˜ä¸ºç°å®ï¼Œæˆä¸ºæ•°å­—ä¸–ç•Œçš„å»ºè®¾è€…ã€‚</p>
<p>ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘å‘ç°VibeCodingå’ŒMCPçš„ç»“åˆåœ¨å‰ç«¯å¼€å‘ä¸­å°¤å…¶æœ‰ä»·å€¼ã€‚å®ƒä¸ä»…èƒ½å¤ŸåŠ é€Ÿå‰ç«¯ç•Œé¢çš„å¼€å‘ï¼Œè¿˜èƒ½å¤Ÿè½»æ¾æ•´åˆå„ç§åç«¯æœåŠ¡ï¼Œè®©å‰ç«¯å¼€å‘è€…èƒ½å¤Ÿç‹¬ç«‹å®Œæˆæ›´åŠ å¤æ‚å’ŒåŠŸèƒ½ä¸°å¯Œçš„åº”ç”¨ï¼ŒçœŸæ­£å®ç°"åˆ›æ„é©±åŠ¨å¼€å‘"çš„ç†å¿µã€‚</p>
<h3 data-id="heading-17">5. TRAEä¸MCPå¯¹å‰ç«¯å¼€å‘è€…çš„ç‰¹åˆ«å¸®åŠ©</h3>
<p>ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘å‘ç°TRAEä¸MCPçš„ç»„åˆåœ¨å‰ç«¯å¼€å‘é¢†åŸŸå°¤å…¶å…·æœ‰é©å‘½æ€§çš„æ„ä¹‰ã€‚å®ƒä»¬ä¸ä»…è§£å†³äº†å‰ç«¯å¼€å‘ä¸­çš„è®¸å¤šç—›ç‚¹ï¼Œä¹Ÿä¸ºå‰ç«¯å¼€å‘è€…æ‰“å¼€äº†æ–°çš„å¯èƒ½æ€§ã€‚</p>
<h4 data-id="heading-18">5.1 å‰ç«¯æ¡†æ¶ä¸åº“çš„æ™ºèƒ½åº”ç”¨</h4>
<p>TRAEå¯¹ä¸»æµå‰ç«¯æ¡†æ¶ï¼ˆå¦‚Reactã€Vueã€Angularç­‰ï¼‰å’Œåº“ï¼ˆå¦‚Tailwind CSSã€Three.jsç­‰ï¼‰æœ‰æ·±å…¥çš„ç†è§£ã€‚é€šè¿‡ç®€å•çš„å¯¹è¯ï¼Œæˆ‘å¯ä»¥å¿«é€Ÿç”Ÿæˆç¬¦åˆæœ€ä½³å®è·µçš„ç»„ä»¶ä»£ç ï¼Œè€Œä¸éœ€è¦æ‰‹åŠ¨ç¼–å†™ç¹ççš„æ¨¡æ¿å’Œé…ç½®ã€‚</p>
<p>è€ŒMCPåˆ™ä¸ºå‰ç«¯æ¡†æ¶æä¾›äº†å¼ºå¤§çš„æ‰©å±•èƒ½åŠ›ï¼š</p>
<ul>
<li><strong>ç»„ä»¶åº“MCP</strong>ï¼šæä¾›ä¸°å¯Œçš„é¢„è®¾ç»„ä»¶åº“ï¼Œæ¶µç›–äº†ä»åŸºç¡€UIç»„ä»¶åˆ°å¤æ‚äº¤äº’ç»„ä»¶çš„å„ç§ç±»å‹ï¼Œè®©å‰ç«¯å¼€å‘æ›´åŠ é«˜æ•ˆã€‚</li>
<li><strong>æ¡†æ¶é€‚é…MCP</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆé€‚é…ä¸åŒå‰ç«¯æ¡†æ¶çš„ä»£ç ï¼Œè®©æˆ‘èƒ½å¤Ÿæ ¹æ®é¡¹ç›®éœ€æ±‚çµæ´»é€‰æ‹©åˆé€‚çš„æ¡†æ¶ï¼Œè€Œä¸éœ€è¦å­¦ä¹ å¤šç§æ¡†æ¶çš„è¯­æ³•ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œå½“æˆ‘éœ€è¦åˆ›å»ºä¸€ä¸ªå“åº”å¼å¯¼èˆªæ æ—¶ï¼Œåªéœ€å‘Šè¯‰TRAEæˆ‘çš„éœ€æ±‚ï¼Œå®ƒå°±èƒ½ç”ŸæˆåŒ…å«é€‚å½“çš„HTMLç»“æ„ã€CSSæ ·å¼å’ŒJavaScriptäº¤äº’çš„å®Œæ•´ä»£ç ï¼Œç”šè‡³ä¼šè‡ªåŠ¨å¤„ç†ç§»åŠ¨ç«¯é€‚é…å’ŒåŠ¨ç”»æ•ˆæœã€‚</p>
<h4 data-id="heading-19">5.2 å“åº”å¼è®¾è®¡ä¸ç§»åŠ¨é€‚é…</h4>
<p>å“åº”å¼è®¾è®¡æ˜¯ç°ä»£å‰ç«¯å¼€å‘çš„æ ¸å¿ƒè¦æ±‚ä¹‹ä¸€ï¼Œä½†æ‰‹åŠ¨ç¼–å†™åª’ä½“æŸ¥è¯¢å’Œå¤„ç†å„ç§è®¾å¤‡å°ºå¯¸çš„é€‚é…å¾€å¾€è€—æ—¶ä¸”å®¹æ˜“å‡ºé”™ã€‚TRAEèƒ½å¤Ÿæ™ºèƒ½åˆ†æè®¾è®¡éœ€æ±‚ï¼Œè‡ªåŠ¨ç”Ÿæˆé€‚é…å„ç§å±å¹•å°ºå¯¸çš„å“åº”å¼ä»£ç ï¼Œç¡®ä¿åº”ç”¨åœ¨ä¸åŒè®¾å¤‡ä¸Šéƒ½èƒ½æä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</p>
<p>MCPåœ¨å“åº”å¼è®¾è®¡ä¸­å‘æŒ¥äº†é‡è¦ä½œç”¨ï¼š</p>
<ul>
<li><strong>è®¾å¤‡æ£€æµ‹MCP</strong>ï¼šæ™ºèƒ½æ£€æµ‹ç”¨æˆ·è®¾å¤‡çš„ç±»å‹å’Œå°ºå¯¸ï¼Œæä¾›é’ˆå¯¹æ€§çš„ç•Œé¢é€‚é…æ–¹æ¡ˆã€‚</li>
<li><strong>å¸ƒå±€ä¼˜åŒ–MCP</strong>ï¼šæ ¹æ®ä¸åŒè®¾å¤‡çš„å±å¹•å°ºå¯¸ï¼Œè‡ªåŠ¨è°ƒæ•´å¸ƒå±€ç»“æ„å’Œå…ƒç´ å¤§å°ï¼Œç¡®ä¿æœ€ä½³çš„è§†è§‰æ•ˆæœã€‚</li>
<li><strong>äº¤äº’é€‚é…MCP</strong>ï¼šæ ¹æ®è®¾å¤‡ç±»å‹ï¼ˆå¦‚è§¦æ‘¸è®¾å¤‡ vs é¼ æ ‡è®¾å¤‡ï¼‰ï¼Œè‡ªåŠ¨è°ƒæ•´äº¤äº’æ–¹å¼ï¼Œæä¾›ç¬¦åˆè®¾å¤‡ç‰¹æ€§çš„ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
<h4 data-id="heading-20">5.3 UIç»„ä»¶å¼€å‘ä¸æ ·å¼ç®¡ç†</h4>
<p>TRAEå¯ä»¥å¸®åŠ©å‰ç«¯å¼€å‘è€…å¿«é€Ÿåˆ›å»ºå’Œç®¡ç†UIç»„ä»¶åº“ã€‚é€šè¿‡å¯¹è¯å¼ç¼–ç¨‹ï¼Œæˆ‘å¯ä»¥æè¿°ç»„ä»¶çš„å¤–è§‚å’Œè¡Œä¸ºï¼ŒTRAEä¼šç”Ÿæˆç¬¦åˆè®¾è®¡è§„èŒƒçš„ç»„ä»¶ä»£ç ï¼Œå¹¶è‡ªåŠ¨å¤„ç†æ ·å¼éš”ç¦»å’Œä¸»é¢˜ç®¡ç†ã€‚</p>
<p>MCPåœ¨UIç»„ä»¶å¼€å‘ä¸­æä¾›äº†å¼ºå¤§çš„æ”¯æŒï¼š</p>
<ul>
<li><strong>è®¾è®¡ç³»ç»ŸMCP</strong>ï¼šæä¾›å®Œæ•´çš„è®¾è®¡ç³»ç»Ÿæ”¯æŒï¼ŒåŒ…æ‹¬é¢œè‰²ã€å­—ä½“ã€é—´è·ç­‰è®¾è®¡è§„èŒƒï¼Œç¡®ä¿æ•´ä¸ªåº”ç”¨çš„è§†è§‰é£æ ¼ç»Ÿä¸€ã€‚</li>
<li><strong>æ ·å¼ç®¡ç†MCP</strong>ï¼šæä¾›ç°ä»£åŒ–çš„æ ·å¼ç®¡ç†æ–¹æ¡ˆï¼Œå¦‚CSS-in-JSã€CSS Modulesç­‰ï¼Œè§£å†³æ ·å¼å†²çªå’Œå‘½åç©ºé—´é—®é¢˜ã€‚</li>
<li><strong>ä¸»é¢˜åˆ‡æ¢MCP</strong>ï¼šæ”¯æŒåŠ¨æ€ä¸»é¢˜åˆ‡æ¢ï¼Œè®©åº”ç”¨èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·åå¥½æˆ–ç³»ç»Ÿè®¾ç½®è‡ªåŠ¨è°ƒæ•´ä¸»é¢˜ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
<h4 data-id="heading-21">5.4 æ€§èƒ½ä¼˜åŒ–</h4>
<p>å‰ç«¯æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªå¤æ‚ä¸”æŒç»­çš„è¿‡ç¨‹ï¼Œæ¶‰åŠä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€ç¼“å­˜ç­–ç•¥ç­‰å¤šä¸ªæ–¹é¢ã€‚TRAEèƒ½å¤Ÿåˆ†æé¡¹ç›®ç»“æ„ï¼Œè¯†åˆ«æ€§èƒ½ç“¶é¢ˆï¼Œå¹¶æä¾›é’ˆå¯¹æ€§çš„ä¼˜åŒ–å»ºè®®å’Œä»£ç å®ç°ï¼Œå¸®åŠ©å‰ç«¯å¼€å‘è€…æ„å»ºæ›´åŠ é«˜æ•ˆçš„åº”ç”¨ã€‚</p>
<p>MCPåœ¨å‰ç«¯æ€§èƒ½ä¼˜åŒ–ä¸­å‘æŒ¥äº†å…³é”®ä½œç”¨ï¼š</p>
<ul>
<li><strong>ä»£ç åˆ†æMCP</strong>ï¼šæ™ºèƒ½åˆ†æå‰ç«¯ä»£ç ï¼Œè¯†åˆ«æ€§èƒ½ç“¶é¢ˆå’Œä¼˜åŒ–æœºä¼šã€‚</li>
<li><strong>èµ„æºä¼˜åŒ–MCP</strong>ï¼šè‡ªåŠ¨ä¼˜åŒ–å›¾ç‰‡ã€å­—ä½“ã€è„šæœ¬ç­‰èµ„æºçš„åŠ è½½ç­–ç•¥ï¼Œå‡å°‘é¡µé¢åŠ è½½æ—¶é—´ã€‚</li>
<li><strong>æ¸²æŸ“ä¼˜åŒ–MCP</strong>ï¼šæä¾›è™šæ‹Ÿåˆ—è¡¨ã€æ— é™æ»šåŠ¨ç­‰é«˜çº§æ¸²æŸ“æŠ€æœ¯ï¼Œæå‡å¤æ‚é¡µé¢çš„æ¸²æŸ“æ€§èƒ½ã€‚</li>
<li><strong>ç¼“å­˜ç­–ç•¥MCP</strong>ï¼šæ ¹æ®åº”ç”¨çš„å…·ä½“æƒ…å†µï¼Œè‡ªåŠ¨ç”Ÿæˆæœ€ä½³çš„ç¼“å­˜ç­–ç•¥ï¼Œå‡å°‘é‡å¤è¯·æ±‚å’Œæ•°æ®ä¼ è¾“ã€‚</li>
</ul>
<h4 data-id="heading-22">5.5 APIé›†æˆä¸æ•°æ®å¤„ç†</h4>
<p>å‰ç«¯å¼€å‘ä¸­ç»å¸¸éœ€è¦ä¸åç«¯APIè¿›è¡Œäº¤äº’ï¼Œå¤„ç†æ•°æ®è·å–ã€çŠ¶æ€ç®¡ç†å’Œé”™è¯¯å¤„ç†ç­‰é—®é¢˜ã€‚TRAEå¯ä»¥å¸®åŠ©å¼€å‘è€…å¿«é€Ÿç”ŸæˆAPIè°ƒç”¨ä»£ç ï¼Œå®ç°æ•°æ®çš„é«˜æ•ˆå¤„ç†å’ŒçŠ¶æ€ç®¡ç†ï¼Œå‡å°‘äº†æ‰‹åŠ¨ç¼–å†™é‡å¤ä»£ç çš„å·¥ä½œé‡ã€‚</p>
<p>MCPåœ¨APIé›†æˆä¸­æä¾›äº†å¼ºå¤§çš„èƒ½åŠ›ï¼š</p>
<ul>
<li><strong>APIå®¢æˆ·ç«¯MCP</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆç¬¦åˆRESTfulæˆ–GraphQLè§„èŒƒçš„APIå®¢æˆ·ç«¯ä»£ç ï¼Œç®€åŒ–APIè°ƒç”¨è¿‡ç¨‹ã€‚</li>
<li><strong>çŠ¶æ€ç®¡ç†MCP</strong>ï¼šæä¾›ç°ä»£åŒ–çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆï¼Œå¦‚Reduxã€Vuexã€MobXç­‰ï¼Œå¸®åŠ©å‰ç«¯å¼€å‘è€…é«˜æ•ˆç®¡ç†åº”ç”¨çŠ¶æ€ã€‚</li>
<li><strong>æ•°æ®è½¬æ¢MCP</strong>ï¼šè‡ªåŠ¨å¤„ç†å‰åç«¯æ•°æ®æ ¼å¼çš„è½¬æ¢ï¼Œè§£å†³æ•°æ®ç»“æ„ä¸åŒ¹é…çš„é—®é¢˜ã€‚</li>
<li><strong>é”™è¯¯å¤„ç†MCP</strong>ï¼šæä¾›ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿APIè°ƒç”¨å¤±è´¥æ—¶èƒ½å¤Ÿä¼˜é›…åœ°å¤„ç†é”™è¯¯ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
<h4 data-id="heading-23">5.6 å‰ç«¯æµ‹è¯•</h4>
<p>æµ‹è¯•æ˜¯ç¡®ä¿å‰ç«¯åº”ç”¨è´¨é‡çš„é‡è¦ç¯èŠ‚ï¼Œä½†ç¼–å†™æµ‹è¯•ä»£ç å¾€å¾€ç¹çä¸”è€—æ—¶ã€‚TRAEèƒ½å¤Ÿæ ¹æ®ç»„ä»¶å’ŒåŠŸèƒ½è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ä»£ç ï¼Œè¦†ç›–å¸¸è§çš„æµ‹è¯•åœºæ™¯ï¼Œå¸®åŠ©å‰ç«¯å¼€å‘è€…æé«˜ä»£ç è´¨é‡å’Œå¯é æ€§ã€‚</p>
<p>MCPåœ¨å‰ç«¯æµ‹è¯•ä¸­æä¾›äº†å…¨é¢çš„æ”¯æŒï¼š</p>
<ul>
<li><strong>æµ‹è¯•æ¡†æ¶MCP</strong>ï¼šæ”¯æŒå¤šç§å‰ç«¯æµ‹è¯•æ¡†æ¶ï¼Œå¦‚Jestã€Mochaã€Cypressç­‰ï¼Œæ»¡è¶³ä¸åŒç±»å‹çš„æµ‹è¯•éœ€æ±‚ã€‚</li>
<li><strong>æµ‹è¯•ç”¨ä¾‹MCP</strong>ï¼šæ ¹æ®ç»„ä»¶å’ŒåŠŸèƒ½çš„ç‰¹æ€§ï¼Œè‡ªåŠ¨ç”Ÿæˆé’ˆå¯¹æ€§çš„æµ‹è¯•ç”¨ä¾‹ï¼Œç¡®ä¿æµ‹è¯•è¦†ç›–å…¨é¢ã€‚</li>
<li><strong>æµ‹è¯•æŠ¥å‘ŠMCP</strong>ï¼šç”Ÿæˆè¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Šï¼Œå¸®åŠ©å¼€å‘è€…äº†è§£æµ‹è¯•ç»“æœå’Œä»£ç è´¨é‡çŠ¶å†µã€‚</li>
<li><strong>CI/CDé›†æˆMCP</strong>ï¼šæä¾›ä¸æŒç»­é›†æˆ/æŒç»­éƒ¨ç½²ç³»ç»Ÿçš„é›†æˆï¼Œå®ç°è‡ªåŠ¨åŒ–æµ‹è¯•å’Œéƒ¨ç½²ï¼Œç¡®ä¿ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡ã€‚</li>
</ul>
<h2 data-id="heading-24">å››ã€å¯¹æœªæ¥çš„å±•æœ›</h2>
<p>å›é¡¾2025å¹´ä¸TRAEå’ŒMCPç›¸ä¼´çš„æ—¶å…‰ï¼Œæˆ‘å……æ»¡æ„Ÿæ¿€ã€‚TRAEå’ŒMCPä¸ä»…æ˜¯å¼€å‘å·¥å…·ï¼Œæ›´æ˜¯æˆ‘å®ç°åˆ›æ„çš„ä¼™ä¼´ã€‚é€šè¿‡å®ƒä»¬ï¼Œæˆ‘ä¸ä»…å¼€å‘äº†å¤šä¸ªæœ‰è¶£å®ç”¨çš„é¡¹ç›®ï¼Œä¹Ÿæå‡äº†è‡ªå·±çš„ç¼–ç¨‹èƒ½åŠ›å’Œåˆ›æ„è¡¨è¾¾èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-25">VibeCodingä¸MCPçš„æœªæ¥å‘å±•</h3>
<p>å±•æœ›æœªæ¥ï¼Œæˆ‘ç›¸ä¿¡VibeCodingå°†ä¼šæˆä¸ºä¸»æµçš„ç¼–ç¨‹æ–¹å¼ï¼Œè€ŒMCPåˆ™ä¼šæˆä¸ºæŠ€æœ¯æ•´åˆçš„æ ‡å‡†å®è·µï¼Œä¸¤è€…çš„ç»“åˆå°†å½»åº•æ”¹å˜è½¯ä»¶å¼€å‘çš„æ ¼å±€ã€‚</p>
<p>æˆ‘æœŸå¾…TRAEå’ŒMCPèƒ½å¤Ÿåœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ç»§ç»­è¿›åŒ–ï¼š</p>
<ol>
<li><strong>æ›´æ·±å…¥çš„è¡Œä¸šè§£å†³æ–¹æ¡ˆ</strong>ï¼šé’ˆå¯¹ä¸åŒè¡Œä¸šçš„ç‰¹å®šéœ€æ±‚ï¼Œæä¾›æ›´åŠ ä¸“ä¸šçš„MCPæœåŠ¡å’Œå¼€å‘æ¨¡æ¿ï¼Œå¦‚æ•™è‚²ã€åŒ»ç–—ã€é‡‘èç­‰é¢†åŸŸçš„ä¸“ç”¨è§£å†³æ–¹æ¡ˆã€‚è¿™äº›è§£å†³æ–¹æ¡ˆå°†æ•´åˆè¡Œä¸šç‰¹å®šçš„æŠ€æœ¯èƒ½åŠ›ï¼Œä¸ºå¼€å‘è€…æä¾›ä¸€ç«™å¼çš„è¡Œä¸šåº”ç”¨å¼€å‘å·¥å…·ã€‚</li>
<li><strong>æ›´å¼ºçš„åä½œèƒ½åŠ›</strong>ï¼šæ”¯æŒå¤šäººå®æ—¶åä½œå¼€å‘ï¼Œè®©å›¢é˜Ÿæˆå‘˜èƒ½å¤Ÿé€šè¿‡å¯¹è¯å¼ç¼–ç¨‹å…±åŒå®Œæˆé¡¹ç›®ï¼Œæé«˜å›¢é˜Ÿåä½œæ•ˆç‡ã€‚MCPå°†ä½œä¸ºå›¢é˜Ÿåä½œçš„æŠ€æœ¯åŸºç¡€ï¼Œç¡®ä¿ä¸åŒå¼€å‘è€…çš„ä»£ç å’ŒæœåŠ¡èƒ½å¤Ÿæ— ç¼é›†æˆã€‚</li>
<li><strong>æ›´ä¸°å¯Œçš„åˆ›æ„è¡¨è¾¾å½¢å¼</strong>ï¼šé™¤äº†æ–‡å­—å’Œä»£ç ï¼Œè¿˜èƒ½æ”¯æŒè¯­éŸ³ã€å›¾åƒã€è§†é¢‘ç­‰å¤šç§å½¢å¼çš„åˆ›æ„è¾“å…¥ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿæ›´åŠ è‡ªç”±åœ°è¡¨è¾¾è‡ªå·±çš„æƒ³æ³•ã€‚MCPå°†æä¾›ç›¸åº”çš„æœåŠ¡ï¼Œå¤„ç†è¿™äº›ä¸åŒå½¢å¼çš„åˆ›æ„è¾“å…¥ï¼Œå¹¶è½¬åŒ–ä¸ºå¯æ‰§è¡Œçš„ä»£ç ã€‚</li>
<li><strong>æ›´æ™ºèƒ½çš„ä»£ç ä¼˜åŒ–</strong>ï¼šèƒ½å¤Ÿæ ¹æ®é¡¹ç›®çš„å…·ä½“æƒ…å†µï¼Œè‡ªåŠ¨ä¼˜åŒ–ä»£ç ç»“æ„å’Œæ€§èƒ½ï¼Œæä¾›æ›´åŠ ä¸“ä¸šå’Œé«˜æ•ˆçš„è§£å†³æ–¹æ¡ˆã€‚MCPå°†æ•´åˆå…ˆè¿›çš„ä»£ç åˆ†æå’Œä¼˜åŒ–æŠ€æœ¯ï¼Œä¸ºä¸åŒç±»å‹çš„åº”ç”¨æä¾›å®šåˆ¶åŒ–çš„ä¼˜åŒ–æ–¹æ¡ˆã€‚</li>
<li><strong>æ›´å¹¿æ³›çš„ç”Ÿæ€ç³»ç»Ÿ</strong>ï¼šMCPå°†æ„å»ºæ›´åŠ å¼€æ”¾å’Œä¸°å¯Œçš„æœåŠ¡ç”Ÿæ€ç³»ç»Ÿï¼Œå¸å¼•æ›´å¤šçš„æœåŠ¡æä¾›å•†åŠ å…¥ï¼Œä¸ºå¼€å‘è€…æä¾›æ›´åŠ å¤šæ ·åŒ–çš„æŠ€æœ¯é€‰æ‹©ã€‚åŒæ—¶ï¼ŒMCPå°†æä¾›æ ‡å‡†åŒ–çš„æœåŠ¡æ¥å£å’Œå¼€å‘å·¥å…·ï¼Œé™ä½æœåŠ¡é›†æˆçš„é—¨æ§›ï¼Œä¿ƒè¿›ç”Ÿæ€ç³»ç»Ÿçš„å¥åº·å‘å±•ã€‚</li>
<li><strong>æ›´å¼ºå¤§çš„å‰ç«¯èƒ½åŠ›</strong>ï¼šé’ˆå¯¹å‰ç«¯å¼€å‘çš„ç‰¹ç‚¹ï¼Œæä¾›æ›´åŠ ä¸“ä¸šå’Œå¼ºå¤§çš„MCPæœåŠ¡ï¼Œå¦‚WebAssemblyä¼˜åŒ–ã€PWAå¢å¼ºã€WebXRæ”¯æŒç­‰ï¼Œå¸®åŠ©å‰ç«¯å¼€å‘è€…æ„å»ºæ›´åŠ å…ˆè¿›å’Œä¸°å¯Œçš„Webåº”ç”¨ã€‚</li>
</ol>
<h3 data-id="heading-26">ä¸ªäººçš„æœªæ¥è§„åˆ’</h3>
<p>ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…å’ŒVibeCoderï¼Œæˆ‘è®¡åˆ’åœ¨æœªæ¥ç»§ç»­æ·±å…¥æ¢ç´¢TRAEå’ŒMCPçš„æ½œåŠ›ï¼Œå¼€å‘æ›´å¤šæœ‰æ„ä¹‰çš„å‰ç«¯é¡¹ç›®ï¼š</p>
<ol>
<li><strong>æ‰©å±•æ—…æ¸¸æœ­è®°ç”Ÿæˆå™¨</strong>ï¼šå¢åŠ æ›´å¤šçš„é£æ ¼é€‰é¡¹å’Œå¯¼å‡ºæ ¼å¼ï¼Œæ”¯æŒè§†é¢‘æ¸¸è®°çš„ç”Ÿæˆï¼Œè®©æ—…è¡Œè®°å¿†çš„ä¿å­˜å’Œåˆ†äº«æ›´åŠ ä¸°å¯Œå¤šæ ·ã€‚ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘å°†é‡ç‚¹ä¼˜åŒ–ç”¨æˆ·ç•Œé¢å’Œäº¤äº’ä½“éªŒï¼Œé‡‡ç”¨ç°ä»£å‰ç«¯æ¡†æ¶æ„å»ºå“åº”å¼å¸ƒå±€ï¼Œç¡®ä¿åœ¨å„ç§è®¾å¤‡ä¸Šéƒ½èƒ½æä¾›å‡ºè‰²çš„ç”¨æˆ·ä½“éªŒã€‚åŒæ—¶ï¼Œæˆ‘å°†æ¢ç´¢æ•´åˆæ›´å¤šMCPæœåŠ¡ï¼Œå¦‚è§†é¢‘å¤„ç†MCPã€ç¤¾äº¤åª’ä½“åˆ†äº«MCPç­‰ï¼Œä¸ºåº”ç”¨æ·»åŠ æ›´å¤šé«˜çº§ç‰¹æ€§ã€‚</li>
<li><strong>å¼€å‘æ•™è‚²è¾…åŠ©å·¥å…·</strong>ï¼šåˆ©ç”¨AIæŠ€æœ¯å’ŒMCPæœåŠ¡ï¼Œå¼€å‘èƒ½å¤Ÿæ ¹æ®å­¦ç”Ÿç‰¹ç‚¹å’Œå­¦ä¹ è¿›åº¦ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸ªæ€§åŒ–å­¦ä¹ è®¡åˆ’å’Œè¾…å¯¼å†…å®¹çš„æ•™è‚²å·¥å…·ã€‚åœ¨å‰ç«¯å®ç°ä¸Šï¼Œæˆ‘å°†é‡‡ç”¨ç»„ä»¶åŒ–å¼€å‘æ–¹å¼ï¼Œæ„å»ºå¯å¤ç”¨çš„æ•™è‚²ç»„ä»¶åº“ï¼Œæ”¯æŒå¤šç§å­¦ä¹ åœºæ™¯å’Œäº¤äº’æ¨¡å¼ã€‚åŒæ—¶ï¼Œæˆ‘å°†æ•´åˆæ•™è‚²å†…å®¹MCPã€å­¦ä¹ åˆ†æMCPç­‰ä¸“ä¸šæœåŠ¡ï¼Œæå‡å·¥å…·çš„æ•™è‚²ä»·å€¼ã€‚</li>
<li><strong>æ¢ç´¢è™šæ‹Ÿç°å®åº”ç”¨</strong>ï¼šç»“åˆVRæŠ€æœ¯å’ŒMCPæœåŠ¡ï¼Œå¼€å‘æ²‰æµ¸å¼çš„æ¸¸æˆå’Œåº”ç”¨ï¼Œä¸ºç”¨æˆ·å¸¦æ¥æ›´åŠ çœŸå®å’Œéœ‡æ’¼çš„ä½“éªŒã€‚ä½œä¸ºå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘å°†åˆ©ç”¨Three.jsç­‰3Dåº“ï¼Œå®ç°WebVR/ARåº”ç”¨ï¼Œæ¢ç´¢å‰ç«¯æŠ€æœ¯åœ¨è™šæ‹Ÿç°å®é¢†åŸŸçš„åº”ç”¨æ½œåŠ›ã€‚åŒæ—¶ï¼Œæˆ‘å°†æ•´åˆç©ºé—´è®¡ç®—MCPã€è™šæ‹Ÿåœºæ™¯MCPç­‰ä¸“ä¸šæœåŠ¡ï¼Œæå‡VR/ARåº”ç”¨çš„è´¨é‡å’Œä½“éªŒã€‚</li>
<li><strong>æ„å»ºå‰ç«¯ç»„ä»¶åº“</strong>ï¼šåŸºäºTRAEçš„VibeCodingèƒ½åŠ›å’ŒMCPæœåŠ¡ï¼Œå¼€å‘ä¸€å¥—å®Œæ•´çš„å‰ç«¯ç»„ä»¶åº“ï¼ŒåŒ…å«å¸¸ç”¨çš„UIç»„ä»¶å’Œäº¤äº’æ¨¡å¼ï¼Œæ”¯æŒä¸»é¢˜å®šåˆ¶å’Œå“åº”å¼è®¾è®¡ï¼Œä¸ºå‰ç«¯å¼€å‘æä¾›æ›´åŠ é«˜æ•ˆçš„å·¥å…·ã€‚æˆ‘å°†ç‰¹åˆ«å…³æ³¨ç»„ä»¶åº“ä¸MCPæœåŠ¡çš„é›†æˆï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿé€šè¿‡ç®€å•çš„é…ç½®ï¼Œä¸ºç»„ä»¶æ·»åŠ æ™ºèƒ½ç‰¹æ€§ï¼Œå¦‚è¡¨å•éªŒè¯ã€æ•°æ®å¯è§†åŒ–ç­‰ã€‚</li>
<li><strong>å‚ä¸å¼€æºé¡¹ç›®</strong>ï¼šå°†è‡ªå·±çš„VibeCodingå’ŒMCPä½¿ç”¨ç»éªŒåˆ†äº«ç»™ç¤¾åŒºï¼Œä¸å…¶ä»–å¼€å‘è€…å…±åŒæ¨åŠ¨VibeCodingå’ŒMCPçš„å‘å±•ã€‚ç‰¹åˆ«æ˜¯åœ¨å‰ç«¯é¢†åŸŸï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿè´¡çŒ®æ›´å¤šåŸºäºTRAEå’ŒMCPçš„å‰ç«¯å¼€å‘å·¥å…·å’Œæœ€ä½³å®è·µï¼Œå¸®åŠ©å…¶ä»–å‰ç«¯å¼€å‘è€…æé«˜å¼€å‘æ•ˆç‡ã€‚æˆ‘è®¡åˆ’åˆ›å»ºä¸€ä¸ªå¼€æºçš„MCPå‰ç«¯é›†æˆåº“ï¼Œç®€åŒ–å‰ç«¯å¼€å‘è€…ä½¿ç”¨MCPæœåŠ¡çš„æµç¨‹ã€‚</li>
<li><strong>æ¢ç´¢å‰ç«¯ä¸AIçš„ç»“åˆ</strong>ï¼šåˆ©ç”¨TRAEçš„AIèƒ½åŠ›å’ŒMCPæœåŠ¡ï¼Œæ¢ç´¢å‰ç«¯å¼€å‘ä¸äººå·¥æ™ºèƒ½çš„æ·±åº¦ç»“åˆï¼Œå¼€å‘èƒ½å¤Ÿæ ¹æ®ç”¨æˆ·è¡Œä¸ºå’Œåå¥½è‡ªåŠ¨è°ƒæ•´ç•Œé¢å’ŒåŠŸèƒ½çš„æ™ºèƒ½å‰ç«¯åº”ç”¨ï¼Œä¸ºç”¨æˆ·æä¾›æ›´åŠ ä¸ªæ€§åŒ–çš„ä½“éªŒã€‚æˆ‘å°†æ•´åˆç”¨æˆ·è¡Œä¸ºåˆ†æMCPã€ä¸ªæ€§åŒ–æ¨èMCPç­‰æœåŠ¡ï¼Œæ„å»ºæ™ºèƒ½å‰ç«¯åº”ç”¨çš„æŠ€æœ¯æ¡†æ¶ã€‚</li>
<li><strong>MCPæœåŠ¡å¼€å‘</strong>ï¼šå°è¯•å¼€å‘è‡ªå·±çš„MCPæœåŠ¡ï¼Œä¸“æ³¨äºè§£å†³å‰ç«¯å¼€å‘ä¸­çš„ç‰¹å®šé—®é¢˜ï¼Œå¦‚é«˜æ€§èƒ½åŠ¨ç”»ã€æ™ºèƒ½è¡¨å•ã€å®æ—¶åä½œç­‰ã€‚é€šè¿‡å¼€å‘MCPæœåŠ¡ï¼Œæˆ‘å¸Œæœ›èƒ½å¤Ÿæ›´æ·±å…¥åœ°ç†è§£MCPçš„æŠ€æœ¯æ¶æ„å’Œå·¥ä½œåŸç†ï¼Œä¸ºå‰ç«¯å¼€å‘ç¤¾åŒºè´¡çŒ®æ›´å¤šæœ‰ä»·å€¼çš„å·¥å…·å’ŒæœåŠ¡ã€‚</li>
</ol>
<p>åŒæ—¶ï¼Œæˆ‘ä¹ŸæœŸå¾…çœ‹åˆ°æ›´å¤šå¼€å‘è€…åŠ å…¥VibeCodingçš„è¡Œåˆ—ï¼Œé€šè¿‡TRAEé‡Šæ”¾åˆ›æ„ï¼Œå…±åŒåˆ›é€ ä¸€ä¸ªæ›´åŠ ä¸°å¯Œå¤šå½©çš„æ•°å­—ä¸–ç•Œã€‚</p>
<h2 data-id="heading-27">äº”ã€ç»“è¯­</h2>
<p>2025å¹´ï¼Œæ˜¯æˆ‘ä¸TRAEå’ŒMCPç»“ç¼˜çš„ä¸€å¹´ï¼Œä¹Ÿæ˜¯æˆ‘åˆ›æ„è¿¸å‘çš„ä¸€å¹´ã€‚ä»æ—…æ¸¸æœ­è®°ç”Ÿæˆå™¨åˆ°æ¸¸æˆå¼€å‘ï¼Œä»ç”Ÿæ´»åŠ©æ‰‹åˆ°ç¤¾äº¤ç®¡ç†å·¥å…·ï¼ŒTRAEä¸MCPçš„ç»„åˆé™ªä¼´æˆ‘èµ°è¿‡äº†ä¸€æ®µå……æ»¡æƒŠå–œå’Œæˆå°±çš„æŠ€æœ¯æ¢ç´¢ä¹‹æ—…ã€‚</p>
<h3 data-id="heading-28">æˆ‘çš„VibeCodingä¸MCPä¹‹æ—…</h3>
<p>å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œ2025å¹´çš„VibeCodingä¸MCPä¹‹æ—…æ˜¯ä¸€æ¬¡è‡ªæˆ‘çªç ´å’Œæˆé•¿çš„è¿‡ç¨‹ã€‚ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä¸ä»…å¼€å‘äº†å¤šä¸ªæœ‰è¶£å®ç”¨çš„é¡¹ç›®ï¼Œä¹Ÿå‘ç°äº†è‡ªå·±åœ¨åˆ›æ„è®¾è®¡å’Œé—®é¢˜è§£å†³æ–¹é¢çš„æ½œåŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/89ed48e5322846d7a023e8481f8ce421~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=spTtsqVWbQfekWyVGvFgAHNEj0Y%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>æŠ€æœ¯çš„é­…åŠ›åœ¨äºå®ƒèƒ½å¤Ÿè®©ç”Ÿæ´»å˜å¾—æ›´åŠ ç¾å¥½ï¼Œè€ŒTRAEå’ŒMCPæ­£æ˜¯è¿™æ ·ä¸€å¯¹èƒ½å¤Ÿèµ‹èƒ½åˆ›æ„ã€ç®€åŒ–å¼€å‘çš„ç¥å¥‡ç»„åˆã€‚TRAEæä¾›äº†æ™ºèƒ½çš„å¯¹è¯å¼ç¼–ç¨‹ç¯å¢ƒï¼Œè®©åˆ›æ„è¡¨è¾¾æ›´åŠ è‡ªç„¶å’Œç›´è§‚ï¼›MCPæä¾›äº†ä¸°å¯Œçš„æŠ€æœ¯æœåŠ¡ï¼Œè®©åˆ›æ„å®ç°æ›´åŠ é«˜æ•ˆå’Œå¼ºå¤§ã€‚</p>
<p>æˆ‘å›é¡¾æˆ‘è¿™ä¸€å¹´TRAEçš„æ€»ç»“æŠ¥å‘Šï¼Œè·å¾—äº†â€œæ‰§å‰‘äººâ€è¯„ä»·ã€‚å€’ä¹Ÿååˆ†è´´åˆ‡ï¼</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/061e5c889f0d48b186057300cec12ddd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6byT5o6MTVZQ:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769949930&amp;x-signature=ZsyYX%2BDqLBuPZUUEDHG3g%2BQ%2BZao%3D" alt="è¯·åœ¨æ­¤æ·»åŠ å›¾ç‰‡æè¿°" loading="lazy"/></p>
<p>2025å¹´ï¼Œä¸TRAEå’ŒMCPçš„æ•…äº‹å·²ç»æˆä¸ºæˆ‘äººç”Ÿä¸­ä¸€æ®µç¾å¥½çš„å›å¿†ï¼›è€Œæœªæ¥ï¼Œæ›´å¤šä¸TRAEå’ŒMCPçš„ç²¾å½©æ•…äº‹æ­£åœ¨ç­‰å¾…ç€æˆ‘å»ä¹¦å†™ã€‚</p>
<h3 data-id="heading-29">æœªæ¥çš„å±•æœ›</h3>
<p>æˆ‘ç›¸ä¿¡ï¼Œåœ¨æœªæ¥çš„æ—¥å­é‡Œï¼ŒTRAEå’ŒMCPå°†ç»§ç»­è¿›åŒ–ï¼Œä¸ºå¼€å‘è€…å¸¦æ¥æ›´åŠ å¼ºå¤§å’Œæ™ºèƒ½çš„å¼€å‘ä½“éªŒã€‚VibeCodingå°†æˆä¸ºä¸»æµçš„ç¼–ç¨‹æ–¹å¼ï¼Œè€ŒMCPå°†æˆä¸ºæŠ€æœ¯æ•´åˆçš„æ ‡å‡†å®è·µï¼Œä¸¤è€…çš„ç»“åˆå°†å½»åº•æ”¹å˜è½¯ä»¶å¼€å‘çš„æ ¼å±€ã€‚</p>
<p>ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘æœŸå¾…ç€åœ¨VibeCodingå’ŒMCPçš„é“è·¯ä¸Šç»§ç»­æ¢ç´¢ï¼Œå¼€å‘æ›´å¤šæœ‰æ„ä¹‰çš„é¡¹ç›®ï¼Œä¸ºå‰ç«¯å¼€å‘ç¤¾åŒºè´¡çŒ®è‡ªå·±çš„åŠ›é‡ã€‚æˆ‘ä¹ŸæœŸå¾…ç€ä¸æ›´å¤šå¿—åŒé“åˆçš„ä¼™ä¼´ç›¸é‡ï¼Œå…±åŒæ¢ç´¢æŠ€æœ¯çš„æ— é™å¯èƒ½ï¼Œåˆ›é€ ä¸€ä¸ªæ›´åŠ ç¾å¥½çš„æ•°å­—æœªæ¥ã€‚</p>
<p>æŠ€æœ¯çš„è¿›æ­¥æ°¸æ— æ­¢å¢ƒï¼Œåˆ›æ„çš„è¡¨è¾¾ä¹Ÿæ°¸æ— æ­¢å¢ƒã€‚æœ‰äº†TRAEå’ŒMCPï¼Œæˆ‘ä»¬æ¯ä¸ªäººéƒ½å¯ä»¥æˆä¸ºæ•°å­—ä¸–ç•Œçš„å»ºè®¾è€…ï¼Œç”¨åˆ›æ„å’ŒæŠ€æœ¯å…±åŒåˆ›é€ ä¸€ä¸ªæ›´åŠ ä¸°å¯Œå¤šå½©çš„æœªæ¥ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è°·æ­Œå¼€æ”¾ä¸–ç•Œæ¨¡å‹ä¸€å¤œåˆ·å±ï¼ŒAIæ¸¸æˆé—¨æ§›å½’é›¶æ—¶åˆ»æ¥äº†ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7600957412128964623</link>    <guid>https://juejin.cn/post/7600957412128964623</guid>    <pubDate>2026-01-30T09:56:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600957412128964623" data-draft-id="7600799940971216936" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è°·æ­Œå¼€æ”¾ä¸–ç•Œæ¨¡å‹ä¸€å¤œåˆ·å±ï¼ŒAIæ¸¸æˆé—¨æ§›å½’é›¶æ—¶åˆ»æ¥äº†ï¼Ÿ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2026-01-30T09:56:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è°·æ­Œå¼€æ”¾ä¸–ç•Œæ¨¡å‹ä¸€å¤œåˆ·å±ï¼ŒAIæ¸¸æˆé—¨æ§›å½’é›¶æ—¶åˆ»æ¥äº†ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:56:18.000Z" title="Fri Jan 30 2026 09:56:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è°·æ­Œä¸–ç•Œæ¨¡å‹ï¼Œå†ä¸€æ¬¡æƒŠè‰³äº†æ‰€æœ‰äººï¼</p>
<p>ä»Šå¤©ä¸€æ—©ï¼Œè°·æ­Œ DeepMind å¼€æ”¾äº†ä¸–ç•Œæ¨¡å‹ Genie 3 çš„å®éªŒæ€§ç ”ç©¶åŸå‹ã€ŒProject Genieã€ï¼Œå…è®¸ç”¨æˆ·åˆ›å»ºã€ç¼–è¾‘å¹¶æ¢ç´¢è™šæ‹Ÿä¸–ç•Œã€‚</p>
<p>åœ¨ä¸–ç•Œæ¨¡å‹ Genie 3 ä¹‹å¤–ï¼ŒProject Genie åŒæ ·ç”±å›¾åƒç”Ÿæˆä¸ç¼–è¾‘æ¨¡å‹ Nano Banana Pro å’Œè¯­è¨€æ¨¡å‹ Gemini æä¾›æŠ€æœ¯æ”¯æ’‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2efa739c59bc4bfc9b562e4aa0e3d12b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371778&amp;x-signature=G8qvqkHX%2BI3wIvRK%2BJg31%2BW8D9E%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å»å¹´ 8 æœˆï¼Œè°·æ­Œé¢„å‘å¸ƒäº†é€šç”¨ä¸–ç•Œæ¨¡å‹Â <a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzA3MzI4MjgzMw%3D%3D%26mid%3D2650983908%26idx%3D1%26sn%3Df33650540bdffd2558dea77ba3ab7377%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzA3MzI4MjgzMw==&amp;mid=2650983908&amp;idx=1&amp;sn=f33650540bdffd2558dea77ba3ab7377&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">Genie 3</a>ï¼Œå®ƒèƒ½å¤Ÿç”Ÿæˆå¤šæ ·åŒ–çš„äº¤äº’å¼ç¯å¢ƒã€‚åœ¨è¿™ä¸€æ—©æœŸé˜¶æ®µï¼Œå—é‚€æµ‹è¯•è€…ä»¬å·²ç»åˆ›é€ å‡ºäº†ä»¤äººå°è±¡æ·±åˆ»ä¸”æå…·å¸å¼•åŠ›çš„è™šæ‹Ÿä¸–ç•Œä¸æ²‰æµ¸å¼ä½“éªŒï¼Œå¹¶æŒ–æ˜å‡ºäº†å…¨æ–°çš„ä½¿ç”¨æ–¹å¼ã€‚</p>
<p>æ¥ä¸‹æ¥çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªä¸“æ³¨äºã€Œæ²‰æµ¸å¼ä¸–ç•Œåˆ›å»ºã€çš„äº¤äº’å¼åŸå‹ï¼Œè¿›ä¸€æ­¥æ‰©å¤§å—ä¼—èŒƒå›´ã€‚</p>
<p>å› æ­¤è‡ªå³æ—¥èµ·ï¼Œè°·æ­Œé¢å‘ç¾å›½ 18 å²åŠä»¥ä¸Šçš„ Google AI Ultra ç”¨æˆ·å¼€æ”¾äº† Project Genie çš„è®¿é—®æƒé™ã€‚</p>
<p>Project Genie çš„å¤šæ ·æ€§ç©æ³•</p>
<p>ä¸–ç•Œæ¨¡å‹èƒ½å¤Ÿæ¨¡æ‹Ÿç¯å¢ƒçš„åŠ¨æ€å˜åŒ–ï¼Œå¹¶é¢„æµ‹ç¯å¢ƒçš„æ¼”å˜æ–¹å¼ä»¥åŠåŠ¨ä½œå¯¹ç¯å¢ƒçš„å½±å“ã€‚</p>
<p>ä¸é™æ€ 3D å¿«ç…§ä¸­çš„å¯æ¢ç´¢ä½“éªŒä¸åŒï¼Œè°·æ­Œé€šç”¨ä¸–ç•Œæ¨¡å‹ Genie 3 ä¼šåœ¨ç”¨æˆ·ç§»åŠ¨å¹¶ä¸ä¸–ç•Œäº¤äº’æ—¶ï¼Œå®æ—¶ç”Ÿæˆå‰æ–¹çš„è·¯å¾„ã€‚</p>
<p>å®ƒèƒ½å¤Ÿä¸ºåŠ¨æ€ä¸–ç•Œæ¨¡æ‹Ÿå‡ºç‰©ç†æ•ˆæœå’Œäº¤äº’ï¼Œå¹¶ä¸”å…¶çªç ´æ€§çš„ä¸€è‡´æ€§ä½¿å¾—æ¨¡æ‹Ÿä»»ä½•ç°å®åœºæ™¯æˆä¸ºå¯èƒ½ï¼Œä»æœºå™¨äººæŠ€æœ¯ã€åŠ¨ç”»å»ºæ¨¡å’Œå°è¯´åˆ›ä½œï¼Œåˆ°åœ°ç‚¹æ¢ç´¢å’Œå†å²åœºæ™¯è¿˜åŸã€‚</p>
<p>å¦‚ä»Šï¼Œåœ¨ Genie 3ã€Nano Banana Pro å’Œ Gemini ç­‰ä¸‰å¤§æ¨¡å‹çš„æ”¯æŒä¸‹ï¼ŒProject Genie å…·å¤‡äº†ä»¥ä¸‹ä¸‰å¤§æ ¸å¿ƒèƒ½åŠ›ï¼š</p>
<p>é¦–å…ˆæ˜¯ï¼Œä¸–ç•Œè‰ç»˜ï¼ˆWorld sketchingï¼‰ã€‚</p>
<p>é€šè¿‡æ–‡æœ¬æç¤ºè¯ä»¥åŠç”Ÿæˆæˆ–ä¸Šä¼ çš„å›¾ç‰‡ï¼Œç”¨æˆ·å³å¯åˆ›å»ºä¸€ä¸ªç”ŸåŠ¨ä¸”ä¸æ–­æ‰©å¼ çš„ç¯å¢ƒã€‚ç”¨æˆ·å¯ä»¥åˆ›å»ºè‡ªå·±çš„è§’è‰²å’Œä¸–ç•Œï¼Œå¹¶å®šä¹‰è‡ªå·±æƒ³è¦çš„æ¢ç´¢æ–¹å¼ï¼Œæ¯”å¦‚è¡Œèµ°ã€éª‘è¡Œã€é£è¡Œæˆ–è€…é©¾é©¶ï¼Œç­‰ç­‰ã€‚</p>
<p>ä¸ºäº†å®ç°æ›´ç²¾å‡†çš„æ§åˆ¶ï¼Œè°·æ­Œå°†ã€Œä¸–ç•Œè‰ç»˜ã€ä¸ Nano Banana Pro è¿›è¡Œäº†æ•´åˆã€‚è¿™æ ·ä¸€æ¥ï¼Œç”¨æˆ·åœ¨æ­£å¼è¿›å…¥ä¸–ç•Œä¹‹å‰ï¼Œå¯ä»¥é¢„è§ˆä¸–ç•Œçš„æ ·è²Œå¹¶ä¿®æ”¹å›¾åƒä»¥è¿›è¡Œå¾®è°ƒã€‚</p>
<p>ç”¨æˆ·è¿˜å¯ä»¥å®šä¹‰è§’è‰²çš„è§†è§’ï¼ˆç¬¬ä¸€äººç§°æˆ–ç¬¬ä¸‰äººç§°ï¼‰ï¼Œåœ¨è¿›å…¥åœºæ™¯å‰æŒæ§è‡ªå·±çš„è§†è§‰ä½“éªŒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cbc03879a1845f29182ddafdab23d98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371778&amp;x-signature=lM51I9rtNOZGZ8HrpPJ%2FU7P501M%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…¶æ¬¡æ˜¯ï¼Œä¸–ç•Œæ¢ç´¢ï¼ˆWorld explorationï¼‰ã€‚</p>
<p>ç”¨æˆ·åˆ›å»ºçš„ä¸–ç•Œæ˜¯ä¸€ä¸ªç­‰å¾…æ¢ç´¢çš„å¯å¯¼èˆªç¯å¢ƒã€‚åœ¨ç§»åŠ¨æ—¶ï¼ŒProject Genie ä¼šæ ¹æ®ç”¨æˆ·é‡‡å–çš„è¡ŒåŠ¨å®æ—¶ç”Ÿæˆå‰æ–¹è·¯å¾„ã€‚åœ¨ç©¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·è¿˜å¯ä»¥è°ƒæ•´ç›¸æœºè§†è§’ã€‚</p>
<p>æœ€åæ˜¯ï¼Œä¸–ç•Œé‡æ··ï¼ˆWorld remixingï¼‰ã€‚</p>
<p>é€šè¿‡åœ¨åŸæœ‰æç¤ºè¯çš„åŸºç¡€ä¸Šè¿›è¡Œåˆ›ä½œï¼Œå°†ç°æœ‰ä¸–ç•Œé‡æ··æˆæ–°çš„æ¼”ç»ç‰ˆæœ¬ã€‚ç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨ç”»å»Šæˆ–ã€Œéšæœºç”Ÿæˆã€å›¾æ ‡ä¸­æ¢ç´¢ç²¾é€‰ä¸–ç•Œä»¥è·å–çµæ„Ÿï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šç»§ç»­æ„å»ºã€‚</p>
<p>å®Œæˆåï¼Œç”¨æˆ·å¯ä»¥ä¸‹è½½å…³äºè‡ªå·±çš„ä¸–ç•Œå’Œæ¢ç´¢è¿‡ç¨‹çš„è§†é¢‘ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fd304c9585c04af5ae5be320fa9bb2e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371778&amp;x-signature=zWp8syh4JQbO6eyzMlEGYj0eFaU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸è¿‡ç›®å‰ï¼Œè°·æ­Œä¹Ÿæ‰¿è®¤ï¼ŒGenie 3 ä»å¤„äºæ—©æœŸç ”ç©¶é˜¶æ®µï¼Œ ä»¥ä¸‹å‡ ä¸ªæ–¹é¢éœ€è¦è¿›ä¸€æ­¥æ”¹è¿›ï¼š</p>
<ul>
<li>
<p>ç”Ÿæˆçš„ä¸–ç•Œå¯èƒ½çœ‹èµ·æ¥å¹¶ä¸å®Œå…¨é€¼çœŸï¼Œæˆ–è€…å¹¶ä¸æ€»æ˜¯èƒ½ä¸¥æ ¼éµå¾ªæç¤ºè¯ã€å›¾åƒæˆ–ç°å®ä¸–ç•Œçš„ç‰©ç†è§„å¾‹ï¼›</p>
</li>
<li>
<p>è§’è‰²æœ‰æ—¶å¯èƒ½ä¸å¤ªå—æ§ï¼Œæˆ–è€…åœ¨æ§åˆ¶ä¸Šå­˜åœ¨è¾ƒé«˜çš„å»¶è¿Ÿï¼›</p>
</li>
<li>
<p>ç”Ÿæˆå†…å®¹çš„æ—¶é•¿é™åˆ¶åœ¨ 60 ç§’ä»¥å†…ï¼›</p>
</li>
<li>
<p>æ­¤å‰å®£å¸ƒçš„éƒ¨åˆ† Genie 3 åŠŸèƒ½ï¼ˆä¾‹å¦‚åœ¨æ¢ç´¢æ—¶æ”¹å˜ä¸–ç•Œçš„æç¤ºäº‹ä»¶ã€Œpromptable eventsã€ï¼‰å°šæœªåŒ…å«åœ¨æ­¤åŸå‹ä¸­ã€‚</p>
</li>
</ul>
<p>ç¬¬ä¸€æ‰‹ä½“éªŒå‡ºç‚‰</p>
<p>è°·æ­Œå¼€æ”¾ Project Genieï¼Œç»ˆäºè®©æ›´å¤šç”¨æˆ·äº²èº«ä½“éªŒåˆ°äº†ä¸–ç•Œæ¨¡å‹ Genie 3 çš„ã€ŒAI ç”Ÿä¸‡ç‰©ã€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/458d644bc71b4075a820a5dafbb91ec2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371778&amp;x-signature=3pB2r1WlOU%2Fcved031Sr6%2BNTPaI%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å·²ç»ä¸Šæ‰‹çš„ Ultra ç”¨æˆ·çº·çº·æ™’å‡ºäº†è‡ªå·±çš„ä½œå“ï¼Œç»™äºˆäº†ä¸é”™çš„è¯„ä»·ã€‚</p>
<p>ã€Œåˆšåˆšç”¨ Genie 3 åšå‡ºäº†æˆ‘çš„ç¬¬ä¸€æ¬¾ AI æ¸¸æˆã€‚æç¤ºè¯ï¼šä¸€ä½æ³•å›½å¥³å­å¿…é¡»æ”€è¶Šä¸€ä¸ªè¿èƒŒé€»è¾‘çš„ä¸–ç•Œï¼Œåˆ°å¤„éƒ½æ˜¯é£è¡Œç‰©ä½“ã€‚è¿™ä¼šæ˜¯æ¸¸æˆè¡Œä¸šçš„ç»ˆç»“å—ï¼Ÿã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/27c967830c72480191ef6bd2ca4aa0ed~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371778&amp;x-signature=t4TJ8HYKhLThOJUVqFmRk0dEdA8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ã€ŒGenie 3 èƒ½è¿è¡Œã€Šæ¯ç­æˆ˜å£«ã€‹ï¼ˆDoomï¼‰å—ï¼Ÿçœ‹å®ƒç”Ÿæˆçš„ã€Šæ¯ç­æˆ˜å£«ã€‹ï¼Œå¢™å£å…¨æ˜¯ç”±åŒæ ·åœ¨è¿è¡Œã€Šæ¯ç­æˆ˜å£«ã€‹çš„å±å¹•ç»„æˆï¼›ä¸»è§’æ˜¯ã€Šæ¯ç­æˆ˜å£«ã€‹é‡Œçš„é™†æˆ˜é˜Ÿå‘˜ï¼Œä½†ä»–çš„å¤´ä¹Ÿæ˜¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œã€Šæ¯ç­æˆ˜å£«ã€‹çš„å±å¹•ã€‚ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3d1f4b7c237a44f18e75dcb164583739~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371778&amp;x-signature=C9ICZq0k%2BDDYKTI0Xj%2FtPlb0Mms%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ã€ŒGenie 3 åœ¨å»ºæ¨¡å’Œç‰©ç†æ¨¡æ‹Ÿæ–¹é¢æ˜¯ä¸€ä¸ªå·¨å¤§çš„é£è·ƒï¼Œä½†ä»å­˜åœ¨ä¸€äº›å¾…è§£å†³çš„é—®é¢˜ï¼Œæ¯”å¦‚ä¸€åªå¤´é¡¶ç€é¸­å­çš„æ°´ç­é£è¡Œå‘˜æ­£èµ°åœ¨ä¸€å®¶ç½—æ–¯ç§‘ï¼ˆRothkoï¼‰é£æ ¼çš„æœºåœºé‡Œï¼›ä»¥åŠä¸€åªç©¿ç€ç¿¼è£…çš„æ°´ç­æ­£é£è¶Šä¸€åº§å……æ»¡å“¥ç‰¹å¼å¡”æ¥¼çš„åŸå¸‚ã€‚ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f8692a66e2bb4bbe80824f93f5204873~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371778&amp;x-signature=YfoecsrN%2BElDzpA4jg%2FoCwlY0IE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f14ac253acb748d9877fe02704316e6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371778&amp;x-signature=HusCQ%2FhKZvWO38%2Fiv96IHLerXyM%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ã€Œçœ‹ Genie 3 ç”Ÿæˆçš„äººç‰©æ˜¯æ€ä¹ˆæ‰“å¼€è½¦é—¨çš„ï¼Œè¿™ç®€ç›´å¤ªä»¤äººéœ‡æ’¼äº†ã€‚ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/acaf788fdf7c40a9874957f9148c6123~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371778&amp;x-signature=WVd6e4Y7ssgLRnww2EUo1V4P6HY%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ã€Œç”»é¢æç¤ºè¯ä¸ºï¼šä¸€ä¸ªç”·äººæ­£æ²¿ç€å¥½è±åå¤§é“æ¼«æ­¥ã€‚ä¸ä»…èƒ½æ§åˆ¶è¿™ä¸ªç”·äººçš„åŠ¨ä½œï¼Œè¿˜èƒ½å®æ—¶æ“æ§ç›¸æœºçš„è§†è§’ã€‚ã€</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06e83b9956284ec6aa4b86488cfc54cc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371778&amp;x-signature=d4B93EF0HDSiiGMiXJQ0gbKGZUo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.google%2Finnovation-and-ai%2Fmodels-and-research%2Fgoogle-deepmind%2Fproject-genie%2F" target="_blank" title="https://blog.google/innovation-and-ai/models-and-research/google-deepmind/project-genie/" ref="nofollow noopener noreferrer">blog.google/innovation-â€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FTrueSlazac%2Fstatus%2F2016959063699906740%3Fs%3D20" target="_blank" title="https://x.com/TrueSlazac/status/2016959063699906740?s=20" ref="nofollow noopener noreferrer">x.com/TrueSlazac/â€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Femollick%2Fstatus%2F2016982218506199531" target="_blank" title="https://x.com/emollick/status/2016982218506199531" ref="nofollow noopener noreferrer">x.com/emollick/stâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2Femollick%2Fstatus%2F2016919989865840906%3Fs%3D20" target="_blank" title="https://x.com/emollick/status/2016919989865840906?s=20" ref="nofollow noopener noreferrer">x.com/emollick/stâ€¦</a></p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fx.com%2FEHuanglu%2Fstatus%2F2016926887151354255%3Fs%3D20" target="_blank" title="https://x.com/EHuanglu/status/2016926887151354255?s=20" ref="nofollow noopener noreferrer">x.com/EHuanglu/stâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ¨¡å‹çš„ç¬¬ä¸€æ€§åŸç†ï¼šï¼ˆäºŒï¼‰ä¿¡å·å¤„ç†ç¯‡]]></title>    <link>https://juejin.cn/post/7600837236620738612</link>    <guid>https://juejin.cn/post/7600837236620738612</guid>    <pubDate>2026-01-30T09:57:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600837236620738612" data-draft-id="7600728866758098996" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ¨¡å‹çš„ç¬¬ä¸€æ€§åŸç†ï¼šï¼ˆäºŒï¼‰ä¿¡å·å¤„ç†ç¯‡"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,OpenAI"/> <meta itemprop="datePublished" content="2026-01-30T09:57:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æœºå™¨ä¹‹å¿ƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1873223543167902"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ¨¡å‹çš„ç¬¬ä¸€æ€§åŸç†ï¼šï¼ˆäºŒï¼‰ä¿¡å·å¤„ç†ç¯‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1873223543167902/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æœºå™¨ä¹‹å¿ƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T09:57:04.000Z" title="Fri Jan 30 2026 09:57:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»17åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ç™½é“‚ åšå£«ï¼Œåä¸º 2012 å®éªŒå®¤ç†è®ºç ”ç©¶éƒ¨ä¸»ä»» ä¿¡æ¯è®ºé¦–å¸­ç§‘å­¦å®¶</p>
<p>å¼•è¨€</p>
<p>æœ¬ç¯‡æ˜¯ã€Šå¤§æ¨¡å‹çš„ç¬¬ä¸€æ€§åŸç†ã€‹ç³»åˆ—è§£è¯»æ–‡ç« çš„ç¬¬äºŒç¯‡ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%3F__biz%3DMzA3MzI4MjgzMw%3D%3D%26mid%3D2651006633%26idx%3D1%26sn%3D822f0d7b22e8054ea897d55c7a7b3028%26scene%3D21%23wechat_redirect" target="_blank" title="https://mp.weixin.qq.com/s?__biz=MzA3MzI4MjgzMw==&amp;mid=2651006633&amp;idx=1&amp;sn=822f0d7b22e8054ea897d55c7a7b3028&amp;scene=21#wechat_redirect" ref="nofollow noopener noreferrer">ç‚¹å‡»å›é¡¾ç¬¬ä¸€ç¯‡</a>ï¼‰ï¼Œæˆ‘ä»¬å°†ä»ä¿¡å·å¤„ç†çš„è§’åº¦è§£è¯»åŸè®ºæ–‡[1]ã€‚é‡ç‚¹æ¢è®¨è¯­ä¹‰å‘é‡åŒ–èƒŒåçš„ä¿¡å·å¤„ç†å’Œä¿¡æ¯è®ºåŸç†ï¼Œå¹¶ä»æ—¶é—´åºåˆ—çš„è§’åº¦åˆ†æ Transformer åŠå…¶ä¸ Granger å› æœçš„å…³ç³»ã€‚</p>
<p>æˆ‘ä»¬é¦–å…ˆæå‡ºä¸€ä¸ªè§‚ç‚¹ï¼šå¤§æ¨¡å‹çš„è¾“å…¥æ˜¯ Token çš„è¯­ä¹‰åµŒå…¥ï¼ˆä¹Ÿç§°ä¸ºè¯­ä¹‰å‘é‡ï¼‰ï¼Œå…¶æœ¬è´¨æ˜¯æŠŠè‡ªç„¶è¯­è¨€å¤„ç†é—®é¢˜è½¬æ¢ä¸ºä¿¡å·å¤„ç†é—®é¢˜ã€‚å› æ­¤å¯¹äºå¤§æ¨¡å‹è€Œè¨€ï¼Œå‘é‡åŒ–éå¸¸å…³é”®ï¼Œå®ƒå’Œä¿¡å·å¤„ç†ã€ä¿¡æ¯è®ºæœ‰éå¸¸æ·±åˆ»çš„è”ç³»ã€‚</p>
<p>å°½ç®¡ä»è¯­è¨€å­¦çš„è§’åº¦çœ‹ï¼Œè¯­æ³•å’Œé€»è¾‘æ˜¯äººç±»è¯­è¨€ç°è±¡çš„å…³é”®ï¼Œç„¶è€Œæœ¬ç³»åˆ—çš„ã€Šç»Ÿè®¡ç‰©ç†ç¯‡ã€‹å·²ç»æŒ‡å‡ºï¼šå¤§æ¨¡å‹å¹¶ä¸è€ƒè™‘è¿™äº›å› ç´ ï¼Œè€Œæ˜¯ä»çº¯æ¦‚ç‡çš„è§’åº¦å‡ºå‘å»ºæ¨¡è‡ªç„¶è¯­è¨€ã€‚</p>
<p>ä» Token çš„ç»´åº¦çœ‹ï¼Œè¿™ç§çº¯ç²¹çš„æ¦‚ç‡æ¨¡å‹åœ¨è®¡ç®—ä¸Šæ˜¯éå¸¸å›°éš¾çš„ï¼Œå› æ­¤äººä»¬å‘å±•å‡ºäº†æ¦‚ç‡å›¾æ¨¡å‹ã€æ¶ˆæ¯ä¼ é€’ç®—æ³•ç­‰å·¥å…·[2]ã€‚å¯¹äºå½“å‰æµ·é‡æ•°æ®è€Œè¨€ï¼Œè¿™äº›æ–¹æ³•çš„å¤æ‚åº¦ä»ç„¶è¿‡é«˜ï¼Œå¾ˆéš¾ç”¨äºå¤§è§„æ¨¡è®­ç»ƒï¼Œä¹Ÿéš¾ä»¥å»ºæ¨¡è¯­ä¹‰éå¯¹ç§°æ€§å’Œé•¿ç¨‹ä¾èµ–æ€§ã€‚ä½†æ˜¯ï¼Œå½“ Token è¢«å‘é‡åŒ–ä¹‹åï¼Œæƒ…å†µå°±å‘ç”Ÿäº†æœ¬è´¨çš„å˜åŒ–ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥å®šä¹‰å†…ç§¯ï¼Œå¹¶ç”¨å†…ç§¯æ¥è¡¨ç¤ºè¯­ä¹‰ç›¸å…³æ€§ï¼Œä»è€Œå¤§å¹…åº¦é™ä½è®¡ç®—é‡ã€‚</p>
<p>åŸºäºå†…ç§¯ï¼Œæˆ‘ä»¬å¯ä»¥è¿›ä¸€æ­¥å®šä¹‰è·ç¦»ã€å¾®åˆ†ã€ä½ç»´æµå½¢ç­‰ä¸€ç³»åˆ—ç›¸å¯¹å®¹æ˜“æ•°å€¼è®¡ç®—çš„é‡ã€‚è¿™æ ·å°±å¯ä»¥é€šè¿‡åå‘ä¼ æ’­ç®—æ³•æ¥è®­ç»ƒç¥ç»ç½‘ç»œï¼Œå°† Token çš„å‘é‡åŒ–å˜æˆç¥ç»ç½‘ç»œçš„è¾“å…¥ã€è¾“å‡ºå’Œå‚æ•°åŒ–è®°å¿†[3][4]ã€‚å®é™…ä¸Šï¼Œè®¸å¤šç ”ç©¶ä¹Ÿè¡¨æ˜ç¥ç»ç½‘ç»œä¹‹æ‰€ä»¥èƒ½å®Œæˆåˆ†ç±»ï¼Œæ­£æ˜¯å› ä¸ºåŒä¸€ç±»äº‹ç‰©ï¼ˆå¦‚ç…§ç‰‡ä¸­çš„çŒ«ã€ç‹—ç­‰ï¼‰åœ¨é«˜ç»´å‚æ•°ç©ºé—´ä¸­ä¼šå†…èšæˆä½ç»´æµå½¢[5][6]ã€‚</p>
<p>é¡ºä¾¿æåŠï¼Œæˆ‘ä»¬åœ¨å‘é‡æ£€ç´¢æ–¹é¢çš„ç ”ç©¶å–å¾—äº†ä¸€å®šè¿›å±•ï¼Œæ‰€æå‡ºçš„è¿‘ä¼¼æœ€è¿‘é‚»å‘é‡æ£€ç´¢ç®—æ³•ï¼Œè¿‡å»ä¸¤å¹´ä¸€ç›´è‰è” ANNBenchemarks æ¦œå•çš„ç¬¬ä¸€å ã€‚</p>
<p>è¯­ä¹‰åµŒå…¥ / å‘é‡åŒ–</p>
<p>äººä»¬ç”¨å‘é‡æ¥å»ºæ¨¡è¯­ä¹‰çš„æƒ³æ³•æœ€æ—©å‡ºç°äº Luhn åœ¨ 1953 å¹´å‘è¡¨çš„è®ºæ–‡ä¸­[8]ã€‚ä½†ç›´åˆ° 2013 å¹´ï¼ŒMikolov ç­‰äººæ‰çœŸæ­£å–å¾—çªç ´[9][10]ã€‚åŸºäºå¤§é‡è¯­æ–™ï¼Œä»–ä»¬æˆåŠŸåœ°è®­ç»ƒå‡ºäº†å°† Token è½¬åŒ–æˆè¯­ä¹‰å‘é‡çš„ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­ç»å¸¸è¢«ç”¨æ¥è¡¨è¾¾æœ€ç†æƒ³çš„è¯­ä¹‰å‘é‡åŒ–ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/38734473a84e4c97a20d39a5441430d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=aamwhItyFEdZKupvG5O7OJY%2FW9k%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…¶ä¸­ s (â‹…) ä¸ºä¸€ä¸ªè¯çš„å‘é‡åŒ–è¡¨ç¤ºã€‚ç„¶è€Œé—æ†¾çš„æ˜¯ï¼Œä¸Šè¿°ç†æƒ³çš„è¯­ä¹‰å‘é‡åŒ–å½“å‰å¹¶æœªå®Œå…¨å®ç°ï¼Œä½†æ˜¯è¯­ä¹‰å‘é‡ä¹‹é—´çš„å†…ç§¯ï¼ˆæˆ–è€…å½’ä¸€åŒ–ä¸ºä½™å¼¦ç›¸ä¼¼æ€§ï¼‰å´å¯ä»¥è¡¨ç¤º Token å±‚é¢çš„è¯­ä¹‰ç›¸å…³æ€§ã€‚</p>
<p>å‡è®¾ Î© æ˜¯ä¸€ç§è‡ªç„¶è¯­è¨€æ‰€åŒ…å«çš„ M ä¸ª Token çš„é›†åˆï¼Œé‚£ä¹ˆä»å¤§æ¨¡å‹çš„è§’åº¦çœ‹ï¼Œä¸€ä¸ª Token çš„è¯­ä¹‰å°±ç”±å®šä¹‰åœ¨ Î© ä¸Šçš„æ¦‚ç‡åˆ†å¸ƒæ‰€æè¿°[11]ã€‚è¯¥åˆ†å¸ƒå¯ä»¥ä»å¤§é‡è¯­æ–™ä¸­å­¦åˆ°ï¼Œå› æ­¤è¯­ä¹‰ç©ºé—´å°±å¯ä»¥ç”¨è¿™ä¸ªå­¦åˆ°çš„æ¦‚ç‡ç©ºé—´å»ºæ¨¡ã€‚è¿›ä¸€æ­¥åœ°ï¼Œå°†è¯­ä¹‰å‘é‡ç©ºé—´å®šä¹‰ä¸ºä¸€ä¸ª M ç»´ç©ºé—´ä¸­çš„å•ä½çƒé¢<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cae4e32acfed43cc9dbfcb75d502df30~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=VdQ4C60g%2FB496h18zJxSYqHK9Sc%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼Œå…¶ä¸­æ¯ä¸ª Token éƒ½å’Œçƒé¢ä¸Šçš„ä¸€ä¸ªç‚¹ä¸€ä¸€å¯¹åº”ã€‚</p>
<p>å¯¹äºå¤§æ¨¡å‹è€Œè¨€ï¼Œè¯­ä¹‰å‘é‡ç©ºé—´å°±å¯ä»¥å»ºæ¨¡ä¸ºä¸€ä¸ªæ¦‚ç‡-å†…ç§¯ç©ºé—´ã€‚è®¸å¤šç ”ç©¶è®¤ä¸ºè¯­ä¹‰å‘é‡ç©ºé—´åº”è¯¥æ˜¯ç»“æ„æ›´å¤æ‚çš„ä½ç»´æµå½¢ï¼Œä½†ä½™å¼¦ç›¸ä¼¼æ€§å’Œæ¬§å¼è·ç¦»çš„å®é™…æ•ˆæœå°±å·²ç»è¶³å¤Ÿå¥½äº†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬è®¤ä¸ºç”¨å•ä½çƒé¢ S^(M-1) æ¥å®šä¹‰è¯­ä¹‰å‘é‡ç©ºé—´æ˜¯åœ¨æ•ˆæœå’Œå¤æ‚åº¦ä¹‹é—´çš„è‰¯å¥½å¹³è¡¡ã€‚éœ€è¦ç‰¹åˆ«å¼ºè°ƒçš„æ˜¯ï¼Œè¯­ä¹‰å‘é‡ç©ºé—´ä¸­çš„æ¯ä¸€ä¸ªå‘é‡æœ¬èº«å¹¶æ²¡æœ‰è¯­ä¹‰ï¼Œè€Œè¿™ä¸ªå‘é‡ä¸å…¶å®ƒæ‰€æœ‰å‘é‡çš„å†…ç§¯ï¼ˆå³ç›¸å¯¹å…³ç³»ï¼‰æ‰ä»£è¡¨äº†è¯­ä¹‰ã€‚è¿™ä¸€ç‚¹å’Œä¿¡æ¯è®ºä¸­çš„ä¿¡æºç¼–ç æœ‰æœ¬è´¨çš„åŒºåˆ«ã€‚ç»å…¸çš„ä¿¡æºç¼–ç æ˜¯å¯¹æ¯ä¸€ä¸ªä¿¡æºç¬¦å·çš„å‹ç¼©ï¼Œè€Œè¯­ä¹‰å‘é‡çš„å‹ç¼©åˆ™æ˜¯åœ¨ç›¸å¯¹å…³ç³»è¿‘ä¼¼ä¸å˜çš„å‰æä¸‹ï¼Œå¯¹æ•´ä¸ªè¯­ä¹‰å‘é‡ç©ºé—´çš„é™ç»´ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•è¡¡é‡ä¸¤ä¸ªè¯­ä¹‰ç©ºé—´çš„è·ç¦»ï¼Œä»¥æ§åˆ¶è¯­ä¹‰å‘é‡ç©ºé—´é™ç»´å¸¦æ¥çš„ç²¾åº¦æŸå¤±æˆ–è€…è¡¡é‡ä¸¤ä¸ªä¸åŒè‡ªç„¶è¯­è¨€çš„è¯­ä¹‰å·®å¼‚æ€§å°±å˜å¾—è‡³å…³é‡è¦ã€‚å½“ä»£è‘—åçš„å‡ ä½•å­¦å®¶ï¼Œ2009 å¹´é˜¿è´å°”å¥–è·å¾—è€…ï¼ŒMikhael Gromov ä¸ºæˆ‘ä»¬æä¾›äº†æ•°å­¦å·¥å…·ï¼Œå³Â Gromov-Wasserstein è·ç¦»[12]ã€‚å®ƒè¡¡é‡äº†ä¸¤ä¸ªåº¦é‡ - æ¦‚ç‡ç©ºé—´ä¹‹é—´çš„ä»»æ„ä¸¤ç‚¹é—´åº¦é‡çš„å¹³å‡å·®å¼‚ã€‚è¯¥å®šä¹‰æå¤§åœ°æ‹“å±•äº†æœ€ä¼˜ä¼ è¾“ç†è®ºä¸­çš„ Wasserstein è·ç¦»çš„åº”ç”¨èŒƒå›´[13]ã€‚æ®æ­¤ï¼Œæˆ‘ä»¬å®šä¹‰è¯­ä¹‰å‘é‡ç©ºé—´è·ç¦»å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5c21d5551bbc4ed6b819a47f2b215513~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=P14ZueS%2FAJkH3WOvMn038E5Gf9Q%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…¶ä¸­ï¼Œ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b244ce4d36e64707bdeb2620be95717c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=DDOycgQtCJK74CsA40CipRhlVKg%3D" alt="å›¾ç‰‡" loading="lazy"/>Â å’ŒÂ <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/60059d9514be473fa306b20f0aad7659~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=ePQYPNODcF91eF30yDdy%2FjA03FA%3D" alt="å›¾ç‰‡" loading="lazy"/>Â æ˜¯ä¸¤ä¸ªè¯­ä¹‰å‘é‡ç©ºé—´ï¼Œ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/49ea09c702ba4237b9409f241c187c34~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=bDHWwatwqFu6HTsMBBpUO6PdgCA%3D" alt="å›¾ç‰‡" loading="lazy"/>Â æ˜¯Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c10dd855a8994096a2d939ab3b442fd2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=3HHtWQMt0diGXF75BVYE30z1Opc%3D" alt="å›¾ç‰‡" loading="lazy"/>Â ä¸Šçš„è¯­ä¹‰å‘é‡ï¼Œ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fb0bcf92cb0b4e998bce0dd76ee957a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=fGVfDS3uCG0E4llTifE%2FqbgKlsg%3D" alt="å›¾ç‰‡" loading="lazy"/>Â æ˜¯Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17bb6b80180d432284d19322d8cb55a4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=TphwcpaF5JnhuioZK01jluyoEvI%3D" alt="å›¾ç‰‡" loading="lazy"/>Â ä¸Šçš„è¯­ä¹‰å‘é‡ï¼ŒÎ¼ å’Œ Î½ åˆ†åˆ«æ˜¯å®šä¹‰åœ¨Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/945f9b3b5e304bda901af0b52c86cb15~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=jj7WyqRdQhpdocXmNVYN1nOBJFY%3D" alt="å›¾ç‰‡" loading="lazy"/>Â å’ŒÂ <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e1932121e5d541d2a288f3c5e68ee9ce~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=Q1X4e9lhk9pnb0%2B81wYtogYj1bs%3D" alt="å›¾ç‰‡" loading="lazy"/>ä¸Šçš„æ¦‚ç‡æµ‹åº¦ï¼ŒÏ€ æ˜¯è”åˆæ¦‚ç‡æµ‹åº¦ï¼ŒÎ (Î¼,Î½) æ˜¯è¾¹ç¼˜åˆ†å¸ƒä¸º Î¼ å’Œ Î½ çš„æ‰€æœ‰è”åˆæ¦‚ç‡æµ‹åº¦çš„é›†åˆã€‚åœ¨æœ€ä¼˜ä¼ è¾“ç†è®ºä¸­ï¼ŒÎ (Î¼,Î½) ä¸­çš„ä»»ä½•ä¸€ä¸ªè”åˆæ¦‚ç‡æµ‹åº¦éƒ½è¢«ç§°ä¸ºä¼ è¾“æ–¹æ¡ˆã€‚</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a374a8f19814bc985c19e50a0cd6b3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=gjmQUi7QQM2%2FhPqwv%2FPasp4JrI0%3D" alt="å›¾ç‰‡" loading="lazy"/>Â è¡¡é‡äº†æ¦‚ç‡åŠ æƒæ„ä¹‰ä¸‹ä¸¤ä¸ªç©ºé—´å†…ç§¯çš„å¹³å‡æœ€å°å·®å¼‚ï¼Œå³ä¸¤ä¸ªç©ºé—´çš„å¹³å‡ç»“æ„å·®å¼‚ã€‚å¦‚æœÂ <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5ea226e5464a4280a259f9c98f6b53b1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=qKFnQd1ZC3dwE2aFb4HZd8eoaxY%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼Œåœ¨æ•°å­¦ä¸Šç§°è¿™ä¸¤ä¸ªç©ºé—´æ˜¯ç­‰è·åŒæ„çš„ã€‚è¿™æ„å‘³ç€è¿™ä¸¤ä¸ªè¯­ä¹‰å‘é‡ç©ºé—´å®Œå…¨ç­‰ä»·ï¼Œå³ä¸¤ç§è¯­è¨€åœ¨ Token è¯­ä¹‰å±‚é¢å®é™…ä¸Šæ˜¯åŒä¸€ç§è¯­è¨€ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼Œ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fc83b50ebe7c46579ea79d0591b71f63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=q0Wk0ZwjqI%2FcUhDQFKBDbHr99Pg%3D" alt="å›¾ç‰‡" loading="lazy"/>Â è¡¡é‡äº†ä¸¤ä¸ªè¯­ä¹‰å‘é‡ç©ºé—´åç¦»ç­‰è·åŒæ„çš„ç¨‹åº¦ã€‚åç¦»ç¨‹åº¦è¶Šå¤§ï¼Œç¿»è¯‘èµ·æ¥çš„éš¾åº¦å°±è¶Šé«˜ã€‚</p>
<p>å› æ­¤ï¼Œ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/66beb30d226f434fa68fcba611efbb8d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=8UWC4A8XY9%2FWBTlNMGH3fD8HYzc%3D" alt="å›¾ç‰‡" loading="lazy"/>Â ä¸ä»…å¯ä»¥ç”¨äºè¡¡é‡è¯­ä¹‰å‘é‡ç©ºé—´é™ç»´å¸¦æ¥çš„è¯­ä¹‰å¤±çœŸï¼ŒåŒæ—¶è¿˜å¯ä»¥ç”¨æ¥åº¦é‡è¯­ä¹‰å¯¹é½çš„æ•ˆæœ[14]ã€‚æˆ‘ä»¬è¿‘æœŸæ­£åœ¨å°†è¿™ä¸ªæ–¹æ³•ä»è‡ªç„¶è¯­è¨€çš„è¯­ä¹‰å¯¹é½æ¨å¹¿åˆ°å¤šæ¨¡æ€è¯­ä¹‰å¯¹é½é—®é¢˜ä¸Šã€‚</p>
<p>åŸºäºè¯­ä¹‰å‘é‡ç©ºé—´çš„æ¦‚å¿µï¼Œä¸‹é¢è®¨è®ºè¯­ä¹‰å‹ç¼©é—®é¢˜ã€‚åŸå§‹ M ç»´è¯­ä¹‰å‘é‡ç©ºé—´çš„ç»´æ•°è¿‡é«˜ï¼Œéš¾ä»¥è®¡ç®—ä¸”å®¹æ˜“å¯¼è‡´ç»´æ•°ç¾éš¾ã€‚Landauer ç­‰äººæŒ‡å‡ºè¯­ä¹‰å‘é‡åŒ–å­˜åœ¨ä¸€ä¸ªæœ€ä¼˜ç»´æ•°åŒºé—´ï¼Œå³æ‰€è°“ç”œç‚¹ç»´æ•°[14]ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•å°† M ç»´è¯­ä¹‰å‘é‡ç©ºé—´å‹ç¼©åˆ°ä¸€ä¸ªåˆé€‚ç»´æ•°ï¼Ÿè¿™èƒŒåçš„æ•°å­¦åŸç†å°±æ˜¯è‘—åçš„Â Johnson-Lindenstraussï¼ˆJLï¼‰å¼•ç†[16]ã€‚è€ƒè™‘ Ïµâˆˆ(0,1) å’Œ K ä¸ª M ç»´å‘é‡Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e19a610ca17547749adf5187a2f35884~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=qAAhcDjLaoiw4bQ4Xc3dsO1FoO0%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼Œå¦‚æœÂ <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aadf7a7831ff4c868d3bf827ceadddbb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=2cOhuDXThI6DoHuGTP89X1QnLb8%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼Œé‚£ä¹ˆä¸€å®šå­˜åœ¨ä¸€ä¸ªçŸ©é˜µÂ <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/edb09d32d57c482bba39fd8d23fea07c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=1FnPYMmLxpmSAoNLtJ5HOLg8%2BqE%3D" alt="å›¾ç‰‡" loading="lazy"/>Â ä½¿å¾—</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7637731de87c41c5bd5c3094915f1cc7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=zFdgLUlpayJFXMf%2Fr6AxsCkruUQ%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>JL å¼•ç†è¡¨æ˜ï¼Œå¯ä»¥é€šè¿‡çº¿æ€§å˜æ¢æ¥é™ä½è¯­ä¹‰å‘é‡çš„ç»´æ•°ï¼ŒåŒæ—¶ä½¿å¾—å†…ç§¯çš„è¯¯å·®å°äº Ïµã€‚å› æ­¤ï¼Œå‹ç¼©ä¹‹åçš„è¯­ä¹‰å¤±çœŸå¯ç”¨ä¸‹é¢çš„è¯­ä¹‰å‘é‡ç©ºé—´è·ç¦»æ¥è¡¡é‡</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00baa1483b70477ca60e0921ce2b7f7e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=377szuiHvJ77L3cahckEt3YtoUs%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…¶ä¸­ï¼ŒS ä¸ºåŸ M ç»´è¯­ä¹‰å‘é‡ç©ºé—´ï¼ŒS' ä¸ºé™ç»´åçš„ m ç»´è¯­ä¹‰å‘é‡ç©ºé—´ã€‚æ›´è¿›ä¸€æ­¥ï¼Œå¦‚æœè€ƒè™‘è¯­ä¹‰å‘é‡æœ¬èº«çš„ç¨€ç–æ€§ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨å‹ç¼©æ„ŸçŸ¥ç†è®ºæ¥å¼ºåŒ– JL å¼•ç†ã€‚è¿™ç§å¼ºåŒ–å¯ä»¥å¯¼å‡ºåŸºäºé‡‡æ · FFTã€é‡‡æ · DCT å’Œé‡‡æ · Hadamard çŸ©é˜µçš„å¿«é€Ÿå‹ç¼©ç®—æ³•ã€‚è¯¦æƒ…å¯å‚è§åŸè®ºæ–‡ä¸­çš„ç›¸åº”ç« èŠ‚ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œå¹¶æœªè€ƒè™‘è¯­ä¹‰å‘é‡ç©ºé—´ä¸Šçš„æ¦‚ç‡æµ‹åº¦ï¼Œè€Œæ˜¯å¯¹æ¯ä¸ªè¯­ä¹‰å‘é‡éƒ½æˆç«‹ã€‚å› æ­¤ï¼Œå¦‚æœç»“åˆä»è¯­æ–™ä¸­å­¦åˆ°çš„æ¦‚ç‡æµ‹åº¦ï¼Œå¾ˆæœ‰å¯èƒ½ä¼šæå‡ºæ›´é«˜æ•ˆçš„è¯­ä¹‰é™ç»´ç®—æ³•æˆ–å¾—åˆ°æ›´é«˜çš„å‹ç¼©æ¯”Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/05b1d173212c452984b5297b615d6042~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=tS3m5InFxOGKyV9c4vUWt6zxzEo%3D" alt="å›¾ç‰‡" loading="lazy"/>ã€‚</p>
<p>æœ€ä¼˜è¯­ä¹‰å‘é‡åŒ–</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ª Token åˆ°åº•å‘ˆç°å‡ºä»€ä¹ˆè¯­ä¹‰æ˜¯å’Œä¸‹æ¸¸ä»»åŠ¡å¯†åˆ‡ç›¸å…³çš„ã€‚åœ¨æœ¬ç³»åˆ—çš„ã€Šç»Ÿè®¡ç‰©ç†ç¯‡ã€‹ä¸­å·²ç»æŒ‡å‡ºï¼Œå¤§æ¨¡å‹çš„ç›®æ ‡æ˜¯é¢„æµ‹ä¸‹ä¸€ä¸ª Tokenã€‚å› æ­¤ï¼ŒToken çš„å‘é‡åŒ–ä¹Ÿåº”å›´ç»•è¯¥ç›®æ ‡å±•å¼€ã€‚ä»¤Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/616db03b6ac74bcc9d2c866ae66627c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=1reQ2E3SBP33iqU9XXfkcHHADjY%3D" alt="å›¾ç‰‡" loading="lazy"/>Â ä¸º Token åºåˆ—ï¼Œ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f5e251be58934eb9bca08b54c06ff8c4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=GlQEn36e51wi1vP9Iic4T9irzR0%3D" alt="å›¾ç‰‡" loading="lazy"/>Â ä¸ºå¯¹åº”çš„è¯­ä¹‰å‘é‡ã€‚å¯¹äºä¸‹ä¸€ä¸ª Token é¢„æµ‹ä»»åŠ¡ï¼Œè¯­ä¹‰ç¼–ç å™¨ f æ˜¯Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cb41a78520c4b829bc1f7c74df4a079~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=vqAIg7tJ%2BKccUNmHcC9dGMqietU%3D" alt="å›¾ç‰‡" loading="lazy"/>Â çš„å‡½æ•°ï¼Œå…¶è¾“å‡ºÂ <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/28f1d0f640f3413da330723306c95f29~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=mr6NCWBc41%2BTVpKuXeQgjdr9Tso%3D" alt="å›¾ç‰‡" loading="lazy"/>Â æ˜¯Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b4a74cf470a94eb5bb1cf7442552649a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=pCAdZqxI%2FTegV388ySV9hLlVhpc%3D" alt="å›¾ç‰‡" loading="lazy"/>ä¸­å¯¹äºé¢„æµ‹Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bb81db0718634f848d4067369e6e3952~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=TnrpP30Ib%2FHuaL9QlhI%2B3GF9tG0%3D" alt="å›¾ç‰‡" loading="lazy"/>Â æœ‰ç”¨ä½†ä¸åœ¨Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f930787309c8423891238a9858ec842e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=BKyXFmfXHdf7vN6HuqOnPLUXO10%3D" alt="å›¾ç‰‡" loading="lazy"/>Â é‡Œçš„ä¿¡æ¯ã€‚é‚£ä¹ˆï¼Œä»ä¿¡æ¯è®ºçš„è§’åº¦çœ‹ï¼Œæœ€ä¼˜è¯­ä¹‰ç¼–ç å™¨æ˜¯ä¸‹è¿°ä¼˜åŒ–é—®é¢˜çš„è§£ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6ddde1675bd142dca545ba03b069cce5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=s0Vxpfq7OjIBnpG4vinx1P3Fj6U%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä¸Šè¿°å®šä¹‰çš„æ ¸å¿ƒæ˜¯æ¡ä»¶äº’ä¿¡æ¯ï¼Œå®ƒä¿è¯äº†è¯­ä¹‰å‘é‡Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/957ea839ea894a5c962762688b444b3e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=3ENyo9GzzWLtii7okAfSooguOms%3D" alt="å›¾ç‰‡" loading="lazy"/>Â å¹¶ä¸æ˜¯Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0111d1887a5458a8577fd29ecb87beb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=8HwNHoNTOvGv5Cdk6TVh3Epcxr0%3D" alt="å›¾ç‰‡" loading="lazy"/>Â çš„å‘é‡è¡¨ç¤ºï¼Œè€Œæ˜¯è¡¨ç¤ºÂ <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32c3fec738344855883031af262fae87~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=H26nALAQBcIDCLleppdMUMr95rE%3D" alt="å›¾ç‰‡" loading="lazy"/>Â ä¸­å¯¹é¢„æµ‹Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b39e0e96f9db4f48ac0511765a611648~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=Yj17ejIAof2z%2FB6LGiXcvGx6sII%3D" alt="å›¾ç‰‡" loading="lazy"/>Â æœ‰ç”¨ä½†ä¸åœ¨Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/88886be860c046ff90af49c7a575f18f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=2bQxWTTOoMg1IUsOVgYfVOnAKmc%3D" alt="å›¾ç‰‡" loading="lazy"/>Â é‡Œçš„ä¿¡æ¯ã€‚åº”ç”¨äº’ä¿¡æ¯ä¸ç­‰å¼ï¼Œæˆ‘ä»¬æœ‰</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e3105c483b3140458a27a94390436f3b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=0S2SXrTbwnUyxfnU28ht8%2FnU7%2BE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>è¯¥ä¸ç­‰å¼çš„æœ€å³ç«¯é¡¹å°±æ˜¯ Google DeepMind å›¢é˜Ÿæå‡ºå¹¶å¹¿æ³›åº”ç”¨çš„ï¼ˆåŒ…æ‹¬ OpenAIï¼‰Contrastive Predictive Codingï¼ˆCPCï¼‰ç®—æ³•[17]ã€‚è¿™ç¯‡è®ºæ–‡æ˜ç¡®æŒ‡å‡ºï¼Œä»–ä»¬çš„å·¥ä½œå¾—åˆ°äº†ä¿¡æ¯è®ºä¸­Â Predictive CodingÂ çš„å¯å‘ã€‚è¿™æ­£æ˜¯å‘è¡¨åœ¨ IEEE çš„å‰èº« IRE ä¸»åŠçš„ä¿¡æ¯è®ºæ±‡åˆŠ IRE Transactions on Information Theory çš„ç¬¬ 1 å·ç¬¬ 1 æœŸçš„ç¬¬ 1 ç¯‡å’Œç¬¬ 2 ç¯‡è®ºæ–‡[18][19]ã€‚ä½œè€…åˆ™æ˜¯å¤§åé¼é¼çš„ Peter Eliasï¼Œä»–æ˜¯å·ç§¯ç çš„å‘æ˜äººï¼Œ1977 å¹´é¦™å†œå¥–å¾—ä¸»ï¼Œ3G æ—¶ä»£ç¼–ç é¢†åŸŸçš„ç»å¯¹ç‹è€…ã€‚Google çš„ç ”ç©¶äººå‘˜æ’°å†™è®ºæ–‡ç³»ç»Ÿç»¼è¿°äº†äº’ä¿¡æ¯çš„å˜åˆ†ä¸‹ç•Œï¼Œå¹¶æœ€ç»ˆé€‰æ‹© InfoNCE ä½œä¸ºæŸå¤±å‡½æ•°ï¼Œä»è€Œé€šè¿‡ç¥ç»ç½‘ç»œæœ€å°åŒ– InfoNCE æ¥æœ€å¤§åŒ–Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/90dfbf31577d40888d1904cfe5ba26d6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=zpti31u%2ByRmFNHOBGhonDR9uTkE%3D" alt="å›¾ç‰‡" loading="lazy"/>Â çš„ä¸‹ç•Œ[20]ã€‚</p>
<p>ä»¥ä¸Šçš„è®¨è®ºå¯å‘æˆ‘ä»¬ï¼šå¯¹äºä»»ä½•ä¸€ä¸ªè¯­ä¹‰åµŒå…¥é—®é¢˜ï¼Œéƒ½å¯ä»¥å…ˆåŸºäºä¸‹æ¸¸ä»»åŠ¡è¦æ±‚å†™å‡ºä¿¡æ¯è®ºä¼˜åŒ–é—®é¢˜ï¼Œå†è®¾è®¡ç¥ç»ç½‘ç»œæˆ–æ•°å€¼ç®—æ³•æ¥æœå¯»é€¼è¿‘ä¿¡æ¯è®ºæœ€ä¼˜è§£æˆ–å…¶ä¸Š / ä¸‹ç•Œçš„è¯­ä¹‰ç¼–ç å™¨ã€‚</p>
<p>ä»ä¸Šè¿°æ¨å¯¼å¯ä»¥çœ‹å‡ºï¼ŒCPC å®é™…ä¸Šä¼˜åŒ–çš„æ˜¯æœ€ä¼˜è¯­ä¹‰ç¼–ç å™¨çš„ä¸Šç•Œçš„ InfoNCE é€¼è¿‘ï¼Œæ‰€å¾—åˆ°çš„è¯­ä¹‰ç¼–ç å™¨å¹¶ä¸æ˜¯æœ€ä¼˜çš„ã€‚å¦‚æœæˆ‘ä»¬æœ‰æ›´å¥½çš„å·¥å…·æ¥ç›´æ¥ä¼˜åŒ–ä¸Šè¿°ä¸ç­‰å¼æœ€å·¦ç«¯çš„æ¡ä»¶äº’ä¿¡æ¯çš„å’Œï¼Œé‚£ä¹ˆå°†èƒ½å¾—åˆ°æ€§èƒ½æ›´ä¼˜çš„è¯­ä¹‰ç¼–ç å™¨ã€‚å› æ­¤ï¼Œè¿™é‡Œè¦å¼•å…¥ä¸€ä¸ªéå¸¸å…³é”®çš„ä¿¡æ¯è®ºæ¦‚å¿µï¼Œå³å®šå‘ä¿¡æ¯ã€‚è¿™ä¸€æ¦‚å¿µçš„æå‡ºè€…æ˜¯è‘—åçš„ä¿¡æ¯è®ºä¸“å®¶ï¼Œ1988 å¹´é¦™å†œå¥–å¾—ä¸»ï¼ŒJames Massey[21]ã€‚æ ¹æ® Massey çš„ç ”ç©¶ï¼Œä»ä¿¡é“çš„è¾“å…¥åºåˆ—Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/297c1fcd0a5a4dbfb41a17e5fc45e8e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=18d6cgwpakmfxYFkNPvVfckLm%2Bc%3D" alt="å›¾ç‰‡" loading="lazy"/>Â åˆ°è¾“å‡ºåºåˆ—Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/70c40f1a129245e5b66036681ac0cc40~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=F1WhJ1SRZRtFO%2BeHOwZraKhylDM%3D" alt="å›¾ç‰‡" loading="lazy"/>Â çš„å®šå‘ä¿¡æ¯å¯å®šä¹‰ä¸º</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4e565e84e5e1488aacf23eb1f39e9db1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=mB%2Bknm1OXAJ6z4eaY%2F%2FWqqY%2BgT8%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å®ƒè¡¡é‡äº†ä»åºåˆ—Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f2d7cfaa239469b820ee64ce9330d63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=xE8pzn7IbBvxcfsZSMjiNNHPh9I%3D" alt="å›¾ç‰‡" loading="lazy"/>Â ä¼ é€’ç»™åºåˆ—Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2524af3e86564ef98b51019cfda0196d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=v7TiQ6arOTWACirhK99gxS%2BeavI%3D" alt="å›¾ç‰‡" loading="lazy"/>Â çš„ä¿¡æ¯é‡ã€‚è¿›ä¸€æ­¥åœ°ï¼Œæˆ‘ä»¬å®šä¹‰ä»Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ff5d33ad96064f03a12327a2df34e87b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=jFO9WTscUsyEQGAXukBEIfSOUTQ%3D" alt="å›¾ç‰‡" loading="lazy"/>Â åˆ°Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e40729eebe3d4f1aa58d43225f408f12~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=xhtVFdCftv2wpC%2B2CwvSW2Eh7sU%3D" alt="å›¾ç‰‡" loading="lazy"/>Â çš„å€’å‘å®šå‘ä¿¡æ¯ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/11d1a81df0834b83be929ce37d948c56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=kb6PeW0ZVEI%2FKzPdEFeMvttwPwc%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>é€‰æ‹©å€’å‘è¿™ä¸ªè¯æ˜¯å—åˆ°å½­å®æˆˆé™¢å£«æ‰€ç ”ç©¶çš„å€’å‘éšæœºå¾®åˆ†æ–¹ç¨‹çš„å¯å‘[22]ã€‚å½­é™¢å£«çš„ç ”ç©¶æˆæœæœ€ç»ˆä¿ƒä½¿ä»–æå‡ºäº†ä¸€å¥—ä¸ Kolmogorov æ¦‚ç‡å…¬ç†åŒ–ä½“ç³»å¹³è¡Œçš„éçº¿æ€§æœŸæœ›ç†è®ºã€‚æˆ‘ä»¬ä»ä¸­å¯ä»¥çœ‹å‡ºï¼Œå‰é¢è®¨è®ºçš„ä¿¡æ¯è®ºæœ€ä¼˜çš„è¯­ä¹‰ç¼–ç å™¨ï¼Œå°±æ˜¯åœ¨æœ€ä¼˜åŒ–å€’å‘å®šå‘ä¿¡æ¯ï¼Œå³ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe41c0a0ae64448e89f83582fd474fdc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=kRJZCnmG004wVGpEfIeioj932c0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ç„¶è€Œï¼Œå®šå‘ä¿¡æ¯çš„è®¡ç®—å’Œä¼°è®¡æ˜¯éå¸¸å›°éš¾çš„ã€‚è¯¥é—®é¢˜å°†åœ¨æœ¬ç³»åˆ—çš„ç¬¬ä¸‰ç¯‡ã€Šä¿¡æ¯è®ºç¯‡ã€‹ä¸­å±•å¼€è®¨è®ºã€‚å¯è§ï¼ŒCPC é€‰æ‹© InfoNCE ä½œä¸ºæŸå¤±å‡½æ•°å¹³è¡¡äº†å¤æ‚åº¦å’Œæ•ˆæœã€‚</p>
<p>Transformer æ˜¯éçº¿æ€§æ—¶å˜å‘é‡è‡ªå›å½’æ—¶é—´åºåˆ—</p>
<p>åœ¨æœ¬ç³»åˆ—çš„ç¬¬ä¸€ç¯‡ã€Šç»Ÿè®¡ç‰©ç†ç¯‡ã€‹ä¸­ï¼Œæˆ‘ä»¬è¯¦ç»†æ¢è®¨äº† Transformer çš„èƒ½é‡æ¨¡å‹ï¼ˆEnergy-based Modelï¼ŒEBMï¼‰å½¢å¼ã€‚æœ¬ç¯‡æˆ‘ä»¬ä»ä¿¡å·å¤„ç†è§’åº¦è¿›ä¸€æ­¥è®¨è®º Transformer çš„æœ¬è´¨ã€‚ä¸šç•Œå·²ç»è¾¾æˆå…±è¯†ï¼ŒTransformer æ˜¯ä¸€ä¸ªè‡ªå›å½’å¤§è¯­è¨€æ¨¡å‹ã€‚è¿™æ˜¯å› ä¸ºå®ƒåŸºäºè¾“å…¥ Token åºåˆ—å’Œå·²ç»ç”Ÿæˆçš„ Token åºåˆ—æ¥é¢„æµ‹ä¸‹ä¸€ä¸ª Tokenã€‚äº‹å®ä¸Šï¼Œä»ç»å…¸éšæœºè¿‡ç¨‹å’Œæ—¶é—´åºåˆ—åˆ†æçš„è§’åº¦çœ‹ï¼Œè‡ªå›å½’æ¨¡å‹æœ‰ä¸¥æ ¼çš„æ•°å­¦å®šä¹‰ï¼Œå³ç”¨è¿‡å»çš„éšæœºå˜é‡çš„å€¼çš„çº¿æ€§åŠ æƒå’Œæ¥é¢„æµ‹æœªæ¥çš„éšæœºå˜é‡[23]ã€‚</p>
<p>è€ƒè™‘æç¤ºè¯çš„é•¿åº¦ä¸º nï¼Œç”¨å‘é‡åºåˆ—Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/779fbbb8ee3c4988a74628847e588dba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=ElPPWKxKjQHiA4xTrMhOhXKAGG8%3D" alt="å›¾ç‰‡" loading="lazy"/>Â æ¥è¡¨ç¤ºã€‚å½“å‰è¦é¢„æµ‹ç¬¬ i ä¸ª Tokenï¼Œè¡¨ç¤ºä¸ºå‘é‡Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8631345cc23e4ded83d62616ed1a3d66~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=tFKXtEeYKwHc7E5Y%2BSSUHy2YBgw%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼Œå…¶ä¸­ i=n+1,â€¦,Nã€‚ä¸ºè¡¨ç¤ºæ–¹ä¾¿ï¼Œä»¤Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5680ffd53ed34f8da29f441523d2ee81~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=QwQy%2F%2BqtzkHN4NexEUtzYCqAct0%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼Œå…¶ä¸­ i=1,â€¦,nã€‚ç»“åˆè‡ªå›å½’æ¨¡å‹çš„æ€æƒ³ï¼ŒAttention æ¨¡å—çš„æ•°å­¦å½¢å¼å¯ä»¥å†™ä¸ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/96fb838a9d7a49dfb2fc1668aa10ff62~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=BmiIFGP8SkG5d%2BIkpYI6tJBsHrw%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…¶ä¸­ï¼Œ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d51a4ede061a48c2afa022b916ea6466~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=hu7MxpF0ECmELxzhdixJfAZac8s%3D" alt="å›¾ç‰‡" loading="lazy"/>Â æ˜¯ Attention æƒé‡ï¼Œå®šä¹‰ä¸ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2cfea2c1e35463186676ca108181e02~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=NQug4cn7IiGh%2BhoFqhtUpI%2FPJqE%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>ä»æ•°å­¦å½¢å¼ä¸Šçœ‹ï¼ŒAttention æ˜¯ä¸€ä¸ªéçº¿æ€§æ—¶å˜å‘é‡è‡ªå›å½’æ—¶é—´åºåˆ—ï¼š</p>
<ul>
<li>
<p>æ—¶å˜æ€§ä½“ç°åœ¨Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6a8c23ce254e4936bdbdb946f7318656~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=ClIAt6FZc%2BN9d6k%2FqK44qAsStd8%3D" alt="å›¾ç‰‡" loading="lazy"/>Â ä¸å½“å‰è¾“å‡ºçš„ Token ç¼–å· i ç›¸å…³ï¼›</p>
</li>
<li>
<p>éçº¿æ€§ä½“ç°åœ¨Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d03ec7696ebe45ee8f958f15a4329d5d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=6K6eKHl1VmiA65ADudNztan5KvU%3D" alt="å›¾ç‰‡" loading="lazy"/>Â çš„å®šä¹‰ä¸­åŒ…å«äº† softmax å‡½æ•°å’Œå»ºæ¨¡è¯­ä¹‰éå¯¹ç§°å…³ç³»çš„åŒçº¿æ€§å‹Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e891b42fd5424b689d1bf3e620b9c8b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=InMhU%2BnkazNccapf0cnf2o0MdKU%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼Œå…¶ä¸­Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73f6909e4482454d8b4e8687ef31a5fe~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=oqZ%2BxlKbKue3%2BkufL9rtm6DcmM0%3D" alt="å›¾ç‰‡" loading="lazy"/>ã€‚</p>
</li>
</ul>
<p>ä»¤Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/63da2c51dc7f4ce1990943b4c974fbc2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=HVy4k2KhoD0YJCBIeTBWNUiFVrY%3D" alt="å›¾ç‰‡" loading="lazy"/>Â è¡¨ç¤º Tranformer çš„ FFN å±‚ï¼Œé‚£ä¹ˆ Transformer æœ¬è´¨ä¸Šæ˜¯é€šè¿‡</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eb9615933a4f41bb895f06a19ab5531a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=qAgFIB7BId9hbf1rgw5eH5s%2Btq4%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>æ¥é¢„æµ‹ä¸‹ä¸€ä¸ª Token çš„å‘é‡è¡¨ç¤ºã€‚åœ¨ã€Šç»Ÿè®¡ç‰©ç†ã€‹ç¯‡ä¸­ï¼Œæˆ‘ä»¬å·²ç»æŒ‡å‡º FFN å±‚å¯¹äºé¢„æµ‹ä¸‹ä¸€ä¸ª Token æ˜¯å¾ˆé‡è¦çš„ï¼Œå®ƒè¢«è®¤ä¸ºæ˜¯å¤§æ¨¡å‹å‚¨å­˜çŸ¥è¯†çš„ä½ç½®ã€‚åŸºäºè®°å¿†å®¹é‡çš„æ€è·¯ï¼ŒAttention æ¨¡å—è¾“å‡ºçš„å‘é‡åº”è¯¥ä¼šæ¿€æ´» FFN å±‚ä¸­ä¸ä¹‹æœ€åŒ¹é…çš„è®°å¿†æ¨¡å¼ï¼Œä»è€Œä½œä¸ºä¸‹ä¸€ä¸ª Token çš„å‘é‡è¡¨ç¤ºã€‚åç»­çš„æ“ä½œéœ€è¦åœ¨ç¦»æ•£çš„è¯è¡¨ä¸­é€‰æ‹©æœ€æœ‰å¯èƒ½çš„é‚£ä¸ª Tokenã€‚åœ¨å®é™…ä¸­å¯ä»¥è®¾è®¡å¤šç§é‡‡æ ·ç­–ç•¥æ¥æ»¡è¶³è¾“å‡ºçš„è¦æ±‚ï¼Œä½†èƒŒåçš„åŸç†ä¸é€šä¿¡æ¥æ”¶æœºä¸­çš„æœ€å¤§ä¼¼ç„¶è¯‘ç å¾ˆç±»ä¼¼ã€‚</p>
<p>ç®€å•èµ·è§ï¼Œè¿™é‡Œå°†é‡‡æ ·æ“ä½œè¡¨ç¤ºæˆ argsoftmax (â‹…) å‡½æ•°ã€‚ä»¤Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/52957747012d4d34952f35cd09cb623f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=vkflKGixelPkyNNqetgoxEXdu6w%3D" alt="å›¾ç‰‡" loading="lazy"/>Â ä¸ºè¯è¡¨ Î© ä¸­çš„ç¬¬ m ä¸ª Token çš„å‘é‡è¡¨ç¤ºï¼Œé‚£ä¹ˆ Transformer çš„æ•°å­¦å½¢å¼å¯ä»¥å†™ä¸ºï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c4dd553579a34c4ba70ae74f6071e72f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=fxHRM1BBFePNBoSiAzgwqvbKJiU%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…¶ä¸­ T æ˜¯æ¸©åº¦ã€‚</p>
<p>å®é™…ä¸Šï¼Œä¸Šè¿°æ¨¡å‹å¯ä½œä»¥ä¸‹æ¨å¹¿</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a60d8351405348609fbbe3d6a4609a2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=j0MuOcMUZkCK2pf%2BBDuIhy5OlX0%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å…¶ä¸­ Î¨ ä¸ºéçº¿æ€§å‡½æ•°ï¼Œ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc3d321c205b41d59c922e621e965f8e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=AQZaHM9TJEO0n%2B%2BS0Z7D11jOK2E%3D" alt="å›¾ç‰‡" loading="lazy"/>Â ä¸ºæ—¶å˜å‚æ•°çŸ©é˜µã€‚å¯è§ï¼ŒTransformer æ˜¯æ›´æ™®éçš„éçº¿æ€§æ—¶å˜å‘é‡è‡ªå›å½’æ—¶é—´åºåˆ—çš„ä¸€ä¸ªç‰¹ä¾‹ã€‚å¯¹Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ac9b4166d2f74ce7b14ba82144ed4d8a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=rsfXqteCX2Pmro1%2FjcfAyJgeO40%3D" alt="å›¾ç‰‡" loading="lazy"/>Â è¿›è¡Œå…¶ä»–åˆ†è§£æˆ–ç®€åŒ–å°±èƒ½æ„é€ å‡ºæ–°çš„ Attention æœºåˆ¶ã€‚ä¾‹å¦‚ï¼ŒMamba/Mamba2 æ˜¯ä¸€ç§çº¿æ€§åŒ–çš„ç®€åŒ–æ–¹å¼ã€‚ç”±äºçº¿æ€§ Attention æœºåˆ¶éš¾ä»¥æ•æ‰éå¯¹ç§°è¯­ä¹‰ç›¸å…³æ€§ï¼Œå…¶æ¨¡å‹èƒ½åŠ›å¾ˆè‡ªç„¶åœ°ä¼šå—åˆ°å¾ˆå¤§å½±å“ã€‚å¯¹ Î¨ ä¹ŸåŒæ ·å¯ä»¥è¿›è¡Œä¼˜åŒ–å’Œä¿®æ”¹ï¼Œä¸€ç§æ€è·¯æ˜¯ç”¨ç°ä»£è¿ç»­ Hopfield ç½‘ç»œæ¥ç›´æ¥æ›¿æ¢ FFN æ¨¡å—[24]ã€‚å¦å¤–ï¼Œå½“å‰é€šè¿‡å‘é‡æ•°æ®åº“å’ŒçŸ¥è¯†å›¾è°±ç­‰æ–¹å¼å®ç° RAG ä¹Ÿæ˜¯é€šè¿‡æ”¹å˜ Î¨ æ¥å¢å¼ºçŸ¥è¯†è®°å¿†çš„å‡†ç¡®æ€§å’ŒåŠæ—¶æ€§[25]ã€‚</p>
<p>æœ¬ç³»åˆ—çš„ã€Šç»Ÿè®¡ç‰©ç†ç¯‡ã€‹å·²ç»æŒ‡å‡ºï¼šå¤§æ¨¡å‹çš„èƒ½åŠ›æé™æ˜¯åœ¨é¢„æµ‹ä¸‹ä¸€ä¸ª Token çš„ä»»åŠ¡ä¸Šé€¼è¿‘äººç±»æ°´å¹³çš„ Granger å› æœæ¨æ–­ã€‚ä»æ—¶é—´åºåˆ—çš„è§’åº¦çœ‹ï¼ŒGranger å› æœæ£€æµ‹çš„ä¸»è¦ä½œç”¨å°±æ˜¯åˆ†æä¸¤ä¸ªåºåˆ—ä¹‹é—´ä¸æ—¶é—´ç›¸å…³çš„ç»Ÿè®¡å…³ç³»ã€‚ç›¸å…³æ–¹æ³•å·²ç»å¹¿æ³›åº”ç”¨äºç‰©ç†å­¦ã€ç¥ç»ç§‘å­¦ã€ç¤¾äº¤ç½‘ç»œã€ç»æµå­¦å’Œé‡‘èå­¦ç­‰é¢†åŸŸã€‚å›å¿† Granger å› æœçš„å®šä¹‰ï¼Œä»¤Â <img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbc92e8ab39941d08488085bb89591df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=X8nLss5BbehISKN9Vmr7tI%2Bpq60%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼Œ<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6e6cb4cb66b34618b6245780cb657b76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=fy2b1jm31vyB%2F5dhY7g3OV%2B8Jeg%3D" alt="å›¾ç‰‡" loading="lazy"/>ï¼Œé‚£ä¹ˆä¸‹é¢çš„ä¸ç­‰å¼è‡ªç„¶æˆç«‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/793bdc344fbe4d41b2f1e8d41b4f21e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=tjTO%2BtSP7F6dQbDxHNCe1ZPCo%2Bg%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å› æ­¤ï¼Œä»æ—¶é—´åºåˆ—çš„è§’åº¦çœ‹ï¼Œå¤§æ¨¡å‹è¾“å…¥çš„ Token åºåˆ—å’Œè¾“å‡ºçš„ Token åºåˆ—ç¬¦åˆ Granger å› æœæ¨æ–­çš„å®šä¹‰ã€‚è¿™è¿›ä¸€æ­¥å°è¯äº†ç¬¬ä¸€ç¯‡çš„ç»“è®ºï¼šå¤§æ¨¡å‹æ¨ç†çš„æœ¬è´¨ï¼Œæ˜¯é€šè¿‡é¢„æµ‹ä¸‹ä¸€ä¸ª Token è¿™ä¸€çœ‹ä¼¼ç®€å•çš„è®­ç»ƒç›®æ ‡ï¼Œè¿›è€Œå®ç°é€¼è¿‘äººç±»æ°´å¹³çš„ Granger å› æœæ¨æ–­ã€‚</p>
<p>ä¿¡å·å¤„ç†ä¸ä¿¡æ¯è®º</p>
<p>åœ¨å¼•è¨€ä¸­æˆ‘ä»¬å·²ç»æŒ‡å‡ºï¼šå¤§æ¨¡å‹å¤„ç†çš„æ˜¯å‘é‡åŒ–åçš„ Token åºåˆ—ï¼Œå…¶æœ¬è´¨æ˜¯æŠŠä¼ ç»ŸåŸºäºæ¦‚ç‡çš„è‡ªç„¶è¯­è¨€å¤„ç†é—®é¢˜è½¬æ¢æˆäº†åŸºäºæ•°å€¼è®¡ç®—çš„ä¿¡å·å¤„ç†é—®é¢˜ã€‚ä»æœ¬æ–‡çš„è®¨è®ºä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¿™ç§ä» Token åˆ°å…¶å‘é‡è¡¨ç¤ºçš„è½¬åŒ–ï¼Œä¸ä¿¡æ¯è®ºå’Œä¿¡å·å¤„ç†ä¹‹é—´çš„å…³ç³»éå¸¸ç±»ä¼¼ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼ŒShannon ä¿¡æ¯è®ºæ˜¯ä¸€ä¸ªåŸºäºæ¦‚ç‡è®ºçš„ç†è®ºæ¡†æ¶ï¼Œæ—¨åœ¨ç†è§£ä¿¡æ¯å‹ç¼©ã€ä¼ è¾“å’Œå­˜å‚¨çš„åŸºæœ¬åŸç†åŠå…¶æ€§èƒ½æé™ï¼Œä½†å®ƒå¹¶ä¸å…³æ³¨å·¥ç¨‹ä¸­çš„å…·ä½“å®ç°æ–¹æ³•å’Œå¤æ‚åº¦ã€‚ä¿¡å·å¤„ç†å°†ä¿¡æ¯è®ºä¸­çš„æŠ½è±¡ç¬¦å·è¡¨ç¤ºä¸º n ç»´å® / å¤ç©ºé—´ä¸­çš„å‘é‡ã€‚è¿™ç§è¡¨ç¤ºä½¿å¾—æ•°å€¼è®¡ç®—æ–¹æ³•èƒ½æœ‰æ•ˆåº”ç”¨äºæ„ŸçŸ¥ã€é€šä¿¡å’Œå­˜å‚¨ç³»ç»Ÿçš„é«˜æ•ˆç®—æ³•è®¾è®¡ä¸­ã€‚å¯ä»¥è¯´ï¼Œä¿¡å·å¤„ç†æ˜¯ä¿¡æ¯è®ºåŸç†åœ¨ç‰¹å®šè®¡ç®—æ¶æ„ä¸‹çš„å…·ä½“å®ç°ã€‚</p>
<p>æ›´å¹¿æ³›åœ°çœ‹ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨ä¸‹å›¾æ¥è¡¨è¾¾è®¡ç®—ç†è®ºå’Œä¿¡æ¯è®ºä¹‹é—´çš„å…³ç³»ã€‚å›¾çš„å·¦è¾¹æ˜¯ Turing å’Œä»–çš„è®¡ç®—ç†è®ºï¼Œä»–å…³å¿ƒç”¨å¤šå°‘ä¸ªæ­¥éª¤èƒ½å®Œæˆç‰¹å®šçš„è®¡ç®—ï¼Œå› æ­¤æ—¶å»¶ï¼ˆé€šå¸¸ç”¨æ—¶é—´å¤æ‚åº¦æ¥åº¦é‡ï¼‰æ˜¯æœ€å…³é”®çš„æŒ‡æ ‡ã€‚å›¾çš„å³è¾¹æ˜¯ Shannon å’Œä»–çš„ä¿¡æ¯è®ºï¼Œä»–å…³å¿ƒçš„æ˜¯é€šä¿¡é€Ÿç‡çš„ä¸Šé™æˆ–è€…æ•°æ®å‹ç¼©çš„ä¸‹é™ï¼Œå³å­˜åœ¨æ€§å’Œå¯è¾¾æ€§ã€‚æ­¤æ—¶ï¼Œé€šå¸¸å‡è®¾ç é•¿è¶‹äºæ— ç©·å¤§ï¼Œå› è€Œæ—¶å»¶æ˜¯è¢«å¿½ç•¥çš„ã€‚é‚£ä¹ˆåœ¨å®è·µä¸­å°±ä¼šå‘ç°ï¼Œå¼€å‘é€šä¿¡ç®—æ³•çš„ç“¶é¢ˆæ°¸è¿œæ˜¯ç®—åŠ›ä¸å¤Ÿï¼Œç®—æ³•å¤æ‚åº¦å¤ªé«˜ï¼›è€Œç ”ç©¶è®¡ç®—ç®—æ³•çš„ç“¶é¢ˆæ°¸è¿œéƒ½æ˜¯ï¼ˆè®¿å­˜ / å¡é—´ / æœåŠ¡å™¨é—´ï¼‰é€šä¿¡å¸¦å®½ä¸å¤Ÿï¼Œæˆ–è€…ç¼“å­˜ / å†…å­˜ç©ºé—´å¤ªå°ã€‚</p>
<p>æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œå°½ç®¡è®¡ç®—ç†è®ºå’Œä¿¡æ¯è®ºæœ‰æœ¬è´¨çš„ä¸åŒï¼Œä½†ä»–ä»¬æœ€åŸºæœ¬çš„æ“ä½œå•ä½éƒ½æ˜¯ BITï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è‚¯å®šåœ°è¯´ï¼šBIT æ˜¯è¿æ¥è®¡ç®—å’Œé€šä¿¡è¿™ä¸¤å¤§é¢†åŸŸçš„æ¡¥æ¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d2129e16f344dbd83969eac25cd6b5e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5py65Zmo5LmL5b-D:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770371824&amp;x-signature=VhxsF%2BQ0BUMnhstrHbiYhKOMmFo%3D" alt="å›¾ç‰‡" loading="lazy"/></p>
<p>å›¾ï¼šBIT æ˜¯è¿æ¥è®¡ç®—ç†è®ºå’Œä¿¡æ¯è®ºçš„æ¡¥æ¢ï¼Œæ˜¯ä¿¡æ¯æ—¶ä»£æœ€ä¼Ÿå¤§çš„å‘æ˜ã€‚</p>
<p>æ­£å¦‚ 5G Polar ç å‘æ˜äººï¼Œ2019 å¹´é¦™å†œå¥–å¾—ä¸»ï¼ŒErdal Arikan æ•™æˆå‚åŠ æˆ‘ä»¬çš„åœ†æ¡Œè®ºå›ä¸­æ‰€æŒ‡å‡ºçš„ï¼šBIT æ˜¯ä¿¡æ¯æ—¶ä»£æœ€ä¼Ÿå¤§çš„å‘æ˜ã€‚Shannon åœ¨ä¸ Weaver åˆè‘—çš„è®ºæ–‡ä¸­ä¹Ÿæ˜ç¡®æŒ‡å‡ºï¼šä¿¡æ¯è®ºåªè§£å†³äº†ä¿¡æ¯çš„å¯é ä¼ è¾“é—®é¢˜ï¼Œå³æŠ€æœ¯é—®é¢˜ï¼Œè€Œä¸è€ƒè™‘è¯­ä¹‰å’Œè¯­æ•ˆ[26]ã€‚ä½†æ˜¯äººç±»å·²ç»è¿›å…¥äº† AI æ—¶ä»£ï¼Œä¿¡æ¯è®ºæ˜¯å¦è¿˜èƒ½ç»§ç»­å‘æŒ¥å…¶åŸºç¡€æ€§ä½œç”¨ï¼Ÿ</p>
<p>æˆ‘ä»¬å°†åœ¨æœ¬ç³»åˆ—çš„ç¬¬ä¸‰ç¯‡ã€Šä¿¡æ¯è®ºç¯‡ã€‹ä¸­çœ‹åˆ°ï¼Œåªè¦å°†æ ¸å¿ƒæ¦‚å¿µä»ä¿¡æ¯æ—¶ä»£çš„ BIT è½¬æ¢æˆ AI æ—¶ä»£çš„ TOKENï¼ŒShannon ä¿¡æ¯è®ºå°±å¯ä»¥ç”¨æ¥è§£é‡Šå¤§æ¨¡å‹èƒŒåçš„æ•°å­¦åŸç†ã€‚</p>
<p>å‚è€ƒæ–‡çŒ®</p>
<ol>
<li>
<p>B. Bai, "Forget BIT, it is all about TOKEN: Towards semantic information theory for LLMs," arXiv:2511.01202, Nov. 2025.</p>
</li>
<li>
<p>D. Koller and N. Friedman, Probabilistic Graphical Models: Principles and Techniques. Cambridge, MA, USA: The MIT Press, 2009.</p>
</li>
<li>
<p>G. Hinton, "Learning distributed representations of concepts," in Proc. 8th Annual Conference on Cognitive Science Society â€™86, Amherst, MA, USA, Aug. 1986.</p>
</li>
<li>
<p>Y. Bengio, R. Ducharme, P. Vincent, and C. Jauvin, "A neural probabilistic language model," Journal of Machine Learning Research, vol. 3, no. 2, pp. 1137-1155, Feb. 2003.</p>
</li>
<li>
<p>S. Chung, D. Lee, and H. Sompolinsky, "Classification and geometry of general perceptual manifolds," Physical Review X, vol. 8, no. 3, p. 031003, Jul. 2018.</p>
</li>
<li>
<p>Y. Bahri, J. Kadmon, J. Pennington, S. Schoenholz, J. Sohl-Dickstein, and S. Ganguli, "Statistical mechanics of deep learning," Annual Review of Condensed Matter Physics, vol. 11, no. 3, pp. 501-528, Mar. 2020.</p>
</li>
<li>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fann-benchmarks.com" target="_blank" title="https://ann-benchmarks.com" ref="nofollow noopener noreferrer">ann-benchmarks.com</a></p>
</li>
<li>
<p>H. Luhn, "A new method of recording and searching information," American Documentation, vol. 4, no. 1, pp. 14â€“16, Jan. 1953.</p>
</li>
<li>
<p>T. Mikolov, K. Chen, G. Corrado, and J. Dean, "Efficient estimation of word representations in vector space," arXiv: 1301.3781, 7 Sep. 2013.</p>
</li>
<li>
<p>T. Mikolov, I. Sutskever, K. Chen, G. Corrado, and J. Dean, "Distributed representations of words and phrases and their compositionality," Proc. 27th Annual Conference on Neural Information Processing Systems '13, Lake Tahoe, NV, USA, Dec. 2013.</p>
</li>
<li>
<p>D. Jurafsky and J. Martin, Speech and Language Processing: An Introduction to Natural Language Processing, Computational Linguistics, and Speech Recognition with Language Models, 3rd ed. Draft, 2025.</p>
</li>
<li>
<p>M. Gromov, Metric Structures for Riemannian and Non-Riemannian Spaces. Boston, MA, USA: BirkhÃ¤user, 2007.</p>
</li>
<li>
<p>C. Villani, Optimal Transport: Old and New. New York, NY, USA: Springer, 2009.</p>
</li>
<li>
<p>D. Alvarez-Melis and T. Jaakkola, "Gromov-Wasserstein alignment of word embedding spaces," in Proc. ACL Conference on Empirical Methods in Natural Language Processing â€™18, Brussels, Belgium, Oct. 2018, pp. 1881â€“1890.</p>
</li>
<li>
<p>T. Landauer, P. Foltz, and D. Laham, "An introduction to latent semantic analysis," Discourse Processes, vol. 25, no. 2-3, pp. 259-284, Jan. 1998.</p>
</li>
<li>
<p>W. Johnson, J. Lindenstrauss, and G. Schechtman, "Extensions of Lipschitz maps into Banach spaces," Israel Journal of Mathematics, vol. 54, no. 2, pp. 129-138, Jun. 1986.</p>
</li>
<li>
<p>A. Oord, Y. Li, and O. Vinyals, "Representation learning with contrastive predictive coding," arXiv: 1807.03748, Jan. 2019.</p>
</li>
<li>
<p>P. Elias, "Predictive coding - Part 1," IRE Transactions on Information Theory, vol. 1, no. 1, pp. 16-24, Mar. 1955.</p>
</li>
<li>
<p>P. Elias, "Predictive coding - Part 2," IRE Transactions on Information Theory, vol. 1, no. 1, pp. 24-33, Mar. 1955.</p>
</li>
<li>
<p>B. Poole, S. Ozair, A. Oord, A. Alemi, and G. Tucker, "On variational bounds of mutual information," in Proc. 36th International Conference on Machine Learning â€™19, Long Beach, CA, USA, Jun. 2019, pp. 5171-5180.</p>
</li>
<li>
<p>J. Massey, "Causality, feedback and directed information," in Proc. IEEE International Symposium on Information Theory â€™90, Waikiki, HI, USA, Nov. 1990.</p>
</li>
<li>
<p>S. Peng, Nonlinear Expectations and Stochastic Calculus under Uncertainty: with Robust CLT and G-Brownian Motion. Berlin, Germany: Springer, 2019.</p>
</li>
<li>
<p>H. LÃ¼tkepohl, New Introduction to Multiple Time Series Analysis. Berlin, Germany: Springer, 2007.</p>
</li>
<li>
<p>H. Ramsauer et al., "Hopfield networks is all you need," arXiv: 2008.02217, Apr. 2021.</p>
</li>
<li>
<p>Y. Xia et al., "ER-RAG: Enhance RAG with ER-based unified modeling of heterogeneous data sources," arXiv: 2504.06271, Mar. 2025.</p>
</li>
<li>
<p>W. Weaver and C. Shannon, "Recent contributions to the mathematical theory of communications," The Rockefeller Foundation, Sep. 1949.</p>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redux vs Zustand vs MobX å¯¹æ¯”æ–‡æ¡£]]></title>    <link>https://juejin.cn/post/7600764857769852978</link>    <guid>https://juejin.cn/post/7600764857769852978</guid>    <pubDate>2026-01-30T07:03:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7600764857769852978" data-draft-id="7600990891205984283" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redux vs Zustand vs MobX å¯¹æ¯”æ–‡æ¡£"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-30T07:03:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹æŸ„çœŸ"/> <meta itemprop="url" content="https://juejin.cn/user/1966406809955719"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redux vs Zustand vs MobX å¯¹æ¯”æ–‡æ¡£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1966406809955719/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹æŸ„çœŸ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-30T07:03:40.000Z" title="Fri Jan 30 2026 07:03:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-30
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ¦‚è¿°</h2>
<p>Reduxã€Zustand å’Œ MobX æ˜¯ä¸‰ä¸ªæµè¡Œçš„ React çŠ¶æ€ç®¡ç†åº“ï¼Œå®ƒä»¬å„æœ‰ç‰¹ç‚¹å’Œé€‚ç”¨åœºæ™¯ã€‚æœ¬æ–‡æ¡£ä»å¤šä¸ªç»´åº¦å¯¹æ¯”è¿™ä¸‰ä¸ªåº“ï¼Œå¸®åŠ©ä½ é€‰æ‹©æœ€é€‚åˆçš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆã€‚</p>
<h2 data-id="heading-1">æ¦‚å¿µå¯¹æ¯”</h2>
<h3 data-id="heading-2">Redux</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ced62adaaf6f43c3bf858e888d1a820f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5p-E55yf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770361422&amp;x-signature=kQzXGKwNaRZ59wWcO21HXZU0GFY%3D" alt="redux.png" loading="lazy"/></p>
<ul>
<li><strong>å•å‘æ•°æ®æµ</strong>ï¼šView â†’ Action â†’ Reducer â†’ Store â†’ View</li>
<li><strong>ä¸å¯å˜æ›´æ–°</strong>ï¼šå¿…é¡»è¿”å›æ–°çŠ¶æ€</li>
<li><strong>çº¯å‡½æ•°</strong>ï¼šReducer å¿…é¡»æ˜¯çº¯å‡½æ•°</li>
<li><strong>å•ä¸€æ•°æ®æº</strong>ï¼šæ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ª store</li>
</ul>
<h3 data-id="heading-3">Zustand</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/55a6e64738fc47e4ba7ab8711b48fe83~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5p-E55yf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770361422&amp;x-signature=LIWoSb93NUzKcQFf8GgDl2U6Vuw%3D" alt="z.png" loading="lazy"/></p>
<ul>
<li><strong>ç®€å•ç›´æ¥</strong>ï¼šç›´æ¥è°ƒç”¨ store çš„æ–¹æ³•</li>
<li><strong>é€‰æ‹©å™¨è®¢é˜…</strong>ï¼šåªè®¢é˜…éœ€è¦çš„çŠ¶æ€éƒ¨åˆ†</li>
<li><strong>çµæ´»æ›´æ–°</strong>ï¼šæ”¯æŒå‡½æ•°å¼å’Œç›´æ¥æ›´æ–°</li>
<li><strong>æ—  Provider</strong>ï¼šä¸éœ€è¦åŒ…è£¹ Provider</li>
</ul>
<h3 data-id="heading-4">MobX</h3>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/64afff5066144ce3832c43565ebe539d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg546L5p-E55yf:q75.awebp?rk3s=f64ab15b&amp;x-expires=1770361422&amp;x-signature=7jIqChm8gAMxEnQ3EULTr5%2Fk7Es%3D" alt="m.png" loading="lazy"/></p>
<ul>
<li><strong>å“åº”å¼ç¼–ç¨‹</strong>ï¼šè‡ªåŠ¨è¿½è¸ªçŠ¶æ€å˜åŒ–</li>
<li><strong>ç›´æ¥ä¿®æ”¹</strong>ï¼šå¯ä»¥ç›´æ¥ä¿®æ”¹çŠ¶æ€</li>
<li><strong>è‡ªåŠ¨æ›´æ–°</strong>ï¼šè‡ªåŠ¨æ›´æ–°ä¾èµ–çš„ç»„ä»¶</li>
<li><strong>ç»†ç²’åº¦æ›´æ–°</strong>ï¼šåªæ›´æ–°çœŸæ­£å˜åŒ–çš„éƒ¨åˆ†</li>
</ul>
<h2 data-id="heading-5">è¯¦ç»†å¯¹æ¯”</h2>
<h3 data-id="heading-6">1. ä½“ç§¯å’Œä¾èµ–</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Redux</th><th>Zustand</th><th>MobX</th></tr></thead><tbody><tr><td><strong>ä½“ç§¯</strong></td><td>~10KB</td><td>~1KB</td><td>~15KB</td></tr><tr><td><strong>ä¾èµ–</strong></td><td>æ— </td><td>æ— </td><td>æ— </td></tr><tr><td><strong>React ç»‘å®š</strong></td><td>react-redux (~5KB)</td><td>å†…ç½®</td><td>mobx-react-lite (~2KB)</td></tr><tr><td><strong>æ€»ä½“ç§¯</strong></td><td>~15KB</td><td>~1KB</td><td>~17KB</td></tr></tbody></table>
<p><strong>ç»“è®º</strong>ï¼šZustand ä½“ç§¯æœ€å°ï¼ŒRedux å’Œ MobX ä½“ç§¯ç›¸è¿‘ã€‚</p>
<h3 data-id="heading-7">2. ä»£ç ç¤ºä¾‹å¯¹æ¯”</h3>
<h4 data-id="heading-8">åˆ›å»º Store</h4>
<p><strong>Redux</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// actions/counterActions.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = (<span class="hljs-params"/>) =&gt; ({ <span class="hljs-attr">type</span>: <span class="hljs-string">'INCREMENT'</span> })
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">decrement</span> = (<span class="hljs-params"/>) =&gt; ({ <span class="hljs-attr">type</span>: <span class="hljs-string">'DECREMENT'</span> })
â€‹
<span class="hljs-comment">// reducers/counterReducer.js</span>
<span class="hljs-keyword">const</span> initialState = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> }
<span class="hljs-keyword">function</span> <span class="hljs-title function_">counterReducer</span>(<span class="hljs-params">state = initialState, action</span>) {
 Â <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) {
 Â  Â <span class="hljs-keyword">case</span> <span class="hljs-string">'INCREMENT'</span>:
 Â  Â  Â <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> }
 Â  Â <span class="hljs-keyword">case</span> <span class="hljs-string">'DECREMENT'</span>:
 Â  Â  Â <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> - <span class="hljs-number">1</span> }
 Â  Â <span class="hljs-attr">default</span>:
 Â  Â  Â <span class="hljs-keyword">return</span> state
  }
}
â€‹
<span class="hljs-comment">// store/index.js</span>
<span class="hljs-keyword">import</span> { createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span>
<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(counterReducer)
</code></pre>
<p><strong>Zustand</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand'</span>
â€‹
<span class="hljs-keyword">const</span> useStore = <span class="hljs-title function_">create</span>(<span class="hljs-function">(<span class="hljs-params">set</span>) =&gt;</span> ({
 Â <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
 Â <span class="hljs-attr">increment</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> })),
 Â <span class="hljs-attr">decrement</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">set</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({ <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> - <span class="hljs-number">1</span> })),
}))
</code></pre>
<p><strong>MobX</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { makeAutoObservable } <span class="hljs-keyword">from</span> <span class="hljs-string">'mobx'</span>
â€‹
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CounterStore</span> {
 Â count = <span class="hljs-number">0</span>
 Â 
 Â <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-title function_">makeAutoObservable</span>(<span class="hljs-variable language_">this</span>)
  }
 Â 
 Â <span class="hljs-title function_">increment</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++
  }
 Â 
 Â <span class="hljs-title function_">decrement</span>(<span class="hljs-params"/>) {
 Â  Â <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>--
  }
}
â€‹
<span class="hljs-keyword">const</span> counterStore = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CounterStore</span>()
</code></pre>
<h4 data-id="heading-9">åœ¨ç»„ä»¶ä¸­ä½¿ç”¨</h4>
<p><strong>Redux</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useSelector, useDispatch } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-redux'</span>
<span class="hljs-keyword">import</span> { increment, decrement } <span class="hljs-keyword">from</span> <span class="hljs-string">'./actions/counterActions'</span>
â€‹
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
 Â <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">useSelector</span>(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.<span class="hljs-property">count</span>)
 Â <span class="hljs-keyword">const</span> dispatch = <span class="hljs-title function_">useDispatch</span>()
 Â 
 Â <span class="hljs-keyword">return</span> (
 Â  Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch(decrement())}&gt;-<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch(increment())}&gt;+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p><strong>Zustand</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> useStore <span class="hljs-keyword">from</span> <span class="hljs-string">'./store'</span>
â€‹
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
 Â <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">useStore</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">count</span>)
 Â <span class="hljs-keyword">const</span> increment = <span class="hljs-title function_">useStore</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">increment</span>)
 Â <span class="hljs-keyword">const</span> decrement = <span class="hljs-title function_">useStore</span>(<span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">decrement</span>)
 Â 
 Â <span class="hljs-keyword">return</span> (
 Â  Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{decrement}</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{increment}</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
}
</code></pre>
<p><strong>MobX</strong>ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { observer } <span class="hljs-keyword">from</span> <span class="hljs-string">'mobx-react-lite'</span>
<span class="hljs-keyword">import</span> counterStore <span class="hljs-keyword">from</span> <span class="hljs-string">'./stores/counterStore'</span>
â€‹
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Counter</span> = <span class="hljs-title function_">observer</span>(<span class="hljs-function">() =&gt;</span> {
 Â <span class="hljs-keyword">return</span> (
 Â  Â <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> counterStore.decrement()}&gt;-<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{counterStore.count}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
 Â  Â  Â <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> counterStore.increment()}&gt;+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
 Â  Â <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  )
})
</code></pre>
<p><strong>å¯¹æ¯”</strong>ï¼š</p>
<ul>
<li>Reduxï¼šï¼ˆactions + reducer + store + componentï¼‰</li>
<li>Zustandï¼šï¼ˆstore + componentï¼‰</li>
<li>MobXï¼šï¼ˆstore + componentï¼‰</li>
</ul>
<h3 data-id="heading-10">3. æ€§èƒ½å¯¹æ¯”</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Redux</th><th>Zustand</th><th>MobX</th></tr></thead><tbody><tr><td><strong>æ›´æ–°ç²’åº¦</strong></td><td>ç»„ä»¶çº§ï¼ˆé€šè¿‡ useSelectorï¼‰</td><td>é€‰æ‹©å™¨çº§ï¼ˆç»†ç²’åº¦ï¼‰</td><td>å±æ€§çº§ï¼ˆæœ€ç»†ç²’åº¦ï¼‰</td></tr><tr><td><strong>é‡æ–°æ¸²æŸ“</strong></td><td>è®¢é˜…çš„ç»„ä»¶é‡æ–°æ¸²æŸ“</td><td>è®¢é˜…çš„ç»„ä»¶é‡æ–°æ¸²æŸ“</td><td>åªæœ‰ä½¿ç”¨å˜åŒ–å±æ€§çš„ç»„ä»¶é‡æ–°æ¸²æŸ“</td></tr><tr><td><strong>æ€§èƒ½ä¼˜åŒ–</strong></td><td>éœ€è¦æ‰‹åŠ¨ä¼˜åŒ–ï¼ˆuseMemoã€useCallbackï¼‰</td><td>è‡ªåŠ¨ä¼˜åŒ–ï¼ˆé€‰æ‹©å™¨ï¼‰</td><td>è‡ªåŠ¨ä¼˜åŒ–ï¼ˆç»†ç²’åº¦è¿½è¸ªï¼‰</td></tr><tr><td><strong>å¤§åˆ—è¡¨æ€§èƒ½</strong></td><td>è‰¯å¥½</td><td>è‰¯å¥½</td><td>ä¼˜ç§€</td></tr></tbody></table>
<p><strong>ç»“è®º</strong>ï¼šMobX æ€§èƒ½æœ€å¥½ï¼ˆç»†ç²’åº¦æ›´æ–°ï¼‰ï¼ŒZustand å’Œ Redux æ€§èƒ½ç›¸è¿‘ã€‚</p>
<h3 data-id="heading-11">5. TypeScript æ”¯æŒ</h3>





























<table><thead><tr><th>ç‰¹æ€§</th><th>Redux</th><th>Zustand</th><th>MobX</th></tr></thead><tbody><tr><td><strong>åŸç”Ÿæ”¯æŒ</strong></td><td>éœ€è¦é¢å¤–é…ç½®</td><td>åŸç”Ÿæ”¯æŒ</td><td>åŸç”Ÿæ”¯æŒ</td></tr><tr><td><strong>ç±»å‹æ¨æ–­</strong></td><td>éœ€è¦æ‰‹åŠ¨å®šä¹‰ç±»å‹</td><td>è‡ªåŠ¨æ¨æ–­</td><td>è‡ªåŠ¨æ¨æ–­</td></tr><tr><td><strong>ç±»å‹å®‰å…¨</strong></td><td>è‰¯å¥½ï¼ˆéœ€è¦é…ç½®ï¼‰</td><td>ä¼˜ç§€</td><td>ä¼˜ç§€</td></tr></tbody></table>
<p><strong>ç»“è®º</strong>ï¼šZustand å’Œ MobX çš„ TypeScript æ”¯æŒæ›´å¥½ã€‚</p>
<h3 data-id="heading-12">6. ä¸­é—´ä»¶å’Œæ‰©å±•</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Redux</th><th>Zustand</th><th>MobX</th></tr></thead><tbody><tr><td><strong>ä¸­é—´ä»¶ç³»ç»Ÿ</strong></td><td>å¼ºå¤§ï¼ˆredux-thunkã€redux-saga ç­‰ï¼‰</td><td>å†…ç½®ä¸­é—´ä»¶ï¼ˆpersistã€devtoolsï¼‰</td><td>æ— ä¸­é—´ä»¶æ¦‚å¿µ</td></tr><tr><td><strong>DevTools</strong></td><td>ä¼˜ç§€ï¼ˆRedux DevToolsï¼‰</td><td>æ”¯æŒï¼ˆå¯é€‰ï¼‰</td><td>æ”¯æŒï¼ˆMobX DevToolsï¼‰</td></tr><tr><td><strong>æŒä¹…åŒ–</strong></td><td>éœ€è¦ redux-persist</td><td>å†…ç½® persist ä¸­é—´ä»¶</td><td>éœ€è¦ mobx-persist</td></tr><tr><td><strong>å¼‚æ­¥å¤„ç†</strong></td><td>redux-thunkã€redux-saga</td><td>åŸç”Ÿæ”¯æŒ</td><td>åŸç”Ÿæ”¯æŒï¼ˆrunInActionï¼‰</td></tr></tbody></table>
<p><strong>ç»“è®º</strong>ï¼šRedux çš„ä¸­é—´ä»¶ç”Ÿæ€ç³»ç»Ÿæœ€ä¸°å¯Œï¼ŒZustand å†…ç½®å¸¸ç”¨åŠŸèƒ½ï¼ŒMobX é€šè¿‡å…¶ä»–æ–¹å¼å®ç°ã€‚</p>
<h3 data-id="heading-13">7. é€‚ç”¨åœºæ™¯</h3>
<h4 data-id="heading-14">Redux é€‚åˆï¼š</h4>
<ul>
<li>âœ… å¤§å‹å¤æ‚åº”ç”¨</li>
<li>âœ… éœ€è¦æ—¶é—´æ—…è¡Œè°ƒè¯•</li>
<li>âœ… éœ€è¦å¼ºå¤§çš„ä¸­é—´ä»¶ç³»ç»Ÿ</li>
<li>âœ… å›¢é˜Ÿç†Ÿæ‚‰å‡½æ•°å¼ç¼–ç¨‹</li>
<li>âœ… éœ€è¦ä¸¥æ ¼çš„çŠ¶æ€ç®¡ç†è§„èŒƒ</li>
</ul>
<h4 data-id="heading-15">Zustand é€‚åˆï¼š</h4>
<ul>
<li>âœ… ä¸­å°å‹åº”ç”¨</li>
<li>âœ… éœ€è¦ç®€å•å¿«é€Ÿçš„çŠ¶æ€ç®¡ç†</li>
<li>âœ… ä¸æƒ³å†™å¤ªå¤šæ ·æ¿ä»£ç </li>
<li>âœ… éœ€è¦è½»é‡çº§è§£å†³æ–¹æ¡ˆ</li>
<li>âœ… å¿«é€ŸåŸå‹å¼€å‘</li>
</ul>
<h4 data-id="heading-16">MobX é€‚åˆï¼š</h4>
<ul>
<li>âœ… éœ€è¦ç»†ç²’åº¦æ›´æ–°</li>
<li>âœ… å–œæ¬¢å“åº”å¼ç¼–ç¨‹</li>
<li>âœ… é¢å‘å¯¹è±¡æ€ç»´</li>
<li>âœ… éœ€è¦é«˜æ€§èƒ½çš„å¤§åˆ—è¡¨</li>
<li>âœ… å¤æ‚çš„çŠ¶æ€ä¾èµ–å…³ç³»</li>
</ul>
<h3 data-id="heading-17">8. ç”Ÿæ€</h3>



































<table><thead><tr><th>ç‰¹æ€§</th><th>Redux</th><th>Zustand</th><th>MobX</th></tr></thead><tbody><tr><td><strong>ç¤¾åŒºè§„æ¨¡</strong></td><td>æœ€å¤§</td><td>ä¸­ç­‰</td><td>è¾ƒå¤§</td></tr><tr><td><strong>ç¬¬ä¸‰æ–¹åº“</strong></td><td>ä¸°å¯Œï¼ˆredux-thunkã€redux-saga ç­‰ï¼‰</td><td>è¾ƒå°‘</td><td>ä¸­ç­‰</td></tr><tr><td><strong>å­¦ä¹ èµ„æº</strong></td><td>æœ€å¤š</td><td>ä¸­ç­‰</td><td>è¾ƒå¤š</td></tr><tr><td><strong>ç»´æŠ¤æ´»è·ƒåº¦</strong></td><td>æ´»è·ƒ</td><td>æ´»è·ƒ</td><td>æ´»è·ƒ</td></tr></tbody></table>
<p><strong>ç»“è®º</strong>ï¼šRedux ç”Ÿæ€ç³»ç»Ÿæœ€ä¸°å¯Œï¼ŒZustand å’Œ MobX ç”Ÿæ€ç³»ç»Ÿç›¸å¯¹è¾ƒå°ä½†è¶³å¤Ÿä½¿ç”¨ã€‚</p>

























<table><thead><tr><th>æ–¹æ¡ˆ</th><th>æ ¸å¿ƒå®šä½</th><th>æœ€ä½³é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>Redux</td><td>è§„èŒƒä¼˜å…ˆçš„å…¨é‡çŠ¶æ€ç®¡ç†</td><td>è¶…å¤§å‹åº”ç”¨ã€å¤šäººåä½œå›¢é˜Ÿã€éœ€è¦ä¸¥æ ¼çŠ¶æ€è¿½æº¯ / å®¡è®¡çš„åœºæ™¯ï¼ˆå¦‚ä¼ä¸šçº§ç³»ç»Ÿã€å¤§å‹ç”µå•†ã€æ”¿åŠ¡ç³»ç»Ÿï¼‰ï¼›éœ€ä¾èµ–ä¸°å¯Œä¸­é—´ä»¶ï¼ˆsaga/thunkï¼‰å¤„ç†å¤æ‚å¼‚æ­¥é€»è¾‘çš„åœºæ™¯ã€‚</td></tr><tr><td>Zustand</td><td>è½»é‡ä¼˜å…ˆçš„æç®€çŠ¶æ€ç®¡ç†</td><td>ä¸­å°å‹åº”ç”¨ã€è¿½æ±‚ä½æ ·æ¿ä»£ç çš„åœºæ™¯ï¼›æ›¿ä»£ Context + useReducer è§£å†³æ€§èƒ½é—®é¢˜çš„åœºæ™¯ï¼ˆå¦‚å·¥å…·ç±»åº”ç”¨ã€ä¸­å°å‹ä¸šåŠ¡ç³»ç»Ÿï¼‰ï¼›éœ€è¦ã€Œæ—  Provider åµŒå¥—ã€+ã€Œç»†ç²’åº¦è®¢é˜…ã€çš„åœºæ™¯ã€‚</td></tr><tr><td>MobX</td><td>æ•ˆç‡ä¼˜å…ˆçš„å“åº”å¼ç®¡ç†</td><td>å¤æ‚çŠ¶æ€äº¤äº’ã€å¿«é€Ÿå¼€å‘çš„åœºæ™¯ï¼›äº¤äº’å¯†é›†å‹åº”ç”¨ï¼ˆå¦‚å¯è§†åŒ–ç¼–è¾‘å™¨ã€è¡¨å•å¯†é›†å‹åº”ç”¨ã€æ•°æ®çœ‹æ¿ï¼‰ï¼›è¿½æ±‚ã€Œé›¶æ ·æ¿ä»£ç ã€+ã€Œæè‡´ç»†ç²’åº¦æ›´æ–°ã€çš„åœºæ™¯ã€‚</td></tr></tbody></table></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>