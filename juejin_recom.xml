<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[åä¸º DevKit 25.2.rc1 æºç è¿ç§»åˆ†æä½¿ç”¨æ•™ç¨‹ï¼ˆopenEuler + ARM64ï¼‰]]></title>    <link>https://juejin.cn/post/7593098101431910454</link>    <guid>https://juejin.cn/post/7593098101431910454</guid>    <pubDate>2026-01-09T09:11:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593098101431910454" data-draft-id="7592990758476152851" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åä¸º DevKit 25.2.rc1 æºç è¿ç§»åˆ†æä½¿ç”¨æ•™ç¨‹ï¼ˆopenEuler + ARM64ï¼‰"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T09:11:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç§‹è¯´"/> <meta itemprop="url" content="https://juejin.cn/user/442448008454568"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åä¸º DevKit 25.2.rc1 æºç è¿ç§»åˆ†æä½¿ç”¨æ•™ç¨‹ï¼ˆopenEuler + ARM64ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/442448008454568/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç§‹è¯´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:11:52.000Z" title="Fri Jan 09 2026 09:11:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>åä¸º DevKit æ˜¯ä¸€æ¬¾ç”¨äº x86 â†’ é²²é¹ï¼ˆARM64ï¼‰å¹³å°ä»£ç è¿ç§»åˆ†æ  çš„å·¥å…·ã€‚ä» v25.0 èµ·ï¼ŒDevKit é‡‡ç”¨   æ¨¡å—åŒ– RPM åŒ…è®¾è®¡ ï¼Œéœ€å®‰è£…å¤šä¸ªç»„ä»¶æ‰èƒ½ä½¿ç”¨æºç è¿ç§»åŠŸèƒ½ã€‚æœ¬æ¬¡å®éªŒæˆ‘å¸¦å¤§å®¶å®æ“ä¸€ä¸‹ç è¿ç§»åˆ†æä½¿ç”¨ï¼Œå®éªŒæœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ã€‚</p>
<p>âš ï¸   æ³¨æ„ ï¼š</p>
<ul>
<li>25.2.rc1 ä¸º Release Candidate ç‰ˆæœ¬ ï¼Œå­˜åœ¨æƒé™å’Œå‚æ•°æ¥å£å˜æ›´é—®é¢˜ã€‚</li>
<li>æ­£å¼ç‰ˆï¼ˆå¦‚ 25.1.0ï¼‰ä½“éªŒæ›´ä½³ï¼Œå»ºè®®å®éªŒå®Œæˆåå‡çº§ã€‚</li>
<li>æœ¬æ¬¡å®éªŒæ˜¯åœ¨åä¸ºäº‘å¼€å‘è€…ç©ºé—´ä¸Šè¿›è¡Œçš„ï¼Œç‚¹å‡»è¿›å…¥<a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.huaweicloud.com%2Fspace%2Fdevportal%2Fplatform%2FdevEnvironment%3Ftab%3Dcloud_desktop%26ticket%3DST-8160487-KjIyCRlHrKoolUkIbqrfPb59-sso%26locale%3Dzh-cn" target="_blank" title="https://developer.huaweicloud.com/space/devportal/platform/devEnvironment?tab=cloud_desktop&amp;ticket=ST-8160487-KjIyCRlHrKoolUkIbqrfPb59-sso&amp;locale=zh-cn" ref="nofollow noopener noreferrer">developer.huaweicloud.com/space/devpoâ€¦</a></li>
</ul>
<hr/>
<h2 data-id="heading-1">äºŒã€å‡†å¤‡å·¥ä½œ</h2>
<h3 data-id="heading-2">1. ä¸‹è½½æ‰€éœ€ RPM åŒ…</h3>
<p>ç¡®ä¿å·²ä¸‹è½½ä»¥ä¸‹ä¸‰ä¸ªåŒ…ï¼ˆæ¶æ„ï¼š<code>aarch64</code>ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">devkit-25.2.rcll-1.aarch64.rpm
devkit-porting-25.2.rc1-1.aarch64.rpm     <span class="hljs-comment"># å¿…é¡»ï¼æä¾›è¿ç§»åˆ†æèƒ½åŠ›</span>
devkit-sys-mig-25.2.rc1-1.aarch64.rpm     <span class="hljs-comment"># å¯é€‰ï¼ˆæœ¬æ¬¡å®éªŒä¸éœ€è¦ï¼‰</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e54f10977114e1fa1ffff23f4c8309c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=muxyIhN5zvFzfiloi%2B%2FBRHqnajc%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ğŸ’¡ è‹¥æœªä¸‹è½½ï¼Œè¯·ä» <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.hikunpeng.com%2Fzh%2Fdeveloper%2Fdevkit%2Fdownload%3Ftab%3DcommandLine" target="_blank" title="https://www.hikunpeng.com/zh/developer/devkit/download?tab=commandLine" ref="nofollow noopener noreferrer">åä¸ºé²²é¹ç¤¾åŒº</a> è·å–ã€‚</p>
</blockquote>
<h3 data-id="heading-3">2. å‡†å¤‡å¾…åˆ†æé¡¹ç›®</h3>
<p>ä»¥å¼€æºé¡¹ç›® <code>simdjson</code> ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> ~
git <span class="hljs-built_in">clone</span> https://github.com/simdjson/simdjson.git
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/029dba0f48de4266a0c1719706557931~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=F8tmF4b5lT068WFkZXnn6JSYH2c%3D" alt="image.png" loading="lazy"/></p>
<p>é¡¹ç›®è·¯å¾„ï¼š<code>/home/developer/simdjson</code></p>
<hr/>
<h2 data-id="heading-4">ä¸‰ã€å®‰è£… DevKit</h2>
<h3 data-id="heading-5">1. å¸è½½æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœ‰ï¼‰</h3>
<pre><code class="hljs language-javascript" lang="javascript">sudo rpm -e devkit devkit-porting devkit-sys-mig <span class="hljs-number">2</span>&gt;<span class="hljs-regexp">/dev/</span><span class="hljs-literal">null</span> || <span class="hljs-literal">true</span>
</code></pre>
<h3 data-id="heading-6">2. æŒ‰ä¾èµ–é¡ºåºå®‰è£… RPM åŒ…</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥ RPM æ‰€åœ¨ç›®å½•ï¼ˆå‡è®¾åœ¨ ~/Downloadsï¼‰</span>
<span class="hljs-built_in">cd</span> ~/Downloads

<span class="hljs-comment"># å®‰è£…ä¸»æ¡†æ¶</span>
sudo rpm -ivh devkit-25.2.rc1-1.aarch64.rpm

<span class="hljs-comment"># å®‰è£…æºç è¿ç§»æ¨¡å—ï¼ˆå…³é”®ï¼ï¼‰</span>
sudo rpm -ivh devkit-porting-25.2.rc1-1.aarch64.rpm

<span class="hljs-comment"># ï¼ˆå¯é€‰ï¼‰å®‰è£…ç³»ç»Ÿè¿ç§»æ¨¡å—</span>
<span class="hljs-comment"># sudo rpm -ivh devkit-sys-mig-25.2.rc1-1.aarch64.rpm</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/676c849d890e49ebb7a4177c1f450755~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=Yeym1n6fi7Xoq6A4FSfBwjBfzVE%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>âœ… éªŒè¯å®‰è£…ï¼š
<code>/usr/local/devkit/devkit --version</code></p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d961c76991b64b51978231ed9b79365d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=q4Seuw2A79Rsg6HYnyVUsjf%2Fk84%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-7">å››ã€è¿è¡Œæºç è¿ç§»åˆ†æ</h2>
<h3 data-id="heading-8">1. åˆ›å»ºè¾“å‡ºç›®å½•</h3>
<pre><code class="hljs language-arduino" lang="arduino">mkdir -p /home/developer/migration_report
</code></pre>
<h3 data-id="heading-9">2. æ‰§è¡Œåˆ†æå‘½ä»¤ï¼ˆå…³é”®ï¼šä½¿ç”¨æ–°å‚æ•°æ ¼å¼ï¼‰</h3>
<blockquote>
<p>âš ï¸   DevKit 25.2.rc1 å‚æ•°å˜æ›´ ï¼š
<code>--project-path</code> â†’ <code>--input</code> æˆ– <code>-i</code>
<code>--output-path</code> â†’ <code>--output</code> æˆ– <code>-o</code>
<code>--language</code> â†’ <code>--source-type</code></p>
</blockquote>
<pre><code class="hljs language-css" lang="css">sudo devkit porting <span class="hljs-attribute">src</span>-mig \
  <span class="hljs-attr">--input</span> /home/developer/simdjson \
  <span class="hljs-attr">--output</span> /home/developer/migration_report \
  <span class="hljs-attr">--source-type</span> c,c++
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1a1e7208d3b94f96a60bba6cac095ca8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=I52Pm%2BXjZqYTGC%2BdUMYMuoBY97Y%3D" alt="image.png" loading="lazy"/></p>
<blockquote>
<p>ğŸ”   ä¸ºä»€ä¹ˆç”¨  <code> sudo</code>  ï¼Ÿ
RC ç‰ˆæœ¬ç¡¬ç¼–ç æ—¥å¿—è·¯å¾„ä¸º <code>/usr/local/devkit/...</code>ï¼Œæ™®é€šç”¨æˆ·æ— å†™æƒé™ã€‚
æ­£å¼ç‰ˆé»˜è®¤ä½¿ç”¨ <code>$HOME/.kunpeng-devkit</code>ï¼Œæ— éœ€ <code>sudo</code>ã€‚</p>
</blockquote>
<h3 data-id="heading-10">3. ç­‰å¾…åˆ†æå®Œæˆ</h3>
<p>å…¸å‹è¾“å‡ºï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">Using the local system as target os:</span> <span class="hljs-string">openeuler22.03</span>
<span class="hljs-attr">Current progress:</span> [<span class="hljs-number">100</span><span class="hljs-string">%</span>] [<span class="hljs-string">Phase</span> <span class="hljs-number">3</span><span class="hljs-string">/3</span>] <span class="hljs-string">Scan</span> <span class="hljs-string">completed.</span> <span class="hljs-string">Generating</span> <span class="hljs-string">reports.</span>
<span class="hljs-string">...</span>
<span class="hljs-attr">Files to be modified:</span> <span class="hljs-number">30</span>
<span class="hljs-attr">Lines to be modified:</span> <span class="hljs-number">204</span>
<span class="hljs-attr">Estimated transplant workload:</span> <span class="hljs-number">0.5</span> <span class="hljs-string">person/months.</span>
</code></pre>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17f1344bb887493299a552cbd177619a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=%2FCC%2FfAVmJQ8BMQ5UwZoYWO9ZR7I%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-11">äº”ã€æŸ¥çœ‹åˆ†ææŠ¥å‘Š</h2>
<h3 data-id="heading-12">1. æŠ¥å‘Šæ–‡ä»¶åˆ—è¡¨</h3>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">ls</span> ~/migration_report/
</code></pre>
<p>ç”Ÿæˆä¸‰ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li><code>Code_Porting_ .html</code> â†   ä¸»æŠ¥å‘Šï¼ˆæ¨èï¼‰</li>
<li><code>Code_Porting_ .csv</code>  â† è¡¨æ ¼æ•°æ®</li>
<li><code>Code_Porting_ .json</code> â† åŸå§‹æ•°æ®</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/028d22157ab84539a0d5778240ed8ea5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56eL6K-0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554712&amp;x-signature=WyiXT7cfcgz0x1yKzD9pl9qeAkQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-13">3. æŠ¥å‘Šå†…å®¹è§£è¯»</h3>

























<table><thead><tr><th>ç±»åˆ«</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ¶æ„ç›¸å…³æŒ‡ä»¤</td><td>x86 æ±‡ç¼–ï¼ˆå¦‚ <code>_mm_load_si128</code>ï¼‰ã€SSE/AVX å†…å»ºå‡½æ•°</td></tr><tr><td>ç¼–è¯‘å™¨å·®å¼‚</td><td>GCC/Clang ç‰¹æœ‰æ‰©å±•åœ¨ ARM64 ä¸Šçš„å…¼å®¹æ€§</td></tr><tr><td>å­—èŠ‚åºä¸å¯¹é½</td><td>å¤§ç«¯/å°ç«¯ã€å†…å­˜å¯¹é½é—®é¢˜</td></tr><tr><td>ä¾èµ–åº“å…¼å®¹æ€§</td><td>ç¬¬ä¸‰æ–¹åº“æ˜¯å¦æ”¯æŒ ARM64</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-14">å…­ã€å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</h2>



































<table><thead><tr><th>é—®é¢˜</th><th>åŸå› </th><th>è§£å†³æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td><code>error: init execute pwd failed</code></td><td>æœªå®‰è£… <code>devkit-porting</code></td><td>å®‰è£… <code>devkit-porting- .rpm</code></td></tr><tr><td><code>Permission denied: common.log.lock</code></td><td>RC ç‰ˆç¡¬ç¼–ç ç³»ç»Ÿè·¯å¾„</td><td>ä½¿ç”¨  <code> sudo</code>   è¿è¡Œ</td></tr><tr><td><code>The task name is incorrect</code></td><td>æœªæŒ‡å®šå­ä»»åŠ¡</td><td>ä½¿ç”¨ <code>devkit porting src-mig ...</code></td></tr><tr><td><code>required: -i/--input</code></td><td>å‚æ•°æ ¼å¼å˜æ›´</td><td>å°† <code>--project-path</code> æ”¹ä¸º <code>--input</code></td></tr><tr><td>SELinux é˜»æ­¢å†™å…¥</td><td>å®‰å…¨ç­–ç•¥é™åˆ¶</td><td>ä¸´æ—¶æ‰§è¡Œ <code>sudo setenforce 0</code></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-15">ä¸ƒã€åç»­å»ºè®®</h2>
<h3 data-id="heading-16">1. å‡çº§åˆ°æ­£å¼ç‰ˆ</h3>
<p>å¸è½½ RC ç‰ˆï¼š</p>
<pre><code class="hljs">sudo rpm -e devkit devkit-porting devkit-sys-mig
</code></pre>
<p>ä¸‹è½½å¹¶å®‰è£…   DevKit 25.1.0 æ­£å¼ç‰ˆ ï¼Œäº«å—ï¼š</p>
<ul>
<li>æ— éœ€ <code>sudo</code></li>
<li>è‡ªåŠ¨ä½¿ç”¨ <code>$HOME/.kunpeng-devkit</code></li>
<li>æ›´ç¨³å®šçš„ CLI æ¥å£</li>
</ul>
<h3 data-id="heading-17">2. ä¿®æ”¹ä»£ç å¹¶éªŒè¯</h3>
<p>æ ¹æ®æŠ¥å‘Šæç¤ºï¼š</p>
<ul>
<li>æ›¿æ¢ x86 å†…å»ºå‡½æ•°ä¸º ARM NEON ç­‰ä»·å®ç°</li>
<li>æ·»åŠ è·¨å¹³å°å®ï¼ˆå¦‚ <code>#ifdef __aarch64__</code>ï¼‰</li>
<li>åœ¨é²²é¹æœåŠ¡å™¨ä¸Šç¼–è¯‘æµ‹è¯•</li>
</ul>
<hr/>
<h2 data-id="heading-18">å…«ã€é™„å½•ï¼šå®Œæ•´å‘½ä»¤é€ŸæŸ¥</h2>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®‰è£…</span>
sudo rpm -ivh devkit- .rpm devkit-porting- .rpm

<span class="hljs-comment"># åˆ†æï¼ˆRC ç‰ˆå¿…é¡»ç”¨ sudo + æ–°å‚æ•°ï¼‰</span>
sudo devkit porting src-mig \
  --input /path/to/source \
  --output /path/to/report \
  --source-type c,c++

<span class="hljs-comment"># å½’è¿˜æƒé™</span>
sudo <span class="hljs-built_in">chown</span> -R <span class="hljs-variable">$USER</span>:<span class="hljs-variable">$USER</span> /path/to/report

<span class="hljs-comment"># æŸ¥çœ‹å¸®åŠ©</span>
devkit porting src-mig --<span class="hljs-built_in">help</span>
</code></pre>
<hr/>
<h2 data-id="heading-19">æ€»ç»“</h2>
<p>ä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œåœ¨ openEuler ARM64 ç¯å¢ƒä¸‹ä½¿ç”¨ DevKit 25.2.rc1 è¿›è¡Œæºç è¿ç§»åˆ†ææ—¶ï¼Œéœ€ç‰¹åˆ«æ³¨æ„å…¶ RC ç‰ˆæœ¬çš„é™åˆ¶ï¼šå¿…é¡»å®‰è£… <code>devkit-porting</code> æ¨¡å—ï¼Œä¸”å› æ—¥å¿—è·¯å¾„ç¡¬ç¼–ç äºç³»ç»Ÿç›®å½•ï¼Œæ™®é€šç”¨æˆ·æ— å†™æƒé™ï¼Œ  éœ€ç”¨  <code> sudo</code>   æ‰§è¡Œ ã€‚åŒæ—¶ï¼ŒCLI å‚æ•°å·²å˜æ›´â€”â€”<code>--project-path</code> æ”¹ä¸º <code>--input</code>ï¼Œ<code>--language</code> æ”¹ä¸º <code>--source-type</code>ã€‚è™½ç„¶æµç¨‹ç•¥æ˜¾ç¹çï¼Œä½†å·¥å…·èƒ½ç²¾å‡†è¯†åˆ« x86 ä¸“å±æŒ‡ä»¤ï¼ˆå¦‚ SSE/AVXï¼‰ã€å†…å­˜å¯¹é½ç­‰é—®é¢˜ï¼Œå¹¶ç”Ÿæˆ HTML æŠ¥å‘Šï¼Œæå¤§æå‡ ARM64 ç§»æ¤æ•ˆç‡ã€‚å»ºè®®å®éªŒåå‡çº§è‡³æ­£å¼ç‰ˆä»¥è·å¾—æ›´å‹å¥½çš„å¼€å‘ä½“éªŒã€‚</p>
<p>é²²é¹ç¤¾åŒºç›´è¾¾<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.hikunpeng.com%2Fdeveloper%3Futm_campaign%3Dcom%26utm_source%3Dcsdnkol" target="_blank" title="https://www.hikunpeng.com/developer?utm_campaign=com&amp;utm_source=csdnkol" ref="nofollow noopener noreferrer">www.hikunpeng.com/developer?uâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C# æˆä¸º 2025 å¹´çš„ç¼–ç¨‹è¯­è¨€ï¼Œ7ä¸ªC#æŠ€å·§åŠ©åŠ›å¼€å‘æ•ˆç‡]]></title>    <link>https://juejin.cn/post/7593165280488030249</link>    <guid>https://juejin.cn/post/7593165280488030249</guid>    <pubDate>2026-01-09T09:02:45.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593165280488030249" data-draft-id="7592990758476120083" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C# æˆä¸º 2025 å¹´çš„ç¼–ç¨‹è¯­è¨€ï¼Œ7ä¸ªC#æŠ€å·§åŠ©åŠ›å¼€å‘æ•ˆç‡"/> <meta itemprop="keywords" content="åç«¯,.NET,C#"/> <meta itemprop="datePublished" content="2026-01-09T09:02:45.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ServBay"/> <meta itemprop="url" content="https://juejin.cn/user/3828929445244761"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C# æˆä¸º 2025 å¹´çš„ç¼–ç¨‹è¯­è¨€ï¼Œ7ä¸ªC#æŠ€å·§åŠ©åŠ›å¼€å‘æ•ˆç‡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3828929445244761/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ServBay
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:02:45.000Z" title="Fri Jan 09 2026 09:02:45 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>TIOBE å…¬å¸ƒçš„æ•°æ®æ˜¾ç¤ºï¼ŒC# ä»¥ 2.94% çš„å¹´åº¦æœ€å¤§æ¶¨å¹…å†åº¦è·è¯„2025 å¹´åº¦ç¼–ç¨‹è¯­è¨€ï¼Œè¿™æ˜¯ C# åœ¨ä¸‰å¹´å†…ç¬¬äºŒæ¬¡è·æ­¤æ®Šè£ï¼Œå‡­å€Ÿçš„æ˜¯å…¶åœ¨æ¦œå•ä¸Šæœ€å¤§çš„å¹´åº¦å¢é•¿å¹…åº¦ã€‚</p>
<p>å…¶å®ï¼ŒC# æ—©å°±ä¸æ˜¯å½“å¹´é‚£ä¸ªè´´ç€â€œWindows ç‹¬å â€å’Œâ€œé—­æºâ€æ ‡ç­¾çš„è¯­è¨€äº†ã€‚ä»æ—©æœŸçš„æ¨¡ä»¿è€…åˆ°å¦‚ä»Šç°ä»£è¯­è¨€ç‰¹æ€§çš„å¼•é¢†è€…ï¼ŒC# æˆåŠŸå®Œæˆäº†å‘è·¨å¹³å°å’Œå¼€æºçš„å·¨å¤§è½¬å‹ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9ef1361c669747aeb3a12d40b53095bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VydkJheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554966&amp;x-signature=NirDk39sroy1mRZ%2BV7aU6xqCYCE%3D" alt="" loading="lazy"/></p>
<p>åœ¨ä¼ä¸šçº§å¼€å‘é¢†åŸŸï¼ŒC# ä¸ Java çš„ç«äº‰æŒç»­äº†äºŒåå¤šå¹´ã€‚ç›¸æ¯”äº Java ç•¥æ˜¾å†—é•¿å’Œæ ·æ¿åŒ–çš„ä»£ç é£æ ¼ï¼ŒC# åœ¨è¯­æ³•è®¾è®¡çš„çµæ´»æ€§å’Œæ¼”è¿›é€Ÿåº¦ä¸Šä¸€ç›´ä¿æŒç€æ•é”çš„å—…è§‰ã€‚å¯¹äºå¼€å‘è€…è€Œè¨€ï¼ŒC# ç‰ˆæœ¬çš„å¿«é€Ÿè¿­ä»£æ„å‘³ç€æ‰‹é‡Œæœ‰äº†æ›´å¤šé«˜æ•ˆçš„å·¥å…·ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5bc78edb15a1407392fe3093eeeda6f0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VydkJheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554966&amp;x-signature=O7rh2mx5NGeg1dPGitT67tnGdPc%3D" alt="" loading="lazy"/></p>
<p>ä»¥ä¸‹ç›˜ç‚¹7ä¸ªåœ¨å®é™…å¼€å‘ä¸­éå¸¸å®ç”¨çš„C#ä»£ç æŠ€å·§ï¼Œæ¶µç›–å¹¶å‘å¤„ç†ã€å†…å­˜ä¼˜åŒ–åŠæ–°è¯­æ³•ç‰¹æ€§ã€‚</p>
<h3 data-id="heading-0">å¤šçº¿ç¨‹åœºæ™¯ä¸‹çš„å­—å…¸å®‰å…¨ç­–ç•¥</h3>
<p>åœ¨å¤šçº¿ç¨‹ç¯å¢ƒæ“ä½œå­—å…¸æ—¶ï¼Œæ‰‹åŠ¨åŠ é”ï¼ˆlockï¼‰å¾€å¾€å®¹æ˜“å‡ºé”™ä¸”æ•ˆç‡ä¸é«˜ã€‚ä¸è¦é‡å¤é€ è½®å­ï¼Œ<code>ConcurrentDictionary&lt;TKey, TValue&gt;</code> æ˜¯ä¸“ä¸ºå¹¶å‘è¯»å†™è®¾è®¡çš„ç»“æ„ï¼Œå†…éƒ¨å®ç°äº†ç»†ç²’åº¦çš„é”æœºåˆ¶å’ŒåŸå­æ“ä½œã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> cache = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;();
<span class="hljs-comment">// å¤šçº¿ç¨‹å¹¶å‘å†™å…¥æ—¶ï¼Œæ™®é€šå­—å…¸éçº¿ç¨‹å®‰å…¨ï¼Œå¯èƒ½å¯¼è‡´å¼‚å¸¸æˆ–æ•°æ®è¦†ç›–</span>
<span class="hljs-keyword">await</span> Task.WhenAll(dataItems.Select(<span class="hljs-keyword">async</span> item =&gt;
{
    <span class="hljs-comment">// å³ä½¿åŠ é”ï¼Œæ€§èƒ½ä¹Ÿä¼šå—å½±å“</span>
    cache[item.Key] = <span class="hljs-keyword">await</span> ProcessItemAsync(item);
}));
</code></pre>
<p><strong>æ¨èï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> cache = <span class="hljs-keyword">new</span> ConcurrentDictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">int</span>&gt;();
<span class="hljs-comment">// å†…éƒ¨å·²å¤„ç†å¹¶å‘æ§åˆ¶ï¼Œè¯»å†™æ›´é«˜æ•ˆ</span>
<span class="hljs-keyword">await</span> Task.WhenAll(dataItems.Select(<span class="hljs-keyword">async</span> item =&gt;
{
    cache[item.Key] = <span class="hljs-keyword">await</span> ProcessItemAsync(item);
}));
</code></pre>
<h3 data-id="heading-1">é¿å…é¢‘ç¹åˆ†é…ç©ºé›†åˆ</h3>
<p>åœ¨è¿”å›ç©ºæ•°ç»„æˆ–åˆ—è¡¨æ—¶ï¼Œä¹ æƒ¯æ€§åœ° <code>new</code> ä¸€ä¸ªå¯¹è±¡ä¼šé€ æˆä¸å¿…è¦çš„å†…å­˜åˆ†é…ã€‚ç‰¹åˆ«æ˜¯åœ¨é«˜é¢‘è°ƒç”¨çš„å¾ªç¯æˆ– LINQ æŸ¥è¯¢ä¸­ï¼Œè¿™ä¼šæ˜¾è‘—å¢åŠ åƒåœ¾å›æ”¶ï¼ˆGCï¼‰çš„å‹åŠ›ã€‚<code>.NET</code> ä¸ºæ­¤æä¾›äº†ç¼“å­˜çš„å•ä¾‹ç©ºå¯¹è±¡ã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">string</span>[<span class="hljs-number">0</span>]; <span class="hljs-comment">// æ¯æ¬¡éƒ½åœ¨å †ä¸Šåˆ†é…æ–°å¯¹è±¡</span>
</code></pre>
<p><strong>æ¨èï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">return</span> Array.Empty&lt;<span class="hljs-built_in">string</span>&gt;(); <span class="hljs-comment">// ä½¿ç”¨å…¨å±€ç¼“å­˜çš„ç©ºå®ä¾‹</span>
</code></pre>
<p>åŒç†ï¼Œåœ¨ LINQ åœºæ™¯ä¸‹åº”ä½¿ç”¨ <code>Enumerable.Empty&lt;T&gt;()</code>ã€‚</p>
<h3 data-id="heading-2">å–„ç”¨ç©ºåˆå¹¶èµ‹å€¼è¿ç®—ç¬¦ (??=)</h3>
<p><code>??=</code> è¿ç®—ç¬¦èƒ½è®©ç©ºæ£€æŸ¥å’Œåˆå§‹åŒ–é€»è¾‘å˜å¾—æå…¶ç®€æ´ã€‚å®ƒä¸ä»…å‡å°‘äº†æ ·æ¿ä»£ç ï¼Œè¿˜æ¶ˆé™¤äº†ä¸å¿…è¦çš„åµŒå¥—ï¼Œéå¸¸é€‚åˆç”¨äºå±æ€§çš„å»¶è¿ŸåŠ è½½ï¼ˆLazy Initializationï¼‰ã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">if</span> (userSettings == <span class="hljs-literal">null</span>)
{
    userSettings = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;();
}
</code></pre>
<p><strong>æ¨èï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">// ä»…å½“ userSettings ä¸º null æ—¶æ‰è¿›è¡Œèµ‹å€¼</span>
userSettings ??= <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;();
</code></pre>
<h3 data-id="heading-3">ä¼˜åŒ–æ—¥å¿—è®°å½•ä¸­çš„å­—ç¬¦ä¸²å¼€é”€</h3>
<p>C# 10 å¼•å…¥äº†é’ˆå¯¹æ’å€¼å­—ç¬¦ä¸²çš„åº•å±‚ä¼˜åŒ–ã€‚åœ¨è®°å½•æ—¥å¿—æ—¶ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨ <code>$</code> è¿›è¡Œæ‹¼æ¥ï¼Œå³ä¾¿æ—¥å¿—çº§åˆ«æœªå¼€å¯ï¼Œå­—ç¬¦ä¸²æ‹¼æ¥çš„å¼€é”€ä¾ç„¶å­˜åœ¨ã€‚ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—å‚æ•°å†™æ³•ï¼Œå¯ä»¥åœ¨æ—¥å¿—çº§åˆ«å…³é—­æ—¶å®Œå…¨è·³è¿‡æ’å€¼è®¡ç®—ã€‚</p>
<p><strong>æœ‰éšå½¢å¼€é”€ï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">// å³ä½¿ LogLevel å…³é—­ï¼Œå­—ç¬¦ä¸²æ’å€¼ä¾ç„¶ä¼šæ‰§è¡Œï¼Œæ¶ˆè€— CPU</span>
_logger.LogInformation(<span class="hljs-string">$"Order <span class="hljs-subst">{orderId}</span> processed at <span class="hljs-subst">{DateTime.Now}</span>"</span>);
</code></pre>
<p><strong>æ¨èï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">// æ¨¡æ¿åŒ–å‚æ•°ï¼Œåªæœ‰æ—¥å¿—ç¡®å®éœ€è¦è®°å½•æ—¶ï¼Œæ‰ä¼šå¤„ç†å‚æ•°</span>
_logger.LogInformation(<span class="hljs-string">"Order {OrderId} processed at {ProcessTime}"</span>, orderId, DateTime.Now);
</code></pre>
<h3 data-id="heading-4">å¹¶è¡Œä»»åŠ¡ä¼˜å…ˆä½¿ç”¨ Task.WhenAll</h3>
<p>åœ¨å¼‚æ­¥æ–¹æ³•ä¸­ï¼Œå¦‚æœå¤šä¸ªä»»åŠ¡ä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œé¡ºæ¬¡ <code>await</code> ä¼šå¯¼è‡´å®ƒä»¬ä¸²è¡Œæ‰§è¡Œï¼Œæµªè´¹äº†å¹¶å‘ä¼˜åŠ¿ã€‚åº”å½“åŒæ—¶å¯åŠ¨æ‰€æœ‰ä»»åŠ¡ï¼Œå¹¶ç­‰å¾…å®ƒä»¬å…¨éƒ¨å®Œæˆã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">await</span> UploadLogsAsync();
<span class="hljs-keyword">await</span> UpdateDatabaseAsync();
<span class="hljs-keyword">await</span> NotifyUserAsync();
</code></pre>
<p><strong>é«˜æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">await</span> Task.WhenAll(
    UploadLogsAsync(),
    UpdateDatabaseAsync(),
    NotifyUserAsync()
);
</code></pre>
<p><em>æ³¨ï¼šä½¿ç”¨</em> <em><code>Task.WhenAll</code></em> æ—¶ï¼Œè‹¥å‘ç”Ÿå¼‚å¸¸ï¼ŒæŠ›å‡ºçš„æ˜¯ <code>AggregateException</code> <em>ï¼Œéœ€æ³¨æ„æ•è·å¤„ç†ã€‚</em></p>
<h3 data-id="heading-5">é¢„è®¾å­—å…¸å®¹é‡ä»¥é¿å…é‡å“ˆå¸Œ</h3>
<p><code>Dictionary</code> åœ¨å…ƒç´ æ•°é‡è¶…å‡ºå½“å‰å®¹é‡æ—¶ï¼Œä¼šè§¦å‘æ‰©å®¹ï¼ˆResizeï¼‰å’Œé‡å“ˆå¸Œï¼ˆRehashï¼‰ï¼Œè¿™æ˜¯éå¸¸æ˜‚è´µçš„æ“ä½œã€‚å¦‚æœèƒ½é¢„ä¼°æ•°æ®é‡çº§ï¼Œåœ¨æ„é€ æ—¶æŒ‡å®šå®¹é‡å¯ä»¥å¤§å¹…å‡å°‘å†…å­˜åˆ†é…å¼€é”€ã€‚</p>
<p><strong>ä½æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt;(); <span class="hljs-comment">// é»˜è®¤å®¹é‡å°ï¼Œæ•°æ®å¤šæ—¶ä¼šå¤šæ¬¡æ‰©å®¹</span>
</code></pre>
<p><strong>é«˜æ•ˆï¼š</strong></p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">int</span>, <span class="hljs-built_in">string</span>&gt;(expectedCount); <span class="hljs-comment">// ä¸€æ¬¡åˆ†é…åˆ°ä½</span>
</code></pre>
<h3 data-id="heading-6">åŸå§‹å­—ç¬¦ä¸²å­—é¢é‡ä¸æ’å€¼</h3>
<p>C# 11 å¼•å…¥äº†ä¸‰é‡å¼•å· <code>"""</code>ï¼Œå®Œç¾è§£å†³äº† JSONã€SQL æˆ– HTML å­—ç¬¦ä¸²ä¸­å¼•å·è½¬ä¹‰çš„ç—›ç‚¹ã€‚ç»“åˆ <code>$$</code> è¯­æ³•ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰æ’å€¼ç¬¦å·ï¼Œé¿å…ä¸å†…å®¹ä¸­çš„ <code>{}</code> å†²çªã€‚</p>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">var</span> userName = <span class="hljs-string">"Alice"</span>;
<span class="hljs-keyword">var</span> userAge = <span class="hljs-number">28</span>;

<span class="hljs-comment">// ä½¿ç”¨ $$ å‰ç¼€ï¼Œè¡¨ç¤º {{}} æ‰æ˜¯æ’å€¼ï¼Œå•ä¸ª {} è¢«è§†ä¸ºæ™®é€šå­—ç¬¦</span>
<span class="hljs-keyword">var</span> jsonContent = $<span class="hljs-string">$""</span><span class="hljs-string">"
{
    "</span>user<span class="hljs-string">": "</span>{{userName}}<span class="hljs-string">",
    "</span>age<span class="hljs-string">": {{userAge}},
    "</span>role<span class="hljs-string">": "</span>admin<span class="hljs-string">"
}
"</span><span class="hljs-string">""</span>;
</code></pre>
<p>è¿™ç§å†™æ³•è®©ä»£ç æ¸…æ™°åº¦å¤§å¹…æå‡ï¼Œå†ä¹Ÿä¸ç”¨æ•°åæ–œæ äº†ã€‚</p>
<h3 data-id="heading-7">å¿«é€Ÿæå®š.NETç¯å¢ƒ</h3>
<p>ä¸Šè¿°æŠ€å·§è·¨è¶Šäº†å¤šä¸ª C# ç‰ˆæœ¬ï¼Œä»åŸºç¡€çš„ .NET Framework åˆ°æœ€æ–°çš„ .NET Core åŠ .NET 5+ã€‚åœ¨å®é™…å·¥ä½œä¸­ï¼Œç»´æŠ¤æ—§é¡¹ç›®ï¼ˆå¦‚ .NET 2.0ï¼‰å’Œæ¢ç´¢æ–°ç‰¹æ€§ï¼ˆå¦‚ .NET 10.0ï¼‰å¾€å¾€éœ€è¦åŒæ—¶è¿›è¡Œã€‚</p>
<p>åœ¨æœ¬åœ°é…ç½®.NETç¯å¢ƒæ—¶ï¼Œå¤šä¸ªè¿è¡Œç‰ˆæœ¬è¿˜æ˜¯æŒºéº»çƒ¦çš„ï¼Œæ¶‰åŠå¤§é‡çš„ç¯å¢ƒå˜é‡åˆ‡æ¢ã€‚ä½¿ç”¨ ServBay å°±èƒ½<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.servbay.com%2Ffeatures%2Fnet" target="_blank" title="https://www.servbay.com/features/net" ref="nofollow noopener noreferrer">ä¸€é”®å®‰è£… .NET ç¯å¢ƒ</a>ï¼Œæ”¯æŒèŒƒå›´æå¹¿ï¼Œä» .NET 2.0 ä¸€ç›´åˆ° .NET 10.0ï¼Œç”šè‡³åŒ…å«äº† Mono 6ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/54cb1c5922604fe18b4202bf6f7182c9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgU2VydkJheQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768554966&amp;x-signature=fXQIzGvaxdC6l39Q%2BuzjuIAmMHY%3D" alt="" loading="lazy"/></p>
<p>ServBay æ”¯æŒå¤šä¸ª.NETç‰ˆæœ¬åŒæ—¶å¹¶å­˜ï¼Œå®Œå…¨ä¸éœ€è¦å¼€å‘è€…æ‰‹åŠ¨å¤„ç†ç¯å¢ƒå˜é‡å†²çªã€‚æ— è®ºä½ æ˜¯éœ€è¦ç»´æŠ¤åå¹´å‰çš„è€ç³»ç»Ÿï¼Œè¿˜æ˜¯æµ‹è¯•æœ€æ–°çš„ C# è¯­æ³•ç‰¹æ€§ï¼Œéƒ½èƒ½åœ¨åŒä¸€å°æœºå™¨ä¸Šæ— ç¼åˆ‡æ¢ï¼Œå°†ç²¾åŠ›çœŸæ­£é›†ä¸­åœ¨ä»£ç ç¼–å†™ä¸Šã€‚</p>
<h3 data-id="heading-8">ç»“è¯­</h3>
<p>ä»£ç çš„æ•´æ´ä¸é«˜æ•ˆå¾€å¾€ä½“ç°åœ¨ç»†èŠ‚ä¹‹ä¸­ã€‚æŒæ¡è¿™äº› C# æŠ€å·§ï¼Œä¸ä»…èƒ½å‡å°‘è¿è¡Œæ—¶çš„èµ„æºæ¶ˆè€—ï¼Œæ›´èƒ½è®©ä»£ç é€»è¾‘æ¸…æ™°æ˜“è¯»ã€‚éšç€ .NET ç”Ÿæ€çš„ä¸æ–­å‘å±•ï¼Œä¿æŒå¯¹æ–°ç‰¹æ€§çš„å…³æ³¨ï¼Œå¹¶ç»“åˆå¾—åŠ›çš„å·¥å…·æ¥ç®¡ç†å¼€å‘ç¯å¢ƒï¼Œæ˜¯æ¯ä¸€ä½å¼€å‘è€…æŒç»­è¿›é˜¶çš„å…³é”®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ABP9.3.0+React 19.2.0åŸºç¡€åˆ›å»º]]></title>    <link>https://juejin.cn/post/7593158683411152896</link>    <guid>https://juejin.cn/post/7593158683411152896</guid>    <pubDate>2026-01-09T09:15:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593158683411152896" data-draft-id="7592960378690879523" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ABP9.3.0+React 19.2.0åŸºç¡€åˆ›å»º"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2026-01-09T09:15:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸ƒå…«æ˜Ÿå¤©"/> <meta itemprop="url" content="https://juejin.cn/user/3848733848768205"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ABP9.3.0+React 19.2.0åŸºç¡€åˆ›å»º
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3848733848768205/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸ƒå…«æ˜Ÿå¤©
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:15:03.000Z" title="Fri Jan 09 2026 09:15:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰/åç«¯æŠ€æœ¯æ ˆ</h2>
<p>æœåŠ¡ç«¯:</p>
<pre><code class="hljs language-makefile" lang="makefile">ABP Framework v9.3.0
	
<span class="hljs-section">ORM:</span>
	EFCore   v9.3.0
        -SqlServer V2022
      

<span class="hljs-section">ç¯å¢ƒ:</span>
	.NET SDK 9.0
	
<span class="hljs-section">å·¥å…·:</span>
	.ABP CLI 9.3.0
</code></pre>
<p>å®¢æˆ·ç«¯:</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Web:</span>
	React + Vite + TypeScript
	-UI:
		Antd
	

<span class="hljs-section">ç¯å¢ƒ:</span>
	Node v20.19.6
	pnpm v10.23.0
	Android SDK
        Vite å’Œ React å¯¹ç¯å¢ƒè¦æ±‚è¾ƒå®½æ¾ï¼šæ”¯æŒ Node.js è¾ƒæ–°ç‰ˆæœ¬ï¼ˆ&gt;=14/16/18ï¼‰ï¼Œé€šå¸¸æ— éœ€ä¸¥æ ¼å›ºå®šç‰ˆæœ¬å³å¯è¿è¡Œã€‚
<span class="hljs-section">å·¥å…·:	</span>
	vite 	v7.2.4
	nvm 	v1.2.2
	vite-cli:é€šè¿‡npmå‘½ä»¤,ä¸éœ€è¦å…¨å±€å®‰è£…
</code></pre>
<h2 data-id="heading-1">1.åˆ›å»º</h2>
<p>åˆ›å»ºç›¸åº”çš„æ¡†æ¶é¡¹ç›®æ–‡ä»¶</p>
<h3 data-id="heading-2">åç«¯ABP</h3>
<pre><code class="hljs language-ruby" lang="ruby">/<span class="hljs-regexp">/ABPå®˜ç½‘
https:/</span><span class="hljs-regexp">/abp.io/docs</span><span class="hljs-regexp">/latest/get</span>-started/layered-web-application  
</code></pre>
<h4 data-id="heading-3">ğŸŒˆä½¿ç”¨ABP_CLIåˆ›å»º</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">//æ‰‹è„šæ¶è¯´æ˜</span>
https:<span class="hljs-comment">//abp.io/docs/latest/cli </span>
<span class="hljs-comment">//æ‰‹è„šæ¶å¿«é€Ÿå‘½ä»¤æ„å»ºé¡µé¢</span>
https:<span class="hljs-comment">//abp.io/get-started</span>
ç¡®è®¤å½“å‰ CLI å®‰è£…çš„ç‰ˆæœ¬:abp --version

<span class="hljs-comment">//æ¨¡æ¿é€‰æ‹©æŒ‡å—</span>
https:<span class="hljs-comment">//abp.io/docs/9.3/solution-templates/guide</span>


<span class="hljs-comment">//æŒ‡å®šæ–‡ä»¶å¤¹ï¼ŒCMD</span>
è¾“å…¥å‘½ä»¤ï¼š   
abp <span class="hljs-keyword">new</span> AppCoreServer -t app  -u none -d ef -v <span class="hljs-number">9.3</span><span class="hljs-number">.0</span>
<span class="hljs-comment">//ç”Ÿæˆå®Œåå³å¯çœ‹åˆ°/AppCoreServer/aspnet-coreæ–‡ä»¶å¤¹</span>
</code></pre>
<h4 data-id="heading-4">é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-bash" lang="bash">aspnet-core/                	 		<span class="hljs-comment"># è§£å†³æ–¹æ¡ˆã€‚</span>
   â”œâ”€â”€ src/                   		 	<span class="hljs-comment"># åç«¯ä¸»æœåŠ¡ä»£ç ç›®å½•ã€‚</span>
   â”‚   â”œâ”€â”€ Application/        		 	<span class="hljs-comment"># åº”ç”¨æœåŠ¡å±‚ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘ã€‚</span>
   â”‚   â”œâ”€â”€ Application.Contracts/       <span class="hljs-comment"># åº”ç”¨æœåŠ¡å±‚æ¥å£å®šä¹‰å±‚ã€‚</span>
   â”‚   â”œâ”€â”€ DbMigrator/             		<span class="hljs-comment"># è¿ç§»å±‚ï¼Œç”¨äºé…ç½®ï¼Œå®šä¹‰è¿ç§»æ•°æ®åº“ã€‚</span>
   â”‚   â”œâ”€â”€ Domain/             			<span class="hljs-comment"># é¢†åŸŸå±‚ï¼ŒåŒ…å«é¢†åŸŸæ¨¡å‹å’Œä¸šåŠ¡è§„åˆ™ã€‚</span>
   â”‚   â”œâ”€â”€ Domain.Shared/             	<span class="hljs-comment"># å­˜æ”¾é€šç”¨ç±»å’Œå®šä¹‰ã€‚</span>
   â”‚   â”œâ”€â”€ EntityFrameworkCore/ 		<span class="hljs-comment"># æ•°æ®è®¿é—®å±‚ï¼Œä½¿ç”¨ EF Core å®ç°æ•°æ®åº“æ“ä½œã€‚</span>
   â”‚   â”œâ”€â”€ HttpApi/            			<span class="hljs-comment"># HTTP API å±‚ï¼Œå®šä¹‰ API æ¥å£,æš´éœ² REST APIã€‚</span>
   â”‚   â”œâ”€â”€ HttpApi.Client/     			<span class="hljs-comment"># ç”Ÿæˆ C# SDKï¼Œç”¨äºå…¶å®ƒç¨‹åºç›´æ¥æ¶ˆè´¹API-(å¯ä»¥è®©å¦ä¸€ä¸ªc#é¡¹ç›®å¼•ç”¨è¯¥å±‚</span>
   â”‚   â”‚									,ç„¶åè°ƒç”¨Applicationä¸€æ ·è°ƒç”¨,è€Œä¸æ˜¯å†™httlclientè°ƒç”¨,é€‚ç”¨äºå¾®æœåŠ¡,åˆ†å¸ƒå¼)
   â”‚   â””â”€â”€ HttpApi.Host/       			<span class="hljs-comment"># é¡¹ç›®æ ¹æ¨¡å—ï¼Œé…ç½®å’Œè¿è¡Œåç«¯æœåŠ¡,Programå°±åœ¨è¿™é‡Œã€‚</span>
   â”‚
   â””â”€â”€ <span class="hljs-built_in">test</span>/                   			<span class="hljs-comment"># æµ‹è¯•å•å…ƒã€‚</span>
   â”‚   â”œâ”€â”€ Application.Tests/  			<span class="hljs-comment"># åº”ç”¨æœåŠ¡å±‚çš„æµ‹è¯•ã€‚</span>
   â”‚   â”œâ”€â”€ Domain.Tests/       			<span class="hljs-comment"># é¢†åŸŸå±‚çš„æµ‹è¯•ã€‚</span>
   â”‚   â””â”€â”€ IntegrationTests/   			<span class="hljs-comment"># é›†æˆæµ‹è¯•ã€‚</span>
   â”‚
   â””â”€â”€AppCoreServer.sln					<span class="hljs-comment">#è§£å†³æ–¹æ¡ˆæ–‡ä»¶,åŒ…å«é¡¹ç›®è·¯å¾„ã€ä¾èµ–é¡ºåº,.net10å¼€å§‹å˜æˆslnx</span>
   |
   â””â”€â”€.gitignore						<span class="hljs-comment">#å®šä¹‰ Git ä¸éœ€è¦è¿½è¸ªçš„æ–‡ä»¶å’Œç›®å½•ã€‚</span>
</code></pre>
<h4 data-id="heading-5">é™„å½•</h4>
<h5 data-id="heading-6">ğŸ§± ABP é¡¹ç›®ç±»å‹æ€»è§ˆå¯¹æ¯”è¡¨</h5>























































<table><thead><tr><th>ç±»å‹</th><th>åç§°</th><th>ç‰¹ç‚¹</th><th>é€‚ç”¨åœºæ™¯</th><th>æ˜¯å¦åˆ†å±‚</th><th>æ˜¯å¦å‰åç«¯åˆ†ç¦»</th><th>æ˜¯å¦æ”¯æŒæ¨¡å—åŒ–</th><th>æ˜¯å¦ä¸ºå¾®æœåŠ¡</th></tr></thead><tbody><tr><td>1ï¸âƒ£</td><td><strong>å•å±‚ Web åº”ç”¨</strong> (Single Layer Web App)</td><td>æ‰€æœ‰ä»£ç åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­</td><td>å¿«é€Ÿå¼€å‘ã€å°é¡¹ç›®ã€åŸå‹</td><td>âŒ</td><td>âŒï¼ˆé»˜è®¤é›†æˆ UIï¼‰</td><td>âŒ</td><td>âŒ</td></tr><tr><td>2ï¸âƒ£</td><td><strong>åˆ†å±‚ Web åº”ç”¨</strong> (Layered Web App)</td><td>é¢†åŸŸã€åº”ç”¨ã€æ¥å£ã€EFCore å±‚åˆ†ç¦»</td><td>ä¸­å¤§å‹é¡¹ç›®ï¼Œæ¸…æ™°æ¶æ„</td><td>âœ…</td><td>âŒï¼ˆé»˜è®¤é›†æˆ UIï¼‰</td><td>âœ…</td><td>âŒ</td></tr><tr><td>3ï¸âƒ£</td><td><strong>æ¨¡å—é¡¹ç›®</strong> (Module Project)</td><td>å¯å¤ç”¨ã€å¯ç§»æ¤ã€å¯å‘å¸ƒä¸º NuGet æ¨¡å—</td><td>å…¬å…±æœåŠ¡æ¨¡å—ã€ç»„ä»¶åº“</td><td>âœ…</td><td>âŒ</td><td>âœ…ï¼ˆä¸“ä¸ºæ¨¡å—å¼€å‘ï¼‰</td><td>âŒ</td></tr><tr><td>4ï¸âƒ£</td><td><strong>å¾®æœåŠ¡è§£å†³æ–¹æ¡ˆ</strong> (Microservice Solution)</td><td>å¤šæœåŠ¡ã€å¤šæ•°æ®åº“ã€å‰åç«¯åˆ†ç¦»</td><td>å¤§å‹ç³»ç»Ÿã€åˆ†å¸ƒå¼éƒ¨ç½²</td><td>âœ…</td><td>âœ…ï¼ˆUI ç‹¬ç«‹ï¼‰</td><td>âœ…</td><td>âœ…</td></tr></tbody></table>
<h3 data-id="heading-7">å‰ç«¯React</h3>
<pre><code class="hljs language-ruby" lang="ruby">å‰ç«¯<span class="hljs-title class_">React</span>+<span class="hljs-title class_">Vite</span>æ‰‹è„šæ¶

/<span class="hljs-regexp">/Reactå®˜ç½‘
https:/</span><span class="hljs-regexp">/zh-hans.react.dev/learn</span><span class="hljs-regexp">/creating-a-react-app

/</span><span class="hljs-regexp">/Viteå®˜ç½‘
https:/</span><span class="hljs-regexp">/vitejs.cn/vite</span>5-cn/
</code></pre>
<h4 data-id="heading-8">ğŸŒˆä½¿ç”¨Viteåˆ›å»º</h4>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">//ä½¿ç”¨Viteæ‰‹è„šæ¶åˆ›å»ºReact+TypeScripté¡¹ç›®</span>


<span class="hljs-attr">cmd</span>:

<span class="hljs-attr">D</span>:\<span class="hljs-title class_">AppWmcsServer</span>&gt;npm create vite@latest
&gt; npx
&gt; create-vite

|
o  <span class="hljs-title class_">Project</span> <span class="hljs-attr">name</span>:						<span class="hljs-comment">//é¡¹ç›®å</span>
|  react-web
|
o  <span class="hljs-title class_">Select</span> a <span class="hljs-attr">framework</span>:   				<span class="hljs-comment">//æ¡†æ¶</span>
|  <span class="hljs-title class_">React</span>
|
o  <span class="hljs-title class_">Select</span> a <span class="hljs-attr">variant</span>:   					<span class="hljs-comment">//é€‰æ‹©ä¸€ç§ç‰ˆæœ¬</span>
|  <span class="hljs-title class_">TypeScript</span> + <span class="hljs-variable constant_">SWC</span>
|
o  <span class="hljs-title class_">Use</span> rolldown-vite (<span class="hljs-title class_">Experimental</span>)?:  	<span class="hljs-comment">//æ˜¯å¦ä½¿ç”¨å®éªŒæ€§åŠŸèƒ½,å¦</span>
|  <span class="hljs-title class_">No</span>
|
o  <span class="hljs-title class_">Install</span> <span class="hljs-keyword">with</span> npm and start now?   	<span class="hljs-comment">//æ˜¯å¦å®‰è£…ä¾èµ–,å¦</span>
|  <span class="hljs-title class_">No</span>
|
o  <span class="hljs-title class_">Scaffolding</span> project <span class="hljs-keyword">in</span> <span class="hljs-attr">D</span>:\<span class="hljs-title class_">AppWmcsServer</span>\react-web...
|
â€”  <span class="hljs-title class_">Done</span>. <span class="hljs-title class_">Now</span> <span class="hljs-attr">run</span>:

  cd react-web
  npm install
  npm run dev
<span class="hljs-attr">D</span>:\0App\<span class="hljs-title class_">ResourceCenter</span>\2App\<span class="hljs-title class_">AppWmcsServer</span>&gt;


<span class="hljs-comment">//TypeScript + SWC:</span>
<span class="hljs-comment">//ä½¿ç”¨ TypeScript è¯­è¨€ç¼–å†™é¡¹ç›®ä»£ç </span>
<span class="hljs-comment">//ä½¿ç”¨ SWC ä½œä¸ºæ„å»ºæ—¶çš„ç¼–è¯‘å™¨ï¼ˆæ›¿ä»£ Babel æˆ– TSCï¼‰å°†.tsã€.tsx æ–‡ä»¶ä¼šè¢« SWC ç¼–è¯‘ä¸º JavaScriptï¼Œé€Ÿåº¦æ¯”ç”¨ Babel å¿«å¾ˆå¤š</span>
</code></pre>
<h4 data-id="heading-9">é¡¹ç›®ç»“æ„</h4>
<pre><code class="hljs language-csharp" lang="csharp">react-web/
â”œâ”€â”€ node_modules/       <span class="hljs-meta"># å­˜æ”¾é¡¹ç›®çš„ä¾èµ–åŒ…ï¼Œç”± npm æˆ– yarn è‡ªåŠ¨ç”Ÿæˆï¼Œä¸éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ã€‚</span>
â”œâ”€â”€ <span class="hljs-keyword">public</span>/             <span class="hljs-meta"># å­˜æ”¾å…¬å…±èµ„æºæ–‡ä»¶ï¼Œç›´æ¥å¤åˆ¶åˆ°æœ€ç»ˆæ„å»ºçš„è¾“å‡ºä¸­ã€‚</span>
â”‚   â””â”€â”€ favicon.ico     <span class="hljs-meta"># é¡¹ç›®çš„å›¾æ ‡æ–‡ä»¶ï¼Œé€šå¸¸æ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡ç­¾é¡µä¸­ã€‚</span>
â”œâ”€â”€ index.html      	<span class="hljs-meta"># é¡¹ç›®çš„å…¥å£ HTML æ–‡ä»¶ã€‚Vite ä»¥æ­¤æ–‡ä»¶ä¸ºåŸºç¡€ç”Ÿæˆæœ€ç»ˆçš„é¡µé¢ã€‚</span>
â”œâ”€â”€ src/                <span class="hljs-meta"># æºä»£ç ç›®å½•ï¼Œå­˜æ”¾ä¸»è¦çš„å¼€å‘æ–‡ä»¶ã€‚</span>
â”‚   â”œâ”€â”€ assets/         <span class="hljs-meta"># å­˜æ”¾é™æ€èµ„æºæ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡ã€å­—ä½“ç­‰ã€‚</span>
â”‚   â”œâ”€â”€ components/     <span class="hljs-meta"># å­˜æ”¾å¯å¤ç”¨çš„ React ç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶å¯ä»¥ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•ã€‚</span>
â”‚   â”œâ”€â”€ pages/          <span class="hljs-meta"># å­˜æ”¾é¡µé¢çº§ç»„ä»¶ï¼Œæ¯ä¸ªé¡µé¢ä»£è¡¨ä¸€ä¸ªè·¯ç”±æˆ–å®Œæ•´åŠŸèƒ½æ¨¡å—ã€‚</span>
â”‚   â”œâ”€â”€ App.tsx         <span class="hljs-meta"># ä¸»åº”ç”¨ç»„ä»¶ï¼Œé€šå¸¸åŒ…å«è·¯ç”±å’Œå…¨å±€çŠ¶æ€ç®¡ç†çš„å†…å®¹ã€‚</span>
â”‚   â”œâ”€â”€ main.tsx        <span class="hljs-meta"># é¡¹ç›®çš„å…¥å£æ–‡ä»¶ï¼Œç”¨äºæ¸²æŸ“æ ¹ç»„ä»¶å¹¶æŒ‚è½½åˆ° DOM ä¸Šã€‚</span>
â”‚   â””â”€â”€ vite-env.d.ts   <span class="hljs-meta"># ä¸º Vite ç‰¹å®šçš„ TypeScript ç±»å‹å£°æ˜æ–‡ä»¶ï¼Œæ–¹ä¾¿å¼€å‘æ—¶çš„ç±»å‹æ£€æŸ¥ã€‚</span>
â”œâ”€â”€ tsconfig.json       <span class="hljs-meta"># è¿™æ˜¯ TypeScript é¡¹ç›®çš„æ ¹é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†å…¨å±€çš„ TypeScript ç¼–è¯‘é€‰é¡¹</span>
â”œâ”€â”€ tsconfig.app.json   <span class="hljs-meta">#è¿™ä¸ªæ–‡ä»¶æ˜¯ç‰¹å®šäºåº”ç”¨çš„ TypeScript é…ç½®æ–‡ä»¶    </span>
â”œâ”€â”€ tsconfig.node.json  <span class="hljs-meta">#è¿™ä¸ªæ–‡ä»¶ä¸“é—¨ä¸º Node.js ç¯å¢ƒé…ç½® TypeScriptã€‚     </span>
â”œâ”€â”€ vite.config.ts      <span class="hljs-meta"># Vite çš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºè‡ªå®šä¹‰å¼€å‘æœåŠ¡å™¨ã€æ’ä»¶å’Œæ„å»ºæµç¨‹ã€‚</span>
â”œâ”€â”€ package.json        <span class="hljs-meta"># é¡¹ç›®çš„å…ƒæ•°æ®æ–‡ä»¶ï¼ŒåŒ…å«é¡¹ç›®ä¾èµ–ã€è„šæœ¬å’ŒåŸºæœ¬ä¿¡æ¯ã€‚</span>
â”œâ”€â”€ .eslintrc.cjs       <span class="hljs-meta"># ESLint çš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºè§„èŒƒä»£ç é£æ ¼å’ŒæŸ¥æ‰¾æ½œåœ¨é—®é¢˜ã€‚</span>
â”œâ”€â”€ .gitignore          <span class="hljs-meta"># å®šä¹‰ Git ä¸éœ€è¦è¿½è¸ªçš„æ–‡ä»¶å’Œç›®å½•ã€‚</span>
â””â”€â”€ README.md           <span class="hljs-meta"># è‡ªè¿°æ–‡ä»¶é¡¹ç›®çš„è¯´æ˜æ–‡æ¡£ï¼ŒåŒ…å«é¡¹ç›®ç®€ä»‹ã€ä½¿ç”¨è¯´æ˜å’Œè´¡çŒ®æŒ‡å—ã€‚</span>
</code></pre>
<h2 data-id="heading-10">2.é¡¹ç›®åˆå§‹åŒ–</h2>
<pre><code class="hljs">å°†é¡¹ç›®æ¨¡æ¿ç»“æ„ä¸éœ€è¦çš„æ–‡ä»¶ä¿®æ”¹åˆ é™¤è°ƒæ•´
</code></pre>
<h3 data-id="heading-11">2.1 ABP</h3>
<h4 data-id="heading-12">åˆå§‹åŒ–Serilogæ—¥å¿—</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">async</span> Task&lt;<span class="hljs-built_in">int</span>&gt; <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
    {
        Log.Logger = <span class="hljs-keyword">new</span> LoggerConfiguration()
<span class="hljs-meta">#<span class="hljs-keyword">if</span> DEBUG</span>
            .MinimumLevel.Debug()
<span class="hljs-meta">#<span class="hljs-keyword">else</span></span>
            .MinimumLevel.Information()
<span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
            .MinimumLevel.Override(<span class="hljs-string">"Microsoft"</span>, LogEventLevel.Information)
            .MinimumLevel.Override(<span class="hljs-string">"Microsoft.EntityFrameworkCore"</span>, LogEventLevel.Warning)
            .Enrich.FromLogContext()
            .WriteTo.Async(c =&gt; c.File(
                <span class="hljs-string">"Logs/log-.log"</span>,
                rollingInterval: RollingInterval.Day,
                rollOnFileSizeLimit: <span class="hljs-literal">true</span>,
                fileSizeLimitBytes: <span class="hljs-number">1L</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> / <span class="hljs-number">2</span>, <span class="hljs-comment">// 500MB</span>
                retainedFileCountLimit: <span class="hljs-number">10</span>,
                shared: <span class="hljs-literal">true</span>
            ))
<span class="hljs-meta">#<span class="hljs-keyword">if</span> DEBUG  //debugæ—¶æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°</span>
            .WriteTo.Async(c =&gt; c.Console())
<span class="hljs-meta">#<span class="hljs-keyword">endif</span>    //æ—¥å¿—è¾“å‡ºæ–‡ä»¶ä¸­</span>
            .CreateLogger();       

        <span class="hljs-keyword">try</span>
        {
           <span class="hljs-comment">//#çœç•¥...</span>
        }
    }
</code></pre>
<blockquote>
<p><strong>è§£æ</strong></p>
</blockquote>
<pre><code class="hljs language-vbnet" lang="vbnet">Serilog æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½ã€ç®€å•çš„æ—¥å¿—åº“ï¼Œç”¨äºè®°å½•åº”ç”¨ç¨‹åºçš„æ—¥å¿—ã€‚å®ƒæ”¯æŒä¸°å¯Œçš„è¾“å‡ºæ–¹å¼ï¼ˆæ§åˆ¶å°ã€æ–‡ä»¶ã€æ•°æ®åº“ç­‰ï¼‰ï¼Œå¹¶ä¸”å…è®¸åŠ¨æ€é…ç½®æ—¥å¿—çº§åˆ«ã€‚

.MinimumLevel.Debug() å’Œ .MinimumLevel.Information()ï¼šè¿™ä¸¤è¡Œä»£ç è®¾ç½®æ—¥å¿—çš„æœ€å°çº§åˆ«ã€‚åœ¨ Debug æ¨¡å¼ä¸‹ï¼Œæ—¥å¿—çº§åˆ«è®¾ç½®ä¸º Debugï¼Œè¿™æ„å‘³ç€æ‰€æœ‰çº§åˆ«çš„æ—¥å¿—éƒ½ä¼šè¢«è®°å½•ï¼ˆåŒ…æ‹¬ Debugã€Informationã€Warning ç­‰ï¼‰ã€‚åœ¨ Release æ¨¡å¼ä¸‹ï¼Œæ—¥å¿—çº§åˆ«è®¾ç½®ä¸º Informationï¼Œè¡¨ç¤ºåªè®°å½• Information çº§åˆ«åŠæ›´é«˜ä¸¥é‡çº§åˆ«çš„æ—¥å¿—ã€‚

.MinimumLevel.Override(<span class="hljs-string">"Microsoft"</span>, LogEventLevel.Information)ï¼šè¿™è¡Œä»£ç è¦†ç›–äº† Microsoft å‘½åç©ºé—´çš„æ—¥å¿—çº§åˆ«ï¼Œè®¾ç½®ä¸º Informationã€‚è¿™æ ·å°±ä¸ä¼šè®°å½• Microsoft ç›¸å…³çš„è°ƒè¯•ä¿¡æ¯ï¼Œå‡å°‘æ—¥å¿—å†—ä½™ã€‚

.WriteTo.<span class="hljs-keyword">Async</span>(...)ï¼šè¿™é‡Œçš„ WriteTo é…ç½®å®šä¹‰äº†æ—¥å¿—çš„è¾“å‡ºæ–¹å¼ã€‚<span class="hljs-keyword">Async</span> æ˜¯æŒ‡æ—¥å¿—ä¼šå¼‚æ­¥å†™å…¥ï¼Œé¿å…å½±å“ä¸»çº¿ç¨‹çš„æ€§èƒ½ã€‚å®ƒé…ç½®äº†ï¼š

Fileï¼šæ—¥å¿—ä¼šå†™å…¥æ–‡ä»¶ã€‚æ—¥å¿—æ–‡ä»¶ä¼šä»¥ Logs/log-.log å‘½åï¼Œå¹¶ä¸”æ—¥å¿—ä¼šæŒ‰å¤©åˆ†å‰²ã€‚

<span class="hljs-symbol">rollingInterval:</span> RollingInterval.Dayï¼šæ¯ä¸€å¤©éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„æ—¥å¿—æ–‡ä»¶ã€‚

<span class="hljs-symbol">rollOnFileSizeLimit:</span> <span class="hljs-literal">true</span>ï¼šå½“æ–‡ä»¶å¤§å°è¶…è¿‡é™åˆ¶æ—¶ï¼Œæ—¥å¿—ä¼šè‡ªåŠ¨æ»šåŠ¨ï¼ˆå³ç”Ÿæˆæ–°çš„æ–‡ä»¶ï¼‰ã€‚

<span class="hljs-symbol">fileSizeLimitBytes:</span> <span class="hljs-number">1L</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> / <span class="hljs-number">2</span>ï¼šæ—¥å¿—æ–‡ä»¶çš„æœ€å¤§å¤§å°ä¸º <span class="hljs-number">500</span>MBã€‚

<span class="hljs-symbol">retainedFileCountLimit:</span> <span class="hljs-number">10</span>ï¼šä¿ç•™æœ€è¿‘çš„ <span class="hljs-number">10</span> ä¸ªæ—¥å¿—æ–‡ä»¶ï¼Œåˆ é™¤æ›´æ—©çš„æ–‡ä»¶ã€‚

<span class="hljs-symbol">shared:</span> <span class="hljs-literal">true</span>ï¼šæ–‡ä»¶å¯è¢«å¤šä¸ªè¿›ç¨‹å…±äº«ã€‚

Console è¾“å‡ºï¼ˆä»…åœ¨ Debug æ¨¡å¼ä¸‹ï¼‰ï¼šå¦‚æœæ˜¯ Debug æ¨¡å¼ï¼Œè¿˜ä¼šè¾“å‡ºæ—¥å¿—åˆ°æ§åˆ¶å°ã€‚è¿™æ ·åœ¨è°ƒè¯•æ—¶å¯ä»¥å¿«é€Ÿçœ‹åˆ°æ—¥å¿—ã€‚
</code></pre>
<h4 data-id="heading-13">åˆå§‹åŒ–é…ç½®æ–‡ä»¶</h4>
<blockquote>
<p>src/AppCoreServer.HttpApi.Host/appsettings.json é¡¹ç›®æ ¹é…ç½®æ–‡ä»¶</p>
</blockquote>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"App"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
       <span class="hljs-comment">//å½“å‰æœåŠ¡è‡ªèº«çš„æ ¹ URLï¼Œå¸¸ç”¨äºæœåŠ¡æ³¨å†Œæˆ–è·³è½¬ï¼ˆOpenIddictã€èº«ä»½è®¤è¯ç­‰åœºæ™¯ï¼‰</span>
    <span class="hljs-attr">"SelfUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44239"</span><span class="hljs-punctuation">,</span>
      
       <span class="hljs-comment">//å…è®¸å“ªäº›å‰ç«¯åŸŸåè¿›è¡Œè·¨åŸŸè®¿é—®ï¼ˆç”¨é€—å·æˆ–åˆ†å·åˆ†éš”ï¼‰æ”¯æŒé€šé…ç¬¦å¦‚ https://*.xxx.com</span>
    <span class="hljs-attr">"CorsOrigins"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://*.AppCoreServer.com"</span><span class="hljs-punctuation">,</span>
      
      <span class="hljs-comment">//ã€Openiddictæä¾›,æˆæƒç æ¨¡å¼å¤‡æ¡ˆåå•ã€‘ç™»å½•å®Œæˆåå…è®¸è·³è½¬çš„ URL ç™½åå•ï¼ˆé˜²æ­¢é‡å®šå‘æ”»å‡»ï¼‰å¯è®¾ç½®ä¸º https://yourfrontend.com</span>
    <span class="hljs-attr">"RedirectAllowedUrls"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">""</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
    <span class="hljs-comment">//åˆå§‹é…ç½®é“¾æ¥å­—ç¬¦ä¸²,EFcoreé»˜è®¤ä½¿ç”¨Defaultå­—ç¬¦ä¸²</span>
  <span class="hljs-attr">"ConnectionStrings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Server=.;Database=AppCoreServer;uid=sa;pwd=sa;TrustServerCertificate=True"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">//è®¤è¯é…ç½®ï¼Œè§ä¸‹æ–‡OpenIdDictè®¤è¯æˆæƒ</span>
  <span class="hljs-attr">"AuthServer"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Authority"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44239"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"RequireHttpsMetadata"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"SwaggerClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_Swagger"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
  <span class="hljs-attr">"StringEncryption"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"DefaultPassPhrase"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"WVtuUXdarYDdaFZp"</span><span class="hljs-comment">//ç¼–ç å¯†é’¥ï¼Œç”¨äºä¸€äº›ç¼–ç æœåŠ¡</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>src/AppCoreServer.DbMigrator/appsettings.json é¡¹ç›®è¿ç§»é…ç½®</p>
</blockquote>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
    <span class="hljs-comment">//è¿ç§»åœ°å€</span>
  <span class="hljs-attr">"ConnectionStrings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
     <span class="hljs-attr">"Default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Server=.;Database=AppCoreServer;uid=sa;pwd=sa;TrustServerCertificate=True"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    
  <span class="hljs-attr">"Redis"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Configuration"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"127.0.0.1"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-comment">//OpenIddictè®¤è¯æ¨¡å¼é…ç½®</span>
  <span class="hljs-attr">"OpenIddict"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Applications"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"AppCoreServer_Web"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_Web"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1q2w3e*"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44320"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"AppCoreServer_App"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_App"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://localhost:4200"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"AppCoreServer_BlazorServerTiered"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_BlazorServerTiered"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1q2w3e*"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44345"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"AppCoreServer_BlazorWebAppTiered"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_BlazorWebAppTiered"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1q2w3e*"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44345"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"AppCoreServer_Swagger"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_Swagger"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44355"</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<blockquote>
<p>launchSettings.json</p>
</blockquote>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">//aspnet-core\src\AppCoreServer.HttpApi.Host\Properties\launchSettings.json</span>
è¿è¡Œé…ç½®æ–‡ä»¶<span class="hljs-punctuation">,</span>ç”¨äºå¼€å‘æ—¶çš„ç«¯å£ç›‘å¬é…ç½®<span class="hljs-punctuation">,</span>å¸¸ç”¨äºç¼–è¾‘å™¨é…ç½®å¯åŠ¨ç¼–è¯‘<span class="hljs-punctuation">,</span>éƒ¨ç½²æ—¶å¿½ç•¥.

 <span class="hljs-attr">"applicationUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:44239"</span><span class="hljs-comment">//åœ°å€è·ŸApp:SelfUrlä¿æŒä¸€è‡´</span>
</code></pre>























<table><thead><tr><th>å¯åŠ¨æ–¹å¼</th><th>ä½¿ç”¨é…ç½®</th><th>åº•å±‚å®¿ä¸»</th><th>å¯åŠ¨è¡Œä¸º</th></tr></thead><tbody><tr><td><code>IIS Express</code></td><td><code>iisExpress.applicationUrl</code></td><td><strong>IIS Express è¿›ç¨‹ (<code>iisexpress.exe</code>)</strong></td><td>é€šè¿‡ VS æˆ–å‘½ä»¤è°ƒç”¨ <code>iisexpress.exe</code> å¯åŠ¨é¡¹ç›®ï¼Œä¸æ˜¯ç”¨ <code>dotnet run</code></td></tr><tr><td><code>Kestrel</code>ï¼ˆdotnet runï¼‰</td><td><code>applicationUrl</code></td><td><strong>Kestrel æœåŠ¡å™¨ (<code>dotnet</code>)</strong></td><td>ä½¿ç”¨ <code>dotnet run</code> å¯åŠ¨ç¨‹åºï¼Œå³è°ƒç”¨ <code>.dll</code> æ–‡ä»¶è¿è¡Œ</td></tr></tbody></table>
<h3 data-id="heading-14">2.2 React</h3>
<h4 data-id="heading-15">ğŸŒˆè°ƒæ•´ï¼š</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">//æ–°å»ºsrc/view/Appç›®å½•</span>
	
view/App
â”œâ”€â”€App.tsx
â””â”€â”€App.css



<span class="hljs-comment">//ä¿®æ”¹App.tsx:</span>
const App<span class="hljs-punctuation">:</span> React.FC = () =&gt; <span class="hljs-punctuation">{</span>
    return(
        &lt;StrictMode&gt;
      
        &lt;/StrictMode&gt;
    )
<span class="hljs-punctuation">}</span>


<span class="hljs-comment">//ä¿®æ”¹main.tsx:</span>
createRoot(document.getElementById('root')!).render(
    &lt;App/&gt;
)


<span class="hljs-comment">//å¦‚ä¸Šï¼Œmain.tsxä½œä¸ºæ ¹ç›®å½•å…¥å£æ–‡ä»¶ï¼ŒApp.tsxä½œä¸ºå…¨å±€é…ç½®æ¥æ•´ç†é¡¹ç›®</span>
</code></pre>
<blockquote>
<p>StrictMode:</p>
</blockquote>
<pre><code class="hljs language-swift" lang="swift"><span class="hljs-operator">&lt;</span><span class="hljs-type">StrictMode</span><span class="hljs-operator">&gt;</span> æ˜¯ <span class="hljs-type">React</span> æä¾›çš„ä¸€ç§å·¥å…·ï¼Œç”¨æ¥æ£€æµ‹åº”ç”¨ä¸­çš„æ½œåœ¨é—®é¢˜<span class="hljs-operator">ã€‚</span>å®ƒä¸ä¼šæ¸²æŸ“ä»»ä½•å¯è§çš„ <span class="hljs-type">UIï¼Œåªæ˜¯å¯¹å…¶å­ç»„ä»¶æ‰§è¡Œé¢å¤–çš„æ£€æŸ¥å’Œè­¦å‘Šï¼Œå¸®åŠ©å¼€å‘è€…ç¼–å†™æ›´å¥å£®çš„ä»£ç </span><span class="hljs-operator">ã€‚</span>

ä¸»è¦åŠŸèƒ½
æ£€æµ‹åºŸå¼ƒçš„ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼šä¾‹å¦‚ componentWillMount<span class="hljs-operator">ã€</span>componentWillReceiveProps<span class="hljs-operator">ã€‚</span>
è¯†åˆ«ä¸å®‰å…¨çš„æ“ä½œï¼šæ¯”å¦‚ findDOMNode çš„ä½¿ç”¨<span class="hljs-operator">ã€‚</span>
æ£€æŸ¥æ„å¤–çš„å‰¯ä½œç”¨ï¼š<span class="hljs-type">React</span> ä¼šåœ¨å¼€å‘ç¯å¢ƒä¸‹å¯¹ç»„ä»¶çš„ render å’Œ useEffect ç­‰è¿›è¡Œä¸¤æ¬¡è°ƒç”¨ï¼Œä»¥å¸®åŠ©è¯†åˆ«æ½œåœ¨çš„å‰¯ä½œç”¨<span class="hljs-operator">ã€‚</span>
å¼ºåˆ¶æ›´ä¸¥æ ¼çš„æ¨¡å¼ï¼šæé†’å¼€å‘è€…é‡‡ç”¨ <span class="hljs-type">React</span> æ¨èçš„æœ€ä½³å®è·µ<span class="hljs-operator">ã€‚</span>
</code></pre>
<h2 data-id="heading-16">3.åŸºç¡€æ„å»º</h2>
<h3 data-id="heading-17">3.1 åç«¯è·¨åŸŸ</h3>
<h4 data-id="heading-18">ğŸŒˆæ“ä½œ</h4>
<pre><code class="hljs language-c#" lang="c#">   <span class="hljs-string">"App"</span>: {
    <span class="hljs-string">"SelfUrl"</span>: <span class="hljs-string">"https://localhost:55555"</span>,
    <span class="hljs-string">"CorsOrigins"</span>: <span class="hljs-string">"https://*.ServerApp.com"</span>
        
 	<span class="hljs-comment">//æ·»åŠ äº†å…è®¸å…¨éƒ¨</span>
	<span class="hljs-string">"AllowAnyOrigin"</span>: <span class="hljs-string">"true"</span>
  },
 
 context.Services.AddCors(options =&gt;
        {
            options.AddDefaultPolicy(builder =&gt;
            {
                builder
                    .WithAbpExposedHeaders()
                    .SetIsOriginAllowedToAllowWildcardSubdomains()
                    .AllowAnyHeader()
                    .AllowAnyMethod().AllowCredentials().WithExposedHeaders(<span class="hljs-string">"x-elsa-workflow-instance-id"</span>);

                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">bool</span>.Parse(configuration[<span class="hljs-string">"App:AllowAnyOrigin"</span>] ?? <span class="hljs-string">"false"</span>))
                {
                    <span class="hljs-comment">//å…è®¸å…¨éƒ¨</span>
                    builder.SetIsOriginAllowed(_ =&gt; <span class="hljs-literal">true</span>);
                }
                <span class="hljs-keyword">else</span>
                {
                    <span class="hljs-comment">//å¦åˆ™æŒ‰ç…§CorsOriginså…è®¸çš„æ¥</span>
                    builder
                        .WithOrigins(
                            (configuration[<span class="hljs-string">"App:CorsOrigins"</span>] ?? <span class="hljs-string">""</span>)
                            .Split(<span class="hljs-string">","</span>, StringSplitOptions.RemoveEmptyEntries)
                            .Select(o =&gt; o.RemovePostFix(<span class="hljs-string">"/"</span>))
                            .ToArray()
                        );
                }
            });
        });
</code></pre>
<h3 data-id="heading-19">3.2 OpenIddictæˆæƒè®¤è¯</h3>
<h4 data-id="heading-20">é…ç½®å®¢æˆ·ç«¯</h4>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">//aspnet-core\src\AppCoreServer.DbMigrator\appsettings.json è¿ç§»æ–‡ä»¶é…ç½®</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"ConnectionStrings"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Default"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Server=.;Database=AppCoreServer;uid=sa;pwd=sa;TrustServerCertificate=True"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"OpenIddict"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"Applications"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"AppCoreServer_Swagger"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_Swagger"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"RootUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://localhost:55319"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-comment">//æ–°å¢APPå†…éƒ¨å®¢æˆ·ç«¯,ä½¿ç”¨å¯†ç æ¨¡å¼</span>
        <span class="hljs-attr">"AppCoreServer_App"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_App"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"1q2w3E*"</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-comment">//æ–°å¢ç¬¬ä¸‰æ–¹è®¿é—®å®¢æˆ·ç«¯,ä½¿ç”¨æˆæƒç æ¨¡å¼</span>
      <span class="hljs-attr">"AppCoreServer_ExternalSystems"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"ClientId"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AppCoreServer_ExternalSystems"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"ClientSecret"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ExternalSystems_API"</span>
      <span class="hljs-punctuation">}</span>
      
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-21">åˆ›å»ºå®¢æˆ·ç«¯</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-keyword">namespace</span> <span class="hljs-title">AppCoreServer.OpenIddict</span>;

<span class="hljs-comment">/* Creates initial data that is needed to property run the application
 * and make client-to-server communication possible.
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">OpenIddictDataSeedContributor</span> : <span class="hljs-title">IDataSeedContributor</span>, <span class="hljs-title">ITransientDependency</span>
{
   <span class="hljs-comment">//...çœç•¥</span>

    [<span class="hljs-meta">UnitOfWork</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">SeedAsync</span>(<span class="hljs-params">DataSeedContext context</span>)</span>
    {
        <span class="hljs-keyword">await</span> CreateScopesAsync();
        <span class="hljs-keyword">await</span> CreateApplicationsAsync();
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">CreateScopesAsync</span>()</span>
    {
        <span class="hljs-comment">//æ¡†æ¶é»˜è®¤åˆ›å»º</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> _openIddictScopeRepository.FindByNameAsync(<span class="hljs-string">"AppCoreServer"</span>) == <span class="hljs-literal">null</span>)
        {
            <span class="hljs-keyword">await</span> _scopeManager.CreateAsync(<span class="hljs-keyword">new</span> OpenIddictScopeDescriptor {
                Name = <span class="hljs-string">"AppCoreServer"</span>, DisplayName = <span class="hljs-string">"AppCoreServer API"</span>, Resources = { <span class="hljs-string">"AppCoreServer"</span> }
            });
        }
        
        <span class="hljs-comment">//åˆ›å»ºç¬¬ä¸‰æ–¹è®¿é—®å®¢æˆ·ç«¯</span>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> _openIddictScopeRepository.FindByNameAsync(<span class="hljs-string">"ExternalSystems"</span>) == <span class="hljs-literal">null</span>)
        {
            <span class="hljs-keyword">await</span> _scopeManager.CreateAsync(<span class="hljs-keyword">new</span> OpenIddictScopeDescriptor {
                Name = <span class="hljs-string">"ExternalSystems"</span>, DisplayName = <span class="hljs-string">"ExternalSystems API"</span>, Resources = { <span class="hljs-string">"ExternalSystems"</span> }
            });
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">CreateApplicationsAsync</span>()</span>
    {
        
     <span class="hljs-comment">// âœ… é€šç”¨ Scopeï¼ˆæ‰€æœ‰å®¢æˆ·ç«¯éƒ½èƒ½ç”¨çš„ï¼‰</span>
    <span class="hljs-keyword">var</span> commonScopes = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
    {
        OpenIddictConstants.Permissions.Scopes.Address,
        OpenIddictConstants.Permissions. Scopes.Email,
        OpenIddictConstants.Permissions. Scopes.Phone,
        OpenIddictConstants.Permissions.Scopes.Profile,
        OpenIddictConstants. Permissions.Scopes.Roles,
        <span class="hljs-string">"AppCoreServer"</span>,  <span class="hljs-comment">// ä¸» API çš„ Scope</span>
        <span class="hljs-string">"ExternalSystems"</span>
    };

    <span class="hljs-keyword">var</span> configurationSection = _configuration.GetSection(<span class="hljs-string">"OpenIddict:Applications"</span>);

    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-comment">// 1ï¸âƒ£ Swagger å®¢æˆ·ç«¯ï¼ˆå…¬å…±å®¢æˆ·ç«¯ + æˆæƒç æ¨¡å¼ï¼‰</span>
    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-keyword">var</span> swaggerClientId = configurationSection[<span class="hljs-string">"AppCoreServer_Swagger: ClientId"</span>];
    <span class="hljs-keyword">if</span> (!swaggerClientId.IsNullOrWhiteSpace())
    {
        <span class="hljs-keyword">var</span> swaggerRootUrl = configurationSection[<span class="hljs-string">"AppCoreServer_Swagger:RootUrl"</span>]?.TrimEnd(<span class="hljs-string">'/'</span>);

        <span class="hljs-keyword">await</span> CreateApplicationAsync(
            name: swaggerClientId!,
            type: OpenIddictConstants.ClientTypes.Public,  <span class="hljs-comment">// âœ… å…¬å…±å®¢æˆ·ç«¯</span>
            consentType: OpenIddictConstants.ConsentTypes.Implicit,  <span class="hljs-comment">// âœ… è‡ªåŠ¨åŒæ„</span>
            displayName: <span class="hljs-string">"Swagger Application"</span>,
            secret: <span class="hljs-literal">null</span>,  <span class="hljs-comment">// âœ… å…¬å…±å®¢æˆ·ç«¯ä¸éœ€è¦ Secret</span>
            grantTypes: <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
            {
                OpenIddictConstants.GrantTypes.AuthorizationCode  <span class="hljs-comment">// âœ… æˆæƒç æ¨¡å¼</span>
            },
            scopes: commonScopes,
            redirectUri: <span class="hljs-string">$"<span class="hljs-subst">{swaggerRootUrl}</span>/swagger/oauth2-redirect.html"</span>,
            clientUri: swaggerRootUrl
        );
    }

    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-comment">// 2ï¸âƒ£ App å®¢æˆ·ç«¯ï¼ˆå†…éƒ¨ç½‘é¡µ/ç§»åŠ¨ç«¯ + å¯†ç æ¨¡å¼ï¼‰</span>
    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-keyword">var</span> appClientId = configurationSection[<span class="hljs-string">"AppCoreServer_App:ClientId"</span>];
    <span class="hljs-keyword">if</span> (!appClientId. IsNullOrWhiteSpace())
    {
        <span class="hljs-keyword">var</span> appClientSecret = configurationSection[<span class="hljs-string">"AppCoreServer_App:ClientSecret"</span>];  <span class="hljs-comment">// âœ… ä»é…ç½®è¯»å– Secret</span>

        <span class="hljs-keyword">await</span> CreateApplicationAsync(
            name: appClientId!,
            type: OpenIddictConstants.ClientTypes. Public,
            consentType:  OpenIddictConstants.ConsentTypes.Implicit,  <span class="hljs-comment">// âœ… è‡ªåŠ¨åŒæ„ï¼ˆå†…éƒ¨ç³»ç»Ÿï¼‰</span>
            displayName: <span class="hljs-string">"App Application"</span>,
            secret: <span class="hljs-literal">null</span>,
            grantTypes: <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
            {
                OpenIddictConstants.GrantTypes.Password,  <span class="hljs-comment">// âœ… å¯†ç æ¨¡å¼</span>
                OpenIddictConstants.GrantTypes.RefreshToken  <span class="hljs-comment">// âœ… æ”¯æŒåˆ·æ–°ä»¤ç‰Œ</span>
            },
            scopes: commonScopes,
            redirectUri: <span class="hljs-literal">null</span>, 
            clientUri: <span class="hljs-literal">null</span>
        );
    }

    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-comment">// 3ï¸âƒ£ ç¬¬ä¸‰æ–¹ç³»ç»Ÿå®¢æˆ·ç«¯ï¼ˆæœºå¯†å®¢æˆ·ç«¯ + å®¢æˆ·ç«¯å‡­è¯æ¨¡å¼ï¼‰</span>
    <span class="hljs-comment">// â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”</span>
    <span class="hljs-keyword">var</span> externalSystemsClientId = configurationSection[<span class="hljs-string">"AppCoreServer_ExternalSystems:ClientId"</span>];
    <span class="hljs-keyword">if</span> (!externalSystemsClientId.IsNullOrWhiteSpace())
    {
        <span class="hljs-keyword">var</span> externalSystemsSecret = configurationSection[<span class="hljs-string">"AppCoreServer_ExternalSystems:ClientSecret"</span>];  <span class="hljs-comment">// âœ… è¯»å– Secret</span>

        <span class="hljs-comment">// âœ… ç¬¬ä¸‰æ–¹ç³»ç»Ÿä¸“ç”¨ Scope</span>
        <span class="hljs-keyword">var</span> externalScopes = <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
        {
            <span class="hljs-string">"ExternalSystems"</span>  <span class="hljs-comment">// âœ… åªèƒ½è®¿é—®å¤–éƒ¨ç³»ç»Ÿ API</span>
        };
        <span class="hljs-keyword">await</span> CreateApplicationAsync(
            name: externalSystemsClientId!,
            type: OpenIddictConstants.ClientTypes.Confidential,  <span class="hljs-comment">// âœ… æœºå¯†å®¢æˆ·ç«¯</span>
            consentType: OpenIddictConstants. ConsentTypes.Implicit,  <span class="hljs-comment">// âœ… ä¸éœ€è¦ç”¨æˆ·ç¡®è®¤</span>
            displayName: <span class="hljs-string">"External Systems Application"</span>, 
            secret:  externalSystemsSecret,  <span class="hljs-comment">// âœ… å¿…é¡»é…ç½® Secret</span>
            grantTypes: <span class="hljs-keyword">new</span> List&lt;<span class="hljs-built_in">string</span>&gt;
            {
                OpenIddictConstants.GrantTypes.ClientCredentials  <span class="hljs-comment">// âœ… å®¢æˆ·ç«¯å‡­è¯æ¨¡å¼ï¼ˆæ¨èï¼‰</span>
            },
            scopes: externalScopes, 
            redirectUri: <span class="hljs-literal">null</span>, 
            clientUri: <span class="hljs-literal">null</span>
        );
    }
        
    }
}

</code></pre>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">SeedAsync</span>(<span class="hljs-params">DataSeedContext context</span>)</span>
{
    <span class="hljs-keyword">await</span> CreateScopesAsync();
    <span class="hljs-keyword">await</span> CreateApplicationsAsync();

    <span class="hljs-comment">//ä¸»åŠ¨ç»™adminè§’è‰²æ·»åŠ å…¨éƒ¨æƒé™</span>
    <span class="hljs-keyword">var</span> allPermissions =(<span class="hljs-keyword">await</span> _permissionDefinitionManager.GetPermissionsAsync()).Select(p =&gt; p.Name);
    <span class="hljs-keyword">await</span> _permissionDataSeeder.SeedAsync(<span class="hljs-string">"R"</span>,<span class="hljs-string">"admin"</span>,allPermissions);
}
</code></pre>
<h4 data-id="heading-22">æ‰§è¡Œè¿ç§»</h4>
<p>OpenIddict ä½¿ç”¨ 4 å¼ æ ¸å¿ƒè¡¨ï¼š</p>






























<table><thead><tr><th>è¡¨å</th><th>ä½œç”¨</th><th>ä¸»è¦å­—æ®µ</th></tr></thead><tbody><tr><td><strong>OpenIddictApplications</strong></td><td>å­˜å‚¨å®¢æˆ·ç«¯åº”ç”¨é…ç½®</td><td>ClientId, ClientSecret, Type, Permissions</td></tr><tr><td><strong>OpenIddictScopes</strong></td><td>å®šä¹‰æƒé™èŒƒå›´</td><td>Name, DisplayName, Resources</td></tr><tr><td><strong>OpenIddictAuthorizations</strong></td><td>è®°å½•ç”¨æˆ·æˆæƒ</td><td>Subjectï¼ˆç”¨æˆ·IDï¼‰, ApplicationId, Scopes</td></tr><tr><td><strong>OpenIddictTokens</strong></td><td>å­˜å‚¨ Token</td><td>Type, Payload, ExpirationDate</td></tr></tbody></table>
<p><strong>è¡¨å…³ç³»</strong>ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown">OpenIddictApplicationsï¼ˆå®¢æˆ·ç«¯ï¼‰
<span class="hljs-code">    â†“ 1: N
OpenIddictAuthorizationsï¼ˆæˆæƒè®°å½•ï¼‰
    â†“ 1:N
OpenIddictTokensï¼ˆTokenï¼‰
</span>
OpenIddictScopesï¼ˆç‹¬ç«‹ï¼Œå®šä¹‰å¯ç”¨çš„ Scopeï¼‰
</code></pre>
<h4 data-id="heading-23">ä¿®æ”¹Tokenç”Ÿæ•ˆæ—¶é—´</h4>
<pre><code class="hljs language-c#" lang="c#">  <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureAuthentication</span>(<span class="hljs-params">ServiceConfigurationContext context</span>)</span>
    {
        context.Services.ForwardIdentityAuthenticationForBearer(OpenIddictValidationAspNetCoreDefaults.AuthenticationScheme);
        context.Services.Configure&lt;AbpClaimsPrincipalFactoryOptions&gt;(options =&gt;
        {
            options.IsDynamicClaimsEnabled = <span class="hljs-literal">true</span>;
        });

      	<span class="hljs-comment">//AddOpenIddictçš„é…ç½®</span>
        context.Services.AddOpenIddict().AddServer(options =&gt;
        {
            <span class="hljs-comment">// â±ï¸ Token ç”Ÿå‘½å‘¨æœŸé…ç½®,12ä¸ªå°æ—¶</span>
            options.SetAccessTokenLifetime(TimeSpan.FromHours(<span class="hljs-number">12</span>));
        });
    }
</code></pre>
<h4 data-id="heading-24">åˆ›å»ºæƒé™</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-comment">//aspnet-core\src\AppCoreServer.Application.Contracts\Permissions</span>
<span class="hljs-comment">// æƒé™å®šä¹‰æä¾›è€…ï¼Œç”¨äºå®šä¹‰æ¨¡å—çš„æƒé™ç»“æ„</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">AppCoreServerPermissionDefinitionProvider</span> : <span class="hljs-title">PermissionDefinitionProvider</span>
{
    <span class="hljs-comment">// é‡å†™ Define æ–¹æ³•ï¼Œåœ¨å…¶ä¸­å®šä¹‰ä½ çš„æƒé™ç»“æ„</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Define</span>(<span class="hljs-params">IPermissionDefinitionContext context</span>)</span>
    {
        <span class="hljs-comment">// æ·»åŠ æƒé™ç»„ï¼ˆç”¨äºå½’ç±»æƒé™ï¼‰ï¼Œç»„åä¸º "frame"</span>
        <span class="hljs-keyword">var</span> myGroup = context.AddGroup(AppCoreServerPermissions.GroupName);

        <span class="hljs-comment">// åœ¨æƒé™ç»„ä¸­æ·»åŠ ä¸€ä¸ªæƒé™ï¼Œæƒé™åä¸º "AppCoreServer.MyPermission1"ï¼Œæ˜¾ç¤ºåç§°ä¸ºâ€œæµ‹è¯•æƒé™â€</span>
        myGroup.AddPermission(AppCoreServerPermissions.MyPermission1, L(<span class="hljs-string">"æµ‹è¯•æƒé™"</span>));
    }

    <span class="hljs-comment">// æœ¬åœ°åŒ–æ–¹æ³•ï¼Œå°†å­—ç¬¦ä¸²åŒ…è£…æˆ LocalizableStringï¼Œç”¨äºå¤šè¯­è¨€æ”¯æŒ</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> LocalizableString <span class="hljs-title">L</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> name</span>)</span>
    {
        <span class="hljs-keyword">return</span> LocalizableString.Create&lt;frameResource&gt;(name);
        <span class="hljs-comment">// frameResource æ˜¯ä½ æ¨¡å—çš„èµ„æºç±»ï¼Œç”¨äºå¤šè¯­è¨€æœ¬åœ°åŒ–</span>
    }
}
</code></pre>
<h4 data-id="heading-25">æ·»åŠ æƒé™</h4>
<pre><code class="hljs language-c#" lang="c#">[<span class="hljs-meta">Authorize(framePermissions.MyPermission1)</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">GetInventory</span>()</span>
{
    <span class="hljs-keyword">await</span> _InventoryRepository.getby();
}


æ­¤æ—¶å¯ä»¥æµ‹è¯•ä¸€ä¸‹swagger Uiï¼Œè¿è¡ŒåæŠ¥é”™<span class="hljs-number">401</span>ï¼Œæ²¡æœ‰ç™»å½•ï¼Œç„¶åæ­¤æ—¶å¯ä»¥åœ¨å³ä¸Šè§’Authorizæ˜¯è§£é”çŠ¶æ€ï¼Œä»¥frame_Swaggerå®¢æˆ·ç«¯ç™»å½•ï¼Œ
client_secret:ä¸ç”¨è¾“å…¥ï¼Œå¦‚æœè¾“å…¥åŒ¹é…ä¸äº†ï¼Œå³ä½¿è¾“å…¥äº†ç™»å½•è´¦æˆ·adminå¯†ç <span class="hljs-number">1</span>q2w3E*ä¹Ÿæ˜¯é”™è¯¯ã€‚ç™»å½•æˆåŠŸå,Authorizæ˜¯é”çŠ¶æ€,å³å¯è®¿é—®æƒé™æ¥å£ã€‚
</code></pre>
<h4 data-id="heading-26">ç”¨æˆ·å¯†ç ç™»å½•</h4>
<p>postmanä¸­å‚æ•°è¦ä½¿ç”¨x-www-form-urlencodedå¡«å†™</p>
<pre><code class="hljs language-shell" lang="shell">curl --location --request POST 'https://localhost:55319/connect/token' \
--header 'User-Agent: Apifox/1.0.0 (https://apifox.com)' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--header 'Accept: */*' \
--header 'Host: localhost:55319' \
--header 'Connection: keep-alive' \
--data-urlencode 'grant_type=password' \
--data-urlencode 'client_id=AppCoreServer_App' \
--data-urlencode 'scope=AppCoreServer' \
--data-urlencode 'username=admin' \
--data-urlencode 'password=1q2w3E*'
</code></pre>
<p>å“åº”</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"access_token"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eyJhbGciOiJSUzI1N...."</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"token_type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Bearer"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"expires_in"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">43199</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-27">æœåŠ¡ç«¯å‡­è¯ç™»å½•</h4>
<pre><code class="hljs language-ini" lang="ini">POST /connect/token
Content-Type:  application/x-www-form-urlencoded

<span class="hljs-attr">grant_type</span>=client_credentials
&amp;<span class="hljs-attr">client_id</span>=AppCoreServer_ExternalSystems
&amp;<span class="hljs-attr">client_secret</span>=ExternalSystems_API
&amp;<span class="hljs-attr">scope</span>=ExternalSystems
</code></pre>
<h4 data-id="heading-28">é˜²ä¼ªä»¤ç‰Œ</h4>
<pre><code class="hljs language-css" lang="css">é—®é¢˜ <span class="hljs-number">1</span>ï¼šABP <span class="hljs-number">9.0</span> å¼€å§‹å¼ºéªŒè¯äº†å—ï¼Ÿ
ç­”ï¼šæ˜¯çš„ï¼ ABP <span class="hljs-number">9.0</span> é»˜è®¤å¼ºåˆ¶éªŒè¯é˜²ä¼ªä»¤ç‰Œï¼Œè¿™æ˜¯å®‰å…¨æ€§å¢å¼ºçš„é‡å¤§å˜æ›´ã€‚

é—®é¢˜ <span class="hljs-number">2</span>ï¼šæ˜¯å¦åªæ¥å— RequestVerificationToken å­—æ®µï¼Ÿ
ç­”ï¼šæ˜¯çš„ï¼ ABP é»˜è®¤åªæ¥å— RequestVerificationToken ä½œä¸º <span class="hljs-selector-tag">Header</span> åç§°ï¼Œx-xsrf-token æ˜¯ä¸è¢«è¯†åˆ«çš„ã€‚

è§£å†³æ–¹æ¡ˆ
æŠŠå‰ç«¯çš„ x-xsrf-token æ”¹æˆ RequestVerificationToken å³å¯ï¼
</code></pre>
<p>åç«¯ç¦ç”¨é˜²ä¼ªä»¤ç‰ŒéªŒè¯</p>
<pre><code class="hljs language-c#" lang="c#">æ³¨å†Œåˆ°æœåŠ¡è¿è¡Œæ—¶ä¸­
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureAntiForgery</span>(<span class="hljs-params">ServiceConfigurationContext context</span>)</span>
{
    context.Services.Configure&lt;AbpAntiForgeryOptions&gt;(options =&gt; { options.AutoValidate = <span class="hljs-literal">false</span>; });
}
</code></pre>
<h3 data-id="heading-29">3.3 å‰ç«¯Viteä»£ç†+Axioså°è£…</h3>
<h4 data-id="heading-30">ğŸŒˆé…ç½®Vite</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">react</span>()],
  <span class="hljs-attr">server</span>: {
  	<span class="hljs-attr">port</span>: <span class="hljs-number">5173</span>, <span class="hljs-comment">// è®¾ç½®å¼€å‘æœåŠ¡å™¨çš„ç«¯å£ä¸º 5173</span>
    <span class="hljs-attr">cors</span>:<span class="hljs-literal">true</span>,
    <span class="hljs-attr">proxy</span>: {
      <span class="hljs-comment">//urlå…³é”®å­—</span>
      <span class="hljs-string">'/api'</span>: {
  		<span class="hljs-attr">target</span>: <span class="hljs-string">"https://localhost:55555/"</span>,  
        <span class="hljs-comment">//æ˜¯å¦è·¨åŸŸ</span>
        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-comment">//ã€æ³¨æ„ï¼šå½“æŒ‡å®šçš„ç›®æ ‡åœ°å€æ˜¯httpsçš„æ—¶å€™ä¸€å®šè¦æ·»åŠ ä¸Šè¯¥é…ç½®ï¼Œå¦‚æœæ˜¯httpåˆ™ä¸éœ€è¦ï¼Œ</span>
        <span class="hljs-comment">//ä¸ç„¶è¯·æ±‚ä¼šä¸€ç›´æŠ¥é”™500ä¸”è°ƒè¯•å‰ç«¯ä¼šæç¤º http proxy error: Error: self signed certificate in certificate chain vite ä»£ç†æŠ¥é”™ã€‘</span>
        <span class="hljs-attr">secure</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// å¦‚æœæ˜¯httpsæ¥å£ï¼Œéœ€è¦é…ç½®è¿™ä¸ªå‚æ•°,ç¦ç”¨ SSL æ ¡éªŒï¼Œé€‚ç”¨äº HTTPS çš„æœ¬åœ°å¼€å‘ç¯å¢ƒ</span>
        <span class="hljs-attr">ws</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// å…è®¸websocketä»£ç†</span>
        <span class="hljs-comment">// é‡å†™é…ç½®ï¼šå¯ä»¥å°†è¯·æ±‚urlé‡å†™  ï¼Œä»¥ä¸‹æ„æ€æ˜¯å°†'/api/app/station'è¿›è¡Œé‡å†™ï¼Œç•™ç€apiåŠ ä¸Šç½‘å€=ã€‹</span>
        <span class="hljs-attr">rewrite</span>: <span class="hljs-function">(<span class="hljs-params">path</span>) =&gt;</span> path.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\/api/</span>, <span class="hljs-string">'/api'</span>),
      }
    },
  },
})


<span class="hljs-attr">target</span>: <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">VITE_BASE_URL</span> 
è¿™æ ·çš„å†™æ³•ç›®å‰åœ¨configä¸­è¯»å–ç¯å¢ƒå˜é‡æ˜¯å¤±è´¥çš„
è¯¦æƒ…å¯è§<span class="hljs-attr">https</span>:<span class="hljs-comment">//cn.vite.dev</span>
</code></pre>
<h4 data-id="heading-31">ğŸŒˆAxioså°è£…</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> axios, {<span class="hljs-title class_">AxiosRequestConfig</span>, <span class="hljs-title class_">AxiosResponse</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"axios"</span>;
<span class="hljs-keyword">import</span> {stringify} <span class="hljs-keyword">from</span> <span class="hljs-string">"qs"</span>;  
<span class="hljs-comment">//npm install qs</span>
<span class="hljs-comment">//npm install --save-dev @types/qs</span>

<span class="hljs-comment">// å®šä¹‰ API å“åº”æ•°æ®ç»“æ„çš„æ¥å£</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ResponseData</span> {
    errorMessage?: <span class="hljs-built_in">string</span>;
    [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">unknown</span>;  <span class="hljs-comment">// å¯ä»¥æ ¹æ®å®é™…éœ€è¦è¿›è¡Œæ‰©å±•</span>
}

<span class="hljs-comment">// å®šä¹‰è¯·æ±‚é…ç½®æ¥å£</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">RequestConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AxiosRequestConfig</span> {
    requestType?: <span class="hljs-string">"form"</span> | <span class="hljs-string">"json"</span>;  <span class="hljs-comment">// å®šä¹‰è¯·æ±‚ç±»å‹</span>
}

<span class="hljs-keyword">const</span> instance = axios.<span class="hljs-title function_">create</span>({
    <span class="hljs-attr">baseURL</span>: <span class="hljs-title function_">getBaseURL</span>(),
    <span class="hljs-comment">// timeout: 3000,</span>
    <span class="hljs-attr">headers</span>: {
        <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>
    }
});


<span class="hljs-comment">// è¯·æ±‚æ‹¦æˆª</span>
instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(
    <span class="hljs-function">(<span class="hljs-params">config</span>) =&gt;</span> {
        <span class="hljs-comment">// æ ¹æ® requestType è®¾ç½®è¯·æ±‚å¤´æˆ–å¯¹æ•°æ®è¿›è¡Œè½¬æ¢</span>
        <span class="hljs-keyword">if</span> ((config <span class="hljs-keyword">as</span> <span class="hljs-title class_">RequestConfig</span>).<span class="hljs-property">requestType</span> === <span class="hljs-string">"form"</span>) {
            config.<span class="hljs-property">headers</span>[<span class="hljs-string">"Content-Type"</span>] = <span class="hljs-string">"application/x-www-form-urlencoded;charset=UTF-8"</span>;
            config.<span class="hljs-property">data</span> = <span class="hljs-title function_">stringify</span>(config.<span class="hljs-property">data</span>); <span class="hljs-comment">// åºåˆ—åŒ–ä¸ºè¡¨å•æ•°æ®</span>
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((config <span class="hljs-keyword">as</span> <span class="hljs-title class_">RequestConfig</span>).<span class="hljs-property">requestType</span> === <span class="hljs-string">"json"</span>) {
            config.<span class="hljs-property">headers</span>[<span class="hljs-string">"Content-Type"</span>] = <span class="hljs-string">"application/json"</span>;
        }
        <span class="hljs-keyword">return</span> config;
    },
    <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(err.<span class="hljs-property">message</span> || <span class="hljs-string">"è¯·æ±‚é”™è¯¯"</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err);
    }
);

<span class="hljs-comment">// å“åº”æ‹¦æˆª</span>
instance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(
    <span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> response,
    <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> errorMessage = <span class="hljs-title function_">getErrorMessage</span>(err.<span class="hljs-property">response</span>);
        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(errorMessage || err.<span class="hljs-property">message</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(err); <span class="hljs-comment">// ä¿è¯é”™è¯¯è¢«ä¸šåŠ¡æ•è·</span>
    }
);



<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> request&lt;T = <span class="hljs-title class_">ResponseData</span>&gt;(
    <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>,
    <span class="hljs-attr">param</span>: <span class="hljs-title class_">RequestConfig</span> = {}
): <span class="hljs-title class_">Promise</span>&lt;T&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> instance&lt;T&gt;(url, {...param});
    <span class="hljs-keyword">return</span> response.<span class="hljs-property">data</span>;
}



<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getErrorMessage</span> = (<span class="hljs-params">response: AxiosResponse | <span class="hljs-literal">undefined</span></span>) =&gt; {
    <span class="hljs-comment">//æ³¨æ„,å½“ä½¿ç”¨Viteä»£ç†æ—¶,responseä¸æ˜¯null,å› ä¸ºviteä»£ç†ä¼šæŠ›é”™500å‡ºæ¥</span>
    <span class="hljs-comment">//ä»£ç†æœºåˆ¶ï¼šVite ä½¿ç”¨ Node.js çš„ http-proxy æˆ–ç±»ä¼¼åº“è½¬å‘è¯·æ±‚ã€‚å¦‚æœç›®æ ‡æœåŠ¡å™¨ï¼ˆhttps://localhost:55319/ï¼‰ä¸å¯è¾¾ï¼Œä»£ç†ä¼šæ•è·é”™è¯¯å¹¶è¿”å› HTTP å“åº”ï¼ˆe.g., 500ï¼‰ï¼Œè€Œä¸æ˜¯æŠ›å‡ºåŸå§‹çš„ ECONNREFUSED æˆ–è¶…æ—¶é”™è¯¯ã€‚</span>
    <span class="hljs-keyword">if</span> (!response) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æœåŠ¡å™¨æœªå“åº”,è¯·æ£€æŸ¥ç½‘ç»œ"</span>;
    }
    <span class="hljs-keyword">const</span> data = response.<span class="hljs-property">data</span>;
    <span class="hljs-keyword">if</span> (!data) {
        <span class="hljs-keyword">switch</span> (response.<span class="hljs-property">status</span>) {
            <span class="hljs-keyword">case</span> <span class="hljs-number">401</span>:
                <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">alert</span>(<span class="hljs-string">"ç™»å½•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ç™»å½•"</span>);
                <span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>();
            <span class="hljs-keyword">case</span> <span class="hljs-number">403</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"æ— æ­¤æ“ä½œæƒé™"</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">404</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"æœåŠ¡ç«¯æ— æ­¤èµ„æº"</span>;
            <span class="hljs-attr">default</span>:
                <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªçŸ¥å¼‚å¸¸,è¯·è”ç³»å¼€å‘äººå‘˜"</span>;
        }
    }
    <span class="hljs-comment">// å¦‚æœåç«¯è¿”å›äº†è¯¦ç»†é”™è¯¯ä¿¡æ¯ï¼Œå¯åœ¨è¿™é‡Œä¼˜å…ˆè¿”å›</span>
    <span class="hljs-keyword">if</span> (data.<span class="hljs-property">error</span>.<span class="hljs-property">message</span>) {
        <span class="hljs-keyword">return</span> data.<span class="hljs-property">error</span>.<span class="hljs-property">message</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªçŸ¥é”™è¯¯"</span>;
};

<span class="hljs-comment">// âœ… æ ¸å¿ƒä¿®æ”¹ï¼šå¼€å‘ç¯å¢ƒè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œè®©è¯·æ±‚èµ°ç›¸å¯¹è·¯å¾„</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getBaseURL</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> env = <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>;
    
    <span class="hljs-comment">// å¼€å‘ç¯å¢ƒï¼šè¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œèµ° Vite proxy</span>
    <span class="hljs-keyword">if</span> (env.<span class="hljs-property">DEV</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;  <span class="hljs-comment">// âœ… å…³é”®æ”¹åŠ¨</span>
    }
    

    <span class="hljs-keyword">if</span> (env.<span class="hljs-property">PROD</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`<span class="hljs-subst">${env.VITE_API_BASE_URL}</span>:<span class="hljs-subst">${env.VITE_API_PORT}</span>`</span>;
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>;
}

</code></pre>
<h4 data-id="heading-32">Vite.env ç¯å¢ƒå˜é‡é…ç½®</h4>
<p>æ“ä½œ</p>
<pre><code class="hljs language-ini" lang="ini">æ‰‹åŠ¨åˆ›å»ºä»¥ä¸‹æ–‡ä»¶
.env   		å¼€å‘ç¯å¢ƒ
.env.production   ç”Ÿäº§ç¯å¢ƒ

æ–‡ä»¶æ‰‹åŠ¨æ–°å¢å˜é‡
{
    <span class="hljs-attr">VITE_API_BASE_URL</span>=https://localhost
    <span class="hljs-attr">VITE_API_PORT</span> =<span class="hljs-number">44319</span>
}
</code></pre>
<p>è§£é‡Š</p>
<pre><code class="hljs language-typescript" lang="typescript">ç¯å¢ƒåŠ è½½ä¼˜å…ˆçº§
ä¸€ä»½ç”¨äºæŒ‡å®šæ¨¡å¼çš„æ–‡ä»¶ï¼ˆä¾‹å¦‚ .<span class="hljs-property">env</span>.<span class="hljs-property">production</span>ï¼‰ä¼šæ¯”é€šç”¨å½¢å¼çš„ä¼˜å…ˆçº§æ›´é«˜ï¼ˆä¾‹å¦‚ .<span class="hljs-property">env</span>ï¼‰ã€‚
ä¸ºäº†é˜²æ­¢æ„å¤–åœ°å°†ä¸€äº›ç¯å¢ƒå˜é‡æ³„æ¼åˆ°å®¢æˆ·ç«¯ï¼Œåªæœ‰ä»¥ <span class="hljs-variable constant_">VITE_</span> ä¸ºå‰ç¼€çš„å˜é‡æ‰ä¼šæš´éœ²ç»™ç»è¿‡ vite å¤„ç†çš„ä»£ç 



<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>) <span class="hljs-comment">//æ­¤æ—¶æ ¹æ®ä¸åŒçš„ç¯å¢ƒï¼Œä½¿ç”¨ä¸åŒçš„ç¯å¢ƒå˜é‡</span>
==ã€‹{
    <span class="hljs-string">"BASE_URL"</span>: <span class="hljs-string">"/"</span>,
    <span class="hljs-string">"DEV"</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">//å¼€å‘ç¯å¢ƒ</span>
    <span class="hljs-string">"MODE"</span>: <span class="hljs-string">"development"</span>,
    <span class="hljs-string">"PROD"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">"SSR"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">"VITE_API_BASE_URL"</span>: <span class="hljs-string">"https://localhost"</span>,
    <span class="hljs-string">"VITE_API_PORT"</span>: <span class="hljs-string">"44319"</span>,
}

<span class="hljs-title class_">Vite</span> åœ¨ä¸€ä¸ªç‰¹æ®Šçš„ <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span> å¯¹è±¡ä¸Šæš´éœ²ç¯å¢ƒå˜é‡ï¼Œè¿™äº›å˜é‡åœ¨æ„å»ºæ—¶ä¼šè¢«é™æ€åœ°æ›¿æ¢æ‰ã€‚è¿™é‡Œæœ‰ä¸€äº›åœ¨æ‰€æœ‰æƒ…å†µä¸‹éƒ½å¯ä»¥ä½¿ç”¨çš„å†…å»ºå˜é‡ï¼š
<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">MODE</span>: {<span class="hljs-built_in">string</span>} åº”ç”¨è¿è¡Œçš„æ¨¡å¼ã€‚

<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">BASE_URL</span>: {<span class="hljs-built_in">string</span>} éƒ¨ç½²åº”ç”¨æ—¶çš„åŸºæœ¬ <span class="hljs-variable constant_">URL</span>ã€‚ä»–ç”±base é…ç½®é¡¹å†³å®šã€‚

<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">PROD</span>: {<span class="hljs-built_in">boolean</span>} åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨ç”Ÿäº§ç¯å¢ƒï¼ˆä½¿ç”¨ <span class="hljs-variable constant_">NODE_ENV</span>=<span class="hljs-string">'production'</span> è¿è¡Œå¼€å‘æœåŠ¡å™¨æˆ–æ„å»ºåº”ç”¨æ—¶ä½¿ç”¨ <span class="hljs-variable constant_">NODE_ENV</span>=<span class="hljs-string">'production'</span> ï¼‰ã€‚

<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">DEV</span>: {<span class="hljs-built_in">boolean</span>} åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨å¼€å‘ç¯å¢ƒ (æ°¸è¿œä¸ <span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">PROD</span>ç›¸å)ã€‚

<span class="hljs-keyword">import</span>.<span class="hljs-property">meta</span>.<span class="hljs-property">env</span>.<span class="hljs-property">SSR</span>: {<span class="hljs-built_in">boolean</span>} åº”ç”¨æ˜¯å¦è¿è¡Œåœ¨ server ä¸Šã€‚
</code></pre>
<h3 data-id="heading-33">3.4 Openapiä¸Swagger</h3>
<h4 data-id="heading-34">é…ç½®Swagger/json</h4>
<pre><code class="hljs language-c#" lang="c#"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ConfigureSwaggerServices</span>(<span class="hljs-params">ServiceConfigurationContext context, IConfiguration configuration</span>)</span>
    {
        context.Services.AddAbpSwaggerGenWithOAuth(
            configuration[<span class="hljs-string">"AuthServer:Authority"</span>]!,
            <span class="hljs-keyword">new</span> Dictionary&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>&gt;
            {
                    {<span class="hljs-string">"AppCoreServer"</span>, <span class="hljs-string">"AppCoreServer API"</span>}
            },
            options =&gt;
            {
                options.SwaggerDoc(<span class="hljs-string">"v1"</span>, <span class="hljs-keyword">new</span> OpenApiInfo { Title = <span class="hljs-string">"AppCoreServer API"</span>, Version = <span class="hljs-string">"v1"</span> });
                options.DocInclusionPredicate((docName, description) =&gt; <span class="hljs-literal">true</span>);
                options.CustomSchemaIds(type =&gt; type.FullName);
                
                <span class="hljs-comment">//ç»™Swaggerçš„jsonä¸­æ·»åŠ   operationIdå­—æ®µ</span>
                <span class="hljs-comment">//å¯è§Swashbuckle  Abp.Swashbuckle.Extensions</span>
                options.CustomOperationIds(apiDesc =&gt;
                    apiDesc.TryGetMethodInfo(<span class="hljs-keyword">out</span> <span class="hljs-keyword">var</span> methodInfo) ? methodInfo.Name : <span class="hljs-literal">null</span>);
            });
    }


<span class="hljs-comment">//å¾—åˆ°çš„API_json==&gt;</span>

<span class="hljs-string">"/api/abp/application-configuration"</span>: {
      <span class="hljs-string">"get"</span>: {
        <span class="hljs-string">"tags"</span>: [
          <span class="hljs-string">"AbpApplicationConfiguration"</span>
        ],
        <span class="hljs-string">"operationId"</span>: <span class="hljs-string">"GetAsync"</span>, <span class="hljs-comment">//æ–¹ä¾¿å‰ç«¯ç”Ÿæˆæ–¹æ³•åç§°</span>
        <span class="hljs-string">"parameters"</span>: [
          {
            <span class="hljs-string">"name"</span>: <span class="hljs-string">"IncludeLocalizationResources"</span>,
            <span class="hljs-string">"in"</span>: <span class="hljs-string">"query"</span>,
            <span class="hljs-string">"schema"</span>: {
              <span class="hljs-string">"type"</span>: <span class="hljs-string">"boolean"</span>
            }
          }
        ]
</code></pre>
<h4 data-id="heading-35">é…ç½®Umijs/Openapi</h4>
<blockquote>
<p>1.14.1ç‰ˆ</p>
</blockquote>
<p>åˆ›å»º\reactWeb\openapi2ts.config.tsæ–‡ä»¶</p>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> { generateService } <span class="hljs-keyword">from</span> <span class="hljs-string">'@umijs/openapi'</span>;
<span class="hljs-title function_">generateService</span>({
    <span class="hljs-comment">/**
     * æŒ‡å®šè¯·æ±‚åº“å¯¼å…¥è¯­å¥ï¼Œç”Ÿæˆçš„æ¥å£æ–‡ä»¶ä¼šç”¨åˆ°è¿™ä¸ªå¯¼å…¥ã€‚
     * ä¾‹å¦‚ä½ é¡¹ç›®ä¸­å°è£…äº†è¯·æ±‚å‡½æ•° requestï¼Œå¯ä»¥å†™æˆï¼š
     * "import { request } from '@/utils/request'"
     */</span>
    <span class="hljs-attr">requestLibPath</span>: <span class="hljs-string">"../../utils/request"</span>,

    <span class="hljs-comment">/**
     * OpenAPI / Swagger çš„æ¥å£æ–‡æ¡£åœ°å€æˆ–æœ¬åœ°æ–‡ä»¶è·¯å¾„ã€‚
     * è¿™é‡Œæ˜¯æœ¬åœ°æ¥å£æ–‡æ¡£çš„ HTTP åœ°å€ï¼Œç”Ÿæˆä»£ç ä¼šåŸºäºè¿™ä¸ªå®šä¹‰ã€‚
     */</span>
    <span class="hljs-attr">schemaPath</span>: <span class="hljs-string">'https://localhost:2001/swagger/v1/swagger.json'</span>,

    <span class="hljs-comment">/**
     * é¡¹ç›®åç§°ï¼Œç”Ÿæˆçš„æ–‡ä»¶å¤¹åæˆ–å‘½åç©ºé—´å‚è€ƒåï¼Œ
     * ä¸»è¦ç”¨äºåŒºåˆ†ä¸åŒé¡¹ç›®çš„ç”Ÿæˆä»£ç ã€‚
     */</span>
    <span class="hljs-attr">serversPath</span>: <span class="hljs-string">"./src/services"</span>,
    <span class="hljs-attr">projectName</span>: <span class="hljs-string">'api'</span>,

    <span class="hljs-comment">/**
     * TypeScript ä»£ç ä¸­ä½¿ç”¨çš„å‘½åç©ºé—´åç§°ï¼Œ
     * ç”Ÿæˆçš„ç±»å‹ã€æ¥å£ç­‰éƒ½ä¼šæ”¾åœ¨è¿™ä¸ªå‘½åç©ºé—´ä¸‹ã€‚
     */</span>
    <span class="hljs-attr">namespace</span>: <span class="hljs-string">'API'</span>,

    <span class="hljs-comment">/**
     * è‡ªå®šä¹‰æ¨¡æ¿æ–‡ä»¶å¤¹è·¯å¾„ï¼ŒæŒ‡å‘ä½ çš„ Nunjucks æ¨¡æ¿ç›®å½•ã€‚
     * ç”Ÿæˆå™¨ä¼šä½¿ç”¨æ­¤ç›®å½•ä¸‹çš„æ¨¡æ¿æ–‡ä»¶ç”Ÿæˆä»£ç ï¼Œ
     * æ–¹ä¾¿ä½ è‡ªå®šä¹‰ç”Ÿæˆæ ¼å¼ã€‚
     */</span>  
	<span class="hljs-attr">templatesFolder</span>: <span class="hljs-string">'./openapi-template'</span>, 

    <span class="hljs-comment">/**
     * æ˜¯å¦ä½¿ç”¨é©¼å³°å‘½åæ³•ç”Ÿæˆæ¥å£æ–¹æ³•åç§°ï¼Œé»˜è®¤ trueã€‚
     * è®¾ä¸º falseï¼Œæ¥å£æ–¹æ³•åä¿æŒ PascalCaseï¼Œ
     * æ¯”å¦‚ GetAsync è€Œä¸æ˜¯ getAsyncã€‚
     */</span>
    <span class="hljs-attr">isCamelCase</span>: <span class="hljs-literal">false</span>,

    <span class="hljs-comment">/**
     * é’©å­å‡½æ•°é›†ï¼Œå¯ä»¥è‡ªå®šä¹‰ç”Ÿæˆè¿‡ç¨‹çš„å„ç§é€»è¾‘ï¼Œ
     * è¿™é‡Œè‡ªå®šä¹‰äº†æ¥å£å‡½æ•°åç§°ç”Ÿæˆé€»è¾‘ï¼Œ
     * ä½¿ç”¨ OpenAPI ä¸­å®šä¹‰çš„ operationId ä½œä¸ºå‡½æ•°åï¼Œ
     * å¦‚æœæ²¡æœ‰åˆ™é»˜è®¤ 'AutoGenerated'ã€‚
     */</span>
    <span class="hljs-attr">hook</span>: {
        <span class="hljs-title function_">customFunctionName</span>(<span class="hljs-params">api</span>) {
            <span class="hljs-keyword">return</span> api.<span class="hljs-property">operationId</span> || <span class="hljs-string">'AutoGenerated'</span>;
        },
    },
});

</code></pre>
<p>templatesFolder: './openapi-template',</p>
<pre><code class="hljs">éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿,è§£å†³é»˜è®¤æ¨¡æ¿ç”Ÿæˆçš„å…¥å‚å‚æ•°ç±»å‹é›†åˆ,é‡å¤ä¸å…¼å®¹çš„é—®é¢˜
</code></pre>
<p>é…ç½®è¿è¡Œå‘½ä»¤</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"build"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsc -b &amp;&amp; vite build"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"lint"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"eslint ."</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"preview"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite preview"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"openapi2ts"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"tsx openapi2ts.config.ts"</span>
  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>

<span class="hljs-comment">//æœ‰éœ€è¦å®‰è£…ä»¥ä¸‹ä¸¤ä¸ªä¾èµ–åŒ…</span>
<span class="hljs-comment">//pnpm i tsx@3.14.0</span>
<span class="hljs-comment">//pnpm add tslib</span>
</code></pre>
<p>æ‰§è¡Œ</p>
<pre><code class="hljs language-json" lang="json">æ­¤æ—¶å¯ä»¥çœ‹åˆ° serversPath<span class="hljs-punctuation">:</span> <span class="hljs-string">"./src/services"</span>
ç”Ÿæˆäº†åç«¯å¯¹åº”çš„è¯·æ±‚æ–‡ä»¶<span class="hljs-punctuation">,</span>APIçš„æ ¼å¼æ˜¯æŒ‰ç…§requestLibPath<span class="hljs-punctuation">:</span> <span class="hljs-string">"../../utils/request"</span>è®¾è®¡
    
 <span class="hljs-comment">/** æ­¤å¤„åç«¯æ²¡æœ‰æä¾›æ³¨é‡Š GET /api/abp/application-configuration */</span>
export async function GetAsync(
  <span class="hljs-comment">// å åŠ ç”Ÿæˆçš„Paramç±»å‹ (ébodyå‚æ•°swaggeré»˜è®¤æ²¡æœ‰ç”Ÿæˆå¯¹è±¡)</span>
  params<span class="hljs-punctuation">:</span> API.GetAsyncParams<span class="hljs-punctuation">,</span>
  options?<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-punctuation">[</span>key<span class="hljs-punctuation">:</span> string<span class="hljs-punctuation">]</span><span class="hljs-punctuation">:</span> any <span class="hljs-punctuation">}</span>
) <span class="hljs-punctuation">{</span>
  return request&lt;API.ApplicationConfigurationDto&gt;(
    <span class="hljs-string">"/api/abp/application-configuration"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      method<span class="hljs-punctuation">:</span> <span class="hljs-string">"GET"</span><span class="hljs-punctuation">,</span>
      params<span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        ...params<span class="hljs-punctuation">,</span>
      <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
      ...(options || <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>)<span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">}</span>
  );
<span class="hljs-punctuation">}</span>   
</code></pre>
<h3 data-id="heading-36">3.5å…¨å±€é…ç½®ä¸è·¯ç”±ä¸å¸ƒå±€</h3>
<h4 data-id="heading-37">ä¿®æ”¹htmlä¸»ç»“æ„</h4>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-title class_">AppServer</span>\react-web\index.<span class="hljs-property">html</span>

ä¿®æ”¹é¡¹ç›®ä¸»å…¥å£htmlï¼Œæ ‡é¢˜ç­‰ä¸ºè‡ªå·±é¡¹ç›®logç­‰

<span class="hljs-attr">svg</span>:<span class="hljs-attr">https</span>:<span class="hljs-comment">//www.iconfont.cn/</span>
</code></pre>
<h4 data-id="heading-38">UIåº“</h4>
<pre><code class="hljs language-bash" lang="bash">ä»¥ä¸‹ä½¿ç”¨äº†
<span class="hljs-string">"antd
"</span>antd-style<span class="hljs-string">"
"</span>@ant-design/icons<span class="hljs-string">"
"</span>@ant-design/pro-components<span class="hljs-string">"
</span></code></pre>
<h4 data-id="heading-39">æ„å»ºè·¯ç”±</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Freactrouter.remix.org.cn%2Fhome" target="_blank" title="https://reactrouter.remix.org.cn/home" ref="nofollow noopener noreferrer">React Router ä¸»é¡µ | React Router - React Router è·¯ç”±åº“</a></p>
<pre><code class="hljs language-css" lang="css">npm <span class="hljs-selector-tag">i</span> react-router-dom   ^<span class="hljs-number">7.11</span>.<span class="hljs-number">0</span>
ä½¿ç”¨æ•°æ®æ¨¡å¼
</code></pre>

































<table><thead><tr><th>åŒ…å</th><th>é€‚ç”¨åœºæ™¯</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>æ¨èåº¦ï¼ˆVite é¡¹ç›®ï¼‰</th></tr></thead><tbody><tr><td><code>react-router</code></td><td>åº•å±‚é€»è¾‘ï¼Œé Web é¡¹ç›®</td><td>çµæ´»ã€å¯æ‰©å±•</td><td>ç¼ºå°‘ DOM åŠŸèƒ½</td><td>ä½ï¼ˆé€šå¸¸ä¸å•ç‹¬ç”¨ï¼‰</td></tr><tr><td><code>react-router-dom</code></td><td>æ ‡å‡† Web SPA è·¯ç”±</td><td>ç®€å•ã€ç¨³å®šã€åŠŸèƒ½é½å…¨</td><td>ç¼ºå°‘ SSR/SSG ç­‰é«˜çº§åŠŸèƒ½</td><td>é«˜ï¼ˆåŸºç¡€æ­å»ºï¼‰</td></tr><tr><td><code>@react-router/dev</code></td><td>ç°ä»£æ¡†æ¶æ¨¡å¼ï¼ˆv7ï¼‰</td><td>SSRã€SSGã€æ•°æ®åŠ è½½ã€Vite é›†æˆ</td><td>é…ç½®å¤æ‚ï¼Œç”Ÿæ€è¾ƒæ–°</td><td>ä¸­é«˜ï¼ˆéœ€è¦é«˜çº§åŠŸèƒ½ï¼‰</td></tr></tbody></table>
<h5 data-id="heading-40">æ„å»ºä¸»è·¯ç”±é“¾</h5>
<p>åˆ›å»ºreact-web\src\router</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">//react-web\src\router\index.ts</span>

<span class="hljs-keyword">const</span> <span class="hljs-attr">index</span>:<span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-keyword">typeof</span> createBrowserRouter&gt; = <span class="hljs-title function_">createBrowserRouter</span>([
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">"/"</span>,
        <span class="hljs-attr">element</span>: <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/ServerApp/Dashboard"</span>))),
    },
]);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> index;
                                  
                                                                    
<span class="hljs-keyword">const</span> <span class="hljs-title class_">Dashboard</span>:<span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>= <span class="hljs-function">()=&gt;</span>{
    <span class="hljs-keyword">return</span>(
        <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>æˆ‘æ˜¯ä»ªè¡¨ç›˜<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        <span class="hljs-tag">&lt;/&gt;</span></span>
    )
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Dashboard</span>;
</code></pre>
<h5 data-id="heading-41">æ³¨å†Œè·¯ç”±</h5>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span>(
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{router}/</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
    )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>


<span class="hljs-comment">//æ­¤æ—¶æŒ‰ç…§ä¸Šè¿°è·¯ç”±é“¾ï¼Œåˆ™ä¼˜å…ˆå±•ç¤ºä»ªè¡¨ç›˜é¡µé¢</span>
</code></pre>
<h5 data-id="heading-42">è·¯ç”±åŠ è½½é¡µé¢</h5>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">PageLoading</span>/&gt;</span>}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{MainRouter}/</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
    )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<h5 data-id="heading-43">åŸºç¡€é¡µé¢</h5>
<h6 data-id="heading-44">åˆ›å»º404é¡µé¢</h6>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//npm antd-style  åˆ›å»ºæ ·å¼</span>

<span class="hljs-comment">//react-web\src\view\System\NotFound\index.tsx</span>
<span class="hljs-keyword">import</span> {useNavigate} <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Button</span>, <span class="hljs-title class_">Result</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">import</span> useStyles <span class="hljs-keyword">from</span> <span class="hljs-string">"./style.ts"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">NotFound</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> {styles} = <span class="hljs-title function_">useStyles</span>();
    <span class="hljs-keyword">const</span>  navigate=<span class="hljs-title function_">useNavigate</span>();
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Result</span>
            <span class="hljs-attr">className</span>=<span class="hljs-string">{styles.result}</span>
            <span class="hljs-attr">icon</span>=<span class="hljs-string">{null}</span>
            <span class="hljs-attr">title</span>=<span class="hljs-string">"å½“å‰é¡µé¢ä¸å­˜åœ¨..."</span>
            <span class="hljs-attr">subTitle</span>=<span class="hljs-string">"è¯·æ£€æŸ¥æ‚¨è¾“å…¥çš„ç½‘å€æ˜¯å¦æ­£ç¡®ï¼Œæˆ–ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®è¿”å›ä¸Šä¸€çº§"</span>
            <span class="hljs-attr">extra</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span>=&gt;</span>navigate(-1)}&gt;è¿”å›ä¸Šä¸€çº§<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>}
        /&gt;</span>

    );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">NotFound</span>;
</code></pre>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">//react-web\src\view\System\NotFound\style.ts</span>

<span class="hljs-keyword">import</span> {createStyles} <span class="hljs-keyword">from</span> <span class="hljs-string">"antd-style"</span>;
<span class="hljs-keyword">import</span> notFoundImg <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../assets/404.png"</span>

<span class="hljs-keyword">const</span> useStyles = <span class="hljs-title function_">createStyles</span>({
    <span class="hljs-attr">result</span>:{
        <span class="hljs-attr">position</span>: <span class="hljs-string">'relative'</span>,
        <span class="hljs-attr">backgroundImage</span>: <span class="hljs-string">`url(<span class="hljs-subst">${notFoundImg}</span>)`</span>,  <span class="hljs-comment">// åŠ¨æ€å¼•å…¥å›¾ç‰‡è·¯å¾„</span>
        <span class="hljs-attr">backgroundSize</span>: <span class="hljs-string">'cover'</span>,         <span class="hljs-comment">// ç¡®ä¿å›¾ç‰‡è¦†ç›–æ•´ä¸ªåŒºåŸŸ</span>
        <span class="hljs-attr">backgroundPosition</span>: <span class="hljs-string">'center'</span>,    <span class="hljs-comment">// å±…ä¸­æ˜¾ç¤ºèƒŒæ™¯å›¾ç‰‡</span>
        <span class="hljs-attr">backgroundRepeat</span>: <span class="hljs-string">'no-repeat'</span>,   <span class="hljs-comment">// é˜²æ­¢å›¾ç‰‡é‡å¤</span>
        <span class="hljs-attr">textAlign</span>: <span class="hljs-string">"center"</span>,             <span class="hljs-comment">// æ–‡æœ¬å±…ä¸­</span>
        <span class="hljs-attr">display</span>: <span class="hljs-string">'flex'</span>,
        <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'column'</span>,
        <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,        <span class="hljs-comment">// å‚ç›´å±…ä¸­</span>
        <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,            <span class="hljs-comment">// æ°´å¹³å±…ä¸­</span>
        <span class="hljs-attr">height</span>: <span class="hljs-string">'100vh'</span>,
    },
})
<span class="hljs-keyword">export</span>  <span class="hljs-keyword">default</span>  useStyles;
</code></pre>
<h6 data-id="heading-45">åŠ è½½é¡µé¢</h6>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Spin</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"antd"</span>;
<span class="hljs-keyword">const</span> <span class="hljs-title class_">PageLoading</span>:<span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>=<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-keyword">const</span> <span class="hljs-attr">contentStyle</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">CSSProperties</span> = {
        <span class="hljs-attr">padding</span>: <span class="hljs-number">50</span>,
        <span class="hljs-attr">background</span>: <span class="hljs-string">'rgba(0, 0, 0, 0.05)'</span>,
        <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">4</span>,
    };

    <span class="hljs-keyword">return</span> (

        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>
            <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
                <span class="hljs-attr">height:</span> "<span class="hljs-attr">100vh</span>", // <span class="hljs-attr">å æ»¡è§†å£é«˜åº¦</span>
                <span class="hljs-attr">display:</span> "<span class="hljs-attr">flex</span>", // <span class="hljs-attr">å¯ç”¨</span> <span class="hljs-attr">flex</span> <span class="hljs-attr">å¸ƒå±€</span>
                <span class="hljs-attr">justifyContent:</span> "<span class="hljs-attr">center</span>", // <span class="hljs-attr">æ°´å¹³å±…ä¸­</span>
                <span class="hljs-attr">alignItems:</span> "<span class="hljs-attr">center</span>", // <span class="hljs-attr">å‚ç›´å±…ä¸­</span>
                <span class="hljs-attr">flexDirection:</span> "<span class="hljs-attr">column</span>", // <span class="hljs-attr">å­å…ƒç´ çºµå‘æ’åˆ—</span>
                <span class="hljs-attr">backgroundColor:</span> "#<span class="hljs-attr">f0f2f5</span>", // <span class="hljs-attr">è®¾ç½®èƒŒæ™¯è‰²</span>ï¼Œ<span class="hljs-attr">ä¸</span> <span class="hljs-attr">antd</span> <span class="hljs-attr">é»˜è®¤ä¸€è‡´</span>ï¼ˆ<span class="hljs-attr">å¯é€‰</span>ï¼‰
            }}
        &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Spin</span> <span class="hljs-attr">tip</span>=<span class="hljs-string">"Loading"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"large"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{contentStyle}/</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Spin</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">PageLoading</span>;
</code></pre>
<h4 data-id="heading-46">å…¨å±€æ ·å¼</h4>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">//åˆ é™¤index.css,App.cssæ–‡ä»¶</span>
<span class="hljs-comment">//AppServer\react-web\src\styles</span>
<span class="hljs-comment">//AppServer\react-web\src\styles\GlobalStyle.ts</span>


<span class="hljs-keyword">import</span> { createGlobalStyle } <span class="hljs-keyword">from</span> <span class="hljs-string">"antd-style"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">GlobalStyle</span> = <span class="hljs-title function_">createGlobalStyle</span>(
    <span class="hljs-function">(<span class="hljs-params">{ theme }</span>) =&gt;</span> <span class="hljs-string">`
html,body{
    height:100%;
    width:100%;
    background-color:<span class="hljs-subst">${theme.colorBgLayout}</span>;
}
body{
margin:0;
}
`</span>,
);

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">GlobalStyle</span>;
</code></pre>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-keyword">const</span> <span class="hljs-title class_">App</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StrictMode</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">PageLoading</span>/&gt;</span>}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">RouterProvider</span> <span class="hljs-attr">router</span>=<span class="hljs-string">{MainRouter}/</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">GlobalStyle</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">StrictMode</span>&gt;</span></span>
    )
}
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">App</span>
</code></pre>
<h4 data-id="heading-47">é¡µé¢å¸ƒå±€</h4>
<h5 data-id="heading-48">æ·»åŠ ä¸šåŠ¡è·¯ç”±</h5>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, {lazy} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">WindowsFilled</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@ant-design/icons"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">MenuDataItem</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"@ant-design/pro-components"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Navigate</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;

<span class="hljs-keyword">const</span> <span class="hljs-title class_">ServiceRouters</span>: <span class="hljs-title class_">MenuDataItem</span>[] = [
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">"dashboard"</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">"ä¸»é¡µ"</span>,
        <span class="hljs-attr">element</span>: <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/ServerAppPages/Dashboard"</span>))),
    },
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">"systemManager"</span>,
        <span class="hljs-attr">name</span>: <span class="hljs-string">"ç³»ç»Ÿç®¡ç†"</span>,
        <span class="hljs-attr">icon</span>: <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">WindowsFilled</span>),
        <span class="hljs-attr">children</span>: [
            {
                <span class="hljs-attr">path</span>: <span class="hljs-string">"ChangeLogs"</span>,
                <span class="hljs-attr">name</span>: <span class="hljs-string">"æ›´æ–°æ—¥å¿—"</span>,
                <span class="hljs-attr">element</span>: (
                    <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/ServerAppPages/ChangeLogs"</span>)))
                ),
            }
        ]
    },
    { <span class="hljs-comment">//é¡µé¢é‡å®šå‘</span>
        <span class="hljs-attr">index</span>:<span class="hljs-literal">true</span>,
        <span class="hljs-title class_">Component</span>: <span class="hljs-function">() =&gt;</span>
            <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title class_">Navigate</span>, {
                <span class="hljs-attr">to</span>: <span class="hljs-string">"/dashboard"</span>,
            }),
    },
];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">ServiceRouters</span>;

</code></pre>
<h5 data-id="heading-49">ProLayout</h5>
<pre><code class="hljs language-tsx" lang="tsx"><span class="hljs-comment">//https://procomponents.ant.design/components/layout</span>

<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">LogoutOutlined</span>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/icons'</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">PageContainer</span>, <span class="hljs-title class_">ProSettings</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/pro-components'</span>;
<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">ProLayout</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@ant-design/pro-components'</span>;
<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">Button</span>,
    <span class="hljs-title class_">Dropdown</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'antd'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">HeartSvg</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../../public/log.svg"</span>;
<span class="hljs-keyword">import</span> {<span class="hljs-title class_">Link</span>, <span class="hljs-title class_">Outlet</span>, useLocation, useNavigate} <span class="hljs-keyword">from</span> <span class="hljs-string">"react-router-dom"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, {<span class="hljs-title class_">Suspense</span>, useState} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">PageLoading</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../../System/PageLoading"</span>;
<span class="hljs-keyword">import</span> serviceRouters <span class="hljs-keyword">from</span> <span class="hljs-string">"@/router/ServiceRouters.ts"</span>;


<span class="hljs-keyword">const</span> <span class="hljs-title class_">Layout</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span> = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> [settings] = useState&lt;<span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">ProSettings</span>&gt;&gt;({
        <span class="hljs-attr">fixSiderbar</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">layout</span>: <span class="hljs-string">"mix"</span>,
        <span class="hljs-attr">splitMenus</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">navTheme</span>: <span class="hljs-string">"light"</span>,
        <span class="hljs-attr">contentWidth</span>: <span class="hljs-string">"Fluid"</span>,
        <span class="hljs-attr">colorPrimary</span>: <span class="hljs-string">"#FAAD14"</span>,
        <span class="hljs-attr">siderMenuType</span>: <span class="hljs-string">"sub"</span>,
        <span class="hljs-attr">fixedHeader</span>: <span class="hljs-literal">true</span>,
    });
    <span class="hljs-keyword">const</span> username =<span class="hljs-string">"admin"</span>;
    <span class="hljs-keyword">const</span> navigate = <span class="hljs-title function_">useNavigate</span>();
    <span class="hljs-keyword">const</span> location = <span class="hljs-title function_">useLocation</span>();
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ProLayout</span>
            {<span class="hljs-attr">...settings</span>} //<span class="hljs-attr">è®¾ç½®å±æ€§æ ·å¼é…ç½®</span>
            <span class="hljs-attr">logo</span>=<span class="hljs-string">{</span>
                &lt;<span class="hljs-attr">img</span>
                    <span class="hljs-attr">src</span>=<span class="hljs-string">{HeartSvg}</span>
                    <span class="hljs-attr">alt</span>=<span class="hljs-string">"logo"</span>
                    <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
                        <span class="hljs-attr">height:</span> <span class="hljs-attr">24</span>,
                        <span class="hljs-attr">width:</span> "<span class="hljs-attr">auto</span>",
                        <span class="hljs-attr">objectFit:</span> "<span class="hljs-attr">contain</span>",
                        <span class="hljs-attr">verticalAlign:</span> "<span class="hljs-attr">middle</span>",
                    }}
                /&gt;</span>
            }
            title={"åšå®¢"}
            menuDataRender={() =&gt; serviceRouters} //ä¼ å…¥è·¯ç”±ç”Ÿæˆä¾§è¾¹èœå•æ 
            //å¤´éƒ¨æ ‡é¢˜ï¼Œé»˜è®¤antdå›¾æ ‡
            //é¢åŒ…å±‘ï¼Œæ ¹æ®ä¼ é€’çš„è·¯ç”±å
            breadcrumbRender={(routes = []) =&gt; {
                return routes.map((route) =&gt; {
                    return {
                        path: route.path,
                        breadcrumbName: route.breadcrumbName,
                    };
                });
            }}
            //å·¦ä¾§è¾¹æ æ ·å¼è®¾ç½®
            siderMenuType={"sub"}
            //å·¦ä¾§è¾¹æ åº•éƒ¨æ ·å¼
            menuFooterRender={(props) =&gt; {
                if (props?.collapsed) return undefined;
                return (
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">textAlign:</span> '<span class="hljs-attr">center</span>', <span class="hljs-attr">paddingBlockStart:</span> <span class="hljs-attr">12</span> }}&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Â© é©°åå•†æ ‡<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                );
            }}
            //ç›®å‰ä¸æ˜ç¡®
            location={location}
            //è·¯ç”±ç‚¹å‡»äº‹ä»¶
            menuItemRender={(item, dom) =&gt; {
                if (item.path) {
                    return <span class="hljs-tag">&lt;<span class="hljs-name">Link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{</span>`${<span class="hljs-attr">item.path</span>}`}&gt;</span>{dom}<span class="hljs-tag">&lt;/<span class="hljs-name">Link</span>&gt;</span>;
                }
                return dom;
            }}
        &gt;
            {/* æ¸²æŸ“é€‰ä¸­çš„é¡µé¢å†…å®¹ */}
            <span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">PageLoading</span> /&gt;</span>}&gt;
                <span class="hljs-tag">&lt;<span class="hljs-name">PageContainer</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">Outlet</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">PageContainer</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ProLayout</span>&gt;</span></span>
    );
};
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Layout</span>;
</code></pre>
<h5 data-id="heading-50">é…ç½®ä¸»è·¯ç”±</h5>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-keyword">const</span> <span class="hljs-title class_">MainRouter</span>: <span class="hljs-title class_">ReturnType</span>&lt;<span class="hljs-keyword">typeof</span> createBrowserRouter&gt; = <span class="hljs-title function_">createBrowserRouter</span>([
    {
        <span class="hljs-attr">path</span>:<span class="hljs-string">"/"</span>,
        <span class="hljs-attr">element</span>: <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/System/Layout"</span>))),
        <span class="hljs-attr">children</span>: serviceRouters
    },
    {
        <span class="hljs-attr">path</span>: <span class="hljs-string">"*"</span>,    <span class="hljs-comment">// ä½¿ç”¨path: "*",åŒ¹é…é…ç½®å…¨å±€404</span>
        <span class="hljs-attr">element</span>: (
            <span class="hljs-title class_">React</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">"../view/System/NotFound"</span>)))
        ),
    }

]);
                             
                            
</code></pre>
<h5 data-id="heading-51">ç†è§£</h5>
<pre><code class="hljs language-tex" lang="tex">åº”ç”¨å¯åŠ¨æ—¶ï¼Œé€šè¿‡è·¯ç”±é…ç½®ä»¥ `path: "/"` ä¼˜å…ˆåŠ è½½ `Layout` ç»„ä»¶ï¼Œä½œä¸ºæ•´ä½“æ¡†æ¶çš„å®¹å™¨ã€‚

`Layout` ç»„ä»¶å†…éƒ¨é¢„å…ˆé…ç½®äº†ä¸šåŠ¡è·¯ç”±ï¼ˆ`serviceRouters`ï¼‰ï¼Œå°†å…¶è½¬æ¢ä¸ºä¾§è¾¹æ èœå•ï¼Œä¾§è¾¹æ ä¸­çš„é“¾æ¥å¦‚ `&lt;a href="/dashboard"&gt;ä¸»é¡µ&lt;/a&gt;` ã€‚

ç”¨æˆ·é¦–æ¬¡è®¿é—® `/` æ—¶ï¼Œé€šè¿‡è·¯ç”±é‡å®šå‘è·³è½¬åˆ° `/dashboard`ï¼Œç¡®ä¿è¿›å…¥ç³»ç»Ÿåé»˜è®¤æ˜¾ç¤ºä¸»é¡µå†…å®¹ã€‚

æ•´ä½“æµç¨‹æ˜¯ï¼š`Layout` è´Ÿè´£æ¡†æ¶ç»“æ„ï¼ˆä¾§è¾¹æ ã€å¤´éƒ¨ã€é¡µè„šï¼‰ï¼Œä¸šåŠ¡è·¯ç”±è´Ÿè´£å…·ä½“é¡µé¢å†…å®¹æ¸²æŸ“ï¼Œå®ç°äº†æ¡†æ¶ä¸ä¸šåŠ¡çš„åˆ†ç¦»ä¸è§£è€¦ã€‚

åº”ç”¨æŒ‚è½½ç‚¹åªæŒ‚è½½å…¨å±€è·¯ç”±é…ç½®ï¼Œç»´æŠ¤ç®€æ´ï¼Œæ˜“äºæ‰©å±•å’Œç»´æŠ¤ï¼Œä»¥æ­¤åˆ†å¼€ä¸»è·¯ç”±å’Œä¸šåŠ¡è·¯ç”±
</code></pre>
<h4 data-id="heading-52">æ‹“å±•</h4>
<h5 data-id="heading-53">è·¯å¾„ä¼˜åŒ–</h5>
<blockquote>
<p><strong><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.npmjs.com%2Fpackage%2Fvite-tsconfig-paths" target="_blank" title="https://www.npmjs.com/package/vite-tsconfig-paths" ref="nofollow noopener noreferrer"><code>vite-tsconfig-paths</code></a></strong></p>
</blockquote>
<p>å®ƒçš„ä½œç”¨å°±æ˜¯ï¼š
<strong>è‡ªåŠ¨è¯»å–ä½ çš„ <code>tsconfig.json</code> æˆ– <code>jsconfig.json</code> é‡Œçš„è·¯å¾„åˆ«åé…ç½®</strong>ï¼Œå¹¶åœ¨ Vite ä¸­ç”Ÿæ•ˆï¼Œæ— éœ€æ‰‹åŠ¨åœ¨ <code>vite.config.ts</code> ä¸­å†™ <code>alias</code>ï¼</p>
<pre><code class="hljs language-javascript" lang="javascript">æ•ˆæœï¼š
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MainRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"../../router/MainRouter.ts"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">MainRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@/router/MainRouter.ts"</span>;
</code></pre>
<ol>
<li>å®‰è£…ä¾èµ–</li>
</ol>
<pre><code class="hljs language-css" lang="css">npm install vite-tsconfig-paths <span class="hljs-attr">--save-dev</span>
</code></pre>
<ol start="2">
<li>é…ç½® vite.config.ts</li>
</ol>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// vite.config.ts</span>
<span class="hljs-keyword">import</span> { defineConfig } <span class="hljs-keyword">from</span> <span class="hljs-string">'vite'</span>;
<span class="hljs-keyword">import</span> react <span class="hljs-keyword">from</span> <span class="hljs-string">'@vitejs/plugin-react'</span>;
<span class="hljs-keyword">import</span> tsconfigPaths <span class="hljs-keyword">from</span> <span class="hljs-string">'vite-tsconfig-paths'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
  <span class="hljs-attr">plugins</span>: [
    <span class="hljs-title function_">react</span>(),
    <span class="hljs-title function_">tsconfigPaths</span>(), <span class="hljs-comment">// ğŸ‘ˆ è‡ªåŠ¨è¯»å– tsconfig.json ä¸­çš„ paths</span>
  ],
});
</code></pre>
<ol start="3">
<li>è®¾ç½® tsconfig.json ä¸­çš„è·¯å¾„åˆ«å</li>
</ol>
<pre><code class="hljs language-json" lang="json"><span class="hljs-comment">// tsconfig.app.json</span>
<span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"compilerOptions"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
   
    <span class="hljs-comment">//å¼•ç”¨è·¯å¾„æ›¿ä»£</span>
    <span class="hljs-attr">"baseUrl"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"."</span><span class="hljs-punctuation">,</span>  <span class="hljs-comment">// è®¾ç½®åŸºå‡†è·¯å¾„ä¸ºé¡¹ç›®æ ¹ç›®å½•</span>
    <span class="hljs-attr">"paths"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"@/*"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"src/*"</span><span class="hljs-punctuation">]</span>  <span class="hljs-comment">// ç°åœ¨å¯ä»¥å·¥ä½œ</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä¼˜ç‚¹</p>
<ul>
<li>ä¸éœ€è¦æ‰‹åŠ¨å†™ <code>resolve.alias</code>ã€‚</li>
<li>æ”¯æŒå¤šä¸ªåˆ«åï¼Œå¦‚ <code>"@components/*": ["src/components/*"]</code>ã€‚</li>
<li>å’Œ <code>tsc</code> / IDE / ESLint / Jest ä¿æŒä¸€è‡´æ€§ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[GitHub Fork åä½œå®Œæ•´æµç¨‹]]></title>    <link>https://juejin.cn/post/7592887786967466020</link>    <guid>https://juejin.cn/post/7592887786967466020</guid>    <pubDate>2026-01-09T08:17:17.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592887786967466020" data-draft-id="7592887786967416868" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="GitHub Fork åä½œå®Œæ•´æµç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,Git,å‰ç«¯å·¥ç¨‹åŒ–"/> <meta itemprop="datePublished" content="2026-01-09T08:17:17.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="çœ¯çœ¼å› ä¸ºå¾ˆå›°å•¦"/> <meta itemprop="url" content="https://juejin.cn/user/2718423318278718"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            GitHub Fork åä½œå®Œæ•´æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2718423318278718/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    çœ¯çœ¼å› ä¸ºå¾ˆå›°å•¦
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:17:17.000Z" title="Fri Jan 09 2026 08:17:17 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">GitHub Fork åä½œå®Œæ•´æµç¨‹</h2>
<blockquote>
<p>é€‚ç”¨äºï¼šå¼€æºé¡¹ç›®äºŒæ¬¡å¼€å‘ã€æ’ä»¶æ‰©å±•ã€ç»™ä¸Šæ¸¸é¡¹ç›®æäº¤ PRï¼ˆPull Requestï¼‰</p>
</blockquote>
<hr/>
<h3 data-id="heading-1">ä¸€ã€Fork æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<p>Fork æ˜¯æŠŠåˆ«äººçš„ GitHub ä»“åº“å¤åˆ¶ä¸€ä»½åˆ°ä½ è‡ªå·±çš„è´¦å·ä¸‹ï¼š</p>
<pre><code class="hljs">åŸä»“åº“ï¼ˆupstreamï¼‰ â†’ ä½ çš„ä»“åº“ï¼ˆoriginï¼‰
</code></pre>
<p>ä½ åœ¨è‡ªå·±çš„ä»“åº“é‡Œå¯ä»¥éšæ„ä¿®æ”¹ä»£ç ï¼Œè€Œä¸ä¼šå½±å“åŸé¡¹ç›®ã€‚</p>
<hr/>
<h3 data-id="heading-2">äºŒã€æ•´ä½“åä½œæµç¨‹</h3>
<pre><code class="hljs language-css" lang="css">flowchart <span class="hljs-selector-tag">TD</span>
    <span class="hljs-selector-tag">A</span><span class="hljs-selector-attr">[åŸé¡¹ç›® GitHub ä»“åº“]</span> --&gt;|Fork| <span class="hljs-selector-tag">B</span><span class="hljs-selector-attr">[ä½ è‡ªå·±çš„ GitHub ä»“åº“]</span>
    <span class="hljs-selector-tag">B</span> --&gt;|git clone| C<span class="hljs-selector-attr">[ä½ çš„æœ¬åœ°ä»“åº“]</span>
    <span class="hljs-selector-tag">A</span> --&gt;|git fetch upstream| C
    C --&gt;|git merge upstream/<span class="hljs-selector-tag">main</span>| C
    C --&gt;|git push origin| <span class="hljs-selector-tag">B</span>
    <span class="hljs-selector-tag">B</span> --&gt;|Pull Request| <span class="hljs-selector-tag">A</span>
</code></pre>
<hr/>
<h3 data-id="heading-3">ä¸‰ã€Fork é¡¹ç›®ï¼ˆç½‘é¡µæ“ä½œï¼‰</h3>
<ol>
<li>
<p>æ‰“å¼€ä½ è¦ Fork çš„ä»“åº“ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-symbol">https:</span>//github.com/vercel/<span class="hljs-keyword">next</span>.js
</code></pre>
</li>
<li>
<p>ç‚¹å‡»å³ä¸Šè§’ <strong>Fork</strong></p>
</li>
<li>
<p>é€‰æ‹©ä½ çš„ GitHub è´¦å·</p>
</li>
<li>
<p>å¾—åˆ°ä½ çš„ä»“åº“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">https://github.com/ä½ çš„ç”¨æˆ·å/next.js
</code></pre>
</li>
</ol>
<hr/>
<h3 data-id="heading-4">å››ã€Clone åˆ°æœ¬åœ°</h3>
<pre><code class="hljs language-bash" lang="bash">git <span class="hljs-built_in">clone</span> https://github.com/ä½ çš„ç”¨æˆ·å/next.js.git
<span class="hljs-built_in">cd</span> next.js
</code></pre>
<hr/>
<h3 data-id="heading-5">äº”ã€é…ç½® upstreamï¼ˆéå¸¸é‡è¦ï¼‰</h3>
<p>æŸ¥çœ‹å½“å‰è¿œç¨‹ä»“åº“ï¼š</p>
<pre><code class="hljs">git remote -v
</code></pre>
<p>ä½ ä¼šçœ‹åˆ°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">origin https://github.com/ä½ çš„ç”¨æˆ·å/next.js.git
</code></pre>
<p>æ·»åŠ åŸä»“åº“ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">git remote <span class="hljs-keyword">add</span> upstream https:<span class="hljs-comment">//github.com/vercel/next.js.git</span>
</code></pre>
<p>å†ç¡®è®¤ï¼š</p>
<pre><code class="hljs">git remote -v
</code></pre>
<p>åº”è¯¥æ˜¯ï¼š</p>
<pre><code class="hljs">origin   ä½ è‡ªå·±çš„ä»“åº“
upstream åŸé¡¹ç›®ä»“åº“
</code></pre>
<hr/>
<h3 data-id="heading-6">å…­ã€åŒæ­¥åŸé¡¹ç›®æœ€æ–°ä»£ç ï¼ˆæ ‡å‡†æµç¨‹ï¼‰</h3>
<pre><code class="hljs language-css" lang="css">git checkout <span class="hljs-selector-tag">main</span>
git fetch upstream
git merge upstream/<span class="hljs-selector-tag">main</span>
git push origin <span class="hljs-selector-tag">main</span>
</code></pre>
<p>å«ä¹‰ï¼š</p>
<blockquote>
<p>ç”¨åŸä½œè€…çš„ main æ›´æ–°ä½ çš„ mainï¼Œå¹¶æ¨é€åˆ°ä½ è‡ªå·±çš„ GitHub</p>
</blockquote>
<hr/>
<h3 data-id="heading-7">ä¸ƒã€å¼€å‘ä½ çš„åŠŸèƒ½</h3>
<pre><code class="hljs language-perl" lang="perl">git checkout -b <span class="hljs-keyword">my</span>-feature
<span class="hljs-comment"># ä¿®æ”¹ä»£ç </span>
git add .
git commit -m <span class="hljs-string">"Add my feature"</span>
git <span class="hljs-keyword">push</span> origin <span class="hljs-keyword">my</span>-feature
</code></pre>
<hr/>
<h3 data-id="heading-8">å…«ã€æäº¤ Pull Request</h3>
<ol>
<li>
<p>æ‰“å¼€ä½ çš„ GitHub ä»“åº“</p>
</li>
<li>
<p>GitHub ä¼šæç¤ºï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">Compare</span> &amp; Pull Request
</code></pre>
</li>
<li>
<p>ç‚¹å‡»å¹¶å¡«å†™è¯´æ˜</p>
</li>
<li>
<p>æäº¤ â†’ åŸé¡¹ç›®ç»´æŠ¤è€…å®¡æ ¸</p>
</li>
</ol>
<hr/>
<h3 data-id="heading-9">ä¹ã€ä¸ºä»€ä¹ˆå¿…é¡»ä½¿ç”¨ upstreamï¼Ÿ</h3>

















<table><thead><tr><th>è¿œç¨‹å</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>origin</td><td>ä½ è‡ªå·±çš„ GitHub ä»“åº“</td></tr><tr><td>upstream</td><td>åŸä½œè€…çš„ GitHub ä»“åº“</td></tr></tbody></table>
<p>ä½ åªå‘ origin pushï¼Œä½†è¦ä» upstream è·å–æœ€æ–°ç‰ˆæœ¬ã€‚</p>
<hr/>
<h3 data-id="heading-10">åã€fetch vs merge çš„æ­£ç¡®ç”¨æ³•</h3>
<pre><code class="hljs language-rust" lang="rust">sequenceDiagram
    participant U <span class="hljs-keyword">as</span> GitHub upstream
    participant L <span class="hljs-keyword">as</span> Local Repo
    participant O <span class="hljs-keyword">as</span> GitHub origin

    U<span class="hljs-punctuation">-&gt;</span>&gt;L: git fetch upstream
    L<span class="hljs-punctuation">-&gt;</span>&gt;L: upstream/main æ›´æ–°
    L<span class="hljs-punctuation">-&gt;</span>&gt;L: git merge upstream/main
    L<span class="hljs-punctuation">-&gt;</span>&gt;O: git push origin main
</code></pre>
<ul>
<li><code>fetch</code> = ä¸‹è½½çœŸå®ä¸–ç•Œ</li>
<li><code>merge</code> = ä½¿ç”¨çœŸå®ä¸–ç•Œ</li>
</ul>
<p>æ°¸è¿œä¸è¦è·³è¿‡ fetchã€‚</p>
<hr/>
<h3 data-id="heading-11">åä¸€ã€é”™è¯¯ç¤ºä¾‹ï¼ˆä¸è¦è¿™æ ·ï¼‰</h3>
<pre><code class="hljs language-bash" lang="bash">git merge upstream/main   <span class="hljs-comment"># âŒ å¦‚æœä½ æ²¡å…ˆ fetch</span>
</code></pre>
<p>ä½ åˆå¹¶çš„å¯èƒ½æ˜¯ <strong>å‡ ä¸ªæœˆå‰ç¼“å­˜çš„ upstream</strong>ï¼Œéå¸¸å±é™©ã€‚</p>
<hr/>
<h3 data-id="heading-12">åäºŒã€æœ€ä½³å®è·µæ€»ç»“</h3>
<blockquote>
<p>Fork é¡¹ç›®çš„ç”Ÿå­˜æ³•åˆ™</p>
</blockquote>
<pre><code class="hljs language-sql" lang="sql">åªå‘ origin å†™ä»£ç   
åªä» upstream è¯»æ›´æ–°  
<span class="hljs-keyword">fetch</span> åœ¨å‰ï¼Œ<span class="hljs-keyword">merge</span> åœ¨å
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸš€ React Router 7 + Vercel éƒ¨ç½²å…¨æŒ‡å—]]></title>    <link>https://juejin.cn/post/7593077945015779355</link>    <guid>https://juejin.cn/post/7593077945015779355</guid>    <pubDate>2026-01-09T08:20:16.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593077945015779355" data-draft-id="7592992745574465574" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸš€ React Router 7 + Vercel éƒ¨ç½²å…¨æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T08:20:16.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="whisper"/> <meta itemprop="url" content="https://juejin.cn/user/2814366169706040"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸš€ React Router 7 + Vercel éƒ¨ç½²å…¨æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2814366169706040/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    whisper
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:20:16.000Z" title="Fri Jan 09 2026 08:20:16 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">ä¸€ã€ å¼€å‘ç¯å¢ƒå‡†å¤‡ (æœ¬åœ°)</h3>
<ol>
<li><strong>æ¨èåŒ…ç®¡ç†å™¨</strong>ï¼šä½¿ç”¨ <code>pnpm</code> æ›¿ä»£ <code>npm</code> ä»¥è·å¾—æ›´å¿«çš„æ„å»ºé€Ÿåº¦å’Œæ›´æ¸…æ™°çš„ä¾èµ–ç®¡ç†ã€‚</li>
</ol>
<p>å¦‚æœå·²ç»ä½¿ç”¨npmæ„å»ºï¼Œé‚£ä¹ˆå…ˆåˆ æ‰node_modulesæ–‡ä»¶å¤¹ï¼Œå®‰è£…pnpm</p>
<pre><code class="hljs">pnpm install
</code></pre>
<ol start="2">
<li><strong>Node.js ç‰ˆæœ¬é™åˆ¶</strong>ï¼š</li>
</ol>
<p>åœ¨ <code>package.json</code> ä¸­æ˜¾å¼æŒ‡å®šï¼š</p>
<ul>
<li>
<ul>
<li>JSON</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"engines"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"node"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"20.x"</span> <span class="hljs-punctuation">}</span>
</code></pre>
<ol start="3">
<li><strong>é™æ€æ¨¡å¼é…ç½® (SPA)</strong> ï¼š</li>
</ol>
<p>è‹¥ä¸éœ€è¦ SSRï¼ˆæœåŠ¡ç«¯æ¸²æŸ“ï¼‰ï¼Œåœ¨ <code>react-router.config.ts</code> ä¸­è®¾ç½®ï¼š</p>
<ul>
<li>
<ul>
<li>TypeScript</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> { ssr: <span class="hljs-literal">false</span> } satisfies Config;
</code></pre>
<ol start="4">
<li><strong>å…³è”githubåŠvercel</strong></li>
</ol>
<p>æœ¬åœ°ä»£ç æäº¤åˆ°githubï¼ŒåŒæ—¶ç™»å½•vercelå¹³å°ï¼Œå°†vercelä¸githubå…³è”ä¸Šï¼Œåç»­ä½ åœ¨æœ¬åœ°æ”¹åŠ¨äº†ä»£ç å¹¶æäº¤åˆ°githubåï¼Œè®¿é—®vercelå¹³å°çš„é¡¹ç›®åŸŸåå°±èƒ½çœ‹åˆ°æ”¹åŠ¨çš„å†…å®¹äº†</p>
<hr/>
<h3 data-id="heading-1">äºŒã€ é™æ€èµ„æºä¸å›¾æ ‡ (Icon)</h3>
<ol>
<li><strong>æ–‡ä»¶å­˜æ”¾</strong>ï¼šæ‰€æœ‰çš„å›¾ç‰‡ã€SVG å›¾æ ‡å¿…é¡»æ”¾åœ¨æ ¹ç›®å½•çš„ <code>public/</code> æ–‡ä»¶å¤¹ä¸‹ã€‚</li>
<li><strong>é¡µé¢å¼•å…¥</strong>ï¼š</li>
</ol>
<p>åœ¨ <code>app/root.tsx</code> çš„ <code>links</code> å‡½æ•°ä¸­é…ç½®ï¼š</p>
<ul>
<li>
<ul>
<li>TypeScript</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">export const links: <span class="hljs-attr">LinksFunction</span> = () =&gt; [
  { rel: <span class="hljs-string">"icon"</span>, type: <span class="hljs-string">"image/svg+xml"</span>, href: <span class="hljs-string">"/logo.svg"</span> },
]<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h3 data-id="heading-2">ä¸‰ã€ Vercel éƒ¨ç½²å…³é”®ç‚¹ (æœ€é‡è¦)</h3>
<p>å¦‚æœä½ é‡åˆ° <code>now-php</code> æˆ– <code>Function Runtimes</code> æŠ¥é”™ï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹é…ç½®ï¼š</p>
<p><code>vercel.json</code> <strong>é…ç½®</strong>ï¼ˆå¼ºåˆ¶é™æ€é‡å†™ï¼Œé˜²æ­¢ 404ï¼‰ï¼š</p>
<ol>
<li>JSON</li>
</ol>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"framework"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"vite"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"rewrites"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">{</span> <span class="hljs-attr">"source"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/(.*)"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"destination"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"/"</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<ol start="2">
<li><strong>Vercel åå°è®¾ç½®</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li><strong>Framework Preset</strong>: ä¼˜å…ˆé€‰æ‹© <code>Vite</code>ï¼›å¦‚æœè¢«é”å®šä¸º <code>React Router</code>ï¼Œè¯·ç¡®ä¿æ‰‹åŠ¨å¼€å¯ <strong>Build and Output Settings</strong>ã€‚</li>
<li><strong>Build Command</strong>: <code>pnpm build</code></li>
<li><strong>Output Directory</strong>: <code>dist</code>ï¼ˆå¦‚æœåœ¨è„šæœ¬ä¸­æ‰‹åŠ¨ç§»åŠ¨äº†äº§ç‰©ï¼‰æˆ– <code>build/client</code>ã€‚</li>
<li><strong>Install Command</strong>: <code>pnpm install</code></li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-3">å››ã€ è‡ªå®šä¹‰åŸŸå</h3>
<ol>
<li><strong>ä¿®æ”¹ Vercel é»˜è®¤åŸŸå</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li><code>Settings</code> -&gt; <code>Domains</code> -&gt; <code>Edit</code>ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹ <code>xxx.vercel.app</code> çš„å‰ç¼€ã€‚</li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>ç»‘å®šç‹¬ç«‹åŸŸå</strong>ï¼š</li>
</ol>
<ul>
<li>
<ul>
<li>åœ¨ <code>Domains</code> é¡µé¢è¾“å…¥ä½ è´­ä¹°çš„åŸŸåã€‚</li>
<li><strong>DNS é…ç½®</strong>ï¼š</li>
</ul>
</li>
</ul>

<ul>
<li>
<ul>
<li>
<ul>
<li><strong>A è®°å½•</strong>ï¼šæŒ‡å‘ <code>76.76.21.21</code>ã€‚</li>
<li><strong>CNAME è®°å½•</strong>ï¼šæŒ‡å‘ <code>cname.vercel-dns.com</code>ã€‚</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr/>
<h3 data-id="heading-4">ğŸ’¡ æ ¸å¿ƒé¿å‘å¿ƒå¾—</h3>
<ul>
<li><strong>æ¸…ç†ç¼“å­˜</strong>ï¼šéƒ¨ç½²æŠ¥é”™æ—¶ï¼Œå°è¯•åˆ é™¤ Vercel é¡¹ç›®é‡æ–°å¯¼å…¥ï¼Œå¹¶ç¡®ä¿ <code>pnpm-lock.yaml</code> æ˜¯æœ€æ–°çš„ã€‚</li>
<li><strong>è·¯å¾„å¤§å°å†™</strong>ï¼šVercel çš„ Linux ç¯å¢ƒå¯¹æ–‡ä»¶åå¤§å°å†™æ•æ„Ÿï¼Œç¡®ä¿ <code>import</code> è·¯å¾„ä¸æ–‡ä»¶åå®Œå…¨ä¸€è‡´ã€‚</li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»vue3 watchå¼€å§‹ç†è§£Vueçš„å“åº”å¼åŸç†]]></title>    <link>https://juejin.cn/post/7592922036093222927</link>    <guid>https://juejin.cn/post/7592922036093222927</guid>    <pubDate>2026-01-09T08:23:32.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592922036093222927" data-draft-id="7592939457043529780" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»vue3 watchå¼€å§‹ç†è§£Vueçš„å“åº”å¼åŸç†"/> <meta itemprop="keywords" content="Vue.js,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T08:23:32.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¾å¾å­"/> <meta itemprop="url" content="https://juejin.cn/user/1724455245584872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»vue3 watchå¼€å§‹ç†è§£Vueçš„å“åº”å¼åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1724455245584872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¾å¾å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:23:32.000Z" title="Fri Jan 09 2026 08:23:32 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»vue3 watchå¼€å§‹ç†è§£Vueçš„å“åº”å¼åŸç†</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>vueæºä»£ç çš„å†…å®¹éå¸¸ä¹‹å¤šï¼ŒåŒ…æ‹¬æ¨¡æ¿è§£æï¼ˆæŠŠvueæ–‡ä»¶çš„å†™æ³•è§£ææˆä¸€ä¸ªå‡½æ•°ç”¨æ¥æ’å…¥domæˆ–è€…è°ƒæ•´domï¼‰ï¼Œä¾èµ–æ”¶é›†ï¼Œå“åº”å¼ï¼Œäº‹ä»¶å¤„ç†ï¼Œæ’æ§½ï¼Œç»„ä»¶ï¼ŒæŒ‡ä»¤ï¼Œç­‰ç­‰ç­‰ã€‚åˆšå¼€å§‹çœ‹æ—¶ä¸çŸ¥é“ä»ä½•çœ‹èµ·ï¼Œè¿™é‡Œåˆ†äº«ä¸€ä¸ªä¸ªäººçš„å­¦ä¹ æ€è·¯ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¸€äº›å…³é”®çš„apiå¼€å§‹é€æ­¥å­¦ä¹ ï¼Œè¿™é‡Œæ¨è reactiveï¼Œwatchã€‚æ˜ç™½äº†è¿™ä¸¤ä¸ªapiæ—¶å¦‚ä½•å·¥ä½œçš„ï¼Œé‚£vueçš„å“åº”å¼ç³»ç»Ÿå°±åŸºæœ¬ç†è§£äº†ã€‚</p>
<h3 data-id="heading-2">let`s start</h3>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// demo.js</span>
<span class="hljs-keyword">import</span> { reactive, watch } <span class="hljs-keyword">from</span> <span class="hljs-string">'./vue-core.js'</span>
<span class="hljs-keyword">const</span> user = <span class="hljs-title function_">reactive</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">'Alice'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>
})
<span class="hljs-title function_">watch</span>(user, <span class="hljs-function">(<span class="hljs-params">newValue, oldValue</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
    <span class="hljs-string">`User changed from <span class="hljs-subst">${oldValue.name}</span>,<span class="hljs-subst">${oldValue.age}</span> to <span class="hljs-subst">${newValue.name}</span>,<span class="hljs-subst">${newValue.age}</span>`</span>
  )
})
<span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
  user.<span class="hljs-property">name</span> = <span class="hljs-string">'Bob'</span>
  user.<span class="hljs-property">age</span> = <span class="hljs-number">30</span>
}, <span class="hljs-number">1000</span>)

</code></pre>
<p>æœ´ç´ çš„ç¤ºä¾‹ï¼Œå¦‚æœuserå‘ç”Ÿäº†å˜åŒ–ã€‚é‚£ä¹ˆå°±ä¼šè§¦å‘watchçš„å›è°ƒã€‚è„±ç¦»vueæ¡†æ¶ï¼Œæˆ‘ä»¬éœ€è¦å¦‚ä½•è®¾è®¡å‘¢ï¼Œé¦–å…ˆæƒ³åˆ°çš„ç®€å•é€»è¾‘å°±æ˜¯æ‹¦æˆªuserçš„setå’Œgetã€‚æ— è®ºæ˜¯é€šè¿‡Proxyè¿˜æ˜¯Objectçš„setï¼ŒåŸç†æ˜¯ä¸€æ ·çš„ã€‚</p>
<pre><code class="hljs language-vue-core.js" lang="vue-core.js">let activeSub = null // å½“å‰æ´»è·ƒçš„è®¢é˜…è€…
const targetMap = new WeakMap()

export function reactive(obj) {
  return new Proxy(obj, {
    get(target, key, receiver) {
      track(target, key)
      return Reflect.get(target, key, receiver)
    },
    set(target, key, value, receiver) {
      const res = Reflect.set(target, key, value, receiver)
      trigger(target, key)
      return res
    }
  })
}
// ç®€åŒ–ç‰ˆwatchå®ç°,åªè€ƒè™‘ç›‘å¬ä¸€ä¸ªreactiveå¯¹è±¡ï¼ˆç±»ä¼¼ä¸Šé¢çš„userä¾‹å­ï¼‰çš„å˜åŒ–
export function watch(source, cb) {
  const getter = () =&gt; {
    for (const key in source) {
      source[key]
    }
    return source
  }
  let oldValue
  const effect = new ReactiveEffect(getter)
  const job = () =&gt; {
    const newValue = effect.run()
    //todo å¯¹æ¯”newValueå’ŒoldValueæ˜¯å¦æœ‰å˜åŒ–
    cb(newValue, oldValue)
    oldValue = newValue
  }
  effect.schedule = job
  oldValue = effect.run()
  console.log('old', oldValue)
}

// ç¤ºä¾‹è§£é‡Šï¼šæœé›†userä¸­æ¯ä¸ªkeyçš„ä¸‹æ¸¸ä¾èµ–ï¼Œå½“userçš„nameæˆ–ageå˜åŒ–æ—¶ï¼Œè§¦å‘å¯¹åº”çš„ä¾èµ–æ›´æ–°ï¼Œä»è€Œè°ƒç”¨watchçš„å›è°ƒå‡½æ•°ã€‚
function track(target, key) {
  let depsMap = targetMap.get(target)
  if (!depsMap) {
    targetMap.set(target, (depsMap = new Map()))
  }
  let dep = depsMap.get(key)
  if (!dep) {
    depsMap.set(key, (dep = new Dep()))
  }
  dep.track()
}
function trigger(target, key) {
  const depsMap = targetMap.get(target)
  if (!depsMap) return
  const dep = depsMap.get(key)
  if (dep) {
    dep.trigger()
  }
}

function Dep() {
  this.subs = new Set()
  this.track = () =&gt; {
    // å€ŸåŠ©å…¨å±€å˜é‡activeSubè®°å½•å½“å‰æ´»è·ƒçš„è®¢é˜…è€…
    if (activeSub) {
      this.subs.add(activeSub)
    }
  }
  this.trigger = () =&gt; {
    this.subs.forEach((sub) =&gt; {
      sub.notify()
    })
  }
}

function ReactiveEffect(fn) {
  this.fn = fn
  this.notify = null // å›è°ƒå‡½æ•°, å¯ç±»æ¯”äºwatchçš„cbç”¨æ¥è¾…åŠ©ç†è§£
  this.schedule = null
  this.run = () =&gt; {
    // æ ‡è®°å½“å‰æ´»è·ƒçš„è®¢é˜…è€…ä¸ºthis é€šè¿‡fnè§¦å‘æ¯ä¸ªrefæˆ–è€…reactiveå¯¹è±¡çš„getter
    // ä»è€Œè§¦å‘trackå‡½æ•°ï¼Œå°†å½“å‰æ´»è·ƒçš„è®¢é˜…è€…thisæ·»åŠ åˆ°depçš„subsä¸­
    const preActiveSub = activeSub
    activeSub = this
    const value = this.fn()
    activeSub = preActiveSub
    return value
  }
  // ä¸Šæ¸¸çš„refæˆ–è€…reactiveå¯¹è±¡è§¦å‘setteræ—¶ï¼Œä¼šé€šè¿‡æ”¶é›†è€…è°ƒç”¨triggerå‡½æ•°ï¼Œä»è€Œè§¦å‘scheduleå‡½æ•°ï¼Œåœ¨watchä¸­å°±æ˜¯cbå‡½æ•°
  this.trigger = () =&gt; {
    this.schedule?.()
  }
  this.notify = () =&gt; {
    this.trigger()
  }
}


</code></pre>
<p>ä»ä¸Šé¢çš„demoä¸­æˆ‘ä»¬åˆæ­¥å®ç°äº†userå˜åŠ¨æ—¶è°ƒç”¨ä¸€ä¸ªå›è°ƒï¼Œdepsè¡¨ç¤ºâ€œä¾èµ–â€ï¼Œé€šä¿—çš„ç†è§£å°±æ˜¯æœ‰å¤šå°‘ä¸ªä¸‹æ¸¸æ­£åœ¨ä¾èµ–userï¼Œä¾‹å¦‚computedï¼Œwatchï¼Œrenderå‡½æ•°ç­‰ç­‰è¿™äº›çš„æœ€ç»ˆç»“æœéƒ½æ˜¯æ ¹æ®ä¸Šæ¸¸æ¥å˜åŠ¨çš„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ea5b4ca808c4f92ad4f667b53d72641~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5b6Q5b6Q5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768551812&amp;x-signature=zZe3IG9xoTjpn77lYac00AbsKMQ%3D" alt="3a7131ea44dd9bfb4726e7f3af8f988ce8045f8de77b904d636c9d9b0ff74207.png" loading="lazy"/></p>
<p>è¿™é‡Œé¢å…¶å®å°±ä¸¤ä¸ªæ¦‚å¿µéœ€è¦ç†è§£ï¼Œä¸€ä¸ªæ˜¯ä¾èµ–æ”¶é›†è€… Depï¼Œä¸€ä¸ªæ˜¯å“åº”å‰¯ä½œç”¨ç®¡ç†å™¨ ReactiveEffectã€‚å€ŸåŠ©ä¾‹å­ï¼ŒDep ç†è§£ä¸ºç”¨æ¥ç®¡ç†userä¸­æ¯ä¸ªkeyéƒ½æœ‰å“ªäº›watchæ­£åœ¨ç›‘å¬ã€‚è€Œ ReactiveEffect ç†è§£ä¸ºå½“userçš„æŸä¸ªkeyå‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦è°ƒç”¨å“ªäº›watchçš„å›è°ƒå‡½æ•°ã€‚</p>
<p>è°ƒç”¨watchçš„è¿‡ç¨‹å…¶å®å…³æ³¨çš„å°±æ˜¯  oldValue = effect.run() è¿™ä¸€æ®µä»£ç ã€‚åœ¨åˆ›å»ºwatchæ—¶ï¼Œä¼šç«‹å³è°ƒç”¨effect.run()ï¼Œä»è€Œè§¦å‘userçš„getterï¼Œä»è€Œè§¦å‘trackå‡½æ•°ï¼Œå°†å½“å‰æ´»è·ƒçš„è®¢é˜…è€…effectæ·»åŠ åˆ°user.nameå’Œuser.ageçš„depä¸­ã€‚è¿™æ ·ï¼Œå½“user.nameæˆ–user.ageå‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±ä¼šè§¦å‘triggerå‡½æ•°ï¼Œä»è€Œè°ƒç”¨effectçš„notifyå‡½æ•°ï¼Œä»è€Œè°ƒç”¨watchçš„å›è°ƒå‡½æ•°ã€‚</p>
<p>ç»„ä»¶æ¸²æŸ“å…¶å®å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„watchï¼Œwatchçš„å›è°ƒå‡½æ•°å°±æ˜¯æ¸²æŸ“å‡½æ•°ã€‚å½“userçš„nameæˆ–ageå‘ç”Ÿå˜åŒ–æ—¶ï¼Œå°±ä¼šè§¦å‘æ¸²æŸ“å‡½æ•°ï¼Œä»è€Œæ›´æ–°domã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ Electron å†™äº†ä¸€ä¸ª macOS ç‰ˆæœ¬çš„ wallpaperï¼ˆé™„æºç ã€ä¸‹è½½åœ°å€ï¼‰]]></title>    <link>https://juejin.cn/post/7592939457043726388</link>    <guid>https://juejin.cn/post/7592939457043726388</guid>    <pubDate>2026-01-09T08:46:46.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592939457043726388" data-draft-id="7592939457043349556" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ Electron å†™äº†ä¸€ä¸ª macOS ç‰ˆæœ¬çš„ wallpaperï¼ˆé™„æºç ã€ä¸‹è½½åœ°å€ï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,Electron,Vue.js"/> <meta itemprop="datePublished" content="2026-01-09T08:46:46.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="musashi"/> <meta itemprop="url" content="https://juejin.cn/user/4072246799240072"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ Electron å†™äº†ä¸€ä¸ª macOS ç‰ˆæœ¬çš„ wallpaperï¼ˆé™„æºç ã€ä¸‹è½½åœ°å€ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4072246799240072/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    musashi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:46:46.000Z" title="Fri Jan 09 2026 08:46:46 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    3
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Mac ä¸Šä¸€ç›´æœªèƒ½æ‰¾åˆ°å…è´¹ä¸”å¥½ç”¨çš„ç±»ä¼¼ Wallpaper Engine çš„åŠ¨æ€å£çº¸è½¯ä»¶ã€‚æ‰€ä»¥ç›´æ¥æƒ³ç€è‡ªå·±æä¸€ä¸ªã€‚</p>
<p>æœ¬æ–‡ä¸»è¦è®°å½•æ ¸å¿ƒæŠ€æœ¯ç‚¹çš„å®ç°ï¼ŒåŒ…æ‹¬â€œå°†çª—å£ç½®äºæ¡Œé¢å›¾æ ‡ä¸‹å±‚â€ã€â€œå¤šæ˜¾ç¤ºå™¨æ”¯æŒâ€ã€â€œç³»ç»Ÿæ‰˜ç›˜å¸¸é©»â€ã€‚</p>
<p>æ•ˆæœå±•ç¤ºï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/287c98bf651a4a06934c604bc032785b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgbXVzYXNoaQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768553772&amp;x-signature=MvFAzM5UTh1rTEbjQIDdOnbjp84%3D" alt="output.gif" loading="lazy"/></p>
<h2 data-id="heading-0">åŠŸèƒ½æ”¯æŒ</h2>
<ul>
<li><strong>æ§åˆ¶ä¸­å¿ƒ (Dashboard)</strong>ï¼šæä¾›ç‹¬ç«‹çš„æ§åˆ¶é¢æ¿ï¼Œå¯ä¸ºæ¯ä¸ªæ˜¾ç¤ºå™¨å•ç‹¬ç®¡ç†å£çº¸ã€‚</li>
<li><strong>ä¸°å¯Œçš„åª’ä½“æ”¯æŒ</strong>ï¼š
<ul>
<li><strong>å›¾ç‰‡</strong>ï¼šæ”¯æŒ JPG, PNG, GIF, WebP ç­‰å¸¸è§æ ¼å¼ã€‚</li>
<li><strong>è§†é¢‘</strong>ï¼šæ”¯æŒ MP4, WebM, MKV, MOV (è‡ªåŠ¨é™éŸ³å¾ªç¯æ’­æ”¾)ã€‚</li>
<li><strong>HTML</strong>ï¼šæ”¯æŒå°†ä»»æ„æœ¬åœ° HTML æ–‡ä»¶è®¾ç½®ä¸ºäº¤äº’å¼å£çº¸ã€‚</li>
</ul>
</li>
<li><strong>è‡ªåŠ¨ä¿å­˜çŠ¶æ€</strong>ï¼šåº”ç”¨é‡å¯åï¼Œè‡ªåŠ¨æ¢å¤ä¸Šæ¬¡è®¾ç½®çš„å£çº¸é…ç½®ã€‚</li>
<li><strong>å†å²è®°å½•</strong>ï¼šè‡ªåŠ¨è®°å½•æœ€è¿‘ä½¿ç”¨çš„å£çº¸ï¼Œæ–¹ä¾¿å¿«é€Ÿåˆ‡æ¢å›ä¹‹å‰çš„å–œçˆ±å†…å®¹ã€‚</li>
<li><strong>å¤šæ˜¾ç¤ºå™¨æ”¯æŒ</strong>ï¼šè‡ªåŠ¨æ£€æµ‹æ¥å…¥çš„æ˜¾ç¤ºå™¨ï¼Œå¹¶æ”¯æŒå¤šå±ç‹¬ç«‹è®¾ç½®ã€‚</li>
<li><strong>åœ¨çº¿ç”»å»Š</strong>ï¼šå†…ç½®åœ¨çº¿èµ„æºåº“ï¼Œå¯ä¸€é”®ä¸‹è½½åŒ…æ‹¬ã€Šç»åŒºé›¶ã€‹ã€ã€ŠåŸç¥ã€‹ã€ã€Šé¸£æ½®ã€‹ç­‰çƒ­é—¨æ¸¸æˆçš„é«˜æ¸…é™æ€ä¸åŠ¨æ€å£çº¸ã€‚</li>
</ul>
<h2 data-id="heading-1">æ ¸å¿ƒæŠ€æœ¯å®ç°</h2>
<h3 data-id="heading-2">1. å°†çª—å£ç½®äºæ¡Œé¢å›¾æ ‡ä¸‹å±‚</h3>
<p>è¿™æ˜¯æœ€æ ¸å¿ƒçš„åŠŸèƒ½ã€‚Electron çš„ <code>BrowserWindow</code> æä¾›äº†ä¸€ä¸ª <code>type: 'desktop'</code> å±æ€§ï¼Œåœ¨ macOS ä¸Šä¼šå°†çª—å£ç½®äºæœ€åº•å±‚ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> win = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BrowserWindow</span>({
  <span class="hljs-attr">type</span>: <span class="hljs-string">'desktop'</span>, <span class="hljs-comment">// å…³é”®é…ç½®ï¼šè®¾ç½®ä¸ºæ¡Œé¢ç±»å‹</span>
  <span class="hljs-attr">enableLargerThanScreen</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">frame</span>: <span class="hljs-literal">false</span>,    <span class="hljs-comment">// æ— è¾¹æ¡†</span>
  <span class="hljs-attr">show</span>: <span class="hljs-literal">false</span>,     <span class="hljs-comment">// å…ˆéšè—ï¼ŒåŠ è½½å®Œå†æ˜¾ç¤º</span>
  <span class="hljs-attr">webPreferences</span>: {
    <span class="hljs-attr">nodeIntegration</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">contextIsolation</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">webSecurity</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">// å…è®¸åŠ è½½æœ¬åœ°èµ„æº</span>
  }
});
</code></pre>
<p>ä»…ä»…è¿™æ ·è¿˜ä¸å¤Ÿï¼Œä¸ºäº†ä¿è¯äº¤äº’ä½“éªŒï¼Œæˆ‘ä»¬éœ€è¦è®©è¿™ä¸ªçª—å£æ— æ³•è¢«èšç„¦å’Œç§»åŠ¨ï¼ŒåƒçœŸæ­£çš„å£çº¸ä¸€æ ·ã€‚</p>
<h3 data-id="heading-3">2. å¤šæ˜¾ç¤ºå™¨æ”¯æŒ</h3>
<p>ç°åœ¨çš„å¼€å‘ç¯å¢ƒé€šå¸¸éƒ½æœ‰å¤šä¸ªå±å¹•ã€‚é€šè¿‡ Electron çš„ <code>screen</code> æ¨¡å—è·å–æ‰€æœ‰æ˜¾ç¤ºå™¨ï¼Œå¹¶ä¸ºæ¯ä¸ªæ˜¾ç¤ºå™¨åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„ BrowserWindow å®ä¾‹ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> { screen } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'electron'</span>);

<span class="hljs-keyword">const</span> displays = screen.<span class="hljs-title function_">getAllDisplays</span>();

displays.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">display</span>) =&gt;</span> {
  <span class="hljs-title function_">createWallpaperWindow</span>(display);
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">createWallpaperWindow</span>(<span class="hljs-params">display</span>) {
  <span class="hljs-keyword">const</span> { x, y, width, height } = display.<span class="hljs-property">bounds</span>;
  <span class="hljs-keyword">const</span> win = <span class="hljs-keyword">new</span> <span class="hljs-title class_">BrowserWindow</span>({
    x, y, width, height, <span class="hljs-comment">// å¡«æ»¡å½“å‰å±å¹•</span>
    <span class="hljs-comment">// ... å…¶ä»–é…ç½®</span>
  });
  
  <span class="hljs-comment">// åŠ è½½èµ„æº</span>
  win.<span class="hljs-title function_">loadFile</span>(<span class="hljs-string">'path/to/wallpaper.html'</span>);
}
</code></pre>
<h3 data-id="heading-4">3. èµ„æºè·å– (çˆ¬è™«)</h3>
<p>ä¸ºäº†è§£å†³å£çº¸æ¥æºé—®é¢˜ï¼Œå†…ç½®äº†ä¸€ä¸ªç®€å•çš„çˆ¬è™«ï¼ˆåŸºäº Node.js <code>fetch</code>ï¼‰ï¼ŒæŠ“å–ç±³æ¸¸ç¤¾ç­‰å¹³å°çš„åŒäººå›¾å’Œå®˜æ–¹å£çº¸ã€‚</p>
<p>ä¸»è¦éš¾ç‚¹åœ¨äºå¤„ç†æ¥å£çš„ Referer æ ¡éªŒå’Œæ•°æ®åˆ†é¡µã€‚</p>
<h3 data-id="heading-5">4. ç”šè‡³æ”¯æŒå…³é—­ä¸»çª—å£åå¸¸é©»åå°</h3>
<p>ä¸ºäº†ä¸è®©åº”ç”¨åœ¨å…³é—­è®¾ç½®é¢æ¿ï¼ˆä¸»çª—å£ï¼‰æ—¶ç›´æ¥é€€å‡ºï¼Œéœ€è¦åˆ©ç”¨ <code>Tray</code> æ¨¡å—å’Œæ‹¦æˆª <code>window-all-closed</code> äº‹ä»¶ã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ‹¦æˆªä¸»çª—å£å…³é—­äº‹ä»¶ï¼Œæ”¹ä¸ºéšè—</span>
mainWindow.<span class="hljs-title function_">on</span>(<span class="hljs-string">'close'</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (!app.<span class="hljs-property">isQuitting</span>) {
    event.<span class="hljs-title function_">preventDefault</span>();
    mainWindow.<span class="hljs-title function_">hide</span>();
  }
});

<span class="hljs-comment">// å®ç°æ‰˜ç›˜èœå•</span>
<span class="hljs-keyword">const</span> tray = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Tray</span>(iconPath);
<span class="hljs-keyword">const</span> contextMenu = <span class="hljs-title class_">Menu</span>.<span class="hljs-title function_">buildFromTemplate</span>([
  { <span class="hljs-attr">label</span>: <span class="hljs-string">'æ‰“å¼€é¢æ¿'</span>, <span class="hljs-attr">click</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">showMainWindow</span>() },
  { <span class="hljs-attr">label</span>: <span class="hljs-string">'é€€å‡º'</span>, <span class="hljs-attr">click</span>: <span class="hljs-function">() =&gt;</span> {
      app.<span class="hljs-property">isQuitting</span> = <span class="hljs-literal">true</span>;
      app.<span class="hljs-title function_">quit</span>();
    } 
  }
]);
tray.<span class="hljs-title function_">setContextMenu</span>(contextMenu);
</code></pre>
<h2 data-id="heading-6">æ„å»ºä¸åˆ†å‘</h2>
<h3 data-id="heading-7">1. åŒæ¶æ„æ‰“åŒ…</h3>
<p>ä¸ºäº†åŒæ—¶æ”¯æŒ M1/M2/M3 (Apple Silicon) å’Œæ—§æ¬¾ Intel Macï¼Œé…ç½®äº† <code>electron-builder</code> çš„ universal æ„å»ºæˆ–åˆ†åˆ«æ„å»ºã€‚</p>
<p><code>package.json</code> é…ç½®ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"mac"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"target"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"default"</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">"arch"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"x64"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"arm64"</span><span class="hljs-punctuation">]</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-8">2. "åº”ç”¨å·²æŸåï¼Œæ— æ³•æ‰“å¼€" çš„è§£å†³</h3>
<p>å› ä¸ºæ²¡æœ‰è´­ä¹° Apple æ˜‚è´µçš„å¼€å‘è€…è¯ä¹¦è¿›è¡Œç­¾åï¼Œç¼–è¯‘å‡ºçš„ <code>.app</code> åœ¨åˆ«äººçš„ç”µè„‘ä¸Šè¿è¡Œæ—¶ä¼šè¢« macOS Gatekeeper æ‹¦æˆªï¼Œæç¤ºâ€œåº”ç”¨å·²æŸåâ€ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªå¸¸è§é—®é¢˜ï¼Œè§£å†³æ–¹æ³•æ˜¯ç§»é™¤è‹¹æœçš„éš”ç¦»å±æ€§ã€‚ç”¨æˆ·éœ€è¦æ‰§è¡Œä¸€æ¬¡ç»ˆç«¯å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">sudo xattr -rd com.apple.quarantine /Applications/Wallpaper-Mac.app
</code></pre>
<h2 data-id="heading-9">æºç ä¸ä¸‹è½½</h2>
<p>é¡¹ç›®å·²å¼€æºï¼Œè™½ç„¶åŠŸèƒ½ç®€å•ï¼Œä½†è¶³ä»¥æ»¡è¶³æ—¥å¸¸åŠ¨æ€å£çº¸éœ€æ±‚ï¼ˆæ”¯æŒè§†é¢‘ã€å›¾ç‰‡ï¼‰ã€‚</p>
<ul>
<li><strong>GitHub åœ°å€</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzhulinghao%2Fwallpaper-mac" target="_blank" title="https://github.com/zhulinghao/wallpaper-mac" ref="nofollow noopener noreferrer">github.com/zhulinghao/â€¦</a></li>
<li><strong>Release ä¸‹è½½</strong>: <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzhulinghao%2Fwallpaper-mac%2Freleases%2Ftag%2Fv1.0.0" target="_blank" title="https://github.com/zhulinghao/wallpaper-mac/releases/tag/v1.0.0" ref="nofollow noopener noreferrer">github.com/zhulinghao/â€¦</a></li>
</ul>
<p>æ¬¢è¿ Star å’Œ PRã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Web ä»”ç”¨ Node åƒ Java ä¸€æ ·å†™åç«¯æœåŠ¡]]></title>    <link>https://juejin.cn/post/7593173569871183924</link>    <guid>https://juejin.cn/post/7593173569871183924</guid>    <pubDate>2026-01-09T09:10:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593173569871183924" data-draft-id="7592960378690682915" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Web ä»”ç”¨ Node åƒ Java ä¸€æ ·å†™åç«¯æœåŠ¡"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T09:10:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="JFChen"/> <meta itemprop="url" content="https://juejin.cn/user/4336129593055966"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Web ä»”ç”¨ Node åƒ Java ä¸€æ ·å†™åç«¯æœåŠ¡
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4336129593055966/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    JFChen
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:10:27.000Z" title="Fri Jan 09 2026 09:10:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å½“Node.jsé‡ä¸ŠJavaçš„ä¼˜é›…æ¶æ„ï¼Œä¼šç¢°æ’å‡ºæ€æ ·çš„ç«èŠ±ï¼Ÿ</p>
</blockquote>
<p>ä½œä¸ºä¸€åå‰ç«¯å¼€å‘è€…ï¼Œæˆ‘ä»¬å¸¸å¸¸è¢«Javaå¼€å‘è€…"é„™è§†"ï¼š"Node.jså°±æ˜¯ä¸ªç©å…·ï¼Œå†™å†™å‰ç«¯è¿˜è¡Œï¼Œåšåç«¯ï¼Ÿç®—äº†å§ï¼" ä½†äº‹å®çœŸçš„å¦‚æ­¤å—ï¼Ÿé€šè¿‡ä¸€ä¸ªå®Œæ•´çš„manage-system-serveré¡¹ç›®å®è·µï¼Œæˆ‘å°†å‘å¤§å®¶å±•ç¤ºå¦‚ä½•ç”¨Node.jsæ„å»ºå‡ºåª²ç¾Java Springçš„ä¼ä¸šçº§åç«¯æœåŠ¡ï¼ŒNode.jsä¹Ÿå¯ä»¥å†™å¾—è¿™ä¹ˆ"JavaèŒƒå„¿"ï¼ä»Šå¤©å°±æ¥è·Ÿå¤§å®¶åˆ†äº«è¿™ä¸ªåŸºäº <strong>Koa + TypeScript + TypeORM</strong> çš„ç°ä»£åŒ–åç«¯æ¶æ„ã€‚</p>
<h2 data-id="heading-0">ğŸ—ï¸ æ¶æ„è®¾è®¡ï¼šSpring Bootçš„Node.jsç‰ˆ</h2>
<p>è¿™ä¸ªé¡¹ç›®é‡‡ç”¨äº†å…¸å‹çš„åˆ†å±‚æ¶æ„ï¼Œè®©æˆ‘æƒ³èµ·äº†Java Spring Bootçš„ä¼˜é›…è®¾è®¡ï¼š</p>
<pre><code class="hljs language-ruby" lang="ruby">src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ controllers/    <span class="hljs-comment"># æ§åˆ¶å™¨å±‚ - ç±»ä¼¼Springçš„<span class="hljs-doctag">@Controller</span></span>
â”‚   â”œâ”€â”€ entity/         <span class="hljs-comment"># æ•°æ®å®ä½“ - ç±»ä¼¼JPA Entity</span>
â”‚   â”œâ”€â”€ service/        <span class="hljs-comment"># ä¸šåŠ¡æœåŠ¡å±‚ - ç±»ä¼¼<span class="hljs-doctag">@Service</span></span>
â”‚   â””â”€â”€ req-validate/   <span class="hljs-comment"># è¯·æ±‚éªŒè¯ - ç±»ä¼¼DTOéªŒè¯</span>
â”œâ”€â”€ config/             <span class="hljs-comment"># é…ç½®ç®¡ç†</span>
â”œâ”€â”€ decorator/          <span class="hljs-comment"># è£…é¥°å™¨ - ç±»ä¼¼Springæ³¨è§£</span>
â”œâ”€â”€ middles/            <span class="hljs-comment"># ä¸­é—´ä»¶ - ç±»ä¼¼Springæ‹¦æˆªå™¨</span>
â””â”€â”€ tools/              <span class="hljs-comment"># å·¥å…·ç±»</span>
</code></pre>
<h2 data-id="heading-1">ğŸ¯ æ ¸å¿ƒç‰¹æ€§ï¼šJavaèŒƒå„¿çš„Node.jså®ç°</h2>
<h3 data-id="heading-2">1. ä¾èµ–æ³¨å…¥ï¼šå‘Šåˆ«requireçš„æ··ä¹±</h3>
<p>é¡¹ç›®ä½¿ç”¨ <code>typedi</code> å®ç°ä¾èµ–æ³¨å…¥ï¼Œè®©ä»£ç ç»„ç»‡æ›´åŠ æ¸…æ™°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Service</span>()
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> roleService: RoleService</span>) {}
  
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">userList</span>(<span class="hljs-params">req: IListReq</span>) {
    <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘</span>
  }
}
</code></pre>
<h3 data-id="heading-3">2. å£°æ˜å¼æ§åˆ¶å™¨ï¼šæ³¨è§£é©±åŠ¨çš„APIè®¾è®¡</h3>
<p>åŸºäº <code>routing-controllers</code> çš„æ§åˆ¶å™¨è®¾è®¡ï¼Œè®©APIå®šä¹‰å˜å¾—ä¼˜é›…ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@JsonController</span>()
<span class="hljs-meta">@Service</span>()
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> <span class="hljs-keyword">readonly</span> userService: UserService</span>) {}

  <span class="hljs-meta">@Post</span>(<span class="hljs-title class_">Api</span>.<span class="hljs-property">USER_LIST</span>)
  <span class="hljs-meta">@ApiAuth</span>(<span class="hljs-title class_">ModuleEnum</span>.<span class="hljs-property">USER</span>, <span class="hljs-title class_">OperationEnum</span>.<span class="hljs-property">QUERY</span>)
  <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">userList</span>(<span class="hljs-params"><span class="hljs-meta">@Body</span>({ validate: <span class="hljs-literal">true</span> }) body: IListReq</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userService</span>.<span class="hljs-title function_">userList</span>(body);
  }
}
</code></pre>
<h3 data-id="heading-4">3. æ•°æ®å®ä½“ï¼šTypeORMçš„ORMé­”æ³•</h3>
<p>å®ä½“ç±»è®¾è®¡å€Ÿé‰´äº†JPAçš„æ€æƒ³ï¼Œæ”¯æŒæ•°æ®åº“å­—æ®µæ˜ å°„å’Œç”Ÿå‘½å‘¨æœŸé’©å­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Entity</span>(<span class="hljs-string">'user'</span>)
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserEntity</span> {
  <span class="hljs-meta">@PrimaryGeneratedColumn</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'id'</span> })
  id?: <span class="hljs-built_in">number</span>;

  <span class="hljs-meta">@Column</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'login_name'</span> })
  <span class="hljs-attr">loginName</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@Column</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">'password'</span>, <span class="hljs-attr">select</span>: <span class="hljs-literal">false</span> })
  password?: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@BeforeInsert</span>()
  <span class="hljs-meta">@BeforeUpdate</span>()
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">encryptFields</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// æ’å…¥/æ›´æ–°å‰è‡ªåŠ¨åŠ å¯†å¯†ç </span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">password</span> = <span class="hljs-title class_">AesTools</span>.<span class="hljs-title function_">encryptData</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">password</span>);
  }
}
</code></pre>
<h3 data-id="heading-5">4. æ•°æ®éªŒè¯ï¼šç±»çº§åˆ«çš„å‚æ•°æ ¡éªŒ</h3>
<p>ä½¿ç”¨ <code>class-validator</code> å®ç°è¯·æ±‚å‚æ•°éªŒè¯ï¼Œç±»ä¼¼Springçš„@Validï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">IUserAddReq</span> {
  <span class="hljs-meta">@IsString</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'loginNameæ¥æ”¶ç±»å‹ä¸ºstring'</span> })
  <span class="hljs-meta">@IsNotEmpty</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'loginNameä¸èƒ½ä¸ºç©º'</span> })
  <span class="hljs-attr">loginName</span>: <span class="hljs-built_in">string</span>;

  <span class="hljs-meta">@IsString</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'passwordæ¥æ”¶ç±»å‹ä¸ºstring'</span> })
  <span class="hljs-meta">@IsNotEmpty</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'passwordä¸èƒ½ä¸ºç©º'</span> })
  <span class="hljs-meta">@IsDecryptPwd</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">'passwordå¯†ç é”™è¯¯ï¼Œè¯·ç¡®è®¤åŠ å¯†æ–¹å¼'</span> })
  <span class="hljs-attr">password</span>: <span class="hljs-built_in">string</span>;
}
</code></pre>
<h3 data-id="heading-6">5. æƒé™æ§åˆ¶ï¼šåŸºäºè£…é¥°å™¨çš„ç»†ç²’åº¦æƒé™</h3>
<p>è‡ªå®šä¹‰æƒé™è£…é¥°å™¨å®ç°æ–¹æ³•çº§åˆ«çš„æƒé™æ§åˆ¶ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ApiAuth</span>(<span class="hljs-params"><span class="hljs-variable language_">module</span>: ModuleEnum, operation: OperationEnum</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">target: <span class="hljs-built_in">any</span>, propertyKey: <span class="hljs-built_in">string</span>, descriptor: PropertyDescriptor</span>) {
    <span class="hljs-title class_">Authorized</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">module</span>}</span>_<span class="hljs-subst">${operation}</span>`</span>)(target, propertyKey, descriptor);
  };
}
</code></pre>
<h2 data-id="heading-7">ğŸ”§ æŠ€æœ¯æ ˆæ·±åº¦è§£æ</h2>
<h3 data-id="heading-8">æ ¸å¿ƒä¾èµ–åˆ†æ</h3>
<p>ä» <code>package.json</code> å¯ä»¥çœ‹å‡ºé¡¹ç›®çš„æŠ€æœ¯é€‰å‹æ€è·¯ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"dependencies"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"koa"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^2.15.0"</span><span class="hljs-punctuation">,</span>           <span class="hljs-comment">// è½»é‡çº§Webæ¡†æ¶</span>
    <span class="hljs-attr">"typeorm"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0.3.20"</span><span class="hljs-punctuation">,</span>         <span class="hljs-comment">// å¼ºå¤§ORMæ¡†æ¶</span>
    <span class="hljs-attr">"routing-controllers"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.10.4"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ³¨è§£å¼è·¯ç”±</span>
    <span class="hljs-attr">"class-validator"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.14.1"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// æ•°æ®éªŒè¯</span>
    <span class="hljs-attr">"typedi"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.10.0"</span><span class="hljs-punctuation">,</span>         <span class="hljs-comment">// ä¾èµ–æ³¨å…¥å®¹å™¨</span>
    <span class="hljs-attr">"reflect-metadata"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"^0.1.13"</span> <span class="hljs-comment">// åå°„å…ƒæ•°æ®æ”¯æŒ</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h3 data-id="heading-9">å¼€å‘å·¥å…·é“¾</h3>
<p>é¡¹ç›®é…å¤‡äº†å®Œæ•´çš„å¼€å‘å·¥å…·é“¾ï¼š</p>
<ul>
<li><strong>TypeScript 5.7.2</strong>: ç±»å‹å®‰å…¨çš„JavaScriptè¶…é›†</li>
<li><strong>ESLint + Prettier</strong>: ä»£ç è§„èŒƒå’Œæ ¼å¼åŒ–</li>
<li><strong>TypeORMè¿ç§»</strong>: æ•°æ®åº“ç‰ˆæœ¬ç®¡ç†</li>
<li><strong>çƒ­é‡è½½å¼€å‘</strong>: nodemonå®æ—¶ç›‘æ§æ–‡ä»¶å˜åŒ–</li>
</ul>
<h2 data-id="heading-10">ğŸš€ å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-11">å®Œæ•´çš„ç”¨æˆ·ç®¡ç†æµç¨‹</h3>
<p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªå®Œæ•´çš„ç”¨æˆ·æ·»åŠ æµç¨‹ï¼š</p>
<p><strong>1. æ§åˆ¶å™¨å±‚æ¥æ”¶è¯·æ±‚</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Post</span>(<span class="hljs-title class_">Api</span>.<span class="hljs-property">USER_ADD</span>)
<span class="hljs-meta">@ApiAuth</span>(<span class="hljs-title class_">ModuleEnum</span>.<span class="hljs-property">USER</span>, <span class="hljs-title class_">OperationEnum</span>.<span class="hljs-property">ADD</span>)
<span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">userAdd</span>(<span class="hljs-params">
  <span class="hljs-meta">@CurrentLoginName</span>() loginName: <span class="hljs-built_in">string</span>,
  <span class="hljs-meta">@Body</span>({ validate: <span class="hljs-literal">true</span> }) body: IUserAddReq,
</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userService</span>.<span class="hljs-title function_">addUser</span>(loginName, body);
}
</code></pre>
<p><strong>2. æœåŠ¡å±‚ä¸šåŠ¡é€»è¾‘</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> <span class="hljs-title function_">addUser</span>(<span class="hljs-params">creatorName: <span class="hljs-built_in">string</span>, userInfo: IUserAddReq</span>) {
  <span class="hljs-comment">// å¯†ç è§£å¯†</span>
  <span class="hljs-keyword">const</span> decryptPwd = <span class="hljs-title class_">AesTools</span>.<span class="hljs-title function_">decryptData</span>(userInfo.<span class="hljs-property">password</span>);
  
  <span class="hljs-comment">// æ£€æŸ¥ç™»å½•åé‡å¤</span>
  <span class="hljs-keyword">const</span> hasUser = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">checkDuplicateLoginName</span>(userInfo.<span class="hljs-property">loginName</span>);
  <span class="hljs-keyword">if</span> (hasUser) {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">CommonTools</span>.<span class="hljs-title function_">returnError</span>(<span class="hljs-title class_">CodeEnum</span>.<span class="hljs-property">USER_LOGIN_NAME_SAME</span>);
  }
  
  <span class="hljs-comment">// åˆ›å»ºç”¨æˆ·å®ä½“</span>
  <span class="hljs-keyword">const</span> insertUser = <span class="hljs-keyword">new</span> <span class="hljs-title class_">UserEntity</span>({
    <span class="hljs-attr">password</span>: decryptPwd,
    <span class="hljs-attr">username</span>: userInfo.<span class="hljs-property">username</span>,
    <span class="hljs-attr">loginName</span>: userInfo.<span class="hljs-property">loginName</span>,
    <span class="hljs-attr">creator</span>: creatorName,
  });
  
  <span class="hljs-comment">// ä¿å­˜åˆ°æ•°æ®åº“</span>
  <span class="hljs-keyword">const</span> resp = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getRepository</span>(<span class="hljs-title class_">UserEntity</span>).<span class="hljs-title function_">insert</span>(insertUser);
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">CommonTools</span>.<span class="hljs-title function_">returnData</span>({ <span class="hljs-attr">id</span>: resp.<span class="hljs-property">generatedMaps</span>[<span class="hljs-number">0</span>].<span class="hljs-property">id</span> });
}
</code></pre>
<p><strong>3. ç»Ÿä¸€çš„é”™è¯¯å¤„ç†</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ErrorMiddleware</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">KoaMiddlewareInterface</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">use</span>(<span class="hljs-attr">ctx</span>: <span class="hljs-title class_">ICtxRouterContent</span>, <span class="hljs-attr">next</span>: <span class="hljs-title class_">Next</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">next</span>();
    } <span class="hljs-keyword">finally</span> {
      <span class="hljs-comment">// ç»Ÿä¸€å¤„ç†å„ç§é”™è¯¯ç±»å‹</span>
      <span class="hljs-keyword">if</span> (ctx.<span class="hljs-property">status</span> === <span class="hljs-title class_">HttpCode</span>.<span class="hljs-property">BAD_REQUEST</span>) {
        <span class="hljs-comment">// å‚æ•°æ ¡éªŒé”™è¯¯å¤„ç†</span>
        ctx.<span class="hljs-property">body</span> = <span class="hljs-title class_">CommonTools</span>.<span class="hljs-title function_">returnData</span>(errors, <span class="hljs-title class_">CodeEnum</span>.<span class="hljs-property">COMMON_PARAMS_ERROR</span>);
      }
    }
  }
}
</code></pre>
<h2 data-id="heading-12">ğŸ’¡ æ¶æ„ä¼˜åŠ¿æ€»ç»“</h2>
<h3 data-id="heading-13">1. ä»£ç å¯ç»´æŠ¤æ€§</h3>
<ul>
<li><strong>åˆ†å±‚æ¸…æ™°</strong>: Controller-Service-Entityæ˜ç¡®åˆ†å·¥</li>
<li><strong>ç±»å‹å®‰å…¨</strong>: TypeScriptå…¨ç¨‹ä¿é©¾æŠ¤èˆª</li>
<li><strong>ä¾èµ–æ³¨å…¥</strong>: æ¾è€¦åˆçš„ç»„ä»¶å…³ç³»</li>
<li><strong>å…±äº«ç±»å‹å®šä¹‰</strong>ï¼šå‰åç«¯å…±äº«DTOå’Œæ¥å£å®šä¹‰</li>
</ul>
<h3 data-id="heading-14">2. å¼€å‘æ•ˆç‡</h3>
<ul>
<li><strong>æ³¨è§£é©±åŠ¨</strong>: å‡å°‘æ ·æ¿ä»£ç </li>
<li><strong>çƒ­é‡è½½</strong>: å¿«é€Ÿå¼€å‘è°ƒè¯•</li>
<li><strong>è¿ç§»å·¥å…·</strong>: æ•°æ®åº“ç‰ˆæœ¬åŒ–ç®¡ç†</li>
<li><strong>ç»Ÿä¸€æŠ€æœ¯æ ˆ</strong>ï¼šå‰åç«¯éƒ½ä½¿ç”¨TypeScriptï¼Œå‡å°‘å­¦ä¹ æˆæœ¬</li>
<li><strong>å¿«é€Ÿè¿­ä»£</strong>ï¼šå‰ç«¯å¼€å‘è€…å¯ä»¥ç›´æ¥å‚ä¸åç«¯å¼€å‘</li>
<li><strong>é—®é¢˜å®šä½</strong>ï¼šå‰åç«¯é—®é¢˜å®šä½æ›´åŠ é«˜æ•ˆ</li>
</ul>
<h3 data-id="heading-15">3. ä¼ä¸šçº§ç‰¹æ€§</h3>
<ul>
<li><strong>æƒé™æ§åˆ¶</strong>: ç»†ç²’åº¦çš„APIæƒé™ç®¡ç†</li>
<li><strong>æ•°æ®åŠ å¯†</strong>: è‡ªåŠ¨çš„æ•æ„Ÿæ•°æ®åŠ å¯†</li>
<li><strong>é”™è¯¯å¤„ç†</strong>: ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶</li>
</ul>
<h3 data-id="heading-16">4. æ‰©å±•æ€§</h3>
<ul>
<li><strong>å¾®æœåŠ¡å°±ç»ª</strong>: æ¨¡å—åŒ–æ¶æ„æ”¯æŒå¾®æœåŠ¡æ‹†åˆ†</li>
<li><strong>å¤šç§Ÿæˆ·æ”¯æŒ</strong>: å†…ç½®æ•°æ®éš”ç¦»æœºåˆ¶</li>
<li><strong>ç¼“å­˜é›†æˆ</strong>: Redisç¼“å­˜æå‡æ€§èƒ½</li>
</ul>
<h2 data-id="heading-17">ğŸ‰ ç»“è¯­</h2>
<p>å†™å®Œè¿™ä¸ªé¡¹ç›®åè®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°ï¼ŒNode.jsç”Ÿæ€å·²ç»è¶³å¤Ÿæˆç†Ÿï¼Œå®Œå…¨å¯ä»¥èƒœä»»å¤æ‚çš„ä¼ä¸šçº§åº”ç”¨å¼€å‘ã€‚é€šè¿‡å€Ÿé‰´Javaç”Ÿæ€çš„ä¼˜ç§€è®¾è®¡æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¿æŒJavaScriptçµæ´»æ€§çš„åŒæ—¶ï¼Œè·å¾—Javaçº§åˆ«çš„å·¥ç¨‹åŒ–èƒ½åŠ›ã€‚</p>
<p>ä½œä¸º"Webä»”"ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦ç¾¡æ…•Javaç¨‹åºå‘˜çš„é‚£å¥—"é‡å‹è£…å¤‡"ã€‚åœ¨Node.jsçš„ä¸–ç•Œé‡Œï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥å†™å‡ºä¼˜é›…ã€å¥å£®ã€å¯ç»´æŠ¤çš„åç«¯ä»£ç ï¼</p>
<p><strong>æŠ€æœ¯ä¸åˆ†è´µè´±ï¼Œä¼˜é›…çš„ä»£ç æ‰æ˜¯ç‹é“ï¼</strong></p>
<hr/>
<p><em>é¡¹ç›®åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fchencjfeng%2Fmanage-system-server" target="_blank" title="https://github.com/chencjfeng/manage-system-server" ref="nofollow noopener noreferrer">github.com/chencjfeng/â€¦</a></em><br/>
<em>ä½œè€…ï¼šChenJF</em><br/>
<em>é‚®ç®±ï¼š<a href="https://link.juejin.cn?target=mailto%3Achencjfeng%40163.com" target="_blank" title="mailto:chencjfeng@163.com" ref="nofollow noopener noreferrer">chencjfeng@163.com</a></em></p>
<blockquote>
<p>æœ¬æ–‡åŸºäºå®é™…é¡¹ç›®ä»£ç åˆ†æï¼Œæ‰€æœ‰ç¤ºä¾‹ä»£ç å‡å¯è¿è¡Œã€‚æ¬¢è¿Starå’Œè´¡çŒ®ï¼</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Typescriptä¹‹ç±»å‹æ€»ç»“å¤§å…¨]]></title>    <link>https://juejin.cn/post/7593169840199630874</link>    <guid>https://juejin.cn/post/7593169840199630874</guid>    <pubDate>2026-01-09T09:25:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593169840199630874" data-draft-id="7593164154631405577" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Typescriptä¹‹ç±»å‹æ€»ç»“å¤§å…¨"/> <meta itemprop="keywords" content="å‰ç«¯,TypeScript"/> <meta itemprop="datePublished" content="2026-01-09T09:25:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ»¡å¤©æ˜Ÿè¾°"/> <meta itemprop="url" content="https://juejin.cn/user/2771198801097485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Typescriptä¹‹ç±»å‹æ€»ç»“å¤§å…¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2771198801097485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ»¡å¤©æ˜Ÿè¾°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:25:20.000Z" title="Fri Jan 09 2026 09:25:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TypeScript ä¸­çš„åŸºæœ¬ç±»å‹</h2>
<p>TypeScript çš„åŸºæœ¬ç±»å‹æ¶µç›–äº† JavaScript çš„åŸå§‹ç±»å‹ï¼Œå¹¶æ·»åŠ äº†ä¸€äº› TypeScript ç‰¹æœ‰çš„ç±»å‹ã€‚</p>
<hr/>
<h3 data-id="heading-1">1.Â <strong>JavaScript åŸå§‹ç±»å‹ï¼ˆPrimitive Typesï¼‰</strong></h3>
<p>è¿™äº›æ˜¯ JavaScript åŸæœ‰çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒTypeScript ä¸ºå®ƒä»¬æä¾›äº†ç±»å‹æ³¨è§£ã€‚</p>
<h4 data-id="heading-2"><strong><code>boolean</code>Â - å¸ƒå°”å€¼</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">isDone</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">isLoading</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;
</code></pre>
<h4 data-id="heading-3"><strong><code>number</code>Â - æ•°å­—</strong></h4>
<p>TypeScript ä¸­çš„æ‰€æœ‰æ•°å­—éƒ½æ˜¯æµ®ç‚¹æ•°ï¼Œæ”¯æŒåè¿›åˆ¶ã€åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶å’Œå…«è¿›åˆ¶ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">decimal</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">6</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">hex</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0xf00d</span>;      <span class="hljs-comment">// åå…­è¿›åˆ¶</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">binary</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0b1010</span>;   <span class="hljs-comment">// äºŒè¿›åˆ¶</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">octal</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0o744</span>;     <span class="hljs-comment">// å…«è¿›åˆ¶</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">float</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">3.14</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">infinity</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title class_">Infinity</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">notANumber</span>: <span class="hljs-built_in">number</span> = <span class="hljs-title class_">NaN</span>;
</code></pre>
<h4 data-id="heading-4"><strong><code>string</code>Â - å­—ç¬¦ä¸²</strong></h4>
<pre><code class="hljs language-typescri" lang="typescri">let name: string = "å¼ ä¸‰";
let sentence: string = `ä½ å¥½ï¼Œ${name}ï¼`;  // æ¨¡æ¿å­—ç¬¦ä¸²
</code></pre>
<h4 data-id="heading-5"><strong><code>bigint</code>Â - å¤§æ•´æ•°</strong>ï¼ˆES2020+ï¼‰</h4>
<p>è¡¨ç¤ºå¤§äº 2^53 - 1 çš„æ•´æ•°ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">big</span>: <span class="hljs-built_in">bigint</span> = <span class="hljs-number">9007199254740991n</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">big2</span>: <span class="hljs-built_in">bigint</span> = <span class="hljs-title class_">BigInt</span>(<span class="hljs-number">9007199254740991</span>);
</code></pre>
<h4 data-id="heading-6"><strong><code>symbol</code>Â - ç¬¦å·</strong>ï¼ˆES2015+ï¼‰</h4>
<p>åˆ›å»ºå”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚</p>
<p>typescript</p>
<pre><code class="hljs language-ini" lang="ini">let sym1: <span class="hljs-attr">symbol</span> = Symbol()<span class="hljs-comment">;</span>
let sym2: <span class="hljs-attr">symbol</span> = Symbol(<span class="hljs-string">"description"</span>)<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h3 data-id="heading-7">2.Â <strong>ç‰¹æ®ŠåŸå§‹ç±»å‹</strong></h3>
<h4 data-id="heading-8"><strong><code>null</code>Â - ç©ºå€¼</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">n</span>: <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>;
</code></pre>
<h4 data-id="heading-9"><strong><code>undefined</code>Â - æœªå®šä¹‰</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">u</span>: <span class="hljs-literal">undefined</span> = <span class="hljs-literal">undefined</span>;
</code></pre>
<p><strong>æ³¨æ„</strong>ï¼šåœ¨Â <code>strictNullChecks</code>Â æ¨¡å¼ä¸‹ï¼Œ<code>null</code>Â å’ŒÂ <code>undefined</code>Â åªèƒ½èµ‹å€¼ç»™å®ƒä»¬è‡ªå·±æˆ–Â <code>any</code>Â ç±»å‹ã€‚</p>
<hr/>
<h3 data-id="heading-10">3.Â <strong>TypeScript ç‰¹æœ‰ç±»å‹</strong></h3>
<h4 data-id="heading-11"><strong><code>any</code>Â - ä»»æ„ç±»å‹</strong></h4>
<p>å…³é—­ç±»å‹æ£€æŸ¥ï¼Œå…¼å®¹æ‰€æœ‰ç±»å‹ã€‚</p>
<pre><code class="hljs language-typescri" lang="typescri">let notSure: any = 4;
notSure = "å¯èƒ½æ˜¯å­—ç¬¦ä¸²";
notSure = false;  // æ²¡é—®é¢˜
</code></pre>
<h4 data-id="heading-12"><strong><code>unknown</code>Â - æœªçŸ¥ç±»å‹</strong></h4>
<p>æ¯”Â <code>any</code>Â æ›´å®‰å…¨çš„ç±»å‹ï¼Œä½¿ç”¨æ—¶éœ€è¦ç±»å‹æ£€æŸ¥æˆ–æ–­è¨€ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">value</span>: <span class="hljs-built_in">unknown</span>;

<span class="hljs-comment">// éœ€è¦ç±»å‹æ£€æŸ¥åæ‰èƒ½ä½¿ç”¨</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"string"</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value.<span class="hljs-property">length</span>);
}

<span class="hljs-comment">// æˆ–ä½¿ç”¨ç±»å‹æ–­è¨€</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">str</span>: <span class="hljs-built_in">string</span> = (value <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>);
</code></pre>
<h4 data-id="heading-13"><strong><code>void</code>Â - ç©ºç±»å‹</strong></h4>
<p>è¡¨ç¤ºå‡½æ•°æ²¡æœ‰è¿”å›å€¼ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">warnUser</span>(<span class="hljs-params"/>): <span class="hljs-built_in">void</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è­¦å‘Šä¿¡æ¯"</span>);
    <span class="hljs-comment">// æ²¡æœ‰ return è¯­å¥</span>
}
</code></pre>
<h4 data-id="heading-14"><strong><code>never</code>Â - æ°¸ä¸å­˜åœ¨çš„å€¼</strong></h4>
<p>è¡¨ç¤ºæ°¸è¿œä¸ä¼šå‘ç”Ÿçš„ç±»å‹ï¼Œç”¨äºæ€»æ˜¯æŠ›å‡ºå¼‚å¸¸æˆ–æ— é™å¾ªç¯çš„å‡½æ•°ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// æŠ›å‡ºé”™è¯¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">error</span>(<span class="hljs-params">message: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">never</span> {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(message);
}

<span class="hljs-comment">// æ— é™å¾ªç¯</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">infiniteLoop</span>(<span class="hljs-params"/>): <span class="hljs-built_in">never</span> {
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {}
}
</code></pre>
<h4 data-id="heading-15"><strong><code>object</code>Â - éåŸå§‹ç±»å‹</strong></h4>
<p>è¡¨ç¤ºéåŸå§‹ç±»å‹çš„å€¼ï¼ˆä¸æ˜¯ number, string, boolean, symbol, null, undefinedï¼‰ã€‚</p>
<pre><code class="hljs language-typescri" lang="typescri">let obj: object = {};
let arr: object = [];
let func: object = function() {};
</code></pre>
<hr/>
<h3 data-id="heading-16">4.Â <strong>æ•°ç»„ç±»å‹</strong></h3>
<p>æœ‰ä¸¤ç§è¡¨ç¤ºæ–¹å¼ï¼š</p>
<h4 data-id="heading-17"><strong>ç±»å‹ + æ–¹æ‹¬å·</strong></h4>
<pre><code class="hljs language-typescr" lang="typescr">let list: number[] = [1, 2, 3];
let strings: string[] = ["a", "b", "c"];
</code></pre>
<h4 data-id="heading-18"><strong>æ³›å‹ Array&lt;ç±»å‹&gt;</strong></h4>
<pre><code class="hljs language-typescri" lang="typescri">let list: Array&lt;number&gt; = [1, 2, 3];
let strings: Array&lt;string&gt; = ["a", "b", "c"];
</code></pre>
<h4 data-id="heading-19"><strong>åªè¯»æ•°ç»„</strong></h4>
<pre><code class="hljs language-typescri" lang="typescri">let readonlyArr: ReadonlyArray&lt;number&gt; = [1, 2, 3];
// readonlyArr.push(4);  // âŒ é”™è¯¯ï¼šåªè¯»æ•°ç»„ä¸èƒ½ä¿®æ”¹
</code></pre>
<hr/>
<h3 data-id="heading-20">5.Â <strong>å…ƒç»„ï¼ˆTupleï¼‰</strong></h3>
<p>è¡¨ç¤ºå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®šä¹‰å…ƒç»„ç±»å‹</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">tuple</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>];
tuple = [<span class="hljs-string">"hello"</span>, <span class="hljs-number">10</span>];  <span class="hljs-comment">// âœ… æ­£ç¡®</span>
<span class="hljs-comment">// tuple = [10, "hello"];  // âŒ é”™è¯¯ï¼šç±»å‹ä¸åŒ¹é…</span>

<span class="hljs-comment">// è®¿é—®å…ƒç»„å…ƒç´ </span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tuple[<span class="hljs-number">0</span>].<span class="hljs-title function_">substring</span>(<span class="hljs-number">1</span>));  <span class="hljs-comment">// "ello"</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(tuple[<span class="hljs-number">1</span>].<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>));    <span class="hljs-comment">// "10.00"</span>

<span class="hljs-comment">// å¯é€‰å…ƒç´ ï¼ˆ3.0+ï¼‰</span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">optionalTuple</span>: [<span class="hljs-built_in">string</span>, <span class="hljs-built_in">number</span>?];
optionalTuple = [<span class="hljs-string">"hello"</span>];           <span class="hljs-comment">// âœ… æ­£ç¡®</span>
optionalTuple = [<span class="hljs-string">"hello"</span>, <span class="hljs-number">42</span>];       <span class="hljs-comment">// âœ… æ­£ç¡®</span>

<span class="hljs-comment">// å‰©ä½™å…ƒç´ </span>
<span class="hljs-keyword">let</span> <span class="hljs-attr">restTuple</span>: [<span class="hljs-built_in">string</span>, ...<span class="hljs-built_in">number</span>[]];
restTuple = [<span class="hljs-string">"hello"</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];      <span class="hljs-comment">// âœ… æ­£ç¡®</span>
</code></pre>
<hr/>
<h3 data-id="heading-21">6.Â <strong>æšä¸¾ï¼ˆEnumï¼‰</strong></h3>
<h4 data-id="heading-22"><strong>æ•°å­—æšä¸¾</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Direction</span> {
    <span class="hljs-title class_">Up</span> = <span class="hljs-number">1</span>,      <span class="hljs-comment">// ä» 1 å¼€å§‹</span>
    <span class="hljs-title class_">Down</span>,        <span class="hljs-comment">// è‡ªåŠ¨é€’å¢ä¸º 2</span>
    <span class="hljs-title class_">Left</span>,        <span class="hljs-comment">// 3</span>
    <span class="hljs-title class_">Right</span>        <span class="hljs-comment">// 4</span>
}

<span class="hljs-keyword">let</span> <span class="hljs-attr">dir</span>: <span class="hljs-title class_">Direction</span> = <span class="hljs-title class_">Direction</span>.<span class="hljs-property">Up</span>;
</code></pre>
<h4 data-id="heading-23"><strong>å­—ç¬¦ä¸²æšä¸¾</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">enum</span> <span class="hljs-title class_">Direction</span> {
    <span class="hljs-title class_">Up</span> = <span class="hljs-string">"UP"</span>,
    <span class="hljs-title class_">Down</span> = <span class="hljs-string">"DOWN"</span>,
    <span class="hljs-title class_">Left</span> = <span class="hljs-string">"LEFT"</span>,
    <span class="hljs-title class_">Right</span> = <span class="hljs-string">"RIGHT"</span>
}
</code></pre>
<h4 data-id="heading-24"><strong>å¸¸é‡æšä¸¾</strong>ï¼ˆç¼–è¯‘æ—¶å®Œå…¨åˆ é™¤ï¼‰</h4>
<pre><code class="hljs language-typescri" lang="typescri">const enum Colors {
    Red,
    Green,
    Blue
}

let color = Colors.Red;  // ç¼–è¯‘åï¼šlet color = 0;
</code></pre>
<hr/>
<h3 data-id="heading-25">7.Â <strong>å­—é¢é‡ç±»å‹</strong></h3>
<h4 data-id="heading-26"><strong>å­—ç¬¦ä¸²å­—é¢é‡</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">EventType</span> = <span class="hljs-string">"click"</span> | <span class="hljs-string">"scroll"</span> | <span class="hljs-string">"mousemove"</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">event</span>: <span class="hljs-title class_">EventType</span> = <span class="hljs-string">"click"</span>;  <span class="hljs-comment">// âœ…</span>
<span class="hljs-comment">// event = "hover";  // âŒ é”™è¯¯</span>
</code></pre>
<h4 data-id="heading-27"><strong>æ•°å­—å­—é¢é‡</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">DiceRoll</span> = <span class="hljs-number">1</span> | <span class="hljs-number">2</span> | <span class="hljs-number">3</span> | <span class="hljs-number">4</span> | <span class="hljs-number">5</span> | <span class="hljs-number">6</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">roll</span>: <span class="hljs-title class_">DiceRoll</span> = <span class="hljs-number">3</span>;  <span class="hljs-comment">// âœ…</span>
<span class="hljs-comment">// roll = 7;  // âŒ é”™è¯¯</span>
</code></pre>
<h4 data-id="heading-28"><strong>å¸ƒå°”å­—é¢é‡</strong></h4>
<pre><code class="hljs language-typescr" lang="typescr">type Truthy = true;
let isTrue: Truthy = true;
// isTrue = false;  // âŒ é”™è¯¯
</code></pre>
<hr/>
<h3 data-id="heading-29">8.Â <strong>ç±»å‹æ¨æ–­ä¸è”åˆç±»å‹</strong></h3>
<h4 data-id="heading-30"><strong>ç±»å‹æ¨æ–­</strong></h4>
<pre><code class="hljs language-typescri" lang="typescri">let x = 3;            // x è¢«æ¨æ–­ä¸º number
let y = "hello";      // y è¢«æ¨æ–­ä¸º string
</code></pre>
<h4 data-id="heading-31"><strong>è”åˆç±»å‹</strong></h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">let</span> <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>;
id = <span class="hljs-string">"abc123"</span>;  <span class="hljs-comment">// âœ…</span>
id = <span class="hljs-number">123</span>;       <span class="hljs-comment">// âœ…</span>
<span class="hljs-comment">// id = true;   // âŒ é”™è¯¯</span>

<span class="hljs-comment">// ç±»å‹å®ˆå«</span>
<span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> id === <span class="hljs-string">"string"</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(id.<span class="hljs-title function_">toUpperCase</span>());
} <span class="hljs-keyword">else</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(id.<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>));
}
</code></pre>
<hr/>
<h3 data-id="heading-32">9.Â <strong>ç±»å‹åˆ«å</strong></h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// åŸºæœ¬ç±»å‹åˆ«å</span>
<span class="hljs-keyword">type</span> <span class="hljs-variable constant_">ID</span> = <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> = {
    <span class="hljs-attr">x</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">y</span>: <span class="hljs-built_in">number</span>;
};

<span class="hljs-keyword">let</span> <span class="hljs-attr">userId</span>: <span class="hljs-variable constant_">ID</span> = <span class="hljs-string">"user-123"</span>;
<span class="hljs-keyword">let</span> <span class="hljs-attr">position</span>: <span class="hljs-title class_">Point</span> = { <span class="hljs-attr">x</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">20</span> };
</code></pre>
<hr/>
<h3 data-id="heading-33">ç±»å‹æ€»ç»“è¡¨</h3>





















































































<table><thead><tr><th>ç±»å‹</th><th>ç¤ºä¾‹</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>boolean</code></td><td><code>let isDone: boolean = true;</code></td><td>å¸ƒå°”å€¼</td></tr><tr><td><code>number</code></td><td><code>let count: number = 10;</code></td><td>æ‰€æœ‰æ•°å­—ç±»å‹</td></tr><tr><td><code>string</code></td><td><code>let name: string = "John";</code></td><td>å­—ç¬¦ä¸²</td></tr><tr><td><code>bigint</code></td><td><code>let big: bigint = 100n;</code></td><td>å¤§æ•´æ•°</td></tr><tr><td><code>symbol</code></td><td><code>let sym: symbol = Symbol();</code></td><td>å”¯ä¸€æ ‡è¯†ç¬¦</td></tr><tr><td><code>null</code></td><td><code>let n: null = null;</code></td><td>ç©ºå€¼</td></tr><tr><td><code>undefined</code></td><td><code>let u: undefined = undefined;</code></td><td>æœªå®šä¹‰</td></tr><tr><td><code>any</code></td><td><code>let anything: any = 4;</code></td><td>ä»»æ„ç±»å‹</td></tr><tr><td><code>unknown</code></td><td><code>let unsure: unknown = 30;</code></td><td>æœªçŸ¥ç±»å‹</td></tr><tr><td><code>void</code></td><td><code>function(): void {}</code></td><td>æ— è¿”å›å€¼</td></tr><tr><td><code>never</code></td><td><code>function error(): never {}</code></td><td>æ°¸ä¸å­˜åœ¨çš„å€¼</td></tr><tr><td><code>object</code></td><td><code>let obj: object = {};</code></td><td>éåŸå§‹ç±»å‹</td></tr><tr><td><code>Array&lt;T&gt;</code></td><td><code>let list: number[] = [1, 2, 3];</code></td><td>æ•°ç»„</td></tr><tr><td><code>[T1, T2]</code></td><td><code>let tuple: [string, number];</code></td><td>å…ƒç»„</td></tr><tr><td><code>enum</code></td><td><code>enum Color { Red, Green }</code></td><td>æšä¸¾</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-34">å®ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// å®Œæ•´ç¤ºä¾‹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processInput</span>(<span class="hljs-params">input: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | <span class="hljs-built_in">boolean</span></span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">"string"</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`å­—ç¬¦ä¸²: <span class="hljs-subst">${input.toUpperCase()}</span>`</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> input === <span class="hljs-string">"number"</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`æ•°å­—: <span class="hljs-subst">${input.toFixed(<span class="hljs-number">2</span>)}</span>`</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-string">`å¸ƒå°”å€¼: <span class="hljs-subst">${input}</span>`</span>;
    }
}

<span class="hljs-comment">// ä¸¥æ ¼ç©ºå€¼æ£€æŸ¥</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">greet</span>(<span class="hljs-params">name: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span></span>): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">if</span> (name === <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">"ä½ å¥½ï¼Œè®¿å®¢ï¼"</span>;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-string">`ä½ å¥½ï¼Œ<span class="hljs-subst">${name}</span>ï¼`</span>;
}

<span class="hljs-comment">// ä½¿ç”¨ never è¿›è¡Œç©·å°½æ£€æŸ¥</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Shape</span> = <span class="hljs-string">"circle"</span> | <span class="hljs-string">"square"</span> | <span class="hljs-string">"triangle"</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">getArea</span>(<span class="hljs-params">shape: Shape</span>): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">switch</span> (shape) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"circle"</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"square"</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">"triangle"</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0.5</span>;
        <span class="hljs-attr">default</span>:
            <span class="hljs-comment">// ç¡®ä¿å¤„ç†äº†æ‰€æœ‰æƒ…å†µ</span>
            <span class="hljs-keyword">const</span> <span class="hljs-attr">_exhaustiveCheck</span>: <span class="hljs-built_in">never</span> = shape;
            <span class="hljs-keyword">return</span> _exhaustiveCheck;
    }
}
</code></pre>
<p>TypeScript çš„åŸºæœ¬ç±»å‹ç³»ç»Ÿæä¾›äº†å¼ºå¤§çš„ç±»å‹å®‰å…¨ä¿è¯ï¼Œå¸®åŠ©å¼€å‘è€…åœ¨ç¼–è¯‘æ—¶æ•è·é”™è¯¯ï¼Œæé«˜ä»£ç è´¨é‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React useState åŸç†å’Œå¼‚æ­¥æ›´æ–°]]></title>    <link>https://juejin.cn/post/7593139476840120326</link>    <guid>https://juejin.cn/post/7593139476840120326</guid>    <pubDate>2026-01-09T08:52:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476840120326" data-draft-id="7592921639465435178" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React useState åŸç†å’Œå¼‚æ­¥æ›´æ–°"/> <meta itemprop="keywords" content="å‰ç«¯,React.js"/> <meta itemprop="datePublished" content="2026-01-09T08:52:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¾æ½˜"/> <meta itemprop="url" content="https://juejin.cn/user/893218038484600"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React useState åŸç†å’Œå¼‚æ­¥æ›´æ–°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/893218038484600/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¾æ½˜
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:52:27.000Z" title="Fri Jan 09 2026 08:52:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">useState çš„åŸºæœ¬åŸç†</h2>
<p>useState æ˜¯ React çš„ä¸€ä¸ª Hookï¼Œå®ƒçš„æ ¸å¿ƒåŸç†åŸºäºä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<h3 data-id="heading-1">1. é—­åŒ…å’Œé“¾è¡¨ç»“æ„</h3>
<p>React å†…éƒ¨ä½¿ç”¨é“¾è¡¨æ¥å­˜å‚¨ç»„ä»¶çš„æ‰€æœ‰ Hook çŠ¶æ€ã€‚æ¯æ¬¡ç»„ä»¶æ¸²æŸ“æ—¶ï¼ŒReact ä¼šæŒ‰ç…§ Hook è°ƒç”¨çš„é¡ºåºéå†è¿™ä¸ªé“¾è¡¨ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">// ç®€åŒ–çš„å†…éƒ¨å®ç°æ¦‚å¿µ
let <span class="hljs-attr">hooks</span> = []<span class="hljs-comment">;</span>
let <span class="hljs-attr">currentHook</span> = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

function useState(initialValue) {
  const <span class="hljs-attr">hookIndex</span> = currentHook<span class="hljs-comment">;</span>
  
  // åˆå§‹åŒ–æˆ–è·å–å·²æœ‰çŠ¶æ€
  if (hooks<span class="hljs-section">[hookIndex]</span> === undefined) {
    hooks<span class="hljs-section">[hookIndex]</span> = initialValue<span class="hljs-comment">;</span>
  }
  
  const <span class="hljs-attr">setState</span> = (newValue) =&gt; {
    hooks<span class="hljs-section">[hookIndex]</span> = newValue<span class="hljs-comment">;</span>
    render()<span class="hljs-comment">; // è§¦å‘é‡æ–°æ¸²æŸ“</span>
  }<span class="hljs-comment">;</span>
  
  currentHook++<span class="hljs-comment">;</span>
  return <span class="hljs-section">[hooks[hookIndex]</span>, setState]<span class="hljs-comment">;</span>
}
</code></pre>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Hook å¿…é¡»åœ¨ç»„ä»¶é¡¶å±‚è°ƒç”¨ï¼Œä¸èƒ½åœ¨æ¡ä»¶è¯­å¥æˆ–å¾ªç¯ä¸­ä½¿ç”¨ - å› ä¸º React ä¾èµ–è°ƒç”¨é¡ºåºæ¥åŒ¹é…çŠ¶æ€ã€‚</p>
<h2 data-id="heading-2">å¼‚æ­¥æ›´æ–°æœºåˆ¶</h2>
<h3 data-id="heading-3">2. æ‰¹é‡æ›´æ–°ï¼ˆBatchingï¼‰</h3>
<p>React ä¸ä¼šç«‹å³æ›´æ–°çŠ¶æ€ï¼Œè€Œæ˜¯å°†å¤šä¸ª setState è°ƒç”¨åˆå¹¶æˆä¸€æ¬¡æ›´æ–°ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">Counter</span>() {
  const <span class="hljs-selector-attr">[count, setCount]</span> = <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>);
  
  const handleClick = () =&gt; {
    <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// count = 0 + 1</span>
    <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// count = 0 + 1 (è¿˜æ˜¯è¯»å–çš„æ—§å€¼)</span>
    <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>); <span class="hljs-comment">// count = 0 + 1</span>
    <span class="hljs-comment">// æœ€ç»ˆ count = 1ï¼Œè€Œä¸æ˜¯ 3</span>
  };
  
  return &lt;<span class="hljs-selector-tag">button</span> onClick={handleClick}&gt;{count}&lt;/<span class="hljs-selector-tag">button</span>&gt;;
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</strong></p>
<ul>
<li>æ€§èƒ½ä¼˜åŒ–ï¼šé¿å…ä¸å¿…è¦çš„é‡å¤æ¸²æŸ“</li>
<li>ä¿æŒä¸€è‡´æ€§ï¼šç¡®ä¿åœ¨ä¸€æ¬¡äº‹ä»¶å¤„ç†ä¸­çœ‹åˆ°çš„çŠ¶æ€æ˜¯ä¸€è‡´çš„</li>
</ul>
<h3 data-id="heading-4">3. å‡½æ•°å¼æ›´æ–°</h3>
<p>å¦‚æœéœ€è¦åŸºäºå‰ä¸€ä¸ªçŠ¶æ€æ›´æ–°ï¼Œä½¿ç”¨å‡½æ•°å½¢å¼ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">handleClick</span> = () =&gt; {
  setCount(<span class="hljs-attr">prev</span> =&gt; prev + <span class="hljs-number">1</span>)<span class="hljs-comment">; // 1</span>
  setCount(<span class="hljs-attr">prev</span> =&gt; prev + <span class="hljs-number">1</span>)<span class="hljs-comment">; // 2</span>
  setCount(<span class="hljs-attr">prev</span> =&gt; prev + <span class="hljs-number">1</span>)<span class="hljs-comment">; // 3</span>
  // æœ€ç»ˆ <span class="hljs-attr">count</span> = <span class="hljs-number">3</span>
}<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-5">4. React 18 çš„è‡ªåŠ¨æ‰¹å¤„ç†</h3>
<p>åœ¨ React 18 ä¹‹å‰ï¼Œåªæœ‰åœ¨äº‹ä»¶å¤„ç†å™¨ä¸­æ‰ä¼šæ‰¹å¤„ç†ã€‚React 18 æ‰©å±•åˆ°äº†æ‰€æœ‰åœºæ™¯ï¼š</p>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-comment">// React 18 ä¸­ï¼Œè¿™äº›ä¹Ÿä¼šè¢«æ‰¹å¤„ç†</span>
<span class="hljs-built_in">setTimeout</span>(() =&gt; {
  <span class="hljs-built_in">setCount</span>(c =&gt; c + <span class="hljs-number">1</span>);
  <span class="hljs-built_in">setFlag</span>(f =&gt; !f);
  <span class="hljs-comment">// åªè§¦å‘ä¸€æ¬¡é‡æ–°æ¸²æŸ“</span>
}, <span class="hljs-number">1000</span>);

<span class="hljs-built_in">fetch</span>('/api')<span class="hljs-selector-class">.then</span>(() =&gt; {
  <span class="hljs-built_in">setData</span>(newData);
  <span class="hljs-built_in">setLoading</span>(false);
  <span class="hljs-comment">// åªè§¦å‘ä¸€æ¬¡é‡æ–°æ¸²æŸ“</span>
});
</code></pre>
<h2 data-id="heading-6">å®é™…åº”ç”¨åœºæ™¯</h2>
<h3 data-id="heading-7">åœºæ™¯ 1: éœ€è¦ç«‹å³è¯»å–æ›´æ–°åçš„å€¼</h3>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[count, setCount]</span> = <span class="hljs-built_in">useState</span>(<span class="hljs-number">0</span>);

const handleClick = () =&gt; {
  <span class="hljs-built_in">setCount</span>(count + <span class="hljs-number">1</span>);
  console<span class="hljs-selector-class">.log</span>(count); <span class="hljs-comment">// è¿˜æ˜¯æ—§å€¼ 0</span>
  
  <span class="hljs-comment">// è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ useEffect</span>
  <span class="hljs-built_in">useEffect</span>(() =&gt; {
    console<span class="hljs-selector-class">.log</span>(count); <span class="hljs-comment">// æ–°å€¼ 1</span>
  }, <span class="hljs-selector-attr">[count]</span>);
};
</code></pre>
<h3 data-id="heading-8">åœºæ™¯ 2: ä¾èµ–å¤šä¸ªçŠ¶æ€æ›´æ–°</h3>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[user, setUser]</span> = <span class="hljs-built_in">useState</span>(null);
const <span class="hljs-selector-attr">[loading, setLoading]</span> = <span class="hljs-built_in">useState</span>(false);

const fetchUser = async () =&gt; {
  <span class="hljs-built_in">setLoading</span>(true);
  const data = await api<span class="hljs-selector-class">.getUser</span>();
  <span class="hljs-built_in">setUser</span>(data);
  <span class="hljs-built_in">setLoading</span>(false);
  <span class="hljs-comment">// React ä¼šæ‰¹é‡å¤„ç†è¿™äº›æ›´æ–°ï¼Œåªæ¸²æŸ“ä¸€æ¬¡</span>
};
</code></pre>
<h3 data-id="heading-9">åœºæ™¯ 3: å¤æ‚çŠ¶æ€ç®¡ç†</h3>
<p>å¯¹äºå¤æ‚çš„çŠ¶æ€é€»è¾‘ï¼Œè€ƒè™‘ä½¿ç”¨ useReducerï¼š</p>
<pre><code class="hljs language-scss" lang="scss">const <span class="hljs-selector-attr">[state, dispatch]</span> = <span class="hljs-built_in">useReducer</span>(reducer, initialState);

<span class="hljs-comment">// ä¸€æ¬¡ dispatch å¯ä»¥æ›´æ–°å¤šä¸ªç›¸å…³çŠ¶æ€</span>
<span class="hljs-built_in">dispatch</span>({ type: 'FETCH_SUCCESS', payload: data });
</code></pre>
<h2 data-id="heading-10">å…³é”®è¦ç‚¹</h2>
<ol>
<li><strong>çŠ¶æ€æ›´æ–°æ˜¯å¼‚æ­¥çš„</strong> - ä¸è¦æœŸæœ› setState åç«‹å³è¯»å–æ–°å€¼</li>
<li><strong>ä½¿ç”¨å‡½æ•°å¼æ›´æ–°</strong> - å½“æ–°çŠ¶æ€ä¾èµ–æ—§çŠ¶æ€æ—¶</li>
<li><strong>æ‰¹é‡æ›´æ–°æå‡æ€§èƒ½</strong> - React ä¼šè‡ªåŠ¨ä¼˜åŒ–å¤šæ¬¡ setState</li>
<li><strong>ä¿æŒ Hook è°ƒç”¨é¡ºåº</strong> - ä¸è¦åœ¨æ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ Hook</li>
<li><strong>çŠ¶æ€æ˜¯ä¸å¯å˜çš„</strong> - æ›´æ–°å¯¹è±¡æˆ–æ•°ç»„æ—¶è¦åˆ›å»ºæ–°çš„å¼•ç”¨</li>
</ol>
<p>è¿™äº›æœºåˆ¶è®© React èƒ½å¤Ÿé«˜æ•ˆåœ°ç®¡ç†ç»„ä»¶çŠ¶æ€ï¼ŒåŒæ—¶ä¿æŒ UI çš„ä¸€è‡´æ€§å’Œå¯é¢„æµ‹æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PowerShell å¯åŠ¨å¡é¡¿ï¼Ÿå†…å­˜é£™å‡ï¼ŸåŸæ¥æ˜¯ 800MB çš„å†å²è®°å½•åœ¨ä½œç¥Ÿï¼]]></title>    <link>https://juejin.cn/post/7593164154631454729</link>    <guid>https://juejin.cn/post/7593164154631454729</guid>    <pubDate>2026-01-09T09:30:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593164154631454729" data-draft-id="7593077945016107035" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PowerShell å¯åŠ¨å¡é¡¿ï¼Ÿå†…å­˜é£™å‡ï¼ŸåŸæ¥æ˜¯ 800MB çš„å†å²è®°å½•åœ¨ä½œç¥Ÿï¼"/> <meta itemprop="keywords" content="Windows"/> <meta itemprop="datePublished" content="2026-01-09T09:30:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ—ç…ç…"/> <meta itemprop="url" content="https://juejin.cn/user/588993964277933"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PowerShell å¯åŠ¨å¡é¡¿ï¼Ÿå†…å­˜é£™å‡ï¼ŸåŸæ¥æ˜¯ 800MB çš„å†å²è®°å½•åœ¨ä½œç¥Ÿï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/588993964277933/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ—ç…ç…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:30:27.000Z" title="Fri Jan 09 2026 09:30:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">PowerShell å¯åŠ¨å¡é¡¿ï¼Ÿå†…å­˜é£™å‡ï¼ŸåŸæ¥æ˜¯ 800MB çš„å†å²è®°å½•åœ¨ä½œç¥Ÿï¼</h2>
<p>æœ€è¿‘åœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°ä¸€ä¸ªéå¸¸è¯¡å¼‚çš„é—®é¢˜ï¼š<strong>PowerShell ä¸€å¯åŠ¨ï¼Œç”µè„‘å°±åƒè¢«æ–½äº†å®šèº«æ³•ä¸€æ ·å¡é¡¿ã€‚</strong> æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ä¸€çœ‹ï¼Œå¥½å®¶ä¼™ï¼ŒPowerShell è¿›ç¨‹çš„å†…å­˜å ç”¨åƒåç«ç®­ä¸€æ ·è¹­è¹­å¾€ä¸Šæ¶¨ï¼Œç”šè‡³åœ¨æ²¡æœ‰ä»»ä½•æ‰‹åŠ¨æ“ä½œçš„æƒ…å†µä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p>
<p>ç»è¿‡ä¸€ç•ªä¾¦æ¢å¼çš„æ’æŸ¥ï¼Œç»ˆäºæªå‡ºäº†å¹•åçœŸå‡¶ã€‚ä»Šå¤©å°±æŠŠè¿™ä¸ªæ’æŸ¥è¿‡ç¨‹å’Œè§£å†³æ–¹æ¡ˆåˆ†äº«ç»™å¤§å®¶ï¼Œå¦‚æœä½ çš„ç»ˆç«¯ä¹Ÿç»å¸¸å¡é¡¿ï¼Œä¸å¦¨æ£€æŸ¥ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p>
<h3 data-id="heading-1">ğŸ§ é—®é¢˜ç°åœº</h3>
<p>ç°è±¡éå¸¸ç®€å•ç²—æš´ï¼š</p>
<ul>
<li>åŒå‡»å¯åŠ¨ PowerShellï¼ˆæˆ–è€…åœ¨ VS Code ä¸­æ‰“å¼€ç»ˆç«¯ï¼‰ã€‚</li>
<li>ç³»ç»Ÿæ˜æ˜¾å¡é¡¿ï¼Œé¼ æ ‡ç§»åŠ¨éƒ½å˜å¾—è¿Ÿç¼“ã€‚</li>
<li>æŸ¥çœ‹ä»»åŠ¡ç®¡ç†å™¨ï¼ŒPowerShell è¿›ç¨‹å ç”¨å†…å­˜æé«˜ï¼ˆç”šè‡³è¾¾åˆ° GB çº§åˆ«ï¼‰ã€‚</li>
<li>ç­‰å¾…è®¸ä¹…åï¼Œç»ˆç«¯æ‰å‹‰å¼ºå¯ä»¥è¾“å…¥å‘½ä»¤ã€‚</li>
</ul>
<h3 data-id="heading-2">ğŸ•µï¸â€â™‚ï¸ æŠ½ä¸å‰¥èŒ§ï¼šæ’æŸ¥è¿‡ç¨‹</h3>
<p>ä¸ºäº†æ‰¾åˆ°åŸå› ï¼Œæˆ‘å¹¶æ²¡æœ‰æ€¥ç€é‡è£…ç³»ç»Ÿï¼ˆè™½ç„¶è¿™æ˜¯ä¸‡èƒ½å¤§æ³•ï¼‰ï¼Œè€Œæ˜¯å†³å®šæ·±å…¥ç³»ç»Ÿå†…éƒ¨çœ‹ä¸€çœ‹ã€‚</p>
<h4 data-id="heading-3">1. è¿›ç¨‹åˆ†æ</h4>
<p>é¦–å…ˆï¼Œæˆ‘ä½¿ç”¨ <code>Get-Process</code> å‘½ä»¤æŸ¥çœ‹äº† PowerShell è¿›ç¨‹çš„çŠ¶æ€ã€‚æœä¸å…¶ç„¶ï¼Œ<code>WorkingSet</code>ï¼ˆå·¥ä½œé›†å†…å­˜ï¼‰æ•°å€¼å¼‚å¸¸çš„é«˜ã€‚</p>
<h4 data-id="heading-4">2. ç¯å¢ƒæ£€æŸ¥</h4>
<p>æˆ‘æ€€ç–‘æ˜¯ä¸æ˜¯æŸä¸ª Profile é…ç½®æ–‡ä»¶æˆ–è€…åŠ è½½çš„æ¨¡å—æœ‰é—®é¢˜ã€‚æ£€æŸ¥äº† <code>$PROFILE</code>ï¼Œå‘ç°å¹¶æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„å¯åŠ¨è„šæœ¬ã€‚æ¥ç€æ£€æŸ¥å·²åŠ è½½çš„æ¨¡å—ï¼Œä¸€åˆ‡ä¼¼ä¹éƒ½å¾ˆæ­£å¸¸ã€‚</p>
<h4 data-id="heading-5">3. å…³é”®å‘ç°</h4>
<p>åœ¨æ’æŸ¥ PowerShell çš„å¸¸ç”¨æ¨¡å— <strong>PSReadLine</strong> æ—¶ï¼Œæˆ‘æ³¨æ„åˆ°äº†ä¸€ä¸ªç»†èŠ‚ã€‚è¿™ä¸ªæ¨¡å—è´Ÿè´£ç®¡ç†æˆ‘ä»¬çš„å‘½ä»¤è¡Œå†å²è®°å½•ã€è¯­æ³•é«˜äº®ç­‰åŠŸèƒ½ã€‚å®ƒä¼šæŠŠæˆ‘ä»¬æ•²è¿‡çš„æ‰€æœ‰å‘½ä»¤éƒ½ä¿å­˜åœ¨ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶é‡Œã€‚</p>
<p>æˆ‘é¡ºè—¤æ‘¸ç“œæ‰¾åˆ°äº†è¿™ä¸ªæ–‡ä»¶ï¼Œç»“æœè®©æˆ‘å¤§åƒä¸€æƒŠï¼š</p>
<blockquote>
<p><strong>æ–‡ä»¶è·¯å¾„ï¼š</strong> <code>%APPDATA%\Microsoft\Windows\PowerShell\PSReadLine\ConsoleHost_history.txt</code>
<strong>æ–‡ä»¶å¤§å°ï¼š</strong> <strong>832 MB</strong></p>
</blockquote>
<p>æ²¡é”™ï¼Œä½ æ²¡çœ‹é”™ï¼Œä¸€ä¸ªçº¯æ–‡æœ¬çš„å†å²è®°å½•æ–‡ä»¶ï¼Œç«Ÿç„¶æœ‰ <strong>800å¤šå…†</strong>ï¼è¿™æ„å‘³ç€é‡Œé¢å¯èƒ½ä¿å­˜äº†æ•°ç™¾ä¸‡è¡Œçš„å‘½ä»¤å†å²ã€‚</p>
<p><strong>çœŸç›¸å¤§ç™½ï¼š</strong> PowerShell åœ¨å¯åŠ¨æ—¶ï¼ŒPSReadLine æ¨¡å—ä¼šå°è¯•åŠ è½½è¿™ä¸ªå·¨å¤§çš„å†å²è®°å½•æ–‡ä»¶ï¼Œä»¥ä¾¿æä¾›â€œå‘ä¸Šç®­å¤´â€æŸ¥æ‰¾å†å²å‘½ä»¤çš„åŠŸèƒ½ã€‚è¿™å°±å¥½æ¯”è®©ä½ ä¸€å£æ°”èƒŒè¯µä¸€æœ¬å­—å…¸ï¼Œä¸å¡æ‰æ€ªï¼</p>
<h3 data-id="heading-6">ğŸ› ï¸ ä¸€é”®è§£å†³</h3>
<p>æ—¢ç„¶æ‰¾åˆ°äº†ç—…ç¶ï¼Œæ²»ç–—æ–¹æ¡ˆå°±éå¸¸ç®€å•äº†ï¼š<strong>è®© PowerShell æ”¾å¼ƒåŠ è½½è¿™ä¸ªæ–‡ä»¶ã€‚</strong></p>
<p>ä¸ºäº†ä¿é™©èµ·è§ï¼ˆä¸‡ä¸€é‡Œé¢æœ‰é‡è¦çš„å†å²å‘½ä»¤å‘¢ï¼‰ï¼Œæˆ‘æ²¡æœ‰ç›´æ¥åˆ é™¤å®ƒï¼Œè€Œæ˜¯é€‰æ‹©äº†é‡å‘½åã€‚</p>
<h4 data-id="heading-7">æ“ä½œæ­¥éª¤ï¼š</h4>
<p>æ‰“å¼€ä½ çš„æ–‡ä»¶èµ„æºç®¡ç†å™¨ï¼Œæˆ–è€…ç›´æ¥åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<pre><code class="hljs language-powershell" lang="powershell"># è¿›å…¥ PSReadLine ç›®å½•
cd "$env:APPDATA\Microsoft\Windows\PowerShell\PSReadLine"

# å°†å·¨å¤§çš„å†å²æ–‡ä»¶é‡å‘½åå¤‡ä»½
Rename-Item .\ConsoleHost_history.txt -NewName ConsoleHost_history.txt.bak
</code></pre>
<p><strong>æ•ˆæœç«‹ç«¿è§å½±ï¼š</strong>
å†æ¬¡å¯åŠ¨ PowerShellï¼Œç§’å¼€ï¼å†…å­˜å ç”¨æ¢å¤åˆ°äº†å‡ å MB çš„æ­£å¸¸æ°´å¹³ã€‚ç³»ç»Ÿç¬é—´æ¢å¤äº†ä¸èˆ¬é¡ºæ»‘ã€‚</p>
<h3 data-id="heading-8">ğŸ’¡ é¿å‘æŒ‡å—</h3>
<p>é—®é¢˜è§£å†³äº†ï¼Œä½†ä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¤§çš„å†å²æ–‡ä»¶å‘¢ï¼Ÿé€šå¸¸æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š</p>
<ol>
<li><strong>æ—¥ç§¯æœˆç´¯ï¼š</strong> ä»æ¥æ²¡æœ‰æ¸…ç†è¿‡ï¼Œæ•°å¹´çš„æ“ä½œè®°å½•éƒ½åœ¨é‡Œé¢ã€‚</li>
<li><strong>è‡ªåŠ¨åŒ–è„šæœ¬ï¼š</strong> æŸäº›è‡ªåŠ¨åŒ–è„šæœ¬å¦‚æœåœ¨ PowerShell ç¯å¢ƒä¸‹ç–¯ç‹‚å¾ªç¯æ‰§è¡Œå‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤ä¹Ÿä¼šè¢«è®°å½•ä¸‹æ¥ã€‚</li>
</ol>
<h4 data-id="heading-9">å»ºè®®ï¼š</h4>
<ul>
<li>å®šæœŸæ£€æŸ¥ä¸€ä¸‹ <code>%APPDATA%\Microsoft\Windows\PowerShell\PSReadLine\</code> ç›®å½•ä¸‹çš„æ–‡ä»¶å¤§å°ã€‚</li>
<li>å¦‚æœä½ å‘ç°è‡ªå·±ä¸éœ€è¦ä¿ç•™é‚£ä¹ˆä¹…è¿œçš„å†å²è®°å½•ï¼Œå¯ä»¥è€ƒè™‘å®šæœŸæ¸…ç†ã€‚</li>
<li>å¦‚æœé‚£ä¸ª 800MB çš„å¤‡ä»½æ–‡ä»¶é‡Œæ²¡æœ‰ä½ éœ€è¦çš„â€œä¼ å®¶å®â€ä»£ç ï¼Œæœæ–­åˆ æ‰å®ƒé‡Šæ”¾ç©ºé—´å§ï¼</li>
</ul>
<hr/>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åˆ°é‡åˆ°åŒæ ·é—®é¢˜çš„ä½ ã€‚Happy Coding! ğŸš€</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Android äº‹ä»¶åˆ†å‘æœºåˆ¶ - äº‹ä»¶æµå‘è¯¦è§£]]></title>    <link>https://juejin.cn/post/7593139476840169478</link>    <guid>https://juejin.cn/post/7593139476840169478</guid>    <pubDate>2026-01-09T09:07:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476840169478" data-draft-id="7592921639465304106" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Android äº‹ä»¶åˆ†å‘æœºåˆ¶ - äº‹ä»¶æµå‘è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯,é¢è¯•,Android"/> <meta itemprop="datePublished" content="2026-01-09T09:07:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é’è²843"/> <meta itemprop="url" content="https://juejin.cn/user/541408646929991"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Android äº‹ä»¶åˆ†å‘æœºåˆ¶ - äº‹ä»¶æµå‘è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/541408646929991/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é’è²843
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:07:28.000Z" title="Fri Jan 09 2026 09:07:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Android äº‹ä»¶åˆ†å‘æœºåˆ¶ - äº‹ä»¶æµå‘è¯¦è§£</h2>
<h3 data-id="heading-1">äº‹ä»¶æ¥æº</h3>
<h4 data-id="heading-2">äº‹ä»¶äº§ç”Ÿæµç¨‹</h4>
<pre><code class="hljs language-markdown" lang="markdown">ç”¨æˆ·è§¦æ‘¸å±å¹•
<span class="hljs-code">    â†“
InputManagerï¼ˆç³»ç»ŸæœåŠ¡ï¼‰
    â†“
é€šè¿‡Binderä¼ é€’åˆ°åº”ç”¨è¿›ç¨‹
    â†“
ä¸»çº¿ç¨‹çš„MessageQueue
    â†“
Looperå–å‡ºäº‹ä»¶
    â†“
Activity.dispatchTouchEvent()
    â†“
å¼€å§‹äº‹ä»¶åˆ†å‘
</span></code></pre>
<hr/>
<h3 data-id="heading-3">ViewGroupäº‹ä»¶æµå‘è¯¦è§£</h3>
<h4 data-id="heading-4">ViewGroupçš„ä¸‰ä¸ªæ–¹æ³•</h4>

























<table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>dispatchTouchEvent()</code></td><td>åˆ†å‘äº‹ä»¶</td><td>boolean</td></tr><tr><td><code>onInterceptTouchEvent()</code></td><td>æ‹¦æˆªäº‹ä»¶</td><td>boolean</td></tr><tr><td><code>onTouchEvent()</code></td><td>å¤„ç†äº‹ä»¶</td><td>boolean</td></tr></tbody></table>
<hr/>
<h4 data-id="heading-5">dispatchTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<h5 data-id="heading-6">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¢«è°ƒç”¨
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºäº‹ä»¶è¢«æ¶ˆè´¹ï¼Œæ–¹æ³•ç«‹å³è¿”å›
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()ï¼ˆåç»­é€»è¾‘ä¸æ‰§è¡Œï¼‰
    â†“
ä¸ä¼šéå†å­Viewï¼ˆä¸ä¼šè¿›å…¥å­Viewéå†é€»è¾‘ï¼‰
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼ˆä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼‰
    â†“
äº‹ä»¶åˆ†å‘ç»“æŸï¼ŒViewGroup <span class="hljs-selector-tag">A</span>æˆä¸ºç›®æ ‡View
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¼šç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    ã€åŸå› ã€‘ç³»ç»Ÿè®°å½•ViewGroup <span class="hljs-selector-tag">A</span>ä¸ºç›®æ ‡Viewï¼ˆmFirstTouchTargetï¼‰
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> âœ… <strong>äº‹ä»¶è¢«ViewGroup Aæ¶ˆè´¹ï¼Œä¸å†ä¼ é€’</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè°ƒç”¨onInterceptTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›trueåï¼Œæ–¹æ³•ç«‹å³è¿”å›</li>
<li>ä¸ä¼šæ‰§è¡Œåç»­çš„æ‹¦æˆªåˆ¤æ–­é€»è¾‘</li>
<li>è¿™æ˜¯æ€§èƒ½ä¼˜åŒ–ï¼Œé¿å…ä¸å¿…è¦çš„åˆ¤æ–­</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šä¼ é€’ç»™å­Viewï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›trueè¡¨ç¤ºäº‹ä»¶è¢«æ¶ˆè´¹</li>
<li>ç³»ç»Ÿè®¤ä¸ºäº‹ä»¶å·²ç»å¤„ç†å®Œæˆï¼Œä¸éœ€è¦ç»§ç»­ä¼ é€’</li>
<li>è¿™æ˜¯äº‹ä»¶åˆ†å‘çš„æ ¸å¿ƒæœºåˆ¶ï¼šä¸€æ—¦æ¶ˆè´¹ï¼Œåœæ­¢ä¼ é€’</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¼šç»§ç»­ä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿä¼šè®°å½•å¤„ç†ACTION_DOWNçš„Viewï¼ˆmFirstTouchTargetï¼‰</li>
<li>åç»­çš„MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¿™ä¸ªView</li>
<li>è¿™æ˜¯ä¸ºäº†ä¿æŒäº‹ä»¶åºåˆ—çš„ä¸€è‡´æ€§</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// å®Œå…¨æ§åˆ¶äº‹ä»¶å¤„ç†</span>
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                <span class="hljs-comment">// å¤„ç†æŒ‰ä¸‹äº‹ä»¶</span>
                handleDown(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… è¿”å›trueï¼Œäº‹ä»¶åœ¨æ­¤åœæ­¢</span>
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-comment">// å¤„ç†ç§»åŠ¨äº‹ä»¶</span>
                handleMove(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-comment">// å¤„ç†æŠ¬èµ·äº‹ä»¶</span>
                handleUp(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ‰€æœ‰äº‹ä»¶éƒ½æ¶ˆè´¹</span>
    }
    
    <span class="hljs-comment">// æ³¨æ„ï¼šonInterceptTouchEvent()å’ŒonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>è‡ªå®šä¹‰ViewGroupéœ€è¦å®Œå…¨æ§åˆ¶æ‰€æœ‰è§¦æ‘¸äº‹ä»¶</li>
<li>éœ€è¦é˜»æ­¢äº‹ä»¶ä¼ é€’ç»™å­View</li>
<li>å®ç°ç‰¹æ®Šçš„è§¦æ‘¸äº¤äº’é€»è¾‘</li>
</ul>
<hr/>
<h5 data-id="heading-7">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¢«è°ƒç”¨
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›false âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›falseè¡¨ç¤ºä¸å¤„ç†äº‹ä»¶ï¼Œæ–¹æ³•ç«‹å³è¿”å›
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()ï¼ˆåç»­é€»è¾‘ä¸æ‰§è¡Œï¼‰
    â†“
ä¸ä¼šéå†å­Viewï¼ˆä¸ä¼šè¿›å…¥å­Viewéå†é€»è¾‘ï¼‰
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼ˆä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼‰
    â†“
äº‹ä»¶è¿”å›åˆ°çˆ¶ViewGroupï¼ˆDecorViewï¼‰
    â†“
DecorViewä¼šå°è¯•å…¶ä»–å­Viewï¼Œæˆ–è°ƒç”¨è‡ªå·±çš„<span class="hljs-built_in">onTouchEvent</span>()
    â†“
å¦‚æœéƒ½ä¸å¤„ç†ï¼Œæœ€ç»ˆè°ƒç”¨Activity<span class="hljs-selector-class">.onTouchEvent</span>()
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    ã€åŸå› ã€‘ç³»ç»Ÿä¸ä¼šè®°å½•ViewGroup <span class="hljs-selector-tag">A</span>ä¸ºç›®æ ‡View
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬†ï¸ <strong>äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup/Activity</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè°ƒç”¨onInterceptTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›falseåï¼Œæ–¹æ³•ç«‹å³è¿”å›</li>
<li>ä¸ä¼šæ‰§è¡Œåç»­çš„æ‹¦æˆªåˆ¤æ–­é€»è¾‘</li>
<li>è¡¨ç¤ºViewGroupå®Œå…¨ä¸å‚ä¸äº‹ä»¶å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šä¼ é€’ç»™å­Viewï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›falseè¡¨ç¤ºä¸å¤„ç†äº‹ä»¶</li>
<li>ç³»ç»Ÿè®¤ä¸ºè¿™ä¸ªViewGroupä¸å‚ä¸äº‹ä»¶åˆ†å‘</li>
<li>ä¸ä¼šè¿›å…¥å­Viewéå†é€»è¾‘</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¸ä¼šä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿåªè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>å¦‚æœACTION_DOWNä¸è¢«å¤„ç†ï¼Œä¸ä¼šè®°å½•ç›®æ ‡View</li>
<li>åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™è¯¥ViewGroup</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DisabledViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">if</span> (!mEnabled) {
            <span class="hljs-comment">// ViewGroupè¢«ç¦ç”¨ï¼Œä¸å¤„ç†äº‹ä»¶</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ è¿”å›falseï¼Œäº‹ä»¶å‘ä¸Šä¼ é€’</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
    }
    
    <span class="hljs-comment">// æ³¨æ„ï¼šonInterceptTouchEvent()å’ŒonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ViewGroupè¢«ç¦ç”¨æ—¶</li>
<li>ViewGroupä¸å¯è§æ—¶ï¼ˆGONEï¼‰</li>
<li>ViewGroupéœ€è¦å°†äº‹ä»¶å®Œå…¨äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
<hr/>
<h5 data-id="heading-8">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¢«è°ƒç”¨
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†é€»è¾‘
    â†“
è¿›å…¥ViewGroup<span class="hljs-selector-class">.dispatchTouchEvent</span>()çš„é»˜è®¤å®ç°
    â†“
é¦–å…ˆè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()åˆ¤æ–­æ˜¯å¦æ‹¦æˆª
    â†“
æ ¹æ®<span class="hljs-built_in">onInterceptTouchEvent</span>()çš„è¿”å›å€¼å†³å®šï¼š
    â”œâ”€ å¦‚æœè¿”å›true â†’ æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™å­View
    â”‚   â””â”€ è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()
    â”‚       â”œâ”€ è¿”å›true â†’ ViewGroup <span class="hljs-selector-tag">A</span>æ¶ˆè´¹ âœ…
    â”‚       â””â”€ è¿”å›false â†’ å‘ä¸Šä¼ é€’ â¬†ï¸
    â””â”€ å¦‚æœè¿”å›false â†’ ä¸æ‹¦æˆªï¼Œä¼ é€’ç»™å­View
        â””â”€ éå†å­Viewï¼Œè°ƒç”¨å­View<span class="hljs-selector-class">.dispatchTouchEvent</span>()
            â”œâ”€ å­Viewå¤„ç† â†’ å­Viewæ¶ˆè´¹ âœ…
            â””â”€ å­Viewä¸å¤„ç† â†’ è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ”„ <strong>æ ¹æ®onInterceptTouchEvent()å’ŒonTouchEvent()çš„è¿”å›å€¼å†³å®š</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦è°ƒç”¨onInterceptTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>ViewGroupéœ€è¦åˆ¤æ–­æ˜¯å¦æ‹¦æˆªäº‹ä»¶</li>
<li>è¿™æ˜¯ViewGroupçš„æ ¸å¿ƒåŠŸèƒ½ï¼šæ§åˆ¶å­Viewçš„äº‹ä»¶</li>
<li>åªæœ‰ViewGroupæœ‰è¿™ä¸ªæ–¹æ³•</li>
</ul>
</li>
<li>
<p><strong>æ‹¦æˆªå’Œä¸æ‹¦æˆªçš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li><strong>æ‹¦æˆªï¼ˆtrueï¼‰</strong>ï¼šäº‹ä»¶ä¸ä¼ é€’ç»™å­Viewï¼Œç”±ViewGroupè‡ªå·±å¤„ç†</li>
<li><strong>ä¸æ‹¦æˆªï¼ˆfalseï¼‰</strong>ï¼šäº‹ä»¶ä¼ é€’ç»™å­Viewï¼Œè®©å­Viewå¤„ç†</li>
</ul>
</li>
<li>
<p><strong>å­Viewå¤„ç†å’Œä¸å¤„ç†çš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li><strong>å­Viewå¤„ç†</strong>ï¼šäº‹ä»¶è¢«å­Viewæ¶ˆè´¹ï¼ŒViewGroupçš„onTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</li>
<li><strong>å­Viewä¸å¤„ç†</strong>ï¼šäº‹ä»¶è¿”å›ViewGroupï¼Œè°ƒç”¨ViewGroupçš„onTouchEvent()</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ç³»ç»Ÿä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•åˆ¤æ–­æ˜¯å¦æ‹¦æˆª</span>
        <span class="hljs-comment">// è¿”å›trueæ‹¦æˆªï¼Œè¿”å›falseä¸æ‹¦æˆª</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onInterceptTouchEvent(event);
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// å¦‚æœæ‹¦æˆªæˆ–å­Viewä¸å¤„ç†ï¼Œä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>éœ€è¦ç³»ç»Ÿé»˜è®¤çš„äº‹ä»¶åˆ†å‘é€»è¾‘</li>
<li>ä¸éœ€è¦å®Œå…¨è‡ªå®šä¹‰äº‹ä»¶å¤„ç†</li>
</ul>
<hr/>
<h4 data-id="heading-9">onInterceptTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šåªæœ‰ViewGroupæœ‰ï¼ŒViewæ²¡æœ‰æ­¤æ–¹æ³•</p>
</blockquote>
<h5 data-id="heading-10">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºæ‹¦æˆªäº‹ä»¶ï¼Œä¸ä¼ é€’ç»™å­View
    â†“
ä¸ä¼šéå†å­Viewï¼ˆæ‹¦æˆªäº†ï¼Œä¸éœ€è¦ä¼ é€’ï¼‰
    â†“
ä¸ä¼šè°ƒç”¨å­Viewçš„<span class="hljs-built_in">dispatchTouchEvent</span>()ï¼ˆå­Viewä¸ä¼šæ”¶åˆ°äº‹ä»¶ï¼‰
    â†“
å¦‚æœå­Viewä¹‹å‰æ”¶åˆ°äº†ACTION_DOWNï¼Œä¼šæ”¶åˆ°ACTION_CANCEL
    ã€è¯´æ˜ã€‘DOWNæ—¶ä¸æ‹¦æˆªï¼ŒMOVEæ—¶æ‹¦æˆªçš„æƒ…å†µ
    â†“
è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()ï¼ˆæ‹¦æˆªåï¼Œç”±ViewGroupè‡ªå·±å¤„ç†ï¼‰
    â†“
æ ¹æ®<span class="hljs-built_in">onTouchEvent</span>()çš„è¿”å›å€¼å†³å®šï¼š
    â”œâ”€ è¿”å›true â†’ ViewGroup <span class="hljs-selector-tag">A</span>æ¶ˆè´¹äº‹ä»¶ âœ…
    â””â”€ è¿”å›false â†’ äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup â¬†ï¸
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ›‘ <strong>æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™å­Viewï¼Œè°ƒç”¨è‡ªå·±çš„onTouchEvent()</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šä¼ é€’ç»™å­Viewï¼Ÿ</strong></p>
<ul>
<li>onInterceptTouchEvent()è¿”å›trueè¡¨ç¤ºæ‹¦æˆª</li>
<li>æ‹¦æˆªæ„å‘³ç€ViewGroupè¦è‡ªå·±å¤„ç†äº‹ä»¶</li>
<li>ç³»ç»Ÿä¸ä¼šå°†äº‹ä»¶ä¼ é€’ç»™å­View</li>
</ul>
</li>
<li>
<p><strong>ACTION_CANCELä»€ä¹ˆæ—¶å€™å‘é€ï¼Ÿ</strong></p>
<ul>
<li>å½“ViewGroupåœ¨MOVEæ—¶æ‹¦æˆªï¼Œè€Œå­Viewä¹‹å‰æ”¶åˆ°äº†DOWN</li>
<li>ç³»ç»Ÿä¼šå‘é€ACTION_CANCELç»™å­View</li>
<li>å­Viewåº”è¯¥æ¸…ç†çŠ¶æ€ï¼Œæ¢å¤åˆ°åˆå§‹çŠ¶æ€</li>
</ul>
</li>
<li>
<p><strong>æ‹¦æˆªçš„æ—¶æœºï¼š</strong></p>
<ul>
<li>å¯ä»¥åœ¨DOWNæ—¶æ‹¦æˆª</li>
<li>å¯ä»¥åœ¨MOVEæ—¶æ‹¦æˆªï¼ˆæ›´å¸¸è§ï¼‰</li>
<li>å¯ä»¥åœ¨UPæ—¶æ‹¦æˆªï¼ˆå°‘è§ï¼‰</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomScrollView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ScrollView</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">float</span> mLastX, mLastY;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-type">float</span> <span class="hljs-variable">x</span> <span class="hljs-operator">=</span> event.getX();
        <span class="hljs-type">float</span> <span class="hljs-variable">y</span> <span class="hljs-operator">=</span> event.getY();
        
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                mLastX = x;
                mLastY = y;
                <span class="hljs-comment">// DOWNæ—¶ä¸æ‹¦æˆªï¼Œè®©å­Viewå¯ä»¥ç‚¹å‡»</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ‹¦æˆª</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-type">float</span> <span class="hljs-variable">deltaX</span> <span class="hljs-operator">=</span> Math.abs(x - mLastX);
                <span class="hljs-type">float</span> <span class="hljs-variable">deltaY</span> <span class="hljs-operator">=</span> Math.abs(y - mLastY);
                <span class="hljs-comment">// å¦‚æœæ˜¯å‚ç›´æ»‘åŠ¨ï¼Œæ‹¦æˆªäº‹ä»¶</span>
                <span class="hljs-keyword">if</span> (deltaY &gt; deltaX &amp;&amp; deltaY &gt; <span class="hljs-number">10</span>) {
                    <span class="hljs-comment">// æ­¤æ—¶å­Viewä¼šæ”¶åˆ°ACTION_CANCEL</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ‹¦æˆª</span>
                }
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ‹¦æˆª</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ‹¦æˆª</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// æ‹¦æˆªåï¼Œè‡ªå·±å¤„ç†æ»‘åŠ¨</span>
        handleScroll(event);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ScrollViewéœ€è¦æ‹¦æˆªå­Viewçš„æ»‘åŠ¨äº‹ä»¶</li>
<li>ViewPageréœ€è¦æ‹¦æˆªå­Viewçš„å·¦å³æ»‘åŠ¨</li>
<li>è‡ªå®šä¹‰ViewGroupéœ€è¦æ§åˆ¶å­Viewçš„äº‹ä»¶</li>
</ul>
<hr/>
<h5 data-id="heading-11">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql">ViewGroup A.dispatchTouchEvent() â†’ super
    â†“
è°ƒç”¨ViewGroup A.onInterceptTouchEvent()
    â†“
ViewGroup A.onInterceptTouchEvent()è¿”å›<span class="hljs-literal">false</span> âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›<span class="hljs-literal">false</span>è¡¨ç¤ºä¸æ‹¦æˆªï¼Œäº‹ä»¶ç»§ç»­ä¼ é€’ç»™å­<span class="hljs-keyword">View</span>
    â†“
å¼€å§‹éå†å­<span class="hljs-keyword">View</span>ï¼ˆä»åå¾€å‰ï¼Œä¸Šå±‚<span class="hljs-keyword">View</span>ä¼˜å…ˆï¼‰
    â†“
æ£€æŸ¥å­<span class="hljs-keyword">View</span>æ˜¯å¦å¯æ¥æ”¶äº‹ä»¶ï¼ˆå¯è§ã€åæ ‡èŒƒå›´å†…ã€å¯ç”¨ï¼‰
    â†“
å¯¹äºç¬¦åˆæ¡ä»¶çš„å­<span class="hljs-keyword">View</span>ï¼Œè°ƒç”¨å­View.dispatchTouchEvent()
    â†“
æ ¹æ®å­<span class="hljs-keyword">View</span>çš„è¿”å›å€¼å†³å®šï¼š
    â”œâ”€ å­<span class="hljs-keyword">View</span>è¿”å›<span class="hljs-literal">true</span> â†’ å­<span class="hljs-keyword">View</span>æ¶ˆè´¹äº‹ä»¶ âœ…
    â”‚   â””â”€ è®°å½•ç›®æ ‡<span class="hljs-keyword">View</span>ï¼ˆmFirstTouchTarget <span class="hljs-operator">=</span> å­<span class="hljs-keyword">View</span>ï¼‰
    â”‚   â””â”€ ViewGroup Açš„onTouchEvent()ä¸ä¼šè¢«è°ƒç”¨
    â”‚   â””â”€ åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¯¥å­<span class="hljs-keyword">View</span>
    â””â”€ å­<span class="hljs-keyword">View</span>è¿”å›<span class="hljs-literal">false</span> â†’ ç»§ç»­éå†ä¸‹ä¸€ä¸ªå­<span class="hljs-keyword">View</span>
        â””â”€ å¦‚æœæ‰€æœ‰å­<span class="hljs-keyword">View</span>éƒ½ä¸å¤„ç†
            â””â”€ è°ƒç”¨ViewGroup A.onTouchEvent()
                â”œâ”€ è¿”å›<span class="hljs-literal">true</span> â†’ ViewGroup Aæ¶ˆè´¹ âœ…
                â””â”€ è¿”å›<span class="hljs-literal">false</span> â†’ å‘ä¸Šä¼ é€’ â¬†ï¸
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬‡ï¸ <strong>ä¸æ‹¦æˆªï¼Œä¼ é€’ç»™å­View</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä»åå¾€å‰éå†ï¼Ÿ</strong></p>
<ul>
<li>åæ·»åŠ çš„Viewåœ¨Zè½´ä¸Šå±‚</li>
<li>ä¸Šå±‚Viewåº”è¯¥ä¼˜å…ˆå“åº”è§¦æ‘¸äº‹ä»¶</li>
<li>ç¬¦åˆç”¨æˆ·çš„è§†è§‰é¢„æœŸ</li>
</ul>
</li>
<li>
<p><strong>å­Viewçš„æ£€æŸ¥æ¡ä»¶ï¼š</strong></p>
<ul>
<li><strong>å¯è§æ€§</strong>ï¼šå¿…é¡»æ˜¯VISIBLEï¼ˆGONEå’ŒINVISIBLEä¸æ¥æ”¶äº‹ä»¶ï¼‰</li>
<li><strong>åæ ‡</strong>ï¼šè§¦æ‘¸ç‚¹å¿…é¡»åœ¨å­Viewçš„åŒºåŸŸå†…</li>
<li><strong>å¯ç”¨æ€§</strong>ï¼šå­Viewå¿…é¡»æ˜¯enabledçŠ¶æ€</li>
</ul>
</li>
<li>
<p><strong>mFirstTouchTargetçš„ä½œç”¨ï¼š</strong></p>
<ul>
<li>è®°å½•å¤„ç†ACTION_DOWNçš„å­View</li>
<li>åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¿™ä¸ªView</li>
<li>é¿å…é‡å¤éå†ï¼Œæé«˜æ€§èƒ½</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä¸æ‹¦æˆªï¼Œè®©å­Viewæ­£å¸¸å¤„ç†äº‹ä»¶</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ‹¦æˆª</span>
    }
    
    <span class="hljs-comment">// ç³»ç»Ÿä¼šè‡ªåŠ¨éå†å­Viewï¼Œè°ƒç”¨å­View.dispatchTouchEvent()</span>
    <span class="hljs-comment">// å¦‚æœå­Viewå¤„ç†ï¼Œäº‹ä»¶è¢«å­Viewæ¶ˆè´¹</span>
    <span class="hljs-comment">// å¦‚æœå­Viewä¸å¤„ç†ï¼Œä¼šè°ƒç”¨onTouchEvent()</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>éœ€è¦å­Viewæ­£å¸¸å¤„ç†äº‹ä»¶</li>
<li>ä¸éœ€è¦æ‹¦æˆªå­Viewçš„äº‹ä»¶</li>
<li>æ™®é€šçš„å¸ƒå±€å®¹å™¨ï¼ˆLinearLayoutã€RelativeLayoutç­‰ï¼‰</li>
</ul>
<hr/>
<h5 data-id="heading-12">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°
    â†“
ç³»ç»Ÿé»˜è®¤å®ç°è¿”å›falseï¼ˆViewGroupé»˜è®¤ä¸æ‹¦æˆªï¼‰
    â†“
ç­‰åŒäºè¿”å›falseï¼Œäº‹ä»¶ç»§ç»­ä¼ é€’ç»™å­View
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬‡ï¸ <strong>ç­‰åŒäºè¿”å›falseï¼Œä¼ é€’ç»™å­View</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆé»˜è®¤è¿”å›falseï¼Ÿ</strong></p>
<ul>
<li>ViewGroupçš„è®¾è®¡ç†å¿µæ˜¯ï¼šé»˜è®¤ä¸æ‹¦æˆªï¼Œè®©å­Viewå¤„ç†</li>
<li>åªæœ‰åœ¨éœ€è¦æ—¶æ‰æ‹¦æˆªï¼ˆå¦‚ScrollViewéœ€è¦æ»‘åŠ¨ï¼‰</li>
<li>è¿™æ ·å¯ä»¥ä¿è¯å­Viewçš„æ­£å¸¸äº¤äº’</li>
</ul>
</li>
<li>
<p><strong>superå’Œfalseçš„åŒºåˆ«ï¼š</strong></p>
<ul>
<li><strong>åŠŸèƒ½ä¸Š</strong>ï¼šå®Œå…¨ç›¸åŒï¼Œéƒ½è¡¨ç¤ºä¸æ‹¦æˆª</li>
<li><strong>è¯­ä¹‰ä¸Š</strong>ï¼šsuperè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤ï¼Œfalseè¡¨ç¤ºæ˜ç¡®ä¸æ‹¦æˆª</li>
<li><strong>æ¨è</strong>ï¼šå¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨superï¼Œæ›´ç¬¦åˆé¢å‘å¯¹è±¡è®¾è®¡</li>
</ul>
</li>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™éœ€è¦è¿”å›falseï¼Ÿ</strong></p>
<ul>
<li>å½“éœ€è¦æ˜ç¡®è¡¨ç¤ºä¸æ‹¦æˆªæ—¶</li>
<li>å½“éœ€è¦è¦†ç›–çˆ¶ç±»çš„æ‹¦æˆªé€»è¾‘æ—¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°ï¼ˆè¿”å›falseï¼‰</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onInterceptTouchEvent(event);
    }
    
    <span class="hljs-comment">// ç­‰åŒäºï¼š</span>
    <span class="hljs-comment">// @Override</span>
    <span class="hljs-comment">// public boolean onInterceptTouchEvent(MotionEvent event) {</span>
    <span class="hljs-comment">//     return false;</span>
    <span class="hljs-comment">// }</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>ä¸éœ€è¦è‡ªå®šä¹‰æ‹¦æˆªé€»è¾‘</li>
<li>æ™®é€šçš„å¸ƒå±€å®¹å™¨</li>
</ul>
<hr/>
<h4 data-id="heading-13">onTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<h5 data-id="heading-14">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()è¢«è°ƒç”¨
    ã€è°ƒç”¨æ—¶æœºã€‘æ‹¦æˆªäº†äº‹ä»¶ æˆ– å­Viewä¸å¤„ç†äº‹ä»¶
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºæ¶ˆè´¹äº‹ä»¶ï¼Œä¸å†å‘ä¸Šä¼ é€’
    â†“
äº‹ä»¶åˆ†å‘ç»“æŸï¼Œç³»ç»Ÿè®°å½•ViewGroup <span class="hljs-selector-tag">A</span>ä¸ºç›®æ ‡Viewï¼ˆmFirstTouchTargetï¼‰
    â†“
çˆ¶ViewGroup/Activity<span class="hljs-selector-class">.onTouchEvent</span>()ä¸ä¼šè¢«è°ƒç”¨
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¼šç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    ã€è¯´æ˜ã€‘åç»­äº‹ä»¶ä¼šç›´æ¥è°ƒç”¨ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> âœ… <strong>äº‹ä»¶è¢«ViewGroup Aæ¶ˆè´¹ï¼Œä¸å†å‘ä¸Šä¼ é€’</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™ä¼šè°ƒç”¨onTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li><strong>æƒ…å†µ1</strong>ï¼šViewGroupæ‹¦æˆªäº†äº‹ä»¶ï¼ˆonInterceptTouchEventè¿”å›trueï¼‰</li>
<li><strong>æƒ…å†µ2</strong>ï¼šå­Viewä¸å¤„ç†äº‹ä»¶ï¼ˆå­Viewçš„onTouchEventè¿”å›falseï¼‰</li>
<li><strong>æƒ…å†µ3</strong>ï¼šæ²¡æœ‰å­Viewæˆ–å­Viewä¸å¯è§</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¼šç»§ç»­ä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿä¼šè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¿™ä¸ªView</li>
<li>è¿™æ˜¯ä¸ºäº†ä¿æŒäº‹ä»¶åºåˆ—çš„ä¸€è‡´æ€§</li>
</ul>
</li>
<li>
<p><strong>åç»­äº‹ä»¶çš„æ‹¦æˆªåˆ¤æ–­ï¼š</strong></p>
<ul>
<li>åç»­MOVEã€UPä»ç„¶ä¼šè°ƒç”¨onInterceptTouchEvent()</li>
<li>å¦‚æœæ‹¦æˆªï¼Œå­Viewä¼šæ”¶åˆ°ACTION_CANCEL</li>
<li>è¿™æ˜¯åŠ¨æ€æ‹¦æˆªæœºåˆ¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// æ‹¦æˆªäº‹ä»¶</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ‹¦æˆª</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                <span class="hljs-comment">// å¤„ç†æŒ‰ä¸‹</span>
                handleDown(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-comment">// å¤„ç†ç§»åŠ¨</span>
                handleMove(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-comment">// å¤„ç†æŠ¬èµ·</span>
                handleUp(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ScrollViewå¤„ç†æ»‘åŠ¨äº‹ä»¶</li>
<li>ViewPagerå¤„ç†å·¦å³æ»‘åŠ¨</li>
<li>è‡ªå®šä¹‰ViewGroupéœ€è¦å¤„ç†è§¦æ‘¸äº‹ä»¶</li>
<li>ç‚¹å‡»ç©ºç™½åŒºåŸŸæ—¶å¤„ç†äº‹ä»¶</li>
</ul>
<hr/>
<h5 data-id="heading-15">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()è¢«è°ƒç”¨
    ã€è°ƒç”¨æ—¶æœºã€‘æ‹¦æˆªäº†äº‹ä»¶ æˆ– å­Viewä¸å¤„ç†äº‹ä»¶
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>()è¿”å›false âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›falseè¡¨ç¤ºä¸æ¶ˆè´¹äº‹ä»¶ï¼Œå‘ä¸Šä¼ é€’
    â†“
äº‹ä»¶è¿”å›åˆ°çˆ¶ViewGroupï¼ˆDecorViewï¼‰
    â†“
DecorViewä¼šå°è¯•å…¶ä»–å­Viewï¼Œæˆ–è°ƒç”¨è‡ªå·±çš„<span class="hljs-built_in">onTouchEvent</span>()
    â†“
å¦‚æœéƒ½ä¸å¤„ç†ï¼Œæœ€ç»ˆè°ƒç”¨Activity<span class="hljs-selector-class">.onTouchEvent</span>()
    â†“
ç³»ç»Ÿä¸ä¼šè®°å½•ViewGroup <span class="hljs-selector-tag">A</span>ä¸ºç›®æ ‡View
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    ã€è¯´æ˜ã€‘åç»­äº‹ä»¶ä¼šé‡æ–°ç»è¿‡å®Œæ•´çš„åˆ†å‘æµç¨‹
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬†ï¸ <strong>äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup/Activity</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¸ä¼šä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿåªè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>å¦‚æœACTION_DOWNä¸è¢«å¤„ç†ï¼Œä¸ä¼šè®°å½•ç›®æ ‡View</li>
<li>åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™è¯¥ViewGroup</li>
</ul>
</li>
<li>
<p><strong>å‘ä¸Šä¼ é€’çš„è·¯å¾„ï¼š</strong></p>
<ul>
<li>ViewGroup A â†’ çˆ¶ViewGroupï¼ˆDecorViewï¼‰â†’ Activity</li>
<li>æ¯ä¸€å±‚éƒ½ä¼šå°è¯•å¤„ç†äº‹ä»¶</li>
<li>å¦‚æœéƒ½ä¸å¤„ç†ï¼Œäº‹ä»¶ä¼šè¢«ä¸¢å¼ƒ</li>
</ul>
</li>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™è¿”å›falseï¼Ÿ</strong></p>
<ul>
<li>ViewGroupä¸éœ€è¦å¤„ç†äº‹ä»¶æ—¶</li>
<li>éœ€è¦å°†äº‹ä»¶äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
<li>ViewGroupè¢«ç¦ç”¨æ—¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onInterceptTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ‹¦æˆª</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">if</span> (!mEnabled) {
            <span class="hljs-comment">// ViewGroupè¢«ç¦ç”¨ï¼Œä¸å¤„ç†äº‹ä»¶</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ¶ˆè´¹ï¼Œå‘ä¸Šä¼ é€’</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>ViewGroupè¢«ç¦ç”¨æ—¶</li>
<li>ViewGroupä¸éœ€è¦å¤„ç†äº‹ä»¶æ—¶</li>
<li>éœ€è¦å°†äº‹ä»¶äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
<hr/>
<h5 data-id="heading-16">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-ini" lang="ini">ViewGroup A.onTouchEvent()è¢«è°ƒç”¨
    â†“
ViewGroup A.onTouchEvent()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°
    â†“
ç³»ç»Ÿæ£€æŸ¥ViewGroupçš„clickableå±æ€§ï¼ˆViewGroupé»˜è®¤<span class="hljs-attr">clickable</span>=<span class="hljs-literal">false</span>ï¼‰
    â†“
æ ¹æ®clickableå±æ€§å†³å®šè¿”å›å€¼ï¼š
    â”œâ”€ <span class="hljs-attr">clickable</span>=<span class="hljs-literal">true</span> â†’ è¿”å›<span class="hljs-literal">true</span>ï¼ˆæ¶ˆè´¹äº‹ä»¶ï¼‰âœ…
    â”‚   â””â”€ äº‹ä»¶è¢«ViewGroup Aæ¶ˆè´¹ï¼Œåç»­MOVEã€UPä¼šç»§ç»­ä¼ é€’
    â”‚   â””â”€ å¯ä»¥è§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ˆå¦‚æœè®¾ç½®äº†OnClickListenerï¼‰
    â””â”€ <span class="hljs-attr">clickable</span>=<span class="hljs-literal">false</span> â†’ è¿”å›<span class="hljs-literal">false</span>ï¼ˆä¸æ¶ˆè´¹äº‹ä»¶ï¼‰âŒ
        â””â”€ äº‹ä»¶å‘ä¸Šä¼ é€’ï¼Œåç»­MOVEã€UPä¸ä¼šä¼ é€’
        â””â”€ ä¸ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ”„ <strong>æ ¹æ®clickableå±æ€§å†³å®šï¼ˆViewGroupé»˜è®¤è¿”å›falseï¼‰</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ViewGroupçš„clickableé»˜è®¤å€¼ï¼š</strong></p>
<ul>
<li>ViewGroupé»˜è®¤clickable=false</li>
<li>æ‰€ä»¥super.onTouchEvent()é€šå¸¸è¿”å›false</li>
<li>è¿™ä¸Viewä¸åŒï¼ˆViewçš„Buttonç­‰é»˜è®¤clickable=trueï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¦‚ä½•è®©ViewGroupå¯ç‚¹å‡»ï¼Ÿ</strong></p>
<pre><code class="hljs language-java" lang="java">viewGroup.setClickable(<span class="hljs-literal">true</span>);
<span class="hljs-comment">// æˆ–è€…</span>
viewGroup.setOnClickListener(listener);  <span class="hljs-comment">// ä¼šè‡ªåŠ¨è®¾ç½®clickable=true</span>
</code></pre>
</li>
<li>
<p><strong>clickable=trueæ—¶çš„è¡Œä¸ºï¼š</strong></p>
<ul>
<li>onTouchEvent()è¿”å›true</li>
<li>äº‹ä»¶è¢«æ¶ˆè´¹</li>
<li>å¯ä»¥è§¦å‘ç‚¹å‡»äº‹ä»¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomViewGroup</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ViewGroup</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CustomViewGroup</span><span class="hljs-params">(Context context)</span> {
        <span class="hljs-built_in">super</span>(context);
        <span class="hljs-comment">// é»˜è®¤clickable=false</span>
        <span class="hljs-comment">// super.onTouchEvent()ä¼šè¿”å›false</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°</span>
        <span class="hljs-comment">// ViewGroupé»˜è®¤è¿”å›false</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
    
    <span class="hljs-comment">// å¦‚æœéœ€è¦å¤„ç†ç‚¹å‡»ï¼Œå¯ä»¥ï¼š</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">enableClick</span><span class="hljs-params">()</span> {
        setClickable(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// è®¾ç½®ä¸ºå¯ç‚¹å‡»</span>
        setOnClickListener(v -&gt; {
            <span class="hljs-comment">// å¤„ç†ç‚¹å‡»</span>
        });
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>ä¸éœ€è¦è‡ªå®šä¹‰è§¦æ‘¸å¤„ç†</li>
<li>æ™®é€šçš„å¸ƒå±€å®¹å™¨</li>
</ul>
<hr/>
<h3 data-id="heading-17">Viewäº‹ä»¶æµå‘è¯¦è§£</h3>
<h4 data-id="heading-18">Viewçš„ä¸¤ä¸ªæ–¹æ³•</h4>




















<table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th><th>è¿”å›å€¼</th></tr></thead><tbody><tr><td><code>dispatchTouchEvent()</code></td><td>åˆ†å‘äº‹ä»¶</td><td>boolean</td></tr><tr><td><code>onTouchEvent()</code></td><td>å¤„ç†äº‹ä»¶</td><td>boolean</td></tr></tbody></table>
<blockquote>
<p>âš ï¸ <strong>æ³¨æ„</strong>ï¼šViewæ²¡æœ‰onInterceptTouchEvent()æ–¹æ³•</p>
</blockquote>
<hr/>
<h4 data-id="heading-19">dispatchTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<h5 data-id="heading-20">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ falseï¼ˆä¸æ‹¦æˆªï¼‰
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>éå†å­Viewï¼Œæ‰¾åˆ°View <span class="hljs-selector-tag">B</span>
    â†“
è°ƒç”¨View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºäº‹ä»¶è¢«æ¶ˆè´¹ï¼Œæ–¹æ³•ç«‹å³è¿”å›
    â†“
ä¸ä¼šè°ƒç”¨onTouchEvent()ï¼ˆåç»­é€»è¾‘ä¸æ‰§è¡Œï¼‰
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>è®°å½•View <span class="hljs-selector-tag">B</span>ä¸ºç›®æ ‡Viewï¼ˆmFirstTouchTarget = View <span class="hljs-selector-tag">B</span>ï¼‰
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¼šç»§ç»­ä¼ é€’ç»™View <span class="hljs-selector-tag">B</span>
    ã€è¯´æ˜ã€‘åç»­äº‹ä»¶ä¼šç›´æ¥è°ƒç”¨View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> âœ… <strong>äº‹ä»¶è¢«View Bæ¶ˆè´¹ï¼Œä¸å†ä¼ é€’</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè°ƒç”¨onTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›trueåï¼Œæ–¹æ³•ç«‹å³è¿”å›</li>
<li>ä¸ä¼šæ‰§è¡Œåç»­çš„onTouchEvent()è°ƒç”¨</li>
<li>è¿™æ˜¯æ€§èƒ½ä¼˜åŒ–ï¼Œé¿å…ä¸å¿…è¦çš„æ–¹æ³•è°ƒç”¨</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¼šç»§ç»­ä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿä¼šè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™è¿™ä¸ªView</li>
<li>ä¸ä¼šå†æ¬¡ç»è¿‡å®Œæ•´çš„åˆ†å‘æµç¨‹</li>
</ul>
</li>
<li>
<p><strong>ViewGroupçš„æ‹¦æˆªå¯¹åç»­äº‹ä»¶çš„å½±å“ï¼š</strong></p>
<ul>
<li>å¦‚æœDOWNæ—¶æ²¡æ‹¦æˆªï¼Œåç»­MOVEã€UPä¹Ÿä¸ä¼šæ‹¦æˆªï¼ˆé™¤éåŠ¨æ€æ‹¦æˆªï¼‰</li>
<li>å¦‚æœDOWNæ—¶æ‹¦æˆªäº†ï¼Œåç»­MOVEã€UPä¼šç»§ç»­æ‹¦æˆª</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// å®Œå…¨æ§åˆ¶äº‹ä»¶å¤„ç†</span>
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                handleDown(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… è¿”å›trueï¼Œäº‹ä»¶åœ¨æ­¤åœæ­¢</span>
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                handleMove(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                handleUp(event);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// æ‰€æœ‰äº‹ä»¶éƒ½æ¶ˆè´¹</span>
    }
    
    <span class="hljs-comment">// æ³¨æ„ï¼šonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>è‡ªå®šä¹‰Viewéœ€è¦å®Œå…¨æ§åˆ¶æ‰€æœ‰è§¦æ‘¸äº‹ä»¶</li>
<li>éœ€è¦å®ç°ç‰¹æ®Šçš„è§¦æ‘¸äº¤äº’é€»è¾‘</li>
<li>éœ€è¦é˜»æ­¢ç³»ç»Ÿé»˜è®¤çš„ç‚¹å‡»å¤„ç†</li>
</ul>
<hr/>
<h5 data-id="heading-21">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ falseï¼ˆä¸æ‹¦æˆªï¼‰
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>éå†å­Viewï¼Œæ‰¾åˆ°View <span class="hljs-selector-tag">B</span>
    â†“
è°ƒç”¨View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›false âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›falseè¡¨ç¤ºä¸å¤„ç†äº‹ä»¶ï¼Œæ–¹æ³•ç«‹å³è¿”å›
    â†“
ä¸ä¼šè°ƒç”¨onTouchEvent()ï¼ˆåç»­é€»è¾‘ä¸æ‰§è¡Œï¼‰
    â†“
äº‹ä»¶è¿”å›åˆ°ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>ç»§ç»­éå†å…¶ä»–å­Viewï¼Œæˆ–è°ƒç”¨è‡ªå·±çš„onTouchEvent()
    â†“
ç³»ç»Ÿä¸ä¼šè®°å½•View <span class="hljs-selector-tag">B</span>ä¸ºç›®æ ‡View
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¸ä¼šä¼ é€’ç»™View <span class="hljs-selector-tag">B</span>
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬†ï¸ <strong>äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè°ƒç”¨onTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›falseåï¼Œæ–¹æ³•ç«‹å³è¿”å›</li>
<li>ä¸ä¼šæ‰§è¡Œåç»­çš„onTouchEvent()è°ƒç”¨</li>
<li>è¡¨ç¤ºViewå®Œå…¨ä¸å‚ä¸äº‹ä»¶å¤„ç†</li>
</ul>
</li>
<li>
<p><strong>ViewGroupä¼šå¦‚ä½•å¤„ç†ï¼Ÿ</strong></p>
<ul>
<li>ViewGroupä¼šç»§ç»­éå†å…¶ä»–å­View</li>
<li>å¦‚æœæ‰€æœ‰å­Viewéƒ½ä¸å¤„ç†ï¼Œè°ƒç”¨ViewGroupè‡ªå·±çš„onTouchEvent()</li>
<li>è¿™æ˜¯ViewGroupçš„é»˜è®¤è¡Œä¸º</li>
</ul>
</li>
<li>
<p><strong>ä¸ºä»€ä¹ˆåç»­äº‹ä»¶ä¸ä¼šä¼ é€’ï¼Ÿ</strong></p>
<ul>
<li>ç³»ç»Ÿåªè®°å½•å¤„ç†ACTION_DOWNçš„View</li>
<li>å¦‚æœACTION_DOWNä¸è¢«å¤„ç†ï¼Œä¸ä¼šè®°å½•ç›®æ ‡View</li>
<li>åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™è¯¥View</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DisabledView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">if</span> (!mEnabled) {
            <span class="hljs-comment">// Viewè¢«ç¦ç”¨ï¼Œä¸å¤„ç†äº‹ä»¶</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ è¿”å›falseï¼Œäº‹ä»¶å‘ä¸Šä¼ é€’</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
    }
    
    <span class="hljs-comment">// æ³¨æ„ï¼šonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>Viewè¢«ç¦ç”¨æ—¶ï¼ˆenabled=falseï¼‰</li>
<li>Viewä¸å¯è§æ—¶ï¼ˆvisibility=GONEï¼‰</li>
<li>Viewéœ€è¦å°†äº‹ä»¶å®Œå…¨äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
<hr/>
<h5 data-id="heading-22">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">Activity â†’ Window â†’ DecorView â†’ ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ falseï¼ˆä¸æ‹¦æˆªï¼‰
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>éå†å­Viewï¼Œæ‰¾åˆ°View <span class="hljs-selector-tag">B</span>
    â†“
è°ƒç”¨View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†é€»è¾‘
    â†“
è¿›å…¥View<span class="hljs-selector-class">.dispatchTouchEvent</span>()çš„é»˜è®¤å®ç°
    â†“
æ£€æŸ¥å®‰å…¨æ€§å’ŒViewæ˜¯å¦å¯ç”¨
    â†“
å¦‚æœæœ‰OnTouchListenerï¼Œå…ˆè°ƒç”¨OnTouchListener
    ã€è¯´æ˜ã€‘OnTouchListenerçš„ä¼˜å…ˆçº§é«˜äº<span class="hljs-built_in">onTouchEvent</span>()
    â†“
æ ¹æ®OnTouchListenerçš„è¿”å›å€¼å†³å®šï¼š
    â”œâ”€ è¿”å›true â†’ ä¸è°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()ï¼Œäº‹ä»¶è¢«OnTouchListeneræ¶ˆè´¹ âœ…
    â””â”€ è¿”å›falseæˆ–null â†’ è°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()
        â””â”€ æ ¹æ®<span class="hljs-built_in">onTouchEvent</span>()çš„è¿”å›å€¼å†³å®šï¼š
            â”œâ”€ è¿”å›true â†’ Viewæ¶ˆè´¹ âœ…
            â””â”€ è¿”å›false â†’ å‘ä¸Šä¼ é€’ â¬†ï¸
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ”„ <strong>æ ¹æ®OnTouchListenerå’ŒonTouchEvent()çš„è¿”å›å€¼å†³å®š</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>OnTouchListenerçš„ä¼˜å…ˆçº§ï¼š</strong></p>
<ul>
<li>OnTouchListeneråœ¨onTouchEvent()ä¹‹å‰è°ƒç”¨</li>
<li>å¦‚æœOnTouchListenerè¿”å›trueï¼ŒonTouchEvent()ä¸ä¼šè¢«è°ƒç”¨</li>
<li>è¿™æ˜¯ä¸ºäº†ç»™å¤–éƒ¨ç›‘å¬å™¨æ›´é«˜çš„ä¼˜å…ˆçº§</li>
</ul>
</li>
<li>
<p><strong>å®‰å…¨æ£€æŸ¥ï¼š</strong></p>
<ul>
<li>onFilterTouchEventForSecurity()ï¼šæ£€æŸ¥äº‹ä»¶æ˜¯å¦å®‰å…¨</li>
<li>é˜²æ­¢æŸäº›å®‰å…¨æ¼æ´</li>
</ul>
</li>
<li>
<p><strong>Viewçš„å¯ç”¨æ€§æ£€æŸ¥ï¼š</strong></p>
<ul>
<li>å¦‚æœViewä¸å¯ç”¨ï¼ˆenabled=falseï¼‰ï¼ŒæŸäº›é€»è¾‘ä¸ä¼šæ‰§è¡Œ</li>
<li>ä½†äº‹ä»¶ä»ç„¶ä¼šä¼ é€’</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">dispatchTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ä½¿ç”¨ç³»ç»Ÿé»˜è®¤å¤„ç†é€»è¾‘</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.dispatchTouchEvent(event);
    }
    
    <span class="hljs-comment">// ç³»ç»Ÿä¼šï¼š</span>
    <span class="hljs-comment">// 1. æ£€æŸ¥å®‰å…¨æ€§</span>
    <span class="hljs-comment">// 2. è°ƒç”¨OnTouchListenerï¼ˆå¦‚æœæœ‰ï¼‰</span>
    <span class="hljs-comment">// 3. è°ƒç”¨onTouchEvent()ï¼ˆå¦‚æœOnTouchListenerä¸å¤„ç†ï¼‰</span>
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>éœ€è¦ç³»ç»Ÿé»˜è®¤çš„äº‹ä»¶å¤„ç†é€»è¾‘</li>
<li>ä¸éœ€è¦å®Œå…¨è‡ªå®šä¹‰äº‹ä»¶å¤„ç†</li>
</ul>
<hr/>
<h4 data-id="heading-23">onTouchEvent()è¿”å›å€¼è¯¦è§£</h4>
<h5 data-id="heading-24">è¿”å› true</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>()è¢«è°ƒç”¨
    ã€è°ƒç”¨æ—¶æœºã€‘<span class="hljs-built_in">dispatchTouchEvent</span>()è¿”å›super ä¸” OnTouchListenerä¸å¤„ç†
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>()è¿”å›true âœ…
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›trueè¡¨ç¤ºæ¶ˆè´¹äº‹ä»¶ï¼Œä¸å†å‘ä¸Šä¼ é€’
    â†“
äº‹ä»¶åˆ†å‘ç»“æŸï¼Œç³»ç»Ÿè®°å½•View <span class="hljs-selector-tag">B</span>ä¸ºç›®æ ‡Viewï¼ˆmFirstTouchTarget = View <span class="hljs-selector-tag">B</span>ï¼‰
    â†“
çˆ¶ViewGroup<span class="hljs-selector-class">.onTouchEvent</span>()ä¸ä¼šè¢«è°ƒç”¨
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¼šç»§ç»­ä¼ é€’ç»™View <span class="hljs-selector-tag">B</span>
    â†“
å¦‚æœè®¾ç½®äº†OnClickListenerï¼Œåœ¨ACTION_UPæ—¶ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ˆ<span class="hljs-built_in">performClick</span>()ï¼‰
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> âœ… <strong>äº‹ä»¶è¢«View Bæ¶ˆè´¹ï¼Œä¸å†å‘ä¸Šä¼ é€’</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™ä¼šè°ƒç”¨onTouchEvent()ï¼Ÿ</strong></p>
<ul>
<li>dispatchTouchEvent()è¿”å›super</li>
<li>OnTouchListenerè¿”å›falseæˆ–null</li>
<li>æˆ–è€…OnTouchListenerä¸å­˜åœ¨</li>
</ul>
</li>
<li>
<p><strong>ç‚¹å‡»äº‹ä»¶çš„è§¦å‘ï¼š</strong></p>
<ul>
<li>åœ¨ACTION_UPæ—¶ï¼Œå¦‚æœViewå¯ç‚¹å‡»ï¼ˆclickable=trueï¼‰</li>
<li>ç³»ç»Ÿä¼šè°ƒç”¨performClick()</li>
<li>performClick()ä¼šè§¦å‘OnClickListener</li>
</ul>
</li>
<li>
<p><strong>åç»­äº‹ä»¶çš„ä¼ é€’ï¼š</strong></p>
<ul>
<li>åç»­MOVEã€UPä¼šç›´æ¥ä¼ é€’ç»™View B</li>
<li>ä¸ä¼šå†æ¬¡ç»è¿‡å®Œæ•´çš„åˆ†å‘æµç¨‹</li>
<li>ä½†ä»ç„¶ä¼šè°ƒç”¨dispatchTouchEvent()å’ŒonTouchEvent()</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomButton</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">public</span> <span class="hljs-title function_">CustomButton</span><span class="hljs-params">(Context context)</span> {
        <span class="hljs-built_in">super</span>(context);
        setClickable(<span class="hljs-literal">true</span>);  <span class="hljs-comment">// è®¾ç½®ä¸ºå¯ç‚¹å‡»</span>
    }
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">switch</span> (event.getAction()) {
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_DOWN:
                <span class="hljs-comment">// æŒ‰ä¸‹åé¦ˆ</span>
                setBackgroundColor(Color.RED);
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_MOVE:
                <span class="hljs-comment">// ç§»åŠ¨å¤„ç†</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
                
            <span class="hljs-keyword">case</span> MotionEvent.ACTION_UP:
                <span class="hljs-comment">// æŠ¬èµ·åé¦ˆ</span>
                setBackgroundColor(Color.BLUE);
                <span class="hljs-comment">// è§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ˆå¦‚æœè®¾ç½®äº†OnClickListenerï¼‰</span>
                performClick();
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;  <span class="hljs-comment">// âœ… æ¶ˆè´¹äº‹ä»¶</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>è‡ªå®šä¹‰Viewéœ€è¦å¤„ç†è§¦æ‘¸äº‹ä»¶</li>
<li>éœ€è¦å®ç°è‡ªå®šä¹‰çš„è§¦æ‘¸åé¦ˆ</li>
<li>éœ€è¦è§¦å‘ç‚¹å‡»äº‹ä»¶</li>
<li>Buttonã€ImageViewç­‰å¯ç‚¹å‡»çš„View</li>
</ul>
<hr/>
<h5 data-id="heading-25">è¿”å› false</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>()è¢«è°ƒç”¨
    ã€è°ƒç”¨æ—¶æœºã€‘<span class="hljs-built_in">dispatchTouchEvent</span>()è¿”å›super ä¸” OnTouchListenerä¸å¤„ç†
    â†“
View <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>()è¿”å›false âŒ
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›falseè¡¨ç¤ºä¸æ¶ˆè´¹äº‹ä»¶ï¼Œå‘ä¸Šä¼ é€’
    â†“
äº‹ä»¶è¿”å›åˆ°ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
ViewGroup <span class="hljs-selector-tag">A</span>ä¼šå°è¯•å…¶ä»–å­Viewï¼Œæˆ–è°ƒç”¨è‡ªå·±çš„<span class="hljs-built_in">onTouchEvent</span>()
    â†“
ç³»ç»Ÿä¸ä¼šè®°å½•View <span class="hljs-selector-tag">B</span>ä¸ºç›®æ ‡View
    â†“
åç»­ACTION_MOVEã€ACTION_UPä¸ä¼šä¼ é€’ç»™View <span class="hljs-selector-tag">B</span>
    â†“
ä¸ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼ˆä¸ä¼šè°ƒç”¨<span class="hljs-built_in">performClick</span>()ï¼‰
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> â¬†ï¸ <strong>äº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸ºä»€ä¹ˆä¸ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶ï¼Ÿ</strong></p>
<ul>
<li>performClick()æ˜¯åœ¨onTouchEvent()ä¸­è°ƒç”¨çš„</li>
<li>å¦‚æœonTouchEvent()è¿”å›falseï¼Œè¡¨ç¤ºä¸å¤„ç†äº‹ä»¶</li>
<li>ä¸å¤„ç†äº‹ä»¶å°±ä¸ä¼šè§¦å‘ç‚¹å‡»</li>
</ul>
</li>
<li>
<p><strong>ViewGroupä¼šå¦‚ä½•å¤„ç†ï¼Ÿ</strong></p>
<ul>
<li>ViewGroupä¼šç»§ç»­å°è¯•å…¶ä»–å­View</li>
<li>å¦‚æœæ‰€æœ‰å­Viewéƒ½ä¸å¤„ç†ï¼Œè°ƒç”¨ViewGroupè‡ªå·±çš„onTouchEvent()</li>
<li>è¿™æ˜¯ViewGroupçš„é»˜è®¤è¡Œä¸º</li>
</ul>
</li>
<li>
<p><strong>ä»€ä¹ˆæ—¶å€™è¿”å›falseï¼Ÿ</strong></p>
<ul>
<li>Viewä¸éœ€è¦å¤„ç†äº‹ä»¶æ—¶</li>
<li>Viewè¢«ç¦ç”¨æ—¶</li>
<li>Viewéœ€è¦å°†äº‹ä»¶äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DisabledView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-type">boolean</span> <span class="hljs-variable">mEnabled</span> <span class="hljs-operator">=</span> <span class="hljs-literal">false</span>;
    
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-keyword">if</span> (!mEnabled) {
            <span class="hljs-comment">// Viewè¢«ç¦ç”¨ï¼Œä¸å¤„ç†äº‹ä»¶</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;  <span class="hljs-comment">// âŒ ä¸æ¶ˆè´¹ï¼Œå‘ä¸Šä¼ é€’</span>
        }
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>Viewè¢«ç¦ç”¨æ—¶ï¼ˆenabled=falseï¼‰</li>
<li>Viewä¸éœ€è¦å¤„ç†äº‹ä»¶æ—¶</li>
<li>Viewéœ€è¦å°†äº‹ä»¶äº¤ç»™çˆ¶Viewå¤„ç†æ—¶</li>
</ul>
<hr/>
<h5 data-id="heading-26">è¿”å› super</h5>
<p><strong>è¯¦ç»†äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-keyword">View</span> B.onTouchEvent()è¢«è°ƒç”¨
    â†“
<span class="hljs-keyword">View</span> B.onTouchEvent()è¿”å›super
    â†“
ã€å…³é”®ç‚¹ã€‘è¿”å›superè¡¨ç¤ºä½¿ç”¨ç³»ç»Ÿé»˜è®¤å®ç°
    â†“
ç³»ç»Ÿæ£€æŸ¥<span class="hljs-keyword">View</span>çš„clickableå±æ€§ï¼ˆä¸åŒ<span class="hljs-keyword">View</span>çš„é»˜è®¤å€¼ä¸åŒï¼‰
    â†“
æ ¹æ®clickableå±æ€§å†³å®šè¿”å›å€¼ï¼š
    â”œâ”€ clickable<span class="hljs-operator">=</span><span class="hljs-literal">true</span> â†’ è¿”å›<span class="hljs-literal">true</span>ï¼ˆæ¶ˆè´¹äº‹ä»¶ï¼‰âœ…
    â”‚   â””â”€ äº‹ä»¶è¢«<span class="hljs-keyword">View</span> Bæ¶ˆè´¹ï¼Œåç»­MOVEã€UPä¼šç»§ç»­ä¼ é€’
    â”‚   â””â”€ åœ¨ACTION_UPæ—¶è°ƒç”¨performClick()ï¼Œè§¦å‘OnClickListener
    â””â”€ clickable<span class="hljs-operator">=</span><span class="hljs-literal">false</span> â†’ è¿”å›<span class="hljs-literal">false</span>ï¼ˆä¸æ¶ˆè´¹äº‹ä»¶ï¼‰âŒ
        â””â”€ äº‹ä»¶å‘ä¸Šä¼ é€’ï¼Œåç»­MOVEã€UPä¸ä¼šä¼ é€’
        â””â”€ ä¸ä¼šè§¦å‘ç‚¹å‡»äº‹ä»¶
</code></pre>
<p><strong>æœ€ç»ˆå»å‘ï¼š</strong> ğŸ”„ <strong>æ ¹æ®clickableå±æ€§å†³å®š</strong></p>
<p><strong>è¯¦ç»†è¯´æ˜ï¼š</strong></p>
<ol>
<li>
<p><strong>ä¸åŒViewçš„clickableé»˜è®¤å€¼ï¼š</strong></p>
<ul>
<li><strong>Button</strong>ï¼šclickable=trueï¼ˆé»˜è®¤å¯ç‚¹å‡»ï¼‰</li>
<li><strong>TextView</strong>ï¼šclickable=falseï¼ˆé»˜è®¤ä¸å¯ç‚¹å‡»ï¼‰</li>
<li><strong>ImageView</strong>ï¼šclickable=falseï¼ˆé»˜è®¤ä¸å¯ç‚¹å‡»ï¼‰</li>
<li><strong>è‡ªå®šä¹‰View</strong>ï¼šclickable=falseï¼ˆé»˜è®¤ä¸å¯ç‚¹å‡»ï¼‰</li>
</ul>
</li>
<li>
<p><strong>å¦‚ä½•è®©Viewå¯ç‚¹å‡»ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ–¹æ³•1ï¼šç›´æ¥è®¾ç½®</span>
view.setClickable(<span class="hljs-literal">true</span>);

<span class="hljs-comment">// æ–¹æ³•2ï¼šè®¾ç½®ç›‘å¬å™¨ï¼ˆä¼šè‡ªåŠ¨è®¾ç½®clickable=trueï¼‰</span>
view.setOnClickListener(listener);
</code></pre>
</li>
<li>
<p><strong>clickable=trueæ—¶çš„å®Œæ•´æµç¨‹ï¼š</strong></p>
<ul>
<li>ACTION_DOWNï¼šè¿”å›trueï¼Œæ¶ˆè´¹äº‹ä»¶</li>
<li>ACTION_MOVEï¼šè¿”å›trueï¼Œæ¶ˆè´¹äº‹ä»¶</li>
<li>ACTION_UPï¼šè¿”å›trueï¼Œæ¶ˆè´¹äº‹ä»¶ï¼Œè°ƒç”¨performClick()</li>
</ul>
</li>
</ol>
<p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Buttonï¼ˆé»˜è®¤clickable=trueï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Button</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">TextView</span> {
    <span class="hljs-comment">// Buttonçš„é»˜è®¤å®ç°</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ç³»ç»Ÿé»˜è®¤å®ç°</span>
        <span class="hljs-comment">// clickable=trueï¼Œæ‰€ä»¥è¿”å›true</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}

<span class="hljs-comment">// TextViewï¼ˆé»˜è®¤clickable=falseï¼‰</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TextView</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">View</span> {
    <span class="hljs-comment">// TextViewçš„é»˜è®¤å®ç°</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onTouchEvent</span><span class="hljs-params">(MotionEvent event)</span> {
        <span class="hljs-comment">// ç³»ç»Ÿé»˜è®¤å®ç°</span>
        <span class="hljs-comment">// clickable=falseï¼Œæ‰€ä»¥è¿”å›false</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onTouchEvent(event);
    }
}
</code></pre>
<p><strong>å®é™…åº”ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨</li>
<li>éœ€è¦ç³»ç»Ÿé»˜è®¤çš„ç‚¹å‡»å¤„ç†</li>
<li>Buttonã€ImageViewç­‰ç³»ç»Ÿæ§ä»¶</li>
</ul>
<hr/>
<h3 data-id="heading-27">å®Œæ•´åœºæ™¯ç¤ºä¾‹</h3>
<h4 data-id="heading-28">åœºæ™¯ï¼šActivity â†’ ViewGroup A â†’ ViewGroup B â†’ View C</h4>
<p><strong>è§†å›¾å±‚æ¬¡ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">Activity
  â””â”€ ViewGroup <span class="hljs-selector-tag">A</span> (LinearLayout)
      â””â”€ ViewGroup <span class="hljs-selector-tag">B</span> (RelativeLayout)
          â””â”€ View C (<span class="hljs-selector-tag">Button</span>)
</code></pre>
<hr/>
<h4 data-id="heading-29">åœºæ™¯1ï¼šViewGroup A.dispatchTouchEvent() = true</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>true</strong> âœ…</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ true âœ…
    â†“
ã€äº‹ä»¶åœ¨ViewGroup <span class="hljs-selector-tag">A</span>åœæ­¢ã€‘
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()
    â†“
ä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()
    â†“
åç»­MOVEã€UPç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> âœ… <strong>ViewGroup Aæ¶ˆè´¹ï¼ŒViewGroup Bå’ŒView Cä¸ä¼šæ”¶åˆ°äº‹ä»¶</strong></p>
<hr/>
<h4 data-id="heading-30">åœºæ™¯2ï¼šViewGroup A.dispatchTouchEvent() = false</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>false</strong> âŒ</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ false âŒ
    â†“
ã€äº‹ä»¶å‘ä¸Šä¼ é€’ç»™Activityã€‘
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onInterceptTouchEvent</span>()
    â†“
ä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>
    â†“
ä¸ä¼šè°ƒç”¨<span class="hljs-built_in">onTouchEvent</span>()
    â†“
åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
Activity<span class="hljs-selector-class">.onTouchEvent</span>()ä¼šè¢«è°ƒç”¨
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> â¬†ï¸ <strong>Activityå¤„ç†ï¼ŒViewGroup Aã€Bã€Céƒ½ä¸ä¼šæ”¶åˆ°äº‹ä»¶</strong></p>
<hr/>
<h4 data-id="heading-31">åœºæ™¯3ï¼šViewGroup Aæ‹¦æˆªå¹¶å¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>true</strong> âœ…</li>
<li>ViewGroup A.onTouchEvent() = <strong>true</strong> âœ…</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-css" lang="css">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ true âœ… ã€æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶è¢«æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span>ä¸ä¼šæ”¶åˆ°ä»»ä½•äº‹ä»¶
    â†“
View Cä¸ä¼šæ”¶åˆ°ä»»ä½•äº‹ä»¶
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ true âœ… ã€å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¢«ViewGroup <span class="hljs-selector-tag">A</span>æ¶ˆè´¹ã€‘
    â†“
åç»­MOVEã€UPç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> âœ… <strong>ViewGroup Aæ¶ˆè´¹ï¼ŒViewGroup Bå’ŒView Cä¸ä¼šæ”¶åˆ°äº‹ä»¶</strong></p>
<hr/>
<h4 data-id="heading-32">åœºæ™¯4ï¼šViewGroup Aæ‹¦æˆªä½†ä¸å¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>true</strong> âœ…</li>
<li>ViewGroup A.onTouchEvent() = <strong>false</strong> âŒ</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ true âœ… ã€æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶è¢«æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span>ä¸ä¼šæ”¶åˆ°ä»»ä½•äº‹ä»¶
    â†“
View Cä¸ä¼šæ”¶åˆ°ä»»ä½•äº‹ä»¶
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶å‘ä¸Šä¼ é€’ç»™Activityã€‘
    â†“
åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">A</span>
    â†“
Activity<span class="hljs-selector-class">.onTouchEvent</span>()ä¼šè¢«è°ƒç”¨
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> â¬†ï¸ <strong>Activityå¤„ç†ï¼ŒViewGroup Aã€Bã€Céƒ½ä¸ä¼šæ”¶åˆ°åç»­äº‹ä»¶</strong></p>
<hr/>
<h4 data-id="heading-33">åœºæ™¯5ï¼šViewGroup Aä¸æ‹¦æˆªï¼ŒViewGroup Bä¸æ‹¦æˆªï¼ŒView Cå¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup B.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>View C.dispatchTouchEvent() = <strong>super</strong></li>
<li>View C.onTouchEvent() = <strong>true</strong> âœ…</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™View Cã€‘
    â†“
View C<span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
View C<span class="hljs-selector-class">.onTouchEvent</span>() â†’ true âœ… ã€å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¢«View Cæ¶ˆè´¹ã€‘
    â†“
åç»­MOVEã€UPç»§ç»­ä¼ é€’ç»™View C
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> âœ… <strong>View Cæ¶ˆè´¹ï¼ŒViewGroup Aå’ŒBä¸ä¼šè°ƒç”¨onTouchEvent()</strong></p>
<hr/>
<h4 data-id="heading-34">åœºæ™¯6ï¼šViewGroup Aä¸æ‹¦æˆªï¼ŒViewGroup Bä¸æ‹¦æˆªï¼ŒView Cä¸å¤„ç†ï¼ŒViewGroup Bå¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup B.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>View C.dispatchTouchEvent() = <strong>super</strong></li>
<li>View C.onTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.onTouchEvent() = <strong>true</strong> âœ…</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™View Cã€‘
    â†“
View C<span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
View C<span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¿”å›ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ true âœ… ã€å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¢«ViewGroup <span class="hljs-selector-tag">B</span>æ¶ˆè´¹ã€‘
    â†“
åç»­MOVEã€UPç»§ç»­ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> âœ… <strong>ViewGroup Bæ¶ˆè´¹ï¼ŒView Cä¸å¤„ç†ï¼ŒViewGroup Aä¸ä¼šè°ƒç”¨onTouchEvent()</strong></p>
<hr/>
<h4 data-id="heading-35">åœºæ™¯7ï¼šViewGroup Aä¸æ‹¦æˆªï¼ŒViewGroup Bä¸æ‹¦æˆªï¼Œéƒ½ä¸å¤„ç†</h4>
<p><strong>è¿”å›å€¼è®¾ç½®ï¼š</strong></p>
<ul>
<li>ViewGroup A.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup A.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.dispatchTouchEvent() = <strong>super</strong></li>
<li>ViewGroup B.onInterceptTouchEvent() = <strong>false</strong> âŒ</li>
<li>View C.dispatchTouchEvent() = <strong>super</strong></li>
<li>View C.onTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup B.onTouchEvent() = <strong>false</strong> âŒ</li>
<li>ViewGroup A.onTouchEvent() = <strong>false</strong> âŒ</li>
</ul>
<p><strong>äº‹ä»¶æµå‘ï¼š</strong></p>
<pre><code class="hljs language-scss" lang="scss">ç”¨æˆ·è§¦æ‘¸
    â†“
Activity<span class="hljs-selector-class">.dispatchTouchEvent</span>()
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onInterceptTouchEvent</span>() â†’ false âŒ ã€ä¸æ‹¦æˆªã€‘
    â†“
ã€äº‹ä»¶ä¼ é€’ç»™View Cã€‘
    â†“
View C<span class="hljs-selector-class">.dispatchTouchEvent</span>() â†’ super
    â†“
View C<span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¿”å›ViewGroup <span class="hljs-selector-tag">B</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">B</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶è¿”å›ViewGroup <span class="hljs-selector-tag">A</span>ã€‘
    â†“
ViewGroup <span class="hljs-selector-tag">A</span><span class="hljs-selector-class">.onTouchEvent</span>() â†’ false âŒ ã€ä¸å¤„ç†ã€‘
    â†“
ã€äº‹ä»¶å‘ä¸Šä¼ é€’ç»™Activityã€‘
    â†“
åç»­MOVEã€UPä¸ä¼šä¼ é€’ç»™ä»»ä½•View
    â†“
Activity<span class="hljs-selector-class">.onTouchEvent</span>()ä¼šè¢«è°ƒç”¨
</code></pre>
<p><strong>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œï¼š</strong> â¬†ï¸ <strong>Activityå¤„ç†ï¼Œæ‰€æœ‰Viewéƒ½ä¸å¤„ç†</strong></p>
<hr/>
<h3 data-id="heading-36">å¿«é€ŸæŸ¥è¯¢è¡¨</h3>
<h4 data-id="heading-37">ViewGroupäº‹ä»¶æµå‘å¿«é€ŸæŸ¥è¯¢</h4>





























































<table><thead><tr><th>dispatchTouchEvent</th><th>onInterceptTouchEvent</th><th>onTouchEvent</th><th>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œ</th><th>åç»­äº‹ä»¶</th></tr></thead><tbody><tr><td><strong>true</strong></td><td>-</td><td>-</td><td>âœ… <strong>ViewGroupåœæ­¢</strong></td><td>ç»§ç»­ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>false</strong></td><td>-</td><td>-</td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’ç»™çˆ¶View/Activity</strong></td><td>ä¸ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>super</strong></td><td><strong>true</strong></td><td><strong>true</strong></td><td>âœ… <strong>ViewGroupæ¶ˆè´¹</strong></td><td>ç»§ç»­ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>super</strong></td><td><strong>true</strong></td><td><strong>false</strong></td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’ç»™çˆ¶View/Activity</strong></td><td>ä¸ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>super</strong></td><td><strong>false</strong></td><td>-</td><td>â¬‡ï¸ <strong>ä¼ é€’ç»™å­View</strong></td><td>ç”±å­Viewå†³å®š</td></tr><tr><td><strong>super</strong></td><td><strong>false</strong></td><td><strong>true</strong></td><td>âœ… <strong>ViewGroupæ¶ˆè´¹</strong>ï¼ˆå­Viewä¸å¤„ç†æ—¶ï¼‰</td><td>ç»§ç»­ä¼ é€’ç»™ViewGroup</td></tr><tr><td><strong>super</strong></td><td><strong>false</strong></td><td><strong>false</strong></td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’</strong>ï¼ˆéƒ½ä¸å¤„ç†ï¼‰</td><td>ä¸ä¼ é€’ç»™ViewGroup</td></tr></tbody></table>
<h4 data-id="heading-38">Viewäº‹ä»¶æµå‘å¿«é€ŸæŸ¥è¯¢</h4>



































<table><thead><tr><th>dispatchTouchEvent</th><th>onTouchEvent</th><th>äº‹ä»¶æœ€ç»ˆåˆ°å“ªé‡Œ</th><th>åç»­äº‹ä»¶</th></tr></thead><tbody><tr><td><strong>true</strong></td><td>-</td><td>âœ… <strong>Viewåœæ­¢</strong></td><td>ç»§ç»­ä¼ é€’ç»™View</td></tr><tr><td><strong>false</strong></td><td>-</td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup</strong></td><td>ä¸ä¼ é€’ç»™View</td></tr><tr><td><strong>super</strong></td><td><strong>true</strong></td><td>âœ… <strong>Viewæ¶ˆè´¹</strong></td><td>ç»§ç»­ä¼ é€’ç»™View</td></tr><tr><td><strong>super</strong></td><td><strong>false</strong></td><td>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’ç»™çˆ¶ViewGroup</strong></td><td>ä¸ä¼ é€’ç»™View</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-39">äº‹ä»¶æµå‘ç¬¦å·è¯´æ˜</h3>
<ul>
<li>âœ… <strong>æ¶ˆè´¹/åœæ­¢</strong>ï¼šäº‹ä»¶è¢«æ¶ˆè´¹ï¼Œä¸å†ä¼ é€’</li>
<li>â¬†ï¸ <strong>å‘ä¸Šä¼ é€’</strong>ï¼šäº‹ä»¶å‘ä¸Šä¼ é€’ç»™çˆ¶View/Activity</li>
<li>â¬‡ï¸ <strong>å‘ä¸‹ä¼ é€’</strong>ï¼šäº‹ä»¶å‘ä¸‹ä¼ é€’ç»™å­View</li>
<li>ğŸ›‘ <strong>æ‹¦æˆª</strong>ï¼šæ‹¦æˆªäº‹ä»¶ï¼Œä¸ä¼ é€’ç»™å­View</li>
<li>ğŸ”„ <strong>é»˜è®¤å¤„ç†</strong>ï¼šæŒ‰ç…§ç³»ç»Ÿé»˜è®¤é€»è¾‘å¤„ç†</li>
</ul>
<hr/>
<h3 data-id="heading-40">æ ¸å¿ƒè®°å¿†è¦ç‚¹</h3>
<h4 data-id="heading-41">1. dispatchTouchEvent()è¿”å›å€¼</h4>
<ul>
<li><strong>true</strong> â†’ âœ… äº‹ä»¶åœ¨æ­¤åœæ­¢ï¼Œä¸å†ä¼ é€’</li>
<li><strong>false</strong> â†’ â¬†ï¸ äº‹ä»¶å‘ä¸Šä¼ é€’ï¼Œä¸å¤„ç†</li>
<li><strong>super</strong> â†’ ğŸ”„ è¿›å…¥é»˜è®¤å¤„ç†æµç¨‹</li>
</ul>
<h4 data-id="heading-42">2. onInterceptTouchEvent()è¿”å›å€¼ï¼ˆåªæœ‰ViewGroupæœ‰ï¼‰</h4>
<ul>
<li><strong>true</strong> â†’ ğŸ›‘ æ‹¦æˆªï¼Œä¸ä¼ é€’ç»™å­View</li>
<li><strong>false</strong> â†’ â¬‡ï¸ ä¸æ‹¦æˆªï¼Œä¼ é€’ç»™å­View</li>
<li><strong>super</strong> â†’ â¬‡ï¸ ç­‰åŒäºfalseï¼Œä¼ é€’ç»™å­View</li>
</ul>
<h4 data-id="heading-43">3. onTouchEvent()è¿”å›å€¼</h4>
<ul>
<li><strong>true</strong> â†’ âœ… æ¶ˆè´¹äº‹ä»¶ï¼Œä¸å†å‘ä¸Šä¼ é€’</li>
<li><strong>false</strong> â†’ â¬†ï¸ ä¸æ¶ˆè´¹ï¼Œå‘ä¸Šä¼ é€’</li>
<li><strong>super</strong> â†’ ğŸ”„ æ ¹æ®clickableå±æ€§å†³å®š</li>
</ul>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€å¥—åº•åº§æ”¯æ’‘å¤šåœºæ™¯ï¼šé«˜å¾·åœ°å›¾åŸºäºÂ PaimonÂ +Â StarRocksÂ è½¨è¿¹æœåŠ¡å®è·µ]]></title>    <link>https://juejin.cn/post/7593187953271209984</link>    <guid>https://juejin.cn/post/7593187953271209984</guid>    <pubDate>2026-01-09T09:31:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593187953271209984" data-draft-id="7593173569870872628" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€å¥—åº•åº§æ”¯æ’‘å¤šåœºæ™¯ï¼šé«˜å¾·åœ°å›¾åŸºäºÂ PaimonÂ +Â StarRocksÂ è½¨è¿¹æœåŠ¡å®è·µ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T09:31:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/2414974667341287"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€å¥—åº•åº§æ”¯æ’‘å¤šåœºæ™¯ï¼šé«˜å¾·åœ°å›¾åŸºäºÂ PaimonÂ +Â StarRocksÂ è½¨è¿¹æœåŠ¡å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2414974667341287/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿é‡Œäº‘å¤§æ•°æ®AIæŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:31:25.000Z" title="Fri Jan 09 2026 09:31:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä½œè€…ï¼šèµµå®‡(å¸å¿±)/æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆ</p>
<blockquote>
<p>å¯¼è¯»ï¼š</p>
<p>æœ¬æ–‡æ•´ç†è‡ªé«˜å¾·æ•°æ®å¼€å‘å·¥ç¨‹å¸ˆã€èµµå®‡åœ¨Â StreamingÂ LakehouseÂ Meetupä¸Šçš„åˆ†äº«ã€‚èšç„¦é«˜å¾·åœ°å›¾è½¨è¿¹æœåŠ¡åœ¨å®æ—¶æ¹–ä»“æ–¹å‘çš„è½åœ°å®è·µã€‚</p>
<p>é¢å¯¹è½¨è¿¹æ•°æ®â€œé«˜å®æ—¶ã€é«˜å¹¶å‘ã€é•¿å‘¨æœŸå­˜å‚¨â€çš„å…¸å‹ç‰¹å¾ï¼Œé«˜å¾·å›¢é˜Ÿä»¥è®¿é—®è·¨åº¦ä¸ºä¾æ®å®Œæˆçƒ­/æ¸©/å†·åˆ†å±‚ï¼Œå¹¶ä»¥Â ApacheÂ PaimonÂ +Â StarRocksÂ æ„å»ºç»Ÿä¸€çš„æ•°æ®åº•åº§ï¼Œæ”¯æ’‘è½¨è¿¹æ•°æ®çš„è¿‘å®æ—¶å†™å…¥ä¸é«˜æ€§èƒ½æŸ¥è¯¢ã€‚</p>
<p>è¯¥æ–¹æ¡ˆé€šè¿‡æ€§èƒ½éªŒè¯è¦†ç›–<strong>åƒäº¿çº§è½¨è¿¹æ•°æ®æŸ¥è¯¢</strong>ç­‰å…³é”®åœºæ™¯ï¼Œåœ¨æ»¡è¶³å®æ—¶ä¸æŸ¥è¯¢æ€§èƒ½çš„å‰æä¸‹ï¼Œå®ç°äº†åˆ†å±‚å­˜å‚¨ä¸‹çš„â€œæ€§èƒ½â€”æˆæœ¬â€æœ€ä¼˜å¹³è¡¡ï¼Œå¹¶ä¸ºåç»­å°†æµæ‰¹ä¸€ä½“èƒ½åŠ›æ‰©å±•åˆ°æ›´å¤šä¸šåŠ¡åŸŸã€æ‰“é€šÂ BIÂ ä¸ç®—æ³•é“¾è·¯æä¾›äº†å¯å¤åˆ¶çš„è·¯å¾„ã€‚</p>
</blockquote>
<h2 data-id="heading-0">é«˜å¾·åœ°å›¾è½¨è¿¹ç›¸å…³çš„èƒŒæ™¯åŠé¢ä¸´çš„æŒ‘æˆ˜</h2>
<p>åœ¨è¿›å…¥èƒŒæ™¯ä»‹ç»ä¹‹å‰ï¼Œå…ˆå¯¹è½¨è¿¹é¡¹ç›®åœ¨ç«¯ä¾§çš„ä¸€äº›å…¸å‹åº”ç”¨åšä¸€ä¸ªç®€è¦è¯´æ˜ã€‚</p>
<p>ä»¥â€œè¶³è¿¹åœ°å›¾â€åŠŸèƒ½ä¸ºä¾‹ï¼šç”¨æˆ·å®Œæˆæˆæƒåï¼Œæ¯ä¸€æ¬¡å¯¼èˆªç»“æŸï¼Œå…¶è¡Œç¨‹è½¨è¿¹ä¼šè¢«è®°å½•å¹¶å±•ç¤ºåœ¨è½¨è¿¹åˆ—è¡¨ä¸­ã€‚ç”¨æˆ·æ‰“å¼€æŸä¸€æ®µè½¨è¿¹åï¼Œé¡µé¢ä¼šå±•ç¤ºè¯¥æ¬¡è¡Œç¨‹çš„åŸºç¡€ä¿¡æ¯ï¼Œä¾‹å¦‚é©¾é©¶æ—¶é•¿ã€é©¾é©¶é‡Œç¨‹ã€å¹³å‡é€Ÿåº¦ç­‰ï¼›åŒæ—¶è¿˜ä¼šåœ¨ç«¯ä¸Šæ¸²æŸ“å‡ºè½¨è¿¹å½¢çŠ¶åŠå…³é”®ç‚¹ç‰¹å¾ä¿¡æ¯ï¼Œä¾‹å¦‚ä¼šè½¦ä½ç½®ã€æœ€å¤§é€Ÿåº¦ç‚¹ç­‰ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9d7879af18394b109be6646823506f2d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=fJoUt8QXxC8zKF5Xv0gtwgBc4i0%3D" alt="image (17).png" loading="lazy"/></p>
<p>åŒæ—¶ï¼Œé«˜å¾·åœ°å›¾ä¼šå°†ç”¨æˆ·çš„è½¨è¿¹ç‚¹ä¸é“è·¯è¿›è¡Œå®æ—¶è½¨è¿¹åŒ¹é…ï¼Œä»è€Œæ¸²æŸ“å‡ºâ€œè¶³è¿¹åœ°å›¾â€çš„èƒŒæ™¯å›¾ã€‚ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œè¯¥å›¾å±•ç¤ºäº†ä¸€ä½ç”¨æˆ·åœ¨åŒ—äº¬èŒƒå›´å†…è¡Œèµ°è¿‡é“è·¯çš„æ¸²æŸ“æ•ˆæœã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a3a028708d2645faba75a28c60db7210~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=p2rPnO%2FhYM3LsGy8PXwolqpyqYQ%3D" alt="image (18).png" loading="lazy"/></p>
<p>ä¸‹å›¾å±•ç¤ºçš„æ˜¯ç«¯ä¾§â€œå·¥ä½œåœ°å›¾â€çš„ä¸€ä¸ªåº”ç”¨åœºæ™¯ã€‚é€šè¿‡è¯¥åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥æŸ¥çœ‹ä¸€æ®µè½¨è¿¹åœ¨<strong>ä½•æ—¶ã€ä½•åœ°å¼€å§‹</strong>ï¼Œåœ¨<strong>å“ªäº›åœ°ç‚¹åœç•™ä»¥åŠåœç•™æ—¶é•¿</strong>ï¼Œå¹¶åœ¨ç»“æŸåè®°å½•å…¶<strong>æœ€ç»ˆç»“æŸä½ç½®</strong>ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc6c5d0e62af498dbf56bbc941d9a9d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=pLolAYh6N74noUE%2F7gltXpiHZKk%3D" alt="image (19).png" loading="lazy"/></p>
<p>å¦ä¸€ä¸ªéœ€è¦è¡¥å……çš„åº”ç”¨åœºæ™¯æ˜¯æ­¤å‰è¾ƒä¸ºçƒ­é—¨çš„â€œçŒ«é¼ æ¸¸æˆâ€ã€‚åœ¨è¯¥ç©æ³•ä¸­ï¼ŒåŒä¸€ç¾¤ç»„å†…çš„ç”¨æˆ·å¯ä»¥å…±äº«å„è‡ªçš„å®æ—¶ä½ç½®ï¼›åœ¨ä¸€å±€æ¸¸æˆç»“æŸåï¼Œç³»ç»Ÿä¹Ÿä¼šç”Ÿæˆå¹¶å±•ç¤ºç”¨æˆ·åœ¨è¯¥å±€ä¸­çš„<strong>è¡Œç¨‹è½¨è¿¹</strong>ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/615aa7fbede848c39d520e599b115a98~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=T6mfyTXPz%2BiTCyde9ZzsvJE0YNY%3D" alt="image (20).png" loading="lazy"/></p>
<h3 data-id="heading-1">é¢ä¸´çš„æ ¸å¿ƒæŒ‘æˆ˜</h3>
<p>ç”±äºé«˜å¾·åœ°å›¾è½¨è¿¹æ•°æ®å…·æœ‰è¾ƒå¼ºçš„ä¸šåŠ¡ç‰¹æ®Šæ€§ä¸å®æ—¶æ€§è¦æ±‚ï¼Œå› æ­¤æ— è®ºåœ¨è½¨è¿¹çš„<strong>é‡‡é›†ã€å¤„ç†</strong>ï¼Œè¿˜æ˜¯åœ¨<strong>å­˜å‚¨ä¸æŸ¥è¯¢</strong>ç¯èŠ‚ï¼Œéƒ½é¢ä¸´ä¸€ç³»åˆ—æŒ‘æˆ˜ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a4c3fa114224888badd0047f6ff65e2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=B%2BUP0bg239eG%2BtzvPCn9AdJ2xuo%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afc228fb22ff2c4af60a88a48637e1a71be1f310448109ab40fd3fd7eff04315bae6224a2307c97f612302aab73979c04.png" loading="lazy"/></p>
<p><strong>ç¬¬ä¸€ï¼Œå®æ—¶å¯è§æ€§è¦æ±‚é«˜ã€‚</strong></p>
<p>è½¨è¿¹æ•°æ®æ˜¯åˆ¤æ–­ç”¨æˆ·è¡Œä¸ºçš„é‡è¦ä¾æ®ï¼Œæ•°æ®é²œåº¦è‡³å…³é‡è¦ã€‚å› æ­¤ï¼Œç«¯ä¾§ä¸šåŠ¡å¯¹è½¨è¿¹æ•°æ®çš„å®æ—¶å¯è§æ€§æå‡ºäº†è¾ƒé«˜è¦æ±‚ã€‚å¹¶ä¸”æ—¥å¸¸çš„è½¨è¿¹æ•°æ®çš„å†™å…¥æµé‡è¾¾åˆ°äº†<strong>æ¯ç§’ç™¾ä¸‡çº§</strong>ï¼Œåœ¨èŠ‚å‡æ—¥ç­‰é«˜å³°æ—¶æ®µè¿˜ä¼šå‡ºç°ç¿»å€å¢é•¿ã€‚å¯¹æ•°æ®é“¾è·¯è€Œè¨€ï¼Œæ— è®ºæ˜¯å®æ—¶è®¡ç®—èƒ½åŠ›è¿˜æ˜¯æ•´ä½“ç¨³å®šæ€§ï¼Œéƒ½é¢ä¸´è¾ƒå¤§å‹åŠ›ä¸æŒ‘æˆ˜ã€‚</p>
<p><strong>ç¬¬äºŒï¼Œå¤šåœºæ™¯æŸ¥è¯¢éœ€æ±‚å¤æ‚ï¼Œå¯¹æ€§èƒ½è¦æ±‚é«˜ã€‚</strong></p>
<p>è½¨è¿¹æ•°æ®ä¸ä»…æœåŠ¡äºç¦»çº¿æŒ–æ˜ä»¥åŠé—®é¢˜æ’æŸ¥ï¼ŒåŒæ ·éœ€è¦æœåŠ¡å„ç§çº¿ä¸Šåœºæ™¯ï¼Œå¯¹æŸ¥è¯¢æ€§èƒ½è¦æ±‚ä¹Ÿéå¸¸é«˜ã€‚</p>
<p><strong>ç¬¬ä¸‰ï¼Œå†å²æ•°æ®è§„æ¨¡å¤§ï¼Œå­˜å‚¨æˆæœ¬é«˜ã€‚</strong></p>
<p>é«˜å¾·åœ°å›¾å­˜å‚¨äº†å…¨é‡å†å²è½¨è¿¹æ•°æ®ã€‚åœ¨ç¼ºä¹æœ‰æ•ˆåˆ†å±‚ã€å‹ç¼©ä¸æ²»ç†ç­–ç•¥çš„æƒ…å†µä¸‹ï¼Œæ•°æ®è§„æ¨¡æŒç»­å¢é•¿å°†å¸¦æ¥æ˜¾è‘—çš„å­˜å‚¨æˆæœ¬å‹åŠ›ã€‚</p>
<p><strong>ç¬¬å››ï¼Œå†å²æ¼”è¿›å½¢æˆæ•°æ®çƒŸå›±ï¼Œä¸šåŠ¡ä¾èµ–å¤æ‚ã€‚</strong></p>
<p>å—å¤šå¹´å†å²æ¼”è¿›å½±å“ï¼Œè½¨è¿¹ç›¸å…³é“¾è·¯å½¢æˆäº†ä¸€å®šç¨‹åº¦çš„æ•°æ®çƒŸå›±ï¼›åŒæ—¶ï¼Œå­˜åœ¨Â <strong>20+</strong>Â ä¸šåŠ¡ä¾èµ–ï¼Œé“¾è·¯ä¸æ¥å£å…³ç³»è¾ƒä¸ºå¤æ‚ï¼Œè¿›ä¸€æ­¥æå‡äº†åœ¨æ¶æ„è®¾è®¡ä¸å­˜å‚¨æ•´åˆä¸Šçš„æŠ€æœ¯éš¾åº¦ã€‚</p>
<h3 data-id="heading-2">ç»Ÿä¸€é“¾è·¯ä¼˜åŒ–æ–¹æ¡ˆ</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/29ad34fdf7144e01a0ea6ee831b3a0c7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=2JBYp3R1qH31KzqIcEykCRjl3rM%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a0d50ecb3f30f832efdb830d1e46df9a0b5ec8b267349bece55a4f6e5feb334fe4d7c21895cde9a85654e83d76c474bef.png" loading="lazy"/></p>
<p>åŸºäºä¸Šè¿°æŒ‘æˆ˜ï¼Œæˆ‘ä»¬è®¡åˆ’å¯¹ä¸åŒä¸šåŠ¡çš„è®¡ç®—åœºæ™¯ä¸å­˜å‚¨ä½“ç³»è¿›è¡Œæ•´åˆï¼Œæ ¸å¿ƒæ–¹å‘åŒ…æ‹¬ï¼š</p>
<ol>
<li>
<p><strong>ç»Ÿä¸€æ•°æ®å¤„ç†ã€‚</strong> æ•´åˆå¤šä¸šåŠ¡åœºæ™¯ä¸‹åˆ†æ•£çš„è®¡ç®—é“¾è·¯ï¼Œå»ºç«‹æ ‡å‡†åŒ–çš„æ•°æ®å¤„ç†æµç¨‹ä¸è§„èŒƒã€‚</p>
</li>
<li>
<p><strong>å»ºè®¾é€šç”¨å­˜å‚¨ä¸æŸ¥è¯¢æœåŠ¡ã€‚</strong>Â æä¾›æ ‡å‡†åŒ–çš„è½¨è¿¹å­˜å‚¨èƒ½åŠ›ä¸ç»Ÿä¸€æŸ¥è¯¢æ¥å£ï¼Œå‡å°‘é‡å¤å»ºè®¾ã€‚</p>
</li>
<li>
<p><strong>é™ä½æ•´ä½“æˆæœ¬ã€‚</strong>Â åœ¨æ§åˆ¶èµ„æºæˆæœ¬çš„åŒæ—¶ï¼Œé™ä½åç»­äººå·¥è¿ç»´æˆæœ¬ä¸ç³»ç»Ÿå¤æ‚åº¦ã€‚</p>
</li>
<li>
<p><strong>ä¿éšœæ€§èƒ½ä¸å¦¥åã€‚</strong> åœ¨ç»Ÿä¸€æ¶æ„ä¸‹ä¿éšœå®æ—¶æ€§ä¸æŸ¥è¯¢æ€§èƒ½ã€‚</p>
</li>
</ol>
<h2 data-id="heading-3">è½¨è¿¹çš„èƒ½åŠ›å»ºè®¾ä¸æ–¹æ¡ˆè°ƒç ”</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d692f774468a4bcfb82ceb08706c5c18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=VqafAzm2cqoABqytSp1mtUfFBEY%3D" alt="image (21).png" loading="lazy"/></p>
<p>é¦–å…ˆä»‹ç»è½¨è¿¹åœ¨å…¨åœºæ™¯ä¸‹çš„æœåŠ¡èƒ½åŠ›ä½“ç³»ã€‚</p>
<p>ä½œä¸ºæ•°æ®ä¸­å°ï¼Œæˆ‘ä»¬æ‰¿æ‹…ç¦»çº¿ä¸å®æ—¶æµé‡çš„ç»Ÿä¸€å…¥å£è§’è‰²ã€‚ä»¥è½¨è¿¹ä¸šåŠ¡ä¸ºä¾‹ï¼Œæ•´ä½“å¯æŒ‰è‡ªä¸‹è€Œä¸Šçš„é“¾è·¯ç†è§£ï¼š</p>
<p>ä»æœ€åº•å±‚çš„è½¨è¿¹åŸå§‹ç‚¹æ•°æ®å‡ºå‘ï¼Œç»ç”±Â ETLÂ åŠ å·¥ä¸æ¸…æ´—ï¼Œæ²‰æ·€å½¢æˆè½¨è¿¹é¢†åŸŸçš„åŸºç¡€æ•°æ®èµ„äº§ï¼ŒåŒ…æ‹¬è½¨è¿¹ç‚¹ã€è½¨è¿¹æ®µã€è½¨è¿¹åŒ¹é…ç»“æœï¼Œä»¥åŠç¦»çº¿æ•°æ®ç­‰ã€‚</p>
<p>ä¾æ‰˜æ•°æ®ä¸­å°ä¸äº¤é€šä¸šåŠ¡åœ¨è½¨è¿¹é¢†åŸŸçš„é•¿æœŸå»ºè®¾ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥æ•´åˆå¹¶æ²‰æ·€å‡ºä¸€ç»„æ ¸å¿ƒèƒ½åŠ›ï¼šä¾‹å¦‚å…¬å…±å±‚çš„è½¨è¿¹å®æ—¶æµä»»åŠ¡ã€é€šç”¨çš„è½¨è¿¹æŸ¥è¯¢èƒ½åŠ›ï¼Œä»¥åŠç‰¹å¾å¹³å°ç­‰åŸºç¡€èƒ½åŠ›æœåŠ¡å¹³å°ã€‚</p>
<p>åœ¨æ ¸å¿ƒèƒ½åŠ›ä¹‹ä¸Šï¼Œå¹³å°å¯¹å…¨é“¾è·¯èƒ½åŠ›è¿›è¡Œæ¨¡å—åŒ–å°è£…ï¼Œä¸»è¦åŒ…æ‹¬ä¸¤ç±»æœåŠ¡ï¼š</p>
<ul>
<li>
<p><strong>æŸ¥è¯¢æœåŠ¡æ¨¡å—</strong>ï¼›</p>
</li>
<li>
<p><strong>æ¨é€è®¢é˜…æ¨¡å—</strong>ã€‚</p>
</li>
</ul>
<p>åŸºäºä¸Šè¿°ä¸¤ç±»æ¨¡å—ï¼Œè½¨è¿¹æœåŠ¡èƒ½å¤Ÿæ”¯æ’‘å¤šç±»ä¸šåŠ¡åœºæ™¯çš„æ¥å…¥ä¸è°ƒç”¨ï¼ŒåŒ…æ‹¬å†…éƒ¨è°ƒæŸ¥å¹³å°ï¼Œä»¥åŠé¢å‘Â CÂ ç«¯çš„ç›¸å…³åŠŸèƒ½ä¸åº”ç”¨ã€‚</p>
<h3 data-id="heading-4">ä¸šåŠ¡è®¿é—®è·¨åº¦è°ƒç ”</h3>
<p>æ˜ç¡®è¦å°†è½¨è¿¹èƒ½åŠ›å»ºè®¾ä¸ºä¸Šè¿°ç»Ÿä¸€ä½“ç³»åï¼Œä¸‹ä¸€æ­¥éœ€è¦å›ç­”â€œå¦‚ä½•è½åœ°â€çš„é—®é¢˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆå¼€å±•äº†å¯¹ä¸šåŠ¡è®¿é—®è·¨åº¦çš„è°ƒç ”ï¼š
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5566339b0ad6477eba32133c071a3fa5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=kSLyJJMj%2BG8bwektUiHuXogpLoM%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afc228fb22ff2c4af77546376af21a1ff1fb1e70af6b3f61f9dd8d866ed8c82419f1980b601d6c8e4b5e689a894c34d25.png" loading="lazy"/></p>
<p>è®¿é—®è·¨åº¦ç”¨äºè¡¡é‡â€œç”¨æˆ·è®¿é—®çš„è½¨è¿¹æ•°æ®è·ç¦»å½“å‰æ—¶é—´æœ‰å¤šè¿œâ€ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·æŸ¥çœ‹Â <strong>nÂ å¤©å‰</strong>çš„è½¨è¿¹æ•°æ®ï¼Œåˆ™è¯¥æ¬¡è®¿é—®çš„è·¨åº¦å®šä¹‰ä¸ºÂ <strong>n</strong>ã€‚</p>
<p>åŸºäºè¿™ä¸€å£å¾„ï¼Œæˆ‘ä»¬å¯¹<strong>æ—¥å‡è®¿é—®è·¨åº¦</strong>è¿›è¡Œäº†ç»Ÿè®¡ï¼ˆè§å·¦ä¾§å›¾ï¼‰ã€‚ç»“æœæ˜¾ç¤ºï¼š</p>
<ul>
<li>
<p><strong>0â€“1Â å¤©ï¼ˆå½“å¤©ä¸æ˜¨å¤©ï¼‰çš„è®¿é—®å æ¯”çº¦ä¸ºÂ 67%ã€‚è¿™éƒ¨åˆ†æ•°æ®è®¿é—®æœ€ä¸ºé›†ä¸­ï¼Œå¯å®šä¹‰ä¸ºçƒ­æ•°æ®ã€‚</strong></p>
</li>
<li>
<p><strong>1â€“3Â å¤©ç›´è‡³Â 30â€“60Â å¤©</strong>åŒºé—´å†…çš„è®¿é—®å æ¯”æ•´ä½“è¾ƒä¸ºå‡åŒ€ï¼Œå¯å®šä¹‰ä¸º<strong>æ¸©æ•°æ®</strong>ã€‚</p>
</li>
<li>
<p><strong>60Â å¤©ä»¥ä¸Š</strong>è¦†ç›–æ›´é•¿å‘¨æœŸçš„å†å²æ•°æ®ï¼Œæ•´ä½“è®¿é—®å æ¯”çº¦ä¸ºÂ <strong>16%</strong>ã€‚å°½ç®¡è®¿é—®é¢‘æ¬¡ç›¸å¯¹è¾ƒä½ï¼Œä½†ç”±äºå…¶ä»£è¡¨å…¨é‡å†å²æ²‰æ·€ï¼Œä½“é‡éå¸¸å¤§ï¼Œå¯å®šä¹‰ä¸º<strong>å†·æ•°æ®</strong>ã€‚</p>
</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥è°ƒç ”äº†â€œè®¿é—®è·¨åº¦åœ¨Â 60Â å¤©ä»¥ä¸Šçš„ç”¨æˆ·â€åœ¨æŸ¥çœ‹å†å²è½¨è¿¹æ—¶çš„è¡Œä¸ºç‰¹å¾ï¼šå³è¿™äº›ç”¨æˆ·æ‰€è®¿é—®çš„å†å²è½¨è¿¹ï¼Œåœ¨å…¶ä¸ªäººå…¨éƒ¨è½¨è¿¹ä¸­çš„ä½ç½®åˆ†å¸ƒï¼ˆå¯ç†è§£ä¸ºæ˜¯å¦ä»ä¼šæŸ¥çœ‹æ›´ä¹…è¿œçš„è®°å½•ï¼‰ã€‚è°ƒç ”ç»“æœè¡¨æ˜ï¼Œä»æœ‰ç›¸å½“æ¯”ä¾‹çš„ç”¨æˆ·ä¼šå›çœ‹è¾ƒæ—©æœŸçš„å†å²è½¨è¿¹ã€‚</p>
<p>ç»¼åˆæ¥çœ‹ï¼Œä¸€æ–¹é¢ï¼Œè¿‘æœŸæ•°æ®è®¿é—®é¢‘ç¹ï¼Œå¯¹æŸ¥è¯¢æ€§èƒ½ä¸å®æ—¶å“åº”æå‡ºæ›´é«˜è¦æ±‚ï¼›å¦ä¸€æ–¹é¢ï¼Œ60Â å¤©ä»¥ä¸Šå†å²æ•°æ®è™½ç„¶è®¿é—®ç›¸å¯¹è¾ƒå°‘ï¼Œä½†ä»å­˜åœ¨æ˜ç¡®çš„ç”¨æˆ·éœ€æ±‚ï¼ˆä¾‹å¦‚å…·å¤‡çºªå¿µæ„ä¹‰çš„è¡Œç¨‹å›çœ‹ç­‰ï¼‰ï¼Œä¸”è¯¥éƒ¨åˆ†æ•°æ®ä½“é‡æ›´å¤§ï¼Œå¯¹å­˜å‚¨æˆæœ¬é«˜åº¦æ•æ„Ÿã€‚</p>
<p>å› æ­¤ï¼Œæ•´ä½“ä¸Šéœ€è¦ä¸€å¥—èƒ½å¤Ÿæ”¯æŒåˆ†å±‚å­˜å‚¨å¹¶åŒæ—¶æ»¡è¶³é«˜æ•ˆæŸ¥è¯¢çš„æ•°æ®æ–¹æ¡ˆã€‚</p>
<h3 data-id="heading-5">æ€§èƒ½+å­˜å‚¨éœ€æ±‚è°ƒç ”</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56e5f61dd93e444e8daab6d0a2a4a500~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=OFuWcYAQxQyImFUUAUb7DSHX43Q%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a0d50ecb3f30f832ef9034c23b6a83e34a2cead40dabf924c6473c031bc9917c4297144b9350559ec9c718bfc0275b3f8.png" loading="lazy"/></p>
<p>åœ¨æ¨è¿›è¯¥æ–¹æ¡ˆçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå…³æ³¨å¹¶è°ƒç ”äº†é˜¿é‡Œå·´å·´é›†å›¢çš„æ•°æ®æ¹–é¡¹ç›®ï¼Œè¿™ä¸ºåç»­çš„æ¹–ä»“ä¸€ä½“åŒ–æä¾›äº†å¯è¡Œè·¯å¾„ã€‚</p>
<p>ä»èƒ½åŠ›æ„æˆæ¥çœ‹ï¼Œé›†å›¢æ•°æ®æ¹–é¡¹ç›®çš„æ ¸å¿ƒä¼˜åŠ¿ä¸»è¦ä½“ç°åœ¨ä¸‰ç‚¹ï¼š</p>
<ol>
<li>
<p>åŸºäºÂ ApacheÂ FlinkÂ +Â ApacheÂ Paimonï¼Œèƒ½å¤Ÿæä¾›é«˜æ€§èƒ½çš„è¿‘å®æ—¶æ•°æ®å†™å…¥èƒ½åŠ›ï¼Œæ»¡è¶³å¤„ç†è½¨è¿¹æ•°æ®å¯¹æ—¶æ•ˆæ€§çš„è¦æ±‚ã€‚</p>
</li>
<li>
<p>æ•°æ®å†™å…¥Â PaimonÂ åï¼Œå¯é€šè¿‡Â StarRocksÂ å¤–éƒ¨è¡¨æ–¹å¼è¿›è¡ŒæŒ‚è½½ï¼Œä»è€Œå¯¹Â PaimonÂ è¡¨ä¸Šçš„æ•°æ®æä¾›é«˜æ€§èƒ½æŸ¥è¯¢èƒ½åŠ›ã€‚</p>
</li>
<li>
<p>é‡‡ç”¨Â PaimonÂ +Â ç›˜å¤çš„å­˜å‚¨ç»„åˆï¼Œç›¸æ¯”å…¶ä»–å­˜å‚¨ä»‹è´¨å…·å¤‡æ˜¾è‘—çš„æˆæœ¬ä¼˜åŠ¿ã€‚</p>
</li>
</ol>
<p>åŸºäºä¸Šè¿°ä¼˜åŠ¿ï¼Œå…¶æ•´ä½“æ•°æ®é“¾è·¯å¦‚å·¦å›¾æ‰€ç¤ºï¼šé¦–å…ˆé€šè¿‡Â FlinkÂ JobÂ æ¶ˆè´¹æ¶ˆæ¯é˜Ÿåˆ—ä¸­çš„æºç«¯è½¨è¿¹æ¶ˆæ¯ï¼Œå®ŒæˆÂ ETLÂ å¤„ç†åŠå¿…è¦çš„èšåˆè®¡ç®—ï¼›éšåå°†ç»“æœå†™å…¥æ•°æ®å­˜å‚¨å±‚ï¼Œé‡‡ç”¨Â PaimonÂ +Â ç›˜å¤è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨ï¼›æœ€åé€šè¿‡Â StarRocksÂ æŒ‚è½½å¤–éƒ¨è¡¨çš„æ–¹å¼å¯¹æ¹–è¡¨æ•°æ®æä¾›ç»Ÿä¸€ã€ä½å»¶è¿Ÿçš„æŸ¥è¯¢æœåŠ¡ã€‚</p>
<p>åœ¨éªŒè¯Â StarRocksÂ +Â PaimonÂ æ˜¯å¦èƒ½å¤Ÿè¦†ç›–è½¨è¿¹é¡¹ç›®çš„æ€§èƒ½è¯‰æ±‚ä¸å…³é”®æŒ‘æˆ˜æ—¶ï¼Œæˆ‘ä»¬å¼€å±•äº†ä¸€ç³»åˆ—æ€§èƒ½è¯„ä¼°ä¸å‚æ•°è°ƒä¼˜å·¥ä½œã€‚</p>
<ul>
<li>
<p>åŸºäºÂ FlinkÂ +Â PaimonÂ å¯¹å†™å…¥ååè¿›è¡Œäº†æµ‹è¯•ï¼Œç»“æœè¡¨æ˜è¯¥é“¾è·¯èƒ½å¤Ÿæ»¡è¶³è½¨è¿¹æ•°æ®è¿‘å®æ—¶å¤„ç†çš„éœ€æ±‚ã€‚</p>
</li>
<li>
<p>åœ¨åƒäº¿é‡çº§ä¸‹è½¨è¿¹çš„ç‚¹æŸ¥åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨Â StarRocksÂ è¿›è¡Œäº†æŸ¥è¯¢æ€§èƒ½æµ‹è¯•ï¼Œç»“æœè¾¾åˆ°æ—¢å®šçš„æ€§èƒ½æŒ‡æ ‡è¦æ±‚ã€‚</p>
</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯¹Â PaimonÂ çš„ç›¸å…³å‚æ•°è¿›è¡Œäº†è°ƒæ•´ï¼Œä»¥åœ¨å†™å…¥æ•ˆç‡ä¸æŸ¥è¯¢æ€§èƒ½ä¹‹é—´å®ç°æ›´å¥½çš„å¹³è¡¡ã€‚ç»¼åˆæµ‹è¯•ç»“æœæ˜¾ç¤ºï¼Œæ•´ä½“é“¾è·¯éªŒè¯é€šè¿‡ï¼šå¯ä»¥é‡‡ç”¨Â StarRocksÂ ä½œä¸ºÂ OLAPÂ å¼•æ“ç›´è¿æ•°æ®æ¹–å­˜å‚¨ï¼Œå®ç°è½¨è¿¹æ•°æ®çš„åŠæ—¶æŸ¥è¯¢ä¸åˆ†æã€‚</p>
<p>åœ¨å­˜å‚¨ä¾§ï¼Œå€ŸåŠ©Â PaimonÂ +Â ç›˜å¤çš„ç»„åˆæ–¹æ¡ˆï¼Œè½¨è¿¹å­˜å‚¨æˆæœ¬å®ç°äº†æ˜¾è‘—ä¼˜åŒ–ï¼Œå¹´åº¦èŠ‚çœè¾¾åˆ°ç™¾ä¸‡çº§è§„æ¨¡ã€‚</p>
<p><strong>æ€»ä½“è€Œè¨€ï¼ŒStarRocksÂ +Â PaimonÂ æ–¹æ¡ˆåœ¨æ»¡è¶³æ€§èƒ½æŒ‡æ ‡çš„å‰æä¸‹ï¼Œå®ç°äº†æ˜ç¡®çš„æˆæœ¬ä¼˜åŒ–æ•ˆæœã€‚</strong></p>
<h2 data-id="heading-6">PaimonÂ +Â StarRocksåœ¨è½¨è¿¹åº”ç”¨ä¸­çš„è½åœ°åŠæ¢ç´¢</h2>
<h3 data-id="heading-7">æ•°æ®åˆ†å±‚æ¶æ„è®¾è®¡ï¼ˆçƒ­æ•°æ®ï¼‰</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f90c8863366547788ac9ec807fa78dc6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=HxePZs%2BBaTp%2BH1D971nY5B6lgfk%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afa4cc552274ccc031ff4b1cdeac34f7a4439c41d43c13797ad73afe89fed7a493e2545657bb74f57ec25ae8d09d7f073.png" loading="lazy"/></p>
<p>æ¥ä¸‹æ¥æˆ‘å°†è¿›ä¸€æ­¥è¯´æ˜Â PaimonÂ +Â StarRocksÂ åœ¨è½¨è¿¹åº”ç”¨ä¸­çš„è½åœ°æ–¹å¼ä¸å®è·µæ¢ç´¢ã€‚</p>
<p>å‰æ–‡æåˆ°ï¼Œæˆ‘ä»¬åŸºäºâ€œè®¿é—®è·¨åº¦â€å°†è½¨è¿¹æ•°æ®åˆ’åˆ†ä¸ºä¸‰å±‚ï¼šçƒ­æ•°æ®ã€æ¸©æ•°æ®ã€å†·æ•°æ®ã€‚åœ¨å…·ä½“å®ç°ä¸Šï¼Œçƒ­æ•°æ®åˆè¿›ä¸€æ­¥ç»†åˆ†ä¸ºÂ A/BÂ ä¸¤å±‚ã€‚</p>
<p><strong>çƒ­æ•°æ®Â AÂ å±‚ï¼š</strong> é¢å‘å¯¹æ€§èƒ½è¦æ±‚æé«˜ã€å¯¹å“åº”æ—¶å»¶ï¼ˆRTï¼‰æä¸ºæ•æ„Ÿçš„ä¸šåŠ¡åœºæ™¯ã€‚è¯¥å±‚é‡‡ç”¨Â RedisÂ å­˜å‚¨ï¼Œä¿ç•™è¿‘Â 1Â å¤©çš„æ•°æ®ã€‚</p>
<ul>
<li>
<p>æ•°æ®ç»„ç»‡æ–¹å¼ï¼šä»¥ç”¨æˆ·ä¿¡æ¯Â +Â è½¨è¿¹ç‚¹ä¿¡æ¯ä¸ºä¸»ã€‚</p>
</li>
<li>
<p>å…¸å‹åœºæ™¯ï¼šå®æ—¶ä½ç½®ç±»æŸ¥è¯¢ä¸é«˜é¢‘äº’åŠ¨åœºæ™¯ï¼Œä¾‹å¦‚â€œçŒ«é¼ æ¸¸æˆâ€ã€å®¶äººåœ°å›¾ã€æœ€æ–°ä½ç½®æŸ¥è¯¢ï¼Œä»¥åŠÂ WIAï¼ˆå·¥ä½œåœ°å›¾ï¼‰ç­‰ã€‚</p>
</li>
</ul>
<p><strong>çƒ­æ•°æ®Â BÂ å±‚ï¼š</strong> ä¸»è¦æ‰¿è½½è¿‘å‡ å¤©å†…çš„è½¨è¿¹æŸ¥è¯¢éœ€æ±‚ã€‚è¯¥å±‚é‡‡ç”¨Â LindormÂ å­˜å‚¨ï¼Œä¿ç•™è¿‘Â 3Â å¤©çš„æ•°æ®ã€‚</p>
<ul>
<li>
<p>æ•°æ®ç»„ç»‡æ–¹å¼ï¼šä»¥â€œç”¨æˆ·Â +Â æ—¶é—´ç‰‡Â +Â è½¨è¿¹æ®µâ€Â çš„ç»“æ„åŒ–è®¾è®¡ï¼Œä»¥æ»¡è¶³å¤šç§ä¸šåŠ¡ä¸åŒçš„æŸ¥è¯¢æ–¹å¼ã€‚</p>
</li>
<li>
<p>å…¸å‹åœºæ™¯ï¼šè¶³è¿¹/è¿åŠ¨ç­‰è¿‘ä¸‰å¤©è½¨è¿¹æŸ¥è¯¢ï¼›åŒæ—¶ä¹Ÿæ”¯æ’‘éƒ¨åˆ†å†…éƒ¨è°ƒæŸ¥å¹³å°ä½¿ç”¨ï¼Œä»¥åŠå®æ—¶è½¨è¿¹åŒ¹é…ç­‰èƒ½åŠ›çš„åœ¨çº¿è°ƒç”¨ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">æ•°æ®åˆ†å±‚æ¶æ„è®¾è®¡ï¼ˆæ¸©ã€å†·æ•°æ®ï¼‰</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6425a1cd384e43aab127d47a0485e00b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=nVu5WZ2NMgfDtgxY%2FwtP6dbPcoY%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afa4cc552274ccc03598cddcd0a50830508ff061a335c5dd57ccf6c61713dfbf287c85a61e2648109c44b7ab0651907ea.png" loading="lazy"/></p>
<p>æ¸©æ•°æ®ä¸å†·æ•°æ®éƒ¨åˆ†é‡‡ç”¨å‰æ–‡æåˆ°çš„Â <strong>ApacheÂ PaimonÂ +Â StarRocks</strong>Â æ–¹æ¡ˆã€‚æˆ‘ä»¬å°†ä¸‰å¤©ä»¥å¤–çš„å†å²è½¨è¿¹æ•°æ®ç»Ÿä¸€å†™å…¥Â Paimonï¼Œåœ¨æ˜¾è‘—é™ä½æ¹–å­˜å‚¨æˆæœ¬çš„åŒæ—¶ï¼Œæ„å»ºèµ·æµæ‰¹ä¸€ä½“çš„ç»Ÿä¸€æ•°æ®æ¶æ„ã€‚</p>
<p><strong>æ¸©æ•°æ®å±‚ï¼ˆ3Â å¤©â€“60Â å¤©ï¼‰</strong></p>
<p>æ¸©æ•°æ®å±‚ä½¿ç”¨Â PaimonÂ +Â StarRocksÂ å­˜å‚¨å¹¶æŸ¥è¯¢Â 3Â å¤©è‡³Â 60Â å¤©èŒƒå›´å†…çš„è½¨è¿¹æ•°æ®ï¼Œæ•´ä½“å¯å®ç°<strong>ç™¾æ¯«ç§’çº§</strong>å“åº”ã€‚</p>
<ul>
<li>
<p>æ•°æ®ç»„ç»‡æ–¹å¼ï¼šä»¥â€œç”¨æˆ·Â +Â æ—¶é—´ç‰‡Â +Â è½¨è¿¹æ®µâ€Â çš„ç»“æ„åŒ–è®¾è®¡ï¼Œä»¥è¦†ç›–å¤šç§æŸ¥è¯¢å½¢æ€ã€‚</p>
</li>
<li>
<p>æ•°æ®ç‰¹å¾ï¼šæ•´ä½“Â QPSÂ è¾ƒä½ã€è®¿é—®é¢‘ç‡ç›¸å¯¹æœ‰é™ï¼Œå¯¹Â RTÂ çš„å®¹å¿åº¦ç›¸å¯¹æ›´é«˜ã€‚</p>
</li>
</ul>
<p><strong>å†·æ•°æ®å±‚ï¼ˆ60Â å¤©ä»¥ä¸Šå…¨é‡å†å²ï¼‰</strong></p>
<p>å†·æ•°æ®å±‚åŒæ ·é‡‡ç”¨Â PaimonÂ +Â StarRocksï¼Œæ‰¿è½½Â 60Â å¤©ä»¥ä¸Šçš„å…¨é‡å†å²è½¨è¿¹æ•°æ®ã€‚ç›¸è¾ƒæ¸©æ•°æ®å±‚ï¼Œè¯¥å±‚åœ¨å­˜å‚¨ç»“æ„ä¸Šåšäº†è¿›ä¸€æ­¥ä¼˜åŒ–ï¼Œå°†å¤šæ®µè½¨è¿¹æŒ‰ç…§è½¨è¿¹çš„å”¯ä¸€Â IDÂ èšåˆä¸ºä¸€æ¡å®Œæ•´è½¨è¿¹ï¼Œå¹¶ä¸”å¼•å…¥å‹ç¼©ç­–ç•¥ä»¥æ˜¾è‘—é™ä½å†å²æ•°æ®çš„å­˜å‚¨å¼€é”€ã€‚</p>
<p>æ¸©/å†·æ•°æ®å±‚ä¸»è¦æ”¯æ’‘è¶³è¿¹åœ°å›¾ç­‰äº§å“èƒ½åŠ›å¯¹å†å²è½¨è¿¹çš„æŸ¥è¯¢ä¸å±•ç¤ºã€‚åŒæ—¶ï¼Œåœ¨ç¦»çº¿åˆ†æåœºæ™¯ä¸­ï¼ˆå¦‚Â AIÂ è®­ç»ƒã€è§„å¾‹æŒ–æ˜ç­‰ï¼‰ä»¥åŠå†…éƒ¨è°ƒæŸ¥å¹³å°ç­‰å·¥å…·å‹åœºæ™¯ï¼Œä¹Ÿä¼šä½¿ç”¨è¯¥éƒ¨åˆ†æ•°æ®èµ„äº§ã€‚</p>
<h3 data-id="heading-9">æ•´ä½“é“¾è·¯æ¶æ„å›¾</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9a7c3f20bc1841d8959c3cf11e20c5a0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=up7SfoNuYsVLGWnfB%2Bo5kSGdtsk%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a0524375348f90ffd024b62de75a06ba27915c57f0c427fd6c327b4ea19d5151fa61ba2f300c01db66d107157f8bbaaaa.png" loading="lazy"/></p>
<p>æ•´ä½“é“¾è·¯çš„æ¶æ„ç¤ºæ„å›¾å¯æŒ‰ä¸‰å±‚ç†è§£ï¼š<strong>æ•°æ®å¤„ç†å±‚ã€å­˜å‚¨å±‚ä¸æ¥å£å±‚</strong>ã€‚</p>
<p>ä»è½¨è¿¹æµå¤„ç†é“¾è·¯æ¥çœ‹ï¼Œ<strong>Flink</strong>Â æ¶ˆè´¹åŸå§‹è½¨è¿¹æ•°æ®åï¼Œä¼šæ ¹æ®è®¿é—®è·¨åº¦ä¸æ•°æ®åˆ†å±‚ç­–ç•¥ï¼Œå°†æ•°æ®åˆ†åˆ«å†™å…¥<strong>çƒ­/æ¸©/å†·</strong>ä¸‰ç±»å­˜å‚¨ä»‹è´¨ã€‚ä¸æ­¤åŒæ—¶ï¼Œåœ¨è½¨è¿¹æµåŠ å·¥è¿‡ç¨‹ä¸­ï¼Œé“¾è·¯è¿˜ä¼šå¼•å…¥è§„åˆ’æ•°æ®åŠè¡Œåï¼ˆè§„åˆ’å¯¼èˆªï¼‰ç›¸å…³æ•°æ®ï¼Œå¹¶å€ŸåŠ©Â <strong>PaimonÂ çš„</strong>PartialÂ Updateå¼•æ“å®Œæˆå®½è¡¨åŒ–å…³è”ï¼Œä»è€Œç”Ÿæˆå®Œæ•´çš„è¡Œç¨‹ä¿¡æ¯å¹¶è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨ã€‚</p>
<p>åœ¨è¡Œç¨‹ä¿¡æ¯æ²‰æ·€åï¼Œå¹³å°è¿›ä¸€æ­¥åŸºäºè¡Œç¨‹ä¿¡æ¯ä¸è¡Œç¨‹ç‰¹å¾ï¼Œå¹¶ç»“åˆä¸‰æ€¥ä¸€è¶…æ•°æ®ã€å¤©æ°”æ•°æ®ç­‰å¤–éƒ¨ç»´åº¦ï¼Œæ„å»ºé‡Œç¨‹ç¢‘ã€è·¨åŸè¯†åˆ«ã€Linké€šè¡Œé‡ç­‰å®æ—¶ç‰¹å¾èƒ½åŠ›ã€‚</p>
<p>åœ¨æ¥å£å±‚ï¼Œå¹³å°å¯¹å¤–ç»Ÿä¸€æä¾›æŸ¥è¯¢æœåŠ¡èƒ½åŠ›ã€‚ç»¼åˆæ¥çœ‹ï¼ŒåŸºäºÂ <strong>FlinkÂ +Â PaimonÂ +Â StarRocks</strong>Â çš„æ•°æ®æ¹–æ–¹æ¡ˆï¼Œå¹¶ä»¥Â Lindormã€RedisÂ ç­‰å­˜å‚¨ä»‹è´¨ä½œä¸ºè¡¥å……ï¼Œè½¨è¿¹é“¾è·¯è¢«æ•´åˆä¸ºä¸€å¥—é€šç”¨çš„è½¨è¿¹åŸºç¡€èƒ½åŠ›ï¼Œå¹¶åœ¨å»ºè®¾ç›®æ ‡ä¸Šä½“ç°ä¸ºâ€œä¸‰ä¸ªä¸€â€ï¼š</p>
<ul>
<li>
<p><strong>ä¸€å¥—å­˜å‚¨æ¶æ„ï¼š</strong> å°†é«˜å¾·è½¨è¿¹æ•°æ®ä¸è¡Œç¨‹ä¿¡æ¯åœ¨åŒä¸€æ¶æ„ä¸‹è¿›è¡Œç»Ÿä¸€å­˜å‚¨ä¸è®¡ç®—æ•´åˆï¼ŒåŒæ—¶å¯¹è½¨è¿¹æŸ¥è¯¢æœåŠ¡è¿›è¡Œç»Ÿä¸€åŒ–æ²»ç†ã€‚</p>
</li>
<li>
<p><strong>ä¸€å¥—ç‰¹å¾ä½“ç³»ã€‚</strong> åœ¨æ¨è¿›è¯¥ä½“ç³»å»ºè®¾è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯¹æ—¢æœ‰ç‰¹å¾è¿›è¡Œäº†æ¢³ç†ä¸æ”¶æ•›ï¼Œå»é™¤å†å²æ²‰æ·€ä¸‹çš„å†—ä½™ç‰¹å¾ï¼Œç»Ÿä¸€ç»´æŠ¤ä¸€å¥—Â LinkÂ çº§å®æ—¶ç‰¹å¾ã€‚åœ¨å…³é”®ä¸šåŠ¡å‘¨æœŸå†…ï¼Œè¯¥ç‰¹å¾ä½“ç³»ä¹Ÿæ”¯æ’‘å¹¶ä¿éšœäº†é«˜å¾·â€œåä¸€å‡ºè¡ŒèŠ‚â€ç­‰é«˜å³°åœºæ™¯ä¸‹çš„ç¨³å®šæ€§ã€‚</p>
</li>
<li>
<p><strong>ä¸€å¥—æ•°æ®æ¹–æ¶æ„ã€‚</strong> åŸºäºæ•°æ®æ¹–èƒ½åŠ›ï¼Œå¹³å°å½¢æˆäº†ä¸€å¥—ç»Ÿä¸€çš„æ•°æ®å¼€å‘ä¸æ•°æ®æœåŠ¡æ¶æ„ï¼Œå¹¶å°†å…¶ä½œä¸ºæ•°æ®å¼€å‘å±‚çš„ä¸»è¦æŠ€æœ¯è·¯å¾„ã€‚ä¸€æ–¹é¢æå‡äº†ç ”å‘äº¤ä»˜æ•ˆç‡ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿé™ä½äº†åç»­äººå·¥è¿ç»´æˆæœ¬ã€‚</p>
</li>
</ul>
<h3 data-id="heading-10">æ•°æ®åˆ†å±‚æ¶æ„è®¾è®¡æ€»ç»“</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fbe5c3250e624efc8299bad53ef9b168~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=D0GDEjpozISGaOjl1UIUc7gkXAg%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602aaac77b6f1abe50df13f0408df7726cc68bfa44526e493719f2098432e8d1f7f705d44c8d5e36c9f6d14d7240e718d0e1.png" loading="lazy"/></p>
<p>å…³äºæ•°æ®åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œæ•´ä½“å¯ä»¥ä»ä¸¤ä¸ªæ–¹é¢è¿›è¡Œæ€»ç»“ï¼š</p>
<p><strong>ç¬¬ä¸€ï¼šè®¿é—®é¢‘æ¬¡åˆ†å±‚</strong> æˆ‘ä»¬ä»¥è®¿é—®è·¨åº¦ä¸ºæ ¸å¿ƒæŒ‡æ ‡å®Œæˆæ•°æ®çƒ­åº¦åˆ†æï¼Œå¹¶åŸºäºâ€œæ—¶é—´è¡°å‡â€çš„ç­–ç•¥ï¼Œå°†æ•°æ®éšç”Ÿå‘½å‘¨æœŸåœ¨ä¸åŒå­˜å‚¨ä»‹è´¨ä¹‹é—´åŠ¨æ€è¿ç§»ã€‚</p>
<p><strong>ç¬¬äºŒï¼šæ™ºèƒ½æ•°æ®è¿ç§»</strong></p>
<p>åœ¨æ•°æ®è®¿é—®è¿‡ç¨‹ä¸­ï¼Œç³»ç»Ÿå¯æ ¹æ®è®¿é—®æ¨¡å¼åœ¨ä¸åŒå±‚çº§é—´è‡ªåŠ¨è·¯ç”±æŸ¥è¯¢ï¼Œç¡®ä¿æ•°æ®çš„å°±è¿‘è®¿é—®ã€‚è¯¥æœºåˆ¶å¸¦æ¥é˜¶æ¢¯å¼çš„å­˜å‚¨æˆæœ¬æ”¶ç›Šã€‚</p>
<p>åŸºäºä¸Šè¿°è®¾è®¡ï¼Œåˆ†å±‚æ¶æ„ä¸»è¦ä½“ç°ä¸¤é¡¹æ ¸å¿ƒä»·å€¼ï¼š</p>
<ol>
<li>
<p>èƒ½å¤ŸåŒæ—¶è¦†ç›–ä»<strong>å®æ—¶å†³ç­–</strong>åˆ°<strong>å†å²åˆ†æ</strong>çš„å¤šæ ·åŒ–ä¸šåŠ¡éœ€æ±‚ï¼›</p>
</li>
<li>
<p>é€šè¿‡åˆ†å±‚å­˜å‚¨å®ç°<strong>æ€§èƒ½ä¸æˆæœ¬</strong>ä¹‹é—´çš„æœ€ä½³å¹³è¡¡ã€‚</p>
</li>
</ol>
<h3 data-id="heading-11">æŸ¥è¯¢åœºæ™¯ä¸‹çš„ä¸€äº›ä¼˜åŒ–å®è·µ</h3>
<p><strong>1ã€å­˜å‚¨ä¼˜åŒ–ï¼šè½¨è¿¹å‹ç¼©-é™ä½å­˜å‚¨æˆæœ¬</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b6828edafe6547e3891fd4e458b8fefd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=nZejgMABU%2FhnGWtEoFOZDKa1K1Y%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602afc228fb22ff2c4af6510f6bc16b48b6e0d902b92423a719bf8e9d473deed2c513f3fc6470c97e850047d960e9a4570b2.png" loading="lazy"/></p>
<p>å‰æ–‡æåˆ°ï¼Œæˆ‘ä»¬å¯¹è½¨è¿¹æ•°æ®è¿›è¡Œäº†å‹ç¼©ï¼Œä»¥æ˜¾è‘—é™ä½å†å²å­˜å‚¨æˆæœ¬ã€‚å…·ä½“å®ç°ä¸Šé‡‡ç”¨äº†Â GoogleÂ çš„Â <strong>PolylineÂ ç¼–ç </strong>ã€‚å…¶åŸºæœ¬æ€è·¯æ˜¯ï¼šå°†ç»çº¬åº¦æµ®ç‚¹æ•°æŒ‰å›ºå®šå€ç‡è¿›è¡Œé‡åŒ–ï¼ˆç¼©æ”¾ï¼‰åè½¬æ¢ä¸ºæ•´æ•°ï¼Œå†å¯¹ç›¸é‚»ç‚¹çš„åæ ‡å¢é‡è¿›è¡Œå·®åˆ†ç¼–ç ï¼Œå¹¶é€šè¿‡å¯å˜é•¿åº¦ç¼–ç å°†ç»“æœæ˜ å°„ä¸ºÂ ASCIIÂ å­—ç¬¦ä¸²ï¼Œä»è€Œå®ç°å¯¹ç»çº¬åº¦åºåˆ—çš„é«˜æ•ˆå‹ç¼©ã€‚æœ¬è´¨ä¸Šï¼Œè¯¥ç®—æ³•æ˜¯å¯¹ç»çº¬åº¦æ•´æ•°åºåˆ—ï¼ˆåŠå…¶å·®åˆ†ç»“æœï¼‰è¿›è¡Œç´§å‡‘ç¼–ç ã€‚</p>
<p>æˆ‘ä»¬åœ¨ä¸Šè¿°ç®—æ³•æ€è·¯çš„åŸºç¡€ä¸Šï¼Œç»“åˆé«˜å¾·å¸¸è§çš„é€šç”¨è½¨è¿¹æ ¼å¼è¿›è¡Œäº†é€‚é…ä¸æ”¹é€ ï¼Œä»è€Œå®ç°å¯¹è½¨è¿¹æ•°æ®çš„ç»Ÿä¸€å‹ç¼©ã€‚ä»¥å‹ç¼©å‰çš„æ•°æ®æ ·ä¾‹ä¸ºä¾‹ï¼Œä¸€æ®µè½¨è¿¹ç”±å¤šä¸ªç‚¹æ„æˆï¼›æ¯ä¸ªç‚¹é€šå¸¸åŒ…å«Â <strong>æ—¶é—´ã€ç»åº¦ã€çº¬åº¦ã€é€Ÿåº¦ã€æ–¹å‘ã€é«˜ç¨‹</strong>ç­‰å­—æ®µä¿¡æ¯ã€‚</p>
<p>ç»è¿‡å‹ç¼©åï¼Œè½¨è¿¹æ•°æ®ä¼šè¢«ç¼–ç ä¸ºä¸€æ®µç´§å‡‘çš„å­—ç¬¦ä¸²ï¼ˆå½¢æ€ä¸Šç±»ä¼¼â€œä¹±ç â€ï¼‰ã€‚ä»æ•ˆæœæ¥çœ‹ï¼Œå•æ¡è½¨è¿¹çš„å‹ç¼©ç‡å¯è¾¾åˆ°Â <strong>43%â€“50%</strong>ï¼›è½¨è¿¹è¶Šé•¿ï¼Œå‹ç¼©æ•ˆæœè¶Šæ˜æ˜¾ã€‚æ•´ä½“è€Œè¨€ï¼Œé«˜å¾·è½¨è¿¹æ•°æ®å…¨é¢åº”ç”¨è¯¥å‹ç¼©æ–¹æ¡ˆåï¼Œç»¼åˆæ”¶ç›Šçº¦ä¸ºÂ <strong>47%</strong>ã€‚åœ¨æ€§èƒ½æ–¹é¢ï¼Œè¯¥å‹ç¼©ç®—æ³•å…·å¤‡è¾ƒå¥½çš„èµ„æºæ•ˆç‡ï¼šå³ä¾¿åœ¨<strong>äº¿çº§è½¨è¿¹</strong>çš„å‹ç¼©è§„æ¨¡ä¸‹ï¼ŒCPUÂ èµ„æºæ¶ˆè€—ä»ä¿æŒåœ¨è¾ƒä½æ°´å¹³ã€‚</p>
<p><strong>2ã€å­˜å‚¨ä¼˜åŒ–ï¼šé›†å›¢Â AlakeÂ é—¨æˆ·çš„å­˜å‚¨ä¼˜åŒ–åŠŸèƒ½</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/133f95d16356476b81e630813c09d982~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=Om6kaeAyQUA4fcewBpd4YB5nHs0%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a15464a86392b1bf594ec014988a9b25e4e48f330f0aa8836c3fa939067edf91ef5b6949115c8defe9f893503a351ce55 (1).png" loading="lazy"/></p>
<p>ç”±äºæœ¬é¡¹ç›®ä½¿ç”¨é›†å›¢æ•°æ®æ¹–èƒ½åŠ›ï¼Œé›†å›¢é—¨æˆ·æä¾›äº†å­˜å‚¨æ²»ç†ç›¸å…³çš„ä¼˜åŒ–åŠŸèƒ½ã€‚åœ¨Â FlinkÂ å†™å…¥Â PaimonÂ çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå› æ£€æŸ¥ç‚¹ï¼ˆCheckpointï¼‰æäº¤å¤±è´¥ç­‰åŸå› äº§ç”Ÿå°æ–‡ä»¶ï¼Œå¹¶åœ¨å¼‚å¸¸åœºæ™¯ä¸‹å½¢æˆå­¤å„¿æ–‡ä»¶ã€‚</p>
<p>ä¸ºæ­¤ï¼Œé›†å›¢æ•°æ®æ¹–é—¨æˆ·æ”¯æŒæŒ‰â€œé¡¹ç›®ç©ºé—´Â +Â è¡¨â€ç²’åº¦è¿›è¡Œé…ç½®ã€‚æˆ‘ä»¬å°†ç›®æ ‡è¡¨çº³å…¥æ²»ç†èŒƒå›´åï¼Œå¯é€šè¿‡å®šæœŸæ‰§è¡Œæˆ–æ‰‹åŠ¨è§¦å‘çš„æ–¹å¼å¼€å±•ï¼š</p>
<ul>
<li>
<p>å°æ–‡ä»¶åˆå¹¶/æ•´ç†ï¼ˆæ–‡ä»¶å‹å®ã€åˆå¹¶å°æ–‡ä»¶ï¼‰ï¼›</p>
</li>
<li>
<p>å­¤å„¿æ–‡ä»¶æ¸…ç†ã€‚</p>
</li>
</ul>
<p>ä¸Šè¿°æ²»ç†åŠ¨ä½œèƒ½å¤Ÿè¿›ä¸€æ­¥é‡Šæ”¾å­˜å‚¨ç©ºé—´ï¼ŒåŒæ—¶é€šè¿‡å‘¨æœŸæ€§åˆå¹¶/æ•´ç†ä½œä¸šå‡å°‘Â PaimonÂ è¡¨ä¸­çš„å°æ–‡ä»¶æ•°é‡ï¼Œä»è€Œä¿éšœæ¹–è¡¨çš„é«˜æ•ˆæŸ¥è¯¢èƒ½åŠ›ã€‚</p>
<p><strong>3ã€æŸ¥è¯¢ä¼˜åŒ–ï¼šæ•°æ®åˆ†åŒºå­˜å‚¨ï¼Œåˆ†åŒºè£å‰ª</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42a42155cdcb4df983a8c5750f3e8717~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=QRwJkzUtvlSk23zzyltdQCBz7KY%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a8169d9d9ddf3b83f16aa4c685ccfbc71df04090c53a45f623be580359e3c0d25d70d64a9ebd6175696b3029a3d8d1d95.png" loading="lazy"/></p>
<p>åœ¨è¯»å–æ€§èƒ½æ–¹é¢ï¼Œæˆ‘ä»¬ä»ä¸šåŠ¡è®¿é—®ç‰¹å¾å‡ºå‘å¯¹æ•°æ®è¿›è¡Œäº†åˆ†åŒºå­˜å‚¨ã€‚ä»¥åƒäº¿çº§è½¨è¿¹ç‚¹æŸ¥è¯¢åœºæ™¯ä¸ºä¾‹ï¼Œè‹¥ç¼ºå°‘åˆç†åˆ†åŒºï¼Œä»æµ·é‡å†å²æ•°æ®ä¸­å®šä½ä¸€æ¡è½¨è¿¹å¯èƒ½éœ€è¦è§¦å‘å…¨è¡¨æ‰«æï¼Œå¯¼è‡´Â I/OÂ ä¸Â CPUÂ å¼€é”€æ˜¾è‘—ä¸Šå‡ã€‚</p>
<p>åœ¨è½¨è¿¹ä¸šåŠ¡ä¸­ï¼Œåˆ†åŒºè®¾è®¡ä¼šå¤©ç„¶é‡åˆ°â€œè·¨å¤©â€é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·åœ¨å½“æ—¥Â 22:00Â å¼€å§‹å¯¼èˆªã€æ¬¡æ—¥Â 01:00Â ç»“æŸè¡Œç¨‹ï¼Œåˆ™è¯¥è¡Œç¨‹å¯¹åº”çš„è½¨è¿¹ç‚¹/è½¨è¿¹æ®µä¼šè·¨è¶Šå¤šä¸ªæ—¥æœŸåˆ†åŒºã€‚è‹¥ä»æŒ‰è‡ªç„¶æ—¥æœŸåˆ†åŒºå­˜å‚¨ä¸å†™å…¥ï¼Œå®Œæ•´è½¨è¿¹çš„æŸ¥è¯¢ä¸å†™å…¥éƒ½ä¼šæ¶‰åŠå¤šä¸ªåˆ†åŒºã€‚</p>
<p>ä¸ºè§£å†³è¿™ä¸€é—®é¢˜ï¼Œæˆ‘ä»¬åœ¨å†å²æ•°æ®å±‚åšäº†ä¸€ä¸ªå…³é”®è®¾è®¡ï¼šè½¨è¿¹ç‚¹èšåˆã€‚å…·ä½“è€Œè¨€ï¼Œé€šè¿‡è½¨è¿¹çš„å”¯ä¸€Â IDï¼Œå°†åŒä¸€æ¡è½¨è¿¹çš„å¤šä¸ªç‚¹èšåˆä¸ºä¸€æ¡å®Œæ•´è½¨è¿¹ï¼Œå¹¶é…åˆå‰æ–‡ä»‹ç»çš„å‹ç¼©ç®—æ³•ï¼Œè¿›ä¸€æ­¥é™ä½å­˜å‚¨æˆæœ¬ã€‚åœ¨åˆ†åŒºç­–ç•¥ä¸Šï¼Œæˆ‘ä»¬ä»¥è½¨è¿¹å¼€å§‹æ—¥æœŸä½œä¸ºåˆ†åŒºé”®ï¼Œä»è€Œä¿è¯å•æ¡è½¨è¿¹åªè½å…¥ä¸€ä¸ªåˆ†åŒºï¼ŒåŒæ—¶è§„é¿è·¨å¤©å†™å…¥ä¸è·¨åˆ†åŒºæŸ¥è¯¢çš„é—®é¢˜ã€‚</p>
<p>åœ¨è¡¨æ¨¡å‹è®¾è®¡ä¸Šï¼ŒPaimonÂ è¡¨ä»¥è½¨è¿¹Â IDä½œä¸ºä¸»é”®ã€‚ç”±äºÂ PaimonÂ ä¸»é”®è¡¨æ”¯æŒÂ Upsertï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å…¶ä¸»é”®åˆå¹¶èƒ½åŠ›æ”¯æŒè½¨è¿¹è¡¥å…¨ä¸æ•°æ®ä¿®å¤ç­‰åœºæ™¯ï¼›åŒæ—¶ï¼Œä¸»é”®è¿‡æ»¤æ¡ä»¶ä¹Ÿèƒ½å¤Ÿæ˜¾è‘—åŠ é€ŸæŸ¥è¯¢ã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5515151d5ecd493491384995199d41fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=D07Bb6HbR9iUtNEV3%2BqfZfYmwLQ%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a822951806323f8962d2cb5184a5287b612fc2d3a187a7e82ec946d2ed9b63d0762f4e7a3a510fce277db19ed0ef6801a.png" loading="lazy"/></p>
<p>æ­¤å¤–ï¼Œè¯¥è¡¨å¼€å¯äº†Â DVï¼ˆDeletionÂ Vectorï¼‰ç›¸å…³èƒ½åŠ›ï¼šå½“Â ReaderÂ è¯»å–å¼€å¯Â DVÂ çš„è¡¨æ—¶ï¼Œå¯è‡ªåŠ¨è·³è¿‡å·²æ ‡è®°åˆ é™¤çš„è¡Œï¼Œä»…è¿”å›æœ€æ–°æœ‰æ•ˆæ•°æ®ï¼›åŒæ—¶ï¼ŒManifestÂ çš„æ›´æ–°é¢‘æ¬¡ä¹Ÿä¼šé™ä½ï¼Œç»¼åˆå¸¦æ¥Â I/OÂ çš„è¿›ä¸€æ­¥å‡å°‘ã€‚é…åˆÂ StarRocksÂ çš„Â DVÂ NativeÂ å®ç°ï¼ˆC++ï¼‰ï¼Œæ•´ä½“æ‰§è¡Œæ•ˆç‡ç›¸è¾ƒÂ JNIÂ è·¯å¾„å¯è·å¾—æ˜¾è‘—æå‡ï¼ˆå¯è¾¾åˆ°Â 5Â å€ä»¥ä¸Šï¼‰ã€‚</p>
<p><strong>4ã€æ€§èƒ½ä¼˜åŒ–ï¼šè°ƒæ•´å‚æ•°</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5e2e0d8e663d4f38bfe4fab66fc960a6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=OgNHnzN6Rz0KAT3Ul2oMj0a9B2w%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a822951806323f896630a2d0c157f619aa6f1656cf8818d35aefc7676df1aca65924952ca63fb3b67ddfef48dcb089ed0.png" loading="lazy"/></p>
<p>æˆ‘ä»¬ä¹Ÿé’ˆå¯¹Â PaimonÂ è¡¨åšè¿‡ä¸€ç³»åˆ—å‚æ•°è°ƒä¼˜ï¼Œä»¥è¿›ä¸€æ­¥ä¼˜åŒ–ç‚¹æŸ¥åœºæ™¯ä¸‹çš„è¯»å–æ•ˆç‡ä¸ç¨³å®šæ€§ã€‚</p>
<p>ä¾‹å¦‚ï¼šå°†Â file-block-sizeÂ ä»é»˜è®¤çš„Â <strong>128MB</strong>Â ä¸‹è°ƒè‡³Â <strong>32MB</strong>ã€‚åœ¨è½¨è¿¹å†å²æ•°æ®ä½“é‡å¤§ã€ä»¥ç‚¹æŸ¥ä¸ºä¸»çš„åœºæ™¯ä¸‹ï¼Œæ›´å°çš„Â block/rowÂ groupÂ ç²’åº¦æœ‰åˆ©äºæ›´ç²¾ç»†çš„æ•°æ®è£å‰ªä¸ä¸‹æ¨ï¼š</p>
<ul>
<li>
<p>ç²’åº¦æ›´å°æ„å‘³ç€å¯ä»¥æ›´å‡†ç¡®åœ°å®šä½å‘½ä¸­èŒƒå›´ï¼Œä»è€Œåœ¨è¯»å–æ—¶è·³è¿‡æ›´å¤šä¸ç›¸å…³çš„Â rowÂ groupï¼›</p>
</li>
<li>
<p>æœ‰åŠ©äºé™ä½Â I/OÂ æ”¾å¤§ï¼ˆåªè¯»å–å‘½ä¸­çš„Â groupï¼Œè€Œéæ‰©å¤§åˆ°æ•´æ–‡ä»¶çº§åˆ«ï¼‰ï¼›</p>
</li>
<li>
<p>æ›´å°çš„Â groupÂ ä¹Ÿæ›´åˆ©äºå¤šçº¿ç¨‹/å¤šä»»åŠ¡å¹¶è¡Œè¯»å–ã€‚</p>
</li>
</ul>
<p>æˆ‘ä»¬ä¹Ÿå°è¯•è¿‡å¼€å¯â€œä½¿ç”¨çº¿ç¨‹æ± å¤„ç†åºåˆ—åŒ–â€çš„ç›¸å…³å‚æ•°ã€‚ä½†ç”±äºè¯¥çº¿ç¨‹æ± é»˜è®¤å¤§å°é€šå¸¸ä¸ºÂ CPUÂ æ ¸å¿ƒæ•°çš„Â 2Â å€ï¼Œåœ¨é«˜Â QPSÂ åœºæ™¯ä¸‹åè€Œå®¹æ˜“å½¢æˆæ’é˜Ÿä¸ç“¶é¢ˆã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†è¯¥å‚æ•°è®¾ç½®ä¸ºÂ <strong>false</strong>ï¼Œä½¿åºåˆ—åŒ–ç”±æ¯æ¡Â SQLÂ åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­è‡ªè¡Œå®Œæˆã€‚ æ­¤å¤–ï¼Œæˆ‘ä»¬å°†Â manifestÂ ç¼“å­˜å¤§å°ä»é»˜è®¤çš„Â <strong>1GB</strong>Â è°ƒæ•´è‡³Â <strong>4GB</strong>ï¼Œç”¨äºæå‡Â manifestÂ å‘½ä¸­ç‡ã€‚é«˜å¾·è½¨è¿¹æŸ¥è¯¢å­˜åœ¨ä¸€å®šæ¯”ä¾‹çš„â€œè®¿é—®æ›´æ—©å†å²æ•°æ®â€çš„ç‰¹å¾ï¼Œè‹¥Â manifestÂ é¢‘ç¹è¿‡æœŸå¹¶è¢«æ·˜æ±°ã€‚æ‰©å¤§ç¼“å­˜åï¼Œå¯è¦†ç›–æ›´é•¿æ—¶é—´èŒƒå›´çš„Â manifestÂ å…ƒæ•°æ®ã€‚</p>
<p><strong>5ã€ç¨³å®šæ€§è°ƒä¼˜ï¼šå¤šå®ä¾‹éš”ç¦»</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1cfa7e46edad42d6899e958a03fe6624~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6Zi_6YeM5LqR5aSn5pWw5o2uQUnmioDmnK8=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768555885&amp;x-signature=fkGvSo%2B3ggKiaafuxwECRsLAtqU%3D" alt="5eecdaf48460cde5863c6321f93ae74c5aa4fad04a0ed84275b8339e1c4c2483a563e2d00e1f23a98d68742cd653602a7a5c135778ee098c08ae8fbc26d88bc1199f49c74c0281f255a02aca63162d1e589b12df32ca37985a20d1c4d7c1fd9a.png" loading="lazy"/></p>
<p>æœ€åä¸€ç±»éœ€è¦é‡ç‚¹è§£å†³çš„æ˜¯ç¨³å®šæ€§ä¸èµ„æºéš”ç¦»é—®é¢˜ã€‚å‰æ–‡æåˆ°ï¼Œè½¨è¿¹æ•°æ®æ—¢æœåŠ¡äºÂ CÂ ç«¯åœ¨çº¿ä¸šåŠ¡ï¼Œä¹Ÿæ”¯æ’‘å†…éƒ¨è°ƒæŸ¥å¹³å°ç­‰å†…éƒ¨å·¥å…·ï¼Œä¸¤ç±»ä¸šåŠ¡åœ¨Â SLAÂ ä¸æŸ¥è¯¢ç‰¹å¾ä¸Šå­˜åœ¨æ˜æ˜¾å·®å¼‚ï¼Œè‹¥ç¼ºä¹éš”ç¦»æœºåˆ¶ï¼Œå®¹æ˜“äº§ç”Ÿèµ„æºå¹²æ‰°ã€‚</p>
<p>ä»¥Â CÂ ç«¯è¶³è¿¹ç±»æŸ¥è¯¢ä¸ºä¾‹ï¼Œå…¶å…¸å‹ç‰¹å¾æ˜¯ç‚¹æŸ¥æˆ–å°èŒƒå›´æ‰«æï¼Œå¯¹å“åº”æ—¶å»¶ï¼ˆRTï¼‰é«˜åº¦æ•æ„Ÿï¼›ä¸€æ—¦å‡ºç°è¶…æ—¶æˆ–æ˜æ˜¾æŠ–åŠ¨ï¼Œç”¨æˆ·ä½“éªŒä¼šç›´æ¥å—å½±å“ã€‚</p>
<p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œå†…éƒ¨è°ƒæŸ¥å¹³å°çš„æŸ¥è¯¢æ›´å¤šç”±å†…éƒ¨åŒå­¦æŒ‰éœ€è§¦å‘ï¼Œå¸¸è§å½¢æ€åŒ…æ‹¬å¤æ‚Â Joinã€æ›´å¤§èŒƒå›´æ‰«æç”šè‡³å…¨è¡¨æ‰«æï¼Œå•æ¬¡æŸ¥è¯¢å¯èƒ½å¸¦æ¥Â GBÂ çº§Â I/OÂ å¼€é”€ã€‚ç”±äºå…¶ä¸»è¦ç”¨äºåˆ†æä¸æ’æŸ¥ï¼Œè¯¥ç±»åœºæ™¯å¯¹å»¶è¿Ÿå…·å¤‡æ›´é«˜å®¹å¿åº¦ã€‚</p>
<p>ä¸ºè§£å†³ä¸åŒä¸šåŠ¡Â SLAÂ å¸¦æ¥çš„ç¨³å®šæ€§é—®é¢˜ï¼Œæˆ‘ä»¬å°†SRé›†ç¾¤é‡‡ç”¨ç‰©ç†éš”ç¦»çš„æ–¹å¼è¿›è¡Œèµ„æºæ²»ç†ï¼šå°†Â CÂ ç«¯ä¸šåŠ¡æ‹†åˆ†ä¸ºä¸¤ä¸ªé›†ç¾¤ï¼ŒåŒæ—¶å°†å†…éƒ¨è°ƒæŸ¥å¹³å°ç‹¬ç«‹éƒ¨ç½²åœ¨ä¸€ä¸ªè§„æ¨¡ç›¸å¯¹è¾ƒå°çš„é›†ç¾¤ä¸­ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä¸åŒåœºæ™¯ä¹‹é—´åœ¨æŸ¥è¯¢æ—¶å€™çš„èµ„æºç«äº‰å¾—åˆ°æœ‰æ•ˆç¼“è§£ï¼Œæ—¢é¿å…äº†ç›¸äº’å¹²æ‰°ï¼Œä¹Ÿæ›´å¥½åœ°ä¿éšœäº†Â CÂ ç«¯ä¸šåŠ¡çš„Â SLAã€‚</p>
<h2 data-id="heading-12">é«˜å¾·åœ°å›¾å®æ—¶æ¹–ä»“æœªæ¥è§„åˆ’</h2>
<p>å‰æ–‡æåˆ°ï¼Œæˆ‘ä»¬æ‰€åœ¨éƒ¨é—¨æ˜¯æ•°æ®ä¸­å°ï¼Œæ‰¿æ‹…é«˜å¾·å®æ—¶ä¸ç¦»çº¿æµé‡çš„ç»Ÿä¸€å…¥å£èŒè´£ã€‚é™¤è½¨è¿¹æ•°æ®å¤–ï¼Œå¹³å°è¿˜è¦†ç›–å¤šç§ç±»å‹çš„ä¸šåŠ¡æ•°æ®ã€‚</p>
<p>æœ¬æ¬¡åœ¨è½¨è¿¹åœºæ™¯ä¸­å®ç°äº†æµæ‰¹ä¸€ä½“çš„è½åœ°éªŒè¯ï¼Œåç»­å°†è¿›ä¸€æ­¥æ‰©å¤§ä¸šåŠ¡èŒƒå›´ï¼š</p>
<ul>
<li>
<p>é€æ­¥å°†æµæ‰¹ä¸€ä½“èƒ½åŠ›æ‰©å±•åˆ°é«˜å¾·å…¶ä»–åŸºç¡€æœåŠ¡çš„æ—¥å¿—ç±»æ•°æ®ã€‚</p>
</li>
<li>
<p>ä¸ä¸‹æ¸¸Â BIÂ å›¢é˜ŸåŠç®—æ³•å›¢é˜Ÿæ‰“é€šä»æ•°æ®ç”Ÿäº§ã€æ²»ç†åˆ°æ¶ˆè´¹çš„å…¨é“¾è·¯åä½œã€‚</p>
</li>
</ul>
<p>åœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿè®¡åˆ’å›´ç»•ä¸Šè¿°å¤šæºä¸šåŠ¡æ•°æ®ï¼Œå¯¹ç”¨æˆ·è¡Œä¸ºä¸åå¥½è¿›è¡Œç‰¹å¾æŒ–æ˜ï¼Œå¹¶å°†ç›¸å…³èƒ½åŠ›è¿›ä¸€æ­¥ä¸Â AIÂ AgentÂ ç»“åˆï¼Œå½¢æˆé¢å‘ä¸šåŠ¡çš„æ™ºèƒ½åŒ–èµ‹èƒ½è·¯å¾„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[LangChain å®æˆ˜ | å¿«é€Ÿæ­å»º Python å¼€å‘ç¯å¢ƒ]]></title>    <link>https://juejin.cn/post/7593165280488194089</link>    <guid>https://juejin.cn/post/7593165280488194089</guid>    <pubDate>2026-01-09T09:33:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593165280488194089" data-draft-id="7580723992498110500" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="LangChain å®æˆ˜ | å¿«é€Ÿæ­å»º Python å¼€å‘ç¯å¢ƒ"/> <meta itemprop="keywords" content="LangChain,LLM,Python"/> <meta itemprop="datePublished" content="2026-01-09T09:33:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿›å‡»çš„æ¾é¼ "/> <meta itemprop="url" content="https://juejin.cn/user/2749193011073976"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            LangChain å®æˆ˜ | å¿«é€Ÿæ­å»º Python å¼€å‘ç¯å¢ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2749193011073976/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿›å‡»çš„æ¾é¼ 
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:33:35.000Z" title="Fri Jan 09 2026 09:33:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{position:relative;word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden;color:#333}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:30px;margin-bottom:5px}.markdown-body h2{font-size:24px;display:inline-block;font-weight:700;background:#ef7060;color:#fff;padding:6px 8px 0 0;border-top-right-radius:6px;margin-right:2px;box-shadow:6px 3px 0 0 rgba(239,112,96,.2)}.markdown-body h2:before{content:" ";display:inline-block;width:8px}.markdown-body h2:after{content:" ";position:absolute;display:block;width:calc(100% - 50px);border-bottom:3px solid #ef7060}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:15px}.markdown-body h6{margin-top:5px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #3e3e3e;margin-top:32px;margin-bottom:32px;height:1px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:rgba(27,31,35,.05);color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:JetBranins Mono,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;box-shadow:0 0 8px hsla(0,0%,43.1%,.45);border-radius:4px;margin:16px}.markdown-body pre:before{content:"";display:block;height:30px;width:100%;margin-bottom:-7px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAdCAYAAABcz8ldAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAhgSURBVGhD7Zp7bBTHHcdn33t7vvOdzy+ITVKDU0xIKG2ABCPTRCCaUiEVKWoqRJuASAhCitRCVKSoalFUKZBiSmmFRRJKRUnUtIpo+aNqGgwoOCmuFUIRzxjwE4zte+97drYzztji8HPvtkit/PnH+n1397Tz+83vN/PbMZhmmmmm+d+BoX8n5diihcGqgFQf5vk6BMAskWUlw3GyFnIvtqWSf91w7mKC3npfOLX7wYeiIa6BBWCOLLFRF2NB0JvIOP/80YG+k2ev6S699b/OzOfKBW5l5KsgyC4DCFQDnpEAdE1goc/dlNPc/Up7P711UiYNSMuyxeUzZPnHgGHWh5XADEkSAcdiN+AnEXIBhBComgFU0/xQR+jnj51sOUMf9Z0NKyL8S9+JPBEN8zuCMrsqGOA5QWAAyzLAxe53HBeYFgJp1c5Cx33nyIfpV3e+22/Sx32nev/sMCgVnmM4bjOniAtZWQAsz315EfsGQQc4hgWcjHkCmOj1rheuNn95cXwmDMiVp5etC/D8m5FwUWVQUYYGPh6mZYFUOgsGVa1pXvOZzVT2jRuH54RM230jEuI3RcIiL4l4UkxAJmuD/riVsqD7ct2m9nep7BtVTbVfZ0uE/UIk+CQflAHDjf8+Lg6MldYATGpH3c/Ul7p3dWXppVGM6eElJSHmnQWPbSlRlN1lJcUBjqNRnwJZVQO3B5P/uq5rK1d90pakckFcaKp5UJHY92JR8YlwkUDVySEZfGfQdO7E7Z8s2HL9TSoXTPXRud9nA8IBqSwcZgWeqpPj6BYw7yTbXBN9q2v9lQEq5zBmWA8vWLCptCi4tzwW8RQMQlFQATPLSh6vCSh/plJBkMyQBHZfWYnkKRgEktEVpTJXERN2Xzo4ex2VC6K6qXYpF5b3ypVRT8EgcAERSJXRbwCBOTFzXblM5RxGBaRt+ZPYA+LO0mgxz5K1Ig+UgAzKIuGnz39z6S+olDeaibaXRsU1RUFvgx+GwTWgPCaDgMw2XXpr9gwq50XV0bkxJiYeEiNF5cwE5XsiOEkAUkXkUW51SSOVchjl8WKef604XFSRbzCGCYeCoESStv/p8QU1VPIM3knNDynctnBRfsEYhgSlNCIGgQv2UCkvGIHZgteMh1nBW9W4F16RAM6yDVV7amZTaYQcr59cuuhhWRTWBvAMLxQGeyFSHOLnh0MvUskz5RF+fbRYDEy0mZgqQYUHOLhr//b6rGoqeaLqQG0pw3PrBbyA+4EQUkRmhvgqNUfICUipKK4OKUqIJVPKB0jpEhjmWWp64jdbKmVZZNYogcJm493gsifOqhDyeh9GYR/FM7sW+DA5CKR0MSK3tvKZkpwB5gRE4tjFEr7RL0iWBGV51vHFCyupNGWWPqLgnoer9mtyEGSJAzwLllDTGzyznDjRN/CwOFkoFb4bm0eVIXICgpvdGoEvrF7fC89zfLkkeV5HbOhWiTwTpKYvCAJLGshRdXtKMKAWlyxq+MPQLk1h66g5RE5ABJYNFrqY3wvJklJRUKg5ZWLFXIA86yek2uDOPkBNb3CM5Pf7DL2QyIrUGiLH+xC5Bmmm/ARnHUhC6PnzxWDK0RH5HuIjZGy27erU9AZ0dTIWXyG+NpBBrSFySxZw220IqeUPFoS6jVAPNadM7yDsgNB1qOkLuAziMYIb1PQGA75wIaKGPyAb+9oF16g5RE5ALIQ+tSyLWoWDEAK6aXW3JlK9VJoyx1oyvVkNdvo5KXXDAVkdnaKmNwx0xjH98w3JNmTCm+Bc9hKVhsgJSI9pvp9Vdd++jmq6AXB2/HHrhcs5aTkVDv0DFzoHvKdq/mQsKX/4t7KJLDpOJW+IbAvMGoMkxfwAWZB8DT7W1diTE+WcgKz6pK1bs6z3daPwmJDsSKt6ZsCyjlLJMz0DsDGZ8SdlDROBjOb8YeWOjptU8kTXusuaazu7oJrfEnQvdkpVcUn6PTVHyAkIIW7br/Unklni0EJIZ1WgGsauZR+fvUglz6zY0dGfVp09ybRNlfwgi3k8YSbvJJ29VMoLt9v6rZVQL7hOYUubndHJGclBtzn1byqNMCogi09/2nFb01/oj+f/5TyjauBOKtPcZ1r7qZQ3f2lRfxZPWi2anp8TSDAGExZMa2jr8u03L1M5L7q3Xc+iAeuHRl/ScvPcjSLDBnZS/cjtNHd2v3171Ewbs9N5q7Pn4otVMx3btBsCsoRbk1FxG5dMVgMDqfTpXl1/tuFMa5zKefPROdX59qLQBwLnNog8Wy1OcjB1N+QEsW/QsFNZuO35Xb1v98QLX4/Sx+O3wqujrQ6013ABUWI8+AaqBjAH01+ghL22+5X2PirnMG7r+esbnae/V1neauvGSoHjigTcVU7UGFm2DeK4ttxKpQ+mLPvl+o/PjnkAkw9HTqSMmVHhyAMx9iFcSh/BHTfLceO/C8mKjApBf9zszGhoY92m9sN+BGOY9AeD7eGniv8OTaOB4dgyTsQd9wS+IQu4lciYdkI7CLrNH3Rvbb9FL41i0tbzVP2iWJkobpN5fmM4IJfJskTP1Bk8A9HQmbpmGDBrWqdVCN/Yd7PjxKGOXn+bmbto3feVVcVB9qehIL8EJy8nChwgr0O2xxBnhGU5eP2CfYbl/m4gBRsbtneMORP9oGpjpcCsiKzHHfdOPiQ/wMniyFEu2dbiTQCAeN/vavC466BGYLttXc9fmXBXMGlAhiHHur+sq6uPiUI9z7CVHMPwBnLSuuN8FuC48/Oaz1ylt94XfrW5ouyprwWfYRkwNyCyYYjwkBHows1fa+tV/fzGxlv39b9gqvfPmQ+i/HK8KlcBjhHwfl8HEHyOd1JnuzZd66S3TTPNNNP8/wDAfwDG7G0m9LKBpwAAAABJRU5ErkJggg==) 10px 10px no-repeat;background-size:40px;background-color:#fdfdfd}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#fdfdfd}.markdown-body a{text-decoration:none;font-weight:700;color:#ef7060;border-bottom:1px solid #ef7060}.markdown-body a:active,.markdown-body a:hover{color:#ef2d26}.markdown-body table tr td,.markdown-body table tr th{border:1px solid #ccc;padding:5px 10px}.markdown-body table{display:block!important;width:auto;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{background:#f0f0f0;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#f8f8f8}.markdown-body blockquote{margin-inline-start:0;margin-inline-end:0;border-left:3px solid #ef7060;background:#fff9f9;padding:1px 20px;margin-top:20px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-light">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#383a42;background:#fafafa}.hljs-comment,.hljs-quote{color:#a0a1a7;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e45649}.hljs-literal{color:#0184bb}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#50a14f}.hljs-built_in,.hljs-class .hljs-title{color:#c18401}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#4078f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">ä»‹ç» uv</h2>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.astral.sh%2Fuv" target="_blank" title="https://docs.astral.sh/uv" ref="nofollow noopener noreferrer">uv</a> æ˜¯ä¸€ä¸ªç”¨ Rust ç¼–å†™çš„ <strong>æå¿«çš„ Python åŒ…ç®¡ç†å™¨å’Œé¡¹ç›®ç®¡ç†å™¨ã€‚</strong></p>
<p>å®ƒæ•´åˆäº† Python å¼€å‘è€…å¸¸ç”¨çš„å¤šç§å·¥å…·åˆ°ä¸€ä¸ª CLI ä¸­ï¼Œéå¸¸åƒ Node.js ç”Ÿæ€é‡Œçš„ npm/pnpmã€‚</p>
<ul>
<li>Rust å†™çš„ï¼Œ<strong>é€Ÿåº¦æ¯” pip å¿« 10ï½80 å€</strong></li>
<li>ä¸€ä¸ªå·¥å…·æ›¿ä»£å¤šä¸ªå·¥å…·ï¼ˆpipã€virtualenvã€pip-toolsã€pyenvã€poetryâ€¦ï¼‰</li>
<li>å’Œ Ruff åŒä¸€ä¸ªå›¢é˜Ÿï¼Œä¸“ä¸šåº¦é«˜</li>
<li>é…ç½®ç»Ÿä¸€åœ¨ <code>pyproject.toml</code></li>
<li>å…¼å®¹ pipï¼Œä¸éœ€è¦è¿ç§»æˆæœ¬</li>
</ul>
<p><strong>uv å‘½ä»¤é€ŸæŸ¥è¡¨ï¼š</strong></p>





































<table><thead><tr><th>åŠŸèƒ½</th><th>å‘½ä»¤</th></tr></thead><tbody><tr><td>åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ</td><td><code>uv venv</code></td></tr><tr><td>ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒè¿è¡Œè„šæœ¬</td><td><code>uv run main.py</code></td></tr><tr><td>å®‰è£…ä¾èµ–</td><td><code>uv pip install fastapi</code></td></tr><tr><td>å®‰è£…åˆ°é¡¹ç›®ï¼ˆå†™å…¥ pyprojectï¼‰</td><td><code>uv add fastapi</code></td></tr><tr><td>å®‰è£… Python ç‰ˆæœ¬</td><td><code>uv python install 3.12</code></td></tr><tr><td>è¿è¡Œå·¥å…·</td><td><code>uv run uvicorn app:app</code></td></tr><tr><td>è§£æä¾èµ–é”å®š</td><td><code>uv pip compile</code></td></tr></tbody></table>
<h2 data-id="heading-1">å®‰è£… uv</h2>
<p>æˆ‘ä»¬éœ€è¦ä¾æ® <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.astral.sh%2Fuv" target="_blank" title="https://docs.astral.sh/uv" ref="nofollow noopener noreferrer">uv å®˜ç½‘</a>ç»™æˆ‘ä»¬æä¾›çš„å®‰è£…æ–¹æ³•å°† uv å®‰è£…åˆ°è®¡ç®—æœºä¸­ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7e67e9d3fc2d47e5ac00bc781b20644d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=NmESSR4T2Uorm2GLLfsDQx2tvY0%3D" alt="01-001.png" width="100%" loading="lazy"/>
<p><code>powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"</code></p>
<p>ä»¥ Windows ä¸ºä¾‹ï¼Œå°†ä¸Šè¿°å‘½ä»¤è¾“å…¥åˆ°ç»ˆç«¯åç­‰å¾…å‡ ç§’å°±ä¼šå®‰è£…å®Œæˆã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcc768d845334b3b97baca0712c47b4d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=jVNA%2BfiFMZzXUSM1Rp43WmyM8aA%3D" alt="01-002.png" width="100%" loading="lazy"/>
<h4 data-id="heading-2">åˆå§‹åŒ–ç¯å¢ƒ</h4>
<p>å­¦ä¹  <code>langchain</code> æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ª <code>Python</code> é¡¹ç›®ç¯å¢ƒã€‚</p>
<p>é¦–å…ˆï¼Œåˆ›å»º <code>langchain</code> é¡¹ç›®ç›®å½• <code>learn-langchain</code>ï¼Œåœ¨ç›®å½•ä¸‹çš„ç»ˆç«¯å‘½ä»¤è¡Œè¾“å…¥ <code>uv init</code>ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cfb9d4344c6b4d109afe0a8e2ceed1d0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=lh8JR1ZVlo0Eaj%2Btwag9wt48N3s%3D" alt="01-1.png" width="100%" loading="lazy"/>
<p>æ­¤æ—¶ï¼Œ<code>uv</code> å°±ä¼šå¸®æˆ‘ä»¬åˆå§‹åŒ–å¼€å‘ç¯å¢ƒï¼Œä¼šç”Ÿæˆå¦‚ä¸‹åˆå§‹æ–‡ä»¶ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b2dfc5164e144ee58d4af506f02432ca~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=JYU%2FeW8qP6t7BbRygrU3MBctW44%3D" alt="01-2.png" width="100%" loading="lazy"/>
<p>å…¶ä¸­ï¼Œ<code>pyproject.toml</code> æ˜¯ Python é¡¹ç›®çš„â€œ<strong>æ€»é…ç½®ä¸­å¿ƒ + ä¾èµ–å£°æ˜å…¥å£</strong>â€ã€‚</p>
<pre><code class="hljs language-toml" lang="toml"><span class="hljs-section">[project]</span>
<span class="hljs-attr">name</span> = <span class="hljs-string">"learn-langchain"</span>
<span class="hljs-attr">version</span> = <span class="hljs-string">"0.1.0"</span>
<span class="hljs-attr">description</span> = <span class="hljs-string">"Add your description here"</span>
<span class="hljs-attr">readme</span> = <span class="hljs-string">"README.md"</span>
<span class="hljs-attr">requires-python</span> = <span class="hljs-string">"&gt;=3.13"</span>
<span class="hljs-attr">dependencies</span> = []
</code></pre>
<p>å¯ä»¥æŠŠå®ƒç±»æ¯”æˆå‰ç«¯é¡¹ç›®ä¸­çš„ <code>package.json</code> æ–‡ä»¶ï¼Œä¸‹é¢æˆ‘ä»¬è¯¦ç»†è§£é‡Šè¿™ä¸ªæ–‡ä»¶ä¸­å„ä¸ªå­—æ®µçš„å«ä¹‰ã€‚</p>
<ul>
<li><strong>[project]</strong> ï¼šè¿™æ˜¯ä¸€ä¸ª Python é¡¹ç›®çš„å…ƒæ•°æ®å£°æ˜ï¼Œuv ä¼šä»è¿™é‡Œè¯»å–é¡¹ç›®ä¿¡æ¯ã€‚</li>
<li><strong>name</strong>ï¼šé¡¹ç›®çš„å®˜æ–¹åç§°ã€‚</li>
<li><strong>version</strong>ï¼šé¡¹ç›®ç‰ˆæœ¬å·ã€‚</li>
<li><strong>description</strong>ï¼šé¡¹ç›®çš„ä¸€å¥è¯æè¿°ã€‚</li>
<li><strong>readme</strong>ï¼šæŒ‡å®šé¡¹ç›®çš„ README æ–‡ä»¶ã€‚</li>
<li><strong>requires-python</strong>ï¼šå£°æ˜é¡¹ç›®èƒ½è¿è¡Œçš„ Python ç‰ˆæœ¬èŒƒå›´ã€‚</li>
<li><strong>dependencies</strong>ï¼šé¡¹ç›®çš„è¿è¡Œæ—¶ä¾èµ–ï¼Œåç»­å®‰è£…çš„ä¾èµ–éƒ½ä¼šå­˜åˆ°è¿™é‡Œã€‚</li>
</ul>
<h2 data-id="heading-3">å®‰è£…é¡¹ç›®ä¾èµ–</h2>
<p>é¦–å…ˆï¼Œå®‰è£… langchain æ ¸å¿ƒä¾èµ–ï¼Œåœ¨é¡¹ç›®è·Ÿç›®å½•ç»ˆç«¯è¾“å…¥ï¼š</p>
<p><code>uv add langchain langchain-core langchain-classic langchain-community</code></p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b8037e3bbab2465e8aa43b9ebe6c7452~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=MXsDQ9g0ZYbolQJv1OKAI2eb%2Bh4%3D" alt="01-3.png" width="100%" loading="lazy"/>
<p>æ­¤æ—¶ï¼Œæ–°çš„ä¾èµ–ä¼šå£°æ˜åœ¨ <code>pyproject.toml</code> æ–‡ä»¶çš„ <code>dependencies</code> ä¸­ã€‚</p>
<p>åŒæ—¶ï¼Œåœ¨é¡¹ç›®ä¸­ä¼šç”Ÿæˆ <code>uv.lovk</code> æ–‡ä»¶å’Œ <code>.venv</code> æ–‡ä»¶ï¼š</p>
<ul>
<li><strong>uv.lovk</strong>ï¼š uv è‡ªåŠ¨ç”Ÿæˆçš„<strong>ä¾èµ–é”æ–‡ä»¶</strong>ï¼Œ è®°å½•æ¯ä¸ªä¾èµ–çš„<strong>æœ€ç»ˆç‰ˆæœ¬ã€‚</strong></li>
<li><strong>.venv</strong>ï¼š uv ä¸ºå½“å‰é¡¹ç›®åˆ›å»ºçš„ Python è™šæ‹Ÿç¯å¢ƒç›®å½•ï¼Œé¿å…å…¨å±€ Python ç¯å¢ƒæ±¡æŸ“ã€‚</li>
</ul>
<h2 data-id="heading-4">æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</h2>
<p>å¦‚æœæ˜¯ Windows ç³»ç»Ÿï¼Œåœ¨é¡¹ç›®ç»ˆç«¯å‘½ä»¤è¡Œè¾“å…¥ï¼š</p>
<p><code>.venv\Scripts\activate</code></p>
<p>å¦‚æœæ˜¯ macOS / Linux ç³»ç»Ÿï¼Œåœ¨é¡¹ç›®ç»ˆç«¯å‘½ä»¤è¡Œè¾“å…¥ï¼š</p>
<p><code>source .venv/bin/activate</code></p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a5203a55b9934d238fe64c700f5cfc1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=EJc6mUuM%2FAxNLoIkPFY%2FFNrPGhc%3D" alt="01-4.png" width="100%" loading="lazy"/>
<p>è™šæ‹Ÿç¯å¢ƒæ¿€æ´»åï¼Œä¼šåœ¨ç»ˆç«¯å‘½ä»¤è¡Œå‰ç«¯æ˜¾ç¤º <code>(learn-langchain)</code> è¡¨ç¤ºå½“å‰æ¿€æ´»çš„ Python è™šæ‹Ÿç¯å¢ƒåç§°ã€‚</p>
<h2 data-id="heading-5">åˆ›å»ºé¡¹ç›®ç¤ºä¾‹</h2>
<h3 data-id="heading-6">å®‰è£…ä¾èµ–</h3>
<p>é¦–å…ˆï¼Œå®‰è£…å¿…è¦çš„ä¾èµ–ï¼Œåœ¨é¡¹ç›®è·Ÿç›®å½•ç»ˆç«¯è¾“å…¥ï¼š</p>
<p><code>uv add python-dotenv langchain-openai langchain-deepseek</code></p>
<ul>
<li><code>python-dotenv</code>æ˜¯ä¸€ä¸ªç”¨äºè¯»å– <code>.env</code> æ–‡ä»¶å¹¶å°†ç¯å¢ƒå˜é‡åŠ è½½åˆ° Python è¿è¡Œæ—¶çš„å·¥å…·ã€‚</li>
<li><code>langchain-openai</code> æä¾›å¯¹ <strong>OpenAI å®˜æ–¹æ¨¡å‹</strong> çš„æ¥å£å°è£…ã€‚</li>
<li><code>langchain-deepseek</code> æä¾›å¯¹ <strong>DeepSeek å¹³å°ï¼ˆOpenAI-compatibleï¼‰çš„æ¥å£</strong> å°è£…ã€‚</li>
</ul>
<h3 data-id="heading-7">é…ç½®ç¯å¢ƒå˜é‡</h3>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>.env</code> æ–‡ä»¶ï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">OPENAI_API_KEY</span>=sk-c97afa925b1745f79225c904dff53cba
<span class="hljs-attr">OPENAI_API_BASE</span>=https://api.deepseek.com/v1
</code></pre>
<p>åœ¨å­¦ä¹  <code>LangChain</code> çš„å‰æœŸé˜¶æ®µï¼Œæˆ‘ä»¬æš‚æ—¶ä½¿ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.deepseek.com" target="_blank" title="https://platform.deepseek.com" ref="nofollow noopener noreferrer">DeepSeek</a> ä½œä¸ºæˆ‘ä»¬çš„å¤§è¯­è¨€æ¨¡å‹ã€‚</p>
<p>å› ä¸º DeepSeek <strong>å…¼å®¹ OpenAI API åè®®ï¼Œ</strong> æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…¶ <code>API key</code> èµ‹å€¼ç»™ <code>OPENAI_API_KEY</code>ã€‚</p>
<p>è®¿é—® <a href="https://link.juejin.cn?target=https%3A%2F%2Fplatform.deepseek.com%2Fapi_keys" target="_blank" title="https://platform.deepseek.com/api_keys" ref="nofollow noopener noreferrer">DeepSeek å¼€æ”¾å¹³å°</a>ï¼Œåˆ›å»º <code>API key</code> ä¿å­˜èµ·æ¥ï¼Œç„¶åèµ‹å€¼ç»™ <code>.env</code> ä¸­çš„ <code>OPENAI_API_KEY</code>ã€‚</p>
<p>ä½¿ç”¨å®˜ç½‘æä¾›çš„å…¼å®¹ OpenAI çš„<code>base_url</code> èµ‹å€¼ç»™ <code>OPENAI_API_BASE</code>ã€‚</p>
<h3 data-id="heading-8">åˆ›å»ºç¤ºä¾‹</h3>
<p>åˆ›å»ºç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼Œåœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º <code>01-hello-world</code> æ–‡ä»¶å¤¹ï¼Œåœ¨å…¶æ–‡ä»¶å¤¹å†…åˆ›å»º <code>01-chat.py</code> æ–‡ä»¶ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv

<span class="hljs-comment"># åŠ è½½ç¯å¢ƒå˜é‡</span>
load_dotenv()

<span class="hljs-comment"># åˆå§‹åŒ–èŠå¤©æ¨¡å‹</span>
llm = ChatOpenAI(
    model=<span class="hljs-string">"deepseek-chat"</span>,
    temperature=<span class="hljs-number">0</span>,
)

<span class="hljs-comment"># è°ƒç”¨æ¨¡å‹</span>
response = llm.invoke(<span class="hljs-string">"ä½ æ˜¯è°"</span>)

<span class="hljs-built_in">print</span>(response.content)
</code></pre>
<p><strong>ä¸Šè¿°ä»£ç çš„å«ä¹‰æ˜¯ï¼š</strong></p>
<ol>
<li><strong>å¯¼å…¥ä¾èµ–</strong></li>
</ol>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> dotenv <span class="hljs-keyword">import</span> load_dotenv
</code></pre>
<ul>
<li><code>from langchain_openai import ChatOpenAI</code>
<ul>
<li>ä» <strong>LangChain çš„ OpenAI é€‚é…å™¨åŒ…</strong>é‡Œå¯¼å…¥ <strong>ChatOpenAI</strong> ç±»</li>
<li>è¿™ä¸ªç±»å°è£…äº†å¯¹ OpenAI æˆ–å…¼å®¹ APIï¼ˆDeepSeekï¼‰çš„å¯¹è¯æ¨¡å‹è°ƒç”¨</li>
<li>æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª <strong>LLMï¼ˆLarge Language Modelï¼‰å®¢æˆ·ç«¯</strong></li>
</ul>
</li>
<li><code>from dotenv import load_dotenv</code>
<ul>
<li>ä» <code>python-dotenv </code>å¯¼å…¥ <code>load_dotenv</code></li>
<li>ç”¨æ¥åŠ è½½ <code>.env</code> æ–‡ä»¶ä¸­çš„ç¯å¢ƒå˜é‡åˆ° Python çš„ <code>os.environ</code></li>
</ul>
</li>
</ul>
<ol start="2">
<li><strong>åŠ è½½ç¯å¢ƒå˜é‡</strong></li>
</ol>
<ul>
<li><code>load_dotenv()</code>
<ul>
<li>è¯»å–é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ <code>.env</code> æ–‡ä»¶</li>
<li>å°†å…¶ä¸­çš„å†…å®¹ï¼ˆä¾‹å¦‚ <code>OPENAI_API_KEY</code>ã€<code>OPENAI_API_BASE</code>ï¼‰å¯¼å…¥ç¯å¢ƒå˜é‡</li>
<li>è¿™æ · <code>ChatOpenAI</code> å°±å¯ä»¥è‡ªåŠ¨è¯»å– Key å’Œ API Baseï¼Œæ— éœ€åœ¨ä»£ç ä¸­ç¡¬ç¼–ç </li>
</ul>
</li>
</ul>
<ol start="3">
<li><strong>åˆå§‹åŒ– LLM</strong></li>
</ol>
<pre><code class="hljs language-python" lang="python">llm = ChatOpenAI(
    model=<span class="hljs-string">"deepseek-chat"</span>,
    temperature=<span class="hljs-number">0</span>,
)
</code></pre>
<ul>
<li>åˆ›å»ºä¸€ä¸ª <strong>ChatOpenAI å¯¹è±¡</strong>ï¼Œç”¨äºå‘é€æ¶ˆæ¯ç»™ LLM</li>
<li><code>model="deepseek-chat" </code>ï¼š
<ul>
<li>å› ä¸º DeepSeek å…¼å®¹ OpenAI APIï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥æŒ‡å®š DeepSeek æä¾›çš„æ¨¡å‹</li>
</ul>
</li>
<li><code>temperature=0</code>ï¼š
<ul>
<li>æ§åˆ¶ç”Ÿæˆæ–‡æœ¬çš„éšæœºæ€§ï¼Œ 0 â†’ <strong>æœ€ç¡®å®šã€æœ€ç¨³å¦¥ï¼Œ è¶Šå¤§ â†’ è¾“å‡ºè¶Šå¤šæ ·åŒ–</strong></li>
</ul>
</li>
</ul>
<ol start="4">
<li><strong>è°ƒç”¨ LLM</strong></li>
</ol>
<ul>
<li><code>response = llm.invoke("ä½ æ˜¯è°")</code>
<ul>
<li><code>invoke()</code> æ˜¯ ChatOpenAI çš„æ ¸å¿ƒæ–¹æ³•</li>
<li>è¾“å…¥å‚æ•° <code>"ä½ æ˜¯è°"</code> æ˜¯ <strong>prompt</strong>ï¼Œå‘Šè¯‰ LLM ä½ å¸Œæœ›å®ƒåšä»€ä¹ˆ</li>
<li>è¿”å›å€¼ <code>response</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé€šå¸¸åŒ…å«ï¼š<code>response.content</code> â†’ LLM çš„æ–‡æœ¬è¾“å‡º</li>
</ul>
</li>
</ul>
<h2 data-id="heading-9">ç»“è¯­</h2>
<p><strong>æœ€ç»ˆ</strong>ï¼Œåœ¨ç»ˆç«¯å‘½ä»¤è¡Œè¾“å…¥ï¼š<code>python .\01-hello-world\01-chat.py</code> ç­‰å¾…å‡ ç§’å°±ä¼šåœ¨æ§åˆ¶å°æ‰“å°å†…å®¹ã€‚</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aef3c786bb9b49ecaf3f8c9edb074432~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-b5Ye755qE5p2-6byg:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557817&amp;x-signature=UQbmHSOHRpzCyMw16vyF0AI7n90%3D" alt="01-5.png" width="100%" loading="lazy"/>
<p>è¿™è¯´æ˜ï¼Œæˆ‘ä»¬ç¬¬ä¸€ä¸ª LangChain ç¤ºä¾‹è¿è¡ŒæˆåŠŸï¼Œåç»­ï¼Œæˆ‘ä»¬å°†å¼€å§‹ç³»ç»Ÿå­¦ä¹  LangChain æä¾›çš„å¼ºå¤§çš„èƒ½åŠ›ã€‚</p>
<blockquote>
<p>æ­¤æ–‡ç« å·²åŒæ­¥è‡³ <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fvaesonshu%2Flearn-langchan%2Fissues%2F1" target="_blank" title="https://github.com/vaesonshu/learn-langchan/issues/1" ref="nofollow noopener noreferrer">Github</a></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é«˜å¹¶å‘ä¸åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¹‚ç­‰å¤„ç†]]></title>    <link>https://juejin.cn/post/7593139476840448006</link>    <guid>https://juejin.cn/post/7593139476840448006</guid>    <pubDate>2026-01-09T09:26:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476840448006" data-draft-id="7593139476840185862" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é«˜å¹¶å‘ä¸åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¹‚ç­‰å¤„ç†"/> <meta itemprop="keywords" content="æ¶æ„"/> <meta itemprop="datePublished" content="2026-01-09T09:26:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‹¼çˆ·"/> <meta itemprop="url" content="https://juejin.cn/user/2418581314208279"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é«˜å¹¶å‘ä¸åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¹‚ç­‰å¤„ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2418581314208279/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‹¼çˆ·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:26:34.000Z" title="Fri Jan 09 2026 09:26:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="srcery">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1c1b19;color:#fce8c3}.hljs-emphasis,.hljs-strong{color:#918175}.hljs-bullet,.hljs-link,.hljs-literal,.hljs-number,.hljs-quote,.hljs-regexp{color:#ff5c8f}.hljs-code,.hljs-selector-class{color:#68a8e4}.hljs-emphasis{font-style:italic}.hljs-attribute,.hljs-keyword,.hljs-section,.hljs-selector-tag,.hljs-variable{color:#ef2f27}.hljs-name,.hljs-title{color:#fbb829}.hljs-params,.hljs-type{color:#0aaeb3}.hljs-string{color:#98bc37}.hljs-addition,.hljs-built_in,.hljs-builtin-name,.hljs-selector-attr,.hljs-selector-id,.hljs-selector-pseudo,.hljs-subst,.hljs-symbol,.hljs-template-tag,.hljs-template-variable{color:#c07abe}.hljs-comment,.hljs-deletion,.hljs-meta{color:#918175}</style><h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆé«˜å¹¶å‘ç³»ç»Ÿä¸€å®šä¼šâ€œè¢«å¹‚ç­‰æ•™è‚²â€ï¼Ÿ</h2>
<p>å…ˆè¯´ä¸€å¥å¯èƒ½ä¸å¤ªå¥½å¬çš„å¤§å®è¯ï¼š</p>
<blockquote>
<p><strong>ç»å¤§å¤šæ•°é«˜å¹¶å‘äº‹æ•…ï¼Œä¸æ˜¯ä»£ç å†™é”™ï¼Œè€Œæ˜¯è¯·æ±‚è¢«æ‰§è¡Œäº†ä¸æ­¢ä¸€æ¬¡ã€‚</strong></p>
</blockquote>
<p>å¾ˆå¤šæ–°æ‰‹å·¥ç¨‹å¸ˆåœ¨æœ¬åœ°æµ‹è¯•æ—¶ï¼Œæ¥å£é€»è¾‘è·‘å¾—é¡ºé£é¡ºæ°´ï¼Œä½†ä¸€ä¸Šç”Ÿäº§ç¯å¢ƒï¼Œå°±å®¹æ˜“æ ½åœ¨â€œé‡å¤è¯·æ±‚â€è¿™ä¸ªå‘é‡Œã€‚ä¸æ˜¯ä»£ç é€»è¾‘æœ‰é—®é¢˜ï¼Œè€Œæ˜¯çœŸå®çš„çº¿ä¸Šç¯å¢ƒï¼Œæ ¹æœ¬ä¸å­˜åœ¨â€œè¯·æ±‚åªæ¥ä¸€æ¬¡â€çš„ç†æƒ³çŠ¶æ€ã€‚</p>
<p>ä½ ä¸€å®šä¼šé‡åˆ°è¿™äº›æ— æ³•é¿å…çš„åœºæ™¯ï¼š</p>
<ul>
<li>
<p><strong>ç½‘ç»œæŠ–åŠ¨</strong>ï¼šå®¢æˆ·ç«¯å‘å®Œè¯·æ±‚åï¼Œå› ç½‘ç»œå»¶è¿Ÿæ²¡åŠæ—¶æ”¶åˆ°å“åº”ï¼Œè¯¯ä»¥ä¸ºè¯·æ±‚å¤±è´¥</p>
</li>
<li>
<p><strong>å®¢æˆ·ç«¯é‡è¯•</strong>ï¼šå‰ç«¯æŒ‰é’®é‡å¤ç‚¹å‡»ã€APP ç¦»çº¿é‡è¿åé‡è¯•ã€ç¬¬ä¸‰æ–¹è°ƒç”¨æ–¹é…ç½®äº†è‡ªåŠ¨é‡è¯•</p>
</li>
<li>
<p><strong>ç½‘å…³é‡å‘</strong>ï¼šAPI ç½‘å…³å› è¶…æ—¶ç­‰åŸå› ï¼Œä¸»åŠ¨é‡å‘è¯·æ±‚åˆ°åç«¯æœåŠ¡</p>
</li>
<li>
<p><strong>MQ è‡³å°‘ä¸€æ¬¡æŠ•é€’</strong>ï¼šä¸ºä¿è¯æ¶ˆæ¯ä¸ä¸¢å¤±ï¼ŒKafkaã€RocketMQ ç­‰æ¶ˆæ¯ä¸­é—´ä»¶é»˜è®¤éƒ½æ˜¯â€œè‡³å°‘ä¸€æ¬¡â€æŠ•é€’ç­–ç•¥ï¼Œæ¶ˆæ¯å¿…ç„¶å¯èƒ½é‡å¤</p>
</li>
</ul>
<p>ç”¨ä¸€æ®µçœŸå®çš„äº¤äº’åœºæ™¯ï¼Œå°±èƒ½æ˜ç™½è¿™ç§æ— å¥ˆï¼š</p>
<pre><code class="hljs language-text" lang="text">å®¢æˆ·ç«¯ï¼šæˆ‘åˆšåˆšæ˜¯ä¸æ˜¯æ²¡æˆåŠŸï¼Ÿï¼ˆå› ç½‘ç»œå»¶è¿Ÿæ²¡æ”¶åˆ°å“åº”ï¼‰
ç³»ç»Ÿï¼šæˆåŠŸäº†ã€‚ï¼ˆå…¶å®å·²ç»å¤„ç†å®Œå¹¶è¿”å›ï¼Œä½†å“åº”ä¸¢äº†ï¼‰
å®¢æˆ·ç«¯ï¼šé‚£æˆ‘å†æ¥ä¸€æ¬¡ã€‚ï¼ˆè§¦å‘é‡è¯•æœºåˆ¶ï¼‰
ç³»ç»Ÿï¼šï¼Ÿï¼Ÿï¼Ÿï¼ˆæˆ‘åˆ°åº•è¯¥å†å¤„ç†ä¸€æ¬¡è¿˜æ˜¯ç›´æ¥è¿”å›ï¼Ÿï¼‰
</code></pre>
<p>ç»“è®ºå…ˆè¡Œï¼Œè®°æ­»è¿™å¥è¯ï¼š</p>
<blockquote>
<p><strong>åœ¨é«˜å¹¶å‘ + åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œè¯·æ±‚â€œåªæ¥ä¸€æ¬¡â€æ˜¯å¥¢æœ›ï¼Œâ€œé‡å¤è¯·æ±‚â€æ‰æ˜¯å¸¸æ€ã€‚</strong></p>
</blockquote>
<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæ‰€æœ‰æˆç†Ÿçš„é«˜å¹¶å‘ç³»ç»Ÿï¼Œéƒ½å¿…é¡»è¿‡â€œå¹‚ç­‰â€è¿™ä¸€å…³â€”â€”ä¸æ˜¯ä½ æƒ³åšï¼Œè€Œæ˜¯ç¯å¢ƒé€¼ç€ä½ å¿…é¡»åšã€‚</p>
<hr/>
<h2 data-id="heading-1">äºŒã€ä»€ä¹ˆæ˜¯å¹‚ç­‰ï¼Ÿï¼ˆå·¥ç¨‹å¸ˆç‰ˆæœ¬ï¼Œæ‹’ç»åºŸè¯ï¼‰</h2>
<p>åˆ«å»èƒŒæ•™ç§‘ä¹¦ä¸Šçš„æŠ½è±¡å®šä¹‰ï¼Œè®°ä½è¿™ä¸€å¥äººè¯å°±å¤Ÿäº†ï¼š</p>
<blockquote>
<p><strong>åŒä¸€ä¸ªè¯·æ±‚ï¼Œä¸ç®¡æ¥å¤šå°‘æ¬¡ï¼Œç³»ç»Ÿæœ€ç»ˆçš„çŠ¶æ€å’Œç»“æœéƒ½å®Œå…¨ä¸€æ ·ã€‚</strong></p>
</blockquote>
<p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šæŸ¥è¯¢æ¥å£ï¼ˆGET /api/order?orderNo=123ï¼‰å¤©ç”Ÿå°±æ˜¯å¹‚ç­‰çš„ï¼Œä¸ç®¡ä½ è°ƒç”¨1æ¬¡è¿˜æ˜¯100æ¬¡ï¼Œè¿”å›çš„éƒ½æ˜¯åŒä¸€ä¸ªè®¢å•ä¿¡æ¯ï¼›ä½†ä¸‹å•æ¥å£ï¼ˆPOST /api/order/createï¼‰å¦‚æœä¸åšå¤„ç†ï¼Œè°ƒç”¨2æ¬¡å°±ä¼šç”Ÿæˆ2ä¸ªè®¢å•ï¼Œè¿™å°±æ˜¯éå¹‚ç­‰çš„ã€‚</p>
<h3 data-id="heading-2">ä¸åšå¹‚ç­‰ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿï¼ˆçœŸå®äº‹æ•…æ¡ˆä¾‹ï¼‰</h3>
<p>å¾ˆå¤šäººè§‰å¾—â€œå¹‚ç­‰æ˜¯é«˜çº§ä¼˜åŒ–â€ï¼Œç›´åˆ°è¸©äº†å‘æ‰æ˜ç™½è¿™æ˜¯â€œåŸºç¡€å¿…å¤‡â€ã€‚éå¹‚ç­‰æ¥å£åœ¨é«˜å¹¶å‘ä¸‹ï¼Œå¿…ç„¶ä¼šå‡ºç°è¿™äº›è‡´å‘½é—®é¢˜ï¼š</p>
<ul>
<li>
<p><strong>é‡å¤ä¸‹å•</strong>ï¼šç”¨æˆ·ç‚¹å‡»â€œæäº¤è®¢å•â€åå› ç½‘ç»œå¡é¡¿æ—¶é‡å¤ç‚¹å‡»ï¼Œç”Ÿæˆå¤šç¬”è®¢å•ï¼Œå¯¼è‡´åº“å­˜è¢«å¤šæ‰£ã€ç”¨æˆ·æ”¶åˆ°å¤šä¸ªå‘è´§é€šçŸ¥</p>
</li>
<li>
<p><strong>é‡å¤æ‰£æ¬¾</strong>ï¼šæ”¯ä»˜æ¥å£é‡è¯•å¯¼è‡´ç”¨æˆ·è´¦æˆ·è¢«å¤šæ¬¡æ‰£æ¬¾ï¼Œç›´æ¥å¼•å‘ç”¨æˆ·æŠ•è¯‰ï¼Œç”šè‡³ç›‘ç®¡ä»‹å…¥</p>
</li>
<li>
<p><strong>MQ é‡å¤æ¶ˆè´¹</strong>ï¼šæ¶ˆæ¯é‡å¤æŠ•é€’åè¢«é‡å¤å¤„ç†ï¼Œå¯¼è‡´åº“å­˜æ‰£ä¸ºè´Ÿæ•°ã€ä¼˜æƒ åˆ¸è¢«é‡å¤æ ¸é”€</p>
</li>
<li>
<p><strong>é‡å¤é€€æ¬¾</strong>ï¼šé€€æ¬¾æ¥å£è¢«é‡è¯•ï¼Œç”¨æˆ·æ”¶åˆ°å¤šç¬”é€€æ¬¾ï¼Œä¼ä¸šç›´æ¥äº§ç”Ÿèµ„é‡‘æŸå¤±</p>
</li>
</ul>
<p>è¿™é‡Œæœ‰ä¸ªåˆ¤æ–­æ ‡å‡†ï¼Œè®°ä¸‹æ¥ç›´æ¥ç”¨ï¼š</p>
<blockquote>
<p><strong>åªè¦â€œåŒä¸€ä¸ªè¯·æ±‚å¤šæ‰§è¡Œä¸€æ¬¡ä¼šå‡ºäº‹â€ï¼Œè¿™ä¸ªæ¥å£å°±å¿…é¡»åšå¹‚ç­‰å¤„ç†ã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-3">ä¸‰ã€å“ªäº›åœºæ™¯æ˜¯å¹‚ç­‰â€œé‡ç¾åŒºâ€ï¼Ÿï¼ˆä¼˜å…ˆå¤„ç†è¿™äº›ï¼‰</h2>
<p>ä¸æ˜¯æ‰€æœ‰æ¥å£éƒ½éœ€è¦åšå¹‚ç­‰ï¼Œæˆ‘ä»¬è¦æŠŠç²¾åŠ›æ”¾åœ¨é«˜é£é™©åœºæ™¯ä¸Šã€‚ç›´æ¥åˆ—é‡ç‚¹ï¼Œè¿™äº›åœºæ™¯å¿…é¡»ä¼˜å…ˆä¿è¯å¹‚ç­‰ï¼š</p>
<ul>
<li>
<p><strong>äº¤æ˜“ç›¸å…³æ¥å£</strong>ï¼šä¸‹å•ã€æ”¯ä»˜ã€é€€æ¬¾ã€è½¬è´¦â€”â€”æ ¸å¿ƒæ˜¯æ¶‰åŠèµ„é‡‘å˜åŠ¨ï¼Œä¸€æ—¦é‡å¤å¿…ç„¶å‡ºé—®é¢˜</p>
</li>
<li>
<p><strong>åˆ›å»ºå‹æ¥å£ï¼ˆPOSTï¼‰</strong>ï¼šPOST æ¥å£çš„è¯­ä¹‰æ˜¯â€œåˆ›å»ºèµ„æºâ€ï¼Œé‡å¤è°ƒç”¨ä¼šç”Ÿæˆå¤šä¸ªèµ„æºï¼Œè€Œ GET æ¥å£æ˜¯â€œæŸ¥è¯¢èµ„æºâ€ï¼Œå¤©ç”Ÿå¹‚ç­‰ï¼ˆè¿™é‡Œè¦æ³¨æ„ï¼šRESTful è§„èŒƒä¸­ï¼ŒPOST æ˜¯éå¹‚ç­‰çš„ï¼ŒPUT æ˜¯å¹‚ç­‰çš„ï¼Œè®¾è®¡æ¥å£æ—¶è¦éµå¾ªè¿™ä¸ªè¯­ä¹‰ï¼‰</p>
</li>
<li>
<p><strong>MQ æ¶ˆè´¹é€»è¾‘</strong>ï¼šå¦‚å‰æ‰€è¿°ï¼ŒMQ é»˜è®¤â€œè‡³å°‘ä¸€æ¬¡â€æŠ•é€’ï¼Œæ¶ˆè´¹ç«¯å¿…é¡»èƒ½å¤„ç†é‡å¤æ¶ˆæ¯</p>
</li>
<li>
<p><strong>åˆ†å¸ƒå¼äº‹åŠ¡åœºæ™¯</strong>ï¼šSaga æ¨¡å¼çš„è¡¥å¿æ¥å£ã€TCC æ¨¡å¼çš„ Confirm/Cancel æ¥å£ï¼Œéƒ½å¯èƒ½å› é‡è¯•è§¦å‘é‡å¤æ‰§è¡Œ</p>
</li>
<li>
<p><strong>å¯¹å¤–æä¾›çš„æ¥å£</strong>ï¼šç»™åˆä½œæ–¹ã€ç¬¬ä¸‰æ–¹è°ƒç”¨çš„æ¥å£ï¼Œæ— æ³•æ§åˆ¶å¯¹æ–¹çš„é‡è¯•ç­–ç•¥ï¼Œå¿…é¡»è‡ªå·±å…œåº•å¹‚ç­‰</p>
</li>
<li>
<p><strong>ç”¨æˆ·é«˜é¢‘æ“ä½œæ¥å£</strong>ï¼šå¦‚ä¼˜æƒ åˆ¸é¢†å–ã€æ´»åŠ¨æŠ¥åã€ç§’æ€ä¸‹å•â€”â€”ç”¨æˆ·å¯èƒ½å› æ“ä½œå¤±è¯¯æˆ–ç½‘ç»œé—®é¢˜é‡å¤è§¦å‘</p>
</li>
</ul>
<p>ç”¨ä¸€å¥æ‰å¿ƒçš„è¯æ€»ç»“ï¼š</p>
<blockquote>
<p><strong>ä½ ä¸ä¸»åŠ¨åšå¹‚ç­‰ï¼Œæµé‡ä¼šå¸®ä½ åšäº‹æ•…ã€‚</strong></p>
</blockquote>
<p>å¾ˆå¤šå›¢é˜Ÿçš„çº¿ä¸Šæ•…éšœå¤ç›˜ï¼Œæœ€åç»“è®ºéƒ½æ˜¯â€œæŸä¸ªæ¥å£æœªåšå¹‚ç­‰ï¼Œå¯¼è‡´é«˜å¹¶å‘ä¸‹é‡å¤æ‰§è¡Œâ€ã€‚ä¸å…¶äº‹åæ•‘ç«ï¼Œä¸å¦‚äº‹å‰é¢„é˜²ã€‚</p>
<hr/>
<h2 data-id="heading-4">å››ã€å¹‚ç­‰çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆçœ‹é€é—®é¢˜æ ¸å¿ƒï¼‰</h2>
<p>å¾ˆå¤šäººåœ¨è®¾è®¡å¹‚ç­‰æ–¹æ¡ˆæ—¶ä¼šé™·å…¥â€œå„ç§æŠ€å·§çš„å †ç Œâ€ï¼Œå…¶å®åªè¦æŠ“ä½æœ¬è´¨ï¼Œæ‰€æœ‰æ–¹æ¡ˆéƒ½èƒ½çœ‹æ‡‚ã€‚</p>
<p>æ‰€æœ‰å¹‚ç­‰æ–¹æ¡ˆï¼Œæœ¬è´¨ä¸Šéƒ½åœ¨è§£å†³åŒä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ï¼š</p>
<blockquote>
<p><strong>â€œæˆ‘æ€ä¹ˆåˆ¤æ–­è¿™ä¸ªè¯·æ±‚æ˜¯ä¸æ˜¯å·²ç»å¤„ç†è¿‡äº†ï¼Ÿâ€</strong></p>
</blockquote>
<p>åªè¦èƒ½å‡†ç¡®å›ç­”è¿™ä¸ªé—®é¢˜ï¼Œå¹‚ç­‰å°±è§£å†³äº†ä¸€åŠã€‚ä»å·¥ç¨‹å®è·µçš„è§’åº¦çœ‹ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜æ— éä¸‰ç§æ ¸å¿ƒæ€è·¯ï¼š</p>
<ul>
<li>
<p><strong>ç»™è¯·æ±‚åŠ â€œå”¯ä¸€æ ‡è¯†â€</strong>ï¼šé€šè¿‡ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ ID æ ‡è®°è¯·æ±‚ï¼Œç³»ç»Ÿå¤„ç†å‰å…ˆæ£€æŸ¥è¿™ä¸ª ID æ˜¯å¦å·²ç»å¤„ç†è¿‡â€”â€”è¿™æ˜¯æœ€å¸¸ç”¨çš„æ€è·¯</p>
</li>
<li>
<p><strong>è®©çŠ¶æ€â€œä¸å¯é€†â€</strong>ï¼šé€šè¿‡çŠ¶æ€æœºçº¦æŸï¼Œè®©ä¸šåŠ¡çŠ¶æ€åªèƒ½ä»â€œæœªå¤„ç†â€å‘â€œå·²å¤„ç†â€æµè½¬ï¼Œæ— æ³•å›é€€ï¼Œä»è€Œé¿å…é‡å¤å¤„ç†â€”â€”æ¯”å¦‚è®¢å•çŠ¶æ€ä»â€œå¾…æ”¯ä»˜â€åˆ°â€œå·²æ”¯ä»˜â€ï¼Œå†æ”¶åˆ°æ”¯ä»˜è¯·æ±‚æ—¶å°±æ— æ³•å†æ¬¡å˜æ›´</p>
</li>
<li>
<p><strong>è®°å½•â€œå»é‡æ—¥å¿—â€</strong>ï¼šä¸“é—¨ç»´æŠ¤ä¸€ä¸ªå»é‡è¡¨æˆ–ç¼“å­˜ï¼Œè®°å½•å·²ç»å¤„ç†è¿‡çš„è¯·æ±‚ï¼Œå¤„ç†æ–°è¯·æ±‚æ—¶å…ˆæŸ¥å»é‡è®°å½•â€”â€”æœ¬è´¨æ˜¯â€œå”¯ä¸€æ ‡è¯†â€æ€è·¯çš„å»¶ä¼¸</p>
</li>
</ul>
<p>ç†è§£äº†è¿™ä¸‰ç§æ€è·¯ï¼Œä¸‹é¢çš„å®æˆ˜æ–¹æ¡ˆå°±å¾ˆå®¹æ˜“çœ‹æ‡‚äº†â€”â€”æ‰€æœ‰æ–¹æ¡ˆéƒ½æ˜¯è¿™ä¸‰ç§æ€è·¯çš„å…·ä½“è½åœ°ã€‚</p>
<hr/>
<h2 data-id="heading-5">äº”ã€4 ç§ä¸»æµå¹‚ç­‰æ–¹æ¡ˆï¼ˆJava å®æˆ˜ï¼Œé™„ä»£ç +æ³¨æ„äº‹é¡¹ï¼‰</h2>
<p>ä¸‹é¢ä»‹ç»çš„ 4 ç§æ–¹æ¡ˆï¼Œè¦†ç›–äº† 90% ä»¥ä¸Šçš„ä¸šåŠ¡åœºæ™¯ã€‚ä»â€œç¨³å®šæ€§â€â€œå®ç°æˆæœ¬â€â€œé€‚ç”¨åœºæ™¯â€ä¸‰ä¸ªç»´åº¦å¯¹æ¯”ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡é€‰æ‹©ã€‚</p>
<h3 data-id="heading-6">1ï¸âƒ£ å”¯ä¸€ä¸šåŠ¡ ID + å”¯ä¸€ç´¢å¼•ï¼ˆæœ€ç¨³ã€æœ€æ¨èï¼‰â­</h3>
<p>è¿™æ˜¯å·¥ä¸šç•Œæœ€å¸¸ç”¨ã€æœ€å¯é çš„æ–¹æ¡ˆï¼Œæ ¸å¿ƒæ˜¯â€œç”¨ä¸šåŠ¡å”¯ä¸€ ID æ ‡è®°è¯·æ±‚ï¼Œç”¨æ•°æ®åº“å”¯ä¸€ç´¢å¼•å…œåº•â€ï¼Œä»æ ¹æºä¸Šé˜²æ­¢é‡å¤æ•°æ®æ’å…¥ã€‚</p>
<h4 data-id="heading-7">æ ¸å¿ƒæ€è·¯</h4>
<ol>
<li>
<p>å®¢æˆ·ç«¯å‘èµ·è¯·æ±‚æ—¶ï¼Œæºå¸¦ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ä¸šåŠ¡ IDï¼ˆæ¯”å¦‚è®¢å•å· orderNoã€ä¸šåŠ¡æµæ°´å· bizIdï¼‰â€”â€”è¿™ä¸ª ID å¯ä»¥ç”±å®¢æˆ·ç«¯ç”Ÿæˆï¼Œä¹Ÿå¯ä»¥ç”±æœåŠ¡ç«¯ç”Ÿæˆåè¿”å›ç»™å®¢æˆ·ç«¯</p>
</li>
<li>
<p>æœåŠ¡ç«¯å¤„ç†è¯·æ±‚æ—¶ï¼Œå°†è¿™ä¸ªå”¯ä¸€ä¸šåŠ¡ ID å­˜å…¥ä¸šåŠ¡è¡¨ï¼ˆæ¯”å¦‚è®¢å•è¡¨ï¼‰</p>
</li>
<li>
<p>åœ¨ä¸šåŠ¡è¡¨ä¸Šç»™è¿™ä¸ªå”¯ä¸€ä¸šåŠ¡ ID åŠ â€œå”¯ä¸€ç´¢å¼•â€ï¼Œåˆ©ç”¨æ•°æ®åº“çš„çº¦æŸæœºåˆ¶ï¼Œé˜²æ­¢é‡å¤æ’å…¥æ•°æ®</p>
</li>
<li>
<p>å½“é‡å¤è¯·æ±‚åˆ°æ¥æ—¶ï¼Œæ•°æ®åº“ä¼šæŠ›å‡ºå”¯ä¸€çº¦æŸå†²çªå¼‚å¸¸ï¼ŒæœåŠ¡ç«¯æ•è·å¼‚å¸¸åï¼Œç›´æ¥è¿”å›â€œå¤„ç†æˆåŠŸâ€ï¼ˆå› ä¸ºç¬¬ä¸€æ¬¡è¯·æ±‚å·²ç»å¤„ç†å®Œæˆï¼‰</p>
</li>
</ol>
<h4 data-id="heading-8">å®æˆ˜ä»£ç ï¼ˆJava + MySQLï¼‰</h4>
<p>ç¬¬ä¸€æ­¥ï¼šç»™ä¸šåŠ¡è¡¨åŠ å”¯ä¸€ç´¢å¼•ï¼ˆä»¥è®¢å•è¡¨ä¸ºä¾‹ï¼‰</p>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-comment">-- è®¢å•è¡¨ï¼šorder_no æ˜¯å…¨å±€å”¯ä¸€çš„ä¸šåŠ¡ ID</span>
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> orders 
<span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> order_no <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è®¢å•å·ï¼ˆå…¨å±€å”¯ä¸€ï¼‰'</span>,
<span class="hljs-keyword">ADD</span> <span class="hljs-keyword">UNIQUE</span> KEY uk_order_no(order_no); <span class="hljs-comment">-- å”¯ä¸€ç´¢å¼•å…œåº•</span>
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šJava ä»£ç å¤„ç†é€»è¾‘ï¼ˆç»“åˆ MyBatisï¼‰</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * ä¸‹å•æ¥å£ï¼ˆå¹‚ç­‰ç‰ˆï¼‰
 * <span class="hljs-doctag">@param</span> createOrderDTO ä¸‹å•è¯·æ±‚DTOï¼ŒåŒ…å«å”¯ä¸€è®¢å•å· orderNo
 */</span>
<span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
<span class="hljs-keyword">public</span> OrderVO <span class="hljs-title function_">createOrder</span><span class="hljs-params">(CreateOrderDTO createOrderDTO)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">orderNo</span> <span class="hljs-operator">=</span> createOrderDTO.getOrderNo();
    <span class="hljs-keyword">if</span> (StringUtils.isBlank(orderNo)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"è®¢å•å·ä¸èƒ½ä¸ºç©º"</span>);
    }

    <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>();
    order.setOrderNo(orderNo);
    order.setUserId(createOrderDTO.getUserId());
    order.setProductId(createOrderDTO.getProductId());
    order.setStatus(<span class="hljs-string">"CREATED"</span>); <span class="hljs-comment">// åˆå§‹çŠ¶æ€ï¼šå¾…æ”¯ä»˜</span>

    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">// å°è¯•æ’å…¥è®¢å•</span>
        orderMapper.insert(order);
        <span class="hljs-comment">// åç»­ä¸šåŠ¡é€»è¾‘ï¼šæ‰£å‡åº“å­˜ã€é”å®šä¼˜æƒ åˆ¸ç­‰</span>
        deductStock(createOrderDTO.getProductId(), createOrderDTO.getQuantity());
        lockCoupon(createOrderDTO.getUserId(), createOrderDTO.getCouponId());
        <span class="hljs-comment">// è¿”å›æˆåŠŸç»“æœ</span>
        <span class="hljs-type">OrderVO</span> <span class="hljs-variable">orderVO</span> <span class="hljs-operator">=</span> convertToVO(order);
        <span class="hljs-keyword">return</span> orderVO;
    } <span class="hljs-keyword">catch</span> (DuplicateKeyException e) {
        <span class="hljs-comment">// æ•è·å”¯ä¸€ç´¢å¼•å†²çªå¼‚å¸¸ï¼Œè¯´æ˜æ˜¯é‡å¤è¯·æ±‚</span>
        log.info(<span class="hljs-string">"é‡å¤ä¸‹å•ï¼Œè®¢å•å·ï¼š{}"</span>, orderNo, e);
        <span class="hljs-comment">// ç›´æ¥æŸ¥è¯¢å·²å­˜åœ¨çš„è®¢å•ï¼Œè¿”å›æˆåŠŸç»“æœ</span>
        <span class="hljs-type">Order</span> <span class="hljs-variable">existOrder</span> <span class="hljs-operator">=</span> orderMapper.selectByOrderNo(orderNo);
        <span class="hljs-keyword">return</span> convertToVO(existOrder);
    }
}
</code></pre>
<h4 data-id="heading-9">ä¼˜ç‚¹ &amp; æ³¨æ„äº‹é¡¹</h4>
<p>âœ… ä¼˜ç‚¹ï¼š</p>
<ul>
<li>
<p>å®ç°ç®€å•ï¼Œå¼€å‘æˆæœ¬ä½</p>
</li>
<li>
<p>ç¨³å®šæ€§é«˜ï¼Œæ•°æ®åº“å”¯ä¸€ç´¢å¼•æ˜¯â€œç‰©ç†å…œåº•â€ï¼Œä¸ä¼šå‡ºç°æ¼åˆ¤çš„æƒ…å†µ</p>
</li>
<li>
<p>å¼ºä¸€è‡´æ€§ï¼Œèƒ½ä¿è¯ä¸šåŠ¡æ•°æ®çš„å‡†ç¡®æ€§</p>
</li>
</ul>
<p>âš ï¸ æ³¨æ„äº‹é¡¹ï¼ˆå…³é”®ï¼ï¼‰ï¼š</p>
<blockquote>
<p><strong>å”¯ä¸€ç´¢å¼•æ˜¯æœ€åä¸€é“é˜²çº¿ï¼Œè€Œä¸æ˜¯ç¬¬ä¸€é“ã€‚</strong></p>
</blockquote>
<p>å¾ˆå¤šäººä¼šçŠ¯ä¸€ä¸ªé”™è¯¯ï¼šæ¯æ¬¡è¯·æ±‚éƒ½ç›´æ¥å¾€æ•°æ®åº“æ’æ•°æ®ï¼Œé å”¯ä¸€ç´¢å¼•æŒ¡é‡å¤è¯·æ±‚ã€‚è¿™æ ·ä¼šå¯¼è‡´æ•°æ®åº“é¢‘ç¹æŠ›å‡ºå¼‚å¸¸ï¼Œå¢åŠ æ•°æ®åº“å‹åŠ›ã€‚</p>
<p>ä¼˜åŒ–å»ºè®®ï¼šåœ¨æ’å…¥æ•°æ®åº“ä¹‹å‰ï¼Œå…ˆæŸ¥ç¼“å­˜ï¼ˆæ¯”å¦‚ Redisï¼‰åˆ¤æ–­è®¢å•å·æ˜¯å¦å·²å­˜åœ¨â€”â€”ç¼“å­˜å‘½ä¸­åˆ™ç›´æ¥è¿”å›ï¼Œæœªå‘½ä¸­å†æ‰§è¡Œæ’å…¥é€»è¾‘ã€‚è¿™æ ·èƒ½å‡å°‘æ•°æ®åº“çš„å¼‚å¸¸æŠ›å‡ºæ¬¡æ•°ï¼Œæå‡æ€§èƒ½ã€‚ä¼˜åŒ–åçš„ä»£ç ç‰‡æ®µï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// ä¼˜åŒ–ï¼šå…ˆæŸ¥ç¼“å­˜ï¼Œå‡å°‘æ•°æ®åº“å‹åŠ›</span>
<span class="hljs-type">String</span> <span class="hljs-variable">redisKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"order:idempotent:"</span> + orderNo;
<span class="hljs-type">Boolean</span> <span class="hljs-variable">isExist</span> <span class="hljs-operator">=</span> redisTemplate.hasKey(redisKey);
<span class="hljs-keyword">if</span> (Boolean.TRUE.equals(isExist)) {
    <span class="hljs-type">Order</span> <span class="hljs-variable">existOrder</span> <span class="hljs-operator">=</span> orderMapper.selectByOrderNo(orderNo);
    <span class="hljs-keyword">return</span> convertToVO(existOrder);
}

<span class="hljs-keyword">try</span> {
    orderMapper.insert(order);
    <span class="hljs-comment">// æ’å…¥æˆåŠŸåï¼Œå¾€ç¼“å­˜æ”¾ä¸€ä»½ï¼Œè¿‡æœŸæ—¶é—´è®¾ç½®ä¸ºä¸šåŠ¡åˆç†æ—¶é—´ï¼ˆæ¯”å¦‚30åˆ†é’Ÿï¼‰</span>
    redisTemplate.opsForValue().set(redisKey, <span class="hljs-string">"1"</span>, <span class="hljs-number">30</span>, TimeUnit.MINUTES);
    <span class="hljs-comment">// åç»­ä¸šåŠ¡é€»è¾‘...</span>
} <span class="hljs-keyword">catch</span> (DuplicateKeyException e) {
    <span class="hljs-comment">// é‡å¤è¯·æ±‚å¤„ç†...</span>
}
</code></pre>
<h3 data-id="heading-10">2ï¸âƒ£ çŠ¶æ€æœº + ä¹è§‚é”ï¼ˆè®¢å•ç³»ç»Ÿæ ‡é…ï¼‰</h3>
<p>è¿™ä¸ªæ–¹æ¡ˆä¸»è¦é€‚ç”¨äºâ€œæœ‰æ˜ç¡®çŠ¶æ€æµè½¬â€çš„ä¸šåŠ¡åœºæ™¯ï¼Œæ¯”å¦‚è®¢å•ã€æ”¯ä»˜ã€é€€æ¬¾ã€‚æ ¸å¿ƒæ˜¯â€œé€šè¿‡çŠ¶æ€æœºçº¦æŸä¸šåŠ¡çŠ¶æ€çš„æµè½¬ï¼Œå¹¶ç”¨ä¹è§‚é”ä¿è¯å¹¶å‘å®‰å…¨â€ï¼Œé¿å…é‡å¤å¤„ç†ã€‚</p>
<h4 data-id="heading-11">æ ¸å¿ƒæ€è·¯</h4>
<ol>
<li>
<p>ç»™ä¸šåŠ¡å®ä½“å®šä¹‰æ¸…æ™°çš„çŠ¶æ€æœºï¼Œæ¯”å¦‚è®¢å•çŠ¶æ€ï¼šå¾…æ”¯ä»˜ï¼ˆCREATEDï¼‰â†’ å·²æ”¯ä»˜ï¼ˆPAIDï¼‰â†’ å·²å‘è´§ï¼ˆSHIPPEDï¼‰â†’ å·²å®Œæˆï¼ˆCOMPLETEDï¼‰</p>
</li>
<li>
<p>çŠ¶æ€åªèƒ½â€œå‘å‰æµè½¬â€ï¼Œä¸èƒ½â€œå‘åæµè½¬â€ï¼ˆæ¯”å¦‚å·²æ”¯ä»˜çš„è®¢å•ï¼Œä¸èƒ½å†å›åˆ°å¾…æ”¯ä»˜çŠ¶æ€ï¼‰</p>
</li>
<li>
<p>æ›´æ–°çŠ¶æ€æ—¶ï¼Œé€šè¿‡â€œä¹è§‚é”â€ï¼ˆæ¯”å¦‚ç‰ˆæœ¬å· version æˆ–çŠ¶æ€å­—æ®µæœ¬èº«ï¼‰åšæ¡ä»¶åˆ¤æ–­ï¼Œåªæœ‰æ¡ä»¶æ»¡è¶³æ—¶æ‰æ›´æ–°æˆåŠŸ</p>
</li>
</ol>
<p>ä¸€å¥è¯ç†è§£ï¼šé‡å¤è¯·æ±‚åˆ°æ¥æ—¶ï¼Œå› ä¸ºçŠ¶æ€å·²ç»æµè½¬åˆ°ä¸‹ä¸€ä¸ªé˜¶æ®µï¼Œæ›´æ–°æ¡ä»¶ä¸æ»¡è¶³ï¼Œæ‰€ä»¥ä¸ä¼šé‡å¤å¤„ç†ã€‚</p>
<h4 data-id="heading-12">å®æˆ˜ä»£ç ï¼ˆJava + MySQLï¼‰</h4>
<p>ç¬¬ä¸€æ­¥ï¼šè®¢å•è¡¨å¢åŠ çŠ¶æ€å­—æ®µå’Œç‰ˆæœ¬å·å­—æ®µï¼ˆä¹è§‚é”ï¼‰</p>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">TABLE</span> orders 
<span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> status <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">32</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'è®¢å•çŠ¶æ€ï¼šCREATED-å¾…æ”¯ä»˜ï¼ŒPAID-å·²æ”¯ä»˜ï¼ŒSHIPPED-å·²å‘è´§ï¼ŒCOMPLETED-å·²å®Œæˆ'</span>,
<span class="hljs-keyword">ADD</span> <span class="hljs-keyword">COLUMN</span> version <span class="hljs-type">INT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span> COMMENT <span class="hljs-string">'ç‰ˆæœ¬å·ï¼ˆä¹è§‚é”ï¼‰'</span>;
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šæ›´æ–°çŠ¶æ€çš„ SQLï¼ˆä»¥â€œè®¢å•æ”¯ä»˜â€ä¸ºä¾‹ï¼‰</p>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-comment">-- æ–¹å¼1ï¼šç”¨çŠ¶æ€ä½œä¸ºæ¡ä»¶ï¼ˆç®€å•åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">UPDATE</span> orders 
<span class="hljs-keyword">SET</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'PAID'</span>, pay_time <span class="hljs-operator">=</span> NOW()
<span class="hljs-keyword">WHERE</span> order_no <span class="hljs-operator">=</span> ? <span class="hljs-keyword">AND</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'CREATED'</span>; <span class="hljs-comment">-- åªæœ‰çŠ¶æ€æ˜¯â€œå¾…æ”¯ä»˜â€æ—¶æ‰èƒ½æ›´æ–°</span>

<span class="hljs-comment">-- æ–¹å¼2ï¼šç”¨ç‰ˆæœ¬å·ä½œä¸ºæ¡ä»¶ï¼ˆå¹¶å‘æ›´é«˜çš„åœºæ™¯ï¼‰</span>
<span class="hljs-keyword">UPDATE</span> orders 
<span class="hljs-keyword">SET</span> status <span class="hljs-operator">=</span> <span class="hljs-string">'PAID'</span>, pay_time <span class="hljs-operator">=</span> NOW(), version <span class="hljs-operator">=</span> version <span class="hljs-operator">+</span> <span class="hljs-number">1</span>
<span class="hljs-keyword">WHERE</span> order_no <span class="hljs-operator">=</span> ? <span class="hljs-keyword">AND</span> version <span class="hljs-operator">=</span> ?;
</code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šJava ä»£ç å¤„ç†é€»è¾‘</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * è®¢å•æ”¯ä»˜æ¥å£ï¼ˆå¹‚ç­‰ç‰ˆï¼‰
 * <span class="hljs-doctag">@param</span> payDTO æ”¯ä»˜è¯·æ±‚DTOï¼ŒåŒ…å«è®¢å•å·ã€æ”¯ä»˜é‡‘é¢ç­‰
 */</span>
<span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
<span class="hljs-keyword">public</span> Boolean <span class="hljs-title function_">payOrder</span><span class="hljs-params">(PayDTO payDTO)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">orderNo</span> <span class="hljs-operator">=</span> payDTO.getOrderNo();
    <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> orderMapper.selectByOrderNo(orderNo);
    <span class="hljs-keyword">if</span> (order == <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"è®¢å•ä¸å­˜åœ¨"</span>);
    }

    <span class="hljs-comment">// æ–¹å¼1ï¼šç”¨çŠ¶æ€ä½œä¸ºæ¡ä»¶æ›´æ–°</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">updateCount</span> <span class="hljs-operator">=</span> orderMapper.updateOrderStatusToPaid(orderNo, <span class="hljs-string">"CREATED"</span>);
    <span class="hljs-keyword">if</span> (updateCount == <span class="hljs-number">0</span>) {
        <span class="hljs-comment">// æ›´æ–°å¤±è´¥ï¼Œè¯´æ˜è®¢å•å·²æ”¯ä»˜æˆ–çŠ¶æ€å¼‚å¸¸ï¼ˆé‡å¤è¯·æ±‚ï¼‰</span>
        log.info(<span class="hljs-string">"è®¢å•å·²æ”¯ä»˜æˆ–çŠ¶æ€å¼‚å¸¸ï¼Œè®¢å•å·ï¼š{}"</span>, orderNo);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <span class="hljs-comment">// é‡å¤è¯·æ±‚ï¼Œè¿”å›æˆåŠŸ</span>
    }

    <span class="hljs-comment">// æ–¹å¼2ï¼šç”¨ç‰ˆæœ¬å·ä½œä¸ºæ¡ä»¶æ›´æ–°ï¼ˆæ¨èé«˜å¹¶å‘åœºæ™¯ï¼‰</span>
    <span class="hljs-comment">// int updateCount = orderMapper.updateOrderStatusToPaidWithVersion(orderNo, order.getVersion());</span>
    <span class="hljs-comment">// if (updateCount == 0) {</span>
    <span class="hljs-comment">//     log.info("è®¢å•å·²æ”¯ä»˜æˆ–çŠ¶æ€å¼‚å¸¸ï¼Œè®¢å•å·ï¼š{}", orderNo);</span>
    <span class="hljs-comment">//     return true;</span>
    <span class="hljs-comment">// }</span>

    <span class="hljs-comment">// åç»­ä¸šåŠ¡é€»è¾‘ï¼šæ‰£å‡ç”¨æˆ·ä½™é¢ã€è®°å½•æ”¯ä»˜æ—¥å¿—ç­‰</span>
    deductUserBalance(payDTO.getUserId(), payDTO.getAmount());
    recordPayLog(payDTO);

    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
}
</code></pre>
<h4 data-id="heading-13">ä¼˜ç‚¹ &amp; é€‚ç”¨åœºæ™¯</h4>
<p>âœ… ä¼˜ç‚¹ï¼š</p>
<ul>
<li>
<p>è´´åˆä¸šåŠ¡åœºæ™¯ï¼ŒçŠ¶æ€æœºæœ¬èº«å°±æ˜¯ä¸šåŠ¡é€»è¾‘çš„ä¸€éƒ¨åˆ†ï¼Œä¸éœ€è¦é¢å¤–å¼•å…¥è¿‡å¤šæ¦‚å¿µ</p>
</li>
<li>
<p>å¹¶å‘æ€§èƒ½å¥½ï¼Œä¹è§‚é”ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼Œé€‚åˆé«˜å¹¶å‘åœºæ™¯</p>
</li>
<li>
<p>èƒ½é˜²æ­¢â€œçŠ¶æ€ä¹±åºâ€é—®é¢˜ï¼ˆæ¯”å¦‚åŒæ—¶æ”¶åˆ°â€œæ”¯ä»˜â€å’Œâ€œå–æ¶ˆâ€è¯·æ±‚ï¼Œä¿è¯åªæœ‰ä¸€ä¸ªèƒ½æ‰§è¡Œï¼‰</p>
</li>
</ul>
<p>ğŸ“Œ é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>
<p>è®¢å•çŠ¶æ€æµè½¬ï¼ˆæ”¯ä»˜ã€å‘è´§ã€å–æ¶ˆï¼‰</p>
</li>
<li>
<p>é€€æ¬¾æµç¨‹ï¼ˆç”³è¯·é€€æ¬¾ â†’ é€€æ¬¾ä¸­ â†’ é€€æ¬¾æˆåŠŸ/å¤±è´¥ï¼‰</p>
</li>
<li>
<p>ä»»ä½•æœ‰æ˜ç¡®çŠ¶æ€æµè½¬çš„ä¸šåŠ¡å®ä½“</p>
</li>
</ul>
<p>æ ¸å¿ƒåŸåˆ™ï¼š</p>
<blockquote>
<p><strong>çŠ¶æ€åªå¾€å‰èµ°ï¼Œæœ¬èº«å°±æ˜¯å¹‚ç­‰ã€‚</strong></p>
</blockquote>
<h3 data-id="heading-14">3ï¸âƒ£ Token / Redis å»é‡ï¼ˆé˜²é‡å¤æäº¤é¦–é€‰ï¼‰</h3>
<p>è¿™ä¸ªæ–¹æ¡ˆä¸»è¦ç”¨äºâ€œç”¨æˆ·äº¤äº’å‹æ¥å£â€ï¼Œæ¯”å¦‚è¡¨å•æäº¤ã€æŒ‰é’®ç‚¹å‡»ã€ç§’æ€ä¸‹å•ã€‚æ ¸å¿ƒæ˜¯â€œåœ¨è¯·æ±‚æ‰§è¡Œå‰ï¼Œå…ˆè·å–ä¸€ä¸ªå”¯ä¸€ Tokenï¼Œæ‰§è¡Œæ—¶æ ¡éªŒ Token æœ‰æ•ˆæ€§â€ï¼Œä»è€Œé˜²æ­¢é‡å¤æäº¤ã€‚</p>
<h4 data-id="heading-15">æ ¸å¿ƒæµç¨‹</h4>
<ol>
<li>
<p>å®¢æˆ·ç«¯å…ˆå‘æœåŠ¡ç«¯è¯·æ±‚â€œè·å– Tokenâ€ï¼ˆæ¯”å¦‚ç”¨æˆ·è¿›å…¥ä¸‹å•é¡µé¢æ—¶ï¼Œå‰ç«¯è°ƒç”¨æ¥å£è·å– Tokenï¼‰</p>
</li>
<li>
<p>æœåŠ¡ç«¯ç”Ÿæˆä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ Tokenï¼ˆæ¯”å¦‚ç”¨ UUIDï¼‰ï¼Œå­˜å…¥ Redisï¼ˆè®¾ç½®è¿‡æœŸæ—¶é—´ï¼‰ï¼Œç„¶åè¿”å›ç»™å®¢æˆ·ç«¯</p>
</li>
<li>
<p>å®¢æˆ·ç«¯å‘èµ·ä¸šåŠ¡è¯·æ±‚æ—¶ï¼Œå°† Token æ”¾åœ¨è¯·æ±‚å¤´æˆ–è¯·æ±‚å‚æ•°ä¸­ä¸€èµ·æäº¤</p>
</li>
<li>
<p>æœåŠ¡ç«¯æ”¶åˆ°è¯·æ±‚åï¼Œå…ˆæ ¡éªŒ Tokenï¼šå¦‚æœ Redis ä¸­å­˜åœ¨è¯¥ Tokenï¼Œåˆ™åˆ é™¤ Token å¹¶æ‰§è¡Œåç»­ä¸šåŠ¡é€»è¾‘ï¼›å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¯´æ˜æ˜¯é‡å¤è¯·æ±‚ï¼Œç›´æ¥è¿”å›é”™è¯¯</p>
</li>
</ol>
<p>æµç¨‹ç¤ºæ„å›¾ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">
sequenceDiagram
    Client-&gt;&gt;Server: è¿›å…¥ä¸‹å•é¡µé¢ï¼Œè¯·æ±‚è·å–Token
    Server-&gt;&gt;Server: ç”ŸæˆUUIDä½œä¸ºTokenï¼Œå­˜å…¥Redisï¼ˆè®¾ç½®è¿‡æœŸæ—¶é—´ï¼‰
    Server-&gt;&gt;Client: è¿”å›Token
    Client-&gt;&gt;Server: æäº¤è®¢å•ï¼ˆæºå¸¦Tokenï¼‰
    Server-&gt;&gt;Server: æ ¡éªŒRedisä¸­æ˜¯å¦å­˜åœ¨è¯¥Tokenï¼Œå­˜åœ¨åˆ™åˆ é™¤
    Server-&gt;&gt;Server: æ‰§è¡Œä¸‹å•é€»è¾‘
    Server-&gt;&gt;Client: è¿”å›ä¸‹å•ç»“æœ
    Client-&gt;&gt;Server: é‡å¤æäº¤è®¢å•ï¼ˆæºå¸¦ç›¸åŒTokenï¼‰
    Server-&gt;&gt;Server: æ ¡éªŒRedisä¸­å·²æ— è¯¥Token
    Server-&gt;&gt;Client: è¿”å›â€œé‡å¤æäº¤â€é”™è¯¯
</code></pre>
<h4 data-id="heading-16">å®æˆ˜ä»£ç ï¼ˆJava + Redisï¼‰</h4>
<p>ç¬¬ä¸€æ­¥ï¼šè·å– Token æ¥å£</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * è·å–é˜²é‡å¤æäº¤Token
 */</span>
<span class="hljs-meta">@GetMapping("/api/idempotent/token")</span>
<span class="hljs-keyword">public</span> Result&lt;String&gt; <span class="hljs-title function_">getIdempotentToken</span><span class="hljs-params">()</span> {
    <span class="hljs-comment">// ç”Ÿæˆå”¯ä¸€Tokenï¼ˆUUIDï¼‰</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> UUID.randomUUID().toString().replace(<span class="hljs-string">"-"</span>, <span class="hljs-string">""</span>);
    <span class="hljs-comment">// å­˜å…¥Redisï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´5åˆ†é’Ÿï¼ˆæ ¹æ®ä¸šåŠ¡è°ƒæ•´ï¼Œæ¯”å¦‚è¡¨å•æäº¤è®¾ç½®10åˆ†é’Ÿï¼‰</span>
    <span class="hljs-type">String</span> <span class="hljs-variable">redisKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"idempotent:token:"</span> + token;
    redisTemplate.opsForValue().set(redisKey, <span class="hljs-string">"1"</span>, <span class="hljs-number">5</span>, TimeUnit.MINUTES);
    <span class="hljs-keyword">return</span> Result.success(token);
}
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šä¸šåŠ¡æ¥å£ï¼ˆç»“åˆ Spring AOP å®ç°æ›´ä¼˜é›…ï¼‰</p>
<p>å…ˆå®šä¹‰ä¸€ä¸ªè‡ªå®šä¹‰æ³¨è§£ï¼Œç”¨äºæ ‡è®°éœ€è¦é˜²é‡å¤æäº¤çš„æ¥å£ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * é˜²é‡å¤æäº¤æ³¨è§£
 */</span>
<span class="hljs-meta">@Target(ElementType.METHOD)</span>
<span class="hljs-meta">@Retention(RetentionPolicy.RUNTIME)</span>
<span class="hljs-keyword">public</span> <span class="hljs-meta">@interface</span> Idempotent {
    <span class="hljs-comment">// Tokenå‚æ•°çš„åç§°ï¼ˆé»˜è®¤ä»è¯·æ±‚å¤´è·å–ï¼‰</span>
    String <span class="hljs-title function_">tokenName</span><span class="hljs-params">()</span> <span class="hljs-keyword">default</span> <span class="hljs-string">"Idempotent-Token"</span>;
}

<span class="hljs-comment">// AOPåˆ‡é¢å®ç°</span>
<span class="hljs-meta">@Aspect</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IdempotentAspect</span> {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> StringRedisTemplate redisTemplate;

    <span class="hljs-meta">@Around("@annotation(idempotent)")</span>
    <span class="hljs-keyword">public</span> Object <span class="hljs-title function_">around</span><span class="hljs-params">(ProceedingJoinPoint joinPoint, Idempotent idempotent)</span> <span class="hljs-keyword">throws</span> Throwable {
        <span class="hljs-comment">// 1. è·å–è¯·æ±‚ä¸­çš„Token</span>
        <span class="hljs-type">HttpServletRequest</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> ((ServletRequestAttributes) RequestContextHolder.getRequestAttributes()).getRequest();
        <span class="hljs-type">String</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> request.getHeader(idempotent.tokenName());
        <span class="hljs-keyword">if</span> (StringUtils.isBlank(token)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"Tokenä¸èƒ½ä¸ºç©º"</span>);
        }

        <span class="hljs-comment">// 2. æ ¡éªŒTokenæ˜¯å¦å­˜åœ¨äºRedis</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">redisKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"idempotent:token:"</span> + token;
        <span class="hljs-type">Boolean</span> <span class="hljs-variable">isExist</span> <span class="hljs-operator">=</span> redisTemplate.hasKey(redisKey);
        <span class="hljs-keyword">if</span> (Boolean.FALSE.equals(isExist)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"é‡å¤æäº¤ï¼Œè¯·ç¨åå†è¯•"</span>);
        }

        <span class="hljs-comment">// 3. åŸå­æ€§åˆ é™¤Tokenï¼ˆé˜²æ­¢å¹¶å‘é—®é¢˜ï¼‰</span>
        <span class="hljs-type">Boolean</span> <span class="hljs-variable">deleteSuccess</span> <span class="hljs-operator">=</span> redisTemplate.delete(redisKey);
        <span class="hljs-keyword">if</span> (Boolean.FALSE.equals(deleteSuccess)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">BizException</span>(<span class="hljs-string">"é‡å¤æäº¤ï¼Œè¯·ç¨åå†è¯•"</span>);
        }

        <span class="hljs-comment">// 4. æ‰§è¡ŒåŸä¸šåŠ¡é€»è¾‘</span>
        <span class="hljs-keyword">return</span> joinPoint.proceed();
    }
}
</code></pre>
<p>ç¬¬ä¸‰æ­¥ï¼šä½¿ç”¨æ³¨è§£æ ‡è®°ä¸šåŠ¡æ¥å£</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * è¡¨å•æäº¤æ¥å£ï¼ˆé˜²é‡å¤æäº¤ï¼‰
 */</span>
<span class="hljs-meta">@PostMapping("/api/form/submit")</span>
<span class="hljs-meta">@Idempotent(tokenName = "Idempotent-Token")</span>
<span class="hljs-keyword">public</span> Result&lt;String&gt; <span class="hljs-title function_">submitForm</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> FormDTO formDTO)</span> {
    <span class="hljs-comment">// æ‰§è¡Œè¡¨å•æäº¤é€»è¾‘</span>
    formService.submit(formDTO);
    <span class="hljs-keyword">return</span> Result.success(<span class="hljs-string">"æäº¤æˆåŠŸ"</span>);
}
</code></pre>
<h4 data-id="heading-17">ä¼˜ç‚¹ &amp; æ³¨æ„äº‹é¡¹</h4>
<p>âœ… ä¼˜ç‚¹ï¼š</p>
<ul>
<li>
<p>å®ç°ä¼˜é›…ï¼Œé€šè¿‡ AOP å¯ä»¥å…¨å±€å¤ç”¨ï¼Œå¼€å‘æˆæœ¬ä½</p>
</li>
<li>
<p>æ€§èƒ½å¥½ï¼ŒåŸºäº Redis æ“ä½œï¼Œå“åº”é€Ÿåº¦å¿«</p>
</li>
<li>
<p>é€‚åˆå‰ç«¯äº¤äº’åœºæ™¯ï¼Œèƒ½æœ‰æ•ˆé˜²æ­¢ç”¨æˆ·é‡å¤ç‚¹å‡»</p>
</li>
</ul>
<p>âš ï¸ æ³¨æ„äº‹é¡¹ï¼š</p>
<ul>
<li>
<p>ä¸é€‚åˆæ ¸å¿ƒäº¤æ˜“é“¾è·¯ï¼šRedis æ˜¯ç¼“å­˜ï¼Œå­˜åœ¨å®•æœºæˆ–æ•°æ®ä¸¢å¤±çš„é£é™©ï¼Œæ— æ³•åƒæ•°æ®åº“é‚£æ ·æä¾›å¼ºä¸€è‡´æ€§ä¿è¯</p>
</li>
<li>
<p>Token è¿‡æœŸæ—¶é—´è¦åˆç†ï¼šå¤ªçŸ­ä¼šå¯¼è‡´æ­£å¸¸è¯·æ±‚å¤±è´¥ï¼Œå¤ªé•¿ä¼šå ç”¨ Redis èµ„æº</p>
</li>
<li>
<p>å¿…é¡»ä¿è¯â€œåˆ é™¤ Tokenâ€æ˜¯åŸå­æ“ä½œï¼šå¦‚æœç”¨â€œå…ˆæŸ¥ååˆ â€çš„æ–¹å¼ï¼Œä¼šå‡ºç°å¹¶å‘é—®é¢˜ï¼ˆä¸¤ä¸ªè¯·æ±‚åŒæ—¶æŸ¥åˆ° Token å­˜åœ¨ï¼Œç„¶åéƒ½æ‰§è¡Œåˆ é™¤ï¼Œå¯¼è‡´é‡å¤å¤„ç†ï¼‰</p>
</li>
</ul>
<p>æ ¸å¿ƒç»“è®ºï¼šè¿™ä¸ªæ–¹æ¡ˆé€‚åˆâ€œéæ ¸å¿ƒé“¾è·¯çš„é˜²é‡å¤æäº¤â€ï¼Œæ¯”å¦‚è¡¨å•æäº¤ã€è¯„è®ºå‘å¸ƒã€æ´»åŠ¨æŠ¥åç­‰ï¼›æ ¸å¿ƒäº¤æ˜“é“¾è·¯ï¼ˆä¸‹å•ã€æ”¯ä»˜ï¼‰ä¸æ¨èå•ç‹¬ä½¿ç”¨ï¼Œå»ºè®®ç»“åˆæ–¹æ¡ˆä¸€ï¼ˆå”¯ä¸€ç´¢å¼•ï¼‰å…œåº•ã€‚</p>
<h3 data-id="heading-18">4ï¸âƒ£ MQ æ¶ˆè´¹å¹‚ç­‰ï¼ˆé¢è¯•å¿…è€ƒï¼Œå¿…é¡»æŒæ¡ï¼‰</h3>
<p>MQ æ¶ˆè´¹çš„å¹‚ç­‰æ˜¯é«˜å¹¶å‘ç³»ç»Ÿä¸­çš„é«˜é¢‘é—®é¢˜ï¼Œå› ä¸ºæ‰€æœ‰ MQ ä¸­é—´ä»¶éƒ½æ— æ³•ä¿è¯â€œæ°å¥½ä¸€æ¬¡â€æŠ•é€’ï¼ˆé™¤éç”¨äº‹åŠ¡æ¶ˆæ¯ï¼Œä½†å¤æ‚åº¦é«˜ï¼‰ï¼Œé»˜è®¤éƒ½æ˜¯â€œè‡³å°‘ä¸€æ¬¡â€æŠ•é€’ã€‚æ‰€ä»¥ï¼Œæ¶ˆè´¹ç«¯å¿…é¡»è‡ªå·±å¤„ç†é‡å¤æ¶ˆæ¯ã€‚</p>
<h4 data-id="heading-19">æ ¸å¿ƒæ€è·¯</h4>
<p>MQ æ¶ˆæ¯æœ¬èº«ä¼šæºå¸¦ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„æ¶ˆæ¯ IDï¼ˆæ¯”å¦‚ RocketMQ çš„ msgIdã€Kafka çš„ offset + partitionï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ¶ˆæ¯ ID åšå»é‡ï¼›å¦‚æœæ¶ˆæ¯ ID ä¸å¯é ï¼ˆæ¯”å¦‚æœ‰äº› MQ ä¼šé‡å¤ç”Ÿæˆ msgIdï¼‰ï¼Œåˆ™å¯ä»¥ç”¨ä¸šåŠ¡å”¯ä¸€ IDï¼ˆæ¯”å¦‚è®¢å•å·ï¼‰åšå»é‡ã€‚</p>
<p>æ ¸å¿ƒæµç¨‹ï¼š</p>
<ol>
<li>
<p>æ¶ˆè´¹æ¶ˆæ¯å‰ï¼Œå…ˆæ£€æŸ¥è¯¥æ¶ˆæ¯çš„ IDï¼ˆmsgId æˆ– bizIdï¼‰æ˜¯å¦å·²ç»å¤„ç†è¿‡</p>
</li>
<li>
<p>å¦‚æœå·²ç»å¤„ç†è¿‡ï¼Œåˆ™ç›´æ¥è¿”å›æˆåŠŸï¼Œä¸æ‰§è¡Œåç»­é€»è¾‘</p>
</li>
<li>
<p>å¦‚æœæœªå¤„ç†è¿‡ï¼Œåˆ™æ‰§è¡Œæ¶ˆè´¹é€»è¾‘ï¼Œæ‰§è¡Œå®Œæˆåï¼Œè®°å½•è¯¥æ¶ˆæ¯ ID å·²å¤„ç†</p>
</li>
</ol>
<p>ä¸€å¥è¯ç‚¹ç ´ï¼š</p>
<blockquote>
<p><strong>MQ ä¸€å®šä¼šé‡å¤ï¼Œä¸šåŠ¡å¿…é¡»èƒ½æ‰›ä½ã€‚</strong></p>
</blockquote>
<h4 data-id="heading-20">å®æˆ˜ä»£ç ï¼ˆJava + RocketMQï¼‰</h4>
<p>è¿™é‡Œæä¾›ä¸¤ç§å®ç°æ–¹å¼ï¼šåŸºäº Redis å»é‡ï¼ˆé€‚åˆéæ ¸å¿ƒæ¶ˆæ¯ï¼‰å’ŒåŸºäºæ•°æ®åº“å»é‡è¡¨ï¼ˆé€‚åˆæ ¸å¿ƒæ¶ˆæ¯ï¼‰ã€‚</p>
<p>æ–¹å¼ä¸€ï¼šåŸºäº Redis å»é‡ï¼ˆç®€å•åœºæ™¯ï¼‰</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * MQ æ¶ˆè´¹è€…ï¼ˆåŸºäºRediså»é‡ï¼‰
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@RocketMQMessageListener(topic = "order_topic", consumerGroup = "order_consumer_group")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OrderConsumer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">RocketMQListener</span>&lt;MessageExt&gt; {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> StringRedisTemplate redisTemplate;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> OrderService orderService;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMessage</span><span class="hljs-params">(MessageExt messageExt)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">msgId</span> <span class="hljs-operator">=</span> messageExt.getMsgId(); <span class="hljs-comment">// MQè‡ªå¸¦çš„å”¯ä¸€æ¶ˆæ¯ID</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(messageExt.getBody(), StandardCharsets.UTF_8);
        <span class="hljs-type">OrderMessage</span> <span class="hljs-variable">orderMessage</span> <span class="hljs-operator">=</span> JSON.parseObject(body, OrderMessage.class);
        <span class="hljs-type">String</span> <span class="hljs-variable">bizId</span> <span class="hljs-operator">=</span> orderMessage.getOrderNo(); <span class="hljs-comment">// ä¸šåŠ¡å”¯ä¸€IDï¼ˆè®¢å•å·ï¼‰</span>

        <span class="hljs-comment">// 1. å…ˆæŸ¥Redisï¼Œåˆ¤æ–­æ˜¯å¦å·²å¤„ç†ï¼ˆç”¨bizIdæ›´å¯é ï¼ŒmsgIdå¯èƒ½é‡å¤ï¼‰</span>
        <span class="hljs-type">String</span> <span class="hljs-variable">redisKey</span> <span class="hljs-operator">=</span> <span class="hljs-string">"mq:idempotent:order:"</span> + bizId;
        <span class="hljs-type">Boolean</span> <span class="hljs-variable">isProcessed</span> <span class="hljs-operator">=</span> redisTemplate.hasKey(redisKey);
        <span class="hljs-keyword">if</span> (Boolean.TRUE.equals(isProcessed)) {
            log.info(<span class="hljs-string">"æ¶ˆæ¯å·²å¤„ç†ï¼ŒmsgIdï¼š{}ï¼ŒbizIdï¼š{}"</span>, msgId, bizId);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 2. æ‰§è¡Œæ¶ˆè´¹é€»è¾‘ï¼ˆæ¯”å¦‚æ›´æ–°è®¢å•çŠ¶æ€ï¼‰</span>
            orderService.processOrderMessage(orderMessage);

            <span class="hljs-comment">// 3. æ ‡è®°ä¸ºå·²å¤„ç†ï¼ˆå­˜å…¥Redisï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ¯”å¦‚24å°æ—¶ï¼‰</span>
            redisTemplate.opsForValue().set(redisKey, <span class="hljs-string">"1"</span>, <span class="hljs-number">24</span>, TimeUnit.HOURS);
            log.info(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†æˆåŠŸï¼ŒmsgIdï¼š{}ï¼ŒbizIdï¼š{}"</span>, msgId, bizId);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†å¤±è´¥ï¼ŒmsgIdï¼š{}ï¼ŒbizIdï¼š{}"</span>, msgId, bizId, e);
            <span class="hljs-comment">// æŠ›å‡ºå¼‚å¸¸ï¼Œè®©MQé‡è¯•ï¼ˆæ ¹æ®ä¸šåŠ¡è°ƒæ•´é‡è¯•ç­–ç•¥ï¼‰</span>
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†å¤±è´¥ï¼Œè§¦å‘é‡è¯•"</span>, e);
        }
    }
}
</code></pre>
<p>æ–¹å¼äºŒï¼šåŸºäºæ•°æ®åº“å»é‡è¡¨ï¼ˆæ ¸å¿ƒæ¶ˆæ¯ï¼Œå¼ºä¸€è‡´ï¼‰</p>
<p>ç¬¬ä¸€æ­¥ï¼šåˆ›å»º MQ æ¶ˆæ¯å»é‡è¡¨</p>
<pre><code class="hljs language-sql" lang="sql">
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> mq_message_idempotent (
    id <span class="hljs-type">BIGINT</span> AUTO_INCREMENT <span class="hljs-keyword">PRIMARY</span> KEY COMMENT <span class="hljs-string">'ä¸»é”®ID'</span>,
    msg_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'MQæ¶ˆæ¯ID'</span>,
    biz_id <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">64</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> COMMENT <span class="hljs-string">'ä¸šåŠ¡å”¯ä¸€ID'</span>,
    status TINYINT <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span> COMMENT <span class="hljs-string">'å¤„ç†çŠ¶æ€ï¼š0-æœªå¤„ç†ï¼Œ1-å·²å¤„ç†'</span>,
    create_time DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'åˆ›å»ºæ—¶é—´'</span>,
    update_time DATETIME <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-built_in">CURRENT_TIMESTAMP</span> COMMENT <span class="hljs-string">'æ›´æ–°æ—¶é—´'</span>,
    <span class="hljs-keyword">UNIQUE</span> KEY uk_biz_id (biz_id) COMMENT <span class="hljs-string">'ä¸šåŠ¡IDå”¯ä¸€çº¦æŸ'</span>
) ENGINE<span class="hljs-operator">=</span>InnoDB <span class="hljs-keyword">DEFAULT</span> CHARSET<span class="hljs-operator">=</span>utf8mb4 COMMENT <span class="hljs-string">'MQæ¶ˆæ¯å¹‚ç­‰è¡¨'</span>;
</code></pre>
<p>ç¬¬äºŒæ­¥ï¼šæ¶ˆè´¹é€»è¾‘ä»£ç </p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">/**
 * MQ æ¶ˆè´¹è€…ï¼ˆåŸºäºæ•°æ®åº“å»é‡è¡¨ï¼‰
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-meta">@RocketMQMessageListener(topic = "payment_topic", consumerGroup = "payment_consumer_group")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PaymentConsumer</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">RocketMQListener</span>&lt;MessageExt&gt; {

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> MqMessageIdempotentMapper idempotentMapper;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> PaymentService paymentService;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onMessage</span><span class="hljs-params">(MessageExt messageExt)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">msgId</span> <span class="hljs-operator">=</span> messageExt.getMsgId();
        <span class="hljs-type">String</span> <span class="hljs-variable">body</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(messageExt.getBody(), StandardCharsets.UTF_8);
        <span class="hljs-type">PaymentMessage</span> <span class="hljs-variable">paymentMessage</span> <span class="hljs-operator">=</span> JSON.parseObject(body, PaymentMessage.class);
        <span class="hljs-type">String</span> <span class="hljs-variable">bizId</span> <span class="hljs-operator">=</span> paymentMessage.getPayNo(); <span class="hljs-comment">// æ”¯ä»˜æµæ°´å·ï¼ˆä¸šåŠ¡å”¯ä¸€IDï¼‰</span>

        <span class="hljs-comment">// 1. å°è¯•æ’å…¥å»é‡è¡¨ï¼ˆå”¯ä¸€çº¦æŸå…œåº•ï¼‰</span>
        <span class="hljs-type">MqMessageIdempotent</span> <span class="hljs-variable">idempotent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MqMessageIdempotent</span>();
        idempotent.setMsgId(msgId);
        idempotent.setBizId(bizId);
        idempotent.setStatus(<span class="hljs-number">0</span>); <span class="hljs-comment">// æœªå¤„ç†</span>

        <span class="hljs-keyword">try</span> {
            idempotentMapper.insert(idempotent);
        } <span class="hljs-keyword">catch</span> (DuplicateKeyException e) {
            <span class="hljs-comment">// é‡å¤æ¶ˆæ¯ï¼ŒæŸ¥è¯¢å¤„ç†çŠ¶æ€</span>
            <span class="hljs-type">MqMessageIdempotent</span> <span class="hljs-variable">exist</span> <span class="hljs-operator">=</span> idempotentMapper.selectByBizId(bizId);
            <span class="hljs-keyword">if</span> (exist.getStatus() == <span class="hljs-number">1</span>) {
                log.info(<span class="hljs-string">"æ¶ˆæ¯å·²å¤„ç†ï¼ŒmsgIdï¼š{}ï¼ŒbizIdï¼š{}"</span>, msgId, bizId);
                <span class="hljs-keyword">return</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">// æ¶ˆæ¯æ­£åœ¨å¤„ç†ä¸­ï¼ŒæŠ›å‡ºå¼‚å¸¸è®©MQé‡è¯•ï¼ˆæˆ–æ ¹æ®ä¸šåŠ¡å¤„ç†ï¼‰</span>
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†ä¸­ï¼Œè¯·ç¨åé‡è¯•"</span>);
            }
        }

        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">// 2. æ‰§è¡Œæ¶ˆè´¹é€»è¾‘ï¼ˆæ¯”å¦‚å¤„ç†æ”¯ä»˜ç»“æœï¼‰</span>
            paymentService.processPaymentResult(paymentMessage);

            <span class="hljs-comment">// 3. æ›´æ–°å»é‡è¡¨çŠ¶æ€ä¸ºâ€œå·²å¤„ç†â€</span>
            idempotentMapper.updateStatusByBizId(bizId, <span class="hljs-number">1</span>);
            log.info(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†æˆåŠŸï¼ŒmsgIdï¼š{}ï¼ŒbizIdï¼š{}"</span>, msgId, bizId);
        } <span class="hljs-keyword">catch</span> (Exception e) {
            log.error(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†å¤±è´¥ï¼ŒmsgIdï¼š{}ï¼ŒbizIdï¼š{}"</span>, msgId, bizId, e);
            <span class="hljs-comment">// å¯ä»¥æ›´æ–°çŠ¶æ€ä¸ºâ€œå¤„ç†å¤±è´¥â€ï¼Œåç»­äººå·¥ä»‹å…¥</span>
            idempotentMapper.updateStatusByBizId(bizId, <span class="hljs-number">2</span>);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RuntimeException</span>(<span class="hljs-string">"æ¶ˆæ¯å¤„ç†å¤±è´¥ï¼Œè§¦å‘é‡è¯•"</span>, e);
        }
    }
}
</code></pre>
<h4 data-id="heading-21">ä¼˜ç‚¹ &amp; é€‚ç”¨åœºæ™¯</h4>
<p>âœ… ä¼˜ç‚¹ï¼š</p>
<ul>
<li>
<p>å¯é æ€§é«˜ï¼Œå°¤å…¶æ˜¯åŸºäºæ•°æ®åº“å»é‡è¡¨çš„æ–¹å¼ï¼Œèƒ½ä¿è¯å¼ºä¸€è‡´æ€§</p>
</li>
<li>
<p>é€‚é…æ‰€æœ‰ MQ åœºæ™¯ï¼Œé€šç”¨æ€§å¼º</p>
</li>
</ul>
<p>ğŸ“Œ é€‚ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>
<p>åŸºäº Redis ï¼šéæ ¸å¿ƒæ¶ˆæ¯ï¼Œæ¯”å¦‚æ—¥å¿—åŒæ­¥ã€é€šçŸ¥æ¨é€ã€æ•°æ®ç»Ÿè®¡</p>
</li>
<li>
<p>åŸºäºæ•°æ®åº“ï¼šæ ¸å¿ƒæ¶ˆæ¯ï¼Œæ¯”å¦‚è®¢å•æ”¯ä»˜ç»“æœé€šçŸ¥ã€åº“å­˜å˜æ›´æ¶ˆæ¯ã€é€€æ¬¾æ¶ˆæ¯</p>
</li>
</ul>
<p>é¢è¯•å°è´´å£«ï¼šè¢«é—®åˆ°â€œMQ æ¶ˆè´¹å¦‚ä½•ä¿è¯å¹‚ç­‰â€æ—¶ï¼Œè¦å…ˆè¯´æ˜â€œMQ æ— æ³•é¿å…é‡å¤æŠ•é€’â€ï¼Œç„¶ååˆ†åœºæ™¯ç»™å‡ºæ–¹æ¡ˆï¼Œæœ€åå¼ºè°ƒâ€œæ ¸å¿ƒæ¶ˆæ¯å¿…é¡»ç”¨æ•°æ®åº“å»é‡è¡¨å…œåº•â€ï¼Œè¿™æ ·å›ç­”æ‰å¤Ÿå…¨é¢ã€‚</p>
<hr/>
<h2 data-id="heading-22">å…­ã€3 ä¸ªæœ€å®¹æ˜“è¸©çš„å¹‚ç­‰å¤§å‘ï¼ˆé¿å‘æŒ‡å—ï¼‰</h2>
<p>å¾ˆå¤šäººåšäº†å¹‚ç­‰å¤„ç†ï¼Œä½†è¿˜æ˜¯å‡ºäº†é—®é¢˜ï¼ŒåŸå› æ˜¯è¸©äº†ä¸€äº›â€œéšæ€§å‘â€ã€‚ä¸‹é¢è¿™ 3 ä¸ªå‘ï¼Œä¸€å®šè¦é¿å¼€ï¼š</p>
<h3 data-id="heading-23">âŒ 1. å…ˆæŸ¥å†æ’/å…ˆæŸ¥å†æ›´ï¼ˆé«˜å¹¶å‘ä¸‹å¿…ç‚¸ï¼‰</h3>
<p>è¿™æ˜¯æœ€å¸¸è§çš„é”™è¯¯åšæ³•ï¼šå¤„ç†è¯·æ±‚æ—¶ï¼Œå…ˆæŸ¥è¯¢æ•°æ®åº“â€œè¿™ä¸ªè¯·æ±‚æ˜¯å¦å·²å¤„ç†â€ï¼Œå¦‚æœæ²¡å¤„ç†å†æ‰§è¡Œæ’å…¥/æ›´æ–°æ“ä½œã€‚ä»£ç ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// é”™è¯¯ä»£ç ï¼šå…ˆæŸ¥å†æ’</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(CreateOrderDTO dto)</span> {
    <span class="hljs-comment">// å…ˆæŸ¥è¯¢è®¢å•æ˜¯å¦å­˜åœ¨</span>
    <span class="hljs-type">Order</span> <span class="hljs-variable">existOrder</span> <span class="hljs-operator">=</span> orderMapper.selectByOrderNo(dto.getOrderNo());
    <span class="hljs-keyword">if</span> (existOrder != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-comment">// æ’å…¥è®¢å•</span>
    <span class="hljs-type">Order</span> <span class="hljs-variable">order</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Order</span>();
    order.setOrderNo(dto.getOrderNo());
    orderMapper.insert(order);
}
</code></pre>
<p>é—®é¢˜å‡ºåœ¨â€œæŸ¥è¯¢â€å’Œâ€œæ’å…¥â€ä¹‹é—´å­˜åœ¨â€œæ—¶é—´çª—å£â€ï¼šé«˜å¹¶å‘ä¸‹ï¼Œä¸¤ä¸ªç›¸åŒçš„è¯·æ±‚å¯èƒ½åŒæ—¶æŸ¥è¯¢åˆ°â€œè®¢å•ä¸å­˜åœ¨â€ï¼Œç„¶ååŒæ—¶æ’å…¥è®¢å•ï¼Œå¯¼è‡´å”¯ä¸€ç´¢å¼•å†²çªï¼Œæˆ–è€…ç›´æ¥ç”Ÿæˆä¸¤ä¸ªè®¢å•ï¼ˆå¦‚æœæ²¡åŠ å”¯ä¸€ç´¢å¼•ï¼‰ã€‚</p>
<p>æ­£ç¡®åšæ³•ï¼š</p>
<blockquote>
<p><strong>ç›´æ¥æ’/ç›´æ¥æ›´ï¼Œäº¤ç»™å”¯ä¸€çº¦æŸæˆ–ä¹è§‚é”å…œåº•ã€‚</strong></p>
</blockquote>
<p>æ¯”å¦‚æ–¹æ¡ˆä¸€ä¸­çš„â€œç›´æ¥æ’å…¥ï¼Œæ•è·å”¯ä¸€ç´¢å¼•å†²çªâ€ï¼Œæ–¹æ¡ˆäºŒä¸­çš„â€œç›´æ¥æ›´æ–°ï¼Œåˆ¤æ–­å½±å“è¡Œæ•°â€â€”â€”ç”¨æ•°æ®åº“çš„åŸå­æ“ä½œä»£æ›¿â€œå…ˆæŸ¥åå†™â€ï¼Œé¿å…å¹¶å‘é—®é¢˜ã€‚</p>
<h3 data-id="heading-24">âŒ 2. å¹‚ç­‰é€»è¾‘ä¸åœ¨äº‹åŠ¡é‡Œï¼ˆæ•°æ®çµå¼‚ï¼‰</h3>
<p>è¿™ä¸ªå‘çš„åœºæ™¯ï¼šæ ‡è®°â€œè¯·æ±‚å·²å¤„ç†â€çš„æ“ä½œï¼Œå’Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä¸åœ¨åŒä¸€ä¸ªäº‹åŠ¡é‡Œã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// é”™è¯¯ä»£ç ï¼šå¹‚ç­‰æ ‡è®°ä¸åœ¨äº‹åŠ¡ä¸­</span>
<span class="hljs-meta">@Transactional(rollbackFor = Exception.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">processOrder</span><span class="hljs-params">(OrderMessage message)</span> {
    <span class="hljs-type">String</span> <span class="hljs-variable">bizId</span> <span class="hljs-operator">=</span> message.getOrderNo();
    <span class="hljs-comment">// 1. æ‰§è¡Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆæ›´æ–°è®¢å•çŠ¶æ€ï¼‰</span>
    orderMapper.updateStatus(bizId, <span class="hljs-string">"PAID"</span>);
    <span class="hljs-comment">// 2. æ ‡è®°ä¸ºå·²å¤„ç†ï¼ˆå­˜å…¥Redisï¼Œä¸åœ¨äº‹åŠ¡ä¸­ï¼‰</span>
    redisTemplate.opsForValue().set(<span class="hljs-string">"order:processed:"</span> + bizId, <span class="hljs-string">"1"</span>, <span class="hljs-number">24</span>, TimeUnit.HOURS);
}
</code></pre>
<p>é—®é¢˜ï¼šå¦‚æœæ­¥éª¤ 1 æ‰§è¡ŒæˆåŠŸï¼Œä½†æ­¥éª¤ 2 æ‰§è¡Œå¤±è´¥ï¼ˆæ¯”å¦‚ Redis å®•æœºï¼‰ï¼Œæ­¤æ—¶äº‹åŠ¡ä¼šå›æ»šå—ï¼Ÿä¸ä¼šï¼å› ä¸ºæ­¥éª¤ 2 æ˜¯ Redis æ“ä½œï¼Œä¸åœ¨æ•°æ®åº“äº‹åŠ¡çš„ç®¡è¾–èŒƒå›´å†…ã€‚æœ€ç»ˆç»“æœæ˜¯ï¼šè®¢å•çŠ¶æ€å·²ç»æ›´æ–°ä¸ºâ€œå·²æ”¯ä»˜â€ï¼Œä½† Redis ä¸­æ²¡æœ‰æ ‡è®°â€œå·²å¤„ç†â€â€”â€”å½“ä¸‹æ¬¡é‡å¤æ¶ˆæ¯åˆ°æ¥æ—¶ï¼Œä¼šå†æ¬¡æ‰§è¡Œæ­¥éª¤ 1ï¼Œå¯¼è‡´è®¢å•çŠ¶æ€è¢«é‡å¤æ›´æ–°ï¼ˆè™½ç„¶çŠ¶æ€æœºå¯èƒ½é˜»æ­¢ï¼Œä½†å¦‚æœæ˜¯å…¶ä»–ä¸šåŠ¡å¯èƒ½å‡ºé—®é¢˜ï¼‰ã€‚</p>
<p>æ›´ä¸¥é‡çš„æƒ…å†µï¼šå¦‚æœæ­¥éª¤ 2 å…ˆæ‰§è¡Œï¼ˆæ ‡è®°å·²å¤„ç†ï¼‰ï¼Œæ­¥éª¤ 1 æ‰§è¡Œå¤±è´¥ï¼ˆäº‹åŠ¡å›æ»šï¼‰ï¼Œä¼šå¯¼è‡´â€œæ ‡è®°å·²å¤„ç†ï¼Œä½†ä¸šåŠ¡æ²¡æ‰§è¡Œâ€â€”â€”åç»­è¯·æ±‚éƒ½ä¼šè¢«å½“æˆé‡å¤è¯·æ±‚ï¼Œç›´æ¥è¿”å›ï¼Œå¯¼è‡´ä¸šåŠ¡ä¸¢å¤±ã€‚</p>
<p>æ­£ç¡®åšæ³•ï¼š</p>
<ul>
<li>
<p>å¦‚æœç”¨æ•°æ®åº“å»é‡ï¼ˆæ¯”å¦‚æ–¹æ¡ˆä¸€ã€æ–¹æ¡ˆå››çš„æ•°æ®åº“å»é‡è¡¨ï¼‰ï¼Œä¸€å®šè¦æŠŠâ€œæ ‡è®°å·²å¤„ç†â€å’Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘æ”¾åœ¨åŒä¸€ä¸ªäº‹åŠ¡é‡Œâ€”â€”ç”¨æ•°æ®åº“äº‹åŠ¡ä¿è¯ä¸¤è€…çš„åŸå­æ€§</p>
</li>
<li>
<p>å¦‚æœç”¨ Redis å»é‡ï¼Œè¦é‡‡ç”¨â€œå…ˆæ‰§è¡Œä¸šåŠ¡ï¼Œå†æ ‡è®°å·²å¤„ç†â€çš„é¡ºåºï¼Œå¹¶ä¸”æ¥å—â€œæç«¯æƒ…å†µä¸‹å¯èƒ½é‡å¤å¤„ç†â€çš„é£é™©ï¼ˆå› ä¸º Redis ä¸æ”¯æŒäº‹åŠ¡å›æ»šï¼‰ï¼›å¦‚æœæ˜¯æ ¸å¿ƒä¸šåŠ¡ï¼Œå»ºè®®ç”¨æ•°æ®åº“å»é‡è¡¨å…œåº•</p>
</li>
</ul>
<h3 data-id="heading-25">âŒ 3. å¹‚ç­‰ = åå¼‚å¸¸ï¼ˆæ©ç›–é—®é¢˜ï¼‰</h3>
<p>è¿™ä¸ªå‘çš„é”™è¯¯è®¤çŸ¥ï¼šâ€œåªè¦æ˜¯é‡å¤è¯·æ±‚ï¼Œä¸ç®¡ä»€ä¹ˆæƒ…å†µéƒ½è¿”å›æˆåŠŸâ€â€”â€”æŠŠå¹‚ç­‰å½“æˆäº†â€œåå¼‚å¸¸â€çš„é®ç¾å¸ƒã€‚æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// é”™è¯¯ä»£ç ï¼šå¹‚ç­‰ = åå¼‚å¸¸</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">createOrder</span><span class="hljs-params">(CreateOrderDTO dto)</span> {
    <span class="hljs-keyword">try</span> {
        orderMapper.insert(dto);
    } <span class="hljs-keyword">catch</span> (Exception e) {
        <span class="hljs-comment">// ä¸ç®¡ä»€ä¹ˆå¼‚å¸¸ï¼Œéƒ½å½“æˆé‡å¤è¯·æ±‚è¿”å›æˆåŠŸ</span>
        log.error(<span class="hljs-string">"åˆ›å»ºè®¢å•å¤±è´¥"</span>, e);
        <span class="hljs-keyword">return</span>;
    }
}
</code></pre>
<p>é—®é¢˜ï¼šå¦‚æœæ˜¯çœŸæ­£çš„ä¸šåŠ¡å¼‚å¸¸ï¼ˆæ¯”å¦‚åº“å­˜ä¸è¶³ã€å‚æ•°é”™è¯¯ï¼‰ï¼Œä¹Ÿä¼šè¢«å½“æˆé‡å¤è¯·æ±‚ï¼Œç›´æ¥è¿”å›æˆåŠŸâ€”â€”ç”¨æˆ·ä»¥ä¸ºè®¢å•åˆ›å»ºæˆåŠŸï¼Œä½†å®é™…ä¸Šå¹¶æ²¡æœ‰ï¼Œå¯¼è‡´ç”¨æˆ·æŠ•è¯‰ï¼›åŒæ—¶ï¼Œå¼€å‘äººå‘˜æ— æ³•åŠæ—¶å‘ç°ä¸šåŠ¡é—®é¢˜ï¼Œå› ä¸ºå¼‚å¸¸è¢«åæ‰äº†ã€‚</p>
<p>æ­£ç¡®åšæ³•ï¼š</p>
<blockquote>
<p><strong>å¹‚ç­‰åªå¤„ç†â€œé‡å¤è¯·æ±‚â€çš„å¼‚å¸¸ï¼Œä¸å¤„ç†â€œä¸šåŠ¡é€»è¾‘â€çš„å¼‚å¸¸ã€‚</strong></p>
</blockquote>
<p>æ¯”å¦‚æ–¹æ¡ˆä¸€ä¸­ï¼Œåªæ•è·â€œDuplicateKeyExceptionâ€ï¼ˆå”¯ä¸€ç´¢å¼•å†²çªï¼Œä»£è¡¨é‡å¤è¯·æ±‚ï¼‰ï¼Œå…¶ä»–å¼‚å¸¸ï¼ˆæ¯”å¦‚åº“å­˜ä¸è¶³çš„ BizExceptionï¼‰è¦æ­£å¸¸æŠ›å‡ºï¼Œè®©ä¸Šå±‚å¤„ç†ï¼ˆæ¯”å¦‚è¿”å›é”™è¯¯ä¿¡æ¯ç»™ç”¨æˆ·ï¼‰ã€‚</p>
<p>æ ¸å¿ƒåŸåˆ™ï¼šå¹‚ç­‰æ˜¯â€œä¿è¯é‡å¤è¯·æ±‚çš„ç»“æœä¸€è‡´â€ï¼Œè€Œä¸æ˜¯â€œæ©ç›–æ‰€æœ‰å¼‚å¸¸â€ã€‚</p>
<hr/>
<h2 data-id="heading-26">ä¸ƒã€å¹‚ç­‰ä¸åˆ†å¸ƒå¼äº‹åŠ¡ï¼ˆç›¸è¾…ç›¸æˆï¼‰</h2>
<p>å¾ˆå¤šäººä¼šæŠŠâ€œå¹‚ç­‰â€å’Œâ€œåˆ†å¸ƒå¼äº‹åŠ¡â€åˆ†å¼€çœ‹ï¼Œä½†å®é™…ä¸Šï¼Œä¸¤è€…æ˜¯ç›¸è¾…ç›¸æˆçš„â€”â€”æ²¡æœ‰å¹‚ç­‰ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡å°±è·‘ä¸èµ·æ¥ã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºåˆ†å¸ƒå¼äº‹åŠ¡çš„æ ¸å¿ƒæ˜¯â€œè·¨æœåŠ¡çš„åè°ƒâ€ï¼Œè€Œåè°ƒè¿‡ç¨‹ä¸­å¿…ç„¶ä¼šå‡ºç°é‡è¯•ï¼ˆæ¯”å¦‚ Saga æ¨¡å¼çš„è¡¥å¿é‡è¯•ã€TCC æ¨¡å¼çš„ Confirm/Cancel é‡è¯•ï¼‰ã€‚å¦‚æœè¿™äº›é‡è¯•çš„æ¥å£æ²¡æœ‰åšå¹‚ç­‰ï¼Œå°±ä¼šå¯¼è‡´é‡å¤å¤„ç†ï¼Œå¼•å‘æ•°æ®ä¸ä¸€è‡´ã€‚</p>
<p>ä¸‹é¢æ˜¯å¸¸è§åˆ†å¸ƒå¼äº‹åŠ¡åœºæ™¯ä¸­ï¼Œå¹‚ç­‰çš„ä½œç”¨ï¼š</p>





















<table><thead><tr><th>åˆ†å¸ƒå¼äº‹åŠ¡åœºæ™¯</th><th>å¹‚ç­‰çš„ä½œç”¨</th></tr></thead><tbody><tr><td>Saga æ¨¡å¼</td><td>Saga åˆ†ä¸ºâ€œæ­£å‘æµç¨‹â€å’Œâ€œè¡¥å¿æµç¨‹â€ï¼Œå½“æ­£å‘æµç¨‹æŸä¸€æ­¥å¤±è´¥æ—¶ï¼Œä¼šé‡è¯•è¡¥å¿æµç¨‹ï¼›å¦‚æœè¡¥å¿æ¥å£æ²¡æœ‰åšå¹‚ç­‰ï¼Œå¤šæ¬¡è¡¥å¿ä¼šå¯¼è‡´æ•°æ®é”™è¯¯ï¼ˆæ¯”å¦‚é‡å¤é€€æ¬¾ï¼‰</td></tr><tr><td>TCC æ¨¡å¼</td><td>TCC çš„ Confirmï¼ˆç¡®è®¤ï¼‰å’Œ Cancelï¼ˆå–æ¶ˆï¼‰æ¥å£å¯èƒ½å› ç½‘ç»œé—®é¢˜è¢«é‡è¯•ï¼›å¦‚æœè¿™äº›æ¥å£æ²¡æœ‰åšå¹‚ç­‰ï¼Œä¼šå¯¼è‡´é‡å¤æ‰£å‡/é‡Šæ”¾èµ„æºï¼ˆæ¯”å¦‚é‡å¤æ‰£åº“å­˜ï¼‰</td></tr><tr><td>MQ äº‹åŠ¡æ¶ˆæ¯</td><td>äº‹åŠ¡æ¶ˆæ¯çš„â€œæäº¤â€æˆ–â€œå›æ»šâ€å¯èƒ½è¢«é‡è¯•ï¼Œæ¶ˆè´¹ç«¯ä¹Ÿä¼šæ”¶åˆ°é‡å¤æ¶ˆæ¯ï¼›å¹‚ç­‰èƒ½ä¿è¯é‡è¯•å’Œé‡å¤æ¶ˆæ¯ä¸ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´</td></tr></tbody></table>
<p>ä¸€å¥è¯æ€»ç»“ï¼š</p>
<blockquote>
<p><strong>æ²¡æœ‰å¹‚ç­‰ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡è·‘ä¸èµ·æ¥ï¼›æœ‰äº†å¹‚ç­‰ï¼Œåˆ†å¸ƒå¼äº‹åŠ¡æ‰èƒ½æ›´ç¨³å®šã€‚</strong></p>
</blockquote>
<hr/>
<h2 data-id="heading-27">å…«ã€æ¨èçš„ Java æŠ€æœ¯ç»„åˆï¼ˆè½åœ°å‚è€ƒï¼‰</h2>
<p>ç»“åˆå‰é¢çš„æ–¹æ¡ˆï¼Œè¿™é‡Œç»™å‡ºä¸€å¥—å·¥ä¸šç•Œå¸¸ç”¨çš„ Java æŠ€æœ¯ç»„åˆï¼Œè¦†ç›–å¤§éƒ¨åˆ†ä¸šåŠ¡åœºæ™¯ï¼š</p>
<ul>
<li>
<p><strong>æ ¸å¿ƒæ¡†æ¶</strong>ï¼šSpring Boot / Spring Cloudï¼ˆæˆç†Ÿç¨³å®šï¼Œç”Ÿæ€å®Œå–„ï¼‰</p>
</li>
<li>
<p><strong>æ•°æ®å­˜å‚¨</strong>ï¼šMySQLï¼ˆå”¯ä¸€ç´¢å¼• + çŠ¶æ€æœº + å»é‡è¡¨ï¼Œä¿è¯å¼ºä¸€è‡´æ€§ï¼‰</p>
</li>
<li>
<p><strong>ç¼“å­˜</strong>ï¼šRedisï¼ˆToken é˜²é‡å¤æäº¤ + éæ ¸å¿ƒæ¶ˆæ¯å»é‡ï¼Œæå‡æ€§èƒ½ï¼‰</p>
</li>
<li>
<p><strong>æ¶ˆæ¯ä¸­é—´ä»¶</strong>ï¼šRocketMQ / Kafkaï¼ˆæ”¯æŒäº‹åŠ¡æ¶ˆæ¯ï¼Œé€‚é…é«˜å¹¶å‘åœºæ™¯ï¼‰</p>
</li>
<li>
<p><strong>ORM æ¡†æ¶</strong>ï¼šMyBatis-Plusï¼ˆç®€åŒ–æ•°æ®åº“æ“ä½œï¼Œæ”¯æŒä¹è§‚é”æ’ä»¶ï¼‰</p>
</li>
</ul>
<p>ç»éªŒæ€»ç»“ï¼Œè®°ä¸‹æ¥ç›´æ¥ç”¨ï¼š</p>
<blockquote>
<p><strong>æ ¸å¿ƒé“¾è·¯é  DBï¼Œå¤–å›´é˜²æŠ–ç”¨ Redisã€‚</strong></p>
</blockquote>
<ul>
<li>
<p>æ ¸å¿ƒé“¾è·¯ï¼ˆä¸‹å•ã€æ”¯ä»˜ã€é€€æ¬¾ï¼‰ï¼šç”¨â€œå”¯ä¸€ä¸šåŠ¡ ID + å”¯ä¸€ç´¢å¼•â€å…œåº•ï¼Œç»“åˆâ€œçŠ¶æ€æœº + ä¹è§‚é”â€ä¼˜åŒ–å¹¶å‘æ€§èƒ½</p>
</li>
<li>
<p>å¤–å›´é“¾è·¯ï¼ˆè¡¨å•æäº¤ã€é€šçŸ¥æ¨é€ã€æ´»åŠ¨æŠ¥åï¼‰ï¼šç”¨â€œToken + Redisâ€é˜²é‡å¤æäº¤ï¼Œç®€å•é«˜æ•ˆ</p>
</li>
<li>
<p>MQ æ¶ˆè´¹ï¼šæ ¸å¿ƒæ¶ˆæ¯ç”¨â€œæ•°æ®åº“å»é‡è¡¨â€ï¼Œéæ ¸å¿ƒæ¶ˆæ¯ç”¨â€œRedis å»é‡â€</p>
</li>
</ul>
<hr/>
<h2 data-id="heading-28">ä¹ã€æ€»ç»“ï¼ˆæ ¸å¿ƒè§‚ç‚¹å†å¼ºè°ƒï¼‰</h2>
<p>æœ€åç”¨å‡ å¥è¯æ€»ç»“å…¨æ–‡ï¼Œå¸®å¤§å®¶æ¢³ç†æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼š</p>
<ol>
<li>
<p>å¹‚ç­‰ä¸æ˜¯é«˜çº§æŠ€å·§ï¼Œè€Œæ˜¯åˆ†å¸ƒå¼é«˜å¹¶å‘ç³»ç»Ÿçš„â€œå…¥åœºåˆ¸â€â€”â€”ä½ å¯ä»¥æš‚æ—¶æ²¡é‡åˆ°å¹‚ç­‰é—®é¢˜ï¼Œä½†é«˜å¹¶å‘ä¸€å®šä¼šå¸®ä½ é‡åˆ°</p>
</li>
<li>
<p>å¹‚ç­‰çš„æœ¬è´¨æ˜¯â€œåˆ¤æ–­è¯·æ±‚æ˜¯å¦å·²å¤„ç†â€ï¼Œæ ¸å¿ƒæ€è·¯æ˜¯â€œå”¯ä¸€æ ‡è¯†ã€çŠ¶æ€ä¸å¯é€†ã€å»é‡è®°å½•â€</p>
</li>
<li>
<p>4 ç§ä¸»æµæ–¹æ¡ˆå„æœ‰é€‚ç”¨åœºæ™¯ï¼šå”¯ä¸€ç´¢å¼•æœ€ç¨³ï¼ŒçŠ¶æ€æœºé€‚åˆè®¢å•ï¼ŒToken é€‚åˆè¡¨å•ï¼ŒMQ å»é‡åˆ†æ ¸å¿ƒ/éæ ¸å¿ƒ</p>
</li>
<li>
<p>é¿å‘é‡ç‚¹ï¼šåˆ«ç”¨â€œå…ˆæŸ¥åå†™â€ï¼Œå¹‚ç­‰é€»è¾‘è¦åœ¨äº‹åŠ¡é‡Œï¼Œåˆ«æŠŠå¹‚ç­‰å½“æˆåå¼‚å¸¸çš„é®ç¾å¸ƒ</p>
</li>
<li>
<p>æŠ€æœ¯ç»„åˆåŸåˆ™ï¼šæ ¸å¿ƒé“¾è·¯é  DB ä¿è¯å¼ºä¸€è‡´ï¼Œå¤–å›´é“¾è·¯ç”¨ Redis æå‡æ€§èƒ½</p>
</li>
</ol>
<p>æœ€åå†é€å¤§å®¶ä¸€å¥å®æˆ˜æ„Ÿæ‚Ÿï¼š</p>
<blockquote>
<p><strong>åšå¹‚ç­‰ä¸æ˜¯ä¸ºäº†â€œè§£å†³é—®é¢˜â€ï¼Œè€Œæ˜¯ä¸ºäº†â€œé¿å…é—®é¢˜â€â€”â€”åœ¨é«˜å¹¶å‘çš„ä¸–ç•Œé‡Œï¼Œé¢„é˜²æ°¸è¿œæ¯”æ•‘ç«æ›´é‡è¦ã€‚</strong></p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€LangChainå­¦ä¹ ç¬”è®°ã€‘Message]]></title>    <link>https://juejin.cn/post/7593158683411398656</link>    <guid>https://juejin.cn/post/7593158683411398656</guid>    <pubDate>2026-01-09T09:44:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593158683411398656" data-draft-id="7593187953271226368" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€LangChainå­¦ä¹ ç¬”è®°ã€‘Message"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T09:44:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æ³¥ç§è·èŠ±"/> <meta itemprop="url" content="https://juejin.cn/user/4212984289442030"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€LangChainå­¦ä¹ ç¬”è®°ã€‘Message
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4212984289442030/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æ³¥ç§è·èŠ±
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:44:35.000Z" title="Fri Jan 09 2026 09:44:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">æ ¸å¿ƒå®šä¹‰ï¼šMessage æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p><code>Message</code>ï¼ˆæ¶ˆæ¯ï¼‰æ˜¯ <code>LangChain</code> ä¸­å°è£…ç”¨æˆ·è¾“å…¥ã€å¤§æ¨¡å‹è¾“å‡ºã€ç³»ç»ŸæŒ‡ä»¤ç­‰äº¤äº’ä¿¡æ¯çš„æ ‡å‡†åŒ–æ•°æ®ç»“æ„ï¼Œæ˜¯å¤§æ¨¡å‹ä¸å¤–éƒ¨ç»„ä»¶ï¼ˆæç¤ºæ¨¡æ¿ã€è®°å¿†ç»„ä»¶ã€æ™ºèƒ½ä½“ç­‰ï¼‰é—´æ•°æ®ä¼ é€’çš„æ ¸å¿ƒè½½ä½“ã€‚</p>
<p>é€šä¿—ç†è§£ï¼š<code>Message</code> å°±åƒâ€œäº¤äº’å¯¹è¯çš„æ ‡å‡†åŒ–ä¿¡å°â€ï¼Œç”¨æˆ·é—®é¢˜ã€ç³»ç»Ÿè§„åˆ™ã€æ¨¡å‹å›ç­”å‡éœ€å°è£…ä¸ºè¯¥æ ¼å¼ï¼Œæ‰èƒ½åœ¨ LangChain ç”Ÿæ€ç»„ä»¶é—´é¡ºç•…æµè½¬ã€‚</p>
<p>æ ¸å¿ƒä½œç”¨ï¼šç»Ÿä¸€äº¤äº’æ•°æ®æ ¼å¼ï¼Œä¿éšœä¸åŒç»„ä»¶ï¼ˆå¦‚è®°å¿†ç»„ä»¶å­˜å‚¨å¯¹è¯ã€æç¤ºæ¨¡æ¿æ‹¼æ¥ä¸Šä¸‹æ–‡ï¼‰èƒ½æ­£ç¡®è¯†åˆ«å¤„ç†å¯¹è¯ä¿¡æ¯ã€‚</p>
<h2 data-id="heading-1">æ ¸å¿ƒ Message ç±»å‹åŠç”¨é€”</h2>
<p>LangChain å®šä¹‰äº†å¤šç§ Message ç±»å‹é€‚é…ä¸åŒäº¤äº’åœºæ™¯ï¼Œå‡ç»§æ‰¿è‡ª <code>BaseMessage</code> ç±»ï¼Œå…·å¤‡ <code>content</code>ï¼ˆæ¶ˆæ¯å†…å®¹ï¼‰ã€<code>role</code>ï¼ˆè§’è‰²æ ‡è¯†ï¼‰ç­‰ç»Ÿä¸€åŸºç¡€å±æ€§ï¼Œå„ç±»å‹è¯¦æƒ…å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-2">HumanMessageï¼šç”¨æˆ·æ¶ˆæ¯</h3>
<p>â€¢ ç”¨é€”ï¼šå°è£…ç”¨æˆ·é—®é¢˜ã€æŒ‡ä»¤ã€éœ€æ±‚ç­‰è¾“å…¥å†…å®¹ï¼›</p>
<p>â€¢ æ ¸å¿ƒå±æ€§ï¼š</p>
<ul>
<li><code>content: str</code>ï¼šæ ¸å¿ƒè¾“å…¥å†…å®¹ï¼ˆå¿…å¡«ï¼‰ï¼›</li>
<li><code>role: str</code>ï¼šå›ºå®šä¸º <code>"user"</code>ï¼Œæ ‡è¯†ç”¨æˆ·è§’è‰²ï¼›</li>
<li><code>additional_kwargs: dict</code>ï¼ˆå¯é€‰ï¼‰ï¼šå­˜å‚¨ç”¨æˆ·IDã€æ—¶é—´æˆ³ç­‰å…ƒæ•°æ®ã€‚</li>
</ul>
<p>â€¢ ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> HumanMessage

<span class="hljs-comment"># åˆå§‹åŒ–ç”¨æˆ·æ¶ˆæ¯</span>
human_msg = HumanMessage(content=<span class="hljs-string">"è¯·è§£é‡Šä»€ä¹ˆæ˜¯ LangChain Messageï¼Ÿ"</span>)
<span class="hljs-built_in">print</span>(human_msg)
<span class="hljs-comment"># è¾“å‡ºï¼šHumanMessage(content='è¯·è§£é‡Šä»€ä¹ˆæ˜¯ LangChain Messageï¼Ÿ', role='user')</span>
</code></pre>
<h3 data-id="heading-3">AIMessageï¼šå¤§æ¨¡å‹æ¶ˆæ¯</h3>
<p>â€¢ ç”¨é€”ï¼šå°è£…å¤§æ¨¡å‹çš„å›ç­”ã€æ¨ç†è¿‡ç¨‹æˆ–å·¥å…·è°ƒç”¨æŒ‡ä»¤ï¼›</p>
<p>â€¢ æ ¸å¿ƒå±æ€§ï¼š</p>
<ul>
<li><code>content: str</code>ï¼šæ¨¡å‹è¾“å‡ºå†…å®¹ï¼ˆå¿…å¡«ï¼Œå·¥å…·è°ƒç”¨åœºæ™¯å¯ç©ºï¼‰ï¼›</li>
<li><code>role: str</code>ï¼šå›ºå®šä¸º <code>"assistant"</code>ï¼Œæ ‡è¯†æ¨¡å‹è§’è‰²ï¼›</li>
<li><code>additional_kwargs: dict</code>ï¼ˆå¯é€‰ï¼‰ï¼šå·¥å…·è°ƒç”¨åœºæ™¯å«<code>tool_calls</code> å­—æ®µï¼Œå­˜å‚¨å·¥å…·å‚æ•°ä¸è°ƒç”¨IDï¼›</li>
<li><code>tool_calls: List[Dict]</code>ï¼ˆå¯é€‰ï¼‰ï¼šå·¥å…·è°ƒç”¨ä¿¡æ¯åˆ—è¡¨ï¼Œä¸ <code>additional_kwargs["tool_calls"]</code> ç­‰æ•ˆã€‚</li>
</ul>
<p>â€¢ ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> AIMessage

<span class="hljs-comment"># åˆå§‹åŒ–å¤§æ¨¡å‹æ¶ˆæ¯</span>
ai_msg = AIMessage(content=<span class="hljs-string">"LangChain Message æ˜¯æ ‡å‡†åŒ–çš„äº¤äº’æ•°æ®ç»“æ„ï¼Œç”¨äºå°è£…å¯¹è¯ä¿¡æ¯..."</span>)
<span class="hljs-built_in">print</span>(ai_msg)
<span class="hljs-comment"># è¾“å‡ºï¼šAIMessage(content='LangChain Message æ˜¯æ ‡å‡†åŒ–çš„äº¤äº’æ•°æ®ç»“æ„ï¼Œç”¨äºå°è£…å¯¹è¯ä¿¡æ¯...', role='assistant')</span>
</code></pre>
<h3 data-id="heading-4">SystemMessageï¼šç³»ç»Ÿæ¶ˆæ¯</h3>
<p>â€¢ ç”¨é€”ï¼šå°è£…ç³»ç»Ÿçº§æŒ‡ä»¤ï¼ˆå®šä¹‰æ¨¡å‹è§’è‰²ã€è¡Œä¸ºè§„åˆ™ç­‰ï¼‰ï¼Œä»…å¯¹æ¨¡å‹ç”Ÿæ•ˆï¼Œç”¨æˆ·ä¸å¯è§ï¼›</p>
<p>â€¢ æ ¸å¿ƒä½œç”¨ï¼šå¼•å¯¼æ¨¡å‹æŒ‰è§„åˆ™å“åº”ï¼ˆå¦‚â€œä¸“ä¸šPythonå¼€å‘åŠ©æ‰‹â€â€œå›ç­”ä¸è¶…è¿‡3å¥è¯â€ï¼‰ï¼›</p>
<p>â€¢ æ ¸å¿ƒå±æ€§ï¼š</p>
<ul>
<li><code>content: str</code>ï¼šç³»ç»ŸæŒ‡ä»¤å†…å®¹ï¼ˆå¿…å¡«ï¼‰ï¼›</li>
<li><code>role: str</code>ï¼šå›ºå®šä¸º<code>"system"</code>ï¼Œæ ‡è¯†ç³»ç»Ÿè§’è‰²ï¼›</li>
<li><code>additional_kwargs: dict</code>ï¼ˆå¯é€‰ï¼‰ï¼šå­˜å‚¨æŒ‡ä»¤ä¼˜å…ˆçº§ã€ç”Ÿæ•ˆèŒƒå›´ç­‰å…ƒæ•°æ®ã€‚</li>
</ul>
<p>â€¢ ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> SystemMessage

<span class="hljs-comment"># åˆå§‹åŒ–ç³»ç»Ÿæ¶ˆæ¯</span>
system_msg = SystemMessage(content=<span class="hljs-string">"ä½ æ˜¯ä¸“ä¸šçš„LangChainæŠ€æœ¯åŠ©æ‰‹ï¼Œå›ç­”éœ€å‡†ç¡®ã€ç®€æ´ï¼ŒåŸºäºå®˜æ–¹æ–‡æ¡£å†…å®¹ã€‚"</span>)
<span class="hljs-built_in">print</span>(system_msg)
<span class="hljs-comment"># è¾“å‡ºï¼šSystemMessage(content='ä½ æ˜¯ä¸“ä¸šçš„LangChainæŠ€æœ¯åŠ©æ‰‹ï¼Œå›ç­”éœ€å‡†ç¡®ã€ç®€æ´ï¼ŒåŸºäºå®˜æ–¹æ–‡æ¡£å†…å®¹ã€‚', role='system')</span>
</code></pre>
<h3 data-id="heading-5">ToolMessageï¼šå·¥å…·æ¶ˆæ¯</h3>
<p>â€¢ ç”¨é€”ï¼šå°è£…æ•°æ®åº“æŸ¥è¯¢ã€APIè¿”å›ã€æ–‡ä»¶è¯»å–ç­‰å·¥å…·è°ƒç”¨ç»“æœï¼›</p>
<p>â€¢ é€‚ç”¨åœºæ™¯ï¼šæ™ºèƒ½ä½“è°ƒç”¨å·¥å…·åï¼Œç»“æœéœ€å°è£…ä¸ºè¯¥ç±»å‹å›ä¼ æ¨¡å‹ï¼Œä¾›åç»­æ¨ç†ï¼›</p>
<p>â€¢ æ ¸å¿ƒå±æ€§ï¼š</p>
<ul>
<li><code>content: str</code>ï¼šå·¥å…·æ‰§è¡Œç»“æœï¼ˆå¿…å¡«ï¼‰ï¼Œå»ºè®®ç”¨JSONç­‰ç»“æ„åŒ–æ ¼å¼ï¼›</li>
<li><code>role: str</code>ï¼šå›ºå®šä¸º <code>"tool"</code>ï¼Œæ ‡è¯†å·¥å…·è§’è‰²ï¼›</li>
<li><code>tool_call_id: str</code>ï¼ˆå¿…å¡«ï¼‰ï¼šå…³è”å¯¹åº”AIMessageçš„å·¥å…·è°ƒç”¨IDï¼ŒåŒ¹é…â€œè¯·æ±‚-ç»“æœâ€ï¼›</li>
<li><code>additional_kwargs: dict</code>ï¼ˆå¯é€‰ï¼‰ï¼šå­˜å‚¨å·¥å…·åç§°ã€æ‰§è¡Œæ—¶é—´ã€é”™è¯¯ä¿¡æ¯ç­‰ã€‚</li>
</ul>
<p>â€¢ ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> ToolMessage

<span class="hljs-comment"># åˆå§‹åŒ–å·¥å…·æ¶ˆæ¯ï¼ˆæ¨¡æ‹Ÿæ–‡ä»¶è¯»å–ç»“æœï¼‰</span>
tool_msg = ToolMessage(
    content=<span class="hljs-string">'{"filename": "langchain_intro.txt", "content": "LangChain æ˜¯å¤§æ¨¡å‹åº”ç”¨å¼€å‘æ¡†æ¶..."}'</span>,
    tool_call_id=<span class="hljs-string">"call_123"</span>  <span class="hljs-comment"># å…³è”å·¥å…·è°ƒç”¨ID</span>
)
<span class="hljs-built_in">print</span>(tool_msg)
</code></pre>
<h3 data-id="heading-6">FunctionMessageï¼šå‡½æ•°è°ƒç”¨æ¶ˆæ¯</h3>
<p>â€¢ ç”¨é€”ï¼šå°è£…å‡½æ•°è°ƒç”¨çš„è¯·æ±‚æˆ–ç»“æœï¼ˆä¸ToolMessageç±»ä¼¼ï¼Œä¾§é‡é€šç”¨å‡½æ•°åœºæ™¯ï¼‰ï¼›</p>
<p>â€¢ æ ¸å¿ƒå±æ€§ï¼šå« <code>content</code>ï¼ˆè¯·æ±‚/ç»“æœï¼Œå¿…å¡«ï¼‰ã€<code>role="function"</code>ï¼ˆå›ºå®šè§’è‰²ï¼‰ã€<code>name</code>ï¼ˆå‡½æ•°åï¼Œå¿…å¡«ï¼‰ç­‰ï¼›</p>
<p>â€¢ æ³¨æ„ï¼šéƒ¨åˆ†ç‰ˆæœ¬ä¸ToolMessageåˆå¹¶ï¼Œä¼˜å…ˆä½¿ç”¨ToolMessageå¤„ç†å·¥å…·/å‡½æ•°åœºæ™¯ã€‚</p>
<h3 data-id="heading-7">ChatMessageï¼šé€šç”¨èŠå¤©æ¶ˆæ¯</h3>
<p>â€¢ ç”¨é€”ï¼šé€šç”¨å‹æ¶ˆæ¯ï¼Œæ”¯æŒè‡ªå®šä¹‰è§’è‰²ï¼Œé€‚é…éæ ‡å‡†äº¤äº’åœºæ™¯ï¼›</p>
<p>â€¢ æ ¸å¿ƒå±æ€§ï¼š</p>
<ul>
<li><code>content: str</code>ï¼šæ ¸å¿ƒæ¶ˆæ¯å†…å®¹ï¼ˆå¿…å¡«ï¼‰ï¼›</li>
<li><code>role: str</code>ï¼ˆå¿…å¡«ï¼‰ï¼šè‡ªå®šä¹‰è§’è‰²æ ‡è¯†ï¼Œå¦‚â€œadminâ€â€œuser_1â€ï¼›</li>
<li><code>additional_kwargs: dict</code>ï¼ˆå¯é€‰ï¼‰ï¼šå­˜å‚¨è§’è‰²æƒé™ã€æ‰€å±åˆ†ç»„ç­‰å…ƒæ•°æ®ã€‚</li>
</ul>
<p>â€¢ ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> ChatMessage

<span class="hljs-comment"># åˆå§‹åŒ–è‡ªå®šä¹‰è§’è‰²æ¶ˆæ¯</span>
chat_msg = ChatMessage(content=<span class="hljs-string">"è¯·åŒæ­¥æœ€æ–°çš„å¼€å‘æ–‡æ¡£"</span>, role=<span class="hljs-string">"admin"</span>)
<span class="hljs-built_in">print</span>(chat_msg)
<span class="hljs-comment"># è¾“å‡ºï¼šChatMessage(content='è¯·åŒæ­¥æœ€æ–°çš„å¼€å‘æ–‡æ¡£', role='admin')</span>
</code></pre>
<h2 data-id="heading-8">Message çš„å…³é”®ç”¨æ³•åœºæ™¯</h2>
<p><code>Message</code> æ˜¯ <code>LangChain</code> äº¤äº’æ ¸å¿ƒï¼Œæ ¸å¿ƒåº”ç”¨åœºæ™¯åŒ…æ‹¬å¯¹è¯ä¸Šä¸‹æ–‡æ„å»ºã€æ™ºèƒ½ä½“å·¥å…·äº¤äº’ç­‰ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-9">æ„å»ºå¯¹è¯ä¸Šä¸‹æ–‡</h3>
<p>å°†<code>SystemMessage</code>ã€<code>HumanMessage</code>ã€<code>AIMessage</code>æŒ‰é¡ºåºç»„æˆåˆ—è¡¨ä½œä¸ºä¸Šä¸‹æ–‡ä¼ é€’ç»™æ¨¡å‹ï¼Œå³å¯å®ç°å¤šè½®å¯¹è¯ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> langchain_core.messages <span class="hljs-keyword">import</span> SystemMessage, HumanMessage
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> create_agent
<span class="hljs-keyword">from</span> langchain_core.callbacks <span class="hljs-keyword">import</span> StdOutCallbackHandler

<span class="hljs-comment"># æ„å»ºå¯¹è¯ä¸Šä¸‹æ–‡</span>
messages = [
    SystemMessage(content=<span class="hljs-string">"ä½ æ˜¯ç®€æ´çš„æŠ€æœ¯åŠ©æ‰‹ï¼Œå›ç­”ä¸è¶…è¿‡2å¥è¯ã€‚"</span>),
    HumanMessage(content=<span class="hljs-string">"ä»€ä¹ˆæ˜¯ LangChainï¼Ÿ"</span>),
]

<span class="hljs-comment"># åˆå§‹åŒ–æ¨¡å‹</span>
llm = ChatOpenAI(
    model_name=<span class="hljs-string">"qwen-plus"</span>,
    base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
    api_key=<span class="hljs-string">"ä½ çš„API Key"</span>
)

<span class="hljs-comment"># åˆ›å»ºæ™ºèƒ½ä½“å¹¶è°ƒç”¨</span>
agent = create_agent(model=llm, debug=<span class="hljs-literal">True</span>)
response = agent.invoke(
    {<span class="hljs-string">"messages"</span>: messages},
    config={<span class="hljs-string">"callbacks"</span>: [StdOutCallbackHandler()]}
)

<span class="hljs-built_in">print</span>(response)
</code></pre>
<pre><code class="hljs language-python" lang="python">{
    <span class="hljs-string">"messages"</span>: [
        SystemMessage(content=<span class="hljs-string">"ä½ æ˜¯ç®€æ´çš„æŠ€æœ¯åŠ©æ‰‹ï¼Œå›ç­”ä¸è¶…è¿‡2å¥è¯ã€‚"</span>),
        HumanMessage(content=<span class="hljs-string">"ä»€ä¹ˆæ˜¯ LangChainï¼Ÿ"</span>),
        AIMessage(content=<span class="hljs-string">"LangChain æ˜¯æ„å»ºè¯­è¨€æ¨¡å‹åº”ç”¨çš„æ¡†æ¶ï¼Œæ”¯æŒé“¾å¼è°ƒç”¨ã€è®°å¿†ç®¡ç†å’Œå¤–éƒ¨å·¥å…·é›†æˆï¼ŒåŠ©åŠ›é«˜æ•ˆå¼€å‘å¤§æ¨¡å‹åº”ç”¨ã€‚"</span>)
    ]
}
</code></pre>
<h3 data-id="heading-10">æ™ºèƒ½ä½“å·¥å…·äº¤äº’</h3>
<p>æ™ºèƒ½ä½“è°ƒç”¨å·¥å…·æ—¶ï¼Œå·¥å…·è¯·æ±‚å°è£…ä¸ºå«è°ƒç”¨å‚æ•°çš„<code>AIMessage</code>ï¼Œæ‰§è¡Œç»“æœå°è£…ä¸º<code>ToolMessage</code>å›ä¼ ï¼Œæ¨¡å‹åŸºäºç»“æœç»§ç»­æ¨ç†ã€‚å®Œæ•´ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> mcp.server.fastmcp <span class="hljs-keyword">import</span> FastMCP

<span class="hljs-comment"># å®šä¹‰æ•°å­¦è¿ç®—å·¥å…·æœåŠ¡</span>
mcp = FastMCP(<span class="hljs-string">"æ•°å­¦è¿ç®—Tools"</span>)

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params">num1: <span class="hljs-built_in">int</span>, num2: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-keyword">return</span> num1 + num2

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">sub</span>(<span class="hljs-params">num1: <span class="hljs-built_in">int</span>, num2: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-keyword">return</span> num1 - num2

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">mul</span>(<span class="hljs-params">num1: <span class="hljs-built_in">int</span>, num2: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:
    <span class="hljs-keyword">return</span> num1 * num2

<span class="hljs-meta">@mcp.tool()</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">div</span>(<span class="hljs-params">num1: <span class="hljs-built_in">int</span>, num2: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">float</span>:
    <span class="hljs-keyword">return</span> num1 / num2

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    mcp.run(<span class="hljs-string">"stdio"</span>)
</code></pre>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> mcp <span class="hljs-keyword">import</span> StdioServerParameters
<span class="hljs-keyword">from</span> mcp.client.session <span class="hljs-keyword">import</span> ClientSession
<span class="hljs-keyword">from</span> mcp.client.stdio <span class="hljs-keyword">import</span> stdio_client
<span class="hljs-keyword">from</span> langchain_mcp_adapters.client <span class="hljs-keyword">import</span> load_mcp_tools
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">from</span> langchain_openai <span class="hljs-keyword">import</span> ChatOpenAI
<span class="hljs-keyword">from</span> langchain.agents <span class="hljs-keyword">import</span> create_agent
<span class="hljs-keyword">from</span> langchain_core.prompts <span class="hljs-keyword">import</span> ChatPromptTemplate
<span class="hljs-keyword">from</span> langchain_core.callbacks <span class="hljs-keyword">import</span> StdOutCallbackHandler
<span class="hljs-keyword">import</span> asyncio

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">create_mcp_client</span>():
    <span class="hljs-comment"># è¿æ¥å·¥å…·æœåŠ¡</span>
    server_params = StdioServerParameters(
        command=<span class="hljs-string">"python"</span>,
        args=[os.path.join(os.path.dirname(__file__), <span class="hljs-string">"mcp_stdio_server.py"</span>)],
    )
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> stdio_client(server_params) <span class="hljs-keyword">as</span> (read, write):
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> ClientSession(read, write) <span class="hljs-keyword">as</span> session:
            <span class="hljs-keyword">await</span> session.initialize()
            tools = <span class="hljs-keyword">await</span> load_mcp_tools(session)

            <span class="hljs-comment"># åˆå§‹åŒ–æ¨¡å‹ä¸æ™ºèƒ½ä½“</span>
            model = ChatOpenAI(
                model_name=<span class="hljs-string">"qwen-plus"</span>,
                base_url=<span class="hljs-string">"https://dashscope.aliyuncs.com/compatible-mode/v1"</span>,
                api_key=<span class="hljs-string">"ä½ çš„API Key"</span>
            )
            agent = create_agent(model=model, tools=tools, debug=<span class="hljs-literal">True</span>)

            <span class="hljs-comment"># æ„å»ºæç¤ºä¸è¯·æ±‚</span>
            prompt = ChatPromptTemplate.from_messages([
                (<span class="hljs-string">"system"</span>, <span class="hljs-string">"ä½ æ˜¯æ•°å­¦å·¥å…·æ™ºèƒ½ä½“ï¼Œç”¨sum/sub/mul/divè®¡ç®—ï¼Œéµå¾ªå…ˆä¹˜ååŠ ï¼Œä»…è¾“å‡ºæœ€ç»ˆæ•°å€¼ã€‚"</span>),
                (<span class="hljs-string">"human"</span>, <span class="hljs-string">"{expr}"</span>)
            ])
            response = <span class="hljs-keyword">await</span> agent.ainvoke(
                {<span class="hljs-string">"messages"</span>: prompt.format_messages(expr=<span class="hljs-string">"100+200*300"</span>)},
                config={<span class="hljs-string">"callbacks"</span>: [StdOutCallbackHandler()]}
            )

            <span class="hljs-built_in">print</span>(response[<span class="hljs-string">"messages"</span>])

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    asyncio.run(create_mcp_client())
</code></pre>
<pre><code class="hljs language-python" lang="python">{
    <span class="hljs-string">"messages"</span>: [
        SystemMessage(content=<span class="hljs-string">"ä½ æ˜¯æ•°å­¦å·¥å…·æ™ºèƒ½ä½“ã€‚è¯·ä¸¥æ ¼ä½¿ç”¨æä¾›çš„å·¥å…·(sum/sub/mul/div) è®¡ç®—è¡¨è¾¾å¼ï¼Œéµå¾ªå…ˆä¹˜ååŠ çš„è§„åˆ™ï¼Œåªè¾“å‡ºæœ€ç»ˆæ•°å€¼ã€‚"</span>),
        HumanMessage(content=<span class="hljs-string">"100+200*300"</span>),
        AIMessage(
            content=<span class="hljs-string">""</span>,
            tool_calls=[
                {<span class="hljs-string">"name"</span>: <span class="hljs-string">"mul"</span>, <span class="hljs-string">"args"</span>: {<span class="hljs-string">"num1"</span>: <span class="hljs-number">200</span>, <span class="hljs-string">"num2"</span>: <span class="hljs-number">300</span>}, <span class="hljs-string">"type"</span>: <span class="hljs-string">"tool_call"</span>},
                {<span class="hljs-string">"name"</span>: <span class="hljs-string">"sum"</span>, <span class="hljs-string">"args"</span>: {<span class="hljs-string">"num1"</span>: <span class="hljs-number">100</span>, <span class="hljs-string">"num2"</span>: <span class="hljs-number">60000</span>}, <span class="hljs-string">"type"</span>: <span class="hljs-string">"tool_call"</span>}
            ]
        ),
        ToolMessage(content=[{<span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>, <span class="hljs-string">"text"</span>: <span class="hljs-string">"60000"</span>}], name=<span class="hljs-string">"mul"</span>, artifact={<span class="hljs-string">"structured_content"</span>: {<span class="hljs-string">"result"</span>: <span class="hljs-number">60000</span>}}),
        ToolMessage(content=[{<span class="hljs-string">"type"</span>: <span class="hljs-string">"text"</span>, <span class="hljs-string">"text"</span>: <span class="hljs-string">"60100"</span>}], name=<span class="hljs-string">"sum"</span>, artifact={<span class="hljs-string">"structured_content"</span>: {<span class="hljs-string">"result"</span>: <span class="hljs-number">60100</span>}}),
        AIMessage(content=<span class="hljs-string">"60100"</span>)
    ]
}
</code></pre>
<h2 data-id="heading-11">å…³é”®æ³¨æ„äº‹é¡¹</h2>
<ul>
<li><strong>è§’è‰²åŒ¹é…</strong>ï¼šæ¨¡å‹å¯¹è§’è‰²æ•æ„Ÿï¼Œéœ€ç¡®ä¿å„<code>Message</code>è§’è‰²æ ‡è¯†æ­£ç¡®ï¼Œå¦åˆ™å¯èƒ½å“åº”å¼‚å¸¸ï¼›</li>
<li><strong>é¡ºåºå½±å“</strong>ï¼šå¯¹è¯ä¸Šä¸‹æ–‡éœ€æŒ‰æ—¶é—´é¡ºåºæ’åˆ—ï¼ˆç³»ç»Ÿæ¶ˆæ¯åœ¨å‰ï¼Œåç»­ä¸ºç”¨æˆ·-æ¨¡å‹äº¤äº’å†å²ï¼‰ï¼Œé¡ºåºé”™è¯¯å½±å“ä¸Šä¸‹æ–‡ç†è§£ï¼›</li>
<li><strong>å…³è”IDå¿…å¡«</strong>ï¼š<code>ToolMessage</code>å¿…é¡»é€šè¿‡<code>tool_call_id</code>å…³è”å¯¹åº”<code>AIMessage</code>ï¼Œç¡®ä¿â€œè¯·æ±‚-ç»“æœâ€åŒ¹é…ï¼›</li>
<li><strong>åºåˆ—åŒ–å­˜å‚¨</strong>ï¼šæŒä¹…åŒ–å¯¹è¯å†å²å¯é€šè¿‡<code>to_dict()</code>è½¬å­—å…¸å­˜å‚¨ï¼Œè¯»å–æ—¶ç”¨<code>from_dict()</code>ååºåˆ—åŒ–ï¼›</li>
<li><strong>ç‰ˆæœ¬å…¼å®¹</strong>ï¼šæ—§ç‰ˆæœ¬<code>Message</code>ç±»å‹åç§°å¯èƒ½ä¸åŒï¼ˆå¦‚<code>ChatMessageType</code>ï¼‰ï¼Œå»ºè®®ä½¿ç”¨æœ€æ–°<code>langchain_core.messages</code>æ¨¡å—ã€‚</li>
</ul>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p><code>Message</code>æ˜¯<code>LangChain</code>äº¤äº’çš„â€œæ•°æ®æ ¸å¿ƒâ€ï¼Œé€šè¿‡æ ‡å‡†åŒ–è§’è‰²ä¸æ ¼å¼ï¼Œå®ç°ç”¨æˆ·ã€ç³»ç»Ÿã€æ¨¡å‹ã€å·¥å…·é—´çš„é¡ºç•…æµè½¬ã€‚æ ¸å¿ƒéœ€æŒæ¡å„ç±»Messageçš„ç”¨é€”ã€å±æ€§ï¼Œä»¥åŠåœ¨å¯¹è¯ä¸Šä¸‹æ–‡æ„å»ºã€æ™ºèƒ½ä½“å·¥å…·äº¤äº’ä¸­çš„æµè½¬é€»è¾‘ã€‚</p>
<p>æŒæ¡å…¶æ ¸å¿ƒé€»è¾‘ï¼Œå¯æ·±å…¥ç†è§£<code>LangChain</code>ç»„ä»¶äº¤äº’åŸç†ï¼Œä¸ºæ„å»ºå¤æ‚å¯¹è¯ç³»ç»Ÿã€æ™ºèƒ½ä½“åº”ç”¨å¥ å®šåŸºç¡€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨Pythonè½»æ¾ç®¡ç†Wordé¡µè„šï¼šæ‰¹é‡å¤„ç†ä¸å¤šèŠ‚æ–‡æ¡£æŠ€å·§]]></title>    <link>https://juejin.cn/post/7593098101432074294</link>    <guid>https://juejin.cn/post/7593098101432074294</guid>    <pubDate>2026-01-09T09:46:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593098101432074294" data-draft-id="7593098101432057910" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨Pythonè½»æ¾ç®¡ç†Wordé¡µè„šï¼šæ‰¹é‡å¤„ç†ä¸å¤šèŠ‚æ–‡æ¡£æŠ€å·§"/> <meta itemprop="keywords" content="åç«¯,Python"/> <meta itemprop="datePublished" content="2026-01-09T09:46:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·835629078051"/> <meta itemprop="url" content="https://juejin.cn/user/3150554985403516"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨Pythonè½»æ¾ç®¡ç†Wordé¡µè„šï¼šæ‰¹é‡å¤„ç†ä¸å¤šèŠ‚æ–‡æ¡£æŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3150554985403516/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·835629078051
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:46:00.000Z" title="Fri Jan 09 2026 09:46:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e72978089f294ca1a3eb4baa8459d215~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODM1NjI5MDc4MDUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768556760&amp;x-signature=wZ5BYPoBBHGbD3LLJ%2FT7XlbaXpY%3D" alt="Pythonæ’å…¥é¡µè„šåˆ°Wordæ–‡æ¡£" loading="lazy"/></p>
<p>åœ¨æ—¥å¸¸çš„åŠå…¬è‡ªåŠ¨åŒ–ä¸­ï¼Œå¤„ç†Wordæ–‡æ¡£æ˜¯è®¸å¤šäººç»•ä¸å¼€çš„ç¯èŠ‚ã€‚æ— è®ºæ˜¯ç”ŸæˆæŠ¥å‘Šã€åˆåŒï¼Œè¿˜æ˜¯åˆ¶ä½œé¡¹ç›®æ–‡æ¡£ï¼ŒWordéƒ½æ˜¯ä¸€ä¸ªä¸å¯æˆ–ç¼ºçš„å·¥å…·ã€‚ç„¶è€Œï¼Œå½“æ–‡æ¡£æ•°é‡åºå¤§ï¼Œæˆ–è€…éœ€è¦é¢‘ç¹æ›´æ–°æ—¶ï¼Œé‚£äº›çœ‹ä¼¼ç®€å•çš„é‡å¤æ€§ä»»åŠ¡ï¼Œå¦‚æ’å…¥é¡µç ã€ç‰ˆæƒå£°æ˜æˆ–å…¬å¸Logoåˆ°é¡µè„šï¼Œå°±ä¼šå˜å¾—å¼‚å¸¸è€—æ—¶ä¸”å®¹æ˜“å‡ºé”™ã€‚æ‰‹åŠ¨æ“ä½œä¸ä»…æ•ˆç‡ä½ä¸‹ï¼Œè¿˜å¯èƒ½å¯¼è‡´æ ¼å¼ä¸ç»Ÿä¸€ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼ŒPythonä»¥å…¶å¼ºå¤§çš„è‡ªåŠ¨åŒ–èƒ½åŠ›ï¼Œä¸ºæˆ‘ä»¬æä¾›äº†ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚é€šè¿‡ç»“åˆç‰¹å®šçš„æ–‡æ¡£å¤„ç†åº“ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ç¨‹åºæ¥æ‰¹é‡ã€ç²¾ç¡®åœ°æ§åˆ¶Wordæ–‡æ¡£çš„æ¯ä¸€ä¸ªç»†èŠ‚ï¼ŒåŒ…æ‹¬å¤æ‚çš„é¡µè„šè®¾ç½®ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨Pythonï¼Œä»¥ç¼–ç¨‹æ–¹å¼ä¸ºWordæ–‡æ¡£æ·»åŠ ã€å®šåˆ¶å’Œç®¡ç†é¡µè„šï¼Œä»è€Œå°†ä½ ä»ç¹ççš„æ‰‹åŠ¨å·¥ä½œä¸­è§£æ”¾å‡ºæ¥ã€‚</p>
<hr/>
<h2 data-id="heading-0">Pythonç¯å¢ƒé…ç½®ä¸æ–‡æ¡£å¤„ç†åº“ç®€ä»‹</h2>
<p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿Pythonç¯å¢ƒå·²å‡†å¤‡å°±ç»ªï¼Œå¹¶å®‰è£…æˆ‘ä»¬å°†è¦ä½¿ç”¨çš„æ–‡æ¡£å¤„ç†åº“ã€‚è¿™ä¸ªåº“æä¾›äº†ä¸€ç³»åˆ—å¼ºå¤§çš„APIï¼Œè®©Pythonèƒ½å¤Ÿä¸Wordæ–‡æ¡£è¿›è¡Œæ·±åº¦äº¤äº’ã€‚</p>
<p>é¦–å…ˆï¼Œè¯·æ‰“å¼€ä½ çš„ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…æ‰€éœ€åº“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">pip install Spire.Doc
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œä½ å°±å¯ä»¥åœ¨Pythonè„šæœ¬ä¸­å¯¼å…¥å¿…è¦çš„æ¨¡å—è¿›è¡Œæ“ä½œäº†ã€‚</p>
<p>äº†è§£Wordæ–‡æ¡£çš„ç»“æ„å¯¹äºæœ‰æ•ˆå¤„ç†é¡µè„šè‡³å…³é‡è¦ã€‚ä¸€ä¸ªWordæ–‡æ¡£å¯ä»¥åŒ…å«å¤šä¸ªâ€œèŠ‚â€ï¼ˆSectionï¼‰ï¼Œæ¯ä¸ªèŠ‚éƒ½å¯ä»¥æ‹¥æœ‰ç‹¬ç«‹çš„é¡µçœ‰å’Œé¡µè„šã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä¸ºæ–‡æ¡£çš„ä¸åŒéƒ¨åˆ†è®¾ç½®ä¸åŒçš„é¡µè„šæ ·å¼ï¼Œä¾‹å¦‚ï¼Œæ­£æ–‡éƒ¨åˆ†æ˜¾ç¤ºé¡µç ï¼Œè€Œé™„å½•éƒ¨åˆ†æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚</p>
<hr/>
<h2 data-id="heading-1">ä¸ºWordæ–‡æ¡£æ·»åŠ ç®€å•æ–‡æœ¬é¡µè„š</h2>
<p>è®©æˆ‘ä»¬ä»æœ€åŸºç¡€çš„å¼€å§‹ï¼šä¸ºWordæ–‡æ¡£æ’å…¥ç®€å•çš„æ–‡æœ¬é¡µè„šã€‚è¿™é€šå¸¸ç”¨äºæ·»åŠ ç‰ˆæƒä¿¡æ¯ã€æ–‡æ¡£åç§°æˆ–ç®€å•çš„æ—¥æœŸã€‚</p>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªåˆ›å»ºæ–°æ–‡æ¡£å¹¶æ·»åŠ çº¯æ–‡æœ¬é¡µè„šçš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> spire.doc <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">from</span> spire.doc.common <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªæ–°çš„Wordæ–‡æ¡£</span>
document = Document()
section = document.AddSection()

<span class="hljs-comment"># æ·»åŠ ä¸€ä¸ªæ®µè½åˆ°æ–‡æ¡£ï¼Œç¡®ä¿æ–‡æ¡£æœ‰å†…å®¹</span>
paragraph = section.AddParagraph()
paragraph.AppendText(<span class="hljs-string">"è¿™æ˜¯æ–‡æ¡£çš„æ­£æ–‡å†…å®¹ã€‚"</span>)

<span class="hljs-comment"># è·å–ç¬¬ä¸€ä¸ªèŠ‚çš„é¡µè„š</span>
<span class="hljs-comment"># FooterType.FirstPageè¡¨ç¤ºé¦–é¡µé¡µè„šï¼ŒFooterType.EvenPagesè¡¨ç¤ºå¶æ•°é¡µé¡µè„šï¼Œ</span>
<span class="hljs-comment"># FooterType.OddPagesè¡¨ç¤ºå¥‡æ•°é¡µé¡µè„šã€‚å¦‚æœæ–‡æ¡£æ²¡æœ‰è®¾ç½®é¦–é¡µä¸åŒæˆ–å¥‡å¶é¡µä¸åŒï¼Œ</span>
<span class="hljs-comment"># åˆ™ä¿®æ”¹ä»»ä½•ä¸€ä¸ªéƒ½ä¼šå½±å“æ‰€æœ‰é¡µã€‚è¿™é‡Œæˆ‘ä»¬ç›´æ¥è·å–é»˜è®¤é¡µè„šã€‚</span>
footer = section.HeadersFooters.Footer

<span class="hljs-comment"># æ·»åŠ æ–‡æœ¬åˆ°é¡µè„š</span>
footer.AddParagraph().AppendText(<span class="hljs-string">"Copyright Â© 2023 My Company. All Rights Reserved."</span>)

<span class="hljs-comment"># è®¾ç½®é¡µè„šæ–‡æœ¬çš„å¯¹é½æ–¹å¼</span>
<span class="hljs-comment"># è·å–é¡µè„šä¸­çš„ç¬¬ä¸€ä¸ªæ®µè½ï¼Œå¹¶è®¾ç½®å…¶å¯¹é½æ–¹å¼</span>
footer.Paragraphs[<span class="hljs-number">0</span>].Format.HorizontalAlignment = HorizontalAlignment.Right <span class="hljs-comment"># å³å¯¹é½</span>

<span class="hljs-comment"># ä¿å­˜æ–‡æ¡£</span>
document.SaveToFile(<span class="hljs-string">"SimpleTextFooter.docx"</span>, FileFormat.Docx2013)
document.Close()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡æ¡£ 'SimpleTextFooter.docx' å·²ç”Ÿæˆï¼Œå¹¶åŒ…å«æ–‡æœ¬é¡µè„šã€‚"</span>)
</code></pre>
<p><strong>ä»£ç è§£é‡Šï¼š</strong></p>
<ul>
<li><code>document = Document()</code> åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„Wordæ–‡æ¡£å®ä¾‹ã€‚</li>
<li><code>section = document.AddSection()</code> æ·»åŠ äº†ä¸€ä¸ªæ–°çš„èŠ‚ã€‚</li>
<li><code>footer = section.HeadersFooters.Footer</code> è·å–å½“å‰èŠ‚çš„é¡µè„šå¯¹è±¡ã€‚</li>
<li><code>footer.AddParagraph().AppendText(...)</code> åœ¨é¡µè„šä¸­æ·»åŠ ä¸€ä¸ªæ–°çš„æ®µè½å¹¶æ’å…¥æ–‡æœ¬ã€‚</li>
<li><code>footer.Paragraphs[0].Format.HorizontalAlignment = HorizontalAlignment.Right</code> è®¾ç½®äº†é¡µè„šä¸­ç¬¬ä¸€ä¸ªæ®µè½çš„æ°´å¹³å¯¹é½æ–¹å¼ä¸ºå³å¯¹é½ã€‚ä½ ä¹Ÿå¯ä»¥è®¾ç½®ä¸º <code>HorizontalAlignment.Left</code> æˆ– <code>HorizontalAlignment.Center</code>ã€‚</li>
<li><code>document.SaveToFile(...)</code> å°†ä¿®æ”¹åçš„æ–‡æ¡£ä¿å­˜åˆ°æŒ‡å®šè·¯å¾„ã€‚</li>
</ul>
<p>é€šè¿‡è¿™ä¸ªç®€å•çš„ä¾‹å­ï¼Œæˆ‘ä»¬å·²ç»èƒ½å¤Ÿè‡ªåŠ¨åŒ–åœ°ä¸ºWordæ–‡æ¡£æ·»åŠ å›ºå®šæ–‡æœ¬é¡µè„šï¼Œå¤§å¤§æå‡äº†æ•ˆç‡ã€‚</p>
<hr/>
<h2 data-id="heading-2">å®šåˆ¶åŒ–é¡µè„šï¼šé¡µç ã€æ ¼å¼ä¸é«˜çº§æ’ç‰ˆ</h2>
<p>ä»…ä»…æ˜¯çº¯æ–‡æœ¬é¡µè„šå¯èƒ½ä¸è¶³ä»¥æ»¡è¶³æ‰€æœ‰éœ€æ±‚ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬æ›´å¸¸éœ€è¦æ’å…¥åŠ¨æ€é¡µç ï¼Œç”šè‡³åœ¨é¡µè„šä¸­æ··åˆæ–‡æœ¬ã€é¡µç å’Œå›¾ç‰‡ã€‚</p>
<h3 data-id="heading-3">æ’å…¥åŠ¨æ€é¡µç </h3>
<p>é¡µç æ˜¯é¡µè„šæœ€å¸¸è§çš„å…ƒç´ ä¹‹ä¸€ã€‚è¿™ä¸ªåº“æä¾›äº†çµæ´»çš„æ–¹å¼æ¥æ’å…¥å’Œæ ¼å¼åŒ–é¡µç ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> spire.doc <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">from</span> spire.doc.common <span class="hljs-keyword">import</span> *

document = Document()
section = document.AddSection()

<span class="hljs-comment"># æ·»åŠ è¶³å¤Ÿçš„å†…å®¹ä»¥ç”Ÿæˆå¤šé¡µï¼Œæ–¹ä¾¿æŸ¥çœ‹é¡µç æ•ˆæœ</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):
    paragraph = section.AddParagraph()
    paragraph.AppendText(<span class="hljs-string">f"è¿™æ˜¯æ–‡æ¡£çš„ç¬¬ <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span> é¡µå†…å®¹ã€‚"</span>)
    <span class="hljs-keyword">if</span> i &lt; <span class="hljs-number">9</span>: <span class="hljs-comment"># é™¤äº†æœ€åä¸€é¡µï¼Œæ¯é¡µéƒ½æ·»åŠ ä¸€ä¸ªåˆ†é¡µç¬¦</span>
        section.AddPageBreak()

footer = section.HeadersFooters.Footer

<span class="hljs-comment"># æ·»åŠ ä¸€ä¸ªæ®µè½ç”¨äºé¡µç </span>
page_number_paragraph = footer.AddParagraph()

<span class="hljs-comment"># æ’å…¥â€œç¬¬ X é¡µ å…± Y é¡µâ€æ ¼å¼çš„é¡µç </span>
page_number_paragraph.AppendText(<span class="hljs-string">"ç¬¬ "</span>)
page_number_paragraph.AppendField(<span class="hljs-string">"page number"</span>, FieldType.FieldPage) <span class="hljs-comment"># å½“å‰é¡µç </span>
page_number_paragraph.AppendText(<span class="hljs-string">" é¡µ å…± "</span>)
page_number_paragraph.AppendField(<span class="hljs-string">"number of pages"</span>, FieldType.FieldNumPages) <span class="hljs-comment"># æ€»é¡µæ•°</span>
page_number_paragraph.AppendText(<span class="hljs-string">" é¡µ"</span>)

<span class="hljs-comment"># è®¾ç½®é¡µç æ–‡æœ¬çš„å­—ä½“å’Œå¤§å°</span>
<span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> page_number_paragraph.ChildObjects:
    <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(item, TextRange):
        item.CharacterFormat.FontName = <span class="hljs-string">"Arial"</span>
        item.CharacterFormat.FontSize = <span class="hljs-number">10</span>
    <span class="hljs-keyword">elif</span> <span class="hljs-built_in">isinstance</span>(item, Field):
        item.CharacterFormat.FontName = <span class="hljs-string">"Arial"</span>
        item.CharacterFormat.FontSize = <span class="hljs-number">10</span>

<span class="hljs-comment"># è®¾ç½®é¡µç æ®µè½å³å¯¹é½</span>
page_number_paragraph.Format.HorizontalAlignment = HorizontalAlignment.Right

document.SaveToFile(<span class="hljs-string">"PageNumberFooter.docx"</span>, FileFormat.Docx2013)
document.Close()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡æ¡£ 'PageNumberFooter.docx' å·²ç”Ÿæˆï¼Œå¹¶åŒ…å«åŠ¨æ€é¡µç ã€‚"</span>)
</code></pre>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li><code>AppendField("page number", FieldType.FieldPage)</code> æ’å…¥å½“å‰é¡µç ã€‚</li>
<li><code>AppendField("number of pages", FieldType.FieldNumPages)</code> æ’å…¥æ–‡æ¡£æ€»é¡µæ•°ã€‚</li>
<li>é€šè¿‡éå†æ®µè½çš„ <code>ChildObjects</code> å¯ä»¥å¯¹é¡µç ä¸­çš„æ–‡æœ¬å’Œå­—æ®µè¿›è¡Œå•ç‹¬çš„æ ¼å¼è®¾ç½®ã€‚</li>
</ul>
<h3 data-id="heading-4">å¤šå…ƒç´ é¡µè„šï¼šæ–‡æœ¬ä¸é¡µç ç»“åˆ</h3>
<p>åœ¨åŒä¸€ä¸ªé¡µè„šä¸­åŒæ—¶æ˜¾ç¤ºç‰ˆæƒä¿¡æ¯å’Œé¡µç ä¹Ÿæ˜¯å¸¸è§éœ€æ±‚ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> spire.doc <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">from</span> spire.doc.common <span class="hljs-keyword">import</span> *

document = Document()
section = document.AddSection()

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">5</span>):
    section.AddParagraph().AppendText(<span class="hljs-string">f"è¿™æ˜¯å¤šå…ƒç´ é¡µè„šæµ‹è¯•å†…å®¹ <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span>ã€‚"</span>)
    <span class="hljs-keyword">if</span> i &lt; <span class="hljs-number">4</span>:
        section.AddPageBreak()

footer = section.HeadersFooters.Footer

<span class="hljs-comment"># å·¦ä¾§æ·»åŠ ç‰ˆæƒä¿¡æ¯</span>
left_paragraph = footer.AddParagraph()
left_paragraph.AppendText(<span class="hljs-string">"Copyright Â© 2023 My Company"</span>)
left_paragraph.Format.HorizontalAlignment = HorizontalAlignment.Left
left_paragraph.CharacterFormat.FontName = <span class="hljs-string">"Times New Roman"</span>
left_paragraph.CharacterFormat.FontSize = <span class="hljs-number">9</span>

<span class="hljs-comment"># å³ä¾§æ·»åŠ é¡µç </span>
right_paragraph = footer.AddParagraph()
right_paragraph.AppendText(<span class="hljs-string">"Page "</span>)
right_paragraph.AppendField(<span class="hljs-string">"page number"</span>, FieldType.FieldPage)
right_paragraph.AppendText(<span class="hljs-string">" of "</span>)
right_paragraph.AppendField(<span class="hljs-string">"number of pages"</span>, FieldType.FieldNumPages)
right_paragraph.Format.HorizontalAlignment = HorizontalAlignment.Right
right_paragraph.CharacterFormat.FontName = <span class="hljs-string">"Arial"</span>
right_paragraph.CharacterFormat.FontSize = <span class="hljs-number">9</span>

<span class="hljs-comment"># ä¸ºäº†å®ç°å·¦å³å¯¹é½ï¼Œé€šå¸¸éœ€è¦é€šè¿‡è¡¨æ ¼æˆ–å®šä½æ¥ç²¾ç¡®æ§åˆ¶ï¼Œ</span>
<span class="hljs-comment"># ä½†å¯¹äºç®€å•çš„å·¦å³å¸ƒå±€ï¼Œå¯ä»¥åˆ†åˆ«æ·»åŠ æ®µè½å¹¶è®¾ç½®å¯¹é½æ–¹å¼ã€‚</span>
<span class="hljs-comment"># æ›´å¤æ‚çš„å¸ƒå±€å¯èƒ½éœ€è¦å€ŸåŠ©Tableæˆ–Shapeç­‰é«˜çº§å¯¹è±¡ï¼Œè¿™é‡Œåªå±•ç¤ºåŸºæœ¬æ–¹æ³•ã€‚</span>

document.SaveToFile(<span class="hljs-string">"MultiElementFooter.docx"</span>, FileFormat.Docx2013)
document.Close()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡æ¡£ 'MultiElementFooter.docx' å·²ç”Ÿæˆï¼Œå¹¶åŒ…å«å¤šå…ƒç´ é¡µè„šã€‚"</span>)
</code></pre>
<p><strong>æ³¨æ„ï¼š</strong> åœ¨Wordæ–‡æ¡£ä¸­ï¼Œé¡µè„šé€šå¸¸åªæœ‰ä¸€ä¸ªâ€œæ•…äº‹æ¿â€åŒºåŸŸã€‚å¦‚æœéœ€è¦ç²¾ç¡®åœ°å°†å†…å®¹æ”¾ç½®åœ¨é¡µè„šçš„å·¦ä¾§å’Œå³ä¾§ï¼Œæœ€å¥å£®çš„æ–¹æ³•æ˜¯ä½¿ç”¨é¡µè„šä¸­çš„è¡¨æ ¼ï¼ˆTableï¼‰æˆ–æ–‡æœ¬æ¡†ï¼ˆShapeï¼‰ã€‚ä¸Šè¿°ç¤ºä¾‹é€šè¿‡æ·»åŠ ä¸¤ä¸ªç‹¬ç«‹çš„æ®µè½å¹¶è®¾ç½®å¯¹é½æ–¹å¼ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥è¾¾åˆ°è§†è§‰ä¸Šçš„å·¦å³å¸ƒå±€æ•ˆæœï¼Œä½†å¯èƒ½æ— æ³•å®Œç¾å¯¹é½ã€‚</p>
<h3 data-id="heading-5">å›¾ç‰‡é¡µè„š</h3>
<p>åœ¨é¡µè„šä¸­æ’å…¥å…¬å¸Logoæˆ–è£…é¥°æ€§å›¾ç‰‡å¯ä»¥æå‡æ–‡æ¡£çš„ä¸“ä¸šæ€§ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> spire.doc <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">from</span> spire.doc.common <span class="hljs-keyword">import</span> *

document = Document()
section = document.AddSection()
section.AddParagraph().AppendText(<span class="hljs-string">"è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰å›¾ç‰‡é¡µè„šçš„æ–‡æ¡£ã€‚"</span>)

footer = section.HeadersFooters.Footer

<span class="hljs-comment"># æ·»åŠ ä¸€ä¸ªæ®µè½ç”¨äºå›¾ç‰‡</span>
image_paragraph = footer.AddParagraph()

<span class="hljs-comment"># å‡è®¾ä½ æœ‰ä¸€ä¸ªåä¸º 'logo.png' çš„å›¾ç‰‡æ–‡ä»¶</span>
<span class="hljs-comment"># è¯·ç¡®ä¿è¯¥å›¾ç‰‡æ–‡ä»¶å­˜åœ¨äºè„šæœ¬è¿è¡Œçš„åŒçº§ç›®å½•æˆ–æŒ‡å®šå®Œæ•´è·¯å¾„</span>
<span class="hljs-keyword">try</span>:
    picture = image_paragraph.AppendPicture(<span class="hljs-string">"logo.png"</span>)
    <span class="hljs-comment"># è®¾ç½®å›¾ç‰‡å¤§å°</span>
    picture.Width = <span class="hljs-number">50</span>
    picture.Height = <span class="hljs-number">50</span>
    <span class="hljs-comment"># è®¾ç½®å›¾ç‰‡åœ¨é¡µè„šä¸­çš„ä½ç½®å’Œæ–‡å­—ç¯ç»•æ–¹å¼</span>
    picture.TextWrappingStyle = TextWrappingStyle.Behind
    picture.HorizontalOrigin = HorizontalOrigin.Column
    picture.HorizontalAlignment = ShapeHorizontalAlignment.Left
    picture.VerticalOrigin = VerticalOrigin.BottomMargin
    picture.VerticalAlignment = ShapeVerticalAlignment.Bottom
<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ’å…¥å›¾ç‰‡å¤±è´¥ï¼Œè¯·æ£€æŸ¥å›¾ç‰‡è·¯å¾„å’Œæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š<span class="hljs-subst">{e}</span>"</span>)

<span class="hljs-comment"># å¯é€‰ï¼šåœ¨å›¾ç‰‡æ—è¾¹æ·»åŠ æ–‡æœ¬</span>
image_paragraph.AppendText(<span class="hljs-string">"  Confidential Document"</span>)
image_paragraph.CharacterFormat.FontSize = <span class="hljs-number">8</span>

document.SaveToFile(<span class="hljs-string">"ImageFooter.docx"</span>, FileFormat.Docx2013)
document.Close()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡æ¡£ 'ImageFooter.docx' å·²ç”Ÿæˆï¼Œå¹¶åŒ…å«å›¾ç‰‡é¡µè„šã€‚"</span>)
</code></pre>
<p><strong>æç¤ºï¼š</strong> åœ¨æ’å…¥å›¾ç‰‡æ—¶ï¼Œ<code>TextWrappingStyle</code>ã€<code>HorizontalOrigin</code>ã€<code>HorizontalAlignment</code>ã€<code>VerticalOrigin</code> å’Œ <code>VerticalAlignment</code> ç­‰å±æ€§å¯¹äºç²¾ç¡®æ§åˆ¶å›¾ç‰‡åœ¨é¡µè„šä¸­çš„ä½ç½®è‡³å…³é‡è¦ã€‚</p>
<h3 data-id="heading-6">ä¸åŒèŠ‚çš„é¡µè„šä¸æ¸…é™¤é¡µè„š</h3>
<p>å¦‚æœä½ éœ€è¦ä¸ºæ–‡æ¡£çš„ä¸åŒéƒ¨åˆ†è®¾ç½®ä¸åŒçš„é¡µè„šï¼Œå¯ä»¥ä½¿ç”¨å¤šèŠ‚åŠŸèƒ½ã€‚</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">from</span> spire.doc <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">from</span> spire.doc.common <span class="hljs-keyword">import</span> *

document = Document()

<span class="hljs-comment"># ç¬¬ä¸€ä¸ªèŠ‚ï¼šå¸¸è§„å†…å®¹ï¼Œå¸¦é¡µç é¡µè„š</span>
section1 = document.AddSection()
section1.AddParagraph().AppendText(<span class="hljs-string">"è¿™æ˜¯æ–‡æ¡£çš„ç¬¬ä¸€éƒ¨åˆ†ã€‚"</span>)
section1.AddParagraph().AppendText(<span class="hljs-string">"å†…å®¹è¾ƒå°‘ï¼Œä½†æœ‰é¡µç ã€‚"</span>)
footer1 = section1.HeadersFooters.Footer
p1 = footer1.AddParagraph()
p1.AppendText(<span class="hljs-string">"Page "</span>)
p1.AppendField(<span class="hljs-string">"page number"</span>, FieldType.FieldPage)
p1.AppendText(<span class="hljs-string">" of "</span>)
p1.AppendField(<span class="hljs-string">"number of pages"</span>, FieldType.FieldNumPages)
p1.Format.HorizontalAlignment = HorizontalAlignment.Right

<span class="hljs-comment"># æ·»åŠ ä¸€ä¸ªåˆ†é¡µç¬¦ï¼Œå¼€å§‹æ–°çš„èŠ‚</span>
section2 = document.AddSection()
<span class="hljs-comment"># è®¾ç½®æ–°èŠ‚ä¸å‰ä¸€èŠ‚ä¸åŒï¼Œä½¿å…¶æ‹¥æœ‰ç‹¬ç«‹çš„é¡µçœ‰é¡µè„š</span>
section2.PageSetup.DifferentFirstPage = <span class="hljs-literal">False</span> <span class="hljs-comment"># ç¡®ä¿ä¸æ˜¯é¦–é¡µä¸åŒ</span>
section2.PageSetup.OddAndEvenPagesHeaderFooter = <span class="hljs-literal">False</span> <span class="hljs-comment"># ç¡®ä¿ä¸æ˜¯å¥‡å¶é¡µä¸åŒ</span>
section2.PageSetup.RestartPageNumbering = <span class="hljs-literal">True</span> <span class="hljs-comment"># æ–°èŠ‚é‡æ–°å¼€å§‹é¡µç ç¼–å· (å¯é€‰)</span>
section2.PageSetup.PageStartingNumber = <span class="hljs-number">1</span> <span class="hljs-comment"># æ–°èŠ‚ä»ç¬¬1é¡µå¼€å§‹ (é…åˆ RestartPageNumbering)</span>

section2.AddParagraph().AppendText(<span class="hljs-string">"è¿™æ˜¯æ–‡æ¡£çš„ç¬¬äºŒéƒ¨åˆ†ï¼ˆé™„å½•ï¼‰ï¼Œæœ‰ä¸åŒçš„é¡µè„šã€‚"</span>)
footer2 = section2.HeadersFooters.Footer
footer2.AddParagraph().AppendText(<span class="hljs-string">"Appendix - Version 1.0"</span>)
footer2.Paragraphs[<span class="hljs-number">0</span>].Format.HorizontalAlignment = HorizontalAlignment.Center

<span class="hljs-comment"># æ¸…é™¤ç°æœ‰é¡µè„šï¼ˆå¦‚æœéœ€è¦ï¼‰</span>
<span class="hljs-comment"># footer2.Clear() # å¦‚æœæƒ³å®Œå…¨æ¸…ç©ºé¡µè„šå†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨æ­¤æ–¹æ³•</span>

document.SaveToFile(<span class="hljs-string">"MultiSectionFooter.docx"</span>, FileFormat.Docx2013)
document.Close()

<span class="hljs-built_in">print</span>(<span class="hljs-string">"æ–‡æ¡£ 'MultiSectionFooter.docx' å·²ç”Ÿæˆï¼ŒåŒ…å«ä¸åŒèŠ‚çš„é¡µè„šã€‚"</span>)
</code></pre>
<p><strong>é‡ç‚¹ï¼š</strong></p>
<ul>
<li><code>section.AddSection()</code> åˆ›å»ºæ–°èŠ‚ã€‚</li>
<li><code>section.PageSetup.DifferentFirstPage = False</code> å’Œ <code>section.PageSetup.OddAndEvenPagesHeaderFooter = False</code> æ˜¯ç¡®ä¿æ–°èŠ‚å¯ä»¥ç‹¬ç«‹è®¾ç½®é¡µè„šçš„å…³é”®ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼Œæ–°èŠ‚ä¼šç»§æ‰¿å‰ä¸€èŠ‚çš„é¡µçœ‰é¡µè„šè®¾ç½®ï¼‰ã€‚</li>
<li><code>footer.Clear()</code> æ–¹æ³•å¯ä»¥ç”¨äºåˆ é™¤é¡µè„šä¸­çš„æ‰€æœ‰å†…å®¹ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">é¡µè„šå¤„ç†çš„è¿›é˜¶æŠ€å·§ä¸æ³¨æ„äº‹é¡¹</h2>
<p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œé™¤äº†ä¸Šè¿°åŸºæœ¬æ“ä½œï¼Œæˆ‘ä»¬è¿˜éœ€è¦è€ƒè™‘ä¸€äº›è¿›é˜¶æŠ€å·§å’Œæ½œåœ¨é—®é¢˜ã€‚</p>
<ul>
<li><strong>å¤„ç†å¤§å‹æ–‡æ¡£æ—¶çš„æ€§èƒ½ï¼š</strong> å¯¹äºåŒ…å«æˆç™¾ä¸Šåƒé¡µçš„è¶…å¤§å‹Wordæ–‡æ¡£ï¼Œé¢‘ç¹åœ°è¿›è¡Œä¿å­˜æˆ–å¤æ‚çš„æ“ä½œå¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥è€ƒè™‘åˆ†æ‰¹å¤„ç†ã€ä¼˜åŒ–ä»£ç é€»è¾‘ï¼Œæˆ–è€…åœ¨æ“ä½œå®Œæˆåä¸€æ¬¡æ€§ä¿å­˜ã€‚</li>
<li><strong>é¡µè„šå¯è§æ€§ï¼ˆä¾‹å¦‚ï¼Œé¦–é¡µä¸æ˜¾ç¤ºé¡µè„šï¼‰ï¼š</strong> Wordæ–‡æ¡£å…è®¸é¦–é¡µä¸æ˜¾ç¤ºé¡µçœ‰é¡µè„šã€‚å¯ä»¥é€šè¿‡è®¾ç½® <code>section.PageSetup.DifferentFirstPage = True</code> æ¥å®ç°ã€‚ç„¶åï¼Œä½ å¯ä»¥é€šè¿‡ <code>section.HeadersFooters.FirstPageFooter</code> æ¥è®¿é—®å’Œè®¾ç½®é¦–é¡µé¡µè„šï¼ˆæˆ–é€‰æ‹©ä¸è®¾ç½®ä»»ä½•å†…å®¹ï¼‰ã€‚</li>
<li><strong>é”™è¯¯å¤„ç†æœºåˆ¶ï¼š</strong> åœ¨è‡ªåŠ¨åŒ–è„šæœ¬ä¸­ï¼ŒåŠ å…¥å¥å£®çš„é”™è¯¯å¤„ç†æœºåˆ¶è‡³å…³é‡è¦ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ <code>try-except</code> å—æ¥æ•è·æ–‡ä»¶ä¸å­˜åœ¨ã€æƒé™ä¸è¶³æˆ–åº“æ“ä½œå¤±è´¥ç­‰å¼‚å¸¸ï¼Œä»è€Œæé«˜è„šæœ¬çš„ç¨³å®šæ€§ã€‚</li>
<li><strong>ä¸ç°æœ‰é¡µè„šçš„äº¤äº’ï¼š</strong> å¦‚æœæ–‡æ¡£ä¸­å·²ç»å­˜åœ¨é¡µè„šï¼Œä½ æ˜¯æƒ³è¦†ç›–å®ƒï¼Œè¿˜æ˜¯åœ¨ç°æœ‰å†…å®¹åŸºç¡€ä¸Šè¿½åŠ ï¼Ÿé€šå¸¸ï¼Œç›´æ¥ <code>AddParagraph()</code> ä¼šåœ¨ç°æœ‰å†…å®¹åè¿½åŠ ï¼Œè€Œ <code>footer.Clear()</code> ä¼šæ¸…ç©ºæ‰€æœ‰å†…å®¹ã€‚</li>
<li><strong>å…¶ä»–ç›¸å…³åŠŸèƒ½ï¼š</strong> é™¤äº†é¡µè„šï¼Œè¯¥åº“è¿˜æ”¯æŒé¡µçœ‰ã€æ°´å°ã€æ–‡æœ¬æ¡†ã€è¡¨æ ¼ç­‰Wordæ–‡æ¡£çš„å„ç§å…ƒç´ æ“ä½œã€‚ä¸€æ—¦æŒæ¡äº†é¡µè„šçš„è‡ªåŠ¨åŒ–ï¼Œä½ å¯ä»¥è½»æ¾æ‰©å±•åˆ°å…¶ä»–æ–‡æ¡£è‡ªåŠ¨åŒ–ä»»åŠ¡ã€‚</li>
<li><strong>ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¤ç”¨æ€§ï¼š</strong> å»ºè®®å°†å¸¸ç”¨çš„é¡µè„šè®¾ç½®é€»è¾‘å°è£…æˆå‡½æ•°ï¼Œæé«˜ä»£ç çš„æ¨¡å—åŒ–å’Œå¤ç”¨æ€§ã€‚ä¾‹å¦‚ï¼Œåˆ›å»ºä¸€ä¸ª <code>add_page_number_footer(section, alignment)</code> å‡½æ•°ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†è®²è§£å’Œä»£ç ç¤ºä¾‹ï¼Œæˆ‘ä»¬å·²ç»æ·±å…¥äº†è§£äº†å¦‚ä½•åˆ©ç”¨Pythonç»“åˆæ–‡æ¡£å¤„ç†åº“ï¼Œè‡ªåŠ¨åŒ–åœ°åœ¨Wordæ–‡æ¡£ä¸­æ’å…¥ã€å®šåˆ¶å’Œç®¡ç†é¡µè„šã€‚ä»ç®€å•çš„æ–‡æœ¬é¡µè„šåˆ°å¤æ‚çš„é¡µç ã€å›¾ç‰‡å’Œå¤šèŠ‚æ–‡æ¡£å¤„ç†ï¼ŒPythonéƒ½æä¾›äº†å¼ºå¤§è€Œçµæ´»çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>å‘Šåˆ«è¿‡å»æ‰‹åŠ¨è°ƒæ•´é¡µè„šçš„ç¹çï¼Œç°åœ¨ä½ å¯ä»¥ç”¨å‡ è¡ŒPythonä»£ç ï¼Œè½»æ¾å®ç°æ–‡æ¡£é¡µè„šçš„è‡ªåŠ¨åŒ–ç”Ÿæˆå’Œæ‰¹é‡å¤„ç†ï¼Œæå¤§åœ°æå‡ä½ çš„å·¥ä½œæ•ˆç‡å’Œæ–‡æ¡£å¤„ç†çš„å‡†ç¡®æ€§ã€‚æˆ‘é¼“åŠ±ä½ å°†è¿™äº›æŠ€æœ¯åº”ç”¨åˆ°ä½ çš„å®é™…å·¥ä½œä¸­ï¼Œæ¢ç´¢Pythonåœ¨æ–‡æ¡£è‡ªåŠ¨åŒ–é¢†åŸŸçš„æ›´å¤šå¯èƒ½æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ğŸ“š Android Settingsç³»ç»Ÿï¼šå›¾ä¹¦é¦†ç®¡ç†å‘˜çš„æ•…äº‹]]></title>    <link>https://juejin.cn/post/7593145583347859498</link>    <guid>https://juejin.cn/post/7593145583347859498</guid>    <pubDate>2026-01-09T09:54:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593145583347859498" data-draft-id="7593098101432156214" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ğŸ“š Android Settingsç³»ç»Ÿï¼šå›¾ä¹¦é¦†ç®¡ç†å‘˜çš„æ•…äº‹"/> <meta itemprop="keywords" content="Android"/> <meta itemprop="datePublished" content="2026-01-09T09:54:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Androidç«¥è¯é•‡"/> <meta itemprop="url" content="https://juejin.cn/user/2716247406161241"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ğŸ“š Android Settingsç³»ç»Ÿï¼šå›¾ä¹¦é¦†ç®¡ç†å‘˜çš„æ•…äº‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2716247406161241/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Androidç«¥è¯é•‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:54:15.000Z" title="Fri Jan 09 2026 09:54:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ§¸ æ•…äº‹å¼€å§‹ï¼šAndroidç³»ç»Ÿçš„"å›¾ä¹¦é¦†ç®¡ç†å‘˜"</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼ŒAndroidç³»ç»Ÿæ˜¯ä¸€ä¸ªå·¨å¤§çš„å›¾ä¹¦é¦†ï¼Œé‡Œé¢æ”¶è—äº†æˆåƒä¸Šä¸‡æœ¬ä¹¦ç±ï¼ˆç³»ç»Ÿè®¾ç½®ï¼‰ã€‚è¿™äº›ä¹¦ç±è¢«åˆ†ç±»å­˜æ”¾ï¼Œåˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼š</p>
<ol>
<li><strong>GlobalåŒºåŸŸ</strong>ï¼šæ‰€æœ‰è¯»è€…éƒ½èƒ½çœ‹åˆ°çš„é€šç”¨ä¹¦ç±ï¼ˆå¦‚é£è¡Œæ¨¡å¼ã€å¼€å‘é€‰é¡¹ï¼‰</li>
<li><strong>SecureåŒºåŸŸ</strong>ï¼šåªæœ‰ç®¡ç†å‘˜æ‰èƒ½æ¥è§¦çš„æ•æ„Ÿä¹¦ç±ï¼ˆå¦‚ä½ç½®æœåŠ¡ã€ç”Ÿç‰©è¯†åˆ«ï¼‰</li>
<li><strong>SystemåŒºåŸŸ</strong>ï¼šæ™®é€šè¯»è€…å¯ä»¥å€Ÿé˜…çš„æ—¥å¸¸ä¹¦ç±ï¼ˆå¦‚å±å¹•äº®åº¦ã€è¶…æ—¶è®¾ç½®ï¼‰</li>
</ol>
<p>åœ¨è¿™ä¸ªå›¾ä¹¦é¦†é‡Œï¼Œ<strong>SettingsProvider</strong>å°±æ˜¯é‚£ä¸ªè´Ÿè´£ç®¡ç†æ‰€æœ‰ä¹¦ç±çš„<strong>ç®¡ç†å‘˜</strong>ã€‚å½“åº”ç”¨æƒ³è¦æŸ¥çœ‹æˆ–ä¿®æ”¹æŸæœ¬ä¹¦çš„å†…å®¹æ—¶ï¼Œ<strong>ä¸èƒ½ç›´æ¥å»ä¹¦æ¶ä¸Šç¿»é˜…</strong>ï¼Œå¿…é¡»<strong>é€šè¿‡ç®¡ç†å‘˜</strong>æ¥æ“ä½œã€‚</p>
<h2 data-id="heading-1">ğŸ§‘â€ğŸ’» ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥æ“ä½œæ•°æ®åº“ï¼Ÿ</h2>
<p>åœ¨Androidç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿè®¾ç½®æ•°æ®å­˜å‚¨åœ¨<code>/data/system/users/0/</code>ç›®å½•ä¸‹çš„XMLæ–‡ä»¶ä¸­ï¼ˆå¦‚<code>settings_system.xml</code>ã€<code>settings_global.xml</code>ã€<code>settings_secure.xml</code>ï¼‰ã€‚ä½†<strong>ç›´æ¥æ“ä½œè¿™äº›æ–‡ä»¶æ˜¯å±é™©çš„</strong>ï¼Œå°±åƒä½ ä¸èƒ½ç›´æ¥å»å›¾ä¹¦é¦†çš„åå°ä¿®æ”¹ä¹¦æ¶ä¸Šçš„æ ‡ç­¾ä¸€æ ·ã€‚</p>
<p>ç³»ç»Ÿè®¾è®¡è€…èªæ˜åœ°å°†è¿™äº›è®¾ç½®å°è£…åœ¨<strong>ContentProvider</strong>ä¸­ï¼Œé€šè¿‡<strong>ContentResolver</strong>æ¥å£æä¾›å®‰å…¨çš„è®¿é—®æ–¹å¼ã€‚è¿™å°±åƒå›¾ä¹¦é¦†ç®¡ç†å‘˜ï¼Œåªå…è®¸è¯»è€…é€šè¿‡å€Ÿé˜…å•ï¼ˆContentResolverï¼‰æ¥å€Ÿé˜…ä¹¦ç±ï¼ˆSettingsï¼‰ï¼Œè€Œä¸èƒ½ç›´æ¥æ¥è§¦ä¹¦æ¶ã€‚</p>
<h2 data-id="heading-2">ğŸ“Œ æ ¸å¿ƒåŸç†ï¼šContentProviderä¸ContentResolver</h2>
<p><strong>SettingsProvider</strong>æ˜¯Androidæ¡†æ¶ä¸­çš„ä¸€ä¸ªContentProviderï¼Œå®ƒè´Ÿè´£ç®¡ç†Settingsæ•°æ®åº“ã€‚å½“åº”ç”¨æƒ³è¦è¯»å–æˆ–ä¿®æ”¹è®¾ç½®æ—¶ï¼Œéœ€è¦é€šè¿‡<strong>ContentResolver</strong>å‘SettingsProviderå‘å‡ºè¯·æ±‚ã€‚</p>
<p>è¿™å°±åƒä½ å»å›¾ä¹¦é¦†å€Ÿä¹¦ï¼š</p>
<ol>
<li>ä½ å‘ç®¡ç†å‘˜ï¼ˆContentResolverï¼‰æå‡ºè¯·æ±‚ï¼š"æˆ‘æƒ³å€Ÿã€Šå±å¹•äº®åº¦è°ƒæ•´æŒ‡å—ã€‹"</li>
<li>ç®¡ç†å‘˜æ£€æŸ¥ä½ çš„æƒé™</li>
<li>å¦‚æœæƒé™å…è®¸ï¼Œç®¡ç†å‘˜ä»ä¹¦æ¶ï¼ˆæ•°æ®åº“ï¼‰ä¸­å–å‡ºä¹¦ï¼ˆè®¾ç½®å€¼ï¼‰</li>
<li>ä½ æ‹¿åˆ°ä¹¦ï¼ˆè®¾ç½®å€¼ï¼‰ï¼Œå¹¶æŒ‰è¦æ±‚é˜…è¯»/ä¿®æ”¹</li>
</ol>
<h2 data-id="heading-3">ğŸ§ª ä»£ç ç¤ºä¾‹ï¼šå¦‚ä½•"å€Ÿé˜…"å’Œ"å½’è¿˜"ä¹¦ç±</h2>
<h3 data-id="heading-4">1. è¯»å–è®¾ç½®ï¼ˆè·å–ä¹¦ç±ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æƒ³è¦è·å–å±å¹•è¶…æ—¶è®¾ç½®ï¼ˆä¹¦åï¼šscreen_off_timeoutï¼‰</span>
<span class="hljs-type">int</span> <span class="hljs-variable">screenTimeout</span> <span class="hljs-operator">=</span> Settings.System.getInt(
    getContentResolver(), 
    Settings.System.SCREEN_OFF_TIMEOUT, 
    <span class="hljs-number">30000</span> <span class="hljs-comment">// é»˜è®¤å€¼ï¼Œå¦‚æœæ‰¾ä¸åˆ°è®¾ç½®åˆ™è¿”å›30ç§’</span>
);
</code></pre>
<h3 data-id="heading-5">2. å†™å…¥è®¾ç½®ï¼ˆä¿®æ”¹ä¹¦ç±å†…å®¹ï¼‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¿®æ”¹å±å¹•è¶…æ—¶è®¾ç½®ä¸º120ç§’ï¼ˆä¹¦åï¼šscreen_off_timeoutï¼‰</span>
<span class="hljs-comment">// æ³¨æ„ï¼šéœ€è¦WRITE_SETTINGSæƒé™</span>
<span class="hljs-keyword">if</span> (Settings.System.canWrite(<span class="hljs-built_in">this</span>)) {
    Settings.System.putInt(
        getContentResolver(),
        Settings.System.SCREEN_OFF_TIMEOUT,
        <span class="hljs-number">120000</span> <span class="hljs-comment">// 120ç§’</span>
    );
} <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// è¯·æ±‚æƒé™</span>
    <span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(Settings.ACTION_MANAGE_WRITE_SETTINGS);
    intent.setData(Uri.parse(<span class="hljs-string">"package:"</span> + getPackageName()));
    startActivityForResult(intent, REQUEST_WRITE_SETTINGS);
}
</code></pre>
<h2 data-id="heading-6">ğŸ” æƒé™ç³»ç»Ÿï¼šå›¾ä¹¦é¦†çš„ä¿å®‰</h2>
<p>åœ¨å›¾ä¹¦é¦†ä¸­ï¼Œä¸åŒåŒºåŸŸçš„ä¹¦ç±æœ‰ä¸åŒçš„è®¿é—®æƒé™ï¼š</p>
<p>è¡¨æ ¼</p>

























<table><thead><tr><th>åŒºåŸŸ</th><th>è®¿é—®æƒé™</th><th>ä¸¾ä¾‹</th></tr></thead><tbody><tr><td>Global</td><td>ä»»ä½•åº”ç”¨</td><td>é£è¡Œæ¨¡å¼</td></tr><tr><td>System</td><td>éœ€è¦WRITE_SETTINGSæƒé™</td><td>å±å¹•äº®åº¦ã€è¶…æ—¶</td></tr><tr><td>Secure</td><td>éœ€è¦ç³»ç»Ÿç­¾å/ç³»ç»Ÿåº”ç”¨æƒé™</td><td>ä½ç½®æœåŠ¡ã€ç”Ÿç‰©è¯†åˆ«</td></tr></tbody></table>
<p>å°±åƒå›¾ä¹¦é¦†ä¿å®‰ä¸€æ ·ï¼ŒAndroidç³»ç»Ÿä¼šæ£€æŸ¥ä½ çš„"è¯»è€…è¯"ï¼ˆæƒé™ï¼‰æ˜¯å¦å…è®¸ä½ è¿›å…¥ç‰¹å®šåŒºåŸŸã€‚</p>
<h2 data-id="heading-7">ğŸ“… æ—¶åºå›¾ï¼šæ•´ä¸ªè°ƒç”¨è¿‡ç¨‹</h2>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ—¶åºå›¾ï¼Œæè¿°äº†ä»åº”ç”¨è°ƒç”¨<code>Settings.System.putInt</code>åˆ°ç³»ç»Ÿè®¾ç½®è¢«ä¿®æ”¹çš„å…¨è¿‡ç¨‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/dc57735953e34cb1ad342f5978a814a7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQW5kcm9pZOerpeivnemVhw==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768557255&amp;x-signature=fqbIP18vG0nBJxhUGMVcWzifgb0%3D" alt="tongyi-mermaid-2026-01-09-175254.png" loading="lazy"/></p>
<h2 data-id="heading-8">ğŸŒ è¯¦ç»†è¿‡ç¨‹è§£æ</h2>
<ol>
<li>
<p><strong>åº”ç”¨å‘èµ·è¯·æ±‚</strong>ï¼šåº”ç”¨è°ƒç”¨<code>Settings.System.putInt()</code>æ–¹æ³•ï¼Œä¼ é€’éœ€è¦è®¾ç½®çš„é”®ï¼ˆå¦‚<code>SCREEN_OFF_TIMEOUT</code>ï¼‰å’Œå€¼ï¼ˆ120000ï¼‰ã€‚</p>
</li>
<li>
<p><strong>æƒé™æ£€æŸ¥</strong>ï¼š<code>Settings.System.putInt()</code>å†…éƒ¨ä¼šæ£€æŸ¥åº”ç”¨æ˜¯å¦æ‹¥æœ‰<code>WRITE_SETTINGS</code>æƒé™ï¼ˆAndroid 6.0+éœ€è¦åŠ¨æ€ç”³è¯·ï¼‰ã€‚</p>
</li>
<li>
<p><strong>ContentResolverè½¬å‘</strong>ï¼šå¦‚æœæƒé™æ£€æŸ¥é€šè¿‡ï¼ŒContentResolverä¼šå°†è¯·æ±‚è½¬å‘ç»™SettingsProviderã€‚</p>
</li>
<li>
<p><strong>SettingsProviderå¤„ç†</strong>ï¼š</p>
<ul>
<li>é€šè¿‡<code>ContentResolver</code>çš„<code>insert()</code>æˆ–<code>update()</code>æ–¹æ³•</li>
<li>æ£€æŸ¥æƒé™ï¼ˆå¯¹äºSecureåŸŸï¼Œéœ€è¦ç³»ç»Ÿç­¾åï¼‰</li>
<li>åœ¨å†…å­˜ä¸­æ›´æ–°è®¾ç½®</li>
<li>å°†æ›´æ–°å†™å…¥XMLæ–‡ä»¶ï¼ˆå¦‚<code>settings_system.xml</code>ï¼‰</li>
</ul>
</li>
<li>
<p><strong>æ•°æ®æŒä¹…åŒ–</strong>ï¼šSettingsProviderå°†æ›´æ–°ä¿å­˜åˆ°å¯¹åº”çš„XMLæ–‡ä»¶ä¸­ï¼Œç³»ç»Ÿé‡å¯åä¼šè‡ªåŠ¨åŠ è½½è¿™äº›è®¾ç½®ã€‚</p>
</li>
</ol>
<h2 data-id="heading-9">ğŸ’¡ ä¸ºä»€ä¹ˆä¸èƒ½ç›´æ¥æ“ä½œXMLæ–‡ä»¶ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ ç›´æ¥å»å›¾ä¹¦é¦†çš„åå°ä¿®æ”¹ä¹¦æ¶æ ‡ç­¾ï¼š</p>
<ul>
<li>ä½ å¯èƒ½ä¼šä¸å°å¿ƒä¿®æ”¹é”™è¯¯çš„æ ‡ç­¾</li>
<li>ä½ å¯èƒ½ä¼šåœ¨å›¾ä¹¦é¦†ç¹å¿™æ—¶è¿›è¡Œä¿®æ”¹ï¼Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´</li>
<li>æ²¡æœ‰æƒé™æ£€æŸ¥ï¼Œä»»ä½•äººéƒ½å¯ä»¥éšæ„ä¿®æ”¹</li>
</ul>
<p>é€šè¿‡SettingsProviderï¼Œç³»ç»Ÿç¡®ä¿äº†ï¼š</p>
<ol>
<li>æ‰€æœ‰ä¿®æ”¹éƒ½ç»è¿‡æƒé™æ£€æŸ¥</li>
<li>æ‰€æœ‰ä¿®æ”¹éƒ½é€šè¿‡ä¸€è‡´çš„APIè¿›è¡Œ</li>
<li>ç³»ç»Ÿå¯ä»¥ç›‘æ§å’Œè®°å½•æ‰€æœ‰è®¾ç½®å˜æ›´</li>
</ol>
<h2 data-id="heading-10">ğŸ§ª å®é™…æ¡ˆä¾‹ï¼šå¼€æœºè‡ªåŠ¨è®¾ç½®</h2>
<p>å‡è®¾æˆ‘ä»¬éœ€è¦åœ¨è®¾å¤‡å¼€æœºåè‡ªåŠ¨å…³é—­é£è¡Œæ¨¡å¼ï¼Œå¯ä»¥åœ¨<code>init.rc</code>ä¸­æ·»åŠ è„šæœ¬ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åœ¨init.rcä¸­æ·»åŠ </span>
on property:dev.bootcomplete=1
    <span class="hljs-built_in">exec</span> /system/bin/set_flight_mode.sh
</code></pre>
<p><code>/system/bin/set_flight_mode.sh</code>è„šæœ¬å†…å®¹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-meta">#!/system/bin/sh</span>
<span class="hljs-built_in">sleep</span> 10  <span class="hljs-comment"># ç­‰å¾…ç³»ç»ŸæœåŠ¡å¯åŠ¨</span>
settings put global airplane_mode_on 0
</code></pre>
<p>è¿™ä¸ªè„šæœ¬åœ¨ç³»ç»Ÿå¯åŠ¨å®Œæˆåæ‰§è¡Œï¼Œé€šè¿‡<code>settings put</code>å‘½ä»¤ä¿®æ”¹é£è¡Œæ¨¡å¼è®¾ç½®ã€‚</p>
<h2 data-id="heading-11">ğŸ“Œ é‡è¦æ€»ç»“</h2>
<ol>
<li><strong>SettingsProvideræ˜¯ContentProvider</strong>ï¼šå®ƒé€šè¿‡ContentResolveræä¾›å®‰å…¨çš„è®¿é—®æ¥å£</li>
<li><strong>æƒé™è‡³å…³é‡è¦</strong>ï¼šä¸åŒè®¾ç½®åŸŸéœ€è¦ä¸åŒæƒé™</li>
<li><strong>ä¸èƒ½ç›´æ¥æ“ä½œæ–‡ä»¶</strong>ï¼šå¿…é¡»é€šè¿‡ContentProvider</li>
<li><strong>ç³»ç»Ÿé‡å¯åè‡ªåŠ¨åŠ è½½</strong>ï¼šè®¾ç½®å€¼ä¼šæŒä¹…åŒ–åˆ°XMLæ–‡ä»¶</li>
<li><strong>Android 6.0+éœ€è¦åŠ¨æ€æƒé™</strong>ï¼šWRITE_SETTINGSæƒé™éœ€è¦ç”¨æˆ·æ‰‹åŠ¨æˆæƒ</li>
</ol>
<h2 data-id="heading-12">ğŸ’¬ ç³»ç»Ÿæ¶æ„å¸ˆçš„å»ºè®®</h2>
<p>ä½œä¸ºAndroidç³»ç»Ÿæ¶æ„å¸ˆï¼Œæˆ‘ç»å¸¸å¯¹æ–°æ¥çš„å¼€å‘è€…è¯´ï¼š"<strong>ä¸è¦è¯•å›¾ç»•è¿‡SettingsProviderç›´æ¥ä¿®æ”¹è®¾ç½®ï¼Œè¿™å°±åƒè¯•å›¾ç»•è¿‡å›¾ä¹¦é¦†ç®¡ç†å‘˜ç›´æ¥ä¿®æ”¹ä¹¦æ¶æ ‡ç­¾â€”â€”çœ‹ä¼¼ç®€å•ï¼Œå®åˆ™å±é™©ã€‚</strong> "</p>
<p>è®°ä½ï¼šAndroidçš„ç³»ç»Ÿè®¾è®¡æœ‰å…¶æ·±æ„ï¼Œéµå¾ªå®˜æ–¹APIä¸ä»…èƒ½ä¿è¯åº”ç”¨çš„ç¨³å®šæ€§ï¼Œè¿˜èƒ½ç¡®ä¿åº”ç”¨åœ¨ä¸åŒAndroidç‰ˆæœ¬ä¸Šçš„å…¼å®¹æ€§ã€‚</p>
<p>ç°åœ¨ï¼Œä½ å·²ç»æŒæ¡äº†Settingsç³»ç»Ÿçš„æ ¸å¿ƒåŸç†ï¼Œå¯ä»¥åƒå›¾ä¹¦é¦†ç®¡ç†å‘˜ä¸€æ ·ï¼Œå®‰å…¨ã€é«˜æ•ˆåœ°ç®¡ç†Androidç³»ç»Ÿçš„å„ç§è®¾ç½®å•¦ï¼ğŸ“šâœ¨</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[npm pack ä¸€é”®æ„å»ºnpmç¦»çº¿åŒ…]]></title>    <link>https://juejin.cn/post/7593171168258506761</link>    <guid>https://juejin.cn/post/7593171168258506761</guid>    <pubDate>2026-01-09T08:42:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593171168258506761" data-draft-id="7592996072706228274" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="npm pack ä¸€é”®æ„å»ºnpmç¦»çº¿åŒ…"/> <meta itemprop="keywords" content="NPM"/> <meta itemprop="datePublished" content="2026-01-09T08:42:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°±çŸ¥é“ä½ æ˜¯æˆå¿ƒçš„"/> <meta itemprop="url" content="https://juejin.cn/user/1480370650090200"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            npm pack ä¸€é”®æ„å»ºnpmç¦»çº¿åŒ…
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1480370650090200/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°±çŸ¥é“ä½ æ˜¯æˆå¿ƒçš„
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:42:42.000Z" title="Fri Jan 09 2026 08:42:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>npm pack å‘½ä»¤</strong></p>
<p>npm pack å‘½ä»¤æ˜¯ npm åŒ…ç®¡ç†å™¨çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œä¸“é—¨ç”¨äºç”Ÿæˆç¦»çº¿ npm æ¨¡å—æˆ–ä¾èµ–åŒ…ã€‚å®ƒçš„å·¥ä½œåŸç†ååˆ†ç®€å•ï¼šå®ƒä¼šéå† node_modules ç›®å½•ï¼ŒæŸ¥æ‰¾æ‰€æœ‰ package.json æ–‡ä»¶ï¼Œå¹¶æ‰§è¡Œ npm pack å‘½ä»¤ç”Ÿæˆå‹ç¼©æ–‡ä»¶ã€‚è¿™äº›å‹ç¼©æ–‡ä»¶åŒ…å«äº†æ¨¡å—åŠå…¶æ‰€æœ‰ä¾èµ–é¡¹ï¼Œå¯ä»¥ç‹¬ç«‹äº npm ä»“åº“è¿›è¡Œå®‰è£…å’Œä½¿ç”¨ã€‚</p>
<p><code>my-app/scripts</code></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/eac6666c4bac4d6e892c62ce990e3aa4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCx55-l6YGT5L2g5piv5oiQ5b-D55qE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552962&amp;x-signature=FCqXZBdsyBwX0McIItdaUhLLcKM%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-0"><code>build.sh</code>æ–‡ä»¶</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4284d5df76fd450abc92ba4eae184a0d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCx55-l6YGT5L2g5piv5oiQ5b-D55qE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552962&amp;x-signature=j5hh1O4SYhQiYG%2FacqXyOIxr6UA%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-shell" lang="shell">set -e  # é‡åˆ°é”™è¯¯ç«‹å³é€€å‡º

curDir=$(readlink -f "$(dirname "$0")")

cd $curDir/../

echo "ğŸ“¦ å®‰è£…ä¾èµ–..."

yarn

echo "ğŸ”¨ å¼€å§‹æ„å»º..."

yarn build

echo "âœ… æ„å»ºå®Œæˆï¼"
</code></pre>
<p>è¿™å‡ è¡Œä»£ç æ˜¯ä¸€ä¸ª<strong>é¡¹ç›®æ„å»ºè‡ªåŠ¨åŒ–è„šæœ¬</strong>ï¼Œå®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯ï¼š</p>
<ol>
<li><strong>æ™ºèƒ½å®šä½</strong>ï¼šè‡ªåŠ¨æ‰¾åˆ°è„šæœ¬æ‰€åœ¨çš„å‡†ç¡®ä½ç½®</li>
<li><strong>ç›®å½•åˆ‡æ¢</strong>ï¼šç¡®ä¿åœ¨æ­£ç¡®çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œ</li>
<li><strong>ä¾èµ–ç®¡ç†</strong>ï¼šè‡ªåŠ¨å®‰è£…é¡¹ç›®æ‰€éœ€çš„æ‰€æœ‰ä¾èµ–</li>
<li><strong>æ„å»ºæ‰§è¡Œ</strong>ï¼šè¿è¡Œé¡¹ç›®çš„æ„å»ºæµç¨‹</li>
</ol>
<h2 data-id="heading-1"><code>pack.sh</code> æ–‡ä»¶</h2>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e45948f3f504b658c46649a0f108a18~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCx55-l6YGT5L2g5piv5oiQ5b-D55qE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552962&amp;x-signature=Lbl6LAs0JDUc9VbV%2BoO898YEXP0%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-shell" lang="shell"><span class="hljs-meta prompt_">#</span><span class="bash">!/bin/bash</span>
<span class="hljs-meta prompt_">
# </span><span class="bash">é”™è¯¯æ—¶ç«‹å³é€€å‡º</span>
set -e
<span class="hljs-meta prompt_">
# </span><span class="bash">è·å–è„šæœ¬æ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„</span>
curDir=$(readlink -f "$(dirname "$0")")

echo "ğŸš€ å¼€å§‹æ‰“åŒ…æµç¨‹..."
echo "å½“å‰è„šæœ¬ç›®å½•: $curDir"
<span class="hljs-meta prompt_">
# </span><span class="bash">1. é‡æ–°ç¼–è¯‘é¡¹ç›®</span>
echo "ğŸ”„ é‡æ–°ç¼–è¯‘é¡¹ç›®..."
sh $curDir/build.sh
<span class="hljs-meta prompt_">
# </span><span class="bash">2. æ›´æ–°ç‰ˆæœ¬å·ä¸ºé¢„å‘å¸ƒç‰ˆæœ¬</span>
echo "ğŸ“¦ æ›´æ–°ç‰ˆæœ¬å·..."
npm version prerelease --preid=alpha --no-git-tag-version
current_version=$(node -p "require('$curDir/../package.json').version")
echo "æ–°ç‰ˆæœ¬å·: $current_version"
<span class="hljs-meta prompt_">
# </span><span class="bash">3. å¤åˆ¶ package.json åˆ° dist ç›®å½•</span>
echo "ğŸ“ å¤åˆ¶ package.json..."
cp $curDir/../package.json $curDir/../dist/
<span class="hljs-meta prompt_">
# </span><span class="bash">4. è¿›å…¥ dist ç›®å½•</span>
cd $curDir/../dist
echo "åˆ‡æ¢åˆ°ç›®å½•: $(pwd)"
<span class="hljs-meta prompt_">
# </span><span class="bash">5. ä¿®æ”¹ç‰ˆæœ¬å·ï¼Œæ·»åŠ æœ¬åœ°æ—¶é—´æˆ³</span>
echo "â° æ·»åŠ æœ¬åœ°æ—¶é—´æˆ³..."
timestamp=$(date +%Y%m%d%H%M%S)
echo "æ—¶é—´æˆ³: $timestamp"
<span class="hljs-meta prompt_">
# </span><span class="bash">ä¿®æ­£ sed å‘½ä»¤ï¼Œæ­£ç¡®çš„æ­£åˆ™è¡¨è¾¾å¼</span>
sed -i "s/\"version\": \".*-alpha\.[0-9]*\"/&amp;.local.$timestamp/" package.json
<span class="hljs-meta prompt_">
# </span><span class="bash">éªŒè¯ä¿®æ”¹ç»“æœ</span>
final_version=$(node -p "require('./package.json').version")
echo "æœ€ç»ˆç‰ˆæœ¬å·: $final_version"
<span class="hljs-meta prompt_">
# </span><span class="bash">6. æ‰“åŒ…</span>
echo "ğŸ“¦ å¼€å§‹æ‰“åŒ…..."
npm pack
<span class="hljs-meta prompt_">
# </span><span class="bash">æ˜¾ç¤ºç”Ÿæˆçš„æ–‡ä»¶</span>
echo "âœ… æ‰“åŒ…å®Œæˆï¼ç”Ÿæˆæ–‡ä»¶:"
ls -la *.tgz
</code></pre>
<p><code>pubilsh.sh</code>æ–‡ä»¶</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8cded9bcb2db4806903bc264eb08d1d5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCx55-l6YGT5L2g5piv5oiQ5b-D55qE:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552962&amp;x-signature=CE5Fi7EWJQGTRVfIR8RGJPrbSp0%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€æ¬¡ CompletableFuture è¯¯ç”¨ï¼Œå¦‚ä½•è€—å°½ IO çº¿ç¨‹æ± å¹¶æ‹–å®æ•´ä¸ªç³»ç»Ÿ]]></title>    <link>https://juejin.cn/post/7593181244708569140</link>    <guid>https://juejin.cn/post/7593181244708569140</guid>    <pubDate>2026-01-09T09:56:54.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593181244708569140" data-draft-id="7593193235250642996" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€æ¬¡ CompletableFuture è¯¯ç”¨ï¼Œå¦‚ä½•è€—å°½ IO çº¿ç¨‹æ± å¹¶æ‹–å®æ•´ä¸ªç³»ç»Ÿ"/> <meta itemprop="keywords" content="åç«¯,Java,ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2026-01-09T09:56:54.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="PPPHUANG"/> <meta itemprop="url" content="https://juejin.cn/user/3083464300298525"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€æ¬¡ CompletableFuture è¯¯ç”¨ï¼Œå¦‚ä½•è€—å°½ IO çº¿ç¨‹æ± å¹¶æ‹–å®æ•´ä¸ªç³»ç»Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3083464300298525/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    PPPHUANG
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T09:56:54.000Z" title="Fri Jan 09 2026 09:56:54 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä¸€æ¬¡çœ‹ä¼¼æ— å®³çš„ <code>CompletableFuture.thenApply</code> ä½¿ç”¨ï¼Œå› ä¸ºåœ¨å›è°ƒä¸­æ‰§è¡Œäº†åŒæ­¥ RPCï¼Œå¯¼è‡´ RPC æ¡†æ¶çº¿ç¨‹è¢«é˜»å¡ï¼Œ æœ€ç»ˆå¼•å‘ CompletableFuture æ— æ³•å®Œæˆã€HTTP çº¿ç¨‹æ± è€—å°½çš„çº§è”é›ªå´©ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-0"><strong>ä¸€ã€æ•…éšœç°è±¡ï¼šä¸æ˜¯æ…¢ï¼Œè€Œæ˜¯â€œç³»ç»Ÿä¸åŠ¨äº†â€</strong></h2>
<p>çº¿ä¸ŠæœåŠ¡çªç„¶å‡ºç°å¤§é¢ç§¯è¶…æ—¶ï¼ŒQPS æ€¥å‰§ä¸‹é™ï¼Œä½† CPU ä½¿ç”¨ç‡å¹¶ä¸é«˜ã€‚</p>
<p>ç¬¬ä¸€ååº”æ˜¯æ…¢æ¥å£ï¼Œä½†å¾ˆå¿«å‘ç°äº‹æƒ…ä¸å¯¹ï¼š</p>
<ul>
<li>Tomcat çº¿ç¨‹æ± å¤§é‡çº¿ç¨‹å¤„äº <strong>WAITING</strong></li>
<li>è¯·æ±‚å¹¶æ²¡æœ‰æ˜æ˜¾çš„æ…¢ç‚¹</li>
<li>é‡å¯åçŸ­æ—¶é—´æ¢å¤ï¼Œæµé‡ä¸Šå‡å†æ¬¡é›ªå´©</li>
</ul>
<p>Thread Dump ä¸­ï¼Œå‡ ä¹æ‰€æœ‰ä¸šåŠ¡çº¿ç¨‹éƒ½å¡åœ¨åŒä¸€ä¸ªåœ°æ–¹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">java.lang.Thread.State:Â WAITINGÂ (parking)
Â Â Â Â atÂ sun.misc.Unsafe.park(NativeÂ Method)
Â Â Â Â atÂ java.util.concurrent.locks.LockSupport.park
Â Â Â Â atÂ java.util.concurrent.CompletableFuture.waitingGet
Â Â Â Â atÂ java.util.concurrent.CompletableFuture.<span class="hljs-built_in">join</span>
Â Â Â Â atÂ UserListFetcher.getInfos
</code></pre>
<hr/>
<h2 data-id="heading-1"><strong>äºŒã€åˆæ­¥æ’æŸ¥ï¼šè°åœ¨ç­‰ï¼Ÿåœ¨ç­‰ä»€ä¹ˆï¼Ÿ</strong></h2>
<p>UserListFetcher.getInfos ä½¿ç”¨äº†å…¸å‹çš„å¹¶è¡Œèšåˆæ¨¡å¼ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">CompletableFuture<span class="hljs-selector-class">.allOf</span>(cfA,Â cfB,Â cfC)<span class="hljs-selector-class">.join</span>();
</code></pre>
<p>ä¹ä¸€çœ‹é€»è¾‘å®Œå…¨åˆç†ï¼š</p>
<p>å¹¶è¡Œè¯·æ±‚å¤šä¸ªä¸‹æ¸¸ï¼Œå…¨éƒ¨å®Œæˆåèšåˆç»“æœã€‚</p>
<p>ä½†é—®é¢˜åœ¨äºï¼š</p>
<p><strong>å…¶ä¸­æœ‰ä¸€éƒ¨åˆ† CompletableFuture å¾ˆä¹…æ²¡æœ‰å®Œæˆã€‚</strong></p>
<hr/>
<h2 data-id="heading-2"><strong>ä¸‰ã€è‡´å‘½ä»£ç ï¼šå›è°ƒé‡Œå†™äº†â€œçœ‹èµ·æ¥å¾ˆæ­£å¸¸â€çš„é€»è¾‘</strong></h2>
<p>é—®é¢˜å‡ºåœ¨æŸä¸ªå­è°ƒç”¨çš„å®ç°ä¸­ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span>Â <span class="hljs-title class_">CompletableFuture</span>&lt;<span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Long</span>,Â <span class="hljs-title class_">UserReturnDto</span>&gt;&gt;Â <span class="hljs-title function_">getUserReturnMapCf</span>(<span class="hljs-params">...</span>)Â {
Â Â Â Â <span class="hljs-keyword">return</span>Â asyncExecutor.<span class="hljs-title function_">async</span>(...)
Â Â Â Â Â Â Â Â .<span class="hljs-title function_">thenApply</span>(resultÂ -&gt;Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">dealAfter</span>(result);
Â Â Â Â Â Â Â Â });
}

<span class="hljs-keyword">private</span>Â <span class="hljs-title class_">Map</span>&lt;<span class="hljs-title class_">Long</span>,Â <span class="hljs-title class_">UserReturnDto</span>&gt;Â <span class="hljs-title function_">dealAfter</span>(<span class="hljs-params">...</span>)Â {
Â Â Â Â <span class="hljs-comment">//Â åŒæ­¥Â RPCÂ è°ƒç”¨</span>
Â Â Â Â <span class="hljs-keyword">return</span>Â extServer.<span class="hljs-title function_">getInfos</span>(...);
}
</code></pre>
<p>ä»£ç æœ¬èº«<strong>æ²¡æœ‰æ˜æ˜¾é”™è¯¯</strong>ï¼Œ</p>
<ul>
<li>ä½¿ç”¨äº†å¼‚æ­¥ RPC</li>
<li>ä½¿ç”¨äº† CompletableFuture</li>
<li>é€»è¾‘æ¸…æ™°ã€å¯è¯»æ€§ä¹Ÿä¸é”™</li>
</ul>
<p>ä½†è¿™é‡Œéšè—ç€ä¸€ä¸ª</p>
<p><strong>å¯¹ CompletableFuture çº¿ç¨‹æ¨¡å‹çš„è‡´å‘½è¯¯è§£</strong>ã€‚</p>
<hr/>
<h2 data-id="heading-3"><strong>å››ã€thenApply åˆ°åº•åœ¨å“ªä¸ªçº¿ç¨‹æ‰§è¡Œï¼Ÿ</strong></h2>
<blockquote>
<p>CompletableFuture.thenApply / thenAccept</p>
</blockquote>
<blockquote>
<p>å¹¶ä¸ä¿è¯è¿è¡Œåœ¨â€œä¸šåŠ¡çº¿ç¨‹æ± â€ä¸­ã€‚</p>
</blockquote>
<p>å®ƒçš„æ‰§è¡Œçº¿ç¨‹å–å†³äº <strong>ä¸Šä¸€ä¸ªé˜¶æ®µæ˜¯åœ¨å“ªä¸ªçº¿ç¨‹å®Œæˆçš„</strong>ã€‚</p>
<p>åœ¨æœ¬ä¾‹ä¸­ï¼ŒçœŸå®æ‰§è¡Œæµç¨‹æ˜¯ï¼š</p>
<ol>
<li>å‘èµ·å¼‚æ­¥ RPC</li>
<li>Future æœªå®Œæˆï¼Œæ³¨å†Œå›è°ƒ</li>
<li>RPC å“åº”è¿”å›</li>
<li><strong>RPC / Netty IO çº¿ç¨‹</strong> æ ‡è®° Future å®Œæˆ</li>
<li><strong>åŒä¸€ä¸ª IO çº¿ç¨‹ç«‹å³æ‰§è¡Œ thenApply</strong></li>
<li>thenApply å›è°ƒä¸­æ‰§è¡ŒåŒæ­¥ RPC</li>
<li>RPC çº¿ç¨‹è¿›å…¥ WAITING çŠ¶æ€ âŒ</li>
</ol>
<hr/>
<h2 data-id="heading-4"><strong>äº”ã€é›ªå´©æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼Ÿ</strong></h2>
<p>ä»ç³»ç»Ÿè§†è§’çœ‹ï¼Œè¿™æ˜¯ä¸€æ¡éå¸¸å…¸å‹çš„çº¿ç¨‹è€—å°½é“¾è·¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">HTTPÂ Thread
Â Â Â Â |
Â Â Â Â v
CompletableFuture.<span class="hljs-built_in">join</span>()
Â Â Â Â |
Â Â Â Â v
ç­‰å¾…å­Â FutureÂ å®Œæˆ
Â Â Â Â |
Â Â Â Â v
å­Â FutureÂ å›è°ƒè¿è¡Œåœ¨Â IOÂ çº¿ç¨‹
Â Â Â Â |
Â Â Â Â v
IOÂ çº¿ç¨‹è¢«åŒæ­¥Â RPCÂ é˜»å¡
Â Â Â Â |
Â Â Â Â v
æ›´å¤šÂ RPCÂ å›è°ƒæ— æ³•æ‰§è¡Œ
Â Â Â Â |
Â Â Â Â v
æ›´å¤šÂ FutureÂ æ— æ³•å®Œæˆ
Â Â Â Â |
Â Â Â Â v
HTTPÂ çº¿ç¨‹æ± è€—å°½
</code></pre>
<p>å½“RPC IO çº¿ç¨‹æ± è¢«ä¸šåŠ¡é€»è¾‘å æ»¡æ—¶ï¼š</p>
<ul>
<li>æ–°çš„ RPC å“åº”æ— æ³•è¢«å¤„ç†</li>
<li>Future æ°¸è¿œä¸ä¼šå®Œæˆ</li>
<li>ä¸Šæ¸¸ join() æ°¸è¿œä¸ä¼šè¿”å›</li>
</ul>
<blockquote>
<p>è¿™ä¸æ˜¯â€œæ…¢â€ï¼Œè€Œæ˜¯â€œååé‡å½’é›¶â€ã€‚</p>
</blockquote>
<hr/>
<h2 data-id="heading-5"><strong>å…­ã€ç´§æ€¥ä¿®å¤ï¼šIO çº¿ç¨‹éš”ç¦»ï¼ˆç«‹åˆ»æ­¢è¡€ï¼‰</strong></h2>
<p>æœ€ç›´æ¥ã€ä¹Ÿæ˜¯æœ€å®‰å…¨çš„ä¿®å¤æ–¹å¼ï¼š</p>
<blockquote>
<p>æ˜ç¡®æŒ‡å®šå›è°ƒæ‰§è¡Œçº¿ç¨‹æ± </p>
</blockquote>
<h3 data-id="heading-6"><strong>âŒ ä¿®å¤å‰ï¼ˆå±é™©ï¼‰</strong></h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">asyncExecutor</span><span class="hljs-selector-class">.async</span>(...)
Â Â Â Â <span class="hljs-selector-class">.thenApply</span>(resÂ -&gt;Â otherRpcService.<span class="hljs-built_in">getData</span>(res.<span class="hljs-built_in">getId</span>()));
</code></pre>
<h3 data-id="heading-7"><strong>âœ… ä¿®å¤åï¼ˆå®‰å…¨ï¼‰</strong></h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">asyncExecutor</span><span class="hljs-selector-class">.async</span>(...)
Â Â Â Â <span class="hljs-selector-class">.thenApplyAsync</span>(
Â Â Â Â Â Â Â Â resÂ -&gt;Â otherRpcService.<span class="hljs-built_in">getData</span>(res.<span class="hljs-built_in">getId</span>()),
Â Â Â Â Â Â Â Â userBizExecutor
Â Â Â Â );
</code></pre>
<hr/>
<h2 data-id="heading-8"><strong>ä¸ƒã€é•¿æœŸæ²»ç†ï¼šç”¨ API è®¾è®¡â€œé˜²å‘†â€</strong></h2>
<p>è¿™æ¬¡äº‹æ•…æš´éœ²äº†ä¸€ä¸ªç°å®é—®é¢˜ï¼š</p>
<blockquote>
<p>â€œä¸è¦åœ¨å›è°ƒé‡Œå†™é˜»å¡ä»£ç â€</p>
</blockquote>
<p>ä½†æ˜¯è¿™ç§è§„èŒƒï¼Œè¿Ÿæ—©ä¼šè¢«è¿åã€‚</p>
<p>çœŸæ­£å¯é çš„æ²»ç†æ–¹å¼æ˜¯ï¼š</p>
<ol>
<li>IDE / ç¼–è¯‘æœŸå³æ—¶åé¦ˆ</li>
<li>ä¸ä¾èµ–äººçš„è‡ªè§‰</li>
</ol>
<h3 data-id="heading-9"><strong>7.1 å®‰å…¨ç‰ˆ CompletableFuture å°è£…</strong></h3>
<p>æˆ‘ä»¬å¯¹ RPC æ¡†æ¶ä½¿ç”¨çš„ CompletableFuture åšäº†ä¸€å±‚å°è£…ï¼š</p>
<ul>
<li>
<p><strong>ç¦ç”¨</strong> thenApply / thenAccept</p>
</li>
<li>
<p>å¼ºåˆ¶åŒºåˆ†ï¼š</p>
<ul>
<li>é˜»å¡é€»è¾‘ï¼ˆAsync + Executorï¼‰</li>
<li>éé˜»å¡é€»è¾‘ï¼ˆæ˜ç¡®å£°æ˜ï¼‰</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">public</span>Â <span class="hljs-keyword">class</span>Â <span class="hljs-title class_">RPCCompletableFuture</span>&lt;T&gt;Â <span class="hljs-keyword">extends</span>Â <span class="hljs-title class_">CompletableFuture</span>&lt;T&gt;Â {

<span class="hljs-comment">/**
Â Â Â Â Â *Â å°†æ ‡å‡†çš„Â CompletableFutureÂ åŒ…è£…ä¸ºÂ RPCCompletableFutureã€‚
Â Â Â Â Â *Â è¿™æ ·å¯ä»¥ç¡®ä¿é“¾å¼è°ƒç”¨çš„æ¯ä¸€æ­¥éƒ½å—åˆ°Â RPCCompletableFutureÂ çš„å®‰å…¨æ£€æŸ¥ã€‚
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-keyword">private</span>Â <span class="hljs-keyword">static</span>Â &lt;U&gt;Â <span class="hljs-title class_">RPCCompletableFuture</span>&lt;U&gt;Â <span class="hljs-title function_">wrap</span>(<span class="hljs-params">CompletableFuture&lt;U&gt;Â original</span>)Â {
Â Â Â Â Â Â Â Â <span class="hljs-title class_">RPCCompletableFuture</span>&lt;U&gt;Â wrapperÂ =Â <span class="hljs-keyword">new</span>Â <span class="hljs-title class_">RPCCompletableFuture</span>&lt;&gt;();
Â Â Â Â Â Â Â Â original.<span class="hljs-title function_">whenComplete</span>((res,Â ex)Â -&gt;Â {
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-keyword">if</span>Â (exÂ !=Â <span class="hljs-literal">null</span>)Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â wrapper.<span class="hljs-title function_">completeExceptionally</span>(ex);
Â Â Â Â Â Â Â Â Â Â Â Â }Â <span class="hljs-keyword">else</span>Â {
Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â wrapper.<span class="hljs-title function_">complete</span>(res);
Â Â Â Â Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â });
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â wrapper;
Â Â Â Â }
Â Â Â Â 
Â Â Â Â Â <span class="hljs-comment">/**
Â Â Â Â Â *Â â›”ï¸Â &lt;b&gt;å·²ç¦ç”¨æç¤º&lt;/b&gt;
Â Â Â Â Â *Â &lt;p&gt;
Â Â Â Â Â *Â è¯·ç¡®è®¤å›è°ƒé€»è¾‘æ˜¯å¦åŒ…å«Â IOÂ æ“ä½œï¼š
Â Â Â Â Â *Â -Â æœ‰Â IOÂ æ“ä½œï¼šè¯·æ”¹ç”¨Â {<span class="hljs-doctag">@link</span>Â #thenApplyAsync(Function,Â Executor)}ã€‚
Â Â Â Â Â *Â -Â æ— Â IOÂ æ“ä½œï¼ˆä»…å¯¹è±¡ç»„è£…ï¼‰ï¼šè¯·æ”¹ç”¨Â {<span class="hljs-doctag">@link</span>Â #thenApplyNonBlocking(Function)}ã€‚
Â Â Â Â Â */</span>
Â Â Â Â <span class="hljs-meta">@Override</span>
Â Â Â Â <span class="hljs-meta">@Deprecated</span>
Â Â Â Â <span class="hljs-keyword">public</span>Â &lt;U&gt;Â <span class="hljs-title class_">RPCCompletableFuture</span>&lt;U&gt;Â <span class="hljs-title function_">thenApply</span>(<span class="hljs-params">
Â Â Â Â Â Â Â Â Â Â Â Â <span class="hljs-built_in">Function</span>&lt;?Â <span class="hljs-variable language_">super</span>Â T,Â ?Â <span class="hljs-keyword">extends</span>Â U&gt;Â fn</span>)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">wrap</span>(<span class="hljs-variable language_">super</span>.<span class="hljs-title function_">thenApply</span>(fn));
Â Â Â Â }
Â <span class="hljs-comment">/**
Â Â Â Â Â *Â âœ…Â &lt;b&gt;æ— é˜»å¡å®‰å…¨è°ƒç”¨&lt;/b&gt;
Â Â Â Â Â *Â &lt;p&gt;
Â Â Â Â Â *Â ä»…å½“ç¡®ä¿¡å›è°ƒé€»è¾‘ä¸º&lt;b&gt;çº¯å†…å­˜æ“ä½œ&lt;/b&gt;ï¼ˆå¦‚å¯¹è±¡ç»„è£…ã€æ•°æ®è½¬æ¢ï¼‰ä¸”&lt;b&gt;æ‰§è¡Œæå¿«&lt;/b&gt;æ—¶ä½¿ç”¨ã€‚
Â Â Â Â Â */</span>
Â Â Â Â Â Â <span class="hljs-keyword">public</span>Â &lt;U&gt;Â <span class="hljs-title class_">RPCCompletableFuture</span>&lt;U&gt;Â <span class="hljs-title function_">thenApplyNonBlocking</span>(<span class="hljs-params"><span class="hljs-built_in">Function</span>&lt;?Â <span class="hljs-variable language_">super</span>Â T,Â ?Â <span class="hljs-keyword">extends</span>Â U&gt;Â fn</span>)Â {
Â Â Â Â Â Â Â Â <span class="hljs-keyword">return</span>Â <span class="hljs-title function_">wrap</span>(<span class="hljs-variable language_">super</span>.<span class="hljs-title function_">thenApply</span>(fn));
Â Â Â Â }
}
</code></pre>
<p>IDE ä¸­ï¼Œé”™è¯¯ç”¨æ³•ä¼šè¢«æ˜ç¡®æ ‡çº¢ï¼Œå¼ºåˆ¶å¼€å‘è€…æ€è€ƒçº¿ç¨‹æ¨¡å‹ï¼Œé€‰æ‹©æ­£ç¡®ç”¨æ³•ã€‚</p>
<hr/>
<h2 data-id="heading-10"><strong>å…«ã€é…å¥—æ²»ç†ï¼šç›‘æ§ä¸ Code Review</strong></h2>
<h3 data-id="heading-11"><strong>8.1 å¿…é¡»ç›‘æ§çš„æŒ‡æ ‡</strong></h3>
<ul>
<li>RPC IO çº¿ç¨‹æ± ï¼šActiveCountã€QueueSize</li>
<li>ä¸šåŠ¡çº¿ç¨‹æ± ï¼šé˜Ÿåˆ—é•¿åº¦</li>
<li>HTTP çº¿ç¨‹æ± ï¼šWAITING æ¯”ä¾‹</li>
</ul>
<h3 data-id="heading-12"><strong>8.2 Code Review Checklist</strong></h3>
<ul>
<li>å›è°ƒä¸­æ˜¯å¦åŒ…å« RPC / DB / Redisï¼Ÿ</li>
<li>æ˜¯å¦æ˜¾å¼æŒ‡å®š Executorï¼Ÿ</li>
<li>æ˜¯å¦å­˜åœ¨éšå¼é˜»å¡ï¼Ÿ</li>
<li>æ˜¯å¦æœ‰ä¸Šä¸‹æ–‡ä¸¢å¤±é£é™©ï¼Ÿ</li>
</ul>
<hr/>
<h2 data-id="heading-13"><strong>ä¹ã€æ€»ç»“</strong></h2>
<p>è¿™æ¬¡äº‹æ•…çš„æœ¬è´¨ä¸æ˜¯ CompletableFuture çš„ bugï¼Œ</p>
<p>è€Œæ˜¯<strong>çº¿ç¨‹æ¨¡å‹è¢«é”™è¯¯ç†è§£ï¼Œæˆ–è€…ä½¿ç”¨æ—¶æœ‰ç–å¿½</strong>ã€‚</p>
<p>å¯ä»¥å½’ç»“ä¸ºä¸‰æ¡ç»éªŒï¼š</p>
<ol>
<li>å¼‚æ­¥ä¸ç­‰äºå®‰å…¨ï¼Œçº¿ç¨‹æ¨¡å‹æ¯” API æ›´é‡è¦</li>
<li>ä»»ä½•ç³»ç»Ÿçº¿ç¨‹ï¼Œéƒ½ä¸åº”è¯¥æ‰¿è½½ä¸ç¡®å®šè€—æ—¶çš„éè¯¥çº¿ç¨‹èŒè´£å†…çš„ä¸šåŠ¡é€»è¾‘</li>
<li>æœ€å¥½çš„å¼€å‘è§„èŒƒï¼Œä¸æ˜¯æ–‡æ¡£ï¼Œæ˜¯ä»£ç å’Œå·¥å…·é“¾</li>
</ol>
<p>å¦‚æœä½ åœ¨ç³»ç»Ÿä¸­å¤§é‡ä½¿ç”¨å¼‚æ­¥ç¼–æ’ï¼Œè¿™ç±»é—®é¢˜è¿Ÿæ—©ä¼šå‡ºç°ã€‚</p>
<p>åŒºåˆ«åªåœ¨äºï¼š<strong>ä½ æ˜¯æå‰è®¾è®¡é˜²çº¿ï¼Œè¿˜æ˜¯ç­‰äº‹æ•…å¸®ä½ å¤ä¹ ä¸€éã€‚</strong></p>
<p>å…¬ä¼—å·ï¼š<strong>DailyHappy</strong>Â ä¸€ä½åç«¯å†™ç å¸ˆï¼Œä¸€ä½é»‘æš—æ–™ç†åˆ¶é€ è€…ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµ…å­¦æ–‡ä»¶ç³»ç»Ÿ4(é¡µé¢ç¼“å­˜)]]></title>    <link>https://juejin.cn/post/7592921639463993386</link>    <guid>https://juejin.cn/post/7592921639463993386</guid>    <pubDate>2026-01-09T03:42:06.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592921639463993386" data-draft-id="7592884480731070510" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµ…å­¦æ–‡ä»¶ç³»ç»Ÿ4(é¡µé¢ç¼“å­˜)"/> <meta itemprop="keywords" content="Linux"/> <meta itemprop="datePublished" content="2026-01-09T03:42:06.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç…¤çƒç‹å­"/> <meta itemprop="url" content="https://juejin.cn/user/4088439235949739"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµ…å­¦æ–‡ä»¶ç³»ç»Ÿ4(é¡µé¢ç¼“å­˜)
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4088439235949739/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç…¤çƒç‹å­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:42:06.000Z" title="Fri Jan 09 2026 03:42:06 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é¡µé¢ç¼“å­˜ç®€è¿°</h2>
<p>é¡µé¢ç¼“å­˜(<strong><code>Page Cache</code></strong>)ï¼š Linuxå†…æ ¸ç®¡ç†çš„<code>ä¸€å—ç‰©ç†å†…å­˜</code>ï¼Œ é¡µé¢ç¼“å­˜â€”â€”å°±æ˜¯ç¼“å­˜ æ–‡ä»¶ç£ç›˜â€æ•°æ®å—â€œ å¯¹åº”çš„ç‰©ç†é¡µã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆå«â€œé¡µé¢ç¼“å­˜â€ ï¼Œ ä¸å«â€œæ–‡ä»¶ç¼“å­˜â€ å‘¢ï¼Ÿ</strong></p>
<p>ç­”ï¼šä¸€ä¸ªæ–‡ä»¶åŒ…å«å¤šä¸ªæ•°æ®å—(4KB), æ¯ä¸ªæ•°æ®å—åŠ è½½åˆ°ç‰©ç†å†…å­˜æ—¶ï¼Œéœ€è¦ä¸€ä¸ªç‰©ç†é¡µ(page)ï¼Œ æ¥å­˜å‚¨æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œé¡µé¢ç¼“å­˜çš„å•ä½å°±æ˜¯ï¼šç‰©ç†é¡µ(4KB page)</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/476085bfd6bf45418cdf237504d1bbe5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=hcAv9kluF9o62HcKVaEgHF%2Bw82k%3D" alt="image.png" loading="lazy"/></p>
<p><strong>é¡µé¢ç¼“å­˜çš„ç›®çš„ï¼š å‡å°‘ç¡¬ç›˜æˆ–ç£ç›˜çš„ I/O æ¬¡æ•°</strong>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da0b1e0a2ea3426ab6c2f6b618c634bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=Tl2kG8bCd8%2FHBfx6AAgQ8eQ14cE%3D" alt="image.png" loading="lazy"/></p>
<ol>
<li><code>inodeæ•£åˆ—è¡¨</code>:  ç¼“å­˜__å…ƒæ•°æ®ä¿¡æ¯</li>
<li><code>dcacheæ•£åˆ—è¡¨</code>: ç¼“å­˜__ç›®å½•çš„ç›®å½•é¡¹æ•°æ®ä¿¡æ¯</li>
<li><code>é¡µé¢ç¼“å­˜</code>:     ç¼“å­˜__æ–‡ä»¶çš„æ•°æ®å—ä¿¡æ¯</li>
</ol>
<blockquote>
<p>ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼ŒLinuxå†…æ ¸ä¸ºäº†ä¼˜åŒ– I/O åšäº†å¾ˆå¤šï¼Œæäº† inodeæ•£åˆ—è¡¨ã€dcacheæ•£åˆ—è¡¨ã€é¡µé¢ç¼“å­˜</p>
</blockquote>
<h2 data-id="heading-1">é¡µé¢ç¼“å­˜ä¸­çš„æ•°æ®ç»“æ„</h2>
<h3 data-id="heading-2">address_space(åœ°å€ç©ºé—´)</h3>
<p><strong><code>address_space</code></strong> æ•°æ®ç»“æ„ ç”¨æ¥å»ºç«‹ ç¼“å­˜æ•°æ®__ä¸__å®ƒè‡ªå·±æ¥æºä¹‹é—´çš„å…³è”
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6c0aacb2c7f44b7e92af5194103d2487~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=6W42a7BcNwwvhkS%2FmK1lL3HM1%2BM%3D" alt="image.png" loading="lazy"/>
ä¸Šå›¾ä¸¾ä¾‹ï¼šæ–‡ä»¶açš„_ç¬¬å››ä¸ªæ•°æ®å—åœ¨é¡µé¢ç¼“å­˜ä¸­çš„ä½ç½®, <code>æ–‡ä»¶açš„</code>: <strong>inode + æ•°æ®å—åç§»é‡</strong></p>
<p>ï¼ˆinode , offsetï¼‰ â€”â€” ï¼ˆaddress_sapce, offsetï¼‰</p>
<blockquote>
<p>å½“ç„¶ï¼ŒLinuxä¸ºäº†è®©é¡µé¢ç¼“å­˜æ›´é€šç”¨ï¼ŒæŠŠ inode ç”¨ address_space æ¥ä»£æ›¿ã€‚ å½“ç„¶å®ƒä»¬æ˜¯æœ‰å…³è”çš„ã€‚</p>
</blockquote>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c22d8a29139d4078b1dd0f564ad157b7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=DrviWesxYeKY6WwRIVptHIVedWw%3D" alt="image.png" loading="lazy"/>
inode(ç´¢å¼•èŠ‚ç‚¹)ã€file(æ–‡ä»¶)  è¿™äº›ç»“æ„ä½“é‡Œé¢éƒ½æœ‰ <code>address_space</code> å˜é‡å®šä¹‰</p>
<pre><code class="hljs language-ini" lang="ini">struct  address_space {
    inode  *host<span class="hljs-comment">;  æ‰€å±é—®é¢˜</span>
    radix_tree_root  page_tree<span class="hljs-comment">;  ç»´æŠ¤æ‰€æœ‰ç¼“å­˜é¡µ(åŸºæ•°æ ‘)</span>
    long  nrpages<span class="hljs-comment">; æ€»å…±ç¼“å­˜pageä¸ªæ•°</span>
    
    rb_root  i_mmap<span class="hljs-comment">; å’Œå†…å­˜æ˜ å°„ç›¸å…³</span>
    void  *private_data<span class="hljs-comment">; ç§æœ‰æ•°æ®</span>
    
    address_space_operations   *a_ops<span class="hljs-comment">;  æ–¹æ³•æ“ä½œ</span>
    .......
}
</code></pre>
<h3 data-id="heading-3">address_space_operations(æ“ä½œæ–¹æ³•)</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">address_space_operations</span> {</span> 
<span class="hljs-comment">/* â‘  è¯»ï¼šç£ç›˜ â†’ é¡µé¢ç¼“å­˜ */</span> 
    <span class="hljs-comment">/* å•é¡µåŒæ­¥è¯»ï¼šç£ç›˜å†…å®¹å¡«åˆ° pageï¼Œè¿”å› 0/-EIO ç­‰ */</span> 
    <span class="hljs-type">int</span> (*readpage)(<span class="hljs-keyword">struct</span> file *filp, <span class="hljs-keyword">struct</span> page *page); 
    <span class="hljs-comment">/* æ‰¹é‡è¯»ï¼šä¸€æ¬¡æ€§æŠŠ pages é“¾è¡¨é‡Œçš„ nr_pages é¡µå…¨éƒ¨è¯»å…¥ */</span>
    <span class="hljs-type">int</span> (*readpages)(<span class="hljs-keyword">struct</span> file *filp, <span class="hljs-keyword">struct</span> address_space *mapping, <span class="hljs-keyword">struct</span> list_head *pages, <span class="hljs-type">unsigned</span> nr_pages); 

<span class="hljs-comment">/* â‘¡ å†™ï¼šé¡µé¢ç¼“å­˜ â†’ ç£ç›˜ï¼ˆå›å†™ï¼‰ */</span> 
    <span class="hljs-comment">/* å•é¡µå›å†™ï¼šç”± flusher çº¿ç¨‹è°ƒç”¨ï¼ŒæŠŠè„é¡µå†™å›ç£ç›˜ */</span>
    <span class="hljs-type">int</span> (*writepage)(<span class="hljs-keyword">struct</span> page *page, <span class="hljs-keyword">struct</span> writeback_control *wbc);  
    <span class="hljs-comment">/* æ‰¹é‡å›å†™ï¼šæ‰«æ mapping çš„æ•´æ£µ radix/xarray æ ‘ï¼ŒæŠŠè„é¡µå†™å› */</span> 
    <span class="hljs-type">int</span> (*writepages)(<span class="hljs-keyword">struct</span> address_space *mapping, <span class="hljs-keyword">struct</span> writeback_control *wbc); 

<span class="hljs-comment">/* â‘¢ æ ‡è®°è„é¡µ */</span> 
    <span class="hljs-comment">/* æŠŠé¡µè®¾ä¸ºè„ï¼Œé€šå¸¸ç”± __set_page_dirty_buffers è°ƒç”¨ */</span> 
    <span class="hljs-type">int</span> (*set_page_dirty)(<span class="hljs-keyword">struct</span> page *page); 

<span class="hljs-comment">/* â‘£ ç›´æ¥ I/Oï¼šç»•è¿‡é¡µé¢ç¼“å­˜ */</span> 
    <span class="hljs-comment">/* ç”¨æˆ·æ€ Direct-IO è¯»å†™å…¥å£ï¼Œæ•°æ®ç›´æ¥è½ç›˜/ä»ç›˜è¯» */</span> 
    <span class="hljs-type">ssize_t</span> (*direct_IO)(<span class="hljs-keyword">struct</span> kiocb *iocb, <span class="hljs-keyword">struct</span> iov_iter *iter); 

<span class="hljs-comment">/* â‘¤ å‡†å¤‡ &amp; æäº¤å†™ï¼ˆmmap/ç¼“å†²å†™é€šç”¨ï¼‰ */</span> 
    <span class="hljs-comment">/* å†™å‰å‡†å¤‡ï¼šä¸º [pos, pos+len) åˆ†é…/è·å–ç¼“å­˜é¡µï¼Œè¿”å› locked é¡µ */</span> 
    <span class="hljs-type">int</span> (*write_begin)(<span class="hljs-keyword">struct</span> file *file, <span class="hljs-keyword">struct</span> address_space *mapping, <span class="hljs-type">loff_t</span> pos, <span class="hljs-type">unsigned</span> len, <span class="hljs-type">unsigned</span> flags, <span class="hljs-keyword">struct</span> page **pagep, <span class="hljs-type">void</span> **fsdata); 
    <span class="hljs-comment">/* å†™åæäº¤ï¼šæŠŠ page æ ‡è®°è„ã€è§£é”ã€æ›´æ–° i_sizeï¼›è¿”å›å®é™…å†™å…¥å­—èŠ‚ */</span> 
    <span class="hljs-type">int</span> (*write_end)(<span class="hljs-keyword">struct</span> file *file,<span class="hljs-keyword">struct</span> address_space *mapping, <span class="hljs-type">loff_t</span> pos, <span class="hljs-type">unsigned</span> len, <span class="hljs-type">unsigned</span> copied, <span class="hljs-keyword">struct</span> page *page, <span class="hljs-type">void</span> *fsdata);

    ........ 
};
</code></pre>
<h3 data-id="heading-4">Page(é¡µ)</h3>
<pre><code class="hljs language-arduino" lang="arduino"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">page</span> { 
<span class="hljs-comment">/* ===== 1. é¡µé¢ç¼“å­˜ç›¸å…³ ===== */</span> 
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">address_space</span> *mapping; æŒ‡å‘æ‰€å±ç¼“å­˜å®¹å™¨ï¼ˆæ–‡ä»¶ inode æˆ– swap åœ°å€ç©ºé—´ï¼‰ã€‚ æœ€ä½ä½ä¸º <span class="hljs-number">1</span> æ—¶è¡¨ç¤ºè¯¥é¡µåœ¨ swap ç¼“å­˜è€Œéæ–‡ä»¶ç¼“å­˜
    <span class="hljs-type">pgoff_t</span> index;  é¡µåœ¨ mapping å†…çš„é€»è¾‘ä¸‹æ ‡ï¼ˆä»¥é¡µä¸ºå•ä½ï¼Œéå­—èŠ‚ï¼‰
    
<span class="hljs-comment">/* ===== 2. ç‰©ç†é¡µæ¡†ç®¡ç† ===== */</span> 
    é¡µæ ‡å¿—ä½é›†åˆï¼šPG_lockedã€PG_dirtyã€PG_writebackã€PG_uptodateã€PG_referencedã€PG_swapbacked â€¦ 
    <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> flags; 
    <span class="hljs-keyword">union</span> { 
        <span class="hljs-type">atomic_t</span> _refcount;  é¡µå¼•ç”¨è®¡æ•°ï¼Œ <span class="hljs-number">0</span> è¡¨ç¤ºç©ºé—²ï¼Œ  &lt;<span class="hljs-number">0</span>ä¸ºBUG 
        <span class="hljs-keyword">struct</span> {  SLUB ç­‰å­ç³»ç»Ÿå¤ç”¨ç©ºé—²é¡µçš„å­—æ®µ
            <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> inuse; 
            <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> objects; 
        }; 
    }; 
    
<span class="hljs-comment">/* ===== 3. LRU é“¾è¡¨ / å›æ”¶ ===== */</span> 
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">list_head</span> lru; <span class="hljs-comment">/* æŠŠé¡µæŒ‚åˆ° LRUã€swapã€inode å›æ”¶ç­‰å„ç§é“¾è¡¨ */</span> 
    <span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> <span class="hljs-keyword">private</span>; <span class="hljs-comment">/* ä¸é¡µçŠ¶æ€è”åŠ¨çš„ç§æœ‰æ•°æ®ï¼š 1. ç¼“å†²åŒºå¤´æŒ‡é’ˆï¼ˆå—è®¾å¤‡é¡µï¼‰ 2. swap entry å€¼ï¼ˆswap ç¼“å­˜é¡µï¼‰ 3. å…¶ä»–æ–‡ä»¶ç³»ç»Ÿç§æœ‰æŒ‡é’ˆ */</span> 
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">mem_cgroup</span> *mem_cgroup; <span class="hljs-comment">/* è¯¥é¡µå½’å±çš„ memory cgroupï¼Œç”¨äºèµ„æºç»Ÿè®¡ä¸å›æ”¶ */</span>
    
<span class="hljs-comment">/* ===== 4. åå‘æ˜ å°„ ===== */</span> 
    <span class="hljs-type">atomic_t</span> _mapcount; <span class="hljs-comment">/* é¡µè¡¨é¡¹ï¼ˆPTEï¼‰æ˜ å°„è®¡æ•°ï¼š -1 è¡¨ç¤ºæ— æ˜ å°„ï¼Œ  0 è¡¨ç¤ºåªæœ‰ 1 ä¸ªæ˜ å°„(åŒ¿åé¡µæˆ–å•è¿›ç¨‹æ–‡ä»¶æ˜ å°„),  &gt;0 è¡¨ç¤ºå¤šè¿›ç¨‹å…±äº« */</span> 
    
<span class="hljs-comment">/* ===== 5. å¤åˆé¡µ / å·¨å‹é¡µ ===== */</span> 
    <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> _compound_tail; å¤åˆé¡µï¼ˆHugeTLBï¼‰æ—¶ï¼Œæ ‡è®°æœ¬é¡µåœ¨å·¨å‹é¡µä¸­çš„åºå· 
    <span class="hljs-keyword">struct</span> <span class="hljs-title class_">page</span> *first_page; æŒ‡å‘å·¨å‹é¡µçš„é¦–é¡µ  

<span class="hljs-comment">/* ===== 6. è°ƒè¯• / çƒ­åŒº ===== */</span> 
    <span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> WANT_PAGE_VIRTUAL</span>
        <span class="hljs-type">void</span> *<span class="hljs-keyword">virtual</span>;  é«˜ç«¯å†…å­˜é¡µçš„æ°¸ä¹…å†…æ ¸æ˜ å°„åœ°å€ï¼ˆkmapï¼‰ 
    <span class="hljs-meta">#<span class="hljs-keyword">endif</span> </span>
};
</code></pre>
<h2 data-id="heading-5">é¡µé¢ç¼“å­˜å¯¹å¤–æä¾›çš„æ¥å£æ–¹æ³•</h2>
<p>Linuxå†…æ ¸ä¸­é’ˆå¯¹ <code>é¡µé¢ç¼“å­˜</code> å°è£…äº†å¾ˆå¤šæ¥å£æ–¹æ³•ï¼Œä¸‹é¢ç®€å•ä»‹ç»ä¸€äº›</p>
<p><strong>1. æŸ¥æ‰¾ä¸€ä¸ªé¡µ(page)</strong></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">/**
 * find_get_page - åœ¨é¡µé¢ç¼“å­˜é‡ŒæŸ¥æ‰¾å¹¶å¼•ç”¨ä¸€ä¸ªé¡µ
 * @mapping: è¦æœç´¢çš„ address_spaceï¼ˆå³â€œè¿™ä¸ªæ–‡ä»¶â€çš„ç¼“å­˜å®¹å™¨ï¼‰
 * @offset:  é¡µåœ¨æ–‡ä»¶å†…çš„é€»è¾‘ä¸‹æ ‡ï¼ˆä»¥é¡µä¸ºå•ä½ï¼Œéå­—èŠ‚åç§»ï¼‰
 *
 * åœ¨ radix/xarray æ ‘ä¸­æŸ¥æ‰¾ &lt;mapping, offset&gt; å¯¹åº”çš„ slotã€‚
 * å¦‚æœå‘½ä¸­ï¼Œåˆ™æŠŠ page-&gt;_refcount åŠ  1 åè¿”å›è¯¥é¡µï¼›
 * å¦‚æœæœªå‘½ä¸­ï¼Œè¿”å› NULLã€‚
 *
 * è°ƒç”¨è€…å¿…é¡»åœ¨æŒæœ‰ RCU è¯»é”æˆ– mapping-&gt;tree_lock çš„å‰æä¸‹ä½¿ç”¨ï¼Œ
 * ä½†æœ¬å‡½æ•°å†…éƒ¨å·²è‡ªè¡ŒåŠ é”ï¼Œå› æ­¤å¤–éƒ¨æ— éœ€é¢å¤–åŒæ­¥ã€‚
 */</span>
<span class="hljs-type">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-keyword">struct</span> page *<span class="hljs-title function_">find_get_page</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> address_space *mapping, <span class="hljs-type">pgoff_t</span> offset)</span>{
        ç›´æ¥è°ƒç”¨å†…éƒ¨å®ç°ï¼Œåä¸¤ä¸ª <span class="hljs-number">0</span> è¡¨ç¤ºä¸å¼ºåˆ¶åˆ†é…ï¼ˆFGP_CREAT=<span class="hljs-number">0</span>ï¼‰ã€ä¸æ ‡è®°ä¸ºæ­£åœ¨å›å†™ï¼ˆFGP_WRITEBACK=<span class="hljs-number">0</span>ï¼‰
        <span class="hljs-keyword">return</span> pagecache_get_page(mapping, offset, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
}
</code></pre>
<p><strong>2.å¢åŠ ä¸€ä¸ªé¡µ(page)</strong></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">/**
 * add_to_page_cache - æŠŠâ€œåˆšåˆ†é…å¥½â€çš„ä¸€é¡µå¡è¿›é¡µé¢ç¼“å­˜
 * @page:       æ–°é¡µï¼Œæ­¤æ—¶æœªä¸Šé”ã€æœªåœ¨ç¼“å­˜æ ‘ä¸­
 * @mapping:    ç›®æ ‡ address_spaceï¼ˆå³â€œè¿™ä¸ªæ–‡ä»¶â€çš„ç¼“å­˜å®¹å™¨ï¼‰
 * @offset:     é¡µåœ¨æ–‡ä»¶å†…çš„é€»è¾‘ä¸‹æ ‡ï¼ˆä»¥é¡µä¸ºå•ä½ï¼‰
 * @gfp_mask:   åˆ†é… radix/xarray èŠ‚ç‚¹æ—¶ä½¿ç”¨çš„å†…å­˜æ ‡å¿—
 *
 * ä¸ add_to_page_cache_locked() çš„åŒºåˆ«ï¼š
 * æœ¬å‡½æ•°å‡å®šé¡µæ˜¯â€œå…¨æ–°â€çš„ï¼Œå› æ­¤å¯ä»¥å®‰å…¨åœ°ç›´æ¥åŠ é”ã€‚
 * å¦‚æœæ’å…¥å¤±è´¥ï¼ˆå¦‚ offset å¤„å·²å­˜åœ¨é¡µï¼‰ï¼Œåˆ™è‡ªåŠ¨æ¸…é™¤é”å¹¶è¿”å›é”™è¯¯ç ã€‚
 *
 * æˆåŠŸè¿”å› 0ï¼Œå¤±è´¥è¿”å› -EEXIST ç­‰è´Ÿé”™è¯¯ç ã€‚
 */</span>
<span class="hljs-type">static</span> <span class="hljs-keyword">inline</span> <span class="hljs-type">int</span> <span class="hljs-title function_">add_to_page_cache</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> page *page, <span class="hljs-keyword">struct</span> address_space *mapping,  <span class="hljs-type">pgoff_t</span> offset, <span class="hljs-type">gfp_t</span> gfp_mask)</span>{
        <span class="hljs-type">int</span> error;

        __SetPageLocked(page);    <span class="hljs-comment">/* æ–°é¡µï¼Œç›´æ¥åŠ é”ï¼Œé¿å…å¹¶å‘ */</span>

        <span class="hljs-comment">/* çœŸæ­£æ’å…¥ radix/xarray æ ‘ï¼Œå¤±è´¥æ—¶è¿”å›è´Ÿé”™è¯¯ç  */</span>
        error = add_to_page_cache_locked(page, mapping, offset, gfp_mask);
        <span class="hljs-keyword">if</span> (unlikely(error))
                __ClearPageLocked(page); <span class="hljs-comment">/* æ’å…¥å¤±è´¥ï¼Œå›æ»šé”çŠ¶æ€ */</span>

        <span class="hljs-keyword">return</span> error;
}
</code></pre>
<p><strong>3.åˆ é™¤ä¸€ä¸ªé¡µ(page)</strong>
ä¸‹é¢ç»™å‡ºç¬¦åˆ Linux å†…æ ¸ç¼–ç é£æ ¼ã€å®½åº¦ 80 åˆ—çš„æ ¼å¼åŒ–ç»“æœï¼Œå¯ç›´æ¥è´´å›æºç æ ‘ä½¿ç”¨ã€‚<br/>
ï¼ˆä»…è°ƒæ•´ç©ºç™½ä¸æŠ˜è¡Œï¼Œé›¶é€»è¾‘å˜æ›´ï¼‰</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">/**
 * delete_from_page_cache - æŠŠé¡µä»é¡µé¢ç¼“å­˜é‡Œæ‘˜é™¤
 * @page: è¦åˆ é™¤çš„é¡µï¼Œè°ƒç”¨å‰å¿…é¡»ä¿è¯ï¼š
 *        1) é¡µå·²åœ¨ç¼“å­˜ä¸­ (page-&gt;mapping != NULL)
 *        2) é¡µå¤„äº Locked çŠ¶æ€
 *
 * å‡½æ•°åªåšä¸¤æ­¥ï¼š
 *  â‘  ä» radix/xarray æ ‘ä¸­ç§»é™¤è¯¥ç´¢å¼•æ§½ä½ï¼›
 *  â‘¡ æŠŠ page-&gt;mapping ç½®ä¸º NULLï¼Œè¡¨ç¤ºé¡µå·²è„±ç¦»ç¼“å­˜ã€‚
 *
 * æ³¨æ„ï¼šå‡½æ•°ä¸ä¼šé‡Šæ”¾é¡µæœ¬èº«ï¼Œä¹Ÿä¸ä¼šæŠŠé¡µæ”¾è¿›ç©ºé—²é“¾è¡¨â€”â€”
 * è°ƒç”¨è€…å¿…é¡»å·²ç»æŒæœ‰é¡µå¼•ç”¨ (refcount)ï¼Œå¹¶åœ¨åç»­è‡ªè¡Œ put_page()ã€‚
 */</span>
<span class="hljs-type">void</span> <span class="hljs-title function_">delete_from_page_cache</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> page *page)</span>{
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">address_space</span> *<span class="hljs-title">mapping</span> =</span> page-&gt;mapping; <span class="hljs-comment">/* æ‰€å±ç¼“å­˜å®¹å™¨ */</span>
	<span class="hljs-type">void</span> *shadow = <span class="hljs-literal">NULL</span>;
	<span class="hljs-type">int</span> nr = <span class="hljs-number">1</span>;                                    <span class="hljs-comment">/* é»˜è®¤åªåˆ  1 ä¸ªæ¡ç›® */</span>

	<span class="hljs-comment">/* 1. ä» xarray ä¸­åˆ é™¤è¯¥ç´¢å¼•ï¼ŒåŒæ—¶æ‹¿åˆ° shadow æ¡ç›®ï¼ˆè‹¥å­˜åœ¨ï¼‰*/</span>
	xa_lock_irq(&amp;mapping-&gt;i_pages);
	shadow = xa_erase(&amp;mapping-&gt;i_pages, page-&gt;index);
	xa_unlock_irq(&amp;mapping-&gt;i_pages);

	<span class="hljs-comment">/* 2. æ›´æ–°ç¼“å­˜è®¡æ•° */</span>
	<span class="hljs-keyword">if</span> (xa_is_shadow(shadow))
		nr = <span class="hljs-number">0</span>;                                  <span class="hljs-comment">/* shadow ä¸ç®—çœŸå®é¡µ */</span>
	__dec_zone_page_state(page, NR_FILE_PAGES);
	<span class="hljs-keyword">if</span> (PageSwapBacked(page))
		__dec_zone_page_state(page, NR_SHMEM);
	mapping-&gt;nrpages -= nr;

	<span class="hljs-comment">/* 3. å½»åº•æ–­å¼€é¡µä¸ç¼“å­˜å®¹å™¨çš„å…³è” */</span>
	page-&gt;mapping = <span class="hljs-literal">NULL</span>;
	<span class="hljs-comment">/* æ¸…é™¤é¡µæ ‡å¿—ï¼Œé¿å…åç»­è¯¯ç”¨ */</span>
	page_remove_rmap(page, <span class="hljs-literal">false</span>);
	<span class="hljs-comment">/* å¦‚æœé¡µè¿˜åœ¨ LRU é“¾è¡¨ä¸Šï¼Œè¿™é‡Œä¼šæŠŠå®ƒæ‘˜ä¸‹æ¥ */</span>
	<span class="hljs-keyword">if</span> (PageLRU(page))
		lru_cache_del(page);
}
</code></pre>
<h2 data-id="heading-6">å†çœ‹æ–‡ä»¶è¯»å†™(ç®€ç•¥)æµç¨‹</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/76428b386b114411b7376193a5d1b208~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=o3apIBPBheDiBzUChvzVBcSR2vQ%3D" alt="image.png" loading="lazy"/>
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51dea4896e3d439093978a7f7ada516f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=47KIYsYnfvp2h1bp%2FVqjk1dNJkU%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-7">ä»€ä¹ˆæ˜¯è„é¡µï¼Ÿ</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3d085cd47d34c74a5ab71059cc37b4c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=%2BkFUxiQC7p%2FBVbbvpfGuj2J3OXQ%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-8">è„é¡µæ•°æ®å†™å›åˆ°ç£ç›˜çš„æ–¹å¼</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/272e861b32264285817dd657b10689f4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=%2BMLdlG7IiAL4CFKTdfAE8VUEzCg%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-9">å†çœ‹å†…å­˜æ˜ å°„</h2>
<pre><code class="hljs language-c" lang="c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;unistd.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;sys/mman.h&gt;</span></span>

<span class="hljs-comment">/*
 * mmap â€”â€” æŠŠæ–‡ä»¶æˆ–åŒ¿åé¡µæ˜ å°„è¿›å½“å‰è¿›ç¨‹åœ°å€ç©ºé—´
 * è¿”å›ï¼šæˆåŠŸ â†’ æ˜ å°„åŒºé¦–åœ°å€ï¼›å¤±è´¥ â†’ MAP_FAILED((void *)-1)ï¼Œerrno è¢«è®¾ç½®
 */</span>
<span class="hljs-type">void</span> *<span class="hljs-title function_">mmap</span><span class="hljs-params">(<span class="hljs-type">void</span> *start,     <span class="hljs-comment">/* æœŸæœ›æ˜ å°„çš„èµ·å§‹è™šæ‹Ÿåœ°å€ï¼Œé€šå¸¸ä¼  NULL è®©å†…æ ¸è‡ªåŠ¨æŒ‘é€‰ */</span>
           <span class="hljs-type">size_t</span> length,   <span class="hljs-comment">/* å¾…æ˜ å°„å­—èŠ‚æ•°ï¼Œå¿…é¡»æ˜¯é¡µå¤§å°(4K)æ•´æ•°å€ */</span>
           <span class="hljs-type">int</span> prot,        <span class="hljs-comment">/* æ˜ å°„åŒºæƒé™ä½ç»„åˆï¼šPROT_READã€PROT_WRITEã€PROT_EXECã€PROT_NONE */</span>
           <span class="hljs-type">int</span> flags,       <span class="hljs-comment">/* æ˜ å°„å±æ€§ + è¡Œä¸ºæ ‡å¿—ï¼Œå¸¸ç”¨ç»„åˆï¼š
                             *   MAP_SHARED  â€“ å¯¹æ˜ å°„åŒºçš„å†™å…¥ä¼šå›å†™æ–‡ä»¶ï¼ˆå…±äº«å†…å­˜/æ–‡ä»¶è½ç›˜ï¼‰
                             *   MAP_PRIVATE â€“ å†™æ—¶å¤åˆ¶ï¼Œä¸å½±å“åŸæ–‡ä»¶ï¼ˆä»…æœ¬è¿›ç¨‹å¯è§ï¼‰
                             *   MAP_ANONYMOUS â€“ ä¸å…³è” fdï¼Œç›´æ¥å¾—ä¸€å—å…¨ 0 åŒ¿åå†…å­˜
                             *   MAP_FIXED     â€“ å¼ºåˆ¶ä½¿ç”¨ start åœ°å€ï¼ˆå±é™©ï¼Œéœ€å¯¹é½ï¼‰
                             */</span>
           <span class="hljs-type">int</span> fd,          <span class="hljs-comment">/* è¦æ˜ å°„çš„æ–‡ä»¶æè¿°ç¬¦ï¼›è‹¥ MAP_ANONYMOUS é€šå¸¸ç»™ -1 */</span>
           <span class="hljs-type">off_t</span> offset)</span>;   <span class="hljs-comment">/* æ–‡ä»¶å†…èµ·å§‹åç§»ï¼Œä¹Ÿå¿…é¡»æŒ‰é¡µå¯¹é½ */</span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efb82201676d4515ac74e72b423d457d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=Uvo1DotwF5580OK3hDdXCxDygoA%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-10">å†…å­˜æ˜ å°„æ¶‰åŠçš„æ•°æ®ç»“æ„</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/da39d457d1dd40528a5099e3d4622130~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=uZ6OeWfuESU1TOrgbS3hAhaydUU%3D" alt="vmaæ•°æ®ç»“æ„.png" loading="lazy"/></p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">vm_area_struct</span> {</span>
	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> vm_start;		<span class="hljs-comment">/* å†…å­˜æ˜ å°„åŒºåŸŸèµ·å§‹åœ°å€ */</span>
	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> vm_end;		<span class="hljs-comment">/* å†…å­˜æ˜ å°„åŒºåŸŸç»“æŸåœ°å€ */</span>
	<span class="hljs-type">pgprot_t</span> vm_page_prot;		<span class="hljs-comment">/* è®¿é—®æƒé™ */</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">vm_area_struct</span> *<span class="hljs-title">vm_next</span>, *<span class="hljs-title">vm_prev</span>;</span> <span class="hljs-comment">/* æŒ‚å…¥ mm-&gt;mmap åŒå‘é“¾è¡¨ */</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">rb_node</span> <span class="hljs-title">vm_rb</span>;</span>		<span class="hljs-comment">/* æŒ‚å…¥ mm-&gt;mm_rb çº¢é»‘æ ‘ */</span>
	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> vm_pgoff;		<span class="hljs-comment">/* ä»¥é¡µä¸ºå•ä½çš„æ–‡ä»¶å†…åç§» */</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">file</span> *<span class="hljs-title">vm_file</span>;</span>		<span class="hljs-comment">/* è¢«æ˜ å°„çš„æ–‡ä»¶ï¼ˆMAP_ANONYMOUS æ—¶ NULLï¼‰ */</span>
	<span class="hljs-type">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">vm_operations_struct</span> *<span class="hljs-title">vm_ops</span>;</span> <span class="hljs-comment">/* vma æ“ä½œé’©å­ */</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">anon_vma</span> *<span class="hljs-title">anon_vma</span>;</span>	<span class="hljs-comment">/* åŒ¿åé¡µåå‘æ˜ å°„ */</span>
        
	<span class="hljs-comment">/* --- ä»¥ä¸‹æ¥è‡ª anon_vma å†…éƒ¨ï¼Œå›¾ä¸­æ··è´´ï¼Œå·²æ‹†å‡º --- */</span>
	<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">rb_node</span> <span class="hljs-title">rb</span>;</span>		<span class="hljs-comment">/* anon_vma-&gt;rb_root ä¸Šçš„èŠ‚ç‚¹ */</span>
        
	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> rb_subtree_last;	<span class="hljs-comment">/* å­æ ‘ä¸­æœ€å¤§åœ°å€ */</span>
    <span class="hljs-meta">#<span class="hljs-keyword">ifdef</span> CONFIG_ANON_VMA</span>
	<span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> shared;		<span class="hljs-comment">/* å¼•ç”¨è®¡æ•°æˆ–å…±äº«æ ‡å¿— */</span>
    <span class="hljs-meta">#<span class="hljs-keyword">endif</span></span>
};
</code></pre>
<p>å¦‚éœ€å®Œæ•´å†…æ ¸å®šä¹‰ï¼Œè¯·ç›´æ¥å‚è€ƒ <code>linux/mm_types.h</code>ã€‚</p>
<h3 data-id="heading-11">å†…å­˜æ˜ å°„æ¶‰åŠçš„å¤§ä½“æµç¨‹</h3>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e69c7d6ceb3649399fc755e439726230~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=oyeHcyd%2B%2BsYOG%2F12mAcstSn911Y%3D" alt="å†…å­˜æ˜ å°„1.png" loading="lazy"/></p>
<h2 data-id="heading-12">å†çœ‹ç¼ºé¡µå¼‚å¸¸å¤§ä½“æµç¨‹</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/84428559c3ce40398cbb636bdd46b03a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=z%2B5wDcS1U8%2B7YmUl2pCLjA6ELoo%3D" alt="ç¼ºé¡µå¼‚å¸¸.png" loading="lazy"/></p>
<h2 data-id="heading-13">æŒ‰éœ€è°ƒé¡µ</h2>
<p>æˆ‘ä»¬çš„è½¯ä»¶ç¨‹åºä¸€èˆ¬éƒ½è¢«æ‰“åŒ…åˆ° <code>ELF</code> æ–‡ä»¶ä¸­
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d9ac4248a9b04eeb80de8bdf3f7f7036~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=h4aTS667wFBnSxekYX3qt7uEuHA%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3eda04e0ac654e989fe395464dc0b2d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=jCYjue4kIQH1sMisOdKtZOoQNLw%3D" alt="æŒ‰éœ€åˆ†é¡µ1.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ed57afc6f69744ef92d336b737044c67~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Wk55CD546L5a2Q:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768534926&amp;x-signature=gE%2BzqJLduInMB4LCbCcdSIG4jVg%3D" alt="æŒ‰éœ€åˆ†é¡µ2.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vite+Antd+Micro-appä¸­iframeæ¨¡å¼ä¸‹æ ·å¼é—ªçƒçš„é—®é¢˜]]></title>    <link>https://juejin.cn/post/7592997693070180362</link>    <guid>https://juejin.cn/post/7592997693070180362</guid>    <pubDate>2026-01-09T08:08:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592997693070180362" data-draft-id="7592996072706064434" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vite+Antd+Micro-appä¸­iframeæ¨¡å¼ä¸‹æ ·å¼é—ªçƒçš„é—®é¢˜"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T08:08:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="bieao"/> <meta itemprop="url" content="https://juejin.cn/user/1011206430917710"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vite+Antd+Micro-appä¸­iframeæ¨¡å¼ä¸‹æ ·å¼é—ªçƒçš„é—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1011206430917710/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    bieao
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:08:21.000Z" title="Fri Jan 09 2026 08:08:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><strong>åœ¨<code>Vite</code>ä¸­ä½¿ç”¨<code>Micro-app</code>è¿›è¡Œå¾®å‰ç«¯å¼€å‘ï¼Œåšçš„è¿‡ç¨‹ä¸­å‘ç°åœ¨<code>iframe</code>æ¨¡å¼ä¸‹ï¼Œæ— è®ºæ˜¯é¦–å±åŠ è½½è¿˜æ˜¯ä¸­é—´çš„è·¯ç”±åˆ‡æ¢éƒ½ä¼šå‡ºç°<code>antd</code>æ ·å¼é—ªçƒ</strong>ï¼›å…·ä½“å¦‚ä¸‹ï¼š</p>
<ol>
<li>æŒ‰é’®çš„æ ·å¼ä»æœ€åˆå§‹çŠ¶æ€å˜ä¸º<code>Antd</code>çš„<code>Button</code>æ ·å¼ï¼Œæœ‰é¢œè‰²æ”¹å˜æ—¶ï¼Œæœ€ä¸ºæ˜æ˜¾</li>
<li>è¾“å…¥æ¡†ç”±<code>input</code>åˆå§‹æ ·å¼å˜ä¸º<code>Antd</code>çš„æ ·å¼</li>
<li>æ‰€æœ‰çš„<code>Antd</code>ç»„ä»¶éƒ½æ˜¯ä»æµè§ˆå™¨çš„é»˜è®¤æ ·å¼åŠ è½½ä¸º<code>Antd</code>çš„æ ·å¼</li>
</ol>
<p>è§£å†³å†ç¨‹</p>
<ol>
<li><strong>æ—¢ç„¶æ˜¯æ ·å¼ååŠ è½½ï¼Œé‚£ä¹ˆæ˜¯å¦å¯ä»¥è¿›è¡Œæ ·å¼é¢„è®¾ï¼Œå½“<code>Antd</code>æ ·å¼åŠ è½½æ—¶ï¼Œå°±ä¸ä¼šå‡ºç°æ˜æ˜¾çš„é—ªçƒ</strong></li>
</ol>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// index.html</span>
&lt;!-- iframe æ¨¡å¼ï¼šé¢„è®¾å…³é”®æ ·å¼ï¼Œé¿å… <span class="hljs-variable constant_">FOUC</span> --&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="css">
      <span class="hljs-comment">/* é¢„è®¾ä¸»é¢˜è‰²ï¼Œé¿å…æŒ‰é’®é¢œè‰²é—ªçƒ */</span>
      <span class="hljs-selector-class">.ant-btn-primary</span> {
        <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#7470e9</span>;
        <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#7470e9</span>;
        <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;
      }

      <span class="hljs-selector-class">.ant-input</span> {
        <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;
        <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;
        <span class="hljs-attribute">padding</span>: <span class="hljs-number">6.5px</span> <span class="hljs-number">11px</span>;
        <span class="hljs-attribute">border-width</span>: <span class="hljs-number">1px</span>;
        <span class="hljs-attribute">border-style</span>: solid;
        <span class="hljs-attribute">border-color</span>: <span class="hljs-number">#d9d9d9</span>;
        <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">6px</span>;
      }

      <span class="hljs-selector-class">.ant-btn</span> {
        <span class="hljs-attribute">border-width</span>: <span class="hljs-number">1px</span>;
      }
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span>
</code></pre>
<p><strong>è§£å†³æ•ˆæœï¼šè‚‰çœ¼å¯è§çš„é—ªçƒæ²¡æœ‰äº†ï¼Œä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯éœ€è¦æŠŠç”¨åˆ°çš„æ‰€æœ‰çš„<code>Antd</code>ç»„ä»¶çš„åŸºç¡€æ ·å¼æˆ–è€…å«å¼•èµ·æ˜æ˜¾æŠ–åŠ¨çš„æ ·å¼é¢„è®¾ï¼Œé¿å…æ˜æ˜¾æŠ–åŠ¨</strong></p>
<ol start="2">
<li><strong>ä»¿ç…§<code>Antd</code>ç»™<code>Next.js</code>åšçš„<code>@ant-design/nextjs-registry</code>åº“ï¼Œæ¥è§£å†³æå‰åŠ è½½æ ·å¼çš„é—®é¢˜</strong></li>
</ol>
<p><code>@ant-design/nextjs-registry</code>æ˜¯å¦‚ä½•è§£å†³åœ¨<code>Next.js</code>ä¸­é¦–å±åŠ è½½æ—¶é—ªçƒçš„é—®é¢˜ï¼Œæ˜¯åœ¨<code>Next.js</code>æ¸²æŸ“ç»„ä»¶æ—¶ï¼Œä½¿ç”¨<code>@ant-design/cssinjs</code>æä¾›çš„<code>const styles = extractStyle(cache, true)</code>èƒ½åŠ›</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-string">'use client'</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">AntdRegistry</span> = (<span class="hljs-params">{ children }</span>) =&gt; {
  <span class="hljs-title function_">useServerInsertedHTML</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åœ¨æœåŠ¡ç«¯æ¸²æŸ“æ—¶æ‰§è¡Œ</span>
    <span class="hljs-keyword">const</span> styleText = <span class="hljs-title function_">extractStyle</span>(cache, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">dangerouslySetInnerHTML</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">__html:</span> <span class="hljs-attr">styleText</span> }} /&gt;</span></span>;
  });

  <span class="hljs-keyword">return</span> <span class="xml"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">StyleProvider</span> <span class="hljs-attr">cache</span>=<span class="hljs-string">{cache}</span>&gt;</span>{children}<span class="hljs-tag">&lt;/<span class="hljs-name">StyleProvider</span>&gt;</span></span></span>;
};
</code></pre>
<p>å°†å«<code>Antd</code>çš„<code>HTML</code>ä»£ç å…¨éƒ¨å‘ç»™æµè§ˆå™¨ï¼Œè¿™æ ·æ¸²æŸ“çš„æ—¶å€™å°±ä¸ä¼šå‡ºç°æ ·å¼é—ªçƒï¼Œ<strong>ä½†æ˜¯</strong>è¿™ä¸ªæ˜¯<code>Next.js</code>çš„<strong>ä¸“å±èƒ½åŠ›</strong>ï¼Œ<code>CSR</code>(å®¢æˆ·ç«¯æ¸²æŸ“)çš„åšä¸åˆ°ï¼Œå› ä¸º<code>Antd</code>çš„ç»„ä»¶æ ·å¼æ˜¯åœ¨åŠ è½½ç»„ä»¶æ—¶æ‰ä¼šæ”¾åˆ°<code>cache</code>ä¸­ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨<code>App.tsx</code>ä¸­ä½¿ç”¨ä¸‹é¢çš„ä»£ç åŒ…æ‹¬ï¼Œæ˜¯æ²¡æœ‰ç”¨çš„</p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// åœ¨å®¢æˆ·ç«¯æŒ‚è½½æ—¶æ‰§è¡Œ</span>
    <span class="hljs-keyword">const</span> styleText = <span class="hljs-title function_">extractStyle</span>(cache, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">const</span> styleElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">'style'</span>);
    styleElement.<span class="hljs-property">textContent</span> = styleText;
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">insertBefore</span>(styleElement, <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-property">firstChild</span>);
  }, []);
</code></pre>
<p>è¿™ä¸ªä»£ç åœ¨æ‰§è¡Œæ—¶<code>styleText</code>å•¥ä¹Ÿæ²¡æœ‰ï¼ŒåŠ è½½ç»„ä»¶åœ¨<code>useEffect</code>ä¹‹åï¼Œ<strong>æ­¤æ—¶æˆ‘ä»¬å·²ç»å¾ˆæ¥è¿‘çœŸç›¸äº†</strong></p>
<ol start="3">
<li><strong>æˆ‘å‘ç°ä¸€ä¸ªç°è±¡ï¼Œåœ¨<code>SPA</code>é¡µé¢ä¸­ï¼Œæ ·å¼åªä¼šåœ¨é¦–å±æ—¶é—ªçƒï¼Œè¿›å…¥å…¶ä»–é¡µé¢åï¼Œå¹¶æ²¡æœ‰é—ªçƒï¼Œå·²åŠ è½½çš„æ ·å¼è¢«ç¼“å­˜äº†ï¼ŒæŸ¥è¯¢ä¹‹åï¼Œå‘ç°æ˜¯<code>Antd</code>çš„<code>cache</code>åœ¨åšç¼“å­˜åˆ¤æ–­ï¼Œç„¶åæˆ‘æŸ¥çœ‹äº†å­åº”ç”¨çš„æ ·å¼å‘ç°<code>Micro-app</code>ç»™æ¯ä¸ªæ ·å¼å¦åŠ äº†å‰ç¼€<code>micro-app[name=hospital-gateway]</code></strong></li>
</ol>
<pre><code class="hljs language-css" lang="css">micro-app<span class="hljs-selector-attr">[name=hospital-gateway]</span> ._hospital-search-wrapper_v077x_1 ._search-operate_v077x_5 <span class="hljs-selector-tag">button</span>Â {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;
    <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">8px</span>;
}
</code></pre>
<p>è¿™ä¸ªå‰ç¼€å¯¼è‡´äº†<code>Antd</code>çš„<code>cache</code>å¤±æ•ˆï¼Œè€Œä¸”æ¯æ¬¡è·¯ç”±åˆ‡æ¢æ—¶ï¼Œ<code>Micro-app</code>éƒ½ä¼šå°†<code>Antd</code>åŸæ¥çš„æ ·å¼é‡å†™ä¸ºæœ‰<code>micro-app[name=hospital-gateway]</code>å‰ç¼€çš„æ ·å¼ï¼Œè¿™å°±æ˜¯å¯¼è‡´æ¯æ¬¡æ ·å¼æŠ–åŠ¨çš„æ ¹æœ¬åŸå› ã€‚</p>
<ol start="4">
<li><strong>æ‰¾åˆ°æ ¹æºåï¼Œå°±çœ‹å¦‚ä½•å»æ‰è¿™ä¸ªå‰ç¼€ï¼Œ<code>iframe</code>æ¨¡å¼ä¸‹ï¼Œæ ·å¼æ˜¯å¤©ç„¶éš”ç¦»çš„ï¼Œæ˜¯ä¸éœ€è¦ç±»ä¼¼<code>with</code>æ¨¡å¼ä¸‹çš„æ ·å¼å‰ç¼€çš„ï¼Œè€Œä¸”å»æ‰å‰ç¼€ï¼Œä¹Ÿå¯ä»¥å¯ç”¨<code>Antd</code>çš„æ ·å¼ç¼“å­˜ï¼Œé¿å…åˆ‡æ¢è·¯ç”±æ—¶çš„æ ·å¼æŠ–åŠ¨ï¼Œæœ€åå‘ç°åœ¨æ·»åŠ <code>disable-scopecsså±æ€§</code>å°±å¯ä»¥å»æ‰è‡ªåŠ¨æ·»åŠ çš„å‰ç¼€</strong></li>
</ol>
<pre><code class="hljs language-js" lang="js">&lt;micro-app name={name} url={url} baseroute keep-alive disable-scopecss /&gt;
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¿å§†çº§æ•™ç¨‹ï¼šè®© Cursor ç¼–è¾‘å™¨çªç ´åœ°åŒºé™åˆ¶ï¼Œæ­£å¸¸è°ƒç”¨å¤§æ¨¡å‹ï¼ˆé™„é…ç½® + æˆªå›¾ï¼‰]]></title>    <link>https://juejin.cn/post/7592882393252315179</link>    <guid>https://juejin.cn/post/7592882393252315179</guid>    <pubDate>2026-01-09T08:07:35.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592882393252315179" data-draft-id="7592882393252134955" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¿å§†çº§æ•™ç¨‹ï¼šè®© Cursor ç¼–è¾‘å™¨çªç ´åœ°åŒºé™åˆ¶ï¼Œæ­£å¸¸è°ƒç”¨å¤§æ¨¡å‹ï¼ˆé™„é…ç½® + æˆªå›¾ï¼‰"/> <meta itemprop="keywords" content="Cursor,å‰ç«¯,åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T08:07:35.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¢‹é±¼ä¸é‡"/> <meta itemprop="url" content="https://juejin.cn/user/3611263333042152"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¿å§†çº§æ•™ç¨‹ï¼šè®© Cursor ç¼–è¾‘å™¨çªç ´åœ°åŒºé™åˆ¶ï¼Œæ­£å¸¸è°ƒç”¨å¤§æ¨¡å‹ï¼ˆé™„é…ç½® + æˆªå›¾ï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3611263333042152/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¢‹é±¼ä¸é‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:07:35.000Z" title="Fri Jan 09 2026 08:07:35 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Cursor çš„å¤§æ¨¡å‹åŠŸèƒ½ç›®å‰æš‚ä¸æ”¯æŒä¸­å›½åœ°åŒºç›´æ¥è®¿é—®ï¼Œå¯¼è‡´å¾ˆå¤šå¼€å‘è€…æ‰“å¼€åæ˜¾ç¤º â€œæ¨¡å‹åŠ è½½å¤±è´¥â€ã€‚ä»Šå¤©åˆ†äº«äº²æµ‹æœ‰æ•ˆçš„é…ç½®æ–¹æ³•ï¼Œå¸®ä½ çªç ´åœ°åŒºé™åˆ¶ï¼Œä¸æ»‘ä½¿ç”¨ Opusã€GPT ç­‰æ¨¡å‹ï½</p>
<h2 data-id="heading-0">ä¸€ã€å‡†å¤‡å·¥ä½œ</h2>
<p>å…ˆç¡®ä¿ä½ çš„ä»£ç†å·¥å…·ï¼ˆå¦‚ Clashã€V2ray ç­‰ï¼‰å·²æ­£å¸¸è¿è¡Œï¼Œä¸”æœ¬åœ°ä»£ç†ç«¯å£ä¸º <code>7897</code>ï¼ˆè‹¥ä½ çš„ä»£ç†ç«¯å£ä¸åŒï¼Œåç»­é…ç½®éœ€å¯¹åº”ä¿®æ”¹ï¼‰ã€‚</p>
<h2 data-id="heading-1">äºŒã€é…ç½® Cursor ä»£ç†ï¼ˆå¸¦æ­¥éª¤å›¾ï¼‰</h2>
<h3 data-id="heading-2">æ­¥éª¤ 1ï¼šæ‰“å¼€ Cursor è®¾ç½®ç•Œé¢</h3>
<ul>
<li>ç‚¹å‡» Cursor å·¦ä¸Šè§’ã€Œæ–‡ä»¶ (F)ã€èœå•</li>
<li>é¼ æ ‡ç§»åˆ°ã€Œé€‰é¡¹ã€ï¼Œåœ¨å­èœå•ä¸­é€‰æ‹©ã€Œè®¾ç½®ã€ï¼ˆå¿«æ·é”®ï¼š<code>Ctrl+,</code>ï¼‰ï¼ˆå¯¹åº”æ­¥éª¤å›¾ 1 çš„ã€Œæ–‡ä»¶ã€â†’ã€Œé€‰é¡¹ã€â†’ã€Œè®¾ç½®ã€ï¼‰</li>
</ul>
<p>ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å³ä¸Šè§’ã€Œ...ã€æŒ‰é’®ï¼Œé€‰ã€Œæ‰“å¼€è®¾ç½® (json)ã€ï¼ˆå¯¹åº”æ­¥éª¤å›¾ 2ï¼‰</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/467cb09f8fc24cbd8b8856102b89a2ac~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKL6bG85LiN6YeN:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768550855&amp;x-signature=EKjUNknzFGhb%2B9yteKBg%2F0c9rO0%3D" alt="image.png" loading="lazy"/></p>
<p align="center">æ­¥éª¤å›¾1</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6f334c5501c4f559495b6354a69ee58~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKL6bG85LiN6YeN:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768550855&amp;x-signature=GFTc5I8T8NaLCyD2Q5HNEQOM55g%3D" alt="img_v3_02tp_919fb41f-2117-4098-b521-a64df7ce741g.jpg" loading="lazy"/></p>
<p align="center">æ­¥éª¤å›¾2</p>
<h3 data-id="heading-3">æ­¥éª¤ 2ï¼šæ·»åŠ åœ°åŒºè§£é”é…ç½®</h3>
<p>åœ¨<code>settings.json</code>ä¸­ç²˜è´´ä»¥ä¸‹ä»£ç ï¼ˆç›´æ¥å¤åˆ¶å³å¯ï¼Œå¯¹åº”æ­¥éª¤å›¾ 3 çº¢æ¡†åŒºåŸŸï¼Œæ³¨æ„ JSON æ ¼å¼çš„é€—å·åˆ†éš”ï¼‰</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"http.proxy"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"http://127.0.0.1:7897"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"http.proxySupport"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"override"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"http.noProxy"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"cursor.general.disableHttp2"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"http.proxyStrictSSL"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span>
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4470c68543f64b13873bc4807b61d845~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKL6bG85LiN6YeN:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768550855&amp;x-signature=CBWL9mLy1fsb5xM0wDD81FmvfiU%3D" alt="image.png" loading="lazy"/></p>
<p align="center">æ­¥éª¤å›¾3</p>
<p>ä¿å­˜é…ç½®ï¼Œæ­¤æ—¶ç‚¹å‡»æ¨¡å‹é€‰æ‹©èœå•ï¼ˆæ­¥éª¤å›¾ 4ï¼‰ï¼Œå°±èƒ½æ­£å¸¸åŠ è½½ Opusã€GPT-4 ç­‰æ¨¡å‹äº†ï½</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4dcaff26cb5148b6844b0368f9a7be0a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6KKL6bG85LiN6YeN:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768550855&amp;x-signature=Q2YDWd55Xe%2FmvGOg8sNxMhjmWxs%3D" alt="img_v3_02tp_2e44b001-fe13-41cb-8ca6-b4321679ac5g.jpg" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”Ÿäº§ç¯å¢ƒçš„logï¼Œä¸Šä¼ åˆ°å¼€å‘è€…çš„æœ¬åœ°æœåŠ¡å™¨]]></title>    <link>https://juejin.cn/post/7593164154630963209</link>    <guid>https://juejin.cn/post/7593164154630963209</guid>    <pubDate>2026-01-09T08:11:14.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593164154630963209" data-draft-id="7593015632082780187" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”Ÿäº§ç¯å¢ƒçš„logï¼Œä¸Šä¼ åˆ°å¼€å‘è€…çš„æœ¬åœ°æœåŠ¡å™¨"/> <meta itemprop="keywords" content="JavaScript,Python"/> <meta itemprop="datePublished" content="2026-01-09T08:11:14.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±Ÿæ¹–yiå±±äºº"/> <meta itemprop="url" content="https://juejin.cn/user/325111174934647"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”Ÿäº§ç¯å¢ƒçš„logï¼Œä¸Šä¼ åˆ°å¼€å‘è€…çš„æœ¬åœ°æœåŠ¡å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/325111174934647/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±Ÿæ¹–yiå±±äºº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:11:14.000Z" title="Fri Jan 09 2026 08:11:14 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰æ™¯</h2>
<p>å¼€å‘è€…æƒ³æŒæ¡ç”Ÿäº§ç¯å¢ƒçš„ä¸€äº›æ—¥å¿—ï¼Œä½†æ˜¯åˆä¸éœ€è¦æ·»åŠ å®é™…çš„åŸ‹ç‚¹è¿›è¡Œä¸ŠæŠ¥ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å°†æ—¥å¿—ä¸Šä¼ åˆ°å¼€å‘è€…çš„æœ¬åœ°</p>
<h2 data-id="heading-1">æ€è·¯</h2>
<p>å¯åŠ¨æœ¬åœ°æœåŠ¡çš„æŸä¸€ä¸ªç«¯å£ç”¨ä½œæ•°æ®çš„æ¥æ”¶ï¼Œç„¶ååœ¨ä»£ç ä¸­è°ƒç”¨è¿™ä¸ªæœåŠ¡ä¸Šä¼ æ—¥å¿—</p>
<h2 data-id="heading-2">å®ç°</h2>
<h3 data-id="heading-3">1 å¯åŠ¨æœ¬åœ°æœåŠ¡</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment">#!/usr/bin/env python3</span>
<span class="hljs-string">"""
HTTP æ—¥å¿—æ¥æ”¶æœåŠ¡å™¨
å°†å‘é€åˆ° http://IP:PORT/h5/log çš„ POST è¯·æ±‚æ•°æ®ï¼Œä¿å­˜åˆ° ./h5/log ç›®å½•ä¸‹çš„æ–‡ä»¶ä¸­ã€‚
"""</span>
<span class="hljs-keyword">from</span> http.server <span class="hljs-keyword">import</span> HTTPServer, BaseHTTPRequestHandler
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">import</span> os
<span class="hljs-keyword">import</span> json

<span class="hljs-comment"># é…ç½®</span>
IP = <span class="hljs-string">'xxx.xxx'</span> <span class="hljs-comment"># æœ¬åœ°æœåŠ¡ip</span>
PORT = xxxx <span class="hljs-comment"># æœåŠ¡ç«¯å£</span>
SAVE_DIR = <span class="hljs-string">'./h5/log'</span>  <span class="hljs-comment"># æ—¥å¿—ä¿å­˜ç›®å½•ï¼Œç›¸å¯¹äºè„šæœ¬æ‰€åœ¨è·¯å¾„</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">LogHandler</span>(<span class="hljs-title class_ inherited__">BaseHTTPRequestHandler</span>):
    <span class="hljs-comment"># é€šç”¨æ–¹æ³•ç”¨äºè®¾ç½®CORSå¤´éƒ¨</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_set_cors_headers</span>(<span class="hljs-params">self</span>):
        self.send_header(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, <span class="hljs-string">'*'</span>)  <span class="hljs-comment"># å…è®¸æ‰€æœ‰æ¥æºï¼Œå¯æŒ‰éœ€æ›¿æ¢</span>
        self.send_header(<span class="hljs-string">'Access-Control-Allow-Methods'</span>, <span class="hljs-string">'GET, POST, OPTIONS'</span>)
        self.send_header(<span class="hljs-string">'Access-Control-Allow-Headers'</span>, <span class="hljs-string">'Content-Type, Authorization'</span>)
    
    <span class="hljs-comment"># å¤„ç†æµè§ˆå™¨å‘é€çš„OPTIONSé¢„æ£€è¯·æ±‚</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">do_OPTIONS</span>(<span class="hljs-params">self</span>):
        self.send_response(<span class="hljs-number">200</span>)
        self._set_cors_headers()
        self.end_headers()
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">do_POST</span>(<span class="hljs-params">self</span>):
        <span class="hljs-comment"># åªå¤„ç† /h5/log è·¯å¾„çš„è¯·æ±‚</span>
        <span class="hljs-keyword">if</span> self.path == <span class="hljs-string">'/h5/log'</span>:
            <span class="hljs-comment"># 1. è¯»å–è¯·æ±‚æ•°æ®</span>
            content_length = <span class="hljs-built_in">int</span>(self.headers.get(<span class="hljs-string">'Content-Length'</span>, <span class="hljs-number">0</span>))
            post_data = self.rfile.read(content_length)

            <span class="hljs-comment"># 2. ç¡®ä¿ä¿å­˜ç›®å½•å­˜åœ¨</span>
            os.makedirs(SAVE_DIR, exist_ok=<span class="hljs-literal">True</span>)

            <span class="hljs-comment"># 3. ç”Ÿæˆå¸¦æ—¶é—´æˆ³çš„æ—¥å¿—æ–‡ä»¶å</span>
            filename = datetime.now().strftime(<span class="hljs-string">'log_%Y-%m-%d.txt'</span>)
            filepath = os.path.join(SAVE_DIR, filename)

            <span class="hljs-comment"># 4. å°†æ•°æ®å†™å…¥æ–‡ä»¶ï¼ˆè¿½åŠ æ¨¡å¼ï¼‰</span>
            <span class="hljs-keyword">try</span>:
                <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(filepath, <span class="hljs-string">'a'</span>, encoding=<span class="hljs-string">'utf-8'</span>) <span class="hljs-keyword">as</span> f:
                    <span class="hljs-comment"># å†™å…¥å½“å‰æ—¶é—´</span>
                    f.write(<span class="hljs-string">f"[<span class="hljs-subst">{datetime.now().strftime(<span class="hljs-string">'%Y-%m-%d %H:%M:%S'</span>)}</span>]\n"</span>)
                    <span class="hljs-comment"># å°è¯•è§£æå¹¶ç¾åŒ–JSONï¼Œå¦‚æœæ˜¯æ™®é€šæ–‡æœ¬åˆ™ç›´æ¥å†™å…¥</span>
                    <span class="hljs-keyword">try</span>:
                        data_obj = json.loads(post_data.decode(<span class="hljs-string">'utf-8'</span>))
                        f.write(json.dumps(data_obj, ensure_ascii=<span class="hljs-literal">False</span>, indent=<span class="hljs-number">2</span>))
                    <span class="hljs-keyword">except</span> json.JSONDecodeError:
                        f.write(post_data.decode(<span class="hljs-string">'utf-8'</span>))
                    f.write(<span class="hljs-string">'\n'</span> + <span class="hljs-string">'-'</span>*<span class="hljs-number">50</span> + <span class="hljs-string">'\n'</span>)  <span class="hljs-comment"># åˆ†éš”çº¿</span>

                <span class="hljs-comment"># 5. è¿”å›æˆåŠŸå“åº”</span>
                self.send_response(<span class="hljs-number">200</span>)
                self._set_cors_headers()
                self.send_header(<span class="hljs-string">'Content-type'</span>, <span class="hljs-string">'application/json'</span>)
                self.end_headers()
                response = {<span class="hljs-string">'status'</span>: <span class="hljs-string">'success'</span>, <span class="hljs-string">'message'</span>: <span class="hljs-string">f'Log saved to <span class="hljs-subst">{filepath}</span>'</span>}
                self.wfile.write(json.dumps(response).encode(<span class="hljs-string">'utf-8'</span>))

            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                self.send_error(<span class="hljs-number">500</span>, <span class="hljs-string">f'Failed to save log: <span class="hljs-subst">{<span class="hljs-built_in">str</span>(e)}</span>'</span>)
        <span class="hljs-keyword">else</span>:
            self.send_error(<span class="hljs-number">404</span>, <span class="hljs-string">'Not Found'</span>)

    <span class="hljs-comment"># å¯é€‰ï¼šå¤„ç†GETè¯·æ±‚ï¼Œæ–¹ä¾¿æµ‹è¯•</span>
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">do_GET</span>(<span class="hljs-params">self</span>):
        <span class="hljs-keyword">if</span> self.path == <span class="hljs-string">'/h5/log'</span>:
            self.send_response(<span class="hljs-number">200</span>)
            self._set_cors_headers()
            self.send_header(<span class="hljs-string">'Content-type'</span>, <span class="hljs-string">'text/html; charset=utf-8'</span>)
            self.end_headers()
            message = <span class="hljs-string">f"""
            &lt;html&gt;&lt;body&gt;
            &lt;h2&gt;æ—¥å¿—æ¥æ”¶æœåŠ¡å™¨è¿è¡Œä¸­&lt;/h2&gt;
            &lt;p&gt;æœåŠ¡ç«¯æ—¶é—´ï¼š<span class="hljs-subst">{datetime.now()}</span>&lt;/p&gt;
            &lt;p&gt;æ—¥å¿—ä¿å­˜ç›®å½•ï¼š<span class="hljs-subst">{os.path.abspath(SAVE_DIR)}</span>&lt;/p&gt;
            &lt;p&gt;è¯·ä½¿ç”¨ POST æ–¹æ³•å‘æ­¤åœ°å€å‘é€æ•°æ®ä»¥ä¿å­˜æ—¥å¿—ã€‚&lt;/p&gt;
            &lt;/body&gt;&lt;/html&gt;
            """</span>
            self.write(message.encode(<span class="hljs-string">'utf-8'</span>))
        <span class="hljs-keyword">else</span>:
            self.send_error(<span class="hljs-number">404</span>, <span class="hljs-string">'Not Found'</span>)

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">log_message</span>(<span class="hljs-params">self, <span class="hljs-built_in">format</span>, *args</span>):
        <span class="hljs-comment"># å¯é€‰ï¼šè‡ªå®šä¹‰è¯·æ±‚æ—¥å¿—ï¼Œæ­¤å¤„ç®€å•æ‰“å°åˆ°æ§åˆ¶å°</span>
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[<span class="hljs-subst">{datetime.now().strftime(<span class="hljs-string">'%Y-%m-%d %H:%M:%S'</span>)}</span>] <span class="hljs-subst">{self.address_string()}</span> -&gt; <span class="hljs-subst">{self.command}</span> <span class="hljs-subst">{self.path}</span>"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    server = HTTPServer((IP, PORT), LogHandler)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[*] æ—¥å¿—æœåŠ¡å™¨å·²å¯åŠ¨ï¼Œæ­£åœ¨ç›‘å¬ http://<span class="hljs-subst">{IP}</span>:<span class="hljs-subst">{PORT}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[*] è¯·å°† POST è¯·æ±‚å‘é€è‡³ http://<span class="hljs-subst">{IP}</span>:<span class="hljs-subst">{PORT}</span>/h5/log"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"[*] æ—¥å¿—æ–‡ä»¶å°†ä¿å­˜è‡³ï¼š<span class="hljs-subst">{os.path.abspath(SAVE_DIR)}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"[*] æŒ‰ Ctrl+C åœæ­¢æœåŠ¡å™¨\n"</span>)
    <span class="hljs-keyword">try</span>:
        server.serve_forever()
    <span class="hljs-keyword">except</span> KeyboardInterrupt:
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"\n[*] æœåŠ¡å™¨æ­£åœ¨å…³é—­..."</span>)
        server.server_close()
</code></pre>
<p>å°†ä»£ç copyä¸‹æ¥ä¿å­˜ä¸ºlog_server.pyï¼Œç„¶ååœ¨åŒçº§ç›®å½•ä¸‹è¿è¡Œï¼Œå³å¯å¯åŠ¨æœ¬åœ°ç«¯å£</p>
<pre><code class="hljs language-powershell" lang="powershell">python3 log_server.py
</code></pre>
<p>ç»“æœå¦‚å›¾è¡¨ç¤ºå¯åŠ¨æˆåŠŸ
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6f83108f5ad47e38a214a84ef38b211~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmWeWnlsbHkuro=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768551073&amp;x-signature=O%2B3eUKU2U5Vpuo6kqBq0QiVRYrM%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-4">2 å°è£…ä¸Šä¼ æ–¹æ³•</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">logLocal</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-keyword">const</span> href = <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">href</span>
  <span class="hljs-keyword">if</span> (!href.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'https://test'</span>)) <span class="hljs-keyword">return</span> <span class="hljs-comment">// ä»…æµ‹è¯•ç¯å¢ƒä½¿ç”¨</span>
  <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'http://IP:PORT/h5/log'</span>, { <span class="hljs-comment">// IP-æœ¬åœ°IPï¼ŒPORT-è¿›è¡Œç›‘å¬çš„æ¥å£</span>
    <span class="hljs-attr">method</span>: <span class="hljs-string">'POST'</span>,
    <span class="hljs-attr">headers</span>: {
      <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/json'</span>
    },
    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({
      <span class="hljs-attr">url</span>: href,
      ...data
    })
  }).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {})
}
</code></pre>
<h3 data-id="heading-5">3 ä¸Šä¼ æ•°æ®</h3>
<p>åœ¨jsä»£ç ä¸­çš„éœ€è¦ä½ç½®è°ƒç”¨logLocal</p>
<pre><code class="hljs language-javascript" lang="javascript">...
<span class="hljs-title function_">logLocal</span>({ <span class="hljs-attr">msg</span>: <span class="hljs-string">'è¿™æ˜¯ä¸ªæµ‹è¯•log'</span> })
...
</code></pre>
<h3 data-id="heading-6">4 æŸ¥çœ‹æ—¥å¿—</h3>
<p>åœ¨log_server.pyè„šæœ¬çš„åŒçº§ç›®å½•ä¸‹ï¼Œæ‰“å¼€h5/logçš„æ–‡ä»¶å¤¹ï¼Œæ‰¾åˆ°log_{date}.txtï¼Œæ‰“å¼€åå¦‚ä¸‹å›¾ï¼Œurlå’Œéœ€è¦ä¸ŠæŠ¥çš„ä¿¡æ¯ä¸Šä¼ æˆåŠŸ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d501268cbcfb48758d584ac914ae1ad7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5rGf5rmWeWnlsbHkuro=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768551073&amp;x-signature=Q2nO%2F%2BMpVHqUpXCpp2T1sSa2hqI%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç ä¸Šæ˜Ÿè¾°ï¼Œäººé—´çƒŸç«ï¼šæˆ‘çš„2025]]></title>    <link>https://juejin.cn/post/7592887786967072804</link>    <guid>https://juejin.cn/post/7592887786967072804</guid>    <pubDate>2026-01-09T07:23:27.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592887786967072804" data-draft-id="7592921639464501290" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç ä¸Šæ˜Ÿè¾°ï¼Œäººé—´çƒŸç«ï¼šæˆ‘çš„2025"/> <meta itemprop="keywords" content="å‰ç«¯,ä»£ç è§„èŒƒ,ç¨‹åºå‘˜"/> <meta itemprop="datePublished" content="2026-01-09T07:23:27.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="zhouzhouya"/> <meta itemprop="url" content="https://juejin.cn/user/3931509312987511"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç ä¸Šæ˜Ÿè¾°ï¼Œäººé—´çƒŸç«ï¼šæˆ‘çš„2025
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3931509312987511/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    zhouzhouya
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:23:27.000Z" title="Fri Jan 09 2026 07:23:27 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    11
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body blockquote&gt;:first-child{margin-top:0}.markdown-body blockquote&gt;:last-child{margin-bottom:0}.markdown-body{overflow:hidden;line-height:1.75;font-size:15px;background-image:linear-gradient(90deg,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0),linear-gradient(1turn,rgba(72,42,10,.05) 5%,rgba(72,42,10,0) 0);background-size:20px 20px;background-position:50%;padding-top:0!important}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{position:relative;display:flex;border-bottom:5px solid #6d4e00;line-height:35px;letter-spacing:1px;font-size:25px;padding-left:25px;color:#664900;text-shadow:1px 1px 1px #8a6200;padding-bottom:0}.markdown-body h1:before{content:"";display:flex;position:absolute;left:0;top:3px;bottom:0;margin:auto;width:20px;height:20px;background-size:20px 20px;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC")}.markdown-body h2{position:relative;padding:0 0 0 20px;font-size:20px;font-weight:700;color:#614500}.markdown-body h2:before{content:"";position:absolute;top:3px;bottom:0;left:0;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAQlBMVEVHcEwlRnqtZBj76q4lRnolRnolRnolRnolRnokRnr/gGtrVUeLXDBKTl+hYSHasW7Ik0zs0JG4dCvUdEE0SW+rYxrLQJfjAAAACnRSTlMA////0H/xUaMi5MCoTwAACfVJREFUeNrtnQl3qygUgJ9GXAqosfL//+pgmgXwXmRNJGdu55xO+6rx8+6I8O9fehmGriN93zdN07bVXdpW/ih/SbpuGP6dXbpOXv7z2i3S9ISck2eQOnAhMHG64VQQbmrAaM4B05GmipaGdB+m6BNQPBXzMYtKR3EPbB/RS5eY4g+lIW9WBqnySCvVMrzRpqqs0g9nwVg5p1KYlHEchRT5bftp+y3n6xlQDjAkABtrKULU9f377ev+4/1/NiT+URRiZRhrcZP6WLa/Gq005BORaqXsdYEuHPIP798ZxSyt6d5sVfxJESRCsvB32lfXwhRjnUBGmKXNoJQe04VIASJqRC/9G7yDsyQMiloYz+0pHYghEoPISAGgpDSvHsCoMwmA0mfjSG5UOsqah2RodkljzMkhZZdamiEDB8+Nsbk9T04yGNljDXGOZZ6u0+Tj9DuvbyNJBuPO0ABtLNPlJtfZJ4CNNCWJoY8gddwxNpm9YrHh9DEkBoeMud4Kma8XRZaYpBJOYvg59U9wOsblMvmGrzQe30dyqFZ1dxPfO0FT5BOdw989THVs4q1TFk+iN4PMu7CaLpd4EJOExNaJLE4d0xQKYpJ0cY5Ozcwwu6WOu2cs9TUYxPB4b4fvLRzTUXbT1HH7y0BnB0j6CAehkPFfFzd1TMsi6sU1/P4VM9NiISHBlYnBMR+kad075sXlmMehj1twnfTUqJH4GJfqIKte7S72emPnHbdiYHIB0e6ATjKq1UoTaFh6wBL2csMIVo9fH/v6QRHAgoxrOHQQxG/36tC1ODmGOeBGBRmXalgcdhDQ1xF1vI6a3DF2d4r7G1enOUgNOshlFq7qUCxrca9ldiCam7ilxRbP6JbOYsYtfLFmkcXEgLG1DN/6eroxHjqh5bh+Uw27e1oWVK7pN+AqwzUcq/UYTPw8nWufLFBHN2zcxLRYlmGPs6rA2Wy0uJe/E7TknbHIa1WH1bLA8DAj3JpxET+FCNCWZ5uNT6jxTPZK/1mXoCBeKlGLRT2lP69XN3XdqqCojKX1ZVda6iD2McjeXSHa0I+AHd2InGAJgjRVM6gOBfygDrarRJnho6eQBbrns+HkcNUCWtYClJa66qFgPbqqZEBTCOAgRqxCOhQBWpZeIC6QBq91hEoI5unTjsMsK9DCFigY9WNn19hgVCrELalrTw6WnYMYzjHhQ2/7G2xTx1HvwpzSe4cVi5ORQQwMW9+72FU5L4gGsa6Yu1RcDeIhs64Qs8izt0vGH+n9/IKaIlYpM2UqkYOrwwq5CgBjWpyGtxaonxe4KaJ3hx+7O0HaqVkxLBPj8FmBVmjNevIUFhUuDmMq5NDV9RwyPe/95IvxAhG7ymqxHGE5sZJL2kPLUhUinkXfrnFwGFwXD99djNLSFh/meXEb2B6Oyiwm0I7BC+OlTlOVPk9K8CIYzu5YHwKDTI6XAo5lz3WEqEXwQRKhh5cyLa6D81P4PXBw984as9YaGXHwx4Ba8rmOldUat/BHt9cQ38AaljnBdCJqs60OcXVDJZP//ZwSWtV9FpHNtgg22KuYx/U2tB5Mcp1TYOiphNhiFjgWeJ3DL2OZpuuUisIoUyzZEJ76I+LmyqWdv8LwnEiwMYczihjxeqtBsuFJSTg2oD1ETQx4v6D1VleSZW1xCwvAfVGWpQ069kgrQksAUW2rReYzsboIjSABuDQX0QJwB9cnZVgWVgE31vrklAJnEmVObykgYCk/VGX5OlpuKb5eiovUAvJ2tMstw0kIkNdpiSA91K6XA6K8CVCyr4PePhTo65q3DyX7OpTbSVk1PB62mhJ9HSpSqtKaESxsFRm0tLBVcvTV+vbBrLRK4hC7aitN9B0ZpX6vNMgjGIt5ZdmMv32KrmprD1afsPd4FEhThK0+WfTl3kpd482AGvG3jQdZK1+t8ireDswhofigRb3fxfI/4jj+xkffUX/1ccxxhEP9qyyBEH9Cx9vhf8TB7eiSpBHjZVSa4whQMJC1TqIR6q8RERtjOr2ID0yx3oYi0oAIvZCPz4eG64p3ObuREeOHUIR3MBVJwq9yll5P7KHdiPBOiOoRa/AjXz21J3k04l+i8OjErj4kaXWQiIVO/EvA+KLRAEnUVomtjPd6SvR3RLoeMT54nKFH1EqtkkEGFaQuTlSQrsxhRiOIt51S/Ho8B11+FUlwRaHnU4utEI38/mgSjRJ8PhWEtN6Z6WcncQOU4efjKoh3zfi7/+DfhPrwOZ9a/iYBiVJJxPlei3CqIDTYEqAPFow5/c71fAdVIwmo4n+cTIGbr2n9NULAE5ifcNNS63hvEOFk0wxYnICBBZ0I9xERBVILF0uggNdxuOkR4S6ngvgPmArzHv4KpMKGQFjQ+Rw6q9dC6R6dgZaJF7RVWIH0BTY9h+fz0ohHOyLuy+He/hN4GUR3/RxcBx2f76izarI9CaXmzRmhNQuSfIgJkva5GzN6HJbhQxCNsDGDSh56plmef6sg2eaXPsYBt5W+H6VE6omG6hOS1w4hiTWiThbJ1YO+RSO1vrpMlomf6nhQGz0m7qT6W04XOUHyzhZ4rkG+0hxL66oDW9mnPWyL3TMmssxyQUwr01CHX7b2OvUIaqS48TnMtAoEQTQixJeAlDfSiGmk/l8jpwIpTyFqOfeNIHWBooC036ERtUQp2tm/CKT5jjySbxTlvUVj2yhjvyWDVL3yfKRojXwLSEWUp7q0PBAKPp7m5YGoT3WH7wAZ1BeOywNZv3Gak/LIqriwxbQ5jaTcsEW1eb+FvoWo+zr5V/IUOvNtsapU2zJXSyj0xVB13sPfq0kkZA7dubIIKXIlJ8Cy7u+BN22RVcr+peOuxHdcBbA04FAVmEoEtO5vX55K4KVZS1QJvBBzU1rgUl8JapBNYIowLoZtD9NWRTWKqqe36L48BSz8QPH9epqqIDehlh2UuqocEmrdV7AvhuRoM74m80yeDIEX3ppreNN235FxV58DNjhswn5K8zK21+5ctjut6NmUIoy9tVvitnHr2VDM3ahtW8KQ/Vbsp9GGiWHfk8skyTSFz9/HdxhHe4uR/RxX/mG1SGXwypcDJNmCMfucZ/C1CuCQUbiBUDYbe7tiRkZX8GIat50d+wqR1fdN7ygGzrHrcN4kGFHK02cil5M6INgQVsvnNz77T5PqUFYJJInYmIBplJfP5On4eiOwYfhuCD44oLyYVs43rI1rk3H7usttzq8Qo3j84vavN9mOkAeuq8dHEd9NtCVKX51Oen+MM6IEYvz5StOehKLpIjD+nKU5AQWJpLizdB+1sb5LQvFRxbSJVGHmSdK/0WWaPguEYmcSJ68aWkK6rAw6jwSSCmrTWVHT96R7HwHANEgqybVJL+E2vE2q7Uu91Gr73SbbNUvZDtiOlCeIv4r/AI+0XUwz1lvcAAAAAElFTkSuQmCC");background-size:100% 100%;background-repeat:no-repeat;width:15px;height:15px;margin:auto}.markdown-body h3{width:100%;text-align:left;margin:20px 10px 0 0;font-size:18px;font-weight:700;display:inline-block;padding-left:10px;padding-bottom:0;border-left:5px solid #8f6600;color:#614500}.markdown-body h4,.markdown-body h5,.markdown-body h6{font-weight:700;color:#a37400}.markdown-body h4{font-size:17px}.markdown-body h5,.markdown-body h6{display:flex;align-items:center}.markdown-body h5:after,.markdown-body h6:after{display:inline-block;border:2px solid #fff6e0;color:rgba(189,134,0,.5);border-radius:50%;text-align:center;margin-left:5px}.markdown-body h5{font-size:14px}.markdown-body h5:after{content:"5";width:15px;height:15px;line-height:15px;font-size:13px}.markdown-body h6{font-size:12px}.markdown-body h6:after{content:"6";width:13px;height:13px;line-height:13px;font-size:12px}.markdown-body p{color:#412c0c;letter-spacing:1px;font-weight:400;margin-bottom:16px}.markdown-body img{max-width:100%;display:block;margin:auto}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{color:#755300;font-weight:400;border-bottom:1px solid #755300;font-weight:bolder;text-decoration:none}.markdown-body table{width:100%!important;margin:0;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border-spacing:0}.markdown-body table img{box-shadow:none}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body thead tr th{text-align:center}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px;box-sizing:border-box;border:1px solid rgba(72,42,10,.1)}.markdown-body blockquote{position:relative;text-size-adjust:100%;line-height:25px;font-weight:400;border-radius:10px;font-style:normal;text-align:left;box-sizing:inherit;border:1px solid #ffd87a;background-color:rgba(189,134,0,.5);margin:20px 0;padding:20px}.markdown-body blockquote p{color:#fff6e0;letter-spacing:2px;margin:0}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;color:#cc9100;font-size:34px;font-weight:700}.markdown-body blockquote:before{content:"â";top:8px;left:5px}.markdown-body blockquote:after{content:"â";right:5px;bottom:-5px}.markdown-body strong{color:#c28a00;font-weight:bolder}.markdown-body strong:before{content:"ã€Œ"}.markdown-body strong:after{content:"ã€"}.markdown-body em{color:#c28a00}.markdown-body em strong{font-style:normal;color:#c28a00;background-color:#8a6200}.markdown-body s{color:#c28a00}.markdown-body hr{border-top:1px solid #805b00}.markdown-body code,.markdown-body li code,.markdown-body p code{color:#996d00;background-color:rgba(130,98,0,.3)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit;color:#858585;font-family:bold;letter-spacing:1px}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection,.markdown-body img::selection{color:rgba(189,134,0,.5);background-color:#fff}.markdown-body a::selection,.markdown-body b::selection,.markdown-body del::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:transparent}.markdown-body pre&gt;code::selection{background-color:rgba(189,134,0,.5)}.markdown-body .math .math-inline::selection,.markdown-body blockquote::selection,.markdown-body ol::selection,.markdown-body p::selection,.markdown-body strong::selection,.markdown-body table::selection,.markdown-body ul::selection{background-color:rgba(189,134,0,.5)}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="androidstudio">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#a9b7c6;background:#282b2e}.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#6897bb}.hljs-deletion,.hljs-keyword,.hljs-selector-tag{color:#cc7832}.hljs-link,.hljs-template-variable,.hljs-variable{color:#629755}.hljs-comment,.hljs-quote{color:grey}.hljs-meta{color:#bbb529}.hljs-addition,.hljs-attribute,.hljs-string{color:#6a8759}.hljs-section,.hljs-title,.hljs-type{color:#ffc66d}.hljs-name,.hljs-selector-class,.hljs-selector-id{color:#e8bf6a}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å¼€ç¯‡</h2>
<p>2025å¹´å°±è¿™ä¹ˆè¿‡å»äº†ã€‚è¯´å®è¯ï¼Œç«™åœ¨12æœˆçš„å°¾å·´ä¸Šå¾€å›çœ‹ï¼Œæ„Ÿè§‰æ—¶é—´å°±åƒè¢«æŒ‰äº†1.5å€é€Ÿï¼Œä¸Šä¸€ç§’è¿˜åœ¨ä¸ºæŸä¸ªçš„éœ€æ±‚å‘æ„ï¼Œä¸‹ä¸€ç§’å·²ç»åœ¨å†™å¹´ç»ˆæ€»ç»“äº†ã€‚</p>
<p>è¿™ä¸€å¹´æŒºæœ‰æ„æ€çš„ã€‚å·¥ä½œä¸Šï¼Œæˆ‘ä»ä¸€ä¸ªåŸ‹å¤´å†™ä»£ç çš„å‰ç«¯ï¼Œå¼€å§‹å­¦ç€æŠ¬å¤´çœ‹è·¯ï¼›ç”Ÿæ´»é‡Œï¼Œæˆ‘ä¹Ÿåœ¨å’Œé‚£äº›â€œç¨‹åºå‘˜èŒä¸šç—…â€æ–—æ™ºæ–—å‹‡ï¼Œè¯•ç€åœ¨é”®ç›˜ä¹‹å¤–ï¼Œæ‰¾å›ç”Ÿæ´»çš„å®æ„Ÿã€‚</p>
<h3 data-id="heading-1">ç§Ÿæˆ¿è®°ï¼šæ¼‚æ³Šä¸­çš„é¡¿æ‚Ÿ</h3>
<p>ä½œä¸ºä¸€ä¸ªè€åŒ—æ¼‚ï¼Œä¹Ÿæ˜¯æ²¡æƒ³åˆ°è¿™ç§äº‹æƒ…å‘ç”Ÿåœ¨è‡ªå·±çš„èº«ä¸Šã€‚å¹´åˆå†³å®šæ¢æˆ¿æ—¶ï¼Œæˆ‘æ›¾å¤©çœŸåœ°ä»¥ä¸ºè¿™ä¸è¿‡æ˜¯å’Œä»¥å‰ä¸€æ ·æ˜¯ä¸€æ¬¡è½»æ¾çš„"æˆ¿å±‹å¤§å†’é™©"ã€‚æ˜¥æ—¥çš„é˜³å…‰é€è¿‡ç»ç’ƒçª—æ´’åœ¨è„¸ä¸Šï¼Œæˆ‘å“¼ç€æ­Œåœ¨ç§Ÿæˆ¿å¹³å°æ»‘åŠ¨å±å¹•ï¼Œå¹»æƒ³ç€æ–°å®¶çš„è½åœ°çª—å’Œé£˜çª—ä¸Šçš„ç»¿æ¤ã€‚é‚£æ—¶çš„æˆ‘å°šæœªæ„è¯†åˆ°ï¼Œè¿™æ¬¡ç§Ÿæˆ¿ä¼šä»¥ä¸¤æ¬¡è¢«æ”¾é¸½å­å¼€åœºï¼Œåœ¨æ„¤æ€’ä¸å¤±æœ›ä¸­æ­å¼€ç”Ÿæ´»æœ€çœŸå®çš„ç§Ÿæˆ¿å¸‚åœºã€‚</p>
<p>ç¬¬ä¸€æ¬¡è¢«é¸½æ˜¯åœ¨å‘¨ä¸‰ä¸€ä¸ªæ™šç¡çš„æ·±å¤œã€‚çº¦å¥½çœ‹æˆ¿ç­¾çº¦çš„å¥³å­©å‘å¾®ä¿¡å‘Šè¯‰æˆ‘ä¸è½¬ç§Ÿäº†ï¼Œæœ›ç†è§£ï¼Œæ²¡åŸå› ï¼Œæ²¡è§£é‡Šï¼Œç›´æ¥æ‹‰é»‘åˆ é™¤æˆ‘ã€‚æ­¤æ—¶æˆ‘è¿˜æ²¡æœ‰å¾ˆå¤§çš„æƒ…ç»ªæ³¢åŠ¨ï¼Œæ¯•ç«Ÿæˆ¿å­é‚£ä¹ˆå¤šï¼Œç§Ÿæˆ¿è€Œå·²ï¼Œå†æ‰¾å°±æ˜¯äº†ã€‚</p>
<p>è¿ç€å‡ ä¸ªå‘¨æœ«çœ‹æˆ¿æ‰¾æˆ¿ï¼Œåˆ«è¯´ä¸­ä»‹çƒ¦ä¸çƒ¦ï¼Œæˆ‘æ˜¯è›®åŠ³ç´¯ã€‚</p>
<p>ç»ˆäºåœ¨åŒå°åŒºæ‰¾åˆ°äº†åˆé€‚çš„æˆ¿å­ï¼Œçº¦å¥½å‘¨å…­ä¸‹åˆç­¾çº¦ï¼Œç„¶è€Œéšä¹‹è€Œæ¥çš„å°±æ˜¯è¢«äºŒæ¬¡è¢«é¸½ã€‚å‘¨å…­ä¸Šåˆæˆ‘å’Œè€å…¬æ—©æ—©èµ·æ¥æ‰“åŒ…å¥½æ‰€æœ‰çš„ç‰©å“ï¼Œå°±ç­‰ç€ç­¾çº¦åç«‹å³æ¬å®¶ï¼Œç„¶åæˆ¿ä¸œè¿Ÿè¿Ÿä¸æ¥ç­¾çº¦ï¼Œæˆ‘å°±æ„è¯†åˆ°äº†ä¸å¦™ï¼Œæœç„¶å¥³äººçš„ç¬¬å…­æ„Ÿå°±æ˜¯å‡†ï¼Œæ‰“äº†æˆ¿ä¸œç”µè¯å‘ŠçŸ¥æˆ‘ä¸ç§Ÿäº†ï¼Œäº²æˆšå®¶çš„å­©å­è¦æ¥ä½ã€‚è¿™å¯¹äºæ”¶æ‹¾äº†ä¸€ä¸Šåˆçš„æˆ‘æ¥è¯´é¡¿æ„Ÿæ™´å¤©éœ¹é›³ï¼Œæ„¤æ€’æ€¨æ¨å……æ–¥æ•´ä¸ªæˆ¿é—´ã€‚</p>
<p>ä¸è¿‡æœ€ç»ˆåŸæˆ¿ä¸œå¬è¿‡æˆ‘çš„ç»å†ä¹‹åï¼Œç»™æˆ‘ä»¬é™ç§Ÿé‡‘è®©æˆ‘ä»¬ç»§ç»­ç»­ç§Ÿï¼Œè¿™ä¹Ÿç®—æ˜¯ä¸€ç‚¹ç‚¹å®‰æ…°å§ã€‚</p>
<p>å…¶å®é‚£ä¼šå„¿ï¼Œæˆ‘å¿ƒé‡Œå¤´æ¸æ¸èŒç”Ÿå‡ºæƒ³åœ¨åŒ—äº¬ä¹°æˆ¿çš„å¿µå¤´ã€‚æƒ³è±¡ç€è¦æ˜¯èƒ½æœ‰ä¸€å¥—å±äºè‡ªå·±çš„æˆ¿å­ï¼Œé‚£è¯¥å¤šè¸å®ã€‚å¯ç°å®å¾ˆå¿«å°±ç»™æˆ‘æ³¼äº†å†·æ°´â€”â€”åŒ—äº¬çš„æˆ¿å­ï¼Œå“ªæ˜¯é‚£ä¹ˆå¥½ä¹°çš„å‘€ã€‚</p>
<p>é¦–å½“å…¶å†²çš„å°±æ˜¯æ€»ä»·é«˜å¾—å“äººã€‚éšä¾¿ä¸€å¥—å°æˆ·å‹ï¼ŒåŠ¨è¾„å‡ ç™¾ä¸‡ã€‚å†å°±æ˜¯æˆ·å£é—®é¢˜ï¼Œæ²¡æœ‰åŒ—äº¬æˆ·å£ï¼Œæœªæ¥æœ‰å®å®åå­©å­çš„ä¸Šå­¦ä¹Ÿæ˜¯ä¸ªå¤§é—®é¢˜ã€‚</p>
<p>æ›´è®©æˆ‘çŠ¹è±«çš„æ˜¯ï¼Œæˆ¿ä»·è·Ÿåæ»‘æ¢¯ä¼¼çš„ï¼Œå‡ åä¸‡ç”šè‡³ä¸Šç™¾ä¸‡åœ°å¾€ä¸‹é™ã€‚èº«è¾¹æœ‹å‹éƒ½åœ¨è¯´ï¼Œç°åœ¨ç»ä¸æ˜¯å…¥æ‰‹çš„å¥½æ—¶æœºï¼Œä¸‡ä¸€ä¹°äº†åˆè·Œï¼Œå‡ å¹´ç™½å¹²ã€‚æ¯æ¬¡å¬åˆ°è¿™äº›ï¼Œæˆ‘å¿ƒé‡Œå°±ç›´æ‰“é¼“ï¼Œä¹°æˆ¿çš„å¿µå¤´ä¹Ÿè·Ÿç€åŠ¨æ‘‡èµ·æ¥ã€‚</p>
<p>ä½†è½¬å¿µä¸€æƒ³ï¼Œè™½ç„¶ç°åœ¨è¿˜ä¸èƒ½ä¹°ï¼Œå¯å­˜é’±æ€»æ˜¯æ²¡é”™çš„ã€‚æ¯ä¸ªæœˆå‘äº†å·¥èµ„ï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯å­˜ä¸€éƒ¨åˆ†èµ·æ¥ï¼Œçœ‹ç€é“¶è¡Œå¡é‡Œçš„æ•°å­—æ…¢æ…¢å¾€ä¸Šæ¶¨ï¼Œå¿ƒé‡Œä¹Ÿæ˜¯å¼€å¿ƒçš„ã€‚è¯´ä¸å®šå“ªå¤©ï¼Œæ—¶æœºæˆç†Ÿäº†ï¼Œæˆ‘å°±èƒ½åœ¨è¿™åº§åŸå¸‚é‡Œï¼Œæœ‰ä¸€ä¸ªçœŸæ­£å±äºè‡ªå·±çš„å°çªå‘¢ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3149a487f0fa4b11afe2138b919ba334~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemhvdXpob3V5YQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768551461&amp;x-signature=5DpIhec%2BKAQAbAE9JZ4m6vHbabY%3D" alt="image.png" loading="lazy"/></p>
<br/>
<h3 data-id="heading-2">å·¥ä½œæˆé•¿ï¼šä»ç®€å•æ‰§è¡Œåˆ°ä¸»åŠ¨æ·±è€•ï¼Œå€ŸAIä¸œé£é‡æ„ä»£ç æ–°ç¯‡</h3>
<p>åœ¨å·¥ä½œä¸­ï¼ŒAIçš„å‡ºç°è®©æˆ‘ç»å†äº†æ˜¾è‘—çš„èœ•å˜ï¼Œæœ€ä¸ºçªå‡ºçš„ä¾¿æ˜¯ä¸»åŠ¨æ€§çš„å¤§å¹…å¢å¼ºã€‚è¿™ç§è½¬å˜å¹¶éä¸€è¹´è€Œå°±ï¼Œè€Œæ˜¯ä½“ç°åœ¨æ—¥å¸¸å·¥ä½œçš„æ¯ä¸€ä¸ªç»†å¾®ä¹‹å¤„ã€‚è¿‡å»ï¼Œæˆ‘å®Œæˆä»»åŠ¡çš„æ ‡å‡†ä»…ä»…æ˜¯â€œåšå®Œè¿™ä¸ªéœ€æ±‚â€ï¼Œæ»¡è¶³äºäº¤ä»˜åŸºæœ¬åŠŸèƒ½ï¼Œå¯¹ä»£ç çš„è´¨é‡å’Œé¡¹ç›®çš„é•¿è¿œå‘å±•ç¼ºä¹æ·±å…¥æ€è€ƒã€‚ç„¶è€Œï¼Œéšç€å·¥ä½œç»éªŒçš„ç§¯ç´¯å’Œè‡ªæˆ‘è¦æ±‚çš„æå‡ï¼Œæˆ‘é€æ¸å°†ç›®æ ‡è½¬å˜ä¸ºâ€œåšå¥½è¿™ä¸ªéœ€æ±‚â€ï¼ŒåŠ›æ±‚åœ¨åŠŸèƒ½å®ç°çš„åŸºç¡€ä¸Šï¼Œè¿½æ±‚ä»£ç çš„ç®€æ´æ€§ã€å¯ç»´æŠ¤æ€§å’Œé«˜æ€§èƒ½ã€‚</p>
<p>è¿™ç§è½¬å˜å¸¦æ¥çš„å½±å“æ˜¯æ·±è¿œçš„ã€‚å®ƒè®©æˆ‘ä»¥æ›´ä¸¥è°¨çš„æ€åº¦å¯¹å¾…æ¯ä¸€è¡Œä»£ç ï¼Œä¸å†æ»¡è¶³äºç®€å•çš„â€œèƒ½ç”¨â€ï¼Œè€Œæ˜¯è¿½æ±‚â€œå¥½ç”¨ä¸”è€ç”¨â€ã€‚æˆ‘å¼€å§‹ä¸»åŠ¨ç ”ç©¶ä»£ç æ¶æ„çš„ä¼˜åŒ–ï¼Œæ€è€ƒå¦‚ä½•è®©ä»£ç é€»è¾‘æ›´åŠ æ¸…æ™°ï¼Œå‡å°‘å†—ä½™ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§ã€‚è¿™ç§å¯¹ä»£ç è´¨é‡çš„æ‰§ç€è¿½æ±‚ï¼Œä¸ä»…æå‡äº†é¡¹ç›®çš„æ•´ä½“æ€§èƒ½ï¼Œä¹Ÿä¸ºæˆ‘åç»­çš„å·¥ä½œå¥ å®šäº†åšå®çš„åŸºç¡€ã€‚</p>
<p>ä»Šå¹´ï¼Œæˆ‘æ‰¿æ‹…äº†ä¸€é¡¹æå…·æŒ‘æˆ˜æ€§çš„ä»»åŠ¡â€”â€”å¯¹æ•´ä¸ªé¡¹ç›®çš„ä»£ç è¿›è¡Œé‡æ„ã€‚è¿™ä¸€å†³ç­–çš„èƒŒåï¼Œæ—¢æœ‰æˆ‘å†…å¿ƒæ¸´æœ›æ‰¿æ‹…æ›´å¤šè´£ä»»ã€æŒ‘æˆ˜è‡ªæˆ‘çš„é©±åŠ¨åŠ›ï¼Œä¹Ÿç¦»ä¸å¼€å¤–éƒ¨æŠ€æœ¯ç¯å¢ƒçš„å¯å‘ã€‚è¿‘å¹´æ¥ï¼ŒAI æŠ€æœ¯å¦‚é›¨åæ˜¥ç¬‹èˆ¬è“¬å‹ƒå‘å±•ï¼Œå…¶å¼ºå¤§çš„èƒ½åŠ›å’Œå¹¿æ³›çš„åº”ç”¨è®©æˆ‘æ·±åˆ»è®¤è¯†åˆ°ä»£ç è§„èŒƒåŠæ€§èƒ½çš„é‡è¦æ€§ã€‚è¯´å®è¯ï¼Œè¿™æ¬¡é‡æ„ï¼Œæœ‰50%çš„åŠŸåŠ³å±äºAIçš„ã€‚</p>
<ul>
<li>è¿™é‡Œè¦ç»™TRAEæ‰“ä¸ªå°å¹¿å‘Šäº†ï¼Œç”±äºè‡ªå·±æƒ³ç”¨ä½†ä¸æƒ³èŠ±å¤ªå¤šé’±ï¼Œæœ€ç»ˆé€‰æ‹©äº†æ€§ä»·æ¯”è¾ƒé«˜çš„TRAEï¼Œç›®å‰ç”¨èµ·æ¥æ˜¯å®Œå…¨èƒ½æ»¡è¶³æˆ‘æ—¥å¸¸å¼€å‘éœ€æ±‚çš„ã€‚</li>
</ul>
<p>é™¤å»è¿™äº›ï¼Œæˆ‘ä¹Ÿä¼šä¸»åŠ¨æ‰¿æ‹…ä¸€äº›å·¥ä½œå¤–çš„äº‹æƒ…ï¼Œå¸®åŠ©åˆ«äººè§£å†³ä¸€äº›é—®é¢˜ç­‰ã€‚ä»¥åä¹Ÿè¦ç»§ç»­ä¿æŒè¿™ä»½çƒ­æƒ…å’ŒåŠ¨åŠ›ï¼Œä¸æ–­æå‡è‡ªå·±çš„èƒ½åŠ›ï¼Œè´¡çŒ®æ›´å¤šçš„åŠ›é‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b918902ba113467ba05c62bc92c8580f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgemhvdXpob3V5YQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768551461&amp;x-signature=R1yTjPtpuW%2BbuJuPN0CP4VZGMA4%3D" alt="image.png" loading="lazy"/></p>
<br/>
<h3 data-id="heading-3">2026å¹´ç›®æ ‡</h3>
<p>2026å¹´ï¼ŒæŠŠæƒ³åšçš„äº‹ï¼Œä¸€æ­¥æ­¥å˜æˆæ­£åœ¨åšçš„äº‹ã€å·²ç»åšå®Œçš„äº‹ã€‚</p>
<h4 data-id="heading-4">1ï¸âƒ£ <strong>è´¢åŠ¡è®¡åˆ’</strong></h4>
<p>å­˜é’±ï¼š</p>
<ul>
<li>æ¯æœˆå›ºå®šå­˜å…¥ï¼Œç›´åˆ°è¾¾åˆ°ç›®æ ‡é‡‘é¢ã€‚</li>
<li>ç›®æ ‡ï¼šé€šè¿‡æ˜é‡‘AIDPå…¼èŒæ”’ä¸€ç¬”â€œéŸ©å›½æ—…è¡Œâ€çš„ä¸“é¡¹èµ„é‡‘ã€‚</li>
</ul>
<h4 data-id="heading-5">2ï¸âƒ£ <strong>ä½“éªŒæ¸…å•ï¼šæŠŠâ€œæƒ³å»â€å˜æˆâ€œå»è¿‡â€</strong></h4>
<p>ç”¨è¡ŒåŠ¨å…‘ç°å¯¹è‡ªå·±çš„æ‰¿è¯ºï¼š</p>
<ul>
<li><strong>éŸ©å›½ä¹‹æ—…</strong>ï¼š25å¹´åŠçš„æŠ¤ç…§ä¸èƒ½åªèººåœ¨æŠ½å±‰é‡Œï¼Œè®¡åˆ’åœ¨æ·¡å­£å®‰æ’ä¸€æ¬¡å››å¤©ä¸‰æ™šçš„é¦–å°”/æµå·å²›è‡ªç”±è¡Œã€‚</li>
<li><strong>æ»‘é›ªåˆä½“éªŒ</strong>ï¼šçœ‹å®Œã€Šéª„é˜³ä¼¼æˆ‘ã€‹ï¼Œæ„Ÿè§‰æ»‘é›ªå¥½å¸…ï¼Œæˆ‘ä¹Ÿè¦å»å­¦æ»‘é›ª</li>
</ul>
<h4 data-id="heading-6">3ï¸âƒ£ <strong>ä¸“ä¸šè®¤è¯ï¼šè¡¥ä¸Šå»å¹´è½ä¸‹çš„flag</strong></h4>
<p><strong>è½¯è€ƒä¸­çº§</strong>ä¸èƒ½å†æ‹–äº†ï¼š</p>
<ul>
<li>ä¸€å­£åº¦å‰ç¡®å®šæŠ¥è€ƒæ–¹å‘ï¼ˆç³»ç»Ÿæ¶æ„/è½¯ä»¶è®¾è®¡ï¼‰</li>
<li>åŠ å…¥å­¦ä¹ å°ç»„ï¼ŒæŒ‰è®¡åˆ’æ¨è¿›ï¼Œæ¯å‘¨æŠ•å…¥6å°æ—¶</li>
<li>æœ€æ™šQ3å®Œæˆè€ƒè¯•ï¼Œè¿™æ¬¡ä¸å†â€œä¸‹æ¬¡ä¸€å®šâ€</li>
</ul>
<h4 data-id="heading-7">4ï¸âƒ£ <strong>è¯­è¨€æŒç»­ï¼šè®©è‹±è¯­æˆä¸ºä¹ æƒ¯ï¼Œè€Œéä»»åŠ¡</strong></h4>
<ul>
<li>å·¥ä½œæ—¥æ¯å¤©20åˆ†é’Ÿå¬åŠ›/é˜…è¯»ï¼ˆé€šå‹¤æ—¶é—´åˆ©ç”¨ï¼‰</li>
<li>å¹´åº•å‰èƒ½æ— å­—å¹•çœ‹å®Œä¸€éƒ¨å–œæ¬¢çš„è‹±æ–‡å‰§é›†</li>
</ul>
<h3 data-id="heading-8">2026å¹´çš„æ ¸å¿ƒè¯æ˜¯ï¼š<strong>å…‘ç°</strong>ã€‚</h3>
<p>ä¸å†è®©ç›®æ ‡åªåœç•™åœ¨â€œæƒ³â€çš„å±‚é¢ï¼Œè€Œæ˜¯è¦æŠŠé‚£äº›å¯¹ç”Ÿæ´»çš„å‘å¾€ã€å¯¹èŒä¸šçš„è§„åˆ’ã€å¯¹è‡ªå·±çš„æ‰¿è¯ºï¼Œä¸€æ­¥æ­¥è½¬åŒ–ä¸ºå…·ä½“å¯æ‰§è¡Œçš„è®¡åˆ’ï¼Œå¹¶<strong>è®©æ—¶é—´çœ‹å¾—è§ç»“æœ</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java ä¸­çš„ AI ä¸æœºå™¨å­¦ä¹ ï¼šTensorFlowã€DJL ä¸ä¼ä¸šçº§ AI]]></title>    <link>https://juejin.cn/post/7593015632082894875</link>    <guid>https://juejin.cn/post/7593015632082894875</guid>    <pubDate>2026-01-09T08:17:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593015632082894875" data-draft-id="7593015632082862107" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java ä¸­çš„ AI ä¸æœºå™¨å­¦ä¹ ï¼šTensorFlowã€DJL ä¸ä¼ä¸šçº§ AI"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-09T08:17:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿¡ç ç”±ç¼°"/> <meta itemprop="url" content="https://juejin.cn/user/2110664941509214"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java ä¸­çš„ AI ä¸æœºå™¨å­¦ä¹ ï¼šTensorFlowã€DJL ä¸ä¼ä¸šçº§ AI
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2110664941509214/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿¡ç ç”±ç¼°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:17:23.000Z" title="Fri Jan 09 2026 08:17:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">1. å¼•è¨€ï¼šJava æ„å¤–çš„æœºå™¨å­¦ä¹ å¤å…´</h2>
<p>å°½ç®¡ Python ä¸»å¯¼äº†æœºå™¨å­¦ä¹ çš„ç ”ç©¶ä¸å®éªŒï¼Œä½†ç”Ÿäº§éƒ¨ç½²è®²è¿°ç€ä¸åŒçš„æ•…äº‹ã€‚æˆªè‡³ 2025 å¹´ï¼Œ68% çš„åº”ç”¨ç¨‹åºè¿è¡Œåœ¨ Java æˆ– JVM ä¸Šï¼Œé‚£äº›å·²åœ¨ Java ç”Ÿæ€ç³»ç»ŸæŠ•å…¥å·¨èµ„çš„ä¼ä¸šé¢ä¸´ä¸€ä¸ªå…³é”®é—®é¢˜ï¼šæ˜¯é‡æ–°åŸ¹è®­å›¢é˜Ÿå¹¶é‡å†™ç³»ç»Ÿï¼Œè¿˜æ˜¯å°†æœºå™¨å­¦ä¹ èƒ½åŠ›å¼•å…¥ Javaï¼Ÿç­”æ¡ˆæ­£æ—¥ç›Šå€¾å‘äºåè€…ã€‚</p>
<p><img src="https://cf-blog.icodebuddy.com/image/102/102-0.png" alt="" loading="lazy"/></p>
<p>Netflix ä½¿ç”¨ Deep Java Library è¿›è¡Œåˆ†å¸ƒå¼æ·±åº¦å­¦ä¹ å®æ—¶æ¨ç†ï¼Œé€šè¿‡å­—ç¬¦çº§ CNN å’Œé€šç”¨å¥å­ç¼–ç å™¨æ¨¡å‹å¤„ç†æ—¥å¿—æ•°æ®ï¼Œæ¯ä¸ªäº‹ä»¶çš„å»¶è¿Ÿä¸º 7 æ¯«ç§’ã€‚è¿™ä»£è¡¨äº†ä¸€ä¸ªæ›´å¹¿æ³›çš„è¶‹åŠ¿â€”â€”å°½ç®¡ Python åœ¨è®­ç»ƒæ–¹é¢å ä¸»å¯¼åœ°ä½ï¼Œä½† Java åœ¨ç”Ÿäº§ç³»ç»Ÿã€å¤šçº¿ç¨‹ã€ç¨³å®šæ€§å’Œä¼ä¸šé›†æˆæ–¹é¢çš„ä¼˜åŠ¿ï¼Œä½¿å…¶åœ¨æœºå™¨å­¦ä¹ éƒ¨ç½²ä¸Šæå…·å¸å¼•åŠ›ã€‚</p>
<p>æœ¬æ–‡æ¢è®¨ Java åœ¨æœºå™¨å­¦ä¹ ç”Ÿå‘½å‘¨æœŸä¸­çš„è§’è‰²ï¼Œæ¯”è¾ƒå„ç§æ¡†æ¶ï¼Œæ¢ç´¢ä¸ Python ç”Ÿæ€ç³»ç»Ÿçš„é›†æˆæ¨¡å¼ï¼Œå¹¶è¯†åˆ« Java æä¾›æ˜æ˜¾ä¼˜åŠ¿çš„åœºæ™¯ã€‚</p>
<p><img src="https://cf-blog.icodebuddy.com/image/102/102-1_cn.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-1">2. Java ML æ¡†æ¶å¯¹æ¯”</h2>
<h3 data-id="heading-2">2.1 Deep Java Libraryï¼šå¼•æ“æ— å…³çš„æ–¹æ¡ˆ</h3>
<p>Deep Java Library æ˜¯ä¸€ä¸ªå¼€æºçš„ã€é«˜å±‚æ¬¡çš„ã€å¼•æ“æ— å…³çš„ Java æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œå®ƒæä¾›åŸç”Ÿ Java å¼€å‘ä½“éªŒï¼ŒåŠŸèƒ½å¦‚åŒä»»ä½•å…¶ä»–å¸¸è§„ Java åº“ã€‚ç”± AWS åˆ›å»ºçš„ DJLï¼Œå…¶æ¶æ„ç†å¿µä»¥æŠ½è±¡ä¸ºæ ¸å¿ƒâ€”â€”å¼€å‘è€…ç¼–å†™ä¸€æ¬¡ä»£ç ï¼Œå³å¯åœ¨ PyTorchã€TensorFlowã€MXNet æˆ– ONNX Runtime ä¹‹é—´åˆ‡æ¢è€Œæ— éœ€ä¿®æ”¹ã€‚</p>
<p>è¯¥æ¡†æ¶ç”±äº”å±‚æ¶æ„ç»„æˆã€‚é«˜å±‚ API å±‚æä¾›ç¬¦åˆ Java ä¹ æƒ¯çš„æ¥å£ï¼Œä¾›å¼€å‘è€…ç›´æ¥äº¤äº’ã€‚å¼•æ“æŠ½è±¡å±‚ä¸åº•å±‚æ¡†æ¶é€šä¿¡ï¼Œéšè—å®ç°å·®å¼‚ã€‚NDManager ç®¡ç†è¡¨ç¤ºå¼ é‡çš„ NDArray çš„ç”Ÿå‘½å‘¨æœŸï¼Œåœ¨å¤„ç†åè‡ªåŠ¨é‡Šæ”¾å¼ é‡å†…å­˜ä»¥é˜²æ­¢æ³„æ¼æˆ–å´©æºƒã€‚æ•°æ®å¤„ç†å±‚æä¾›ä¸ºæ¨¡å‹å‡†å¤‡æ•°æ®çš„å®ç”¨å·¥å…·ã€‚æœ€åï¼ŒåŸç”Ÿå¼•æ“å±‚é€šè¿‡å¯¹ C++ å®ç°çš„ JNA è°ƒç”¨æ‰§è¡Œå®é™…è®¡ç®—ã€‚</p>
<p>DJL ä¸ TensorFlowã€PyTorchã€MXNet ç­‰å„ç§æ·±åº¦å­¦ä¹ æ¡†æ¶æ— ç¼é›†æˆï¼Œæä¾›ä¸€ä¸ªé«˜å±‚æ¬¡ API ä»¥ä¾¿äºåœ¨ Java ç¯å¢ƒä¸­è½»æ¾æ„å»ºã€è®­ç»ƒå’Œéƒ¨ç½²æ¨¡å‹ï¼Œå¹¶ä¸”ä¸ AWS æœåŠ¡ç´§å¯†é›†æˆã€‚å…¶ Model Zoo æä¾›äº†æ¥è‡ª GluonCVã€HuggingFaceã€TorchHub å’Œ Keras çš„ 70 å¤šä¸ªé¢„è®­ç»ƒæ¨¡å‹ï¼Œæ”¯æŒå•è¡Œå‘½ä»¤åŠ è½½æ¨¡å‹ã€‚</p>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>
<p><strong>å¼•æ“çµæ´»æ€§</strong>ï¼šå…è®¸æ ¹æ®éƒ¨ç½²éœ€æ±‚åˆ‡æ¢åç«¯ï¼ˆç ”ç©¶æ¨¡å‹ç”¨ PyTorchï¼Œç”Ÿäº§ç”¨ MXNetï¼Œè·¨å¹³å°ç”¨ ONNXï¼‰ã€‚</p>
</li>
<li>
<p><strong>åŸç”Ÿå¤šçº¿ç¨‹æ”¯æŒ</strong>ï¼šä¸ Akkaã€Akka Streams åŠå¹¶å‘ Java åº”ç”¨ç¨‹åºè‡ªç„¶é›†æˆã€‚</p>
</li>
<li>
<p><strong>è‡ªåŠ¨ CPU/GPU æ£€æµ‹</strong>ï¼šæ— éœ€é…ç½®å³å¯ç¡®ä¿æœ€ä½³ç¡¬ä»¶åˆ©ç”¨ç‡ã€‚</p>
</li>
<li>
<p><strong>é€šè¿‡ DJL Spring starters é›†æˆ Spring Boot</strong>ï¼šç®€åŒ–ä¼ä¸šé‡‡ç”¨ã€‚</p>
</li>
</ul>
<p><strong>å±€é™ï¼š</strong></p>
<ul>
<li>
<p><strong>è®­ç»ƒåŠŸèƒ½å­˜åœ¨ï¼Œä½†ä¸å¦‚æ¨ç†åŠŸèƒ½æˆç†Ÿ</strong>ã€‚</p>
</li>
<li>
<p><strong>æ–‡æ¡£ä¾§é‡äºæ¨ç†è€Œéè®­ç»ƒå·¥ä½œæµ</strong>ã€‚</p>
</li>
<li>
<p><strong>ç¤¾åŒºè§„æ¨¡å°äº Python ä¼˜å…ˆçš„æ¡†æ¶</strong>ã€‚</p>
</li>
</ul>
<h3 data-id="heading-3">2.2 Deeplearning4jï¼šJVM åŸç”Ÿè§£å†³æ–¹æ¡ˆ</h3>
<p>Eclipse Deeplearning4j æ˜¯ä¸º Java è™šæ‹Ÿæœºç¼–å†™çš„ç¼–ç¨‹åº“ï¼Œæ˜¯ä¸€ä¸ªå¹¿æ³›æ”¯æŒæ·±åº¦å­¦ä¹ ç®—æ³•çš„æ¡†æ¶ï¼ŒåŒ…æ‹¬å—é™ç»å°”å…¹æ›¼æœºã€æ·±åº¦ä¿¡å¿µç½‘ç»œã€æ·±åº¦è‡ªåŠ¨ç¼–ç å™¨ã€å †å é™å™ªè‡ªåŠ¨ç¼–ç å™¨ã€é€’å½’ç¥ç»å¼ é‡ç½‘ç»œã€word2vecã€doc2vec å’Œ GloVe çš„å®ç°ã€‚</p>
<p>DL4J äº 2014 å¹´é—®ä¸–ï¼Œç›®æ ‡å®¢æˆ·æ˜¯å·²æŠ•å…¥ Java åŸºç¡€è®¾æ–½çš„ä¼ä¸šã€‚Eclipse Deeplearning4j é¡¹ç›®åŒ…æ‹¬ Samediffï¼ˆä¸€ä¸ªç±»ä¼¼ TensorFlow/PyTorch çš„æ¡†æ¶ï¼Œç”¨äºæ‰§è¡Œå¤æ‚è®¡ç®—å›¾ï¼‰ã€Python4jï¼ˆä¸€ä¸ª Python è„šæœ¬æ‰§è¡Œæ¡†æ¶ï¼Œç”¨äºå°† Python è„šæœ¬éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒï¼‰ã€Apache Spark é›†æˆä»¥åŠ Datavecï¼ˆä¸€ä¸ªå°†åŸå§‹è¾“å…¥æ•°æ®è½¬æ¢ä¸ºå¼ é‡çš„æ•°æ®è½¬æ¢åº“ï¼‰ã€‚</p>
<p>è¯¥æ¡†æ¶çš„åˆ†å¸ƒå¼è®¡ç®—èƒ½åŠ›ä½¿å…¶åŒºåˆ«äºå…¶ä»–æ–¹æ¡ˆã€‚Deeplearning4j åŒ…å«ä¸ Apache Hadoop å’Œ Spark é›†æˆçš„åˆ†å¸ƒå¼å¹¶è¡Œç‰ˆæœ¬ã€‚å¯¹äºå¤„ç†å¤§è§„æ¨¡æ•°æ®çš„ç»„ç»‡ï¼ŒDL4J æä¾›äº†æ— éœ€ Python ä¾èµ–çš„åŸç”Ÿ JVM è§£å†³æ–¹æ¡ˆã€‚</p>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>
<p><strong>å®Œæ•´çš„ ML ç”Ÿå‘½å‘¨æœŸæ”¯æŒ</strong>â€”â€”è®­ç»ƒã€æ¨ç†å’Œéƒ¨ç½²å®Œå…¨åœ¨ Java ä¸­å®Œæˆã€‚</p>
</li>
<li>
<p><strong>åˆ†å¸ƒå¼è®­ç»ƒ</strong>ï¼šä½¿ç”¨ Spark æˆ– Hadoop åœ¨é›†ç¾¤ä¸­æ‰©å±•ã€‚</p>
</li>
<li>
<p><strong>ND4J</strong> æä¾›æ”¯æŒ GPU åŠ é€Ÿçš„ã€ç±»ä¼¼ NumPy çš„ n ç»´æ•°ç»„ã€‚</p>
</li>
<li>
<p><strong>SameDiff</strong> æä¾›ç±»ä¼¼ TensorFlow çš„â€œå…ˆå®šä¹‰åè¿è¡Œâ€å›¾æ‰§è¡Œæ–¹å¼ã€‚</p>
</li>
<li>
<p><strong>Keras æ¨¡å‹å¯¼å…¥</strong>ï¼šæ”¯æŒ h5 æ–‡ä»¶ï¼ŒåŒ…æ‹¬ tf.keras æ¨¡å‹ã€‚</p>
</li>
</ul>
<p><strong>å±€é™ï¼š</strong></p>
<ul>
<li>
<p>æ–‡æ¡£å’Œç¤¾åŒºèµ„æºè½åäº TensorFlow å’Œ PyTorchã€‚</p>
</li>
<li>
<p>ä¸é«˜å±‚æ¬¡æ¡†æ¶ç›¸æ¯”å­¦ä¹ æ›²çº¿æ›´é™¡å³­ã€‚</p>
</li>
<li>
<p>é‡‡ç”¨èŒƒå›´è¾ƒçª„ï¼Œä¸»è¦é›†ä¸­åœ¨é‡åº¦ä½¿ç”¨ Java çš„ä¼ä¸šã€‚</p>
</li>
</ul>
<h3 data-id="heading-4">2.3 TensorFlow Javaï¼šå®˜æ–¹ä½†åŠŸèƒ½æœ‰é™</h3>
<p>TensorFlow Java å¯åœ¨ä»»ä½• JVM ä¸Šè¿è¡Œä»¥æ„å»ºã€è®­ç»ƒå’Œéƒ¨ç½²æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œæ”¯æŒ CPU å’Œ GPU åœ¨å›¾æ¨¡å¼æˆ–å³æ—¶æ‰§è¡Œæ¨¡å¼ä¸‹çš„è¿è¡Œï¼Œå¹¶æä¾›äº†åœ¨ JVM ç¯å¢ƒä¸­ä½¿ç”¨ TensorFlow çš„ä¸°å¯Œ APIã€‚ä½œä¸º TensorFlow çš„å®˜æ–¹ Java ç»‘å®šï¼Œå®ƒæä¾›äº†å¯¹ TensorFlow è®¡ç®—å›¾æ‰§è¡Œçš„ç›´æ¥è®¿é—®ã€‚</p>
<p>TensorFlow çš„ Java è¯­è¨€ç»‘å®šå·²ç§»è‡³å…¶ç‹¬ç«‹çš„ä»£ç åº“ï¼Œä»¥ä¾¿ç‹¬ç«‹äºå®˜æ–¹ TensorFlow ç‰ˆæœ¬è¿›è¡Œæ¼”è¿›å’Œå‘å¸ƒï¼Œå¤§å¤šæ•°æ„å»ºä»»åŠ¡å·²ä» Bazel è¿ç§»åˆ° Mavenã€‚è¿™ç§åˆ†ç¦»å…è®¸åœ¨ä¸ç­‰å¾… TensorFlow æ ¸å¿ƒå‘å¸ƒçš„æƒ…å†µä¸‹è¿›è¡Œ Java ç‰¹å®šçš„æ”¹è¿›ã€‚</p>
<p><strong>ä¼˜åŠ¿ï¼š</strong></p>
<ul>
<li>
<p>ä¸ TensorFlow ç”Ÿæ€ç³»ç»Ÿå’Œå·¥å…·ç›´æ¥é›†æˆã€‚</p>
</li>
<li>
<p>SavedModel æ ¼å¼å…¼å®¹æ€§æ”¯æŒä» Python åˆ° Java çš„æ— ç¼æ¨¡å‹ç§»äº¤ã€‚</p>
</li>
<li>
<p>TensorFlow Lite æ”¯æŒé¢å‘ç§»åŠ¨å’Œè¾¹ç¼˜éƒ¨ç½²ã€‚</p>
</li>
<li>
<p>é€šè¿‡åŸç”Ÿ TensorFlow è¿è¡Œæ—¶æ”¯æŒ GPU å’Œ TPU åŠ é€Ÿã€‚</p>
</li>
</ul>
<p><strong>å±€é™ï¼š</strong></p>
<ul>
<li>
<p>TensorFlow Java API ä¸åœ¨ TensorFlow API ç¨³å®šæ€§ä¿è¯èŒƒå›´å†…ã€‚</p>
</li>
<li>
<p>å¯¹ Keras on Java å‡ ä¹æ— å®˜æ–¹æ”¯æŒï¼Œè¿«ä½¿å¼€å‘è€…å¿…é¡»åœ¨ Python ä¸­å®šä¹‰å’Œè®­ç»ƒå¤æ‚æ¨¡å‹ä»¥ä¾›åç»­å¯¼å…¥ Javaã€‚</p>
</li>
<li>
<p>ä¸ DJL ç”šè‡³ DL4J ç›¸æ¯”ï¼Œè¾ƒä½çº§åˆ«çš„ API éœ€è¦ç¼–å†™æ›´å¤šä»£ç ã€‚</p>
</li>
</ul>
<p><img src="https://cf-blog.icodebuddy.com/image/102/102-2_cn.png" alt="" loading="lazy"/></p>
<p><img src="https://cf-blog.icodebuddy.com/image/102/102-3_cn.png" alt="" loading="lazy"/></p>
<p><img src="https://cf-blog.icodebuddy.com/image/102/102-4_cn.png" alt="" loading="lazy"/></p>
<p><img src="https://cf-blog.icodebuddy.com/image/102/102-5_cn.png" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">3. æ¡†æ¶å¯¹æ¯”è¡¨</h2>
<p>| æ ‡å‡† | Deep Java Library | Deeplearning4j | TensorFlow Java |</p>
<p>| :--- | :--- | :--- | :--- |</p>
<p>| <strong>ä¸»è¦ç”¨ä¾‹</strong> | æ¨ç†ä¸æ¨¡å‹æœåŠ¡ | å®Œæ•´ ML ç”Ÿå‘½å‘¨æœŸ | æ¨¡å‹æœåŠ¡ |</p>
<p>| <strong>å¼•æ“æ”¯æŒ</strong> | PyTorch, TensorFlow, MXNet, ONNX | åŸç”Ÿ JVM | ä»… TensorFlow |</p>
<p>| <strong>è®­ç»ƒèƒ½åŠ›</strong> | æœ‰é™ | å®Œå…¨æ”¯æŒ | æœ‰é™ |</p>
<p>| <strong>åˆ†å¸ƒå¼è®¡ç®—</strong> | é€šè¿‡å¼•æ“ï¼ˆå¦‚ MXNet ä¸Šçš„ Sparkï¼‰ | åŸç”Ÿ Spark/Hadoop | é€šè¿‡ TensorFlow |</p>
<p>| <strong>æ¨¡å‹å¯¼å…¥</strong> | PyTorch, TensorFlow, Keras, ONNX | Keras, TensorFlow, ONNX | ä»… TensorFlow |</p>
<p>| <strong>é¢„è®­ç»ƒæ¨¡å‹</strong> | Model Zoo ä¸­ 70+ | ç¤¾åŒºæ¨¡å‹ | TensorFlow Hub |</p>
<p>| <strong>Spring Boot é›†æˆ</strong> | åŸç”Ÿ starters | æ‰‹åŠ¨ | æ‰‹åŠ¨ |</p>
<p>| <strong>å­¦ä¹ æ›²çº¿</strong> | ä½ | ä¸­-é«˜ | ä¸­ |</p>
<p>| <strong>å†…å­˜ç®¡ç†</strong> | NDManagerï¼ˆè‡ªåŠ¨ï¼‰ | ND4Jï¼ˆå †å¤–ï¼‰ | æ‰‹åŠ¨ä¼šè¯ |</p>
<p>| <strong>ä¼ä¸šå°±ç»ªåº¦</strong> | é«˜ | éå¸¸é«˜ | ä¸­ |</p>
<p>| <strong>ç¤¾åŒºè§„æ¨¡</strong> | å¢é•¿ä¸­ | å°ä¼— | å¤§ï¼ˆPythonï¼‰ |</p>
<p>| <strong>æœ€é€‚åˆ</strong> | äº‘åŸç”Ÿæ¨ç† | å¤§æ•°æ® ML æµæ°´çº¿ | TensorFlow ç”Ÿæ€ç³»ç»Ÿ |</p>
<p><strong>å†³ç­–çŸ©é˜µï¼š</strong></p>
<ul>
<li>
<p><strong>é€‰æ‹© DJL ç”¨äº</strong>ï¼šå¾®æœåŠ¡ã€æ— æœåŠ¡å™¨å‡½æ•°ã€Spring Boot åº”ç”¨ã€å¼•æ“çµæ´»æ€§ã€AWS ç”Ÿæ€ç³»ç»Ÿã€‚</p>
</li>
<li>
<p><strong>é€‰æ‹© DL4J ç”¨äº</strong>ï¼šåˆ†å¸ƒå¼è®­ç»ƒã€Spark/Hadoop é›†æˆã€å®Œæ•´çš„çº¯ Java æŠ€æœ¯æ ˆã€ä¼ä¸šæ•°æ®æµæ°´çº¿ã€‚</p>
</li>
<li>
<p><strong>é€‰æ‹© TensorFlow Java ç”¨äº</strong>ï¼šç°æœ‰çš„ TensorFlow æŠ•èµ„ã€TPU éƒ¨ç½²ã€ç›´æ¥çš„ Python æ¨¡å‹å…¼å®¹æ€§ã€‚</p>
</li>
</ul>
<h2 data-id="heading-6">4. ä¸ Python ML ç”Ÿæ€ç³»ç»Ÿçš„é›†æˆ</h2>
<h3 data-id="heading-7">4.1 å¤šè¯­è¨€ç”Ÿäº§æ¨¡å¼</h3>
<p>æœ€ä¼˜çš„ä¼ä¸š ML å·¥ä½œæµé€šå¸¸ç»“åˆ Python çš„ç ”ç©¶èƒ½åŠ›å’Œ Java çš„ç”Ÿäº§ä¼˜åŠ¿ã€‚æ•°æ®ç§‘å­¦å®¶åœ¨ç†Ÿæ‚‰çš„ Python ç¯å¢ƒä¸­ä½¿ç”¨ TensorFlowã€PyTorch æˆ– scikit-learn è®­ç»ƒæ¨¡å‹ã€‚å·¥ç¨‹å¸ˆéšåå°†è¿™äº›æ¨¡å‹éƒ¨ç½²åœ¨æ¯å¤©å¤„ç†æ•°ç™¾ä¸‡è¯·æ±‚çš„ Java åº”ç”¨ç¨‹åºä¸­ã€‚</p>
<p><strong>æ¨¡å‹å¯¼å‡ºæ ¼å¼ï¼š</strong></p>
<ul>
<li>
<p><strong>ONNX</strong>ï¼šè¿™ä¸ªé€šç”¨çš„äº¤æ¢æ ¼å¼æ”¯æŒå¤§å¤šæ•°æ¡†æ¶ã€‚åœ¨ PyTorch ä¸­è®­ç»ƒï¼Œå¯¼å‡ºåˆ° ONNXï¼Œé€šè¿‡ DJL æˆ– DL4J å¯¼å…¥ã€‚è¿™ç§æ–¹æ³•æ”¯æŒä¸æ¡†æ¶æ— å…³çš„éƒ¨ç½²æµæ°´çº¿ã€‚</p>
</li>
<li>
<p><strong>TensorFlow SavedModel</strong>ï¼šå¯¹äºé•¿æœŸç”Ÿäº§æœåŠ¡ï¼Œå¯¼å‡ºåˆ°ä¸­ç«‹æ ¼å¼ï¼ˆå¦‚ ONNXï¼‰æˆ–é’ˆå¯¹æœåŠ¡ä¼˜åŒ–çš„æ¡†æ¶ç‰¹å®šç”Ÿäº§æ ¼å¼ï¼ˆSavedModelã€TorchScriptï¼‰ã€‚SavedModel å°†è®¡ç®—å›¾ã€å˜é‡å€¼å’Œå…ƒæ•°æ®æ‰“åŒ…åˆ°å•ä¸ªç›®å½•ç»“æ„ä¸­ã€‚</p>
</li>
<li>
<p><strong>TorchScript</strong>ï¼šPyTorch æ¨¡å‹é€šè¿‡è„šæœ¬æˆ–è¿½è¸ªåºåˆ—åŒ–ä¸º TorchScriptã€‚DJL çš„ PyTorch å¼•æ“ç›´æ¥åŠ è½½è¿™äº›æ¨¡å‹ï¼Œä¿æŒå®Œæ•´çš„è®¡ç®—å›¾ã€‚</p>
</li>
<li>
<p><strong>Keras H5</strong>ï¼šDL4J å¯¼å…¥ Keras æ¨¡å‹ï¼ˆåŒ…æ‹¬ tf.keras å˜ä½“ï¼‰ï¼Œä¿ç•™å±‚é…ç½®å’Œè®­ç»ƒå¥½çš„æƒé‡ã€‚</p>
</li>
</ul>
<h3 data-id="heading-8">4.2 Python4jï¼šåœ¨ Java ä¸­åµŒå…¥ Python</h3>
<p>DL4J çš„ Python4j æ¨¡å—è§£å†³äº†éœ€è¦ Java ä¸­ä¸å¯ç”¨çš„ Python åº“çš„åœºæ™¯ã€‚Python4j æ˜¯ä¸€ä¸ª Python è„šæœ¬æ‰§è¡Œæ¡†æ¶ï¼Œç®€åŒ–äº†å°† Python è„šæœ¬éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒçš„è¿‡ç¨‹ã€‚è¯¥æ–¹æ³•å°† CPython è§£é‡Šå™¨åµŒå…¥åˆ° JVM è¿›ç¨‹ä¸­ï¼Œå®ç°åŒå‘è°ƒç”¨ã€‚</p>
<p><strong>ç”¨ä¾‹åŒ…æ‹¬ï¼š</strong></p>
<ul>
<li>
<p>åœ¨ Java æ¨ç†å‰ä½¿ç”¨ scikit-learn æµæ°´çº¿è¿›è¡Œé¢„å¤„ç†ã€‚</p>
</li>
<li>
<p>ä» Java æ•°æ®æµæ°´çº¿è°ƒç”¨ä¸“é—¨çš„ Python åº“ï¼ˆNumPy, SciPyï¼‰ã€‚</p>
</li>
<li>
<p>åœ¨ Java æ¨¡å‹æœåŠ¡æ—è¾¹è¿è¡ŒåŸºäº Python çš„ç‰¹å¾å·¥ç¨‹ã€‚</p>
</li>
</ul>
<p><strong>æƒè¡¡ä¹‹å¤„</strong>åœ¨äºéœ€è¦ç®¡ç† Python è¿è¡Œæ—¶ä¾èµ–é¡¹å’Œæ½œåœ¨çš„ GIL é™åˆ¶ã€‚å¯¹äºé«˜ååé‡åœºæ™¯ï¼Œæ¨¡å‹å¯¼å‡ºä»ç„¶ä¼˜äºè¿è¡Œæ—¶ Python æ‰§è¡Œã€‚</p>
<h2 data-id="heading-9">5. æ¨¡å‹æœåŠ¡ä¸éƒ¨ç½²æ¨¡å¼</h2>
<h3 data-id="heading-10">5.1 å®æ—¶æ¨ç†æ¶æ„</h3>
<p>é¢å‘ç”¨æˆ·çš„åº”ç”¨ï¼Œå…¶ç”Ÿäº§ ML ç³»ç»Ÿéœ€è¦ä½äº 100 æ¯«ç§’çš„å»¶è¿Ÿã€‚Java çš„çº¿ç¨‹æ¨¡å‹å’Œ JVM ä¼˜åŒ–åœ¨æ­¤èƒŒæ™¯ä¸‹è¡¨ç°å‡ºè‰²ã€‚åœ¨ç”Ÿäº§ä¸­æ— éœ€ Python å³å¯æä¾› TensorFlow æ¨¡å‹æœåŠ¡ï¼Œæ¯æ¬¡é¢„æµ‹å»¶è¿Ÿä½äº 10 æ¯«ç§’ï¼Œå¹¶åƒä»»ä½• Spring Boot æœåŠ¡ä¸€æ ·æ°´å¹³æ‰©å±•ã€‚</p>
<p><strong>åŒæ­¥ REST APIï¼š</strong></p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@RestController</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PredictionController</span> {

<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Predictor&lt;Image, Classifications&gt; predictor;

<span class="hljs-meta">@PostMapping("/predict")</span>

<span class="hljs-keyword">public</span> Classifications <span class="hljs-title function_">predict</span><span class="hljs-params">(<span class="hljs-meta">@RequestBody</span> Image image)</span> {

<span class="hljs-keyword">return</span> predictor.predict(image); <span class="hljs-comment">// &lt;10ms å…¸å‹å»¶è¿Ÿ</span>

}

}

</code></pre>
<p>Spring Boot çš„è‡ªåŠ¨é…ç½®ã€å¥åº·æ£€æŸ¥å’ŒæŒ‡æ ‡ä¸ DJL æˆ– DL4J çš„é¢„æµ‹å™¨å®ä¾‹æ— ç¼é›†æˆã€‚æ°´å¹³æ‰©å±•éµå¾ªæ ‡å‡†çš„å¾®æœåŠ¡æ¨¡å¼â€”â€”åœ¨è´Ÿè½½å‡è¡¡å™¨åéƒ¨ç½²å¤šä¸ªå®ä¾‹ã€‚</p>
<p><strong>å¼‚æ­¥å¤„ç†ï¼š</strong></p>
<p>å¯¹äºéå…³é”®é¢„æµ‹ï¼Œå¼‚æ­¥å¤„ç†å¯æé«˜ååé‡ã€‚Java çš„ <code>CompletableFuture</code>ã€<code>Reactor</code> æˆ– Kotlin åç¨‹æ”¯æŒå¹¶å‘é¢„æµ‹æ‰¹å¤„ç†ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// å¼‚æ­¥æ‰¹é‡é¢„æµ‹</span>

List&lt;CompletableFuture&lt;Result&gt;&gt; futures = images.stream()

.map(img -&gt; CompletableFuture.supplyAsync(

() -&gt; predictor.predict(img), executor))

.collect(Collectors.toList());

</code></pre>
<h3 data-id="heading-11">5.2 æ‰¹é‡æ¨ç†æ¨¡å¼</h3>
<p>æ‰¹é‡ä½œä¸šå¯ä»¥å®¹å™¨åŒ–å¹¶éƒ¨ç½²åˆ°ä½œä¸šè°ƒåº¦å™¨æˆ–æµæ°´çº¿ï¼ˆå¦‚ Airflow/Prefectã€Kubeflow Pipelinesã€äº‘æ•°æ®ç®¡é“æœåŠ¡ï¼‰ï¼Œè€Œåœ¨çº¿æ¨¡å‹åˆ™éƒ¨ç½²åˆ°æœåŠ¡åŸºç¡€è®¾æ–½ï¼ˆWeb æœåŠ¡å™¨ã€Kubernetesï¼‰ã€‚</p>
<p>DL4J çš„ Spark é›†æˆå¤„ç†æµ·é‡æ•°æ®é›†ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-comment">// Spark ä¸Šçš„åˆ†å¸ƒå¼æ‰¹é‡è¯„åˆ†</span>

JavaRDD&lt;DataSet&gt; testData = loadTestData();

JavaRDD&lt;INDArray&gt; predictions = SparkDl4jMultiLayer

.predict(model, testData);

</code></pre>
<p>è¯¥æ¨¡å¼å°†æ¨ç†åˆ†å¸ƒåœ¨é›†ç¾¤èŠ‚ç‚¹ä¸Šï¼Œé«˜æ•ˆå¤„ç†æ•°ç™¾ä¸‡æ¡è®°å½•ã€‚å¯¹äºæ‹¥æœ‰ Hadoop æˆ– Spark åŸºç¡€è®¾æ–½çš„ç»„ç»‡ï¼Œè¿™ç§åŸç”Ÿé›†æˆæ¶ˆé™¤äº† Python æ¡¥æ¥å¼€é”€ã€‚</p>
<h3 data-id="heading-12">5.3 è¾¹ç¼˜ä¸ç§»åŠ¨ç«¯éƒ¨ç½²</h3>
<p>DJL æ”¯æŒéƒ¨ç½²åˆ°è¾¹ç¼˜è®¾å¤‡å’Œç§»åŠ¨å¹³å°ã€‚å¯¹äº Androidï¼ŒDJL æä¾›äº†é’ˆå¯¹ ARM å¤„ç†å™¨ä¼˜åŒ–çš„ TensorFlow Lite å’Œ ONNX Runtime å¼•æ“ã€‚è‡ªåŠ¨ CPU/GPU æ£€æµ‹å¯é€‚åº”å¯ç”¨ç¡¬ä»¶ã€‚</p>
<p><strong>ç”¨ä¾‹åŒ…æ‹¬ï¼š</strong></p>
<ul>
<li>
<p>ç§»åŠ¨åº”ç”¨ä¸­çš„è®¾å¤‡ç«¯å›¾åƒåˆ†ç±»ã€‚</p>
</li>
<li>
<p>æ— éœ€äº‘è¿æ¥çš„ IoT ä¼ æ„Ÿå™¨å¼‚å¸¸æ£€æµ‹ã€‚</p>
</li>
<li>
<p>éœ€è¦æœ¬åœ°æ¨ç†çš„è¾¹ç¼˜è®¡ç®—åœºæ™¯ã€‚</p>
</li>
</ul>
<p>è¯¥æ–¹æ³•é™ä½äº†å»¶è¿Ÿï¼Œæé«˜äº†éšç§æ€§ï¼ˆæ•°æ®ä¿ç•™åœ¨æœ¬åœ°ï¼‰ï¼Œå¹¶æ¶ˆé™¤äº†ç½‘ç»œä¾èµ–ã€‚</p>
<h2 data-id="heading-13">6. å¯æ‰©å±•æ€§è€ƒé‡</h2>
<h3 data-id="heading-14">6.1 å®¹å™¨åŒ–ä¸ç¼–æ’</h3>
<p>ä½¿ç”¨ Docker è¿›è¡Œå®¹å™¨åŒ–ï¼Œå…è®¸å°†æ¨¡å‹åŠå…¶ä»£ç è¿åŒæ‰€æœ‰å¿…éœ€çš„åº“å’Œä¾èµ–é¡¹æ‰“åŒ…åˆ°ä¸€ä¸ªè‡ªåŒ…å«çš„å•å…ƒä¸­ï¼Œè¯¥å•å…ƒå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¿è¡Œï¼ˆæ‚¨çš„ç¬”è®°æœ¬ç”µè„‘ã€äº‘è™šæ‹Ÿæœºã€Kubernetes é›†ç¾¤ä¸­ï¼‰ã€‚</p>
<p>Java ML æœåŠ¡ä¸ä¼ ç»Ÿ Spring Boot åº”ç”¨çš„å®¹å™¨åŒ–æ–¹å¼ç›¸åŒï¼š</p>
<p><strong>Dockerfile æ¨¡å¼ï¼š</strong></p>
<pre><code class="hljs language-dockerfile" lang="dockerfile">
FROM eclipse-temurin:21-jre-alpine

COPY target/ml-service.jar app.jar

ENTRYPOINT ["java", "-jar", "app.jar"]

</code></pre>
<p>Kubernetes ç¼–æ’å¤„ç†æ‰©å±•ã€å¥åº·æ£€æŸ¥å’Œæ»šåŠ¨æ›´æ–°ã€‚è¿™ç§ç»Ÿä¸€æ€§æ„å‘³ç€ç°æœ‰çš„ DevOps æµæ°´çº¿æ— éœ€ç‰¹æ®Šå¤„ç†å³å¯æ‰©å±•åˆ° ML æœåŠ¡ã€‚</p>
<h3 data-id="heading-15">6.2 æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h3>
<ul>
<li>
<p><strong>æ¨¡å‹é‡åŒ–</strong>ï¼šé€šè¿‡å°† float32 æƒé‡è½¬æ¢ä¸º int8 æ¥å‡å°‘æ¨¡å‹å¤§å°å’Œæ¨ç†æ—¶é—´ã€‚TensorFlow Lite å’Œ ONNX Runtime æ”¯æŒé‡åŒ–ï¼Œä¸”ç²¾åº¦æŸå¤±æœ€å°ã€‚å…¸å‹æ”¶ç›Šï¼šæ¨¡å‹ç¼©å° 4 å€ï¼Œæ¨ç†é€Ÿåº¦åŠ å¿« 2-3 å€ã€‚</p>
</li>
<li>
<p><strong>æ‰¹å¤„ç†</strong>ï¼šå°†é¢„æµ‹åˆ†ç»„ä»¥åˆ†æ‘Šå¼€é”€ã€‚DJL å’Œ DL4J æ”¯æŒæ‰¹å¤„ç†è¾“å…¥ï¼Œåˆ©ç”¨ SIMD æŒ‡ä»¤ï¼Œå¹¶å°†æ¯é¡¹é¢„æµ‹çš„å»¶è¿Ÿä» 10 æ¯«ç§’é™ä½åˆ°æ‰¹é‡ 32 æ¡æ—¶çš„æ¯æ¡ 2-3 æ¯«ç§’ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å‹ç¼–è¯‘</strong>ï¼šONNX Runtime å’Œ TensorFlow XLA å°†æ¨¡å‹ç¼–è¯‘ä¸ºä¼˜åŒ–çš„æ‰§è¡Œå›¾ã€‚åœ¨å®¹å™¨æ„å»ºæœŸé—´è¿›è¡Œé¢„ç¼–è¯‘å¯æ¶ˆé™¤è¿è¡Œæ—¶ç¼–è¯‘å¼€é”€ã€‚</p>
</li>
<li>
<p><strong>å†…å­˜ç®¡ç†</strong>ï¼šDJL é€šè¿‡å…¶ç‰¹æ®Šçš„å†…å­˜æ”¶é›†å™¨ NDManager è§£å†³äº†å†…å­˜æ³„æ¼é—®é¢˜ï¼Œè¯¥ç®¡ç†å™¨åŠæ—¶æ”¶é›† C++ åº”ç”¨ç¨‹åºå†…éƒ¨çš„é™ˆæ—§å¯¹è±¡ï¼Œåœ¨æµ‹è¯• 100 å°æ—¶è¿ç»­æ¨ç†ä¸å´©æºƒåï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­æä¾›ç¨³å®šæ€§ã€‚</p>
</li>
<li>
<p><strong>è¿æ¥æ± </strong>ï¼šå¯¹äºè°ƒç”¨å¤–éƒ¨æ¨¡å‹æœåŠ¡å™¨ï¼ˆTensorFlow Servingã€Tritonï¼‰çš„æœåŠ¡ï¼Œç»´æŠ¤è¿æ¥æ± ä»¥å‡å°‘ TCP æ¡æ‰‹å¼€é”€ã€‚</p>
</li>
</ul>
<h3 data-id="heading-16">6.3 æ°´å¹³æ‰©å±•æ¨¡å¼</h3>
<p>Java ML æœåŠ¡çš„æ‰©å±•æ–¹å¼ä¸æ— çŠ¶æ€ Web æœåŠ¡ç›¸åŒï¼š</p>
<ul>
<li>
<p>åœ¨è´Ÿè½½å‡è¡¡å™¨åéƒ¨ç½²å¤šä¸ªå®ä¾‹ã€‚</p>
</li>
<li>
<p>åŸºäº CPUã€å†…å­˜æˆ–è‡ªå®šä¹‰æŒ‡æ ‡ï¼ˆæ¨ç†é˜Ÿåˆ—æ·±åº¦ï¼‰ä½¿ç”¨ Kubernetes HorizontalPodAutoscalerã€‚</p>
</li>
<li>
<p>å®æ–½ç†”æ–­å™¨ä»¥ä¼˜é›…åœ°å¤„ç†ä¸‹æ¸¸æ•…éšœã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ Redis æˆ– Caffeine ç¼“å­˜é¢‘ç¹çš„é¢„æµ‹ç»“æœã€‚</p>
</li>
</ul>
<p>æ¨ç†çš„æ— çŠ¶æ€ç‰¹æ€§ï¼ˆç»™å®šæ¨¡å‹ç‰ˆæœ¬ï¼‰ä½¿å¾—æ— éœ€åè°ƒå¼€é”€å³å¯å®ç°å¼¹æ€§æ‰©å±•ã€‚</p>
<h2 data-id="heading-17">7. Java åº”ç”¨çš„ MLOps</h2>
<h3 data-id="heading-18">7.1 æŒç»­è®­ç»ƒä¸éƒ¨ç½²</h3>
<p>MLOps å›¢é˜Ÿçš„ç›®æ ‡æ˜¯è‡ªåŠ¨å°† ML æ¨¡å‹éƒ¨ç½²åˆ°æ ¸å¿ƒè½¯ä»¶ç³»ç»Ÿä¸­æˆ–ä½œä¸ºæœåŠ¡ç»„ä»¶ï¼Œè‡ªåŠ¨åŒ–æ•´ä¸ª ML å·¥ä½œæµæ­¥éª¤ï¼Œæ— éœ€ä»»ä½•äººå·¥å¹²é¢„ã€‚</p>
<ul>
<li>
<p><strong>Level 0ï¼ˆæ‰‹åŠ¨ï¼‰</strong>ï¼šè®¸å¤šå›¢é˜Ÿæ‹¥æœ‰èƒ½å¤Ÿæ„å»ºå…ˆè¿›æ¨¡å‹çš„æ•°æ®ç§‘å­¦å®¶å’Œ ML ç ”ç©¶äººå‘˜ï¼Œä½†ä»–ä»¬æ„å»ºå’Œéƒ¨ç½² ML æ¨¡å‹çš„è¿‡ç¨‹å®Œå…¨æ˜¯æ‰‹åŠ¨çš„ï¼Œæ¯ä¸ªæ­¥éª¤éƒ½éœ€è¦æ‰‹åŠ¨æ‰§è¡Œå’Œæ‰‹åŠ¨è¿‡æ¸¡ã€‚è¿™ä»£è¡¨äº† 2025 å¹´ 35% çš„ Java ML éƒ¨ç½²ã€‚</p>
</li>
<li>
<p><strong>Level 1ï¼ˆML æµæ°´çº¿è‡ªåŠ¨åŒ–ï¼‰</strong>ï¼šè‡ªåŠ¨åŒ–è®­ç»ƒæµæ°´çº¿æ ¹æ®æ–°æ•°æ®é‡æ–°è®­ç»ƒæ¨¡å‹ã€‚Jenkinsã€GitHub Actions æˆ– GitLab CI è§¦å‘è®­ç»ƒä½œä¸šï¼Œå°†æ¨¡å‹å¯¼å‡ºåˆ°å·¥ä»¶ä»“åº“ï¼ˆNexusã€Artifactoryï¼‰ï¼Œå¹¶é€šçŸ¥éƒ¨ç½²ç³»ç»Ÿã€‚ç‰ˆæœ¬åŒ–çš„æ¨¡å‹è‡ªåŠ¨éƒ¨ç½²åˆ°é¢„å‘å¸ƒç¯å¢ƒã€‚</p>
</li>
<li>
<p><strong>Level 2ï¼ˆML çš„ CI/CDï¼‰</strong>ï¼šæŒç»­é›†æˆé€šè¿‡æ·»åŠ æµ‹è¯•å’ŒéªŒè¯æ•°æ®å’Œæ¨¡å‹æ¥æ‰©å±•å¯¹ä»£ç å’Œç»„ä»¶çš„æµ‹è¯•å’ŒéªŒè¯ï¼›æŒç»­äº¤ä»˜å…³æ³¨è‡ªåŠ¨éƒ¨ç½²å¦ä¸€ä¸ª ML æ¨¡å‹é¢„æµ‹æœåŠ¡çš„ ML è®­ç»ƒæµæ°´çº¿çš„äº¤ä»˜ï¼›æŒç»­è®­ç»ƒè‡ªåŠ¨é‡æ–°è®­ç»ƒ ML æ¨¡å‹ä»¥é‡æ–°éƒ¨ç½²ã€‚</p>
</li>
</ul>
<p>åœ¨ Java ä¸Šä¸‹æ–‡ä¸­ï¼Œè¿™æ„å‘³ç€ï¼š</p>
<ul>
<li>
<p>æ•°æ®æµæ°´çº¿å’Œé¢„å¤„ç†çš„è‡ªåŠ¨åŒ–å•å…ƒæµ‹è¯•ã€‚</p>
</li>
<li>
<p>ç¡®ä¿æ¨¡å‹é¢„æµ‹ç¬¦åˆé¢„æœŸè¾“å‡ºçš„é›†æˆæµ‹è¯•ã€‚</p>
</li>
<li>
<p>é‡‘ä¸é›€éƒ¨ç½²ï¼ˆ5% æµé‡å¯¼å‘æ–°æ¨¡å‹ç‰ˆæœ¬ï¼‰ã€‚</p>
</li>
<li>
<p>æ€§èƒ½ä¸‹é™æ—¶çš„è‡ªåŠ¨åŒ–å›æ»šã€‚</p>
</li>
</ul>
<h3 data-id="heading-19">7.2 æ¨¡å‹ç‰ˆæœ¬æ§åˆ¶ä¸æ³¨å†Œ</h3>
<p>å°†æ¨¡å‹è§†ä¸ºä¸€ç­‰å·¥ä»¶ï¼š</p>
<pre><code class="hljs language-plainttext" lang="plainttext">
models/

fraud-detection/

v1.0.0/

model.onnx

metadata.json

v1.1.0/

model.onnx

metadata.json

</code></pre>
<p>å…ƒæ•°æ®åŒ…æ‹¬è®­ç»ƒæ—¥æœŸã€æ•°æ®é›†ç‰ˆæœ¬ã€æ€§èƒ½æŒ‡æ ‡ï¼ˆå‡†ç¡®ç‡ã€F1 åˆ†æ•°ï¼‰å’Œä¾èµ–ç‰ˆæœ¬ã€‚å¯ä»¥ä½¿ç”¨ Maven åæ ‡å¼•ç”¨æ¨¡å‹ç‰ˆæœ¬ï¼š</p>
<pre><code class="hljs language-xml" lang="xml">
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.company.ml<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fraud-detection-model<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">classifier</span>&gt;</span>onnx<span class="hljs-tag">&lt;/<span class="hljs-name">classifier</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

</code></pre>
<p>è¿™ç§æ–¹æ³•å°†æ ‡å‡†çš„ä¾èµ–ç®¡ç†å®è·µåº”ç”¨äº ML æ¨¡å‹ï¼Œä»è€Œå®ç°å¯é‡å¤çš„æ„å»ºå’Œå¯å®¡è®¡çš„éƒ¨ç½²ã€‚</p>
<h3 data-id="heading-20">7.3 ç›‘æ§ä¸å¯è§‚å¯Ÿæ€§</h3>
<p>ML æ¨¡å‹éƒ¨ç½²åï¼Œéœ€è¦è¿›è¡Œç›‘æ§ä»¥ç¡®ä¿å…¶æŒ‰é¢„æœŸæ‰§è¡Œã€‚Java çš„å¯è§‚å¯Ÿæ€§ç”Ÿæ€ç³»ç»Ÿè‡ªç„¶åœ°æ‰©å±•åˆ° ML æœåŠ¡ï¼š</p>
<p><strong>è¦è·Ÿè¸ªçš„æŒ‡æ ‡ï¼š</strong></p>
<ul>
<li>
<p><strong>æ¨ç†å»¶è¿Ÿ</strong>ï¼šé€šè¿‡ Micrometer ç»Ÿè®¡ p50ã€p95ã€p99 ç™¾åˆ†ä½æ•°ã€‚</p>
</li>
<li>
<p><strong>ååé‡</strong>ï¼šæ¯ç§’é¢„æµ‹æ•°ã€æ¯ç§’è¯·æ±‚æ•°ã€‚</p>
</li>
<li>
<p><strong>é”™è¯¯ç‡</strong>ï¼šå¤±è´¥çš„é¢„æµ‹ã€æ¨¡å‹åŠ è½½å¤±è´¥ã€‚</p>
</li>
<li>
<p><strong>æ•°æ®æ¼‚ç§»</strong>ï¼šé€šè¿‡ç»Ÿè®¡æµ‹è¯•æ£€æµ‹åˆ°çš„è¾“å…¥åˆ†å¸ƒå˜åŒ–ã€‚</p>
</li>
<li>
<p><strong>æ¨¡å‹æ€§èƒ½</strong>ï¼šç”Ÿäº§æ•°æ®ä¸Šçš„å‡†ç¡®ç‡ã€ç²¾ç¡®ç‡ã€å¬å›ç‡ï¼ˆå½“æ ‡ç­¾å¯ç”¨æ—¶ï¼‰ã€‚</p>
</li>
</ul>
<p><strong>ä¸ç°æœ‰å·¥å…·çš„é›†æˆï¼š</strong></p>
<p>Spring Boot Actuator æš´éœ² ML ç‰¹å®šæŒ‡æ ‡ï¼š</p>
<pre><code class="hljs language-java" lang="java">
<span class="hljs-meta">@Component</span>

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PredictionMetrics</span> {

<span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> MeterRegistry registry;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">recordPrediction</span><span class="hljs-params">(<span class="hljs-type">long</span> latencyMs, String modelVersion)</span> {

registry.timer(<span class="hljs-string">"prediction.latency"</span>,

<span class="hljs-string">"model"</span>, modelVersion)

.record(Duration.ofMillis(latencyMs));

}

}

</code></pre>
<p>Prometheus æŠ“å–è¿™äº›æŒ‡æ ‡ï¼ŒGrafana å¯è§†åŒ–è¶‹åŠ¿ï¼Œå¹¶åœ¨å‡ºç°å¼‚å¸¸ï¼ˆå»¶è¿Ÿå³°å€¼ã€å‡†ç¡®ç‡ä¸‹é™ï¼‰æ—¶è§¦å‘å‘Šè­¦ã€‚</p>
<h3 data-id="heading-21">7.4 æµ‹è¯• ML ç³»ç»Ÿ</h3>
<ul>
<li>
<p><strong>å•å…ƒæµ‹è¯•</strong>ï¼šéªŒè¯æ•°æ®é¢„å¤„ç†ã€ç‰¹å¾å·¥ç¨‹å’Œåå¤„ç†é€»è¾‘ã€‚æ ‡å‡†çš„ JUnit æµ‹è¯•å³å¯æ»¡è¶³ã€‚</p>
</li>
<li>
<p><strong>é›†æˆæµ‹è¯•</strong>ï¼šæµ‹è¯• ML æ¨¡å‹æ˜¯å¦æˆåŠŸåŠ è½½åˆ°ç”Ÿäº§æœåŠ¡ä¸­ï¼Œå¹¶ä¸”å¯¹çœŸå®æ•°æ®çš„é¢„æµ‹ç¬¦åˆé¢„æœŸï¼›æµ‹è¯•è®­ç»ƒç¯å¢ƒä¸­çš„æ¨¡å‹ä¸æœåŠ¡ç¯å¢ƒä¸­çš„æ¨¡å‹ç»™å‡ºç›¸åŒçš„åˆ†æ•°ã€‚</p>
</li>
<li>
<p><strong>æ€§èƒ½æµ‹è¯•</strong>ï¼šä½¿ç”¨ JMeter æˆ– Gatling æ¨¡æ‹Ÿè´Ÿè½½ï¼Œåœ¨çœŸå®æµé‡æ¨¡å¼ä¸‹æµ‹é‡ååé‡å’Œå»¶è¿Ÿã€‚å»ºç«‹åŸºçº¿å¹¶æ£€æµ‹å›å½’ã€‚</p>
</li>
<li>
<p><strong>å½±å­éƒ¨ç½²</strong>ï¼šå°†æ–°æ¨¡å‹ç‰ˆæœ¬ä¸ç°æœ‰ç‰ˆæœ¬å¹¶è¡Œè¿è¡Œï¼Œè®°å½•é¢„æµ‹è€Œä¸å½±å“ç”¨æˆ·ã€‚åœ¨å…¨é¢éƒ¨ç½²å‰æ¯”è¾ƒç»“æœä»¥è¯†åˆ«æ„å¤–è¡Œä¸ºã€‚</p>
</li>
</ul>
<h2 data-id="heading-22">8. Java åœ¨æœºå™¨å­¦ä¹ ä¸­è¡¨ç°å‡ºè‰²çš„ç”¨ä¾‹</h2>
<h3 data-id="heading-23">8.1 ä¼ä¸šé›†æˆåœºæ™¯</h3>
<ul>
<li>
<p><strong>é‡‘èæœåŠ¡ä¸­çš„æ¬ºè¯ˆæ£€æµ‹</strong>ï¼šæ‹¥æœ‰æˆç†Ÿ Java ç”Ÿæ€ç³»ç»Ÿçš„ä¼ä¸šè¶Šæ¥è¶Šå¯»æ±‚å°† ML/AI æ¨¡å‹ç›´æ¥é›†æˆåˆ°å…¶åç«¯ç³»ç»Ÿçš„æ–¹æ³•ï¼Œè€Œæ— éœ€å¯åŠ¨å•ç‹¬çš„åŸºäº Python çš„å¾®æœåŠ¡ã€‚é“¶è¡Œæ¯å¤©é€šè¿‡ Java ç³»ç»Ÿå¤„ç†æ•°ç™¾ä¸‡ç¬”äº¤æ˜“ã€‚å°† DJL é¢„æµ‹å™¨ç›´æ¥åµŒå…¥äº¤æ˜“å¤„ç†æµæ°´çº¿ä¸­ï¼Œæ— éœ€å¤–éƒ¨æœåŠ¡è°ƒç”¨å³å¯å®ç°ä½äº 10 æ¯«ç§’çš„æ¬ºè¯ˆè¯„åˆ†ã€‚</p>
</li>
<li>
<p><strong>å®æ—¶æ¨è</strong>ï¼šåŸºäº Spring Boot æ„å»ºçš„ç”µå­å•†åŠ¡å¹³å°é›†æˆ DJL è¿›è¡Œäº§å“æ¨èã€‚ä¼šè¯æ•°æ®æµç»ç°æœ‰çš„ Java æœåŠ¡ï¼Œé¢„æµ‹åœ¨è¿›ç¨‹å†…è¿›è¡Œï¼Œç»“æœæ— éœ€ç½‘ç»œå»¶è¿Ÿå³å¯å‘ˆç°ã€‚</p>
</li>
<li>
<p><strong>æ—¥å¿—åˆ†æä¸èšç±»</strong>ï¼šNetflix çš„å¯è§‚å¯Ÿæ€§å›¢é˜Ÿä½¿ç”¨ DJL åœ¨ç”Ÿäº§ä¸­éƒ¨ç½²è¿ç§»å­¦ä¹ æ¨¡å‹ï¼Œä»¥å¯¹åº”ç”¨ç¨‹åºæ—¥å¿—æ•°æ®è¿›è¡Œå®æ—¶èšç±»å’Œåˆ†æï¼Œé€šè¿‡å­—ç¬¦çº§ CNN å’Œé€šç”¨å¥å­ç¼–ç å™¨æ¨¡å‹å¤„ç†æ—¥å¿—è¡Œï¼Œæ¯æ¡çº¦ 7 æ¯«ç§’ã€‚åŸºäº DJL çš„æµæ°´çº¿åˆ†é…ä¿ç•™ç›¸ä¼¼æ€§çš„èšç±» IDï¼Œä»è€Œå®ç°å‘Šè­¦é‡å‡å°‘å’Œå­˜å‚¨æ•ˆç‡æé«˜ã€‚</p>
</li>
</ul>
<h3 data-id="heading-24">8.2 å¤§æ•°æ® ML å·¥ä½œæµ</h3>
<p>ä½¿ç”¨ Spark æˆ– Hadoop æ¯å¤©å¤„ç† TB çº§æ•°æ®çš„ç»„ç»‡å—ç›Šäº DL4J çš„åŸç”Ÿé›†æˆã€‚åœ¨å†å²æ•°æ®ä¸Šè®­ç»ƒæ¨¡å‹ã€å¯¹æ–°è®°å½•è¿›è¡Œè¯„åˆ†ä»¥åŠæ›´æ–°æ¨¡å‹â€”â€”æ‰€æœ‰è¿™äº›éƒ½åœ¨ Spark æµæ°´çº¿å†…å®Œæˆï¼Œæ— éœ€ Python æ¡¥æ¥ã€‚</p>
<p><strong>ç¤ºä¾‹å·¥ä½œæµï¼š</strong></p>
<ol>
<li>
<p>ä» HDFS æˆ– S3 å°†æ•°æ®è¯»å…¥ Spark DataFramesã€‚</p>
</li>
<li>
<p>ä½¿ç”¨ Spark SQL è¿›è¡Œç‰¹å¾å·¥ç¨‹ã€‚</p>
</li>
<li>
<p>åœ¨é›†ç¾¤ä¸Šåˆ†å¸ƒå¼è®­ç»ƒ DL4J æ¨¡å‹ã€‚</p>
</li>
<li>
<p>ä½¿ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹å¯¹æ–°æ•°æ®è¯„åˆ†ã€‚</p>
</li>
<li>
<p>å°†ç»“æœå†™å›æ•°æ®ä»“åº“ã€‚</p>
</li>
</ol>
<p>æ•´ä¸ªç«¯åˆ°ç«¯æµç¨‹ä¿æŒåœ¨ JVM ä¸­ï¼Œé¿å…äº†åºåˆ—åŒ–å¼€é”€å’Œ Python äº’æ“ä½œçš„å¤æ‚æ€§ã€‚</p>
<h3 data-id="heading-25">8.3 å¾®æœåŠ¡ä¸äº‘åŸç”Ÿåº”ç”¨</h3>
<p>Spring Boot åº”ç”¨ç¨‹åºä¸»å¯¼ç€ä¼ä¸šå¾®æœåŠ¡æ¶æ„ã€‚é€šè¿‡ DJL starters æ·»åŠ  ML èƒ½åŠ›å¯æ— ç¼é›†æˆï¼š</p>
<ul>
<li>
<p><strong>ç†”æ–­å™¨</strong>ï¼šResilience4j æ¨¡å¼ä¿æŠ¤ ML æœåŠ¡å…å—çº§è”æ•…éšœå½±å“ã€‚</p>
</li>
<li>
<p><strong>æœåŠ¡å‘ç°</strong>ï¼šEureka æˆ– Consul æ³¨å†Œ ML é¢„æµ‹æœåŠ¡ã€‚</p>
</li>
<li>
<p><strong>é…ç½®</strong>ï¼šSpring Cloud Config ç®¡ç†æ¨¡å‹ç«¯ç‚¹å’Œå‚æ•°ã€‚</p>
</li>
<li>
<p><strong>è¿½è¸ª</strong>ï¼šZipkin æˆ– Jaeger è¿½è¸ªé€šè¿‡ ML æµæ°´çº¿çš„è¯·æ±‚ã€‚</p>
</li>
</ul>
<p>è¿™ç§ç»Ÿä¸€æ€§ç®€åŒ–äº†è¿ç»´â€”â€”ML æœåŠ¡ä¸ä¸šåŠ¡é€»è¾‘æœåŠ¡ä»¥ç›¸åŒçš„æ–¹å¼éƒ¨ç½²ã€æ‰©å±•å’Œç›‘æ§ã€‚</p>
<h3 data-id="heading-26">8.4 è¾¹ç¼˜è®¡ç®—ä¸ç‰©è”ç½‘</h3>
<p>Java çš„â€œä¸€æ¬¡ç¼–å†™ï¼Œéšå¤„è¿è¡Œâ€ç†å¿µæ‰©å±•åˆ°è¾¹ç¼˜è®¾å¤‡ã€‚ä¸º ARM å¤„ç†å™¨ç¼–è¯‘çš„ DJL æ¨¡å‹å¯ä»¥åœ¨ Raspberry Piã€NVIDIA Jetson å’Œå·¥ä¸š IoT ç½‘å…³ä¸Šè¿è¡Œã€‚<strong>ç”¨ä¾‹åŒ…æ‹¬ï¼š</strong></p>
<ul>
<li>
<p><strong>é¢„æµ‹æ€§ç»´æŠ¤</strong>ï¼šæœ¬åœ°åˆ†æä¼ æ„Ÿå™¨æ•°æ®ï¼Œå¼‚å¸¸æ—¶è§¦å‘è­¦æŠ¥ã€‚</p>
</li>
<li>
<p><strong>è§†é¢‘åˆ†æ</strong>ï¼šåœ¨è¾¹ç¼˜å¤„ç†å®‰é˜²æ‘„åƒå¤´è§†é¢‘æµï¼Œå‡å°‘å¸¦å®½ã€‚</p>
</li>
<li>
<p><strong>æ™ºèƒ½å®¶å±…è®¾å¤‡</strong>ï¼šè®¾å¤‡ç«¯è¯­éŸ³è¯†åˆ«å’Œè‡ªç„¶è¯­è¨€ç†è§£ã€‚</p>
</li>
</ul>
<p>GraalVM åŸç”Ÿé•œåƒç¼–è¯‘ç”Ÿæˆç‹¬ç«‹çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå†…å­˜å ç”¨å°ï¼ˆ&lt; 50MBï¼‰ï¼Œå¯åŠ¨é€Ÿåº¦å¿«ï¼ˆ&lt; 100msï¼‰ï¼Œéå¸¸é€‚åˆèµ„æºå—é™çš„ç¯å¢ƒã€‚</p>
<h3 data-id="heading-27">8.5 æ³•è§„ä¸åˆè§„è¦æ±‚</h3>
<p>éšç€æ¬§ç›Ÿã€Šäººå·¥æ™ºèƒ½æ³•æ¡ˆã€‹ç­‰æ³•è§„çš„æ”¶ç´§ï¼Œé›†æˆé‡ç‚¹è½¬å‘æ¨¡å‹çš„å·¦ç§»å®‰å…¨æ€§â€”â€”åœ¨æµæ°´çº¿ä¸­æ‰«æåè§ã€å¯è§£é‡Šæ€§å’Œåˆè§„æ€§ã€‚Java çš„å¼ºç±»å‹ã€æ˜¾å¼å¼‚å¸¸å¤„ç†å’Œæˆç†Ÿçš„æ—¥å¿—è®°å½•æ¡†æ¶ä¾¿äºå®¡è®¡è¿½è¸ªå’Œæ»¡è¶³å¯è§£é‡Šæ€§è¦æ±‚ã€‚</p>
<p>é‡‘èå’ŒåŒ»ç–—ä¿å¥è¡Œä¸šé€šå¸¸è¦æ±‚æ‰€æœ‰ä»£ç ï¼ˆåŒ…æ‹¬ ML æ¨¡å‹ï¼‰é€šè¿‡ç»è¿‡éªŒè¯çš„ã€å¸¦æœ‰å®¡æ‰¹å·¥ä½œæµçš„æµæ°´çº¿è¿›è¡Œéƒ¨ç½²ã€‚ä¸å¼•å…¥ Python è¿è¡Œæ—¶ä¾èµ–ç›¸æ¯”ï¼ŒJava ML æœåŠ¡èƒ½æ›´è‡ªç„¶åœ°ä¸ç°æœ‰çš„æ²»ç†æµç¨‹é›†æˆã€‚</p>
<h3 data-id="heading-28">9. ç»“è®ºï¼šæˆ‘ä»¬çš„æ”¶è·</h3>
<p>Java åœ¨æœºå™¨å­¦ä¹ ä¸­çš„ä½œç”¨ä»£è¡¨äº†åŠ¡å®çš„ç”Ÿäº§å·¥ç¨‹ï¼Œè€Œéç ”ç©¶åˆ›æ–°ã€‚æˆ‘ä»¬åˆ†æå¾—å‡ºçš„ä¸»è¦è§è§£ï¼š</p>
<ol>
<li>
<p><strong>æ¡†æ¶é€‰æ‹©å–å†³äºä¸Šä¸‹æ–‡</strong>ï¼šDJL åœ¨æ¨ç†å’Œæ¨¡å‹æœåŠ¡æ–¹é¢è¡¨ç°å‡ºè‰²ï¼Œå…·æœ‰å¼•æ“çµæ´»æ€§ï¼Œæ˜¯äº‘åŸç”Ÿå¾®æœåŠ¡çš„ç†æƒ³é€‰æ‹©ã€‚DL4J æä¾›äº†ä¸å¤§æ•°æ®æ¡†æ¶é›†æˆçš„å®Œæ•´ ML ç”Ÿå‘½å‘¨æœŸåŠŸèƒ½ï¼Œé€‚ç”¨äºéœ€è¦åˆ†å¸ƒå¼åŸ¹è®­çš„ç»„ç»‡ã€‚TensorFlow Java æœåŠ¡äºæ·±åº¦æŠ•å…¥ TensorFlow ç”Ÿæ€ç³»ç»Ÿã€éœ€è¦ç›´æ¥æ¨¡å‹å…¼å®¹æ€§çš„å›¢é˜Ÿã€‚</p>
</li>
<li>
<p><strong>å¤šè¯­è¨€æ¨¡å¼è¡Œä¹‹æœ‰æ•ˆ</strong>ï¼šåœ¨ Python ä¸­è®­ç»ƒå¹¶åœ¨ Java ä¸­éƒ¨ç½²ï¼Œåˆ©ç”¨äº†æ¯ç§è¯­è¨€çš„ä¼˜åŠ¿ã€‚ONNX å’Œ SavedModel æ ¼å¼æ”¯æŒæ— ç¼äº¤æ¥ã€‚Python4j åœ¨å¿…è¦æ—¶å¼¥åˆå·®è·ï¼Œä½†å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œæ¨¡å‹å¯¼å‡ºä»æ˜¯é¦–é€‰ã€‚</p>
</li>
<li>
<p><strong>ç”Ÿäº§æ€§èƒ½è‡³å…³é‡è¦</strong>ï¼šNetflix 7 æ¯«ç§’çš„æ¨ç†å»¶è¿Ÿè¯æ˜ Java ML æœåŠ¡èƒ½å¤Ÿæ»¡è¶³å®æ—¶æ€§èƒ½è¦æ±‚ã€‚é€‚å½“çš„å†…å­˜ç®¡ç†ï¼ˆNDManagerã€ND4Jï¼‰ã€æ¨¡å‹ä¼˜åŒ–ï¼ˆé‡åŒ–ã€ç¼–è¯‘ï¼‰å’Œæ°´å¹³æ‰©å±•æä¾›äº†ç”Ÿäº§çº§ç³»ç»Ÿã€‚</p>
</li>
<li>
<p><strong>MLOps æˆç†Ÿåº¦å‚å·®ä¸é½</strong>ï¼šåªæœ‰ 20% çš„ Java ML éƒ¨ç½²è¾¾åˆ°äº† Level 2 CI/CD æˆç†Ÿåº¦ï¼Œå…·å¤‡è‡ªåŠ¨é‡æ–°è®­ç»ƒå’Œç›‘æ§ã€‚æœºä¼šåœ¨äºå°†å·²å»ºç«‹çš„ DevOps å®è·µâ€”â€”å®¹å™¨ã€ç¼–æ’ã€å¯è§‚å¯Ÿæ€§â€”â€”åº”ç”¨äº ML å·¥ä½œæµã€‚</p>
</li>
<li>
<p><strong>Java åœ¨ç‰¹å®šåœºæ™¯ä¸­è¡¨ç°å‡ºè‰²</strong>ï¼šä¼ä¸šé›†æˆï¼ˆæ¬ºè¯ˆæ£€æµ‹ã€æ¨èï¼‰ã€å¤§æ•°æ® ML æµæ°´çº¿ï¼ˆSpark/Hadoopï¼‰ã€å¾®æœåŠ¡æ¶æ„ã€è¾¹ç¼˜è®¡ç®—å’Œæ³•è§„åˆè§„ä»£è¡¨äº† Java çš„ç‰¹æ€§â€”â€”ç¨³å®šæ€§ã€çº¿ç¨‹å¤„ç†ã€ç”Ÿæ€ç³»ç»Ÿæˆç†Ÿåº¦â€”â€”ç›¸æ¯”ä»¥ Python ä¸ºä¸­å¿ƒçš„æ–¹æ³•æä¾›ä¼˜åŠ¿çš„é¢†åŸŸã€‚</p>
</li>
<li>
<p><strong>å†…å­˜ç®¡ç†åŒºåˆ†äº†æ¡†æ¶</strong>ï¼šDJL çš„ NDManager è§£å†³äº†ç®¡ç† JVM åº”ç”¨ç¨‹åºä¸­æœ¬æœºå†…å­˜çš„å…³é”®æŒ‘æˆ˜ï¼Œå®ç°äº† 100 å°æ—¶ä»¥ä¸Šçš„ç”Ÿäº§è¿è¡Œè€Œæ— å†…å­˜æ³„æ¼ã€‚è¿™ç§ç”Ÿäº§å°±ç»ªæ€§å°†ä¼ä¸šå¯è¡Œçš„æ¡†æ¶ä¸å®éªŒæ€§ç»‘å®šåŒºåˆ†å¼€æ¥ã€‚</p>
</li>
<li>
<p><strong>å·®è·æ­£åœ¨ç¼©å°</strong>ï¼šè™½ç„¶ Java ä¸ä¼šå–ä»£ Python åœ¨ ML ç ”ç©¶ä¸­çš„åœ°ä½ï¼Œä½†åƒ DJL å’Œ DL4J è¿™æ ·çš„æ¡†æ¶å·²ç»è¶³å¤Ÿæˆç†Ÿï¼Œå¯ç”¨äºç”Ÿäº§éƒ¨ç½²ã€‚ç”Ÿæ€ç³»ç»Ÿç°åœ¨æ”¯æŒå®Œæ•´çš„æ¨ç†ç”Ÿå‘½å‘¨æœŸï¼Œæ€§èƒ½å¯ä¸ Python è§£å†³æ–¹æ¡ˆç›¸åª²ç¾ã€‚</p>
</li>
</ol>
<p>æœªæ¥å¯èƒ½æ¶‰åŠæ›´æ·±å±‚æ¬¡çš„é›†æˆâ€”â€”Spring AI ä¸º Java å¸¦æ¥ LLM èƒ½åŠ›ï¼ŒGraalVM åŸç”Ÿé•œåƒä¸ºæ— æœåŠ¡å™¨ ML å®ç°å³æ—¶å¯åŠ¨ï¼Œä»¥åŠ MLOps å’Œ DevOps å®è·µä¹‹é—´æŒç»­çš„èåˆã€‚å¯¹äºæ‹¥æœ‰å¤§é‡ Java æŠ•èµ„çš„ç»„ç»‡ï¼Œé—®é¢˜ä»â€œæˆ‘ä»¬èƒ½ç”¨ Java åš ML å—ï¼Ÿâ€è½¬å˜ä¸ºâ€œæˆ‘ä»¬å¦‚ä½•ä¼˜åŒ– Java ML éƒ¨ç½²ï¼Ÿâ€ã€‚</p>
<p>éšç€ ML åœ¨ä¼ä¸šç³»ç»Ÿä¸­å˜å¾—æ— å¤„ä¸åœ¨ï¼ŒJava çš„ç”Ÿäº§ä¼˜åŠ¿â€”â€”ç¨³å®šæ€§ã€æ€§èƒ½ã€å·¥å…·æˆç†Ÿåº¦å’Œæ“ä½œç†Ÿæ‚‰åº¦â€”â€”ä½¿å…¶æˆä¸ºæ¨ç†å±‚çš„åŠ¡å®é€‰æ‹©ï¼Œå³ä½¿ Python åœ¨è®­ç»ƒå’Œå®éªŒä¸­ä»å ä¸»å¯¼åœ°ä½ã€‚å¤šè¯­è¨€æ–¹æ³•â€”â€”åœ¨ Python ä¸­è®­ç»ƒï¼Œåœ¨ Java ä¸­éƒ¨ç½²â€”â€”ä»£è¡¨çš„ä¸æ˜¯å¦¥åï¼Œè€Œæ˜¯å¯¹æ¯ä¸ªå¹³å°ç‹¬ç‰¹ä¼˜åŠ¿çš„ä¼˜åŒ–ã€‚</p>
<hr/>
<p>ã€æ³¨ã€‘æœ¬æ–‡è¯‘è‡ªï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.javacodegeeks.com%2F2026%2F01%2Fai-and-machine-learning-in-java-tensorflow-djl-and-enterprise-ai.html" target="_blank" title="https://www.javacodegeeks.com/2026/01/ai-and-machine-learning-in-java-tensorflow-djl-and-enterprise-ai.html" ref="nofollow noopener noreferrer">AI and Machine Learning in Java: TensorFlow, DJL, and Enterprise AI</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç”¨ç¬¬ä¸€æ€§åŸç†æ‹†è§£ Agentic Codingï¼šä»ç†è®ºåˆ°å®æ“ï¼ˆä¸Šï¼‰]]></title>    <link>https://juejin.cn/post/7593169840199237658</link>    <guid>https://juejin.cn/post/7593169840199237658</guid>    <pubDate>2026-01-09T08:29:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593169840199237658" data-draft-id="7592939457043415092" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç”¨ç¬¬ä¸€æ€§åŸç†æ‹†è§£ Agentic Codingï¼šä»ç†è®ºåˆ°å®æ“ï¼ˆä¸Šï¼‰"/> <meta itemprop="keywords" content="Trae"/> <meta itemprop="datePublished" content="2026-01-09T08:29:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="TRAE_ai"/> <meta itemprop="url" content="https://juejin.cn/user/3048259110571032"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç”¨ç¬¬ä¸€æ€§åŸç†æ‹†è§£ Agentic Codingï¼šä»ç†è®ºåˆ°å®æ“ï¼ˆä¸Šï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3048259110571032/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    TRAE_ai
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:29:18.000Z" title="Fri Jan 09 2026 08:29:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»23åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6323f2f57c5f48ae9749ac615fc802bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552157&amp;x-signature=9U56aq73toNUpDoCxQjrBpszU%2Fk%3D" alt="" loading="lazy"/></p>
<blockquote>
<p>æœ¬æ–‡ä½œè€…ï¼šå°å¤ï¼ŒTRAE æŠ€æœ¯ä¸“å®¶</p>
</blockquote>
<p>å½“æˆ‘ä»¬ä½¿ç”¨ AI ç¼–ç¨‹åŠ©æ‰‹æ—¶ï¼Œå¾ˆå®¹æ˜“æŠŠå®ƒå½“ä½œä¸€ä¸ªã€Œé»‘ç›’ã€ï¼šè¾“å…¥æˆ‘ä»¬çš„éœ€æ±‚ï¼Œå°±å¯ä»¥è·å¾—æƒ³è¦çš„ä»£ç ã€‚ä½†å¦‚æœæƒ³çœŸæ­£é«˜æ•ˆåœ°åˆ©ç”¨è¿™äº›å·¥å…·ï¼Œæˆ‘ä»¬éœ€è¦å›åˆ°ç¬¬ä¸€æ€§åŸç†ï¼šç†è§£ LLM ç©¶ç«Ÿæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå®ƒçš„èƒ½åŠ›è¾¹ç•Œåœ¨å“ªé‡Œï¼Œä»¥åŠ Agent æ¶æ„æ˜¯å¦‚ä½•åœ¨è¿™äº›çº¦æŸä¸‹è¢«è®¾è®¡å‡ºæ¥çš„ã€‚åœ¨æœ¬æ–‡ä¸Šç¯‡ï¼Œæˆ‘ä»¬å°†ä»å¤§æ¨¡å‹çš„å·¥ä½œåŸç†å’Œå±€é™æ€§å‡ºå‘ï¼Œä»‹ç»ç”±æ­¤å¼•å‘çš„ Coding Agent ä¸­çš„æ•ˆæœé—®é¢˜ï¼Œè¿›è€Œæ”¯æ’‘æˆ‘ä»¬ç†è§£å„ç§æœ€ä½³å®è·µèƒŒåçš„åŸå› ï¼Œå¹¶ä¸”ä½ ä¼šå‘ç°ï¼Œå¾ˆå¤š TRAE ä¸­çš„ Agent ä¼˜åŒ–å’ŒåŠŸèƒ½ç‰¹æ€§æœ¬è´¨ä¸Šéƒ½æ˜¯åœ¨è§£å†³è¿™äº›å¤§æ¨¡å‹å›ºæœ‰çš„å±€é™æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5155640ba47f49eab0c185569e405a86~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552157&amp;x-signature=WbVe260zNxSU5ltHUEQcJnkX5Vc%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0"><strong>ç¬¬ä¸€æ€§åŸç†ï½œç†è§£ LLM çš„æœ¬è´¨</strong></h2>
<h3 data-id="heading-1"><strong>LLM æ˜¯å¦‚ä½•ã€Œæ€è€ƒã€çš„</strong></h3>
<p>å¤§è¯­è¨€æ¨¡å‹çš„å·¥ä½œæ–¹å¼å¯ä»¥ç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼š<strong>é€ä¸ªé¢„æµ‹ä¸‹ä¸€ä¸ª tokenã€‚</strong></p>
<p>å½“ä½ å‘ LLM æé—®æ—¶ï¼Œå®ƒå¹¶ä¸æ˜¯å…ˆåœ¨ã€Œè„‘ä¸­ã€æ„æ€å¥½å®Œæ•´ç­”æ¡ˆå†è¾“å‡ºã€‚ç›¸åï¼Œå®ƒæ¯æ¬¡åªåšä¸€ä»¶äº‹ï¼šåŸºäºå½“å‰çœ‹åˆ°çš„æ‰€æœ‰æ–‡æœ¬ï¼ˆä½ çš„è¾“å…¥ + å®ƒå·²ç»ç”Ÿæˆçš„å†…å®¹ï¼‰ï¼Œé¢„æµ‹æœ€å¯èƒ½çš„ä¸‹ä¸€ä¸ªè¯æ˜¯ä»€ä¹ˆã€‚ç„¶åæŠŠè¿™ä¸ªè¯åŠ å…¥åºåˆ—ï¼Œå†é¢„æµ‹ä¸‹ä¸€ä¸ªï¼Œå¦‚æ­¤å¾ªç¯ç›´åˆ°ç”Ÿæˆç»“æŸï¼Œè¿™ç§æ–¹å¼è¢«ç§°ä¸ºÂ <strong>è‡ªå›å½’ç”Ÿæˆï¼ˆAutoregressive Generationï¼‰</strong> ã€‚</p>
<p>ç†è§£è¿™ä¸€ç‚¹è‡³å…³é‡è¦ï¼Œå› ä¸ºå®ƒæ­ç¤ºäº† LLM çš„å‡ ä¸ªæœ¬è´¨ç‰¹å¾ï¼š</p>
<p><strong>1. æ²¡æœ‰ç‹¬ç«‹äºè¾“å‡ºçš„ã€Œæ€è€ƒã€è¿‡ç¨‹</strong> <strong>ï¼š</strong> LLM çš„æ¨ç†å°±æ˜¯ç”Ÿæˆæœ¬èº«ã€‚å®ƒä¸èƒ½å…ˆæƒ³å¥½å†è¯´ï¼Œåªèƒ½è¾¹è¯´è¾¹æƒ³ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè®©æ¨¡å‹ã€Œä¸€æ­¥æ­¥æ€è€ƒã€ï¼ˆChain-of-Thoughtï¼‰ä¼šæå‡æ•ˆæœ â€” ä½ å®é™…ä¸Šæ˜¯åœ¨ç»™å®ƒæ›´å¤šçš„ã€Œæ€è€ƒç©ºé—´ã€ï¼Œè®©å®ƒé€šè¿‡ç”Ÿæˆä¸­é—´æ­¥éª¤æ¥è¾…åŠ©æ¨ç†ã€‚å°½ç®¡æ–°ä¸€ä»£æ¨¡å‹å¾ˆå¤šéƒ½å¸¦æœ‰æ˜¾å¼çš„ reasoning èƒ½åŠ›ï¼Œä¾ç„¶è„±ç¦»ä¸äº†è¿™ä¸ªèŒƒå¼ã€‚</p>
<p><strong>2. ä¸Šä¸‹æ–‡å°±æ˜¯å…¨éƒ¨è®°å¿†ï¼š</strong> LLM æ²¡æœ‰ç‹¬ç«‹çš„è®°å¿†å­˜å‚¨ã€‚å®ƒå¯¹å½“å‰å¯¹è¯çš„æ‰€æœ‰ã€Œç†è§£ã€ï¼Œå®Œå…¨æ¥è‡ªäºè¾“å…¥ç»™å®ƒçš„ä¸Šä¸‹æ–‡çª—å£ã€‚çª—å£ä¹‹å¤–çš„å†…å®¹ï¼Œå¯¹æ¨¡å‹æ¥è¯´å°±æ˜¯ä¸å­˜åœ¨çš„ã€‚</p>
<p><strong>3. ç”Ÿæˆå…·æœ‰æ¦‚ç‡æ€§ï¼š</strong> æ¯ä¸€æ­¥é¢„æµ‹éƒ½æ˜¯åŸºäºæ¦‚ç‡åˆ†å¸ƒé‡‡æ ·ï¼Œè¿™æ„å‘³ç€åŒæ ·çš„è¾“å…¥å¯èƒ½äº§ç”Ÿä¸åŒçš„è¾“å‡ºã€‚</p>
<p>è‡ªå›å½’ï¼ˆautoregressiveï¼‰LLM çš„æ ¸å¿ƒå·¥ä½œæ–¹å¼æ˜¯ï¼š<strong>ä¸€æ¬¡åªé¢„æµ‹ä¸‹ä¸€ä¸ª token</strong>ï¼Œç„¶åæŠŠè‡ªå·±åˆšç”Ÿæˆçš„å†…å®¹å†å–‚å›å»ç»§ç»­ç”Ÿæˆã€‚è¿™ä¸ªæœºåˆ¶å¾ˆå¼ºï¼ˆé€šç”¨ã€å¯æ‰©å±•ã€èƒ½ã€Œå†™å‡ºã€å¤æ‚ç»“æ„ï¼‰ï¼Œä½†ä¹Ÿå¤©ç„¶å¸¦æ¥ä¸€äº›å±€é™ï¼Œåœ¨ Coding Agent é‡Œè¿™äº›å±€é™ä¼šè¢«æ”¾å¤§ï¼Œå› ä¸ºè½¯ä»¶å¼€å‘æ˜¯ã€Œé•¿é“¾è·¯ã€å¼ºçº¦æŸã€å¼ºéªŒè¯ã€çš„ä»»åŠ¡ã€‚</p>
<p><strong>å½“å‰ Coding Agent æ™®éå­˜åœ¨çš„é—®é¢˜ï¼š</strong></p>
<p><strong>1.Â å±€éƒ¨æœ€ä¼˜ï¼šä¸€æ­¥ä¸€æ­¥ã€Œç»­å†™ã€ï¼Œä¸ç­‰äºå…¨å±€è§„åˆ’</strong></p>
<ul>
<li>
<p>å®¹æ˜“å…ˆå†™å¾—å¾ˆåƒã€å¾ˆé¡ºï¼Œç„¶ååœ¨åé¢å‘ç°ä¸å¯¹å†è¡¥ä¸å¼ä¿®ä¿®è¡¥è¡¥ï¼ˆå†å²å€ºåŠ¡å¿«é€Ÿç´¯ç§¯ï¼‰ã€‚</p>
</li>
<li>
<p>å¤šæ–‡ä»¶é‡æ„/æ¶æ„è°ƒæ•´è¿™ç§ã€Œå…ˆè§„åˆ’åè½åœ°ã€çš„ä»»åŠ¡ï¼Œä¼šå˜æˆè¾¹å†™è¾¹æƒ³ï¼Œå¯¼è‡´æ¥å£ä¸ä¸€è‡´ã€é‡å¤å®ç°ã€é—æ¼è¿ç§»æ­¥éª¤ã€‚</p>
</li>
<li>
<p>å¯¹ã€Œæœ€ç»ˆèƒ½ä¸èƒ½é€šè¿‡æµ‹è¯•/CIã€ç¼ºä¹æ„ŸçŸ¥ï¼Œé™¤éä½ æŠŠæµ‹è¯•ç»“æœæ˜¾å¼å–‚å› agent å¾ªç¯ã€‚</p>
</li>
</ul>
<p><strong>2.Â ä¸€æ—¦èµ°åï¼Œä¼šæ²¿ç€åå·®ç»§ç»­æ»šé›ªçƒ</strong></p>
<ul>
<li>
<p>æ—©æœŸè¯¯è¯»éœ€æ±‚/è¯¯åˆ¤ä»£ç åº“çš„çº¦æŸ ï¼Œå¯¼è‡´åé¢æ¯ä¸€æ­¥éƒ½åœ¨é”™è¯¯ä¸–ç•Œè§‚é‡Œè‡ªæ´½ã€‚</p>
</li>
<li>
<p>ç”Ÿæˆäº†ä¸€ä¸ªä¸å­˜åœ¨çš„å‡½æ•°å/ç±»å‹åï¼Œåç»­ä¼šè¶Šæ¥è¶Šã€Œç›¸ä¿¡å®ƒå­˜åœ¨ã€ï¼Œç›´åˆ°ç¼–è¯‘/è¿è¡Œæ—¶æ‰“è„¸ã€‚</p>
</li>
<li>
<p>åœ¨é•¿å¯¹è¯ã€é•¿ä»»åŠ¡é‡Œå°¤å…¶æ˜æ˜¾ï¼šè¶Šå†™è¶Šåƒã€Œå¦ä¸€ä¸ªé¡¹ç›®ã€ã€‚</p>
</li>
</ul>
<p><strong>3.Â è¾“å‡ºæ˜¯æµå¼çš„ï¼Œæ— æ³•å›å¤´ä¿®æ”¹ä¹‹å‰è¾“å‡ºçš„å†…å®¹</strong></p>
<ul>
<li>
<p>æ“…é•¿ã€Œå†™æ–°æ–‡ä»¶/æ–°æ®µè½ã€ï¼Œç›¸å¯¹ä¸æ“…é•¿åœ¨å¤æ‚ä»£ç ä¸­åšç²¾ç¡®ã€æœ€å°åŒ–ã€å±€éƒ¨ä¸€è‡´çš„ç¼–è¾‘ã€‚</p>
</li>
<li>
<p>å®¹æ˜“å€¾å‘äºã€Œé‡å†™ä¸€éã€è€Œä¸æ˜¯ã€Œè¿›è¡Œä¿®æ”¹ã€ï¼Œå¯¼è‡´ diff è¿‡å¤§ã€review æˆæœ¬é«˜ã€‚</p>
</li>
<li>
<p>åœ¨éœ€è¦ä¿æŒå¤§é‡ä¸å˜é‡ï¼ˆAPIã€æ ¼å¼ã€é£æ ¼ã€å…¼å®¹æ€§ï¼‰çš„ä»“åº“é‡Œå°¤å…¶ç—›è‹¦ã€‚</p>
</li>
</ul>
<p><strong>4.Â æ»¡è¶³çº¦æŸçš„èƒ½åŠ›æœ‰é™ï¼Œè€Œä»£ç æ˜¯å¼ºè¯­æ³•/å¼ºè¯­ä¹‰çº¦æŸçš„</strong></p>
<ul>
<li>
<p>ã€Œçœ‹èµ·æ¥åˆç†ã€çš„å®ç°ï¼Œç»å¸¸åœ¨è¾¹ç•Œæ¡ä»¶ã€å¹¶å‘ã€é”™è¯¯å¤„ç†ã€èµ„æºé‡Šæ”¾ä¸Šå‡ºé”™ã€‚</p>
</li>
<li>
<p>è·¨æ–‡ä»¶çš„ç¬¦å·è§£æã€æ³›å‹/æ¨¡æ¿æ¨å¯¼ã€å®/ä»£ç ç”Ÿæˆç­‰ï¼Œé çº¯æ–‡æœ¬æ¨æ–­å¾ˆå®¹æ˜“æ¼ã€‚</p>
</li>
<li>
<p>å¤æ‚çš„é‡æ„ï¼ˆrenameã€moveã€splitï¼‰æ²¡æœ‰ AST/è¯­ä¹‰å·¥å…·è¾…åŠ©æ—¶ï¼Œé”™ä¸€ä¸ªå¼•ç”¨å°±å…¨ç›˜å´©ã€‚</p>
</li>
</ul>
<p><strong>5.Â å¤©ç„¶å•çº¿ç¨‹æ€è€ƒï¼Œéš¾å¹¶è¡Œæ¢ç´¢</strong></p>
<ul>
<li>
<p>åœ¨æ–¹æ¡ˆé€‰æ‹©ï¼ˆæ¶æ„ã€ä¾èµ–ã€å®ç°è·¯å¾„ï¼‰ä¸Šå®¹æ˜“æ—©æ—©æŠ¼æ³¨ä¸€ä¸ªæ–¹å‘ï¼Œç¼ºå°‘ç³»ç»Ÿæ€§å¯¹æ¯”ã€‚</p>
</li>
<li>
<p>æ’æŸ¥ bug æ—¶æ›´åƒã€Œå•çº¿æ¨ç†ã€ï¼Œä¸å¦‚äººç±»/å·¥å…·é‚£æ ·å¹¶è¡Œå‡è®¾ã€å¹¶è¡ŒéªŒè¯</p>
</li>
</ul>
<h3 data-id="heading-2"><strong>Attentionï¼šLLM å¦‚ä½•ã€Œé˜…è¯»ã€ä¸Šä¸‹æ–‡</strong></h3>
<p>åœ¨é¢„æµ‹ä¸‹ä¸€ä¸ª token æ—¶ï¼Œæ¨¡å‹éœ€è¦ä»ä¸Šä¸‹æ–‡ä¸­æå–ç›¸å…³ä¿¡æ¯ï¼Œè¿™ä¸ªè¿‡ç¨‹ç”±Â <strong>Attentionï¼ˆæ³¨æ„åŠ›ï¼‰æœºåˆ¶</strong> å®Œæˆã€‚</p>
<p>ä½ å¯ä»¥æŠŠ Attention æƒ³è±¡æˆä¸€ä¸ªåŠ¨æ€çš„ã€Œèšå…‰ç¯ã€ï¼šå½“æ¨¡å‹ç”Ÿæˆæ¯ä¸ªæ–° token æ—¶ï¼Œå®ƒä¼šæ‰«è§†æ•´ä¸ªä¸Šä¸‹æ–‡ï¼Œå¯¹ä¸åŒä½ç½®çš„å†…å®¹åˆ†é…ä¸åŒçš„ã€Œæ³¨æ„åŠ›æƒé‡ã€ã€‚æƒé‡é«˜çš„éƒ¨åˆ†ä¼šå¯¹å½“å‰ç”Ÿæˆäº§ç”Ÿæ›´å¤§å½±å“ï¼Œæƒé‡ä½çš„éƒ¨åˆ†åˆ™å‡ ä¹è¢«å¿½ç•¥ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼Œå¯¹äºå½“å‰è¦ç”Ÿæˆçš„ tokenï¼Œæ¨¡å‹ä¼šï¼š</p>
<ul>
<li>
<p><strong>è®¡ç®—ç›¸å…³æ€§ï¼š</strong> å½“å‰ä½ç½®ä¸ä¸Šä¸‹æ–‡ä¸­æ¯ä¸ªä½ç½®çš„ç›¸å…³ç¨‹åº¦</p>
</li>
<li>
<p><strong>åˆ†é…æƒé‡ï¼š</strong> ç›¸å…³æ€§é«˜çš„ä½ç½®è·å¾—æ›´é«˜æƒé‡ï¼Œå½¢æˆä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒ</p>
</li>
<li>
<p><strong>åŠ æƒèšåˆï¼š</strong> æ ¹æ®æƒé‡æ±‡æ€»ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œç”¨äºé¢„æµ‹ä¸‹ä¸€ä¸ª token</p>
</li>
</ul>
<p>è¿™ä¸ªæœºåˆ¶æœ‰å‡ ä¸ªé‡è¦ç‰¹æ€§ï¼š</p>
<ul>
<li>
<p><strong>æ³¨æ„åŠ›æ˜¯ç¨€ç–çš„ï¼š</strong> æ¨¡å‹ä¸ä¼šå‡åŒ€åœ°å…³æ³¨æ‰€æœ‰å†…å®¹ã€‚åœ¨å®è·µä¸­ï¼ŒAttention æƒé‡å¾€å¾€é›†ä¸­åœ¨å°‘æ•°å…³é”®ä½ç½®ï¼Œå¤§éƒ¨åˆ†ä½ç½®çš„æƒé‡æ¥è¿‘äºé›¶ã€‚</p>
</li>
<li>
<p><strong>æ³¨æ„åŠ›éœ€è¦ã€Œå­¦ä¹ ã€çš„ï¼š</strong> æ¨¡å‹é€šè¿‡è®­ç»ƒå­¦ä¹ åœ¨ä»€ä¹ˆæƒ…å†µä¸‹å…³æ³¨ä»€ä¹ˆå†…å®¹ã€‚è¿™æ„å‘³ç€å®ƒå¯èƒ½ä¼šå½¢æˆæŸäº›åå¥½æ¨¡å¼ï¼Œæ¯”å¦‚æ›´å…³æ³¨å¼€å¤´å’Œç»“å°¾ã€‚</p>
</li>
<li>
<p><strong>è®¡ç®—å¤æ‚åº¦æ˜¯å¹³æ–¹çº§çš„ï¼š</strong> æ ‡å‡† Attention éœ€è¦è®¡ç®—æ¯ä¸ªä½ç½®ä¸æ‰€æœ‰å…¶ä»–ä½ç½®çš„å…³ç³»ï¼Œè®¡ç®—é‡éšä¸Šä¸‹æ–‡é•¿åº¦çš„å¹³æ–¹å¢é•¿ã€‚è¿™æ˜¯ä¸Šä¸‹æ–‡é•¿åº¦å­˜åœ¨ç‰©ç†ä¸Šé™çš„æ ¹æœ¬åŸå› ä¹‹ä¸€ã€‚</p>
</li>
</ul>
<p>ç†è§£äº† Attention æœºåˆ¶ï¼Œæˆ‘ä»¬å°±èƒ½æ›´å¥½åœ°ç†è§£ä¸Šä¸‹æ–‡é•¿åº¦ä¸ºä»€ä¹ˆä¼šå¸¦æ¥å¤šç§é™åˆ¶ã€‚</p>
<h3 data-id="heading-3"><strong>ä¸Šä¸‹æ–‡é•¿åº¦ï¼šæœ€å…³é”®çš„çº¦æŸ</strong></h3>
<p>ä¸Šä¸‹æ–‡çª—å£çš„é™åˆ¶æ˜¯å½±å“ Coding Agent è®¾è®¡æœ€æ ¸å¿ƒçš„çº¦æŸæ¡ä»¶ã€‚ç»“åˆå¯¹ Attention æœºåˆ¶çš„ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ¸…æ¥šåœ°çœ‹åˆ°è¿™ä¸ªé™åˆ¶çš„å¤šä¸ªå±‚æ¬¡ã€‚</p>
<h4 data-id="heading-4"><strong>ç‰©ç†ä¸Šé™</strong></h4>
<p>æ¯ä¸ªæ¨¡å‹éƒ½æœ‰æœ€å¤§ token é™åˆ¶ï¼Œç›®å‰ä¸»æµæ¨¡å‹é€šå¸¸åœ¨ 128K åˆ° 200K ä¹‹é—´ã€‚è¿™ä¸ªç¡¬æ€§è¾¹ç•Œçš„å­˜åœ¨æœ‰ä¸¤ä¸ªæ ¹æœ¬åŸå› ï¼š</p>
<p><strong>1.</strong> Attention çš„è®¡ç®—å¤æ‚åº¦é€šå¸¸æ˜¯ Oï¼ˆnÂ²ï¼‰ï¼Œä¸Šä¸‹æ–‡é•¿åº¦ç¿»å€ï¼Œè®¡ç®—é‡å˜æˆå››å€</p>
<p><strong>2.</strong> éœ€è¦å­˜å‚¨å®Œæ•´çš„æ³¨æ„åŠ›çŸ©é˜µï¼Œå†…å­˜æ¶ˆè€—åŒæ ·æ˜¯å¹³æ–¹çº§å¢é•¿</p>
<p><strong>è¶…è¿‡è¿™ä¸ªé•¿åº¦çš„å†…å®¹æ ¹æœ¬æ— æ³•è¢«å¤„ç†ã€‚</strong></p>
<h4 data-id="heading-5"><strong>æœ‰æ•ˆä¸Šä¸‹æ–‡è¿œå°äºæ ‡ç§°ä¸Šä¸‹æ–‡</strong></h4>
<p><strong>è™½ç„¶æ¨¡å‹å®£ç§°æ”¯æŒ 200K tokensï¼Œä½†è¿™ä¸æ„å‘³ç€åœ¨ 200K é•¿åº¦ä¸‹éƒ½èƒ½ä¿æŒè‰¯å¥½è¡¨ç°ã€‚</strong></p>
<p>é—®é¢˜å‡ºåœ¨ Attention çš„ã€Œç¨€ç–æ€§ã€ä¸Šï¼šå½“ä¸Šä¸‹æ–‡å¾ˆé•¿æ—¶ï¼Œæ³¨æ„åŠ›æƒé‡éœ€è¦åˆ†æ•£åˆ°æ›´å¤šä½ç½®ã€‚å¦‚æœå…³é”®ä¿¡æ¯åªæ˜¯æµ·é‡å†…å®¹ä¸­çš„ä¸€å°éƒ¨åˆ†ï¼Œå®ƒè·å¾—çš„æ³¨æ„åŠ›æƒé‡å¯èƒ½ä¼šè¢«ç¨€é‡Šåˆ°éš¾ä»¥æœ‰æ•ˆåˆ©ç”¨çš„ç¨‹åº¦ã€‚å®é™…ä¸Šï¼Œä¸€ä¸ªæ”¯æŒ 200K çš„æ¨¡å‹ï¼Œå¯èƒ½åœ¨è¶…è¿‡ 80K æˆ– 100K ä¹‹åï¼Œå°±å¼€å§‹å‡ºç°æ˜æ˜¾çš„æ€§èƒ½é€€åŒ–ã€‚</p>
<h4 data-id="heading-6"><strong>æ€§èƒ½é€€åŒ–æ›²çº¿</strong></h4>
<p>éšç€ä¸Šä¸‹æ–‡å˜é•¿ï¼Œä¸ä»…æ˜¯ã€Œè®°å¿†ã€å˜å·®ï¼Œæ¨¡å‹çš„æ•´ä½“èƒ½åŠ›ï¼ŒåŒ…æ‹¬æ¨ç†å‡†ç¡®æ€§ã€æŒ‡ä»¤éµå¾ªèƒ½åŠ›ã€ä»£ç ç”Ÿæˆè´¨é‡éƒ½ä¼šä¸‹é™ã€‚</p>
<p>è¿™æ˜¯è‡ªå›å½’ + Attention ç»„åˆå¸¦æ¥çš„ç´¯ç§¯æ•ˆåº”ï¼š</p>
<ul>
<li>
<p>æ¯ä¸€æ­¥ç”Ÿæˆéƒ½ä¾èµ–äºå¯¹ä¸Šä¸‹æ–‡çš„æ­£ç¡®ç†è§£</p>
</li>
<li>
<p>æ›´é•¿çš„ä¸Šä¸‹æ–‡æ„å‘³ç€æ›´ç¨€ç–çš„æ³¨æ„åŠ›åˆ†å¸ƒ</p>
</li>
<li>
<p>é”™è¯¯ç†è§£ä¼šä¼ é€’åˆ°åç»­ç”Ÿæˆï¼Œå½¢æˆç´¯ç§¯è¯¯å·®</p>
</li>
</ul>
<p>ç†è§£è¿™äº›é™åˆ¶ï¼Œä½ å°±èƒ½æ˜ç™½ä¸ºä»€ä¹ˆ Coding Agent éœ€è¦ç²¾å¿ƒè®¾è®¡ä¸Šä¸‹æ–‡ç®¡ç†ç­–ç•¥ï¼Œè€Œä¸æ˜¯ç®€å•åœ°æŠŠæ‰€æœ‰ä¿¡æ¯å¡è¿›çª—å£ã€‚</p>
<h3 data-id="heading-7"><strong>å¼ºåŒ–å­¦ä¹ ï¼šè®©æ¨¡å‹å­¦ä¼šã€Œåšäº‹ã€</strong></h3>
<p>å‰é¢æˆ‘ä»¬è®¨è®ºçš„æ˜¯ LLM çš„åŸºç¡€èƒ½åŠ›ï¼Œé¢„æµ‹ä¸‹ä¸€ä¸ª tokenã€‚ä½†è¦è®©æ¨¡å‹ä»**ã€Œèƒ½è¯´ä¼šé“ã€<strong>è¿›åŒ–åˆ°</strong>ã€Œèƒ½åšäº‹æƒ…ã€**ï¼Œè¿˜éœ€è¦å¦ä¸€ä¸ªå…³é”®æŠ€æœ¯ï¼š<strong>å¼ºåŒ–å­¦ä¹ ï¼ˆReinforcement Learningï¼Œ RLï¼‰ã€‚</strong></p>
<h4 data-id="heading-8"><strong>é¢„è®­ç»ƒçš„å±€é™</strong></h4>
<p>LLM çš„é¢„è®­ç»ƒæœ¬è´¨ä¸Šæ˜¯ã€Œæ¨¡ä»¿ã€ï¼šé€šè¿‡é˜…è¯»æµ·é‡æ–‡æœ¬ï¼Œå­¦ä¼šé¢„æµ‹ã€Œäººç±»ä¼šæ€ä¹ˆå†™ä¸‹ä¸€ä¸ªè¯ã€ã€‚è¿™è®©æ¨¡å‹è·å¾—äº†å¹¿æ³›çš„çŸ¥è¯†å’Œæµç•…çš„è¡¨è¾¾èƒ½åŠ›ï¼Œä½†ä¹Ÿæœ‰æ˜æ˜¾çš„å±€é™ï¼š</p>
<ul>
<li>æ¨¡å‹å­¦ä¼šçš„æ˜¯ã€Œæ–‡æœ¬çœ‹èµ·æ¥åº”è¯¥æ˜¯ä»€ä¹ˆæ ·ã€ï¼Œè€Œä¸æ˜¯ã€Œä»€ä¹ˆè¡ŒåŠ¨èƒ½è§£å†³é—®é¢˜ã€</li>
<li>é¢„è®­ç»ƒæ•°æ®ä¸­å¾ˆå°‘æœ‰ã€Œè°ƒç”¨å·¥å…· â†’ è§‚å¯Ÿç»“æœ â†’ è°ƒæ•´ç­–ç•¥ã€è¿™æ ·çš„äº¤äº’åºåˆ—</li>
<li>æ¨¡å‹å¯èƒ½ä¼šç”Ÿæˆçœ‹èµ·æ¥åˆç†ä½†å®é™…æ— æ•ˆçš„æ“ä½œæ­¥éª¤</li>
</ul>
<p><strong>ç®€å•æ¥è¯´ï¼Œé¢„è®­ç»ƒæ•™ä¼šäº†æ¨¡å‹ã€Œè¯´ã€ï¼Œä½†æ²¡æœ‰æ•™ä¼šå®ƒã€Œåšã€ã€‚</strong></p>
<h4 data-id="heading-9"><strong>å¼ºåŒ–å­¦ä¹ çš„æ ¸å¿ƒæ€æƒ³</strong></h4>
<p>å¼ºåŒ–å­¦ä¹ ç”¨ä¸€ä¸ªç®€å•çš„å¾ªç¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š<strong>å°è¯• â†’ åé¦ˆ â†’ è°ƒæ•´ã€‚</strong></p>
<p>æƒ³è±¡æ•™ä¸€ä¸ªå°æœ‹å‹ä¸‹æ£‹ï¼šä½ ä¸ä¼šç»™ä»–çœ‹ä¸€ç™¾ä¸‡ç›˜æ£‹è°±è®©ä»–èƒŒï¼ˆè¿™æ˜¯é¢„è®­ç»ƒçš„æ–¹å¼ï¼‰ï¼Œè€Œæ˜¯è®©ä»–å®é™…ä¸‹æ£‹ï¼Œèµ¢äº†å°±è¡¨æ‰¬ï¼Œè¾“äº†å°±å¤ç›˜ã€‚é€šè¿‡æ— æ•°æ¬¡çš„å°è¯•å’Œåé¦ˆï¼Œä»–é€æ¸å­¦ä¼šä»€ä¹ˆæ˜¯å¥½æ£‹ã€ä»€ä¹ˆæ˜¯åæ£‹ã€‚</p>
<p>å¯¹ LLM æ¥è¯´ï¼Œå¼ºåŒ–å­¦ä¹ çš„è¿‡ç¨‹ç±»ä¼¼ï¼š</p>
<ul>
<li>
<p><strong>å°è¯•ï¼š</strong> è®©æ¨¡å‹åœ¨çœŸå®æˆ–æ¨¡æ‹Ÿçš„ç¯å¢ƒä¸­æ‰§è¡Œä»»åŠ¡ï¼ˆæ¯”å¦‚è°ƒç”¨å·¥å…·ã€ç¼–è¾‘æ–‡ä»¶ï¼‰</p>
</li>
<li>
<p><strong>åé¦ˆï¼š</strong> æ ¹æ®ç»“æœç»™å‡ºå¥–åŠ±ä¿¡å·ï¼ˆä»»åŠ¡å®Œæˆäº†ï¼Ÿä»£ç èƒ½è¿è¡Œï¼Ÿæµ‹è¯•é€šè¿‡äº†ï¼Ÿ)</p>
</li>
<li>
<p><strong>è°ƒæ•´ï¼š</strong> æ›´æ–°æ¨¡å‹å‚æ•°ï¼Œè®©å®ƒæ›´å€¾å‘äºé€‰æ‹©èƒ½è·å¾—é«˜å¥–åŠ±çš„è¡ŒåŠ¨</p>
</li>
</ul>
<p>è¿™ä¸ªè¿‡ç¨‹ä¼šé‡å¤æˆåƒä¸Šä¸‡æ¬¡ï¼Œæ¨¡å‹é€æ¸å­¦ä¼šï¼šåœ¨ä»€ä¹ˆæƒ…å†µä¸‹åº”è¯¥è°ƒç”¨ä»€ä¹ˆå·¥å…·ã€å¦‚ä½•è§£è¯»å·¥å…·è¿”å›çš„ç»“æœã€ä»€ä¹ˆæ—¶å€™åº”è¯¥ç»§ç»­å°è¯•ã€ä»€ä¹ˆæ—¶å€™åº”è¯¥æ¢ä¸ªæ–¹å‘ã€‚</p>
<h4 data-id="heading-10"><strong>ä¸ºä»€ä¹ˆ RL å¯¹ Agentic èƒ½åŠ›è‡³å…³é‡è¦</strong></h4>
<p>ä¼ ç»Ÿçš„ LLM å¾®è°ƒï¼ˆæ¯”å¦‚ç›‘ç£å­¦ä¹ ï¼‰éœ€è¦äººç±»æ ‡æ³¨ã€Œæ­£ç¡®ç­”æ¡ˆã€ã€‚ä½† Agent ä»»åŠ¡çš„ç‰¹ç‚¹æ˜¯ï¼š</p>
<ul>
<li>
<p><strong>è·¯å¾„å¤šæ ·ï¼š</strong> å®ŒæˆåŒä¸€ä¸ªç¼–ç¨‹ä»»åŠ¡å¯èƒ½æœ‰æ— æ•°ç§åˆç†çš„æ­¥éª¤ç»„åˆ</p>
</li>
<li>
<p><strong>ç»“æœå¯¼å‘ï¼š</strong> æˆ‘ä»¬çœŸæ­£å…³å¿ƒçš„æ˜¯æœ€ç»ˆç»“æœï¼Œè€Œä¸æ˜¯ä¸­é—´æ¯ä¸€æ­¥æ˜¯å¦ã€Œæ ‡å‡†ã€</p>
</li>
<li>
<p><strong>éœ€è¦æ¢ç´¢ï¼š</strong> æœ‰æ—¶å€™å¿…é¡»å°è¯•å‡ ç§æ–¹æ³•æ‰èƒ½æ‰¾åˆ°å¯è¡Œçš„è·¯å¾„</p>
</li>
</ul>
<p>RL å¤©ç„¶é€‚åˆè¿™ç§åœºæ™¯ã€‚å®ƒä¸è¦æ±‚ä½ å®šä¹‰ã€Œæ­£ç¡®çš„æ­¥éª¤åºåˆ—ã€ï¼Œåªéœ€è¦å®šä¹‰ã€Œä»€ä¹ˆç®—æˆåŠŸã€ã€‚æ¨¡å‹é€šè¿‡è‡ªå·±çš„æ¢ç´¢ï¼Œå­¦ä¼šæ‰¾åˆ°é€šå¾€æˆåŠŸçš„è·¯å¾„ã€‚</p>
<h4 data-id="heading-11"><strong>å®é™…è®­ç»ƒä¸­çš„åº”ç”¨</strong></h4>
<p>ç°ä»£ Coding Agent èƒŒåçš„æ¨¡å‹é€šå¸¸ä¼šç»å†è¿™æ ·çš„ RL è®­ç»ƒï¼š</p>
<ul>
<li>
<p>åœ¨æ¨¡æ‹Ÿçš„ç¼–ç¨‹ç¯å¢ƒä¸­æ‰§è¡Œä»»åŠ¡ï¼ˆåˆ›å»ºæ–‡ä»¶ã€è¿è¡Œä»£ç ã€ä¿®å¤ bugï¼‰</p>
</li>
<li>
<p>ç”¨æµ‹è¯•é€šè¿‡ç‡ã€ä»£ç è´¨é‡è¯„åˆ†ç­‰ä½œä¸ºå¥–åŠ±ä¿¡å·</p>
</li>
<li>
<p>å­¦ä¹ ä½•æ—¶åº”è¯¥è¯»å–æ›´å¤šæ–‡ä»¶æ¥è·å–ä¸Šä¸‹æ–‡ï¼Œä½•æ—¶åº”è¯¥ç›´æ¥åŠ¨æ‰‹ä¿®æ”¹</p>
</li>
<li>
<p>å­¦ä¹ å¦‚ä½•ä»é”™è¯¯ä¿¡æ¯ä¸­æå–æœ‰ç”¨çº¿ç´¢ï¼Œè°ƒæ•´ä¸‹ä¸€æ­¥ç­–ç•¥</p>
</li>
</ul>
<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒRL è®­ç»ƒçš„æ•ˆæœé«˜åº¦ä¾èµ–å¥–åŠ±ä¿¡å·çš„è®¾è®¡ã€‚å¦‚æœåªå¥–åŠ±ã€Œä»»åŠ¡å®Œæˆã€ï¼Œæ¨¡å‹å¯èƒ½å­¦ä¼šèµ°æ·å¾„ï¼ˆReward Hackingï¼‰ï¼›å¦‚æœå¥–åŠ±ä¿¡å·å¤ªå¤æ‚ï¼Œè®­ç»ƒå¯èƒ½ä¸ç¨³å®šã€‚<strong>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä¸åŒæ¨¡å‹åœ¨ Agent ä»»åŠ¡ä¸Šçš„è¡¨ç°å·®å¼‚å¾ˆå¤§ï¼ŒèƒŒåçš„ RL è®­ç»ƒç­–ç•¥å¯èƒ½å®Œå…¨ä¸åŒã€‚</strong></p>
<h4 data-id="heading-12"><strong>å¯¹ä½¿ç”¨è€…çš„å¯ç¤º</strong></h4>
<p>ç†è§£äº† RL çš„ä½œç”¨ï¼Œä½ ä¼šæ›´æ¸…æ¥šä¸ºä»€ä¹ˆæŸäº›ä½¿ç”¨æ–¹å¼æ›´æœ‰æ•ˆï¼š</p>
<ul>
<li>
<p><strong>æä¾›æ¸…æ™°çš„æˆåŠŸæ ‡å‡†ï¼š</strong> å½“ä½ å‘Šè¯‰ Agent ã€Œä¿®å¥½è¿™ä¸ª bugï¼Œè¿è¡Œ npm test åº”è¯¥å…¨éƒ¨é€šè¿‡ã€ï¼Œä½ å®é™…ä¸Šæ˜¯åœ¨ç»™å®ƒä¸€ä¸ªæ˜ç¡®çš„ã€Œå¥–åŠ±ä¿¡å·ã€ï¼Œè¿™ä¸å®ƒè®­ç»ƒæ—¶çš„æ¨¡å¼ä¸€è‡´</p>
</li>
<li>
<p><strong>å…è®¸è¯•é”™ï¼š</strong> Agent åœ¨è®­ç»ƒä¸­å­¦ä¼šäº†é€šè¿‡å°è¯•æ¥è§£å†³é—®é¢˜ï¼Œç»™å®ƒå¤šæ¬¡å°è¯•çš„æœºä¼šå¾€å¾€æ¯”æœŸå¾…ä¸€æ¬¡æˆåŠŸæ›´å®é™…</p>
</li>
<li>
<p><strong>è§‚å¯Ÿå®ƒçš„å†³ç­–æ¨¡å¼ï¼š</strong> å½“ Agent åšå‡ºæŸä¸ªå†³å®šï¼ˆæ¯”å¦‚å…ˆè¯»æ–‡ä»¶è€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹ï¼‰ï¼Œè¿™å¾€å¾€åæ˜ äº†å®ƒåœ¨ RL è®­ç»ƒä¸­å­¦åˆ°çš„ç­–ç•¥</p>
</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f75cc9980de34df188e688599b2f2d6e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552157&amp;x-signature=vJz2O8POS1r%2BR5XUDQOd64ejDJg%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-13"><strong>Coding Agent çš„å®ç°åŸç†</strong></h2>
<p>ç†è§£äº† LLM çš„æœ¬è´¨å’Œé™åˆ¶åï¼Œæˆ‘ä»¬æ¥çœ‹ Coding Agent æ˜¯å¦‚ä½•åœ¨è¿™äº›çº¦æŸä¸‹è¢«è®¾è®¡å‡ºæ¥çš„ã€‚</p>
<h3 data-id="heading-14"><strong>LLM API çš„æ ¸å¿ƒç»“æ„</strong></h3>
<p>ç°ä»£ LLM API é‡‡ç”¨åŸºäºæ¶ˆæ¯çš„å¯¹è¯ç»“æ„ã€‚ç†è§£è¿™ä¸ªç»“æ„æ˜¯æ„å»º Agent çš„åŸºç¡€ã€‚</p>
<p><strong>Messages æ•°ç»„</strong></p>
<p>API çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªæ¶ˆæ¯æ•°ç»„ï¼Œæ¯æ¡æ¶ˆæ¯åŒ…å«è§’è‰²ï¼ˆroleï¼‰å’Œå†…å®¹ï¼ˆcontentï¼‰ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"messages"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"system"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¼–ç¨‹åŠ©æ‰‹..."</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"user"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¸®æˆ‘å†™ä¸€ä¸ªå¿«é€Ÿæ’åºå‡½æ•°"</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"å¥½çš„ï¼Œè¿™æ˜¯ä¸€ä¸ª Python å®ç°çš„å¿«é€Ÿæ’åº..."</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>ä¸‰ç§è§’è‰²å„æœ‰ç”¨é€”ï¼š</p>
<ul>
<li><strong>systemï¼š</strong> è®¾å®š Agent çš„è¡Œä¸ºå‡†åˆ™ã€èƒ½åŠ›èŒƒå›´å’Œå·¥å…·å®šä¹‰</li>
<li><strong>userï¼š</strong> ç”¨æˆ·çš„è¾“å…¥</li>
<li><strong>assistantï¼š</strong> æ¨¡å‹çš„å›å¤</li>
</ul>
<p><strong>Tool Calling æœºåˆ¶</strong></p>
<p>Coding Agent çš„æ ¸å¿ƒèƒ½åŠ›æ¥è‡ªå·¥å…·è°ƒç”¨ã€‚API å…è®¸ä½ å®šä¹‰å·¥å…·çš„ schemaï¼Œæ¨¡å‹ä¼šåœ¨éœ€è¦æ—¶ç”Ÿæˆç»“æ„åŒ–çš„å·¥å…·è°ƒç”¨è¯·æ±‚ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"tools"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"read_file"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è¯»å–æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶å†…å®¹"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"parameters"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
        <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"object"</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"properties"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
          <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
            <span class="hljs-attr">"type"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"string"</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"æ–‡ä»¶è·¯å¾„"</span>
          <span class="hljs-punctuation">}</span>
        <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
        <span class="hljs-attr">"required"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"path"</span><span class="hljs-punctuation">]</span>
      <span class="hljs-punctuation">}</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å½“æ¨¡å‹å†³å®šè°ƒç”¨å·¥å…·æ—¶ï¼Œå®ƒçš„å“åº”ä¼šåŒ…å«å·¥å…·è°ƒç”¨ä¿¡æ¯ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">null</span></span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"tool_calls"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"call_abc123"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"read_file"</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">"arguments"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"{"</span>path<span class="hljs-string">": "</span>src/main.py<span class="hljs-string">"}"</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>å·¥å…·æ‰§è¡Œç»“æœä½œä¸ºæ–°æ¶ˆæ¯è¿”å›ç»™æ¨¡å‹ï¼š</p>
<pre><code class="hljs language-swift" lang="swift">{
<span class="hljs-string">"role"</span>: <span class="hljs-string">"tool"</span>,
<span class="hljs-string">"tool_call_id"</span>: <span class="hljs-string">"call_abc123"</span>,
<span class="hljs-string">"content"</span>: <span class="hljs-string">"def main():<span class="hljs-subst">\n</span>    print('Hello, World!')<span class="hljs-subst">\n</span>..."</span>
}
</code></pre>
<p><strong>Reasoning Content çš„ä¿ç•™</strong></p>
<p>å¯¹äºå…·æœ‰æ˜¾å¼æ¨ç†èƒ½åŠ›çš„æ¨¡å‹ï¼ŒAPI å“åº”ä¸­å¯èƒ½åŒ…å« reasoning æˆ– thinking å­—æ®µï¼Œè®°å½•æ¨¡å‹çš„æ€è€ƒè¿‡ç¨‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"role"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"assistant"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"reasoning_content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"ç”¨æˆ·éœ€è¦è¯»å–æ–‡ä»¶æ¥ç†è§£é¡¹ç›®ç»“æ„ã€‚æˆ‘åº”è¯¥å…ˆæŸ¥çœ‹ src ç›®å½•ä¸‹çš„ä¸»è¦æ–‡ä»¶..."</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"è®©æˆ‘å…ˆçœ‹ä¸€ä¸‹é¡¹ç›®çš„ä¸»æ–‡ä»¶ã€‚"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"tool_calls"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>...<span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>åœ¨å¤šè½®å¯¹è¯ä¸­ä¿ç•™è¿™äº›æ¨ç†å†…å®¹ï¼Œå¯ä»¥å¸®åŠ©æ¨¡å‹ç»´æŒæ€ç»´çš„è¿è´¯æ€§ã€‚æ¨¡å‹å¯ä»¥ã€Œå›é¡¾ã€è‡ªå·±ä¹‹å‰çš„æ€è€ƒè¿‡ç¨‹ï¼Œä»è€Œåšå‡ºæ›´ä¸€è‡´çš„å†³ç­–ã€‚</p>
<h3 data-id="heading-15"><strong>Prompt Cachingï¼šå·¥ç¨‹å®è·µçš„å…³é”®</strong></h3>
<p>ç”±äº LLM çš„è‡ªå›å½’ç‰¹æ€§ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½éœ€è¦é‡æ–°å¤„ç†æ•´ä¸ªä¸Šä¸‹æ–‡ã€‚å¯¹äºåŠ¨è¾„å‡ ä¸‡ token çš„ Coding Agent å¯¹è¯æ¥è¯´ï¼Œè¿™æ„å‘³ç€å¤§é‡çš„é‡å¤è®¡ç®—å’Œå»¶è¿Ÿã€‚</p>
<p>Prompt Caching é€šè¿‡ç¼“å­˜ä¸Šä¸‹æ–‡å‰ç¼€çš„è®¡ç®—ç»“æœæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å…³é”®åœ¨äºï¼š<strong>ç¼“å­˜åŸºäºå‰ç¼€åŒ¹é…</strong>ã€‚åªæœ‰å½“æ–°è¯·æ±‚çš„å¼€å¤´éƒ¨åˆ†ä¸ä¹‹å‰çš„è¯·æ±‚å®Œå…¨ä¸€è‡´æ—¶ï¼Œæ‰èƒ½å‘½ä¸­ç¼“å­˜ã€‚</p>
<p>è¿™ç›´æ¥å½±å“äº† prompt çš„ç»„ç»‡æ–¹å¼ï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  System Prompt              â”‚  â† ç¨³å®šä¸å˜ï¼Œå¯ç¼“å­˜
â”‚  (è§’è‰²å®šä¹‰ã€è¡Œä¸ºå‡†åˆ™)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Tool Definitions           â”‚  â† ç¨³å®šä¸å˜ï¼Œå¯ç¼“å­˜
â”‚  (å·¥å…·çš„ schema å®šä¹‰)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Project Context            â”‚  â† ç›¸å¯¹ç¨³å®šï¼Œå°½é‡å°‘å˜
â”‚  (é¡¹ç›®è¯´æ˜ã€ä»£ç è§„èŒƒ)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Conversation History       â”‚  â† åŠ¨æ€å¢é•¿
â”‚  (å¯¹è¯å†å²)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Current User Message       â”‚  â† æ¯æ¬¡éƒ½å˜
â”‚  (å½“å‰ç”¨æˆ·è¾“å…¥)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>æœ€ä½³å®è·µå‚è€ƒï¼š</strong></p>
<ol>
<li>
<p><strong>æŠŠç¨³å®šå†…å®¹æ”¾åœ¨å‰é¢ï¼š</strong> system prompt å’Œå·¥å…·å®šä¹‰åº”è¯¥ä¿æŒç¨³å®šï¼Œé¿å…é¢‘ç¹ä¿®æ”¹</p>
</li>
<li>
<p><strong>åŠ¨æ€å†…å®¹æ”¾åœ¨åé¢ï¼š</strong> å¯¹è¯å†å²å’Œå½“å‰è¾“å…¥æ”¾åœ¨æœ€å</p>
</li>
<li>
<p><strong>é¿å…åœ¨ç¨³å®šå‰ç¼€ä¸­æ’å…¥å¯å˜å†…å®¹ï¼š</strong> æ¯”å¦‚ä¸è¦åœ¨ system prompt ä¸­æ’å…¥å½“å‰æ—¶é—´æˆ³</p>
</li>
</ol>
<h3 data-id="heading-16"><strong>Agent Loopï¼šæ ¸å¿ƒå¾ªç¯</strong></h3>
<p>è¯­è¨€æ¨¡å‹å¯ä»¥å›ç­”é—®é¢˜ï¼Œè€Œ Agent å¯ä»¥<strong>åšäº‹æƒ…</strong>ã€‚Agent Loop æ­£æ˜¯å®ç°è¿™ä¸€å·®å¼‚çš„å…³é”®ã€‚</p>
<p>å½“æ¨¡å‹æ”¶åˆ°ä¸€ä¸ªæ— æ³•ä»…å‡­è®­ç»ƒçŸ¥è¯†å®Œæˆçš„è¯·æ±‚æ—¶ï¼Œå®ƒéœ€è¦ä¸å¤–éƒ¨ä¸–ç•Œäº¤äº’ï¼šè¯»å–æ–‡ä»¶ã€æŸ¥è¯¢æ•°æ®åº“ã€æ‰§è¡Œä»£ç ã€‚Agent Loop å°±æ˜¯ç®¡ç†è¿™ä¸ªã€Œæ¨ç†-è¡ŒåŠ¨ã€å¾ªç¯çš„ç¼–æ’å±‚ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿå¤„ç†éœ€è¦å¤šä¸ªæ­¥éª¤ã€å¤–éƒ¨ä¿¡æ¯æˆ–äº§ç”Ÿå®é™…å½±å“çš„ä»»åŠ¡ã€‚</p>
<h4 data-id="heading-17"><strong>å¾ªç¯çš„åŸºæœ¬åŸç†</strong></h4>
<p>Agent Loop çš„è¿ä½œéµå¾ªä¸€ä¸ªç®€å•çš„åŸåˆ™ï¼šè°ƒç”¨æ¨¡å‹ â†’ æ£€æŸ¥æ˜¯å¦éœ€è¦ä½¿ç”¨å·¥å…· â†’ å¦‚æœéœ€è¦åˆ™æ‰§è¡Œå·¥å…· â†’ å°†ç»“æœè¿”å›ç»™æ¨¡å‹å†æ¬¡è°ƒç”¨ â†’ é‡å¤ç›´åˆ°æ¨¡å‹äº§ç”Ÿæœ€ç»ˆå“åº”ã€‚</p>
<p>è¿™ä¸ªå¾ªç¯çš„å…³é”®åœ¨äº<strong>ä¸Šä¸‹æ–‡çš„ç´¯ç§¯</strong>ã€‚æ¯æ¬¡è¿­ä»£éƒ½ä¼šå‘å¯¹è¯å†å²ä¸­æ·»åŠ æ–°å†…å®¹ã€‚æ¨¡å‹ä¸ä»…èƒ½çœ‹åˆ°åŸå§‹è¯·æ±‚ï¼Œè¿˜èƒ½çœ‹åˆ°å®ƒè°ƒç”¨è¿‡çš„æ¯ä¸ªå·¥å…·ä»¥åŠæ”¶åˆ°çš„æ¯ä¸ªç»“æœã€‚è¿™ç§ç´¯ç§¯çš„ä¸Šä¸‹æ–‡ä½¿å¾—å¤æ‚çš„å¤šæ­¥éª¤æ¨ç†æˆä¸ºå¯èƒ½ã€‚</p>
<h4 data-id="heading-18"><strong>ä¸€ä¸ªå…·ä½“çš„ä¾‹å­</strong></h4>
<p>å‡è®¾ç”¨æˆ·è¯·æ±‚ï¼šã€Œå¸®æˆ‘ä¿®å¤é¡¹ç›®ä¸­çš„è¿™ä¸ª bugï¼šç”¨æˆ·ç™»å½•åä¼šè¯æ²¡æœ‰æ­£ç¡®ä¿å­˜ã€ã€‚</p>
<p>è¿™ä¸æ˜¯æ¨¡å‹ä»…å‡­çŸ¥è¯†å°±èƒ½å®Œæˆçš„ä»»åŠ¡ï¼Œå®ƒéœ€è¦é€šè¿‡ Agent Loop é€æ­¥æ¢ç´¢ï¼š</p>
<ul>
<li>
<p><strong>ç¬¬ä¸€è½®ï¼š</strong> æ¨¡å‹æ”¶åˆ°è¯·æ±‚ï¼Œé¦–å…ˆéœ€è¦äº†è§£é¡¹ç›®ç»“æ„ã€‚å®ƒè°ƒç”¨ <em><strong>list_directory</strong></em> å·¥å…·æŸ¥çœ‹é¡¹ç›®æ ¹ç›®å½•ã€‚</p>
</li>
<li>
<p><strong>ç¬¬äºŒè½®ï¼š</strong> æ¨¡å‹çœ‹åˆ°äº†ç›®å½•ç»“æ„ï¼Œè¯†åˆ«å‡º **<em>src/auth/</em> **ç›®å½•å¯èƒ½ä¸ç™»å½•ç›¸å…³ã€‚å®ƒè°ƒç”¨Â <em><strong>read_file</strong></em> æŸ¥çœ‹Â <em><strong>src/auth/login.js</strong></em>ã€‚</p>
</li>
<li>
<p><strong>ç¬¬ä¸‰è½®ï¼š</strong> æ¨¡å‹çœ‹åˆ°äº†ç™»å½•ä»£ç ï¼Œå‘ç°å®ƒè°ƒç”¨äº†Â **<em>sessionManager.save()</em> **ã€‚ä¸ºäº†è¿½è¸ªé—®é¢˜ï¼Œå®ƒè°ƒç”¨Â <em><strong>read_file</strong></em> æŸ¥çœ‹Â <em><strong>src/session/manager.j</strong></em>sã€‚</p>
</li>
<li>
<p><strong>ç¬¬å››è½®ï¼š</strong> æ¨¡å‹å‘ç°äº†é—®é¢˜ï¼Œ**<em>save()</em> **æ–¹æ³•ä¸­æœ‰ä¸€ä¸ªå¼‚æ­¥æ“ä½œæ²¡æœ‰è¢«æ­£ç¡® <em><strong>await</strong></em>ã€‚å®ƒè°ƒç”¨Â <em><strong>edit_file</strong></em> å·¥å…·ä¿®å¤è¿™ä¸ª bugã€‚</p>
</li>
<li>
<p><strong>ç¬¬äº”è½®ï¼š</strong> ä¿®å¤å®Œæˆï¼Œæ¨¡å‹è°ƒç”¨ <em><strong>shell</strong></em> å·¥å…·è¿è¡Œæµ‹è¯•æ¥éªŒè¯ä¿®å¤æ˜¯å¦æœ‰æ•ˆã€‚</p>
</li>
<li>
<p><strong>ç¬¬å…­è½®ï¼š</strong> æµ‹è¯•é€šè¿‡ã€‚æ¨¡å‹ä¸å†è¯·æ±‚å·¥å…·ï¼Œè€Œæ˜¯ç”Ÿæˆæœ€ç»ˆå“åº”ï¼šæ€»ç»“é—®é¢˜åŸå› ã€ä¿®å¤å†…å®¹å’ŒéªŒè¯ç»“æœã€‚</p>
</li>
</ul>
<p>æ¯ä¸€è½®éƒ½éµå¾ªç›¸åŒçš„æ¨¡å¼ï¼šæ¨¡å‹æ¥æ”¶ä¸Šä¸‹æ–‡ï¼Œå†³å®šæ˜¯ç»§ç»­è¡ŒåŠ¨è¿˜æ˜¯ç»™å‡ºå“åº”ï¼Œè¦ä¹ˆç»§ç»­å¾ªç¯ï¼Œè¦ä¹ˆé€€å‡ºã€‚å…³é”®åœ¨äºï¼Œæ¨¡å‹åŸºäºå¯¹ä»»åŠ¡ä¸æ–­æ¼”è¿›çš„ç†è§£<strong>è‡ªä¸»åšå‡ºè¿™äº›å†³ç­–ã€‚</strong></p>
<h4 data-id="heading-19"><strong>å¾ªç¯çš„ç»ˆæ­¢æ¡ä»¶</strong></h4>
<p>æ¯æ¬¡æ¨¡å‹è°ƒç”¨éƒ½ä¼šè¿”å›ä¸€ä¸ªåœæ­¢åŸå› ï¼ˆstop reasonï¼‰ï¼Œå†³å®šæ¥ä¸‹æ¥å‘ç”Ÿä»€ä¹ˆï¼š</p>
<ul>
<li>
<p><strong>end_turnï¼š</strong> æ¨¡å‹å®Œæˆäº†å“åº”ï¼Œæ²¡æœ‰è¿›ä¸€æ­¥çš„è¡ŒåŠ¨éœ€è¦æ‰§è¡Œã€‚è¿™æ˜¯æ­£å¸¸çš„æˆåŠŸç»ˆæ­¢ï¼Œå¾ªç¯é€€å‡ºå¹¶è¿”å›æœ€ç»ˆæ¶ˆæ¯ã€‚</p>
</li>
<li>
<p><strong>tool_useï¼š</strong> æ¨¡å‹æƒ³è¦æ‰§è¡Œä¸€ä¸ªæˆ–å¤šä¸ªå·¥å…·åå†ç»§ç»­ã€‚å¾ªç¯æ‰§è¡Œè¯·æ±‚çš„å·¥å…·ï¼Œå°†ç»“æœè¿½åŠ åˆ°å¯¹è¯å†å²ï¼Œç„¶åå†æ¬¡è°ƒç”¨æ¨¡å‹ã€‚</p>
</li>
<li>
<p><strong>max_tokensï¼š</strong> æ¨¡å‹çš„å“åº”å› è¾¾åˆ° token é™åˆ¶è€Œè¢«æˆªæ–­ã€‚è¿™åœ¨å½“å‰å¾ªç¯ä¸­æ— æ³•æ¢å¤ï¼Œå¾ªç¯ä»¥é”™è¯¯ç»ˆæ­¢ã€‚</p>
</li>
</ul>
<p>ç†è§£è¿™äº›ç»ˆæ­¢æ¡ä»¶æœ‰åŠ©äºé¢„æµ‹ Agent çš„è¡Œä¸ºå¹¶å¤„ç†è¾¹ç•Œæƒ…å†µã€‚</p>
<h3 data-id="heading-20"><strong>Coding Agent çš„å…¸å‹å·¥å…·</strong></h3>
<p>ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ Coding Agent é€šå¸¸éœ€è¦ä»¥ä¸‹å‡ ç±»å·¥å…·ï¼š</p>
<p><strong>æ–‡ä»¶æ“ä½œ</strong></p>
<ul>
<li>
<p><em><strong>read_file</strong></em>ï¼šè¯»å–æ–‡ä»¶å†…å®¹</p>
</li>
<li>
<p><em><strong>write_file</strong></em>ï¼šåˆ›å»ºæˆ–è¦†ç›–æ–‡ä»¶</p>
</li>
<li>
<p><em><strong>edit_file</strong></em>ï¼šå¯¹æ–‡ä»¶è¿›è¡Œå±€éƒ¨ç¼–è¾‘ï¼ˆè€Œéå®Œå…¨é‡å†™ï¼‰</p>
</li>
</ul>
<p><strong>ä»£ç æ‰§è¡Œ</strong></p>
<ul>
<li><em><strong>shell</strong></em> /Â <em><strong>terminal</strong></em>ï¼šæ‰§è¡Œå‘½ä»¤è¡Œå‘½ä»¤ï¼Œç”¨äºè¿è¡Œä»£ç ã€å®‰è£…ä¾èµ–ã€æ‰§è¡Œæµ‹è¯•ç­‰</li>
</ul>
<p><strong>ä»£ç æœç´¢</strong></p>
<ul>
<li>
<p><em><strong>grep</strong></em> /Â <em><strong>search</strong></em>ï¼šåœ¨ä»£ç åº“ä¸­æœç´¢æ–‡æœ¬æˆ–æ¨¡å¼</p>
</li>
<li>
<p><em><strong>semantic_search</strong></em>ï¼šåŸºäºè¯­ä¹‰çš„ä»£ç æœç´¢</p>
</li>
</ul>
<p><strong>é¡¹ç›®å¯¼èˆª</strong></p>
<ul>
<li>
<p><em><strong>list_directory</strong></em>ï¼šåˆ—å‡ºç›®å½•å†…å®¹</p>
</li>
<li>
<p><em><strong>find_files</strong></em>ï¼šæ ¹æ®æ¨¡å¼æŸ¥æ‰¾æ–‡ä»¶</p>
</li>
</ul>
<p>è¿™äº›å·¥å…·çš„è®¾è®¡ç›´æ¥å½±å“ Agent çš„èƒ½åŠ›è¾¹ç•Œï¼Œå·¥å…·çš„ç²’åº¦ã€å‚æ•°è®¾è®¡ã€è¿”å›æ ¼å¼éƒ½éœ€è¦ä»”ç»†è€ƒé‡ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c25e5ddae15942cf942ecd1a9ac03d91~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552157&amp;x-signature=q4hKnp1MAC937GMYbxEVvdRDXwI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-21"><strong>å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ</strong></h2>
<p>åœ¨äº†è§£äº† LLM å’Œ Coding Agent çš„åŸºæœ¬åŸç†åï¼Œæˆ‘ä»¬å†æ¥çœ‹çœ‹ä¸€äº›å¸¸è§çš„é—®é¢˜å°±èƒ½æ›´å¥½åœ°ç†è§£äº†ã€‚</p>
<h3 data-id="heading-22"><strong>ä¼šè¯é—´å¤±å¿†</strong></h3>
<p>Coding Agent é¢ä¸´çš„ä¸€ä¸ªæ ¹æœ¬æ€§é—®é¢˜æ˜¯ï¼š<strong>å®ƒä»¬åœ¨ä¼šè¯ä¹‹é—´æ²¡æœ‰æŒä¹…è®°å¿†ã€‚</strong></p>
<p>æ¯æ¬¡å¯åŠ¨æ–°ä¼šè¯æ—¶ï¼ŒAgent åªçŸ¥é“å®ƒèƒ½åœ¨ç£ç›˜ä¸Šæ‰¾åˆ°çš„å†…å®¹ã€‚å°±åƒç”µå½±ã€Šè®°å¿†ç¢ç‰‡ã€‹æˆ–ã€Šåˆæ‹ 50 æ¬¡ã€‹ä¸­çš„ä¸»è§’ä¸€æ ·ï¼ŒAgent æ¯å¤©é†’æ¥éƒ½ä¸è®°å¾—æ˜¨å¤©å‘ç”Ÿäº†ä»€ä¹ˆã€‚è€Œå…¸å‹çš„å·¥ç¨‹å·¥ä½œæµå¾€å¾€éœ€è¦è·¨è¶Šå¤šä¸ªä¼šè¯æ‰èƒ½å®Œæˆä¸€ä¸ªåŠŸèƒ½â€”â€”å› ä¸ºéœ€è¦æµ‹è¯•ã€ä»£ç å®¡æŸ¥å’Œåç»­æ¸…ç†ã€‚</p>
<p>è¿™å¯¼è‡´äº†ä¸€ä¸ªè’è°¬çš„å±€é¢ï¼šä½ éœ€è¦åœ¨æ¯ä¸ªæ–°ä¼šè¯å¼€å§‹æ—¶ï¼Œé‡æ–°å‘ Agent è§£é‡Šé¡¹ç›®èƒŒæ™¯ã€å½“å‰è¿›åº¦å’Œæ¥ä¸‹æ¥çš„è®¡åˆ’ã€‚</p>
<h4 data-id="heading-23"><strong>ğŸ’¡ è§£å†³æ–¹æ¡ˆï¼š</strong></h4>
<ul>
<li>
<p>ä½¿ç”¨ç»“æ„åŒ–çš„ä»»åŠ¡è¿½è¸ªç³»ç»Ÿï¼ˆå¦‚ issue trackerï¼‰</p>
</li>
<li>
<p>åœ¨æ¯ä¸ªä¼šè¯ç»“æŸæ—¶ï¼Œè®© Agent ç”Ÿæˆä¸€ä¸ªçŠ¶æ€æ‘˜è¦ï¼Œä¾›ä¸‹æ¬¡ä¼šè¯ä½¿ç”¨</p>
</li>
<li>
<p>å°†é‡è¦å†³ç­–å’Œå‘ç°è®°å½•åœ¨å›ºå®šä½ç½®ï¼Œè€Œä¸æ˜¯å¯¹è¯å†å²ä¸­</p>
</li>
</ul>
<h3 data-id="heading-24"><strong>ä¸Šä¸‹æ–‡çª—å£è€—å°½</strong></h3>
<p>æ¯è½®å¾ªç¯éƒ½ä¼šå‘å¯¹è¯å†å²æ·»åŠ æ¶ˆæ¯ã€‚å¯¹äºéœ€è¦å¤šæ¬¡å·¥å…·è°ƒç”¨çš„å¤æ‚ä»»åŠ¡ï¼Œå†å²è®°å½•å¯èƒ½è¶…å‡ºæ¨¡å‹çš„ä¸Šä¸‹æ–‡çª—å£ã€‚å½“è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶ï¼ŒAgent æ— æ³•ç»§ç»­ã€‚</p>
<p>å…·ä½“è¡¨ç°åŒ…æ‹¬ï¼šæ¨¡å‹æä¾›å•†è¿”å›è¾“å…¥é•¿åº¦é”™è¯¯ï¼Œæˆ–éšç€ä¸Šä¸‹æ–‡å¡«æ»¡ä¸å¤ªç›¸å…³çš„æ—©æœŸæ¶ˆæ¯ï¼Œæ¨¡å‹æ€§èƒ½æ˜æ˜¾ä¸‹é™ã€‚</p>
<p>ç›®å‰æœ‰ä¸¤ç§ä¸»æµçš„ä¸Šä¸‹æ–‡ç®¡ç†ç­–ç•¥ï¼š</p>
<h5 data-id="heading-25"><strong>ğŸ’¡ Observation Maskingï¼ˆè§‚å¯Ÿé®è”½ï¼‰</strong></h5>
<p>è¿™ç§æ–¹æ³•åªé’ˆå¯¹å·¥å…·è¿”å›çš„è§‚å¯Ÿç»“æœè¿›è¡Œå¤„ç†ï¼Œè€Œå®Œæ•´ä¿ç•™ Agent çš„æ¨ç†å’Œè¡ŒåŠ¨å†å²ã€‚å…·ä½“åšæ³•æ˜¯ï¼šç”¨å ä½ç¬¦æ›¿æ¢è¾ƒæ—©è½®æ¬¡çš„è§‚å¯Ÿå†…å®¹ï¼ˆæ¯”å¦‚ ã€Œå†…å®¹å·²çœç•¥ã€ï¼‰ï¼Œåªä¿ç•™æœ€è¿‘ N è½®çš„å®Œæ•´è¾“å‡ºã€‚</p>
<p>è¿™ç§æ–¹æ³•ç®€å•é«˜æ•ˆï¼Œå› ä¸ºå…¸å‹ Coding Agent çš„æ¯è½®äº¤äº’ä¸­ï¼Œå·¥å…·è¾“å‡ºï¼ˆå¦‚æ–‡ä»¶å†…å®¹ã€å‘½ä»¤æ‰§è¡Œç»“æœï¼‰å¾€å¾€å æ®äº†ç»å¤§éƒ¨åˆ† tokenã€‚é€šè¿‡é®è”½æ—§çš„è§‚å¯Ÿå†…å®¹ï¼ŒAgent ä»ç„¶å¯ä»¥è®¿é—®è‡ªå·±è¿‡å»çš„æ¨ç†å’Œå†³ç­–ï¼Œä½†ä¸å†é‡å¤å¤„ç†æ—©æœŸè½®æ¬¡çš„å†—é•¿æ–‡æœ¬ã€‚</p>
<h4 data-id="heading-26"><strong>ğŸ’¡ LLM Summarizationï¼ˆLLM æ‘˜è¦ï¼‰</strong></h4>
<p>è¿™ç§æ–¹æ³•ä½¿ç”¨å¦ä¸€ä¸ª LLM å°†è¾ƒæ—©çš„äº¤äº’å†å²ï¼ˆåŒ…æ‹¬è§‚å¯Ÿã€è¡ŒåŠ¨å’Œæ¨ç†ï¼‰å‹ç¼©æˆç®€çŸ­çš„æ‘˜è¦ã€‚æ‘˜è¦ä¼šæ›¿ä»£åŸå§‹çš„è¯¦ç»†å†å²ï¼Œè€Œæœ€è¿‘çš„å‡ è½®å¯¹è¯ä¿æŒå®Œæ•´ã€‚</p>
<p>è¿™ç§æ–¹æ³•ç†è®ºä¸Šå¯ä»¥æ”¯æŒæ— é™é•¿çš„å¯¹è¯ï¼Œå› ä¸ºå†å²ä¼šè¢«åå¤å‹ç¼©ã€‚ä½†å®ƒä¹Ÿæœ‰ä»£ä»·ï¼šæ¯æ¬¡ç”Ÿæˆæ‘˜è¦éƒ½éœ€è¦é¢å¤–çš„ API è°ƒç”¨ï¼Œè€Œä¸”æ‘˜è¦å¯èƒ½ä¼šä¸¢å¤±æŸäº›ç»†èŠ‚ä¿¡æ¯ã€‚ç ”ç©¶å‘ç°ï¼Œæ‘˜è¦æœ‰æ—¶ä¼šæ©ç›– Agent åº”è¯¥åœæ­¢å°è¯•çš„ä¿¡å·ï¼Œå¯¼è‡´ Agent è¿è¡Œæ›´å¤šè½®æ¬¡ï¼Œåè€Œå¢åŠ äº†æˆæœ¬ã€‚</p>
<p>ä¸¤ç§æ–¹æ³•å„æœ‰ä¼˜åŠ£ï¼šObservation Masking å®ç°ç®€å•ã€æˆæœ¬ä½ï¼Œä½†ä¸Šä¸‹æ–‡ä»ä¼šç¼“æ…¢å¢é•¿ï¼›LLM Summarization å¯ä»¥æ›´å½»åº•åœ°å‹ç¼©å†å²ï¼Œä½†å¼•å…¥äº†é¢å¤–å¼€é”€å’Œä¿¡æ¯æŸå¤±é£é™©ã€‚å®è·µä¸­ï¼Œå¯ä»¥è€ƒè™‘æ··åˆä½¿ç”¨ï¼Œä»¥ Observation Masking ä½œä¸ºä¸»è¦ç­–ç•¥ï¼Œä»…åœ¨ä¸Šä¸‹æ–‡ç¡®å®è¿‡é•¿æ—¶è§¦å‘ LLM Summarizationã€‚</p>
<p>å…¶ä»–è§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>
<p>å‡å°‘å·¥å…·è¾“å‡ºçš„å†—é•¿ç¨‹åº¦ï¼Œè¿”å›æ‘˜è¦æˆ–ç›¸å…³ç‰‡æ®µï¼Œè€Œéå®Œæ•´æ•°æ®</p>
</li>
<li>
<p>ç®€åŒ–å·¥å…· schemaï¼Œæ·±åº¦åµŒå¥—çš„ç»“æ„ä¼šåœ¨å·¥å…·é…ç½®å’Œæ¨¡å‹æ¨ç†ä¸­æ¶ˆè€—å¤§é‡ token</p>
</li>
<li>
<p>å°†å¤§å‹ä»»åŠ¡åˆ†è§£ä¸ºå­ä»»åŠ¡ï¼Œæ¯ä¸ªå­ä»»åŠ¡ä½¿ç”¨æ–°çš„ä¸Šä¸‹æ–‡</p>
</li>
</ul>
<h3 data-id="heading-27"><strong>æœ‰æ•ˆä¸Šä¸‹æ–‡è¿œå°äºæ ‡ç§°å€¼</strong></h3>
<p><strong>å³ä½¿æ‹¥æœ‰ 1M token çš„ä¸Šä¸‹æ–‡çª—å£ï¼ŒCoding Agent å®é™…ä¸Šåªèƒ½æœ‰æ•ˆåˆ©ç”¨å…¶ä¸­çš„ 10-15%ã€‚</strong> è¶…è¿‡ 20% åï¼Œæˆæœ¬å’Œæ€§èƒ½éƒ½ä¼šæ€¥å‰§æ¶åŒ–ã€‚å¤§å¤šæ•° Agent ä¼šåœ¨è¾¾åˆ°çº¦ 20% æ—¶å¼ºåˆ¶ä¸­æ–­ï¼Œè€Œæœ€ä½³å®è·µæ˜¯åœ¨ 15% ä¹‹å‰å°±é‡å¯ä¼šè¯ã€‚</p>
<p>è¿™æ„å‘³ç€ï¼Œä»¥å…¨é€Ÿå·¥ä½œæ—¶ï¼Œä½ å¤§çº¦åªæœ‰ 5-10 åˆ†é’Ÿçš„æœ‰æ•ˆå·¥ä½œæ—¶é—´ï¼Œç„¶å Agent å°±ä¼šã€Œè€—å°½ä¸Šä¸‹æ–‡ã€ï¼Œéœ€è¦é‡å¯ï¼ˆç›¸å½“äºæ­»äº¡ï¼‰æˆ–è¿›è¡Œ compactionï¼ˆç›¸å½“äºè®°å¿†æ¸…é™¤ï¼‰ã€‚</p>
<p>æœ‰ä¸€ä¸ªç”ŸåŠ¨çš„æ¯”å–»ï¼šä¸Šä¸‹æ–‡çª—å£å°±åƒæ½œæ°´å‘˜çš„æ°§æ°”ç½ã€‚æ‰€æœ‰äººéƒ½è¯´ã€Œæˆ‘ä»¬ç»™ä»–ä¸€ä¸ªæ›´å¤§çš„æ°§æ°”ç½ï¼š100 ä¸‡ tokenï¼ã€ä½†ä»–æœ€ç»ˆè¿˜æ˜¯ä¼šè€—å°½æ°§æ°”ï¼Œæ›´å¤§çš„çª—å£å¹¶ä¸èƒ½è§£å†³æ ¹æœ¬é—®é¢˜ã€‚</p>
<h3 data-id="heading-28"><strong>ã€ŒDumb Zoneã€ï¼šä¸­é—´åŒºåŸŸçš„æ€§èƒ½é€€åŒ–</strong></h3>
<p>ç ”ç©¶å‘ç°ï¼Œä¸Šä¸‹æ–‡çª—å£çš„ä¸­é—´ 40-60% åŒºåŸŸå­˜åœ¨ä¸€ä¸ªã€ŒDumb Zoneã€ï¼Œåœ¨è¿™ä¸ªåŒºåŸŸï¼Œæ¨¡å‹çš„å¬å›ç‡ä¸‹é™ï¼Œæ¨ç†èƒ½åŠ›å˜å·®ã€‚è¿™ä¸å‰é¢æåˆ°çš„ã€ŒLost in the Middleã€ç°è±¡ç›¸å‘¼åº”ã€‚</p>
<p>å½“ Agent æ·±å…¥å·¥ä½œæ—¶ï¼Œå®ƒä¼šé€æ¸è¡¨ç°å‡ºç±»ä¼¼ã€Œç—´å‘†ã€çš„ç—‡çŠ¶ï¼šè¿·å¤±æ–¹å‘ã€äº§ç”Ÿå¹»è§‰æ¥å£ã€å¿˜è®°åŸå§‹ç›®æ ‡ã€‚è¿™ä¸æ˜¯å› ä¸ºæ¨¡å‹å˜ç¬¨äº†ï¼Œè€Œæ˜¯å› ä¸ºå…³é”®ä¿¡æ¯è¢«æ·¹æ²¡åœ¨å¤§é‡çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œæ— æ³•è¢«æœ‰æ•ˆåˆ©ç”¨ã€‚</p>
<h3 data-id="heading-29"><strong>æ–°å‘ç°çš„ä»»åŠ¡è¢«ä¸¢å¼ƒ</strong></h3>
<p>è¿™æ˜¯ Agentic Coding ä¸­ä¸€ä¸ªå®¹æ˜“è¢«å¿½è§†ä½†å½±å“å·¨å¤§çš„é—®é¢˜ï¼š<strong>LLM åœ¨å·¥ä½œè¿‡ç¨‹ä¸­ä¼šæ³¨æ„åˆ°å„ç§é—®é¢˜ï¼Œä½†åœ¨ä¸Šä¸‹æ–‡ç©ºé—´ç´§å¼ æ—¶ï¼Œä¼šé€‰æ‹©å¿½ç•¥è¿™äº›å‘ç°ï¼Œä¸é‡‡å–ä»»ä½•è¡ŒåŠ¨ã€‚</strong></p>
<p>ä¾‹å¦‚ï¼ŒAgent åœ¨ä¿®å¤ä¸€ä¸ª bug æ—¶ï¼Œå¯èƒ½ä¼šæ³¨æ„åˆ°ä»£ç ä¸­çš„å¦ä¸€ä¸ªæ½œåœ¨é—®é¢˜ã€ä¸€ä¸ªéœ€è¦é‡æ„çš„åœ°æ–¹ã€æˆ–ä¸€ä¸ªç¼ºå¤±çš„æµ‹è¯•ç”¨ä¾‹ã€‚ä½†å¦‚æœå½“å‰ä¸Šä¸‹æ–‡å·²ç»å¾ˆæ»¡ï¼ŒAgent å¯èƒ½ä¼šã€Œå‡è£…æ²¡çœ‹åˆ°ã€ï¼Œç»§ç»­ä¸“æ³¨äºæ‰‹å¤´çš„ä»»åŠ¡ã€‚è¿™äº›è¢«å‘ç°ä½†è¢«ä¸¢å¼ƒçš„å·¥ä½œï¼Œå°±è¿™æ ·æ‚„æ‚„æ¶ˆå¤±äº†ã€‚</p>
<p><strong>ğŸ’¡ è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ul>
<li>
<p>ä½¿ç”¨å¤–éƒ¨å·¥å…·è®© Agent éšæ—¶è®°å½•å‘ç°çš„é—®é¢˜</p>
</li>
<li>
<p>åœ¨ä»»åŠ¡ç»“æŸæ—¶ï¼Œè¦æ±‚ Agent åˆ—å‡ºæ‰€æœ‰è§‚å¯Ÿåˆ°ä½†æœªå¤„ç†çš„é—®é¢˜</p>
</li>
<li>
<p>å»ºç«‹ã€Œå‘ç°å³è®°å½•ã€çš„å·¥ä½œæµç¨‹</p>
</li>
</ul>
<h3 data-id="heading-30"><strong>è¿‡æ—©å®£å‘Šå®Œæˆ</strong></h3>
<p>å½“ Agent ç»å†å¤šæ¬¡ compaction åï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€ä¸ªè’è°¬çš„æƒ…å†µï¼šå®ƒä¼šè‡ªä¿¡åœ°å®£å¸ƒã€Œæ­å–œï¼Œä»»åŠ¡å®Œæˆäº†ï¼è®©æˆ‘ä»¬å¼€å§‹æ‰‹åŠ¨æµ‹è¯•å§ï¼ã€è€Œå®é™…ä¸Šè¿˜æœ‰å¤§é‡çš„é˜¶æ®µæ²¡æœ‰å®Œæˆã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong></p>
<ul>
<li>
<p>å°†æ•´ä½“è®¡åˆ’ä¿å­˜åœ¨ä¸Šä¸‹æ–‡ä¹‹å¤–çš„å›ºå®šä½ç½®</p>
</li>
<li>
<p>å®šæœŸè®© Agent å¯¹ç…§åŸå§‹è®¡åˆ’æ£€æŸ¥è¿›åº¦</p>
</li>
<li>
<p>ä½¿ç”¨ç»“æ„åŒ–çš„ä»»åŠ¡è¿½è¸ªï¼Œè€Œä¸æ˜¯ä¾èµ– Agent çš„è®°å¿†</p>
</li>
</ul>
<h3 data-id="heading-31"><strong>å·¥å…·é€‰æ‹©ä¸å½“</strong></h3>
<p>å½“æ¨¡å‹æŒç»­é€‰æ‹©é”™è¯¯çš„å·¥å…·æ—¶ï¼Œé—®é¢˜é€šå¸¸å‡ºåœ¨å·¥å…·æè¿°çš„æ¨¡ç³Šæ€§ä¸Šã€‚ä»æ¨¡å‹çš„è§’åº¦å®¡è§†æè¿°ï¼šå¦‚æœä¸¤ä¸ªå·¥å…·çš„æè¿°æœ‰é‡å ï¼Œæ¨¡å‹å°±æ²¡æœ‰é€‰æ‹©çš„ä¾æ®ï¼Œæˆ‘ä»¬åº”è¯¥ç¡®ä¿æ¯ä¸ªå·¥å…·çš„ç”¨é€”æ¸…æ™°ä¸”äº’ä¸é‡å ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8ff4689a37e141e6a8c4ba04691b9431~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgVFJBRV9haQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552157&amp;x-signature=EYjpo2BhmeZWeyqglELZmlmaw6w%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-32"><strong>ç»“è¯­ï¼šä»ç†è§£åˆ°è¡ŒåŠ¨çš„æ¡¥æ¢</strong></h2>
<p>é€šè¿‡ä¸Šè¿°çš„æ¢è®¨ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ä» LLM æœ¬è´¨åˆ° Agentic Coding åŸç†çš„ç†è®ºé“ºå«ï¼šä»é€ä¸ªé¢„æµ‹ token çš„åº•å±‚é€»è¾‘ï¼Œåˆ°æ³¨æ„åŠ›æœºåˆ¶çš„ä¸Šä¸‹æ–‡çº¦æŸï¼Œå†åˆ°å¼ºåŒ–å­¦ä¹ å¦‚ä½•è®©æ¨¡å‹å­¦ä¼šã€Œåšäº‹ã€ï¼›ä» API ç»“æ„çš„åŸºç¡€æ¡†æ¶ï¼Œåˆ° Agent Loop çš„æ ¸å¿ƒå¾ªç¯ï¼Œæœ€ååˆ°è§£å†³ä¸Šä¸‹æ–‡è€—å°½ã€ä¼šè¯å¤±å¿†ç­‰å·¥ç¨‹é—®é¢˜çš„å®è·µç­–ç•¥ã€‚</p>
<p>è¿™äº›å†…å®¹å…±åŒæ„æˆäº† Agentic Coding çš„ç¬¬ä¸€æ€§åŸç†åŸºçŸ³â€”â€”ç†è§£è¿™äº›ï¼Œä½ å°±èƒ½è·³å‡º"é»‘ç›’å·¥å…·"çš„ä½¿ç”¨å±‚é¢ï¼Œçœ‹åˆ°å„ç§æœ€ä½³å®è·µèƒŒåçš„æ·±å±‚é€»è¾‘ã€‚</p>
<p>åœ¨ä¸‹ç¯‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»ç†è®ºèµ°å‘å®æ“ï¼šç»“åˆå…·ä½“æ¡ˆä¾‹æ‹†è§£å¦‚ä½•è®¾è®¡é«˜æ•ˆçš„ Agent å¯¹è¯æµç¨‹ã€å¦‚ä½•é€‰æ‹©åˆé€‚çš„å·¥å…·é›†ã€å¦‚ä½•ä¼˜åŒ–ä¸Šä¸‹æ–‡ç®¡ç†ç­–ç•¥ï¼Œä»¥åŠå¦‚ä½•å°†è¿™äº›åŸç†åº”ç”¨åˆ°å®é™…çš„ç¼–ç ä»»åŠ¡ä¸­ï¼ˆå¦‚ bug ä¿®å¤ã€åŠŸèƒ½å¼€å‘ã€ä»£ç é‡æ„ï¼‰ã€‚ä½ å°†çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬ç”¨ç¬¬ä¸€æ€§åŸç†çš„è§†è§’é‡æ–°å®¡è§† Agentic Coding æ—¶ï¼Œé‚£äº›çœ‹ä¼¼é›¶æ•£çš„æŠ€å·§ä¼šå½¢æˆä¸€å¥—ç³»ç»Ÿçš„æ–¹æ³•è®ºï¼Œå¸®åŠ©ä½ çœŸæ­£æˆä¸º AI ç¼–ç¨‹åŠ©æ‰‹çš„ã€Œé©¾é©­è€…ã€è€Œéã€Œä½¿ç”¨è€…ã€ã€‚</p>
<p>æœŸå¾…åœ¨ä¸‹ç¯‡ä¸ä½ ç»§ç»­æ·±å…¥ï¼Œä¸€èµ·æŠŠç†è®ºè½¬åŒ–ä¸ºå¯è½åœ°çš„é«˜æ•ˆå®è·µã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é¸¿è’™å¼€å‘ï¼šé‚£äº›è®©æˆ‘ç†¬ç§ƒå¤´çš„â€œçµå¼‚äº‹ä»¶â€]]></title>    <link>https://juejin.cn/post/7593139476839890950</link>    <guid>https://juejin.cn/post/7593139476839890950</guid>    <pubDate>2026-01-09T08:34:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476839890950" data-draft-id="7592921639465353258" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é¸¿è’™å¼€å‘ï¼šé‚£äº›è®©æˆ‘ç†¬ç§ƒå¤´çš„â€œçµå¼‚äº‹ä»¶â€"/> <meta itemprop="keywords" content="HarmonyOS,ArkTS,ArkUI"/> <meta itemprop="datePublished" content="2026-01-09T08:34:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¨å“¥çˆ±ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2242659450109575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é¸¿è’™å¼€å‘ï¼šé‚£äº›è®©æˆ‘ç†¬ç§ƒå¤´çš„â€œçµå¼‚äº‹ä»¶â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2242659450109575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¨å“¥çˆ±ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:34:40.000Z" title="Fri Jan 09 2026 08:34:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Helloï¼Œå…„å¼Ÿä»¬ï¼Œæˆ‘æ˜¯ V å“¥ï¼</p>
<p>å’±ä»¬å¹²é¸¿è’™å¼€å‘çš„ï¼Œå¹³æ—¶æ˜¯ä¸æ˜¯è§‰å¾—è‡ªå·±åƒä¸ªæ³•å¸ˆï¼Ÿç‰¹åˆ«æ˜¯åˆšä» Android æˆ–è€… Vue è½¬è¿‡æ¥çš„å…„å¼Ÿï¼Œé¢å¯¹ ArkTS è¿™ä¸€å¥—å£°æ˜å¼ UIï¼Œæœ‰æ—¶å€™çœŸè§‰å¾—è‡ªå·±æ˜¯åœ¨åšæ³•æœ¯ã€‚</p>
<p>ä»£ç å†™å¾—è¡Œäº‘æµæ°´ï¼Œç‚¹ä¸ªè¿è¡Œâ€”â€”<strong>å•ªï¼</strong> ç™½å±äº†ã€‚
å†ç‚¹ä¸€ä¸‹â€”â€”<strong>å•ªï¼</strong> å´©æºƒäº†ã€‚
æœ€æ°”äººçš„æ˜¯ï¼Œæœ‰æ—¶å€™é€»è¾‘æ˜æ˜çœ‹ç€æ²¡é—®é¢˜ï¼Œå®ƒå°±æ˜¯è·Ÿä½ ç©â€œè–›å®šè°”çš„çŒ«â€ã€‚</p>
<p>ä»Šå¤©ï¼ŒV å“¥æˆ‘å°±æŠŠè¿™å‡ ä¸ªæœˆç§¯æ”’çš„**â€œé¸¿è’™å¼€å‘ Bug æ‚¬æ¡ˆå·å®—â€**ç»™å¤§ä¼™å„¿æŠ–æ‚æŠ–æ‚ã€‚è¿™å‡ ä¸ª Bugï¼Œå½“åˆå¯æ˜¯æŠ˜ç£¨äº† V å“¥æ•´æ•´ä¸‰å¤©ä¸‰å¤œï¼Œçº¢å–äº†åŠç®±ï¼Œå¤´å‘æ‰äº†å¥½å‡ æŠŠã€‚å’±ä»¬å¤ç›˜ä¸€ä¸‹ï¼Œçœ‹çœ‹ä½ æœ‰æ²¡æœ‰è¸©è¿‡è¿™å‡ ä¸ªå‘ï¼</p>
<hr/>
<h2 data-id="heading-0">æ‚¬æ¡ˆä¸€ï¼šäººé—´è’¸å‘çš„ UI æ›´æ–°ï¼ˆ@State çš„å¤±å¿†ç—‡ï¼‰</h2>
<h3 data-id="heading-1">ğŸ“ƒ æ¡ˆå‘ç°åœº</h3>
<p>é‚£æ˜¯ä¸€ä¸ªæœˆé»‘é£é«˜çš„å¤œæ™šï¼ŒV å“¥æˆ‘åœ¨å†™ä¸€ä¸ªåˆ—è¡¨é¡µã€‚æ•°æ®ä»åç«¯æ‹¿å›æ¥ï¼Œæ˜¯ä¸ª JSON æ•°ç»„ã€‚æˆ‘æŠŠå®ƒå­˜åˆ°äº† <code>@State</code> è£…é¥°çš„å˜é‡é‡Œã€‚</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@State</span> <span class="hljs-attr">dataList</span>: <span class="hljs-title class_">UserModel</span>[] = [];

<span class="hljs-comment">// ç½‘ç»œè¯·æ±‚å›æ¥å</span>
<span class="hljs-variable language_">this</span>.<span class="hljs-property">dataList</span> = response.<span class="hljs-property">data</span>;
</code></pre>
<p>é€»è¾‘æ²¡æ¯›ç—…å§ï¼Ÿæˆ‘çœ‹ç€æ—¥å¿—ï¼Œæ•°æ®ç¡®å®èµ‹å€¼è¿›å»äº†ï¼Œé•¿åº¦ä¹Ÿå˜äº†ã€‚ä½†æ˜¯ï¼<strong>ç•Œé¢ä¸Šæ­»æ´»ä¸åˆ·æ–°ï¼</strong> å°±åƒæ­»æœºäº†ä¸€æ ·ï¼Œå“ªæ€•æˆ‘æŠŠæ‰‹æœºå±å¹•æˆ³ä¸ªæ´ï¼Œå®ƒä¹Ÿä¸åŠ¨ä¸€ä¸‹ã€‚</p>
<h3 data-id="heading-2">ğŸ” ä¾¦ç ´è¿‡ç¨‹</h3>
<p>V å“¥æˆ‘å½“æ—¶å°±æ‡µäº†ï¼Œéš¾é“æ˜¯ ArkUI æŠ½é£äº†ï¼Ÿæˆ‘å¼€å§‹ç–¯ç‹‚æ‰“ Logï¼Œå‘ç° <code>dataList</code> çš„å†…å­˜åœ°å€ç¡®å®å˜äº†ã€‚</p>
<p>è¿™æ—¶å€™ï¼ŒV å“¥æˆ‘çªç„¶æƒ³èµ·äº†ä¸€å¥è€è¯ï¼š<strong>é¸¿è’™çš„è§‚å¯Ÿæœºåˆ¶ï¼Œæœ‰æ—¶å€™æ¯”å‰å¥³å‹è¿˜éš¾ä¼ºå€™ã€‚</strong></p>
<p>åŸæ¥å•Šï¼Œæˆ‘åœ¨åˆ«çš„åœ°æ–¹ï¼Œä¸ºäº†å›¾çœäº‹ï¼Œç›´æ¥æ“ä½œäº†æ•°ç»„å†…éƒ¨çš„æŸä¸ªå±æ€§ï¼Œæ¯”å¦‚ï¼š
<code>this.dataList[0].name = 'Vå“¥æœ€å¸…';</code></p>
<p>æˆ–è€…æˆ‘åœ¨èµ‹å€¼å‰ï¼Œå¯¹æ•°ç»„åšäº†ä¸€äº›æ·±æ‹·è´çš„æ“ä½œï¼Œä½†æ‹·è´å¾—ä¸å¤Ÿâ€œå½»åº•â€ã€‚åœ¨ ArkTS é‡Œï¼Œå¦‚æœä½ åªæ˜¯ä¿®æ”¹äº†å¯¹è±¡çš„<strong>æ·±å±‚å±æ€§</strong>ï¼Œè€Œæ²¡æœ‰è§¦å‘å¯¹è±¡æœ¬èº«çš„å¼•ç”¨å˜åŒ–ï¼Œæˆ–è€…åµŒå¥—å¯¹è±¡æ²¡åŠ  <code>@Observed</code>ï¼ŒUI æ¸²æŸ“å¼•æ“å°±ä¼šé€‰æ‹©æ€§å¤±æ˜ï¼š<strong>â€œå“¦ï¼Œè¿˜æ˜¯é‚£ä¸ªå¯¹è±¡ï¼Œä¸ç”¨åŠ¨ï¼Œæ‡’å¾—åˆ·ã€‚â€</strong></p>
<h3 data-id="heading-3">âœ… ç»ˆæè§£å†³æ–¹æ¡ˆ</h3>
<p>å…„å¼Ÿä»¬è®°ä½äº†ï¼Œé‡åˆ°å¯¹è±¡æ•°ç»„åˆ·æ–°ï¼Œè¦ä¹ˆè€è€å®å®åœ°æ•´ä½“æ›¿æ¢å¼•ç”¨ï¼Œè¦ä¹ˆå°±ç”¨å¯¹è£…é¥°å™¨ï¼</p>
<ol>
<li><strong>ç®€å•ç²—æš´æ³•ï¼š</strong> æ¯æ¬¡éƒ½ <code>new</code> ä¸€ä¸ªæ–°æ•°ç»„ï¼Œæˆ–è€…ç”¨å±•å¼€ç¬¦ <code>[..., newData]</code> å¼ºåˆ¶æ¢ä¸ªåœ°å€ã€‚</li>
<li><strong>ä¸“ä¸šæ²»æœ¬æ³•ï¼ˆæ¨èï¼‰ï¼š</strong> ä½ çš„ Model ç±»å¿…é¡»ç”¨ <code>@Observed</code> è£…é¥°ï¼Œç„¶ååœ¨ç»„ä»¶é‡Œç”¨ <code>@ObjectLink</code> å»æ¥ï¼</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-meta">@Observed</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserModel</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;
}

<span class="hljs-comment">// ç»„ä»¶é‡Œ</span>
<span class="hljs-meta">@Component</span>
struct <span class="hljs-title class_">UserItem</span> {
  <span class="hljs-meta">@ObjectLink</span> <span class="hljs-attr">user</span>: <span class="hljs-title class_">UserModel</span>; <span class="hljs-comment">// æ³¨æ„è¿™é‡Œï¼</span>
  
  <span class="hljs-title function_">build</span>(<span class="hljs-params"/>) {
    <span class="hljs-title class_">Text</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">user</span>.<span class="hljs-property">name</span>)
  }
}
</code></pre>
<p>ç”¨äº† <code>@ObjectLink</code>ï¼Œé‚£å«ä¸€ä¸ªä¸æ»‘ï¼Œå¯¹è±¡é‡Œå“ªæ€•æ”¹äº†ä¸ªæ ‡ç‚¹ç¬¦å·ï¼Œç•Œé¢ç«‹é©¬è·Ÿç€å˜ï¼</p>
<hr/>
<h2 data-id="heading-4">æ‚¬æ¡ˆäºŒï¼šçœŸæœºä¸Šçš„â€œå¹½çµç‚¹å‡»â€ï¼ˆäº‹ä»¶å†’æ³¡çš„èƒŒåˆºï¼‰</h2>
<h3 data-id="heading-5">ğŸ“ƒ æ¡ˆå‘ç°åœº</h3>
<p>ä¸ºäº†èµ¶è¿›åº¦ï¼ŒV å“¥æˆ‘å†™äº†ä¸€ä¸ªå¤æ‚çš„åˆ—è¡¨ï¼Œæ¯ä¸ª Item é‡Œé¢æœ‰ä¸ªâ€œåˆ é™¤â€æŒ‰é’®ï¼Œå¤–é¢æ•´ä¸ª Item ä¹Ÿæ˜¯å¯ä»¥ç‚¹å‡»è¿›å…¥è¯¦æƒ…é¡µçš„ã€‚</p>
<p>åœ¨æ¨¡æ‹Ÿå™¨ä¸Šè·‘å¾—å¥½å¥½çš„ï¼Œç‚¹åˆ é™¤ï¼Œåˆ é™¤ï¼›ç‚¹ Itemï¼Œè·³è½¬ã€‚V å“¥æˆ‘ç¾æ»‹æ»‹åœ°è£…åˆ°çœŸæœºä¸Šæµ‹è¯•ã€‚</p>
<p>ç»“æœï¼Œè¯¡å¼‚çš„äº‹æƒ…å‘ç”Ÿäº†ï¼š<strong>æˆ‘ç‚¹â€œåˆ é™¤â€æŒ‰é’®ï¼Œå®ƒä¸ä»…æŠŠæ•°æ®åˆ äº†ï¼Œè¿˜ç‰¹ä¹ˆç»™æˆ‘è·³åˆ°äº†è¯¦æƒ…é¡µï¼</strong></p>
<p>æˆ‘éƒ½æƒ³æŠŠæ‰‹æœºåƒäº†ï¼Œæ˜æ˜ç‚¹çš„æ˜¯æŒ‰é’®ï¼Œä¸ºä»€ä¹ˆä¼šè§¦å‘çˆ¶å®¹å™¨çš„ç‚¹å‡»äº‹ä»¶ï¼Ÿ</p>
<h3 data-id="heading-6">ğŸ” ä¾¦ç ´è¿‡ç¨‹</h3>
<p>åˆšå¼€å§‹ä»¥ä¸ºæ˜¯æ‰‹æœºå±å¹•åäº†ï¼Œæˆ–è€…æ‰‹æŒ‡å¤ªç²—ã€‚åæ¥å‘ç°ï¼Œè¿™æ˜¯å…¸å‹çš„<strong>äº‹ä»¶å†’æ³¡</strong>é—®é¢˜ã€‚</p>
<p>åœ¨é¸¿è’™çš„ ArkUI é‡Œï¼Œç‚¹å‡»äº‹ä»¶çš„ä¼ é€’æœºåˆ¶æœ‰æ—¶å€™ä¼šè·Ÿä½ â€œæ‰è¿·è—â€ã€‚åœ¨æ¨¡æ‹Ÿå™¨ä¸Šå¯èƒ½å› ä¸ºå“åº”é€Ÿåº¦å¿«æˆ–è€…æ¸²æŸ“æœºåˆ¶ä¸åŒï¼Œä¸æ˜æ˜¾ã€‚ä½†åœ¨çœŸæœºä¸Šï¼Œç‰¹åˆ«æ˜¯å¦‚æœä½ æ‰‹æŠ–äº†ä¸€ä¸‹ï¼Œç‚¹å‡»äº‹ä»¶å°±ä¼šåƒåç«ç®­ä¸€æ ·ï¼Œä»å­ç»„ä»¶ï¼ˆæŒ‰é’®ï¼‰ç›´æ¥<strong>å†’æ³¡</strong>ä¼ åˆ°äº†çˆ¶ç»„ä»¶ï¼ˆListItemï¼‰ï¼Œè§¦å‘ä¸¤æ¬¡ç‚¹å‡»è¡Œä¸ºã€‚</p>
<h3 data-id="heading-7">âœ… ç»ˆæè§£å†³æ–¹æ¡ˆ</h3>
<p>ç»™å¯èƒ½è§¦å‘å†²çªçš„å­ç»„ä»¶äº‹ä»¶é‡Œï¼ŒåŠ ä¸€å¥å’’è¯­ï¼ŒæŠŠå®ƒæˆªèƒ¡ï¼</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">Button</span>(<span class="hljs-string">'åˆ é™¤'</span>)
  .<span class="hljs-title function_">onClick</span>(<span class="hljs-function">(<span class="hljs-params">event: ClickEvent</span>) =&gt;</span> {
    <span class="hljs-comment">// ä½ çš„åˆ é™¤é€»è¾‘...</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">'æ‰§è¡Œåˆ é™¤'</span>);
  })
  <span class="hljs-comment">// é‡ç‚¹æ¥äº†ï¼åŠ ä¸Šè¿™ä¸€å¥ï¼Œå‘Šè¯‰çˆ¶ç»„ä»¶ï¼šåˆ°æ­¤ä¸ºæ­¢ï¼Œåˆ«å¾€ä¸Šä¼ äº†ï¼</span>
  .<span class="hljs-title function_">hitTestBehavior</span>(<span class="hljs-title class_">HitTestMode</span>.<span class="hljs-property">None</span>) 
</code></pre>
<p>æˆ–è€…ï¼Œåœ¨ onClick çš„å›è°ƒé‡Œæ ¹æ®ä¸šåŠ¡é€»è¾‘åˆ¤æ–­ï¼Œä½†åœ¨ UI å£°æ˜é‡Œï¼Œ<code>hitTestBehavior</code> æ˜¯æœ€ç‰©ç†ã€æœ€æœ‰æ•ˆçš„â€œç»“ç•Œâ€ã€‚åŠ ä¸Šè¿™ä¸€è¡Œä»£ç ï¼Œä¸–ç•Œç¬é—´æ¸…å‡€äº†ã€‚</p>
<hr/>
<h2 data-id="heading-8">æ‚¬æ¡ˆä¸‰ï¼šæ¨¡æ‹Ÿå™¨æ˜¯äº²å„¿å­ï¼ŒçœŸæœºæ˜¯æ¡æ¥çš„ï¼Ÿï¼ˆèµ„æºåŠ è½½çš„æ—¶å·®ï¼‰</h2>
<h3 data-id="heading-9">ğŸ“ƒ æ¡ˆå‘ç°åœº</h3>
<p>è¿™ä¸ª Bug ç®€ç›´è®©æˆ‘æ€€ç–‘äººç”Ÿã€‚æˆ‘åœ¨ DevEco Studio çš„ Previewer é‡Œé¢„è§ˆï¼Œå›¾ç‰‡æ˜¾ç¤ºå®Œç¾ï¼ŒåŠ¨ç”»æµç•…ã€‚è£…åˆ°åä¸ºçœŸæœºä¸Šä¸€è·‘â€”â€”<strong>å›¾ç‰‡å…¨æ˜¯è£‚å¼€çš„é»˜è®¤å›¾ï¼</strong></p>
<p>æˆ‘æ£€æŸ¥äº†è·¯å¾„ï¼Œ<code>common/images/xxx.png</code>ï¼Œæ²¡é”™å•Šï¼æƒé™ä¹Ÿç»™äº†ï¼Œç½‘ç»œä¹Ÿé€šäº†ã€‚ä¸ºä»€ä¹ˆçœŸæœºä¸Šå°±æ˜¯åŠ è½½ä¸å‡ºæ¥ï¼Ÿ</p>
<h3 data-id="heading-10">ğŸ” ä¾¦ç ´è¿‡ç¨‹</h3>
<p>V å“¥æˆ‘å½“æ—¶ç›¯ç€å±å¹•çœ‹äº†åŠå°æ—¶ï¼Œçªç„¶çµå…‰ä¸€é—ªï¼šæ˜¯ä¸æ˜¯<strong>åŠ è½½æ—¶æœº</strong>çš„é—®é¢˜ï¼Ÿ</p>
<p>åœ¨æ¨¡æ‹Ÿå™¨é‡Œï¼Œå› ä¸ºç”µè„‘æ€§èƒ½å¼ºï¼ŒIO è¯»å†™å¿«ï¼Œå›¾ç‰‡å¾€å¾€åœ¨ç•Œé¢æ¸²æŸ“å‡ºæ¥ä¹‹å‰å°±å·²ç»åŠ è½½å¥½äº†ã€‚ä½†åœ¨çœŸæœºä¸Šï¼Œä¹Ÿå°±æ˜¯ä¸ªç§»åŠ¨è®¾å¤‡ï¼Œè¯»å–æœ¬åœ°èµ„æºæ–‡ä»¶æ˜¯éœ€è¦æ—¶é—´çš„ã€‚</p>
<p>æˆ‘çš„ä»£ç é€»è¾‘æ˜¯ï¼š
<code>Image(this.imagePath)</code></p>
<p>è€Œ <code>this.imagePath</code> æ˜¯åœ¨ <code>aboutToAppear()</code> ç”Ÿå‘½å‘¨æœŸé‡Œå¼‚æ­¥å»è·å–å¹¶èµ‹å€¼çš„ã€‚çœŸæœºæ¸²æŸ“ç»„ä»¶çš„æ—¶å€™ï¼Œè¿™ä¸ªå˜é‡è¿˜æ˜¯ç©ºçš„æˆ–è€…æ˜¯åˆå§‹å€¼ï¼Œç­‰å®ƒæ‹¿åˆ°å€¼äº†ï¼ŒImage ç»„ä»¶å·²ç»æ‘†çƒ‚ä¸æ¸²æŸ“äº†ã€‚</p>
<h3 data-id="heading-11">âœ… ç»ˆæè§£å†³æ–¹æ¡ˆ</h3>
<p>è¿™å«â€œå¼‚æ­¥ç«æ€é—®é¢˜â€ã€‚è§£å†³æ–¹æ³•æœ‰ä¸¤ä¸ªï¼ŒV å“¥æ¨èç¬¬äºŒç§ã€‚</p>
<ol>
<li><strong>åŠ  Loading å ä½ï¼š</strong> ç”¨ä¸ª if åˆ¤æ–­ï¼Œæ•°æ®æ²¡å›æ¥å‰æ˜¾ç¤ºä¸ªè½¬åœˆåœˆçš„ Loadingã€‚</li>
<li><strong>ç»™ Image ç»„ä»¶åŠ ä¸ª Keyï¼ˆç»æ‹›ï¼‰ï¼š</strong></li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">Image</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imagePath</span>)
  .<span class="hljs-title function_">objectFit</span>(<span class="hljs-title class_">ImageFit</span>.<span class="hljs-property">Cover</span>)
  <span class="hljs-comment">// åŠ ä¸Šè¿™ä¸ª keyï¼æ¯æ¬¡ imagePath å˜äº†ï¼Œå¼ºåˆ¶ Image ç»„ä»¶é”€æ¯é‡ç»˜ï¼</span>
  .<span class="hljs-title function_">key</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">imagePath</span>) 
</code></pre>
<p>ä¸€æ—¦ä½ åŠ äº† <code>.key(this.imagePath)</code>ï¼Œè¿™å°±ç›¸å½“äºå‘Šè¯‰ç³»ç»Ÿï¼šâ€œå…„å¼Ÿï¼Œè·¯å¾„å˜äº†ï¼Œè¿™å·²ç»ä¸æ˜¯åˆšæ‰é‚£å¼ å›¾äº†ï¼Œä½ èµ¶ç´§é‡æ–°åŠ è½½ä¸€ä¸‹ï¼â€ è¿™ä¸€æ‹›ï¼Œå¯¹è§£å†³çœŸæœºèµ„æºåŠ è½½æ»åã€ä¸åˆ·æ–°çš„é—®é¢˜ï¼Œ<strong>ç™¾è¯•ç™¾çµ</strong>ï¼</p>
<hr/>
<h2 data-id="heading-12">æ‚¬æ¡ˆå››ï¼šWebViewController çš„â€œé»‘å±è¯…å’’â€</h2>
<h3 data-id="heading-13">ğŸ“ƒ æ¡ˆå‘ç°åœº</h3>
<p>åœ¨é¸¿è’™é‡ŒåµŒå…¥ H5 é¡µé¢å¾ˆå¸¸è§å§ï¼ŸV å“¥æˆ‘å½“æ—¶ç”¨ <code>Web</code> ç»„ä»¶åŠ è½½ä¸€ä¸ªç¬¬ä¸‰æ–¹çš„ URLã€‚</p>
<p>å¼€å‘é˜¶æ®µä¸€åˆ‡æ­£å¸¸ã€‚ç»“æœåˆ°äº†æµ‹è¯•ç¯å¢ƒï¼Œ<strong>é¡µé¢å¶å°”ä¸€è¿›å»å°±æ˜¯é»‘å±ï¼Œå•¥ä¹Ÿæ²¡æœ‰ï¼Œæ§åˆ¶å°è¿˜ä¸æŠ¥é”™ï¼</strong> ç®€ç›´å°±æ˜¯è§äº†é¬¼ã€‚</p>
<h3 data-id="heading-14">ğŸ” ä¾¦ç ´è¿‡ç¨‹</h3>
<p>è¿™ç§ä¸æŠ¥é”™çš„ Bug æœ€éš¾æã€‚åæ¥ V å“¥æˆ‘å‘ç°ï¼Œè¿™è·Ÿ H5 é¡µé¢çš„åŠ è½½é€Ÿåº¦å’Œ Web ç»„ä»¶çš„åˆå§‹åŒ–æœ‰å…³ã€‚</p>
<p>å½“ Web ç»„ä»¶è¿˜æ²¡å®Œå…¨å‡†å¤‡å¥½ï¼Œæˆ–è€… H5 é¡µé¢å†…éƒ¨ JS æ‰§è¡Œå‡ºé”™å¡ä½äº†ï¼Œé¸¿è’™è¿™è¾¹çš„ Web å†…æ ¸æœ‰æ—¶å€™å°±ä¼šâ€œæ­»æœºâ€ï¼Œå‘ˆç°ä¸€ç‰‡æ­»å¯‚çš„é»‘è‰²ã€‚</p>
<h3 data-id="heading-15">âœ… ç»ˆæè§£å†³æ–¹æ¡ˆ</h3>
<p>å’±ä»¬å¾—åƒå¸¦å­©å­ä¸€æ ·ï¼Œç›¯ç€å®ƒï¼</p>
<ol>
<li><strong>ç›‘å¬ç”Ÿå‘½å‘¨æœŸï¼š</strong> å¿…é¡»é…åˆ <code>onPageEnd</code> å’Œ <code>onError</code> äº‹ä»¶ã€‚</li>
<li><strong>æ³¨å…¥è¯Šæ–­è„šæœ¬ï¼š</strong> åœ¨ H5 åŠ è½½å‰ï¼Œæ³¨å…¥ä¸€æ®µ JS å»æ¢æ´»ã€‚</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">Web</span>({ <span class="hljs-attr">src</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">url</span>, <span class="hljs-attr">controller</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span> })
  .<span class="hljs-title function_">onPageEnd</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// é¡µé¢åŠ è½½ç»“æŸäº†ï¼Œå¦‚æœè¿˜æ˜¯é»‘å±ï¼Œè¯´æ˜å‡ºé—®é¢˜äº†</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">info</span>(<span class="hljs-string">"é¡µé¢åŠ è½½ç»“æŸ"</span>);
  })
  .<span class="hljs-title function_">onErrorReceive</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
    <span class="hljs-comment">// æ•è·é”™è¯¯</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"WebåŠ è½½å¤±è´¥: "</span> + event.<span class="hljs-title function_">getError</span>().<span class="hljs-title function_">toString</span>());
    <span class="hljs-comment">// è¿™é‡Œå¯ä»¥å¼¹ä¸ªçª—ï¼Œæˆ–è€…åŠ è½½ä¸€ä¸ªæœ¬åœ°é”™è¯¯çš„ HTML</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">controller</span>.<span class="hljs-title function_">loadUrl</span>(<span class="hljs-string">'resource:///rawfile/error.html'</span>);
  })
  .<span class="hljs-title function_">domStorageAccess</span>(<span class="hljs-literal">true</span>)
</code></pre>
<p>æœ€å…³é”®çš„ä¸€æ‹›ï¼š<strong>ä¸è¦åœ¨ Controller æ²¡åˆå§‹åŒ–å®Œæˆçš„æ—¶å€™å°±æ€¥ç€ <code>loadUrl</code></strong>ã€‚å¦‚æœä½ æ˜¯åœ¨ <code>aboutToAppear</code> é‡Œåˆå§‹åŒ– Web ç»„ä»¶ï¼Œæœ€å¥½å»¶æ—¶ä¸ªå‡ ç™¾æ¯«ç§’ï¼Œæˆ–è€…ç¡®ä¿ Controller å®ä¾‹åŒ–å®Œæ¯•å†æ“ä½œã€‚ç»™å®ƒä¸€ç‚¹å–˜æ¯çš„æ—¶é—´ï¼Œé»‘å±å°±æ¶ˆå¤±äº†ã€‚</p>
<hr/>
<h2 data-id="heading-16">V å“¥æ€»ç»“é™ˆè¯</h2>
<p>å…„å¼Ÿä»¬ï¼Œè¿™å°±æ˜¯ V å“¥äº²æµ‹çš„é¸¿è’™å¼€å‘å››å¤§â€œæ‚¬æ¡ˆâ€ã€‚</p>
<p>å…¶å®æ€»ç»“ä¸‹æ¥ï¼Œé¸¿è’™å¼€å‘è™½ç„¶æ–°ï¼Œä½†ä¸‡å˜ä¸ç¦»å…¶å®—ï¼š</p>
<ol>
<li><strong>çŠ¶æ€ç®¡ç†è¦ææ¸…å¼•ç”¨å…³ç³»</strong>ï¼ˆObserved/ObjectLink ç”¨èµ·æ¥ï¼‰ã€‚</li>
<li><strong>äº‹ä»¶ä¼ é€’è¦é˜²å†’æ³¡</strong>ï¼ˆhitTestBehavior è®¾èµ·æ¥ï¼‰ã€‚</li>
<li><strong>çœŸæœºæ€§èƒ½è¦è€ƒè™‘æ—¶å·®</strong>ï¼ˆKey å’Œ Loading åŠ èµ·æ¥ï¼‰ã€‚</li>
<li><strong>æ··åˆå¼€å‘è¦åšå¥½å®¹é”™</strong>ï¼ˆç”Ÿå‘½å‘¨æœŸç›‘å¬èµ·æ¥ï¼‰ã€‚</li>
</ol>
<p>é‡åˆ° Bug åˆ«æ…Œï¼Œåˆ«ç ¸é”®ç›˜ï¼Œæ›´åˆ«æ€€ç–‘äººç”Ÿã€‚æŠŠè¿™äº›å‘è¸©å¹³äº†ï¼Œä½ å°±æ˜¯é¸¿è’™åœˆé‡Œçš„è€å¸æœºï¼</p>
<p>*<em>æˆ‘æ˜¯Vå“¥ï¼Œå…³æ³¨æˆ‘ï¼Œä¸€èµ·æé¸¿è’™å‘€ï¼æ‰‹æ“äº†ä¸‰æœ¬é¸¿è’™æ•™æï¼Œå­¦å®Œå³å¯ä½“ç³»åŒ–æŒæ¡é¸¿è’™å¼€å‘ã€‚</em>
*</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/51a289da26814dfd808b3c1c0d23dc1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552480&amp;x-signature=qbREfY0w7Ep8R8o5%2BC4aManSrQQ%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode. dstIn]]></title>    <link>https://juejin.cn/post/7592990758475972627</link>    <guid>https://juejin.cn/post/7592990758475972627</guid>    <pubDate>2026-01-09T08:35:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592990758475972627" data-draft-id="7592887786967515172" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode. dstIn"/> <meta itemprop="keywords" content="Android,Flutter"/> <meta itemprop="datePublished" content="2026-01-09T08:35:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«æŸ´å°±æ˜¯æˆ‘"/> <meta itemprop="url" content="https://juejin.cn/user/272334614705575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å­¦ä¹ ä¸€äº›å¸¸ç”¨çš„æ··åˆæ¨¡å¼ä¹‹BlendMode. dstIn
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/272334614705575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«æŸ´å°±æ˜¯æˆ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:35:53.000Z" title="Fri Jan 09 2026 08:35:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><code>Keeps the destination pixels that cover source pixels, discards the remaining source and destination pixels</code></p>
<p>å…¬å¼ï¼š</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d3683f4fbfca43778a3ffba676115d75~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552553&amp;x-signature=WBqupaJOZJH65uKYskSGs8dmxdI%3D" alt="image.png" width="30%" loading="lazy"/>
<p>ä»£ç :</p>
<pre><code class="hljs language-js" lang="js">    canvas.<span class="hljs-title function_">saveLayer</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height), <span class="hljs-title class_">Paint</span>());
    <span class="hljs-title class_">Paint</span> dstPaint = <span class="hljs-title class_">Paint</span>()..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>;
    dstPaint.<span class="hljs-property">style</span> = ui.<span class="hljs-property">PaintingStyle</span>.<span class="hljs-property">fill</span>;
    canvas.<span class="hljs-title function_">drawImageRect</span>(image1!, <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, image!.<span class="hljs-property">width</span>.<span class="hljs-title function_">toDouble</span>(), image!.<span class="hljs-property">height</span>.<span class="hljs-title function_">toDouble</span>()), <span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width/<span class="hljs-number">2</span>, height/<span class="hljs-number">2</span>), dstPaint);


    <span class="hljs-keyword">var</span> srcPaint = <span class="hljs-title class_">Paint</span>()
      ..<span class="hljs-property">color</span> = <span class="hljs-title class_">Colors</span>.<span class="hljs-property">red</span>
      ..<span class="hljs-property">blendMode</span> = ui.<span class="hljs-property">BlendMode</span>.<span class="hljs-property">dstIn</span>; <span class="hljs-comment">// æºé¢œè‰²ï¼šè“è‰²; // æ··åˆæ¨¡å¼</span>
    canvas.<span class="hljs-title function_">drawRect</span>(<span class="hljs-title class_">Rect</span>.<span class="hljs-title function_">fromLTWH</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, width, height).<span class="hljs-title function_">deflate</span>(<span class="hljs-number">30</span>), srcPaint);

    canvas.<span class="hljs-title function_">restore</span>();
</code></pre>
<p>æ•ˆæœå›¾:</p>
<img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d0add7846f434f89ae91841d9f65fd46~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552553&amp;x-signature=EUYL%2F6gX7RDi%2F4pG9N9kVM7yORQ%3D" alt="image.png" width="30%" loading="lazy"/>
<p>å¯ä»¥çœ‹åˆ°é‡åˆéƒ¨åˆ†ä¿ç•™äº†dstï¼Œéé‡åˆéƒ¨åˆ†dstä¿ç•™,srcå…¨éƒ¨æ¸…ç©ºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026å¹´çš„ITåœˆï¼Œçœ‹çœ‹è°åœ¨â€œè£¸æ³³â€ï¼Œè°åœ¨â€œåƒè‚‰â€]]></title>    <link>https://juejin.cn/post/7593139476839874566</link>    <guid>https://juejin.cn/post/7593139476839874566</guid>    <pubDate>2026-01-09T08:33:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476839874566" data-draft-id="7592887786967531556" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026å¹´çš„ITåœˆï¼Œçœ‹çœ‹è°åœ¨â€œè£¸æ³³â€ï¼Œè°åœ¨â€œåƒè‚‰â€"/> <meta itemprop="keywords" content="åç«¯,HarmonyOS,AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-09T08:33:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¨å“¥çˆ±ç¼–ç¨‹"/> <meta itemprop="url" content="https://juejin.cn/user/2242659450109575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026å¹´çš„ITåœˆï¼Œçœ‹çœ‹è°åœ¨â€œè£¸æ³³â€ï¼Œè°åœ¨â€œåƒè‚‰â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2242659450109575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¨å“¥çˆ±ç¼–ç¨‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:33:33.000Z" title="Fri Jan 09 2026 08:33:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Helloï¼Œå…„å¼Ÿä»¬ï¼Œæˆ‘æ˜¯Vå“¥ï¼</p>
<p>æœ€è¿‘ä¸å°‘ç²‰ä¸ç§ä¿¡é—®æˆ‘ï¼šâ€œVå“¥ï¼Œç°åœ¨è¿™è¡Œæƒ…å·å¾—è·Ÿéº»èŠ±ä¼¼çš„ï¼Œ35å²å±æœºå°±åœ¨çœ¼å‰ï¼Œä½ è¯´å’±ä»¬æITçš„ï¼Œåˆ°äº†2026å¹´è¿˜æœ‰å‡ºè·¯å—ï¼Ÿè¿™æŠ€æœ¯è¿­ä»£å¿«å¾—åƒåç«ç®­ï¼Œæˆ‘åˆ°åº•è¯¥å¾€å“ªè¾¹æŠ¼æ³¨ï¼Ÿâ€</p>
<p>Vå“¥æˆ‘å°±ä¸€å¥è¯ï¼š<strong>ç„¦è™‘ä¸ªå±ï¼æœºä¼šå…¨æ˜¯ç»™æœ‰å‡†å¤‡çš„äººç•™ç€çš„ã€‚</strong></p>
<p>ä½ ä»¬ç°åœ¨çœ‹æ˜¯â€œå¯’å†¬â€ï¼ŒVå“¥æˆ‘çœ‹æ˜¯â€œæ´—ç‰Œâ€ã€‚ç­‰åˆ°2026å¹´ï¼ŒITè¡Œä¸šçš„æ ¼å±€æ—©å°±ç¿»å¤©è¦†åœ°äº†ã€‚é‚£äº›åªä¼šå†™é‡å¤ä»£ç çš„â€œä»£ç æ¬è¿å·¥â€ç¡®å®è¯¥æ…Œï¼Œä½†æ‡‚è¶‹åŠ¿ã€ä¼šå€ŸåŠ›çš„å…„å¼Ÿï¼Œé‚£ä¼šå„¿ç»å¯¹æ˜¯é¦™é¥½é¥½ã€‚</p>
<p>ä»Šå¤©ï¼ŒVå“¥æˆ‘å°±æå¿ƒçªå­åœ°èŠèŠï¼Œ2026å¹´å’±ä»¬è¿™è¡Œçš„å‡ å¤§â€œé£å£â€ã€‚ç‰¹åˆ«æ˜¯æœ€åä¸¤å—å¤§è‚‰ï¼Œå¬è¿›å»äº†ï¼Œä½ ä¸‹åŠå¹´çš„å¹´ç»ˆå¥–å°±ç¨³äº†ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸€ã€ AIæ™ºèƒ½ä½“å¼€å‘ï¼š2026å¹´çš„â€œæ–°ç‰©ç§â€</h2>
<p>å…„å¼Ÿä»¬ï¼Œå…ˆæŠŠâ€œChatGPTâ€è¿™ç§å¯¹è¯æœºå™¨äººæ”¾ä¸€è¾¹ã€‚Vå“¥å‘Šè¯‰ä½ ï¼Œ<strong>2026å¹´æ˜¯AIæ™ºèƒ½ä½“çˆ†å‘çš„ä¸€å¹´ã€‚</strong></p>
<p>å•¥å«æ™ºèƒ½ä½“ï¼Ÿç°åœ¨çš„AIåƒä¸ªåšå­¦çš„ä¹¦å‘†å­ï¼Œä½ é—®å®ƒç­”ã€‚è€Œæ™ºèƒ½ä½“ï¼Œé‚£æ˜¯<strong>å¸¦ç€â€œè„‘å­â€å’Œâ€œæ‰‹è„šâ€çš„æ‰“å·¥äºº</strong>ã€‚å®ƒä¸ä»…èƒ½ç†è§£ä½ çš„æ„å›¾ï¼Œè¿˜èƒ½è‡ªå·±æ‹†è§£ä»»åŠ¡ã€è‡ªå·±å»è°ƒç”¨å·¥å…·ã€è‡ªå·±åæ€çº é”™ï¼Œæœ€åæŠŠæ´»å„¿å¹²å®Œäº†ç»™ä½ äº¤å·®ã€‚</p>
<ul>
<li><strong>ç°åœ¨æ˜¯ï¼š</strong> ä½ å†™ä»£ç ï¼ŒAIå¸®ä½ è¡¥å…¨ä¸€è¡Œã€‚</li>
<li><strong>2026å¹´æ˜¯ï¼š</strong> ä½ è¯´â€œå¸®æˆ‘åšä¸ªç”µå•†åå°â€ï¼Œæ™ºèƒ½ä½“è‡ªå·±å†™ä»£ç ã€è‡ªå·±æµ‹ã€è‡ªå·±éƒ¨ç½²ã€ç”šè‡³è‡ªå·±å†™æ–‡æ¡£ã€‚</li>
</ul>
<p><strong>Vå“¥çš„ç ”åˆ¤ï¼š</strong>
åˆ°äº†2026å¹´ï¼Œä¸ä¼šå¼€å‘æ™ºèƒ½ä½“çš„ç¨‹åºå‘˜ï¼Œå°±åƒ2010å¹´ä¸ä¼šç”¨æ™ºèƒ½æ‰‹æœºçš„äººä¸€æ ·è½ä¼ã€‚ä½ ä¸éœ€è¦è‡ªå·±å»é€ ä¸€ä¸ªå¤§æ¨¡å‹ï¼ˆé‚£æ˜¯å¤§å‚çš„äº‹å„¿ï¼‰ï¼Œä½ éœ€è¦åšçš„æ˜¯<strong>åšä¸­é—´çš„â€œControllerâ€ï¼ˆæ§åˆ¶å™¨ï¼‰</strong>ã€‚æ€ä¹ˆç”¨LangChainï¼ˆæˆ–è€…é‚£æ—¶å€™æ›´ç‰›çš„æ¡†æ¶ï¼‰æŠŠå¤§æ¨¡å‹ä¸²èµ·æ¥ï¼Ÿæ€ä¹ˆç»™æ™ºèƒ½ä½“æŒ‚è½½APIæ¥å£ï¼Ÿæ€ä¹ˆè®¾è®¡å®ƒçš„â€œè®°å¿†â€å’Œâ€œè§„åˆ’â€èƒ½åŠ›ï¼Ÿ</p>
<p>è¿™å—å„¿ç›®å‰è¿˜æ˜¯è“æµ·ï¼Œè°èƒ½ç‡å…ˆæŠŠâ€œæ•°å­—å‘˜å·¥â€æå®šï¼Œè°å°±æ˜¯é‚£ä¸ªçœä¸‹ç™¾ä¸‡äººåŠ›æˆæœ¬çš„è€æ¿çœ¼é‡Œçš„çº¢äººã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bcf1d98b4c8f4d2e89f6ef46aeb247f9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552413&amp;x-signature=USweinompOAVWQ1VxQejXAPBQMs%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-1">äºŒã€ é¸¿è’™å¼€å‘ï¼šå›½äº§æ“ä½œç³»ç»Ÿçš„â€œæˆå¹´ç¤¼â€</h2>
<p>è¿™å—å„¿ï¼ŒVå“¥å¿…é¡»å¾—æ•²é»‘æ¿ï¼è¿™å¯èƒ½æ˜¯æœªæ¥å‡ å¹´é‡Œï¼Œä¸­å›½æ™®é€šç¨‹åºå‘˜æœ€å¤§çš„<strong>çº¢åˆ©æœŸ</strong>ã€‚</p>
<p>åˆ«æ€»ç›¯ç€Androidå’ŒiOSå·äº†ï¼Œé‚£æ˜¯å­˜é‡å¸‚åœºï¼Œæ€å¾—å¤´ç ´è¡€æµã€‚ä½ çœ‹åä¸ºç°åœ¨çš„åŠ¨ä½œï¼Œ<strong>HarmonyOS NEXTï¼ˆçº¯è¡€é¸¿è’™ï¼‰</strong> å·²ç»åˆ‡æ–­äº†å¯¹å®‰å“ä»£ç çš„ä¾èµ–ã€‚è¿™æ„å‘³ä»€ä¹ˆï¼Ÿæ„å‘³ç€è¿™ä¸ä»…ä»…æ˜¯æ¢ä¸ªçš®è‚¤ï¼Œè¿™æ˜¯ä¸€å¥—å…¨æ–°çš„ã€ç‹¬ç«‹çš„ç”Ÿæ€ï¼</p>
<p><strong>Vå“¥çš„é¢„è¨€ï¼š</strong>
åˆ°äº†2026å¹´ï¼Œé¸¿è’™ä¸å†æ˜¯æ‰‹æœºçš„é…è§’ï¼Œè€Œæ˜¯<strong>å…¨åœºæ™¯ï¼ˆæ‰‹æœºã€è½¦æœºã€å®¶ç”µã€å·¥æ§ï¼‰çš„éœ¸ä¸»</strong>ã€‚</p>
<ul>
<li><strong>æŠ€æœ¯æ ˆï¼š</strong> èµ¶ç´§æŠŠArkTSï¼ˆArk TypeScriptï¼‰å­¦ç†Ÿäº†ï¼ŒArkUIè¿™å¥—å£°æ˜å¼å¼€å‘èŒƒå¼éå¸¸é¡ºæ‰‹ã€‚</li>
<li><strong>æœºä¼šåœ¨å“ªï¼Ÿ</strong> ç°åœ¨å¸‚é¢ä¸Šå¤§é‡çš„APPéƒ½éœ€è¦é‡æ„é¸¿è’™åŸç”Ÿç‰ˆã€‚è¿™ä¸­é—´æœ‰ä¸€ä¸ªå·¨å¤§çš„ç¼ºå£ï¼å‰ä¸¤å¹´è¿›å»çš„é‚£æ‰¹äººï¼Œç°åœ¨éƒ½æˆæŠ€æœ¯æ€»ç›‘äº†ã€‚2026å¹´ï¼Œéšç€ä¸‡ç‰©äº’è”çœŸæ­£è½åœ°ï¼Œé¸¿è’™å¼€å‘è€…çš„è–ªèµ„ä¼šæ¯”åŒçº§åˆ«çš„å®‰å“å¼€å‘é«˜å‡ºè‡³å°‘30%ã€‚</li>
</ul>
<p>Vå“¥æˆ‘ä¸€ç›´è¯´ï¼Œ<strong>æŠ€æœ¯è¦è·Ÿç€å›½è¿èµ°</strong>ã€‚é¸¿è’™è¿™æ¡è·¯ï¼Œä¸ä»…æ˜¯å†™ä»£ç ï¼Œæ›´æ˜¯åœ¨å‚ä¸åŸºç¡€è®¾æ–½å»ºè®¾ã€‚è¿™ç¢—é¥­ï¼Œé¦™ï¼</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8158163a6d5145528b9b13ac6d35e2a5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552413&amp;x-signature=8Y6RB2MA98F2ASU8WO1ZEXRtSfg%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-2">ä¸‰ã€ åç«¯å¼€å‘ï¼šå‘Šåˆ«â€œCRUDâ€ï¼Œæ‹¥æŠ±â€œç¼–æ’â€</h2>
<p>å…„å¼Ÿä»¬ï¼Œåˆ«å†ç¬‘è¯å†™Java/Goçš„åç«¯æ¯ç‡¥äº†ã€‚è™½ç„¶ç®€å•çš„å¢åˆ æ”¹æŸ¥ï¼ˆCRUDï¼‰çœŸçš„ä¼šè¢«AIå¹²æ‰ï¼Œä½†<strong>åç«¯çš„é€»è¾‘æ ¸å¿ƒåœ°ä½æ°¸è¿œä¸ä¼šåŠ¨æ‘‡</strong>ã€‚</p>
<p>2026å¹´çš„åç«¯ï¼Œä¸å†æ˜¯å•çº¯çš„å†™æ¥å£ï¼Œè€Œæ˜¯<strong>åšâ€œAIæ—¶ä»£çš„ç®¡å®¶â€</strong>ã€‚</p>
<p>ä»¥å‰ä½ çš„æœåŠ¡æ˜¯ç»™å‰ç«¯APPç”¨çš„ï¼Œ2026å¹´ï¼Œä½ çš„æœåŠ¡å¤§éƒ¨åˆ†æ˜¯ç»™ä¸Šé¢çš„â€œAIæ™ºèƒ½ä½“â€ç”¨çš„ã€‚æ™ºèƒ½ä½“éœ€è¦è°ƒç”¨ä½ çš„æ•°æ®åº“ã€è°ƒç”¨ä½ çš„ä¸šåŠ¡é€»è¾‘ã€‚ä½ çš„æ¥å£è®¾è®¡å¾—æ›´è§„èŒƒã€æ›´åŸå­åŒ–ã€å“åº”æ›´å¿«ã€‚</p>
<p><strong>Vå“¥å»ºè®®ï¼š</strong>
Goè¯­è¨€å’ŒRustä¼šåœ¨åç«¯è¶Šæ¥è¶Šç«ï¼ˆå› ä¸ºæ€§èƒ½å¥½ã€å¹¶å‘å¼ºï¼‰ã€‚è€Œä¸”ï¼Œåç«¯å¾—æ‡‚ç‚¹<strong>äº‘åŸç”Ÿ</strong>ï¼Œå®¹å™¨åŒ–ã€Service Meshï¼ˆæœåŠ¡ç½‘æ ¼ï¼‰è¿™äº›éƒ½æ˜¯æ ‡é…ã€‚ä½ å¾—å­¦ä¼šæ€ä¹ˆæŠŠä¸€ä¸ªåºå¤§çš„ç³»ç»Ÿæ‹†å¾—ç¢ç¢çš„ï¼Œè¿˜èƒ½ç”¨AIæŠŠå®ƒä»¬ç®¡å¾—æœæœå¸–å¸–ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ba591ec95bae4fb68e775efeb0f65fba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552413&amp;x-signature=DIaI%2BJ1DU7pGh1NIq2I7UnaM5EY%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-3">å››ã€ å‰ç«¯å¼€å‘ï¼šä»â€œç”»é¡µé¢â€åˆ°â€œé€ ä½“éªŒâ€</h2>
<p>å‰ç«¯æ­»äº†å—ï¼ŸVå“¥å‘Šè¯‰ä½ ï¼Œå‰ç«¯æ‰åˆšåˆšå¼€å§‹â€œæ€§æ„Ÿâ€èµ·æ¥ã€‚</p>
<p>å†™HTML/CSSè¿™ç§æ´»å„¿ï¼Œ2026å¹´ä¼°è®¡UIè®¾è®¡å¸ˆç›´æ¥è¯´ä¸€å¥è¯ï¼ŒAIå°±ç”Ÿæˆäº†ã€‚é‚£å‰ç«¯å¹²å˜›ï¼Ÿ<strong>å‰ç«¯è´Ÿè´£â€œäº¤äº’çš„çµé­‚â€</strong>ã€‚</p>
<p>éšç€WebGPUçš„æ™®åŠï¼Œæµè§ˆå™¨é‡Œèƒ½è·‘3Då¤§ä½œã€èƒ½è·‘å¤æ‚çš„ç‰©ç†å¼•æ“ã€‚é¸¿è’™çš„ArkUIä¹Ÿæ˜¯è·¨ç«¯çš„å‰ç«¯æŠ€æœ¯ã€‚æœªæ¥çš„å‰ç«¯ï¼Œæ›´å¤šæ˜¯<strong>å›¾å½¢å­¦ã€äººæœºäº¤äº’å’Œ3Då¯è§†åŒ–</strong>ã€‚ä½ æ‰“å¼€ä¸€ä¸ªç½‘é¡µï¼Œä¸å†æ˜¯çœ‹å›¾æ–‡ï¼Œè€Œæ˜¯è¿›å…¥ä¸€ä¸ªè™šæ‹Ÿç©ºé—´ï¼Œè¿™èƒŒåå…¨æ˜¯å‰ç«¯å·¥ç¨‹å¸ˆçš„åŠŸåŠ›ã€‚</p>
<p><strong>Vå“¥ä¸€å¥è¯ï¼š</strong> æ”¾ä¸‹jQueryï¼Œææ·±Three.jsï¼Œæé€React/VueåŸç†ï¼Œå¾€å›¾å½¢å­¦å’Œå…¨æ ˆæ–¹å‘å‘å±•ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32f20db62bf54ff4b0241059a914fd06~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552413&amp;x-signature=11ttf6XDgDjV1otbAXBZgnOYI6A%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-4">äº”ã€ åµŒå…¥å¼å¼€å‘ï¼šè½¯ç¡¬ä»¶ç»“åˆçš„â€œç¡¬æ ¸æµªæ¼«â€</h2>
<p>ä»¥å‰æåµŒå…¥å¼æ„Ÿè§‰æ˜¯â€œä¿®æ”¶éŸ³æœºçš„â€ï¼Œ2026å¹´æåµŒå…¥å¼é‚£æ˜¯â€œé€ æ™ºèƒ½æœºå™¨äººâ€çš„ã€‚</p>
<p>å› ä¸ºä¸Šé¢è¯´çš„<strong>é¸¿è’™</strong>å’Œ<strong>AI</strong>ï¼Œæœ€åéƒ½è¦è½è„šåˆ°ç¡¬ä»¶ä¸Šã€‚æ™ºèƒ½çœ¼é•œã€æ™ºèƒ½å®¶ç”µã€è‡ªåŠ¨é©¾é©¶ï¼Œå“ªä¸ªç¦»å¾—å¼€åµŒå…¥å¼ï¼Ÿ</p>
<p><strong>é‡ç‚¹æ¥äº†ï¼š</strong> åµŒå…¥å¼æœªæ¥ä¼šå’ŒAIæ·±åº¦èåˆï¼Œå«<strong>TinyMLï¼ˆå¾®å‹æœºå™¨å­¦ä¹ ï¼‰</strong>ã€‚åœ¨èŠ¯ç‰‡ä¸Šè·‘å°å‹çš„AIæ¨¡å‹ï¼Œè®©æ‘„åƒå¤´èƒ½è¯†åˆ«äººè„¸ï¼Œè®©ä¼ æ„Ÿå™¨èƒ½å¬æ‡‚å£°éŸ³ã€‚å¦‚æœä½ æ—¢æ‡‚Cè¯­è¨€åº•å±‚ï¼Œåˆæ‡‚ä¸€ç‚¹AIç®—æ³•éƒ¨ç½²ï¼Œä½ æ˜¯å„å¤§ç¡¬ä»¶å‚æŠ¢ç€è¦çš„â€œå›½å®â€ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7547c2a6c8be45c89e4ce5ef087643ea~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552413&amp;x-signature=2pLRkVyQyLI7eckVwDHDdrYiYcU%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-5">å…­ã€ å¤§æ•°æ®å¼€å‘ï¼šä»â€œå­˜æ•°æ®â€åˆ°â€œå–‚AIâ€</h2>
<p>å¤§æ•°æ®æ²¡å‡‰ï¼Œåªæ˜¯æ¢äº†ä¸ªæ´»æ³•ã€‚</p>
<p>å‰å‡ å¹´å¤§å®¶æHadoopã€Sparkï¼Œæ˜¯ä¸ºäº†å­˜æ—¥å¿—ã€åšæŠ¥è¡¨ã€‚2026å¹´ï¼Œæå¤§æ•°æ®ä¸»è¦æ˜¯ä¸ºäº†<strong>ç»™AIå½“â€œé¥²å…»å‘˜â€</strong>ã€‚</p>
<p>AIéœ€è¦é«˜è´¨é‡çš„æ•°æ®æ¸…æ´—ã€å‘é‡åŒ–å¤„ç†ã€‚è¿™å°±æ¶‰åŠåˆ°<strong>å‘é‡æ•°æ®åº“</strong>ã€æ•°æ®æ¹–ã€å®æ—¶è®¡ç®—æµã€‚æ€ä¹ˆæŠŠä¼ä¸šçš„å‡ åäº¿æ¡æ•°æ®ï¼Œå˜æˆAIèƒ½çœ‹æ‡‚çš„â€œçŸ¥è¯†â€ï¼Œè¿™æ˜¯å¤§æ•°æ®å·¥ç¨‹å¸ˆçš„æ–°æ´»å„¿ã€‚ä¸æ‡‚AIçš„æ•°æ®å·¥ç¨‹å¸ˆï¼Œæœªæ¥è·¯ä¼šè¶Šèµ°è¶Šçª„ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a96826a1cb6c418694096d6ce6246af9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aiB5ZOl54ix57yW56iL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552413&amp;x-signature=fhfzp8QxJTZT7IGJvmm6u5RtBJA%3D" alt="" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-6">ä¸ƒã€ AIè¿ç»´ä¸ AIæµ‹è¯•ï¼šæœºå™¨ç®¡æœºå™¨</h2>
<p>æœ€åè¯´è¯´è¿™ä¸¤ä¸ªå®¹æ˜“è¢«å¿½è§†çš„é¢†åŸŸã€‚</p>
<ul>
<li><strong>AIè¿ç»´ï¼š</strong> ä»¥å‰æœåŠ¡å™¨æŠ¥è­¦äº†ï¼Œè¿ç»´å…„å¼ŸåŠå¤œçˆ¬èµ·æ¥çœ‹æ—¥å¿—ã€‚2026å¹´ï¼ŒAIè¿ç»´ç³»ç»Ÿä¼šè‡ªåŠ¨å®šä½æ•…éšœã€è‡ªåŠ¨ä¿®å¤ã€è‡ªåŠ¨æ‰©å®¹ã€‚è¿ç»´å·¥ç¨‹å¸ˆä¸éœ€è¦æ•²é‚£ä¹ˆå¤šå‘½ä»¤äº†ï¼Œè€Œæ˜¯è´Ÿè´£è®­ç»ƒè¿™ä¸ªâ€œè¿ç»´AIâ€ï¼Œåˆ¶å®šç­–ç•¥ã€‚è¿™å«<strong>SREï¼ˆç«™ç‚¹å¯é æ€§å·¥ç¨‹ï¼‰çš„è¿›åŒ–ç‰ˆ</strong>ã€‚</li>
<li><strong>AIæµ‹è¯•ï¼š</strong> æµ‹è¯•ä¸ä»…æ˜¯æ‰¾Bugï¼Œæ›´æ˜¯â€œæ”»é˜²æ¼”ç»ƒâ€ã€‚ç”¨AIå»ç”Ÿæˆå‡ ä¸‡æ¡å˜æ€æµ‹è¯•ç”¨ä¾‹å»è½°ç‚¸ä½ çš„ç³»ç»Ÿï¼Œç”šè‡³ç”¨AIå»å¯¹æŠ—AIç”Ÿæˆçš„ä»£ç ã€‚åªæœ‰AIæ‰èƒ½æµ‹å‡ºAIå†™çš„Bugã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-7">Vå“¥æ€»ç»“ä¸€ä¸‹</h2>
<p>å…„å¼Ÿä»¬ï¼Œ2026å¹´å…¶å®å¹¶ä¸è¿œã€‚</p>
<p>Vå“¥æˆ‘çœ‹äº†ä¸€åœˆï¼Œæœªæ¥çš„è¶‹åŠ¿å°±ä¸¤ä¸ªå­—ï¼š<strong>èåˆ</strong>ã€‚</p>
<ul>
<li><strong>é¸¿è’™</strong>æ˜¯ä¸‡ç‰©äº’è”çš„åº•åº§ï¼Œå¿…é¡»è¦æŠ“ï¼›</li>
<li><strong>AIæ™ºèƒ½ä½“</strong>æ˜¯æå‡æ•ˆç‡çš„ç¥å™¨ï¼Œå¿…é¡»è¦æ‡‚ï¼›</li>
<li>å…¶ä»–æ‰€æœ‰çš„åç«¯ã€å‰ç«¯ã€åµŒå…¥å¼ã€æ•°æ®ï¼Œéƒ½è¦å›´ç»•ç€è¿™ä¸¤è€…å»è¿›åŒ–ã€‚</li>
</ul>
<p>åˆ«å†çº ç»“Javaè¿˜æ˜¯Pythonï¼ŒGoè¿˜æ˜¯Rustäº†ã€‚è¯­è¨€åªæ˜¯å·¥å…·ï¼Œ<strong>è§£å†³é—®é¢˜çš„æ€è·¯æ‰æ˜¯ç‹é“</strong>ã€‚ä»ä»Šå¤©èµ·ï¼Œè¯•ç€ç”¨AIå»å¸®ä½ å¹²æ´»ï¼Œè¯•ç€å»äº†è§£ä¸€ä¸‹é¸¿è’™çš„ArkTSï¼Œè¯•ç€æŠŠä½ çš„å·¥ä½œæµç¨‹â€œæ™ºèƒ½åŒ–â€ã€‚</p>
<p>ç­‰åˆ°äº†2026å¹´ï¼Œå½“åˆ«äººè¿˜åœ¨ä¸ºè£å‘˜ç‘Ÿç‘Ÿå‘æŠ–æ—¶ï¼ŒVå“¥å¸Œæœ›çœ‹åˆ°ä½ å·²ç»ç«™åœ¨é£å£ä¸Šï¼Œç¬‘å‚²æ±Ÿæ¹–ï¼</p>
<p><strong>æˆ‘æ˜¯Vå“¥ï¼Œå¸¦ä½ ä¸ä»…çœ‹æ‡‚æŠ€æœ¯ï¼Œæ›´çœ‹æ‡‚æœªæ¥ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å½“å¤šæ€åœ¨æ„é€ ä¸­â€œå¤±æ•ˆâ€çš„é‚£ä¸€åˆ»]]></title>    <link>https://juejin.cn/post/7593098101431697462</link>    <guid>https://juejin.cn/post/7593098101431697462</guid>    <pubDate>2026-01-09T08:39:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593098101431697462" data-draft-id="7592990758476005395" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å½“å¤šæ€åœ¨æ„é€ ä¸­â€œå¤±æ•ˆâ€çš„é‚£ä¸€åˆ»"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-09T08:39:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç äº‹æ¼«è°ˆ"/> <meta itemprop="url" content="https://juejin.cn/user/1972974802965230"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å½“å¤šæ€åœ¨æ„é€ ä¸­â€œå¤±æ•ˆâ€çš„é‚£ä¸€åˆ»
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1972974802965230/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç äº‹æ¼«è°ˆ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:39:01.000Z" title="Fri Jan 09 2026 08:39:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/317ad1da83d244169a4ac9631aaa961c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg56CB5LqL5ryr6LCI:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768552741&amp;x-signature=sADZiG4NXiKNkiKUXeVvYquMtAA%3D" alt="image.png" loading="lazy"/></p>
<p>å‡Œæ™¨ä¸¤ç‚¹ï¼Œæˆ‘çš„æ‰‹æœºçªç„¶éœ‡åŠ¨èµ·æ¥ã€‚å±å¹•ä¸Šæ˜¾ç¤ºç€åŒäº‹å°å¼ çš„åå­—â€”â€”ä¸€ä½æœ‰ç€äº”å¹´ç»éªŒçš„C++å¼€å‘è€…ã€‚æ¥èµ·ç”µè¯ï¼Œé‚£å¤´ä¼ æ¥ä»–å›°æƒ‘è€Œæ€¥åˆ‡çš„å£°éŸ³ï¼š</p>
<p>â€œæˆ‘åˆšåˆšåœ¨è°ƒè¯•ä¸€ä¸ªå¥‡æ€ªçš„å´©æºƒé—®é¢˜ã€‚åœ¨åŸºç±»çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨äº†ä¸€ä¸ªè™šå‡½æ•°ï¼Œä½†å®ƒæ²¡æœ‰æŒ‰æˆ‘é¢„æœŸçš„é‚£æ ·è°ƒç”¨æ´¾ç”Ÿç±»çš„å®ç°ï¼Œè€Œæ˜¯è°ƒç”¨äº†åŸºç±»è‡ªå·±çš„ç‰ˆæœ¬ï¼è¿™æ€ä¹ˆå¯èƒ½ï¼Ÿè™šå‡½æ•°çš„å¤šæ€æ€§ä¸æ˜¯C++çš„åŸºçŸ³å—ï¼Ÿâ€</p>
<p>ç”µè¯æŒ‚æ–­åï¼Œæˆ‘é™·å…¥äº†æ²‰æ€ã€‚å°å¼ é‡åˆ°çš„é—®é¢˜ï¼Œæ­£æ˜¯C++å¤šæ€æœºåˆ¶ä¸­æœ€å¾®å¦™ã€æœ€å®¹æ˜“è¯¯è§£çš„éƒ¨åˆ†ã€‚è¿™ä¸ªçœ‹ä¼¼ç®€å•çš„ç°è±¡èƒŒåï¼Œéšè—ç€è™šå‡½æ•°æœºåˆ¶çš„å…¨éƒ¨ç§˜å¯†â€”â€”ä»å†…å­˜å¸ƒå±€åˆ°ç”Ÿå‘½å‘¨æœŸï¼Œä»ç¼–è¯‘æ—¶å†³å®šåˆ°è¿è¡Œæ—¶è¡Œä¸ºã€‚</p>
<h2 data-id="heading-0">é—®é¢˜çš„å†°å±±ä¸€è§’</h2>
<p>å°å¼ çš„å›°æƒ‘å¹¶éä¸ªä¾‹ã€‚åœ¨C++çš„ä¸–ç•Œé‡Œï¼Œè™šå‡½æ•°æœºåˆ¶å°±åƒä¸€åº§å†°å±±ï¼š</p>
<p><strong>æ°´é¢ä¹‹ä¸Š</strong>ï¼Œæ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„ï¼šé€šè¿‡åŸºç±»æŒ‡é’ˆè°ƒç”¨æ´¾ç”Ÿç±»æ–¹æ³•ï¼Œå®ç°è¿è¡Œæ—¶å¤šæ€ã€‚</p>
<p><strong>æ°´é¢ä¹‹ä¸‹</strong>ï¼Œåˆ™æ˜¯é”™ç»¼å¤æ‚çš„æœºåˆ¶ï¼šè™šå‡½æ•°æŒ‡é’ˆã€è™šå‡½æ•°è¡¨ã€æ„é€ é¡ºåºã€ææ„æ—¶æœºâ€¦â€¦è¿™äº›æ¦‚å¿µå…±åŒæ„æˆäº†C++å¤šæ€çš„åŸºç¡€è®¾æ–½ã€‚</p>
<p>è®©æˆ‘ä»¬è·Ÿéšå°å¼ çš„è°ƒè¯•è·¯å¾„ï¼Œä¸€æ­¥æ­¥æ­å¼€è™šå‡½æ•°çš„ç¥ç§˜é¢çº±ã€‚</p>
<h2 data-id="heading-1">è™šå‡½æ•°æŒ‡é’ˆçš„è¯ç”Ÿæ—¶åˆ»</h2>
<p>å°å¼ é¦–å…ˆæƒ³çŸ¥é“çš„æ˜¯ï¼š<strong>è™šå‡½æ•°æŒ‡é’ˆå’Œè™šå‡½æ•°è¡¨æ˜¯ä»€ä¹ˆæ—¶å€™åˆå§‹åŒ–çš„ï¼Ÿ</strong></p>
<p>è¿™æ˜¯ä¸€ä¸ªå…³é”®é—®é¢˜ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå½“æˆ‘ä»¬åœ¨å †ä¸Šåˆ›å»ºä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼š</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Base</span>() { 
        <span class="hljs-comment">// æ­¤æ—¶è™šå‡½æ•°æœºåˆ¶å¤„äºä»€ä¹ˆçŠ¶æ€ï¼Ÿ</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> </span>{ cout &lt;&lt; <span class="hljs-string">"Base"</span> &lt;&lt; endl; }
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Derived</span>() : <span class="hljs-built_in">Base</span>() {}
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">show</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{ cout &lt;&lt; <span class="hljs-string">"Derived"</span> &lt;&lt; endl; }
};

Derived* d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Derived</span>();  <span class="hljs-comment">// è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</span>
</code></pre>
<p>åœ¨å¯¹è±¡æ„é€ çš„èˆè¹ˆä¸­ï¼Œç¼–è¯‘å™¨æ˜¯ä¸¥è°¨çš„ç¼–èˆè€…ï¼š</p>
<ol>
<li><strong>åˆ†é…å†…å­˜</strong>ï¼šé¦–å…ˆä¸ºæ•´ä¸ªå¯¹è±¡åˆ†é…è¶³å¤Ÿçš„å†…å­˜ç©ºé—´</li>
<li><strong>è®¾ç½®vptr</strong>ï¼šåœ¨è¿›å…¥æ„é€ å‡½æ•°ä½“<strong>ä¹‹å‰</strong>ï¼Œç¼–è¯‘å™¨æ’å…¥ä»£ç è®¾ç½®å½“å‰ç±»çš„vptr</li>
<li><strong>æ„é€ åŸºç±»</strong>ï¼šè°ƒç”¨åŸºç±»æ„é€ å‡½æ•°ï¼Œæ­¤æ—¶vptræŒ‡å‘åŸºç±»çš„è™šå‡½æ•°è¡¨</li>
<li><strong>æ›´æ–°vptr</strong>ï¼šåŸºç±»æ„é€ å®Œæˆåï¼Œvptrè¢«æ›´æ–°ä¸ºæŒ‡å‘æ´¾ç”Ÿç±»çš„è™šå‡½æ•°è¡¨</li>
<li><strong>æ„é€ æˆå‘˜</strong>ï¼šåˆå§‹åŒ–æ´¾ç”Ÿç±»çš„æ•°æ®æˆå‘˜</li>
<li><strong>æ‰§è¡Œæ„é€ å‡½æ•°ä½“</strong>ï¼šæœ€åæ‰§è¡Œæˆ‘ä»¬åœ¨ä»£ç ä¸­ç¼–å†™çš„æ„é€ å‡½æ•°é€»è¾‘</li>
</ol>
<p>è¿™æ„å‘³ç€åœ¨åŸºç±»æ„é€ å‡½æ•°æ‰§è¡ŒæœŸé—´ï¼Œå¯¹è±¡çš„â€œç±»å‹èº«ä»½â€ä»ç„¶æ˜¯åŸºç±»ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå°å¼ åœ¨åŸºç±»æ„é€ å‡½æ•°ä¸­è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œçœ‹åˆ°çš„æ˜¯åŸºç±»ç‰ˆæœ¬ã€‚</p>
<h2 data-id="heading-2">æ¯ä¸ªå¯¹è±¡éƒ½æœ‰è‡ªå·±çš„è™šå‡½æ•°æŒ‡é’ˆå—ï¼Ÿ</h2>
<p>ç†è§£åˆå§‹åŒ–æ—¶æœºçš„ç­”æ¡ˆåï¼Œå°å¼ è‡ªç„¶æƒ³åˆ°ä¸‹ä¸€ä¸ªé—®é¢˜ï¼š<strong>è™šå‡½æ•°æŒ‡é’ˆæ˜¯æ¯ä¸€ä¸ªå¯¹è±¡ä¸€ä»½å—ï¼Ÿ</strong></p>
<p>æ˜¯çš„ï¼Œä½†æœ‰ä¸€ä¸ªé‡è¦çš„åŒºåˆ†ã€‚æ¯ä¸ªå«æœ‰è™šå‡½æ•°çš„ç±»å¯¹è±¡åœ¨å†…å­˜å¸ƒå±€ä¸­éƒ½æœ‰ä¸€ä¸ªéšè—çš„æˆå‘˜â€”â€”è™šå‡½æ•°æŒ‡é’ˆï¼ˆvptrï¼‰ã€‚è¿™ä¸ªæŒ‡é’ˆæ˜¯å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œéšå¯¹è±¡åˆ›å»ºè€Œåˆ›å»ºï¼Œéšå¯¹è±¡é”€æ¯è€Œé”€æ¯ã€‚</p>
<p>ç„¶è€Œï¼Œæ‰€æœ‰åŒç±»å‹çš„å¯¹è±¡å…±äº«åŒä¸€ä¸ª<strong>è™šå‡½æ•°è¡¨</strong>ï¼ˆvtableï¼‰ã€‚è¿™ä¸ªè¡¨åœ¨ç¼–è¯‘æœŸç”Ÿæˆï¼Œå­˜å‚¨åœ¨ç¨‹åºçš„åªè¯»æ•°æ®æ®µä¸­ï¼ŒåŒ…å«äº†è¯¥ç±»æ‰€æœ‰è™šå‡½æ•°çš„åœ°å€ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp">Derived d1, d2, d3;
<span class="hljs-comment">// d1, d2, d3 å„è‡ªæœ‰è‡ªå·±çš„vptr</span>
<span class="hljs-comment">// ä½†å®ƒä»¬çš„vptréƒ½æŒ‡å‘åŒä¸€ä¸ªDerivedç±»çš„vtable</span>
</code></pre>
<p>è¿™ç§è®¾è®¡å·§å¦™å¹³è¡¡äº†ç©ºé—´æ•ˆç‡å’Œæ—¶é—´æ•ˆç‡ï¼šæ¯ä¸ªå¯¹è±¡åªéœ€ä»˜å‡ºä¸€ä¸ªæŒ‡é’ˆçš„ä»£ä»·ï¼Œå°±èƒ½è·å¾—å®Œæ•´çš„åŠ¨æ€åˆ†æ´¾èƒ½åŠ›ã€‚</p>
<h2 data-id="heading-3">æ´¾ç”Ÿç±»ä¼šç»§æ‰¿è™šå‡½æ•°å—ï¼Ÿ</h2>
<p>å°å¼ ç»§ç»­è¿½é—®ï¼š<strong>æ´¾ç”Ÿç±»ä¼šç»§æ‰¿è™šå‡½æ•°å—ï¼Ÿ</strong></p>
<p>è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆéœ€è¦ç²¾ç¡®è¡¨è¿°ã€‚æ´¾ç”Ÿç±»ç»§æ‰¿çš„æ˜¯è™šå‡½æ•°çš„<strong>æ¥å£</strong>å’Œ<strong>è°ƒç”¨çº¦å®š</strong>ï¼Œä½†ä¸ä¸€å®šç»§æ‰¿å…·ä½“çš„<strong>å®ç°</strong>ã€‚æ´¾ç”Ÿç±»å¯ä»¥é€‰æ‹©ï¼š</p>
<ol>
<li><strong>è¦†ç›–ï¼ˆoverrideï¼‰</strong>ï¼šæä¾›è‡ªå·±çš„å®ç°</li>
<li><strong>ä¸è¦†ç›–</strong>ï¼šéšå¼ç»§æ‰¿åŸºç±»çš„å®ç°</li>
<li><strong>éšè—</strong>ï¼šé€šè¿‡åŒåéè™šå‡½æ•°éšè—åŸºç±»è™šå‡½æ•°ï¼ˆä¸æ¨èï¼‰</li>
</ol>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œæ¯ä¸ªæ´¾ç”Ÿç±»éƒ½æœ‰è‡ªå·±çš„è™šå‡½æ•°è¡¨ã€‚è¿™ä¸ªè¡¨æ˜¯ä»åŸºç±»çš„è™šå‡½æ•°è¡¨â€œæ‰©å±•â€è€Œæ¥â€”â€”å¤åˆ¶åŸºç±»çš„æ¡ç›®ï¼Œç„¶åç”¨æ´¾ç”Ÿç±»çš„è¦†ç›–å®ç°æ›¿æ¢ç›¸åº”çš„æ¡ç›®ã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">speak</span><span class="hljs-params">()</span> </span>= <span class="hljs-number">0</span>;      <span class="hljs-comment">// çº¯è™šå‡½æ•°ï¼Œå¿…é¡»è¢«è¦†ç›–</span>
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">breathe</span><span class="hljs-params">()</span> </span>{ ... } <span class="hljs-comment">// æœ‰é»˜è®¤å®ç°ï¼Œå¯é€‰æ‹©è¦†ç›–</span>
    <span class="hljs-keyword">virtual</span> ~<span class="hljs-built_in">Animal</span>() {}           <span class="hljs-comment">// è™šææ„å‡½æ•°</span>
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> : <span class="hljs-keyword">public</span> Animal {
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">speak</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{ cout &lt;&lt; <span class="hljs-string">"Woof!"</span> &lt;&lt; endl; }  <span class="hljs-comment">// å¿…é¡»å®ç°</span>
    <span class="hljs-comment">// breathe()ä½¿ç”¨ç»§æ‰¿çš„Animalç‰ˆæœ¬</span>
    <span class="hljs-comment">// ææ„å‡½æ•°è‡ªåŠ¨æˆä¸ºè™šå‡½æ•°</span>
};
</code></pre>
<h2 data-id="heading-4">æ´¾ç”Ÿç±»ä¼šç»§æ‰¿åŸºç±»çš„è™šå‡½æ•°æŒ‡é’ˆå—ï¼Ÿ</h2>
<p>ç†è§£äº†ç»§æ‰¿å…³ç³»åï¼Œå°å¼ æå‡ºäº†ä¸€ä¸ªç²¾å¦™çš„é—®é¢˜ï¼š<strong>æ´¾ç”Ÿç±»ä¼šç»§æ‰¿åŸºç±»çš„è™šå‡½æ•°æŒ‡é’ˆå—ï¼Ÿ</strong></p>
<p>ç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œè¿™ä¸€ç‚¹è‡³å…³é‡è¦ã€‚æ´¾ç”Ÿç±»<strong>ä¸ä¼š</strong>ç»§æ‰¿åŸºç±»çš„vptrã€‚ç›¸åï¼š</p>
<ol>
<li>å½“åˆ›å»ºæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç¡®ä¿å¯¹è±¡ä¸­åŒ…å«ä¸€ä¸ªvptr</li>
<li>è¿™ä¸ªvptråœ¨æ„é€ è¿‡ç¨‹ä¸­ä¼šå˜åŒ–ï¼šå…ˆæŒ‡å‘åŸºç±»çš„vtableï¼Œç„¶åæŒ‡å‘æ´¾ç”Ÿç±»çš„vtable</li>
<li>å¦‚æœå­˜åœ¨å¤šå±‚ç»§æ‰¿ï¼Œæ¯ä¸ªå®Œæ•´çš„å¯¹è±¡ä»ç„¶åªæœ‰ä¸€ä¸ªvptrï¼ˆåœ¨å•ç»§æ‰¿æƒ…å†µä¸‹ï¼‰</li>
</ol>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">A</span> { <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">f</span><span class="hljs-params">()</span> </span>{} };
<span class="hljs-keyword">class</span> <span class="hljs-title class_">B</span> : <span class="hljs-keyword">public</span> A { <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">g</span><span class="hljs-params">()</span> </span>{} };
<span class="hljs-keyword">class</span> <span class="hljs-title class_">C</span> : <span class="hljs-keyword">public</span> B { <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">h</span><span class="hljs-params">()</span> </span>{} };

C obj;
<span class="hljs-comment">// objå†…éƒ¨åªæœ‰ä¸€ä¸ªvptrï¼Œä½†æŒ‡å‘çš„vtableåŒ…å«A::f, B::g, C::hçš„æ¡ç›®</span>
</code></pre>
<p>åœ¨å¤šç»§æ‰¿çš„æƒ…å†µä¸‹ï¼Œæƒ…å†µæ›´å¤æ‚ï¼šå¯¹è±¡å¯èƒ½åŒ…å«å¤šä¸ªvptrï¼Œæ¯ä¸ªå¯¹åº”ä¸€ä¸ªå«æœ‰è™šå‡½æ•°çš„åŸºç±»ã€‚</p>
<h2 data-id="heading-5">è™šå‡½æ•°æŒ‡é’ˆå±äºç±»è¿˜æ˜¯å±äºå¯¹è±¡ï¼Ÿ</h2>
<p>å°å¼ çš„é—®é¢˜è¶Šæ¥è¶Šæ·±å…¥ï¼š<strong>è™šå‡½æ•°æŒ‡é’ˆå±äºç±»è¿˜æ˜¯å±äºå¯¹è±¡ï¼Ÿ</strong></p>
<p>è¿™æ˜¯ç†è§£æ•´ä¸ªæœºåˆ¶çš„æ ¸å¿ƒã€‚æˆ‘ä»¬éœ€è¦æ˜ç¡®åŒºåˆ†ï¼š</p>
<p><strong>è™šå‡½æ•°æŒ‡é’ˆï¼ˆvptrï¼‰å±äºå¯¹è±¡</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ªå¯¹è±¡å®ä¾‹éƒ½æœ‰è‡ªå·±çš„vptr</li>
<li>vptrçš„å€¼åœ¨å¯¹è±¡ç”Ÿå‘½å‘¨æœŸå†…å¯èƒ½æ”¹å˜ï¼ˆæ„é€ /ææ„æ—¶ï¼‰</li>
<li>vptræ˜¯å¯¹è±¡çš„â€œèº«ä»½æ ‡è¯†â€ï¼Œå†³å®šäº†è¿è¡Œæ—¶ç±»å‹</li>
</ul>
<p><strong>è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰å±äºç±»</strong>ï¼š</p>
<ul>
<li>æ¯ä¸ªç±»åªæœ‰ä¸€ä¸ªvtableï¼Œè¢«è¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡å…±äº«</li>
<li>vtableåœ¨ç¼–è¯‘æœŸç”Ÿæˆï¼Œå­˜åœ¨äºç¨‹åºçš„æ•°æ®æ®µ</li>
<li>vtableçš„å†…å®¹åœ¨è¿è¡Œæ—¶ä¸å˜</li>
</ul>
<p>è¿™ç§åˆ†ç¦»è®¾è®¡æ˜¯C++é™æ€ç±»å‹ç³»ç»Ÿå’ŒåŠ¨æ€å¤šæ€çš„æ¡¥æ¢ã€‚ç¼–è¯‘å™¨é€šè¿‡vtableåœ¨ç¼–è¯‘æœŸå»ºç«‹å‡½æ•°æ˜ å°„ï¼Œè¿è¡Œæ—¶é€šè¿‡vptré€‰æ‹©æ­£ç¡®çš„å‡½æ•°å®ç°ã€‚</p>
<h2 data-id="heading-6">ä¸ºä»€ä¹ˆæ„é€ /ææ„æœŸé—´è™šå‡½æ•°è¡Œä¸ºå—é™ï¼Ÿ</h2>
<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å›ç­”å°å¼ æœ€åˆçš„é—®é¢˜äº†ï¼š<strong>ä¸ºä»€ä¹ˆåœ¨æ„é€ /ææ„æœŸé—´è™šå‡½æ•°çš„å¤šæ€è¡Œä¸ºå—é™ï¼Ÿ</strong></p>
<p>è¿™èƒŒåæœ‰ä¸‰ä¸ªä¸»è¦åŸå› ï¼š</p>
<h3 data-id="heading-7">1. ç±»å‹å®‰å…¨çš„ä¿æŠ¤å±éšœ</h3>
<p>åœ¨å¯¹è±¡æ„é€ è¿‡ç¨‹ä¸­ï¼Œå¯¹è±¡å¤„äºâ€œæ­£åœ¨æ„å»ºâ€çš„çŠ¶æ€ã€‚å¦‚æœå…è®¸åœ¨åŸºç±»æ„é€ å‡½æ•°ä¸­è°ƒç”¨æ´¾ç”Ÿç±»çš„è™šå‡½æ•°ï¼Œå¯èƒ½ä¼šè®¿é—®å°šæœªåˆå§‹åŒ–çš„æ´¾ç”Ÿç±»æˆå‘˜ï¼Œå¯¼è‡´æœªå®šä¹‰è¡Œä¸ºã€‚</p>
<pre><code class="hljs language-cpp" lang="cpp"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Base</span> {
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Base</span>() { 
        <span class="hljs-built_in">log</span>();  <span class="hljs-comment">// å®‰å…¨ï¼šè°ƒç”¨Base::log()</span>
    }
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-type">void</span> <span class="hljs-title">log</span><span class="hljs-params">()</span> </span>{ <span class="hljs-comment">/* è®°å½•åŸºç±»ä¿¡æ¯ */</span> }
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">Derived</span> : <span class="hljs-keyword">public</span> Base {
    Data* data;  <span class="hljs-comment">// æ´¾ç”Ÿç±»ç‰¹æœ‰æˆå‘˜</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-built_in">Derived</span>() : <span class="hljs-built_in">Base</span>(), <span class="hljs-built_in">data</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Data</span>()) {}
    <span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">log</span><span class="hljs-params">()</span> <span class="hljs-keyword">override</span> </span>{ 
        data-&gt;<span class="hljs-built_in">process</span>();  <span class="hljs-comment">// å±é™©ï¼æ­¤æ—¶dataå¯èƒ½å°šæœªåˆå§‹åŒ–</span>
    }
};
</code></pre>
<h3 data-id="heading-8">2. å¯¹è±¡çŠ¶æ€çš„æ¼”å˜è¿‡ç¨‹</h3>
<p>æ„é€ æ˜¯ä»åŸºç±»åˆ°æ´¾ç”Ÿç±»çš„â€œè‡ªä¸‹è€Œä¸Šâ€è¿‡ç¨‹ï¼Œææ„æ˜¯â€œè‡ªä¸Šè€Œä¸‹â€çš„é€†è¿‡ç¨‹ã€‚åœ¨è¿™ä¸¤ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¯¹è±¡çš„ç±»å‹èº«ä»½æ˜¯åŠ¨æ€å˜åŒ–çš„ï¼š</p>
<ul>
<li>æ„é€ æ—¶ï¼šBase â†’ Derivedï¼ˆvpträ»Baseçš„vtableå˜ä¸ºDerivedçš„vtableï¼‰</li>
<li>ææ„æ—¶ï¼šDerived â†’ Baseï¼ˆvpträ»Derivedçš„vtableå˜å›Baseçš„vtableï¼‰</li>
</ul>
<p>è¿™ç§å˜åŒ–ç¡®ä¿äº†åœ¨ä»»ä½•æ—¶åˆ»ï¼Œå¯¹è±¡çš„å½“å‰â€œæœ‰æ•ˆç±»å‹â€ä¸å·²æ„é€ çš„éƒ¨åˆ†ç›¸åŒ¹é…ã€‚</p>
<h3 data-id="heading-9">3. C++æ ‡å‡†çš„æ˜ç¡®è§„å®š</h3>
<p>C++æ ‡å‡†æ˜ç¡®è§„å®šäº†è¿™ä¸€è¡Œä¸ºï¼ˆISO/IEC 14882:2020 Â§15.7ï¼‰ï¼š</p>
<blockquote>
<p>â€œå½“ä»æ„é€ å‡½æ•°æˆ–ææ„å‡½æ•°ç›´æ¥æˆ–é—´æ¥è°ƒç”¨è™šå‡½æ•°æ—¶ï¼Œè¢«è°ƒç”¨çš„å‡½æ•°æ˜¯æ„é€ å‡½æ•°æˆ–ææ„å‡½æ•°æ‰€åœ¨ç±»çš„ç‰ˆæœ¬ï¼Œè€Œä¸æ˜¯åœ¨æ´¾ç”Ÿç±»ä¸­è¦†ç›–çš„ç‰ˆæœ¬ã€‚â€</p>
</blockquote>
<p>è¿™ä¸æ˜¯ç¼–è¯‘å™¨çš„bugæˆ–é™åˆ¶ï¼Œè€Œæ˜¯ç»è¿‡æ·±æ€ç†Ÿè™‘çš„è¯­è¨€è®¾è®¡é€‰æ‹©ï¼Œæ—¨åœ¨æä¾›ç¡®å®šæ€§å’Œç±»å‹å®‰å…¨ã€‚</p>
<h2 data-id="heading-10">ä»å›°æƒ‘åˆ°ç†è§£</h2>
<p>å›é¡¾å°å¼ çš„è°ƒè¯•ä¹‹æ—…ï¼Œä»–ä»ä¸€ä¸ªå…·ä½“çš„å´©æºƒç°è±¡å‡ºå‘ï¼Œé€šè¿‡å±‚å±‚è¿½é—®ï¼Œæœ€ç»ˆç†è§£äº†C++å¤šæ€æœºåˆ¶çš„å®Œæ•´å›¾æ™¯ï¼š</p>
<ol>
<li><strong>æ—¶æœºé—®é¢˜</strong> â†’ ç†è§£æ„é€ /ææ„çš„é¡ºåºå’Œvptrçš„åˆå§‹åŒ–</li>
<li><strong>æ•°é‡é—®é¢˜</strong> â†’ åŒºåˆ†vptrï¼ˆæ¯ä¸ªå¯¹è±¡ï¼‰å’Œvtableï¼ˆæ¯ä¸ªç±»ï¼‰</li>
<li><strong>ç»§æ‰¿é—®é¢˜</strong> â†’ ç†æ¸…æ¥å£ç»§æ‰¿å’Œå®ç°è¦†ç›–çš„å…³ç³»</li>
<li><strong>å…³ç³»é—®é¢˜</strong> â†’ æ˜ç¡®æ´¾ç”Ÿç±»ä¸ç»§æ‰¿åŸºç±»vptr</li>
<li><strong>æ‰€æœ‰æƒé—®é¢˜</strong> â†’ åŒºåˆ†å¯¹è±¡çº§å’Œç±»çº§çš„ä¸åŒè´£ä»»</li>
<li><strong>è¡Œä¸ºé—®é¢˜</strong> â†’ ç†è§£ç±»å‹å®‰å…¨å’Œå¯¹è±¡çŠ¶æ€æ¼”å˜çš„å¿…è¦æ€§</li>
</ol>
<p>è¿™å…­ä¸ªé—®é¢˜æ°å¥½æ„æˆäº†ç†è§£C++è™šå‡½æ•°æœºåˆ¶çš„å®Œæ•´è®¤çŸ¥é“¾æ¡ã€‚æ¯ä¸ªé—®é¢˜éƒ½åƒæ‹¼å›¾çš„ä¸€å—ï¼Œæœ€ç»ˆæ‹¼å‡ºäº†å®Œæ•´çš„ç”»é¢ã€‚</p>
<h2 data-id="heading-11">å®‰å…¨ä½¿ç”¨è™šå‡½æ•°çš„å‡†åˆ™</h2>
<p>åŸºäºè¿™äº›ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥æ€»ç»“å‡ºä¸€äº›æœ€ä½³å®è·µï¼š</p>
<ol>
<li><strong>é¿å…åœ¨æ„é€ /ææ„ä¸­è°ƒç”¨è™šå‡½æ•°</strong>ï¼šå¦‚æœå¿…é¡»è°ƒç”¨ï¼Œç¡®ä¿ç†è§£å…¶é™åˆ¶</li>
<li><strong>ä½¿ç”¨éè™šæ¥å£ï¼ˆNVIï¼‰æ¨¡å¼</strong>ï¼šå°†è™šå‡½æ•°è®¾ä¸ºprivateï¼Œé€šè¿‡publicéè™šå‡½æ•°è°ƒç”¨</li>
<li><strong>æ€»æ˜¯å£°æ˜è™šææ„å‡½æ•°</strong>ï¼šåœ¨å¤šæ€åŸºç±»ä¸­ï¼Œé¿å…èµ„æºæ³„æ¼</li>
<li><strong>ç†è§£å¯¹è±¡åˆ‡ç‰‡</strong>ï¼šæŒ‰å€¼ä¼ é€’å¤šæ€å¯¹è±¡æ—¶ä¼šä¸¢å¤±è™šå‡½æ•°ç‰¹æ€§</li>
<li><strong>è°¨æ…ä½¿ç”¨dynamic_cast</strong>ï¼šç†è§£RTTIçš„ä»£ä»·å’Œé€‚ç”¨åœºæ™¯</li>
</ol>
<h2 data-id="heading-12">æœ€å</h2>
<p>è™šå‡½æ•°æœºåˆ¶çš„é™åˆ¶ä¸æ˜¯C++çš„ç¼ºé™·ï¼Œè€Œæ˜¯å…¶å“²å­¦ç†å¿µçš„ä½“ç°ï¼šèµ‹äºˆç¨‹åºå‘˜æœ€å¤§è‡ªç”±çš„åŒæ—¶ï¼Œé€šè¿‡ç¼–è¯‘æœŸæ£€æŸ¥å’Œè¿è¡Œæ—¶ä¿æŠ¤é˜²æ­¢å¸¸è§é”™è¯¯ã€‚å®ƒå¹³è¡¡äº†æ•ˆç‡ä¸å®‰å…¨ã€çµæ´»æ€§ä¸ç¡®å®šæ€§ã€æŠ½è±¡èƒ½åŠ›ä¸å…·ä½“æ§åˆ¶ã€‚</p>
<p>ä¸‹æ¬¡å½“ä½ åœ¨æ„é€ å‡½æ•°ä¸­æ„å¤–å‘ç°è™šå‡½æ•°æ²¡æœ‰æŒ‰é¢„æœŸå·¥ä½œæ—¶ï¼Œä¸è¦æ„Ÿåˆ°å›°æƒ‘æˆ–æ²®ä¸§ã€‚è¿™æ­£æ˜¯C++åœ¨é»˜é»˜å®ˆæŠ¤ä½ ï¼Œé˜²æ­¢ä½ è¸å…¥æœªåˆå§‹åŒ–æ•°æ®çš„å±é™©é¢†åŸŸã€‚ç†è§£è¿™äº›æœºåˆ¶ï¼Œä½ å°±èƒ½æ›´å¥½åœ°é©¾é©­è¿™é—¨å¼ºå¤§è€Œå¤æ‚çš„è¯­è¨€ï¼Œå†™å‡ºæ—¢é«˜æ•ˆåˆå®‰å…¨çš„ä»£ç ã€‚</p>
<p>è™šå‡½æ•°çš„æ•…äº‹å‘Šè¯‰æˆ‘ä»¬ï¼šåœ¨ç¼–ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™é™åˆ¶ä¸æ˜¯æŸç¼šï¼Œè€Œæ˜¯ä¿æŠ¤ï¼›ä¸æ˜¯bugï¼Œè€Œæ˜¯featureã€‚çœŸæ­£çš„æŒæ¡æ¥è‡ªäºç†è§£â€œä¸ºä»€ä¹ˆâ€è€Œä¸ä»…ä»…æ˜¯â€œæ€ä¹ˆæ ·â€ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ooder SkillFlowï¼šç ´è§£ AI ç¼–ç¨‹å†²å‡»ï¼Œé‡æ„ä¼ä¸šçº§å¼€å‘å…¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7593139476839923718</link>    <guid>https://juejin.cn/post/7593139476839923718</guid>    <pubDate>2026-01-09T08:37:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593139476839923718" data-draft-id="7593139476839907334" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ooder SkillFlowï¼šç ´è§£ AI ç¼–ç¨‹å†²å‡»ï¼Œé‡æ„ä¼ä¸šçº§å¼€å‘å…¨æµç¨‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T08:37:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="OneCodeCN"/> <meta itemprop="url" content="https://juejin.cn/user/1427583415622366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ooder SkillFlowï¼šç ´è§£ AI ç¼–ç¨‹å†²å‡»ï¼Œé‡æ„ä¼ä¸šçº§å¼€å‘å…¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1427583415622366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    OneCodeCN
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:37:02.000Z" title="Fri Jan 09 2026 08:37:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»14åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨AIç¼–ç¨‹å·¥å…·æ™®åŠçš„å½“ä¸‹ï¼Œè½¯ä»¶ä¼ä¸šæ­£é¢ä¸´åŒé‡å›°å¢ƒï¼šä¸€æ–¹é¢ï¼ŒAIç”Ÿæˆèƒ½åŠ›ç¢ç‰‡åŒ–ï¼Œä»£ç ã€æµ‹è¯•ã€ä¼˜åŒ–å·¥å…·å„è‡ªä¸ºæˆ˜ï¼Œéš¾ä»¥å½¢æˆååŒåˆåŠ›ï¼›å¦ä¸€æ–¹é¢ï¼Œä¼ ç»Ÿå¼€å‘æµç¨‹çš„è·¨è§’è‰²åä½œå£å’ã€æµç¨‹èŠ‚ç‚¹å‰²è£‚ã€èƒ½åŠ›å¤ç”¨éš¾ç­‰é—®é¢˜è¢«æ”¾å¤§ï¼Œå¯¼è‡´å¼€å‘å‘¨æœŸå†—é•¿ã€è¿­ä»£æ•ˆç‡ä½ä¸‹ï¼ŒAIå·¥å…·çš„æ½œåŠ›éš¾ä»¥å……åˆ†é‡Šæ”¾ã€‚</p>
<p>åŸºäºAgentSkillæ¨¡å‹çš„SkillFlowï¼Œä»¥â€œæ™ºèƒ½ç¼–æ’+è‡ªåŠ¨æ‰§è¡Œ+äººæœºååŒâ€ä¸ºæ ¸å¿ƒè§£å†³æ–¹æ¡ˆï¼Œå½»åº•é‡æ„ä¼ä¸šçº§å¼€å‘æµç¨‹ï¼šå®ƒä»¥Skillï¼ˆæœ€å°å¼€å‘èƒ½åŠ›å•å…ƒï¼‰ä¸ºæ ¸å¿ƒï¼Œé€šè¿‡MCPç»Ÿä¸€ç®¡æ§ã€Agenté©±åŠ¨æµè½¬ã€A2UIç²¾å‡†è¡¥ä½ï¼Œå°†â€œéœ€æ±‚å®šä¹‰-ä»£ç ç”Ÿæˆ-æµ‹è¯•ä¼˜åŒ–-äº¤ä»˜å‘å¸ƒâ€ä¸²è”æˆæ— ç¼è¡”æ¥çš„æ™ºèƒ½æµç¨‹ï¼Œæ—¢æ‰¿æ¥AIç¼–ç¨‹çš„é«˜æ•ˆèƒ½åŠ›ï¼Œåˆè§£å†³ä¼ ç»Ÿæµç¨‹çš„ååŒç—›ç‚¹ï¼Œå®ç°å¼€å‘å…¨é“¾è·¯çš„æ ‡å‡†åŒ–ã€é«˜æ•ˆåŒ–ä¸å¯å¤ç”¨ã€‚</p>
<p>ä»¥ä¸‹ç»“åˆOoderæ¡†æ¶çš„8æ­¥ç¼–ç æµç¨‹ï¼Œé‡æ„ä¸ºSkillFlowä¸ºä¸­å¿ƒçš„ä¼ä¸šçº§AIå¼€å‘æµç¨‹ï¼Œçªå‡ºå…¶è‡ªåŠ¨åŒ–ç¼–æ’ã€æ³¨è§£é©±åŠ¨å¤ç”¨ã€äººæœºååŒçš„æ ¸å¿ƒä¼˜åŠ¿ï¼Œé€‚é…ä¼ä¸šçº§å¤§è§„æ¨¡å¼€å‘éœ€æ±‚ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒå®šä½ï¼šSkillFlowâ€”â€”è´¯ç©¿å¼€å‘å…¨æµç¨‹çš„æ™ºèƒ½ç¼–æ’ä¸­æ¢</h2>
<p>SkillFlowå¹¶éå­¤ç«‹çš„æµç¨‹ç¯èŠ‚ï¼Œè€Œæ˜¯æ·±åº¦èå…¥å¼€å‘å…¨é“¾è·¯çš„â€œæ™ºèƒ½å¤§è„‘â€ï¼Œæ ¸å¿ƒä»·å€¼åœ¨äºâ€œè®©å¼€å‘èƒ½åŠ›æŒ‰ä¸šåŠ¡é€»è¾‘æµç•…æµè½¬â€ï¼Œå®ç°AIèƒ½åŠ›ä¸äººå·¥å†³ç­–çš„ç²¾å‡†ååŒï¼š</p>
<ul>
<li>åœºæ™¯åŒ–ä¸Šä¸‹æ–‡ç®¡æ§ï¼šä»¥â€œè½¯ä»¶å¼€å‘åœºæ™¯ï¼ˆSOFTWARE_DEVELOPMENTï¼‰â€ä¸ºæ ¸å¿ƒï¼ŒMCPæ„å»ºä¸“å±Contextï¼ˆDEV_CONTEXTï¼‰ï¼Œç»Ÿä¸€å­˜å‚¨éœ€æ±‚æ–‡æ¡£ã€ä»£ç ç‰ˆæœ¬ã€è§’è‰²æƒé™ã€æ¶æ„è§„èŒƒç­‰å…¨æµç¨‹æ•°æ®ï¼Œç¡®ä¿AIå·¥å…·ä¸äººå·¥æ“ä½œçš„æ•°æ®ä¸€è‡´æ€§ï¼›</li>
<li>è‡ªåŠ¨åŒ–æµç¨‹é©±åŠ¨ï¼šAgentä½œä¸ºâ€œå¼€å‘æµç¨‹æ‰§è¡Œå™¨â€ï¼Œé©±åŠ¨å„ç¯èŠ‚Skillè‡ªåŠ¨åŒ–æ‰§è¡Œï¼ˆå¦‚AIä»£ç ç”Ÿæˆã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€æ™ºèƒ½ä¼˜åŒ–ï¼‰ï¼Œé€šè¿‡Routeè§„åˆ™ç²¾å‡†æ§åˆ¶æµè½¬è·¯å¾„ï¼ˆå¦‚â€œå…ƒæ•°æ®å®šä¹‰â†’ä»£ç ç¼–å†™â†’è‡ªåŠ¨åŒ–æµ‹è¯•â†’äººå·¥è¯„å®¡â†’æ€§èƒ½ä¼˜åŒ–â€ï¼‰ï¼Œæ— éœ€äººå·¥æ‰‹åŠ¨è¡”æ¥ï¼›</li>
<li>ç²¾å‡†äººæœºååŒï¼šA2UIä½œä¸ºâ€œäººæœºååŒæ¥å£â€ï¼Œä»…åœ¨æ ¸å¿ƒå†³ç­–ç¯èŠ‚ï¼ˆå¦‚æ¶æ„ç¡®è®¤ã€è´¨é‡è¯„å®¡ï¼‰æ¥å…¥äººå·¥ï¼Œä¸”é€šè¿‡RightEngineç²¾å‡†ç®¡æ§è§’è‰²æƒé™ï¼ˆå¦‚æ¶æ„å¸ˆè´Ÿè´£æ¶æ„å®¡æ ¸ã€å¼€å‘äººå‘˜è´Ÿè´£ä»£ç æ ¡éªŒï¼‰ï¼Œé¿å…å†—ä½™å¹²é¢„ï¼›</li>
<li>å¯å¤ç”¨èƒ½åŠ›åŸå­ï¼šSkillä½œä¸ºâ€œå¼€å‘èƒ½åŠ›æœ€å°å•å…ƒâ€ï¼Œè¦†ç›–â€œå…ƒæ•°æ®ç”Ÿæˆã€ä»£ç ç¼–å†™ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€æ€§èƒ½ä¼˜åŒ–â€ç­‰å…¨æµç¨‹èƒ½åŠ›ï¼Œæ”¯æŒæ³¨è§£é©±åŠ¨å®šä¹‰ï¼Œå¯è·¨é¡¹ç›®ã€è·¨åœºæ™¯å¤ç”¨ã€‚</li>
</ul>
<p>ç®€å•æ¥è¯´ï¼šä¼ ç»Ÿå¼€å‘æµç¨‹æ˜¯â€œç¯èŠ‚å­¤ç«‹ã€äººå·¥è¡”æ¥ã€AIå·¥å…·ç¢ç‰‡åŒ–â€ï¼ŒSkillFlowæµç¨‹æ˜¯â€œèƒ½åŠ›ä¸²è”ã€è‡ªåŠ¨æµè½¬ã€AI+äººå·¥ç²¾å‡†ååŒâ€ï¼Œé€šè¿‡æ ‡å‡†åŒ–ç¼–æ’è®©å¼€å‘æ•ˆç‡æå‡50%ä»¥ä¸Šï¼ŒåŒæ—¶ä¿éšœä»£ç è´¨é‡ä¸åˆè§„æ€§ã€‚</p>
<h2 data-id="heading-1">äºŒã€SkillFlowé©±åŠ¨çš„8æ­¥å¼€å‘æµç¨‹ï¼ˆAI+äººå·¥ååŒé—­ç¯ï¼‰</h2>
<h3 data-id="heading-2">æ­¥éª¤1ï¼šå…ƒæ•°æ®å®šä¹‰SkillFlowâ€”â€”AIè‡ªåŠ¨ç”Ÿæˆ+å®æ—¶éªŒè¯</h3>
<p>ç›®æ ‡ï¼šå¿«é€Ÿç”Ÿæˆæ ‡å‡†åŒ–å…ƒæ•°æ®ï¼Œå¥ å®šå¼€å‘åŸºç¡€ï¼Œé€šè¿‡AIè‡ªåŠ¨åŒ–ç”Ÿæˆ+å¼€å‘äººå‘˜å®æ—¶éªŒè¯ï¼Œç¡®ä¿å…ƒæ•°æ®ç¬¦åˆä¼ä¸šæ¶æ„è§„èŒƒï¼Œæ›¿ä»£ä¼ ç»Ÿâ€œå…ƒæ•°æ®æ–¹æ¡ˆåå¤æ²Ÿé€šâ€ã€‚</p>
<h4 data-id="heading-3">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šåˆå§‹åŒ–â€œè½¯ä»¶å¼€å‘åœºæ™¯ï¼ˆSOFTWARE_DEVELOPMENTï¼‰â€å’Œâ€œå¼€å‘æµç¨‹ä¸Šä¸‹æ–‡ï¼ˆDEV_CONTEXTï¼‰â€ï¼Œå­˜å‚¨é¡¹ç›®æ¶æ„è§„èŒƒã€æ¨¡å—åˆ’åˆ†ã€å‘½åè§„åˆ™ç­‰åŸºç¡€ä¿¡æ¯ï¼›</li>
<li>Agentï¼šå…ƒæ•°æ®ç”ŸæˆAgentï¼ˆå¤ç”¨ActivityBlockï¼Œæ— çŠ¶æ€è®¾è®¡ï¼ŒèŠ‚çœèµ„æºï¼‰ï¼Œè´Ÿè´£è°ƒç”¨ç›¸å…³Skillå¹¶æ§åˆ¶æµè½¬ï¼›</li>
<li>Skillï¼šMetadataGenerateSkillï¼ˆæ³¨è§£é©±åŠ¨ï¼Œç»‘å®šè½¯ä»¶å¼€å‘åœºæ™¯ï¼‰ï¼Œç”±å¤§æ¨¡å‹é©±åŠ¨ï¼Œæ ¹æ®MCPä¸­çš„æ¶æ„è§„èŒƒï¼Œè‡ªåŠ¨ç”Ÿæˆè§†å›¾å…ƒæ•°æ®ã€æ¨¡å—å…³è”å…³ç³»ä»£ç ï¼›</li>
<li>A2UIï¼šå…ƒæ•°æ®éªŒè¯A2UIï¼Œå¼€å‘äººå‘˜é€šè¿‡å¯è§†åŒ–ç•Œé¢å®æ—¶æ ¡éªŒå…ƒæ•°æ®ä¸æ¨¡å—çš„æ˜ å°„å…³ç³»ï¼Œåé¦ˆç»“æœç›´æ¥å†™å…¥Contextã€‚</li>
</ul>
<h4 data-id="heading-4">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>é¡¹ç›®ç®¡ç†äººå‘˜é€šè¿‡MCPæäº¤éœ€æ±‚ï¼ˆå¦‚â€œç”µå•†ç³»ç»Ÿè®¢å•æ¨¡å—å…ƒæ•°æ®å®šä¹‰â€ï¼‰ï¼Œæ˜ç¡®æ¨¡å—è¾¹ç•Œå’Œæ¶æ„è¦æ±‚ï¼›</li>
<li>MCPè§¦å‘å…ƒæ•°æ®ç”ŸæˆAgentï¼Œè°ƒç”¨MetadataGenerateSkillï¼ˆæ³¨è§£å®šä¹‰å¦‚ä¸‹ï¼‰ï¼Œå¤§æ¨¡å‹åŸºäºContextä¸­çš„è§„èŒƒè‡ªåŠ¨ç”Ÿæˆå…ƒæ•°æ®ä»£ç ï¼›</li>
<li>å¼€å‘äººå‘˜é€šè¿‡A2UIå¯è§†åŒ–ç•Œé¢æŸ¥çœ‹ç”Ÿæˆç»“æœï¼Œç¡®è®¤å…ƒæ•°æ®ä¸æ¨¡å—åŒ¹é…æ— è¯¯åï¼Œç‚¹å‡»â€œéªŒè¯é€šè¿‡â€ï¼Œç»“æœåŒæ­¥è‡³MCPï¼›è‹¥éœ€ä¿®æ”¹ï¼Œç›´æ¥åœ¨ç•Œé¢æäº¤è°ƒæ•´éœ€æ±‚ï¼ŒAgentè§¦å‘Skillé‡æ–°ç”Ÿæˆï¼Œæ— éœ€åå¤æäº¤æ–‡æ¡£ã€‚</li>
</ol>
<h4 data-id="heading-5">ç¤ºä¾‹ï¼šå…ƒæ•°æ®å®šä¹‰Skillæ³¨è§£ï¼ˆå¯ç›´æ¥å¤ç”¨ï¼‰</h4>
<pre><code class="hljs language-ini" lang="ini">@SkillAnnotation(
    <span class="hljs-attr">name</span> = <span class="hljs-string">"MetadataGenerateSkill"</span>,
    <span class="hljs-attr">description</span> = <span class="hljs-string">"è½¯ä»¶å¼€å‘åœºæ™¯å…ƒæ•°æ®ç”ŸæˆSkill"</span>,
    <span class="hljs-attr">scenes</span> = {Scene.SOFTWARE_DEVELOPMENT},
    <span class="hljs-attr">contexts</span> = {Context.DEV_CONTEXT},
    <span class="hljs-attr">version</span> = <span class="hljs-string">"1.0"</span>,
    <span class="hljs-attr">isCore</span> = <span class="hljs-literal">true</span>
)
public class MetadataGenerateSkillImpl implements MetadataGenerateSkill {
    @ContextAnnotation(<span class="hljs-attr">value</span> = Context.DEV_CONTEXT, required = <span class="hljs-literal">true</span>)
    private DevContext devContext<span class="hljs-comment">;</span>
    
    @Override
    public MetadataResult generate(MetadataRequest request) {
        // å¤§æ¨¡å‹é©±åŠ¨ï¼Œæ ¹æ®devContextä¸­çš„æ¶æ„è§„èŒƒç”Ÿæˆå…ƒæ•°æ®ä»£ç 
        String <span class="hljs-attr">metadataCode</span> = llmClient.generateMetadata(request, devContext.getArchitectureSpec())<span class="hljs-comment">;</span>
        return new MetadataResult(metadataCode, devContext.getModuleMapping())<span class="hljs-comment">;</span>
    }
}
</code></pre>
<p>å¤åˆ¶</p>
<h3 data-id="heading-6">æ­¥éª¤2ï¼šé’©å­APIåˆ›å»ºSkillFlowâ€”â€”AIæ ‡å‡†åŒ–ç”Ÿæˆ+è‡ªåŠ¨ç»‘å®š</h3>
<p>ç›®æ ‡ï¼šç”Ÿæˆç¬¦åˆä¼ä¸šå®‰å…¨è§„èŒƒçš„é’©å­APIï¼Œè‡ªåŠ¨ç»‘å®šè§†å›¾ä¸URLï¼Œæ„å»ºé¡¹ç›®ç›®å½•ç»“æ„ï¼Œæ— éœ€äººå·¥æ‰‹åŠ¨é…ç½®ï¼Œé¿å…APIè®¾è®¡ä¸ç»Ÿä¸€ã€å®‰å…¨æ¼æ´ç­‰é—®é¢˜ã€‚</p>
<h4 data-id="heading-7">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šåœ¨DEV_CONTEXTä¸­è¡¥å……APIè®¾è®¡è§„èŒƒã€å®‰å…¨è¦æ±‚ï¼ˆå¦‚é˜²æ³¨å…¥ã€æƒé™æ ¡éªŒï¼‰ã€é¡¹ç›®ç›®å½•æ¨¡æ¿ç­‰ä¿¡æ¯ï¼›</li>
<li>Agentï¼šAPIç”ŸæˆAgentï¼Œå¹¶è¡Œè°ƒç”¨â€œé’©å­APIç”ŸæˆSkillâ€å’Œâ€œé¡¹ç›®ç›®å½•æ„å»ºSkillâ€ï¼Œæå‡æ‰§è¡Œæ•ˆç‡ï¼›</li>
<li>Skillï¼šHookApiGenerateSkillï¼ˆå¤§æ¨¡å‹é©±åŠ¨ï¼Œç”Ÿæˆæ ‡å‡†åŒ–APIä»£ç ï¼‰ã€ProjectStructureSkillï¼ˆè”åŠ¨RADå·¥å…·ï¼Œè‡ªåŠ¨æ„å»ºé¡¹ç›®ç›®å½•ï¼‰ï¼›</li>
<li>A2UIï¼šAPIæ ¡éªŒA2UIï¼Œæ¶æ„å¸ˆé€šè¿‡ç•Œé¢å®¡æ ¸APIçš„å…¼å®¹æ€§ã€å®‰å…¨æ€§ï¼Œç¡®è®¤åè§¦å‘RADå›¾å½¢ç¼–è¯‘ã€‚</li>
</ul>
<h4 data-id="heading-8">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>Agentæ¥æ”¶MCPæŒ‡ä»¤ï¼Œå¹¶è¡Œè°ƒç”¨HookApiGenerateSkillå’ŒProjectStructureSkillï¼Œé¿å…ä¸²è¡Œç­‰å¾…ï¼›</li>
<li>HookApiGenerateSkillæ ¹æ®Contextä¸­çš„å®‰å…¨è§„èŒƒï¼Œè‡ªåŠ¨ç”Ÿæˆå«é˜²æ³¨å…¥ã€æƒé™æ ¡éªŒçš„é’©å­APIä»£ç ï¼Œæ— éœ€äººå·¥ç¼–å†™é‡å¤é€»è¾‘ï¼›</li>
<li>ProjectStructureSkillè”åŠ¨RADå·¥å…·ï¼ŒæŒ‰ä¼ä¸šæ ‡å‡†æ¨¡æ¿è‡ªåŠ¨æ„å»ºç›®å½•å’Œèœå•ï¼Œç¡®ä¿é¡¹ç›®ç»“æ„ç»Ÿä¸€ï¼›</li>
<li>æ¶æ„å¸ˆé€šè¿‡A2UIå¿«é€Ÿå®¡æ ¸APIä»£ç ï¼Œç¡®è®¤æ— è¯¯åSkillFlowè‡ªåŠ¨æµè½¬è‡³åŸå‹è®¾è®¡é˜¶æ®µï¼Œæ— éœ€äººå·¥æäº¤æµè½¬ç”³è¯·ã€‚</li>
</ol>
<h3 data-id="heading-9">æ­¥éª¤3ï¼šåŸå‹è®¾è®¡SkillFlowâ€”â€”AIå¯è§†åŒ–ç”Ÿæˆ+éœ€æ±‚å®æ—¶äº¤äº’</h3>
<p>ç›®æ ‡ï¼šå¿«é€Ÿæ„å»ºé«˜ä¿çœŸåŸå‹ï¼ŒåŒæ­¥æ”¶é›†å®¢æˆ·ã€ä¸šåŠ¡äººå‘˜åé¦ˆï¼Œç¡®ä¿éœ€æ±‚ç²¾å‡†è½åœ°ï¼Œå‡å°‘åç»­è¿”å·¥ã€‚</p>
<h4 data-id="heading-10">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šå­˜å‚¨éœ€æ±‚æ–‡æ¡£ã€å®¢æˆ·åé¦ˆè®°å½•ã€UIè®¾è®¡è§„èŒƒç­‰æ•°æ®ï¼›</li>
<li>Agentï¼šåŸå‹è®¾è®¡Agentï¼Œè°ƒç”¨â€œåŸå‹ç”ŸæˆSkillâ€ï¼Œè”åŠ¨A2UIå®ç°éœ€æ±‚å®æ—¶äº¤äº’ï¼›</li>
<li>Skillï¼šPrototypeGenerateSkillï¼ˆå¤§æ¨¡å‹é©±åŠ¨ï¼Œæ ¹æ®éœ€æ±‚ç”ŸæˆReact/Flutteré€‚é…çš„å¯è§†åŒ–åŸå‹ï¼‰ï¼›</li>
<li>A2UIï¼šåŸå‹äº¤äº’A2UIï¼Œä¸šåŠ¡äººå‘˜ã€å®¢æˆ·é€šè¿‡ç•Œé¢æŸ¥çœ‹åŸå‹ã€åœ¨çº¿æ ‡æ³¨ä¿®æ”¹æ„è§ï¼Œåé¦ˆæ•°æ®å®æ—¶å†™å…¥Contextã€‚</li>
</ul>
<h4 data-id="heading-11">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>ä¸šåŠ¡äººå‘˜é€šè¿‡MCPæäº¤éœ€æ±‚ç»†èŠ‚ï¼ˆå¦‚â€œè®¢å•æ”¯ä»˜é¡µé¢åŸå‹è¦æ±‚ï¼šç®€æ´ã€æ”¯æŒå¤šç§æ”¯ä»˜æ–¹å¼â€ï¼‰ï¼›</li>
<li>Agentè°ƒç”¨PrototypeGenerateSkillï¼Œ10åˆ†é’Ÿå†…ç”Ÿæˆé«˜ä¿çœŸåŸå‹è®¾è®¡ç¨¿ï¼Œæ”¯æŒå®æ—¶é¢„è§ˆï¼›</li>
<li>å®¢æˆ·é€šè¿‡A2UIæŸ¥çœ‹åŸå‹ï¼Œåœ¨çº¿æ ‡æ³¨ä¿®æ”¹æ„è§ï¼ˆå¦‚â€œæŒ‰é’®ä½ç½®è°ƒæ•´â€â€œå¢åŠ ä¼˜æƒ åˆ¸å…¥å£â€ï¼‰ï¼Œåé¦ˆè‡ªåŠ¨åŒæ­¥è‡³MCPï¼›</li>
<li>Agentæ ¹æ®åé¦ˆè§¦å‘Skillè¿­ä»£åŸå‹ï¼Œç›´è‡³éœ€æ±‚ç¡®è®¤ï¼Œè‡ªåŠ¨æµè½¬è‡³ä»“å‚¨å±‚å¼€å‘ï¼Œæ— éœ€äººå·¥æ±‡æ€»åé¦ˆã€é‡æ–°å‘èµ·è®¾è®¡ã€‚</li>
</ol>
<h3 data-id="heading-12">æ­¥éª¤4ï¼šä»“å‚¨å±‚å¼€å‘SkillFlowâ€”â€”AIè‡ªåŠ¨åŒ–ç¼–ç +å•å…ƒæµ‹è¯•</h3>
<p>ç›®æ ‡ï¼šç”Ÿæˆé«˜è´¨é‡ä»“å‚¨å±‚ä»£ç ï¼Œé€šè¿‡è‡ªåŠ¨åŒ–æµ‹è¯•ç¡®ä¿æ•°æ®è®¿é—®é€»è¾‘åˆè§„ã€æ— Bugï¼Œå‡å°‘äººå·¥ç¼–ç å’Œæµ‹è¯•æˆæœ¬ã€‚</p>
<h4 data-id="heading-13">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šåœ¨DEV_CONTEXTä¸­å­˜å‚¨æ•°æ®æºä¿¡æ¯ã€æ•°æ®è®¿é—®è§„èŒƒã€æµ‹è¯•ç”¨ä¾‹æ¨¡æ¿ï¼›</li>
<li>Agentï¼šä»“å‚¨å±‚å¼€å‘Agentï¼Œè°ƒç”¨â€œä»“å‚¨å±‚ä»£ç ç”ŸæˆSkillâ€å’Œâ€œå•å…ƒæµ‹è¯•Skillâ€ï¼›</li>
<li>Skillï¼šRepositoryCodeSkillï¼ˆå¤§æ¨¡å‹é©±åŠ¨ï¼Œç”ŸæˆDAOå±‚ã€æœåŠ¡å®ç°ä»£ç ï¼‰ã€UnitTestSkillï¼ˆè‡ªåŠ¨åŒ–ç”Ÿæˆå•æµ‹ç”¨ä¾‹å¹¶æ‰§è¡Œï¼‰ï¼›</li>
<li>A2UIï¼šä»£ç è¯„å®¡A2UIï¼Œå¼€å‘äººå‘˜æŸ¥çœ‹AIç”Ÿæˆçš„ä»£ç å’Œæµ‹è¯•æŠ¥å‘Šï¼Œç¡®è®¤åæµè½¬è‡³å±‚é—´æ•´åˆã€‚</li>
</ul>
<h4 data-id="heading-14">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>Agentè§¦å‘RepositoryCodeSkillï¼ŒåŸºäºContextä¸­çš„æ•°æ®æºä¿¡æ¯ï¼ˆå¦‚æ•°æ®åº“ç±»å‹ã€è¡¨ç»“æ„ï¼‰ç”Ÿæˆæ ‡å‡†åŒ–ä»“å‚¨å±‚ä»£ç ï¼Œç¬¦åˆä¼ä¸šç¼–ç è§„èŒƒï¼›</li>
<li>è‡ªåŠ¨è°ƒç”¨UnitTestSkillï¼Œç”Ÿæˆå•æµ‹ç”¨ä¾‹å¹¶æ‰§è¡Œï¼Œè¾“å‡ºæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Šï¼ˆè¦æ±‚â‰¥80%ï¼‰ï¼Œè‡ªåŠ¨æ ‡è®°æœªè¦†ç›–åœºæ™¯ï¼›</li>
<li>å¼€å‘äººå‘˜é€šè¿‡A2UIæŸ¥çœ‹ä»£ç å’Œæµ‹è¯•æŠ¥å‘Šï¼Œèšç„¦æ ¸å¿ƒä¸šåŠ¡é€»è¾‘è¯„å®¡ï¼Œç¡®è®¤æ— é—®é¢˜åSkillFlowè‡ªåŠ¨æµè½¬è‡³ä¸‹ä¸€æ­¥ï¼›è‹¥æµ‹è¯•ä¸é€šè¿‡ï¼ŒAgentè§¦å‘Skillè‡ªåŠ¨ä¿®å¤ä»£ç ï¼Œæ— éœ€äººå·¥é‡æ–°ç¼–å†™ã€‚</li>
</ol>
<h3 data-id="heading-15">æ­¥éª¤5ï¼šå±‚é—´æ•´åˆSkillFlowâ€”â€”AIè‡ªåŠ¨åŒ–æ•´åˆ+ä¾èµ–æ ¡éªŒ</h3>
<p>ç›®æ ‡ï¼šè‡ªåŠ¨æ•´åˆè§†å›¾å±‚ã€èšåˆå±‚ã€ä»“å‚¨å±‚ä»£ç ï¼Œç¡®ä¿å„å±‚ä¾èµ–å…³ç³»æ¸…æ™°ã€æ— å†²çªï¼Œæ›¿ä»£ä¼ ç»Ÿâ€œäººå·¥æ•´åˆã€åå¤æ’é”™â€ã€‚</p>
<h4 data-id="heading-16">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šå­˜å‚¨å„å±‚ä»£ç ç‰ˆæœ¬ã€ä¾èµ–å…³ç³»æ¸…å•ã€æ•´åˆè§„èŒƒï¼›</li>
<li>Agentï¼šå±‚é—´æ•´åˆAgentï¼Œè°ƒç”¨â€œå±‚é—´æ•´åˆSkillâ€å’Œâ€œä¾èµ–æ ¡éªŒSkillâ€ï¼›</li>
<li>Skillï¼šLayerIntegrationSkillï¼ˆè‡ªåŠ¨æ•´åˆå„å±‚ä»£ç ï¼Œå¤„ç†ä¾èµ–æ³¨å…¥ï¼‰ã€DependencyCheckSkillï¼ˆæ ¡éªŒä¾èµ–å†²çªã€ç‰ˆæœ¬å…¼å®¹ï¼‰ï¼›</li>
<li>A2UIï¼šæ•´åˆéªŒè¯A2UIï¼Œå¼€å‘äººå‘˜äººå·¥éªŒè¯å±‚é—´ç»‘å®šå…³ç³»å’ŒåŠŸèƒ½å®Œæ•´æ€§ã€‚</li>
</ul>
<h4 data-id="heading-17">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>Agentè°ƒç”¨LayerIntegrationSkillï¼Œè‡ªåŠ¨æ•´åˆå„å±‚ä»£ç ï¼Œç”Ÿæˆç»Ÿä¸€é…ç½®æ–‡ä»¶ï¼Œå¤„ç†ä¾èµ–æ³¨å…¥ã€æ¥å£è°ƒç”¨ç­‰é—®é¢˜ï¼›</li>
<li>DependencyCheckSkillè‡ªåŠ¨æ ¡éªŒä¾èµ–å†²çªï¼ˆå¦‚JaråŒ…ç‰ˆæœ¬ä¸å…¼å®¹ï¼‰ï¼Œè¾“å‡ºå†²çªæŠ¥å‘Šå¹¶è‡ªåŠ¨ä¿®å¤å¸¸è§„é—®é¢˜ï¼ˆå¦‚ç‰ˆæœ¬é€‚é…ï¼‰ï¼›</li>
<li>å¼€å‘äººå‘˜é€šè¿‡A2UIéªŒè¯æ•´åˆåçš„æ ¸å¿ƒåŠŸèƒ½ç‚¹ï¼ˆå¦‚æ•°æ®æµè½¬æ˜¯å¦æ­£å¸¸ï¼‰ï¼Œç¡®è®¤æ— è¯¯åæµè½¬è‡³é¡µé¢åŠŸèƒ½å•æµ‹ï¼Œæ— éœ€äººå·¥é€è¡Œæ’æŸ¥ä¾èµ–é—®é¢˜ã€‚</li>
</ol>
<h3 data-id="heading-18">æ­¥éª¤6ï¼šé¡µé¢åŠŸèƒ½å•æµ‹SkillFlowâ€”â€”AIæ‰¹é‡è‡ªåŠ¨åŒ–æµ‹è¯•</h3>
<p>ç›®æ ‡ï¼šæ‰¹é‡è¦†ç›–æ‰€æœ‰é¡µé¢åŠŸèƒ½ï¼Œç¡®ä¿äº¤äº’é€»è¾‘å®Œæ•´ã€æ— å¼‚å¸¸ï¼Œæ›¿ä»£ä¼ ç»Ÿâ€œäººå·¥ç¼–å†™æµ‹è¯•è„šæœ¬ã€é€é¡µé¢æµ‹è¯•â€ã€‚</p>
<h4 data-id="heading-19">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šå­˜å‚¨é¡µé¢åŠŸèƒ½æ¸…å•ã€æµ‹è¯•è§„èŒƒï¼ˆå¦‚äº¤äº’é€»è¾‘è¦æ±‚ã€å¼‚å¸¸åœºæ™¯å®šä¹‰ï¼‰ï¼›</li>
<li>Agentï¼šè‡ªåŠ¨åŒ–æµ‹è¯•Agentï¼Œè°ƒç”¨â€œé¡µé¢å•æµ‹Skillâ€ï¼Œæ”¯æŒæ‰¹é‡æ‰§è¡Œï¼›</li>
<li>Skillï¼šPageTestSkillï¼ˆå¤§æ¨¡å‹é©±åŠ¨ï¼Œæ‰¹é‡ç”Ÿæˆæµ‹è¯•è„šæœ¬ï¼Œæ‰§è¡Œé¡µé¢å®Œæ•´æ€§ã€äº¤äº’é€»è¾‘æµ‹è¯•ï¼‰ï¼›</li>
<li>A2UIï¼šæµ‹è¯•ç»“æœè¯„å®¡A2UIï¼Œå¼€å‘äººå‘˜æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Šï¼Œå¤„ç†å¼‚å¸¸é—®é¢˜ã€‚</li>
</ul>
<h4 data-id="heading-20">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>Agentè§¦å‘PageTestSkillï¼Œæ‰¹é‡å¯¹æ‰€æœ‰é¡µé¢æ‰§è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼ˆå¦‚æŒ‰é’®ç‚¹å‡»ã€è¡¨å•æäº¤ã€æ•°æ®å±•ç¤ºã€å¼‚å¸¸åœºæ™¯æ¨¡æ‹Ÿï¼‰ï¼›</li>
<li>æµ‹è¯•å®Œæˆåï¼Œè‡ªåŠ¨ç”ŸæˆåŒ…å«â€œé€šè¿‡ç”¨ä¾‹ã€å¤±è´¥ç”¨ä¾‹ã€å¼‚å¸¸æ—¥å¿—â€çš„æµ‹è¯•æŠ¥å‘Šï¼Œå†™å…¥Contextï¼Œæ¸…æ™°æ ‡è®°é—®é¢˜ä½ç½®ï¼›</li>
<li>å¼€å‘äººå‘˜é€šè¿‡A2UIæŸ¥çœ‹æŠ¥å‘Šï¼Œé’ˆå¯¹æ€§ä¿®å¤å¤±è´¥ç”¨ä¾‹ï¼Œä¿®å¤å®Œæˆåä¸€é”®é‡æ–°è§¦å‘æµ‹è¯•ï¼Œç›´è‡³å…¨éƒ¨é€šè¿‡ï¼Œæ— éœ€äººå·¥é‡å¤æ‰§è¡Œæµ‹è¯•ã€‚</li>
</ol>
<h3 data-id="heading-21">æ­¥éª¤7ï¼šèšåˆå±‚ä¼˜åŒ–SkillFlowâ€”â€”AIæ™ºèƒ½ä¼˜åŒ–+æ€§èƒ½æµ‹è¯•</h3>
<p>ç›®æ ‡ï¼šæå‡èšåˆå±‚æ€§èƒ½ï¼Œæ»¡è¶³ä¼ä¸šçº§é«˜å¹¶å‘ã€å¤§æ•°æ®é‡å¤„ç†éœ€æ±‚ï¼Œé¿å…ä¸Šçº¿åå‡ºç°æ€§èƒ½ç“¶é¢ˆã€‚</p>
<h4 data-id="heading-22">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šå­˜å‚¨æ€§èƒ½æŒ‡æ ‡è¦æ±‚ï¼ˆå¦‚å“åº”æ—¶é—´â‰¤2ç§’ã€å¹¶å‘æ”¯æŒ1000+ç”¨æˆ·ï¼‰ã€é«˜å¹¶å‘åœºæ™¯é…ç½®ï¼›</li>
<li>Agentï¼šæ€§èƒ½ä¼˜åŒ–Agentï¼Œè°ƒç”¨â€œèšåˆå±‚ä¼˜åŒ–Skillâ€å’Œâ€œæ€§èƒ½æµ‹è¯•Skillâ€ï¼›</li>
<li>Skillï¼šAggLayerOptimizeSkillï¼ˆå¤§æ¨¡å‹è¾“å‡ºä¼˜åŒ–æ–¹æ¡ˆï¼Œè‡ªåŠ¨è°ƒæ•´ä»£ç ï¼‰ã€PerformanceTestSkillï¼ˆæ¨¡æ‹Ÿé«˜å¹¶å‘åœºæ™¯ï¼Œæµ‹è¯•ä¼˜åŒ–æ•ˆæœï¼‰ï¼›</li>
<li>A2UIï¼šä¼˜åŒ–ç»“æœç¡®è®¤A2UIï¼Œå¼€å‘äººå‘˜å®¡æ ¸ä¼˜åŒ–æ–¹æ¡ˆå’Œæ€§èƒ½æŠ¥å‘Šã€‚</li>
</ul>
<h4 data-id="heading-23">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>Agentè°ƒç”¨AggLayerOptimizeSkillï¼Œå¤§æ¨¡å‹åŸºäºContextä¸­çš„æ€§èƒ½è¦æ±‚ï¼Œè‡ªåŠ¨è¾“å‡ºä¼˜åŒ–æ–¹æ¡ˆï¼ˆå¦‚ç¼“å­˜ç­–ç•¥è°ƒæ•´ã€SQLä¼˜åŒ–ã€ç®—æ³•ä¼˜åŒ–ï¼‰å¹¶æ‰§è¡Œä»£ç ä¿®æ”¹ï¼›</li>
<li>PerformanceTestSkillæ¨¡æ‹Ÿé«˜å¹¶å‘åœºæ™¯ï¼ˆå¦‚1000ç”¨æˆ·åŒæ—¶è®¿é—®ã€å¤§æ•°æ®é‡æŸ¥è¯¢ï¼‰ï¼Œæµ‹è¯•ä¼˜åŒ–å‰åçš„å“åº”æ—¶é—´ã€ååé‡ã€èµ„æºå ç”¨æƒ…å†µï¼›</li>
<li>å¼€å‘äººå‘˜é€šè¿‡A2UIæŸ¥çœ‹ä¼˜åŒ–æ•ˆæœæŠ¥å‘Šï¼Œç¡®è®¤æ»¡è¶³æ€§èƒ½è¦æ±‚åï¼Œæµè½¬è‡³äº¤ä»˜å‘å¸ƒï¼›è‹¥æœªè¾¾æ ‡ï¼ŒAgentè§¦å‘Skillå†æ¬¡ä¼˜åŒ–ï¼Œç›´è‡³ç¬¦åˆæ ‡å‡†ã€‚</li>
</ol>
<h3 data-id="heading-24">æ­¥éª¤8ï¼šäº¤ä»˜å‘å¸ƒSkillFlowâ€”â€”AIè‡ªåŠ¨åŒ–å½’æ¡£+èµ„æºæ¸…ç†</h3>
<p>ç›®æ ‡ï¼šå®Œæˆä»£ç å‘å¸ƒã€æ–‡æ¡£å½’æ¡£ã€å†—ä½™èµ„æºæ¸…ç†ï¼Œç¡®ä¿äº¤ä»˜åˆè§„ã€ç¯å¢ƒæ•´æ´ï¼Œé™ä½è¿ç»´æˆæœ¬ã€‚</p>
<h4 data-id="heading-25">SkillFlowæµè½¬é€»è¾‘</h4>
<ul>
<li>MCPï¼šå­˜å‚¨å‘å¸ƒç¯å¢ƒé…ç½®ï¼ˆå¦‚æœåŠ¡å™¨åœ°å€ã€éƒ¨ç½²è§„åˆ™ï¼‰ã€æ–‡æ¡£å½’æ¡£è¦æ±‚ï¼›</li>
<li>Agentï¼šäº¤ä»˜å‘å¸ƒAgentï¼Œè°ƒç”¨â€œæ–‡æ¡£å½’æ¡£Skillâ€å’Œâ€œèµ„æºæ¸…ç†Skillâ€ï¼›</li>
<li>Skillï¼šDocumentArchiveSkillï¼ˆè‡ªåŠ¨å½’æ¡£éœ€æ±‚æ–‡æ¡£ã€æµ‹è¯•æŠ¥å‘Šã€ä»£ç ç‰ˆæœ¬ã€ä¼˜åŒ–æ–¹æ¡ˆï¼‰ã€ResourceCleanSkillï¼ˆæ¸…ç†å¤§æ¨¡å‹ä¸Šä¸‹æ–‡ã€å†—ä½™æµ‹è¯•æ•°æ®ã€ä¸´æ—¶æ–‡ä»¶ï¼‰ï¼›</li>
<li>A2UIï¼šå‘å¸ƒç¡®è®¤A2UIï¼Œè¿ç»´äººå‘˜å®¡æ ¸å‘å¸ƒé…ç½®ï¼Œè§¦å‘å‘å¸ƒæµç¨‹ã€‚</li>
</ul>
<h4 data-id="heading-26">æ‰§è¡Œæµç¨‹</h4>
<ol>
<li>Agentè°ƒç”¨DocumentArchiveSkillï¼ŒæŒ‰ä¼ä¸šè§„èŒƒè‡ªåŠ¨å½’æ¡£æ‰€æœ‰äº¤ä»˜ç‰©ï¼Œç”Ÿæˆäº¤ä»˜æ¸…å•ï¼Œæ”¯æŒåç»­è¿½æº¯ï¼›</li>
<li>ResourceCleanSkillè‡ªåŠ¨æ¸…ç†é¡¹ç›®ç›¸å…³çš„å†—ä½™èµ„æºï¼ˆå¦‚æµ‹è¯•æ•°æ®ã€ä¸´æ—¶æ–‡ä»¶ã€å¤§æ¨¡å‹ç¼“å­˜ï¼‰ï¼Œé‡Šæ”¾æœåŠ¡å™¨å†…å­˜ï¼›</li>
<li>è¿ç»´äººå‘˜é€šè¿‡A2UIç¡®è®¤å‘å¸ƒç¯å¢ƒé…ç½®ï¼ˆå¦‚ç›®æ ‡æœåŠ¡å™¨ã€ç‰ˆæœ¬å·ï¼‰ï¼Œç‚¹å‡»â€œå‘å¸ƒâ€ï¼Œç³»ç»Ÿè‡ªåŠ¨éƒ¨ç½²ä»£ç ï¼›</li>
<li>å‘å¸ƒå®Œæˆåï¼ŒMCPæ›´æ–°æµç¨‹çŠ¶æ€ä¸ºâ€œå·²äº¤ä»˜â€ï¼ŒSkillFlowé—­ç¯ï¼Œå…¨ç¨‹æ— éœ€äººå·¥æ‰‹åŠ¨å½’æ¡£ã€æ¸…ç†ã€‚</li>
</ol>
<h2 data-id="heading-27">ä¸‰ã€SkillFlowé©±åŠ¨å¼€å‘æµç¨‹çš„æ ¸å¿ƒä¼˜åŠ¿</h2>
<h3 data-id="heading-28">1. è‡ªåŠ¨åŒ–æµè½¬ï¼Œæ•ˆç‡å€å¢</h3>
<ul>
<li>80%çš„é‡å¤æ€§å·¥ä½œï¼ˆä»£ç ç”Ÿæˆã€æµ‹è¯•ã€æ•´åˆã€å½’æ¡£ï¼‰ç”±Skillè‡ªåŠ¨åŒ–æ‰§è¡Œï¼Œäººå·¥ä»…èšç„¦æ ¸å¿ƒå†³ç­–ï¼ˆå¦‚æ¶æ„å®¡æ ¸ã€å¼‚å¸¸å¤„ç†ï¼‰ï¼Œå‡å°‘æ— æ•ˆåŠ³åŠ¨ï¼›</li>
<li>å„ç¯èŠ‚é€šè¿‡Agentå’ŒRouteè§„åˆ™å®æ—¶æµè½¬ï¼Œæ— éœ€äººå·¥æäº¤æµè½¬ç”³è¯·ã€æ±‡æ€»æ•°æ®ï¼Œå¼€å‘å‘¨æœŸç¼©çŸ­30%ä»¥ä¸Šï¼Œå°å‹é¡¹ç›®äº¤ä»˜å‘¨æœŸä»å‘¨çº§å‹ç¼©è‡³æ—¥çº§ã€‚</li>
</ul>
<h3 data-id="heading-29">2. æ³¨è§£é©±åŠ¨ï¼Œèƒ½åŠ›å¤ç”¨</h3>
<ul>
<li>æ‰€æœ‰Skillé€šè¿‡@SkillAnnotationç»‘å®šè½¯ä»¶å¼€å‘åœºæ™¯å’Œä¸Šä¸‹æ–‡ï¼Œæ”¯æŒè·¨é¡¹ç›®ã€è·¨å›¢é˜Ÿå¤ç”¨ï¼ˆå¦‚MetadataGenerateSkillå¯ç›´æ¥ç”¨äºç”µå•†ã€é‡‘èã€æ”¿åŠ¡ç­‰ä¸åŒç³»ç»Ÿï¼‰ï¼›</li>
<li>ä»£ç ä¸é…ç½®ä¸€ä½“åŒ–ï¼Œæ–°å¢å¼€å‘èƒ½åŠ›åªéœ€æ–°å¢Skillå¹¶æ·»åŠ æ³¨è§£ï¼Œæ— éœ€ä¿®æ”¹æ ¸å¿ƒæµç¨‹ï¼Œæ‰©å±•æ€§æå¼ºï¼Œæ–°ä¸šåŠ¡åœºæ™¯è½åœ°æ•ˆç‡æå‡60%ã€‚</li>
</ul>
<h3 data-id="heading-30">3. äººæœºååŒï¼Œç²¾å‡†é«˜æ•ˆ</h3>
<ul>
<li>A2UIä»…åœ¨æ ¸å¿ƒå†³ç­–ç¯èŠ‚æ¥å…¥äººå·¥ï¼Œé¿å…å†—ä½™å¹²é¢„ï¼ŒåŒæ—¶é€šè¿‡RightEngineç®¡æ§è§’è‰²æƒé™ï¼Œç¡®ä¿â€œè°è´Ÿè´£ã€è°å®¡æ‰¹â€ï¼Œé¿å…è§’è‰²è¶Šæƒï¼›</li>
<li>äººå·¥åé¦ˆå®æ—¶å†™å…¥Contextï¼ŒAgentå³æ—¶è§¦å‘åç»­æµç¨‹ï¼ˆå¦‚åé¦ˆä¿®æ”¹æ„è§â†’AIè‡ªåŠ¨è¿­ä»£ï¼‰ï¼Œæ— ç­‰å¾…å»¶è¿Ÿï¼ŒååŒæ•ˆç‡æå‡50%ã€‚</li>
</ul>
<h3 data-id="heading-31">4. å…¨æµç¨‹å¯è¿½æº¯ï¼Œåˆè§„æ€§æ‹‰æ»¡</h3>
<ul>
<li>MCPç»Ÿä¸€ç®¡ç†Contextï¼Œå­˜å‚¨å…¨æµç¨‹æ•°æ®ï¼ˆéœ€æ±‚æ–‡æ¡£ã€ä»£ç ç‰ˆæœ¬ã€æµ‹è¯•æŠ¥å‘Šã€äººå·¥åé¦ˆã€ä¼˜åŒ–è®°å½•ï¼‰ï¼›</li>
<li>SkillHistoryã€A2UIHistoryè‡ªåŠ¨è®°å½•å„ç¯èŠ‚æ‰§è¡Œæƒ…å†µï¼ˆå¦‚è°è¯„å®¡ã€ä½•æ—¶é€šè¿‡ã€ä¿®æ”¹å†…å®¹ï¼‰ï¼Œæ”¯æŒå®¡è®¡å’Œå›æº¯ï¼Œå®Œå…¨æ»¡è¶³ä¼ä¸šçº§åˆè§„è¦æ±‚ã€‚</li>
</ul>
<h3 data-id="heading-32">5. è½»é‡åŒ–éƒ¨ç½²ï¼Œèµ„æºå¯æ§</h3>
<ul>
<li>Agenté‡‡ç”¨æ— çŠ¶æ€è®¾è®¡ï¼ˆå¤ç”¨ActivityBlockï¼‰ï¼Œæ— éœ€ç‹¬ç«‹è¿›ç¨‹ï¼Œå…±äº«æœåŠ¡å™¨èµ„æºï¼Œéƒ¨ç½²æˆæœ¬é™ä½40%ï¼›</li>
<li>å¤§æ–‡æœ¬æ•°æ®ï¼ˆå¦‚æµ‹è¯•æŠ¥å‘Šã€ä»£ç æ–‡ä»¶ï¼‰é€šè¿‡VFSå­˜å‚¨ï¼Œä»…åœ¨æ•°æ®åº“ä¿å­˜URLï¼Œå‡è½»æ•°æ®åº“å‹åŠ›ï¼›</li>
<li>æŒ‰éœ€éƒ¨ç½²Skillï¼Œä¸åŒé¡¹ç›®å¯å¤ç”¨æ ¸å¿ƒSkillï¼Œæ— éœ€é‡å¤éƒ¨ç½²ï¼Œèµ„æºåˆ©ç”¨ç‡æå‡30%ã€‚</li>
</ul>
<h2 data-id="heading-33">å››ã€æ€»ç»“</h2>
<p>é¢å¯¹AIç¼–ç¨‹çš„å†²å‡»ä¸ä¼ ç»Ÿå¼€å‘æµç¨‹çš„ç—›ç‚¹ï¼ŒSkillFlowå¹¶éç®€å•â€œæ›¿ä»£äººå·¥â€ï¼Œè€Œæ˜¯é€šè¿‡â€œMCPç»Ÿä¸€ç®¡æ§+Agentè‡ªåŠ¨æµè½¬+Skillèƒ½åŠ›å¤ç”¨+A2UIç²¾å‡†ååŒâ€ï¼Œæ„å»ºäº†â€œAIåšæ‰§è¡Œã€äººåšå†³ç­–â€çš„æ™ºèƒ½å¼€å‘é—­ç¯ã€‚</p>
<p>è¿™å¥—æµç¨‹æ—¢å……åˆ†å‘æŒ¥äº†AIç¼–ç¨‹çš„é«˜æ•ˆæ€§ï¼ˆè‡ªåŠ¨åŒ–ç”Ÿæˆã€æµ‹è¯•ã€ä¼˜åŒ–ï¼‰ï¼Œåˆè§£å†³äº†ä¼ ç»Ÿæµç¨‹çš„ååŒå‰²è£‚é—®é¢˜ï¼Œè®©å¼€å‘å…¨é“¾è·¯æ ‡å‡†åŒ–ã€å¯å¤ç”¨ã€å¯è¿½æº¯ã€‚æ— è®ºæ˜¯å¤§å‹ä¼ä¸šçš„å¤§è§„æ¨¡å¼€å‘ï¼ˆå¦‚å¤šæ¨¡å—ç³»ç»Ÿã€é«˜å¹¶å‘å¹³å°ï¼‰ï¼Œè¿˜æ˜¯ä¸­å°å›¢é˜Ÿçš„å¿«é€Ÿè¿­ä»£ï¼ˆå¦‚åˆ›ä¸šé¡¹ç›®ã€å°å‹å·¥å…·ï¼‰ï¼ŒSkillFlowéƒ½èƒ½é€‚é…éœ€æ±‚ï¼Œæ—¢æå‡å¼€å‘æ•ˆç‡ï¼Œåˆä¿éšœä»£ç è´¨é‡ä¸åˆè§„æ€§ã€‚</p>
<p>æœªæ¥ï¼Œéšç€å¤§æ¨¡å‹èƒ½åŠ›çš„æ¼”è¿›ï¼ŒSkillFlowå¯è¿›ä¸€æ­¥æ‰©å±•â€œæ™ºèƒ½éœ€æ±‚æ‹†è§£ã€è‡ªåŠ¨Bugä¿®å¤ã€å¤šè¯­è¨€è·¨ç«¯ç¼–ç¨‹â€ç­‰æ–°Skillï¼ŒæŒç»­æ¨åŠ¨ä¼ä¸šçº§è½¯ä»¶å¼€å‘å‘æ›´é«˜æ•ˆã€æ›´å¯æ§ã€æ›´å…·æ‰©å±•æ€§çš„æ–¹å‘å‘å±•ï¼Œæˆä¸ºè½¯ä»¶ä¼ä¸šåº”å¯¹AIæ—¶ä»£å˜é©çš„æ ¸å¿ƒæ”¯æ’‘ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªè¿˜æ²¡å†™ä»£ç çš„å¼€æºé¡¹ç›®ï¼Œæˆ‘å…ˆæ¥â€œç”»ä¸ªé¥¼â€ï¼šSpring Insight]]></title>    <link>https://juejin.cn/post/7593169840199368730</link>    <guid>https://juejin.cn/post/7593169840199368730</guid>    <pubDate>2026-01-09T08:43:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593169840199368730" data-draft-id="7593164154631077897" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªè¿˜æ²¡å†™ä»£ç çš„å¼€æºé¡¹ç›®ï¼Œæˆ‘å…ˆæ¥â€œç”»ä¸ªé¥¼â€ï¼šSpring Insight"/> <meta itemprop="keywords" content="åç«¯,å¼€æº,GitHub"/> <meta itemprop="datePublished" content="2026-01-09T08:43:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‹æ¸¡è‹‡"/> <meta itemprop="url" content="https://juejin.cn/user/729731453429159"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªè¿˜æ²¡å†™ä»£ç çš„å¼€æºé¡¹ç›®ï¼Œæˆ‘å…ˆæ¥â€œç”»ä¸ªé¥¼â€ï¼šSpring Insight
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/729731453429159/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‹æ¸¡è‹‡
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T08:43:34.000Z" title="Fri Jan 09 2026 08:43:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æ¯•ç«Ÿï¼Œæ¯ä¸ªç¨‹åºå‘˜æœ€æ“…é•¿çš„ä¸¤ä»¶äº‹å°±æ˜¯ï¼šå†™BUGå’Œç”»å¤§é¥¼ â€”â€” ä»Šå¤©æˆ‘æ¥å±•ç¤ºåè€…ã€‚</p>
</blockquote>
<p>æŸæ˜¯ä¸ªä¸æ„¿é€éœ²å§“åçš„<strong>æ‹–å»¶ç—‡æ™šæœŸ</strong>ç¨‹åºå‘˜ï¼Œåœ¨ç»å†äº†æ— æ•°æ¬¡â€œè¿™ä¸ªé¡¹ç›®æˆ‘è¦é‡å†™â€ã€â€œé‚£ä¸ªæ¶æ„æˆ‘è¦ä¼˜åŒ–â€çš„å†…å¿ƒæˆåï¼Œæˆ‘å†³å®š â€”â€” ä¸å¦‚å†å¼€ä¸€ä¸ªæ–°å‘ï¼ğŸ‰</p>
<p>æ‰€ä»¥ï¼Œæˆ‘éš†é‡å‘å¤§å®¶ä»‹ç»æˆ‘çš„æœ€æ–°å¤§é¥¼ï¼š<strong>Spring Insight</strong>ã€‚ç›®å‰å®ƒçš„ä»£ç é‡ä¸ºï¼š<strong>0è¡Œ</strong>ã€‚æ˜¯çš„ï¼Œå®ƒç°åœ¨æ˜¯ä¸€ä¸ªçº¯ç²¹çš„â€œPPTå¼€æºé¡¹ç›®â€ï¼Œä½†æˆ‘ç›¸ä¿¡ï¼Œåœ¨ç”»é¥¼è¿™ä»¶äº‹ä¸Šï¼Œæˆ‘æ˜¯è®¤çœŸçš„ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€ä¸ºä»€ä¹ˆæˆ‘éœ€è¦ä¸€ä¸ªSpringç›‘æ§å·¥å…·ï¼Ÿ</h2>
<p>è¯´å®è¯ï¼Œç°åœ¨çš„ç›‘æ§ç”Ÿæ€å·²ç»æŒºä¸°å¯Œäº†ï¼šSkyWalkingã€Pinpointã€Prometheus + Grafanaâ€¦â€¦ æ¯ä¸ªéƒ½å¥½ç”¨ï¼Œæ¯ä¸ªéƒ½å¤æ‚å¾—åƒæ˜¯ä¸€æ¶èˆªå¤©é£æœºã€‚</p>
<p>è€Œæˆ‘æƒ³è¦çš„ï¼Œåªæ˜¯ä¸€ä¸ª<strong>èƒ½è®©æˆ‘5åˆ†é’Ÿçœ‹æ‡‚æˆ‘çš„Spring Bootåº”ç”¨åœ¨å¹²å˜›</strong>çš„å·¥å…·ã€‚</p>
<ul>
<li><strong>ç°çŠ¶</strong>ï¼šå¼•å…¥ä¸€ä¸ªç›‘æ§ç³»ç»Ÿ â‰ˆ å­¦ä¹ ä¸€å¥—æ–°æ¦‚å¿µ + éƒ¨ç½²3ä¸ªä¸­é—´ä»¶ + å†™50è¡Œé…ç½® + è°ƒè¯•2å¤©ã€‚</li>
<li><strong>ç†æƒ³</strong>ï¼šåŠ ä¸€ä¸ªä¾èµ–ï¼Œçœ‹ä¸€ä¸ªé¢æ¿ï¼Œå°±çŸ¥é“â€œå“¦ï¼ŒåŸæ¥æ˜¯é‚£ä¸ªServiceåˆè°ƒäº†é‚£ä¸ªæ…¢SQLâ€ã€‚</li>
</ul>
<p>äºæ˜¯ï¼Œ<code>Spring Insight</code> çš„åˆå¿ƒå°±è¿™ä¹ˆ<strong>æœ´å®ä¸”æ¯ç‡¥</strong>ï¼šåšä¸€ä¸ªSpringå¼€å‘è€…çœŸæ­£èƒ½â€œå¼€ç®±å³ç”¨â€çš„æ¶æ„æ´å¯Ÿå·¥å…·ï¼Œ<strong>ä¸æ±‚å¤§è€Œå…¨ï¼Œåªæ±‚å¿«åˆå‡†</strong>ã€‚</p>
<h2 data-id="heading-1">äºŒã€è¿™ä¸ªâ€œé¥¼â€åˆ°åº•æƒ³åšä»€ä¹ˆï¼Ÿ</h2>
<p>ç®€å•è¯´ï¼Œæˆ‘æƒ³è®©å®ƒæˆä¸ºSpring Bootåº”ç”¨çš„ <strong>â€œéšèº«å¥åº·åŒ»ç”Ÿâ€</strong> ã€‚ä¸æ˜¯ICUé‡Œé‚£ç§è¿ç€å‡ åæ ¹ç®¡å­çš„æ·±åº¦ç›‘æ§ï¼Œè€Œæ˜¯åƒå¥èº«æ‰‹ç¯ä¸€æ ·ï¼Œæ¯å¤©ç»™ä½ ä¸€äº›å¯è¡Œçš„å»ºè®®ï¼š</p>
<ol>
<li>
<p><strong>è‡ªåŠ¨ç”»å‡ºä½ çš„â€œæœåŠ¡å…³ç³»ç½‘â€</strong>
å¼•å…¥ä¾èµ–ï¼Œå¯åŠ¨åº”ç”¨ï¼Œå®ƒå°±èƒ½è‡ªåŠ¨å‘ç°ï¼šä½ çš„<code>UserService</code>åœ¨è°ƒç”¨<code>AuthService</code>ï¼Œè€Œ<code>AuthService</code>åˆåœ¨ç‹‚æŸ¥Redisã€‚<strong>å¾ªç¯ä¾èµ–ï¼Ÿå•ç‚¹æ•…éšœï¼Ÿ</strong> ç›´æ¥ç»™ä½ æ ‡çº¢é«˜äº®ã€‚</p>
</li>
<li>
<p><strong>ç»™ä½ çš„HTTPæ¥å£åšâ€œä½“æ£€æŠ¥å‘Šâ€</strong>
ä¸ç”¨é…ä»»ä½•ä¸œè¥¿ï¼Œå°±èƒ½çœ‹åˆ°ä¸€ä¸ªåˆ—è¡¨ï¼š<code>/api/users</code> å¹³å‡å“åº” 120msï¼Œ<code>POST /api/orders</code> æœ€è¿‘é”™è¯¯ç‡å‡é«˜ï¼Œè€Œä¸”æ¯æ¬¡å‘å¸ƒæ–°ç‰ˆæœ¬åå®ƒçš„å»¶è¿Ÿéƒ½ä¼šæŠ–ä¸€ä¸‹ã€‚</p>
</li>
<li>
<p><strong>æ™ºèƒ½å‘Šè¯‰ä½ â€œå“ªé‡Œå¯èƒ½æœ‰é—®é¢˜â€</strong>
è¿™ä¸æ˜¯ç®€å•çš„æ•°æ®å±•ç¤ºï¼Œè€Œæ˜¯å°è¯•åšä¸€äº›<strong>æ¨æ–­</strong>ï¼š</p>
<ul>
<li><em>â€œæ‚¨åˆšåˆšé‡å¯äº†MySQLï¼Œä½†<code>ProductService</code>çš„æŸ¥è¯¢è€—æ—¶åè€Œå¢åŠ äº†50%ï¼Œå»ºè®®æ£€æŸ¥è¿æ¥æ± é…ç½®ã€‚â€</em></li>
<li><em>â€œ<code>PaymentService</code> è°ƒç”¨ <code>BankGateway</code> çš„å¤±è´¥ç‡åœ¨æ¯å‘¨äº”ä¸‹åˆ4ç‚¹éƒ½ä¼šé£™å‡ï¼Œç–‘ä¼¼å¯¹æ–¹é™æµã€‚â€</em></li>
</ul>
</li>
<li>
<p><strong>ä»¥ä¸Šä¸‰ç‚¹åªæ˜¯åˆå§‹è“å›¾ï¼Œèƒ½å¦å®ç°æœ‰å¾…è§‚å¯Ÿ</strong></p>
</li>
</ol>
<h2 data-id="heading-2">ä¸‰ã€æŠ€æœ¯â€œè“å›¾â€ï¼ˆå…¶å®å°±æ˜¯å¹ç‰›æ—¶é—´ï¼‰</h2>
<p>è™½ç„¶ä¸€è¡Œä»£ç æ²¡å†™ï¼Œä½†æ¶æ„å›¾æˆ‘å·²ç»ç”»å¾—é£èµ·äº†ï¼ˆæ¯•ç«Ÿè¿™æ˜¯æœ€çœæˆæœ¬çš„éƒ¨åˆ†ï¼‰ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a7f3422a3dfc451aa97db9ae2146124b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6IuP5rih6IuH:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768553014&amp;x-signature=anSUqpaE7Xa3YtF07fFHgIZz94I%3D" alt="æ„æƒ³æ¶æ„å›¾" loading="lazy"/></p>
<p><strong>å‡ ä¸ªè‡ªå—¨çš„äº®ç‚¹è®¾è®¡ï¼š</strong></p>
<ol>
<li><strong>ç»å¯¹æ— ä¾µå…¥</strong>ï¼šæ¢¦æƒ³æ˜¯åªåŠ ä¸€ä¸ª<code>spring-boot-starter-insight</code>ä¾èµ–ï¼Œä¸€åˆ‡è‡ªåŠ¨å‘ç”Ÿã€‚ç°å®å¯èƒ½ä¼šç»™æˆ‘ä¸€è®°é‡æ‹³ã€‚</li>
<li><strong>é¢å‘â€œé“æ­‰â€ç¼–ç¨‹</strong>ï¼šå¦‚æœæ”¶é›†é€»è¾‘å½±å“äº†ä½ çš„åº”ç”¨æ€§èƒ½ï¼Œæˆ‘ä¼šç¬¬ä¸€æ—¶é—´æä¾›â€œä¸€é”®å…³é—­â€å¼€å…³ï¼Œå¹¶é™„ä¸Šè¯šæŒšçš„é“æ­‰æ–‡æ¡£ã€‚</li>
<li><strong>åˆ†æç»“æœå¯æ“ä½œ</strong>ï¼šä¸ä»…å‘Šè¯‰ä½ â€œæœ‰é—®é¢˜â€ï¼Œè¿˜å°½é‡å‘Šè¯‰ä½ â€œå¯èƒ½æ˜¯ä»€ä¹ˆé—®é¢˜â€ä»¥åŠâ€œæ€ä¹ˆè¯•ç€è§£å†³â€ã€‚èƒ½ä¸èƒ½è§£å†³å¦è¯´ï¼Œä½†æ€åº¦è¦æœ‰ã€‚</li>
</ol>
<h2 data-id="heading-3">å››ã€ä¸ºä»€ä¹ˆæˆ‘æƒ³è¦æ•´è¿™ä¸ªâ€œç©ºæ°”é¡¹ç›®â€ï¼Ÿ</h2>
<p>æˆ‘å¯åŠ¨å®ƒï¼Œçº¯ç²¹æ˜¯å› ä¸ºæˆ‘è‡ªå·±ä½œä¸ºSpringå¼€å‘è€…ï¼Œé•¿æœŸè¢«ä»¥ä¸‹é—®é¢˜å›°æ‰°ï¼š</p>
<ul>
<li><strong>è®¤çŸ¥è´Ÿæ‹…é‡</strong>ï¼šç°æœ‰çš„APMå·¥å…·åŠŸèƒ½å¼ºå¤§ï¼Œä½†å­¦ä¹ å’Œç»´æŠ¤æˆæœ¬è®©æˆ‘ç­‰ä¸­å°åº”ç”¨å¼€å‘è€…æœ›è€Œå´æ­¥ã€‚</li>
<li><strong>ååº”æ»å</strong>ï¼šå¸¸å¸¸æ˜¯ç”¨æˆ·å…ˆæŠ•è¯‰äº†ï¼Œæˆ‘æ‰å‘ç°ç³»ç»ŸæŸä¸ªåœ°æ–¹å·²ç»é»˜é»˜æŠ¥é”™åŠå°æ—¶äº†ã€‚</li>
<li><strong>æ•°æ®å­¤å²›</strong>ï¼šæ—¥å¿—ã€æŒ‡æ ‡ã€é“¾è·¯åœ¨ä¸åŒçš„ç³»ç»Ÿé‡Œï¼Œå‡ºäº†é—®é¢˜è¦åˆ°å¤„ç¿»ï¼Œåƒä¸ªä¾¦æ¢ã€‚</li>
</ul>
<p>å¦‚æœå±å¹•å‰çš„ä½ ä¹Ÿæœ‰åŒæ„Ÿï¼Œé‚£ä¹ˆè¿™ä¸ªé¡¹ç›®æˆ–è®¸â€”â€”åªæ˜¯æˆ–è®¸â€”â€”ä¹Ÿèƒ½è§£å†³ä½ çš„ä¸€ç‚¹ç—›ç‚¹ã€‚</p>
<h2 data-id="heading-4">äº”ã€æˆ‘çš„â€œæ‰“è„¸â€è·¯çº¿å›¾</h2>
<p>ä¸ºäº†è¡¨æ˜æˆ‘ä¸å®Œå…¨æ˜¯çå¹ï¼Œä»¥ä¸‹æ˜¯æˆ‘ç»™è‡ªå·±ç«‹çš„Flagï¼ˆæ–¹ä¾¿æ—¥åæ‰“è„¸ç”¨ï¼‰ï¼š</p>
<ul>
<li><strong>Phase 0 (ç°åœ¨ - 2026.Q1)</strong>ï¼šæŠŠé¡¹ç›®ä»“åº“å»ºèµ·æ¥ï¼ŒREADMEå†™å¾—æ¼‚æ¼‚äº®äº®ï¼ˆç›®å‰å”¯ä¸€å·²å®Œæˆ99%çš„äº‹ï¼‰ã€‚</li>
<li><strong>Phase 1 (2026.Q2)</strong>ï¼šæ¨å‡º <strong>0.1.0ç‰ˆ</strong>ï¼Œæ ¸å¿ƒç›®æ ‡ï¼š<strong>èƒ½è·‘é€šä¸€ä¸ªDemo</strong>ã€‚å®ç°æœ€åŸºæœ¬çš„HTTPè¯·æ±‚è¿½è¸ªï¼Œå¹¶åœ¨ä¸€ä¸ªç®€å•UIä¸Šçœ‹åˆ°åˆ—è¡¨ã€‚</li>
<li><strong>Phase 2 (2026.Q3)</strong>ï¼šæ¨å‡º <strong>0.5.0ç‰ˆ</strong>ï¼Œæ ¸å¿ƒç›®æ ‡ï¼š<strong>çœŸçš„æœ‰ç‚¹ç”¨</strong>ã€‚å®ç°æœåŠ¡ä¾èµ–æ‹“æ‰‘çš„è‡ªåŠ¨ç»˜åˆ¶å’ŒåŸºç¡€çš„å¥åº·æ£€æŸ¥è§„åˆ™ã€‚</li>
<li><strong>Phase 3 (2026.Q4)</strong>ï¼šæ¨å‡º <strong>1.0.0ç‰ˆ</strong>ï¼Œæ ¸å¿ƒç›®æ ‡ï¼š<strong>æ•¢ç»™å°é¡¹ç›®ç”¨äº†</strong>ã€‚å…·å¤‡æ ¸å¿ƒçš„é‡‡é›†ã€åˆ†æã€å‘Šè­¦èƒ½åŠ›ï¼Œæ–‡æ¡£é½å…¨ã€‚</li>
</ul>
<p><strong>å†æ¬¡å¼ºè°ƒ</strong>ï¼šä»¥ä¸Šæ‰€æœ‰æ—¥æœŸéƒ½å…·å¤‡æå¤§çš„å¼¹æ€§ï¼Œä¸»è¦å–å†³äºæˆ‘çš„ä¸‹ç­æ—¶é—´ã€å‘¨æœ«å¿ƒæƒ…ä»¥åŠå›½äº§å•æœºæ¸¸æˆçš„å‘å¸ƒæƒ…å†µã€‚</p>
<h2 data-id="heading-5">å…­ã€æ¥å§</h2>
<p>æˆ‘ä¸€ä¸ªäººç”»é¥¼ï¼Œç»ˆç©¶å®¹æ˜“é¥¿æ­»ã€‚å¦‚æœä½ ï¼š</p>
<ol>
<li>è§‰å¾—è¿™ä¸ªæƒ³æ³•â€œå“ï¼Œæœ‰ç‚¹æ„æ€â€ï¼›</li>
<li>æˆ–è€…è§‰å¾—â€œè¿™ä»€ä¹ˆç©æ„å„¿ï¼Œä½†æˆ‘æœ‰ä¸ªæ›´å¥½çš„ç‚¹å­â€ï¼›</li>
<li>åˆæˆ–è€…å•çº¯æƒ³å›´è§‚ä¸€ä¸ªé¡¹ç›®æ˜¯å¦‚ä½•ä»é›¶åˆ°ä¸€ï¼ˆ<strong>æˆ–ä»é›¶åˆ°é›¶</strong>ï¼‰çš„ï¼›</li>
</ol>
<p>æ¬¢è¿ä½ æ¥ï¼š</p>
<ul>
<li><strong>GitHub</strong>ï¼šæœç´¢ <code>spring-insight</code>ï¼ˆè™½ç„¶ç°åœ¨ä»“åº“é‡Œè¿˜åªæœ‰READMEå’Œæˆ‘çš„é›„å¿ƒå£®å¿—ï¼‰</li>
<li><strong>ç‚¹ä¸ªStar</strong>ï¼šç”¨ä½ çš„Starç»™æˆ‘ä¸€ç‚¹<strong>è™šå¹»çš„é“å¾·å‹åŠ›</strong>ï¼Œç£ä¿ƒæˆ‘å†™ä»£ç ã€‚</li>
<li><strong>æä¸ªIssue</strong>ï¼šæ¥è¯´è¯´ä½ çš„ç—›ç‚¹å’Œå¹»æƒ³ï¼Œæˆ‘çš„äº§å“ç»ç†åŠŸèƒ½å°±æ­¤æ¿€æ´»ã€‚</li>
</ul>
<p>é¡¹ç›®åœ°å€ï¼š</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fiweidujiang%2Fspring-insight" target="_blank" title="https://github.com/iweidujiang/spring-insight" ref="nofollow noopener noreferrer">github.com/iweidujiangâ€¦</a></p>
<p>é¡¹ç›®çš„æˆè´¥ï¼Œæˆ‘ç°åœ¨å¿ƒé‡Œå®Œå…¨æ²¡åº•ã€‚ä½†æˆ‘çŸ¥é“çš„æ˜¯ï¼Œ<strong>æ¯ä¸€ä¸ªä¼Ÿå¤§çš„é¡¹ç›®ï¼Œéƒ½å§‹äºä¸€ä¸ªå¯èƒ½è¢«å˜²ç¬‘çš„å¿µå¤´</strong>ã€‚</p>
<p>æœ€åçš„ç»“æœï¼Œæ— éæ˜¯æˆ‘è‡ªå·±åˆæ‘‡æ‘‡å¤´è‹¦ç¬‘äº†ä¸€æŠŠï¼ˆåˆ«æ€€ç–‘ï¼Œå·²ç»é”»ç‚¼å‡ºæ¥äº†ï¼Œå“ˆå“ˆï¼‰ã€‚ä½†ä¸‡ä¸€ï¼Œæˆ‘æ˜¯è¯´ä¸‡ä¸€ï¼Œå®ƒçœŸçš„èƒ½å¸®åˆ°ä¸€äº›åƒä½ æˆ‘ä¸€æ ·çš„æ™®é€šå¼€å‘è€…å‘¢ï¼Ÿ</p>
<p>é‚£è¿™é¥¼ï¼Œæˆ‘å°±è¯•ç€æŠŠå®ƒçƒ™å‡ºæ¥å§ã€‚</p>
<p><strong>â€œä»£ç æœªåŠ¨ï¼Œæ–‡æ¡£å…ˆè¡Œï¼›åŠŸèƒ½è™½æ— ï¼Œæ„¿æ™¯åœ¨å¿ƒã€‚â€</strong> â€”â€” ä¸€ä½æ‡’æ•£ä½†ä¹è§‚çš„ç¨‹åºå‘˜ï¼Œäºä¸€ä¸ªè¿˜æ²¡å†™ä»»ä½•ä»£ç çš„å¤œæ™šã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¼˜åŒ–NextJs é¡¹ç›®çš„Docker é•œåƒ ä»3.62G ä¼˜åŒ–åˆ° 296.85M]]></title>    <link>https://juejin.cn/post/7592992745574088742</link>    <guid>https://juejin.cn/post/7592992745574088742</guid>    <pubDate>2026-01-09T07:00:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592992745574088742" data-draft-id="7592992745573498918" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¼˜åŒ–NextJs é¡¹ç›®çš„Docker é•œåƒ ä»3.62G ä¼˜åŒ–åˆ° 296.85M "/> <meta itemprop="keywords" content="Docker"/> <meta itemprop="datePublished" content="2026-01-09T07:00:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="èœé¸Ÿæ€ç»´"/> <meta itemprop="url" content="https://juejin.cn/user/2814346130107118"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¼˜åŒ–NextJs é¡¹ç›®çš„Docker é•œåƒ ä»3.62G ä¼˜åŒ–åˆ° 296.85M 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2814346130107118/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    èœé¸Ÿæ€ç»´
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:00:56.000Z" title="Fri Jan 09 2026 07:00:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘ä½œä¸ºå‰ç«¯çœ‹åˆ°æ‹›è˜ä¿¡æ¯ä¸Šé¢å‡ºç°äº†éœ€è¦ç†Ÿæ‚‰dockerï¼Œè¯´å®è¯åœ¨å…¬å¸å†…éƒ¨é¡¹ç›®é‡Œé¢ç¡®å®æœ‰Dockerfile æ–‡ä»¶</p>
<p>é‡Œé¢çš„å†…å®¹å°±æ˜¯ç®€å•çš„å†…å®¹ï¼Œæ„å»ºå’Œè¿è¡Œä¹Ÿæ²¡æœ‰å…¶ä»–ä¸œè¥¿äº†ã€‚æƒ³æ¥æˆ‘å°±åœ¨æœ¬åœ°åŸºäºDocker æ„å»ºä¸€ä¸‹ç”Ÿæˆé•œåƒ</p>
<p>ä¸€ç”¨ä¸€ä¸ªä¸æ™“å¾—ï¼ŒWCç”Ÿæˆçš„é•œåƒæ–‡ä»¶ç«Ÿç„¶æœ‰3.62Gï¼Œå¦ˆå–æ‰¹çš„æˆ‘å’‹è¯´æ„å»ºè¿‡ç¨‹ç”Ÿæˆé•œåƒä¹‹åæ¨çš„æ—¶å€™æ¶ˆè€—æ—¶é—´æœ‰ç‚¹é•¿</p>
<p>ä¹‹åå°±å¼€å§‹è¿›è¡Œä¼˜åŒ–ï¼Œæœ€åå°†é•œåƒç»“æœä»3.62GB ä¼˜åŒ–åˆ° 296.85MB</p>
<h2 data-id="heading-0">å…ˆç§‘æ™®ä¸€ä¸‹Docker åŸºç¡€ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥è·³è¿‡</h2>
<h3 data-id="heading-1">1. Docker ç®€ä»‹ä¸å®‰è£…éªŒè¯</h3>
<p>Docker æ˜¯ä¸€ä¸ªå®¹å™¨åŒ–å¹³å°ï¼Œå¯ä»¥å°†åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–é¡¹æ‰“åŒ…åˆ°è½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ã€‚</p>
<h4 data-id="heading-2">éªŒè¯ Docker å®‰è£…</h4>
<pre><code class="hljs language-bash" lang="bash">docker run hello-world
</code></pre>
<p>å¦‚æœè¾“å‡º"Hello from Docker!"ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚</p>
<h3 data-id="heading-3">2. Docker æ“ä½œæµç¨‹</h3>
<p>Docker çš„å±‚çº§å…³ç³»ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">Imageï¼ˆé•œåƒï¼‰ â†’ Containerï¼ˆå®¹å™¨ï¼‰ â†’ <span class="hljs-built_in">Process</span>ï¼ˆè¿›ç¨‹ï¼‰
</code></pre>
<h4 data-id="heading-4">Docker æ¡Œé¢ç‰ˆç•Œé¢åŠŸèƒ½è¯´æ˜</h4>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0c19545e5ab1440ea0140a6d3b6ed105~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I-c6bif5oCd57u0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768546855&amp;x-signature=HM6jrQmL1qyY0TSe4NANBQITL8o%3D" alt="æˆªå±2026-01-09 13.19.14.png" loading="lazy"/></p>
<ul>
<li><strong>Containers</strong>: æ­£åœ¨è¿è¡Œ / å·²åœæ­¢çš„å®¹å™¨ï¼ˆæœ€å¸¸ç”¨ï¼‰</li>
<li><strong>Images</strong>: é•œåƒåˆ—è¡¨ï¼ˆç›¸å½“äº"ç¨‹åºå®‰è£…åŒ…"ï¼‰</li>
<li><strong>Volumes</strong>: æ•°æ®å­˜å‚¨ï¼ˆæ•°æ®åº“æ•°æ®ã€æ–‡ä»¶æŒä¹…åŒ–ï¼‰</li>
<li><strong>Kubernetes</strong>: K8sï¼ˆç›®å‰å¯å¿½ç•¥ï¼‰</li>
<li><strong>Builds</strong>: æ„å»ºé•œåƒè®°å½•</li>
<li><strong>Docker Hub</strong>: å®˜æ–¹é•œåƒä»“åº“ï¼ˆç±»ä¼¼ npm / pipï¼‰</li>
</ul>
<h4 data-id="heading-5">Docker å¸¸ç”¨å‘½ä»¤æ±‡æ€»</h4>


























































































<table><thead><tr><th>ç±»åˆ«</th><th>å‘½ä»¤</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åŸºæœ¬æ“ä½œ</td><td><code>docker ps</code></td><td>æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨</td></tr><tr><td>åŸºæœ¬æ“ä½œ</td><td><code>docker ps -a</code></td><td>æŸ¥çœ‹æ‰€æœ‰å®¹å™¨ï¼ˆåŒ…æ‹¬åœæ­¢çš„ï¼‰</td></tr><tr><td>åŸºæœ¬æ“ä½œ</td><td><code>docker images</code></td><td>æŸ¥çœ‹é•œåƒ</td></tr><tr><td>åŸºæœ¬æ“ä½œ</td><td><code>docker logs &lt;å®¹å™¨IDæˆ–åç§°&gt;</code></td><td>æŸ¥çœ‹å®¹å™¨æ—¥å¿—</td></tr><tr><td>åŸºæœ¬æ“ä½œ</td><td><code>docker logs -f &lt;å®¹å™¨ID&gt;</code></td><td>å®æ—¶æŸ¥çœ‹å®¹å™¨æ—¥å¿—</td></tr><tr><td>åŸºæœ¬æ“ä½œ</td><td><code>docker exec -it &lt;å®¹å™¨ID&gt; sh</code></td><td>è¿›å…¥å®¹å™¨</td></tr><tr><td>åŸºæœ¬æ“ä½œ</td><td><code>docker history &lt;é•œåƒå&gt;</code></td><td>æŸ¥çœ‹é•œåƒå†å²</td></tr><tr><td>æ„å»ºé•œåƒ</td><td><code>docker build -t &lt;åç§°&gt; .</code></td><td>æ„å»ºé•œåƒ</td></tr><tr><td>æ„å»ºé•œåƒ</td><td><code>docker build --no-cache -t &lt;åç§°&gt; .</code></td><td>æ— ç¼“å­˜æ„å»º</td></tr><tr><td>è¿è¡Œå®¹å™¨</td><td><code>docker run -p &lt;host&gt;:&lt;container&gt; &lt;é•œåƒå&gt;</code></td><td>è¿è¡Œé•œåƒå¹¶æ˜ å°„ç«¯å£</td></tr><tr><td>è¿è¡Œå®¹å™¨</td><td><code>docker run -it -v &lt;host_dir&gt;:&lt;container_dir&gt; &lt;é•œåƒå&gt;</code></td><td>è¿è¡Œå®¹å™¨å¹¶æŒ‚è½½å·</td></tr><tr><td>å®¹å™¨ç®¡ç†</td><td><code>docker start &lt;å®¹å™¨ID&gt;</code></td><td>å¯åŠ¨å®¹å™¨</td></tr><tr><td>å®¹å™¨ç®¡ç†</td><td><code>docker stop &lt;å®¹å™¨ID&gt;</code></td><td>åœæ­¢å®¹å™¨</td></tr><tr><td>å®¹å™¨ç®¡ç†</td><td><code>docker rm &lt;å®¹å™¨ID&gt;</code></td><td>åˆ é™¤å®¹å™¨</td></tr><tr><td>é•œåƒç®¡ç†</td><td><code>docker rmi &lt;é•œåƒID&gt;</code></td><td>åˆ é™¤é•œåƒ</td></tr><tr><td>ç³»ç»Ÿç®¡ç†</td><td><code>docker system prune</code></td><td>æ¸…ç†æ— ç”¨é•œåƒå’Œç¼“å­˜</td></tr></tbody></table>
<h4 data-id="heading-6">åˆ é™¤é•œåƒæµç¨‹</h4>
<blockquote>
<p>å…ˆæ‰¾åˆ°é•œåƒé‡Œé¢çš„å®¹å™¨ã€åœæ­¢å®¹å™¨ã€åˆ é™¤å®¹å™¨ã€åˆ é™¤é•œåƒ</p>
</blockquote>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æŸ¥æ‰¾ç‰¹å®šé•œåƒçš„å®¹å™¨</span>
docker ps -a --filter ancestor=next-app

<span class="hljs-comment"># 2. åœæ­¢å®¹å™¨</span>
docker stop &lt;container_id&gt;

<span class="hljs-comment"># 3. åˆ é™¤å®¹å™¨</span>
docker <span class="hljs-built_in">rm</span> &lt;container_id&gt;

<span class="hljs-comment"># 4. åˆ é™¤é•œåƒ</span>
docker rmi next-app
</code></pre>
<h4 data-id="heading-7">æ„å»ºå’Œè¿è¡Œé•œåƒ</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ„å»ºé•œåƒ</span>
docker build -t next-web .

<span class="hljs-comment"># è¿è¡Œé•œåƒ</span>
docker run -p 8080:8080 next-web

<span class="hljs-comment"># æ— ç¼“å­˜é‡æ–°æ„å»º</span>
docker build --no-cache -t next-app .
</code></pre>
<h3 data-id="heading-8">3. Docker Compose ä½¿ç”¨æŒ‡å—</h3>
<p>Docker Compose æ˜¯ç”¨æ¥å®šä¹‰å’Œè¿è¡Œå¤æ‚ Docker åº”ç”¨çš„å·¥å…·ï¼Œå¯ä»¥é€šè¿‡ä¸€ä¸ª YAML æ–‡ä»¶é…ç½®å¤šå®¹å™¨åº”ç”¨ã€‚</p>
<h4 data-id="heading-9">å®‰è£… Docker Compose</h4>
<p>Docker Desktop å·²ç»å†…ç½®äº† Docker Composeï¼Œæ— éœ€é¢å¤–å®‰è£…ã€‚</p>
<h4 data-id="heading-10">docker-compose.yml ç¤ºä¾‹</h4>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">"3.8"</span>

<span class="hljs-attr">services:</span>
  <span class="hljs-attr">web:</span>
    <span class="hljs-attr">build:</span> <span class="hljs-string">.</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"3000:3000"</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">.:/app</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">/app/node_modules</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">NODE_ENV=development</span>
    <span class="hljs-attr">depends_on:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">db</span>

  <span class="hljs-attr">db:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">postgres:13</span>
    <span class="hljs-attr">environment:</span>
      <span class="hljs-attr">POSTGRES_DB:</span> <span class="hljs-string">myapp</span>
      <span class="hljs-attr">POSTGRES_USER:</span> <span class="hljs-string">user</span>
      <span class="hljs-attr">POSTGRES_PASSWORD:</span> <span class="hljs-string">password</span>
    <span class="hljs-attr">volumes:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">postgres_data:/var/lib/postgresql/data</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"5432:5432"</span>

<span class="hljs-attr">volumes:</span>
  <span class="hljs-attr">postgres_data:</span>
</code></pre>
<h4 data-id="heading-11">Docker Compose å¸¸ç”¨å‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¯åŠ¨æœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰</span>
docker-compose up -d

<span class="hljs-comment"># å¯åŠ¨æŒ‡å®šæœåŠ¡</span>
docker-compose up service-name

<span class="hljs-comment"># åœæ­¢æœåŠ¡</span>
docker-compose down

<span class="hljs-comment"># æŸ¥çœ‹æœåŠ¡æ—¥å¿—</span>
docker-compose logs

<span class="hljs-comment"># æŸ¥çœ‹æœåŠ¡çŠ¶æ€</span>
docker-compose ps

<span class="hljs-comment"># é‡æ–°æ„å»ºå¹¶å¯åŠ¨</span>
docker-compose up --build

<span class="hljs-comment"># æ‰§è¡Œå‘½ä»¤åˆ°æŒ‡å®šå®¹å™¨</span>
docker-compose <span class="hljs-built_in">exec</span> service-name <span class="hljs-built_in">command</span>
</code></pre>
<h3 data-id="heading-12">4. Docker ç½‘ç»œé…ç½®</h3>
<p>Docker æä¾›å¤šç§ç½‘ç»œæ¨¡å¼ï¼Œç”¨äºå®¹å™¨é—´é€šä¿¡å’Œå¤–éƒ¨è®¿é—®ã€‚</p>
<h4 data-id="heading-13">ç½‘ç»œç±»å‹</h4>
<ul>
<li><strong>bridge</strong>ï¼ˆé»˜è®¤ï¼‰ï¼šå®¹å™¨é€šè¿‡è™šæ‹Ÿæ¡¥æ¥è¿æ¥ï¼Œå¯äº’ç›¸é€šä¿¡</li>
<li><strong>host</strong>ï¼šå®¹å™¨ç›´æ¥ä½¿ç”¨ä¸»æœºç½‘ç»œ</li>
<li><strong>none</strong>ï¼šå®¹å™¨æ— ç½‘ç»œè¿æ¥</li>
<li><strong>overlay</strong>ï¼šç”¨äºå¤šä¸»æœºç¯å¢ƒ</li>
</ul>
<h4 data-id="heading-14">ç½‘ç»œç®¡ç†å‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹ç½‘ç»œ</span>
docker network <span class="hljs-built_in">ls</span>

<span class="hljs-comment"># åˆ›å»ºç½‘ç»œ</span>
docker network create mynetwork

<span class="hljs-comment"># è¿æ¥åˆ°ç½‘ç»œ</span>
docker network connect mynetwork container-name

<span class="hljs-comment"># æ–­å¼€ç½‘ç»œè¿æ¥</span>
docker network disconnect mynetwork container-name

<span class="hljs-comment"># åˆ é™¤ç½‘ç»œ</span>
docker network <span class="hljs-built_in">rm</span> mynetwork

<span class="hljs-comment"># æŸ¥çœ‹ç½‘ç»œè¯¦æƒ…</span>
docker network inspect mynetwork
</code></pre>
<h3 data-id="heading-15">5. æ•°æ®æŒä¹…åŒ–ä¸å·ç®¡ç†</h3>
<p>Docker å·ç”¨äºæ•°æ®æŒä¹…åŒ–ï¼Œå³ä½¿å®¹å™¨åˆ é™¤æ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p>
<h4 data-id="heading-16">å·ç®¡ç†å‘½ä»¤</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ—å‡ºå·</span>
docker volume <span class="hljs-built_in">ls</span>

<span class="hljs-comment"># åˆ›å»ºå·</span>
docker volume create myvolume

<span class="hljs-comment"># æŸ¥çœ‹å·è¯¦æƒ…</span>
docker volume inspect myvolume

<span class="hljs-comment"># åˆ é™¤å·</span>
docker volume <span class="hljs-built_in">rm</span> myvolume

<span class="hljs-comment"># æ¸…ç†æœªä½¿ç”¨çš„å·</span>
docker volume prune
</code></pre>
<h4 data-id="heading-17">ä½¿ç”¨å·è¿è¡Œå®¹å™¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä½¿ç”¨å‘½åå·</span>
docker run -v myvolume:/path/in/container image-name

<span class="hljs-comment"># ä½¿ç”¨ç»‘å®šæŒ‚è½½</span>
docker run -v /host/path:/container/path image-name

<span class="hljs-comment"># ä½¿ç”¨ä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿï¼ˆæ•°æ®ä¸ä¼šæŒä¹…åŒ–ï¼‰</span>
docker run --tmpfs /path/in/container image-name
</code></pre>
<h3 data-id="heading-18">6. Docker å®‰å…¨æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-19">å®¹å™¨å®‰å…¨</h4>
<ul>
<li>ä½¿ç”¨å®˜æ–¹æˆ–å¯ä¿¡çš„åŸºç¡€é•œåƒ</li>
<li>å®šæœŸæ›´æ–°é•œåƒ</li>
<li>é¿å…ä»¥ root ç”¨æˆ·è¿è¡Œå®¹å™¨</li>
<li>é™åˆ¶å®¹å™¨èµ„æºä½¿ç”¨</li>
<li>ç¦ç”¨ä¸å¿…è¦çš„æƒé™å’ŒåŠŸèƒ½</li>
</ul>
<h4 data-id="heading-20">é•œåƒå®‰å…¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ‰«æé•œåƒæ¼æ´</span>
docker scan image-name

<span class="hljs-comment"># éªŒè¯é•œåƒç­¾å</span>
docker trust inspect image-name
</code></pre>
<h3 data-id="heading-21">7. Next.js åœ¨ Docker ä¸­çš„é€’è¿›å¼ä¼˜åŒ–ï¼Œå…ˆä»¥æœ€åˆçš„ Nextjs ä¸ºä¾‹</h3>
<h4 data-id="heading-22">ç¬¬ä¸€æ­¥ï¼šåŸºç¡€ Next.js é¡¹ç›® Docker åŒ–</h4>
<ol>
<li>åˆ›å»ºåŸºç¡€ Next.js é¡¹ç›®</li>
</ol>
<pre><code class="hljs language-bash" lang="bash">npx create-next-app@latest web
<span class="hljs-built_in">cd</span> web
</code></pre>
<ol start="2">
<li>åˆ›å»º Dockerfile</li>
</ol>
<pre><code class="hljs language-dockerfile" lang="dockerfile">FROM registry.cn-shanghai.aliyuncs.com/aipgpt/node:20-alpine

WORKDIR /app

# å¯ç”¨ Corepack åŠŸèƒ½
RUN corepack enable
# å®‰è£…å¹¶æ¿€æ´»æŒ‡å®šç‰ˆæœ¬çš„ pnpm
RUN corepack prepare pnpm@latest --activate

COPY package*.json ./
RUN pnpm install

COPY . .

EXPOSE 3000

CMD ["npm", "run", "dev"]
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/027f09600fef45a1a639373609fd1e76~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I-c6bif5oCd57u0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768546855&amp;x-signature=TOsa%2B6elTCIf39A2J77%2BzA1PMGg%3D" alt="æˆªå±2026-01-09 14.45.48.png" loading="lazy"/></p>
<ol start="3">
<li>åˆ›å»º .dockerignore</li>
</ol>

<pre><code class="hljs language-lua" lang="lua">node_modules
.<span class="hljs-built_in">next</span>
.git
</code></pre>
<p>4.  æ„å»ºå’Œè¿è¡Œ</p>
<pre><code class="hljs language-bash" lang="bash">docker build -t next-app .
docker run -p 3000:3000 next-app
</code></pre>
<h4 data-id="heading-23">ç¬¬äºŒæ­¥ï¼šä½¿ç”¨ Corepack ç®¡ç† pnpmï¼ˆæ¨èï¼‰</h4>
<pre><code class="hljs language-dockerfile" lang="dockerfile">FROM node:18-alpine

WORKDIR /app

# å¯ç”¨ Corepack åŠŸèƒ½
RUN corepack enable
# å®‰è£…å¹¶æ¿€æ´»æŒ‡å®šç‰ˆæœ¬çš„ pnpm
RUN corepack prepare pnpm@latest --activate

COPY package*.json ./
RUN pnpm install

COPY . .

EXPOSE 3000

CMD ["pnpm", "dev"]
</code></pre>
<h4 data-id="heading-24">ç¬¬ä¸‰æ­¥ï¼šé…ç½®çƒ­æ›´æ–°</h4>
<pre><code class="hljs language-bash" lang="bash">docker run -it \
  -p 3000:3000 \
  -v $(<span class="hljs-built_in">pwd</span>):/app \
  -w /app \
  node:18 \
  npm run dev
</code></pre>
<h4 data-id="heading-25">ç¬¬å››æ­¥ï¼šæŒ‡å®šç«¯å£é…ç½®</h4>
<ol>
<li>ä¿®æ”¹ Dockerfile</li>
</ol>
<pre><code class="hljs language-dockerfile" lang="dockerfile">EXPOSE 3008
</code></pre>
<ol start="2">
<li>ä¿®æ”¹ package.json</li>
</ol>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"next dev -H 0.0.0.0 -p 3008"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p><strong>æ³¨æ„</strong>: å¿…é¡»æ·»åŠ <code>-H 0.0.0.0</code>å‚æ•°ï¼Œå¦åˆ™ Docker å¤–éƒ¨æ— æ³•è®¿é—®ã€‚</p>
<h4 data-id="heading-26">ç¬¬äº”æ­¥ï¼šå¤šé˜¶æ®µæ„å»ºä¼˜åŒ–</h4>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># =====================
# Build
# =====================
FROM node:20-alpine AS builder
WORKDIR /app

# å¯ç”¨ Corepack åŠŸèƒ½
RUN corepack enable
# å®‰è£…å¹¶æ¿€æ´»æŒ‡å®šç‰ˆæœ¬çš„ pnpm
RUN corepack prepare pnpm@latest --activate

COPY package.json ./
RUN pnpm install --registry=https://registry.npmmirror.com

COPY . .
RUN npm run build


# =====================
# Runtime
# =====================
FROM node:20-alpine
WORKDIR /app
ENV NODE_ENV=production
ENV PORT=3008

COPY --from=builder /app/.next/standalone ./
COPY --from=builder /app/.next/static ./.next/static
COPY --from=builder /app/public ./public

EXPOSE 3008
CMD ["npm", "run", "dev"]

</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7c4de376aeb14c1d8a546103c08fc00c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I-c6bif5oCd57u0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768546855&amp;x-signature=WsNN7mg3vs660pU06KTPpCRT2Yo%3D" alt="æˆªå±2026-01-09 14.48.04.png" loading="lazy"/></p>
<h4 data-id="heading-27">ç¬¬å…­æ­¥ï¼šNext.js Standalone æ¨¡å¼æè‡´ä¼˜åŒ–</h4>
<p>è¿™æ˜¯ Next.js 12.2.0 ç‰ˆæœ¬å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œæ—¨åœ¨ä¼˜åŒ–æ„å»ºè¾“å‡ºå’Œéƒ¨ç½²ã€‚Standalone æ¨¡å¼ç”Ÿæˆçš„åŒ…æ›´å°ï¼Œå¯åŠ¨æ›´å¿«ã€‚</p>
<h5 data-id="heading-28">é…ç½® next.config.js</h5>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">/** <span class="hljs-doctag">@type</span> {<span class="hljs-type">import('next').NextConfig</span>} */</span>
<span class="hljs-keyword">const</span> nextConfig = {
  <span class="hljs-attr">output</span>: <span class="hljs-string">"standalone"</span>, <span class="hljs-comment">// å¯ç”¨ standalone æ¨¡å¼</span>
  <span class="hljs-attr">experimental</span>: {
    <span class="hljs-attr">outputFileTracingRoot</span>: path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">"../../"</span>),
  },
};

<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = nextConfig;
</code></pre>
<h5 data-id="heading-29">Dockerfile é…ç½®</h5>
<pre><code class="hljs language-dockerfile" lang="dockerfile">FROM node:20-alpine AS builder

WORKDIR /app

# å¯ç”¨ Corepack åŠŸèƒ½
RUN corepack enable
# å®‰è£…å¹¶æ¿€æ´»æŒ‡å®šç‰ˆæœ¬çš„ pnpm
RUN corepack prepare pnpm@latest --activate

COPY package.json ./
RUN pnpm install --registry=https://registry.npmmirror.com

COPY . .

# æ„å»ºé¡¹ç›®
RUN npm run build

FROM node:20-alpine AS runner

WORKDIR /app

# ä»…å¤åˆ¶ standalone è¾“å‡ºçš„æ–‡ä»¶
COPY --from=builder /app/.next/standalone ./
COPY --from=builder /app/.next/static ./.next/static
COPY --from=builder /app/public ./public

# æš´éœ²ç«¯å£
EXPOSE 3008
ENV PORT=3008

# å¯åŠ¨é¡¹ç›®
CMD ["node", "server.js"]
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ae73f89e7b634df3a31e65f65a775339~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I-c6bif5oCd57u0:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768546855&amp;x-signature=niDcot3kA3ZQjlfUQz8aCgXzjqU%3D" alt="æˆªå±2026-01-09 14.49.51.png" loading="lazy"/></p>
<blockquote>
<h3 data-id="heading-30">å› ä¸ºåˆå§‹åŒ–Nextjs åŸºæœ¬ä¸Šæ²¡æœ‰ä»»ä½•å†…å®¹æ˜¾ç¤ºä¸å‡ºæ¥ ä½¿ç”¨ Standaloneæ¨¡å¼ä¹‹åçš„å¯¹æ¯”æ•ˆæœ</h3>
<p>å¦‚æœé¡¹ç›®å¤§çš„æ—¶å€™ä¼šæœ‰æ˜æ˜¾çš„å¯¹æ¯”</p>
</blockquote>
<h5 data-id="heading-31">å…³äº Next.js Standalone æ¨¡å¼</h5>
<p>Standalone æ¨¡å¼æ˜¯ Next.js å›¢é˜Ÿä¸ºäº†ä¼˜åŒ–éƒ¨ç½²è€Œæ¨å‡ºçš„æ–°ç‰¹æ€§ï¼Œå®ƒæå¤§åœ°ç®€åŒ–äº†éƒ¨ç½²è¿‡ç¨‹å¹¶å‡å°‘äº†éƒ¨ç½²åŒ…çš„å¤§å°ã€‚ä»æˆ‘è‡ªå·±çš„å®è·µç»éªŒæ¥çœ‹ï¼š</p>






























<table><thead><tr><th>Next.js ç‰ˆæœ¬</th><th>æ˜¯å¦æ”¯æŒ <code>standalone</code></th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>â‰¤ 12.1</td><td>âŒ ä¸æ”¯æŒ</td><td>åªèƒ½ <code>next start</code></td></tr><tr><td><strong>12.2</strong></td><td>âœ… <strong>é¦–æ¬¡å¼•å…¥</strong></td><td>å®éªŒ â†’ å¯ç”¨</td></tr><tr><td>12.3 / 13.x</td><td>âœ… ç¨³å®š</td><td>Docker å®˜æ–¹æ¨è</td></tr><tr><td><strong>14 / 15</strong></td><td>âœ… é»˜è®¤ç”Ÿäº§æ–¹æ¡ˆ</td><td>æ–‡æ¡£å…¨é¢</td></tr></tbody></table>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>éƒ¨ç½²åŒ…æ›´å°ï¼šåªåŒ…å«å¿…è¦çš„æ–‡ä»¶ï¼Œå¤§å¹…å‡å°‘é•œåƒå¤§å°</li>
<li>å¯åŠ¨æ›´å¿«ï¼šä¼˜åŒ–äº†æ¨¡å—åŠ è½½è·¯å¾„</li>
<li>ä¾èµ–æ›´å°‘ï¼šå‡å°‘äº†è¿è¡Œæ—¶éœ€è¦çš„æ–‡ä»¶æ•°é‡</li>
<li>æ›´é€‚åˆå®¹å™¨åŒ–éƒ¨ç½²ï¼šç‰¹åˆ«é€‚åˆ Docker éƒ¨ç½²</li>
</ul>
<p><strong>éœ€è¦æ³¨æ„çš„é—®é¢˜ï¼š</strong></p>
<ul>
<li>éœ€è¦è°ƒæ•´ next.config.js é…ç½®</li>
<li>å¦‚æœä½¿ç”¨äº†å¤–éƒ¨ä¾èµ–æˆ–å¤æ‚çš„æ–‡ä»¶æ“ä½œï¼Œéœ€è¦ç¡®è®¤å®ƒä»¬åœ¨ standalone æ¨¡å¼ä¸‹æ˜¯å¦æ­£å¸¸å·¥ä½œ</li>
<li>æŸäº›åŠ¨æ€å¯¼å…¥å¯èƒ½éœ€è¦ç‰¹æ®Šå¤„ç†</li>
</ul>
<p><strong>SSR/SSG/ISR/CSR åœ¨ä¸¤ç§æ„å»ºæ¨¡å¼ä¸‹çš„å¯¹æ¯”ï¼š</strong></p>
<p>åœ¨ä¼ ç»Ÿæ¨¡å¼å’Œ Standalone æ¨¡å¼ä¸‹ï¼Œå„ç§æ¸²æŸ“æ–¹å¼çš„è¡Œä¸ºåŸºæœ¬ç›¸åŒï¼Œä½†æœ‰ä»¥ä¸‹ç»†å¾®å·®åˆ«ï¼š</p>
<ul>
<li><strong>SSR (Server-Side Rendering)</strong>ï¼šåœ¨ä¸¤ç§æ¨¡å¼ä¸‹éƒ½æ­£å¸¸å·¥ä½œï¼Œä½†åœ¨ Standalone æ¨¡å¼ä¸‹å¯åŠ¨æ›´å¿«</li>
<li><strong>SSG (Static Site Generation)</strong>ï¼šé¢„ç”Ÿæˆçš„é™æ€æ–‡ä»¶åœ¨ä¸¤ç§æ¨¡å¼ä¸‹è¡¨ç°ä¸€è‡´</li>
<li><strong>ISR (Incremental Static Regeneration)</strong>ï¼šåœ¨ Standalone æ¨¡å¼ä¸‹ï¼Œç”±äºæ–‡ä»¶ç»“æ„ä¼˜åŒ–ï¼Œå¯èƒ½ä¼šæœ‰è½»å¾®çš„æ€§èƒ½æå‡</li>
<li><strong>CSR (Client-Side Rendering)</strong>ï¼šä¸¤ç§æ¨¡å¼ä¸‹å®Œå…¨ç›¸åŒï¼Œå› ä¸ºéƒ½åœ¨å®¢æˆ·ç«¯æ‰§è¡Œ</li>
</ul>
<p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li>å¯¹éƒ¨ç½²åŒ…å¤§å°æ•æ„Ÿçš„åº”ç”¨</li>
<li>å®¹å™¨åŒ–éƒ¨ç½²åœºæ™¯</li>
<li>éœ€è¦å¿«é€Ÿå¯åŠ¨çš„æœåŠ¡</li>
<li>éœ€è¦ç®€åŒ–éƒ¨ç½²æµç¨‹çš„é¡¹ç›®</li>
</ul>
<h3 data-id="heading-32">8. æ•…éšœæ’æŸ¥æŠ€å·§</h3>
<h4 data-id="heading-33">æŸ¥çœ‹å®¹å™¨çŠ¶æ€</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯</span>
docker inspect container-name

<span class="hljs-comment"># æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µ</span>
docker stats container-name

<span class="hljs-comment"># æŸ¥çœ‹å®¹å™¨è¿›ç¨‹</span>
docker top container-name
</code></pre>
<h4 data-id="heading-34">è°ƒè¯•å®¹å™¨</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span>
docker <span class="hljs-built_in">exec</span> -it container-name sh

<span class="hljs-comment"># æŸ¥çœ‹å®¹å™¨æŒ‚è½½çš„å·</span>
docker inspect -f <span class="hljs-string">'{{.Mounts}}'</span> container-name

<span class="hljs-comment"># ä»¥ root æƒé™è¿›å…¥å®¹å™¨</span>
docker <span class="hljs-built_in">exec</span> -u root -it container-name sh
</code></pre>
<h4 data-id="heading-35">å¸¸è§é—®é¢˜æ’æŸ¥</h4>
<ul>
<li>å®¹å™¨æ— æ³•å¯åŠ¨ï¼šæ£€æŸ¥æ—¥å¿— <code>docker logs container-name</code></li>
<li>ç«¯å£æ— æ³•è®¿é—®ï¼šæ£€æŸ¥é˜²ç«å¢™è®¾ç½®å’Œç«¯å£æ˜ å°„</li>
<li>ç½‘ç»œè¿æ¥é—®é¢˜ï¼šä½¿ç”¨ <code>docker network inspect</code> æ£€æŸ¥ç½‘ç»œé…ç½®</li>
<li>å­˜å‚¨é—®é¢˜ï¼šä½¿ç”¨ <code>docker volume inspect</code> æ£€æŸ¥å·é…ç½®</li>
</ul>
<h3 data-id="heading-36">9. å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h3>
<h4 data-id="heading-37">é—®é¢˜ 1ï¼šå®¹å™¨ä¸­æ²¡æœ‰ pnpm</h4>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šåœ¨ Dockerfile ä¸­å®‰è£… pnpm</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># ä½¿ç”¨ Corepack æ–¹å¼ï¼ˆæ¨èï¼‰
RUN corepack enable
RUN corepack prepare pnpm@latest --activate
</code></pre>
<h4 data-id="heading-38">é—®é¢˜ 2ï¼šå¤–éƒ¨æ— æ³•è®¿é—®å®¹å™¨å†…æœåŠ¡</h4>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šåœ¨å¯åŠ¨å‘½ä»¤ä¸­æ·»åŠ <code>-H 0.0.0.0</code></p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"scripts"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
    <span class="hljs-attr">"dev"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"next dev -H 0.0.0.0 -p 3008"</span>
  <span class="hljs-punctuation">}</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<h4 data-id="heading-39">é—®é¢˜ 3ï¼šDocker é•œåƒè¿‡å¤§</h4>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<ol>
<li>ä½¿ç”¨å¤šé˜¶æ®µæ„å»º</li>
<li>ä½¿ç”¨ Next.js çš„ standalone æ¨¡å¼</li>
<li>é€‰æ‹©æ›´å°çš„åŸºç¡€é•œåƒï¼ˆå¦‚ alpine ç‰ˆæœ¬ï¼‰</li>
</ol>
<h4 data-id="heading-40">é—®é¢˜ 4ï¼šNode ç‰ˆæœ¬é—®é¢˜</h4>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¼ºåˆ¶é‡æ–°æ„å»ºé•œåƒ</span>
docker build --no-cache -t next-app .

<span class="hljs-comment"># åˆ é™¤æŒ‡å®šç‰ˆæœ¬é•œåƒ</span>
docker rmi node:18-alpine

<span class="hljs-comment"># éªŒè¯è¿è¡Œçš„ç‰ˆæœ¬</span>
docker run --<span class="hljs-built_in">rm</span> next-app node -v
</code></pre>
<h4 data-id="heading-41">é—®é¢˜ 5ï¼šç¼“å­˜å¯¼è‡´çš„é—®é¢˜</h4>
<p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ— ç¼“å­˜æ„å»º</span>
docker build --no-cache -t aip-web:new .

<span class="hljs-comment"># æ¸…ç†ç³»ç»Ÿç¼“å­˜</span>
docker system prune
</code></pre>
<h3 data-id="heading-42">10. Docker é•œåƒå¤§å°ä¼˜åŒ–æŠ€å·§</h3>
<h4 data-id="heading-43">æŸ¥çœ‹é•œåƒå¤§å°</h4>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¿›å…¥å®¹å™¨æŸ¥çœ‹</span>
docker <span class="hljs-built_in">exec</span> -it &lt;å®¹å™¨å&gt; sh

<span class="hljs-comment"># æŸ¥çœ‹é•œåƒä½“ç§¯</span>
docker images next-prod
</code></pre>
<h4 data-id="heading-44">ä¼˜åŒ–ç­–ç•¥</h4>
<ol>
<li><strong>å¤šé˜¶æ®µæ„å»º</strong>ï¼šå°†æ„å»ºç¯å¢ƒå’Œè¿è¡Œç¯å¢ƒåˆ†ç¦»</li>
<li><strong>ä½¿ç”¨ .dockerignore</strong>ï¼šæ’é™¤ä¸å¿…è¦çš„æ–‡ä»¶</li>
<li><strong>ä½¿ç”¨ Alpine é•œåƒ</strong>ï¼šæ›´å°çš„åŸºç¡€é•œåƒ</li>
<li><strong>æ¸…ç†ç¼“å­˜</strong>ï¼šåœ¨æ„å»ºè¿‡ç¨‹ä¸­æ¸…ç†ä¸å¿…è¦çš„ç¼“å­˜æ–‡ä»¶</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[âš¡IndexedDBï¼šç°ä»£Webåº”ç”¨çš„é«˜æ€§èƒ½æœ¬åœ°æ•°æ®åº“è§£å†³æ–¹æ¡ˆ]]></title>    <link>https://juejin.cn/post/7592939457042939956</link>    <guid>https://juejin.cn/post/7592939457042939956</guid>    <pubDate>2026-01-09T07:04:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592939457042939956" data-draft-id="7592939457042858036" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="âš¡IndexedDBï¼šç°ä»£Webåº”ç”¨çš„é«˜æ€§èƒ½æœ¬åœ°æ•°æ®åº“è§£å†³æ–¹æ¡ˆ"/> <meta itemprop="keywords" content="å‰ç«¯,IndexedDB"/> <meta itemprop="datePublished" content="2026-01-09T07:04:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å°ç™½èœçš„ç¼–ç¨‹æ—¥è®°"/> <meta itemprop="url" content="https://juejin.cn/user/1302259794456120"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            âš¡IndexedDBï¼šç°ä»£Webåº”ç”¨çš„é«˜æ€§èƒ½æœ¬åœ°æ•°æ®åº“è§£å†³æ–¹æ¡ˆ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1302259794456120/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å°ç™½èœçš„ç¼–ç¨‹æ—¥è®°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:04:53.000Z" title="Fri Jan 09 2026 07:04:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="vs2015">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#1e1e1e;color:#dcdcdc}.hljs-keyword,.hljs-link,.hljs-literal,.hljs-name,.hljs-symbol{color:#569cd6}.hljs-link{text-decoration:underline}.hljs-built_in,.hljs-type{color:#4ec9b0}.hljs-class,.hljs-number{color:#b8d7a3}.hljs-meta-string,.hljs-string{color:#d69d85}.hljs-regexp,.hljs-template-tag{color:#9a5334}.hljs-formula,.hljs-function,.hljs-params,.hljs-subst,.hljs-title{color:#dcdcdc}.hljs-comment,.hljs-quote{color:#57a64a;font-style:italic}.hljs-doctag{color:#608b4e}.hljs-meta,.hljs-meta-keyword,.hljs-tag{color:#9b9b9b}.hljs-template-variable,.hljs-variable{color:#bd63c5}.hljs-attr,.hljs-attribute,.hljs-builtin-name{color:#9cdcfe}.hljs-section{color:gold}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-bullet,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-selector-tag{color:#d7ba7d}.hljs-addition{background-color:#144212}.hljs-addition,.hljs-deletion{display:inline-block;width:100%}.hljs-deletion{background-color:#600}</style><h4 data-id="heading-0">ä¸€ã€IndexedDB æ˜¯ä»€ä¹ˆï¼Ÿ</h4>
<p>IndexedDBæ˜¯ä¸€ç§æµè§ˆå™¨å†…ç½®çš„NoSQLæ•°æ®åº“ï¼Œå…è®¸ä½ åœ¨å®¢æˆ·ç«¯å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®ã€‚å®ƒä¸åŒäºç®€å•çš„é”®å€¼å­˜å‚¨localStorageï¼Œå¯ä»¥è§†ä¸ºä¸€ä¸ªè½»é‡çº§çš„ã€åŸºäºJavaScriptçš„æœ¬åœ°æ•°æ®åº“ç³»ç»Ÿã€‚å…¶æ ¸å¿ƒä»·å€¼åœ¨äºæ”¯æŒ<strong>å¼‚æ­¥æ“ä½œ</strong>ï¼ˆä¸é˜»å¡é¡µé¢æ¸²æŸ“ï¼‰ã€<strong>äº‹åŠ¡å¤„ç†</strong>ï¼ˆä¿è¯æ•°æ®æ“ä½œçš„åŸå­æ€§å’Œä¸€è‡´æ€§ï¼‰ï¼Œå¹¶æä¾›<strong>ç´¢å¼•</strong>ä»¥å®ç°é«˜æ€§èƒ½æŸ¥è¯¢ã€‚</p>
<p><strong>å…³é”®ç‰¹æ€§é€Ÿè§ˆ</strong></p>
<ul>
<li><strong>éå…³ç³»å‹ç»“æ„ (NoSQL)</strong> ï¼šæ•°æ®ä»¥å¯¹è±¡å½¢å¼å­˜å‚¨ï¼Œæ¯ä¸ªå¯¹è±¡å­˜å‚¨ï¼ˆObject Storeï¼‰ç±»ä¼¼äºä¸€å¼ è¡¨ï¼Œä½†æ— éœ€å›ºå®šç»“æ„ã€‚</li>
<li><strong>å¼‚æ­¥API</strong>ï¼šæ‰€æœ‰æ•°æ®åº“æ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œé¿å…ç•Œé¢å¡é¡¿ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
<li><strong>æŒä¹…åŒ–å­˜å‚¨</strong>ï¼šæ•°æ®æŒä¹…ä¿å­˜åœ¨æµè§ˆå™¨ä¸­ï¼Œé™¤éç”¨æˆ·æ˜ç¡®æ¸…é™¤ç½‘ç«™æ•°æ®ï¼Œå¦åˆ™ä¸ä¼šä¸¢å¤±ã€‚</li>
<li><strong>å¤§å®¹é‡å­˜å‚¨</strong>ï¼šé€šå¸¸å¯å­˜å‚¨æ•°ç™¾MBç”šè‡³æ›´å¤šçš„æ•°æ®ï¼Œè¿œè¶…localStorageçº¦5MBçš„é™åˆ¶ã€‚</li>
</ul>
<h4 data-id="heading-1">äºŒã€IndexedDB çš„æ ¸å¿ƒä¼˜åŠ¿ä¸å±€é™æ€§</h4>
<p>ç†è§£IndexedDBçš„ä¼˜åŠ£ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬åœ¨æ­£ç¡®çš„åœºæ™¯ä¸‹æ›´å¥½åœ°åˆ©ç”¨å®ƒã€‚</p>






























<table><thead><tr><th>ç‰¹æ€§ç»´åº¦</th><th>ä¼˜åŠ¿ä½“ç°</th><th>å±€é™æ€§æˆ–æŒ‘æˆ˜</th></tr></thead><tbody><tr><td><strong>å­˜å‚¨èƒ½åŠ›</strong>â€‹</td><td>æ”¯æŒæµ·é‡ç»“æ„åŒ–æ•°æ®å­˜å‚¨ï¼Œé€‚åˆç¼“å­˜å›¾ç‰‡ã€æ–‡æ¡£ç­‰</td><td>ä¸åŒæµè§ˆå™¨æœ‰å­˜å‚¨é…é¢é™åˆ¶ï¼Œé€šå¸¸ä¸ºç£ç›˜ç©ºé—´çš„æŸä¸ªç™¾åˆ†æ¯”</td></tr><tr><td><strong>æ•°æ®æ“ä½œ</strong>â€‹</td><td>æ”¯æŒäº‹åŠ¡ã€ç´¢å¼•å’Œå¤æ‚æŸ¥è¯¢ï¼ŒåŠŸèƒ½å¼ºå¤§</td><td>APIç›¸å¯¹åº•å±‚ï¼Œè¾ƒä¸ºå¤æ‚ï¼Œå­¦ä¹ æ›²çº¿è¾ƒé™¡</td></tr><tr><td><strong>æ€§èƒ½è¡¨ç°</strong>â€‹</td><td>å¼‚æ­¥æ“ä½œä¸é˜»å¡UIï¼Œç´¢å¼•æŸ¥è¯¢é€Ÿåº¦å¿«</td><td>éœ€è¦å¤„ç†å¼‚æ­¥ç¼–ç¨‹ï¼ˆå›è°ƒã€Promiseï¼‰</td></tr><tr><td><strong>å…¼å®¹æ€§ä¸å®‰å…¨</strong>â€‹</td><td>ç°ä»£æµè§ˆå™¨æ”¯æŒè‰¯å¥½ï¼Œéµå¾ªåŒæºç­–ç•¥</td><td>è€æ—§æµè§ˆå™¨å…¼å®¹æ€§éœ€è€ƒè™‘ï¼Œå—åŒæºç­–ç•¥é™åˆ¶</td></tr></tbody></table>
<h4 data-id="heading-2">ä¸‰ã€å®æˆ˜åº”ç”¨ï¼šåŸºäºIndexedDBçš„å…¬å¼å›¾ç‰‡ç¼“å­˜ç³»ç»Ÿ</h4>
<p>ä½ çš„ä»£ç æ˜¯ä¸€ä¸ªå®Œç¾ä½“ç°IndexedDBä¼˜åŠ¿çš„æ¡ˆä¾‹ã€‚ä¸‹é¢æˆ‘ä»¬è§£ææ ¸å¿ƒå®ç°ã€‚</p>
<p><strong>1. ç³»ç»Ÿæ¶æ„ä¸å·¥ä½œæµç¨‹</strong></p>
<p>è¯¥ç³»ç»Ÿé€šè¿‡å°†KaTeXå…¬å¼æ–‡æœ¬è½¬æ¢ä¸ºå›¾ç‰‡å¹¶ç¼“å­˜ï¼Œè§£å†³äº†è¡¨æ ¼ä¸­é‡å¤æ¸²æŸ“ç›¸åŒå…¬å¼æ—¶çš„æ€§èƒ½ç“¶é¢ˆã€‚å…¶æ ¸å¿ƒå·¥ä½œæµç¨‹ï¼Œå³ä»å…¬å¼åˆ°å›¾ç‰‡çš„ç¼“å­˜ä¸è¯»å–æœºåˆ¶ï¼Œå¯ä»¥ç›´è§‚åœ°å±•ç¤ºä¸ºä¸‹å›¾ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/491ef7f7a0374373a4ca37e6dae2b6b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5bCP55m96I-c55qE57yW56iL5pel6K6w:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768547412&amp;x-signature=mCBS9UZAhPS26kR%2FrpWYuPtcwo8%3D" alt="image.png" loading="lazy"/></p>
<p><strong>2. å…³é”®ä»£ç è§£æ</strong></p>
<ul>
<li>
<p><strong>åˆå§‹åŒ–æ•°æ®åº“ä¸å¯¹è±¡å­˜å‚¨</strong>ï¼šåœ¨ <code>onupgradeneeded</code>äº‹ä»¶ä¸­å»ºç«‹ç»“æ„ï¼Œè¿™æ˜¯ç‰ˆæœ¬åŒ–æ¶æ„çš„æ ¸å¿ƒã€‚</p>
<pre><code class="hljs language-php" lang="php">request.onupgradeneeded = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">db</span> = event.target.result;
    <span class="hljs-comment">// æ£€æŸ¥å¯¹è±¡å­˜å‚¨æ˜¯å¦å­˜åœ¨ï¼Œé¿å…é‡å¤åˆ›å»º</span>
    <span class="hljs-keyword">if</span> (!db.objectStoreNames.<span class="hljs-title function_ invoke__">contains</span>(STORE_NAME)) {
        <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">store</span> = db.<span class="hljs-title function_ invoke__">createObjectStore</span>(STORE_NAME, { <span class="hljs-attr">keyPath</span>: <span class="hljs-string">'key'</span> });
        <span class="hljs-comment">// åˆ›å»ºæ—¶é—´æˆ³ç´¢å¼•ï¼Œä¾¿äºåç»­å®ç°ç¼“å­˜æ¸…ç†ç­–ç•¥</span>
        store.<span class="hljs-title function_ invoke__">createIndex</span>(<span class="hljs-string">'timestamp'</span>, <span class="hljs-string">'timestamp'</span>, { <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> });
    }
};
</code></pre>
</li>
<li>
<p><strong>æ•°æ®æ“ä½œï¼ˆä»¥è¯»å–ä¸ºä¾‹ï¼‰</strong> ï¼šä½¿ç”¨äº‹åŠ¡ï¼ˆTransactionï¼‰æ¥ä¿è¯æ•°æ®æ“ä½œçš„å¯é æ€§å’Œä¸€è‡´æ€§ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">async function getFormulaImageFromIndexedDB(cacheKey) {
    try {
        const <span class="hljs-attr">db</span> = await initDB()<span class="hljs-comment">;</span>
        // åˆ›å»ºä¸€ä¸ªåªè¯»äº‹åŠ¡
        const <span class="hljs-attr">transaction</span> = db.transaction([STORE_NAME], <span class="hljs-string">'readonly'</span>)<span class="hljs-comment">;</span>
        const <span class="hljs-attr">store</span> = transaction.objectStore(STORE_NAME)<span class="hljs-comment">;</span>
        // ä½¿ç”¨Promiseå°è£…å¼‚æ­¥æ“ä½œï¼Œç®€åŒ–è°ƒç”¨
        return new Promise((resolve, reject) =&gt; {
            const <span class="hljs-attr">request</span> = store.get(cacheKey)<span class="hljs-comment">;</span>
            <span class="hljs-attr">request.onsuccess</span> = () =&gt; {
                const <span class="hljs-attr">result</span> = request.result<span class="hljs-comment">;</span>
                resolve(result ? result.imageUrl : null)<span class="hljs-comment">;</span>
            }<span class="hljs-comment">;</span>
            <span class="hljs-attr">request.onerror</span> = () =&gt; reject(request.error)<span class="hljs-comment">;</span>
        })<span class="hljs-comment">;</span>
    } catch (error) {
        console.error('ä»IndexedDBè¯»å–å¤±è´¥:', error)<span class="hljs-comment">;</span>
        return null<span class="hljs-comment">;</span>
    }
}
</code></pre>
</li>
</ul>
<h4 data-id="heading-3">å››ã€IndexedDB æœ€ä½³å®è·µ</h4>
<ol>
<li>
<p><strong>ä½¿ç”¨Promiseè¿›è¡Œå°è£…</strong>ï¼šIndexedDB APIæ˜¯å›è°ƒå½¢å¼çš„ï¼Œç”¨Promiseå°è£…èƒ½æå¤§æå‡ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œé¿å…å›è°ƒåœ°ç‹±ã€‚</p>
</li>
<li>
<p><strong>å»ºç«‹æœ‰æ•ˆçš„ç¼“å­˜é”®ï¼ˆCache Keyï¼‰</strong> ï¼šå¦‚åŒä½ çš„ä»£ç æ‰€ç¤ºï¼Œé€šè¿‡å“ˆå¸Œå‡½æ•°å°†å…¬å¼æ–‡æœ¬å’Œå°ºå¯¸è½¬æ¢ä¸ºå”¯ä¸€é”®ï¼Œæ˜¯ä¿è¯ç¼“å­˜å‡†ç¡®æ€§çš„åŸºç¡€ã€‚</p>
</li>
<li>
<p><strong>å®ç°ç¼“å­˜æ¸…ç†ç­–ç•¥</strong>ï¼šåˆ©ç”¨æ—¶é—´æˆ³ç´¢å¼•ï¼Œå®šæœŸæ¸…ç†è¿‡æœŸç¼“å­˜ï¼Œé˜²æ­¢å­˜å‚¨ç©ºé—´æ— é™å¢é•¿ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">// ç¤ºä¾‹ï¼šæ¸…ç†7å¤©å‰çš„ç¼“å­˜
async function cleanupOldCache(<span class="hljs-attr">maxAge</span> = <span class="hljs-number">7</span> * <span class="hljs-number">24</span> * <span class="hljs-number">60</span> * <span class="hljs-number">60</span> * <span class="hljs-number">1000</span>) {
    const <span class="hljs-attr">db</span> = await initDB()<span class="hljs-comment">;</span>
    const <span class="hljs-attr">transaction</span> = db.transaction([STORE_NAME], <span class="hljs-string">'readwrite'</span>)<span class="hljs-comment">;</span>
    const <span class="hljs-attr">store</span> = transaction.objectStore(STORE_NAME)<span class="hljs-comment">;</span>
    const <span class="hljs-attr">index</span> = store.index(<span class="hljs-string">'timestamp'</span>)<span class="hljs-comment">;</span>
    const <span class="hljs-attr">cutoffTime</span> = Date.now() - maxAge<span class="hljs-comment">;</span>
    // ä½¿ç”¨ç´¢å¼•å’Œé”®èŒƒå›´è¿›è¡Œé«˜æ•ˆåˆ é™¤
    const <span class="hljs-attr">range</span> = IDBKeyRange.upperBound(cut<span class="hljs-literal">off</span>Time)<span class="hljs-comment">;</span>
    let <span class="hljs-attr">cursor</span> = await index.openCursor(range)<span class="hljs-comment">;</span>
    while (cursor) {
        cursor.delete()<span class="hljs-comment">;</span>
        <span class="hljs-attr">cursor</span> = await cursor.continue()<span class="hljs-comment">;</span>
    }
}
</code></pre>
</li>
<li>
<p><strong>ä¼˜é›…é™çº§</strong>ï¼šåœ¨IndexedDBä¸å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œåº”å…·å¤‡å›é€€æ–¹æ¡ˆï¼Œä¾‹å¦‚å¯ä»¥é™çº§ä¸ºä»…ä½¿ç”¨å†…å­˜ç¼“å­˜ï¼Œå¹¶ç»™å‡ºç”¨æˆ·æç¤ºã€‚</p>
</li>
</ol>
<h4 data-id="heading-4">äº”ã€æ€»ç»“</h4>
<p>IndexedDBå‡­å€Ÿå…¶<strong>å¤§å®¹é‡ã€å¼‚æ­¥é«˜æ€§èƒ½å’Œç»“æ„åŒ–å­˜å‚¨èƒ½åŠ›</strong>ï¼Œæˆä¸ºæ„å»ºå¤æ‚ç¦»çº¿åº”ç”¨ã€å®ç°å‰ç«¯å¤§æ•°æ®ç¼“å­˜ï¼ˆå¦‚ä½ çš„å…¬å¼å›¾ç‰‡ç¼“å­˜åœºæ™¯ï¼‰çš„ç†æƒ³é€‰æ‹©ã€‚å°½ç®¡å…¶APIç›¸å¯¹å¤æ‚ï¼Œä½†é€šè¿‡Promiseå°è£…ã€äº‹åŠ¡çš„æ­£ç¡®ä½¿ç”¨ä»¥åŠåˆç†çš„è®¾è®¡æ¨¡å¼ï¼Œå¯ä»¥å……åˆ†å‘æŒ¥å…¶æ½œåŠ›ï¼Œæ˜¾è‘—æå‡Webåº”ç”¨çš„æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚</p>
<p>å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åŠ©ä½ æ›´å…¨é¢åœ°ç†è§£IndexedDBï¼Œå¹¶å°†å…¶æˆåŠŸåº”ç”¨äºæ›´å¤šåœºæ™¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è§£æElementPlusæ‰“åŒ…æºç ï¼ˆäº”ã€copyFilesï¼‰]]></title>    <link>https://juejin.cn/post/7593015632082468891</link>    <guid>https://juejin.cn/post/7593015632082468891</guid>    <pubDate>2026-01-09T07:12:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593015632082468891" data-draft-id="7592944032773750835" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content=" è§£æElementPlusæ‰“åŒ…æºç ï¼ˆäº”ã€copyFilesï¼‰"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Vue.js"/> <meta itemprop="datePublished" content="2026-01-09T07:12:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jqq666"/> <meta itemprop="url" content="https://juejin.cn/user/2063132066587822"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
             è§£æElementPlusæ‰“åŒ…æºç ï¼ˆäº”ã€copyFilesï¼‰
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2063132066587822/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jqq666
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:12:18.000Z" title="Fri Jan 09 2026 07:12:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿˜æœ‰æœ€åä¸€ä¸ªcopyFilesï¼Œè™½ç„¶æœ‰ç‚¹æ°´ï¼Œè¿˜æ˜¯è®°å½•ä¸‹</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/31aec07d9dc5462caf490fc0e8441e73~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAganFxNjY2:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768547601&amp;x-signature=cBWWLlunhI3rxQWu29jQZo7sqJQ%3D" alt="image.png" loading="lazy"/></p>
<p>copyTypesDefinitions æˆ‘ä»¬ä¹‹å‰æ‰“åŒ…ç±»å‹å·²ç»å†™è¿‡ã€‚è¿™é‡Œæˆ‘ä»¬åªçœ‹copyFiles</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">export</span> <span class="hljs-selector-tag">const</span> <span class="hljs-selector-tag">copyFiles</span> = () =&gt;
  <span class="hljs-selector-tag">Promise</span><span class="hljs-selector-class">.all</span>([
    <span class="hljs-built_in">copyFile</span>(epPackage, path.<span class="hljs-built_in">join</span>(epOutput, <span class="hljs-string">'package.json'</span>)),
    <span class="hljs-built_in">copyFile</span>(
      path.<span class="hljs-built_in">resolve</span>(projRoot, <span class="hljs-string">'README.md'</span>),
      path.<span class="hljs-built_in">resolve</span>(epOutput, <span class="hljs-string">'README.md'</span>)
    ),
    <span class="hljs-built_in">copyFile</span>(
      path.<span class="hljs-built_in">resolve</span>(projRoot, <span class="hljs-string">'typings'</span>, <span class="hljs-string">'global.d.ts'</span>),
      path.<span class="hljs-built_in">resolve</span>(epOutput, <span class="hljs-string">'global.d.ts'</span>)
    ),
  ])

</code></pre>
<p>è¿™é‡Œå¤åˆ¶äº†ä¸‰ä¸ªæ–‡ä»¶</p>
<h2 data-id="heading-0"><code>packages/element-plus/package.json</code></h2>
<p><code>packages/element-plus/package.json</code>è¿™ä¸ªæ–‡ä»¶å¤åˆ¶åˆ°æ‰“åŒ…åçš„é¡¹ç›®ä¸‹å½“ä½œæ‰“åŒ…åçš„package.json</p>
<p>package.jsoné‡Œé¢æ¶‰åŠäº†ä¸€äº›package.jsonçš„åŸºç¡€ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"element-plus"</span><span class="hljs-punctuation">,</span>        <span class="hljs-comment">// åŒ…åï¼Œå®‰è£…æ—¶ä½¿ç”¨ npm install element-plus</span>
  <span class="hljs-attr">"version"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"0.0.0-dev.1"</span><span class="hljs-punctuation">,</span>     <span class="hljs-comment">// ç‰ˆæœ¬å·</span>
  <span class="hljs-attr">"description"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A Component Library for Vue 3"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// åŒ…çš„æè¿°</span>
  <span class="hljs-attr">"keywords"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">"element-plus"</span><span class="hljs-punctuation">,</span> <span class="hljs-string">"vue"</span><span class="hljs-punctuation">,</span> ...<span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å…³é”®è¯ï¼Œæ–¹ä¾¿ npm æœç´¢</span>
  <span class="hljs-attr">"homepage"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"https://element-plus.org/"</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// å®˜ç½‘åœ°å€</span>
  <span class="hljs-attr">"bugs"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"url"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"..."</span> <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>      <span class="hljs-comment">// é—®é¢˜åé¦ˆåœ°å€</span>
  <span class="hljs-attr">"license"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"MIT"</span><span class="hljs-punctuation">,</span>              <span class="hljs-comment">// å¼€æºåè®®</span>
  <span class="hljs-attr">"repository"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span>         <span class="hljs-comment">// ä»£ç ä»“åº“åœ°å€</span>
  <span class="hljs-attr">"publishConfig"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> ... <span class="hljs-punctuation">}</span>    <span class="hljs-comment">// å‘å¸ƒé…ç½®ï¼š`access: public` è¡¨ç¤ºè¯¥åŒ…æ˜¯å…¬å¼€å‘å¸ƒçš„ï¼ˆnpm ç§æœ‰åŒ…éœ€ä»˜è´¹ï¼Œæ­¤é…ç½®ç¡®ä¿åŒ…å…¬å¼€å¯è®¿é—®ï¼‰</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>è¿˜æœ‰ä¸€äº›æ¨¡å—å¯¼å‡ºè§„åˆ™çš„ä¿¡æ¯ï¼Œmain/module/typesè¿™ä¸‰ä¸ªæ˜¯æ—©æœŸ npm åŒ…çš„ â€œåŸºç¡€é…ç½®â€ï¼Œåªèƒ½å®šä¹‰ â€œæ ¹è·¯å¾„â€ çš„å•ä¸€å…¥å£ï¼Œæ— æ³•ç²¾ç»†åŒ–æ§åˆ¶å­è·¯å¾„ï¼Œç°åœ¨çš„exportsä¼˜å…ˆçº§æ›´é«˜</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-attr">"main"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"lib/index.js"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"module"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"es/index.mjs"</span><span class="hljs-punctuation">,</span>
<span class="hljs-attr">"types"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"es/index.d.ts"</span><span class="hljs-punctuation">,</span>
</code></pre>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-string">"exports"</span>: {
  <span class="hljs-regexp">//</span> <span class="hljs-number">1</span>. æ ¹è·¯å¾„å¼•å…¥ï¼šimport <span class="hljs-string">'element-plus'</span> / <span class="hljs-keyword">require</span>(<span class="hljs-string">'element-plus'</span>)
  <span class="hljs-string">"."</span>: {
    <span class="hljs-string">"types"</span>: <span class="hljs-string">"./es/index.d.ts"</span>,  <span class="hljs-regexp">//</span> TS ç±»å‹æ–‡ä»¶ï¼ˆä¼˜å…ˆåŒ¹é…ï¼‰
    <span class="hljs-string">"import"</span>: <span class="hljs-string">"./es/index.mjs"</span>,  <span class="hljs-regexp">//</span> ESM å¼•å…¥ï¼ˆimport è¯­æ³•ï¼‰åŠ è½½ es ç›®å½•çš„ mjs æ–‡ä»¶ï¼ˆESM æ¨¡å—ï¼‰
    <span class="hljs-string">"require"</span>: <span class="hljs-string">"./lib/index.js"</span>  // CommonJS å¼•å…¥ï¼ˆ<span class="hljs-keyword">require</span> è¯­æ³•ï¼‰åŠ è½½ lib ç›®å½•çš„ js æ–‡ä»¶ï¼ˆCJS æ¨¡å—ï¼‰
  },
  <span class="hljs-regexp">//</span> <span class="hljs-number">2</span>. å…¨å±€ç±»å‹å¼•å…¥ï¼šimport <span class="hljs-string">'element-plus/global'</span>
  <span class="hljs-string">"./global"</span>: {
    <span class="hljs-string">"types"</span>: <span class="hljs-string">"./global.d.ts"</span>     // ä»…å¯¼å‡ºå…¨å±€ç±»å‹ï¼ˆæ—  js ä»£ç ï¼Œç”¨äºå…¨å±€ç±»å‹å£°æ˜ï¼‰
  },
  <span class="hljs-regexp">//</span> <span class="hljs-number">3</span>. ç›´æ¥å¼•å…¥ es ç›®å½•ï¼šimport <span class="hljs-string">'element-plus/es'</span>
  <span class="hljs-string">"./es"</span>: {
    <span class="hljs-string">"types"</span>: <span class="hljs-string">"./es/index.d.ts"</span>,
    <span class="hljs-string">"import"</span>: <span class="hljs-string">"./es/index.mjs"</span>   // ä»…æ”¯æŒ ESM å¼•å…¥ï¼ˆes ç›®å½•åªå­˜ ESM æ¨¡å—ï¼‰
  },
  <span class="hljs-regexp">//</span> <span class="hljs-number">4</span>. ç›´æ¥å¼•å…¥ lib ç›®å½•ï¼š<span class="hljs-keyword">require</span>(<span class="hljs-string">'element-plus/lib'</span>)
  <span class="hljs-string">"./lib"</span>: {
    <span class="hljs-string">"types"</span>: <span class="hljs-string">"./lib/index.d.ts"</span>,
    <span class="hljs-string">"require"</span>: <span class="hljs-string">"./lib/index.js"</span>  // ä»…æ”¯æŒ CommonJS å¼•å…¥ï¼ˆlib ç›®å½•åªå­˜ CJS æ¨¡å—ï¼‰
  },
  <span class="hljs-regexp">//</span> <span class="hljs-number">5</span>. æŒ‰éœ€å¼•å…¥ es ç›®å½•ä¸‹çš„ mjs æ–‡ä»¶ï¼šimport <span class="hljs-string">'element-plus/es/button.mjs'</span>
  <span class="hljs-string">"./es/*.mjs"</span>: {
    <span class="hljs-string">"types"</span>: <span class="hljs-string">"./es/*.d.ts"</span>,      <span class="hljs-regexp">//</span> åŒ¹é…å¯¹åº” ts ç±»å‹æ–‡ä»¶ï¼ˆå¦‚ button.d.tsï¼‰
    <span class="hljs-string">"import"</span>: <span class="hljs-string">"./es/*.mjs"</span>       // åŠ è½½å¯¹åº” mjs æ–‡ä»¶ï¼ˆESM æŒ‰éœ€å¼•å…¥ï¼‰
  },
  <span class="hljs-regexp">//</span> <span class="hljs-number">6</span>. æŒ‰éœ€å¼•å…¥ es ç›®å½•ä¸‹çš„æ¨¡å—ï¼šimport <span class="hljs-string">'element-plus/es/button'</span>ï¼ˆæ— åç¼€ï¼‰
  <span class="hljs-string">"./es/*"</span>: {
    <span class="hljs-string">"types"</span>: [<span class="hljs-string">"./es/*.d.ts"</span>, <span class="hljs-string">"./es/*/index.d.ts"</span>], <span class="hljs-regexp">//</span> ç±»å‹åŒ¹é…ä¼˜å…ˆçº§ï¼šå…ˆæ‰¾ button.d.tsï¼Œå†æ‰¾ button/index.d.ts
    <span class="hljs-string">"import"</span>: <span class="hljs-string">"./es/*.mjs"</span>       // è‡ªåŠ¨è¡¥å…¨ mjs åç¼€ï¼Œé€‚é…å¼€å‘è€…çœç•¥åç¼€çš„ä¹ æƒ¯
  },
  <span class="hljs-regexp">//</span> <span class="hljs-number">7</span>. æŒ‰éœ€å¼•å…¥ lib ç›®å½•ä¸‹çš„ js æ–‡ä»¶ï¼š<span class="hljs-keyword">require</span>(<span class="hljs-string">'element-plus/lib/button.js'</span>)
  <span class="hljs-string">"./lib/*.js"</span>: {
    <span class="hljs-string">"types"</span>: <span class="hljs-string">"./lib/*.d.ts"</span>,
    <span class="hljs-string">"require"</span>: <span class="hljs-string">"./lib/*.js"</span>      // CJS æŒ‰éœ€å¼•å…¥ï¼ˆå¸¦åç¼€ï¼‰
  },
  <span class="hljs-regexp">//</span> <span class="hljs-number">8</span>. æŒ‰éœ€å¼•å…¥ lib ç›®å½•ä¸‹çš„æ¨¡å—ï¼š<span class="hljs-keyword">require</span>(<span class="hljs-string">'element-plus/lib/button'</span>)ï¼ˆæ— åç¼€ï¼‰
  <span class="hljs-string">"./lib/*"</span>: {
    <span class="hljs-string">"types"</span>: [<span class="hljs-string">"./lib/*.d.ts"</span>, <span class="hljs-string">"./lib/*/index.d.ts"</span>], <span class="hljs-regexp">//</span> ç±»å‹åŒ¹é…è§„åˆ™åŒ es ç›®å½•
    <span class="hljs-string">"require"</span>: <span class="hljs-string">"./lib/*.js"</span>      // è‡ªåŠ¨è¡¥å…¨ js åç¼€
  },
  <span class="hljs-regexp">//</span> <span class="hljs-number">9</span>. å…œåº•è§„åˆ™ï¼šåŒ¹é…æ‰€æœ‰æœªå®šä¹‰çš„è·¯å¾„ï¼ˆå¦‚ import <span class="hljs-string">'element-plus/package.json'</span>ï¼‰
  <span class="hljs-string">"./*"</span>: <span class="hljs-string">"./*"</span>
}

</code></pre>
<p>package.jsonä¸­è¿˜æœ‰ç›¸å…³çš„peerDependenciesï¼ˆè¦æ±‚é¡¹ç›®ä¸­å®‰è£…ç¬¦åˆç‰ˆæœ¬çš„ä¾èµ–ï¼Œå¦åˆ™ä¼šè¿›è¡Œæé†’ï¼‰ã€dependenciesã€devDependencies</p>
<p>è¿˜æœ‰å…¶ä»–çš„ç›¸å…³é…ç½®å¯è‡ªè¡ŒæŸ¥çœ‹æ–‡æ¡£</p>
<h2 data-id="heading-1"><code>README.md</code></h2>
<p>æ ¹è·¯å¾„ä¸‹çš„READMEæ–‡æ¡£ï¼Œå¤åˆ¶åˆ°æ‰“åŒ…åçš„åŒ…ä¸­</p>
<h2 data-id="heading-2"><code>global.d.ts</code></h2>
<p>è¿™ä¸ªæ–‡ä»¶å°±æ˜¯Element Plus çš„<strong>å…¨å±€ TypeScript ç±»å‹å£°æ˜æ–‡ä»¶</strong></p>
<p>ä¸»è¦å°±æ˜¯å…¨å±€å¼•å…¥ç»„ä»¶çš„æ—¶å€™ï¼Œæ–¹ä¾¿é€šè¿‡å¼•å…¥è¿™ä¸ªç±»å‹æ–‡ä»¶ï¼Œåœ¨æ•´ä¸ªé¡¹ç›®ä¸­éƒ½æœ‰æç¤º</p>
<p>å¯è§æ–‡æ¡£è¯´æ˜ <a href="https://link.juejin.cn?target=https%3A%2F%2Felement-plus.org%2Fzh-CN%2Fguide%2Fquickstart%23volar-%25E6%2594%25AF%25E6%258C%2581" target="_blank" title="https://element-plus.org/zh-CN/guide/quickstart#volar-%E6%94%AF%E6%8C%81" ref="nofollow noopener noreferrer">ElementPluså¿«é€Ÿå¼€å§‹</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ­ç§˜ Nginx ç™¾ä¸‡å¹¶å‘åŸºçŸ³ï¼šReactor æ¶æ„ä¸ Epoll åº•å±‚åŸç†]]></title>    <link>https://juejin.cn/post/7592992745574187046</link>    <guid>https://juejin.cn/post/7592992745574187046</guid>    <pubDate>2026-01-09T07:14:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592992745574187046" data-draft-id="7592992745574137894" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ­ç§˜ Nginx ç™¾ä¸‡å¹¶å‘åŸºçŸ³ï¼šReactor æ¶æ„ä¸ Epoll åº•å±‚åŸç†"/> <meta itemprop="keywords" content="åç«¯,è®¾è®¡æ¨¡å¼"/> <meta itemprop="datePublished" content="2026-01-09T07:14:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Aeside1"/> <meta itemprop="url" content="https://juejin.cn/user/2971330788730361"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ­ç§˜ Nginx ç™¾ä¸‡å¹¶å‘åŸºçŸ³ï¼šReactor æ¶æ„ä¸ Epoll åº•å±‚åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2971330788730361/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Aeside1
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:14:08.000Z" title="Fri Jan 09 2026 07:14:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body cache result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="" data-highlight-key="idea">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#000;background:#fff}.hljs-subst,.hljs-title{font-weight:400;color:#000}.hljs-comment,.hljs-quote{color:grey;font-style:italic}.hljs-meta{color:olive}.hljs-tag{background:#efefef}.hljs-keyword,.hljs-literal,.hljs-name,.hljs-section,.hljs-selector-class,.hljs-selector-id,.hljs-selector-tag,.hljs-type{font-weight:700;color:navy}.hljs-attribute,.hljs-link,.hljs-number,.hljs-regexp{font-weight:700;color:#00f}.hljs-link,.hljs-number,.hljs-regexp{font-weight:400}.hljs-string{color:green;font-weight:700}.hljs-bullet,.hljs-formula,.hljs-symbol{color:#000;background:#d0eded;font-style:italic}.hljs-doctag{text-decoration:underline}.hljs-template-variable,.hljs-variable{color:#660e7a}.hljs-addition{background:#baeeba}.hljs-deletion{background:#ffc8bd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ç°å¦‚ä»Šçš„äº’è”ç½‘ç¯å¢ƒä¸‹ï¼Œé¢å¯¹æ•°ä»¥äº¿è®¡çš„ç”¨æˆ·ï¼Œæˆ‘ä»¬å¸¸çœ‹åˆ°å„ç§åº”ç”¨å®£ç§°æ”¯æ’‘ç€æƒŠäººçš„æµé‡ï¼šä»åƒçº§ QPS åˆ°ä¸‡çº§ï¼Œå†åˆ°å¤¸å¼ çš„åä¸‡çº§ã€‚åœ¨è¿™äº›æ•°å­—èƒŒåï¼Œå¾€å¾€æ˜¯åºå¤§çš„åˆ†å¸ƒå¼æ¶æ„åœ¨æ”¯æ’‘â€”â€”æµé‡è¢«åˆ†æ‘Šåˆ°æˆç™¾ä¸Šåƒå°æœåŠ¡å™¨ä¸Šï¼Œæ¯å°æœºå™¨å®é™…å¤„ç†çš„å‹åŠ›ä¾ç„¶åœ¨æœ‰é™èŒƒå›´å†…ã€‚</p>
<p>ç„¶è€Œï¼Œæœ‰ä¸€ä¸ªåº”ç”¨å§‹ç»ˆè¢«è§†ä¸ºæ€§èƒ½æ¶æ„çš„â€œå®šæµ·ç¥é’ˆâ€ï¼Œåœ¨å¼€å‘è€…åœˆå­é‡Œï¼Œå…³äºå®ƒ<strong>å•æœºæ”¯æ’‘ç™¾ä¸‡çº§å¹¶å‘ã€å¤„ç†ç™¾ä¸‡çº§åå</strong>çš„è®¨è®ºä»æœªåœæ­¢ï¼Œå®ƒå°±æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„ <strong>Nginx</strong>ã€‚</p>
<p>ä¸ºä»€ä¹ˆåœ¨åŒæ ·çš„ç¡¬ä»¶æ¡ä»¶ä¸‹ï¼ŒNginx èƒ½åšåˆ°å…¶ä»– Web æœåŠ¡å™¨éš¾ä»¥ä¼åŠçš„å¹¶å‘é«˜åº¦ï¼Ÿè¿™å¹¶éç®€å•çš„ä»£ç ä¼˜åŒ–ï¼Œè€Œæ˜¯å…¶åº•å±‚æ¶æ„çš„é™ç»´æ‰“å‡»ï¼Œ<strong>ä¹Ÿå°±æ˜¯ Nginx çš„ç«‹å‘½ä¹‹æœ¬ â€”â€” Reactor å¼‚æ­¥äº‹ä»¶é©±åŠ¨æ¶æ„</strong>ã€‚</p>
<h2 data-id="heading-0">Nginx çš„ç™¾ä¸‡å¹¶å‘ï¼ŒèƒŒåçš„ Reactor å¼‚æ­¥äº‹ä»¶é©±åŠ¨æ¶æ„</h2>
<p>åœ¨æ·±å…¥å¤æ‚çš„æ¶æ„ç»†èŠ‚ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆçœ‹æ¸… Nginx çš„è¿è¡Œå½¢æ€ â€”â€” <strong>Master-Worker è¿›ç¨‹æ¨¡å‹</strong>ã€‚Nginx å¹¶ä¸æ˜¯ä¸€ä¸ªå­¤ç«‹çš„å•è¿›ç¨‹ç¨‹åºï¼Œè€Œæ˜¯ä¸€ä¸ªåˆ†å·¥æœ‰åºçš„â€œä¸»ä»å…µå›¢â€ã€‚</p>
<p><strong>Master è¿›ç¨‹</strong>åé•‡ä¸­å†›ï¼Œè´Ÿè´£è¯»å–é…ç½®æ–‡ä»¶ã€ç®¡ç† Worker è¿›ç¨‹ã€‚ä½œä¸ºç®¡ç†å±‚ï¼Œå®ƒä¸ç›´æ¥å¤„ç†å…·ä½“çš„ç½‘ç»œè¯·æ±‚ï¼Œè€Œ <strong>Worker è¿›ç¨‹</strong> æ‰æ˜¯çœŸæ­£å†²é”‹é™·é˜µçš„æˆ˜å£«ã€‚Master å¯åŠ¨åä¼šæ ¹æ®é…ç½® <code>fork</code> å‡ºå¤šä¸ª Worker è¿›ç¨‹ã€‚ç”±äºæ¯ä¸ª Worker éƒ½æ˜¯ç‹¬ç«‹çš„è¿›ç¨‹ï¼Œæ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œå®ƒä»¬ä¹‹é—´äº’ä¸å¹²æ‰°ã€‚å¦‚æœä¸€ä¸ª Worker æ„å¤–æŒ‚æ‰ï¼ŒMaster ä¼šè¿…é€Ÿæ„ŸçŸ¥å¹¶æ‹‰èµ·ä¸€ä¸ªæ–°çš„ï¼Œå®ç°æé«˜çš„â€œé«˜å¯ç”¨æ€§â€ã€‚åŒæ—¶ï¼Œè¿™ç§å¤šè¿›ç¨‹æ¨¡å‹è®© Nginx èƒ½å°†æ¯ä¸ªè¿›ç¨‹ç»‘å®šåˆ°ç‰¹å®šçš„ CPU æ ¸å¿ƒä¸Šï¼Œå®Œç¾åˆ©ç”¨å¤šæ ¸ä¼˜åŠ¿ï¼Œé¿å¼€äº†ä¼ ç»Ÿå¤šçº¿ç¨‹æ¨¡å‹ä¸­ä»¤äººç”Ÿç•çš„â€œé”ç«äº‰â€å’Œâ€œä¸Šä¸‹æ–‡åˆ‡æ¢â€å¼€é”€ã€‚</p>
<p>ç„¶è€Œï¼Œä»…ä»…é å¤šè¿›ç¨‹è¿˜ä¸è¶³ä»¥æ”¯æ’‘èµ·å•æœºç™¾ä¸‡å¹¶å‘çš„ä¼ è¯´ã€‚å¦‚æœ Worker å†…éƒ¨é‡‡ç”¨çš„æ˜¯ä¼ ç»Ÿçš„â€œä¸€è¯·æ±‚ä¸€é˜»å¡â€æ¨¡å¼ï¼Œé‚£ä¹ˆå³ä¾¿æœ‰å†å¤šçš„è¿›ç¨‹ï¼Œä¹Ÿä¼šåœ¨æµ·é‡è¿æ¥é¢å‰å› èµ„æºè€—å°½è€Œç˜«ç—ªã€‚çœŸæ­£è®©æ¯ä¸ª Worker æ‹¥æœ‰â€œä»¥ä¸€å½“ç™¾â€æˆ˜æ–—åŠ›çš„ï¼Œæ˜¯å…¶å†…éƒ¨è¿è¡Œçš„ <strong>Reactor å¼‚æ­¥äº‹ä»¶é©±åŠ¨æ¶æ„</strong>ã€‚</p>
<h3 data-id="heading-1">Reactor å¼‚æ­¥äº‹ä»¶é©±åŠ¨æ¶æ„</h3>
<p><strong>Reactorï¼ˆååº”å™¨ï¼‰æ¨¡å¼</strong>ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ç§<strong>ä¸ºå¤„ç†ä¸€ä¸ªæˆ–å¤šä¸ªå¹¶å‘è¾“å…¥æºï¼Œè€Œè®¾è®¡çš„ä¸€ç§åŒæ­¥äº‹ä»¶è§‚å¯Ÿè€…æ¨¡å¼</strong>ã€‚åœ¨è®¾è®¡æ¨¡å¼çš„æ•™ç§‘ä¹¦ã€ŠPattern-Oriented Software Architectureã€‹ä¸­ï¼ŒReactor åŒ…å«å››ä¸ªæ ¸å¿ƒè§’è‰²ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™å››ä¸ªè§’è‰²ï¼Œçœ‹æ¸…è¯·æ±‚æ˜¯å¦‚ä½•åœ¨ Nginx å†…éƒ¨æµè½¬çš„ã€‚</p>
<ol>
<li>
<p><strong>èµ„æº (Resources)</strong>ï¼šåœ¨ç½‘ç»œç¼–ç¨‹ä¸­ï¼Œè¿™é€šå¸¸æŒ‡ä¸€ä¸ªä¸ª <strong>Socketï¼ˆæ–‡ä»¶æè¿°ç¬¦ï¼‰</strong>ã€‚å®ƒä»¬æ˜¯äº‹ä»¶çš„è½½ä½“ï¼Œæ¯”å¦‚â€œæ•°æ®åˆ°äº†â€æˆ–è€…â€œè¿æ¥æ–­äº†â€ã€‚</p>
</li>
<li>
<p><strong>åŒæ­¥äº‹ä»¶åˆ†ç¦»å™¨ (Synchronous Event Demultiplexer)</strong>ï¼šè¿™æ˜¯æ•´ä¸ªæ¶æ„çš„â€œå®ˆé—¨å‘˜â€ã€‚å®ƒçš„èŒè´£æ˜¯<strong>é˜»å¡ç­‰å¾…</strong>ã€‚è™½ç„¶å®ƒæœ¬èº«æ˜¯é˜»å¡çš„ï¼Œä½†å®ƒåŒæ—¶ç›¯ç€<strong>æˆåƒä¸Šä¸‡</strong>ä¸ªèµ„æºã€‚åªè¦æœ‰ä¸€ä¸ªèµ„æºâ€œæ´»è·ƒâ€äº†ï¼ˆæ¯”å¦‚æœ‰æ•°æ®è¿›æ¥ï¼‰ï¼Œå®ƒå°±ä¼šç«‹å³è¿”å›ï¼Œå¹¶å‘ŠçŸ¥æ˜¯å“ªä¸ªèµ„æºåŠ¨äº†ã€‚
<em>æ³¨ï¼šè¿™æ­£æ˜¯åé¢æˆ‘ä»¬è¦è®²çš„ <code>epoll</code> æ‰®æ¼”çš„è§’è‰²ã€‚</em></p>
</li>
<li>
<p><strong>ååº”å™¨ (Reactor)</strong>ï¼šè¿™æ˜¯æ¶æ„çš„â€œè°ƒåº¦ä¸­å¿ƒâ€ã€‚å®ƒæŒæœ‰ä¸€ä¸ªâ€œåˆ†å‘è¡¨â€ã€‚å½“åˆ†ç¦»å™¨å‘ç°æŸä¸ª Socket æœ‰åŠ¨é™æ—¶ï¼ŒReactor ä¼šæ ¹æ®äº‹ä»¶ç±»å‹ï¼ˆRead/Write/Acceptï¼‰ï¼ŒæŸ¥è¯¢åˆ†å‘è¡¨ï¼Œæ‰¾åˆ°é¢„å…ˆæ³¨å†Œå¥½çš„â€œå¤„ç†å™¨â€ã€‚</p>
</li>
<li>
<p><strong>äº‹ä»¶å¤„ç†å™¨ (Event Handler)</strong>ï¼šè¿™æ˜¯çœŸæ­£çš„ä¸šåŠ¡é€»è¾‘æ‰§è¡Œè€…ã€‚å®ƒæ˜¯<strong>éé˜»å¡</strong>çš„ã€‚å®ƒè¢« Reactor è§¦å‘åï¼Œè¿…é€Ÿå®Œæˆè¯»å†™æ“ä½œï¼Œç„¶åç«‹å³äº¤å›æ§åˆ¶æƒã€‚å®ƒç»ä¸ä¼šåœ¨åŸåœ°ç­‰å¾…ç½‘ç»œä¼ è¾“ï¼Œå› ä¸ºé‚£ä¼šå¡æ­»æ•´ä¸ª Reactor å¾ªç¯ã€‚</p>
</li>
</ol>
<h3 data-id="heading-2">Reactor åœ¨ Nginx</h3>
<p>å°†è¿™å››ä¸ªè§’è‰²ä¸²è”èµ·æ¥ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº† Nginx å¤„ç†è¯·æ±‚çš„â€œæµæ°´çº¿â€ï¼š</p>
<p>å½“ç”¨æˆ·å‘èµ· HTTP è¯·æ±‚æ—¶ï¼ŒNginx å·²ç»é¢„å…ˆç”± <strong>Master è¿›ç¨‹</strong> åˆ›å»ºå¥½äº†ç›‘å¬ç«¯å£ã€‚éšåï¼Œ<strong>Worker è¿›ç¨‹</strong> å°†è¿™äº›ç›‘å¬è¿æ¥çš„ <code>socket</code> æ³¨å†Œåˆ°<strong>åŒæ­¥äº‹ä»¶åˆ†ç¦»å™¨ï¼ˆepollï¼‰</strong> ä¸­ã€‚æ­¤æ—¶ï¼ŒWorker è¿›ç¨‹å¹¶ä¸ä¼šæ­»ç­‰ï¼Œè€Œæ˜¯è¿›å…¥ä¸€ç§â€œéšæ—¶å¾…å‘½â€çš„é˜»å¡çŠ¶æ€ã€‚ä¸€æ—¦æŸä¸ª <code>socket</code> æœ‰æ•°æ®æµå…¥ï¼Œå†…æ ¸çš„ <strong>epoll</strong> ä¼šç«‹å³æ„ŸçŸ¥åˆ°ã€‚è¿™ä¸ªâ€œåˆ†ç¦»å™¨â€ä¼šç²¾å‡†åœ°æŒ‘é€‰å‡ºé‚£äº›æ´»è·ƒçš„ <code>socket</code>ï¼Œå¹¶è¿”å›ç»™<strong>ååº”å™¨</strong>ï¼ˆWorker çš„äº‹ä»¶å¾ªç¯ï¼‰ã€‚</p>
<p><strong>Worker è¿›ç¨‹</strong> æ‹¿åˆ°æ´»è·ƒçš„ <code>socket</code> åï¼Œå¹¶ä¸ä¼šæ¼«æ— ç›®çš„åœ°å¤„ç†ã€‚å®ƒä¼šåƒæŸ¥è¡¨ä¸€æ ·ï¼Œæ ¹æ®äº‹ä»¶ç±»å‹ï¼ˆæ˜¯æ–°è¿æ¥ã€è¿˜æ˜¯æ—§è¿æ¥æœ‰æ–°æ•°æ®ï¼‰å»è°ƒç”¨é¢„å…ˆæ³¨å†Œå¥½çš„<strong>äº‹ä»¶å¤„ç†å™¨</strong>ï¼Œä¹Ÿå°±æ˜¯Nginx ä¸­çš„å„ä¸ªæ¨¡å—ã€‚<strong>äº‹ä»¶å¤„ç†å™¨ï¼ˆå¦‚é™æ€èµ„æºæ¨¡å—ï¼‰</strong> è¢«è§¦å‘åç«‹å³æ‰§è¡Œã€‚å®ƒä» <code>socket</code> ç¼“å†²åŒºè¯»å–æ•°æ®ã€è¿›è¡Œé€»è¾‘å¤„ç†ï¼ˆå¦‚ Gzip å‹ç¼©ï¼‰ï¼Œç„¶åè¿…é€Ÿå°†å“åº”å†™å›ã€‚å¤„ç†å®Œåï¼Œå®ƒç»ä¸æ‹–æ³¥å¸¦æ°´ï¼Œç«‹å³å°†æ§åˆ¶æƒäº¤è¿˜ç»™ <strong>Worker çš„äº‹ä»¶å¾ªç¯</strong>ï¼Œä»¥ä¾¿å¤„ç†ä¸‹ä¸€ä¸ªå°±ç»ªçš„è¯·æ±‚ã€‚</p>
<p>ç›¸è¾ƒäºä¼ ç»Ÿçš„ BIO æ¨¡å¼ï¼Œè¿™ç§è®¾è®¡æ¨¡å¼å¸¦æ¥çš„æœ€å¤§å˜é©æ˜¯ï¼š<strong>è§£è€¦äº†è¿æ¥ä¸çº¿ç¨‹ã€‚</strong> åœ¨ä¸€ä¸ª Reactor çº¿ç¨‹é‡Œï¼Œæˆ‘ä»¬å¯ä»¥ç»´æŠ¤ 100 ä¸‡ä¸ªå¤„äºé™æ­¢çŠ¶æ€çš„è¿æ¥ï¼Œè€Œåªåœ¨å®ƒä»¬æ´»è·ƒçš„ç¬é—´ï¼Œæ‰åˆ†é… CPU èµ„æºå»å¤„ç†ã€‚</p>
<h2 data-id="heading-3">Epollï¼šæ’‘èµ·ç™¾ä¸‡å¹¶å‘çš„é’¢é“ä¹‹åŸº</h2>
<p>åœ¨ä¸Šæ–‡ä¸­ï¼Œæˆ‘ä»¬æ„å»ºäº†ä¸€å¥—ç²¾å¦™çš„ Reactor å¼‚æ­¥å¤„ç†æ¶æ„ã€‚ç„¶è€Œï¼Œåœ¨è¿™å¹…é«˜æ€§èƒ½çš„å®ä¼Ÿè“å›¾ä¸­ï¼Œæˆ‘ä»¬å…¶å®å¿½ç•¥äº†ä¸€ä¸ªæœ€æ ¸å¿ƒçš„â€œé½¿è½®â€â€”â€”<strong>åŒæ­¥äº‹ä»¶åˆ†ç¦»å™¨ç©¶ç«Ÿæ˜¯å¦‚ä½•ç›¯ä½æˆåƒä¸Šä¸‡ä¸ªèµ„æºçš„ï¼Ÿ</strong></p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œå½“ Worker è¿›ç¨‹æ‰‹é‡Œæ¡ç€ 100 ä¸‡ä¸ªè¿æ¥ï¼ˆSocketï¼‰æ—¶ï¼Œå¦‚æœå…¶ä¸­åªæœ‰ä¸€ä¸ªè¿æ¥ä¼ æ¥äº†æ•°æ®ï¼Œæˆ‘ä»¬è¦å¦‚ä½•ä»è¿™ç™¾ä¸‡çº§çš„â€œå¤§æµ·â€é‡Œï¼Œå‡†ç¡®ã€è¿…é€Ÿåœ°æå‡ºè¿™æ ¹â€œé’ˆâ€ï¼Ÿè¿™å°±å¥½æ¯”æˆ‘ä»¬è®¾è®¡å‡ºäº†ä¸€å°æ‹¥æœ‰åä¸‡åŒ¹é©¬åŠ›çš„è¶…çº§å‘åŠ¨æœºï¼Œä½†å¦‚æœæ²¡æœ‰ä¸€ä¸ªå¼ºéŸ§åˆ°è¶³ä»¥æ‰¿è½½è¿™ç§çˆ†å‘åŠ›çš„å˜é€Ÿå™¨é½¿ï¼Œæ¯«æ— ç–‘é—®æˆ‘ä»¬çš„ç³»ç»Ÿä¼šç›´æ¥å´©æ‰ã€‚</p>
<p>åœ¨æ—©æœŸçš„ Linux æ—¶ä»£ï¼Œ<code>select</code> å’Œ <code>poll</code> æœºåˆ¶å°±åƒæ˜¯æœ¨åˆ¶é½¿è½®ï¼šæ¯å½“æœ‰æ•°æ®è¿›æ¥ï¼Œå®ƒä»¬å¿…é¡»åƒâ€œæŸ¥æˆ·å£â€ä¸€æ ·æŠŠ 100 ä¸‡ä¸ªè¿æ¥ä»å¤´åˆ°å°¾éå†ä¸€éï¼ˆå¤æ‚åº¦ä¸º <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>ï¼‰ã€‚éšç€è¿æ¥æ•°å¢åŠ ï¼Œè¿™ç§ç›²ç›®çš„è½®è¯¢ä¼šç¬é—´æ¦¨å¹² CPUã€‚</p>
<p><strong>ä¸ºäº†æ‰“ç ´è¿™ä¸ªåƒµå±€ï¼ŒLinux ç¥­å‡ºäº†å®ƒçš„ç»ˆææ­¦å™¨ â€”â€” Epollã€‚å®ƒä¸å†æ˜¯ç›²ç›®çš„å¯»æ‰¾ï¼Œè€Œæ˜¯ä¸€åœºç²¾å‡†çš„â€œè®¢é˜…ä¸é€šçŸ¥â€ã€‚</strong> ä¸è¿‡åœ¨æˆ‘ä»¬å¼€å§‹ Epoll åº•å±‚åŸç†çš„æ¢ç´¢å‰ï¼Œæˆ‘ä»¬å¾—å…ˆæ‹œè®¿ä¸€ä¸‹ <code>epoll</code> çš„å‰è¾ˆ  <code>select</code> å’Œ <code>poll</code> ã€‚</p>
<h3 data-id="heading-4">æ­¥å±¥è¹’è·šçš„å…ˆè¡Œè€… Select &amp; Poll</h3>
<p>è¦ç†è§£ Epoll çš„ä¼Ÿå¤§ï¼Œå¿…é¡»å…ˆçœ‹æ¸…å®ƒçš„å‰è¾ˆä»¬â€”â€”<strong>Select</strong> å’Œ <strong>Poll</strong> æ˜¯å¦‚ä½•â€œæŒ£æ‰â€çš„ã€‚</p>
<p>åœ¨ Linux çš„è¿›åŒ–å²ä¸Šï¼ŒSelect å’Œ Poll å±äºåŒä¸€ä»£æŠ€æœ¯ã€‚å®ƒä»¬è§£å†³çš„æ˜¯â€œä» 0 åˆ° 1â€çš„å¤ç”¨é—®é¢˜ï¼Œä½†åœ¨â€œä» 1 åˆ° 100 ä¸‡â€çš„å¹¶å‘è·¨è¶Šä¸Šï¼Œå®ƒä»¬é‡åˆ°äº†æ— æ³•é€¾è¶Šçš„ç‰©ç†å±éšœã€‚</p>
<p><code>select</code> æŠ€æœ¯è¯ç”Ÿäº1980å¹´ä»£ï¼Œå½“æ—¶çš„æœºå™¨æ€§èƒ½æœ‰é™ï¼Œä¸”ä¹Ÿä¸ä¼šå‡ºç°å¦‚ä»ŠåŠ¨ä¸åŠ¨çš„åƒä¸‡å¹¶å‘é‡ã€‚æ‰€ä»¥æœ€å¤§ fd æ•°é™å®šä¸º 1024 ä¸ªï¼Œå¹¶ä¸”æŠŠ fd åˆ—è¡¨æ”¾åœ¨ç”¨æˆ·æ€ï¼Œé‡‡ç”¨"ç”¨æˆ·ç©ºé—´æä¾›åˆ—è¡¨ï¼Œå†…æ ¸æ£€æŸ¥"çš„ç®€å•æ¨¡å¼ã€‚</p>
<p>è¿™æ ·çš„è®¾è®¡åœ¨å½“æ—¶çš„åœºæ™¯ä¸‹ç¡®å®ç›¸å½“ä¸é”™ï¼Œç„¶è€Œå½“ç°ä»£ç¨‹åºæ‰€éœ€è¦å¤„ç†çš„æ•°æ®é‡è¿œè¿œè¶…è¿‡è®¾è®¡ä¹‹åˆçš„é¢„æƒ³æ”¯æŒåœºæ™¯æ—¶ï¼Œ<code>select</code>å°†ä¼šç¬é—´ç˜«ç—ªï¼š</p>
<ol>
<li>
<p><strong>æ¬è¿ä¹‹é‡ (Memory Copy)</strong>ï¼šç”¨æˆ·æ€ä¸å†…æ ¸æ€ä¹‹é—´å°±åƒéš”ç€ä¸€é“åšé‡çš„é—¨ã€‚Select/Poll æ¯æ¬¡éƒ½è¦èƒŒç€æ²‰é‡çš„èƒŒå›Šï¼ˆå…¨é‡ FD é›†åˆï¼‰è·¨è¿‡è¿™é“é—¨ï¼Œå›æ¥æ—¶è¿˜è¦å†èƒŒä¸€æ¬¡ã€‚å½“å¹¶å‘è¾¾åˆ°åä¸‡ã€ç™¾ä¸‡çº§ï¼Œè¿™ç§å†…å­˜æ‹·è´çš„å¸¦å®½æ¶ˆè€—å°±èƒ½æŠŠç³»ç»Ÿæ‹–å®ã€‚</p>
</li>
<li>
<p><strong>éå†ä¹‹è‹¦ (Linear Scan)</strong>ï¼šè¿™æ˜¯ä¸€ä¸ªæ•°å­¦ä¸Šçš„æ‚²å‰§ã€‚åœ¨ç™¾ä¸‡è¿æ¥ä¸­ï¼Œé€šå¸¸åªæœ‰æå°‘æ•°ï¼ˆå¯èƒ½åªæœ‰å‡ ä¸ªæˆ–å‡ åä¸ªï¼‰æ˜¯æ´»è·ƒçš„ã€‚Select/Poll ä¸ºäº†è¿™ 0.01% çš„æ´»è·ƒåº¦ï¼Œå´è¦ä»˜å‡º 100% çš„åŠªåŠ›å»æ‰«æï¼Œç™½ç™½æµªè´¹äº† 99.99% çš„ CPU å‘¨æœŸã€‚</p>
</li>
<li>
<p><strong>è§¦å‘ä¹‹ä¹± (Repeat Set)</strong>ï¼šæ¯æ¬¡è°ƒç”¨å®Œ Select/Pollï¼ŒåŸæ¥çš„ç›‘å¬é›†åˆä¼šè¢«å†…æ ¸ä¿®æ”¹ã€‚è¿™æ„å‘³ç€ä¸‹ä¸€æ¬¡å¾ªç¯æ—¶ï¼Œä½ å¿…é¡»é‡æ–°åˆå§‹åŒ–ã€é‡æ–°å¡«å……é›†åˆã€‚å…·ä½“æ¥è¯´ï¼Œ<code>select</code> ä½¿ç”¨çš„æ˜¯ä½å›¾ï¼ˆbitmapï¼‰ï¼Œå†…æ ¸åœ¨æ£€æµ‹åˆ°äº‹ä»¶åä¼š<strong>ç›´æ¥ä¿®æ”¹</strong>è¿™ä¸ªä½å›¾ã€‚å¯¼è‡´ç”¨æˆ·æ€æ¯æ¬¡å¾ªç¯éƒ½è¦é‡æ–°åˆå§‹åŒ– <code>fd_set</code>ï¼Œè¿™åœ¨ç™¾ä¸‡å¹¶å‘ä¸‹æ˜¯å·¨å¤§çš„æ— ç”¨åŠŸã€‚</p>
</li>
</ol>
<p>2002 å¹´ï¼ŒLinux 2.6 å†…æ ¸ç»ˆäºç¥­å‡ºäº† <strong>Epoll</strong>ã€‚å¦‚æœè¯´ <code>select</code> æ˜¯åœ¨æ¯ä¸€æ¬¡ä»»åŠ¡å¼€å§‹å‰éƒ½è¦é‡æ–°æ’é˜Ÿã€é‡æ–°ç‚¹åçš„ <strong>â€œåŸå§‹ä½œåŠâ€</strong> ï¼Œé‚£ä¹ˆ <code>epoll</code> åˆ™æ˜¯å»ºç«‹äº†ä¸€å¥—é«˜æ•ˆçš„ <strong>â€œè®¢é˜…-é€šçŸ¥ç³»ç»Ÿâ€</strong>ã€‚å®ƒçš„æ ¸å¿ƒé€»è¾‘ä»<strong>ä¸»åŠ¨è½®è¯¢</strong>å½»åº•å€’è½¬ä¸ºäº†<strong>è¢«åŠ¨å›è°ƒ</strong>ã€‚å®ƒä¸å†è¯¢é—®ï¼šâ€œè¯·é—®æœ‰äººå‡†å¤‡å¥½äº†å—ï¼Ÿâ€ï¼Œè€Œæ˜¯é™é™åç€ï¼Œç­‰å¾…é‚£äº›å‡†å¤‡å¥½çš„è¿æ¥è‡ªå·±â€œè·³â€å‡ºæ¥æŠ¥åˆ°ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ­å¼€ <code>epoll</code> å†…éƒ¨æ˜¯å¦‚ä½•è®¾è®¡æ•°æ®ç»“æ„å’Œæ–¹æ³•æ¥è§£å†³è¿™äº›é—®é¢˜çš„ã€‚</p>
<h3 data-id="heading-5">Epoll åº•å±‚ç»“æ„è¯¦è§£</h3>
<p>æ—¢ç„¶ <code>select</code> çš„æ ¸å¿ƒç—›ç‚¹åœ¨äºâ€œè®°ä¸ä½ï¼ˆé‡å¤æ‹·è´ï¼‰â€å’Œâ€œæ‰¾ä¸ç€ï¼ˆçº¿æ€§éå†ï¼‰â€ï¼Œé‚£ä¹ˆ <code>epoll</code> çš„ç ´å±€æ€è·¯å°±éå¸¸ç›´æ¥ï¼š<strong>å°†â€œå­˜å‚¨â€ä¸â€œé€šçŸ¥â€å½»åº•åˆ†ç¦»</strong>ã€‚</p>
<p>å®ƒä¸å†ä½¿ç”¨å•ä¸€çš„ä½å›¾æ¥æ··æ‚åœ°å¤„ç†æ‰€æœ‰äº‹æƒ…ï¼Œè€Œæ˜¯å¼•å…¥äº†ä¸¤ç§æ›´é«˜çº§çš„æ•°æ®ç»“æ„ï¼Œåˆ†è€Œæ²»ä¹‹åœ°è§£å†³äº†è¿™ä¸¤ä¸ªæ ¸å¿ƒéš¾é¢˜ã€‚è®©æˆ‘ä»¬åƒæ‹†è§£ç²¾å¯†æœºæ¢°è¡¨ä¸€æ ·ï¼Œæ·±å…¥å†…æ ¸ï¼Œçœ‹çœ‹ <code>epoll</code> æ˜¯å¦‚ä½•é€šè¿‡ <strong>çº¢é»‘æ ‘</strong> å’Œ <strong>å°±ç»ªé“¾è¡¨</strong> è¿™ä¸¤å¤§ç‰©ç†æ”¯æŸ±ï¼Œå®ç°ä» <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span> åˆ° <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span> çš„è·¨è¶Šçš„ã€‚</p>
<h4 data-id="heading-6">çº¢é»‘æ ‘ &amp; å°±ç»ªé“¾è¡¨ï¼šä»â€œæ— çŠ¶æ€å·¥å…·â€åˆ°â€œæœ‰çŠ¶æ€æœåŠ¡â€</h4>
<p>ç›¸å¯¹äº <code>select</code>ï¼Œ<code>epoll</code> ä¸­æœ€é‡è¦çš„æ•°æ®ç»“æ„å°±æ˜¯ç”¨äºç»´æŠ¤ <code>fd</code> åˆ—è¡¨çš„<strong>çº¢é»‘æ ‘</strong>ã€‚ä¸è¿‡åœ¨æˆ‘ä»¬è®¨è®º <code>epoll</code> å¦‚ä½•â€œMake IO Program Great Againâ€ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å†æ¬¡å›é¡¾ä¸€é <code>select</code> å¯¹äº <code>fd</code> åˆ—è¡¨æ˜¯å¦‚ä½•ç»´æŠ¤çš„ã€‚</p>
<h5 data-id="heading-7">Selectï¼šä¸€ä¸ªæ²¡æœ‰è®°å¿†çš„â€œè®¡ç®—å™¨â€</h5>
<p><code>select</code> æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>æ— çŠ¶æ€çš„å·¥å…·å‡½æ•°</strong>ã€‚å½“ä½ è°ƒç”¨ <code>select</code> æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠ <code>select</code> çš„è¿‡ç¨‹æƒ³è±¡æˆæ˜¯åœ¨æ‹¿ç€ä¸€å¼  <strong>â€œæ£€æŸ¥å•â€</strong> ï¼ˆ<code>fd</code> çš„ <code>bitmap</code>ï¼‰å»åŠäº‹å¤§å…æ’é˜Ÿï¼šå½“ä½ è°ƒç”¨ <code>select</code> æ—¶ï¼Œä½ å¿…é¡»æŠŠè¿™å¼ å¯†å¯†éº»éº»å†™æ»¡ Socket ç¼–å·çš„æ£€æŸ¥å•ï¼Œé€šè¿‡çª—å£ï¼ˆSystem Callï¼‰ç¡¬å¡è¿›å†…æ ¸ã€‚ç„¶åè¿”å›ç»™ä½ ä¸€å¼ å®›å¦‚ç€‘å¸ƒèˆ¬é£æµç›´ä¸‹çš„æ£€æŸ¥è¡¨å•ï¼Œä½ å†ç”¨æ”¾å¤§é•œä¸€æ¡æ¡åœ°éå†ä¸‹å»......</p>
<h5 data-id="heading-8">Epollï¼šä¸€ä¸ªä¸“ä¸šçš„â€œç®¡ç†å‘˜å¼æœåŠ¡â€</h5>
<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ<code>epoll</code> å°† <code>select</code> ä»ä¸€ä¸ªç®€å•çš„æ‰“å‹¾çª—å£å˜ä¸ºäº† <strong>â€œå›¾ä¹¦ç®¡ç†å‘˜â€</strong>
ï¼Œå°† <code>fd</code> ç®¡ç†çš„å·¥ä½œä»ç”¨æˆ·æ€ç»´æŠ¤çš„<code>fd</code>ä½å›¾è¿ç§»åˆ°äº†å†…æ ¸çš„<strong>çº¢é»‘æ ‘ (RB-Tree)</strong> ä¸­æ¥ç»Ÿä¸€ç®¡ç†ï¼Œåªå‘å¤–æä¾›å·²ç»å°±ç»ªçš„ <code>socket</code>ã€‚å½“ä½ é€šè¿‡çª—å£ï¼ˆSystem Callï¼‰è·å–å°±ç»ª <code>socket</code> æ—¶ç»ˆäºä¸å†ç»™ä½ ä¸€çº¸é•¿æ–‡äº†ï¼Œè€Œæ˜¯å¯ä»¥ç«‹å³ä½¿ç”¨çš„<strong>å°±ç»ªé“¾è¡¨ (Ready List)</strong>ï¼Œæ’é™¤äº†é‚£äº›æœªå“åº”çš„ <code>fd</code> ä¹Ÿçœå»äº†æ£€æŸ¥çš„æ­¥éª¤ã€‚</p>
<blockquote>
<h4 data-id="heading-9">ä¸ºä»€ä¹ˆç”¨çš„æ˜¯çº¢é»‘æ ‘ï¼Ÿè€Œä¸æ˜¯ B+ æ ‘ã€å¹³è¡¡æ ‘ï¼Ÿ</h4>
<ul>
<li><strong>ä¸ºä»€ä¹ˆä¸ç”¨å“ˆå¸Œè¡¨ï¼Ÿ</strong> è™½ç„¶å“ˆå¸Œè¡¨çš„æŸ¥æ‰¾æ˜¯ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>ï¼Œä½†å®ƒåœ¨æ‰©å®¹æ—¶ï¼ˆRehashï¼‰ä¼šäº§ç”Ÿå·¨å¤§çš„æ€§èƒ½æŠ–åŠ¨ï¼Œä¸”å†…å­˜å ç”¨ä¸ç¨³å®šï¼Œæ— æ³•æ»¡è¶³å†…æ ¸å¯¹ç¨³å®šæ€§çš„æè‡´è¦æ±‚ã€‚</li>
<li><strong>ä¸ºä»€ä¹ˆä¸ç”¨ B+ æ ‘ï¼Ÿ</strong> B+ æ ‘æ˜¯ä¸ºäº†ç£ç›˜ I/O ä¼˜åŒ–çš„ï¼Œå±‚é«˜ä½æ˜¯ä¸ºäº†å‡å°‘ç£ç›˜å¯»é“æ¬¡æ•°ã€‚ä½†åœ¨å†…å­˜ä¸­ï¼Œçº¢é»‘æ ‘çš„äºŒå‰ç»“æ„åœ¨å¤„ç†â€œé¢‘ç¹çš„æ’å…¥å’Œåˆ é™¤â€æ—¶æ•ˆç‡æ›´é«˜ï¼Œä¸”å®ç°ç›¸å¯¹ B+ æ ‘æ›´è½»é‡ã€‚</li>
<li><strong>çº¢é»‘æ ‘çš„å¹³è¡¡ï¼š</strong> å®ƒä¿è¯äº†åœ¨æœ€åæƒ…å†µä¸‹ï¼Œå¢åˆ æ”¹æŸ¥çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯ç¨³å®šçš„ <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>log</mi><mo>â¡</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(\log n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span></span>ã€‚å¯¹äºç®¡ç† 100 ä¸‡ä¸ªè¿æ¥ï¼Œæ ‘çš„é«˜åº¦ä¹Ÿå°± 20 å±‚å·¦å³ï¼ŒCPU åªéœ€è¦å‡ åæ¬¡æŒ‡ä»¤å°±èƒ½æ‰¾åˆ°ç›®æ ‡ï¼Œæ•ˆç‡æé«˜ã€‚</li>
</ul>
</blockquote>
<p>è‡³æ­¤ï¼Œ<strong>çº¢é»‘æ ‘</strong>å’Œ<strong>å°±ç»ªé“¾è¡¨</strong>è§£å†³äº† <code>select</code> çš„â€œç¬¨é‡â€é—®é¢˜ã€‚ç„¶è€Œï¼Œè¿™è¿˜ä¸è¶³ä»¥è®© <code>epoll</code> æˆä¸ºæ’‘èµ·ç™¾ä¸‡å¹¶å‘çš„é’¢é“ä¹‹åŸºï¼Œè¿™ä¸¤å¤§ç»“æ„åªæ˜¯æä¾›äº†ä¸€ä¸ªé™æ€çš„â€œç†è®ºæ¨¡å‹â€ã€‚</p>
<p>å¦‚æœç¼ºä¹ä¸€å¥—åŠ¨æ€çš„é©±åŠ¨æœºåˆ¶ï¼Œè¿™å°æœºå™¨ä¾ç„¶æ— æ³•è¿è½¬ã€‚æ¥ä¸‹æ¥çš„ <strong>å›è°ƒæœºåˆ¶ (Callback)</strong> ä¸ <strong>ç­‰å¾…é˜Ÿåˆ— (Wait Queue)</strong>ï¼Œèµ‹äºˆäº† <code>epoll</code> çœŸæ­£çš„â€œæ™ºèƒ½â€ï¼Œå®Œæˆäº†ä»â€œé™æ€å­˜å‚¨â€åˆ°â€œåŠ¨æ€å“åº”â€çš„å…³é”®é—­ç¯ã€‚</p>
<h4 data-id="heading-10">ç­‰å¾…é˜Ÿåˆ— &amp; å›è°ƒï¼šé—­ç¯çš„æœ€åä¸€å—æ‹¼å›¾</h4>
<p>æ‹¥æœ‰äº†çº¢é»‘æ ‘ï¼ˆé«˜æ•ˆå­˜å‚¨ï¼‰å’Œå°±ç»ªé“¾è¡¨ï¼ˆé«˜æ•ˆè®¿é—®ï¼‰ï¼Œæˆ‘ä»¬ä»…ä»…æ˜¯é€ å‡ºäº†è·‘è½¦çš„<strong>å¼•æ“</strong>å’Œ<strong>è½®å­</strong>ã€‚ä½†è¦è®©è¿™è¾†è½¦çœŸæ­£è·‘èµ·æ¥ï¼Œæˆ‘ä»¬è¿˜ç¼ºå°‘ä¸€å¥—èƒ½å¤Ÿè‡ªåŠ¨æ„ŸçŸ¥è·¯å†µå¹¶ä¼ è¾“åŠ¨åŠ›çš„<strong>ä¼ åŠ¨ç³»ç»Ÿ</strong>ã€‚</p>
<p>æ¢å¥è¯è¯´ï¼Œé™æ€çš„æ•°æ®ç»“æ„æ— æ³•è‡ªå·±äº§ç”ŸåŠ¨ä½œã€‚æˆ‘ä»¬éœ€è¦è§£å†³ä¸¤ä¸ªåŠ¨æ€è¿è¡Œæ—¶çš„ç»ˆæéš¾é¢˜ï¼š</p>
<ol>
<li><strong>æ•°æ®çš„æ¥æºï¼š</strong> æ•°æ®åˆ°åº•æ˜¯æ€ä¹ˆä»ç½‘å¡â€œé£â€è¿›å°±ç»ªé“¾è¡¨çš„ï¼Ÿæˆ‘ä»¬ç»å¯¹ä¸èƒ½å†å»è½®è¯¢çº¢é»‘æ ‘ã€‚</li>
<li><strong>CPU çš„å»å‘ï¼š</strong> å½“æ²¡æœ‰æ•°æ®æ—¶ï¼ŒWorker è¿›ç¨‹è¯¥å¦‚ä½•ä¼˜é›…åœ°è®©å‡º CPUï¼Œè€Œä¸æ˜¯åœ¨é‚£å„¿å‚»å‚»åœ°ç©ºè½¬ï¼Ÿ</li>
</ol>
<p>è€Œè¿™å°±æ˜¯ <strong>å›è°ƒæœºåˆ¶</strong> ä¸ <strong>ç­‰å¾…é˜Ÿåˆ—</strong> çš„ç”±æ¥ã€‚</p>
<h5 data-id="heading-11">å›è°ƒæœºåˆ¶ (Callback)ï¼šè¿æ¥çº¢é»‘æ ‘ä¸å°±ç»ªé“¾è¡¨çš„â€œæ¡¥æ¢â€</h5>
<p>æˆ‘ä»¬åœ¨å‰é¢è®¾è®¡äº†ç¾å¦™çš„çº¢é»‘æ ‘ï¼ˆå­˜å‚¨æ‰€æœ‰è¿æ¥ï¼‰å’Œå°±ç»ªé“¾è¡¨ï¼ˆå­˜å‚¨æ´»è·ƒè¿æ¥ï¼‰ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬å¿½ç•¥äº†ä¸€ä¸ªæœ€å…³é”®çš„æˆ˜æœ¯åŠ¨ä½œï¼š<strong>ç©¶ç«Ÿæ˜¯è°ï¼Œåœ¨ä»€ä¹ˆæ—¶å€™ï¼ŒæŠŠçº¢é»‘æ ‘ä¸Šé‚£ä¸ªâ€œæœ‰æ•°æ®â€çš„ Socket æ‘˜ä¸‹æ¥ï¼Œæ”¾è¿›å°±ç»ªé“¾è¡¨é‡Œçš„ï¼Ÿ</strong></p>
<p>æ˜¾ç„¶ï¼Œå†…æ ¸ä¸å¯èƒ½ä¸€ç›´ç›¯ç€çº¢é»‘æ ‘çœ‹ï¼ˆé‚£åˆå˜æˆäº†è½®è¯¢ï¼‰ã€‚è¿™é‡Œçš„å…³é”®å°±åœ¨äº<strong>å›è°ƒæœºåˆ¶</strong>ã€‚å½“ <code>epoll_ctl</code> å°†ä¸€ä¸ª Socket åŠ å…¥çº¢é»‘æ ‘æ—¶ï¼Œå†…æ ¸ä¼šåŒæ­¥ç»™è¿™ä¸ª Socket æ³¨å†Œä¸€ä¸ª<strong>å›è°ƒå‡½æ•° (<code>ep_poll_callback</code>)ï¼š</strong></p>
<ul>
<li><strong>è§¦å‘æ—¶æœºï¼š</strong> å½“ç½‘å¡æ¥æ”¶åˆ°æ•°æ®åŒ…ï¼Œç¡¬ä»¶ä¸­æ–­è§¦å‘é©±åŠ¨ç¨‹åºè¿è¡Œã€‚</li>
<li><strong>æ‰§è¡ŒåŠ¨ä½œï¼š</strong> é©±åŠ¨ç¨‹åºè°ƒç”¨è¿™ä¸ªå›è°ƒå‡½æ•°ï¼Œå®ƒä¼šç²¾å‡†åœ°æ‰¾åˆ°çº¢é»‘æ ‘ä¸Šå¯¹åº”çš„èŠ‚ç‚¹ï¼Œå°†å…¶â€œæŒ‚â€åˆ°<strong>å°±ç»ªé“¾è¡¨</strong>çš„å°¾éƒ¨ã€‚</li>
</ul>
<p><strong>è¿™ä¸€æ­¥æ˜¯è´¨çš„é£è·ƒï¼š</strong> æ•°æ®çš„å‡†å¤‡ä¸å†éœ€è¦ <code>select</code> é‚£æ ·çš„ä¸»åŠ¨æ¢æµ‹ï¼Œè€Œæ˜¯å˜æˆäº†<strong>ç¡¬ä»¶é©±åŠ¨çš„ä¸»åŠ¨æŠ•é€’</strong>ã€‚</p>
<h5 data-id="heading-12">ç­‰å¾…é˜Ÿåˆ— (Wait Queue)ï¼šè¿›ç¨‹çš„â€œæŒ‚èµ·â€ä¸â€œå”¤é†’â€</h5>
<p>æ•°æ®å‡†å¤‡å¥½çš„é—®é¢˜è§£å†³äº†ï¼Œé‚£ Worker è¿›ç¨‹è¿™ä¸€ç«¯å‘¢ï¼Ÿ å½“å°±ç»ªé“¾è¡¨ä¸ºç©ºæ—¶ï¼ŒWorker è¿›ç¨‹å¦‚æœä¸ä¼‘çœ ï¼Œå°±ä¼šé™·å…¥æ­»å¾ªç¯ç©ºè½¬ï¼Œæ¦¨å¹² CPUã€‚ä½†å¦‚æœä¼‘çœ äº†ï¼Œè°æ¥å‘Šè¯‰å®ƒå¤©äº®äº†ï¼Ÿ</p>
<p>è¿™å°±æ˜¯<strong>ç­‰å¾…é˜Ÿåˆ—</strong>çš„èŒè´£ï¼š</p>
<ul>
<li><strong>å®‰å¿ƒç¡çœ ï¼ˆæŒ‚èµ·ï¼‰ï¼š</strong> å½“ Worker è°ƒç”¨ <code>epoll_wait</code> å‘ç°æ²¡æœ‰æ•°æ®æ—¶ï¼Œå†…æ ¸ä¼šåˆ›å»ºä¸€ä¸ªç­‰å¾…èŠ‚ç‚¹ï¼ˆWait Entryï¼‰ï¼ŒæŠŠè‡ªå·±æŒ‚åˆ° <code>epoll</code> çš„ç­‰å¾…é˜Ÿåˆ—ä¸­ï¼Œç„¶åæ”¾å¿ƒåœ°ç§»å‡º CPU è¿è¡Œé˜Ÿåˆ—ï¼Œè¿›å…¥ç¡çœ çŠ¶æ€ï¼ˆCPU å ç”¨ç‡ä¸º 0ï¼‰ã€‚</li>
<li><strong>ä¸»åŠ¨å«é†’ï¼ˆå”¤é†’ï¼‰ï¼š</strong> è¿˜è®°å¾—ä¸Šé¢çš„é‚£ä¸ªå›è°ƒå‡½æ•°å—ï¼Ÿå®ƒåœ¨æŠŠ Socket æ”¾å…¥å°±ç»ªé“¾è¡¨åï¼Œä¼šé¡ºä¾¿çœ‹ä¸€çœ¼ç­‰å¾…é˜Ÿåˆ—ã€‚å¦‚æœå‘ç°é‡Œé¢æœ‰ç¡ç€çš„ Workerï¼Œå°±ä¼šç«‹åˆ»å°†å…¶<strong>å”¤é†’</strong>ã€‚</li>
</ul>
<blockquote>
<h4 data-id="heading-13">ç•ªå¤–ç¯‡ï¼šæƒŠç¾¤æ•ˆåº” (Thundering Herd) ä¸ Epoll çš„è¿›åŒ–</h4>
<p><strong>ä»€ä¹ˆæ˜¯æƒŠç¾¤ï¼Ÿ</strong> æƒ³è±¡ä¸€ä¸‹ï¼Œæœ‰ 4 ä¸ª Worker è¿›ç¨‹éƒ½æŒ‚åœ¨åŒä¸€ä¸ª <code>epoll</code> å®ä¾‹çš„ç­‰å¾…é˜Ÿåˆ—ä¸Šâ€œç¡è§‰â€ã€‚çªç„¶ï¼Œæ¥äº†ä¸€ä¸ªæ–°è¿æ¥ï¼ˆæ•°æ®ï¼‰ã€‚ç†è®ºä¸Šï¼Œåªéœ€è¦å”¤é†’ 1 ä¸ª Worker å»å¤„ç†å°±å¤Ÿäº†ã€‚ ä½†åœ¨æ—©æœŸçš„ Linux å†…æ ¸ï¼ˆ2.6.18 ä¹‹å‰ï¼‰ä¸­ï¼Œå†…æ ¸ä¼šåƒæ•²é”£æ‰“é¼“ä¸€æ ·ï¼ŒæŠŠè¿™ 4 ä¸ªç¡è§‰çš„ Worker <strong>å…¨éƒ¨å«é†’</strong>ã€‚</p>
<ul>
<li><strong>ç»“æœï¼š</strong> 4 ä¸ªè¿›ç¨‹éƒ½é†’äº†ï¼Œå†²ä¸Šå»æŠ¢è¿™ 1 ä¸ªè¿æ¥ã€‚</li>
<li><strong>ä»£ä»·ï¼š</strong> åªæœ‰ 1 ä¸ªæŠ¢åˆ°äº†ï¼Œå‰©ä¸‹ 3 ä¸ªå‘ç°æ²¡äº‹å¹²ï¼Œåªèƒ½ç°æºœæºœåœ°å›å»ç»§ç»­ç¡ã€‚è¿™å°±å¯¼è‡´äº†ç¬é—´çš„ CPU ä¸Šä¸‹æ–‡åˆ‡æ¢é£æš´ï¼Œæ€§èƒ½å¤§å¤§æŠ˜æŸã€‚</li>
</ul>
<p><strong>Nginx çš„åº”å¯¹ï¼š</strong> ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒNginx æ—©æœŸé‡‡ç”¨äº†ä¸€æŠŠå…¨å±€é”ï¼ˆAccept Mutexï¼‰ã€‚æ¯ä¸ª Worker åœ¨è°ƒç”¨ <code>epoll_wait</code> ä¹‹å‰ï¼Œå¿…é¡»å…ˆå»æŠ¢è¿™æŠŠé”ã€‚æŠ¢åˆ°çš„æ‰æœ‰èµ„æ ¼å»ç›‘å¬ç«¯å£ï¼Œæ²¡æŠ¢åˆ°çš„åªèƒ½åœ¨ä¸€æ—å¹²ç­‰ã€‚è¿™è™½ç„¶è§£å†³äº†æƒŠç¾¤ï¼Œä½†ä¹Ÿé™åˆ¶äº†å¹¶è¡Œåº¦ã€‚</p>
<p><strong>å†…æ ¸çš„ç»ˆæè§£æ³•ï¼š</strong> ç°åœ¨çš„ Linux å†…æ ¸å·²ç»å®Œç¾è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p>
<ol>
<li><strong>Accept æƒŠç¾¤ï¼š</strong> å†…æ ¸å¼•å…¥äº† <code>EPOLLEXCLUSIVE</code> æ ‡å¿—ã€‚å½“è®¾ç½®äº†è¿™ä¸ªæ ‡å¿—ï¼Œå†…æ ¸åœ¨å”¤é†’æ—¶ä¼šâ€œæ’ä»–æ€§â€åœ°åªå”¤é†’ <strong>1 ä¸ª</strong> æ­£åœ¨ç­‰å¾…çš„è¿›ç¨‹ï¼Œå½»åº•æ ¹æ²»äº†æƒŠç¾¤æ•ˆåº”ã€‚</li>
<li><strong>SO_REUSEPORTï¼š</strong> å…è®¸æ‰€æœ‰ Worker ç»‘å®šåŒä¸€ä¸ªç«¯å£ï¼Œç”±å†…æ ¸è¿›è¡Œè´Ÿè½½å‡è¡¡ï¼Œè®©æƒŠç¾¤æˆä¸ºå†å²ã€‚</li>
</ol>
</blockquote>
<h4 data-id="heading-14">ä¸‰ä¸ªç³»ç»Ÿè°ƒç”¨ï¼šepoll å…·ä½“åšäº†ä»€ä¹ˆæ€ä¹ˆåšï¼Ÿ</h4>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»å®Œå…¨å‚æ‚Ÿäº† <code>epoll</code> çš„ä¸€åˆ‡ã€‚é‚£ä¹ˆç°åœ¨ï¼Œå†è®©æˆ‘ä»¬ä» Linux æä¾›çš„ä¸‰ä¸ªç³»ç»Ÿè°ƒç”¨æ¥å£å‡ºå‘ï¼Œé€šè¿‡ä¸€ä¸ªç®€åŒ–çš„åœºæ™¯ä»£ç ï¼Œå°† <strong>çº¢é»‘æ ‘ã€å°±ç»ªé“¾è¡¨ã€å›è°ƒã€ç­‰å¾…é˜Ÿåˆ—</strong> è¿™ä¸€æ•´å¥—å¤æ‚çš„æœºæ¢°è£…ç½®çœŸæ­£è¿è½¬èµ·æ¥ã€‚</p>
<p>Linux å†…æ ¸å°† <code>epoll</code> çš„å¤æ‚æœºåˆ¶å°è£…æˆäº†ä¸‰ä¸ªæç®€çš„â€œæ‰‹æœ¯åˆ€â€ï¼š</p>
<ul>
<li>
<p><code>epoll_create</code></p>
<ul>
<li><strong>åŠ¨ä½œï¼š</strong> åœ¨å†…æ ¸ä¸­åˆ›å»ºä¸€ä¸ª <code>epoll</code> å®ä¾‹ã€‚</li>
<li><strong>å†…æ ¸æ˜ å°„ï¼š</strong> æ­¤æ—¶ï¼Œå†…æ ¸ä¼šåˆå§‹åŒ–ä¸¤ä¸ªæ ¸å¿ƒç»“æ„ï¼šä¸€æ£µç©ºçš„ <strong>çº¢é»‘æ ‘</strong>ï¼ˆç”¨äºå­˜ Socketï¼‰å’Œä¸€ä¸ªç©ºçš„ <strong>å°±ç»ªé“¾è¡¨</strong>ã€‚</li>
<li><strong>è¿”å›ï¼š</strong> è¿”å›ä¸€ä¸ªå¥æŸ„ <code>epfd</code>ï¼Œä»¥åæ‰€æœ‰çš„æ“ä½œéƒ½é å®ƒã€‚</li>
</ul>
</li>
<li>
<p><code>epoll_ctl</code></p>
<ul>
<li><strong>åŠ¨ä½œï¼š</strong> å‘ <code>epoll</code> å®ä¾‹ä¸­æ·»åŠ ã€ä¿®æ”¹æˆ–åˆ é™¤æ„Ÿå…´è¶£çš„ Socket äº‹ä»¶ã€‚</li>
<li><strong>å†…æ ¸æ˜ å°„ï¼š</strong> è¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚å½“ä½ è°ƒç”¨ <code>EPOLL_CTL_ADD</code> æ—¶ï¼Œå†…æ ¸ä¼šåšä¸¤ä»¶äº‹ï¼š
<ol>
<li>å°†è¯¥ Socket èŠ‚ç‚¹æ’å…¥åˆ° <strong>çº¢é»‘æ ‘</strong> ä¸­ï¼ˆè§£å†³æŸ¥æ‰¾é—®é¢˜ï¼‰ã€‚</li>
<li>ç»™è¯¥ Socket æ³¨å†Œ <strong>å›è°ƒå‡½æ•° (<code>ep_poll_callback</code>)</strong>ï¼ˆè§£å†³é©±åŠ¨é—®é¢˜ï¼‰ã€‚</li>
</ol>
</li>
</ul>
</li>
<li>
<p><code>epoll_wait</code></p>
<ul>
<li><strong>åŠ¨ä½œï¼š</strong> é˜»å¡ç­‰å¾…äº‹ä»¶å‘ç”Ÿã€‚</li>
<li><strong>å†…æ ¸æ˜ å°„ï¼š</strong>
<ol>
<li>æ£€æŸ¥ <strong>å°±ç»ªé“¾è¡¨</strong> æ˜¯å¦æœ‰æ•°æ®ã€‚</li>
<li>å¦‚æœæœ‰ï¼Œç›´æ¥è¿”å›ï¼ˆ<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>ï¼‰ã€‚</li>
<li>å¦‚æœæ²¡æœ‰ï¼Œå°†å½“å‰è¿›ç¨‹æ”¾å…¥ <strong>ç­‰å¾…é˜Ÿåˆ—</strong>ï¼Œå¹¶è®©å‡º CPU è¿›å…¥ç¡çœ ï¼ˆæŒ‚èµ·ï¼‰ã€‚</li>
</ol>
</li>
</ul>
</li>
</ul>
<h4 data-id="heading-15">å®æˆ˜æ¼”ç»ƒï¼šä¸€ä¸ªæç®€çš„ Epoll Server</h4>
<p>ä¸ºäº†æŠŠä¸Šè¿°æµç¨‹å…·è±¡åŒ–ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€æ®µä¼ªä»£ç ã€‚è¿™æ®µä»£ç å±•ç¤ºäº† Nginx Worker è¿›ç¨‹å†…éƒ¨æœ€æ ¸å¿ƒçš„å¾ªç¯é€»è¾‘ï¼š</p>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// 1. [epoll_create]åˆ›å»º epoll å®ä¾‹</span>
<span class="hljs-comment">// å†…æ ¸åŠ¨ä½œï¼šåˆå§‹åŒ–çº¢é»‘æ ‘ã€å°±ç»ªé“¾è¡¨ã€ç­‰å¾…é˜Ÿåˆ—</span>
<span class="hljs-type">int</span> epfd = epoll_create(<span class="hljs-number">1</span>);

<span class="hljs-comment">// 2. [epoll_ctl] æ³¨å†Œç›‘å¬ Socket (listen_fd)</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">epoll_event</span> <span class="hljs-title">ev</span>;</span>
ev.events = EPOLLIN; <span class="hljs-comment">// ç›‘å¬è¯»äº‹ä»¶</span>
ev.data.fd = listen_fd;

<span class="hljs-comment">// å†…æ ¸åŠ¨ä½œï¼šå°† listen_fd æŒ‚å…¥çº¢é»‘æ ‘ï¼Œå¹¶æ³¨å†Œå›è°ƒå‡½æ•°</span>
epoll_ctl(epfd, EPOLL_CTL_ADD, listen_fd, &amp;ev);

<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">epoll_event</span> <span class="hljs-title">events</span>[<span class="hljs-title">MAX_EVENTS</span>];</span>

<span class="hljs-comment">// 3. è¿›å…¥ Reactor äº‹ä»¶å¾ªç¯ (Nginx Worker çš„æ—¥å¸¸)</span>
<span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
    <span class="hljs-comment">// [epoll_wait] ç­‰å¾…äº‹ä»¶</span>
    <span class="hljs-comment">// å†…æ ¸åŠ¨ä½œï¼š</span>
    <span class="hljs-comment">// A. æ£€æŸ¥å°±ç»ªé“¾è¡¨ã€‚å¦‚æœä¸ä¸ºç©ºï¼Œç›´æ¥è¿”å›ã€‚</span>
    <span class="hljs-comment">// B. å¦‚æœä¸ºç©ºï¼ŒæŠŠå½“å‰è¿›ç¨‹æ”¾å…¥â€œç­‰å¾…é˜Ÿåˆ—â€ï¼Œè¿›å…¥ç¡çœ ã€‚</span>
    <span class="hljs-comment">// C. å½“ç½‘å¡æœ‰æ•°æ® -&gt; è§¦å‘ä¸­æ–­ -&gt; å›è°ƒå‡½æ•°æŠŠ fd æ”¾å…¥å°±ç»ªé“¾è¡¨ -&gt; å”¤é†’å½“å‰è¿›ç¨‹ã€‚</span>
    <span class="hljs-type">int</span> nfds = epoll_wait(epfd, events, MAX_EVENTS, <span class="hljs-number">-1</span>);

    <span class="hljs-comment">// 4. éå†å°±ç»ªé“¾è¡¨ (åªå¤„ç†æ´»è·ƒçš„ï¼Œä¸éå†æ— æ•ˆçš„)</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; nfds; i++) {
        <span class="hljs-keyword">if</span> (events[i].data.fd == listen_fd) {
            <span class="hljs-comment">// å¤„ç†æ–°è¿æ¥</span>
            <span class="hljs-type">int</span> client_fd = accept(listen_fd, ...);
            
            <span class="hljs-comment">// å°†æ–°è¿æ¥ä¹ŸåŠ å…¥çº¢é»‘æ ‘ç›‘ç®¡</span>
            epoll_ctl(epfd, EPOLL_CTL_ADD, client_fd, &amp;ev);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// å¤„ç†å·²æœ‰è¿æ¥çš„æ•°æ®</span>
            <span class="hljs-comment">// è¿™å°±æ˜¯ Reactor æ¨¡å¼ä¸­çš„ "Handler"</span>
            handle_request(events[i].data.fd);
        }
    }
}
</code></pre>
<p>è®©æˆ‘ä»¬æœ€åä¸€æ¬¡æ¢³ç†æ•°æ®æ˜¯å¦‚ä½•ä»ç½‘å¡æµå‘ç”¨æˆ·ç¨‹åºçš„ï¼š</p>
<ol>
<li><strong>å¸ƒå±€ (epoll_ctl)</strong>ï¼šè¿›ç¨‹å°† Socket æ³¨å†Œåˆ°å†…æ ¸çš„ <strong>çº¢é»‘æ ‘</strong>ï¼Œå¹¶ç»‘å®šå›è°ƒã€‚</li>
<li><strong>å…¥ç¡ (epoll_wait)</strong>ï¼šè¿›ç¨‹å‘ç°æ²¡æœ‰æ•°æ®ï¼Œè¿›å…¥ <strong>ç­‰å¾…é˜Ÿåˆ—</strong> ç¡è§‰ï¼ŒCPU åˆ©ç”¨ç‡é™ä¸º 0ã€‚</li>
<li><strong>è§¦å‘ (Interrupt)</strong>ï¼šç½‘å¡æ”¶åˆ°æ•°æ®ï¼Œç¡¬ä»¶ä¸­æ–­å”¤é†’å†…æ ¸ã€‚</li>
<li><strong>æ¬è¿ (Callback)</strong>ï¼šå›è°ƒå‡½æ•°å°†çº¢é»‘æ ‘ä¸Šå¯¹åº”çš„ Socket æ¬è¿åˆ° <strong>å°±ç»ªé“¾è¡¨</strong>ï¼Œå¹¶å”¤é†’ <strong>ç­‰å¾…é˜Ÿåˆ—</strong> ä¸­çš„è¿›ç¨‹ã€‚</li>
<li><strong>å¤„ç† (Wakeup)</strong>ï¼šè¿›ç¨‹é†’æ¥ï¼Œç›´æ¥ä» <strong>å°±ç»ªé“¾è¡¨</strong> æ‹¿èµ°æ•°æ®ï¼Œæ‰§è¡Œä¸šåŠ¡é€»è¾‘ã€‚</li>
</ol>
<h2 data-id="heading-16">æ‹¨å¼€è¿·é›¾ï¼Œç›´æŠµå†…æ ¸</h2>
<p>æ–‡ç« çš„å¼€å¤´ï¼Œæˆ‘ä»¬æƒŠå¹äº Nginx å•æœºç™¾ä¸‡å¹¶å‘çš„å®å¤§æ•°å­—ï¼›æ–‡ç« çš„ç»“å°¾ï¼Œæˆ‘ä»¬ç»ˆäºåœ¨ Linux å†…æ ¸çš„æ·±å¤„æ‰¾åˆ°äº†æ”¯æ’‘è¿™ä¸€å¥‡è¿¹çš„ç­”æ¡ˆã€‚</p>
<p>å›é¡¾å…¨æ–‡ï¼ŒNginx å…¶å®æ›´åƒæ˜¯ä¸€ä¸ªå®Œç¾çš„ <strong>â€œæŠ€æœ¯å±•å°â€</strong> ï¼Œå®ƒå‘ä¸–äººå±•ç¤ºäº†å½“åº”ç”¨å±‚æ¶æ„ï¼ˆReactorï¼‰ä¸å†…æ ¸å±‚æœºåˆ¶ï¼ˆEpollï¼‰å®ç°å®Œç¾å…±æŒ¯æ—¶ï¼Œè½¯ä»¶æ€§èƒ½å¯ä»¥è¾¾åˆ°æ€æ ·çš„é«˜åº¦ã€‚æˆ‘ä»¬èŠ±å¤§ç¯‡å¹…å»å‰–æçº¢é»‘æ ‘ã€æ‹†è§£å›è°ƒæœºåˆ¶ã€è¿½è¸ªå°±ç»ªé“¾è¡¨ï¼Œæ­£æ˜¯ä¸ºäº†è¯æ˜ä¸€ç‚¹ï¼š<strong>æ‰€è°“çš„é«˜æ€§èƒ½â€œç¥è¯â€ï¼Œä¸è¿‡æ˜¯å¯¹åº•å±‚åŸç†æè‡´åˆ©ç”¨åçš„å¿…ç„¶ç»“æœã€‚</strong></p>
<p>æ­¤åˆ»ï¼Œå½“æˆ‘ä»¬å†æ¬¡å®¡è§† Nginx é‚£çœ‹ä¼¼å¤æ‚çš„ Master-Worker è¿›ç¨‹ä¸é…ç½®æ–‡ä»¶æ—¶ï¼Œçœ¼å‰çš„è¿·é›¾å·²ç„¶æ•£å»ã€‚æˆ‘ä»¬çœ‹åˆ°çš„ä¸å†æ˜¯ç¥ç§˜çš„ä»£ç é»‘ç›’ï¼Œè€Œæ˜¯ <strong>Epoll</strong> é‚£é¢—å¼ºåŠ²è·³åŠ¨çš„â€œå¿ƒè„â€ï¼Œåœ¨æ¯ä¸€æ¬¡å›è°ƒä¸å”¤é†’ä¸­ï¼Œæºæºä¸æ–­åœ°ä¸ºäº’è”ç½‘è¾“é€ç€åŠ¨åŠ›ã€‚</p>
<p>Nginx çš„ç™¾ä¸‡å¹¶å‘ï¼Œå§‹äºæ¶æ„ï¼Œæˆäº Epollã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ACM Multimedia | äº¬ä¸œé›¶å”®å¹¿å‘Šåˆ›æ„ï¼šç»Ÿä¸€çš„å¸ƒå±€ç”Ÿæˆå’Œè¯„ä¼°æ¨¡å‹]]></title>    <link>https://juejin.cn/post/7592922036092977167</link>    <guid>https://juejin.cn/post/7592922036092977167</guid>    <pubDate>2026-01-09T07:29:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592922036092977167" data-draft-id="7593158683410333696" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ACM Multimedia | äº¬ä¸œé›¶å”®å¹¿å‘Šåˆ›æ„ï¼šç»Ÿä¸€çš„å¸ƒå±€ç”Ÿæˆå’Œè¯„ä¼°æ¨¡å‹"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T07:29:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äº¬ä¸œé›¶å”®æŠ€æœ¯"/> <meta itemprop="url" content="https://juejin.cn/user/4233576972293643"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ACM Multimedia | äº¬ä¸œé›¶å”®å¹¿å‘Šåˆ›æ„ï¼šç»Ÿä¸€çš„å¸ƒå±€ç”Ÿæˆå’Œè¯„ä¼°æ¨¡å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4233576972293643/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äº¬ä¸œé›¶å”®æŠ€æœ¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:29:15.000Z" title="Fri Jan 09 2026 07:29:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡å…¥é€‰é¡¶ä¼šACM Multimedia</p>
<p>å¸ƒå±€ç”Ÿæˆåœ¨ç”µå•†å›¾ç‰‡çš„è®¾è®¡ä¸­èµ·åˆ°è‡³å…³é‡è¦çš„ä½œç”¨ã€‚å½“å‰çš„å¸ƒå±€ç”Ÿæˆæ–¹æ³•åœ¨èƒ½åŠ›ä¸Šå…·æœ‰ä»»åŠ¡ç‰¹å®šæ€§ï¼Œå¹¶ä¸”è¯„ä¼°æ ‡å‡†ä¸äººç±»æ„ŸçŸ¥ä¸ä¸€è‡´ï¼Œå¯¼è‡´å…¶åº”ç”¨èŒƒå›´æœ‰é™ä¸”è¯„ä¼°æ•ˆæœä¸ä½³ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒUni-Layoutå®ç°äº†ç»Ÿä¸€ç”Ÿæˆã€æ¨¡æ‹Ÿäººç±»çš„è¯„ä¼°ä»¥åŠäºŒè€…ä¹‹é—´çš„å¯¹é½ã€‚é’ˆå¯¹é€šç”¨ç”Ÿæˆï¼Œè¯¥æ¡†æ¶å°†å„ç§å¸ƒå±€ä»»åŠ¡æ•´åˆåˆ°ä¸€ä¸ªç»Ÿä¸€çš„åˆ†ç±»ç³»ç»Ÿä¸­ï¼Œå¹¶å¼€å‘äº†ä¸€ä¸ªç»Ÿä¸€çš„ç”Ÿæˆå™¨ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€æç¤ºå¤„ç†èƒŒæ™¯æˆ–å…ƒç´ å†…å®¹å—é™çš„ä»»åŠ¡ã€‚ä¸ºäº†å¼•å…¥äººç±»åé¦ˆä»¥æœ‰æ•ˆè¯„ä¼°å¸ƒå±€ï¼Œæˆ‘ä»¬æ„å»ºäº†Layout-HF100kï¼Œè¿™æ˜¯é¦–ä¸ªåŒ…å«10ä¸‡ä¸ªäººå·¥æ ‡æ³¨å¸ƒå±€çš„å¤§è§„æ¨¡äººç±»åé¦ˆæ•°æ®é›†ã€‚åŸºäºLayout-HF100kï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æ¨¡æ‹Ÿäººç±»çš„è¯„ä¼°å™¨ï¼Œè¯¥è¯„ä¼°å™¨ç»“åˆè§†è§‰å’Œå‡ ä½•ä¿¡æ¯ï¼Œé‡‡ç”¨æ€ç»´é“¾æœºåˆ¶è¿›è¡Œå®šæ€§è¯„ä¼°ï¼Œå¹¶é€šè¿‡ä¿¡å¿ƒä¼°è®¡æ¨¡å—æä¾›å®šé‡æµ‹é‡ã€‚ä¸ºäº†æ›´å¥½åœ°å¯¹é½ç”Ÿæˆå™¨å’Œè¯„ä¼°å™¨ï¼Œæˆ‘ä»¬é‡‡ç”¨åŠ¨æ€è¾¹è·åå¥½ä¼˜åŒ–ï¼ˆDMPOï¼‰æŠ€æœ¯ï¼Œå°†äºŒè€…æ•´åˆä¸ºä¸€ä¸ªåè°ƒç³»ç»Ÿï¼Œä»¥æ›´å¥½åœ°ç¬¦åˆäººç±»åˆ¤æ–­ã€‚</p>
<p>è®ºæ–‡é“¾æ¥ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Farxiv.org%2Fabs%2F2508.02374" target="_blank" title="https://arxiv.org/abs/2508.02374" ref="nofollow noopener noreferrer">arxiv.org/abs/2508.02â€¦</a></p>
<h2 data-id="heading-0">ä¸€ã€èƒŒæ™¯ä¸ç°çŠ¶</h2>
<p>å¸ƒå±€ç”Ÿæˆæ—¨åœ¨ä¸ºç»™å®šçš„å…ƒç´ è®¾è®¡å¸å¼•äººçš„è§†è§‰æ’ç‰ˆï¼Œæ¶µç›–ä»æµ·æŠ¥å’Œæ–‡æ¡£è®¾è®¡åˆ°ç”¨æˆ·ç•Œé¢å¸ƒå±€å’Œæ‚å¿—æ’ç‰ˆç­‰å¹¿æ³›ä»»åŠ¡ã€‚è™½ç„¶ç”Ÿæˆæ¨¡å‹å–å¾—äº†æ˜¾è‘—è¿›å±•ï¼Œä½†ç°æœ‰æ–¹æ³•é€šå¸¸ä¸“æ³¨äºç‹­ä¹‰ä»»åŠ¡ï¼Œå¯¼è‡´è§£å†³æ–¹æ¡ˆç¼ºä¹çµæ´»æ€§å’Œæ™®é€‚æ€§ã€‚æ­¤å¤–ï¼Œå°½ç®¡ç°æœ‰çš„è¯„ä¼°æŒ‡æ ‡åŸºäºå¸ƒå±€è®¾è®¡åŸåˆ™ç²¾å¿ƒè®¾è®¡ï¼Œä½†å®ƒä»¬å¸¸å¸¸ä¸äººç±»çš„æ„ŸçŸ¥ä¸ä¸€è‡´ã€‚å¦‚å›¾1æ‰€ç¤ºï¼Œé«˜è¯„åˆ†çš„å¸ƒå±€å¯èƒ½åœ¨è§†è§‰è´¨é‡ä¸Šè¾ƒå·®ï¼Œè¿™æ­ç¤ºäº†ç°æœ‰æŒ‡æ ‡ä¸çœŸå®äººç±»æ„ŸçŸ¥ä¹‹é—´çš„å·®è·ã€‚ä¸ºäº†è§£å†³è¿™äº›æŒ‘æˆ˜ï¼Œæˆ‘ä»¬æå‡ºäº†Uni-Layoutï¼Œä¸€ä¸ªé€šè¿‡ç»Ÿä¸€ç”Ÿæˆå™¨ã€æ¨¡æ‹Ÿäººç±»çš„è¯„ä¼°å™¨å’ŒåŠ¨æ€è¾¹è·å¯¹é½æœºåˆ¶æ¥æ•´åˆå¸ƒå±€ç”Ÿæˆã€è¯„ä¼°å’Œå¯¹é½çš„æ•´ä½“æ¡†æ¶ã€‚ä¸ºäº†è¯¦ç»†é˜è¿°Uni-Layoutï¼Œæœ¬æ–‡å›´ç»•ä¸‰ä¸ªæ ¸å¿ƒç ”ç©¶é—®é¢˜å±•å¼€ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2758450960cb45c7a951d65a718765ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768548555&amp;x-signature=BAJsnq4zOPsOXyQjT8C2KlJ8Ais%3D" alt="image.png" loading="lazy"/></p>
<p align="center">å›¾1ï¼šå¸ƒå±€ç”Ÿæˆä»»åŠ¡çš„åˆ†ç±»ä½“ç³»ä¸åŠ¨æœºé˜è¿°</p>
<h2 data-id="heading-1">äºŒã€å¦‚ä½•å®ç°è·¨ä»»åŠ¡çš„ç»Ÿä¸€å¸ƒå±€ç”Ÿæˆ</h2>
<p>ä¸ºäº†ç³»ç»Ÿåœ°ç»Ÿä¸€å½“å‰åˆ†æ•£çš„å¸ƒå±€ç”Ÿæˆä»»åŠ¡é¢†åŸŸï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªåŸºäºä¸¤ä¸ªç»´åº¦çš„ç²¾å¿ƒç»„ç»‡çš„åˆ†ç±»æ³•ï¼šèƒŒæ™¯å’Œå…ƒç´ å†…å®¹æ˜¯è‡ªç”±çš„è¿˜æ˜¯å—é™çš„ã€‚å¦‚å›¾1æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†ç°æœ‰çš„å¸ƒå±€ä»»åŠ¡åˆ†ä¸ºå››ç§ä»£è¡¨æ€§ç±»å‹ï¼šBFEFã€BCEFã€BFECå’ŒBCECã€‚å½“å‰çš„ä»»åŠ¡ç‰¹å®šæ–¹æ³•åœ¨ç»Ÿä¸€å¸ƒå±€ç”Ÿæˆæ–¹é¢å­˜åœ¨å›°éš¾ï¼Œä½†å¤šæ¨¡æ€å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆMLLMsï¼‰ç”±äºå…¶é€šç”¨çš„è§†è§‰-è¯­è¨€ç†è§£èƒ½åŠ›ï¼Œæä¾›äº†æœ‰å‰æ™¯çš„è§£å†³æ–¹æ¡ˆã€‚åˆ©ç”¨MLLMsï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ä¸ªç»Ÿä¸€çš„å¸ƒå±€ç”Ÿæˆå™¨ï¼Œå…¶å·¥ä½œæ–¹å¼ç±»ä¼¼äºä¸€åç†Ÿç»ƒçš„è®¾è®¡å¸ˆã€‚è¯¥ç”Ÿæˆå™¨ç»“åˆè§†è§‰çº¦æŸå’Œæ–‡æœ¬æŒ‡ä»¤æ¥ç”Ÿæˆè¿è´¯çš„å¸ƒå±€ï¼Œèƒ½å¤Ÿå¤„ç†èƒŒæ™¯å’Œå…ƒç´ å†…å®¹æ—¢å¯ä»¥å—é™ä¹Ÿå¯ä»¥è‡ªç”±çš„å¤šç§åœºæ™¯ã€‚é€šè¿‡åœ¨å„ç§å¸ƒå±€ä»»åŠ¡ä¸Šçš„è”åˆè®­ç»ƒï¼Œå®ƒä¸ºå¸ƒå±€ç”Ÿæˆæä¾›äº†ä¸€ä¸ªçµæ´»ä¸”ç»Ÿä¸€çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ä¸ºäº†ç»Ÿä¸€å¤šç§å¸ƒå±€ä»»åŠ¡ï¼Œä¸€ä¸ªé€šç”¨çš„å¸ƒå±€ä»»åŠ¡æŒ‡ä»¤å¯å†™ä½œï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ccc35f012c8b4a819609c909a05a1b0c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768548555&amp;x-signature=Ycwcy6SMRqP1HK6fW87hZ%2Bg0Wc8%3D" alt="image.png" loading="lazy"/></p>
<p>å…¶ä¸­Tä¸ºä»»åŠ¡æè¿°ï¼Œbè¡¨ç¤ºèƒŒæ™¯çš„å†…å®¹å’Œå±æ€§ï¼Œeè¡¨ç¤ºå…ƒç´ çš„å†…å®¹å’Œå±æ€§ï¼ŒOæ˜¯æŒ‡å®šçš„è¾“å‡ºæ ¼å¼ã€‚æ³¨æ„èƒŒæ™¯å’Œå…ƒç´ çš„å±æ€§æ˜¯å¿…é¡»çš„ï¼Œä½†å…¶å†…å®¹å¯ä¸ºç©ºã€‚ä¸ºäº†æ¸…æ¥šèµ·è§ï¼Œæˆ‘ä»¬é’ˆå¯¹BCECä»»åŠ¡æä¾›äº†ä¸€ä¸ªè¯´æ˜ç¤ºä¾‹ï¼Œå…¶ä¸­ä¸‹åˆ’çº¿éƒ¨åˆ†å¯¹åº”ä¸Šå¼ä¸­çš„å¯¹åº”é¡¹ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16d88ad7176a4dbc8d7da0db11177440~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768548555&amp;x-signature=0gT6rNwEXW5NuvQvD6Q0McunRsw%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-2">ä¸‰ã€å¦‚ä½•æ¨¡æ‹Ÿäººç±»æ¥è¯„ä¼°å¸ƒå±€</h2>
<p>å°½ç®¡äººç±»æ„ŸçŸ¥åœ¨å¸ƒå±€è®¾è®¡ä¸­éå¸¸é‡è¦ï¼Œä½†ç°æœ‰æ•°æ®é›†ä¸­ç¼ºä¹å¯¹å¸ƒå±€è´¨é‡çš„äººç±»åé¦ˆã€‚ä¸ºå¼¥è¡¥è¿™ä¸€ç¼ºå£ï¼Œæˆ‘ä»¬æ±‡æ€»äº†ç»Ÿä¸€ç”Ÿæˆå™¨çš„è¾“å‡ºï¼Œå¹¶ç¼–åˆ¶äº†Layout-HF100kï¼Œè¿™æ˜¯é¦–ä¸ªä¸“ä¸ºå¸ƒå±€ç”Ÿæˆç­–åˆ’çš„å…¨é¢äººç±»åé¦ˆæ•°æ®é›†ï¼ŒåŒ…å«10ä¸‡ä¸ªç²¾å¿ƒæ ‡æ³¨çš„é«˜è´¨é‡ç¤ºä¾‹ï¼Œæ¶µç›–ä»£è¡¨æ€§å¸ƒå±€ä»»åŠ¡ã€‚è¯¥æ•°æ®é›†çš„ç¤ºä¾‹å¦‚å›¾2æ‰€ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/04438e41c67c48059691166ecda9bbb5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768548555&amp;x-signature=aFOC8i%2BjmWrgIvNKmI%2BSXJaO9u0%3D" alt="image.png" loading="lazy"/></p>
<p align="center">å›¾2ï¼šLayout-HF100kç¤ºä¾‹ã€‚ç¬¬ä¸€/äºŒè¡Œåˆ†åˆ«ä¸ºåˆæ ¼/ä¸åˆæ ¼å¸ƒå±€ã€‚</p>
<p>åŸºäºè¿™ä¸€å…¨æ–°çš„æ•°æ®é›†ï¼Œæˆ‘ä»¬å¼€å‘äº†ä¸€ç§è¯„ä¼°å™¨ï¼Œç»“æ„å¦‚å›¾3ï¼ˆbï¼‰å’Œï¼ˆcï¼‰æ‰€ç¤ºã€‚å…¶é€šè¿‡è§†è§‰å’Œå‡ ä½•ä¿¡æ¯ä¸¤ä¸ªåˆ†æ”¯å¤„ç†å¸ƒå±€ï¼Œä»¥æœ‰æ•ˆæ¨¡æ‹Ÿäººç±»åˆ¤æ–­æ¨¡å¼ã€‚æ­¤å¤–ï¼Œè¯¥è¯„ä¼°å™¨ç»“åˆäº†ä¸€ä¸ªè¾“å‡ºå®šé‡ç½®ä¿¡åº¦ä¼°è®¡çš„åˆ†ç±»å¤´ï¼Œä»¥åŠå®šæ€§â€œæ€ç»´é“¾â€ï¼ˆCoTï¼‰æ¨ç†ï¼Œä½¿å…¶èƒ½å¤Ÿæ•æ‰å¾®å¦™çš„å®¡ç¾åå¥½ï¼Œå¹¶æä¾›ä¸äººç±»æ„ŸçŸ¥æ¨¡å¼ç´§å¯†å¯¹é½çš„å¯è§£é‡Šè¯„ä¼°ã€‚é€šè¿‡ç»“åˆå¤šæ¨¡æ€åˆ†æå’ŒCoTæ¨ç†ï¼Œæˆ‘ä»¬çš„è¯„ä¼°å™¨ä¸ä»…èƒ½å¤Ÿåšå‡ºå‡†ç¡®åˆ¤æ–­ï¼Œè¿˜èƒ½é˜æ˜å…¶å†³ç­–èƒŒåçš„ç†ç”±ï¼Œç±»ä¼¼äºäººç±»ä¸“å®¶å¦‚ä½•è¯„ä¼°å¸ƒå±€ã€‚</p>
<p>å…·ä½“æ¥è¯´ï¼ŒCoTåŒ…å«ä»¥ä¸‹å››ä¸ªæ­¥éª¤ï¼š</p>
<p>(1) å¸ƒå±€æ¦‚è§ˆï¼šå¯¹å¸ƒå±€å¯è§†åŒ–ç»“æœå¿«é€Ÿè€Œå…¨é¢çš„æ‰«æï¼Œé€šè¿‡ç®€æ´çš„æ–‡æœ¬æè¿°æ•æ‰å¸ƒå±€çš„ç¬¬ä¸€å°è±¡ï¼Œæ¦‚è¿°æ•´ä½“æ„å›¾å’Œä¸Šä¸‹æ–‡å…ƒç´ ã€‚</p>
<p>(2) ç©ºé—´è§£æ„ï¼šç³»ç»Ÿåœ°åˆ†è§£å¸ƒå±€çš„åŸºæœ¬ç»„æˆéƒ¨åˆ†ï¼Œåˆ†æå‡ ä½•å±æ€§å’Œç©ºé—´å…³ç³»ã€‚å®ƒæ£€æŸ¥å¯¹é½æ¨¡å¼ã€è¯†åˆ«æ½œåœ¨é‡å ï¼Œå¹¶è¯„ä¼°é—´è·ä¸€è‡´æ€§ï¼Œä»¥æ­ç¤ºæ½œåœ¨çš„ç»“æ„æ¡†æ¶ã€‚</p>
<p>(3) ç¾å­¦è¯„ä¼°ï¼šå¯¹å¸ƒå±€çš„è§†è§‰è´¨é‡è¿›è¡Œè¯¦ç»†è¯„ä¼°ï¼Œé‡ç‚¹å…³æ³¨è‰ºæœ¯ä»·å€¼å’Œè®¾è®¡åŸåˆ™ã€‚è¿™åŒ…æ‹¬å¯¹æ¯”ä¾‹å¹³è¡¡ã€ç©ºé—´å’Œè°å’Œè§†è§‰èŠ‚å¥çš„è¯„ä¼°ï¼ŒåŒæ—¶è€ƒè™‘è¿™äº›å…ƒç´ å¦‚ä½•å¯¹æ•´ä½“ç¾å­¦æ•ˆæœäº§ç”Ÿå½±å“ã€‚</p>
<p>(4) å…¨é¢è¯„ä¼°ï¼šæœ€åé˜¶æ®µç»¼åˆæ‰€æœ‰å…ˆå‰åˆ†æçš„è§è§£ï¼Œä»¥æä¾›å¯¹å¸ƒå±€æœ‰æ•ˆæ€§çš„å…¨é¢è¯„ä¼°ï¼Œæœ€åç»™å‡ºâ€œåˆæ ¼â€æˆ–â€œä¸åˆæ ¼â€çš„æ˜ç¡®åˆ¤æ–­ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c444aa38e9564a27940d827d732a3add~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768548555&amp;x-signature=QaEvpiwATZkXJqMWNZMwMxSWNwI%3D" alt="image.png" loading="lazy"/></p>
<p align="center">å›¾3ï¼šUni-Layoutæ¡†æ¶æ¦‚è§ˆ</p>
<h2 data-id="heading-3">å››ã€å¦‚ä½•æœ‰æ•ˆå¯¹é½äººç±»åé¦ˆå’Œå¸ƒå±€ç”Ÿæˆ</h2>
<p>ç°æœ‰çš„å¯¹é½æ–¹æ³•è¦ä¹ˆç›´æ¥æœ€å¤§åŒ–äººç±»åå¥½çš„è¾“å‡ºå¯èƒ½æ€§ï¼Œè¦ä¹ˆåœ¨å…¶åå¥½å­¦ä¹ ç›®æ ‡ä¸­ä½¿ç”¨å›ºå®šè¾¹è·ã€‚è¿™äº›ä¼ ç»Ÿæ–¹æ³•æœªèƒ½åæ˜ äººç±»åå¥½çš„ä¸åŒç¨‹åº¦ï¼Œå› ä¸ºå®ƒä»¬å¯¹å¼ºåå¥½å’Œå¼±åå¥½ä¸€è§†åŒä»ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é™åˆ¶ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸€ç§æ–°çš„å¯¹é½æ–¹æ³•ï¼Œç§°ä¸ºåŠ¨æ€è¾¹è·åå¥½ä¼˜åŒ–ï¼ˆDMPOï¼‰ã€‚å…·ä½“è€Œè¨€ï¼Œå½“è¯„ä¼°è€…åœ¨æˆå¯¹æ ·æœ¬ä¹‹é—´è¡¨ç°å‡ºæ›´å¼ºçƒˆçš„åå¥½æ—¶ï¼ŒDMPOä¼šè‡ªåŠ¨å¢åŠ è¾¹è·ï¼Œä»¥åœ¨èƒœå‡ºå’Œå¤±è´¥çš„å“åº”ä¹‹é—´å¼ºåˆ¶äº§ç”Ÿæ›´å¤§çš„åˆ†æ•°å·®å¼‚ï¼Œè€Œå¯¹äºä¸å¤ªæ˜æ˜¾çš„åå¥½åˆ™åº”ç”¨è¾ƒå°çš„è¾¹è·ã€‚è¿™ç§ä¿¡å¿ƒå¼•å¯¼çš„è‡ªé€‚åº”è¾¹è·ç­–ç•¥æ›´å¥½åœ°æ•æ‰äº†äººç±»åˆ¤æ–­çš„èŒƒå›´ï¼Œä»è€Œå®ç°ä¸å¸ƒå±€ç”Ÿæˆå’Œäººç±»åå¥½çš„æ›´ç²¾ç¡®å¯¹é½ã€‚</p>
<p>å¦‚å›¾3ï¼ˆdï¼‰æ‰€ç¤ºï¼Œç»™å®šä»»åŠ¡æŒ‡ä»¤å’Œå¯é€‰çš„èƒŒæ™¯æˆ–å…ƒç´ å†…å®¹ï¼Œç”Ÿæˆå™¨äº§ç”Ÿä¸¤ä¸ªå€™é€‰å¸ƒå±€l1å’Œl2ã€‚ä¹‹åé€šè¿‡åŒåˆ†æ”¯å¤„ç†å™¨å°†å¸ƒå±€ç»“æœè½¬åŒ–ä¸ºè§†è§‰å’Œå‡ ä½•ä¿¡æ¯ï¼Œå¹¶é€šè¿‡å¸ƒå±€è¯„ä¼°å™¨äº§å‡ºå€™é€‰å¸ƒå±€çš„å¾—åˆ†ã€‚æˆ‘ä»¬å°†ä¸¤ç§å¸ƒå±€çš„åˆ†æ•°å·®è·å®šä¹‰å¦‚ä¸‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/5f368bada7bc4d5b9cfe5d0269504385~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768548555&amp;x-signature=OZJLbzB%2FCGpRWtQzWf%2BBtYwh8NA%3D" alt="image.png" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a4eee62d31ec4b339d1c3f410eb26732~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768548555&amp;x-signature=cahdn1a1miCsv%2FXBwer%2BuoWnrqY%3D" alt="image.png" loading="lazy"/></p>
<p>å…¶ä¸­I+å’Œl+åˆ†åˆ«è¡¨ç¤ºé«˜åˆ†å¸ƒå±€çš„è§†è§‰å’Œå‡ ä½•ä¿¡æ¯ã€‚ä¸ºäº†è¿›ä¸€æ­¥å¢å¼ºå¯¹è¾¹è·çš„æ„ŸçŸ¥ï¼Œæˆ‘ä»¬åº”ç”¨äº†éçº¿æ€§å˜æ¢f()æ¥å¤„ç†åˆ†æ•°å·®è·ã€‚æœ€ç»ˆï¼ŒDMPOçš„æŸå¤±å½¢å¼å¯å†™ä½œï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16faab4ab3f842d48c36231a8eb7ff6b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768548555&amp;x-signature=W%2F5kHX8LHBJHyfkglSm2%2BvneayA%3D" alt="image.png" loading="lazy"/></p>
<p>é€šè¿‡å°†ç”Ÿæˆå’Œè¯„ä¼°æ•´åˆåˆ°åé¦ˆå¾ªç¯ä¸­ï¼ŒDMPOå¼¥åˆäº†å¸ƒå±€ç”Ÿæˆå’Œäººç±»å®¡ç¾åå¥½ä¹‹é—´çš„å·®è·ï¼Œäº§ç”Ÿäº†æ›´å…·è§†è§‰å¸å¼•åŠ›çš„å¸ƒå±€ã€‚</p>
<h2 data-id="heading-4">äº”ã€å®éªŒç»“æœ</h2>
<p>1ã€å¸ƒå±€è¯„ä¼°æ¨¡å‹æ€§èƒ½</p>
<p>ä¸ºäº†éªŒè¯æˆ‘ä»¬çš„è¯„ä¼°å™¨ï¼Œæˆ‘ä»¬å°†å…¶ä¸ä¸€äº›é¢†å…ˆçš„é—­æºï¼ˆMï¼‰LLMæ¨¡å‹è¿›è¡Œæ¯”è¾ƒï¼ŒåŒ…æ‹¬GPT-4oã€Claude3.5 Sonnetï¼ˆClaude3.5ï¼‰ã€GLM-4vå’ŒDeepSeek-R1ã€‚è¿™äº›æ¨¡å‹éµå¾ªâ€œLLM-as-Judgeâ€èŒƒå¼ã€‚æ‰€æœ‰æ¨¡å‹æ¥æ”¶ç›¸åŒçš„æŒ‡ä»¤å’Œè§†è§‰è¾“å…¥ï¼Œé™¤äº†DeepSeek-R1ï¼Œå®ƒåªå¤„ç†æ–‡æœ¬ã€‚å¦‚è¡¨1æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„æ¨¡å‹è¡¨ç°å‡ºè‰²ï¼Œè¾¾åˆ°85.5%çš„å‡†ç¡®ç‡ï¼Œæ¯”ç°æœ‰çš„MLLMsé«˜å‡º25-35%ã€‚ä¸€äº›MLLMsçš„è¡¨ç°æ¥è¿‘éšæœºï¼ˆçº¦50%ï¼‰ï¼Œçªæ˜¾äº†å®ƒä»¬åœ¨å¸ƒå±€è¯„ä¼°ä¸­çš„å±€é™æ€§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d5d9d2c68fad40e2bb8057544ee952d7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768548555&amp;x-signature=xWSLYc4YN8CGLoebEMRpv5sLiEk%3D" alt="image.png" loading="lazy"/></p>
<p align="center">è¡¨1 ï¼šå¸ƒå±€è¯„ä¼°æ¨¡å‹å¯¹æ¯”</p>
<p>2ã€å¸ƒå±€ç”Ÿæˆæ¨¡å‹æ€§èƒ½</p>
<p>åœ¨æœ¬å°èŠ‚ä¸­ï¼Œæˆ‘ä»¬ä¸ä¸‰ç±»åŸºçº¿æ–¹æ³•è¿›è¡Œäº†æ¯”è¾ƒï¼š(1) é’ˆå¯¹å•ä¸ªå¸ƒå±€ä»»åŠ¡è®¾è®¡çš„ä»»åŠ¡ç‰¹å®šSOTAæ¨¡å‹ï¼ˆä¾‹å¦‚ï¼ŒLayoutDMï¼‰ï¼›(2) é—­æºæ¨¡å‹ï¼ŒåŒ…æ‹¬GPT-4oã€Claude3.5å’ŒDeepSeek-R1ï¼›(3) å¼€æºçš„å¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹ï¼ˆMLLMsï¼‰ï¼Œå¦‚è”åˆè®­ç»ƒå››ä¸ªä»»åŠ¡çš„LLaVAã€‚</p>
<p>åœ¨è¡¨2å±•ç¤ºçš„ä»»åŠ¡ç‰¹å®šè¯„ä¼°ä¸­ï¼Œæˆ‘ä»¬çš„æ–¹æ³•åœ¨å¤šä¸ªæŒ‡æ ‡ä¸Šè¡¨ç°å‡ºè‰²ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨BFEFä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†æœ€ä½çš„Oveï¼ˆ0.001ï¼‰å’ŒAliï¼ˆ0.00004ï¼‰ï¼Œä¸ä¸“ç”¨æ¨¡å‹å¦‚LayoutDMå’ŒLayoutFlowæŒå¹³æˆ–è¶…è¶Šã€‚åœ¨BFECä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä»¥æœ€å°çš„Oveï¼ˆ0.00045ï¼‰å’Œæœ€é«˜çš„Max.ï¼ˆ0.439ï¼‰åˆ›ä¸‹æ–°çºªå½•ã€‚åœ¨BCEFä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬åœ¨ğ‘…ğ‘ğ‘œğ‘šï¼ˆ31.848ï¼‰å’Œğ‘…ğ‘ ğ‘¢ğ‘ï¼ˆ0.774ï¼‰æ–¹é¢å–å¾—äº†æœ€ä½³ç»“æœã€‚åŒæ ·ï¼Œåœ¨BCECä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬çš„æ–¹æ³•ä»¥æœ€ä½çš„ğ‘…ğ‘ğ‘œğ‘šï¼ˆ8.536ï¼‰æ˜¾è‘—ä¼˜äºç°æœ‰æ–¹æ³•ï¼ŒåŒæ—¶åœ¨å…¶ä»–æŒ‡æ ‡ä¸Šä¿æŒç«äº‰åŠ›ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2db6e8ec919b4a84a5e67b7470924ea7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768548555&amp;x-signature=KRadilhp91cUIrSCrmD7bFAU9nc%3D" alt="image.png" loading="lazy"/></p>
<p align="center">è¡¨2ï¼šä»»åŠ¡ç‰¹å®šè¯„ä¼°æŒ‡æ ‡ç»“æœ</p>
<p>é’ˆå¯¹æ‰€æœ‰ä»»åŠ¡çš„äººç±»æ¨¡æ‹Ÿè¯„ä¼°ï¼Œæˆ‘ä»¬å¼•å…¥äº†è¯„ä¼°æ¨¡å‹çš„LRåˆ†æ•°æ¥è¯„ä¼°æ€§èƒ½ã€‚å¦‚å›¾4æ‰€ç¤ºï¼Œæˆ‘ä»¬çš„æ–¹æ³•å®ç°äº†æœ€é«˜çš„LRåˆ†æ•°0.702ï¼Œåœ¨ä¸åŒå¸ƒå±€åœºæ™¯ä¸­è¡¨ç°å‡ºæŒç»­çš„ä¼˜è¶Šæ€§ã€‚ä¸å…¶ä»–æ¨¡å‹ç›¸æ¯”ï¼Œæˆ‘ä»¬æ˜¾è‘—è¶…è¶Šäº†GPT-4oï¼ˆ0.584ï¼‰ã€Claude3.5ï¼ˆ0.575ï¼‰å’ŒDeepSeek-R1ï¼ˆ0.401ï¼‰ï¼Œå·®è·æ˜æ˜¾ã€‚ä¸å¼€æºåŸºçº¿LLaVAï¼ˆ0.422ï¼‰ç›¸æ¯”ï¼Œæ€§èƒ½å·®è·æ›´åŠ æ˜¾è‘—ï¼Œæå‡äº†è¿‘30%ã€‚ä¸LayoutFlowï¼ˆBFEFçš„SOTAï¼‰ã€P&amp;Rï¼ˆBFECçš„SOTAï¼‰å’ŒPoster-Llamaï¼ˆBCEFå’ŒBCECçš„SOTAï¼‰å–å¾—çš„å¹³å‡LRåˆ†æ•°0.658ç›¸æ¯”ï¼Œæˆ‘ä»¬çš„æ–¹æ³•å–å¾—äº†æ›´ä¼˜çš„ç»“æœï¼Œä»è€ŒéªŒè¯äº†Uni-Layoutçš„æœ‰æ•ˆæ€§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7feab9abcc4f4bfe851ec98d80a369b2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Lqs5Lic6Zu25ZSu5oqA5pyv:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768548555&amp;x-signature=IXsqqV8U9Z3xv%2Fo3%2BkJ%2FR5Huu0I%3D" alt="image.png" loading="lazy"/></p>
<p align="center">å›¾4ï¼š äººç±»æ¨¡æ‹Ÿè¯„ä¼°æŒ‡æ ‡ç»“æœ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[åˆ«å†æ‰‹å†™ conf äº†ï¼NgxFlowï¼šåŸºäº React Flow çš„ Nginx å¯è§†åŒ–ä¸è°ƒè¯•ç¥å™¨]]></title>    <link>https://juejin.cn/post/7592829037938950159</link>    <guid>https://juejin.cn/post/7592829037938950159</guid>    <pubDate>2026-01-09T03:20:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592829037938950159" data-draft-id="7592892218668417058" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="åˆ«å†æ‰‹å†™ conf äº†ï¼NgxFlowï¼šåŸºäº React Flow çš„ Nginx å¯è§†åŒ–ä¸è°ƒè¯•ç¥å™¨"/> <meta itemprop="keywords" content="Nginx,æ•°æ®å¯è§†åŒ–,å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-09T03:20:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Anarkh_Lee"/> <meta itemprop="url" content="https://juejin.cn/user/3500474563297544"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            åˆ«å†æ‰‹å†™ conf äº†ï¼NgxFlowï¼šåŸºäº React Flow çš„ Nginx å¯è§†åŒ–ä¸è°ƒè¯•ç¥å™¨
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3500474563297544/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Anarkh_Lee
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:20:50.000Z" title="Fri Jan 09 2026 03:20:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åšåç«¯æˆ–è¿ç»´çš„åŒå­¦ï¼Œå¤šå°‘éƒ½åœ¨æ·±å¤œé‡Œå’Œ <code>nginx.conf</code> ææ–—è¿‡ã€‚</p>
<ul>
<li>æ”¹äº†ä¸€ä¸ª <code>location</code>ï¼ŒReload åæ•´ä¸ªæœåŠ¡ 502ï¼ŒæŸ¥åŠå¤©å‘ç°æ˜¯æ­£åˆ™ä¼˜å…ˆçº§æé”™äº†ã€‚</li>
<li>æƒ³é…ä¸ª HTTPS å¼ºåˆ¶è·³è½¬ï¼Œç»“æœå¯¼è‡´æµè§ˆå™¨é‡å®šå‘å¾ªç¯ï¼ŒæŠŠè‡ªå·±é”åœ¨é—¨å¤–ã€‚</li>
<li>æ¥æ‰‹å‰ä»»ç•™ä¸‹çš„ 1000 è¡Œé…ç½®æ–‡ä»¶ï¼Œåƒçœ‹å¤©ä¹¦ä¸€æ ·ï¼Œå®Œå…¨ä¸æ•¢åŠ¨ï¼Œç”Ÿæ€•â€œç‰µä¸€å‘è€ŒåŠ¨å…¨èº«â€ã€‚</li>
<li>æ¯æ¬¡éƒ½è¦æ‰‹åŠ¨å»æœâ€œå¦‚ä½•éšè— Nginx ç‰ˆæœ¬å·â€ã€â€œæ€ä¹ˆå¼€å¯ Gzipâ€ï¼Œç„¶åå¤åˆ¶ç²˜è´´ä¸€å †ä¸çŸ¥é“å®‰ä¸å®‰å…¨çš„é…ç½®ã€‚</li>
</ul>
<p><strong>2026 å¹´äº†ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜åœ¨ç”¨è®°äº‹æœ¬é…ç½‘å…³ï¼Ÿ</strong></p>
<p>ä¸ºäº†è§£å†³è¿™äº›ç—›ç‚¹ï¼Œåˆ©ç”¨ä¸šä½™æ—¶é—´ï¼Œæˆ‘å¼€å‘äº†ä¸€ä¸ªå¼€æºé¡¹ç›® â€”â€” <strong>NgxFlow</strong>ã€‚</p>
<p>å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªç¼–è¾‘å™¨ï¼Œæ›´æ˜¯ä¸€ä¸ª<strong>Nginx é…ç½®çš„å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†å·¥å…·</strong>ã€‚</p>
<blockquote>
<p><strong>GitHub ä¼ é€é—¨ï¼š</strong> [<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FAnarkh-Lee%2Fnginx-flow" target="_blank" title="https://github.com/Anarkh-Lee/nginx-flow" ref="nofollow noopener noreferrer">github.com/Anarkh-Lee/â€¦</a>] <strong>åœ¨çº¿ä½“éªŒï¼š</strong> [<a href="https://link.juejin.cn?target=https%3A%2F%2Fngxflow.de5.net%2F" target="_blank" title="https://ngxflow.de5.net/" ref="nofollow noopener noreferrer">ngxflow.de5.net/</a>]</p>
</blockquote>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30ed28e0ca8e47c8ac9d208d57765957~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQW5hcmtoX0xlZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768533650&amp;x-signature=mnKuk0iQTr3C4ReCKl9dQErS0qo%3D" alt="1.png" loading="lazy"/>
å¯ä»¥é€šè¿‡ç›´è§‚çš„æ‹–æ‹½å¼ç”»å¸ƒç•Œé¢ï¼Œå¸®åŠ©è¿ç»´å·¥ç¨‹å¸ˆå’Œå¼€å‘è€…å¿«é€Ÿæ„å»ºã€è°ƒè¯•å’Œä¼˜åŒ– Nginx é…ç½®ï¼Œå‡å°‘ç¹ççš„æ‰‹å†™é…ç½®å’Œè¯­æ³•é”™è¯¯ã€‚</p>
<p>ä¸»è¦æœ‰ä»¥ä¸‹è¿™äº›åŠŸèƒ½ï¼š</p>
<h2 data-id="heading-0"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-1-1" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-1-1" ref="nofollow noopener noreferrer"/>1.Â <strong>å¯è§†åŒ–ç”»å¸ƒç¼–è¾‘</strong>Â - æ‹–æ‹½èŠ‚ç‚¹æ„å»ºé…ç½®ï¼Œæ‰€è§å³æ‰€å¾—</h2>
<p><strong>æ”¯æŒçš„èŠ‚ç‚¹ç±»å‹ï¼š</strong></p>

























<table><thead><tr><th>èŠ‚ç‚¹ç±»å‹</th><th>è¯´æ˜</th><th>å¯¹åº” Nginx å—</th></tr></thead><tbody><tr><td><strong>Server èŠ‚ç‚¹</strong></td><td>è™šæ‹Ÿä¸»æœºé…ç½®</td><td><code>server { }</code></td></tr><tr><td><strong>Location èŠ‚ç‚¹</strong></td><td>è·¯å¾„åŒ¹é…è§„åˆ™</td><td><code>location { }</code></td></tr><tr><td><strong>Upstream èŠ‚ç‚¹</strong></td><td>è´Ÿè½½å‡è¡¡åç«¯</td><td><code>upstream { }</code></td></tr></tbody></table>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/784a777efd4e4831a804664f2358e176~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQW5hcmtoX0xlZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768533650&amp;x-signature=a705Ot1tZ33D2SeTXIdzVQfkwQg%3D" alt="2-ezgif.com-resize.gif" loading="lazy"/></p>
<h2 data-id="heading-1">2.Â <strong>ä¸°å¯Œçš„æ¨¡æ¿åº“</strong>Â - ä¸€é”®å¥—ç”¨å¸¸è§åœºæ™¯é…ç½®æ¨¡æ¿</h2>
<p>å†…ç½®å¤šç§ç”Ÿäº§çº§é…ç½®æ¨¡æ¿ï¼Œè¦†ç›–å¸¸è§åº”ç”¨åœºæ™¯ï¼š</p>






































































<table><thead><tr><th>åˆ†ç±»</th><th>æ¨¡æ¿åç§°</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>å‰ç«¯</strong></td><td>React/Vue SPA</td><td>å•é¡µåº”ç”¨ï¼Œè§£å†³ History æ¨¡å¼åˆ·æ–° 404</td></tr><tr><td><strong>å‰ç«¯</strong></td><td>é™æ€èµ„æºæœåŠ¡å™¨</td><td>CDN æºç«™ï¼Œé•¿æœŸç¼“å­˜ + é˜²ç›—é“¾</td></tr><tr><td><strong>åç«¯</strong></td><td>Node.js åå‘ä»£ç†</td><td>Express / NestJS / Fastify</td></tr><tr><td><strong>åç«¯</strong></td><td>Python åº”ç”¨ä»£ç†</td><td>Django / Flask / FastAPI</td></tr><tr><td><strong>åç«¯</strong></td><td>WebSocket å®æ—¶é€šä¿¡</td><td><a href="https://link.juejin.cn?target=http%3A%2F%2Fsocket.io%2F" target="_blank" title="http://socket.io/" ref="nofollow noopener noreferrer">Socket.io</a>Â / WS é•¿è¿æ¥</td></tr><tr><td><strong>CMS</strong></td><td>WordPress (PHP-FPM)</td><td>åšå®¢ç«™ç‚¹ï¼ŒPHP å¤„ç†</td></tr><tr><td><strong>CMS</strong></td><td>Laravel</td><td>PHP æ¡†æ¶ï¼Œä¼ªé™æ€è§„åˆ™</td></tr><tr><td><strong>é«˜å¯ç”¨</strong></td><td>å¤šåç«¯è´Ÿè½½å‡è¡¡</td><td>æµé‡åˆ†å‘ï¼Œæ•…éšœè½¬ç§»</td></tr><tr><td><strong>é«˜å¯ç”¨</strong></td><td>è“ç»¿éƒ¨ç½²</td><td>é›¶å®•æœºå‘å¸ƒ</td></tr><tr><td><strong>å®‰å…¨</strong></td><td>HTTPS æœ€ä½³å®è·µ</td><td>TLS 1.2+ï¼ŒHSTSï¼Œå¼ºåˆ¶è·³è½¬</td></tr><tr><td><strong>å®‰å…¨</strong></td><td>é™æµé…ç½®</td><td>é˜² DDoSï¼ŒAPI é™æµ</td></tr><tr><td><strong>å®‰å…¨</strong></td><td>éšè—æ•æ„Ÿæ–‡ä»¶</td><td>ç¦æ­¢è®¿é—® .git / .env ç­‰</td></tr></tbody></table>
<h2 data-id="heading-2"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-3-3" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-3-3" ref="nofollow noopener noreferrer"/>3.Â <strong>æµé‡æ¨¡æ‹Ÿ</strong>Â - å¯è§†åŒ–æ¨¡æ‹Ÿè¯·æ±‚è·¯å¾„åŒ¹é…</h2>
<p>å¯è§†åŒ–æ¨¡æ‹Ÿè¯·æ±‚è·¯å¾„åŒ¹é…ï¼Œå¸®åŠ©ç†è§£ Location åŒ¹é…ä¼˜å…ˆçº§ã€‚<br/>
æ¯”å¦‚ï¼š ç”»å¸ƒä¸­åˆ›å»ºä»¥ä¸‹Â <strong>4 ä¸ª Location èŠ‚ç‚¹</strong>ï¼š</p>
<ul>
<li>
<p><strong>èŠ‚ç‚¹ A (ç²¾ç¡®åŒ¹é…)</strong> :</p>
<ul>
<li>è§„åˆ™é…ç½®:Â <code>User Defined</code>Â (æˆ– Exact)</li>
<li>è·¯å¾„:Â <code>= /details</code></li>
</ul>
</li>
<li>
<p><strong>èŠ‚ç‚¹ B (æ­£åˆ™åŒ¹é…)</strong> :</p>
<ul>
<li>è§„åˆ™é…ç½®:Â <code>Regex</code>Â (åŒºåˆ†å¤§å°å†™Â <code>~</code>Â æˆ–ä¸åŒºåˆ†Â <code>~*</code>)</li>
<li>è·¯å¾„:Â <code>~ .png$</code>Â  <em>(æ„æ€æ˜¯åŒ¹é…æ‰€æœ‰ .png ç»“å°¾çš„)</em></li>
</ul>
</li>
<li>
<p><strong>èŠ‚ç‚¹ C (æœ€é•¿å‰ç¼€åŒ¹é… - é«˜ä¼˜å…ˆçº§)</strong> :</p>
<ul>
<li>è§„åˆ™é…ç½®:Â <code>Prefix (Important)</code>Â (å³Â <code>^~</code>)</li>
<li>è·¯å¾„:Â <code>^~ /static/</code></li>
</ul>
</li>
<li>
<p><strong>èŠ‚ç‚¹ D (æ™®é€šé€šç”¨åŒ¹é…)</strong> :</p>
<ul>
<li>è§„åˆ™é…ç½®:Â <code>Prefix</code>Â (æ™®é€š)</li>
<li>è·¯å¾„:Â <code>/</code></li>
</ul>
</li>
</ul>
<p>åœ¨â€œæ¨¡æ‹Ÿå™¨è¾“å…¥æ¡†â€ä¸­ä¾æ¬¡è¾“å…¥ä»¥ä¸‹ URLï¼Œç‚¹å‡»â€œæµ‹è¯•â€ï¼Œå¯ä»¥è§‚å¯Ÿåˆ°<strong>å…‰çº¿æµå‘å“ªä¸ªèŠ‚ç‚¹</strong>ã€‚</p>
<h5 data-id="heading-3"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-1-4" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-1-4" ref="nofollow noopener noreferrer"/>æµ‹è¯•ç”¨ä¾‹ 1ï¼šéªŒè¯â€œç²¾ç¡®åŒ¹é…â€ä¼˜å…ˆçº§æœ€é«˜</h5>
<ul>
<li><strong>è¾“å…¥ URL</strong>:Â <code>/details</code></li>
<li><strong>æ•ˆæœ</strong>: å…‰çº¿æµå‘Â <strong>èŠ‚ç‚¹ A (<code>= /details</code>)</strong> ã€‚</li>
</ul>
<h5 data-id="heading-4"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-2-5" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-2-5" ref="nofollow noopener noreferrer"/>æµ‹è¯•ç”¨ä¾‹ 2ï¼šéªŒè¯Â <code>^~</code>Â (éæ­£åˆ™å‰ç¼€) èƒ½å¤Ÿâ€œçŸ­è·¯â€æ­£åˆ™</h5>
<ul>
<li><strong>è¾“å…¥ URL</strong>:Â <code>/static/icon.png</code></li>
<li><strong>æ•ˆæœ</strong>: å…‰çº¿æµå‘Â <strong>èŠ‚ç‚¹ C (<code>^~ /static/</code>)</strong> ã€‚</li>
</ul>
<h5 data-id="heading-5"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-3-6" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-3-6" ref="nofollow noopener noreferrer"/>æµ‹è¯•ç”¨ä¾‹ 3ï¼šéªŒè¯â€œæ­£åˆ™åŒ¹é…â€ä¼˜å…ˆçº§é«˜äºâ€œæ™®é€šå‰ç¼€â€</h5>
<ul>
<li><strong>è¾“å…¥ URL</strong>:Â <code>/images/logo.png</code>Â (æ³¨æ„ä¸è¦ä»¥ /static å¼€å¤´)</li>
<li><strong>æ•ˆæœ</strong>: å…‰çº¿æµå‘Â <strong>èŠ‚ç‚¹ B (<code>~ .png$</code>)</strong> ã€‚</li>
</ul>
<h5 data-id="heading-6"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-4-7" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-4-7" ref="nofollow noopener noreferrer"/>æµ‹è¯•ç”¨ä¾‹ 4ï¼šéªŒè¯â€œå…œåº•/å›é€€â€é€»è¾‘</h5>
<ul>
<li><strong>è¾“å…¥ URL</strong>:Â <code>/about/us</code></li>
<li><strong>æ•ˆæœ</strong>: å…‰çº¿æµå‘Â <strong>èŠ‚ç‚¹ D (<code>/</code>)</strong> ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ec03654799dd4e90af7d70905877f5d2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQW5hcmtoX0xlZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768533650&amp;x-signature=g1aBerdTe6%2B7qGDvaalJ%2BhrSa3A%3D" alt="3-ezgif.com-resize.gif" loading="lazy"/></p>
<h2 data-id="heading-7">4.Â <strong>å¯¼å…¥/å¯¼å‡º</strong>Â - æ”¯æŒå¯¼å…¥ç°æœ‰é…ç½®ï¼Œå¯¼å‡ºä¸ºé…ç½®æ–‡ä»¶æˆ– Dockerfile</h2>
<p>æ”¯æŒå¯¼å…¥ç°æœ‰çš„ Nginx é…ç½®æ–‡ä»¶è¿›è¡Œå¯è§†åŒ–ç¼–è¾‘ã€‚</p>
<ul>
<li>è‡ªåŠ¨è¯†åˆ«Â <code>server</code>ã€<code>location</code>ã€<code>upstream</code>Â å—</li>
<li>è§£æ SSL é…ç½®</li>
<li>è§£æè´Ÿè½½å‡è¡¡é…ç½®</li>
<li>ä¿ç•™è‡ªå®šä¹‰æŒ‡ä»¤</li>
</ul>
<h2 data-id="heading-8"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-5-nginxconf-9" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-5-nginxconf-9" ref="nofollow noopener noreferrer"/>5.<strong>å®æ—¶é¢„è§ˆ</strong>Â - å®æ—¶ç”Ÿæˆæ ‡å‡† nginx.conf é…ç½®æ–‡ä»¶</h2>
<p>åº•éƒ¨é¢„è§ˆé¢æ¿å®æ—¶ç”Ÿæˆå®Œæ•´çš„Â <code>nginx.conf</code>Â é…ç½®æ–‡ä»¶ã€‚</p>
<ul>
<li>è¯­æ³•é«˜äº®æ˜¾ç¤º</li>
<li>ä¸€é”®å¤åˆ¶åˆ°å‰ªè´´æ¿</li>
<li>å¯¼å‡ºä¸ºÂ <code>.conf</code>Â æ–‡ä»¶</li>
<li>å¯¼å‡ºä¸ºÂ <code>Dockerfile</code>ï¼ˆåŒ…å«å®Œæ•´éƒ¨ç½²é…ç½®ï¼‰</li>
</ul>
<h2 data-id="heading-9"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-6-10" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-6-10" ref="nofollow noopener noreferrer"/>6.Â <strong>å¤šè¯­è¨€æ”¯æŒ</strong>Â - å®Œæ•´çš„ä¸­è‹±æ–‡ç•Œé¢æ”¯æŒ</h2>
<p>å®Œæ•´çš„ä¸­è‹±æ–‡ç•Œé¢åˆ‡æ¢ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç•Œé¢æ–‡æ¡ˆ</li>
<li>é…ç½®è¯´æ˜</li>
<li>å®¡è®¡æŠ¥å‘Š</li>
<li>æ¨¡æ¿æè¿°</li>
</ul>
<h2 data-id="heading-10"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-7-11" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-7-11" ref="nofollow noopener noreferrer"/>7. å±æ€§é¢æ¿</h2>
<p>é€‰ä¸­ä»»æ„èŠ‚ç‚¹åï¼Œå³ä¾§å±æ€§é¢æ¿å¯ç¼–è¾‘è¯¥èŠ‚ç‚¹çš„è¯¦ç»†é…ç½®ã€‚</p>
<p><strong>Server èŠ‚ç‚¹å±æ€§ï¼š</strong></p>
<ul>
<li>ç›‘å¬ç«¯å£ (<code>listen</code>)</li>
<li>æœåŠ¡å™¨åç§° (<code>server_name</code>)</li>
<li>SSL/HTTPS é…ç½®</li>
<li>æ ¹ç›®å½• (<code>root</code>) å’Œç´¢å¼•æ–‡ä»¶ (<code>index</code>)</li>
<li>HTTP å¼ºåˆ¶è·³è½¬ HTTPS</li>
<li>è‡ªå®šä¹‰æŒ‡ä»¤</li>
</ul>
<p><strong>Location èŠ‚ç‚¹å±æ€§ï¼š</strong></p>
<ul>
<li>è·¯å¾„åŒ¹é…æ¨¡å¼ (<code>=</code>,Â <code>~</code>,Â <code>~*</code>,Â <code>^~</code>, æ— ä¿®é¥°ç¬¦)</li>
<li>ä»£ç†è½¬å‘ (<code>proxy_pass</code>)</li>
<li>ä»£ç†å¤´è®¾ç½® (<code>proxy_set_header</code>)</li>
<li>CORS è·¨åŸŸé…ç½®</li>
<li>WebSocket æ”¯æŒ</li>
<li><code>try_files</code>Â é…ç½®</li>
<li>é‡å†™è§„åˆ™ (<code>rewrite</code>)</li>
<li>è®¿é—®æ§åˆ¶ (<code>allow</code>Â /Â <code>deny</code>)</li>
<li>Basic è®¤è¯</li>
</ul>
<p><strong>Upstream èŠ‚ç‚¹å±æ€§ï¼š</strong></p>
<ul>
<li>è´Ÿè½½å‡è¡¡ç­–ç•¥ (è½®è¯¢ / æƒé‡ / IP Hash / æœ€å°‘è¿æ¥)</li>
<li>åç«¯æœåŠ¡å™¨åˆ—è¡¨</li>
<li>å¥åº·æ£€æŸ¥å‚æ•° (<code>max_fails</code>,Â <code>fail_timeout</code>)</li>
<li>å¤‡ä»½æœåŠ¡å™¨ (<code>backup</code>)</li>
<li>é•¿è¿æ¥é…ç½® (<code>keepalive</code>)</li>
</ul>
<h2 data-id="heading-11"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-8-12" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-8-12" ref="nofollow noopener noreferrer"/>8.Â <strong>æ™ºèƒ½é…ç½®ä½“æ£€å¹¶ä¸€é”®ä¿®å¤</strong>Â - è‡ªåŠ¨æ£€æµ‹å¹¶ä¿®å¤å®‰å…¨éšæ‚£å’Œæ€§èƒ½é—®é¢˜</h2>
<p>æ™ºèƒ½åˆ†æé…ç½®ï¼Œæ£€æµ‹æ½œåœ¨é—®é¢˜å¹¶ç»™å‡ºä¿®å¤å»ºè®®ã€‚</p>
<p><strong>æ£€æµ‹è§„åˆ™åˆ†ç±»ï¼š</strong></p>




























































<table><thead><tr><th>ç±»åˆ«</th><th>è§„åˆ™ç¤ºä¾‹</th><th>ä¸¥é‡ç¨‹åº¦</th></tr></thead><tbody><tr><td><strong>å®‰å…¨</strong></td><td>æš´éœ² Nginx ç‰ˆæœ¬å· (<code>server_tokens on</code>)</td><td><img alt=":red_circle:" src="" loading="lazy"/>Â ä¸¥é‡</td></tr><tr><td><strong>å®‰å…¨</strong></td><td>ä½¿ç”¨ root ç”¨æˆ·è¿è¡Œ</td><td><img alt=":red_circle:" src="" loading="lazy"/>Â ä¸¥é‡</td></tr><tr><td><strong>å®‰å…¨</strong></td><td>å¼€å¯ç›®å½•ç´¢å¼• (<code>autoindex on</code>)</td><td><img alt=":red_circle:" src="" loading="lazy"/>Â ä¸¥é‡</td></tr><tr><td><strong>å®‰å…¨</strong></td><td>ä½¿ç”¨ä¸å®‰å…¨çš„ SSL åè®® (TLSv1/TLSv1.1)</td><td><img alt=":red_circle:" src="" loading="lazy"/>Â ä¸¥é‡</td></tr><tr><td><strong>å®‰å…¨</strong></td><td>HTTPS æœªå¼ºåˆ¶è·³è½¬</td><td><img alt=":yellow_circle:" src="" loading="lazy"/>Â è­¦å‘Š</td></tr><tr><td><strong>å®‰å…¨</strong></td><td>ç¼ºå°‘å®‰å…¨å“åº”å¤´ (X-Frame-Options ç­‰)</td><td><img alt=":yellow_circle:" src="" loading="lazy"/>Â è­¦å‘Š</td></tr><tr><td><strong>å®‰å…¨</strong></td><td>æœªç¦æ­¢éšè—æ–‡ä»¶è®¿é—®</td><td><img alt=":yellow_circle:" src="" loading="lazy"/>Â è­¦å‘Š</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>æœªå¼€å¯ Gzip å‹ç¼©</td><td><img alt=":yellow_circle:" src="" loading="lazy"/>Â è­¦å‘Š</td></tr><tr><td><strong>æ€§èƒ½</strong></td><td>æœªå¼€å¯ Sendfile</td><td><img alt=":yellow_circle:" src="" loading="lazy"/>Â è­¦å‘Š</td></tr><tr><td><strong>é…ç½®</strong></td><td>å­˜åœ¨æœªä½¿ç”¨çš„ Upstream</td><td><img alt=":information_source:" src="" loading="lazy"/>Â æç¤º</td></tr></tbody></table>
<p><strong>è¯„åˆ†æœºåˆ¶ï¼š</strong></p>
<ul>
<li>æ»¡åˆ† 100 åˆ†</li>
<li>ä¸¥é‡é—®é¢˜æ‰£ 15 åˆ†ï¼Œè­¦å‘Šæ‰£ 8 åˆ†ï¼Œæç¤ºæ‰£ 3 åˆ†</li>
<li>è¯„çº§ï¼šA (90+) / B (75+) / C (60+) / D (40+) / F (&lt;40)</li>
</ul>
<p>é’ˆå¯¹æ£€æµ‹åˆ°çš„é—®é¢˜ï¼Œæ”¯æŒè‡ªåŠ¨ä¿®å¤ï¼š</p>
<ul>
<li><strong>å•é¡¹ä¿®å¤</strong>Â - ç‚¹å‡»é—®é¢˜æ—çš„ä¿®å¤æŒ‰é’®</li>
<li><strong>ä¸€é”®å…¨éƒ¨ä¿®å¤</strong>Â - æ‰¹é‡ä¿®å¤æ‰€æœ‰å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜</li>
</ul>
<p><strong>ä¿®å¤èƒ½åŠ›ï¼š</strong></p>
<ul>
<li>è‡ªåŠ¨æ·»åŠ Â <code>server_tokens off</code></li>
<li>è‡ªåŠ¨ä¿®æ­£Â <code>user</code>Â ä¸ºÂ <code>nginx</code></li>
<li>è‡ªåŠ¨ç§»é™¤Â <code>autoindex on</code></li>
<li>è‡ªåŠ¨å‡çº§ SSL åè®®åˆ° TLSv1.2+</li>
<li>è‡ªåŠ¨é…ç½® HTTP åˆ° HTTPS å¼ºåˆ¶è·³è½¬ï¼ˆæ™ºèƒ½å¤„ç†ç«¯å£å†²çªï¼‰</li>
<li>è‡ªåŠ¨æ·»åŠ å®‰å…¨å“åº”å¤´</li>
<li>è‡ªåŠ¨å¼€å¯ Gzip å’Œ Sendfile</li>
<li>è‡ªåŠ¨æ·»åŠ éšè—æ–‡ä»¶è®¿é—®ç¦æ­¢è§„åˆ™</li>
</ul>
<p>æ¯”å¦‚ï¼Œå¯¼å…¥ä»¥ä¸‹é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">
user root<span class="hljs-comment">;</span>


worker_processes 1<span class="hljs-comment">;</span>


server_tokens on<span class="hljs-comment">;</span>

error_log /var/log/nginx/error.log warn<span class="hljs-comment">;</span>
pid       /var/run/nginx.pid<span class="hljs-comment">;</span>

events {
    
    worker_connections 1024<span class="hljs-comment">;</span>
}

http {
    include       /etc/nginx/mime.types<span class="hljs-comment">;</span>
    default_type  application/octet-stream<span class="hljs-comment">;</span>

    sendfile        off<span class="hljs-comment">;</span>
    
    keepalive_timeout  65<span class="hljs-comment">;</span>

    <span class="hljs-comment"># gzip  on;</span>

    
    upstream outdated_backend {
        server 127.0.0.1:8080<span class="hljs-comment">;</span>
    }

    
    server {
        listen       80<span class="hljs-comment">;</span>
        server_name  example.com<span class="hljs-comment">;</span>

        <span class="hljs-comment"># [ä¸¥é‡å®‰å…¨é—®é¢˜] å¼€å¯ç›®å½•ç´¢å¼•ï¼Œé»‘å®¢å¯ä»¥ç›´æ¥æµè§ˆæ–‡ä»¶åˆ—è¡¨</span>
        autoindex on<span class="hljs-comment">;</span>

        location / {
            root   /usr/share/nginx/html<span class="hljs-comment">;</span>
            index  index.html index.htm<span class="hljs-comment">;</span>
        }

        
    }

    
    server {
        listen       443 ssl<span class="hljs-comment">;</span>
        server_name  example.com<span class="hljs-comment">;</span>

        ssl_certificate      /etc/nginx/ssl/server.crt<span class="hljs-comment">;</span>
        ssl_certificate_key  /etc/nginx/ssl/server.key<span class="hljs-comment">;</span>
        
        ssl_protocols TLSv1 TLSv1.1 TLSv1.2<span class="hljs-comment">;</span>

        
        if ($<span class="hljs-attr">host</span> = <span class="hljs-string">'www.example.com'</span>) {
             return 301 https://example.com$request_uri<span class="hljs-comment">;</span>
        }

        location /api {
            proxy_pass http://outdated_backend<span class="hljs-comment">;</span>
            
           
        }
    }
}
</code></pre>
<p>ä¿®å¤åçš„é…ç½®æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># Generated by Nginx Config Master</span>
<span class="hljs-comment"># https://nginx-config-master.lovable.app</span>

user nginx<span class="hljs-comment">;</span>
worker_processes auto<span class="hljs-comment">;</span>
error_log /var/log/nginx/error.log warn<span class="hljs-comment">;</span>
pid /var/run/nginx.pid<span class="hljs-comment">;</span>

events {
    worker_connections 1024<span class="hljs-comment">;</span>
    use epoll<span class="hljs-comment">;</span>
    multi_accept on<span class="hljs-comment">;</span>
}

http {
    include /etc/nginx/mime.types<span class="hljs-comment">;</span>
    default_type application/octet-stream<span class="hljs-comment">;</span>

    log_format main '$remote_addr - $remote_user <span class="hljs-section">[$time_local]</span> "$request" $status $body_bytes_sent "$http_referer" "$http_user_agent"'<span class="hljs-comment">;</span>
    access_log /var/log/nginx/access.log main<span class="hljs-comment">;</span>

    sendfile on<span class="hljs-comment">;</span>
    tcp_nopush on<span class="hljs-comment">;</span>
    tcp_nodelay on<span class="hljs-comment">;</span>
    keepalive_timeout 65<span class="hljs-comment">;</span>
    types_hash_max_size 2048<span class="hljs-comment">;</span>

    server_tokens off<span class="hljs-comment">;</span>
    client_max_body_size 10m<span class="hljs-comment">;</span>

    <span class="hljs-comment"># Gzip Settings</span>
    gzip on<span class="hljs-comment">;</span>
    gzip_comp_level 6<span class="hljs-comment">;</span>
    gzip_min_length 1024<span class="hljs-comment">;</span>
    gzip_types text/plain text/css application/json application/javascript text/xml application/xml<span class="hljs-comment">;</span>

    <span class="hljs-comment"># Upstream: outdated_backend</span>
    upstream outdated_backend {
        server 127.0.0.1:8080 <span class="hljs-attr">max_fails</span>=<span class="hljs-number">3</span> fail_timeout=<span class="hljs-number">30</span>s<span class="hljs-comment">;</span>
    }

    <span class="hljs-comment"># Server: example.com (HTTP Redirect)</span>
    server {
        listen 80<span class="hljs-comment">;</span>
        server_name example.com<span class="hljs-comment">;</span>

        <span class="hljs-comment"># Custom server directives</span>
        return 301 https://$host$request_uri<span class="hljs-comment">;</span>

    }

    <span class="hljs-comment"># Server: example.com</span>
    server {
        listen 443 ssl<span class="hljs-comment">;</span>
        server_name example.com<span class="hljs-comment">;</span>

        <span class="hljs-comment"># SSL Configuration</span>
        ssl_certificate /etc/nginx/ssl/server.crt<span class="hljs-comment">;</span>
        ssl_certificate_key /etc/nginx/ssl/server.key<span class="hljs-comment">;</span>
        ssl_protocols TLSv1.2 TLSv1.3<span class="hljs-comment">;</span>
        ssl_ciphers 'ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384'<span class="hljs-comment">;</span>
        ssl_prefer_server_ciphers on<span class="hljs-comment">;</span>

        root /var/www/html<span class="hljs-comment">;</span>
        index index.html index.htm<span class="hljs-comment">;</span>

        <span class="hljs-comment"># Custom server directives</span>
        <span class="hljs-comment"># Block: if</span>
        add_header Strict-Transport-Security "<span class="hljs-attr">max-age</span>=<span class="hljs-number">31536000</span><span class="hljs-comment">; includeSubDomains" always;</span>
        add_header X-Frame-Options "SAMEORIGIN" always<span class="hljs-comment">;</span>
        add_header X-Content-Type-Options "nosniff" always<span class="hljs-comment">;</span>

        location /api {
            proxy_pass http://outdated_backend<span class="hljs-comment">;</span>
            proxy_set_header Host $host<span class="hljs-comment">;</span>
            proxy_set_header X-Real-IP $remote_addr<span class="hljs-comment">;</span>
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for<span class="hljs-comment">;</span>
            proxy_set_header X-Forwarded-Proto $scheme<span class="hljs-comment">;</span>

        }

        location ~ /. {
            return 403<span class="hljs-comment">;</span>

            <span class="hljs-comment"># Custom location directives</span>
            <span class="hljs-comment"># æ‹¦æˆªæ‰€æœ‰éšè—æ–‡ä»¶è®¿é—®ï¼ˆ.git, .env ç­‰ï¼‰</span>
        }

    }

}
</code></pre>
<p>ä¿®å¤äº†å¦‚ä¸‹å†…å®¹ï¼š</p>
<h4 data-id="heading-12"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-1-13" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-1-13" ref="nofollow noopener noreferrer"/>1ã€ å®‰å…¨æ€§ä¿®å¤</h4>
<ul>
<li><strong>æƒé™é™æƒ</strong>ï¼šå°†è¿è¡Œç”¨æˆ·ä»Â <code>root</code>Â æ”¹ä¸ºÂ <code>nginx</code>ï¼Œé˜²æ­¢æ”»å‡»è€…é€šè¿‡ Nginx è·å–ç³»ç»Ÿæœ€é«˜æƒé™ã€‚</li>
<li><strong>å…³é—­ç‰ˆæœ¬æ³„éœ²</strong>ï¼šè®¾ç½®Â <code>server_tokens off</code>ï¼Œéšè— Nginx ç‰ˆæœ¬å·ï¼Œé˜²æ­¢é’ˆå¯¹æ€§æ¼æ´æ”»å‡»ã€‚</li>
<li><strong>ç¦ç”¨ç›®å½•æµè§ˆ</strong>ï¼šåˆ é™¤äº†Â <code>autoindex on</code>ï¼Œç¦æ­¢é»‘å®¢ç›´æ¥åˆ—å‡ºæœåŠ¡å™¨ä¸Šçš„æ‰€æœ‰æ–‡ä»¶ã€‚</li>
<li><strong>SSL åè®®å‡çº§</strong>ï¼šç¦ç”¨äº†è¿‡æ—¶çš„ TLS 1.0/1.1ï¼Œä»…å…è®¸æ›´å®‰å…¨çš„Â <strong>TLS 1.2/1.3</strong>ã€‚</li>
<li><strong>å¼ºåŒ–åŠ å¯†å¥—ä»¶</strong>ï¼šé…ç½®äº†å¼ºåŠ å¯†ç®—æ³•ï¼ˆCipher Suitesï¼‰ï¼Œé˜²æ­¢å¼±åŠ å¯†è¢«ç ´è§£ã€‚</li>
<li><strong>å¼•å…¥å®‰å…¨å“åº”å¤´</strong>ï¼šæ·»åŠ äº†Â <strong>HSTS</strong>ã€**é˜²ç‚¹å‡»åŠ«æŒï¼ˆX-Frame-Optionsï¼‰**åŠå†…å®¹ç±»å‹å—…æ¢ä¿æŠ¤ã€‚</li>
<li><strong>å±è”½éšè—æ–‡ä»¶</strong>ï¼šæ–°å¢è§„åˆ™ç¦æ­¢è®¿é—®Â <code>.git</code>ã€<code>.env</code>Â ç­‰ä»¥ç‚¹å¼€å¤´çš„æ•æ„Ÿéšè—æ–‡ä»¶ã€‚</li>
</ul>
<h4 data-id="heading-13"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-2-14" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-2-14" ref="nofollow noopener noreferrer"/>2ã€ æ€§èƒ½ä¸ç¨³å®šæ€§ä¼˜åŒ–</h4>
<ul>
<li><strong>å¤šæ ¸å¹¶è¡Œ</strong>ï¼šå°†Â <code>worker_processes</code>Â è®¾ä¸ºÂ <code>auto</code>ï¼Œè‡ªåŠ¨åŒ¹é… CPU æ ¸å¿ƒæ•°ä»¥æå‡å¹¶å‘å¤„ç†èƒ½åŠ›ã€‚</li>
<li><strong>å¯ç”¨é«˜æ•ˆ I/O</strong>ï¼šå¼€å¯äº†Â <code>epoll</code>Â æ¨¡å‹ã€<code>sendfile</code>Â å’ŒÂ <code>tcp_nopush</code>ï¼Œå¤§å¹…ä¼˜åŒ–é™æ€èµ„æºä¼ è¾“æ•ˆç‡ã€‚</li>
<li><strong>å¼€å¯ Gzip å‹ç¼©</strong>ï¼šå¯¹æ–‡æœ¬ã€JSã€CSS ç­‰æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œå‡å°‘ç½‘ç»œå¸¦å®½æ¶ˆè€—å¹¶åŠ å¿«é¡µé¢åŠ è½½ã€‚</li>
<li><strong>åç«¯å¥åº·æ£€æŸ¥</strong>ï¼šåœ¨Â <code>upstream</code>Â ä¸­å¢åŠ äº†è¶…æ—¶å’Œé‡è¯•æœºåˆ¶ï¼ˆ<code>max_fails</code>ï¼‰ï¼Œé˜²æ­¢å› ä¸ªåˆ«åç«¯æ•…éšœå¯¼è‡´æœåŠ¡ç˜«ç—ªã€‚</li>
</ul>
<h4 data-id="heading-14"><a href="https://link.juejin.cn?target=https%3A%2F%2Flinux.do%2Ft%2Ftopic%2F1421387%23p-12318883-h-3-15" target="_blank" title="https://linux.do/t/topic/1421387#p-12318883-h-3-15" ref="nofollow noopener noreferrer"/>3ã€ é€»è¾‘ä¸è·¯ç”±ä¿®æ­£</h4>
<ul>
<li><strong>å…¨ç«™ HTTPS å¼ºåˆ¶è·³è½¬</strong>ï¼š80 ç«¯å£ä¸å†ç›´æ¥æœåŠ¡ï¼Œè€Œæ˜¯é€šè¿‡Â <code>301</code>Â é‡å®šå‘ç¡®ä¿ç”¨æˆ·å§‹ç»ˆå¤„äºåŠ å¯†è¿æ¥ã€‚</li>
<li><strong>å®Œå–„ä»£ç†é€ä¼ </strong>ï¼šåœ¨Â <code>/api</code>Â è½¬å‘ä¸­è¡¥å…¨äº†Â <code>Host</code>Â å’ŒÂ <code>X-Forwarded-For</code>Â ç­‰å¤´éƒ¨ï¼Œç¡®ä¿åç«¯åº”ç”¨èƒ½è·å–ç”¨æˆ·<strong>çœŸå®çœŸå® IP</strong>ã€‚</li>
<li><strong>è§„èŒƒåŒ–è·¯å¾„</strong>ï¼šå°†Â <code>root</code>Â ç›®å½•ä»ç³»ç»Ÿé»˜è®¤è·¯å¾„æ”¹ä¸ºæ›´æ ‡å‡†çš„Â <code>/var/www/html</code>ã€‚</li>
<li><strong>å®Œå–„æ—¥å¿—æ ¼å¼</strong>ï¼šå¢åŠ äº†è‡ªå®šä¹‰Â <code>access_log</code>Â è®°å½•ï¼Œä¾¿äºç›‘æ§æµé‡å’Œåˆ†æé”™è¯¯ã€‚</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d363f4ad5dff4447b9fd4b18891a4e89~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgQW5hcmtoX0xlZQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768533650&amp;x-signature=A4VkJn4PTQICLvjGJeEfrDrhVZ8%3D" alt="4-ezgif.com-resize.gif" loading="lazy"/></p>
<p>å¦‚æœå¤§å®¶è§‰å¾—æœ‰ç”¨ï¼Œå¸Œæœ›å¸®å¿™ç»™githubç‚¹ç‚¹starï¼</p>
<p>å¸Œæœ›èƒ½å¤Ÿå¯¹å¤§å®¶çš„å·¥ä½œä¸å­¦ä¹ æœ‰æ‰€å¸®åŠ©ï¼ï¼ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[reactè·¯ç”±é…ç½®ç›¸å…³]]></title>    <link>https://juejin.cn/post/7592996072706097202</link>    <guid>https://juejin.cn/post/7592996072706097202</guid>    <pubDate>2026-01-09T07:30:36.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592996072706097202" data-draft-id="7592996072705589298" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="reactè·¯ç”±é…ç½®ç›¸å…³"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,Ant Design"/> <meta itemprop="datePublished" content="2026-01-09T07:30:36.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="åŠ æ²¹ä¹"/> <meta itemprop="url" content="https://juejin.cn/user/84036866547575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            reactè·¯ç”±é…ç½®ç›¸å…³
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/84036866547575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    åŠ æ²¹ä¹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:30:36.000Z" title="Fri Jan 09 2026 07:30:36 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">ä¸€ã€è·¯ç”±é…ç½®æ¥å£è®¾è®¡</h2>
<ul>
<li>é€šè¿‡ç»Ÿä¸€çš„æ¥å£å®šä¹‰ï¼Œç¡®ä¿è·¯ç”±é…ç½®çš„ç±»å‹å®‰å…¨ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ã€‚</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">RouteConfig</span> {
  <span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>;                     <span class="hljs-comment">// è·¯ç”±è·¯å¾„</span>
  element?: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>;        <span class="hljs-comment">// æ¸²æŸ“ç»„ä»¶</span>
  children?: <span class="hljs-title class_">RouteConfig</span>[];         <span class="hljs-comment">// å­è·¯ç”±</span>
  redirect?: <span class="hljs-built_in">string</span>;                <span class="hljs-comment">// é‡å®šå‘è·¯å¾„</span>
  meta?: {                          <span class="hljs-comment">// è·¯ç”±å…ƒä¿¡æ¯</span>
    <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;                  <span class="hljs-comment">// é¡µé¢æ ‡é¢˜</span>
    requiresAuth?: <span class="hljs-built_in">boolean</span>;         <span class="hljs-comment">// æ˜¯å¦éœ€è¦ç™»å½•</span>
    roles?: <span class="hljs-built_in">string</span>[];               <span class="hljs-comment">// å…è®¸è®¿é—®çš„è§’è‰²</span>
  };
}
</code></pre>
<h2 data-id="heading-1">äºŒã€è·¯ç”±åˆ†ç¦»ç­–ç•¥</h2>
<ul>
<li>å°†è·¯ç”±åˆ†ä¸ºå…¬å…±è·¯ç”±å’Œç§æœ‰è·¯ç”±</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">//</span> <span class="hljs-string">å…¬å…±è·¯ç”±ï¼ˆæ— éœ€ç™»å½•ï¼‰</span>
<span class="hljs-attr">const publicRoutes:</span> <span class="hljs-string">RouteConfig[]</span> <span class="hljs-string">=</span> [
  {
    <span class="hljs-attr">path:</span> <span class="hljs-string">'/login'</span>,
    <span class="hljs-attr">element:</span> <span class="hljs-string">&lt;Login</span> <span class="hljs-string">/&gt;</span>,
    <span class="hljs-attr">meta:</span> { <span class="hljs-attr">title:</span> <span class="hljs-string">'ç™»å½•'</span>, <span class="hljs-attr">requiresAuth:</span> <span class="hljs-literal">false</span> }
  }
]<span class="hljs-string">;</span>

<span class="hljs-string">//</span> <span class="hljs-string">ç§æœ‰è·¯ç”±ï¼ˆéœ€è¦ç™»å½•ï¼‰</span>
<span class="hljs-attr">const privateRoutes:</span> <span class="hljs-string">RouteConfig[]</span> <span class="hljs-string">=</span> [
  {
    <span class="hljs-attr">path:</span> <span class="hljs-string">'/dashboard'</span>,
    <span class="hljs-attr">element:</span> <span class="hljs-string">&lt;Dashboard</span> <span class="hljs-string">/&gt;</span>,
    <span class="hljs-attr">meta:</span> { <span class="hljs-attr">title:</span> <span class="hljs-string">'ä»ªè¡¨æ¿'</span>, <span class="hljs-attr">requiresAuth:</span> <span class="hljs-literal">true</span> }
  }
]<span class="hljs-string">;</span>
</code></pre>
<h2 data-id="heading-2">ä¸‰ã€æ‡’åŠ è½½ä¸ä»£ç åˆ†å‰²</h2>
<ul>
<li><code>React.lazy</code>Â æ˜¯ React ä¸­å®ç°<strong>ç»„ä»¶çº§ä»£ç åˆ†å‰²</strong>çš„æ ¸å¿ƒ APIï¼Œå®ƒå…è®¸ä½ å°†ç»„ä»¶ä»£ç å»¶è¿ŸåŠ è½½ï¼Œä»è€Œä¼˜åŒ–åº”ç”¨æ€§èƒ½ã€‚</li>
<li><code>React.lazy</code><strong>å¿…é¡»åœ¨ Suspense å†…ä½¿ç”¨</strong></li>
<li><strong>Suspense</strong>Â æ˜¯ React ä¸­ç”¨äºå¤„ç†å¼‚æ­¥æ“ä½œçš„ç»„ä»¶ï¼Œå®ƒè®©ç»„ä»¶å¯ä»¥"ç­‰å¾…"æŸäº›æ“ä½œå®Œæˆï¼Œåœ¨ç­‰å¾…æœŸé—´æ˜¾ç¤ºå›é€€ UIã€‚</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ‡’åŠ è½½ç»„ä»¶å®šä¹‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyAbout</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/About'</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyUserList</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/UserList'</span>));

<span class="hljs-comment">// å°è£…SuspenseåŒ…è£…å™¨ç»„ä»¶</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">LazyComponent</span> = (<span class="hljs-params">{ component: Component }</span>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">LoadingFallback</span> /&gt;</span>}&gt;
    <span class="hljs-tag">&lt;<span class="hljs-name">Component</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span></span>
);
</code></pre>
<ul>
<li>é¡µé¢åŠ è½½æ—¶çš„ç­‰å¾…çŠ¶æ€</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">//æ­¤å¤„ä»…ç¤ºä¾‹ï¼Œå®é™…å¯æ”¾ç½®å…¨å±€çš„æœªåŠ è½½å®Œæˆæ—¶çš„ç­‰å¾…æ ·å¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">LoadingFallback</span> = (<span class="hljs-params"/>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>é¡µé¢åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);
</code></pre>
<h2 data-id="heading-3">å››ã€è·¯ç”±å®ˆå«ä¸æƒé™æ§åˆ¶</h2>
<ul>
<li>è®¤è¯å®ˆå«ç»„ä»¶ï¼šåŸºäºtokençš„<code>è®¤è¯æ£€æŸ¥</code>ã€<code>è‡ªåŠ¨é‡å®šå‘</code>ã€replace<code>é˜²æ­¢å›é€€åˆ°å—ä¿æŠ¤çš„é¡µé¢</code></li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">AuthGuard</span> = (<span class="hljs-params">{ children }</span>) =&gt; {
  <span class="hljs-keyword">const</span> isAuthenticated = !!<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'token'</span>);
  
  <span class="hljs-comment">// æœªè®¤è¯é‡å®šå‘åˆ°ç™»å½•é¡µ</span>
  <span class="hljs-keyword">if</span> (!isAuthenticated) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span> <span class="hljs-attr">replace</span> /&gt;</span></span>;
  }
  
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;&gt;</span>{children}<span class="hljs-tag">&lt;/&gt;</span></span>;
};
</code></pre>
<ul>
<li>å…ƒæ•°æ®é©±åŠ¨çš„æƒé™æ§åˆ¶</li>
</ul>
<pre><code class="hljs language-yaml" lang="yaml">{
  <span class="hljs-attr">path:</span> <span class="hljs-string">'/user-center'</span>,
  <span class="hljs-attr">element:</span> <span class="hljs-string">&lt;UserCenter</span> <span class="hljs-string">/&gt;</span>,
  <span class="hljs-attr">meta:</span> {
    <span class="hljs-attr">title:</span> <span class="hljs-string">'ç”¨æˆ·ä¸­å¿ƒ'</span>,
    <span class="hljs-attr">requiresAuth:</span> <span class="hljs-literal">true</span>
    <span class="hljs-string">//æƒé™æ§åˆ¶</span>
    <span class="hljs-attr">roles:</span> [<span class="hljs-string">'admin'</span>]
  }
}
</code></pre>
<h2 data-id="heading-4">äº”ã€é€’å½’æ¸²æŸ“ä¸åµŒå¥—è·¯ç”±</h2>
<ul>
<li>æ”¯æŒæ— é™å±‚çº§åµŒå¥—</li>
<li>ç»Ÿä¸€çš„è®¤è¯å¤„ç†é€»è¾‘</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">renderRoutes</span> = (<span class="hljs-params">routes: RouteConfig[]</span>) =&gt; {
  <span class="hljs-keyword">return</span> routes.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">route</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> { path, element, children, redirect, meta } = route;

    <span class="hljs-comment">// å¤„ç†é‡å®šå‘</span>
    <span class="hljs-keyword">if</span> (redirect) {
      <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span>
          <span class="hljs-attr">key</span>=<span class="hljs-string">{path}</span>
          <span class="hljs-attr">path</span>=<span class="hljs-string">{path}</span>
          <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{redirect}</span> <span class="hljs-attr">replace</span> /&gt;</span>}
        /&gt;</span>
      );
    }

    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span>
        <span class="hljs-attr">key</span>=<span class="hljs-string">{path}</span>
        <span class="hljs-attr">path</span>=<span class="hljs-string">{path}</span>
        <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>
          // <span class="hljs-attr">æ ¹æ®å…ƒæ•°æ®å†³å®šæ˜¯å¦åŒ…è£¹AuthGuard</span>
          <span class="hljs-attr">meta</span>?<span class="hljs-attr">.requiresAuth</span> ? (
            &lt;<span class="hljs-attr">AuthGuard</span>&gt;</span>{element}<span class="hljs-tag">&lt;/<span class="hljs-name">AuthGuard</span>&gt;</span>
          ) : (
            element
          )
        }
      &gt;
        {/* é€’å½’æ¸²æŸ“å­è·¯ç”± */}
        {children &amp;&amp; renderRoutes(children)}
      <span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span></span>
    );
  });
};

</code></pre>
<ul>
<li>åµŒå¥—è·¯ç”±ç¤ºä¾‹</li>
</ul>
<pre><code class="hljs language-javascript" lang="javascript">{
  <span class="hljs-attr">path</span>: <span class="hljs-string">'/father'</span>,
  <span class="hljs-attr">children</span>: [
    {
      <span class="hljs-attr">path</span>: <span class="hljs-string">''</span>,  <span class="hljs-comment">// è®¿é—® /father</span>
      <span class="hljs-attr">redirect</span>: <span class="hljs-string">'son'</span>  <span class="hljs-comment">// é‡å®šå‘åˆ° /father/son</span>
    },
    {
      <span class="hljs-attr">path</span>: <span class="hljs-string">'son'</span>,  <span class="hljs-comment">// è®¿é—® /father/son</span>
      <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Son</span> /&gt;</span></span>
    }
  ]
}
</code></pre>
<h2 data-id="heading-5">å…­ã€è¾…åŠ©å·¥å…·å‡½æ•°</h2>
<h3 data-id="heading-6">1. é¢åŒ…å±‘å¯¼èˆªç”Ÿæˆ</h3>
<ul>
<li>æ˜¾ç¤ºå½“å‰é¡µé¢</li>
<li>å¿«é€Ÿå¯¼èˆª</li>
</ul>
<pre><code class="hljs language-ini" lang="ini">export const <span class="hljs-attr">generateBreadcrumbs</span> = (pathname) =&gt; {
  const <span class="hljs-attr">segments</span> = pathname.split(<span class="hljs-string">'/'</span>).filter(Boolean)<span class="hljs-comment">;</span>
  const <span class="hljs-attr">breadcrumbs</span> = []<span class="hljs-comment">;</span>
  let <span class="hljs-attr">currentPath</span> = <span class="hljs-string">''</span><span class="hljs-comment">;</span>

  for (const segment of segments) {
    currentPath += `/${segment}`<span class="hljs-comment">;</span>
    const <span class="hljs-attr">route</span> = findRouteByPath(currentPath)<span class="hljs-comment">;</span>

    if (route?.meta?.title) {
      breadcrumbs.push({
        title: route.meta.title,
        path: route.path !== '/404' ? currentPath : undefined,
      })<span class="hljs-comment">;</span>
    }
  }

  return breadcrumbs<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<h3 data-id="heading-7">2. è·¯ç”±æŸ¥æ‰¾åŠŸèƒ½</h3>
<pre><code class="hljs language-ini" lang="ini">export const <span class="hljs-attr">findRouteByPath</span> = (pathname, routes = getAllRoutes()) =&gt; {
  for (const route of routes) {
    if (<span class="hljs-attr">route.path</span> === pathname) return route<span class="hljs-comment">;</span>
    
    if (route.children) {
      const <span class="hljs-attr">found</span> = findRouteByPath(pathname, route.children)<span class="hljs-comment">;</span>
      if (found) return found<span class="hljs-comment">;</span>
    }
  }
  
  return null<span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<h2 data-id="heading-8">ä¸ƒã€æ±‡æ€»ä½¿ç”¨</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-comment">// AppRouter.jsx</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { <span class="hljs-title class_">Suspense</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Routes</span>, <span class="hljs-title class_">Route</span>, <span class="hljs-title class_">Navigate</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-router-dom'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/App'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Father</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Father'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Son</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Son'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">Login</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/Login'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">NotFound</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'../pages/NotFound'</span>;

<span class="hljs-comment">/**
 * ============================================
 * å®šä¹‰è·¯ç”±é…ç½®æ¥å£
 * ============================================
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">RouteConfig</span> {
  <span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span>;                     <span class="hljs-comment">// è·¯ç”±è·¯å¾„</span>
  element?: <span class="hljs-title class_">React</span>.<span class="hljs-property">ReactNode</span>;        <span class="hljs-comment">// æ¸²æŸ“ç»„ä»¶</span>
  children?: <span class="hljs-title class_">RouteConfig</span>[];         <span class="hljs-comment">// å­è·¯ç”±</span>
  redirect?: <span class="hljs-built_in">string</span>;                <span class="hljs-comment">// é‡å®šå‘è·¯å¾„</span>
  meta?: {                          <span class="hljs-comment">// è·¯ç”±å…ƒä¿¡æ¯</span>
    <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span>;                  <span class="hljs-comment">// é¡µé¢æ ‡é¢˜</span>
    requiresAuth?: <span class="hljs-built_in">boolean</span>;         <span class="hljs-comment">// æ˜¯å¦éœ€è¦ç™»å½•</span>
    roles?: <span class="hljs-built_in">string</span>[];               <span class="hljs-comment">// å…è®¸è®¿é—®çš„è§’è‰²</span>
  };
}

<span class="hljs-comment">/**
 * æ‡’åŠ è½½é…ç½®åŒºåŸŸ
 * ä½¿ç”¨ React.lazy å®ç°ä»£ç åˆ†å‰²
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyApp</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/App'</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">LazyFather</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/Father'</span>));
<span class="hljs-keyword">const</span> <span class="hljs-title class_">LazySon</span> = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">lazy</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'../pages/Son'</span>));

<span class="hljs-comment">/**
 * åŠ è½½ä¸­ç»„ä»¶
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">LoadingFallback</span> = (<span class="hljs-params"/>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>é¡µé¢åŠ è½½ä¸­...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
);

<span class="hljs-comment">/**
 * æ‡’åŠ è½½ç»„ä»¶åŒ…è£…å™¨
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">LazyComponent</span> = (<span class="hljs-params">{ component: Component }</span>) =&gt; (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">LoadingFallback</span> /&gt;</span>}&gt;
    <span class="hljs-tag">&lt;<span class="hljs-name">Component</span> /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span></span>
);

<span class="hljs-comment">/**
 * æƒé™å®ˆå«ç»„ä»¶
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">AuthGuard</span> = (<span class="hljs-params">{ children }</span>) =&gt; {
  <span class="hljs-keyword">const</span> isAuthenticated = !!<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">'token'</span>);
  <span class="hljs-keyword">if</span> (!isAuthenticated) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/login"</span> <span class="hljs-attr">replace</span> /&gt;</span></span>;
  }
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;&gt;</span>{children}<span class="hljs-tag">&lt;/&gt;</span></span>;
};

<span class="hljs-comment">/**
 * å…¬å…±è·¯ç”±é…ç½®ï¼ˆä¸éœ€è¦ç™»å½•ï¼‰
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">publicRoutes</span>: <span class="hljs-title class_">RouteConfig</span>[] = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/login'</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Login</span> /&gt;</span></span>,
    <span class="hljs-attr">meta</span>: {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'ç™»å½•'</span>,
      <span class="hljs-attr">requiresAuth</span>: <span class="hljs-literal">false</span>,
    },
  },
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/404'</span>,
    <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NotFound</span> /&gt;</span></span>,
    <span class="hljs-attr">meta</span>: {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'é¡µé¢ä¸å­˜åœ¨'</span>,
      <span class="hljs-attr">requiresAuth</span>: <span class="hljs-literal">false</span>,
    },
  },
];

<span class="hljs-comment">/**
 * ç§æœ‰è·¯ç”±é…ç½®ï¼ˆéœ€è¦ç™»å½•ï¼‰
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">privateRoutes</span>: <span class="hljs-title class_">RouteConfig</span>[] = [
  {
    <span class="hljs-attr">path</span>: <span class="hljs-string">'/'</span>,
    <span class="hljs-attr">element</span>: (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">AuthGuard</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>ä¸»å¸ƒå±€<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> {/* è¿™é‡Œå¯ä»¥æ ¹æ®éœ€è¦æ·»åŠ å¸ƒå±€ç»„ä»¶ */}
      <span class="hljs-tag">&lt;/<span class="hljs-name">AuthGuard</span>&gt;</span></span>
    ),
    <span class="hljs-attr">meta</span>: {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'é¦–é¡µ'</span>,
      <span class="hljs-attr">requiresAuth</span>: <span class="hljs-literal">true</span>,
    },
    <span class="hljs-attr">children</span>: [
      <span class="hljs-comment">// é»˜è®¤é‡å®šå‘åˆ° App é¡µé¢</span>
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">redirect</span>: <span class="hljs-string">'/app'</span>,
      },
      <span class="hljs-comment">// App é¡µé¢</span>
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'app'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">LazyComponent</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{LazyApp}</span> /&gt;</span></span>,
        <span class="hljs-attr">meta</span>: {
          <span class="hljs-attr">title</span>: <span class="hljs-string">'App é¡µé¢'</span>,
          <span class="hljs-attr">requiresAuth</span>: <span class="hljs-literal">true</span>,
        },
      },
      <span class="hljs-comment">// Father é¡µé¢</span>
      {
        <span class="hljs-attr">path</span>: <span class="hljs-string">'father'</span>,
        <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">LazyComponent</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{LazyFather}</span> /&gt;</span></span>,
        <span class="hljs-attr">meta</span>: {
          <span class="hljs-attr">title</span>: <span class="hljs-string">'Father é¡µé¢'</span>,
          <span class="hljs-attr">requiresAuth</span>: <span class="hljs-literal">true</span>,
        },
        <span class="hljs-attr">children</span>: [
          <span class="hljs-comment">// è®¿é—® /father æ—¶é‡å®šå‘åˆ° /father/son</span>
          {
            <span class="hljs-attr">path</span>: <span class="hljs-string">''</span>,
            <span class="hljs-attr">redirect</span>: <span class="hljs-string">'son'</span>,
          },
          <span class="hljs-comment">// Son é¡µé¢ä½œä¸º Father çš„å­é¡µé¢</span>
          {
            <span class="hljs-attr">path</span>: <span class="hljs-string">'son'</span>,
            <span class="hljs-attr">element</span>: <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">LazyComponent</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{LazySon}</span> /&gt;</span></span>,
            <span class="hljs-attr">meta</span>: {
              <span class="hljs-attr">title</span>: <span class="hljs-string">'Son é¡µé¢'</span>,
              <span class="hljs-attr">requiresAuth</span>: <span class="hljs-literal">true</span>,
            },
          },
        ],
      },
    ],
  },
];

<span class="hljs-comment">/**
 * é€’å½’æ¸²æŸ“è·¯ç”±é…ç½®
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">renderRoutes</span> = (<span class="hljs-params">routes: RouteConfig[]</span>) =&gt; {
  <span class="hljs-keyword">return</span> routes.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">route</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> { path, element, children, redirect, meta } = route;

    <span class="hljs-comment">// å¦‚æœæœ‰é‡å®šå‘ï¼Œç›´æ¥è¿”å›é‡å®šå‘è·¯ç”±</span>
    <span class="hljs-keyword">if</span> (redirect) {
      <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span>
          <span class="hljs-attr">key</span>=<span class="hljs-string">{path}</span>
          <span class="hljs-attr">path</span>=<span class="hljs-string">{path}</span>
          <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">{redirect}</span> <span class="hljs-attr">replace</span> /&gt;</span>}
        /&gt;</span>
      );
    }

    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Route</span>
        <span class="hljs-attr">key</span>=<span class="hljs-string">{path}</span>
        <span class="hljs-attr">path</span>=<span class="hljs-string">{path}</span>
        <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>
          &lt;<span class="hljs-attr">Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">LoadingFallback</span> /&gt;</span>}&gt;
            {meta?.requiresAuth ? (
              <span class="hljs-tag">&lt;<span class="hljs-name">AuthGuard</span>&gt;</span>
                {element}
              <span class="hljs-tag">&lt;/<span class="hljs-name">AuthGuard</span>&gt;</span>
            ) : (
              element
            )}
          <span class="hljs-tag">&lt;/<span class="hljs-name">Suspense</span>&gt;</span>
        }
      &gt;
        {/* é€’å½’æ¸²æŸ“å­è·¯ç”± */}
        {children &amp;&amp; renderRoutes(children)}
      <span class="hljs-tag">&lt;/<span class="hljs-name">Route</span>&gt;</span></span>
    );
  });
};

<span class="hljs-comment">/**
 * ä¸»è·¯ç”±ç»„ä»¶
 */</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">AppRouter</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Routes</span>&gt;</span>
      {/* æ¸²æŸ“æ‰€æœ‰è·¯ç”± */}
      {renderRoutes([...publicRoutes, ...privateRoutes])}
      {/* å¤„ç†æœªåŒ¹é…çš„è·¯ç”± */}
      <span class="hljs-tag">&lt;<span class="hljs-name">Route</span> <span class="hljs-attr">path</span>=<span class="hljs-string">"*"</span> <span class="hljs-attr">element</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">Navigate</span> <span class="hljs-attr">to</span>=<span class="hljs-string">"/404"</span> <span class="hljs-attr">replace</span> /&gt;</span>} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">Routes</span>&gt;</span></span>
  );
};

<span class="hljs-comment">/**
 * è·å–æ‰€æœ‰è·¯ç”±é…ç½®
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getAllRoutes</span> = (<span class="hljs-params"/>) =&gt; {
  <span class="hljs-keyword">return</span> [...publicRoutes, ...privateRoutes];
};

<span class="hljs-comment">/**
 * æ ¹æ®è·¯å¾„æŸ¥æ‰¾è·¯ç”±ä¿¡æ¯
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">findRouteByPath</span> = (<span class="hljs-params">
  pathname: <span class="hljs-built_in">string</span>,
  routes = getAllRoutes()
</span>) =&gt; {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> route <span class="hljs-keyword">of</span> routes) {
    <span class="hljs-keyword">if</span> (route.<span class="hljs-property">path</span> === pathname) {
      <span class="hljs-keyword">return</span> route;
    }

    <span class="hljs-keyword">if</span> (route.<span class="hljs-property">children</span>) {
      <span class="hljs-keyword">const</span> found = <span class="hljs-title function_">findRouteByPath</span>(pathname, route.<span class="hljs-property">children</span>);
      <span class="hljs-keyword">if</span> (found) {
        <span class="hljs-keyword">return</span> found;
      }
    }
  }

  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
};

<span class="hljs-comment">/**
 * ç”Ÿæˆé¢åŒ…å±‘å¯¼èˆªæ•°æ®
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">generateBreadcrumbs</span> = (<span class="hljs-params">pathname</span>) =&gt; {
  <span class="hljs-keyword">const</span> segments = pathname.<span class="hljs-title function_">split</span>(<span class="hljs-string">'/'</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Boolean</span>);
  <span class="hljs-keyword">const</span> breadcrumbs = [];
  <span class="hljs-keyword">let</span> currentPath = <span class="hljs-string">''</span>;

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> segment <span class="hljs-keyword">of</span> segments) {
    currentPath += <span class="hljs-string">`/<span class="hljs-subst">${segment}</span>`</span>;
    <span class="hljs-keyword">const</span> route = <span class="hljs-title function_">findRouteByPath</span>(currentPath);

    <span class="hljs-keyword">if</span> (route?.<span class="hljs-property">meta</span>?.<span class="hljs-property">title</span>) {
      breadcrumbs.<span class="hljs-title function_">push</span>({
        <span class="hljs-attr">title</span>: route.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>,
        <span class="hljs-attr">path</span>: route.<span class="hljs-property">path</span> !== <span class="hljs-string">'/404'</span> ? currentPath : <span class="hljs-literal">undefined</span>,
      });
    }
  }
  <span class="hljs-keyword">return</span> breadcrumbs;
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">AppRouter</span>;

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[MCP Skill Subagent å®æˆ˜æŒ‡å—]]></title>    <link>https://juejin.cn/post/7592944032773947443</link>    <guid>https://juejin.cn/post/7592944032773947443</guid>    <pubDate>2026-01-09T07:26:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592944032773947443" data-draft-id="7592997693069934602" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="MCP Skill Subagent å®æˆ˜æŒ‡å—"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-09T07:26:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é˜¿ä¸œåœ¨coding"/> <meta itemprop="url" content="https://juejin.cn/user/2260251635353528"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            MCP Skill Subagent å®æˆ˜æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2260251635353528/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é˜¿ä¸œåœ¨coding
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:26:48.000Z" title="Fri Jan 09 2026 07:26:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>ä»ä¸šåŠ¡åœºæ™¯åˆ°æ¶æ„è®¾è®¡ï¼Œæ·±å…¥æµ…å‡ºç†è§£ç°ä»£AIç³»ç»Ÿæ¶æ„</p>
</blockquote>
<hr/>
<h2 data-id="heading-0">ğŸ“– ç¬¬ä¸€ç« ï¼šæ•…äº‹çš„å¼€å§‹</h2>
<h3 data-id="heading-1">ä¸€ä¸ªçœŸå®çš„ä¸šåŠ¡éœ€æ±‚</h3>
<p>2024å¹´1æœˆçš„æŸä¸ªå‘¨ä¸€æ—©æ™¨ï¼Œé˜³å…‰é€è¿‡åŠå…¬å®¤çš„è½åœ°çª—æ´’è¿›æ¥ã€‚äº§å“ç»ç†å°ç‹æ‰‹é‡Œæ‹¿ç€iPadï¼Œæ€¥åŒ†åŒ†åœ°èµ°è¿›å¼€å‘ç»„åŠå…¬å®¤ã€‚å¤§å®¶è¿˜åœ¨å–ç€å’–å•¡ï¼Œè®¨è®ºå‘¨æœ«çš„ç”µå½±ã€‚</p>
<p><strong>å°ç‹</strong>ï¼ˆæ‰“å¼€iPadä¸Šçš„éœ€æ±‚æ–‡æ¡£ï¼‰ï¼š"å„ä½ï¼Œç´§æ€¥éœ€æ±‚ï¼è€æ¿åˆšä»ç¡…è°·å›æ¥ï¼Œçœ‹åˆ°äº†æœ€æ–°çš„AIåº”ç”¨ï¼Œè¦æ±‚æˆ‘ä»¬2å‘¨å†…åœ¨ä¼ä¸šIMä¸­åŠ å…¥æ™ºèƒ½åŠ©æ‰‹åŠŸèƒ½ã€‚"</p>
<p>ä¼šè®®å®¤é‡Œçªç„¶å®‰é™äº†ä¸‹æ¥...</p>
<hr/>
<h3 data-id="heading-2">ğŸ“‹ éœ€æ±‚è¯¦è§£</h3>
<p>å°ç‹åœ¨ç™½æ¿ä¸Šå†™ä¸‹äº†å…·ä½“éœ€æ±‚ï¼š</p>
<pre><code class="hljs language-erlang" lang="erlang">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æ™ºèƒ½åŠ©æ‰‹åŠŸèƒ½éœ€æ±‚                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  <span class="hljs-number">1</span>. ğŸ“„ æ–‡æ¡£åŠ©æ‰‹                                         â”‚
â”‚     â”œâ”€ ä¸Šä¼ ä¼šè®®å½•éŸ³ â†’ è‡ªåŠ¨ç”Ÿæˆæ–‡å­—çºªè¦                  â”‚
â”‚     â”œâ”€ æ™ºèƒ½æå–å…³é”®å†³ç­–ç‚¹                               â”‚
â”‚     â”œâ”€ è‡ªåŠ¨è¯†åˆ«å¾…åŠäº‹é¡¹å’Œè´£ä»»äºº                         â”‚
â”‚     â””â”€ æŒ‰ä¸»é¢˜åˆ†ç±»å­˜æ¡£                                   â”‚
â”‚                                                         â”‚
â”‚  <span class="hljs-number">2</span>. ğŸ“Š æ•°æ®åŠ©æ‰‹                                         â”‚
â”‚     â”œâ”€ <span class="hljs-string">"ä¸Šä¸ªæœˆé”€å”®é¢å¤šå°‘ï¼Ÿ"</span> â†’ è‡ªåŠ¨æŸ¥è¯¢æ•°æ®åº“            â”‚
â”‚     â”œâ”€ ä¸€é”®ç”Ÿæˆå¯è§†åŒ–æŠ¥è¡¨                               â”‚
â”‚     â”œâ”€ è¶‹åŠ¿åˆ†æï¼š<span class="hljs-string">"é”€å”®é¢ä¸Šæ¶¨15%"</span>                        â”‚
â”‚     â””â”€ æ™ºèƒ½é¢„æµ‹ï¼š<span class="hljs-string">"ä¸‹æœˆé¢„è®¡å¢é•¿20%"</span>                      â”‚
â”‚                                                         â”‚
â”‚  <span class="hljs-number">3</span>. ğŸŒ ç¿»è¯‘åŠ©æ‰‹                                         â”‚
â”‚     â”œâ”€ èŠå¤©æ¶ˆæ¯å®æ—¶ç¿»è¯‘                                 â”‚
â”‚     â”œâ”€ æ”¯æŒä¸­è‹±æ—¥éŸ©å¾·æ³•ç­‰<span class="hljs-number">10</span>+è¯­è¨€                        â”‚
â”‚     â”œâ”€ ä¿æŒä¸“ä¸šæœ¯è¯­å‡†ç¡®æ€§                               â”‚
â”‚     â””â”€ è¯†åˆ«è¯­å¢ƒï¼Œæ™ºèƒ½è°ƒæ•´è¯­æ°”                           â”‚
â”‚                                                         â”‚
â”‚  <span class="hljs-number">4</span>. ğŸ’» ä»£ç åŠ©æ‰‹                                         â”‚
â”‚     â”œâ”€ ç²˜è´´ä»£ç  â†’ è‡ªåŠ¨å®¡æŸ¥å’Œå»ºè®®                        â”‚
â”‚     â”œâ”€ ä¸€é”®ç”Ÿæˆå•å…ƒæµ‹è¯•                                 â”‚
â”‚     â”œâ”€ Bugåˆ†æå’Œä¿®å¤å»ºè®®                                â”‚
â”‚     â””â”€ ä»£ç è´¨é‡è¯„åˆ†                                     â”‚
â”‚                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â° æ—¶é—´è¦æ±‚ï¼š<span class="hljs-number">2</span>å‘¨å†…ä¸Šçº¿MVPç‰ˆæœ¬                          â”‚
â”‚  ğŸ¯ æ€§èƒ½è¦æ±‚ï¼šå“åº”æ—¶é—´ &lt; <span class="hljs-number">2</span>ç§’ï¼Œå‡†ç¡®ç‡ &gt; <span class="hljs-number">90</span><span class="hljs-comment">%              â”‚</span>
â”‚  ğŸ”§ æ‰©å±•æ€§ï¼šåç»­ä¼šä¸æ–­å¢åŠ æ–°çš„AIèƒ½åŠ›                    â”‚
â”‚  ğŸ’° æˆæœ¬æ§åˆ¶ï¼šAPIè°ƒç”¨è´¹ç”¨éœ€è¦å¯æ§                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-3">ğŸ˜° å›¢é˜Ÿçš„ç¬¬ä¸€ååº”</h3>
<p><strong>å‰ç«¯å·¥ç¨‹å¸ˆå°æ</strong>ï¼š"2å‘¨ï¼Ÿ4ä¸ªåŠŸèƒ½ï¼Ÿè¿™... å¯èƒ½å—ï¼Ÿ"</p>
<p><strong>åç«¯å·¥ç¨‹å¸ˆè€å¼ </strong>ï¼š"æ¯ä¸ªåŠŸèƒ½éƒ½éœ€è¦å¯¹æ¥ä¸åŒçš„AIæœåŠ¡ï¼Œå…‰æ˜¯APIé›†æˆå°±è¦ä¸å°‘æ—¶é—´ã€‚"</p>
<p><strong>æµ‹è¯•å·¥ç¨‹å¸ˆå°ç¾</strong>ï¼š"è€Œä¸”æ¯ä¸ªåŠŸèƒ½çš„æµ‹è¯•ç”¨ä¾‹éƒ½ä¸ä¸€æ ·ï¼Œ2å‘¨æµ‹è¯•æ—¶é—´æ ¹æœ¬ä¸å¤Ÿã€‚"</p>
<p><strong>æ¶æ„å¸ˆè€ç‹</strong>ï¼ˆæ²‰æ€ç‰‡åˆ»ï¼‰ï¼š"å¦‚æœç”¨ä¼ ç»Ÿæ–¹å¼å¼€å‘ï¼Œç¡®å®å¾ˆéš¾ã€‚ä½†å¦‚æœæˆ‘ä»¬é‡‡ç”¨ <strong>MCP Skill Subagent</strong> æ¶æ„ï¼Œæˆ–è®¸å¯ä»¥åšåˆ°ã€‚"</p>
<p>å¤§å®¶æŠ•æ¥å¥½å¥‡çš„ç›®å…‰...</p>
<hr/>
<h2 data-id="heading-4">ğŸ¤¯ ç¬¬äºŒç« ï¼šä¼ ç»Ÿæ–¹æ¡ˆçš„å›°å¢ƒ</h2>
<h3 data-id="heading-5">æ–¹æ¡ˆä¸€ï¼šå•ä½“æœåŠ¡ - å…¨éƒ¨å †åœ¨ä¸€èµ·</h3>
<p>è€å¼ åœ¨ç™½æ¿ä¸Šç”»äº†ç¬¬ä¸€ä¸ªæ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-go" lang="go">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        AIAssistantService.java             â”‚
â”‚         (ä¸€ä¸ª<span class="hljs-number">2000</span>+è¡Œçš„å¤§æ–‡ä»¶)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                            â”‚
â”‚  handleMessage(msg) {                      â”‚
â”‚    <span class="hljs-keyword">if</span> (msg.<span class="hljs-keyword">type</span> == <span class="hljs-string">"audio"</span>) {              â”‚
â”‚      <span class="hljs-comment">// æ–‡æ¡£å¤„ç†é€»è¾‘ (500è¡Œ)                â”‚</span>
â”‚      è½¬æ¢éŸ³é¢‘ â†’ ç”Ÿæˆæ–‡æœ¬ â†’ æå–ä»»åŠ¡...       â”‚
â”‚    }                                       â”‚
â”‚    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (msg.<span class="hljs-keyword">type</span> == <span class="hljs-string">"query"</span>) {         â”‚
â”‚      <span class="hljs-comment">// æ•°æ®æŸ¥è¯¢é€»è¾‘ (300è¡Œ)                â”‚</span>
â”‚      è§£æé—®é¢˜ â†’ ç”ŸæˆSQL â†’ æ‰§è¡ŒæŸ¥è¯¢...        â”‚
â”‚    }                                       â”‚
â”‚    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (msg.<span class="hljs-keyword">type</span> == <span class="hljs-string">"translate"</span>) {     â”‚
â”‚      <span class="hljs-comment">// ç¿»è¯‘é€»è¾‘ (200è¡Œ)                    â”‚</span>
â”‚      æ£€æµ‹è¯­è¨€ â†’ è°ƒç”¨ç¿»è¯‘ â†’ è¿”å›ç»“æœ...       â”‚
â”‚    }                                       â”‚
â”‚    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (msg.<span class="hljs-keyword">type</span> == <span class="hljs-string">"code"</span>) {          â”‚
â”‚      <span class="hljs-comment">// ä»£ç å®¡æŸ¥é€»è¾‘ (400è¡Œ)                â”‚</span>
â”‚      è¯­æ³•æ£€æŸ¥ â†’ é£æ ¼æ£€æŸ¥ â†’ ç”Ÿæˆå»ºè®®...       â”‚
â”‚    }                                       â”‚
â”‚  }                                         â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-6">âŒ é—®é¢˜åˆ†æ</h4>













































<table><thead><tr><th>é—®é¢˜</th><th>å…·ä½“è¡¨ç°</th><th>å½±å“</th></tr></thead><tbody><tr><td><strong>ä»£ç è‡ƒè‚¿</strong></td><td>å•æ–‡ä»¶2000+è¡Œ</td><td>éš¾ä»¥é˜…è¯»å’Œç»´æŠ¤</td></tr><tr><td><strong>è€¦åˆä¸¥é‡</strong></td><td>æ‰€æœ‰åŠŸèƒ½æ··åœ¨ä¸€èµ·</td><td>æ”¹ä¸€å¤„å½±å“å…¨å±€</td></tr><tr><td><strong>éš¾ä»¥æµ‹è¯•</strong></td><td>æ— æ³•ç‹¬ç«‹æµ‹è¯•å•ä¸ªåŠŸèƒ½</td><td>æµ‹è¯•å‘¨æœŸé•¿ï¼Œbugå¤š</td></tr><tr><td><strong>æ— æ³•å¤ç”¨</strong></td><td>æƒ³åœ¨å…¶ä»–é¡¹ç›®ç”¨ç¿»è¯‘ï¼Ÿå¤åˆ¶ç²˜è´´ï¼</td><td>ä»£ç é‡å¤ï¼Œç»´æŠ¤å›°éš¾</td></tr><tr><td><strong>æ‰©å±•å›°éš¾</strong></td><td>åŠ æ–°åŠŸèƒ½è¦ä¿®æ”¹ä¸»æµç¨‹</td><td>æ¯æ¬¡æ”¹åŠ¨é£é™©å¤§</td></tr><tr><td><strong>å›¢é˜Ÿåä½œéš¾</strong></td><td>å¤šäººæ”¹åŒä¸€æ–‡ä»¶</td><td>Gitå†²çªä¸æ–­</td></tr><tr><td><strong>æ€§èƒ½é—®é¢˜</strong></td><td>æ‰€æœ‰åŠŸèƒ½å…±ç”¨ä¸€ä¸ªè¿›ç¨‹</td><td>æŸä¸ªåŠŸèƒ½å¡é¡¿å½±å“å…¨éƒ¨</td></tr></tbody></table>
<p><strong>å°ææ‘‡å¤´</strong>ï¼š"è¿™ç§æ–¹å¼å¼€å‘è¿‡ï¼Œå¤ªç—›è‹¦äº†ã€‚ä¸Šæ¬¡åŠ ä¸ªå°åŠŸèƒ½ï¼Œæ”¹äº†ä¸»æµç¨‹ï¼Œç»“æœæŠŠå…¶ä»–åŠŸèƒ½éƒ½å¼„åäº†ã€‚"</p>
<hr/>
<h3 data-id="heading-7">æ–¹æ¡ˆäºŒï¼šå¤šæœåŠ¡ - å„è‡ªä¸ºæ”¿</h3>
<p>è€å¼ æ“¦æ‰ç™½æ¿ï¼Œç”»äº†ç¬¬äºŒä¸ªæ–¹æ¡ˆï¼š</p>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MeetingService   â”‚  â”‚ DataQueryService â”‚
â”‚                  â”‚  â”‚                  â”‚
â”‚ <span class="hljs-built_in">process</span>(audio)   â”‚  â”‚ <span class="hljs-built_in">query</span>(question)  â”‚
â”‚ {               â”‚  â”‚ {               â”‚
â”‚   è½¬æ–‡æœ¬...      â”‚  â”‚   è§£ææŸ¥è¯¢...    â”‚
â”‚   ç”Ÿæˆæ‘˜è¦...    â”‚  â”‚   æ‰§è¡ŒSQL...     â”‚
â”‚ }               â”‚  â”‚ }               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚TranslateService  â”‚  â”‚CodeReviewService â”‚
â”‚                  â”‚  â”‚                  â”‚
â”‚<span class="hljs-built_in">translate</span>(text)   â”‚  â”‚ <span class="hljs-built_in">review</span>(code)     â”‚
â”‚{                â”‚  â”‚ {               â”‚
â”‚  è°ƒç”¨API...      â”‚  â”‚   æ£€æŸ¥è¯­æ³•...    â”‚
â”‚  è¿”å›ç»“æœ...     â”‚  â”‚   ç”Ÿæˆå»ºè®®...    â”‚
â”‚}                â”‚  â”‚ }               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-8">âŒ æ–°çš„é—®é¢˜</h4>
<p><strong>è™½ç„¶åˆ†ç¦»äº†æœåŠ¡ï¼Œä½†æ˜¯...</strong></p>
<pre><code class="hljs language-css" lang="css">é—®é¢˜<span class="hljs-number">1</span>: æ¥å£ä¸ç»Ÿä¸€ ğŸ˜µ
â”œâ”€ MeetingService.<span class="hljs-built_in">process</span>(audio)
â”œâ”€ DataQueryService.<span class="hljs-built_in">query</span>(question)  
â”œâ”€ TranslateService.<span class="hljs-built_in">translate</span>(text, lang)
â””â”€ CodeReviewService.<span class="hljs-built_in">review</span>(code)
   â†’ æ¯ä¸ªæœåŠ¡è°ƒç”¨æ–¹å¼éƒ½ä¸ä¸€æ ·ï¼

é—®é¢˜<span class="hljs-number">2</span>: éš¾ä»¥ç¼–æ’ ğŸ¤¯
éœ€æ±‚ï¼š<span class="hljs-string">"å…ˆæŠŠè¿™æ®µè‹±æ–‡ç¿»è¯‘æˆä¸­æ–‡ï¼Œå†ç”Ÿæˆæ‘˜è¦"</span>
â”œâ”€ æ‰‹åŠ¨è°ƒç”¨ TranslateService
â”œâ”€ ç­‰å¾…ç»“æœ
â”œâ”€ å†æ‰‹åŠ¨è°ƒç”¨ MeetingService
â””â”€ éœ€è¦è‡ªå·±å†™å¤§é‡èƒ¶æ°´ä»£ç ï¼

é—®é¢˜<span class="hljs-number">3</span>: ç¼ºä¹ç®¡ç† ğŸ˜±
â”œâ”€ æœåŠ¡å¦‚ä½•å¯åŠ¨ï¼Ÿ
â”œâ”€ æœåŠ¡å¦‚ä½•åœæ­¢ï¼Ÿ
â”œâ”€ æœåŠ¡å¥åº·çŠ¶æ€å¦‚ä½•æ£€æŸ¥ï¼Ÿ
â””â”€ å…¨éƒ¨éœ€è¦è‡ªå·±å®ç°ï¼

é—®é¢˜<span class="hljs-number">4</span>: ç›‘æ§å›°éš¾ ğŸ“Š
â”œâ”€ æ—¥å¿—æ ¼å¼å„ä¸ç›¸åŒ
â”œâ”€ æ€§èƒ½æŒ‡æ ‡æ”¶é›†æ–¹å¼ä¸åŒ
â”œâ”€ é”™è¯¯å¤„ç†æœºåˆ¶ä¸ç»Ÿä¸€
â””â”€ è¿ç»´äººå‘˜è¡¨ç¤ºå¤´ç–¼ï¼
</code></pre>
<p><strong>å°ç¾</strong>ï¼ˆæµ‹è¯•å·¥ç¨‹å¸ˆï¼‰ï¼š"è¿™ç§æ–¹å¼æˆ‘ä¹Ÿé‡åˆ°è¿‡ï¼Œæ¯ä¸ªæœåŠ¡çš„æµ‹è¯•æ–¹å¼éƒ½ä¸ä¸€æ ·ï¼Œå†™æµ‹è¯•ç”¨ä¾‹å†™åˆ°æ€€ç–‘äººç”Ÿã€‚"</p>
<hr/>
<h2 data-id="heading-9">ğŸ’¡ ç¬¬ä¸‰ç« ï¼šMCPæ¶æ„çš„è¯ç”Ÿ</h2>
<h3 data-id="heading-10">æ¶æ„å¸ˆçš„æ–¹æ¡ˆ</h3>
<p>è€ç‹ç«™èµ·æ¥ï¼Œåœ¨ç™½æ¿ä¸Šç”»äº†ä¸€ä¸ªæ–°çš„æ¶æ„å›¾ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ä¸ºä»€ä¹ˆéœ€è¦ MCP + Skill + Subagentï¼Ÿ              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

          ä¼ ç»Ÿæ–¹å¼çš„ä¸‰å¤§ç—›ç‚¹                 MCPæ¶æ„çš„è§£å†³æ–¹æ¡ˆ
                                                    
    ğŸ˜µ é€šä¿¡æ–¹å¼ä¸ç»Ÿä¸€              â†’         ğŸ”Œ MCPåè®®
    <span class="hljs-string">"æ¯ä¸ªæœåŠ¡éƒ½æ˜¯ç‹¬ç‰¹çš„é›ªèŠ±"</span>                  <span class="hljs-string">"ç»Ÿä¸€çš„é€šä¿¡æ ‡å‡†"</span>
                                                    
    ğŸ˜± èƒ½åŠ›å®šä¹‰ä¸æ¸…æ™°              â†’         âœ¨ Skillå®šä¹‰
    <span class="hljs-string">"è¿™ä¸ªæœåŠ¡åˆ°åº•èƒ½å¹²å•¥ï¼Ÿ"</span>                    <span class="hljs-string">"æ¸…æ™°çš„èƒ½åŠ›æ¸…å•"</span>
                                                    
    ğŸ¤¯ ç”Ÿå‘½å‘¨æœŸéš¾ç®¡ç†              â†’         ğŸ¤– Subagent
    <span class="hljs-string">"å¯åŠ¨ï¼Ÿåœæ­¢ï¼Ÿç›‘æ§ï¼Ÿå…¨é æ‰‹åŠ¨"</span>              <span class="hljs-string">"è‡ªåŠ¨åŒ–ç”Ÿå‘½å‘¨æœŸç®¡ç†"</span>
</code></pre>
<hr/>
<h3 data-id="heading-11">MCPåè®®ï¼šç»Ÿä¸€çš„è¯­è¨€</h3>
<p><strong>è€ç‹</strong>ï¼š"é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç»Ÿä¸€çš„é€šä¿¡åè®® - <strong>MCP (Model Context Protocol)</strong>"</p>
<h4 data-id="heading-12">ä»€ä¹ˆæ˜¯MCPï¼Ÿ</h4>
<pre><code class="hljs language-ini" lang="ini">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-attr">MCP</span> = AIç³»ç»Ÿçš„ HTTP åè®®                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  å°±åƒæµè§ˆå™¨å’ŒæœåŠ¡å™¨éƒ½éµå¾ªHTTPåè®®ä¸€æ ·        â”‚
â”‚  æ‰€æœ‰AIèƒ½åŠ›éƒ½éµå¾ªMCPåè®®                    â”‚
â”‚                                             â”‚
â”‚  ğŸ“¤ è¯·æ±‚æ ¼å¼ç»Ÿä¸€                            â”‚
â”‚  ğŸ“¥ å“åº”æ ¼å¼ç»Ÿä¸€                            â”‚
â”‚  âŒ é”™è¯¯å¤„ç†ç»Ÿä¸€                            â”‚
â”‚  ğŸ“Š ç›‘æ§æ–¹å¼ç»Ÿä¸€                            â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-13">MCPçš„æ ¸å¿ƒä»·å€¼</h4>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            ç»Ÿä¸€æ ‡å‡†å¸¦æ¥çš„å¥½å¤„                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  1ï¸âƒ£ é™ä½å­¦ä¹ æˆæœ¬                                â”‚
â”‚     ä¸€æ¬¡å­¦ä¼šï¼Œåˆ°å¤„ä½¿ç”¨                           â”‚
â”‚     å°±åƒå­¦ä¼šäº†HTTPï¼Œæ‰€æœ‰Web APIéƒ½ä¼šç”¨            â”‚
â”‚                                                  â”‚
â”‚  2ï¸âƒ£ å·¥å…·ç”Ÿæ€ä¸°å¯Œ                                â”‚
â”‚     ç»Ÿä¸€çš„åè®® â†’ é€šç”¨çš„å·¥å…·                      â”‚
â”‚     è°ƒè¯•å·¥å…·ã€æµ‹è¯•å·¥å…·ã€ç›‘æ§å·¥å…·éƒ½å¯ä»¥å¤ç”¨       â”‚
â”‚                                                  â”‚
â”‚  3ï¸âƒ£ æ˜“äºé›†æˆ                                    â”‚
â”‚     æ–°æ¥çš„AIæœåŠ¡ï¼Ÿåªè¦æ”¯æŒMCPå°±èƒ½æ¥å…¥            â”‚
â”‚     ä¸éœ€è¦ä¸ºæ¯ä¸ªæœåŠ¡å†™ä¸“é—¨çš„é›†æˆä»£ç              â”‚
â”‚                                                  â”‚
â”‚  4ï¸âƒ£ è‡ªåŠ¨åŒ–å‹å¥½                                  â”‚
â”‚     ç»Ÿä¸€çš„åè®® â†’ ç»Ÿä¸€çš„è‡ªåŠ¨åŒ–è„šæœ¬                â”‚
â”‚     éƒ¨ç½²ã€ç›‘æ§ã€å‘Šè­¦éƒ½å¯ä»¥è‡ªåŠ¨åŒ–                 â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-14">MCPæ¶ˆæ¯æµç¨‹å›¾</h4>
<pre><code class="hljs language-arduino" lang="arduino">ç”¨æˆ· â†’ MCPå®¢æˆ·ç«¯ â†’ MCPæœåŠ¡å™¨ â†’ AIèƒ½åŠ› â†’ è¿”å›ç»“æœ

â”Œâ”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç”¨æˆ· â”‚ â”€â”€â”€â†’ â”‚ MCPè¯·æ±‚ â”‚ â”€â”€â”€â†’ â”‚ MCPæœåŠ¡å™¨ â”‚ â”€â”€â”€â†’ â”‚AIèƒ½åŠ›  â”‚
â”‚      â”‚      â”‚         â”‚      â”‚          â”‚      â”‚        â”‚
â”‚      â”‚      â”‚ {       â”‚      â”‚  è§£æ    â”‚      â”‚ æ–‡æœ¬   â”‚
â”‚      â”‚      â”‚  <span class="hljs-string">"è°ƒç”¨"</span> â”‚      â”‚  è·¯ç”±    â”‚      â”‚ åˆ†æ   â”‚
â”‚      â”‚      â”‚  <span class="hljs-string">"ç¿»è¯‘"</span> â”‚      â”‚  æ‰§è¡Œ    â”‚      â”‚        â”‚
â”‚      â”‚      â”‚ }       â”‚      â”‚          â”‚      â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†‘                                                 â”‚
    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€ â”‚ MCPå“åº” â”‚ â†â”€â”€â”€ â”‚  æ ¼å¼åŒ–  â”‚ â†â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚         â”‚      â”‚  å“åº”    â”‚
              â”‚ {       â”‚      â”‚          â”‚
              â”‚  <span class="hljs-string">"ç»“æœ"</span> â”‚      â”‚          â”‚
              â”‚ }       â”‚      â”‚          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-15">Skillï¼šæ¸…æ™°çš„èƒ½åŠ›å®šä¹‰</h3>
<p><strong>è€ç‹</strong>ï¼š"æœ‰äº†ç»Ÿä¸€çš„åè®®ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å®šä¹‰ <strong>Skillï¼ˆæŠ€èƒ½ï¼‰</strong>"</p>
<h4 data-id="heading-16">ä»€ä¹ˆæ˜¯Skillï¼Ÿ</h4>
<pre><code class="hljs language-ini" lang="ini">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  <span class="hljs-attr">Skill</span> = AIèƒ½åŠ›çš„<span class="hljs-string">"ä½¿ç”¨è¯´æ˜ä¹¦"</span>                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  ğŸ“ æˆ‘å«ä»€ä¹ˆåå­—ï¼Ÿ                          â”‚
â”‚  ğŸ¯ æˆ‘èƒ½åšä»€ä¹ˆï¼Ÿ                            â”‚
â”‚  ğŸ“¥ æˆ‘éœ€è¦ä»€ä¹ˆè¾“å…¥ï¼Ÿ                        â”‚
â”‚  ğŸ“¤ æˆ‘ä¼šè¿”å›ä»€ä¹ˆè¾“å‡ºï¼Ÿ                      â”‚
â”‚  ğŸ“Š æˆ‘çš„æ€§èƒ½å¦‚ä½•ï¼Ÿ                          â”‚
â”‚  ğŸ”– æˆ‘çš„ç‰ˆæœ¬æ˜¯ï¼Ÿ                            â”‚
â”‚                                             â”‚
â”‚  å°±åƒäº§å“è¯´æ˜ä¹¦ä¸€æ ·                         â”‚
â”‚  è®©ä½¿ç”¨è€…ä¸€ç›®äº†ç„¶                           â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-17">Skillç¤ºä¾‹ï¼šæ–‡æ¡£å¤„ç†åŠ©æ‰‹</h4>
<pre><code class="hljs language-erlang" lang="erlang">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           ğŸ“„ æ–‡æ¡£å¤„ç†åŠ©æ‰‹ v1.<span class="hljs-number">0.0</span>                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  ğŸ’¬ ç®€ä»‹                                         â”‚
â”‚     å¤„ç†å„ç±»æ–‡æ¡£ï¼ŒåŒ…æ‹¬éŸ³é¢‘è½¬æ–‡æœ¬ã€              â”‚
â”‚     æ‘˜è¦ç”Ÿæˆã€ä¿¡æ¯æå–                          â”‚
â”‚                                                  â”‚
â”‚  âœ¨ èƒ½åŠ›æ¸…å•                                     â”‚
â”‚     â”œâ”€ ğŸ¤ éŸ³é¢‘è½¬æ–‡æœ¬                             â”‚
â”‚     â”‚   è¾“å…¥ï¼šéŸ³é¢‘URL                            â”‚
â”‚     â”‚   è¾“å‡ºï¼šæ–‡æœ¬ + ç½®ä¿¡åº¦                      â”‚
â”‚     â”‚                                            â”‚
â”‚     â”œâ”€ ğŸ“ ç”Ÿæˆæ‘˜è¦                               â”‚
â”‚     â”‚   è¾“å…¥ï¼šé•¿æ–‡æœ¬                             â”‚
â”‚     â”‚   è¾“å‡ºï¼šæ‘˜è¦ + å…³é”®ç‚¹                      â”‚
â”‚     â”‚                                            â”‚
â”‚     â””â”€ âœ… æå–å¾…åŠäº‹é¡¹                           â”‚
â”‚         è¾“å…¥ï¼šä¼šè®®æ–‡æœ¬                           â”‚
â”‚         è¾“å‡ºï¼šä»»åŠ¡åˆ—è¡¨ï¼ˆæ ‡é¢˜ã€è´Ÿè´£äººã€æˆªæ­¢æ—¶é—´ï¼‰ â”‚
â”‚                                                  â”‚
â”‚  âš¡ æ€§èƒ½æŒ‡æ ‡                                     â”‚
â”‚     å“åº”æ—¶é—´ï¼š&lt; <span class="hljs-number">2</span>ç§’                              â”‚
â”‚     å‡†ç¡®ç‡ï¼š&gt; <span class="hljs-number">95</span><span class="hljs-comment">%                                â”‚</span>
â”‚     æ”¯æŒè¯­è¨€ï¼šä¸­æ–‡ã€è‹±æ–‡                         â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-18">æ‰€æœ‰Skillä¸€è§ˆ</h4>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   AIåŠ©æ‰‹æŠ€èƒ½å›¾è°±                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  ğŸ“„ æ–‡æ¡£å¤„ç†åŠ©æ‰‹                                        â”‚
â”‚  â”œâ”€ ğŸ¤ éŸ³é¢‘è½¬æ–‡æœ¬                                       â”‚
â”‚  â”œâ”€ ğŸ“ ç”Ÿæˆæ‘˜è¦                                         â”‚
â”‚  â””â”€ âœ… æå–å¾…åŠäº‹é¡¹                                     â”‚
â”‚                                                         â”‚
â”‚  ğŸ“Š æ•°æ®åˆ†æåŠ©æ‰‹                                        â”‚
â”‚  â”œâ”€ ğŸ” è‡ªç„¶è¯­è¨€æŸ¥è¯¢                                     â”‚
â”‚  â”œâ”€ ğŸ“ˆ è¶‹åŠ¿åˆ†æ                                         â”‚
â”‚  â””â”€ ğŸ”® æ™ºèƒ½é¢„æµ‹                                         â”‚
â”‚                                                         â”‚
â”‚  ğŸŒ ç¿»è¯‘åŠ©æ‰‹                                            â”‚
â”‚  â”œâ”€ ğŸ”„ æ–‡æœ¬ç¿»è¯‘                                         â”‚
â”‚  â”œâ”€ ğŸ¯ æœ¯è¯­è¯†åˆ«                                         â”‚
â”‚  â””â”€ ğŸ—£ï¸ è¯­æ°”è°ƒæ•´                                         â”‚
â”‚                                                         â”‚
â”‚  ğŸ’» ä»£ç åŠ©æ‰‹                                            â”‚
â”‚  â”œâ”€ ğŸ” ä»£ç å®¡æŸ¥                                         â”‚
â”‚  â”œâ”€ ğŸ§ª ç”Ÿæˆæµ‹è¯•                                         â”‚
â”‚  â””â”€ ğŸ› Bugåˆ†æ                                          â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-19">Skillçš„ä¼˜åŠ¿</h4>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      æ¸…æ™°çš„Skillå®šä¹‰å¸¦æ¥ä»€ä¹ˆï¼Ÿ          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                        â”‚
â”‚  âœ… å‰ç«¯å¼€å‘è€…                         â”‚
â”‚     çœ‹Skillå®šä¹‰å°±çŸ¥é“æ€ä¹ˆè°ƒç”¨           â”‚
â”‚     ä¸éœ€è¦å»ç¿»åç«¯ä»£ç                  â”‚
â”‚                                        â”‚
â”‚  âœ… æµ‹è¯•å·¥ç¨‹å¸ˆ                         â”‚
â”‚     æ ¹æ®Skillå®šä¹‰å†™æµ‹è¯•ç”¨ä¾‹             â”‚
â”‚     è¾“å…¥è¾“å‡ºéƒ½å¾ˆæ˜ç¡®                   â”‚
â”‚                                        â”‚
â”‚  âœ… äº§å“ç»ç†                           â”‚
â”‚     çœ‹Skillæ¸…å•å°±çŸ¥é“ç³»ç»Ÿèƒ½åšä»€ä¹ˆ       â”‚
â”‚     æ–¹ä¾¿è§„åˆ’æ–°åŠŸèƒ½                     â”‚
â”‚                                        â”‚
â”‚  âœ… è¿ç»´å·¥ç¨‹å¸ˆ                         â”‚
â”‚     æ ¹æ®Skillçš„æ€§èƒ½æŒ‡æ ‡è®¾ç½®ç›‘æ§         â”‚
â”‚     åŠæ—¶å‘ç°é—®é¢˜                       â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-20">Subagentï¼šçœŸæ­£çš„æ‰§è¡Œè€…</h3>
<p><strong>è€ç‹</strong>ï¼š"æœ€åï¼Œæˆ‘ä»¬éœ€è¦ <strong>Subagentï¼ˆå­ä»£ç†ï¼‰</strong> æ¥å®é™…æ‰§è¡Œè¿™äº›Skill"</p>
<h4 data-id="heading-21">ä»€ä¹ˆæ˜¯Subagentï¼Ÿ</h4>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Subagent = æŠ€èƒ½çš„<span class="hljs-string">"å®é™…å·¥ä½œè€…"</span>              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  å¦‚æœSkillæ˜¯<span class="hljs-string">"èŒä½æè¿°"</span>                      â”‚
â”‚  é‚£ä¹ˆSubagentå°±æ˜¯<span class="hljs-string">"çœŸæ­£ä¸Šå²—çš„å‘˜å·¥"</span>           â”‚
â”‚                                             â”‚
â”‚  ğŸ“‹ çŸ¥é“è‡ªå·±çš„èŒè´£ï¼ˆSkillå®šä¹‰ï¼‰              â”‚
â”‚  ğŸ”§ æŒæ¡å·¥ä½œæŠ€èƒ½ï¼ˆå®ç°é€»è¾‘ï¼‰                 â”‚
â”‚  â° ç®¡ç†å·¥ä½œçŠ¶æ€ï¼ˆç”Ÿå‘½å‘¨æœŸï¼‰                 â”‚
â”‚  ğŸ“Š æ±‡æŠ¥å·¥ä½œæƒ…å†µï¼ˆå¥åº·æ£€æŸ¥ï¼‰                 â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-22">Subagentçš„ç”Ÿå‘½å‘¨æœŸ</h4>
<pre><code class="hljs language-lua" lang="lua">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Subagentçš„ä¸€ç”Ÿ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                â”‚
â”‚  ğŸ¥š å‡ºç”Ÿï¼ˆæ³¨å†Œï¼‰                               â”‚
â”‚     skillManager.register(subagent)            â”‚
â”‚     <span class="hljs-string">"æˆ‘æ¥äº†ï¼æˆ‘æŒæ¡æ–‡æ¡£å¤„ç†æŠ€èƒ½ï¼"</span>              â”‚
â”‚                                                â”‚
â”‚  ğŸš€ ä¸Šå²—ï¼ˆåˆå§‹åŒ–ï¼‰                             â”‚
â”‚     subagent.initialize(<span class="hljs-built_in">config</span>)                â”‚
â”‚     è¿æ¥æ•°æ®åº“ã€åŠ è½½æ¨¡å‹ã€å‡†å¤‡èµ„æº...          â”‚
â”‚     <span class="hljs-string">"å‡†å¤‡å°±ç»ªï¼Œéšæ—¶å¾…å‘½ï¼"</span>                     â”‚
â”‚                                                â”‚
â”‚  ğŸ’¼ å·¥ä½œï¼ˆæ‰§è¡Œï¼‰                               â”‚
â”‚     subagent.<span class="hljs-built_in">execute</span>(request)                  â”‚
â”‚     å¤„ç†è¯·æ±‚ã€è°ƒç”¨AIã€è¿”å›ç»“æœ...              â”‚
â”‚     <span class="hljs-string">"æ”¶åˆ°ï¼æ­£åœ¨å¤„ç†æ‚¨çš„è¯·æ±‚..."</span>                â”‚
â”‚                                                â”‚
â”‚  ğŸ’š ä½“æ£€ï¼ˆå¥åº·æ£€æŸ¥ï¼‰                           â”‚
â”‚     subagent.healthCheck()                     â”‚
â”‚     æ£€æŸ¥APIè¿æ¥ã€æ•°æ®åº“çŠ¶æ€ã€å†…å­˜ä½¿ç”¨...       â”‚
â”‚     <span class="hljs-string">"ä¸€åˆ‡æ­£å¸¸ï¼"</span>æˆ–<span class="hljs-string">"å‡ºé—®é¢˜äº†ï¼"</span>                 â”‚
â”‚                                                â”‚
â”‚  ğŸ˜´ ä¸‹ç­ï¼ˆå…³é—­ï¼‰                               â”‚
â”‚     subagent.shutdown()                        â”‚
â”‚     æ¸…ç†èµ„æºã€å…³é—­è¿æ¥ã€ä¿å­˜çŠ¶æ€...            â”‚
â”‚     <span class="hljs-string">"ä»Šå¤©è¾›è‹¦äº†ï¼Œæ˜å¤©è§ï¼"</span>                     â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-23">å¤šä¸ªSubagentååŒå·¥ä½œ</h4>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              SubagentååŒå·¥ä½œç¤ºæ„å›¾                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚         ğŸ“ ç”¨æˆ·è¯·æ±‚                                   â”‚
â”‚         <span class="hljs-string">"å¤„ç†è¿™æ®µä¼šè®®å½•éŸ³"</span>                            â”‚
â”‚              â”‚                                        â”‚
â”‚              â†“                                        â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚      â”‚ SkillManager  â”‚                               â”‚
â”‚      â”‚  (è°ƒåº¦ä¸­å¿ƒ)   â”‚                               â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚              â”‚                                        â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚    â†“         â†“         â†“         â†“                  â”‚
â”‚                                                       â”‚
â”‚  ğŸ¤–      ğŸ¤–      ğŸ¤–      ğŸ¤–                          â”‚
â”‚ æ–‡æ¡£     æ•°æ®     ç¿»è¯‘    ä»£ç                         â”‚
â”‚ å¤„ç†     åˆ†æ     åŠ©æ‰‹    å®¡æŸ¥                        â”‚
â”‚ Agent   Agent   Agent   Agent                        â”‚
â”‚                                                       â”‚
â”‚  å„è‡ªç‹¬ç«‹è¿è¡Œ                                         â”‚
â”‚  å„è‡ªç®¡ç†èµ„æº                                         â”‚
â”‚  å„è‡ªå¤„ç†è¯·æ±‚                                         â”‚
â”‚  äº’ä¸å¹²æ‰°                                             â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-24">ğŸ—ï¸ ç¬¬å››ç« ï¼šä¸‰è€…çš„å®Œç¾é…åˆ</h2>
<h3 data-id="heading-25">æ•´ä½“æ¶æ„å…¨æ™¯å›¾</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MCP AIåŠ©æ‰‹ç³»ç»Ÿæ¶æ„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    åº”ç”¨å±‚                                â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”               â”‚   â”‚
â”‚  â”‚  â”‚ Web  â”‚  â”‚ç§»åŠ¨ç«¯â”‚  â”‚æ¡Œé¢ç«¯â”‚  â”‚ API  â”‚               â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              ğŸ”Œ MCPåè®®å±‚                                â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  ç»Ÿä¸€çš„é€šä¿¡æ ‡å‡† (JSON-RPC <span class="hljs-number">2.0</span>)                          â”‚   â”‚
â”‚  â”‚  â”œâ”€ è¯·æ±‚æ ¼å¼ï¼š{ method, params, id }                    â”‚   â”‚
â”‚  â”‚  â”œâ”€ å“åº”æ ¼å¼ï¼š{ result, error }                         â”‚   â”‚
â”‚  â”‚  â””â”€ é”™è¯¯å¤„ç†ï¼šç»Ÿä¸€é”™è¯¯ç                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                      â”‚
â”‚                          â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              ğŸ“¦ SkillManager (è°ƒåº¦å±‚)                    â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚  â”œâ”€ æ³¨å†ŒSubagent                                        â”‚   â”‚
â”‚  â”‚  â”œâ”€ æ¿€æ´»/åœç”¨Subagent                                   â”‚   â”‚
â”‚  â”‚  â”œâ”€ è·¯ç”±è¯·æ±‚åˆ°å¯¹åº”Subagent                              â”‚   â”‚
â”‚  â”‚  â”œâ”€ å¥åº·æ£€æŸ¥                                            â”‚   â”‚
â”‚  â”‚  â””â”€ ç›‘æ§å’Œæ—¥å¿—                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â”‚                                      â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚              â†“           â†“           â†“            â†“            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  ğŸ¤– Subagentå±‚                            â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ æ–‡æ¡£å¤„ç† â”‚  â”‚ æ•°æ®åˆ†æ â”‚  â”‚  ç¿»è¯‘   â”‚  â”‚ä»£ç å®¡æŸ¥ â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ Subagentâ”‚  â”‚ Subagentâ”‚  â”‚Subagent â”‚  â”‚Subagent â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚      â”‚             â”‚             â”‚            â”‚          â”‚  â”‚
â”‚  â”‚      â†“             â†“             â†“            â†“          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  âœ¨ Skillå±‚                               â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚æ–‡æ¡£å¤„ç† â”‚  â”‚æ•°æ®åˆ†æ â”‚  â”‚  ç¿»è¯‘   â”‚  â”‚ä»£ç å®¡æŸ¥ â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ Skill   â”‚  â”‚ Skill   â”‚  â”‚ Skill   â”‚  â”‚ Skill   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚  â”‚         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚èƒ½åŠ›æ¸…å• â”‚  â”‚èƒ½åŠ›æ¸…å• â”‚  â”‚èƒ½åŠ›æ¸…å• â”‚  â”‚èƒ½åŠ›æ¸…å• â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                      â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚              â†“           â†“           â†“            â†“            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  ğŸ”§ èµ„æºå±‚                                 â”‚  â”‚
â”‚  â”‚                                                           â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚OpenAI   â”‚  â”‚ æ•°æ®åº“  â”‚  â”‚ç¿»è¯‘API  â”‚  â”‚ä»£ç åˆ†æ â”‚    â”‚  â”‚
â”‚  â”‚  â”‚ API     â”‚  â”‚         â”‚  â”‚         â”‚  â”‚å¼•æ“     â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-26">ä¸‰è€…å…³ç³»å¯¹æ¯”</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              MCP vs Skill vs Subagent                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  æ¦‚å¿µ        â”‚  MCP       â”‚  Skill      â”‚  Subagent     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  æœ¬è´¨        â”‚  åè®®      â”‚  å®šä¹‰       â”‚  å®ç°         â”‚
â”‚  å±‚çº§        â”‚  é€šä¿¡å±‚    â”‚  èƒ½åŠ›å±‚     â”‚  æ‰§è¡Œå±‚       â”‚
â”‚  è§’è‰²        â”‚  è¯­è¨€è§„åˆ™  â”‚  å·¥ä½œå†…å®¹   â”‚  å·¥ä½œäººå‘˜     â”‚
â”‚                                                          â”‚
â”‚  ç±»æ¯”<span class="hljs-number">1</span>       â”‚  æ™®é€šè¯    â”‚  èœå•       â”‚  å¨å¸ˆ         â”‚
â”‚  ç±»æ¯”<span class="hljs-number">2</span>       â”‚  HTTPåè®®  â”‚  APIæ–‡æ¡£    â”‚  åç«¯æœåŠ¡     â”‚
â”‚  ç±»æ¯”<span class="hljs-number">3</span>       â”‚  äº¤é€šè§„åˆ™  â”‚  é©¾ç…§ç±»å‹   â”‚  å¸æœº         â”‚
â”‚                                                          â”‚
â”‚  èŒè´£        â”‚  å®šä¹‰å¦‚ä½•  â”‚  å®šä¹‰åšä»€ä¹ˆ â”‚  è´Ÿè´£æ€ä¹ˆåš   â”‚
â”‚             â”‚  é€šä¿¡      â”‚            â”‚              â”‚
â”‚                                                          â”‚
â”‚  å…³æ³¨ç‚¹      â”‚  æ¶ˆæ¯æ ¼å¼  â”‚  èƒ½åŠ›æ¸…å•   â”‚  å®ç°é€»è¾‘     â”‚
â”‚             â”‚  ä¼ è¾“æ–¹å¼  â”‚  è¾“å…¥è¾“å‡º   â”‚  èµ„æºç®¡ç†     â”‚
â”‚                                                          â”‚
â”‚  å¯æ›¿æ¢æ€§    â”‚  ä¸å¯æ›¿æ¢  â”‚  å¯æ‰©å±•     â”‚  å¯æ›¿æ¢       â”‚
â”‚             â”‚  (æ ‡å‡†)    â”‚  (æ–°èƒ½åŠ›)   â”‚  (æ–°å®ç°)     â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-27">å®Œæ•´è°ƒç”¨æµç¨‹</h3>
<h4 data-id="heading-28">åœºæ™¯ï¼šå¤„ç†ä¼šè®®å½•éŸ³</h4>
<pre><code class="hljs language-css" lang="css">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ç”¨æˆ·: <span class="hljs-string">"å¸®æˆ‘å¤„ç†è¿™æ®µä¼šè®®å½•éŸ³"</span>                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤<span class="hljs-number">1</span>: å®¢æˆ·ç«¯å‘èµ·MCPè¯·æ±‚                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  MCPè¯·æ±‚:                                                 â”‚
â”‚  {                                                        â”‚
â”‚    "method": <span class="hljs-string">"tools/call"</span>,                                â”‚
â”‚    <span class="hljs-string">"params"</span>: {                                            â”‚
â”‚      "name": <span class="hljs-string">"document_processor.transcribe"</span>,             â”‚
â”‚      <span class="hljs-string">"arguments"</span>: {                                       â”‚
â”‚        "audioUrl": <span class="hljs-string">"meeting.mp3"</span>                          â”‚
â”‚      }                                                    â”‚
â”‚    }                                                      â”‚
â”‚  }                                                        â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤<span class="hljs-number">2</span>: MCPæœåŠ¡å™¨è§£æè¯·æ±‚                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  è§£æç»“æœ:                                                â”‚
â”‚  â”œâ”€ Skill ID: <span class="hljs-string">"document_processor"</span>                        â”‚
â”‚  â”œâ”€ Action: <span class="hljs-string">"transcribe"</span>                                  â”‚
â”‚  â””â”€ Parameters: { audioUrl: <span class="hljs-string">"meeting.mp3"</span> }               â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤<span class="hljs-number">3</span>: SkillManagerè·¯ç”±è¯·æ±‚                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  SkillManageræŸ¥æ‰¾:                                        â”‚
â”‚  â”œâ”€ æ‰¾åˆ°Skill: <span class="hljs-string">"æ–‡æ¡£å¤„ç†åŠ©æ‰‹"</span>                             â”‚
â”‚  â”œâ”€ æ£€æŸ¥çŠ¶æ€: âœ… å·²æ¿€æ´»                                   â”‚
â”‚  â””â”€ è·å–Subagent: DocumentProcessorSubagent               â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤<span class="hljs-number">4</span>: Subagentæ‰§è¡Œä»»åŠ¡                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  DocumentProcessorSubagentå·¥ä½œæµç¨‹:                       â”‚
â”‚                                                           â”‚
â”‚  <span class="hljs-number">1</span>. ä¸‹è½½éŸ³é¢‘æ–‡ä»¶ ğŸ“¥                                       â”‚
â”‚     progress: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ <span class="hljs-number">100%</span>                           â”‚
â”‚                                                           â”‚
â”‚  <span class="hljs-number">2</span>. è°ƒç”¨Whisper API ğŸ¤                                    â”‚
â”‚     status: æ­£åœ¨è½¬æ¢...                                   â”‚
â”‚     result: <span class="hljs-string">"ä»Šå¤©ä¼šè®®è®¨è®ºäº†äº§å“è·¯çº¿å›¾..."</span>                  â”‚
â”‚                                                           â”‚
â”‚  <span class="hljs-number">3</span>. è´¨é‡æ£€æŸ¥ âœ…                                           â”‚
â”‚     confidence: <span class="hljs-number">96%</span>                                       â”‚
â”‚                                                           â”‚
â”‚  <span class="hljs-number">4</span>. æ ¼å¼åŒ–ç»“æœ ğŸ“                                         â”‚
â”‚     text: <span class="hljs-string">"ä»Šå¤©ä¼šè®®è®¨è®ºäº†..."</span>                             â”‚
â”‚     wordCount: <span class="hljs-number">1234</span>                                       â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ­¥éª¤<span class="hljs-number">5</span>: è¿”å›MCPå“åº”                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  MCPå“åº”:                                                 â”‚
â”‚  {                                                        â”‚
â”‚    "result": {                                            â”‚
â”‚      "text": <span class="hljs-string">"ä»Šå¤©ä¼šè®®è®¨è®ºäº†äº§å“è·¯çº¿å›¾..."</span>,                â”‚
â”‚      <span class="hljs-string">"confidence"</span>: <span class="hljs-number">0.96</span>,                                  â”‚
â”‚      <span class="hljs-string">"duration"</span>: <span class="hljs-number">1.8</span>                                      â”‚
â”‚    }                                                      â”‚
â”‚  }                                                        â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ç”¨æˆ·æ”¶åˆ°: <span class="hljs-string">"âœ… è½¬æ¢å®Œæˆï¼å…±1234å­—"</span>                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-29">ğŸ¬ ç¬¬äº”ç« ï¼šå®æˆ˜åœºæ™¯æ¼”ç¤º</h2>
<h3 data-id="heading-30">åœºæ™¯ä¸€ï¼šæ™ºèƒ½ä¼šè®®åŠ©æ‰‹å…¨æµç¨‹</h3>
<p><strong>èƒŒæ™¯</strong>ï¼šå‘¨ä¸€æ—©ä¸Šçš„äº§å“ä¼šè®®ï¼Œå°ç‹å½•åˆ¶äº†1å°æ—¶çš„ä¼šè®®éŸ³é¢‘</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">ğŸ“</span> <span class="hljs-string">ä¼šè®®åŠ©æ‰‹å·¥ä½œæµç¨‹</span>                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="hljs-string">â”‚</span>                                                    <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-number">9</span><span class="hljs-string">:00</span> <span class="hljs-string">AM</span> <span class="hljs-bullet">-</span> <span class="hljs-string">ä¼šè®®å¼€å§‹</span> <span class="hljs-string">ğŸ¤</span>                             <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-string">å°ç‹å¼€å¯å½•éŸ³</span>                                   <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€</span> <span class="hljs-string">ä¼šè®®æŒç»­60åˆ†é’Ÿ</span>                                 <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                                    <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-number">10</span><span class="hljs-string">:00</span> <span class="hljs-string">AM</span> <span class="hljs-bullet">-</span> <span class="hljs-string">ä¼šè®®ç»“æŸ</span> <span class="hljs-string">âœ…</span>                            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-string">å°ç‹ä¸Šä¼ å½•éŸ³åˆ°ç³»ç»Ÿ</span>                             <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€</span> <span class="hljs-string">è§¦å‘AIå¤„ç†æµç¨‹</span>                                 <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                                    <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">é˜¶æ®µ1:</span> <span class="hljs-string">éŸ³é¢‘è½¬æ–‡æœ¬</span> <span class="hljs-string">ğŸ¤â†’ğŸ“</span>                <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-attr">Subagent:</span> <span class="hljs-string">DocumentProcessor</span>           <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-attr">Skill:</span> <span class="hljs-string">transcribe</span>                     <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">è€—æ—¶:</span> <span class="hljs-number">3</span><span class="hljs-string">åˆ†é’Ÿ</span>                            <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">ç»“æœ:</span> <span class="hljs-number">15</span><span class="hljs-string">,234å­—æ–‡æœ¬</span>                     <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">å‡†ç¡®åº¦:</span> <span class="hljs-number">97</span><span class="hljs-string">%</span>                            <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                    <span class="hljs-string">â†“</span>                               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">é˜¶æ®µ2:</span> <span class="hljs-string">ç”Ÿæˆæ‘˜è¦</span> <span class="hljs-string">ğŸ“â†’ğŸ“‹</span>                  <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-attr">Subagent:</span> <span class="hljs-string">DocumentProcessor</span>           <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-attr">Skill:</span> <span class="hljs-string">summarize</span>                      <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">è€—æ—¶:</span> <span class="hljs-number">30</span><span class="hljs-string">ç§’</span>                             <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">ç»“æœ:</span>                                  <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-number">500</span><span class="hljs-string">å­—æ‘˜è¦</span>                          <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-number">5</span><span class="hljs-string">ä¸ªå…³é”®å†³ç­–ç‚¹</span>                      <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€</span> <span class="hljs-number">3</span><span class="hljs-string">ä¸ªè®¨è®ºé‡ç‚¹</span>                        <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                    <span class="hljs-string">â†“</span>                               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">é˜¶æ®µ3:</span> <span class="hljs-string">æå–ä»»åŠ¡</span> <span class="hljs-string">ğŸ“‹â†’âœ…</span>                  <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-attr">Subagent:</span> <span class="hljs-string">DocumentProcessor</span>           <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-attr">Skill:</span> <span class="hljs-string">extract_tasks</span>                  <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">è€—æ—¶:</span> <span class="hljs-number">20</span><span class="hljs-string">ç§’</span>                             <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">ç»“æœ:</span>                                  <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-string">ä»»åŠ¡1:</span> <span class="hljs-string">UIè®¾è®¡</span> <span class="hljs-string">@å¼ ä¸‰</span> <span class="hljs-string">(æœ¬å‘¨äº”)</span>        <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-string">ä»»åŠ¡2:</span> <span class="hljs-string">APIå¼€å‘</span> <span class="hljs-string">@æå››</span> <span class="hljs-string">(ä¸‹å‘¨ä¸‰)</span>       <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€</span> <span class="hljs-string">ä»»åŠ¡3:</span> <span class="hljs-string">æµ‹è¯•</span> <span class="hljs-string">@å°ç¾</span> <span class="hljs-string">(ä¸‹å‘¨äº”)</span>          <span class="hljs-string">â”‚</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                    <span class="hljs-string">â†“</span>                               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-number">10</span><span class="hljs-string">:04</span> <span class="hljs-string">AM</span> <span class="hljs-bullet">-</span> <span class="hljs-string">å¤„ç†å®Œæˆ</span> <span class="hljs-string">ğŸ‰</span>                            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-string">è‡ªåŠ¨å‘é€ä¼šè®®çºªè¦åˆ°ç¾¤èŠ</span>                         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-string">è‡ªåŠ¨åˆ›å»ºä»»åŠ¡åˆ°é¡¹ç›®ç®¡ç†ç³»ç»Ÿ</span>                     <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€</span> <span class="hljs-string">å›¢é˜Ÿæˆå‘˜æ”¶åˆ°é€šçŸ¥</span>                               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                                    <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre>
<h4 data-id="heading-31">æ•ˆæœå¯¹æ¯”</h4>
<pre><code class="hljs language-erlang" lang="erlang">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ä¼ ç»Ÿæ–¹å¼ vs AIåŠ©æ‰‹                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  ğŸ“ æ•´ç†ä¼šè®®çºªè¦                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  ä¼ ç»Ÿ: å°ç‹æ‰‹åŠ¨å¬å½•éŸ³ï¼Œæ‰“å­—æ•´ç†ï¼Œè€—æ—¶<span class="hljs-number">2</span>-<span class="hljs-number">3</span>å°æ—¶         â”‚
â”‚  AIåŠ©æ‰‹: è‡ªåŠ¨å¤„ç†ï¼Œ<span class="hljs-number">4</span>åˆ†é’Ÿå®Œæˆ âœ¨                      â”‚
â”‚  æ•ˆç‡æå‡: <span class="hljs-number">97</span><span class="hljs-comment">%                                       â”‚</span>
â”‚                                                      â”‚
â”‚  âœ… åˆ›å»ºå¾…åŠä»»åŠ¡                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  ä¼ ç»Ÿ: äººå·¥é˜…è¯»çºªè¦ï¼Œæ‰‹åŠ¨åˆ›å»ºä»»åŠ¡ï¼Œå®¹æ˜“é—æ¼          â”‚
â”‚  AIåŠ©æ‰‹: è‡ªåŠ¨è¯†åˆ«å’Œåˆ›å»ºï¼Œä¸é—æ¼ âœ¨                   â”‚
â”‚  å‡†ç¡®ç‡: <span class="hljs-number">95</span><span class="hljs-comment">%                                         â”‚</span>
â”‚                                                      â”‚
â”‚  ğŸ“Š å½’æ¡£å’Œæ£€ç´¢                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  ä¼ ç»Ÿ: æ–‡ä»¶å¤¹ç®¡ç†ï¼ŒæŸ¥æ‰¾å›°éš¾                          â”‚
â”‚  AIåŠ©æ‰‹: æ™ºèƒ½åˆ†ç±»ï¼Œç§’çº§æ£€ç´¢ âœ¨                       â”‚
â”‚  æ£€ç´¢é€Ÿåº¦: æå‡<span class="hljs-number">100</span>å€                                 â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-32">åœºæ™¯äºŒï¼šè·¨å›½å›¢é˜Ÿå®æ—¶åä½œ</h3>
<p><strong>èƒŒæ™¯</strong>ï¼šå›¢é˜Ÿæˆå‘˜åˆ†å¸ƒåœ¨ä¸­å›½ã€ç¾å›½ã€æ—¥æœ¬</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒ å¤šè¯­è¨€åä½œåœºæ™¯                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  ğŸ‘¨â€ğŸ’¼ å¼ ä¸‰ï¼ˆä¸­å›½ï¼‰å‘æ¶ˆæ¯:                             â”‚
â”‚  <span class="hljs-string">"è¿™ä¸ªåŠŸèƒ½æˆ‘ä»¬åº”è¯¥åœ¨ä¸‹å‘¨å®Œæˆ"</span>                        â”‚
â”‚                                                     â”‚
â”‚         â†“ è§¦å‘ç¿»è¯‘Subagent                          â”‚
â”‚                                                     â”‚
â”‚  ğŸŒ è‡ªåŠ¨ç¿»è¯‘:                                       â”‚
â”‚  â”œâ”€ è‹±æ–‡: <span class="hljs-string">"We should complete this feature..."</span>     â”‚
â”‚  â”œâ”€ æ—¥æ–‡: <span class="hljs-string">"ã“ã®æ©Ÿèƒ½ã¯æ¥é€±å®Œæˆã™ã¹ãã§ã™..."</span>         â”‚
â”‚  â””â”€ åŒæ—¶æ˜¾ç¤ºï¼Œå®æ—¶ç¿»è¯‘                              â”‚
â”‚                                                     â”‚
â”‚  ğŸ‘¨â€ğŸ’¼ Johnï¼ˆç¾å›½ï¼‰å›å¤ï¼ˆè‹±æ–‡ï¼‰:                       â”‚
â”‚  <span class="hljs-string">"Sounds good, I'll start the API development"</span>     â”‚
â”‚                                                     â”‚
â”‚         â†“ è‡ªåŠ¨ç¿»è¯‘                                  â”‚
â”‚                                                     â”‚
â”‚  å¼ ä¸‰çœ‹åˆ°ï¼ˆä¸­æ–‡ï¼‰:                                  â”‚
â”‚  <span class="hljs-string">"å¬èµ·æ¥ä¸é”™ï¼Œæˆ‘ä¼šå¼€å§‹APIå¼€å‘"</span>                      â”‚
â”‚                                                     â”‚
â”‚  ğŸ‘¨â€ğŸ’¼ ç”°ä¸­ï¼ˆæ—¥æœ¬ï¼‰å›å¤ï¼ˆæ—¥æ–‡ï¼‰:                       â”‚
â”‚  <span class="hljs-string">"äº†è§£ã—ã¾ã—ãŸã€ãƒ†ã‚¹ãƒˆã‚’æº–å‚™ã—ã¾ã™"</span>                 â”‚
â”‚                                                     â”‚
â”‚         â†“ è‡ªåŠ¨ç¿»è¯‘                                  â”‚
â”‚                                                     â”‚
â”‚  å¼ ä¸‰çœ‹åˆ°ï¼ˆä¸­æ–‡ï¼‰: <span class="hljs-string">"æ˜ç™½äº†ï¼Œæˆ‘ä¼šå‡†å¤‡æµ‹è¯•"</span>            â”‚
â”‚  Johnçœ‹åˆ°ï¼ˆè‹±æ–‡ï¼‰: <span class="hljs-string">"Understood, I'll prepare..."</span>   â”‚
â”‚                                                     â”‚
â”‚  ğŸ¯ ç»“æœ:                                           â”‚
â”‚  ä¸‰ä¸ªäººç”¨ä¸åŒè¯­è¨€äº¤æµï¼Œæ¯«æ— éšœç¢ï¼                    â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-33">ç¿»è¯‘è´¨é‡ä¿è¯</h4>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¿»è¯‘Subagentçš„æ™ºèƒ½å¤„ç†                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  <span class="hljs-number">1</span>ï¸âƒ£ ä¸“ä¸šæœ¯è¯­è¯†åˆ«                            â”‚
â”‚     <span class="hljs-string">"API"</span> â†’ ä¿æŒåŸæ ·ï¼Œä¸ç¿»è¯‘                 â”‚
â”‚     <span class="hljs-string">"Sprint"</span> â†’ ä¿æŒåŸæ ·ï¼ˆæ•æ·å¼€å‘æœ¯è¯­ï¼‰       â”‚
â”‚                                              â”‚
â”‚  <span class="hljs-number">2</span>ï¸âƒ£ è¯­å¢ƒç†è§£                                â”‚
â”‚     <span class="hljs-string">"å®Œæˆ"</span> åœ¨æŠ€æœ¯è¯­å¢ƒ â†’ <span class="hljs-string">"complete"</span>           â”‚
â”‚     <span class="hljs-string">"å®Œæˆ"</span> åœ¨å•†åŠ¡è¯­å¢ƒ â†’ <span class="hljs-string">"accomplish"</span>         â”‚
â”‚                                              â”‚
â”‚  <span class="hljs-number">3</span>ï¸âƒ£ è¯­æ°”è°ƒæ•´                                â”‚
â”‚     æ£€æµ‹æ­£å¼/éæ­£å¼è¯­æ°”                       â”‚
â”‚     ä¿æŒåŸæ–‡çš„è¯­æ°”ç‰¹å¾                        â”‚
â”‚                                              â”‚
â”‚  <span class="hljs-number">4</span>ï¸âƒ£ æ–‡åŒ–é€‚é…                                â”‚
â”‚     æ—¥æœŸæ ¼å¼è‡ªåŠ¨é€‚é…                          â”‚
â”‚     æ—¶é—´è¡¨è¾¾æ–¹å¼æœ¬åœ°åŒ–                        â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-34">åœºæ™¯ä¸‰ï¼šè€æ¿çš„æ•°æ®æŸ¥è¯¢</h3>
<p><strong>èƒŒæ™¯</strong>ï¼šè€æ¿åœ¨ç¾¤é‡Œéšå£é—®é—®é¢˜</p>
<pre><code class="hljs language-sql" lang="sql">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š è‡ªç„¶è¯­è¨€æ•°æ®æŸ¥è¯¢åœºæ™¯                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  <span class="hljs-number">09</span>:<span class="hljs-number">30</span> è€æ¿: "ä¸Šä¸ªæœˆé”€å”®é¢æ˜¯å¤šå°‘ï¼Ÿ"                  â”‚
â”‚                                                      â”‚
â”‚         â†“ æ•°æ®åˆ†æSubagentå¯åŠ¨                       â”‚
â”‚                                                      â”‚
â”‚  âš™ï¸ AIå¤„ç†æµç¨‹:                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ <span class="hljs-number">1.</span> ç†è§£æ„å›¾                             â”‚         â”‚
â”‚  â”‚    "ä¸Šä¸ªæœˆ" â†’ <span class="hljs-number">2024</span><span class="hljs-number">-01</span>                  â”‚         â”‚
â”‚  â”‚    "é”€å”®é¢" â†’ <span class="hljs-built_in">SUM</span>(sales.amount)        â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">2.</span> ç”Ÿæˆ<span class="hljs-keyword">SQL</span>                             â”‚         â”‚
â”‚  â”‚    <span class="hljs-keyword">SELECT</span> <span class="hljs-built_in">SUM</span>(amount)                  â”‚         â”‚
â”‚  â”‚    <span class="hljs-keyword">FROM</span> sales                          â”‚         â”‚
â”‚  â”‚    <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">month</span> <span class="hljs-operator">=</span> <span class="hljs-string">'2024-01'</span>             â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">3.</span> æ‰§è¡ŒæŸ¥è¯¢                             â”‚         â”‚
â”‚  â”‚    ç»“æœ: <span class="hljs-number">12</span>,<span class="hljs-number">456</span>,<span class="hljs-number">789</span>å…ƒ                  â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">4.</span> æ™ºèƒ½åˆ†æ                             â”‚         â”‚
â”‚  â”‚    å¯¹æ¯”å»å¹´åŒæœŸ: <span class="hljs-operator">+</span><span class="hljs-number">23</span><span class="hljs-operator">%</span>                   â”‚         â”‚
â”‚  â”‚    å¯¹æ¯”ä¸Šæœˆ: <span class="hljs-operator">+</span><span class="hljs-number">15</span><span class="hljs-operator">%</span>                       â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">5.</span> ç”Ÿæˆå¯è§†åŒ–                           â”‚         â”‚
â”‚  â”‚    ğŸ“Š è¶‹åŠ¿å›¾                            â”‚         â”‚
â”‚  â”‚    ğŸ“ˆ åŒæ¯”æŸ±çŠ¶å›¾                        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                      â”‚
â”‚  <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">02</span> AIåŠ©æ‰‹å›å¤:                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ ğŸ“Š <span class="hljs-number">2024</span>å¹´<span class="hljs-number">1</span>æœˆé”€å”®æ•°æ®                    â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ ğŸ’° æ€»é”€å”®é¢: <span class="hljs-number">1</span>,<span class="hljs-number">245.68</span>ä¸‡å…ƒ              â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ ğŸ“ˆ åŒæ¯”å¢é•¿: <span class="hljs-operator">+</span><span class="hljs-number">23</span><span class="hljs-operator">%</span> â†—ï¸                    â”‚         â”‚
â”‚  â”‚ ğŸ“Š ç¯æ¯”å¢é•¿: <span class="hljs-operator">+</span><span class="hljs-number">15</span><span class="hljs-operator">%</span> â†—ï¸                    â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ ğŸ¯ ä¸»è¦äº®ç‚¹:                            â”‚         â”‚
â”‚  â”‚ â”œâ”€ ä¼ä¸šå®¢æˆ·å¢é•¿<span class="hljs-number">35</span><span class="hljs-operator">%</span>                     â”‚         â”‚
â”‚  â”‚ â”œâ”€ ç»­çº¦ç‡è¾¾åˆ°<span class="hljs-number">92</span><span class="hljs-operator">%</span>                       â”‚         â”‚
â”‚  â”‚ â””â”€ æ–°äº§å“è´¡çŒ®<span class="hljs-number">30</span><span class="hljs-operator">%</span>è¥æ”¶                   â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ [æŸ¥çœ‹è¯¦ç»†æŠ¥è¡¨] [å¯¼å‡ºExcel]             â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                      â”‚
â”‚  <span class="hljs-number">09</span>:<span class="hljs-number">31</span> è€æ¿: "ä¸é”™ï¼å‘å±•åŠ¿å¤´å¾ˆå¥½"                    â”‚
â”‚                                                      â”‚
â”‚  è€—æ—¶: <span class="hljs-number">2</span>ç§’                                           â”‚
â”‚  è€æ¿æ»¡æ„åº¦: ğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜Š                             â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h4 data-id="heading-35">æ›´å¤šæŸ¥è¯¢ç¤ºä¾‹</h4>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AIæ•°æ®åŠ©æ‰‹èƒ½ç†è§£çš„é—®é¢˜ç±»å‹                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  ğŸ’¬ <span class="hljs-string">"æœ€è¿‘ä¸€å‘¨æ–°å¢äº†å¤šå°‘ç”¨æˆ·ï¼Ÿ"</span>                  â”‚
â”‚  â†’ è‡ªåŠ¨ç»Ÿè®¡<span class="hljs-number">7</span>å¤©å†…çš„æ–°ç”¨æˆ·æ•°                      â”‚
â”‚                                                 â”‚
â”‚  ğŸ’¬ <span class="hljs-string">"å“ªä¸ªäº§å“å–å¾—æœ€å¥½ï¼Ÿ"</span>                        â”‚
â”‚  â†’ æŒ‰é”€é‡æ’åºï¼Œæ˜¾ç¤ºTop10                        â”‚
â”‚                                                 â”‚
â”‚  ğŸ’¬ <span class="hljs-string">"å¯¹æ¯”ä¸€ä¸‹è¿™ä¸ªæœˆå’Œä¸Šä¸ªæœˆçš„æ•°æ®"</span>              â”‚
â”‚  â†’ ç”Ÿæˆå¯¹æ¯”æŠ¥è¡¨å’Œå¯è§†åŒ–å›¾è¡¨                     â”‚
â”‚                                                 â”‚
â”‚  ğŸ’¬ <span class="hljs-string">"å¸®æˆ‘é¢„æµ‹ä¸‹ä¸ªæœˆçš„é”€å”®é¢"</span>                    â”‚
â”‚  â†’ åŸºäºå†å²æ•°æ®è¿›è¡Œè¶‹åŠ¿é¢„æµ‹                     â”‚
â”‚                                                 â”‚
â”‚  ğŸ’¬ <span class="hljs-string">"å“ªäº›å®¢æˆ·æœ€è¿‘æ²¡æœ‰ä¸‹å•ï¼Ÿ"</span>                    â”‚
â”‚  â†’ è¯†åˆ«æµå¤±é£é™©å®¢æˆ·                             â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h3 data-id="heading-36">åœºæ™¯å››ï¼šä»£ç å®¡æŸ¥åŠ©æ‰‹</h3>
<p><strong>èƒŒæ™¯</strong>ï¼šå¼€å‘è€…æäº¤ä»£ç åˆ°ç¾¤é‡Œè¯·æ±‚å®¡æŸ¥</p>
<pre><code class="hljs language-csharp" lang="csharp">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’» ä»£ç å®¡æŸ¥åœºæ™¯                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  å°æ: <span class="hljs-string">"å¤§å®¶å¸®å¿™çœ‹çœ‹è¿™æ®µä»£ç "</span>                        â”‚
â”‚  [ç²˜è´´ä»£ç ]                                          â”‚
â”‚                                                      â”‚
â”‚         â†“ ä»£ç å®¡æŸ¥Subagentè‡ªåŠ¨è§¦å‘                   â”‚
â”‚                                                      â”‚
â”‚  ğŸ¤– AIåŠ©æ‰‹åˆ†æä¸­...                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ ğŸ“‹ å®¡æŸ¥æŠ¥å‘Š                             â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ â­ ä»£ç è´¨é‡è¯„åˆ†: <span class="hljs-number">85</span>/<span class="hljs-number">100</span>                â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ âœ… ä¼˜ç‚¹:                                â”‚         â”‚
â”‚  â”‚ â”œâ”€ å˜é‡å‘½åè§„èŒƒ                        â”‚         â”‚
â”‚  â”‚ â”œâ”€ ä»£ç ç»“æ„æ¸…æ™°                        â”‚         â”‚
â”‚  â”‚ â””â”€ æ³¨é‡Šå……åˆ†                            â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ âš ï¸ éœ€è¦æ”¹è¿›:                            â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">1.</span> æ½œåœ¨ç©ºæŒ‡é’ˆå¼‚å¸¸ (ç¬¬<span class="hljs-number">15</span>è¡Œ)             â”‚         â”‚
â”‚  â”‚    å»ºè®®: æ·»åŠ <span class="hljs-literal">null</span>æ£€æŸ¥                   â”‚         â”‚
â”‚  â”‚    <span class="hljs-keyword">if</span> (user != <span class="hljs-literal">null</span>) { ... }           â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">2.</span> æ€§èƒ½é—®é¢˜ (ç¬¬<span class="hljs-number">23</span><span class="hljs-number">-30</span>è¡Œ)                â”‚         â”‚
â”‚  â”‚    å»ºè®®: ä½¿ç”¨HashMapä»£æ›¿éå†            â”‚         â”‚
â”‚  â”‚    æ—¶é—´å¤æ‚åº¦: O(n) â†’ O(<span class="hljs-number">1</span>)             â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">3.</span> ç¼ºå°‘é”™è¯¯å¤„ç† (ç¬¬<span class="hljs-number">42</span>è¡Œ)               â”‚         â”‚
â”‚  â”‚    å»ºè®®: æ·»åŠ <span class="hljs-keyword">try</span>-<span class="hljs-keyword">catch</span>                  â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ ğŸ“ ç”Ÿæˆçš„å•å…ƒæµ‹è¯•:                      â”‚         â”‚
â”‚  â”‚ [æŸ¥çœ‹æµ‹è¯•ä»£ç ]                          â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ ğŸ”’ å®‰å…¨æ£€æŸ¥: âœ… æœªå‘ç°å®‰å…¨é—®é¢˜          â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                      â”‚
â”‚  å°æ: <span class="hljs-string">"å¥½çš„ï¼Œæˆ‘é©¬ä¸Šä¿®æ”¹ï¼"</span>                          â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-37">ğŸ¯ ç¬¬å…­ç« ï¼šæ¶æ„ä¼˜åŠ¿åˆ†æ</h2>
<h3 data-id="heading-38">å¯¹æ¯”ï¼šä¼ ç»Ÿæ–¹å¼ vs MCPæ¶æ„</h3>
<pre><code class="hljs language-erlang" lang="erlang">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              å¼€å‘æ•ˆç‡å¯¹æ¯”                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  ğŸ“… å¼€å‘æ—¶é—´                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
â”‚  ä¼ ç»Ÿæ–¹å¼: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (<span class="hljs-number">2</span>ä¸ªæœˆ)              â”‚
â”‚  MCPæ¶æ„:  â–ˆâ–ˆâ–ˆâ–ˆ (<span class="hljs-number">2</span>å‘¨)                                    â”‚
â”‚  æ•ˆç‡æå‡: <span class="hljs-number">75</span><span class="hljs-comment">%                                           â”‚</span>
â”‚                                                          â”‚
â”‚  ğŸ‘¥ å›¢é˜Ÿåä½œ                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
â”‚  ä¼ ç»Ÿæ–¹å¼: <span class="hljs-number">1</span>äººä¸²è¡Œå¼€å‘ï¼Œäº’ç›¸ç­‰å¾…                         â”‚
â”‚  MCPæ¶æ„:  <span class="hljs-number">4</span>äººå¹¶è¡Œå¼€å‘ï¼Œäº’ä¸å¹²æ‰°                         â”‚
â”‚  äººæ•ˆæå‡: <span class="hljs-number">4</span>å€                                           â”‚
â”‚                                                          â”‚
â”‚  ğŸ› Bugç‡                                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
â”‚  ä¼ ç»Ÿæ–¹å¼: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (é«˜è€¦åˆï¼Œæ”¹ä¸€å¤„å½±å“å…¨å±€)             â”‚
â”‚  MCPæ¶æ„:  â–ˆâ–ˆ (æ¨¡å—ç‹¬ç«‹ï¼Œå½±å“èŒƒå›´å¯æ§)                   â”‚
â”‚  è´¨é‡æå‡: <span class="hljs-number">75</span><span class="hljs-comment">%                                           â”‚</span>
â”‚                                                          â”‚
â”‚  ğŸ”§ ç»´æŠ¤æˆæœ¬                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
â”‚  ä¼ ç»Ÿæ–¹å¼: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ (æ¯æ¬¡æ”¹åŠ¨éƒ½è¦å…¨é¢æµ‹è¯•)           â”‚
â”‚  MCPæ¶æ„:  â–ˆâ–ˆâ–ˆ (åªæµ‹è¯•æ”¹åŠ¨çš„Subagent)                    â”‚
â”‚  æˆæœ¬é™ä½: <span class="hljs-number">75</span><span class="hljs-comment">%                                           â”‚</span>
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-39">å¯æ‰©å±•æ€§å¯¹æ¯”</h3>
<pre><code class="hljs language-c" lang="c">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–°å¢åŠŸèƒ½ï¼šå›¾åƒè¯†åˆ«èƒ½åŠ›                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  ä¼ ç»Ÿæ–¹å¼:                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ <span class="hljs-number">1.</span> ä¿®æ”¹ä¸»æœåŠ¡ä»£ç  (å½±å“ç°æœ‰åŠŸèƒ½)       â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">2.</span> é‡æ–°æµ‹è¯•æ‰€æœ‰åŠŸèƒ½ (æµ‹è¯•å‘¨æœŸé•¿)       â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">3.</span> é‡æ–°éƒ¨ç½²æ•´ä¸ªç³»ç»Ÿ (é£é™©å¤§)           â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">4.</span> å¦‚æœå‡ºé—®é¢˜ï¼Œæ•´ä¸ªç³»ç»Ÿä¸å¯ç”¨          â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚  è€—æ—¶: <span class="hljs-number">1</span><span class="hljs-number">-2</span>å‘¨                                         â”‚
â”‚  é£é™©: âš ï¸âš ï¸âš ï¸âš ï¸âš ï¸ å¾ˆé«˜                              â”‚
â”‚                                                      â”‚
â”‚  MCPæ¶æ„:                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ <span class="hljs-number">1.</span> å¼€å‘æ–°çš„ImageRecognitionSubagent    â”‚         â”‚
â”‚  â”‚    â”œâ”€ å®šä¹‰Skill                        â”‚         â”‚
â”‚  â”‚    â””â”€ å®ç°Subagent                     â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">2.</span> æ³¨å†Œåˆ°SkillManager                  â”‚         â”‚
â”‚  â”‚    skillManager.<span class="hljs-keyword">register</span>(æ–°Subagent)   â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">3.</span> ç‹¬ç«‹æµ‹è¯•æ–°Subagent                  â”‚         â”‚
â”‚  â”‚    ç°æœ‰åŠŸèƒ½å®Œå…¨ä¸å—å½±å“                â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ <span class="hljs-number">4.</span> çƒ­éƒ¨ç½²ï¼ˆä¸åœæœºï¼‰                    â”‚         â”‚
â”‚  â”‚    å…¶ä»–åŠŸèƒ½ç»§ç»­æ­£å¸¸è¿è¡Œ                â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚  è€—æ—¶: <span class="hljs-number">2</span><span class="hljs-number">-3</span>å¤©                                         â”‚
â”‚  é£é™©: âœ… å¾ˆä½                                       â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-40">æ€§èƒ½ä¼˜åŠ¿</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">ğŸš€</span> <span class="hljs-string">å¹¶å‘å¤„ç†èƒ½åŠ›</span>                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="hljs-string">â”‚</span>                                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">åœºæ™¯:</span> <span class="hljs-string">åŒæ—¶å¤„ç†100ä¸ªè¯·æ±‚</span>                       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">ä¼ ç»Ÿå•ä½“æœåŠ¡:</span>                                 <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span> <span class="hljs-string">æ‰€æœ‰è¯·æ±‚æ’é˜Ÿ</span>                      <span class="hljs-string">â”‚</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span> <span class="hljs-string">è¯·æ±‚1</span> <span class="hljs-string">â†’</span> <span class="hljs-string">è¯·æ±‚2</span> <span class="hljs-string">â†’</span> <span class="hljs-string">è¯·æ±‚3</span> <span class="hljs-string">â†’</span> <span class="hljs-string">...</span> <span class="hljs-string">â†’</span> <span class="hljs-number">100</span> <span class="hljs-string">â”‚</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span> <span class="hljs-string">ä¸²è¡Œå¤„ç†ï¼Œæ…¢</span>                      <span class="hljs-string">â”‚</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">å¹³å‡å“åº”æ—¶é—´:</span> <span class="hljs-number">5</span><span class="hljs-string">ç§’</span>                             <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">MCPæ¶æ„</span> <span class="hljs-string">+</span> <span class="hljs-string">å¤šSubagentå®ä¾‹:</span>                     <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span> <span class="hljs-string">è´Ÿè½½å‡è¡¡åˆ†å‘</span>                      <span class="hljs-string">â”‚</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>                                  <span class="hljs-string">â”‚</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span> <span class="hljs-attr">Subagent1:</span> <span class="hljs-string">è¯·æ±‚1,5,9...</span>          <span class="hljs-string">â”‚</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span> <span class="hljs-attr">Subagent2:</span> <span class="hljs-string">è¯·æ±‚2,6,10...</span>         <span class="hljs-string">â”‚</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span> <span class="hljs-attr">Subagent3:</span> <span class="hljs-string">è¯·æ±‚3,7,11...</span>         <span class="hljs-string">â”‚</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span> <span class="hljs-attr">Subagent4:</span> <span class="hljs-string">è¯·æ±‚4,8,12...</span>         <span class="hljs-string">â”‚</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span>                                  <span class="hljs-string">â”‚</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”‚</span> <span class="hljs-string">å¹¶è¡Œå¤„ç†ï¼Œå¿«</span>                      <span class="hljs-string">â”‚</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">å¹³å‡å“åº”æ—¶é—´:</span> <span class="hljs-number">1.2</span><span class="hljs-string">ç§’</span>                           <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">æ€§èƒ½æå‡:</span> <span class="hljs-number">4.2</span><span class="hljs-string">å€</span>                               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre>
<hr/>
<h2 data-id="heading-41">ğŸ“Š ç¬¬ä¸ƒç« ï¼šæœ€ä½³å®è·µä¸å»ºè®®</h2>
<h3 data-id="heading-42">Skillè®¾è®¡åŸåˆ™</h3>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">âœ¨</span> <span class="hljs-string">ä¼˜ç§€Skillè®¾è®¡çš„äº”å¤§åŸåˆ™</span>                   <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="hljs-string">â”‚</span>                                              <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-number">1</span><span class="hljs-string">ï¸âƒ£</span> <span class="hljs-string">å•ä¸€èŒè´£</span>                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>    <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">âœ…</span> <span class="hljs-string">å¥½ä¾‹å­:</span>                                  <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>     <span class="hljs-string">"æ–‡æ¡£å¤„ç†"</span> <span class="hljs-string">Skill</span>                         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>     <span class="hljs-string">ä¸“æ³¨äºæ–‡æ¡£ç›¸å…³çš„æ‰€æœ‰æ“ä½œ</span>                 <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                              <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">âŒ</span> <span class="hljs-string">åä¾‹å­:</span>                                  <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>     <span class="hljs-string">"ä¸‡èƒ½åŠ©æ‰‹"</span> <span class="hljs-string">Skill</span>                         <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>     <span class="hljs-string">ä»€ä¹ˆéƒ½åšï¼ŒèŒè´£ä¸æ¸…</span>                       <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                              <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-number">2</span><span class="hljs-string">ï¸âƒ£</span> <span class="hljs-string">æ¸…æ™°çš„è¾“å…¥è¾“å‡º</span>                          <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>    <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">âœ…</span> <span class="hljs-string">è¯¦ç»†å®šä¹‰:</span>                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>     <span class="hljs-string">è¾“å…¥:</span> { <span class="hljs-attr">text:</span> <span class="hljs-string">string</span>, <span class="hljs-attr">maxLength:</span> <span class="hljs-string">number</span> }<span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>     <span class="hljs-string">è¾“å‡º:</span> { <span class="hljs-attr">summary:</span> <span class="hljs-string">string</span>, <span class="hljs-attr">keyPoints:</span> [] } <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                              <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">âŒ</span> <span class="hljs-string">æ¨¡ç³Šå®šä¹‰:</span>                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>     <span class="hljs-string">è¾“å…¥:</span> <span class="hljs-string">any</span>                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>     <span class="hljs-string">è¾“å‡º:</span> <span class="hljs-string">any</span>                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                              <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-number">3</span><span class="hljs-string">ï¸âƒ£</span> <span class="hljs-string">ç‰ˆæœ¬ç®¡ç†</span>                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>    <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">é‡‡ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬:</span> <span class="hljs-string">v1.2.3</span>                      <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-string">ä¸»ç‰ˆæœ¬:</span> <span class="hljs-string">ä¸å…¼å®¹çš„APIä¿®æ”¹</span>                  <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-string">æ¬¡ç‰ˆæœ¬:</span> <span class="hljs-string">å‘åå…¼å®¹çš„åŠŸèƒ½æ–°å¢</span>               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€</span> <span class="hljs-string">ä¿®è®¢ç‰ˆæœ¬:</span> <span class="hljs-string">å‘åå…¼å®¹çš„bugä¿®å¤</span>              <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                              <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-number">4</span><span class="hljs-string">ï¸âƒ£</span> <span class="hljs-string">æ€§èƒ½æŒ‡æ ‡</span>                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>    <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">æ˜ç¡®å£°æ˜:</span>                                   <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-string">å“åº”æ—¶é—´:</span> <span class="hljs-string">&lt;</span> <span class="hljs-number">2</span><span class="hljs-string">ç§’</span>                          <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-string">å‡†ç¡®ç‡:</span> <span class="hljs-string">&gt;</span> <span class="hljs-number">90</span><span class="hljs-string">%</span>                            <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-string">å¹¶å‘èƒ½åŠ›:</span> <span class="hljs-number">100</span> <span class="hljs-string">QPS</span>                        <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€</span> <span class="hljs-string">èµ„æºæ¶ˆè€—:</span> <span class="hljs-string">å†…å­˜</span> <span class="hljs-string">&lt;</span> <span class="hljs-string">512MB</span>                   <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                              <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-number">5</span><span class="hljs-string">ï¸âƒ£</span> <span class="hljs-string">é”™è¯¯å¤„ç†</span>                                <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€</span>    <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">å®šä¹‰æ¸…æ™°çš„é”™è¯¯ç :</span>                           <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-attr">1000:</span> <span class="hljs-string">å‚æ•°é”™è¯¯</span>                           <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-attr">2000:</span> <span class="hljs-string">å¤–éƒ¨APIé”™è¯¯</span>                        <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â”œâ”€</span> <span class="hljs-attr">3000:</span> <span class="hljs-string">è¶…æ—¶</span>                               <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>  <span class="hljs-string">â””â”€</span> <span class="hljs-attr">4000:</span> <span class="hljs-string">èµ„æºä¸è¶³</span>                           <span class="hljs-string">â”‚</span>
<span class="hljs-string">â”‚</span>                                              <span class="hljs-string">â”‚</span>
<span class="hljs-string">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
</code></pre>
<h3 data-id="heading-43">Subagentå¼€å‘å»ºè®®</h3>
<pre><code class="hljs language-erlang" lang="erlang">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¤– ä¼˜ç§€Subagentå¼€å‘æŒ‡å—                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  ğŸ“‹ å¼€å‘æ¸…å•                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚  âœ… å®Œå–„çš„æ—¥å¿—è®°å½•                           â”‚
â”‚     æ¯ä¸ªå…³é”®æ­¥éª¤éƒ½æœ‰æ—¥å¿—                     â”‚
â”‚     ä¾¿äºé—®é¢˜æ’æŸ¥                             â”‚
â”‚                                              â”‚
â”‚  âœ… ä¼˜é›…çš„é”™è¯¯å¤„ç†                           â”‚
â”‚     <span class="hljs-keyword">try</span>-<span class="hljs-keyword">catch</span>åŒ…è£¹å…³é”®ä»£ç                     â”‚
â”‚     ç»™ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º                     â”‚
â”‚                                              â”‚
â”‚  âœ… èµ„æºç®¡ç†                                 â”‚
â”‚     åŠæ—¶é‡Šæ”¾ä¸ç”¨çš„èµ„æº                       â”‚
â”‚     é¿å…å†…å­˜æ³„æ¼                             â”‚
â”‚                                              â”‚
â”‚  âœ… é‡è¯•æœºåˆ¶                                 â”‚
â”‚     å¯¹ä¸´æ—¶æ€§é”™è¯¯è‡ªåŠ¨é‡è¯•                     â”‚
â”‚     æŒ‡æ•°é€€é¿ç­–ç•¥                             â”‚
â”‚                                              â”‚
â”‚  âœ… è¶…æ—¶æ§åˆ¶                                 â”‚
â”‚     é¿å…æ— é™ç­‰å¾…                             â”‚
â”‚     è¶…æ—¶åè¿”å›é”™è¯¯                           â”‚
â”‚                                              â”‚
â”‚  âœ… å¥åº·æ£€æŸ¥                                 â”‚
â”‚     å®šæœŸæ£€æŸ¥ä¾èµ–æœåŠ¡çŠ¶æ€                     â”‚
â”‚     ä¸»åŠ¨ä¸ŠæŠ¥å¥åº·çŠ¶æ€                         â”‚
â”‚                                              â”‚
â”‚  âœ… ç›‘æ§æŒ‡æ ‡                                 â”‚
â”‚     è®°å½•æ‰§è¡Œæ¬¡æ•°ã€è€—æ—¶ã€æˆåŠŸç‡               â”‚
â”‚     ä¾¿äºæ€§èƒ½ä¼˜åŒ–                             â”‚
â”‚                                              â”‚
â”‚  âœ… å•å…ƒæµ‹è¯•                                 â”‚
â”‚     æµ‹è¯•è¦†ç›–ç‡ &gt; <span class="hljs-number">80</span><span class="hljs-comment">%                         â”‚</span>
â”‚     åŒ…å«è¾¹ç•Œæƒ…å†µæµ‹è¯•                         â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-44">ç³»ç»Ÿç›‘æ§ç­–ç•¥</h3>
<pre><code class="hljs language-erlang" lang="erlang">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š å®Œå–„çš„ç›‘æ§ä½“ç³»                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  å®æ—¶ç›‘æ§çœ‹æ¿                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ MCP AIåŠ©æ‰‹ç³»ç»Ÿç›‘æ§                      â”‚         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ ğŸŸ¢ ç³»ç»ŸçŠ¶æ€: æ­£å¸¸                       â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ ğŸ“Š æ€»è¯·æ±‚é‡: <span class="hljs-number">12</span>,<span class="hljs-number">345</span> (ä»Šå¤©)             â”‚         â”‚
â”‚  â”‚ â±ï¸ å¹³å‡å“åº”: <span class="hljs-number">1.2</span>ç§’                     â”‚         â”‚
â”‚  â”‚ âœ… æˆåŠŸç‡: <span class="hljs-number">99.2</span><span class="hljs-comment">%                        â”‚         â”‚</span>
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ SubagentçŠ¶æ€:                          â”‚         â”‚
â”‚  â”‚ â”œâ”€ ğŸ“„ æ–‡æ¡£å¤„ç†: ğŸŸ¢ å¥åº· (<span class="hljs-number">98</span><span class="hljs-comment">% CPU)      â”‚         â”‚</span>
â”‚  â”‚ â”œâ”€ ğŸ“Š æ•°æ®åˆ†æ: ğŸŸ¢ å¥åº· (<span class="hljs-number">65</span><span class="hljs-comment">% CPU)      â”‚         â”‚</span>
â”‚  â”‚ â”œâ”€ ğŸŒ ç¿»è¯‘æœåŠ¡: ğŸŸ¡ è­¦å‘Š (CPUé«˜)        â”‚         â”‚
â”‚  â”‚ â””â”€ ğŸ’» ä»£ç å®¡æŸ¥: ğŸŸ¢ å¥åº· (<span class="hljs-number">45</span><span class="hljs-comment">% CPU)      â”‚         â”‚</span>
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ APIè°ƒç”¨ç»Ÿè®¡:                            â”‚         â”‚
â”‚  â”‚ â”œâ”€ OpenAI: <span class="hljs-number">234</span>æ¬¡ ($<span class="hljs-number">12.5</span>)              â”‚         â”‚
â”‚  â”‚ â”œâ”€ Whisper: <span class="hljs-number">45</span>æ¬¡ ($<span class="hljs-number">3.2</span>)               â”‚         â”‚
â”‚  â”‚ â””â”€ Translation: <span class="hljs-number">567</span>æ¬¡ ($<span class="hljs-number">5.8</span>)          â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â”‚ æœ€è¿‘é”™è¯¯:                               â”‚         â”‚
â”‚  â”‚ â”œâ”€ <span class="hljs-number">10</span>:<span class="hljs-number">23</span> ç¿»è¯‘APIè¶…æ—¶ (å·²é‡è¯•æˆåŠŸ)      â”‚         â”‚
â”‚  â”‚ â””â”€ <span class="hljs-number">09</span>:<span class="hljs-number">15</span> æ•°æ®åº“æ…¢æŸ¥è¯¢ (å·²ä¼˜åŒ–)         â”‚         â”‚
â”‚  â”‚                                        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                      â”‚
â”‚  å‘Šè­¦è§„åˆ™:                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ âš ï¸ CPUä½¿ç”¨ç‡ &gt; <span class="hljs-number">80</span><span class="hljs-comment">%                      â”‚         â”‚</span>
â”‚  â”‚ âš ï¸ å“åº”æ—¶é—´ &gt; <span class="hljs-number">3</span>ç§’                       â”‚         â”‚
â”‚  â”‚ âš ï¸ é”™è¯¯ç‡ &gt; <span class="hljs-number">5</span><span class="hljs-comment">%                          â”‚         â”‚</span>
â”‚  â”‚ âš ï¸ APIè´¹ç”¨å¼‚å¸¸å¢é•¿                      â”‚         â”‚
â”‚  â”‚ ğŸš¨ Subagentä¸å¥åº·                       â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-45">ğŸ“ ç¬¬å…«ç« ï¼šæ€»ç»“ä¸å±•æœ›</h2>
<h3 data-id="heading-46">å›é¡¾ï¼šæˆ‘ä»¬è§£å†³äº†ä»€ä¹ˆé—®é¢˜</h3>
<pre><code class="hljs language-erlang" lang="erlang">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ éœ€æ±‚å®Œæˆæƒ…å†µæ£€æŸ¥è¡¨                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  âœ… æ–‡æ¡£åŠ©æ‰‹                                         â”‚
â”‚     â”œâ”€ éŸ³é¢‘è½¬æ–‡æœ¬ âœ…                                 â”‚
â”‚     â”œâ”€ è‡ªåŠ¨ç”Ÿæˆæ‘˜è¦ âœ…                               â”‚
â”‚     â”œâ”€ æå–å¾…åŠäº‹é¡¹ âœ…                               â”‚
â”‚     â””â”€ æ™ºèƒ½åˆ†ç±»å­˜æ¡£ âœ…                               â”‚
â”‚                                                      â”‚
â”‚  âœ… æ•°æ®åŠ©æ‰‹                                         â”‚
â”‚     â”œâ”€ è‡ªç„¶è¯­è¨€æŸ¥è¯¢ âœ…                               â”‚
â”‚     â”œâ”€ ç”Ÿæˆå¯è§†åŒ–æŠ¥è¡¨ âœ…                             â”‚
â”‚     â”œâ”€ è¶‹åŠ¿åˆ†æ âœ…                                   â”‚
â”‚     â””â”€ æ™ºèƒ½é¢„æµ‹ âœ…                                   â”‚
â”‚                                                      â”‚
â”‚  âœ… ç¿»è¯‘åŠ©æ‰‹                                         â”‚
â”‚     â”œâ”€ å®æ—¶ç¿»è¯‘ âœ…                                   â”‚
â”‚     â”œâ”€ å¤šè¯­è¨€æ”¯æŒ âœ…                                 â”‚
â”‚     â”œâ”€ ä¸“ä¸šæœ¯è¯­å‡†ç¡® âœ…                               â”‚
â”‚     â””â”€ è¯­æ°”æ™ºèƒ½è°ƒæ•´ âœ…                               â”‚
â”‚                                                      â”‚
â”‚  âœ… ä»£ç åŠ©æ‰‹                                         â”‚
â”‚     â”œâ”€ ä»£ç å®¡æŸ¥ âœ…                                   â”‚
â”‚     â”œâ”€ ç”Ÿæˆæµ‹è¯• âœ…                                   â”‚
â”‚     â”œâ”€ Bugåˆ†æ âœ…                                    â”‚
â”‚     â””â”€ è´¨é‡è¯„åˆ† âœ…                                   â”‚
â”‚                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚                                                      â”‚
â”‚  â° å¼€å‘æ—¶é—´: <span class="hljs-number">2</span>å‘¨ âœ… (æŒ‰æ—¶å®Œæˆ)                      â”‚
â”‚  ğŸ¯ å“åº”æ—¶é—´: <span class="hljs-number">1.2</span>ç§’ âœ… (&lt; <span class="hljs-number">2</span>ç§’)                      â”‚
â”‚  ğŸ“Š å‡†ç¡®ç‡: <span class="hljs-number">96</span><span class="hljs-comment">% âœ… (&gt; 90%)                          â”‚</span>
â”‚  ğŸ”§ æ‰©å±•æ€§: ä¼˜ç§€ âœ…                                  â”‚
â”‚                                                      â”‚
â”‚  ğŸ‰ é¡¹ç›®æˆåŠŸï¼                                       â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-47">MCPæ¶æ„çš„æ ¸å¿ƒä»·å€¼</h3>
<pre><code class="hljs language-scss" lang="scss">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’ ä¸‰å¤§æ ¸å¿ƒä»·å€¼                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  <span class="hljs-number">1</span>ï¸âƒ£ æ ‡å‡†åŒ– (MCPåè®®)                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚  ç»Ÿä¸€çš„é€šä¿¡æ ‡å‡†                                 â”‚
â”‚  â†’ é™ä½å­¦ä¹ æˆæœ¬                                 â”‚
â”‚  â†’ å·¥å…·ç”Ÿæ€ä¸°å¯Œ                                 â”‚
â”‚  â†’ æ˜“äºé›†æˆ                                     â”‚
â”‚                                                 â”‚
â”‚  <span class="hljs-number">2</span>ï¸âƒ£ æ¨¡å—åŒ– (Skillå®šä¹‰)                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚  æ¸…æ™°çš„èƒ½åŠ›åˆ’åˆ†                                 â”‚
â”‚  â†’ èŒè´£æ˜ç¡®                                     â”‚
â”‚  â†’ æ˜“äºç†è§£                                     â”‚
â”‚  â†’ æ–¹ä¾¿æ‰©å±•                                     â”‚
â”‚                                                 â”‚
â”‚  <span class="hljs-number">3</span>ï¸âƒ£ è‡ªåŠ¨åŒ– (Subagentç®¡ç†)                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚  æ™ºèƒ½ç”Ÿå‘½å‘¨æœŸç®¡ç†                               â”‚
â”‚  â†’ è‡ªåŠ¨å¯åœ                                     â”‚
â”‚  â†’ å¥åº·æ£€æŸ¥                                     â”‚
â”‚  â†’ æ•…éšœæ¢å¤                                     â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-48">é€‚ç”¨åœºæ™¯</h3>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ MCPæ¶æ„ç‰¹åˆ«é€‚åˆ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  âœ… éœ€è¦é›†æˆå¤šä¸ªAIèƒ½åŠ›çš„ç³»ç»Ÿ                 â”‚
â”‚     å¦‚ï¼šæ™ºèƒ½åŠ©æ‰‹ã€èŠå¤©æœºå™¨äºº                 â”‚
â”‚                                              â”‚
â”‚  âœ… åŠŸèƒ½éœ€è¦é¢‘ç¹æ‰©å±•çš„é¡¹ç›®                   â”‚
â”‚     å¦‚ï¼šSaaSå¹³å°ã€ä¼ä¸šåº”ç”¨                   â”‚
â”‚                                              â”‚
â”‚  âœ… å¤šå›¢é˜Ÿåä½œå¼€å‘çš„åœºæ™¯                     â”‚
â”‚     å¦‚ï¼šå¤§å‹é¡¹ç›®ã€å¾®æœåŠ¡æ¶æ„                 â”‚
â”‚                                              â”‚
â”‚  âœ… å¯¹æ€§èƒ½å’Œç¨³å®šæ€§è¦æ±‚é«˜çš„ç³»ç»Ÿ               â”‚
â”‚     å¦‚ï¼šç”Ÿäº§ç¯å¢ƒã€é«˜å¹¶å‘åº”ç”¨                 â”‚
â”‚                                              â”‚
â”‚  âœ… éœ€è¦çµæ´»æ›¿æ¢AIæœåŠ¡æä¾›å•†                 â”‚
â”‚     å¦‚ï¼šæˆæœ¬ä¼˜åŒ–ã€å¤šäº‘éƒ¨ç½²                   â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-49">æœªæ¥å±•æœ›</h3>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”® åŸºäºMCPæ¶æ„çš„æœªæ¥å¯èƒ½æ€§                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  ğŸš€ æ›´å¤šAIèƒ½åŠ›                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  â”œâ”€ ğŸ–¼ï¸ å›¾åƒè¯†åˆ«ä¸ç”Ÿæˆ                                â”‚
â”‚  â”œâ”€ ğŸµ éŸ³é¢‘å¤„ç†ä¸ç”Ÿæˆ                                â”‚
â”‚  â”œâ”€ ğŸ¬ è§†é¢‘åˆ†æä¸ç¼–è¾‘                                â”‚
â”‚  â”œâ”€ ğŸ§  çŸ¥è¯†å›¾è°±æ„å»º                                  â”‚
â”‚  â””â”€ ğŸ¤ å¤šAgentåä½œ                                   â”‚
â”‚                                                      â”‚
â”‚  âš¡ æ€§èƒ½ä¼˜åŒ–                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  â”œâ”€ è¾¹ç¼˜è®¡ç®—éƒ¨ç½²                                     â”‚
â”‚  â”œâ”€ æ¨¡å‹å‹ç¼©ä¸åŠ é€Ÿ                                   â”‚
â”‚  â”œâ”€ æ™ºèƒ½ç¼“å­˜ç­–ç•¥                                     â”‚
â”‚  â””â”€ åŠ¨æ€è´Ÿè½½å‡è¡¡                                     â”‚
â”‚                                                      â”‚
â”‚  ğŸ¨ ç”¨æˆ·ä½“éªŒ                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  â”œâ”€ å¯¹è¯å¼äº¤äº’                                       â”‚
â”‚  â”œâ”€ ä¸ªæ€§åŒ–æ¨è                                       â”‚
â”‚  â”œâ”€ ä¸»åŠ¨å­¦ä¹ ç”¨æˆ·ä¹ æƒ¯                                 â”‚
â”‚  â””â”€ å¤šæ¨¡æ€äº¤äº’                                       â”‚
â”‚                                                      â”‚
â”‚  ğŸ” å®‰å…¨ä¸éšç§                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  â”œâ”€ æ•°æ®åŠ å¯†                                         â”‚
â”‚  â”œâ”€ æƒé™ç²¾ç»†æ§åˆ¶                                     â”‚
â”‚  â”œâ”€ å®¡è®¡æ—¥å¿—                                         â”‚
â”‚  â””â”€ éšç§è®¡ç®—                                         â”‚
â”‚                                                      â”‚
â”‚  ğŸ’° å•†ä¸šåŒ–                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  â”œâ”€ æŒ‰Skillè®¡è´¹                                      â”‚
â”‚  â”œâ”€ Skillå¸‚åœº                                        â”‚
â”‚  â”œâ”€ ç¬¬ä¸‰æ–¹Skillæ¥å…¥                                  â”‚
â”‚  â””â”€ APIæœåŠ¡åŒ–                                        â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr/>
<h2 data-id="heading-50">ğŸ’ ç»“è¯­</h2>
<h3 data-id="heading-51">ä¸‰å¥è¯æ€»ç»“</h3>
<pre><code class="hljs language-ini" lang="ini">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                            â”‚
â”‚  ğŸ”Œ <span class="hljs-attr">MCP</span> = ç»Ÿä¸€çš„è¯­è¨€                       â”‚
â”‚     è®©æ‰€æœ‰AIèƒ½åŠ›ç”¨åŒä¸€ç§æ–¹å¼äº¤æµ            â”‚
â”‚                                            â”‚
â”‚  âœ¨ <span class="hljs-attr">Skill</span> = æ¸…æ™°çš„èŒè´£                     â”‚
â”‚     æ˜ç¡®å®šä¹‰"èƒ½åšä»€ä¹ˆ"                      â”‚
â”‚                                            â”‚
â”‚  ğŸ¤– <span class="hljs-attr">Subagent</span> = å¯é çš„æ‰§è¡Œè€…                â”‚
â”‚     çœŸæ­£æŠŠäº‹æƒ…åšå¥½                          â”‚
â”‚                                            â”‚
â”‚  ä¸‰è€…ç»“åˆ = ä¼˜ç§€çš„AIç³»ç»Ÿ ğŸ‰                â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-52">ç»™å¼€å‘è€…çš„å»ºè®®</h3>
<pre><code class="hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¡ å®è·µå»ºè®®                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                              â”‚
â”‚  1. ä»å°å¤„ç€æ‰‹                               â”‚
â”‚     å…ˆå®ç°1-2ä¸ªSkill                         â”‚
â”‚     éªŒè¯æ¶æ„å¯è¡Œæ€§                           â”‚
â”‚                                              â”‚
â”‚  2. æŒç»­ä¼˜åŒ–                                 â”‚
â”‚     æ ¹æ®ç›‘æ§æ•°æ®è°ƒä¼˜                         â”‚
â”‚     ä¸æ–­æ”¹è¿›Skillå®šä¹‰                        â”‚
â”‚                                              â”‚
â”‚  3. æ–‡æ¡£å…ˆè¡Œ                                 â”‚
â”‚     å…ˆå†™Skillå®šä¹‰æ–‡æ¡£                        â”‚
â”‚     å†å¼€å‘Subagent                           â”‚
â”‚                                              â”‚
â”‚  4. æµ‹è¯•é©±åŠ¨                                 â”‚
â”‚     ä¸ºæ¯ä¸ªSkillå†™æµ‹è¯•ç”¨ä¾‹                    â”‚
â”‚     ä¿è¯è´¨é‡                                 â”‚
â”‚                                              â”‚
â”‚  5. æ‹¥æŠ±å˜åŒ–                                 â”‚
â”‚     MCPæ¶æ„è®©å˜åŒ–å˜ç®€å•                      â”‚
â”‚     ä¸è¦å®³æ€•é‡æ„                             â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-53">æœ€åçš„è¯</h3>
<blockquote>
<p><strong>MCP + Skill + Subagent</strong> ä¸ä»…æ˜¯ä¸€ç§æŠ€æœ¯æ¶æ„ï¼Œæ›´æ˜¯ä¸€ç§æ€ç»´æ–¹å¼ã€‚</p>
<p>å®ƒæ•™ä¼šæˆ‘ä»¬ï¼š</p>
<ul>
<li>ğŸ“ <strong>æ ‡å‡†åŒ–</strong>çš„åŠ›é‡</li>
<li>ğŸ§© <strong>æ¨¡å—åŒ–</strong>çš„ä»·å€¼</li>
<li>ğŸ¤– <strong>è‡ªåŠ¨åŒ–</strong>çš„é‡è¦æ€§</li>
</ul>
<p>å½“ä½ é¢å¯¹å¤æ‚çš„AIç³»ç»Ÿå¼€å‘æ—¶ï¼Œæƒ³æƒ³è¿™ä¸‰ä¸ªæ¦‚å¿µï¼š</p>
<ul>
<li>é€šä¿¡æ ‡å‡†åŒ–äº†å—ï¼Ÿâ†’ <strong>MCP</strong></li>
<li>èƒ½åŠ›å®šä¹‰æ¸…æ™°äº†å—ï¼Ÿâ†’ <strong>Skill</strong></li>
<li>å®ç°æ¨¡å—åŒ–äº†å—ï¼Ÿâ†’ <strong>Subagent</strong></li>
</ul>
<p>æ„¿è¿™å¥—æ¶æ„åŠ©ä½ æ„å»ºæ›´ä¼˜ç§€çš„AIç³»ç»Ÿï¼ğŸš€</p>
</blockquote>
<hr/>
<div align="left">
<p><strong>ç›¸å…³èµ„æº</strong></p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2F" target="_blank" title="https://modelcontextprotocol.io/" ref="nofollow noopener noreferrer">MCPå®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="#" title="#">ç¤ºä¾‹ä»£ç ä»“åº“</a></li>
<li><a href="#" title="#">æŠ€æœ¯äº¤æµç¤¾åŒº</a></li>
</ul>
<hr/>
<p>Made with â¤ï¸ for Developers</p>
</div></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Git ä¸­æ¨¡ç³Šæœç´¢åˆ†æ”¯åç§°å¹¶åˆ›å»ºæœ¬åœ°è·Ÿè¸ªåˆ†æ”¯]]></title>    <link>https://juejin.cn/post/7592912896592216083</link>    <guid>https://juejin.cn/post/7592912896592216083</guid>    <pubDate>2026-01-09T06:00:22.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592912896592216083" data-draft-id="7592912896592166931" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Git ä¸­æ¨¡ç³Šæœç´¢åˆ†æ”¯åç§°å¹¶åˆ›å»ºæœ¬åœ°è·Ÿè¸ªåˆ†æ”¯"/> <meta itemprop="keywords" content="Git"/> <meta itemprop="datePublished" content="2026-01-09T06:00:22.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Ryan_Deng"/> <meta itemprop="url" content="https://juejin.cn/user/1592553166353373"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Git ä¸­æ¨¡ç³Šæœç´¢åˆ†æ”¯åç§°å¹¶åˆ›å»ºæœ¬åœ°è·Ÿè¸ªåˆ†æ”¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1592553166353373/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Ryan_Deng
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T06:00:22.000Z" title="Fri Jan 09 2026 06:00:22 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡è®°å½•ä¸€æ¬¡é€šè¿‡å‘½ä»¤è¡Œæ¨¡ç³Šæœç´¢è¿œç¨‹åˆ†æ”¯åç§°ï¼Œç„¶åå†åˆ›å»ºæœ¬åœ°è·Ÿè¸ªåˆ†æ”¯çš„æ“ä½œã€‚</p>
<h3 data-id="heading-0">èƒŒæ™¯</h3>
<p>æ–°çš„è¿­ä»£å¼€å§‹äº†ï¼Œå›¢é˜Ÿä¼šåˆ›å»ºæ–°çš„è¿­ä»£åˆ†æ”¯ï¼Œä½†æ˜¯æˆ‘åªè®°å¾—åˆ†æ”¯åç§°åŒ…å«äº†â€œ246â€ï¼Œéœ€è¦ä»€ä¹ˆå‘½ä»¤æ‰èƒ½æŠŠè¿œç¨‹åˆ†æ”¯æ‹‰åˆ°æœ¬åœ°å‘¢ï¼Ÿ</p>
<p>ä¸‹é¢æ˜¯æˆ‘çš„æ“ä½œæ­¥éª¤ã€‚</p>
<h3 data-id="heading-1">æ“ä½œæ­¥éª¤</h3>
<p>1ã€æ‹‰å–æœ€æ–°çš„åˆ†æ”¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git pull
</code></pre>
<p>2ã€æ¨¡ç³Šæœç´¢åˆ†æ”¯ï¼Œä»¥â€œ246â€ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">git br -a | grep <span class="hljs-string">'246'</span>
</code></pre>
<p>å°†ä¼šçœ‹åˆ°è¾“å‡ºï¼Œæ¯”å¦‚ä¸‹é¢è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"> remotes/origin/feature/S246-1
</code></pre>
<p>3ã€åˆ›å»ºæœ¬åœ°åˆ†æ”¯ï¼ˆå¹¶è·Ÿè¸ªï¼‰</p>
<pre><code class="hljs language-bash" lang="bash">git sw -c feature/s246-1 origin/feature/S246-1
</code></pre>
<p>è¾“å‡ºï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">Updating files: <span class="hljs-number">100</span>% (<span class="hljs-number">448</span>/<span class="hljs-number">448</span>), done.
branch <span class="hljs-string">'feature/s246-1'</span> <span class="hljs-keyword">set</span> up to track <span class="hljs-string">'origin/feature/S246-1'</span> <span class="hljs-keyword">by</span> rebasing.
Switched to a <span class="hljs-keyword">new</span> branch <span class="hljs-string">'feature/s246-1'</span>
</code></pre>
<h3 data-id="heading-2">è¯´æ˜</h3>
<p>ä»¥ä¸Šå‘½ä»¤ä¸­çš„ brã€sw æ˜¯æˆ‘å®šä¹‰çš„åˆ«åï¼Œåˆ†åˆ«å¯¹åº” branchã€switchã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VS Code ä»£ç ç‰‡æ®µæ‰¹é‡ç”Ÿæˆ/ç»´æŠ¤å·¥å…·]]></title>    <link>https://juejin.cn/post/7592921639464665130</link>    <guid>https://juejin.cn/post/7592921639464665130</guid>    <pubDate>2026-01-09T06:18:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592921639464665130" data-draft-id="7592892218668875810" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VS Code ä»£ç ç‰‡æ®µæ‰¹é‡ç”Ÿæˆ/ç»´æŠ¤å·¥å…·"/> <meta itemprop="keywords" content="Visual Studio Code"/> <meta itemprop="datePublished" content="2026-01-09T06:18:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="MV3å‰ç«¯åŠ©æ‰‹"/> <meta itemprop="url" content="https://juejin.cn/user/4461156900276416"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VS Code ä»£ç ç‰‡æ®µæ‰¹é‡ç”Ÿæˆ/ç»´æŠ¤å·¥å…·
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4461156900276416/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    MV3å‰ç«¯åŠ©æ‰‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T06:18:20.000Z" title="Fri Jan 09 2026 06:18:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    21
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p><strong>å‘Šåˆ«é‡å¤ç¼–ç ï¼Œæ‹¥æŠ±é«˜æ•ˆå¼€å‘ï¼</strong><br/>
æœ¬æ–‡å°†ä»‹ç»ä¸€æ¬¾ç”± Chrome æ‰©å±•ç¨‹åºÂ <strong>ã€ŒMV3å‰ç«¯åŠ©æ‰‹ã€</strong>Â æä¾›çš„é«˜æ•ˆå·¥å…· â€”â€”Â <strong>VS Code ä»£ç ç‰‡æ®µæ‰¹é‡ç”Ÿæˆå™¨</strong>ã€‚é€šè¿‡å®ƒï¼Œä½ å¯ä»¥è½»æ¾åˆ›å»ºã€ç»´æŠ¤å’Œå¯¼å‡º VS Codeä»£ç ç‰‡æ®µï¼Œå¤§å¹…æå‡æ—¥å¸¸å¼€å‘æ•ˆç‡ã€‚</p>
</blockquote>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆä½ éœ€è¦ VS Code ä»£ç ç‰‡æ®µï¼Ÿ</h2>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åå¤ç¼–å†™ç›¸ä¼¼ç»“æ„çš„ä»£ç ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>Vue çš„ <code>vm.$message.success()</code></li>
<li>React çš„ <code>useEffect(() =&gt; {}, [])</code></li>
<li>æ§åˆ¶å°æ—¥å¿— <code>console.log('$1')</code></li>
<li>è‡ªå®šä¹‰ç»„ä»¶æ¨¡æ¿</li>
</ul>
<p>è¿™äº›é‡å¤æ€§å·¥ä½œä¸ä»…æµªè´¹æ—¶é—´ï¼Œè¿˜å®¹æ˜“å‡ºé”™ã€‚è€ŒÂ <strong>VS Code ä»£ç ç‰‡æ®µï¼ˆSnippetsï¼‰</strong>Â æ­£æ˜¯è§£å†³è¿™ä¸€ç—›ç‚¹çš„åˆ©å™¨ â€”â€” åªéœ€è¾“å…¥ç®€çŸ­å‰ç¼€ï¼ˆå¦‚Â <code>log</code>ï¼‰ï¼Œå³å¯è‡ªåŠ¨å±•å¼€ä¸ºå®Œæ•´ä»£ç å—ï¼Œå¹¶æ”¯æŒå¤šå…‰æ ‡è·³è½¬ã€å ä½ç¬¦ã€ä¸‹æ‹‰é€‰é¡¹ç­‰é«˜çº§åŠŸèƒ½ã€‚</p>
<p>ä½†é—®é¢˜æ¥äº†ï¼š<strong>æ‰‹åŠ¨ç¼–å†™ JSON æ ¼å¼çš„ä»£ç ç‰‡æ®µæ–‡ä»¶å¤ªç¹çäº†ï¼</strong></p>
<h2 data-id="heading-1">è§£å†³æ–¹æ¡ˆï¼šMV3å‰ç«¯åŠ©æ‰‹å†…ç½®ã€ŒVS Code ä»£ç ç‰‡æ®µç”Ÿæˆå™¨ã€</h2>
<p>ã€ŒMV3å‰ç«¯åŠ©æ‰‹ã€æ˜¯ä¸€æ¬¾ä¸“ä¸ºç°ä»£å‰ç«¯å¼€å‘è€…æ‰“é€ çš„ Chrome æ‰©å±•ï¼ˆåŸºäº Manifest V3ï¼‰ï¼Œå†…ç½®äº†å¤šä¸ªå®ç”¨å·¥å…·ï¼Œå…¶ä¸­å°±åŒ…æ‹¬è¿™ä¸ª<strong>å¯è§†åŒ– VSCode ä»£ç ç‰‡æ®µç”Ÿæˆå™¨</strong>ã€‚</p>
<h3 data-id="heading-2">å·¥å…·æ ¸å¿ƒåŠŸèƒ½ä¸€è§ˆï¼š</h3>

























<table><thead><tr><th>åŠŸèƒ½</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ‰€è§å³æ‰€å¾—ç¼–è¾‘</td><td>å·¦ä¾§ä»¥çº¯æ–‡æœ¬å½¢å¼ç¼–å†™ç‰‡æ®µï¼ˆæ¯ä¸ªä»£ç ç‰‡æ®µä¹‹é—´ç”¨åˆ†éš”çº¿éš”å¼€ï¼‰ï¼Œå³ä¾§å®æ—¶é¢„è§ˆ JSON ç»“æ„ï¼Œå·¦ä¾§ç¼–è¾‘åŒºåŸŸä¸å³ä¾§JSONé¢„è§ˆåŒºåŸŸæ»šåŠ¨è”åŠ¨ï¼Œç‚¹å‡»å·¦ä¾§åŒºåŸŸæŸä¸€è¡Œä»£ç å¯ç²¾å‡†å®šä½åˆ°å³ä¾§é¢„è§ˆåŒºåŸŸå¯¹åº”ä»£ç </td></tr><tr><td>æ™ºèƒ½å˜é‡æ’å…¥</td><td>ä¸€é”®æ’å…¥å…‰æ ‡ä½ç½® <code>$1</code>ã€<code>${1:label}</code>ã€<code>${1|option1,option2|}</code></td></tr><tr><td>å¯¼å…¥/å¯¼å‡º</td><td>æ”¯æŒå¯¼å…¥ç°æœ‰ <code>.code-snippets</code> æˆ– <code>.json</code>Â ä»£ç ç‰‡æ®µæ–‡ä»¶ï¼Œç»´æŠ¤å®Œä»£ç ç‰‡æ®µåå³å¯å¯¼å‡ºè¦†ç›–åŸæ–‡ä»¶è¿›è¡Œæ›´æ–°</td></tr><tr><td>è‡ªåŠ¨ä¿å­˜</td><td>å…³é—­é¡µé¢æˆ–åˆ·æ–°æ—¶è‡ªåŠ¨ç¼“å­˜å†…å®¹åœ¨æœ¬åœ°ï¼Œé˜²æ­¢ä¸¢å¤±</td></tr></tbody></table>
<h3 data-id="heading-3">ä»£ç ç‰‡æ®µåˆ›å»ºè§„åˆ™</h3>
<p>è§„åˆ™è¯¦è§ä¸‹å›¾ä¸­å·¦ä¾§ç¼–è¾‘åŒºåŸŸæè¿°ã€‚æ‰“å¼€å·¥å…·ä¾¿ä¼šé»˜è®¤æ˜¾ç¤ºç”Ÿæˆè§„åˆ™ï¼ˆæˆ–è€…ç‚¹å‡»<strong>ç¤ºä¾‹</strong>ä¼šé‡æ–°ç”Ÿæˆä½¿ç”¨è§„åˆ™ï¼‰ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/02101f2c338d410a90c5f1a56fbc2b56~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=wce1YwK6JGlMeqi9B9HMTS6OWeQ%3D" alt="VS Codeä»£ç ç‰‡æ®µç”Ÿæˆå™¨" loading="lazy"/></p>
<h3 data-id="heading-4">ä½¿ç”¨ç¤ºä¾‹ï¼šå¿«é€Ÿåˆ›å»ºä¸€ä¸ªä»£ç æç¤ºç‰‡æ®µ</h3>
<p>ä»¥ä¸‹æ¼”ç¤ºå¿«é€Ÿåˆ›å»ºä¸€ä¸ªVue2æ¨¡æ¿ç‰‡æ®µ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a0c2ec88856143078bbf7ccea1ada0e9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=bT1aacKDitMnDX%2FfcrnlwFJjAlo%3D" alt="" loading="lazy"/></p>
<p>ä»£ç ç‰‡æ®µç”Ÿæˆåï¼Œå³å¯å¤åˆ¶å¹¶ç²˜è´´åˆ°å¯¹åº”çš„ä»£ç ç‰‡æ®µæ–‡ä»¶ä¸­ï¼Œæ­¤å¤„ä¸ºvue.jsonæ–‡ä»¶ã€‚</p>
<p>é€‰æ‹©è®¾ç½®-ä»£ç ç‰‡æ®µ-vue.json</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ca233ec170a844b9aac0fc5ca0d01211~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=OqonLatuZolhvyHSYip89SXV84M%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32e723dce8414097bb5152a85f94635f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=SWndPYVEmRB0K%2BHCFWhQ77uQNJg%3D" alt="" loading="lazy"/></p>
<p>ç²˜è´´ä»£ç ç‰‡æ®µå¹¶ä¿å­˜æ–‡ä»¶</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56de62b2393d4e118a0db22462fa49aa~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=hEdJ8hADYeGvHahNc0kINcM7MLk%3D" alt="image.png" loading="lazy"/></p>
<p>æ‰¾ä¸€ä¸ª.vueæ–‡ä»¶è¾“å…¥vue2å³å¯è§¦å‘ä»£ç ç‰‡æ®µæ˜¾ç¤º</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/903ace398cfc4b43b8a1db36c9667bde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=9y%2BnvBSxg86OborP9mLHEHRcwXU%3D" alt="image.png" loading="lazy"/></p>
<p>è‹¥è¦åˆ›å»ºå¤šä¸ªä»£ç ç‰‡æ®µï¼Œæ’å…¥â€œåˆ†å‰²çº¿â€æ—¢å¯ã€‚ä¸‹å›¾ä¸­åˆåˆ›å»ºäº†ä¸€ä¸ªvue3çš„ç»„ä»¶æ¨¡æ¿ä»£ç ç‰‡æ®µ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3f19e388c14f4d8c81655058826d72c8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=2lTGIJfoXA4CEQykofy2B1y%2B4kE%3D" alt="image.png" loading="lazy"/></p>
<p>åŒæ ·çš„æ–¹å¼æ›´æ–°ä»£ç ç‰‡æ®µæ–‡ä»¶åï¼Œå³å¯åœ¨.vueæ–‡ä»¶ä¸­ç”Ÿæ•ˆ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b034fb9beb67416eaac6d0911de830cd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=kPUjDEFLFln8Za33S%2BPBT3LqLaw%3D" alt="image.png" loading="lazy"/></p>
<h3 data-id="heading-5">å¯¼å…¥ç°æœ‰æ–‡ä»¶ï¼Œæ‰¹é‡ç»´æŠ¤åå¯¼å‡º</h3>
<p>è¿™é‡Œæ¼”ç¤ºå¯¼å…¥ä½œè€…æœ¬åœ°çš„javascript.jsonä»£ç ç‰‡æ®µæ–‡ä»¶ã€‚</p>
<p>åœ¨VSCodeä¸­ç‚¹å‡»â€œè®¾ç½®-ä»£ç ç‰‡æ®µâ€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3faa0e5d6d494554a1864f7e5a3f89df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=pwtFFgbbeAZRwwwBT%2B18Jv92Vbw%3D" alt="image.png" loading="lazy"/></p>
<p>é€‰æ‹©javascript.jsonæ‰“å¼€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aaad118f3e8b4c5cae866eabbc21498f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=9A6y8eI2jCds%2B7aY3XnVS43uLjM%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨VS Codeå·¦ä¾§â€œæ‰“å¼€çš„ç¼–è¾‘å™¨â€ä¸­æ‰¾åˆ°ä»£ç ç‰‡æ®µæ–‡ä»¶ï¼Œé¼ æ ‡å³é”®â€œå¤åˆ¶è·¯å¾„â€ï¼Œç›®çš„æ˜¯ä¸ºäº†çŸ¥é“è¿™ä¸ªä»£ç ç‰‡æ®µçš„å­˜å‚¨åœ°å€ã€‚æˆ–è€…å³é”®èœå•ä¸­é€‰æ‹©â€œåœ¨æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸­æ˜¾ç¤ºâ€åå†å¤åˆ¶æ–‡ä»¶è·¯å¾„ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ebf4eb192908497f82ca6bb38416914b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=PAZxgwYezE0zQJsHK%2Fqf08VH74M%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨VS Codeä»£ç ç‰‡æ®µç”Ÿæˆå·¥å…·ä¸­ç‚¹å‡»æŒ‰é’®â€œå¯¼å…¥ä»£ç ç‰‡æ®µæ–‡ä»¶â€</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15ee70b308f24e55abc4ef80da80bc4b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=h%2F%2Bi6pKAty5KqgHM%2F9BfvkkFuwo%3D" alt="image.png" loading="lazy"/></p>
<p>åœ¨é€‰æ‹©æ–‡ä»¶å¯¹è¯æ¡†ä¸­ç²˜è´´åˆšæ‰å¤åˆ¶çš„ ä»£ç ç‰‡æ®µæ–‡ä»¶è·¯å¾„ å¹¶æ‰“å¼€ï¼Œå³å¯å®Œæˆå¯¼å…¥</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/06736f44361b41a4bf250ac9a7e56eb1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=1iAW%2BHCCmvIzVvoVACqyC6H2zXc%3D" alt="image.png" loading="lazy"/></p>
<p>è¿™é‡ŒæˆåŠŸå¯¼å…¥äº†1740ä¸ªä»£ç ç‰‡æ®µ</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3e716fc03786432280bd3a158f35146f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=Xj9yDCsO3tA6DuEMkO5JZ9KLc3A%3D" alt="image.png" loading="lazy"/></p>
<p><strong>æ­¤æ—¶å°±å¯ä»¥å¼€å§‹æ‰¹é‡ç»´æŠ¤äº†ï¼Œä¸ä»…å¯ä»¥ç»´æŠ¤ç°æœ‰ç‰‡æ®µï¼Œä¹Ÿå¯ä»¥æŒ‰è§„åˆ™æ–°å¢ç‰‡æ®µã€‚ç»´æŠ¤å¥½ä»¥åå¯ä»¥å¯¼å‡ºæ–‡ä»¶å¹¶è¦†ç›–åŸæœ‰ä»£ç ç‰‡æ®µæ–‡ä»¶å³å¯ç”Ÿæ•ˆã€‚</strong></p>
<p>å¦å¤–ç¼–è¾‘å™¨ä¹Ÿæä¾›äº†æœç´¢/æ›¿æ¢åŠŸèƒ½ã€‚ä½¿ç”¨ä»¥ä¸‹å¿«æ·é”®å”¤å‡ºæœç´¢/æ›¿æ¢ã€‚</p>
<p><strong>Ctrl + Fï¼ˆæœç´¢ï¼‰</strong></p>
<p><strong>Ctrl + Hï¼ˆæ›¿æ¢ï¼‰</strong></p>
<p><strong>Ctrl + Lï¼ˆå®šä½è¡Œ/åˆ—ï¼‰</strong></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6ce46663b544884922cedf6f7a6a5eb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgTVYz5YmN56uv5Yqp5omL:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768549715&amp;x-signature=06BgAQcZMmR5bimj8b5o7MTQBV0%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-6">MV3å‰ç«¯åŠ©æ‰‹ä»‹ç»</h2>
<p>ä¸€æ¬¾ä¸“ä¸ºWebå¼€å‘è€…æ‰“é€ çš„ Chrome æ‰©å±•ç¨‹åºã€‚</p>
<p>è¯¥æ‰©å±•æ— éœ€ç”¨æˆ·ç¼–å†™å®Œæ•´çš„æ‰©å±•ç¨‹åºï¼Œå³å¯å……åˆ†åˆ©ç”¨ Chrome æ‰©å±•çš„åŸç”Ÿèƒ½åŠ›ï¼š</p>
<ul>
<li>æ”¯æŒåœ¨ä»»æ„ç½‘é¡µä¸­æ³¨å…¥è‡ªå®šä¹‰å†…å®¹è„šæœ¬ï¼ˆç±»ä¼¼æ²¹çŒ´è„šæœ¬ï¼‰ï¼›</li>
<li>çªç ´æµè§ˆå™¨åŒæºç­–ç•¥é™åˆ¶ï¼Œå®ç°æ— è·¨åŸŸéšœç¢åœ°è®¿é—®ä»»æ„ç½‘ç«™èµ„æºï¼›</li>
<li>ç›´æ¥è°ƒç”¨ Chrome æ‰©å±•çš„åŸç”Ÿ APIï¼Œå¦‚ storageã€tabsã€runtime ç­‰ï¼Œèµ‹èƒ½å‰ç«¯é€»è¾‘ä¸æµè§ˆå™¨æ·±åº¦äº¤äº’ã€‚</li>
</ul>
<p>ã€ŒMV3 å‰ç«¯åŠ©æ‰‹ã€æ—¨åœ¨å¸®åŠ©å¼€å‘è€…åœ¨æœ‰é™æ—¶é—´å†…ï¼Œä»¥ç†Ÿæ‚‰çš„ Web æŠ€æœ¯å¿«é€Ÿé‡Šæ”¾åˆ›é€ åŠ›ï¼Œæ¢ç´¢æ›´å¤šå¯èƒ½æ€§ã€‚</p>
<p>é™¤äº†æä¾›ä¸€äº›å®ç”¨å·¥å…·å¤–ï¼Œæœ¬åŠ©æ‰‹è¿˜æä¾›äº†ä¸€å¥—åŸºç¡€ç¯å¢ƒæ”¯æŒï¼Œå…è®¸å¯¹æ‰©å±•ç¨‹åºé›¶ç»éªŒã€é›¶åŸºç¡€ï¼Œä½†æ˜¯å…·æœ‰ä¸€å®šHTML+JS+CSSç»éªŒçš„Webå¼€å‘è€…ï¼Œå¿«é€Ÿå¼€å‘å‡ºå…·æœ‰æ‰©å±•ç¨‹åºç‰¹æ€§çš„è„šæœ¬æˆ–ç½‘é¡µã€‚</p>
<h3 data-id="heading-7">å®ç”¨å·¥å…·</h3>
<p>âœ… <strong>å…¨æµè§ˆå™¨æ•°æ®æœç´¢</strong>ï¼šå³åŒæ—¶å¯¹æµè§ˆå™¨ä¹¦ç­¾ã€æ ‡ç­¾é¡µã€å†å²è®°å½•å‘èµ·æœç´¢ï¼Œå¿«é€Ÿæ£€ç´¢èµ„æºã€‚<br/>
âœ… <strong>JSONæ–‡æ¡£è‡ªåŠ¨ç¾åŒ–</strong>ï¼šå‹å¥½æ–¹å¼å±•ç¤ºJSONæ ¼å¼åŒ–ä»£ç ã€‚<br/>
âœ… <strong>REST Client</strong>ï¼šæ¥å£æµ‹è¯•å·¥å…·<br/>
âœ… <strong>VS Codeä»£ç ç‰‡æ®µç”Ÿæˆå·¥å…·</strong>ï¼šé«˜æ•ˆæ‰¹é‡ç”Ÿæˆä»£ç ç‰‡æ®µï¼Œç»´æŠ¤ä»£ç ç‰‡æ®µã€‚<br/>
âœ… <strong>Window Resizer</strong>ï¼šæ”¹å˜æµè§ˆå™¨çª—å£å¤§å°ï¼Œå¯è‡ªå®šä¹‰çª—å£å°ºå¯¸ã€‚<br/>
âœ… <strong>JSONæ–‡æ¡£æ ¼å¼åŒ–+å‹ç¼©</strong><br/>
âœ… <strong>HTMLæ ¼å¼åŒ–+å‹ç¼©</strong>ï¼šæ”¯æŒå†…è”JS/CSSå‹ç¼©ã€‚<br/>
âœ… <strong>JavaScriptæ ¼å¼åŒ–+å‹ç¼©</strong>ï¼šæ”¯æŒJSæ··æ·†å‹ç¼©ã€‚<br/>
âœ… <strong>CSSæ ¼å¼åŒ–+å‹ç¼©</strong><br/>
âœ… <strong>CookiesæŸ¥è¯¢</strong>ï¼šæ ¹æ®URLåœ°å€æŸ¥å‡ºæ‰€æœ‰å…³è”Cookiesã€‚<br/>
âœ… <strong>å›¾ç‰‡è½¬Base64</strong><br/>
âœ… <strong>äºŒç»´ç ç”Ÿæˆ/è§£ç </strong><br/>
âœ… <strong>SVGè½¬å›¾ç‰‡</strong><br/>
âœ… <strong>Markdownç¼–è¾‘å™¨</strong>ï¼šMarkdownè½¬HTML/PDF/å›¾ç‰‡<br/>
âœ… <strong>ç¼–ç è½¬æ¢</strong>ï¼šBase64ç¼–ç /è§£ç ã€Unicodeç¼–ç /è§£ç  ã€URLç¼–ç /è§£ç ã€MD5åŠ å¯†ç­‰ã€‚<br/>
âœ… <strong>CDNæœç´¢</strong>ï¼šåŒæ—¶æœç´¢cdnjs/jsDelivr/UNPKGï¼Œå¿«é€Ÿæ£€ç´¢CDNèµ„æºã€‚</p>
<h3 data-id="heading-8">æ ¸å¿ƒåŠŸèƒ½</h3>
<h4 data-id="heading-9">1ï¸âƒ£æ”¯æŒè‡ªå®šä¹‰å†…å®¹è„šæœ¬</h4>
<ul>
<li>æ³¨å…¥JSè„šæœ¬åˆ°ç›®æ ‡ç½‘é¡µï¼Œåšä»»ä½•æ‚¨æƒ³åšçš„äº‹ã€‚</li>
</ul>
<h4 data-id="heading-10">2ï¸âƒ£æ”¯æŒåœ¨ä»»æ„ç½‘é¡µä¸­æ— è·¨åŸŸé™åˆ¶è®¿é—®å…¶ä»–åŸŸåç½‘ç«™èµ„æº</h4>
<ul>
<li>åœ¨æ‚¨çš„ä¸ªäººç½‘ç«™ä¸­å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸Šåˆ©ç”¨æœ¬åŠ©æ‰‹æš´éœ²çš„æ¥å£è®¿é—®ä»»ä½•å…¶ä»–åŸŸåç½‘ç«™èµ„æºï¼Œæ²¡æœ‰è·¨åŸŸé™åˆ¶ã€‚</li>
<li>åœ¨è‡ªå®šä¹‰å†…å®¹è„šæœ¬ä¸­ï¼Œå¯ä»¥ä»è‡ªå·±çš„æœåŠ¡å™¨æ‹‰å–æ•°æ®/å›ä¼ æ•°æ®ï¼Œæ²¡æœ‰è·¨åŸŸé™åˆ¶ã€‚</li>
</ul>
<h4 data-id="heading-11">3ï¸âƒ£æ”¯æŒåœ¨ä»»æ„ç½‘é¡µä¸­è°ƒç”¨æ‰©å±•ç¨‹åºéƒ¨åˆ†åŸç”ŸAPI</h4>
<ul>
<li>åœ¨æ‚¨çš„ä¸ªäººç½‘ç«™ä¸­å¯ä»¥ç›´æ¥åœ¨æµè§ˆå™¨ä¸Šè°ƒç”¨æ‰©å±•ç¨‹åºçš„éƒ¨åˆ†åŸç”ŸAPIã€‚æ¯”å¦‚æ‚¨å¯ä»¥åˆ¶ä½œä¸€ä¸ªWindow Resizerï¼Œæ§åˆ¶æµè§ˆå™¨çª—å£æ”¹å˜å°ºå¯¸ï¼›ä¹Ÿå¯ä»¥åˆ¶ä½œä¸€ä¸ªç®€å•çš„çº¯å‰ç«¯ç‰ˆæœ¬çš„Postmanæ¥å£è¯·æ±‚å·¥å…·ç­‰ã€‚</li>
</ul>
<h3 data-id="heading-12">å¼€å§‹ä½“éªŒ</h3>
<h4 data-id="heading-13">Microsoft Edgeæµè§ˆå™¨</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fmicrosoftedge.microsoft.com%2Faddons%2Fdetail%2Fkjhmboahdliodpidkdamifaeiepfkdbk" target="_blank" title="https://microsoftedge.microsoft.com/addons/detail/kjhmboahdliodpidkdamifaeiepfkdbk" ref="nofollow noopener noreferrer">ä» Microsoft Edge Add-ons å®‰è£…</a></p>
<h4 data-id="heading-14">Chromeæµè§ˆå™¨ï¼ˆéœ€ç¿»å¢™ï¼‰</h4>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fchromewebstore.google.com%2Fdetail%2Fmippkopbehbpapfphcekdiodkkpbhaad" target="_blank" title="https://chromewebstore.google.com/detail/mippkopbehbpapfphcekdiodkkpbhaad" ref="nofollow noopener noreferrer">ä» Chrome Web Store å®‰è£…</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Claude Code 2.1.2 å‡çº§æŠ¥é”™ï¼Ÿåˆ«æŠ˜è…¾äº†ï¼Œä¸€è¡Œå‘½ä»¤æå®š]]></title>    <link>https://juejin.cn/post/7592912896592543763</link>    <guid>https://juejin.cn/post/7592912896592543763</guid>    <pubDate>2026-01-09T07:16:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592912896592543763" data-draft-id="7592912896592510995" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Claude Code 2.1.2 å‡çº§æŠ¥é”™ï¼Ÿåˆ«æŠ˜è…¾äº†ï¼Œä¸€è¡Œå‘½ä»¤æå®š"/> <meta itemprop="keywords" content="Claude"/> <meta itemprop="datePublished" content="2026-01-09T07:16:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AIæ–¹å”"/> <meta itemprop="url" content="https://juejin.cn/user/1065861228790043"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Claude Code 2.1.2 å‡çº§æŠ¥é”™ï¼Ÿåˆ«æŠ˜è…¾äº†ï¼Œä¸€è¡Œå‘½ä»¤æå®š
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1065861228790043/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AIæ–¹å”
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:16:37.000Z" title="Fri Jan 09 2026 07:16:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>æˆ‘åªæ˜¯æƒ³å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œç»“æœæŠ˜è…¾äº†ä¸€ä¸ªå¤šå°æ—¶ï¼Œè¯•äº†åå‡ ç§æ–¹æ³•ï¼Œé—®äº†ä¸¤ä¸ª AIï¼Œç”šè‡³é‡å¯äº†ç”µè„‘â€”â€”æœ€åå‘ç°ï¼Œ<strong>ä¸€è¡Œå‘½ä»¤å°±èƒ½è§£å†³</strong>ã€‚</p>
</blockquote>
<p><strong>ç¯å¢ƒ</strong>ï¼šmacOS (zsh) Â· Claude Code 2.0.73 â†’ 2.1.2</p>
<hr/>
<h2 data-id="heading-0">äº‹æƒ…çš„èµ·å› </h2>
<p>ä»Šå¤©æ˜¯ 2026 å¹´ 1 æœˆ 9 æ—¥ï¼Œçœ‹åˆ°å…¨ç½‘éƒ½åœ¨è¯´ Claude Code CLI å‘å¸ƒæ–°ç‰ˆæœ¬äº†ã€‚ä½œä¸ºä¸€ä¸ªè¿½æ±‚æœ€æ–°ä½“éªŒçš„å¼€å‘è€…ï¼Œæˆ‘è‡ªç„¶æƒ³å‡çº§ã€‚</p>
<p>äºæ˜¯æˆ‘é—® Claudeï¼š</p>
<blockquote>
<p><strong>æˆ‘</strong>ï¼šclaude code cli å¦‚ä½•å‡çº§åˆ°æœ€æ–°ï¼Ÿ</p>
</blockquote>
<p>Claude ç»™äº†æˆ‘ä¸‰ç§æ–¹æ³•ï¼š</p>
<pre><code class="hljs language-markdown" lang="markdown"><span class="hljs-bullet">1.</span> è‡ªåŠ¨æ›´æ–°ï¼ˆé»˜è®¤å¯ç”¨ï¼‰ï¼šå¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ£€æŸ¥
<span class="hljs-bullet">2.</span> æ‰‹åŠ¨æ›´æ–°ï¼ˆæ¨èï¼‰ï¼šclaude update
<span class="hljs-bullet">3.</span> æ ¹æ®å®‰è£…æ–¹å¼é‡æ–°å®‰è£…ï¼š
<span class="hljs-bullet">   -</span> Native å®‰è£…ï¼šcurl -fsSL https://claude.ai/install.sh | bash
<span class="hljs-bullet">   -</span> Homebrewï¼šbrew upgrade --cask claude-code
<span class="hljs-bullet">   -</span> NPMï¼šnpm install -g @anthropic-ai/claude-code@latest
</code></pre>
<p>çœ‹èµ·æ¥å¾ˆç®€å•ã€‚æˆ‘é€‰äº† npm æ–¹å¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ npm install -g @anthropic-ai/claude-code@latest
added 3 packages <span class="hljs-keyword">in</span> 1m

$ claude --version
2.0.73 (Claude Code)
</code></pre>
<p><strong>ç­‰ç­‰ï¼Œæ€ä¹ˆè¿˜æ˜¯ 2.0.73ï¼Ÿ</strong></p>
<hr/>
<h2 data-id="heading-1">ç¬¬ä¸€ä¸ªå‘ï¼šç³»ç»Ÿé‡Œæœ‰ä¸¤ä¸ª Claude</h2>
<p>æˆ‘å‘Šè¯‰ Claude ç‰ˆæœ¬æ²¡å˜ï¼Œå®ƒæŸ¥äº†ä¸€ä¸‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ npm view @anthropic-ai/claude-code version
2.1.2

$ <span class="hljs-built_in">which</span> claude &amp;&amp; npm list -g @anthropic-ai/claude-code
/Users/dev/.local/bin/claude
/opt/homebrew/lib
â””â”€â”€ @anthropic-ai/claude-code@2.1.2
</code></pre>
<p>åŸæ¥æˆ‘çš„ç³»ç»Ÿæœ‰<strong>ä¸¤ä¸ª Claude Code å®‰è£…</strong>ï¼š</p>
<ol>
<li><strong>Native å®‰è£…</strong>ï¼ˆå½“å‰ä½¿ç”¨ï¼‰ï¼š<code>/Users/dev/.local/bin/claude</code> â†’ ç‰ˆæœ¬ 2.0.73</li>
<li><strong>npm å®‰è£…</strong>ï¼šç‰ˆæœ¬ 2.1.2ï¼ˆæ²¡æœ‰è¢«ä½¿ç”¨ï¼‰</li>
</ol>
<p>npm è£…äº†ä¸ªå¯‚å¯ï¼Œå› ä¸º PATH é‡Œ Native ç‰ˆæœ¬ä¼˜å…ˆçº§æ›´é«˜ã€‚</p>
<p>Claude è¯´ç”¨ <code>claude update</code> å°±è¡Œã€‚å¥½ï¼Œé‚£å°±è¯•è¯•ã€‚</p>
<hr/>
<h2 data-id="heading-2">ç¬¬äºŒä¸ªå‘ï¼šAnother Claude process is currently running</h2>
<pre><code class="hljs language-bash" lang="bash">$ claude update
Current version: 2.0.73
Checking <span class="hljs-keyword">for</span> updates...
Another Claude process is currently running. Please try again <span class="hljs-keyword">in</span> a moment.
</code></pre>
<p>æˆ‘åŠ äº†ç¯å¢ƒå˜é‡ç¦ç”¨é”ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ CLAUDE_DISABLE_LOCK=1 claude update
Current version: 2.0.73
Checking <span class="hljs-keyword">for</span> updates...
Another Claude process is currently running. Please try again <span class="hljs-keyword">in</span> a moment.
</code></pre>
<p>è¿˜æ˜¯ä¸€æ ·ã€‚</p>
<p>æˆ‘æŠŠè¿™ä¸ªé”™è¯¯è´´ç»™ Claudeï¼Œå®ƒå¼€å§‹å¸®æˆ‘è¯Šæ–­ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ pgrep -fl <span class="hljs-string">"claude"</span> | <span class="hljs-built_in">head</span> -20
ï¼ˆæ— è¾“å‡ºï¼‰

$ <span class="hljs-built_in">ls</span> -la ~/.claude/*.lock 2&gt;/dev/null || <span class="hljs-built_in">echo</span> <span class="hljs-string">"No lock files found"</span>
No lock files found

$ ps aux | grep -i claude | grep -v grep
dev  3034  52.0  3.7 509055488 612928 s000  S+  2:04ä¸‹åˆ  0:18.78 claude
</code></pre>
<p>Claude è¯´ï¼š</p>
<blockquote>
<p>æ‰¾åˆ°åŸå› äº†ï¼å½“å‰æ­£åœ¨è¿è¡Œçš„ Claude CLI è¿›ç¨‹ï¼ˆå°±æ˜¯ä½ ç°åœ¨ä½¿ç”¨çš„è¿™ä¸ªä¼šè¯ï¼‰é˜»æ­¢äº†æ›´æ–°æ“ä½œã€‚</p>
<p>è§£å†³æ–¹æ¡ˆï¼šé€€å‡ºå½“å‰ Claude ä¼šè¯ï¼Œåœ¨æ–°çš„ç»ˆç«¯çª—å£ä¸­è¿è¡Œ <code>claude update</code>ã€‚</p>
</blockquote>
<p>é€»è¾‘ä¸Šè¯´å¾—é€šã€‚æˆ‘é€€å‡º Claudeï¼Œæ‰“å¼€æ–°ç»ˆç«¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ claude update
Current version: 2.0.73
Checking <span class="hljs-keyword">for</span> updates...
Another Claude process is currently running. Please try again <span class="hljs-keyword">in</span> a moment.
</code></pre>
<p><strong>è¿˜æ˜¯ä¸è¡Œã€‚</strong></p>
<hr/>
<h2 data-id="heading-3">å¼€å§‹ç–¯ç‹‚æ’æŸ¥</h2>
<p>è¿™æ—¶å€™æˆ‘è¯·å‡ºäº†å¦ä¸€ä¸ª AI åŠ©æ‰‹â€”â€”<strong>OpenAI Codex CLI</strong>ï¼Œè®©å®ƒå’Œ Claude ä¸€èµ·å¸®æˆ‘æŸ¥ã€‚</p>
<h3 data-id="heading-4">æ£€æŸ¥è¿›ç¨‹</h3>
<pre><code class="hljs language-bash" lang="bash">$ ps aux | rg -i <span class="hljs-string">'claude'</span>
dev  4627  0.0  0.0 435306128  4784 s001  S+  2:08ä¸‹åˆ  0:00.01 rg -i claude
</code></pre>
<p>æ²¡æœ‰ Claude è¿›ç¨‹ã€‚</p>
<h3 data-id="heading-5">æ£€æŸ¥é”æ–‡ä»¶</h3>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">ls</span> -la ~/.claude/*.lock 2&gt;/dev/null || <span class="hljs-built_in">echo</span> <span class="hljs-string">"no ~/.claude lock"</span>
zsh: no matches found: /Users/dev/.claude/*.lock
no ~/.claude lock
</code></pre>
<p>æ²¡æœ‰é”æ–‡ä»¶ã€‚</p>
<h3 data-id="heading-6">æ£€æŸ¥ä¸´æ—¶ç›®å½•</h3>
<pre><code class="hljs language-bash" lang="bash">$ find /var/folders -name <span class="hljs-string">"claude-*"</span> -maxdepth 5 2&gt;/dev/null | <span class="hljs-built_in">head</span> -20
/var/folders/4l/r_l1tmpn4qqb2n9rhd6qdcgh0000gn/T/claude-be1e-cwd
/var/folders/4l/r_l1tmpn4qqb2n9rhd6qdcgh0000gn/T/claude-1c8b-cwd
/var/folders/4l/r_l1tmpn4qqb2n9rhd6qdcgh0000gn/T/claude-479a-cwd
/var/folders/4l/r_l1tmpn4qqb2n9rhd6qdcgh0000gn/T/claude-95ba-cwd
</code></pre>
<p>æœ‰æ®‹ç•™ï¼åˆ æ‰è¯•è¯•ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">rm</span> -rf /var/folders/*/*/*/T/claude-*
zsh: no matches found: /var/folders/*/*/*/T/claude-*
</code></pre>
<p>zsh çš„ glob ä¸åŒ¹é…æ—¶ä¼šç›´æ¥æŠ¥é”™ã€‚åªèƒ½æ‰‹åŠ¨ä¸€ä¸ªä¸ªåˆ ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">rm</span> -rf /var/folders/4l/r_l1tmpn4qqb2n9rhd6qdcgh0000gn/T/claude-be1e-cwd
$ <span class="hljs-built_in">rm</span> -rf /var/folders/4l/r_l1tmpn4qqb2n9rhd6qdcgh0000gn/T/claude-1c8b-cwd
$ <span class="hljs-built_in">rm</span> -rf /var/folders/4l/r_l1tmpn4qqb2n9rhd6qdcgh0000gn/T/claude-479a-cwd
$ <span class="hljs-built_in">rm</span> -rf /var/folders/4l/r_l1tmpn4qqb2n9rhd6qdcgh0000gn/T/claude-95ba-cwd

$ claude update
Another Claude process is currently running. Please try again <span class="hljs-keyword">in</span> a moment.
</code></pre>
<p><strong>è¿˜æ˜¯ä¸è¡Œã€‚</strong></p>
<h3 data-id="heading-7">æ£€æŸ¥åå°æœåŠ¡</h3>
<pre><code class="hljs language-bash" lang="bash">$ launchctl list | rg -i <span class="hljs-string">'claude|anthropic'</span>
ï¼ˆæ— è¾“å‡ºï¼‰
</code></pre>
<p>æ²¡æœ‰åå°æœåŠ¡ã€‚</p>
<h3 data-id="heading-8">æ£€æŸ¥å¤±è´¥çš„ä¸‹è½½æ–‡ä»¶</h3>
<pre><code class="hljs language-bash" lang="bash">$ <span class="hljs-built_in">ls</span> -la ~/.local/share/claude/versions
<span class="hljs-comment"># å‘ç° 2.1.1 å’Œ 2.1.2 æ˜¯ 0 å­—èŠ‚æ–‡ä»¶ï¼ˆä¸‹è½½ä¸­æ–­ï¼‰</span>

$ <span class="hljs-built_in">rm</span> -f ~/.local/share/claude/versions/2.1.1 ~/.local/share/claude/versions/2.1.2
$ claude update
Another Claude process is currently running. Please try again <span class="hljs-keyword">in</span> a moment.
</code></pre>
<p><strong>è¿˜æ˜¯ä¸è¡Œã€‚</strong></p>
<h3 data-id="heading-9">å…³é—­ Chrome æµè§ˆå™¨</h3>
<p>å› ä¸ºè£…äº† Claude Chrome æ’ä»¶ï¼Œæ€€ç–‘æµè§ˆå™¨æ‰©å±•å ç”¨äº†ä»€ä¹ˆï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®Œå…¨é€€å‡º Chrome</span>

$ claude update
Another Claude process is currently running. Please try again <span class="hljs-keyword">in</span> a moment.
</code></pre>
<p><strong>è¿˜æ˜¯ä¸è¡Œã€‚</strong></p>
<h3 data-id="heading-10">ç»ˆææ‰‹æ®µï¼šé‡å¯ç”µè„‘</h3>
<p>æ—¢ç„¶æŠ¥é”™è¯´æœ‰è¿›ç¨‹åœ¨è¿è¡Œï¼Œé‚£é‡å¯ç”µè„‘æ€»èƒ½æ¸…æ‰æ‰€æœ‰è¿›ç¨‹å§ï¼Ÿ</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é‡å¯ Mac...</span>

$ claude update
Another Claude process is currently running. Please try again <span class="hljs-keyword">in</span> a moment.
</code></pre>
<p><strong>é‡å¯äº†ç”µè„‘è¿˜æ˜¯ä¸è¡Œï¼ï¼ï¼</strong></p>
<p>æ­¤æ—¶æˆ‘å·²ç»ç¡®è®¤ï¼šè¿™ä¸ªé”™è¯¯æç¤ºæ˜¯<strong>è¯¯å¯¼æ€§çš„</strong>ï¼Œæ ¹æœ¬ä¸æ˜¯è¿›ç¨‹å ç”¨çš„é—®é¢˜ã€‚</p>
<hr/>
<h2 data-id="heading-11">æœ€ç»ˆè§£å†³ï¼šä¸€è¡Œå‘½ä»¤</h2>
<p>æŠ˜è…¾äº†è¿™ä¹ˆä¹…ï¼Œæˆ‘å†³å®šä¸è·Ÿ <code>claude update</code> è¾ƒåŠ²äº†ã€‚</p>
<p>ç›´æ¥å»å®˜æ–¹æ–‡æ¡£ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.anthropic.com%2Fen%2Fdocs%2Fclaude-code%2Foverview" target="_blank" title="https://docs.anthropic.com/en/docs/claude-code/overview" ref="nofollow noopener noreferrer">docs.anthropic.com/en/docs/claâ€¦</a> æ‰¾å®‰è£…å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">$ curl -fsSL https://claude.ai/install.sh | bash
Setting up Claude Code...

âœ” Claude Code successfully installed!

  Version: 2.1.2

  Location: ~/.local/bin/claude

âœ… Installation complete!

$ claude -version
2.1.2 (Claude Code)
</code></pre>
<p><strong>å°±è¿™ä¹ˆç®€å•ã€‚</strong></p>
<hr/>
<h2 data-id="heading-12">ç»éªŒæ€»ç»“</h2>

























































<table><thead><tr><th>å°è¯•çš„æ–¹æ³•</th><th>ç»“æœ</th></tr></thead><tbody><tr><td><code>npm install -g @anthropic-ai/claude-code@latest</code></td><td>âŒ è£…äº†ä½†ç‰ˆæœ¬æ²¡å˜ï¼ˆä¸¤ä¸ªå®‰è£…ï¼‰</td></tr><tr><td><code>claude update</code></td><td>âŒ Another Claude process</td></tr><tr><td><code>CLAUDE_DISABLE_LOCK=1 claude update</code></td><td>âŒ åŒæ ·æŠ¥é”™</td></tr><tr><td>æŒ‰ Claude å»ºè®®é€€å‡ºä¼šè¯å†æ›´æ–°</td><td>âŒ æ— æ•ˆ</td></tr><tr><td>æ£€æŸ¥å¹¶æ€æ­» Claude è¿›ç¨‹</td><td>âŒ æ²¡æœ‰è¿›ç¨‹å¯æ€</td></tr><tr><td>æ¸…ç†é”æ–‡ä»¶ <code>~/.claude/*.lock</code></td><td>âŒ æ²¡æœ‰é”æ–‡ä»¶</td></tr><tr><td>æ¸…ç†ä¸´æ—¶ç›®å½• <code>/var/folders/.../claude-*</code></td><td>âŒ æ— æ•ˆ</td></tr><tr><td>æ£€æŸ¥ LaunchAgent åå°æœåŠ¡</td><td>âŒ æ²¡æœ‰æœåŠ¡</td></tr><tr><td>åˆ é™¤ 0 å­—èŠ‚ç‰ˆæœ¬æ–‡ä»¶</td><td>âŒ æ— æ•ˆ</td></tr><tr><td>å…³é—­ Chromeï¼ˆClaude æ’ä»¶ï¼‰</td><td>âŒ æ— æ•ˆ</td></tr><tr><td><strong>é‡å¯ macOS ç³»ç»Ÿ</strong></td><td>âŒ <strong>æ— æ•ˆ</strong></td></tr><tr><td><strong>å®˜æ–¹è„šæœ¬è¦†ç›–é‡è£…</strong></td><td>âœ… <strong>æˆåŠŸ</strong></td></tr></tbody></table>
<hr/>
<h2 data-id="heading-13">æˆ‘å­¦åˆ°äº†ä»€ä¹ˆ</h2>
<ol>
<li>
<p><strong><code>claude update</code> å¯èƒ½æœ‰ bug</strong>â€”â€”å³ä½¿æ²¡æœ‰ä»»ä½•è¿›ç¨‹åœ¨è¿è¡Œï¼Œå®ƒä¹Ÿä¼šæŠ¥"Another Claude process is currently running"ã€‚</p>
</li>
<li>
<p><strong>ç³»ç»Ÿå¯èƒ½å­˜åœ¨å¤šä¸ªå®‰è£…ç‰ˆæœ¬</strong>â€”â€”ç”¨ <code>which claude</code> ç¡®è®¤å½“å‰ä½¿ç”¨çš„æ˜¯å“ªä¸ªï¼Œnpm å®‰è£…ä¸ä¼šè¦†ç›– Native å®‰è£…ã€‚</p>
</li>
<li>
<p><strong>AI çš„è¯Šæ–­ä¸ä¸€å®šå¯¹</strong>â€”â€”Claude å’Œ Codex ç»™çš„æ’æŸ¥æ­¥éª¤é€»è¾‘ä¸Šéƒ½å¯¹ï¼Œä½†éƒ½æ²¡è§£å†³é—®é¢˜ã€‚é”™è¯¯æç¤ºæœ¬èº«å°±æ˜¯è¯¯å¯¼æ€§çš„ã€‚</p>
</li>
<li>
<p><strong>äººè¿˜æ˜¯è¦æœ‰åˆ¤æ–­åŠ›</strong>â€”â€”ä¸å…¶åœ¨å¤æ‚çš„æ’æŸ¥æµç¨‹ä¸­è€—æ—¶ï¼Œä¸å¦‚ç›´æ¥ç”¨æœ€ç®€å•æœ‰æ•ˆçš„æ–¹å¼è§£å†³é—®é¢˜ã€‚å½“ä½ å‘ç°è‡ªå·±å·²ç»å°è¯•äº† 5 ç§ä»¥ä¸Šæ–¹æ³•éƒ½æ— æ•ˆæ—¶ï¼Œ<strong>æ˜¯æ—¶å€™æ¢ä¸ªæ€è·¯äº†</strong>ã€‚</p>
</li>
<li>
<p><strong>è¦†ç›–é‡è£…æ˜¯æœ€å¯é çš„æ–¹æ¡ˆ</strong>â€”â€”ç”¨æˆ·é…ç½®ä¿å­˜åœ¨ <code>~/.claude</code> ç›®å½•ï¼Œä¸ä¼šä¸¢å¤±ã€‚ç›´æ¥è·‘å®‰è£…è„šæœ¬å°±å®Œäº‹äº†ã€‚</p>
</li>
</ol>
<hr/>
<h2 data-id="heading-14">å¿«é€Ÿè§£å†³æ–¹æ¡ˆ</h2>
<p>å¦‚æœä½ ä¹Ÿé‡åˆ° <code>claude update</code> æŠ¥é”™ï¼Œåˆ«æŠ˜è…¾äº†ï¼Œç›´æ¥ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">curl -fsSL https://claude.ai/install.sh | bash
</code></pre>
<hr/>
<h2 data-id="heading-15">å‚è€ƒé“¾æ¥</h2>
<ul>
<li>å®˜æ–¹å®‰è£…æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fdocs.anthropic.com%2Fen%2Fdocs%2Fclaude-code%2Foverview%23native-install-recommended" target="_blank" title="https://docs.anthropic.com/en/docs/claude-code/overview#native-install-recommended" ref="nofollow noopener noreferrer">docs.anthropic.com/en/docs/claâ€¦</a></li>
<li>å®‰è£…è„šæœ¬ï¼š<code>curl -fsSL https://claude.ai/install.sh | bash</code></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¿™ä¸ªæ¥è‡ªäº”çº¿åŸå¸‚çš„C++å…´è¶£ç­çš„ç¨‹åºå¯ä¸ä¸€èˆ¬]]></title>    <link>https://juejin.cn/post/7592944032772882483</link>    <guid>https://juejin.cn/post/7592944032772882483</guid>    <pubDate>2026-01-09T03:17:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592944032772882483" data-draft-id="7592876744526774322" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¿™ä¸ªæ¥è‡ªäº”çº¿åŸå¸‚çš„C++å…´è¶£ç­çš„ç¨‹åºå¯ä¸ä¸€èˆ¬"/> <meta itemprop="keywords" content="C++"/> <meta itemprop="datePublished" content="2026-01-09T03:17:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æå…´çƒ"/> <meta itemprop="url" content="https://juejin.cn/user/1528748152725595"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¿™ä¸ªæ¥è‡ªäº”çº¿åŸå¸‚çš„C++å…´è¶£ç­çš„ç¨‹åºå¯ä¸ä¸€èˆ¬
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1528748152725595/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æå…´çƒ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:17:08.000Z" title="Fri Jan 09 2026 03:17:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8befd2999e974d8ca7619d895d4919dc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5p2O5YW055CD:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768533427&amp;x-signature=ngsu9sD2OsWvwYvRBEg0tIFHEEs%3D" alt="2huluwa.png" loading="lazy"/>
è¿™ï¼Œæ˜¯ä¸€ä¸ªèä¹¡æŸåŸ¹è®­æœºæ„çš„C++å…´è¶£ç­çš„æ•™å­¦ç¨‹åºï¼Œä½ ç»å¯¹åœ¨å…¶å®ƒåœ°æ–¹æ‰¾ä¸åˆ°ã€‚å› ä¸ºå®ƒæ˜¯å”¯ä¸€çš„å­˜åœ¨ã€‚å°±ç®—æ˜¯ä¸€çº¿åŸå¸‚äººæ‰è¾ˆå‡ºçš„åœ°æ–¹ä¹Ÿæ˜¯æ²¡æœ‰çš„ã€‚è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªç¨‹åºé•¿ä»€ä¹ˆæ ·å§ï¼š</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-comment">/*
  æœ¬ç¨‹åºæè¿°äº†ä¸€ä¸ªä¸¤ä¸ªè‘«èŠ¦å¨ƒ(åˆç”¨ä¸€ä¸ªé€ å‹)ï¼Œä»¥é“è‡‚é˜¿ç«¥æœ¨æˆ–è¶…äººçš„å§¿åŠ¿å‘æ·±ç©ºé£ç¿”çš„åŠ¨ç”»ï¼Œ
 é€šè¿‡æ˜Ÿæ˜Ÿçš„å‘å·¦ä¸‹è§’å¿«é€Ÿç§»åŠ¨ï¼Œé‡‡ç”¨ç›¸å¯¹è¿åŠ¨çš„åŸç†ï¼Œå°±å¥½åƒè‘«èŠ¦æœå³ä¸Šè§’ç§»åŠ¨ã€‚
 æœ¬ç¨‹åºæ˜¯ç»¼åˆæ€§è¾ƒå¼ºçš„ä¸€ä¸ªç¨‹åºï¼Œæ¼”ç¤ºäº†C++ç²¾çµåº“æˆ–ç›¸å…³çŸ¥è¯†çš„ä¸€äº›ç”¨æ³•ï¼Œå¦‚ï¼š
1. ç»™è§’è‰²æ¢ä¸Šæ–°çš„é€ å‹
2. åŠ¨æ€æ•°ç»„ï¼Œå°±åƒPythonåˆ—è¡¨
3. forå¾ªç¯ï¼Œè¿™é‡Œäº§ç”Ÿ1åƒé¢—æ˜Ÿæ˜Ÿ
4. ç›¸å¯¹è¿åŠ¨çš„ä½“éªŒ
5. è‡ªå®šä¹‰è§’è‰²çš„å±æ€§,é€šè¿‡æ˜ å°„(å­—å…¸)
6. å†…ç½®å…¨å±€æŒ‡é’ˆå˜é‡g_screençš„ä½¿ç”¨
7. çª—å£å±å¹•åæ ‡çš„åˆ¤æ–­
8. è¿™å¯æ˜¯é€å¸§åŠ¨ç”»
*/</span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">"sprites.h"</span>  <span class="hljs-comment">//åŒ…å«C++ç²¾çµåº“ </span></span>
<span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;vector&gt;</span>     <span class="hljs-comment">//åŒ…å«å‘é‡ï¼Œå°±åƒPythonçš„åˆ—è¡¨</span></span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
Sprite è‘«èŠ¦å¨ƒ{<span class="hljs-string">"res/2huluwa.png"</span>};       <span class="hljs-comment">//å»ºç«‹è§’è‰²å«è‘«èŠ¦å¨ƒ </span>
<span class="hljs-comment">//g_screenæ˜¯å…¨å±€å±å¹•å¯¹è±¡çš„æŒ‡é’ˆï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨</span>
<span class="hljs-type">int</span> width = g_screen-&gt;<span class="hljs-built_in">width</span>();    <span class="hljs-comment">//çª—å£å±å¹•å®½é«˜</span>
<span class="hljs-type">int</span> height = g_screen-&gt;<span class="hljs-built_in">height</span>();  <span class="hljs-comment">//çª—å£å±å¹•é«˜åº¦</span>
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{        <span class="hljs-comment">//ä¸»åŠŸèƒ½å—</span>
   è‘«èŠ¦å¨ƒ.<span class="hljs-built_in">hide</span>().<span class="hljs-built_in">scale</span>(<span class="hljs-number">0.01</span>).<span class="hljs-built_in">bgcolor</span>(<span class="hljs-string">"black"</span>).<span class="hljs-built_in">color</span>(<span class="hljs-string">"cyan"</span>).<span class="hljs-built_in">write</span>(<span class="hljs-string">"åŠ è½½ä¸­..."</span>);
   vector&lt;Sprite*&gt; stars;      <span class="hljs-comment">//æ–°å»ºåŠ¨æ€æ•°ç»„ï¼Œä¿å­˜æ˜Ÿæ˜ŸæŒ‡é’ˆ</span>
   <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">1000</span>;i++){   <span class="hljs-comment">//äº§ç”Ÿä¸€åƒé¢—æ˜Ÿæ˜Ÿ</span>
      Sprite *star = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Sprite</span>(<span class="hljs-string">"res/circle_white.png"</span>);
      <span class="hljs-type">float</span> tmp = <span class="hljs-built_in">random</span>(<span class="hljs-number">0.01</span>,<span class="hljs-number">0.3</span>);  <span class="hljs-comment">//ä½œä¸ºæ˜Ÿæ˜Ÿçš„å¤§å°æ¯”ä¾‹</span>
      star-&gt;<span class="hljs-built_in">scale</span>(tmp);    <span class="hljs-comment">//è®¾å®šæ˜Ÿæ˜Ÿçš„å¤§å°</span>
      star-&gt;<span class="hljs-built_in">penup</span>();       <span class="hljs-comment">//æŠ¬ç¬”</span>
      star-&gt;<span class="hljs-built_in">speed</span>(<span class="hljs-number">0</span>);      <span class="hljs-comment">//é€Ÿåº¦æœ€å¿«</span>
      <span class="hljs-type">int</span> x = <span class="hljs-built_in">randint</span>(width/<span class="hljs-number">2</span>,width*<span class="hljs-number">5</span>);
      <span class="hljs-type">int</span> y = <span class="hljs-built_in">randint</span>(height/<span class="hljs-number">2</span>,height*<span class="hljs-number">5</span>);
      star-&gt;<span class="hljs-built_in">go</span>(x,y);
      <span class="hljs-comment">//ä¸‹é¢æ˜¯æ˜ å°„æ¥è‡ªå®šä¹‰å±æ€§ï¼Œå°±åƒPythonçš„åˆ—è¡¨</span>
      star-&gt;property[<span class="hljs-string">"velocity"</span>] = tmp * <span class="hljs-number">100</span>;
      star-&gt;<span class="hljs-built_in">setheading</span>(<span class="hljs-number">225</span>);  <span class="hljs-comment">//æœå‘å·¦ä¸‹è§’</span>
      stars.<span class="hljs-built_in">push_back</span>(star); <span class="hljs-comment">//æŠŠæ˜Ÿæ˜Ÿçš„åœ°å€æ”¾åˆ°starså‘é‡ï¼ˆåˆ—è¡¨ä¸­ï¼‰</span>
   } 
   <span class="hljs-comment">//æ¢é™¤æ‰€å†™çš„æ–‡å­—ï¼Œå¹¶ä¸”è®¾å®šæ‰‹åŠ¨åˆ·æ–°ï¼Œç„¶ååˆ°æœ€ä¸Šå±‚ï¼Œæ˜¾ç¤ºå‡ºæ¥ã€‚</span>
   <span class="hljs-type">float</span> k = <span class="hljs-number">0.01</span>;        <span class="hljs-comment">//ä½œè‘«èŠ¦å¨ƒå¤§å°çš„æ¯”ä¾‹</span>
   è‘«èŠ¦å¨ƒ.<span class="hljs-built_in">clear</span>().<span class="hljs-built_in">tracer</span>(<span class="hljs-number">0</span>).<span class="hljs-built_in">set_layer</span>(<span class="hljs-number">1000</span>).<span class="hljs-built_in">show</span>();
   <span class="hljs-keyword">while</span>(g_screen-&gt;<span class="hljs-built_in">exitonclick</span>()){
      <span class="hljs-keyword">if</span>(k&lt;<span class="hljs-number">1.0</span>)è‘«èŠ¦å¨ƒ.<span class="hljs-built_in">scale</span>(k); k = k+<span class="hljs-number">0.01</span>;
      <span class="hljs-keyword">for</span>(Sprite *star:stars){   <span class="hljs-comment">//æ¯ä¸ªæ˜Ÿæ˜Ÿéƒ½æœå³ä¸Šè§’ç§»åŠ¨</span>
         star-&gt;<span class="hljs-built_in">fd</span>( star-&gt;property[<span class="hljs-string">"velocity"</span>] );
         <span class="hljs-comment">//å¦‚æœåˆ°äº†å·¦ä¸‹è§’å°±éšè—å†ç§»åˆ°å³ä¸Šè§’çš„ä¸€ä¸ªéšæœºä½ç½®</span>
         <span class="hljs-keyword">if</span>(star-&gt;<span class="hljs-built_in">xcor</span>() &lt; -width/<span class="hljs-number">2</span> &amp;&amp; star-&gt;<span class="hljs-built_in">ycor</span>() &lt; -height/<span class="hljs-number">2</span>){
             star-&gt;<span class="hljs-built_in">hide</span>();
             star-&gt;<span class="hljs-built_in">go</span>(<span class="hljs-built_in">randint</span>(width/<span class="hljs-number">2</span>,width*<span class="hljs-number">5</span>),<span class="hljs-built_in">randint</span>(height/<span class="hljs-number">2</span>,height*<span class="hljs-number">5</span>));
             star-&gt;<span class="hljs-built_in">show</span>();
         }
      } 
      g_screen-&gt;<span class="hljs-built_in">update</span>();    <span class="hljs-comment">//æ›´æ–°åŠ¨ç”»æ˜¾ç¤º</span>
      g_screen-&gt;<span class="hljs-built_in">wait</span>(<span class="hljs-number">0.01</span>);  
   }
    
   <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre>
<p>å…ˆçœ‹ç¬¬ä¸€è¡Œä»£ç ï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªå«sprites.hçš„å¤´æ–‡ä»¶ã€‚ä½ åœ¨å“ªé‡Œçœ‹è¿‡è¿™ä¸ªå¤´æ–‡ä»¶å—ï¼Ÿå¥½åœ¨æœ‰ä¸ªæ³¨é‡Šã€‚å®ƒçš„åå­—å«C++ç²¾çµåº“ã€‚ä»€ä¹ˆé¬¼ï¼Ÿå¬è¯´è¿‡godotï¼Œå¬è¯´è¿‡è™šå¹»å¼•æ“ï¼Œå¬è¯´è¿‡unity3Dï¼Œä½†æ²¡å¬è¯´è¿‡ä»€ä¹ˆC++ç²¾çµåº“ã€‚è¿™å¤§æ¦‚æ˜¯æ–°å‡ºçš„ä¸€ä¸ªä¸çŸ¥åçš„åº“å§ã€‚æ¯•ç«Ÿåœ¨ä¸­å›½æŸä¸ªè§’è½æŸä¸ªç¨‹åºå‘˜æå‡ºä¸ªä»€ä¹ˆåº“æ¥ï¼Œåˆ«äººéƒ½ä¸çŸ¥é“ï¼Œè¿™ä¸æ˜¯å¾ˆæ­£å¸¸å—ï¼Ÿ
ç„¶åæˆ‘ä»¬æ¥çœ‹ä¸‹è¿™ä¸ªè§’è‰²æ˜¯æ€ä¹ˆåˆ›å»ºçš„ã€‚ä»£ç æ˜¯ï¼š</p>
<pre><code class="hljs language-C++" lang="C++">**Sprite è‘«èŠ¦å¨ƒ{<span class="hljs-string">"res/2huluwa.png"</span>};**ï¼Œ  
</code></pre>
<p>å˜é‡åè¿˜æ˜¯ä¸­æ–‡çš„ï¼Œå¯çœŸæ˜¯<em>é¡¾åæ€ä¹‰</em>å•Šã€‚æ˜¯ä¸ªäººéƒ½çŸ¥é“è¿™æ˜¯æŠŠ<strong>è‘«èŠ¦å¨ƒ</strong>ç»™è¯·å‡ºæ¥äº†ã€‚</p>
<p>æ¥ç€ï¼Œæˆ‘ä»¬çœ‹ä¸‹mainå‡½æ•°ï¼Œå“¦ï¼Œä¸å¯¹ï¼Œåº”è¯¥å«ä¸»åŠŸèƒ½å—ã€‚å¹³æ—¶æˆ‘ä»¬ä¹ æƒ¯äº†å«ä¸»å‡½æ•°ã€‚è¿™é‡Œä½œè€…ä¸ºä»€ä¹ˆè¦æŠŠå®ƒå«ä¸»åŠŸèƒ½å—å‘¢ï¼Ÿ ç»è¿‡æ€è€ƒï¼Œè¿™æ˜¯ä¸€ä¸ªé’å°‘å¹´C++å…´è¶£ç­çš„æ•™å­¦ç¨‹åºï¼Œå«åŠŸèƒ½å—æ¯”å«å‡½æ•°æ›´å¥½ç†è§£ã€‚æ‰€ä»¥æ³¨é‡Šå°±å˜æˆäº†â€œä¸»åŠŸèƒ½å—â€äº†ã€‚åœ¨ä¸»åŠŸèƒ½å—é‡Œï¼Œæˆ‘ä»¬çœ‹åˆ°äº†ä¸€è¡Œé•¿é•¿çš„ä»£ç ï¼š</p>
<pre><code class="hljs language-C++" lang="C++"> **è‘«èŠ¦å¨ƒ.<span class="hljs-built_in">hide</span>().<span class="hljs-built_in">scale</span>(<span class="hljs-number">0.01</span>).<span class="hljs-built_in">bgcolor</span>(<span class="hljs-string">"black"</span>).<span class="hljs-built_in">color</span>(<span class="hljs-string">"cyan"</span>).<span class="hljs-built_in">write</span>(<span class="hljs-string">"åŠ è½½ä¸­..."</span>);**  
</code></pre>
<p>ç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯è®©è‘«èŠ¦å¨ƒéšè—å¹¶ä¸”ç¼©å°ï¼Œç„¶åè®¾å®šèƒŒæ™¯é¢œè‰²ä¸ºé»‘è‰²ï¼Œå¹¶ä¸”è®¾å®šç”»ç¬”é¢œè‰²ä¸ºé’è‰²åå†™æ–‡å­—ã€‚å•Šï¼Œå¥½é•¿ï¼Œè¿™C++ä»£ç çœŸæ˜¯ç‰›é€¼ï¼Œåƒè‡ªç„¶è¯­è¨€ä¸€æ ·â€é¡ºå£â€œã€‚</p>
<p>æˆ‘ä»¬ä»æœ€å¼€å§‹çš„æ³¨é‡Šé‡Œå¾—çŸ¥ã€‚è¿™ä¸ªç¨‹åºä¼šç”Ÿæˆä¸€ä¸ªåŠ¨ç”»ï¼Œæœ‰ä¸€åƒé¢—æ˜Ÿæ˜Ÿæ˜Ÿï¼Œæ‰€ä»¥åœ¨ä¸»åŠŸèƒ½å—æˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªforå¾ªç¯ã€‚å®ƒæŠŠæ˜Ÿæ˜Ÿä»¬çš„æŒ‡é’ˆéƒ½æ”¾åˆ°äº†starså‘é‡é‡Œäº†ã€‚æ¯é¢—æ˜Ÿæ˜Ÿçš„å¤§å°ã€ä½ç½®ã€é€Ÿåº¦éƒ½èƒ½éšæœºè®¾ç½®ï¼Œæ¯”å¦‚<code>tmp = random(0.01,0.3)</code>æ§åˆ¶æ˜Ÿæ˜Ÿå¤§å°ï¼Œ<code>star-&gt;go(x,y)</code>ç›´æ¥å®šä½åˆ°å±å¹•éšæœºä½ç½®ã€‚ä½†æ˜¯è¦æ³¨æ„ï¼Œæ–¹å‘å´æ˜¯ç»Ÿä¸€ä¸º225åº¦ã€‚ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè®¾å®šå‘¢ï¼Ÿ225åº¦æ˜¯å‘å·¦ä¸‹è§’çš„æ–¹å‘ï¼Œéš¾é“è¦è®©æ˜Ÿæ˜Ÿä»¬éƒ½æœå·¦ä¸‹è§’ç§»åŠ¨ï¼Ÿè¿˜çœŸæ˜¯çš„ï¼</p>
<p>é‚£ä¹ˆè‘«èŠ¦å¨ƒæ˜¯å¦‚ä½•å‘å³ä¸Šè§’é£ç¿”çš„å‘¢ï¼Ÿå…¶å®è‘«èŠ¦å¨ƒæ ¹æœ¬æ²¡æœ‰åŠ¨ã€‚åˆšæ‰è®©æ˜Ÿæ˜Ÿä»¬çš„æ–¹å‘ä¸º225åº¦ï¼Œåˆ©ç”¨ç›¸å¯¹è¿åŠ¨çš„åŸç†ï¼Œ è¿™æ ·å°±èƒ½è®©æ˜Ÿæ˜Ÿå‘å·¦ä¸‹è§’ç§»åŠ¨ï¼Œä»è€Œåˆ¶é€ å‡ºè‘«èŠ¦å¨ƒå‘å³ä¸Šè§’é£è¡Œçš„æ•ˆæœã€‚è¿™ç§æ•ˆæœåœ¨æ¸¸æˆæˆ–åŠ¨ç”»åˆ¶ä½œä¸­éå¸¸å¸¸è§ï¼Œå¯ä»¥å¢åŠ è§†è§‰ä¸Šçš„åŠ¨æ„Ÿå’ŒçœŸå®æ„Ÿã€‚</p>
<p>è¿˜æœ‰ä¸€äº›ç»†èŠ‚ï¼Œæ¯”å¦‚å…¶å®æ˜Ÿæ˜Ÿçš„ç§»åŠ¨é€Ÿåº¦å’Œå¤§å°æ˜¯å…³è”çš„ã€‚è¶Šå¤§çš„æ˜Ÿæ˜Ÿç§»åŠ¨çš„é€Ÿåº¦è¶Šå¿«ï¼Œè¶Šå°çš„æ˜Ÿæ˜Ÿï¼Œå°±å¥½åƒè¶Šåœ¨è¿œå¤„ï¼Œæ‰€ä»¥ç§»åŠ¨é€Ÿåº¦è¶Šæ…¢ã€‚ä»¥ä¸‹è¿™è¡Œä»£ç ï¼š</p>
<pre><code class="hljs language-C++" lang="C++">**star-&gt;property[<span class="hljs-string">"velocity"</span>] = tmp * <span class="hljs-number">100</span>;**  
</code></pre>
<p>å…¶å®å°±æ˜¯è®¾å®šæ˜Ÿæ˜Ÿçš„é€Ÿåº¦ï¼Œç”±äºtmpè¢«ç”¨äºè®¾å®šäº†æ˜Ÿæ˜Ÿçš„å¤§å°ï¼š<strong>star-&gt;scale(tmp);</strong> æ‰€ä»¥å°±ä¼šå‘ˆç°â€œç«‹ä½“â€æ•ˆæœã€‚</p>
<p>æœ€åï¼Œåœ¨whileå¾ªç¯ä¸­ï¼Œæ˜Ÿæ˜Ÿæ˜¯ä¸æ–­åœ°å¤ç”¨çš„ã€‚å®ƒä»¬ä¸æ–­åœ°ä»å³ä¸Šè§’ç§»åˆ°å·¦ä¸‹è§’ï¼Œä»¥è¡¬æ‰˜å‡ºè‘«èŠ¦å¨ƒçš„å‘å³ä¸Šè§’ç§»åŠ¨ã€‚ä¸€æ—¦æ˜Ÿæ˜Ÿç§»åˆ°äº†å·¦ä¸‹è§’è¾¹ç¼˜å¤„ï¼Œåˆ™ä¼šç¬ç§»åˆ°å³ä¸Šè§’æŸä¸ªä½ç½®ã€‚å°±åƒç»™æ˜Ÿæ˜Ÿä»¬è®¾ç½®äº†ä¸€ä¸ªç”µå­å›´æ ,è·‘å‡ºå»å°±æŠ“å›æ¥ã€‚è¿™ä¸ªç¨‹åºç›´è§‚åœ°æ¼”ç¤ºå‡ºç›¸å¯¹è¿åŠ¨è¿™ä¸ªç‰©ç†åŸç†ï¼Œå¯¹äºç‰©ç†çš„å­¦ä¹ åŠä»¥ååšæ¸¸æˆæˆ–åŠ¨ç”»çš„è§†è§‰é€»è¾‘éå¸¸æœ‰å¸®åŠ©ã€‚</p>
<p>æ€»åœ°æ¥è¯´ï¼Œåº“çš„æ ¸å¿ƒåŠŸèƒ½ï¼ˆä»ä»£ç çœ‹ï¼‰ï¼Œç”¨è¿™ä¸ªC++ç²¾çµåº“ç¼–å†™åŠ¨ç”»çš„æ¡†æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-C++" lang="C++"><span class="hljs-comment">// åˆ›å»ºè§’è‰² - å°±åƒåœ¨æ¸¸æˆé‡Œæ‹–å…¥ä¸€ä¸ªè§’è‰²</span>
Sprite è§’è‰²{<span class="hljs-string">"å›¾ç‰‡.png"</span>};

<span class="hljs-comment">// æ§åˆ¶è§’è‰² - ä¸€å¥è¯ä¸€ä¸ªåŠ¨ä½œ</span>
è§’è‰².<span class="hljs-built_in">fd</span>(<span class="hljs-number">100</span>);           <span class="hljs-comment">// å‰è¿›</span>
è§’è‰².<span class="hljs-built_in">scale</span>(<span class="hljs-number">2.0</span>);       <span class="hljs-comment">// ç¼©æ”¾æ”¾</span>
è§’è‰².<span class="hljs-built_in">right</span>(<span class="hljs-number">45</span>);       <span class="hljs-comment">// æ—‹è½¬</span>
è§’è‰².<span class="hljs-built_in">write</span>(<span class="hljs-string">"æ–‡å­—"</span>);  <span class="hljs-comment">//ä¸å­—</span>

<span class="hljs-comment">// åŠ¨ç”»å¾ªç¯ - åƒç”µå½±ä¸€å¸§å¸§æ’­æ”¾</span>
<span class="hljs-keyword">while</span>(æ¸¸æˆæ²¡ç»“æŸ){
    æ›´æ–°æ‰€æœ‰è§’è‰²ä½ç½®();
    é‡æ–°ç»˜åˆ¶ç”»é¢();
}
</code></pre>
<p>å®ƒçš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯å¯ä»¥ç”¨äºå¿«é€ŸåŸå‹ï¼šæƒ³ä¸ªåˆ›æ„ï¼Œå‡ ååˆ†é’Ÿå°±èƒ½åšå‡ºdemoï¼Œä»£ç ç®€æ´,æ¯”ç”¨ä¼ ç»Ÿæ¸¸æˆå¼•æ“ï¼ˆå¦‚SDLã€SFMLï¼‰ä»£ç é‡å°‘å¾ˆå¤šï¼Œå­¦ä¹ æ›²çº¿å¹³ç¼“ï¼šæ¯”å­¦Unityã€Unrealç®€å•å¾—å¤šäº†ã€‚è¿™ä¸ªç¨‹åºæœ¬æ¥å°±æ˜¯ä¸€ä¸ªé’å°‘å¹´C++å…´è¶£ç­æ•™å­¦ç¨‹åºï¼Œæ‰€ä»¥å®ƒæ— ç–‘æ˜¯ä¸­å›½å°‘å„¿C++å…´è¶£ç­æ–°çš„ç¦éŸ³å•Šã€‚
`</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¨‹åºå‘˜é‚ªä¿®æ‰‹å†Œï¼šé‚£äº›ä¸èƒ½å†™è¿›æ–‡æ¡£çš„éªšæ“ä½œ]]></title>    <link>https://juejin.cn/post/7592876744527183922</link>    <guid>https://juejin.cn/post/7592876744527183922</guid>    <pubDate>2026-01-09T03:20:25.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592876744527183922" data-draft-id="7592876744527167538" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¨‹åºå‘˜é‚ªä¿®æ‰‹å†Œï¼šé‚£äº›ä¸èƒ½å†™è¿›æ–‡æ¡£çš„éªšæ“ä½œ"/> <meta itemprop="keywords" content="å‰ç«¯,åç«¯,ä»£ç è§„èŒƒ"/> <meta itemprop="datePublished" content="2026-01-09T03:20:25.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç¨‹åºå‘˜Agions"/> <meta itemprop="url" content="https://juejin.cn/user/360295545187751"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¨‹åºå‘˜é‚ªä¿®æ‰‹å†Œï¼šé‚£äº›ä¸èƒ½å†™è¿›æ–‡æ¡£çš„éªšæ“ä½œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/360295545187751/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç¨‹åºå‘˜Agions
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T03:20:25.000Z" title="Fri Jan 09 2026 03:20:25 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>"å¦‚æœå®ƒçœ‹èµ·æ¥å¾ˆè ¢ï¼Œä½†å®ƒèƒ½ç”¨ï¼Œé‚£å®ƒå°±ä¸è ¢ã€‚"
â€”â€” æŸä½å‡Œæ™¨ä¸‰ç‚¹è¿˜åœ¨æ”¹ Bug çš„ç¨‹åºå‘˜</p>
</blockquote>
<h2 data-id="heading-0">å‰è¨€ï¼šä»€ä¹ˆæ˜¯"é‚ªä¿®"ï¼Ÿ</h2>
<p>åœ¨ç¨‹åºå‘˜çš„ä¸–ç•Œé‡Œï¼Œæœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š</p>
<p><strong>æ­£é“</strong>ï¼šè®¾è®¡æ¨¡å¼ã€æœ€ä½³å®è·µã€ä»£ç è§„èŒƒã€æ¶æ„ä¼˜é›…
<strong>é‚ªä¿®</strong>ï¼šèƒ½è·‘å°±è¡Œã€å…ˆä¸Šå†è¯´ã€TODO æ°¸è¿œä¸æ”¹ã€è¿™ä¸ª Bug æ˜¯ Feature</p>
<p>æ¯ä¸ªç¨‹åºå‘˜éƒ½çŸ¥é“åº”è¯¥èµ°æ­£é“ï¼Œä½†æ¯ä¸ªç¨‹åºå‘˜ä¹Ÿéƒ½æœ‰è¿‡è¿™æ ·çš„æ—¶åˆ»ï¼š</p>
<ul>
<li>äº§å“ç»ç†è¯´"æ˜å¤©ä¸Šçº¿"</li>
<li>è€æ¿è¯´"è¿™ä¸ªå¾ˆç®€å•å§"</li>
<li>æµ‹è¯•è¯´"è¿™ä¸ª Bug å¿…é¡»ä»Šå¤©ä¿®"</li>
<li>å®¢æˆ·è¯´"æˆ‘ä»¬ä»˜äº†é’±çš„"</li>
</ul>
<p>äºæ˜¯ï¼Œ<strong>é‚ªä¿®</strong>å°±æˆäº†ç”Ÿå­˜å¿…å¤‡æŠ€èƒ½ã€‚</p>
<p><strong>å…è´£å£°æ˜</strong>ï¼šæœ¬æ–‡æŠ€å·§ä»…ä¾›ç´§æ€¥æƒ…å†µä½¿ç”¨ã€‚å¦‚æœä½ çš„ä»£ç å®¡æŸ¥è€…çœ‹åˆ°è¿™äº›ï¼Œè¯·å‡è£…ä¸è®¤è¯†æˆ‘ã€‚</p>
<hr/>
<h2 data-id="heading-1">ç¬¬ä¸€ç« ï¼šå‰ç«¯é‚ªä¿®å¤§å…¨</h2>
<h3 data-id="heading-2">1.1 CSS çš„é»‘é­”æ³•</h3>
<h4 data-id="heading-3">é—®é¢˜ï¼šè¿™ä¸ªå…ƒç´ æ­»æ´»å¯¹ä¸é½</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* æ­£é“ï¼šç”¨Flexboxæˆ–Gridä»”ç»†å¸ƒå±€ */</span>
<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">justify-content</span>: center;
  <span class="hljs-attribute">align-items</span>: center;
}

<span class="hljs-comment">/* é‚ªä¿®ï¼šæš´åŠ›è§£å†³ */</span>
<span class="hljs-selector-class">.element</span> {
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);
  <span class="hljs-comment">/* å¦‚æœè¿˜ä¸è¡Œï¼ŒåŠ è¿™ä¸ª */</span>
  <span class="hljs-attribute">margin-top</span>: -<span class="hljs-number">3px</span>; <span class="hljs-comment">/* ç„å­¦æ•°å­—ï¼Œåˆ«é—®ä¸ºä»€ä¹ˆ */</span>
}
</code></pre>
<h4 data-id="heading-4">é—®é¢˜ï¼šz-index ä¸ç”Ÿæ•ˆ</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* æ­£é“ï¼šç†è§£å±‚å ä¸Šä¸‹æ–‡ï¼Œåˆç†è§„åˆ’z-index */</span>

<span class="hljs-comment">/* é‚ªä¿®ï¼šæ•°å­—å¤§åŠ›å‡ºå¥‡è¿¹ */</span>
<span class="hljs-selector-class">.modal</span> {
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">99999</span>;
}

<span class="hljs-selector-class">.modal-overlay</span> {
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">99998</span>;
}

<span class="hljs-selector-class">.dropdown</span> {
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">99997</span>;
}

<span class="hljs-comment">/* ç»ˆæé‚ªä¿®ï¼šå½“99999éƒ½ä¸å¤Ÿç”¨æ—¶ */</span>
<span class="hljs-selector-class">.super-important-element</span> {
  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">2147483647</span>; <span class="hljs-comment">/* 32ä½æ•´æ•°æœ€å¤§å€¼ï¼Œä¸æœæ¥æˆ˜ */</span>
}
</code></pre>
<h4 data-id="heading-5">é—®é¢˜ï¼šæ ·å¼è¢«è¦†ç›–äº†</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* æ­£é“ï¼šæ£€æŸ¥é€‰æ‹©å™¨ä¼˜å…ˆçº§ï¼Œé‡æ„CSSç»“æ„ */</span>

<span class="hljs-comment">/* é‚ªä¿®ï¼š!importantå¤§æ³• */</span>
<span class="hljs-selector-class">.my-button</span> {
  <span class="hljs-attribute">background-color</span>: red <span class="hljs-meta">!important</span>;
  <span class="hljs-attribute">color</span>: white <span class="hljs-meta">!important</span>;
  <span class="hljs-comment">/* å¦‚æœè¿˜ä¸è¡Œ */</span>
  <span class="hljs-attribute">background-color</span>: red <span class="hljs-meta">!important</span> <span class="hljs-meta">!important</span>; <span class="hljs-comment">/* å¼€ç©ç¬‘çš„ï¼Œè¿™ä¸è¡Œ */</span>
}

<span class="hljs-comment">/* ç»ˆæé‚ªä¿®ï¼šå†…è”æ ·å¼ + !important */</span>
</code></pre>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color: red !important;"</span>&gt;</span>æˆ‘è¯´çº¢å°±æ˜¯çº¢<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<h3 data-id="heading-6">1.2 JavaScript çš„é‡è·¯å­</h3>
<h4 data-id="heading-7">é—®é¢˜ï¼šå¼‚æ­¥å›è°ƒåœ°ç‹±</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£é“ï¼šä½¿ç”¨async/awaitï¼Œä¼˜é›…å¤„ç†å¼‚æ­¥</span>

<span class="hljs-comment">// é‚ªä¿®ï¼šsetTimeoutè§£å†³ä¸€åˆ‡æ—¶åºé—®é¢˜</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">hackyFix</span>(<span class="hljs-params"/>) {
  <span class="hljs-title function_">doSomething</span>()

  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ç­‰ä¸€ä¸‹ï¼Œè®©ä¸Šé¢çš„å…ˆæ‰§è¡Œå®Œ</span>
    <span class="hljs-title function_">doSomethingElse</span>()
  }, <span class="hljs-number">0</span>)

  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// å†ç­‰ä¸€ä¸‹</span>
    <span class="hljs-title function_">doAnotherThing</span>()
  }, <span class="hljs-number">100</span>)

  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ä¿é™©èµ·è§ï¼Œå¤šç­‰ä¸€ä¼š</span>
    <span class="hljs-title function_">finalThing</span>()
  }, <span class="hljs-number">500</span>)
}

<span class="hljs-comment">// æ›´é‚ªçš„ç‰ˆæœ¬ï¼šå½“ä½ ä¸çŸ¥é“è¦ç­‰å¤šä¹…</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">reallyHackyFix</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> checkInterval = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">window</span>.<span class="hljs-property">someGlobalVariable</span>) {
      <span class="hljs-built_in">clearInterval</span>(checkInterval)
      <span class="hljs-title function_">doTheThing</span>()
    }
  }, <span class="hljs-number">100</span>)

  <span class="hljs-comment">// ä¿é™©èµ·è§ï¼Œ10ç§’åå¼ºåˆ¶æ‰§è¡Œ</span>
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-built_in">clearInterval</span>(checkInterval)
    <span class="hljs-title function_">doTheThing</span>() <span class="hljs-comment">// ç®¡å®ƒæœ‰æ²¡æœ‰å‡†å¤‡å¥½</span>
  }, <span class="hljs-number">10000</span>)
}
</code></pre>
<h4 data-id="heading-8">é—®é¢˜ï¼šæ•°æ®ç±»å‹è½¬æ¢</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£é“ï¼šä½¿ç”¨æ˜ç¡®çš„ç±»å‹è½¬æ¢æ–¹æ³•</span>
<span class="hljs-keyword">const</span> num = <span class="hljs-built_in">parseInt</span>(str, <span class="hljs-number">10</span>)
<span class="hljs-keyword">const</span> str = <span class="hljs-title class_">String</span>(num)
<span class="hljs-keyword">const</span> bool = <span class="hljs-title class_">Boolean</span>(value)

<span class="hljs-comment">// é‚ªä¿®ï¼šJavaScriptçš„éšå¼è½¬æ¢é»‘é­”æ³•</span>
<span class="hljs-keyword">const</span> num = +str <span class="hljs-comment">// å­—ç¬¦ä¸²è½¬æ•°å­—</span>
<span class="hljs-keyword">const</span> str = <span class="hljs-string">""</span> + num <span class="hljs-comment">// æ•°å­—è½¬å­—ç¬¦ä¸²</span>
<span class="hljs-keyword">const</span> bool = !!value <span class="hljs-comment">// ä»»æ„å€¼è½¬å¸ƒå°”</span>
<span class="hljs-keyword">const</span> int = ~~floatNum <span class="hljs-comment">// æµ®ç‚¹è½¬æ•´æ•°ï¼ˆæ¯”Math.floorå¿«ï¼‰</span>
<span class="hljs-keyword">const</span> arr = [...str] <span class="hljs-comment">// å­—ç¬¦ä¸²è½¬æ•°ç»„</span>

<span class="hljs-comment">// æ›´éªšçš„æ“ä½œ</span>
<span class="hljs-keyword">const</span> isNumber = value === +value <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ä¸ºæ•°å­—</span>
<span class="hljs-keyword">const</span> isEmpty = !value?.<span class="hljs-property">length</span> <span class="hljs-comment">// æ£€æŸ¥æ˜¯å¦ä¸ºç©º</span>
<span class="hljs-keyword">const</span> defaultVal = value || <span class="hljs-string">"default"</span> <span class="hljs-comment">// é»˜è®¤å€¼ï¼ˆå°å¿ƒ0å’Œ''ï¼‰</span>
<span class="hljs-keyword">const</span> safeVal = value ?? <span class="hljs-string">"default"</span> <span class="hljs-comment">// æ›´å®‰å…¨çš„é»˜è®¤å€¼</span>
</code></pre>
<h4 data-id="heading-9">é—®é¢˜ï¼šæ·±æ‹·è´å¯¹è±¡</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£é“ï¼šä½¿ç”¨structuredCloneæˆ–lodash.cloneDeep</span>
<span class="hljs-keyword">const</span> copy = <span class="hljs-title function_">structuredClone</span>(original)
<span class="hljs-keyword">const</span> copy = _.<span class="hljs-title function_">cloneDeep</span>(original)

<span class="hljs-comment">// é‚ªä¿®ï¼šJSONå¤§æ³•</span>
<span class="hljs-keyword">const</span> copy = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(original))
<span class="hljs-comment">// æ³¨æ„ï¼šä¼šä¸¢å¤±å‡½æ•°ã€undefinedã€Symbolã€å¾ªç¯å¼•ç”¨ä¼šæŠ¥é”™</span>

<span class="hljs-comment">// æ›´é‚ªçš„ï¼šå½“ä½ åªéœ€è¦æµ…æ‹·è´</span>
<span class="hljs-keyword">const</span> copy = { ...original }
<span class="hljs-keyword">const</span> arrCopy = [...originalArr]

<span class="hljs-comment">// ç»ˆæé‚ªä¿®ï¼šå½“ä½ éœ€è¦"å·®ä¸å¤š"çš„æ‹·è´</span>
<span class="hljs-keyword">const</span> almostCopy = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>({}, original)
</code></pre>
<h3 data-id="heading-10">1.3 React çš„éªšæ“ä½œ</h3>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// é—®é¢˜ï¼šç»„ä»¶ä¸æ›´æ–°</span>

<span class="hljs-comment">// æ­£é“ï¼šæ£€æŸ¥stateå’Œpropsçš„å˜åŒ–ï¼Œä½¿ç”¨æ­£ç¡®çš„æ›´æ–°æ–¹å¼</span>

<span class="hljs-comment">// é‚ªä¿®ï¼šå¼ºåˆ¶æ›´æ–°</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HackyComponent</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  forceUpdateHack = <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">forceUpdate</span>() <span class="hljs-comment">// Reactå®˜æ–¹ä¸æ¨èï¼Œä½†å®ƒå°±æ˜¯èƒ½ç”¨</span>
  }
}

<span class="hljs-comment">// å‡½æ•°ç»„ä»¶çš„é‚ªä¿®ç‰ˆæœ¬</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">HackyFunctionalComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [, forceUpdate] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">hackyForceUpdate</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">forceUpdate</span>(<span class="hljs-function">(<span class="hljs-params">n</span>) =&gt;</span> n + <span class="hljs-number">1</span>) <span class="hljs-comment">// æ”¹å˜stateå¼ºåˆ¶é‡æ¸²æŸ“</span>
  }

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>...<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
}

<span class="hljs-comment">// æ›´é‚ªçš„ï¼škeyå¤§æ³•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">ParentComponent</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [resetKey, setResetKey] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>)

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">resetChild</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-title function_">setResetKey</span>(<span class="hljs-function">(<span class="hljs-params">k</span>) =&gt;</span> k + <span class="hljs-number">1</span>) <span class="hljs-comment">// æ”¹å˜keyï¼Œå­ç»„ä»¶å®Œå…¨é‡æ–°æŒ‚è½½</span>
  }

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ChildComponent</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{resetKey}</span> /&gt;</span></span>
}
</code></pre>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// é—®é¢˜ï¼šuseEffectä¾èµ–é¡¹è­¦å‘Šçƒ¦æ­»äº†</span>

<span class="hljs-comment">// æ­£é“ï¼šæ­£ç¡®å¤„ç†ä¾èµ–é¡¹</span>

<span class="hljs-comment">// é‚ªä¿®ï¼šç¦ç”¨è­¦å‘Š</span>
<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-title function_">doSomething</span>(someValue)
  <span class="hljs-comment">// eslint-disable-next-line react-hooks/exhaustive-deps</span>
}, []) <span class="hljs-comment">// æˆ‘å°±æ˜¯è¦ç©ºä¾èµ–ï¼Œä½ ç®¡æˆ‘</span>

<span class="hljs-comment">// æ›´é‚ªçš„ï¼šç”¨refç»•è¿‡ä¾èµ–</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">HackyComponent</span>(<span class="hljs-params">{ callback }</span>) {
  <span class="hljs-keyword">const</span> callbackRef = <span class="hljs-title function_">useRef</span>(callback)
  callbackRef.<span class="hljs-property">current</span> = callback <span class="hljs-comment">// æ¯æ¬¡æ¸²æŸ“æ›´æ–°ref</span>

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// ä½¿ç”¨refï¼Œä¸éœ€è¦æŠŠcallbackåŠ å…¥ä¾èµ–</span>
    callbackRef.<span class="hljs-title function_">current</span>()
  }, []) <span class="hljs-comment">// çœŸæ­£çš„ç©ºä¾èµ–ï¼Œä¸æŠ¥è­¦å‘Š</span>
}
</code></pre>
<hr/>
<h2 data-id="heading-11">ç¬¬äºŒç« ï¼šåç«¯é‚ªä¿®å¤§å…¨</h2>
<h3 data-id="heading-12">2.1 æ•°æ®åº“çš„é‡è·¯å­</h3>
<h4 data-id="heading-13">é—®é¢˜ï¼šæŸ¥è¯¢å¤ªæ…¢äº†</h4>
<pre><code class="hljs language-sql" lang="sql"><span class="hljs-comment">-- æ­£é“ï¼šåˆ†ææ‰§è¡Œè®¡åˆ’ï¼Œæ·»åŠ åˆé€‚çš„ç´¢å¼•ï¼Œä¼˜åŒ–æŸ¥è¯¢ç»“æ„</span>

<span class="hljs-comment">-- é‚ªä¿®ï¼šåŠ ç´¢å¼•å¤§æ³•</span>
<span class="hljs-keyword">CREATE</span> INDEX idx_everything <span class="hljs-keyword">ON</span> users(name, email, phone, address, created_at);
<span class="hljs-comment">-- ç´¢å¼•åŠ å¤šäº†ï¼Ÿä¸å­˜åœ¨çš„ï¼Œç£ç›˜ç©ºé—´ä¸è¦é’±</span>

<span class="hljs-comment">-- æ›´é‚ªçš„ï¼šæŸ¥è¯¢æç¤ºå¼ºåˆ¶ä½¿ç”¨ç´¢å¼•</span>
<span class="hljs-keyword">SELECT</span> <span class="hljs-comment">/*+ INDEX(users idx_name) */</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> users <span class="hljs-keyword">WHERE</span> name <span class="hljs-operator">=</span> <span class="hljs-string">'test'</span>;

<span class="hljs-comment">-- ç»ˆæé‚ªä¿®ï¼šç›´æ¥ç¼“å­˜ç»“æœ</span>
<span class="hljs-comment">-- åœ¨ä»£ç é‡Œ</span>
const <span class="hljs-keyword">result</span> <span class="hljs-operator">=</span> cache.get(<span class="hljs-string">'slow_query_result'</span>) <span class="hljs-operator">||</span> await db.query(slowQuery);
cache.set(<span class="hljs-string">'slow_query_result'</span>, <span class="hljs-keyword">result</span>, <span class="hljs-number">3600</span>); <span class="hljs-operator">/</span><span class="hljs-operator">/</span> ç¼“å­˜<span class="hljs-number">1</span>å°æ—¶ï¼Œç®¡å®ƒæ•°æ®å‡†ä¸å‡†
</code></pre>
<h4 data-id="heading-14">é—®é¢˜ï¼šN+1 æŸ¥è¯¢</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ­£é“ï¼šä½¿ç”¨JOINæˆ–é¢„åŠ è½½</span>

<span class="hljs-comment"># é‚ªä¿®ï¼šæ‰¹é‡æŸ¥è¯¢å‡‘åˆç”¨</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_users_with_orders_hacky</span>(<span class="hljs-params">user_ids</span>):
    users = User.query.<span class="hljs-built_in">filter</span>(User.<span class="hljs-built_in">id</span>.in_(user_ids)).<span class="hljs-built_in">all</span>()

    <span class="hljs-comment"># ä¸€æ¬¡æ€§æŸ¥å‡ºæ‰€æœ‰è®¢å•ï¼Œè€Œä¸æ˜¯æ¯ä¸ªç”¨æˆ·æŸ¥ä¸€æ¬¡</span>
    all_orders = Order.query.<span class="hljs-built_in">filter</span>(Order.user_id.in_(user_ids)).<span class="hljs-built_in">all</span>()

    <span class="hljs-comment"># æ‰‹åŠ¨ç»„è£…ï¼ˆä¸‘ä½†æœ‰æ•ˆï¼‰</span>
    orders_by_user = {}
    <span class="hljs-keyword">for</span> order <span class="hljs-keyword">in</span> all_orders:
        <span class="hljs-keyword">if</span> order.user_id <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> orders_by_user:
            orders_by_user[order.user_id] = []
        orders_by_user[order.user_id].append(order)

    <span class="hljs-keyword">for</span> user <span class="hljs-keyword">in</span> users:
        user.orders = orders_by_user.get(user.<span class="hljs-built_in">id</span>, [])

    <span class="hljs-keyword">return</span> users
</code></pre>
<h4 data-id="heading-15">é—®é¢˜ï¼šäº‹åŠ¡æ­»é”</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ­£é“ï¼šåˆ†ææ­»é”åŸå› ï¼Œè°ƒæ•´äº‹åŠ¡é¡ºåºï¼Œå‡å°äº‹åŠ¡èŒƒå›´</span>

<span class="hljs-comment"># é‚ªä¿®ï¼šé‡è¯•å¤§æ³•</span>
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps

<span class="hljs-keyword">def</span> <span class="hljs-title function_">retry_on_deadlock</span>(<span class="hljs-params">max_retries=<span class="hljs-number">3</span>, delay=<span class="hljs-number">0.1</span></span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">decorator</span>(<span class="hljs-params">func</span>):
<span class="hljs-meta">        @wraps(<span class="hljs-params">func</span>)</span>
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):
            <span class="hljs-keyword">for</span> attempt <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(max_retries):
                <span class="hljs-keyword">try</span>:
                    <span class="hljs-keyword">return</span> func(*args, **kwargs)
                <span class="hljs-keyword">except</span> DeadlockError:
                    <span class="hljs-keyword">if</span> attempt &lt; max_retries - <span class="hljs-number">1</span>:
                        time.sleep(delay * (attempt + <span class="hljs-number">1</span>))  <span class="hljs-comment"># æŒ‡æ•°é€€é¿</span>
                        <span class="hljs-keyword">continue</span>
                    <span class="hljs-keyword">raise</span>
        <span class="hljs-keyword">return</span> wrapper
    <span class="hljs-keyword">return</span> decorator

<span class="hljs-meta">@retry_on_deadlock(<span class="hljs-params">max_retries=<span class="hljs-number">5</span></span>)</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">transfer_money</span>(<span class="hljs-params">from_account, to_account, amount</span>):
    <span class="hljs-comment"># å¯èƒ½æ­»é”çš„æ“ä½œ</span>
    <span class="hljs-keyword">pass</span>
</code></pre>
<h3 data-id="heading-16">2.2 API çš„éªšæ“ä½œ</h3>
<h4 data-id="heading-17">é—®é¢˜ï¼šæ¥å£å“åº”å¤ªæ…¢</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ­£é“ï¼šä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢ï¼Œä½¿ç”¨ç¼“å­˜ï¼Œå¼‚æ­¥å¤„ç†</span>

<span class="hljs-comment"># é‚ªä¿®ï¼šå…ˆè¿”å›ï¼Œåå¤„ç†</span>
<span class="hljs-keyword">from</span> fastapi <span class="hljs-keyword">import</span> BackgroundTasks

<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/process"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">process_data</span>(<span class="hljs-params">data: <span class="hljs-built_in">dict</span>, background_tasks: BackgroundTasks</span>):
    <span class="hljs-comment"># ç«‹å³è¿”å›ï¼Œè®©ç”¨æˆ·è§‰å¾—å¾ˆå¿«</span>
    task_id = generate_task_id()

    <span class="hljs-comment"># å®é™…å¤„ç†æ”¾åˆ°åå°</span>
    background_tasks.add_task(do_heavy_processing, task_id, data)

    <span class="hljs-keyword">return</span> {<span class="hljs-string">"status"</span>: <span class="hljs-string">"processing"</span>, <span class="hljs-string">"task_id"</span>: task_id}
    <span class="hljs-comment"># ç”¨æˆ·ï¼šå“‡ï¼Œå¥½å¿«ï¼</span>
    <span class="hljs-comment"># å®é™…ä¸Šï¼šè¿˜æ²¡å¼€å§‹å¤„ç†å‘¢...</span>

<span class="hljs-comment"># æ›´é‚ªçš„ï¼šå‡è¿›åº¦æ¡</span>
<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/task/{task_id}/progress"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_progress</span>(<span class="hljs-params">task_id: <span class="hljs-built_in">str</span></span>):
    actual_progress = get_real_progress(task_id)

    <span class="hljs-comment"># è®©ç”¨æˆ·æ„Ÿè§‰ä¸€ç›´åœ¨åŠ¨</span>
    <span class="hljs-keyword">if</span> actual_progress &lt; <span class="hljs-number">90</span>:
        fake_progress = <span class="hljs-built_in">min</span>(actual_progress + random.randint(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>), <span class="hljs-number">89</span>)
    <span class="hljs-keyword">else</span>:
        fake_progress = actual_progress

    <span class="hljs-keyword">return</span> {<span class="hljs-string">"progress"</span>: fake_progress}
</code></pre>
<h4 data-id="heading-18">é—®é¢˜ï¼šç¬¬ä¸‰æ–¹ API ä¸ç¨³å®š</h4>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ­£é“ï¼šå®ç°å®Œå–„çš„é‡è¯•æœºåˆ¶ã€ç†”æ–­å™¨ã€é™çº§ç­–ç•¥</span>

<span class="hljs-comment"># é‚ªä¿®ï¼šå¤šå¤‡å‡ ä¸ª</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">HackyApiClient</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):
        self.endpoints = [
            <span class="hljs-string">"https://api1.example.com"</span>,
            <span class="hljs-string">"https://api2.example.com"</span>,
            <span class="hljs-string">"https://api-backup.example.com"</span>,
        ]

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">call_api</span>(<span class="hljs-params">self, path, data</span>):
        last_error = <span class="hljs-literal">None</span>

        <span class="hljs-keyword">for</span> endpoint <span class="hljs-keyword">in</span> self.endpoints:
            <span class="hljs-keyword">try</span>:
                response = requests.post(
                    <span class="hljs-string">f"<span class="hljs-subst">{endpoint}</span><span class="hljs-subst">{path}</span>"</span>,
                    json=data,
                    timeout=<span class="hljs-number">5</span>
                )
                <span class="hljs-keyword">if</span> response.ok:
                    <span class="hljs-keyword">return</span> response.json()
            <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
                last_error = e
                <span class="hljs-keyword">continue</span>  <span class="hljs-comment"># è¿™ä¸ªä¸è¡Œï¼Œè¯•ä¸‹ä¸€ä¸ª</span>

        <span class="hljs-comment"># å…¨éƒ½ä¸è¡Œï¼Ÿè¿”å›ç¼“å­˜çš„æ—§æ•°æ®</span>
        cached = self.get_cached_response(path)
        <span class="hljs-keyword">if</span> cached:
            <span class="hljs-keyword">return</span> cached  <span class="hljs-comment"># æ—§æ•°æ®æ€»æ¯”æ²¡æ•°æ®å¥½</span>

        <span class="hljs-keyword">raise</span> last_error

<span class="hljs-comment"># ç»ˆæé‚ªä¿®ï¼šç¡¬ç¼–ç å…œåº•æ•°æ®</span>
DEFAULT_RESPONSE = {
    <span class="hljs-string">"status"</span>: <span class="hljs-string">"ok"</span>,
    <span class="hljs-string">"data"</span>: <span class="hljs-string">"æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åå†è¯•"</span>,
    <span class="hljs-string">"is_fake"</span>: <span class="hljs-literal">True</span>  <span class="hljs-comment"># è‡³å°‘è¯šå®</span>
}
</code></pre>
<h3 data-id="heading-19">2.3 ç¼“å­˜çš„é»‘é­”æ³•</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é—®é¢˜ï¼šç¼“å­˜å’Œæ•°æ®åº“ä¸ä¸€è‡´</span>

<span class="hljs-comment"># æ­£é“ï¼šå®ç°å®Œå–„çš„ç¼“å­˜æ›´æ–°ç­–ç•¥ï¼ˆCache-Aside, Write-Throughç­‰ï¼‰</span>

<span class="hljs-comment"># é‚ªä¿®ï¼šåŒåˆ ç­–ç•¥</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">update_user</span>(<span class="hljs-params">user_id, data</span>):
    <span class="hljs-comment"># å…ˆåˆ ç¼“å­˜</span>
    cache.delete(<span class="hljs-string">f"user:<span class="hljs-subst">{user_id}</span>"</span>)

    <span class="hljs-comment"># æ›´æ–°æ•°æ®åº“</span>
    db.update_user(user_id, data)

    <span class="hljs-comment"># å»¶è¿Ÿå†åˆ ä¸€æ¬¡ï¼ˆé˜²æ­¢å¹¶å‘é—®é¢˜ï¼‰</span>
    time.sleep(<span class="hljs-number">0.5</span>)  <span class="hljs-comment"># ç„å­¦æ•°å­—</span>
    cache.delete(<span class="hljs-string">f"user:<span class="hljs-subst">{user_id}</span>"</span>)

<span class="hljs-comment"># æ›´é‚ªçš„ï¼šç¼“å­˜æ°¸ä¸è¿‡æœŸï¼Œæ‰‹åŠ¨åˆ·æ–°</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user_hacky</span>(<span class="hljs-params">user_id</span>):
    cached = cache.get(<span class="hljs-string">f"user:<span class="hljs-subst">{user_id}</span>"</span>)
    <span class="hljs-keyword">if</span> cached:
        <span class="hljs-keyword">return</span> cached

    user = db.get_user(user_id)
    cache.<span class="hljs-built_in">set</span>(<span class="hljs-string">f"user:<span class="hljs-subst">{user_id}</span>"</span>, user)  <span class="hljs-comment"># ä¸è®¾è¿‡æœŸæ—¶é—´</span>
    <span class="hljs-keyword">return</span> user

<span class="hljs-keyword">def</span> <span class="hljs-title function_">refresh_user_cache</span>(<span class="hljs-params">user_id</span>):
    <span class="hljs-string">"""éœ€è¦åˆ·æ–°æ—¶æ‰‹åŠ¨è°ƒç”¨"""</span>
    user = db.get_user(user_id)
    cache.<span class="hljs-built_in">set</span>(<span class="hljs-string">f"user:<span class="hljs-subst">{user_id}</span>"</span>, user)

<span class="hljs-comment"># ç»ˆæé‚ªä¿®ï¼šå‡ºé—®é¢˜å°±æ¸…ç©ºæ‰€æœ‰ç¼“å­˜</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">nuclear_option</span>():
    cache.flush_all()  <span class="hljs-comment"># æ ¸å¼¹çº§æ“ä½œï¼Œæ…ç”¨</span>
</code></pre>
<hr/>
<h2 data-id="heading-20">ç¬¬ä¸‰ç« ï¼šè°ƒè¯•é‚ªä¿®å¤§å…¨</h2>
<h3 data-id="heading-21">3.1 å½“ä½ æ‰¾ä¸åˆ° Bug åœ¨å“ª</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£é“ï¼šä½¿ç”¨è°ƒè¯•å™¨ï¼Œè®¾ç½®æ–­ç‚¹ï¼Œåˆ†æè°ƒç”¨æ ˆ</span>

<span class="hljs-comment">// é‚ªä¿®ï¼šconsole.logå¤§æ³•</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">mysteriousFunction</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"=== è¿›å…¥å‡½æ•° ==="</span>)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"data:"</span>, data)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"dataç±»å‹:"</span>, <span class="hljs-keyword">typeof</span> data)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"dataæ˜¯å¦ä¸ºnull:"</span>, data === <span class="hljs-literal">null</span>)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"dataæ˜¯å¦ä¸ºundefined:"</span>, data === <span class="hljs-literal">undefined</span>)

  <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">processData</span>(data)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å¤„ç†å:"</span>, result)
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"=== ç¦»å¼€å‡½æ•° ==="</span>)

  <span class="hljs-keyword">return</span> result
}

<span class="hljs-comment">// è¿›é˜¶ç‰ˆï¼šå¸¦é¢œè‰²çš„console.log</span>
<span class="hljs-keyword">const</span> debug = {
  <span class="hljs-attr">log</span>: <span class="hljs-function">(<span class="hljs-params">msg, data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`%c<span class="hljs-subst">${msg}</span>`</span>, <span class="hljs-string">"color: blue"</span>, data),
  <span class="hljs-attr">warn</span>: <span class="hljs-function">(<span class="hljs-params">msg, data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`%c<span class="hljs-subst">${msg}</span>`</span>, <span class="hljs-string">"color: orange"</span>, data),
  <span class="hljs-attr">error</span>: <span class="hljs-function">(<span class="hljs-params">msg, data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`%c<span class="hljs-subst">${msg}</span>`</span>, <span class="hljs-string">"color: red"</span>, data),
  <span class="hljs-attr">success</span>: <span class="hljs-function">(<span class="hljs-params">msg, data</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`%c<span class="hljs-subst">${msg}</span>`</span>, <span class="hljs-string">"color: green"</span>, data),
}

<span class="hljs-comment">// ç»ˆæç‰ˆï¼šconsole.logåœ°æ¯¯å¼è½°ç‚¸</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">debugEverything</span>(<span class="hljs-params">obj, prefix = <span class="hljs-string">""</span></span>) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">in</span> obj) {
    <span class="hljs-keyword">const</span> value = obj[key]
    <span class="hljs-keyword">const</span> path = prefix ? <span class="hljs-string">`<span class="hljs-subst">${prefix}</span>.<span class="hljs-subst">${key}</span>`</span> : key

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${path}</span>:`</span>, value)

    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"object"</span> &amp;&amp; value !== <span class="hljs-literal">null</span>) {
      <span class="hljs-title function_">debugEverything</span>(value, path)
    }
  }
}
</code></pre>
<h3 data-id="heading-22">3.2 å½“ Bug åªåœ¨ç”Ÿäº§ç¯å¢ƒå‡ºç°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£é“ï¼šå®Œå–„çš„æ—¥å¿—ç³»ç»Ÿï¼ŒAPMç›‘æ§ï¼Œé”™è¯¯è¿½è¸ª</span>

<span class="hljs-comment">// é‚ªä¿®ï¼šè¿œç¨‹è°ƒè¯•æ³¨å…¥</span>
<span class="hljs-comment">// åœ¨ç”Ÿäº§ä»£ç é‡Œå·å·åŠ ä¸€ä¸ªåé—¨ï¼ˆåƒä¸‡åˆ«çœŸè¿™ä¹ˆå¹²ï¼‰</span>
<span class="hljs-keyword">if</span> (
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">search</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"debug=true"</span>) &amp;&amp;
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">cookie</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">"admin=true"</span>)
) {
  <span class="hljs-comment">// å¼€å¯è¯¦ç»†æ—¥å¿—</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">DEBUG_MODE</span> = <span class="hljs-literal">true</span>

  <span class="hljs-comment">// æ³¨å…¥è°ƒè¯•å·¥å…·</span>
  <span class="hljs-keyword">const</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">"script"</span>)
  script.<span class="hljs-property">src</span> = <span class="hljs-string">"https://your-debug-tool.com/debug.js"</span>
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(script)

  <span class="hljs-comment">// æš´éœ²å†…éƒ¨çŠ¶æ€</span>
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">__APP_STATE__</span> = store.<span class="hljs-title function_">getState</span>()
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">__DEBUG_TOOLS__</span> = {
    <span class="hljs-attr">getState</span>: <span class="hljs-function">() =&gt;</span> store.<span class="hljs-title function_">getState</span>(),
    <span class="hljs-attr">dispatch</span>: <span class="hljs-function">(<span class="hljs-params">action</span>) =&gt;</span> store.<span class="hljs-title function_">dispatch</span>(action),
    <span class="hljs-comment">// æ›´å¤šè°ƒè¯•æ–¹æ³•...</span>
  }
}

<span class="hljs-comment">// æ›´å®‰å…¨çš„ç‰ˆæœ¬ï¼šæ¡ä»¶ç¼–è¯‘</span>
<span class="hljs-keyword">const</span> isDev = process.<span class="hljs-property">env</span>.<span class="hljs-property">NODE_ENV</span> === <span class="hljs-string">"development"</span>
<span class="hljs-keyword">const</span> isDebug = isDev || <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">"debug"</span>) === <span class="hljs-string">"true"</span>

<span class="hljs-keyword">if</span> (isDebug) {
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">msg, url, line, col, error</span>) =&gt;</span> {
    <span class="hljs-comment">// å‘é€åˆ°ä½ çš„è°ƒè¯•æœåŠ¡å™¨</span>
    <span class="hljs-title function_">fetch</span>(<span class="hljs-string">"/api/debug/error"</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">"POST"</span>,
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ msg, url, line, col, <span class="hljs-attr">stack</span>: error?.<span class="hljs-property">stack</span> }),
    })
  }
}
</code></pre>
<h3 data-id="heading-23">3.3 å½“ä½ ä¸çŸ¥é“ä»£ç åœ¨å“ªè¢«è°ƒç”¨</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£é“ï¼šä½¿ç”¨IDEçš„"æŸ¥æ‰¾å¼•ç”¨"åŠŸèƒ½</span>

<span class="hljs-comment">// é‚ªä¿®ï¼šæ‰“å°è°ƒç”¨æ ˆ</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">whoCalledMe</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è°ƒç”¨æ ˆ:"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>().<span class="hljs-property">stack</span>)
}

<span class="hljs-comment">// æ›´éªšçš„ï¼šåŠ«æŒå‡½æ•°</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">spyOn</span>(<span class="hljs-params">obj, methodName</span>) {
  <span class="hljs-keyword">const</span> original = obj[methodName]

  obj[methodName] = <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${methodName}</span> è¢«è°ƒç”¨äº†ï¼`</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å‚æ•°:"</span>, args)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è°ƒç”¨è€…:"</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>().<span class="hljs-property">stack</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"this:"</span>, <span class="hljs-variable language_">this</span>)

    <span class="hljs-keyword">const</span> result = original.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"è¿”å›å€¼:"</span>, result)

    <span class="hljs-keyword">return</span> result
  }
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-title function_">spyOn</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, <span class="hljs-string">"push"</span>)
<span class="hljs-comment">// ç°åœ¨æ¯æ¬¡è°ƒç”¨ arr.push() éƒ½ä¼šæ‰“å°è¯¦ç»†ä¿¡æ¯</span>

<span class="hljs-comment">// ç»ˆæç‰ˆï¼šProxyç›‘æ§ä¸€åˆ‡</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createSpyObject</span>(<span class="hljs-params">target, name = <span class="hljs-string">"object"</span></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, {
    <span class="hljs-title function_">get</span>(<span class="hljs-params">obj, prop</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${name}</span>.<span class="hljs-subst">${<span class="hljs-built_in">String</span>(prop)}</span> è¢«è®¿é—®`</span>)
      <span class="hljs-keyword">const</span> value = obj[prop]
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">"function"</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) {
          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${name}</span>.<span class="hljs-subst">${<span class="hljs-built_in">String</span>(prop)}</span>() è¢«è°ƒç”¨ï¼Œå‚æ•°:`</span>, args)
          <span class="hljs-keyword">return</span> value.<span class="hljs-title function_">apply</span>(obj, args)
        }
      }
      <span class="hljs-keyword">return</span> value
    },
    <span class="hljs-title function_">set</span>(<span class="hljs-params">obj, prop, value</span>) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${name}</span>.<span class="hljs-subst">${<span class="hljs-built_in">String</span>(prop)}</span> è¢«è®¾ç½®ä¸º:`</span>, value)
      obj[prop] = value
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
    },
  })
}
</code></pre>
<hr/>
<h2 data-id="heading-24">ç¬¬å››ç« ï¼šæ€§èƒ½ä¼˜åŒ–é‚ªä¿®</h2>
<h3 data-id="heading-25">4.1 å‰ç«¯æ€§èƒ½é‚ªä¿®</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é—®é¢˜ï¼šé¡µé¢åŠ è½½å¤ªæ…¢</span>

<span class="hljs-comment">// æ­£é“ï¼šä»£ç åˆ†å‰²ã€æ‡’åŠ è½½ã€ä¼˜åŒ–èµ„æº</span>

<span class="hljs-comment">// é‚ªä¿®ï¼šéª¨æ¶å± + å‡æ•°æ®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [data, setData] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">null</span>)
  <span class="hljs-keyword">const</span> [showSkeleton, setShowSkeleton] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>)

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// å…ˆæ˜¾ç¤ºå‡æ•°æ®ï¼Œè®©ç”¨æˆ·è§‰å¾—åŠ è½½å¾ˆå¿«</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setData</span>(<span class="hljs-variable constant_">FAKE_DATA</span>)
      <span class="hljs-title function_">setShowSkeleton</span>(<span class="hljs-literal">false</span>)
    }, <span class="hljs-number">100</span>)

    <span class="hljs-comment">// ç„¶åæ‚„æ‚„åŠ è½½çœŸæ•°æ®</span>
    <span class="hljs-title function_">fetchRealData</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">realData</span>) =&gt;</span> {
      <span class="hljs-title function_">setData</span>(realData)
    })
  }, [])

  <span class="hljs-keyword">if</span> (showSkeleton) <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Skeleton</span> /&gt;</span></span>
  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Content</span> <span class="hljs-attr">data</span>=<span class="hljs-string">{data}</span> /&gt;</span></span>
}

<span class="hljs-comment">// æ›´é‚ªçš„ï¼šé¢„æµ‹ç”¨æˆ·è¡Œä¸ºï¼Œæå‰åŠ è½½</span>
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">"mousemove"</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> links = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">"a"</span>)
  links.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">link</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> rect = link.<span class="hljs-title function_">getBoundingClientRect</span>()
    <span class="hljs-keyword">const</span> distance = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">hypot</span>(
      e.<span class="hljs-property">clientX</span> - (rect.<span class="hljs-property">left</span> + rect.<span class="hljs-property">width</span> / <span class="hljs-number">2</span>),
      e.<span class="hljs-property">clientY</span> - (rect.<span class="hljs-property">top</span> + rect.<span class="hljs-property">height</span> / <span class="hljs-number">2</span>)
    )

    <span class="hljs-comment">// é¼ æ ‡é è¿‘é“¾æ¥æ—¶ï¼Œé¢„åŠ è½½ç›®æ ‡é¡µé¢</span>
    <span class="hljs-keyword">if</span> (distance &lt; <span class="hljs-number">100</span>) {
      <span class="hljs-keyword">const</span> href = link.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">"href"</span>)
      <span class="hljs-keyword">if</span> (href &amp;&amp; !prefetchedUrls.<span class="hljs-title function_">has</span>(href)) {
        <span class="hljs-title function_">prefetchPage</span>(href)
        prefetchedUrls.<span class="hljs-title function_">add</span>(href)
      }
    }
  })
})
</code></pre>
<h3 data-id="heading-26">4.2 åç«¯æ€§èƒ½é‚ªä¿®</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># é—®é¢˜ï¼šæ¥å£å“åº”å¤ªæ…¢</span>

<span class="hljs-comment"># æ­£é“ï¼šä¼˜åŒ–ç®—æ³•ã€æ•°æ®åº“æŸ¥è¯¢ã€ä½¿ç”¨ç¼“å­˜</span>

<span class="hljs-comment"># é‚ªä¿®ï¼šåˆ†é¡µè¿”å›ï¼Œå‡è£…å¾ˆå¿«</span>
<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/users"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_users</span>(<span class="hljs-params">page: <span class="hljs-built_in">int</span> = <span class="hljs-number">1</span>, limit: <span class="hljs-built_in">int</span> = <span class="hljs-number">20</span></span>):
    <span class="hljs-comment"># ä¸ç®¡æœ‰å¤šå°‘æ•°æ®ï¼Œæ¯æ¬¡åªè¿”å›20æ¡</span>
    users = db.query(User).offset((page - <span class="hljs-number">1</span>) * limit).limit(limit).<span class="hljs-built_in">all</span>()

    <span class="hljs-comment"># æ€»æ•°ï¼Ÿå…ˆè¿”å›ä¸ªå‡çš„ï¼Œåå°æ…¢æ…¢ç®—</span>
    <span class="hljs-keyword">return</span> {
        <span class="hljs-string">"data"</span>: users,
        <span class="hljs-string">"total"</span>: <span class="hljs-number">10000</span>,  <span class="hljs-comment"># å‡çš„ï¼Œä½†ç”¨æˆ·ä¸çŸ¥é“</span>
        <span class="hljs-string">"page"</span>: page,
        <span class="hljs-string">"has_more"</span>: <span class="hljs-built_in">len</span>(users) == limit
    }

<span class="hljs-comment"># æ›´é‚ªçš„ï¼šæµå¼è¿”å›</span>
<span class="hljs-keyword">from</span> fastapi.responses <span class="hljs-keyword">import</span> StreamingResponse

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/large-data"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_large_data</span>():
    <span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate</span>():
        <span class="hljs-keyword">yield</span> <span class="hljs-string">'{"data": ['</span>

        first = <span class="hljs-literal">True</span>
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> db.stream_query():
            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> first:
                <span class="hljs-keyword">yield</span> <span class="hljs-string">','</span>
            first = <span class="hljs-literal">False</span>
            <span class="hljs-keyword">yield</span> json.dumps(item)

        <span class="hljs-keyword">yield</span> <span class="hljs-string">']}'</span>

    <span class="hljs-keyword">return</span> StreamingResponse(generate(), media_type=<span class="hljs-string">"application/json"</span>)
    <span class="hljs-comment"># ç”¨æˆ·çœ‹åˆ°æ•°æ®åœ¨"æµåŠ¨"ï¼Œæ„Ÿè§‰å¾ˆå¿«</span>

<span class="hljs-comment"># ç»ˆæé‚ªä¿®ï¼šå¼‚æ­¥å¤„ç† + è½®è¯¢</span>
<span class="hljs-meta">@app.post(<span class="hljs-params"><span class="hljs-string">"/heavy-task"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">start_heavy_task</span>(<span class="hljs-params">data: <span class="hljs-built_in">dict</span></span>):
    task_id = <span class="hljs-built_in">str</span>(uuid.uuid4())

    <span class="hljs-comment"># ç«‹å³è¿”å›</span>
    background_tasks.add_task(process_heavy_task, task_id, data)

    <span class="hljs-keyword">return</span> {<span class="hljs-string">"task_id"</span>: task_id, <span class="hljs-string">"status"</span>: <span class="hljs-string">"processing"</span>}

<span class="hljs-meta">@app.get(<span class="hljs-params"><span class="hljs-string">"/heavy-task/{task_id}"</span></span>)</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_task_status</span>(<span class="hljs-params">task_id: <span class="hljs-built_in">str</span></span>):
    status = get_task_status_from_redis(task_id)

    <span class="hljs-keyword">if</span> status == <span class="hljs-string">"completed"</span>:
        <span class="hljs-keyword">return</span> {<span class="hljs-string">"status"</span>: <span class="hljs-string">"completed"</span>, <span class="hljs-string">"result"</span>: get_task_result(task_id)}
    <span class="hljs-keyword">elif</span> status == <span class="hljs-string">"failed"</span>:
        <span class="hljs-keyword">return</span> {<span class="hljs-string">"status"</span>: <span class="hljs-string">"failed"</span>, <span class="hljs-string">"error"</span>: get_task_error(task_id)}
    <span class="hljs-keyword">else</span>:
        <span class="hljs-comment"># è¿”å›å‡è¿›åº¦ï¼Œè®©ç”¨æˆ·å®‰å¿ƒ</span>
        fake_progress = <span class="hljs-built_in">min</span>(get_real_progress(task_id) + <span class="hljs-number">10</span>, <span class="hljs-number">95</span>)
        <span class="hljs-keyword">return</span> {<span class="hljs-string">"status"</span>: <span class="hljs-string">"processing"</span>, <span class="hljs-string">"progress"</span>: fake_progress}
</code></pre>
<hr/>
<h2 data-id="heading-27">ç¬¬äº”ç« ï¼šç´§æ€¥æ•‘ç«é‚ªä¿®</h2>
<h3 data-id="heading-28">5.1 ç”Ÿäº§ç¯å¢ƒå‡º Bug äº†</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åœºæ™¯ï¼šå‡Œæ™¨3ç‚¹ï¼Œç”Ÿäº§ç¯å¢ƒå´©äº†ï¼Œè€æ¿åœ¨ç¾¤é‡Œ@ä½ </span>

<span class="hljs-comment"># æ­£é“ï¼šåˆ†ææ—¥å¿—ï¼Œå®šä½é—®é¢˜ï¼Œä¿®å¤ä»£ç ï¼Œæµ‹è¯•ï¼Œéƒ¨ç½²</span>

<span class="hljs-comment"># é‚ªä¿®ï¼šå…ˆæ­¢è¡€ï¼Œå†æ²»ç—…</span>

<span class="hljs-comment"># æ–¹æ¡ˆ1ï¼šåŠŸèƒ½å¼€å…³</span>
FEATURE_FLAGS = {
    <span class="hljs-string">"new_payment_flow"</span>: <span class="hljs-literal">False</span>,  <span class="hljs-comment"># å‡ºé—®é¢˜äº†ï¼Œå…ˆå…³æ‰</span>
    <span class="hljs-string">"recommendation_engine"</span>: <span class="hljs-literal">False</span>,  <span class="hljs-comment"># è¿™ä¸ªä¹Ÿå…³æ‰</span>
    <span class="hljs-string">"legacy_mode"</span>: <span class="hljs-literal">True</span>,  <span class="hljs-comment"># å›é€€åˆ°è€ç‰ˆæœ¬</span>
}

<span class="hljs-keyword">def</span> <span class="hljs-title function_">process_payment</span>(<span class="hljs-params">order</span>):
    <span class="hljs-keyword">if</span> FEATURE_FLAGS[<span class="hljs-string">"new_payment_flow"</span>]:
        <span class="hljs-keyword">return</span> new_payment_flow(order)  <span class="hljs-comment"># æœ‰Bugçš„æ–°ä»£ç </span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> legacy_payment_flow(order)  <span class="hljs-comment"># è™½ç„¶ä¸‘ä½†èƒ½ç”¨çš„è€ä»£ç </span>

<span class="hljs-comment"># æ–¹æ¡ˆ2ï¼šå¿«é€Ÿå›æ»š</span>
<span class="hljs-comment"># åœ¨éƒ¨ç½²è„šæœ¬é‡Œ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">emergency_rollback</span>():
    <span class="hljs-string">"""ä¸€é”®å›æ»šåˆ°ä¸Šä¸€ä¸ªç¨³å®šç‰ˆæœ¬"""</span>
    os.system(<span class="hljs-string">"kubectl rollout undo deployment/my-app"</span>)
    <span class="hljs-comment"># æˆ–è€…</span>
    os.system(<span class="hljs-string">"docker-compose down &amp;&amp; docker-compose -f docker-compose.backup.yml up -d"</span>)

<span class="hljs-comment"># æ–¹æ¡ˆ3ï¼šé™æµä¿å‘½</span>
<span class="hljs-keyword">from</span> functools <span class="hljs-keyword">import</span> wraps
<span class="hljs-keyword">import</span> time

request_counts = {}

<span class="hljs-keyword">def</span> <span class="hljs-title function_">rate_limit</span>(<span class="hljs-params">max_requests=<span class="hljs-number">100</span>, window=<span class="hljs-number">60</span></span>):
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">decorator</span>(<span class="hljs-params">func</span>):
<span class="hljs-meta">        @wraps(<span class="hljs-params">func</span>)</span>
        <span class="hljs-keyword">def</span> <span class="hljs-title function_">wrapper</span>(<span class="hljs-params">*args, **kwargs</span>):
            now = time.time()
            key = func.__name__

            <span class="hljs-comment"># æ¸…ç†è¿‡æœŸè®°å½•</span>
            request_counts[key] = [t <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> request_counts.get(key, []) <span class="hljs-keyword">if</span> now - t &lt; window]

            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(request_counts.get(key, [])) &gt;= max_requests:
                <span class="hljs-keyword">return</span> {<span class="hljs-string">"error"</span>: <span class="hljs-string">"æœåŠ¡ç¹å¿™ï¼Œè¯·ç¨åå†è¯•"</span>}, <span class="hljs-number">429</span>

            request_counts.setdefault(key, []).append(now)
            <span class="hljs-keyword">return</span> func(*args, **kwargs)
        <span class="hljs-keyword">return</span> wrapper
    <span class="hljs-keyword">return</span> decorator

<span class="hljs-meta">@rate_limit(<span class="hljs-params">max_requests=<span class="hljs-number">10</span>, window=<span class="hljs-number">60</span></span>)  </span><span class="hljs-comment"># ç´§æ€¥é™æµ</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">problematic_endpoint</span>():
    <span class="hljs-keyword">pass</span>
</code></pre>
<h3 data-id="heading-29">5.2 æ•°æ®åº“è¢«æ‰“çˆ†äº†</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># åœºæ™¯ï¼šæ•°æ®åº“CPU 100%ï¼Œæ‰€æœ‰æœåŠ¡éƒ½åœ¨è¶…æ—¶</span>

<span class="hljs-comment"># æ­£é“ï¼šåˆ†ææ…¢æŸ¥è¯¢ï¼Œä¼˜åŒ–ç´¢å¼•ï¼Œæ‰©å®¹</span>

<span class="hljs-comment"># é‚ªä¿®ï¼šç´§æ€¥æ­¢è¡€</span>

<span class="hljs-comment"># æ–¹æ¡ˆ1ï¼šæ€æ‰æ…¢æŸ¥è¯¢</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">kill_slow_queries</span>(<span class="hljs-params">threshold_seconds=<span class="hljs-number">30</span></span>):
    <span class="hljs-string">"""æ€æ‰æ‰§è¡Œæ—¶é—´è¶…è¿‡é˜ˆå€¼çš„æŸ¥è¯¢"""</span>
    slow_queries = db.execute(<span class="hljs-string">"""
        SELECT id, query, time
        FROM information_schema.processlist
        WHERE time &gt; %s AND command = 'Query'
    """</span>, (threshold_seconds,))

    <span class="hljs-keyword">for</span> query <span class="hljs-keyword">in</span> slow_queries:
        <span class="hljs-keyword">try</span>:
            db.execute(<span class="hljs-string">f"KILL <span class="hljs-subst">{query[<span class="hljs-string">'id'</span>]}</span>"</span>)
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"å·²æ€æ‰æŸ¥è¯¢: <span class="hljs-subst">{query[<span class="hljs-string">'id'</span>]}</span>"</span>)
        <span class="hljs-keyword">except</span>:
            <span class="hljs-keyword">pass</span>

<span class="hljs-comment"># æ–¹æ¡ˆ2ï¼šä¸´æ—¶åªè¯»æ¨¡å¼</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">EmergencyReadOnlyMiddleware</span>:
    <span class="hljs-string">"""ç´§æ€¥åªè¯»æ¨¡å¼ï¼Œæ‹’ç»æ‰€æœ‰å†™æ“ä½œ"""</span>

    WRITE_METHODS = [<span class="hljs-string">'POST'</span>, <span class="hljs-string">'PUT'</span>, <span class="hljs-string">'DELETE'</span>, <span class="hljs-string">'PATCH'</span>]

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, app</span>):
        self.app = app
        self.read_only = <span class="hljs-literal">False</span>

    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self, environ, start_response</span>):
        <span class="hljs-keyword">if</span> self.read_only <span class="hljs-keyword">and</span> environ[<span class="hljs-string">'REQUEST_METHOD'</span>] <span class="hljs-keyword">in</span> self.WRITE_METHODS:
            start_response(<span class="hljs-string">'503 Service Unavailable'</span>, [])
            <span class="hljs-keyword">return</span> [<span class="hljs-string">b'{"error": "System is in read-only mode for maintenance"}'</span>]
        <span class="hljs-keyword">return</span> self.app(environ, start_response)

<span class="hljs-comment"># æ–¹æ¡ˆ3ï¼šé™çº§åˆ°ç¼“å­˜</span>
<span class="hljs-keyword">def</span> <span class="hljs-title function_">get_user_with_fallback</span>(<span class="hljs-params">user_id</span>):
    <span class="hljs-keyword">try</span>:
        <span class="hljs-comment"># å…ˆå°è¯•ä»ç¼“å­˜è·å–</span>
        cached = cache.get(<span class="hljs-string">f"user:<span class="hljs-subst">{user_id}</span>"</span>)
        <span class="hljs-keyword">if</span> cached:
            <span class="hljs-keyword">return</span> cached

        <span class="hljs-comment"># æ•°æ®åº“æŸ¥è¯¢ï¼ˆå¯èƒ½å¾ˆæ…¢æˆ–å¤±è´¥ï¼‰</span>
        user = db.get_user(user_id)
        cache.<span class="hljs-built_in">set</span>(<span class="hljs-string">f"user:<span class="hljs-subst">{user_id}</span>"</span>, user, <span class="hljs-number">3600</span>)
        <span class="hljs-keyword">return</span> user
    <span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
        <span class="hljs-comment"># æ•°æ®åº“æŒ‚äº†ï¼Ÿè¿”å›ç¼“å­˜çš„æ—§æ•°æ®</span>
        stale_cache = cache.get(<span class="hljs-string">f"user:<span class="hljs-subst">{user_id}</span>:stale"</span>)
        <span class="hljs-keyword">if</span> stale_cache:
            <span class="hljs-keyword">return</span> stale_cache

        <span class="hljs-comment"># è¿æ—§ç¼“å­˜éƒ½æ²¡æœ‰ï¼Ÿè¿”å›é»˜è®¤æ•°æ®</span>
        <span class="hljs-keyword">return</span> {<span class="hljs-string">"id"</span>: user_id, <span class="hljs-string">"name"</span>: <span class="hljs-string">"ç”¨æˆ·"</span>, <span class="hljs-string">"status"</span>: <span class="hljs-string">"unknown"</span>}
</code></pre>
<h3 data-id="heading-30">5.3 å†…å­˜æ³„æ¼äº†</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åœºæ™¯ï¼šNode.jsæœåŠ¡å†…å­˜æŒç»­å¢é•¿ï¼Œå³å°†OOM</span>

<span class="hljs-comment">// æ­£é“ï¼šä½¿ç”¨å†…å­˜åˆ†æå·¥å…·ï¼Œæ‰¾åˆ°æ³„æ¼ç‚¹ï¼Œä¿®å¤ä»£ç </span>

<span class="hljs-comment">// é‚ªä¿®ï¼šå®šæ—¶é‡å¯å¤§æ³•</span>
<span class="hljs-comment">// åœ¨PM2é…ç½®é‡Œ</span>
<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {
  <span class="hljs-attr">apps</span>: [
    {
      <span class="hljs-attr">name</span>: <span class="hljs-string">"my-app"</span>,
      <span class="hljs-attr">script</span>: <span class="hljs-string">"app.js"</span>,
      <span class="hljs-attr">max_memory_restart</span>: <span class="hljs-string">"1G"</span>, <span class="hljs-comment">// å†…å­˜è¶…è¿‡1Gå°±é‡å¯</span>
      <span class="hljs-attr">cron_restart</span>: <span class="hljs-string">"0 4 * * *"</span>, <span class="hljs-comment">// æ¯å¤©å‡Œæ™¨4ç‚¹é‡å¯</span>
    },
  ],
}

<span class="hljs-comment">// æ›´é‚ªçš„ï¼šä¸»åŠ¨GC</span>
<span class="hljs-comment">// å¯åŠ¨æ—¶åŠ  --expose-gc å‚æ•°</span>
<span class="hljs-keyword">if</span> (<span class="hljs-variable language_">global</span>.<span class="hljs-property">gc</span>) {
  <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> before = process.<span class="hljs-title function_">memoryUsage</span>().<span class="hljs-property">heapUsed</span>
    <span class="hljs-variable language_">global</span>.<span class="hljs-title function_">gc</span>()
    <span class="hljs-keyword">const</span> after = process.<span class="hljs-title function_">memoryUsage</span>().<span class="hljs-property">heapUsed</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`GCå›æ”¶äº† <span class="hljs-subst">${(before - after) / <span class="hljs-number">1024</span> / <span class="hljs-number">1024</span>}</span> MB`</span>)
  }, <span class="hljs-number">60000</span>) <span class="hljs-comment">// æ¯åˆ†é’Ÿå¼ºåˆ¶GCä¸€æ¬¡</span>
}

<span class="hljs-comment">// ç»ˆæé‚ªä¿®ï¼šå†…å­˜è­¦æŠ¥ + è‡ªåŠ¨é‡å¯</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">MEMORY_THRESHOLD</span> = <span class="hljs-number">0.9</span> <span class="hljs-comment">// 90%</span>

<span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> usage = process.<span class="hljs-title function_">memoryUsage</span>()
  <span class="hljs-keyword">const</span> heapUsedPercent = usage.<span class="hljs-property">heapUsed</span> / usage.<span class="hljs-property">heapTotal</span>

  <span class="hljs-keyword">if</span> (heapUsedPercent &gt; <span class="hljs-variable constant_">MEMORY_THRESHOLD</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">"å†…å­˜å³å°†è€—å°½ï¼Œå‡†å¤‡ä¼˜é›…é‡å¯..."</span>)

    <span class="hljs-comment">// åœæ­¢æ¥æ”¶æ–°è¯·æ±‚</span>
    server.<span class="hljs-title function_">close</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-comment">// ç­‰å¾…ç°æœ‰è¯·æ±‚å¤„ç†å®Œ</span>
      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        process.<span class="hljs-title function_">exit</span>(<span class="hljs-number">0</span>) <span class="hljs-comment">// PM2ä¼šè‡ªåŠ¨é‡å¯</span>
      }, <span class="hljs-number">5000</span>)
    })
  }
}, <span class="hljs-number">10000</span>)
</code></pre>
<hr/>
<h2 data-id="heading-31">ç¬¬å…­ç« ï¼šä»£ç å¤ç”¨é‚ªä¿®</h2>
<h3 data-id="heading-32">6.1 å¤åˆ¶ç²˜è´´çš„è‰ºæœ¯</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// æ­£é“ï¼šæŠ½è±¡å…¬å…±é€»è¾‘ï¼Œåˆ›å»ºå¯å¤ç”¨çš„æ¨¡å—</span>

<span class="hljs-comment">// é‚ªä¿®ï¼šå¤åˆ¶ç²˜è´´ + å¾®è°ƒ</span>
<span class="hljs-comment">// å½“ä½ éœ€è¦ä¸€ä¸ª"å·®ä¸å¤š"çš„åŠŸèƒ½æ—¶</span>

<span class="hljs-comment">// åŸå§‹ä»£ç </span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processUserData</span>(<span class="hljs-params">user</span>) {
  <span class="hljs-comment">// 100è¡Œå¤æ‚é€»è¾‘</span>
}

<span class="hljs-comment">// é‚ªä¿®ç‰ˆæœ¬</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processAdminData</span>(<span class="hljs-params">admin</span>) {
  <span class="hljs-comment">// å¤åˆ¶ä¸Šé¢100è¡Œ</span>
  <span class="hljs-comment">// æ”¹å‡ ä¸ªå˜é‡å</span>
  <span class="hljs-comment">// åŠ å‡ ä¸ªifåˆ¤æ–­</span>
  <span class="hljs-comment">// å®Œç¾ï¼</span>
}

<span class="hljs-comment">// ç¨å¾®ä¸é‚£ä¹ˆé‚ªçš„ç‰ˆæœ¬ï¼šæå–å·®å¼‚ç‚¹</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">processData</span>(<span class="hljs-params">data, options = {}</span>) {
  <span class="hljs-keyword">const</span> { type = <span class="hljs-string">"user"</span>, skipValidation = <span class="hljs-literal">false</span>, extraFields = [] } = options

  <span class="hljs-comment">// å…¬å…±é€»è¾‘</span>
  <span class="hljs-keyword">if</span> (!skipValidation) {
    <span class="hljs-title function_">validate</span>(data)
  }

  <span class="hljs-comment">// æ ¹æ®ç±»å‹å¤„ç†å·®å¼‚</span>
  <span class="hljs-keyword">if</span> (type === <span class="hljs-string">"admin"</span>) {
    <span class="hljs-comment">// adminç‰¹æ®Šé€»è¾‘</span>
  }

  <span class="hljs-comment">// æ›´å¤šå…¬å…±é€»è¾‘</span>
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-title function_">processData</span>(userData, { <span class="hljs-attr">type</span>: <span class="hljs-string">"user"</span> })
<span class="hljs-title function_">processData</span>(adminData, { <span class="hljs-attr">type</span>: <span class="hljs-string">"admin"</span>, <span class="hljs-attr">skipValidation</span>: <span class="hljs-literal">true</span> })
</code></pre>
<h3 data-id="heading-33">6.2 é…ç½®é©±åŠ¨å¼€å‘</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é—®é¢˜ï¼šç±»ä¼¼çš„é¡µé¢/åŠŸèƒ½å¤ªå¤šï¼Œæ¯ä¸ªéƒ½è¦å†™ä¸€é</span>

<span class="hljs-comment">// é‚ªä¿®ï¼šé…ç½®åŒ–ä¸€åˆ‡</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">PAGE_CONFIGS</span> = {
  <span class="hljs-attr">userList</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'ç”¨æˆ·åˆ—è¡¨'</span>,
    <span class="hljs-attr">api</span>: <span class="hljs-string">'/api/users'</span>,
    <span class="hljs-attr">columns</span>: [
      { <span class="hljs-attr">key</span>: <span class="hljs-string">'name'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'å§“å'</span> },
      { <span class="hljs-attr">key</span>: <span class="hljs-string">'email'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'é‚®ç®±'</span> },
      { <span class="hljs-attr">key</span>: <span class="hljs-string">'status'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'çŠ¶æ€'</span>, <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> v ? <span class="hljs-string">'å¯ç”¨'</span> : <span class="hljs-string">'ç¦ç”¨'</span> },
    ],
    <span class="hljs-attr">actions</span>: [<span class="hljs-string">'edit'</span>, <span class="hljs-string">'delete'</span>],
    <span class="hljs-attr">filters</span>: [<span class="hljs-string">'status'</span>, <span class="hljs-string">'dateRange'</span>],
  },
  <span class="hljs-attr">orderList</span>: {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'è®¢å•åˆ—è¡¨'</span>,
    <span class="hljs-attr">api</span>: <span class="hljs-string">'/api/orders'</span>,
    <span class="hljs-attr">columns</span>: [
      { <span class="hljs-attr">key</span>: <span class="hljs-string">'orderNo'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'è®¢å•å·'</span> },
      { <span class="hljs-attr">key</span>: <span class="hljs-string">'amount'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'é‡‘é¢'</span>, <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">v</span>) =&gt;</span> <span class="hljs-string">`Â¥<span class="hljs-subst">${v}</span>`</span> },
      { <span class="hljs-attr">key</span>: <span class="hljs-string">'status'</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">'çŠ¶æ€'</span> },
    ],
    <span class="hljs-attr">actions</span>: [<span class="hljs-string">'view'</span>, <span class="hljs-string">'cancel'</span>],
    <span class="hljs-attr">filters</span>: [<span class="hljs-string">'status'</span>, <span class="hljs-string">'dateRange'</span>, <span class="hljs-string">'amount'</span>],
  },
  <span class="hljs-comment">// å†åŠ 100ä¸ªç±»ä¼¼çš„é…ç½®...</span>
};

<span class="hljs-comment">// é€šç”¨åˆ—è¡¨ç»„ä»¶</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">GenericListPage</span>(<span class="hljs-params">{ configKey }</span>) {
  <span class="hljs-keyword">const</span> config = <span class="hljs-variable constant_">PAGE_CONFIGS</span>[configKey];
  <span class="hljs-keyword">const</span> [data, setData] = <span class="hljs-title function_">useState</span>([]);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">fetch</span>(config.<span class="hljs-property">api</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> r.<span class="hljs-title function_">json</span>()).<span class="hljs-title function_">then</span>(setData);
  }, [config.<span class="hljs-property">api</span>]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>{config.title}<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Filters</span> <span class="hljs-attr">config</span>=<span class="hljs-string">{config.filters}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Table</span> <span class="hljs-attr">columns</span>=<span class="hljs-string">{config.columns}</span> <span class="hljs-attr">data</span>=<span class="hljs-string">{data}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Actions</span> <span class="hljs-attr">config</span>=<span class="hljs-string">{config.actions}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// ä½¿ç”¨</span>
&lt;<span class="hljs-title class_">GenericListPage</span> configKey=<span class="hljs-string">"userList"</span> /&gt;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">GenericListPage</span> <span class="hljs-attr">configKey</span>=<span class="hljs-string">"orderList"</span> /&gt;</span></span>
<span class="hljs-comment">// ä¸€ä¸ªç»„ä»¶æå®šæ‰€æœ‰åˆ—è¡¨é¡µ</span>
</code></pre>
<hr/>
<h2 data-id="heading-34">ç¬¬ä¸ƒç« ï¼šé‚ªä¿®çš„è¾¹ç•Œâ€”â€”ä»€ä¹ˆæ—¶å€™ä¸èƒ½é‚ªä¿®</h2>
<h3 data-id="heading-35">7.1 ç»å¯¹ä¸èƒ½é‚ªä¿®çš„åœºæ™¯</h3>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    é‚ªä¿®ç¦åŒº ğŸš«                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   ğŸ’° æ¶‰åŠé‡‘é’±çš„ä»£ç                                           â”‚
â”‚   â”œâ”€ æ”¯ä»˜é€»è¾‘                                               â”‚
â”‚   â”œâ”€ è´¦æˆ·ä½™é¢è®¡ç®—                                           â”‚
â”‚   â”œâ”€ è®¢å•é‡‘é¢å¤„ç†                                           â”‚
â”‚   â””â”€ ä»»ä½•å’Œé’±ç›¸å…³çš„å››èˆäº”å…¥                                  â”‚
â”‚                                                             â”‚
â”‚   ğŸ” æ¶‰åŠå®‰å…¨çš„ä»£ç                                           â”‚
â”‚   â”œâ”€ ç”¨æˆ·è®¤è¯                                               â”‚
â”‚   â”œâ”€ æƒé™æ ¡éªŒ                                               â”‚
â”‚   â”œâ”€ å¯†ç å¤„ç†                                               â”‚
â”‚   â””â”€ æ•æ„Ÿæ•°æ®åŠ å¯†                                           â”‚
â”‚                                                             â”‚
â”‚   ğŸ“Š æ¶‰åŠæ•°æ®ä¸€è‡´æ€§çš„ä»£ç                                     â”‚
â”‚   â”œâ”€ åˆ†å¸ƒå¼äº‹åŠ¡                                             â”‚
â”‚   â”œâ”€ æ•°æ®åŒæ­¥                                               â”‚
â”‚   â”œâ”€ åº“å­˜æ‰£å‡                                               â”‚
â”‚   â””â”€ ä»»ä½•<span class="hljs-string">"ä¸èƒ½å‡ºé”™"</span>çš„ä¸šåŠ¡                                   â”‚
â”‚                                                             â”‚
â”‚   âš–ï¸ æ¶‰åŠåˆè§„çš„ä»£ç                                           â”‚
â”‚   â”œâ”€ å®¡è®¡æ—¥å¿—                                               â”‚
â”‚   â”œâ”€ æ•°æ®ç•™å­˜                                               â”‚
â”‚   â”œâ”€ éšç§ä¿æŠ¤                                               â”‚
â”‚   â””â”€ ä»»ä½•å¯èƒ½è¢«ç›‘ç®¡å®¡æŸ¥çš„åŠŸèƒ½                                â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h3 data-id="heading-36">7.2 é‚ªä¿®çš„ä»£ä»·</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é‚ªä¿®å€ºåŠ¡è®¡ç®—å™¨</span>

<span class="hljs-keyword">const</span> technicalDebtCalculator = {
  <span class="hljs-comment">// æ¯ç§é‚ªä¿®çš„"åˆ©æ¯"</span>
  <span class="hljs-attr">debtRates</span>: {
    <span class="hljs-built_in">setTimeout</span>è§£å†³æ—¶åºé—®é¢˜: {
      <span class="hljs-attr">initialDebt</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">interestRate</span>: <span class="hljs-number">0.5</span>, <span class="hljs-comment">// æ¯æœˆå¢åŠ 50%çš„ç»´æŠ¤æˆæœ¬</span>
      <span class="hljs-attr">description</span>: <span class="hljs-string">"è¿Ÿæ—©ä¼šå‡ºç°æ›´è¯¡å¼‚çš„æ—¶åºé—®é¢˜"</span>,
    },
    <span class="hljs-string">"!importantè¦†ç›–æ ·å¼"</span>: {
      <span class="hljs-attr">initialDebt</span>: <span class="hljs-number">0.5</span>,
      <span class="hljs-attr">interestRate</span>: <span class="hljs-number">0.3</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">"æ ·å¼ä¼šè¶Šæ¥è¶Šéš¾æ”¹"</span>,
    },
    å¤åˆ¶ç²˜è´´ä»£ç : {
      <span class="hljs-attr">initialDebt</span>: <span class="hljs-number">2</span>,
      <span class="hljs-attr">interestRate</span>: <span class="hljs-number">1.0</span>, <span class="hljs-comment">// æ¯æœˆç¿»å€</span>
      <span class="hljs-attr">description</span>: <span class="hljs-string">"æ”¹ä¸€ä¸ªåœ°æ–¹è¦æ”¹Nä¸ªåœ°æ–¹"</span>,
    },
    ç¡¬ç¼–ç é…ç½®: {
      <span class="hljs-attr">initialDebt</span>: <span class="hljs-number">0.3</span>,
      <span class="hljs-attr">interestRate</span>: <span class="hljs-number">0.2</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">"æ¢ä¸ªç¯å¢ƒå°±è¦æ”¹ä»£ç "</span>,
    },
    å¿½ç•¥é”™è¯¯å¤„ç†: {
      <span class="hljs-attr">initialDebt</span>: <span class="hljs-number">3</span>,
      <span class="hljs-attr">interestRate</span>: <span class="hljs-number">2.0</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">"ç”Ÿäº§ç¯å¢ƒå‡ºé—®é¢˜æ—¶ä½ ä¼šåæ‚”çš„"</span>,
    },
    ç¦ç”¨<span class="hljs-title class_">ESLint</span>è­¦å‘Š: {
      <span class="hljs-attr">initialDebt</span>: <span class="hljs-number">0.5</span>,
      <span class="hljs-attr">interestRate</span>: <span class="hljs-number">0.1</span>,
      <span class="hljs-attr">description</span>: <span class="hljs-string">"è­¦å‘Šé€šå¸¸æ˜¯æœ‰é“ç†çš„"</span>,
    },
  },

  <span class="hljs-comment">// è®¡ç®—Nä¸ªæœˆåçš„æŠ€æœ¯å€ºåŠ¡</span>
  <span class="hljs-title function_">calculateDebt</span>(<span class="hljs-params">hackType, months</span>) {
    <span class="hljs-keyword">const</span> { initialDebt, interestRate } = <span class="hljs-variable language_">this</span>.<span class="hljs-property">debtRates</span>[hackType]
    <span class="hljs-keyword">return</span> initialDebt * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">1</span> + interestRate, months)
  },

  <span class="hljs-comment">// æ‰“å°å€ºåŠ¡æŠ¥å‘Š</span>
  <span class="hljs-title function_">printReport</span>(<span class="hljs-params">hacks, months = <span class="hljs-number">6</span></span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`\nğŸ“Š æŠ€æœ¯å€ºåŠ¡æŠ¥å‘Šï¼ˆ<span class="hljs-subst">${months}</span>ä¸ªæœˆåï¼‰\n`</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"="</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">50</span>))

    <span class="hljs-keyword">let</span> totalDebt = <span class="hljs-number">0</span>

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> hack <span class="hljs-keyword">of</span> hacks) {
      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">debtRates</span>[hack]) {
        <span class="hljs-keyword">const</span> debt = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">calculateDebt</span>(hack, months)
        totalDebt += debt
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">${hack}</span>`</span>)
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(
          <span class="hljs-string">`  å½“å‰å€ºåŠ¡: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.debtRates[hack].initialDebt.toFixed(<span class="hljs-number">1</span>)}</span> äººå¤©`</span>
        )
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`  <span class="hljs-subst">${months}</span>ä¸ªæœˆå: <span class="hljs-subst">${debt.toFixed(<span class="hljs-number">1</span>)}</span> äººå¤©`</span>)
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`  é£é™©: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.debtRates[hack].description}</span>`</span>)
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>()
      }
    }

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"="</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">50</span>))
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`æ€»å€ºåŠ¡: <span class="hljs-subst">${totalDebt.toFixed(<span class="hljs-number">1</span>)}</span> äººå¤©`</span>)
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å»ºè®®: <span class="hljs-subst">${totalDebt &gt; <span class="hljs-number">10</span> ? <span class="hljs-string">"ğŸš¨ å°½å¿«é‡æ„ï¼"</span> : <span class="hljs-string">"âš ï¸ æ‰¾æ—¶é—´æ¸…ç†"</span>}</span>`</span>)
  },
}

<span class="hljs-comment">// ä½¿ç”¨ç¤ºä¾‹</span>
technicalDebtCalculator.<span class="hljs-title function_">printReport</span>(
  [<span class="hljs-string">"setTimeoutè§£å†³æ—¶åºé—®é¢˜"</span>, <span class="hljs-string">"å¤åˆ¶ç²˜è´´ä»£ç "</span>, <span class="hljs-string">"å¿½ç•¥é”™è¯¯å¤„ç†"</span>],
  <span class="hljs-number">6</span>
)
</code></pre>
<h3 data-id="heading-37">7.3 é‚ªä¿®è½¬æ­£é“çš„æ—¶æœº</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// ä»€ä¹ˆæ—¶å€™åº”è¯¥æŠŠé‚ªä¿®ä»£ç é‡æ„æˆæ­£é“ä»£ç ï¼Ÿ</span>

<span class="hljs-keyword">const</span> refactorDecisionTree = {
  <span class="hljs-title function_">shouldRefactor</span>(<span class="hljs-params">context</span>) {
    <span class="hljs-keyword">const</span> {
      codeAge, <span class="hljs-comment">// ä»£ç å­˜åœ¨å¤šä¹…äº†ï¼ˆæœˆï¼‰</span>
      bugCount, <span class="hljs-comment">// è¿™æ®µä»£ç äº§ç”Ÿäº†å¤šå°‘bug</span>
      changeFrequency, <span class="hljs-comment">// å¤šä¹…æ”¹ä¸€æ¬¡</span>
      teamSize, <span class="hljs-comment">// å›¢é˜Ÿå¤šå°‘äºº</span>
      isCoreBusiness, <span class="hljs-comment">// æ˜¯å¦æ ¸å¿ƒä¸šåŠ¡</span>
    } = context

    <span class="hljs-comment">// å†³ç­–é€»è¾‘</span>
    <span class="hljs-keyword">const</span> reasons = []

    <span class="hljs-keyword">if</span> (codeAge &gt; <span class="hljs-number">3</span> &amp;&amp; bugCount &gt; <span class="hljs-number">2</span>) {
      reasons.<span class="hljs-title function_">push</span>(<span class="hljs-string">"ä»£ç è€æ—§ä¸”bugé¢‘å‘"</span>)
    }

    <span class="hljs-keyword">if</span> (changeFrequency &gt; <span class="hljs-number">2</span> &amp;&amp; teamSize &gt; <span class="hljs-number">3</span>) {
      reasons.<span class="hljs-title function_">push</span>(<span class="hljs-string">"é¢‘ç¹ä¿®æ”¹ä¸”å¤šäººåä½œ"</span>)
    }

    <span class="hljs-keyword">if</span> (isCoreBusiness &amp;&amp; bugCount &gt; <span class="hljs-number">0</span>) {
      reasons.<span class="hljs-title function_">push</span>(<span class="hljs-string">"æ ¸å¿ƒä¸šåŠ¡ä¸èƒ½æœ‰éšæ‚£"</span>)
    }

    <span class="hljs-keyword">if</span> (codeAge &gt; <span class="hljs-number">6</span>) {
      reasons.<span class="hljs-title function_">push</span>(<span class="hljs-string">"è¶…è¿‡6ä¸ªæœˆçš„é‚ªä¿®ä»£ç åº”è¯¥é‡æ„"</span>)
    }

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">shouldRefactor</span>: reasons.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">2</span>,
      reasons,
      <span class="hljs-attr">priority</span>:
        reasons.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">3</span> ? <span class="hljs-string">"HIGH"</span> : reasons.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">2</span> ? <span class="hljs-string">"MEDIUM"</span> : <span class="hljs-string">"LOW"</span>,
    }
  },
}

<span class="hljs-comment">// ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> decision = refactorDecisionTree.<span class="hljs-title function_">shouldRefactor</span>({
  <span class="hljs-attr">codeAge</span>: <span class="hljs-number">4</span>,
  <span class="hljs-attr">bugCount</span>: <span class="hljs-number">3</span>,
  <span class="hljs-attr">changeFrequency</span>: <span class="hljs-number">3</span>,
  <span class="hljs-attr">teamSize</span>: <span class="hljs-number">5</span>,
  <span class="hljs-attr">isCoreBusiness</span>: <span class="hljs-literal">true</span>,
})

<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(decision)
<span class="hljs-comment">// {</span>
<span class="hljs-comment">//   shouldRefactor: true,</span>
<span class="hljs-comment">//   reasons: ['ä»£ç è€æ—§ä¸”bugé¢‘å‘', 'é¢‘ç¹ä¿®æ”¹ä¸”å¤šäººåä½œ', 'æ ¸å¿ƒä¸šåŠ¡ä¸èƒ½æœ‰éšæ‚£'],</span>
<span class="hljs-comment">//   priority: 'HIGH'</span>
<span class="hljs-comment">// }</span>
</code></pre>
<hr/>
<h2 data-id="heading-38">ç¬¬å…«ç« ï¼šé‚ªä¿®å·¥å…·ç®±</h2>
<h3 data-id="heading-39">8.1 å¸¸ç”¨é‚ªä¿®ä»£ç ç‰‡æ®µ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// é‚ªä¿®å·¥å…·ç®± - å¤åˆ¶å³ç”¨</span>

<span class="hljs-comment">// 1. é˜²æŠ–ï¼ˆç®€æ˜“ç‰ˆï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">debounce</span> = (<span class="hljs-params">fn, delay</span>) =&gt; {
  <span class="hljs-keyword">let</span> timer
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
    <span class="hljs-built_in">clearTimeout</span>(timer)
    timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">fn</span>(...args), delay)
  }
}

<span class="hljs-comment">// 2. èŠ‚æµï¼ˆç®€æ˜“ç‰ˆï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">throttle</span> = (<span class="hljs-params">fn, delay</span>) =&gt; {
  <span class="hljs-keyword">let</span> last = <span class="hljs-number">0</span>
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
    <span class="hljs-keyword">if</span> (now - last &gt;= delay) {
      last = now
      <span class="hljs-title function_">fn</span>(...args)
    }
  }
}

<span class="hljs-comment">// 3. æ·±æ‹·è´ï¼ˆå¤Ÿç”¨ç‰ˆï¼‰</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">deepClone</span> = (<span class="hljs-params">obj</span>) =&gt; <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj))

<span class="hljs-comment">// 4. éšæœºID</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">randomId</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>).<span class="hljs-title function_">substr</span>(<span class="hljs-number">2</span>, <span class="hljs-number">9</span>)

<span class="hljs-comment">// 5. ç¡çœ å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">sleep</span> = (<span class="hljs-params">ms</span>) =&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> <span class="hljs-built_in">setTimeout</span>(resolve, ms))

<span class="hljs-comment">// 6. é‡è¯•å‡½æ•°</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">retry</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">fn, times = <span class="hljs-number">3</span>, delay = <span class="hljs-number">1000</span></span>) =&gt; {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; times; i++) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">await</span> <span class="hljs-title function_">fn</span>()
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">if</span> (i === times - <span class="hljs-number">1</span>) <span class="hljs-keyword">throw</span> e
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">sleep</span>(delay)
    }
  }
}

<span class="hljs-comment">// 7. å®‰å…¨å–å€¼</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">get</span> = (<span class="hljs-params">obj, path, defaultValue</span>) =&gt; {
  <span class="hljs-keyword">const</span> keys = path.<span class="hljs-title function_">split</span>(<span class="hljs-string">"."</span>)
  <span class="hljs-keyword">let</span> result = obj
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> key <span class="hljs-keyword">of</span> keys) {
    result = result?.[key]
    <span class="hljs-keyword">if</span> (result === <span class="hljs-literal">undefined</span>) <span class="hljs-keyword">return</span> defaultValue
  }
  <span class="hljs-keyword">return</span> result
}

<span class="hljs-comment">// 8. æ•°ç»„å»é‡</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">unique</span> = (<span class="hljs-params">arr</span>) =&gt; [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr)]

<span class="hljs-comment">// 9. æ•°ç»„åˆ†ç»„</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">groupBy</span> = (<span class="hljs-params">arr, key</span>) =&gt;
  arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, item</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> group = item[key]
    acc[group] = acc[group] || []
    acc[group].<span class="hljs-title function_">push</span>(item)
    <span class="hljs-keyword">return</span> acc
  }, {})

<span class="hljs-comment">// 10. æ ¼å¼åŒ–æ•°å­—</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">formatNumber</span> = (<span class="hljs-params">num</span>) =&gt;
  num.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\B(?=(\d{3})+(?!\d))/g</span>, <span class="hljs-string">","</span>)
</code></pre>
<h3 data-id="heading-40">8.2 é‚ªä¿®æ³¨é‡Šæ¨¡æ¿</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// å½“ä½ ä¸å¾—ä¸å†™é‚ªä¿®ä»£ç æ—¶ï¼Œè‡³å°‘ç•™ä¸‹æ³¨é‡Š</span>

<span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> è¿™æ˜¯ä¸´æ—¶æ–¹æ¡ˆï¼Œéœ€è¦åœ¨ [æ—¥æœŸ] å‰é‡æ„</span>
<span class="hljs-comment">// <span class="hljs-doctag">HACK:</span> ç”±äº [åŸå› ]ï¼Œè¿™é‡Œä½¿ç”¨äº†éå¸¸è§„æ–¹æ³•</span>
<span class="hljs-comment">// <span class="hljs-doctag">FIXME:</span> è¿™æ®µä»£ç æœ‰é—®é¢˜ï¼Œä½†ç›®å‰èƒ½ç”¨</span>
<span class="hljs-comment">// <span class="hljs-doctag">XXX:</span> è¿™é‡Œæœ‰å‘ï¼Œå°å¿ƒï¼</span>
<span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> è¿™æ ·å†™æ˜¯å› ä¸º [è§£é‡Š]</span>
<span class="hljs-comment">// <span class="hljs-doctag">OPTIMIZE:</span> æ€§èƒ½ä¸å¥½ï¼Œæœ‰ç©ºä¼˜åŒ–</span>

<span class="hljs-comment">// å®Œæ•´æ¨¡æ¿</span>
<span class="hljs-comment">/**
 * âš ï¸ é‚ªä¿®ä»£ç è­¦å‘Š
 *
 * ä¸ºä»€ä¹ˆè¿™æ ·å†™ï¼š[è§£é‡ŠåŸå› ]
 * å·²çŸ¥é—®é¢˜ï¼š[åˆ—å‡ºé—®é¢˜]
 * æ­£ç¡®åšæ³•ï¼š[æè¿°æ­£é“æ–¹æ¡ˆ]
 * é‡æ„è®¡åˆ’ï¼š[æ—¥æœŸ] å‰å®Œæˆ
 * è´Ÿè´£äººï¼š[ä½ çš„åå­—]
 *
 * ç›¸å…³Issueï¼š#123
 */</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">hackyFunction</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// é‚ªä¿®ä»£ç </span>
}
</code></pre>
<hr/>
<h2 data-id="heading-41">ç»“è¯­ï¼šé‚ªä¿®çš„å“²å­¦</h2>
<p>å†™åˆ°æœ€åï¼Œæˆ‘æƒ³è¯´å‡ å¥è®¤çœŸçš„è¯ã€‚</p>
<p><strong>é‚ªä¿®ä¸æ˜¯ç›®çš„ï¼Œæ˜¯æ‰‹æ®µã€‚</strong></p>
<p>æ¯ä¸€ä¸ªé‚ªä¿®æ–¹æ¡ˆçš„èƒŒåï¼Œéƒ½æœ‰ä¸€ä¸ªæ— å¥ˆçš„æ•…äº‹ï¼š</p>
<ul>
<li>äº§å“ç»ç†çš„ deadline</li>
<li>è€æ¿çš„"è¿™ä¸ªå¾ˆç®€å•å§"</li>
<li>å®¢æˆ·çš„"æˆ‘ä»¬ä»˜äº†é’±çš„"</li>
<li>å‡Œæ™¨ä¸‰ç‚¹çš„ç”Ÿäº§äº‹æ•…</li>
</ul>
<p><strong>é‚ªä¿®çš„æœ¬è´¨æ˜¯æƒè¡¡ã€‚</strong></p>
<p>åœ¨"å®Œç¾"å’Œ"èƒ½ç”¨"ä¹‹é—´ï¼Œåœ¨"ä¼˜é›…"å’Œ"æŒ‰æ—¶äº¤ä»˜"ä¹‹é—´ï¼Œåœ¨"æœ€ä½³å®è·µ"å’Œ"ç°å®çº¦æŸ"ä¹‹é—´ï¼Œåšå‡ºé€‰æ‹©ã€‚</p>
<p><strong>ä½†é‚ªä¿®æœ‰è¾¹ç•Œã€‚</strong></p>
<p>æ¶‰åŠå®‰å…¨ã€é‡‘é’±ã€æ•°æ®ä¸€è‡´æ€§çš„ä»£ç ï¼Œç»å¯¹ä¸èƒ½é‚ªä¿®ã€‚è¿™æ˜¯åº•çº¿ã€‚</p>
<p><strong>é‚ªä¿®éœ€è¦è®°å½•ã€‚</strong></p>
<p>æ¯ä¸€ä¸ªé‚ªä¿®æ–¹æ¡ˆéƒ½åº”è¯¥æœ‰æ³¨é‡Šï¼Œè§£é‡Šä¸ºä»€ä¹ˆè¿™æ ·åšï¼Œä»¥åŠæ­£ç¡®çš„åšæ³•æ˜¯ä»€ä¹ˆã€‚è¿™æ˜¯å¯¹æœªæ¥çš„è‡ªå·±å’ŒåŒäº‹çš„å°Šé‡ã€‚</p>
<p><strong>é‚ªä¿®éœ€è¦å¿è¿˜ã€‚</strong></p>
<p>æŠ€æœ¯å€ºåŠ¡æ˜¯æœ‰åˆ©æ¯çš„ã€‚ä»Šå¤©çœä¸‹çš„æ—¶é—´ï¼Œæœªæ¥ä¼šåŠ å€å¿è¿˜ã€‚æ‰€ä»¥ï¼Œæ‰¾æ—¶é—´æŠŠé‚ªä¿®ä»£ç é‡æ„æˆæ­£é“ä»£ç ã€‚</p>
<p>æœ€åï¼Œé€ç»™æ‰€æœ‰ç¨‹åºå‘˜ä¸€å¥è¯ï¼š</p>
<blockquote>
<p><strong>"èƒ½ç”¨é‚ªä¿®è§£å†³çš„é—®é¢˜ï¼Œè¯´æ˜ä½ ç†è§£äº†é—®é¢˜çš„æœ¬è´¨ã€‚èƒ½æŠŠé‚ªä¿®é‡æ„æˆæ­£é“ï¼Œè¯´æ˜ä½ æŒæ¡äº†è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚"</strong></p>
</blockquote>
<p>æ„¿ä½ çš„ä»£ç æ°¸è¿œä¸éœ€è¦é‚ªä¿®ã€‚</p>
<p>ä½†å¦‚æœéœ€è¦ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¸®åˆ°ä½ ã€‚</p>
<hr/>
<h2 data-id="heading-42">é™„å½•ï¼šé‚ªä¿®é€ŸæŸ¥è¡¨</h2>



























































<table><thead><tr><th>åœºæ™¯</th><th>é‚ªä¿®æ–¹æ¡ˆ</th><th>é£é™©ç­‰çº§</th><th>æ­£é“æ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>å…ƒç´ å¯¹ä¸é½</td><td>margin è´Ÿå€¼å¾®è°ƒ</td><td>ğŸŸ¢ ä½</td><td>Flexbox/Grid</td></tr><tr><td>æ ·å¼è¢«è¦†ç›–</td><td>!important</td><td>ğŸŸ¡ ä¸­</td><td>æé«˜é€‰æ‹©å™¨ä¼˜å…ˆçº§</td></tr><tr><td>å¼‚æ­¥æ—¶åºé—®é¢˜</td><td>setTimeout</td><td>ğŸŸ¡ ä¸­</td><td>async/await</td></tr><tr><td>ç»„ä»¶ä¸æ›´æ–°</td><td>forceUpdate/key</td><td>ğŸŸ¡ ä¸­</td><td>æ­£ç¡®ç®¡ç† state</td></tr><tr><td>æŸ¥è¯¢å¤ªæ…¢</td><td>åŠ ç´¢å¼•/ç¼“å­˜</td><td>ğŸŸ¢ ä½</td><td>ä¼˜åŒ–æŸ¥è¯¢ç»“æ„</td></tr><tr><td>æ¥å£è¶…æ—¶</td><td>é‡è¯•/é™çº§</td><td>ğŸŸ¢ ä½</td><td>ä¼˜åŒ–æ€§èƒ½</td></tr><tr><td>å†…å­˜æ³„æ¼</td><td>å®šæ—¶é‡å¯</td><td>ğŸ”´ é«˜</td><td>æ‰¾åˆ°æ³„æ¼ç‚¹ä¿®å¤</td></tr><tr><td>ç”Ÿäº§ Bug</td><td>åŠŸèƒ½å¼€å…³/å›æ»š</td><td>ğŸŸ¢ ä½</td><td>å®Œå–„æµ‹è¯•</td></tr></tbody></table>
<hr/>
<p><em>æœ¬æ–‡ç”±ä¸€ä¸ªå†™è¿‡æ— æ•°é‚ªä¿®ä»£ç çš„ç¨‹åºå‘˜æ’°å†™ã€‚</em></p>
<p><em>å¦‚æœä½ çš„ä»£ç å®¡æŸ¥è€…é—®èµ·è¿™äº›æŠ€å·§æ˜¯ä»å“ªå­¦çš„ï¼Œè¯·è¯´"æˆ‘è‡ªå·±æƒ³çš„"ã€‚</em></p>
<p><em>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„é‚ªä¿®ç»å†â€”â€”æ¯•ç«Ÿï¼Œæ¯ä¸ªç¨‹åºå‘˜éƒ½æœ‰ä¸èƒ½è¯´çš„ç§˜å¯†ã€‚</em> ğŸ¤«</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Linux ç½‘ç»œæ•…éšœæ’æŸ¥ï¼šå¦‚ä½•è¯Šæ–­ä¸è§£å†³ ARP ç¼“å­˜æº¢å‡ºé—®é¢˜]]></title>    <link>https://juejin.cn/post/7593164154630881289</link>    <guid>https://juejin.cn/post/7593164154630881289</guid>    <pubDate>2026-01-09T07:51:04.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7593164154630881289" data-draft-id="7593077945015697435" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Linux ç½‘ç»œæ•…éšœæ’æŸ¥ï¼šå¦‚ä½•è¯Šæ–­ä¸è§£å†³ ARP ç¼“å­˜æº¢å‡ºé—®é¢˜"/> <meta itemprop="keywords" content="åç«¯,Linux"/> <meta itemprop="datePublished" content="2026-01-09T07:51:04.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AllFiles"/> <meta itemprop="url" content="https://juejin.cn/user/1927880364792937"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Linux ç½‘ç»œæ•…éšœæ’æŸ¥ï¼šå¦‚ä½•è¯Šæ–­ä¸è§£å†³ ARP ç¼“å­˜æº¢å‡ºé—®é¢˜
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1927880364792937/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AllFiles
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:51:04.000Z" title="Fri Jan 09 2026 07:51:04 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Linux ç½‘ç»œæ•…éšœæ’æŸ¥ï¼šå¦‚ä½•è¯Šæ–­ä¸è§£å†³ ARP ç¼“å­˜æº¢å‡ºé—®é¢˜</h2>
<blockquote>
<p>ä½ æ˜¯å¦é‡åˆ°è¿‡å†…æ ¸æ—¥å¿—ä¸­é¢‘ç¹æ‰“å°â€œarp_cache: neighbor table overflow!â€çš„æŠ¥é”™ï¼Ÿè¿™èƒŒåéšè—ç€æ€æ ·çš„ç½‘ç»œéšæ‚£ï¼Ÿæœ¬æ–‡å¸¦ä½ æ·±å…¥ç†è§£ ARP ç¼“å­˜æœºåˆ¶ï¼Œå¹¶æä¾›å®Œæ•´çš„æ’æŸ¥ä¸è§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<h3 data-id="heading-1">ä»€ä¹ˆæ˜¯ ARP ç¼“å­˜æº¢å‡ºï¼Ÿ</h3>
<p>åœ¨æ·±å…¥è§£å†³ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç®€å•äº†è§£ ARP ç¼“å­˜çš„ä½œç”¨ã€‚ARPï¼ˆAddress Resolution Protocolï¼‰åè®®è´Ÿè´£å°† IP åœ°å€è§£æä¸º MAC åœ°å€ï¼Œè€Œæ“ä½œç³»ç»Ÿä¼šå°†è¿™äº›æ˜ å°„å…³ç³»ç¼“å­˜åœ¨æœ¬åœ°ï¼Œé¿å…é‡å¤æŸ¥è¯¢ï¼Œè¿™å°±æ˜¯ ARP ç¼“å­˜ã€‚</p>
<p>æ¯ä¸ª ARP ç¼“å­˜æ¡ç›®éƒ½æœ‰å¤§å°é™åˆ¶ï¼Œå½“ç³»ç»Ÿä¸­çš„ç½‘ç»œè¿æ¥æ•°è¿‡å¤šï¼ˆå¸¸è§äºå®¹å™¨åŒ–ç¯å¢ƒã€ä»£ç†æœåŠ¡å™¨æˆ–ç½‘ç»œè®¾å¤‡ï¼‰æ—¶ï¼Œå°±å¯èƒ½å‘ç”Ÿ ARP ç¼“å­˜æº¢å‡ºï¼Œå¯¼è‡´æ–°çš„ç½‘ç»œè¿æ¥æ— æ³•å»ºç«‹ã€‚</p>
<h3 data-id="heading-2">å¦‚ä½•è¯Šæ–­ ARP ç¼“å­˜æº¢å‡ºï¼Ÿ</h3>
<h4 data-id="heading-3">1. æŸ¥çœ‹å†…æ ¸æ—¥å¿—ç¡®è®¤æŠ¥é”™</h4>
<p>é¦–å…ˆæ£€æŸ¥ç³»ç»Ÿæ—¥å¿—ï¼ŒARP ç¼“å­˜æº¢å‡ºæ—¶é€šå¸¸ä¼šå‡ºç°å¦‚ä¸‹æ˜ç¡®æŠ¥é”™ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">arp_cache: neighbor table overflow!
</code></pre>
<p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯æŸ¥çœ‹ç›¸å…³æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æŸ¥çœ‹å†…æ ¸æ—¥å¿—</span>
dmesg | <span class="hljs-keyword">grep</span> -i <span class="hljs-string">"arp_cache"</span>
<span class="hljs-comment"># æˆ–</span>
journalctl -k | <span class="hljs-keyword">grep</span> -i <span class="hljs-string">"neighbor table overflow"</span>
</code></pre>
<h4 data-id="heading-4">2. æ£€æŸ¥å½“å‰ ARP è®°å½•æ•°é‡</h4>
<p>é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰ç³»ç»Ÿä¸­çš„ ARP ç¼“å­˜æ¡ç›®æ•°ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">arp -an | <span class="hljs-built_in">wc</span> -l
</code></pre>
<p>å¦‚æœè¾“å‡ºæ•°å€¼å¾ˆé«˜ï¼ˆä¾‹å¦‚ç¤ºä¾‹ä¸­çš„ 1335 æ¡ï¼‰ï¼Œå°±éœ€è¦æ³¨æ„äº†ã€‚</p>
<h4 data-id="heading-5">3. æŸ¥çœ‹å½“å‰ ARP GC é˜ˆå€¼</h4>
<p>Linux é€šè¿‡ä¸‰ä¸ª <code>gc_thresh</code>å‚æ•°æ¥æ§åˆ¶ ARP ç¼“å­˜çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼š</p>
<pre><code class="hljs language-css" lang="css">sysctl -<span class="hljs-selector-tag">a</span> | grep gc_thresh
</code></pre>
<p>å…¸å‹è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">net.ipv4.neigh.default.gc_thresh1</span> = <span class="hljs-number">128</span>
<span class="hljs-attr">net.ipv4.neigh.default.gc_thresh2</span> = <span class="hljs-number">512</span>
<span class="hljs-attr">net.ipv4.neigh.default.gc_thresh3</span> = <span class="hljs-number">1024</span>
<span class="hljs-attr">net.ipv6.neigh.default.gc_thresh1</span> = <span class="hljs-number">128</span>
<span class="hljs-attr">net.ipv6.neigh.default.gc_thresh2</span> = <span class="hljs-number">512</span>
<span class="hljs-attr">net.ipv6.neigh.default.gc_thresh3</span> = <span class="hljs-number">1024</span>
</code></pre>
<h3 data-id="heading-6">ç†è§£ GC é˜ˆå€¼çš„ä½œç”¨æœºåˆ¶</h3>
<ul>
<li><strong>gc_thresh1</strong>ï¼šARP ç¼“å­˜æ¡ç›®çš„è½¯é™åˆ¶ï¼Œè¶…è¿‡æ­¤å€¼ä¼šè§¦å‘åƒåœ¾å›æ”¶</li>
<li><strong>gc_thresh2</strong>ï¼šè½¯é™åˆ¶çš„ä¸Šé™ï¼Œè¶…è¿‡æ­¤å€¼ååƒåœ¾å›æ”¶ä¼šæ›´ç§¯æ</li>
<li><strong>gc_thresh3</strong>ï¼šç¡¬é™åˆ¶ï¼ŒARP ç¼“å­˜çš„æœ€å¤§æ¡ç›®æ•°</li>
</ul>
<p><strong>å…³é”®ç‚¹</strong>ï¼šå½“ ARP ç¼“å­˜æ¡ç›®æ•°æ¥è¿‘ <code>gc_thresh3</code>æ—¶ï¼Œæœ€å®¹æ˜“å‘ç”Ÿæº¢å‡ºã€‚å› ä¸ºå½“ç¼“å­˜æ•°è¾¾åˆ° <code>gc_thresh3</code>æ—¶ï¼Œç³»ç»Ÿä¼šå¼ºåˆ¶è§¦å‘ GC æ¸…ç†ã€‚æ­¤æ—¶å¦‚æœæœ‰æ–°çš„æ•°æ®åŒ…éœ€è¦å‘é€ï¼Œå¹¶ä¸”åœ¨ ARP ç¼“å­˜ä¸­æ‰¾ä¸åˆ°å¯¹åº”çš„ MAC åœ°å€ï¼Œç³»ç»Ÿä¼šæ£€æŸ¥â€œå½“å‰ç¼“å­˜æ•° + 1â€æ˜¯å¦å¤§äº <code>gc_thresh3</code>ã€‚å¦‚æœå¤§äºï¼Œå°±ä¼šè§¦å‘æŠ¥é”™ï¼š<code>arp_cache: neighbor table overflow!</code></p>
<h3 data-id="heading-7">è§£å†³æ–¹æ¡ˆï¼šè°ƒæ•´ ARP ç¼“å­˜é˜ˆå€¼</h3>
<h4 data-id="heading-8">1. æ°¸ä¹…ä¿®æ”¹ç³»ç»Ÿå‚æ•°</h4>
<p>ç¼–è¾‘ <code>/etc/sysctl.conf</code>æ–‡ä»¶ï¼Œå¢åŠ ä»¥ä¸‹é…ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># å¢åŠ  ARP ç¼“å­˜å¤§å°é™åˆ¶</span>
<span class="hljs-attr">net.ipv4.neigh.default.gc_thresh1</span> = <span class="hljs-number">80000</span>
<span class="hljs-attr">net.ipv4.neigh.default.gc_thresh2</span> = <span class="hljs-number">90000</span>
<span class="hljs-attr">net.ipv4.neigh.default.gc_thresh3</span> = <span class="hljs-number">100000</span>

<span class="hljs-comment"># å¦‚æœä½¿ç”¨ IPv6ï¼Œä¹Ÿéœ€è¦ç›¸åº”è°ƒæ•´</span>
<span class="hljs-attr">net.ipv6.neigh.default.gc_thresh1</span> = <span class="hljs-number">80000</span>
<span class="hljs-attr">net.ipv6.neigh.default.gc_thresh2</span> = <span class="hljs-number">90000</span>
<span class="hljs-attr">net.ipv6.neigh.default.gc_thresh3</span> = <span class="hljs-number">100000</span>
</code></pre>
<h4 data-id="heading-9">2. åº”ç”¨é…ç½®æ›´æ”¹</h4>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä½¿é…ç½®ç«‹å³ç”Ÿæ•ˆï¼š</p>
<pre><code class="hljs language-css" lang="css">sysctl -<span class="hljs-selector-tag">p</span>
</code></pre>
<h4 data-id="heading-10">3. éªŒè¯é…ç½®æ˜¯å¦ç”Ÿæ•ˆ</h4>
<pre><code class="hljs language-css" lang="css">sysctl -<span class="hljs-selector-tag">a</span> | grep gc_thresh
</code></pre>
<h3 data-id="heading-11">æ³¨æ„äº‹é¡¹ä¸ä¼˜åŒ–å»ºè®®</h3>
<ol>
<li><strong>å†…å­˜è€ƒè™‘</strong>ï¼šå¢åŠ  ARP ç¼“å­˜é˜ˆå€¼ä¼šå ç”¨æ›´å¤šå†…å­˜ï¼Œéœ€ç¡®ä¿ç³»ç»Ÿæœ‰è¶³å¤Ÿå†…å­˜èµ„æº</li>
<li><strong>ç›‘æ§è®¾ç½®</strong>ï¼šå»ºè®®ç›‘æ§ ARP ç¼“å­˜ä½¿ç”¨é‡ï¼Œè®¾ç½®åˆç†çš„å‘Šè­¦é˜ˆå€¼ï¼ˆå¦‚è¾¾åˆ° gc_thresh3 çš„ 80%ï¼‰</li>
<li><strong>å®¹å™¨ç¯å¢ƒ</strong>ï¼šåœ¨ Kubernetes ç­‰å®¹å™¨ç¯å¢ƒä¸­ï¼Œæ¯ä¸ª Pod éƒ½å¯èƒ½äº§ç”Ÿå¤§é‡ ARP è®°å½•ï¼Œéœ€ç‰¹åˆ«å…³æ³¨</li>
<li><strong>ä¸´æ—¶è°ƒæ•´</strong>ï¼šå¦‚éœ€ä¸´æ—¶è°ƒæ•´ï¼Œå¯ç›´æ¥æ‰§è¡Œ <code>sysctl -w net.ipv4.neigh.default.gc_thresh3=100000</code></li>
</ol>
<h3 data-id="heading-12">æ€»ç»“</h3>
<p>ARP ç¼“å­˜æº¢å‡ºæ˜¯ Linux ç³»ç»Ÿä¸­å¸¸è§çš„ç½‘ç»œé—®é¢˜ï¼Œå°¤å…¶åœ¨è¿æ¥æ•°å¯†é›†çš„ç¯å¢ƒä¸­ã€‚é€šè¿‡åˆç†è°ƒæ•´ <code>gc_thresh</code>å‚æ•°ï¼Œå¯ä»¥æœ‰æ•ˆè§£å†³è¿™ä¸€é—®é¢˜ã€‚ä½†æ›´é‡è¦çš„æ˜¯å»ºç«‹ç›‘æ§æœºåˆ¶ï¼ŒåŠæ—¶å‘ç°å¹¶é¢„é˜²æ­¤ç±»é—®é¢˜çš„å‘ç”Ÿã€‚</p>
<p>åœ¨å®é™…è¿ç»´ä¸­ï¼Œé™¤äº†è°ƒæ•´å‚æ•°ï¼Œè¿˜åº”è€ƒè™‘ä¼˜åŒ–ç½‘ç»œæ¶æ„ï¼Œå‡å°‘ä¸å¿…è¦çš„ç½‘ç»œè¿æ¥ï¼Œä»æºå¤´ä¸Šé™ä½å¯¹ ARP ç¼“å­˜çš„éœ€æ±‚ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç¬¬10ç«  SSEé­”æ”¹]]></title>    <link>https://juejin.cn/post/7592922036093108239</link>    <guid>https://juejin.cn/post/7592922036093108239</guid>    <pubDate>2026-01-09T07:57:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592922036093108239" data-draft-id="7592939457043365940" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç¬¬10ç«  SSEé­”æ”¹"/> <meta itemprop="keywords" content="å‰ç«¯,WebAssembly"/> <meta itemprop="datePublished" content="2026-01-09T07:57:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="XiaoYu2002"/> <meta itemprop="url" content="https://juejin.cn/user/251124329220663"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç¬¬10ç«  SSEé­”æ”¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/251124329220663/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    XiaoYu2002
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:57:42.000Z" title="Fri Jan 09 2026 07:57:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>SSEï¼ˆServer-Sent Eventsï¼ŒæœåŠ¡å™¨æ¨é€äº‹ä»¶ï¼‰ æ˜¯ä¸€ç§åŸºäºæ ‡å‡†HTTPåè®®çš„æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯çš„å•å‘æ•°æ®æµæŠ€æœ¯ã€‚å®ƒå…è®¸æœåŠ¡å™¨åœ¨å»ºç«‹åˆå§‹è¿æ¥åï¼Œé€šè¿‡ä¸€ä¸ªæŒä¹…çš„HTTPè¿æ¥ä¸»åŠ¨ã€è¿ç»­åœ°å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®æ›´æ–°ï¼Œè€Œæ— éœ€å®¢æˆ·ç«¯é‡å¤å‘èµ·è¯·æ±‚ã€‚å…¶æ ¸å¿ƒæœºåˆ¶æ˜¯å®¢æˆ·ç«¯ä½¿ç”¨ EventSource API è¿æ¥åˆ°æŒ‡å®šç«¯ç‚¹åï¼ŒæœåŠ¡å™¨ä»¥ text/event-stream æ ¼å¼æŒç»­å‘é€äº‹ä»¶æµï¼Œæ¯ä¸ªäº‹ä»¶ç”±æ ‡è¯†ç±»å‹ï¼ˆevent:ï¼‰ã€æ•°æ®ï¼ˆdata:ï¼‰å’Œå¯é€‰IDç»„æˆï¼Œå®¢æˆ·ç«¯é€šè¿‡ç›‘å¬äº‹ä»¶ç±»å‹æ¥å®æ—¶å¤„ç†æ•°æ®ï¼Œè¿æ¥ä¸­æ–­æ—¶è¿˜ä¼šå€ŸåŠ©æœ€åæ¥æ”¶çš„IDè‡ªåŠ¨å°è¯•é‡è¿ã€‚</p>
<p>ä¸éœ€è¦åŒå‘é€šä¿¡çš„WebSocketç›¸æ¯”ï¼ŒSSEçš„å…¸å‹ä¼˜åŠ¿åœ¨äºåè®®è½»é‡ã€å¤©ç„¶æ”¯æŒè‡ªåŠ¨é‡è¿ä¸æ–­ç‚¹ç»­ä¼ ï¼Œä¸”æ— éœ€é¢å¤–åè®®å‡çº§ã€‚å®ƒéå¸¸é€‚åˆæœåŠ¡å™¨ä¸»å¯¼çš„å®æ—¶æ•°æ®åˆ†å‘åœºæ™¯ï¼Œå¦‚è‚¡å¸‚è¡Œæƒ…æ¨é€ã€æ–°é—»ç›´æ’­ã€ç¤¾äº¤åª’ä½“åŠ¨æ€ã€ä»»åŠ¡è¿›åº¦é€šçŸ¥ç­‰ï¼Œæµè§ˆå™¨å…¼å®¹æ€§å¹¿æ³›ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒSSEæ˜¯å•å‘é€šé“ï¼ˆæœåŠ¡å™¨â†’å®¢æˆ·ç«¯ï¼‰ï¼Œä¸”ä¸»æµå®ç°ä¸­ä¼ è¾“æ ¼å¼é™äºæ–‡æœ¬ï¼ˆäºŒè¿›åˆ¶æ•°æ®éœ€ç¼–ç ï¼‰ï¼Œè‹¥éœ€åŒå‘å®æ—¶äº¤äº’åˆ™ä»éœ€é€‰æ‹©WebSocketã€‚</p>
<p>é€šè¿‡ä»¥ä¸Šå¯¹SSEçš„è§£é‡Šï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åˆ°ç°å¦‚ä»Šéå¸¸ç»å…¸çš„ä¾‹å­ï¼ŒAIç½‘ç«™ä¸­è¾“å‡ºæ–‡å­—çš„æ‰“å­—æœºæ•ˆæœï¼ˆä¾‹å¦‚DeepSeekï¼‰ï¼Œä¸€ä¸ªå­—ä¸€ä¸ªå­—çš„å¾€å¤–è¾“å‡ºï¼Œè¿™ä¹Ÿæ˜¯ä¸€ç§SSEã€‚å‰ç«¯ç»™åç«¯å‘é€ä¸€æ¬¡æ¶ˆæ¯ï¼Œè€Œåç«¯å¯ä»¥ç»™å‰ç«¯ä¸€ç›´å‘æ¶ˆæ¯ã€‚</p>
<h2 data-id="heading-0">10.1 åˆå§‹åŒ–é¡¹ç›®</h2>
<p>æˆ‘ä»¬é‡‡ç”¨Expressæ¥æ¨¡æ‹ŸSSEï¼Œå› æ­¤éœ€è¦å¦‚ä¸‹3ä¸ªæ­¥éª¤æ¥åˆå§‹åŒ–é¡¹ç›®ï¼š</p>
<p>ï¼ˆ1ï¼‰åˆ›å»ºindex.htmlå’Œindex.tsæ–‡ä»¶ã€‚</p>
<p>ï¼ˆ2ï¼‰å®‰è£…expresså’Œå¯¹åº”çš„å£°æ˜æ–‡ä»¶ï¼Œå¹¶å¼•å…¥index.tsæ–‡ä»¶ä¸­ã€‚</p>
<p>ï¼ˆ3ï¼‰å®‰è£…corså’Œå¯¹åº”çš„å£°æ˜æ–‡ä»¶ï¼Œå¹¶å¼•å…¥index.tsæ–‡ä»¶ä¸­ã€‚</p>
<p>ä¸¤ä¸ªindexæ–‡ä»¶ç”¨äºå±•ç¤ºæ•ˆæœä»¥åŠç¼–å†™SSEé€»è¾‘ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// å®‰è£…express</span>
npm i express
<span class="hljs-comment">// å®‰è£… CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ä¸­é—´ä»¶ï¼‰</span>
npm install cors
<span class="hljs-comment">// å®‰è£… Express çš„ TypeScript ç±»å‹å®šä¹‰</span>
npm install --save-dev <span class="hljs-meta">@types</span>/express
<span class="hljs-comment">// å®‰è£… CORS çš„ TypeScript ç±»å‹å®šä¹‰</span>
npm install --save-dev <span class="hljs-meta">@types</span>/cors

<span class="hljs-comment">// ä¸€æ¬¡æ€§å®‰è£…æ‰€æœ‰ä¾èµ–</span>
npm install express cors <span class="hljs-meta">@types</span>/express <span class="hljs-meta">@types</span>/cors
</code></pre>
<p>å¯¹åº”çš„package.jsonæ–‡ä»¶ä¸­ï¼Œå°†typeå­—æ®µè®¾ç½®ä¸ºmoduleï¼Œä»è€Œå¯ä»¥ä½¿ç”¨importå¼•å…¥å†™æ³•ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// package.json</span>
{
  <span class="hljs-string">"type"</span>: <span class="hljs-string">"module"</span>,
  <span class="hljs-string">"dependencies"</span>: {
    <span class="hljs-string">"@types/cors"</span>: <span class="hljs-string">"^2.8.19"</span>,
    <span class="hljs-string">"@types/express"</span>: <span class="hljs-string">"^5.0.6"</span>,
    <span class="hljs-string">"cors"</span>: <span class="hljs-string">"^2.8.5"</span>,
    <span class="hljs-string">"express"</span>: <span class="hljs-string">"^5.2.1"</span>
  }
}
</code></pre>
<p>åœ¨index.tsæ–‡ä»¶ä½¿ç”¨ESæ¨¡å—è¯­æ³•å¼•å…¥ä¾èµ–æ¨¡å—expresså’Œcorsåï¼Œåˆ›å»ºExpressåº”ç”¨å®ä¾‹çš„appå¯¹è±¡ï¼Œç„¶ååœ¨appå¯¹è±¡ä¸­ï¼Œé€šè¿‡use()æ–¹æ³•æŒ‚è½½å¿…è¦çš„å…¨å±€ä¸­é—´ä»¶cors()å’Œexpress.json()ï¼Œç”¨äºå¤„ç†è·¨åŸŸèµ„æºå…±äº«ä»¥åŠè§£æè¯·æ±‚ä½“ä¸­æ ¼å¼ä¸ºJSONçš„æ•°æ®ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// index.ts</span>
<span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">"express"</span>;
<span class="hljs-keyword">import</span> cors <span class="hljs-keyword">from</span> <span class="hljs-string">'cors'</span>

<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()
<span class="hljs-comment">// å¤„ç†è·¨åŸŸ</span>
app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">cors</span>())
<span class="hljs-comment">// è§£æè¯·æ±‚ä½“ä¸­æ ¼å¼ä¸ºJSONçš„æ•°æ®</span>
app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">json</span>())
</code></pre>
<p>æœ€åï¼Œå¯åŠ¨ExpressæœåŠ¡å™¨ï¼Œç›‘å¬3000ç«¯å£ï¼Œå®ŒæˆSSEçš„é¡¹ç›®åˆå§‹åŒ–ã€‚</p>
<pre><code class="hljs language-ts" lang="ts">app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Server is running on port 3000"</span>);
});
</code></pre>
<h2 data-id="heading-1">10.2 SSEé€»è¾‘å®ç°</h2>
<p>SSEè¦æ±‚æ¥å£å¿…é¡»æ˜¯ä¸€ä¸ªgetè¯·æ±‚ï¼Œå› æ­¤æˆ‘ä»¬æ¥å®šä¹‰ä¸€ä¸ªgetè¯·æ±‚ã€‚</p>
<p>SSEçš„æ ¸å¿ƒä»£ç åªæœ‰ä¸€è¡Œï¼Œå°†Content-Typeè®¾ç½®ä¸ºtext/event-streamã€‚é€šè¿‡å°†HTTPå“åº”çš„å†…å®¹ç±»å‹æ˜ç¡®å£°æ˜ä¸ºäº‹ä»¶æµæ ¼å¼ï¼Œé€šçŸ¥å®¢æˆ·ç«¯ï¼ˆé€šå¸¸æ˜¯æµè§ˆå™¨ï¼‰æœ¬æ¬¡è¿æ¥å¹¶éæ™®é€šçš„è¯·æ±‚-å“åº”äº¤äº’ï¼Œè€Œæ˜¯ä¸€ä¸ªéœ€è¦ä¿æŒå¼€å¯ã€æŒç»­æ¥æ”¶æœåŠ¡å™¨æ¨é€äº‹ä»¶çš„é•¿è¿æ¥é€šé“ã€‚æµè§ˆå™¨æ¥æ”¶åˆ°è¿™ä¸ªç‰¹å®šå¤´éƒ¨åï¼Œä¼šå¯åŠ¨å…¶å†…å»ºçš„SSEå¤„ç†æœºåˆ¶ï¼ˆEventSource APIï¼‰ï¼Œè‡ªåŠ¨ä¿æŒè¿æ¥æ´»æ€§å¹¶å‡†å¤‡ä»¥æµå¼æ–¹å¼è§£æåç»­ä¼ å…¥çš„æ•°æ®ã€‚</p>
<p>è¿”å›æ•°æ®çš„æ ¼å¼ä¸€å®šè¦éµå¾ª<strong>data: {å®é™…æ•°æ®}\n\n</strong>çš„å½¢å¼ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// index.ts</span>
app.<span class="hljs-title function_">get</span>(<span class="hljs-string">'/chat'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"text/event-stream"</span>); <span class="hljs-comment">// è¿”å›SSE</span>
  <span class="hljs-comment">// ä¸ç¼“å­˜</span>
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">"Cache-Control"</span>, <span class="hljs-string">"no-cache"</span>);
  <span class="hljs-comment">// æŒä¹…åŒ–è¿æ¥</span>
  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">"Connection"</span>, <span class="hljs-string">"keep-alive"</span>);
  <span class="hljs-comment">// å®šæ—¶å™¨ï¼Œæ¯ç§’è¿”å›ä¸€æ¬¡æ—¶é—´ï¼Œæ¨¡æ‹Ÿåç«¯è¿ç»­åœ°å‘å®¢æˆ·ç«¯æ¨é€æ•°æ®æ›´æ–°</span>
  <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
    res.<span class="hljs-title function_">write</span>(<span class="hljs-string">`data: <span class="hljs-subst">${<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toISOString()}</span>\n\n`</span>);
  }, <span class="hljs-number">1000</span>);
});
</code></pre>
<p>å®Œæˆåç«¯SSEçš„é€»è¾‘ä¹‹åï¼Œå‰ç«¯éœ€è¦å¦‚ä½•æ¥å—åç«¯ä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Ÿé€šè¿‡æµè§ˆå™¨å†…ç½®çš„ EventSource API æ¥å»ºç«‹è¿æ¥å¹¶æ¥æ”¶åç«¯SSEäº‹ä»¶æµæ•°æ®å°±å¯ä»¥ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// index.html</span>
<span class="hljs-keyword">const</span> sse = <span class="hljs-keyword">new</span> <span class="hljs-title class_">EventSource</span>(<span class="hljs-string">"http://localhost:3000/chat"</span>);
sse.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(event.<span class="hljs-property">data</span>);
};
</code></pre>
<p>æ­¤æ—¶å¯åŠ¨åç«¯æœåŠ¡å™¨ï¼Œæ‰“å¼€index.htmlé¡µé¢çš„æ§åˆ¶å°çœ‹æµå¼è¾“å‡ºæ—¶é—´ï¼Œå³å‰ç«¯å¯ä»¥å®æ—¶æ¥æ”¶åç«¯è¿”å›çš„æ•°æ®ï¼Œå¦‚å›¾10-1æ‰€ç¤ºã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f3da3d0969cd406f856e1c5ff01c3b17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWGlhb1l1MjAwMg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768550262&amp;x-signature=Izn4wrM1P42zAw%2BqUcaL%2BMof80Y%3D" alt="image-20251219033233783" loading="lazy"/></p>
<p align="center">
 <b> å›¾10-1 æµå¼è¾“å‡ºæ—¶é—´</b>
</p>
<p>æ­¤æ—¶æ‰“å¼€ç½‘ç»œé€‰é¡¹å¡ï¼Œè¾“å‡ºæ•ˆæœå¦‚å›¾10-2æ‰€ç¤ºã€‚chatæ¥å£çš„EventStreamä¼šä¸æ–­çš„æ¥æ”¶messageç±»å‹çš„æ¶ˆæ¯ï¼Œå¹¶å±•ç°å¯¹åº”çš„æ•°æ®ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/db9b7eb966e44fe8bbe8bb33e844e3c1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWGlhb1l1MjAwMg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768550262&amp;x-signature=3C2ObZpQZK%2BfxIjU76AdiEMvaL4%3D" alt="image-20251219033452742" loading="lazy"/></p>
<p align="center">
 <b> å›¾10-2 ç½‘ç»œé€‰é¡¹å¡å±•ç¤ºè¾“å‡ºæ•ˆæœ</b>
</p>
<h2 data-id="heading-2">10.3 SSEè®¾ç½®postè¯·æ±‚</h2>
<p>ä½†ä¸€èˆ¬åœ¨å®é™…çš„é¡¹ç›®ä¸­ï¼Œæ˜¯ä¸ä¼šä½¿ç”¨EventSourceçš„ï¼Œå› ä¸ºå®ƒå¿…é¡»æ˜¯ä¸€ä¸ªgetè¯·æ±‚ï¼Œè€Œåœ¨å·¥ä½œä¸­ç»å¸¸ä½¿ç”¨çš„æ˜¯postè¯·æ±‚ã€‚é‚£é¢å¯¹è¿™ç§å†²çªçš„æƒ…å†µï¼Œåº”è¯¥å¦‚ä½•å»åšï¼Ÿ</p>
<p>å¦‚æœæˆ‘ä»¬åªæ˜¯åœ¨åç«¯ç®€å•çš„å°†getè¯·æ±‚ç›´æ¥æ”¹æˆpostè¯·æ±‚ï¼Œç„¶åé‡å¯æœåŠ¡å»çœ‹æ•ˆæœçš„è¯ï¼Œæ˜¯æ— æ³•ç”Ÿæ•ˆçš„ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-comment">// index.ts</span>
app.<span class="hljs-title function_">post</span>(<span class="hljs-string">'/chat'</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {
  <span class="hljs-comment">//  çœç•¥...</span>
});
</code></pre>
<p>chatæ¥å£ä¿®æ”¹æˆpostè¯·æ±‚å¦‚å›¾10-3æ‰€ç¤ºã€‚è¯·æ±‚æ–¹æ³•ä¾ç„¶ä¸ºGETï¼Œç½‘ç»œçŠ¶æ€åˆ™æ˜¯404ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e6dccc5d2dd340bd87badd1622147d49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgWGlhb1l1MjAwMg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1768550262&amp;x-signature=t2l%2FIbhzZGl5wU0bExIi3Rg3om4%3D" alt="image-20251219034035386" loading="lazy"/></p>
<p align="center">
 <b> å›¾10-3 chatæ¥å£ä¿®æ”¹æˆpostè¯·æ±‚</b>
</p>
<p>é¢å¯¹åç«¯chatæ¥å£ä¿®æ”¹ä¸ºpostè¯·æ±‚ä¸èµ·æ•ˆæœçš„æƒ…å†µï¼Œæˆ‘ä»¬åªèƒ½åœ¨å‰ç«¯å»é­”æ”¹æ–¹æ¡ˆï¼Œä¸ä½¿ç”¨EventSource APIæ¥å»ºç«‹è¿æ¥å¹¶æ¥æ”¶åç«¯SSEäº‹ä»¶æµæ•°æ®ã€‚</p>
<p>æˆ‘ä»¬åœ¨å‰ç«¯ä½¿ç”¨fetch()å»æ¥æ”¶chatæ¥å£è¿”å›çš„æ•°æ®ï¼Œæ­¤æ—¶ä»æµè§ˆå™¨çš„çš„ç½‘ç»œé€‰é¡¹å¡å¯ä»¥çœ‹åˆ°æ¥é€šäº†ï¼Œå¹¶ä¸”ä»å“åº”é€‰é¡¹ä¸­ä¼šä¸æ–­æ‰“å°å‡ºæ—¶é—´æ•°æ®ã€‚</p>
<pre><code class="hljs language-ts" lang="ts"><span class="hljs-title function_">fetch</span>(<span class="hljs-string">"http://localhost:3000/chat"</span>, {
  <span class="hljs-attr">headers</span>: {
    <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/json"</span>,
  },
  <span class="hljs-attr">method</span>: <span class="hljs-string">"POST"</span>,
  <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ <span class="hljs-attr">message</span>: <span class="hljs-string">"Hello, world!"</span> }),
})
  .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">async</span> response =&gt; {
    <span class="hljs-keyword">const</span> reader = response.<span class="hljs-property">body</span>.<span class="hljs-title function_">getReader</span>(); <span class="hljs-comment">// è·å–æµ</span>
    <span class="hljs-keyword">const</span> decoder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>(); <span class="hljs-comment">// è§£ç ASCIIç å€¼</span>
    <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) {
      <span class="hljs-keyword">const</span> { done, value } = <span class="hljs-keyword">await</span> reader.<span class="hljs-title function_">read</span>();
      <span class="hljs-keyword">if</span> (done) <span class="hljs-keyword">break</span>;
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value) <span class="hljs-comment">// valueæ˜¯ASCIIç </span>
      <span class="hljs-keyword">const</span> text = decoder.<span class="hljs-title function_">decode</span>(value, { <span class="hljs-attr">stream</span>: <span class="hljs-literal">true</span> });
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(text);
    }
  })
<span class="hljs-keyword">let</span> a = [<span class="hljs-number">1</span>]
<span class="hljs-keyword">let</span> b = a[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">next</span>());
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(b.<span class="hljs-title function_">next</span>());
</code></pre>
<p>ç°å¦‚ä»ŠåŸºæœ¬ä¸Šéƒ½æ˜¯é€šè¿‡fetchå»é­”æ”¹å®ç°ï¼Œå°†getè¯·æ±‚ä¿®æ”¹æˆpostè¯·æ±‚ä¹Ÿèƒ½ä¼ è¾“æ•°æ®ã€‚ç›®å‰ä¸ºæ­¢ï¼Œæ²¡æœ‰æ›´å¥½çš„è§£å†³æ–¹æ³•äº†ã€‚</p>
<p>åœ¨è¿™æ®µé­”æ”¹çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬åšäº†ä»€ä¹ˆï¼Ÿ</p>
<p>é¦–å…ˆæ˜¯è®¾ç½®è¯·æ±‚å¤´æ¥æ”¶çš„å†…å®¹ç±»å‹ä»¥åŠè¯·æ±‚æ–¹å¼ã€‚å½“æ¥æ”¶åˆ°æ•°æ®æ—¶ï¼Œé€šè¿‡getReader()æ–¹æ³•è·å–æµï¼Œè·å–æµå¾—åˆ°çš„æ˜¯ä¸€ä¸ªPromiseï¼Œå› æ­¤éœ€è¦é€šè¿‡awaitæ“ä½œç¬¦å»ç­‰å¾…Promiseå…‘ç°å¹¶è·å–å®ƒå…‘ç°ä¹‹åå€¼ï¼Œé€šè¿‡read()æ–¹æ³•å»è¯»å–æ•°æ®ä¸­çš„æ¯ä¸€ä¸ªæµã€‚</p>
<p>æ­¤æ—¶æ¯ä¸€ä¸ªæµè¿”å›çš„æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè¿­ä»£å™¨æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå†…éƒ¨æœ‰ä¸€ä¸ªnext()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›å…·æœ‰ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ï¼š</p>
<p>ï¼ˆ1ï¼‰valueï¼šè¿­ä»£åºåˆ—çš„ä¸‹ä¸€ä¸ªå€¼ã€‚</p>
<p>ï¼ˆ2ï¼‰doneï¼šå¦‚æœå·²ç»è¿­ä»£åˆ°åºåˆ—ä¸­çš„æœ€åä¸€ä¸ªå€¼ï¼Œåˆ™å®ƒä¸º trueã€‚å¦‚æœ value å’Œ done ä¸€èµ·å‡ºç°ï¼Œåˆ™å®ƒå°±æ˜¯è¿­ä»£å™¨çš„è¿”å›å€¼ã€‚</p>
<p>æ‰€ä»¥è¿­ä»£å™¨å¯¹è±¡å¯ä»¥é€šè¿‡é‡å¤è°ƒç”¨next()æ–¹æ³•æ˜¾å¼åœ°è¿­ä»£ã€‚åœ¨whileå¾ªç¯ä¸­æŒç»­è°ƒç”¨reader.read()æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›çš„Promiseåœ¨æ¯æ¬¡å…‘ç°æ—¶éƒ½æä¾›ä¸€ä¸ªç±»ä¼¼è¿­ä»£å™¨next()æ–¹æ³•çš„å¯¹è±¡â€”â€”åŒ…å«valueï¼ˆå½“å‰æ•°æ®å—ï¼‰å’Œdoneï¼ˆæµæ˜¯å¦ç»“æŸï¼‰ä¸¤ä¸ªå±æ€§ã€‚é€šè¿‡å¾ªç¯åˆ¤æ–­doneæ˜¯å¦ä¸ºfalseï¼Œæˆ‘ä»¬å¯ä»¥æŒç»­è¯»å–Uint8Arrayæ ¼å¼çš„æ•°æ®å—ï¼Œç„¶åä½¿ç”¨TextDecoderå°†å…¶è§£ç ä¸ºå¯è¯»æ–‡æœ¬ï¼Œå®ç°äº†å¯¹æœåŠ¡å™¨æ¨é€æ•°æ®æµçš„å®æ—¶é€å—å¤„ç†ã€‚</p>
<p>è¿™ç§æ˜¾å¼è¿­ä»£çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºæŒ‰éœ€ã€å¢é‡åœ°å¤„ç†æ•°æ®ï¼Œé¿å…äº†ç­‰å¾…æ•´ä¸ªå“åº”ä½“å®Œå…¨åˆ°è¾¾æ‰èƒ½å¼€å§‹å¤„ç†ã€‚æ¯æ¬¡è°ƒç”¨reader.read()éƒ½æ˜ç¡®è¯·æ±‚ä¸‹ä¸€ä¸ªæ•°æ®å—ï¼Œç›´åˆ°doneå˜ä¸ºtrueè¡¨ç¤ºæµå·²ç»“æŸã€‚è¿™ä¸ä¼ ç»Ÿçš„ä¸€æ¬¡æ€§æ¥æ”¶å®Œæ•´å“åº”å½¢æˆå¯¹æ¯”ï¼Œç‰¹åˆ«é€‚åˆå¤„ç†SSEè¿™ç§æŒç»­ã€é•¿æ—¶é—´çš„æ•°æ®æµè¿æ¥ï¼Œç¡®ä¿äº†åœ¨å¤„ç†æœåŠ¡å™¨å®æ—¶æ¨é€æ—¶å†…å­˜ä½¿ç”¨çš„é«˜æ•ˆæ€§å’Œå“åº”çš„å³æ—¶æ€§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Vue3å“åº”å¼API-reactiveçš„åŸç†]]></title>    <link>https://juejin.cn/post/7592997693070065674</link>    <guid>https://juejin.cn/post/7592997693070065674</guid>    <pubDate>2026-01-09T07:46:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7592997693070065674" data-draft-id="7592996072706179122" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Vue3å“åº”å¼API-reactiveçš„åŸç†"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js"/> <meta itemprop="datePublished" content="2026-01-09T07:46:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ»¡å¤©æ˜Ÿè¾°"/> <meta itemprop="url" content="https://juejin.cn/user/2771198801097485"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Vue3å“åº”å¼API-reactiveçš„åŸç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2771198801097485/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ»¡å¤©æ˜Ÿè¾°
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-09T07:46:18.000Z" title="Fri Jan 09 2026 07:46:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-09
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>è¿™æ®µä»£ç å®ç°äº†ä¸€ä¸ª<strong>ç®€åŒ–ç‰ˆçš„å“åº”å¼ç³»ç»Ÿ</strong>ï¼ˆç±»ä¼¼ Vue 3 çš„Â <code>reactive</code>ï¼‰ï¼ŒåŒ…å«ä¾èµ–æ”¶é›†å’Œè§¦å‘æ›´æ–°çš„æ ¸å¿ƒæœºåˆ¶ã€‚è®©æˆ‘è¯¦ç»†è®²è§£æ¯ä¸ªéƒ¨åˆ†ï¼š</p>
<h2 data-id="heading-0">ä¸€ã€æ ¸å¿ƒç»“æ„</h2>
<h3 data-id="heading-1">1.Â <code>reactive</code>Â å‡½æ•°</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> reactive&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt;(<span class="hljs-attr">target</span>: T) {
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">createReactiveObject</span>(target);
}
</code></pre>
<ul>
<li>å…¥å£å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªæ™®é€šå¯¹è±¡</li>
<li>è¿”å›è¯¥å¯¹è±¡çš„å“åº”å¼ä»£ç†</li>
<li>ä½¿ç”¨æ³›å‹Â <code>T extends object</code>Â ç¡®ä¿åªèƒ½å¤„ç†å¯¹è±¡ç±»å‹</li>
</ul>
<h3 data-id="heading-2">2.Â <code>createReactiveObject</code>Â å‡½æ•°</h3>
<p>åˆ›å»º Proxy ä»£ç†å¯¹è±¡çš„æ ¸å¿ƒå‡½æ•°ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> createReactiveObject&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>&gt;(<span class="hljs-attr">target</span>: T) {
  <span class="hljs-keyword">const</span> handler = {
    <span class="hljs-comment">// get æ‹¦æˆªå™¨</span>
    <span class="hljs-title function_">get</span>(<span class="hljs-params">target: <span class="hljs-built_in">object</span>, key: keyof <span class="hljs-built_in">object</span>, receiver: () =&gt; <span class="hljs-built_in">void</span></span>) {
      <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">get</span>(target, key, receiver);
      <span class="hljs-title function_">track</span>(target, key);  <span class="hljs-comment">// ä¾èµ–æ”¶é›†</span>
      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> result === <span class="hljs-string">"object"</span> &amp;&amp; result !== <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">createReactiveObject</span>(result);  <span class="hljs-comment">// æ·±åº¦å“åº”å¼</span>
      }
      <span class="hljs-keyword">return</span> result;
    },
    
    <span class="hljs-comment">// set æ‹¦æˆªå™¨</span>
    <span class="hljs-title function_">set</span>(<span class="hljs-params">target: <span class="hljs-built_in">object</span>, key: keyof <span class="hljs-built_in">object</span>, value: <span class="hljs-built_in">unknown</span>, receiver: () =&gt; <span class="hljs-built_in">void</span></span>) {
      <span class="hljs-keyword">const</span> oldValue = target[key];
      <span class="hljs-keyword">const</span> result = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">set</span>(target, key, value, receiver);
      <span class="hljs-keyword">if</span> (oldValue !== value) {
        <span class="hljs-title function_">trigger</span>(target, key);  <span class="hljs-comment">// è§¦å‘æ›´æ–°</span>
      }
      <span class="hljs-keyword">return</span> result;
    },
  };
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(target, handler);
}
</code></pre>
<p><strong>å…³é”®ç‚¹ï¼š</strong></p>
<ul>
<li><strong>æ·±åº¦å“åº”å¼</strong>ï¼šå½“è®¿é—®çš„å±æ€§å€¼æ˜¯å¯¹è±¡æ—¶ï¼Œé€’å½’åˆ›å»ºå“åº”å¼ä»£ç†</li>
<li><strong>æƒ°æ€§è½¬æ¢</strong>ï¼šåªæœ‰åœ¨è®¿é—®åµŒå¥—å¯¹è±¡æ—¶æ‰è¿›è¡Œå“åº”å¼è½¬æ¢</li>
<li><strong>Reflect API</strong>ï¼šä½¿ç”¨Â <code>Reflect.get/set</code>Â ç¡®ä¿æ­£ç¡®çš„Â <code>this</code>Â ç»‘å®š</li>
</ul>
<h2 data-id="heading-3">äºŒã€ä¾èµ–ç®¡ç†ç³»ç»Ÿ</h2>
<h3 data-id="heading-4">1. å­˜å‚¨ç»“æ„</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> targetMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>&lt;<span class="hljs-built_in">object</span>, <span class="hljs-title class_">Map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">Function</span>&gt;&gt;&gt;();
<span class="hljs-keyword">let</span> <span class="hljs-attr">activeEffect</span>: <span class="hljs-literal">null</span> | <span class="hljs-title class_">Function</span> = <span class="hljs-literal">null</span>;
</code></pre>
<p><strong>ç»“æ„è¯´æ˜ï¼š</strong></p>
<pre><code class="hljs language-text" lang="text">WeakMap
  key: åŸå§‹å¯¹è±¡ (target)
  value: Map
    key: å±æ€§å (string)
    value: Set&lt;Function&gt;  // ä¾èµ–è¯¥å±æ€§çš„ effect é›†åˆ
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆç”¨ WeakMapï¼Ÿ</strong></p>
<ul>
<li>é”®æ˜¯å¯¹è±¡ï¼Œä¸å½±å“åƒåœ¾å›æ”¶</li>
<li>å½“åŸå§‹å¯¹è±¡ä¸å†ä½¿ç”¨æ—¶ï¼Œå¯¹åº”çš„ä¾èµ–å…³ç³»ä¼šè‡ªåŠ¨æ¸…é™¤</li>
</ul>
<h3 data-id="heading-5">2.Â <code>track</code>Â - ä¾èµ–æ”¶é›†</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">track</span>(<span class="hljs-params">target: <span class="hljs-built_in">object</span>, key: <span class="hljs-built_in">string</span></span>) {
  <span class="hljs-keyword">if</span> (!activeEffect) <span class="hljs-keyword">return</span>;  <span class="hljs-comment">// æ²¡æœ‰ activeEffect æ—¶ä¸æ”¶é›†</span>
  
  <span class="hljs-comment">// è·å–æˆ–åˆ›å»º target å¯¹åº”çš„ depsMap</span>
  <span class="hljs-keyword">let</span> depsMap = targetMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (!depsMap) {
    targetMap.<span class="hljs-title function_">set</span>(target, (depsMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>()));
  }
  
  <span class="hljs-comment">// è·å–æˆ–åˆ›å»º key å¯¹åº”çš„ depï¼ˆeffect é›†åˆï¼‰</span>
  <span class="hljs-keyword">let</span> dep = depsMap.<span class="hljs-title function_">get</span>(key);
  <span class="hljs-keyword">if</span> (!dep) {
    depsMap.<span class="hljs-title function_">set</span>(key, (dep = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>()));
  }
  
  dep.<span class="hljs-title function_">add</span>(activeEffect);  <span class="hljs-comment">// å°†å½“å‰ effect åŠ å…¥ä¾èµ–é›†åˆ</span>
}
</code></pre>
<h3 data-id="heading-6">3.Â <code>trigger</code>Â - è§¦å‘æ›´æ–°</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">trigger</span>(<span class="hljs-params">target: <span class="hljs-built_in">object</span>, key: keyof <span class="hljs-built_in">object</span></span>) {
  <span class="hljs-keyword">const</span> depsMap = targetMap.<span class="hljs-title function_">get</span>(target);
  <span class="hljs-keyword">if</span> (!depsMap) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-keyword">const</span> dep = depsMap.<span class="hljs-title function_">get</span>(key);
  <span class="hljs-keyword">if</span> (!dep) <span class="hljs-keyword">return</span>;
  
  <span class="hljs-comment">// åˆ›å»ºå‰¯æœ¬é¿å…æ— é™å¾ªç¯</span>
  <span class="hljs-keyword">const</span> effects = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(dep);
  effects.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">effect</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (effect !== activeEffect) {  <span class="hljs-comment">// é¿å…å½“å‰ effect è§¦å‘è‡ªèº«</span>
      <span class="hljs-title function_">effect</span>();
    }
  });
}
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€Effect ç³»ç»Ÿ</h2>
<pre><code class="hljs language-typescr" lang="typescr">export function effect(fn: Function) {
  const effectFn = () =&gt; {
    const prevEffect = activeEffect;
    activeEffect = effectFn;  // è®¾ç½®å½“å‰æ´»è·ƒçš„ effect

    try {
      return fn();
    } finally {
      activeEffect = prevEffect;  // æ¢å¤ä¹‹å‰çš„ effect
    }
  };
  
  effectFn();  // ç«‹å³æ‰§è¡Œä¸€æ¬¡ï¼Œè¿›è¡Œåˆå§‹ä¾èµ–æ”¶é›†
  return effectFn;
}
</code></pre>
<p><strong>æ‰§è¡Œæµç¨‹ï¼š</strong></p>
<ol>
<li>åˆ›å»ºÂ <code>effectFn</code>Â åŒ…è£…å‡½æ•°</li>
<li>æ‰§è¡Œæ—¶è®¾ç½®Â <code>activeEffect = effectFn</code></li>
<li>æ‰§è¡Œç”¨æˆ·ä¼ å…¥çš„Â <code>fn()</code></li>
<li>åœ¨Â <code>fn()</code>Â æ‰§è¡ŒæœŸé—´ï¼Œæ‰€æœ‰å¯¹å“åº”å¼å±æ€§çš„è®¿é—®éƒ½ä¼šè°ƒç”¨Â <code>track</code></li>
<li><code>track</code>Â å°†å½“å‰Â <code>activeEffect</code>Â æ”¶é›†ä¸ºä¾èµ–</li>
<li>æ‰§è¡Œå®Œæˆåæ¢å¤ä¹‹å‰çš„Â <code>activeEffect</code></li>
</ol>
<h2 data-id="heading-8">å››ã€ä½¿ç”¨ç¤ºä¾‹</h2>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> state = reactive&lt;{ <span class="hljs-attr">todos</span>: <span class="hljs-built_in">string</span>[] }&gt;({ <span class="hljs-attr">todos</span>: [] });

<span class="hljs-comment">// åˆ›å»ºä¸€ä¸ª effect</span>
<span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'todos æ”¹å˜äº†:'</span>, state.<span class="hljs-property">todos</span>);
  <span class="hljs-comment">// é¦–æ¬¡æ‰§è¡Œæ—¶ï¼Œè®¿é—® state.todosï¼Œè§¦å‘ get</span>
  <span class="hljs-comment">// track æ”¶é›†å½“å‰ effect ä½œä¸º todos çš„ä¾èµ–</span>
});

<span class="hljs-comment">// ä¿®æ”¹çŠ¶æ€</span>
state.<span class="hljs-property">todos</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">'å­¦ä¹ å“åº”å¼åŸç†'</span>);  <span class="hljs-comment">// è§¦å‘ set -&gt; trigger -&gt; æ‰§è¡Œ effect</span>
</code></pre>
<h2 data-id="heading-9">äº”ã€å®Œæ•´å·¥ä½œæµç¨‹</h2>
<ol>
<li>
<p><strong>åˆå§‹åŒ–å“åº”å¼å¯¹è±¡</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> state = <span class="hljs-title function_">reactive</span>({ <span class="hljs-attr">todos</span>: [] });
<span class="hljs-comment">// åˆ›å»º Proxy ä»£ç†</span>
</code></pre>
</li>
<li>
<p><strong>åˆ›å»º effect</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(state.<span class="hljs-property">todos</span>));
<span class="hljs-comment">// 1. è®¾ç½® activeEffect = å½“å‰ effect</span>
<span class="hljs-comment">// 2. æ‰§è¡Œå›è°ƒï¼Œè®¿é—® state.todos</span>
<span class="hljs-comment">// 3. Proxy.get è§¦å‘ï¼Œtrack æ”¶é›†ä¾èµ–</span>
</code></pre>
</li>
<li>
<p><strong>æ•°æ®å˜æ›´</strong></p>
<pre><code class="hljs language-types" lang="types">state.todos = ['æ–°ä»»åŠ¡'];
// 1. Proxy.set è§¦å‘
// 2. trigger æŸ¥æ‰¾ä¾èµ–çš„ effects
// 3. æ‰§è¡Œæ‰€æœ‰ä¾èµ–çš„ effect å‡½æ•°
</code></pre>
</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>