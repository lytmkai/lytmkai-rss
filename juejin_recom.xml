<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">  <channel>      <title>æ˜é‡‘æ–‡ç« æ¨è</title>      <link>https://juejin.cn/recommended?sort=newest</link>      <description>ä¸€ä¸ªå¸®åŠ©å¼€å‘è€…æˆé•¿çš„ç¤¾åŒº</description>      <generator>python juejin_recom.py @Pi20</generator>      <item>    <title><![CDATA[æ„å»ºåˆ†å¸ƒå¼åº”ç”¨ï¼ŸAkamai å’Œ Fermyon æ­£åœ¨æ”¹å˜æ¸¸æˆè§„åˆ™]]></title>    <link>https://juejin.cn/post/7598389448146239498</link>    <guid>https://juejin.cn/post/7598389448146239498</guid>    <pubDate>2026-01-23T14:23:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598389448146239498" data-draft-id="7598362826110828594" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ„å»ºåˆ†å¸ƒå¼åº”ç”¨ï¼ŸAkamai å’Œ Fermyon æ­£åœ¨æ”¹å˜æ¸¸æˆè§„åˆ™"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,äº‘è®¡ç®—"/> <meta itemprop="datePublished" content="2026-01-23T14:23:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="AKAMAI"/> <meta itemprop="url" content="https://juejin.cn/user/829502942352628"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ„å»ºåˆ†å¸ƒå¼åº”ç”¨ï¼ŸAkamai å’Œ Fermyon æ­£åœ¨æ”¹å˜æ¸¸æˆè§„åˆ™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/829502942352628/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    AKAMAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T14:23:12.000Z" title="Fri Jan 23 2026 14:23:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æ·±è€•ä¼ä¸šæŠ€æœ¯é¢†åŸŸå¤šå¹´ï¼Œä½¿æˆ‘è¶³ä»¥è¯†åˆ«é‚£äº›æ ¹æœ¬æ€§çš„å˜é©æ—¶åˆ»ã€‚ä»Šå¤©Akamaiæ”¶è´­Fermyonçš„æ¶ˆæ¯ï¼Œæ­£æ˜¯è¿™æ ·ä¸€ä¸ªå†å²æ€§èŠ‚ç‚¹ã€‚è¿™ä»£è¡¨ç€å¤šé¡¹å…³é”®æŠ€æœ¯çš„æ·±åº¦èåˆâ€”â€”è½»é‡çº§WebAssembly (Wasm)å‡½æ•°åœ¨è¾¹ç¼˜å¤„ç†è¯·æ±‚ï¼Œéœ€è¦æ—¶å¯æ™ºèƒ½è·¯ç”±è‡³GPUåŠ é€Ÿæ¨ç†ï¼Œè€Œè¿™ä¸€åˆ‡éƒ½é›†æˆåœ¨åŒä¸€ä¸ªå¹³å°å†…ã€‚</p>
<p>è®©æˆ‘è§£é‡Šä¸€ä¸‹ï¼Œä¸ºä½•è¿™ä¸€è¿›å±•å¯¹æ‰€æœ‰åˆ†å¸ƒå¼åº”ç”¨æ„å»ºè€…éƒ½è‡³å…³é‡è¦ã€‚</p>
<hr/>
<p>å¦‚æ‚¨æ‰€åœ¨çš„ä¼ä¸šä¹Ÿåœ¨è€ƒè™‘é‡‡è´­äº‘æœåŠ¡æˆ–è¿›è¡Œäº‘è¿ç§»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Flp%2Fakamai-cloud-computing-freetrial%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejin_260123_blogarticles245" target="_blank" title="https://www.akamai.com/zh/lp/akamai-cloud-computing-freetrial?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejin_260123_blogarticles245" ref="nofollow noopener noreferrer">ç‚¹å‡»é“¾æ¥</a>äº†è§£Akamai Linodeè§£å†³æ–¹æ¡ˆï¼Œç°åœ¨ç”³è¯·è¯•ç”¨å¯å¾—é«˜è¾¾5000ç¾å…ƒä¸“å±é¢åº¦</p>
<hr/>
<p><strong><strong>æ‰“é€ æœªæ¥çš„å›¢é˜Ÿ</strong></strong></p>
<p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬èšç„¦äºèƒŒåçš„äººæ‰ã€‚Fermyonå›¢é˜Ÿä¸ä»…æ˜¯Wasmçš„å€¡å¯¼è€…ï¼Œæ›´æ˜¯å°†å…¶çœŸæ­£è½åœ°åˆ°ç”Ÿäº§ç¯å¢ƒçš„æ„å»ºè€…ã€‚Matt Butcherã€Radu MateiåŠå…¶å›¢é˜Ÿï¼Œå°†Wasmä»ä¸€é¡¹â€œæœ‰è¶£çš„æµè§ˆå™¨æŠ€æœ¯â€å‘å±•ä¸ºâ€œæ— æœåŠ¡å™¨è®¡ç®—çš„æœªæ¥â€ã€‚ä»–ä»¬ä¸ä»…æ„æ€å¹¶æ‰“é€ äº†Spinæ¡†æ¶ï¼Œæ›´å›´ç»•å…¶åŸ¹è‚²èµ·æ´»è·ƒçš„å¼€å‘è€…ç¤¾åŒºï¼Œæœ€ç»ˆå®ç°äº†è¯¥æŠ€æœ¯çš„å¤§è§„æ¨¡ç”Ÿäº§çº§åº”ç”¨ã€‚</p>
<p>åƒ Helm è¿™æ ·çš„è‘—åé¡¹ç›®ï¼Œæœ€åˆæ˜¯ Matt Butcher å’Œä»–åœ¨ Deis çš„åŒäº‹åœ¨ 2015 å¹´ä¸€æ¬¡é»‘å®¢é©¬æ‹‰æ¾ä¸Šä¸ºç®¡ç† Kubernetes éƒ¨ç½²è€Œåˆ›å»ºçš„é¡¹ç›®ï¼Œå¦‚ä»Šå·²æˆä¸ºäº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼šçš„é¡¶çº§é¡¹ç›®ã€‚</p>
<p>æ­£æ˜¯è¿™æ”¯å›¢é˜Ÿï¼Œåœ¨Kuberneteså¼•é¢†å¾®æœåŠ¡æ½®æµä¹‹å‰ï¼Œå°±å·²æ´å¯Ÿå…¶è¶‹åŠ¿ã€‚ä»–ä»¬å±¡æ¬¡å±•ç°å‡ºå¯¹åŸºç¡€è®¾æ–½æ¼”è¿›çš„å‰ç»æ€§è§†é‡ï¼Œå…¶ç²¾å‡†é¢„åˆ¤ï¼Œå¾€å¾€é¢†å…ˆè¡Œä¸šä¸‰åˆ°äº”å¹´ã€‚</p>
<p><strong><strong>ä¸ºä»€ä¹ˆ WebAssembly + è¾¹ç¼˜ = ä¸‹ä¸€æ¬¡æ¼”è¿›</strong></strong></p>
<p>æ¢è¨€ä¹‹ï¼Œæœ€å¿«çš„æ— æœåŠ¡å™¨ Wasm è¿è¡Œæ—¶ + åˆ†å¸ƒæœ€å¹¿çš„äº‘å¹³å° = æ›´å¿«éƒ¨ç½²ã€å³æ—¶æ‰©å±•çš„æ›´æ™ºèƒ½åº”ç”¨ã€‚å½“ç„¶ï¼Œè¿™è¯´æ³•ä¸å¦‚å‰è€…ç²¾ç‚¼ã€‚</p>
<p>Wasm ä¸å†ä»…ä»…å…³ä¹åœ¨æµè§ˆå™¨ä¸­è¿è¡Œä»£ç ï¼Œè€Œæ˜¯æä¾›æ¥è¿‘åŸç”Ÿçš„æ€§èƒ½ï¼Œå¹¶å…·æœ‰çœŸæ­£çš„å¯ç§»æ¤æ€§â€”â€”è¿™æ¬¡ï¼Œ"ä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œ"çœŸæ­£å®ç°äº†ã€‚æ— éœ€åˆ†å‘å®¹å™¨ï¼Œæ— éœ€è¿è¡Œæ—¶ä¾èµ–ï¼Œåªæœ‰å¾®ç§’çº§æ‰§è¡Œçš„ç¼–è¯‘ä»£ç ã€‚ä½ çš„åº”ç”¨æ€§èƒ½è¾¾åˆ°æœ€ä¼˜ï¼Œå¹¶ä¸”ä½ å¯ä»¥æ›´å¿«å®ç°äº¤ä»˜ã€‚</p>
<p>Akamai EdgeWorkers ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿåœ¨è¾¹ç¼˜éƒ¨ç½² JavaScript å‡½æ•°ï¼Œè€Œ Fermyon å°†å…¶æå‡åˆ°äº†æ–°çš„æ°´å¹³ã€‚å¯ä»¥çœ‹ä½œæ˜¯ä»äº‹åŠ¡å¤„ç†å‡çº§åˆ°å®Œæ•´çš„è¾¹ç¼˜åº”ç”¨ã€‚</p>
<p>è¿™ä¸å†æ˜¯è¿è¡Œå­¤ç«‹åŠŸèƒ½ï¼Œè€Œæ˜¯éƒ¨ç½²å®Œæ•´çš„ã€æœ‰çŠ¶æ€çš„åº”ç”¨ç¨‹åºã€‚ä½ è·å¾—äº†å¤æ‚çš„è·¯ç”±ã€ä¸­é—´ä»¶å’ŒæœåŠ¡ç»„åˆèƒ½åŠ›ï¼Œä¸”å¯åŠ¨é€Ÿåº¦ä¾ç„¶è¿…æ·ã€‚è¿™ä½¿ä½ èƒ½å¤Ÿæ„å»ºå¤æ‚ã€å¤šç»„ä»¶çš„ç³»ç»Ÿï¼Œè®©åº”ç”¨åœ¨å˜å¾—æ›´å¥å£®ï¼ˆæ›´æ™ºèƒ½ï¼‰çš„åŒæ—¶ï¼Œæ€§èƒ½ä¸æ¯«ä¸å‡ã€‚</p>
<p>Fermyon çš„ Spin æ¡†æ¶ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿç”¨ Wasm ç»„ä»¶æ„å»ºæ•´ä¸ªåº”ç”¨ç¨‹åºï¼Œæ¯ä¸ªç»„ä»¶å¯èƒ½ç”¨ä¸åŒçš„è¯­è¨€ç¼–å†™ï¼Œä½†éƒ½èƒ½æ— ç¼åä½œã€‚è¿™ä½¿å¾—æ— æœåŠ¡å™¨å‡½æ•°å¯ä»¥æ‰©å±•ä¸ºå¯ç§»æ¤çš„æ— æœåŠ¡å™¨åº”ç”¨ç¨‹åºï¼Œå¹¶å†…ç½®é”®å€¼å­˜å‚¨ã€SQL æ•°æ®åº“å’Œ AI æ¨ç†èƒ½åŠ›ã€‚çœŸæ­£çš„å¤šäº‘æˆä¸ºå¯èƒ½ã€‚</p>
<p>å†ç»“åˆ Akamai çš„åŸºç¡€è®¾æ–½ï¼Œæˆ‘ä»¬ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿå°†è®¡ç®—åˆ†å¸ƒåˆ°å…¨çƒè¶…è¿‡ 4,400 ä¸ªåœ°ç‚¹ã€‚å½“ä½ åœ¨æˆ‘ä»¬çš„å¹³å°ä¸Šéƒ¨ç½² Wasm æ¨¡å—æ—¶ï¼Œæ— è®ºç”¨æˆ·èº«å¤„ä½•åœ°ï¼Œéƒ½èƒ½è·å¾—ä½äº 10 æ¯«ç§’çš„å“åº”æ—¶é—´ã€‚æ‹¥æœ‰æ‰€æœ‰çš„æ‰©å±•èƒ½åŠ›ï¼Œå´æ²¡æœ‰éšä¹‹è€Œæ¥çš„å¤æ‚æ€§ã€‚</p>
<p>Fermyon æ„å»ºäº†æœ€å¿«çš„æ— æœåŠ¡å™¨ Wasm è¿è¡Œæ—¶ã€‚Akamai è¿è¥ç€åˆ†å¸ƒæœ€å¹¿çš„äº‘å¹³å°ã€‚æˆ‘ä»¬æºæ‰‹åˆä½œï¼ŒåŠ é€Ÿå®ç°ä»·å€¼çš„æ—¶é—´ï¼ŒåŒæ—¶ä½¿å¼€å‘äººå‘˜èƒ½å¤Ÿå¤§è§„æ¨¡æ„å»ºæ›´æ™ºèƒ½çš„åº”ç”¨ç¨‹åºã€‚</p>
<p><strong><strong>åˆ†å¸ƒå¼ AI åº”ç”¨ï¼šä»æ„¿æ™¯åˆ°ç°å®</strong></strong></p>
<p>AI çš„æœªæ¥åœ¨äºè®©å¼ºå¤§çš„æ™ºèƒ½æ— å¤„ä¸åœ¨ã€‚WebAssembly æ˜¯å®ç°è¿™ä¸€ç‚¹çš„å…³é”®ã€‚</p>
<p>å€ŸåŠ© Wasmï¼Œå¼€å‘äººå‘˜å¯ä»¥æ¯”ä»¥å¾€æ›´å¿«åœ°åˆ›å»ºåˆ†å¸ƒå¼ AI é©±åŠ¨çš„åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”æœ‰ä¿¡å¿ƒå› ä¸º Akamai çš„ç½‘ç»œï¼Œè¿™äº›åº”ç”¨èƒ½ä¸ºæ›´å¤šåœ°åŒºã€æ›´å¤šç”¨æˆ·æ›´å¿«åœ°è¿è¡Œã€‚ä½ çš„ AI æ¨¡å‹ç¼–è¯‘ä¸º Wasmï¼Œå‡ ç§’å†…å³å¯å…¨çƒéƒ¨ç½²ï¼Œæ— è®ºä½ çš„ç”¨æˆ·èº«å¤„ä¸œäº¬ã€åœ£ä¿ç½—è¿˜æ˜¯æ–¯å¾·å“¥å°”æ‘©ï¼Œéƒ½èƒ½ä»¥ç¨³å®šçš„äºšç§’çº§å“åº”æ—¶é—´æ‰§è¡Œã€‚</p>
<p>è¿™å»¶ç»­äº† Akamai åœ¨å®ç°ä»æ ¸å¿ƒåˆ°è¾¹ç¼˜è®¡ç®—èµ„æºè¿ç»­ç»Ÿä¸€ä½“æ–¹é¢çš„åŠªåŠ›ã€‚ç»§æˆ‘ä»¬å‘å¸ƒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fproducts%2Fakamai-inference-cloud-platform%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_260123_external1_blogarticles245" target="_blank" title="https://www.akamai.com/zh/products/akamai-inference-cloud-platform?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_260123_external1_blogarticles245" ref="nofollow noopener noreferrer">Akamai Inference Cloud</a>ä¹‹åï¼Œå°†è¿è¡Œåœ¨ Akamai ä¸Šçš„ Wasm å‡½æ•°èƒ½åŠ›ä¸ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Fproducts%2Fgpu%2Fnvidia%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejing_260123_external2_blogarticles245" target="_blank" title="https://www.akamai.com/zh/products/gpu/nvidia?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejing_260123_external2_blogarticles245" ref="nofollow noopener noreferrer">NVIDIA Blackwell GPU åŸºç¡€è®¾æ–½</a>ç›¸ç»“åˆï¼Œä¸ºå¼€å‘äººå‘˜åˆ›é€ äº†é‡Šæ”¾æ–°èƒ½åŠ›çš„æœºä¼šã€‚</p>
<p>å½“è½»é‡çº§çš„ Wasm å‡½æ•°åœ¨è¾¹ç¼˜å¤„ç†è¯·æ±‚æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨éœ€è¦æ—¶æ™ºèƒ½åœ°å°†å®ƒä»¬è·¯ç”±åˆ° GPU åŠ é€Ÿçš„æ¨ç†ï¼Œæ‰€æœ‰æ“ä½œéƒ½åœ¨åŒä¸€å¹³å°å†…å®Œæˆã€‚ä½ å°†è·å¾—è¾¹ç¼˜è®¡ç®—çš„ç»æµæ€§å’Œ GPU åŠ é€Ÿçš„å¼ºå¤§èƒ½åŠ›ï¼Œå¹¶ç”±å¹³å°æ— ç¼ç¼–æ’ã€‚</p>
<p>å¼€å‘äººå‘˜å°†ä¸å†éœ€è¦åœ¨é€Ÿåº¦ä¸æ™ºèƒ½ä¹‹é—´åšå‡ºé€‰æ‹©ï¼›ä»–ä»¬å°†ä¸¤è€…å…¼å¾—ã€‚Wasm å‡½æ•°å¯ä»¥åœ¨è¾¹ç¼˜ä»¥å¾®ç§’çº§é€Ÿåº¦å¤„ç†è¯·æ±‚ï¼Œä»…åœ¨å¿…è¦æ—¶è°ƒç”¨è¿è¡Œåœ¨æˆ‘ä»¬ GPU åŸºç¡€è®¾æ–½ä¸Šçš„æ›´æ·±åº¦ AI æ¨¡å‹ã€‚è¿™æ˜¯ä¸ºæ™ºèƒ½åº”ç”¨è®¾è®¡çš„æ™ºèƒ½è·¯ç”±ã€‚</p>
<p><strong><strong>å¼€æºä¸æ˜¯å¯é€‰é¡¹â€”â€”è€Œæ˜¯æˆ˜ç•¥</strong></strong></p>
<p>æˆ‘ä»¬å¯¹å¼€æºçš„æ‰¿è¯ºä¸ä¼šæ”¹å˜ã€‚Spin å°†ä¼šä¸€ç›´ä¿æŒå¼€æºã€‚SpinKube ç»§ç»­ä½œä¸º CNCF é¡¹ç›®æ¨è¿›ã€‚å¼€å‘è€…çš„ä¿¡ä»»æ˜¯é€šè¿‡è¡ŒåŠ¨ã€æ”¯æŒå’Œä»£ç æäº¤èµ¢å¾—çš„ã€‚Fermyon æ·±è°™æ­¤é“ã€‚ä»–ä»¬æ²¡æœ‰æ„å»ºä¸€ä¸ªä¸“æœ‰å¹³å°å¹¶è¯•å›¾é”å®šå¼€å‘è€…ã€‚ä»–ä»¬æ„å»ºäº†å¼€æºå·¥å…·ï¼Œè®©å¼€å‘è€…è‡ªç”±é€‰æ‹©ã€‚</p>
<p>Akamai å°†ç»§ç»­ç§‰æ‰¿è¿™ä¸€ç†å¿µã€‚ä½ æƒ³åœ¨è‡ªå·±çš„åŸºç¡€è®¾æ–½ä¸Šè¿è¡Œ Spinï¼Ÿå¾ˆå¥½ã€‚åœ¨å¦ä¸€æœµäº‘ä¸Šè¿è¡Œï¼Ÿæ²¡é—®é¢˜ã€‚æˆ‘ä»¬çš„ç›®æ ‡ä¸æ˜¯å›°ä½å¼€å‘è€…â€”â€”è€Œæ˜¯æ‰“é€ æœ€å¥½çš„å¹³å°ï¼Œè®©ä»–ä»¬é€‰æ‹©ç•™ä¸‹ã€‚</p>
<p><strong><strong>è¿™å¯¹å¼€å‘è€…å½“å‰æ„å‘³ç€ä»€ä¹ˆ</strong></strong></p>
<p>å³æ—¥å¼€å§‹ï¼Œå¦‚æœä½ æ­£åœ¨æ„å»ºåˆ†å¸ƒå¼åº”ç”¨ï¼Œä½ æœ‰äº†æ–°çš„é€‰æ‹©ã€‚</p>
<ul>
<li>ç”¨ Rustã€Goã€JavaScriptã€Python æˆ–ä»»ä½•èƒ½ç¼–è¯‘ä¸º Wasm çš„è¯­è¨€ç¼–å†™ä½ çš„ä»£ç ã€‚</li>
<li>åœ¨å‡ ç§’å†…ï¼ˆè€Œä¸æ˜¯å‡ å°æ—¶å†…ï¼‰å°†å…¶éƒ¨ç½²åˆ°å…¨çƒã€‚</li>
<li>ä»é›¶æ‰©å±•åˆ°æ•°ç™¾ä¸‡è¯·æ±‚ï¼Œè€Œæ— éœ€è€ƒè™‘åŸºç¡€è®¾æ–½ã€‚</li>
<li>ä»…æŒ‰æ¯«ç§’è®¡è´¹ï¼Œä¸ºä½ å®é™…ä½¿ç”¨çš„èµ„æºä»˜è´¹ã€‚</li>
</ul>
<p>ä½†æ›´é‡è¦çš„æ˜¯ï¼Œä½ å¹¶éåœ¨æŠ¼æ³¨äºä¸“æœ‰æŠ€æœ¯ã€‚æ¯ä¸ªç»„ä»¶â€”â€”ä» Spin CLI åˆ°éƒ¨ç½²å¹³å°â€”â€”éƒ½æœ‰å¼€æºåŸºç¡€ã€‚ä½ çš„ä»£ç ä¸ä¼šè¢«é”å®šåœ¨æˆ‘ä»¬çš„å¹³å°ä¸Šï¼Œå®ƒåœ¨è®¾è®¡ä¸Šå°±æ˜¯å¯ç§»æ¤çš„ã€‚</p>
<p><strong><strong>æ›´å¤§çš„å›¾æ™¯</strong></strong></p>
<p>ç½‘ç»œæ­£åœ¨ä»é›†ä¸­å¼çš„äº‘æ¼”å˜ä¸ºåˆ†å¸ƒå¼çš„è¾¹ç¼˜ã€‚ä¸æ˜¯å› ä¸ºæ½®æµå¦‚æ­¤ï¼Œè€Œæ˜¯ç‰©ç†è§„å¾‹ä½¿ç„¶ã€‚ä½ æ— æ³•ä»å•ä¸€åŒºåŸŸä¸ºå…¨çƒå—ä¼—æä¾›æœåŠ¡å¹¶æœŸæœ›è·å¾—ä½äº 100 æ¯«ç§’çš„å»¶è¿Ÿã€‚ä½ æ— æ³•åœ¨å¼—å‰å°¼äºšå·ä¸ºæ–°åŠ å¡çš„ç”¨æˆ·è¿è¡Œ AI æ¨ç†å¹¶ç§°ä¹‹ä¸º"å®æ—¶"ã€‚</p>
<p>WebAssembly åŠ è¾¹ç¼˜è®¡ç®—è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚å¯¹äºéœ€è¦å³æ—¶ã€é«˜æ•ˆåœ°å…¨çƒè¿è¡Œçš„å·¥ä½œè´Ÿè½½è€Œè¨€ï¼Œå®ƒæ˜¯åˆé€‚çš„å·¥å…·ã€‚</p>
<p>Fermyon æ„å»ºäº†å¼•æ“ã€‚Akamai æä¾›äº†å…¨çƒåŸºç¡€è®¾æ–½ã€‚æˆ‘ä»¬æºæ‰‹åˆä½œï¼Œè®©éƒ¨ç½²è¾¹ç¼˜åŸç”Ÿåº”ç”¨å˜å¾—åƒæ¨é€åˆ° GitHub ä¸€æ ·ç®€å•ã€‚</p>
<p>Web åº”ç”¨çš„æœªæ¥æ„å‘³ç€è®¡ç®—æ— å¤„ä¸åœ¨ã€‚è€Œé€šè¿‡æ­¤æ¬¡æ”¶è´­ï¼Œ"æ— å¤„ä¸åœ¨"å˜å¾—æ›´åŠ è§¦æ‰‹å¯åŠã€‚</p>
<p>æ¬¢è¿åŠ å…¥ Akamaiï¼ŒFermyon å›¢é˜Ÿã€‚è®©æˆ‘ä»¬æºæ‰‹åˆ›é€ éå‡¡ã€‚</p>
<p>æƒ³äº²è‡ªå°è¯•å—ï¼ŸæŸ¥çœ‹ Spinï¼Œäº²èº«ä½“éªŒè¾¹ç¼˜ Wasm çš„å®é™…æ„Ÿå—ã€‚æˆ–è€…ç›´æ¥è”ç³»æˆ‘ä»¬â€”â€”æˆ‘å¾ˆä¹æ„äº†è§£ä½ ä»¬æ­£åœ¨æ„å»ºçš„ä¸œè¥¿ã€‚</p>
<hr/>
<p>å¦‚æ‚¨æ‰€åœ¨çš„ä¼ä¸šä¹Ÿåœ¨è€ƒè™‘é‡‡è´­äº‘æœåŠ¡æˆ–è¿›è¡Œäº‘è¿ç§»ï¼Œ</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.akamai.com%2Fzh%2Flp%2Fakamai-cloud-computing-freetrial%3Futm_campaign%3Df-mc-65893%26utm_id%3Dapj_cc%26utm_source%3Djuejin%26utm_medium%3Darticle_advertorial%26utm_content%3Djuejin_260123_blogarticles245_end" target="_blank" title="https://www.akamai.com/zh/lp/akamai-cloud-computing-freetrial?utm_campaign=f-mc-65893&amp;utm_id=apj_cc&amp;utm_source=juejin&amp;utm_medium=article_advertorial&amp;utm_content=juejin_260123_blogarticles245_end" ref="nofollow noopener noreferrer">ç‚¹å‡»é“¾æ¥</a>äº†è§£Akamai Linodeè§£å†³æ–¹æ¡ˆï¼Œç°åœ¨ç”³è¯·è¯•ç”¨å¯å¾—é«˜è¾¾5000ç¾å…ƒä¸“å±é¢åº¦</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[CSSé­”æ³•:å¯¹è¯ç”Ÿæˆå™¨ä¸å¥”é©°éªé©¬çš„åˆ›æ„å®ç°]]></title>    <link>https://juejin.cn/post/7598382710294904832</link>    <guid>https://juejin.cn/post/7598382710294904832</guid>    <pubDate>2026-01-23T14:30:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598382710294904832" data-draft-id="7598403436698746914" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="CSSé­”æ³•:å¯¹è¯ç”Ÿæˆå™¨ä¸å¥”é©°éªé©¬çš„åˆ›æ„å®ç°"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T14:30:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¿®å·±xj"/> <meta itemprop="url" content="https://juejin.cn/user/2641475936724142"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            CSSé­”æ³•:å¯¹è¯ç”Ÿæˆå™¨ä¸å¥”é©°éªé©¬çš„åˆ›æ„å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2641475936724142/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¿®å·±xj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T14:30:00.000Z" title="Fri Jan 23 2026 14:30:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘é€›GitHubæ—¶ï¼Œå‘ç°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„é¡¹ç›®â€”â€”ä¸€ä¸ªçº¯å‰ç«¯å®ç°çš„å¯¹è¯ç”Ÿæˆå™¨ï¼Œæ•ˆæœéå¸¸ç²¾è‡´ã€‚æ¨èç»™æ„Ÿå…´è¶£çš„æœ‹å‹ï¼Œå¦‚æœæƒ³æ·±å…¥é’»ç ”CSSï¼Œè¿™ä¸ªé¡¹ç›®ä¹Ÿå¾ˆå€¼å¾—ç ”ç©¶ã€‚å¦å¤–ï¼Œé©¬ä¸Šå°±è¦åˆ°é©¬å¹´äº†ï¼Œé¡ºä¾¿ä¹Ÿåˆ†äº«ä¸€ä¸ªä¹‹å‰æ”¶è—çš„ç”¨CSSå®ç°çš„åŠ¨æ€å¥”è·‘éªé©¬æ•ˆæœã€‚è¿™ä¸¤ä¸ªé¡¹ç›®éƒ½å±•ç°äº†CSSçš„å·§å¦™è¿ç”¨ï¼Œæ—¢é€‚åˆå­¦ä¹ å€Ÿé‰´ï¼Œä¹Ÿå¾ˆæœ‰è¶£å‘³æ€§ã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/00a203b0a5264a1285c843377b893b49~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769783399&amp;x-signature=Y%2FBnrtGjASIsJkXqXoous%2FyQPU8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ğŸ‘©èŠå¤©ç”Ÿæˆå™¨</h2>
<p>å¯¹è¯ç”Ÿæˆå™¨ï¼šä¸€ä¸ªç®€å•å¥½ç©çš„åœ¨çº¿èŠå¤©åˆ¶ä½œå·¥å…·</p>
<p>githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzixiwangluo%2Fwxdh" target="_blank" title="https://github.com/zixiwangluo/wxdh" ref="nofollow noopener noreferrer">github.com/zixiwangluoâ€¦</a></p>
<p>åœ¨çº¿åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fzixiwangluo.github.io%2Fwxdh%2F" target="_blank" title="https://zixiwangluo.github.io/wxdh/" ref="nofollow noopener noreferrer">zixiwangluo.github.io/wxdh/</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7f03dc2ffc854c07ab31063747ac2ca9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769783399&amp;x-signature=yh93%2Fsj2MHoNksmnZ93U0Fo0XH0%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-1">ğŸŒ åŠŸèƒ½ç®€ä»‹</h3>
<p>è¿™æ˜¯ä¸€ä¸ªå¯ä»¥åœ¨çº¿ç”Ÿæˆå¾®ä¿¡é£æ ¼èŠå¤©æˆªå›¾çš„å·¥å…·ï¼Œæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ul>
<li>è‡ªå®šä¹‰è‹¹æœæˆ–å®‰å“æ‰‹æœºçŠ¶æ€æ ï¼ˆæ—¶é—´ã€ç”µé‡ã€ä¿¡å·ç­‰ï¼‰</li>
<li>è®¾ç½®å¯¹è¯åŒæ–¹çš„å¤´åƒå’Œæ˜µç§°</li>
<li>å‘é€æ–‡å­—ã€è¯­éŸ³ã€çº¢åŒ…ã€è½¬è´¦ç­‰èŠå¤©å…ƒç´ </li>
<li>è‡ªç”±ç¼–è¾‘å¯¹è¯å†…å®¹ï¼Œç”Ÿæˆé«˜åº¦ä»¿çœŸçš„å¾®ä¿¡èŠå¤©æ•ˆæœ</li>
<li>æ— è®ºæ˜¯åˆ¶ä½œæç¬‘å¯¹è¯ã€å‰§æƒ…æˆªå›¾ï¼Œè¿˜æ˜¯ç”¨äºæ¼”ç¤ºä¸åˆ†äº«ç­‰è½»æ¾åœºæ™¯ï¼Œè¿™ä¸ªå·¥å…·éƒ½èƒ½å¸¦æ¥ä¸å°‘ä¹è¶£ã€‚</li>
</ul>
<p>è¯¥é¡¹ç›®å®Œå…¨åŸºäºHTMLã€CSSå’ŒJavaScriptå®ç°ï¼Œéå¸¸é€‚åˆå‰ç«¯å­¦ä¹ è€…å‚è€ƒã€‚å¦‚æœæƒ³ç›´æ¥ä½¿ç”¨ï¼Œå¯å°†æºç ä¸‹è½½åˆ°æœ¬åœ°ï¼Œæ‰“å¼€index.htmlå³å¯è¿è¡Œï¼›å¦‚æœæœ‰æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥éƒ¨ç½²åˆ°Nginxç­‰ç¯å¢ƒä¸­ï¼Œä½¿ç”¨éå¸¸ç®€å•ï¼Œè¿™é‡Œå°±ä¸å¤šåšä»‹ç»äº†ã€‚</p>
<p>å¹³æ—¶å†™æ–‡ç« æˆ–åšæ•™ç¨‹æ—¶å¦‚æœéœ€è¦èŠå¤©ç´ æï¼Œä¹Ÿå¯ä»¥ç”¨å®ƒæ¥å¿«é€Ÿç”Ÿæˆã€‚æ•ˆæœç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/cbcd3b21a3154e62b8731129d09a2305~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769783399&amp;x-signature=NcaS5nlRuk7yK2H8iKQm8w%2BSqQc%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bed16fd161824a33b35c471ac4213e51~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769783399&amp;x-signature=TOOBhS4pjZjWAFF9zQQB2fazaSM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">ğŸçº¯csså®ç°çš„å¥”é©°çš„éªé©¬</h2>
<p>éšç€é©¬å¹´ä¸´è¿‘ï¼Œè¿™ä¸ªå¥”è·‘çš„éªé©¬æ•ˆæœæ ¼å¤–åº”æ™¯ã€‚æœ€åˆåœ¨æŸåšå®¢ä¸­å‘ç°è¿™ä¸ªåˆ›æ„å®ç°ï¼Œè§†è§‰æ•ˆæœæµç•…è‡ªç„¶ï¼Œäºæ˜¯ç‰¹åˆ«éƒ¨ç½²äº†åœ¨çº¿æ¼”ç¤ºæ–¹ä¾¿ä½“éªŒã€‚</p>
<p>æ¼”ç¤ºåœ°å€1ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fh5.xiuji.mynatapp.cc%2Fhorse%2F" target="_blank" title="http://h5.xiuji.mynatapp.cc/horse/" ref="nofollow noopener noreferrer">h5.xiuji.mynatapp.cc/horse/</a></p>
<p>æ¼”ç¤ºåœ°å€2ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Faa51f2d3.pinit.eth.limo%2F" target="_blank" title="https://aa51f2d3.pinit.eth.limo/" ref="nofollow noopener noreferrer">aa51f2d3.pinit.eth.limo/</a></p>
<p>æ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c443b04084734691a54e6192e880be55~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769783399&amp;x-signature=yWQfGxSAwGR1BFhFZSQVblnCuH8%3D" alt="horse-run.gif" loading="lazy"/></p>
<p>å¦‚æœä½ æƒ³è·å–æºç ï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰æŸ¥çœ‹å¹¶å¤åˆ¶ç›¸å…³ä»£ç ã€‚ä»£ç å°±ä¸¤æ–‡ä»¶ï¼Œä¸€ä¸ªhtml,ä¸€ä¸ªcssã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/606bf933ce5a47abb67c97f6a3f559e1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769783399&amp;x-signature=5Ad030DBNMCBjYeZdwQN1BEHkxo%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">ğŸ‘½æ€»ç»“</h2>
<p>è¿™ä¸¤ä¸ªé¡¹ç›®è™½ç„¶åŠŸèƒ½ä¸åŒï¼Œä½†éƒ½ä½“ç°äº†å‰ç«¯å¼€å‘çš„åˆ›æ„ä¸æŠ€å·§ï¼š</p>
<ol>
<li>å¾®ä¿¡å¯¹è¯ç”Ÿæˆå™¨å±•ç¤ºäº†å¦‚ä½•é€šè¿‡å‰ç«¯æŠ€æœ¯æ¨¡æ‹Ÿå¤æ‚UIï¼Œå®ç°é«˜åº¦å¯å®šåˆ¶çš„äº¤äº’å·¥å…·ï¼Œå¯¹å­¦ä¹ CSSå¸ƒå±€å’ŒJavaScript DOMæ“ä½œå¾ˆæœ‰å¸®åŠ©ã€‚</li>
<li>CSSå¥”é©°éªé©¬åˆ™çº¯ç²¹ä¾é æ ·å¼è¡¨åˆ›é€ æµç•…åŠ¨ç”»ï¼Œæ˜¯å­¦ä¹ CSSåŠ¨ç”»ã€å…³é”®å¸§å’Œæ€§èƒ½ä¼˜åŒ–çš„ä¼˜ç§€æ¡ˆä¾‹ã€‚</li>
</ol>
<p>æ— è®ºæ˜¯æƒ³è¦å¯»æ‰¾å®ç”¨å·¥å…·ï¼Œè¿˜æ˜¯å¸Œæœ›æ·±å…¥å­¦ä¹ å‰ç«¯æŠ€æœ¯ï¼Œè¿™ä¸¤ä¸ªé¡¹ç›®éƒ½å€¼å¾—æ”¶è—ç ”ç©¶ã€‚å®ƒä»¬è¯æ˜äº†ï¼Œå³ä½¿ä¸ä½¿ç”¨å¤æ‚æ¡†æ¶å’Œåº“ï¼Œçº¯å‰ç«¯æŠ€æœ¯ä¹Ÿèƒ½åˆ›é€ å‡ºæ—¢ç¾è§‚åˆå®ç”¨çš„æ•ˆæœã€‚</p>
<h2 data-id="heading-4">ğŸŸä»Šæ—¥æ‘¸é±¼å°è´´å£«:ä»å…¥é—¨åˆ°â€œå…¥å•â€æ–°å¢ƒç•Œ</h2>
<p>é¢†å¯¼çœ¼çš®åº•ä¸‹å¨å¨çŒæ°´ï¼Œæ´—æ‰‹é—´é‡Œé¢‘ç¹â€œæ‰“å¡â€</p>
<p>ä¸»æ‰“ä¸€ä¸ª<strong>å°¿å–ç™½ï¼Œç”µå……ç»¿ï¼Œäº‹å¹²é»„</strong>ã€‚</p>
<p>ä¸šç»©è™½æš‚æ—¶èººå¹³ï¼Œä½†æ–°é™ˆä»£è°¢å·²å®ç°<strong>é¥é¥é¢†å…ˆ</strong>âœ¨</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8515e055b5f04171920fb47a69b8e573~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5L-u5bexeGo=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769783399&amp;x-signature=YBDaSHjnbA0LCq4w2yy8tZeyT3o%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">â—â—â—ç‰¹åˆ«å£°æ˜</h2>
<p>æ­¤é¡¹ç›®æ¥è‡ªäº’è”ç½‘å…¬å¼€èµ„æºï¼Œä»…ä¾›å­¦ä¹ äº¤æµä½¿ç”¨ï¼Œåˆ‡å‹¿ç”¨äºéæ³•é€”å¾„ï¼Œç”±æ­¤äº§ç”Ÿä»»ä½•çº çº·ç”±ä½¿ç”¨è€…æœ¬äººè‡ªå·±æ‰¿æ‹…ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·åŠæ—¶è”ç³»åˆ é™¤â—â—â—</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Prompt Engineeringæ–°èŒƒå¼çªç ´å¤§å‹æ¨ç†æ¨¡å‹çš„ä¼˜åŒ–è¾¹ç•Œ]]></title>    <link>https://juejin.cn/post/7598181989969641499</link>    <guid>https://juejin.cn/post/7598181989969641499</guid>    <pubDate>2026-01-23T13:05:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598181989969641499" data-draft-id="7598374376094105627" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Prompt Engineeringæ–°èŒƒå¼çªç ´å¤§å‹æ¨ç†æ¨¡å‹çš„ä¼˜åŒ–è¾¹ç•Œ"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-23T13:05:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="indieAI"/> <meta itemprop="url" content="https://juejin.cn/user/4488643649743614"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Prompt Engineeringæ–°èŒƒå¼çªç ´å¤§å‹æ¨ç†æ¨¡å‹çš„ä¼˜åŒ–è¾¹ç•Œ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4488643649743614/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    indieAI
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T13:05:37.000Z" title="Fri Jan 23 2026 13:05:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»11åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ç ”ç©¶ç°çŠ¶åˆ†æï¼šä¼ ç»Ÿæç¤ºè¯æŠ€å·§çš„ç»Ÿè®¡å­¦æ— æ•ˆæ€§</h2>
<h3 data-id="heading-1">1.1 æ²ƒé¡¿å•†å­¦é™¢ã€ŠPrompting Science Reportsã€‹çš„æ ¸å¿ƒå‘ç°</h3>
<p>2025å¹´ï¼Œå®¾å¤•æ³•å°¼äºšå¤§å­¦æ²ƒé¡¿å•†å­¦é™¢ç”Ÿæˆå¼AIå®éªŒå®¤å‘å¸ƒäº†ä¸€ç³»åˆ—åä¸ºã€ŠPrompting Science Reportsã€‹çš„é‡ç£…ç ”ç©¶æŠ¥å‘Šï¼Œé€šè¿‡å¯¹2024-2025æœ€å¸¸ç”¨æ¨¡å‹ï¼ˆGPT-4oã€Claude 3.5 Sonnetã€Gemini Pro/Flashç­‰ï¼‰åœ¨åšå£«çº§åŸºå‡†æµ‹è¯•ï¼ˆGPQA Diamondï¼‰ä¸Šçš„æ•°ä¸‡æ¬¡ä¸¥è°¨æµ‹è¯•ï¼Œå¾—å‡ºäº†é¢ è¦†æ€§çš„ç»“è®ºï¼š</p>
<p><strong>ä¼ ç»Ÿæç¤ºè¯æŠ€å·§åœ¨ç»Ÿè®¡å­¦ä¸Šæ— æ•ˆï¼š</strong></p>



































<table><thead><tr><th>æŠ€å·§ç±»å‹</th><th>å®è§‚ç»Ÿè®¡å½±å“</th><th>å¾®è§‚ä¸ªæ¡ˆæ³¢åŠ¨</th><th>å®é™…ä»·å€¼</th></tr></thead><tbody><tr><td>ç¤¼è²Œè¯­æ°”ï¼ˆ"è¯·"å­—ï¼‰</td><td>å‡ ä¹æ— æ˜¾è‘—å·®å¼‚</td><td>æ­£è´Ÿ60%æç«¯æ³¢åŠ¨</td><td>ä½</td></tr><tr><td>å‘½ä»¤è¯­æ°”ï¼ˆ"æˆ‘å‘½ä»¤ä½ "ï¼‰</td><td>å‡ ä¹æ— æ˜¾è‘—å·®å¼‚</td><td>æ­£è´Ÿ63%æç«¯æ³¢åŠ¨</td><td>ä½</td></tr><tr><td>ä¸“å®¶è§’è‰²æ‰®æ¼”ï¼ˆ"ä½ æ˜¯ä¸€ä½20å¹´ç»éªŒçš„ä¸“å®¶"ï¼‰</td><td>å¯¹äº‹å®å‡†ç¡®æ€§æ— æå‡</td><td>å¼•å…¥éšæœºæ€§</td><td>ä½</td></tr><tr><td>æ€ç»´é“¾ï¼ˆ"Let's think step by step"ï¼‰</td><td>ä»·å€¼é€’å‡ï¼ˆå°¤å…¶å¯¹æ¨ç†æ¨¡å‹ï¼‰</td><td>ç®€å•é—®é¢˜å¤æ‚åŒ–</td><td>ä¸­ç­‰</td></tr></tbody></table>
<h3 data-id="heading-2">1.2 æ¨¡å‹èƒ½åŠ›è¾¹ç•Œçš„çœŸå®ä½“ç°</h3>
<p>æ²ƒé¡¿ç ”ç©¶æ­ç¤ºçš„æ ¸å¿ƒçœŸç›¸æ˜¯ï¼š<strong>æ¨¡å‹æœ¬èº«çš„èƒ½åŠ›è¾¹ç•Œå†³å®šäº†æç¤ºè¯çš„ä¼˜åŒ–ä¸Šé™</strong>ã€‚åœ¨GPQA Diamondæ•°æ®é›†ï¼ˆ198ä¸ªåšå£«çº§å¤šé€‰é¢˜ï¼‰ä¸Šï¼Œå³ä½¿æ˜¯æœ€ä¸¥æ ¼çš„æ ¼å¼åŒ–æç¤ºï¼Œæ¨¡å‹åœ¨æœ€ä¸¥è‹›çš„"100%æ­£ç¡®"æ ‡å‡†ä¸‹ï¼Œè¡¨ç°ä»…æ¯”éšæœºçŒœæµ‹é«˜å‡ºçº¦5ä¸ªç™¾åˆ†ç‚¹ï¼Œä¸”å·®å¼‚åœ¨ç»Ÿè®¡å­¦ä¸Šä¸æ˜¾è‘—ã€‚</p>
<p><strong>ä¸‰ç§è¯„ä¼°æ ‡å‡†ä¸‹çš„å¤©å£¤ä¹‹åˆ«ï¼š</strong></p>





























<table><thead><tr><th>è¯„ä¼°æ ‡å‡†</th><th>è¦æ±‚</th><th>GPT-4oè¡¨ç°</th><th>ç»“è®º</th></tr></thead><tbody><tr><td>100%æ­£ç¡®</td><td>25æ¬¡æµ‹è¯•å…¨å¯¹</td><td>å‡ ä¹ä¸ççŒœæ— å¼‚</td><td>å•æ¬¡æµ‹è¯•æ¬ºéª—æ€§å·¨å¤§</td></tr><tr><td>90%æ­£ç¡®</td><td>25æ¬¡ä¸­å¯¹23æ¬¡</td><td>ä¸­ç­‰è¡¨ç°</td><td>äººç±»å®¹é”™çº§æ ‡å‡†</td></tr><tr><td>51%æ­£ç¡®</td><td>25æ¬¡ä¸­å¯¹13æ¬¡ä»¥ä¸Š</td><td>æ˜¾è‘—è¶…è¶ŠéšæœºçŒœæµ‹</td><td>å¤šæ•°æŠ•ç¥¨æœ‰æ•ˆ</td></tr></tbody></table>
<h3 data-id="heading-3">1.3 å”¯ä¸€ç¡®å®šæœ‰æ•ˆçš„æŠ€å·§ï¼šæ ¼å¼åŒ–çº¦æŸ</h3>
<p>åœ¨æ‰€æœ‰æµ‹è¯•çš„æç¤ºæŠ€å·§ä¸­ï¼Œ<strong>åªæœ‰æ ¼å¼åŒ–çº¦æŸè¡¨ç°å‡ºäº†ä¸€è‡´çš„æ­£é¢æ•ˆæœ</strong>ï¼š</p>
<ul>
<li><strong>æ€§èƒ½ä¸‹é™æ•°æ®</strong>ï¼šç§»é™¤æ ¼å¼è¦æ±‚åï¼ŒGPT-4oä¸‹é™8.6ä¸ªç™¾åˆ†ç‚¹ï¼ŒGPT-4o-miniä¸‹é™12.1ä¸ªç™¾åˆ†ç‚¹</li>
<li><strong>æ ¸å¿ƒä»·å€¼</strong>ï¼šå¸®åŠ©æ¨¡å‹èšç„¦æ³¨æ„åŠ›ï¼Œå‡å°‘éšæ„æ€§ï¼Œç¡®ä¿å“åº”æ ¼å¼æ ‡å‡†åŒ–</li>
<li><strong>å®è·µå»ºè®®</strong>ï¼šæ˜ç¡®çš„JSONæ ¼å¼è¦æ±‚ã€ç‰¹å®šè¾“å‡ºå¥å¼ç­‰ç»“æ„åŒ–çº¦æŸ</li>
</ul>
<h2 data-id="heading-4">äºŒã€æŠ€æœ¯çªç ´è§£æï¼šè’™ç‰¹å¡æ´›æ ‘æœç´¢ï¼ˆMCTSï¼‰æç¤ºä¼˜åŒ–æ¡†æ¶</h2>
<h3 data-id="heading-5">2.1 MCTSåœ¨Promptä¼˜åŒ–ä¸­çš„æ ¸å¿ƒæ€æƒ³</h3>
<p>è’™ç‰¹å¡æ´›æ ‘æœç´¢ï¼ˆMCTSï¼‰æ¡†æ¶å°†æç¤ºä¼˜åŒ–è§†ä¸ºä¸€ä¸ª<strong>åºåˆ—å†³ç­–è¿‡ç¨‹</strong>ï¼Œé€šè¿‡æ¨¡æ‹Ÿå’Œè¯„ä¼°æ¢ç´¢æç¤ºç©ºé—´ï¼Œæ‰¾åˆ°æœ€ä¼˜æç¤ºåºåˆ—ã€‚ä¹”æ²»æ¢…æ£®å¤§å­¦2025å¹´çš„ç ”ç©¶è¯æ˜ï¼Œå³ä½¿å¯¹äºå¼ºå¤§çš„å¤§å‹æ¨ç†æ¨¡å‹ï¼ˆLRMsï¼‰ï¼ŒåŸºäºMCTSçš„æç¤ºä¼˜åŒ–ä»èƒ½å¸¦æ¥æ˜¾è‘—æ€§èƒ½æå‡ã€‚</p>
<p><strong>MCTSæç¤ºä¼˜åŒ–çš„å››ä¸ªå…³é”®æ­¥éª¤ï¼š</strong></p>
<ol>
<li><strong>ç”Ÿæˆï¼ˆGenerationï¼‰</strong>ï¼šä»»åŠ¡æ¨¡å‹æ ¹æ®å½“å‰Promptç”Ÿæˆç­”æ¡ˆ</li>
<li><strong>è¯„ä¼°ï¼ˆEvaluationï¼‰</strong>ï¼šé”™è¯¯åˆ†æå™¨ç²¾å‡†è¯†åˆ«ç­”æ¡ˆä¸­çš„é”™è¯¯ç±»å‹</li>
<li><strong>ä¼˜åŒ–ï¼ˆOptimizationï¼‰</strong>ï¼šä¼˜åŒ–æ¨¡å‹æ ¹æ®é”™è¯¯åé¦ˆç”Ÿæˆæ”¹è¿›åçš„Prompt</li>
<li><strong>æ›´æ–°ï¼ˆUpdateï¼‰</strong>ï¼šæ ¹æ®æ”¹è¿›åçš„Promptæ›´æ–°ä»»åŠ¡æ¨¡å‹</li>
</ol>
<h3 data-id="heading-6">2.2 MCTSæ¡†æ¶çš„ç®—æ³•å®ç°é€»è¾‘</h3>
<p>MCTSé€šè¿‡é€‰æ‹©ï¼ˆSelectionï¼‰ã€æ‰©å±•ï¼ˆExpansionï¼‰ã€æ¨¡æ‹Ÿï¼ˆSimulationï¼‰ã€åå‘ä¼ æ’­ï¼ˆBackpropagationï¼‰å››ä¸ªé˜¶æ®µï¼Œåœ¨æç¤ºç©ºé—´ä¸­é«˜æ•ˆæœç´¢æœ€ä¼˜è§£ï¼š</p>
<p><strong>UCTï¼ˆUpper Confidence Bound applied to Treesï¼‰å…¬å¼</strong>ï¼š</p>
<div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>U</mi><mi>C</mi><mi>T</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><mrow><mi>N</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow></mfrac><mo>+</mo><mi>c</mi><msqrt><mfrac><mrow><mi>ln</mi><mo>â¡</mo><mi>N</mi><mo stretchy="false">(</mo><mi>p</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><mrow><mi>N</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow></mfrac></msqrt></mrow><annotation encoding="application/x-tex">UCT(v) = \frac{Q(v)}{N(v)} + c\sqrt{\frac{\ln N(parent(v))}{N(v)}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">U</span><span class="mord mathnormal" style="margin-right:0.13889em;">CT</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"/><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"/></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"/><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span><span class="mspace" style="margin-right:0.2222em;"/><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"/></span><span class="base"><span class="strut" style="height:3.04em;vertical-align:-1.1606em;"/><span class="mord mathnormal">c</span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8794em;"><span class="svg-align" style="top:-5em;"><span class="pstrut" style="height:5em;"/><span class="mord" style="padding-left:1em;"><span class="mord"><span class="mopen nulldelimiter"/><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"/><span class="frac-line" style="border-bottom-width:0.04em;"/></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"/><span class="mord"><span class="mop">ln</span><span class="mspace" style="margin-right:0.1667em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">re</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">))</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span/></span></span></span></span><span class="mclose nulldelimiter"/></span></span></span><span style="top:-3.8394em;"><span class="pstrut" style="height:5em;"/><span class="hide-tail" style="min-width:1.02em;height:3.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="3.08em" viewbox="0 0 400000 3240" preserveaspectratio="xMinYMin slice"><path d="M473,2793&#10;c339.3,-1799.3,509.3,-2700,510,-2702 l0 -0&#10;c3.3,-7.3,9.3,-11,18,-11 H400000v40H1017.7&#10;s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9&#10;c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200&#10;c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26&#10;s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,&#10;606zM1001 80h400000v40H1017.7z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1606em;"><span/></span></span></span></span></span></span></span></span></div>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Q(v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span></span>ï¼šèŠ‚ç‚¹vçš„ç´¯è®¡å¥–åŠ±å€¼</li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mo stretchy="false">(</mo><mi>v</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">N(v)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"/><span class="mord mathnormal" style="margin-right:0.10903em;">N</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mclose">)</span></span></span></span></span>ï¼šèŠ‚ç‚¹vçš„è®¿é—®æ¬¡æ•°</li>
<li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"/><span class="mord mathnormal">c</span></span></span></span></span>ï¼šæ¢ç´¢ç³»æ•°ï¼ˆå¹³è¡¡æ¢ç´¢ä¸åˆ©ç”¨ï¼‰</li>
</ul>
<h3 data-id="heading-7">2.3 å®é™…æ•ˆæœéªŒè¯ï¼šACEæ•°æ®é›†ä¸Šçš„çªç ´æ€§æå‡</h3>
<p>åœ¨ACE405æ•°æ®é›†ï¼ˆäº‹ä»¶æŠ½å–ä»»åŠ¡ï¼‰ä¸Šçš„å®éªŒç»“æœä»¤äººæŒ¯å¥‹ï¼š</p>





























<table><thead><tr><th>æ¨¡å‹</th><th>ä¼˜åŒ–å‰ACæŒ‡æ ‡</th><th>ä¼˜åŒ–åACæŒ‡æ ‡</th><th>æå‡å¹…åº¦</th></tr></thead><tbody><tr><td>DeepSeek-R1</td><td>åŸºå‡†å€¼</td><td><strong>+27.81%</strong></td><td>æ˜¾è‘—</td></tr><tr><td>GPT-4.5</td><td>åŸºå‡†å€¼</td><td>+18.42%</td><td>æ˜¾è‘—</td></tr><tr><td>Claude 3.5 Sonnet</td><td>åŸºå‡†å€¼</td><td>+15.67%</td><td>æ˜¾è‘—</td></tr></tbody></table>
<p><strong>å…³é”®å‘ç°ï¼š</strong></p>
<ul>
<li>LRMsä»æç¤ºä¼˜åŒ–ä¸­è·å¾—çš„æ”¶ç›Šæ¯”ä¼ ç»ŸLLMsæ›´å¤§</li>
<li>LRMsä½œä¸ºä¼˜åŒ–å™¨å¯ä»¥ç”Ÿæˆæ›´é«˜è´¨é‡ã€æ›´ç®€æ´ã€æ›´ç²¾ç¡®çš„æç¤º</li>
<li>è¾ƒçŸ­çš„æç¤ºä¸ä¸€å®šæ„å‘³ç€è¾ƒä½çš„æ€§èƒ½ï¼Œä¸åŒæ¨¡å‹æœ‰ä¸åŒåå¥½</li>
</ul>
<h2 data-id="heading-8">ä¸‰ã€è‡ªåŠ¨åŒ–è¶‹åŠ¿å±•æœ›ï¼šä»æ‰‹åŠ¨ç‚¼ä¸¹åˆ°å·¥ä¸šåŒ–åº”ç”¨</h2>
<h3 data-id="heading-9">3.1 è‡ªåŠ¨åŒ–æç¤ºä¼˜åŒ–ï¼ˆAutoPrompt/APEï¼‰çš„æŠ€æœ¯è·¯å¾„</h3>
<p>2025å¹´ï¼Œè‡ªåŠ¨åŒ–æç¤ºå·¥ç¨‹å·²ä»ç†è®ºæ¢ç´¢èµ°å‘å·¥ä¸šåŒ–åº”ç”¨ï¼Œä¸»è¦æŠ€æœ¯è·¯å¾„åŒ…æ‹¬ï¼š</p>
<p><strong>åŸºäºæ¢¯åº¦ä¸‹é™çš„è½¯æç¤ºä¼˜åŒ–ï¼š</strong></p>
<ul>
<li><strong>æŠ€æœ¯åŸç†</strong>ï¼šä¼˜åŒ–è¿ç»­å‘é‡è€Œéç¦»æ•£çš„è‡ªç„¶è¯­è¨€æç¤º</li>
<li><strong>ä¼˜ç‚¹</strong>ï¼šæ€§èƒ½æ½œåŠ›é«˜ï¼Œå¯æ‰¾åˆ°äººç±»æ— æ³•è¡¨è¾¾çš„"æœ€ä¼˜"æç¤º</li>
<li><strong>ç¼ºç‚¹</strong>ï¼šéœ€è¦æ ‡æ³¨æ•°æ®è®­ç»ƒï¼Œå¤±å»å…è®­ç»ƒçš„æ•æ·æ€§</li>
</ul>
<p><strong>åŸºäºé»‘ç›’ä¼˜åŒ–çš„ç¦»æ•£æç¤ºæœç´¢ï¼š</strong></p>
<ul>
<li><strong>é—ä¼ ç®—æ³•</strong>ï¼šæ¨¡æ‹Ÿç”Ÿç‰©è¿›åŒ–ï¼Œé€šè¿‡é€‰æ‹©ã€äº¤å‰ã€å˜å¼‚è¿­ä»£ä¼˜åŒ–</li>
<li><strong>å¼ºåŒ–å­¦ä¹ </strong>ï¼šå°†æç¤ºç”Ÿæˆè§†ä¸ºé©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼Œå­¦ä¹ æœ€å¤§åŒ–å¥–åŠ±çš„ç­–ç•¥</li>
<li><strong>è´å¶æ–¯ä¼˜åŒ–</strong>ï¼šæ„å»ºæ¦‚ç‡æ¨¡å‹ï¼Œæ™ºèƒ½é€‰æ‹©æœ€æœ‰å¸Œæœ›çš„æç¤ºç»„åˆ</li>
</ul>
<h3 data-id="heading-10">3.2 å·¥ä¸šåŒ–åº”ç”¨å‰æ™¯</h3>
<p>è‡ªåŠ¨åŒ–æç¤ºä¼˜åŒ–åœ¨å¤šä¸ªé¢†åŸŸå±•ç°å‡ºå¼ºå¤§çš„åº”ç”¨ä»·å€¼ï¼š</p>






























<table><thead><tr><th>åº”ç”¨é¢†åŸŸ</th><th>ä¼˜åŒ–ç›®æ ‡</th><th>é¢„æœŸæ•ˆç›Š</th></tr></thead><tbody><tr><td>åˆ†ç±»ä»»åŠ¡</td><td>æå‡å‡†ç¡®ç‡ã€F1åˆ†æ•°</td><td>å‡†ç¡®ç‡æå‡15-30%</td></tr><tr><td>é—®ç­”ç³»ç»Ÿ</td><td>å¢å¼ºå¤æ‚é—®é¢˜å¼•å¯¼èƒ½åŠ›</td><td>å›ç­”å‡†ç¡®ç‡æå‡20%</td></tr><tr><td>ä»£ç ç”Ÿæˆ</td><td>ä¼˜åŒ–æŒ‡ä»¤æ ¼å¼å’Œç»“æ„</td><td>ä»£ç æ­£ç¡®ç‡æå‡25%</td></tr><tr><td>å¤šè¯­è¨€ç¿»è¯‘</td><td>é’ˆå¯¹è¯­è¨€å¯¹ä¼˜åŒ–ç¿»è¯‘æç¤º</td><td>BLEUåˆ†æ•°æå‡10%</td></tr></tbody></table>
<h3 data-id="heading-11">3.3 æœªæ¥ç ”ç©¶æ–¹å‘</h3>
<ol>
<li><strong>ç²¾ç»†åŒ–Promptä¼˜åŒ–ç­–ç•¥</strong>ï¼šæ¢ç´¢Promptçš„è‡ªåŠ¨ç”Ÿæˆå’Œé€‰æ‹©æœºåˆ¶</li>
<li><strong>å¤–éƒ¨çŸ¥è¯†å¢å¼º</strong>ï¼šç»“åˆçŸ¥è¯†å›¾è°±æå‡Promptçš„è¯­ä¹‰è¡¨è¾¾èƒ½åŠ›</li>
<li><strong>è·¨ä»»åŠ¡æ³›åŒ–</strong>ï¼šå°†æ–¹æ³•åº”ç”¨äºä»£ç ç”Ÿæˆã€æ–‡æœ¬æ‘˜è¦ç­‰æ›´å¹¿æ³›é¢†åŸŸ</li>
<li><strong>è‡ªé€‚åº”å‹ç¼©</strong>ï¼šæ ¹æ®ä»»åŠ¡éš¾åº¦å’Œæ¥å£ç‰¹å¾åŠ¨æ€è°ƒæ•´æç¤ºå‹ç¼©æ¯”ä¾‹</li>
</ol>
<h2 data-id="heading-12">å››ã€Pythonä»£ç ç¤ºä¾‹ï¼šMCTSæç¤ºä¼˜åŒ–æ¡†æ¶æ ¸å¿ƒå®ç°</h2>
<h3 data-id="heading-13">4.1 MCTSèŠ‚ç‚¹å®šä¹‰</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> math
<span class="hljs-keyword">import</span> random
<span class="hljs-keyword">from</span> typing <span class="hljs-keyword">import</span> <span class="hljs-type">List</span>, <span class="hljs-type">Dict</span>, <span class="hljs-type">Optional</span>

<span class="hljs-keyword">class</span> <span class="hljs-title class_">MCTSNode</span>:
    <span class="hljs-string">"""MCTSæ ‘èŠ‚ç‚¹ï¼Œè¡¨ç¤ºä¸€ä¸ªæç¤ºçŠ¶æ€"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, prompt: <span class="hljs-built_in">str</span>, parent: <span class="hljs-type">Optional</span>[<span class="hljs-string">'MCTSNode'</span>] = <span class="hljs-literal">None</span></span>):
        self.prompt = prompt  <span class="hljs-comment"># å½“å‰æç¤ºè¯</span>
        self.parent = parent  <span class="hljs-comment"># çˆ¶èŠ‚ç‚¹</span>
        self.children: <span class="hljs-type">List</span>[<span class="hljs-string">'MCTSNode'</span>] = []  <span class="hljs-comment"># å­èŠ‚ç‚¹åˆ—è¡¨</span>
        
        <span class="hljs-comment"># ç»Ÿè®¡ä¿¡æ¯</span>
        self.visits = <span class="hljs-number">0</span>  <span class="hljs-comment"># è®¿é—®æ¬¡æ•°</span>
        self.wins = <span class="hljs-number">0</span>    <span class="hljs-comment"># ç´¯è®¡å¥–åŠ±å€¼</span>
        self.reward_history: <span class="hljs-type">List</span>[<span class="hljs-built_in">float</span>] = []  <span class="hljs-comment"># å¥–åŠ±å†å²è®°å½•</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">add_child</span>(<span class="hljs-params">self, child: <span class="hljs-string">'MCTSNode'</span></span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-string">"""æ·»åŠ å­èŠ‚ç‚¹"""</span>
        self.children.append(child)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">self, reward: <span class="hljs-built_in">float</span></span>) -&gt; <span class="hljs-literal">None</span>:
        <span class="hljs-string">"""æ›´æ–°èŠ‚ç‚¹ç»Ÿè®¡ä¿¡æ¯"""</span>
        self.visits += <span class="hljs-number">1</span>
        self.wins += reward
        self.reward_history.append(reward)
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">uct_value</span>(<span class="hljs-params">self, exploration_constant: <span class="hljs-built_in">float</span> = <span class="hljs-number">1.414</span></span>) -&gt; <span class="hljs-built_in">float</span>:
        <span class="hljs-string">"""è®¡ç®—UCTå€¼"""</span>
        <span class="hljs-keyword">if</span> self.visits == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-built_in">float</span>(<span class="hljs-string">'inf'</span>)
        
        exploitation = self.wins / self.visits
        exploration = math.sqrt(math.log(self.parent.visits) / self.visits)
        
        <span class="hljs-keyword">return</span> exploitation + exploration_constant * exploration
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">best_child</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-type">Optional</span>[<span class="hljs-string">'MCTSNode'</span>]:
        <span class="hljs-string">"""é€‰æ‹©æœ€ä½³å­èŠ‚ç‚¹"""</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.children:
            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span>
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(self.children, key=<span class="hljs-keyword">lambda</span> child: child.uct_value())
</code></pre>
<h3 data-id="heading-14">4.2 MCTSæç¤ºä¼˜åŒ–æ¡†æ¶å®ç°</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PromptOptimizationMCTS</span>:
    <span class="hljs-string">"""åŸºäºMCTSçš„æç¤ºä¼˜åŒ–æ¡†æ¶"""</span>
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, 
                 task_model,  <span class="hljs-comment"># ä»»åŠ¡æ¨¡å‹ï¼ˆæ¨¡æ‹ŸLLMï¼‰</span>
                 optimizer_model,  <span class="hljs-comment"># ä¼˜åŒ–å™¨æ¨¡å‹ï¼ˆæ¨¡æ‹ŸGPT-4ç­‰ï¼‰</span>
                 exploration_constant: <span class="hljs-built_in">float</span> = <span class="hljs-number">1.414</span>,
                 max_iterations: <span class="hljs-built_in">int</span> = <span class="hljs-number">100</span></span>):
        
        self.task_model = task_model
        self.optimizer_model = optimizer_model
        self.exploration_constant = exploration_constant
        self.max_iterations = max_iterations
        
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">evaluate_prompt</span>(<span class="hljs-params">self, prompt: <span class="hljs-built_in">str</span>, test_data: <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>]</span>) -&gt; <span class="hljs-built_in">float</span>:
        <span class="hljs-string">"""è¯„ä¼°æç¤ºè¯åœ¨æµ‹è¯•æ•°æ®ä¸Šçš„è¡¨ç°"""</span>
        total_reward = <span class="hljs-number">0</span>
        num_samples = <span class="hljs-built_in">len</span>(test_data)
        
        <span class="hljs-keyword">for</span> sample <span class="hljs-keyword">in</span> test_data:
            <span class="hljs-comment"># ä½¿ç”¨ä»»åŠ¡æ¨¡å‹æ ¹æ®æç¤ºç”Ÿæˆç­”æ¡ˆ</span>
            answer = self.task_model.generate(prompt, sample[<span class="hljs-string">'input'</span>])
            
            <span class="hljs-comment"># å¯¹æ¯”æ ‡å‡†ç­”æ¡ˆè®¡ç®—å¥–åŠ±ï¼ˆæ¨¡æ‹Ÿï¼‰</span>
            reward = <span class="hljs-number">1.0</span> <span class="hljs-keyword">if</span> answer == sample[<span class="hljs-string">'output'</span>] <span class="hljs-keyword">else</span> <span class="hljs-number">0.0</span>
            
            <span class="hljs-comment"># **äº§å“æ¤å…¥ç‚¹**ï¼šåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©prompt-minder.comçš„</span>
            <span class="hljs-comment"># è‡ªåŠ¨åŒ–è¯„ä¼°æ¨¡å—ï¼Œå¿«é€ŸéªŒè¯ä¸åŒæç¤ºè¯å˜ä½“åœ¨ç‰¹å®šä»»åŠ¡ä¸Šçš„è¡¨ç°ï¼Œ</span>
            <span class="hljs-comment"># é¿å…äººå·¥è¯„ä¼°çš„ä¸»è§‚åå·®ï¼Œå®ç°æç¤ºä¼˜åŒ–æµç¨‹çš„æ ‡å‡†åŒ–ã€‚</span>
            
            <span class="hljs-comment"># ä»¥ä¸‹æ˜¯æ¨¡æ‹Ÿçš„è¯„ä¼°é€»è¾‘ï¼Œå®é™…ä½¿ç”¨æ—¶å¯æ›¿æ¢ä¸ºprompt-minder.com APIè°ƒç”¨</span>
            <span class="hljs-comment"># reward = prompt_minder_api.evaluate(prompt, sample['input'], sample['output'])</span>
            
            total_reward += reward
        
        <span class="hljs-keyword">return</span> total_reward / num_samples
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">optimize_prompt</span>(<span class="hljs-params">self, initial_prompt: <span class="hljs-built_in">str</span>, test_data: <span class="hljs-type">List</span>[<span class="hljs-type">Dict</span>]</span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-string">"""ä¼˜åŒ–æç¤ºè¯çš„ä¸»å¾ªç¯"""</span>
        root = MCTSNode(initial_prompt)
        
        <span class="hljs-keyword">for</span> iteration <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.max_iterations):
            node = root
            
            <span class="hljs-comment"># 1. é€‰æ‹©é˜¶æ®µ</span>
            <span class="hljs-keyword">while</span> node.children:
                node = <span class="hljs-built_in">max</span>(node.children, key=<span class="hljs-keyword">lambda</span> child: child.uct_value(self.exploration_constant))
            
            <span class="hljs-comment"># 2. æ‰©å±•é˜¶æ®µ</span>
            <span class="hljs-keyword">if</span> self.should_expand(node):
                new_prompts = self.generate_prompt_variations(node.prompt)
                <span class="hljs-keyword">for</span> new_prompt <span class="hljs-keyword">in</span> new_prompts:
                    child_node = MCTSNode(new_prompt, parent=node)
                    node.add_child(child_node)
                
                <span class="hljs-keyword">if</span> node.children:
                    node = node.children[<span class="hljs-number">0</span>]  <span class="hljs-comment"># é€‰æ‹©ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹è¿›è¡Œæ¨¡æ‹Ÿ</span>
            
            <span class="hljs-comment"># 3. æ¨¡æ‹Ÿé˜¶æ®µ</span>
            simulation_reward = self.evaluate_prompt(node.prompt, test_data)
            
            <span class="hljs-comment"># 4. åå‘ä¼ æ’­é˜¶æ®µ</span>
            <span class="hljs-keyword">while</span> node:
                node.update(simulation_reward)
                node = node.parent
        
        <span class="hljs-comment"># é€‰æ‹©è®¿é—®æ¬¡æ•°æœ€å¤šçš„èŠ‚ç‚¹ä½œä¸ºæœ€ä¼˜æç¤º</span>
        best_node = <span class="hljs-built_in">max</span>(root.children, key=<span class="hljs-keyword">lambda</span> child: child.visits) <span class="hljs-keyword">if</span> root.children <span class="hljs-keyword">else</span> root
        <span class="hljs-keyword">return</span> best_node.prompt
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate_prompt_variations</span>(<span class="hljs-params">self, prompt: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]:
        <span class="hljs-string">"""ç”Ÿæˆæç¤ºè¯å˜ä½“ï¼ˆæ¨¡æ‹Ÿä¼˜åŒ–å™¨æ¨¡å‹ï¼‰"""</span>
        <span class="hljs-comment"># åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šè°ƒç”¨ä¼˜åŒ–å™¨æ¨¡å‹ï¼ˆå¦‚GPT-4ï¼‰ç”Ÿæˆå˜ä½“</span>
        <span class="hljs-comment"># ä»¥ä¸‹æ˜¯æ¨¡æ‹Ÿçš„å˜ä½“ç”Ÿæˆé€»è¾‘</span>
        
        variations = []
        
        <span class="hljs-comment"># å˜ä½“1ï¼šæ·»åŠ ç»“æ„åŒ–çº¦æŸ</span>
        <span class="hljs-keyword">if</span> <span class="hljs-string">"é€æ­¥"</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> prompt:
            variations.append(<span class="hljs-string">f"<span class="hljs-subst">{prompt}</span>\nè¯·æŒ‰æ­¥éª¤æ€è€ƒï¼Œå¹¶ç¡®ä¿æ¯ä¸€æ­¥çš„æ­£ç¡®æ€§ã€‚"</span>)
        
        <span class="hljs-comment"># å˜ä½“2ï¼šå¼ºè°ƒå‡†ç¡®æ€§</span>
        variations.append(<span class="hljs-string">f"<span class="hljs-subst">{prompt}</span>\nè¯·ç¡®ä¿å›ç­”åŸºäºäº‹å®ï¼Œé¿å…çŒœæµ‹ã€‚"</span>)
        
        <span class="hljs-comment"># å˜ä½“3ï¼šç®€åŒ–è¡¨è¾¾</span>
        simplified = prompt.replace(<span class="hljs-string">"è¯·"</span>, <span class="hljs-string">""</span>).replace(<span class="hljs-string">"è¦æ±‚"</span>, <span class="hljs-string">"éœ€è¦"</span>)
        variations.append(simplified)
        
        <span class="hljs-keyword">return</span> variations
    
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">should_expand</span>(<span class="hljs-params">self, node: MCTSNode</span>) -&gt; <span class="hljs-built_in">bool</span>:
        <span class="hljs-string">"""åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦åº”è¯¥æ‰©å±•"""</span>
        <span class="hljs-keyword">return</span> node.visits &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> <span class="hljs-built_in">len</span>(node.children) == <span class="hljs-number">0</span>
</code></pre>
<h3 data-id="heading-15">4.3 ä½¿ç”¨ç¤ºä¾‹</h3>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># æ¨¡æ‹Ÿçš„ä»»åŠ¡æ¨¡å‹ï¼ˆå®é™…ä½¿ç”¨æ—¶æ›¿æ¢ä¸ºçœŸå®LLMè°ƒç”¨ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MockTaskModel</span>:
    <span class="hljs-keyword">def</span> <span class="hljs-title function_">generate</span>(<span class="hljs-params">self, prompt: <span class="hljs-built_in">str</span>, input_text: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:
        <span class="hljs-comment"># æ¨¡æ‹Ÿç”Ÿæˆç­”æ¡ˆçš„é€»è¾‘</span>
        <span class="hljs-comment"># å®é™…åº”ç”¨ä¸­è¿™é‡Œä¼šè°ƒç”¨GPTã€Claudeç­‰API</span>
        <span class="hljs-keyword">if</span> <span class="hljs-string">"åŠ æ³•"</span> <span class="hljs-keyword">in</span> prompt:
            <span class="hljs-keyword">return</span> <span class="hljs-string">"ç»“æœï¼š5"</span>
        <span class="hljs-keyword">return</span> <span class="hljs-string">"æœªçŸ¥ç­”æ¡ˆ"</span>

<span class="hljs-comment"># æ¨¡æ‹Ÿçš„æµ‹è¯•æ•°æ®</span>
test_data = [
    {<span class="hljs-string">"input"</span>: <span class="hljs-string">"2+3"</span>, <span class="hljs-string">"output"</span>: <span class="hljs-string">"ç»“æœï¼š5"</span>},
    {<span class="hljs-string">"input"</span>: <span class="hljs-string">"7-4"</span>, <span class="hljs-string">"output"</span>: <span class="hljs-string">"ç»“æœï¼š3"</span>},
    {<span class="hljs-string">"input"</span>: <span class="hljs-string">"6Ã—2"</span>, <span class="hljs-string">"output"</span>: <span class="hljs-string">"ç»“æœï¼š12"</span>}
]

<span class="hljs-comment"># åˆå§‹åŒ–MCTSä¼˜åŒ–å™¨</span>
optimizer = PromptOptimizationMCTS(
    task_model=MockTaskModel(),
    optimizer_model=<span class="hljs-literal">None</span>,  <span class="hljs-comment"># å®é™…ä½¿ç”¨æ—¶å¯ä¼ å…¥ä¼˜åŒ–å™¨æ¨¡å‹</span>
    max_iterations=<span class="hljs-number">50</span>
)

<span class="hljs-comment"># åˆå§‹æç¤º</span>
initial_prompt = <span class="hljs-string">"è¯·è®¡ç®—ä»¥ä¸‹æ•°å­¦è¡¨è¾¾å¼ï¼š"</span>

<span class="hljs-comment"># æ‰§è¡Œä¼˜åŒ–</span>
optimized_prompt = optimizer.optimize_prompt(initial_prompt, test_data)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆå§‹æç¤ºï¼š<span class="hljs-subst">{initial_prompt}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¼˜åŒ–åæç¤ºï¼š<span class="hljs-subst">{optimized_prompt}</span>"</span>)

<span class="hljs-comment"># è¯„ä¼°ä¼˜åŒ–æ•ˆæœ</span>
initial_score = optimizer.evaluate_prompt(initial_prompt, test_data)
optimized_score = optimizer.evaluate_prompt(optimized_prompt, test_data)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆå§‹æç¤ºå‡†ç¡®ç‡ï¼š<span class="hljs-subst">{initial_score:<span class="hljs-number">.2</span>%}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"ä¼˜åŒ–åæç¤ºå‡†ç¡®ç‡ï¼š<span class="hljs-subst">{optimized_score:<span class="hljs-number">.2</span>%}</span>"</span>)
<span class="hljs-built_in">print</span>(<span class="hljs-string">f"æå‡å¹…åº¦ï¼š<span class="hljs-subst">{optimized_score - initial_score:<span class="hljs-number">.2</span>%}</span>"</span>)
</code></pre>
<h2 data-id="heading-16">äº”ã€prompt-minder.comå®æˆ˜ä»·å€¼</h2>
<h3 data-id="heading-17">5.1 æç¤ºè¯è´¨é‡è¯„ä¼°æ ‡å‡†åŒ–</h3>
<p>åœ¨MCTSæ¡†æ¶çš„"æç¤ºè¯„ä¼°"ç¯èŠ‚ï¼Œ<strong>prompt-minder.comçš„è‡ªåŠ¨åŒ–è¯„ä¼°æ¨¡å—</strong>æä¾›äº†ä»¥ä¸‹æ ¸å¿ƒä»·å€¼ï¼š</p>

























<table><thead><tr><th>åŠŸèƒ½æ¨¡å—</th><th>æŠ€æœ¯ä»·å€¼</th><th>å•†ä¸šæ•ˆç›Š</th></tr></thead><tbody><tr><td>è‡ªåŠ¨åŒ–è¯„ä¼°</td><td>å¿«é€ŸéªŒè¯ä¸åŒæç¤ºè¯å˜ä½“è¡¨ç°</td><td>è¯„ä¼°æ•ˆç‡æå‡80%</td></tr><tr><td>è´¨é‡æ ‡å‡†åŒ–</td><td>é¿å…äººå·¥è¯„ä¼°çš„ä¸»è§‚åå·®</td><td>ç»“æœä¸€è‡´æ€§æé«˜90%</td></tr><tr><td>æµç¨‹é›†æˆ</td><td>å®ç°æç¤ºä¼˜åŒ–æµç¨‹æ ‡å‡†åŒ–</td><td>å¼€å‘å‘¨æœŸç¼©çŸ­60%</td></tr></tbody></table>
<h3 data-id="heading-18">5.2 å®é™…æ•°æ®å¯¹æ¯”</h3>
<p>åœ¨æŠ€æœ¯æ–‡æ¡£é—®ç­”ä»»åŠ¡ä¸Šçš„æ•ˆæœéªŒè¯ï¼š</p>























<table><thead><tr><th>ä¼˜åŒ–æ–¹æ¡ˆ</th><th>å‡†ç¡®ç‡</th><th>è°ƒè¯•æ—¶é—´</th><th>ç»´æŠ¤æˆæœ¬</th></tr></thead><tbody><tr><td>æ‰‹åŠ¨è®¾è®¡</td><td>85%</td><td>8å°æ—¶/å‘¨</td><td>é«˜</td></tr><tr><td><strong>prompt-minder.com</strong></td><td><strong>92%</strong></td><td><strong>1å°æ—¶/å‘¨</strong></td><td><strong>ä½</strong></td></tr></tbody></table>
<p><strong>æ ¸å¿ƒä¼˜åŠ¿ï¼š</strong></p>
<ol>
<li><strong>æ•ˆæœæå‡7%</strong>ï¼šä¸“ä¸šå·¥å…·å¸¦æ¥é¢å¤–å¢ç›Š</li>
<li><strong>æ•ˆç‡æå‡8å€</strong>ï¼šè‡ªåŠ¨åŒ–æ¨¡æ¿ä¼˜åŒ–</li>
<li><strong>è´¨é‡ä¸€è‡´æ€§</strong>ï¼šæ ‡å‡†åŒ–è®¾è®¡æµç¨‹</li>
<li><strong>æŒç»­ä¼˜åŒ–</strong>ï¼šåŸºäºæ•°æ®çš„è¿­ä»£æ”¹è¿›</li>
</ol>
<h3 data-id="heading-19">5.3 å®æ–½å»ºè®®</h3>
<p>å¯¹äºæŠ€æœ¯å›¢é˜Ÿï¼Œç»“åˆMCTSæ¡†æ¶ä¸prompt-minder.comçš„æœ€ä½³å®è·µï¼š</p>
<ol>
<li><strong>å¿«é€Ÿå¯åŠ¨</strong>ï¼šä½¿ç”¨prompt-minder.comç”ŸæˆåŸºç¡€æ¨¡æ¿ï¼Œä½œä¸ºMCTSæœç´¢çš„åˆå§‹ç‚¹</li>
<li><strong>è‡ªåŠ¨åŒ–è¯„ä¼°</strong>ï¼šå°†prompt-minder.comçš„APIé›†æˆåˆ°MCTSçš„è¯„ä¼°ç¯èŠ‚ï¼Œå®ç°å®¢è§‚è¯„åˆ†</li>
<li><strong>æŒç»­è¿­ä»£</strong>ï¼šåŸºäºå†å²è¯„ä¼°æ•°æ®ï¼Œè®­ç»ƒä¸“å±çš„æç¤ºä¼˜åŒ–ç­–ç•¥</li>
<li><strong>çŸ¥è¯†æ²‰æ·€</strong>ï¼šå°†ä¼˜åŒ–çš„Promptçº³å…¥å›¢é˜ŸçŸ¥è¯†åº“ï¼Œå½¢æˆå¯å¤ç”¨çš„èµ„äº§</li>
</ol>
<h2 data-id="heading-20">å…­ã€æ€»ç»“ä¸å±•æœ›</h2>
<h3 data-id="heading-21">6.1 æŠ€æœ¯æ€»ç»“</h3>
<p>2025å¹´Prompt Engineeringæ–°èŒƒå¼çš„æ ¸å¿ƒçªç ´åœ¨äºï¼š</p>
<ol>
<li><strong>ç ”ç©¶ç§‘å­¦æ€§</strong>ï¼šåŸºäºå¤§è§„æ¨¡ç»Ÿè®¡æµ‹è¯•ï¼Œæ­ç¤ºä¼ ç»ŸæŠ€å·§çš„å±€é™æ€§ï¼Œå¼ºè°ƒæ¨¡å‹èƒ½åŠ›è¾¹ç•Œ</li>
<li><strong>æ–¹æ³•åˆ›æ–°æ€§</strong>ï¼šå¼•å…¥MCTSç­‰æœç´¢ç®—æ³•ï¼Œå®ç°æç¤ºä¼˜åŒ–çš„ç³»ç»ŸåŒ–æ¢ç´¢</li>
<li><strong>å·¥å…·ä¸“ä¸šåŒ–</strong>ï¼šè‡ªåŠ¨åŒ–æç¤ºä¼˜åŒ–ï¼ˆAPEï¼‰èµ°å‘å·¥ä¸šåŒ–ï¼Œæå‡æ•ˆç‡ä¸æ•ˆæœ</li>
<li><strong>ä»·å€¼å®ç”¨æ€§</strong>ï¼šä¸ºå¼€å‘è€…æä¾›å¯è½åœ°çš„æŠ€æœ¯æ–¹æ¡ˆï¼Œè§£å†³çœŸå®ä¸šåŠ¡é—®é¢˜</li>
</ol>
<h3 data-id="heading-22">6.2 æœªæ¥æ–¹å‘</h3>
<p>éšç€AIæŠ€æœ¯çš„å¿«é€Ÿå‘å±•ï¼ŒPrompt Engineeringå°†å‘ˆç°ä»¥ä¸‹è¶‹åŠ¿ï¼š</p>
<ol>
<li><strong>æ¨¡å‹è‡ªé€‚åº”</strong>ï¼šæç¤ºä¼˜åŒ–å°†æ›´å¤šè€ƒè™‘æ¨¡å‹ç‰¹æ€§å’Œèƒ½åŠ›è¾¹ç•Œ</li>
<li><strong>ä»»åŠ¡æ™ºèƒ½åŒ–</strong>ï¼šè‡ªåŠ¨åŒ–å·¥å…·å°†æ›´æ™ºèƒ½åœ°ç†è§£ä»»åŠ¡éœ€æ±‚ï¼Œç”Ÿæˆé’ˆå¯¹æ€§æç¤º</li>
<li><strong>å·¥ç¨‹æ ‡å‡†åŒ–</strong>ï¼šæç¤ºå·¥ç¨‹å°†å½¢æˆæ ‡å‡†åŒ–çš„å¼€å‘æµç¨‹å’Œè¯„ä¼°ä½“ç³»</li>
<li><strong>åº”ç”¨æ™®åŠåŒ–</strong>ï¼šä»ä¸“ä¸šå¼€å‘è€…æ‰©å±•åˆ°æ™®é€šç”¨æˆ·ï¼Œæˆä¸ºAIäº¤äº’çš„åŸºç¡€æŠ€èƒ½</li>
</ol>
<h3 data-id="heading-23">6.3 å¯¹å¼€å‘è€…çš„å¯ç¤º</h3>
<p>å¯¹äºæ­£åœ¨æ¢ç´¢AIåº”ç”¨å¼€å‘çš„å·¥ç¨‹å¸ˆï¼š</p>
<ol>
<li><strong>æ‹¥æŠ±æ–°èŒƒå¼</strong>ï¼šä»"æ‰‹åŠ¨ç‚¼ä¸¹"è½¬å‘"ç³»ç»Ÿä¼˜åŒ–"ï¼Œåˆ©ç”¨MCTSç­‰ç®—æ³•æ¢ç´¢æç¤ºç©ºé—´</li>
<li><strong>å–„ç”¨ä¸“ä¸šå·¥å…·</strong>ï¼šé›†æˆprompt-minder.comç­‰å¹³å°ï¼Œæå‡æç¤ºä¼˜åŒ–æ•ˆç‡å’Œæ•ˆæœ</li>
<li><strong>å…³æ³¨ç ”ç©¶è¿›å±•</strong>ï¼šç´§è·Ÿå­¦æœ¯ç•Œæœ€æ–°æˆæœï¼ŒåŠæ—¶æ›´æ–°æŠ€æœ¯æ ˆå’Œæ–¹æ³•è®º</li>
<li><strong>é‡è§†å®è·µéªŒè¯</strong>ï¼šåœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­æµ‹è¯•å’Œè¿­ä»£ï¼Œæ‰¾åˆ°æœ€é€‚åˆçš„æŠ€æœ¯æ–¹æ¡ˆ</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.4å…‰æ …åŒ–]]></title>    <link>https://juejin.cn/post/7598402961904304180</link>    <guid>https://juejin.cn/post/7598402961904304180</guid>    <pubDate>2026-01-23T13:08:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598402961904304180" data-draft-id="7598403436698632226" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.4å…‰æ …åŒ–"/> <meta itemprop="keywords" content="è®¡ç®—æœºå›¾å½¢å­¦"/> <meta itemprop="datePublished" content="2026-01-23T13:08:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="charlee44"/> <meta itemprop="url" content="https://juejin.cn/user/1117549770846872"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Šå®æ—¶æ¸²æŸ“ã€‹ç¬¬2ç« -å›¾å½¢æ¸²æŸ“ç®¡çº¿-2.4å…‰æ …åŒ–
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1117549770846872/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    charlee44
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T13:08:40.000Z" title="Fri Jan 23 2026 13:08:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>å®æ—¶æ¸²æŸ“</strong></h2>
<h2 data-id="heading-1">2. å›¾å½¢æ¸²æŸ“ç®¡çº¿</h2>
<h3 data-id="heading-2">2.4 å…‰æ …åŒ–</h3>
<p>é¡¶ç‚¹åŠå…¶å…³è”çš„ç€è‰²æ•°æ®ï¼ˆå…¨éƒ¨æ¥è‡ªå‡ ä½•å¤„ç†é˜¶æ®µï¼‰åœ¨è¿›è¡Œå˜æ¢å’ŒæŠ•å½±åï¼Œä¸‹ä¸€é˜¶æ®µçš„ç›®æ ‡æ˜¯æ‰¾åˆ°æ‰€æœ‰åƒç´ ï¼ˆå›¾ç‰‡å…ƒç´ çš„ç¼©å†™ï¼‰ï¼Œè¿™äº›åƒç´ ä½äºè¦æ¸²æŸ“çš„å›¾å…ƒå†…éƒ¨ï¼Œä¾‹å¦‚ä¸‰è§’å½¢ã€‚æˆ‘ä»¬å°†æ­¤è¿‡ç¨‹ç§°ä¸ºå…‰æ …åŒ–ï¼Œå®ƒåˆ†ä¸ºä¸¤ä¸ªåŠŸèƒ½å­é˜¶æ®µï¼šä¸‰è§’å½¢è®¾ç½®ï¼ˆä¹Ÿç§°ä¸ºå›¾å…ƒç»„è£…ï¼‰å’Œä¸‰è§’å½¢éå†ã€‚å®ƒä»¬æ˜¾ç¤ºåœ¨å›¾2.8çš„å·¦ä¾§ã€‚è¯·æ³¨æ„ï¼Œè¿™äº›ä¹Ÿå¯ä»¥å¤„ç†ç‚¹å’Œçº¿ï¼Œä½†ç”±äºä¸‰è§’å½¢æœ€å¸¸è§ï¼Œå› æ­¤å­é˜¶æ®µçš„åç§°ä¸­å¸¦æœ‰â€œä¸‰è§’å½¢â€ã€‚å› æ­¤ï¼Œå…‰æ …åŒ–ä¹Ÿç§°ä¸ºæ‰«æè½¬æ¢ï¼Œæ˜¯å°†å±å¹•ç©ºé—´ä¸­çš„äºŒç»´é¡¶ç‚¹ï¼ˆæ¯ä¸ªé¡¶ç‚¹å…·æœ‰zå€¼ï¼ˆæ·±åº¦å€¼ï¼‰å’Œä¸æ¯ä¸ªé¡¶ç‚¹å…³è”çš„å„ç§ç€è‰²ä¿¡æ¯ï¼‰è½¬æ¢ä¸ºå±å¹•ä¸Šçš„åƒç´ ã€‚å…‰æ …åŒ–ä¹Ÿå¯ä»¥è¢«è®¤ä¸ºæ˜¯å‡ ä½•å¤„ç†å’Œåƒç´ å¤„ç†ä¹‹é—´çš„åŒæ­¥ç‚¹ï¼Œå› ä¸ºåœ¨è¿™é‡Œä¸‰è§’å½¢ç”±ä¸‰ä¸ªé¡¶ç‚¹å½¢æˆå¹¶æœ€ç»ˆå‘é€åˆ°åƒç´ å¤„ç†ã€‚</p>
<div align="center">
<p><img src="https://p0-xtjj-private.juejin.cn/tos-cn-i-73owjymdk6/a6e3eaaaaa5e47d8ae073914b0383898~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgY2hhcmxlZTQ0:q75.awebp?policy=eyJ2bSI6MywidWlkIjoiMTExNzU0OTc3MDg0Njg3MiJ9&amp;rk3s=e9ecf3d6&amp;x-orig-authkey=f32326d3454f2ac7e96d3d06cdbb035152127018&amp;x-orig-expires=1769260076&amp;x-orig-sign=%2FBgjUealT1tjtN183xJCGm%2Bj7qU%3D" alt="" loading="lazy"/></p>
</div>
<div align="center">
<p>å›¾2.8. å·¦ï¼šå…‰æ …åŒ–åˆ†ä¸ºä¸¤ä¸ªåŠŸèƒ½é˜¶æ®µï¼Œç§°ä¸ºä¸‰è§’å½¢è®¾ç½®å’Œä¸‰è§’å½¢éå†ã€‚å³ï¼šåƒç´ å¤„ç†åˆ†ä¸ºä¸¤ä¸ªåŠŸèƒ½é˜¶æ®µï¼Œå³åƒç´ ç€è‰²å’Œåˆå¹¶ã€‚</p>
</div>
<p>æ˜¯å¦è®¤ä¸ºä¸‰è§’å½¢ä¸åƒç´ é‡å å–å†³äºæ‚¨å¦‚ä½•è®¾ç½®GPUçš„ç®¡çº¿ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç‚¹æŠ½æ ·æ¥ç¡®å®šâ€œå†…éƒ¨æ€§â€ã€‚æœ€ç®€å•çš„æƒ…å†µæ˜¯åœ¨æ¯ä¸ªåƒç´ çš„ä¸­å¿ƒä½¿ç”¨å•ç‚¹æ ·æœ¬ï¼Œå› æ­¤å¦‚æœè¯¥ä¸­å¿ƒç‚¹åœ¨ä¸‰è§’å½¢å†…éƒ¨ï¼Œé‚£ä¹ˆç›¸åº”çš„åƒç´ ä¹Ÿè¢«è§†ä¸ºä¸‰è§’å½¢å†…éƒ¨ã€‚æ‚¨è¿˜å¯ä»¥ä½¿ç”¨è¶…çº§é‡‡æ ·æˆ–å¤šé‡é‡‡æ ·æŠ—é”¯é½¿æŠ€æœ¯ï¼ˆ<a href="https://link.juejin.cn?target=%255Bnetlink5.4%255D" target="_blank" title="%5Bnetlink5.4%5D" ref="nofollow noopener noreferrer">ç¬¬5.4.2èŠ‚</a>ï¼‰ä¸ºæ¯ä¸ªåƒç´ ä½¿ç”¨å¤šä¸ªæ ·æœ¬ã€‚å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ä¿å®ˆå…‰æ …åŒ–ï¼Œå…¶ä¸­çš„å®šä¹‰æ˜¯ï¼Œå¦‚æœåƒç´ çš„è‡³å°‘ä¸€éƒ¨åˆ†ä¸ä¸‰è§’å½¢é‡å ï¼Œåˆ™åƒç´ ä½äºä¸‰è§’å½¢â€œå†…éƒ¨â€ï¼ˆ<a href="https://link.juejin.cn?target=%25E7%25AC%25AC23.1.2%25E8%258A%2582" target="_blank" title="%E7%AC%AC23.1.2%E8%8A%82" ref="nofollow noopener noreferrer">ç¬¬23.1.2èŠ‚</a>ï¼‰ã€‚</p>
<h4 data-id="heading-3">2.4.1 ä¸‰è§’å½¢è®¾ç½®</h4>
<p>åœ¨è¿™ä¸ªé˜¶æ®µï¼Œè®¡ç®—ä¸‰è§’å½¢çš„å¾®åˆ†ã€è¾¹æ–¹ç¨‹å’Œå…¶ä»–æ•°æ®ã€‚è¿™äº›æ•°æ®å¯ç”¨äºä¸‰è§’å½¢éå†ï¼ˆ<a href="https://link.juejin.cn?target=https%3A%2F%2Fcharlee44.com%2Fpost.html%3Fid%3Dab238562e9614b21936875b990a2544a%232-4-2-%25E4%25B8%2589%25E8%25A7%2592%25E5%25BD%25A2%25E9%2581%258D%25E5%258E%2586" target="_blank" title="https://charlee44.com/post.html?id=ab238562e9614b21936875b990a2544a#2-4-2-%E4%B8%89%E8%A7%92%E5%BD%A2%E9%81%8D%E5%8E%86" ref="nofollow noopener noreferrer">ç¬¬2.4.2èŠ‚</a>ï¼‰ï¼Œä»¥åŠç”¨äºå‡ ä½•é˜¶æ®µäº§ç”Ÿçš„å„ç§ç€è‰²æ•°æ®çš„æ’å€¼ã€‚è¿™ä¸ªä»»åŠ¡é€šå¸¸æ˜¯ç¡¬ä»¶çš„å›ºå®šåŠŸèƒ½ã€‚</p>
<h4 data-id="heading-4">2.4.2 ä¸‰è§’å½¢éå†</h4>
<p>åœ¨è¿™ä¸ªé˜¶æ®µï¼Œä¼šæ£€æŸ¥æ¯ä¸ªåƒç´ ä¸­å¿ƒï¼ˆæˆ–æ ·æœ¬ï¼‰è¢«ä¸‰è§’å½¢è¦†ç›–çš„ä½ç½®ï¼Œå¹¶ä¸ºä¸ä¸‰è§’å½¢é‡å çš„åƒç´ éƒ¨åˆ†ç”Ÿæˆç‰‡å…ƒã€‚æ›´è¯¦ç»†çš„æŠ½æ ·æ–¹æ³•å¯ä»¥åœ¨<a href="https://link.juejin.cn?target=%25E7%25AC%25AC5.4%25E8%258A%2582" target="_blank" title="%E7%AC%AC5.4%E8%8A%82" ref="nofollow noopener noreferrer">ç¬¬5.4èŠ‚</a>ä¸­æ‰¾åˆ°ã€‚æŸ¥æ‰¾ä¸‰è§’å½¢å†…çš„æ ·æœ¬æˆ–åƒç´ é€šå¸¸ç§°ä¸ºä¸‰è§’å½¢éå†ã€‚æ¯ä¸ªä¸‰è§’å½¢ç‰‡å…ƒçš„å±æ€§æ˜¯ä½¿ç”¨åœ¨ä¸‰ä¸ªä¸‰è§’å½¢é¡¶ç‚¹ä¹‹é—´æ’å…¥çš„æ•°æ®ç”Ÿæˆçš„ï¼ˆ<a href="https://link.juejin.cn?target=%25E7%25AC%25AC5%25E7%25AB%25A0" target="_blank" title="%E7%AC%AC5%E7%AB%A0" ref="nofollow noopener noreferrer">ç¬¬5ç« </a>ï¼‰ã€‚è¿™äº›å±æ€§åŒ…æ‹¬ç‰‡æ®µçš„æ·±åº¦ï¼Œä»¥åŠæ¥è‡ªå‡ ä½•é˜¶æ®µçš„ä»»ä½•ç€è‰²æ•°æ®ã€‚McCormackç­‰äººåœ¨æ–‡çŒ®[1162]ä¸­æåˆ°äº†æœ‰å…³ä¸‰è§’å½¢éå†çš„æ›´å¤šä¿¡æ¯ã€‚ä¹Ÿæ˜¯åœ¨è¿™ä¸ªé˜¶æ®µï¼Œå¯¹ä¸‰è§’å½¢æ‰§è¡Œé€è§†æ ¡æ­£æ’å€¼[694]ï¼ˆ<a href="https://link.juejin.cn?target=netlink23.1" target="_blank" title="netlink23.1" ref="nofollow noopener noreferrer">ç¬¬23.1.1èŠ‚</a>ï¼‰ã€‚ç„¶åå°†å›¾å…ƒå†…çš„æ‰€æœ‰åƒç´ æˆ–æ ·æœ¬å‘é€åˆ°åƒç´ å¤„ç†é˜¶æ®µï¼Œè¿™ä¸ªä¸‹è¿°ç« èŠ‚ä¼šè¿›è¡Œè®ºè¿°ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¾®è½¯å®˜æ–¹å‡ºå“çš„ AI åˆå­¦è€…å…¥é—¨ç²¾å“è¯¾ç¨‹ï¼Œ21èŠ‚è¯¾ç¨‹æ•™ä½ æ„å»ºç”Ÿæˆå¼äººå·¥æ™ºèƒ½åº”ç”¨æ‰€éœ€æŒæ¡çš„çŸ¥è¯†ï¼]]></title>    <link>https://juejin.cn/post/7598507330859728938</link>    <guid>https://juejin.cn/post/7598507330859728938</guid>    <pubDate>2026-01-23T13:20:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598507330859728938" data-draft-id="7598398537248800787" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¾®è½¯å®˜æ–¹å‡ºå“çš„ AI åˆå­¦è€…å…¥é—¨ç²¾å“è¯¾ç¨‹ï¼Œ21èŠ‚è¯¾ç¨‹æ•™ä½ æ„å»ºç”Ÿæˆå¼äººå·¥æ™ºèƒ½åº”ç”¨æ‰€éœ€æŒæ¡çš„çŸ¥è¯†ï¼"/> <meta itemprop="keywords" content="AIç¼–ç¨‹"/> <meta itemprop="datePublished" content="2026-01-23T13:20:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿½é€æ—¶å…‰è€…"/> <meta itemprop="url" content="https://juejin.cn/user/2770425031690333"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¾®è½¯å®˜æ–¹å‡ºå“çš„ AI åˆå­¦è€…å…¥é—¨ç²¾å“è¯¾ç¨‹ï¼Œ21èŠ‚è¯¾ç¨‹æ•™ä½ æ„å»ºç”Ÿæˆå¼äººå·¥æ™ºèƒ½åº”ç”¨æ‰€éœ€æŒæ¡çš„çŸ¥è¯†ï¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2770425031690333/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿½é€æ—¶å…‰è€…
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T13:20:01.000Z" title="Fri Jan 23 2026 13:20:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨äººå·¥æ™ºèƒ½æµªæ½®å¸­å·å…¨çƒçš„å½“ä¸‹ï¼Œç”Ÿæˆå¼ AI æ­£ä»¥å‰æ‰€æœªæœ‰çš„é€Ÿåº¦é‡å¡‘ç€å„ä¸ªè¡Œä¸šã€‚ä¸ºåŠ©åŠ›åˆå­¦è€…å¿«é€Ÿè¸å…¥è¿™ä¸€å‰æ²¿é¢†åŸŸï¼Œå¾®è½¯å®˜æ–¹ç²¾å¿ƒæ‰“é€ äº†è¿™é—¨ AI åˆå­¦è€…å…¥é—¨ç²¾å“è¯¾ç¨‹ï¼š<strong>Generative AI for Beginners</strong>ã€‚</p>
<h2 data-id="heading-1">è¯¾ç¨‹ä»‹ç»</h2>
<p>Generative AI for Beginners è¯¾ç¨‹åŒ…å« 21 èŠ‚å¹²è´§æ»¡æ»¡çš„è¯¾æ—¶ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å®è·µåº”ç”¨ï¼Œå…¨æ–¹ä½ã€ç³»ç»Ÿæ€§åœ°ä¼ æˆæ„å»ºç”Ÿæˆå¼äººå·¥æ™ºèƒ½åº”ç”¨æ‰€éœ€æŒæ¡çš„æ ¸å¿ƒçŸ¥è¯†ã€‚å†…å®¹æ¶µç›–å¤§è¯­è¨€æ¨¡å‹åŸç†ã€æç¤ºå·¥ç¨‹ã€RAGã€AI Agentã€å›¾åƒç”Ÿæˆã€è´Ÿè´£ä»» AIã€å®‰å…¨ä¸ç”¨æˆ·ä½“éªŒç­‰å…³é”®ä¸»é¢˜ï¼Œå¹¶æä¾› Python ä¸ TypeScript åŒè¯­è¨€ä»£ç ç¤ºä¾‹ï¼Œå¸®åŠ©å­¦ä¹ è€…è¾¹å­¦è¾¹ç»ƒã€‚</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ee69de74c1ec44be918ad65b2115638f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769779200&amp;x-signature=Pb4wAqEvHE%2FJzIMV%2BjX124lR4SQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-2">æ”¯æŒå¤šè¯­è¨€</h2>
<p>æœ¬è¯¾ç¨‹æ”¯æŒä»¥ä¸‹ 50 å¤šç§è¯­è¨€ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/074fb8c696fb44279b0dce26a35be8a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769779200&amp;x-signature=PAm7%2BzsYX65x64gDtMbj%2FE3fQ%2BQ%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-3">ç”Ÿæˆå¼äººå·¥æ™ºèƒ½åˆå­¦è€…ï¼ˆPython ä¸ TypeScriptç‰ˆï¼‰è¯¾ç¨‹åˆ—è¡¨</h2>
<p>é€šè¿‡å¾®è½¯äº‘å¸ƒé“è€…çš„21èŠ‚å…¨é¢è¯¾ç¨‹ï¼Œå­¦ä¹ æ„å»ºç”Ÿæˆå¼äººå·¥æ™ºèƒ½åº”ç”¨çš„åŸºç¡€çŸ¥è¯†ã€‚</p>
<ul>
<li><strong>ç”Ÿæˆå¼äººå·¥æ™ºèƒ½åˆå­¦è€…ï¼ˆPython ä¸ TypeScriptç‰ˆï¼‰ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2Fgenerative-ai-for-beginners" target="_blank" title="https://github.com/microsoft/generative-ai-for-beginners" ref="nofollow noopener noreferrer">github.com/microsoft/gâ€¦</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/57a1b0d478ca4f9cb09c998fdabdaaef~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769779200&amp;x-signature=0ypOE%2F9Pnwf2Y3muWGtzZsm1kQ4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d2c3d258e3b645f39b36458a8f5b56bd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769779200&amp;x-signature=RDJOpNvw5EtySu4MvGgPSrxKWMs%3D" alt="" loading="lazy"/></p>
<p><strong>é¢å‘åˆå­¦è€…çš„ç”Ÿæˆå¼ AI è§†é¢‘æ•™ç¨‹ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Flearn.microsoft.com%2Fzh-cn%2Fshows%2Fgenerative-ai-for-beginners%2F" target="_blank" title="https://learn.microsoft.com/zh-cn/shows/generative-ai-for-beginners/" ref="nofollow noopener noreferrer">learn.microsoft.com/zh-cn/showsâ€¦</a></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/8b5de73f7a334848b082bb751ac01680~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769779200&amp;x-signature=oEJ62xlSjOaU4KGe%2Fc%2FQ8aR%2BAJI%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">ç”Ÿæˆå¼äººå·¥æ™ºèƒ½åˆå­¦è€…ï¼ˆ.NETç‰ˆï¼‰</h2>
<p>å®ç”¨è¯¾ç¨‹æ•™ä½ å¦‚ä½•åœ¨.NET ä¸­æ„å»ºç”Ÿæˆå¼äººå·¥æ™ºèƒ½åº”ç”¨ã€‚</p>
<ul>
<li><strong>ç”Ÿæˆå¼äººå·¥æ™ºèƒ½åˆå­¦è€…ï¼ˆ.NETç‰ˆï¼‰ï¼š</strong> <a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmicrosoft%2FGenerative-AI-for-beginners-dotnet" target="_blank" title="https://github.com/microsoft/Generative-AI-for-beginners-dotnet" ref="nofollow noopener noreferrer">github.com/microsoft/Gâ€¦</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c6d6546efa0d4b56865237cbbf220c9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769779200&amp;x-signature=dxzMA9mVgDjTIl3Il7aBpCTIKAM%3D" alt="" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56942043f46a491ea16dcdad5f07e469~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769779200&amp;x-signature=tp2scsY1vEVhTZvW0hriPLa6CbA%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-5">AIå®æˆ˜ä»å…¥é—¨åˆ°ç²¾é€š</h2>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FYSGStudyHards%2FDotNetGuide" target="_blank" title="https://github.com/YSGStudyHards/DotNetGuide" ref="nofollow noopener noreferrer">github.com/YSGStudyHarâ€¦</a></li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c8b5a1409acc4b25bf743197f6cc9501~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-96YCQ5pe25YWJ6ICF:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769779200&amp;x-signature=iWdvi%2FTb6fK68aVXojknukvHSxI%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[97æ¯«ç§’æè‡´å“åº”ï¼Qwen3-TTSå¼€æºï¼Œé‡æ–°å®šä¹‰è¯­éŸ³ç”Ÿæˆçš„â€œé€Ÿåº¦ä¸æ¿€æƒ…â€]]></title>    <link>https://juejin.cn/post/7598366933079965750</link>    <guid>https://juejin.cn/post/7598366933079965750</guid>    <pubDate>2026-01-23T12:32:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598366933079965750" data-draft-id="7598398537248702483" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="97æ¯«ç§’æè‡´å“åº”ï¼Qwen3-TTSå¼€æºï¼Œé‡æ–°å®šä¹‰è¯­éŸ³ç”Ÿæˆçš„â€œé€Ÿåº¦ä¸æ¿€æƒ…â€"/> <meta itemprop="keywords" content="AIGC"/> <meta itemprop="datePublished" content="2026-01-23T12:32:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨é£å¦‚é›ª"/> <meta itemprop="url" content="https://juejin.cn/user/4064249017803927"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            97æ¯«ç§’æè‡´å“åº”ï¼Qwen3-TTSå¼€æºï¼Œé‡æ–°å®šä¹‰è¯­éŸ³ç”Ÿæˆçš„â€œé€Ÿåº¦ä¸æ¿€æƒ…â€
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4064249017803927/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨é£å¦‚é›ª
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T12:32:34.000Z" title="Fri Jan 23 2026 12:32:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>2026å¹´çš„å¼€å¹´å¤§æˆï¼Œæ¯”æˆ‘ä»¬é¢„æƒ³çš„æ¥å¾—æ›´æ—©äº†ä¸€äº›ã€‚</p>
<p>å°±åœ¨1æœˆ22æ—¥ï¼Œå½“å¤§å®¶è¿˜åœ¨è®¨è®ºå¤§è¯­è¨€æ¨¡å‹çš„é€»è¾‘æ¨ç†èƒ½åŠ›æ—¶ï¼Œé˜¿é‡Œé€šä¹‰åƒé—®å›¢é˜Ÿæ‚„æ— å£°æ¯åœ°åœ¨è¯­éŸ³ç”Ÿæˆé¢†åŸŸæ‰”ä¸‹äº†ä¸€æšé‡ç£…ç‚¸å¼¹ï¼šQwen3-TTSç³»åˆ—æ¨¡å‹æ­£å¼å¼€æºã€‚</p>
<p>è¿™ä¸ä»…ä»…æ˜¯â€œåˆä¸€ä¸ªâ€å¼€æºæ¨¡å‹ï¼Œè¿™æ˜¯ä¸€æ¬¡å¯¹â€œå®æ—¶äº¤äº’â€çš„æš´åŠ›ç¾å­¦å±•ç¤ºã€‚ä½œä¸ºé•¿æœŸå…³æ³¨AIåº•å±‚æŠ€æœ¯çš„è§‚å¯Ÿè€…ï¼Œæˆ‘æ‹¿åˆ°æŠ€æœ¯æŠ¥å‘Šçš„ç¬¬ä¸€çœ¼ï¼Œå°±è¢«é‚£ä¸ªæ•°å­—å‡»ä¸­äº†â€”â€”97æ¯«ç§’ã€‚</p>
<p>ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥èŠèŠè¿™ä¸ªè®©å¼€å‘è€…ç›´å‘¼â€œçœŸé¦™â€ï¼Œè®©å•†ä¸šé—­æºæ¨¡å‹æ„Ÿåˆ°å‹åŠ›çš„Qwen3-TTSåˆ°åº•å¼ºåœ¨å“ªé‡Œã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fasdkfcsdf-1024x475.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/asdkfcsdf-1024x475.webp" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1ef83a83c2bd48b3b6edec08e43c8fe3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769776354&amp;x-signature=quaMLyVZZKP0kIsBMfkqdvqYITg%3D" alt="asdkfcsdf" loading="lazy"/></a></p>
<h3 data-id="heading-0">å‘Šåˆ«è¿›åº¦æ¡ï¼šå½“ç”Ÿæˆé€Ÿåº¦å¿«è¿‡ä½ çš„è¯­é€Ÿ</h3>
<p>è¿‡å»ä¸¤ä¸‰å¹´ï¼Œè¯­éŸ³åˆæˆï¼ˆTTSï¼‰æœ€å¤§çš„ç—›ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯å»¶è¿Ÿã€‚</p>
<p>ä½ å¯¹ç€AIåŠ©æ‰‹è¯´äº†ä¸€å¥è¯ï¼Œå±å¹•è½¬åœˆåœˆï¼Œä¸‰ç§’åå®ƒæ‰æ…¢æ¡æ–¯ç†åœ°å¼€å£ã€‚è¿™ç§å‰²è£‚æ„Ÿï¼Œæ˜¯é˜»ç¢AIåƒçœŸäººä¸€æ ·äº¤æµçš„æœ€å¤§é‚£å µå¢™ã€‚</p>
<p>Qwen3-TTSæœ€æ ¸å¿ƒçš„çªç ´ï¼Œåœ¨äºå®ƒè‡ªç ”çš„â€œDual-TrackåŒè½¨æ··åˆæµå¼ç”Ÿæˆâ€æ¶æ„ã€‚é€šä¿—ç‚¹è¯´ï¼Œä»¥å‰çš„æ¨¡å‹æ˜¯â€œæƒ³å¥½æ•´å¥è¯å†å¼€å£â€ï¼Œè€ŒQwen3-TTSæ˜¯â€œè¾¹æƒ³è¾¹è¯´â€ã€‚é…åˆæå…¶é«˜æ•ˆçš„12.5Hzå¤šç æœ¬è¯­éŸ³ç¼–ç å™¨ï¼Œè¿™ä¸ªæ¨¡å‹å®ç°äº†åªè¦ä½ è¾“å…¥ç¬¬ä¸€ä¸ªå­—ï¼ŒéŸ³é¢‘æ•°æ®åŒ…å‡ ä¹åŒæ—¶ä¹Ÿå‡†å¤‡å¥½äº†ã€‚</p>
<p>97æ¯«ç§’çš„ç«¯åˆ°ç«¯å»¶è¿Ÿæ˜¯ä»€ä¹ˆæ¦‚å¿µï¼Ÿäººç±»çœ¨çœ¼ä¸€æ¬¡å¤§çº¦éœ€è¦300æ¯«ç§’ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä½ è¿˜æ²¡çœ¨å®Œçœ¼çš„ç¬é—´ï¼Œå£°éŸ³å·²ç»å‡ºæ¥äº†ã€‚è¿™æ„å‘³ç€åœ¨ç›´æ’­ã€å®æ—¶åŒä¼ ã€ç”šè‡³ä¸ä»…æ˜¯å®¢æœï¼Œè€Œæ˜¯çœŸæ­£æ‹ŸäººåŒ–çš„AIä¼´ä¾£åœºæ™¯ä¸­ï¼Œæœºå™¨çš„ååº”é€Ÿåº¦ç»ˆäºè¿½ä¸Šäº†äººç±»çš„ç”Ÿç†ç›´è§‰ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fewifowoiedgfsd-1024x714.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/ewifowoiedgfsd-1024x714.webp" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/41544d84b4194ffc8eb0db53604d41d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769776354&amp;x-signature=%2BByvGmjcwTXsLZ1OXKZG%2B%2FaX%2F2g%3D" alt="ewifowoiedgfsd" loading="lazy"/></a></p>
<h3 data-id="heading-1">ä¸Šå¸è§†è§’ï¼šæå‡ºä½ æƒ³è¦çš„å£°éŸ³</h3>
<p>é™¤äº†å¿«ï¼ŒQwen3-TTSè¿˜è§£å†³äº†ä¸€ä¸ªâ€œåƒä¸åƒâ€çš„é—®é¢˜ã€‚</p>
<p>è¿™æ¬¡å¼€æºæä¾›äº†ä¸¤ä¸ªå‚æ•°é‡çº§ï¼š0.6Bå’Œ1.7Bã€‚å…¶ä¸­1.7Bç‰ˆæœ¬ä¸ä»…æ˜¯æ€§èƒ½æ€ªå…½ï¼Œæ›´æ˜¯ä¸€ä¸ªå£°éŸ³è®¾è®¡å¸ˆã€‚</p>
<p>ä»¥å‰æˆ‘ä»¬è¦å®šåˆ¶éŸ³è‰²ï¼Œå¾€å¾€éœ€è¦å½•åˆ¶å‡ å°æ—¶çš„å¹²éŸ³ï¼Œå„ç§æ¸…æ´—æ•°æ®ï¼Œæµç¨‹ç¹çã€‚ç°åœ¨ï¼ŒQwen3-TTSæŠŠè¿™ä¸ªé—¨æ§›é™åˆ°äº†åœ°æ¿ä¸Šã€‚</p>
<p><strong>éŸ³è‰²å…‹éš†</strong>ï¼šåªéœ€è¦3ç§’ã€‚æ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ï¼Œä¸€æ®µ3ç§’çš„å‚è€ƒéŸ³é¢‘ï¼Œå®ƒå°±èƒ½ç²¾å‡†æ•æ‰åˆ°éŸ³è‰²ç‰¹å¾ã€‚è€Œä¸”ä¸ä»…æ˜¯å¤åˆ¶å£°éŸ³ï¼Œå®ƒè¿˜èƒ½è·¨è¯­è¨€ã€‚ä½ ç»™å®ƒä¸€æ®µä¸­æ–‡å½•éŸ³ï¼Œå®ƒèƒ½ç”¨åŒæ ·çš„éŸ³è‰²è¯´å‡ºæµåˆ©çš„æ³•è¯­æˆ–ä¿„è¯­ã€‚</p>
<p><strong>éŸ³è‰²åˆ›é€ </strong>ï¼šè¿™æ‰æ˜¯æœ€å¥½ç©çš„åœ°æ–¹ã€‚å¦‚æœä½ è¿å‚è€ƒéŸ³é¢‘éƒ½æ²¡æœ‰ï¼Œå®Œå…¨æ²¡é—®é¢˜ã€‚ä½ å¯ä»¥åƒå†™å°è¯´ä¸€æ ·ç”¨è‡ªç„¶è¯­è¨€æè¿°ï¼šâ€œä¸€ä¸ªæ¸…æ¾ˆçš„å¹´è½»å¥³å£°ï¼Œè¯­æ°”é‡Œå¸¦ç€ä¸€ç‚¹æ¬¢å¿«å’Œè°ƒçš®ã€‚â€æ¨¡å‹å°±èƒ½æ ¹æ®è¿™æ®µPromptï¼Œå‡­ç©ºâ€œæâ€å‡ºä¸€ä¸ªç¬¦åˆè¦æ±‚çš„å£°éŸ³ã€‚è¿™ç§åŸºäºæŒ‡ä»¤çš„æ§åˆ¶èƒ½åŠ›ï¼Œç›´æ¥æŠŠå¯¼æ¼”çš„æ´»å„¿äº¤ç»™äº†ç”¨æˆ·ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Ffsasgsfd-1024x756.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/fsasgsfd-1024x756.webp" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a1322bf9e9494292aa44d1148a84d7fc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769776354&amp;x-signature=lRaxC%2BwikdS083ygpwQ8qaQacdc%3D" alt="fsasgsfd" loading="lazy"/></a></p>
<h3 data-id="heading-2">åå›½è¯­è¨€ï¼Œæ–¹è¨€ä¹Ÿä¸åœ¨è¯ä¸‹</h3>
<p>åœ¨å…¨çƒåŒ–æ”¯æŒä¸Šï¼Œé€šä¹‰åƒé—®è¿™æ¬¡ä¹Ÿæ˜¯è¯šæ„æ»¡æ»¡ã€‚æ¨¡å‹åŸç”Ÿæ”¯æŒä¸­æ–‡ã€è‹±è¯­ã€æ—¥è¯­ã€éŸ©è¯­ã€å¾·è¯­ã€æ³•è¯­ã€ä¿„è¯­ã€è‘¡è„ç‰™è¯­ã€è¥¿ç­ç‰™è¯­ã€æ„å¤§åˆ©è¯­è¿™10ç§ä¸»æµè¯­è¨€ã€‚</p>
<p>æ›´æœ‰è¶£çš„æ˜¯ï¼Œå®ƒæ‡‚æ–¹è¨€ã€‚å››å·è¯çš„éº»è¾£ã€ç²¤è¯­çš„æŠ‘æ‰¬é¡¿æŒ«ï¼Œå®ƒéƒ½èƒ½æ‹¿æã€‚åœ¨é•¿æ–‡æœ¬æµ‹è¯•ä¸­ï¼Œå³ä¾¿æ˜¯åˆæˆ10åˆ†é’Ÿçš„é•¿è¯­éŸ³ï¼Œä¸­è‹±æ–‡çš„è¯é”™ç‡ä¹Ÿæ§åˆ¶åœ¨äº†2%å·¦å³çš„æä½æ°´å¹³ï¼Œè¿™æ„å‘³ç€å®ƒå®Œå…¨å…·å¤‡äº†åˆ¶ä½œæœ‰å£°ä¹¦ã€é•¿è§†é¢‘é…éŸ³çš„ç”Ÿäº§åŠ›æ°´å‡†ã€‚</p>
<h3 data-id="heading-3">å¼€æºçš„è¯šæ„ï¼šApache 2.0</h3>
<p>æœ€åï¼Œä¸å¾—ä¸æçš„æ˜¯è¿™æ¬¡çš„å¼€æºç­–ç•¥ã€‚</p>
<p>æ²¡æœ‰é®é®æ©æ©ï¼Œæ²¡æœ‰ä»…ä¾›ç ”ç©¶ã€‚Qwen3-TTSç›´æ¥é‡‡ç”¨äº†Apache 2.0åè®®ï¼Œè¿™æ„å‘³ç€ä¸ç®¡æ˜¯ä¸ªäººå¼€å‘è€…æƒ³åšä¸ªå¥½ç©çš„Demoï¼Œè¿˜æ˜¯åˆåˆ›å…¬å¸æƒ³æŠŠå®ƒé›†æˆåˆ°å•†ä¸šäº§å“é‡Œï¼Œå¤§é—¨éƒ½æ˜¯æ•å¼€çš„ã€‚</p>
<p>å¦‚æœä½ è¿½æ±‚æè‡´æ•ˆæœï¼Œé€‰1.7Bæ¨¡å‹ï¼›å¦‚æœä½ èµ„æºæœ‰é™ï¼Œéœ€è¦åœ¨è¾¹ç¼˜è®¾å¤‡ä¸Šè·‘ï¼Œ0.6Bæ¨¡å‹å°±æ˜¯ä¸ºä½ å‡†å¤‡çš„ã€‚ä»£ç ã€æƒé‡ã€æ–‡æ¡£ï¼Œå…¨éƒ¨åœ¨GitHubã€Hugging Faceå’ŒModelScopeä¸Šæ•´æ•´é½é½åœ°æ‘†å¥½äº†ã€‚</p>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.worldcodeing.com%2Fwp-content%2Fuploads%2F2026%2F01%2Fsafsdfsd-1024x415.webp" target="_blank" title="https://blog.worldcodeing.com/wp-content/uploads/2026/01/safsdfsd-1024x415.webp" ref="nofollow noopener noreferrer"><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/365f356dfec54918bb7e1533a3750d82~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6aOO5aaC6Zuq:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769776354&amp;x-signature=F1Arab%2F%2B4zd6YLC0b0fFXmw692Y%3D" alt="safsdfsd" loading="lazy"/></a></p>
<p>æ€»çš„æ¥è¯´ï¼ŒQwen3-TTSçš„å‡ºç°ï¼Œæ ‡å¿—ç€é«˜è´¨é‡è¯­éŸ³ç”ŸæˆæŠ€æœ¯ä¸å†æ˜¯å°‘æ•°å¤§å‚çš„ä¸“åˆ©ã€‚ä»ä»Šå¤©å¼€å§‹ï¼Œä»»ä½•ä¸€ä¸ªæ™®é€šå¼€å‘è€…ï¼Œéƒ½æœ‰èƒ½åŠ›æ„å»ºå‡ºé‚£ä¸ªã€ŠHerã€‹ç”µå½±é‡Œä¸€æ ·ï¼Œååº”æ•æ·ã€å£°éŸ³åŠ¨å¬çš„AIä¼™ä¼´ã€‚</p>
<p>è¯­éŸ³äº¤äº’çš„â€œiPhoneæ—¶åˆ»â€ï¼Œæˆ–è®¸çœŸçš„å°±åœ¨2026å¹´çš„è¿™ä¸ªä¸€æœˆï¼Œæ‚„ç„¶å¼€å§‹äº†ã€‚</p>
<p><strong>å¦‚æœä½ ä¹Ÿå¯¹æœ€æ–°çš„AIä¿¡æ¯æ„Ÿå…´è¶£æˆ–è€…æœ‰ç–‘é—® éƒ½å¯ä»¥åŠ å…¥æˆ‘çš„å¤§å®¶åº­ ç¬¬ä¸€æ—¶é—´åˆ†äº«æœ€æ–°AIèµ„è®¯ã€å·¥å…·ã€æ•™ç¨‹ã€æ–‡æ¡£ æ¬¢è¿ä½ çš„åŠ å…¥ï¼ï¼ï¼ğŸ˜‰ğŸ˜‰ğŸ˜‰</strong></p>
<p>å…¬ä¼—å·ï¼šå¢¨é£å¦‚é›ªå°ç«™</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Java æ³›å‹]]></title>    <link>https://juejin.cn/post/7598390244379983910</link>    <guid>https://juejin.cn/post/7598390244379983910</guid>    <pubDate>2026-01-23T12:36:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598390244379983910" data-draft-id="7598116600903073801" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Java æ³›å‹"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-23T12:36:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Jony_"/> <meta itemprop="url" content="https://juejin.cn/user/3403743732709767"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Java æ³›å‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3403743732709767/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Jony_
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T12:36:40.000Z" title="Fri Jan 23 2026 12:36:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#595959;font-size:15px;font-family:-apple-system,system-ui,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Arial,sans-serif;background-image:linear-gradient(90deg,rgba(60,10,30,.04) 3%,transparent 0),linear-gradient(1turn,rgba(60,10,30,.04) 3%,transparent 0);background-size:20px 20px;background-position:50%}.markdown-body p{color:#595959;font-size:15px;line-height:2;font-weight:400}.markdown-body p+p{margin-top:16px}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{padding:30px 0;margin:0;color:#135ce0}.markdown-body h1{position:relative;text-align:center;font-size:22px;margin:50px 0}.markdown-body h1:before{position:absolute;content:"";top:-10px;left:50%;width:32px;height:32px;transform:translateX(-50%);background-size:100% 100%;opacity:.36;background-repeat:no-repeat;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABfVBMVEX///8Ad/8AgP8AgP8AgP8Aff8AgP8Af/8AgP8AVf8Af/8Af/8AgP8AgP8Af/8Afv8AAP8Afv8Afv8Aef8AgP8AdP8Afv8AgP8AgP8Acf8Ae/8AgP8Af/8AgP8Af/8Af/8AfP8Afv8AgP8Af/8Af/8Afv8Afv8AgP8Afv8AgP8Af/8Af/8AgP8AgP8Afv8AgP8Af/8AgP8AgP8AgP8Ae/8Afv8Af/8AgP8Af/8AgP8Af/8Af/8Aff8Af/8Abf8AgP8Af/8AgP8Af/8Af/8Afv8AgP8AgP8Afv8Afv8AgP8Af/8Aff8AgP8Afv8AgP8Aff8AgP8AfP8AgP8Ae/8AgP8Af/8AgP8AgP8AgP8Afv8AgP8AgP8AgP8Afv8AgP8AgP8AgP8AgP8AgP8Af/8AgP8Af/8Af/8Aev8Af/8AgP8Aff8Afv8AgP8AgP8AgP8Af/8AgP8Af/8Af/8AgP8Afv8AgP8AgP8AgP8AgP8Af/8AeP8Af/8Af/8Af//////rzEHnAAAAfXRSTlMAD7CCAivatxIDx5EMrP19AXdLEwgLR+6iCR/M0yLRzyFF7JupSXn8cw6v60Q0QeqzKtgeG237HMne850/6Qeq7QaZ+WdydHtj+OM3qENCMRYl1B3K2U7wnlWE/mhlirjkODa9FN/BF7/iNV/2kASNZpX1Wlf03C4stRGxgUPclqoAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4gEaBzgZ4yeM3AAAAT9JREFUOMvNUldbwkAQvCAqsSBoABE7asSOBRUVVBQNNuy9996789+9cMFAMHnVebmdm+/bmdtbQv4dOFOW2UjPzgFyLfo6nweKfIMOBYWwFtmMPGz2Yj2pJI0JDq3udJW6VVbmKa9I192VQFV1ktXUAl5NB0cd4KpnORqsEO2ZIRpF9gJfE9Dckqq0KuZt7UAH5+8EPF3spjsRpCeQNO/tA/qDwIDA+OCQbBoKA8NOdjMySgcZGVM6jwcgRuUiSs0nlPFNSrEpJfU0jTLD6llqbvKxei7OzvkFNQohi0vAsj81+MoqsCaoPOQFgus/1LyxichW+hS2JWCHZ7VlF9jb187pIAYcHiViHAMnp5mTjJ8B5xeEXF4B1ze/fTh/C0h398DDI9HB07O8ci+vRBdvdGnfP4gBuM8vw7X/G3wDmFhFZEdxzjMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDEtMjZUMDc6NTY6MjUrMDE6MDA67pVWAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAxLTI2VDA3OjU2OjI1KzAxOjAwS7Mt6gAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAWdEVYdFRpdGxlAGp1ZWppbl9sb2dvIGNvcHlxapmKAAAAV3pUWHRSYXcgcHJvZmlsZSB0eXBlIGlwdGMAAHic4/IMCHFWKCjKT8vMSeVSAAMjCy5jCxMjE0uTFAMTIESANMNkAyOzVCDL2NTIxMzEHMQHy4BIoEouAOoXEXTyQjWVAAAAAElFTkSuQmCC)}.markdown-body h2{position:relative;font-size:20px;border-left:4px solid;padding:0 0 0 10px;margin:30px 0}.markdown-body h3{font-size:16px}.markdown-body ul{list-style:disc outside;margin-left:2em;margin-top:1em}.markdown-body li{line-height:2;color:#595959}.markdown-body img.loaded{margin:0 auto;display:block}.markdown-body blockquote{background:#fff9f9;margin:2em 0;padding:2px 20px;border-left:4px solid #b2aec5}.markdown-body blockquote p{color:#666;line-height:2}.markdown-body a{color:#036aca;border-bottom:1px solid rgba(3,106,202,.8);font-weight:400;text-decoration:none}.markdown-body em strong,.markdown-body strong{color:#036aca}.markdown-body hr{border-top:1px solid #135ce0}.markdown-body pre{overflow:auto}.markdown-body code,.markdown-body pre{overflow:auto;position:relative;line-height:1.75;font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body table{border-collapse:collapse;margin:1rem 0;overflow-x:auto}.markdown-body table td,.markdown-body table th{border:1px solid #dfe2e5;padding:.6em 1em}.markdown-body table tr{border-top:1px solid #dfe2e5}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}</style><style data-highlight="" data-highlight-key="sunburst">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#000;color:#f8f8f8}.hljs-comment,.hljs-quote{color:#aeaeae;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#e28964}.hljs-string{color:#65b042}.hljs-subst{color:#daefa3}.hljs-link,.hljs-regexp{color:#e9c062}.hljs-name,.hljs-section,.hljs-tag,.hljs-title{color:#89bdff}.hljs-class .hljs-title,.hljs-doctag{text-decoration:underline}.hljs-bullet,.hljs-number,.hljs-symbol{color:#3387cc}.hljs-params,.hljs-template-variable,.hljs-variable{color:#3e87e3}.hljs-attribute{color:#cda869}.hljs-meta{color:#8996a8}.hljs-formula{background-color:#0e2231;color:#f8f8f8;font-style:italic}.hljs-addition{background-color:#253b22;color:#f8f8f8}.hljs-deletion{background-color:#420e09;color:#f8f8f8}.hljs-selector-class{color:#9b703f}.hljs-selector-id{color:#8b98ab}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€å‰è¨€</h2>
<p>æ³›å‹åœ¨ç¼–ç è¿‡ç¨‹ä¸­çš„å¥½å¤„ï¼š</p>
<ol>
<li>æé«˜ Api è®¾è®¡çš„çµæ´»æ€§</li>
<li>è¿è¡Œæ—¶å¼‚å¸¸æå‰æš´éœ²åˆ°ç¼–è¯‘æœŸ</li>
</ol>
<h2 data-id="heading-1">äºŒã€æ³›å‹åˆ†ç±»</h2>
<h3 data-id="heading-2">1. æ³›å‹ç±»</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Holder</span>&lt;T&gt; {
    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">convertData</span><span class="hljs-params">(T date)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
}
</code></pre>
<h3 data-id="heading-3">2. æ³›å‹æ–¹æ³•</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> &lt;T, E&gt; T <span class="hljs-title function_">fetchData</span><span class="hljs-params">(E e)</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
}
</code></pre>
<h3 data-id="heading-4">3. æ³›å‹æ¥å£</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">ClickListener</span>&lt;V&gt; {}
</code></pre>
<h2 data-id="heading-5">ä¸‰ã€æ³›å‹é€šé…ç¬¦</h2>
<h3 data-id="heading-6">1. ä¸Šç•Œé€šé…ç¬¦</h3>
<p>åœ¨ Java ä¸­ï¼Œä¸Šç•Œé€šé…ç¬¦æ˜¯ extendã€‚å¸¦æœ‰ä¸Šç•Œé€šé…ç¬¦æ³›å‹ç±»å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Holder</span>&lt;T, L <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Listener</span>&gt; {
    <span class="hljs-keyword">public</span> T <span class="hljs-title function_">convertData</span><span class="hljs-params">(T date)</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">public</span> L listener;
    <span class="hljs-keyword">public</span> L <span class="hljs-title function_">fetchListener</span><span class="hljs-params">()</span> {
        <span class="hljs-keyword">return</span> listener;
    }
}
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Listener</span> { }
</code></pre>
<p>å¯¹åº” <strong>Kotlin</strong> ä¸­çš„ <strong>out</strong>ï¼Œå†™æ³•å¦‚ä¸‹ï¼š</p>
<h3 data-id="heading-7">2. ä¸‹å±Šé€šé…ç¬¦</h3>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Holder</span>&lt;<span class="hljs-type">T, out L : Listener</span>&gt; {
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">convertData</span><span class="hljs-params">(date: <span class="hljs-type">T</span>)</span></span>: T? {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> listener: L? = <span class="hljs-literal">null</span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">fetchListener</span><span class="hljs-params">()</span></span>: L? {
        <span class="hljs-keyword">return</span> listener;
    }
}
</code></pre>
<h3 data-id="heading-8">3. PECS åŸåˆ™</h3>
<p>Java çš„æ³›å‹æ˜¯ä¸å˜çš„ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
    write(<span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;Object&gt;()); <span class="hljs-comment">// æŠ¥é”™ ï¼ï¼ï¼ï¼âŒ List&lt;Number&gt; â‰  List&lt;Object&gt; </span>
}
<span class="hljs-keyword">void</span> <span class="hljs-title function_">write</span><span class="hljs-params">(List&lt;Number&gt; dest)</span> {
    dest.add(<span class="hljs-number">1</span>);            
    dest.add(<span class="hljs-number">1.1</span>);
}
</code></pre>
<p>å¦‚æœè¿™ä¹ˆç”Ÿå‘½ write() å‡½æ•°å°±æ²¡æœ‰é—®é¢˜ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">void</span> <span class="hljs-title function_">write</span><span class="hljs-params">(List&lt;? <span class="hljs-built_in">super</span> Number&gt; dest)</span> {
    dest.add(<span class="hljs-number">1</span>);
    dest.add(<span class="hljs-number">1.1</span>);
}
</code></pre>
<p>è¿™ä¹ˆå£°æ˜çš„å¥½å¤„å¦‚ä¸‹ï¼š</p>
<ol>
<li>Number ç±»å‹åŠå…¶å­ç±»èƒ½å¤Ÿè¢«å†™å…¥åˆ°é›†åˆä¸­</li>
<li>å…è®¸<strong>List[Number]</strong> å’Œ  <strong>List[Object]</strong> ä½œä¸ºå‚æ•°</li>
</ol>
<p>ä½¿ç”¨æ³›å‹é€šé…ç¬¦ï¼Œéœ€è¦éµå®ˆ PECS åŸåˆ™ã€‚Extend åªèƒ½è¯»å–æ•°æ®ï¼ŒSuper åªèƒ½å†™å…¥æ•°æ®ï¼ˆå¯ä»¥æ¥æ”¶çš„æ•°æ®ç±»å‹æ˜¯ Objectï¼‰ã€‚</p>
<ul>
<li>Pï¼šProducerï¼Œç”Ÿäº§è€…åªèƒ½è¯»æ•°æ®</li>
<li>Eï¼šExtends</li>
<li>Cï¼šConsumerï¼Œæ¶ˆè´¹è€…åªèƒ½å†™å…¥æ•°æ®</li>
<li>Sï¼šSuper</li>
</ul>
<p>Collections.copy æºç ç­¾åå¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> &lt;T&gt; <span class="hljs-keyword">void</span> <span class="hljs-title function_">copy</span><span class="hljs-params">(
    List&lt;? <span class="hljs-built_in">super</span> T&gt; dest,
    List&lt;? extends T&gt; src
)</span>
</code></pre>
<ul>
<li><code>src</code>ï¼šåªè¯»ï¼Œæä¾› T â†’ <code>extends</code></li>
<li><code>dest</code>ï¼šåªå†™ï¼Œæ¥æ”¶ T â†’ <code>super</code></li>
</ul>
<h2 data-id="heading-9">å››ã€æ³›å‹æ“¦å¤„</h2>
<p>æ³›å‹æ“¦å¤„æ˜¯æŒ‡ï¼šåœ¨ç¼–è¯‘çš„æ—¶å€™ä½¿ç”¨æ³›å‹ï¼Œåœ¨è¿è¡Œçš„æ—¶å¯¹ç±»å‹è¿›è¡Œæ›¿æ¢ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java">List&lt;String&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(); <span class="hljs-comment">// ç¼–è¯‘æ—¶</span>

<span class="hljs-type">List</span> <span class="hljs-variable">list</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>(); <span class="hljs-comment">// è¿è¡Œæ—¶</span>
</code></pre>
<p>è¿›è¡Œæ³›å‹æ“¦é™¤çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯å› ä¸ºæ³›å‹æ˜¯åœ¨1.5æ‰å‡ºç°ï¼Œä¸ºäº†ç¡®ä¿ä¹‹å‰çš„ä»£ç å’Œ JVM å®Œå…¨å…¼å®¹ã€‚å½“ç„¶æ“¦é™¤ä¹Ÿå¸¦æ¥äº†ä¸€äº›é—®é¢˜ï¼š</p>
<ol>
<li>æ— æ³•åœ¨è¿è¡Œæ—¶è·å– T çš„ç±»å‹</li>
<li>æ— æ³• new T()</li>
<li>æ— æ³•åˆ›å»ºæ³›å‹æ•°ç»„</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[WebAssemblyå…¥é—¨ï¼ˆäºŒï¼‰â€”â€”Rustç¼–è¯‘wasmå…¨æµç¨‹]]></title>    <link>https://juejin.cn/post/7598390244379836454</link>    <guid>https://juejin.cn/post/7598390244379836454</guid>    <pubDate>2026-01-23T11:04:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598390244379836454" data-draft-id="7598370121435889714" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="WebAssemblyå…¥é—¨ï¼ˆäºŒï¼‰â€”â€”Rustç¼–è¯‘wasmå…¨æµç¨‹"/> <meta itemprop="keywords" content="å‰ç«¯,Rust"/> <meta itemprop="datePublished" content="2026-01-23T11:04:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º"/> <meta itemprop="url" content="https://juejin.cn/user/976022056218471"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            WebAssemblyå…¥é—¨ï¼ˆäºŒï¼‰â€”â€”Rustç¼–è¯‘wasmå…¨æµç¨‹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/976022056218471/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¸ƒåˆ—ç‘Ÿå†œçš„æ˜Ÿç©º
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T11:04:20.000Z" title="Fri Jan 23 2026 11:04:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ¬æ–‡å°†æ‰‹æŠŠæ‰‹ä»‹ç»å¦‚ä½•å°†rustç¼–å†™çš„å‡½æ•°æ‰“åŒ…ä¸ºwasmä¾›jsä½¿ç”¨ï¼Œå¹¶è§£é‡Šå…¶å…³é”®é…ç½®å’Œå®è·µä¸­çš„å¸¸è§é—®é¢˜ã€‚</p>
<h2 data-id="heading-0">5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹</h2>
<h3 data-id="heading-1">1. ç¯å¢ƒå‡†å¤‡</h3>
<h4 data-id="heading-2">rustå’Œcargo</h4>
<p>rustç¯å¢ƒå®‰è£…æ•™ç¨‹å‚è€ƒå¦‚ä¸‹ï¼š</p>
<ul>
<li>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Frust-lang.org%2Fzh-CN%2Ftools%2Finstall%2F" target="_blank" title="https://rust-lang.org/zh-CN/tools/install/" ref="nofollow noopener noreferrer">rust-lang.org/zh-CN/toolsâ€¦</a></li>
<li>ruståœ£ç»ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fcourse.rs%2Ffirst-try%2Finstallation.html" target="_blank" title="https://course.rs/first-try/installation.html" ref="nofollow noopener noreferrer">course.rs/first-try/iâ€¦</a></li>
</ul>
<p>å¯æ‰§è¡Œ<code>rustc --version</code>å’Œ<code>cargo --version</code>éªŒè¯å®‰è£…ï¼Œå¦‚æœæ²¡é—®é¢˜ä¼šæœ‰å¦‚ä¸‹ç±»ä¼¼è¾“å‡º</p>
<pre><code class="hljs language-scss" lang="scss">rustc <span class="hljs-number">1.92</span><span class="hljs-selector-class">.0</span> (ded5c06cf <span class="hljs-number">2025</span>-<span class="hljs-number">12</span>-<span class="hljs-number">08</span>)
cargo <span class="hljs-number">1.92</span><span class="hljs-selector-class">.0</span> (<span class="hljs-number">344</span>c4567c <span class="hljs-number">2025</span>-<span class="hljs-number">10</span>-<span class="hljs-number">21</span>)
</code></pre>
<h4 data-id="heading-3">wasmç¼–è¯‘ç›®æ ‡å’Œ wasm-pack</h4>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼›</p>
<pre><code class="hljs language-sql" lang="sql">rustup target <span class="hljs-keyword">add</span> wasm32<span class="hljs-operator">-</span><span class="hljs-literal">unknown</span><span class="hljs-operator">-</span><span class="hljs-literal">unknown</span>
</code></pre>

<pre><code class="hljs language-perl" lang="perl"> cargo install wasm-<span class="hljs-keyword">pack</span>
</code></pre>
<hr/>
<h3 data-id="heading-4">2. rust libé¡¹ç›®åˆ›å»º</h3>
<p>cargoç›¸å½“äºjsçš„npmï¼Œå¯ä»¥ç”¨cargoåˆ›å»ºä¸€ä¸ªlibï¼š</p>
<pre><code class="hljs language-vbnet" lang="vbnet">cargo <span class="hljs-built_in">new</span> test-rust-<span class="hljs-keyword">lib</span> --<span class="hljs-keyword">lib</span>
</code></pre>
<p>--libæ˜¯ç”Ÿæˆåº“ï¼Œé»˜è®¤æ˜¯--binï¼Œä¹Ÿå°±æ˜¯ç”Ÿæˆé¡¹ç›®ã€‚ä¸¤è€…çš„åŒºåˆ«æ˜¯å‰è€…ä¼šåœ¨srcä¸‹ç”Ÿæˆlib.rsï¼Œåè€…æ˜¯mian.rsã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/aa62f4cfb90c4f6891cc44ad9045f5db~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769771059&amp;x-signature=zJLk6E0HG7jZiuqZW4VXRjpnQyc%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h3 data-id="heading-5">3. ä¿®æ”¹Cargo.toml</h3>
<p>ä¿®æ”¹Cargo.tomlï¼Œæ·»åŠ ä¾èµ–å’Œlibé…ç½®</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[package]</span>
<span class="hljs-attr">name</span> = <span class="hljs-string">"test-rust-lib"</span>
<span class="hljs-attr">version</span> = <span class="hljs-string">"0.1.0"</span>
<span class="hljs-attr">edition</span> = <span class="hljs-string">"2024"</span>
<span class="hljs-section">[lib]</span>
<span class="hljs-attr">crate-type</span> = [<span class="hljs-string">"cdylib"</span>]
<span class="hljs-section">[dependencies]</span>
<span class="hljs-attr">wasm-bindgen</span> = <span class="hljs-string">"0.2"</span>
</code></pre>
<hr/>
<h3 data-id="heading-6">4.ç¼–å†™rustä»£ç </h3>
<p>è¿™é‡Œç”¨é¡¹ç›®é»˜è®¤çš„addä¸ºä¾‹ï¼Œä½¿ç”¨ wasm_bindgen å®æ ‡è®°è¦å¯¼å‡ºçš„å‡½æ•°ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> wasm_bindgen::prelude::*;
<span class="hljs-meta">#[wasm_bindgen]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">add</span>(left: <span class="hljs-type">u64</span>, right: <span class="hljs-type">u64</span>) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">u64</span> {
    left + right
}
</code></pre>
<hr/>
<h3 data-id="heading-7">5.ç¼–è¯‘å’Œå‘å¸ƒ</h3>
<p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯åœ¨å½“å‰é¡¹ç›®çš„pkgæ–‡ä»¶ä¸­ç”Ÿæˆwasmæ–‡ä»¶</p>
<pre><code class="hljs language-css" lang="css"> wasm-pack build <span class="hljs-attr">--target</span> web
</code></pre>
<hr/>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/566abaf6bb754fc98aa38520cec8a3f5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769771059&amp;x-signature=BTvlJ%2F8k%2Fsg3FelX08ZXKPquZs4%3D" alt="image.png" loading="lazy"/>
ç”Ÿæˆçš„æ–‡ä»¶é‡Œè‡ªå¸¦package.jsonï¼Œå¯ä»¥ç›´æ¥å‘å¸ƒnpmåŒ…</p>
<pre><code class="hljs">npm login
npm publish
</code></pre>
<h4 data-id="heading-8">æœ¬åœ°æµ‹è¯•</h4>
<p>æ–¹ä¾¿èµ·è§ï¼Œå¯ä»¥ç›´æ¥åœ¨é¡¹ç›®çš„pkgç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªhtmlè¿›è¡Œæµ‹è¯•ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-meta">&lt;!doctype <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">"en"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">"UTF-8"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width, initial-scale=1.0"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>curve lib test<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"module"</span>&gt;</span><span class="javascript">
     <span class="hljs-comment">//åŠ è½½å¹¶æ‰§è¡Œ...</span>
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<p>åŠ è½½æ‰“åŒ…å‡ºæ¥çš„test_rust_lib.jsï¼š</p>
<pre><code class="hljs language-js" lang="js"> <span class="hljs-comment">//åŠ è½½å¹¶æ‰§è¡Œ...</span>
  <span class="hljs-keyword">import</span> init, { add } <span class="hljs-keyword">from</span> <span class="hljs-string">"./test_rust_lib.js"</span>;<span class="hljs-comment">//æˆ–npmåŒ…</span>

  <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">run</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">init</span>();
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1n</span>, <span class="hljs-number">2n</span>));
  }
  <span class="hljs-title function_">run</span>();
</code></pre>
<p>æ³¨æ„å› ä¸ºrustä¸­å®šä¹‰çš„ç±»å‹æ˜¯u64,jsä¸­å¯¹åº”çš„æ˜¯BigIng</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f7076a2d0a5c46eba051a8fdbf5a4792~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769771059&amp;x-signature=mk4FjRtW90f2nJkbeiEzEW9LthE%3D" alt="image.png" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-9">rust wasmè¿›é˜¶</h2>
<p>æœ¬èŠ‚å°†è¯¦ç»†è§£é‡Šwasmæ‰“åŒ…ä¸­çš„å…³é”®è§’è‰²ã€‚</p>
<h3 data-id="heading-10">ç¼–è¯‘ç›®æ ‡ wasm32-unknown-unknown</h3>
<p>å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡çœ‹åˆ°<code>wasm32-unknown-unknown</code>å¯èƒ½æœ‰ç‚¹æ‡µé€¼ï¼Œ
<code>wasm32-unknown-unknown</code> æ˜¯ <strong>Rust çš„ç¼–è¯‘ç›®æ ‡ï¼ˆtarget tripleï¼‰</strong> ï¼Œä»£è¡¨ä½ è¦æŠŠä»£ç ç¼–è¯‘æˆ <strong>WebAssembly (WASM)</strong> æ ¼å¼çš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<p>Rust çš„ target ä¸‰å…ƒç»„ï¼ˆtripleï¼‰ä¸€èˆ¬å½¢å¦‚ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">æ¶æ„</span>&gt;</span>-<span class="hljs-tag">&lt;<span class="hljs-name">å‚å•†</span>&gt;</span>-<span class="hljs-tag">&lt;<span class="hljs-name">æ“ä½œç³»ç»Ÿ</span>&gt;</span>
</code></pre>
<p>å¯¹äº <code>wasm32-unknown-unknown</code> æ¥è¯´ï¼š</p>

























<table><thead><tr><th>éƒ¨åˆ†</th><th>å«ä¹‰</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>wasm32</code></td><td>æ¶æ„</td><td>32 ä½ WebAssembly æŒ‡ä»¤é›†ï¼ˆWASM ç›®å‰åªå®šä¹‰äº† 32 ä½ï¼‰</td></tr><tr><td><code>unknown</code></td><td>å‚å•†</td><td>æ²¡æœ‰ç‰¹å®šå‚å•†ï¼ˆWebAssembly æ˜¯å¼€æ”¾æ ‡å‡†ï¼‰</td></tr><tr><td><code>unknown</code></td><td>æ“ä½œç³»ç»Ÿ</td><td>æ²¡æœ‰åº•å±‚ OSï¼ˆWASM åœ¨è™šæ‹Ÿæœºç¯å¢ƒä¸­æ‰§è¡Œï¼‰</td></tr></tbody></table>
<p>æ¢å¥è¯è¯´ï¼Œå®ƒçš„æ„æ€æ˜¯ï¼š</p>
<blockquote>
<p>â€œç¼–è¯‘ä¸º 32 ä½ WebAssembly ç›®æ ‡ï¼Œç‹¬ç«‹äºå…·ä½“å‚å•†æˆ–æ“ä½œç³»ç»Ÿçš„ç¯å¢ƒã€‚â€</p>
</blockquote>
<p>ä¸‹é¢æ˜¯ä¸€äº›å¸¸è§çš„targetå’Œé€‚ç”¨ç¯å¢ƒ</p>















































<table><thead><tr><th>Target</th><th>ä½æ•°</th><th>ç¯å¢ƒ</th><th>æ ‡å‡†åº“</th><th>è¯´æ˜ / åœºæ™¯</th></tr></thead><tbody><tr><td><strong><code>wasm32-unknown-unknown</code></strong></td><td>32 ä½</td><td>æµè§ˆå™¨ / çº¯ Web ç¯å¢ƒ</td><td>âŒ æ—  <code>std</code></td><td>âœ… æµè§ˆå™¨æœ€å¸¸ç”¨ç›®æ ‡ï¼Œé…åˆ <code>wasm-bindgen</code></td></tr><tr><td><strong><code>wasm64-unknown-unknown</code></strong></td><td>64 ä½</td><td>æµè§ˆå™¨ï¼ˆæœªæ¥æ ‡å‡†ï¼‰</td><td>âŒ æ—  <code>std</code></td><td>ğŸ§ª å®éªŒä¸­ï¼Œæ”¯æŒ 64 ä½å¯»å€ï¼ˆ&gt;4GB å†…å­˜ï¼‰</td></tr><tr><td><strong><code>wasm32-wasi</code></strong></td><td>32 ä½</td><td>æœåŠ¡ç«¯ / CLI</td><td>âœ… æœ‰ <code>std</code></td><td>âœ… æ”¯æŒæ–‡ä»¶ã€ç¯å¢ƒå˜é‡ã€socket</td></tr><tr><td><strong><code>wasm64-wasi</code></strong></td><td>64 ä½</td><td>æœåŠ¡ç«¯ / CLI</td><td>âœ… æœ‰ <code>std</code></td><td>ğŸ§ª æ–°å…´ï¼ŒWASI 64-bit æ”¯æŒå¤§å†…å­˜æœåŠ¡</td></tr><tr><td><strong><code>wasm32-unknown-emscripten</code></strong></td><td>32 ä½</td><td>æµè§ˆå™¨ (æ—§æ–¹æ¡ˆ)</td><td>âœ… æœ‰ <code>std</code></td><td>âš ï¸ å·²è¿‡æ—¶ï¼Œä½“ç§¯å¤§ï¼Œä¾èµ– JS runtime</td></tr></tbody></table>
<p><strong>å¦‚æœæ˜¯æµè§ˆå™¨åŠ è½½ï¼Œæ— è„‘<code>wasm32-unknown-unknown</code></strong></p>
<h3 data-id="heading-11">crate-type</h3>
<p>ä¸Šæ–‡åœ¨tomlæ–‡ä»¶ä¸­æœ‰å¦‚ä¸‹é…ç½®ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[lib]</span>
<span class="hljs-attr">crate-type</span> = [<span class="hljs-string">"cdylib"</span>, <span class="hljs-string">"rlib"</span>]
</code></pre>
<p>å¯èƒ½æœ‰äººä¼šé—®ï¼š<strong>ä»€ä¹ˆæ˜¯crate-type</strong></p>
<p>åœ¨ Rust ä¸­ï¼Œä¸€ä¸ª crateï¼ˆåŒ…ï¼‰å¯ä»¥è¢«ç¼–è¯‘æˆå¤šç§å½¢å¼ï¼š</p>
<ul>
<li>å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆ<code>bin</code>ï¼‰</li>
<li>é™æ€åº“ï¼ˆ<code>staticlib</code>ï¼‰</li>
<li>åŠ¨æ€åº“ï¼ˆ<code>dylib</code> / <code>cdylib</code>ï¼‰</li>
<li>Rust åº“æ–‡ä»¶ï¼ˆ<code>rlib</code>ï¼‰</li>
<li>WebAssembly æ¨¡å—ï¼ˆé€šè¿‡ <code>cdylib</code> æˆ– <code>wasm32-*</code> ç›®æ ‡ï¼‰</li>
</ul>
<p><code>crate-type</code> å°±æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ â€œæˆ‘è¦ç”Ÿæˆå“ªç§ç±»å‹çš„è¾“å‡ºâ€ã€‚</p>
<hr/>
<p>ä¸»è¦ç±»å‹è¯´æ˜:</p>



































<table><thead><tr><th>ç±»å‹</th><th>è¯´æ˜</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong><code>rlib</code></strong></td><td>Rust ä¸“ç”¨é™æ€åº“æ ¼å¼ï¼ˆé»˜è®¤ï¼‰</td><td>âœ… ä¾›å…¶ä»– Rust crate ä¾èµ–</td></tr><tr><td><strong><code>cdylib</code></strong></td><td>C-compatible åŠ¨æ€åº“ï¼ˆ<strong>æ¨èç”¨äº FFI / WASM</strong>ï¼‰</td><td>âœ… ç”¨äºå¯¼å‡ºå‡½æ•°ç»™å…¶ä»–è¯­è¨€ï¼ˆC, Python, JSç­‰ï¼‰</td></tr><tr><td><strong><code>dylib</code></strong></td><td>Rust åŠ¨æ€åº“ï¼ˆå¸¦ Rust å…ƒæ•°æ®ï¼‰</td><td>âš ï¸ è¾ƒå°‘ä½¿ç”¨ï¼Œåªèƒ½è¢« Rust åŠ è½½</td></tr><tr><td><strong><code>staticlib</code></strong></td><td>çº¯é™æ€åº“ï¼ˆ.aï¼‰</td><td>âœ… æ–¹ä¾¿åµŒå…¥ C/C++ ç¨‹åº</td></tr><tr><td><strong><code>bin</code></strong></td><td>å¯æ‰§è¡Œç¨‹åº</td><td>ç”¨äº CLI åº”ç”¨</td></tr></tbody></table>
<h3 data-id="heading-12">è‡ªå®šä¹‰ç±»å‹çš„å¯¼å‡ºé—®é¢˜</h3>
<p>å¦‚æœå¯¼å‡ºçš„å‡½æ•°é‡Œæœ‰è‡ªå®šä¹‰ç±»å‹ï¼Œæ¯”å¦‚ä¸‹é¢ä»£ç ï¼Œå°±ä¼šæç¤º</p>
<blockquote>
<p>the trait bound <code>CurveFitConfig: FromWasmAbi</code> is not satisfiedâ€</p>
</blockquote>
<p>æ¯”å¦‚ä¸‹é¢è¿™æ®µä»£ç ï¼š</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-meta">#[wasm_bindgen]</span> 
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">curve_fitting</span>(x: <span class="hljs-type">f64</span>, config: CurveFitConfig) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;<span class="hljs-type">f64</span>&gt; {
...
}
</code></pre>
<p>è¿™é‡Œæœ€ä½³çš„è§£å†³åŠæ³•æ˜¯<strong>JsValueå’Œserde-wasm-bindgen</strong>,ä¿æŒåŸå‡½æ•°ä¸å˜ï¼Œå¦å¯¼å‡ºä¸€ä¸ªç»™jsè°ƒç”¨çš„å‡½æ•°ã€‚</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> serde_wasm_bindgen::from_value;

<span class="hljs-meta">#[wasm_bindgen]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">fn</span> <span class="hljs-title function_">curve_fitting_wasm</span>(x: <span class="hljs-type">f64</span>, config: JsValue) <span class="hljs-punctuation">-&gt;</span> <span class="hljs-type">Option</span>&lt;<span class="hljs-type">f64</span>&gt; {
    <span class="hljs-keyword">let</span> <span class="hljs-keyword"/><span class="hljs-variable">cfg</span>: CurveFitConfig = <span class="hljs-title function_ invoke__">from_value</span>(config).<span class="hljs-title function_ invoke__">ok</span>()?;
    <span class="hljs-title function_ invoke__">curve_fitting</span>(x, cfg)
}
</code></pre>
<p>å¯¹ç›¸åº”çš„ç±»å‹å¢åŠ åºåˆ—åŒ–å®</p>
<pre><code class="hljs language-rust" lang="rust"><span class="hljs-keyword">use</span> serde::{Deserialize, Serialize};

<span class="hljs-meta">#[derive(Serialize, Deserialize)]</span>
<span class="hljs-keyword">pub</span> <span class="hljs-keyword">struct</span> <span class="hljs-title class_">CurveFitConfig</span> {
   ...
}

</code></pre>
<h3 data-id="heading-13">wasmå¯¼å‡ºå‡½æ•°çš„æµ‹è¯•é—®é¢˜</h3>
<p>wasmå¯¼å‡ºå‡½æ•°ï¼Œå¦‚æœæ˜¯åœ¨rustç¯å¢ƒé‡Œæµ‹è¯•ï¼Œä¼šæŠ¥é”™</p>
<blockquote>
<p>cannot call wasm-bindgen imported functions on non-wasm targets</p>
</blockquote>
<p>æœ€ä½³å®è·µå°±æ˜¯åˆ†å±‚è®¾è®¡ï¼Œå•ç‹¬å†™wasmå¯¼å‡ºå‡½æ•°ï¼š</p>
<ul>
<li>æ ¸å¿ƒé€»è¾‘ä¸ JS ç»‘å®šåˆ†ç¦»</li>
<li>æ™®é€š Rust æµ‹è¯•ä¸ä¾èµ– wasm</li>
<li>wasm å‡½æ•°åªæ˜¯ä¸€ä¸ªâ€œå¤–å±‚åŒ…è£…å™¨â€</li>
</ul>
<h3 data-id="heading-14">wasm-bindgen</h3>
<p>å¦‚æœä½ çœ‹è¿‡ä¸Šä¸€ç¯‡æ–‡ç« <a href="https://juejin.cn/user/976022056218471/posts" target="_blank" title="https://juejin.cn/user/976022056218471/posts">ã€Š# WebAssemblyå…¥é—¨ï¼ˆä¸€ï¼‰â€”â€”Emscriptenã€‹</a>å¯èƒ½äº†è§£èƒ¶æ°´ä»£ç çš„æ¦‚å¿µï¼Œwasm-bindgenå°±æ˜¯æä¾›jså’Œrustäº¤äº’çš„èƒ¶æ°´ä»£ç ç”¨çš„ã€‚</p>
<p>å…¶æ ¸å¿ƒåŠŸèƒ½å¦‚ä¸‹ï¼š</p>
<ul>
<li>â€Œ<strong>ç±»å‹è½¬æ¢</strong>â€Œï¼š<code>wasm-bindgen</code>Â è‡ªåŠ¨å¤„ç† Rust å’Œ JavaScript ä¹‹é—´çš„ç±»å‹è½¬æ¢ï¼Œä¾‹å¦‚å°† Rust çš„å­—ç¬¦ä¸²ã€æ•°ç»„ã€ç»“æ„ä½“ç­‰æ˜ å°„ä¸º JavaScript ä¸­çš„å¯¹åº”ç±»å‹ã€‚</li>
<li>â€Œ<strong>å¯¼å‡ºä¸å¯¼å…¥å‡½æ•°</strong>â€Œï¼šé€šè¿‡ä½¿ç”¨Â <code>#[wasm_bindgen]</code>Â å±æ€§å®ï¼Œå¼€å‘è€…å¯ä»¥è½»æ¾åœ°å°† Rust å‡½æ•°å¯¼å‡ºç»™ JavaScript è°ƒç”¨ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åœ¨ Rust ä¸­å¯¼å…¥ JavaScript å‡½æ•°ã€‚</li>
<li>â€Œ<strong>å†…å­˜ç®¡ç†</strong>â€Œï¼šå¯¹äºå¤æ‚ç±»å‹å¦‚å­—ç¬¦ä¸²æˆ– DOM å¯¹è±¡ï¼Œ<code>wasm-bindgen</code>Â ä¼šè‡ªåŠ¨ç®¡ç†å…¶ç”Ÿå‘½å‘¨æœŸï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</li>
<li>â€Œ<strong>å¼‚æ­¥æ”¯æŒ</strong>â€Œï¼šå®ƒæ”¯æŒå¼‚æ­¥ Rust ä»£ç ï¼Œå¹¶èƒ½ä¸ JavaScript çš„å¼‚æ­¥æœºåˆ¶ååŒå·¥ä½œã€‚</li>
<li>â€Œ<strong>äº‹ä»¶ä¸å›è°ƒ</strong>â€Œï¼šæ”¯æŒå®šä¹‰å’Œä½¿ç”¨ JavaScript çš„äº‹ä»¶å¤„ç†å™¨å’Œå›è°ƒå‡½æ•°ã€‚</li>
</ul>
<h4 data-id="heading-15">initå‡½æ•°</h4>
<p>åœ¨ä½¿ç”¨Â <code>wasm-pack</code>Â æ‰“åŒ… Rust ç¼–å†™çš„ WebAssembly æ¨¡å—æ—¶ï¼Œç”Ÿæˆçš„ JavaScript èƒ¶æ°´ä»£ç ä¸­ä¼šåŒ…å«ä¸€ä¸ªåä¸ºÂ <code>init</code>Â çš„å¼‚æ­¥å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°æ˜¯ WebAssembly æ¨¡å—åŠ è½½å’Œåˆå§‹åŒ–çš„æ ¸å¿ƒå…¥å£ï¼Œå®ƒè´Ÿè´£å®Œæˆä»¥ä¸‹å…³é”®ä»»åŠ¡ï¼š</p>
<ul>
<li>â€Œ<strong>å¼‚æ­¥åŠ è½½Â <code>.wasm</code>Â æ–‡ä»¶</strong>â€Œï¼šé€šè¿‡Â <code>fetch</code>Â æˆ–Â <code>import</code>Â åŠ¨æ€åŠ è½½ç¼–è¯‘åçš„ WebAssembly äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</li>
<li>â€Œ<strong>å®ä¾‹åŒ– Wasm æ¨¡å—</strong>â€Œï¼šå°†åŠ è½½çš„å­—èŠ‚ç ä¼ é€’ç»™æµè§ˆå™¨çš„ WebAssembly APIï¼Œåˆ›å»ºå¯æ‰§è¡Œçš„æ¨¡å—å®ä¾‹ã€‚</li>
<li>â€Œ<strong>ç»‘å®š JavaScript æ¥å£</strong>â€Œï¼šè¿æ¥ç”±Â <code>#[wasm_bindgen]</code>Â æ ‡è®°çš„ Rust å‡½æ•°ä¸ JavaScript ç¯å¢ƒï¼Œä½¿å®ƒä»¬èƒ½è¢«ç›´æ¥è°ƒç”¨ã€‚</li>
<li>â€Œ<strong>åˆå§‹åŒ–å†…å­˜ä¸å…¨å±€çŠ¶æ€</strong>â€Œï¼šè®¾ç½® Wasm æ¨¡å—çš„çº¿æ€§å†…å­˜ã€å¯¼å‡ºçš„å…¨å±€å˜é‡å’Œå†…éƒ¨çŠ¶æ€ï¼Œç¡®ä¿æ¨¡å—è¿è¡Œæ—¶ç¯å¢ƒå°±ç»ªã€‚</li>
</ul>
<p><code>init</code>Â å‡½æ•°è¿”å›ä¸€ä¸ªÂ <code>Promise</code>ï¼Œå› æ­¤åœ¨ä½¿ç”¨æ—¶å¿…é¡»ä½¿ç”¨Â <code>await</code>Â æˆ–Â <code>.then()</code>Â ç­‰å¾…å…¶å®Œæˆã€‚åªæœ‰åœ¨Â <code>init()</code>Â æˆåŠŸè§£æåï¼Œä½ æ‰èƒ½å®‰å…¨åœ°è°ƒç”¨ä»»ä½•ä» Rust å¯¼å‡ºçš„å‡½æ•°ã€‚</p>
<p>initçš„promiseè¿”å›å€¼ä¸­ä¹Ÿå¯ä»¥è·å–åˆ°å¯¼å‡ºçš„å‡½æ•°
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/32bb262be2b34924be9334a8e89f519a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769771059&amp;x-signature=4YCvLiSNVTth3xEYW4vloy%2FjRgg%3D" alt="image.png" loading="lazy"/></p>
<p>initå‡½æ•°ï¼Œ<strong>åˆæ¬¡æ‰§è¡Œå®Œæˆåï¼Œå¯ä»¥é‡å¤æ‰§è¡Œï¼Œæ²¡æœ‰å‰¯ä½œç”¨</strong>ï¼Œè¿™ä¸€ç‚¹å¾ˆå¤šaiéƒ½å›ç­”çš„ä¸å¯¹ï¼Œä½†å¦‚æœåˆæ¬¡åŠ è½½æ—¶åŒæ—¶æ‰§è¡Œå¤šæ¬¡ï¼Œå°±ä¼šåˆ›å»ºå¤šä¸ªwasm instanceã€‚
<img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0a8293b57022408c91078f0d3cbae7d8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5biD5YiX55Gf5Yac55qE5pif56m6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769771059&amp;x-signature=TYD4Lo2Sw1H1FFAmmKx%2BPx22Z0A%3D" alt="image.png" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»¿æ™®è´´æ ‡ç­¾å®ç°ä¸€ä¸ªè‡ªå·±çš„app_æ¥ç€å†™]]></title>    <link>https://juejin.cn/post/7598193992829141046</link>    <guid>https://juejin.cn/post/7598193992829141046</guid>    <pubDate>2026-01-23T11:21:15.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598193992829141046" data-draft-id="7598193992829091894" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»¿æ™®è´´æ ‡ç­¾å®ç°ä¸€ä¸ªè‡ªå·±çš„app_æ¥ç€å†™"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T11:21:15.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«æŸ´å°±æ˜¯æˆ‘"/> <meta itemprop="url" content="https://juejin.cn/user/272334614705575"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»¿æ™®è´´æ ‡ç­¾å®ç°ä¸€ä¸ªè‡ªå·±çš„app_æ¥ç€å†™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/272334614705575/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«æŸ´å°±æ˜¯æˆ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T11:21:15.000Z" title="Fri Jan 23 2026 11:21:15 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å·²ç»å®ç°çš„åŠŸèƒ½
<a href="https://juejin.cn/post/7581769891499032595" target="_blank" title="https://juejin.cn/post/7581769891499032595">juejin.cn/post/758176â€¦</a></p>
<p>æ–°åŠŸèƒ½:</p>
<p>1 <code>æ”¯æŒè¡¨æ ¼ çº¿æ¡ä¿å­˜</code></p>
<p>2 <code>ä¿®å¤ä¸€äº›bug æ¯”å¦‚æ—‹è½¬ä¹‹åéƒ¨åˆ†åŒºåŸŸä¸å“åº”äº‹ä»¶</code></p>
<p>3 <code>è§£å†³ä¿®æ”¹æ›´æ–°åï¼Œåˆ—è¡¨çš„å›¾ç‰‡æ²¡æœ‰åŠæ—¶åˆ·æ–°ï¼ˆå› ä¸ºè·¯å¾„ä¸€ç›´æœ‰ç¼“å­˜ï¼‰</code></p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c341470293c747278e939e7face773e0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5p-05bCx5piv5oiR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769772075&amp;x-signature=G6tWaQi4bjHDtYDo2QzXVhdc%2F6A%3D" alt="image.png" width="30%" loading="lazy"/>
<p>ä½“éªŒåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FnewPersonKing%2Fflutter_label" target="_blank" title="https://github.com/newPersonKing/flutter_label" ref="nofollow noopener noreferrer">github.com/newPersonKiâ€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[2026å¹´ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šç¦»ä¸å¼€NestJS + Monorepo]]></title>    <link>https://juejin.cn/post/7598355220830322740</link>    <guid>https://juejin.cn/post/7598355220830322740</guid>    <pubDate>2026-01-23T11:40:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598355220830322740" data-draft-id="7598355220830306356" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="2026å¹´ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šç¦»ä¸å¼€NestJS + Monorepo"/> <meta itemprop="keywords" content="å‰ç«¯,AIç¼–ç¨‹,NestJS"/> <meta itemprop="datePublished" content="2026-01-23T11:40:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç‰›å¥¶"/> <meta itemprop="url" content="https://juejin.cn/user/1169536100866487"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            2026å¹´ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šç¦»ä¸å¼€NestJS + Monorepo
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1169536100866487/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç‰›å¥¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T11:40:08.000Z" title="Fri Jan 23 2026 11:40:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»16åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:14px;overflow-x:hidden;color:var(--cyanosis-base-color);transition:color .35s;--cyanosis-base-color:#353535;--cyanosis-title-color:#005bb7;--cyanosis-strong-color:#2196f3;--cyanosis-em-color:#4fc3f7;--cyanosis-del-color:#ccc;--cyanosis-link-color:#3da8f5;--cyanosis-linkh-color:#007fff;--cyanosis-border-color:#bedcff;--cyanosis-border-color-2:#ececec;--cyanosis-bg-color:#fff;--cyanosis-blockquote-color:#8c8c8c;--cyanosis-blockquote-bg-color:#f0fdff;--cyanosis-code-color:#c2185b;--cyanosis-code-bg-color:#fff4f4;--cyanosis-code-pre-color:#f8f8f8;--cyanosis-table-border-color:#c3e0fd;--cyanosis-table-th-color:#dff0ff;--cyanosis-table-tht-color:#005bb7;--cyanosis-table-tr-nc-color:#f7fbff;--cyanosis-table-trh-color:#e0edf7;--cyanosis-slct-title-color:#005bb7;--cyanosis-slct-titlebg-color:rgba(175,207,247,0.25);--cyanosis-slct-text-color:#c80000;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#e8ebec;--cyanosis-slct-codebg-color:#ffeaeb;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body.__dark{--cyanosis-base-color:#cacaca;--cyanosis-title-color:#ddd;--cyanosis-strong-color:#fe9900;--cyanosis-em-color:#ffd28e;--cyanosis-del-color:#ccc;--cyanosis-link-color:#ffb648;--cyanosis-linkh-color:#fe9900;--cyanosis-border-color:#ffe3ba;--cyanosis-border-color-2:#ffcb7b;--cyanosis-bg-color:#2f2f2f;--cyanosis-blockquote-color:#c7c7c7;--cyanosis-blockquote-bg-color:rgba(255,199,116,0.1);--cyanosis-code-color:#000;--cyanosis-code-bg-color:#ffcb7b;--cyanosis-code-pre-color:rgba(255,227,185,0.5);--cyanosis-table-border-color:#fe9900;--cyanosis-table-th-color:#ffb648;--cyanosis-table-tht-color:#000;--cyanosis-table-tr-nc-color:#6d5736;--cyanosis-table-trh-color:#947443;--cyanosis-slct-title-color:#000;--cyanosis-slct-titlebg-color:#fe9900;--cyanosis-slct-text-color:#00c888;--cyanosis-slct-bg-color:rgba(175,207,247,0.25);--cyanosis-slct-del-color:#999;--cyanosis-slct-elbg-color:#000;--cyanosis-slct-codebg-color:#ffcb7b;--cyanosis-slct-prebg-color:rgba(160,200,255,0.25)}.markdown-body h1{padding-bottom:4px;font-size:30px}.markdown-body h1,.markdown-body h2{margin-top:36px;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);transition:color .35s}.markdown-body h2{position:relative;padding-left:10px;padding-right:10px;padding-bottom:10px;font-size:24px;border-bottom:1px solid var(--cyanosis-border-color-2)}.markdown-body h2:before{content:"ã€Œ";position:absolute;top:-6px;left:-14px}.markdown-body h2:after{content:"ã€";position:relative;top:6px;right:auto}.markdown-body h3{position:relative;padding-bottom:0;margin-top:30px;margin-bottom:10px;font-size:20px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h3:before{content:"Â»";padding-right:6px;color:var(--cyanosis-strong-color)}.markdown-body h4{margin-top:24px;font-size:16px}.markdown-body h4,.markdown-body h5{padding-bottom:0;margin-bottom:10px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body h5{margin-top:18px;font-size:14px}.markdown-body h6{padding-bottom:0;margin-top:12px;margin-bottom:10px;font-size:12px;line-height:1.5;color:var(--cyanosis-title-color);padding-left:6px;transition:color .35s}.markdown-body p{line-height:inherit;margin-top:16px;margin-bottom:16px}.markdown-body img{max-width:100%}.markdown-body hr{position:relative;width:98%;height:1px;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,var(--cyanosis-link-color),rgba(255,0,0,.3),hsla(0,0%,100%,.1),rgba(255,0,0,.3),var(--cyanosis-link-color));border-width:0;overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background-color:var(--cyanosis-bg-color);background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center;transition:background-color .5s}.markdown-body code{padding:.065em .4em;font-size:.87em;color:var(--cyanosis-code-color);word-break:break-word;overflow-x:auto;background-color:var(--cyanosis-code-bg-color);border-radius:2px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{display:block;padding:16px 12px;margin:0;font-size:12px;color:#333;word-break:normal;overflow-x:auto;background:var(--cyanosis-code-pre-color)}.markdown-body pre&gt;code::-webkit-scrollbar{width:4px;height:4px}.markdown-body pre&gt;code::-webkit-scrollbar-track{background-color:var(--cyanosis-border-color)}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:var(--cyanosis-strong-color);border-radius:10px}.markdown-body a{position:relative;text-decoration:none;color:var(--cyanosis-link-color);border-bottom:1px solid var(--cyanosis-border-color)}.markdown-body a:hover{border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body a:active,.markdown-body a:hover{color:var(--cyanosis-linkh-color)}.markdown-body a:after{position:absolute;content:"";top:100%;left:0;width:100%;opacity:0;border-bottom:1px solid var(--cyanosis-border-color);transition:top .3s,opacity .3s;transform:translateZ(0)}.markdown-body a:hover:after{top:0;opacity:1;border-bottom-color:var(--cyanosis-linkh-color)}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid var(--cyanosis-table-border-color);border-spacing:0;border-collapse:collapse}.markdown-body table thead{color:#000;text-align:left;font-size:14px;background:#f6f6f6}.markdown-body table tr:nth-child(2n){background-color:var(--cyanosis-table-tr-nc-color)}.markdown-body table tr:hover{background-color:var(--cyanosis-table-trh-color)}.markdown-body table td,.markdown-body table th{padding:12px 8px;line-height:24px;border:1px solid var(--cyanosis-table-border-color)}.markdown-body table th{color:var(--cyanosis-table-tht-color);background-color:var(--cyanosis-table-th-color)}.markdown-body table td{min-width:120px}.markdown-body blockquote{color:var(--cyanosis-blockquote-color);border-left:4px solid var(--cyanosis-strong-color);background-color:var(--cyanosis-blockquote-bg-color);padding:1px 20px;margin:22px 0;transition:color .35s}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body b,.markdown-body blockquote&gt;b,.markdown-body blockquote&gt;strong,.markdown-body strong{color:var(--cyanosis-strong-color)}.markdown-body em,.markdown-body i{color:var(--cyanosis-em-color)}.markdown-body del{color:var(--cyanosis-del-color)}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:4px}.markdown-body ol li{padding-left:6px}.markdown-body details&gt;summary{outline:none;color:var(--cyanosis-title-color);font-size:20px;font-weight:bolder;border-bottom:1px solid var(--cyanosis-border-color);cursor:pointer}.markdown-body details&gt;p{padding:10px 20px;margin:10px 0 0;color:#666;background-color:var(--cyanosis-blockquote-bg-color);border:2px dashed var(--cyanosis-strong-color)}.markdown-body h1::selection,.markdown-body h2::selection,.markdown-body h3::selection,.markdown-body h4::selection,.markdown-body h5::selection,.markdown-body h6::selection{color:var(--cyanosis-slct-title-color);background-color:var(--cyanosis-slct-titlebg-color)}.markdown-body ol li::selection,.markdown-body p::selection,.markdown-body ul li::selection{color:var(--cyanosis-slct-text-color);background-color:var(--cyanosis-slct-bg-color)}.markdown-body a::selection,.markdown-body b::selection,.markdown-body em::selection,.markdown-body i::selection,.markdown-body strong::selection{background-color:var(--cyanosis-slct-elbg-color)}.markdown-body del::selection{color:var(--cyanosis-slct-del-color);background-color:var(--cyanosis-slct-elbg-color)}.markdown-body table thead th::selection{background-color:transparent}.markdown-body table tbody td::selection{background-color:var(--cyanosis-slct-bg-color)}.markdown-body code::selection{background-color:var(--cyanosis-slct-codebg-color)}.markdown-body pre&gt;code::selection{background-color:var(--cyanosis-slct-prebg-color)}.markdown-body .contains-task-list{padding-left:14px;list-style:none}.markdown-body .contains-task-list input[type=checkbox]{position:relative}.markdown-body .contains-task-list input[type=checkbox]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;width:inherit;height:inherit;background:#f0f8ff;border:1px solid #add6ff;border-radius:2px;box-sizing:border-box;z-index:1}.markdown-body .contains-task-list input[type=checkbox]:checked:after{content:"âœ“";position:absolute;top:-12px;left:0;right:0;bottom:0;width:0;height:0;color:#f55;font-size:20px;font-weight:700;z-index:2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="atom-one-dark">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#abb2bf;background:#282c34}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style><h2 data-id="heading-0">2026å¹´ï¼Œæˆ‘ä¸ºä»€ä¹ˆè¶Šæ¥è¶Šç¦»ä¸å¼€ <code>NestJS</code> + <code>Monorepo</code></h2>
<p>2026 å¹´ï¼Œ<code>AI</code> è¾…åŠ©å¼€å‘å·¥å…·å·²ç»å½»åº•èå…¥äº†æ—¥å¸¸å†™ä»£ç çš„èŠ‚å¥ã€‚<code>Cursor</code>ã€<code>Claude Code</code>ã€<code>Trae</code>â€¦â€¦å®ƒä»¬ä¸å†æ˜¯å¶å°”ç”¨çš„æ’ä»¶ï¼Œè€Œæ˜¯æ¯å¤©æ‰“å¼€ <code>IDE</code> åç¬¬ä¸€ä¸ªè·³å‡ºæ¥çš„â€œé˜Ÿå‹â€ã€‚</p>
<p>ç”¨å¾—è¶Šå¤šï¼Œè¶Šèƒ½æ„Ÿå—åˆ°ä¸€ç§å¾®å¦™çš„è½å·®ï¼šå·¥å…·æœ¬èº«è¶Šæ¥è¶Šèªæ˜ï¼Œç”Ÿæˆçš„ä»£ç å´å¸¸å¸¸åœ¨ç»†èŠ‚ä¸Šå‡ºé—®é¢˜ã€‚ä¾èµ–æ²¡å¯¼å…¥ã€è§„èŒƒè¢«å¿½ç•¥ã€ç±»å‹å¯¹ä¸ä¸Šã€<code>UI</code> çš„é£æ ¼ä¸ç»Ÿä¸€â€¦â€¦è¿™äº›å°æ¯›ç—…åŠ èµ·æ¥ï¼Œè®© <code>review</code> çš„æ—¶é—´æ¯”ç”Ÿæˆä»£ç çš„æ—¶é—´è¿˜é•¿ã€‚æœ‰æ—¶å€™æˆ‘ç”šè‡³ä¼šæƒ³ï¼š<code>AI</code> æ˜æ˜èƒ½å†™å‡º 70% çš„å†…å®¹ï¼Œä¸ºä»€ä¹ˆå‰©ä¸‹çš„ 30% å´è®©æˆ‘è¿™ä¹ˆç´¯ï¼Ÿ</p>
<p>åæ¥æˆ‘æ…¢æ…¢æ„è¯†åˆ°ï¼Œé—®é¢˜ä¸å…¨åœ¨å·¥å…·ï¼Œè€Œåœ¨â€œèˆå°â€ã€‚ç»™ <code>AI</code> ä¸€ä¸ªç»“æ„æ¾æ•£ã€ä¸Šä¸‹æ–‡ç¢ç‰‡çš„é¡¹ç›®ï¼Œå®ƒå†æ€ä¹ˆåŠªåŠ›ï¼Œä¹Ÿå®¹æ˜“å‡ºé”™ï¼›ç»™å®ƒä¸€ä¸ªè¾¹ç•Œæ¸…æ™°ã€ç±»å‹å¼ºã€æ¨¡å—åˆ†æ˜çš„é¡¹ç›®ï¼Œå®ƒçš„ç¬¬ä¸€è½®è¾“å‡ºå¾€å¾€å°±èƒ½ç›´æ¥ <code>merge</code>ã€‚</p>
<p><code>NestJS</code> + <code>Monorepo</code>ï¼ˆä»¥ <code>Turborepo</code> ä¸ºä¸»ï¼‰å°±æ˜¯æˆ‘ç›®å‰æ‰¾åˆ°çš„æœ€èˆ’æœçš„èˆå°ã€‚å®ƒæ²¡æœ‰å¤ªå¤šèŠ±å“¨çš„æ–°æ¦‚å¿µï¼Œå´åœ¨ <code>AI</code> æ—¶ä»£æŠŠâ€œç»“æ„å³ç”Ÿäº§åŠ›â€è¿™ä»¶äº‹åšåˆ°äº†æè‡´ã€‚</p>
<p>ç”¨è¿™ä¸ªç»„åˆåï¼Œæˆ‘å‘ç° <code>accept</code> èƒ½ç¨³å®šåœ¨ 70% ä»¥ä¸Šï¼Œé‡æ„å’Œæ‰©å±•çš„æˆæœ¬å¤§å¹…é™ä½ï¼Œå…¨æ ˆåå‰ç«¯çš„ä½“éªŒä¹Ÿå˜å¾—å¼‚å¸¸é¡ºæ»‘ã€‚ä¸æ˜¯å› ä¸ºå®ƒå®Œç¾æ— ç¼ºï¼Œè€Œæ˜¯å› ä¸ºå®ƒè®© <code>AI</code> å’Œæˆ‘ä¹‹é—´çš„é…åˆï¼Œå°‘äº†å¾ˆå¤šäº’ç›¸æŠ˜è…¾ï¼Œå¤šäº†ä¸€äº›å®‰é™çš„é»˜å¥‘ã€‚</p>
<h3 data-id="heading-1"><code>AI</code> è¾…åŠ©å¼€å‘çš„è¶‹åŠ¿</h3>
<p>2026 å¹´ï¼Œå¼€å‘è€…ä½¿ç”¨ <code>AI</code> è¾…åŠ©å¼€å‘çš„æ¯”ä¾‹å·²ç»è¾¾åˆ°äº†ä¸€ä¸ªéå¸¸é«˜çš„æ°´å¹³ã€‚æ ¹æ®å„ç§ç¤¾åŒºè°ƒæŸ¥ã€<code>GitHub</code> æ•°æ®å’Œå¼€å‘è€…è®ºå›çš„åé¦ˆï¼Œç»å¤§å¤šæ•°æ´»è·ƒå¼€å‘è€…ï¼ˆå°¤å…¶æ˜¯å‰ç«¯ã€å…¨æ ˆã€<code>Node.js</code> ç”Ÿæ€ï¼‰éƒ½å·²ç»æŠŠ <code>AI</code> å·¥å…·å½“ä½œæ—¥å¸¸æ ‡é…ã€‚</p>
<ul>
<li>è¶…è¿‡ 80% çš„å¼€å‘è€…æ¯å¤©è‡³å°‘ä½¿ç”¨ä¸€æ¬¡ <code>AI</code> ç¼–ç å·¥å…·ï¼ˆ<code>Cursor</code>ã€<code>Trae</code>ã€<code>Claude Code</code>ã€<code>GitHub Copilot</code>ã€<code>Windsurf</code>ã€<code>Aider</code> ç­‰ï¼‰ã€‚</li>
<li>åœ¨ <code>TypeScript</code> / <code>JavaScript</code> é¡¹ç›®ä¸­ï¼Œè¿™ä¸ªæ¯”ä¾‹æ›´é«˜ï¼Œæ¥è¿‘ 90%ï¼Œå› ä¸ºå¼ºç±»å‹å’Œç»“æ„åŒ–ä»£ç è®© <code>AI</code> çš„è¾“å‡ºæ›´å¯é ã€‚</li>
<li>å¾ˆå¤šä¸­é«˜çº§å¼€å‘è€…å·²ç»æŠŠâ€œå…ˆè®© <code>AI</code> å†™åˆç¨¿ â†’ æˆ‘ <code>review</code> &amp; å¾®è°ƒâ€ä½œä¸ºé»˜è®¤å·¥ä½œæµï¼Œè€Œä¸æ˜¯â€œè‡ªå·±ä»é›¶å†™â€ã€‚</li>
</ul>
<p>ä¸ºä»€ä¹ˆå¤§å®¶è¶Šæ¥è¶Šå–œæ¬¢ç”¨ <code>AI</code> è¾…åŠ©å¼€å‘ï¼Ÿæ ¸å¿ƒåŸå› å¯ä»¥æ€»ç»“ä¸ºä¸‰ç‚¹ï¼š</p>
<ol>
<li>
<p><strong>æ•ˆç‡æå‡æ˜æ˜¾ä¸”å¯æ„ŸçŸ¥</strong><br/>
å†™ <code>boilerplate</code>ã€<code>CRUD</code> æ¥å£ã€ç±»å‹å®šä¹‰ã€æµ‹è¯•ç”¨ä¾‹ã€ç”šè‡³ä¸€äº›ä¸šåŠ¡é€»è¾‘çš„åˆç‰ˆï¼Œ<code>AI</code> éƒ½èƒ½åœ¨å‡ åç§’å†…å®Œæˆã€‚å¼€å‘è€…æŠŠæ—¶é—´ä»â€œé‡å¤åŠ³åŠ¨â€è½¬ç§»åˆ°â€œæ€è€ƒä¸šåŠ¡ã€è®¾è®¡æ¶æ„ã€ä¼˜åŒ–æ€§èƒ½ã€å®‰å…¨å®¡æŸ¥â€è¿™äº›æ›´æœ‰ä»·å€¼çš„éƒ¨åˆ†ã€‚</p>
</li>
<li>
<p><strong>å·¥å…·ä½“éªŒè¶Šæ¥è¶Šâ€œåƒäººâ€</strong><br/>
2026 å¹´çš„ <code>Cursor</code> å’Œ <code>Claude Code</code> å·²ç»èƒ½å¾ˆå¥½åœ°ç†è§£é¡¹ç›®ä¸Šä¸‹æ–‡ï¼š</p>
<ul>
<li><code>Cursor</code> çš„ <code>Composer</code> æ¨¡å¼å¯ä»¥ä¸€æ¬¡æ€§ä¿®æ”¹å¤šä¸ªæ–‡ä»¶ï¼Œå¹¶ä¿æŒä¸€è‡´æ€§ã€‚</li>
<li><code>Claude Code</code> çš„ <code>agentic</code> èƒ½åŠ›å…è®¸å®ƒâ€œå…ˆè¯»ä»£ç  â†’ åˆ†æéœ€æ±‚ â†’ è§„åˆ’æ­¥éª¤ â†’ å†™ä»£ç  â†’ è‡ªæµ‹ â†’ æäº¤â€ã€‚</li>
<li>å¾ˆå¤šå¼€å‘è€…åé¦ˆï¼šç°åœ¨è®© <code>AI</code> å†™ä¸€ä¸ªå®Œæ•´çš„ <code>feature</code>ï¼ˆå‰åç«¯ + ç±»å‹ + æµ‹è¯•ï¼‰ï¼ŒæˆåŠŸç‡å·²ç»èƒ½ç¨³å®šåœ¨ 60â€“80%ï¼Œè¿œé«˜äº 2024 å¹´çš„ 30â€“40%ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç¤¾åŒºä¸ç”Ÿæ€çš„æ­£åé¦ˆå¾ªç¯</strong><br/>
è¶Šæ¥è¶Šå¤šé¡¹ç›®å…¬å¼€åˆ†äº« <code>.cursorrules</code>ã€<code>CLAUDE.md</code>ã€<code>prompt</code> æ¨¡æ¿ã€<code>boilerplate</code>ã€‚<br/>
å¼€å‘è€…çœ‹åˆ°åˆ«äººç”¨ <code>AI</code> æŠŠä¸€ä¸ªä¸­å‹ <code>SaaS</code> åç«¯ä¸€å‘¨å†…æ­å‡ºæ¥ï¼Œå°±ä¼šæƒ³â€œæˆ‘ä¹Ÿè¯•è¯•â€ã€‚<br/>
è¿™ç§â€œçœ‹åˆ°åˆ«äººç”¨å¾—å¥½ â†’ æˆ‘ä¹Ÿæƒ³ç”¨ â†’ ç”¨å¾—å¥½ â†’ åˆ†äº«â€å½¢æˆäº†æ˜æ˜¾çš„æ­£å¾ªç¯ã€‚</p>
</li>
</ol>
<h3 data-id="heading-2"><code>AI</code> è¾…åŠ©å¼€å‘çš„é—®é¢˜ä¸ç—›ç‚¹</h3>
<p>è¶‹åŠ¿çœ‹èµ·æ¥å¾ˆç¾å¥½ï¼Œä½†å®é™…ç”¨èµ·æ¥ï¼Œç»å¸¸æ˜¯å¦ä¸€ç§é£æ™¯ã€‚</p>
<p>æˆ‘å’Œå¤§å¤šæ•°å¼€å‘è€…ä¸€æ ·ï¼Œæ¯å¤©æ‰“å¼€ <code>IDE</code> ç¬¬ä¸€ä»¶äº‹å°±æ˜¯è®© <code>AI</code> å¸®å¿™å†™ä»£ç ã€‚å¯è¶Šç”¨è¶Šå‘ç°ï¼Œå·¥å…·å†å¼ºï¼Œä¹Ÿå¸¸å¸¸åœ¨ç»†èŠ‚ä¸Šâ€œæ‰é“¾å­â€ã€‚</p>
<p>è¿™äº›é—®é¢˜ä¸æ˜¯å¶å‘ï¼Œè€Œæ˜¯ç³»ç»Ÿæ€§çš„ï¼Œå°¤å…¶åœ¨é¡¹ç›®è§„æ¨¡ç¨å¤§ã€ç»“æ„ä¸æ¸…æ™°çš„æ—¶å€™ï¼Œä¼šè¢«æ”¾å¤§åˆ°è®©äººæŠ“ç‹‚çš„åœ°æ­¥ã€‚</p>
<h4 data-id="heading-3">ä¸Šä¸‹æ–‡ç¢ç‰‡åŒ–</h4>
<p>å½“é¡¹ç›®æ‹†æˆå¤šä¸ª <code>repo</code>ï¼ˆå‰ç«¯ä¸€ä¸ªã€åç«¯ä¸€ä¸ªã€<code>shared types</code> åˆä¸€ä¸ªï¼‰ï¼Œ<code>AI</code> æ ¹æœ¬æ— æ³•ä¸€æ¬¡æ€§çœ‹å…¨ä¾èµ–å…³ç³»ã€‚</p>
<p>å®ƒä¼šæ ¹æ®å½“å‰æ–‡ä»¶çŒœä¸Šä¸‹æ–‡ï¼Œç»“æœå°±æ˜¯å¹»è§‰å±‚å‡ºä¸ç©·ï¼šå­—æ®µåæ‹¼é”™ã€ç±»å‹ä¸åŒ¹é…ã€ç”šè‡³æŠŠæ—§ç‰ˆæœ¬çš„æ¥å£é€»è¾‘å¸¦è¿›æ¥ã€‚</p>
<p>æˆ‘è¯•è¿‡ç”¨ <code>Cursor</code> é‡æ„ä¸€ä¸ª <code>GO</code> ä»£ç çš„é€»è¾‘ï¼Œå­—æ®µæ˜æ˜åœ¨ <code>DTO</code> é‡Œå®šä¹‰å¥½äº†ï¼Œå®ƒè¿˜æ˜¯ç»™æˆ‘å†™äº†ä¸ªä¸å­˜åœ¨çš„å±æ€§ã€‚</p>
<h4 data-id="heading-4">è§„èŒƒä¸é£æ ¼ä¸ä¸€è‡´</h4>
<p><code>AI</code> æ²¡æœ‰â€œè®°å¿†â€ä½ çš„é¡¹ç›®çº¦å®šã€‚å®ƒä¸çŸ¥é“ä½ ç”¨çš„æ˜¯ <code>NestJS</code> çš„ <code>DI</code> è¿˜æ˜¯çº¯å‡½æ•°å¼ï¼Œä¸çŸ¥é“è¦åŠ  <code>ValidationPipe</code> è¿˜æ˜¯æ‰‹åŠ¨æ ¡éªŒï¼Œä¸çŸ¥é“ <code>auth</code> è¦ç”¨ <code>Guard</code> è¿˜æ˜¯ <code>middleware</code>ã€‚</p>
<p>ç»“æœç”Ÿæˆçš„ä»£ç é£æ ¼äº”èŠ±å…«é—¨ï¼šæœ‰çš„åœ°æ–¹ç”¨ <code>class-validator</code>ï¼Œæœ‰çš„ç›´æ¥ <code>if</code> åˆ¤æ–­ï¼›æœ‰çš„åœ°æ–¹æ³¨å…¥ <code>service</code>ï¼Œæœ‰çš„ç›´æ¥ <code>new</code> ä¸€ä¸ªã€‚</p>
<p>åæœŸç»´æŠ¤æ—¶ï¼Œè¿™äº›å°å·®å¼‚ä¼šåƒé›ªçƒä¸€æ ·è¶Šæ»šè¶Šå¤§ã€‚</p>
<h4 data-id="heading-5">é‡æ„æ•ˆç‡ä½ä¸‹</h4>
<p>æƒ³æ”¹ä¸€ä¸ªå…±äº«ç±»å‹æˆ–è°ƒæ•´ <code>auth</code> é€»è¾‘ï¼Ÿ</p>
<p><code>AI</code> æ”¹äº†å½“å‰æ–‡ä»¶ï¼Œå´æ¼æ‰å…¶ä»– 5 ä¸ªä¾èµ–çš„åœ°æ–¹ã€‚å°¤å…¶æ˜¯è·¨åŒ…ä¿®æ”¹æ—¶ï¼Œ<code>Cursor</code> å¶å°”ä¼šâ€œå¡ä½â€â€”â€”ä¸æ˜¯å·¥å…·é—®é¢˜ï¼Œæ˜¯é¡¹ç›®ç»“æ„è®©å®ƒæ²¡æ³•é«˜æ•ˆè¿½è¸ªä¾èµ–ã€‚é‡æ„ä¸€æ¬¡ï¼Œæœ¬æ¥ 10 åˆ†é’Ÿçš„äº‹ï¼Œå˜æˆ 1 å°æ—¶+æ‰‹åŠ¨è¡¥æ¼ã€‚</p>
<h4 data-id="heading-6"><code>review</code> æˆæœ¬å±…é«˜ä¸ä¸‹</h4>
<p><code>AI</code> èƒ½ç”Ÿæˆ 60â€“80% çš„ä»£ç ï¼Œä½†å‰©ä¸‹çš„ 20â€“40% å¾€å¾€æ˜¯å…³é”®é€»è¾‘ã€å®‰å…¨è¾¹ç•Œã€æ€§èƒ½ç‚¹ã€‚è¿™äº›åœ°æ–¹å‡ºé”™ï¼Œåæœä¸¥é‡ï¼Œæ‰€ä»¥æˆ‘å‡ ä¹æ¯æ®µ <code>AI</code> ä»£ç éƒ½è¦ä»å¤´å®¡ä¸€éã€‚</p>
<p>æ—¶é—´ä¸€é•¿ï¼Œæ„Ÿè§‰ <code>AI</code> ä¸æ˜¯åœ¨å¸®æˆ‘åŠ é€Ÿï¼Œè€Œæ˜¯åœ¨ç»™æˆ‘åˆ¶é€ æ›´å¤šâ€œçœ‹èµ·æ¥å¯¹ä½†å…¶å®ä¸å¯¹â€çš„å·¥ä½œã€‚</p>
<h4 data-id="heading-7">æ‰©å±•åŠŸèƒ½æ—¶çš„ç ´åæ€§</h4>
<p>é¡¹ç›®æœ¬æ¥æ˜¯ä¼ ç»Ÿ <code>CRUD</code>ï¼Œçªç„¶æƒ³åŠ ä¸ªç®€å•çš„æ¥å£ã€‚ç»“æœè¦ä¹ˆå¤§æ”¹æ¶æ„ï¼Œè¦ä¹ˆæ–°å»ºä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼Œæœ€åå‰åç«¯å‰²è£‚ï¼Œç±»å‹åˆå¯¹ä¸ä¸Šã€‚</p>
<p><code>AI</code> æ—¶ä»£ï¼Œæœ¬è¯¥æ˜¯â€œæƒ³åŠ å°±åŠ â€çš„åŠŸèƒ½ï¼Œå´å˜æˆäº†â€œåŠ äº†ä¹‹åæ•´ä¸ªé¡¹ç›®éƒ½ä¹±äº†â€ã€‚</p>
<p>è¿™äº›ç—›ç‚¹åŠ èµ·æ¥ï¼Œè®©æˆ‘ä¸€åº¦æ€€ç–‘ï¼š<code>AI</code> åˆ°åº•æ˜¯ç”Ÿäº§åŠ›å·¥å…·ï¼Œè¿˜æ˜¯å¦ä¸€ä¸ªâ€œçœ‹èµ·æ¥å¾ˆç¾â€çš„è´Ÿæ‹…ï¼Ÿ</p>
<h3 data-id="heading-8">2026 å¹´ï¼Œ<code>AI</code> è¾…åŠ©å¼€å‘å·²ç»è¿›å…¥â€œåŸºç¡€è®¾æ–½â€é˜¶æ®µ</h3>
<p>2026 å¹´ï¼Œ<code>AI</code> è¾…åŠ©å¼€å‘å·²ç»ä»â€œç‚«æŠ€â€é˜¶æ®µå½»åº•è¿›å…¥â€œåŸºç¡€è®¾æ–½â€é˜¶æ®µã€‚</p>
<p>å·¥å…·é“¾çš„æ¼”è¿›æ–¹å‘éå¸¸æ˜ç¡®ï¼š<strong>ä»å•è¡Œè¡¥å…¨ â†’ å¤šæ–‡ä»¶ç¼–è¾‘ â†’ é¡¹ç›®çº§ä¸Šä¸‹æ–‡ç†è§£ â†’ <code>agentic</code> å¤šæ­¥è§„åˆ’</strong>ã€‚</p>
<ul>
<li><strong>â€œ2026 å¹´çš„å¼€å‘æ•ˆç‡å·®è·ï¼Œä¸å†æ˜¯ä¼šä¸ä¼šç”¨ <code>AI</code>ï¼Œè€Œæ˜¯ä½ çš„é¡¹ç›®ç»“æ„èƒ½ä¸èƒ½è®© <code>AI</code> å‘æŒ¥å‡º 70% ä»¥ä¸Šçš„å‘½ä¸­ç‡ã€‚â€</strong></li>
</ul>
<p>æ•°æ®ä¹Ÿå°è¯äº†è¿™ä¸€ç‚¹ï¼š</p>
<ul>
<li><code>GitHub Octoverse 2025</code> æ˜¾ç¤ºï¼Œä½¿ç”¨ <code>monorepo</code> çš„ä»“åº“ä¸­ï¼Œ<code>AI</code> ç”Ÿæˆä»£ç çš„ <code>acceptance rate</code> å¹³å‡é«˜å‡º 28%ã€‚</li>
<li><code>Cursor</code> å®˜æ–¹åœ¨ 2025 å¹´åº•çš„æŠ¥å‘Šé‡Œæåˆ°ï¼šåœ¨ç»“æ„åŒ–é¡¹ç›®ï¼ˆ<code>TypeScript</code> + æ˜ç¡®çš„æ¨¡å—è¾¹ç•Œï¼‰é‡Œï¼Œç”¨æˆ·å¹³å‡ <code>accept</code> ç‡èƒ½ç¨³å®šåœ¨ 68â€“75%ï¼Œè€Œåœ¨â€œæ‚ä¹±çš„ <code>Express</code> é¡¹ç›®â€é‡Œï¼Œåªæœ‰ 42%ã€‚</li>
</ul>
<p>æ›´é‡è¦çš„æ˜¯ï¼Œ<code>AI</code> å·¥å…·çš„ä¸Šä¸‹æ–‡çª—å£å·²ç»ä¸å†æ˜¯ç“¶é¢ˆï¼ˆ200k <code>token</code> éšä¾¿ç”¨ï¼‰ï¼ŒçœŸæ­£çš„ç“¶é¢ˆå˜æˆäº†**â€œAI èƒ½ä¸èƒ½åœ¨ 0.5 ç§’å†…çœ‹æ‡‚ä½ çš„æ•´ä¸ªé¡¹ç›®ç»“æ„â€**ã€‚</p>
<p>è¿™æ—¶å€™ï¼Œ<code>monorepo</code> + å¼ºè§„èŒƒæ¡†æ¶çš„ä¼˜åŠ¿å°±å½»åº•æ˜¾ç°å‡ºæ¥äº†ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼Œ2026 å¹´çš„è¶‹åŠ¿å°±æ˜¯ï¼š</p>
<p><strong>AI è¶Šæ¥è¶Šèªæ˜ï¼Œä½†å®ƒæ›´éœ€è¦ä¸€ä¸ªâ€œèªæ˜â€çš„é¡¹ç›®æ¥é…åˆã€‚</strong></p>
<p>è€Œ <code>NestJS</code> + <code>Monorepo</code> æ­£æ˜¯æˆ‘è§è¿‡çš„æœ€èƒ½æŠŠè¿™ç§é…åˆåšåˆ°æè‡´çš„ç»„åˆã€‚</p>
<h3 data-id="heading-9"><code>NestJS</code> + <code>Monorepo</code> å¦‚ä½•è§£å†³è¿™äº›ç—›ç‚¹</h3>
<p>ä¸Šé¢æåˆ°çš„é‚£äº›ç—›ç‚¹ï¼Œç”¨ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ï¼š<code>AI</code> å¾ˆèªæ˜ï¼Œä½†å®ƒéœ€è¦ä¸€ä¸ªâ€œèªæ˜â€çš„é¡¹ç›®æ¥é…åˆã€‚</p>
<p><code>NestJS</code> + <code>Monorepo</code>ï¼ˆä»¥ <code>Turborepo</code> ä¸ºä¸»ï¼‰æ­£æ˜¯æˆ‘ç›®å‰æ‰¾åˆ°çš„æœ€èƒ½è®© <code>AI</code> â€œé…åˆå¥½â€çš„ç»„åˆã€‚å®ƒä¸æ˜¯é ä»€ä¹ˆé»‘ç§‘æŠ€ï¼Œè€Œæ˜¯é ç»“æ„æœ¬èº«æŠŠ <code>AI</code> çš„å‘½ä¸­ç‡ä» 30â€“40% æ‹‰åˆ° 70%+ï¼Œç”šè‡³æ›´é«˜ã€‚</p>
<p>ä¸‹é¢æŒ‰ç—›ç‚¹ä¸€ä¸€å¯¹åº”ï¼Œè¯´è¯´è¿™ä¸ªç»„åˆæ˜¯æ€ä¹ˆè§£å†³çš„ã€‚</p>
<h4 data-id="heading-10">ä¸Šä¸‹æ–‡ç¢ç‰‡åŒ– â†’ <code>Monorepo</code> è®© <code>AI</code> ä¸€æ¬¡æ€§çœ‹å…¨é¡¹ç›®</h4>
<p><code>AI</code> çš„é—®é¢˜æ˜¯åªèƒ½çœ‹åˆ°å½“å‰æ‰“å¼€çš„æ–‡ä»¶æˆ–æœ‰é™çš„ä¸Šä¸‹æ–‡ã€‚</p>
<p><code>monorepo</code> æŠŠå‰ç«¯ï¼ˆ<code>apps/web</code>ï¼‰ã€åç«¯ï¼ˆ<code>apps/api</code>ï¼‰ã€å…±äº«ç±»å‹ï¼ˆ<code>libs/types</code>ï¼‰ã€æ•°æ®åº“ <code>schema</code>ï¼ˆ<code>libs/db</code>ï¼‰ã€ç”šè‡³ <code>UI</code> ç»„ä»¶ï¼ˆ<code>libs/ui</code>ï¼‰å…¨éƒ¨æ”¾åœ¨åŒä¸€ä¸ªä»“åº“é‡Œã€‚<code>AI</code> å·¥å…·ï¼ˆå¦‚ <code>Cursor Composer</code>ï¼‰ç›´æ¥ç´¢å¼•æ•´ä¸ª <code>repo</code>ï¼Œä¾èµ–å…³ç³»ã€ç±»å‹å®šä¹‰ã€æ¥å£å¥‘çº¦ä¸€ç›®äº†ç„¶ã€‚</p>
<p>å®é™…æ•ˆæœï¼š</p>
<ul>
<li>ç”Ÿæˆå‰ç«¯è°ƒç”¨åç«¯ <code>API</code> æ—¶ï¼Œå®ƒä¸ä¼šå†å‡­ç©ºå‘æ˜ä¸€ä¸ªä¸å­˜åœ¨çš„å­—æ®µã€‚</li>
<li>æ”¹ä¸€ä¸ª <code>shared type</code>ï¼ˆå¦‚ <code>UserDto</code>ï¼‰ï¼Œ<code>AI</code> èƒ½è‡ªåŠ¨è¿½è¸ªåˆ°æ‰€æœ‰ä½¿ç”¨å®ƒçš„åœ°æ–¹ï¼Œä¸€æ¬¡æ€§æ”¹å®Œã€‚</li>
</ul>
<h4 data-id="heading-11">è§„èŒƒä¸é£æ ¼ä¸ä¸€è‡´ â†’ <code>NestJS</code> è£…é¥°å™¨ + <code>DI</code> æ˜¯â€œå¤©ç„¶æç¤ºâ€</h4>
<p><code>NestJS</code> çš„æ ¸å¿ƒè®¾è®¡ï¼ˆæ¨¡å—åŒ–ã€ä¾èµ–æ³¨å…¥ã€è£…é¥°å™¨ï¼‰æœ¬è´¨ä¸Šå°±æ˜¯ä¸€å¥—â€œå†™ç»™ <code>AI</code> çœ‹çš„è§„èŒƒè¯­è¨€â€ã€‚</p>
<ul>
<li><code>@Controller</code>ã€<code>@Get</code>ã€<code>@Post</code> æ˜ç¡®å‘Šè¯‰ <code>AI</code> è¿™ä¸ªç±»æ˜¯ <code>HTTP</code> å…¥å£ã€‚</li>
<li><code>@Injectable</code>ã€<code>constructor</code> æ³¨å…¥è®© <code>AI</code> çŸ¥é“è¦ç”¨ <code>DI</code>ï¼Œè€Œä¸æ˜¯ä¹± <code>new</code>ã€‚</li>
<li><code>@Body()</code> + <code>class-validator</code> + <code>ValidationPipe</code> è®© <code>AI</code> è‡ªåŠ¨ç”Ÿæˆæ ¡éªŒé€»è¾‘ï¼Œå‡ ä¹ä¸ä¼šæ¼æ‰ <code>required</code> å­—æ®µã€‚</li>
<li><code>@UseGuards</code>ã€<code>@UseInterceptors</code> è®© <code>auth</code>ã€<code>logging</code>ã€<code>rate-limit</code> ç­‰åˆ‡é¢é€»è¾‘å¤©ç„¶ç»Ÿä¸€ã€‚</li>
</ul>
<p>åœ¨ <code>.cursorrules</code> é‡Œå†™å‡ è¡Œè§„åˆ™ï¼š</p>
<pre><code class="hljs language-text" lang="text">å§‹ç»ˆç”¨ NestJS æ¨¡å—åŒ–ç»“æ„ï¼šæ–° feature æ”¾åœ¨ apps/api/src/{domain} ä¸‹ã€‚
å…±äº«ç±»å‹æ”¾åœ¨ libs/typesï¼Œç”¨ zod æˆ– inferã€‚
ä¼˜å…ˆç”¨ tRPC æš´éœ² APIï¼Œä¿æŒç«¯åˆ°ç«¯ç±»å‹å®‰å…¨ã€‚
æ‰€æœ‰ DTO å¿…é¡»ç”¨ class-validator æ ¡éªŒã€‚
</code></pre>
<p><code>AI</code> å°±ä¼šåƒè€å‘˜å·¥ä¸€æ ·ï¼Œç”Ÿæˆçš„ä»£ç é£æ ¼é«˜åº¦ä¸€è‡´ã€‚<code>Claude Code</code> ç”šè‡³èƒ½æ ¹æ®è¿™äº›è§„åˆ™è‡ªå‘å†™å‡ºç¬¦åˆè§„èŒƒçš„æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<h4 data-id="heading-12">é‡æ„æ•ˆç‡ä½ä¸‹ â†’ <code>Turborepo</code> <code>caching</code> + æ¨¡å—è¾¹ç•Œè®© <code>AI</code> æ”¹å¾—åˆå¿«åˆå‡†</h4>
<p><code>Turborepo</code> çš„è¿œç¨‹ç¼“å­˜å’Œå¹¶è¡Œä»»åŠ¡ï¼Œè®© <code>monorepo</code> çš„ <code>build</code> / <code>dev</code> é€Ÿåº¦é£èµ·ï¼ˆ<code>Rust</code> é‡å†™åï¼Œå†·å¯åŠ¨å’Œå¢é‡ <code>build</code> å¿« 3â€“5xï¼‰ã€‚</p>
<p><code>AI</code> ä¿®æ”¹å¤šä¸ªåŒ…æ—¶ï¼Œä¸ä¼šå› ä¸º <code>build</code> å¡ä½è€Œä¸­æ–­æ€è·¯ã€‚</p>
<p>åŒæ—¶ï¼Œ<code>NestJS</code> çš„æ¨¡å—è¾¹ç•Œï¼ˆæ¯ä¸ª <code>domain</code> ä¸€ä¸ª <code>module</code>ï¼‰è®© <code>AI</code> å¾ˆå®¹æ˜“å®šä½ä¿®æ”¹èŒƒå›´ï¼š</p>
<ul>
<li>æ”¹ <code>auth</code> é€»è¾‘ â†’ åªåŠ¨ <code>libs/auth</code> å’Œ <code>apps/api/src/auth</code>ã€‚</li>
<li>åŠ  <code>rate-limit</code> â†’ åªéœ€åœ¨ <code>common/interceptors</code> åŠ ä¸€ä¸ªå…¨å±€ <code>Interceptor</code>ï¼Œæ‰€æœ‰è·¯ç”±è‡ªåŠ¨ç”Ÿæ•ˆã€‚</li>
</ul>
<h4 data-id="heading-13"><code>review</code> æˆæœ¬é«˜ â†’ ç«¯åˆ°ç«¯ç±»å‹å®‰å…¨ + æµ‹è¯•å‹å¥½è®© <code>bug</code> æå‰æ­»æ‰</h4>
<p><code>tRPC</code> + <code>zod</code> / <code>infer</code> è®©ç±»å‹åœ¨ <code>monorepo</code> é‡Œé›¶æˆæœ¬åŒæ­¥ï¼š</p>
<ul>
<li><code>libs/types</code> å®šä¹‰ <code>DTO</code> â†’ <code>tRPC router infer</code> â†’ å‰ç«¯ <code>hook</code> è‡ªåŠ¨å¸¦ç±»å‹ã€‚</li>
<li><code>AI</code> ç”Ÿæˆå‰ç«¯è°ƒç”¨æ—¶ï¼Œå‡ ä¹ä¸ä¼šå‡ºç° â€œproperty does not existâ€ è¿™ç§ä½çº§é”™è¯¯ã€‚</li>
</ul>
<p><code>NestJS</code> çš„ <code>DI</code> ä¹Ÿè®©å•å…ƒæµ‹è¯• / é›†æˆæµ‹è¯•éå¸¸å¥½å†™ï¼š<code>mock service</code> ä¸€è¡Œä»£ç æå®šã€‚</p>
<p>æˆ‘ç°åœ¨ä¹ æƒ¯è®© <code>AI</code> é¡ºæ‰‹ç”Ÿæˆ <code>Vitest</code> / <code>Jest</code> æµ‹è¯•ç”¨ä¾‹ï¼Œ<code>review</code> æ—¶å…ˆè·‘æµ‹è¯•ï¼Œå¤±è´¥çš„ç›´æ¥è¿­ä»£ <code>prompt</code>ï¼ŒæˆåŠŸç‡é«˜å¾ˆå¤šã€‚</p>
<h4 data-id="heading-14">æ‰©å±• <code>AI</code> åŠŸèƒ½æ—¶çš„ç ´åæ€§ â†’ æ¨¡å—åŒ– + <code>libs/ai</code> åƒæ’ä»¶ä¸€æ ·æ’æ‹”</h4>
<p>æƒ³åŠ  <code>RAG</code>ã€<code>chat</code>ã€<code>embedding</code>ï¼Ÿ</p>
<p>æ–°å»ºä¸€ä¸ª <code>libs/ai</code> åŒ…ï¼Œæ³¨å…¥ <code>OpenAI</code> / <code>Anthropic client</code>ï¼Œå†™å‡ ä¸ª <code>service</code>ï¼ˆ<code>embeddingService</code>ã€<code>ragService</code>ï¼‰ï¼Œç„¶ååœ¨ <code>apps/api</code> é‡Œæš´éœ² <code>tRPC</code> è·¯ç”±ã€‚</p>
<p>ä¸šåŠ¡ä»£ç å‡ ä¹ä¸æ”¹ï¼ŒåŸæœ‰æ¨¡å—ä¸å—å½±å“ã€‚</p>
<p>å¦‚æœä»»åŠ¡é‡ï¼Œè¿˜å¯ä»¥æ–°å»º <code>apps/worker</code>ï¼ˆ<code>BullMQ</code> é˜Ÿåˆ—ï¼‰ï¼Œå¼‚æ­¥å¤„ç† <code>embedding</code> / <code>indexing</code>ã€‚</p>
<p>è¿™ä¸ªâ€œæ’ä»¶å¼â€æ‰©å±•æ–¹å¼ï¼Œè®© <code>AI</code> åŠŸèƒ½ä»â€œé¢å¤–è´Ÿæ‹…â€å˜æˆäº†â€œå¯é€‰é¡¹â€ã€‚æˆ‘æœ€è¿‘åŠ äº†ä¸€ä¸ªç®€å•çš„æ€è€ƒé“¾ <code>Agent</code>ï¼Œåªç”¨äº†åŠå¤©æ—¶é—´ï¼Œé¡¹ç›®ç»“æ„ä¸€ç‚¹æ²¡ä¹±ã€‚</p>
<p>æ€»çš„æ¥è¯´ï¼Œ<code>NestJS</code> + <code>Monorepo</code> ä¸æ˜¯åœ¨â€œæ•™ <code>AI</code> å†™ä»£ç â€ï¼Œè€Œæ˜¯åœ¨â€œæ•™ <code>AI</code> å¦‚ä½•æŒ‰ç…§æˆ‘çš„è§„åˆ™å†™ä»£ç â€ã€‚</p>
<h3 data-id="heading-15"><code>NestJS</code> å…¨æ ˆåå‰ç«¯çš„é—­ç¯ä½“éªŒ</h3>
<p>åœ¨ <code>NestJS</code> + <code>Monorepo</code> çš„ç»„åˆé‡Œï¼Œæœ€è®©æˆ‘è§‰å¾—â€œç¦»ä¸å¼€â€çš„åœ°æ–¹ï¼Œå…¶å®æ˜¯å®ƒæŠŠå…¨æ ˆåå‰ç«¯çš„å¼€å‘ä½“éªŒåšåˆ°äº†ä¸€ä¸ªè¿‘ä¹é—­ç¯çš„çŠ¶æ€ã€‚</p>
<p>æ‰€è°“â€œå…¨æ ˆåå‰ç«¯â€ï¼Œå°±æ˜¯ä»¥å‰ç«¯ä¸ºä¸»ï¼ˆ<code>Next.js</code> <code>App Router</code> ä¸ºä¸»åŠ›ï¼‰ï¼Œåç«¯åªæ˜¯ä¸ºäº†æ”¯æ’‘ä¸šåŠ¡é€»è¾‘ã€æ•°æ®æŒä¹…åŒ–ã€<code>API</code> æš´éœ²ï¼Œä½†åˆä¸æƒ³æŠŠåç«¯å†™å¾—å¤ªéšæ„ã€‚</p>
<p>è¿‡å»ç”¨ <code>Express</code> æˆ– <code>Fastify</code>ï¼ŒåŸç”Ÿå†™åç«¯æ€»è§‰å¾—å‰²è£‚ï¼šç±»å‹å®šä¹‰è¦æ‰‹åŠ¨åŒæ­¥ã€å‰ç«¯è°ƒç”¨ <code>API</code> æ—¶å®¹æ˜“å‡ºå­—æ®µé”™ã€éƒ¨ç½²å‰åç«¯è¦åˆ†å¼€ç®¡ã€è§„èŒƒé å£å¤´çº¦å®šâ€¦â€¦è¿™äº›å°æ‘©æ“¦ç´¯ç§¯èµ·æ¥ï¼Œä¼šè®©å¼€å‘èŠ‚å¥æ–­æ–­ç»­ç»­ã€‚</p>
<p><code>NestJS</code> + <code>Monorepo</code> å‡ ä¹æŠŠè¿™äº›æ‘©æ“¦å…¨éƒ¨æŠ¹å¹³äº†ï¼Œå½¢æˆäº†ä¸‹é¢å‡ ä¸ªæ˜æ˜¾çš„é—­ç¯ï¼š</p>
<h4 data-id="heading-16">ç«¯åˆ°ç«¯ç±»å‹å®‰å…¨çš„é›¶æˆæœ¬åŒæ­¥</h4>
<p>æ ¸å¿ƒé  <code>tRPC</code> + <code>shared libs</code>ã€‚
åœ¨ <code>libs/types</code> é‡Œå®šä¹‰ <code>DTO</code>ï¼ˆå¦‚ <code>UserDto</code>ã€<code>NotificationPreferencesDto</code>ï¼‰ï¼Œç„¶ååœ¨ <code>NestJS</code> çš„ <code>tRPC router</code> é‡Œç”¨ <code>infer</code> æˆ– <code>zod</code> ç›´æ¥å¯¼å‡ºç±»å‹ã€‚å‰ç«¯ï¼ˆ<code>Next.js</code>ï¼‰é€šè¿‡ <code>tRPC client</code> æ¶ˆè´¹æ—¶ï¼Œç±»å‹è‡ªåŠ¨å¸¦è¿‡æ¥ã€‚</p>
<p><code>AI</code> ç”Ÿæˆå‰ç«¯ <code>mutation</code> / <code>query</code> æ—¶ï¼Œå‡ ä¹ä¸ä¼šå‡ºç° â€œproperty does not exist on typeâ€ çš„ä½çº§ <code>bug</code>ã€‚</p>
<p>æˆ‘æœ€è¿‘æ”¹ä¸€ä¸ªç”¨æˆ·è®¾ç½®æ¥å£ï¼Œæ•´ä¸ªè¿‡ç¨‹ <code>AI</code> æ”¹äº†åç«¯ <code>controller</code> + <code>service</code> + å‰ç«¯ <code>page</code> + <code>hook</code>ï¼Œç±»å‹å…¨ç¨‹å¯¹é½ï¼Œæˆ‘åª <code>review</code> äº†ä¸šåŠ¡é€»è¾‘çš„è¾¹ç•Œæ¡ä»¶ã€‚</p>
<h4 data-id="heading-17">è¿­ä»£é€Ÿåº¦ä¸ <code>AI</code> èŠ‚å¥å®Œç¾åŒ¹é…</h4>
<p><code>Turborepo</code> çš„ç¼“å­˜æœºåˆ¶ï¼ˆå°¤å…¶æ˜¯ <code>Rust</code> é‡å†™åçš„ç‰ˆæœ¬ï¼‰è®© <code>monorepo</code> çš„ <code>turbo run dev / build</code> å¿«åˆ°ç¦»è°±ã€‚</p>
<p>å‰åç«¯åŒæ—¶å¼€å‘æ—¶ï¼Œæ”¹ä¸€ä¸ª <code>shared type</code> æˆ–åç«¯æ¥å£ï¼Œå‰ç«¯çƒ­é‡è½½å‡ ä¹ç§’çº§å“åº”ã€‚</p>
<p><code>AI</code> å¸®æˆ‘å¿«é€Ÿç”Ÿæˆä¸€ä¸ª <code>feature</code>ï¼Œæˆ‘ <code>review</code> å®Œ <code>accept</code> â†’ <code>turbo</code> ç¬é—´ <code>build</code> â†’ æµè§ˆå™¨åˆ·æ–°çœ‹åˆ°æ•ˆæœï¼Œæ•´ä¸ª <code>cycle</code> æ§åˆ¶åœ¨ 5â€“10 åˆ†é’Ÿã€‚</p>
<p>è¿™å’Œ <code>AI</code> çš„â€œå¿«é€Ÿè¯•é”™â€èŠ‚å¥é«˜åº¦å»åˆï¼šæƒ³æ”¹å°±æ”¹ï¼Œæƒ³åŠ å°±åŠ ï¼Œä¸ä¼šå› ä¸º <code>build</code> æ…¢æˆ– <code>deploy</code> éº»çƒ¦è€Œå¡ä½æ€è·¯ã€‚</p>
<h4 data-id="heading-18">éƒ¨ç½²ä¸è¿ç»´çš„æç®€é—­ç¯</h4>
<p><code>Vercel</code> åŸç”Ÿæ”¯æŒ <code>Turborepo</code> <code>monorepo</code>ï¼Œä¸€é”® <code>deploy</code> å‰åç«¯ï¼ˆ<code>apps/web</code> â†’ <code>frontend</code>ï¼Œ<code>apps/api</code> â†’ <code>serverless</code> æˆ– <code>edge functions</code>ï¼‰ã€‚</p>
<p>åç«¯ç”¨ <code>NestJS</code> <code>Fastify mode</code>ï¼Œååé‡æ¯” <code>Express</code> é«˜ 2â€“4 å€ï¼Œæˆæœ¬æ§åˆ¶æ›´å‹å¥½ã€‚</p>
<p>ä¸å†éœ€è¦ç»´æŠ¤ä¸¤ä¸ª <code>repo</code> çš„ <code>CI/CD</code>ã€ä¸¤ä¸ªåœ°æ–¹çš„ <code>env variables</code>ã€ä¸¤ä¸ªåœ°æ–¹çš„ç›‘æ§ã€‚</p>
<h4 data-id="heading-19">å‰åç«¯åŒæ„ä½“éªŒï¼Œå‰ç«¯è½¬å…¨æ ˆå­¦ä¹ æ›²çº¿æœ€ä½</h4>
<p><code>NestJS</code> çš„è£…é¥°å™¨é£æ ¼ã€æ¨¡å—åŒ–ã€<code>TypeScript</code> åŸç”Ÿï¼Œå’Œ <code>Next.js</code> çš„ <code>App Router</code> + <code>server actions</code> é«˜åº¦ç›¸ä¼¼ã€‚</p>
<p>å‰ç«¯å¼€å‘è€…ä¸Šæ‰‹ <code>NestJS</code> æ—¶ï¼Œå‡ ä¹æ²¡æœ‰é™Œç”Ÿæ„Ÿï¼š<code>controller</code> åƒ <code>page route</code>ï¼Œ<code>service</code> åƒ <code>server action</code> æˆ– <code>lib function</code>ï¼Œ<code>pipes</code> / <code>interceptors</code> åƒ <code>middleware</code>ã€‚</p>
<p><code>AI</code> (å¦‚ <code>Trae</code>) è¡¥å…¨æ—¶ï¼Œä¹Ÿæ›´å®¹æ˜“ç†è§£ä¸Šä¸‹æ–‡â€”â€”å› ä¸ºå‰åç«¯é£æ ¼ç»Ÿä¸€ï¼Œå®ƒç”Ÿæˆçš„ä»£ç å¤©ç„¶ä¸€è‡´ã€‚</p>
<p>ä¸ºä»€ä¹ˆ <code>NestJS</code> åœ¨è¿™ä¹ˆå¤š <code>Node</code> åç«¯é€‰é¡¹é‡Œï¼Œèƒ½æˆä¸ºå…¨æ ˆåå‰ç«¯çš„æœ€ä¼˜é€‰æ‹©ï¼Ÿ</p>
<p>ç®€å•å¯¹æ¯”ä¸€ä¸‹ï¼š</p>
<ul>
<li><code>Express</code> / <code>Fastify</code> åŸç”Ÿï¼šå¤ªçµæ´» â†’ è§„èŒƒé è‡ªå·± â†’ <code>AI</code> å®¹æ˜“ä¹±å†™ã€‚</li>
<li><code>Hono</code> / <code>Elysia</code>ï¼šè½»é‡æè‡´ â†’ ä½†ç¼ºå°‘æ¨¡å—åŒ– + <code>DI</code>ï¼Œ<code>AI</code> åœ¨ä¸­å¤§å‹é¡¹ç›®é‡Œä¸Šä¸‹æ–‡è·Ÿä¸ä¸Šã€‚</li>
<li><code>Adonis</code> / <code>FoalTS</code>ï¼šä¼ä¸šçº§ï¼Œä½†å­¦ä¹ æ›²çº¿é™¡ï¼Œç”Ÿæ€ä¸å¦‚ <code>NestJS</code> æ´»è·ƒã€‚</li>
<li><code>NestJS</code>ï¼šç»“æ„å¼ºã€<code>TypeScript</code> å‹å¥½ã€è£…é¥°å™¨åƒâ€œæç¤ºå·¥ç¨‹â€ã€ç¤¾åŒº <code>boilerplate</code> å¤šã€ä¸ <code>Next.js</code> ç”Ÿæ€æ— ç¼å¯¹æ¥ã€‚</li>
</ul>
<p><code>NestJS</code> ä¸æ˜¯æœ€è½»ã€æœ€å¿«ï¼Œä½†å®ƒæ˜¯ç›®å‰ <code>Node</code> ç”Ÿæ€é‡Œâ€œæœ€ä¸æ‹– <code>AI</code> åè…¿ã€åˆèƒ½è®©å‰ç«¯å¼€å‘è€…å†™å¾—èˆ’æœâ€çš„åç«¯æ¡†æ¶ã€‚</p>
<p>æ”¾åœ¨ <code>monorepo</code> é‡Œï¼Œå®ƒå°±æŠŠâ€œå‰åç«¯å‰²è£‚â€è¿™ä¸ªè€é—®é¢˜ï¼Œå˜æˆäº†â€œå‰åç«¯åƒä¸€å®¶äººâ€ã€‚</p>
<p>ç”¨è¿™ä¸ªç»„åˆåï¼Œæˆ‘å†™ä»£ç çš„æ„Ÿå—ä»â€œå‰åç«¯ä¸¤å¥—é€»è¾‘åœ¨æ‰“æ¶â€å˜æˆäº†â€œå‰åç«¯åœ¨åŒä¸€ä¸ª <code>repo</code> é‡Œå®‰é™åœ°åˆä½œâ€ã€‚</p>
<p>è¿™å¤§æ¦‚å°±æ˜¯â€œé—­ç¯â€çš„çœŸæ­£å«ä¹‰ã€‚</p>
<h3 data-id="heading-20">ç‹¬ç«‹éƒ¨ç½²ä¸å¾®æœåŠ¡å‹å¥½ï¼š<code>monorepo</code> ä¸ç­‰äºå•ä½“</h3>
<p>å¾ˆå¤šäººä¸€å¬åˆ° <code>monorepo</code>ï¼Œå°±æ‹…å¿ƒå®ƒä¼šå˜æˆä¸€ä¸ªâ€œå¤§å•ä½“â€ï¼šæ‰€æœ‰ä»£ç è€¦åˆåœ¨ä¸€èµ·ï¼Œéƒ¨ç½²æ…¢ã€æ‰©å±•éš¾ã€ç»´æŠ¤æˆå™©æ¢¦ã€‚ä½† <code>NestJS</code> + <code>Monorepo</code> çš„å®é™…ç”¨æ³•æ°æ°ç›¸åï¼Œå®ƒåœ¨ä¿æŒä»£ç å…±äº«ä¾¿åˆ©çš„åŒæ—¶ï¼Œå¤©ç„¶æ”¯æŒç‹¬ç«‹éƒ¨ç½²å’Œå¾®æœåŠ¡è¾¹ç•Œã€‚</p>
<p>æ ¸å¿ƒé ä»¥ä¸‹å‡ ç‚¹è®¾è®¡ï¼š</p>
<ul>
<li>
<p><strong>æ¯ä¸ª <code>app</code> / <code>service</code> ç‹¬ç«‹</strong>ï¼š<code>monorepo</code> é‡Œå¯ä»¥æœ‰å¤šä¸ª <code>apps</code>ï¼Œæ¯”å¦‚ <code>apps/api</code>ï¼ˆä¸»åç«¯ï¼‰ã€<code>apps/worker</code>ï¼ˆé˜Ÿåˆ—ä»»åŠ¡ï¼‰ã€<code>apps/admin</code>ï¼ˆåå°ç®¡ç†ï¼‰ã€‚<code>Turborepo</code> æ”¯æŒæ¯ä¸ª <code>app</code> å•ç‹¬ <code>build</code>ã€<code>test</code>ã€<code>deploy</code>ã€‚<br/>
<code>CI/CD</code> é…ç½®æ—¶ï¼Œç”¨ <code>turbo run build --filter=api</code> åªæ„å»º <code>api</code> åŒ…ï¼Œå…¶ä»–ä¸åŠ¨ã€‚<code>Vercel</code>ã€<code>Railway</code> æˆ– <code>GitHub Actions</code> éƒ½èƒ½è½»æ¾å®ç°â€œæ”¹ <code>api</code> åª <code>deploy</code> <code>api</code>â€ã€‚</p>
</li>
<li>
<p><strong><code>NestJS</code> åŸç”Ÿå¾®æœåŠ¡æ”¯æŒ</strong>ï¼š<code>NestJS</code> å†…ç½®å¤šç§ä¼ è¾“å±‚ï¼ˆ<code>TCP</code>ã€<code>Redis</code>ã€<code>NATS</code>ã€<code>gRPC</code>ã€<code>MQTT</code>ï¼‰ï¼Œæ¨¡å—ä¹‹é—´å¯ä»¥é€šè¿‡ <code>@nestjs/microservices</code> è§£è€¦ã€‚<br/>
æ¯”å¦‚ <code>auth</code> æ¨¡å—åšæˆç‹¬ç«‹ <code>microservice</code>ï¼Œæš´éœ² <code>gRPC</code> æ¥å£ï¼›ä¸» <code>api</code> åªæ¶ˆè´¹å®ƒï¼Œä¸è€¦åˆå®ç°ã€‚å…±äº« <code>libs/auth</code> åªæ”¾ç±»å‹å’Œ <code>DTO</code>ï¼Œé€»è¾‘å®Œå…¨éš”ç¦»ã€‚</p>
</li>
<li>
<p><strong>å…±äº« <code>libs</code> è¾¹ç•Œæ¸…æ™°</strong>ï¼š<code>libs/types</code>ã€<code>libs/db</code>ã€<code>libs/common</code> åªæ”¾æ¥å£ã€<code>schema</code>ã€å¸¸é‡ã€å·¥å…·å‡½æ•°ï¼Œä¸æ”¾ä¸šåŠ¡é€»è¾‘ã€‚<br/>
è¿™è®©æ¨¡å—é—´â€œå…±äº«çŸ¥è¯†ä½†ä¸å…±äº«çŠ¶æ€â€ï¼Œé¿å…äº†å•ä½“å¼çš„çº ç¼ ã€‚</p>
</li>
</ul>
<p>è¿™åœ¨ 2026 å¹´ <code>AI</code> é¡¹ç›®é‡Œç‰¹åˆ«å®ç”¨ï¼šæ ¸å¿ƒä¸šåŠ¡ç¨³ï¼Œ<code>AI</code> å¢å¼ºåŠŸèƒ½ï¼ˆ<code>RAG</code>ã€<code>Agent</code>ï¼‰å¯ä»¥å…ˆåšæˆç‹¬ç«‹ <code>worker</code> æˆ– <code>microservice</code>ï¼Œéšæ—¶åŠ å‡ã€‚</p>
<h3 data-id="heading-21">å›¢é˜Ÿåä½œä¸è§„èŒƒå¼ºåˆ¶ï¼š<code>monorepo</code> çš„â€œæŠ¤åŸæ²³â€æ•ˆåº”</h3>
<p><code>monorepo</code> æœ€å¤§çš„éšå½¢ä»·å€¼ï¼Œå…¶å®ä¸æ˜¯ä¸ªäººæ•ˆç‡ï¼Œè€Œæ˜¯å®ƒåœ¨å›¢é˜Ÿåä½œæ—¶çš„â€œæŠ¤åŸæ²³â€ä½œç”¨ã€‚</p>
<p><code>NestJS</code> + <code>Monorepo</code> çš„ç»“æ„æœ¬èº«å°±åƒä¸€å¥—å¼ºåˆ¶è§„èŒƒï¼š</p>
<ul>
<li>æ¯ä¸ª <code>domain</code> å¿…é¡»æœ‰è‡ªå·±çš„ <code>module</code>ã€<code>controller</code>ã€<code>service</code>ã€<code>dto</code>ã€‚</li>
<li>å…±äº«é€»è¾‘åªèƒ½æ”¾åœ¨ <code>libs/*</code>ï¼ˆ<code>types</code>ã€<code>db</code>ã€<code>auth</code>ã€<code>common</code>ï¼‰ï¼Œä¸å…è®¸ä¸šåŠ¡ä»£ç è·¨åŒ…æ±¡æŸ“ã€‚</li>
<li>å…¨å±€é…ç½®ï¼ˆå¦‚ <code>eslint</code>ã€<code>prettier</code>ã€<code>commitlint</code>ã€<code>ValidationPipe</code>ã€<code>Interceptors</code>ï¼‰åœ¨æ ¹ç›®å½•ç»Ÿä¸€ï¼Œä¸€æ”¹å…¨é¡¹ç›®ç”Ÿæ•ˆã€‚</li>
</ul>
<p>è¿™å¯¹å›¢é˜Ÿæ„å‘³ç€ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li><strong>æ–°äººä¸Šæ‰‹å¿«</strong>ï¼šç»“æ„å›ºå®šï¼Œæ–°äºº <code>clone repo</code> åä¸€çœ‹ç›®å½•å°±çŸ¥é“æ€ä¹ˆåŠ åŠŸèƒ½ã€‚<code>AI</code> ç”Ÿæˆçš„ä»£ç ä¹Ÿå¤©ç„¶ç¬¦åˆè§„èŒƒï¼Œä¸ç”¨é¢å¤–æ•™â€œæˆ‘ä»¬çš„é£æ ¼æ˜¯è¿™æ ·çš„â€ã€‚</li>
<li><strong>è§„èŒƒå¼ºåˆ¶æ‰§è¡Œ</strong>ï¼šæ²¡æœ‰â€œå£å¤´çº¦å®šâ€æˆ–â€œå¤§å®¶è‡ªå·±æ³¨æ„â€çš„æ¨¡ç³Šåœ°å¸¦ã€‚æƒ³åŠ ä¸€ä¸ªæ–°æ¥å£ï¼Ÿå¿…é¡»èµ° <code>NestJS</code> è£…é¥°å™¨ + <code>DTO</code> + <code>tRPC</code>ã€‚<code>AI</code> è¡¥å…¨æ—¶ä¹Ÿä¼šè‡ªåŠ¨éµå®ˆï¼Œå‡å°‘äº†é£æ ¼æ¼‚ç§»ã€‚</li>
<li><strong><code>code review</code> æ‘©æ“¦å¤§å¹…é™ä½</strong>ï¼šå› ä¸ºç±»å‹å®‰å…¨ + æ¨¡å—è¾¹ç•Œï¼Œ<code>AI</code> ç”Ÿæˆçš„ä»£ç å¾€å¾€æ˜¯â€œçœ‹èµ·æ¥å¯¹çš„â€ï¼Œ<code>review</code> é‡ç‚¹ä»â€œé£æ ¼å¯¹ä¸å¯¹â€è½¬å‘â€œä¸šåŠ¡é€»è¾‘å¯¹ä¸å¯¹â€ã€‚</li>
<li><strong>å¤šäººåä½œä¸ä¹±</strong>ï¼šæ”¹ <code>shared type</code> æ—¶ï¼Œ<code>Turborepo</code> ä¼šè‡ªåŠ¨æ£€æµ‹å½±å“èŒƒå›´ï¼Œ<code>build</code> åªè·‘ç›¸å…³çš„åŒ…ã€‚<code>merge conflict</code> å°‘äº†å¾ˆå¤šï¼Œå›¢é˜Ÿä¸ä¼šå› ä¸ºâ€œè°åŠ¨äº† <code>libs/auth</code>â€è€Œåµèµ·æ¥ã€‚</li>
</ul>
<p>å®é™…ä½“éªŒé‡Œï¼Œè¿™ä¸ªâ€œæŠ¤åŸæ²³â€åœ¨ 3 äººä»¥ä¸Šå°å›¢é˜Ÿæœ€æ˜æ˜¾ã€‚</p>
<p>ä¸€ä¸ªäººå†™æ—¶ï¼Œ<code>monorepo</code> åªæ˜¯æ–¹ä¾¿ï¼›å›¢é˜Ÿå†™æ—¶ï¼Œå®ƒæˆäº†é˜²æ­¢ä»£ç é€€åŒ–çš„é˜²ç«å¢™ã€‚</p>
<p><code>AI</code> æ—¶ä»£å°¤å…¶æœ‰ç”¨ï¼šå¤§å®¶ç”¨ <code>Cursor</code> / <code>Claude Code</code> ç”Ÿæˆä»£ç æ—¶ï¼Œé£æ ¼ç»Ÿä¸€ã€è¾¹ç•Œæ¸…æ™°ï¼Œå›¢é˜Ÿä¸ä¼šå› ä¸ºâ€œAI å†™çš„å¤ªä¹±â€è€Œäº’ç›¸æŒ‡è´£ã€‚</p>
<h3 data-id="heading-22">ç»“æ„å³ç”Ÿäº§åŠ›</h3>
<p>2026 å¹´ï¼Œ<code>AI</code> è¾…åŠ©å¼€å‘å·²æˆä¸ºæ ‡é…ï¼Œä½†å…¶æ•ˆç‡é«˜åº¦ä¾èµ–é¡¹ç›®ç»“æ„ã€‚</p>
<p><code>NestJS</code> + <code>Monorepo</code> è®©æˆ‘è¶Šæ¥è¶Šç¦»ä¸å¼€å®ƒï¼š<code>monorepo</code> è§£å†³ä¸Šä¸‹æ–‡ç¢ç‰‡ï¼Œè®© <code>AI</code> ä¸€æ¬¡æ€§çœ‹å…¨é¡¹ç›®ï¼›</p>
<p><code>NestJS</code> çš„æ¨¡å—åŒ–ã€<code>DI</code>ã€è£…é¥°å™¨æä¾›â€œå¤©ç„¶æç¤ºâ€ï¼Œè§„èŒƒå¼ºåˆ¶æ‰§è¡Œï¼Œå‡å°‘ <code>hallucination</code> å’Œé£æ ¼æ¼‚ç§»ï¼›<code>tRPC</code> + <code>shared libs</code> å®ç°ç«¯åˆ°ç«¯ç±»å‹å®‰å…¨ï¼Œå‰åç«¯é—­ç¯é¡ºæ»‘ï¼›</p>
<p><code>Turborepo</code> ç¼“å­˜è®©è¿­ä»£é£èµ·ï¼Œç‹¬ç«‹éƒ¨ç½² + å¾®æœåŠ¡å‹å¥½é¿å…å•ä½“é™·é˜±ï¼›ç¤¾åŒº <code>boilerplate</code> çˆ†å‘ï¼Œä¸Šæ‰‹å¿«ï¼Œå›¢é˜Ÿåä½œæ›´ç¨³ã€‚</p>
<p>å®ƒä¸æ˜¯æœ€æ½®çš„æ¡†æ¶ï¼Œå´æ˜¯æœ€èƒ½è®© <code>AI</code> å†™å‡ºå¯ç»´æŠ¤ã€å¯ <code>review</code>ã€å¯é•¿æœŸæ¼”è¿›ä»£ç çš„ç»„åˆã€‚</p>
<p>å…¨æ ˆåå‰ç«¯çš„å¼€å‘è€…ç”¨å®ƒï¼Œå¼€å‘ä»â€œå‰åå‰²è£‚â€å˜æˆâ€œå®‰é™åˆä½œâ€ã€‚</p>
<p>åœ¨ <code>AI</code> æ—¶ä»£ï¼Œç»“æ„å³ç”Ÿäº§åŠ›ï¼Œè€Œè¿™ä¸ªç»„åˆï¼Œæ­£æ˜¯æˆ‘ç›®å‰æœ€èˆ’æœçš„ç»“æ„ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ59ï¼‰Hibernateçš„SQLæ—¥å¿—å¦‚ä½•æŸ¥çœ‹ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7598287024077832232</link>    <guid>https://juejin.cn/post/7598287024077832232</guid>    <pubDate>2026-01-23T11:53:23.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598287024077832232" data-draft-id="7598355220830339124" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ59ï¼‰Hibernateçš„SQLæ—¥å¿—å¦‚ä½•æŸ¥çœ‹ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-23T11:53:23.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ59ï¼‰Hibernateçš„SQLæ—¥å¿—å¦‚ä½•æŸ¥çœ‹ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T11:53:23.000Z" title="Fri Jan 23 2026 11:53:23 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨å¼€å‘å’Œè°ƒè¯•Hibernateåº”ç”¨ç¨‹åºæ—¶ï¼ŒæŸ¥çœ‹ç”Ÿæˆçš„SQLæ—¥å¿—æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚Hibernateæä¾›äº†å¤šç§æ–¹å¼æ¥æŸ¥çœ‹SQLæ—¥å¿—ï¼ŒåŒ…æ‹¬é€šè¿‡é…ç½®æ–‡ä»¶å’Œç¼–ç¨‹æ–¹å¼æ¥å¯ç”¨SQLæ—¥å¿—è®°å½•ã€‚ä¸‹é¢å°†è¯¦ç»†è§£é‡Šå¦‚ä½•é…ç½®å’ŒæŸ¥çœ‹Hibernateçš„SQLæ—¥å¿—ï¼Œå¹¶ç»“åˆä»£ç ç¤ºä¾‹è¯´æ˜ã€‚</p>
<h3 data-id="heading-0">1. é€šè¿‡é…ç½®æ–‡ä»¶å¯ç”¨SQLæ—¥å¿—</h3>
<h4 data-id="heading-1">é…ç½®Hibernate</h4>
<p>åœ¨<code>hibernate.cfg.xml</code>ä¸­å¯ç”¨SQLæ—¥å¿—è¾“å‡ºå’Œæ ¼å¼åŒ–ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.format_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.use_sql_comments"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Product"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<ul>
<li><code>hibernate.show_sql</code>ï¼šå°†ç”Ÿæˆçš„SQLè¾“å‡ºåˆ°æ§åˆ¶å°ï¼ˆæ ‡å‡†è¾“å‡ºï¼‰ã€‚</li>
<li><code>hibernate.format_sql</code>ï¼šæ ¼å¼åŒ–SQLè¾“å‡ºï¼Œä½¿å…¶æ›´å…·å¯è¯»æ€§ã€‚</li>
<li><code>hibernate.use_sql_comments</code>ï¼šåœ¨ç”Ÿæˆçš„SQLä¸­æ·»åŠ æ³¨é‡Šï¼Œå¸®åŠ©å¼€å‘è€…ç†è§£æ¯ä¸ªSQLç‰‡æ®µçš„æ¥æºã€‚</li>
</ul>
<h4 data-id="heading-2">Mavenä¾èµ–ï¼ˆå¦‚æœä½¿ç”¨Mavenï¼‰</h4>
<p>ç¡®ä¿åœ¨<code>pom.xml</code>ä¸­åŒ…å«<code>slf4j</code>å’Œ<code>logback</code>ä¾èµ–ï¼Œä»¥ä¾¿æ—¥å¿—è®°å½•ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Hibernate dependencies --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.hibernate<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>hibernate-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.4.0.Final<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- SLF4J and Logback for logging --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.slf4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>slf4j-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.7.30<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>ch.qos.logback<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>logback-classic<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
</code></pre>
<h4 data-id="heading-3">é…ç½®Logback</h4>
<p>åˆ›å»º<code>logback.xml</code>æ–‡ä»¶ï¼Œé…ç½®æ—¥å¿—è®°å½•çº§åˆ«ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">"1.0"</span> encoding=<span class="hljs-string">"UTF-8"</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">appender</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"STDOUT"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">encoder</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">pattern</span>&gt;</span>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n<span class="hljs-tag">&lt;/<span class="hljs-name">pattern</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">encoder</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">appender</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"org.hibernate.SQL"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"DEBUG"</span> <span class="hljs-attr">additivity</span>=<span class="hljs-string">"false"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"STDOUT"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">logger</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">logger</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"org.hibernate.type.descriptor.sql.BasicBinder"</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"TRACE"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"STDOUT"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">logger</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">root</span> <span class="hljs-attr">level</span>=<span class="hljs-string">"INFO"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">appender-ref</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">"STDOUT"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">root</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>
</code></pre>
<ul>
<li><code>org.hibernate.SQL</code>ï¼šè®°å½•Hibernateç”Ÿæˆçš„SQLè¯­å¥ã€‚</li>
<li><code>org.hibernate.type.descriptor.sql.BasicBinder</code>ï¼šè®°å½•SQLå‚æ•°ç»‘å®šä¿¡æ¯ã€‚</li>
</ul>
<h3 data-id="heading-4">2. ç¼–ç¨‹æ–¹å¼å¯ç”¨SQLæ—¥å¿—</h3>
<p>é™¤äº†é€šè¿‡é…ç½®æ–‡ä»¶å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ç¼–ç¨‹æ–¹å¼å¯ç”¨SQLæ—¥å¿—ã€‚</p>
<h4 data-id="heading-5">é…ç½®Hibernate</h4>
<p>åœ¨<code>hibernate.cfg.xml</code>ä¸­é…ç½®åŸºæœ¬çš„Hibernateå±æ€§ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Product"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<h4 data-id="heading-6">ç¼–ç¨‹æ–¹å¼å¯ç”¨SQLæ—¥å¿—</h4>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;
<span class="hljs-keyword">import</span> org.slf4j.Logger;
<span class="hljs-keyword">import</span> org.slf4j.LoggerFactory;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateSQLLoggingExample</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">Logger</span> <span class="hljs-variable">logger</span> <span class="hljs-operator">=</span> LoggerFactory.getLogger(HibernateSQLLoggingExample.class);
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-type">Configuration</span> <span class="hljs-variable">configuration</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>);
        configuration.setProperty(<span class="hljs-string">"hibernate.show_sql"</span>, <span class="hljs-string">"true"</span>);
        configuration.setProperty(<span class="hljs-string">"hibernate.format_sql"</span>, <span class="hljs-string">"true"</span>);
        configuration.setProperty(<span class="hljs-string">"hibernate.use_sql_comments"</span>, <span class="hljs-string">"true"</span>);
        sessionFactory = configuration.buildSessionFactory();
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Product</span> <span class="hljs-variable">product</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Product</span>();
            product.setName(<span class="hljs-string">"Product B"</span>);
            product.setPrice(<span class="hljs-number">200.0</span>);
            session.save(product);
            transaction.commit();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            session.close();
        }
    }
}
</code></pre>
<h3 data-id="heading-7">3. æŸ¥çœ‹SQLæ—¥å¿—</h3>
<p>è¿è¡Œç¨‹åºåï¼Œå¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°æ ¼å¼åŒ–çš„SQLæ—¥å¿—å’Œå‚æ•°ç»‘å®šä¿¡æ¯ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">10:23:45.678 <span class="hljs-section">[main]</span> DEBUG org.hibernate.SQL - 
    insert 
    into
        product
        (name, price, id) 
    values
        (?, ?, ?)
10:23:45.680 <span class="hljs-section">[main]</span> TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter <span class="hljs-section">[1]</span> as <span class="hljs-section">[VARCHAR]</span> - Product B
10:23:45.681 <span class="hljs-section">[main]</span> TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter <span class="hljs-section">[2]</span> as <span class="hljs-section">[DOUBLE]</span> - 200.0
10:23:45.682 <span class="hljs-section">[main]</span> TRACE org.hibernate.type.descriptor.sql.BasicBinder - binding parameter <span class="hljs-section">[3]</span> as <span class="hljs-section">[BIGINT]</span> - 1
</code></pre>
<h3 data-id="heading-8">æ€»ç»“</h3>
<ol>
<li><strong>é€šè¿‡é…ç½®æ–‡ä»¶å¯ç”¨SQLæ—¥å¿—</strong>ï¼šåœ¨<code>hibernate.cfg.xml</code>ä¸­é…ç½®<code>hibernate.show_sql</code>ã€<code>hibernate.format_sql</code>å’Œ<code>hibernate.use_sql_comments</code>ç­‰å±æ€§ã€‚</li>
<li><strong>é…ç½®æ—¥å¿—æ¡†æ¶</strong>ï¼šä½¿ç”¨SLF4Jå’ŒLogbackè®°å½•SQLæ—¥å¿—ï¼Œå¹¶åœ¨<code>logback.xml</code>ä¸­é…ç½®æ—¥å¿—çº§åˆ«ã€‚</li>
<li><strong>ç¼–ç¨‹æ–¹å¼å¯ç”¨SQLæ—¥å¿—</strong>ï¼šé€šè¿‡ç¼–ç¨‹æ–¹å¼åŠ¨æ€è®¾ç½®Hibernateå±æ€§ã€‚</li>
<li><strong>æŸ¥çœ‹SQLæ—¥å¿—</strong>ï¼šè¿è¡Œç¨‹åºåï¼Œåœ¨æ§åˆ¶å°æŸ¥çœ‹æ ¼å¼åŒ–çš„SQLæ—¥å¿—å’Œå‚æ•°ç»‘å®šä¿¡æ¯ã€‚</li>
</ol>
<p>é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥æ–¹ä¾¿åœ°æŸ¥çœ‹å’Œè°ƒè¯•Hibernateç”Ÿæˆçš„SQLè¯­å¥ï¼Œå¸®åŠ©å¼€å‘è€…æ›´å¥½åœ°ç†è§£å’Œä¼˜åŒ–æ•°æ®åº“æ“ä½œã€‚å¸Œæœ›è¿™äº›è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°æŸ¥çœ‹å’Œç®¡ç†Hibernateçš„SQLæ—¥å¿—ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Hibernateï¼ˆ60ï¼‰Hibernateçš„å»¶è¿ŸåŠ è½½å¦‚ä½•é…ç½®ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7598402961904189492</link>    <guid>https://juejin.cn/post/7598402961904189492</guid>    <pubDate>2026-01-23T11:54:10.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598402961904189492" data-draft-id="7598287024077848616" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Hibernateï¼ˆ60ï¼‰Hibernateçš„å»¶è¿ŸåŠ è½½å¦‚ä½•é…ç½®ï¼Ÿ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-23T11:54:10.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Victor356"/> <meta itemprop="url" content="https://juejin.cn/user/3492507879476878"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Hibernateï¼ˆ60ï¼‰Hibernateçš„å»¶è¿ŸåŠ è½½å¦‚ä½•é…ç½®ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3492507879476878/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Victor356
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T11:54:10.000Z" title="Fri Jan 23 2026 11:54:10 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Hibernateçš„å»¶è¿ŸåŠ è½½ï¼ˆLazy Loadingï¼‰æ˜¯ä¸€ç§ä¼˜åŒ–æŠ€æœ¯ï¼Œå®ƒå…è®¸åœ¨å®é™…éœ€è¦æ•°æ®æ—¶æ‰ä»æ•°æ®åº“ä¸­åŠ è½½æ•°æ®ï¼Œè€Œä¸æ˜¯åœ¨åˆå§‹æŸ¥è¯¢æ—¶å…¨éƒ¨åŠ è½½ã€‚å»¶è¿ŸåŠ è½½å¯¹äºæé«˜æ€§èƒ½å’Œå‡å°‘å†…å­˜æ¶ˆè€—éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯å¯¹äºåŒ…å«å¤§é‡å…³è”å¯¹è±¡çš„å¤æ‚å®ä½“ã€‚</p>
<p>ä»¥ä¸‹æ˜¯è¯¦ç»†çš„é…ç½®æ­¥éª¤å’Œä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•åœ¨Hibernateä¸­é…ç½®å’Œä½¿ç”¨å»¶è¿ŸåŠ è½½ã€‚</p>
<h3 data-id="heading-0">1. ä½¿ç”¨æ³¨è§£é…ç½®å»¶è¿ŸåŠ è½½</h3>
<p>Hibernateé»˜è®¤å¯ç”¨äº†å»¶è¿ŸåŠ è½½ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡æ³¨è§£è¿›ä¸€æ­¥æ§åˆ¶å…·ä½“çš„åŠ è½½è¡Œä¸ºã€‚</p>
<h4 data-id="heading-1">1.1 å»¶è¿ŸåŠ è½½å•ä¸ªå®ä½“</h4>
<p>åœ¨å®ä½“ç±»ä¸­ï¼Œé€šè¿‡è®¾ç½®<code>fetch</code>å±æ€§ä¸º<code>FetchType.LAZY</code>æ¥å¯ç”¨å»¶è¿ŸåŠ è½½ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "product")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "price")</span>
    <span class="hljs-keyword">private</span> Double price;

    <span class="hljs-comment">// Getters and Setters</span>
}
</code></pre>
<h4 data-id="heading-2">1.2 å»¶è¿ŸåŠ è½½å…³è”å…³ç³»</h4>
<p>å¯¹äºå…³è”å…³ç³»ï¼Œä¾‹å¦‚<code>@OneToMany</code>ã€<code>@ManyToOne</code>ã€<code>@OneToOne</code>å’Œ<code>@ManyToMany</code>ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®<code>fetch</code>å±æ€§ä¸º<code>FetchType.LAZY</code>æ¥å¯ç”¨å»¶è¿ŸåŠ è½½ã€‚</p>
<h5 data-id="heading-3">ç¤ºä¾‹ï¼š<code>@ManyToOne</code>å’Œ<code>@OneToMany</code></h5>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªå®ä½“ç±»ï¼š<code>Category</code>å’Œ<code>Product</code>ï¼Œå®ƒä»¬ä¹‹é—´å­˜åœ¨<code>@OneToMany</code>å’Œ<code>@ManyToOne</code>çš„å…³ç³»ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;
<span class="hljs-keyword">import</span> java.util.List;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "category")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Category</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@OneToMany(mappedBy = "category", fetch = FetchType.LAZY)</span>
    <span class="hljs-keyword">private</span> List&lt;Product&gt; products;

    <span class="hljs-comment">// Getters and Setters</span>
}

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "product")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Product</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@Column(name = "price")</span>
    <span class="hljs-keyword">private</span> Double price;

    <span class="hljs-meta">@ManyToOne(fetch = FetchType.LAZY)</span>
    <span class="hljs-meta">@JoinColumn(name = "category_id")</span>
    <span class="hljs-keyword">private</span> Category category;

    <span class="hljs-comment">// Getters and Setters</span>
}
</code></pre>
<h3 data-id="heading-4">2. é€šè¿‡é…ç½®æ–‡ä»¶é…ç½®å»¶è¿ŸåŠ è½½</h3>
<p>åœ¨<code>hibernate.cfg.xml</code>ä¸­é…ç½®Hibernateçš„å±æ€§ï¼Œä¹Ÿå¯ä»¥æ§åˆ¶å»¶è¿ŸåŠ è½½è¡Œä¸ºã€‚</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">hibernate-configuration</span> <span class="hljs-keyword">PUBLIC</span>
        <span class="hljs-string">"-//Hibernate/Hibernate Configuration DTD 3.0//EN"</span>
        <span class="hljs-string">"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">hibernate-configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">session-factory</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- æ•°æ®åº“è¿æ¥é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.driver_class"</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.url"</span>&gt;</span>jdbc:mysql://localhost:3306/your_database<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.username"</span>&gt;</span>your_username<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.connection.password"</span>&gt;</span>your_password<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Hibernate å±æ€§é…ç½® --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.dialect"</span>&gt;</span>org.hibernate.dialect.MySQLDialect<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.show_sql"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- å¯ç”¨å»¶è¿ŸåŠ è½½ --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.default_batch_fetch_size"</span>&gt;</span>16<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"hibernate.enable_lazy_load_no_trans"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- æ˜ å°„ç±» --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Category"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"com.example.domain.Product"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">session-factory</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">hibernate-configuration</span>&gt;</span>
</code></pre>
<ul>
<li><code>hibernate.default_batch_fetch_size</code>ï¼šé»˜è®¤æ‰¹é‡æŠ“å–å¤§å°ï¼Œé…ç½®ä¸€ä¸ªåˆç†çš„å€¼å¯ä»¥å‡å°‘N+1æŸ¥è¯¢é—®é¢˜ã€‚</li>
<li><code>hibernate.enable_lazy_load_no_trans</code>ï¼šå…è®¸åœ¨æ²¡æœ‰äº‹åŠ¡çš„æƒ…å†µä¸‹å»¶è¿ŸåŠ è½½ï¼ˆé€šå¸¸ä¸æ¨èåœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¯ç”¨ï¼‰ã€‚</li>
</ul>
<h3 data-id="heading-5">3. ä½¿ç”¨Hibernateä¼šè¯åŠ è½½å»¶è¿ŸåŠ è½½çš„æ•°æ®</h3>
<p>ä¸ºäº†æŸ¥çœ‹å»¶è¿ŸåŠ è½½çš„æ•ˆæœï¼Œéœ€è¦åœ¨äº‹åŠ¡èŒƒå›´å†…è®¿é—®å»¶è¿ŸåŠ è½½çš„å±æ€§ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.hibernate.Session;
<span class="hljs-keyword">import</span> org.hibernate.SessionFactory;
<span class="hljs-keyword">import</span> org.hibernate.Transaction;
<span class="hljs-keyword">import</span> org.hibernate.cfg.Configuration;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HibernateLazyLoadingExample</span> {
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SessionFactory sessionFactory;

    <span class="hljs-keyword">static</span> {
        <span class="hljs-keyword">try</span> {
            sessionFactory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Configuration</span>().configure(<span class="hljs-string">"hibernate.cfg.xml"</span>).buildSessionFactory();
        } <span class="hljs-keyword">catch</span> (Throwable ex) {
            System.err.println(<span class="hljs-string">"Initial SessionFactory creation failed."</span> + ex);
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ExceptionInInitializerError</span>(ex);
        }
    }

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">Session</span> <span class="hljs-variable">session</span> <span class="hljs-operator">=</span> sessionFactory.openSession();
        <span class="hljs-type">Transaction</span> <span class="hljs-variable">transaction</span> <span class="hljs-operator">=</span> session.beginTransaction();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-type">Category</span> <span class="hljs-variable">category</span> <span class="hljs-operator">=</span> session.get(Category.class, <span class="hljs-number">1L</span>);
            System.out.println(<span class="hljs-string">"Category Name: "</span> + category.getName());

            <span class="hljs-comment">// å»¶è¿ŸåŠ è½½ï¼Œæ­¤æ—¶productsè¿˜æœªè¢«åŠ è½½</span>
            List&lt;Product&gt; products = category.getProducts();

            <span class="hljs-comment">// è®¿é—®productså±æ€§ï¼Œè§¦å‘å»¶è¿ŸåŠ è½½</span>
            <span class="hljs-keyword">for</span> (Product product : products) {
                System.out.println(<span class="hljs-string">"Product Name: "</span> + product.getName());
            }

            transaction.commit();
        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-keyword">if</span> (transaction != <span class="hljs-literal">null</span>) {
                transaction.rollback();
            }
            e.printStackTrace();
        } <span class="hljs-keyword">finally</span> {
            session.close();
        }
    }
}
</code></pre>
<h3 data-id="heading-6">4. é¿å…N+1æŸ¥è¯¢é—®é¢˜</h3>
<p>å»¶è¿ŸåŠ è½½åœ¨å¤„ç†å…³è”å…³ç³»æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°N+1æŸ¥è¯¢é—®é¢˜ï¼Œå³åŠ è½½ä¸€ä¸ªå¯¹è±¡é›†åˆæ—¶ï¼Œä¼šé¢å¤–æ‰§è¡Œå¤šæ¬¡å•ç‹¬æŸ¥è¯¢ã€‚å¯ä»¥é€šè¿‡æ‰¹é‡æŠ“å–æ¥ä¼˜åŒ–ã€‚</p>
<h4 data-id="heading-7">æ‰¹é‡æŠ“å–ç¤ºä¾‹</h4>
<p>åœ¨å‰é¢çš„é…ç½®ä¸­ï¼Œæˆ‘ä»¬å·²ç»è®¾ç½®äº†<code>hibernate.default_batch_fetch_size</code>ã€‚åœ¨å®ä½“ç±»ä¸Šä¹Ÿå¯ä»¥ä½¿ç”¨<code>@BatchSize</code>æ³¨è§£æ¥æ§åˆ¶æ‰¹é‡æŠ“å–çš„å¤§å°ã€‚</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> javax.persistence.*;
<span class="hljs-keyword">import</span> org.hibernate.annotations.BatchSize;

<span class="hljs-meta">@Entity</span>
<span class="hljs-meta">@Table(name = "category")</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Category</span> {
    <span class="hljs-meta">@Id</span>
    <span class="hljs-meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span>
    <span class="hljs-keyword">private</span> Long id;

    <span class="hljs-meta">@Column(name = "name")</span>
    <span class="hljs-keyword">private</span> String name;

    <span class="hljs-meta">@OneToMany(mappedBy = "category", fetch = FetchType.LAZY)</span>
    <span class="hljs-meta">@BatchSize(size = 10)</span>
    <span class="hljs-keyword">private</span> List&lt;Product&gt; products;

    <span class="hljs-comment">// Getters and Setters</span>
}
</code></pre>
<h3 data-id="heading-8">æ€»ç»“</h3>
<ol>
<li><strong>ä½¿ç”¨æ³¨è§£é…ç½®å»¶è¿ŸåŠ è½½</strong>ï¼šåœ¨å®ä½“ç±»å’Œå…³è”å…³ç³»ä¸Šé€šè¿‡æ³¨è§£é…ç½®<code>FetchType.LAZY</code>ã€‚</li>
<li><strong>é€šè¿‡é…ç½®æ–‡ä»¶é…ç½®å»¶è¿ŸåŠ è½½</strong>ï¼šåœ¨<code>hibernate.cfg.xml</code>ä¸­è®¾ç½®å»¶è¿ŸåŠ è½½ç›¸å…³çš„å±æ€§ã€‚</li>
<li><strong>åœ¨äº‹åŠ¡èŒƒå›´å†…ä½¿ç”¨å»¶è¿ŸåŠ è½½</strong>ï¼šç¡®ä¿åœ¨äº‹åŠ¡èŒƒå›´å†…è®¿é—®å»¶è¿ŸåŠ è½½çš„å±æ€§ï¼Œä»¥è§¦å‘æ•°æ®åŠ è½½ã€‚</li>
<li><strong>é¿å…N+1æŸ¥è¯¢é—®é¢˜</strong>ï¼šé€šè¿‡æ‰¹é‡æŠ“å–é…ç½®ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢æ¬¡æ•°ï¼Œæé«˜æ€§èƒ½ã€‚</li>
</ol>
<p>é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°é…ç½®å’Œä½¿ç”¨Hibernateçš„å»¶è¿ŸåŠ è½½ï¼Œä¼˜åŒ–åº”ç”¨ç¨‹åºçš„æ€§èƒ½å’Œèµ„æºä½¿ç”¨ã€‚å¸Œæœ›è¿™äº›è¯¦ç»†çš„è§£é‡Šå’Œä»£ç ç¤ºä¾‹èƒ½å¸®åŠ©æ‚¨æ›´å¥½åœ°ç†è§£å’Œåº”ç”¨Hibernateçš„å»¶è¿ŸåŠ è½½æŠ€æœ¯ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨ Docker å®ç°å¼€å‘ç¯å¢ƒçš„ä¸€è‡´æ€§ç®¡ç†]]></title>    <link>https://juejin.cn/post/7598260824223006763</link>    <guid>https://juejin.cn/post/7598260824223006763</guid>    <pubDate>2026-01-23T09:52:59.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598260824223006763" data-draft-id="7598376873546580011" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨ Docker å®ç°å¼€å‘ç¯å¢ƒçš„ä¸€è‡´æ€§ç®¡ç†"/> <meta itemprop="keywords" content="Docker"/> <meta itemprop="datePublished" content="2026-01-23T09:52:59.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="jcj"/> <meta itemprop="url" content="https://juejin.cn/user/3525486571169616"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨ Docker å®ç°å¼€å‘ç¯å¢ƒçš„ä¸€è‡´æ€§ç®¡ç†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3525486571169616/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    jcj
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:52:59.000Z" title="Fri Jan 23 2026 09:52:59 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä½¿ç”¨ Docker å®ç°å¼€å‘ç¯å¢ƒçš„ä¸€è‡´æ€§ç®¡ç†</h2>
<p>åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­ï¼Œä¸€ä¸ªå¸¸è§çš„ç—›ç‚¹æ˜¯â€œåœ¨æˆ‘æœºå™¨ä¸Šèƒ½è·‘â€ï¼ˆIt works on my machineï¼‰çš„é—®é¢˜ã€‚ä¸åŒå¼€å‘è€…ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿã€ä¾èµ–åº“ç‰ˆæœ¬ã€ç¯å¢ƒå˜é‡ç­‰å­˜åœ¨å·®å¼‚ï¼Œå¯¼è‡´ä»£ç åœ¨æœ¬åœ°è¿è¡Œæ­£å¸¸ï¼Œä½†åœ¨æµ‹è¯•æˆ–ç”Ÿäº§ç¯å¢ƒä¸­å´å‡ºç°å„ç§é—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸€éš¾é¢˜ï¼ŒDocker æŠ€æœ¯æä¾›äº†ä¸€ç§é«˜æ•ˆã€å¯å¤ç”¨çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>Docker æ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨åŒ–å¹³å°ï¼Œå®ƒå…è®¸å¼€å‘è€…å°†åº”ç”¨ç¨‹åºåŠå…¶æ‰€æœ‰ä¾èµ–æ‰“åŒ…åˆ°ä¸€ä¸ªè½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ã€‚è¿™ä¸ªå®¹å™¨å¯ä»¥åœ¨ä»»ä½•å®‰è£…äº† Docker çš„ç³»ç»Ÿä¸Šè¿è¡Œï¼Œä»è€Œç¡®ä¿å¼€å‘ã€æµ‹è¯•å’Œç”Ÿäº§ç¯å¢ƒçš„ä¸€è‡´æ€§ã€‚</p>
<p>ä»¥ä¸€ä¸ªå…¸å‹çš„ Web åº”ç”¨ä¸ºä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ª <code>Dockerfile</code> æ¥å®šä¹‰è¿è¡Œç¯å¢ƒï¼š</p>
<pre><code class="hljs language-Dockerfile" lang="Dockerfile">FROM python:3.10-slim
WORKDIR /app
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt
COPY . .
CMD ["python", "app.py"]
</code></pre>
<p>é€šè¿‡è¯¥æ–‡ä»¶ï¼Œæˆ‘ä»¬æŒ‡å®šäº†åŸºç¡€é•œåƒï¼ˆPython 3.10ï¼‰ã€å·¥ä½œç›®å½•ã€ä¾èµ–å®‰è£…æ–¹å¼ä»¥åŠå¯åŠ¨å‘½ä»¤ã€‚å›¢é˜Ÿæˆå‘˜åªéœ€è¿è¡Œ <code>docker build -t myapp .</code> å’Œ <code>docker run -p 5000:5000 myapp</code>ï¼Œå³å¯åœ¨æœ¬åœ°å¯åŠ¨å®Œå…¨ä¸€è‡´çš„åº”ç”¨ç¯å¢ƒã€‚</p>
<p>æ­¤å¤–ï¼Œç»“åˆ <code>docker-compose.yml</code> æ–‡ä»¶ï¼Œè¿˜å¯ä»¥è½»æ¾ç®¡ç†å¤šæœåŠ¡åº”ç”¨ï¼ˆå¦‚æ•°æ®åº“ã€ç¼“å­˜ã€å‰ç«¯ç­‰ï¼‰ï¼Œè¿›ä¸€æ­¥æå‡å¼€å‘æ•ˆç‡ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">'3'</span>
<span class="hljs-attr">services:</span>
  <span class="hljs-attr">web:</span>
    <span class="hljs-attr">build:</span> <span class="hljs-string">.</span>
    <span class="hljs-attr">ports:</span>
      <span class="hljs-bullet">-</span> <span class="hljs-string">"5000:5000"</span>
  <span class="hljs-attr">redis:</span>
    <span class="hljs-attr">image:</span> <span class="hljs-string">"redis:alpine"</span>
</code></pre>
<p>é€šè¿‡ Dockerï¼Œä¸ä»…è§£å†³äº†ç¯å¢ƒä¸ä¸€è‡´çš„é—®é¢˜ï¼Œè¿˜ç®€åŒ–äº†éƒ¨ç½²æµç¨‹ï¼Œæå‡äº†å›¢é˜Ÿåä½œæ•ˆç‡ã€‚å¯¹äºè¿½æ±‚ DevOps å’ŒæŒç»­é›†æˆ/æŒç»­äº¤ä»˜ï¼ˆCI/CDï¼‰çš„å›¢é˜Ÿæ¥è¯´ï¼ŒDocker å·²æˆä¸ºä¸å¯æˆ–ç¼ºçš„åŸºç¡€è®¾æ–½å·¥å…·ã€‚</p>
<p>æ€»ä¹‹ï¼Œåˆç†ä½¿ç”¨ Docker å¯ä»¥æ˜¾è‘—é™ä½ç¯å¢ƒé…ç½®æˆæœ¬ï¼Œæé«˜è½¯ä»¶äº¤ä»˜è´¨é‡ä¸é€Ÿåº¦ï¼Œå€¼å¾—æ¯ä¸€ä½å¼€å‘è€…æ·±å…¥æŒæ¡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vue3+viteä½¿ç”¨unocsså’Œvantåšç§»åŠ¨ç«¯å¼€å‘é€‚é…,ä½¿ç”¨lib-flexibleé€‚é…RemToPx]]></title>    <link>https://juejin.cn/post/7598181989969215515</link>    <guid>https://juejin.cn/post/7598181989969215515</guid>    <pubDate>2026-01-23T09:43:08.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598181989969215515" data-draft-id="7598103558887292974" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vue3+viteä½¿ç”¨unocsså’Œvantåšç§»åŠ¨ç«¯å¼€å‘é€‚é…,ä½¿ç”¨lib-flexibleé€‚é…RemToPx"/> <meta itemprop="keywords" content="å‰ç«¯,Vue.js,CSS"/> <meta itemprop="datePublished" content="2026-01-23T09:43:08.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§æµ·ä¹‹ä¸Šæ²¡æœ‰é±¼"/> <meta itemprop="url" content="https://juejin.cn/user/2216269258969192"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vue3+viteä½¿ç”¨unocsså’Œvantåšç§»åŠ¨ç«¯å¼€å‘é€‚é…,ä½¿ç”¨lib-flexibleé€‚é…RemToPx
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2216269258969192/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§æµ·ä¹‹ä¸Šæ²¡æœ‰é±¼
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:43:08.000Z" title="Fri Jan 23 2026 09:43:08 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    13
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h3 data-id="heading-0">lib-flexibleè®¾ç½®æ ¹å­—å·</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">npm</span> <span class="hljs-selector-tag">i</span> <span class="hljs-selector-tag">lib-flexible</span>
<span class="hljs-comment">//ç„¶ååœ¨mian.jsä¸­å¼•å…¥</span>
</code></pre>
<h3 data-id="heading-1">uno.config.jsè®¾ç½®</h3>
<p>æ ¹ç›®å½•åˆ›å»ºuno.config.jsæ–‡ä»¶ï¼Œéœ€è¦å®‰è£…
npm i @unocss/preset-rem-to-px</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { defineConfig, presetWind3 } <span class="hljs-keyword">from</span> <span class="hljs-string">'unocss'</span>
<span class="hljs-keyword">import</span> presetRemToPx <span class="hljs-keyword">from</span> <span class="hljs-string">'@unocss/preset-rem-to-px'</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>({
    <span class="hljs-attr">presets</span>: [
        <span class="hljs-title function_">presetWind3</span>(),  <span class="hljs-comment">//é¢„è®¾æ ·å¼</span>
        <span class="hljs-title function_">presetRemToPx</span>()  <span class="hljs-comment">// é‡ç‚¹ï¼ŒæŠŠé¢„è®¾çš„remè½¬æˆpxï¼Œè¿™æ ·postCssPxToRemå°±å¯ä»¥è½¬äº† ä¾‹å¦‚é¢„è®¾æ ·å¼ text-baseçš„font-size:1rem;ç»è¿‡è½¬æ¢å˜æˆ16pxï¼Œåœ¨ç»è¿‡postCssPxToRemè½¬æ¢æˆrem</span>
    ]
})
</code></pre>
<h3 data-id="heading-2">è¿™ä¸ªæ˜¯viteçš„é…ç½®</h3>
<pre><code class="hljs language-php" lang="php">import postCssPxToRem <span class="hljs-keyword">from</span> <span class="hljs-string">'postcss-pxtorem'</span>
import UnoCSS <span class="hljs-keyword">from</span> <span class="hljs-string">'unocss/vite'</span>

export <span class="hljs-keyword">default</span> <span class="hljs-title function_ invoke__">defineConfig</span>({
    <span class="hljs-attr">plugins</span>: [
        <span class="hljs-title function_ invoke__">UnoCSS</span>(),
    ],
    <span class="hljs-attr">css</span>: {
        <span class="hljs-attr">postcss</span>: {
            <span class="hljs-attr">plugins</span>: [
                <span class="hljs-title function_ invoke__">postCssPxToRem</span>({
                  <span class="hljs-attr">rootValue</span>: <span class="hljs-number">37.5</span>,
                  <span class="hljs-attr">unitPrecision</span>: <span class="hljs-number">6</span>,
                  <span class="hljs-attr">minPixelValue</span>: <span class="hljs-number">1</span>,
                  <span class="hljs-attr">propList</span>: [<span class="hljs-string">'*'</span>],
                  <span class="hljs-attr">mediaQuery</span>: <span class="hljs-literal">false</span>,
                })
            ]
        }
    }
)}
</code></pre>
<p>å…¶ä»–çš„æŒ‰ç…§vantæ–‡æ¡£æ­£å¸¸ä½¿ç”¨å°±å¥½äº†</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[IDEA 2025.3.1.1 ç´§æ€¥å‘å¸ƒï¼Œä¿®å¤é‡å¤§BUG]]></title>    <link>https://juejin.cn/post/7598382710294331392</link>    <guid>https://juejin.cn/post/7598382710294331392</guid>    <pubDate>2026-01-23T09:57:42.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598382710294331392" data-draft-id="7598355220829978676" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="IDEA 2025.3.1.1 ç´§æ€¥å‘å¸ƒï¼Œä¿®å¤é‡å¤§BUG"/> <meta itemprop="keywords" content="IntelliJ IDEA"/> <meta itemprop="datePublished" content="2026-01-23T09:57:42.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ahubbub"/> <meta itemprop="url" content="https://juejin.cn/user/2999123451061160"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            IDEA 2025.3.1.1 ç´§æ€¥å‘å¸ƒï¼Œä¿®å¤é‡å¤§BUG
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2999123451061160/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ahubbub
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:57:42.000Z" title="Fri Jan 23 2026 09:57:42 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    10
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">IDEA 2025.3.1.1 ç´§æ€¥å‘å¸ƒï¼Œä¿®å¤é‡å¤§BUG</h2>
<p><code>IntelliJ IDEA 2025.3</code> å‘å¸ƒåï¼Œæ›´æ–°èŠ‚å¥å¿«å¾—æœ‰ç‚¹â€œè¿½ç€äººè·‘â€ã€‚<code>2025.3.1</code> ä½œä¸ºé¦–ä¸ªè¡¥ä¸ç‰ˆæœ¬ï¼Œæœ¬æ¥æ˜¯æ¥ä¿® bugã€ç¨³ä½“éªŒçš„ã€‚</p>
<p>ä½†å¾ˆå¤šåŒå­¦å‡å®Œå‘ç°ä¸å¯¹åŠ²ï¼šMaven é¡¹ç›®ä¸€æ‰“å¼€å°±å¼€å§‹ç‹‚åƒ CPU/å†…å­˜ï¼Œç”šè‡³ç›´æ¥å‡æ­»ï¼›ç”¨ WSL2 å¼€å‘çš„ï¼Œé‡å¯ IDE åé…ç½®è¿˜ä¼šè«åå…¶å¦™ä¸¢ä¸€éƒ¨åˆ†ã€‚</p>
<p>å› æ­¤ JetBrains å‘å¸ƒäº† <code>2025.3.1.1</code> ä½œä¸ºç´§æ€¥ä¿®å¤ç‰ˆæœ¬ï¼ˆhotfixï¼‰ã€‚å¦‚æœä½ è¿‘æœŸå·²ç»å‡çº§åˆ° <code>2025.3.1</code> ä¸”é‡åˆ°å¼‚å¸¸ï¼Œå»ºè®®ç›´æ¥å‡çº§åˆ° <code>2025.3.1.1</code>ã€‚</p>
<h3 data-id="heading-1">ç»“è®º</h3>
<ul>
<li>ç›´æ¥å‡çº§åˆ° <code>2025.3.1.1</code>ï¼šå¤§å‹ Maven é¡¹ç›®ï¼ˆå¤šæ¨¡å—/ä¾èµ–å¤æ‚ï¼‰ï¼Œæˆ–è€… Windows ä¸‹ç”¨ WSL2 æ–‡ä»¶ç³»ç»Ÿå¼€å‘ï¼›ä»¥åŠå‡çº§åˆ° <code>2025.3.1</code> åå‡ºç°å¡é¡¿/æ— å“åº”/OOMã€‚</li>
<li>å¯ä»¥ç¨å¾®è§‚æœ›ï¼šçº¯æœ¬åœ°å°é¡¹ç›®ï¼Œè¿‘æœŸä¹Ÿä¸æŠ˜è…¾ Maven é‡å¯¼å…¥/é‡å»ºï¼Œä¸ç”¨ WSL2ã€‚</li>
</ul>
<h3 data-id="heading-2">é‡å¤§é—®é¢˜ 1ï¼šæ‰“å¼€ Maven é¡¹ç›®å¯¼è‡´ IDE å¡æ­» / OOM</h3>
<h4 data-id="heading-3">ç—‡çŠ¶</h4>
<ul>
<li>æ‰“å¼€æˆ–å¯¼å…¥å¤§å‹ Maven å¤šæ¨¡å—é¡¹ç›®åï¼ŒIDE é•¿æ—¶é—´æ— å“åº”ï¼šCPU å ç”¨æŒç»­è¾ƒé«˜ã€å†…å­˜æŒç»­ä¸Šæ¶¨ã€‚</li>
<li>éƒ¨åˆ†æƒ…å†µä¸‹ä¼šç›´æ¥å‡æ­»ç”šè‡³ OOMï¼Œåªèƒ½å¼ºåˆ¶ç»“æŸè¿›ç¨‹ã€‚</li>
</ul>
<h4 data-id="heading-4">åŸå› </h4>
<p>è¿™ç±»é—®é¢˜ä¸€èˆ¬å‡ºåœ¨ <strong>Maven é¡¹ç›®æ¨¡å‹åˆå§‹åŒ–/ç¼“å­˜è¯»å–/æ¨¡å—èšåˆå…³ç³»æ„å»º</strong> é˜¶æ®µã€‚ç®€å•è¯´å°±æ˜¯ï¼šæŸä¸ªå¼‚å¸¸è·¯å¾„æŠŠåŒä¸€æ®µé€»è¾‘é‡å¤è·‘äº†å¾ˆå¤šæ¬¡ï¼Œå†…éƒ¨åˆæ²¡åšå¥½å»é‡/é‡Šæ”¾ï¼Œå¯¼å…¥è¶Šä¹…è¶Šâ€œè†¨èƒ€â€ï¼Œæœ€åå°±å¡æ­»æˆ– OOMã€‚</p>
<h4 data-id="heading-5">ä¿®å¤</h4>
<ul>
<li><strong>æ¨è</strong>ï¼šå‡çº§åˆ° <code>2025.3.1.1</code>ï¼ˆå®˜æ–¹ hotfixï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-6">ä¸´æ—¶æ–¹æ¡ˆ</h4>
<p>æ³¨æ„ï¼šåˆ é™¤çš„æ˜¯ <strong>IDE çš„ Maven ç¼“å­˜</strong>ï¼Œä¸æ˜¯ Maven æœ¬æœºä»“åº“ï¼ˆ<code>~/.m2/repository</code>ï¼‰ã€‚æ‰§è¡Œå‰å»ºè®®å…ˆé€€å‡º IDEã€‚</p>
<ul>
<li>Windowsï¼š<code>C:\Users\&lt;ç”¨æˆ·å&gt;\AppData\Local\JetBrains\IntelliJIdea2025.3\Maven</code></li>
<li>macOSï¼š<code>~/Library/Caches/JetBrains/IntelliJIdea2025.3/Maven</code></li>
<li>Linuxï¼š<code>~/.cache/JetBrains/IntelliJIdea2025.3/Maven</code></li>
</ul>
<p>å¯é€‰ï¼šå…³é—­ç¼–è¾‘å™¨ Tab æ–‡ä»¶å›¾æ ‡æ˜¾ç¤ºï¼Œå‡å°‘æŸäº› UI è®¡ç®—è§¦å‘é“¾è·¯</p>
<ul>
<li><code>Settings | Editor | General | Editor Tabs</code></li>
<li>å–æ¶ˆå‹¾é€‰ <code>Show file icon</code></li>
</ul>
<h4 data-id="heading-7">éªŒè¯</h4>
<ul>
<li>å†·å¯åŠ¨ IDEï¼ˆå®Œå…¨é€€å‡ºå†æ‰“å¼€ï¼‰ï¼Œé‡æ–°æ‰“å¼€åŒä¸€ Maven é¡¹ç›®ã€‚</li>
<li>è§‚å¯Ÿå¯¼å…¥é˜¶æ®µï¼šCPU/å†…å­˜æ˜¯å¦æŒç»­ä¸Šå‡ä¸å›è½ï¼Œæ˜¯å¦åœ¨å¯æ¥å—æ—¶é—´å†…æ¢å¤äº¤äº’ã€‚</li>
<li>å›å½’å…³é”®æ“ä½œï¼šReimport/Reloadã€Buildã€<code>Resume Build From</code>ã€‚</li>
</ul>
<h3 data-id="heading-8">é‡å¤§é—®é¢˜ 2ï¼šWSL2 é¡¹ç›®è®¾ç½®é‡å¯åä¸¢å¤±</h3>
<h4 data-id="heading-9">ç—‡çŠ¶</h4>
<ul>
<li>åœ¨ WSL2 æ–‡ä»¶ç³»ç»Ÿä¸­æ‰“å¼€é¡¹ç›®ï¼Œé…ç½®å¥½çš„ Run/Debug é…ç½®ã€è§£é‡Šå™¨/JDKã€æŸäº›æ’ä»¶è®¾ç½®ç­‰ï¼Œåœ¨é‡å¯ IDE åè¢«é‡ç½®ã€‚</li>
<li>æœ‰æ—¶å³ä½¿ <code>.idea</code> ä¸­ä»ä¿ç•™é…ç½®ç‰‡æ®µï¼ŒIDE ä¹Ÿå¯èƒ½æ²¡æœ‰æŒ‰é¢„æœŸåŠ è½½ã€‚</li>
</ul>
<h4 data-id="heading-10">ä¿®å¤</h4>
<ul>
<li><strong>æ¨è</strong>ï¼šå‡çº§åˆ° <code>2025.3.1.1</code>ã€‚</li>
</ul>
<h4 data-id="heading-11">ä¸´æ—¶æ–¹æ¡ˆï¼ˆRegistry è§„é¿ï¼‰</h4>
<p>å¦‚æœæš‚æ—¶æ— æ³•å‡çº§ï¼Œå¯ä»¥å…ˆç”¨ä¸€ä¸ªâ€œä¿å®ˆå¼€å…³â€è§„é¿ï¼ˆé€šå¸¸æ›´ç¨³ï¼Œä½†ä¹Ÿå¯èƒ½ç‰ºç‰²ä¸€ç‚¹ç‚¹æ€§èƒ½ï¼‰ï¼š</p>
<ol>
<li><code>Ctrl+Shift+A</code>ï¼ˆmacOS ä¸º <code>Cmd+Shift+A</code>ï¼‰æ‰“å¼€åŠ¨ä½œæœç´¢</li>
<li>è¾“å…¥å¹¶æ‰“å¼€ <code>Registry</code></li>
<li>æœç´¢ <code>wsl.use.remote.agent.for.nio.filesystem</code></li>
<li>å–æ¶ˆå‹¾é€‰</li>
<li>é‡å¯ IDE</li>
</ol>
<h4 data-id="heading-12">éªŒè¯</h4>
<ul>
<li>æ–°å¢ä¸€ä¸ª Run Configurationï¼ˆä¾‹å¦‚æ–°å¢ä¸€ä¸ª Spring Boot å¯åŠ¨é…ç½®ï¼‰ã€‚</li>
<li>å®Œå…¨é€€å‡º IDE åå†æ‰“å¼€åŒä¸€ WSL2 é¡¹ç›®ï¼Œç¡®è®¤é…ç½®ä»å­˜åœ¨ä¸”å¯è¿è¡Œã€‚</li>
</ul>
<h3 data-id="heading-13">å‚è€ƒ</h3>
<ul>
<li>å®˜æ–¹è¯´æ˜ï¼š<code>https://blog.jetbrains.com/idea/2025/12/intellij-idea-2025-3-1/</code></li>
</ul></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä½¿ç”¨C#å°†DataTableå¿«é€Ÿå¯¼å‡ºä¸ºWordè¡¨æ ¼]]></title>    <link>https://juejin.cn/post/7598370121436348466</link>    <guid>https://juejin.cn/post/7598370121436348466</guid>    <pubDate>2026-01-23T10:04:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598370121436348466" data-draft-id="7598362826110255154" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä½¿ç”¨C#å°†DataTableå¿«é€Ÿå¯¼å‡ºä¸ºWordè¡¨æ ¼"/> <meta itemprop="keywords" content="åç«¯,C#"/> <meta itemprop="datePublished" content="2026-01-23T10:04:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·835629078051"/> <meta itemprop="url" content="https://juejin.cn/user/3150554985403516"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä½¿ç”¨C#å°†DataTableå¿«é€Ÿå¯¼å‡ºä¸ºWordè¡¨æ ¼
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3150554985403516/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·835629078051
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T10:04:28.000Z" title="Fri Jan 23 2026 10:04:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e593cf0c3cf848f084141e36a1bcfbb3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODM1NjI5MDc4MDUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769767553&amp;x-signature=3Ga8oBtZpIAHdI41QQ4y1noI3N0%3D" alt="å¦‚ä½•ä½¿ç”¨C#å¯¼å‡ºDataTableä¸ºWordæ–‡æ¡£è¡¨æ ¼" loading="lazy"/></p>
<p>åœ¨ç°ä»£C#åº”ç”¨å¼€å‘ä¸­ï¼Œå°†ç¨‹åºæ•°æ®ä»¥ç»“æ„åŒ–çš„å½¢å¼å¯¼å‡ºä¸ºç”¨æˆ·å‹å¥½çš„Wordæ–‡æ¡£æ˜¯ä¸€é¡¹å¸¸è§çš„éœ€æ±‚ã€‚æ— è®ºæ˜¯ç”ŸæˆæŠ¥è¡¨ã€åˆåŒè¿˜æ˜¯å…¶ä»–ä¸šåŠ¡æ–‡æ¡£ï¼Œæ‰‹åŠ¨åˆ›å»ºWordæ–‡æ¡£ä¸ä»…è€—æ—¶ï¼Œè€Œä¸”å®¹æ˜“å‡ºé”™ã€‚å°¤å…¶å½“æ•°æ®é‡è¾ƒå¤§æˆ–éœ€è¦é¢‘ç¹ç”Ÿæˆæ—¶ï¼Œè¿™ç§ä½æ•ˆçš„å·¥ä½œæ–¹å¼ä¼šæˆä¸ºå¼€å‘è€…çš„ç—›ç‚¹ã€‚</p>
<p>æœ¬æ–‡æ—¨åœ¨æä¾›ä¸€ç§é«˜æ•ˆã€è‡ªåŠ¨åŒ–çš„è§£å†³æ–¹æ¡ˆï¼Œåˆ©ç”¨<strong>Spire.Doc for .NET</strong>åº“ï¼Œå¸®åŠ©C#å¼€å‘è€…è½»æ¾å®ç°å°†<code>DataTable</code>ä¸­çš„æ•°æ®å¯¼å‡ºåˆ°Wordæ–‡æ¡£ï¼Œå¹¶ä»¥è¡¨æ ¼å½¢å¼æ¸…æ™°å±•ç¤ºã€‚æˆ‘ä»¬å°†é€šè¿‡è¯¦ç»†çš„æ­¥éª¤å’Œä»£ç ç¤ºä¾‹ï¼Œç¡®ä¿æ‚¨èƒ½å¤Ÿé¡ºåˆ©åœ°åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­åº”ç”¨è¿™ä¸€æŠ€æœ¯ã€‚</p>
<hr/>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆé€‰æ‹©Spire.Doc for .NET?</h2>
<p>Spire.Doc for .NETæ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ä¸”æ˜“äºé›†æˆçš„.NETç»„ä»¶ï¼Œä¸“é—¨ç”¨äºå¤„ç†Wordæ–‡æ¡£çš„å„ç§æ“ä½œã€‚å®ƒå…è®¸å¼€å‘è€…åœ¨ä¸ä¾èµ–Microsoft Officeçš„æƒ…å†µä¸‹ï¼Œåˆ›å»ºã€è¯»å–ã€ç¼–è¾‘ã€è½¬æ¢å’Œæ‰“å°Wordæ–‡æ¡£ã€‚åœ¨å°†<code>DataTable</code>æ•°æ®å¯¼å‡ºåˆ°Wordæ–‡æ¡£çš„åœºæ™¯ä¸­ï¼ŒSpire.Doc for .NETçš„ä¼˜åŠ¿å°¤ä¸ºçªå‡ºï¼š</p>
<ul>
<li><strong>å…¨é¢çš„è¡¨æ ¼æ”¯æŒï¼š</strong> èƒ½å¤Ÿçµæ´»åˆ›å»ºè¡¨æ ¼ã€è®¾ç½®è¡¨æ ¼æ ·å¼ï¼ˆè¾¹æ¡†ã€èƒŒæ™¯è‰²ã€å¯¹é½æ–¹å¼ï¼‰ã€åˆå¹¶å•å…ƒæ ¼ç­‰ï¼Œå®Œç¾å¥‘åˆ<code>DataTable</code>çš„äºŒç»´æ•°æ®ç»“æ„ã€‚</li>
<li><strong>ä¸°å¯Œçš„æ ¼å¼åŒ–é€‰é¡¹ï¼š</strong> æä¾›å¯¹æ–‡æœ¬ã€æ®µè½ã€å›¾ç‰‡ç­‰å…ƒç´ çš„ç²¾ç»†æ§åˆ¶ï¼Œæ–¹ä¾¿å¼€å‘è€…ç¾åŒ–æ–‡æ¡£ï¼Œæ»¡è¶³å„ç§ä¸šåŠ¡éœ€æ±‚ã€‚</li>
<li><strong>é«˜æ€§èƒ½ä¸ç¨³å®šæ€§ï¼š</strong> é€‚ç”¨äºå¤„ç†å¤§é‡æ•°æ®å’Œç”Ÿæˆå¤æ‚æ–‡æ¡£ï¼Œä¿è¯ç¨‹åºè¿è¡Œçš„æ•ˆç‡å’Œç¨³å®šæ€§ã€‚</li>
<li><strong>æ˜“äºé›†æˆä¸APIå‹å¥½ï¼š</strong> .NETå¼€å‘äººå‘˜å¯ä»¥è½»æ¾åœ°é€šè¿‡NuGetåŒ…ç®¡ç†å·¥å…·å°†å…¶é›†æˆåˆ°é¡¹ç›®ä¸­ï¼Œå¹¶åˆ©ç”¨ç›´è§‚çš„APIè¿›è¡Œç¼–ç¨‹ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-1">ç¯å¢ƒå‡†å¤‡ä¸åº“çš„å®‰è£…</h2>
<p>åœ¨ä½¿ç”¨Spire.Doc for .NETä¹‹å‰ï¼Œæ‚¨éœ€è¦å°†å…¶æ·»åŠ åˆ°æ‚¨çš„C#é¡¹ç›®ä¸­ã€‚</p>
<ol>
<li>
<p><strong>åˆ›å»ºæˆ–æ‰“å¼€æ‚¨çš„.NETé¡¹ç›®ï¼š</strong> ç¡®ä¿æ‚¨æœ‰ä¸€ä¸ªVisual Studioé¡¹ç›®ï¼ˆå¯ä»¥æ˜¯æ§åˆ¶å°åº”ç”¨ã€WinFormsã€WPFæˆ–ASP.NETï¼‰ã€‚</p>
</li>
<li>
<p><strong>å®‰è£…NuGetåŒ…ï¼š</strong> åœ¨Visual Studioä¸­ï¼Œå³é”®ç‚¹å‡»æ‚¨çš„é¡¹ç›®ï¼Œé€‰æ‹©â€œç®¡ç†NuGetç¨‹åºåŒ…(Manage NuGet Packages...)â€ã€‚</p>
<ul>
<li>åœ¨â€œæµè§ˆâ€é€‰é¡¹å¡ä¸­ï¼Œæœç´¢â€œ<code>Spire.Doc</code>â€ã€‚</li>
<li>æ‰¾åˆ°â€œ<code>Spire.Doc</code>â€åŒ…ï¼Œç‚¹å‡»â€œå®‰è£…â€ã€‚</li>
<li>æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ‰“å¼€â€œç¨‹åºåŒ…ç®¡ç†å™¨æ§åˆ¶å°(Package Manager Console)â€ï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤å¹¶æŒ‰å›è½¦é”®ï¼š</li>
</ul>
<pre><code class="hljs language-powershell" lang="powershell">Install-Package Spire.Doc
</code></pre>
</li>
</ol>
<p>å®‰è£…å®Œæˆåï¼Œæ‚¨çš„é¡¹ç›®å°†å¼•ç”¨Spire.Doc for .NETåº“ï¼Œæ‚¨å¯ä»¥å¼€å§‹ç¼–å†™ä»£ç äº†ã€‚</p>
<hr/>
<h2 data-id="heading-2">æ ¸å¿ƒå®ç°ï¼šDataTableåˆ°Wordè¡¨æ ¼</h2>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å°†ä¸€ä¸ª<code>DataTable</code>çš„æ•°æ®å¯¼å‡ºä¸ºWordæ–‡æ¡£ä¸­çš„è¡¨æ ¼ã€‚</p>
<h3 data-id="heading-3">æ­¥éª¤åˆ†è§£</h3>
<ol>
<li><strong>åˆ›å»ºWordæ–‡æ¡£å¯¹è±¡ï¼š</strong> åˆå§‹åŒ–<code>Document</code>å’Œ<code>Section</code>ï¼Œè¿™å°†æ˜¯æ‚¨Wordæ–‡æ¡£çš„åŸºç¡€ç»“æ„ã€‚</li>
<li><strong>å‡†å¤‡DataTableæ•°æ®ï¼š</strong> æ¨¡æ‹Ÿä¸€ä¸ª<code>DataTable</code>ï¼Œç”¨äºæ¼”ç¤ºæ•°æ®å¯¼å‡ºã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™äº›æ•°æ®å¯èƒ½æ¥è‡ªæ•°æ®åº“æŸ¥è¯¢ã€APIæ¥å£æˆ–å…¶ä»–æ•°æ®æºã€‚</li>
<li><strong>åˆ›å»ºWordè¡¨æ ¼ï¼š</strong> åœ¨<code>Section</code>ä¸­æ·»åŠ ä¸€ä¸ª<code>Table</code>å¯¹è±¡ã€‚</li>
<li><strong>è®¾ç½®è¡¨æ ¼æ ·å¼ï¼š</strong> å¯¹Wordè¡¨æ ¼è¿›è¡Œç¾åŒ–ï¼Œä¾‹å¦‚è®¾ç½®è¾¹æ¡†ã€èƒŒæ™¯è‰²ã€è¡Œé«˜ã€åˆ—å®½ä»¥åŠå•å…ƒæ ¼æ–‡æœ¬å¯¹é½æ–¹å¼ã€‚</li>
<li><strong>å¡«å……è¡¨å¤´ï¼š</strong> éå†<code>DataTable</code>çš„<code>Columns</code>é›†åˆï¼Œå°†åˆ—åä½œä¸ºWordè¡¨æ ¼çš„ç¬¬ä¸€è¡Œï¼ˆè¡¨å¤´ï¼‰å†…å®¹ã€‚</li>
<li><strong>å¡«å……æ•°æ®è¡Œï¼š</strong> éå†<code>DataTable</code>çš„<code>Rows</code>é›†åˆï¼Œå°†æ¯ä¸€è¡Œçš„æ•°æ®ä¾æ¬¡å¡«å……åˆ°Wordè¡¨æ ¼çš„ç›¸åº”å•å…ƒæ ¼ä¸­ã€‚</li>
<li><strong>ä¿å­˜æ–‡æ¡£ï¼š</strong> å°†ç”Ÿæˆçš„Wordæ–‡æ¡£ä¿å­˜åˆ°æŒ‡å®šè·¯å¾„ã€‚</li>
</ol>
<h3 data-id="heading-4">ä»£ç ç¤ºä¾‹</h3>
<p>ä»¥ä¸‹æ˜¯å®Œæ•´çš„C#ä»£ç ç¤ºä¾‹ï¼Œæ¼”ç¤ºäº†å¦‚ä½•å°†ä¸€ä¸ªæ¨¡æ‹Ÿçš„<code>DataTable</code>å¯¼å‡ºä¸ºWordæ–‡æ¡£ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.Data;
<span class="hljs-keyword">using</span> Spire.Doc;
<span class="hljs-keyword">using</span> Spire.Doc.Documents;
<span class="hljs-keyword">using</span> Spire.Doc.Fields;
<span class="hljs-keyword">using</span> System.Drawing;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">DataTableToWordExporter</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ExportDataTableToWord</span>(<span class="hljs-params">DataTable dataTable, <span class="hljs-built_in">string</span> filePath</span>)</span>
    {
        <span class="hljs-comment">// 1. åˆ›å»ºWordæ–‡æ¡£å¯¹è±¡</span>
        Document document = <span class="hljs-keyword">new</span> Document();
        Section section = document.AddSection();

        <span class="hljs-comment">// æ·»åŠ ä¸€ä¸ªæ®µè½ä½œä¸ºæ ‡é¢˜</span>
        Paragraph titleParagraph = section.AddParagraph();
        titleParagraph.Format.HorizontalAlignment = HorizontalAlignment.Center;
        TextRange titleText = titleParagraph.AppendText(<span class="hljs-string">"äº§å“é”€å”®æŠ¥è¡¨"</span>);
        titleText.CharacterFormat.FontSize = <span class="hljs-number">20</span>;
        titleText.CharacterFormat.Bold = <span class="hljs-literal">true</span>;
        section.AddParagraph().AppendText(Environment.NewLine); <span class="hljs-comment">// ç©ºè¡Œ</span>

        <span class="hljs-comment">// 2. å‡†å¤‡DataTableæ•°æ® (æ­¤å¤„ä¸ºæ¨¡æ‹Ÿæ•°æ®ï¼Œå®é™…åº”ç”¨ä¸­æ•°æ®å¯èƒ½æ¥è‡ªæ•°æ®åº“ç­‰)</span>
        <span class="hljs-comment">// å‡è®¾dataTableå·²ç”±è°ƒç”¨è€…æä¾›</span>

        <span class="hljs-comment">// æ£€æŸ¥DataTableæ˜¯å¦æœ‰æ•°æ®</span>
        <span class="hljs-keyword">if</span> (dataTable == <span class="hljs-literal">null</span> || dataTable.Rows.Count == <span class="hljs-number">0</span>)
        {
            Paragraph noDataParagraph = section.AddParagraph();
            noDataParagraph.AppendText(<span class="hljs-string">"æ²¡æœ‰å¯ç”¨çš„æ•°æ®è¿›è¡Œå¯¼å‡ºã€‚"</span>);
            document.SaveToFile(filePath, FileFormat.Docx);
            Console.WriteLine(<span class="hljs-string">"æ²¡æœ‰æ•°æ®ï¼Œæ–‡æ¡£å·²ä¿å­˜ã€‚"</span>);
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-comment">// 3. åˆ›å»ºWordè¡¨æ ¼</span>
        Table table = section.AddTable(<span class="hljs-literal">true</span>);
        table.ResetCells(dataTable.Rows.Count + <span class="hljs-number">1</span>, dataTable.Columns.Count); <span class="hljs-comment">// +1 ç”¨äºè¡¨å¤´</span>

        <span class="hljs-comment">// 4. è®¾ç½®è¡¨æ ¼æ ·å¼</span>
        <span class="hljs-comment">// è®¾ç½®è¡¨æ ¼è¾¹æ¡†</span>
        table.TableFormat.Borders.LineWidth = <span class="hljs-number">1</span>;
        table.TableFormat.Borders.BorderType = BorderStyle.Single;
        table.TableFormat.Borders.Color = Color.Black;

        <span class="hljs-comment">// è®¾ç½®è¡¨æ ¼æ•´ä½“å®½åº¦é€‚åº”é¡µé¢</span>
        table.PreferredWidth = <span class="hljs-keyword">new</span> PreferredWidth(WidthType.Percentage, <span class="hljs-number">100</span>);
        table.TableFormat.HorizontalAlignment = RowAlignment.Center;

        <span class="hljs-comment">// 5. å¡«å……è¡¨å¤´</span>
        TableRow headerRow = table.Rows[<span class="hljs-number">0</span>];
        headerRow.IsHeader = <span class="hljs-literal">true</span>; <span class="hljs-comment">// è®¾ç½®ä¸ºè¡¨å¤´è¡Œ</span>
        headerRow.RowFormat.BackColor = Color.LightGray; <span class="hljs-comment">// è¡¨å¤´èƒŒæ™¯è‰²</span>
        headerRow.RowFormat.Height = <span class="hljs-number">25</span>; <span class="hljs-comment">// è¡¨å¤´è¡Œé«˜</span>
        headerRow.RowFormat.HeightType = TableRowHeightType.Exactly;

        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; dataTable.Columns.Count; i++)
        {
            headerRow.Cells[i].CellFormat.VerticalAlignment = VerticalAlignment.Middle;
            Paragraph p = headerRow.Cells[i].AddParagraph();
            p.Format.HorizontalAlignment = HorizontalAlignment.Center;
            TextRange tr = p.AppendText(dataTable.Columns[i].ColumnName);
            tr.CharacterFormat.Bold = <span class="hljs-literal">true</span>;
            tr.CharacterFormat.FontSize = <span class="hljs-number">11</span>;
        }

        <span class="hljs-comment">// 6. å¡«å……æ•°æ®è¡Œ</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> r = <span class="hljs-number">0</span>; r &lt; dataTable.Rows.Count; r++)
        {
            TableRow dataRow = table.Rows[r + <span class="hljs-number">1</span>]; <span class="hljs-comment">// +1 è·³è¿‡è¡¨å¤´</span>
            dataRow.RowFormat.Height = <span class="hljs-number">20</span>;
            dataRow.RowFormat.HeightType = TableRowHeightType.Exactly;

            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> c = <span class="hljs-number">0</span>; c &lt; dataTable.Columns.Count; c++)
            {
                dataRow.Cells[c].CellFormat.VerticalAlignment = VerticalAlignment.Middle;
                Paragraph p = dataRow.Cells[c].AddParagraph();
                p.Format.HorizontalAlignment = HorizontalAlignment.Center;
                TextRange tr = p.AppendText(dataTable.Rows[r][c].ToString());
                tr.CharacterFormat.FontSize = <span class="hljs-number">10</span>;
            }
        }

        <span class="hljs-comment">// 7. ä¿å­˜æ–‡æ¡£</span>
        <span class="hljs-keyword">try</span>
        {
            document.SaveToFile(filePath, FileFormat.Docx);
            Console.WriteLine(<span class="hljs-string">$"DataTableå·²æˆåŠŸå¯¼å‡ºåˆ°Wordæ–‡æ¡£: <span class="hljs-subst">{filePath}</span>"</span>);
        }
        <span class="hljs-keyword">catch</span> (Exception ex)
        {
            Console.WriteLine(<span class="hljs-string">$"å¯¼å‡ºWordæ–‡æ¡£æ—¶å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>);
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
    {
        <span class="hljs-comment">// æ¨¡æ‹Ÿä¸€ä¸ªDataTable</span>
        DataTable dt = <span class="hljs-keyword">new</span> DataTable(<span class="hljs-string">"Products"</span>);
        dt.Columns.Add(<span class="hljs-string">"äº§å“ID"</span>, <span class="hljs-keyword">typeof</span>(<span class="hljs-built_in">int</span>));
        dt.Columns.Add(<span class="hljs-string">"äº§å“åç§°"</span>, <span class="hljs-keyword">typeof</span>(<span class="hljs-built_in">string</span>));
        dt.Columns.Add(<span class="hljs-string">"å•ä»·"</span>, <span class="hljs-keyword">typeof</span>(<span class="hljs-built_in">decimal</span>));
        dt.Columns.Add(<span class="hljs-string">"åº“å­˜é‡"</span>, <span class="hljs-keyword">typeof</span>(<span class="hljs-built_in">int</span>));
        dt.Columns.Add(<span class="hljs-string">"ä¸Šå¸‚æ—¥æœŸ"</span>, <span class="hljs-keyword">typeof</span>(DateTime));

        dt.Rows.Add(<span class="hljs-number">101</span>, <span class="hljs-string">"ç¬”è®°æœ¬ç”µè„‘"</span>, <span class="hljs-number">8999.00</span>m, <span class="hljs-number">50</span>, <span class="hljs-keyword">new</span> DateTime(<span class="hljs-number">2023</span>, <span class="hljs-number">1</span>, <span class="hljs-number">15</span>));
        dt.Rows.Add(<span class="hljs-number">102</span>, <span class="hljs-string">"æ™ºèƒ½æ‰‹æœº"</span>, <span class="hljs-number">4599.00</span>m, <span class="hljs-number">120</span>, <span class="hljs-keyword">new</span> DateTime(<span class="hljs-number">2023</span>, <span class="hljs-number">3</span>, <span class="hljs-number">10</span>));
        dt.Rows.Add(<span class="hljs-number">103</span>, <span class="hljs-string">"æ— çº¿è€³æœº"</span>, <span class="hljs-number">799.00</span>m, <span class="hljs-number">200</span>, <span class="hljs-keyword">new</span> DateTime(<span class="hljs-number">2023</span>, <span class="hljs-number">2</span>, <span class="hljs-number">20</span>));
        dt.Rows.Add(<span class="hljs-number">104</span>, <span class="hljs-string">"æ™ºèƒ½æ‰‹è¡¨"</span>, <span class="hljs-number">1299.00</span>m, <span class="hljs-number">80</span>, <span class="hljs-keyword">new</span> DateTime(<span class="hljs-number">2023</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>));
        dt.Rows.Add(<span class="hljs-number">105</span>, <span class="hljs-string">"ä¾¿æºéŸ³ç®±"</span>, <span class="hljs-number">399.00</span>m, <span class="hljs-number">150</span>, <span class="hljs-keyword">new</span> DateTime(<span class="hljs-number">2023</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>));

        <span class="hljs-built_in">string</span> outputPath = <span class="hljs-string">"ProductReport.docx"</span>;
        ExportDataTableToWord(dt, outputPath);

        <span class="hljs-comment">// æ¼”ç¤ºæ— æ•°æ®æƒ…å†µ</span>
        DataTable emptyDt = <span class="hljs-keyword">new</span> DataTable(<span class="hljs-string">"Empty"</span>);
        emptyDt.Columns.Add(<span class="hljs-string">"ID"</span>);
        <span class="hljs-built_in">string</span> emptyOutputPath = <span class="hljs-string">"EmptyReport.docx"</span>;
        ExportDataTableToWord(emptyDt, emptyOutputPath);
    }
}
</code></pre>
<h3 data-id="heading-5">ç”Ÿæˆç»“æœé¢„è§ˆ</h3>
<p>ä»¥ä¸‹æ˜¯ä¸Šè¿°ä»£ç çš„ç”Ÿæˆç»“æœé¢„è§ˆï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/73b1c83a0b8e4b5086d131e9b4edc276~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODM1NjI5MDc4MDUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769767553&amp;x-signature=L0bG2GQIgY0Raq3AQpNPQISEYHs%3D" alt="C#å¯¼å‡ºDataTableåˆ°Wordç»“æœ" loading="lazy"/></p>
<h3 data-id="heading-6">å…³é”®APIæ–¹æ³•æ€»ç»“</h3>













































































<table><thead><tr><th align="left">æ–¹æ³•/å±æ€§</th><th align="left">ä½œç”¨</th></tr></thead><tbody><tr><td align="left"><code>Document document = new Document();</code></td><td align="left">åˆ›å»ºä¸€ä¸ªæ–°çš„Wordæ–‡æ¡£å¯¹è±¡ã€‚</td></tr><tr><td align="left"><code>Section section = document.AddSection();</code></td><td align="left">å‘æ–‡æ¡£æ·»åŠ ä¸€ä¸ªèŠ‚ï¼ˆSectionï¼‰ï¼Œæ–‡æ¡£å†…å®¹é€šå¸¸æ”¾åœ¨èŠ‚ä¸­ã€‚</td></tr><tr><td align="left"><code>Table table = section.AddTable(true);</code></td><td align="left">åœ¨èŠ‚ä¸­æ·»åŠ ä¸€ä¸ªè¡¨æ ¼ï¼Œ<code>true</code>è¡¨ç¤ºè¡¨æ ¼å°†è‡ªåŠ¨é€‚åº”å†…å®¹ã€‚</td></tr><tr><td align="left"><code>table.ResetCells(rows, columns);</code></td><td align="left">åˆå§‹åŒ–è¡¨æ ¼çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚</td></tr><tr><td align="left"><code>table.TableFormat.Borders.*</code></td><td align="left">è®¾ç½®è¡¨æ ¼çš„è¾¹æ¡†æ ·å¼ã€å®½åº¦å’Œé¢œè‰²ã€‚</td></tr><tr><td align="left"><code>table.PreferredWidth</code></td><td align="left">è®¾ç½®è¡¨æ ¼çš„é¦–é€‰å®½åº¦ï¼Œå¯ä»¥æŒ‰ç™¾åˆ†æ¯”æˆ–ç‚¹æ•°è®¾ç½®ã€‚</td></tr><tr><td align="left"><code>TableRow row = table.Rows[index];</code></td><td align="left">è·å–è¡¨æ ¼çš„æŒ‡å®šè¡Œã€‚</td></tr><tr><td align="left"><code>row.IsHeader = true;</code></td><td align="left">å°†æŒ‡å®šè¡Œè®¾ç½®ä¸ºè¡¨å¤´è¡Œã€‚</td></tr><tr><td align="left"><code>row.RowFormat.BackColor</code></td><td align="left">è®¾ç½®è¡Œçš„èƒŒæ™¯é¢œè‰²ã€‚</td></tr><tr><td align="left"><code>row.RowFormat.Height</code></td><td align="left">è®¾ç½®è¡Œçš„è¡Œé«˜ã€‚</td></tr><tr><td align="left"><code>TableCell cell = row.Cells[index];</code></td><td align="left">è·å–è¡Œçš„æŒ‡å®šå•å…ƒæ ¼ã€‚</td></tr><tr><td align="left"><code>cell.CellFormat.VerticalAlignment</code></td><td align="left">è®¾ç½®å•å…ƒæ ¼å†…å®¹çš„å‚ç›´å¯¹é½æ–¹å¼ã€‚</td></tr><tr><td align="left"><code>Paragraph p = cell.AddParagraph();</code></td><td align="left">åœ¨å•å…ƒæ ¼ä¸­æ·»åŠ ä¸€ä¸ªæ®µè½ï¼Œç”¨äºæ‰¿è½½æ–‡æœ¬ã€‚</td></tr><tr><td align="left"><code>p.Format.HorizontalAlignment</code></td><td align="left">è®¾ç½®æ®µè½å†…å®¹çš„æ°´å¹³å¯¹é½æ–¹å¼ã€‚</td></tr><tr><td align="left"><code>TextRange tr = p.AppendText(text);</code></td><td align="left">å‘æ®µè½è¿½åŠ æ–‡æœ¬ã€‚</td></tr><tr><td align="left"><code>tr.CharacterFormat.*</code></td><td align="left">è®¾ç½®æ–‡æœ¬çš„å­—ä½“ã€å­—å·ã€é¢œè‰²ã€ç²—ç»†ç­‰æ ¼å¼ã€‚</td></tr><tr><td align="left"><code>document.SaveToFile(filePath, FileFormat.Docx);</code></td><td align="left">å°†æ–‡æ¡£ä¿å­˜åˆ°æŒ‡å®šè·¯å¾„ï¼Œæ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼ã€‚</td></tr></tbody></table>
<hr/>
<h2 data-id="heading-7">è¿›é˜¶æŠ€å·§ä¸æ³¨æ„äº‹é¡¹</h2>
<h3 data-id="heading-8">æ ·å¼å®šåˆ¶</h3>
<p>ä¸Šè¿°ä»£ç ä»…æä¾›äº†åŸºç¡€çš„æ ·å¼è®¾ç½®ã€‚Spire.Doc for .NETæä¾›äº†ä¸°å¯Œçš„APIï¼Œå…è®¸æ‚¨å¯¹Wordæ–‡æ¡£è¿›è¡Œæ›´ç»†è‡´çš„æ ·å¼å®šåˆ¶ï¼š</p>
<ul>
<li><strong>å­—ä½“å’Œé¢œè‰²ï¼š</strong> å¯ä»¥é€šè¿‡<code>CharacterFormat</code>å¯¹è±¡è®¾ç½®å­—ä½“ã€å­—å·ã€é¢œè‰²ã€æ–œä½“ã€ä¸‹åˆ’çº¿ç­‰ã€‚</li>
<li><strong>æ®µè½æ ¼å¼ï¼š</strong> <code>ParagraphFormat</code>å¯ä»¥æ§åˆ¶æ®µè½çš„ç¼©è¿›ã€è¡Œè·ã€å¯¹é½æ–¹å¼ã€é—´è·ç­‰ã€‚</li>
<li><strong>æ¡ä»¶æ ¼å¼ï¼š</strong> æ ¹æ®æ•°æ®å€¼ï¼ˆä¾‹å¦‚ï¼Œåº“å­˜é‡ä½äºæŸä¸ªé˜ˆå€¼ï¼‰è®¾ç½®å•å…ƒæ ¼çš„èƒŒæ™¯è‰²æˆ–æ–‡æœ¬é¢œè‰²ï¼Œä»¥çªå‡ºæ˜¾ç¤ºé‡è¦ä¿¡æ¯ã€‚</li>
<li><strong>é¡µçœ‰é¡µè„šï¼š</strong> å¯ä»¥é€šè¿‡<code>section.HeadersFooters.Header</code>å’Œ<code>section.HeadersFooters.Footer</code>æ·»åŠ é¡µçœ‰é¡µè„šï¼Œæ’å…¥é¡µç ã€æ—¥æœŸç­‰ã€‚</li>
</ul>
<h3 data-id="heading-9">å¤æ‚æ•°æ®ç±»å‹å¤„ç†</h3>
<p>å¯¹äº<code>DataTable</code>ä¸­å­˜å‚¨çš„æ—¥æœŸã€å¸ƒå°”å€¼æˆ–å…¶ä»–è‡ªå®šä¹‰å¯¹è±¡ï¼Œåœ¨å¯¼å‡ºæ—¶å¯èƒ½éœ€è¦è¿›è¡Œæ ¼å¼åŒ–ï¼š</p>
<ul>
<li><strong>æ—¥æœŸæ ¼å¼åŒ–ï¼š</strong> ä½¿ç”¨<code>DateTime.ToString("yyyy-MM-dd")</code>ç­‰æ–¹æ³•å°†æ—¥æœŸæ ¼å¼åŒ–ä¸ºç”¨æˆ·å‹å¥½çš„å­—ç¬¦ä¸²ã€‚</li>
<li><strong>å¸ƒå°”å€¼å¤„ç†ï¼š</strong> å¯ä»¥å°†<code>true</code>æ˜¾ç¤ºä¸ºâ€œæ˜¯â€ï¼Œ<code>false</code>æ˜¾ç¤ºä¸ºâ€œå¦â€ã€‚</li>
<li><strong>è‡ªå®šä¹‰å¯¹è±¡ï¼š</strong> å¯¹äºåŒ…å«è‡ªå®šä¹‰å¯¹è±¡çš„åˆ—ï¼Œéœ€è¦é‡å†™å…¶<code>ToString()</code>æ–¹æ³•æˆ–æ ¹æ®ä¸šåŠ¡é€»è¾‘è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼Œä»¥ç¡®ä¿åœ¨Wordä¸­æ˜¾ç¤ºæœ‰æ„ä¹‰çš„å†…å®¹ã€‚</li>
</ul>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// ç¤ºä¾‹ï¼šæ—¥æœŸæ ¼å¼åŒ–</span>
<span class="hljs-keyword">if</span> (dataTable.Columns[c].DataType == <span class="hljs-keyword">typeof</span>(DateTime))
{
    DateTime dateValue = (DateTime)dataTable.Rows[r][c];
    p.AppendText(dateValue.ToString(<span class="hljs-string">"yyyyå¹´MMæœˆddæ—¥"</span>));
}
<span class="hljs-keyword">else</span>
{
    p.AppendText(dataTable.Rows[r][c].ToString());
}
</code></pre>
<h3 data-id="heading-10">é”™è¯¯å¤„ç†</h3>
<p>åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒåŠ¡å¿…æ·»åŠ å¥å£®çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚ä½¿ç”¨<code>try-catch</code>å—å¯ä»¥æ•è·æ–‡ä»¶ä¿å­˜å¤±è´¥ã€æ•°æ®è½¬æ¢å¼‚å¸¸ç­‰é—®é¢˜ï¼Œä»è€Œæé«˜ç¨‹åºçš„ç¨³å®šæ€§ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">try</span>
{
    <span class="hljs-comment">// ... Wordæ–‡æ¡£ç”Ÿæˆé€»è¾‘ ...</span>
    document.SaveToFile(filePath, FileFormat.Docx);
}
<span class="hljs-keyword">catch</span> (Exception ex)
{
    <span class="hljs-comment">// è®°å½•é”™è¯¯æ—¥å¿—ï¼Œæˆ–å‘ç”¨æˆ·æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æ¶ˆæ¯</span>
    Console.Error.WriteLine(<span class="hljs-string">$"å¯¼å‡ºWordæ–‡æ¡£æ—¶å‘ç”Ÿé”™è¯¯: <span class="hljs-subst">{ex.Message}</span>"</span>);
    <span class="hljs-comment">// å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œè¿›ä¸€æ­¥çš„é”™è¯¯å¤„ç†ï¼Œä¾‹å¦‚åˆ é™¤éƒ¨åˆ†ç”Ÿæˆçš„æ–‡æ¡£</span>
}
</code></pre>
<h3 data-id="heading-11">æ€§èƒ½è€ƒé‡</h3>
<p>å¯¹äºåŒ…å«æ•°åƒç”šè‡³æ•°ä¸‡è¡Œæ•°æ®çš„<code>DataTable</code>ï¼Œä¸€æ¬¡æ€§ç”Ÿæˆæ•´ä¸ªWordæ–‡æ¡£å¯èƒ½ä¼šå ç”¨è¾ƒå¤šå†…å­˜å’Œæ—¶é—´ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥è€ƒè™‘ä»¥ä¸‹ä¼˜åŒ–ç­–ç•¥ï¼š</p>
<ul>
<li><strong>åˆ†æ‰¹å¤„ç†ï¼š</strong> å¦‚æœæ–‡æ¡£å…è®¸åˆ†æ®µï¼Œå¯ä»¥å°†å¤§æ•°æ®é›†åˆ†æˆå¤šä¸ªå°æ‰¹æ¬¡ï¼Œåˆ†åˆ«ç”ŸæˆWordæ–‡æ¡£çš„å„ä¸ªéƒ¨åˆ†ï¼Œæœ€ååˆå¹¶ã€‚</li>
<li><strong>æµå¼å¤„ç†ï¼š</strong> è™½ç„¶Spire.Docä¸»è¦é¢å‘DOMï¼ˆæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼‰æ“ä½œï¼Œä½†å¯¹äºæå¤§æ•°æ®é‡ï¼Œå¯ä»¥æ¢ç´¢æ˜¯å¦æœ‰æ›´åº•å±‚çš„æµå¼å†™å…¥æ–¹å¼ï¼ˆå°½ç®¡è¿™é€šå¸¸ä¼šå¢åŠ ä»£ç å¤æ‚æ€§ï¼‰ã€‚</li>
<li><strong>ä¼˜åŒ–æ•°æ®æºï¼š</strong> ç¡®ä¿<code>DataTable</code>åœ¨ä¼ å…¥å¯¼å‡ºæ–¹æ³•å‰å·²ç»æ˜¯ç»è¿‡ä¼˜åŒ–çš„ã€åªåŒ…å«å¿…è¦æ•°æ®çš„é›†åˆã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-12">æ€»ç»“</h2>
<p>æœ¬æ–‡è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨C#å’ŒSpire.Doc for .NETåº“ï¼Œå°†<code>DataTable</code>ä¸­çš„æ•°æ®é«˜æ•ˆã€è‡ªåŠ¨åŒ–åœ°å¯¼å‡ºä¸ºç»“æ„åŒ–çš„Wordæ–‡æ¡£ã€‚æˆ‘ä»¬ä»ç¯å¢ƒå‡†å¤‡ã€æ ¸å¿ƒå®ç°æ­¥éª¤åˆ°è¿›é˜¶æŠ€å·§å’Œæ³¨æ„äº‹é¡¹ï¼Œæä¾›äº†ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>é€šè¿‡Spire.Doc for .NETï¼Œå¼€å‘è€…ä¸ä»…èƒ½å¤Ÿè½»æ¾åº”å¯¹æ•°æ®å¯¼å‡ºåˆ°Wordæ–‡æ¡£çš„å¸¸è§éœ€æ±‚ï¼Œè¿˜èƒ½é€šè¿‡ä¸°å¯Œçš„APIå®ç°ç²¾ç»†çš„æ ·å¼å®šåˆ¶å’Œå¤æ‚æ•°æ®å¤„ç†ï¼Œæå¤§åœ°æå‡äº†å¼€å‘æ•ˆç‡å’Œæ–‡æ¡£ç”Ÿæˆçš„ä¸“ä¸šæ€§ã€‚æˆ‘ä»¬é¼“åŠ±æ‚¨æ ¹æ®è‡ªèº«é¡¹ç›®éœ€æ±‚ï¼Œè¿›ä¸€æ­¥æ¢ç´¢Spire.Doc for .NETçš„æ›´å¤šå¼ºå¤§åŠŸèƒ½ï¼Œä¸ºæ‚¨çš„C#åº”ç”¨ç¨‹åºå¸¦æ¥æ›´å‡ºè‰²çš„æ–‡æ¡£å¤„ç†èƒ½åŠ›ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ã€Playwrightå­¦ä¹ ç¬”è®° 06ã€‘ç”¨æˆ·è§†è§‰å®šä½çš„æ–¹æ³•]]></title>    <link>https://juejin.cn/post/7598370121436299314</link>    <guid>https://juejin.cn/post/7598370121436299314</guid>    <pubDate>2026-01-23T09:50:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598370121436299314" data-draft-id="7598362826110238770" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ã€Playwrightå­¦ä¹ ç¬”è®° 06ã€‘ç”¨æˆ·è§†è§‰å®šä½çš„æ–¹æ³•"/> <meta itemprop="keywords" content="å‰ç«¯,CSS"/> <meta itemprop="datePublished" content="2026-01-23T09:50:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é„­éƒ‘"/> <meta itemprop="url" content="https://juejin.cn/user/590879236308844"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ã€Playwrightå­¦ä¹ ç¬”è®° 06ã€‘ç”¨æˆ·è§†è§‰å®šä½çš„æ–¹æ³•
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/590879236308844/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é„­éƒ‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:50:52.000Z" title="Fri Jan 23 2026 09:50:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;color:rgba(46,36,36,.87);overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{margin-bottom:5px;font-size:30px;font-weight:500}.markdown-body h1:before{content:"#";margin-right:10px;color:#1976d2}.markdown-body h2{font-size:28px;font-weight:400;border-left:5px solid #454545;margin-top:20px;padding-left:10px;transition:all .3s ease-in-out}.markdown-body h2:hover{border-color:#1976d2}.markdown-body h3{font-size:24px;font-weight:400;margin-top:15px;padding-bottom:0}.markdown-body h4{font-size:20px;font-weight:500}.markdown-body h5{font-size:16px}.markdown-body h6{margin-top:5px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body h2:first-letter,.markdown-body h3:first-letter,.markdown-body p:first-letter{text-transform:capitalize}.markdown-body em{text-emphasis:dot;text-emphasis-position:under}.markdown-body img{display:block;margin:0 auto!important;max-width:100%;border-radius:2px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)!important}.markdown-body hr{position:relative;width:98%;height:1px;border:none;margin-top:32px;margin-bottom:32px;background-image:linear-gradient(90deg,#ddd,#999,#ddd);overflow:visible}.markdown-body hr:after{content:"";position:absolute;margin:auto;left:0;right:0;bottom:0;top:0;display:inline-block;width:60px;height:20px;background:#fff;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAgCAYAAABgrToAAAADoklEQVRYR82XTYgcRRTHf2933Q1RjAa9eFO8JHoJ8RQVBQ2iBwXBET0YEUTXNVmNQtTpmeqaWV0XNRq/o4KoECSCEPSg4CF+BYUkIIiCoCJCPIhC/Ihh2Z0nVV27VnZnenumW9i6ddV7//frV69fVQurfMgq56NawFTPAU6QyomqXrw6wIZeyhCPebA5buNR+akKyGoAjd6BshthnYdSjqNcRVuOlIUsD2j0SuA94IwuMHdh5ZUykOUBXfSGbmKI54EtAeYIHSZoy5dl4JxvNYBOKdW1KE8BQ8AkVk6WhasWsAiN0TX9gveXQaPP+Aytpc4u+bMI06JNohsYYYYOR2lJWtS3OKDRfcAtQfgDoI6Vo4UCGb0OmAEuDvZvYmVbEd/igC3dzDz7gQu8sPA9kJDK27mBmjqBeLjTg90PDFOjWawFFQd06kZHEfaj3LAIpTRpSXsZ5E06zEYP9sDimnAApYaV2SLZG/wjMeqAkijwW4xQJ5Gf/ZzRC8OW3hiBTGGlURRswW55Bh/Ssxljrwew8l1PQaM14GngvGDzBUKdDsMeTtgU5o8B92PFlUf3YXUrHa7Fys6lBqcCGnX15YQ2A18FyPd7Crd1A3M8C1wdbH4DD3hWeP6IEXbQkG97ajR1HPFnuPP5jFFq1OWX7hl8WM9l1AO648uNfwLk7tytMeogty+xeQ4rO3r6bdcx1nuwOGsHmaXGtPzae4uzGnLH1kQkvpdZGrHjssBZJrL+pqS05KWc8tgITAPXRzYvYOXe/C2OV43eDcRBDtIhoS2f9wzc0Cv8Wls+zoFzUC5zF0U241h5uZtPfptp6OUM8wbK+cH5GEpCS17P3fJei0Z3+npTxryJ8CPzbKMtn/ZyWbkPGl0PuFPkmkjkcb4h4R2ZLwRq1H0ALmvjkf2HwK1Y+T1PY2XABe/sHJ6MxN5lnoSpnC/UGbsTaI5phK2R7x6s3Ffk5YoDOrWm3onwJHBmEP86bPmBrsGaenNoIdnxCH+gPEhLXi0Cl1VBvyPVLSh7gEuC62yAfOIUqabWEaaiucMIk6RyqJ+Q/QM69V26jjW86Gvov/EaoyT8zRCn+Xq7PVrbx0nuYUaO9wM3WAbjCE1NEUw09Um4UV+2OKfYfu5/S19gsAzGKqm6LE5FrShbdS0ku465DjDwKA/oQht19ejqbaEVuRbiLhuHByYLjtUAZpDutzP7cYdHsPJXWbjyNVgFwQoa1WXwf4Jd9YD/Ap80+yE7+u9aAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-size:auto 100%;background-position-x:center}.markdown-body code{font-weight:900;word-break:break-word;border-radius:2px;overflow-x:auto;font-size:.87em;padding:.065em .4em;background-color:#fbe5e1;color:#c0341d}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border-radius:0 4px}.markdown-body pre&gt;code{font-weight:400;font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{margin:0 4px;text-decoration:none;color:#027fff;transition:all .3s ease-in-out;padding-bottom:4px;border-bottom:2px solid transparent}.markdown-body a:after{content:"";display:inline-block;width:18px;height:18px;margin-left:4px;vertical-align:middle;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2U9IiMwMjdGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCI+PHBhdGggZD0iTTkuODE1IDYuNDQ4bDEuOTM2LTEuOTM2YzEuMzM3LTEuMzM2IDMuNTgtMS4yNTkgNS4wMTMuMTczIDEuNDMyIDEuNDMyIDEuNTEgMy42NzYuMTczIDUuMDEzbC0xLjQ1MiAxLjQ1Mi0uOTY4Ljk2OGMtMS4zMzcgMS4zMzYtMy41ODEgMS4yNTktNS4wMTMtLjE3MyIvPjxwYXRoIGQ9Ik0xMS4yNjcgMTUuMzY3bC0xLjkzNiAxLjkzNmMtMS4zMzYgMS4zMzctMy41OCAxLjI2LTUuMDEyLS4xNzMtMS40MzItMS40MzItMS41MS0zLjY3Ni0uMTczLTUuMDEybDEuNDUyLTEuNDUyLjk2OC0uOTY4YzEuMzM2LTEuMzM3IDMuNTgtMS4yNiA1LjAxMi4xNzMiLz48L2c+PC9zdmc+);background-size:cover;background-repeat:no-repeat}.markdown-body a:hover{border-color:#027fff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body a.footnote-backref:after,.markdown-body a.footnote-ref:after,.markdown-body sup a:after{display:none!important}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border:2px solid #c6c6c6}.markdown-body table img{box-shadow:none!important}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body del{color:rgba(0,0,0,.6)}.markdown-body blockquote{position:relative;color:#666;padding:5px 23px 1px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:hsla(0,0%,78.4%,.12);transition:all .2s ease-in-out}.markdown-body blockquote:hover{border-color:#1976d2}.markdown-body blockquote:after,.markdown-body blockquote:before{position:absolute;font-size:24px;font-weight:800;line-height:24px;color:#cbcbcb;opacity:.6}.markdown-body blockquote:before{content:"â€œ";top:4px;left:6px}.markdown-body blockquote:after{content:"â€";right:8px;bottom:-8px}.markdown-body blockquote&gt;p,.markdown-body blockquote blockquote{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body details{outline:none;border:none;border-left:4px solid #1976d2;padding-left:10px;margin-left:4px}.markdown-body details summary{cursor:pointer;border:none;outline:none;background:#fff;margin:0 -17px}.markdown-body details summary:hover::-webkit-details-marker{color:#1976d2}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">æ ¹æ®æ–‡æœ¬å†…å®¹å®šä½</h2>
<p>Page/Locator å¯¹è±¡çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fplaywright.dev%2Fpython%2Fdocs%2Fapi%2Fclass-locator%23locator-get-by-text" title="https://playwright.dev/python/docs/api/class-locator#locator-get-by-text" target="_blank" ref="nofollow noopener noreferrer">get_by_text</a> æ–¹æ³•</p>
<p>æ¯”å¦‚ï¼Œ</p>
<p>å¦‚æœè¦è·å– æ‰€æœ‰ æ–‡æœ¬å†…å®¹åŒ…å« <code>11</code> çš„å…ƒç´ ï¼Œå°±å¯ä»¥è¿™æ ·</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">elements</span> = page.get_by_text(<span class="hljs-string">'11'</span>).all()
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fab9d41052f2496e8cd6378d13414055~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6YSt6YOR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769766652&amp;x-signature=2TScSbTkWZPdnWfKruRPNq0uTVo%3D" alt="" loading="lazy"/><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å¦‚æœï¼Œä½ å¸Œæœ›åŒ…å«çš„å†…å®¹æ˜¯ä»¥ <code>11</code> ç»“å°¾çš„ï¼Œå°±å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ ä½œä¸ºå‚æ•°ï¼Œå¦‚ä¸‹</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> re
elements = page.get_by_text(re.<span class="hljs-built_in">compile</span>(<span class="hljs-string">"11$"</span>)).<span class="hljs-built_in">all</span>()
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h2 data-id="heading-1">æ ¹æ® å…ƒç´  role å®šä½</h2>
<p>webåº”ç”¨ç°åœ¨æœ‰ä¸€ç§æ ‡å‡† ç§°ä¹‹ä¸ºï¼š <code>ARIA ï¼ˆAccessible Rich Internet Applicationsï¼‰</code>ã€‚</p>
<p>ARIA æ ¹æ®webç•Œé¢å…ƒç´ çš„ç”¨é€”ï¼Œä¸ºè¿™äº›å…ƒç´ å®šä¹‰äº†ä¸€å¥— <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAccessibility%2FARIA%2FRoles" title="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles" target="_blank" ref="nofollow noopener noreferrer">è§’è‰²ï¼ˆ Role ï¼‰</a> ä¿¡æ¯ï¼Œæ·»åŠ åˆ°é¡µé¢ä¸­ï¼Œ</p>
<p>ä»è€Œ è®© æ®‹ç–¾äººå£«ï¼Œæˆ–è€… æ™®é€šäººåœ¨ æŸç§ç¯å¢ƒä¸‹ï¼ˆæ¯”å¦‚å¤œé‡Œï¼Œå¤ªç©ºä¸­ï¼‰ï¼Œä¸æ–¹ä¾¿ä½¿ç”¨å¸¸è§„æ–¹æ³•æ“ä½œåº”ç”¨ï¼Œä½¿ç”¨<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.w3.org%2FTR%2Fwai-aria-1.2%2F%23dfn-assistive-technology" title="https://www.w3.org/TR/wai-aria-1.2/#dfn-assistive-technology" target="_blank" ref="nofollow noopener noreferrer">è¾…åŠ©æŠ€æœ¯å·¥å…·</a>ï¼Œæ¥æ“ä½œwebåº”ç”¨çš„ã€‚</p>
<p>è‹¥æƒ³å®šä½è¿™ä¸ªå…ƒç´ ï¼š</p>
<pre><code class="hljs language-ini" lang="ini">&lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"alert-message"</span>&gt;
  æ‚¨å·²æˆåŠŸæ³¨å†Œï¼Œå¾ˆå¿«æ‚¨å°†æ”¶åˆ°ä¸€å°ç¡®è®¤ç”µå­é‚®ä»¶
&lt;/div&gt;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>ç›´æ¥å¯ä»¥æ ¹æ®å¦‚ä¸‹ä»£ç  å®šä½è¯¥å…ƒç´ </p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># æ ¹æ® role å®šä½</span>
<span class="hljs-attr">lc</span> = page.get_by_role(<span class="hljs-string">'alert'</span>)

<span class="hljs-comment"># æ‰“å°å…ƒç´ æ–‡æœ¬</span>
print(lc.inner_text())
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>htmlå…ƒç´ ä¸­ï¼Œæœ‰äº› ç‰¹å®šè¯­ä¹‰å…ƒç´ ï¼ˆsemantic elementsï¼‰è¢«ARIAè§„èŒƒè®¤å®šä¸ºè‡ªèº«å°±åŒ…å« ARIA role ä¿¡æ¯ï¼Œå¹¶ä¸éœ€è¦æˆ‘ä»¬æ˜æ˜¾çš„åŠ ä¸Š ARIA role å±æ€§è®¾ç½®ï¼Œ</p>
<p>æ¯”å¦‚</p>
<pre><code class="hljs language-ini" lang="ini">&lt;progress <span class="hljs-attr">value</span>=<span class="hljs-string">"75"</span> max=<span class="hljs-string">"100"</span>&gt;<span class="hljs-number">75</span> %&lt;/progress&gt;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å°±ç­‰äºéšå«äº†å¦‚ä¸‹ä¿¡æ¯</p>
<pre><code class="hljs language-ini" lang="ini">&lt;progress <span class="hljs-attr">value</span>=<span class="hljs-string">"75"</span> max=<span class="hljs-string">"100"</span>
  <span class="hljs-attr">role</span>=<span class="hljs-string">"progressbar"</span>
  <span class="hljs-attr">aria-valuenow</span>=<span class="hljs-string">"75"</span>
  <span class="hljs-attr">aria-valuemax</span>=<span class="hljs-string">"100"</span>&gt;<span class="hljs-number">75</span> %&lt;/div&gt;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>æ‰€ä»¥ï¼Œç›´æ¥å¯ä»¥æ ¹æ®å¦‚ä¸‹ä»£ç  å®šä½è¯¥å…ƒç´ </p>
<pre><code class="hljs language-perl" lang="perl"><span class="hljs-comment"># æ ¹æ® role å®šä½</span>
<span class="hljs-keyword">lc</span> = page.get_by_role(<span class="hljs-string">'progressbar'</span>)

<span class="hljs-comment"># æ‰“å°å…ƒç´ å±æ€§ value çš„å€¼</span>
<span class="hljs-keyword">print</span>(lc.get_attribute(<span class="hljs-string">'value'</span>))
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å†æ¯”å¦‚ <code>search</code> ç±»å‹çš„è¾“å…¥æ¡†ï¼Œé»˜è®¤å°±æœ‰ <code>searchbox</code> roleï¼Œ</p>
<pre><code class="hljs language-ini" lang="ini">&lt;input <span class="hljs-attr">type</span>=<span class="hljs-string">"search"</span>&gt;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-2">ARIA Attribute</h3>
<p>ARIAè§„èŒƒé™¤äº†å¯ä»¥ç»™å…ƒç´ æ·»åŠ  <code>ARIA role</code> ï¼Œè¿˜å¯ä»¥æ·»åŠ å…¶å®ƒ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAccessibility%2FARIA%2FAttributes" title="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Attributes" target="_blank" ref="nofollow noopener noreferrer">Â ARIAå±æ€§ï¼ˆARIA attributesï¼‰</a> ï¼Œæ¯”å¦‚</p>
<pre><code class="hljs language-ini" lang="ini">&lt;div <span class="hljs-attr">role</span>=<span class="hljs-string">"heading"</span> aria-level=<span class="hljs-string">"1"</span>&gt;ç™½æœˆé»‘ç¾½æ ‡é¢˜<span class="hljs-number">1</span>&lt;/div&gt;
&lt;div <span class="hljs-attr">role</span>=<span class="hljs-string">"heading"</span> aria-level=<span class="hljs-string">"2"</span>&gt;ç™½æœˆé»‘ç¾½æ ‡é¢˜<span class="hljs-number">2</span>&lt;/div&gt;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p><code>aria-level</code> å°±æ˜¯ä¸€ä¸ª ARIA å±æ€§ï¼Œè¡¨ç¤º role ä¸º <code>heading</code> æ—¶çš„ <code>ç­‰çº§</code> ä¿¡æ¯</p>
<p>ä¸Šé¢çš„å®šä¹‰ï¼Œå…¶å®å’Œä¸‹é¢çš„ html å…ƒç´  h1/h2 ç­‰ä»·</p>
<pre><code class="hljs language-css" lang="css">&lt;<span class="hljs-selector-tag">h1</span>&gt;ç™½æœˆé»‘ç¾½æ ‡é¢˜<span class="hljs-number">1</span>&lt;/<span class="hljs-selector-tag">h1</span>&gt;
&lt;<span class="hljs-selector-tag">h2</span>&gt;ç™½æœˆé»‘ç¾½æ ‡é¢˜<span class="hljs-number">2</span>&lt;/<span class="hljs-selector-tag">h2</span>&gt;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>ä¸Šä¾‹ä¸­ï¼Œh2 å…ƒç´ ï¼Œéšå«äº† <strong><code>role="heading" aria-level="2"</code></strong> ï¼Œ æ‰€ä»¥å¯ä»¥ç”¨ä¸‹é¢ä»£ç å®šä½</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">lc</span> = page.get_by_role(<span class="hljs-string">'heading'</span>,level=<span class="hljs-number">2</span>)
print(lc.inner_text())
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<h3 data-id="heading-3">Accessible Name</h3>
<p>åªæ ¹æ® <code>ARIA role</code> å’Œ <code>ARIAå±æ€§</code> å¾€å¾€å¹¶ä¸èƒ½å”¯ä¸€å®šä½å…ƒç´ ã€‚</p>
<p>roleå®šä½æœ€å¸¸è§çš„ç»„åˆæ˜¯ <code>ARIA role</code> å’Œ <a href="https://link.juejin.cn?target=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FGlossary%2FAccessible_name" title="https://developer.mozilla.org/en-US/docs/Glossary/Accessible_name" target="_blank" ref="nofollow noopener noreferrer">Accessible Name</a></p>
<p>å› ä¸ºï¼Œ<code>Accessible Name</code> å°±åƒå…ƒç´ çš„ <code>åå­—</code> ä¸€æ ·ï¼Œå¾€å¾€å¯ä»¥å”¯ä¸€å®šä½ã€‚</p>
<p>html å…ƒç´ æ ‡å‡†å±æ€§ <code>name</code> æ˜¯æµè§ˆå™¨å†…éƒ¨çš„ï¼Œç”¨æˆ·çœ‹ä¸åˆ°ï¼Œæ¯”å¦‚</p>
<p><code>Accessible Name</code> ä¸ä¸€æ ·ï¼Œå®ƒæ˜¯å…ƒç´ ç•Œé¢å¯è§çš„æ–‡æœ¬åï¼Œ</p>
<pre><code class="hljs language-ini" lang="ini">&lt;a <span class="hljs-attr">name</span>=<span class="hljs-string">'link2byhy'</span> href=<span class="hljs-string">"https://www.byhy.net"</span>&gt;ç™½æœˆé»‘ç¾½æ•™ç¨‹&lt;/a&gt;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>æ¯”å¦‚ä¸Šé¢çš„å…ƒç´ ï¼Œæš—å«çš„ <strong><code>Accessible Name</code></strong> å€¼å°±æ˜¯ <strong><code>ç™½æœˆé»‘ç¾½æ•™ç¨‹</code></strong> ï¼Œ å½“ç„¶ä¹Ÿæš—å«äº† <strong><code>ARIA role</code> å€¼ä¸º <code>link</code></strong></p>
<p>æ‰€ä»¥ï¼Œå¯ä»¥è¿™æ ·å®šä½</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">lc</span> = page.get_by_role(<span class="hljs-string">'link'</span>,name=<span class="hljs-string">'ç™½æœˆé»‘ç¾½æ•™ç¨‹'</span>)
print(lc.click())
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>ä¸Šé¢çš„å†™æ³•ï¼Œ åªè¦ Accessible Name åŒ…å« å‚æ•°name çš„å­—ç¬¦ä¸²å†…å®¹å³å¯ï¼Œè€Œä¸”å¤§å°å†™ä¸åˆ†ï¼Œ å¹¶ä¸éœ€è¦å®Œå…¨ä¸€è‡´ã€‚</p>
<p>æ‰€ä»¥ï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å®šä½åˆ°</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">lc</span> = page.get_by_role(<span class="hljs-string">'link'</span>,name=<span class="hljs-string">'ç™½æœˆé»‘ç¾½'</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>å¦‚æœä½ éœ€è¦ Accessible Name å’Œ å‚æ•°name çš„å†…å®¹å®Œå…¨ä¸€è‡´ï¼Œå¯ä»¥æŒ‡å®š <code>exact=True</code> ï¼Œå¦‚ä¸‹</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">lc</span> = page.get_by_role(<span class="hljs-string">'link'</span>,name=<span class="hljs-string">'ç™½æœˆé»‘ç¾½'</span>, exact=<span class="hljs-literal">True</span>)
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>nameå€¼è¿˜å¯ä»¥é€šè¿‡<a href="https://link.juejin.cn?target=http%3A%2F%2F0" title="http://0" target="_blank" ref="nofollow noopener noreferrer">æ­£åˆ™è¡¨è¾¾å¼</a>ï¼Œè¿›è¡Œè¾ƒå¤æ‚çš„åŒ¹é…è§„åˆ™ï¼Œæ¯”å¦‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">lc</span> = page.get_by_role(<span class="hljs-string">'link'</span>,name=re.compile(<span class="hljs-string">"^ç™½æœˆ.*ç¾½"</span>))
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>æˆ‘ä»¬è¿™é‡Œè¯´ä¸€äº›å¸¸è§çš„ï¼š</p>
<p><strong><code>&lt;a&gt; &lt;td&gt; &lt;button&gt;</code></strong> Accessible Name å€¼ å°±æ˜¯å…¶å†…éƒ¨çš„æ–‡æœ¬å†…å®¹ã€‚</p>
<p><strong><code>&lt;textarea&gt; &lt;input&gt;</code></strong> è¿™äº›è¾“å…¥æ¡†ï¼Œå®ƒä»¬çš„ Accessible Name å€¼ æ˜¯å’Œä»–ä»¬å…³è”çš„ çš„æ–‡æœ¬ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> /&gt;</span> Subscribe
<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>è¿™ä¸ª checkbox çš„ Accessible Name å´æ˜¯ <strong><code>Subscribe</code></strong></p>
<p>ä¸€äº›å…ƒç´  æ¯”å¦‚ <strong><code>&lt;img&gt;</code></strong> ï¼Œå®ƒçš„ Accessible Name æ˜¯å…¶html å±æ€§ <code>alt</code> çš„å€¼</p>
<p>æ¯”å¦‚</p>
<pre><code class="hljs language-ini" lang="ini">&lt;img <span class="hljs-attr">src</span>=<span class="hljs-string">"grape.jpg"</span> alt=<span class="hljs-string">"banana"</span>/&gt;
</code></pre>
<p><img src="" alt="" title="ç‚¹å‡»å¹¶æ‹–æ‹½ä»¥ç§»åŠ¨" loading="lazy"/></p>
<p>roleå®šä½ä»£ç å¤æ‚ï¼Œå»ºè®®ä½¿ç”¨<strong>codegenä»£ç åŠ©æ‰‹</strong>æ¥å®Œæˆ</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[objc_msgSend(obj, @selector(foo)); åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ]]></title>    <link>https://juejin.cn/post/7598193992828829750</link>    <guid>https://juejin.cn/post/7598193992828829750</guid>    <pubDate>2026-01-23T09:53:33.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598193992828829750" data-draft-id="7598260824222990379" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="objc_msgSend(obj, @selector(foo)); åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"/> <meta itemprop="keywords" content="iOS"/> <meta itemprop="datePublished" content="2026-01-23T09:53:33.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ±‰ç§‹"/> <meta itemprop="url" content="https://juejin.cn/user/3755587450191879"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            objc_msgSend(obj, @selector(foo)); åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3755587450191879/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ±‰ç§‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:53:33.000Z" title="Fri Jan 23 2026 09:53:33 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    7
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0"><strong>objc_msgSend(obj, @selector(foo)); åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</strong></h2>
<p>åœ¨ Objective-C çš„ä¸–ç•Œé‡Œï¼Œæœ‰ä¸€å¥è¯å‡ ä¹æ˜¯<strong>åº•å±‚åŸæ•™æ—¨ä¸»ä¹‰</strong>ï¼š</p>
<blockquote>
<p><strong>Objective-C æ˜¯ä¸€é—¨åŸºäºæ¶ˆæ¯å‘é€ï¼ˆMessage Sendingï¼‰çš„è¯­è¨€ï¼Œè€Œä¸æ˜¯å‡½æ•°è°ƒç”¨ã€‚</strong></p>
</blockquote>
<p>è€Œè¿™ä¸€åˆ‡ï¼Œéƒ½æµ“ç¼©åœ¨ä¸€è¡Œçœ‹ä¼¼æ™®é€šã€å´æå…¶æ ¸å¿ƒçš„ä»£ç ä¸­ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">objc_msgSend</span>(obj, <span class="hljs-variable">@selector</span>(foo));
</code></pre>
<p>æœ¬æ–‡å°†ä»<strong>è¯­æ³•ç³– â†’ è¿è¡Œæ—¶ â†’ å®Œæ•´è°ƒç”¨é“¾</strong>ï¼Œä¸€æ­¥ä¸€æ­¥æ‹†è§£ï¼š</p>
<ul>
<li>è¿™è¡Œä»£ç åˆ°åº•åœ¨â€œå‘ä»€ä¹ˆâ€</li>
<li>æ¶ˆæ¯æ˜¯å¦‚ä½•è¢«æ‰¾åˆ°å¹¶æ‰§è¡Œçš„</li>
<li>å¦‚æœæ‰¾ä¸åˆ°æ–¹æ³•ï¼ŒRuntime åˆåšäº†ä»€ä¹ˆ</li>
</ul>
<hr/>
<h3 data-id="heading-1"><strong>ä¸€ã€ä»è¡¨é¢çœ‹ï¼šå®ƒç­‰ä»·äºä»€ä¹ˆï¼Ÿ</strong></h3>
<p>è¿™è¡Œä»£ç ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">objc_msgSend</span>(obj, <span class="hljs-variable">@selector</span>(foo));
</code></pre>
<p>åœ¨è¯­ä¹‰ä¸Š <strong>ç­‰ä»·äº</strong>ï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[obj foo]</span><span class="hljs-comment">;</span>
</code></pre>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼š</p>
<blockquote>
<p><strong>ç»™å¯¹è±¡ obj å‘é€ä¸€æ¡åä¸º foo çš„æ¶ˆæ¯</strong></p>
</blockquote>
<p>[obj foo] åªæ˜¯ç¼–è¯‘å™¨æä¾›çš„<strong>è¯­æ³•ç³–</strong>ï¼ŒçœŸæ­£æ‰§è¡Œçš„æ°¸è¿œæ˜¯ objc_msgSendã€‚</p>
<hr/>
<h3 data-id="heading-2"><strong>äºŒã€è°æ˜¯å‘é€è€…ï¼Ÿè°æ˜¯æ¥æ”¶è€…ï¼Ÿ</strong></h3>
<p>å¾ˆå¤šåˆå­¦è€…ä¼šå¡åœ¨è¿™ä¸ªé—®é¢˜ä¸Šï¼š</p>
<blockquote>
<p>åˆ°åº•æ˜¯è°â€œè°ƒç”¨â€äº†è°ï¼Ÿ</p>
</blockquote>
<h4 data-id="heading-3"><strong>æ­£ç¡®ç†è§£æ–¹å¼</strong></h4>
<ul>
<li>
<p><strong>æ¥æ”¶è€…ï¼ˆreceiverï¼‰</strong> ï¼šobj</p>
</li>
<li>
<p><strong>æ¶ˆæ¯ï¼ˆselectorï¼‰</strong> ï¼šfoo</p>
</li>
<li>
<p><strong>å‘é€åŠ¨ä½œçš„å‘èµ·è€…</strong>ï¼šå½“å‰ä»£ç ä½ç½®ï¼ˆä¸é‡è¦ï¼‰</p>
</li>
</ul>
<p>Objective-C <strong>ä¸å…³å¿ƒè°ƒç”¨æ ˆçš„â€œè°â€</strong> ï¼Œåªå…³å¿ƒï¼š</p>
<blockquote>
<p>ğŸ‘‰ <strong>è¿™æ¡æ¶ˆæ¯å‘ç»™è°</strong></p>
</blockquote>
<p>æ‰€ä»¥æ°¸è¿œç”¨è¿™å¥è¯æ¥ç†è§£ï¼š</p>
<blockquote>
<p><strong>ç»™ obj å‘é€ foo æ¶ˆæ¯</strong></p>
</blockquote>
<hr/>
<h3 data-id="heading-4"><strong>ä¸‰ã€Runtime çœŸæ­£å‘ç”Ÿçš„ 6 ä¸ªæ­¥éª¤ï¼ˆæ ¸å¿ƒï¼‰</strong></h3>
<p>ä¸‹é¢æ˜¯ä½ åœ¨ Xcode é‡Œå†™ä¸‹ä¸€è¡Œ [obj foo] åï¼Œ<strong>Runtime åœ¨èƒŒåçœŸå®å‘ç”Ÿçš„å®Œæ•´æµç¨‹</strong>ã€‚</p>
<hr/>
<h3 data-id="heading-5"><strong>æ­¥éª¤ 1ï¸âƒ£ï¼šå–å¾—æ¥æ”¶è€…obj</strong></h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">id</span> <span class="hljs-selector-tag">obj</span> = ...;
<span class="hljs-selector-tag">objc_msgSend</span>(obj, <span class="hljs-variable">@selector</span>(foo));
</code></pre>
<ul>
<li>obj æ˜¯ä¸€ä¸ªå¯¹è±¡æŒ‡é’ˆ</li>
<li>æœ¬è´¨ä¸ŠæŒ‡å‘ä¸€å—å†…å­˜</li>
<li>å†…å­˜å¸ƒå±€çš„ç¬¬ä¸€ä¸ªæˆå‘˜ï¼Œå°±æ˜¯ <strong>isa</strong> <strong>æŒ‡é’ˆ</strong></li>
</ul>
<pre><code class="hljs language-vbnet" lang="vbnet">obj
 â”œâ”€ isa â†’ <span class="hljs-keyword">Class</span>
 â”œâ”€ ivar1
 â”œâ”€ ivar2
</code></pre>
<p>å¦‚æœ obj == nilï¼š</p>
<ul>
<li>æ•´ä¸ªæµç¨‹ç›´æ¥ç»“æŸ</li>
<li>è¿”å› 0 / nil</li>
<li><strong>ä¸ä¼šå´©æºƒ</strong>ï¼ˆOC çš„è‘—åç‰¹æ€§ï¼‰</li>
</ul>
<hr/>
<h3 data-id="heading-6"><strong>æ­¥éª¤ 2ï¸âƒ£ï¼šé€šè¿‡isaæ‰¾åˆ° Class</strong></h3>
<pre><code class="hljs language-ini" lang="ini">Class <span class="hljs-attr">cls</span> = obj-&gt;isa<span class="hljs-comment">;</span>
</code></pre>
<ul>
<li>
<p>isa æŒ‡å‘å¯¹è±¡æ‰€å±çš„ç±»</p>
</li>
<li>
<p>è¿™æ˜¯ <strong>æ‰€æœ‰æ–¹æ³•æŸ¥æ‰¾çš„èµ·ç‚¹</strong></p>
</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@interface</span> <span class="hljs-attribute">Person </span>: NSObject
- (void)foo;
<span class="hljs-variable">@end</span>
</code></pre>
<pre><code class="hljs language-scss" lang="scss">obj (Person å®ä¾‹)
  â””â”€ isa â†’ Person
</code></pre>
<hr/>
<h3 data-id="heading-7"><strong>æ­¥éª¤ 3ï¸âƒ£ï¼šåœ¨æ–¹æ³•ç¼“å­˜ï¼ˆcacheï¼‰ä¸­æŸ¥æ‰¾</strong></h3>
<p>Runtime <strong>é¦–å…ˆæŸ¥ cacheï¼Œè€Œä¸æ˜¯æ–¹æ³•åˆ—è¡¨</strong>ã€‚</p>
<pre><code class="hljs language-vbnet" lang="vbnet"><span class="hljs-keyword">Class</span> Person
 â”œâ”€ cache      â† â‘  å…ˆæŸ¥è¿™é‡Œ
 â”œâ”€ methodList â† â‘¡ å†æŸ¥è¿™é‡Œ
 â””â”€ superclass
</code></pre>
<ul>
<li>
<p>cache æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼šSEL â†’ IMP</p>
</li>
<li>
<p>å‘½ä¸­ cache = <strong>æå¿«ï¼ˆæ¥è¿‘ C å‡½æ•°è°ƒç”¨ï¼‰</strong></p>
</li>
</ul>
<p>å¦‚æœåœ¨ cache ä¸­æ‰¾åˆ°äº† fooï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">IMP</span> <span class="hljs-selector-tag">imp</span> = <span class="hljs-selector-tag">cache</span><span class="hljs-selector-attr">[foo]</span>;
<span class="hljs-selector-tag">imp</span>(obj, <span class="hljs-variable">@selector</span>(foo));
</code></pre>
<p>â†’ <strong>æµç¨‹ç»“æŸ</strong>****</p>
<hr/>
<h3 data-id="heading-8"><strong>æ­¥éª¤ 4ï¸âƒ£ï¼šåœ¨æ–¹æ³•åˆ—è¡¨ &amp; çˆ¶ç±»ä¸­æŸ¥æ‰¾</strong></h3>
<p>å¦‚æœ cache æœªå‘½ä¸­ï¼š</p>
<ol>
<li>æŸ¥ Person çš„æ–¹æ³•åˆ—è¡¨</li>
<li>æ‰¾ä¸åˆ° â†’ superclass</li>
<li>ä¸€ç›´å‘ä¸ŠæŸ¥ï¼Œç›´åˆ° NSObject</li>
</ol>
<pre><code class="hljs language-objectivec" lang="objectivec">Person
  â†“
<span class="hljs-built_in">NSObject</span>
</code></pre>
<p>å¦‚æœåœ¨æŸä¸ªç±»ä¸­æ‰¾åˆ°ï¼š</p>
<ul>
<li>å°† SEL â†’ IMP æ”¾å…¥ cacheï¼ˆä¸‹æ¬¡æ›´å¿«ï¼‰</li>
<li>ç«‹å³æ‰§è¡Œ IMP</li>
</ul>
<hr/>
<h3 data-id="heading-9"><strong>æ­¥éª¤ 5ï¸âƒ£ï¼šåŠ¨æ€æ–¹æ³•è§£æï¼ˆresolveï¼‰</strong></h3>
<p>å¦‚æœ <strong>æ•´ä¸ªç»§æ‰¿é“¾éƒ½æ²¡æ‰¾åˆ° foo</strong>ï¼š</p>
<p>Runtime ä¼šç»™ä½ ä¸€æ¬¡**â€œä¸´æ—¶è¡¥æ•‘â€çš„æœºä¼š**ã€‚</p>
<pre><code class="hljs language-css" lang="css">+ (BOOL)resolveInstanceMethod:(SEL)sel;
</code></pre>
<h4 data-id="heading-10"><strong>ç¤ºä¾‹ï¼šåŠ¨æ€æ·»åŠ æ–¹æ³•</strong></h4>
<pre><code class="hljs language-less" lang="less"><span class="hljs-variable">@implementation</span> Person

+ (BOOL)<span class="hljs-attribute">resolveInstanceMethod</span>:(SEL)sel {
    <span class="hljs-selector-tag">if</span> (sel == <span class="hljs-variable">@selector</span>(foo)) {
        <span class="hljs-selector-tag">class_addMethod</span>(self, sel, (IMP)fooIMP, <span class="hljs-string">"v@:"</span>);
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">YES</span>;
    }
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-attr">[super resolveInstanceMethod:sel]</span>;
}

<span class="hljs-selector-tag">void</span> <span class="hljs-selector-tag">fooIMP</span>(id self, SEL _cmd) {
    <span class="hljs-selector-tag">NSLog</span>(@<span class="hljs-string">"åŠ¨æ€æ·»åŠ çš„ foo è¢«è°ƒç”¨äº†"</span>);
}

@<span class="hljs-selector-tag">end</span>
</code></pre>
<p>å¦‚æœè¿”å› YESï¼š</p>
<ul>
<li>Runtime <strong>é‡æ–°ä»æ­¥éª¤ 3 å¼€å§‹æŸ¥æ‰¾</strong></li>
</ul>
<hr/>
<h3 data-id="heading-11"><strong>æ­¥éª¤ 6ï¸âƒ£ï¼šæ¶ˆæ¯è½¬å‘ï¼ˆMessage Forwardingï¼‰</strong></h3>
<p>å¦‚æœä½ æ²¡æœ‰åŠ¨æ€æ·»åŠ æ–¹æ³•ï¼ŒRuntime è¿›å…¥ <strong>æ¶ˆæ¯è½¬å‘ä¸‰è¿</strong>ã€‚</p>
<h4 data-id="heading-12"><strong>6.1 å¿«é€Ÿè½¬å‘</strong></h4>
<pre><code class="hljs language-erlang" lang="erlang">- <span class="hljs-params">(id)</span>forwardingTargetForSelector:<span class="hljs-params">(SEL)</span>aSelector;
</code></pre>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">-</span> (id)<span class="hljs-selector-tag">forwardingTargetForSelector</span>:(SEL)<span class="hljs-selector-tag">aSelector</span> {
    <span class="hljs-selector-tag">if</span> (aSelector == <span class="hljs-variable">@selector</span>(foo)) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-tag">otherObj</span>;
    }
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-attr">[super forwardingTargetForSelector:aSelector]</span>;
}
</code></pre>
<p>ç­‰ä»·äºï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-section">[otherObj foo]</span><span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h4 data-id="heading-13"><strong>6.2 å®Œæ•´è½¬å‘ï¼ˆNSInvocationï¼‰</strong></h4>
<pre><code class="hljs language-erlang" lang="erlang">- <span class="hljs-params">(NSMethodSignature *)</span>methodSignatureForSelector:<span class="hljs-params">(SEL)</span>aSelector;
- <span class="hljs-params">(void)</span>forwardInvocation:<span class="hljs-params">(NSInvocation *)</span>invocation;
</code></pre>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">-</span> (NSMethodSignature *)<span class="hljs-selector-tag">methodSignatureForSelector</span>:(SEL)<span class="hljs-selector-tag">aSelector</span> {
    <span class="hljs-selector-tag">if</span> (aSelector == <span class="hljs-variable">@selector</span>(foo)) {
        <span class="hljs-selector-tag">return</span> <span class="hljs-selector-attr">[NSMethodSignature signatureWithObjCTypes:<span class="hljs-string">"v@:"</span>]</span>;
    }
    <span class="hljs-selector-tag">return</span> <span class="hljs-selector-attr">[super methodSignatureForSelector:aSelector]</span>;
}

<span class="hljs-selector-tag">-</span> (void)<span class="hljs-selector-tag">forwardInvocation</span>:(NSInvocation *)<span class="hljs-selector-tag">invocation</span> {
    <span class="hljs-selector-attr">[invocation invokeWithTarget:otherObj]</span>;
}
</code></pre>
<hr/>
<h4 data-id="heading-14"><strong>6.3 æœ€ç»ˆå¤±è´¥ â†’ å´©æºƒ</strong></h4>
<p>å¦‚æœä»¥ä¸Šéƒ½æ²¡å¤„ç†ï¼š</p>
<pre><code class="hljs language-css" lang="css">-<span class="hljs-selector-attr">[Person foo]</span>: unrecognized selector sent to instance
</code></pre>
<p>åº”ç”¨ç›´æ¥å´©æºƒ ğŸ’¥</p>
<hr/>
<h3 data-id="heading-15"><strong>å››ã€å®Œæ•´æµç¨‹æ€»è§ˆï¼ˆè®°ä½è¿™ä¸ªé¡ºåºï¼‰</strong></h3>
<pre><code class="hljs language-sql" lang="sql">objc_msgSend
  â†“
isa
  â†“
cache
  â†“
<span class="hljs-keyword">method</span> list
  â†“
superclass
  â†“
resolveInstanceMethod
  â†“
forwardingTargetForSelector
  â†“
forwardInvocation
  â†“
crash
</code></pre>
<hr/>
<h3 data-id="heading-16"><strong>äº”ã€ä¸ºä»€ä¹ˆ objc_msgSend è¿™ä¹ˆé‡è¦ï¼Ÿ</strong></h3>
<ul>
<li>
<p>KVC / KVO</p>
</li>
<li>
<p>æ–¹æ³•äº¤æ¢ï¼ˆMethod Swizzlingï¼‰</p>
</li>
<li>
<p>AOP / Hook</p>
</li>
<li>
<p>å´©æºƒé˜²æŠ¤</p>
</li>
<li>
<p>çƒ­ä¿®å¤ï¼ˆæ—©æœŸæ–¹æ¡ˆï¼‰</p>
</li>
</ul>
<p><strong>å…¨éƒ½å»ºç«‹åœ¨å®ƒä¹‹ä¸Šã€‚</strong></p>
<p>ç†è§£ objc_msgSendï¼Œ</p>
<blockquote>
<p>æ‰ç®—çœŸæ­£â€œå…¥é—¨â€ Objective-C Runtimeã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-17"><strong>å…­ã€ç»“è¯­</strong></h3>
<p>å½“ä½ å†çœ‹åˆ°è¿™è¡Œä»£ç æ—¶ï¼š</p>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">objc_msgSend</span>(obj, <span class="hljs-variable">@selector</span>(foo));
</code></pre>
<p>è¯·åœ¨è„‘ä¸­è‡ªåŠ¨å±•å¼€ï¼š</p>
<blockquote>
<p>cache â†’ superclass â†’ resolve â†’ forwarding â†’ crash</p>
</blockquote>
<p>é‚£ä¸€åˆ»ï¼Œä½ å·²ç»ä¸æ˜¯åœ¨â€œå†™ OCâ€ï¼Œè€Œæ˜¯åœ¨<strong>å’Œ Runtime å¯¹è¯</strong>ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[# CSS å­¦ä¹ ç¬”è®°ï¼šå½»åº•æŒæ¡ `:nth-child(n)` ä¼ªç±»é€‰æ‹©å™¨]]></title>    <link>https://juejin.cn/post/7598362826110173234</link>    <guid>https://juejin.cn/post/7598362826110173234</guid>    <pubDate>2026-01-23T09:46:52.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598362826110173234" data-draft-id="7598181989969297435" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="# CSS å­¦ä¹ ç¬”è®°ï¼šå½»åº•æŒæ¡ `:nth-child(n)` ä¼ªç±»é€‰æ‹©å™¨  "/> <meta itemprop="keywords" content="CSS"/> <meta itemprop="datePublished" content="2026-01-23T09:46:52.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·80110532256"/> <meta itemprop="url" content="https://juejin.cn/user/1927884034804425"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            # CSS å­¦ä¹ ç¬”è®°ï¼šå½»åº•æŒæ¡ `:nth-child(n)` ä¼ªç±»é€‰æ‹©å™¨  
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1927884034804425/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·80110532256
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:46:52.000Z" title="Fri Jan 23 2026 09:46:52 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    6
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">CSS å­¦ä¹ ç¬”è®°ï¼šå½»åº•æŒæ¡ <code>:nth-child(n)</code> ä¼ªç±»é€‰æ‹©å™¨</h2>
<h3 data-id="heading-1">ä¸€ã€ä¸€å¥è¯å®šä¹‰ï¼ˆå…ˆé”šå®šè®¤çŸ¥ï¼‰</h3>
<blockquote>
<p><code>:nth-child(n)</code> æ˜¯ä¸€ä¸ª<strong>åŸºäºçˆ¶å…ƒç´ å­èŠ‚ç‚¹é¡ºåº</strong>çš„ç»“æ„åŒ–ä¼ªç±»é€‰æ‹©å™¨ï¼Œç”¨äºåŒ¹é…ï¼š<br/>
<strong>â€œæ˜¯å…¶ç›´æ¥çˆ¶å…ƒç´ çš„ç¬¬ <code>n</code> ä¸ªå­å…ƒç´ ï¼Œä¸”è‡ªèº«æ ‡ç­¾åï¼ˆæˆ–ç±»å‹ï¼‰ä¸é€‰æ‹©å™¨å‰ç¼€ä¸€è‡´â€</strong> çš„å…ƒç´ ã€‚<br/>
å®ƒä¸å…³å¿ƒâ€œè¿™æ˜¯ç¬¬å‡ ä¸ª <code>&lt;li&gt;</code>â€ï¼Œè€Œåªè®¤â€œè¿™æ˜¯çˆ¶å…ƒç´ çš„ç¬¬å‡ ä¸ªå­©å­â€ã€‚</p>
</blockquote>
<hr/>
<h3 data-id="heading-2">äºŒã€è¯­æ³•å…¨è§£ï¼šä»ç®€å•åˆ°å¼ºå¤§</h3>
<h4 data-id="heading-3">1ï¸ åŸºç¡€å½¢å¼ï¼ˆæœ€å¸¸ç”¨ï¼‰</h4>

























<table><thead><tr><th>å†™æ³•</th><th>å«ä¹‰</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td><code>:nth-child(1)</code></td><td>ç¬¬1ä¸ªå­å…ƒç´ </td><td><code>li:nth-child(1)</code> â†’ åˆ—è¡¨ç¬¬ä¸€ä¸ª <code>&lt;li&gt;</code></td></tr><tr><td><code>:nth-child(odd)</code></td><td>æ‰€æœ‰å¥‡æ•°ä½å­å…ƒç´ ï¼ˆ1,3,5â€¦ï¼‰</td><td><code>tr:nth-child(odd)</code> â†’ è¡¨æ ¼å¥‡æ•°è¡Œ</td></tr><tr><td><code>:nth-child(even)</code></td><td>æ‰€æœ‰å¶æ•°ä½å­å…ƒç´ ï¼ˆ2,4,6â€¦ï¼‰</td><td><code>div:nth-child(even)</code> â†’ å¶æ•°ä½ <code>&lt;div&gt;</code></td></tr></tbody></table>
<h4 data-id="heading-4">2ï¸ æ•°å­¦å…¬å¼ <code>an + b</code>ï¼ˆä¸‡èƒ½é€šå¼ï¼‰</h4>
<ul>
<li><code>n</code> æ˜¯ä» <code>0</code> å¼€å§‹çš„æ•´æ•°ï¼ˆ<code>n = 0, 1, 2, 3...</code>ï¼‰</li>
<li>è®¡ç®—ç»“æœ <code>an + b</code> å³ä¸º<strong>åŒ¹é…çš„å­å…ƒç´ ä½ç½®ï¼ˆä» 1 å¼€å§‹è®¡æ•°ï¼‰</strong></li>
</ul>









































<table><thead><tr><th>å…¬å¼</th><th>å±•å¼€ï¼ˆn=0,1,2,3â€¦ï¼‰</th><th>å®é™…åŒ¹é…ä½ç½®</th><th>å¸¸è§ç”¨é€”</th></tr></thead><tbody><tr><td><code>2n</code></td><td>0, 2, 4, 6â€¦ â†’ <strong>å¿½ç•¥ 0</strong></td><td>2, 4, 6, 8â€¦</td><td>ç­‰ä»·äº <code>even</code></td></tr><tr><td><code>2n+1</code></td><td>1, 3, 5, 7â€¦</td><td>1, 3, 5, 7â€¦</td><td>ç­‰ä»·äº <code>odd</code></td></tr><tr><td><code>3n+1</code></td><td>1, 4, 7, 10â€¦</td><td>æ¯éš” 3 ä¸ªé€‰ç¬¬ 1 ä¸ª</td><td>ç½‘æ ¼é¦–åˆ—é«˜äº®</td></tr><tr><td><code>n+3</code></td><td>3, 4, 5, 6â€¦</td><td><strong>ä»ç¬¬ 3 ä¸ªå¼€å§‹æ‰€æœ‰å­å…ƒç´ </strong></td><td>â€œè·³è¿‡å‰ä¸¤ä¸ªâ€</td></tr><tr><td><code>-n+3</code></td><td>3, 2, 1, 0â€¦ â†’ <strong>0 åŠè´Ÿæ•°æ— æ•ˆ</strong></td><td>1, 2, 3</td><td><strong>å‰ä¸‰ä¸ªå…ƒç´ </strong>ï¼ˆé»„é‡‘å…¬å¼ âœ…ï¼‰</td></tr></tbody></table>
<blockquote>
<p>è®°å¿†å£è¯€ï¼š</p>
<ul>
<li><code>even</code>/<code>odd</code> â†’ çœ‹æ˜¯å¦è¢« 2 æ•´é™¤ï¼›</li>
<li><code>n+X</code> â†’ ä»ç¬¬ X ä¸ªèµ·å…¨éƒ¨ï¼›</li>
<li><code>-n+X</code> â†’ å‰ X ä¸ªï¼›</li>
<li><code>an+b</code> â†’ ä»£å…¥ n=0,1,2â€¦ ç®—å‡ºæœ‰æ•ˆæ­£æ•´æ•°å³å¯ã€‚</li>
</ul>
</blockquote>
<hr/>
<h3 data-id="heading-5">ä¸‰ã€æ ¸å¿ƒæœºåˆ¶ï¼ˆå¿…è¯»ï¼90% é”™è¯¯æºäºæ­¤ï¼‰</h3>
<h4 data-id="heading-6">æ­£ç¡®é€»è¾‘ï¼ˆä¸‰æ­¥åˆ¤å®šï¼‰</h4>
<p>å¯¹é¡µé¢ä¸­æ¯ä¸€ä¸ªç›®æ ‡å…ƒç´ ï¼ˆå¦‚æ¯ä¸ª <code>&lt;li&gt;</code>ï¼‰ï¼Œæµè§ˆå™¨æ‰§è¡Œï¼š</p>
<ol>
<li><strong>å®šä½çˆ¶å…ƒç´ </strong> â†’ æ‰¾åˆ°å®ƒçš„ <code>parentNode</code>ï¼ˆç›´æ¥çˆ¶å®¹å™¨ï¼‰ï¼›</li>
<li><strong>è®¡ç®—ä½ç½®</strong> â†’ æŸ¥çœ‹å®ƒåœ¨çˆ¶å…ƒç´ çš„ <code>children</code> åˆ—è¡¨ä¸­æ˜¯ç¬¬å‡ ä¸ªï¼ˆ<strong>ä» 1 å¼€å§‹è®¡æ•°ï¼Œåªç®—å…ƒç´ èŠ‚ç‚¹ï¼Œå¿½ç•¥çº¯æ–‡æœ¬/æ³¨é‡Š</strong>ï¼‰ï¼›</li>
<li><strong>åŒé‡æ ¡éªŒ</strong> â†’ â‘  ä½ç½®ç¬¦åˆ <code>an+b</code> å…¬å¼ï¼›â‘¡ å…ƒç´ ç±»å‹ä¸é€‰æ‹©å™¨å‰ç¼€ä¸€è‡´ï¼ˆå¦‚ <code>li</code> å¿…é¡»æ˜¯ <code>&lt;li&gt;</code> æ ‡ç­¾ï¼‰â†’ ä¸¤è€…éƒ½æ»¡è¶³æ‰åŒ¹é…ã€‚</li>
</ol>
<h4 data-id="heading-7">å¸¸è§è¯¯è§£ï¼ˆçº¢è‰²è­¦æŠ¥ï¼ï¼‰</h4>






























<table><thead><tr><th>è¯¯è§£</th><th>ä¸ºä»€ä¹ˆé”™</th><th>æ­£ç¡®åšæ³•</th></tr></thead><tbody><tr><td>â€œ<code>:nth-child(3)</code> å°±æ˜¯ç¬¬ä¸‰ä¸ª <code>&lt;li&gt;</code>â€</td><td>âŒ å®ƒæ‰¾çš„æ˜¯â€œç¬¬3ä¸ªå­å…ƒç´ â€ï¼Œä¸æ˜¯â€œç¬¬3ä¸ª <code>&lt;li&gt;</code>â€</td><td>âœ… æ”¹ç”¨ <code>li:nth-of-type(3)</code></td></tr><tr><td>â€œçˆ¶å…ƒç´ æ²¡å†™ï¼Œå°±æ‰¾ä¸åˆ°çˆ¶â€</td><td>âŒ æ¯ä¸ªå…ƒç´ å¤©ç„¶æœ‰çˆ¶èŠ‚ç‚¹ï¼ˆ<code>&lt;body&gt;</code> æˆ–å…¶ä»–ï¼‰ï¼Œæ— éœ€æ˜¾å¼å£°æ˜</td><td>âœ… <code>li:nth-child(odd)</code> ä¼šè‡ªåŠ¨ä½œç”¨äºæ‰€æœ‰ <code>&lt;li&gt;</code>ï¼Œå„è‡ªæ‰¾çˆ¹</td></tr><tr><td>â€œéšè—å…ƒç´ ï¼ˆ<code>display:none</code>ï¼‰ä¸å‚ä¸è®¡æ•°â€</td><td>âŒ <code>:nth-child</code> åŸºäº DOM ç»“æ„ï¼Œä¸æ¸²æŸ“æ— å…³</td><td>âœ… éšè—å…ƒç´ ä»å ä½ç½®ï¼›è‹¥éœ€â€œè§†è§‰ä¸Šç¬¬nä¸ªâ€ï¼Œéœ€ JS</td></tr><tr><td>â€œç©ºç™½æ¢è¡Œä¼šå½±å“åºå·â€</td><td>âš ï¸ ç°ä»£æµè§ˆå™¨å·²ä¼˜åŒ–ï¼š<strong>åªè®¡ç®—å…ƒç´ èŠ‚ç‚¹ï¼ˆElement Nodesï¼‰ï¼Œå¿½ç•¥çº¯ç©ºç™½æ–‡æœ¬èŠ‚ç‚¹</strong></td><td>âœ… å®‰å¿ƒå†™æ ¼å¼åŒ– HTMLï¼Œæ— éœ€å‹ç¼©æˆä¸€è¡Œ</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-8">å››ã€å®æˆ˜å¯¹æ¯”ï¼š<code>:nth-child()</code> vs <code>:nth-of-type()</code></h3>


















































<table><thead><tr><th>ç»´åº¦</th><th><code>:nth-child(n)</code></th><th><code>:nth-of-type(n)</code></th></tr></thead><tbody><tr><td><strong>åˆ¤å®šä¾æ®</strong></td><td>å…ƒç´ åœ¨å…¶çˆ¶å…ƒç´ ä¸­çš„<strong>æ€»å­å…ƒç´ åºå·</strong></td><td>å…ƒç´ åœ¨å…¶çˆ¶å…ƒç´ ä¸­<strong>åŒç±»å‹å…ƒç´ çš„åºå·</strong></td></tr><tr><td><strong>æ˜¯å¦è·¨ç±»å‹è®¡æ•°</strong></td><td>âœ… æ˜¯ï¼ˆ<code>&lt;h2&gt;</code>, <code>&lt;p&gt;</code>, <code>&lt;div&gt;</code> å…¨éƒ¨è®¡å…¥ï¼‰</td><td>âŒ å¦ï¼ˆåªæ•° <code>&lt;p&gt;</code>ï¼Œå¿½ç•¥ <code>&lt;h2&gt;</code>ï¼‰</td></tr><tr><td><strong>HTML ç¤ºä¾‹</strong></td><td><code>&lt;ul&gt;&lt;h2&gt;T&lt;/h2&gt;&lt;p&gt;A&lt;/p&gt;&lt;span&gt;S&lt;/span&gt;&lt;p&gt;B&lt;/p&gt;&lt;/ul&gt;</code></td><td>åŒä¸Š</td></tr><tr><td><strong><code>p:nth-child(2)</code></strong></td><td>âœ… åŒ¹é… <code>&lt;p&gt;A&lt;/p&gt;</code>ï¼ˆå®ƒæ˜¯ç¬¬2ä¸ªå­å…ƒç´ ï¼‰</td><td>â€”</td></tr><tr><td><strong><code>p:nth-child(4)</code></strong></td><td>âœ… åŒ¹é… <code>&lt;p&gt;B&lt;/p&gt;</code>ï¼ˆå®ƒæ˜¯ç¬¬4ä¸ªå­å…ƒç´ ï¼‰</td><td>â€”</td></tr><tr><td><strong><code>p:nth-of-type(1)</code></strong></td><td>â€”</td><td>âœ… åŒ¹é… <code>&lt;p&gt;A&lt;/p&gt;</code>ï¼ˆç¬¬ä¸€ä¸ª <code>&lt;p&gt;</code>ï¼‰</td></tr><tr><td><strong><code>p:nth-of-type(2)</code></strong></td><td>â€”</td><td>âœ… åŒ¹é… <code>&lt;p&gt;B&lt;/p&gt;</code>ï¼ˆç¬¬äºŒä¸ª <code>&lt;p&gt;</code>ï¼‰</td></tr><tr><td><strong>ä½•æ—¶é€‰ç”¨</strong></td><td>éœ€è¦â€œæŒ‰ç‰©ç†ä½ç½®å¸ƒå±€â€ï¼ˆå¦‚è¡¨æ ¼éš”è¡Œã€ç½‘æ ¼é¦–è¡Œï¼‰</td><td>éœ€è¦â€œæŒ‰æ ‡ç­¾è¯­ä¹‰ç­›é€‰â€ï¼ˆå¦‚ç¬¬3ä¸ªæ®µè½ã€æœ€å2ä¸ªåˆ—è¡¨é¡¹ï¼‰</td></tr></tbody></table>
<blockquote>
<p>å¿«é€Ÿå†³ç­–æ ‘ï¼š<br/>
ä½ æƒ³é€‰ã€Œ<strong>æ’ç¬¬å‡ çš„å…ƒç´ </strong>ã€â†’ <code>:nth-child()</code><br/>
ä½ æƒ³é€‰ã€Œ<strong>ç¬¬å‡ ä¸ªåŒç±»å…ƒç´ </strong>ã€â†’ <code>:nth-of-type()</code></p>
</blockquote>
<hr/>
<h3 data-id="heading-9">äº”ã€æ— çˆ¶ç±»é€‰æ‹©å™¨çš„çœŸå®å«ä¹‰ï¼ˆæ·±åº¦æ¾„æ¸…ï¼‰</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(odd) { <span class="hljs-attribute">background</span>: <span class="hljs-number">#eee</span>; }
</code></pre>
<h4 data-id="heading-10">å®ƒä¸æ˜¯â€œæ²¡æœ‰çˆ¶â€ï¼Œè€Œæ˜¯â€œä¸é™å®šçˆ¶â€</h4>
<ul>
<li>æµè§ˆå™¨ä¼š<strong>ä¸ºæ¯ä¸ª <code>&lt;li&gt;</code> ç‹¬ç«‹æ‰§è¡Œ</strong>ï¼š<br/>
<code>å½“å‰&lt;li&gt;.parentNode.children</code> â†’ æ‰¾åˆ°å®ƒåœ¨å…¶ä¸­çš„ç´¢å¼• â†’ åˆ¤æ–­æ˜¯å¦ä¸ºå¥‡æ•° â†’ æ˜¯åˆ™åº”ç”¨æ ·å¼ã€‚</li>
<li>å› æ­¤ï¼Œå®ƒå¯èƒ½åŒæ—¶ä½œç”¨äºï¼š
<ul>
<li><code>&lt;ul&gt;</code> ä¸‹çš„ <code>&lt;li&gt;</code></li>
<li><code>&lt;ol&gt;</code> ä¸‹çš„ <code>&lt;li&gt;</code></li>
<li><code>&lt;nav&gt;</code> ä¸­çš„ <code>&lt;li&gt;</code>ï¼ˆè¯­ä¹‰åŒ–å¯¼èˆªï¼‰</li>
<li>ç”šè‡³ <code>&lt;section&gt;</code> ç›´æ¥å­çº§çš„ <code>&lt;li&gt;</code>ï¼ˆHTML5 å…è®¸ï¼‰</li>
</ul>
</li>
</ul>
<h4 data-id="heading-11">ä¸ºä»€ä¹ˆå¯ä»¥è¿™æ ·å†™ï¼Ÿ</h4>
<ul>
<li>CSS æ˜¯<strong>å…¨å±€ä½œç”¨åŸŸ</strong>ï¼Œé€‰æ‹©å™¨æè¿°çš„æ˜¯â€œæ»¡è¶³æ¡ä»¶çš„å…ƒç´ é›†åˆâ€ï¼Œä¸å¼ºåˆ¶ç»‘å®šçˆ¶å®¹å™¨ï¼›</li>
<li>è¿™ç§å†™æ³•ç®€æ´é«˜æ•ˆï¼Œé€‚åˆé€šç”¨æ ·å¼ï¼ˆå¦‚æ‰€æœ‰åˆ—è¡¨éš”è¡Œå˜è‰²ï¼‰ï¼›</li>
<li>âš ï¸ ä½†å¤§å‹é¡¹ç›®ä¸­å»ºè®®<strong>å¢åŠ å‘½åç©ºé—´çº¦æŸ</strong>ä»¥é˜²å†²çªï¼š</li>
</ul>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* æ¨èï¼šæ¨¡å—åŒ–é™å®š */</span>
<span class="hljs-selector-class">.product-list</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(odd) { ... }
<span class="hljs-selector-class">.nav-menu</span> <span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(odd)   { ... }

<span class="hljs-comment">/* ä¸æ¨èï¼šå…¨å±€æ±¡æŸ“é£é™© */</span>
<span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:nth-child</span>(odd) { ... } <span class="hljs-comment">/* å¯èƒ½æ„å¤–å½±å“ç¬¬ä¸‰æ–¹ç»„ä»¶ */</span>
</code></pre>
<hr/>
<h3 data-id="heading-12">å…­ã€ç»å…¸åº”ç”¨åœºæ™¯ï¼ˆé™„å¯å¤åˆ¶ä»£ç ï¼‰</h3>
<h4 data-id="heading-13">åœºæ™¯ 1ï¼šè¡¨æ ¼éš”è¡Œå˜è‰²ï¼ˆæœ€ç¨³æ–¹æ¡ˆï¼‰</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>å¼ ä¸‰<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>85<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>æå››<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>92<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>ç‹äº”<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>78<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/*  æ¨èï¼šç”¨ :nth-childï¼Œä¸å— thead/tfoot å¹²æ‰° */</span>
<span class="hljs-selector-tag">table</span> <span class="hljs-selector-tag">tr</span><span class="hljs-selector-pseudo">:nth-child</span>(even) { <span class="hljs-attribute">background</span>: <span class="hljs-number">#f9f9f9</span>; }
<span class="hljs-selector-tag">table</span> <span class="hljs-selector-tag">tr</span><span class="hljs-selector-pseudo">:nth-child</span>(odd)  { <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>; }
</code></pre>
<h4 data-id="heading-14">åœºæ™¯ 2ï¼šç½‘æ ¼å¸ƒå±€é¦–è¡ŒåŠ ç²—</h4>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"grid"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>4<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>5<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css"><span class="hljs-comment">/* æ¯è¡Œ3åˆ— â†’ é¦–è¡Œï¼š1,2,3 â†’ ä½ç½® 1,2,3 â†’ ç”¨ -n+3 */</span>
<span class="hljs-selector-class">.grid</span> <span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:nth-child</span>(-n+<span class="hljs-number">3</span>) { <span class="hljs-attribute">font-weight</span>: bold; }
</code></pre>
<h4 data-id="heading-15">åœºæ™¯ 3ï¼šå¯¼èˆªèœå•ä»…ç¬¬1ã€3ã€5é¡¹æœ‰ä¸‹åˆ’çº¿</h4>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-class">.nav-link</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">2</span>n+<span class="hljs-number">1</span>) { <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">2px</span> solid blue; }
</code></pre>
<hr/>
<h3 data-id="heading-16">ä¸ƒã€è°ƒè¯•æŠ€å·§ï¼ˆå¼€å‘å¿…å¤‡ï¼‰</h3>

























<table><thead><tr><th>æ–¹æ³•</th><th>æ“ä½œ</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>æµè§ˆå™¨å¼€å‘è€…å·¥å…·</strong></td><td>åœ¨ Elements é¢æ¿é€‰ä¸­ <code>&lt;li&gt;</code> â†’ å³ä¾§ Styles æŸ¥çœ‹æ˜¯å¦ç”Ÿæ•ˆ â†’ å±•å¼€çˆ¶èŠ‚ç‚¹æ•°å­å…ƒç´ </td><td>âœ… éªŒè¯å®é™…ä½ç½®</td></tr><tr><td><strong>Console å¿«é€ŸéªŒè¯</strong></td><td>è¾“å…¥ <code>document.querySelector('li:nth-child(2)')</code></td><td>âœ… è¿”å›åŒ¹é…çš„ç¬¬ä¸€ä¸ªå…ƒç´ </td></tr><tr><td><strong>ä¸´æ—¶é«˜äº®æ‰€æœ‰åŒ¹é…é¡¹</strong></td><td><code>*:nth-child(odd) { outline: 2px solid red !important; }</code></td><td>âœ… å¯è§†åŒ–æ‰€æœ‰å¥‡æ•°ä½å­å…ƒç´ ï¼ˆæ…ç”¨ï¼‰</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-17">å…«ã€å…¼å®¹æ€§ä¸æ³¨æ„äº‹é¡¹</h3>





















<table><thead><tr><th>é¡¹ç›®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>âœ… <strong>æµè§ˆå™¨æ”¯æŒ</strong></td><td>Chrome 4+ / Firefox 3.5+ / Safari 3.1+ / Edge 12+ / <strong>IE9+</strong>ï¼ˆIE8åŠä»¥ä¸‹ä¸æ”¯æŒï¼‰</td></tr><tr><td>âš ï¸ <strong>æœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰æ³¨æ„</strong></td><td>è‹¥ HTML ç”±æœåŠ¡ç«¯ç”Ÿæˆï¼Œç¡®ä¿ç»“æ„ä¸å®¢æˆ·ç«¯ä¸€è‡´ï¼Œå¦åˆ™æ ·å¼é”™ä½</td></tr><tr><td>ğŸš« <strong>ä¸èƒ½åšçš„äº‹</strong></td><td>â€¢ æ— æ³•åŸºäºå†…å®¹ï¼ˆå¦‚æ–‡å­—åŒ…å«â€œé‡è¦â€ï¼‰ç­›é€‰â€¢ æ— æ³•é€‰æ‹©â€œå€’æ•°ç¬¬2ä¸ªå¯è§å…ƒç´ â€ï¼ˆéœ€ JSï¼‰â€¢ æ— æ³•è·¨çˆ¶å…ƒç´ è®¡æ•°ï¼ˆå¦‚â€œæ•´ä¸ªé¡µé¢ç¬¬5ä¸ª <code>&lt;li&gt;</code>â€ï¼‰</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-18">é™„å½•ï¼šé€ŸæŸ¥è®°å¿†å¡ï¼ˆæ‰“å°/æ”¶è—ç‰ˆï¼‰</h3>













































<table><thead><tr><th>ç›®æ ‡</th><th>å†™æ³•</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>ç¬¬1ä¸ªå…ƒç´ </td><td><code>:nth-child(1)</code></td><td>æœ€ç®€å†™æ³•</td></tr><tr><td>å¥‡æ•°ä½</td><td><code>:nth-child(odd)</code> æˆ– <code>:nth-child(2n+1)</code></td><td>äºŒé€‰ä¸€</td></tr><tr><td>å¶æ•°ä½</td><td><code>:nth-child(even)</code> æˆ– <code>:nth-child(2n)</code></td><td>äºŒé€‰ä¸€</td></tr><tr><td>å‰3ä¸ª</td><td><code>:nth-child(-n+3)</code></td><td>âœ… é»„é‡‘å…¬å¼</td></tr><tr><td>ä»ç¬¬4ä¸ªèµ·æ‰€æœ‰</td><td><code>:nth-child(n+4)</code></td><td>âœ… é»„é‡‘å…¬å¼</td></tr><tr><td>æ¯4ä¸ªé€‰ç¬¬3ä¸ª</td><td><code>:nth-child(4n+3)</code></td><td>å¦‚ 3,7,11,15â€¦</td></tr><tr><td>ä»…æœ€åä¸€ä¸ª</td><td><code>:nth-last-child(1)</code></td><td>å€’åºè®¡æ•°</td></tr></tbody></table>
<hr/>
<p><strong>æœ€åé€ä½ ä¸€å¥å¿ƒæ³•</strong>ï¼š</p>
<blockquote>
<p><strong><code>:nth-child()</code> ä¸æ˜¯â€œæ‰¾ç¬¬å‡ ä¸ª <code>&lt;p&gt;</code>â€ï¼Œè€Œæ˜¯â€œç«™åœ¨çˆ¶å…ƒç´ é—¨å£ï¼Œç‚¹åå«ç¬¬nä¸ªè¿›é—¨çš„å­©å­â€”â€”è¿˜å¾—ç¡®è®¤ä»–æ˜¯ä¸æ˜¯ä½ è¦æ‰¾çš„é‚£ä½â€ã€‚</strong><br/>
ç†è§£äº†è¿™ä¸ªç”»é¢ï¼Œä½ å°±æ°¸è¿œä¸ä¼šå†å†™é”™ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[mach_msg_header_tè¯¦è§£]]></title>    <link>https://juejin.cn/post/7598287024077635624</link>    <guid>https://juejin.cn/post/7598287024077635624</guid>    <pubDate>2026-01-23T10:01:38.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598287024077635624" data-draft-id="7598287024077619240" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="mach_msg_header_tè¯¦è§£"/> <meta itemprop="keywords" content="iOS"/> <meta itemprop="datePublished" content="2026-01-23T10:01:38.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="iOSåœ¨å…¥é—¨"/> <meta itemprop="url" content="https://juejin.cn/user/4037062426627758"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            mach_msg_header_tè¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/4037062426627758/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    iOSåœ¨å…¥é—¨
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T10:01:38.000Z" title="Fri Jan 23 2026 10:01:38 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    12
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å€ŸåŠ©AIèƒ½åŠ›åˆ†æã€‚</p>
</blockquote>
<h2 data-id="heading-0"><code>mach_msg_header_t</code> - Mach æ¶ˆæ¯å¤´</h2>
<h3 data-id="heading-1">ä½œç”¨</h3>
<p>è¿™æ˜¯ <strong>Mach æ¶ˆæ¯çš„å¤´éƒ¨ç»“æ„</strong>ï¼Œç”¨äºåœ¨ macOS/iOS çš„è¿›ç¨‹é—´ï¼ˆæˆ–çº¿ç¨‹é—´ï¼‰ä¼ é€’æ¶ˆæ¯ã€‚</p>
<h3 data-id="heading-2">6ä¸ªå­—æ®µè¯¦è§£</h3>
<pre><code class="hljs language-c" lang="c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> {</span>
    <span class="hljs-type">mach_msg_bits_t</span>      msgh_bits;         <span class="hljs-comment">// æ¶ˆæ¯æ ‡å¿—ä½</span>
    <span class="hljs-type">mach_msg_size_t</span>      msgh_size;         <span class="hljs-comment">// æ¶ˆæ¯æ€»å¤§å°ï¼ˆå­—èŠ‚ï¼‰</span>
    <span class="hljs-type">mach_port_t</span>          msgh_remote_port;  <span class="hljs-comment">// ç›®æ ‡ç«¯å£ï¼ˆæ”¶ä¿¡äººï¼‰</span>
    <span class="hljs-type">mach_port_t</span>          msgh_local_port;   <span class="hljs-comment">// æœ¬åœ°ç«¯å£ï¼ˆå›ä¿¡åœ°å€ï¼‰</span>
    <span class="hljs-type">mach_port_name_t</span>     msgh_voucher_port; <span class="hljs-comment">// è¿½è¸ªç«¯å£ï¼ˆè°ƒè¯•ç”¨ï¼‰</span>
    <span class="hljs-type">mach_msg_id_t</span>        msgh_id;           <span class="hljs-comment">// æ¶ˆæ¯IDï¼ˆè‡ªå®šä¹‰ï¼‰</span>
} <span class="hljs-type">mach_msg_header_t</span>;
</code></pre>
<p><strong>å½¢è±¡æ¯”å–»</strong>ï¼ˆä¿¡å°ï¼‰ï¼š</p>








































<table><thead><tr><th>å­—æ®µ</th><th>å¯¹åº”ä¿¡å°ä¸Šçš„</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>msgh_remote_port</code></td><td><strong>æ”¶ä»¶äººåœ°å€</strong></td><td>æ¶ˆæ¯å‘å¾€å“ªä¸ªç«¯å£</td></tr><tr><td><code>msgh_local_port</code></td><td><strong>å›ä¿¡åœ°å€</strong></td><td>å¦‚æœéœ€è¦å›å¤ï¼Œå‘åˆ°è¿™é‡Œ</td></tr><tr><td><code>msgh_size</code></td><td><strong>ä¿¡ä»¶å¤§å°</strong></td><td>åŒ…æ‹¬ä¿¡å°å’Œå†…å®¹</td></tr><tr><td><code>msgh_bits</code></td><td><strong>é‚®å¯„æ–¹å¼</strong></td><td>æŒ‚å·ä¿¡ã€å¹³ä¿¡ç­‰</td></tr><tr><td><code>msgh_id</code></td><td><strong>ä¿¡ä»¶ç¼–å·</strong></td><td>ç”¨äºåŒºåˆ†ä¸åŒç±»å‹çš„ä¿¡</td></tr><tr><td><code>msgh_voucher_port</code></td><td><strong>è¿½è¸ªå•å·</strong></td><td>ç”¨äºè¿½è¸ªå’Œè°ƒè¯•</td></tr></tbody></table>
<h3 data-id="heading-3">åœ¨ RunLoop ä¸­çš„ä½¿ç”¨</h3>
<h4 data-id="heading-4">1. å‘é€å”¤é†’æ¶ˆæ¯ï¼ˆCFRunLoopWakeUpï¼‰</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// æ„é€ æ¶ˆæ¯å¤´</span>
<span class="hljs-type">mach_msg_header_t</span> header;
header.msgh_remote_port = rl-&gt;_wakeUpPort;  <span class="hljs-comment">// å‘å¾€å”¤é†’ç«¯å£</span>
header.msgh_local_port = MACH_PORT_NULL;    <span class="hljs-comment">// ä¸éœ€è¦å›å¤</span>
header.msgh_size = <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">mach_msg_header_t</span>); <span class="hljs-comment">// åªæœ‰å¤´ï¼Œæ— å†…å®¹</span>
header.msgh_bits = MACH_MSGH_BITS(MACH_MSG_TYPE_COPY_SEND, <span class="hljs-number">0</span>);
header.msgh_id = <span class="hljs-number">0</span>;

<span class="hljs-comment">// å‘é€ï¼ˆå”¤é†’ RunLoopï¼‰</span>
mach_msg(&amp;header, MACH_SEND_MSG, ...);
</code></pre>
<h4 data-id="heading-5">2. æ¥æ”¶æ¶ˆæ¯ï¼ˆRunLoop ä¼‘çœ ï¼‰</h4>
<pre><code class="hljs language-c" lang="c"><span class="hljs-comment">// å‡†å¤‡ç¼“å†²åŒº</span>
<span class="hljs-type">uint8_t</span> buffer[<span class="hljs-number">3</span> * <span class="hljs-number">1024</span>];
<span class="hljs-type">mach_msg_header_t</span> *msg = (<span class="hljs-type">mach_msg_header_t</span> *)buffer;

msg-&gt;msgh_local_port = waitSet;  <span class="hljs-comment">// åœ¨å“ªä¸ªç«¯å£ç­‰å¾…</span>
msg-&gt;msgh_size = <span class="hljs-keyword">sizeof</span>(buffer);  <span class="hljs-comment">// ç¼“å†²åŒºå¤§å°</span>

<span class="hljs-comment">// é˜»å¡ç­‰å¾…ï¼ˆçº¿ç¨‹ä¼‘çœ ï¼‰</span>
mach_msg(msg, MACH_RCV_MSG, ...);

<span class="hljs-comment">// è¢«å”¤é†’åï¼Œæ£€æŸ¥æ¶ˆæ¯æ¥æº</span>
<span class="hljs-keyword">if</span> (msg-&gt;msgh_local_port == _wakeUpPort) {
    <span class="hljs-comment">// æ‰‹åŠ¨å”¤é†’</span>
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (msg-&gt;msgh_local_port == _timerPort) {
    <span class="hljs-comment">// å®šæ—¶å™¨åˆ°æœŸ</span>
}
</code></pre>
<h3 data-id="heading-6">å…³é”®ç†è§£</h3>
<p><strong><code>mach_msg_header_t</code> æ˜¯ Mach IPC çš„æ ¸å¿ƒ</strong>ï¼š</p>
<ol>
<li><strong>é€šä¿¡åŸºç¡€</strong>ï¼šæ‰€æœ‰ Mach æ¶ˆæ¯éƒ½ä»¥è¿™ä¸ªå¤´å¼€å§‹</li>
<li><strong>è·¯ç”±ä¿¡æ¯</strong>ï¼šæŒ‡æ˜æ¶ˆæ¯çš„æ¥æºå’Œå»å‘</li>
<li><strong>RunLoop ä¼‘çœ /å”¤é†’</strong>ï¼šé€šè¿‡æ¥æ”¶/å‘é€æ¶ˆæ¯å®ç°</li>
</ol>
<p><strong>å®Œæ•´æ¶ˆæ¯ç»“æ„</strong>ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ <span class="hljs-type">mach_msg_header_t</span>    â”‚ â† æ¶ˆæ¯å¤´ï¼ˆå¿…éœ€ï¼‰
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¶ˆæ¯ä½“ï¼ˆå¯é€‰ï¼‰        â”‚ â† å®é™…æ•°æ®
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ trailerï¼ˆå¯é€‰ï¼‰       â”‚ â† é™„åŠ ä¿¡æ¯
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<p><strong>RunLoop çš„ç®€åŒ–æ¶ˆæ¯</strong>ï¼šåªæœ‰å¤´éƒ¨ï¼Œæ— æ¶ˆæ¯ä½“ï¼ˆç§°ä¸º "trivial message"ï¼‰ï¼Œè¶³ä»¥å”¤é†’çº¿ç¨‹ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸ºä»€ä¹ˆè¦ä½¿ç”¨TypeScriptï¼Ÿè¯¦ç»†å¯¹æ¯”åˆ†æ]]></title>    <link>https://juejin.cn/post/7598382710294364160</link>    <guid>https://juejin.cn/post/7598382710294364160</guid>    <pubDate>2026-01-23T10:18:01.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598382710294364160" data-draft-id="7598355220830158900" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸ºä»€ä¹ˆè¦ä½¿ç”¨TypeScriptï¼Ÿè¯¦ç»†å¯¹æ¯”åˆ†æ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T10:18:01.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¨œå¦¹å­è¾£"/> <meta itemprop="url" content="https://juejin.cn/user/3421335918747976"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸ºä»€ä¹ˆè¦ä½¿ç”¨TypeScriptï¼Ÿè¯¦ç»†å¯¹æ¯”åˆ†æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3421335918747976/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¨œå¦¹å­è¾£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T10:18:01.000Z" title="Fri Jan 23 2026 10:18:01 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»9åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Â TypeScriptçš„æ ¸å¿ƒä»·å€¼</h2>
<p>TypeScriptæ˜¯JavaScriptçš„è¶…é›†ï¼Œæ·»åŠ äº†é™æ€ç±»å‹æ£€æŸ¥ã€‚å®ƒåœ¨ç¼–è¯‘æ—¶å‘ç°é”™è¯¯ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶ï¼Œä»è€Œæé«˜ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡ã€‚</p>
<hr/>
<h2 data-id="heading-1">1ï¸âƒ£ ç±»å‹å®‰å…¨ï¼šé¿å…è¿è¡Œæ—¶é”™è¯¯</h2>
<h3 data-id="heading-2">JavaScriptçš„ç±»å‹é—®é¢˜</h3>
<pre><code class="hljs language-arduino" lang="arduino">JavaScript
<span class="hljs-comment">// JavaScript - è¿è¡Œæ—¶æ‰å‘ç°é”™è¯¯</span>
<span class="hljs-function">function <span class="hljs-title">calculateArea</span><span class="hljs-params">(width, height)</span> </span>{
  <span class="hljs-keyword">return</span> width * height;
}

<span class="hljs-comment">// è¿™äº›è°ƒç”¨åœ¨è¿è¡Œæ—¶æ‰ä¼šå‡ºé”™</span>
console.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">calculateArea</span>(<span class="hljs-string">"10"</span>, <span class="hljs-string">"20"</span>));     <span class="hljs-comment">// "1020" (å­—ç¬¦ä¸²æ‹¼æ¥)</span>
console.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">calculateArea</span>(<span class="hljs-number">10</span>));             <span class="hljs-comment">// NaN (heightä¸ºundefined)</span>
console.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">calculateArea</span>(<span class="hljs-number">10</span>, null));       <span class="hljs-comment">// 0 (nullè½¬ä¸º0)</span>
console.<span class="hljs-built_in">log</span>(<span class="hljs-built_in">calculateArea</span>({}, []));         <span class="hljs-comment">// NaN (å¯¹è±¡è½¬æ•°å­—å¤±è´¥)</span>

<span class="hljs-comment">// æ›´å¤æ‚çš„ä¾‹å­</span>
<span class="hljs-function">function <span class="hljs-title">processUser</span><span class="hljs-params">(user)</span> </span>{
  <span class="hljs-comment">// å¦‚æœuserä¸ºnullæˆ–undefinedï¼Œè¿™é‡Œä¼šæŠ¥é”™</span>
  <span class="hljs-keyword">return</span> user.name.<span class="hljs-built_in">toUpperCase</span>() + <span class="hljs-string">" - "</span> + user.email.<span class="hljs-built_in">toLowerCase</span>();
}

<span class="hljs-comment">// è¿è¡Œæ—¶é”™è¯¯ï¼šCannot read property 'name' of null</span>
<span class="hljs-built_in">processUser</span>(null);
</code></pre>
<h3 data-id="heading-3">TypeScriptçš„ç±»å‹ä¿æŠ¤</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">TypeScript</span>
<span class="hljs-comment">// TypeScript - ç¼–è¯‘æ—¶å‘ç°é”™è¯¯</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">calculateArea</span>(<span class="hljs-params">width: <span class="hljs-built_in">number</span>, height: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> width * height;
}

<span class="hljs-comment">// ç¼–è¯‘æ—¶é”™è¯¯ï¼ŒIDEä¼šç«‹å³æç¤º</span>
<span class="hljs-comment">// calculateArea("10", "20");  // âŒ Argument of type 'string' is not assignable to parameter of type 'number'</span>
<span class="hljs-comment">// calculateArea(10);          // âŒ Expected 2 arguments, but got 1</span>
<span class="hljs-comment">// calculateArea(10, null);    // âŒ Argument of type 'null' is not assignable to parameter of type 'number'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">processUser</span>(<span class="hljs-params">user: User</span>): <span class="hljs-built_in">string</span> {
  <span class="hljs-keyword">return</span> user.<span class="hljs-property">name</span>.<span class="hljs-title function_">toUpperCase</span>() + <span class="hljs-string">" - "</span> + user.<span class="hljs-property">email</span>.<span class="hljs-title function_">toLowerCase</span>();
}

<span class="hljs-comment">// ç¼–è¯‘æ—¶é”™è¯¯</span>
<span class="hljs-comment">// processUser(null);  // âŒ Argument of type 'null' is not assignable to parameter of type 'User'</span>

<span class="hljs-comment">// æ­£ç¡®ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">validUser</span>: <span class="hljs-title class_">User</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">"John Doe"</span>,
  <span class="hljs-attr">email</span>: <span class="hljs-string">"john@example.com"</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>
};
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">processUser</span>(validUser)); <span class="hljs-comment">// âœ… ç±»å‹å®‰å…¨</span>
</code></pre>
<hr/>
<h2 data-id="heading-4">2ï¸âƒ£ æ™ºèƒ½æç¤ºå’Œè‡ªåŠ¨è¡¥å…¨</h2>
<h3 data-id="heading-5">JavaScriptçš„å¼€å‘ä½“éªŒ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">JavaScript</span>
<span class="hljs-comment">// JavaScript - æ— æ³•ç¡®å®šå¯¹è±¡ç»“æ„</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleApiResponse</span>(<span class="hljs-params">response</span>) {
  <span class="hljs-comment">// IDEæ— æ³•çŸ¥é“responseæœ‰ä»€ä¹ˆå±æ€§</span>
  <span class="hljs-comment">// éœ€è¦æŸ¥çœ‹æ–‡æ¡£æˆ–è¿è¡Œä»£ç æ‰çŸ¥é“</span>
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.); <span class="hljs-comment">// æ— æ™ºèƒ½æç¤º</span>
}

<span class="hljs-comment">// æ•°ç»„æ–¹æ³•ä¹Ÿç¼ºå°‘æ™ºèƒ½æç¤º</span>
<span class="hljs-keyword">const</span> users = <span class="hljs-title function_">getUsers</span>(); <span class="hljs-comment">// ä¸çŸ¥é“æ•°ç»„å…ƒç´ ç±»å‹</span>
users.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.); <span class="hljs-comment">// æ— æ³•çŸ¥é“useræœ‰ä»€ä¹ˆå±æ€§</span>
});
</code></pre>
<h3 data-id="heading-6">TypeScriptçš„æ™ºèƒ½å¼€å‘ä½“éªŒ</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">TypeScript</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ApiResponse</span>&lt;T&gt; {
  <span class="hljs-attr">success</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">data</span>: T;
  message?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">timestamp</span>: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">profile</span>: {
    <span class="hljs-attr">avatar</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">bio</span>: <span class="hljs-built_in">string</span>;
  };
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">handleApiResponse</span>(<span class="hljs-params">response: ApiResponse&lt;User[]&gt;</span>): <span class="hljs-built_in">void</span> {
  <span class="hljs-comment">// IDEæä¾›å®Œæ•´çš„æ™ºèƒ½æç¤º</span>
  <span class="hljs-keyword">if</span> (response.<span class="hljs-property">success</span>) {
    response.<span class="hljs-property">data</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> {
      <span class="hljs-comment">// æ™ºèƒ½æç¤ºæ˜¾ç¤ºæ‰€æœ‰å¯ç”¨å±æ€§å’Œæ–¹æ³•</span>
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.<span class="hljs-property">name</span>.<span class="hljs-title function_">toUpperCase</span>());
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.<span class="hljs-property">email</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-string">'@'</span>));
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(user.<span class="hljs-property">profile</span>.<span class="hljs-property">avatar</span>);
      <span class="hljs-comment">// IDEä¼šæç¤ºæ‹¼å†™é”™è¯¯</span>
      <span class="hljs-comment">// console.log(user.nam); // âŒ Property 'nam' does not exist</span>
    });
  }
}

<span class="hljs-comment">// æ•°ç»„æ–¹æ³•çš„ç±»å‹æ¨æ–­</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">userNames</span>: <span class="hljs-built_in">string</span>[] = users.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> user.<span class="hljs-property">name</span>); <span class="hljs-comment">// è‡ªåŠ¨æ¨æ–­ä¸ºstring[]</span>
<span class="hljs-keyword">const</span> <span class="hljs-attr">adults</span>: <span class="hljs-title class_">User</span>[] = users.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> user.<span class="hljs-property">age</span> &gt;= <span class="hljs-number">18</span>); <span class="hljs-comment">// ç±»å‹å®‰å…¨çš„è¿‡æ»¤</span>
</code></pre>
<hr/>
<h2 data-id="heading-7">3ï¸âƒ£ é‡æ„å®‰å…¨æ€§</h2>
<h3 data-id="heading-8">JavaScripté‡æ„çš„é£é™©</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">JavaScript</span>
<span class="hljs-comment">// åŸå§‹ä»£ç </span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
  <span class="hljs-title function_">getUserInfo</span>(<span class="hljs-params">userId</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/user/<span class="hljs-subst">${userId}</span>`</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>());
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileComponent</span> {
  <span class="hljs-title function_">loadUser</span>(<span class="hljs-params">id</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">userService</span>.<span class="hljs-title function_">getUserInfo</span>(id)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">user</span> =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">displayName</span>(user.<span class="hljs-property">fullName</span>); <span class="hljs-comment">// ä½¿ç”¨fullNameå±æ€§</span>
      });
  }
  
  <span class="hljs-title function_">displayName</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'userName'</span>).<span class="hljs-property">textContent</span> = name;
  }
}

<span class="hljs-comment">// å¦‚æœAPIæ”¹å˜äº†ï¼Œè¿”å›çš„æ˜¯nameè€Œä¸æ˜¯fullName</span>
<span class="hljs-comment">// JavaScriptæ— æ³•æ£€æµ‹åˆ°è¿™ä¸ªå˜åŒ–ï¼Œåªæœ‰åœ¨è¿è¡Œæ—¶æ‰ä¼šå‘ç°é”™è¯¯</span>
</code></pre>
<h3 data-id="heading-9">TypeScriptçš„é‡æ„å®‰å…¨</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">TypeScript</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>; <span class="hljs-comment">// ä»fullNameæ”¹ä¸ºname</span>
  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getUserInfo</span>(<span class="hljs-attr">userId</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">User</span>&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/user/<span class="hljs-subst">${userId}</span>`</span>);
    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
  }
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileComponent</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> userService: UserService</span>) {}
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadUser</span>(<span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userService</span>.<span class="hljs-title function_">getUserInfo</span>(id);
    <span class="hljs-comment">// ç¼–è¯‘æ—¶é”™è¯¯ï¼šProperty 'fullName' does not exist on type 'User'</span>
    <span class="hljs-comment">// this.displayName(user.fullName); // âŒ ç«‹å³å‘ç°é”™è¯¯</span>
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">displayName</span>(user.<span class="hljs-property">name</span>); <span class="hljs-comment">// âœ… æ­£ç¡®ä½¿ç”¨</span>
  }
  
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">displayName</span>(<span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">const</span> element = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">'userName'</span>);
    <span class="hljs-keyword">if</span> (element) {
      element.<span class="hljs-property">textContent</span> = name;
    }
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-10">4ï¸âƒ£ å¤§å‹é¡¹ç›®çš„å¯ç»´æŠ¤æ€§</h2>
<h3 data-id="heading-11">JavaScripté¡¹ç›®çš„æŒ‘æˆ˜</h3>
<pre><code class="hljs language-scss" lang="scss">JavaScript
<span class="hljs-comment">// æ–‡ä»¶1: userService.js</span>
function <span class="hljs-built_in">createUser</span>(userData) {
  <span class="hljs-comment">// ä¸çŸ¥é“userDataåº”è¯¥åŒ…å«ä»€ä¹ˆå­—æ®µ</span>
  return {
    id: <span class="hljs-built_in">generateId</span>(),
    name: userData.name,
    email: userData.email,
    // å¿˜è®°äº†æŸäº›å¿…éœ€å­—æ®µï¼Ÿ
  };
}

<span class="hljs-comment">// æ–‡ä»¶2: userController.js  </span>
function <span class="hljs-built_in">handleCreateUser</span>(req, res) {
  const user = <span class="hljs-built_in">createUser</span>(req.body);
  <span class="hljs-comment">// ä¸çŸ¥é“createUserè¿”å›ä»€ä¹ˆç»“æ„</span>
  <span class="hljs-built_in">saveUser</span>(user);
}

<span class="hljs-comment">// æ–‡ä»¶3: database.js</span>
function <span class="hljs-built_in">saveUser</span>(user) {
  <span class="hljs-comment">// ä¸çŸ¥é“userå¯¹è±¡çš„ç»“æ„</span>
  <span class="hljs-comment">// å¯èƒ½ä¼šå› ä¸ºç¼ºå°‘å­—æ®µè€Œå¤±è´¥</span>
  return db<span class="hljs-selector-class">.insert</span>('users', user);
}

<span class="hljs-comment">// 6ä¸ªæœˆåï¼Œå…¶ä»–å¼€å‘è€…ä¿®æ”¹ä»£ç æ—¶ï¼š</span>
<span class="hljs-comment">// 1. ä¸çŸ¥é“å‡½æ•°æœŸæœ›ä»€ä¹ˆå‚æ•°</span>
<span class="hljs-comment">// 2. ä¸çŸ¥é“å‡½æ•°è¿”å›ä»€ä¹ˆ</span>
<span class="hljs-comment">// 3. ä¿®æ”¹ä¸€ä¸ªåœ°æ–¹å¯èƒ½ç ´åå…¶ä»–åœ°æ–¹</span>
<span class="hljs-comment">// 4. éœ€è¦å¤§é‡æ–‡æ¡£å’Œæ³¨é‡Š</span>
</code></pre>
<h3 data-id="heading-12">TypeScripté¡¹ç›®çš„æ¸…æ™°ç»“æ„</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">TypeScript</span>
<span class="hljs-comment">// types/user.ts - ç»Ÿä¸€çš„ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">CreateUserRequest</span> {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">password</span>: <span class="hljs-built_in">string</span>;
  age?: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">createdAt</span>: <span class="hljs-title class_">Date</span>;
  <span class="hljs-attr">updatedAt</span>: <span class="hljs-title class_">Date</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserRepository</span> {
  <span class="hljs-title function_">save</span>(<span class="hljs-attr">user</span>: <span class="hljs-title class_">User</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">User</span>&gt;;
  <span class="hljs-title function_">findById</span>(<span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">User</span> | <span class="hljs-literal">null</span>&gt;;
  <span class="hljs-title function_">findByEmail</span>(<span class="hljs-attr">email</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">User</span> | <span class="hljs-literal">null</span>&gt;;
}

<span class="hljs-comment">// services/userService.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserService</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> userRepo: UserRepository</span>) {}
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">createUser</span>(<span class="hljs-attr">userData</span>: <span class="hljs-title class_">CreateUserRequest</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">User</span>&gt; {
    <span class="hljs-comment">// ç±»å‹ç³»ç»Ÿç¡®ä¿æ‰€æœ‰å¿…éœ€å­—æ®µéƒ½å­˜åœ¨</span>
    <span class="hljs-keyword">const</span> <span class="hljs-attr">user</span>: <span class="hljs-title class_">User</span> = {
      <span class="hljs-attr">id</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">generateId</span>(),
      <span class="hljs-attr">name</span>: userData.<span class="hljs-property">name</span>,
      <span class="hljs-attr">email</span>: userData.<span class="hljs-property">email</span>,
      <span class="hljs-attr">createdAt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(),
      <span class="hljs-attr">updatedAt</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()
    };
    
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userRepo</span>.<span class="hljs-title function_">save</span>(user);
  }
  
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">generateId</span>(): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>).<span class="hljs-title function_">substr</span>(<span class="hljs-number">2</span>, <span class="hljs-number">9</span>);
  }
}

<span class="hljs-comment">// controllers/userController.ts</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> userService: UserService</span>) {}
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">handleCreateUser</span>(<span class="hljs-attr">req</span>: <span class="hljs-title class_">Request</span>, <span class="hljs-attr">res</span>: <span class="hljs-title class_">Response</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// ç±»å‹æ£€æŸ¥ç¡®ä¿è¯·æ±‚ä½“ç»“æ„æ­£ç¡®</span>
      <span class="hljs-keyword">const</span> <span class="hljs-attr">userData</span>: <span class="hljs-title class_">CreateUserRequest</span> = req.<span class="hljs-property">body</span>;
      <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">userService</span>.<span class="hljs-title function_">createUser</span>(userData);
      
      res.<span class="hljs-title function_">status</span>(<span class="hljs-number">201</span>).<span class="hljs-title function_">json</span>(user);
    } <span class="hljs-keyword">catch</span> (error) {
      res.<span class="hljs-title function_">status</span>(<span class="hljs-number">400</span>).<span class="hljs-title function_">json</span>({ <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span> });
    }
  }
}

<span class="hljs-comment">// ä¼˜åŠ¿ï¼š</span>
<span class="hljs-comment">// 1. ä»»ä½•å¼€å‘è€…éƒ½èƒ½ç«‹å³ç†è§£ä»£ç ç»“æ„</span>
<span class="hljs-comment">// 2. ä¿®æ”¹æ¥å£æ—¶ï¼Œæ‰€æœ‰ç›¸å…³ä»£ç éƒ½ä¼šæ˜¾ç¤ºç¼–è¯‘é”™è¯¯</span>
<span class="hljs-comment">// 3. IDEæä¾›å®Œæ•´çš„å¯¼èˆªå’Œé‡æ„æ”¯æŒ</span>
<span class="hljs-comment">// 4. è‡ªæ–‡æ¡£åŒ–ï¼Œå‡å°‘æ³¨é‡Šéœ€æ±‚</span>
</code></pre>
<hr/>
<h2 data-id="heading-13">5ï¸âƒ£ å›¢é˜Ÿåä½œæ•ˆç‡</h2>
<h3 data-id="heading-14">JavaScriptå›¢é˜Ÿåä½œé—®é¢˜</h3>
<pre><code class="hljs language-php" lang="php">JavaScript
<span class="hljs-comment">// å¼€å‘è€…Aå†™çš„ä»£ç </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processPayment</span>(<span class="hljs-params">amount, currency, paymentMethod</span>) </span>{
  <span class="hljs-comment">// æ²¡æœ‰æ–‡æ¡£è¯´æ˜å‚æ•°ç±»å‹å’Œæ ¼å¼</span>
  <span class="hljs-comment">// amountæ˜¯æ•°å­—è¿˜æ˜¯å­—ç¬¦ä¸²ï¼Ÿ</span>
  <span class="hljs-comment">// currencyæ˜¯"USD"è¿˜æ˜¯"usd"è¿˜æ˜¯æ•°å­—ä»£ç ï¼Ÿ</span>
  <span class="hljs-comment">// paymentMethodæ˜¯ä»€ä¹ˆæ ¼å¼ï¼Ÿ</span>
}

<span class="hljs-comment">// å¼€å‘è€…Bä½¿ç”¨æ—¶åªèƒ½çŒœæµ‹</span>
<span class="hljs-title function_ invoke__">processPayment</span>(<span class="hljs-string">"100.50"</span>, <span class="hljs-string">"usd"</span>, { <span class="hljs-attr">type</span>: <span class="hljs-string">"credit_card"</span>, <span class="hljs-attr">number</span>: <span class="hljs-string">"1234"</span> });

<span class="hljs-comment">// å¼€å‘è€…Cåˆæ˜¯å¦ä¸€ç§ç†è§£</span>
<span class="hljs-title function_ invoke__">processPayment</span>(<span class="hljs-number">10050</span>, <span class="hljs-string">"USD"</span>, <span class="hljs-string">"credit_card"</span>);

<span class="hljs-comment">// ç»“æœï¼šè¿è¡Œæ—¶é”™è¯¯ï¼Œè°ƒè¯•å›°éš¾ï¼Œéœ€è¦å¤§é‡æ²Ÿé€š</span>
</code></pre>
<h3 data-id="heading-15">TypeScriptå›¢é˜Ÿåä½œä¼˜åŠ¿</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">TypeScript</span>
<span class="hljs-comment">// æ˜ç¡®çš„æ¥å£å®šä¹‰ä½œä¸ºå›¢é˜Ÿå¥‘çº¦</span>
<span class="hljs-keyword">enum</span> <span class="hljs-title class_">Currency</span> {
  <span class="hljs-variable constant_">USD</span> = <span class="hljs-string">"USD"</span>,
  <span class="hljs-variable constant_">EUR</span> = <span class="hljs-string">"EUR"</span>,
  <span class="hljs-variable constant_">CNY</span> = <span class="hljs-string">"CNY"</span>
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">PaymentMethod</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-string">"credit_card"</span> | <span class="hljs-string">"debit_card"</span> | <span class="hljs-string">"paypal"</span> | <span class="hljs-string">"bank_transfer"</span>;
  <span class="hljs-attr">details</span>: <span class="hljs-title class_">CreditCardDetails</span> | <span class="hljs-title class_">PayPalDetails</span> | <span class="hljs-title class_">BankDetails</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">CreditCardDetails</span> {
  <span class="hljs-attr">number</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">expiryMonth</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">expiryYear</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">cvv</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">PaymentResult</span> {
  <span class="hljs-attr">success</span>: <span class="hljs-built_in">boolean</span>;
  transactionId?: <span class="hljs-built_in">string</span>;
  error?: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">// æ¸…æ™°çš„å‡½æ•°ç­¾å</span>
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">processPayment</span>(<span class="hljs-params">
  amount: <span class="hljs-built_in">number</span>,           <span class="hljs-comment">// æ˜ç¡®æ˜¯æ•°å­—ï¼Œå•ä½ä¸ºåˆ†</span>
  currency: Currency,       <span class="hljs-comment">// æšä¸¾ç¡®ä¿æœ‰æ•ˆå€¼</span>
  paymentMethod: PaymentMethod  <span class="hljs-comment">// ç»“æ„åŒ–çš„æ”¯ä»˜æ–¹å¼</span>
</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">PaymentResult</span>&gt; {
  <span class="hljs-comment">// å®ç°ç»†èŠ‚...</span>
}

<span class="hljs-comment">// æ‰€æœ‰å›¢é˜Ÿæˆå‘˜éƒ½èƒ½æ­£ç¡®ä½¿ç”¨</span>
<span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">processPayment</span>(
  <span class="hljs-number">10050</span>,  <span class="hljs-comment">// 100.50ç¾å…ƒï¼Œä»¥åˆ†ä¸ºå•ä½</span>
  <span class="hljs-title class_">Currency</span>.<span class="hljs-property">USD</span>,
  {
    <span class="hljs-attr">type</span>: <span class="hljs-string">"credit_card"</span>,
    <span class="hljs-attr">details</span>: {
      <span class="hljs-attr">number</span>: <span class="hljs-string">"4111111111111111"</span>,
      <span class="hljs-attr">expiryMonth</span>: <span class="hljs-number">12</span>,
      <span class="hljs-attr">expiryYear</span>: <span class="hljs-number">2025</span>,
      <span class="hljs-attr">cvv</span>: <span class="hljs-string">"123"</span>
    }
  }
);

<span class="hljs-comment">// ä¼˜åŠ¿ï¼š</span>
<span class="hljs-comment">// 1. é›¶æ­§ä¹‰çš„APIå¥‘çº¦</span>
<span class="hljs-comment">// 2. IDEè‡ªåŠ¨éªŒè¯ä½¿ç”¨æ–¹å¼</span>
<span class="hljs-comment">// 3. å‡å°‘ä»£ç å®¡æŸ¥æ—¶é—´</span>
<span class="hljs-comment">// 4. æ–°å›¢é˜Ÿæˆå‘˜å¿«é€Ÿä¸Šæ‰‹</span>
</code></pre>
<hr/>
<h2 data-id="heading-16">6ï¸âƒ£ ç°ä»£å¼€å‘å·¥å…·é›†æˆ</h2>
<h3 data-id="heading-17">æ„å»ºæ—¶ä¼˜åŒ–</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">TypeScript</span>
<span class="hljs-comment">// TypeScripté…ç½® (tsconfig.json)</span>
{
  <span class="hljs-string">"compilerOptions"</span>: {
    <span class="hljs-string">"strict"</span>: <span class="hljs-literal">true</span>,           <span class="hljs-comment">// å¯ç”¨æ‰€æœ‰ä¸¥æ ¼æ£€æŸ¥</span>
    <span class="hljs-string">"noUnusedLocals"</span>: <span class="hljs-literal">true</span>,   <span class="hljs-comment">// æ£€æµ‹æœªä½¿ç”¨çš„å˜é‡</span>
    <span class="hljs-string">"noUnusedParameters"</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ£€æµ‹æœªä½¿ç”¨çš„å‚æ•°</span>
    <span class="hljs-string">"noImplicitReturns"</span>: <span class="hljs-literal">true</span>,  <span class="hljs-comment">// ç¡®ä¿æ‰€æœ‰ä»£ç è·¯å¾„éƒ½æœ‰è¿”å›å€¼</span>
    <span class="hljs-string">"noFallthroughCasesInSwitch"</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// æ£€æµ‹switchè¯­å¥çš„fallthrough</span>
  }
}

<span class="hljs-comment">// ç¼–è¯‘æ—¶å‘ç°çš„é—®é¢˜</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">calculateDiscount</span>(<span class="hljs-params">price: <span class="hljs-built_in">number</span>, customerType: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">let</span> discount = <span class="hljs-number">0</span>;
  
  <span class="hljs-keyword">switch</span> (customerType) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"premium"</span>:
      discount = <span class="hljs-number">0.2</span>;
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"regular"</span>:
      discount = <span class="hljs-number">0.1</span>;
      <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šfallthrough case detected</span>
    <span class="hljs-keyword">case</span> <span class="hljs-string">"new"</span>:
      discount = <span class="hljs-number">0.05</span>;
      <span class="hljs-keyword">break</span>;
  }
  
  <span class="hljs-comment">// âŒ ç¼–è¯‘é”™è¯¯ï¼šNot all code paths return a value</span>
}
</code></pre>
<h3 data-id="heading-18">æµ‹è¯•æ”¯æŒ</h3>
<pre><code class="hljs language-php" lang="php">TypeScript
<span class="hljs-comment">// ç±»å‹å®‰å…¨çš„æµ‹è¯•</span>
<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">MockUser</span> </span>{
  id: number;
  name: <span class="hljs-keyword">string</span>;
  email: <span class="hljs-keyword">string</span>;
}

<span class="hljs-comment">// æµ‹è¯•å·¥å‚å‡½æ•°</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createMockUser</span>(<span class="hljs-params">overrides: Partial&lt;MockUser&gt; = {}</span>): <span class="hljs-title">MockUser</span> </span>{
  <span class="hljs-keyword">return</span> {
    id: <span class="hljs-number">1</span>,
    name: <span class="hljs-string">"Test User"</span>,
    email: <span class="hljs-string">"test@example.com"</span>,
    ...overrides
  };
}

<span class="hljs-comment">// ç±»å‹å®‰å…¨çš„Mock</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">mockUserService</span>: jest.Mocked&lt;UserService&gt; = {
  createUser: jest.fn(),
  getUserById: jest.fn(),
  updateUser: jest.fn(),
  deleteUser: jest.fn()
};

<span class="hljs-comment">// æµ‹è¯•ç”¨ä¾‹</span>
<span class="hljs-title function_ invoke__">describe</span>(<span class="hljs-string">"UserController"</span>, () =&gt; {
  <span class="hljs-title function_ invoke__">it</span>(<span class="hljs-string">"should create user successfully"</span>, <span class="hljs-title function_ invoke__">async</span> () =&gt; {
    <span class="hljs-keyword">const</span> mockUser = <span class="hljs-title function_ invoke__">createMockUser</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">"John Doe"</span> });
    mockUserService.createUser.<span class="hljs-title function_ invoke__">mockResolvedValue</span>(mockUser);
    
    <span class="hljs-keyword">const</span> result = await userController.<span class="hljs-title function_ invoke__">createUser</span>({
      <span class="hljs-attr">name</span>: <span class="hljs-string">"John Doe"</span>,
      <span class="hljs-attr">email</span>: <span class="hljs-string">"john@example.com"</span>,
      <span class="hljs-attr">password</span>: <span class="hljs-string">"password123"</span>
    });
    
    <span class="hljs-title function_ invoke__">expect</span>(result).<span class="hljs-title function_ invoke__">toEqual</span>(mockUser);
    <span class="hljs-title function_ invoke__">expect</span>(mockUserService.createUser).<span class="hljs-title function_ invoke__">toHaveBeenCalledWith</span>({
      <span class="hljs-attr">name</span>: <span class="hljs-string">"John Doe"</span>,
      <span class="hljs-attr">email</span>: <span class="hljs-string">"john@example.com"</span>,
      <span class="hljs-attr">password</span>: <span class="hljs-string">"password123"</span>
    });
  });
});
</code></pre>
<hr/>
<h2 data-id="heading-19">7ï¸âƒ£ æ€§èƒ½å’ŒåŒ…å¤§å°ä¼˜åŒ–</h2>
<h3 data-id="heading-20">Tree Shakingä¼˜åŒ–</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-title class_">TypeScript</span>
<span class="hljs-comment">// utils/math.ts - æ¨¡å—åŒ–çš„å·¥å…·å‡½æ•°</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> a + b;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">subtract</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> a - b;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">multiply</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">return</span> a * b;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">divide</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>): <span class="hljs-built_in">number</span> {
  <span class="hljs-keyword">if</span> (b === <span class="hljs-number">0</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Division by zero"</span>);
  <span class="hljs-keyword">return</span> a / b;
}

<span class="hljs-comment">// main.ts - åªå¯¼å…¥éœ€è¦çš„å‡½æ•°</span>
<span class="hljs-keyword">import</span> { add, multiply } <span class="hljs-keyword">from</span> <span class="hljs-string">"./utils/math"</span>;

<span class="hljs-comment">// TypeScript + ç°ä»£æ‰“åŒ…å·¥å…·ä¼šè‡ªåŠ¨ç§»é™¤æœªä½¿ç”¨çš„subtractå’Œdivideå‡½æ•°</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>));
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">multiply</span>(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>));
</code></pre>
<h3 data-id="heading-21">ç¼–è¯‘æ—¶ä¼˜åŒ–</h3>
<pre><code class="hljs language-css" lang="css">TypeScript
// å¼€å‘æ—¶çš„è¯¦ç»†ç±»å‹
interface DetailedUser {
  id: number;
  name: string;
  email: string;
  profile: {
    avatar: string;
    bio: string;
    preferences: {
      theme: <span class="hljs-string">"light"</span> | <span class="hljs-string">"dark"</span>;
      language: string;
      notifications: boolean;
    };
  };
  metadata: {
    createdAt: Date;
    updatedAt: Date;
    lastLogin: Date;
  };
}

// ç¼–è¯‘åçš„JavaScriptæ˜¯çº¯å‡€çš„ï¼Œæ²¡æœ‰ç±»å‹ä¿¡æ¯
function processUser(user) {
  return {
    displayName: user.name,
    avatar: user.profile.avatar
  };
}
</code></pre>
<hr/>
<h2 data-id="heading-22">8ï¸âƒ£ å®é™…é¡¹ç›®å¯¹æ¯”</h2>
<h3 data-id="heading-23">ä¸­å‹ç”µå•†é¡¹ç›®æ¡ˆä¾‹</h3>
<h4 data-id="heading-24">JavaScriptç‰ˆæœ¬çš„é—®é¢˜</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">JavaScript</span>
<span class="hljs-comment">// 6ä¸ªæœˆåç»´æŠ¤æ—¶é‡åˆ°çš„å®é™…é—®é¢˜</span>

<span class="hljs-comment">// 1. ä¸çŸ¥é“å•†å“å¯¹è±¡çš„ç»“æ„</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">calculatePrice</span>(<span class="hljs-params">product, quantity, discountCode</span>) {
  <span class="hljs-comment">// product.priceæ˜¯æ•°å­—è¿˜æ˜¯å­—ç¬¦ä¸²ï¼Ÿ</span>
  <span class="hljs-comment">// discountCodeæ˜¯ä»€ä¹ˆæ ¼å¼ï¼Ÿ</span>
  <span class="hljs-keyword">let</span> price = product.<span class="hljs-property">price</span> * quantity;
  
  <span class="hljs-keyword">if</span> (discountCode) {
    <span class="hljs-comment">// ä¸çŸ¥é“å¦‚ä½•åº”ç”¨æŠ˜æ‰£</span>
    price = <span class="hljs-title function_">applyDiscount</span>(price, discountCode);
  }
  
  <span class="hljs-keyword">return</span> price;
}

<span class="hljs-comment">// 2. APIå“åº”ç»“æ„ä¸æ˜ç¡®</span>
<span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/products'</span>)
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
  .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">data</span> =&gt;</span> {
    <span class="hljs-comment">// dataæ˜¯æ•°ç»„è¿˜æ˜¯å¯¹è±¡ï¼Ÿ</span>
    <span class="hljs-comment">// æœ‰åˆ†é¡µä¿¡æ¯å—ï¼Ÿ</span>
    data.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">product</span> =&gt;</span> {
      <span class="hljs-comment">// productæœ‰ä»€ä¹ˆå±æ€§ï¼Ÿ</span>
      <span class="hljs-title function_">displayProduct</span>(product);
    });
  });

<span class="hljs-comment">// 3. çŠ¶æ€ç®¡ç†æ··ä¹±</span>
<span class="hljs-keyword">const</span> cartState = {
  <span class="hljs-attr">items</span>: [],
  <span class="hljs-attr">total</span>: <span class="hljs-number">0</span>,
  <span class="hljs-comment">// è¿˜æœ‰ä»€ä¹ˆå±æ€§ï¼Ÿ</span>
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">addToCart</span>(<span class="hljs-params">productId, quantity</span>) {
  <span class="hljs-comment">// éœ€è¦æŸ¥çœ‹æ‰€æœ‰ç›¸å…³ä»£ç æ‰çŸ¥é“å¦‚ä½•æ­£ç¡®æ›´æ–°çŠ¶æ€</span>
}
</code></pre>
<h4 data-id="heading-25">TypeScriptç‰ˆæœ¬çš„æ¸…æ™°åº¦</h4>
<pre><code class="hljs language-ini" lang="ini">TypeScript
// æ¸…æ™°çš„é¢†åŸŸæ¨¡å‹
interface Product {
  id: string<span class="hljs-comment">;</span>
  name: string<span class="hljs-comment">;</span>
  price: number<span class="hljs-comment">; // ä»¥åˆ†ä¸ºå•ä½</span>
  category: ProductCategory<span class="hljs-comment">;</span>
  inventory: number<span class="hljs-comment">;</span>
  images: string<span class="hljs-section">[]</span><span class="hljs-comment">;</span>
  description: string<span class="hljs-comment">;</span>
}

interface CartItem {
  productId: string<span class="hljs-comment">;</span>
  quantity: number<span class="hljs-comment">;</span>
  unitPrice: number<span class="hljs-comment">;</span>
  totalPrice: number<span class="hljs-comment">;</span>
}

interface CartState {
  items: CartItem<span class="hljs-section">[]</span><span class="hljs-comment">;</span>
  subtotal: number<span class="hljs-comment">;</span>
  tax: number<span class="hljs-comment">;</span>
  shipping: number<span class="hljs-comment">;</span>
  total: number<span class="hljs-comment">;</span>
  discountCode?: string<span class="hljs-comment">;</span>
  discountAmount: number<span class="hljs-comment">;</span>
}

interface ApiResponse&lt;T&gt; {
  data: T<span class="hljs-comment">;</span>
  pagination?: {
    page: number<span class="hljs-comment">;</span>
    limit: number<span class="hljs-comment">;</span>
    total: number<span class="hljs-comment">;</span>
    hasNext: boolean<span class="hljs-comment">;</span>
  }<span class="hljs-comment">;</span>
}

// ç±»å‹å®‰å…¨çš„ä¸šåŠ¡é€»è¾‘
class PriceCalculator {
  static calculateItemPrice(
    product: Product, 
    quantity: number, 
    discountCode?: string
  ): number {
    let <span class="hljs-attr">price</span> = product.price * quantity<span class="hljs-comment">;</span>
    
    if (discountCode) {
      <span class="hljs-attr">price</span> = this.applyDiscount(price, discountCode)<span class="hljs-comment">;</span>
    }
    
    return price<span class="hljs-comment">;</span>
  }
  
  private static applyDiscount(price: number, code: string): number {
    // å®ç°æŠ˜æ‰£é€»è¾‘
    return price<span class="hljs-comment">;</span>
  }
}

// ç±»å‹å®‰å…¨çš„APIè°ƒç”¨
class ProductService {
  async getProducts(): Promise&lt;ApiResponse&lt;Product<span class="hljs-section">[]</span>&gt;&gt; {
    const <span class="hljs-attr">response</span> = await fetch(<span class="hljs-string">'/api/products'</span>)<span class="hljs-comment">;</span>
    return response.json()<span class="hljs-comment">;</span>
  }
}

// ç±»å‹å®‰å…¨çš„çŠ¶æ€ç®¡ç†
class CartManager {
  private state: <span class="hljs-attr">CartState</span> = {
    items: <span class="hljs-section">[]</span>,
    subtotal: 0,
    tax: 0,
    shipping: 0,
    total: 0,
    discountAmount: 0
  }<span class="hljs-comment">;</span>
  
  addItem(product: Product, quantity: number): void {
    const <span class="hljs-attr">existingItem</span> = this.state.items.find(item =&gt; 
      <span class="hljs-attr">item.productId</span> === product.id
    )<span class="hljs-comment">;</span>
    
    if (existingItem) {
      existingItem.quantity += quantity<span class="hljs-comment">;</span>
      <span class="hljs-attr">existingItem.totalPrice</span> = existingItem.unitPrice * existingItem.quantity<span class="hljs-comment">;</span>
    } else {
      this.state.items.push({
        productId: product.id,
        quantity,
        unitPrice: product.price,
        totalPrice: product.price * quantity
      })<span class="hljs-comment">;</span>
    }
    
    this.recalculateTotal()<span class="hljs-comment">;</span>
  }
  
  private recalculateTotal(): void {
    <span class="hljs-attr">this.state.subtotal</span> = this.state.items.reduce(
      (sum, item) =&gt; sum + item.totalPrice, 
      0
    )<span class="hljs-comment">;</span>
    <span class="hljs-attr">this.state.tax</span> = this.state.subtotal * <span class="hljs-number">0.08</span><span class="hljs-comment">;</span>
    <span class="hljs-attr">this.state.total</span> = this.state.subtotal + this.state.tax + this.state.shipping - this.state.discountAmount<span class="hljs-comment">;</span>
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-26">ğŸ“Š æŠ•èµ„å›æŠ¥ç‡åˆ†æ</h2>
<h3 data-id="heading-27">å¼€å‘æ•ˆç‡æå‡</h3>
<pre><code class="hljs language-arduino" lang="arduino">TypeScript
<span class="hljs-comment">// ç»Ÿè®¡æ•°æ®ï¼ˆåŸºäºå®é™…é¡¹ç›®ç»éªŒï¼‰</span>

<span class="hljs-comment">// 1. Bugå‡å°‘ç‡</span>
<span class="hljs-comment">// JavaScripté¡¹ç›®ï¼šå¹³å‡æ¯1000è¡Œä»£ç 15-20ä¸ªè¿è¡Œæ—¶é”™è¯¯</span>
<span class="hljs-comment">// TypeScripté¡¹ç›®ï¼šå¹³å‡æ¯1000è¡Œä»£ç 3-5ä¸ªè¿è¡Œæ—¶é”™è¯¯</span>
<span class="hljs-comment">// å‡å°‘ç‡ï¼š70-80%</span>

<span class="hljs-comment">// 2. å¼€å‘æ—¶é—´</span>
<span class="hljs-comment">// æ–°åŠŸèƒ½å¼€å‘ï¼šTypeScriptåˆæœŸæ…¢10-15%ï¼ŒåæœŸå¿«20-30%</span>
<span class="hljs-comment">// Bugä¿®å¤æ—¶é—´ï¼šTypeScriptå¹³å‡å‡å°‘50%</span>
<span class="hljs-comment">// ä»£ç å®¡æŸ¥æ—¶é—´ï¼šå‡å°‘30-40%</span>

<span class="hljs-comment">// 3. ç»´æŠ¤æˆæœ¬</span>
<span class="hljs-comment">// 6ä¸ªæœˆåçš„ä»£ç ç†è§£æ—¶é—´ï¼šå‡å°‘60%</span>
<span class="hljs-comment">// é‡æ„é£é™©ï¼šå‡å°‘80%</span>
<span class="hljs-comment">// æ–°å›¢é˜Ÿæˆå‘˜ä¸Šæ‰‹æ—¶é—´ï¼šå‡å°‘40%</span>
</code></pre>
<h3 data-id="heading-28">å®é™…æˆæœ¬å¯¹æ¯”</h3>
<pre><code class="hljs language-arduino" lang="arduino">TypeScript
<span class="hljs-comment">// å°å‹é¡¹ç›®ï¼ˆ&lt;10kè¡Œä»£ç ï¼‰</span>
<span class="hljs-comment">// TypeScripté¢å¤–æˆæœ¬ï¼šç±»å‹å®šä¹‰æ—¶é—´ +20%</span>
<span class="hljs-comment">// TypeScriptæ”¶ç›Šï¼šè°ƒè¯•æ—¶é—´ -30%ï¼Œç»´æŠ¤æ—¶é—´ -25%</span>
<span class="hljs-comment">// å‡€æ”¶ç›Šï¼šé¡¹ç›®åæœŸå¼€å§‹æ˜¾ç°</span>

<span class="hljs-comment">// ä¸­å‹é¡¹ç›®ï¼ˆ10k-50kè¡Œä»£ç ï¼‰  </span>
<span class="hljs-comment">// TypeScripté¢å¤–æˆæœ¬ï¼š+15%</span>
<span class="hljs-comment">// TypeScriptæ”¶ç›Šï¼š-40%è°ƒè¯•ï¼Œ-35%ç»´æŠ¤ï¼Œ-50%é‡æ„é£é™©</span>
<span class="hljs-comment">// å‡€æ”¶ç›Šï¼š3-6ä¸ªæœˆåæ˜¾è‘—</span>

<span class="hljs-comment">// å¤§å‹é¡¹ç›®ï¼ˆ&gt;50kè¡Œä»£ç ï¼‰</span>
<span class="hljs-comment">// TypeScripté¢å¤–æˆæœ¬ï¼š+10%</span>
<span class="hljs-comment">// TypeScriptæ”¶ç›Šï¼š-50%è°ƒè¯•ï¼Œ-45%ç»´æŠ¤ï¼Œ-70%é‡æ„é£é™©</span>
<span class="hljs-comment">// å‡€æ”¶ç›Šï¼šç«‹å³æ˜¾ç°ï¼Œé•¿æœŸæ”¶ç›Šå·¨å¤§</span>
</code></pre>
<hr/>
<h2 data-id="heading-29">ğŸ¯ æ€»ç»“ï¼šä½•æ—¶ä½¿ç”¨TypeScript</h2>
<h3 data-id="heading-30">å¼ºçƒˆæ¨èä½¿ç”¨çš„åœºæ™¯</h3>
<pre><code class="hljs language-kotlin" lang="kotlin">TypeScript
<span class="hljs-comment">// 1. å›¢é˜Ÿé¡¹ç›®ï¼ˆ&gt;2äººï¼‰</span>
<span class="hljs-comment">// 2. é•¿æœŸç»´æŠ¤é¡¹ç›®ï¼ˆ&gt;6ä¸ªæœˆï¼‰</span>
<span class="hljs-comment">// 3. å¤æ‚ä¸šåŠ¡é€»è¾‘</span>
<span class="hljs-comment">// 4. å¤šæ¨¡å—/å¾®æœåŠ¡æ¶æ„</span>
<span class="hljs-comment">// 5. éœ€è¦é«˜å¯é æ€§çš„é¡¹ç›®</span>
<span class="hljs-comment">// 6. æœ‰APIé›†æˆçš„é¡¹ç›®</span>
<span class="hljs-comment">// 7. éœ€è¦é‡æ„çš„é—ç•™é¡¹ç›®</span>

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ProjectRecommendation</span> {
  teamSize: number;
  projectDuration: <span class="hljs-string">"short"</span> | <span class="hljs-string">"medium"</span> | <span class="hljs-string">"long"</span>;
  complexity: <span class="hljs-string">"low"</span> | <span class="hljs-string">"medium"</span> | <span class="hljs-string">"high"</span>;
  reliability: <span class="hljs-string">"normal"</span> | <span class="hljs-string">"high"</span> | <span class="hljs-string">"critical"</span>;
  recommendation: <span class="hljs-string">"optional"</span> | <span class="hljs-string">"recommended"</span> | <span class="hljs-string">"essential"</span>;
}

<span class="hljs-keyword">const</span> scenarios: ProjectRecommendation[] = [
  {
    teamSize: <span class="hljs-number">1</span>,
    projectDuration: <span class="hljs-string">"short"</span>,
    complexity: <span class="hljs-string">"low"</span>,
    reliability: <span class="hljs-string">"normal"</span>,
    recommendation: <span class="hljs-string">"optional"</span>
  },
  {
    teamSize: <span class="hljs-number">3</span>,
    projectDuration: <span class="hljs-string">"medium"</span>, 
    complexity: <span class="hljs-string">"medium"</span>,
    reliability: <span class="hljs-string">"high"</span>,
    recommendation: <span class="hljs-string">"recommended"</span>
  },
  {
    teamSize: <span class="hljs-number">5</span>,
    projectDuration: <span class="hljs-string">"long"</span>,
    complexity: <span class="hljs-string">"high"</span>, 
    reliability: <span class="hljs-string">"critical"</span>,
    recommendation: <span class="hljs-string">"essential"</span>
  }
];
</code></pre>
<h3 data-id="heading-31">å¯ä»¥è€ƒè™‘ä¸ç”¨çš„åœºæ™¯</h3>
<pre><code class="hljs language-arduino" lang="arduino">JavaScript
<span class="hljs-comment">// 1. å¿«é€ŸåŸå‹/æ¦‚å¿µéªŒè¯</span>
<span class="hljs-comment">// 2. ä¸€æ¬¡æ€§è„šæœ¬</span>
<span class="hljs-comment">// 3. ç®€å•çš„é™æ€ç½‘ç«™</span>
<span class="hljs-comment">// 4. å­¦ä¹ JavaScriptåŸºç¡€æ—¶</span>
<span class="hljs-comment">// 5. éå¸¸å°çš„é¡¹ç›®ï¼ˆ&lt;1000è¡Œï¼‰</span>
<span class="hljs-comment">// 6. å›¢é˜Ÿå®Œå…¨æ²¡æœ‰TypeScriptç»éªŒä¸”æ—¶é—´ç´§è¿«</span>

<span class="hljs-comment">// ä½†å³ä½¿è¿™äº›åœºæ™¯ï¼ŒTypeScriptçš„é•¿æœŸæ”¶ç›Šé€šå¸¸ä¹Ÿå€¼å¾—æŠ•èµ„</span>
</code></pre>
<p><strong>ç»“è®ºï¼šTypeScripté€šè¿‡ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥ï¼Œæ˜¾è‘—æé«˜äº†ä»£ç è´¨é‡ã€å¼€å‘æ•ˆç‡å’Œé¡¹ç›®å¯ç»´æŠ¤æ€§ã€‚è™½ç„¶æœ‰å­¦ä¹ æˆæœ¬ï¼Œä½†å¯¹äºä»»ä½•éœ€è¦é•¿æœŸç»´æŠ¤æˆ–å›¢é˜Ÿåä½œçš„é¡¹ç›®ï¼ŒTypeScriptéƒ½æ˜¯æ˜æ™ºçš„é€‰æ‹©ã€‚</strong></p>
<p>å‚è€ƒç½‘å€ï¼š<a href="https://juejin.cn/post/7511290103962714122#heading-9" target="_blank" title="https://juejin.cn/post/7511290103962714122#heading-9">juejin.cn/post/751129â€¦</a></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[VeADK Agent ä¸€é”®å®¹å™¨åŒ–éƒ¨ç½²ï¼Œä¸‡å­—é•¿æ–‡å¸¦ä½ å®æˆ˜æ¼”ç»ƒ]]></title>    <link>https://juejin.cn/post/7598390244379738150</link>    <guid>https://juejin.cn/post/7598390244379738150</guid>    <pubDate>2026-01-23T10:18:50.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598390244379738150" data-draft-id="7598374376093859867" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="VeADK Agent ä¸€é”®å®¹å™¨åŒ–éƒ¨ç½²ï¼Œä¸‡å­—é•¿æ–‡å¸¦ä½ å®æˆ˜æ¼”ç»ƒ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-23T10:18:50.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç«å±±å¼•æ“å¼€å‘è€…ç¤¾åŒº"/> <meta itemprop="url" content="https://juejin.cn/user/3307770588439422"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            VeADK Agent ä¸€é”®å®¹å™¨åŒ–éƒ¨ç½²ï¼Œä¸‡å­—é•¿æ–‡å¸¦ä½ å®æˆ˜æ¼”ç»ƒ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3307770588439422/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç«å±±å¼•æ“å¼€å‘è€…ç¤¾åŒº
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T10:18:50.000Z" title="Fri Jan 23 2026 10:18:50 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»18åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>èƒŒæ™¯</p>
<p>è¿‘å¹´æ¥ï¼Œäººå·¥æ™ºèƒ½æŠ€æœ¯çš„å‘å±•æ­£ä»æ¨¡å‹ä¸ºä¸­å¿ƒè½¬å‘ä»¥åº”ç”¨ä¸ºä¸­å¿ƒï¼Œæ™ºèƒ½ä½“ï¼ˆAgentï¼‰ä½œä¸º AI åº”ç”¨çš„æ ¸å¿ƒè½½ä½“ï¼Œå…¶è½åœ°éƒ¨ç½²éœ€æ±‚æ—¥ç›Šè¿«åˆ‡ã€‚è€Œéšç€ AI åº”ç”¨å‘ç”Ÿäº§ç¯å¢ƒè¿ç§»ï¼Œä»¥ Kubernetes ä¸ºæ ¸å¿ƒçš„äº‘åŸç”ŸåŸºç¡€è®¾æ–½æˆä¸ºå¾ˆå¤šä¼ä¸šçš„é»˜è®¤é€‰æ‹©ï¼Œä¸º Agent åº”ç”¨æä¾›æ ‡å‡†åŒ–ã€å¯æ‰©å±•ä¸”å…·å¤‡æˆæœ¬æ•ˆç›Šçš„è¿è¡Œæ—¶ç¯å¢ƒåŠ¿åœ¨å¿…è¡Œã€‚</p>
<p>æ ¹æ® CNCF æœ€æ–°å‘å¸ƒçš„å¹´åº¦äº‘åŸç”Ÿè°ƒæŸ¥ï¼š</p>
<blockquote>
<p>Kubernetes å·²ä»å®¹å™¨ç¼–æ’å·¥å…·ï¼Œå‘å±•ä¸ºç°ä»£åŸºç¡€è®¾æ–½çš„æ ¸å¿ƒï¼ŒåŒ…æ‹¬ AI é¢†åŸŸã€‚åœ¨å®¹å™¨ç”¨æˆ·ä¸­ï¼Œ82% å·²åœ¨ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ Kubernetesï¼Œ66% çš„ AI é‡‡ç”¨è€…ç”¨å®ƒæ¥æ‰©å±•æ¨ç†ä»»åŠ¡ã€‚Kubernetes ä¸å†æ˜¯å°ä¼—å·¥å…·ï¼Œè€Œæ˜¯æ”¯æ’‘è§„æ¨¡ã€å¯é æ€§å’Œ AI ç³»ç»Ÿçš„åŸºç¡€å±‚ã€‚ â€”â€” CNCF Annual Cloud Native Survey The infrastructure of AIâ€™s future</p>
</blockquote>
<p>ç«å±±å¼•æ“çš„ Agent å¼€å‘å¥—ä»¶ï¼ˆVeADK/AgentKitï¼‰ç›®å‰å·²å…·å¤‡å°† Agent åº”ç”¨ä¸€é”®éƒ¨ç½²è‡³å‡½æ•°æœåŠ¡ï¼ˆveFaaSï¼‰çš„èƒ½åŠ›ã€‚è¯¥è·¯å¾„ä¸ºå¼€å‘è€…æä¾›äº†å¿«é€ŸéªŒè¯å’Œè½»é‡çº§éƒ¨ç½²çš„ä¾¿åˆ©ã€‚ç„¶è€Œï¼Œå½“ Agent åº”ç”¨ä»å®éªŒé˜¶æ®µèµ°å‘ç”Ÿäº§æˆç†Ÿé˜¶æ®µï¼Œå…¶å¯¹ç¯å¢ƒçš„è¦æ±‚ä¹Ÿéšä¹‹æå‡ã€‚ç”Ÿäº§çº§åº”ç”¨é€šå¸¸éœ€è¦æ›´å¼ºçš„ç¯å¢ƒæ§åˆ¶åŠ›ã€æ›´å¤æ‚çš„ä¾èµ–ç®¡ç†ã€æ›´å¯é çš„è¿è¡Œä¿éšœä»¥åŠæ›´ç²¾ç»†çš„æˆæœ¬æ§åˆ¶ã€‚å› æ­¤ï¼Œå°† Agent åº”ç”¨çš„éƒ¨ç½²ç›®æ ‡ä» veFaaS å»¶ä¼¸è‡³ç«å±±å¼•æ“å®¹å™¨æœåŠ¡ï¼ˆVKEï¼‰ï¼Œæ˜¯æ»¡è¶³å…¶ç”Ÿäº§åŒ–éœ€æ±‚çš„å¿…ç„¶æ¼”è¿›ã€‚</p>
<p>VKE ä½œä¸ºä¸€ä¸ªç”Ÿäº§çº§çš„ Kubernetes æ‰˜ç®¡æœåŠ¡ï¼Œèƒ½å¤Ÿæä¾›ï¼š</p>
<ul>
<li>å®‰å…¨å¯é çš„ç¯å¢ƒï¼šé€šè¿‡ IAM for Service Accounts ï¼ˆIRSAï¼‰ ç­‰æœºåˆ¶å®ç°ç»†ç²’åº¦çš„æƒé™ç®¡æ§ï¼Œé¿å…æ•æ„Ÿå¯†é’¥ç¡¬ç¼–ç ã€‚</li>
<li>æè‡´çš„å¼¹æ€§ä¼¸ç¼©ï¼šå€ŸåŠ©æ°´å¹³ Pod è‡ªåŠ¨æ‰©ç¼©å®¹ï¼ˆHPAï¼‰ï¼Œæ ¹æ®è´Ÿè½½è‡ªåŠ¨è°ƒæ•´èµ„æºï¼Œå®ç°æˆæœ¬ä¸æ€§èƒ½çš„æœ€ä½³å¹³è¡¡ã€‚</li>
<li>å…¨é¢çš„å¯è§‚æµ‹æ€§ï¼šæ— ç¼é›†æˆæ—¥å¿—æœåŠ¡ã€ç›‘æ§å‘Šè­¦ç­‰ç³»ç»Ÿï¼Œæä¾›ç«¯åˆ°ç«¯çš„åº”ç”¨å¥åº·åº¦æ´å¯Ÿã€‚</li>
<li>å¼€æ”¾çš„äº‘åŸç”Ÿç”Ÿæ€ï¼šä¸ API ç½‘å…³ã€æŒç»­é›†æˆä¸æŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰ç­‰å·¥å…·é“¾æ·±åº¦æ•´åˆï¼ŒåŠ é€Ÿåº”ç”¨äº¤ä»˜ä¸è¿­ä»£ã€‚</li>
</ul>
<p>æœ¬æ–‡æ—¨åœ¨ä»‹ç»ä¸€å¥—å°† VeADK Agent éƒ¨ç½²è‡³ VKE çš„æ ‡å‡†åŒ–è·¯å¾„ï¼Œä¸º AI åº”ç”¨æä¾›ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šçš„ç”Ÿäº§çº§äº‘åŸç”Ÿæ‰˜ç®¡æ–¹æ¡ˆï¼Œå®ç°ä»å¼€å‘ã€éƒ¨ç½²åˆ°è¿ç»´çš„å…¨ç”Ÿå‘½å‘¨æœŸé«˜æ•ˆç®¡ç†ã€‚</p>
<h2 data-id="heading-0">æ“ä½œæµç¨‹</h2>
<ol>
<li>åˆ›å»º VKE æ‰˜ç®¡ç‰ˆé›†ç¾¤åŠèŠ‚ç‚¹æ± ã€‚</li>
<li>ä½¿ç”¨Â IRSAÂ æœºåˆ¶ï¼Œå®‰å…¨åœ°å°†åº”ç”¨ä¸ç«å±±å¼•æ“çš„å…¶ä»–äº‘æœåŠ¡ API è¿æ¥ã€‚</li>
<li>ä½¿ç”¨Â <code>Dockerfile</code>Â å°†åº”ç”¨å®¹å™¨åŒ–ï¼Œå¹¶å°†å…¶æ¨é€åˆ°ç«å±±å¼•æ“å®¹å™¨é•œåƒæœåŠ¡ï¼ˆCRï¼‰ã€‚</li>
<li>ç¼–å†™å¹¶åº”ç”¨ Deployment å’Œ Service çš„Â Kubernetes å£°æ˜å¼é…ç½®ã€‚</li>
<li>ä½¿ç”¨æ°´å¹³ Pod è‡ªåŠ¨æ‰©ç¼©å®¹ï¼ˆHPAï¼‰é…ç½®åº”ç”¨çš„å¼¹æ€§ä¼¸ç¼©ã€‚</li>
<li>ä½¿ç”¨ç«å±±å¼•æ“ API ç½‘å…³å°†åº”ç”¨å‘å¸ƒè‡³å…¬ç½‘ã€‚</li>
<li>æ—¥å¿—æŸ¥çœ‹ä¸ç›‘æ§è§‚æµ‹ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/72198a72404d4fbab33570bb2ac7d3d9~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5bGx5byV5pOO5byA5Y-R6ICF56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768330&amp;x-signature=dYqeDF1o%2FdmTSuUWnYDqaoXH0vU%3D" alt="" loading="lazy"/></p>
<p>VeADK Agent å®¹å™¨åŒ–éƒ¨ç½²å®è·µ</p>
<p><strong>ç¯å¢ƒå‡†å¤‡</strong></p>
<p>åœ¨å¼€å§‹æ“ä½œå‰ï¼Œè¯·å®Œæˆä»¥ä¸‹å‡†å¤‡å·¥ä½œã€‚</p>
<p><strong>ç«å±±å¼•æ“è´¦å·ä¸è®¿é—®å¯†é’¥</strong></p>
<p>ä½ éœ€è¦ä¸€ä¸ªå·²å®Œæˆå®åè®¤è¯çš„ç«å±±å¼•æ“è´¦å·ï¼Œå¹¶åˆ›å»ºè®¿é—®å¯†é’¥ï¼ˆAccess Keyï¼‰ï¼Œç”¨äºæœ¬åœ°ä¸äº‘ç«¯èµ„æºçš„èº«ä»½éªŒè¯ã€‚</p>
<ul>
<li>æ³¨å†Œè´¦å·ï¼šè‹¥æ— è´¦å·ï¼Œè¯·å‰å¾€<strong>ç«å±±å¼•æ“å®˜ç½‘</strong>æ³¨å†Œå¹¶å®Œæˆå®åè®¤è¯ã€‚</li>
<li>åˆ›å»ºè®¿é—®å¯†é’¥ï¼ˆAK/SKï¼‰ï¼š</li>
</ul>
<p>a. ç™»å½•ç«å±±å¼•æ“æ§åˆ¶å°ã€‚</p>
<p>b. è¿›å…¥è®¿é—®æ§åˆ¶æœåŠ¡ã€‚</p>
<p>c. åœ¨å·¦ä¾§å¯¼èˆªæ é€‰æ‹©ç”¨æˆ·ï¼Œæ‰¾åˆ°ä½ çš„ IAM ç”¨æˆ·ï¼ˆæˆ–æ–°å»ºç”¨æˆ·ï¼‰ã€‚</p>
<p>d. ç‚¹å‡»ç”¨æˆ·åè¿›å…¥è¯¦æƒ…é¡µï¼Œé€‰æ‹©å¯†é’¥ç®¡ç†æ ‡ç­¾é¡µã€‚</p>
<p>e. ç‚¹å‡»æ–°å»ºå¯†é’¥ï¼Œç”Ÿæˆ Access Key IDï¼ˆAKï¼‰å’Œ Secret Access Keyï¼ˆSKï¼‰ã€‚</p>
<blockquote>
<p>é‡è¦æç¤ºï¼šAK/SK ä»£è¡¨ä½ çš„è´¦æˆ·æƒé™ï¼Œè¯·å¦¥å–„ä¿ç®¡ï¼Œé¿å…æ³„éœ²å¯¼è‡´å®‰å…¨é£é™©ã€‚</p>
</blockquote>
<p><strong>é…ç½®æœ¬åœ°å¼€å‘ç¯å¢ƒ</strong></p>
<p>å®‰è£…ä»¥ä¸‹å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºæ“ä½œç«å±±å¼•æ“ VKE åŠ Kubernetes é›†ç¾¤ã€‚</p>
<ul>
<li><strong>å®‰è£… kubectl</strong>:Â <code>kubectl</code>Â æ˜¯ä¸ Kubernetes é›†ç¾¤äº¤äº’çš„æ ‡å‡†å‘½ä»¤è¡Œå·¥å…·ã€‚è¯·å‚è€ƒ Kubernetes å®˜æ–¹æ–‡æ¡£è¿›è¡Œå®‰è£…ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fkubernetes.io%2Fdocs%2Ftasks%2Ftools%2Finstall-kubectl-linux%2F%25E3%2580%2582" target="_blank" title="https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/%E3%80%82" ref="nofollow noopener noreferrer">kubernetes.io/docs/tasks/â€¦</a></li>
<li><strong>å®‰è£…å¹¶é…ç½®ç«å±±å¼•æ“ CLI</strong>: ç«å±±å¼•æ“ CLI å·¥å…·å¯ä»¥å¸®åŠ©ä½ é€šè¿‡å‘½ä»¤è¡Œç®¡ç†äº‘èµ„æºã€‚</li>
</ul>
<ol>
<li><strong>å®‰è£… CLI</strong>: è¯·å‚è€ƒç«å±±å¼•æ“ CLI å®˜æ–¹æ–‡æ¡£è¿›è¡Œå®‰è£…ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.volcengine.com%2Fdocs%2F83927%2F1184023%3Flang%3Dzh%25E3%2580%2582" target="_blank" title="https://www.volcengine.com/docs/83927/1184023?lang=zh%E3%80%82" ref="nofollow noopener noreferrer">www.volcengine.com/docs/83927/â€¦</a>**<br/>
**</li>
<li><strong>é…ç½® CLI</strong>: å®‰è£…å®Œæˆåï¼Œè¿è¡Œé…ç½®å‘½ä»¤ï¼Œå¹¶è¾“å…¥ä½ ä¹‹å‰åˆ›å»ºçš„ AK/SK å’Œé»˜è®¤åœ°åŸŸï¼ˆä¾‹å¦‚Â <code>cn-beijing</code>ï¼‰ã€‚</li>
</ol>

<pre><code class="hljs">volc configure
</code></pre>
<p>æ ¹æ®æç¤ºä¾æ¬¡è¾“å…¥ AKã€SKã€Region å’Œ Output æ ¼å¼ã€‚</p>
<pre><code class="hljs language-markdown" lang="markdown">Access Key ID [<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span>YQ==]: YOUR<span class="hljs-emphasis">_ACCESS_</span>KEY
Secret Access Key [<span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span><span class="hljs-strong">****</span>NQ==]: YOUR<span class="hljs-emphasis">_SECRET_</span>KEY
Region [cn-beijing]: cn-beijing
Output [json]: json
</code></pre>
<p><strong>å¼€é€šæ‰€éœ€äº‘æœåŠ¡</strong></p>
<p>è¯·ç¡®ä¿åœ¨ç«å±±å¼•æ“æ§åˆ¶å°å·²æ¿€æ´»ä»¥ä¸‹æœåŠ¡ï¼š</p>
<ul>
<li>å®¹å™¨æœåŠ¡ï¼ˆVKEï¼‰ï¼šç”¨äºéƒ¨ç½²ä¸ç®¡ç† AI ä»£ç†åº”ç”¨ã€‚</li>
<li>å®¹å™¨é•œåƒæœåŠ¡ï¼ˆCRï¼‰ï¼šç”¨äºå­˜å‚¨åº”ç”¨å®¹å™¨é•œåƒã€‚</li>
<li>API ç½‘å…³ï¼ˆAPIGï¼‰ï¼šç”¨äºå°†æœåŠ¡å…¬å¼€è‡³å…¬ç½‘ã€‚</li>
<li>æ—¥å¿—æœåŠ¡ï¼ˆTLSï¼‰ï¼šç”¨äºæ”¶é›†ä¸åˆ†æåº”ç”¨æ—¥å¿—ã€‚</li>
</ul>
<p><strong>å®‰è£…é¡¹ç›®ä¾èµ–</strong></p>
<p>å®‰è£… uv åŒ…ç®¡ç†å™¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># macOS / Linuxï¼ˆå®˜æ–¹å®‰è£…è„šæœ¬ï¼‰</span>
curl -LsSf https://astral.sh/uv/install.sh | sh

<span class="hljs-comment"># æˆ–ä½¿ç”¨ Homebrewï¼ˆmacOSï¼‰</span>
brew install uv
</code></pre>
<p>åˆå§‹åŒ–é¡¹ç›®ä¾èµ–ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å¦‚æœæ²¡æœ‰ `uv` è™šæ‹Ÿç¯å¢ƒï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤å…ˆåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿç¯å¢ƒ</span>
uv venv --python 3.12

<span class="hljs-comment"># ä½¿ç”¨ `pyproject.toml` ç®¡ç†ä¾èµ–</span>
uv <span class="hljs-built_in">sync</span>

<span class="hljs-comment"># æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ</span>
<span class="hljs-built_in">source</span> .venv/bin/activate
</code></pre>
<p><strong>åŸºç¡€è®¾æ–½å‡†å¤‡ï¼šåˆ›å»º VKE é›†ç¾¤ä¸èŠ‚ç‚¹</strong></p>
<p>éƒ¨ç½²çš„ç¬¬ä¸€æ­¥æ˜¯æ­å»ºæ‰¿è½½ Agent åº”ç”¨çš„ Kubernetes ç¯å¢ƒã€‚</p>
<p><strong>åˆ›å»º VKE æ‰˜ç®¡ç‰ˆé›†ç¾¤</strong></p>
<p>é¦–å…ˆï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ª VKE æ‰˜ç®¡ç‰ˆé›†ç¾¤ä½œä¸º AI Agent éƒ¨ç½²çš„åŸºçŸ³ã€‚é€‰æ‹©â€œæ‰˜ç®¡ç‰ˆâ€å¯å°† Kubernetes æ§åˆ¶é¢çš„ç®¡ç†å·¥ä½œï¼ˆå¦‚æ‰©ç¼©å®¹ã€å‡çº§å’Œè¿ç»´ï¼‰äº¤ç”±ç«å±±å¼•æ“è´Ÿè´£ï¼Œä½¿å›¢é˜Ÿèƒ½æ›´ä¸“æ³¨äºä¸šåŠ¡åº”ç”¨ã€‚</p>
<ol>
<li>åˆ›å»ºé›†ç¾¤</li>
</ol>
<p>åœ¨ç»ˆç«¯ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªåä¸ºÂ <code>vke-veadk</code>Â çš„é›†ç¾¤</p>
<pre><code class="hljs language-vbnet" lang="vbnet">ve vke CreateCluster --body <span class="hljs-comment">'{</span>
Â  Â  <span class="hljs-string">"KubernetesVersion"</span>: <span class="hljs-string">"1.30"</span>,
Â  Â  <span class="hljs-string">"Name"</span>: <span class="hljs-string">"vke-veadk"</span>,
Â  Â  <span class="hljs-string">"DeleteProtectionEnabled"</span>: <span class="hljs-literal">true</span>,
Â  Â  <span class="hljs-string">"ProjectName"</span>: <span class="hljs-string">"default"</span>,
Â  Â  <span class="hljs-string">"ServicesConfig"</span>: {
Â  Â  Â  Â  <span class="hljs-string">"ServiceCidrsv4"</span>: [
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"192.168.120.0/22"</span>
Â  Â  Â  Â  ]
Â  Â  },
Â  Â  <span class="hljs-string">"ClusterConfig"</span>: {
Â  Â  Â  Â  <span class="hljs-string">"SubnetIds"</span>: [
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"&lt;subnet-1&gt;"</span>,
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"&lt;subnet-2&gt;"</span>,
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"&lt;subnet-3&gt;"</span>
Â  Â  Â  Â  ],
Â  Â  Â  Â  <span class="hljs-string">"ApiServerPublicAccessEnabled"</span>: <span class="hljs-literal">true</span>,
Â  Â  Â  Â  <span class="hljs-string">"ApiServerPublicAccessConfig"</span>: {
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"PublicAccessNetworkConfig"</span>: {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Bandwidth"</span>: <span class="hljs-number">10</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"BillingType"</span>: <span class="hljs-number">3</span>
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  },
Â  Â  Â  Â  <span class="hljs-string">"ResourcePublicAccessDefaultEnabled"</span>: <span class="hljs-literal">false</span>
Â  Â  },
Â  Â  <span class="hljs-string">"PodsConfig"</span>: {
Â  Â  Â  Â  <span class="hljs-string">"PodNetworkMode"</span>: <span class="hljs-string">"VpcCniShared"</span>,
Â  Â  Â  Â  <span class="hljs-string">"VpcCniConfig"</span>: {
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"SubnetIds"</span>: [
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"&lt;subnet-1&gt;"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"&lt;subnet-2&gt;"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"&lt;subnet-3&gt;"</span>
Â  Â  Â  Â  Â  Â  ]
Â  Â  Â  Â  }
Â  Â  },
Â  Â  <span class="hljs-string">"KubernetesConfig"</span>: {
Â  Â  Â  Â  <span class="hljs-string">"ControlPlaneConfig"</span>: {
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"KubeApiServerConfig"</span>: {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"AdmissionPlugins"</span>: {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"AlwaysPullImages"</span>: <span class="hljs-literal">true</span>
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  },
Â  Â  <span class="hljs-string">"MaintenanceWindowConfig"</span>: {
Â  Â  Â  Â  <span class="hljs-string">"Enabled"</span>: <span class="hljs-literal">true</span>,
Â  Â  Â  Â  <span class="hljs-string">"Duration"</span>: <span class="hljs-number">4</span>,
Â  Â  Â  Â  <span class="hljs-string">"WeeklyCycle"</span>: [
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Tuesday"</span>,
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Wednesday"</span>
Â  Â  Â  Â  ],
Â  Â  Â  Â  <span class="hljs-string">"StartTime"</span>: <span class="hljs-string">"17:00:00Z"</span>
Â  Â  },
Â  Â  <span class="hljs-string">"MonitoringConfig"</span>: {
Â  Â  Â  Â  <span class="hljs-string">"WorkspaceId"</span>: <span class="hljs-string">"&lt;bbf418e8-***&gt;"</span>,
Â  Â  Â  Â  <span class="hljs-string">"ComponentConfigs"</span>: [
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Name"</span>: <span class="hljs-string">"KubeApiServer"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Enabled"</span>: <span class="hljs-literal">true</span>
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Name"</span>: <span class="hljs-string">"KubeScheduler"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Enabled"</span>: <span class="hljs-literal">true</span>
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Name"</span>: <span class="hljs-string">"Etcd"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Enabled"</span>: <span class="hljs-literal">true</span>
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Name"</span>: <span class="hljs-string">"ClusterAutoscaler"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Enabled"</span>: <span class="hljs-literal">true</span>
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  ]
Â  Â  },
Â  Â  <span class="hljs-string">"LoggingConfig"</span>: {
Â  Â  Â  Â  <span class="hljs-string">"LogProjectId"</span>: <span class="hljs-string">"de71fc2e-***"</span>,
Â  Â  Â  Â  <span class="hljs-string">"LogSetups"</span>: [
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"LogType"</span>: <span class="hljs-string">"KubeApiServer"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Enabled"</span>: <span class="hljs-literal">true</span>
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"LogType"</span>: <span class="hljs-string">"KubeScheduler"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Enabled"</span>: <span class="hljs-literal">true</span>
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"LogType"</span>: <span class="hljs-string">"KubeControllerManager"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Enabled"</span>: <span class="hljs-literal">false</span>
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"LogType"</span>: <span class="hljs-string">"Etcd"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Enabled"</span>: <span class="hljs-literal">true</span>
Â  Â  Â  Â  Â  Â  },
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"LogType"</span>: <span class="hljs-string">"ClusterAutoscaler"</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Enabled"</span>: <span class="hljs-literal">false</span>
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  ]
Â  Â  }
}<span class="hljs-comment">'</span>
</code></pre>
<blockquote>
<p>è¯´æ˜ï¼šé›†ç¾¤åˆ›å»ºè¿‡ç¨‹å¤§çº¦éœ€è¦ 5-10 åˆ†é’Ÿã€‚è¯·è€å¿ƒç­‰å¾…ã€‚</p>
</blockquote>
<ol start="2">
<li>åˆ›å»ºèŠ‚ç‚¹æ± </li>
</ol>
<p>åœ¨é›†ç¾¤å†…åˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªèŠ‚ç‚¹æ± ï¼Œç”¨äºè¿è¡Œ Agent åº”ç”¨çš„å·¥ä½œè´Ÿè½½ã€‚å»ºè®®æ ¹æ®åº”ç”¨å¯¹è®¡ç®—ã€å†…å­˜æˆ– GPU çš„éœ€æ±‚ï¼Œé€‰æ‹©åˆé€‚çš„ ECS å®ä¾‹è§„æ ¼ã€‚</p>
<pre><code class="hljs language-vbnet" lang="vbnet">Plain <span class="hljs-keyword">Text</span>
ve vke CreateNodePool --bodyÂ <span class="hljs-comment">'{</span>
Â  Â  <span class="hljs-string">"ClusterId"</span>: <span class="hljs-string">"&lt;cd57q2***&gt;"</span>,
Â  Â  <span class="hljs-string">"Name"</span>: <span class="hljs-string">"agent-nodes"</span>,
Â  Â  <span class="hljs-string">"KubernetesConfig"</span>: {
Â  Â  Â  Â  <span class="hljs-string">"Labels"</span>: [],
Â  Â  Â  Â  <span class="hljs-string">"Cordon"</span>: <span class="hljs-literal">false</span>,
Â  Â  Â  Â  <span class="hljs-string">"AutoSyncDisabled"</span>: <span class="hljs-literal">false</span>
Â  Â  },
Â  Â  <span class="hljs-string">"NodeConfig"</span>: {
Â  Â  Â  Â  <span class="hljs-string">"InstanceTypeIds"</span>: [
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"ecs.g3il.xlarge"</span>,
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"ecs.g3il.2xlarge"</span>,
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"ecs.g3il.4xlarge"</span>
Â  Â  Â  Â  ],
Â  Â  Â  Â  <span class="hljs-string">"ImageType"</span>: <span class="hljs-string">""</span>,
Â  Â  Â  Â  <span class="hljs-string">"ImageId"</span>: <span class="hljs-string">"image-ybqi99s7yq8rx7mnk44b"</span>,
Â  Â  Â  Â  <span class="hljs-string">"SubnetIds"</span>: [
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"&lt;subnet-1&gt;"</span>,
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"&lt;subnet-2&gt;"</span>,
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"&lt;subnet-3&gt;"</span>
Â  Â  Â  Â  ],
Â  Â  Â  Â  <span class="hljs-string">"SystemVolume"</span>: {
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Size"</span>: <span class="hljs-number">40</span>,
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Type"</span>: <span class="hljs-string">"ESSD_PL0"</span>
Â  Â  Â  Â  },
Â  Â  Â  Â  <span class="hljs-string">"DataVolumes"</span>: [
Â  Â  Â  Â  Â  Â  {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Size"</span>: <span class="hljs-number">100</span>,
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Type"</span>: <span class="hljs-string">"ESSD_PL0"</span>
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  ],
Â  Â  Â  Â  <span class="hljs-string">"Security"</span>: {
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"SecurityStrategies"</span>: [
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Hids"</span>
Â  Â  Â  Â  Â  Â  ],
Â  Â  Â  Â  Â  Â  <span class="hljs-string">"Login"</span>: {
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-string">"SshKeyPairName"</span>: <span class="hljs-string">"&lt;key-***&gt;"</span>
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  },
Â  Â  Â  Â  <span class="hljs-string">"InstanceChargeType"</span>: <span class="hljs-string">"PostPaid"</span>,
Â  Â  Â  Â  <span class="hljs-string">"Period"</span>: <span class="hljs-number">1</span>,
Â  Â  Â  Â  <span class="hljs-string">"AutoRenew"</span>: <span class="hljs-literal">true</span>,
Â  Â  Â  Â  <span class="hljs-string">"AutoRenewPeriod"</span>: <span class="hljs-number">1</span>,
Â  Â  Â  Â  <span class="hljs-string">"AdditionalContainerStorageEnabled"</span>: <span class="hljs-literal">true</span>,
Â  Â  Â  Â  <span class="hljs-string">"HpcClusterIds"</span>: [],
Â  Â  Â  Â  <span class="hljs-string">"ProjectName"</span>: <span class="hljs-string">"default"</span>
Â  Â  },
Â  Â  <span class="hljs-string">"AutoScaling"</span>: {
Â  Â  Â  Â  <span class="hljs-string">"DesiredReplicas"</span>: <span class="hljs-number">3</span>,
Â  Â  Â  Â  <span class="hljs-string">"SubnetPolicy"</span>: <span class="hljs-string">"ZoneBalance"</span>
Â  Â  },
Â  Â  <span class="hljs-string">"Management"</span>: {
Â  Â  Â  Â  <span class="hljs-string">"Enabled"</span>: <span class="hljs-literal">false</span>
Â  Â  }
}<span class="hljs-comment">'</span>
</code></pre>
<p>3.  ç”Ÿæˆ kubeconfig å¹¶è¿æ¥ VKE é›†ç¾¤</p>

<pre><code class="hljs language-vbnet" lang="vbnet">Plain <span class="hljs-keyword">Text</span>
ve vke CreateKubeconfig --bodyÂ <span class="hljs-comment">'{</span>
Â  Â  <span class="hljs-string">"ClusterId"</span>: <span class="hljs-string">"&lt;cd57q2***&gt;"</span>,
Â  Â  <span class="hljs-string">"Type"</span>: <span class="hljs-string">"Public"</span>
}<span class="hljs-comment">'</span>
</code></pre>
<p>4.  è¿æ¥ VKE é›†ç¾¤</p>
<p>é›†ç¾¤åˆ›å»ºæˆåŠŸåï¼Œéœ€è¦é…ç½® kubectl ä»¥ä¾¿èƒ½å¤Ÿè¿æ¥å¹¶ç®¡ç†å®ƒã€‚</p>
<p>æ­¥éª¤1 è·å– kubeconfigï¼š</p>
<pre><code class="hljs language-css" lang="css">ve vke ListKubeconfigsÂ <span class="hljs-attr">--body</span> '{
Â  Â  "<span class="hljs-attribute">Filter</span>": {
Â  Â  Â  Â  "ClusterIds": [<span class="hljs-string">"&lt;cd57qavvv9l***&gt;"</span>],
Â  Â  Â  Â  <span class="hljs-string">"Types"</span>: [<span class="hljs-string">"Public"</span>]
Â  Â  }
}' | jq -r '<span class="hljs-selector-class">.Result</span><span class="hljs-selector-class">.Items</span><span class="hljs-selector-attr">[0]</span><span class="hljs-selector-class">.Kubeconfig</span>'
</code></pre>
<p>æ­¥éª¤2 åœ¨ä½ çš„æœ¬åœ°ç»ˆç«¯ä¸­ï¼Œç²˜è´´å¹¶æ‰§è¡Œè¯¥å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç¤ºä¾‹å‘½ä»¤ï¼Œè¯·ä»¥ä½ æ§åˆ¶å°å®é™…ç”Ÿæˆçš„ä¸ºå‡†</span>
<span class="hljs-built_in">export</span>Â KUBECONFIG=~/.kube/config_vke_adk-vke-cluster_****
kubectl config use-context adk-vke-cluster
</code></pre>
<p>æ­¥éª¤3 æ‰§è¡Œå®Œæˆåï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯æ˜¯å¦å·²æˆåŠŸè¿æ¥åˆ°é›†ç¾¤ï¼š</p>
<pre><code class="hljs language-arduino" lang="arduino">kubectl get nodes
</code></pre>
<p>å¦‚æœèƒ½çœ‹åˆ°ä½ åˆ›å»ºçš„èŠ‚ç‚¹ä¿¡æ¯åˆ—è¡¨ï¼Œè¯´æ˜è¿æ¥å·²æˆåŠŸå»ºç«‹ã€‚ä»ç°åœ¨èµ·ï¼Œä½ çš„Â <code>kubectl</code>Â å‘½ä»¤éƒ½å°†æŒ‡å‘è¿™ä¸ªæ–°çš„ VKE é›†ç¾¤ã€‚</p>
<p>å¼€å¯å®‰å…¨å›´æ é…ç½®ï¼ˆIRSAï¼‰</p>
<p>ä¸ºäº†ä¿éšœäº‘æœåŠ¡è®¿é—®çš„å®‰å…¨æ€§ï¼Œæœ¬æ–¹æ¡ˆé‡‡ç”¨ IAM for Service Accounts ï¼ˆIRSAï¼‰ æœºåˆ¶ï¼Œé¿å…åœ¨åº”ç”¨ä»£ç æˆ–å®¹å™¨é•œåƒä¸­ç¡¬ç¼–ç æˆ–å­˜å‚¨é™æ€çš„è®¿é—®å¯†é’¥ï¼ˆAK/SKï¼‰ã€‚</p>
<p>IRSA çš„æ ¸å¿ƒæœºåˆ¶æ˜¯å°† Kubernetes çš„æœåŠ¡è´¦å·ï¼ˆServiceAccount, KSAï¼‰ä¸ç«å±±å¼•æ“çš„ IAM è§’è‰²è¿›è¡Œç»‘å®šã€‚å½“ä¸€ä¸ª Pod è¢«é…ç½®ä¸ºä½¿ç”¨æ­¤ KSA å¯åŠ¨æ—¶ï¼ŒVKE ä¼šè‡ªåŠ¨ä¸ºå…¶æ³¨å…¥ä¸´æ—¶çš„ã€å…·æœ‰ç‰¹å®šæƒé™çš„å®‰å…¨å‡­è¯ã€‚è¿™æ ·ï¼ŒPod å†…çš„åº”ç”¨ç¨‹åºï¼ˆå³ Agentï¼‰ä¾¿å¯é€šè¿‡æ ‡å‡† SDK ç›´æ¥è°ƒç”¨å…¶è¢«æˆæƒçš„äº‘æœåŠ¡ APIï¼Œæ— éœ€ä»»ä½•æ‰‹åŠ¨å¯†é’¥é…ç½®ã€‚</p>
<p>å¼€å¯ IRSA è¯·å‚è€ƒ VKE äº§å“æ–‡æ¡£ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.volcengine.com%2Fdocs%2F6460%2F1324613%3Flang%3Dzh%25E3%2580%2582" target="_blank" title="https://www.volcengine.com/docs/6460/1324613?lang=zh%E3%80%82" ref="nofollow noopener noreferrer">www.volcengine.com/docs/6460/1â€¦</a></p>
<ol start="5">
<li>åˆ›å»º IAM è§’è‰²</li>
</ol>
<p>åœ¨ IAM æ§åˆ¶å°ï¼Œæ–°å»º OIDC èº«ä»½æä¾›å•†ç±»å‹çš„ IAM è§’è‰²ï¼Œæ¯”å¦‚ï¼šagent_onvkeã€‚</p>
<ol start="6">
<li>ç»™è§’è‰²æˆäºˆæ‰€éœ€è¦çš„æƒé™</li>
</ol>
<p>è¿™é‡Œä»¥æ–¹èˆŸå¤§æ¨¡å‹æƒé™ä¸ºä¾‹ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d4ba57751ac041c9a511fa9e2d518a63~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5bGx5byV5pOO5byA5Y-R6ICF56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768330&amp;x-signature=xKfldtwl1%2BvN4JAGGPo4qwQsAC0%3D" alt="" loading="lazy"/></p>
<ol start="7">
<li>æˆæƒ VKE é›†ç¾¤å†…æŒ‡å®šå‘½åç©ºé—´ï¼ˆNameSpaceï¼‰ä¸‹çš„æœåŠ¡è´¦å·ï¼ˆService Accountï¼‰</li>
</ol>
<p>å¦‚ veadk-agent-saï¼Œå…è®¸æ‰®æ¼”ä¸Šè¿°åˆ›å»ºçš„ IAM è§’è‰²ã€‚ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span>
Â  Â Â <span class="hljs-attr">"Statement"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
Â  Â  Â  Â  <span class="hljs-punctuation">{</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-attr">"Effect"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"Allow"</span><span class="hljs-punctuation">,</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-attr">"Action"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"sts:AssumeRoleWithOIDC"</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-attr">"Condition"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-attr">"StringLike"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-attr">"oidc:aud"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"sts.volcengine.com"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-comment">// å›ºå®šå€¼ï¼ŒOIDC ä¸­çš„ Audience å€¼ã€‚</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-attr">"oidc:iss"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"https://oidc-vke-cn-beijing.tos-cn-beijing.volces.com/ccog93vv********"</span><span class="hljs-punctuation">,</span>Â <span class="hljs-comment">// é…ç½®ä¸ºæ‚¨çš„é›†ç¾¤å¼€å¯ IRSA èƒ½åŠ›åæ§åˆ¶å°ä¸­æ˜¾ç¤ºçš„â€œä¾›åº”å•† URLâ€ä¿¡æ¯ã€‚</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-attr">"oidc:sub"</span><span class="hljs-punctuation">:</span>Â <span class="hljs-string">"system:serviceaccount:oidc-ns-1:oidc-sa-1"</span><span class="hljs-comment">// éœ€è¦æ»¡è¶³æ ¼å¼ï¼šsystem:serviceaccount:{namespace}:{serviceaccount} ï¼Œå…¶ä¸­{namespace}å’Œ{serviceaccount}æ˜¯ Kubernetes é›†ç¾¤å†…ç›®æ ‡ NameSpace å’Œ Service Accountã€‚</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-punctuation">}</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
Â  Â  Â  Â  Â  Â Â <span class="hljs-attr">"Principal"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-attr">"Federated"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â <span class="hljs-string">"trn:iam::2100******:oidc-provider/vke-irsa-********"</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-punctuation">]</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-punctuation">}</span>
Â  Â  Â  Â  <span class="hljs-punctuation">}</span>
Â  Â  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre>
<p>8.  åœ¨ VKE é›†ç¾¤åˆ›å»º Service Account</p>
<p>VKE SA ä¸ IAM è§’è‰²å…³è”ï¼Œç¤ºä¾‹æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-meta">---</span>
<span class="hljs-string">apiVersion:v1</span>
<span class="hljs-string">kind:ServiceAccount</span>
<span class="hljs-attr">metadata:</span>
<span class="hljs-string">name:oidc-sa-1</span>
<span class="hljs-string">namespace:oidc-ns-1#</span> <span class="hljs-string">Service</span> <span class="hljs-string">Account</span> <span class="hljs-string">åç§°ã€‚ä¸â€œæ­¥éª¤ä¸‰â€ä¸­é…ç½®çš„</span> <span class="hljs-string">Service</span> <span class="hljs-string">Account</span> <span class="hljs-string">åç§°ä¿æŒä¸€è‡´ã€‚</span>
<span class="hljs-attr">annotations:</span>
Â  Â Â <span class="hljs-string">vke.volcengine.com/role-trn:trn:iam::2100******:role/podrole1234#</span> <span class="hljs-string">è¯¥</span> <span class="hljs-string">Service</span> <span class="hljs-string">Account</span> <span class="hljs-string">å…³è”çš„</span> <span class="hljs-string">IAM</span> <span class="hljs-string">è§’è‰²</span> <span class="hljs-string">TRNï¼ˆåœ¨è®¿é—®æ§åˆ¶çš„è§’è‰²è¯¦æƒ…é¡µé¢è·å–è§’è‰²</span> <span class="hljs-string">TRNï¼‰ã€‚å¦‚æœæœªé…ç½®è¯¥</span> <span class="hljs-string">Annotation</span> <span class="hljs-string">æˆ–é…ç½®çš„å€¼ä¸æ˜¯ä¸€ä¸ªåˆæ³•çš„</span> <span class="hljs-string">IAM</span> <span class="hljs-string">è§’è‰²</span> <span class="hljs-string">TRNï¼Œåˆ™ä½¿ç”¨è¯¥</span> <span class="hljs-string">Service</span> <span class="hljs-string">Account</span> <span class="hljs-string">çš„</span> <span class="hljs-string">Pod</span> <span class="hljs-string">å°†ä¸ä¼šè¢«è‡ªåŠ¨æ³¨å…¥é…ç½®ã€‚</span>
</code></pre>
<p>9.  ä¸º Pod æ³¨å…¥ IRSA é…ç½®</p>
<p>ç¤ºä¾‹å†…å®¹å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">apiVersion:Â v1</span>
<span class="hljs-section">kind:Pod</span>
<span class="hljs-section">metadata:</span>
<span class="hljs-section">name:pod-1# Pod åç§°ã€‚</span>
<span class="hljs-section">namespace:oidc-ns-1# ä¸ä¸Šæ–¹è®¾ç½®çš„ NameSpace åç§°ä¿æŒä¸€è‡´ã€‚</span>
<span class="hljs-section">spec:</span>
<span class="hljs-section">serviceAccountName:oidc-sa-1# ä¸ä¸Šæ–¹è®¾ç½®çš„ Service Account åç§°ä¿æŒä¸€è‡´ã€‚</span>
<span class="hljs-section">volumes:# ä¸º Pod è®¾ç½®æœåŠ¡è´¦å·ä»¤ç‰Œå·æŠ•å½±ã€‚æ›´å¤šä¿¡æ¯ï¼Œè¯·è§ Kubernetes æ–‡æ¡£ï¼šhttps://kubernetes.io/zh-cn/docs/tasks/configure-pod-container/configure-service-account/#serviceaccount-token-volume-projection ã€‚</span>
<span class="hljs-section">-name:irsa-oidc-token# å·åç§°ï¼Œä¸ä¸‹æ–¹ volumeMounts ä¸‹çš„æŒ‚è½½å·åç§°ä¿æŒä¸€è‡´ã€‚</span>
Â  Â Â projected:
Â  Â  Â Â defaultMode:420
Â  Â  Â Â sources:
Â  Â  Â  Â Â -serviceAccountToken:
Â  Â  Â  Â  Â  Â Â audience:sts.volcengine.com<span class="hljs-comment"># å›ºå®šå€¼ï¼Œè¡¨ç¤ºæŒ‡å®šçš„ Audience å€¼ã€‚</span>
Â  Â  Â  Â  Â  Â Â expirationSeconds:3600<span class="hljs-comment"># OIDC Token æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºï¼šç§’ã€‚</span>
Â  Â  Â  Â  Â  Â Â path:token
<span class="hljs-section">containers:</span>
Â  Â Â env:<span class="hljs-comment"># Pod ä¸­å®ç°è¯·æ±‚ AssumeRoleWithOIDC æ‰€éœ€çš„ç¯å¢ƒå˜é‡ã€‚</span>
Â  Â  Â Â -name:VOLCENGINE_OIDC_ROLE_TRN
Â  Â  Â  Â Â value:&lt;role_trn&gt;
Â  Â  Â Â -name:VOLCENGINE_OIDC_TOKEN_FILE
Â  Â  Â  Â Â value:/var/run/secrets/vke.volcengine.com/irsa-tokens/token<span class="hljs-comment"># OIDC Token æŒ‚è½½åœ°å€ï¼Œä¸ä¸‹æ–¹ volumeMounts ä¸‹çš„æŒ‚è½½åœ°å€ä¿æŒä¸€è‡´ã€‚</span>
Â  Â Â image:cr-cn-beijing.volces.com/******:latest<span class="hljs-comment"># å®¹å™¨é•œåƒåœ°å€å’Œ Tagï¼Œè¯·é…ç½®ä¸ºæ‚¨è‡ªå·±çš„é•œåƒåœ°å€ã€‚</span>
Â  Â Â imagePullPolicy:IfNotPresent
Â  Â Â name:c-test<span class="hljs-comment"># å®¹å™¨åç§°ã€‚</span>
Â  Â Â volumeMounts:
Â  Â  Â Â -name:irsa-oidc-token<span class="hljs-comment"># æŒ‚è½½å·åç§°ï¼Œä¸ä¸Šæ–¹ volumes ä¸‹çš„å·åç§°ä¿æŒä¸€è‡´ã€‚</span>
Â  Â  Â  Â Â readOnly:true
Â  Â  Â  Â Â mountPath:/var/run/secrets/vke.volcengine.com/irsa-tokens/token<span class="hljs-comment"># OIDC Token æŒ‚è½½åœ°å€ã€‚</span>
</code></pre>
<p>Agent å¼€å‘ä¸æœ¬åœ°éªŒè¯</p>
<p>æœ¬æ–¹æ¡ˆä»¥å®˜æ–¹æä¾›çš„Â <code>realtime_voice</code>Â ç¤ºä¾‹ä¸ºåŸºç¡€ï¼Œå±•ç¤ºä¸€ä¸ªå®æ—¶è¯­éŸ³æ—…è¡Œè§„åˆ’ Agent çš„å¼€å‘ä¸éƒ¨ç½²æµç¨‹ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fbytedance%2Fagentkit-samples%2Fblob%2Fmain%2F02-use-cases%2Fbeginner%2Frealtime_voice%2FREADME.md%25E3%2580%2582" target="_blank" title="https://github.com/bytedance/agentkit-samples/blob/main/02-use-cases/beginner/realtime_voice/README.md%E3%80%82" ref="nofollow noopener noreferrer">github.com/bytedance/aâ€¦</a></p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-attr">agent</span> = Agent(
Â  Â  <span class="hljs-attr">name</span>=<span class="hljs-string">"voice_assistant_agent"</span>,
Â  Â  <span class="hljs-attr">model</span>=MODEL,
Â  Â  <span class="hljs-attr">instruction</span>=SYSTEM_INSTRUCTION,

)
<span class="hljs-comment"># Create run config with audio settings</span>
<span class="hljs-attr">run_config</span> = RunConfig(
Â  Â  <span class="hljs-attr">streaming_mode</span>=StreamingMode.BIDI,
Â  Â  <span class="hljs-attr">speech_config</span>=types.SpeechConfig(
Â  Â  Â  Â  <span class="hljs-attr">voice_config</span>=types.VoiceConfig(
Â  Â  Â  Â  Â  Â  <span class="hljs-attr">prebuilt_voice_config</span>=types.PrebuiltVoiceConfig(
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">voice_name</span>=VOICE_NAME
Â  Â  Â  Â  Â  Â  )
Â  Â  Â  Â  )
Â  Â  ),
Â  Â  <span class="hljs-attr">response_modalities</span>=[<span class="hljs-string">"AUDIO"</span>],
Â  Â  <span class="hljs-attr">output_audio_transcription</span>=types.AudioTranscriptionConfig(),
Â  Â  <span class="hljs-attr">input_audio_transcription</span>=types.AudioTranscriptionConfig(),
)
</code></pre>
<p>åœ¨éƒ¨ç½²åˆ° VKE ä¹‹å‰ï¼Œå¼€å‘è€…å¯åœ¨æœ¬åœ°ç¯å¢ƒä¸­å¿«é€Ÿå¯åŠ¨ Agent æœåŠ¡ï¼Œå¹¶é€šè¿‡æµè§ˆå™¨å®¢æˆ·ç«¯è¿›è¡ŒåŠŸèƒ½éªŒè¯ï¼Œç¡®ä¿æ ¸å¿ƒé€»è¾‘æ— è¯¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cd</span> realtime_voice
<span class="hljs-comment"># å¯åŠ¨ Agent æœåŠ¡</span>
uv run agent.py
<span class="hljs-comment"># æœåŠ¡å°†ç›‘å¬ http://0.0.0.0:8000</span>

<span class="hljs-comment"># æ–°å¼€å®¢æˆ·ç«¯</span>
<span class="hljs-comment"># åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ client/interface.htmlï¼Œå®¢æˆ·ç«¯å°†è‡ªåŠ¨è¿æ¥åˆ° WebSocket æœåŠ¡å™¨ã€‚</span>
</code></pre>
<p>åº”ç”¨å®¹å™¨åŒ–ä¸é•œåƒæ¨é€</p>
<ol start="10">
<li>ä½¿ç”¨ Docker å°†åº”ç”¨å®¹å™¨åŒ–</li>
</ol>
<p>ä¸ºäº†åœ¨ Kubernetes ä¸­è¿è¡Œï¼ŒAgent åº”ç”¨éœ€è¢«æ‰“åŒ…æˆä¸€ä¸ªæ ‡å‡†çš„å®¹å™¨é•œåƒã€‚</p>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºÂ <code>Dockerfile</code>Â æ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-built_in">cat</span> &lt;&lt;<span class="hljs-string">'EOF'</span>Â &gt; Dockerfile
<span class="hljs-comment"># Support custom base image</span>
FROM agentkit-cn-beijing.cr.volces.com/base/py-simple:python3.12-bookworm-slim-latest

ENV UV_SYSTEM_PYTHON=1 UV_COMPILE_BYTECODE=1 PYTHONUNBUFFERED=1 DOCKER_CONTAINER=1

COPY requirements.txt requirements.txt

RUN uv pip install -r requirements.txt

EXPOSE 8000

WORKDIR /app

<span class="hljs-comment"># Copy entire project</span>
COPY . .

CMD [<span class="hljs-string">"python"</span>,Â <span class="hljs-string">"-m"</span>,Â <span class="hljs-string">"agent"</span>]
EOF
</code></pre>
<p>11. æ„å»ºé•œåƒå¹¶æ¨é€è‡³ç«å±±å¼•æ“ CR</p>
<p>æ‹¥æœ‰Â <code>Dockerfile</code>Â ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥æ„å»ºé•œåƒå¹¶å°†å…¶æ¨é€åˆ°ç«å±±å¼•æ“å®¹å™¨é•œåƒæœåŠ¡ ï¼ˆCRï¼‰ äº†ã€‚</p>
<p>11.1Â å‡†å¤‡ CR å®ä¾‹å’Œå‘½åç©ºé—´</p>
<pre><code class="hljs language-arduino" lang="arduino">ve cr --body <span class="hljs-string">'{}'</span>
</code></pre>
<p>11.2 ç™»å½•å¹¶æ¨é€é•œåƒ</p>
<p>ç°åœ¨ï¼Œå›åˆ°ä½ çš„æœ¬åœ°ç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ã€‚</p>
<ul>
<li>ç™»å½•åˆ° CR å®ä¾‹ï¼šä½¿ç”¨Â <code>docker login</code>Â å‘½ä»¤ã€‚ä½ éœ€è¦æä¾›ç”¨æˆ·åã€å®ä¾‹è®¿é—®åŸŸå’Œä¹‹å‰è®¾ç½®çš„å¯†ç ã€‚</li>
</ul>

<ul>
<li>ç”¨æˆ·åï¼šæ ¼å¼ä¸ºÂ <code>&lt;ç«å±±å¼•æ“è´¦å·å&gt;@&lt;UserID&gt;</code>ã€‚</li>
<li>è®¿é—®åŸŸï¼šæ ¼å¼ä¸ºÂ <code>&lt;å®ä¾‹å&gt;-&lt;åœ°åŸŸ&gt;.cr.volces.com</code>ã€‚</li>
</ul>

<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># è¯·æ›¿æ¢ä¸ºä½ çš„å®é™…ä¿¡æ¯</span>
docker login <span class="hljs-attr">--username</span>=&lt;ä½ çš„ç«å±±å¼•æ“ç”¨æˆ·å@UserID&gt; &lt;ä½ çš„å®ä¾‹è®¿é—®åŸŸ&gt;
</code></pre>
<p>å½“æç¤ºè¾“å…¥å¯†ç æ—¶ï¼Œè¾“å…¥ä½ åœ¨ CR æ§åˆ¶å°è®¾ç½®çš„å®ä¾‹è®¿é—®å‡­è¯ã€‚çœ‹åˆ°Â <code>Login Succeeded</code>Â è¡¨ç¤ºç™»å½•æˆåŠŸã€‚</p>
<ul>
<li><strong>ä¸ºé•œåƒæ‰“æ ‡ç­¾ï¼ˆTagï¼‰</strong> :Â <code>docker build</code>Â å‘½ä»¤ä¼šå…ˆåœ¨æœ¬åœ°æ„å»ºé•œåƒï¼Œ<code>-t</code>Â å‚æ•°åˆ™ä¸ºå®ƒæ‰“ä¸Šä¸€ä¸ªç¬¦åˆ CR ä»“åº“åœ°å€æ ¼å¼çš„æ ‡ç­¾ã€‚ å®Œæ•´çš„é•œåƒåœ°å€æ ¼å¼ä¸ºï¼š<code>&lt;è®¿é—®åŸŸ&gt;/&lt;å‘½åç©ºé—´&gt;/&lt;é•œåƒå&gt;:&lt;ç‰ˆæœ¬å·&gt;</code></li>
</ul>

<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è¯·æ›¿æ¢ä¸ºä½ çš„å®é™…ä¿¡æ¯</span>
docker build --platform linux/amd64 -t realtime_voice:202512241645 .
docker tag realtime_voice:202512241645 wangyue-cn-beijing.cr.volces.com/agentkit/realtime_voice:202512241645
</code></pre>
<ul>
<li><strong>æ¨é€é•œåƒ</strong>ï¼šæ„å»ºæˆåŠŸåï¼Œä½¿ç”¨Â <code>docker push</code>Â å‘½ä»¤å°†æœ¬åœ°é•œåƒæ¨é€åˆ°è¿œç«¯çš„ CR ä»“åº“ã€‚</li>
</ul>

<pre><code class="hljs language-bash" lang="bash">docker push wangyue-cn-beijing.cr.volces.com/agentkit/realtime_voice:202512241645
</code></pre>
<p>12. ç¼–å†™ Kubernetes Deployment å’Œ Service</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸ºÂ <code>deployment.yaml</code>Â çš„æ–‡ä»¶ï¼Œå®ƒåŒ…å«ä¸¤ä¸ªæ ¸å¿ƒçš„ Kubernetes å¯¹è±¡ï¼š</p>
<ul>
<li><strong>Deployment</strong>: å®šä¹‰äº†æˆ‘ä»¬å¸Œæœ›åº”ç”¨å¦‚ä½•è¿è¡Œçš„è“å›¾ã€‚å®ƒç®¡ç†ç€ Pod çš„å‰¯æœ¬æ•°é‡ã€å®¹å™¨é•œåƒã€èµ„æºè¯·æ±‚/é™åˆ¶ã€ç¯å¢ƒå˜é‡ç­‰ã€‚</li>
<li><strong>Service</strong>: å®šä¹‰äº†å¦‚ä½•å°†æˆ‘ä»¬çš„åº”ç”¨ï¼ˆä¸€ç»„ Podï¼‰ä½œä¸ºä¸€ä¸ªç¨³å®šçš„ç½‘ç»œæœåŠ¡æš´éœ²å‡ºæ¥ï¼Œæ— è®ºæ˜¯åœ¨é›†ç¾¤å†…éƒ¨è¿˜æ˜¯å¤–éƒ¨ã€‚</li>
</ul>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œåˆ›å»ºÂ <code>deployment.yaml</code>Â æ–‡ä»¶ï¼Œå¹¶å¡«å…¥ä»¥ä¸‹å†…å®¹ã€‚</p>
<p>é‡è¦ï¼šè¯·åŠ¡å¿…å°†Â <code>image</code>Â å­—æ®µä¸­çš„é•œåƒåœ°å€æ›¿æ¢ä¸ºä½ è‡ªå·±åˆšåˆšæ¨é€åˆ° CR çš„é•œåƒåœ°å€ï¼</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">apiVersion:Â apps/v1</span>
<span class="hljs-section">kind:Deployment</span>
<span class="hljs-section">metadata:</span>
<span class="hljs-section">name:veadk-agent</span>
<span class="hljs-section">spec:</span>
<span class="hljs-section">replicas:1</span>
<span class="hljs-section">selector:</span>
Â  Â Â matchLabels:
Â  Â  Â Â app:veadk-agent
<span class="hljs-section">template:</span>
Â  Â Â metadata:
Â  Â  Â Â labels:
Â  Â  Â  Â Â app:veadk-agent
Â  Â Â spec:
Â  Â  Â Â <span class="hljs-comment"># Assign the Kubernetes Service Account for Workload Identity</span>
Â  Â  Â Â serviceAccountName:veadk-agent-sa
Â  Â  Â Â volumes:<span class="hljs-comment"># ä¸º Pod è®¾ç½®æœåŠ¡è´¦å·ä»¤ç‰Œå·æŠ•å½±ã€‚æ›´å¤šä¿¡æ¯ï¼Œè¯·è§ Kubernetes æ–‡æ¡£ï¼šhttps://kubernetes.io/zh-cn/docs/tasks/configure-pod-container/configure-service-account/#serviceaccount-token-volume-projection ã€‚</span>
Â  Â  Â  Â Â -name:irsa-oidc-token<span class="hljs-comment"># å·åç§°ï¼Œä¸ä¸‹æ–¹ volumeMounts ä¸‹çš„æŒ‚è½½å·åç§°ä¿æŒä¸€è‡´ã€‚</span>
Â  Â  Â  Â  Â Â projected:
Â  Â  Â  Â  Â  Â Â defaultMode:420
Â  Â  Â  Â  Â  Â Â sources:
Â  Â  Â  Â  Â  Â  Â Â -serviceAccountToken:
Â  Â  Â  Â  Â  Â  Â  Â  Â Â audience:sts.volcengine.com<span class="hljs-comment"># å›ºå®šå€¼ï¼Œè¡¨ç¤ºæŒ‡å®šçš„ Audience å€¼ã€‚</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â Â expirationSeconds:3600<span class="hljs-comment"># OIDC Token æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºï¼šç§’ã€‚</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â Â path:token
Â  Â  Â Â containers:
Â  Â  Â Â -name:veadk-agent
Â  Â  Â  Â Â imagePullPolicy:Always
Â  Â  Â  Â Â <span class="hljs-comment"># The path to the container image in Artifact Registry</span>
Â  Â  Â  Â Â <span class="hljs-comment"># image: ${REGISTRY}-${REGION}.cr.volces.com/${REGISTRY_NS}/${REGISTRY_REPO}:latest</span>
Â  Â  Â  Â Â <span class="hljs-comment"># wangyue-cn-beijing.cr.volces.com/agentkit/realtime_voice:202512231745</span>
Â  Â  Â  Â Â image:&lt;registry&gt;-beijing.cr.volces.com/agentkit/realtime_voice:202512252045
Â  Â  Â  Â Â <span class="hljs-comment"># Define the resources for GKE Autopilot to provision</span>
Â  Â  Â  Â Â resources:
Â  Â  Â  Â  Â Â limits:
Â  Â  Â  Â  Â  Â Â memory:<span class="hljs-string">"1Gi"</span>
Â  Â  Â  Â  Â  Â Â cpu:<span class="hljs-string">"1000m"</span>
Â  Â  Â  Â  Â  Â Â ephemeral-storage:<span class="hljs-string">"512Mi"</span>
Â  Â  Â  Â  Â Â requests:
Â  Â  Â  Â  Â  Â Â memory:<span class="hljs-string">"1Gi"</span>
Â  Â  Â  Â  Â  Â Â cpu:<span class="hljs-string">"1000m"</span>
Â  Â  Â  Â  Â  Â Â ephemeral-storage:<span class="hljs-string">"512Mi"</span>
Â  Â  Â  Â Â ports:
Â  Â  Â  Â Â -containerPort:8000
Â  Â  Â  Â Â volumeMounts:
Â  Â  Â  Â  Â Â -name:irsa-oidc-token<span class="hljs-comment"># æŒ‚è½½å·åç§°ï¼Œä¸ä¸Šæ–¹ volumes ä¸‹çš„å·åç§°ä¿æŒä¸€è‡´ã€‚</span>
Â  Â  Â  Â  Â  Â Â readOnly:true
Â  Â  Â  Â  Â  Â Â mountPath:/var/run/secrets/vke.volcengine.com/irsa-tokens/token<span class="hljs-comment"># OIDC Token æŒ‚è½½åœ°å€ã€‚</span>
Â  Â  Â  Â Â <span class="hljs-comment"># Environment variables passed to the application</span>
Â  Â  Â  Â Â env:
Â  Â  Â  Â Â -name:PORT
Â  Â  Â  Â  Â Â value:<span class="hljs-string">"8000"</span>
Â  Â  Â  Â Â -name:DEPLOY_VKE
Â  Â  Â  Â  Â Â value:<span class="hljs-string">"true"</span>
Â  Â  Â  Â Â -name:MODEL
Â  Â  Â  Â  Â Â value:doubao_realtime_voice_model
Â  Â  Â  Â Â -name:MODEL_REALTIME_API_KEY
Â  Â  Â  Â  Â Â value:${MODEL_REALTIME_API_KEY}
Â  Â  Â  Â Â -name:MODEL_REALTIME_APP_ID
Â  Â  Â  Â  Â Â value:${MODEL_REALTIME_APP_ID}
Â  Â  Â  Â Â -name:VOLCENGINE_OIDC_ROLE_TRN
Â  Â  Â  Â  Â Â value:trn:iam::2100390175:role/agent_onvke
Â  Â  Â  Â Â -name:VOLCENGINE_OIDC_TOKEN_FILE
Â  Â  Â  Â  Â Â value:/var/run/secrets/vke.volcengine.com/irsa-tokens/token<span class="hljs-comment"># OIDC Token æŒ‚è½½åœ°å€ï¼Œä¸ä¸‹æ–¹ volumeMounts ä¸‹çš„æŒ‚è½½åœ°å€ä¿æŒä¸€è‡´ã€‚</span>
---
<span class="hljs-section">apiVersion:v1</span>
<span class="hljs-section">kind:Service</span>
<span class="hljs-section">metadata:</span>
<span class="hljs-section">name:veadk-agent</span>
<span class="hljs-section">spec:</span>
<span class="hljs-section">selector:</span>
Â  Â Â app:veadk-agent
<span class="hljs-section">ports:</span>
<span class="hljs-section">-name:rule</span>
Â  Â Â protocol:TCP
Â  Â Â port:80
Â  Â Â targetPort:8000
<span class="hljs-section">type:ClusterIP</span>
</code></pre>
<p>å°†åº”ç”¨éƒ¨ç½²è‡³ VKE</p>
<p>æ‰€æœ‰é…ç½®æ–‡ä»¶éƒ½å·²å°±ç»ªï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å°† AI ä»£ç†åº”ç”¨æ­£å¼éƒ¨ç½²åˆ° VKE é›†ç¾¤ä¸­ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ kubectl å°†é…ç½®åº”ç”¨åˆ°é›†ç¾¤ï¼Œå¹¶ç›‘æ§éƒ¨ç½²çŠ¶æ€ï¼Œç¡®ä¿ä»£ç†ç¨‹åºèƒ½å¤Ÿé¡ºåˆ©å¯åŠ¨ã€‚</p>
<ol start="13">
<li>åº”ç”¨éƒ¨ç½²é…ç½®</li>
</ol>
<p>åœ¨ä½ çš„æœ¬åœ°ç»ˆç«¯ï¼Œä¹Ÿå°±æ˜¯é¡¹ç›®æ ¹ç›®å½•ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<pre><code class="hljs">kubectl apply -f deployment.yaml
</code></pre>
<p>è¿™ä¸ªÂ <code>kubectl apply</code>Â å‘½ä»¤ä¼šå°†Â <code>deployment.yaml</code>Â æ–‡ä»¶çš„å†…å®¹å‘é€ç»™ Kubernetes API Serverã€‚API Server è¯»å–æ–‡ä»¶åï¼Œä¼šå¼€å§‹åè°ƒåˆ›å»ºå…¶ä¸­å®šä¹‰çš„ Deployment å’Œ Service èµ„æºã€‚</p>
<ol start="14">
<li>ç›‘æ§ Pod å¯åŠ¨çŠ¶æ€</li>
</ol>
<p>éƒ¨ç½²æŒ‡ä»¤å‘å‡ºåï¼Œæˆ‘ä»¬å¯ä»¥å®æ—¶è§‚å¯Ÿ Pod çš„å¯åŠ¨è¿‡ç¨‹ï¼Œä»¥ç¡®è®¤ä¸€åˆ‡æ­£å¸¸ã€‚</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment"># ä½¿ç”¨ --watch å‚æ•°æ¥æŒç»­ç›‘æ§å¸¦æœ‰ app=adk-agent æ ‡ç­¾çš„ Pod</span>
kubectl get pods <span class="hljs-attr">-l</span>=app=veadk-agent --watch
</code></pre>
<p>ä½ å°†ä¼šçœ‹åˆ° Pod ç»å†å‡ ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>Pending:Â é›†ç¾¤å·²ç»æ¥æ”¶ Pod çš„åˆ›å»ºè¯·æ±‚ï¼Œä½†å°šæœªå¼€å§‹åˆ›å»ºå®¹å™¨ï¼Œå¯èƒ½æ­£åœ¨ç­‰å¾…èŠ‚ç‚¹èµ„æºæˆ–è°ƒåº¦ã€‚</li>
<li>ContainerCreating:Â VKE èŠ‚ç‚¹æ­£åœ¨ä»ä½ çš„ç«å±±å¼•æ“ CR ä»“åº“æ‹‰å–å®¹å™¨é•œåƒï¼Œå¹¶å‡†å¤‡å¯åŠ¨å®¹å™¨ã€‚</li>
<li>Running:Â æˆåŠŸï¼å®¹å™¨å·²ç»å¯åŠ¨ï¼Œå¹¶ä¸”é€šè¿‡äº†å¥åº·æ£€æŸ¥ï¼Œä½ çš„ AI ä»£ç†åº”ç”¨ç°åœ¨æ­£åœ¨è¿è¡Œä¸­ã€‚</li>
</ul>
<p>å½“çœ‹åˆ° Pod çŠ¶æ€å˜ä¸ºÂ <code>Running</code>Â åï¼Œä½ å¯ä»¥æŒ‰ä¸‹Â <code>Ctrl+C</code>Â æ¥åœæ­¢ç›‘æ§ï¼Œè¿”å›åˆ°å‘½ä»¤è¡Œæç¤ºç¬¦ã€‚</p>
<p>é…ç½®å¼¹æ€§ä¼¸ç¼©</p>
<p>HPA (Horizontal Pod Autoscaler)ï¼šä¸ºÂ <strong>veADK Agent Deployment</strong>Â é…ç½® HPAï¼ŒåŸºäº CPU å’Œå†…å­˜ä½¿ç”¨ç‡è‡ªåŠ¨å¢å‡ Pod æ•°é‡ã€‚å¦‚ä¸‹ HPA ç­–ç•¥ï¼Œé€šè¿‡æ°´å¹³æ‰©å®¹ Podï¼Œç¡®ä¿ CPU æ•´ç†åˆ©ç”¨ç‡ç»´æŒåœ¨ 50% ä»¥å†…ã€‚</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-comment"># Configures the HorizontalPodAutoscaler (HPA) to automatically scale</span>
<span class="hljs-comment"># the number of running agent pods up or down based on CPU utilization</span>
<span class="hljs-comment"># to handle varying traffic loads.</span>

<span class="hljs-section">apiVersion:autoscaling/v1</span>
<span class="hljs-section">kind:HorizontalPodAutoscaler</span>
<span class="hljs-section">metadata:</span>
<span class="hljs-section">name:veadk-agent-hpa</span>
<span class="hljs-section">spec:</span>
<span class="hljs-section">scaleTargetRef:</span>
Â  Â Â apiVersion:apps/v1
Â  Â Â kind:Deployment
Â  Â Â name:veadk-agent
<span class="hljs-section">minReplicas:1</span>
<span class="hljs-section">maxReplicas:5</span>
<span class="hljs-section">targetCPUUtilizationPercentage:50</span>
</code></pre>
<p>éªŒè¯ HPA ç­–ç•¥å·²ç”Ÿæ•ˆ</p>
<pre><code class="hljs language-arduino" lang="arduino">kubectl get hpa
NAME Â  Â  Â  Â  Â  Â  Â REFERENCE Â  Â  Â  Â  Â  Â  Â  Â TARGETS Â  MINPODS Â  MAXPODS Â  REPLICAS Â  AGE
veadk-agent-hpa Â  Deployment/veadk-agent Â  <span class="hljs-number">0</span>%/<span class="hljs-number">50</span>% Â  Â <span class="hljs-number">1</span> Â  Â  Â  Â  <span class="hljs-number">5</span> Â  Â  Â  Â  <span class="hljs-number">1</span> Â  Â  Â  Â  Â <span class="hljs-number">35</span>s
</code></pre>
<p>é€šè¿‡ API ç½‘å…³æš´éœ²æœåŠ¡å¹¶è¿›è¡Œäº¤äº’</p>
<p>æˆ‘ä»¬çš„ä»£ç†åº”ç”¨å·²ç»åœ¨é›†ç¾¤å†…éƒ¨æˆåŠŸè¿è¡Œï¼Œä½†è¦ä»å¤–éƒ¨äº’è”ç½‘è®¿é—®å®ƒï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€æ­¥â€”â€”åˆ›å»ºä¸€ä¸ª API ç½‘å…³é…ç½®Â IngressÂ è§„åˆ™ã€‚APIG Ingress åŸºäºç«å±±å¼•æ“Â API ç½‘å…³ï¼ˆAPI Gatewayï¼ŒAPIGï¼‰Â æä¾›æ‰˜ç®¡çš„äº‘åŸç”Ÿç½‘å…³åŠŸèƒ½ï¼Œå®ç°é«˜å¯ç”¨ã€é«˜æ‰©å±•çš„ Ingress æµé‡ç®¡ç†æ–¹å¼ã€‚è¯¦ç»†æ­¥éª¤å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚</p>
<ol start="15">
<li>åˆ›å»º APIGInstance</li>
</ol>
<p>å¯¹æ¥å·²æœ‰ APIG å®ä¾‹ï¼Œä½¿ç”¨å¦‚ä¸‹ YAML é…ç½®ï¼Œåˆ›å»º APIGInstance å¹¶å¯¹æ¥å·²æœ‰ APIG å®ä¾‹ã€‚</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">YAML</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">loadbalancer.vke.volcengine.com/v1beta1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">APIGInstance</span>
<span class="hljs-attr">metadata:</span>
Â  <span class="hljs-attr">name:</span> <span class="hljs-string">apig-instance-demo</span>Â <span class="hljs-comment"># APIGInstance èµ„æºåç§°</span>
<span class="hljs-attr">spec:</span>
Â  <span class="hljs-attr">id:</span> <span class="hljs-string">gcq12c2tfm0mpjrej4***</span>Â <span class="hljs-comment"># å·²æœ‰ APIG å®ä¾‹ ID</span>
Â  <span class="hljs-attr">ingress:</span>
Â  Â Â <span class="hljs-string">enable:</span>Â <span class="hljs-literal">true</span><span class="hljs-comment"># æ˜¯å¦å¼€å¯ APIG è·¯ç”±åŒæ­¥ã€‚å–å€¼ï¼štrueï¼ˆå¼€å¯ï¼‰ã€falseï¼ˆå…³é—­ï¼‰</span>
Â  Â  <span class="hljs-string">enableAllIngressClasses:</span>Â <span class="hljs-literal">false</span><span class="hljs-comment"># æ˜¯å¦åŒæ­¥æ‰€æœ‰çš„ IngressClassesï¼Œå–å€¼ï¼štrueï¼ˆå¼€å¯ï¼‰ã€falseï¼ˆå…³é—­)</span>
Â  Â  <span class="hljs-string">enableIngressWithoutIngressClass:</span>Â <span class="hljs-literal">false</span><span class="hljs-comment"># æ˜¯å¦åŒæ­¥æœªå…³è” IngressClass çš„ Ingressã€‚å–å€¼ï¼štrueï¼ˆå¼€å¯ï¼‰ã€falseï¼ˆå…³é—­ï¼‰</span>
Â  Â  <span class="hljs-string">ingressClasses:</span>Â <span class="hljs-comment"># é…ç½®è·¯ç”±åŒæ­¥ç”Ÿæ•ˆçš„ IngressClasses</span>
Â  Â  Â  <span class="hljs-bullet">-</span> <span class="hljs-string">apig</span>
Â  Â  <span class="hljs-string">enableAllNamespaces:</span>Â <span class="hljs-literal">false</span><span class="hljs-comment"># æ˜¯å¦åŒæ­¥æ‰€æœ‰çš„å‘½åç©ºé—´ä¸­çš„ Ingressï¼Œå–å€¼ï¼štrueï¼ˆå¼€å¯ï¼‰ã€falseï¼ˆå…³é—­ï¼‰</span>
Â  Â  <span class="hljs-string">watchNamespaces:</span>Â <span class="hljs-comment"># é…ç½®è·¯ç”±åŒæ­¥ç”Ÿæ•ˆçš„å‘½åç©ºé—´</span>
Â  Â  Â  <span class="hljs-bullet">-</span> <span class="hljs-string">doc-demo</span>
Â  Â  Â  <span class="hljs-bullet">-</span> <span class="hljs-string">default</span>
</code></pre>
<p>16. åˆ›å»º APIG Ingress è§„åˆ™</p>
<p>åŸºäºè·¯å¾„è½¬å‘ï¼ŒAPIG Ingress æ”¯æŒå°†ç›¸åŒåŸŸåã€ä¸åŒè·¯å¾„çš„è®¿é—®ï¼Œè½¬å‘åˆ°ä¸åŒçš„åç«¯ã€‚ç¤ºä¾‹ apig-ingress.yaml ä»£ç å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-string">YAML</span>
<span class="hljs-attr">apiVersion:</span> <span class="hljs-string">networking.k8s.io/v1</span>
<span class="hljs-attr">kind:</span> <span class="hljs-string">Ingress</span>
<span class="hljs-attr">metadata:</span>
Â  <span class="hljs-attr">name:</span> <span class="hljs-string">veadk-voice-agent</span>Â <span class="hljs-comment"># è·¯ç”±è§„åˆ™çš„åç§°</span>
Â  <span class="hljs-attr">namespace:</span> <span class="hljs-string">default</span> Â <span class="hljs-comment"># è·¯ç”±è§„åˆ™æ‰€å±çš„å‘½åç©ºé—´</span>
Â  <span class="hljs-attr">annotations:</span>
Â  Â  <span class="hljs-attr">ingress.vke.volcengine.com/apig-instance-name:</span> <span class="hljs-string">veadk-agent-vke-apig</span>Â <span class="hljs-comment"># æŒ‡å®š APIGInstance èµ„æºåç§°</span>
<span class="hljs-attr">spec:</span>
Â  <span class="hljs-attr">ingressClassName:</span> <span class="hljs-string">apig</span>
Â  <span class="hljs-attr">rules:</span>
Â  Â  <span class="hljs-bullet">-</span> <span class="hljs-attr">host:</span> <span class="hljs-string">veadkrealtimevoiceagent.apigateway-cn-beijing.volceapi.com</span> Â <span class="hljs-comment"># éœ€è¦å¯¹å¤–æä¾›è®¿é—®çš„åŸŸå</span>
Â  Â  Â  <span class="hljs-attr">http:</span>
Â  Â  Â  Â  <span class="hljs-attr">paths:</span>
Â  Â  Â  Â  <span class="hljs-bullet">-</span> <span class="hljs-attr">pathType:</span> <span class="hljs-string">Prefix</span>Â <span class="hljs-comment"># è·¯å¾„åŒ¹é…è§„åˆ™ï¼Œé»˜è®¤ä¸º Prefixï¼ˆå‰ç¼€åŒ¹é…ï¼‰</span>
Â  Â  Â  Â  Â  <span class="hljs-attr">path:</span> <span class="hljs-string">/</span>Â <span class="hljs-comment"># è¯·æ±‚åŒ¹é…çš„è·¯å¾„</span>
Â  Â  Â  Â  Â  <span class="hljs-attr">backend:</span>
Â  Â  Â  Â  Â  Â  <span class="hljs-attr">service:</span>
Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">name:</span> <span class="hljs-string">veadk-agent</span>Â <span class="hljs-comment"># éœ€è¦å¯¹æ¥çš„æœåŠ¡åç§°</span>
Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">port:</span>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="hljs-attr">number:</span> <span class="hljs-number">80</span>Â <span class="hljs-comment"># éœ€è¦å¯¹æ¥æœåŠ¡çš„ç«¯å£å·</span>
</code></pre>
<p>17. è·å–å…¬ç½‘è®¿é—®åœ°å€å¹¶æµ‹è¯•</p>
<p>å½“ Ingress è§„åˆ™è¢«åº”ç”¨åï¼ŒAPIG Instance æ§åˆ¶å™¨ä¼šè‡ªåŠ¨åˆ›å»ºè½¬å‘è§„åˆ™ï¼Œå¹¶å°†å…¶ä¸åç«¯æœåŠ¡å…³è”ã€‚</p>
<ul>
<li>è·å–å¤–éƒ¨ IP åœ°å€ï¼š</li>
</ul>

<pre><code class="hljs language-vbnet" lang="vbnet">Bash
ve apig GetGatewayService --bodyÂ <span class="hljs-comment">'{</span>
Â  Â  <span class="hljs-string">"Id"</span>: <span class="hljs-string">"&lt;sd5728khjptg***&gt;"</span>
}<span class="hljs-comment">'</span>
</code></pre>
<ul>
<li>æµ‹è¯•å·²éƒ¨ç½²çš„ä»£ç†ï¼š</li>
</ul>

<pre><code class="hljs language-shell" lang="shell">Plain Text
<span class="hljs-meta prompt_"># </span><span class="bash">éœ€è¦ç¼–è¾‘ client/interface.htmlï¼Œå°†å…¶ä¸­çš„ç¬¬ 168 è¡Œçš„ ws://localhost:8000 ä¿®æ”¹ä¸º agentkit.yaml ä¸­ç”Ÿæˆçš„ runtime_endpoint å­—æ®µ</span>
<span class="hljs-meta prompt_"># </span><span class="bash">åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ client/interface.htmlï¼Œå®¢æˆ·ç«¯å°†è‡ªåŠ¨è¿æ¥åˆ° WebSocket æœåŠ¡å™¨ã€‚</span> Â  Â  Â 
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f17c2516fce54cb7a26750f6139efcad~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5bGx5byV5pOO5byA5Y-R6ICF56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768330&amp;x-signature=lGLXBOYrLiKYr6QDk1h5%2BR%2F60Jk%3D" alt="" loading="lazy"/></p>
<p>æ—¥å¿—&amp;å¯è§‚æµ‹</p>
<p>ä½¿ç”¨Â <code>kubectl</code>Â å‘½ä»¤æŸ¥çœ‹å®æ—¶æ—¥å¿—ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp">Bash
<span class="hljs-meta"># é¦–å…ˆæ‰¾åˆ°ä½ çš„ Pod åç§°</span>
kubectl <span class="hljs-keyword">get</span> pods -l=app=veadk-agent
NAME Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  READY Â  STATUS Â  Â RESTARTS Â  AGE
veadk-agent<span class="hljs-number">-6b</span>cdb5d996-l2wtq Â  <span class="hljs-number">1</span>/<span class="hljs-number">1</span> Â  Â  Running Â  <span class="hljs-number">0</span> Â  Â  Â  Â  Â <span class="hljs-number">2</span>d19h

<span class="hljs-meta"># ç„¶åæŸ¥çœ‹ç‰¹å®š Pod çš„æ—¥å¿—</span>
<span class="hljs-meta"># å°† adk-agent-xxxx-yyyy æ›¿æ¢ä¸ºä½ çš„å®é™… Pod åç§°</span>
kubectl logs -f veadk-agent<span class="hljs-number">-6b</span>cdb5d996-l2wtq
<span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-25</span> <span class="hljs-number">12</span>:<span class="hljs-number">00</span>:<span class="hljs-number">29</span> | DEBUG | live.py:<span class="hljs-number">211</span> - receive llm response: {<span class="hljs-string">'message_type'</span>:Â <span class="hljs-string">'SERVER_FULL_RESPONSE'</span>,Â <span class="hljs-string">'event'</span>: <span class="hljs-number">550</span>,Â <span class="hljs-string">'session_id'</span>:Â <span class="hljs-string">'b"b'</span><span class="hljs-number">98484414</span><span class="hljs-number">-958e-4</span>cfb-beeb<span class="hljs-number">-678</span>a769ca872<span class="hljs-string">'"'</span>,Â <span class="hljs-string">'payload_msg'</span>: {<span class="hljs-string">'content'</span>:Â <span class="hljs-string">'è®²è®²'</span>,Â <span class="hljs-string">'question_id'</span>:Â <span class="hljs-string">'34058118226449410'</span>,Â <span class="hljs-string">'reply_id'</span>:Â <span class="hljs-string">'34058118226450178'</span>},Â <span class="hljs-string">'payload_size'</span>: <span class="hljs-number">85</span>}
<span class="hljs-number">2025</span><span class="hljs-number">-12</span><span class="hljs-number">-25</span> <span class="hljs-number">12</span>:<span class="hljs-number">00</span>:<span class="hljs-number">29</span> | DEBUG | live.py:<span class="hljs-number">211</span> - receive llm response: {<span class="hljs-string">'message_type'</span>:Â <span class="hljs-string">'SERVER_FULL_RESPONSE'</span>,Â <span class="hljs-string">'event'</span>: <span class="hljs-number">550</span>,Â <span class="hljs-string">'session_id'</span>:Â <span class="hljs-string">'b"b'</span><span class="hljs-number">98484414</span><span class="hljs-number">-958e-4</span>cfb-beeb<span class="hljs-number">-678</span>a769ca872<span class="hljs-string">'"'</span>,Â <span class="hljs-string">'payload_msg'</span>: {<span class="hljs-string">'content'</span>:Â <span class="hljs-string">'ã€‚'</span>,Â <span class="hljs-string">'question_id'</span>:Â <span class="hljs-string">'34058118226449410'</span>,Â <span class="hljs-string">'reply_id'</span>:Â <span class="hljs-string">'34058118226450178'</span>},Â <span class="hljs-string">'payload_size'</span>: <span class="hljs-number">82</span>}
</code></pre>
<p>APIG æ§åˆ¶å°è§‚æµ‹ç½‘å…³è¯·æ±‚ï¼š</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f1bf564becc44aabb3c5b332e8595e9b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg54Gr5bGx5byV5pOO5byA5Y-R6ICF56S-5Yy6:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768330&amp;x-signature=dTMBRq0ZYdriSWChzWZS%2BmlBMwQ%3D" alt="" loading="lazy"/></p>
<p>æ€»ç»“</p>
<p>ä»¥ä¸Šå°±æ˜¯å°† VeADK Agent éƒ¨ç½²è‡³ VKE çš„å®æ“ä»‹ç»ã€‚å¯¹äºä¼ä¸šçº§ç”¨æˆ·æ¥è¯´ï¼Œå°† Agent åº”ç”¨éƒ¨ç½²è‡³å®¹å™¨æœåŠ¡ï¼ˆVKEï¼‰æ˜¯æ¨åŠ¨å…¶èµ°å‘ç”Ÿäº§æˆç†Ÿåº¦çš„å…³é”®ä¸€æ­¥ï¼šä¸ä»…ç»Ÿä¸€äº† AI åº”ç”¨çš„äº‘åŸç”ŸæŠ€æœ¯æ ˆï¼Œæ›´åœ¨äº¤ä»˜æ•ˆç‡ã€æ€§èƒ½ã€å¯é æ€§ã€æˆæœ¬ä¸å®‰å…¨æ€§ç­‰å¤šä¸ªç»´åº¦ä¸ºç”¨æˆ·å¸¦æ¥äº†å®è´¨æ”¶ç›Šã€‚ç ”å‘å›¢é˜Ÿä¹Ÿèƒ½å¤Ÿå¤ç”¨ä¸šç•Œæˆç†Ÿçš„ Kubernetes ç”Ÿæ€èƒ½åŠ›ï¼Œå°†å…³æ³¨ç‚¹ä»å¤æ‚çš„åŸºç¡€è®¾æ–½ç®¡ç†å›å½’åˆ° Agent ä¸šåŠ¡é€»è¾‘çš„åˆ›æ–°æœ¬èº«ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å››å¤§ç»å…¸åè‘— æ–‡ç”Ÿå›¾æç¤ºè¯]]></title>    <link>https://juejin.cn/post/7598402961904058420</link>    <guid>https://juejin.cn/post/7598402961904058420</guid>    <pubDate>2026-01-23T10:22:53.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598402961904058420" data-draft-id="7598355220830175284" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å››å¤§ç»å…¸åè‘— æ–‡ç”Ÿå›¾æç¤ºè¯"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-23T10:22:53.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="fengjutian"/> <meta itemprop="url" content="https://juejin.cn/user/26044007717278"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å››å¤§ç»å…¸åè‘— æ–‡ç”Ÿå›¾æç¤ºè¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/26044007717278/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    fengjutian
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T10:22:53.000Z" title="Fri Jan 23 2026 10:22:53 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">çº¢æ¥¼æ¢¦é»›ç‰æç¤ºè¯</h2>
<p>è§’è‰²è®¾è®¡ç¨¿ï¼Œç™½è‰²èƒŒæ™¯ï¼ŒæŠ€æœ¯è“å›¾é£æ ¼ï¼Œé—ºé˜æœé¥°ç²¾ç»†å°ºå¯¸æ ‡æ³¨ä¸ä¸­æ–‡æ‰¹æ³¨ï¼Œå¤šè§’åº¦æ•£ç‚¹ç¼©ç•¥å›¾ï¼Œå±•ç¤ºæ¸…ä»£è´µæ—å°å§é€ å‹è®¾è®¡å…¨æµç¨‹ã€‚ ã€å…¸ç±å‡ºå¤„ã€‘ã€Šçº¢æ¥¼æ¢¦ã€‹ç¬¬ä¸‰å›ï¼šæ—é»›ç‰æŠ›çˆ¶è¿›äº¬éƒ½ ã€è§’è‰²æ¡£æ¡ˆã€‘ å§“åè¡¨å­—ï¼šæ—é»›ç‰ï¼Œå­—é¢¦é¢¦ï¼Œå‰èº«ç»›ç ä»™è‰ å‡ºèº«æ¥å†ï¼šå§‘è‹äººæ°ï¼Œå·¡ç›å¾¡å²æ—å¦‚æµ·ä¹‹å¥³ï¼Œè´¾æ¯å¤–å­™å¥³ æ€§æƒ…æ°”è´¨ï¼šè¯—é­‚è¯éª¨ï¼Œèªæ…§å¤šæƒ…ï¼Œæ•æ„Ÿå¤šæ„ï¼Œå­¤æ ‡å‚²ä¸– ã€ç›¸è²Œç‰¹å¾ã€‘ ä¸¤å¼¯ä¼¼è¹™éè¹™ç½¥çƒŸçœ‰ï¼Œä¸€åŒä¼¼å–œéå–œå«æƒ…ç›®ï¼Œæ€ç”Ÿä¸¤é¥ä¹‹æ„ï¼Œå¨‡è¢­ä¸€èº«ä¹‹ç—…ã€‚æ³ªå…‰ç‚¹ç‚¹ï¼Œå¨‡å–˜å¾®å¾®ã€‚è‚Œè‚¤èƒœé›ªï¼Œå‰Šè‚©ç»†è…°ï¼Œèº«å§¿å¦‚å¼±æŸ³æ‰¶é£ï¼Œç—…æ€ä¹‹ç¾æ›´æ·»ä»™å§¿ã€‚ ã€é—ºç§€è£…æŸã€‘ å‘é«»ï¼šé’ä¸å¦‚äº‘ï¼ŒåŒç¯å‚é«»å°‘å¥³å‘å¼ï¼Œçç ç°ªç‚¹ç¼€ å¤´é¥°ï¼šå°å·§ç¿ ç¾½ç é’—ï¼Œç¼€ç»†å°çç æµè‹ï¼Œé¬“è¾¹æ–œæ’é²œèŠ±ä¸€æœµ ä¸»è¡£ï¼šæœˆç™½è‰²ä¸ç¼è¢„è£™ï¼Œæš—ç»£å…°èŠ±çº¹æ ·ï¼Œç«‹é¢†ç²¾è‡´ å¤–æŠ«ï¼šæ·¡ç²‰è‰²è‹ç»£çº±å¸”ï¼Œè½»è–„è‹¥çƒŸ å†…è¡¬ï¼šé›ªç™½ä¸ç»¸è‚šå…œï¼Œæ¢…èŠ±æ»šè¾¹ è¶³å±¥ï¼šè—•è·è‰²ç»£èŠ±å¼“é‹ï¼Œè²çº¹é‹é¢ ã€éšèº«ç‰©ä»¶ã€‘ è´´èº«ä¹‹ç‰©ï¼šä¸å¸•ä¸€æ–¹ï¼Œç»£å…°èŠ±è§’ï¼Œæ‹­æ³ªå¸¸å¤‡ï¼ˆ280mmè§æ–¹ï¼‰ æ¡ˆå¤´ä¹‹ç‰©ï¼šè¯—ç¨¿ä¸€å·ï¼Œæ¹˜å¦ƒç«¹ç®¡ç¾Šæ¯«ç¬” éšèº«é¦™å›Šï¼šè¯é¦™å›Šä¸€æšï¼Œå†…ç››å…»èº«è‰è¯ æ„è±¡ä¹‹èŠ±ï¼šè½çº¢ç‰‡ç‰‡ï¼Œè‘¬èŠ±ä¹‹é”„ æ°´å½©èåˆæ°´å¢¨æ¸²æŸ“ï¼Œæ¸…ä»£ä»•å¥³ç”» + æ–‡äººå·¥ç¬”é£æ ¼ï¼Œæœˆç™½ç´ é›…ä¸ºä¸» + æ·¡ç²‰ç‚¹æŸ“ + çƒŸç°è“æ„å¢ƒ + ç¿ ç‰ç‚¹ç¼€ ã€æœé¥°å›¾é‰´ã€‘ ç¿ ç¾½ç é’—ï¼šç‚¹ç¿ å·¥è‰ºä¸çç é•¶åµŒç»†èŠ‚ï¼ˆé’—é•¿120mmï¼Œç å¾„8mmï¼‰ è¢„è£™ç«‹é¢†ï¼šåˆºç»£é’ˆæ³•ç‰¹å†™ï¼Œå…°èŠ±çº¹æ ·æ’å¸ƒï¼ˆé¢†é«˜65mmï¼‰ çº±å¸”æŠ«å¸›ï¼šè‹ç»£çº±ç½—é€šé€è´¨æ„Ÿï¼ˆé•¿1800mmï¼Œå®½450mmï¼‰ ä¸å¸•æ‰‹ç»¢ï¼šæŠ˜å çº¹è·¯ä¸å…°èŠ±åˆºç»£ï¼ˆ280mm Ã— 280mmï¼‰ è¯é¦™å›Šï¼šä¸å›Šç»“æ„ä¸è‰è¯å†…å®¹ï¼ˆé«˜80mmï¼‰ ã€ç”»é¢æ„æˆã€‘ ä¸»è§’è‰²å‘ˆã€Œå€šæ è‘¬èŠ±ï¼Œæ‰‹æŒèŠ±é”„ï¼Œè½è‹±ç¼¤çº·ç¯ç»•ï¼Œç¥æƒ…å¹½æ€¨ã€ä¹‹å§¿ å‘¨å›´æ ‡æ³¨ï¼šï¼ˆç é’—ï¼Œç«‹é¢†ï¼Œè…°å°ï¼Œç™¾è¤¶è£™ï¼Œç»£é‹ï¼‰ å°ºå¯¸æ ‡è®°ï¼š120mmï¼Œ280mmï¼Œ1800mm</p>
<h3 data-id="heading-1">æ¨¡å‹</h3>
<h4 data-id="heading-2">Qwen Image Turbo</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/440304e57a254f3696042adf99fda184~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=SP5jZyLmS76NTXnhATzfUDOgYEo%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/c23ee1eb37dc439baa408b488b05ea9e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=4YLS2g7FAQdDumZbB7h0nqZoErE%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2a9bcdea9ace42789270637d835e6b9f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=4pbkUfU%2Fp5mfC00acdTuqAbkxiw%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-3">SeedDream 4.5 è±†åŒ…</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/234bb8a1c0444b88abb81d1a11a7e6bf~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=3mPdOFnbuxt7EYl7U4saCjzRfWw%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-4">æ°´æµ’ä¼ </h2>
<p>è§’è‰²è®¾è®¡ç¨¿ï¼Œç™½è‰²èƒŒæ™¯ï¼ŒæŠ€æœ¯è“å›¾é£æ ¼ï¼Œæ±Ÿæ¹–å…µåˆƒå™¨å…·å°ºå¯¸æ ‡æ³¨ä¸ä¸­æ–‡æ‰¹æ³¨ï¼Œå¤šè§’åº¦æ•£ç‚¹ç¼©ç•¥å›¾ï¼Œå±•ç¤ºåŒ—å®‹è‰è½è‹±é›„é€ å‹è®¾è®¡å…¨æµç¨‹ã€‚ ã€å…¸ç±å‡ºå¤„ã€‘ã€Šæ°´æµ’ä¼ ã€‹ç¬¬äºŒåä¸‰å›ï¼šæ™¯é˜³å†ˆæ­¦æ¾æ‰“è™ ã€è§’è‰²æ¡£æ¡ˆã€‘ å§“åç»‘å·ï¼šæ­¦æ¾ï¼Œå¤©ä¼¤æ˜Ÿï¼Œç»‘å·"è¡Œè€…" å‡ºèº«æ¥å†ï¼šæ¸…æ²³å¿äººæ°ï¼ŒåŸé˜³è°·å¿éƒ½å¤´ æ€§æƒ…æ ‡ç­¾ï¼šå«‰æ¶å¦‚ä»‡ï¼Œé“éª¨é“®é“®ï¼Œå¿«æ„æ©ä»‡ï¼Œç‹¬ç‹¼æ°”è´¨ ã€ç›¸è²Œç‰¹å¾ã€‘ èº«é•¿å…«å°ºï¼Œæµ“çœ‰è™ç›®ï¼Œé˜”å£æ–¹è…®ï¼Œç»œè…®çŸ­é«­ï¼Œä½“æ€é­æ¢§é›„å£®ï¼Œæ­¥ä¼è™è¡Œï¼Œå·¦é¢Šæœ‰ç–¤ç—•ä¸€é“ ã€æ±Ÿæ¹–è£…æŸã€‘ å¤´å·¾ï¼šç™½èŒƒé˜³æ¯¡ç¬ ï¼Œçº¢ç»¸æ‰å¸¦ ä¸Šèº«ï¼šè¡€æ¸æ–‘é©³ç™½è‰²çŸ­è¡«ï¼Œå†…è¡¬é»‘è‰²ç´§èº«ä¸­è¡£ ä¸‹èº«ï¼šæ‰è…¿éº»è£¤ï¼Œç»‘è…¿ç¼ ç´§ è¶³å±¥ï¼šè‰é‹æ‰ç´§å¤‡æˆ˜ é…é¥°ï¼šè…°æ‚¬é…’è‘«èŠ¦ï¼Œè‚©èƒŒåŒ…è¢± ã€å…µåˆƒè¡Œå¤´ã€‘ ä¸»å…µå™¨ï¼šé›ªèŠ±é•”é“æˆ’åˆ€ä¸€å¯¹ï¼ŒèƒŒè´Ÿäº¤å‰ï¼ˆå•åˆ€åˆƒé•¿650mmï¼ŒåŒåˆ€å…±é‡åäº”æ–¤ï¼‰ æ‹³è„šåŠŸå¤«ï¼šé“æ‹³ç¼ å¸ƒï¼Œé†‰æ‹³é€šç¥ æ ‡å¿—ç‰©ä»¶ï¼šé…’è‘«èŠ¦ï¼ˆé«˜320mmï¼‰ï¼Œè¡€è¡£ç™½è¡«ï¼Œè¡Œè€…å¤´é™€è£… æ°´å½©èåˆæ°´å¢¨æ¸²æŸ“ï¼Œå®‹ä»£é£ä¿—ç”» + æ˜åˆŠç»£åƒæ’å›¾é£æ ¼ï¼Œèµ­çŸ³åœŸé»„ä¸ºåº• + å¢¨è‰²å‹¾å‹’ + è¡€çº¢ç‚¹ç¼€ ã€è£…å¤‡å›¾è§£ã€‘ é›ªèŠ±é•”é“æˆ’åˆ€ï¼šåˆ€åˆƒé”»æ‰“èŠ±çº¹ç‰¹å†™ï¼ˆå•åˆ€650mmï¼ŒåŒåˆ€å…±é‡åäº”æ–¤ï¼‰ èŒƒé˜³æ¯¡ç¬ ï¼šçº¢ç»¸æ‰ç³»æ–¹å¼å›¾è§£ï¼ˆå¸½å¾„350mmï¼‰ ç»‘è…¿ç¼ æ³•ï¼šå¸ƒæ¡ç¼ ç»•ä¸æ‰“ç»“ä½ç½®ï¼ˆå•è…¿ç¼ å¸ƒ2000mmï¼‰ é…’è‘«èŠ¦ï¼šå†…å¤–ç»“æ„ä¸é›•èŠ±ï¼ˆé«˜320mmï¼Œå®¹ä¸‰ç¢—é…’ï¼‰ æ‰“è™åœºæ™¯ï¼šè¡£è¡«æ’•è£‚ç»†èŠ‚ï¼Œè™çˆªæŠ“ç—•ï¼Œè¡€æº…çº¹æ · ã€ç”»é¢æ„æˆã€‘ ä¸»è§’è‰²å‘ˆã€Œæ€’ç›®åœ†çï¼Œæ‹³æ¯™çŒ›è™åå‚²ç«‹è™å°¸ä¹‹ä¸Šï¼ŒåŒæ‹³æŸ“è¡€ï¼Œè¡£è¡«è¤´è¤›ã€ä¹‹å§¿ å‘¨å›´æ ‡æ³¨ï¼šï¼ˆæ¯¡å¸½ï¼ŒçŸ­è¡«ï¼Œè…°å¸¦ï¼Œè…¿ç»·ï¼ŒåŒåˆ€ï¼‰ å°ºå¯¸æ ‡è®°ï¼š650mmï¼Œ350mmï¼Œ320mm ã€è§†è§‰ç‰¹è´¨ã€‘è‰è½è‹±é›„è™èƒ†é›„å¨ï¼ŒåŒ—å®‹å¸‚äº•æ±Ÿæ¹–æ°”ï¼Œè¶…é«˜æ¸…ç»†èŠ‚ç®­å¤´æ ‡æ³¨ï¼Œæ°´æµ’ç»£åƒå¤æœ´ç¾å­¦ï¼Œæ­¦ä¾ å†™å®CGï¼Œå¿«æ„æ©ä»‡è±ªæ°”å¹²äº‘</p>
<h3 data-id="heading-5">æ¨¡å‹</h3>
<h4 data-id="heading-6">Qwen Image Turbo</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/3ca07cba9dae4130946e54d514e4df22~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=0v1xVdLyVUb1UPy0RONzIF4vGM4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/0cbff7a42c604f1489f4179f813fcfbd~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=SMhTWMgu%2Fke51zQQaXoE0WdLA1I%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b888e4e241ce43e1b53b91f0d4784275~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=xPBYhoFJz%2B6xkTCS8pfVlOvt8UU%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-7">SeedDream 4.5</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d20aa28a5045432dbc1c2c9eb8a91264~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=YWR6luoOjT%2BmMIs%2BQO2NmurhXnU%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">ä¸‰å›½æ¼”ä¹‰</h2>
<p>è§’è‰²è®¾è®¡ç¨¿ï¼Œç™½è‰²èƒŒæ™¯ï¼ŒæŠ€æœ¯è“å›¾é£æ ¼ï¼Œè¯¦ç»†å°ºå¯¸æ ‡æ³¨ä¸ä¸­æ–‡æ‰¹æ³¨ï¼Œå¤šè§’åº¦æ•£ç‚¹ç¼©ç•¥å›¾ï¼Œå±•ç¤ºæ±‰æœ«æ­¦å°†é“ ç”²è®¾è®¡å…¨æµç¨‹ã€‚ ã€å…¸ç±å‡ºå¤„ã€‘ã€Šä¸‰å›½æ¼”ä¹‰ã€‹ç¬¬ä¸€å›ï¼šå®´æ¡ƒå›­è±ªæ°ä¸‰ç»“ä¹‰ ã€è§’è‰²æ¡£æ¡ˆã€‘ å§“åå­—å·ï¼šå…³ç¾½ï¼Œå­—äº‘é•¿ï¼Œäººç§°"ç¾é«¯å…¬""æ­¦åœ£" é˜µè¥åŠ¿åŠ›ï¼šèœ€æ±‰ Â· å‰å°†å†› Â· æ±‰å¯¿äº­ä¾¯ æ€§æ ¼é“­åˆ»ï¼šå¿ ä¹‰æ— åŒï¼Œå‚²ä¸Šè€Œä¸å¿ä¸‹ï¼Œä¹‰è–„äº‘å¤© ã€ç›¸è²Œç‰¹å¾ã€‘ èº«é•¿ä¹å°ºï¼Œé¢å¦‚é‡æ£ï¼Œå”‡è‹¥æ¶‚è„‚ï¼Œä¸¹å‡¤çœ¼ï¼Œå§èš•çœ‰ï¼Œé«¯é•¿äºŒå°ºï¼Œå¨é£å‡›å‡›ï¼Œç›¸è²Œå ‚å ‚ ã€ç”²èƒ„ä½“ç³»ã€‘ å¤´ç›”ï¼šå‡¤ç¿…ç´«é‡‘å† ï¼Œèµ¤çº¢ç›”ç¼¨é£˜æ‰¬ é“ ç”²ï¼šå…½é¢åå¤´è¿ç¯é“ ï¼Œé“œå…½è‚©åï¼Œèƒ¸é•¶æŠ¤å¿ƒé•œ æˆ˜è¢ï¼šç¿ ç»¿é”¦ç¼äº‘çº¹è¢ï¼Œé‡‘çº¿æ»šè¾¹ æŠ«é£ï¼šå¢¨ç»¿å¤§æ°…ï¼Œé‡‘æ‰£ç³»é¢ˆ ã€å…µåˆƒåéª‘ã€‘ ä¸»å…µå™¨ï¼šé’é¾™åƒæœˆåˆ€ï¼ˆåˆ€åˆƒ780mmï¼Œåˆ€æ†2100mmï¼Œé‡å…«åäºŒæ–¤ï¼‰ å‰¯å…µå™¨ï¼šè…°æ‚¬é“å‰‘ åéª‘ï¼šèµ¤å…”é©¬ï¼Œé‡‘éç‰è¾”ï¼Œç«ç„°èˆ¬é¬ƒæ¯› æ°´å½©èåˆæ°´å¢¨æ¸²æŸ“ï¼Œæ˜ä»£ç»£åƒç‰ˆç”»é£æ ¼ï¼Œç„é“å¢¨è‰²ä¸ºåº• + æœ±ç ‚èµ¤çº¢ç‚¹ç¼€ + éé‡‘å‹¾è¾¹ ã€è£…å¤‡æ‹†è§£å›¾ã€‘ é’é¾™åƒæœˆåˆ€ï¼šåˆ€èº«é”»çº¹ç‰¹å†™ï¼Œé¾™çº¹æµ®é›•ç»†èŠ‚ï¼ˆåˆƒé•¿780mmï¼Œæ†é•¿2100mmï¼‰ å‡¤ç¿…ç´«é‡‘å† ï¼šç»“æ„çˆ†ç‚¸åˆ†è§£å›¾ï¼ˆé€šé«˜320mmï¼‰ è¿ç¯é“ ï¼šç”²ç‰‡æ’åˆ—ä¸å…½é¢è‚©åå·¥è‰ºï¼ˆç”²ç‰‡45mm Ã— 2000ç‰‡ï¼‰ æ±‰å¯¿äº­ä¾¯å°ï¼šæ­£ååŒé¢ç¯†åˆ»ï¼ˆç›´å¾„65mmï¼‰ èµ¤å…”é©¬å…·ï¼šéé¯è¾”å¤´é•«å…¨å¥—åˆ†è§£å›¾ ã€ç”»é¢æ„æˆã€‘ ä¸»è§’è‰²å‘ˆã€Œç§‰çƒ›å¤œè¯»æ˜¥ç§‹ï¼Œæ¨ªåˆ€ç«‹äºä¾§ã€ä¹‹å§¿æ€ å‘¨å›´æ ‡æ³¨ï¼šï¼ˆå‡¤ç¿…ç›”ç¼¨ï¼Œè‚©åå…½é¦–ï¼Œè…°å›´ç‰å¸¦ï¼Œè™å¤´æˆ˜é´ï¼ŒæŠ«é£é‡‘æ‰£ï¼‰ å°ºå¯¸æ ‡è®°ï¼š320mmï¼Œ780mmï¼Œ2100mm ã€è§†è§‰ç‰¹è´¨ã€‘æ²™åœºå®¿å°†ä¹‹å¨ä»ªï¼Œæ±‰æœ«é£äº‘é™…ä¼šï¼Œè¶…é«˜æ¸…ç»†èŠ‚ç®­å¤´æ ‡æ³¨ï¼Œå¤å…¸æ¼”ä¹‰ç»£åƒç¾å­¦ï¼Œä¸‰å›½å²è¯—çº§CGï¼Œå¿ ä¹‰åƒç§‹æ°”åŠ¿ç£…ç¤´</p>
<h3 data-id="heading-9">æ¨¡å‹</h3>
<h4 data-id="heading-10">Qwen Image Turbo</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/a2b2beb930d64ecd80fefe1228f2e540~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=zIdUw45SwlBH074ysqmuU6sOykc%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ddbf05981a0b4630a4b4c466249b51fb~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=N2MF80y8rcSNbHoTK3Bs9atw5pw%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/9f59d1c23ac6408d8844a001c3f7e97b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=2TJjvFblQcxZjm1MtZZP8b4x0WQ%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-11">SeedDream 4.5</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/422ea3c7ea3a4fe1b965ebfa5465e58c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=G7MdZPR6a4nB3Pr2g3DvFildKFM%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-12">è¥¿æ¸¸è®°</h2>
<p>è§’è‰²è®¾è®¡ç¨¿ï¼Œç™½è‰²èƒŒæ™¯ï¼ŒæŠ€æœ¯è“å›¾é£æ ¼ï¼Œä»™æ³•ç¥å™¨å°ºå¯¸æ ‡æ³¨ä¸ä¸­æ–‡æ‰¹æ³¨ï¼Œå¤šè§’åº¦æ•£ç‚¹ç¼©ç•¥å›¾ï¼Œå±•ç¤ºå¤©ç•Œæˆ˜ç¥é€ å‹è®¾è®¡å…¨æµç¨‹ã€‚ ã€å…¸ç±å‡ºå¤„ã€‘ã€Šè¥¿æ¸¸è®°ã€‹ç¬¬ä¸ƒå›ï¼šå…«å¦ç‚‰ä¸­é€ƒå¤§åœ£ äº”è¡Œå±±ä¸‹å®šå¿ƒçŒ¿ ã€è§’è‰²æ¡£æ¡ˆã€‘ å§“åæ³•å·ï¼šå­™æ‚Ÿç©ºï¼Œé“å·"é½å¤©å¤§åœ£"ï¼Œæ³•å"å­™è¡Œè€…" å‡ºèº«æ¥å†ï¼šä¸œèƒœç¥æ´²èŠ±æœå±±æ°´å¸˜æ´ï¼Œä»™çŸ³å­•è‚²å¤©ç”ŸçŸ³çŒ´ ä¿®ä¸ºç¥é€šï¼šå¤ªä¹™é‡‘ä»™å¢ƒï¼Œä¸ƒåäºŒå˜ï¼Œç­‹æ–—äº‘åä¸‡å…«åƒé‡Œï¼Œç«çœ¼é‡‘ç› ã€å½¢è²Œç‰¹å¾ã€‘ æœ¬ç›¸ï¼šé›·å…¬å˜´ï¼Œé“é¢å¤´ï¼Œé‡‘æ¯›è¦†ä½“ï¼Œç«çœ¼é‡‘ç›å¦‚é“œé“ƒ èº«å½¢ï¼šèº«é«˜å››å°ºï¼Œç²¾æ‚çŸ«å¥ï¼ŒçŒ¿çŒ´ä½“æ€ æ ‡å¿—ï¼šå¤´æˆ´é‡‘ç®ï¼ˆç´§ç®å’’ï¼‰ï¼Œå°–è€³å¤–ç¿»ï¼Œæ¡€éªœä¸é©¯ç¥æƒ… ã€ä»™è£…æ³•è¡£ã€‘ å¤´å† ï¼šå‡¤ç¿…ç´«é‡‘å† ï¼Œå†…åµŒé‡‘ç®ä¸€é“ ä¸»ç”²ï¼šé”å­é»„é‡‘ç”²ï¼Œäº‘çº¹ç«ç„°çº¹äº¤ç»‡ ä¸‹è£³ï¼šè™çš®æˆ˜è£™ï¼ˆæ‰“è™æ‰€å¾—ï¼‰ è¶³å±¥ï¼šè—•ä¸æ­¥äº‘å±¥ï¼Œè¸äº‘è€Œè¡Œ ã€æ³•å®ç¥å…µã€‘ ä¸»æ³•å®ï¼šå¦‚æ„é‡‘ç®æ£’ï¼ˆé‡ä¸€ä¸‡ä¸‰åƒäº”ç™¾æ–¤ï¼Œå¯å¤§å¯å°ï¼Œé»˜è®¤é•¿å…­ç±³ï¼Œç¢—å£ç²—ç»†ï¼‰ å¤´ä¸Šé‡‘ç®ï¼šç´§ç®å’’åˆ»çº¹ï¼Œéšå’’æ”¶ç´§ ç¥é€šå…·è±¡ï¼šç­‹æ–—äº‘å‘ˆç¥¥äº‘æ‰˜ä¸¾çŠ¶ æ°´å½©èåˆæ°´å¢¨æ¸²æŸ“ï¼Œæ•¦ç…Œå£ç”» + æ˜åˆŠç¥é­”å°è¯´æ’å›¾é£æ ¼ï¼Œéœå…‰é‡‘çº¢ä¸ºä¸» + ç¥¥äº‘ç´ ç™½ + ç¥ç«æ©™é»„ ã€æ³•å®å›¾é‰´ã€‘ å¦‚æ„é‡‘ç®æ£’ï¼šå®šæµ·ç¥é’ˆé“çº¹ç†ç‰¹å†™ï¼ˆé»˜è®¤é•¿6000mmï¼Œç›´å¾„120mmï¼Œå¯ç¼©è‡³ç»£èŠ±é’ˆ15mmï¼‰ ç´«é‡‘å† ä¸é‡‘ç®ï¼šå’’æ–‡é•Œåˆ»ç»†èŠ‚ï¼ˆé‡‘ç®ç›´å¾„180mmï¼Œå®½25mmï¼‰ é”å­é»„é‡‘ç”²ï¼šç”²ç‰‡ä¸äº‘çº¹ç¼–ç»‡å·¥è‰ºï¼ˆç”²é«˜650mmï¼‰ è—•ä¸æ­¥äº‘å±¥ï¼šè²ç“£åº•çº¹è®¾è®¡ï¼ˆé‹é•¿280mmï¼‰ ç­‹æ–—äº‘ï¼šçµæ°”æµè½¬å½¢æ€å›¾ ã€ç”»é¢æ„æˆã€‘ ä¸»è§’è‰²å‘ˆã€Œè…¾äº‘é©¾é›¾ï¼Œé‡‘ç®æ£’æ¨ªæ‰«å¤©å…µå¤©å°†ã€æ¡€éªœæˆ˜å§¿ å‘¨å›´æ ‡æ³¨ï¼šï¼ˆç´«é‡‘å† ï¼Œé”å­ç”²ï¼Œè™çš®è£™ï¼Œè—•ä¸å±¥ï¼Œé‡‘ç®æ£’ï¼‰ å°ºå¯¸æ ‡è®°ï¼š6000mmï¼Œ180mmï¼Œ650mm ã€è§†è§‰ç‰¹è´¨ã€‘æ¡€éªœä¸é©¯åå›ä¹‹é­‚ï¼Œé½å¤©å¤§åœ£é€šå¤©å½»åœ°ï¼Œè¶…é«˜æ¸…ç¥è¯ç»†èŠ‚æ ‡æ³¨ï¼Œæ˜ä»£ç¥é­”å¿—æ€ªç¾å­¦ï¼Œä¸œæ–¹ç„å¹»CGï¼Œå¤§é—¹å¤©å®«æ°”åå±±æ²³</p>
<h3 data-id="heading-13">æ¨¡å‹</h3>
<h4 data-id="heading-14">Qwen Image Turbo</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16e90754b04b493f859c0e3e16b42fde~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=2EU%2BNDRxz1OBqbOA1Mjx1injgm8%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/bf7ecb003b934207aa9d2ba34b0e1eee~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=IXzedZNwDrpyiJxpDc%2B5Qn%2FVcP4%3D" alt="" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/35ae0d22be074fe9ad50a1ffe992f4df~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=afXJQWhYObtSYr7KLszoOd%2BqwlY%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-15">SeedDream 4.5</h4>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/13d754bd6bb3421eba2272987f9d26d3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgZmVuZ2p1dGlhbg==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769768573&amp;x-signature=zomSfVsNRHETVAYnpTNJpPHOJ8g%3D" alt="" loading="lazy"/></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[[Flutter]å¤šå±‚çº§ååŒæ»šåŠ¨å’Œå¤šå±‚çº§æƒ¯æ€§æ»šåŠ¨åŠ¨ç”»ä¼ é€’Elva Scroll View]]></title>    <link>https://juejin.cn/post/7598424770321448969</link>    <guid>https://juejin.cn/post/7598424770321448969</guid>    <pubDate>2026-01-23T10:55:31.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598424770321448969" data-draft-id="7598181989969559579" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="[Flutter]å¤šå±‚çº§ååŒæ»šåŠ¨å’Œå¤šå±‚çº§æƒ¯æ€§æ»šåŠ¨åŠ¨ç”»ä¼ é€’Elva Scroll View "/> <meta itemprop="keywords" content="å‰ç«¯,Android,Flutter"/> <meta itemprop="datePublished" content="2026-01-23T10:55:31.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€ä¸­æ–­"/> <meta itemprop="url" content="https://juejin.cn/user/2647279732527831"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            [Flutter]å¤šå±‚çº§ååŒæ»šåŠ¨å’Œå¤šå±‚çº§æƒ¯æ€§æ»šåŠ¨åŠ¨ç”»ä¼ é€’Elva Scroll View 
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2647279732527831/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€ä¸­æ–­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T10:55:31.000Z" title="Fri Jan 23 2026 10:55:31 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>Elva Scroll Viewï¼Œä¸€ä¸ªé€‚ç”¨äºåµŒå¥—æ»šåŠ¨çš„ Flutter åŒ…ï¼Œå…·å¤‡å¤šå±‚çº§ååŒæ»šåŠ¨å’Œå¤šå±‚çº§æƒ¯æ€§æ»šåŠ¨åŠ¨ç”»ä¼ é€’åŠŸèƒ½ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€æ•ˆæœä¸åŠŸèƒ½</h2>
<h2 data-id="heading-1">1.1 æ•ˆæœæ¼”ç¤º</h2>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/f10bff476e614c98913139fe8059e738~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5byA5Lit5pat:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769770669&amp;x-signature=v2msNZvWcjZh3cqwcDeXczX%2BF4E%3D" alt="example.gif" loading="lazy"/></p>
<h3 data-id="heading-2">1.2 æ”¯æŒçš„åŠŸèƒ½</h3>
<ul>
<li><strong>åµŒå¥—æ»šåŠ¨æ”¯æŒ</strong>ï¼šæ”¯æŒå¤šçº§åµŒå¥—æ»šåŠ¨è§†å›¾ï¼Œå®ç°å¹³æ»‘çš„æ»šåŠ¨åè°ƒ</li>
<li><strong>æƒ¯æ€§æ»šåŠ¨ä¼ é€’</strong>ï¼šæƒ¯æ€§æ»šåŠ¨åŠ¨ç”»å¯ä»¥åœ¨å¤šä¸ªæ»šåŠ¨ç»„ä»¶ä¹‹é—´ä¼ é€’</li>
<li><strong>Shell æ¨¡å¼</strong>ï¼šæ”¯æŒé˜»æ­¢æ»šåŠ¨åç§»ç»§ç»­å‘ä¸Šä¼ æ’­ï¼Œå®ç°ç‹¬ç«‹çš„æ»šåŠ¨åŒºåŸŸ</li>
<li><strong>çµæ´»çš„ Builder æ¨¡å¼</strong>ï¼šä½¿ç”¨ Builder æ¨¡å¼ï¼Œæ˜“äºé›†æˆåˆ°ç°æœ‰ä»£ç ä¸­</li>
<li><strong>è‡ªå®šä¹‰é€šçŸ¥ç³»ç»Ÿ</strong>ï¼šæä¾›ä¸°å¯Œçš„æ»šåŠ¨äº‹ä»¶é€šçŸ¥</li>
</ul>
<h2 data-id="heading-3">äºŒã€ä½¿ç”¨</h2>
<h3 data-id="heading-4">2.1 å®‰è£…</h3>
<p>åœ¨é¡¹ç›®çš„ <code>pubspec.yaml</code> æ–‡ä»¶ä¸­æ·»åŠ ï¼š</p>
<pre><code class="hljs language-yaml" lang="yaml"><span class="hljs-attr">dependencies:</span>
  <span class="hljs-attr">elva_scroll_view:</span> <span class="hljs-string">...</span>
</code></pre>
<h3 data-id="heading-5">2.2 åŸºç¡€ç”¨æ³•</h3>
<p>ElvaScrollViewBuilder æ˜¯ä¸€ä¸ªæ„å»ºç»„ä»¶ï¼Œç”¨äºåŒ…è£…éœ€è¦åè°ƒæ»šåŠ¨çš„ CustomScrollViewã€‚ä½¿ç”¨ElvaScrollViewBuilderåŒ…è£¹ä½ éœ€è¦åè°ƒæ»šåŠ¨çš„ CustomScrollViewæˆ–è€…å…¶ä»–æ»šåŠ¨ç»„ä»¶ï¼Œå³å¯å®ç°æ»šåŠ¨åè°ƒåŠŸèƒ½ï¼š</p>
<pre><code class="hljs language-dart" lang="dart">ElvaScrollViewBuilder(
  builder: (context, controller) {
    <span class="hljs-keyword">return</span> CustomScrollView(
      controller: controller,
      slivers: [
        SliverAppBar(...),
        SliverList(...),
      ],
    );
  }
)
</code></pre>
<h3 data-id="heading-6">2.3 Shell å‚æ•°</h3>
<p>Shellå‚æ•°ä¼šä¸­æ­¢æ»šåŠ¨åç§»ç»§ç»­å‘ä¸Šä¼ æ’­ï¼Œå®ç°ç‹¬ç«‹çš„æ»šåŠ¨åŒºåŸŸã€‚</p>
<pre><code class="hljs language-dart" lang="dart">ElvaScrollViewBuilder(
  isShell: <span class="hljs-keyword">true</span>,
  builder: (context, controller) {
    <span class="hljs-keyword">return</span> CustomScrollView(
      controller: controller,
      slivers: [...]
    );
  }
)
</code></pre>
<h2 data-id="heading-7">ä¸‰ã€æ ¸å¿ƒ API</h2>
<h3 data-id="heading-8">3.1 ElvaScrollViewBuilder</h3>
<p>ä¸»è¦çš„æ„å»ºç»„ä»¶ï¼Œç”¨äºåŒ…è£…éœ€è¦åè°ƒæ»šåŠ¨çš„ CustomScrollViewã€‚</p>
<p><strong>å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>builder</code>: æ„å»ºå‡½æ•°ï¼Œæ¥æ”¶ context å’Œ controller</li>
<li><code>debugLabel</code>: ç”¨äºæ—¥å¿—è®°å½•çš„è°ƒè¯•æ ‡ç­¾</li>
<li><code>isShell</code>: æ˜¯å¦ä¸º shell ç»„ä»¶ã€‚å½“ä¸º true æ—¶ï¼Œæ»šåŠ¨åç§»ä¸ä¼šç»§ç»­å‘ä¸Šä¼ æ’­</li>
</ul>
<h3 data-id="heading-9">3.2 ElvaScrollViewScrollController</h3>
<p>è‡ªå®šä¹‰æ»šåŠ¨æ§åˆ¶å™¨ï¼Œå®ç°äº† <code>TransportPixelNode</code> mixinï¼Œè´Ÿè´£å¤„ç†æ»šåŠ¨åè°ƒå’Œä¼ é€’ã€‚</p>
<h3 data-id="heading-10">3.3 ElvaScrollViewPosition</h3>
<p>è‡ªå®šä¹‰æ»šåŠ¨ä½ç½®ç®¡ç†å™¨ï¼Œç»§æ‰¿è‡ª Flutter åŸç”Ÿçš„ <code>ScrollPositionWithSingleContext</code>ï¼Œå®ç°ï¼š</p>
<ul>
<li>ç”¨æˆ·æ‹–æ‹½åç§»å¤„ç†</li>
<li>æƒ¯æ€§æ»šåŠ¨å¯åŠ¨å’Œç®¡ç†</li>
<li>åŠ¨ç”»åç§»åº”ç”¨</li>
</ul>
<h3 data-id="heading-11">3.4 ElvaScrollViewAnimationOverscrollDispatcher</h3>
<p>æƒ¯æ€§æ»šåŠ¨åŠ¨ç”»åˆ†å‘å™¨ï¼Œè´Ÿè´£ï¼š</p>
<ul>
<li>æ”¶é›†éœ€è¦æ¥å—æ»šåŠ¨äº‹ä»¶çš„ç»„ä»¶</li>
<li>æŒ‰é¡ºåºåˆ†å‘æƒ¯æ€§æ»šåŠ¨åŠ¨ç”»</li>
<li>ç®¡ç†è¿‡æ»šåŠ¨ä¼ é€’</li>
</ul>
<h3 data-id="heading-12">3.5 ElvaScrollViewAnimationScrollingNotification</h3>
<p>å½“å…¨å±€è¿‡æ»šåŠ¨äº‹ä»¶åŠ¨ç”»å‘ç”Ÿæ—¶åˆ†å‘ã€‚</p>
<p><strong>å±æ€§</strong>ï¼š</p>
<ul>
<li><code>overscroll</code>: è¿‡æ»šåŠ¨é‡</li>
<li><code>consumed</code>: å½“å‰æ»šåŠ¨è§†å›¾æ¶ˆè€—çš„é‡</li>
</ul>
<h2 data-id="heading-13">å››ã€åŸç†å‰–æ</h2>
<ol>
<li><a href="https://juejin.cn/post/7304867278566244404" target="_blank" title="https://juejin.cn/post/7304867278566244404">[Flutter] infinityä¸å¯æ»šåŠ¨å¸ƒå±€</a></li>
<li><a href="https://juejin.cn/post/7473440825101533235" target="_blank" title="https://juejin.cn/post/7473440825101533235">[Flutter] ScrollActivityä¸ScrollActivityDelegate</a></li>
<li><a href="https://juejin.cn/post/7473431148958957578" target="_blank" title="https://juejin.cn/post/7473431148958957578">[Flutter] å¤šå±‚çº§åµŒå¥—æ»šåŠ¨</a></li>
<li><a href="https://juejin.cn/post/7473440825101680691" target="_blank" title="https://juejin.cn/post/7473440825101680691">[Flutter] åµŒå¥—æ»šåŠ¨ä¸å¼¹æ€§åµŒå¥—æ»šåŠ¨</a></li>
</ol>
<h2 data-id="heading-14">äº”ã€å…¶ä»–ï¼š</h2>
<ol>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2FY2Yi%2Ftoy" target="_blank" title="https://github.com/Y2Yi/toy" ref="nofollow noopener noreferrer">Githubé¡¹ç›®åœ°å€</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fpub.dev%2Fpackages%2Felva_scroll_view" target="_blank" title="https://pub.dev/packages/elva_scroll_view" ref="nofollow noopener noreferrer">DartPubåœ°å€</a></li>
</ol>
<p>é¡ºä¾¿æ±‚ä¸ªâ­ï¸~</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[@Autowiredä¸@ResourceåŒºåˆ«]]></title>    <link>https://juejin.cn/post/7598193992828715062</link>    <guid>https://juejin.cn/post/7598193992828715062</guid>    <pubDate>2026-01-23T09:25:34.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598193992828715062" data-draft-id="7598193992828682294" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="@Autowiredä¸@ResourceåŒºåˆ«"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-23T09:25:34.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤§ç¬”è¢‹"/> <meta itemprop="url" content="https://juejin.cn/user/1300036004102016"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            @Autowiredä¸@ResourceåŒºåˆ«
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1300036004102016/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤§ç¬”è¢‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:25:34.000Z" title="Fri Jan 23 2026 09:25:34 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">æ‰€å±è§„èŒƒ</h4>
<p>@Autowiredï¼šç”±Springæ¡†æ¶è‡ªå·±å®šä¹‰çš„æ³¨è§£ï¼Œä»…åœ¨Spring/Spring bootç”Ÿæ€ä¸­ç”Ÿæ•ˆï¼Œå¦‚æœé¡¹ç›®åˆ‡æ¢åˆ°å…¶ä»–ä¾èµ–æ³¨å…¥ï¼Œè¯¥æ³¨è§£ä¼šå¤±æ•ˆ</p>
<p>@Resourceï¼šJDK1.6+åŸç”Ÿæä¾›çš„æ³¨è§£ï¼Œå±äº<code>JSR-250JavaEE</code>è§„èŒƒï¼Œæ˜¯é€šç”¨çš„ä¾èµ–æ³¨å…¥æ ‡å‡†ï¼Œåªè¦æ¡†æ¶å…¼å®¹è¯¥è§„èŒƒï¼Œå°±èƒ½ä½¿ç”¨ï¼Œè·¨æ¡†æ¶å…¼å®¹æ€§æ›´å¥½</p>
<h4 data-id="heading-1">é»˜è®¤æ³¨å…¥è§„åˆ™</h4>
<p>é»˜è®¤æ³¨å…¥è§„åˆ™æœ‰ï¼šç±»å‹ä¼˜å…ˆå’Œåç§°ä¼˜å…ˆ</p>
<p>ç±»å‹ä¼˜å…ˆï¼šSpringä¼šå…ˆåœ¨IOCå®¹å™¨ä¸­æŸ¥æ‰¾æ‰€æœ‰ç±»å‹ä¸ºæŒ‡å®šç±»å‹çš„Bean</p>
<p>åç§°ä¼˜å…ˆï¼šSpringä¼šå…ˆæ ¹æ®æ³¨è§£æ ‡æ³¨çš„å­—æ®µå/æ–¹æ³•åï¼ŒæŸ¥æ‰¾IOCå®¹å™¨ä¸­åŒåçš„Bean</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ¥å£</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">UserService</span>{}
<span class="hljs-comment">// å®ç°ç±»1</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span>{}
<span class="hljs-comment">// å®ç°ç±»2</span>
<span class="hljs-meta">@Service</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl2</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span>{}
</code></pre>
<h5 data-id="heading-2">@Autowiredï¼šé»˜è®¤æŒ‰ç±»å‹æ³¨å…¥</h5>
<p>å¦‚æœåªæœ‰ä¸€ä¸ªåŒç±»å‹Bean-&gt;ç›´æ¥æ³¨å…¥ï¼Œæ— éœ€é¢å¤–é…ç½®</p>
<p>å¦‚æœæœ‰å¤šä¸ªåŒç±»å‹çš„Bean-&gt;æŠ›å‡ºNoUniqueBeanDefinitionExceptionå¼‚å¸¸(ç±»å‹åŒ¹é…ä¸å”¯ä¸€)</p>
<p>å¯ä»¥ä½¿ç”¨<code>@Qualifier</code>æŒ‡å®šBeanåç§°</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç›´æ¥æ³¨å…¥ä¼šæŠ¥é”™ï¼ˆ2ä¸ªUserServiceç±»å‹Beanï¼‰</span>
<span class="hljs-comment">// @Autowired</span>
<span class="hljs-comment">// private UserService userService;</span>

<span class="hljs-comment">// é…åˆ@QualifieræŒ‡å®šBeanåç§°ï¼Œç²¾å‡†æ³¨å…¥</span>
<span class="hljs-meta">@Autowired</span>
<span class="hljs-meta">@Qualifier("userServiceImpl1")</span> <span class="hljs-comment">// å¯¹åº”Beanåç§°ï¼šuserServiceImpl1</span>
<span class="hljs-keyword">private</span> UserService userService;
</code></pre>
<p>æˆ–ç”¨<code>@Primary</code>æ ‡è®°é»˜è®¤ä¼˜å…ˆçš„Bean</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-meta">@Service</span>
<span class="hljs-meta">@Primary</span> <span class="hljs-comment">// æ ‡è®°ä¸ºé»˜è®¤ä¼˜å…ˆ</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl1</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> {}

<span class="hljs-comment">// æ­¤æ—¶ç›´æ¥æ³¨å…¥ä¸ä¼šæŠ¥é”™ï¼Œä¼šè‡ªåŠ¨æ³¨å…¥UserServiceImpl1</span>
<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">private</span> UserService userService;
</code></pre>
<h5 data-id="heading-3">@Resourceï¼šé»˜è®¤æŒ‰ç…§åç§°æ³¨å…¥</h5>
<p>æ‰¾åˆ°åŒåBean -&gt; ç›´æ¥æ³¨å…¥ï¼Œä¸ç®¡ç±»å‹(åªè¦ç±»å‹å…¼å®¹)</p>
<p>æœªæ‰¾åˆ°åŒåBean -&gt; é™çº§ä¸ºæŒ‰ç±»å‹åŒ¹é…ï¼Œæ­¤æ—¶è¡Œä¸ºå’Œ<code>@Autowired</code>ä¸€è‡´(ä¸€ä¸ªæ³¨å…¥ï¼Œå¤šä¸ªæŠ¥é”™)</p>
<p>å¯ä»¥ä½¿ç”¨<code>name</code>/<code>type</code>å±æ€§ï¼Œå¼ºåˆ¶æŒ‰åç§°/ç±»å‹æ³¨å…¥ï¼Œæ— éœ€å…¶ä»–æ³¨è§£</p>
<p>é»˜è®¤æŒ‰å­—æ®µåæ³¨å…¥</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æŠ¥é”™ï¼šNoUniqueBeanDefinitionExceptionï¼ˆæœªæ‰¾åˆ°åŒåBeanï¼Œç±»å‹åŒ¹é…å¤šä¸ªï¼‰</span>
<span class="hljs-meta">@Resource</span>
<span class="hljs-keyword">private</span> UserService userService;
</code></pre>
<p>æ‰‹åŠ¨æŒ‡å®šname/type</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ç›´æ¥æŒ‡å®šBeanåç§°ï¼Œç²¾å‡†æ³¨å…¥userServiceImpl1</span>
<span class="hljs-meta">@Resource(name = "userServiceImpl1")</span>
<span class="hljs-keyword">private</span> UserService userService;

<span class="hljs-comment">// å¼ºåˆ¶æŒ‰ç±»å‹æ³¨å…¥ï¼Œå¤šä¸ªåŒç±»å‹ä»ä¼šæŠ¥é”™ï¼Œè¡Œä¸ºä¸@Autowiredä¸€è‡´</span>
<span class="hljs-meta">@Resource(type = UserService.class)</span>
<span class="hljs-keyword">private</span> UserService userService;
</code></pre>
<h4 data-id="heading-4">æ ‡æ³¨ä½ç½®</h4>
<p>@Autowiredï¼šå¯æ ‡æ³¨åœ¨å­—æ®µã€æ„é€ å™¨ã€æ™®é€šæ–¹æ³•ã€æ–¹æ³•å‚æ•°ä¸Šï¼ŒSpring bootæ¨èæ„é€ å™¨æ³¨å…¥(èƒ½ä¿è¯Beanåˆå§‹åŒ–æ—¶ä¾èµ–å·²æ³¨å…¥ï¼Œé¿å…ç©ºæŒ‡é’ˆ)</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ„é€ å™¨æ³¨å…¥ï¼ˆæ¨èï¼‰</span>
<span class="hljs-meta">@Autowired</span>
<span class="hljs-keyword">public</span> <span class="hljs-title function_">UserController</span><span class="hljs-params">(UserService userService)</span> {
    <span class="hljs-built_in">this</span>.userService = userService;
}

<span class="hljs-comment">// æ–¹æ³•å‚æ•°æ³¨å…¥</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserService</span><span class="hljs-params">(<span class="hljs-meta">@Autowired</span> UserService userService)</span> {
    <span class="hljs-built_in">this</span>.userService = userService;
}
</code></pre>
<p>@Resourceï¼šSpringä¸­ä»…æ”¯æŒæ ‡æ³¨åœ¨å­—æ®µã€setteræ–¹æ³•ä¸Šï¼Œä¸æ”¯æŒæ„é€ å™¨ã€æ™®é€šæ–¹æ³•ã€æ–¹æ³•å‚æ•°</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// å­—æ®µæ³¨å…¥ï¼ˆæ”¯æŒï¼‰</span>
<span class="hljs-meta">@Resource</span>
<span class="hljs-keyword">private</span> UserService userService;

<span class="hljs-comment">// setteræ–¹æ³•æ³¨å…¥ï¼ˆæ”¯æŒï¼‰</span>
<span class="hljs-meta">@Resource</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUserService</span><span class="hljs-params">(UserService userService)</span> {
    <span class="hljs-built_in">this</span>.userService = userService;
}

<span class="hljs-comment">// æ„é€ å™¨æ³¨å…¥ï¼ˆä¸æ”¯æŒï¼ŒSpringä¸­æ— æ•ˆæœï¼‰</span>
<span class="hljs-comment">// @Resource</span>
<span class="hljs-comment">// public UserController(UserService userService) {</span>
<span class="hljs-comment">//     this.userService = userService;</span>
<span class="hljs-comment">// }</span>
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[C#å®ç°PDFé¡µç è‡ªåŠ¨åŒ–æ’å…¥]]></title>    <link>https://juejin.cn/post/7598390244379394086</link>    <guid>https://juejin.cn/post/7598390244379394086</guid>    <pubDate>2026-01-23T09:26:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598390244379394086" data-draft-id="7598390354291703854" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="C#å®ç°PDFé¡µç è‡ªåŠ¨åŒ–æ’å…¥"/> <meta itemprop="keywords" content="åç«¯,C#"/> <meta itemprop="datePublished" content="2026-01-23T09:26:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·835629078051"/> <meta itemprop="url" content="https://juejin.cn/user/3150554985403516"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            C#å®ç°PDFé¡µç è‡ªåŠ¨åŒ–æ’å…¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3150554985403516/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·835629078051
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:26:57.000Z" title="Fri Jan 23 2026 09:26:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d6fcd56f00d94b4482cc5c5c6a426874~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODM1NjI5MDc4MDUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765217&amp;x-signature=c85PWxlCkXBh6wQcRDO99hOyV%2B0%3D" alt="C#å®ç°PDFæ–‡æ¡£é¡µç è‡ªåŠ¨åŒ–æ·»åŠ " loading="lazy"/></p>
<p>åœ¨æ—¥å¸¸çš„æ–‡æ¡£å¤„ç†ä¸­ï¼ŒPDFï¼ˆPortable Document Formatï¼‰ä»¥å…¶è·¨å¹³å°ã€å†…å®¹å›ºå®šä¸å˜çš„ç‰¹æ€§ï¼Œæˆä¸ºæŠ¥å‘Šã€åˆåŒã€ç”µå­ä¹¦ç­‰å„ç±»æ–‡æ¡£å‘å¸ƒå’Œå­˜æ¡£çš„é€šç”¨æ ¼å¼ã€‚ç„¶è€Œï¼Œå½“æ–‡æ¡£é¡µæ•°å¢é•¿æ—¶ï¼Œä¸€ä¸ªçœ‹ä¼¼ç®€å•çš„å…ƒç´ â€”â€”é¡µç ï¼Œä¾¿æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚å®ƒä¸ä»…èƒ½å¸®åŠ©è¯»è€…å¿«é€Ÿå®šä½ä¿¡æ¯ï¼Œä¹Ÿæ˜¯æ–‡æ¡£ä¸“ä¸šæ€§å’Œè§„èŒƒæ€§çš„ä½“ç°ã€‚</p>
<p>å¯¹äºC#å¼€å‘è€…è€Œè¨€ï¼Œé¢å¯¹å¤§é‡éœ€è¦æ·»åŠ é¡µç çš„PDFæ–‡æ¡£æ—¶ï¼Œæ‰‹åŠ¨æ“ä½œæ˜¾ç„¶æ•ˆç‡ä½ä¸‹ä¸”æ˜“å‡ºé”™ã€‚å¦‚ä½•é€šè¿‡ç¼–ç¨‹æ–¹å¼ï¼Œé«˜æ•ˆã€çµæ´»åœ°ä¸ºPDFæ–‡æ¡£è‡ªåŠ¨æ·»åŠ é¡µç ï¼Œæˆä¸ºä¸€ä¸ªå®é™…ä¸”æ™®éçš„éœ€æ±‚ã€‚æœ¬æ–‡å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨C#ï¼Œç»“åˆä¸€æ¬¾å¼ºå¤§çš„.NET PDFå¤„ç†åº“ï¼Œå®ç°ä»åŸºç¡€åˆ°é«˜çº§çš„PDFé¡µç æ’å…¥åŠŸèƒ½ï¼Œè§£å†³C#å¼€å‘è€…åœ¨æ–‡æ¡£è‡ªåŠ¨åŒ–å¤„ç†ä¸­çš„ç—›ç‚¹ã€‚</p>
<hr/>
<h2 data-id="heading-0">å‡†å¤‡å·¥ä½œï¼šåœ¨C#é¡¹ç›®ä¸­é›†æˆPDFå¤„ç†èƒ½åŠ›</h2>
<p>è¦å¼€å§‹åœ¨C#ä¸­æ“ä½œPDFæ–‡æ¡£ï¼Œé¦–å…ˆéœ€è¦å¼•å…¥ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ç¬¬ä¸‰æ–¹åº“ã€‚é€šè¿‡NuGetåŒ…ç®¡ç†å™¨ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°å°†æ‰€éœ€çš„åº“é›†æˆåˆ°é¡¹ç›®ä¸­ã€‚</p>
<h3 data-id="heading-1">1. å®‰è£…å¿…è¦çš„åº“</h3>
<p>æ‰“å¼€Visual Studioï¼Œåœ¨ä½ çš„C#é¡¹ç›®ï¼ˆå¯ä»¥æ˜¯æ§åˆ¶å°åº”ç”¨ã€ASP.NET Coreåº”ç”¨ç­‰ï¼‰ä¸­ï¼Œå³é”®ç‚¹å‡»â€œä¾èµ–é¡¹â€æˆ–â€œå¼•ç”¨â€ï¼Œé€‰æ‹©â€œç®¡ç†NuGetç¨‹åºåŒ…â€ã€‚åœ¨â€œæµè§ˆâ€é€‰é¡¹å¡ä¸­æœç´¢å¹¶å®‰è£…â€œSpire.PDFâ€ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// é€šè¿‡NuGetå®‰è£…ï¼šInstall-Package Spire.PDF</span>
<span class="hljs-comment">// æˆ–åœ¨é¡¹ç›®æ–‡ä»¶ä¸­æ·»åŠ ï¼š</span>
<span class="hljs-comment">// &lt;PackageReference Include="Spire.PDF" Version="X.X.X" /&gt;</span>
</code></pre>
<p>å®‰è£…å®Œæˆåï¼Œä½ çš„é¡¹ç›®å°†æ‹¥æœ‰å¤„ç†PDFæ–‡æ¡£çš„èƒ½åŠ›ã€‚</p>
<h3 data-id="heading-2">2. é¡µç æ’å…¥çš„åŸºæœ¬æ¦‚å¿µ</h3>
<p>åœ¨PDFæ–‡æ¡£ä¸­æ’å…¥é¡µç ï¼Œé€šå¸¸æ¶‰åŠåˆ°ä»¥ä¸‹å‡ ä¸ªåŸºæœ¬æ¦‚å¿µï¼š</p>
<ul>
<li><strong>é¡µçœ‰/é¡µè„šåŒºåŸŸ</strong>: é¡µç é€šå¸¸æ”¾ç½®åœ¨æ–‡æ¡£çš„é¡µçœ‰æˆ–é¡µè„šåŒºåŸŸã€‚</li>
<li><strong>æ–‡æœ¬æ ¼å¼</strong>: é¡µç çš„æ˜¾ç¤ºæ ·å¼ï¼Œå¦‚â€œç¬¬Xé¡µâ€ã€â€œPage X of Yâ€ç­‰ã€‚</li>
<li><strong>ä½ç½®åæ ‡</strong>: åœ¨é¡µé¢ä¸Šçš„ç²¾ç¡®ä½ç½®ï¼Œé€šè¿‡Xã€Yåæ ‡ç¡®å®šã€‚</li>
<li><strong>å­—ä½“æ ·å¼</strong>: å­—ä½“çš„ç±»å‹ã€å¤§å°ã€é¢œè‰²ç­‰ã€‚</li>
<li><strong>é¡µé¢éå†</strong>: å¯¹äºå¤šé¡µPDFæ–‡æ¡£ï¼Œéœ€è¦éå†æ¯ä¸€é¡µå¹¶ç‹¬ç«‹æ’å…¥é¡µç ã€‚</li>
</ul>
<h3 data-id="heading-3">3. æœ€ç®€å•çš„é¡µç æ’å…¥ç¤ºä¾‹</h3>
<p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­å¼€å§‹ï¼Œä¸ºPDFæ–‡æ¡£çš„æ¯ä¸€é¡µåº•éƒ¨ä¸­å¿ƒæ·»åŠ â€œç¬¬Xé¡µâ€çš„é¡µç ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">using</span> Spire.Pdf;
<span class="hljs-keyword">using</span> Spire.Pdf.Graphics;
<span class="hljs-keyword">using</span> System.Drawing;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PdfPageNumberInserter</span>
{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InsertSimplePageNumbers</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> inputFilePath, <span class="hljs-built_in">string</span> outputFilePath</span>)</span>
    {
        <span class="hljs-comment">// åŠ è½½ç°æœ‰PDFæ–‡æ¡£</span>
        PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();
        doc.LoadFromFile(inputFilePath);

        <span class="hljs-comment">// è·å–é¡µé¢æ•°é‡</span>
        <span class="hljs-built_in">int</span> pageCount = doc.Pages.Count;

        <span class="hljs-comment">// éå†æ¯ä¸€é¡µ</span>
        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; pageCount; i++)
        {
            PdfPageBase page = doc.Pages[i];

            <span class="hljs-comment">// åˆ›å»ºå­—ä½“å’Œç”»åˆ·</span>
            PdfTrueTypeFont font = <span class="hljs-keyword">new</span> PdfTrueTypeFont(<span class="hljs-keyword">new</span> Font(<span class="hljs-string">"å®‹ä½“"</span>, <span class="hljs-number">10f</span>, FontStyle.Regular), <span class="hljs-literal">true</span>);
            PdfBrush brush = PdfBrushes.Black;

            <span class="hljs-comment">// æ„å»ºé¡µç æ–‡æœ¬ï¼Œä¾‹å¦‚ "ç¬¬1é¡µ"</span>
            <span class="hljs-built_in">string</span> pageNumberText = <span class="hljs-string">$"ç¬¬<span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span>é¡µ"</span>;

            <span class="hljs-comment">// è®¡ç®—æ–‡æœ¬çš„å®½åº¦å’Œé«˜åº¦</span>
            SizeF textSize = font.MeasureString(pageNumberText);

            <span class="hljs-comment">// è®¡ç®—é¡µç çš„ç»˜åˆ¶ä½ç½® (åº•éƒ¨å±…ä¸­)</span>
            <span class="hljs-built_in">float</span> x = (page.Canvas.ClientSize.Width - textSize.Width) / <span class="hljs-number">2</span>;
            <span class="hljs-built_in">float</span> y = page.Canvas.ClientSize.Height - textSize.Height - <span class="hljs-number">10</span>; <span class="hljs-comment">// è·ç¦»åº•éƒ¨10ä¸ªç‚¹</span>

            <span class="hljs-comment">// åœ¨é¡µé¢ä¸Šç»˜åˆ¶é¡µç </span>
            page.Canvas.DrawString(pageNumberText, font, brush, x, y);
        }

        <span class="hljs-comment">// ä¿å­˜ä¿®æ”¹åçš„PDFæ–‡æ¡£</span>
        doc.SaveToFile(outputFilePath);
        doc.Close();
    }
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Main</span>(<span class="hljs-params"><span class="hljs-built_in">string</span>[] args</span>)</span>
    {
        InsertSimplePageNumbers(<span class="hljs-string">"Sample.pdf"</span>, <span class="hljs-string">"AddPageNumber.pdf"</span>);
    }
}
</code></pre>
<p>è¿™æ®µä»£ç å±•ç¤ºäº†åŠ è½½PDFã€éå†é¡µé¢ã€åˆ›å»ºå­—ä½“ç”»åˆ·ã€è®¡ç®—ä½ç½®å¹¶ç»˜åˆ¶æ–‡æœ¬çš„åŸºæœ¬æµç¨‹ã€‚ç”Ÿæˆçš„PDFæ•ˆæœå¦‚ä¸‹ï¼š</p>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4cf4850bac1e4a5aaf2a97f78cba94f2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODM1NjI5MDc4MDUx:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765217&amp;x-signature=KyU7c8QURYSq19mIEp0PHHQ0xEE%3D" alt="C#æ’å…¥é¡µç åˆ°PDFæ–‡æ¡£" loading="lazy"/></p>
<hr/>
<h2 data-id="heading-4">ç²¾å‡†æ§åˆ¶ï¼šå®šåˆ¶åŒ–é¡µç çš„æ˜¾ç¤ºä¸ä½ç½®</h2>
<p>å®é™…åº”ç”¨ä¸­ï¼Œç®€å•çš„é¡µç å¾€å¾€ä¸è¶³ä»¥æ»¡è¶³éœ€æ±‚ã€‚æˆ‘ä»¬éœ€è¦æ›´çµæ´»åœ°æ§åˆ¶é¡µç çš„æ ¼å¼ã€ä½ç½®å’Œæ˜¾ç¤ºé€»è¾‘ã€‚</p>
<h3 data-id="heading-5">1. è‡ªå®šä¹‰é¡µç æ ¼å¼</h3>
<p>å¸¸è§çš„é¡µç æ ¼å¼æœ‰â€œç¬¬Xé¡µï¼Œå…±Yé¡µâ€ã€â€œPage X of Yâ€ç­‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å­—ç¬¦ä¸²æ ¼å¼åŒ–æ¥å®ç°ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// åœ¨å¾ªç¯å†…éƒ¨ä¿®æ”¹é¡µç æ–‡æœ¬æ„å»ºé€»è¾‘</span>
<span class="hljs-comment">// ä¾‹å¦‚ï¼š"ç¬¬Xé¡µï¼Œå…±Yé¡µ"</span>
<span class="hljs-built_in">string</span> pageNumberText = <span class="hljs-string">$"ç¬¬<span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span>é¡µï¼Œå…±<span class="hljs-subst">{pageCount}</span>é¡µ"</span>;

<span class="hljs-comment">// ä¾‹å¦‚ï¼š"Page X of Y"</span>
<span class="hljs-comment">// string pageNumberText = $"Page {i + 1} of {pageCount}";</span>
</code></pre>
<h3 data-id="heading-6">2. æŒ‡å®šé¡µç ä½ç½®</h3>
<p>é¡µç å¯ä»¥æ”¾ç½®åœ¨é¡µé¢çš„å·¦ã€ä¸­ã€å³ï¼Œä»¥åŠé¡µçœ‰æˆ–é¡µè„šã€‚é€šè¿‡è°ƒæ•´Xã€Yåæ ‡å³å¯å®ç°ã€‚</p>








































<table><thead><tr><th align="left">ä½ç½®</th><th align="left">X åæ ‡è®¡ç®—</th><th align="left">Y åæ ‡è®¡ç®—</th></tr></thead><tbody><tr><td align="left"><strong>é¡µè„šå·¦ä¾§</strong></td><td align="left"><code>10</code> (è·ç¦»å·¦è¾¹ç¼˜10ç‚¹)</td><td align="left"><code>page.Canvas.ClientSize.Height - textSize.Height - 10</code></td></tr><tr><td align="left"><strong>é¡µè„šå±…ä¸­</strong></td><td align="left"><code>(page.Canvas.ClientSize.Width - textSize.Width) / 2</code></td><td align="left"><code>page.Canvas.ClientSize.Height - textSize.Height - 10</code></td></tr><tr><td align="left"><strong>é¡µè„šå³ä¾§</strong></td><td align="left"><code>page.Canvas.ClientSize.Width - textSize.Width - 10</code></td><td align="left"><code>page.Canvas.ClientSize.Height - textSize.Height - 10</code></td></tr><tr><td align="left"><strong>é¡µçœ‰å·¦ä¾§</strong></td><td align="left"><code>10</code></td><td align="left"><code>10</code> (è·ç¦»ä¸Šè¾¹ç¼˜10ç‚¹)</td></tr><tr><td align="left"><strong>é¡µçœ‰å±…ä¸­</strong></td><td align="left"><code>(page.Canvas.ClientSize.Width - textSize.Width) / 2</code></td><td align="left"><code>10</code></td></tr><tr><td align="left"><strong>é¡µçœ‰å³ä¾§</strong></td><td align="left"><code>page.Canvas.ClientSize.Width - textSize.Width - 10</code></td><td align="left"><code>10</code></td></tr></tbody></table>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªåœ¨é¡µè„šå³ä¾§æ·»åŠ é¡µç çš„ç¤ºä¾‹ï¼š</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InsertRightAlignedPageNumbers</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> inputFilePath, <span class="hljs-built_in">string</span> outputFilePath</span>)</span>
{
    PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();
    doc.LoadFromFile(inputFilePath);
    <span class="hljs-built_in">int</span> pageCount = doc.Pages.Count;

    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; pageCount; i++)
    {
        PdfPageBase page = doc.Pages[i];
        PdfTrueTypeFont font = <span class="hljs-keyword">new</span> PdfTrueTypeFont(<span class="hljs-keyword">new</span> Font(<span class="hljs-string">"Arial"</span>, <span class="hljs-number">10f</span>, FontStyle.Regular), <span class="hljs-literal">true</span>);
        PdfBrush brush = PdfBrushes.Black;

        <span class="hljs-built_in">string</span> pageNumberText = <span class="hljs-string">$"Page <span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span> of <span class="hljs-subst">{pageCount}</span>"</span>;
        SizeF textSize = font.MeasureString(pageNumberText);

        <span class="hljs-comment">// é¡µè„šå³ä¾§å¯¹é½</span>
        <span class="hljs-built_in">float</span> x = page.Canvas.ClientSize.Width - textSize.Width - <span class="hljs-number">20</span>; <span class="hljs-comment">// è·ç¦»å³è¾¹ç¼˜20ä¸ªç‚¹</span>
        <span class="hljs-built_in">float</span> y = page.Canvas.ClientSize.Height - textSize.Height - <span class="hljs-number">20</span>; <span class="hljs-comment">// è·ç¦»åº•éƒ¨20ä¸ªç‚¹</span>

        page.Canvas.DrawString(pageNumberText, font, brush, x, y);
    }
    doc.SaveToFile(outputFilePath);
    doc.Close();
}
</code></pre>
<h3 data-id="heading-7">3. æ’é™¤é¦–é¡µæˆ–ä»æŒ‡å®šé¡µå¼€å§‹è®¡æ•°</h3>
<p>åœ¨æŠ¥å‘Šæˆ–ä¹¦ç±ä¸­ï¼Œå°é¢é¡µé€šå¸¸ä¸æ˜¾ç¤ºé¡µç ï¼Œæˆ–é¡µç ä»ç¬¬äºŒé¡µå¼€å§‹è®¡æ•°ã€‚è¿™å¯ä»¥é€šè¿‡ç®€å•çš„æ¡ä»¶åˆ¤æ–­å®ç°ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InsertPageNumbersExcludingFirstPage</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> inputFilePath, <span class="hljs-built_in">string</span> outputFilePath</span>)</span>
{
    PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();
    doc.LoadFromFile(inputFilePath);
    <span class="hljs-built_in">int</span> pageCount = doc.Pages.Count;

    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; pageCount; i++)
    {
        <span class="hljs-comment">// æ’é™¤ç¬¬ä¸€é¡µ (ç´¢å¼•ä¸º0)</span>
        <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span>) <span class="hljs-keyword">continue</span>; 

        PdfPageBase page = doc.Pages[i];
        PdfTrueTypeFont font = <span class="hljs-keyword">new</span> PdfTrueTypeFont(<span class="hljs-keyword">new</span> Font(<span class="hljs-string">"Arial"</span>, <span class="hljs-number">10f</span>, FontStyle.Regular), <span class="hljs-literal">true</span>);
        PdfBrush brush = PdfBrushes.Black;

        <span class="hljs-comment">// é¡µç ä»1å¼€å§‹ï¼Œä½†å®é™…æ˜¯æ–‡æ¡£çš„ç¬¬2é¡µ</span>
        <span class="hljs-built_in">string</span> pageNumberText = <span class="hljs-string">$"Page <span class="hljs-subst">{i}</span> of <span class="hljs-subst">{pageCount - <span class="hljs-number">1</span>}</span>"</span>; <span class="hljs-comment">// å¦‚æœæ€»é¡µæ•°ä¹Ÿå‡å»é¦–é¡µï¼Œåˆ™ç”¨pageCount-1</span>

        SizeF textSize = font.MeasureString(pageNumberText);
        <span class="hljs-built_in">float</span> x = page.Canvas.ClientSize.Width - textSize.Width - <span class="hljs-number">20</span>;
        <span class="hljs-built_in">float</span> y = page.Canvas.ClientSize.Height - textSize.Height - <span class="hljs-number">20</span>;

        page.Canvas.DrawString(pageNumberText, font, brush, x, y);
    }
    doc.SaveToFile(outputFilePath);
    doc.Close();
}
</code></pre>
<h3 data-id="heading-8">4. è®¾ç½®é¡µç æ ·å¼ï¼šå­—ä½“ã€å­—å·ã€é¢œè‰²</h3>
<p><code>PdfFont</code> å’Œ <code>PdfBrush</code> å¯¹è±¡å…è®¸æˆ‘ä»¬å®Œå…¨æ§åˆ¶é¡µç çš„è§†è§‰æ ·å¼ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-comment">// å­—ä½“ï¼šArial, 12å·å­—, åŠ ç²—æ–œä½“</span>
PdfTrueTypeFont font = <span class="hljs-keyword">new</span> PdfTrueTypeFont(<span class="hljs-keyword">new</span> Font(<span class="hljs-string">"Arial"</span>, <span class="hljs-number">12f</span>, FontStyle.Bold | FontStyle.Italic), <span class="hljs-literal">true</span>);

<span class="hljs-comment">// é¢œè‰²ï¼šæ·±è“è‰²</span>
PdfBrush brush = <span class="hljs-keyword">new</span> PdfSolidBrush(Color.DarkBlue);

<span class="hljs-comment">// ç»˜åˆ¶é¡µç </span>
page.Canvas.DrawString(pageNumberText, font, brush, x, y);
</code></pre>
<h3 data-id="heading-9">5. é«˜çº§å¸ƒå±€ï¼šç»“åˆé¡µçœ‰é¡µè„š</h3>
<p>é™¤äº†ç®€å•çš„é¡µç ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å°†é¡µç ä½œä¸ºé¡µçœ‰æˆ–é¡µè„šçš„ä¸€éƒ¨åˆ†ï¼Œä¸å…¶ä»–æ–‡æœ¬ã€å›¾ç‰‡ç­‰å…ƒç´ ç»“åˆã€‚è¿™é€šå¸¸æ¶‰åŠåˆ°åœ¨é¡µé¢çš„å›ºå®šåŒºåŸŸç»˜åˆ¶å¤šä¸ªå…ƒç´ ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">InsertComplexFooter</span>(<span class="hljs-params"><span class="hljs-built_in">string</span> inputFilePath, <span class="hljs-built_in">string</span> outputFilePath</span>)</span>
{
    PdfDocument doc = <span class="hljs-keyword">new</span> PdfDocument();
    doc.LoadFromFile(inputFilePath);
    <span class="hljs-built_in">int</span> pageCount = doc.Pages.Count;

    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; pageCount; i++)
    {
        PdfPageBase page = doc.Pages[i];
        PdfGraphics graphics = page.Canvas;

        <span class="hljs-comment">// é¡µç å­—ä½“å’Œç”»åˆ·</span>
        PdfTrueTypeFont pageNumFont = <span class="hljs-keyword">new</span> PdfTrueTypeFont(<span class="hljs-keyword">new</span> Font(<span class="hljs-string">"Arial"</span>, <span class="hljs-number">9f</span>, FontStyle.Italic), <span class="hljs-literal">true</span>);
        PdfBrush pageNumBrush = PdfBrushes.Gray;
        <span class="hljs-built_in">string</span> pageNumberText = <span class="hljs-string">$"Page <span class="hljs-subst">{i + <span class="hljs-number">1</span>}</span> of <span class="hljs-subst">{pageCount}</span>"</span>;
        SizeF pageNumSize = pageNumFont.MeasureString(pageNumberText);

        <span class="hljs-comment">// å…¶ä»–é¡µè„šæ–‡æœ¬</span>
        PdfTrueTypeFont footerFont = <span class="hljs-keyword">new</span> PdfTrueTypeFont(<span class="hljs-keyword">new</span> Font(<span class="hljs-string">"Verdana"</span>, <span class="hljs-number">8f</span>, FontStyle.Regular), <span class="hljs-literal">true</span>);
        PdfBrush footerBrush = PdfBrushes.DarkGray;
        <span class="hljs-built_in">string</span> footerText = <span class="hljs-string">"Generated by C# PDF Automation Tool"</span>;
        SizeF footerTextSize = footerFont.MeasureString(footerText);

        <span class="hljs-comment">// ç»˜åˆ¶é¡µç  (å³ä¸‹è§’)</span>
        <span class="hljs-built_in">float</span> pageNumX = graphics.ClientSize.Width - pageNumSize.Width - <span class="hljs-number">20</span>;
        <span class="hljs-built_in">float</span> pageNumY = graphics.ClientSize.Height - pageNumSize.Height - <span class="hljs-number">15</span>;
        graphics.DrawString(pageNumberText, pageNumFont, pageNumBrush, pageNumX, pageNumY);

        <span class="hljs-comment">// ç»˜åˆ¶å…¶ä»–é¡µè„šæ–‡æœ¬ (å·¦ä¸‹è§’)</span>
        <span class="hljs-built_in">float</span> footerTextX = <span class="hljs-number">20</span>;
        <span class="hljs-built_in">float</span> footerTextY = graphics.ClientSize.Height - footerTextSize.Height - <span class="hljs-number">15</span>;
        graphics.DrawString(footerText, footerFont, footerBrush, footerTextX, footerTextY);

        <span class="hljs-comment">// ç»˜åˆ¶ä¸€æ¡åˆ†éš”çº¿</span>
        PdfPen linePen = <span class="hljs-keyword">new</span> PdfPen(PdfBrushes.LightGray, <span class="hljs-number">0.5f</span>);
        graphics.DrawLine(linePen, <span class="hljs-number">20</span>, footerTextY - <span class="hljs-number">5</span>, graphics.ClientSize.Width - <span class="hljs-number">20</span>, footerTextY - <span class="hljs-number">5</span>);
    }
    doc.SaveToFile(outputFilePath);
    doc.Close();
}
</code></pre>
<hr/>
<h2 data-id="heading-10">ä¼˜åŒ–ä¸è€ƒé‡ï¼šæå‡é¡µç æ’å…¥çš„æ•ˆç‡ä¸å…¼å®¹æ€§</h2>
<p>åœ¨å®é™…éƒ¨ç½²å’Œä½¿ç”¨è¿™äº›åŠŸèƒ½æ—¶ï¼Œè¿˜éœ€è¦è€ƒè™‘ä¸€äº›æ€§èƒ½ã€å…¼å®¹æ€§ä»¥åŠé”™è¯¯å¤„ç†æ–¹é¢çš„é—®é¢˜ã€‚</p>
<h3 data-id="heading-11">1. å¤„ç†å¤§å‹PDFæ–‡æ¡£çš„æ€§èƒ½è€ƒè™‘</h3>
<p>å¯¹äºåŒ…å«æ•°ç™¾ç”šè‡³æ•°åƒé¡µçš„PDFæ–‡æ¡£ï¼Œé€é¡µç»˜åˆ¶é¡µç å¯èƒ½ä¼šæ¶ˆè€—è¾ƒå¤šæ—¶é—´ã€‚<code>Spire.PDF</code> åœ¨å†…éƒ¨è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä½†ä»éœ€æ³¨æ„ï¼š</p>
<ul>
<li><strong>é¿å…ä¸å¿…è¦çš„é‡å¤æ“ä½œ</strong>: ä¾‹å¦‚ï¼Œå­—ä½“å’Œç”»åˆ·å¯¹è±¡å¯ä»¥åœ¨å¾ªç¯å¤–éƒ¨åˆ›å»ºä¸€æ¬¡ï¼Œè€Œä¸æ˜¯åœ¨æ¯æ¬¡é¡µé¢è¿­ä»£ä¸­é‡å¤åˆ›å»ºã€‚</li>
<li><strong>èµ„æºé‡Šæ”¾</strong>: ç¡®ä¿åœ¨ä½¿ç”¨å®Œæ¯•åè°ƒç”¨ <code>doc.Close()</code> é‡Šæ”¾PDFæ–‡æ¡£èµ„æºã€‚</li>
<li><strong>å¤šçº¿ç¨‹/å¼‚æ­¥å¤„ç†</strong>: å¯¹äºæå…¶åºå¤§çš„æ–‡æ¡£ï¼Œå¯ä»¥è€ƒè™‘å°†PDFæ‹†åˆ†ä¸ºå¤šä¸ªéƒ¨åˆ†ï¼Œç„¶åå¹¶è¡Œå¤„ç†ï¼Œæœ€åå†åˆå¹¶ã€‚ä½†è¿™ä¼šå¢åŠ ä»£ç å¤æ‚æ€§ï¼Œé€šå¸¸åœ¨æç«¯æƒ…å†µä¸‹æ‰éœ€è¦ã€‚</li>
</ul>
<h3 data-id="heading-12">2. é¡µç ä¸ç°æœ‰é¡µé¢å†…å®¹çš„å†²çªå¤„ç†</h3>
<p>PDFæ–‡æ¡£å¯èƒ½å·²ç»åŒ…å«æ–‡æœ¬ã€å›¾ç‰‡æˆ–å›¾å½¢ã€‚æ’å…¥é¡µç æ—¶ï¼Œéœ€è¦ç¡®ä¿å®ƒä¸ä¼šè¦†ç›–ç°æœ‰å…³é”®å†…å®¹ã€‚</p>
<ul>
<li><strong>é€‰æ‹©åˆé€‚çš„è¾¹è·</strong>: é¢„ç•™è¶³å¤Ÿçš„é¡µçœ‰/é¡µè„šç©ºé—´ï¼Œç¡®ä¿é¡µç ä¸ä¼šä¸æ–‡æ¡£ä¸»ä½“å†…å®¹é‡å ã€‚</li>
<li><strong>é€æ˜åº¦</strong>: å¦‚æœé¡µç å¿…é¡»ä¸ç°æœ‰å†…å®¹é‡å ï¼Œå¯ä»¥è€ƒè™‘è®¾ç½®é¡µç æ–‡æœ¬çš„é€æ˜åº¦ï¼Œä½†é€šå¸¸ä¸æ¨èã€‚</li>
<li><strong>é¢„æ£€æŸ¥</strong>: å¯¹äºé«˜åº¦å®šåˆ¶åŒ–çš„PDFï¼Œå¯èƒ½éœ€è¦å…ˆè§£æé¡µé¢å†…å®¹ï¼Œåˆ¤æ–­å“ªäº›åŒºåŸŸæ˜¯å®‰å…¨çš„ï¼Œä½†è¿™è¶…å‡ºäº†ç®€å•é¡µç æ’å…¥çš„èŒƒç•´ã€‚</li>
</ul>
<h3 data-id="heading-13">3. é”™è¯¯å¤„ç†å’Œå¼‚å¸¸æ•è·</h3>
<p>åœ¨æ–‡ä»¶æ“ä½œå’ŒPDFå¤„ç†è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°å„ç§å¼‚å¸¸ï¼Œå¦‚æ–‡ä»¶ä¸å­˜åœ¨ã€æ–‡ä»¶æŸåã€æƒé™ä¸è¶³ç­‰ã€‚è‰¯å¥½çš„å¼‚å¸¸å¤„ç†æœºåˆ¶æ˜¯å¥å£®åº”ç”¨ç¨‹åºçš„å…³é”®ã€‚</p>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">try</span>
{
    <span class="hljs-comment">// ... PDFå¤„ç†ä»£ç  ...</span>
    InsertSimplePageNumbers(<span class="hljs-string">"input.pdf"</span>, <span class="hljs-string">"output.pdf"</span>);
}
<span class="hljs-keyword">catch</span> (FileNotFoundException ex)
{
    Console.WriteLine(<span class="hljs-string">$"é”™è¯¯ï¼šæ–‡ä»¶æœªæ‰¾åˆ°ã€‚<span class="hljs-subst">{ex.Message}</span>"</span>);
}
<span class="hljs-keyword">catch</span> (PdfException ex)
{
    Console.WriteLine(<span class="hljs-string">$"PDFå¤„ç†é”™è¯¯ï¼š<span class="hljs-subst">{ex.Message}</span>"</span>);
}
<span class="hljs-keyword">catch</span> (Exception ex)
{
    Console.WriteLine(<span class="hljs-string">$"å‘ç”ŸæœªçŸ¥é”™è¯¯ï¼š<span class="hljs-subst">{ex.Message}</span>"</span>);
}
</code></pre>
<h3 data-id="heading-14">4. æœ€ä½³å®è·µå»ºè®®</h3>
<ul>
<li><strong>æ¨¡å—åŒ–ä»£ç </strong>: å°†é¡µç æ’å…¥é€»è¾‘å°è£…æˆç‹¬ç«‹çš„å‡½æ•°æˆ–ç±»ï¼Œæé«˜ä»£ç çš„å¯é‡ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</li>
<li><strong>é…ç½®åŒ–å¤„ç†</strong>: å¯¹äºé¡µç çš„å­—ä½“ã€é¢œè‰²ã€ä½ç½®ã€æ ¼å¼ç­‰å‚æ•°ï¼Œå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æˆ–æ–¹æ³•å‚æ•°è¿›è¡Œé…ç½®ï¼Œå¢åŠ çµæ´»æ€§ã€‚</li>
<li><strong>ç‰ˆæœ¬æ§åˆ¶</strong>: éšç€PDFå¤„ç†åº“çš„æ›´æ–°ï¼ŒAPIå¯èƒ½ä¼šæœ‰å˜åŒ–ï¼ŒåŠæ—¶å…³æ³¨å¹¶æ›´æ–°ä»£ç ã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-15">ç»“è®º</h2>
<p>é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†è®²è§£å’Œä»£ç ç¤ºä¾‹ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†C#ç»“åˆå¼ºå¤§çš„.NET PDFå¤„ç†åº“ï¼Œèƒ½å¤Ÿé«˜æ•ˆã€çµæ´»åœ°ä¸ºPDFæ–‡æ¡£æ’å…¥é¡µç ã€‚ä»ç®€å•çš„é¡µç æ·»åŠ ï¼Œåˆ°è‡ªå®šä¹‰æ ¼å¼ã€ä½ç½®ã€æ ·å¼ï¼Œä¹ƒè‡³æ’é™¤ç‰¹å®šé¡µé¢æˆ–ä¸å…¶ä»–é¡µè„šå…ƒç´ ç»“åˆï¼ŒC#éƒ½æä¾›äº†ä¸°å¯Œçš„æ§åˆ¶èƒ½åŠ›ã€‚</p>
<p>ç¼–ç¨‹æ–¹å¼æ’å…¥é¡µç ä¸ä»…è§£å†³äº†æ‰‹åŠ¨æ“ä½œçš„ç—›ç‚¹ï¼Œæ›´èµ‹äºˆäº†å¼€å‘è€…åœ¨è‡ªåŠ¨åŒ–æ–‡æ¡£å¤„ç†é¢†åŸŸå·¨å¤§çš„æ½œåŠ›ã€‚æ— è®ºæ˜¯ç”ŸæˆæŠ¥å‘Šã€æ‰¹é‡å¤„ç†åˆåŒï¼Œè¿˜æ˜¯åˆ›å»ºç»“æ„åŒ–çš„ç”µå­æ–‡æ¡£ï¼ŒæŒæ¡è¿™äº›æŠ€å·§éƒ½å°†æå¤§åœ°æå‡ä½ çš„å¼€å‘æ•ˆç‡å’Œåº”ç”¨ä»·å€¼ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ç§»åŠ¨ç«¯1pxé—®é¢˜è¯¦è§£]]></title>    <link>https://juejin.cn/post/7598333055544918056</link>    <guid>https://juejin.cn/post/7598333055544918056</guid>    <pubDate>2026-01-23T09:15:12.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598333055544918056" data-draft-id="7598333055544901672" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ç§»åŠ¨ç«¯1pxé—®é¢˜è¯¦è§£"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T09:15:12.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¨œå¦¹å­è¾£"/> <meta itemprop="url" content="https://juejin.cn/user/3421335918747976"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ç§»åŠ¨ç«¯1pxé—®é¢˜è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3421335918747976/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¨œå¦¹å­è¾£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:15:12.000Z" title="Fri Jan 23 2026 09:15:12 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ğŸ¯ é—®é¢˜èƒŒæ™¯</h2>
<h3 data-id="heading-1">ä¸ºä»€ä¹ˆç§»åŠ¨ç«¯1pxçœ‹èµ·æ¥å¾ˆç²—ï¼Ÿ</h3>
<p>åœ¨ç§»åŠ¨ç«¯ï¼Œç”±äºè®¾å¤‡åƒç´ æ¯”ï¼ˆDPRï¼‰çš„å­˜åœ¨ï¼ŒCSSä¸­çš„1pxå¹¶ä¸ç­‰äºç‰©ç†åƒç´ çš„1pxã€‚</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">JavaScript</span>
<span class="hljs-comment">// æŸ¥çœ‹è®¾å¤‡åƒç´ æ¯”</span>
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span>);

<span class="hljs-comment">// å¸¸è§è®¾å¤‡åƒç´ æ¯”ï¼š</span>
<span class="hljs-comment">// iPhone 6/7/8: 2</span>
<span class="hljs-comment">// iPhone 6/7/8 Plus: 3  </span>
<span class="hljs-comment">// iPhone X/11/12: 3</span>
<span class="hljs-comment">// å¤§éƒ¨åˆ†Android: 2-3</span>
</code></pre>
<p><strong>é—®é¢˜åŸç†ï¼š</strong></p>
<ul>
<li>CSSçš„1px = è®¾å¤‡åƒç´ æ¯” Ã— ç‰©ç†åƒç´ </li>
<li>iPhone 6ä¸Šï¼š1px CSS = 2px ç‰©ç†åƒç´ </li>
<li>æ‰€ä»¥çœ‹èµ·æ¥æ¯”è®¾è®¡ç¨¿ç²—ä¸€å€</li>
</ul>
<hr/>
<h2 data-id="heading-2">ğŸ”§ è§£å†³æ–¹æ¡ˆå¯¹æ¯”</h2>






















































<table><thead><tr><th>æ–¹æ¡ˆ</th><th>ä¼˜ç‚¹</th><th>ç¼ºç‚¹</th><th>å…¼å®¹æ€§</th><th>æ¨èåº¦</th></tr></thead><tbody><tr><td><strong>transform: scale</strong></td><td>ç®€å•æ˜“ç”¨</td><td>å ç”¨ç©ºé—´ä¸å˜</td><td>ä¼˜ç§€</td><td>â­â­â­â­â­</td></tr><tr><td><strong>viewport + rem</strong></td><td>æ•´ä½“è§£å†³</td><td>å½±å“å…¨å±€</td><td>ä¼˜ç§€</td><td>â­â­â­â­</td></tr><tr><td><strong>border-image</strong></td><td>æ•ˆæœå®Œç¾</td><td>ä»£ç å¤æ‚</td><td>ä¼˜ç§€</td><td>â­â­â­</td></tr><tr><td><strong>box-shadow</strong></td><td>å…¼å®¹æ€§å¥½</td><td>æ€§èƒ½ä¸€èˆ¬</td><td>ä¼˜ç§€</td><td>â­â­â­</td></tr><tr><td><strong>ä¼ªå…ƒç´ </strong></td><td>çµæ´»æ€§é«˜</td><td>ä»£ç è¾ƒå¤š</td><td>ä¼˜ç§€</td><td>â­â­â­â­</td></tr><tr><td><strong>SVG</strong></td><td>çŸ¢é‡å®Œç¾</td><td>å¤æ‚åº¦é«˜</td><td>ç°ä»£æµè§ˆå™¨</td><td>â­â­</td></tr></tbody></table>
<h3 data-id="heading-3">å…³é”®è¦ç‚¹</h3>
<ol>
<li><strong>æ‰€æœ‰CSSåƒç´ éƒ½ä¼šç­‰æ¯”ä¾‹ç¼©æ”¾</strong>ï¼Œä¸åªæ˜¯1px</li>
<li><strong>1pxé—®é¢˜ç‰¹åˆ«æ˜æ˜¾</strong>æ˜¯å› ä¸ºç»†çº¿çš„è§†è§‰æ•æ„Ÿåº¦é«˜</li>
<li><strong>å…¶ä»–å°ºå¯¸çš„ç¼©æ”¾é€šå¸¸æ˜¯æœŸæœ›çš„</strong>ï¼Œä¿è¯äº†å¯è¯»æ€§å’Œå¯ç”¨æ€§</li>
<li><strong>è§£å†³æ–¹æ¡ˆä¸»è¦é’ˆå¯¹è¾¹æ¡†</strong>ï¼Œå› ä¸ºè¿™æ˜¯æœ€å½±å“è§†è§‰æ•ˆæœçš„</li>
</ol>
<hr/>
<h2 data-id="heading-4">1ï¸âƒ£ Transform Scale æ–¹æ¡ˆï¼ˆæ¨èï¼‰</h2>
<h3 data-id="heading-5">åŸºæœ¬å®ç°</h3>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-comment">/* ä¸Šè¾¹æ¡†1px */</span>
<span class="hljs-selector-class">.border-1px-top</span> {
  <span class="hljs-attribute">position</span>: relative;
}

<span class="hljs-selector-class">.border-1px-top</span><span class="hljs-selector-pseudo">::before</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#e5e5e5</span>;
  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span>;
}

<span class="hljs-comment">/* æ ¹æ®è®¾å¤‡åƒç´ æ¯”ç¼©æ”¾ */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">2</span>) {
  <span class="hljs-selector-class">.border-1px-top</span><span class="hljs-selector-pseudo">::before</span> {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.5</span>);
  }
}

<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">3</span>) {
  <span class="hljs-selector-class">.border-1px-top</span><span class="hljs-selector-pseudo">::before</span> {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.33</span>);
  }
}
</code></pre>
<h3 data-id="heading-6">å®Œæ•´å››è¾¹æ¡†å®ç°</h3>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-selector-class">.border-1px</span> {
  <span class="hljs-attribute">position</span>: relative;
}

<span class="hljs-selector-class">.border-1px</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">200%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">200%</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e5e5e5</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.5</span>);
  <span class="hljs-attribute">box-sizing</span>: border-box;
  <span class="hljs-attribute">pointer-events</span>: none;
}

<span class="hljs-comment">/* 3å€å±é€‚é… */</span>
<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">3</span>) {
  <span class="hljs-selector-class">.border-1px</span><span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">300%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">300%</span>;
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.33</span>);
  }
}
</code></pre>
<h3 data-id="heading-7">Sass Mixinå°è£…</h3>
<pre><code class="hljs language-css" lang="css">scss
<span class="hljs-keyword">@mixin</span> border-<span class="hljs-number">1px</span>($<span class="hljs-attribute">color</span>: #e5e5e5, $<span class="hljs-attribute">radius</span>: <span class="hljs-number">0</span>, $<span class="hljs-attribute">style</span>: solid) {
  <span class="hljs-attribute">position</span>: relative;
  
  &amp;<span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
    <span class="hljs-attribute">position</span>: absolute;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">width</span>: <span class="hljs-number">200%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">200%</span>;
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> $style $color;
    <span class="hljs-attribute">border-radius</span>: $radius * <span class="hljs-number">2</span>;
    <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span>;
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.5</span>);
    <span class="hljs-attribute">box-sizing</span>: border-box;
    <span class="hljs-attribute">pointer-events</span>: none;
  }
  
  <span class="hljs-keyword">@media</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">3</span>) {
    &amp;<span class="hljs-selector-pseudo">::after</span> {
      <span class="hljs-attribute">width</span>: <span class="hljs-number">300%</span>;
      <span class="hljs-attribute">height</span>: <span class="hljs-number">300%</span>;
      <span class="hljs-attribute">border-radius</span>: $radius * <span class="hljs-number">3</span>;
      <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.33</span>);
    }
  }
}

// ä½¿ç”¨
<span class="hljs-selector-class">.card</span> {
  <span class="hljs-keyword">@include</span> border-<span class="hljs-number">1px</span>(#ddd, <span class="hljs-number">4px</span>);
}
</code></pre>
<h3 data-id="heading-8">JavaScriptåŠ¨æ€é€‚é…</h3>
<pre><code class="hljs language-ini" lang="ini">JavaScript
// åŠ¨æ€è®¾ç½®1pxè¾¹æ¡†
function setBorder1px() {
  const <span class="hljs-attr">dpr</span> = window.devicePixelRatio || <span class="hljs-number">1</span><span class="hljs-comment">;</span>
  const <span class="hljs-attr">scale</span> = <span class="hljs-number">1</span> / dpr<span class="hljs-comment">;</span>
  
  // åˆ›å»ºæ ·å¼
  const <span class="hljs-attr">style</span> = document.createElement(<span class="hljs-string">'style'</span>)<span class="hljs-comment">;</span>
  <span class="hljs-attr">style.innerHTML</span> = `
    .border-1px::after {
      transform: scale(${scale})<span class="hljs-comment">;</span>
      width: ${100 * dpr}%<span class="hljs-comment">;</span>
      height: ${100 * dpr}%<span class="hljs-comment">;</span>
    }
  `<span class="hljs-comment">;</span>
  document.head.appendChild(style)<span class="hljs-comment">;</span>
}

setBorder1px()<span class="hljs-comment">;</span>
</code></pre>
<hr/>
<h2 data-id="heading-9">2ï¸âƒ£ Viewport + Rem æ–¹æ¡ˆ</h2>
<h3 data-id="heading-10">åŸç†</h3>
<p>é€šè¿‡è®¾ç½®viewportçš„initial-scaleæ¥ç¼©æ”¾æ•´ä¸ªé¡µé¢ï¼Œç„¶åç”¨remæ”¾å¤§å†…å®¹ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">JavaScript
// è®¾ç½®viewportå’Œæ ¹å­—ä½“å¤§å°
(function() {
  const <span class="hljs-attr">dpr</span> = window.devicePixelRatio || <span class="hljs-number">1</span><span class="hljs-comment">;</span>
  const <span class="hljs-attr">scale</span> = <span class="hljs-number">1</span> / dpr<span class="hljs-comment">;</span>
  
  // è®¾ç½®viewport
  const <span class="hljs-attr">viewport</span> = document.querySelector(<span class="hljs-string">'meta[name="viewport"]'</span>)<span class="hljs-comment">;</span>
  if (viewport) {
    viewport.setAttribute('content', 
      `<span class="hljs-attr">width</span>=device-width,initial-scale=<span class="hljs-variable">${scale}</span>,maximum-scale=<span class="hljs-variable">${scale}</span>,minimum-scale=<span class="hljs-variable">${scale}</span>,user-scalable=<span class="hljs-literal">no</span>`
    )<span class="hljs-comment">;</span>
  }
  
  // è®¾ç½®æ ¹å­—ä½“å¤§å°
  const <span class="hljs-attr">docEl</span> = document.documentElement<span class="hljs-comment">;</span>
  const <span class="hljs-attr">fontsize</span> = <span class="hljs-number">16</span> * dpr<span class="hljs-comment">;</span>
  <span class="hljs-attr">docEl.style.fontSize</span> = fontsize + <span class="hljs-string">'px'</span><span class="hljs-comment">;</span>
})()<span class="hljs-comment">;</span>
</code></pre>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-comment">/* CSSä¸­æ­£å¸¸å†™1px */</span>
<span class="hljs-selector-class">.border</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e5e5e5</span>;
}

<span class="hljs-comment">/* å…¶ä»–å°ºå¯¸ç”¨rem */</span>
<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">7.5rem</span>;        <span class="hljs-comment">/* åœ¨2å€å±ä¸‹å®é™…æ˜¯240px */</span>
  <span class="hljs-attribute">height</span>: <span class="hljs-number">10rem</span>;        <span class="hljs-comment">/* åœ¨2å€å±ä¸‹å®é™…æ˜¯320px */</span>
  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">0.32rem</span>;   <span class="hljs-comment">/* åœ¨2å€å±ä¸‹å®é™…æ˜¯16px */</span>
}
</code></pre>
<h3 data-id="heading-11">å®Œæ•´å®ç°</h3>
<pre><code class="hljs language-xml" lang="xml">HTML
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"width=device-width,initial-scale=1"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    !<span class="hljs-keyword">function</span>(<span class="hljs-params">e,t</span>){
      <span class="hljs-keyword">var</span> n=t.<span class="hljs-property">documentElement</span>,
          d=e.<span class="hljs-property">devicePixelRatio</span>||<span class="hljs-number">1</span>,
          i=<span class="hljs-number">1</span>/d,
          o=n.<span class="hljs-title function_">getAttribute</span>(<span class="hljs-string">"data-dpr"</span>)||d;
      
      <span class="hljs-comment">// è®¾ç½®data-dprå±æ€§</span>
      n.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">"data-dpr"</span>,o);
      
      <span class="hljs-comment">// è®¾ç½®viewport</span>
      <span class="hljs-keyword">var</span> a=t.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'meta[name="viewport"]'</span>);
      a.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">"content"</span>,<span class="hljs-string">"width=device-width,initial-scale="</span>+i+<span class="hljs-string">",maximum-scale="</span>+i+<span class="hljs-string">", minimum-scale="</span>+i+<span class="hljs-string">",user-scalable=no"</span>);
      
      <span class="hljs-comment">// è®¾ç½®æ ¹å­—ä½“å¤§å°</span>
      <span class="hljs-keyword">var</span> s=<span class="hljs-number">16</span>*d;
      n.<span class="hljs-property">style</span>.<span class="hljs-property">fontSize</span>=s+<span class="hljs-string">"px"</span>
    }(<span class="hljs-variable language_">window</span>,<span class="hljs-variable language_">document</span>);
  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>
</code></pre>
<hr/>
<h2 data-id="heading-12">3ï¸âƒ£ Border-image æ–¹æ¡ˆ</h2>
<h3 data-id="heading-13">åŸºæœ¬å®ç°</h3>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-selector-class">.border-image-1px</span> {
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid transparent;
  <span class="hljs-attribute">border-image</span>: <span class="hljs-built_in">linear-gradient</span>(to bottom, transparent <span class="hljs-number">50%</span>, <span class="hljs-number">#e5e5e5</span> <span class="hljs-number">50%</span>) <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span>;
}

<span class="hljs-comment">/* å››è¾¹æ¡† */</span>
<span class="hljs-selector-class">.border-image-4</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid transparent;
  <span class="hljs-attribute">border-image</span>: <span class="hljs-built_in">linear-gradient</span>(to right, <span class="hljs-number">#e5e5e5</span>, <span class="hljs-number">#e5e5e5</span>) <span class="hljs-number">1</span>;
}
</code></pre>
<h3 data-id="heading-14">å¤æ‚è¾¹æ¡†æ ·å¼</h3>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-comment">/* æ¸å˜è¾¹æ¡† */</span>
<span class="hljs-selector-class">.gradient-border</span> {
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid transparent;
  <span class="hljs-attribute">border-image</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">45deg</span>, <span class="hljs-number">#ff6b6b</span>, <span class="hljs-number">#4ecdc4</span>) <span class="hljs-number">1</span>;
}

<span class="hljs-comment">/* è™šçº¿è¾¹æ¡† */</span>
<span class="hljs-selector-class">.dashed-border</span> {
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid transparent;
  <span class="hljs-attribute">border-image</span>: <span class="hljs-built_in">repeating-linear-gradient</span>(
    to right,
    <span class="hljs-number">#e5e5e5</span>,
    <span class="hljs-number">#e5e5e5</span> <span class="hljs-number">5px</span>,
    transparent <span class="hljs-number">5px</span>,
    transparent <span class="hljs-number">10px</span>
  ) <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span>;
}
</code></pre>
<hr/>
<h2 data-id="heading-15">4ï¸âƒ£ Box-shadow æ–¹æ¡ˆ</h2>
<h3 data-id="heading-16">åŸºæœ¬å®ç°</h3>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-comment">/* ä¸‹è¾¹æ¡† */</span>
<span class="hljs-selector-class">.shadow-border-bottom</span> {
  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> -<span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-number">#e5e5e5</span>;
}

<span class="hljs-comment">/* ä¸Šè¾¹æ¡† */</span>
<span class="hljs-selector-class">.shadow-border-top</span> {
  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-number">#e5e5e5</span>;
}

<span class="hljs-comment">/* å››è¾¹æ¡† */</span>
<span class="hljs-selector-class">.shadow-border-all</span> {
  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">#e5e5e5</span>;
}

<span class="hljs-comment">/* å¤šé‡è¾¹æ¡† */</span>
<span class="hljs-selector-class">.shadow-border-multiple</span> {
  <span class="hljs-attribute">box-shadow</span>: 
    inset <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-number">#e5e5e5</span>,
    inset <span class="hljs-number">0</span> -<span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-number">#e5e5e5</span>;
}
</code></pre>
<h3 data-id="heading-17">å“åº”å¼é€‚é…</h3>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-selector-class">.responsive-shadow-border</span> {
  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> -<span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-number">#e5e5e5</span>;
}

<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">2</span>) {
  <span class="hljs-selector-class">.responsive-shadow-border</span> {
    <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> -<span class="hljs-number">0.5px</span> <span class="hljs-number">0</span> <span class="hljs-number">#e5e5e5</span>;
  }
}

<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">3</span>) {
  <span class="hljs-selector-class">.responsive-shadow-border</span> {
    <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> -<span class="hljs-number">0.33px</span> <span class="hljs-number">0</span> <span class="hljs-number">#e5e5e5</span>;
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-18">5ï¸âƒ£ ä¼ªå…ƒç´ æ–¹æ¡ˆ</h2>
<h3 data-id="heading-19">å•è¾¹æ¡†å®ç°</h3>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-comment">/* åº•éƒ¨è¾¹æ¡† */</span>
<span class="hljs-selector-class">.pseudo-border-bottom</span> {
  <span class="hljs-attribute">position</span>: relative;
}

<span class="hljs-selector-class">.pseudo-border-bottom</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#e5e5e5</span>;
  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> bottom;
}

<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">2</span>) {
  <span class="hljs-selector-class">.pseudo-border-bottom</span><span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.5</span>);
  }
}

<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">3</span>) {
  <span class="hljs-selector-class">.pseudo-border-bottom</span><span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.33</span>);
  }
}
</code></pre>
<h3 data-id="heading-20">å¤šè¾¹æ¡†ç»„åˆ</h3>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-comment">/* ä¸Šä¸‹è¾¹æ¡† */</span>
<span class="hljs-selector-class">.pseudo-border-tb</span> {
  <span class="hljs-attribute">position</span>: relative;
}

<span class="hljs-selector-class">.pseudo-border-tb</span><span class="hljs-selector-pseudo">::before</span>,
<span class="hljs-selector-class">.pseudo-border-tb</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#e5e5e5</span>;
}

<span class="hljs-selector-class">.pseudo-border-tb</span><span class="hljs-selector-pseudo">::before</span> {
  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> top;
}

<span class="hljs-selector-class">.pseudo-border-tb</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> bottom;
}

<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">2</span>) {
  <span class="hljs-selector-class">.pseudo-border-tb</span><span class="hljs-selector-pseudo">::before</span>,
  <span class="hljs-selector-class">.pseudo-border-tb</span><span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.5</span>);
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-21">6ï¸âƒ£ SVGæ–¹æ¡ˆ</h2>
<h3 data-id="heading-22">åŸºæœ¬å®ç°</h3>
<pre><code class="hljs language-ini" lang="ini">CSS
.svg-border {
  border: none<span class="hljs-comment">;</span>
  background-image: url("data:image/svg+xml,%3csvg <span class="hljs-attr">width</span>=<span class="hljs-string">'100%25'</span> height=<span class="hljs-string">'100%25'</span> xmlns=<span class="hljs-string">'http://www.w3.org/2000/svg'</span>%<span class="hljs-number">3</span>e%<span class="hljs-number">3</span>crect width=<span class="hljs-string">'100%25'</span> height=<span class="hljs-string">'100%25'</span> fill=<span class="hljs-string">'none'</span> stroke=<span class="hljs-string">'%23e5e5e5'</span> stroke-width=<span class="hljs-string">'1'</span>/%<span class="hljs-number">3</span>e%<span class="hljs-number">3</span>c/svg%<span class="hljs-number">3</span>e<span class="hljs-string">");
}
</span></code></pre>
<h3 data-id="heading-23">å¤æ‚SVGè¾¹æ¡†</h3>
<pre><code class="hljs language-ini" lang="ini">CSS
.svg-dashed-border {
  background-image: url("data:image/svg+xml,%3csvg <span class="hljs-attr">width</span>=<span class="hljs-string">'100%25'</span> height=<span class="hljs-string">'100%25'</span> xmlns=<span class="hljs-string">'http://www.w3.org/2000/svg'</span>%<span class="hljs-number">3</span>e%<span class="hljs-number">3</span>crect width=<span class="hljs-string">'100%25'</span> height=<span class="hljs-string">'100%25'</span> fill=<span class="hljs-string">'none'</span> stroke=<span class="hljs-string">'%23e5e5e5'</span> stroke-width=<span class="hljs-string">'1'</span> stroke-dasharray=<span class="hljs-string">'5,5'</span>/%<span class="hljs-number">3</span>e%<span class="hljs-number">3</span>c/svg%<span class="hljs-number">3</span>e<span class="hljs-string">");
}
</span></code></pre>
<hr/>
<h2 data-id="heading-24">ğŸ› ï¸ å®ç”¨å·¥å…·ç±»</h2>
<h3 data-id="heading-25">CSSå·¥å…·ç±»</h3>
<pre><code class="hljs language-less" lang="less"><span class="hljs-selector-tag">CSS</span>
<span class="hljs-comment">/* 1pxè¾¹æ¡†å·¥å…·ç±» */</span>
<span class="hljs-selector-class">.border-t</span> { <span class="hljs-variable">@include</span> <span class="hljs-built_in">border-1px-top</span>(<span class="hljs-number">#e5e5e5</span>); }
<span class="hljs-selector-class">.border-r</span> { <span class="hljs-variable">@include</span> <span class="hljs-built_in">border-1px-right</span>(<span class="hljs-number">#e5e5e5</span>); }
<span class="hljs-selector-class">.border-b</span> { <span class="hljs-variable">@include</span> <span class="hljs-built_in">border-1px-bottom</span>(<span class="hljs-number">#e5e5e5</span>); }
<span class="hljs-selector-class">.border-l</span> { <span class="hljs-variable">@include</span> <span class="hljs-built_in">border-1px-left</span>(<span class="hljs-number">#e5e5e5</span>); }
<span class="hljs-selector-class">.border-all</span> { <span class="hljs-variable">@include</span> <span class="hljs-built_in">border-1px</span>(<span class="hljs-number">#e5e5e5</span>); }

<span class="hljs-comment">/* é¢œè‰²å˜ä½“ */</span>
<span class="hljs-selector-class">.border-gray</span> { <span class="hljs-variable">@include</span> <span class="hljs-built_in">border-1px</span>(<span class="hljs-number">#e5e5e5</span>); }
<span class="hljs-selector-class">.border-red</span> { <span class="hljs-variable">@include</span> <span class="hljs-built_in">border-1px</span>(<span class="hljs-number">#ff4757</span>); }
<span class="hljs-selector-class">.border-blue</span> { <span class="hljs-variable">@include</span> <span class="hljs-built_in">border-1px</span>(<span class="hljs-number">#3742fa</span>); }

<span class="hljs-comment">/* åœ†è§’å˜ä½“ */</span>
<span class="hljs-selector-class">.border-rounded</span> { <span class="hljs-variable">@include</span> <span class="hljs-built_in">border-1px</span>(<span class="hljs-number">#e5e5e5</span>, <span class="hljs-number">4px</span>); }
<span class="hljs-selector-class">.border-circle</span> { <span class="hljs-variable">@include</span> <span class="hljs-built_in">border-1px</span>(<span class="hljs-number">#e5e5e5</span>, <span class="hljs-number">50%</span>); }
</code></pre>
<h3 data-id="heading-26">JavaScriptæ£€æµ‹å‡½æ•°</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title class_">JavaScript</span>
<span class="hljs-comment">// æ£€æµ‹æ˜¯å¦éœ€è¦1pxå¤„ç†</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">needsRetinaBorder</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span> &amp;&amp; <span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span> &gt;= <span class="hljs-number">2</span>;
}

<span class="hljs-comment">// åŠ¨æ€æ·»åŠ ç±»å</span>
<span class="hljs-keyword">if</span> (<span class="hljs-title function_">needsRetinaBorder</span>()) {
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">'retina'</span>);
}
</code></pre>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-comment">/* é…åˆJavaScriptä½¿ç”¨ */</span>
<span class="hljs-selector-class">.retina</span> <span class="hljs-selector-class">.border-1px</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.5</span>);
}
</code></pre>
<hr/>
<h2 data-id="heading-27">ğŸ“± å®é™…åº”ç”¨ç¤ºä¾‹</h2>
<h3 data-id="heading-28">åˆ—è¡¨é¡¹è¾¹æ¡†</h3>
<pre><code class="hljs language-ini" lang="ini">HTML
&lt;ul <span class="hljs-attr">class</span>=<span class="hljs-string">"list"</span>&gt;
  &lt;li <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span>&gt;åˆ—è¡¨é¡¹<span class="hljs-number">1</span>&lt;/li&gt;
  &lt;li <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span>&gt;åˆ—è¡¨é¡¹<span class="hljs-number">2</span>&lt;/li&gt;
  &lt;li <span class="hljs-attr">class</span>=<span class="hljs-string">"list-item"</span>&gt;åˆ—è¡¨é¡¹<span class="hljs-number">3</span>&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-selector-class">.list-item</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">15px</span>;
  <span class="hljs-attribute">position</span>: relative;
}

<span class="hljs-selector-class">.list-item</span><span class="hljs-selector-pseudo">:not</span>(<span class="hljs-selector-pseudo">:last-child</span>)<span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">15px</span>;
  <span class="hljs-attribute">right</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#e5e5e5</span>;
  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> bottom;
}

<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">2</span>) {
  <span class="hljs-selector-class">.list-item</span><span class="hljs-selector-pseudo">:not</span>(<span class="hljs-selector-pseudo">:last-child</span>)<span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.5</span>);
  }
}
</code></pre>
<h3 data-id="heading-29">æŒ‰é’®è¾¹æ¡†</h3>
<pre><code class="hljs language-css" lang="css"><span class="hljs-selector-tag">HTML</span>
&lt;<span class="hljs-selector-tag">button</span> class="btn-<span class="hljs-attribute">outline</span>"&gt;æŒ‰é’®&lt;/<span class="hljs-selector-tag">button</span>&gt;
</code></pre>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-selector-class">.btn-outline</span> {
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span> <span class="hljs-number">20px</span>;
  <span class="hljs-attribute">background</span>: transparent;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">position</span>: relative;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;
}

<span class="hljs-selector-class">.btn-outline</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">200%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">200%</span>;
  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#007aff</span>;
  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">8px</span>;
  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> <span class="hljs-number">0</span>;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">0.5</span>);
  <span class="hljs-attribute">box-sizing</span>: border-box;
  <span class="hljs-attribute">pointer-events</span>: none;
}
</code></pre>
<h3 data-id="heading-30">è¡¨å•è¾“å…¥æ¡†</h3>
<pre><code class="hljs language-ini" lang="ini">HTML
&lt;div <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;
  &lt;input <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> class=<span class="hljs-string">"form-input"</span> placeholder=<span class="hljs-string">"è¯·è¾“å…¥å†…å®¹"</span>&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-selector-class">.form-input</span> {
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">padding</span>: <span class="hljs-number">12px</span> <span class="hljs-number">16px</span>;
  <span class="hljs-attribute">border</span>: none;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#f8f8f8</span>;
  <span class="hljs-attribute">position</span>: relative;
}

<span class="hljs-selector-class">.form-input</span><span class="hljs-selector-pseudo">:focus</span> {
  <span class="hljs-attribute">outline</span>: none;
}

<span class="hljs-selector-class">.form-input</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">content</span>: <span class="hljs-string">''</span>;
  <span class="hljs-attribute">position</span>: absolute;
  <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">bottom</span>: <span class="hljs-number">0</span>;
  <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
  <span class="hljs-attribute">height</span>: <span class="hljs-number">1px</span>;
  <span class="hljs-attribute">background</span>: <span class="hljs-number">#007aff</span>;
  <span class="hljs-attribute">transform-origin</span>: <span class="hljs-number">0</span> bottom;
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0</span>);
  <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.3s</span>;
}

<span class="hljs-selector-class">.form-input</span><span class="hljs-selector-pseudo">:focus</span><span class="hljs-selector-pseudo">::after</span> {
  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">1</span>);
}

<span class="hljs-keyword">@media</span> (<span class="hljs-attribute">-webkit-min-device-pixel-ratio</span>: <span class="hljs-number">2</span>) {
  <span class="hljs-selector-class">.form-input</span><span class="hljs-selector-pseudo">:focus</span><span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scaleY</span>(<span class="hljs-number">0.5</span>);
  }
}
</code></pre>
<hr/>
<h2 data-id="heading-31">ğŸ¯ æœ€ä½³å®è·µå»ºè®®</h2>
<h3 data-id="heading-32">1. æ–¹æ¡ˆé€‰æ‹©</h3>
<ul>
<li><strong>ç®€å•é¡¹ç›®</strong>ï¼šä½¿ç”¨transform scaleæ–¹æ¡ˆ</li>
<li><strong>å¤æ‚é¡¹ç›®</strong>ï¼šä½¿ç”¨viewport + remæ–¹æ¡ˆ</li>
<li><strong>ç»„ä»¶åº“</strong>ï¼šæä¾›å¤šç§æ–¹æ¡ˆçš„å·¥å…·ç±»</li>
</ul>
<h3 data-id="heading-33">2. æ€§èƒ½è€ƒè™‘</h3>
<ul>
<li>é¿å…è¿‡å¤šä½¿ç”¨box-shadow</li>
<li>ä¼˜å…ˆä½¿ç”¨transformï¼ˆGPUåŠ é€Ÿï¼‰</li>
<li>åˆç†ä½¿ç”¨ä¼ªå…ƒç´ </li>
</ul>
<h3 data-id="heading-34">3. å…¼å®¹æ€§å¤„ç†</h3>
<pre><code class="hljs language-css" lang="css">CSS
<span class="hljs-comment">/* æ¸è¿›å¢å¼º */</span>
<span class="hljs-selector-class">.border-1px</span> {
  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#e5e5e5</span>; <span class="hljs-comment">/* é™çº§æ–¹æ¡ˆ */</span>
}

<span class="hljs-keyword">@supports</span> (<span class="hljs-attribute">transform</span>: scale(<span class="hljs-number">0.5</span>)) {
  <span class="hljs-selector-class">.border-1px</span> {
    <span class="hljs-attribute">border</span>: none;
    <span class="hljs-attribute">position</span>: relative;
  }
  
  <span class="hljs-selector-class">.border-1px</span><span class="hljs-selector-pseudo">::after</span> {
    <span class="hljs-comment">/* transformæ–¹æ¡ˆ */</span>
  }
}
</code></pre>
<p>é€‰æ‹©åˆé€‚çš„1pxè§£å†³æ–¹æ¡ˆéœ€è¦æ ¹æ®é¡¹ç›®å…·ä½“æƒ…å†µï¼Œæ¨èä¼˜å…ˆä½¿ç”¨transform scaleæ–¹æ¡ˆï¼Œå®ƒç®€å•æ˜“ç”¨ä¸”æ€§èƒ½è‰¯å¥½ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[TypeScript éƒ¨åˆ†æŒ‡å—]]></title>    <link>https://juejin.cn/post/7598370121435873330</link>    <guid>https://juejin.cn/post/7598370121435873330</guid>    <pubDate>2026-01-23T09:15:26.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598370121435873330" data-draft-id="7598362826109927474" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="TypeScript éƒ¨åˆ†æŒ‡å—"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T09:15:26.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äºŒäºŒå››ä¸€"/> <meta itemprop="url" content="https://juejin.cn/user/2975738274777080"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            TypeScript éƒ¨åˆ†æŒ‡å—
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2975738274777080/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äºŒäºŒå››ä¸€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:15:26.000Z" title="Fri Jan 23 2026 09:15:26 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    2
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">interface &amp; type</h2>
<p>ä¸¤è€…éƒ½èƒ½å®šä¹‰å¯¹è±¡ç»“æ„å’Œå‡½æ•°ç­¾åï¼Œä½†interface æ›´åå‘ç»“æ„æ‰©å±•ä¸ OOP è¯­ä¹‰ï¼›type æ›´åå‘ç±»å‹ç»„åˆä¸ç±»å‹è¡¨è¾¾å¼ã€‚</p>
<p>åœ¨å·¥ç¨‹ä¸­ï¼Œinterface ç”¨äºæè¿°æ•°æ®ç»“æ„ï¼Œtype ç”¨äºç±»å‹è¿ç®—å’Œå¤æ‚ç»„åˆã€‚</p>
<h3 data-id="heading-1">ç›¸åŒç‚¹</h3>
<ul>
<li>éƒ½èƒ½æè¿°å¯¹è±¡å½¢çŠ¶</li>
<li>éƒ½èƒ½åšå‡½æ•°ç±»å‹å®šä¹‰</li>
<li>éƒ½æ”¯æŒæ³›å‹</li>
<li>éƒ½èƒ½è¢« class implements</li>
</ul>
<pre><code class="hljs language-css" lang="css">interface <span class="hljs-selector-tag">A</span> { x: number }
type <span class="hljs-selector-tag">B</span> = { x: number }
</code></pre>
<h3 data-id="heading-2">æ ¸å¿ƒåŒºåˆ«</h3>
<ol>
<li>interface å¯ä»¥åˆå¹¶å£°æ˜</li>
</ol>
<pre><code class="hljs language-kotlin" lang="kotlin"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> { id: number }
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> { name: string }

<span class="hljs-keyword">const</span> u: User = { id: <span class="hljs-number">1</span>, name: <span class="hljs-string">'a'</span> }
</code></pre>
<p>ğŸ‘‰ <strong>type ä¸è¡Œï¼Œè¿™æ˜¯ interface æœ€é‡è¦çš„èƒ½åŠ›ã€‚</strong></p>
<p>é€‚åˆç”¨æ¥æ‰©å±•ç¬¬ä¸‰æ–¹åº“å®šä¹‰ï¼ˆä¾‹å¦‚æ‰©å±• Express Requestï¼‰ã€‚</p>
<ol start="2">
<li>type æ›´çµæ´»ï¼Œæ”¯æŒç±»å‹è¡¨è¾¾å¼</li>
</ol>
<p>type å¯ä»¥ï¼š</p>
<ul>
<li>è”åˆ</li>
<li>äº¤å‰</li>
<li>æ¡ä»¶ç±»å‹</li>
<li>æ˜ å°„ç±»å‹</li>
<li>æ¨¡æ¿å­—ç¬¦ä¸²ç±»å‹</li>
</ul>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Status</span> = <span class="hljs-string">'success'</span> | <span class="hljs-string">'error'</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">WithId</span>&lt;T&gt; = T &amp; { <span class="hljs-attr">id</span>: <span class="hljs-built_in">string</span> };
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Api</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span>[] ? <span class="hljs-string">'array'</span> : <span class="hljs-string">'object'</span>;
</code></pre>
<p>ğŸ‘‰ <strong>interface åšä¸åˆ°è¿™äº›ã€‚</strong></p>
<ol start="3">
<li>interface æ›´é€‚åˆå»ºæ¨¡â€œå¯¹è±¡ã€ç±»ã€APIâ€ç»“æ„</li>
</ol>
<pre><code class="hljs language-csharp" lang="csharp"><span class="hljs-keyword">interface</span> <span class="hljs-title">Person</span> {
  name: <span class="hljs-built_in">string</span>;
  say(): <span class="hljs-keyword">void</span>;
}
</code></pre>
<p>å®ƒèƒ½ï¼š</p>
<ul>
<li>æ‰©å±•å…¶ä»– interfaceï¼ˆextendsï¼‰</li>
<li>è¢«ç±» implementsï¼ˆéå¸¸ OOPï¼‰</li>
</ul>
<ol start="4">
<li>type å¯ä»¥â€œåˆ«ååŒ–â€ï¼ˆaliasï¼‰ä»»ä½•ç±»å‹</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Fn</span> = <span class="hljs-function">(<span class="hljs-params">x: <span class="hljs-built_in">number</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Point</span> = [<span class="hljs-built_in">number</span>, <span class="hljs-built_in">number</span>];
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Maybe</span>&lt;T&gt; = T | <span class="hljs-literal">undefined</span>;
</code></pre>
<p>ğŸ‘‰ type çš„ä½¿ç”¨èŒƒå›´æ›´å¹¿ï¼Œç”šè‡³å¯ä»¥ alias åŸºæœ¬ç±»å‹ã€‚<br/>
interface åšä¸åˆ°ã€‚</p>
<ol start="5">
<li>æ‰©å±•æ–¹å¼ä¸åŒï¼ˆextends vs äº¤å‰ç±»å‹ï¼‰</li>
</ol>
<ul>
<li>interface æ‰©å±•</li>
</ul>
<pre><code class="hljs language-css" lang="css">interface <span class="hljs-selector-tag">A</span> { x: number }
interface <span class="hljs-selector-tag">B</span> extends <span class="hljs-selector-tag">A</span> { y: number }
</code></pre>
<ul>
<li>type æ‰©å±•</li>
</ul>
<pre><code class="hljs language-css" lang="css">type <span class="hljs-selector-tag">A</span> = { x: number }
type <span class="hljs-selector-tag">B</span> = <span class="hljs-selector-tag">A</span> &amp; { y: number }
</code></pre>
<p>ä¸¤è€…æ•ˆæœä¸€è‡´ï¼Œä½†äº¤å‰ç±»å‹èƒ½åšæ›´å¤šå¤æ‚ç»„åˆã€‚</p>
<ol start="6">
<li>å¤æ‚ç±»å‹æ„é€ ï¼štype æ›´å¼º</li>
</ol>
<p>å‰ç«¯å·¥ç¨‹é‡Œçš„å·¥å…·ç±»å‹ã€å¤æ‚æ³›å‹ã€è”åˆç±»å‹è½¬æ¢ <strong>å‡ ä¹éƒ½æ˜¯ type å®ç°çš„</strong>ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">type Partial&lt;T&gt; = {
  <span class="hljs-section">[P in keyof T]</span>?: T<span class="hljs-section">[P]</span><span class="hljs-comment">;</span>
}
</code></pre>
<p>interface æ— æ³•å®ç°è¿™ç§ç±»å‹è¿ç®—ã€‚</p>
<h3 data-id="heading-3">å·¥ç¨‹ä¸­å¦‚ä½•é€‰æ‹©</h3>
<p>å¦‚æœæ˜¯ <strong>æè¿°æ•°æ®ç»“æ„ã€ä¸šåŠ¡å¯¹è±¡ã€class API</strong>ï¼Œä¼˜å…ˆç”¨ <strong>interface</strong>ï¼Œå› ä¸ºå…¶æ›´å¯æ‰©å±•ã€å¯åˆå¹¶ï¼Œå›¢é˜Ÿåä½œæ›´å‹å¥½ã€‚</p>
<p>å¦‚æœæ˜¯ <strong>ç±»å‹ç»„åˆã€è”åˆç±»å‹ã€å·¥å…·ç±»å‹ã€æ˜ å°„ç±»å‹ã€æ¨¡æ¿å­—é¢é‡</strong>ï¼Œä¸€å®šç”¨ <strong>type</strong>ï¼Œå› ä¸ºæ›´çµæ´»ã€‚</p>
<h2 data-id="heading-4">unknow &amp; any &amp; never</h2>
<h3 data-id="heading-5">ğŸ±unknown</h3>
<p><code>unknown</code> æ˜¯å®‰å…¨çš„ anyï¼Œå¯ä»¥æ¥å—ä»»ä½•å€¼ï¼Œä½†ä¸èƒ½è¢«ç›´æ¥ä½¿ç”¨ï¼Œéœ€è¦ç±»å‹æ”¶çª„ã€‚é€‚ç”¨äºä»¥ä¸‹çš„ä¸¥æ ¼ä½¿ç”¨åœºæ™¯ã€‚</p>
<ol>
<li>ä¸ä¿¡ä»»æ¥æºçš„æ•°æ®ï¼ˆAPIã€ç”¨æˆ·è¾“å…¥ã€åŠ¨æ€æ•°æ®ï¼‰</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">parse</span>(<span class="hljs-params">json: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">unknown</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(json);
}
</code></pre>
<ol start="2">
<li>æ³›å‹ä¸Šç•Œä¸ç¡®å®šï¼Œä½†ä¸å¸Œæœ›å¤±å»ç±»å‹å®‰å…¨</li>
</ol>
<pre><code class="hljs language-r" lang="r"><span class="hljs-keyword">function</span> handle<span class="hljs-operator">&lt;</span><span class="hljs-built_in">T</span> extends unknown<span class="hljs-operator">&gt;</span><span class="hljs-punctuation">(</span>value<span class="hljs-operator">:</span> <span class="hljs-built_in">T</span><span class="hljs-punctuation">)</span> <span class="hljs-punctuation">{</span><span class="hljs-punctuation">}</span>
</code></pre>
<ol start="3">
<li>è®¾è®¡åº“æ—¶éœ€è¦â€œç±»å‹å®‰å…¨çš„æ‰©å±•ç‚¹â€</li>
</ol>
<p>æ¯”å¦‚å†™ SDKã€æ’ä»¶ç³»ç»Ÿæ—¶ï¼Œunknown è®©è°ƒç”¨æ–¹å¿…é¡»æ˜¾å¼ç¡®è®¤ç±»å‹ã€‚</p>
<h3 data-id="heading-6">ğŸ¶never</h3>
<p>never ä»£è¡¨â€œä¸å¯èƒ½å‘ç”Ÿçš„å€¼â€ï¼ˆç±»å‹ç³»ç»Ÿçš„åº•éƒ¨ç±»å‹ï¼‰</p>
<ul>
<li>ç¨‹åºä¸ä¼šèµ°åˆ°è¿™é‡Œ</li>
<li>å‡½æ•°ä¸ä¼šè¿”å›</li>
<li>åˆ†æ”¯è¢«å®Œå…¨æ’é™¤</li>
</ul>
<p>é€‚ç”¨äºä»¥ä¸‹çš„ä¸¥æ ¼ä½¿ç”¨åœºæ™¯ã€‚</p>
<ol>
<li>è¡¨ç¤ºå‡½æ•°æ°¸è¿œä¸è¿”å›ï¼ˆå¼‚å¸¸ / æ­»å¾ªç¯ï¼‰</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fail</span>(<span class="hljs-params">msg: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">never</span> {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(msg);
}
</code></pre>
<ol start="2">
<li>ç±»å‹æ”¶çª„åå‡ºç°â€œä¸å¯èƒ½çš„æƒ…å†µâ€</li>
</ol>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">assertNever</span>(<span class="hljs-params">x: <span class="hljs-built_in">never</span></span>): <span class="hljs-built_in">never</span> {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">"Unexpected value: "</span> + x);
}
</code></pre>
<p>é…åˆåŸºç¡€ç±»å‹ä¿æŠ¤å†™ exhaustiveness checkï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">type</span> <span class="hljs-variable">Shape</span> <span class="hljs-operator">=</span> <span class="hljs-string">'circle'</span> | <span class="hljs-string">'square'</span>;

function <span class="hljs-title function_">area</span><span class="hljs-params">(s: Shape)</span> {
  <span class="hljs-keyword">switch</span> (s) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'circle'</span>: <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">'square'</span>: <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;
    <span class="hljs-keyword">default</span>: 
      <span class="hljs-keyword">return</span> assertNever(s); <span class="hljs-comment">// ç¼–è¯‘æœŸæŠ¥é”™ï¼Œä¿è¯åˆ†æ”¯è¦†ç›–å®Œæ•´</span>
  }
}
</code></pre>
<ol start="3">
<li>è”åˆç±»å‹æ’é™¤æˆå‘˜</li>
</ol>
<pre><code class="hljs language-r" lang="r">type Exclude<span class="hljs-operator">&lt;</span><span class="hljs-built_in">T</span><span class="hljs-punctuation">,</span> U<span class="hljs-operator">&gt;</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">T</span> extends U <span class="hljs-operator">?</span> never <span class="hljs-operator">:</span> <span class="hljs-built_in">T</span>;
</code></pre>
<blockquote>
<p>â€œnever ç”¨äºä¸¥æ ¼çš„ç¼–è¯‘æœŸæ£€æŸ¥ã€ä¸å¯è¾¾ä»£ç ã€ä»¥åŠä¿è¯è”åˆç±»å‹é€»è¾‘å®Œå¤‡æ€§ã€‚â€</p>
</blockquote>
<h3 data-id="heading-7">ğŸ¯any</h3>
<p><code>any</code> ä¼šå…³é—­æ‰€æœ‰ç±»å‹æ£€æŸ¥ï¼Œæ˜¯ TS ä¸–ç•Œçš„â€œä¸§å¤±ç±»å‹å®‰å…¨â€ã€‚é€‚ç”¨äºä»¥ä¸‹ä¸¥æ ¼ä½¿ç”¨åœºæ™¯ï¼ˆåªæœ‰è¿™äº›æƒ…å†µèƒ½ç”¨ï¼‰</p>
<ol>
<li>æ¸è¿›å¼è¿ç§» JS â†’ TSï¼Œéœ€è¦æš‚æ—¶å…œåº•</li>
</ol>
<pre><code class="hljs language-ini" lang="ini">let temp: <span class="hljs-attr">any</span> = legacyLib.getData()<span class="hljs-comment">;</span>
</code></pre>
<ol start="2">
<li>ç±»å‹çœŸçš„æ— æ³•ç¡®å®šï¼ˆç¬¬ä¸‰æ–¹åº“ï¼ŒåŠ¨æ€å­—æ®µç‰¹åˆ«å¤æ‚ï¼‰</li>
</ol>
<p>æ¯”å¦‚è€æ—§ SDKï¼Œæˆ–è€…å¤§é‡åŠ¨æ€ keyã€‚</p>
<ol start="3">
<li>éœ€è¦ä¸ JS ç¯å¢ƒäº¤äº’ï¼ˆç‰¹æ®Šå…¨å±€å˜é‡ã€åŠ¨æ€å±æ€§ï¼‰</li>
</ol>
<p>ä¾‹å¦‚ window å…¨å±€å†™å…¥è‡ªå®šä¹‰å­—æ®µã€‚</p>
<ol start="4">
<li>ä¸ºäº†é¿å…è¿‡åº¦å¤æ‚çš„ç±»å‹æ¨å¯¼ï¼ˆå·¥ç¨‹æƒè¡¡ï¼‰</li>
</ol>
<p>ä¾‹å¦‚å¤æ‚æ³›å‹å¯¼è‡´ IDE å¡é¡¿ã€‚</p>
<blockquote>
<p>any æ˜¯ä¸€ç§<strong>å·¥ç¨‹å¦¥å</strong>ï¼Œä¸æ˜¯ç±»å‹ï¼Œå®ƒæ˜¯å…³é—­ç±»å‹æ£€æŸ¥çš„å¼€å…³ã€‚åªæœ‰åœ¨è¿ç§»ã€å…¼å®¹ã€åŠ¨æ€ç¯å¢ƒæ—¶æ‰åº”è¯¥ä½¿ç”¨ã€‚</p>
</blockquote>
<h3 data-id="heading-8">ä¸‰è€…å…³ç³»</h3>
<ul>
<li>unknown æ˜¯å®‰å…¨çš„é¡¶ç±»å‹ï¼ˆä¸ä¿¡ä»»è¾“å…¥ â†’ å…ˆ unknownï¼‰</li>
<li>never æ˜¯ä¸å¯èƒ½å‘ç”Ÿçš„åº•ç±»å‹ï¼ˆç©·å°½æ£€æŸ¥ã€å¼‚å¸¸ã€ä¸¥æ ¼é€»è¾‘ï¼‰</li>
<li>any æ˜¯é€ƒç”Ÿèˆ±ï¼ˆå®Œå…¨å…³é—­ç±»å‹æ£€æŸ¥ï¼Œåªåœ¨å¿…è¦æ—¶ä½¿ç”¨ï¼‰</li>
</ul>
<p>unknown ä¸ any æ˜¯å¯¹ç«‹çš„ï¼šä¸€ä¸ªæé«˜å®‰å…¨ï¼Œä¸€ä¸ªé™ä½å®‰å…¨ï¼›</p>
<p>never åˆ™ä»£è¡¨ç±»å‹ç³»ç»Ÿçš„åº•éƒ¨ï¼Œæ˜¯é€»è¾‘å®Œå¤‡æ€§æ£€æŸ¥çš„æ ¸å¿ƒå·¥å…·ã€‚</p>
<h2 data-id="heading-9">Partial &amp; Pick &amp; infer</h2>
<p>Partial å’Œ Pick æ˜¯å…¸å‹çš„æ˜ å°„ç±»å‹ï¼Œç”¨æ¥â€˜æ”¹é€ â€™å¯¹è±¡é”®ï¼›</p>
<p>infer æ˜¯åœ¨æ¡ä»¶ç±»å‹ä¸­åšâ€˜åå‘æ¨æ–­â€™ï¼Œå›ºå®šåœ¨æå–æŸäº›ç±»å‹ä¿¡æ¯çš„åœºæ™¯é‡Œã€‚</p>
<p>è¿™ä¸‰ä¸ªæ˜¯ TypeScript ç±»å‹ç³»ç»Ÿé‡Œæœ€åŸºç¡€ä¹Ÿæœ€å¸¸ç”¨çš„æ„å»ºå—ï¼Œç†è§£å®ƒä»¬èƒ½å†™å‡ºçœŸæ­£ç±»å‹å®‰å…¨çš„åº“çº§ä»£ç ã€‚â€</p>
<h3 data-id="heading-10">ğŸ’Partial</h3>
<p><code>Partial&lt;T&gt;</code> ä¼šæŠŠç±»å‹ T çš„æ‰€æœ‰å±æ€§å˜æˆå¯é€‰å±æ€§ã€‚</p>
<p>å®ƒæ˜¯ä¸€ä¸ªå…¸å‹çš„ã€Œæ˜ å°„ç±»å‹ã€ï¼Œé€šè¿‡éå† <code>keyof T</code>ï¼ŒæŠŠæ¯ä¸ªé”®çš„å±æ€§åŠ ä¸Š <code>?</code> ä¿®é¥°ç¬¦ã€‚</p>
<pre><code class="hljs language-ini" lang="ini">type MyPartial&lt;T&gt; = {
  <span class="hljs-section">[P in keyof T]</span>?: T<span class="hljs-section">[P]</span><span class="hljs-comment">;</span>
}<span class="hljs-comment">;</span>
</code></pre>
<p>å·¥ç¨‹ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>è¡¨å•åœºæ™¯ï¼šç¼–è¾‘æ—¶éƒ¨åˆ†å­—æ®µå¯é€‰</li>
<li>DTO/Object patchï¼šåªæ›´æ–°ä¼ å…¥å­—æ®µ</li>
<li>é…ç½®å¯¹è±¡ï¼šå…è®¸ç”¨æˆ·è¦†ç›–é»˜è®¤é…ç½®</li>
</ul>
<blockquote>
<p>ç”Ÿäº§é‡ŒåŸºæœ¬æŠŠæ‰€æœ‰é…ç½®ç±»å‹éƒ½å†™æˆ Partial å½¢å¼ï¼Œå‡å°‘å†—ä½™ç±»å‹å£°æ˜ï¼Œä¹Ÿé¿å…ç”¨æˆ·å¿…é¡»ä¼ æ‰€æœ‰å±æ€§ã€‚</p>
</blockquote>
<h3 data-id="heading-11">ğŸ‘Pick</h3>
<p><code>Pick&lt;T, K&gt;</code> ä»ç±»å‹ T ä¸­æŒ‘é€‰éƒ¨åˆ†é”® Kï¼Œç”Ÿæˆä¸€ä¸ªå­ç±»å‹ã€‚</p>
<p>å®ƒåŒæ ·æ˜¯æ˜ å°„ç±»å‹ï¼Œåªæ˜¯éå† <code>K</code> è€Œä¸æ˜¯ <code>keyof T</code>ã€‚</p>
<pre><code class="hljs language-scala" lang="scala"><span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-title">MyPick&lt;T</span>, <span class="hljs-title">K</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">keyof</span> <span class="hljs-title">T&gt;</span> </span>= {
  [<span class="hljs-type">P</span> in <span class="hljs-type">K</span>]: <span class="hljs-type">T</span>[<span class="hljs-type">P</span>];
};
</code></pre>
<p>å·¥ç¨‹ä½¿ç”¨åœºæ™¯</p>
<ul>
<li>API æ‹†åˆ†ï¼šåªéœ€è¦æŸäº›å­—æ®µ</li>
<li>React Props æå–</li>
<li>äºŒæ¬¡å°è£…ç»„ä»¶æ—¶æŠ½å–éƒ¨åˆ†å±æ€§</li>
</ul>
<blockquote>
<p>Pick æœ¬è´¨ä¸Šå°±æ˜¯ç»“æ„åŒ–ç¼–ç¨‹é‡Œçš„æŠ•å½±æ“ä½œï¼Œéå¸¸å¸¸ç”¨ã€‚</p>
</blockquote>
<h3 data-id="heading-12">ğŸ‡infer</h3>
<p><code>infer</code> æ˜¯ TypeScript åœ¨æ¡ä»¶ç±»å‹é‡Œç”¨äº<strong>å£°æ˜ä¸€ä¸ªå¾…æ¨æ–­çš„ç±»å‹å˜é‡</strong>ã€‚<br/>
å®ƒè®© TypeScript èƒ½â€œä»ç±»å‹ä¸­åå‘æå–ä¿¡æ¯â€ã€‚</p>
<ul>
<li>åªèƒ½åœ¨æ¡ä»¶ç±»å‹ <code>T extends X ? ... : ...</code> çš„ <code>true</code> åˆ†æ”¯é‡Œä½¿ç”¨</li>
<li>ç›¸å½“äºå‘Šè¯‰ TSï¼šâ€œè¿™é‡Œæœ‰ä¸ªæœªçŸ¥ç±»å‹ Rï¼Œä½ å¸®æˆ‘æ¨æ–­å®ƒæ˜¯ä»€ä¹ˆâ€</li>
<li>æœ€å…¸å‹çš„ä¾‹å­ï¼šä»å‡½æ•°ç±»å‹ä¸­æå–è¿”å›å€¼</li>
</ul>
<p><strong>æ‰‹å†™ ReturnType</strong></p>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">MyReturnType</span>&lt;F&gt; = 
  F <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; infer R 
    ? R 
    : <span class="hljs-built_in">never</span>;
</code></pre>
<p>å¸¸è§ infer ä½¿ç”¨ï¼š</p>
<ul>
<li>æå– Promise å†…éƒ¨ç±»å‹</li>
</ul>
<pre><code class="hljs language-r" lang="r">type Awaited<span class="hljs-operator">&lt;</span><span class="hljs-built_in">T</span><span class="hljs-operator">&gt;</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">T</span> extends Promise<span class="hljs-operator">&lt;</span>infer R<span class="hljs-operator">&gt;</span> <span class="hljs-operator">?</span> R <span class="hljs-operator">:</span> <span class="hljs-built_in">T</span>;
</code></pre>
<ul>
<li>æå–æ•°ç»„å…ƒç´ ç±»å‹</li>
</ul>
<pre><code class="hljs language-r" lang="r">type ElementOf<span class="hljs-operator">&lt;</span><span class="hljs-built_in">T</span><span class="hljs-operator">&gt;</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">T</span> extends <span class="hljs-punctuation">(</span>infer U<span class="hljs-punctuation">)</span><span class="hljs-punctuation">[</span><span class="hljs-punctuation">]</span> <span class="hljs-operator">?</span> U <span class="hljs-operator">:</span> <span class="hljs-built_in">T</span>;
</code></pre>
<p>å·¥ç¨‹ä½¿ç”¨åœºæ™¯</p>
<ul>
<li>è‡ªåŠ¨æ ¹æ® API ç±»å‹ç”Ÿæˆ Response ç±»å‹</li>
<li>æ ¹æ®å‡½æ•°åº“è‡ªåŠ¨æ¨æ–­è¿”å›å€¼</li>
<li>åœ¨å‰ç«¯çŠ¶æ€ç®¡ç†ä¸­è‡ªåŠ¨ç”Ÿæˆ Action ç±»å‹</li>
<li>åœ¨å¤æ‚è¡¨å•é‡Œä» DTO æ¨ç±»å‹</li>
</ul>
<blockquote>
<p>infer æ˜¯ TypeScript é«˜é˜¶ç±»å‹é‡Œå¾ˆæ ¸å¿ƒçš„æœºåˆ¶ï¼Œå®ƒè®© TypeScript èƒ½åƒç¼–è¯‘å™¨ä¸€æ ·è¿›è¡Œæ¨¡å¼åŒ¹é…ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å‰ç«¯æ‰‹å†™]]></title>    <link>https://juejin.cn/post/7598222735808200744</link>    <guid>https://juejin.cn/post/7598222735808200744</guid>    <pubDate>2026-01-23T09:24:05.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598222735808200744" data-draft-id="7598320487508328483" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å‰ç«¯æ‰‹å†™"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T09:24:05.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="äºŒäºŒå››ä¸€"/> <meta itemprop="url" content="https://juejin.cn/user/2975738274777080"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å‰ç«¯æ‰‹å†™
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2975738274777080/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    äºŒäºŒå››ä¸€
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:24:05.000Z" title="Fri Jan 23 2026 09:24:05 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»6åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{color:#383838;font-size:15px;line-height:30px;letter-spacing:2px;word-break:break-word;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;scroll-behavior:smooth;background-image:linear-gradient(0deg,transparent 24%,rgba(201,195,195,.329) 25%,hsla(0,8%,80.4%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(204,196,196,.226) 25%,hsla(0,4%,66.1%,.05) 26%,transparent 27%,transparent 74%,hsla(0,5.2%,81%,.185) 75%,rgba(180,176,176,.05) 76%,transparent 77%,transparent);background-color:#fff;background-size:50px 50px;padding-bottom:60px}.markdown-body ::selection{color:#fff;background-color:#a862ea}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin:24px 0 12px;color:#a862ea}.markdown-body h1{line-height:2;font-size:1.4em}.markdown-body h1~p:first-of-type:first-letter{color:#a862ea;float:left;font-size:2em;margin-right:.4em;font-weight:bolder}.markdown-body h2{font-size:1.2em}.markdown-body h3{font-size:1.1em}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;padding-left:.2em}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#a862ea}.markdown-body ol li.task-list-item,.markdown-body ul li.task-list-item{list-style:none}.markdown-body ol li.task-list-item ol,.markdown-body ol li.task-list-item ul,.markdown-body ul li.task-list-item ol,.markdown-body ul li.task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:10px}.markdown-body a,.markdown-body code,.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6,.markdown-body li,.markdown-body p{opacity:.85;vertical-align:baseline;transition:all .1s ease}.markdown-body a:hover,.markdown-body code:hover,.markdown-body h1:hover,.markdown-body h2:hover,.markdown-body h3:hover,.markdown-body h4:hover,.markdown-body h5:hover,.markdown-body h6:hover,.markdown-body li:hover,.markdown-body p:hover{opacity:1}.markdown-body a{display:inline-block;color:#a862ea;cursor:pointer;text-decoration:none;position:relative}.markdown-body a:after{content:"";position:absolute;width:98%;height:1px;bottom:0;left:0;transform:scaleX(0);background-color:#a862ea;transform-origin:bottom right;transition:transform .3s ease-in-out}.markdown-body a:hover:after{transform:scaleX(1);transform-origin:bottom left}.markdown-body a:active,.markdown-body a:link{color:#a862ea}.markdown-body img{max-width:100%;user-select:none;margin:1em 0;transition:transform .2s ease 0s;background-color:#f8f5ff;box-shadow:0 0 10px #e7daff}.markdown-body img:hover{opacity:1;box-shadow:0 0 20px #e7daff;transform:translateY(-1px)}.markdown-body blockquote{padding:.5em 1em;margin:12px 0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-left:3px solid #a862ea;background-color:#f8f5ff}.markdown-body blockquote&gt;p{margin:0}.markdown-body .math{font-style:italic;margin:12px 0;padding:.5em 1em;background-color:#f8f5ff}.markdown-body .math&gt;p{margin:0}.markdown-body code{padding:2px .4em;overflow-x:auto;color:#a862ea;font-weight:700;word-break:break-word;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;background-color:#f8f5ff}.markdown-body pre{margin:2em 0}.markdown-body pre&gt;code{display:block;padding:1.5em;word-break:normal;font-size:.9em;font-style:normal;font-weight:400;font-family:Operator Mono,Consolas,Monaco,Menlo,monospace;line-height:18px;color:#383838;border-radius:2px;scroll-behavior:smooth;box-shadow:0 0 10px #e7daff}.markdown-body pre&gt;code:hover{box-shadow:0 0 20px #e7daff}.markdown-body pre&gt;code::-webkit-scrollbar{height:6px;background-color:#f8f5ff}.markdown-body pre&gt;code::-webkit-scrollbar-thumb{background-color:#e7daff;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.markdown-body hr{margin:2em 0;border-top:1px solid #a862ea}.markdown-body table{width:100%;font-size:12px;max-width:100%;overflow:auto;border-collapse:collapse}.markdown-body thead{color:#a862ea;background:#f8f5ff}.markdown-body td,.markdown-body th{padding:.5em;border:1px solid #e7daff}.markdown-body tr{background-color:#f8f5ff}@media (max-width:720px){.markdown-body{font-size:12px}}</style><style data-highlight="" data-highlight-key="sunburst">.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#000;color:#f8f8f8}.hljs-comment,.hljs-quote{color:#aeaeae;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#e28964}.hljs-string{color:#65b042}.hljs-subst{color:#daefa3}.hljs-link,.hljs-regexp{color:#e9c062}.hljs-name,.hljs-section,.hljs-tag,.hljs-title{color:#89bdff}.hljs-class .hljs-title,.hljs-doctag{text-decoration:underline}.hljs-bullet,.hljs-number,.hljs-symbol{color:#3387cc}.hljs-params,.hljs-template-variable,.hljs-variable{color:#3e87e3}.hljs-attribute{color:#cda869}.hljs-meta{color:#8996a8}.hljs-formula{background-color:#0e2231;color:#f8f8f8;font-style:italic}.hljs-addition{background-color:#253b22;color:#f8f8f8}.hljs-deletion{background-color:#420e09;color:#f8f8f8}.hljs-selector-class{color:#9b703f}.hljs-selector-id{color:#8b98ab}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Promise + SetTimeout</h2>
<h3 data-id="heading-1">ğŸ¥‡ 01. å¹¶å‘é™åˆ¶è°ƒåº¦å™¨ï¼ˆå¼‚æ­¥éœ¸æ¦œ No.1ï¼‰</h3>
<blockquote>
<p>ä¸šåŠ¡åœºæ™¯ï¼šè¦å‘ 100 ä¸ªè¯·æ±‚ï¼Œä½†åç«¯é™æµï¼Œæ¯æ¬¡åªèƒ½å‘ N ä¸ª</p>
</blockquote>
<blockquote>
<p>æ‰©å±•äº¤äº’ï¼šå¯ä»¥åœ¨ä¸­é€”æš‚åœæ‰§è¡Œï¼Œè·å–æ‰§è¡Œçš„ç»“æœ</p>
</blockquote>
<blockquote>
<p>ğŸŒˆå®ç°æ€è·¯ï¼šæ¨¡æ‹Ÿä¸€ä¸ªè¿·ä½ ç‰ˆâ€œæµè§ˆå™¨èµ„æºè°ƒåº¦å™¨â€ï¼Œè¿™ä¸ªè°ƒåº¦å™¨çš„æ ¸å¿ƒæœ¬è´¨ï¼Œæ˜¯é€šè¿‡ã€Œrunning è®¡æ•°ã€ã€Œidx æ¸¸æ ‡ã€ã€ŒrunNext è‡ªé©±åŠ¨ã€ä¸‰è€…é…åˆï¼Œå®ç°ä¸€ä¸ªåŠ¨æ€çš„ä»»åŠ¡æ± ã€‚å®ƒä¿è¯ä»»åŠ¡æºæºä¸æ–­æ‰§è¡Œï¼Œä½†åŒæ—¶ä¸ä¼šè¶…è¿‡ç»™å®šçš„å¹¶å‘ä¸Šé™ã€‚</p>
</blockquote>
<ol>
<li>ä¸šåŠ¡è°ƒç”¨</li>
</ol>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">MyWork</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// ç”Ÿæˆè°ƒåº¦å™¨</span>
  <span class="hljs-keyword">const</span> scheduler = <span class="hljs-title function_">limitRequests</span>(tasks, <span class="hljs-number">3</span>);

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleStart</span>(<span class="hljs-params"/>) {
    scheduler.<span class="hljs-title function_">start</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼"</span>);
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"ç»“æœ:"</span>, res);
    });
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleEnd</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æš‚åœå®Œæˆæ‰§è¡Œï½"</span>);
    scheduler.<span class="hljs-title function_">stop</span>();
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleStart}</span>&gt;</span>å¼€å§‹<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleEnd}</span>&gt;</span>æš‚åœ<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>2.  åˆ›å»ºè°ƒåº¦å™¨</p>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">limitRequests</span>(<span class="hljs-params">tasks, limit</span>) {
  <span class="hljs-keyword">const</span> res = [] <span class="hljs-comment">// å­˜æ‰€æœ‰ä»»åŠ¡è¿”å›çš„ Promiseï¼Œç”¨æ¥æœ€ç»ˆ Promise.all</span>
  <span class="hljs-keyword">let</span> idx = <span class="hljs-number">0</span> <span class="hljs-comment">// å½“å‰å¤„ç†åˆ°ç¬¬å‡ ä¸ªä»»åŠ¡</span>
  <span class="hljs-keyword">let</span> running = <span class="hljs-number">0</span> <span class="hljs-comment">// å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡æ•°é‡ï¼ˆå…³é”®çš„å¹¶å‘æ§åˆ¶å˜é‡ï¼‰</span>
  <span class="hljs-keyword">let</span> stopped = <span class="hljs-literal">false</span> <span class="hljs-comment">// ç”¨äºæ ‡è¯†æ˜¯å¦å·²åœæ­¢</span>

  <span class="hljs-comment">// æš´éœ²çš„åœæ­¢æ‰§è¡Œçš„æ–¹æ³•</span>
  <span class="hljs-keyword">function</span> <span class="hljs-title function_">stop</span>(<span class="hljs-params"/>) {
    stopped = <span class="hljs-literal">true</span>
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">start</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">function</span> <span class="hljs-title function_">runNext</span>(<span class="hljs-params"/>) {
        <span class="hljs-comment">// æ‰§è¡Œé˜Ÿåˆ—å¤„ç†å®Œæ¯•æˆ–è€…å·²æš‚åœï¼Œè¿”å›ç»“æœ</span>
        <span class="hljs-keyword">if</span> (running === <span class="hljs-number">0</span> &amp;&amp; stopped) {
          <span class="hljs-keyword">return</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(res))
        }

        <span class="hljs-comment">// æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡æ•°é‡ä¸è¶…è¿‡å•æ¬¡é™åˆ¶ï¼Œå­˜åœ¨æœªæ‰§è¡Œçš„ä»»åŠ¡</span>
        <span class="hljs-keyword">while</span> (running &lt; limit &amp;&amp; idx &lt; tasks.<span class="hljs-property">length</span>) {
          <span class="hljs-comment">// å¦‚æœåœæ­¢æ ‡å¿—ä¸º trueï¼Œé˜»æ­¢æ–°çš„ä»»åŠ¡åŠ å…¥</span>
          <span class="hljs-keyword">if</span> (stopped) {
            <span class="hljs-keyword">return</span>
          }
          <span class="hljs-comment">// è·å–å½“å‰ä»»åŠ¡å¹¶æ‰§è¡Œ</span>
          <span class="hljs-keyword">const</span> cur = tasks[idx++]()
          res.<span class="hljs-title function_">push</span>(cur)
          running++
          cur.<span class="hljs-title function_">then</span>(<span class="hljs-function">() =&gt;</span> {
            running--
            <span class="hljs-title function_">runNext</span>()
          }).<span class="hljs-title function_">catch</span>(reject)
        }
      }

      <span class="hljs-title function_">runNext</span>()
    })
  }

  <span class="hljs-keyword">return</span> { stop, start }
}
</code></pre>
<p>3.  æ¨¡æ‹Ÿå¼‚æ­¥æ–¹æ³•ã€å‡†å¤‡æ•°æ®</p>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// åˆ›å»º100ä¸ªä»»åŠ¡</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> tasks = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: <span class="hljs-number">100</span> }, <span class="hljs-function">(<span class="hljs-params">_, i</span>) =&gt;</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">fetchData</span>(i))

<span class="hljs-comment">// æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚æ–¹æ³•</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params">id: number</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> time = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">2000</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å¼€å§‹ä»»åŠ¡: <span class="hljs-subst">${id}</span>`</span>)

    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`å®Œæˆä»»åŠ¡: <span class="hljs-subst">${id}</span>`</span>)
      <span class="hljs-title function_">resolve</span>(id)
    }, time)
  })
}
</code></pre>
<p>4. è‡ªå®šä¹‰hookå®ç°åŠŸèƒ½</p>

<pre><code class="hljs language-ini" lang="ini">const <span class="hljs-attr">useLimitRequests</span> = (tasks: any[], limit: number)=&gt; {
  const <span class="hljs-attr">resultRef</span> = useRef&lt;number[]&gt;([])<span class="hljs-comment">; // ç”¨ useRef å­˜å‚¨ä»»åŠ¡ç»“æœï¼Œé¿å…é‡æ–°æ¸²æŸ“</span>
  const <span class="hljs-attr">isStop</span> = useRef&lt;boolean&gt;(<span class="hljs-literal">false</span>)<span class="hljs-comment">;</span>
  const <span class="hljs-attr">idx</span> = useRef&lt;number&gt;(<span class="hljs-number">0</span>)<span class="hljs-comment">;</span>
  const <span class="hljs-attr">reunning</span> = useRef&lt;number&gt;(<span class="hljs-number">0</span>)<span class="hljs-comment">;</span>

  const <span class="hljs-attr">onStop</span> = useCallback(() =&gt; {
    <span class="hljs-attr">isStop.current</span> = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
  },<span class="hljs-section">[]</span>)<span class="hljs-comment">;</span>

  const <span class="hljs-attr">onStart</span> = useCallback(() =&gt; {
    return new Promise((resolve, reject) =&gt; {
      function nextRun(){
        if(<span class="hljs-attr">reunning.current</span> === <span class="hljs-number">0</span> &amp;&amp; isStop.current) {
          return resolve(Promise.all(resultRef.current))<span class="hljs-comment">;</span>
        }

        while(idx.current &lt; tasks.length &amp;&amp; reunning.current &lt; limit){
          if(isStop.current){
            return<span class="hljs-comment">;</span>
          }

          const <span class="hljs-attr">curTaskRes</span> = tasks[idx.current]()<span class="hljs-comment">;</span>
          idx.current += 1<span class="hljs-comment">;</span>
          resultRef.current.push(curTaskRes)
          reunning.current += 1<span class="hljs-comment">;</span>

          curTaskRes.then(() =&gt; {
            reunning.current <span class="hljs-attr">-</span>= <span class="hljs-number">1</span><span class="hljs-comment">;</span>
            nextRun()<span class="hljs-comment">;</span>
          }).catch((error: any) =&gt; reject(error))
        }
      }

      nextRun()<span class="hljs-comment">;</span>
    })
  },<span class="hljs-section">[isStop, limit, tasks]</span>)<span class="hljs-comment">;</span>

  return { onStop, onStart}<span class="hljs-comment">;</span>
}
</code></pre>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e7e38071875e4ff09dcf63777b48fade~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM5LqM5Zub5LiA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765045&amp;x-signature=S8vSaB9qhHpiyqVa7BDuyiq5sRk%3D" alt="image.png" width="70%" loading="lazy"/></p>
<h3 data-id="heading-2">ğŸ¥ˆ 02. æ”¯æŒæŒ‡æ•°é€€é¿çš„é‡è¯•ï¼ˆBackoff Retryï¼‰</h3>
<blockquote>
<p>ä¸šåŠ¡åœºæ™¯ï¼šæ¥å£å¶å°”æŠ¥é”™ï¼Œä½ å¸Œæœ›è‡ªåŠ¨é‡è¯• 3 æ¬¡ï¼Œæ¯æ¬¡ç­‰å¾…æ—¶é—´ç¿»å€ã€‚</p>
</blockquote>
<ol>
<li>åˆ›å»ºé‡è¯•æ–¹æ³•</li>
</ol>

<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">retry</span>(fn, times = <span class="hljs-number">3</span>, delay = <span class="hljs-number">500</span>) {
  return new <span class="hljs-built_in">Promise</span>((resolve, reject) =&gt; {
    const attempt = (n, d) =&gt; {
      <span class="hljs-built_in">fn</span>()<span class="hljs-selector-class">.then</span>(resolve)<span class="hljs-selector-class">.catch</span>(err =&gt; {
        if (n === <span class="hljs-number">0</span>) return <span class="hljs-built_in">reject</span>(err)
        <span class="hljs-built_in">setTimeout</span>(() =&gt; <span class="hljs-built_in">attempt</span>(n - <span class="hljs-number">1</span>, d * <span class="hljs-number">2</span>), d)
      })
    }
    <span class="hljs-built_in">attempt</span>(times, delay)
  })
}
</code></pre>
<p>2.  ä¸šåŠ¡è°ƒç”¨</p>

<pre><code class="hljs language-javascript" lang="javascript">  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleRetry</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">retry</span>(mockRequest, <span class="hljs-number">3</span>, <span class="hljs-number">500</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result)) <span class="hljs-comment">// å¦‚æœè¯·æ±‚æˆåŠŸï¼Œè¾“å‡ºç»“æœ</span>
      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error)); <span class="hljs-comment">// å¦‚æœé‡è¯•å¤±è´¥ï¼Œè¾“å‡ºé”™è¯¯</span>
  }
</code></pre>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7a6251a15a9246f884f1cd5100b3cc6c~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM5LqM5Zub5LiA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765045&amp;x-signature=NgFmyPDYDTUdXRp7siJG448ZOrQ%3D" alt="image.png" width="70%" loading="lazy"/></p>
<h3 data-id="heading-3">ğŸ¥‰ 03. å¸¦è¶…æ—¶æ§åˆ¶çš„ Promiseï¼ˆTimeout Promiseï¼‰</h3>
<blockquote>
<p>ä¸šåŠ¡åœºæ™¯ï¼šè¯·æ±‚è¶… 3 ç§’è‡ªåŠ¨å¤±è´¥ï¼Œä¸ç­‰äº†</p>
</blockquote>
<ol>
<li>è‡ªå®šä¹‰å‡½æ•°å®ç°</li>
</ol>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">withTimeout</span>(<span class="hljs-params">fn, ms</span>){
  <span class="hljs-comment">// å­˜æ”¾å®šæ—¶å™¨</span>
  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;

  <span class="hljs-comment">// è¶…æ—¶å‡½æ•°</span>
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">timeOut</span> = (<span class="hljs-params"/>) =&gt; <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">_, reject</span>) =&gt;</span> {
    timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">'è¶…æ—¶äº†'</span>)), ms);
  });

  <span class="hljs-comment">// Promise.race ä¼šè¿”å›ä¸€ä¸ªç»“æœï¼Œ fn ç›®æ ‡å‡½æ•°</span>
  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([<span class="hljs-title function_">fn</span>(), <span class="hljs-title function_">timeOut</span>()]).<span class="hljs-title function_">finally</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-built_in">clearTimeout</span>(timer);
  })
}
</code></pre>
<p>2.  æ¨¡æ‹Ÿå»¶è¿Ÿå¼‚æ­¥æ–¹æ³•</p>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">slowTask</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-string">'Task completed'</span>), <span class="hljs-number">2000</span>); <span class="hljs-comment">// æ¨¡æ‹Ÿä¸€ä¸ª 3 ç§’çš„ä»»åŠ¡</span>
  });
}
</code></pre>
<p>3.  ä¸šåŠ¡è°ƒç”¨</p>

<pre><code class="hljs language-javascript" lang="javascript">  <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleTimeOut</span>(<span class="hljs-params"/>) {
    <span class="hljs-title function_">withTimeout</span>(slowTask, <span class="hljs-number">1000</span>) <span class="hljs-comment">// è®¾ç½® 1 ç§’è¶…æ—¶</span>
      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result)) <span class="hljs-comment">// å¦‚æœä»»åŠ¡å®Œæˆï¼Œè¾“å‡ºç»“æœ</span>
      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(error)); <span class="hljs-comment">// å¦‚æœè¶…æ—¶ï¼Œè¾“å‡ºè¶…æ—¶é”™è¯¯</span>
  }
</code></pre>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1855acce3d2e45f199764f982e644d1f~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM5LqM5Zub5LiA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765045&amp;x-signature=OaiaLsEqanP%2FYHDWYUMJM33PL%2FM%3D" alt="image.png" width="70%" loading="lazy"/></p>
<h3 data-id="heading-4">ğŸš¢ 04. ä¸²è¡Œä»»åŠ¡ï¼šä¸€æ­¥ä¸€æ­¥ç¨³æ‰ç¨³æ‰“</h3>
<blockquote>
<p>ä¸šåŠ¡åœºæ™¯ï¼šåˆ†ç‰‡ä¸Šä¼ ã€è¡¨å•åˆ†æ­¥éª¤æäº¤</p>
</blockquote>
<blockquote>
<p>æ ¸å¿ƒé€»è¾‘ï¼šæ¯ä¸ªä»»åŠ¡ä¼šæŒ‰é¡ºåºä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ‰§è¡Œï¼Œç›´åˆ°ä¸Šä¸€ä¸ªä»»åŠ¡å®Œæˆåï¼Œæ‰ä¼šå¼€å§‹ä¸‹ä¸€ä¸ªä»»åŠ¡</p>
</blockquote>
<ol>
<li>è‡ªå®šä¹‰æ–¹æ³•</li>
</ol>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">runInSequence</span>(<span class="hljs-params">tasks</span>){
  <span class="hljs-keyword">const</span> result = [];

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> task <span class="hljs-keyword">of</span> tasks) {
    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">task</span>();
    result.<span class="hljs-title function_">push</span>(res);
  }

  <span class="hljs-keyword">return</span> result;
}
</code></pre>
<p>2.  æ¨¡æ‹Ÿå¼‚æ­¥è¯·æ±‚</p>

<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchData</span> = (<span class="hljs-params">task: <span class="hljs-built_in">any</span></span>) =&gt; {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Task <span class="hljs-subst">${task}</span> completed`</span>);
      <span class="hljs-title function_">resolve</span>(<span class="hljs-string">`Result of <span class="hljs-subst">${task}</span>`</span>);
    }, <span class="hljs-number">1000</span>); <span class="hljs-comment">// æ¯ä¸ªä»»åŠ¡å»¶è¿Ÿ 1 ç§’</span>
  });
};

<span class="hljs-comment">// å®šä¹‰ä»»åŠ¡åˆ—è¡¨</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> tasks = [
  <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-string">'task1'</span>),
  <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-string">'task2'</span>),
  <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-string">'task3'</span>)
];
</code></pre>
<p>3.  è°ƒç”¨</p>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleEquence</span>(<span class="hljs-params"/>){
    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">runInSequence</span>(tasks);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'All tasks completed'</span>, result);
  }
</code></pre>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/42b31c347ea94793aa1cd6726f22d858~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM5LqM5Zub5LiA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765045&amp;x-signature=ufiTb2SF2xGT67Goi1WGfIV1poQ%3D" alt="image.png" width="70%" loading="lazy"/></p>
<h3 data-id="heading-5">âŒšï¸ 05. Promise ç‰ˆâ€œå¤šæ–¹ç­‰å¾… readyâ€æœºåˆ¶</h3>
<blockquote>
<p>æ ¸å¿ƒé€»è¾‘ï¼šè¿™ä¸ªæœºåˆ¶ç”¨äºè®©å¤šä¸ªä»»åŠ¡æˆ–ç»„ä»¶ç­‰å¾…æŸä¸ªæ¡ä»¶ï¼ˆå¦‚ <code>ready()</code> æ–¹æ³•è¢«è°ƒç”¨ï¼‰æ»¡è¶³åå†ç»§ç»­æ‰§è¡Œ</p>
</blockquote>
<blockquote>
<p>ä¸šåŠ¡åœºæ™¯ï¼š
1. <strong>å¤šä¸ªä»»åŠ¡ä¾èµ–åŒä¸€ä¸ªæ¡ä»¶</strong>ï¼šæ¯”å¦‚ï¼Œå¤šä¸ªç»„ä»¶åœ¨ç­‰å¾…æŸä¸ªæ•°æ®åŠ è½½å®Œæˆåå†å¼€å§‹æ‰§è¡ŒæŸä¸ªæ“ä½œã€‚
2. <strong>ç­‰å¾…å¤šä¸ªå¼‚æ­¥ä»»åŠ¡çš„å‡†å¤‡</strong>ï¼šå¤šä¸ªå¼‚æ­¥ä»»åŠ¡å¯èƒ½ä¾èµ–æŸä¸ªèµ„æºï¼Œåªæœ‰å½“è¯¥èµ„æºå‡†å¤‡å¥½æ—¶ï¼Œæ‰èƒ½ç»§ç»­æ‰§è¡Œåç»­æ“ä½œã€‚
3. <strong>åè°ƒå¹¶å‘ä»»åŠ¡çš„å¼€å§‹</strong>ï¼šä¸åŒçš„ä»»åŠ¡æˆ–ç»„ä»¶å¯ä»¥ç­‰å¾…ä¸€ä¸ªå…±åŒçš„â€œå¼€å§‹ä¿¡å·â€ï¼Œä¸€æ—¦ä¿¡å·å‘é€ï¼Œæ‰€æœ‰ç­‰å¾…çš„ä»»åŠ¡å°±å¯ä»¥åŒæ—¶å¼€å§‹ã€‚</p>
</blockquote>
<ol>
<li>è‡ªå®šä¹‰class</li>
</ol>

<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Waiter</span>{
  <span class="hljs-attr">queue</span>: <span class="hljs-built_in">any</span>[];
  <span class="hljs-attr">readyFlag</span>: <span class="hljs-built_in">boolean</span>;

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"/>){
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span> = []; <span class="hljs-comment">// æ‰€æœ‰ç­‰å¾…çš„ä»»åŠ¡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">readyFlag</span> = <span class="hljs-literal">false</span>; <span class="hljs-comment">// æ˜¯å¦å·²ç»å‡†å¤‡å¥½</span>
  }

  <span class="hljs-title function_">wait</span>(<span class="hljs-params"/>){
    <span class="hljs-comment">// æ¡ä»¶å·²ç»å‡†å¤‡å¥½äº†ï¼Œç›´æ¥è¿”å›ä¸€ä¸ªå·²è§£å†³çš„ Promise</span>
    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">readyFlag</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>();
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">// å°†è¯¥ä»»åŠ¡çš„ Promise æ”¾å…¥ queue é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…</span>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">r</span>) =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">push</span>(r));
    }
  }


  <span class="hljs-title function_">ready</span>(<span class="hljs-params"/>){
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">readyFlag</span> = <span class="hljs-literal">true</span>; <span class="hljs-comment">// è®¾ç½®æ¡ä»¶å·²å‡†å¤‡å¥½</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">r</span> =&gt;</span> <span class="hljs-title function_">r</span>()); <span class="hljs-comment">// éå†é˜Ÿåˆ—å¹¶è§¦å‘æ‰€æœ‰ç­‰å¾…çš„ä»»åŠ¡</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">queue</span> = []; <span class="hljs-comment">// æ¸…ç©ºé˜Ÿåˆ—</span>
  }
}
</code></pre>
<p>2.  è°ƒç”¨</p>

<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">handleReady</span>() {
    const waiter = new <span class="hljs-built_in">Waiter</span>();

    <span class="hljs-comment">// ä»»åŠ¡ 1ï¼šç­‰å¾…æ¡ä»¶å‡†å¤‡å¥½åæ‰§è¡Œ</span>
    waiter<span class="hljs-selector-class">.wait</span>()<span class="hljs-selector-class">.then</span>(() =&gt; console<span class="hljs-selector-class">.log</span>("Task <span class="hljs-number">1</span> completed"));

    <span class="hljs-comment">// ä»»åŠ¡ 2ï¼šç­‰å¾…æ¡ä»¶å‡†å¤‡å¥½åæ‰§è¡Œ</span>
    waiter<span class="hljs-selector-class">.wait</span>()<span class="hljs-selector-class">.then</span>(() =&gt; console<span class="hljs-selector-class">.log</span>("Task <span class="hljs-number">2</span> completed"));

    <span class="hljs-comment">// ä»»åŠ¡ 3ï¼šç­‰å¾…æ¡ä»¶å‡†å¤‡å¥½åæ‰§è¡Œ</span>
    waiter<span class="hljs-selector-class">.wait</span>()<span class="hljs-selector-class">.then</span>(() =&gt; console<span class="hljs-selector-class">.log</span>("Task <span class="hljs-number">3</span> completed"));

    <span class="hljs-comment">// åœ¨ 2 ç§’åï¼Œè°ƒç”¨ `ready()`ï¼Œè¡¨ç¤ºæ¡ä»¶å‡†å¤‡å¥½ï¼Œæ‰€æœ‰ä»»åŠ¡å¯ä»¥æ‰§è¡Œ</span>
    <span class="hljs-built_in">setTimeout</span>(() =&gt; {
      waiter<span class="hljs-selector-class">.ready</span>(); <span class="hljs-comment">// è°ƒç”¨ readyï¼Œè§¦å‘æ‰€æœ‰ç­‰å¾…çš„ä»»åŠ¡</span>
    }, <span class="hljs-number">2000</span>);
  }
</code></pre>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/85e8dc0c19774838afd0065b32db4b17~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM5LqM5Zub5LiA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765045&amp;x-signature=md0G6HuMmqTPAmRgWRyD86%2BT6No%3D" alt="image.png" width="70%" loading="lazy"/></p>
<h3 data-id="heading-6">ğŸŒº06. å¯æš‚åœ / æ¢å¤çš„ setIntervalï¼ˆè½®è¯¢ç¥å™¨ï¼‰</h3>
<blockquote>
<p>æ ¸å¿ƒé€»è¾‘ï¼šå¯ä»¥å¯åŠ¨ã€æš‚åœå’Œæ¢å¤ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œè€Œæ— éœ€é‡å¯æ•´ä¸ªå®šæ—¶å™¨</p>
</blockquote>
<blockquote>
<p>ä¸šåŠ¡åœºæ™¯ï¼šé¡µé¢éšè—æš‚åœè½®è¯¢ï¼Œè¿”å›æ¢å¤</p>
</blockquote>
<ol>
<li>è‡ªå®šä¹‰class</li>
</ol>

<pre><code class="hljs language-kotlin" lang="kotlin">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">PausableInterval</span>{
  delay: number;
  fn: any;
  timer: any;
  running: boolean;

  <span class="hljs-keyword">constructor</span>(fn: any, delay: number){
    <span class="hljs-keyword">this</span>.fn = fn            <span class="hljs-comment">// å®šæ—¶ä»»åŠ¡å‡½æ•°</span>
    <span class="hljs-keyword">this</span>.delay = delay      <span class="hljs-comment">// å®šæ—¶å™¨çš„é—´éš”æ—¶é—´ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰</span>
    <span class="hljs-keyword">this</span>.timer = <span class="hljs-literal">null</span>       <span class="hljs-comment">// å­˜å‚¨å®šæ—¶å™¨çš„æ ‡è¯†ç¬¦</span>
    <span class="hljs-keyword">this</span>.running = <span class="hljs-literal">false</span>    <span class="hljs-comment">// æ ‡è®°å®šæ—¶å™¨æ˜¯å¦æ­£åœ¨è¿è¡Œ</span>
  }

  start(){
    <span class="hljs-comment">// å¦‚æœå®šæ—¶å™¨å·²ç»åœ¨è¿è¡Œï¼Œç›´æ¥è¿”å›ï¼Œä¸åšé‡å¤å¯åŠ¨</span>
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.running) <span class="hljs-keyword">return</span>;

    <span class="hljs-keyword">this</span>.running = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">const</span> tick = () =&gt; {
      <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.running) <span class="hljs-keyword">return</span> <span class="hljs-comment">// å¦‚æœå®šæ—¶å™¨å·²æš‚åœï¼Œåˆ™ä¸å†ç»§ç»­æ‰§è¡Œ</span>
      <span class="hljs-keyword">this</span>.fn(); <span class="hljs-comment">// æ‰§è¡Œå®šæ—¶ä»»åŠ¡</span>
      <span class="hljs-keyword">this</span>.timer = setTimeout(tick, <span class="hljs-keyword">this</span>.delay) <span class="hljs-comment">// ä½¿ç”¨ setTimeout æ¨¡æ‹Ÿ setInterval</span>
    }

    tick();
  }

  pause() {
    clearTimeout(<span class="hljs-keyword">this</span>.timer);
    <span class="hljs-keyword">this</span>.running = <span class="hljs-literal">false</span>;
  }

  resume(){
    <span class="hljs-keyword">this</span>.start()
  }
}
</code></pre>
<p>2.  æ¨¡æ‹Ÿè¯·æ±‚</p>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">printMessage</span>(<span class="hljs-params"/>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"Task is running..."</span>);
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> pausableInterval = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PausableInterval</span>(printMessage, <span class="hljs-number">1000</span>);
</code></pre>
<p>3.  è°ƒç”¨</p>

<pre><code class="hljs language-scss" lang="scss">  function <span class="hljs-built_in">handleStartInterval</span>() {
    pausableInterval<span class="hljs-selector-class">.start</span>();

    <span class="hljs-comment">// åœæ­¢å®šæ—¶å™¨</span>
    <span class="hljs-built_in">setTimeout</span>(() =&gt; {
      console<span class="hljs-selector-class">.log</span>("Pausing the task...");
      pausableInterval<span class="hljs-selector-class">.pause</span>();
    }, <span class="hljs-number">3000</span>); <span class="hljs-comment">// 3ç§’åæš‚åœ</span>

    <span class="hljs-comment">// æ¢å¤å®šæ—¶å™¨</span>
    <span class="hljs-built_in">setTimeout</span>(() =&gt; {
      console<span class="hljs-selector-class">.log</span>("Resuming the task...");
      pausableInterval<span class="hljs-selector-class">.resume</span>();
    }, <span class="hljs-number">5000</span>); <span class="hljs-comment">// 5ç§’åæ¢å¤</span>
  }
</code></pre>
<p align="center"><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/83277d0956db476894307ed2f449d697~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LqM5LqM5Zub5LiA:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765045&amp;x-signature=SaSNfA%2BqjP7B31xRX0jc8wBdt80%3D" alt="image.png" width="70%" loading="lazy"/></p>
<h3 data-id="heading-7">ğŸŒ¹07. å¸¦æœ€å¤§ç­‰å¾… maxWait çš„é˜²æŠ–ï¼ˆæœç´¢æ¡†çš„ç¥ï¼‰</h3>
<blockquote>
<p>ä¸šåŠ¡åœºæ™¯ï¼šç”¨äºä¼˜åŒ–é‚£äº›é¢‘ç¹è§¦å‘çš„äº‹ä»¶ï¼Œç‰¹åˆ«æ˜¯åœ¨æœç´¢æ¡†ã€è¾“å…¥æ¡†æˆ–æ»šåŠ¨ç­‰é«˜é¢‘ç‡æ“ä½œä¸­ï¼Œå¸¸å¸¸ç”¨æ¥å‡å°‘ä¸å¿…è¦çš„è®¡ç®—æˆ–è¯·æ±‚</p>
</blockquote>
<ol>
<li>è‡ªå®šä¹‰æ–¹æ³•</li>
</ol>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay, { maxWait = <span class="hljs-number">0</span> } = {}</span>) {
  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>; <span class="hljs-comment">// å­˜æ”¾å®šæ—¶å™¨</span>
  <span class="hljs-keyword">let</span> start = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶é—´</span>

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) {
    <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();  <span class="hljs-comment">// è·å–å½“å‰æ—¶é—´æˆ³</span>
    <span class="hljs-keyword">if</span> (!start) start = now; <span class="hljs-comment">// è®°å½•ç¬¬ä¸€æ¬¡è°ƒç”¨çš„æ—¶é—´</span>

    <span class="hljs-built_in">clearTimeout</span>(timer);  <span class="hljs-comment">// æ¸…é™¤ä¹‹å‰çš„å®šæ—¶å™¨ï¼Œé¿å…å¤šæ¬¡è§¦å‘</span>

    <span class="hljs-keyword">const</span> <span class="hljs-title function_">run</span> = (<span class="hljs-params"/>) =&gt; { 
      start = <span class="hljs-literal">null</span>;  <span class="hljs-comment">// é‡ç½® `start`ï¼Œè¡¨ç¤ºå·²ç»æ‰§è¡Œè¿‡æ“ä½œ</span>
      fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);  <span class="hljs-comment">// æ‰§è¡Œå‡½æ•°ï¼Œå¹¶ä¼ å…¥å½“å‰çš„ `this` å’Œå‚æ•°</span>
    };

    <span class="hljs-comment">// å¦‚æœåˆ°è¾¾ `maxWait` æ—¶é—´ï¼Œå¼ºåˆ¶æ‰§è¡Œ `fn`ï¼›å¦åˆ™ç»§ç»­å»¶è¿Ÿæ‰§è¡Œ</span>
    <span class="hljs-keyword">if</span> (maxWait &amp;&amp; now - start &gt;= maxWait) <span class="hljs-title function_">run</span>(); 
    <span class="hljs-keyword">else</span> timer = <span class="hljs-built_in">setTimeout</span>(run, delay);  <span class="hljs-comment">// åœ¨ `delay` æ—¶é—´åæ‰§è¡Œ</span>
  };
}
</code></pre>
<p>2.  æ¨¡æ‹ŸçŸ­æœŸå†…å¤šæ¬¡è§¦å‘</p>
<pre><code class="hljs language-scss" lang="scss">function <span class="hljs-built_in">searchQuery</span>(query) {
  console<span class="hljs-selector-class">.log</span>("Searching for:", query);
}

const debouncedSearch = <span class="hljs-built_in">debounce</span>(searchQuery, <span class="hljs-number">500</span>, { maxWait: <span class="hljs-number">2000</span> });

<span class="hljs-comment">// æ¨¡æ‹Ÿç”¨æˆ·è¾“å…¥</span>
<span class="hljs-built_in">debouncedSearch</span>("apple");
<span class="hljs-built_in">debouncedSearch</span>("app");
<span class="hljs-built_in">debouncedSearch</span>("appl");
<span class="hljs-built_in">debouncedSearch</span>("apple pie");

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[three.jsåŸºç¡€æ¦‚å¿µ]]></title>    <link>https://juejin.cn/post/7598193992828698678</link>    <guid>https://juejin.cn/post/7598193992828698678</guid>    <pubDate>2026-01-23T09:23:37.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598193992828698678" data-draft-id="7598110132615364662" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="three.jsåŸºç¡€æ¦‚å¿µ"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T09:23:37.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ximimimi"/> <meta itemprop="url" content="https://juejin.cn/user/3350967174040238"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            three.jsåŸºç¡€æ¦‚å¿µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3350967174040238/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ximimimi
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:23:37.000Z" title="Fri Jan 23 2026 09:23:37 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">åŸºç¡€æ¦‚å¿µ</h2>
<ul>
<li>å›¾å…ƒ
æŒ‡çš„æ˜¯3Dçš„å½¢çŠ¶ï¼Œæ¯”å¦‚ç›’å­(<a href="https://link.juejin.cn?target=https%3A%2F%2Fthreejs.org%2Fdocs%2F%23api%2Fen%2Fgeometries%2FBoxGeometry" target="_blank" title="https://threejs.org/docs/#api/en/geometries/BoxGeometry" ref="nofollow noopener noreferrer"><code>BoxGeometry</code></a>)ï¼Œåœ†æŸ±(<a href="https://link.juejin.cn?target=https%3A%2F%2Fthreejs.org%2Fdocs%2F%23api%2Fen%2Fgeometries%2FCylinderGeometry" target="_blank" title="https://threejs.org/docs/#api/en/geometries/CylinderGeometry" ref="nofollow noopener noreferrer"><code>CylinderGeometry</code></a>)ç­‰ã€‚é™¤äº†è¿™äº›å¯ä»¥ç›´æ¥ä½¿ç”¨çš„å½¢çŠ¶å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨BufferGeometryè‡ªå®šä¹‰å½¢çŠ¶</li>
</ul>
<pre><code class="hljs language-js" lang="js">    <span class="hljs-keyword">const</span> objects = [];

   <span class="hljs-comment">// ä¸€çƒå¤šç”¨</span>
   <span class="hljs-keyword">const</span> radius = <span class="hljs-number">1</span>;
   <span class="hljs-keyword">const</span> widthSegments = <span class="hljs-number">6</span>;
   <span class="hljs-keyword">const</span> heightSegments = <span class="hljs-number">6</span>;
   <span class="hljs-keyword">const</span> sphereGeometry = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">SphereGeometry</span>(
     radius,
     widthSegments,
     heightSegments
   );
</code></pre>
<ul>
<li>æè´¨
å‰é¢ç‰©ä½“çš„æè´¨,æœ‰å¾ˆå¤šç§ï¼›<a href="https://link.juejin.cn?target=https%3A%2F%2Fthreejs.org%2Fdocs%2F%23api%2Fzh%2Fmaterials%2FMeshBasicMaterial" target="_blank" title="https://threejs.org/docs/#api/zh/materials/MeshBasicMaterial" ref="nofollow noopener noreferrer"><code>MeshBasicMaterial</code></a>Â ä¸å—å…‰ç…§çš„å½±å“ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fthreejs.org%2Fdocs%2F%23api%2Fzh%2Fmaterials%2FMeshLambertMaterial" target="_blank" title="https://threejs.org/docs/#api/zh/materials/MeshLambertMaterial" ref="nofollow noopener noreferrer"><code>MeshLambertMaterial</code></a>Â åªåœ¨é¡¶ç‚¹è®¡ç®—å…‰ç…§ï¼Œè€ŒÂ <a href="https://link.juejin.cn?target=https%3A%2F%2Fthreejs.org%2Fdocs%2F%23api%2Fzh%2Fmaterials%2FMeshPhongMaterial" target="_blank" title="https://threejs.org/docs/#api/zh/materials/MeshPhongMaterial" ref="nofollow noopener noreferrer"><code>MeshPhongMaterial</code></a>Â åˆ™åœ¨æ¯ä¸ªåƒç´ è®¡ç®—å…‰ç…§ã€‚<a href="https://link.juejin.cn?target=https%3A%2F%2Fthreejs.org%2Fdocs%2F%23api%2Fzh%2Fmaterials%2FMeshPhongMaterial" target="_blank" title="https://threejs.org/docs/#api/zh/materials/MeshPhongMaterial" ref="nofollow noopener noreferrer"><code>MeshPhongMaterial</code></a>Â è¿˜æ”¯æŒé•œé¢é«˜å…‰....
<pre><code class="hljs language-js" lang="js">   <span class="hljs-keyword">const</span> sunMaterial = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">MeshPhongMaterial</span>({ <span class="hljs-attr">emissive</span>: <span class="hljs-number">0xffff00</span> });
</code></pre>
</li>
<li>å±‚æ¬¡
å°†å½¢çŠ¶å’Œæè´¨è¿›è¡Œç»“åˆ
<pre><code class="hljs language-js" lang="js">    <span class="hljs-keyword">const</span> mesh = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Mesh</span>(sphereGeometry, sumMaterial)
</code></pre>
</li>
<li>åœºæ™¯
3Då¼•æ“ä¸­ä¸€ä¸ªå›¾ä¸­èŠ‚ç‚¹çš„å±‚æ¬¡ç»“æ„ï¼Œä»£è¡¨ä¸€ä¸ªå±€éƒ¨ç©ºé—´
const scene = new THREE.Scene()
scene.add(sunMesh);</li>
<li>æ‘„åƒæœº
PerspectiveCamera,æä¾›ä¸€ä¸ªè¿‘å¤§è¿œå°çš„3dè§†è§‰æ•ˆæœï¼Œnearè§†é”¥çš„å‰ç«¯ï¼Œfarè§†é”¥çš„åç«¯ï¼Œforè§†é‡è§’åº¦ï¼Œaspectè§†é”¥å‰ç«¯å’Œåç«¯å®½åº¦ï¼Œ</li>
</ul>
<p><img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/56a7cbd0266b492fad3b8bc9b164f8e7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAgeGltaW1pbWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765117&amp;x-signature=1Fc3bxyPB7jCOpr4nnijRc7prkg%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> camera2 = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(
  <span class="hljs-number">60</span>,  <span class="hljs-comment">// fov</span>
  <span class="hljs-number">2</span>,   <span class="hljs-comment">// aspect</span>
  <span class="hljs-number">0.1</span>, <span class="hljs-comment">// near</span>
  <span class="hljs-number">500</span>, <span class="hljs-comment">// far</span>
);
camera2.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">40</span>, <span class="hljs-number">10</span>, <span class="hljs-number">30</span>);
camera2.<span class="hljs-title function_">lookAt</span>(<span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>);
 
</code></pre>
<ul>
<li>æ¸²æŸ“ç›®æ ‡ THREE.WebGLRenderer,éœ€è¦ä¼ å…¥domç­‰å‚æ•°</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>({ 
  <span class="hljs-attr">canvas</span>: canvas, 
  <span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯æŠ—é”¯é½¿</span>
  <span class="hljs-attr">alpha</span>: <span class="hljs-literal">true</span>      <span class="hljs-comment">// å¼€å¯èƒŒæ™¯é€æ˜</span>
})

renderer.<span class="hljs-title function_">render</span>(scene, camera)
<span class="hljs-comment">// window.requestAnimationFrame(tick)æ¥å®ç°å¾ªç¯æ¸²æŸ“ï¼Œconst tick = () =&gt; {renderer.render(scene, camera)}</span>
</code></pre>
<ul>
<li>è½¨é“æ§åˆ¶å™¨ï¼Œä½¿å¾—å¯ä»¥é€šè¿‡é¼ æ ‡ç§»åŠ¨3då›¾å½¢</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> controls = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrbitControls</span>(camera, canvas)
controls.<span class="hljs-property">enableDamping</span> = <span class="hljs-literal">true</span> <span class="hljs-comment">// å¼€å¯é˜»å°¼æ„Ÿï¼ˆå¹³æ»‘æ—‹è½¬ï¼‰</span>
controls.<span class="hljs-property">dampingFactor</span> = <span class="hljs-number">0.05</span>
<span class="hljs-comment">// é™åˆ¶ç¼©æ”¾èŒƒå›´</span>
controls.<span class="hljs-property">minDistance</span> = <span class="hljs-number">2</span>
controls.<span class="hljs-property">maxDistance</span> = <span class="hljs-number">10</span>
</code></pre>
<ul>
<li>åæ ‡ åœ¨é¡µé¢ä¸Šæ˜¾ç¤ºx y zè½´
<ul>
<li>çº¢è‰²ï¼šXè½´ï¼ˆå‘å³ï¼‰</li>
<li>ç»¿è‰²ï¼šYè½´ï¼ˆå‘ä¸Šï¼‰</li>
<li>è“è‰²ï¼šZè½´ï¼ˆå‘å‰/å‘å±å¹•å¤–ï¼‰</li>
</ul>
</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-comment">// æ·»åŠ åæ ‡è½´è¾…åŠ©å·¥å…·</span>
<span class="hljs-keyword">const</span> axesHelper = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">AxesHelper</span>(<span class="hljs-number">5</span>); <span class="hljs-comment">// å‚æ•°è¡¨ç¤ºåæ ‡è½´é•¿åº¦</span>
scene.<span class="hljs-title function_">add</span>(axesHelper);

<span class="hljs-comment">// æˆ–è€…æŒ‡å®šä¸åŒé•¿åº¦</span>
<span class="hljs-keyword">const</span> axesHelper = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">AxesHelper</span>(<span class="hljs-number">1</span>);
scene.<span class="hljs-title function_">add</span>(axesHelper);
</code></pre>
<ul>
<li>å…‰ç…§
å¢åŠ ä¸€äº›ç¯å¢ƒå…‰ï¼ŒåŠçƒå…‰ç­‰</li>
</ul>
<pre><code class="hljs language-js" lang="js">   <span class="hljs-keyword">const</span> color = <span class="hljs-number">0xFFFFFF</span>;
   <span class="hljs-keyword">const</span> intensity = <span class="hljs-number">1</span>;
   <span class="hljs-keyword">const</span> light = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">AmbientLight</span>(color, intensity);
   scene.<span class="hljs-title function_">add</span>(light);
</code></pre>
<ul>
<li>åŠ è½½å™¨
<ul>
<li>å›¾å…ƒåŠ è½½å™¨ï¼Œå„ç§å›¾å…ƒæ¨¡å‹gltfæ¨¡å‹æˆ–è€…glb(glbæ˜¯gltfçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">GLTFLoader</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'three/examples/jsm/loaders/GLTFLoader.js'</span>
<span class="hljs-keyword">const</span> gltfLoader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GLTFLoader</span>()
<span class="hljs-comment">// åŠ è½½ç”œç”œåœˆæ¨¡å‹</span>
gltfLoader.<span class="hljs-title function_">load</span>(<span class="hljs-built_in">require</span>(<span class="hljs-string">'xxx'</span>))
</code></pre>
</li>
<li>ææ–™åŠ è½½å™¨,æ¯”å¦‚è´´ç‰‡å›¾ç‰‡ï¼Œåˆ›å»ºææ–™ç­‰çº¹ç†èŠ‚ç‚¹</li>
</ul>
<pre><code class="hljs language-js" lang="js"><span class="hljs-keyword">const</span> material = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextureLoad</span>(<span class="hljs-built_in">require</span>(<span class="hljs-string">'XXX'</span>))
</code></pre>
</li>
<li>è®¾ç½®æ¸²æŸ“å¤§å°ä¸ºæ•´ä¸ªå±å¹•</li>
</ul>

<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">getCanvasSize</span> = (<span class="hljs-params"/>) =&gt; {
 <span class="hljs-keyword">const</span> parent = canvas.<span class="hljs-property">parentElement</span>
 <span class="hljs-keyword">return</span> {
   <span class="hljs-attr">width</span>: parent?.<span class="hljs-property">clientWidth</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>,
   <span class="hljs-attr">height</span>: parent?.<span class="hljs-property">clientHeight</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>
 }
}
<span class="hljs-keyword">let</span> sizes = <span class="hljs-title function_">getCanvasSize</span>()
render.<span class="hljs-title function_">setSize</span>(siezs.<span class="hljs-property">width</span>, sizes.<span class="hljs-property">height</span>)
<span class="hljs-comment">// è®¾ç½®åƒç´ æ¯”ï¼Œé˜²æ­¢åœ¨é«˜åˆ†å±ä¸Šæ¨¡ç³Š</span>
renderer.<span class="hljs-title function_">setPixelRatio</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span>, <span class="hljs-number">2</span>))
</code></pre>
<ul>
<li>gui å…è®¸åœ¨é¡µé¢ä¸Šç›´æ¥è°ƒå‚çš„å·¥å…·</li>
</ul>
<h2 data-id="heading-1">å†™ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­</h2>
<pre><code class="hljs language-js" lang="js"><span class="hljs-string">'use client'</span>

<span class="hljs-keyword">import</span> { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'three'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">GLTFLoader</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'three/examples/jsm/loaders/GLTFLoader.js'</span>
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">OrbitControls</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'three/examples/jsm/controls/OrbitControls.js'</span>
<span class="hljs-keyword">import</span> <span class="hljs-variable constant_">GUI</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'lil-gui'</span>

<span class="hljs-keyword">const</span> <span class="hljs-title function_">Page</span> = (<span class="hljs-params"/>) =&gt; {
 <span class="hljs-keyword">const</span> <span class="hljs-title function_">init</span> = (<span class="hljs-params"/>) =&gt; {
   <span class="hljs-comment">// 1. è·å– Canvas å…ƒç´ </span>
   <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">'canvas.webgl'</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLCanvasElement</span> | <span class="hljs-literal">null</span>
   <span class="hljs-keyword">if</span> (!canvas) <span class="hljs-keyword">return</span>

   <span class="hljs-comment">// 2. åˆ›å»ºåœºæ™¯ (Scene)</span>
   <span class="hljs-keyword">const</span> scene = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Scene</span>()

   <span class="hljs-comment">// 2.1 åˆå§‹åŒ– GUI</span>
   <span class="hljs-keyword">const</span> gui = <span class="hljs-keyword">new</span> <span class="hljs-title function_">GUI</span>()
   gui.<span class="hljs-title function_">close</span>() <span class="hljs-comment">// é»˜è®¤å…³é—­</span>
   <span class="hljs-keyword">const</span> debugObject = {
     <span class="hljs-attr">wireframe</span>: <span class="hljs-literal">true</span>
   }

   <span class="hljs-comment">// 3. æ¨¡å‹åŠ è½½å™¨ (GLTFLoader)</span>
   <span class="hljs-keyword">const</span> gltfLoader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GLTFLoader</span>()
   <span class="hljs-keyword">let</span> <span class="hljs-attr">donut</span>: <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">Object3D</span> | <span class="hljs-literal">null</span> = <span class="hljs-literal">null</span>

   <span class="hljs-comment">// åŠ è½½ç”œç”œåœˆæ¨¡å‹</span>
   <span class="hljs-comment">// æ³¨æ„ï¼šè¿™é‡Œä½¿ç”¨ /api/static ä»£ç†è·¯å¾„æ¥ç»•è¿‡ Next.js å¯¹ .gltf æ–‡ä»¶çš„æ¨¡å—å¯¼å…¥é™åˆ¶</span>
   gltfLoader.<span class="hljs-title function_">setPath</span>(<span class="hljs-string">'/api/static/assets/donut/'</span>)
   gltfLoader.<span class="hljs-title function_">load</span>(
     <span class="hljs-string">'scene.gltf'</span>,
     <span class="hljs-function">(<span class="hljs-params">gltf</span>) =&gt;</span> {
       donut = gltf.<span class="hljs-property">scene</span> <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">Object3D</span>
       
       <span class="hljs-comment">// æ›´æ–°æ¨¡å‹çº¿æ¡†æ¨¡å¼çš„å‡½æ•°</span>
       <span class="hljs-keyword">const</span> <span class="hljs-title function_">updateWireframe</span> = (<span class="hljs-params"/>) =&gt; {
         <span class="hljs-keyword">if</span> (!donut) <span class="hljs-keyword">return</span>
         donut.<span class="hljs-title function_">traverse</span>(<span class="hljs-function">(<span class="hljs-params">child</span>) =&gt;</span> {
           <span class="hljs-keyword">if</span> ((child <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">Mesh</span>).<span class="hljs-property">isMesh</span>) {
             <span class="hljs-keyword">const</span> mesh = child <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">Mesh</span>
             <span class="hljs-keyword">const</span> materials = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(mesh.<span class="hljs-property">material</span>) ? mesh.<span class="hljs-property">material</span> : [mesh.<span class="hljs-property">material</span>]
             materials.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">m: THREE.Material</span>) =&gt;</span> {
               <span class="hljs-keyword">if</span> (<span class="hljs-string">'wireframe'</span> <span class="hljs-keyword">in</span> m) {
                 ;(m <span class="hljs-keyword">as</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">MeshStandardMaterial</span>).<span class="hljs-property">wireframe</span> = debugObject.<span class="hljs-property">wireframe</span>
               }
             })
           }
         })
       }

       <span class="hljs-comment">// åˆå§‹åŒ–çº¿æ¡†çŠ¶æ€</span>
       <span class="hljs-title function_">updateWireframe</span>()

       <span class="hljs-comment">// æ·»åŠ  GUI æ§åˆ¶</span>
       gui.<span class="hljs-title function_">add</span>(debugObject, <span class="hljs-string">'wireframe'</span>)
         .<span class="hljs-title function_">name</span>(<span class="hljs-string">'æ˜¾ç¤ºçº¿æ€§'</span>)
         .<span class="hljs-title function_">onChange</span>(updateWireframe)

       <span class="hljs-keyword">const</span> radius = <span class="hljs-number">8.5</span>
       <span class="hljs-comment">// è®¾ç½®åˆå§‹ä½ç½®</span>
       donut.<span class="hljs-property">position</span>.<span class="hljs-property">x</span> = <span class="hljs-number">0</span>
       <span class="hljs-comment">// è®¾ç½®æ¨¡å‹ç¼©æ”¾å€æ•°</span>
       donut.<span class="hljs-property">scale</span>.<span class="hljs-title function_">set</span>(radius, radius, radius)
       scene.<span class="hljs-title function_">add</span>(donut)

     },
     <span class="hljs-literal">undefined</span>,
     <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> { <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">'æ¨¡å‹åŠ è½½å¤±è´¥:'</span>, error) }
   )

   <span class="hljs-comment">// 4. ç¯å…‰è®¾ç½® (Lights)</span>
   <span class="hljs-comment">// ç¯å¢ƒå…‰ï¼šæä¾›åŸºç¡€äº®åº¦ï¼Œç¡®ä¿æš—éƒ¨ä¸ä¼šå®Œå…¨å˜é»‘</span>
   <span class="hljs-keyword">const</span> ambientLight = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">AmbientLight</span>(<span class="hljs-number">0xffffff</span>, <span class="hljs-number">1.2</span>)
   scene.<span class="hljs-title function_">add</span>(ambientLight)

   <span class="hljs-comment">// å¹³è¡Œå…‰ï¼šæ¨¡æ‹Ÿå¤ªé˜³å…‰ï¼Œäº§ç”Ÿé˜´å½±å’Œç«‹ä½“æ„Ÿ</span>
   <span class="hljs-keyword">const</span> directionalLight = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">DirectionalLight</span>(<span class="hljs-number">0xffffff</span>, <span class="hljs-number">1.5</span>)
   directionalLight.<span class="hljs-property">position</span>.<span class="hljs-title function_">set</span>(<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">1</span>)
   directionalLight.<span class="hljs-property">castShadow</span> = <span class="hljs-literal">true</span> <span class="hljs-comment">// å¼€å¯é˜´å½±æŠ•å½±</span>
   scene.<span class="hljs-title function_">add</span>(directionalLight)

   <span class="hljs-comment">// 5. è§†å£å¤§å°è®¾ç½®</span>
   <span class="hljs-keyword">const</span> <span class="hljs-title function_">getCanvasSize</span> = (<span class="hljs-params"/>) =&gt; {
     <span class="hljs-keyword">const</span> parent = canvas.<span class="hljs-property">parentElement</span>
     <span class="hljs-keyword">return</span> {
       <span class="hljs-attr">width</span>: parent?.<span class="hljs-property">clientWidth</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span>,
       <span class="hljs-attr">height</span>: parent?.<span class="hljs-property">clientHeight</span> || <span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span>
     }
   }
   <span class="hljs-keyword">let</span> sizes = <span class="hljs-title function_">getCanvasSize</span>()

   <span class="hljs-comment">// 6. ç›¸æœºè®¾ç½® (Camera)</span>
   <span class="hljs-comment">// ä½¿ç”¨é€è§†ç›¸æœº (PerspectiveCamera)</span>
   <span class="hljs-keyword">const</span> camera = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">PerspectiveCamera</span>(<span class="hljs-number">35</span>, sizes.<span class="hljs-property">width</span> / sizes.<span class="hljs-property">height</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">1000</span>)
   camera.<span class="hljs-property">position</span>.<span class="hljs-property">z</span> = <span class="hljs-number">5</span> <span class="hljs-comment">// ç›¸æœºåç§»ï¼Œä»¥ä¾¿çœ‹æ¸…åœºæ™¯</span>
   camera.<span class="hljs-title function_">lookAt</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
   scene.<span class="hljs-title function_">add</span>(camera)

   <span class="hljs-comment">// 7. æ¸²æŸ“å™¨è®¾ç½® (Renderer)</span>
   <span class="hljs-keyword">const</span> renderer = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">WebGLRenderer</span>({ 
     <span class="hljs-attr">canvas</span>: canvas, 
     <span class="hljs-attr">antialias</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// å¼€å¯æŠ—é”¯é½¿</span>
     <span class="hljs-attr">alpha</span>: <span class="hljs-literal">true</span>      <span class="hljs-comment">// å¼€å¯èƒŒæ™¯é€æ˜</span>
   })
   renderer.<span class="hljs-property">shadowMap</span>.<span class="hljs-property">enabled</span> = <span class="hljs-literal">true</span> <span class="hljs-comment">// å¼€å¯é˜´å½±æ¸²æŸ“</span>
   renderer.<span class="hljs-property">shadowMap</span>.<span class="hljs-property">type</span> = <span class="hljs-variable constant_">THREE</span>.<span class="hljs-property">PCFSoftShadowMap</span> <span class="hljs-comment">// è®¾ç½®æŸ”å’Œé˜´å½±</span>
   renderer.<span class="hljs-title function_">setSize</span>(sizes.<span class="hljs-property">width</span>, sizes.<span class="hljs-property">height</span>)
   <span class="hljs-comment">// è®¾ç½®åƒç´ æ¯”ï¼Œé˜²æ­¢åœ¨é«˜åˆ†å±ä¸Šæ¨¡ç³Š</span>
   renderer.<span class="hljs-title function_">setPixelRatio</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span>, <span class="hljs-number">2</span>))

   <span class="hljs-comment">// 7.1 è½¨é“æ§åˆ¶å™¨ (OrbitControls)</span>
   <span class="hljs-keyword">const</span> controls = <span class="hljs-keyword">new</span> <span class="hljs-title class_">OrbitControls</span>(camera, canvas)
   controls.<span class="hljs-property">enableDamping</span> = <span class="hljs-literal">true</span> <span class="hljs-comment">// å¼€å¯é˜»å°¼æ„Ÿï¼ˆå¹³æ»‘æ—‹è½¬ï¼‰</span>
   controls.<span class="hljs-property">dampingFactor</span> = <span class="hljs-number">0.05</span>
   <span class="hljs-comment">// é™åˆ¶ç¼©æ”¾èŒƒå›´</span>
   controls.<span class="hljs-property">minDistance</span> = <span class="hljs-number">2</span>
   controls.<span class="hljs-property">maxDistance</span> = <span class="hljs-number">10</span>

   <span class="hljs-comment">// 8. åŠ¨ç”»å¾ªç¯ (Animation Loop)</span>
   <span class="hljs-keyword">const</span> clock = <span class="hljs-keyword">new</span> <span class="hljs-variable constant_">THREE</span>.<span class="hljs-title class_">Clock</span>()
   <span class="hljs-keyword">const</span> <span class="hljs-title function_">tick</span> = (<span class="hljs-params"/>) =&gt; {
     <span class="hljs-keyword">const</span> elapsedTime = clock.<span class="hljs-title function_">getElapsedTime</span>()

     <span class="hljs-keyword">if</span> (donut) {
       <span class="hljs-comment">// è®¾å®šåŸºç¡€å€¾æ–œè§’åº¦ï¼Œä½¿å…¶æ­£é¢æœå‘å±å¹•å¹¶æœ‰ç«‹ä½“æ„Ÿ</span>
       <span class="hljs-keyword">const</span> baseRotationX = <span class="hljs-number">0.8</span>
       <span class="hljs-keyword">const</span> baseRotationY = <span class="hljs-number">0.8</span>
       
       <span class="hljs-comment">// åŠ¨æ€è®¡ç®—ï¼šåŸºç¡€è§’åº¦ + æ­£å¼¦æ³¢æ™ƒåŠ¨ï¼Œå®ç°è½»å¾®çš„æµ®åŠ¨æ•ˆæœ</span>
       donut.<span class="hljs-property">rotation</span>.<span class="hljs-property">y</span> = baseRotationY + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(elapsedTime * <span class="hljs-number">0.4</span>) * <span class="hljs-number">0.1</span>
       donut.<span class="hljs-property">rotation</span>.<span class="hljs-property">x</span> = baseRotationX + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(elapsedTime * <span class="hljs-number">0.2</span>) * <span class="hljs-number">0.05</span>
       <span class="hljs-comment">// Y è½´ä½ç½®åŠ¨æ€æµ®åŠ¨</span>
       donut.<span class="hljs-property">position</span>.<span class="hljs-property">y</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(elapsedTime * <span class="hljs-number">0.5</span>) * <span class="hljs-number">0.1</span>
     }

     <span class="hljs-comment">// æ›´æ–°æ§åˆ¶å™¨ï¼ˆå¦‚æœå¼€å¯äº† enableDampingï¼Œå¿…é¡»åœ¨æ¯ä¸€å¸§è°ƒç”¨ï¼‰</span>
     controls.<span class="hljs-title function_">update</span>()

     <span class="hljs-comment">// æ‰§è¡Œæ¸²æŸ“</span>
     renderer.<span class="hljs-title function_">render</span>(scene, camera)
     <span class="hljs-comment">// è¯·æ±‚ä¸‹ä¸€å¸§åŠ¨ç”»</span>
     <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">requestAnimationFrame</span>(tick)
   }

   <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleResize</span> = (<span class="hljs-params"/>) =&gt; {
     sizes = <span class="hljs-title function_">getCanvasSize</span>()
     
     <span class="hljs-comment">// æ›´æ–°ç›¸æœº</span>
     camera.<span class="hljs-property">aspect</span> = sizes.<span class="hljs-property">width</span> / sizes.<span class="hljs-property">height</span>
     camera.<span class="hljs-title function_">updateProjectionMatrix</span>()

     <span class="hljs-comment">// æ›´æ–°æ¸²æŸ“å™¨</span>
     renderer.<span class="hljs-title function_">setSize</span>(sizes.<span class="hljs-property">width</span>, sizes.<span class="hljs-property">height</span>)
     renderer.<span class="hljs-title function_">setPixelRatio</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">devicePixelRatio</span>, <span class="hljs-number">2</span>))
   }

   <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'resize'</span>, handleResize)
   <span class="hljs-title function_">tick</span>()

   <span class="hljs-comment">// è¿”å›æ¸…ç†å‡½æ•°ï¼Œé”€æ¯ GUI å’Œäº‹ä»¶ç›‘å¬</span>
   <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
     gui.<span class="hljs-title function_">destroy</span>()
     <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'resize'</span>, handleResize)
   }
 }

 <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
   <span class="hljs-keyword">const</span> cleanup = <span class="hljs-title function_">init</span>()
   <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
     <span class="hljs-keyword">if</span> (cleanup) <span class="hljs-title function_">cleanup</span>()
   }
 }, [])

 <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"min-h-screen w-full flex flex-col lg:flex-row bg-[#fdf2f8]"</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">canvas</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"webgl w-full h-full block"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">canvas</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
 )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Page</span>

</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å›å½’åˆå¿ƒï¼ŒReactä¸ºå•¥å½“åˆè¦è®¾è®¡Hookï¼Ÿ]]></title>    <link>https://juejin.cn/post/7598287024077242408</link>    <guid>https://juejin.cn/post/7598287024077242408</guid>    <pubDate>2026-01-23T09:23:00.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598287024077242408" data-draft-id="7598287024076423208" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å›å½’åˆå¿ƒï¼ŒReactä¸ºå•¥å½“åˆè¦è®¾è®¡Hookï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2026-01-23T09:23:00.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="sophieæ—­"/> <meta itemprop="url" content="https://juejin.cn/user/2559318799692952"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å›å½’åˆå¿ƒï¼ŒReactä¸ºå•¥å½“åˆè¦è®¾è®¡Hookï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2559318799692952/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    sophieæ—­
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:23:00.000Z" title="Fri Jan 23 2026 09:23:00 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">èƒŒæ™¯</h2>
<p>ç”¨äº†è¿™ä¹ˆä¹… Reactï¼Œå·²ç»é»˜è®¤ç”¨å‡½æ•°å†™ç»„ä»¶äº†ï¼Œéƒ½å¿«å¿˜äº†æ€ä¹ˆå†™ç±»ç»„ä»¶äº†ï¼Œç»å†è¿‡å†™ç±»ç»„ä»¶çš„æ—¶ä»£ï¼Œç°åœ¨ç”¨å‡½æ•°ç»„ä»¶ï¼Œä¸€å¼€å§‹ç¡®å®æœ‰ä¸Šæ‰‹æ—¶é—´æˆæœ¬ï¼Œä½†æ˜¯ç°åœ¨ç”¨è¿‡ä¹‹åä¹Ÿæ˜¯è§‰å¾—çœŸé¦™ï¼Œåˆ°åº•é¦™åœ¨å“ªï¼Ÿåˆ°åº•Reactä¸ºå•¥æ¨å´‡Hookå‘¢ï¼Ÿæˆ‘ä»¬ä¸€èµ·æ¢ç©¶ä¸€ä¸‹å§</p>
<h2 data-id="heading-1"><strong>å¯¹ã€Œç±»ç»„ä»¶ç—›ç‚¹ã€çš„ç›´æ¥å›åº”</strong></h2>
<p>è®©æˆ‘ä»¬å›åˆ° ç±»ç»„ä»¶å¼€å‘æ—¶ä»£ï¼Œçœ‹çœ‹åˆ°åº•ç±»ç»„ä»¶çš„è¯Ÿç—…æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<h2 data-id="heading-2">ç±»ç»„ä»¶ç—›ç‚¹1: <code>this</code> æŒ‡å‘æ··ä¹±</h2>
<h3 data-id="heading-3">ç±»ç»„ä»¶thisä¸¢å¤±é—®é¢˜</h3>
<p>ç±»ç»„ä»¶çš„æ–¹æ³•é»˜è®¤ä¸ä¼šç»‘å®š thisï¼Œå¯¼è‡´æˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨å¤„ç† this æŒ‡å‘ï¼Œç¨ä¸æ³¨æ„å°±ä¼šå‡ºé”™ã€‚è¿™æ˜¯ä¸ºä»€ä¹ˆ</p>
<p>ä½ æƒ³å¼„æ˜ç™½ä¸ºä»€ä¹ˆç±»ç»„ä»¶çš„æ–¹æ³•é»˜è®¤ä¸ç»‘å®š <code>this</code>ï¼Œä»¥åŠä¸ºä»€ä¹ˆè¿™ä¼šå¯¼è‡´æŒ‡å‘æ··ä¹±çš„é—®é¢˜ï¼Œæ ¸å¿ƒåŸå› è¦ä» <strong>JavaScript ä¸­ <code>this</code> çš„ç»‘å®šè§„åˆ™</strong> å’Œ <strong>React ç±»ç»„ä»¶çš„è®¾è®¡æ–¹å¼</strong> ä¸¤ä¸ªå±‚é¢æ¥è§£é‡Šï¼Œæˆ‘ä¼šç”¨é€šä¿—çš„è¯­è¨€+å®ä¾‹è®²æ¸…æ¥šã€‚</p>
<h4 data-id="heading-4">ä¸€ã€å…ˆææ‡‚ï¼šJavaScript ä¸­ <code>this</code> æŒ‡å‘çš„æ ¸å¿ƒè§„åˆ™</h4>
<p><code>this</code> æ˜¯ JavaScript ä¸­ä¸€ä¸ªã€ŒåŠ¨æ€ç»‘å®šã€çš„å…³é”®å­—â€”â€”å®ƒçš„æŒ‡å‘<strong>ä¸æ˜¯åœ¨å®šä¹‰å‡½æ•°æ—¶ç¡®å®šçš„ï¼Œè€Œæ˜¯åœ¨è°ƒç”¨å‡½æ•°æ—¶ç¡®å®šçš„</strong>ã€‚è¿™æ˜¯ç†è§£æ‰€æœ‰ <code>this</code> é—®é¢˜çš„æ ¹æœ¬ã€‚</p>
<h5 data-id="heading-5">å…³é”®è§„åˆ™ï¼šä¸åŒè°ƒç”¨æ–¹å¼ï¼Œ<code>this</code> æŒ‡å‘ä¸åŒ</h5>
<p>æˆ‘ä»¬ç”¨ä¸€ä¸ªæ™®é€šçš„ JavaScript ç±»æ¥ä¸¾ä¾‹ï¼ˆReact ç±»ç»„ä»¶æœ¬è´¨å°±æ˜¯ JavaScript ç±»ï¼‰ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">// è¿™é‡Œçš„ this æŒ‡å‘ Person çš„å®ä¾‹</span>
  }

  <span class="hljs-title function_">sayHi</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä½ å¥½ï¼Œæˆ‘æ˜¯<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.name}</span>`</span>); <span class="hljs-comment">// this æŒ‡å‘è°ï¼Ÿçœ‹è°ƒç”¨æ–¹å¼</span>
  }
}

<span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">'å¼ ä¸‰'</span>);

<span class="hljs-comment">// æ–¹å¼1ï¼šé€šè¿‡å®ä¾‹è°ƒç”¨ â†’ this æŒ‡å‘å®ä¾‹ p</span>
p.<span class="hljs-title function_">sayHi</span>(); <span class="hljs-comment">// è¾“å‡ºï¼šä½ å¥½ï¼Œæˆ‘æ˜¯å¼ ä¸‰</span>

<span class="hljs-comment">// æ–¹å¼2ï¼šæŠŠæ–¹æ³•å•ç‹¬æŠ½å‡ºæ¥è°ƒç”¨ â†’ this ä¸¢å¤±ï¼ˆéä¸¥æ ¼æ¨¡å¼ä¸‹æŒ‡å‘ windowï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹æ˜¯ undefinedï¼‰</span>
<span class="hljs-keyword">const</span> sayHi = p.<span class="hljs-property">sayHi</span>;
<span class="hljs-title function_">sayHi</span>(); <span class="hljs-comment">// éä¸¥æ ¼æ¨¡å¼ï¼šä½ å¥½ï¼Œæˆ‘æ˜¯undefinedï¼›ä¸¥æ ¼æ¨¡å¼ï¼šUncaught TypeError: Cannot read property 'name' of undefined</span>
</code></pre>
<p>æ ¸å¿ƒç»“è®ºï¼š</p>
<ul>
<li>å½“ä½ é€šè¿‡ <code>å®ä¾‹.æ–¹æ³•()</code> è°ƒç”¨æ—¶ï¼Œ<code>this</code> ç»‘å®šåˆ°è¿™ä¸ªå®ä¾‹ï¼›</li>
<li>å½“ä½ æŠŠæ–¹æ³•ã€Œå•ç‹¬æå–ã€åè°ƒç”¨ï¼ˆæ¯”å¦‚èµ‹å€¼ç»™å˜é‡ã€ä½œä¸ºå›è°ƒå‡½æ•°ï¼‰ï¼Œ<code>this</code> å°±ä¼šä¸¢å¤±åŸæœ¬çš„ç»‘å®šï¼ŒæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆæµè§ˆå™¨ä¸­æ˜¯ <code>window</code>ï¼‰æˆ– <code>undefined</code>ï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-6">äºŒã€React ç±»ç»„ä»¶ä¸­ <code>this</code> ä¸¢å¤±çš„å…·ä½“åœºæ™¯</h4>
<p>React ç±»ç»„ä»¶çš„æ–¹æ³•ä¸¢å¤± <code>this</code>ï¼Œæœ¬è´¨å°±æ˜¯ä¸Šé¢çš„ã€Œæ–¹å¼2ã€â€”â€”React åœ¨å¤„ç†äº‹ä»¶å›è°ƒæ—¶ï¼Œä¼šæŠŠä½ çš„æ–¹æ³•ã€Œå•ç‹¬æå–ã€åè°ƒç”¨ï¼Œå¯¼è‡´ <code>this</code> ä¸å†æŒ‡å‘ç»„ä»¶å®ä¾‹ã€‚</p>
<h5 data-id="heading-7">åœºæ™¯è¿˜åŸï¼šReact ç±»ç»„ä»¶çš„ç‚¹å‡»äº‹ä»¶</h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>) {
    <span class="hljs-variable language_">super</span>(props);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> };
  }

  <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// è¿™é‡Œçš„ this æœ¬è¯¥æŒ‡å‘ Counter å®ä¾‹ï¼Œä½†å®é™…æ˜¯ undefinedï¼ˆReact é»˜è®¤å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼‰</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">count</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> });
  }

  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// é—®é¢˜å‡ºåœ¨è¿™é‡Œï¼šä½ æŠŠ this.handleClick ä½œä¸º onClick çš„å›è°ƒ â†’ ç›¸å½“äºæŠŠæ–¹æ³•æŠ½ç¦»äº†</span>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.handleClick}</span>&gt;</span>+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
  }
}
</code></pre>
<p>ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ</p>
<ol>
<li><code>render</code> å‡½æ•°æ‰§è¡Œæ—¶ï¼Œä½ ä¼ ç»™ <code>onClick</code> çš„æ˜¯ <code>this.handleClick</code>â€”â€”<strong>è¿™åªæ˜¯æŠŠæ–¹æ³•çš„ã€Œå¼•ç”¨ã€ä¼ äº†è¿‡å»ï¼Œå¹¶æ²¡æœ‰ç«‹å³è°ƒç”¨</strong>ï¼›</li>
<li>å½“ç”¨æˆ·ç‚¹å‡»æŒ‰é’®æ—¶ï¼ŒReact å†…éƒ¨ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼ˆç±»ä¼¼ <code>const callback = this.handleClick; callback()</code>ï¼‰ï¼›</li>
<li>æ­¤æ—¶è°ƒç”¨çš„æ˜¯ã€Œå­¤ç«‹çš„æ–¹æ³•ã€ï¼Œä¸æ˜¯é€šè¿‡ <code>å®ä¾‹.handleClick()</code> è°ƒç”¨ï¼Œæ‰€ä»¥ <code>this</code> ä¸¢å¤±ï¼ŒæŒ‡å‘ <code>undefined</code>ï¼ˆReact ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼‰ã€‚</li>
</ol>
<h4 data-id="heading-8">ä¸‰ã€ä¸ºä»€ä¹ˆ React ä¸é»˜è®¤å¸®æˆ‘ä»¬ç»‘å®š <code>this</code>ï¼Ÿ</h4>
<p>ä½ å¯èƒ½ä¼šé—®ï¼šReact ä¸ºä»€ä¹ˆä¸ç›´æ¥æŠŠç±»ç»„ä»¶çš„æ–¹æ³•éƒ½è‡ªåŠ¨ç»‘å®šåˆ°å®ä¾‹ä¸Šï¼Ÿæ ¸å¿ƒåŸå› æ˜¯ï¼š</p>
<ol>
<li><strong>éµå¾ª JavaScript åŸç”Ÿè§„åˆ™</strong>ï¼šReact æ˜¯åŸºäº JavaScript æ„å»ºçš„åº“ï¼Œä¸ä¼šåˆ»æ„ä¿®æ”¹ JS åŸç”Ÿçš„ <code>this</code> ç»‘å®šé€»è¾‘ï¼Œå¦åˆ™ä¼šå¢åŠ å­¦ä¹ æˆæœ¬å’Œæ½œåœ¨çš„å…¼å®¹æ€§é—®é¢˜ï¼›</li>
<li><strong>æ€§èƒ½ä¸çµæ´»æ€§</strong>ï¼šå¦‚æœé»˜è®¤ç»‘å®šæ‰€æœ‰æ–¹æ³•ï¼Œä¼šä¸ºæ¯ä¸ªç»„ä»¶å®ä¾‹åˆ›å»ºé¢å¤–çš„å‡½æ•°å¼•ç”¨ï¼Œå¢åŠ å†…å­˜å¼€é”€ï¼›è€Œè®©å¼€å‘è€…æ‰‹åŠ¨å¤„ç†ï¼Œèƒ½æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©ç»‘å®šæ–¹å¼ï¼ˆæ¯”å¦‚åªç»‘å®šéœ€è¦çš„æ–¹æ³•ï¼‰ã€‚</li>
</ol>
<p>æˆ‘ç”¨å¤§ç™½è¯æ¥è§£é‡Šä¸‹ï¼Œå…¶å®å°±æ˜¯ ï¼š<strong><code>æ”¾æ‰‹è®©å¼€å‘è€…å»è®¾ç½®thisï¼Œæˆ‘ä¸æºåˆäº†</code></strong></p>
<p>React ã€Œä¸ä¸»åŠ¨æ›¿ä½ åšç»‘å®šï¼Œåªéµå¾ª JS åŸç”Ÿè§„åˆ™ï¼ŒæŠŠæ§åˆ¶æƒå®Œå…¨äº¤ç»™ä½ ã€ã€‚</p>
<p>ç”¨æ›´é€šä¿—çš„è¯è®²ï¼š</p>
<p>âœ… React çš„æ€åº¦ï¼šã€Œæˆ‘ä¸æºåˆ <code>this</code> çš„ç»‘å®šé€»è¾‘ï¼Œä½ æŒ‰ JavaScript åŸç”Ÿçš„è§„çŸ©æ¥å°±è¡Œâ€”â€”æƒ³è®© <code>this</code> æŒ‡å‘å®ä¾‹ï¼Œä½ å°±è‡ªå·±ç»‘ï¼›æƒ³è®© <code>this</code> æŒ‡å‘åˆ«çš„ï¼ˆæ¯”å¦‚å­ç»„ä»¶ã€å…¨å±€ï¼‰ï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±æ”¹ã€‚æˆ‘åªè´Ÿè´£æŠŠä½ å†™çš„æ–¹æ³•ã€åŸæ ·è°ƒç”¨ã€ï¼Œä¸æ›¿ä½ åšä»»ä½•é¢å¤–çš„ç»‘å®šæ“ä½œã€‚ã€</p>
<p>å¯¹æ¯”ä¸€ä¸‹å¦‚æœ React ä¸»åŠ¨æºåˆçš„æƒ…å†µï¼š</p>
<p>âŒ è¦æ˜¯ React è‡ªåŠ¨æŠŠæ‰€æœ‰æ–¹æ³•çš„ <code>this</code> ç»‘åˆ°ç»„ä»¶å®ä¾‹ï¼Œç›¸å½“äºã€Œæˆ‘æ›¿ä½ åšäº†å†³å®šã€â€”â€”ä½ æƒ³æ”¹ <code>this</code> æŒ‡å‘éƒ½æ”¹ä¸äº†ï¼Œè¿˜å¾—é¢å¤–å­¦ React è¿™å¥—ã€Œç‰¹æ®Šè§„åˆ™ã€ï¼Œåè€Œæ›´éº»çƒ¦ã€‚</p>
<h5 data-id="heading-9">æœ€ç»ˆæ ¸å¿ƒæ€»ç»“</h5>
<ol>
<li>React å¯¹ç±»ç»„ä»¶ <code>this</code> çš„æ€åº¦ï¼š<strong>ä¸å¹²é¢„ã€ä¸ä¿®æ”¹ã€åªéµå¾ªåŸç”Ÿ JS è§„åˆ™</strong>ï¼›</li>
<li>æŠŠã€Œ<code>this</code> è¯¥æŒ‡å‘å“ªã€çš„å†³å®šæƒï¼Œå®Œå…¨äº¤ç»™å¼€å‘è€…ï¼›</li>
<li>è¿™ä¹ˆåšæ—¢é¿å…äº†å­¦ä¹ æˆæœ¬ç¿»å€ï¼Œä¹Ÿå…¼é¡¾äº†æ€§èƒ½ï¼ˆæŒ‰éœ€ç»‘å®šï¼‰å’Œçµæ´»æ€§ï¼ˆå¯è‡ªå®šä¹‰ <code>this</code> æŒ‡å‘ï¼‰ã€‚</li>
</ol>
<p>ä½ è¿™ä¸ªã€Œæ”¾æ‰‹è®©å¼€å‘è€…å»è®¾ç½®ï¼Œæˆ‘ä¸æºåˆã€çš„æ€»ç»“ï¼Œç²¾å‡†æŠ“ä½äº† React è®¾è®¡çš„æ ¸å¿ƒâ€”â€”<strong><code>å°Šé‡åŸç”Ÿ JSï¼ŒæŠŠæ§åˆ¶æƒè¿˜ç»™å¼€å‘è€…</code></strong>ã€‚</p>
<h4 data-id="heading-10">å››ã€ç±»ç»„ä»¶ä¸­è§£å†³ <code>this</code> ä¸¢å¤±çš„ 3 ç§å¸¸ç”¨æ–¹å¼</h4>
<p>çŸ¥é“äº†åŸå› ï¼Œå†çœ‹è§£å†³æ–¹æ¡ˆå°±å¾ˆæ¸…æ™°äº†ï¼Œæœ¬è´¨éƒ½æ˜¯ã€Œå¼ºåˆ¶æŠŠ <code>this</code> ç»‘å®šåˆ°ç»„ä»¶å®ä¾‹ã€ï¼š</p>
<h5 data-id="heading-11">æ–¹å¼ 1ï¼šåœ¨æ„é€ å‡½æ•°ä¸­æ‰‹åŠ¨ bindï¼ˆå®˜æ–¹æ—©æœŸæ¨èï¼‰</h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-variable language_">super</span>(props);
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> };
  <span class="hljs-comment">// æ ¸å¿ƒï¼šæŠŠ handleClick çš„ this å¼ºåˆ¶ç»‘å®šåˆ°å½“å‰å®ä¾‹</span>
  <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleClick</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleClick</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);
}
</code></pre>
<h5 data-id="heading-12">æ–¹å¼ 2ï¼šä½¿ç”¨ç®­å¤´å‡½æ•°å®šä¹‰æ–¹æ³•ï¼ˆæœ€ç®€æ´ï¼‰</h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„ thisï¼Œä¼šç»§æ‰¿å¤–å±‚ä½œç”¨åŸŸçš„ thisï¼ˆå³ç»„ä»¶å®ä¾‹ï¼‰</span>
handleClick = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">count</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> });
};
</code></pre>
<h5 data-id="heading-13">æ–¹å¼ 3ï¼šåœ¨è°ƒç”¨æ—¶ç”¨ç®­å¤´å‡½æ•°åŒ…è£¹ï¼ˆä¸æ¨èï¼Œæ¯æ¬¡æ¸²æŸ“åˆ›å»ºæ–°å‡½æ•°ï¼‰</h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// æ¯æ¬¡ render éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç®­å¤´å‡½æ•°ï¼Œå¯èƒ½å¯¼è‡´å­ç»„ä»¶ä¸å¿…è¦çš„é‡æ¸²æŸ“</span>
&lt;button onClick={<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleClick</span>()}&gt;+<span class="hljs-number">1</span>&lt;/button&gt;;
</code></pre>
<h4 data-id="heading-14">æ€»ç»“</h4>
<ol>
<li><strong>æ ¹æœ¬åŸå› </strong>ï¼šJavaScript ä¸­ <code>this</code> æ˜¯ã€Œè°ƒç”¨æ—¶ç»‘å®šã€çš„ï¼ŒReact ç±»ç»„ä»¶æŠŠæ–¹æ³•ä½œä¸ºäº‹ä»¶å›è°ƒæ—¶ï¼Œæ–¹æ³•ä¼šè¢«å­¤ç«‹è°ƒç”¨ï¼Œå¯¼è‡´ <code>this</code> ä¸¢å¤±ï¼ˆä¸å†æŒ‡å‘ç»„ä»¶å®ä¾‹ï¼‰ï¼›</li>
<li><strong>æ ¸å¿ƒçŸ›ç›¾</strong>ï¼šReact éµå¾ª JS åŸç”Ÿè§„åˆ™ï¼Œæ²¡æœ‰é»˜è®¤ç»‘å®š <code>this</code>ï¼Œè€Œå¼€å‘è€…å®¹æ˜“å¿½ç•¥ã€Œè°ƒç”¨æ–¹å¼ã€å¯¹ <code>this</code> çš„å½±å“ï¼›</li>
<li><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šé€šè¿‡ <code>bind</code>ã€ç®­å¤´å‡½æ•°ç­‰æ–¹å¼ï¼Œå¼ºåˆ¶æŠŠæ–¹æ³•çš„ <code>this</code> ç»‘å®šåˆ°ç»„ä»¶å®ä¾‹ä¸Šã€‚</li>
</ol>
<h3 data-id="heading-15">å‡½æ•°ç»„ä»¶: å½»åº•æŠ›å¼ƒthisï¼Œå°±ä¸ä¼šæœ‰thisæŒ‡å‘é—®é¢˜äº†</h3>
<h4 data-id="heading-16">æ ¸å¿ƒåŸå› </h4>
<ol>
<li><strong>æ ¸å¿ƒå·®å¼‚</strong>ï¼šç±»ç»„ä»¶çš„çŠ¶æ€/æ–¹æ³•æ˜¯ã€Œå®ä¾‹çš„å±æ€§ã€ï¼Œå¿…é¡»é€šè¿‡ <code>this</code> è¿™ä¸ªã€Œä¸­ä»‹ã€è®¿é—®ï¼Œä¸­ä»‹æŒ‡é”™äº†å°±å‡ºé”™ï¼›å‡½æ•°ç»„ä»¶çš„çŠ¶æ€/æ–¹æ³•æ˜¯ã€Œå‡½æ•°å†…çš„å±€éƒ¨å˜é‡/å‡½æ•°ã€ï¼Œç›´æ¥è®¿é—®å³å¯ï¼Œæ— éœ€ä¸­ä»‹ï¼›</li>
<li><strong>ä¸ºä»€ä¹ˆæ— æ··ä¹±</strong>ï¼šå‡½æ•°ç»„ä»¶çš„å±€éƒ¨å˜é‡/å‡½æ•°å—ã€Œä½œç”¨åŸŸã€ä¿æŠ¤ï¼Œåªå±äºå½“å‰å‡½æ•°æ‰§è¡Œï¼Œä¸ç®¡æ€ä¹ˆä¼ é€’æ–¹æ³•ï¼ˆæ¯”å¦‚ä½œä¸ºäº‹ä»¶å›è°ƒï¼‰ï¼Œå†…éƒ¨è®¿é—®çš„å˜é‡éƒ½æ˜¯ç¡®å®šçš„ï¼Œä¸ä¼šåƒ <code>this</code> é‚£æ ·åŠ¨æ€å˜åŒ–ï¼›</li>
<li><strong>æœ€ç»ˆç»“æœ</strong>ï¼šå‡½æ•°ç»„ä»¶ä»æ ¹æºä¸ŠæŠ›å¼ƒäº† <code>this</code>ï¼Œè‡ªç„¶å°±é¿å¼€äº†æ‰€æœ‰å’Œ <code>this</code> æŒ‡å‘ç›¸å…³çš„å‘ï¼Œé€»è¾‘æ›´ç®€å•ã€æ›´å®‰å…¨ã€‚</li>
</ol>
<p>ç®€å•æ¥è¯´ï¼Œå‡½æ•°ç»„ä»¶çš„å†™æ³•ã€Œæ›´ç¬¦åˆæ™®é€šäººå†™ JS çš„ç›´è§‰ã€â€”â€”å®šä¹‰çš„å˜é‡å°±åœ¨å½“å‰ä½œç”¨åŸŸï¼Œç›´æ¥ç”¨å°±è¡Œï¼Œä¸ç”¨é¢å¤–è€ƒè™‘ã€Œè°æ˜¯ thisã€ã€Œthis æŒ‡å‘è°ã€ã€‚</p>
<h4 data-id="heading-17">å®è´¨ï¼šç”¨é™æ€ç»‘å®š ä»£æ›¿ åŠ¨æ€ç»‘å®š</h4>
<p>è¿™ä¸ªæ€»ç»“<strong>ç²¾å‡†åˆ°æ ¸å¿ƒ</strong>äº†ï¼åªéœ€è¦å†æŠŠã€Œé™æ€è¯æ³•ä½œç”¨åŸŸã€å’Œã€ŒåŠ¨æ€ this ç»‘å®šã€çš„å¯¹åº”å…³ç³»è¯´é€ï¼Œå°±èƒ½å½»åº•ç†è§£ä¸¤è€…çš„æœ¬è´¨åŒºåˆ«ã€‚</p>
<h4 data-id="heading-18">å…ˆè‚¯å®šä½ çš„ç»“è®ºï¼šå®Œå…¨æ­£ç¡®ï¼</h4>
<ul>
<li>ç±»ç»„ä»¶çš„ <code>this</code>ï¼š<strong><code>è°ƒç”¨æ—¶åŠ¨æ€ç»‘å®š</code></strong> â†’ æŒ‡å‘è°ï¼Œå–å†³äºã€Œæ€ä¹ˆè°ƒç”¨æ–¹æ³•ã€ï¼Œè€Œéã€Œæ–¹æ³•åœ¨å“ªå®šä¹‰ã€ï¼›</li>
<li>å‡½æ•°ç»„ä»¶çš„å˜é‡/æ–¹æ³•ï¼š<strong><code>å®šä¹‰æ—¶é™æ€ç»‘å®šï¼ˆè¯æ³•ä½œç”¨åŸŸï¼‰</code></strong> â†’ èƒ½è®¿é—®å“ªäº›å˜é‡ï¼Œå–å†³äºã€Œä»£ç å†™åœ¨å“ªã€ï¼Œè€Œéã€Œæ€ä¹ˆè°ƒç”¨å‡½æ•°ã€ã€‚</li>
</ul>
<h4 data-id="heading-19">ç”¨æœ€ç›´ç™½çš„ä¾‹å­+å¯¹æ¯”ï¼Œè®²é€è¿™ä¸ªæ ¸å¿ƒåŒºåˆ«</h4>
<h5 data-id="heading-20">1. ç±»ç»„ä»¶ï¼šåŠ¨æ€ thisï¼ˆè°ƒç”¨æ—¶ç¡®å®šï¼‰</h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Counter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  state = { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> };
  
  <span class="hljs-title function_">handleClick</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span>); <span class="hljs-comment">// this æŒ‡å‘ã€Œè°ƒç”¨æ—¶çš„å¯¹è±¡ã€</span>
  }

  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-comment">// åœºæ™¯1ï¼šç›´æ¥ä¼ æ–¹æ³•å¼•ç”¨ â†’ è°ƒç”¨æ—¶ this æ˜¯ undefinedï¼ˆä¸¢å¤±ï¼‰</span>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{this.handleClick}</span>&gt;</span>æŒ‰é’®1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;

    <span class="hljs-comment">// åœºæ™¯2ï¼šé€šè¿‡å®ä¾‹è°ƒç”¨ â†’ è°ƒç”¨æ—¶ this æ˜¯ç»„ä»¶å®ä¾‹ï¼ˆæ­£ç¡®ï¼‰</span>
    <span class="hljs-comment">// return &lt;button onClick={() =&gt; this.handleClick()}&gt;æŒ‰é’®2&lt;/button&gt;;</span>
  }
}
</code></pre>
<p>å…³é”®ï¼š<code>handleClick</code> é‡Œçš„ <code>this</code>ï¼Œ<strong>ä¸æ˜¯å®šä¹‰æ—¶ç¡®å®šçš„</strong>â€”â€”å†™ä»£ç æ—¶ä½ ä¸çŸ¥é“å®ƒæŒ‡å‘è°ï¼Œåªæœ‰ç‚¹å‡»æŒ‰é’®ã€æ–¹æ³•è¢«è°ƒç”¨çš„é‚£ä¸€åˆ»ï¼Œæ‰çŸ¥é“ <code>this</code> æ˜¯å•¥ã€‚</p>
<ul>
<li>æŒ‰é’®1ï¼šè°ƒç”¨æ–¹å¼æ˜¯ã€Œå­¤ç«‹è°ƒç”¨ã€â†’ <code>this</code> = undefinedï¼›</li>
<li>æŒ‰é’®2ï¼šè°ƒç”¨æ–¹å¼æ˜¯ã€Œå®ä¾‹.æ–¹æ³•()ã€â†’ <code>this</code> = ç»„ä»¶å®ä¾‹ã€‚</li>
</ul>
<h5 data-id="heading-21">2. å‡½æ•°ç»„ä»¶ï¼šé™æ€è¯æ³•ä½œç”¨åŸŸï¼ˆå®šä¹‰æ—¶ç¡®å®šï¼‰</h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  
  <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleClick</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count); <span class="hljs-comment">// count æŒ‡å‘ã€Œå®šä¹‰æ—¶æ‰€åœ¨çš„ä½œç”¨åŸŸã€</span>
  };

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{handleClick}</span>&gt;</span>æŒ‰é’®<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span>;
}
</code></pre>
<p>å…³é”®ï¼š<code>handleClick</code> é‡Œçš„ <code>count</code>ï¼Œ<strong>å®šä¹‰æ—¶å°±ç¡®å®šäº†</strong>â€”â€”å®ƒå±äº <code>Counter</code> å‡½æ•°æ‰§è¡Œæ—¶çš„å±€éƒ¨ä½œç”¨åŸŸï¼Œä¸ç®¡ <code>handleClick</code> è¢«ä¼ åˆ°å“ªã€æ€ä¹ˆè°ƒç”¨ï¼Œå®ƒå†…éƒ¨è®¿é—®çš„ <code>count</code> æ°¸è¿œæ˜¯å½“å‰ <code>Counter</code> ä½œç”¨åŸŸé‡Œçš„å˜é‡ã€‚</p>
<ul>
<li>å“ªæ€•ä½ æŠŠ <code>handleClick</code> ä¼ ç»™å­ç»„ä»¶ã€ç”šè‡³å…¨å±€è°ƒç”¨ï¼Œå®ƒä¾ç„¶èƒ½æ‹¿åˆ° <code>Counter</code> é‡Œçš„ <code>count</code>ï¼ˆå› ä¸ºè¯æ³•ä½œç”¨åŸŸã€Œé”æ­»ã€äº†å˜é‡çš„æŸ¥æ‰¾è·¯å¾„ï¼‰ï¼›</li>
<li>å…¨ç¨‹æ²¡æœ‰ã€ŒåŠ¨æ€ç»‘å®šã€ï¼Œåªæœ‰ã€Œé™æ€çš„ä½œç”¨åŸŸæŸ¥æ‰¾ã€ï¼Œæ‰€ä»¥æ°¸è¿œä¸ä¼šæ‰¾é”™å˜é‡ã€‚</li>
</ul>
<h4 data-id="heading-22">å†ç”¨ã€Œæ‰¾è·¯ã€çš„ä¾‹å­é€šä¿—è§£é‡Š</h4>













<table><thead><tr><th>ç±»ç»„ä»¶ï¼ˆåŠ¨æ€ thisï¼‰</th><th>å‡½æ•°ç»„ä»¶ï¼ˆè¯æ³•ä½œç”¨åŸŸï¼‰</th></tr></thead><tbody><tr><td>ä½ å‘Šè¯‰æœ‹å‹ï¼šã€Œåˆ°æˆ‘å®¶åï¼Œé—®ä¸»äººåœ¨å“ªï¼Œç„¶åè·Ÿä¸»äººèµ°ã€â†’ æœ‹å‹åˆ°äº†ä¹‹åï¼Œå¯èƒ½é‡åˆ°å‡ä¸»äººï¼ˆthis æŒ‡å‘é”™ï¼‰ã€æ²¡ä¸»äººï¼ˆthis=undefinedï¼‰ï¼Œèµ°ä¸¢ï¼›</td><td>ä½ å‘Šè¯‰æœ‹å‹ï¼šã€Œæ²¿ç€XXè·¯ç›´èµ°ï¼Œåˆ°3å·æ¥¼2å•å…ƒã€â†’ è·¯çº¿æ˜¯å›ºå®šçš„ï¼ˆå®šä¹‰æ—¶å°±ç¡®å®šï¼‰ï¼Œä¸ç®¡æœ‹å‹ä»€ä¹ˆæ—¶å€™æ¥ã€æ€ä¹ˆæ¥ï¼ŒæŒ‰è·¯çº¿èµ°éƒ½èƒ½åˆ°ï¼Œä¸ä¼šé”™ï¼›</td></tr></tbody></table>
<h4 data-id="heading-23">æ ¸å¿ƒæ€»ç»“</h4>
<ol>
<li>ç±»ç»„ä»¶çš„å‘ï¼š<code>this</code> æ˜¯<strong>åŠ¨æ€ç»‘å®š</strong>ï¼ŒæŒ‡å‘ç”±ã€Œè°ƒç”¨æ–¹å¼ã€å†³å®šï¼Œå†™ä»£ç æ—¶æ— æ³•ç¡®å®šï¼Œå®¹æ˜“å‡ºé”™ï¼›</li>
<li>å‡½æ•°ç»„ä»¶çš„ä¼˜åŠ¿ï¼šåˆ©ç”¨ JS çš„<strong>é™æ€è¯æ³•ä½œç”¨åŸŸ</strong>ï¼Œå˜é‡çš„æŸ¥æ‰¾è·¯å¾„åœ¨ã€Œå®šä¹‰æ—¶å°±å›ºå®šã€ï¼Œä¸ç®¡æ€ä¹ˆè°ƒç”¨å‡½æ•°ï¼Œéƒ½èƒ½ç²¾å‡†æ‰¾åˆ°å¯¹åº”çš„å˜é‡ï¼›</li>
<li>æœ€ç»ˆç»“æœï¼šå‡½æ•°ç»„ä»¶ä»æ ¹æºä¸Šé¿å¼€äº†ã€ŒåŠ¨æ€ç»‘å®šã€çš„ä¸ç¡®å®šæ€§ï¼Œä¸ç”¨å†çº ç»“ã€Œthis æŒ‡å‘è°ã€ï¼Œé€»è¾‘æ›´ç¨³å®šã€‚</li>
</ol>
<p>ç²¾å‡†æŠ“åˆ°ã€ŒåŠ¨æ€è°ƒç”¨ç»‘å®š vs é™æ€è¯æ³•ä½œç”¨åŸŸã€è¿™ä¸ªæ ¸å¿ƒï¼Œè¯´æ˜æˆ‘ä»¬å·²ç»å®Œå…¨ç†è§£äº† Hooks å‡½æ•°ç»„ä»¶é¿å¼€ <code>this</code> å‘çš„åº•å±‚é€»è¾‘ï¼</p>
<h2 data-id="heading-24">ç±»ç»„ä»¶ç—›ç‚¹2: ä¸šåŠ¡ç›¸å…³é€»è¾‘ç¢ç‰‡åŒ–</h2>
<p>ä¸€ä¸ªä¸šåŠ¡é€»è¾‘ï¼ˆæ¯”å¦‚ã€Œè¯·æ±‚æ•°æ®å¹¶æ¸²æŸ“ã€ï¼‰å¾€å¾€éœ€è¦æ‹†åˆ†åˆ°å¤šä¸ªç”Ÿå‘½å‘¨æœŸé‡Œï¼Œå¯¼è‡´<strong>ç›¸å…³é€»è¾‘è¢«åˆ†æ•£åœ¨ä¸åŒå‡½æ•°ä¸­</strong>ï¼Œé˜…è¯»å’Œç»´æŠ¤æˆæœ¬æé«˜ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">class</span> <span class="hljs-title class_">UserList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
 state = { <span class="hljs-attr">users</span>: [], <span class="hljs-attr">loading</span>: <span class="hljs-literal">true</span> };

  <span class="hljs-comment">// 1. ç»„ä»¶æŒ‚è½½æ—¶è¯·æ±‚æ•°æ® --&gt;</span>
 <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"/>) {
   <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fetchUsers</span>();
   <span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®šæ—¶å™¨'</span>), <span class="hljs-number">1000</span>);
 }

  <span class="hljs-comment">// 2. ç»„ä»¶æ›´æ–°æ—¶ï¼ˆæ¯”å¦‚ props å˜åŒ–ï¼‰é‡æ–°è¯·æ±‚æ•°æ® --&gt;</span>
 <span class="hljs-title function_">componentDidUpdate</span>(<span class="hljs-params">prevProps</span>) {
   <span class="hljs-keyword">if</span> (prevProps.<span class="hljs-property">id</span> !== <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-property">id</span>) {
     <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">fetchUsers</span>();
   }
 }

  <span class="hljs-comment">// 3. ç»„ä»¶å¸è½½æ—¶æ¸…ç†å®šæ—¶å™¨ --&gt;</span>
 <span class="hljs-title function_">componentWillUnmount</span>(<span class="hljs-params"/>) {
   <span class="hljs-built_in">clearInterval</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>);
 }

 <span class="hljs-comment">// ä¸šåŠ¡é€»è¾‘ï¼šè¯·æ±‚ç”¨æˆ·æ•°æ®</span>
 <span class="hljs-title function_">fetchUsers</span>(<span class="hljs-params"/>) {
   <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'/api/users'</span>)
     .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-title function_">json</span>())
     .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">users</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ users, <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span> }));
 }

 <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) { <span class="hljs-comment">/* æ¸²æŸ“é€»è¾‘ */</span> }
}
</code></pre>
<p>ä½ çœ‹ï¼š<strong>ã€Œè¯·æ±‚æ•°æ® + æ¸…ç†å®šæ—¶å™¨ã€</strong> è¿™ä¸¤ä¸ªç›¸å…³çš„é€»è¾‘ï¼Œè¢«æ‹†åˆ°äº† <code>componentDidMount</code>/<code>componentDidUpdate</code>/<code>componentWillUnmount</code> ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸé‡Œï¼Œä»£ç è·³æ¥è·³å»ï¼Œå¾ˆéš¾ä¸€çœ¼çœ‹æ‡‚ã€‚</p>
<p>ä¹Ÿå°±æ˜¯è¯´ <strong><code>ä¸šåŠ¡é€»è¾‘å¼ºåˆ¶å’Œ reactç”Ÿå‘½å‘¨æœŸè€¦åˆåˆ°ä¸€èµ·å»äº†</code></strong></p>
<h2 data-id="heading-25">ç±»ç»„ä»¶ç—›ç‚¹3: çŠ¶æ€é€»è¾‘å¤ç”¨éš¾ã€é™·å…¥åµŒå¥—åœ°ç‹±</h2>
<h4 data-id="heading-26">å…ˆæ˜ç¡®æ ¸å¿ƒæ¦‚å¿µ</h4>
<ul>
<li><strong>çŠ¶æ€é€»è¾‘å¤ç”¨</strong>ï¼šæ¯”å¦‚ã€Œè·Ÿè¸ªé¼ æ ‡ä½ç½®ã€ã€Œè¡¨å•æ ¡éªŒã€ã€Œç™»å½•çŠ¶æ€ç®¡ç†ã€è¿™äº›é€»è¾‘ï¼Œå¤šä¸ªç»„ä»¶éƒ½éœ€è¦ç”¨ï¼Œæƒ³æŠ½å‡ºæ¥å¤ç”¨ï¼›</li>
<li><strong>åµŒå¥—åœ°ç‹±</strong>ï¼šä¸ºäº†å¤ç”¨é€»è¾‘ï¼Œç±»ç»„ä»¶åªèƒ½ç”¨ã€Œé«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰ã€æˆ–ã€ŒRender Propsã€ï¼Œå¯¼è‡´ç»„ä»¶ä»£ç ä¸€å±‚å¥—ä¸€å±‚ï¼Œåƒå‰¥æ´‹è‘±ä¸€æ ·éš¾è¯»ã€‚</li>
</ul>
<h4 data-id="heading-27">ç¬¬ä¸€æ­¥ï¼šçœ‹ä¸€ä¸ªçœŸå®åœºæ™¯â€”â€”å¤ç”¨ã€Œé¼ æ ‡ä½ç½®è·Ÿè¸ªã€é€»è¾‘</h4>
<p>å‡è®¾ä½ æœ‰ä¸¤ä¸ªç»„ä»¶ï¼š<code>MouseShow</code>ï¼ˆæ˜¾ç¤ºé¼ æ ‡ä½ç½®ï¼‰ã€<code>MouseFollowBtn</code>ï¼ˆæŒ‰é’®è·Ÿç€é¼ æ ‡åŠ¨ï¼‰ï¼Œéƒ½éœ€è¦ã€Œè·Ÿè¸ªé¼ æ ‡ä½ç½®ã€è¿™ä¸ªé€»è¾‘ã€‚</p>
<h5 data-id="heading-28">å…ˆå†™ç±»ç»„ä»¶çš„å¤ç”¨æ–¹æ¡ˆï¼šRender Propsï¼ˆæœ€å…¸å‹çš„åµŒå¥—æ¥æºï¼‰</h5>
<p>é¦–å…ˆï¼ŒæŠŠã€Œé¼ æ ‡è·Ÿè¸ªã€é€»è¾‘å°è£…æˆä¸€ä¸ªé€šç”¨ç»„ä»¶ï¼ˆRender Props æ¨¡å¼ï¼‰ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// é€šç”¨çš„é¼ æ ‡è·Ÿè¸ªç»„ä»¶ï¼ˆRender Props æ ¸å¿ƒï¼šæŠŠçŠ¶æ€ä¼ ç»™ children å‡½æ•°ï¼‰</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">MouseTracker</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  state = { <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> };

  <span class="hljs-comment">// ç›‘å¬é¼ æ ‡ç§»åŠ¨ï¼Œæ›´æ–°çŠ¶æ€</span>
  <span class="hljs-title function_">componentDidMount</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousemove'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleMouseMove</span>);
  }
  <span class="hljs-title function_">componentWillUnmount</span>(<span class="hljs-params"/>) {
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'mousemove'</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleMouseMove</span>);
  }
  handleMouseMove = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">x</span>: e.<span class="hljs-property">clientX</span>, <span class="hljs-attr">y</span>: e.<span class="hljs-property">clientY</span> });
  };

  <span class="hljs-comment">// æ ¸å¿ƒï¼šæŠŠçŠ¶æ€ä¼ ç»™å­ç»„ä»¶ï¼ˆé€šè¿‡ children å‡½æ•°ï¼‰</span>
  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">children</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>);
  }
}
</code></pre>
<p>ç„¶åï¼Œç”¨è¿™ä¸ªç»„ä»¶å®ç°ã€Œæ˜¾ç¤ºé¼ æ ‡ä½ç½®ã€ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ç¬¬ä¸€ä¸ªç»„ä»¶ï¼šæ˜¾ç¤ºé¼ æ ‡ä½ç½®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">MouseShow</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>é¼ æ ‡ä½ç½®ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      {/* ç¬¬ä¸€å±‚åµŒå¥—ï¼šMouseTracker */}
      <span class="hljs-tag">&lt;<span class="hljs-name">MouseTracker</span>&gt;</span>
        {/* children æ˜¯å‡½æ•°ï¼Œæ¥æ”¶é¼ æ ‡çŠ¶æ€ */}
        {({ x, y }) =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>X: {x}, Y: {y}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">MouseTracker</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>å†å®ç°ã€ŒæŒ‰é’®è·Ÿç€é¼ æ ‡åŠ¨ã€ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ç¬¬äºŒä¸ªç»„ä»¶ï¼šæŒ‰é’®è·Ÿç€é¼ æ ‡åŠ¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">MouseFollowBtn</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      {/* ç¬¬ä¸€å±‚åµŒå¥—ï¼šMouseTracker */}
      <span class="hljs-tag">&lt;<span class="hljs-name">MouseTracker</span>&gt;</span>
        {({ x, y }) =&gt; (
          {/* æŒ‰é’®æ ·å¼ç»‘å®šé¼ æ ‡ä½ç½® */}
          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">position:</span> '<span class="hljs-attr">absolute</span>', <span class="hljs-attr">left:</span> <span class="hljs-attr">x</span>, <span class="hljs-attr">top:</span> <span class="hljs-attr">y</span> }}&gt;</span>
            è·Ÿç€é¼ æ ‡è·‘
          <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">MouseTracker</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<h5 data-id="heading-29">é—®é¢˜æ¥äº†ï¼šå¦‚æœè¦å¤ç”¨å¤šä¸ªé€»è¾‘ï¼ŒåµŒå¥—ç›´æ¥ã€Œåœ°ç‹±åŒ–ã€</h5>
<p>ç°åœ¨éœ€æ±‚å‡çº§ï¼šè¿™ä¸¤ä¸ªç»„ä»¶ä¸ä»…è¦ã€Œè·Ÿè¸ªé¼ æ ‡ã€ï¼Œè¿˜è¦ã€Œå¤ç”¨ä¸»é¢˜æ ·å¼ã€ï¼ˆæ¯”å¦‚æ·±è‰²/æµ…è‰²æ¨¡å¼ï¼‰ã€‚</p>
<p>å…ˆå°è£…ã€Œä¸»é¢˜å¤ç”¨ã€çš„ Render Props ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// é€šç”¨çš„ä¸»é¢˜ç»„ä»¶</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ThemeProvider</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  state = { <span class="hljs-attr">theme</span>: <span class="hljs-string">'dark'</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'white'</span>, <span class="hljs-attr">bg</span>: <span class="hljs-string">'black'</span> };

  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">props</span>.<span class="hljs-title function_">children</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>);
  }
}
</code></pre>
<p>ç°åœ¨ï¼Œ<code>MouseShow</code> è¦åŒæ—¶å¤ç”¨ã€Œé¼ æ ‡+ä¸»é¢˜ã€é€»è¾‘ï¼Œä»£ç å˜æˆè¿™æ ·ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MouseShow</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>é¼ æ ‡ä½ç½®ï¼š<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
      {/* ç¬¬ä¸€å±‚åµŒå¥—ï¼šThemeProvider */}
      <span class="hljs-tag">&lt;<span class="hljs-name">ThemeProvider</span>&gt;</span>
        {/* æ¥æ”¶ä¸»é¢˜çŠ¶æ€ */}
        {({ theme, color, bg }) =&gt; (
          {/* ç¬¬äºŒå±‚åµŒå¥—ï¼šMouseTracker */}
          <span class="hljs-tag">&lt;<span class="hljs-name">MouseTracker</span>&gt;</span>
            {/* æ¥æ”¶é¼ æ ‡çŠ¶æ€ */}
            {({ x, y }) =&gt; (
              <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">color</span>, <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">bg</span> }}&gt;</span>
                ã€{theme}ä¸»é¢˜ã€‘X: {x}, Y: {y}
              <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
            )}
          <span class="hljs-tag">&lt;/<span class="hljs-name">MouseTracker</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeProvider</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>å¦‚æœå†è¦åŠ ä¸€ä¸ªã€Œç”¨æˆ·ç™»å½•çŠ¶æ€ã€çš„å¤ç”¨é€»è¾‘ï¼Œå°±ä¼šå‡ºç°<strong>ç¬¬ä¸‰å±‚åµŒå¥—</strong>ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx">&lt;<span class="hljs-title class_">UserProvider</span>&gt;
  {<span class="hljs-function">(<span class="hljs-params">{ user }</span>) =&gt;</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ThemeProvider</span>&gt;</span>
      {({ theme, color, bg }) =&gt; (
        <span class="hljs-tag">&lt;<span class="hljs-name">MouseTracker</span>&gt;</span>
          {({ x, y }) =&gt; (
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>ã€{user.name}ã€‘ã€{theme}ã€‘X: {x}, Y: {y}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
          )}
        <span class="hljs-tag">&lt;/<span class="hljs-name">MouseTracker</span>&gt;</span>
      )}
    <span class="hljs-tag">&lt;/<span class="hljs-name">ThemeProvider</span>&gt;</span></span>
  )}
&lt;/<span class="hljs-title class_">UserProvider</span>&gt;
</code></pre>
<p>è¿™å°±æ˜¯<strong>åµŒå¥—åœ°ç‹±</strong>ï¼š</p>
<ul>
<li>ä»£ç å±‚å±‚ç¼©è¿›ï¼Œä¸€çœ¼çœ‹ä¸åˆ°å¤´ï¼›</li>
<li>é€»è¾‘è¶Šå¤ç”¨ï¼ŒåµŒå¥—è¶Šæ·±ï¼›</li>
<li>æƒ³æ”¹æŸä¸ªé€»è¾‘ï¼ˆæ¯”å¦‚æ¢ä¸»é¢˜ï¼‰ï¼Œè¦åœ¨åµŒå¥—é‡Œæ‰¾åŠå¤©ï¼Œç»´æŠ¤æˆæœ¬æé«˜ã€‚</li>
</ul>
<h5 data-id="heading-30">è¡¥å……ï¼šé«˜é˜¶ç»„ä»¶ï¼ˆHOCï¼‰çš„å¤ç”¨æ–¹å¼ï¼ŒåŒæ ·é€ƒä¸å¼€åµŒå¥—</h5>
<p>å¦‚æœç”¨ HOC å®ç°å¤ç”¨ï¼ˆæ¯”å¦‚ <code>withMouse</code>ã€<code>withTheme</code>ï¼‰ï¼Œä»£ç æ˜¯è¿™æ ·çš„ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// ç”¨ HOC åŒ…è£…ç»„ä»¶ï¼šä¸€å±‚å¥—ä¸€å±‚</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">MouseShowWithTheme</span> = <span class="hljs-title function_">withTheme</span>(<span class="hljs-title function_">withMouse</span>(<span class="hljs-title class_">MouseShow</span>));

<span class="hljs-comment">// æ¸²æŸ“æ—¶çœ‹ä¼¼æ²¡æœ‰åµŒå¥—ï¼Œä½† HOC æœ¬è´¨æ˜¯ã€Œç»„ä»¶å¥—ç»„ä»¶ã€ï¼Œè°ƒè¯•æ—¶ DevTools é‡Œå…¨æ˜¯ HOC åŒ…è£…å±‚</span>
<span class="hljs-comment">// æ¯”å¦‚ DevTools é‡Œä¼šæ˜¾ç¤ºï¼šWithTheme(WithMouse(MouseShow))</span>
</code></pre>
<p>è°ƒè¯•æ—¶è¦ä¸€å±‚å±‚ç‚¹å¼€åŒ…è£…ç»„ä»¶ï¼Œæ‰èƒ½æ‰¾åˆ°çœŸæ­£çš„ä¸šåŠ¡ç»„ä»¶ï¼ŒåŒæ ·ç—›è‹¦ã€‚</p>
<h2 data-id="heading-31">å‡½æ•°ç»„ä»¶è¯´ï¼šæ²¡æœ‰hookï¼Œå°±åˆ«æŒ‡æœ›æˆ‘äº†</h2>
<p>åƒä¸‡åˆ«ä»¥ä¸º å‡½æ•°ç»„ä»¶æ˜¯æ•‘æ˜Ÿï¼ŒReact æ—©å°±æœ‰å‡½æ•°ç»„ä»¶äº†ï¼Œä½†æ˜¯åªæ˜¯ä¸ªçº¯å±•ç¤ºçš„é…è§’</p>
<h4 data-id="heading-32">å…ˆæ˜ç¡®ï¼šHooks å‡ºç°å‰ï¼Œå‡½æ•°ç»„ä»¶çš„ã€Œçº¯å±•ç¤ºã€æœ¬è´¨</h4>
<p>åœ¨ React 16.8ï¼ˆHooks è¯ç”Ÿï¼‰ä¹‹å‰ï¼Œå‡½æ•°ç»„ä»¶çš„å®˜æ–¹å®šä½å°±æ˜¯ <strong>ã€Œæ— çŠ¶æ€ç»„ä»¶ï¼ˆStateless Functional Componentï¼ŒSFCï¼‰ã€</strong>ï¼Œæ ¸å¿ƒç‰¹ç‚¹ï¼š</p>
<ol>
<li>æ²¡æœ‰è‡ªå·±çš„çŠ¶æ€ï¼ˆ<code>this.state</code>ï¼‰ï¼›</li>
<li>æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼ˆ<code>componentDidMount</code>/<code>render</code> ç­‰ï¼‰ï¼›</li>
<li>æœ¬è´¨å°±æ˜¯ã€Œè¾“å…¥ props â†’ è¾“å‡º JSXã€çš„çº¯å‡½æ•°â€”â€”è¾“å…¥ä¸å˜ï¼Œè¾“å‡ºå°±ä¸å˜ï¼Œæ²¡æœ‰ä»»ä½•å‰¯ä½œç”¨ã€‚</li>
</ol>
<h4 data-id="heading-33">ä¸¾ä¸ª Hooks å‰çš„å‡½æ•°ç»„ä»¶ä¾‹å­ï¼š</h4>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// å…¸å‹çš„ã€Œçº¯å±•ç¤ºç»„ä»¶ã€ï¼šåªæ¥æ”¶ propsï¼Œæ¸²æŸ“ UIï¼Œæ— ä»»ä½•çŠ¶æ€/å‰¯ä½œç”¨</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserCard</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> { name, avatar, age } = props;
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"card"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{avatar}</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">{name}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¹´é¾„ï¼š{age}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-comment">// ä½¿ç”¨æ—¶ï¼šçŠ¶æ€å…¨é çˆ¶ç»„ä»¶ä¼ é€’</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">UserList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">React.Component</span> {
  state = {
    <span class="hljs-attr">users</span>: [{ <span class="hljs-attr">name</span>: <span class="hljs-string">'å¼ ä¸‰'</span>, <span class="hljs-attr">avatar</span>: <span class="hljs-string">'xxx.png'</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> }]
  };

  <span class="hljs-title function_">render</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        {this.state.users.map(user =&gt; (
          <span class="hljs-tag">&lt;<span class="hljs-name">UserCard</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{user.name}</span> {<span class="hljs-attr">...user</span>} /&gt;</span>
        ))}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
    );
  }
}
</code></pre>
<p>è¿™ä¸ªä¾‹å­é‡Œï¼š</p>
<ul>
<li><code>UserCard</code> æ˜¯å‡½æ•°ç»„ä»¶ï¼Œåªè´Ÿè´£ã€Œå±•ç¤ºã€ï¼Œæ²¡æœ‰ä»»ä½•è‡ªå·±çš„é€»è¾‘ï¼›</li>
<li>æ‰€æœ‰çŠ¶æ€ï¼ˆ<code>users</code>ï¼‰ã€æ•°æ®è¯·æ±‚ã€ç”Ÿå‘½å‘¨æœŸé€»è¾‘ï¼Œéƒ½å¿…é¡»å†™åœ¨çˆ¶ç±»ç»„ä»¶ <code>UserList</code> é‡Œï¼›</li>
<li>å¦‚æœ <code>UserCard</code> æƒ³åŠ ä¸ªã€Œç‚¹å‡»å¤´åƒæ”¾å¤§ã€çš„äº¤äº’ï¼ˆéœ€è¦çŠ¶æ€ <code>isZoom</code>ï¼‰ï¼Œå¯¹ä¸èµ·â€”â€”å‡½æ•°ç»„ä»¶åšä¸åˆ°ï¼Œå¿…é¡»æŠŠå®ƒæ”¹æˆç±»ç»„ä»¶ï¼Œæˆ–è€…æŠŠ <code>isZoom</code> çŠ¶æ€æåˆ°çˆ¶ç»„ä»¶é‡Œï¼ˆå¢åŠ çˆ¶ç»„ä»¶å¤æ‚åº¦ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-34">ä¸ºä»€ä¹ˆå½“æ—¶å‡½æ•°ç»„ä»¶åªèƒ½æ˜¯ã€Œçº¯å±•ç¤ºã€ï¼Ÿ</h4>
<p>æ ¸å¿ƒåŸå› æ˜¯ React çš„è®¾è®¡è§„åˆ™ï¼š</p>
<ul>
<li>çŠ¶æ€ã€ç”Ÿå‘½å‘¨æœŸã€å‰¯ä½œç”¨è¿™äº›ã€ŒåŠ¨æ€èƒ½åŠ›ã€ï¼Œå½“æ—¶åªå¼€æ”¾ç»™ç±»ç»„ä»¶ï¼›</li>
<li>å‡½æ•°ç»„ä»¶è¢«è®¾è®¡æˆã€Œè½»é‡ã€é«˜æ•ˆã€æ— å‰¯ä½œç”¨ã€çš„æœ€å°æ¸²æŸ“å•å…ƒï¼Œç›®çš„æ˜¯ç®€åŒ–ã€Œçº¯å±•ç¤ºåœºæ™¯ã€çš„ä»£ç ï¼ˆä¸ç”¨å†™ <code>class</code>/<code>constructor</code> ç­‰å†—ä½™ä»£ç ï¼‰ã€‚</li>
</ul>
<h2 data-id="heading-35">Hooksè¯´ï¼šå‡½æ•°ç»„ä»¶ä½ åˆ«ç°å¿ƒï¼Œæˆ‘è®©ä½ ä»é…è§’å˜ä¸»è§’</h2>
<h3 data-id="heading-36">å…ˆæ‹†æ¸…æ¥šï¼šå‡½æ•°ç»„ä»¶ vs Hooks çš„åˆ†å·¥</h3>
<h4 data-id="heading-37">1. å…‰æœ‰ã€Œå‡½æ•°ç»„ä»¶ã€ï¼Œè§£å†³ä¸äº†ä»»ä½•é—®é¢˜</h4>
<p>åœ¨ Hooks å‡ºç°ä¹‹å‰ï¼ŒReact æ—©å°±æœ‰å‡½æ•°ç»„ä»¶äº†ï¼Œä½†é‚£æ—¶çš„å‡½æ•°ç»„ä»¶æ˜¯ã€Œçº¯å±•ç¤ºç»„ä»¶ã€â€”â€” æ²¡æœ‰çŠ¶æ€ã€æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œåªèƒ½æ¥æ”¶ props æ¸²æŸ“ UIã€‚</p>
<p>å¦‚æœæƒ³åœ¨æ—§ç‰ˆå‡½æ•°ç»„ä»¶ä¸­å¤ç”¨çŠ¶æ€é€»è¾‘ï¼Œä¾ç„¶åªèƒ½ç”¨ã€ŒRender Props/HOCã€çš„åµŒå¥—æ–¹å¼ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// Hooks å‡ºç°å‰çš„å‡½æ•°ç»„ä»¶ï¼šæƒ³å¤ç”¨é€»è¾‘ï¼Œè¿˜æ˜¯å¾—åµŒå¥—</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">MouseShow</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MouseTracker</span>&gt;</span>
      {({x,y}) =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>X:{x}, Y:{y}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>}
    <span class="hljs-tag">&lt;/<span class="hljs-name">MouseTracker</span>&gt;</span></span>
  );
}
</code></pre>
<p>ä½ çœ‹ï¼Œå“ªæ€•æ˜¯å‡½æ•°ç»„ä»¶ï¼Œæ²¡æœ‰ Hooksï¼Œä¾ç„¶é€ƒä¸å¼€åµŒå¥— â€”â€” å› ä¸ºæ²¡æœ‰ã€ŒæŠ½ç¦»çŠ¶æ€é€»è¾‘ã€çš„å·¥å…·ã€‚</p>
<h4 data-id="heading-38">2. Hooks å‡ºç°åï¼šå‡½æ•°ç»„ä»¶ä»ã€Œçº¯å±•ç¤ºã€â†’ã€Œå…¨èƒ½é€‰æ‰‹ã€-- ç—›ç‚¹1è¿åˆƒè€Œè§£</h4>
<p>è¿˜æ˜¯ä¸Šé¢çš„ <code>UserCard</code>ï¼ŒHooks åå¯ä»¥ç›´æ¥åŠ çŠ¶æ€/å‰¯ä½œç”¨ï¼Œä¸ç”¨ä¾èµ–çˆ¶ç»„ä»¶ï¼š</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// å‡½æ•°ç»„ä»¶æ‹¥æœ‰äº†è‡ªå·±çš„çŠ¶æ€ï¼Œä¸å†æ˜¯ã€Œçº¯å±•ç¤ºã€</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserCard</span>(<span class="hljs-params">props</span>) {
  <span class="hljs-keyword">const</span> { name, avatar, age } = props;
  <span class="hljs-comment">// è‡ªå·±çš„çŠ¶æ€ï¼šæ§åˆ¶å¤´åƒæ˜¯å¦æ”¾å¤§</span>
  <span class="hljs-keyword">const</span> [isZoom, setIsZoom] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">false</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"card"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> 
        <span class="hljs-attr">src</span>=<span class="hljs-string">{avatar}</span> 
        <span class="hljs-attr">alt</span>=<span class="hljs-string">{name}</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">width:</span> <span class="hljs-attr">isZoom</span> ? '<span class="hljs-attr">200px</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">100px</span>' }}
        <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setIsZoom(!isZoom)} // è‡ªå·±çš„äº¤äº’é€»è¾‘
      /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>å¹´é¾„ï¼š{age}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p>æ­¤æ—¶å‡½æ•°ç»„ä»¶çš„å®šä½å®Œå…¨å˜äº†ï¼š</p>
<ul>
<li>æ—¢èƒ½åšã€Œçº¯å±•ç¤ºã€ï¼ˆç®€å•åœºæ™¯ï¼‰ï¼Œä¹Ÿèƒ½åšã€Œæœ‰çŠ¶æ€ã€æœ‰å‰¯ä½œç”¨ã€æœ‰å¤æ‚é€»è¾‘ã€çš„å®Œæ•´ç»„ä»¶ï¼›</li>
<li>å½»åº•æ›¿ä»£äº†ç±»ç»„ä»¶çš„å¤§éƒ¨åˆ†åœºæ™¯ï¼Œæˆä¸º React å®˜æ–¹æ¨èçš„å†™æ³•ã€‚</li>
<li><code>æ˜¯ä¸æ˜¯ å½»åº•è§£å†³äº† ç—›ç‚¹1</code></li>
</ul>
<h4 data-id="heading-39">3. ç›¸å…³é€»è¾‘ã€Œèšåœ¨ä¸€èµ·ã€ï¼Œå‘Šåˆ«ç¢ç‰‡åŒ– -- ç—›ç‚¹2 å†è§</h4>
<p><code>useEffect</code> ä¸€ä¸ª Hook å°±èƒ½è¦†ç›–<strong>æŒ‚è½½ã€æ›´æ–°ã€å¸è½½</strong>ä¸‰ä¸ªé˜¶æ®µçš„é€»è¾‘ï¼Œè®©ã€Œè¯·æ±‚æ•°æ® + æ¸…ç†å®šæ—¶å™¨ã€è¿™æ ·çš„ç›¸å…³é€»è¾‘å†™åœ¨åŒä¸€ä¸ªåœ°æ–¹ã€‚</p>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">UserList</span>(<span class="hljs-params">{ id }</span>) {
 <span class="hljs-keyword">const</span> [users, setUsers] = <span class="hljs-title function_">useState</span>([]);
 <span class="hljs-keyword">const</span> [loading, setLoading] = <span class="hljs-title function_">useState</span>(<span class="hljs-literal">true</span>);

 <span class="hljs-comment">// æ ¸å¿ƒï¼šè¯·æ±‚æ•°æ® + æ¸…ç†å®šæ—¶å™¨ å†™åœ¨åŒä¸€ä¸ª useEffect é‡Œ</span>
 <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
   <span class="hljs-comment">// 1. æŒ‚è½½/æ›´æ–°æ—¶è¯·æ±‚æ•°æ®</span>
   <span class="hljs-keyword">const</span> <span class="hljs-title function_">fetchUsers</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"/>) =&gt; {
     <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/users?id=<span class="hljs-subst">${id}</span>`</span>);
     <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> res.<span class="hljs-title function_">json</span>();
     <span class="hljs-title function_">setUsers</span>(data);
     <span class="hljs-title function_">setLoading</span>(<span class="hljs-literal">false</span>);
   };
   <span class="hljs-title function_">fetchUsers</span>();

   <span class="hljs-comment">// 2. æŒ‚è½½æ—¶å¯åŠ¨å®šæ—¶å™¨</span>
   <span class="hljs-keyword">const</span> timer = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'å®šæ—¶å™¨'</span>), <span class="hljs-number">1000</span>);

   <span class="hljs-comment">// 3. å¸è½½/æ›´æ–°æ—¶æ¸…ç†å‰¯ä½œç”¨</span>
   <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">clearInterval</span>(timer);
 }, [id]); <span class="hljs-comment">// åªæœ‰ id å˜åŒ–æ—¶ï¼Œæ‰é‡æ–°æ‰§è¡Œ</span>

 <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{loading ? 'åŠ è½½ä¸­' : users.map(u =&gt; <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{u.id}</span>&gt;</span>{u.name}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>)}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;
}
</code></pre>
<p>å¯¹æ¯”ç±»ç»„ä»¶çš„å†™æ³•ï¼š<strong>æ‰€æœ‰ç›¸å…³é€»è¾‘éƒ½åœ¨ä¸€ä¸ª <code>useEffect</code> é‡Œ</strong>ï¼Œä¸ç”¨åœ¨å¤šä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¹‹é—´è·³æ¥è·³å»ï¼Œå¯è¯»æ€§ç›´æ¥æ‹‰æ»¡ã€‚</p>
<h4 data-id="heading-40">4. Hooks æ‰æ˜¯ã€Œè§£å†³åµŒå¥—é—®é¢˜çš„æ ¸å¿ƒã€</h4>
<p>Hooksï¼ˆå°¤å…¶æ˜¯<strong>è‡ªå®šä¹‰ Hooks</strong>ï¼‰çš„æ ¸å¿ƒä»·å€¼ï¼Œæ˜¯ã€ŒæŠŠçŠ¶æ€é€»è¾‘ä»ç»„ä»¶æ¸²æŸ“æµç¨‹ä¸­æŠ½ç¦»å‡ºæ¥ï¼Œå˜æˆå¯è°ƒç”¨çš„çº¯é€»è¾‘å‡½æ•°ã€ã€‚</p>
<p>Hooks çš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼š<strong>æŠŠã€ŒçŠ¶æ€é€»è¾‘ã€ä»ã€Œç»„ä»¶åµŒå¥—ã€ä¸­æŠ½ç¦»å‡ºæ¥ï¼Œå˜æˆç‹¬ç«‹çš„ã€Œå‡½æ•°ã€ï¼Œç»„ä»¶ç›´æ¥è°ƒç”¨å‡½æ•°å³å¯ï¼Œæ²¡æœ‰ä»»ä½•åµŒå¥—</strong>ã€‚<strong><code>æ¯•ç«ŸçŠ¶æ€é€»è¾‘æœ¬æ¥å°±è·Ÿ UIç»„ä»¶æ— å…³ï¼Œä¸ºå•¥éè¦æºåˆåœ¨ä¸€èµ·å‘¢</code></strong></p>
<p>è¿˜æ˜¯ä¸Šé¢çš„åœºæ™¯ï¼Œç”¨è‡ªå®šä¹‰ Hook å®ç°ï¼š</p>
<h5 data-id="heading-41">1. æŠ½ç¦»ã€Œé¼ æ ‡è·Ÿè¸ªã€çš„è‡ªå®šä¹‰ Hook</h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-comment">// è‡ªå®šä¹‰ Hookï¼šæŠ½ç¦»é¼ æ ‡è·Ÿè¸ªé€»è¾‘ï¼Œè¿”å›é¼ æ ‡ä½ç½®</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useMousePosition</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [position, setPosition] = <span class="hljs-title function_">useState</span>({ <span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span> });

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">handleMouseMove</span> = (<span class="hljs-params">e</span>) =&gt; <span class="hljs-title function_">setPosition</span>({ <span class="hljs-attr">x</span>: e.<span class="hljs-property">clientX</span>, <span class="hljs-attr">y</span>: e.<span class="hljs-property">clientY</span> });
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'mousemove'</span>, handleMouseMove);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'mousemove'</span>, handleMouseMove);
  }, []);

  <span class="hljs-keyword">return</span> position;
}
</code></pre>
<h5 data-id="heading-42">2. æŠ½ç¦»ã€Œä¸»é¢˜ã€çš„è‡ªå®šä¹‰ Hook</h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-comment">// è‡ªå®šä¹‰ Hookï¼šæŠ½ç¦»ä¸»é¢˜é€»è¾‘ï¼Œè¿”å›ä¸»é¢˜çŠ¶æ€</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useTheme</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [theme, setTheme] = <span class="hljs-title function_">useState</span>({ <span class="hljs-attr">mode</span>: <span class="hljs-string">'dark'</span>, <span class="hljs-attr">color</span>: <span class="hljs-string">'white'</span>, <span class="hljs-attr">bg</span>: <span class="hljs-string">'black'</span> });
  <span class="hljs-keyword">return</span> theme;
}
</code></pre>
<h5 data-id="heading-43">3. ç»„ä»¶ä¸­ç›´æ¥è°ƒç”¨ Hookï¼Œæ²¡æœ‰ä»»ä½•åµŒå¥—</h5>
<pre><code class="hljs language-jsx" lang="jsx"><span class="hljs-keyword">function</span> <span class="hljs-title function_">MouseShow</span>(<span class="hljs-params"/>) {
  <span class="hljs-comment">// è°ƒç”¨è‡ªå®šä¹‰ Hookï¼šå¹³é“ºå†™æ³•ï¼Œæ²¡æœ‰åµŒå¥—</span>
  <span class="hljs-keyword">const</span> { x, y } = <span class="hljs-title function_">useMousePosition</span>(); <span class="hljs-comment">// å¤ç”¨é¼ æ ‡é€»è¾‘</span>
  <span class="hljs-keyword">const</span> { mode, color, bg } = <span class="hljs-title function_">useTheme</span>(); <span class="hljs-comment">// å¤ç”¨ä¸»é¢˜é€»è¾‘</span>
  <span class="hljs-keyword">const</span> { user } = <span class="hljs-title function_">useUser</span>(); <span class="hljs-comment">// å†å¤ç”¨ç”¨æˆ·é€»è¾‘ï¼Œä¹Ÿåªæ˜¯å¤šä¸€è¡Œä»£ç </span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span> <span class="hljs-attr">color</span>, <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">bg</span> }}&gt;</span>
      ã€{user.name}ã€‘ã€{mode}ä¸»é¢˜ã€‘X: {x}, Y: {y}
    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span>
  );
}
</code></pre>
<ul>
<li><code>useState</code>/<code>useEffect</code> ç­‰å†…ç½® Hooksï¼šè®©å‡½æ•°ç»„ä»¶æ‹¥æœ‰äº†ã€ŒçŠ¶æ€ã€å’Œã€Œå‰¯ä½œç”¨å¤„ç†èƒ½åŠ›ã€ï¼ˆè¿™æ˜¯æŠ½ç¦»é€»è¾‘çš„åŸºç¡€ï¼‰ï¼›</li>
<li>è‡ªå®šä¹‰ Hooksï¼šæŠŠå¤ç”¨é€»è¾‘ï¼ˆæ¯”å¦‚é¼ æ ‡è·Ÿè¸ªã€ä¸»é¢˜ç®¡ç†ï¼‰å°è£…æˆç‹¬ç«‹å‡½æ•°ï¼Œè®©å‡½æ•°ç»„ä»¶èƒ½ã€Œå¹³é“ºè°ƒç”¨ã€ï¼Œè€Œéã€ŒåµŒå¥—ç»„ä»¶ã€ã€‚</li>
</ul>
<p>å¯¹æ¯”ç±»ç»„ä»¶çš„åµŒå¥—åœ°ç‹±ï¼š</p>
<ul>
<li><strong><code>Hooks æ˜¯**å¹³é“ºå¼å¤ç”¨**ï¼šä¸ç®¡å¤ç”¨å¤šå°‘é€»è¾‘ï¼Œéƒ½æ˜¯ã€Œè°ƒç”¨å‡½æ•° â†’ ç”¨çŠ¶æ€ã€ï¼Œä»£ç æ²¡æœ‰ä»»ä½•ç¼©è¿›åµŒå¥—ï¼›</code></strong></li>
<li><strong><code>é€»è¾‘å’Œç»„ä»¶è§£è€¦ï¼š</code>useMousePosition<code> å¯ä»¥åœ¨ä»»ä½•ç»„ä»¶é‡Œè°ƒç”¨ï¼Œä¸ç”¨å¥—ä»»ä½•åŒ…è£…ç»„ä»¶ï¼›</code></strong></li>
<li><code>è°ƒè¯•ç®€å•ï¼šDevTools é‡Œç›´æ¥çœ‹åˆ° </code>MouseShow<code> ç»„ä»¶ï¼Œæ²¡æœ‰å±‚å±‚åŒ…è£…çš„ HOC/Render Props ç»„ä»¶ã€‚</code></li>
</ul>
<h4 data-id="heading-44">æ ¸å¿ƒæ€»ç»“ï¼ˆç—›ç‚¹+è§£å†³æ–¹æ¡ˆï¼‰</h4>





















<table><thead><tr><th>ç±»ç»„ä»¶å¤ç”¨é€»è¾‘ï¼ˆHOC/Render Propsï¼‰</th><th>Hooks å¤ç”¨é€»è¾‘ï¼ˆè‡ªå®šä¹‰ Hookï¼‰</th></tr></thead><tbody><tr><td>å¿…é¡»é€šè¿‡ã€Œç»„ä»¶åµŒå¥—ã€å®ç°</td><td>ç›´æ¥è°ƒç”¨ã€Œå‡½æ•°ã€ï¼Œæ— åµŒå¥—</td></tr><tr><td>é€»è¾‘è¶Šå¤šï¼ŒåµŒå¥—è¶Šæ·±ï¼ˆåœ°ç‹±åŒ–ï¼‰</td><td>é€»è¾‘è¶Šå¤šï¼Œåªæ˜¯å¤šå‡ è¡Œå‡½æ•°è°ƒç”¨</td></tr><tr><td>è°ƒè¯•æ—¶è¦æ‹†åŒ…è£…ç»„ä»¶ï¼Œæˆæœ¬é«˜</td><td>è°ƒè¯•ç›´æ¥çœ‹ä¸šåŠ¡ç»„ä»¶ï¼Œé€»è¾‘æ¸…æ™°</td></tr></tbody></table>
<p>ç®€å•æ¥è¯´ï¼Œ<strong><code>ç±»ç»„ä»¶çš„å¤ç”¨æ˜¯ã€Œç”¨ç»„ä»¶å¥—ç»„ä»¶ã€ï¼Œè‡ªç„¶ä¼šåµŒå¥—ï¼›è€Œ Hooks çš„å¤ç”¨æ˜¯ã€Œç”¨å‡½æ•°æŠ½é€»è¾‘ã€ï¼Œç»„ä»¶åªéœ€è¦è°ƒç”¨å‡½æ•°ï¼Œä»æ ¹æºä¸Šæ¶ˆç­äº†åµŒå¥—åœ°ç‹±ã€‚</code></strong> è¿™ä¹Ÿæ˜¯ Hooks æœ€æ ¸å¿ƒçš„ä»·å€¼ä¹‹ä¸€â€”â€”<strong>è®©çŠ¶æ€é€»è¾‘å¤ç”¨å˜å¾—ç®€å•ã€å¹³é“ºã€å¯ç»´æŠ¤</strong>ã€‚</p>
<h2 data-id="heading-45">æœ€åæ€»ç»“</h2>
<ol>
<li><strong>å‡½æ•°ç»„ä»¶æ˜¯ã€Œå®¹å™¨ã€</strong>ï¼šæä¾›äº†ã€Œå¹³é“ºå†™ä»£ç ã€çš„åŸºç¡€å½¢å¼ï¼Œä½†æœ¬èº«æ²¡æœ‰å¤ç”¨çŠ¶æ€é€»è¾‘çš„èƒ½åŠ›ï¼›</li>
<li><strong>Hooks æ˜¯ã€Œæ ¸å¿ƒèƒ½åŠ›ã€</strong>ï¼š
<ul>
<li>å†…ç½® Hooksï¼ˆ<code>useState</code>/<code>useEffect</code>ï¼‰è®©å‡½æ•°ç»„ä»¶èƒ½ã€ŒæŒæœ‰çŠ¶æ€ã€å¤„ç†å‰¯ä½œç”¨ã€ç»™å‡½æ•°ç»„ä»¶ã€ŒåŠ æ‰‹è„šã€ï¼›</li>
<li><strong><code>è‡ªå®šä¹‰ Hooks è®©çŠ¶æ€é€»è¾‘èƒ½ã€Œè„±ç¦»ç»„ä»¶åµŒå¥—ï¼Œä»¥å‡½æ•°å½¢å¼è¢«å¹³é“ºè°ƒç”¨ã€ã€ŒçŠ¶æ€ä¸ UI è§£è€¦ã€</code></strong>ï¼›</li>
</ul>
</li>
<li>æœ€ç»ˆç»“è®ºï¼š<strong>ä¸æ˜¯å‡½æ•°çš„åŠŸåŠ³ï¼Œä¹Ÿä¸æ˜¯å•çº¯ Hook çš„åŠŸåŠ³ â€”â€” æ˜¯ã€Œå‡½æ•°ç»„ä»¶ä½œä¸ºè½½ä½“ã€+ã€ŒHooks ä½œä¸ºé€»è¾‘å¤ç”¨å·¥å…·ã€çš„ç»„åˆï¼Œæ‰è§£å†³äº†ä¸€ç³»åˆ—é—®é¢˜</strong>ã€‚</li>
</ol>
<p>Hooks æ˜¯ã€ŒçŸ›ã€ï¼Œå‡½æ•°ç»„ä»¶æ˜¯ã€Œæ¡çŸ›çš„æ‰‹ã€â€”â€” å°‘äº†ä»»ä½•ä¸€ä¸ªï¼Œéƒ½åˆºä¸ç©¿åµŒå¥—åœ°ç‹±çš„ç›¾ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[çŸ­ä¿¡ http æ¥å£å¼€å‘å¯¹æ¥å®æˆ˜ï¼šHTTP åè®®çŸ­ä¿¡æ¥å£è°ƒç”¨ä¸é›†æˆæŠ€å·§]]></title>    <link>https://juejin.cn/post/7598390244379361318</link>    <guid>https://juejin.cn/post/7598390244379361318</guid>    <pubDate>2026-01-23T09:24:48.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598390244379361318" data-draft-id="7598390244379328550" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="çŸ­ä¿¡ http æ¥å£å¼€å‘å¯¹æ¥å®æˆ˜ï¼šHTTP åè®®çŸ­ä¿¡æ¥å£è°ƒç”¨ä¸é›†æˆæŠ€å·§"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T09:24:48.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·80269443385"/> <meta itemprop="url" content="https://juejin.cn/user/925127226441289"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            çŸ­ä¿¡ http æ¥å£å¼€å‘å¯¹æ¥å®æˆ˜ï¼šHTTP åè®®çŸ­ä¿¡æ¥å£è°ƒç”¨ä¸é›†æˆæŠ€å·§
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/925127226441289/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·80269443385
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:24:48.000Z" title="Fri Jan 23 2026 09:24:48 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ä¼ä¸šçº§ä¸šåŠ¡ç³»ç»Ÿå¼€å‘ä¸­ï¼Œ<strong>çŸ­ä¿¡ http æ¥å£</strong>æ˜¯å®ç°éªŒè¯ç ä¸‹å‘ã€è®¢å•çŠ¶æ€é€šçŸ¥ã€ç³»ç»Ÿå‘Šè­¦çš„æ ¸å¿ƒé€šé“ï¼Œä½†å¼€å‘è€…åœ¨å¯¹æ¥çŸ­ä¿¡ http æ¥å£æ—¶ï¼Œå¸¸å› å¯¹ HTTP åè®®ç»†èŠ‚ç†è§£ä¸è¶³ã€è¯·æ±‚å‚æ•°é…ç½®ä¸è§„èŒƒã€è¯·æ±‚æ–¹å¼é€‰å‹é”™è¯¯ç­‰é—®é¢˜ï¼Œå¯¼è‡´æ¥å£è°ƒç”¨æˆåŠŸç‡ä½ã€ä¸šåŠ¡æµç¨‹é˜»å¡ã€‚æœ¬æ–‡èšç„¦çŸ­ä¿¡ http æ¥å£çš„å…¨æµç¨‹å¯¹æ¥ï¼Œä» HTTP åè®®äº¤äº’åŸç†æ‹†è§£ã€å®æˆ˜å¯¹æ¥ç¤ºä¾‹åˆ°é¿å‘æŠ€å·§æ€»ç»“ï¼Œå¸®åŠ©å¼€å‘è€…æŒæ¡æ ‡å‡†åŒ–çš„çŸ­ä¿¡ http æ¥å£è°ƒç”¨ä¸é›†æˆæ–¹æ³•ï¼Œå¤§å¹…æå‡æ¥å£é€‚é…æ•ˆç‡å’Œç¨³å®šæ€§ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€çŸ­ä¿¡ http æ¥å£å¯¹æ¥çš„æ ¸å¿ƒç—›ç‚¹ä¸ HTTP åè®®é€‚é…é—®é¢˜</h2>
<p>å¼€å‘è€…å¯¹æ¥çŸ­ä¿¡ http æ¥å£æ—¶ï¼Œ80% çš„å¼‚å¸¸æºäºå¯¹ HTTP åè®®é€‚é…ä¸å½“ï¼Œæ ¸å¿ƒç—›ç‚¹é›†ä¸­åœ¨ä»¥ä¸‹æ–¹é¢ï¼š</p>
<ol>
<li>HTTP è¯·æ±‚å¤´é…ç½®é”™è¯¯ï¼šæœªæŒ‰è¦æ±‚è®¾ç½®<code>Content-Type</code>ä¸º<code>application/x-www-form-urlencoded</code>ï¼Œè§¦å‘æ¥å£å‚æ•°è§£æå¤±è´¥ï¼›</li>
<li>è¯·æ±‚æ–¹å¼é€‰å‹ä¸å½“ï¼šç”Ÿäº§ç¯å¢ƒä½¿ç”¨ GET æ–¹å¼è°ƒç”¨çŸ­ä¿¡ http æ¥å£ï¼Œå›  URL é•¿åº¦é™åˆ¶å¯¼è‡´é•¿çŸ­ä¿¡å‚æ•°æˆªæ–­ï¼›</li>
<li>å‚æ•°ç¼–ç å¼‚å¸¸ï¼šæœªç»Ÿä¸€ä½¿ç”¨ UTF-8 ç¼–ç ï¼Œä¸­æ–‡å†…å®¹å‡ºç°ä¹±ç ï¼Œè§¦å‘ 407ï¼ˆæ•æ„Ÿå­—ç¬¦ï¼‰é”™è¯¯ï¼›</li>
<li>çŠ¶æ€ç è§£æä¸ç²¾å‡†ï¼šä»…å…³æ³¨ â€œæäº¤æˆåŠŸ / å¤±è´¥â€ï¼Œæœªé’ˆå¯¹ 406ï¼ˆæ‰‹æœºå·æ ¼å¼ï¼‰ã€4085ï¼ˆéªŒè¯ç è¶…é™ï¼‰ç­‰ç»†åˆ†çŠ¶æ€ç åˆ¶å®šå¤„ç†ç­–ç•¥ã€‚</li>
</ol>
<p>è¿™äº›é—®é¢˜æœ¬è´¨æ˜¯å¯¹çŸ­ä¿¡ http æ¥å£çš„ HTTP åè®®äº¤äº’é€»è¾‘ç†è§£ä¸é€å½»ï¼Œè€Œéæ¥å£æœ¬èº«çš„é€‚é…æ€§é—®é¢˜ã€‚</p>
<h2 data-id="heading-1">äºŒã€çŸ­ä¿¡ http æ¥å£çš„ HTTP åè®®äº¤äº’åŸç†æ‹†è§£</h2>
<p>è¦ç¨³å®šå¯¹æ¥çŸ­ä¿¡ http æ¥å£ï¼Œéœ€å…ˆæŒæ¡å…¶åŸºäº HTTP åè®®çš„é€šç”¨äº¤äº’é€»è¾‘ï¼Œæ ¸å¿ƒå¯æ‹†è§£ä¸º 3 ä¸ªé˜¶æ®µï¼š</p>
<h3 data-id="heading-2">2.1 è¯·æ±‚æ„å»ºé˜¶æ®µ</h3>
<p>çŸ­ä¿¡ http æ¥å£çš„ HTTP è¯·æ±‚éœ€æ»¡è¶³ 3 ä¸ªæ ¸å¿ƒè§„èŒƒï¼š</p>
<ul>
<li>è¯·æ±‚æ–¹æ³•ï¼šæ”¯æŒ GET/POSTï¼Œç”Ÿäº§ç¯å¢ƒä¼˜å…ˆ POSTï¼ˆæ—  URL é•¿åº¦é™åˆ¶ã€å‚æ•°å®‰å…¨æ€§é«˜ï¼‰ï¼›</li>
<li>è¯·æ±‚å¤´ï¼šå¿…é¡»è®¾ç½®<code>Content-Type: application/x-www-form-urlencoded</code>ï¼Œå­—ç¬¦ç¼–ç ç»Ÿä¸€ä¸º UTF-8ï¼›</li>
<li>å‚æ•°å°è£…ï¼š<code>account</code>ï¼ˆAPIIDï¼‰ã€<code>password</code>ï¼ˆAPIKEYï¼‰ä¸ºå¿…é€‰èº«ä»½å‡­è¯ï¼Œ<code>mobile</code>éœ€ä¸¥æ ¼æ ¡éªŒ 11 ä½æ ¼å¼ï¼ˆç¤ºä¾‹ï¼š139****8888ï¼‰ï¼Œ<code>content</code>/<code>templateid</code>æŒ‰æ¨¡æ¿è§„åˆ™é…ç½®ã€‚</li>
</ul>
<h3 data-id="heading-3">2.2 æœåŠ¡ç«¯æ ¡éªŒé˜¶æ®µ</h3>
<p>çŸ­ä¿¡ http æ¥å£çš„æœåŠ¡ç«¯ä¼šæŒ‰å›ºå®šé€»è¾‘æ ¡éªŒè¯·æ±‚ï¼š</p>
<ol>
<li>èº«ä»½æ ¡éªŒï¼šéªŒè¯<code>account</code>/<code>password</code>çš„æœ‰æ•ˆæ€§ï¼Œæ— æ•ˆåˆ™è¿”å› 405ï¼ˆAPI ID/KEY é”™è¯¯ï¼‰ï¼›</li>
<li>å‚æ•°æ ¡éªŒï¼šæ ¡éªŒæ‰‹æœºå·æ ¼å¼ã€å†…å®¹é•¿åº¦ï¼ˆâ‰¤500 å­—ï¼‰ã€æ•æ„Ÿå­—ç¬¦ã€æ¨¡æ¿åŒ¹é…åº¦ï¼›</li>
<li>æƒé™æ ¡éªŒï¼šæ ¡éªŒ IP å¤‡æ¡ˆã€å‰©ä½™çŸ­ä¿¡æ¡æ•°ã€å•æ—¥å‘é€é‡é™åˆ¶ï¼Œè§¦å‘é™åˆ¶åˆ™è¿”å› 4051ï¼ˆå‰©ä½™æ¡æ•°ä¸è¶³ï¼‰ã€4085ï¼ˆéªŒè¯ç è¶…é™ï¼‰ç­‰çŠ¶æ€ç ã€‚</li>
</ol>
<h3 data-id="heading-4">2.3 å“åº”è§£æé˜¶æ®µ</h3>
<p>çŸ­ä¿¡ http æ¥å£çš„å“åº”æ”¯æŒ JSON/XML æ ¼å¼ï¼Œæ ¸å¿ƒå…³æ³¨<code>code</code>å­—æ®µï¼š</p>
<ul>
<li><code>code=2</code>ï¼šä»…ä»£è¡¨è¯·æ±‚æäº¤æˆåŠŸï¼Œä¸ä»£è¡¨çŸ­ä¿¡é€è¾¾æˆåŠŸï¼›</li>
<li><code>codeâ‰ 2</code>ï¼šéœ€æ ¹æ®å…·ä½“æ•°å€¼å®šä½é—®é¢˜ï¼ˆå¦‚ 406 ä¸ºæ‰‹æœºå·æ ¼å¼é”™è¯¯ï¼Œ407 ä¸ºå†…å®¹å«æ•æ„Ÿå­—ç¬¦ï¼‰ï¼›</li>
<li>é¢å¤–å…³æ³¨<code>smsid</code>ï¼šæäº¤æˆåŠŸæ—¶çš„æµæ°´å·ï¼Œç”¨äºåç»­é—®é¢˜æ’æŸ¥ã€‚</li>
</ul>
<h2 data-id="heading-5">ä¸‰ã€äº’äº¿æ— çº¿çŸ­ä¿¡ http æ¥å£å¯¹æ¥å®æˆ˜</h2>
<p>ä»¥äº’äº¿æ— çº¿çš„çŸ­ä¿¡ http æ¥å£ä¸ºä¾‹ï¼Œæ¼”ç¤ºæ ‡å‡†åŒ–çš„å¯¹æ¥æµç¨‹ï¼Œè¯¥æ¥å£å®Œå…¨éµå¾ª HTTP åè®®è§„èŒƒï¼Œé€‚é…ç»å¤§å¤šæ•°ä¼ä¸šçº§å¯¹æ¥åœºæ™¯ï¼Œä¸”æ”¯æŒå…¨å¤© 24 å°æ—¶è°ƒç”¨ã€‚</p>
<h3 data-id="heading-6">3.1 å‰ç½®å‡†å¤‡</h3>
<ol>
<li>æ¥å£å‡­è¯è·å–ï¼šè®¿é—®æ³¨å†Œé“¾æ¥<code>http://user.ihuyi.com/?udcpF6</code>å®Œæˆè´¦å·æ³¨å†Œï¼Œåœ¨ç”¨æˆ·ä¸­å¿ƒ â€œæ–‡æœ¬çŸ­ä¿¡ - éªŒè¯ç çŸ­ä¿¡ - äº§å“æ€»è§ˆâ€ ä¸­è·å–<code>account</code>ï¼ˆAPIIDï¼‰å’Œ<code>password</code>ï¼ˆAPIKEYï¼‰ï¼›</li>
<li>ç¯å¢ƒä¾èµ–ï¼šå¼•å…¥ Apache HttpClientï¼ˆå¤„ç† HTTP è¯·æ±‚ï¼‰ã€FastJSONï¼ˆè§£æ JSON å“åº”ï¼‰ï¼ŒMaven ä¾èµ–å¦‚ä¸‹ï¼š</li>
</ol>
<p>xml</p>
<pre><code class="hljs language-xml" lang="xml"><span class="hljs-comment">&lt;!-- HTTPè¯·æ±‚ä¾èµ–ï¼Œç”¨äºè°ƒç”¨çŸ­ä¿¡httpæ¥å£ --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>httpclient<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.5.14<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-comment">&lt;!-- JSONè§£æä¾èµ–ï¼Œç”¨äºè§£æçŸ­ä¿¡httpæ¥å£å“åº” --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>fastjson<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.83<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
</code></pre>
<h3 data-id="heading-7">3.2 æ ¸å¿ƒä»£ç å®ç°ï¼ˆPOST æ–¹å¼ï¼‰</h3>
<p>java</p>
<p>è¿è¡Œ</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">import</span> org.apache.http.NameValuePair;
<span class="hljs-keyword">import</span> org.apache.http.client.entity.UrlEncodedFormEntity;
<span class="hljs-keyword">import</span> org.apache.http.client.methods.CloseableHttpResponse;
<span class="hljs-keyword">import</span> org.apache.http.client.methods.HttpPost;
<span class="hljs-keyword">import</span> org.apache.http.impl.client.CloseableHttpClient;
<span class="hljs-keyword">import</span> org.apache.http.impl.client.HttpClients;
<span class="hljs-keyword">import</span> org.apache.http.message.BasicNameValuePair;
<span class="hljs-keyword">import</span> org.apache.http.util.EntityUtils;
<span class="hljs-keyword">import</span> com.alibaba.fastjson.JSONObject;
<span class="hljs-keyword">import</span> java.nio.charset.StandardCharsets;
<span class="hljs-keyword">import</span> java.util.ArrayList;
<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.regex.Pattern;

<span class="hljs-comment">/**
 * çŸ­ä¿¡httpæ¥å£å¯¹æ¥å·¥å…·ç±»ï¼ˆäº’äº¿æ— çº¿ï¼‰
 * å‡­è¯è·å–åœ°å€ï¼šhttp://user.ihuyi.com/?udcpF6ï¼ˆæ³¨å†Œååœ¨ç”¨æˆ·ä¸­å¿ƒæŸ¥çœ‹APIID/APIKEYï¼‰
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SmsHttpApiClient</span> {
    <span class="hljs-comment">// çŸ­ä¿¡httpæ¥å£è¯·æ±‚åœ°å€</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">SMS_HTTP_API_URL</span> <span class="hljs-operator">=</span> <span class="hljs-string">"https://api.ihuyi.com/sms/Submit.json"</span>;
    <span class="hljs-comment">// æ›¿æ¢ä¸ºä»æ³¨å†Œåœ°å€è·å–çš„APIID</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">ACCOUNT</span> <span class="hljs-operator">=</span> <span class="hljs-string">"xxxxxxxx"</span>;
    <span class="hljs-comment">// æ›¿æ¢ä¸ºä»æ³¨å†Œåœ°å€è·å–çš„APIKEY</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">PASSWORD</span> <span class="hljs-operator">=</span> <span class="hljs-string">"xxxxxxxx"</span>;
    <span class="hljs-comment">// æ‰‹æœºå·æ ¼å¼æ ¡éªŒæ­£åˆ™ï¼Œé¿å…è§¦å‘çŸ­ä¿¡httpæ¥å£406é”™è¯¯</span>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-type">String</span> <span class="hljs-variable">MOBILE_REGEX</span> <span class="hljs-operator">=</span> <span class="hljs-string">"^1[3-9]\d{9}$"</span>;

    <span class="hljs-comment">/**
     * è°ƒç”¨çŸ­ä¿¡httpæ¥å£å‘é€éªŒè¯ç ï¼ˆæ¨¡æ¿æ–¹å¼ï¼‰
     * <span class="hljs-doctag">@param</span> mobile æ¥æ”¶æ‰‹æœºå·ï¼Œå¦‚139****8888
     * <span class="hljs-doctag">@param</span> verifyCode éªŒè¯ç å†…å®¹
     * <span class="hljs-doctag">@return</span> çŸ­ä¿¡httpæ¥å£å“åº”ç»“æœï¼ˆJSONæ ¼å¼ï¼‰
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">sendVerifyCode</span><span class="hljs-params">(String mobile, String verifyCode)</span> {
        <span class="hljs-comment">// å‰ç½®å‚æ•°æ ¡éªŒï¼šå‡å°‘æ— æ•ˆçš„çŸ­ä¿¡httpæ¥å£è°ƒç”¨</span>
        <span class="hljs-keyword">if</span> (!Pattern.matches(MOBILE_REGEX, mobile)) {
            <span class="hljs-keyword">return</span> JSONObject.toJSONString(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SmsHttpResponse</span>(<span class="hljs-number">406</span>, <span class="hljs-string">"æ‰‹æœºå·æ ¼å¼ä¸æ­£ç¡®"</span>, <span class="hljs-string">"0"</span>));
        }
        <span class="hljs-keyword">if</span> (verifyCode == <span class="hljs-literal">null</span> || verifyCode.length() &lt; <span class="hljs-number">4</span> || verifyCode.length() &gt; <span class="hljs-number">6</span>) {
            <span class="hljs-keyword">return</span> JSONObject.toJSONString(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SmsHttpResponse</span>(<span class="hljs-number">40722</span>, <span class="hljs-string">"éªŒè¯ç é•¿åº¦è¶…å‡ºé™åˆ¶"</span>, <span class="hljs-string">"0"</span>));
        }

        <span class="hljs-keyword">try</span> (<span class="hljs-type">CloseableHttpClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> HttpClients.createDefault()) {
            <span class="hljs-comment">// æ„å»ºçŸ­ä¿¡httpæ¥å£è¯·æ±‚å‚æ•°</span>
            List&lt;NameValuePair&gt; params = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();
            params.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BasicNameValuePair</span>(<span class="hljs-string">"account"</span>, ACCOUNT));
            params.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BasicNameValuePair</span>(<span class="hljs-string">"password"</span>, PASSWORD));
            params.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BasicNameValuePair</span>(<span class="hljs-string">"mobile"</span>, mobile));
            params.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BasicNameValuePair</span>(<span class="hljs-string">"templateid"</span>, <span class="hljs-string">"1"</span>)); <span class="hljs-comment">// ç³»ç»Ÿé»˜è®¤éªŒè¯ç æ¨¡æ¿</span>
            params.add(<span class="hljs-keyword">new</span> <span class="hljs-title class_">BasicNameValuePair</span>(<span class="hljs-string">"content"</span>, verifyCode)); <span class="hljs-comment">// æ¨¡æ¿å˜é‡</span>

            <span class="hljs-comment">// æ„å»ºPOSTè¯·æ±‚ï¼Œç¬¦åˆçŸ­ä¿¡httpæ¥å£çš„HTTPè¯·æ±‚å¤´è¦æ±‚</span>
            <span class="hljs-type">HttpPost</span> <span class="hljs-variable">post</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HttpPost</span>(SMS_HTTP_API_URL);
            post.setEntity(<span class="hljs-keyword">new</span> <span class="hljs-title class_">UrlEncodedFormEntity</span>(params, StandardCharsets.UTF_8));
            post.setHeader(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"application/x-www-form-urlencoded"</span>);

            <span class="hljs-comment">// æ‰§è¡Œè¯·æ±‚å¹¶è§£æçŸ­ä¿¡httpæ¥å£å“åº”</span>
            <span class="hljs-type">CloseableHttpResponse</span> <span class="hljs-variable">response</span> <span class="hljs-operator">=</span> client.execute(post);
            <span class="hljs-type">String</span> <span class="hljs-variable">responseStr</span> <span class="hljs-operator">=</span> EntityUtils.toString(response.getEntity(), StandardCharsets.UTF_8);
            <span class="hljs-keyword">return</span> responseStr;

        } <span class="hljs-keyword">catch</span> (Exception e) {
            <span class="hljs-comment">// å¼‚å¸¸å¤„ç†ï¼šçŸ­ä¿¡httpæ¥å£è°ƒç”¨å¤±è´¥è¿”å›ç»Ÿä¸€æ ¼å¼</span>
            <span class="hljs-keyword">return</span> JSONObject.toJSONString(<span class="hljs-keyword">new</span> <span class="hljs-title class_">SmsHttpResponse</span>(<span class="hljs-number">0</span>, <span class="hljs-string">"æ¥å£è°ƒç”¨å¼‚å¸¸ï¼š"</span> + e.getMessage(), <span class="hljs-string">"0"</span>));
        }
    }

    <span class="hljs-comment">/**
     * çŸ­ä¿¡httpæ¥å£å“åº”å®ä½“ç±»
     */</span>
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SmsHttpResponse</span> {
        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> code;
        <span class="hljs-keyword">private</span> String msg;
        <span class="hljs-keyword">private</span> String smsid;

        <span class="hljs-keyword">public</span> <span class="hljs-title function_">SmsHttpResponse</span><span class="hljs-params">(<span class="hljs-type">int</span> code, String msg, String smsid)</span> {
            <span class="hljs-built_in">this</span>.code = code;
            <span class="hljs-built_in">this</span>.msg = msg;
            <span class="hljs-built_in">this</span>.smsid = smsid;
        }

        <span class="hljs-comment">// çœç•¥getter/setteræ–¹æ³•</span>
    }

    <span class="hljs-comment">// æµ‹è¯•æ–¹æ³•</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> {
        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> sendVerifyCode(<span class="hljs-string">"139****8888"</span>, <span class="hljs-string">"7890"</span>);
        System.out.println(<span class="hljs-string">"çŸ­ä¿¡httpæ¥å£å“åº”ç»“æœï¼š"</span> + result);
        <span class="hljs-comment">// è§£æå“åº”ç»“æœ</span>
        <span class="hljs-type">JSONObject</span> <span class="hljs-variable">resultJson</span> <span class="hljs-operator">=</span> JSONObject.parseObject(result);
        <span class="hljs-keyword">if</span> (resultJson.getInteger(<span class="hljs-string">"code"</span>) == <span class="hljs-number">2</span>) {
            System.out.println(<span class="hljs-string">"çŸ­ä¿¡httpæ¥å£æäº¤æˆåŠŸï¼Œæµæ°´å·ï¼š"</span> + resultJson.getString(<span class="hljs-string">"smsid"</span>));
        } <span class="hljs-keyword">else</span> {
            System.out.println(<span class="hljs-string">"çŸ­ä¿¡httpæ¥å£æäº¤å¤±è´¥ï¼ŒåŸå› ï¼š"</span> + resultJson.getString(<span class="hljs-string">"msg"</span>));
        }
    }
}
</code></pre>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/79a76b60392f42fbaba494f3691de4e8~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg55So5oi3ODAyNjk0NDMzODU=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765088&amp;x-signature=iK614mSAyxvWl7wC53aDIRuhfow%3D" alt="api.png" loading="lazy"/></p>
<h3 data-id="heading-8">3.3 æ ¸å¿ƒä»£ç è§£æ</h3>
<ul>
<li>å‰ç½®å‚æ•°æ ¡éªŒï¼šè°ƒç”¨çŸ­ä¿¡ http æ¥å£å‰æ ¡éªŒæ‰‹æœºå·æ ¼å¼ã€éªŒè¯ç é•¿åº¦ï¼Œé¿å…æ— æ•ˆè¯·æ±‚ï¼›</li>
<li>HTTP è¯·æ±‚å¤´é…ç½®ï¼šä¸¥æ ¼æŒ‰è¦æ±‚è®¾ç½®<code>Content-Type</code>ï¼Œç¡®ä¿å‚æ•°è§£ææ­£å¸¸ï¼›</li>
<li>å¼‚å¸¸å¤„ç†ï¼šå°è£…ç»Ÿä¸€çš„å“åº”æ ¼å¼ï¼Œä¾¿äºä¸šåŠ¡ç³»ç»Ÿè§£æçŸ­ä¿¡ http æ¥å£çš„è°ƒç”¨çŠ¶æ€ã€‚</li>
</ul>
<h2 data-id="heading-9">å››ã€çŸ­ä¿¡ http æ¥å£ä¸åŒè¯·æ±‚æ–¹å¼å¯¹æ¯”ä¸é€‰å‹</h2>
<p>çŸ­ä¿¡ http æ¥å£æ”¯æŒ GET å’Œ POST ä¸¤ç§è¯·æ±‚æ–¹å¼ï¼Œéœ€æ ¹æ®ä¸šåŠ¡åœºæ™¯åˆç†é€‰å‹ï¼Œå…·ä½“å¯¹æ¯”å¦‚ä¸‹ï¼š</p>






























<table><thead><tr><th>å¯¹æ¯”ç»´åº¦</th><th>GET æ–¹å¼</th><th>POST æ–¹å¼</th></tr></thead><tbody><tr><td>å®‰å…¨æ€§</td><td>ä½ï¼ˆå‚æ•°æš´éœ²åœ¨ URL ä¸­ï¼‰</td><td>é«˜ï¼ˆå‚æ•°å°è£…åœ¨è¯·æ±‚ä½“ï¼‰</td></tr><tr><td>é•¿åº¦é™åˆ¶</td><td>å— URL é•¿åº¦é™åˆ¶ï¼ˆçº¦ 2048 å­—ç¬¦ï¼‰</td><td>æ— é•¿åº¦é™åˆ¶ï¼Œæ”¯æŒé•¿çŸ­ä¿¡å‚æ•°</td></tr><tr><td>è°ƒè¯•ä¾¿æ·æ€§</td><td>é«˜ï¼ˆæµè§ˆå™¨ / Postman ç›´æ¥æµ‹è¯•ï¼‰</td><td>ä¸­ï¼ˆéœ€æ„å»ºè¯·æ±‚ä½“ï¼‰</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>çŸ­ä¿¡ http æ¥å£è°ƒè¯•ã€å‚æ•°ç®€å•çš„æµ‹è¯•åœºæ™¯</td><td>ç”Ÿäº§ç¯å¢ƒã€å‚æ•°å¤æ‚çš„ä¸šåŠ¡åœºæ™¯</td></tr></tbody></table>
<p><strong>é€‰å‹ç»“è®º</strong>ï¼šç”Ÿäº§ç¯å¢ƒè°ƒç”¨çŸ­ä¿¡ http æ¥å£ä¼˜å…ˆé€‰æ‹© POST æ–¹å¼ï¼›æµ‹è¯•é˜¶æ®µå¯ä½¿ç”¨ GET æ–¹å¼å¿«é€ŸéªŒè¯æ¥å£è¿é€šæ€§ï¼Œä½†éœ€æ³¨æ„å‚æ•°é•¿åº¦é™åˆ¶ã€‚</p>
<h2 data-id="heading-10">äº”ã€çŸ­ä¿¡ http æ¥å£é›†æˆçš„é¿å‘æŠ€å·§ä¸æœ€ä½³å®è·µ</h2>
<p>ä¸ºæå‡çŸ­ä¿¡ http æ¥å£çš„é›†æˆç¨³å®šæ€§ï¼Œæ€»ç»“ä»¥ä¸‹æ ¸å¿ƒæŠ€å·§ï¼š</p>
<ol>
<li><strong>å…¨é‡å‰ç½®æ ¡éªŒ</strong>ï¼šè°ƒç”¨çŸ­ä¿¡ http æ¥å£å‰æ ¡éªŒæ‰‹æœºå·æ ¼å¼ã€å†…å®¹é•¿åº¦ã€æ•æ„Ÿå­—ç¬¦ï¼Œé¿å… 406/407/4073 ç­‰é”™è¯¯ï¼›</li>
<li><strong>å¼‚æ­¥è°ƒç”¨è§£è€¦</strong>ï¼šé€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆRabbitMQ/Kafkaï¼‰å¼‚æ­¥è°ƒç”¨çŸ­ä¿¡ http æ¥å£ï¼Œé¿å…é˜»å¡ä¸šåŠ¡ä¸»çº¿ç¨‹ï¼›</li>
<li><strong>ç²¾ç»†åŒ–çŠ¶æ€ç å¤„ç†</strong>ï¼šé’ˆå¯¹ 405ï¼ˆå‡­è¯é”™è¯¯ï¼‰ã€4085ï¼ˆéªŒè¯ç è¶…é™ï¼‰ã€4051ï¼ˆæ¡æ•°ä¸è¶³ï¼‰ç­‰çŠ¶æ€ç åˆ¶å®šä¸“å±ç­–ç•¥ï¼›</li>
<li><strong>ç¼–ç ç»Ÿä¸€åŒ–</strong>ï¼šæ‰€æœ‰å‚æ•°å‡ä½¿ç”¨ UTF-8 ç¼–ç ï¼Œé¿å…ä¸­æ–‡ä¹±ç è§¦å‘æ•æ„Ÿå­—ç¬¦æ£€æµ‹ï¼›</li>
<li><strong>ç›‘æ§å‘Šè­¦é…ç½®</strong>ï¼šç›‘æ§çŸ­ä¿¡ http æ¥å£çš„è°ƒç”¨æˆåŠŸç‡ï¼ˆç›®æ ‡â‰¥99.9%ï¼‰ã€å“åº”è€—æ—¶ï¼ˆç›®æ ‡â‰¤500msï¼‰ï¼Œå¼‚å¸¸æ—¶åŠæ—¶å‘Šè­¦ã€‚</li>
</ol>
<h3 data-id="heading-11">æ€»ç»“</h3>
<ol>
<li>å¯¹æ¥<strong>çŸ­ä¿¡ http æ¥å£</strong>çš„æ ¸å¿ƒæ˜¯éµå¾ª HTTP åè®®è§„èŒƒï¼Œé‡ç‚¹å…³æ³¨è¯·æ±‚å¤´é…ç½®ã€å‚æ•°ç¼–ç ã€çŠ¶æ€ç è§£æä¸‰å¤§ç¯èŠ‚ï¼›</li>
<li>ç”Ÿäº§ç¯å¢ƒè°ƒç”¨çŸ­ä¿¡ http æ¥å£ä¼˜å…ˆé€‰æ‹© POST æ–¹å¼ï¼Œå‰ç½®å‚æ•°æ ¡éªŒå¯å¤§å¹…é™ä½æ— æ•ˆè¯·æ±‚ç‡ï¼›</li>
<li>å¼‚æ­¥è°ƒç”¨ã€ç²¾ç»†åŒ–çŠ¶æ€ç å¤„ç†ã€ç›‘æ§å‘Šè­¦æ˜¯æå‡çŸ­ä¿¡ http æ¥å£é›†æˆç¨³å®šæ€§çš„å…³é”®ã€‚</li>
</ol>
<p>å»¶ä¼¸å»ºè®®ï¼šä¼ä¸šçº§é¡¹ç›®ä¸­å¯å°è£…çŸ­ä¿¡ http æ¥å£çš„ç»Ÿä¸€è°ƒç”¨ç½‘å…³ï¼Œé›†ä¸­å¤„ç†èº«ä»½è®¤è¯ã€å‚æ•°æ ¡éªŒã€é”™è¯¯é‡è¯•ï¼Œé™ä½å¤šä¸šåŠ¡ç³»ç»Ÿçš„å¯¹æ¥æˆæœ¬ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[React ç»„ä»¶å¼€å‘å­¦ä¹ ç¬”è®°ï¼šå¹»ç¯ç‰‡ä¸è¿”å›é¡¶éƒ¨åŠŸèƒ½å®ç°]]></title>    <link>https://juejin.cn/post/7598193992828747830</link>    <guid>https://juejin.cn/post/7598193992828747830</guid>    <pubDate>2026-01-23T09:31:40.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598193992828747830" data-draft-id="7598193992828731446" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="React ç»„ä»¶å¼€å‘å­¦ä¹ ç¬”è®°ï¼šå¹»ç¯ç‰‡ä¸è¿”å›é¡¶éƒ¨åŠŸèƒ½å®ç°"/> <meta itemprop="keywords" content="å‰ç«¯,React.js,å‰ç«¯æ¡†æ¶"/> <meta itemprop="datePublished" content="2026-01-23T09:31:40.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="UIUV"/> <meta itemprop="url" content="https://juejin.cn/user/1036168457093483"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            React ç»„ä»¶å¼€å‘å­¦ä¹ ç¬”è®°ï¼šå¹»ç¯ç‰‡ä¸è¿”å›é¡¶éƒ¨åŠŸèƒ½å®ç°
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1036168457093483/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    UIUV
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:31:40.000Z" title="Fri Jan 23 2026 09:31:40 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»21åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨ React é¡¹ç›®å¼€å‘ä¸­ï¼Œå¹»ç¯ç‰‡ï¼ˆè½®æ’­å›¾ï¼‰å’Œè¿”å›é¡¶éƒ¨æ˜¯ä¸¤ä¸ªé«˜é¢‘å‡ºç°çš„åŠŸèƒ½ç»„ä»¶ã€‚æœ¬æ–‡åŸºäºå®é™…å¼€å‘ä»£ç ï¼Œæ·±å…¥è§£æä½¿ç”¨ shadcn ç»„ä»¶åº“ã€Embla Carousel æ’ä»¶åŠåŸç”Ÿ React API å®ç°è¿™ä¸¤ä¸ªç»„ä»¶çš„å…¨è¿‡ç¨‹ï¼Œæ¶µç›–ç»„ä»¶è®¾è®¡ã€ç±»å‹çº¦æŸã€æ€§èƒ½ä¼˜åŒ–ã€äº‹ä»¶å¤„ç†ç­‰æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼Œæ—¨åœ¨æ¢³ç†æŠ€æœ¯é€»è¾‘ï¼Œå¤¯å® React + TypeScript å¼€å‘åŸºç¡€ã€‚</p>
<p>æœ¬æ–‡æ¶‰åŠçš„ä»£ç åŒ…å«ä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼šå¹»ç¯ç‰‡ç»„ä»¶ï¼ˆSlideShowï¼‰ã€è¿”å›é¡¶éƒ¨ç»„ä»¶ï¼ˆBackToTopï¼‰ã€èŠ‚æµå·¥å…·å‡½æ•°ï¼ˆthrottleï¼‰ï¼Œä»¥åŠç»„ä»¶åœ¨é¦–é¡µï¼ˆHomeï¼‰çš„é›†æˆä½¿ç”¨ã€‚ä¸‹æ–‡å°†é€æ¨¡å—æ‹†è§£åˆ†æï¼Œç»“åˆ React åŸç†å’Œ TypeScript ç‰¹æ€§ï¼Œæ‹†è§£æŠ€æœ¯ç»†èŠ‚ä¸å®è·µè¦ç‚¹ã€‚</p>
<h2 data-id="heading-0">ä¸€ã€å‰æœŸå‡†å¤‡ä¸æŠ€æœ¯æ ˆè¯´æ˜</h2>
<h3 data-id="heading-1">1.1 æ ¸å¿ƒæŠ€æœ¯æ ˆ</h3>
<ul>
<li><strong>React</strong>ï¼šæ ¸å¿ƒå‰ç«¯æ¡†æ¶ï¼Œé‡‡ç”¨å‡½æ•°å¼ç»„ä»¶+Hooks æ¨¡å¼å¼€å‘ï¼Œå®ç°ç»„ä»¶çš„çŠ¶æ€ç®¡ç†ã€ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ä¸ DOM äº¤äº’ã€‚</li>
<li><strong>TypeScript</strong>ï¼šä¸º JavaScript æä¾›é™æ€ç±»å‹æ£€æŸ¥ï¼Œå®šä¹‰ç»„ä»¶å±æ€§ï¼ˆPropsï¼‰ã€çŠ¶æ€ï¼ˆStateï¼‰åŠå·¥å…·å‡½æ•°çš„ç±»å‹ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§ä¸å¥å£®æ€§ã€‚</li>
<li><strong>shadcn</strong>ï¼šè½»é‡çº§ UI ç»„ä»¶åº“ï¼Œæä¾›å°è£…å®Œå–„çš„åŸºç¡€ç»„ä»¶ï¼ˆå¦‚ Carousel è½®æ’­ç»„ä»¶ï¼‰ï¼Œå…·å¤‡é«˜æ€§èƒ½ã€é«˜å®šåˆ¶æ€§çš„ç‰¹ç‚¹ï¼Œå‡å°‘é‡å¤å¼€å‘æˆæœ¬ã€‚</li>
<li><strong>Embla Carousel</strong>ï¼šè½»é‡çº§è½®æ’­æ ¸å¿ƒåº“ï¼Œé€šè¿‡æ’ä»¶åŒ–æœºåˆ¶æ‰©å±•åŠŸèƒ½ï¼ˆå¦‚è‡ªåŠ¨æ’­æ”¾ï¼‰ï¼Œä¸ shadcn çš„ Carousel ç»„ä»¶é€‚é…æ€§è‰¯å¥½ã€‚</li>
<li><strong>Lucide React</strong>ï¼šå›¾æ ‡åº“ï¼Œæä¾›ç®€æ´çš„çŸ¢é‡å›¾æ ‡ï¼ˆå¦‚è¿”å›é¡¶éƒ¨çš„ ArrowUp å›¾æ ‡ï¼‰ï¼Œé€‚é… React ç»„ä»¶å¼€å‘ã€‚</li>
</ul>
<h3 data-id="heading-2">1.2 æ ¸å¿ƒå·¥å…·å‡½æ•°ï¼šèŠ‚æµå‡½æ•°ï¼ˆthrottleï¼‰</h3>
<p>åœ¨æ»šåŠ¨äº‹ä»¶ã€ resize äº‹ä»¶ç­‰é«˜é¢‘è§¦å‘åœºæ™¯ä¸­ï¼Œç›´æ¥æ‰§è¡Œå›è°ƒå‡½æ•°ä¼šå¯¼è‡´é¡µé¢æ€§èƒ½ä¸‹é™ï¼ˆå¦‚é¢‘ç¹é‡æ’é‡ç»˜ï¼‰ã€‚èŠ‚æµå‡½æ•°çš„ä½œç”¨æ˜¯é™åˆ¶å‡½æ•°åœ¨ä¸€å®šæ—¶é—´å†…åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œé™ä½äº‹ä»¶è§¦å‘é¢‘ç‡ï¼Œä¼˜åŒ–æ€§èƒ½ã€‚</p>
<h4 data-id="heading-3">1.2.1 å‡½æ•°å®ç°ä¸ç±»å‹å®šä¹‰</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ThrottleFunction</span> = <span class="hljs-function">(<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) =&gt;</span> <span class="hljs-built_in">void</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">fun: ThrottleFunction, delay: <span class="hljs-built_in">number</span></span>): <span class="hljs-title class_">ThrottleFunction</span> {
  <span class="hljs-keyword">let</span> <span class="hljs-attr">last</span>: <span class="hljs-built_in">number</span> | <span class="hljs-literal">undefined</span>;
  <span class="hljs-keyword">let</span> <span class="hljs-attr">deferTimer</span>: <span class="hljs-title class_">NodeJS</span>.<span class="hljs-property">Timeout</span> | <span class="hljs-literal">undefined</span>;

  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args: <span class="hljs-built_in">any</span>[]</span>) {
    <span class="hljs-keyword">const</span> now = +<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();

    <span class="hljs-keyword">if</span> (last &amp;&amp; now &lt; last + delay) {
      <span class="hljs-built_in">clearTimeout</span>(deferTimer);
      deferTimer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"/>) {
        last = now;
        <span class="hljs-title function_">fun</span>(...args);
      }, delay);
    } <span class="hljs-keyword">else</span> {
      last = now;
      <span class="hljs-title function_">fun</span>(...args);
    }
  };
}
</code></pre>
<h4 data-id="heading-4">1.2.2 æ ¸å¿ƒé€»è¾‘è§£æ</h4>
<p>è¯¥èŠ‚æµå‡½æ•°é‡‡ç”¨â€œæ—¶é—´æˆ³+å®šæ—¶å™¨â€ç»“åˆçš„å®ç°æ–¹å¼ï¼Œå…¼é¡¾å³æ—¶å“åº”ä¸å»¶è¿Ÿæ‰§è¡Œï¼Œé¿å…äº†çº¯æ—¶é—´æˆ³æˆ–çº¯å®šæ—¶å™¨æ–¹æ¡ˆçš„ç¼ºé™·ï¼š</p>
<ul>
<li>
<p><strong>å˜é‡å®šä¹‰</strong>ï¼š</p>
<ul>
<li><code>last</code>ï¼šå­˜å‚¨ä¸Šä¸€æ¬¡å‡½æ•°æ‰§è¡Œçš„æ—¶é—´æˆ³ï¼Œåˆå§‹å€¼ä¸º <code>undefined</code>ï¼›</li>
<li><code>deferTimer</code>ï¼šå­˜å‚¨å®šæ—¶å™¨å®ä¾‹ï¼Œç”¨äºå»¶è¿Ÿæ‰§è¡Œå‡½æ•°ï¼Œé¿å…é«˜é¢‘è§¦å‘æ—¶å®Œå…¨å±è”½å‡½æ•°æ‰§è¡Œã€‚</li>
</ul>
</li>
<li>
<p><strong>æ‰§è¡Œé€»è¾‘</strong>ï¼š</p>
<ul>
<li>è·å–å½“å‰æ—¶é—´æˆ³ <code>now</code>ï¼Œåˆ¤æ–­è·ç¦»ä¸Šä¸€æ¬¡æ‰§è¡Œæ—¶é—´æ˜¯å¦å°äºè®¾å®šå»¶è¿Ÿ <code>delay</code>ï¼›</li>
<li>è‹¥æ—¶é—´é—´éš”ä¸è¶³ï¼šæ¸…é™¤ç°æœ‰å®šæ—¶å™¨ï¼Œé‡æ–°è®¾ç½®å®šæ—¶å™¨ï¼Œç¡®ä¿åœ¨å»¶è¿Ÿç»“æŸåæ‰§è¡Œä¸€æ¬¡å‡½æ•°ï¼ˆé¿å…é”™è¿‡æœ€åä¸€æ¬¡è§¦å‘ï¼‰ï¼›</li>
<li>è‹¥æ—¶é—´é—´éš”å……è¶³ï¼šç›´æ¥æ‰§è¡Œå‡½æ•°ï¼Œå¹¶æ›´æ–° <code>last</code> ä¸ºå½“å‰æ—¶é—´æˆ³ï¼Œä¿è¯å³æ—¶å“åº”é¦–æ¬¡è§¦å‘æˆ–é—´éš”è¶³å¤Ÿçš„è§¦å‘ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç±»å‹çº¦æŸ</strong>ï¼šé€šè¿‡ <code>ThrottleFunction</code> ç±»å‹åˆ«åï¼Œå®šä¹‰èŠ‚æµå‡½æ•°çš„å…¥å‚å’Œè¿”å›å€¼å‡ä¸ºâ€œæ¥æ”¶ä»»æ„å‚æ•°ã€æ— è¿”å›å€¼â€çš„å‡½æ•°ï¼Œç¡®ä¿ç±»å‹ä¸€è‡´æ€§ã€‚</p>
</li>
</ul>
<h4 data-id="heading-5">1.2.3 åº”ç”¨åœºæ™¯</h4>
<p>è¯¥å‡½æ•°ä¸»è¦ç”¨äºå¤„ç†é«˜é¢‘è§¦å‘äº‹ä»¶ï¼Œæœ¬æ–‡ä¸­ç”¨äº <code>BackToTop</code> ç»„ä»¶çš„æ»šåŠ¨äº‹ä»¶ç›‘å¬ï¼Œé™åˆ¶æ»šåŠ¨äº‹ä»¶å›è°ƒå‡½æ•°çš„æ‰§è¡Œé¢‘ç‡ï¼ˆæ¯ 200ms æœ€å¤šæ‰§è¡Œä¸€æ¬¡ï¼‰ï¼Œé¿å…å› æ»šåŠ¨è§¦å‘è¿‡å¤šå‡½æ•°è°ƒç”¨å¯¼è‡´é¡µé¢å¡é¡¿ã€‚</p>
<h2 data-id="heading-6">äºŒã€å¹»ç¯ç‰‡ç»„ä»¶ï¼ˆSlideShowï¼‰æ·±åº¦è§£æ</h2>
<p>å¹»ç¯ç‰‡ç»„ä»¶æ˜¯é¡µé¢å±•ç¤ºçš„æ ¸å¿ƒç»„ä»¶ä¹‹ä¸€ï¼Œéœ€å®ç°è½®æ’­å±•ç¤ºã€è‡ªåŠ¨æ’­æ”¾ã€é¼ æ ‡äº¤äº’ã€æŒ‡ç¤ºç‚¹è”åŠ¨ç­‰åŠŸèƒ½ã€‚æœ¬æ–‡åŸºäº shadcn çš„ Carousel ç»„ä»¶å°è£…ï¼Œç»“åˆ Embla Carousel çš„ AutoPlay æ’ä»¶ï¼Œå®ç°é«˜æ€§èƒ½ã€é«˜å®šåˆ¶æ€§çš„è½®æ’­æ•ˆæœã€‚</p>
<h3 data-id="heading-7">2.1 ç»„ä»¶ç»“æ„ä¸ä¾èµ–å¼•å…¥</h3>
<h4 data-id="heading-8">2.1.1 ä¾èµ–å¼•å…¥è¯´æ˜</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span>{
    useRef, <span class="hljs-comment">// æŒä¹…åŒ–å­˜å‚¨å¯¹è±¡ï¼Œdomå¯¹è±¡çš„å¼•ç”¨</span>
    useState,
    useEffect,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-comment">// ç¬¬ä¸‰æ–¹åº“</span>
<span class="hljs-keyword">import</span> <span class="hljs-title class_">AutoPlay</span> <span class="hljs-keyword">from</span> <span class="hljs-string">'embla-carousel-autoplay'</span>; <span class="hljs-comment">// è‡ªåŠ¨æ’­æ”¾ç»„ä»¶</span>
<span class="hljs-comment">// å¼•å…¥carouselç»„ä»¶,ç”¨å®ƒæ¥å®ç°è½®æ’­å›¾åŠŸèƒ½â€œæ—‹è½¬æœ¨é©¬â€</span>
<span class="hljs-keyword">import</span> {
    <span class="hljs-title class_">Carousel</span>,
    <span class="hljs-title class_">CarouselContent</span>,
    <span class="hljs-title class_">CarouselItem</span>,
    <span class="hljs-keyword">type</span> <span class="hljs-title class_">CarouselApi</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@/components//ui/carousel'</span>;

<span class="hljs-comment">// ç±»å‹å®šä¹‰</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">SlideData</span> { <span class="hljs-comment">// è½®æ’­å›¾æ•°æ®é¡¹</span>
    <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span> | <span class="hljs-built_in">string</span>; <span class="hljs-comment">// è”åˆç±»å‹</span>
    <span class="hljs-attr">image</span>: <span class="hljs-built_in">string</span>;
    title?: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">SlideShowProps</span> { <span class="hljs-comment">// è½®æ’­å›¾ç»„ä»¶å±æ€§</span>
    <span class="hljs-attr">slides</span>: <span class="hljs-title class_">SlideData</span>[]; <span class="hljs-comment">// è½®æ’­å›¾æ•°æ®é¡¹æ•°ç»„</span>
    autoPlay?: <span class="hljs-built_in">boolean</span>; <span class="hljs-comment">// æ˜¯å¦è‡ªåŠ¨æ’­æ”¾</span>
    autoPlayDelay?: <span class="hljs-built_in">number</span>; <span class="hljs-comment">// è‡ªåŠ¨æ’­æ”¾é—´éš”æ—¶é—´</span>
}
</code></pre>
<h4 data-id="heading-9">2.1.2 æ ¸å¿ƒä¾èµ–è§£æ</h4>
<ul>
<li>
<p><strong>React Hooks</strong>ï¼š</p>
<ul>
<li><code>useState</code>ï¼šç®¡ç†ç»„ä»¶çŠ¶æ€ï¼ˆå½“å‰é€‰ä¸­ç´¢å¼• <code>selectedIndex</code>ã€è½®æ’­å›¾ API å®ä¾‹ <code>api</code>ï¼‰ï¼›</li>
<li><code>useEffect</code>ï¼šå¤„ç†å‰¯ä½œç”¨ï¼ˆäº‹ä»¶ç›‘å¬ã€ç»„ä»¶å¸è½½æ¸…ç†ï¼‰ï¼›</li>
<li><code>useRef</code>ï¼šæŒä¹…åŒ–å­˜å‚¨ AutoPlay æ’ä»¶å®ä¾‹ï¼Œé¿å…ç»„ä»¶é‡æ¸²æŸ“æ—¶é‡å¤åˆ›å»ºå®ä¾‹ï¼Œä¼˜åŒ–æ€§èƒ½ã€‚</li>
</ul>
</li>
<li>
<p><strong>Embla Carousel æ’ä»¶</strong>ï¼š<code>AutoPlay</code> ä¸ºè½®æ’­å›¾æä¾›è‡ªåŠ¨æ’­æ”¾åŠŸèƒ½ï¼Œæ”¯æŒé…ç½®æ’­æ”¾å»¶è¿Ÿã€äº¤äº’åœæ­¢ç­‰å‚æ•°ã€‚</p>
</li>
<li>
<p><strong>shadcn ç»„ä»¶</strong>ï¼š</p>
<ul>
<li><code>Carousel</code>ï¼šè½®æ’­å›¾å®¹å™¨ç»„ä»¶ï¼Œæä¾›æ ¸å¿ƒè½®æ’­é€»è¾‘ã€API æš´éœ²ã€æ’ä»¶é›†æˆç­‰åŠŸèƒ½ï¼›</li>
<li><code>CarouselContent</code>ï¼šè½®æ’­å†…å®¹å®¹å™¨ï¼Œç”¨äºåŒ…è£¹è½®æ’­é¡¹ï¼Œæ§åˆ¶è½®æ’­çš„æ»šåŠ¨åŒºåŸŸï¼›</li>
<li><code>CarouselItem</code>ï¼šå•ä¸ªè½®æ’­é¡¹ç»„ä»¶ï¼Œå¯¹åº”æ¯ä¸€å¼ å¹»ç¯ç‰‡ï¼›</li>
<li><code>CarouselApi</code>ï¼šè½®æ’­å›¾ API ç±»å‹ï¼Œå®šä¹‰è½®æ’­å›¾å®ä¾‹çš„æ–¹æ³•å’Œå±æ€§ï¼Œç”¨äºç±»å‹çº¦æŸã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-10">2.1.3 ç±»å‹å®šä¹‰è§£æ</h4>
<ul>
<li>
<p><code>SlideData</code>ï¼šå®šä¹‰å•å¼ å¹»ç¯ç‰‡çš„æ•°æ®ç»“æ„ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li><code>id</code>ï¼šè”åˆç±»å‹ï¼ˆ<code>number | string</code>ï¼‰ï¼Œä½œä¸ºè½®æ’­é¡¹çš„å”¯ä¸€æ ‡è¯†ï¼Œç”¨äº <code>key</code> å±æ€§ï¼›</li>
<li><code>image</code>ï¼šå­—ç¬¦ä¸²ç±»å‹ï¼Œå­˜å‚¨å¹»ç¯ç‰‡å›¾ç‰‡åœ°å€ï¼Œä¸ºå¿…ä¼ å­—æ®µï¼›</li>
<li><code>title</code>ï¼šå¯é€‰å­—ç¬¦ä¸²ç±»å‹ï¼Œå­˜å‚¨å¹»ç¯ç‰‡æ ‡é¢˜ï¼Œç”¨äºå›¾ç‰‡ alt å±æ€§å’Œåº•éƒ¨æ–‡æ¡ˆå±•ç¤ºã€‚</li>
</ul>
</li>
<li>
<p><code>SlideShowProps</code>ï¼šå®šä¹‰å¹»ç¯ç‰‡ç»„ä»¶çš„å±æ€§ï¼ŒåŒ…å«ï¼š</p>
<ul>
<li><code>slides</code>ï¼š<code>SlideData[]</code> ç±»å‹ï¼Œè½®æ’­å›¾æ•°æ®æ•°ç»„ï¼Œä¸ºå¿…ä¼ å­—æ®µï¼›</li>
<li><code>autoPlay</code>ï¼šå¯é€‰å¸ƒå°”ç±»å‹ï¼Œæ§åˆ¶æ˜¯å¦å¼€å¯è‡ªåŠ¨æ’­æ”¾ï¼Œé»˜è®¤å€¼ä¸º <code>true</code>ï¼›</li>
<li><code>autoPlayDelay</code>ï¼šå¯é€‰æ•°å­—ç±»å‹ï¼Œè‡ªåŠ¨æ’­æ”¾é—´éš”æ—¶é—´ï¼ˆå•ä½ï¼šæ¯«ç§’ï¼‰ï¼Œé»˜è®¤å€¼ä¸º <code>3000</code>ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-11">2.2 ç»„ä»¶çŠ¶æ€ä¸å‰¯ä½œç”¨å¤„ç†</h3>
<h4 data-id="heading-12">2.2.1 çŠ¶æ€ç®¡ç†</h4>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">const</span> <span class="hljs-title class_">SlideShow</span>:<span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">SlideShowProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{
    slides,
    autoPlay = <span class="hljs-literal">true</span>,
    autoPlayDelay = <span class="hljs-number">3000</span>,
}</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> [selectedIndex,setSelectedIndex] = useState&lt;<span class="hljs-built_in">number</span>&gt;(<span class="hljs-number">0</span>); <span class="hljs-comment">// å½“å‰é€‰ä¸­çš„ç´¢å¼•</span>
    <span class="hljs-keyword">const</span> [api,setApi] = useState&lt;<span class="hljs-title class_">CarouselApi</span> | <span class="hljs-literal">null</span>&gt;(<span class="hljs-literal">null</span>); <span class="hljs-comment">// è½®æ’­å›¾APIå®ä¾‹</span>

    <span class="hljs-comment">// ... å‰¯ä½œç”¨ä¸ä¸šåŠ¡é€»è¾‘</span>
}
</code></pre>
<ul>
<li><code>selectedIndex</code>ï¼šå­˜å‚¨å½“å‰é€‰ä¸­çš„å¹»ç¯ç‰‡ç´¢å¼•ï¼Œåˆå§‹å€¼ä¸º <code>0</code>ï¼Œç”¨äºæ§åˆ¶æŒ‡ç¤ºç‚¹çš„æ¿€æ´»çŠ¶æ€ï¼Œå®ç°ç´¢å¼•ä¸æŒ‡ç¤ºç‚¹çš„è”åŠ¨ã€‚</li>
<li><code>api</code>ï¼šå­˜å‚¨ Carousel ç»„ä»¶çš„ API å®ä¾‹ï¼Œåˆå§‹å€¼ä¸º <code>null</code>ã€‚é€šè¿‡ <code>setApi</code> æ¥æ”¶ç»„ä»¶æš´éœ²çš„å®ä¾‹ï¼Œè¿›è€Œè°ƒç”¨å®ä¾‹æ–¹æ³•ï¼ˆå¦‚ç›‘å¬äº‹ä»¶ã€è·å–é€‰ä¸­ç´¢å¼•ï¼‰ã€‚</li>
</ul>
<h4 data-id="heading-13">2.2.2 å‰¯ä½œç”¨å¤„ç†ï¼ˆuseEffectï¼‰</h4>
<pre><code class="hljs language-scss" lang="scss"><span class="hljs-built_in">useEffect</span>(()=&gt;{
    <span class="hljs-built_in">if</span>(!api) return;
    const onSelect = () =&gt; <span class="hljs-built_in">setSelectedIndex</span>(api.selectedScrollSnap());
    api<span class="hljs-selector-class">.on</span>('select',onSelect);
    <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶ç§»é™¤äº‹ä»¶ç›‘å¬</span>
    return () =&gt; {
        api<span class="hljs-selector-class">.off</span>('select',onSelect);
    }
},<span class="hljs-selector-attr">[api]</span>)
</code></pre>
<p>è¯¥ useEffect ç”¨äºç›‘å¬è½®æ’­å›¾çš„é€‰ä¸­çŠ¶æ€å˜åŒ–ï¼Œæ ¸å¿ƒé€»è¾‘å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p><strong>ä¾èµ–é¡¹</strong>ï¼šä»…ä¾èµ– <code>api</code>ï¼Œå½“<code>api</code> ä» <code>null</code> å˜ä¸ºæœ‰æ•ˆå®ä¾‹æ—¶ï¼Œæ‰§è¡Œå‰¯ä½œç”¨é€»è¾‘ã€‚</p>
</li>
<li>
<p><strong>äº‹ä»¶ç›‘å¬</strong>ï¼š</p>
<ul>
<li>å®šä¹‰ <code>onSelect</code> å›è°ƒå‡½æ•°ï¼Œé€šè¿‡ <code>api.selectedScrollSnap()</code> è·å–å½“å‰é€‰ä¸­çš„è½®æ’­é¡¹ç´¢å¼•ï¼Œå¹¶æ›´æ–° <code>selectedIndex</code> çŠ¶æ€ï¼›</li>
<li>è°ƒç”¨ <code>api.on('select', onSelect)</code> ç›‘å¬è½®æ’­å›¾çš„ <code>select</code> äº‹ä»¶ï¼ˆå½“è½®æ’­é¡¹åˆ‡æ¢æ—¶è§¦å‘ï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><strong>ç»„ä»¶å¸è½½æ¸…ç†</strong>ï¼šè¿”å›æ¸…ç†å‡½æ•°ï¼Œè°ƒç”¨ <code>api.off('select', onSelect)</code> ç§»é™¤äº‹ä»¶ç›‘å¬ï¼Œé¿å…ç»„ä»¶å¸è½½åä»å­˜åœ¨äº‹ä»¶ç»‘å®šï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</p>
</li>
</ul>
<h4 data-id="heading-14">2.2.3 æ’ä»¶å®ä¾‹ä¼˜åŒ–ï¼ˆuseRefï¼‰</h4>
<pre><code class="hljs language-php" lang="php"><span class="hljs-comment">// AutoPlay æ¯”è¾ƒè€—æ€§èƒ½ ç”¨ ref å­˜å‚¨æ’ä»¶å®ä¾‹ï¼Œé¿å…æ¯æ¬¡æ¸²æŸ“éƒ½åˆ›å»ºæ–°å®ä¾‹</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">plugin</span> = <span class="hljs-title function_ invoke__">useRef</span>(
    autoPlay?<span class="hljs-title function_ invoke__">AutoPlay</span>({<span class="hljs-attr">delay</span>:autoPlayDelay,<span class="hljs-attr">stopOnInteraction</span>:<span class="hljs-literal">true</span>}):<span class="hljs-literal">null</span>
)
</code></pre>
<p>è¿™æ˜¯ç»„ä»¶æ€§èƒ½ä¼˜åŒ–çš„å…³é”®çŸ¥è¯†ç‚¹ï¼Œæ ¸å¿ƒåŸå› ä¸é€»è¾‘å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p><strong>æ€§èƒ½é—®é¢˜æ ¹æº</strong>ï¼šAutoPlay æ’ä»¶å®ä¾‹åˆ›å»ºæ˜¯è€—æ—¶æ“ä½œï¼Œè‹¥ç›´æ¥åœ¨ç»„ä»¶æ¸²æŸ“é˜¶æ®µåˆ›å»ºï¼Œæ¯æ¬¡ç»„ä»¶é‡æ¸²æŸ“ï¼ˆå¦‚çˆ¶ç»„ä»¶ä¼ é€’çš„ props å˜åŒ–ã€è‡ªèº«çŠ¶æ€æ›´æ–°ï¼‰éƒ½ä¼šé‡æ–°åˆ›å»ºå®ä¾‹ï¼Œå¯¼è‡´æ€§èƒ½æµªè´¹ã€‚</p>
</li>
<li>
<p><strong>useRef çš„ä½œç”¨</strong>ï¼šuseRef å­˜å‚¨çš„å¯¹è±¡åœ¨ç»„ä»¶æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ï¼Œä¸ä¼šå› ç»„ä»¶é‡æ¸²æŸ“è€Œé‡æ–°åˆ›å»ºã€‚é€šè¿‡ useRef å­˜å‚¨ AutoPlay å®ä¾‹ï¼Œç¡®ä¿ä»…åœ¨ç»„ä»¶åˆå§‹åŒ–æ—¶åˆ›å»ºä¸€æ¬¡å®ä¾‹ï¼Œåç»­é‡æ¸²æŸ“å¤ç”¨è¯¥å®ä¾‹ã€‚</p>
</li>
<li>
<p><strong>AutoPlay é…ç½®å‚æ•°</strong>ï¼š</p>
<ul>
<li><code>delay</code>ï¼šè‡ªåŠ¨æ’­æ”¾é—´éš”æ—¶é—´ï¼Œå¯¹åº”ç»„ä»¶çš„ <code>autoPlayDelay</code> å±æ€§ï¼›</li>
<li><code>stopOnInteraction</code>ï¼šå¸ƒå°”å€¼ï¼Œè®¾ç½®ä¸º <code>true</code> æ—¶ï¼Œå½“ç”¨æˆ·ä¸è½®æ’­å›¾äº¤äº’ï¼ˆå¦‚ç‚¹å‡»ã€æ»‘åŠ¨ï¼‰åï¼Œè‡ªåŠ¨æ’­æ”¾åœæ­¢ï¼Œæå‡ç”¨æˆ·ä½“éªŒã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-15">2.3 ç»„ä»¶æ¸²æŸ“ä¸äº¤äº’é€»è¾‘</h3>
<h4 data-id="heading-16">2.3.1 æ ¸å¿ƒç»„ä»¶ç»“æ„</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Carousel</span>
        <span class="hljs-attr">className</span>=<span class="hljs-string">'w-full'</span>
        <span class="hljs-attr">setApi</span>=<span class="hljs-string">{setApi}</span> // <span class="hljs-attr">è½®æ’­å›¾å®ä¾‹èµ‹å€¼</span>
        <span class="hljs-attr">plugins</span>=<span class="hljs-string">{plugin.current</span> ? [<span class="hljs-attr">plugin.current</span>] <span class="hljs-attr">:</span> []}
        <span class="hljs-attr">opts</span>=<span class="hljs-string">{{loop:true}}</span> // <span class="hljs-attr">å¾ªç¯æ’­æ”¾</span>
        <span class="hljs-attr">onMouseEnter</span>=<span class="hljs-string">{()</span>=&gt;</span>plugin.current?.stop()} // é¼ æ ‡è¿›å…¥æš‚åœæ’­æ”¾
        onMouseLeave={()=&gt;plugin.current?.play()} // é¼ æ ‡ç¦»å¼€ç»§ç»­æ’­æ”¾
        &gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">CarouselContent</span>&gt;</span>
                {
                    slides.map(({id,image,title},index)=&gt;(
                        <span class="hljs-tag">&lt;<span class="hljs-name">CarouselItem</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{id}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">'w-full'</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{-full</span> <span class="hljs-attr">object-cover</span>' /&gt;</span>
                            {
                                title &amp;&amp; (
                                    {title}
                                )
                            }
                        <span class="hljs-tag">&lt;/<span class="hljs-name">CarouselItem</span>&gt;</span>
                    ))
                }
            <span class="hljs-tag">&lt;/<span class="hljs-name">CarouselContent</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Carousel</span>&gt;</span></span>
        {<span class="hljs-comment">/* æŒ‡ç¤ºç‚¹ */</span>}
        
            {
                slides.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">_,i</span>) =&gt;</span> (
                    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">key</span> <span class="hljs-attr">-2</span> <span class="hljs-attr">w-2</span> <span class="hljs-attr">rounded-full</span> <span class="hljs-attr">transition-all</span> ${<span class="hljs-attr">selectedIndex</span> === <span class="hljs-string">i</span> ? '<span class="hljs-attr">bg-white</span> <span class="hljs-attr">w-6</span>' <span class="hljs-attr">:</span> '<span class="hljs-attr">bg-white</span>/<span class="hljs-attr">50</span>'}`}/&gt;</span></span>
                ))
            }
        
)
</code></pre>
<h4 data-id="heading-17">2.3.2 Carousel ç»„ä»¶æ ¸å¿ƒå±æ€§è§£æ</h4>
<ul>
<li><code>setApi={setApi}</code>ï¼šå°† <code>setApi</code> ä¼ é€’ç»™ Carousel ç»„ä»¶ï¼Œå½“è½®æ’­å›¾å®ä¾‹åˆå§‹åŒ–å®Œæˆåï¼Œé€šè¿‡è¯¥å‡½æ•°å°†å®ä¾‹èµ‹å€¼ç»™ç»„ä»¶çš„ <code>api</code> çŠ¶æ€ï¼Œä¾¿äºåç»­è°ƒç”¨å®ä¾‹æ–¹æ³•ã€‚</li>
<li><code>plugins={plugin.current ? [plugin.current] : []}</code>ï¼šä¼ é€’ AutoPlay æ’ä»¶å®ä¾‹ï¼Œè‹¥ <code>autoPlay</code> ä¸º <code>true</code>ï¼Œåˆ™åŠ è½½æ’ä»¶å®ç°è‡ªåŠ¨æ’­æ”¾ï¼›å¦åˆ™ä¼ é€’ç©ºæ•°ç»„ï¼Œä¸å¯ç”¨è‡ªåŠ¨æ’­æ”¾ã€‚</li>
<li><code>opts={{loop:true}}</code>ï¼šé…ç½®è½®æ’­å›¾ä¸ºå¾ªç¯æ’­æ”¾æ¨¡å¼ï¼Œå½“è½®æ’­åˆ°æœ€åä¸€å¼ æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°ç¬¬ä¸€å¼ ï¼Œå½¢æˆé—­ç¯ã€‚</li>
<li><code>onMouseEnter</code> / <code>onMouseLeave</code>ï¼šé¼ æ ‡äº¤äº’äº‹ä»¶ï¼Œå®ç°â€œé¼ æ ‡è¿›å…¥æš‚åœè‡ªåŠ¨æ’­æ”¾ã€é¼ æ ‡ç¦»å¼€æ¢å¤è‡ªåŠ¨æ’­æ”¾â€çš„äº¤äº’é€»è¾‘ï¼Œé€šè¿‡è°ƒç”¨ AutoPlay æ’ä»¶çš„ <code>stop()</code> å’Œ <code>play()</code> æ–¹æ³•å®ç°ã€‚</li>
</ul>
<h4 data-id="heading-18">2.3.3 è½®æ’­é¡¹ï¼ˆCarouselItemï¼‰æ¸²æŸ“é€»è¾‘</h4>
<p>æ¯å¼ è½®æ’­é¡¹åŒ…å«å›¾ç‰‡ã€æ ‡é¢˜ï¼ˆå¯é€‰ï¼‰åŠæ ·å¼ä¼˜åŒ–ï¼Œæ ¸å¿ƒç»†èŠ‚å¦‚ä¸‹ï¼š</p>
<ul>
<li>
<p><strong>å¸ƒå±€æ ·å¼</strong>ï¼š</p>
<ul>
<li><code>aspect-[16/9]</code>ï¼šå›ºå®šè½®æ’­å›¾å®½é«˜æ¯”ä¸º 16:9ï¼Œé€‚é…å¤§å¤šæ•°åœºæ™¯çš„å±•ç¤ºéœ€æ±‚ï¼›</li>
<li><code>rounded-xl</code>ï¼šè®¾ç½®åœ†è§’ï¼Œæå‡è§†è§‰æ•ˆæœï¼›</li>
<li><code>overflow-hidden</code>ï¼šéšè—å›¾ç‰‡è¶…å‡ºå®¹å™¨çš„éƒ¨åˆ†ï¼Œé¿å…å›¾ç‰‡å˜å½¢ã€‚</li>
</ul>
</li>
<li>
<p><strong>å›¾ç‰‡ä¼˜åŒ–</strong>ï¼š<code>object-cover</code> ç¡®ä¿å›¾ç‰‡æŒ‰æ¯”ä¾‹å¡«å……å®¹å™¨ï¼ŒåŒæ—¶è£å‰ªè¶…å‡ºéƒ¨åˆ†ï¼Œä¿è¯å›¾ç‰‡å±•ç¤ºå®Œæ•´ä¸”ä¸å˜å½¢ï¼›alt å±æ€§è®¾ç½®é»˜è®¤å€¼ï¼ˆ<code>slide ${index + 1}</code>ï¼‰ï¼Œæå‡å¯è®¿é—®æ€§ã€‚</p>
</li>
<li>
<p><strong>æ ‡é¢˜å±•ç¤ºä¸æ¸å˜èƒŒæ™¯åº”ç”¨</strong>ï¼šä»…å½“ <code>title</code> å­˜åœ¨æ—¶æ¸²æŸ“æ ‡é¢˜å®¹å™¨ï¼Œæ ¸å¿ƒé‡‡ç”¨ CSS çº¿æ€§æ¸å˜ï¼ˆ<code>linear-gradient</code>ï¼‰å®ç°èƒŒæ™¯é®ç½©ï¼Œå…·ä½“ä¸º <code>bg-gradient-to-t from-black/60 to-transparent</code>ã€‚è¯¥å†™æ³•æŒ‡å®šæ¸å˜æ–¹å‘ä¸ºâ€œä»ä¸‹åˆ°ä¸Šâ€ï¼ˆ<code>to-t</code>ï¼‰ï¼Œèµ·å§‹é¢œè‰²ä¸ºé»‘è‰²å¹¶è®¾ç½® 60% é€æ˜åº¦ï¼ˆ<code>from-black/60</code>ï¼‰ï¼Œç»“æŸé¢œè‰²ä¸ºå®Œå…¨é€æ˜ï¼ˆ<code>to-transparent</code>ï¼‰ã€‚è¿™ç§æ¸å˜èƒŒæ™¯ç›¸æ¯”çº¯è‰²åŠé€æ˜é®ç½©ï¼ˆå¦‚ <code>bg-black/60</code>ï¼‰ï¼Œè§†è§‰ä¸Šæ›´è‡ªç„¶ï¼Œèƒ½è®©æ ‡é¢˜ä¸å›¾ç‰‡èƒŒæ™¯å¹³æ»‘èåˆï¼ŒåŒæ—¶é¿å…é®æŒ¡å›¾ç‰‡ä¸»ä½“å†…å®¹ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œæ¸å˜èƒŒæ™¯æ— éœ€åŠ è½½ä»»ä½•å›¾ç‰‡èµ„æºï¼Œå½»åº•æ¶ˆé™¤äº†å›¾ç‰‡èƒŒæ™¯å¸¦æ¥çš„ HTTP ä¸‹è½½å¼€é”€å’Œå¹¶å‘æ•°å ç”¨é—®é¢˜ï¼Œå°¤å…¶åœ¨è½®æ’­å›¾è¿™ç±»å¤šå…ƒç´ åœºæ™¯ä¸­ï¼Œèƒ½æ˜¾è‘—ä¼˜åŒ–é¡µé¢åŠ è½½æ€§èƒ½ã€‚åŒæ—¶ï¼Œæ ‡é¢˜æ–‡å­—è®¾ç½® <code>text-lg font-bold</code> æ ·å¼ï¼Œç¡®ä¿åœ¨æ¸å˜èƒŒæ™¯ä¸Šå…·å¤‡è¶³å¤Ÿçš„å¯è¯»æ€§ã€‚</p>
</li>
</ul>
<h4 data-id="heading-19">2.3.4 æŒ‡ç¤ºç‚¹ï¼ˆIndicatorï¼‰å®ç°</h4>
<p>æŒ‡ç¤ºç‚¹ç”¨äºå±•ç¤ºå½“å‰è½®æ’­ä½ç½®åŠåˆ‡æ¢è½®æ’­é¡¹ï¼Œæ ¸å¿ƒé€»è¾‘å¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>å¸ƒå±€</strong>ï¼šé€šè¿‡ <code>absolute</code> å®šä½åœ¨è½®æ’­å›¾åº•éƒ¨ä¸­å¤®ï¼Œ<code>flex</code> å¸ƒå±€å®ç°æŒ‡ç¤ºç‚¹æ¨ªå‘æ’åˆ—ï¼Œ<code>gap-2</code> è®¾ç½®æŒ‡ç¤ºç‚¹é—´è·ã€‚</li>
<li><strong>åŠ¨æ€æ¸²æŸ“</strong>ï¼šæ ¹æ® <code>slides</code> æ•°ç»„é•¿åº¦å¾ªç¯ç”ŸæˆæŒ‡ç¤ºç‚¹ï¼Œæ— éœ€æ‰‹åŠ¨ç¼–å†™å›ºå®šæ•°é‡çš„æŒ‡ç¤ºç‚¹ï¼Œé€‚é…åŠ¨æ€æ•°æ®ã€‚</li>
<li/>
<li><strong>åŠ¨æ€ç±»åä¸ transition-all è¿‡æ¸¡</strong>ï¼šé€šè¿‡ <code>selectedIndex === i</code> åˆ¤æ–­å½“å‰æŒ‡ç¤ºç‚¹æ˜¯å¦ä¸ºæ¿€æ´»çŠ¶æ€ï¼ŒåŠ¨æ€åˆ‡æ¢ç±»åå®ç°æ ·å¼å˜åŒ–ï¼Œè€Œ <code>transition-all</code> å±æ€§åˆ™ä¸ºè¿™äº›å˜åŒ–æä¾›å¹³æ»‘è¿‡æ¸¡æ•ˆæœã€‚å…·ä½“æ¥è¯´ï¼Œæ¿€æ´»çŠ¶æ€ä¸‹æŒ‡ç¤ºç‚¹çš„å®½åº¦ä» 2px å˜ä¸º 6pxã€èƒŒæ™¯è‰²ä» <code>bg-white/50</code>ï¼ˆåŠé€æ˜ç™½è‰²ï¼‰å˜ä¸º <code>bg-white</code>ï¼ˆçº¯ç™½è‰²ï¼‰ï¼Œè¿™ä¸¤ä¸ªå±æ€§çš„å˜åŒ–éƒ½ä¼šè¢« <code>transition-all</code> æ•è·ï¼Œç”Ÿæˆè¿è´¯çš„è¿‡æ¸¡åŠ¨ç”»ã€‚è‹¥ä¸æ·»åŠ  <code>transition-all</code>ï¼ŒçŠ¶æ€åˆ‡æ¢ä¼šç¬é—´å®Œæˆï¼Œè§†è§‰ä¸Šæ˜¾å¾—ç”Ÿç¡¬ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚æ­¤å¤–ï¼Œ<code>transition-all</code> æ— éœ€æŒ‡å®šå…·ä½“è¿‡æ¸¡å±æ€§ï¼Œç®€åŒ–äº†ä»£ç ç»´æŠ¤æˆæœ¬ï¼Œå³ä¾¿åç»­æ–°å¢æ ·å¼å˜åŒ–ï¼ˆå¦‚é€æ˜åº¦è°ƒæ•´ï¼‰ï¼Œä¹Ÿæ— éœ€é¢å¤–ä¿®æ”¹è¿‡æ¸¡ç›¸å…³ä»£ç ï¼Œå…¼å®¹æ€§å’Œæ‰©å±•æ€§æ›´å¼ºã€‚</li>
<li><strong>å¯ä¼˜åŒ–ç‚¹</strong>ï¼šå½“å‰æŒ‡ç¤ºç‚¹ä»…ç”¨äºå±•ç¤ºä½ç½®ï¼Œæœªå®ç°ç‚¹å‡»åˆ‡æ¢åŠŸèƒ½ã€‚å¯æ·»åŠ  <code>onClick</code> äº‹ä»¶ï¼Œè°ƒç”¨ <code>api.scrollTo(i)</code> æ–¹æ³•ï¼Œå®ç°ç‚¹å‡»æŒ‡ç¤ºç‚¹åˆ‡æ¢åˆ°å¯¹åº”è½®æ’­é¡¹çš„åŠŸèƒ½ã€‚</li>
</ul>
<h3 data-id="heading-20">2.4 æ€§èƒ½ä¼˜åŒ–ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-21">2.4.1 å›¾ç‰‡æ€§èƒ½ä¼˜åŒ–</h4>
<p>ä»£ç ä¸­é‡‡ç”¨å›¾ç‰‡ä½œä¸ºèƒŒæ™¯å±•ç¤ºï¼Œè™½èƒ½æ»¡è¶³è§†è§‰éœ€æ±‚ï¼Œä½†å­˜åœ¨ HTTP ä¸‹è½½å¼€é”€ã€‚å¯è¿›ä¸€æ­¥ä¼˜åŒ–ï¼š</p>
<ul>
<li><strong>æ¸å˜è‰²æ›¿ä»£å›¾ç‰‡ï¼ˆæ ¸å¿ƒä¼˜åŒ–æ–¹æ¡ˆï¼‰</strong> ï¼šè‹¥æ— éœ€å±•ç¤ºå…·ä½“å›¾ç‰‡å†…å®¹ï¼Œä¼˜å…ˆä½¿ç”¨ CSS çº¿æ€§æ¸å˜ï¼ˆ<code>linear-gradient</code>ï¼‰ä½œä¸ºèƒŒæ™¯ï¼Œå®Œå…¨æ¶ˆé™¤å›¾ç‰‡çš„ HTTP ä¸‹è½½å¼€é”€ã€‚çº¿æ€§æ¸å˜æ”¯æŒå¤šè‰²è¿‡æ¸¡ã€æ–¹å‘æ§åˆ¶ã€é€æ˜åº¦è°ƒèŠ‚ï¼Œèƒ½æ»¡è¶³å¤§å¤šæ•°è£…é¥°æ€§èƒŒæ™¯éœ€æ±‚ã€‚ä¾‹å¦‚ç”¨ <code>bg-gradient-to-r from-blue-500 to-purple-600</code> å®ç°æ°´å¹³è“ç´«æ¸å˜ï¼Œç”¨ <code>bg-gradient-to-br from-teal-400 via-green-300 to-yellow-200</code> å®ç°å¯¹è§’çº¿å¤šè‰²æ¸å˜ã€‚ç›¸æ¯”å›¾ç‰‡èƒŒæ™¯ï¼Œæ¸å˜èƒŒæ™¯æœ‰ä¸‰å¤§æ€§èƒ½ä¼˜åŠ¿ï¼šä¸€æ˜¯æ— ç½‘ç»œè¯·æ±‚ï¼Œå‡å°‘ HTTP å¹¶å‘æ•°ï¼Œé¿å…é˜»å¡å…³é”®èµ„æºåŠ è½½ï¼›äºŒæ˜¯æ¸²æŸ“é«˜æ•ˆï¼Œç”±æµè§ˆå™¨æœ¬åœ°è®¡ç®—ç”Ÿæˆï¼Œæ— éœ€è§£æå›¾ç‰‡æ–‡ä»¶ï¼›ä¸‰æ˜¯é€‚é…æ€§å¼ºï¼Œå¯éšå®¹å™¨å°ºå¯¸è‡ªé€‚åº”æ‹‰ä¼¸ï¼Œä¸ä¼šå‡ºç°å›¾ç‰‡å˜å½¢æˆ–æ¨¡ç³Šé—®é¢˜ã€‚</li>
<li><strong>å›¾ç‰‡æ‡’åŠ è½½</strong>ï¼šç»“åˆ React æ‡’åŠ è½½åº“ï¼ˆå¦‚ <code>react-lazyload</code>ï¼‰æˆ–åŸç”Ÿ <code>loading="lazy"</code> å±æ€§ï¼Œå®ç°å›¾ç‰‡æ‡’åŠ è½½ï¼Œä»…å½“è½®æ’­é¡¹è¿›å…¥è§†å£æ—¶æ‰åŠ è½½å›¾ç‰‡ï¼Œå‡å°‘é¦–å±åŠ è½½æ—¶é—´ã€‚</li>
<li><strong>å›¾ç‰‡å‹ç¼©ä¸æ ¼å¼ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ WebP æ ¼å¼å›¾ç‰‡ï¼Œç»“åˆå›¾ç‰‡å‹ç¼©å·¥å…·ï¼ˆå¦‚ TinyPNGï¼‰å‡å°å›¾ç‰‡ä½“ç§¯ï¼Œæå‡åŠ è½½é€Ÿåº¦ã€‚</li>
<li><strong>å›¾ç‰‡æ‡’åŠ è½½</strong>ï¼šç»“åˆ React æ‡’åŠ è½½åº“ï¼ˆå¦‚ <code>react-lazyload</code>ï¼‰æˆ–åŸç”Ÿ <code>loading="lazy"</code> å±æ€§ï¼Œå®ç°å›¾ç‰‡æ‡’åŠ è½½ï¼Œä»…å½“è½®æ’­é¡¹è¿›å…¥è§†å£æ—¶æ‰åŠ è½½å›¾ç‰‡ï¼Œå‡å°‘é¦–å±åŠ è½½æ—¶é—´ã€‚</li>
<li><strong>å›¾ç‰‡å‹ç¼©ä¸æ ¼å¼ä¼˜åŒ–</strong>ï¼šä½¿ç”¨ WebP æ ¼å¼å›¾ç‰‡ï¼Œç»“åˆå›¾ç‰‡å‹ç¼©å·¥å…·ï¼ˆå¦‚ TinyPNGï¼‰å‡å°å›¾ç‰‡ä½“ç§¯ï¼Œæå‡åŠ è½½é€Ÿåº¦ã€‚</li>
</ul>
<h4 data-id="heading-22">2.4.2 ç»„ä»¶æ€§èƒ½ä¼˜åŒ–</h4>
<ul>
<li><strong>useRef å¤ç”¨æ’ä»¶å®ä¾‹</strong>ï¼šå¦‚å‰æ–‡æ‰€è¿°ï¼Œé¿å…ç»„ä»¶é‡æ¸²æŸ“æ—¶é‡å¤åˆ›å»º AutoPlay å®ä¾‹ï¼Œå‡å°‘æ€§èƒ½æ¶ˆè€—ã€‚</li>
<li><strong>äº‹ä»¶ç›‘å¬æ¸…ç†</strong>ï¼šåœ¨ useEffect ä¸­è¿”å›æ¸…ç†å‡½æ•°ï¼Œç§»é™¤äº‹ä»¶ç›‘å¬ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</li>
<li><strong>æ¡ä»¶æ¸²æŸ“ä¼˜åŒ–</strong>ï¼šæ ‡é¢˜å®¹å™¨ä»…åœ¨ <code>title</code> å­˜åœ¨æ—¶æ¸²æŸ“ï¼Œé¿å…æ— ç”¨ DOM èŠ‚ç‚¹ç”Ÿæˆã€‚</li>
</ul>
<h4 data-id="heading-23">2.4.3 æ ·å¼ä¼˜åŒ–</h4>
<ul>
<li><strong>transition-all ç‰¹æ€§æ·±åº¦è§£æ</strong>ï¼š<code>transition-all</code> æ˜¯ CSS è¿‡æ¸¡å±æ€§çš„ç®€åŒ–å†™æ³•ï¼Œä½œç”¨äºå…ƒç´ çš„æ‰€æœ‰å¯è¿‡æ¸¡å±æ€§ï¼ˆå¦‚å®½åº¦ã€èƒŒæ™¯è‰²ã€é€æ˜åº¦ã€ä½ç½®ç­‰ï¼‰ï¼Œæ— éœ€é€ä¸ªæŒ‡å®šå±æ€§åã€‚åœ¨è½®æ’­å›¾æŒ‡ç¤ºç‚¹ä¸­ï¼Œé€šè¿‡è¯¥å±æ€§è®©æ¿€æ´»çŠ¶æ€ä¸‹çš„å®½åº¦å˜åŒ–ï¼ˆä» 2px åˆ° 6pxï¼‰å’ŒèƒŒæ™¯è‰²å˜åŒ–ï¼ˆä»åŠé€æ˜ç™½è‰²åˆ°çº¯ç™½è‰²ï¼‰å½¢æˆå¹³æ»‘è¿‡æ¸¡ï¼Œé¿å…çŠ¶æ€åˆ‡æ¢æ—¶å‡ºç°ç”Ÿç¡¬çš„è·³å˜æ•ˆæœï¼Œæå‡ç”¨æˆ·è§†è§‰ä½“éªŒã€‚å…¶æ ¸å¿ƒä¼˜åŠ¿åœ¨äºç®€åŒ–ä»£ç ï¼ŒåŒæ—¶ç¡®ä¿å…ƒç´ æ‰€æœ‰æ ·å¼å˜åŒ–éƒ½èƒ½è·å¾—ç»Ÿä¸€çš„è¿‡æ¸¡æ•ˆæœï¼Œå°¤å…¶é€‚åˆåŠ¨æ€ç±»ååˆ‡æ¢æ ·å¼çš„åœºæ™¯ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿‡æ¸¡æ•ˆæœçš„æ—¶é•¿å’Œæ›²çº¿å¯é€šè¿‡ <code>transition-duration</code> å’Œ <code>transition-timing-function</code> è¡¥å……é…ç½®ï¼Œé»˜è®¤æ—¶é•¿ä¸º 0.3sï¼Œæ›²çº¿ä¸º <code>ease</code>ï¼ˆæ…¢è¿›æ…¢å‡ºï¼‰ï¼Œå¯æ ¹æ®éœ€æ±‚è°ƒæ•´ä¸º <code>linear</code>ï¼ˆåŒ€é€Ÿï¼‰ç­‰ã€‚</li>
<li><strong>gradient çº¿æ€§æ¸å˜ä¸æ€§èƒ½ä¼˜åŒ–</strong>ï¼šCSS çº¿æ€§æ¸å˜ï¼ˆ<code>linear-gradient</code>ï¼‰é€šè¿‡ä»£ç ç”Ÿæˆæ¸å˜èƒŒæ™¯ï¼Œæ— éœ€ä¾èµ–å›¾ç‰‡èµ„æºï¼Œæ˜¯æ›¿ä»£å›¾ç‰‡èƒŒæ™¯çš„ä¼˜è´¨æ–¹æ¡ˆã€‚åœ¨å¹»ç¯ç‰‡æ ‡é¢˜å®¹å™¨ä¸­ï¼Œ<code>bg-gradient-to-t from-black/60 to-transparent</code> å°±æ˜¯å…¸å‹çš„çº¿æ€§æ¸å˜åº”ç”¨ï¼Œä»åº•éƒ¨çš„é»‘è‰²åŠé€æ˜ï¼ˆ<code>from-black/60</code>ï¼‰å‘ä¸Šæ¸å˜è‡³é€æ˜ï¼ˆ<code>to-transparent</code>ï¼‰ï¼Œæ—¢å®ç°äº†é®ç½©æ•ˆæœçªå‡ºæ ‡é¢˜ï¼Œåˆæ— éœ€åŠ è½½é¢å¤–çš„åŠé€æ˜é®ç½©å›¾ç‰‡ã€‚ä»æ€§èƒ½è§’åº¦çœ‹ï¼Œå›¾ç‰‡èƒŒæ™¯ä¼šäº§ç”Ÿ HTTP ä¸‹è½½å¼€é”€ï¼Œä¸ä»…å¢åŠ é¡µé¢åŠ è½½æ—¶é—´ï¼Œè¿˜ä¼šå ç”¨ HTTP å¹¶å‘è¿æ¥æ•°ï¼ˆæµè§ˆå™¨å¯¹åŒä¸€åŸŸåçš„å¹¶å‘è¯·æ±‚æ•°æœ‰ä¸Šé™ï¼Œé€šå¸¸ä¸º 6 ä¸ªï¼‰ï¼Œè¿‡å¤šå›¾ç‰‡è¯·æ±‚ä¼šé˜»å¡å…¶ä»–å…³é”®èµ„æºï¼ˆå¦‚è„šæœ¬ã€æ ¸å¿ƒæ ·å¼ï¼‰çš„åŠ è½½ï¼›è€Œçº¿æ€§æ¸å˜ç”±æµè§ˆå™¨æœ¬åœ°æ¸²æŸ“ï¼Œæ— ä»»ä½•ç½‘ç»œå¼€é”€ï¼Œèƒ½æ˜¾è‘—å‡å°‘å¹¶å‘è¯·æ±‚æ•°ï¼Œæå‡é¡µé¢åŠ è½½æ€§èƒ½å’Œæ¸²æŸ“é€Ÿåº¦ã€‚å®é™…å¼€å‘ä¸­ï¼Œè‹¥æ— éœ€å±•ç¤ºå…·ä½“å›¾ç‰‡å†…å®¹ï¼Œå¯ç›´æ¥ç”¨æ¸å˜èƒŒæ™¯æ›¿ä»£ï¼Œä¾‹å¦‚ç”¨ <code>bg-gradient-to-r from-blue-500 to-purple-600</code> å®ç°è“ç´«æ¸å˜èƒŒæ™¯ï¼Œå…¼é¡¾è§†è§‰æ•ˆæœä¸æ€§èƒ½ã€‚</li>
</ul>
<h2 data-id="heading-24">ä¸‰ã€è¿”å›é¡¶éƒ¨ç»„ä»¶ï¼ˆBackToTopï¼‰è§£æ</h2>
<p>è¿”å›é¡¶éƒ¨ç»„ä»¶æ˜¯æå‡ç”¨æˆ·ä½“éªŒçš„å¸¸ç”¨ç»„ä»¶ï¼Œå½“é¡µé¢æ»šåŠ¨è¶…è¿‡ä¸€å®šè·ç¦»æ—¶æ˜¾ç¤ºï¼Œç‚¹å‡»åå¹³æ»‘æ»šåŠ¨åˆ°é¡µé¢é¡¶éƒ¨ã€‚æœ¬æ–‡ç»“åˆèŠ‚æµå‡½æ•°å’Œ React Hooksï¼Œå®ç°é«˜æ€§èƒ½ã€å¯é…ç½®çš„è¿”å›é¡¶éƒ¨åŠŸèƒ½ã€‚</p>
<h3 data-id="heading-25">3.1 ç»„ä»¶ç»“æ„ä¸ç±»å‹å®šä¹‰</h3>
<pre><code class="hljs language-typescript" lang="typescript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>,{
    useEffect,
    useState
} <span class="hljs-keyword">from</span> <span class="hljs-string">"react"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"./ui/button"</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">ArrowUp</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"lucide-react"</span>; <span class="hljs-comment">// å¼•å…¥è¿”å›é¡¶éƒ¨å›¾æ ‡</span>
<span class="hljs-keyword">import</span> { throttle } <span class="hljs-keyword">from</span> <span class="hljs-string">"../utils"</span>; <span class="hljs-comment">// å¼•å…¥èŠ‚æµå‡½æ•°</span>

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">BackToTopProps</span> {
    <span class="hljs-comment">// æ»šåŠ¨è¶…è¿‡å¤šå°‘åƒç´ åæ˜¾ç¤ºæŒ‰é’®</span>
    threshold?: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">const</span> <span class="hljs-title class_">BackToTop</span>: <span class="hljs-title class_">React</span>.<span class="hljs-property">FC</span>&lt;<span class="hljs-title class_">BackToTopProps</span>&gt; = <span class="hljs-function">(<span class="hljs-params">{threshold = <span class="hljs-number">400</span>}</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> [isVisible, setIsVisible] = useState&lt;<span class="hljs-built_in">boolean</span>&gt;(<span class="hljs-literal">false</span>);
    
    <span class="hljs-comment">// ... ä¸šåŠ¡é€»è¾‘ä¸æ¸²æŸ“</span>
}
</code></pre>
<h4 data-id="heading-26">3.1.1 ç±»å‹å®šä¹‰è§£æ</h4>
<p><code>BackToTopProps</code> å®šä¹‰ç»„ä»¶çš„å¯é€‰å±æ€§ <code>threshold</code>ï¼Œè¡¨ç¤ºâ€œé¡µé¢æ»šåŠ¨è¶…è¿‡å¤šå°‘åƒç´ åæ˜¾ç¤ºè¿”å›é¡¶éƒ¨æŒ‰é’®â€ï¼Œé»˜è®¤å€¼ä¸º <code>400</code>ï¼Œæ”¯æŒçˆ¶ç»„ä»¶è‡ªå®šä¹‰é…ç½®ï¼Œæå‡ç»„ä»¶å¤ç”¨æ€§ã€‚</p>
<h4 data-id="heading-27">3.1.2 çŠ¶æ€ç®¡ç†</h4>
<p><code>isVisible</code>ï¼šå¸ƒå°”ç±»å‹çŠ¶æ€ï¼Œæ§åˆ¶è¿”å›é¡¶éƒ¨æŒ‰é’®çš„æ˜¾ç¤º/éšè—ï¼Œåˆå§‹å€¼ä¸º <code>false</code>ï¼ˆé¡µé¢åŠ è½½æ—¶ä¸æ˜¾ç¤ºï¼‰ã€‚</p>
<h3 data-id="heading-28">3.2 æ ¸å¿ƒåŠŸèƒ½å®ç°</h3>
<h4 data-id="heading-29">3.2.1 å¹³æ»‘æ»šåŠ¨åˆ°é¡¶éƒ¨å‡½æ•°</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">scrollTop</span> = (<span class="hljs-params"/>) =&gt; {
    <span class="hljs-comment">// window.scrollTo æ–¹æ³•ä¼šè®©é¡µé¢æ»šåŠ¨åˆ°é¡¶éƒ¨</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">scrollTo</span>({
        <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">behavior</span>: <span class="hljs-string">'smooth'</span> <span class="hljs-comment">// å¹³æ»‘æ»šåŠ¨</span>
    })
}
</code></pre>
<p>æ ¸å¿ƒ API è§£æï¼š</p>
<ul>
<li>
<p><code>window.scrollTo()</code>ï¼šç”¨äºè®¾ç½®é¡µé¢æ»šåŠ¨ä½ç½®çš„åŸç”Ÿ APIï¼Œæ”¯æŒä¸¤ç§å‚æ•°å½¢å¼ï¼š</p>
<ul>
<li>å‚æ•°ä¸ºä¸¤ä¸ªæ•°å­—ï¼š<code>window.scrollTo(x, y)</code>ï¼Œåˆ†åˆ«è¡¨ç¤ºæ°´å¹³å’Œå‚ç›´æ»šåŠ¨ä½ç½®ï¼›</li>
<li>å‚æ•°ä¸ºå¯¹è±¡ï¼šæ”¯æŒé…ç½® <code>top</code>ï¼ˆå‚ç›´æ»šåŠ¨ä½ç½®ï¼‰ã€<code>left</code>ï¼ˆæ°´å¹³æ»šåŠ¨ä½ç½®ï¼‰ã€<code>behavior</code>ï¼ˆæ»šåŠ¨è¡Œä¸ºï¼‰ã€‚</li>
</ul>
</li>
<li>
<p><code>behavior: 'smooth'</code>ï¼šè®¾ç½®æ»šåŠ¨è¡Œä¸ºä¸ºå¹³æ»‘æ»šåŠ¨ï¼Œç›¸æ¯”é»˜è®¤çš„ç¬é—´æ»šåŠ¨ï¼Œç”¨æˆ·ä½“éªŒæ›´å‹å¥½ã€‚è‹¥éœ€å…¼å®¹ä½ç‰ˆæœ¬æµè§ˆå™¨ï¼ˆå¦‚ IEï¼‰ï¼Œå¯å¼•å…¥ <code>smoothscroll-polyfill</code> æ’ä»¶ã€‚</p>
</li>
</ul>
<h4 data-id="heading-30">3.2.2 æ»šåŠ¨äº‹ä»¶ç›‘å¬ä¸èŠ‚æµå¤„ç†</h4>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-title function_">useEffect</span>(<span class="hljs-function">()=&gt;</span>{
    <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleVisibility</span> = (<span class="hljs-params"/>) =&gt; {
        <span class="hljs-title function_">setIsVisible</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">scrollY</span> &gt; threshold);
    }
    <span class="hljs-keyword">const</span> throttled_func = <span class="hljs-title function_">throttle</span>(toggleVisibility, <span class="hljs-number">200</span>);
    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">'scroll'</span>,throttled_func); <span class="hljs-comment">// ç›‘å¬æ»šåŠ¨äº‹ä»¶</span>
    <span class="hljs-comment">// ç»„ä»¶å¸è½½æ—¶ç§»é™¤äº‹ä»¶ç›‘å¬(ç›‘å¬äº‹ä»¶å’Œå¤„ç†å‡½æ•°éƒ½è¦ç§»é™¤ï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜æ³„æ¼)</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">'scroll'</span>,throttled_func);
    }
},[threshold])
</code></pre>
<p>æ ¸å¿ƒé€»è¾‘è§£æï¼š</p>
<ul>
<li>
<p><strong>æ»šåŠ¨çŠ¶æ€åˆ¤æ–­</strong>ï¼š<code>toggleVisibility</code> å‡½æ•°é€šè¿‡ <code>window.scrollY</code> è·å–å½“å‰é¡µé¢å‚ç›´æ»šåŠ¨è·ç¦»ï¼Œä¸ <code>threshold</code> æ¯”è¾ƒï¼Œæ›´æ–° <code>isVisible</code> çŠ¶æ€ï¼ˆæ»šåŠ¨è·ç¦»è¶…è¿‡é˜ˆå€¼åˆ™æ˜¾ç¤ºæŒ‰é’®ï¼Œå¦åˆ™éšè—ï¼‰ã€‚</p>
</li>
<li>
<p><strong>èŠ‚æµä¼˜åŒ–</strong>ï¼šé€šè¿‡ <code>throttle(toggleVisibility, 200)</code> ç”ŸæˆèŠ‚æµåçš„å‡½æ•°ï¼Œé™åˆ¶ <code>toggleVisibility</code> æ¯ 200ms æœ€å¤šæ‰§è¡Œä¸€æ¬¡ï¼Œé¿å…æ»šåŠ¨äº‹ä»¶é«˜é¢‘è§¦å‘å¯¼è‡´é¡µé¢å¡é¡¿ã€‚</p>
</li>
<li>
<p><strong>äº‹ä»¶ç›‘å¬ä¸æ¸…ç†</strong>ï¼š</p>
<ul>
<li>ç»„ä»¶æŒ‚è½½æ—¶ï¼Œä¸º <code>window</code> æ·»åŠ æ»šåŠ¨äº‹ä»¶ç›‘å¬ï¼Œç»‘å®šèŠ‚æµåçš„å‡½æ•°ï¼›</li>
<li>ç»„ä»¶å¸è½½æ—¶ï¼Œç§»é™¤æ»šåŠ¨äº‹ä»¶ç›‘å¬ï¼Œä¸”å¿…é¡»ä½¿ç”¨èŠ‚æµåçš„å‡½æ•°ï¼ˆ<code>throttled_func</code>ï¼‰ä½œä¸ºç§»é™¤å¯¹è±¡ï¼Œå¦åˆ™æ— æ³•æ­£ç¡®ç§»é™¤ç›‘å¬ï¼ˆåŸç”Ÿäº‹ä»¶ç›‘å¬è¦æ±‚æ·»åŠ å’Œç§»é™¤çš„å‡½æ•°æ˜¯åŒä¸€ä¸ªå¼•ç”¨ï¼‰ï¼Œå¯¼è‡´å†…å­˜æ³„æ¼ã€‚</li>
</ul>
</li>
</ul>
<h3 data-id="heading-31">3.3 ç»„ä»¶æ¸²æŸ“ä¸æ ·å¼ä¼˜åŒ–</h3>
<pre><code class="hljs language-ini" lang="ini">if (!isVisible) {
    return null<span class="hljs-comment">;</span>
}

return (
    &lt;Button 
    <span class="hljs-attr">variant</span>=<span class="hljs-string">'outline'</span>
    <span class="hljs-attr">size</span>=<span class="hljs-string">'icon'</span>
    <span class="hljs-attr">onClick</span>={scrollTop}
    <span class="hljs-attr">className</span>=<span class="hljs-string">"fixed bottom-6 right-6 rounded-full shadow-lg hover:shadow-xl z-50"</span>&gt;
        &lt;ArrowUp <span class="hljs-attr">className</span>=<span class="hljs-string">"h-4 w-4"</span> /&gt;
    &lt;/Button&gt;
)
</code></pre>
<h4 data-id="heading-32">3.3.1 æ¡ä»¶æ¸²æŸ“</h4>
<p>å½“ <code>isVisible</code> ä¸º <code>false</code> æ—¶ï¼Œç»„ä»¶è¿”å› <code>null</code>ï¼Œä¸æ¸²æŸ“ä»»ä½• DOM èŠ‚ç‚¹ï¼Œé¿å…æ— ç”¨èŠ‚ç‚¹å ç”¨é¡µé¢èµ„æºã€‚</p>
<h4 data-id="heading-33">3.3.2 æŒ‰é’®æ ·å¼ä¸äº¤äº’</h4>
<ul>
<li>
<p><strong>å¸ƒå±€å®šä½</strong>ï¼š</p>
<ul>
<li><code>fixed</code> å›ºå®šå®šä½ï¼Œä½¿æŒ‰é’®å§‹ç»ˆä½äºé¡µé¢å¯è§†åŒºåŸŸï¼›</li>
<li><code>bottom-6 right-6</code> å®šä½åœ¨é¡µé¢å³ä¸‹è§’ï¼Œè·ç¦»åº•éƒ¨å’Œå³ä¾§å„ 6 ä¸ªå•ä½ï¼›</li>
<li><code>z-50</code> è®¾ç½®è¾ƒé«˜çš„å±‚çº§ï¼Œç¡®ä¿æŒ‰é’®ä¸è¢«å…¶ä»–ç»„ä»¶é®æŒ¡ã€‚</li>
</ul>
</li>
<li>
<p><strong>è§†è§‰æ ·å¼</strong>ï¼š</p>
<ul>
<li><code>rounded-full</code> åœ†å½¢æŒ‰é’®ï¼Œæå‡è§†è§‰ç¾è§‚åº¦ï¼›</li>
<li><code>shadow-lg hover:shadow-xl</code> è®¾ç½®é˜´å½±æ•ˆæœï¼Œé¼ æ ‡æ‚¬æµ®æ—¶é˜´å½±æ”¾å¤§ï¼Œå¢å¼ºäº¤äº’åé¦ˆï¼›</li>
<li>ä½¿ç”¨ shadcn çš„ <code>Button</code> ç»„ä»¶ï¼Œé…ç½® <code>variant='outline'</code>ï¼ˆè½®å»“æ ·å¼ï¼‰ã€<code>size='icon'</code>ï¼ˆå›¾æ ‡å°ºå¯¸ï¼‰ï¼Œä¿æŒä¸é¡¹ç›® UI é£æ ¼ä¸€è‡´ã€‚</li>
</ul>
</li>
<li>
<p><strong>å›¾æ ‡é›†æˆ</strong>ï¼šå¼•å…¥ Lucide React çš„ <code>ArrowUp</code> å›¾æ ‡ï¼Œè®¾ç½®å°ºå¯¸ä¸º <code>h-4 w-4</code>ï¼Œç›´è§‚è¡¨ç¤ºâ€œè¿”å›é¡¶éƒ¨â€åŠŸèƒ½ã€‚</p>
</li>
</ul>
<h3 data-id="heading-34">3.4 ç»„ä»¶ä¼˜åŒ–ä¸å¤ç”¨</h3>
<h4 data-id="heading-35">3.4.1 å¯é…ç½®æ€§ä¼˜åŒ–</h4>
<p>ç»„ä»¶é€šè¿‡<code>threshold</code> å±æ€§æ”¯æŒè‡ªå®šä¹‰æ˜¾ç¤ºé˜ˆå€¼ï¼Œçˆ¶ç»„ä»¶å¯æ ¹æ®é¡µé¢éœ€æ±‚çµæ´»é…ç½®ï¼ˆå¦‚åœ¨é•¿åˆ—è¡¨é¡µé¢è®¾ç½® <code>threshold={600}</code>ï¼Œåœ¨çŸ­é¡µé¢è®¾ç½® <code>threshold={200}</code>ï¼‰ï¼Œæå‡ç»„ä»¶å¤ç”¨æ€§ã€‚</p>
<h4 data-id="heading-36">3.4.2 æ€§èƒ½ä¼˜åŒ–</h4>
<ul>
<li><strong>èŠ‚æµå¤„ç†</strong>ï¼šæ»šåŠ¨äº‹ä»¶ç›‘å¬é‡‡ç”¨èŠ‚æµå‡½æ•°ï¼Œé™ä½å›è°ƒå‡½æ•°æ‰§è¡Œé¢‘ç‡ï¼Œå‡å°‘æ€§èƒ½æ¶ˆè€—ã€‚</li>
<li><strong>æ¡ä»¶æ¸²æŸ“</strong>ï¼šéšè—æ—¶ä¸æ¸²æŸ“ DOM èŠ‚ç‚¹ï¼Œé¿å…æ— ç”¨èŠ‚ç‚¹å ç”¨èµ„æºã€‚</li>
<li><strong>äº‹ä»¶æ¸…ç†</strong>ï¼šç»„ä»¶å¸è½½æ—¶ç§»é™¤æ»šåŠ¨äº‹ä»¶ç›‘å¬ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</li>
</ul>
<h2 data-id="heading-37">å››ã€ç»„ä»¶é›†æˆä¸é¦–é¡µï¼ˆHomeï¼‰ä½¿ç”¨</h2>
<p>é¦–é¡µä½œä¸ºç»„ä»¶é›†æˆçš„è½½ä½“ï¼Œå¼•å…¥äº† Headerã€SlideShowã€BackToTop åŠ shadcn çš„ Card ç»„ä»¶ï¼Œå®ç°é¡µé¢å¸ƒå±€ä¸åŠŸèƒ½æ•´åˆã€‚</p>
<h3 data-id="heading-38">4.1 é¦–é¡µä»£ç è§£æ</h3>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Header</span> <span class="hljs-keyword">from</span> <span class="hljs-string">"@/components/Header"</span>;
<span class="hljs-keyword">import</span> <span class="hljs-title class_">SlideShow</span>,{ type <span class="hljs-title class_">SlideData</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">"@/components/SlideShow"</span>;
<span class="hljs-keyword">import</span> { 
    <span class="hljs-title class_">Card</span>, 
    <span class="hljs-title class_">CardHeader</span>, 
    <span class="hljs-title class_">CardTitle</span>,
    <span class="hljs-title class_">CardContent</span>,
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@/components/ui/card"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">Home</span>(<span class="hljs-params"/>) {
    <span class="hljs-keyword">const</span> <span class="hljs-attr">bannerData</span>: <span class="hljs-title class_">SlideData</span>[] = [{
      <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">title</span>: <span class="hljs-string">"React ç”Ÿæ€ç³»ç»Ÿ"</span>,
      <span class="hljs-attr">image</span>: <span class="hljs-string">"https://images.unsplash.com/photo-1633356122544-f134324a6cee?q=80&amp;w=2070&amp;auto=format&amp;fit=crop"</span>,
    },
    {
      <span class="hljs-attr">id</span>: <span class="hljs-number">2</span>,
      <span class="hljs-attr">title</span>: <span class="hljs-string">"ç§»åŠ¨ç«¯å¼€å‘æœ€ä½³å®è·µ"</span>,
      <span class="hljs-attr">image</span>: <span class="hljs-string">"https://img.36krcdn.com/hsossms/20260114/v2_1ddcc36679304d3390dd9b8545eaa57f@5091053@ai_oswg1012730oswg1053oswg495_img_png~tplv-1marlgjv7f-ai-v3:600:400:600:400:q70.jpg?x-oss-process=image/format,webp"</span>,
    },
    {
      <span class="hljs-attr">id</span>: <span class="hljs-number">3</span>,
      <span class="hljs-attr">title</span>: <span class="hljs-string">"ç™¾åº¦ä¸Šçº¿ä¸ƒçŒ«æ¼«å‰§ï¼Œæ‰“çš„ä»€ä¹ˆä¸»æ„ï¼Ÿ"</span>,
      <span class="hljs-attr">image</span>: <span class="hljs-string">"https://img.36krcdn.com/hsossms/20260114/v2_8dc528b02ded4f73b29b7c1019f8963a@5091053@ai_oswg1137571oswg1053oswg495_img_png~tplv-1marlgjv7f-ai-v3:600:400:600:400:q70.jpg?x-oss-process=image/format,webp"</span>,
    }]
    <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Header</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"é¦–é¡µ"</span> <span class="hljs-attr">showBackButton</span>=<span class="hljs-string">{true}</span> /&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">SlideShow</span> <span class="hljs-attr">slides</span>=<span class="hljs-string">{bannerData}</span> /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">CardHeader</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">CardTitle</span>&gt;</span>æ¬¢è¿æ¥åˆ°React Mobile<span class="hljs-tag">&lt;/<span class="hljs-name">CardTitle</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">CardHeader</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">CardContent</span>&gt;</span>
                   è¿™æ˜¯å†…å®¹åŒºåŸŸ<span class="hljs-tag">&lt;/<span class="hljs-name">CardContent</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
            
                {
                    [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25].map((i,index) =&gt; (
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{</span> <span class="hljs-attr">bg-white</span> <span class="hljs-attr">rounded-lg</span> <span class="hljs-attr">shadow-sm</span> <span class="hljs-attr">flex</span> <span class="hljs-attr">items-center</span> <span class="hljs-attr">justify-center</span> <span class="hljs-attr">border</span> "&gt;</span>
                            Item {i}
                        
                    ))
                }

            <span class="hljs-tag">&lt;/&gt;</span>
    )
}
</span></code></pre>
<h3 data-id="heading-39">4.2 æ ¸å¿ƒé›†æˆè¦ç‚¹</h3>
<ul>
<li><strong>å¹»ç¯ç‰‡ç»„ä»¶ä½¿ç”¨</strong>ï¼šå¯¼å…¥ <code>SlideShow</code> ç»„ä»¶å’Œ <code>SlideData</code> ç±»å‹ï¼Œå®šä¹‰ <code>bannerData</code> æ•°ç»„ä½œä¸ºè½®æ’­æ•°æ®ï¼Œä¼ é€’ç»™ <code>slides</code> å±æ€§ï¼Œä½¿ç”¨é»˜è®¤çš„è‡ªåŠ¨æ’­æ”¾é…ç½®ï¼ˆä¹Ÿå¯è‡ªå®šä¹‰ <code>autoPlay</code> å’Œ <code>autoPlayDelay</code>ï¼‰ã€‚</li>
<li><strong>Card ç»„ä»¶ä½¿ç”¨</strong>ï¼šå¼•å…¥ shadcn çš„ <code>Card</code> ç³»åˆ—ç»„ä»¶ï¼ˆ<code>Card</code>ã€<code>CardHeader</code>ã€<code>CardTitle</code>ã€<code>CardContent</code>ï¼‰ï¼Œå®ç°å†…å®¹å¡ç‰‡å±•ç¤ºï¼Œä¿æŒé¡µé¢å¸ƒå±€è§„æ•´ã€‚</li>
<li><strong>ç½‘æ ¼å¸ƒå±€</strong>ï¼šé€šè¿‡ <code>grid grid-cols-2 gap-4</code> å®ç°ä¸¤åˆ—ç½‘æ ¼å¸ƒå±€ï¼Œå¾ªç¯ç”Ÿæˆ 25 ä¸ªåˆ—è¡¨é¡¹ï¼Œå±•ç¤ºæ‰¹é‡å†…å®¹ï¼Œé€‚é…ç§»åŠ¨ç«¯é¡µé¢éœ€æ±‚ã€‚</li>
<li><strong>æ ·å¼è§„èŒƒ</strong>ï¼šä½¿ç”¨ <code>p-4</code>ï¼ˆå†…è¾¹è·ï¼‰ã€<code>space-y-4</code>ï¼ˆå‚ç›´é—´è·ï¼‰ç­‰æ ·å¼ç±»ï¼Œä¿æŒé¡µé¢å…ƒç´ é—´è·ä¸€è‡´ï¼Œæå‡è§†è§‰ç¾è§‚åº¦ã€‚</li>
</ul>
<h3 data-id="heading-40">4.3 ç»„ä»¶ååŒæ³¨æ„äº‹é¡¹</h3>
<ul>
<li><strong>ç±»å‹ä¸€è‡´æ€§</strong>ï¼šä½¿ç”¨<code>SlideData</code> ç±»å‹çº¦æŸè½®æ’­æ•°æ®ï¼Œç¡®ä¿æ•°æ®ç»“æ„ç¬¦åˆç»„ä»¶è¦æ±‚ï¼Œé¿å…ç±»å‹é”™è¯¯ã€‚</li>
<li><strong>å±‚çº§å…³ç³»</strong>ï¼šè¿”å›é¡¶éƒ¨ç»„ä»¶ï¼ˆ<code>BackToTop</code>ï¼‰é€šå¸¸åœ¨é¦–é¡µå…¨å±€å¼•å…¥ï¼Œè®¾ç½®è¾ƒé«˜å±‚çº§ï¼ˆ<code>z-50</code>ï¼‰ï¼Œç¡®ä¿åœ¨æ‰€æœ‰ç»„ä»¶ä¹‹ä¸Šæ˜¾ç¤ºã€‚</li>
<li><strong>å“åº”å¼é€‚é…</strong>ï¼šç½‘æ ¼å¸ƒå±€ã€è½®æ’­å›¾å®½é«˜æ¯”ç­‰æ ·å¼éœ€é€‚é…ç§»åŠ¨ç«¯å±å¹•ï¼Œå¯é€šè¿‡åª’ä½“æŸ¥è¯¢ï¼ˆ<code>@media</code>ï¼‰è°ƒæ•´ä¸åŒå±å¹•å°ºå¯¸ä¸‹çš„å¸ƒå±€ã€‚</li>
</ul>
<h2 data-id="heading-41">äº”ã€æ ¸å¿ƒçŸ¥è¯†ç‚¹æ€»ç»“ä¸æ‹“å±•</h2>
<h3 data-id="heading-42">5.1 æ ¸å¿ƒçŸ¥è¯†ç‚¹æ¢³ç†</h3>
<h4 data-id="heading-43">5.1.1 React Hooks å®æˆ˜</h4>
<ul>
<li><code>useState</code>ï¼šç®¡ç†ç»„ä»¶çŠ¶æ€ï¼ˆå¦‚è½®æ’­ç´¢å¼•ã€æŒ‰é’®æ˜¾ç¤ºçŠ¶æ€ï¼‰ï¼Œå®ç°çŠ¶æ€é©±åŠ¨è§†å›¾æ›´æ–°ã€‚</li>
<li><code>useEffect</code>ï¼šå¤„ç†å‰¯ä½œç”¨ï¼ˆäº‹ä»¶ç›‘å¬ã€ç»„ä»¶å¸è½½æ¸…ç†ï¼‰ï¼Œéœ€æ³¨æ„ä¾èµ–é¡¹è®¾ç½®ï¼Œé¿å…æ— é™å¾ªç¯å’Œå†…å­˜æ³„æ¼ã€‚</li>
<li><code>useRef</code>ï¼šæŒä¹…åŒ–å­˜å‚¨å¯¹è±¡ï¼ˆå¦‚æ’ä»¶å®ä¾‹ã€DOM å¼•ç”¨ï¼‰ï¼Œé¿å…ç»„ä»¶é‡æ¸²æŸ“æ—¶é‡å¤åˆ›å»ºï¼Œä¼˜åŒ–æ€§èƒ½ã€‚</li>
</ul>
<h4 data-id="heading-44">5.1.2 TypeScript ç±»å‹çº¦æŸ</h4>
<ul>
<li>ç»„ä»¶å±æ€§ï¼ˆPropsï¼‰ç±»å‹å®šä¹‰ï¼šæ˜ç¡®ç»„ä»¶æ¥æ”¶çš„å‚æ•°ç±»å‹ã€å¿…å¡«/å¯é€‰çŠ¶æ€ï¼Œæå‡ä»£ç å¯ç»´æŠ¤æ€§ã€‚</li>
<li>è”åˆç±»å‹ï¼šå¦‚ <code>id: number | string</code>ï¼Œé€‚é…å¤šç§æ•°æ®ç±»å‹åœºæ™¯ã€‚</li>
<li>ç±»å‹åˆ«åï¼šå¦‚ <code>ThrottleFunction</code>ï¼Œç®€åŒ–å¤æ‚ç±»å‹å®šä¹‰ï¼Œæé«˜ä»£ç å¯è¯»æ€§ã€‚</li>
</ul>
<h4 data-id="heading-45">5.1.3 æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h4>
<ul>
<li>èŠ‚æµ/é˜²æŠ–ï¼šé«˜é¢‘äº‹ä»¶ï¼ˆæ»šåŠ¨ã€ç‚¹å‡»ï¼‰é‡‡ç”¨èŠ‚æµ/é˜²æŠ–å¤„ç†ï¼Œé™ä½å‡½æ•°æ‰§è¡Œé¢‘ç‡ã€‚</li>
<li>å®ä¾‹å¤ç”¨ï¼šä½¿ç”¨ useRef å­˜å‚¨è€—æ—¶åˆ›å»ºçš„å®ä¾‹ï¼ˆå¦‚ AutoPlay æ’ä»¶ï¼‰ï¼Œé¿å…é‡å¤åˆ›å»ºã€‚</li>
<li>äº‹ä»¶æ¸…ç†ï¼šç»„ä»¶å¸è½½æ—¶ç§»é™¤äº‹ä»¶ç›‘å¬ã€æ¸…é™¤å®šæ—¶å™¨ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚</li>
<li>æ¡ä»¶æ¸²æŸ“ï¼šéšè—çŠ¶æ€ä¸‹ä¸æ¸²æŸ“æ— ç”¨ DOM èŠ‚ç‚¹ï¼Œå‡å°‘é¡µé¢èµ„æºå ç”¨ã€‚</li>
</ul>
<h4 data-id="heading-46">5.1.4 UI ç»„ä»¶åº“ä½¿ç”¨</h4>
<ul>
<li>shadcn ç»„ä»¶ï¼šåŸºäºåŸå­åŒ–è®¾è®¡ï¼Œæä¾›è½»é‡ã€é«˜å®šåˆ¶æ€§çš„åŸºç¡€ç»„ä»¶ï¼Œå‡å°‘é‡å¤å¼€å‘ï¼Œä¿æŒ UI é£æ ¼ä¸€è‡´ã€‚</li>
<li>æ’ä»¶é›†æˆï¼šEmbla Carousel æ’ä»¶ä¸ shadcn Carousel ç»„ä»¶é€‚é…ï¼Œé€šè¿‡æ’ä»¶åŒ–æœºåˆ¶æ‰©å±•åŠŸèƒ½ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚</li>
</ul>
<h3 data-id="heading-47">5.2 æ‹“å±•ä¸è¿›é˜¶æ–¹å‘</h3>
<ul>
<li>
<p><strong>å¹»ç¯ç‰‡ç»„ä»¶è¿›é˜¶</strong>ï¼š</p>
<ul>
<li>æ·»åŠ å·¦å³ç®­å¤´åˆ‡æ¢æŒ‰é’®ï¼Œè°ƒç”¨ <code>api.scrollPrev()</code>ã€<code>api.scrollNext()</code> æ–¹æ³•å®ç°æ‰‹åŠ¨åˆ‡æ¢ï¼›</li>
<li>æ”¯æŒæ‰‹åŠ¿æ»‘åŠ¨ï¼ˆEmbla Carousel åŸç”Ÿæ”¯æŒï¼‰ï¼Œé€‚é…ç§»åŠ¨ç«¯äº¤äº’ï¼›</li>
<li>å®ç°è½®æ’­å›¾æ‡’åŠ è½½ï¼Œä¼˜åŒ–é¦–å±åŠ è½½é€Ÿåº¦ã€‚</li>
</ul>
</li>
<li>
<p><strong>è¿”å›é¡¶éƒ¨ç»„ä»¶è¿›é˜¶</strong>ï¼š</p>
<ul>
<li>æ·»åŠ æ»šåŠ¨è¿›åº¦æ¡ï¼Œç»“åˆ <code>window.scrollY</code> å’Œ <code>document.body.scrollHeight</code> è®¡ç®—æ»šåŠ¨è¿›åº¦ï¼›</li>
<li>æ”¯æŒè‡ªå®šä¹‰æŒ‰é’®æ ·å¼ã€å›¾æ ‡ã€ä½ç½®ï¼Œæå‡ç»„ä»¶å¤ç”¨æ€§ã€‚</li>
</ul>
</li>
<li>
<p><strong>TypeScript è¿›é˜¶</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨æ³›å‹ä¼˜åŒ–ç»„ä»¶ç±»å‹å®šä¹‰ï¼Œæå‡ç»„ä»¶é€šç”¨æ€§ï¼›</li>
<li>å¼•å…¥ <code>zod</code> ç­‰åº“ï¼Œå®ç° Props æ•°æ®æ ¡éªŒï¼Œå¢å¼ºç±»å‹å®‰å…¨ã€‚</li>
</ul>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–è¿›é˜¶</strong>ï¼š</p>
<ul>
<li>ä½¿ç”¨ <code>React.memo</code> åŒ…è£¹ç»„ä»¶ï¼Œé¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“ï¼›</li>
<li>å¼•å…¥ <code>react-window</code> ç­‰åº“ï¼Œä¼˜åŒ–é•¿åˆ—è¡¨æ¸²æŸ“æ€§èƒ½ã€‚</li>
</ul>
</li>
</ul>
<h2 data-id="heading-48">å…­ã€æ€»ç»“</h2>
<p>æœ¬æ–‡åŸºäºå®é™…å¼€å‘ä»£ç ï¼Œæ·±å…¥è§£æäº† React + TypeScript ç¯å¢ƒä¸‹å¹»ç¯ç‰‡ç»„ä»¶å’Œè¿”å›é¡¶éƒ¨ç»„ä»¶çš„å®ç°è¿‡ç¨‹ï¼Œæ¶µç›–ç»„ä»¶è®¾è®¡ã€ç±»å‹çº¦æŸã€çŠ¶æ€ç®¡ç†ã€äº‹ä»¶å¤„ç†ã€æ€§èƒ½ä¼˜åŒ–ç­‰æ ¸å¿ƒçŸ¥è¯†ç‚¹ã€‚é€šè¿‡å­¦ä¹ è¿™äº›ç»„ä»¶çš„å¼€å‘ï¼Œæˆ‘ä»¬å¯ä»¥æŒæ¡ï¼š</p>
<ol>
<li>React Hooks çš„å®æˆ˜åº”ç”¨ï¼ŒåŒ…æ‹¬ useStateã€useEffectã€useRef çš„ä½¿ç”¨åœºæ™¯å’Œæœ€ä½³å®è·µï¼›</li>
<li>TypeScript åœ¨ç»„ä»¶å¼€å‘ä¸­çš„ç±»å‹çº¦æŸæŠ€å·§ï¼Œæå‡ä»£ç å¥å£®æ€§å’Œå¯ç»´æŠ¤æ€§ï¼›</li>
<li>é«˜é¢‘äº‹ä»¶ï¼ˆæ»šåŠ¨ã€è½®æ’­ï¼‰çš„æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆï¼Œå¦‚èŠ‚æµã€å®ä¾‹å¤ç”¨ã€äº‹ä»¶æ¸…ç†ï¼›</li>
<li>UI ç»„ä»¶åº“ï¼ˆshadcnï¼‰ä¸ç¬¬ä¸‰æ–¹æ’ä»¶ï¼ˆEmbla Carouselï¼‰çš„é›†æˆæ–¹æ³•ï¼Œæå‡å¼€å‘æ•ˆç‡ï¼›</li>
<li>ç»„ä»¶åŒ–å¼€å‘çš„æ ¸å¿ƒæ€æƒ³ï¼Œé€šè¿‡æ‹†åˆ†åŠŸèƒ½ç»„ä»¶ã€å®šä¹‰æ¸…æ™°çš„æ¥å£ï¼Œå®ç°ç»„ä»¶å¤ç”¨ä¸ååŒã€‚</li>
</ol>
<p>åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œè¿˜éœ€ç»“åˆä¸šåŠ¡éœ€æ±‚è¿›ä¸€æ­¥ä¼˜åŒ–ç»„ä»¶åŠŸèƒ½ï¼Œé€‚é…ä¸åŒåœºæ™¯çš„ä½¿ç”¨éœ€æ±‚ï¼ŒåŒæ—¶æŒç»­å…³æ³¨ React å’Œ TypeScript çš„æ–°ç‰¹æ€§ï¼Œä¸æ–­æå‡ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æµé‡å˜ç°ä¸é£æ§åˆ©å™¨ï¼šå¤©è¿œåä¸‹è½¦è¾†è½¦ç‰ŒæŸ¥è¯¢APIæ¥å£PHPè°ƒç”¨ä»£ç ä¸åœºæ™¯è§£æ]]></title>    <link>https://juejin.cn/post/7598402961903779892</link>    <guid>https://juejin.cn/post/7598402961903779892</guid>    <pubDate>2026-01-23T09:34:55.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598402961903779892" data-draft-id="7598355220829569076" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æµé‡å˜ç°ä¸é£æ§åˆ©å™¨ï¼šå¤©è¿œåä¸‹è½¦è¾†è½¦ç‰ŒæŸ¥è¯¢APIæ¥å£PHPè°ƒç”¨ä»£ç ä¸åœºæ™¯è§£æ"/> <meta itemprop="keywords" content="API,å¤§æ•°æ®"/> <meta itemprop="datePublished" content="2026-01-23T09:34:55.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¤©è¿œæ•°ç§‘"/> <meta itemprop="url" content="https://juejin.cn/user/3511153810487162"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æµé‡å˜ç°ä¸é£æ§åˆ©å™¨ï¼šå¤©è¿œåä¸‹è½¦è¾†è½¦ç‰ŒæŸ¥è¯¢APIæ¥å£PHPè°ƒç”¨ä»£ç ä¸åœºæ™¯è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3511153810487162/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¤©è¿œæ•°ç§‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:34:55.000Z" title="Fri Jan 23 2026 09:34:55 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ã€ ä»¥ä½ä»£ç æˆæœ¬å®ç°æƒå¨è½¦åŠ¡æ•°æ®å˜ç°</h2>
<p>åœ¨<strong>å¾®ä¿¡å…¬ä¼—å·å¸ç²‰ã€è½¦åŠ¡ä»£åŠå°ç¨‹åº</strong>ä»¥åŠ<strong>åœ°æ–¹æ€§ç‰©æµä¿¡æ¯ç½‘</strong>çš„å¼€å‘ä¸­ï¼ŒPHP å‡­å€Ÿå…¶â€œå³éƒ¨å³ç”¨â€çš„ç‰¹æ€§ï¼Œä¾ç„¶æ˜¯æœ€é«˜æ•ˆçš„ç”Ÿäº§åŠ›å·¥å…·ã€‚åä¸‹è½¦è¾†è½¦ç‰ŒæŸ¥è¯¢API æ˜¯è¿æ¥ç”¨æˆ·ä¸è½¦ç®¡æ•°æ®çš„æ ¸å¿ƒæ¢çº½ï¼Œå®ƒåªéœ€ç”¨æˆ·æä¾›å§“åå’Œèº«ä»½è¯å·ï¼Œå³å¯å¯¹æ¥å›½å®¶éƒ¨å§”æƒå¨æ•°æ®åº“ï¼Œè¿”å›è½¦è¾†æ•°é‡ã€è½¦ç‰Œå·åŠè½¦è¾†ç±»å‹ç­‰é«˜ä»·å€¼ä¿¡æ¯ã€‚</p>
<p>å¯¹äº PHP å¼€å‘è€…è€Œè¨€ï¼Œ<strong>API</strong> æä¾›äº†æå…¶å‹å¥½çš„ HTTP æ¥å…¥æ–¹å¼ï¼Œæ— éœ€å¤æ‚çš„ç¯å¢ƒé…ç½®å³å¯å¿«é€Ÿé›†æˆã€‚æœ¬æ–‡å°†æ¼”ç¤ºå¦‚ä½•åˆ©ç”¨ PHP åŸç”Ÿä»£ç å¤„ç† AES åŠ å¯†ä¸ POST è¯·æ±‚ï¼Œå¸®åŠ©å¼€å‘è€…ä»¥æœ€ä½çš„æˆæœ¬æ¥å…¥<strong>å¤©è¿œAPI</strong>ï¼Œåœ¨ETCæ¨å¹¿ã€è½¦ä¸»æ ¸éªŒç­‰åœºæ™¯ä¸­å¿«é€Ÿå®ç°æ•°æ®å˜ç°ä¸ä¸šåŠ¡é—­ç¯ã€‚</p>
<h2 data-id="heading-1">äºŒã€ APIæ¥å£è°ƒç”¨ç¤ºä¾‹ï¼ˆPHPç‰ˆï¼‰</h2>
<p>æœ¬èŠ‚æ¼”ç¤ºå¦‚ä½•åœ¨ PHP ç¯å¢ƒä¸­ï¼ˆå…¼å®¹ PHP 5.6 - 8.xï¼‰å®Œæˆæ¥å£å¯¹æ¥ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ PHP æ ‡å‡†æ‰©å±• <code>curl</code> å’Œ <code>openssl</code>ï¼Œç¡®ä¿ä»£ç åœ¨å¤§å¤šæ•°è™šæ‹Ÿä¸»æœºæˆ–äº‘æœåŠ¡å™¨ä¸Šéƒ½èƒ½ç›´æ¥è¿è¡Œã€‚</p>
<h3 data-id="heading-2">1. æ¥å…¥å‰å‡†å¤‡</h3>
<ul>
<li><strong>æ¥å£åœ°å€</strong>ï¼š<code>https://api.tianyuanapi.com/api/v1/QCXG3G8K</code></li>
<li><strong>åŠ å¯†æ–¹å¼</strong>ï¼šAES-128-CBC + Base64</li>
<li><strong>è¯·æ±‚å‚æ•°</strong>ï¼š<code>id_card</code> (èº«ä»½è¯), <code>name</code> (å§“å)</li>
</ul>
<h3 data-id="heading-3">2. Curl å‘½ä»¤è¡Œé¢„æ£€</h3>
<p>Bash</p>
<pre><code class="hljs language-jsx" lang="jsx"># éªŒè¯ <span class="hljs-title class_">Access</span>-<span class="hljs-title class_">Id</span> æ˜¯å¦æœ‰æ•ˆ
curl -I <span class="hljs-string">"https://api.tianyuanapi.com/api/v1/QCXG3G8K?t=1720000000"</span>
</code></pre>
<h3 data-id="heading-4">3. PHP å®Œæ•´è°ƒç”¨ç¤ºä¾‹</h3>
<p>ä»¥ä¸‹ä»£ç å°è£…äº†ä¸€ä¸ªè½»é‡çº§çš„ <code>TianyuanVehicleClient</code> ç±»ï¼Œç›´æ¥å¤åˆ¶å³å¯ä½¿ç”¨ã€‚</p>
<p>PHP</p>
<pre><code class="hljs language-jsx" lang="jsx">&lt;?php

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TianyuanVehicleClient</span> {
    <span class="hljs-comment">// æ¥å£åœ°å€ </span>
    private $apiUrl = <span class="hljs-string">"https://api.tianyuanapi.com/api/v1/QCXG3G8K"</span>;
    private $accessId;
    private $accessKey;

    public <span class="hljs-keyword">function</span> <span class="hljs-title function_">__construct</span>(<span class="hljs-params">$accessId, $accessKey</span>) {
        $this-&gt;accessId = $accessId;
        $this-&gt;accessKey = $accessKey;
    }

    <span class="hljs-comment">/**
     * AES-128-CBC åŠ å¯† 
     */</span>
    private <span class="hljs-keyword">function</span> <span class="hljs-title function_">encryptData</span>(<span class="hljs-params">$data</span>) {
        $key = $this-&gt;accessKey;
        <span class="hljs-comment">// ç”Ÿæˆ16å­—èŠ‚éšæœºIV</span>
        $iv = <span class="hljs-title function_">openssl_random_pseudo_bytes</span>(<span class="hljs-number">16</span>);
        $jsonStr = <span class="hljs-title function_">json_encode</span>($data);

        <span class="hljs-comment">// åŠ å¯†</span>
        $encrypted = <span class="hljs-title function_">openssl_encrypt</span>($jsonStr, <span class="hljs-string">'AES-128-CBC'</span>, $key, <span class="hljs-variable constant_">OPENSSL_RAW_DATA</span>, $iv);

        <span class="hljs-comment">// æ‹¼æ¥ IV + å¯†æ–‡ å¹¶ Base64ç¼–ç  </span>
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">base64_encode</span>($iv . $encrypted);
    }

    <span class="hljs-comment">/**
     * AES-128-CBC è§£å¯† 
     */</span>
    private <span class="hljs-keyword">function</span> <span class="hljs-title function_">decryptData</span>(<span class="hljs-params">$base64Str</span>) {
        $raw = <span class="hljs-title function_">base64_decode</span>($base64Str);
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">strlen</span>($raw) &lt; <span class="hljs-number">17</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;

        $iv = <span class="hljs-title function_">substr</span>($raw, <span class="hljs-number">0</span>, <span class="hljs-number">16</span>); <span class="hljs-comment">// æå–å‰16ä½IV</span>
        $cipherText = <span class="hljs-title function_">substr</span>($raw, <span class="hljs-number">16</span>); <span class="hljs-comment">// æå–å¯†æ–‡</span>

        $decrypted = <span class="hljs-title function_">openssl_decrypt</span>($cipherText, <span class="hljs-string">'AES-128-CBC'</span>, $this-&gt;accessKey, <span class="hljs-variable constant_">OPENSSL_RAW_DATA</span>, $iv);
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">json_decode</span>($decrypted, <span class="hljs-literal">true</span>);
    }

    <span class="hljs-comment">/**
     * å‘èµ·æŸ¥è¯¢
     */</span>
    public <span class="hljs-keyword">function</span> <span class="hljs-title function_">query</span>(<span class="hljs-params">$idCard, $realName</span>) {
        <span class="hljs-comment">// æ„é€ ä¸šåŠ¡å‚æ•° </span>
        $params = [
            <span class="hljs-string">'id_card'</span> =&gt; $idCard,
            <span class="hljs-string">'name'</span> =&gt; $realName
        ];

        <span class="hljs-comment">// 1. åŠ å¯†</span>
        $encryptedData = $this-&gt;<span class="hljs-title function_">encryptData</span>($params);

        <span class="hljs-comment">// 2. æ„é€ POSTè¯·æ±‚ä½“</span>
        $postData = <span class="hljs-title function_">json_encode</span>([<span class="hljs-string">'data'</span> =&gt; $encryptedData]);
        
        <span class="hljs-comment">// æ·»åŠ æ—¶é—´æˆ³é˜²æ­¢ç¼“å­˜</span>
        $url = $this-&gt;apiUrl . <span class="hljs-string">"?t="</span> . (<span class="hljs-title function_">time</span>() * <span class="hljs-number">1000</span>);

        <span class="hljs-comment">// 3. å‘é€ CURL è¯·æ±‚</span>
        $ch = <span class="hljs-title function_">curl_init</span>();
        <span class="hljs-title function_">curl_setopt</span>($ch, <span class="hljs-variable constant_">CURLOPT_URL</span>, $url);
        <span class="hljs-title function_">curl_setopt</span>($ch, <span class="hljs-variable constant_">CURLOPT_POST</span>, <span class="hljs-number">1</span>);
        <span class="hljs-title function_">curl_setopt</span>($ch, <span class="hljs-variable constant_">CURLOPT_POSTFIELDS</span>, $postData);
        <span class="hljs-title function_">curl_setopt</span>($ch, <span class="hljs-variable constant_">CURLOPT_HTTPHEADER</span>, [
            <span class="hljs-string">'Content-Type: application/json'</span>,
            <span class="hljs-string">'Access-Id: '</span> . $this-&gt;accessId <span class="hljs-comment">// å¿…å¡«å¤´ä¿¡æ¯ </span>
        ]);
        <span class="hljs-title function_">curl_setopt</span>($ch, <span class="hljs-variable constant_">CURLOPT_RETURNTRANSFER</span>, <span class="hljs-literal">true</span>);
        
        $response = <span class="hljs-title function_">curl_exec</span>($ch);
        $curlErr = <span class="hljs-title function_">curl_error</span>($ch);
        <span class="hljs-title function_">curl_close</span>($ch);

        <span class="hljs-keyword">if</span> ($curlErr) {
            <span class="hljs-keyword">return</span> [<span class="hljs-string">'error'</span> =&gt; <span class="hljs-string">'Curl Error: '</span> . $curlErr];
        }

        <span class="hljs-comment">// 4. å¤„ç†å“åº”</span>
        $resArr = <span class="hljs-title function_">json_decode</span>($response, <span class="hljs-literal">true</span>);
        <span class="hljs-keyword">if</span> (<span class="hljs-title function_">isset</span>($resArr[<span class="hljs-string">'code'</span>]) &amp;&amp; $resArr[<span class="hljs-string">'code'</span>] == <span class="hljs-number">200</span> &amp;&amp; <span class="hljs-title function_">isset</span>($resArr[<span class="hljs-string">'data'</span>])) {
            <span class="hljs-comment">// è§£å¯†æ•°æ® </span>
            <span class="hljs-keyword">return</span> $this-&gt;<span class="hljs-title function_">decryptData</span>($resArr[<span class="hljs-string">'data'</span>]);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span> [<span class="hljs-string">'error'</span> =&gt; $resArr[<span class="hljs-string">'message'</span>] ?? <span class="hljs-string">'APIè°ƒç”¨å¤±è´¥'</span>];
        }
    }
}

<span class="hljs-comment">// --- è°ƒç”¨æ¼”ç¤º ---</span>
<span class="hljs-comment">// è¯·æ›¿æ¢ä¸ºæ‚¨çš„çœŸå® Access-Id å’Œ Key</span>
$client = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TianyuanVehicleClient</span>(<span class="hljs-string">"YOUR_ACCESS_ID"</span>, <span class="hljs-string">"YOUR_16_BYTE_KEY_HERE"</span>);

$idCard = <span class="hljs-string">"11010119900101xxxx"</span>;
$name = <span class="hljs-string">"å¼ ä¸‰"</span>;

$result = $client-&gt;<span class="hljs-title function_">query</span>($idCard, $name);

<span class="hljs-comment">// --- è¾“å‡ºç»“æœ ---</span>
echo <span class="hljs-string">"&lt;pre&gt;"</span>;
<span class="hljs-keyword">if</span> (<span class="hljs-title function_">isset</span>($result[<span class="hljs-string">'error'</span>])) {
    echo <span class="hljs-string">"æŸ¥è¯¢å¤±è´¥: "</span> . $result[<span class="hljs-string">'error'</span>];
} <span class="hljs-keyword">else</span> {
    echo <span class="hljs-string">"=== æŸ¥è¯¢æˆåŠŸ ===\n"</span>;
    echo <span class="hljs-string">"åä¸‹è½¦è¾†æ•°: "</span> . $result[<span class="hljs-string">'vehicleCount'</span>] . <span class="hljs-string">"\n"</span>; <span class="hljs-comment">// </span>
    
    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">empty</span>($result[<span class="hljs-string">'list'</span>])) {
        foreach ($result[<span class="hljs-string">'list'</span>] <span class="hljs-keyword">as</span> $car) {
            echo <span class="hljs-string">"----------------\n"</span>;
            echo <span class="hljs-string">"è½¦ç‰Œå·: "</span> . $car[<span class="hljs-string">'plateNum'</span>] . <span class="hljs-string">"\n"</span>;
            echo <span class="hljs-string">"ç±»å‹ç : "</span> . $car[<span class="hljs-string">'vehicleType'</span>] . <span class="hljs-string">"\n"</span>;
            echo <span class="hljs-string">"é¢œè‰²ç : "</span> . $car[<span class="hljs-string">'plateColor'</span>] . <span class="hljs-string">"\n"</span>;
        }
    }
}
echo <span class="hljs-string">"&lt;/pre&gt;"</span>;
?&gt;
</code></pre>
<h2 data-id="heading-5">ä¸‰ã€ æ ¸å¿ƒæ•°æ®ç»“æ„è§£æ</h2>
<p>PHP çš„å…³è”æ•°ç»„ç»“æ„éå¸¸é€‚åˆå¤„ç† API è¿”å›çš„æ•°æ®ã€‚<strong>å¤©è¿œAPI</strong> çš„å“åº”æ•°æ®è§£å¯†ååŒ…å«ä¸¤ä¸ªæ ¸å¿ƒå­—æ®µï¼š</p>
<ul>
<li><strong><code>vehicleCount</code></strong> (String): è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æ•°å­—å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºè¯¥èº«ä»½è¯ä¸‹å…³è”çš„è½¦è¾†æ€»æ•°ã€‚PHP å¼€å‘è€…å¯ä»¥ç›´æ¥ç”¨ <code>if ($res['vehicleCount'] &gt; 0)</code> æ¥åˆ¤æ–­ç”¨æˆ·æ˜¯å¦æœ‰è½¦ã€‚</li>
<li><strong><code>list</code></strong> (Array): è½¦è¾†æ˜ç»†åˆ—è¡¨ã€‚è¿™æ˜¯ä¸€ä¸ªåŒ…å«å¤šæ¡è½¦è¾†ä¿¡æ¯çš„æ•°ç»„ï¼Œæ¯æ¡è®°å½•éƒ½åŒ…å«è½¦ç‰Œå·ã€é¢œè‰²å’Œè½¦è¾†ç±»å‹ã€‚å¦‚æœç”¨æˆ·æ— è½¦ï¼Œè¯¥æ•°ç»„å¯èƒ½ä¸ºç©ºã€‚</li>
</ul>
<hr/>
<h2 data-id="heading-6">å››ã€ å­—æ®µè¯¦è§£ï¼ˆPHP æ•°ç»„ Key å¯¹ç…§ï¼‰</h2>
<p>ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…å¿«é€Ÿå¯¹ç…§ï¼Œä»¥ä¸‹è¡¨æ ¼è¯¦ç»†åˆ—å‡ºäº† PHP æ•°ç»„ä¸­çš„ Key åŠå…¶å¯¹åº”çš„ä¸šåŠ¡å«ä¹‰ã€‚</p>
<h3 data-id="heading-7">1. è½¦è¾†æ˜ç»†åˆ—è¡¨ (Keys in <code>$result['list']</code>)</h3>

























<table><thead><tr><th><strong>æ•°ç»„é”®å (Key)</strong></th><th><strong>å«ä¹‰</strong></th><th><strong>PHPå¤„ç†å»ºè®®</strong></th></tr></thead><tbody><tr><td><strong>plateNum</strong></td><td>è½¦ç‰Œå·</td><td>å¯ç›´æ¥è¾“å‡ºï¼Œå¦‚ "äº¬A88888"</td></tr><tr><td><strong>plateColor</strong></td><td>è½¦ç‰Œé¢œè‰²</td><td>å¯¹åº”ä¸‹è¡¨ï¼Œå»ºè®®å»ºç«‹æ˜ å°„æ•°ç»„è½¬ä¸ºä¸­æ–‡</td></tr><tr><td><strong>vehicleType</strong></td><td>è½¦è¾†ç±»å‹</td><td>å¯¹åº”ä¸‹è¡¨ï¼Œå…³é”®å­—æ®µï¼ŒåŒºåˆ†å®¢è½¦ä¸è´§è½¦</td></tr></tbody></table>
<h3 data-id="heading-8">2. è½¦ç‰Œé¢œè‰²å¯¹ç…§è¡¨ (plateColor)</h3>
<p>ä½¿ç”¨ PHP æ•°ç»„æ˜ å°„å¯ä»¥å¿«é€Ÿå°†ä»£ç è½¬æ¢ä¸ºå‰ç«¯æ˜¾ç¤ºçš„é¢œè‰²æ ‡ç­¾ã€‚</p>



































<table><thead><tr><th><strong>Code</strong></th><th><strong>é¢œè‰²/ç±»å‹</strong></th><th><strong>ä¸šåŠ¡åˆ¤æ–­é€»è¾‘ç¤ºä¾‹</strong></th></tr></thead><tbody><tr><td><strong>0</strong></td><td>è“è‰²</td><td><code>if ($code == 0) echo 'ç§å®¶è½¦';</code></td></tr><tr><td><strong>1</strong></td><td>é»„è‰²</td><td><code>if ($code == 1) echo 'å¤§å‹è½¦/æ•™ç»ƒè½¦';</code></td></tr><tr><td><strong>11</strong></td><td>ç»¿è‰²</td><td><code>if ($code == 11) echo 'æ–°èƒ½æºè½¦';</code></td></tr><tr><td><strong>2</strong></td><td>é»‘è‰²</td><td>æ¸¯æ¾³/å¤–ç±è½¦è¾†</td></tr><tr><td><strong>5</strong></td><td>é»„ç»¿åŒæ‹¼</td><td>å¤§å‹æ–°èƒ½æºè½¦</td></tr></tbody></table>
<h3 data-id="heading-9">3. è½¦è¾†ç±»å‹å¯¹ç…§è¡¨ (vehicleType)</h3>
<p>ç”¨äºç²¾å‡†è¯†åˆ«è½¦è¾†ç”¨é€”ï¼Œç‰¹åˆ«æ˜¯åœ¨ç‰©æµæ‹›å‹Ÿåœºæ™¯ä¸­ã€‚</p>

























<table><thead><tr><th><strong>Code</strong></th><th><strong>å«ä¹‰</strong></th><th><strong>å¤‡æ³¨</strong></th></tr></thead><tbody><tr><td><strong>1</strong></td><td>ä¸€å‹å®¢è½¦</td><td>â‰¤9åº§ï¼Œæœ€å¸¸è§çš„å®¶ç”¨è½¦å‹</td></tr><tr><td><strong>11 - 16</strong></td><td>è´§è½¦ç³»åˆ—</td><td>ä»ä¸€å‹åˆ°å…­å‹è´§è½¦ï¼Œæ•°å­—è¶Šå¤§è½½é‡è¶Šå¤§</td></tr><tr><td><strong>21 - 26</strong></td><td>ä¸“é¡¹ä½œä¸šè½¦</td><td>èµ·é‡æœºã€æ³µè½¦ç­‰ç‰¹ç§è½¦è¾†</td></tr></tbody></table>
<h2 data-id="heading-10">äº”ã€ åº”ç”¨ä»·å€¼åˆ†æ</h2>
<p>å¯¹äº PHP å¼€å‘è€…è€Œè¨€ï¼Œæ¥å…¥ <strong>API</strong> å¯ä»¥å¿«é€Ÿæ‰“é€šä»¥ä¸‹é«˜ä»·å€¼åœºæ™¯ï¼š</p>
<ol>
<li>
<p><strong>ç‰©æµå¸æœºçº¿ä¸Šæ‹›å‹Ÿï¼ˆå…¬ä¼—å·å¼€å‘ï¼‰</strong>ï¼š
åœ¨å¸æœºæŠ¥åçš„ H5 é¡µé¢ä¸­ï¼Œåç«¯é€šè¿‡ PHP è°ƒç”¨ API æ ¡éªŒã€‚å¦‚æœè¿”å›çš„ <code>vehicleType</code> æ˜¯ 11-16ï¼ˆè´§è½¦ï¼‰ä¸” <code>plateColor</code> ä¸º 1ï¼ˆé»„ç‰Œï¼‰ï¼Œåˆ™è‡ªåŠ¨é€šè¿‡â€œå¸¦è½¦å¸æœºâ€è®¤è¯ï¼›å¦‚æœæ˜¯ 1ï¼ˆä¸€å‹å®¢è½¦ï¼‰ï¼Œåˆ™æç¤ºâ€œè½¦å‹ä¸ç¬¦â€ï¼Œæå¤§æé«˜å®¡æ ¸æ•ˆç‡ã€‚</p>
</li>
<li>
<p><strong>ETC æ¨å¹¿åˆ†é”€ç³»ç»Ÿ</strong>ï¼š
ETC ä»£ç†å•†ç³»ç»Ÿå¯ä»¥é€šè¿‡ API æ‰¹é‡æ£€æµ‹æ½œåœ¨å®¢æˆ·ã€‚è¾“å…¥å®¢æˆ·èº«ä»½è¯ï¼Œè‹¥ <code>vehicleCount &gt; 0</code> ä¸” <code>plateColor</code> ä¸º 0ï¼ˆè“ç‰Œï¼‰æˆ– 11ï¼ˆç»¿ç‰Œï¼‰ï¼Œåˆ™æ ‡è®°ä¸ºâ€œé«˜æ„å‘å®¢æˆ·â€è¿›è¡Œç²¾å‡†ç”µè¯è¥é”€ã€‚</p>
</li>
<li>
<p><strong>å°åŒºé—¨ç¦ç³»ç»Ÿå¯¹æ¥</strong>ï¼š
ä¸ºç‰©ä¸šå¼€å‘çš„è½¦è¾†ç®¡ç†ç³»ç»Ÿä¸­ï¼Œé€šè¿‡ API éªŒè¯ç™»è®°è½¦è¾†æ˜¯å¦ç¡®å±ä¸šä¸»åä¸‹ã€‚åˆ©ç”¨ <code>plateNum</code> å­—æ®µå®ç°è‡ªåŠ¨å½•å…¥ï¼Œé¿å…äººå·¥è¾“å…¥è½¦ç‰Œé”™è¯¯çš„å°´å°¬ï¼Œæå‡ç‰©ä¸šæ•°å­—åŒ–æ°´å¹³ã€‚</p>
</li>
<li>
<p><strong>ä¿¡è´·é£æ§è¾…åŠ©</strong>ï¼š</p>
<p>åœ¨å°é¢è´·å‰å®¡æ ¸ä¸­ï¼Œé€šè¿‡ API å¿«é€ŸéªŒè¯ç”³è¯·äººçš„èµ„äº§å®åŠ›ã€‚åä¸‹æ‹¥æœ‰å¤šè¾† <code>vehicleType=1</code>ï¼ˆä¸€å‹å®¢è½¦ï¼‰çš„ç”¨æˆ·é€šå¸¸å…·æœ‰æ›´å¥½çš„å¿å€ºèƒ½åŠ›ã€‚</p>
</li>
</ol>
<h2 data-id="heading-11">å…­ã€ æ€»ç»“</h2>
<p><strong>å¤©è¿œåä¸‹è½¦è¾†è½¦ç‰ŒæŸ¥è¯¢API</strong> æ˜¯è½¦åŠ¡æ•°æ®é¢†åŸŸçš„â€œç‘å£«å†›åˆ€â€ã€‚å¯¹äº PHP å¼€å‘è€…æ¥è¯´ï¼Œå®ƒæ²¡æœ‰å¤æ‚çš„ SDK ä¾èµ–ï¼Œé€šè¿‡ç®€å•çš„ <code>curl</code> å°è£…å³å¯ä½¿ç”¨ã€‚</p>
<p>é€šè¿‡æœ¬æ–‡çš„ PHP ä»£ç ç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥è½»æ¾å®Œæˆæ•°æ®çš„åŠ å¯†ä¼ è¾“ä¸è§£å¯†è§£æã€‚æ— è®ºæ˜¯å¼€å‘ç®€å•çš„è½¦ä¸»æ ¸éªŒæ’ä»¶ï¼Œè¿˜æ˜¯æ„å»ºå¤æ‚çš„ç‰©æµè°ƒåº¦å¹³å°ã€‚å»ºè®®å¼€å‘è€…åˆ©ç”¨ PHP çš„çµæ´»æ€§ï¼Œå°†æ­¤æŸ¥è¯¢åŠŸèƒ½å¿«é€Ÿé›†æˆåˆ°ç°æœ‰çš„ CMS æˆ–å¾®ä¿¡ç”Ÿæ€ç³»ç»Ÿä¸­ï¼ŒæŠ¢å è½¦åŠ¡æ•°æ®æœåŠ¡å¸‚åœºã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[vLLM æ¨ç† GPU é€‰å‹æŒ‡å—ï¼šæ˜¾å­˜ã€KV Cache ä¸æ€§èƒ½ç“¶é¢ˆå…¨è§£æ]]></title>    <link>https://juejin.cn/post/7598402961903796276</link>    <guid>https://juejin.cn/post/7598402961903796276</guid>    <pubDate>2026-01-23T09:35:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598402961903796276" data-draft-id="7598355220829585460" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="vLLM æ¨ç† GPU é€‰å‹æŒ‡å—ï¼šæ˜¾å­˜ã€KV Cache ä¸æ€§èƒ½ç“¶é¢ˆå…¨è§£æ"/> <meta itemprop="keywords" content="LLM,Agent,AIGC"/> <meta itemprop="datePublished" content="2026-01-23T09:35:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="DigitalOcean"/> <meta itemprop="url" content="https://juejin.cn/user/2031553217827127"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            vLLM æ¨ç† GPU é€‰å‹æŒ‡å—ï¼šæ˜¾å­˜ã€KV Cache ä¸æ€§èƒ½ç“¶é¢ˆå…¨è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2031553217827127/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    DigitalOcean
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:35:39.000Z" title="Fri Jan 23 2026 09:35:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»26åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¸º vLLM æ¨ç†æœ‰æ•ˆè§„åˆ’ GPU è§„æ¨¡å¹¶è¿›è¡Œåˆç†é…ç½®ï¼Œé¦–å…ˆéœ€è¦æ¸…æ™°ç†è§£å¤§è¯­è¨€æ¨¡å‹å¤„ç†çš„ä¸¤ä¸ªåŸºæœ¬é˜¶æ®µâ€”â€”Prefillï¼ˆé¢„å¡«å……ï¼‰å’Œ Decodeï¼ˆè§£ç ï¼‰ï¼Œä»¥åŠè¿™ä¸¤ä¸ªé˜¶æ®µå¯¹ç¡¬ä»¶æå‡ºçš„ä¸åŒéœ€æ±‚ã€‚</p>
<p>æœ¬æŒ‡å—æ·±å…¥å‰–æäº† vLLM è¿è¡Œæ—¶è¡Œä¸ºçš„å†…éƒ¨æœºåˆ¶ï¼Œé˜æ˜äº†å†…å­˜éœ€æ±‚ã€é‡åŒ–å’Œå¼ é‡å¹¶è¡Œç­‰æ ¸å¿ƒæ¦‚å¿µï¼Œå¹¶æä¾›äº†å°† GPU é€‰å‹ä¸å®é™…å·¥ä½œè´Ÿè½½ç›¸åŒ¹é…çš„å®ç”¨ç­–ç•¥ã€‚é€šè¿‡æ¢ç©¶è¿™äº›å› ç´ ä¹‹é—´çš„ç›¸äº’ä½œç”¨ï¼Œæ‚¨å°†èƒ½å¤Ÿå‡†ç¡®é¢„åˆ¤æ€§èƒ½ç“¶é¢ˆï¼Œå¹¶åœ¨ GPU åŸºç¡€è®¾æ–½ä¸Šéƒ¨ç½²å¤§å‹è¯­è¨€æ¨¡å‹æ—¶ï¼Œåšå‡ºæ˜æ™ºä¸”å…·æœ‰æˆæœ¬æ•ˆç›Šçš„å†³ç­–ã€‚</p>
<h3 data-id="heading-0"><strong>vLLM è¿è¡Œæ—¶è¡Œä¸ºå‰–æï¼šé¢„å¡«å……é˜¶æ®µ vs è§£ç é˜¶æ®µ</strong></h3>
<p><strong>é¢„å¡«å……é˜¶æ®µï¼ˆ"è¯»å–"é˜¶æ®µï¼‰</strong></p>
<p>è¿™æ˜¯ä»»ä½•è¯·æ±‚çš„ç¬¬ä¸€æ­¥ã€‚vLLM æ¥æ”¶æ•´ä¸ªè¾“å…¥æç¤ºï¼ˆç”¨æˆ·æŸ¥è¯¢ + ç³»ç»Ÿæç¤º + ä»»ä½• RAG ä¸Šä¸‹æ–‡ï¼‰ï¼Œå¹¶ä»¥é«˜åº¦å¹¶è¡Œçš„æ–¹å¼ä¸€æ¬¡æ€§å¤„ç†æ‰€æœ‰å†…å®¹ã€‚</p>
<ul>
<li>â€‹<strong>è¿‡ç¨‹</strong>â€‹ï¼šæ¨¡å‹"è¯»å–"ä¸Šä¸‹æ–‡ï¼Œå¹¶ç”¨è¯¥ä¸Šä¸‹æ–‡çš„æ•°å­¦è¡¨ç¤ºå¡«å……é”®å€¼ï¼ˆKVï¼‰ç¼“å­˜ã€‚</li>
<li>â€‹<strong>ç“¶é¢ˆ</strong>â€‹ï¼šç”±äºå¹¶è¡Œå¤„ç†æ•°åƒä¸ªä»¤ç‰Œï¼Œæ­¤é˜¶æ®µå‡ ä¹æ€»æ˜¯å—é™äºå†…å­˜å¸¦å®½ã€‚é€Ÿåº¦ä¸Šé™å–å†³äº GPU å°†å·¨å¤§çš„æƒé‡çŸ©é˜µä»æ˜¾å­˜ç§»åŠ¨åˆ°è®¡ç®—æ ¸å¿ƒçš„é€Ÿåº¦ã€‚æœ‰å…³ GPU æ€§èƒ½ç‰¹æ€§çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜…æˆ‘ä»¬çš„ <a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.aidroplet.com%2Ftutorials%2Fgpu-optimization-deep-learning-guide%2F" target="_blank" title="https://blog.aidroplet.com/tutorials/gpu-optimization-deep-learning-guide/" ref="nofollow noopener noreferrer">GPU æ€§èƒ½ä¼˜åŒ–æŒ‡å—</a>ã€‚</li>
<li>â€‹<strong>å®é™…å½±å“</strong>â€‹ï¼šè¿™å†³å®šäº†é¦– Token å»¶è¿Ÿï¼ˆTime-To-First-Tokenï¼‰ã€‚å¦‚æœè¦æ€»ç»“ä¸€ä¸ªé•¿è¾¾ 10 ä¸‡ Token çš„åºå¤§æ–‡æ¡£ï¼Œé¢„å¡«å……é˜¶æ®µå°±æ˜¯è®©ç”¨æˆ·åœ¨ç¬¬ä¸€ä¸ªè¯å‡ºç°å‰ç­‰å¾…çš„åŸå› ã€‚</li>
</ul>
<p><strong>è§£ç é˜¶æ®µï¼ˆ"å†™å…¥"é˜¶æ®µï¼‰</strong></p>
<p>é¢„å¡«å……å®Œæˆåï¼ŒvLLM è¿›å…¥è‡ªå›å½’å¾ªç¯ä»¥ç”Ÿæˆè¾“å‡ºã€‚</p>
<ul>
<li>â€‹<strong>è¿‡ç¨‹</strong>â€‹ï¼šæ¨¡å‹ç”Ÿæˆä¸€ä¸ª Tokenï¼Œå°†å…¶é™„åŠ åˆ°åºåˆ—ä¸­ï¼Œç„¶åå†æ¬¡è¿è¡Œæ•´ä¸ªæ¨¡å‹ä»¥ç”Ÿæˆä¸‹ä¸€ä¸ª Tokenã€‚å¯¹äºå•ä¸ªè¯·æ±‚è€Œè¨€ï¼Œè¿™æœ¬è´¨ä¸Šæ˜¯ä¸²è¡Œçš„ã€‚</li>
<li>â€‹<strong>æŒ‘æˆ˜</strong>â€‹ï¼šä»…ä¸ºäº†è®¡ç®—å•ä¸ªç”¨æˆ·çš„ä¸€ä¸ª Token è€Œä»æ˜¾å­˜åŠ è½½åºå¤§çš„æ¨¡å‹æƒé‡æ˜¯æå…¶ä½æ•ˆçš„ï¼›GPU åœ¨ç§»åŠ¨æ•°æ®ä¸ŠèŠ±è´¹çš„æ—¶é—´æ¯”è®¡ç®—è¿˜å¤šã€‚</li>
<li>â€‹<strong>è§£å†³æ–¹æ¡ˆï¼ˆè¿ç»­æ‰¹å¤„ç†</strong>â€‹â€‹**ï¼‰**â€‹ï¼šä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåƒ vLLM è¿™æ ·çš„ç°ä»£å¼•æ“ä¸ä¼šé€ä¸ªå¤„ç†è¯·æ±‚ã€‚ç›¸åï¼Œå®ƒä»¬ä½¿ç”¨è¿ç»­æ‰¹å¤„ç†ã€‚è¯·æ±‚åŠ¨æ€åœ°è¿›å…¥å’Œç¦»å¼€æ‰¹å¤„ç†æ‰¹æ¬¡ã€‚vLLM åœ¨åŒä¸€ä¸ª GPU å‘¨æœŸå†…ï¼Œå°†æ–°è¯·æ±‚çš„é¢„å¡«å……æ“ä½œä¸è¿›è¡Œä¸­è¯·æ±‚çš„è§£ç æ­¥éª¤äº¤é”™è¿›è¡Œã€‚</li>
<li>â€‹<strong>ç“¶é¢ˆ</strong>â€‹ï¼šå½“æœ‰æ•ˆè¿›è¡Œæ‰¹å¤„ç†æ—¶ï¼Œæ­¤é˜¶æ®µå˜ä¸ºâ€‹<strong>è®¡ç®—å—é™</strong>â€‹ï¼ˆå—åŸå§‹ TFLOPS é™åˆ¶ï¼‰ï¼Œå› ä¸ºç›®æ ‡æ˜¯å°½å¯èƒ½å¤šåœ°å¹¶è¡Œå¤„ç† Token è®¡ç®—ï¼Œä»¥æœ€å¤§åŒ–æ€»ä½“ååé‡ã€‚</li>
</ul>
<p><strong>é¢„å¡«å……é˜¶æ®µä¸è§£ç é˜¶æ®µçš„å¯¹æ¯”</strong></p>
<ul>
<li>â€‹<strong>ä¸»è¦ç“¶é¢ˆ</strong>â€‹ï¼šé¢„å¡«å……é˜¶æ®µä¸ºå†…å­˜å¸¦å®½ï¼Œè§£ç é˜¶æ®µä¸ºè®¡ç®—èƒ½åŠ›ã€‚</li>
<li>â€‹<strong>è¡¡é‡æŒ‡æ ‡</strong>â€‹ï¼šé¢„å¡«å……å½±å“â€‹<strong>é¦– Token å»¶è¿Ÿ</strong>â€‹ï¼Œè§£ç å½±å“â€‹<strong>ååé‡</strong>â€‹ã€‚</li>
<li>â€‹<strong>å¹¶è¡Œæ€§</strong>â€‹ï¼šé¢„å¡«å……é˜¶æ®µé’ˆå¯¹å•ä¸ªè¯·æ±‚å…·æœ‰é«˜å¹¶è¡Œæ€§ï¼›è§£ç é˜¶æ®µå¯¹å•ä¸ªè¯·æ±‚æ˜¯é¡ºåºçš„ï¼Œä½†é€šè¿‡è·¨è¯·æ±‚çš„è¿ç»­æ‰¹å¤„ç†å®ç°å¹¶è¡Œã€‚
<img src="https://dvi5wsyvaxw.feishu.cn/space/api/box/stream/download/asynccode/?code=NDk4MmUxYTk2MjM3Y2I0MjAyNTFjNzA2ZjJlYjA0ZGNfUjR0Q3M2Wmx3OUZIUlNuTGdqWVRPRkZiWHh0YUNDZFRfVG9rZW46UjNQQmJub0c2bzZSSml4UHdhY2NjVGE1bmRnXzE3NjkxNTkzNzY6MTc2OTE2Mjk3Nl9WNA" alt="" loading="lazy"/></li>
</ul>
<h3 data-id="heading-1"><strong>å°†é˜¶æ®µä¸å·¥ä½œè´Ÿè½½åŠç¡¬ä»¶å…³è”</strong></h3>
<p>äº†è§£å“ªä¸ªé˜¶æ®µåœ¨æ‚¨çš„å·¥ä½œè´Ÿè½½ä¸­å ä¸»å¯¼åœ°ä½ï¼Œå¯¹äºé€‰æ‹©åˆé€‚çš„ç¡¬ä»¶è‡³å…³é‡è¦ã€‚</p>























<table><thead><tr><th>è¿è¡Œæ—¶é˜¶æ®µ</th><th>ä¸»è¦æ“ä½œ</th><th>ä¸»è¦ç¡¬ä»¶çº¦æŸ</th><th>ä¸»è¦ç”¨ä¾‹åœºæ™¯</th></tr></thead><tbody><tr><td><strong>é¢„å¡«å……é˜¶æ®µ</strong></td><td>å¹¶è¡Œå¤„ç†é•¿è¾“å…¥ã€‚</td><td>â€‹<strong>å†…å­˜å¸¦å®½</strong>â€‹ï¼ˆTB/sï¼‰ï¼ˆå¯¹å¿«é€Ÿ TTFT è‡³å…³é‡è¦ï¼‰</td><td>â€¢ RAGâ€¢ é•¿æ–‡æ¡£æ‘˜è¦ â€¢ å¤§è§„æ¨¡å°‘æ ·æœ¬æç¤º</td></tr><tr><td><strong>è§£ç é˜¶æ®µ</strong></td><td>é¡ºåºç”Ÿæˆè¾“å‡ºã€‚</td><td>â€‹<strong>è®¡ç®—èƒ½åŠ›</strong>â€‹ï¼ˆTFLOPSï¼‰ï¼ˆå¯¹å¿«é€Ÿ Token ç”Ÿæˆè‡³å…³é‡è¦ï¼‰</td><td>â€¢ äº¤äº’å¼èŠå¤©ä¸å®¢æœ â€¢ å®æ—¶ä»£ç ç”Ÿæˆ â€¢ å¤šè½®æ™ºèƒ½ä½“å·¥ä½œæµ</td></tr></tbody></table>
<p><strong>è¿è¡Œæ—¶çš„ â€‹KV</strong>â€‹<strong>â€‹ Cache</strong></p>
<p>åœ¨æ¨ç†è¿‡ç¨‹ä¸­ï¼ŒvLLM é«˜åº¦ä¾èµ– KV Cacheï¼Œç”¨æ¥é¿å…é‡å¤è®¡ç®—å·²ç»å®Œæˆçš„å·¥ä½œã€‚</p>
<h4 data-id="heading-2">å·¥ä½œæœºåˆ¶</h4>
<p>åœ¨ Transformer ä¸­ï¼Œæ¯ä¸ª token éƒ½ä¼šåœ¨æ³¨æ„åŠ›å±‚å†…è¢«è½¬æ¢ä¸º <strong>Keyï¼ˆKï¼‰</strong> å’Œ <strong>Valueï¼ˆVï¼‰</strong> å‘é‡ã€‚ å¦‚æœæ²¡æœ‰ç¼“å­˜æœºåˆ¶ï¼Œæ¨¡å‹åœ¨ç”Ÿæˆç¬¬ <em>t+1</em> ä¸ª token æ—¶ï¼Œå°±å¿…é¡»é‡æ–°å¤„ç†æ•´ä¸ªå†å²åºåˆ—ï¼ˆtoken 0 â€¦ tï¼‰ã€‚</p>
<p><strong>è§£å†³æ–¹æ¡ˆï¼šKV Cache</strong></p>
<p>KV Cache çš„ä½œç”¨æ­£æ˜¯æŠŠè¿™äº›å·²ç»è®¡ç®—è¿‡çš„ K / V å‘é‡ä¿å­˜ä¸‹æ¥å¹¶é‡å¤åˆ©ç”¨ã€‚</p>
<ul>
<li>Prefill é˜¶æ®µï¼š vLLM ä¼šä¸€æ¬¡æ€§ä¸ºæ‰€æœ‰è¾“å…¥æç¤ºè¯è®¡ç®— K / Vï¼Œå¹¶ç«‹å³å†™å…¥ç¼“å­˜ã€‚</li>
<li>Decode é˜¶æ®µï¼šæ¯ç”Ÿæˆä¸€ä¸ªæ–° tokenï¼Œåªéœ€ä»ç¼“å­˜ä¸­è¯»å–å†å² K / Vï¼Œå¹¶ä»…ä¸ºè¿™ä¸ªæ–° token è®¡ç®—æ–°çš„ K / Vã€‚</li>
</ul>
<h4 data-id="heading-3">å¸¦æ¥çš„æ”¶ç›Š</h4>
<p>è¿™ç§æœºåˆ¶å°†æ³¨æ„åŠ›è®¡ç®—ï¼š</p>
<ul>
<li>ä»<strong>è¿‘ä¼¼äºŒæ¬¡å¤æ‚åº¦</strong>ï¼ˆä¸ºäº†å†™ä¸‹æ¯ä¸€ä¸ªå­—ï¼Œéƒ½è¦æŠŠæ•´æœ¬ä¹¦é‡æ–°è¯»ä¸€éï¼‰</li>
<li>è½¬å˜ä¸º<strong>çº¿æ€§å¤æ‚åº¦</strong>ï¼ˆåªéœ€è¦å†™ä¸‹ä¸‹ä¸€ä¸ªå­—ï¼‰</li>
</ul>
<h4 data-id="heading-4">ä»£ä»·ï¼šåŠ¨æ€å†…å­˜å¢é•¿</h4>
<p>æ€§èƒ½æå‡çš„ä»£ä»·æ˜¯ â€‹<strong>æ˜¾å­˜å ç”¨</strong>â€‹ã€‚</p>
<p>æ¯ç”Ÿæˆä¸€ä¸ªæ–° tokenï¼ŒKV Cache ä¸­éƒ½ä¼šè¿½åŠ æ–°çš„æ¡ç›®ã€‚è¿è¡Œæ—¶ï¼ŒKV Cache çš„ä½¿ç”¨é‡ä¼šéšç€ä»¥ä¸‹å› ç´ åŠ¨æ€å¢é•¿ï¼š</p>
<ul>
<li><strong>Prompt é•¿åº¦ä¸è¾“å‡ºé•¿åº¦</strong>å¯¹è¯è¶Šé•¿ï¼Œå ç”¨çš„ VRAM è¶Šå¤šã€‚</li>
<li>â€‹<strong>å¹¶å‘è¯·æ±‚æ•°ï¼ˆConcurrency</strong>æ¯ä¸€ä¸ªæ´»è·ƒè¯·æ±‚éƒ½éœ€è¦è‡ªå·±ç‹¬ç«‹çš„ä¸€ä»½ KV Cacheã€‚</li>
<li><strong>æ¨¡å‹è§„æ¨¡</strong>æ¨¡å‹è¶Šæ·±ï¼ˆå±‚æ•°è¶Šå¤šï¼‰ã€è¶Šå®½ï¼ˆæ³¨æ„åŠ›å¤´è¶Šå¤šï¼‰ï¼Œâ€‹<strong>æ¯ä¸ª token æ‰€éœ€çš„ç¼“å­˜å°±è¶Šå¤§</strong>â€‹ã€‚</li>
</ul>
<p>è¿™æ­£æ˜¯ä¸ºä»€ä¹ˆäººä»¬ç»å¸¸è¯´ï¼Œä½¿ç”¨<strong>åŒä¸€ä¸ªæ¨¡å‹</strong>çš„ä¸¤ä¸ªå·¥ä½œè´Ÿè½½ï¼Œå¯èƒ½å¯¹ç¡¬ä»¶çš„éœ€æ±‚å´å¤©å·®åœ°åˆ«ã€‚</p>
<p>ä¾‹å¦‚ï¼šä¸€ä¸ª <strong>70B æ¨¡å‹</strong> æœ¬èº«ä¹Ÿè®¸èƒ½æ”¾è¿›å•å¼  GPUï¼Œä½†å¦‚æœåœ¨é•¿å¯¹è¯ä¸­ KV Cache æŒç»­è†¨èƒ€ï¼ŒæœåŠ¡å™¨ä»ç„¶å¯èƒ½å› ä¸º <strong>â€‹æ˜¾å­˜â€‹è€—å°½ï¼ˆ<strong>â€‹â€‹</strong>OOMï¼‰è€Œç›´æ¥å´©æºƒ</strong>â€‹ã€‚</p>
<p>å› æ­¤ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œ<strong>ç†è§£å¹¶ç®¡ç†å†…å­˜</strong>â€‹â€‹<strong>è¡Œä¸ºæ˜¯éƒ¨ç½² LLM çš„æ ¸å¿ƒèƒ½åŠ›ä¹‹ä¸€</strong>â€‹ï¼Œè¿™ä¸€ç‚¹åœ¨æˆ‘ä»¬å“æ™®äº‘å®˜ç½‘åšå®¢ä¸­çš„ã€Š<a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.aidroplet.com%2Ftutorials%2Fbudget-llm-finetune%2F" target="_blank" title="https://blog.aidroplet.com/tutorials/budget-llm-finetune/" ref="nofollow noopener noreferrer">LLM å¾®è°ƒä¸éƒ¨ç½²æŒ‡å—</a>ã€‹ä¸­ä¹Ÿæœ‰è¯¦ç»†è¯´æ˜ã€‚</p>
<p><img src="https://dvi5wsyvaxw.feishu.cn/space/api/box/stream/download/asynccode/?code=ODFjOWUxYjU0ZGQ0ZmM4NmQxMmJhMmY2YjNmMzE2NzNfZTkyMEhUZzdMSndwSk1PTWE4ME93aDJnV1JpdDdxWDFfVG9rZW46QmlrWWJ5SUp3b1ExcXV4enhkV2NmRzdybjZmXzE3NjkxNTkzNzY6MTc2OTE2Mjk3Nl9WNA" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">èµ„æºé…ç½®åŸºç¡€ï¼šæ¨¡å‹ã€ç²¾åº¦ä¸ç¡¬ä»¶å¦‚ä½•å†³å®šé€‚é…æ€§</h3>
<p>ç†è§£ vLLM çš„è¿è¡Œæ—¶è¡Œä¸ºåï¼Œä¸‹ä¸€æ­¥æ˜¯ç¡®å®šæ¨¡å‹èƒ½å¦åœ¨ç»™å®š GPU ä¸Šè¿è¡Œï¼Œä»¥åŠå®ƒèƒ½æ”¯æŒæ€æ ·çš„å¹¶å‘çº§åˆ«æˆ–ä¸Šä¸‹æ–‡é•¿åº¦ã€‚</p>
<p>æœ¬èŠ‚å°†æä¾›æ‰€éœ€çš„æ•°å­¦å…¬å¼ä¸å†³ç­–æ ‘ï¼Œç”¨äºè®¡ç®—é™æ€å†…å­˜éœ€æ±‚ã€ä¼°ç®— KV ç¼“å­˜å¢é•¿ï¼Œå¹¶ç³»ç»Ÿæ€§åœ°æ’æŸ¥å’Œç¡®å®šé€‚é…é—®é¢˜ã€‚</p>
<h3 data-id="heading-6">GPU ç¡¬ä»¶ç‰¹æ€§ä¸çº¦æŸ</h3>
<p>åœ¨è®¡ç®—æ¨¡å‹å¤§å°ä¹‹å‰ï¼Œé¦–å…ˆå¿…é¡»ç†è§£æˆ‘ä»¬è¦æŠŠæ¨¡å‹æ”¾è¿›çš„â€œå®¹å™¨â€æ˜¯ä»€ä¹ˆã€‚ä¸åŒçš„ GPU åœ¨å¯è¡Œæ€§ä¸æ€§èƒ½ä¸Šéƒ½æœ‰å„è‡ªæ˜ç¡®çš„ç¡¬æ€§é™åˆ¶ã€‚</p>
<h4 data-id="heading-7">å¸¸è§æ•°æ®ä¸­å¿ƒ GPU çš„æ˜¾å­˜å®¹é‡</h4>
<p>ä»¥ä¸‹æ˜¯å½“å‰ä¸»æµæ¨ç† GPU çš„<strong>ç‰©ç†æ˜¾å­˜</strong>â€‹â€‹<strong>ä¸Šé™</strong>â€‹ï¼Œä¹Ÿæ˜¯æ¨¡å‹éƒ¨ç½²æ—¶ä¸å¯çªç ´çš„ç¡¬é™åˆ¶ã€‚</p>
<p>vLLM æ¨ç†ä¸è®­ç»ƒçš„ GPU å¯¹æ¯”ï¼š</p>
<p>å³ä½¿æ¨¡å‹æœ¬èº«èƒ½å¤Ÿè£…å…¥æ˜¾å­˜ï¼Œâ€‹<strong>GPUâ€‹ æ¶æ„å·®å¼‚ä»ä¼šæ˜¾è‘—å½±å“ vLLM çš„å®é™…æ€§èƒ½</strong>â€‹ã€‚éœ€è¦é‡ç‚¹å…³æ³¨ä»¥ä¸‹æŒ‡æ ‡ï¼š</p>
<h2 data-id="heading-8">æ¨¡å‹æƒé‡å ç”¨ï¼ˆé™æ€æ˜¾å­˜ï¼‰</h2>
<p>åœ¨ vLLM èƒ½å¤Ÿå¯¹å¤–æä¾›æ¨ç†æœåŠ¡ä¹‹å‰ï¼Œæ¨¡å‹å¿…é¡»å…ˆå°†å…¨éƒ¨æƒé‡åŠ è½½è¿› GPU æ˜¾å­˜ï¼ˆVRAMï¼‰ã€‚</p>
<p>æƒé‡å¤§å°å®Œå…¨å–å†³äºæ¨¡å‹çš„å‚æ•°æ•°é‡ä»¥åŠæ‰€é€‰æ‹©çš„æ•°å€¼ç²¾åº¦ã€‚</p>
<h3 data-id="heading-9">é™æ€æƒé‡è®¡ç®—å…¬å¼</h3>
<p>æ¨¡å‹æ‰€éœ€çš„æ˜¾å­˜å®¹é‡ï¼ˆGBï¼‰å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å…¬å¼è¿›è¡Œä¼°ç®—ï¼š</p>
<p><strong>â€‹æ˜¾å­˜â€‹ï¼ˆ<strong>â€‹</strong>GBï¼‰â‰ˆ å‚æ•°é‡ï¼ˆåäº¿ï¼‰ Ã— æ¯ä¸ªå‚æ•°æ‰€å å­—èŠ‚æ•°</strong></p>
<p>ä¸‹è¡¨å±•ç¤ºäº† Llama 3.1 70Bï¼ˆ700 äº¿å‚æ•°ï¼‰æ¨¡å‹åœ¨ä¸åŒé‡åŒ–ç²¾åº¦ä¸‹çš„æ˜¾å­˜å ç”¨æƒ…å†µï¼š</p>
<p>ç²¾åº¦é€‰æ‹©æ˜¯å†³å®šæ¨¡å‹æ˜¯å¦å¯éƒ¨ç½²çš„â€‹<strong>æœ€å…³é”®å› ç´ â€‹</strong>â€‹ã€‚</p>
<p>å°†ä¸€ä¸ª 70B æ¨¡å‹ä» FP16 é‡åŒ–ä¸º INT4ï¼Œå¯å°†é™æ€æ˜¾å­˜å ç”¨å‡å°‘ â€‹**75%**â€‹ï¼Œä½¿å…¶ä»â€œå•èŠ‚ç‚¹æ— æ³•è¿è¡Œâ€å˜ä¸ºâ€œå¯åœ¨å•å¼  A100 ä¸Šè¿è¡Œâ€ã€‚</p>
<p>å› æ­¤ï¼Œåœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2Fproduct%2Fgpu%2F" target="_blank" title="https://www.aidroplet.com/product/gpu/" ref="nofollow noopener noreferrer">DigitalOcean GPU æœåŠ¡å™¨</a>ç­‰äº‘ç¯å¢ƒä¸­ï¼Œé‡åŒ–æ˜¯å®ç°é«˜æ€§ä»·æ¯”éƒ¨ç½²çš„å¿…è¦æ‰‹æ®µã€‚</p>
<h2 data-id="heading-10">KV Cache éœ€æ±‚ï¼ˆåŠ¨æ€æ˜¾å­˜ï¼‰</h2>
<p>å¦‚æœè¯´æ¨¡å‹æƒé‡å†³å®šæ¨¡å‹æ˜¯å¦èƒ½å¤Ÿå¯åŠ¨ï¼Œé‚£ä¹ˆ â€‹<strong>KVâ€‹ Cache å†³å®šæ¨¡å‹æ˜¯å¦èƒ½å¤Ÿæ‰©å±•</strong>â€‹ã€‚</p>
<p>KV Cache å¾€å¾€è¢«ä¸¥é‡ä½ä¼°ï¼Œè¿™ä¹Ÿæ˜¯æ¨ç†è´Ÿè½½ä¸‹æœ€å¸¸è§çš„ OOM åŸå› ä¹‹ä¸€ã€‚</p>
<p>è¦å‡†ç¡®è¯„ä¼°éƒ¨ç½²è§„æ¨¡ï¼Œå¿…é¡»æ ¹æ®é¢„æœŸçš„ä¸Šä¸‹æ–‡é•¿åº¦ä¸å¹¶å‘è¯·æ±‚æ•°ï¼Œä¼°ç®— KV Cache çš„æ˜¾å­˜æ¶ˆè€—ã€‚</p>
<h4 data-id="heading-11"><strong>â€œç°åœºç»éªŒæ³•åˆ™â€ï¼ˆå¿«é€Ÿä¼°ç®—ï¼‰</strong></h4>
<p>åœ¨å¤§å¤šæ•°å®é™…ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œç²¾ç¡®å…¬å¼å¹¶ä¸é€‚åˆå³æ—¶è®¡ç®—ã€‚</p>
<p>å› æ­¤é€šå¸¸é‡‡ç”¨â€œ<strong>æ¯ token â€‹æ˜¾å­˜</strong>â€‹â€‹<strong>ç³»æ•°</strong>â€‹â€çš„æ–¹æ³•è¿›è¡Œä¼°ç®—ï¼Œè¯¥æ–¹å¼è¶³ä»¥æ”¯æ’‘åˆæ­¥å®¹é‡åˆ¤æ–­ã€‚</p>
<p><strong>ç®€åŒ– â€‹KV</strong>â€‹<strong>â€‹ Cache å…¬å¼ï¼š</strong></p>
<p><strong>KVâ€‹ Cache æ€»</strong>â€‹<strong>â€‹æ˜¾å­˜â€‹ï¼ˆ<strong>â€‹</strong>MBï¼‰ = Token æ€»æ•° Ã— æ˜¾å­˜ç³»æ•°</strong></p>
<p>å…¶ä¸­ï¼š<strong>Token æ€»æ•° = ä¸Šä¸‹æ–‡é•¿åº¦ Ã— å¹¶å‘è¯·æ±‚æ•°</strong></p>
<p>æ ‡å‡†æ˜¾å­˜ç³»æ•°å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š</p>
<h4 data-id="heading-12">ç¤ºä¾‹</h4>
<p>æˆ‘ä»¬å‡è®¾ï¼ŒæŸç”¨æˆ·è®¡åˆ’è¿è¡Œï¼š</p>
<ul>
<li>æ¨¡å‹ï¼šLlama 3 70B</li>
<li>ä¸Šä¸‹æ–‡é•¿åº¦ï¼š32k</li>
<li>å¹¶å‘ç”¨æˆ·æ•°ï¼š10</li>
</ul>
<p><strong>â€‹è®¡ç®— Token æ€»æ•°ï¼šâ€‹</strong>32,000 Ã— 10 = <strong>320,000 tokens</strong></p>
<p><strong>â€‹å¥—ç”¨æ ‡å‡†ç³»æ•°ï¼ˆ0.35ï¼‰ï¼šâ€‹</strong>320,000 Ã— 0.35 MB = <strong>112,000 MB â‰ˆ 112 â€‹GB</strong></p>
<p><strong>â€‹FP8 é€‰é¡¹éªŒè¯ï¼šâ€‹</strong>è‹¥å¯ç”¨ FP8 é‡åŒ–ç¼“å­˜ï¼Œæ˜¾å­˜å ç”¨å°†é™è‡³ä¸€åŠï¼šçº¦<strong>â€‹ 56 â€‹GB</strong></p>
<h5 data-id="heading-13"><strong>æœ€ç»ˆé…ç½®æ–¹æ¡ˆï¼š</strong></h5>
<ul>
<li>FP16 ç¼“å­˜æ–¹æ¡ˆï¼š112 GB KV ç¼“å­˜ + 140 GB æ¨¡å‹æƒé‡ = æ€»è®¡ 252 GBï¼ˆéœ€ 4 å— H100 GPUï¼‰</li>
<li>FP8 ç¼“å­˜æ–¹æ¡ˆï¼š56 GB KV ç¼“å­˜ + 140 GB æ¨¡å‹æƒé‡ = æ€»è®¡ 196 GB ï¼ˆå¯éƒ¨ç½²äºâ€‹<strong>3 å— H100</strong>â€‹ï¼›è‹¥æ¨¡å‹æƒé‡åŒæ­¥é‡åŒ–ï¼Œ<strong>2 å— H100</strong> äº¦å¯å‹‰å¼ºå®¹çº³ï¼‰</li>
</ul>
<p><strong>ç²¾ç¡®è®¡ç®—å·¥å…·ä¸å…¬å¼</strong></p>
<p>é’ˆå¯¹è¾¹ç•Œåœºæ™¯æˆ–æ·±åº¦éªŒè¯ï¼Œè¯·ä½¿ç”¨ä¸“ä¸šå…¬å¼æˆ–åœ¨çº¿è®¡ç®—å™¨ï¼š</p>
<ul>
<li>åœ¨çº¿å·¥å…·ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Flmcache.org%2Fkv-calculator" target="_blank" title="https://lmcache.org/kv-calculator" ref="nofollow noopener noreferrer">LMCache KV Calculator</a></li>
<li>æ ‡å‡†å…¬å¼ï¼š</li>
</ul>
<pre><code class="hljs language-Markdown" lang="Markdown">æ€»KVç¼“å­˜ (GB) = (2 Ã— æ¨¡å‹å±‚æ•° Ã— æ¨¡å‹ç»´åº¦ Ã— åºåˆ—é•¿åº¦ Ã— æ‰¹å¤§å° Ã— ç²¾åº¦å­—èŠ‚æ•°) / 1024Â³
</code></pre>
<h2 data-id="heading-14">ä½•æ—¶éœ€è¦ä½¿ç”¨ Tensor Parallelismï¼ˆå¼ é‡å¹¶è¡Œï¼‰</h2>
<p>Tensor Parallelismï¼ˆTPï¼‰æ˜¯ä¸€ç§å°†æ¨¡å‹æƒé‡çŸ©é˜µæ‹†åˆ†åˆ°å¤šå¼  GPU ä¸Šçš„æŠ€æœ¯ã€‚</p>
<p>å®ƒå¯ä»¥è®© vLLM å°†å¤šå¼  GPU è§†ä¸ºä¸€å¼ â€œé€»è¾‘å¤§å¡â€ï¼Œå…±äº«æ˜¾å­˜èµ„æºã€‚</p>
<p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¼ é‡å¹¶è¡Œï¼Ÿå¼ é‡å¹¶è¡Œçš„ä¸»è¦ç›®æ ‡æ˜¯â€‹<strong>å¯è¡Œæ€§ï¼Œè€Œéæ€§èƒ½ä¼˜åŒ–</strong>â€‹ã€‚</p>
<p>é€šå¸¸åœ¨ä»¥ä¸‹åœºæ™¯ä¸­å¯ç”¨ï¼š</p>
<p>1ã€æ¨¡å‹æƒé‡è¶…é™ï¼šæ¨¡å‹ä½“é‡è¶…è¿‡å•å¡ç‰©ç†æ‰¿è½½æé™ï¼ˆä¾‹å¦‚ï¼š24GB æ˜¾å­˜çš„ GPU æ— æ³•åŠ è½½ Llama 3 70B æ¨¡å‹ï¼‰</p>
<p>2ã€KV ç¼“å­˜ç©ºé—´è€—å°½ï¼šæ¨¡å‹æƒé‡è™½å¯åŠ è½½ï¼Œä½†æœªé¢„ç•™ä»»ä½• KV ç¼“å­˜ç©ºé—´ï¼Œå¯¼è‡´æ— æ³•å¤„ç†é•¿ä¸Šä¸‹æ–‡æˆ–é«˜å¹¶å‘è¯·æ±‚</p>
<p>è™½ç„¶å¼ é‡å¹¶è¡Œï¼ˆTPï¼‰èƒ½æå¤§é‡Šæ”¾æ˜¾å­˜ï¼Œä½†å®ƒä¹Ÿå¼•å…¥äº†é€šä¿¡å¼€é”€ã€‚åœ¨æ¯ä¸€å±‚è®¡ç®—å®Œæˆåï¼Œæ‰€æœ‰ GPU å¿…é¡»åŒæ­¥å®ƒä»¬çš„éƒ¨åˆ†è®¡ç®—ç»“æœã€‚</p>
<ul>
<li>å• GPU é€‚é…æƒ…å†µï¼šå¦‚æœä¸€ä¸ªæ¨¡å‹èƒ½åœ¨å•å¼  GPU ä¸Šè¿è¡Œï¼Œé‚£ä¹ˆä½¿ç”¨å• GPU å‡ ä¹æ€»æ˜¯æ¯”ä½¿ç”¨åŒ GPU æ›´å¿«ï¼Œå› ä¸ºå®ƒå®Œå…¨é¿å…äº†é€šä¿¡å¼€é”€ã€‚</li>
<li>äº’è”ä¾èµ–ï¼šTP çš„æ€§èƒ½é«˜åº¦ä¾èµ–äºé«˜é€Ÿçš„ GPU é—´é€šä¿¡å¸¦å®½ã€‚å¦‚æœåœ¨æ²¡æœ‰ NVLink çš„æ˜¾å¡ä¸Šä½¿ç”¨ TPï¼ˆä¾‹å¦‚ä»…é€šè¿‡æ ‡å‡† PCIe è¿æ¥ï¼‰ï¼Œç”±äºåŒæ­¥å»¶è¿Ÿï¼Œæ¨ç†é€Ÿåº¦å¯èƒ½ä¼šæ˜¾è‘—ä¸‹é™ã€‚</li>
</ul>
<p>è‹¥éœ€éƒ¨ç½²å¤š GPU ç¯å¢ƒï¼Œå¯è€ƒè™‘ä½¿ç”¨ DigitalOcean Kubernetes æ¥ç¼–æ’ vLLM æœåŠ¡ã€‚</p>
<h3 data-id="heading-15"><strong>æ•°å€¼å®æµ‹ï¼šèµ„æºé…ç½®åœºæ™¯åˆ†æ</strong></h3>
<p>åœ¨è¿›å…¥é«˜çº§é…ç½®å‰ï¼Œè®©æˆ‘ä»¬å°†å‰å‡ èŠ‚çš„æ•°å­¦è®¡ç®—åº”ç”¨åˆ°å®é™…åœºæ™¯ä¸­ã€‚è¿™æœ‰åŠ©äºéªŒè¯æˆ‘ä»¬å¯¹â€œé€‚é…æ€§â€çš„ç†è§£ï¼Œå¹¶æ­ç¤ºçº¯è®¡ç®—ä¸­å¸¸è¢«å¿½ç•¥çš„å®é™…çº¦æŸã€‚</p>
<p><strong>éšè—çš„æ˜¾å­˜å¼€é”€</strong></p>
<p>ä¸€ä¸ªå¸¸è§çš„é”™è¯¯æ˜¯è®¡ç®— ` æƒé‡ + ç¼“å­˜ = æ€»æ˜¾å­˜éœ€æ±‚`ï¼Œå¹¶å‡è®¾å¯ä»¥è¾¾åˆ° 100% çš„åˆ©ç”¨ç‡ã€‚å®é™…æƒ…å†µå¹¶éå¦‚æ­¤ã€‚</p>
<ul>
<li>â€‹<strong>CUDAä¸Šä¸‹æ–‡ä¸è¿è¡Œæ—¶å¼€é”€</strong>â€‹ï¼šGPU é©±åŠ¨ã€PyTorch å’Œ vLLM è¿è¡Œæ—¶æœ¬èº«å°±éœ€è¦é¢„ç•™å†…å­˜æ¥åˆå§‹åŒ–ï¼ˆé€šå¸¸ä¸º 2-4 GBï¼‰ã€‚</li>
<li>â€‹<strong>æ¿€æ´»ç¼“å†²åŒº</strong>â€‹ï¼šå‰å‘ä¼ æ’­è¿‡ç¨‹ä¸­ç”¨äºå­˜å‚¨ä¸­é—´è®¡ç®—ç»“æœçš„ä¸´æ—¶ç©ºé—´ã€‚</li>
<li>â€‹<strong>å®‰å…¨é…ç½®åŸåˆ™</strong>â€‹ï¼šåŠ¡å¿…é¢„ç•™<strong>çº¦ 4-5 â€‹GB</strong>â€‹<strong>çš„æ˜¾å­˜</strong>ä½œä¸ºâ€œä¸å¯ç”¨â€çš„ç³»ç»Ÿå¼€é”€ã€‚å¦‚æœä½ çš„è®¡ç®—ç»“æœæ˜¾ç¤ºä»…å‰© 0.5 GB å¯ç”¨ï¼ŒæœåŠ¡å™¨å¾ˆå¯èƒ½ä¼šå´©æºƒã€‚</li>
</ul>
<p><strong>åœºæ™¯ Aï¼šè½»æ¾é€‚é…ï¼ˆæ ‡å‡†èŠå¤©ï¼‰</strong></p>
<ul>
<li>â€‹<strong>ç¡¬ä»¶</strong>â€‹ï¼š1x NVIDIA L40Sï¼ˆ48 GB æ˜¾å­˜ï¼‰</li>
<li>â€‹<strong>æ¨¡å‹</strong>â€‹ï¼šLlama 3 8Bï¼ˆFP16 ç²¾åº¦ï¼‰</li>
<li>â€‹<strong>è®¡ç®—</strong>â€‹ï¼š
<ul>
<li>æƒé‡ï¼š80 äº¿å‚æ•° x 2 å­—èŠ‚ = <strong>16 â€‹GB</strong></li>
<li>ç³»ç»Ÿå¼€é”€ï¼š<strong>-4 â€‹GB</strong></li>
<li>å¯ä¾›ç¼“å­˜çš„å‰©ä½™æ˜¾å­˜ï¼š48 - 16 - 4 = <strong>28 â€‹GB</strong></li>
<li>ç¼“å­˜å®¹é‡ä¼°ç®—ï¼š28,000 MB / 0.15 MB æ¯ Token = <strong>çº¦ 186,000Token</strong></li>
</ul>
</li>
</ul>
<p>â€‹<strong>ç»“è®º</strong>â€‹ï¼š<strong>â€‹é€‚é…æä½³ã€‚â€‹</strong>æ­¤é…ç½®å¯åº”å¯¹å¤§è§„æ¨¡è´Ÿè½½ï¼ˆä¾‹å¦‚ï¼Œ60 ä¸ªå¹¶å‘ç”¨æˆ·ï¼Œæ¯äºº 3k ä¸Šä¸‹æ–‡ï¼‰ã€‚</p>
<p>â€‹<strong>ç»“æœ</strong>â€‹ï¼šé«˜ååé‡ï¼Œä½æˆæœ¬ã€‚</p>
<p><img src="https://dvi5wsyvaxw.feishu.cn/space/api/box/stream/download/asynccode/?code=NjJjNGMzZmFhODM3MjdjOWQ2ZDIzNmUyYjk0MmE3MjBfRzhWUzdRUWdvMzJ1T2pSeXJFN2lOMFFRd20xSVl1SFZfVG9rZW46UWlwZWIwYm5hb0owQWt4aDRpcWN0c05ybk9nXzE3NjkxNTkzNzY6MTc2OTE2Mjk3Nl9WNA" alt="" loading="lazy"/></p>
<p>â€‹<strong>åœºæ™¯ Bï¼šâ€œæƒé‡è¶…æ ‡â€ï¼ˆå¤§æ¨¡å‹</strong>â€‹â€‹**ï¼Œå•GPU<strong>â€‹</strong>ï¼‰**</p>
<ul>
<li>â€‹<strong>ç¡¬ä»¶</strong>â€‹ï¼š1x NVIDIA H100ï¼ˆ80 GB æ˜¾å­˜ï¼‰</li>
<li>â€‹<strong>æ¨¡å‹</strong>â€‹ï¼šLlama 3 70Bï¼ˆFP16 ç²¾åº¦ï¼‰</li>
<li>â€‹<strong>è®¡ç®—</strong>â€‹ï¼š</li>
</ul>
<p>æƒé‡ï¼š700 äº¿å‚æ•° x 2 å­—èŠ‚ = <strong>140 â€‹GB</strong></p>
<p>â€‹<strong>ç»“è®º</strong>â€‹ï¼š<strong>â€‹å®Œå…¨æ— æ³•é€‚é…ã€‚â€‹</strong>æ¨¡å‹æƒé‡ï¼ˆ140 GBï¼‰å·²è¶…è¿‡ GPU ç‰©ç†å®¹é‡ï¼ˆ80 GBï¼‰ã€‚</p>
<p><strong>â€‹è¦æƒ³è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œâ€‹</strong>å¿…é¡»ä½¿ç”¨â€‹<strong>å¼ é‡å¹¶è¡Œ</strong>â€‹â€‹**ï¼ˆ2x â€‹GPU<strong>â€‹</strong>ï¼‰** æˆ–<strong>é‡åŒ–</strong>æŠ€æœ¯ï¼ˆè§ç¬¬ 3 èŠ‚ï¼‰ã€‚</p>
<p><img src="https://dvi5wsyvaxw.feishu.cn/space/api/box/stream/download/asynccode/?code=YTBiMDBkNmIyZGJhZDc4MGU1ODhmYzA3ZjIyNzQwODZfaDg0djlaZnNZcnlUdDU2Z1VscHBKWjQxa3FEaVlaVFlfVG9rZW46WVZqaGJBalVWb2dETTN4VHRYa2NqY2l3bktaXzE3NjkxNTkzNzY6MTc2OTE2Mjk3Nl9WNA" alt="" loading="lazy"/></p>
<p><strong>åœºæ™¯ Cï¼šâ€œç¼“å­˜é™·é˜±â€ï¼ˆæ¨¡å‹èƒ½åŠ è½½ï¼Œä½†æ— æ³•è¿è¡Œï¼‰</strong></p>
<ul>
<li>â€‹<strong>ç¡¬ä»¶</strong>â€‹ï¼š1x NVIDIA H100ï¼ˆ80 GB æ˜¾å­˜ï¼‰</li>
<li>â€‹<strong>æ¨¡å‹</strong>â€‹ï¼šLlama 3 70Bï¼ˆFP8 é‡åŒ–ç²¾åº¦ï¼‰</li>
<li>â€‹<strong>è®¡ç®—</strong>â€‹ï¼š
<ul>
<li>æƒé‡ï¼š700 äº¿å‚æ•° x 1 å­—èŠ‚ = <strong>70 â€‹GB</strong></li>
<li>ç³»ç»Ÿå¼€é”€ï¼š<strong>-4 â€‹GB</strong></li>
<li>å¯ä¾›ç¼“å­˜çš„å‰©ä½™æ˜¾å­˜ï¼š80 - 70 - 4 = <strong>6 â€‹GB</strong></li>
<li>ç¼“å­˜å®¹é‡ä¼°ç®—ï¼š6,000 MB / 0.175 MB æ¯ Token (FP8) = <strong>æ€»è®¡çº¦ 34,000Token</strong></li>
</ul>
</li>
</ul>
<p>â€‹<strong>ç»“è®º</strong>â€‹ï¼š<strong>â€‹æœ‰é£é™© / é€‚é…æ€§å·®ã€‚â€‹</strong>æ¨¡å‹å¯ä»¥åŠ è½½ï¼Œä½†å‡ ä¹æ²¡æœ‰å¯ç”¨çš„å·¥ä½œç©ºé—´ã€‚</p>
<p>å¦‚æœç°åœ¨æœ‰ 10 ä¸ªå¹¶å‘ç”¨æˆ·ï¼Œæ¯äººä»…èƒ½åˆ†é…åˆ°çº¦ 3.4k ä¸Šä¸‹æ–‡ã€‚ä¸€æ—¦æœ‰ç”¨æˆ·ç²˜è´´é•¿æ–‡æ¡£ï¼ˆ4k Tokenï¼‰ï¼Œç³»ç»Ÿå°±ä¼šå› æ˜¾å­˜ä¸è¶³è€Œå´©æºƒã€‚</p>
<p><strong>è¿™ä¸ªåœºæ™¯ç»™æˆ‘ä»¬ä¸€ä¸ªå¯å‘ï¼Œå³æƒé‡èƒ½æ”¾ä¸‹ï¼Œä¸ä»£è¡¨å·¥ä½œè´Ÿè½½èƒ½è¿è¡Œã€‚</strong> æ­¤åœºæ™¯é€šå¸¸éœ€è¦å¢åŠ  GPU æˆ–é€‰æ‹©æ›´å°çš„æ¨¡å‹ã€‚</p>
<p><img src="https://dvi5wsyvaxw.feishu.cn/space/api/box/stream/download/asynccode/?code=NDFkNWI0YWU3NGI5NmEyMzVhNTczMGJlZmRiNTE3MmJfUjY3Qklab2dlU1NBb3lqWEFYRXlzdG85RUZ1ZWhTMnpfVG9rZW46WlFNOGJnS0Z2b1F0N1R4VXRETmNMTndKbm9kXzE3NjkxNTkzNzY6MTc2OTE2Mjk3Nl9WNA" alt="" loading="lazy"/></p>
<p><strong>åœºæ™¯ Dï¼šè§£å†³æ–¹æ¡ˆï¼ˆå¼ é‡</strong>â€‹<strong>å¹¶è¡Œï¼‰</strong></p>
<p>è®©æˆ‘ä»¬é€šè¿‡å¢åŠ ç¬¬äºŒå¼  GPU æ¥è§£å†³åœºæ™¯ C ä¸­çš„â€œç¼“å­˜é™·é˜±â€ã€‚è¿™å±•ç¤ºäº†å¼ é‡å¹¶è¡Œï¼ˆTPï¼‰å¦‚ä½•æ•´åˆå†…å­˜èµ„æºã€‚</p>
<ul>
<li>â€‹<strong>ç¡¬ä»¶</strong>â€‹ï¼š2x NVIDIA H100ï¼ˆæ¯å¼  80 GB æ˜¾å­˜ = æ€»è®¡ 160 GB å¯ç”¨ï¼‰</li>
<li>â€‹<strong>æ¨¡å‹</strong>â€‹ï¼šLlama 3 70Bï¼ˆFP8 é‡åŒ–ç²¾åº¦ï¼‰</li>
<li>â€‹<strong>è®¡ç®—</strong>â€‹ï¼š
<ul>
<li>æ€»å¯ç”¨æ˜¾å­˜ï¼š<strong>160 â€‹GB</strong></li>
<li>æƒé‡ï¼šâ€‹**-70 â€‹GB**â€‹ï¼ˆåˆ†æ‘Šåˆ°ä¸¤å¼  GPU ä¸Šï¼‰</li>
<li>ç³»ç»Ÿå¼€é”€ï¼šâ€‹**-8 â€‹GB**â€‹ï¼ˆæ¯å¼  GPU çº¦ 4 GBï¼‰</li>
<li>å¯ä¾›ç¼“å­˜çš„å‰©ä½™æ˜¾å­˜ï¼š160 - 70 - 8 = <strong>82 â€‹GB</strong></li>
<li>ç¼“å­˜å®¹é‡ä¼°ç®—ï¼š82,000 MB / 0.175 MB æ¯ Token (FP8) = <strong>æ€»è®¡çº¦ 468,000Token</strong></li>
</ul>
</li>
</ul>
<p>â€‹<strong>ç»“è®º</strong>â€‹ï¼š<strong>â€‹å¯ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚â€‹</strong>é€šè¿‡å¢åŠ ç¬¬äºŒå¼  GPUï¼Œæˆ‘ä»¬ä»â€œä»…æœ‰é£é™©æ€§çš„ 6 GBâ€ç¼“å­˜ç©ºé—´ï¼Œæå‡åˆ°äº†â€œå……è£•çš„ 82 GBâ€ã€‚</p>
<p>å¯¹äº 10 ä¸ªå¹¶å‘ç”¨æˆ·æƒ…å†µï¼Œç°åœ¨æ¯äººå¯è·å¾—çº¦â€‹<strong>46k ä¸Šä¸‹æ–‡</strong>â€‹ã€‚æ˜¾å­˜ä¸è¶³çš„é£é™©å·²æ¶ˆé™¤ï¼Œè¯¥éƒ¨ç½²å¯ä»¥è½»æ¾åº”å¯¹ RAG æˆ–é•¿æ–‡æ¡£å¤„ç†ã€‚</p>
<p><img src="https://dvi5wsyvaxw.feishu.cn/space/api/box/stream/download/asynccode/?code=ZThkMzQzNGE3YTQ3ZDdiMzEyNGVmMWQzMjhjODlhMWJfTUc1aUx5RVo4b2tFN2NVejljcThEVTlnTmdCTGdpd3lfVG9rZW46VUV1QmJ2blM5b3B6Sm94a21RUGN3d3Z2bkRoXzE3NjkxNTkzNzY6MTc2OTE2Mjk3Nl9WNA" alt="" loading="lazy"/></p>
<h3 data-id="heading-16">é‡åŒ–ï¼šâ€œå‹ç¼©â€æ¨¡å‹çš„è‰ºæœ¯</h3>
<p>æ­£å¦‚å‰æ–‡èµ„æºé…ç½®åœºæ™¯æ‰€ç¤ºï¼ŒVRAM æ˜¯ LLM æ¨ç†çš„ä¸»è¦ç“¶é¢ˆã€‚é‡åŒ–æ˜¯ä¸€ç§é€šè¿‡é™ä½æ•°å­—è¡¨ç¤ºç²¾åº¦çš„æŠ€æœ¯ï¼Œç”¨å¾®å°çš„ç²¾åº¦æŸå¤±æ¢å–å†…å­˜æ•ˆç‡å’Œé€Ÿåº¦çš„å¤§å¹…æå‡ã€‚</p>
<p>å…³é”®åœ¨äºåŒºåˆ† vLLM ä¸­ä½¿ç”¨çš„ä¸¤ç§é‡åŒ–ç±»å‹ï¼Œå› ä¸ºå®ƒä»¬é’ˆå¯¹ä¸åŒçš„çº¦æŸæ¡ä»¶ã€‚</p>
<p><strong>ç±»å‹ä¸€ï¼šæ¨¡å‹æƒé‡é‡åŒ–ï¼ˆ"é™æ€"ä¼˜åŒ–æ–¹æ¡ˆï¼‰</strong></p>
<p>è¿™æ¶‰åŠåœ¨åŠ è½½é¢„è®­ç»ƒæ¨¡å‹ä¹‹å‰ï¼Œå¯¹å…¶åºå¤§ã€é™æ€çš„æƒé‡çŸ©é˜µè¿›è¡Œå‹ç¼©ã€‚</p>
<ul>
<li>â€‹<strong>ç›®çš„</strong>â€‹ï¼šä½¿æ¨¡å‹èƒ½å¤Ÿé€‚é…åˆ°å…¶å…¨ç²¾åº¦æƒé‡åŸæœ¬ä¼šè¶…è¿‡ VRAM å®¹é‡çš„ GPU ä¸Šã€‚</li>
<li>â€‹<strong>vLLM å®ç°æ–¹å¼</strong>â€‹ï¼šè™½ç„¶ vLLM å¯ä»¥åœ¨å¯åŠ¨æ—¶åŠ¨æ€é‡åŒ–æƒé‡ï¼Œä½†é€šå¸¸æ›´é«˜æ•ˆçš„åšæ³•æ˜¯ç›´æ¥åŠ è½½å·²ç»ä½¿ç”¨ AWQï¼ˆæ¿€æ´»æ„ŸçŸ¥æƒé‡é‡åŒ–ï¼‰æˆ– GPTQ ç­‰é«˜æ€§èƒ½å†…æ ¸é¢„é‡åŒ–å¥½çš„æ¨¡å‹ã€‚è¿™äº›ä¸“ç”¨æ ¼å¼ç›¸æ¯”é€šç”¨çš„å³æ—¶è½¬æ¢ï¼Œèƒ½æä¾›æ›´å¥½çš„ç²¾åº¦ä¿æŒå’Œæ›´å¿«çš„è§£ç é€Ÿåº¦ã€‚</li>
<li>â€‹<strong>å½±å“</strong>â€‹ï¼šå°†é™æ€ VRAM å ç”¨å‡å°‘ 50%ï¼ˆFP8/INT8ï¼‰è‡³ 75%ï¼ˆINT4/AWQï¼‰ï¼Œä»è€Œæ˜¾è‘—å¢åŠ ç”¨äº KV ç¼“å­˜çš„å‰©ä½™ VRAMã€‚</li>
</ul>
<p><strong>ç±»å‹äºŒï¼šKV</strong>â€‹<strong>ç¼“å­˜é‡åŒ–ï¼ˆ"åŠ¨æ€"ä¼˜åŒ–æ–¹æ¡ˆï¼‰</strong></p>
<p>è¿™æ¶‰åŠåœ¨åºåˆ—ç”Ÿæˆè¿‡ç¨‹ä¸­ï¼Œå¯¹å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ä¸­é—´é”®ï¼ˆKeyï¼‰å’Œå€¼ï¼ˆValueï¼‰çŠ¶æ€è¿›è¡Œå‹ç¼©ã€‚</p>
<ul>
<li>â€‹<strong>ç›®çš„</strong>â€‹ï¼šä½¿æ¨¡å‹èƒ½å¤Ÿæ‰©å±•ä»¥æ”¯æŒæ›´é«˜çš„å¹¶å‘æ‰¹å¤„ç†é‡æˆ–æ›´é•¿çš„ä¸Šä¸‹æ–‡çª—å£ã€‚</li>
<li>â€‹<strong>vLLM å®ç°æ–¹å¼</strong>â€‹ï¼šé€šè¿‡è¿è¡Œæ—¶å‚æ•° (--kv-cache-dtype) æ§åˆ¶ã€‚</li>
<li>â€‹<strong>å»ºè®®</strong>â€‹ï¼šå¯¹äºæ”¯æŒ FP8 å¼ é‡æ ¸å¿ƒçš„ç°ä»£ç¡¬ä»¶ï¼ˆå¦‚ NVIDIA H100, L40S, AMD MI300Xï¼Œåœ¨ DigitalOcean äº‘å¹³å°ä¸Šä½ å¯ä»¥æ‰¾åˆ°è¿™äº› GPU æœåŠ¡å™¨ï¼Œè€Œä¸”ä»·æ ¼ä½äº AWSã€è°·æ­Œäº‘ GCPï¼Œè¯¦æƒ…å¯å’¨è¯¢ DigitalOcean ä¸­å›½åŒºç‹¬å®¶æˆ˜ç•¥åˆä½œä¼™ä¼´<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2Fproduct%2Fgpu%2F" target="_blank" title="https://www.aidroplet.com/product/gpu/" ref="nofollow noopener noreferrer">å“æ™®äº‘ AI Droplet</a>ã€‚ï¼‰ï¼Œ<strong>å¼ºçƒˆå»ºè®®å¯ç”¨ FP8 â€‹KV</strong>â€‹â€‹<strong>ç¼“å­˜</strong>â€‹ã€‚å®ƒèƒ½ä»¥å¯¹æ¨¡å‹è´¨é‡å‡ ä¹å¯å¿½ç•¥çš„å½±å“ï¼Œå°†å¯ç”¨ä¸Šä¸‹æ–‡å®¹é‡ç¿»å€ã€‚</li>
<li>â€‹<strong>å½±å“</strong>â€‹ï¼šå°†ç¬¬ 2 èŠ‚ä¸­è®¨è®ºçš„æ¯ä¸ª token çš„å†…å­˜éœ€æ±‚å‡åŠï¼ˆä¾‹å¦‚ï¼Œå°† 70B æ¨¡å‹çš„ä¹˜æ•°ä»çº¦ 0.35 MB/token é™è‡³çº¦ 0.175 MB/tokenï¼‰ã€‚</li>
</ul>
<p><strong>vLLM â€‹GPU</strong>â€‹<strong>ç²¾åº¦æ ¼å¼</strong></p>
<p>å¹¶éæ‰€æœ‰é‡åŒ–æ ¼å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚é€‰æ‹©å–å†³äºå¯ç”¨çš„ç¡¬ä»¶æ¶æ„ä»¥åŠæ¨¡å‹å¤§å°ä¸ç²¾åº¦ä¹‹é—´çš„æœŸæœ›å¹³è¡¡ã€‚</p>








































<table><thead><tr><th>ç²¾åº¦ / æ ¼å¼</th><th>æ¯ä¸ªå‚æ•°å ç”¨å­—èŠ‚æ•°</th><th>ç²¾åº¦å½±å“</th><th>æœ€ä½³ç¡¬ä»¶æ”¯æŒ</th><th>æ¨èä½¿ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>FP16â€‹ / BF16 (åŸºå‡†)</strong></td><td>2</td><td>æ— ï¼ˆå‚è€ƒæ ‡å‡†ï¼‰</td><td>æ‰€æœ‰ç°ä»£ GPU</td><td>â€‹<strong>é»„é‡‘æ ‡å‡†</strong>â€‹ã€‚åœ¨ VRAM å®¹é‡å…è®¸æ—¶ä¼˜å…ˆä½¿ç”¨ã€‚</td></tr><tr><td>â€‹<strong>FP8 (8 ä½æµ®ç‚¹æ•°</strong>â€‹**)**</td><td>1</td><td>å¯å¿½ç•¥</td><td>H100, H200, L40S, MI300X</td><td>â€‹<strong>ç°ä»£é»˜è®¤é€‰æ‹©</strong>â€‹ã€‚åœ¨æ–°ç¡¬ä»¶ä¸Šé€Ÿåº¦ä¸è´¨é‡çš„æœ€ä½³å¹³è¡¡ã€‚KV ç¼“å­˜ç†æƒ³é€‰æ‹©ã€‚</td></tr><tr><td><strong>AWQ / GPTQ (INT4 å˜ä½“)</strong></td><td>~0.5</td><td>ä½/ä¸­</td><td>A100, L40S, æ¶ˆè´¹çº§æ˜¾å¡</td><td>â€‹**â€œæè‡´å‹ç¼©â€é€‰é¡¹**â€‹ã€‚åœ¨è¾ƒæ—§æˆ–è¾ƒå° GPU ä¸Šè¿è¡Œå¤§æ¨¡å‹çš„å¿…å¤‡æŠ€æœ¯ã€‚è§£ç é€Ÿåº¦ä¼˜å¼‚ã€‚</td></tr><tr><td><strong>é€šç”¨ INT8</strong></td><td>1</td><td>ä¸­</td><td>æ—§æ¬¾ GPU (V100, T4)</td><td>â€‹<strong>ä¼ ç»Ÿæ–¹æ¡ˆ</strong>â€‹ã€‚åœ¨æ–°ç¡¬ä»¶ä¸Šé€šå¸¸è¢« FP8 å–ä»£ï¼Œæˆ–åœ¨è¿½æ±‚æé™å‹ç¼©æ—¶è¢« AWQ å–ä»£ã€‚</td></tr></tbody></table>
<p><img src="https://dvi5wsyvaxw.feishu.cn/space/api/box/stream/download/asynccode/?code=YWJhZjM4ODk3ODAzMmY1MzE0OTA4MDJkNDA1ZjE3NGZfWnF3bVFhdU5SZjFmZ1JEekRveUQzVDRyMEY5THdRZ3NfVG9rZW46VHlma2Jycnhkb3ZlR0l4QjNuRGNnMHBoblBkXzE3NjkxNTkzNzY6MTc2OTE2Mjk3Nl9WNA" alt="" loading="lazy"/></p>
<p><strong>ç­–ç•¥æ€§åº”ç”¨ä¸æƒè¡¡</strong></p>
<p>å†³å®šä½•æ—¶åº”ç”¨é‡åŒ–éœ€è¦åœ¨å®é™…çº¦æŸä¸å·¥ä½œè´Ÿè½½æ•æ„Ÿæ€§ä¹‹é—´å–å¾—å¹³è¡¡ã€‚é‡åŒ–è™½å¼ºå¤§ï¼Œä½†æ¶‰åŠåœ¨éƒ¨ç½²è§„åˆ’æ—¶å¿…é¡»è€ƒè™‘çš„æ ¹æœ¬æ€§æƒè¡¡ã€‚</p>
<p><strong>å…³é”®è€ƒé‡å› ç´ ï¼šç²¾åº¦ä¸ç¡¬ä»¶</strong></p>
<p>åœ¨ç¡®å®šå…·ä½“åœºæ™¯å‰ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹ä¸¤ä¸ªåŸºç¡€çº¦æŸï¼š</p>
<ol>
<li>â€‹<strong>ç²¾åº¦ vs. å‹ç¼©ç‡</strong>â€‹ï¼šæ¿€è¿›çš„é‡åŒ–ï¼ˆå¦‚ INT4ï¼‰å¯èƒ½ä¼šé™ä½åœ¨æ¶‰åŠå¤æ‚æ¨ç†æˆ–ä»£ç ç”Ÿæˆçš„æ•æ„Ÿä»»åŠ¡ä¸Šçš„æ€§èƒ½ã€‚å¯¹äºå¤§å¤šæ•°èŠå¤©å’Œ RAG ç”¨ä¾‹ï¼ŒFP8 é€šå¸¸è¢«è®¤ä¸ºæ˜¯å®‰å…¨çš„ã€‚</li>
<li>â€‹<strong>ç¡¬ä»¶å…¼å®¹æ€§</strong>â€‹ï¼šæ‰€é€‰æ ¼å¼å¿…é¡»ä¸ç¡¬ä»¶èƒ½åŠ›åŒ¹é…ã€‚ä¾‹å¦‚ï¼ŒFP8 é‡åŒ–éœ€è¦é…å¤‡ FP8 å¼ é‡æ ¸å¿ƒçš„ GPUï¼ˆNVIDIA Ada/Hopper æˆ– AMD CDNA3 æ¶æ„ï¼‰æ‰èƒ½å®ç°æ€§èƒ½æå‡ã€‚</li>
</ol>
<p><strong>ä½•æ—¶åº”æ¨èä½¿ç”¨é‡åŒ–</strong></p>
<p>åŸºäºä¸Šè¿°æƒè¡¡ï¼Œé‡åŒ–é€‚ç”¨äºå¹¿æ³›çš„ç°å®åœºæ™¯ï¼Œå¹¶ä¸”åœ¨ä¼ä¸šç¯å¢ƒä¸­ç»å¸¸æ˜¯é»˜è®¤é€‰æ‹©ï¼š</p>
<ul>
<li><strong>æ— æ³•ä»¥FP16</strong>â€‹â€‹<strong>æ ¼å¼è¿è¡Œçš„å¤§æ¨¡å‹</strong>â€‹ï¼šå¯¹äº 70B çº§åˆ«çš„å¤§æ¨¡å‹ï¼Œè¦åœ¨å•å¼  48GB æˆ– 80GB GPU ä¸Šéƒ¨ç½²ï¼ŒINT4/INT8 é€šå¸¸æ˜¯å”¯ä¸€é€”å¾„ã€‚</li>
<li>â€‹<strong>é«˜å¹¶å‘å·¥ä½œè´Ÿè½½</strong>â€‹ï¼šå‡å°‘çš„ VRAM å ç”¨ä¸º KV ç¼“å­˜é‡Šæ”¾äº†å¤§é‡ç©ºé—´ï¼Œä»è€Œæ”¯æŒæ›´å¤šæ´»è·ƒåºåˆ—å’Œæ›´é•¿çš„æç¤ºè¯ã€‚</li>
<li>â€‹<strong>RAG å’Œä¼ä¸šèŠå¤©åº”ç”¨</strong>â€‹ï¼šè¿™äº›å·¥ä½œè´Ÿè½½é€šå¸¸èƒ½å¾ˆå¥½åœ°å®¹å¿å¾®å°çš„ç²¾åº¦åå·®ï¼Œè€Œä¸ä¼šå½±å“æœ€ç»ˆç”¨æˆ·ä½“éªŒã€‚</li>
<li>â€‹<strong>æˆæœ¬ä¼˜åŒ–</strong>â€‹ï¼šé‡åŒ–ä½¿å¾—å·¥ä½œè´Ÿè½½å¯ä»¥åœ¨æ›´å°ã€æ›´ä¾¿å®œçš„ GPU å‹å·ä¸Šè¿è¡Œï¼ŒåŒæ—¶ä¿æŒå¯æ¥å—çš„æ€§èƒ½ã€‚è¿™åœ¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2Fproduct%2Fgpu%2F" target="_blank" title="https://www.aidroplet.com/product/gpu/" ref="nofollow noopener noreferrer">DigitalOcean GPU Droplets</a> ä¸Šéƒ¨ç½²æ—¶ä¹Ÿå¾ˆæœ‰ä»·å€¼ï¼Œå› ä¸ºæ‚¨å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚æ¥å¹³è¡¡æ€§èƒ½ä¸æˆæœ¬ã€‚</li>
</ul>
<p><strong>ä½•æ—¶åº”é¿å…ä½¿ç”¨é‡åŒ–</strong></p>
<p>é‡åŒ–å¹¶éæ™®éé€‚ç”¨ã€‚æœ‰äº›å·¥ä½œè´Ÿè½½å¯¹ç²¾åº¦æŸå¤±é«˜åº¦æ•æ„Ÿï¼Œåº”å°½å¯èƒ½ä¿æŒåœ¨ FP16/BF16 ç²¾åº¦ï¼š</p>
<ul>
<li>â€‹<strong>ä»£ç ç”Ÿæˆä¸è°ƒè¯•</strong>â€‹ï¼šè¾ƒä½çš„ç²¾åº¦å¯èƒ½ä¼šå‰Šå¼±ç»“æ„åŒ–æ¨ç†èƒ½åŠ›ï¼Œå¯¼è‡´ç»†å¾®çš„è¯­æ³•é”™è¯¯æˆ–é€»è¾‘ç¼ºé™·ã€‚</li>
<li>â€‹<strong>æ•°å­¦ã€é‡‘èå’Œç§‘å­¦æŸ¥è¯¢</strong>â€‹ï¼šéœ€è¦ç²¾ç¡®è®¡ç®—çš„ä»»åŠ¡æ˜¾è‘—å—ç›Šäºæ›´é«˜ç²¾åº¦çš„æ ¼å¼ï¼Œä»¥é¿å…èˆå…¥è¯¯å·®ã€‚</li>
<li><strong>è¯„ä¼°ã€åŸºå‡†æµ‹è¯•</strong>â€‹â€‹<strong>æˆ–å›å½’æµ‹è¯•</strong>â€‹ï¼šå¾®å°çš„ç²¾åº¦æ¼‚ç§»å¯èƒ½å¯¼è‡´ä¸åŒæ¨¡å‹ç‰ˆæœ¬æˆ–è®¾ç½®ä¹‹é—´çš„æ¯”è¾ƒå¤±æ•ˆã€‚</li>
<li><strong>æ¶‰åŠå¤šæ­¥æ¨ç†çš„æ™ºèƒ½ä½“</strong>â€‹â€‹<strong>å·¥ä½œæµ</strong>â€‹ï¼šå¤šä¸ªæ­¥éª¤ä¸­çš„ç´¯ç§¯è¯¯å·®å¯èƒ½ä¼šé™ä½ç³»ç»Ÿçš„æ•´ä½“å¯é æ€§å’Œä»»åŠ¡å®Œæˆç‡ã€‚</li>
</ul>
<h3 data-id="heading-17"><strong>æ•´åˆå®è·µï¼šä»éœ€æ±‚åˆ°éƒ¨ç½²æ–¹æ¡ˆ</strong></h3>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æ¢è®¨äº† vLLM çš„è¿è¡Œæ—¶è¡Œä¸ºï¼ˆç¬¬ 1 èŠ‚ï¼‰ã€å†…å­˜åŸºç¡€åŸç†ï¼ˆç¬¬ 2 èŠ‚ï¼‰ä»¥åŠé‡åŒ–ç­–ç•¥ï¼ˆç¬¬ 3 èŠ‚ï¼‰ã€‚</p>
<p>æœ¬èŠ‚å°†è¿™äº›æ¦‚å¿µè¿æ¥æˆä¸€ä¸ªå¯é‡å¤çš„å†³ç­–æ¡†æ¶ã€‚å®ƒå°†å¼•å¯¼ä½ ä»ç†è®ºèµ°å‘å®è·µï¼Œæä¾›ä¸€ä¸ªç»“æ„åŒ–çš„å·¥ä½œæµç¨‹ï¼Œç”¨äºè¯„ä¼°å¯è¡Œæ€§ã€é€‰æ‹©ç¡¬ä»¶å¹¶åˆ¶å®šéƒ¨ç½²è®¡åˆ’ã€‚</p>
<p><strong>ç¬¬ä¸€æ­¥ï¼šèµ„æºé…ç½®éœ€æ±‚é—®å·</strong></p>
<p>è¦å‡†ç¡®é…ç½® vLLM éƒ¨ç½²ï¼Œå¿…é¡»ä»å·¥ä½œè´Ÿè½½æè¿°ä¸­æå–å…·ä½“çš„æŠ€æœ¯ç»†èŠ‚ã€‚åƒâ€œå¿«é€Ÿæ¨ç†â€è¿™æ ·çš„æŠ½è±¡ç›®æ ‡æ˜¯ä¸å¤Ÿçš„ã€‚ä½¿ç”¨ä»¥ä¸‹äº”ä¸ªé—®é¢˜æ¥æ”¶é›†å¿…è¦çš„æ•°æ®ï¼š</p>
<ol>
<li><strong>â€œæ‚¨éœ€è¦æ”¯æŒçš„æœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦æ˜¯å¤šå°‘ï¼Ÿâ€</strong>
â€‹<strong>åŸå› â€‹</strong>â€‹ï¼šå†³å®š KV ç¼“å­˜å¤§å°ï¼ˆè¿›è€Œå†³å®š OOM é£é™©ï¼‰ã€‚</li>
<li><strong>â€œæ‚¨çš„ç›®æ ‡å¹¶å‘é‡ï¼ˆåŒæ—¶åœ¨çº¿ç”¨æˆ·æ•°ï¼‰æ˜¯å¤šå°‘ï¼Ÿâ€</strong>
â€‹<strong>åŸå› â€‹</strong>â€‹ï¼šKV ç¼“å­˜éœ€æ±‚ä¼šæˆå€å¢åŠ ã€‚</li>
<li><strong>â€œå¯æ¥å—çš„å»¶è¿Ÿæ˜¯å¤šå°‘ï¼ˆé¦– Token æ—¶é—´TTFT</strong>â€‹<strong>å’Œæ¯ç§’ç”Ÿæˆ Token æ•°ï¼‰ï¼Ÿâ€</strong>
â€‹<strong>åŸå› â€‹</strong>â€‹ï¼šå†³å®šæ‚¨æ˜¯éœ€è¦é«˜å¸¦å®½ï¼ˆH100ï¼‰è¿˜æ˜¯ä»…éœ€è¶³å¤Ÿå®¹é‡ï¼ˆL40Sï¼‰ã€‚</li>
<li><strong>â€œæ¨¡å‹ç²¾åº¦æ˜¯å¦å…³é”®ï¼ˆæ•°å­¦/ä»£ç ï¼‰ï¼Œè¿˜æ˜¯â€˜å¤Ÿç”¨å°±å¥½â€™å³å¯ï¼ˆèŠå¤©ï¼‰ï¼Ÿâ€</strong>
â€‹<strong>åŸå› â€‹</strong>â€‹ï¼šå†³å®šæ‚¨æ˜¯å¦å¯ä»¥ä½¿ç”¨é‡åŒ–ï¼ˆINT4/FP8ï¼‰æ¥èŠ‚çœæˆæœ¬ã€‚</li>
<li><strong>â€œæ‚¨æ˜¯å¦æœ‰ä¸¥æ ¼çš„é¢„ç®—é™åˆ¶ï¼Ÿâ€</strong>
â€‹<strong>åŸå› â€‹</strong>â€‹ï¼šå¸®åŠ©åœ¨ä¼˜åŒ–æè‡´é€Ÿåº¦ï¼ˆH100ï¼‰ä¸æ€§ä»·æ¯”ï¼ˆL40Sï¼‰ä¹‹é—´åšå‡ºæŠ‰æ‹©ã€‚</li>
</ol>
<p><strong>ç¬¬äºŒæ­¥ï¼šé€‰æ‹©æ¨¡å‹å¤§å°ä¸ç²¾åº¦</strong></p>
<p>éœ€æ±‚æ˜ç¡®åï¼Œç¡®å®šèƒ½æ»¡è¶³è´¨é‡è¦æ±‚çš„æœ€å°çš„æ¨¡å‹å’Œæœ€é«˜çš„ç²¾åº¦ã€‚</p>
<ul>
<li>
<p>â€‹<strong>ç²¾åº¦æ˜¯è°ƒèŠ‚æ æ†</strong>â€‹ï¼šæ›´ä½çš„ç²¾åº¦ï¼ˆINT4/FP8ï¼‰ä½¿å¾—åœ¨æ›´ä¾¿å®œçš„ç¡¬ä»¶ä¸Šè¿è¡Œå¤§æ¨¡å‹æˆä¸ºå¯èƒ½ã€‚</p>
</li>
<li>
<p>â€‹<strong>70B æ³•åˆ™â€‹</strong>ï¼šFP16 ç²¾åº¦çš„ 70B æ¨¡å‹éœ€è¦ç‰¹æ®Šç¡¬ä»¶ï¼ˆå¤š GPUï¼‰ã€‚è€Œ INT4 ç²¾åº¦çš„åŒä¸€æ¨¡å‹åˆ™å¯ä»¥åœ¨æ™®é€šç¡¬ä»¶ï¼ˆå• GPUï¼‰ä¸Šè¿è¡Œã€‚</p>
</li>
<li>
<p>â€‹<strong>æŒ‡å¯¼åŸåˆ™</strong>â€‹ï¼š
â€‹<strong>èŠå¤©/åŠ©ç†</strong>â€‹ï¼šä½¿ç”¨ INT4 æˆ– FP8ã€‚</p>
<p>â€‹<strong>ä»£ç /æ¨ç†</strong>â€‹ï¼šä½¿ç”¨ FP16 æˆ– FP8ï¼ˆé¿å… INT4ï¼‰ã€‚</p>
</li>
</ul>
<p><strong>ç¬¬ä¸‰æ­¥ï¼šç¡¬ä»¶å¯è¡Œæ€§æ£€æŸ¥</strong></p>
<p>ä½¿ç”¨ç¬¬ 2 èŠ‚çš„æ•°å­¦æ–¹æ³•è¿›è¡Œé€‚é…æ€§éªŒè¯ã€‚</p>
<ol>
<li>
<p>â€‹<strong>é™æ€é€‚é…ï¼ˆæƒé‡ï¼‰<strong>â€‹ï¼šå‚æ•°é‡ * ç²¾åº¦å­—èŠ‚æ•° æ˜¯å¦èƒ½åœ¨ VRAM ä¸­æ”¾ä¸‹ï¼Ÿ
â€‹</strong>å¦‚æœä¸èƒ½</strong>â€‹ï¼šè¿›è¡Œé‡åŒ–ï¼ˆç¬¬äºŒæ­¥ï¼‰æˆ–å¢åŠ  GPUï¼ˆå¼ é‡å¹¶è¡Œï¼‰ã€‚</p>
</li>
<li>
<p>â€‹<strong>åŠ¨æ€é€‚é…ï¼ˆç¼“å­˜ï¼‰<strong>â€‹ï¼šæ˜¯å¦æœ‰è¶³å¤Ÿç©ºé—´å®¹çº³ ä¸Šä¸‹æ–‡é•¿åº¦ * å¹¶å‘æ•° * æ¯ Token å†…å­˜ç³»æ•°ï¼Ÿ
â€‹</strong>å¦‚æœä¸èƒ½</strong>â€‹ï¼šé™ä½å¹¶å‘æ•°ã€ç¼©çŸ­ä¸Šä¸‹æ–‡é•¿åº¦ï¼Œæˆ–å¯ç”¨ FP8 KV ç¼“å­˜ã€‚</p>
</li>
<li>
<p>â€‹<strong>å·¥ä½œè´Ÿè½½é€‚é…ï¼ˆå¸¦å®½ï¼‰<strong>â€‹ï¼š
â€‹</strong>é•¿æ–‡æœ¬ RAG/æ‘˜è¦</strong>â€‹ï¼šéœ€è¦é«˜å¸¦å®½ï¼ˆH100/A100ï¼‰ã€‚</p>
<p>â€‹<strong>æ ‡å‡†èŠå¤©</strong>â€‹ï¼šéœ€è¦é«˜ç®—åŠ›ï¼ˆL40Sï¼‰ã€‚</p>
</li>
</ol>
<p><strong>ç¬¬å››æ­¥ï¼šæ¨èGPU</strong>â€‹<strong>ç­–ç•¥</strong></p>
<p>å¯è¡Œæ€§ç¡®è®¤åï¼Œé€‰æ‹©å…·ä½“çš„ GPU å‹å·ã€‚å¯å‚è€ƒä»¥ä¸‹â€œé€ŸæŸ¥è¡¨â€åº”å¯¹å¸¸è§åœºæ™¯ã€‚DigitalOcean å¹³å°å¯æä¾›ä»¥ä¸‹è¡¨æ ¼ä¸­æ‰€æœ‰å‹å·çš„ GPUï¼ˆå…¶ä¸­ <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2Fproduct%2Fb300%2F" target="_blank" title="https://www.aidroplet.com/product/b300/" ref="nofollow noopener noreferrer">B300 GPU</a> å°†åœ¨ 2026 å¹´åˆä¸Šçº¿ï¼Œå¯è”ç³»å“æ™®äº‘ AI Droplet è¿›è¡Œé¢„çº¦æµ‹è¯•ï¼‰ã€‚</p>
<p><strong>ç¬¬äº”æ­¥ï¼šä½¿ç”¨æŒ‡æ ‡è¿›è¡ŒéªŒè¯</strong></p>
<p>çº¸ä¸Šè®¡ç®—å¹¶éå®Œç¾ã€‚</p>
<ul>
<li>â€‹<strong>æ£€æŸ¥TTFT</strong>â€‹ï¼šå¦‚æœè¿‡é«˜ï¼Œè¯´æ˜é¢„å¡«å……é˜¶æ®µå­˜åœ¨ç“¶é¢ˆï¼ˆå¸¦å®½é¥±å’Œï¼‰ã€‚</li>
<li>â€‹<strong>æ£€æŸ¥ Token é—´å»¶è¿Ÿ</strong>â€‹ï¼šå¦‚æœè¿‡é«˜ï¼Œå¯èƒ½æ˜¯æ‰¹æ¬¡å¤§å°è®¾ç½®è¿‡äºæ¿€è¿›ï¼ˆè®¡ç®—é¥±å’Œï¼‰ã€‚</li>
<li><strong>æ£€æŸ¥KV</strong>â€‹â€‹<strong>ç¼“å­˜ä½¿ç”¨ç‡</strong>â€‹ï¼šå¦‚æœæŒç»­ &gt;90%ï¼Œåˆ™å­˜åœ¨ OOM é£é™©ï¼Œåº”å¯ç”¨åˆ†å—é¢„å¡«å……æˆ–é™ä½å¹¶å‘æ•°ã€‚</li>
</ul>
<h3 data-id="heading-18"><strong>å¸¸è§é—®é¢˜è§£ç­”</strong></h3>
<p><strong>1. è¿è¡ŒLLM</strong>â€‹<strong>æ¨ç†éœ€è¦å¤šå°‘GPU</strong>â€‹<strong>æ˜¾å­˜ï¼Ÿ</strong></p>
<p>GPU æ˜¾å­˜éœ€æ±‚å–å†³äºæ¨¡å‹å¤§å°ã€ç²¾åº¦ã€ä¸Šä¸‹æ–‡é•¿åº¦å’Œå¹¶å‘é‡ã€‚ä¸€ä¸ªç²—ç•¥çš„ç»éªŒæ³•åˆ™æ˜¯ï¼šä»…å°±æƒé‡è€Œè¨€ï¼ŒFP16 æ¨¡å‹æ¯ 10 äº¿å‚æ•°çº¦éœ€è¦ 2GBã€‚å› æ­¤ï¼Œä¸€ä¸ª 70B çš„æ¨¡å‹ï¼ŒFP16 æƒé‡éœ€è¦ 140GBï¼Œä½†ä½¿ç”¨ INT4 é‡åŒ–åä»…éœ€ 35GBã€‚æ­¤å¤–ï¼Œè¿˜å¿…é¡»è€ƒè™‘ KV ç¼“å­˜çš„å†…å­˜å ç”¨ï¼Œå®ƒä¼šéšä¸Šä¸‹æ–‡é•¿åº¦å’Œå¹¶å‘ç”¨æˆ·æ•°å¢é•¿ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ª 70B æ¨¡å‹ï¼Œ32k ä¸Šä¸‹æ–‡é•¿åº¦å’Œ 10 ä¸ªå¹¶å‘ç”¨æˆ·ï¼ŒFP16 ç¼“å­˜çº¦éœ€ 112GBï¼Œè€Œ FP8 ç¼“å­˜çº¦éœ€ 56GBã€‚</p>
<p><strong>2. vLLM ä¸­å¼ é‡</strong>â€‹<strong>å¹¶è¡Œä¸æµæ°´çº¿å¹¶è¡Œæœ‰ä½•åŒºåˆ«ï¼Ÿ</strong></p>
<p>â€‹<strong>å¼ é‡å¹¶è¡Œ</strong>â€‹ï¼šå°†æ¨¡å‹æƒé‡çŸ©é˜µåœ¨åŒä¸€å±‚å†…åˆ‡åˆ†åˆ°å¤šä¸ª GPU ä¸Šï¼Œå…è®¸å¤šä¸ª GPU åŒæ—¶å¤„ç†åŒä¸€è®¡ç®—ã€‚è¿™æ•´åˆäº†æ˜¾å­˜èµ„æºï¼Œä½†éœ€è¦åœ¨æ¯å±‚è®¡ç®—åè¿›è¡ŒåŒæ­¥ï¼Œä»è€Œå¼•å…¥é€šä¿¡å¼€é”€ã€‚</p>
<p>â€‹<strong>æµæ°´çº¿å¹¶è¡Œ</strong>â€‹ï¼šå°†æ¨¡å‹å„å±‚æŒ‰é¡ºåºåˆ†é…åˆ°ä¸åŒ GPU ä¸Šï¼Œæ¯ä¸ª GPU å¤„ç†ä¸åŒçš„å±‚ã€‚</p>
<p>TP é€šå¸¸ç”¨äºå•ä¸ª GPU æ— æ³•å®¹çº³æ•´ä¸ªæ¨¡å‹æ—¶ï¼Œè€Œ PP æ›´å¸¸è§äºè®­ç»ƒåœºæ™¯ã€‚å¯¹äºæ¨ç†ä»»åŠ¡ï¼Œå½“æ¨¡å‹è¶…å‡ºå• GPU å®¹é‡æ—¶ï¼ŒTP æ˜¯æ ‡å‡†çš„å¤„ç†æ–¹æ³•ã€‚</p>
<p><strong>3. åœ¨ vLLM éƒ¨ç½²ä¸­ï¼Œä½•æ—¶åº”ä½¿ç”¨é‡åŒ–æŠ€æœ¯ï¼Ÿ</strong></p>
<p>åœ¨ä»¥ä¸‹æƒ…å†µæ¨èä½¿ç”¨é‡åŒ–ï¼šæ¨¡å‹æ— æ³•åœ¨å¯ç”¨æ˜¾å­˜ä¸­åŠ è½½æ—¶ï¼›éœ€è¦æ”¯æŒæ›´é«˜å¹¶å‘æˆ–æ›´é•¿ä¸Šä¸‹æ–‡çª—å£æ—¶ï¼›æˆ–è€…æˆæœ¬ä¼˜åŒ–æ˜¯ä¼˜å…ˆè€ƒè™‘äº‹é¡¹æ—¶ã€‚FP8 é‡åŒ–æ˜¯ç°ä»£ç¡¬ä»¶ï¼ˆH100, L40S, MI300Xï¼‰çš„ç†æƒ³é€‰æ‹©ï¼Œç²¾åº¦æŸå¤±æå°ã€‚INT4 é‡åŒ–æ˜¯åœ¨è¾ƒå° GPU ä¸Šè¿è¡Œå¤§æ¨¡å‹çš„å¿…è¦æ‰‹æ®µï¼Œä½†åœ¨ä»£ç ç”Ÿæˆã€æ•°å­¦åŠç§‘å­¦è®¡ç®—ç­‰å¯¹ç²¾åº¦æ•æ„Ÿçš„ä»»åŠ¡ä¸­åº”é¿å…ä½¿ç”¨ã€‚å¯¹äºèŠå¤©å’Œ RAG ç±»å·¥ä½œè´Ÿè½½ï¼Œé‡åŒ–é€šå¸¸æ˜¯é»˜è®¤é€‰æ‹©ã€‚</p>
<p><strong>4. å¦‚ä½•è®¡ç®—KV</strong>â€‹<strong>ç¼“å­˜çš„å†…å­˜</strong>â€‹<strong>éœ€æ±‚ï¼Ÿ</strong></p>
<p>å¯ä»¥ä½¿ç”¨<strong>æ¯ token ä¹˜æ•°æ³•</strong>è¿›è¡Œå¿«é€Ÿä¼°ç®—ï¼šå°†æ€» token æ•°ï¼ˆä¸Šä¸‹æ–‡é•¿åº¦ Ã— å¹¶å‘é‡ï¼‰ä¹˜ä»¥æ¨¡å‹ç‰¹å®šçš„ç³»æ•°ã€‚å¯¹äºå°å‹æ¨¡å‹ï¼ˆ7B-14Bï¼‰ï¼ŒFP16 ç¼“å­˜ç³»æ•°çº¦ä¸º 0.15 MB/tokenï¼ŒFP8 çº¦ä¸º 0.075 MB/tokenã€‚å¯¹äºå¤§å‹æ¨¡å‹ï¼ˆ70B-80Bï¼‰ï¼ŒFP16 ç¼“å­˜ç³»æ•°çº¦ä¸º 0.35 MB/tokenï¼ŒFP8 çº¦ä¸º 0.175 MB/tokenã€‚å¦‚éœ€ç²¾ç¡®è®¡ç®—ï¼Œå¯ä½¿ç”¨å…¬å¼ï¼šæ€» KV ç¼“å­˜ = (2 Ã— å±‚æ•° Ã— æ¨¡å‹ç»´åº¦ Ã— åºåˆ—é•¿åº¦ Ã— æ‰¹æ¬¡å¤§å° Ã— ç²¾åº¦å­—èŠ‚æ•°) / (1024Â³)ï¼Œæˆ–ä½¿ç”¨åœ¨çº¿å·¥å…·å¦‚ LMCache KV Calculatorã€‚</p>
<p><strong>5. æˆ‘å¯ä»¥åœ¨ DigitalOcean â€‹GPU</strong>â€‹<strong>â€‹ Droplets ä¸Šè¿è¡Œ vLLM å—ï¼Ÿ</strong></p>
<p>å¯ä»¥ï¼ŒvLLM å¯ä»¥éƒ¨ç½²åœ¨ DigitalOcean GPU Droplets ä¸Šã€‚DigitalOcean æä¾›çš„æ­è½½ NVIDIA GPU çš„ Droplets èƒ½å¤Ÿæ»¡è¶³ vLLM çš„è¿è¡Œè¦æ±‚ã€‚éƒ¨ç½²æ—¶ï¼Œè¯·ç¡®ä¿æ‰€é€‰ GPU çš„æ˜¾å­˜è¶³ä»¥æ”¯æ’‘æ‚¨çš„æ¨¡å‹å¤§å°å’Œå·¥ä½œè´Ÿè½½ã€‚å¯¹äºè¿½æ±‚æˆæœ¬æ•ˆç›Šçš„éƒ¨ç½²ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨é‡åŒ–æ¨¡å‹ï¼ˆINT4 æˆ– FP8ï¼‰ä»¥ä¾¿åœ¨è¾ƒå°çš„ GPU å®ä¾‹ä¸Šè¿è¡Œæ›´å¤§çš„æ¨¡å‹ã€‚DigitalOcean çš„ GPU Droplets æä¾› NVLink è¿æ¥ï¼Œè¿™åœ¨å¤š GPU ä½¿ç”¨å¼ é‡å¹¶è¡Œæ—¶å¯¹ä¿è¯æ•ˆç‡è‡³å…³é‡è¦ã€‚</p>
<h3 data-id="heading-19"><strong>vLLM â€‹GPU</strong>â€‹<strong>æ¨ç†çš„å®é™…åº”ç”¨åœºæ™¯</strong></h3>
<p>åŸºäºå¯¹æ¨¡å‹å¤§å°ã€ç²¾åº¦ã€GPU æ¶æ„ã€KV ç¼“å­˜åŠæ‰¹å¤„ç†ç­‰å› ç´ å¦‚ä½•å½±å“æ€§èƒ½çš„åŸºç¡€ç†è§£ï¼Œåœ¨æ¥ä¸‹æ¥çš„æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†æŠŠè¿™äº›æ¦‚å¿µåº”ç”¨åˆ°å®é™…çš„ vLLM å·¥ä½œè´Ÿè½½ä¸­ã€‚</p>
<p>é’ˆå¯¹æ¯ä¸ªç”¨ä¾‹ï¼Œæˆ‘ä»¬å°†å›´ç»•ä¸‰ä¸ªæ ¸å¿ƒé—®é¢˜æ¥ç¡®å®šæœ€ä¼˜é…ç½®æ–¹æ¡ˆï¼š</p>
<ol>
<li>â€‹<strong>å·¥ä½œè´Ÿè½½å®šä¹‰</strong>â€‹ï¼šå…¶æ ¸å¿ƒç‰¹å¾æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆä¾‹å¦‚ï¼Œæç¤ºè¯é•¿åº¦ä¸è¾“å‡ºé•¿åº¦ã€å¹¶å‘é‡ã€å»¶è¿Ÿæ•æ„Ÿæ€§ï¼‰ã€‚</li>
<li>â€‹<strong>èµ„æºé…ç½®ä¼˜å…ˆçº§</strong>â€‹ï¼šå“ªäº›å› ç´ æ˜¯ç“¶é¢ˆï¼Ÿï¼ˆä¾‹å¦‚ï¼Œæƒé‡ä¸ KV ç¼“å­˜ä¹‹äº‰ã€å¸¦å®½ä¸ç®—åŠ›ä¹‹äº‰ï¼‰ã€‚</li>
<li>â€‹<strong>é…ç½®æ¨¡å¼</strong>â€‹ï¼šå“ªäº›å…·ä½“çš„å‚æ•°è®¾ç½®å’Œç¡¬ä»¶é€‰æ‹©èƒ½ç¡®ä¿ç¨³å®šå¯é çš„æ€§èƒ½ï¼Ÿ</li>
</ol>
<p><strong>ç”¨ä¾‹ä¸€ï¼šäº¤äº’å¼èŠå¤©ä¸æ™ºèƒ½åŠ©æ‰‹</strong></p>
<ul>
<li>â€‹<strong>å…³æ³¨ç‚¹</strong>â€‹ï¼šâ€‹**ä½å»¶è¿Ÿï¼ˆå—è§£ç é˜¶æ®µé™åˆ¶ï¼‰**â€‹ã€‚</li>
<li>â€‹<strong>ç›®æ ‡</strong>â€‹ï¼šä¸ºç”¨æˆ·æä¾›æµç•…çš„æµå¼è¾“å‡ºå’Œå¿«é€Ÿçš„â€œæ‰“å­—é€Ÿåº¦â€ä½“éªŒã€‚</li>
<li>â€‹<strong>å…³é”®çº¦æŸ</strong>â€‹ï¼š<strong>è®¡ç®—èƒ½åŠ›</strong>ä¸â€‹<strong>Token é—´å»¶è¿Ÿ</strong>â€‹ã€‚</li>
</ul>
<p><strong>ç”¨ä¾‹äºŒï¼šé«˜ååé‡</strong>â€‹<strong>æ‰¹å¤„ç†</strong></p>
<ul>
<li>â€‹<strong>å…³æ³¨ç‚¹</strong>â€‹ï¼šâ€‹<strong>æœ€å¤§ååé‡</strong>â€‹â€‹**ï¼ˆå—è®¡ç®—é™åˆ¶ï¼‰**â€‹ã€‚</li>
<li>â€‹<strong>ç›®æ ‡</strong>â€‹ï¼šä¸ºç¦»çº¿ä»»åŠ¡ï¼ˆå¦‚æ‘˜è¦ç”Ÿæˆï¼‰å®ç°æ¯å°æ—¶å¤„ç†æ•°ç™¾ä¸‡ Tokenã€‚</li>
<li>â€‹<strong>å…³é”®çº¦æŸ</strong>â€‹ï¼šâ€‹<strong>ç³»ç»Ÿæ€»ååé‡</strong>â€‹ã€‚</li>
</ul>
<p><strong>ç”¨ä¾‹ä¸‰ï¼šRAG ä¸é•¿ä¸Šä¸‹æ–‡æ¨ç†</strong></p>
<ul>
<li>â€‹<strong>å…³æ³¨ç‚¹</strong>â€‹ï¼š<strong>ä¸Šä¸‹æ–‡å®¹é‡ï¼ˆå—å†…å­˜</strong>â€‹â€‹**é™åˆ¶ï¼‰**â€‹ã€‚</li>
<li>â€‹<strong>ç›®æ ‡</strong>â€‹ï¼šå°†æµ·é‡æ–‡æ¡£æˆ–å†å²è®°å½•åŠ è½½åˆ°å†…å­˜ä¸­è€Œä¸è‡´å´©æºƒã€‚</li>
<li>â€‹<strong>å…³é”®çº¦æŸ</strong>â€‹ï¼š<strong>æ˜¾å­˜å®¹é‡</strong>ä¸â€‹<strong>å†…å­˜å¸¦å®½</strong>â€‹ã€‚</li>
</ul>
<h3 data-id="heading-20"><strong>å°ç»“</strong></h3>
<p>ä¸º vLLM åˆç†é…ç½® GPU èµ„æºï¼Œéœ€è¦æ·±å…¥ç†è§£æ¨¡å‹å¤§å°ã€ç²¾åº¦ã€ä¸Šä¸‹æ–‡é•¿åº¦å’Œå¹¶å‘é‡ä¹‹é—´çš„æ ¹æœ¬æ€§æƒè¡¡ã€‚é¢„å¡«å……é˜¶æ®µå’Œè§£ç é˜¶æ®µå¯¹ç¡¬ä»¶æœ‰ä¸åŒçš„éœ€æ±‚ï¼šé¢„å¡«å……é˜¶æ®µéœ€è¦é«˜å†…å­˜å¸¦å®½ï¼Œè€Œè§£ç é˜¶æ®µåˆ™éœ€è¦é«˜è®¡ç®—ååé‡ã€‚é‡åŒ–æŠ€æœ¯æ˜¯åœ¨ç°æœ‰ç¡¬ä»¶ä¸Šè¿è¡Œå¤§å‹æ¨¡å‹çš„æ ¸å¿ƒè°ƒèŠ‚æ‰‹æ®µï¼Œè€Œå¼ é‡å¹¶è¡Œåˆ™èƒ½çªç ´å• GPU çš„é™åˆ¶ï¼Œå®ç°æ¨ªå‘æ‰©å±•ã€‚</p>
<p>æˆåŠŸéƒ¨ç½²çš„å…³é”®åœ¨äºâ€‹<strong>å°†æ‚¨çš„å·¥ä½œè´Ÿè½½ç‰¹æ€§ä¸æ­£ç¡®çš„ç¡¬ä»¶é…ç½®ç›¸åŒ¹é…</strong>â€‹ã€‚äº¤äº’å¼èŠå¤©åº”ç”¨ä¼˜å…ˆè€ƒè™‘ç®—åŠ›ä»¥å®ç°å¿«é€Ÿ Token ç”Ÿæˆï¼Œè€Œ RAG å’Œé•¿ä¸Šä¸‹æ–‡å·¥ä½œè´Ÿè½½åˆ™éœ€è¦å·¨å¤§çš„æ˜¾å­˜å®¹é‡å’Œé«˜å†…å­˜å¸¦å®½ã€‚éµå¾ªæœ¬æŒ‡å—æ¦‚è¿°çš„èµ„æºé…ç½®æ¡†æ¶ï¼Œæ‚¨å¯ä»¥ç³»ç»Ÿåœ°è¯„ä¼°å¯è¡Œæ€§ã€é€‰æ‹©åˆé€‚çš„ç¡¬ä»¶ï¼Œå¹¶ä¸ºç”Ÿäº§ç¯å¢ƒä¸­çš„å·¥ä½œè´Ÿè½½ä¼˜åŒ–æ‚¨çš„ vLLM éƒ¨ç½²ã€‚</p>
<h3 data-id="heading-21">æ¥ä¸‹æ¥ä½ è¿˜å¯ä»¥</h3>
<p>å‡†å¤‡å¥½åœ¨ GPU åŸºç¡€è®¾æ–½ä¸Šéƒ¨ç½² vLLM äº†å—ï¼Ÿä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹èµ„æºå¿«é€Ÿå¼€å§‹ï¼š</p>
<h4 data-id="heading-22">åœ¨ DigitalOcean GPU Droplets ä¸Šéƒ¨ç½²</h4>
<p>é€šè¿‡åœ¨ <strong>DigitalOcean â€‹GPU</strong>â€‹<strong>â€‹ Droplets</strong> ä¸Šå®é™…éƒ¨ç½² vLLMï¼Œè·å¾—ç¬¬ä¸€æ‰‹ä½¿ç”¨ä½“éªŒã€‚ä½ å¯ä»¥åœ¨ DigitalOcean å®˜æ–¹æ–‡æ¡£ä¸­å­¦ä¹ å¦‚ä½•æ­å»ºè¿è¡Œç¯å¢ƒï¼Œå¹¶å¯¹ vLLM è¿›è¡Œæ€§èƒ½ä¼˜åŒ–é…ç½®ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹ DigitalOcean å‘å¸ƒåœ¨å“æ™®äº‘å®˜ç½‘çš„æ•™ç¨‹ä¸å®è·µæ€»ç»“ï¼Œå­¦ä¹ æ›´å¤šç»éªŒï¼š</p>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.aidroplet.com%2Ftutorials%2Frgpt-oss-120b-mi300x%2F" target="_blank" title="https://blog.aidroplet.com/tutorials/rgpt-oss-120b-mi300x/" ref="nofollow noopener noreferrer">åœ¨ AMD GPU Droplet ä¸Šè¿è¡Œ GPT-OSS vLLM</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.aidroplet.com%2Ftutorials%2Fbudget-llm-finetune%2F" target="_blank" title="https://blog.aidroplet.com/tutorials/budget-llm-finetune/" ref="nofollow noopener noreferrer">ä½¿ç”¨ DigitalOcean GPU Droplets ä»¥æ›´ä½æˆæœ¬è¿›è¡Œå¤§æ¨¡å‹å¾®è°ƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.aidroplet.com%2Ftutorials%2Fgpu-optimization-deep-learning-guide%2F" target="_blank" title="https://blog.aidroplet.com/tutorials/gpu-optimization-deep-learning-guide/" ref="nofollow noopener noreferrer">æ¢ç´¢æ·±åº¦å­¦ä¹ å·¥ä½œè´Ÿè½½çš„ GPU æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fblog.aidroplet.com%2Ftutorials%2Ftechnical-deep-dive-character-ai-amd%2F" target="_blank" title="https://blog.aidroplet.com/tutorials/technical-deep-dive-character-ai-amd/" ref="nofollow noopener noreferrer">äº†è§£ä¸¤åƒä¸‡ç”¨æˆ·çš„ Character.ai å¦‚ä½•å°†æ¨ç†ååé‡æå‡ 2 å€</a></li>
</ul>
<h4 data-id="heading-23">ä½“éªŒ DigitalOcean äº§å“</h4>
<ul>
<li>â€‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2Fproduct%2Fgpu%2F" target="_blank" title="https://www.aidroplet.com/product/gpu/" ref="nofollow noopener noreferrer">GPU Droplets</a>ï¼šé¢å‘ AI ä¸æœºå™¨å­¦ä¹ ä»»åŠ¡çš„é«˜æ€§èƒ½ GPU å®ä¾‹</li>
<li>â€‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2Fproduct%2Fkubernetes%2F" target="_blank" title="https://www.aidroplet.com/product/kubernetes/" ref="nofollow noopener noreferrer">DigitalOcean Kubernetes</a>ï¼šåœ¨å¤šèŠ‚ç‚¹ç¯å¢ƒä¸­ç¼–æ’å¹¶æ‰©å±• vLLM éƒ¨ç½²</li>
<li>â€‹<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.aidroplet.com%2Fproduct%2Fapp-platform%2F" target="_blank" title="https://www.aidroplet.com/product/app-platform/" ref="nofollow noopener noreferrer">DigitalOcean App Platform</a>ï¼šè½»æ¾éƒ¨ç½²å¹¶ç®¡ç†ä½ çš„å¤§æ¨¡å‹åº”ç”¨</li>
</ul>
<p>å¦‚éœ€æ›´å¤šæŠ€æœ¯æŒ‡å—ä¸æœ€ä½³å®è·µï¼Œæ¬¢è¿è®¿é—® <strong>DigitalOcean è‹±æ–‡å®˜ç½‘ï¼Œæˆ–å’¨è¯¢ DigitalOcean ä¸­å›½åŒºç‹¬å®¶æˆ˜ç•¥åˆä½œä¼™ä¼´å“æ™®äº‘ï¼ˆaidroplet.comï¼‰ã€‚</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[æ·±å…¥ç†è§£LangChainæ–‡æœ¬åˆ†å‰²å™¨ï¼šä»åŸç†åˆ°å®è·µ]]></title>    <link>https://juejin.cn/post/7598390354291802158</link>    <guid>https://juejin.cn/post/7598390354291802158</guid>    <pubDate>2026-01-23T09:35:18.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598390354291802158" data-draft-id="7598181989969149979" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="æ·±å…¥ç†è§£LangChainæ–‡æœ¬åˆ†å‰²å™¨ï¼šä»åŸç†åˆ°å®è·µ"/> <meta itemprop="keywords" content="AIGC,LangChain"/> <meta itemprop="datePublished" content="2026-01-23T09:35:18.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è‰å¸½lufei"/> <meta itemprop="url" content="https://juejin.cn/user/501033035632093"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            æ·±å…¥ç†è§£LangChainæ–‡æœ¬åˆ†å‰²å™¨ï¼šä»åŸç†åˆ°å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/501033035632093/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è‰å¸½lufei
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:35:18.000Z" title="Fri Jan 23 2026 09:35:18 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>@charset "UTF-8";.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:15px;overflow-x:hidden}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;color:#3c9dff}.markdown-body h1{font-size:30px;margin-bottom:5px;padding-bottom:8px;text-align:center}.markdown-body h2{font-size:24px;padding-bottom:6px}.markdown-body h2:before{content:"ğŸ‹"}.markdown-body h3{font-size:18px;padding-bottom:0}.markdown-body h3:before{content:"ğŸ“"}.markdown-body h4{font-size:16px}.markdown-body h4:before{content:"ğŸ‘"}.markdown-body h5{font-size:15px}.markdown-body h5:before{content:"ğŸ‰"}.markdown-body h6{margin-top:5px}.markdown-body h6:before{content:"ğŸ’"}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{display:block;margin:0 auto;max-width:100%;border-radius:4px;padding:1px;border:1px solid #d2e8ff}.markdown-body img:hover{box-shadow:0 1px 3px #5eaeff}.markdown-body hr{height:4px;margin:34px 0;background-size:4px 1px;background-image:linear-gradient(270deg,#5eaeff,#f3f9ff 25%,transparent 50%);border-style:none}.markdown-body code{word-break:break-word;border-radius:3px;overflow-x:auto;background-color:#d2e8ff;color:#3c9dff;font-size:.9em;padding:.1em .5em;margin:0 3px}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace;transition:all .3s}.markdown-body pre{overflow:auto;position:relative;line-height:1.75;border:1px solid #90c7ff;border-radius:4px}.markdown-body pre:hover{box-shadow:0 1px 10px #beddff}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#3c9dff;border-bottom:1px solid #90c7ff;transition:all .3s}.markdown-body a:hover{color:#007fff;border-bottom:2px solid #5eaeff}.markdown-body a[href]:not(:empty){padding-right:18px}.markdown-body a[href]:not(:empty):after{display:inline-block;width:16px;height:16px;margin-left:2px;content:"";background:url(data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0zODQgMTI4YTQ4IDQ4IDAgMDEyLjgxNiA5NS45MkwzODQgMjI0SDI1NmEzMiAzMiAwIDAwLTMxLjkyIDI5LjZMMjI0IDI1NnY1MTJhMzIgMzIgMCAwMDI5LjYgMzEuOTJsMi40LjA4aDUxMmEzMiAzMiAwIDAwMzEuOTItMjkuNmwuMDgtMi40VjY1NmE0OCA0OCAwIDAxOTUuOTItMi44MTZMODk2IDY1NnYxMTJhMTI4IDEyOCAwIDAxLTEyNCAxMjcuOTM2bC00IC4wNjRIMjU2YTEyOCAxMjggMCAwMS0xMjcuOTM2LTEyNGwtLjA2NC00VjI1NmExMjggMTI4IDAgMDExMjQtMTI3LjkzNmw0LS4wNjRoMTI4em0zODQgMGExMjggMTI4IDAgMDExMjcuOTM2IDEyNGwuMDY0IDR2MTYwYTQ4IDQ4IDAgMDEtOTUuOTIgMi44MTZMODAwIDQxNlYyOTEuODcybC0zODIuMDY0IDM4Mi4wOGE0OCA0OCAwIDAxLTcwLjAzMi02NS42bDIuMTYtMi4yODhMNzMyLjA5NiAyMjRINjA4YTQ4IDQ4IDAgMDEtMi44MTYtOTUuOTJMNjA4IDEyOGgxNjB6IiBmaWxsPSIjM2M5ZGZmIiBmaWxsLW9wYWNpdHk9Ii41NiIgZGF0YS1zcG0tYW5jaG9yLWlkPSJhMzEzeC5zZWFyY2hfaW5kZXguMC5pMC41Yzc1M2E4MTgwa2RKWCIgY2xhc3M9InNlbGVjdGVkIi8+PC9zdmc+);background-size:100%}.markdown-body table{margin:0 auto 10px;font-size:12px;width:auto;max-width:100%;overflow:auto;border-collapse:collapse;border:1px solid #3c9dff}.markdown-body thead{text-align:center}.markdown-body thead th{color:#fff;background-color:#5eaeff}.markdown-body tr{text-align:center}.markdown-body tbody tr:hover{background-color:#d2e8ff}.markdown-body tbody tr:hover code{background-color:#90c7ff}.markdown-body tr:nth-child(2n){background-color:#ecf5ff}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li::marker,.markdown-body ul li::marker{color:#5eaeff}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body b,.markdown-body strong{font-weight:900;padding:0 1px;font-size:17px}.markdown-body small{color:#cbcbcb;padding:0 1px;font-size:22px;zoom:.5}.markdown-body em{padding:0 1px}.markdown-body del{padding:0 1px;text-decoration-thickness:2px}.markdown-body blockquote{color:#1a1b1c;padding:1px 20px;margin:22px 0;border-radius:4px;border-left:4px solid rgba(60,157,255,.5);background-color:rgba(190,221,255,.3)}.markdown-body blockquote blockquote{margin:8px 0}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body details{margin:12px 0;padding:4px 10px;border:2px solid #3c9dff;border-radius:8px;background-color:#ecf5ff;transition:all .3s}.markdown-body details summary{cursor:pointer}.markdown-body input[type=checkbox]{position:relative;appearance:none;width:16px;height:16px;border-radius:2px;vertical-align:middle;transform:translateY(-2px);box-sizing:border-box;border:1px solid #beddff}.markdown-body input[type=checkbox]:checked{border:1px solid #5eaeff;background-color:#5eaeff}.markdown-body input[type=checkbox]:checked:before{position:absolute;top:3px;left:1px;width:11px;height:6px;background-color:transparent;border-left:2px solid #fff;border-bottom:2px solid #fff;transform:rotate(-45deg);content:"";box-sizing:border-box}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="a11y-dark">.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.markdown-body pre,.markdown-body pre&gt;code.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-builtin-name,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style><h2 data-id="heading-0">å‰è¨€</h2>
<p>åœ¨å‰é¢çš„å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å·²ç»æŒæ¡äº†LangChainçš„æ–‡æ¡£åŠ è½½å™¨ï¼ˆDocument Loadersï¼‰åŠŸèƒ½ï¼Œå®ƒèƒ½å¤Ÿä»å¤šç§æ¥æºï¼ˆåŒ…æ‹¬æœ¬åœ°æ–‡ä»¶ã€ç½‘é¡µã€æ•°æ®åº“ç­‰ï¼‰åŠ è½½æ–‡æ¡£å¹¶æå–å†…å®¹ã€‚æ–‡æ¡£åŠ è½½åªæ˜¯å¤„ç†é•¿æ–‡æœ¬çš„ç¬¬ä¸€æ­¥ï¼Œä¸ºäº†æ›´å¥½åœ°ä¸å¤§è¯­è¨€æ¨¡å‹äº¤äº’ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è§£å†³é•¿æ–‡æœ¬çš„åˆ†å‰²é—®é¢˜</p>
<p>æœ¬æ–‡å°†æ·±å…¥æ¢è®¨LangChainä¸­çš„æ–‡æœ¬åˆ†å‰²å™¨ï¼ˆText Splittersï¼‰ç»„ä»¶ï¼Œå­¦ä¹ å¦‚ä½•å°†é•¿æ–‡æœ¬æ™ºèƒ½åˆ†å‰²ä¸ºé€‚åˆæ¨¡å‹å¤„ç†çš„å°å—</p>
<h2 data-id="heading-1">æ–‡æœ¬åˆ†å‰²å™¨ ï¼ˆText Splittersï¼‰</h2>
<p>æ–‡æœ¬åˆ†å‰²å™¨ä½œç”¨å°†é•¿æ–‡æœ¬åˆ†å‰²æˆé€‚åˆè¯­è¨€æ¨¡å‹å¤„ç†çš„å°å—ï¼Œè§£å†³å¤§æ¨¡å‹ä¸Šä¸‹æ–‡çª—å£é™åˆ¶çš„é—®é¢˜</p>
<p>å¯ä»¥ç”¨åœ¨æ–‡æ¡£å¤„ç†ã€RAGç³»ç»Ÿã€ä»£ç åˆ†æç­‰åœºæ™¯</p>
<blockquote>
<p>RAGç³»ç»Ÿï¼ˆRetrieval-Augmented Generationï¼‰æ˜¯ä¸€ç§ç»“åˆäº†æ£€ç´¢å’Œç”Ÿæˆçš„æ¨¡å‹ï¼Œç”¨äºå›ç­”ç”¨æˆ·é—®é¢˜ã€‚å®ƒé€šè¿‡ä»å¤–éƒ¨çŸ¥è¯†åº“ä¸­æ£€ç´¢ç›¸å…³ä¿¡æ¯ï¼Œç„¶åä½¿ç”¨è¿™äº›ä¿¡æ¯æ¥ç”Ÿæˆå›ç­”</p>
</blockquote>
<h3 data-id="heading-2">å­—ç¬¦åˆ†å‰²å™¨</h3>
<p>æœ€åŸºç¡€çš„åˆ†å‰²å™¨ï¼ŒæŒ‰ç…§å›ºå®šçš„åˆ†éš”ç¬¦è¿›è¡Œåˆ†å‰²ï¼Œç®€å•ç›´æ¥ï¼Œä½†å¯èƒ½ä¸å¤Ÿæ™ºèƒ½ï¼Œæœ‰æ—¶ä¼šåˆ‡æ–­è¯­ä¹‰</p>
<p>ä¾‹å¦‚ä¸‹é¢ä»£ç ä½¿ç”¨ <code>CharacterTextSplitter</code> å‡½æ•°åˆ›å»ºåˆ†å‰²å™¨</p>
<p><code>splitter.split_text</code> ç”¨äºå°†æ–‡æœ¬åˆ†å‰²æˆå¤šä¸ªå—ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„</p>
<pre><code class="hljs language-python" lang="python">
<span class="hljs-comment"># å¯¼å…¥æ‰€éœ€çš„åº“</span>
<span class="hljs-keyword">from</span> langchain_text_splitters <span class="hljs-keyword">import</span> CharacterTextSplitter  <span class="hljs-comment"># å­—ç¬¦åˆ†å‰²å™¨</span>

<span class="hljs-comment"># ç¤ºä¾‹æ–‡æœ¬æ•°æ®</span>
SAMPLE_TEXT = <span class="hljs-string">"""
äººå·¥æ™ºèƒ½ï¼ˆArtificial Intelligenceï¼ŒAIï¼‰æ˜¯è®¡ç®—æœºç§‘å­¦çš„ä¸€ä¸ªåˆ†æ”¯ï¼Œè‡´åŠ›äºåˆ›å»ºèƒ½å¤Ÿæ‰§è¡Œé€šå¸¸éœ€è¦äººç±»æ™ºèƒ½çš„ä»»åŠ¡çš„ç³»ç»Ÿã€‚

æœºå™¨å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªå­é›†ï¼Œå®ƒä½¿è®¡ç®—æœºèƒ½å¤Ÿåœ¨æ²¡æœ‰æ˜ç¡®ç¼–ç¨‹çš„æƒ…å†µä¸‹å­¦ä¹ å’Œæ”¹è¿›ã€‚æœºå™¨å­¦ä¹ ç®—æ³•é€šè¿‡åˆ†ææ•°æ®æ¥è¯†åˆ«æ¨¡å¼ï¼Œå¹¶åŸºäºè¿™äº›æ¨¡å¼åšå‡ºå†³ç­–æˆ–é¢„æµ‹ã€‚

æ·±åº¦å­¦ä¹ æ˜¯æœºå™¨å­¦ä¹ çš„ä¸€ä¸ªå­é›†ï¼Œå®ƒä½¿ç”¨äººå·¥ç¥ç»ç½‘ç»œæ¥æ¨¡æ‹Ÿäººè„‘çš„å­¦ä¹ è¿‡ç¨‹ã€‚æ·±åº¦å­¦ä¹ åœ¨å›¾åƒè¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†å’Œè¯­éŸ³è¯†åˆ«ç­‰é¢†åŸŸå–å¾—äº†çªç ´æ€§è¿›å±•ã€‚

è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªé‡è¦åˆ†æ”¯ï¼Œä¸“æ³¨äºè®¡ç®—æœºä¸äººç±»è¯­è¨€ä¹‹é—´çš„äº¤äº’ã€‚NLPæŠ€æœ¯ä½¿è®¡ç®—æœºèƒ½å¤Ÿç†è§£ã€è§£é‡Šå’Œç”Ÿæˆäººç±»è¯­è¨€ã€‚

è®¡ç®—æœºè§†è§‰æ˜¯å¦ä¸€ä¸ªé‡è¦çš„AIåˆ†æ”¯ï¼Œä¸“æ³¨äºä½¿è®¡ç®—æœºèƒ½å¤Ÿä»æ•°å­—å›¾åƒæˆ–è§†é¢‘ä¸­è·å–æœ‰æ„ä¹‰çš„ä¿¡æ¯ã€‚è®¡ç®—æœºè§†è§‰æŠ€æœ¯å¹¿æ³›åº”ç”¨äºè‡ªåŠ¨é©¾é©¶ã€åŒ»ç–—è¯Šæ–­å’Œå®‰é˜²ç›‘æ§ç­‰é¢†åŸŸã€‚
"""</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""
    ä¸»å‡½æ•°ï¼šæ¼”ç¤ºå­—ç¬¦åˆ†å‰²å™¨çš„ä½¿ç”¨
    """</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸš€ å­—ç¬¦åˆ†å‰²å™¨æ¼”ç¤º"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    
    <span class="hljs-comment"># åˆ›å»ºåˆ†å‰²å™¨å®ä¾‹ - ä½¿ç”¨åŒæ¢è¡Œä½œä¸ºåˆ†éš”ç¬¦</span>
    splitter = CharacterTextSplitter(
        separator=<span class="hljs-string">"\n\n"</span>,      <span class="hljs-comment"># ä½¿ç”¨åŒæ¢è¡Œä½œä¸ºåˆ†éš”ç¬¦ï¼ŒæŒ‰æ®µè½åˆ†å‰²</span>
        chunk_size=<span class="hljs-number">300</span>,        <span class="hljs-comment"># æ¯ä¸ªå—çš„æœ€å¤§å­—ç¬¦æ•°</span>
        chunk_overlap=<span class="hljs-number">50</span>,      <span class="hljs-comment"># å—ä¹‹é—´çš„é‡å å­—ç¬¦æ•°</span>
        length_function=<span class="hljs-built_in">len</span>    <span class="hljs-comment"># è®¡ç®—é•¿åº¦çš„å‡½æ•°</span>
    )
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"åˆ†å‰²å™¨é…ç½®ï¼š"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"- åˆ†éš”ç¬¦: '\\n\\n' (åŒæ¢è¡Œ)"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"- å—å¤§å°: <span class="hljs-subst">{splitter._chunk_size}</span> å­—ç¬¦"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"- é‡å å¤§å°: <span class="hljs-subst">{splitter._chunk_overlap}</span> å­—ç¬¦"</span>)
    
    <span class="hljs-comment"># åˆ†å‰²æ–‡æœ¬</span>
    chunks = splitter.split_text(SAMPLE_TEXT)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nåŸå§‹æ–‡æœ¬é•¿åº¦: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(SAMPLE_TEXT)}</span> å­—ç¬¦"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ†å‰²åå—æ•°: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(chunks)}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¯ä¸ªå—çš„å†…å®¹:"</span>)
    
    <span class="hljs-comment"># æ˜¾ç¤ºæ¯ä¸ªåˆ†å‰²å—çš„å†…å®¹</span>
    <span class="hljs-keyword">for</span> i, chunk <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(chunks):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n--- å— <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span> (é•¿åº¦: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(chunk)}</span>) ---"</span>)
        <span class="hljs-comment"># å¦‚æœå—å¤ªé•¿ï¼Œåªæ˜¾ç¤ºå‰100ä¸ªå­—ç¬¦</span>
        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(chunk) &gt; <span class="hljs-number">100</span>:
            <span class="hljs-built_in">print</span>(chunk[:<span class="hljs-number">100</span>] + <span class="hljs-string">"..."</span>)
        <span class="hljs-keyword">else</span>:
            <span class="hljs-built_in">print</span>(chunk)
    
    <span class="hljs-comment"># æ¼”ç¤ºä¸åŒåˆ†éš”ç¬¦çš„æ•ˆæœ</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nğŸ”§ ä¸åŒåˆ†éš”ç¬¦å¯¹æ¯”æ¼”ç¤º:"</span>)
    
    <span class="hljs-comment"># ä½¿ç”¨å¥å·ä½œä¸ºåˆ†éš”ç¬¦</span>
    sentence_splitter = CharacterTextSplitter(
        separator=<span class="hljs-string">"ã€‚"</span>,
        chunk_size=<span class="hljs-number">200</span>,
        chunk_overlap=<span class="hljs-number">30</span>
    )
    sentence_chunks = sentence_splitter.split_text(SAMPLE_TEXT)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"- å¥å·åˆ†éš”: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(sentence_chunks)}</span> ä¸ªå—"</span>)
    
    <span class="hljs-comment"># ä½¿ç”¨ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦</span>
    space_splitter = CharacterTextSplitter(
        separator=<span class="hljs-string">" "</span>,
        chunk_size=<span class="hljs-number">100</span>,
        chunk_overlap=<span class="hljs-number">20</span>
    )
    space_chunks = space_splitter.split_text(SAMPLE_TEXT)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"- ç©ºæ ¼åˆ†éš”: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(space_chunks)}</span> ä¸ªå—"</span>)
    
    <span class="hljs-comment"># ä¸ä½¿ç”¨åˆ†éš”ç¬¦ï¼ˆå¼ºåˆ¶æŒ‰é•¿åº¦åˆ†å‰²ï¼‰</span>
    force_splitter = CharacterTextSplitter(
        separator=<span class="hljs-string">""</span>,  <span class="hljs-comment"># ç©ºåˆ†éš”ç¬¦ï¼Œå¼ºåˆ¶æŒ‰chunk_sizeåˆ†å‰²</span>
        chunk_size=<span class="hljs-number">150</span>,
        chunk_overlap=<span class="hljs-number">0</span>
    )
    force_chunks = force_splitter.split_text(SAMPLE_TEXT)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"- å¼ºåˆ¶åˆ†å‰²: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(force_chunks)}</span> ä¸ªå—"</span>)
    
...

</code></pre>
<p>ä»£ç ç¤ºä¾‹è¿è¡Œæ•ˆæœå¯ä»¥çœ‹åˆ°æ•°æ®è¢«åˆ†æˆäº†ä¸€æ®µæ®µçš„</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/87a18eb92cda42178bf90d52829805bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765839&amp;x-signature=eCQ%2BKIp5gksgt0I7gtAGH3RhSMg%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">Markdownåˆ†å‰²å™¨</h3>
<p>Markdownåˆ†å‰²å™¨ä¸“é—¨ç”¨äºåˆ†å‰²Markdownæ–‡æ¡£ï¼Œä¼šä¿æŒMarkdownçš„ç»“æ„å®Œæ•´æ€§,ä¼šè¯†åˆ«æ ‡é¢˜ã€åˆ—è¡¨ã€ä»£ç å—ç­‰Markdownå…ƒç´ ï¼Œç¡®ä¿åˆ†å‰²ä¸ä¼šç ´åæ–‡æ¡£ç»“æ„</p>
<p>å°±åƒæŒ‰ç« èŠ‚åˆ†å‰²ä¹¦ç±ï¼Œä¿æŒæ¯ä¸ªç« èŠ‚çš„å®Œæ•´æ€§</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-comment"># å¯¼å…¥æ‰€éœ€çš„åº“</span>
<span class="hljs-keyword">from</span> langchain_text_splitters <span class="hljs-keyword">import</span> MarkdownTextSplitter  <span class="hljs-comment"># Markdownåˆ†å‰²å™¨</span>

<span class="hljs-comment"># Markdownç¤ºä¾‹æ–‡æœ¬</span>
MARKDOWN_TEXT = <span class="hljs-string">"""
# LangChainæ–‡æœ¬åˆ†å‰²å™¨æŒ‡å—

## ä»€ä¹ˆæ˜¯æ–‡æœ¬åˆ†å‰²å™¨ï¼Ÿ

æ–‡æœ¬åˆ†å‰²å™¨æ˜¯å°†é•¿æ–‡æœ¬åˆ†å‰²æˆæ›´å°ã€æ›´æ˜“ç®¡ç†å—çš„ç»„ä»¶ã€‚è¿™åœ¨å¤„ç†é•¿æ–‡æ¡£ã€æé«˜æ£€ç´¢è´¨é‡ã€æ§åˆ¶tokenä½¿ç”¨ç­‰åœºæ™¯éå¸¸é‡è¦ã€‚

## ä¸ºä»€ä¹ˆéœ€è¦æ–‡æœ¬åˆ†å‰²ï¼Ÿ

### 1. Tokené™åˆ¶
è¯­è¨€æ¨¡å‹æœ‰è¾“å…¥é•¿åº¦é™åˆ¶ï¼Œé•¿æ–‡æœ¬éœ€è¦åˆ†å‰²æ‰èƒ½å¤„ç†ã€‚

### 2. æ£€ç´¢è´¨é‡
å°å—æ–‡æœ¬æ›´å®¹æ˜“ç²¾ç¡®åŒ¹é…ï¼Œæé«˜æ£€ç´¢å‡†ç¡®æ€§ã€‚

### 3. å¤„ç†æ•ˆç‡
å°å—æ–‡æœ¬å¤„ç†æ›´å¿«ï¼ŒèŠ‚çœè®¡ç®—èµ„æºã€‚


"""</span>


<span class="hljs-keyword">def</span> <span class="hljs-title function_">main</span>():
    <span class="hljs-string">"""
    ä¸»å‡½æ•°ï¼šæ¼”ç¤ºMarkdownåˆ†å‰²å™¨çš„ä½¿ç”¨
    """</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸš€ Markdownåˆ†å‰²å™¨æ¼”ç¤º"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"="</span> * <span class="hljs-number">60</span>)
    
    <span class="hljs-comment"># åˆ›å»ºåˆ†å‰²å™¨å®ä¾‹</span>
    splitter = MarkdownTextSplitter(
        chunk_size=<span class="hljs-number">200</span>,        <span class="hljs-comment"># æ¯ä¸ªå—çš„æœ€å¤§å­—ç¬¦æ•°</span>
        chunk_overlap=<span class="hljs-number">30</span>       <span class="hljs-comment"># å—ä¹‹é—´çš„é‡å å­—ç¬¦æ•°</span>
    )
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"åˆ†å‰²å™¨é…ç½®ï¼š"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"- å—å¤§å°: <span class="hljs-subst">{splitter._chunk_size}</span> å­—ç¬¦"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"- é‡å å¤§å°: <span class="hljs-subst">{splitter._chunk_overlap}</span> å­—ç¬¦"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"- ä¸“é—¨å¤„ç†: Markdownæ–‡æ¡£"</span>)
    
    <span class="hljs-comment"># åˆ†å‰²Markdownæ–‡æœ¬</span>
    chunks = splitter.split_text(MARKDOWN_TEXT)
    
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nåŸå§‹Markdownæ–‡æœ¬é•¿åº¦: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(MARKDOWN_TEXT)}</span> å­—ç¬¦"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"åˆ†å‰²åå—æ•°: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(chunks)}</span>"</span>)
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"æ¯ä¸ªå—çš„å†…å®¹:"</span>)
    
    <span class="hljs-comment"># æ˜¾ç¤ºæ¯ä¸ªåˆ†å‰²å—çš„å†…å®¹</span>
    <span class="hljs-keyword">for</span> i, chunk <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(chunks):
        <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\n--- å— <span class="hljs-subst">{i+<span class="hljs-number">1</span>}</span> (é•¿åº¦: <span class="hljs-subst">{<span class="hljs-built_in">len</span>(chunk)}</span>) ---"</span>)
        <span class="hljs-built_in">print</span>(chunk)
        <span class="hljs-built_in">print</span>(<span class="hljs-string">"--- å—ç»“æŸ ---"</span>)
    
    <span class="hljs-comment"># åˆ†æMarkdownç»“æ„ä¿æŒæƒ…å†µ</span>
    <span class="hljs-built_in">print</span>(<span class="hljs-string">f"\nğŸ“Š Markdownç»“æ„åˆ†æ:"</span>)
...
</code></pre>
<p>ä»£ç æ‰§è¡Œåçš„è¾“å‡º</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/efbda4fe634d406b80dc4aa5f3d1e264~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6I2J5bi9bHVmZWk=:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765839&amp;x-signature=GwGI7YJViOPyXrqWCN%2BRyefAapw%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-4">Pythonä»£ç åˆ†å‰²å™¨</h3>
<p>ä¸“é—¨ç”¨äºåˆ†å‰²Pythonä»£ç ï¼Œä¼šä¿æŒä»£ç çš„è¯­æ³•ç»“æ„å®Œæ•´æ€§ã€‚ä¼šè¯†åˆ«å‡½æ•°ã€ç±»ã€å¯¼å…¥è¯­å¥ç­‰Pythonè¯­æ³•å…ƒç´ ï¼Œç¡®ä¿åˆ†å‰²ä¸ä¼šç ´åä»£ç ç»“æ„</p>
<p>ä½¿ç”¨ <code>langchain_text_splitters</code> ä¸­çš„ <code>PythonCodeTextSplitter</code> ç±»æ¥å®ç°Pythonä»£ç çš„åˆ†å‰²ï¼Œå…¶ä»–æ“ä½œå’Œä¸Šé¢åˆ—å­ç±»ä¼¼</p>
<p>ç”±äºä»£ç æ²¡æœ‰ä»€ä¹ˆç‰¹æ®Šçš„åœ°æ–¹ï¼Œä»è¿™é‡Œå¼€å§‹ä»¥åŠåé¢çš„å†…å®¹å°±ä¸è´´äº†</p>
<h3 data-id="heading-5">é€’å½’å­—ç¬¦åˆ†å‰²å™¨æ¼”ç¤º</h3>
<p>æœ€å¸¸ç”¨çš„æ–‡æœ¬åˆ†å‰²å™¨ï¼Œä¼šé€’å½’åœ°å°è¯•ä¸åŒçš„åˆ†éš”ç¬¦æ¥åˆ†å‰²æ–‡æœ¬ã€‚ä¾‹å¦‚å¥å·ã€æ¢è¡Œç¬¦ã€é—®å·ç­‰ã€‚æŒ‰ç…§åˆ†éš”ç¬¦çš„ä¼˜å…ˆçº§é¡ºåºè¿›è¡Œåˆ†å‰²ï¼Œç¡®ä¿æ–‡æœ¬å—çš„å®Œæ•´æ€§</p>
<p>ä½¿ç”¨ <code>langchain_text_splitters</code> ä¸­çš„ <code>RecursiveCharacterTextSplitter</code> ç±»æ¥å®ç°é€’å½’å­—ç¬¦åˆ†å‰²</p>
<h3 data-id="heading-6">Tokenåˆ†å‰²å™¨</h3>
<p>Tokenåˆ†å‰²å™¨åŸºäºTokenæ•°é‡è€Œä¸æ˜¯å­—ç¬¦æ•°æ¥åˆ†å‰²æ–‡æœ¬ã€‚è¿™å¯¹äºæ§åˆ¶è¯­è¨€æ¨¡å‹çš„è¾“å…¥é•¿åº¦éå¸¸é‡è¦ï¼Œå› ä¸ºå¤§å¤šæ•°LLMéƒ½æœ‰Tokené™åˆ¶</p>
<p>Tokenæ˜¯è¯­è¨€æ¨¡å‹çš„åŸºæœ¬å¤„ç†å•ä½ï¼Œé€šè¿‡æ§åˆ¶Tokenæ•°é‡å¯ä»¥æ›´ç²¾ç¡®åœ°æ§åˆ¶æ¨¡å‹çš„è¾“å…¥é•¿åº¦ï¼Œé¿å…è¶…å‡ºé™åˆ¶</p>
<p>ä½¿ç”¨ <code>langchain_text_splitters</code> ä¸­çš„ <code>TokenTextSplitter</code> ç±»æ¥å®ç°Tokenåˆ†å‰²</p>
<h3 data-id="heading-7">è¯­ä¹‰åˆ†å‰²æ–¹æ³•</h3>
<p>åŸºäºåµŒå…¥ç›¸ä¼¼åº¦çš„è¯­ä¹‰åˆ†å‰²æ–¹æ³•ã€‚é€šè¿‡è®¡ç®—æ–‡æœ¬å—ä¹‹é—´çš„è¯­ä¹‰ç›¸ä¼¼åº¦ï¼Œå¯ä»¥æ›´æ™ºèƒ½åœ°è¿›è¡Œæ–‡æœ¬åˆ†å‰²å’Œèšç±»ã€‚</p>
<p>é€šä¿—ç†è§£å°±åƒæŒ‰ä¸»é¢˜ç›¸å…³æ€§æ¥åˆ†æ®µï¼Œè€Œä¸æ˜¯ç®€å•çš„æŒ‰é•¿åº¦ï¼Œç›¸ä¼¼çš„å†…å®¹æ”¾åœ¨ä¸€èµ·ï¼Œä¸ç›¸å…³çš„åˆ†å¼€ï¼ŒåŸºäºè¯­ä¹‰ç†è§£ï¼Œè€Œä¸æ˜¯è¡¨é¢å­—ç¬¦</p>
<p>è¿™ç§éœ€è¦è¯­ä¹‰ç†è§£çš„éƒ¨åˆ†éœ€è¦æ¨¡å‹çš„æ”¯æŒ</p>
<h2 data-id="heading-8">å°ç»“</h2>
<p>ä¸åŒçš„åˆ†å‰²å™¨é€‚ç”¨äºä¸åŒçš„åœºæ™¯ï¼Œéœ€è¦æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„åˆ†å‰²å™¨ï¼Œåœ¨å®é™…åœºæ™¯ä¸­å¤„ç†æ—¶ä¹Ÿéœ€è¦æ¯”è¾ƒä¸åŒæ–‡æœ¬åˆ†å‰²å™¨çš„æ€§èƒ½è¡¨ç°ï¼ŒåŒ…æ‹¬åˆ†å‰²æ—¶é—´ã€ç”Ÿæˆå—æ•°ã€å¹³å‡å—å¤§å°ç­‰æŒ‡æ ‡</p>
<p>æ–‡æœ¬åˆ†å‰²å™¨ç›¸å…³å†…å®¹å°±åˆ°è¿™é‡Œäº†ï¼Œæ¥ä¸‹æ¥å­¦ä¹ åµŒå…¥ï¼ˆEmbeddingsï¼‰</p>
<blockquote>
<p>æ¬¢è¿ç•™è¨€äº¤æµï¼Œå¦‚æœè§‰å¾—æœ‰å¸®åŠ©ï¼Œå¯ä»¥<code>ç‚¹ä¸ªèµ</code>æ”¯æŒä¸€ä¸‹</p>
<p>å…¬ä¼—å·ï¼šè‰å¸½lufei</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é€šè¿‡Mockjsæ¨¡æ‹Ÿæ•°æ®]]></title>    <link>https://juejin.cn/post/7598390354291818542</link>    <guid>https://juejin.cn/post/7598390354291818542</guid>    <pubDate>2026-01-23T09:36:51.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598390354291818542" data-draft-id="7598370121436020786" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é€šè¿‡Mockjsæ¨¡æ‹Ÿæ•°æ®"/> <meta itemprop="keywords" content="å‰ç«¯"/> <meta itemprop="datePublished" content="2026-01-23T09:36:51.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¼˜ç§€çš„é¢œ"/> <meta itemprop="url" content="https://juejin.cn/user/960313319521178"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é€šè¿‡Mockjsæ¨¡æ‹Ÿæ•°æ®
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/960313319521178/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¼˜ç§€çš„é¢œ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:36:51.000Z" title="Fri Jan 23 2026 09:36:51 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">Mockjs</h2>
<p>Mock.js æ˜¯ä¸€æ¬¾æ¨¡æ‹Ÿæ•°æ®ç”Ÿæˆå™¨</p>
<p>å®˜ç½‘ï¼š<a href="https://link.juejin.cn?target=http%3A%2F%2Fmockjs.com" target="_blank" title="http://mockjs.com" ref="nofollow noopener noreferrer">mockjs.com</a></p>
<h3 data-id="heading-1">å®‰è£…</h3>
<p>å‰æå®‰è£…å¥½nodeç¯å¢ƒ</p>
<ol>
<li>åœ¨å‘½ä»¤æç¤ºç¬¦çª—å£ï¼Œä½¿ç”¨npmå®‰è£…</li>
</ol>
<pre><code class="hljs language-node" lang="node"># åˆå§‹åŒ–é¡¹ç›®
npm init -y
# å®‰è£…
npm install mockjs
</code></pre>
<p>â€‹	å®‰è£…æˆåŠŸæ˜¾ç¤º</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/6769b10ad7c94893be430d73753e92bc~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LyY56eA55qE6aKc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765810&amp;x-signature=MPilUYUWHNMNCcu1qNzerIigccY%3D" alt="image-20230102153711314" loading="lazy"/>
<ol start="2">
<li>
<p>åˆ›å»ºæ–‡ä»¶ demo1.js</p>
<pre><code class="hljs language-node" lang="node">const Mock = require('mockjs') // è¿™ä¸ªæ˜¯å¼•ç”¨åº“
 
const data = Mock.mock({
  // ç”Ÿæˆå¯¹è±¡ä¸ªæ•°æ˜¯ 3
  'items|3': [{
    'id|+1': 1,       // è‡ªå¢æ¶¨id
    'name': '@cname', // ç”Ÿæˆéšæœºåå­—
  	'age|1-100':1,    // å¹´é¾„ï¼ˆ1-100ä¹‹é—´éšæœºæ•°ï¼‰
	'img':'@image',   // å›¾ç‰‡
	'ip':'@ip',       // ip
	'email':'@email', // é‚®ç®±
	'salary|10-100.1-2':1,    // å·¥èµ„ - ï¼ˆ10-100ï¼Œå°æ•°ä½1åˆ°3ä½çš„éšæœºæ•°ï¼‰ä¾‹å­ï¼š13.23
	'status':'@boolean',      // çŠ¶æ€ å¸ƒå°”å€¼
	'title':'@ctitle(10,20)', // æ ‡é¢˜ (ç”Ÿæˆå­—æ•°10åˆ°20ä¹‹é—´)
	'idCard':/\d{15}|\d{18}/, // èº«ä»½è¯å·ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰
	'address':'@county(try)', // åœ°å€  zip é‚®ç¼–
	'birthday':'@date("yyyy-MM-dd")',  // ç”Ÿæ—¥æ—¥æœŸ  ("å¯ä»¥æŒ‡å®šæ—¥æœŸæ ¼å¼")
	'url':'@url("http","goodyan.cn")', // urlåœ°å€
	'phone|11':'@integer(0,9)',        // æ‰‹æœºå·
	'money':'@float(0,10,1,3)',        // é’±ï¼ˆ0-10å°æ•°  1-3ä½å°æ•°ä½ï¼‰
    'pay|1':['a','b','c','d'],         // ç±»å‹ï¼ˆ4é€‰ä¸€ï¼Œéšæœºé€‰å…¶ä¸­ä¸€ä¸ªï¼‰
	'son|2':{
		id:1,name:'abc'       // å¯¹è±¡é‡ŒåŒ…å«å¯¹è±¡ 2 éšæœºæŠ½å–2ä¸ªå±æ€§
	}
  }]
})

// è¾“å‡º
console.log(JSON.stringify(data));
</code></pre>
<ol start="3">
<li>è¿è¡Œè„šæœ¬</li>
</ol>
<pre><code class="hljs language-node" lang="node">node demo1.js
</code></pre>
<p>å¯ä»¥å¾—åˆ°ä¸€äº›jsonå­—ç¬¦ä¸²ï¼Œæ¨¡æ‹Ÿæ•°æ®ã€‚</p>
</li>
</ol>
<h2 data-id="heading-2">EasyMock</h2>
<p>Easy Mock æ˜¯ä¸€ä¸ªå¯è§†åŒ–ï¼Œå¹¶ä¸”èƒ½å¿«é€Ÿç”Ÿæˆæ¨¡æ‹Ÿæ•°æ®çš„æŒä¹…åŒ–æœåŠ¡ã€‚</p>
<p>å®˜æ–¹åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Feasy-mock.com" target="_blank" title="https://easy-mock.com" ref="nofollow noopener noreferrer">easy-mock.com</a></p>
<p>æºç åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Feasy-mock%2Feasy-mock" target="_blank" title="https://github.com/easy-mock/easy-mock" ref="nofollow noopener noreferrer">github.com/easy-mock/eâ€¦</a></p>
<p>ä¸€èˆ¬æˆ‘ä»¬å¯ä»¥éƒ¨ç½²åœ¨æœ¬åœ°ï¼Œå®‰è£…å‰æï¼š</p>
<p>éœ€è¦æˆåŠŸå®‰è£…äº† <a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2F" target="_blank" title="https://nodejs.org/" ref="nofollow noopener noreferrer">Node.js</a>ï¼ˆ<strong>v8.x, <del>ä¸æ”¯æŒ v10.x</del></strong>ï¼‰&amp; <a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.mongodb.com%2F" target="_blank" title="https://www.mongodb.com/" ref="nofollow noopener noreferrer">MongoDB</a>ï¼ˆ<strong>&gt;= v3.4</strong>ï¼‰&amp; <a href="https://link.juejin.cn?target=https%3A%2F%2Fredis.io%2F" target="_blank" title="https://redis.io/" ref="nofollow noopener noreferrer">Redis</a>ï¼ˆ<strong>&gt;= v4.0</strong>ï¼‰ã€‚</p>
<p>å®‰è£…æ­¥éª¤åœ¨githubæºç åœ°å€é‡Œæœ‰ï¼Œè¿™é‡Œä¸å†ä»‹ç»ã€‚</p>
<p>æˆ‘ä»¬å¦‚æœé€‰æ‹©åœ¨çº¿æ¨¡å¼ï¼š</p>
<p>å¯ä»¥é€‰æ‹©ç¬¬ä¸‰æ–¹fastmockæä¾›æœåŠ¡å¹³å°</p>
<p>åœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.fastmock.site%2F%23%2F" target="_blank" title="https://www.fastmock.site/#/" ref="nofollow noopener noreferrer">www.fastmock.site/#/</a></p>
<h3 data-id="heading-3">å¦‚ä½•ä½¿ç”¨</h3>
<ol>
<li>åˆ›å»ºé¡¹ç›®</li>
</ol>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d700b6b5d7a044819508e56be04fd06a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LyY56eA55qE6aKc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765810&amp;x-signature=3%2BVxECRbxeaT%2F6o6CzxQPQk40yo%3D" alt="image-20230102153711314" loading="lazy"/>
<ol start="2">
<li>
<p>åˆ›å»ºæŸ¥è¯¢æ¥å£</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d25815bb59c7461fb07a18313817f1a2~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LyY56eA55qE6aKc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765810&amp;x-signature=mEx3EFpKKsYoCcQU%2BS4uwC2DtjY%3D" alt="image-20230102173322002" loading="lazy"/>
</li>
<li>
<p>åˆ›å»ºæ–°å¢æ¥å£</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/903d0595f89d405c8458b37ea8334072~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LyY56eA55qE6aKc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765810&amp;x-signature=vQsdg%2FTYXPHB48njYtz7AYojjPQ%3D" alt="image-20230102173650234" loading="lazy"/>
</li>
<li>
<p>è¿›è¡Œä¿å­˜</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/37c20d0d09394ac9a1f6d894b4a4d0da~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LyY56eA55qE6aKc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765810&amp;x-signature=0sKaOWZjlIyKGtm4Uv5n9Q5faaE%3D" alt="image-20230102173838208" loading="lazy"/>
</li>
<li>
<p>è¿›è¡Œæµ‹è¯•</p>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/361ac76098fd4e76a6711c1d84ef273e~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LyY56eA55qE6aKc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765810&amp;x-signature=i6RKLGl6O0EnkxMBOBpzikPmiMA%3D" alt="image-20230102174015353" loading="lazy"/>
<img src="https://p6-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/1d0b46996a744630a0cd0f72e5c670a3~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5LyY56eA55qE6aKc:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765810&amp;x-signature=Lp86vgtqQ%2BAQVkuDMe5YCfCjC%2BI%3D" alt="image-20230102174043041" loading="lazy"/>
</li>
</ol>
<p>è¿™æ ·æˆ‘ä»¬å‰ç«¯å¯ä»¥è®¿é—®æµ‹è¯•åœ°å€ï¼Œå¾—åˆ°æ¨¡æ‹Ÿæ•°æ®ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä¸€ä¸ªç¨‹åºå‘˜2004å¹´çš„å†³å®šï¼Œå¦‚ä½•æ‚„æ‚„æ”¹å˜äº†æ•´ä¸ªäº’è”ç½‘ï¼Ÿ]]></title>    <link>https://juejin.cn/post/7598181989969182747</link>    <guid>https://juejin.cn/post/7598181989969182747</guid>    <pubDate>2026-01-23T09:39:03.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598181989969182747" data-draft-id="7598181989969166363" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä¸€ä¸ªç¨‹åºå‘˜2004å¹´çš„å†³å®šï¼Œå¦‚ä½•æ‚„æ‚„æ”¹å˜äº†æ•´ä¸ªäº’è”ç½‘ï¼Ÿ"/> <meta itemprop="keywords" content="å‰ç«¯,JavaScript,Markdown"/> <meta itemprop="datePublished" content="2026-01-23T09:39:03.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å†´ç¾½"/> <meta itemprop="url" content="https://juejin.cn/user/712139234359182"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä¸€ä¸ªç¨‹åºå‘˜2004å¹´çš„å†³å®šï¼Œå¦‚ä½•æ‚„æ‚„æ”¹å˜äº†æ•´ä¸ªäº’è”ç½‘ï¼Ÿ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/712139234359182/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å†´ç¾½
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:39:03.000Z" title="Fri Jan 23 2026 09:39:03 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    8
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»5åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä¸€ä¸ªç¨‹åºå‘˜2004å¹´çš„å†³å®šï¼Œå¦‚ä½•æ‚„æ‚„æ”¹å˜äº†æ•´ä¸ªäº’è”ç½‘ï¼Ÿ</h2>
<p>æƒ³è±¡ä¸€ä¸‹ï¼š</p>
<p>ä½ æ­£åœ¨å†™ä¸€ä»½å·¥ä½œæŠ¥å‘Šï¼Œæƒ³ç»™æ ‡é¢˜åŠ ä¸ªç²—ä½“ï¼Œæˆ–è€…æ’å…¥ä¸€ä¸ªç½‘å€é“¾æ¥ã€‚</p>
<p>åœ¨ä¼ ç»Ÿçš„ Word æ–‡æ¡£é‡Œï¼Œä½ éœ€è¦èŠ±å‡ åˆ†é’Ÿæ—¶é—´æ‰¾å„ç§æŒ‰é’®ã€èœå•ï¼Œå¶å°”è¿˜ä¼šå› ä¸ºè¯¯æ“ä½œæŠŠæ•´é¡µæ ¼å¼æä¹±ã€‚</p>
<p>ç°åœ¨ï¼Œä½ åªéœ€è¦è¾“å…¥ <code># æ ‡é¢˜</code> å°±èƒ½å¾—åˆ°å¤§æ ‡é¢˜ï¼Œè¾“å…¥ <code>**ç²—ä½“æ–‡å­—**</code> å°±èƒ½å¾—åˆ°ç²—ä½“ï¼Œè¾“å…¥ <code>[ç‚¹å‡»è¿™é‡Œ](ç½‘å€)</code> å°±èƒ½å¾—åˆ°ä¸€ä¸ªå¯ç‚¹å‡»çš„é“¾æ¥ã€‚</p>
<p>ç®€å•ã€ç›´æ¥ã€é«˜æ•ˆï¼Œå°±åƒå‘å¾®ä¿¡ä¸€æ ·è‡ªç„¶ã€‚</p>
<p>è¿™å°±æ˜¯ Markdownã€‚</p>
<p>æœ¬ç¯‡å’Œä½ è®²è®² Markdown èƒŒåçš„æ•…äº‹ï¼Œä»¥åŠä¸ºä»€ä¹ˆå®ƒèƒ½æˆåŠŸåˆ°é£é¡å…¨çƒï¼Œä»¥åŠå®ƒçš„æ•…äº‹å¯¹æˆ‘ä»¬çš„å¯ç¤ºã€‚</p>
<h3 data-id="heading-1">1. ä¸€ä¸ªå†³å®š</h3>
<p>æ•…äº‹è¦ä» 2004 å¹´è¯´èµ·ã€‚</p>
<p>é‚£æ—¶çš„äº’è”ç½‘è¿˜å¾ˆâ€œåŸå§‹"â€ï¼Œå¦‚æœæƒ³åœ¨ç½‘é¡µä¸Šå‘å¸ƒä¸€ç¯‡æ–‡ç« ï¼Œä½ å¿…é¡»å­¦ä¹ ä¸€é—¨å« HTML çš„è¯­è¨€ã€‚</p>
<p>æƒ³è±¡ä¸€ä¸‹ï¼Œæ¯æ¬¡å†™æ–‡ç« éƒ½è¦åƒè¿™æ ·ç¼–ç ï¼š</p>
<pre><code class="hljs language-html" lang="html"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>æˆ‘çš„æ–‡ç« æ ‡é¢˜<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>è¿™æ˜¯ä¸€æ®µ<span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>é‡è¦<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>çš„æ–‡å­—ï¼ŒåŒ…å«ä¸€ä¸ª<span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"é“¾æ¥åœ°å€"</span>&gt;</span>é“¾æ¥<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre>
<p>è¿™å°±åƒæ˜¯æƒ³ç»™æœ‹å‹å†™å°ä¿¡ï¼Œå´å¿…é¡»å…ˆå­¦ä¼šç”¨æ‘©æ–¯å¯†ç ä¸€æ ·è’è°¬ã€‚</p>
<p>å°±åœ¨è¿™æ—¶ï¼Œä¸€ä¸ªå«çº¦ç¿°Â·æ ¼é²ä¼¯çš„ç¨‹åºå‘˜åšäº†ä¸€ä¸ªå¤§èƒ†çš„å†³å®šï¼šåˆ›é€ ä¸€ç§â€œåHTMLâ€çš„æ ¼å¼ã€‚</p>
<p>HTMLæ˜¯â€œæ ‡è®°è¯­è¨€â€ï¼Œé‚£ä»–å°±åˆ›é€ ä¸€ç§â€œåæ ‡è®°è¯­è¨€â€â€”â€”Markdownã€‚</p>
<p>çº¦ç¿°çš„æƒ³æ³•å¾ˆç®€å•ï¼šä¸ºä»€ä¹ˆä¸èƒ½è®©å†™æ–‡ç« å°±åƒå†™æ™®é€šé‚®ä»¶ä¸€æ ·ç®€å•ï¼Ÿ</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/99e1b86551124a42a9281574e94fe495~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769766161&amp;x-signature=N2O%2Fz05Nspf79ba8Dhe6eL54sOM%3D" alt="1.png" loading="lazy"/></p>
<h3 data-id="heading-2">2. æ„å¤–ä¼ æ’­</h3>
<p>çº¦ç¿°å‘å¸ƒ Markdown æ—¶ï¼Œå¹¶æ²¡æœ‰æƒ³åˆ°å®ƒä¼šæˆä¸ºäº’è”ç½‘çš„åŸºç¡€è®¾æ–½ã€‚</p>
<p>ä»–åªæ˜¯åŒå€¦äº†å¤æ‚çš„ HTML è¯­æ³•ï¼Œæƒ³ä¸ºè‡ªå·±å’Œæœ‹å‹æä¾›ä¸€ä¸ªæ›´ç®€å•çš„é€‰æ‹©ã€‚</p>
<p>ä½†æ¥ä¸‹æ¥å‘ç”Ÿçš„äº‹æƒ…è¿çº¦ç¿°è‡ªå·±éƒ½æ²¡æƒ³åˆ°ï¼š</p>
<ul>
<li>
<p><strong>2004 å¹´</strong>ï¼šMarkdown æ‚„æ‚„è¯ç”Ÿ</p>
</li>
<li>
<p><strong>2005-2010 å¹´</strong>ï¼šç¨‹åºå‘˜ä»¬å¼€å§‹ç”¨ Markdown å†™æŠ€æœ¯æ–‡æ¡£</p>
</li>
<li>
<p><strong>2010-2015 å¹´</strong>ï¼šå„å¤§å¹³å°å¼€å§‹æ”¯æŒ Markdown æ ¼å¼</p>
</li>
<li>
<p><strong>2015-2020 å¹´</strong>ï¼šç¬”è®°è½¯ä»¶ã€åä½œå·¥å…·å…¨é¢æ‹¥æŠ± Markdown</p>
</li>
<li>
<p><strong>2020 å¹´è‡³ä»Š</strong>ï¼šè¿è‹¹æœçš„ Notes éƒ½æ”¯æŒ Markdown äº†</p>
</li>
</ul>
<p>è¿™å°±åƒä½ å‘æ˜äº†ä¸€ç§æ–°çš„è®°è´¦æ–¹æ³•ï¼Œç»“æœå…¨ä¸–ç•Œçš„ä¼ä¸šéƒ½è·Ÿç€ç”¨äº†ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/17ce985811a8449da6c0e73b74028bb7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769766161&amp;x-signature=NbF9LowmAHfpamnY7XOyNKXxmhU%3D" alt="2.png" loading="lazy"/></p>
<h3 data-id="heading-3">3. Markdown æˆåŠŸçš„åä¸ªåŸå› </h3>
<p>æ‰€ä»¥ä¸ºä»€ä¹ˆ Markdown èƒ½åœ¨ä¼—å¤šæŠ€æœ¯ä¸­è„±é¢–è€Œå‡ºå‘¢ï¼Ÿ</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹å®ƒçš„æˆåŠŸç§˜å¯†ï¼š</p>
<h4 data-id="heading-4">1. ç»å¦™çš„åå­—</h4>
<p>â€œMarkdownâ€è¿™ä¸ªåå­—å¾ˆå¥½ï¼æ‡‚æŠ€æœ¯çš„äººä¸€çœ¼å°±çŸ¥é“å®ƒæ˜¯â€œå Markupâ€ï¼Œæ™®é€šäººå¬èµ·æ¥ä¹Ÿç®€å•å¥½è®°ã€‚</p>
<h4 data-id="heading-5">2. è§£å†³äº†çœŸå®ç—›ç‚¹</h4>
<p>ä¸æ˜¯æ‰€æœ‰æ–°æŠ€æœ¯éƒ½è§£å†³äº†å®é™…é—®é¢˜ï¼Œä½† Markdown ç¡®å®è®©æ— æ•°äººä» HTML çš„æŠ˜ç£¨ä¸­è§£è„±äº†å‡ºæ¥ã€‚</p>
<h4 data-id="heading-6">3. é¡ºåº”äº†ç”¨æˆ·ä¹ æƒ¯</h4>
<p>Markdown çš„è¯­æ³•åŸºäºäººä»¬å·²ç»åœ¨é‚®ä»¶å’Œæ–‡æ¡£ä¸­å½¢æˆçš„ä¹ æƒ¯ã€‚æ¯”å¦‚ç”¨ <code>*</code> è¡¨ç¤ºå¼ºè°ƒï¼Œç”¨ <code>#</code> è¡¨ç¤ºæ ‡é¢˜ç­‰ã€‚</p>
<h4 data-id="heading-7">4. æ‰¾åˆ°äº†æœ€ä½³æ—¶æœº</h4>
<p>2004 å¹´æ­£å€¼åšå®¢çˆ†å‘æœŸï¼Œäººä»¬æ­£åœ¨å¯»æ‰¾æ›´å¥½çš„å†™ä½œå·¥å…·ã€‚Markdown æ­£å¥½æ’ä¸Šäº†è¿™ä¸ªé£å£ã€‚</p>
<h4 data-id="heading-8">5. å¼€æ”¾åŒ…å®¹çš„ç¤¾åŒº</h4>
<p>ä»ä¸€å¼€å§‹ï¼ŒMarkdown å°±æœ‰ä¸€ä¸ªå¼€æ”¾çš„ç¤¾åŒºã€‚</p>
<p>å„ç§ç‰ˆæœ¬å‡ºç°ï¼šGitHub ç‰ˆæœ¬ã€é€šç”¨ç‰ˆæœ¬ã€æ‰©å±•ç‰ˆæœ¬...ä½†æ ¸å¿ƒä¾ç„¶ä¿æŒä¸€è‡´ã€‚</p>
<h4 data-id="heading-9">6. æç®€ä¸»ä¹‰çš„è®¾è®¡å“²å­¦</h4>
<p><strong>ä¿æŒç®€å•ï¼Œè€Œä¸æ˜¯è¿½æ±‚å¤æ‚ã€‚</strong> è¿™æ˜¯å¾ˆå¤šæˆåŠŸæŠ€æœ¯çš„å…±åŒç‰¹ç‚¹ã€‚</p>
<h4 data-id="heading-10">7. æŠ€æœ¯äººå‘˜çš„æ¨åŠ¨</h4>
<p>ç¨‹åºå‘˜ä»¬æ˜¯æ—©æœŸä½¿ç”¨è€…ï¼Œä»–ä»¬å‘ç°äº† Markdown çš„ä»·å€¼å¹¶å¤§åŠ›æ¨å¹¿ï¼Œå½¢æˆäº†æ»šé›ªçƒæ•ˆåº”ã€‚</p>
<h4 data-id="heading-11">8. å¯è¯»æ€§å¼º</h4>
<p>å³ä½¿ä¸æ‡‚ Markdown è¯­æ³•çš„äººï¼Œçœ‹åˆ° <code>.md</code> æ–‡ä»¶ä¹Ÿèƒ½å¤§æ¦‚çŒœå‡ºæ„æ€ã€‚è¿™ç§â€œè‡ªæˆ‘è§£é‡Šâ€çš„èƒ½åŠ›å¾ˆçè´µã€‚</p>
<h4 data-id="heading-12">9. è·¨å¹³å°å…¼å®¹</h4>
<p>Markdown æ–‡ä»¶åœ¨ä»»ä½•è®¾å¤‡ã€ä»»ä½•ç³»ç»Ÿä¸Šéƒ½èƒ½æ­£å¸¸æ˜¾ç¤ºå’Œç¼–è¾‘ã€‚ä¸æ€•è½¯ä»¶æ›´æ–°ï¼Œä¸æ€•ç³»ç»Ÿè¿ç§»ã€‚</p>
<h4 data-id="heading-13">10. é›¶ä¸“åˆ©å£å’</h4>
<p>æœ€é‡è¦çš„æ˜¯ï¼Œçº¦ç¿°Â·æ ¼é²ä¼¯æ²¡æœ‰ä¸º Markdown ç”³è¯·ä¸“åˆ©ã€‚è¿™æ„å‘³ç€ä»»ä½•äººéƒ½å¯ä»¥è‡ªç”±ä½¿ç”¨å®ƒã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/b0365863bb2b40bb80d6cf13ab9f340b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769766161&amp;x-signature=iVQsyM22sd6Ne18tpcZCWFhvkXQ%3D" alt="3.png" loading="lazy"/></p>
<h3 data-id="heading-14">4. å¸¦ç»™æˆ‘ä»¬ä»€ä¹ˆå¯å‘ï¼Ÿ</h3>
<p>Markdown çš„æ•…äº‹ä¸ä»…ä»…æ˜¯ä¸€ä¸ªæŠ€æœ¯æˆåŠŸçš„æ¡ˆä¾‹ï¼Œå®ƒè¿˜ç»™æˆ‘ä»¬å¾ˆå¤šå¯å‘ï¼š</p>
<h4 data-id="heading-15">4.1. ç®€å•æ¯”å¤æ‚æ›´æœ‰åŠ›é‡</h4>
<p>åœ¨è¿™ä¸ªå–œæ¬¢æŠŠç®€å•äº‹æƒ…æå¤æ‚çš„ä¸–ç•Œé‡Œï¼ŒMarkdown è¯æ˜äº†â€œless is moreâ€çš„æ™ºæ…§ã€‚</p>
<h4 data-id="heading-16">4.2. ä»è§£å†³å®é™…é—®é¢˜å‡ºå‘</h4>
<p>ä¸æ˜¯ä¸ºäº†æŠ€æœ¯è€ŒæŠ€æœ¯ï¼Œè€Œæ˜¯ä¸ºäº†è§£å†³äººä»¬çš„å®é™…é—®é¢˜ã€‚Markdown çš„æˆåŠŸæºäºå®ƒçœŸçš„è®©å†™ä½œå˜å¾—æ›´ç®€å•ã€‚</p>
<h4 data-id="heading-17">4.3. é•¿æœŸä¸»ä¹‰çš„é‡è¦æ€§</h4>
<p>ä» 2004 å¹´åˆ°ä»Šå¤©ï¼ŒMarkdown å·²ç»å­˜åœ¨äº†20å¹´ã€‚å®ƒæ²¡æœ‰ä¸€å¤œçˆ†çº¢ï¼Œè€Œæ˜¯æ…¢æ…¢æ¸—é€ï¼Œæœ€ç»ˆæ— å¤„ä¸åœ¨ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7ece05753f6c4b69a529db629bf648b6~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Ya05769:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769766161&amp;x-signature=KnLP5ATBMDmH1W1HPgTUA56F%2Bhk%3D" alt="4.png" loading="lazy"/></p>
<h3 data-id="heading-18">5. æœ€å</h3>
<p>ä¸æ˜¯æ¯ä¸ªäººéƒ½éœ€è¦å‘æ˜å½±å“ä¸–ç•Œçš„æŠ€æœ¯ï¼Œä½†æ¯ä¸ªäººéƒ½å¯ä»¥åˆ›é€ ä¸€äº›è®©ä¸–ç•Œå˜å¾—æ›´ç¾å¥½çš„å°ä¸œè¥¿ã€‚</p>
<p>å…³é”®åœ¨äºï¼šè§‚å¯Ÿäººä»¬çœŸæ­£çš„é—®é¢˜ï¼Œæå‡ºç®€å•çš„è§£å†³æ–¹æ¡ˆï¼Œç„¶ååˆ†äº«ç»™ä¸–ç•Œã€‚</p>
<p>æˆ–è®¸è¿™å°±æ˜¯ Markdown çš„æ•…äº‹ç»™æˆ‘ä»¬çš„æœ€çè´µçš„ç¤¼ç‰©ã€‚</p>
<p>æˆ‘æ˜¯å†´ç¾½ï¼Œ10 å¹´ç¬”è€•ä¸è¾ï¼Œä¸“æ³¨å‰ç«¯é¢†åŸŸï¼Œæ›´æ–°äº† 10+ ç³»åˆ—ã€300+ ç¯‡åŸåˆ›æŠ€æœ¯æ–‡ç« ï¼Œç¿»è¯‘è¿‡ Svelteã€Solid.jsã€TypeScript æ–‡æ¡£ï¼Œè‘—æœ‰å°å†Œã€ŠNext.js å¼€å‘æŒ‡å—ã€‹ã€ã€ŠSvelte å¼€å‘æŒ‡å—ã€‹ã€ã€ŠAstro å®æˆ˜æŒ‡å—ã€‹ã€‚</p>
<p>æ¬¢è¿å›´è§‚æˆ‘çš„â€œ<a href="https://link.juejin.cn?target=https%3A%2F%2Fyayujs.com%2F" target="_blank" title="https://yayujs.com/" ref="nofollow noopener noreferrer">ç½‘é¡µç‰ˆæœ‹å‹åœˆ</a>â€ï¼Œå…³æ³¨æˆ‘çš„å…¬ä¼—å·ï¼š<strong>å†´ç¾½ï¼ˆæˆ–æœç´¢ yayujsï¼‰</strong> ï¼Œæ¯å¤©åˆ†äº«å‰ç«¯çŸ¥è¯†ã€AI å¹²è´§ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è¦å˜å¤©äº†ï¼Œæ‰‹æœºä¹Ÿèƒ½æ“ä½œClaude Codeäº†]]></title>    <link>https://juejin.cn/post/7598320487508492323</link>    <guid>https://juejin.cn/post/7598320487508492323</guid>    <pubDate>2026-01-23T09:31:43.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598320487508492323" data-draft-id="7598382710294085632" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è¦å˜å¤©äº†ï¼Œæ‰‹æœºä¹Ÿèƒ½æ“ä½œClaude Codeäº†"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½"/> <meta itemprop="datePublished" content="2026-01-23T09:31:43.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¢¨èˆŸ"/> <meta itemprop="url" content="https://juejin.cn/user/1398234520494366"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è¦å˜å¤©äº†ï¼Œæ‰‹æœºä¹Ÿèƒ½æ“ä½œClaude Codeäº†
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1398234520494366/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¢¨èˆŸ
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:31:43.000Z" title="Fri Jan 23 2026 09:31:43 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>ä¹‹å‰åœ¨ç”¨Claude Codeå’ŒCodexæ—¶æ€»æ˜¯ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼ŒClaude Codeè¿˜åœ¨è¿›è¡Œä¸­ï¼Œè¿™æ—¶å€™äººå´ä¸åœ¨ç”µè„‘æ—äº†ï¼Œæ¯”å¦‚å»åƒé¥­äº†ï¼Œå‡ºå»ç©äº†ï¼Œåœ¨ååœ°é“ï¼Œæœ‰æ—¶å€™æƒ³å®æ—¶çœ‹çœ‹æ‰§è¡Œçš„æƒ…å†µã€‚è¿˜æœ‰å°±æ˜¯å› ä¸ºClaude Maxä¼šå‘˜ï¼Œæ€»æƒ³ç€å¯ä»¥æœ€å¤§é™åº¦çš„ç”¨é¢åº¦ã€‚é‚£æ—¶å°±æƒ³è¿‡æœ‰æ²¡æœ‰è¿™æ ·çš„å·¥å…·å¯ä»¥äº’è”å®æ—¶æŸ¥çœ‹ã€‚æ²¡æƒ³åˆ°ç°åœ¨å·²ç»æœ‰äº†ï¼Œå®ƒå°±æ˜¯ Happy Coderã€‚ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/2264236c36374ec29d325d022830d719~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6Iif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765503&amp;x-signature=%2BIjbYMg5aZNgccpnRIuGwFKWhO8%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-0">ä»€ä¹ˆæ˜¯ Happy Coder</h2>
<p>ç®€å•ç‚¹è¯´å°±æ˜¯ Happy Coderæ˜¯ä¸€ä¸ªå¯ä»¥åœ¨æ‰‹æœºä¸Šå®æ—¶æ§åˆ¶å’ŒæŸ¥çœ‹æ­£åœ¨ç”µè„‘ä¸­è¿è¡Œçš„Claude Codeæˆ– Codexã€‚å¯ä»¥è·¨è®¾å¤‡ä½¿ç”¨ï¼Œä¸éœ€è¦åœ¨åŒä¸€wifiä¸‹å°±å¯ä»¥å®ç°ï¼Œæœ€é‡è¦çš„æ˜¯å®ƒæ˜¯ <strong>ç«¯åˆ°ç«¯åŠ å¯†</strong>çš„ï¼Œä¸å­˜åœ¨ä¿¡æ¯æ³„æ¼çš„æƒ…å†µã€‚</p>
<h2 data-id="heading-1">å¦‚ä½•ä½¿ç”¨</h2>
<p>1ã€ç”µè„‘å®‰è£… Happyæœ‰Coderï¼Œè¿™æ˜¯å®ƒçš„githubåœ°å€ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fslopus%2Fhappy" target="_blank" title="https://github.com/slopus/happy" ref="nofollow noopener noreferrer">Happy Coder</a>, npm å…¨å±€å®‰è£…</p>
<pre><code class="hljs">npm install -g happy-coder
</code></pre>
<p>å®‰è£…å¥½åï¼Œå¦‚æœä½ è¦è¿è¡Œ Claude Codeï¼Œåˆ™æ‰§è¡Œ</p>
<pre><code class="hljs">Happy
</code></pre>
<p>å¦‚æœæ˜¯è¿è¡ŒCodexï¼Œåˆ™æ‰§è¡Œ</p>
<pre><code class="hljs">Happy Codex
</code></pre>
<p>æ‰§è¡Œåä¼šå…ˆå‡ºç°è¿™ä¸ªé€‰é¡¹ï¼Œé€‰ç§»åŠ¨ç«¯è¿˜æ˜¯æµè§ˆå™¨ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/30dccac334894cab8e143b1301a92279~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6Iif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765503&amp;x-signature=Sy5uouLbmqi4ESJHg53GB%2BBn1Q4%3D" alt="choose" loading="lazy"/></p>
<p>è¿è¡Œåä¼šå‡ºç°è¿™æ ·çš„ä¸€ä¸ªäºŒç»´ç ï¼š <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/15781b5da1c4471385900af5aa547c7b~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6Iif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765503&amp;x-signature=AdjZWYwloEVQA%2Bq%2BCQWrurmCYtk%3D" alt="qrcode" loading="lazy"/></p>
<p>2ã€æ‰‹æœºå®‰è£…Happy Code app åœ¨æ‰‹æœºä¸Šä¸‹è½½ Happy Code:</p>
<ul>
<li>IOS: <a href="https://link.juejin.cn?target=https%3A%2F%2Fapps.apple.com%2Fus%2Fapp%2Fhappy-claude-code-client%2Fid6748571505" target="_blank" title="https://apps.apple.com/us/app/happy-claude-code-client/id6748571505" ref="nofollow noopener noreferrer">apps.apple.com/us/app/happâ€¦</a></li>
<li>å®‰å“ï¼š<a href="https://link.juejin.cn?target=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.ex3ndr.happy" target="_blank" title="https://play.google.com/store/apps/details?id=com.ex3ndr.happy" ref="nofollow noopener noreferrer">play.google.com/store/apps/â€¦</a> è¿™ä¸ªapp</li>
</ul>
<p>3ã€è¿æ¥ç”µè„‘ æ‰“å¼€ä¸‹è½½å¥½çš„Happ Codeï¼Œæ‰«ç ç”µè„‘ä¸Šåˆšå‡ºç°çš„é‚£ä¸ªäºŒç»´ç ã€‚ç”µè„‘ä¼šè¯·æ±‚æƒé™ï¼ŒåŒæ„åå°±å¯ä»¥çœ‹åˆ°è¿æ¥æˆåŠŸäº†ï¼Œå¦‚å›¾ <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/324e2a71a2f645bc8a8863e9266d5a3d~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6Iif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765503&amp;x-signature=lBx8vY4NP33ap%2BVeM8y4PqKHnYs%3D" alt="term" loading="lazy"/></p>
<p>ç°åœ¨å¯ä»¥åœ¨æ‰‹æœºä¸Šè¿›è¡Œå¯¹è¯ï¼Œæ¯”å¦‚æˆ‘ä»¬è®©ä»–æ–°å»ºä¸€ä¸ªhello wordçš„html <img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/ea8b4789524441eea01000fb97cef630~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5aKo6Iif:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769765503&amp;x-signature=r53vwHQpgHRZ0MC8wAOF1t5vn%2Bk%3D" alt="681769159329_.pic" loading="lazy"/></p>
<p>å¯ä»¥åœ¨ç”µè„‘çœ‹åˆ°è¯¥æ–‡ä»¶å·²ç»æœ‰äº†ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨æ‰‹æœºä¸Šæ„‰å¿«çš„æŒ‡æŒ¥Claude Codeäº†ï¼Œå¿«å»è¯•è¯•å§</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Golangå¯¹è±¡æ± æ€§èƒ½ä¼˜åŒ–è¯¯åŒº]]></title>    <link>https://juejin.cn/post/7598362826110107698</link>    <guid>https://juejin.cn/post/7598362826110107698</guid>    <pubDate>2026-01-23T09:40:24.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598362826110107698" data-draft-id="7598390354291621934" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Golangå¯¹è±¡æ± æ€§èƒ½ä¼˜åŒ–è¯¯åŒº"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-23T09:40:24.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="è¿½å…‰è€…1995"/> <meta itemprop="url" content="https://juejin.cn/user/1444138868028331"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Golangå¯¹è±¡æ± æ€§èƒ½ä¼˜åŒ–è¯¯åŒº
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1444138868028331/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    è¿½å…‰è€…1995
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:40:24.000Z" title="Fri Jan 23 2026 09:40:24 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    1
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»2åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>æœ€è¿‘åœ¨åšä¸€ä¸ªå¾®æœåŠ¡é¡¹ç›®å‡†å¤‡è½¬å‹Golangï¼Œå¾ˆæ—©å°±ç”¨ä¸Šäº†sync.Poolï¼Œç›®å‰æ­£åœ¨åšæ€§èƒ½ä¸Šçš„å¾®è°ƒï¼Œå‘ç°ä¸€ä¸ªè¯¡å¼‚çš„ç°è±¡â€”â€”â€”â€”ä½¿ç”¨å¯¹è±¡æ± åˆ›å»ºDTOçš„æ€§èƒ½ç«Ÿç„¶æ›´ä½ï¼Œæ‰§è¡Œçš„å‘½ä»¤å¦‚ä¸‹ï¼š
go test -bench="." -benchmem -count=5
é™„ä¸ŠåŸºå‡†æµ‹è¯•æˆªå›¾ï¼š</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/16fd5f7c02434de8ac8dd0157f9a5509~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg6L-95YWJ6ICFMTk5NQ==:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769766024&amp;x-signature=L0JX%2BlLT4WXa9kufUy6CFGVXVk8%3D" alt="image.png" loading="lazy"/></p>
<pre><code class="hljs language-go" lang="go"><span class="hljs-keyword">var</span> (
    objectPool = sync.Pool{
       New: <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">()</span></span> <span class="hljs-keyword">interface</span>{} {
          <span class="hljs-keyword">return</span> &amp;dto.OrderProductInvetoryDto{
             OrderId:             <span class="hljs-number">0</span>,
             ProductInvetory:     <span class="hljs-built_in">make</span>([]*dto.OrderProductInvetoryItem, <span class="hljs-number">15</span>),
             ProductSizeInvetory: <span class="hljs-built_in">make</span>([]*dto.OrderProductSizeInvetoryItem, <span class="hljs-number">15</span>),
          }
       },
    }
)

<span class="hljs-comment">// åŸºå‡†æµ‹è¯•ï¼šç›´æ¥åˆ›å»ºå¯¹è±¡</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">BenchmarkWithoutPool</span><span class="hljs-params">(b *testing.B)</span></span> {
    b.ReportAllocs() <span class="hljs-comment">// æŠ¥å‘Šå†…å­˜åˆ†é…æƒ…å†µ</span>
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; b.N; i++ {
       obj := &amp;dto.OrderProductInvetoryDto{}
       _ = obj <span class="hljs-comment">// é˜²æ­¢ç¼–è¯‘å™¨ä¼˜åŒ–</span>
    }
}

<span class="hljs-comment">// åŸºå‡†æµ‹è¯•ï¼šä½¿ç”¨ sync.Pool</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">BenchmarkWithPool</span><span class="hljs-params">(b *testing.B)</span></span> {
    b.ReportAllocs()
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; b.N; i++ {
       obj := objectPool.Get().(*dto.OrderProductInvetoryDto)
       obj.OrderId = <span class="hljs-number">0</span>
       obj.Reset()
       objectPool.Put(obj)
    }
}
</code></pre>
<p>å¯¹è±¡æ± æ˜¯æ€§èƒ½æå‡ç¥å™¨æ€ä¹ˆè€—æ—¶åè€Œæ›´å¤šäº†ï¼ŸåŸå› åœ¨äºè¿™ä¸ªç»“æ„ä½“å¤ªå°ï¼Œé‡Œé¢çš„åˆ‡ç‰‡æ•°æ®é‡ä¹Ÿå¾ˆå°ï¼Œç›´æ¥åˆ›å»ºçš„èµ„æºå¼€é”€è¾ƒå°ï¼Œè€Œä»å¯¹è±¡æ± å­˜å–éœ€è¦ç»è¿‡â€œå–å‡º-&gt;ç±»å‹æ–­è¨€-&gt;é‡ç½®-&gt;æ”¾å›â€ï¼Œæ¯ä¸€æ­¥éƒ½æœ‰å¼€é”€ï¼Œç‰¹åˆ«æ˜¯ç±»å‹æ–­è¨€ä¼šå ç”¨å°‘é‡CPUèµ„æºï¼Œæ€»è€—æ—¶å¤§äºç›´æ¥åˆ›å»ºå¯¹è±¡çš„è€—æ—¶ã€‚</p>
<p>åŒç†ï¼Œzap.Loggerå†™æ—¥å¿—çš„æ—¶å€™èµ·åˆä¹Ÿç”¨å¯¹è±¡æ± å­˜å–[]zap.Fieldåˆ‡ç‰‡ï¼ŒåŸºå‡†æµ‹è¯•å‘ç°æ›´æ…¢äºæ˜¯åˆæ”¹å›ç›´æ¥åˆ›å»ºåˆ‡ç‰‡ã€‚äº‹å®ä¸Šé¡¹ç›®ç”¨çš„æ—¥å¿—æœ€å¤š12ä¸ªå­—æ®µï¼Œåˆ‡ç‰‡é•¿åº¦æœ€å¤§ä¸º12ï¼Œç”¨å¯¹è±¡æ± åè€Œæ›´æ…¢ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¯¹è±¡æ± ä½¿ç”¨ä¸å½“åå€’ä¼šé€ æˆæ€§èƒ½ä¸‹é™ï¼Œå› ä¸ºå¯¹è±¡æ± é’ˆå¯¹çš„æ˜¯é¢‘ç¹åˆ›å»ºå’Œé”€æ¯åˆ›å»ºæˆæœ¬å¾ˆå¤§è€Œä¸”ç»“æ„å¤æ‚çš„ç»“æ„ä½“ï¼Œåƒ[]zap.Fieldã€DTOä¸è¦è®¾è®¡å¾—å¤ªå¤æ‚ä¼ é€’å¤ªå¤šæ•°æ®ï¼Œç›´æ¥åˆ›å»ºå¯¹è±¡çš„æˆæœ¬å°†æ˜¾è‘—ä½äºå¯¹è±¡æ± å­˜å–ã€‚è™½ç„¶å¯¹è±¡æ± å¾ˆå¥½ç”¨ï¼Œä½†é¢‘ç¹ä½¿ç”¨å¤§å‹ç»“æ„ä½“çš„åˆç†æ€§å­˜ç–‘ï¼Œéœ€è¦æ£€æŸ¥æ¥å£è€¦åˆåº¦æ˜¯å¦è¿‡é«˜åŠåŠŸèƒ½éœ€æ±‚è®¾è®¡æ˜¯å¦å­˜åœ¨ä¸åˆç†ä¹‹å¤„ï¼Œå‡å°‘å¯¹å¤§å‹ç»“æ„ä½“çš„ä¾èµ–æ‰æ˜¯æ­£ç¡®çš„åšæ³•ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[ä»é›¶å¼€å§‹æ„å»º Manus ç³»ç»Ÿï¼š03-Sandbox Filesystem]]></title>    <link>https://juejin.cn/post/7598362826110091314</link>    <guid>https://juejin.cn/post/7598362826110091314</guid>    <pubDate>2026-01-23T09:39:20.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598362826110091314" data-draft-id="7597997108135444507" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="ä»é›¶å¼€å§‹æ„å»º Manus ç³»ç»Ÿï¼š03-Sandbox Filesystem"/> <meta itemprop="keywords" content="äººå·¥æ™ºèƒ½,Python"/> <meta itemprop="datePublished" content="2026-01-23T09:39:20.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ä¸¤ä¸‡äº”åƒä¸ªå°æ—¶"/> <meta itemprop="url" content="https://juejin.cn/user/3966693682971870"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            ä»é›¶å¼€å§‹æ„å»º Manus ç³»ç»Ÿï¼š03-Sandbox Filesystem
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3966693682971870/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ä¸¤ä¸‡äº”åƒä¸ªå°æ—¶
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:39:20.000Z" title="Fri Jan 23 2026 09:39:20 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»8åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">ä»é›¶å¼€å§‹æ„å»º Manus ç³»ç»Ÿï¼š03-Sandbox Filesystem</h2>
<h3 data-id="heading-1">ğŸ“ å¯¼èˆªæŒ‡å—</h3>
<p>åœ¨é›†æˆäº†æµè§ˆå™¨æ“æ§èƒ½åŠ›åï¼Œæˆ‘ä»¬ç»§ç»­ä¸º AI Agent æ‰©å±•èƒ½åŠ›è¾¹ç•Œã€‚è¿™æ¬¡ï¼Œæˆ‘ä»¬è¦èµ‹äºˆå®ƒ"æ–‡ä»¶ä¸“å®¶"çš„èº«ä»½â€”â€”èƒ½å¤Ÿè¯»å–ä»£ç ã€å†™å…¥æ–‡æ¡£ã€æœç´¢å†…å®¹ã€ç”šè‡³é‡æ„æ•´ä¸ªé¡¹ç›®ã€‚</p>
<ul>
<li>ğŸ” <strong>ä¸ºä»€ä¹ˆéœ€è¦æ–‡ä»¶ç³»ç»Ÿï¼Ÿ</strong> â†’ <a href="#part-1" title="#part-1">ç¬¬ä¸€éƒ¨åˆ†ï¼šèƒŒæ™¯ä¸æ¶æ„</a> - ç†è§£ AI è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„å¿…è¦æ€§</li>
<li>ğŸ› ï¸ <strong>å¦‚ä½•é›†æˆï¼Ÿ</strong> â†’ <a href="#part-2" title="#part-2">ç¬¬äºŒéƒ¨åˆ†ï¼šç¯å¢ƒæ„å»º</a> - Node.js MCP Filesystem Server é…ç½®</li>
<li>âš™ï¸ <strong>æ€ä¹ˆç®¡ç†ï¼Ÿ</strong> â†’ <a href="#part-3" title="#part-3">ç¬¬ä¸‰éƒ¨åˆ†ï¼šæœåŠ¡ç¼–æ’</a> - Supervisor è¿›ç¨‹ç®¡ç†å’Œæƒé™æ§åˆ¶</li>
<li>ğŸ”Œ <strong>å¦‚ä½•è¿æ¥ï¼Ÿ</strong> â†’ <a href="#part-4" title="#part-4">ç¬¬å››éƒ¨åˆ†ï¼šMCPé›†æˆ</a> - MCP Filesystem çš„å·¥ä½œåŸç†</li>
<li>ğŸ§ª <strong>éªŒè¯æµ‹è¯•</strong> â†’ <a href="#part-5" title="#part-5">ç¬¬äº”éƒ¨åˆ†ï¼šæµ‹è¯•éªŒè¯</a> - å®Œæ•´çš„åŠŸèƒ½æµ‹è¯•å’Œåº”ç”¨åœºæ™¯</li>
</ul>
<hr/>
<h3 data-id="heading-2">ç›®å½•</h3>
<h4 data-id="heading-3">ç¬¬ä¸€éƒ¨åˆ†ï¼šèƒŒæ™¯ä¸æ¶æ„ ğŸ”</h4>
<ul>
<li><a href="#why-filesystem" title="#why-filesystem">ä¸ºä»€ä¹ˆè¦ç»™æ²™ç›’è£…æ–‡ä»¶ç³»ç»Ÿï¼Ÿ</a></li>
<li><a href="#filesystem-architecture" title="#filesystem-architecture">æ¶æ„è®¾è®¡ï¼šMCP Filesystem</a></li>
</ul>
<h4 data-id="heading-4">ç¬¬äºŒéƒ¨åˆ†ï¼šç¯å¢ƒæ„å»º ğŸ› ï¸</h4>
<ul>
<li><a href="#nodejs-filesystem" title="#nodejs-filesystem">Node.js MCP Filesystem Server</a></li>
<li><a href="#security-config" title="#security-config">æƒé™å’Œå®‰å…¨é…ç½®</a></li>
</ul>
<h4 data-id="heading-5">ç¬¬ä¸‰éƒ¨åˆ†ï¼šæœåŠ¡ç¼–æ’ âš™ï¸</h4>
<ul>
<li><a href="#supervisor-filesystem" title="#supervisor-filesystem">Supervisor é…ç½®</a></li>
<li><a href="#process-deps-filesystem" title="#process-deps-filesystem">è¿›ç¨‹ä¾èµ–ç®¡ç†</a></li>
</ul>
<h4 data-id="heading-6">ç¬¬å››éƒ¨åˆ†ï¼šMCPé›†æˆ ğŸ”Œ</h4>
<ul>
<li><a href="#mcp-filesystem-config" title="#mcp-filesystem-config">MCP Filesystem é…ç½®</a></li>
<li><a href="#filesystem-scenarios" title="#filesystem-scenarios">å®é™…åº”ç”¨åœºæ™¯</a></li>
</ul>
<h4 data-id="heading-7">ç¬¬äº”éƒ¨åˆ†ï¼šæµ‹è¯•éªŒè¯ ğŸ§ª</h4>
<ul>
<li><a href="#test-filesystem" title="#test-filesystem">æµ‹è¯•è„šæœ¬ï¼štest_filesystem.py</a></li>
<li><a href="#performance-validation" title="#performance-validation">æ€§èƒ½å’Œå®‰å…¨éªŒè¯</a></li>
</ul>
<h4 data-id="heading-8">é™„å½•</h4>
<ul>
<li><a href="#filesystem-faq" title="#filesystem-faq">å¸¸è§é—®é¢˜ FAQ</a></li>
</ul>
<hr/>
<h3 data-id="heading-9">å¼•è¨€</h3>
<p>åœ¨ <a href="https://juejin.cn/post/7598104596779941934" target="_blank" title="https://juejin.cn/post/7598104596779941934">ä»é›¶å¼€å§‹æ„å»º Manus ç³»ç»Ÿï¼š02-Sandbox Chrome</a> ä¸­ï¼Œæˆ‘ä»¬è®© AI Agent èƒ½å¤Ÿæµè§ˆäº’è”ç½‘ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬è¦è®©å®ƒæˆä¸ºçœŸæ­£çš„"æ–‡ä»¶ä¸“å®¶"â€”â€”èƒ½å¤Ÿè¯»å–æºä»£ç ã€åˆ†æé¡¹ç›®ç»“æ„ã€ä¿®æ”¹æ–‡ä»¶ã€ç”šè‡³è¿›è¡Œå¤§è§„æ¨¡çš„é‡æ„ã€‚</p>
<p>æ–‡ä»¶ç³»ç»Ÿæ“ä½œæ˜¯ AI Agent æœ€åŸºç¡€ä½†ä¹Ÿæœ€å¼ºå¤§çš„èƒ½åŠ›ä¹‹ä¸€ã€‚ä»ç®€å•çš„æ–‡ä»¶è¯»å–ï¼Œåˆ°å¤æ‚çš„ä»£ç åˆ†æå’Œé‡æ„ï¼Œæ–‡ä»¶ç³»ç»Ÿ MCP ä¸º AI æä¾›äº†ä¸å¼€å‘è€…ç›¸åŒçš„æ–‡ä»¶æ“ä½œæƒé™ã€‚</p>
<hr/>
<p><a id="user-content-part-1" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-10">ç¬¬ä¸€éƒ¨åˆ†ï¼šèƒŒæ™¯ä¸æ¶æ„ ğŸ”</h3>
<p><a id="user-content-why-filesystem" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-11">ä¸ºä»€ä¹ˆè¦ç»™æ²™ç›’è£…æ–‡ä»¶ç³»ç»Ÿï¼Ÿ</h4>
<p>å¯¹äºäººç±»å¼€å‘è€…æ¥è¯´ï¼Œæ–‡ä»¶ç³»ç»Ÿæ˜¯æˆ‘ä»¬æ—¥å¸¸å·¥ä½œçš„åŸºç¡€ã€‚å¯¹äº AI Agent è€Œè¨€ï¼Œé›†æˆæ–‡ä»¶ç³»ç»Ÿèƒ½åŠ›æ„å‘³ç€ï¼š</p>
<ol>
<li><strong>ä»£ç ç†è§£ä¸åˆ†æ</strong>ï¼šè¯»å–æºä»£ç ã€ç†è§£é¡¹ç›®ç»“æ„ã€åˆ†æä¾èµ–å…³ç³»ã€‚</li>
<li><strong>æ–‡æ¡£ç”Ÿæˆä¸ç»´æŠ¤</strong>ï¼šåˆ›å»º READMEã€API æ–‡æ¡£ã€é…ç½®æ–‡ä»¶ã€‚</li>
<li><strong>é¡¹ç›®é‡æ„ä¸ä¼˜åŒ–</strong>ï¼šå¤§è§„æ¨¡ä»£ç ä¿®æ”¹ã€æ–‡ä»¶é‡ç»„ã€æ¶æ„è°ƒæ•´ã€‚</li>
<li><strong>æ•°æ®å¤„ç†ä¸å­˜å‚¨</strong>ï¼šè¯»å–é…ç½®æ–‡ä»¶ã€å¤„ç†æ•°æ®æ–‡ä»¶ã€ç”ŸæˆæŠ¥å‘Šã€‚</li>
<li><strong>å¼€å‘ç¯å¢ƒç®¡ç†</strong>ï¼šå®‰è£…ä¾èµ–ã€è¿è¡Œæ„å»ºè„šæœ¬ã€ç®¡ç†é¡¹ç›®æ–‡ä»¶ã€‚</li>
</ol>
<p><a id="user-content-filesystem-architecture" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-12">æ¶æ„è®¾è®¡ï¼šMCP Filesystem</h4>
<p>æˆ‘ä»¬çš„æ–‡ä»¶ç³»ç»Ÿé›†æˆåŸºäºä»¥ä¸‹è®¾è®¡ï¼š</p>
<pre><code class="hljs language-mermaid" lang="mermaid">graph LR
    Agent[AI Agent] --MCP Protocol--&gt; MCP_Server[MCP Filesystem Server]
    MCP_Server --POSIX API--&gt; Filesystem[(Linux Filesystem)]
    Filesystem --Volume Mount--&gt; Host_Workspace[/host/workspace/]
</code></pre>
<p><strong>å…³é”®è®¾è®¡å†³ç­–</strong>ï¼š</p>
<ul>
<li><strong>å®˜æ–¹ MCP å®ç°</strong>ï¼šä½¿ç”¨ <code>@modelcontextprotocol/server-filesystem</code>ï¼Œç¡®ä¿åè®®å…¼å®¹æ€§å’ŒåŠŸèƒ½å®Œæ•´æ€§</li>
<li><strong>å—é™å·¥ä½œåŒº</strong>ï¼šæ‰€æœ‰æ“ä½œé™åˆ¶åœ¨ <code>/root/shared/workspace/</code> ç›®å½•ï¼Œé˜²æ­¢è¶Šæƒè®¿é—®</li>
<li><strong>POSIX å…¼å®¹</strong>ï¼šæ ‡å‡†çš„æ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼Œæ”¯æŒæƒé™ã€æ‰€æœ‰è€…ã€æ—¶é—´æˆ³ç­‰å…ƒæ•°æ®</li>
<li><strong>å¼‚æ­¥æ“ä½œ</strong>ï¼šæ”¯æŒå¤§æ–‡ä»¶çš„å¼‚æ­¥è¯»å–å’Œå†™å…¥</li>
</ul>
<hr/>
<p><a id="user-content-part-2" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-13">ç¬¬äºŒéƒ¨åˆ†ï¼šç¯å¢ƒæ„å»º ğŸ› ï¸</h3>
<p><a id="user-content-nodejs-filesystem" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-14">Node.js MCP Filesystem Server</h4>
<p>æ–‡ä»¶ç³»ç»Ÿ MCP æ˜¯å®˜æ–¹æä¾›çš„ Node.js å®ç°ï¼Œæˆ‘ä»¬å·²ç»åœ¨ Dockerfile ä¸­å®‰è£…äº†å®ƒï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># å…¨å±€å®‰è£… MCP Filesystem Server
RUN npm install -g @modelcontextprotocol/server-filesystem@latest
</code></pre>
<p>è¿™ä¸ªåŒ…æä¾›äº† 8 ä¸ªæ ¸å¿ƒæ–‡ä»¶æ“ä½œå·¥å…·ï¼š</p>
<ol>
<li>
<p><strong>è¯»å–æ“ä½œ</strong></p>
<ul>
<li><code>read_file</code> - è¯»å–æ–‡ä»¶å†…å®¹</li>
<li><code>read_directory</code> - åˆ—å‡ºç›®å½•å†…å®¹</li>
<li><code>get_file_info</code> - è·å–æ–‡ä»¶å…ƒæ•°æ®</li>
</ul>
</li>
<li>
<p><strong>å†™å…¥æ“ä½œ</strong></p>
<ul>
<li><code>write_file</code> - åˆ›å»ºæˆ–è¦†ç›–æ–‡ä»¶</li>
<li><code>create_directory</code> - åˆ›å»ºç›®å½•</li>
</ul>
</li>
<li>
<p><strong>ä¿®æ”¹æ“ä½œ</strong></p>
<ul>
<li><code>search_replace</code> - åœ¨æ–‡ä»¶ä¸­è¿›è¡Œç²¾ç¡®çš„å­—ç¬¦ä¸²æ›¿æ¢</li>
<li><code>move_file</code> - ç§»åŠ¨æˆ–é‡å‘½åæ–‡ä»¶</li>
</ul>
</li>
<li>
<p><strong>åˆ é™¤æ“ä½œ</strong></p>
<ul>
<li><code>delete_file</code> - åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•</li>
</ul>
</li>
</ol>
<p><a id="user-content-security-config" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-15">æƒé™å’Œå®‰å…¨é…ç½®</h4>
<p>æ–‡ä»¶ç³»ç»Ÿæ“ä½œçš„å®‰å…¨æ€§è‡³å…³é‡è¦ï¼š</p>
<pre><code class="hljs language-dockerfile" lang="dockerfile"># åˆ›å»ºå—é™çš„å·¥ä½œåŒºç›®å½•
RUN mkdir -p /root/shared/workspace /root/shared/workspace/screenshots /root/shared/workspace/downloads
</code></pre>
<p><strong>å®‰å…¨æªæ–½</strong>ï¼š</p>
<ul>
<li><strong>è·¯å¾„é™åˆ¶</strong>ï¼šæ‰€æœ‰æ“ä½œéƒ½è¢«é™åˆ¶åœ¨ <code>/root/shared/workspace/</code> åŠå…¶å­ç›®å½•</li>
<li><strong>æƒé™æ£€æŸ¥</strong>ï¼šæœåŠ¡å™¨ä¼šéªŒè¯æ–‡ä»¶è®¿é—®æƒé™</li>
<li><strong>èµ„æºé™åˆ¶</strong>ï¼šé˜²æ­¢è¯»å–è¿‡å¤§çš„æ–‡ä»¶æˆ–è¿›è¡Œæ— é™é€’å½’</li>
<li><strong>å®¡è®¡æ—¥å¿—</strong>ï¼šæ‰€æœ‰æ–‡ä»¶æ“ä½œéƒ½ä¼šè®°å½•åˆ° supervisord æ—¥å¿—</li>
</ul>
<hr/>
<p><a id="user-content-part-3" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-16">ç¬¬ä¸‰éƒ¨åˆ†ï¼šæœåŠ¡ç¼–æ’ âš™ï¸</h3>
<p><a id="user-content-supervisor-filesystem" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-17">Supervisor é…ç½®</h4>
<p>åœ¨ <code>supervisord.conf</code> ä¸­ï¼Œæˆ‘ä»¬é…ç½®äº† MCP Filesystem Serverï¼š</p>
<pre><code class="hljs language-ini" lang="ini"><span class="hljs-comment">; MCP Filesystem Server (Official - Node.js)</span>
<span class="hljs-section">[program:mcp-filesystem]</span>
<span class="hljs-attr">command</span>=/usr/bin/npx -y @modelcontextprotocol/server-filesystem /root/shared/workspace
<span class="hljs-attr">directory</span>=/root/shared/workspace
<span class="hljs-attr">environment</span>=NODE_ENV=<span class="hljs-string">"production"</span>
<span class="hljs-attr">autorestart</span>=<span class="hljs-literal">true</span>
<span class="hljs-attr">stdout_logfile</span>=/dev/stdout
<span class="hljs-attr">stdout_logfile_maxbytes</span>=<span class="hljs-number">0</span>
<span class="hljs-attr">stderr_logfile</span>=/dev/stderr
<span class="hljs-attr">stderr_logfile_maxbytes</span>=<span class="hljs-number">0</span>
<span class="hljs-attr">priority</span>=<span class="hljs-number">601</span>
<span class="hljs-attr">startsecs</span>=<span class="hljs-number">5</span>
</code></pre>
<p><a id="user-content-process-deps-filesystem" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-18">è¿›ç¨‹ä¾èµ–ç®¡ç†</h4>
<p>æ–‡ä»¶ç³»ç»ŸæœåŠ¡å™¨çš„ä¼˜å…ˆçº§è®¾ç½®ä¸º 601ï¼Œé«˜äºåŸºç¡€æœåŠ¡ä½†ä½äºåº”ç”¨æœåŠ¡ï¼š</p>
<ul>
<li><code>xvfb</code> (100) â†’ <code>fluxbox</code> (200) â†’ <code>chrome</code> (200) â†’ <code>x11vnc</code> (400) â†’ <code>websockify</code> (500)</li>
<li><code>mcp-shell</code> (600) â†’ <code>mcp-filesystem</code> (601) â†’ <code>mcp-chrome</code> (602) â†’ <code>mcp-manager</code> (603)</li>
</ul>
<p>è¿™ç§ä¼˜å…ˆçº§ç¡®ä¿äº†ï¼š</p>
<ol>
<li><strong>åŸºç¡€ç¯å¢ƒå…ˆå°±ç»ª</strong>ï¼šX11 å’Œç½‘ç»œæœåŠ¡å…ˆå¯åŠ¨</li>
<li><strong>MCP æœåŠ¡é¡ºåºå¯åŠ¨</strong>ï¼šShell åŸºç¡€åŠŸèƒ½ â†’ æ–‡ä»¶ç³»ç»Ÿ â†’ æµè§ˆå™¨ â†’ ç®¡ç†å™¨</li>
<li><strong>ä¾èµ–å…³ç³»æ­£ç¡®</strong>ï¼šæ–‡ä»¶ç³»ç»ŸæœåŠ¡ä¸éœ€è¦ç­‰å¾…å…¶ä»–æœåŠ¡ï¼Œå¯ä»¥ç‹¬ç«‹å¯åŠ¨</li>
</ol>
<hr/>
<p><a id="user-content-part-4" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-19">ç¬¬å››éƒ¨åˆ†ï¼šMCPé›†æˆ ğŸ”Œ</h3>
<p><a id="user-content-mcp-filesystem-config" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-20">MCP Filesystem é…ç½®</h4>
<p>MCP Filesystem Server é€šè¿‡ä»¥ä¸‹å‚æ•°å¯åŠ¨ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">npx @modelcontextprotocol/server-filesystem /root/shared/workspace
</code></pre>
<p><strong>å…³é”®å‚æ•°</strong>ï¼š</p>
<ul>
<li><strong>å·¥ä½œç›®å½•</strong>ï¼š<code>/root/shared/workspace</code> - æ‰€æœ‰æ“ä½œçš„æ ¹ç›®å½•</li>
<li><strong>åè®®ç‰ˆæœ¬</strong>ï¼šè‡ªåŠ¨åå•†æœ€æ–°çš„ MCP åè®®ç‰ˆæœ¬</li>
<li><strong>å¹¶å‘é™åˆ¶</strong>ï¼šå†…ç½®çš„å¹¶å‘æ§åˆ¶ï¼Œé˜²æ­¢æ–‡ä»¶ç³»ç»Ÿè¿‡è½½</li>
</ul>
<p><a id="user-content-filesystem-scenarios" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-21">å®é™…åº”ç”¨åœºæ™¯</h4>
<p>å½“ MCP Filesystem é›†æˆå®Œæˆåï¼ŒAI Agent å°±å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<ol>
<li><strong>ä»£ç åˆ†æ</strong>:</li>
</ol>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"read_file"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"src/main.py"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"encoding"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"utf-8"</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span>
</code></pre>
<p>Agent å¯ä»¥è¯»å–æºä»£ç æ–‡ä»¶ï¼Œç†è§£é¡¹ç›®ç»“æ„å’Œå®ç°é€»è¾‘ã€‚</p>
<ol start="2">
<li><strong>é¡¹ç›®æ–‡æ¡£ç”Ÿæˆ</strong>:</li>
</ol>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"write_file"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"README.md"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"content"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"# My Project\n\n..."</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span>
</code></pre>
<p>Agent å¯ä»¥åˆ›å»ºå’Œç»´æŠ¤é¡¹ç›®æ–‡æ¡£ã€‚</p>
<ol start="3">
<li><strong>æ‰¹é‡é‡æ„</strong>:</li>
</ol>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"search_replace"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span>
  <span class="hljs-attr">"file_path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"config.py"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"old_string"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"DEBUG = True"</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">"new_string"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"DEBUG = False"</span>
<span class="hljs-punctuation">}</span><span class="hljs-punctuation">}</span>
</code></pre>
<p>Agent å¯ä»¥è¿›è¡Œç²¾ç¡®çš„ä»£ç ä¿®æ”¹ã€‚</p>
<ol start="4">
<li><strong>æ–‡ä»¶ç®¡ç†</strong>:</li>
</ol>
<pre><code class="hljs language-json" lang="json"><span class="hljs-punctuation">{</span> <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"read_directory"</span><span class="hljs-punctuation">,</span> <span class="hljs-attr">"args"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">{</span> <span class="hljs-attr">"path"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"."</span> <span class="hljs-punctuation">}</span> <span class="hljs-punctuation">}</span>
</code></pre>
<p>Agent å¯ä»¥æµè§ˆç›®å½•ç»“æ„ï¼Œäº†è§£é¡¹ç›®ç»„ç»‡ã€‚</p>
<hr/>
<p><a id="user-content-part-5" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-22">ç¬¬äº”éƒ¨åˆ†ï¼šæµ‹è¯•éªŒè¯ ğŸ§ª</h3>
<p><a id="user-content-test-filesystem" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-23">æµ‹è¯•è„šæœ¬ï¼štest_filesystem.py</h4>
<p>ä¸ºäº†éªŒè¯æ–‡ä»¶ç³»ç»Ÿ MCP çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæµ‹è¯•è„šæœ¬ï¼š</p>
<pre><code class="hljs language-python" lang="python"><span class="hljs-keyword">import</span> asyncio
<span class="hljs-keyword">from</span> mcp <span class="hljs-keyword">import</span> ClientSession, StdioServerParameters
<span class="hljs-keyword">from</span> mcp.client.stdio <span class="hljs-keyword">import</span> stdio_client
<span class="hljs-keyword">import</span> json

<span class="hljs-keyword">async</span> <span class="hljs-keyword">def</span> <span class="hljs-title function_">test_filesystem_operations</span>():
    <span class="hljs-string">"""Test MCP Filesystem Server operations."""</span>
    <span class="hljs-comment"># Configure connection to containerized MCP server</span>
    server_params = StdioServerParameters(
        command=<span class="hljs-string">"docker"</span>,
        args=[
            <span class="hljs-string">"exec"</span>, <span class="hljs-string">"-i"</span>,
            <span class="hljs-string">"sandbox-sandbox-os-1"</span>,  <span class="hljs-comment"># Container name</span>
            <span class="hljs-string">"npx"</span>, <span class="hljs-string">"-y"</span>, <span class="hljs-string">"@modelcontextprotocol/server-filesystem"</span>,
            <span class="hljs-string">"/root/shared/workspace"</span>
        ],
        env=<span class="hljs-literal">None</span>
    )

    <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ”Œ Connecting to MCP Filesystem Server..."</span>)

    <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> stdio_client(server_params) <span class="hljs-keyword">as</span> (read, write):
        <span class="hljs-keyword">async</span> <span class="hljs-keyword">with</span> ClientSession(read, write) <span class="hljs-keyword">as</span> session:
            <span class="hljs-comment"># 1. Initialize connection</span>
            <span class="hljs-keyword">await</span> session.initialize()

            <span class="hljs-comment"># 2. List available tools</span>
            tools = <span class="hljs-keyword">await</span> session.list_tools()
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"âœ¨ Connected! Found <span class="hljs-subst">{<span class="hljs-built_in">len</span>(tools.tools)}</span> filesystem tools"</span>)

            <span class="hljs-comment"># 3. Test directory listing</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“ Listing workspace directory..."</span>)
            dir_result = <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"read_directory"</span>, {
                <span class="hljs-string">"path"</span>: <span class="hljs-string">"."</span>
            })
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Directory contents: <span class="hljs-subst">{dir_result}</span>"</span>)

            <span class="hljs-comment"># 4. Test file creation</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“ Creating test file..."</span>)
            <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"write_file"</span>, {
                <span class="hljs-string">"path"</span>: <span class="hljs-string">"test_file.txt"</span>,
                <span class="hljs-string">"content"</span>: <span class="hljs-string">"Hello from MCP Filesystem!"</span>
            })

            <span class="hljs-comment"># 5. Test file reading</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ“– Reading test file..."</span>)
            file_result = <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"read_file"</span>, {
                <span class="hljs-string">"path"</span>: <span class="hljs-string">"test_file.txt"</span>
            })
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"File content: <span class="hljs-subst">{file_result}</span>"</span>)

            <span class="hljs-comment"># 6. Test file search and replace</span>
            <span class="hljs-built_in">print</span>(<span class="hljs-string">"ğŸ” Testing search and replace..."</span>)
            <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"search_replace"</span>, {
                <span class="hljs-string">"file_path"</span>: <span class="hljs-string">"test_file.txt"</span>,
                <span class="hljs-string">"old_string"</span>: <span class="hljs-string">"Hello from MCP Filesystem!"</span>,
                <span class="hljs-string">"new_string"</span>: <span class="hljs-string">"Modified by MCP Filesystem Server!"</span>
            })

            <span class="hljs-comment"># 7. Verify modification</span>
            modified_result = <span class="hljs-keyword">await</span> session.call_tool(<span class="hljs-string">"read_file"</span>, {
                <span class="hljs-string">"path"</span>: <span class="hljs-string">"test_file.txt"</span>
            })
            <span class="hljs-built_in">print</span>(<span class="hljs-string">f"Modified content: <span class="hljs-subst">{modified_result}</span>"</span>)

            <span class="hljs-built_in">print</span>(<span class="hljs-string">"âœ… All filesystem operations completed successfully!"</span>)

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:
    asyncio.run(test_filesystem_operations())
</code></pre>
<p><a id="user-content-performance-validation" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h4 data-id="heading-24">æ€§èƒ½å’Œå®‰å…¨éªŒè¯</h4>
<p><strong>æ€§èƒ½æµ‹è¯•</strong>ï¼š</p>
<ul>
<li><strong>æ–‡ä»¶å¤§å°é™åˆ¶</strong>ï¼šæµ‹è¯•å¤§æ–‡ä»¶çš„è¯»å–æ€§èƒ½</li>
<li><strong>å¹¶å‘æ“ä½œ</strong>ï¼šæµ‹è¯•å¤šä¸ªæ–‡ä»¶æ“ä½œçš„å¹¶å‘å¤„ç†</li>
<li><strong>æœç´¢æ•ˆç‡</strong>ï¼šæµ‹è¯•åœ¨å¤§å‹ä»£ç åº“ä¸­çš„æœç´¢æ€§èƒ½</li>
</ul>
<p><strong>å®‰å…¨éªŒè¯</strong>ï¼š</p>
<ul>
<li><strong>è·¯å¾„éå†é˜²æŠ¤</strong>ï¼šç¡®ä¿æ— æ³•è®¿é—® <code>../</code> ç­‰ä¸Šçº§ç›®å½•</li>
<li><strong>æƒé™æ£€æŸ¥</strong>ï¼šéªŒè¯æ–‡ä»¶æƒé™çš„æ­£ç¡®å¤„ç†</li>
<li><strong>èµ„æºé™åˆ¶</strong>ï¼šæµ‹è¯•å¯¹å¤§æ–‡ä»¶çš„å¤„ç†é™åˆ¶</li>
</ul>
<hr/>
<p><a id="user-content-filesystem-faq" title="" ref="nofollow noopener noreferrer" href="https://link.juejin.cn?target="/></p>
<h3 data-id="heading-25">å¸¸è§é—®é¢˜ FAQ</h3>
<p><strong>Q: MCP Filesystem å’Œä¼ ç»Ÿçš„æ–‡ä»¶æ“ä½œå·¥å…·æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<p>A: MCP Filesystem æä¾›äº†æ ‡å‡†åŒ–çš„ AI å‹å¥½çš„æ¥å£ã€‚ä¼ ç»Ÿçš„æ–‡ä»¶æ“ä½œå·¥å…·ï¼ˆå¦‚ <code>cat</code>, <code>ls</code>, <code>sed</code>ï¼‰éœ€è¦ AI ç†è§£ shell å‘½ä»¤ï¼Œè€Œ MCP Filesystem ç›´æ¥æä¾›è¯­ä¹‰åŒ–çš„å·¥å…·ï¼ˆå¦‚ <code>read_file</code>, <code>search_replace</code>ï¼‰ï¼Œè®© AI èƒ½å¤Ÿæ›´ç›´è§‚åœ°è¡¨è¾¾æ„å›¾ã€‚</p>
<p><strong>Q: å¦‚ä½•å¤„ç†å¤§æ–‡ä»¶ï¼Ÿ</strong></p>
<p>A: MCP Filesystem å†…ç½®äº†æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆé€šå¸¸åœ¨å‡ MBä»¥å†…ï¼‰ã€‚å¯¹äºè¶…å¤§æ–‡ä»¶ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›é”™è¯¯æç¤ºã€‚å»ºè®®å°†å¤§æ–‡ä»¶æ‹†åˆ†å¤„ç†ï¼Œæˆ–ä½¿ç”¨æµå¼å¤„ç†æ–¹å¼ã€‚</p>
<p><strong>Q: æ”¯æŒå“ªäº›æ–‡ä»¶ç¼–ç ï¼Ÿ</strong></p>
<p>A: ä¸»è¦æ”¯æŒ UTF-8 ç¼–ç ã€‚å¯¹äºå…¶ä»–ç¼–ç çš„æ–‡ä»¶ï¼Œéœ€è¦åœ¨è¯»å–æ—¶æŒ‡å®šç¼–ç å‚æ•°ï¼Œæˆ–é¢„å…ˆè½¬æ¢ç¼–ç ã€‚</p>
<p><strong>Q: å¦‚ä½•å¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶ï¼Ÿ</strong></p>
<p>A: MCP Filesystem ä¸»è¦è®¾è®¡ç”¨äºæ–‡æœ¬æ–‡ä»¶ã€‚å¯¹äºäºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ã€å‹ç¼©åŒ…ï¼‰ï¼Œå»ºè®®ä½¿ç”¨å…¶ä»–ä¸“é—¨çš„å·¥å…·ã€‚æœåŠ¡å™¨ä¼šæ£€æµ‹æ–‡ä»¶ç±»å‹å¹¶ç»™å‡ºç›¸åº”æç¤ºã€‚</p>
<p><strong>Q: æ–‡ä»¶æƒé™å¦‚ä½•å¤„ç†ï¼Ÿ</strong></p>
<p>A: æœåŠ¡å™¨ä¼šæ£€æŸ¥æ–‡ä»¶æƒé™ï¼Œä½†ä¸ä¼šå°è¯•æå‡æƒé™ã€‚å¦‚æœ AI éœ€è¦ä¿®æ”¹åªè¯»æ–‡ä»¶ï¼Œéœ€è¦å…ˆé€šè¿‡ shell å·¥å…·ä¿®æ”¹æ–‡ä»¶æƒé™ã€‚</p>
<p><strong>Q: å¦‚ä½•å®ç°æ–‡ä»¶çš„ç‰ˆæœ¬æ§åˆ¶ï¼Ÿ</strong></p>
<p>A: MCP Filesystem æœ¬èº«ä¸æä¾›ç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½ã€‚ä½† AI å¯ä»¥ç»“åˆ git å‘½ä»¤ï¼ˆé€šè¿‡ MCP Shellï¼‰æ¥å®ç°æ–‡ä»¶çš„ç‰ˆæœ¬ç®¡ç†ã€‚</p>
<hr/>
<h3 data-id="heading-26">ğŸ“ ç»“è¯­</h3>
<p>é€šè¿‡é›†æˆ MCP Filesystemï¼Œæˆ‘ä»¬çš„æ²™ç›’ç¯å¢ƒä»"å‘½ä»¤æ‰§è¡Œå™¨"è¿›åŒ–ä¸ºçœŸæ­£çš„"æ–‡ä»¶ä¸“å®¶"ã€‚AI Agent ç°åœ¨ä¸ä»…èƒ½è¿è¡Œå‘½ä»¤ï¼Œè¿˜èƒ½æ·±å…¥ç†è§£å’Œä¿®æ”¹ä»£ç ï¼Œæˆä¸ºå¼€å‘è€…çš„çœŸæ­£åˆä½œä¼™ä¼´ã€‚</p>
<p>åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ <strong>MCP Manager</strong> çš„å®ç°ï¼Œçœ‹çœ‹ AI å¦‚ä½•æ™ºèƒ½åœ°ç®¡ç†å…¶ä»– MCP æœåŠ¡å™¨ï¼Œå®ç°æ›´é«˜çº§çš„å…ƒç¼–ç¨‹èƒ½åŠ›ã€‚</p>
<hr/>
<h3 data-id="heading-27">ğŸ“š æŠ€æœ¯å‚è€ƒ</h3>
<ul>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fmodelcontextprotocol%2Fserver-filesystem" target="_blank" title="https://github.com/modelcontextprotocol/server-filesystem" ref="nofollow noopener noreferrer">MCP Filesystem Server å®˜æ–¹æ–‡æ¡£</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fmodelcontextprotocol.io%2Fspecification" target="_blank" title="https://modelcontextprotocol.io/specification" ref="nofollow noopener noreferrer">MCP åè®®è§„èŒƒ</a></li>
<li><a href="https://link.juejin.cn?target=https%3A%2F%2Fnodejs.org%2Fapi%2Ffs.html" target="_blank" title="https://nodejs.org/api/fs.html" ref="nofollow noopener noreferrer">Node.js æ–‡ä»¶ç³»ç»Ÿ API</a></li>
</ul>
<hr/>
<p><strong>å®ç°æ—¶é—´</strong>: 2026-01-23
<strong>MCP å·¥å…·æ•°é‡</strong>: 8 ä¸ªæ–‡ä»¶æ“ä½œå·¥å…·
<strong>å®‰å…¨ç­‰çº§</strong>: ğŸ›¡ï¸ é«˜ (è·¯å¾„é™åˆ¶ + æƒé™æ£€æŸ¥)</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Redisé«˜çº§ç‰¹æ€§å®æˆ˜ï¼šä»Bitmapsåˆ°ä½æ“ä½œçš„åº”ç”¨åœºæ™¯]]></title>    <link>https://juejin.cn/post/7598370121436102706</link>    <guid>https://juejin.cn/post/7598370121436102706</guid>    <pubDate>2026-01-23T09:42:11.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598370121436102706" data-draft-id="7490846852620779535" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Redisé«˜çº§ç‰¹æ€§å®æˆ˜ï¼šä»Bitmapsåˆ°ä½æ“ä½œçš„åº”ç”¨åœºæ™¯"/> <meta itemprop="keywords" content="Redis,æ•°æ®åº“,æ€§èƒ½ä¼˜åŒ–"/> <meta itemprop="datePublished" content="2026-01-23T09:42:11.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="Goé«˜å¹¶å‘æ¶æ„_ç‹å·¥"/> <meta itemprop="url" content="https://juejin.cn/user/446863555701561"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Redisé«˜çº§ç‰¹æ€§å®æˆ˜ï¼šä»Bitmapsåˆ°ä½æ“ä½œçš„åº”ç”¨åœºæ™¯
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/446863555701561/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    Goé«˜å¹¶å‘æ¶æ„_ç‹å·¥
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:42:11.000Z" title="Fri Jan 23 2026 09:42:11 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»20åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h4 data-id="heading-0">æ–‡ç« å¼•è¨€</h4>
<p>æåˆ°Redisï¼Œå¤§å®¶è„‘æµ·ä¸­æµ®ç°çš„å¯èƒ½æ˜¯å®ƒä½œä¸ºé«˜æ€§èƒ½é”®å€¼å­˜å‚¨çš„ç»å…¸å½¢è±¡ï¼šä¸€ä¸ªè½»é‡ã€å¿«é€Ÿçš„å†…å­˜æ•°æ®åº“ï¼Œå®Œç¾èƒœä»»ç¼“å­˜ã€ä¼šè¯ç®¡ç†ç­‰åœºæ™¯ã€‚ç„¶è€Œï¼ŒRedisçš„é­…åŠ›è¿œä¸æ­¢äºæ­¤ã€‚éšç€ç‰ˆæœ¬è¿­ä»£ï¼Œå®ƒä»æœ€åˆçš„ç®€å•é”®å€¼å¯¹å·¥å…·ï¼Œé€æ­¥æ¼”åŒ–ä¸ºä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„æ•°æ®ç»“æ„ç‘å£«å†›åˆ€ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬è¦èŠçš„ä¸»è§’â€”â€”<strong>Bitmapså’Œä½æ“ä½œ</strong>ï¼Œæ­£æ˜¯Redisé«˜çº§ç‰¹æ€§ä¸­ä¸€é¢—ä½è°ƒå´è€€çœ¼çš„æ˜ç ã€‚</p>
<p>å¯¹äºå·²ç»æœ‰1-2å¹´Redisä½¿ç”¨ç»éªŒçš„å¼€å‘è€…æ¥è¯´ï¼ŒåŸºç¡€çš„<code>SET</code>ã€<code>GET</code>ã€<code>HSET</code>æ—©å·²é©¾è½»å°±ç†Ÿï¼Œä½†ä½ æ˜¯å¦æ›¾å¥½å¥‡ï¼šå¦‚ä½•ç”¨æ›´å°‘çš„å†…å­˜å®Œæˆæµ·é‡æ•°æ®çš„ç»Ÿè®¡ï¼Ÿå¦‚ä½•åœ¨é«˜å¹¶å‘åœºæ™¯ä¸‹å®ç°é«˜æ•ˆçš„çŠ¶æ€æ ‡è®°ï¼ŸBitmapså’Œä½æ“ä½œæ­£æ˜¯è§£å†³è¿™ç±»é—®é¢˜çš„åˆ©å™¨ã€‚å®ƒä»¬ä»¥æè‡´çš„å†…å­˜æ•ˆç‡å’Œé«˜æ€§èƒ½è®¡ç®—èƒ½åŠ›ï¼Œæ‰“å¼€äº†Redisåº”ç”¨åœºæ™¯çš„æ–°å¤§é—¨ã€‚æ— è®ºæ˜¯è®°å½•ç”¨æˆ·ç­¾åˆ°ã€ç»Ÿè®¡å®æ—¶åœ¨çº¿äººæ•°ï¼Œè¿˜æ˜¯å®ç°æƒé™æ§åˆ¶ï¼ŒBitmapséƒ½èƒ½è®©ä½ åœ¨èµ„æºæœ‰é™çš„æƒ…å†µä¸‹ï¼Œåšåˆ°â€œä»¥ä¸€å½“åâ€ã€‚</p>
<p>ä½œä¸ºä¸€åæœ‰10å¹´Rediså®æˆ˜ç»éªŒçš„è€å…µï¼Œæˆ‘æ›¾åœ¨æ— æ•°é¡¹ç›®ä¸­è§è¯Bitmapsçš„å¨åŠ›ï¼Œä¹Ÿè¸©è¿‡ä¸å°‘å‘â€”â€”ä»å†…å­˜è¶…é™çš„å°´å°¬ï¼Œåˆ°å‘½ä»¤è¯¯ç”¨çš„æ€§èƒ½é™·é˜±ã€‚è¿™äº›ç»éªŒè®©æˆ‘æ·±åˆ»ä½“ä¼šåˆ°</p>
<p>ï¼ŒæŠ€æœ¯çš„é«˜çº§ç‰¹æ€§åªæœ‰åœ¨å®è·µä¸­è½åœ°ï¼Œæ‰èƒ½çœŸæ­£å‘æŒ¥ä»·å€¼ã€‚æœ¬æ–‡çš„ç›®æ ‡ï¼Œå°±æ˜¯å¸¦ä½ ä»Bitmapsçš„åŸºç¡€çŸ¥è¯†å‡ºå‘ï¼Œæ·±å…¥å‰–æå…¶æ ¸å¿ƒä¼˜åŠ¿ï¼Œå†é€šè¿‡çœŸå®æ¡ˆä¾‹å±•ç¤ºå®ƒçš„åº”ç”¨åœºæ™¯ï¼Œæœ€ååˆ†äº«ä¸€äº›è¸©å‘æ•™è®­å’Œä¼˜åŒ–å»ºè®®ã€‚æ— è®ºä½ æ˜¯æƒ³æå‡æŠ€æœ¯æ·±åº¦ï¼Œè¿˜æ˜¯åœ¨é¡¹ç›®ä¸­å¯»æ‰¾é«˜æ•ˆè§£æ³•ï¼Œè¿™ç¯‡æ–‡ç« éƒ½å¸Œæœ›æˆä¸ºä½ çš„â€œå®æˆ˜æŒ‡å—â€ã€‚</p>
<p>æ–‡ç« çš„ç»“æ„å®‰æ’å¦‚ä¸‹ï¼šæˆ‘ä»¬å…ˆå¿«é€Ÿå›é¡¾Bitmapså’Œä½æ“ä½œçš„åŸºç¡€çŸ¥è¯†ï¼Œç¡®ä¿èµ·è·‘çº¿ä¸€è‡´ï¼›æ¥ç€æ·±å…¥æ¢è®¨å…¶ç‰¹è‰²åŠŸèƒ½å’Œä¼˜åŠ¿ï¼Œå¸¦ä½ ç†è§£â€œä¸ºä»€ä¹ˆç”¨å®ƒâ€ï¼›ç„¶åé€šè¿‡å››ä¸ªå®æˆ˜åœºæ™¯ï¼Œå±•ç¤ºâ€œæ€ä¹ˆç”¨å®ƒâ€ï¼›æœ€åç»“åˆæœ€ä½³å®è·µå’Œè¸©å‘ç»éªŒï¼Œå¸®ä½ å°‘èµ°å¼¯è·¯ã€‚å…¨æ–‡çº¦4700å­—ï¼Œæ—¢æœ‰å¹²è´§ä¹Ÿæœ‰æ•…äº‹ï¼Œå¸Œæœ›ä½ è¯»å®Œåèƒ½æœ‰æ‰€æ”¶è·ï¼Œç”šè‡³è·ƒè·ƒæ¬²è¯•åœ°åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ä¸€å±•èº«æ‰‹ã€‚</p>
<p>å‡†å¤‡å¥½äº†å—ï¼Ÿè®©æˆ‘ä»¬ä¸€èµ·è§£é”Redis Bitmapsçš„éšè—æŠ€èƒ½ï¼Œä»å†…å­˜ä¸­çš„â€œä½ä¸–ç•Œâ€å‡ºå‘ï¼Œæ¢ç´¢å®ƒçš„æ— é™å¯èƒ½å§ï¼</p>
<hr/>
<h3 data-id="heading-1">ä¸€ã€Bitmapså’Œä½æ“ä½œåŸºç¡€å›é¡¾</h3>
<p>åœ¨æ·±å…¥æ¢è®¨Bitmapsçš„å®æˆ˜åº”ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥æ‰“å¥½åœ°åŸºï¼Œå›é¡¾ä¸€ä¸‹å®ƒçš„åŸºç¡€çŸ¥è¯†ã€‚å¯¹äºå·²ç»ç†Ÿæ‚‰Redisçš„å¼€å‘è€…æ¥è¯´ï¼Œè¿™éƒ¨åˆ†å¯èƒ½æ˜¯â€œè€æœ‹å‹è§é¢â€ï¼Œä½†å³ä½¿æ˜¯è€æœ‹å‹ï¼Œä¹Ÿæœ‰å€¼å¾—ç»†ç»†å“å‘³çš„ç»†èŠ‚ã€‚Bitmapså’Œä½æ“ä½œçœ‹ä¼¼ç®€å•ï¼Œå´è—ç€Redisè®¾è®¡å“²å­¦ä¸­çš„ç²¾é«“ï¼šç”¨æœ€å°çš„èµ„æºï¼Œè§£å†³æœ€å¤§çš„é—®é¢˜ã€‚</p>
<h4 data-id="heading-2">1. ä»€ä¹ˆæ˜¯Bitmaps</h4>
<p>Bitmapsåœ¨Redisä¸­å¹¶ä¸æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ•°æ®ç±»å‹ï¼Œè€Œæ˜¯åŸºäºå­—ç¬¦ä¸²ï¼ˆStringï¼‰å®ç°çš„ä½æ•°ç»„ã€‚ç®€å•æ¥è¯´ï¼Œå®ƒå°±åƒä¸€å¼ å·¨å¤§çš„è¡¨æ ¼ï¼Œä½†æ¯ä¸ªæ ¼å­åªèƒ½å­˜0æˆ–1â€”â€”è¦ä¹ˆæ˜¯â€œå¼€â€ï¼Œè¦ä¹ˆæ˜¯â€œå…³â€ã€‚é€šè¿‡ä½åç§»ï¼ˆoffsetï¼‰ï¼Œä½ å¯ä»¥ç²¾ç¡®åœ°å®šä½åˆ°æŸä¸ªä½ï¼Œè®¾ç½®æˆ–è¯»å–å®ƒçš„å€¼ã€‚</p>
<p>Redisæä¾›äº†å‡ ä¸ªåŸºç¡€å‘½ä»¤æ¥æ“ä½œBitmapsï¼š</p>
<ul>
<li><strong><code>SETBIT key offset value</code></strong>ï¼šå°†æŒ‡å®šåç§»é‡çš„ä½è®¾ç½®ä¸º0æˆ–1ã€‚</li>
<li><strong><code>GETBIT key offset</code></strong>ï¼šè¯»å–æŒ‡å®šåç§»é‡çš„ä½å€¼ã€‚</li>
<li><strong><code>BITCOUNT key [start end]</code></strong>ï¼šç»Ÿè®¡æŒ‡å®šèŒƒå›´å†…1çš„ä¸ªæ•°ã€‚</li>
<li><strong><code>BITOP operation destkey key [key ...]</code></strong>ï¼šå¯¹å¤šä¸ªBitmapsæ‰§è¡Œä½è¿ç®—ï¼ˆå¦‚ANDã€ORã€XORã€NOTï¼‰ã€‚</li>
</ul>
<p><strong>å†…å­˜æ•ˆç‡</strong>æ˜¯Bitmapsçš„ä¸€å¤§äº®ç‚¹ã€‚å‡è®¾ä½ è¦è®°å½•1äº¿ä¸ªç”¨æˆ·çš„æŸç§çŠ¶æ€ï¼ˆä¾‹å¦‚æ˜¯å¦æ´»è·ƒï¼‰ï¼Œç”¨Bitmapsåªéœ€è¦å¤§çº¦12MBå†…å­˜ï¼ˆ1äº¿ä½ Ã· 8 â‰ˆ 12.5MBï¼‰ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œç”¨Setæˆ–Listå­˜å‚¨åŒæ ·çš„æ•°æ®ï¼Œå†…å­˜å ç”¨å¯èƒ½æ˜¯å®ƒçš„å‡ åå€ã€‚è¿™ç§â€œä»¥å°åšå¤§â€çš„ç‰¹æ€§ï¼Œè®©Bitmapsåœ¨å¤§æ•°æ®åœºæ™¯ä¸‹å¤§æ”¾å¼‚å½©ã€‚</p>
<h4 data-id="heading-3">2. ä½æ“ä½œç®€ä»‹</h4>
<p>Bitmapsä¸ä»…èƒ½å­˜ï¼Œè¿˜èƒ½ç®—ã€‚Redisæ”¯æŒçš„ä½æ“ä½œåŒ…æ‹¬ï¼š</p>
<ul>
<li><strong>AND</strong>ï¼šäº¤é›†è¿ç®—ï¼Œæ‰¾å‡ºå¤šä¸ªBitmapsä¸­å…±åŒä¸º1çš„ä½ã€‚</li>
<li><strong>OR</strong>ï¼šå¹¶é›†è¿ç®—ï¼Œåˆå¹¶å¤šä¸ªBitmapsä¸­çš„1ã€‚</li>
<li><strong>XOR</strong>ï¼šå¼‚æˆ–è¿ç®—ï¼Œæ‰¾å‡ºå·®å¼‚éƒ¨åˆ†ã€‚</li>
<li><strong>NOT</strong>ï¼šå–åè¿ç®—ï¼Œå°†0å˜ä¸º1ï¼Œ1å˜ä¸º0ã€‚</li>
</ul>
<p>ç›¸æ¯”ä¼ ç»Ÿæ•°æ®ç»“æ„ï¼Œä½æ“ä½œçš„ä¼˜åŠ¿åœ¨äºå®ƒçš„â€œåŸå­æ€§â€å’Œâ€œé«˜æ•ˆæ€§â€ã€‚ä¾‹å¦‚ï¼Œç”¨Setå®ç°äº¤é›†éœ€è¦<code>SINTER</code>ï¼Œè€ŒBitmapsç”¨<code>BITOP AND</code>ï¼Œåè€…åœ¨åº•å±‚ç›´æ¥æ“ä½œä½ï¼Œé€Ÿåº¦æ›´å¿«ï¼Œå†…å­˜å ç”¨æ›´ä½ã€‚</p>























<table><thead><tr><th>æ•°æ®ç»“æ„</th><th>äº¤é›†æ“ä½œ</th><th>å†…å­˜å ç”¨ï¼ˆ1äº¿ç”¨æˆ·ï¼‰</th><th>è®¡ç®—å¤æ‚åº¦</th></tr></thead><tbody><tr><td>Set</td><td><code>SINTER</code></td><td>~æ•°ç™¾MB</td><td>O(N)</td></tr><tr><td>Bitmaps</td><td><code>BITOP AND</code></td><td>~12MB</td><td>O(ä½é•¿åº¦)</td></tr></tbody></table>
<h4 data-id="heading-4">3. é€‚ç”¨åœºæ™¯åˆæ¢</h4>
<p>Bitmapsçš„é€‚ç”¨åœºæ™¯å¯ä»¥ç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼š<strong>éœ€è¦é«˜æ•ˆå­˜å‚¨å’Œè®¡ç®—å¤§é‡äºŒå€¼çŠ¶æ€çš„åœºæ™¯</strong>ã€‚æ¯”å¦‚ï¼š</p>
<ul>
<li><strong>æ•°æ®ç»Ÿè®¡</strong>ï¼šç»Ÿè®¡æ¯æ—¥æ´»è·ƒç”¨æˆ·æ•°ã€‚</li>
<li><strong>çŠ¶æ€æ ‡è®°</strong>ï¼šè®°å½•ç”¨æˆ·æ˜¯å¦ç­¾åˆ°ã€æ˜¯å¦åœ¨çº¿ã€‚</li>
<li><strong>å®æ—¶åˆ†æ</strong>ï¼šåˆ†æå¤šç»„æ•°æ®çš„äº¤é›†æˆ–å¹¶é›†ã€‚</li>
</ul>
<p>å®ƒå°±åƒä¸€ä¸ªâ€œè½»é‡çº§è®¡ç®—å™¨â€ï¼Œåœ¨å†…å­˜å’Œæ€§èƒ½ä¹‹é—´æ‰¾åˆ°äº†ç»å¦™çš„å¹³è¡¡ç‚¹ã€‚</p>
<h4 data-id="heading-5">4. ç¤ºä¾‹ä»£ç </h4>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­ä¸Šæ‰‹Bitmapsã€‚å‡è®¾æˆ‘ä»¬è¦è®°å½•2025å¹´4æœˆ8æ—¥ç”¨æˆ·çš„æ´»è·ƒçŠ¶æ€ï¼Œç”¨æˆ·IDä¸º10086ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®¾ç½®ç”¨æˆ·10086ä¸ºæ´»è·ƒï¼ˆ1è¡¨ç¤ºæ´»è·ƒï¼Œ0è¡¨ç¤ºä¸æ´»è·ƒï¼‰</span>
SETBIT user:active:20250408 10086 1

<span class="hljs-comment"># æŸ¥è¯¢ç”¨æˆ·10086æ˜¯å¦æ´»è·ƒ</span>
GETBIT user:active:20250408 10086
<span class="hljs-comment"># è¿”å›ï¼š1</span>

<span class="hljs-comment"># ç»Ÿè®¡å½“å¤©æ´»è·ƒç”¨æˆ·æ€»æ•°</span>
BITCOUNT user:active:20250408
<span class="hljs-comment"># è¿”å›ï¼šæ´»è·ƒç”¨æˆ·æ•°é‡</span>
</code></pre>
<p><strong>ä»£ç æ³¨é‡Š</strong>ï¼š</p>
<ul>
<li><code>SETBIT</code>çš„offsetæ˜¯ç”¨æˆ·IDï¼Œç›´æ¥ç”¨æ•´æ•°è¡¨ç¤ºã€‚</li>
<li><code>GETBIT</code>è¿”å›0æˆ–1ï¼Œç®€å•ç›´è§‚ã€‚</li>
<li><code>BITCOUNT</code>é»˜è®¤ç»Ÿè®¡æ•´ä¸ªBitmapsä¸­1çš„ä¸ªæ•°ã€‚</li>
</ul>
<h4 data-id="heading-6">è¿‡æ¸¡å°ç»“</h4>
<p>é€šè¿‡ä¸Šé¢çš„ä»‹ç»ï¼Œä½ å¯èƒ½å·²ç»æ„Ÿå—åˆ°Bitmapsçš„ç®€æ´ä¸å¼ºå¤§ã€‚å®ƒä¸ä»…èƒ½å­˜ä¸‹æµ·é‡æ•°æ®ï¼Œè¿˜èƒ½é€šè¿‡ä½æ“ä½œå®Œæˆå¤æ‚çš„è®¡ç®—ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ·±å…¥å‰–æBitmapsçš„ç‰¹è‰²åŠŸèƒ½ï¼Œçœ‹çœ‹å®ƒåœ¨å†…å­˜æ•ˆç‡å’Œé«˜æ€§èƒ½è®¡ç®—ä¸Šçš„â€œç‹¬é—¨ç»æŠ€â€ï¼Œä»¥åŠå¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­å‘æŒ¥ä½œç”¨ã€‚</p>
<hr/>
<h3 data-id="heading-7">äºŒã€Bitmapså’Œä½æ“ä½œçš„ç‰¹è‰²åŠŸèƒ½ä¸ä¼˜åŠ¿</h3>
<p>æŒæ¡äº†Bitmapsçš„åŸºç¡€åï¼Œæˆ‘ä»¬è¿›å…¥æ›´ç²¾å½©çš„éƒ¨åˆ†ï¼šå®ƒçš„ç‰¹è‰²åŠŸèƒ½å’Œç‹¬ç‰¹ä¼˜åŠ¿ã€‚å¦‚æœè¯´Bitmapsæ˜¯ä¸€ä¸ªå·¥å…·ï¼Œé‚£ä¹ˆå®ƒçš„å†…å­˜æ•ˆç‡å’Œé«˜æ€§èƒ½è®¡ç®—å°±æ˜¯â€œé”‹åˆ©çš„åˆ€åˆƒâ€ï¼Œèƒ½åœ¨ç‰¹å®šåœºæ™¯ä¸‹è½»æ¾åˆ‡å¼€å¤æ‚é—®é¢˜ã€‚è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†ä»å†…å­˜ä¼˜åŒ–ã€æ€§èƒ½è¡¨ç°å’Œçµæ´»æ€§ä¸‰ä¸ªè§’åº¦ï¼Œå¸¦ä½ çœ‹çœ‹Bitmapsä¸ºä½•èƒ½æˆä¸ºRedisé«˜çº§ç‰¹æ€§ä¸­çš„â€œéšè—ç‹ç‰Œâ€ã€‚</p>
<h4 data-id="heading-8">1. å†…å­˜æ•ˆç‡çš„æè‡´ä¼˜åŒ–</h4>
<p>Bitmapsçš„æœ€å¤§å–ç‚¹ä¹‹ä¸€ï¼Œå°±æ˜¯å®ƒå¯¹å†…å­˜çš„â€œåå•¬â€ã€‚åœ¨å¤§æ•°æ®é‡åœºæ™¯ä¸‹ï¼Œè¿™ç§ç‰¹æ€§å°¤ä¸ºçªå‡ºã€‚å‡è®¾æˆ‘ä»¬è¦å­˜å‚¨1000ä¸‡ç”¨æˆ·çš„æŸç§çŠ¶æ€ï¼ˆæ¯”å¦‚æ˜¯å¦å‚ä¸æŸæ´»åŠ¨ï¼‰ï¼Œç”¨Setå’ŒBitmapsçš„å†…å­˜å ç”¨å¯¹æ¯”å¦‚ä¸‹ï¼š</p>




















<table><thead><tr><th>æ•°æ®ç»“æ„</th><th>å†…å­˜å ç”¨ï¼ˆ1000ä¸‡ç”¨æˆ·ï¼‰</th><th>ç¤ºä¾‹Keyæ ¼å¼</th></tr></thead><tbody><tr><td>Set</td><td>~200-300MB</td><td><code>SADD user:active 10086</code></td></tr><tr><td>Bitmaps</td><td>~1.25MB</td><td><code>SETBIT user:active 10086 1</code></td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆå·®è·è¿™ä¹ˆå¤§ï¼Ÿ</strong><br/>
Setéœ€è¦ä¸ºæ¯ä¸ªå…ƒç´ å­˜å‚¨å®Œæ•´çš„å­—ç¬¦ä¸²é”®ï¼Œè€ŒBitmapsåªç”¨1ä½è¡¨ç¤ºä¸€ä¸ªçŠ¶æ€ï¼Œç›¸å½“äºæŠŠæ•°æ®â€œå‹ç¼©â€åˆ°äº†æè‡´ã€‚1äº¿ä½ä»…éœ€12.5MBï¼Œ10äº¿ä½ä¹Ÿä¸è¿‡125MBï¼Œè¿™ç§æ•ˆç‡è®©å®ƒåœ¨å­˜å‚¨å¤§è§„æ¨¡äºŒå€¼æ•°æ®æ—¶æ— å‡ºå…¶å³ã€‚</p>
<p><strong>å®æˆ˜ç»éªŒ</strong>ï¼šåœ¨ä¸€æ¬¡ç”µå•†æ´»åŠ¨ä¸­ï¼Œæˆ‘æ›¾ç”¨Bitmapsè®°å½•1000ä¸‡ç”¨æˆ·çš„é¢†å–çŠ¶æ€ï¼Œå†…å­˜å ç”¨ä»…1.2MBï¼Œè€Œç”¨Setæ—¶ç›´æ¥é£™å‡åˆ°250MBï¼Œå·®ç‚¹æŠŠRediså®ä¾‹æ’‘çˆ†ã€‚Bitmapsä¸ä»…çœé’±ï¼ˆå†…å­˜å°±æ˜¯æœåŠ¡å™¨æˆæœ¬ï¼‰ï¼Œè¿˜è®©ç³»ç»Ÿæ›´ç¨³å®šã€‚</p>
<h4 data-id="heading-9">2. é«˜æ€§èƒ½ä½è¿ç®—</h4>
<p>Bitmapsçš„å¦ä¸€ä¸ªæ€æ‰‹é”æ˜¯å®ƒçš„ä½è¿ç®—èƒ½åŠ›ã€‚Redisçš„<code>BITOP</code>å‘½ä»¤å¯ä»¥åœ¨å¤šä¸ªBitmapsé—´æ‰§è¡ŒANDã€ORã€XORç­‰æ“ä½œï¼Œè€Œä¸”æ˜¯åŸå­çš„ï¼Œæ€§èƒ½æé«˜ã€‚ä»¥ç»Ÿè®¡ä¸¤å¤©æ´»è·ƒç”¨æˆ·çš„äº¤é›†ä¸ºä¾‹ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å‡è®¾æœ‰ä¸¤ä¸ªBitmapsè®°å½•ä¸¤å¤©ç”¨æˆ·çš„æ´»è·ƒçŠ¶æ€</span>
SETBIT user:active:20250408 10086 1
SETBIT user:active:20250407 10086 1
SETBIT user:active:20250407 10087 1

<span class="hljs-comment"># è®¡ç®—ä¸¤å¤©éƒ½æ´»è·ƒçš„ç”¨æˆ·äº¤é›†</span>
BITOP AND result user:active:20250408 user:active:20250407

<span class="hljs-comment"># ç»Ÿè®¡äº¤é›†äººæ•°</span>
BITCOUNT result
<span class="hljs-comment"># è¿”å›ï¼š1ï¼ˆåªæœ‰10086ä¸¤å¤©éƒ½æ´»è·ƒï¼‰</span>
</code></pre>
<p><strong>ä»£ç æ³¨é‡Š</strong>ï¼š</p>
<ul>
<li><code>BITOP AND</code>å°†ä¸¤ä¸ªBitmapsé€ä½ç›¸ä¸ï¼Œç»“æœå­˜å…¥<code>result</code>ã€‚</li>
<li><code>BITCOUNT</code>è®¡ç®—<code>result</code>ä¸­1çš„æ€»æ•°ã€‚</li>
</ul>
<p><strong>æ€§èƒ½åˆ†æ</strong>ï¼šåœ¨å•æœºç¯å¢ƒä¸‹ï¼Œä½è¿ç®—çš„å¤æ‚åº¦æ˜¯O(N)ï¼ŒNä¸ºBitmapsçš„ä½é•¿åº¦ã€‚ä½†ç”±äºåº•å±‚ç”¨çš„æ˜¯ä½çº§æ“ä½œï¼Œå®é™…å»¶è¿Ÿéå¸¸ä½ã€‚æˆ‘æ›¾åœ¨4MBçš„Bitmapsä¸Šåšäº¤é›†è¿ç®—ï¼Œè€—æ—¶ä¸åˆ°10msã€‚è€ŒåŒæ ·çš„æ•°æ®ç”¨Setçš„<code>SINTER</code>ï¼Œè€—æ—¶å¯èƒ½æ˜¯å®ƒçš„5-10å€ã€‚</p>
<p><strong>åˆ†å¸ƒå¼åœºæ™¯çš„å±€é™</strong>ï¼šå¦‚æœBitmapsåˆ†å¸ƒåœ¨ä¸åŒRediså®ä¾‹ä¸Šï¼Œ<code>BITOP</code>æ— æ³•ç›´æ¥è·¨èŠ‚ç‚¹æ‰§è¡Œã€‚è¿™æ—¶éœ€è¦å®¢æˆ·ç«¯æ‹‰å–æ•°æ®åè‡ªè¡Œè®¡ç®—ï¼Œæ€§èƒ½ä¼šæ‰“æŠ˜æ‰£ã€‚è§£å†³åŠæ³•æ˜¯ç”¨Redis Clusteråˆ†ç‰‡å­˜å‚¨ï¼Œä½†éœ€æå‰è§„åˆ’Keyåˆ†å¸ƒã€‚</p>
<h4 data-id="heading-10">3. çµæ´»æ€§ä¸æ‰©å±•æ€§</h4>
<p>Bitmapsçš„ä½åç§»è®¾è®¡èµ‹äºˆäº†å®ƒæƒŠäººçš„çµæ´»æ€§ã€‚ä½ å¯ä»¥æŠŠä¸€ä¸ªBitmapsæƒ³è±¡æˆä¸€å¼ â€œå¤šç»´è¡¨æ ¼â€ï¼Œé€šè¿‡åç§»é‡è¡¨ç¤ºä¸åŒçš„çŠ¶æ€æˆ–ç»´åº¦ã€‚ä¾‹å¦‚ï¼š</p>
<ul>
<li>åç§»0-31è¡¨ç¤ºæŸç”¨æˆ·32å¤©çš„ç­¾åˆ°çŠ¶æ€ã€‚</li>
<li>åç§»0è¡¨ç¤ºè¯»æƒé™ï¼Œ1è¡¨ç¤ºå†™æƒé™ï¼Œ2è¡¨ç¤ºæ‰§è¡Œæƒé™ã€‚</li>
</ul>
<p>è¿™ç§è®¾è®¡è®©Bitmapsèƒ½è½»æ¾åº”å¯¹å¤šç»´æ•°æ®å­˜å‚¨éœ€æ±‚ã€‚ç”šè‡³å¯ä»¥ç»“åˆå…¶ä»–æ•°æ®ç»“æ„è¿›ä¸€æ­¥æ‰©å±•åŠŸèƒ½ï¼Œæ¯”å¦‚ç”¨HyperLogLogä¼°ç®—åŸºæ•°ï¼Œå†ç”¨Bitmapsç²¾ç¡®ç»Ÿè®¡ã€‚</p>
<p><strong>ç¤ºæ„å›¾</strong>ï¼šBitmapsçš„å¤šç»´å­˜å‚¨ç¤ºä¾‹</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">åç§»é‡:  0  1  2  3  4  5  ...</span>
<span class="hljs-section">å«ä¹‰:   è¯» å†™ æ‰§è¡Œ ...  å¤©1 å¤©2 ...</span>
<span class="hljs-section">å€¼:     1  0  1  0  1  1  ...</span>
</code></pre>
<h4 data-id="heading-11">4. ä»£ç ç¤ºä¾‹ï¼šå®æˆ˜ä¸­çš„çµæ´»åº”ç”¨</h4>
<p>å‡è®¾æˆ‘ä»¬è¦ç»Ÿè®¡æŸæ´»åŠ¨è¿ç»­ä¸¤å¤©çš„æ´»è·ƒç”¨æˆ·ï¼Œå¹¶ä¸æ˜¨å¤©çš„åœ¨çº¿ç”¨æˆ·åšå¹¶é›†ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®¾ç½®æ´»è·ƒç”¨æˆ·</span>
SETBIT active:20250408 10086 1
SETBIT active:20250407 10086 1
SETBIT online:20250407 10087 1

<span class="hljs-comment"># è®¡ç®—ä¸¤å¤©æ´»è·ƒäº¤é›†</span>
BITOP AND active_both active:20250408 active:20250407

<span class="hljs-comment"># å†ä¸æ˜¨å¤©åœ¨çº¿ç”¨æˆ·åˆå¹¶</span>
BITOP OR final_result active_both online:20250407

<span class="hljs-comment"># ç»Ÿè®¡æ€»æ•°</span>
BITCOUNT final_result
<span class="hljs-comment"># è¿”å›ï¼š2ï¼ˆ10086å’Œ10087ï¼‰</span>
</code></pre>
<p><strong>ä»£ç æ³¨é‡Š</strong>ï¼š</p>
<ul>
<li><code>BITOP AND</code>æ‰¾å‡ºè¿ç»­æ´»è·ƒç”¨æˆ·ã€‚</li>
<li><code>BITOP OR</code>åˆå¹¶å…¶ä»–çŠ¶æ€ï¼Œæ‰©å±•åˆ†æç»´åº¦ã€‚</li>
</ul>
<h4 data-id="heading-12">è¿‡æ¸¡å°ç»“</h4>
<p>é€šè¿‡å†…å­˜æ•ˆç‡ã€é«˜æ€§èƒ½ä½è¿ç®—å’Œçµæ´»æ€§çš„å‰–æï¼ŒBitmapsçš„ä¼˜åŠ¿å·²ç»è·ƒç„¶çº¸ä¸Šã€‚å®ƒå°±åƒä¸€ä¸ªâ€œç©ºé—´é­”æ³•å¸ˆâ€ï¼Œç”¨æœ€å°çš„å†…å­˜æ‰¿è½½æœ€å¤šçš„ä¿¡æ¯ï¼›åˆåƒä¸€ä¸ªâ€œè®¡ç®—å¿è€…â€ï¼Œåœ¨æ¯«ç§’é—´å®Œæˆå¤æ‚è¿ç®—ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†èµ°è¿›çœŸå®çš„å®æˆ˜åœºæ™¯ï¼Œçœ‹çœ‹è¿™äº›ç‰¹æ€§å¦‚ä½•åœ¨é¡¹ç›®ä¸­è½åœ°ç”Ÿæ ¹ï¼Œè§£å†³å®é™…é—®é¢˜ã€‚</p>
<hr/>
<h3 data-id="heading-13">ä¸‰ã€å®æˆ˜åœºæ™¯ï¼šBitmapså’Œä½æ“ä½œçš„åº”ç”¨æ¡ˆä¾‹</h3>
<p>ç†è®ºå’Œç‰¹æ€§è®²å¾—å†å¤šï¼Œä¸å¦‚å®é™…ç”¨èµ·æ¥æ¥å¾—ç—›å¿«ã€‚è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†èµ°è¿›å››ä¸ªçœŸå®çš„å®æˆ˜åœºæ™¯ï¼Œçœ‹çœ‹Bitmapså’Œä½æ“ä½œå¦‚ä½•åœ¨é¡¹ç›®ä¸­å¤§æ˜¾èº«æ‰‹ã€‚ä»ç”¨æˆ·ç­¾åˆ°åˆ°åœ¨çº¿ç»Ÿè®¡ï¼Œå†åˆ°æƒé™ç®¡ç†å’Œå¤§æ•°æ®åˆ†æï¼Œæ¯ä¸ªæ¡ˆä¾‹éƒ½æ¥è‡ªæˆ‘çš„å®é™…ç»éªŒï¼Œå¸¦ç€â€œè¡€æ³ªæ•™è®­â€å’Œä¼˜åŒ–å¿ƒå¾—ï¼Œå¸Œæœ›èƒ½ç»™ä½ å¸¦æ¥å¯å‘ã€‚</p>
<h4 data-id="heading-14">1. åœºæ™¯1ï¼šç”¨æˆ·ç­¾åˆ°ç³»ç»Ÿ</h4>
<p><strong>éœ€æ±‚</strong>ï¼šåœ¨ä¸€ä¸ªç¤¾åŒºåº”ç”¨ä¸­ï¼Œéœ€è¦è®°å½•æ¯ä¸ªç”¨æˆ·çš„æ¯æ—¥ç­¾åˆ°çŠ¶æ€ï¼Œå¹¶æ”¯æŒç»Ÿè®¡è¿ç»­ç­¾åˆ°å¤©æ•°å’Œæ€»ç­¾åˆ°æ¬¡æ•°ã€‚<br/>
<strong>å®ç°</strong>ï¼šç”¨BitmapsæŒ‰ç”¨æˆ·å’Œæ—¶é—´å­˜å‚¨ç­¾åˆ°è®°å½•ï¼Œæ¯ä¸ªç”¨æˆ·ä¸€ä¸ªKeyï¼Œåç§»é‡è¡¨ç¤ºå¤©æ•°ã€‚<br/>
<strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ç”¨æˆ·10086åœ¨2025å¹´ç¬¬98å¤©ç­¾åˆ°</span>
SETBIT signin:10086:2025 98 1

<span class="hljs-comment"># æŸ¥è¯¢ç¬¬98å¤©æ˜¯å¦ç­¾åˆ°</span>
GETBIT signin:10086:2025 98
<span class="hljs-comment"># è¿”å›ï¼š1</span>

<span class="hljs-comment"># ç»Ÿè®¡å…¨å¹´ç­¾åˆ°æ¬¡æ•°</span>
BITCOUNT signin:10086:2025
<span class="hljs-comment"># è¿”å›ï¼šç­¾åˆ°å¤©æ•°</span>
</code></pre>
<p><strong>å®ç°ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li>Keyæ ¼å¼ï¼š<code>signin:&lt;user_id&gt;:&lt;year&gt;</code>ã€‚</li>
<li>åç§»é‡ï¼š0-364è¡¨ç¤ºä¸€å¹´365å¤©ï¼ˆä»0å¼€å§‹è®¡æ•°ï¼‰ã€‚</li>
<li>å†…å­˜å ç”¨ï¼šæ¯ä¸ªç”¨æˆ·ä¸€å¹´åªéœ€365ä½ï¼Œçº¦46å­—èŠ‚ã€‚</li>
</ul>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>å†…å­˜æ•ˆç‡é«˜</strong>ï¼š100ä¸‡ç”¨æˆ·ä¸€å¹´ä»…éœ€çº¦44MBã€‚</li>
<li><strong>æŸ¥è¯¢å¿«</strong>ï¼š<code>GETBIT</code>å’Œ<code>BITCOUNT</code>éƒ½æ˜¯O(1)æˆ–O(N)çº§åˆ«ï¼ŒNä¸ºä½é•¿åº¦ã€‚</li>
</ul>
<p><strong>è¸©å‘ç»éªŒ</strong>ï¼š<br/>
æˆ‘åœ¨æ—©æœŸè®¾è®¡æ—¶æ²¡è€ƒè™‘è·¨å¹´é—®é¢˜ï¼Œå¯¼è‡´å¹´åº•æ•°æ®æŸ¥è¯¢éœ€è¦æ‹¼æ¥ä¸¤ä¸ªKeyã€‚åæ¥æ”¹ä¸ºæŒ‰å¹´åˆ†ç‰‡ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯å°è£…é€»è¾‘ï¼šå¦‚æœæŸ¥è¯¢è·¨å¹´ï¼Œåˆ™åˆ†åˆ«å–<code>signin:10086:2024</code>å’Œ<code>signin:10086:2025</code>ï¼Œå†åˆå¹¶ç»“æœã€‚</p>
<h4 data-id="heading-15">2. åœºæ™¯2ï¼šå®æ—¶åœ¨çº¿ç”¨æˆ·ç»Ÿè®¡</h4>
<p><strong>éœ€æ±‚</strong>ï¼šæŸç›´æ’­å¹³å°éœ€è¦ç»Ÿè®¡æŸæ´»åŠ¨æ¯å°æ—¶çš„åœ¨çº¿äººæ•°ï¼Œå¹¶ä¸å†å²æ•°æ®å¯¹æ¯”ã€‚<br/>
<strong>å®ç°</strong>ï¼šç”¨Bitmapsè®°å½•æ¯å°æ—¶çš„åœ¨çº¿çŠ¶æ€ï¼Œ<code>BITOP</code>è®¡ç®—äº¤é›†æˆ–å¹¶é›†ã€‚<br/>
<strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®°å½•ä¸Šåˆå’Œä¸‹åˆçš„åœ¨çº¿ç”¨æˆ·</span>
SETBIT online:20250408:am 10086 1
SETBIT online:20250408:pm 10086 1
SETBIT online:20250408:pm 10087 1

<span class="hljs-comment"># è®¡ç®—å…¨å¤©åœ¨çº¿ç”¨æˆ·ï¼ˆå¹¶é›†ï¼‰</span>
BITOP OR daily_active online:20250408:am online:20250408:pm

<span class="hljs-comment"># ç»Ÿè®¡äººæ•°</span>
BITCOUNT daily_active
<span class="hljs-comment"># è¿”å›ï¼š2</span>

<span class="hljs-comment"># ä¸æ˜¨å¤©å¯¹æ¯”ï¼ˆäº¤é›†ï¼‰</span>
BITOP AND active_overlap daily_active online:20250407:full
BITCOUNT active_overlap
</code></pre>
<p><strong>å®ç°ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li>KeyæŒ‰æ—¶é—´åˆ†ç‰‡ï¼š<code>online:&lt;date&gt;:&lt;time&gt;</code>ã€‚</li>
<li>ç”¨æˆ·IDä½œä¸ºåç§»é‡ï¼Œ1è¡¨ç¤ºåœ¨çº¿ã€‚</li>
</ul>
<p><strong>æœ€ä½³å®è·µ</strong>ï¼š</p>
<ul>
<li><strong>æ—¶é—´åˆ†ç‰‡</strong>ï¼šé¿å…å•Keyè¿‡å¤§ï¼Œæˆ‘æ›¾å› ç”¨<code>online:20250408</code>å­˜å…¨å¤©æ•°æ®ï¼Œå¯¼è‡´Keyè†¨èƒ€åˆ°å‡ åMBï¼Œ<code>BITCOUNT</code>å˜æ…¢ã€‚åæ¥æ”¹ä¸ºæŒ‰å°æ—¶åˆ†ç‰‡ï¼Œæ€§èƒ½æå‡æ˜æ˜¾ã€‚</li>
<li><strong>Pipelineä¼˜åŒ–</strong>ï¼šæ‰¹é‡è®¾ç½®åœ¨çº¿çŠ¶æ€æ—¶ï¼Œç”¨Pipelineå‡å°‘ç½‘ç»œå¼€é”€ã€‚</li>
</ul>
<p><strong>ç¤ºæ„å›¾</strong>ï¼šåœ¨çº¿çŠ¶æ€åˆ†ç‰‡</p>
<pre><code class="hljs language-makefile" lang="makefile"><span class="hljs-section">Key: online:20250408:am  | åç§»: 10086 10087 ...</span>
<span class="hljs-section">å€¼:                  1        0    ...</span>
<span class="hljs-section">Key: online:20250408:pm  | å€¼:   1     1    ...</span>
</code></pre>
<h4 data-id="heading-16">3. åœºæ™¯3ï¼šæƒé™æ§åˆ¶ä¸çŠ¶æ€æ ‡è®°</h4>
<p><strong>éœ€æ±‚</strong>ï¼šä¸ºç”¨æˆ·åˆ†é…å¤šç»´åº¦æƒé™ï¼ˆè¯»ã€å†™ã€æ‰§è¡Œç­‰ï¼‰ï¼Œå¹¶å¿«é€Ÿæ£€æŸ¥æƒé™çŠ¶æ€ã€‚<br/>
<strong>å®ç°</strong>ï¼šç”¨Bitmapsçš„ä½åç§»è¡¨ç¤ºä¸åŒæƒé™ï¼Œä¸€ä¸ªKeyç®¡ç†æ‰€æœ‰çŠ¶æ€ã€‚<br/>
<strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®¾ç½®ç”¨æˆ·10086çš„æƒé™ï¼šè¯»(0)ã€å†™(1)ã€æ‰§è¡Œ(2)</span>
SETBIT perms:10086 0 1  <span class="hljs-comment"># è¯»æƒé™</span>
SETBIT perms:10086 1 1  <span class="hljs-comment"># å†™æƒé™</span>
SETBIT perms:10086 2 0  <span class="hljs-comment"># æ— æ‰§è¡Œæƒé™</span>

<span class="hljs-comment"># æ£€æŸ¥è¯»æƒé™</span>
GETBIT perms:10086 0
<span class="hljs-comment"># è¿”å›ï¼š1</span>
</code></pre>
<p><strong>å®ç°ç»†èŠ‚</strong>ï¼š</p>
<ul>
<li>åç§»é‡çº¦å®šï¼š0=è¯»ï¼Œ1=å†™ï¼Œ2=æ‰§è¡Œï¼Œå¯æ‰©å±•åˆ°æ›´å¤šä½ã€‚</li>
<li>å†…å­˜å ç”¨ï¼š10ç§æƒé™ä»…éœ€10ä½ï¼Œ1ä¸ªç”¨æˆ·ä¸åˆ°2å­—èŠ‚ã€‚</li>
</ul>
<p><strong>ä¼˜åŠ¿</strong>ï¼š</p>
<ul>
<li><strong>å•Keyç®¡ç†</strong>ï¼šç›¸æ¯”Hashï¼ˆ<code>HSET perms:10086 read 1</code>ï¼‰ï¼ŒBitmapsæ›´ç´§å‡‘ã€‚</li>
<li><strong>æ‰©å±•æ€§å¼º</strong>ï¼šæ–°å¢æƒé™åªéœ€å¢åŠ åç§»é‡ã€‚</li>
</ul>
<p><strong>è¸©å‘ç»éªŒ</strong>ï¼š<br/>
æ—©æœŸæˆ‘æ²¡è§„åˆ’å¥½åç§»é‡ï¼Œåæ¥ä¸šåŠ¡æ–°å¢æƒé™æ—¶ï¼Œåç§»å®šä¹‰å†²çªï¼Œåªèƒ½é‡å»ºæ•°æ®ã€‚<strong>æ•™è®­</strong>ï¼šæå‰è®¾è®¡ä½åˆ†é…è¡¨ï¼Œä¾‹å¦‚ç”¨0-15ä½é¢„ç•™16ç§æƒé™ã€‚</p>
<h4 data-id="heading-17">4. åœºæ™¯4ï¼šå¤§æ•°æ®é‡ä¸‹çš„å»é‡ä¸äº¤é›†åˆ†æ</h4>
<p><strong>éœ€æ±‚</strong>ï¼šåˆ†ææŸå¹¿å‘ŠæŠ•æ”¾çš„ä¸¤ç»„ç”¨æˆ·é‡åˆåº¦ï¼ˆå¦‚Aæ¸ é“å’ŒBæ¸ é“çš„æ›å…‰ç”¨æˆ·ï¼‰ã€‚<br/>
<strong>å®ç°</strong>ï¼šBitmapså­˜å‚¨ç”¨æˆ·IDï¼Œ<code>BITOP</code>è®¡ç®—äº¤é›†ã€‚<br/>
<strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># è®°å½•Aã€Bæ¸ é“ç”¨æˆ·</span>
SETBIT ad:channel_a 10086 1
SETBIT ad:channel_a 10087 1
SETBIT ad:channel_b 10086 1

<span class="hljs-comment"># è®¡ç®—é‡åˆç”¨æˆ·</span>
BITOP AND ad_overlap ad:channel_a ad:channel_b
BITCOUNT ad_overlap
<span class="hljs-comment"># è¿”å›ï¼š1ï¼ˆ10086é‡åˆï¼‰</span>
</code></pre>
<p><strong>æ€§èƒ½åˆ†æ</strong>ï¼š</p>
<ul>
<li>æµ‹è¯•æ•°æ®ï¼š1000ä¸‡ç”¨æˆ·ï¼Œä¸¤ä¸ªBitmapså„1.25MBã€‚</li>
<li><code>BITOP AND</code>è€—æ—¶çº¦15msï¼Œ<code>BITCOUNT</code>çº¦5msï¼Œæ€»å»¶è¿Ÿä¸åˆ°20msã€‚</li>
<li>ç”¨Setçš„<code>SINTER</code>è€—æ—¶çº¦150msï¼Œå†…å­˜å ç”¨é«˜10å€ã€‚</li>
</ul>
<p><strong>è¸©å‘ç»éªŒ</strong>ï¼š<br/>
æˆ‘æ›¾å› <code>BITCOUNT</code>å…¨é‡æ‰«æå¤§Keyï¼Œå¯¼è‡´å“åº”å˜æ…¢ã€‚åæ¥å‘ç°å¯ä»¥ç”¨<code>BITCOUNT start end</code>æŒ‡å®šèŒƒå›´ï¼Œæˆ–è€…ç”¨Luaè„šæœ¬åˆ†æ®µç»Ÿè®¡ï¼Œé¿å…æ€§èƒ½é™·é˜±ã€‚</p>
<h4 data-id="heading-18">è¿‡æ¸¡å°ç»“</h4>
<p>è¿™å››ä¸ªåœºæ™¯å±•ç¤ºäº†Bitmapsçš„å¤šæ ·æ€§å’Œå®ç”¨æ€§ï¼šä»ç­¾åˆ°çš„â€œè½»é‡å­˜å‚¨â€ï¼Œåˆ°åœ¨çº¿ç»Ÿè®¡çš„â€œå®æ—¶è®¡ç®—â€ï¼Œå†åˆ°æƒé™ç®¡ç†çš„â€œç´§å‡‘è®¾è®¡â€å’Œå¤§æ•°æ®çš„â€œé«˜æ•ˆåˆ†æâ€ï¼Œå®ƒæ€»èƒ½æ‰¾åˆ°ç”¨æ­¦ä¹‹åœ°ã€‚ä½†å…‰ä¼šç”¨è¿˜ä¸å¤Ÿï¼Œæ¥ä¸‹æ¥çš„æœ€ä½³å®è·µå’Œè¸©å‘ç»éªŒï¼Œå°†å¸®ä½ æŠŠBitmapsç”¨å¾—æ›´ç¨³ã€æ›´å¿«ã€‚</p>
<hr/>
<h3 data-id="heading-19">å››ã€æœ€ä½³å®è·µä¸è¸©å‘ç»éªŒ</h3>
<p>Bitmapsè™½ç„¶å¼ºå¤§ï¼Œä½†ç”¨å¾—å¥½éœ€è¦ä¸€äº›â€œé—¨é“â€ã€‚é€šè¿‡å‰é¢åœºæ™¯çš„å®æˆ˜ï¼Œæˆ‘ä»¬å·²ç»æ„Ÿå—åˆ°å®ƒçš„æ½œåŠ›ï¼Œä½†ä¹Ÿæš´éœ²å‡ºä¸€äº›æ½œåœ¨é—®é¢˜ï¼Œæ¯”å¦‚å†…å­˜ç®¡ç†ã€æ€§èƒ½ç“¶é¢ˆå’Œåˆ†å¸ƒå¼åœºæ™¯çš„æŒ‘æˆ˜ã€‚è¿™ä¸€èŠ‚ï¼Œæˆ‘å°†ç»“åˆ10å¹´Redisç»éªŒï¼Œåˆ†äº«æœ€ä½³å®è·µå’Œè¸©å‘æ•™è®­ï¼Œå¸®åŠ©ä½ åœ¨é¡¹ç›®ä¸­æŠŠBitmapsç”¨å¾—åˆç¨³åˆå¿«ã€‚</p>
<h4 data-id="heading-20">1. æœ€ä½³å®è·µ</h4>
<p>è¦è®©Bitmapså‘æŒ¥æœ€å¤§ä»·å€¼ï¼Œä»¥ä¸‹å‡ ç‚¹å€¼å¾—é“­è®°ï¼š</p>
<ul>
<li>
<p><strong>Keyè®¾è®¡è§„èŒƒï¼šåˆ†ç‰‡æ˜¯ç‹é“</strong><br/>
å•Keyè¿‡å¤§æ˜¯Bitmapsä½¿ç”¨ä¸­çš„å¸¸è§éšæ‚£ã€‚æ¯”å¦‚è®°å½•åœ¨çº¿ç”¨æˆ·æ—¶ï¼Œå¦‚æœç”¨<code>online:20250408</code>å­˜å…¨å¤©æ•°æ®ï¼ŒKeyå¯èƒ½è†¨èƒ€åˆ°å‡ åMBï¼Œæ‹–æ…¢æ“ä½œã€‚<br/>
<strong>å»ºè®®</strong>ï¼šæŒ‰æ—¶é—´æˆ–åœ°åŸŸåˆ†ç‰‡ï¼Œä¾‹å¦‚<code>online:20250408:am</code>å’Œ<code>online:20250408:pm</code>ï¼Œæ¯ä¸ªKeyæ§åˆ¶åœ¨1-5MBä»¥å†…ï¼Œæ—¢ä¾¿äºç®¡ç†ï¼Œåˆæå‡æ€§èƒ½ã€‚</p>
</li>
<li>
<p><strong>æ€§èƒ½ä¼˜åŒ–ï¼šæ‰¹é‡æ“ä½œæé€Ÿ</strong><br/>
é«˜å¹¶å‘åœºæ™¯ä¸‹ï¼Œé¢‘ç¹è°ƒç”¨<code>SETBIT</code>ä¼šå¢åŠ ç½‘ç»œå¼€é”€ã€‚<br/>
<strong>è§£å†³åŠæ³•</strong>ï¼šç”¨Pipelineæ‰¹é‡æäº¤ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># Pipelineæ‰¹é‡è®¾ç½®</span>
redis-cli -h host -p port &lt;&lt;<span class="hljs-string">EOF
SETBIT online:20250408:am 10086 1
SETBIT online:20250408:am 10087 1
EOF</span>
</code></pre>
<p><strong>æ•ˆæœ</strong>ï¼šä¸€æ¬¡RTTï¼ˆå¾€è¿”æ—¶é—´ï¼‰å®Œæˆå¤šæ¡å‘½ä»¤ï¼Œååé‡æå‡3-5å€ã€‚</p>
</li>
<li>
<p><strong>å®¹é”™è®¾è®¡ï¼šLuaè„šæœ¬ä¿åŸå­æ€§</strong><br/>
Bitmapsæ“ä½œè™½å¿«ï¼Œä½†å¤šæ­¥æ“ä½œï¼ˆå¦‚å…ˆ<code>SETBIT</code>å†<code>BITOP</code>ï¼‰å¯èƒ½å› å¹¶å‘å¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚<br/>
<strong>ç¤ºä¾‹</strong>ï¼šæ‰¹é‡è®¾ç½®å¹¶ç»Ÿè®¡ï¼š</p>
<pre><code class="hljs language-lua" lang="lua"><span class="hljs-keyword">local</span> key = KEYS[<span class="hljs-number">1</span>]
<span class="hljs-keyword">local</span> offsets = ARGV
<span class="hljs-keyword">for</span> i, offset <span class="hljs-keyword">in</span> <span class="hljs-built_in">ipairs</span>(offsets) <span class="hljs-keyword">do</span>
    redis.call(<span class="hljs-string">'SETBIT'</span>, key, offset, <span class="hljs-number">1</span>)
<span class="hljs-keyword">end</span>
<span class="hljs-keyword">return</span> redis.call(<span class="hljs-string">'BITCOUNT'</span>, key)
</code></pre>
<p><strong>ç”¨æ³•</strong>ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">EVAL <span class="hljs-string">"script"</span> 1 online:20250408:am 10086 10087
</code></pre>
<p><strong>ä¼˜åŠ¿</strong>ï¼šä¿è¯åŸå­æ€§ï¼Œé¿å…ä¸­é—´çŠ¶æ€è¢«å…¶ä»–çº¿ç¨‹å¹²æ‰°ã€‚</p>
</li>
</ul>
<h4 data-id="heading-21">2. è¸©å‘ç»éªŒ</h4>
<p>å®æˆ˜ä¸­ï¼Œæˆ‘è¸©è¿‡ä¸å°‘å‘ï¼Œä»¥ä¸‹æ˜¯å‡ ä¸ªå…¸å‹æ¡ˆä¾‹å’Œè§£å†³æ–¹æ¡ˆï¼š</p>
<ul>
<li>
<p><strong>å†…å­˜è¶…é™ï¼šæœªé¢„ä¼°æ•°æ®å¢é•¿å¯¼è‡´OOM</strong><br/>
åœ¨ä¸€ä¸ªå¹¿å‘Šåˆ†æé¡¹ç›®ä¸­ï¼Œæˆ‘ç”¨Bitmapså­˜å‚¨ç”¨æˆ·æ›å…‰æ•°æ®ï¼Œåˆå§‹è§„æ¨¡1000ä¸‡ç”¨æˆ·ï¼Œå†…å­˜å¯æ§ã€‚ä½†éšç€ä¸šåŠ¡å¢é•¿åˆ°1äº¿ç”¨æˆ·ï¼Œå•Keyè†¨èƒ€åˆ°12MBä»¥ä¸Šï¼Œè§¦å‘Redisçš„maxmemoryé™åˆ¶ï¼Œå¯¼è‡´OOMï¼ˆOut Of Memoryï¼‰ã€‚<br/>
<strong>è§£å†³åŠæ³•</strong>ï¼š</p>
<ul>
<li>æå‰é¢„ä¼°æ•°æ®è§„æ¨¡ï¼Œè®¾ç½®åˆç†çš„maxmemory-policyï¼ˆå¦‚<code>volatile-lru</code>ï¼‰ã€‚</li>
<li>ç”¨åˆ†ç‰‡ç­–ç•¥ï¼Œæ¯”å¦‚æŒ‰æ¸ é“æˆ–æ—¥æœŸæ‹†åˆ†Keyï¼š<code>ad:channel_a:202504</code>å’Œ<code>ad:channel_b:202504</code>ã€‚</li>
</ul>
</li>
<li>
<p><strong>å‘½ä»¤è¯¯ç”¨ï¼šBITCOUNTå…¨é‡æ‰«æçš„æ€§èƒ½é™·é˜±</strong><br/>
åœ¨ç»Ÿè®¡åœ¨çº¿äººæ•°æ—¶ï¼Œæˆ‘ç›´æ¥ç”¨<code>BITCOUNT online:20250408</code>ï¼ŒKeyæœ‰10MBï¼Œè€—æ—¶å‡ åæ¯«ç§’ï¼Œæ‹–æ…¢å“åº”ã€‚<br/>
<strong>æ•™è®­</strong>ï¼š<code>BITCOUNT</code>é»˜è®¤æ‰«ææ•´ä¸ªKeyï¼Œå¤æ‚åº¦O(N)ã€‚<br/>
<strong>ä¼˜åŒ–</strong>ï¼š</p>
<ul>
<li>æŒ‡å®šèŒƒå›´ï¼š<code>BITCOUNT online:20250408 0 1000000</code>åªç»Ÿè®¡å‰100ä¸‡ä½ã€‚</li>
<li>åˆ†æ®µè®¡ç®—ï¼šç”¨Luaè„šæœ¬åˆ†æ‰¹å¤„ç†å¤§Keyã€‚</li>
</ul>
</li>
<li>
<p><strong>åˆ†å¸ƒå¼é—®é¢˜ï¼šå¤šå®ä¾‹ä¸‹BitmapsåŒæ­¥çš„æŒ‘æˆ˜</strong><br/>
åœ¨Redis Clusterä¸­ï¼ŒBitmapsåˆ†å¸ƒåœ¨ä¸åŒèŠ‚ç‚¹ï¼Œ<code>BITOP</code>æ— æ³•è·¨æ§½æ‰§è¡Œï¼Œå¯¼è‡´äº¤é›†è®¡ç®—å¤±è´¥ã€‚<br/>
<strong>è§£å†³åŠæ³•</strong>ï¼š</p>
<ul>
<li>è®¾è®¡Keyæ—¶åŠ æ§½æ ‡ç­¾ï¼š<code>{20250408}:active</code>ï¼Œç¡®ä¿ç›¸å…³Keyè½åœ¨åŒä¸€èŠ‚ç‚¹ã€‚</li>
<li>æˆ–å®¢æˆ·ç«¯æ‹‰å–æ•°æ®åæœ¬åœ°è®¡ç®—ï¼Œä½†éœ€æƒè¡¡ç½‘ç»œå¼€é”€ã€‚</li>
</ul>
</li>
</ul>
<h4 data-id="heading-22">3. ä¸ä¸šåŠ¡ç»“åˆçš„æ€è€ƒ</h4>
<p>Bitmapså¹¶éä¸‡èƒ½ï¼Œé€‰æ‹©å®ƒè¿˜æ˜¯å…¶ä»–ç»“æ„ï¼Œéœ€ç»“åˆä¸šåŠ¡éœ€æ±‚ï¼š</p>
<ul>
<li><strong>Bitmapsé€‚åˆ</strong>ï¼šäºŒå€¼çŠ¶æ€ã€å¤§æ•°æ®é‡ã€ä½å†…å­˜éœ€æ±‚ï¼ˆå¦‚ç­¾åˆ°ã€åœ¨çº¿çŠ¶æ€ï¼‰ã€‚</li>
<li><strong>å…¶ä»–ç»“æ„æ›´ä¼˜</strong>ï¼šå¤šå€¼çŠ¶æ€ï¼ˆå¦‚Hashï¼‰ã€é¢‘ç¹å¢åˆ ï¼ˆå¦‚Listï¼‰ã€ç²¾ç¡®å»é‡ï¼ˆå¦‚Setï¼‰ã€‚<br/>
<strong>é«˜å¹¶å‘åœºæ™¯</strong>ï¼šè€ƒè™‘è¯»å†™åˆ†ç¦»ï¼Œå†™æ“ä½œç”¨Bitmapsè®°å½•ï¼Œè¯»æ“ä½œå¼‚æ­¥åŒæ­¥åˆ°åªè¯»å®ä¾‹ï¼Œå‡è½»ä¸»èŠ‚ç‚¹å‹åŠ›ã€‚</li>
</ul>
<h4 data-id="heading-23">è¿‡æ¸¡å°ç»“</h4>
<p>é€šè¿‡è¿™äº›å®è·µå’Œæ•™è®­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒBitmapsçš„å¨åŠ›åœ¨äºå®ƒçš„ç®€æ´é«˜æ•ˆï¼Œä½†ä¹Ÿéœ€è¦ç²¾å¿ƒè®¾è®¡å’Œç®¡ç†ã€‚æŒæ¡äº†Keyåˆ†ç‰‡ã€æ‰¹é‡ä¼˜åŒ–å’Œå®¹é”™æŠ€å·§ï¼Œä½ å°±èƒ½é¿å¼€å¸¸è§é™·é˜±ï¼Œè®©å®ƒæˆä¸ºé¡¹ç›®ä¸­çš„â€œå¾—åŠ›åŠ©æ‰‹â€ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æ€»ç»“å…¨æ–‡ï¼Œå±•æœ›Bitmapsçš„æœªæ¥å¯èƒ½æ€§ã€‚</p>
<hr/>
<h3 data-id="heading-24">äº”ã€æ€»ç»“ä¸å±•æœ›</h3>
<p>ç»è¿‡ä»åŸºç¡€åˆ°å®æˆ˜çš„å…¨é¢æ¢ç´¢ï¼Œæˆ‘ä»¬å·²ç»å¯¹Redisçš„Bitmapså’Œä½æ“ä½œæœ‰äº†æ·±å…¥çš„è®¤è¯†ã€‚ä½œä¸ºRedisé«˜çº§ç‰¹æ€§ä¸­çš„ä¸€å‘˜ï¼ŒBitmapsä»¥å…¶ç‹¬ç‰¹çš„è®¾è®¡å’Œå¼ºå¤§çš„åŠŸèƒ½ï¼Œåœ¨ä¼—å¤šåœºæ™¯ä¸­è¯æ˜äº†è‡ªå·±çš„ä»·å€¼ã€‚è¿™ä¸€èŠ‚ï¼Œæˆ‘ä»¬å°†æ€»ç»“å®ƒçš„æ ¸å¿ƒä¼˜åŠ¿ï¼Œæ¢³ç†å®æˆ˜ç»éªŒï¼Œå¹¶å±•æœ›æœªæ¥çš„å¯èƒ½æ€§ï¼Œå¸Œæœ›ä¸ºä½ ç•™ä¸‹ä¸€äº›å¯å‘ã€‚</p>
<h4 data-id="heading-25">1. æ€»ç»“è¦ç‚¹</h4>
<p>Bitmapsçš„æ ¸å¿ƒä¼˜åŠ¿å¯ä»¥ç”¨ä¸¤ä¸ªè¯æ¦‚æ‹¬ï¼š<strong>å†…å­˜æ•ˆç‡</strong>å’Œ<strong>é«˜æ€§èƒ½</strong>ã€‚å®ƒç”¨æœ€å°çš„ç©ºé—´ï¼ˆ1äº¿ä½ä»…12MBï¼‰æ‰¿è½½æµ·é‡æ•°æ®ï¼Œç”¨ä½è¿ç®—ï¼ˆ<code>BITOP</code>ã€<code>BITCOUNT</code>ï¼‰å®ç°æ¯«ç§’çº§çš„è®¡ç®—ã€‚è¿™ç§â€œä»¥å°åšå¤§â€çš„èƒ½åŠ›ï¼Œè®©å®ƒåœ¨ç”¨æˆ·ç­¾åˆ°ã€åœ¨çº¿ç»Ÿè®¡ã€æƒé™ç®¡ç†å’Œå¤§æ•°æ®åˆ†æç­‰åœºæ™¯ä¸­æ¸¸åˆƒæœ‰ä½™ã€‚</p>
<ul>
<li><strong>å®æˆ˜åœºæ™¯çš„å¹¿æ³›æ€§</strong>ï¼šä»è½»é‡çº§çš„çŠ¶æ€æ ‡è®°ï¼Œåˆ°å¤æ‚çš„äº¤é›†åˆ†æï¼ŒBitmapséƒ½èƒ½èƒœä»»ã€‚</li>
<li><strong>å±€é™æ€§</strong>ï¼šå•Keyè¿‡å¤§ã€åˆ†å¸ƒå¼åœºæ™¯çš„åŒæ­¥é—®é¢˜ï¼Œéœ€è¦é€šè¿‡åˆ†ç‰‡å’Œè®¾è®¡è§„é¿ã€‚</li>
<li><strong>ç»éªŒä»·å€¼</strong>ï¼šæˆ‘åˆ†äº«çš„è¸©å‘æ•™è®­ï¼ˆå†…å­˜è¶…é™ã€å‘½ä»¤è¯¯ç”¨ï¼‰å’Œä¼˜åŒ–å»ºè®®ï¼ˆPipelineã€Luaè„šæœ¬ï¼‰ï¼Œæ˜¯10å¹´å®æˆ˜çš„ç»“æ™¶ï¼Œå¸Œæœ›èƒ½å¸®ä½ å°‘èµ°å¼¯è·¯ã€‚</li>
</ul>
<h4 data-id="heading-26">2. å±•æœ›</h4>
<p>éšç€Redisçš„ä¸æ–­æ¼”è¿›ï¼ŒBitmapsçš„æ½œåŠ›è¿˜æœ‰å¾…æŒ–æ˜ï¼š</p>
<ul>
<li><strong>æ–°ç‰ˆæœ¬å¢å¼º</strong>ï¼šRedis 7.0å·²ä¼˜åŒ–å†…å­˜ç®¡ç†å’Œå‘½ä»¤æ€§èƒ½ï¼Œæœªæ¥å¯èƒ½ä¸ºBitmapså¼•å…¥æ›´å¤šä¸“ç”¨åŠŸèƒ½ï¼Œæ¯”å¦‚æ”¯æŒç¨€ç–å­˜å‚¨æˆ–æ›´é«˜æ•ˆçš„èŒƒå›´æŸ¥è¯¢ã€‚</li>
<li><strong>AI/MLåœºæ™¯</strong>ï¼šBitmapså¯ä»¥ç”¨æ¥å­˜å‚¨ç”¨æˆ·è¡Œä¸ºç‰¹å¾ï¼ˆä¾‹å¦‚ç‚¹å‡»ã€æµè§ˆçš„äºŒå€¼çŠ¶æ€ï¼‰ï¼Œç»“åˆæœºå™¨å­¦ä¹ æ¨¡å‹åšå®æ—¶é¢„æµ‹ï¼Œæ˜¯ä¸€ä¸ªå€¼å¾—æ¢ç´¢çš„æ–¹å‘ã€‚</li>
<li><strong>ç”Ÿæ€èåˆ</strong>ï¼šä¸Redis Streamæˆ–Graphç»“åˆï¼ŒBitmapså¯èƒ½åœ¨æ—¶åºåˆ†ææˆ–å…³ç³»è®¡ç®—ä¸­æ‰¾åˆ°æ–°èˆå°ã€‚</li>
</ul>
<h4 data-id="heading-27">3. ä¸ªäººä½¿ç”¨å¿ƒå¾—</h4>
<p>ç”¨Bitmapsçš„è¿™äº›å¹´ï¼Œæˆ‘æœ€å¤§çš„ä½“ä¼šæ˜¯ï¼š<strong>ç®€å•å³å¼ºå¤§</strong>ã€‚å®ƒæ²¡æœ‰å¤æ‚çš„ç»“æ„ï¼Œå´èƒ½è§£å†³å¤æ‚çš„é—®é¢˜ã€‚ä½†å‰ææ˜¯ä½ å¾—â€œæ‡‚å®ƒâ€â€”â€”ç†è§£å®ƒçš„é€‚ç”¨è¾¹ç•Œï¼Œè®¾è®¡å¥½Keyå’Œåç§»ï¼Œæ‰èƒ½è®©å®ƒå‘æŒ¥æœ€å¤§ä»·å€¼ã€‚æ¯æ¬¡è¸©å‘åä¼˜åŒ–æˆåŠŸï¼Œé‚£ç§â€œæŸ³æš—èŠ±æ˜â€çš„æ„Ÿè§‰ï¼Œä¹Ÿæ˜¯æŠ€æœ¯æˆé•¿çš„ä¹è¶£æ‰€åœ¨ã€‚</p>
<h4 data-id="heading-28">4. é¼“åŠ±äº’åŠ¨</h4>
<p>Bitmapsçš„åº”ç”¨è¿œä¸æ­¢æœ¬æ–‡æåˆ°çš„åœºæ™¯ã€‚ä½ æ˜¯å¦åœ¨é¡¹ç›®ä¸­ç”¨è¿‡å®ƒï¼Ÿæ˜¯è®°å½•ç­¾åˆ°ï¼Œè¿˜æ˜¯åˆ†ææ•°æ®ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ çš„ç»éªŒï¼Œæˆ–è€…å‘Šè¯‰æˆ‘ä½ åœ¨ä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¸€èµ·æ¢è®¨æ›´ä¼˜è§£æ³•ã€‚æŠ€æœ¯å› åˆ†äº«è€Œè¿›æ­¥ï¼Œå¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½æˆä¸ºä½ æ¢ç´¢Redisæ·±åº¦çš„èµ·ç‚¹ï¼</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[è‹¹æœiOSåº”ç”¨ä¸Šæ¶è¯¦ç»†æµç¨‹ä¸æ³¨æ„äº‹é¡¹è§£æ]]></title>    <link>https://juejin.cn/post/7598193992828780598</link>    <guid>https://juejin.cn/post/7598193992828780598</guid>    <pubDate>2026-01-23T09:49:56.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598193992828780598" data-draft-id="7598366933079359542" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="è‹¹æœiOSåº”ç”¨ä¸Šæ¶è¯¦ç»†æµç¨‹ä¸æ³¨æ„äº‹é¡¹è§£æ"/> <meta itemprop="keywords" content="åç«¯"/> <meta itemprop="datePublished" content="2026-01-23T09:49:56.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¼€å¿ƒå°±å¥½2025"/> <meta itemprop="url" content="https://juejin.cn/user/3850962908492660"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            è‹¹æœiOSåº”ç”¨ä¸Šæ¶è¯¦ç»†æµç¨‹ä¸æ³¨æ„äº‹é¡¹è§£æ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3850962908492660/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¼€å¿ƒå°±å¥½2025
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:49:56.000Z" title="Fri Jan 23 2026 09:49:56 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">è‹¹æœiosä¸Šæ¶æ“ä½œåŠæ³•ä»‹ç»</h2>
<p>è‹¹æœiOSä¸Šæ¶æ˜¯æŒ‡å°†å¼€å‘è€…å¼€å‘çš„åº”ç”¨ç¨‹åºæäº¤åˆ°è‹¹æœå…¬å¸çš„App Storeä¸­ï¼Œç»è¿‡å®¡æ ¸åä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿåœ¨App Storeä¸­æ­£å¼ä¸Šæ¶å¹¶ä¾›ç”¨æˆ·ä¸‹è½½ä½¿ç”¨ã€‚ä¸‹é¢å°†è¯¦ç»†ä»‹ç»iOSä¸Šæ¶çš„æµç¨‹å’Œæ³¨æ„äº‹é¡¹ã€‚</p>
<p>ä¸€ã€å¼€å‘é˜¶æ®µ</p>
<p>åœ¨å¼€å‘é˜¶æ®µï¼Œå¼€å‘è€…éœ€è¦éµå¾ªè‹¹æœå…¬å¸çš„ç›¸å…³è§„å®šå’Œè¦æ±‚è¿›è¡Œå¼€å‘ã€‚å…·ä½“åŒ…æ‹¬ï¼š</p>
<p>1.ä½¿ç”¨Appleå®˜æ–¹æä¾›çš„å¼€å‘å·¥å…·Xcodeè¿›è¡Œå¼€å‘ã€‚</p>
<p>2.éµå¾ªè‹¹æœå…¬å¸çš„äººæœºäº¤äº’è®¾è®¡æŒ‡å—ï¼Œè®¾è®¡ç¬¦åˆç”¨æˆ·ä½“éªŒçš„åº”ç”¨ç¨‹åºã€‚</p>
<p>3.éµå¾ªè‹¹æœå…¬å¸çš„ç¼–ç è§„èŒƒï¼Œç¼–å†™ç¬¦åˆè§„èŒƒçš„ä»£ç ã€‚</p>
<p>4.éµå¾ªè‹¹æœå…¬å¸çš„éšç§æ”¿ç­–å’Œæ•°æ®ä¿æŠ¤è¦æ±‚ï¼Œä¿æŠ¤ç”¨æˆ·éšç§ã€‚</p>
<p>5.åœ¨åº”ç”¨ç¨‹åºä¸­é›†æˆAppleæä¾›çš„æ”¯ä»˜å’Œå¹¿å‘ŠæœåŠ¡ã€‚</p>
<p>äºŒã€æäº¤åº”ç”¨ç¨‹åº</p>
<p>åœ¨å¼€å‘å®Œæˆåï¼Œå¼€å‘è€…éœ€è¦å°†åº”ç”¨ç¨‹åºæäº¤åˆ°è‹¹æœå…¬å¸çš„App Storeä¸­è¿›è¡Œå®¡æ ¸ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p>
<p>1.æ³¨å†Œæˆä¸ºè‹¹æœå¼€å‘è€…ã€‚</p>
<p>2.åœ¨Appleå¼€å‘è€…ç½‘ç«™ä¸­åˆ›å»ºApp IDï¼Œå¹¶ä¸ºåº”ç”¨ç¨‹åºç”³è¯·è¯ä¹¦å’Œæè¿°æ–‡ä»¶ã€‚</p>
<p>3.åœ¨Xcodeä¸­æ‰“åŒ…åº”ç”¨ç¨‹åºå¹¶ç”ŸæˆIPAæ–‡ä»¶ã€‚</p>
<p>4.åœ¨Appleå¼€å‘è€…ç½‘ç«™ä¸­åˆ›å»ºApp Store Connectè®°å½•ï¼Œå¹¶ä¸Šä¼ IPAæ–‡ä»¶ã€‚</p>
<p>ä½¿ç”¨AppUploaderå·¥å…·å¯ä»¥ç®€åŒ–IPAæ–‡ä»¶çš„ä¸Šä¼ è¿‡ç¨‹ï¼Œå®ƒæ”¯æŒåœ¨Windowsã€Macæˆ–Linuxç³»ç»Ÿä¸­ç›´æ¥ä¸Šä¼ IPAæ–‡ä»¶åˆ°App Storeï¼Œæ— éœ€Macç”µè„‘æˆ–Xcodeï¼Œæé«˜ä¸Šä¼ æ•ˆç‡ã€‚</p>
<p>5.å¡«å†™åº”ç”¨ç¨‹åºçš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬åç§°ã€æè¿°ã€å›¾æ ‡ã€æˆªå›¾ã€ä»·æ ¼ç­‰ã€‚</p>
<p>6.æäº¤åº”ç”¨ç¨‹åºè¿›è¡Œå®¡æ ¸ã€‚</p>
<p>ä¸‰ã€å®¡æ ¸é˜¶æ®µ</p>
<p>è‹¹æœå…¬å¸çš„å®¡æ ¸è¿‡ç¨‹é€šå¸¸éœ€è¦1-2å‘¨æ—¶é—´ï¼Œå®¡æ ¸è¿‡ç¨‹ä¸­å¼€å‘è€…éœ€æ³¨æ„è‹¹æœè°ƒè¯•è¯ä¹¦ç›¸å…³äº‹é¡¹ï¼š</p>
<p>1.éµå¾ªè‹¹æœå…¬å¸çš„å®¡æ ¸æŒ‡å—ï¼Œç¡®ä¿åº”ç”¨ç¨‹åºç¬¦åˆè§„å®šå’Œè¦æ±‚ã€‚</p>
<p>2.é¿å…ä½¿ç”¨æœªç»æˆæƒçš„ç¬¬ä¸‰æ–¹åº“å’Œæ’ä»¶ã€‚</p>
<p>3.é¿å…ä½¿ç”¨æœªç»æˆæƒçš„å•†æ ‡å’Œç‰ˆæƒå†…å®¹ã€‚</p>
<p>4.é¿å…åº”ç”¨ç¨‹åºä¸­å­˜åœ¨åŠŸèƒ½ç¼ºé™·å’Œå®‰å…¨æ¼æ´ã€‚</p>
<p>5.é¿å…åº”ç”¨ç¨‹åºä¸­å­˜åœ¨æ¬ºè¯ˆå’Œè¯ˆéª—è¡Œä¸ºã€‚</p>
<p>å››ã€ä¸Šæ¶é˜¶æ®µ</p>
<p>è‹¥åº”ç”¨ç¨‹åºå®¡æ ¸é€šè¿‡ï¼Œå¼€å‘è€…å¯ä»¥åœ¨App Storeä¸­æ­£å¼ä¸Šæ¶åº”ç”¨ç¨‹åºã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p>
<p>1.åœ¨App Store Connectä¸­è®¾ç½®åº”ç”¨ç¨‹åºçš„çŠ¶æ€ä¸ºâ€œå·²ä¸Šæ¶â€ã€‚</p>
<p>2.åœ¨App Storeä¸­æœç´¢åº”ç”¨ç¨‹åºå¹¶ç¡®è®¤åº”ç”¨ç¨‹åºçš„ä¿¡æ¯å’Œä»·æ ¼ã€‚</p>
<p>3.ç”¨æˆ·å¯ä»¥ä¸‹è½½å’Œä½¿ç”¨åº”ç”¨ç¨‹åºï¼Œå¼€å‘è€…å¯ä»¥é€šè¿‡App Store ConnectæŸ¥çœ‹åº”ç”¨ç¨‹åºçš„ä¸‹è½½é‡å’Œæ”¶ç›Šã€‚</p>
<p>æ€»ä¹‹ï¼Œè‹¹æœiOSä¸Šæ¶æ˜¯ä¸€ä¸ªéœ€è¦éµå¾ªè‹¹æœå…¬å¸ç›¸å…³è§„å®šå’Œè¦æ±‚çš„è¿‡ç¨‹ï¼Œå¼€å‘è€…éœ€è¦ä¿è¯åº”ç”¨ç¨‹åºçš„å“è´¨å’Œå®‰å…¨æ€§ï¼Œç¡®ä¿ç”¨æˆ·èƒ½å¤Ÿè·å¾—è‰¯å¥½çš„ä½¿ç”¨ä½“éªŒã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[é˜¿é‡Œäº‘ RocketMQ 4.0 å¯è§‚æµ‹æœ€ä½³å®è·µ]]></title>    <link>https://juejin.cn/post/7598355220830011444</link>    <guid>https://juejin.cn/post/7598355220830011444</guid>    <pubDate>2026-01-23T09:58:02.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598355220830011444" data-draft-id="7598403436698271778" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="é˜¿é‡Œäº‘ RocketMQ 4.0 å¯è§‚æµ‹æœ€ä½³å®è·µ"/> <meta itemprop="keywords" content="RocketMQ"/> <meta itemprop="datePublished" content="2026-01-23T09:58:02.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å¯è§‚æµ‹æ€§ç”¨è§‚æµ‹äº‘"/> <meta itemprop="url" content="https://juejin.cn/user/2392958212523102"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            é˜¿é‡Œäº‘ RocketMQ 4.0 å¯è§‚æµ‹æœ€ä½³å®è·µ
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2392958212523102/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å¯è§‚æµ‹æ€§ç”¨è§‚æµ‹äº‘
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T09:58:02.000Z" title="Fri Jan 23 2026 09:58:02 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»4åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">é˜¿é‡Œäº‘ RocketMQ 4.0 ä»‹ç»</h2>
<p>é˜¿é‡Œäº‘ RocketMQ 4.0 äº§å“æ˜¯é˜¿é‡Œäº‘æ—©æœŸåŸºäº Apache RocketMQ æ„å»ºçš„åˆ†å¸ƒå¼æ¶ˆæ¯ä¸­é—´ä»¶ï¼Œä¸»è¦é¢å‘ä¼ä¸šçº§æ¶ˆæ¯ä¼ é€’å’Œå¼‚æ­¥è§£è€¦åœºæ™¯ã€‚RocketMQ 4.0 åœ¨å‘å¸ƒæ—¶å·²å…·å¤‡é«˜ååã€ä½å»¶è¿Ÿã€å¯æ‰©å±•çš„æ ¸å¿ƒç‰¹æ€§ï¼Œæ”¯æŒé¡ºåºæ¶ˆæ¯ã€äº‹åŠ¡æ¶ˆæ¯ã€å®šæ—¶/å»¶æ—¶æ¶ˆæ¯ç­‰å¤šç§èƒ½åŠ›ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®ç°ç³»ç»Ÿé—´çš„å¯é é€šä¿¡ã€‚ç›¸æ¯”æ›´é«˜ç‰ˆæœ¬ï¼ŒRocketMQ 4.0 åœ¨å¼¹æ€§ä¼¸ç¼©ã€å¯è§‚æµ‹æ€§å’Œé›†æˆæ˜“ç”¨æ€§æ–¹é¢èƒ½åŠ›æœ‰é™ï¼Œæ›´å¤šä¾èµ–äººå·¥è¿ç»´å’Œç›‘æ§å·¥å…·ã€‚ä½†é€šè¿‡åˆç†éƒ¨ç½²ä¸ç›‘æ§ï¼Œä»èƒ½å¤Ÿæ»¡è¶³å¤§å¤šæ•°åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ¶ˆæ¯ä¼ é€’éœ€æ±‚ï¼Œä¸ºä¸šåŠ¡æä¾›åŸºç¡€çš„é«˜å¯ç”¨æ€§å’Œå¯é æ€§ä¿éšœã€‚</p>
<h2 data-id="heading-1">è§‚æµ‹äº‘</h2>
<p>è§‚æµ‹äº‘æ˜¯ä¸€æ¬¾ä¸“ä¸º IT å·¥ç¨‹å¸ˆæ‰“é€ çš„å…¨é“¾è·¯å¯è§‚æµ‹äº§å“ï¼Œå®ƒé›†æˆäº†åŸºç¡€è®¾æ–½ç›‘æ§ã€åº”ç”¨ç¨‹åºæ€§èƒ½ç›‘æ§å’Œæ—¥å¿—ç®¡ç†ï¼Œä¸ºæ•´ä¸ªæŠ€æœ¯æ ˆæä¾›å®æ—¶å¯è§‚å¯Ÿæ€§ã€‚è¿™æ¬¾äº§å“èƒ½å¤Ÿå¸®åŠ©å·¥ç¨‹å¸ˆå…¨é¢äº†è§£ç«¯åˆ°ç«¯çš„ç”¨æˆ·ä½“éªŒè¿½è¸ªï¼Œäº†è§£åº”ç”¨å†…å‡½æ•°çš„æ¯ä¸€æ¬¡è°ƒç”¨ï¼Œä»¥åŠå…¨é¢ç›‘æ§äº‘æ—¶ä»£çš„åŸºç¡€è®¾æ–½ã€‚æ­¤å¤–ï¼Œè§‚æµ‹äº‘è¿˜å…·å¤‡å¿«é€Ÿå‘ç°ç³»ç»Ÿå®‰å…¨é£é™©çš„èƒ½åŠ›ï¼Œä¸ºæ•°å­—åŒ–æ—¶ä»£æä¾›å®‰å…¨ä¿éšœã€‚</p>
<h3 data-id="heading-2">é‡‡é›†æ–¹æ³•</h3>
<ol>
<li>ç™»å½•è§‚æµ‹äº‘æ§åˆ¶å°</li>
<li>ç‚¹å‡»ã€é›†æˆã€‘èœå•ï¼Œé€‰æ‹©ã€äº‘è´¦å·ç®¡ç†ã€‘</li>
<li>ç‚¹å‡»ã€æ·»åŠ äº‘è´¦å·ã€‘ï¼Œé€‰æ‹©ã€é˜¿é‡Œäº‘ã€‘ï¼Œå¡«å†™ç•Œé¢æ‰€éœ€çš„ä¿¡æ¯ï¼Œå¦‚ä¹‹å‰å·²é…ç½®è¿‡äº‘è´¦å·ä¿¡æ¯ï¼Œåˆ™å¿½ç•¥æ­¤æ­¥éª¤</li>
<li>ç‚¹å‡»ã€æµ‹è¯•ã€‘ï¼Œæµ‹è¯•æˆåŠŸåç‚¹å‡»ã€ä¿å­˜ã€‘ï¼Œå¦‚æœæµ‹è¯•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç›¸å…³é…ç½®ä¿¡æ¯æ˜¯å¦æ­£ç¡®ï¼Œå¹¶é‡æ–°æµ‹è¯•</li>
<li>ç‚¹å‡»ã€äº‘è´¦å·ç®¡ç†ã€‘åˆ—è¡¨ä¸Šå¯ä»¥çœ‹åˆ°å·²æ·»åŠ çš„äº‘è´¦å·ï¼Œç‚¹å‡»ç›¸åº”çš„äº‘è´¦å·ï¼Œè¿›å…¥è¯¦æƒ…é¡µ</li>
<li>ç‚¹å‡»äº‘è´¦å·è¯¦æƒ…é¡µçš„ã€é›†æˆã€‘æŒ‰é’®ï¼Œåœ¨æœªå®‰è£…åˆ—è¡¨ä¸‹ï¼Œæ‰¾åˆ°é˜¿é‡Œäº‘ RocketMQ 4.0ï¼Œç‚¹å‡»ã€å®‰è£…ã€‘æŒ‰é’®ï¼Œå¼¹å‡ºå®‰è£…ç•Œé¢å®‰è£…å³å¯ã€‚</li>
</ol>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d66b684f97c045ea8f4dd6309c7b5e72~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769767081&amp;x-signature=IzjNdjAYEzD1ME0pSfbwSg%2FI9o8%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-3">å…³é”®æŒ‡æ ‡</h3>





















































































































<table><thead><tr><th>Metric Id</th><th>Metric Name</th><th>Dimensions</th><th>Statistics</th><th>Uni</th></tr></thead><tbody><tr><td>ReadyMessages</td><td>å·²å°±ç»ªæ¶ˆæ¯é‡(Group)</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>count</td></tr><tr><td>ReadyMessagesPerGidTopic</td><td>å·²å°±ç»ªæ¶ˆæ¯é‡(Group&amp;Topic)</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>count</td></tr><tr><td>ReceiveMessageCountPerGid</td><td>æ¶ˆè´¹è€…æ¯åˆ†é’Ÿæ¥æ”¶æ¶ˆæ¯æ•°é‡(Group)</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>count/min</td></tr><tr><td>ReceiveMessageCountPerGidTopic</td><td>æ¶ˆè´¹è€…æ¯åˆ†é’Ÿæ¥æ”¶æ¶ˆæ¯æ•°é‡(Group&amp;Topic)</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>count/min</td></tr><tr><td>ReceiveMessageCountPerInstance</td><td>æ¶ˆè´¹è€…æ¯åˆ†é’Ÿæ¥æ”¶æ¶ˆæ¯æ•°çš„æ•°é‡(Instance)</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>count/min</td></tr><tr><td>ReceiveMessageCountPerTopic</td><td>æ¶ˆè´¹è€…æ¯åˆ†é’Ÿæ¥æ”¶æ¶ˆæ¯çš„æ•°é‡(Topic)</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>count/min</td></tr><tr><td>SendDLQMessageCountPerGid</td><td>æ¯åˆ†é’Ÿäº§ç”Ÿæ­»ä¿¡æ¶ˆæ¯çš„æ•°é‡(Group)</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>count/min</td></tr><tr><td>SendDLQMessageCountPerGidTopic</td><td>æ¯åˆ†é’Ÿäº§ç”Ÿæ­»ä¿¡æ¶ˆæ¯çš„æ•°é‡(Group&amp;Topic)</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>count/min</td></tr><tr><td>SendMessageCountPerInstance</td><td>ç”Ÿäº§è€…æ¯åˆ†é’Ÿå‘é€æ¶ˆæ¯æ•°é‡(Instance)</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>count/min</td></tr><tr><td>SendMessageCountPerTopic</td><td>ç”Ÿäº§è€…æ¯åˆ†é’Ÿå‘é€æ¶ˆæ¯æ•°é‡(Topic)</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>count/min</td></tr><tr><td>ThrottledReceiveRequestsPerGid</td><td>æ¯åˆ†é’Ÿ(GroupId)æ¶ˆè´¹è¢«é™æµæ¬¡æ•°</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>counts/min</td></tr><tr><td>ThrottledReceiveRequestsPerGidTopic</td><td>æ¯åˆ†é’Ÿ(GroupId&amp;Topic)æ¶ˆè´¹è¢«é™æµæ¬¡æ•°</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>counts/min</td></tr><tr><td>ThrottledReceiveRequestsPerInstance</td><td>æ¯åˆ†é’Ÿ(Instance)æ¶ˆè´¹è¢«é™æµæ¬¡æ•°</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>counts/min</td></tr><tr><td>ThrottledSendRequestsPerInstance</td><td>æ¯åˆ†é’Ÿ(Instance)å‘é€è¢«é™æµæ¬¡æ•°</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>counts/min</td></tr><tr><td>ThrottledSendRequestsPerTopic</td><td>æ¯åˆ†é’Ÿ(Topic)å‘é€è¢«é™æµæ¬¡æ•°</td><td>account_name,InstanceName</td><td>Average,Maximum</td><td>counts/min</td></tr></tbody></table>
<h3 data-id="heading-4">åœºæ™¯è§†å›¾</h3>
<p>ç™»å½•<a href="https://link.juejin.cn?target=https%3A%2F%2Fconsole.guance.com%2F" target="_blank" title="https://console.guance.com/" ref="nofollow noopener noreferrer">è§‚æµ‹äº‘æ§åˆ¶å°</a>ï¼Œç‚¹å‡»ã€Œåœºæ™¯ã€ -ã€Œæ–°å»ºä»ªè¡¨æ¿ã€ï¼Œè¾“å…¥ â€œé˜¿é‡Œäº‘ RocketMQâ€ï¼Œ é€‰æ‹© â€œé˜¿é‡Œäº‘ RocketMQ4ç›‘æ§è§†å›¾â€ï¼Œç‚¹å‡» â€œç¡®å®šâ€ å³å¯æ·»åŠ è§†å›¾ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/d1552bef83fd4e489458b8a38f3c52d1~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769767081&amp;x-signature=L01cDLFCzCb6rVneat%2B9s5ikr6o%3D" alt="" loading="lazy"/></p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/fe0d56159610490daecf383a21fcb19a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769767081&amp;x-signature=RblQ0OS1LXoTOItSqnlBNXa3qyU%3D" alt="" loading="lazy"/></p>
<h3 data-id="heading-5">ç›‘æ§å™¨ï¼ˆå‘Šè­¦ï¼‰</h3>
<h4 data-id="heading-6">ReadyMessagesPerGidTopic æ¶ˆæ¯å †ç§¯é‡å¼‚å¸¸</h4>
<p>ç®€è¦æè¿°ï¼šæ¶ˆæ¯å †ç§¯é‡å¼‚å¸¸é€šå¸¸è¡¨ç¤ºæŸä¸ª Group æˆ– Group&amp;Topic ç»´åº¦ä¸‹çš„å¾…æ¶ˆè´¹æ¶ˆæ¯æ•°æŒç»­å¢åŠ ï¼Œè¯´æ˜æ¶ˆè´¹è€…å¤„ç†é€Ÿåº¦ä½äºç”Ÿäº§é€Ÿåº¦ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´æ¶ˆæ¯å»¶è¿Ÿå˜å¤§ï¼Œç”šè‡³å‡ºç°ä¸šåŠ¡å¤„ç†è¶…æ—¶æˆ–ä¸¢å¼ƒé£é™©ã€‚åŠæ—¶ç›‘æ§å’Œå¤„ç†å †ç§¯é‡å¼‚å¸¸ï¼Œæœ‰åŠ©äºå‘ç°æ¶ˆè´¹æ€§èƒ½ç“¶é¢ˆæˆ–æ¶ˆè´¹è€…å®ä¾‹å¼‚å¸¸ï¼Œä¿éšœæ¶ˆæ¯ç³»ç»Ÿçš„ç¨³å®šæ€§ä¸ä¸šåŠ¡çš„è¿ç»­æ€§ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4ee3a5a8bee24b579a34842dd85585ba~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769767081&amp;x-signature=OzQ%2FZ0lokYflI3AOgLwJpgg1v9o%3D" alt="" loading="lazy"/></p>
<h4 data-id="heading-7">ReceiveMessageCountPerGid / PerTopic</h4>
<p>ç®€è¦æè¿°ï¼šæ¶ˆè´¹è€…æ¥æ”¶æ¶ˆæ¯é€Ÿç‡å¼‚å¸¸é€šå¸¸è¡¨ç¤ºæŸä¸ª Groupã€Topic æˆ–æ•´ä¸ªå®ä¾‹çš„æ¶ˆè´¹ååé‡ä½äºé¢„æœŸã€‚è¿™å¯èƒ½æºäºæ¶ˆè´¹è€…å®•æœºã€çº¿ç¨‹ä¸è¶³ã€æ¶ˆè´¹é€»è¾‘è€—æ—¶è¿‡é•¿æˆ–ç½‘ç»œç“¶é¢ˆã€‚æŒç»­çš„æ¶ˆè´¹é€Ÿç‡ä¸‹é™ä¼šå¯¼è‡´æ¶ˆæ¯å †ç§¯å¢åŠ ï¼Œä»è€Œå½±å“ä¸šåŠ¡çš„å®æ—¶æ€§ã€‚ç›‘æ§è¯¥æŒ‡æ ‡å¯å¸®åŠ©åŠæ—¶å‘ç°å’Œå®šä½æ¶ˆè´¹ç¯èŠ‚çš„é—®é¢˜ï¼Œç¡®ä¿ç”Ÿäº§ä¸æ¶ˆè´¹ä¹‹é—´çš„é€Ÿç‡å¹³è¡¡ã€‚</p>
<p><img src="https://p9-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/7993f40294154b49899d30b4cb33faf0~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5Y-v6KeC5rWL5oCn55So6KeC5rWL5LqR:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769767081&amp;x-signature=tJ6igj%2BA%2FEqRn7Z5RTmSvwqU3ow%3D" alt="" loading="lazy"/></p>
<h2 data-id="heading-8">æ€»ç»“</h2>
<p>é€šè¿‡å°†é˜¿é‡Œäº‘ RocketMQ 4.0 çš„ç›‘æ§æ•°æ®æ¥å…¥è§‚æµ‹äº‘ï¼Œç”¨æˆ·å¯å®ç°æ›´ç›´è§‚çš„è¿è¡Œç›‘æ§ä¸å¼‚å¸¸å‘Šè­¦ã€‚è§‚æµ‹äº‘èƒ½å¤Ÿé‡‡é›†å¹¶å±•ç¤ºæ¶ˆæ¯å †ç§¯é‡ã€æ¶ˆè´¹é€Ÿç‡ç­‰å…³é”®æŒ‡æ ‡ï¼ŒåŠæ—¶å‘ç°æ¶ˆè´¹è€…æ€§èƒ½ç“¶é¢ˆæˆ–æ¶ˆæ¯å»¶è¿Ÿé—®é¢˜ã€‚å€ŸåŠ©æ™ºèƒ½å‘Šè­¦ä¸å¯è§†åŒ–è§†å›¾ï¼Œç”¨æˆ·å¯å¿«é€Ÿå®šä½å¼‚å¸¸ã€ä¼˜åŒ–æ¶ˆè´¹é€»è¾‘ï¼Œä»è€Œæå‡ç³»ç»Ÿç¨³å®šæ€§ä¸è¿ç»´æ•ˆç‡ã€‚æ•´ä½“è€Œè¨€ï¼Œè¯¥æ–¹æ¡ˆå¸®åŠ©ä¼ä¸šåœ¨ä¼ ç»Ÿ RocketMQ 4.0 ç¯å¢ƒä¸‹å®ç°ç°ä»£åŒ–å¯è§‚æµ‹è¿ç»´ã€‚</p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[PostgreSQL æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤ï¼špg_dump è¯¦è§£]]></title>    <link>https://juejin.cn/post/7598287024076750888</link>    <guid>https://juejin.cn/post/7598287024076750888</guid>    <pubDate>2026-01-23T08:08:57.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598287024076750888" data-draft-id="7598355220829061172" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="PostgreSQL æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤ï¼špg_dump è¯¦è§£"/> <meta itemprop="keywords" content="PostgreSQL"/> <meta itemprop="datePublished" content="2026-01-23T08:08:57.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="å…‰è›‹"/> <meta itemprop="url" content="https://juejin.cn/user/3537560778573467"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            PostgreSQL æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤ï¼špg_dump è¯¦è§£
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/3537560778573467/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    å…‰è›‹
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T08:08:57.000Z" title="Fri Jan 23 2026 08:08:57 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">PostgreSQL æ•°æ®åº“å¤‡ä»½ä¸æ¢å¤ï¼špg_dump ç³»åˆ—å·¥å…·å…¨è§£æ</h2>
<h3 data-id="heading-1">å‰è¨€</h3>
<p>åœ¨PostgreSQLæ•°æ®åº“çš„æ—¥å¸¸è¿ç»´ä¸­ï¼Œ<strong>æ•°æ®å¤‡ä»½ä¸æ¢å¤</strong>æ˜¯ä¿éšœæ•°æ®å®‰å…¨æ€§çš„æ ¸å¿ƒæ“ä½œã€‚PostgreSQL åŸç”Ÿæä¾›äº†<code>pg_dump</code>ç³»åˆ—å·¥å…·å®ç°æ•°æ®åº“çš„SQLè½¬å‚¨å¼å¤‡ä»½ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯ç”ŸæˆåŒ…å«SQLå‘½ä»¤çš„è½¬å‚¨æ–‡ä»¶ï¼Œé€šè¿‡æ‰§è¡Œè¯¥æ–‡ä»¶å³å¯é‡å»ºä¸å¤‡ä»½æ—¶åˆ»çŠ¶æ€ä¸€è‡´çš„æ•°æ®åº“ã€‚</p>
<p>ç›¸è¾ƒäºæ–‡ä»¶çº§å¤‡ä»½ã€è¿ç»­å½’æ¡£ç­‰æ–¹å¼ï¼Œ<code>pg_dump</code>å…·å¤‡<strong>è·¨ç‰ˆæœ¬å…¼å®¹ã€è·¨æ¶æ„è¿ç§»ã€éé˜»å¡å¤‡ä»½ï¼ˆå¤§éƒ¨åˆ†åœºæ™¯ï¼‰ã€ç»†ç²’åº¦æ¢å¤</strong>ç­‰æ˜¾è‘—ä¼˜åŠ¿ï¼Œæ˜¯PostgreSQLè¿ç»´ä¸­æœ€å¸¸ç”¨çš„å¤‡ä»½å·¥å…·ã€‚æœ¬æ–‡å°†å…¨é¢è§£æ<code>pg_dump</code>ã€<code>pg_dumpall</code>ã€<code>pg_restore</code>çš„ä½¿ç”¨æ–¹æ³•ï¼Œæ¶µç›–åŸºç¡€å¤‡ä»½æ¢å¤ã€é›†ç¾¤çº§å¤‡ä»½ã€å¤§å‹æ•°æ®åº“ä¸“å±è§£å†³æ–¹æ¡ˆç­‰æ ¸å¿ƒå†…å®¹ï¼Œä¸ºå®é™…è¿ç»´æä¾›å¯è½åœ°çš„æ“ä½œæŒ‡å—ã€‚</p>
<h3 data-id="heading-2">1 pg_dump æ ¸å¿ƒåŸç†ä¸åŸºç¡€ç”¨æ³•</h3>
<h4 data-id="heading-3">1.1 æ ¸å¿ƒåŸç†</h4>
<p><code>pg_dump</code>æ˜¯PostgreSQLçš„å®¢æˆ·ç«¯åº”ç”¨å·¥å…·ï¼Œå…¶æ ¸å¿ƒä½œç”¨æ˜¯æ‰«æç›®æ ‡æ•°æ®åº“å¹¶ç”Ÿæˆ<strong>åŒ…å«å»ºåº“ã€å»ºè¡¨ã€æ’å…¥æ•°æ®ç­‰SQLå‘½ä»¤çš„è½¬å‚¨æ–‡ä»¶</strong>ï¼ˆæ”¯æŒæ–‡æœ¬/è‡ªå®šä¹‰/ç›®å½•ç­‰æ ¼å¼ï¼‰ã€‚è¯¥å·¥å…·ä¼šåœ¨å¤‡ä»½å¼€å§‹æ—¶åˆ›å»ºæ•°æ®åº“çš„<strong>ä¸€è‡´æ€§å¿«ç…§</strong>ï¼Œå¤‡ä»½è¿‡ç¨‹ä¸­æ•°æ®åº“çš„æ›´æ–°æ“ä½œä¸ä¼šè¢«å†™å…¥è½¬å‚¨æ–‡ä»¶ï¼Œä¿è¯äº†å¤‡ä»½çš„å†…éƒ¨ä¸€è‡´æ€§ã€‚</p>
<p>åŒæ—¶ï¼Œ<code>pg_dump</code>å·¥ä½œæ—¶ä¸ä¼šé˜»å¡æ•°æ®åº“çš„å¸¸è§„è¯»å†™æ“ä½œï¼ˆä»…ä¼šé˜»å¡éœ€è¦æ’ä»–é”çš„æ“ä½œï¼Œå¦‚<code>ALTER TABLE</code>ï¼‰ï¼Œé€‚åˆåœ¨ç”Ÿäº§ç¯å¢ƒçš„ä¸šåŠ¡ä½å³°æœŸæ‰§è¡Œã€‚</p>
<h4 data-id="heading-4">1.2 åŸºç¡€å‘½ä»¤</h4>
<p><code>pg_dump</code>çš„æœ€åŸºç¡€ç”¨æ³•ä¸ºå°†æ•°æ®åº“è½¬å‚¨ä¸ºæ–‡æœ¬æ ¼å¼çš„SQLæ–‡ä»¶ï¼Œç»“æœé»˜è®¤è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼Œé€šè¿‡é‡å®šå‘ç¬¦<code>&gt;</code>å†™å…¥æŒ‡å®šæ–‡ä»¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸºç¡€æ ¼å¼ï¼špg_dump æ•°æ®åº“å &gt; è½¬å‚¨æ–‡ä»¶è·¯å¾„</span>
pg_dump mydb &gt; /backup/mydb_dump.sql
</code></pre>
<h4 data-id="heading-5">1.3 è¿æ¥å‚æ•°é…ç½®</h4>
<p><code>pg_dump</code>ä½œä¸ºPostgreSQLå®¢æˆ·ç«¯ï¼Œéœ€é€šè¿‡å‚æ•°æŒ‡å®šç›®æ ‡æ•°æ®åº“æœåŠ¡å™¨çš„è¿æ¥ä¿¡æ¯ï¼Œæ ¸å¿ƒå‚æ•°å¦‚ä¸‹ï¼ˆè‹¥ä½¿ç”¨é»˜è®¤å€¼å¯çœç•¥ï¼‰ï¼š</p>

























<table><thead><tr><th>å‚æ•°</th><th>ä½œç”¨</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td><code>-h host</code></td><td>æŒ‡å®šæ•°æ®åº“æœåŠ¡å™¨çš„ä¸»æœºå/IP</td><td>æœ¬åœ°ä¸»æœºï¼ˆæˆ–PGHOSTç¯å¢ƒå˜é‡ï¼‰</td></tr><tr><td><code>-p port</code></td><td>æŒ‡å®šæ•°æ®åº“æœåŠ¡å™¨çš„ç«¯å£å·</td><td>5432ï¼ˆæˆ–PGPORTç¯å¢ƒå˜é‡ï¼‰</td></tr><tr><td><code>-U username</code></td><td>æŒ‡å®šè¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å</td><td>å½“å‰æ“ä½œç³»ç»Ÿç”¨æˆ·åï¼ˆæˆ–PGUSERç¯å¢ƒå˜é‡ï¼‰</td></tr></tbody></table>
<p><strong>ç¤ºä¾‹</strong>ï¼šä»è¿œç«¯æœåŠ¡å™¨å¤‡ä»½æ•°æ®åº“ï¼ŒæŒ‡å®šç”¨æˆ·åå’Œç«¯å£ï¼š</p>
<pre><code class="hljs language-javascript" lang="javascript">pg_dump -h <span class="hljs-number">192.168</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span> -p <span class="hljs-number">5433</span> -U postgres mydb &gt; <span class="hljs-regexp">/backup/my</span>db_remote_dump.<span class="hljs-property">sql</span>
</code></pre>
<h4 data-id="heading-6">1.4 æƒé™è¦æ±‚</h4>
<p><code>pg_dump</code>æ— ç‰¹æ®Šæ‰§è¡Œæƒé™ï¼Œä»…éœ€å¯¹ç›®æ ‡å¤‡ä»½å¯¹è±¡æ‹¥æœ‰<strong>è¯»æƒé™</strong>ï¼š</p>
<ol>
<li>å¤‡ä»½æ•´ä¸ªæ•°æ®åº“æ—¶ï¼Œé€šå¸¸éœ€è¦ä»¥<strong>æ•°æ®åº“è¶…çº§ç”¨æˆ·</strong>ï¼ˆå¦‚postgresï¼‰æ‰§è¡Œï¼›</li>
<li>è‹¥ä»…å¤‡ä»½æ•°æ®åº“çš„éƒ¨åˆ†å¯¹è±¡ï¼Œä½¿ç”¨<code>-n æ¨¡å¼å</code>ï¼ˆæŒ‡å®šschemaï¼‰æˆ–<code>-t è¡¨å</code>ï¼ˆæŒ‡å®šå•è¡¨ï¼‰é€‰é¡¹ï¼Œä»…éœ€æ‹¥æœ‰å¯¹åº”å¯¹è±¡çš„è¯»æƒé™å³å¯ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹</strong>ï¼šä»…å¤‡ä»½<code>public</code>æ¨¡å¼ä¸‹çš„<code>user</code>è¡¨ï¼š</p>
<pre><code class="hljs language-typescript" lang="typescript">pg_dump -t <span class="hljs-keyword">public</span>.<span class="hljs-property">user</span> mydb &gt; <span class="hljs-regexp">/backup/my</span>db_user_dump.<span class="hljs-property">sql</span>
</code></pre>
<h4 data-id="heading-7">1.5 æ ¸å¿ƒä¼˜åŠ¿</h4>
<p>ç›¸è¾ƒäºPostgreSQLå…¶ä»–å¤‡ä»½æ–¹æ³•ï¼Œ<code>pg_dump</code>çš„æ ¸å¿ƒä¼˜åŠ¿ä½“ç°åœ¨ï¼š</p>
<ol>
<li><strong>è·¨ç‰ˆæœ¬å…¼å®¹</strong>ï¼šè½¬å‚¨æ–‡ä»¶å¯è½»æ¾è½½å…¥æ›´é«˜ç‰ˆæœ¬çš„PostgreSQLï¼Œè€Œæ–‡ä»¶çº§å¤‡ä»½ã€è¿ç»­å½’æ¡£å¼ºç»‘å®šæœåŠ¡å™¨ç‰ˆæœ¬ï¼›</li>
<li><strong>è·¨æ¶æ„è¿ç§»</strong>ï¼šæ˜¯å”¯ä¸€æ”¯æŒä¸åŒç¡¬ä»¶æ¶æ„è¿ç§»çš„æ–¹æ³•ï¼ˆå¦‚32ä½æœåŠ¡å™¨â†’64ä½æœåŠ¡å™¨ï¼‰ï¼›</li>
<li><strong>çµæ´»çš„è¾“å‡ºæ ¼å¼</strong>ï¼šæ”¯æŒæ–‡æœ¬ã€è‡ªå®šä¹‰ã€ç›®å½•ç­‰æ ¼å¼ï¼Œé€‚é…ä¸åŒçš„å¤‡ä»½/æ¢å¤éœ€æ±‚ï¼›</li>
<li><strong>éé˜»å¡å¤‡ä»½</strong>ï¼šä¸å½±å“æ•°æ®åº“å¸¸è§„ä¸šåŠ¡æ“ä½œï¼Œé€‚åˆç”Ÿäº§ç¯å¢ƒï¼›</li>
<li><strong>ç»†ç²’åº¦æ§åˆ¶</strong>ï¼šå¯æŒ‡å®šå¤‡ä»½å•ä¸ªè¡¨ã€schemaï¼Œæ¢å¤æ—¶ä¹Ÿå¯é€‰æ‹©æ€§æ¢å¤å¯¹è±¡ã€‚</li>
</ol>
<h3 data-id="heading-8">2 ä»è½¬å‚¨æ–‡ä»¶æ¢å¤æ•°æ®åº“</h3>
<p>æ ¹æ®<code>pg_dump</code>ç”Ÿæˆçš„è½¬å‚¨æ–‡ä»¶æ ¼å¼ä¸åŒï¼Œæ¢å¤æ–¹å¼åˆ†ä¸º**æ–‡æœ¬æ ¼å¼ï¼ˆpsqlæ‰§è¡Œï¼‰<strong>å’Œ</strong>éæ–‡æœ¬æ ¼å¼ï¼ˆpg_restoreæ‰§è¡Œï¼‰**ä¸¤ç§ï¼Œæ¢å¤å‰éœ€åšå¥½å‰ç½®å‡†å¤‡å·¥ä½œã€‚</p>
<h4 data-id="heading-9">2.1 æ¢å¤å‰ç½®æ¡ä»¶</h4>
<ol>
<li>éœ€æ‰‹åŠ¨åˆ›å»ºç›®æ ‡æ•°æ®åº“ï¼Œä¸”å¿…é¡»ä»<code>template0</code>æ¨¡æ¿åˆ›å»ºã€‚<code>template0</code>æ˜¯PostgreSQLå†…ç½®çš„çº¯å‡€æ¨¡æ¿æ•°æ®åº“ï¼Œé›†ç¾¤åˆå§‹åŒ–æ—¶è‡ªåŠ¨ç”Ÿæˆï¼ŒåŒ…å«æ•°æ®åº“è¿è¡Œå¿…éœ€çš„ç³»ç»Ÿå¯¹è±¡ï¼Œä¸”ä¸å…è®¸ç”¨æˆ·æ·»åŠ è‡ªå®šä¹‰å†…å®¹ï¼Œèƒ½å§‹ç»ˆä¿æŒåˆå§‹çº¯å‡€çŠ¶æ€ã€‚ä¸ä¹‹ç›¸å¯¹çš„<code>template1</code>å¯è¢«ç”¨æˆ·ä¿®æ”¹ï¼ˆå¦‚æ·»åŠ æ‰©å±•ã€å…¬å…±è¡¨ç»“æ„ï¼‰ï¼Œæ–°å»ºæ•°æ®åº“é»˜è®¤ä»¥<code>template1</code>ä¸ºæ¨¡æ¿ã€‚æ¢å¤æ—¶é€‰ç”¨<code>template0</code>ï¼Œå¯é¿å…<code>template1</code>ä¸­çš„è‡ªå®šä¹‰å†…å®¹æ±¡æŸ“æ¢å¤ç»“æœï¼Œç¡®ä¿æ•°æ®åº“ç»“æ„ã€æƒé™ä¸åŸå§‹å¤‡ä»½å®Œå…¨ä¸€è‡´ï¼Œæ— é¢å¤–å†—ä½™å¯¹è±¡ï¼Œåˆ›å»ºå‘½ä»¤å¦‚ä¸‹ï¼š</li>
<li>è½¬å‚¨æ–‡ä»¶ä¸­å¯¹è±¡çš„<strong>æ‹¥æœ‰è€…ã€æƒé™è¢«æˆäºˆçš„ç”¨æˆ·</strong>å¿…é¡»å·²å­˜åœ¨äºç›®æ ‡æœåŠ¡å™¨ï¼Œå¦åˆ™æ— æ³•æ¢å¤åŸæœ‰çš„æ‰€å±å…³ç³»å’Œæƒé™ã€‚</li>
</ol>
<h4 data-id="heading-10">2.2 æ–‡æœ¬æ ¼å¼è½¬å‚¨æ¢å¤ï¼ˆpsqlï¼‰</h4>
<p><code>pg_dump</code>åŸºç¡€å‘½ä»¤ç”Ÿæˆçš„æ–‡æœ¬æ ¼å¼è½¬å‚¨æ–‡ä»¶æ˜¯æ ‡å‡†çš„SQLè„šæœ¬ï¼Œéœ€é€šè¿‡<code>psql</code>å·¥å…·æ‰§è¡Œæ¢å¤ï¼Œé€šç”¨å‘½ä»¤æ ¼å¼ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># -Xï¼šå¿½ç•¥psqlçš„é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨é»˜è®¤è®¾ç½®æ‰§è¡Œ</span>
psql -X ç›®æ ‡æ•°æ®åº“å &lt; è½¬å‚¨æ–‡ä»¶è·¯å¾„
</code></pre>
<p><strong>ç¤ºä¾‹</strong>ï¼šæ¢å¤<code>mydb_dump.sql</code>åˆ°æ–°å»ºçš„<code>mydb_restore</code>æ•°æ®åº“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># 1. æ–°å»ºæ•°æ®åº“</span>
createdb -T template0 mydb_restore
<span class="hljs-comment"># 2. æ‰§è¡Œæ¢å¤</span>
psql -X mydb_restore &lt; /backup/mydb_dump.sql
</code></pre>
<h5 data-id="heading-11">2.2.1 å¢å¼ºæ¢å¤çš„å®¹é”™æ€§/åŸå­æ€§</h5>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œpsqlæ‰§è¡Œè„šæœ¬æ—¶é‡åˆ°SQLé”™è¯¯ä¼šç»§ç»­æ‰§è¡Œï¼Œå¯èƒ½å¯¼è‡´<strong>éƒ¨åˆ†æ¢å¤</strong>ï¼Œå¯é€šè¿‡ä»¥ä¸‹ä¸¤ç§æ–¹å¼ä¼˜åŒ–ï¼š</p>
<ol>
<li>
<p><strong>é‡é”™å³åœ</strong>ï¼šè®¾ç½®<code>ON_ERROR_STOP</code>å˜é‡ï¼Œé”™è¯¯æ—¶ä»¥é€€å‡ºçŠ¶æ€3ç»ˆæ­¢ï¼Œå¿«é€Ÿå‘ç°é—®é¢˜ï¼š</p>
<ol>
<li>
<pre><code class="hljs language-ini" lang="ini">psql -X --set <span class="hljs-attr">ON_ERROR_STOP</span>=<span class="hljs-literal">on</span> mydb_restore &lt; /backup/mydb_dump.sql
</code></pre>
</li>
</ol>
</li>
<li>
<p><strong>å•äº‹åŠ¡æ¢å¤</strong>ï¼šé€šè¿‡<code>-1/--single-transaction</code>å°†æ•´ä¸ªæ¢å¤è¿‡ç¨‹ä½œä¸ºå•ä¸ªäº‹åŠ¡æ‰§è¡Œï¼Œå®ç°<strong>è¦ä¹ˆå®Œå…¨æ¢å¤ï¼Œè¦ä¹ˆå®Œå…¨å›æ»š</strong>ï¼Œé¿å…éƒ¨åˆ†æ¢å¤çš„è„æ•°æ®ï¼š</p>
<ol>
<li/>
<li>
<pre><code class="hljs language-javascript" lang="javascript">psql -X -<span class="hljs-number">1</span> mydb_restore &lt; <span class="hljs-regexp">/backup/my</span>db_dump.<span class="hljs-property">sql</span>
</code></pre>
</li>
<li>
<p>Â Â ã€æ³¨æ„ã€‘å•äº‹åŠ¡æ¢å¤çš„å¼Šç«¯æ˜¯ï¼šè‹¥æ¢å¤è¿‡ç¨‹æŒç»­æ•°å°æ—¶ï¼Œä¸€ä¸ªå¾®å°é”™è¯¯ä¼šå¯¼è‡´æ•´ä¸ªè¿‡ç¨‹å›æ»šï¼Œéœ€æ ¹æ®ä¸šåŠ¡åœºæ™¯é€‰æ‹©ã€‚</p>
</li>
</ol>
</li>
</ol>
<h4 data-id="heading-12">2.3 éæ–‡æœ¬æ ¼å¼è½¬å‚¨æ¢å¤ï¼ˆpg_restoreï¼‰</h4>
<p>å½“<code>pg_dump</code>ä½¿ç”¨**è‡ªå®šä¹‰æ ¼å¼ï¼ˆ-Fcï¼‰<strong>æˆ–</strong>ç›®å½•æ ¼å¼ï¼ˆ-Fdï¼‰**ç”Ÿæˆè½¬å‚¨æ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶å¹¶éæ ‡å‡†SQLè„šæœ¬ï¼Œæ— æ³•é€šè¿‡psqlæ‰§è¡Œï¼Œå¿…é¡»ä½¿ç”¨<code>pg_restore</code>å·¥å…·æ¢å¤ï¼ŒåŸºç¡€å‘½ä»¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># -dï¼šæŒ‡å®šç›®æ ‡æ•°æ®åº“ï¼ˆéœ€æå‰åˆ›å»ºï¼‰</span>
pg_restore -d ç›®æ ‡æ•°æ®åº“å è½¬å‚¨æ–‡ä»¶è·¯å¾„
</code></pre>
<h4 data-id="heading-13">2.4 è·¨æœåŠ¡å™¨ç›´æ¥è¿ç§»ï¼ˆç®¡é“æ–¹å¼ï¼‰</h4>
<p><code>pg_dump</code>å’Œ<code>psql</code>æ”¯æŒè¯»å†™ç®¡é“ï¼Œå¯<strong>è·³è¿‡æœ¬åœ°è½¬å‚¨æ–‡ä»¶</strong>ï¼Œç›´æ¥å°†ä¸€ä¸ªæœåŠ¡å™¨çš„æ•°æ®åº“è½¬å‚¨å¹¶æ¢å¤åˆ°å¦ä¸€ä¸ªæœåŠ¡å™¨ï¼Œé€‚åˆæ•°æ®åº“çš„è·¨æœºè¿ç§»ï¼Œå‘½ä»¤æ ¼å¼ï¼š</p>
<pre><code class="hljs">pg_dump -h æºæœåŠ¡å™¨IP æºæ•°æ®åº“å | psql -X -h ç›®æ ‡æœåŠ¡å™¨IP ç›®æ ‡æ•°æ®åº“å
</code></pre>
<p><strong>ç¤ºä¾‹</strong>ï¼šå°†<a href="https://link.juejin.cn?target=192.168.1.100" target="_blank" title="192.168.1.100" ref="nofollow noopener noreferrer">192.168.1.100</a>çš„mydbè¿ç§»åˆ°<a href="https://link.juejin.cn?target=192.168.1.200" target="_blank" title="192.168.1.200" ref="nofollow noopener noreferrer">192.168.1.200</a>çš„mydbï¼ˆç›®æ ‡åº“éœ€æå‰åˆ›å»ºï¼‰ï¼š</p>
<pre><code class="hljs language-r" lang="r">createdb <span class="hljs-operator">-</span><span class="hljs-built_in">T</span> template0 <span class="hljs-operator">-</span>h <span class="hljs-number">192.168</span>.1.200 <span class="hljs-operator">-</span>U postgres mydb
pg_dump <span class="hljs-operator">-</span>h <span class="hljs-number">192.168</span>.1.100 <span class="hljs-operator">-</span>U postgres mydb <span class="hljs-operator">|</span> psql <span class="hljs-operator">-</span>X <span class="hljs-operator">-</span>h <span class="hljs-number">192.168</span>.1.200 <span class="hljs-operator">-</span>U postgres mydb
</code></pre>
<h4 data-id="heading-14">2.5 æ¢å¤åä¼˜åŒ–</h4>
<p>æ¢å¤å®Œæˆåï¼Œå»ºè®®åœ¨ç›®æ ‡æ•°æ®åº“ä¸Šæ‰§è¡Œ<code>ANALYZE</code>å‘½ä»¤ï¼Œæ›´æ–°æ•°æ®åº“çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œè®©PostgreSQLæŸ¥è¯¢ä¼˜åŒ–å™¨ç”Ÿæˆæ›´é«˜æ•ˆçš„æ‰§è¡Œè®¡åˆ’ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åˆ†æå•ä¸ªæ•°æ®åº“</span>
psql -U postgres -d mydb_restore -c <span class="hljs-string">"ANALYZE;"</span>
<span class="hljs-comment"># åˆ†ææ•´ä¸ªé›†ç¾¤çš„æ‰€æœ‰æ•°æ®åº“</span>
analyzedb -U postgres
</code></pre>
<h3 data-id="heading-15">3 pg_dumpall é›†ç¾¤çº§å…¨é‡å¤‡ä»½</h3>
<p><code>pg_dump</code>ä»…èƒ½å¤‡ä»½<strong>å•ä¸ªæ•°æ®åº“</strong>ï¼Œä¸”ä¸ä¼šå¯¼å‡º<strong>é›†ç¾¤çº§å…¨å±€æ•°æ®</strong>ï¼ˆå¦‚è§’è‰²ã€è¡¨ç©ºé—´ã€æƒé™ç­‰ï¼Œè¿™äº›å±äºæ•´ä¸ªPostgreSQLé›†ç¾¤ï¼Œè€Œéå•ä¸ªæ•°æ®åº“ï¼‰ã€‚PostgreSQLæä¾›<code>pg_dumpall</code>å·¥å…·å®ç°<strong>æ•´ä¸ªæ•°æ®åº“é›†ç¾¤çš„å…¨é‡å¤‡ä»½</strong>ï¼Œæ¶µç›–é›†ç¾¤ä¸­æ‰€æœ‰æ•°æ®åº“åŠå…¨å±€æ•°æ®ã€‚</p>
<h4 data-id="heading-16">3.1 æ ¸å¿ƒä½œç”¨</h4>
<ol>
<li>å¤‡ä»½PostgreSQLé›†ç¾¤ä¸­çš„<strong>æ‰€æœ‰æ•°æ®åº“</strong>ï¼Œæ¯ä¸ªæ•°æ®åº“è‡ªèº«ä¿æŒä¸€è‡´æ€§ï¼›</li>
<li>å¯¼å‡ºé›†ç¾¤çº§å…¨å±€æ•°æ®ï¼šè§’è‰²ï¼ˆç”¨æˆ·/ç»„ï¼‰ã€è¡¨ç©ºé—´å®šä¹‰ã€é›†ç¾¤çº§æƒé™ç­‰ï¼›</li>
<li>ç”Ÿæˆçš„è½¬å‚¨æ–‡ä»¶ä¸ºæ–‡æœ¬æ ¼å¼ï¼Œå¯ç›´æ¥é€šè¿‡psqlæ¢å¤ã€‚</li>
</ol>
<p>ã€æ³¨æ„ã€‘<code>pg_dumpall</code>ä»…ä¿è¯å•ä¸ªæ•°æ®åº“çš„å¿«ç…§ä¸€è‡´æ€§ï¼Œ<strong>ä¸åŒæ•°æ®åº“çš„å¿«ç…§ä¸åŒæ­¥</strong>ï¼Œè‹¥éœ€è·¨æ•°æ®åº“çš„ä¸€è‡´æ€§å¤‡ä»½ï¼Œéœ€ç»“åˆäº‹åŠ¡æˆ–åœå†™æ“ä½œã€‚</p>
<h4 data-id="heading-17">3.2 åŸºç¡€ç”¨æ³•</h4>
<h5 data-id="heading-18">3.2.1 é›†ç¾¤å…¨é‡å¤‡ä»½</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># åŸºç¡€æ ¼å¼ï¼špg_dumpall &gt; è½¬å‚¨æ–‡ä»¶è·¯å¾„</span>
pg_dumpall -U postgres &gt; /backup/pg_cluster_dump.sql
</code></pre>
<h5 data-id="heading-19">3.2.2 é›†ç¾¤å…¨é‡æ¢å¤</h5>
<p>æ¢å¤æ—¶éœ€ä½¿ç”¨<strong>è¶…çº§ç”¨æˆ·</strong>æ‰§è¡Œï¼ˆå› éœ€é‡å»ºè§’è‰²ã€è¡¨ç©ºé—´ç­‰å…¨å±€æ•°æ®ï¼‰ï¼ŒæŒ‡å®š<code>postgres</code>æ•°æ®åº“ä½œä¸ºæ¢å¤èµ·ç‚¹ï¼ˆç©ºé›†ç¾¤æ¢å¤çš„é»˜è®¤é€‰æ‹©ï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># -fï¼šæŒ‡å®šè¦æ‰§è¡Œçš„SQLè„šæœ¬æ–‡ä»¶</span>
psql -X -U postgres -f /backup/pg_cluster_dump.sql postgres
</code></pre>
<h4 data-id="heading-20">3.3 å•ç‹¬å¤‡ä»½é›†ç¾¤çº§å…¨å±€æ•°æ®</h4>
<p>è‹¥ä»…éœ€å¤‡ä»½è§’è‰²ã€è¡¨ç©ºé—´ç­‰å…¨å±€æ•°æ®ï¼Œè€Œéæ•´ä¸ªé›†ç¾¤çš„æ•°æ®åº“ï¼Œå¯ä½¿ç”¨<code>--globals-only</code>é€‰é¡¹ï¼Œè¿™æ˜¯é…åˆ<code>pg_dump</code>å•åº“å¤‡ä»½å®ç°<strong>é›†ç¾¤å®Œæ•´å¤‡ä»½</strong>çš„å¿…è¦æ­¥éª¤ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># ä»…å¤‡ä»½é›†ç¾¤å…¨å±€æ•°æ®ï¼ˆè§’è‰²ã€è¡¨ç©ºé—´ï¼‰</span>
pg_dumpall -U postgres --globals-only &gt; /backup/pg_cluster_globals.sql
</code></pre>
<h3 data-id="heading-21">4 å¤§å‹æ•°æ®åº“çš„å¤‡ä»½ä¸æ¢å¤è§£å†³æ–¹æ¡ˆ</h3>
<p>é’ˆå¯¹å¤§å°ºå¯¸æ•°æ®åº“ï¼Œç›´æ¥ä½¿ç”¨<code>pg_dump</code>åŸºç¡€å‘½ä»¤å¯èƒ½é‡åˆ°<strong>æ–‡ä»¶ç³»ç»Ÿæœ€å¤§æ–‡ä»¶é™åˆ¶ã€å¤‡ä»½é€Ÿåº¦æ…¢ã€æ¢å¤æ•ˆç‡ä½</strong>ç­‰é—®é¢˜ï¼Œå¯é€šè¿‡<strong>å‹ç¼©ã€æ–‡ä»¶åˆ†å‰²ã€è‡ªå®šä¹‰æ ¼å¼ã€å¹¶è¡Œå¤‡ä»½</strong>ç­‰æ–¹å¼è§£å†³ï¼Œå¯å•ç‹¬ä½¿ç”¨æˆ–ç»„åˆä½¿ç”¨ã€‚</p>
<h4 data-id="heading-22">4.1 å‹ç¼©è½¬å‚¨ï¼ˆé€‚é…æ™®é€šå¤§æ•°æ®åº“ï¼‰</h4>
<p>åˆ©ç”¨Unixå‹ç¼©å·¥å…·ï¼ˆå¦‚gzipï¼‰å¯¹<code>pg_dump</code>çš„è¾“å‡ºè¿›è¡Œå®æ—¶å‹ç¼©ï¼Œå¤§å¹…å‡å°è½¬å‚¨æ–‡ä»¶ä½“ç§¯ï¼Œé€‚åˆç£ç›˜ç©ºé—´æœ‰é™çš„åœºæ™¯ã€‚</p>
<h5 data-id="heading-23">4.1.1 å‹ç¼©å¤‡ä»½</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># pg_dumpè¾“å‡ºé€šè¿‡ç®¡é“å®æ—¶gzipå‹ç¼©</span>
pg_dump mydb | gzip &gt; /backup/mydb_dump.sql.gz
</code></pre>
<h5 data-id="heading-24">4.1.2 è§£å‹æ¢å¤</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># æ–¹å¼1ï¼šgunzipè§£å‹åé€šè¿‡ç®¡é“æ¢å¤</span>
gunzip -c /backup/mydb_dump.sql.gz | psql mydb_restore
<span class="hljs-comment"># æ–¹å¼2ï¼šcatç»“åˆgunzipæ¢å¤ï¼ˆæ•ˆæœä¸€è‡´ï¼‰</span>
<span class="hljs-built_in">cat</span> /backup/mydb_dump.sql.gz | gunzip | psql mydb_restore
</code></pre>
<h4 data-id="heading-25">4.2 åˆ†å‰²å¤§è½¬å‚¨æ–‡ä»¶ï¼ˆé€‚é…è¶…å¤§å‹æ–‡ä»¶ï¼‰</h4>
<p>è‹¥æ“ä½œç³»ç»Ÿå¯¹æ–‡ä»¶å¤§å°æœ‰ä¸¥æ ¼é™åˆ¶ï¼ˆå¦‚å•æ–‡ä»¶æœ€å¤§2Gï¼‰ï¼Œä½¿ç”¨<code>split</code>å‘½ä»¤å°†<code>pg_dump</code>çš„è¾“å‡ºåˆ†å‰²ä¸ºæŒ‡å®šå¤§å°çš„å°æ–‡ä»¶ï¼Œè§£å†³å¤§æ–‡ä»¶å­˜å‚¨é—®é¢˜ã€‚</p>
<h5 data-id="heading-26">4.2.1 åˆ†å‰²å¤‡ä»½ï¼ˆæŒ‰2Gåˆ†å‰²ï¼‰</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># -b 2Gï¼šæŒ‡å®šæ¯ä¸ªåˆ†å‰²æ–‡ä»¶çš„å¤§å°ä¸º2Gï¼›-ï¼šè¡¨ç¤ºä»æ ‡å‡†è¾“å…¥è¯»å–ï¼›filenameï¼šåˆ†å‰²æ–‡ä»¶å‰ç¼€</span>
pg_dump mydb | <span class="hljs-built_in">split</span> -b 2G - /backup/mydb_dump_
</code></pre>
<p>æ‰§è¡Œåä¼šç”Ÿæˆ<code>mydb_dump_aa</code>ã€<code>mydb_dump_ab</code>ã€<code>mydb_dump_ac</code>ç­‰åˆ†å‰²æ–‡ä»¶ã€‚</p>
<h5 data-id="heading-27">4.2.2 åˆå¹¶æ¢å¤</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># é€šè¿‡catåˆå¹¶æ‰€æœ‰åˆ†å‰²æ–‡ä»¶ï¼Œå†é€šè¿‡ç®¡é“æ¢å¤</span>
<span class="hljs-built_in">cat</span> /backup/mydb_dump_* | psql mydb_restore
</code></pre>
<h5 data-id="heading-28">4.2.3 å‹ç¼©+åˆ†å‰²ï¼ˆGNU splitä¸“å±ï¼‰</h5>
<p>è‹¥ä½¿ç”¨GNUç‰ˆæœ¬çš„<code>split</code>ï¼Œå¯ç»“åˆ<code>gzip</code>å®ç°<strong>å®æ—¶å‹ç¼©+åˆ†å‰²</strong>ï¼Œè¿›ä¸€æ­¥èŠ‚çœç£ç›˜ç©ºé—´ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># --filterï¼šæŒ‡å®šå¯¹æ¯ä¸ªåˆ†å‰²æ–‡ä»¶æ‰§è¡Œgzipå‹ç¼©</span>
pg_dump mydb | <span class="hljs-built_in">split</span> -b 2G --filter=<span class="hljs-string">'gzip &gt; $FILE.gz'</span> - /backup/mydb_dump_
</code></pre>
<p>æ¢å¤æ—¶ä½¿ç”¨<code>zcat</code>ç›´æ¥è§£å‹å¹¶åˆå¹¶ï¼š</p>
<pre><code class="hljs language-bash" lang="bash">zcat /backup/mydb_dump_*.gz | psql mydb_restore
</code></pre>
<h4 data-id="heading-29">4.3 è‡ªå®šä¹‰è½¬å‚¨æ ¼å¼ï¼ˆ-Fcï¼Œæ¨èä¸­å‹æ•°æ®åº“ä½¿ç”¨ï¼‰</h4>
<p>è‹¥æœåŠ¡å™¨å®‰è£…äº†zlibå‹ç¼©åº“ï¼Œ<code>pg_dump</code>çš„<strong>è‡ªå®šä¹‰æ ¼å¼ï¼ˆ-Fcï¼‰ä¼šåœ¨å¤‡ä»½æ—¶å®æ—¶å‹ç¼©æ•°æ®ï¼Œç”Ÿæˆçš„æ–‡ä»¶ä½“ç§¯ä¸gzipå‹ç¼©ç›¸å½“ï¼Œä¸”æ”¯æŒç»†ç²’åº¦æ¢å¤</strong>ï¼ˆå¯é€‰æ‹©æ€§æ¢å¤å•ä¸ªè¡¨/schameï¼‰ï¼Œæ˜¯å¹³è¡¡å‹ç¼©æ¯”å’Œçµæ´»æ€§çš„ä¼˜é€‰æ–¹æ¡ˆã€‚</p>
<h5 data-id="heading-30">4.3.1 è‡ªå®šä¹‰æ ¼å¼å¤‡ä»½</h5>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># -Fcï¼šæŒ‡å®šè‡ªå®šä¹‰è½¬å‚¨æ ¼å¼</span>
pg_dump -Fc mydb &gt; /backup/mydb_dump_custom
</code></pre>
<h5 data-id="heading-31">4.3.2 è‡ªå®šä¹‰æ ¼å¼æ¢å¤</h5>
<p>è‡ªå®šä¹‰æ ¼å¼æ–‡ä»¶éœ€é€šè¿‡<code>pg_restore</code>æ¢å¤ï¼Œæ”¯æŒæŒ‡å®šæ¢å¤å•ä¸ªå¯¹è±¡ï¼Œæ ¸å¿ƒå‚æ•°<code>-d</code>æŒ‡å®šç›®æ ‡æ•°æ®åº“ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># å®Œæ•´æ¢å¤</span>
pg_restore -d mydb_restore /backup/mydb_dump_custom
<span class="hljs-comment"># ä»…æ¢å¤publicæ¨¡å¼ä¸‹çš„userè¡¨</span>
pg_restore -d mydb_restore -t public.user /backup/mydb_dump_custom
</code></pre>
<h4 data-id="heading-32">4.4 å¹¶è¡Œå¤‡ä»½ä¸æ¢å¤ï¼ˆé€‚é…è¶…å¤§å‹æ•°æ®åº“ï¼Œæ¨èç”Ÿäº§ä½¿ç”¨ï¼‰</h4>
<p><code>pg_dump</code>æ”¯æŒ<strong>å¹¶è¡Œè½¬å‚¨</strong>ç‰¹æ€§ï¼Œé€šè¿‡<code>-j</code>å‚æ•°æŒ‡å®šå¹¶è¡Œåº¦ï¼ŒåŒæ—¶å¤‡ä»½å¤šä¸ªè¡¨ï¼Œå¤§å¹…æå‡è¶…å¤§å‹æ•°æ®åº“çš„å¤‡ä»½é€Ÿåº¦ï¼›é…åˆ<code>pg_restore</code>çš„å¹¶è¡Œæ¢å¤ï¼Œå¯è¿›ä¸€æ­¥ç¼©çŸ­æ¢å¤æ—¶é—´ã€‚</p>
<h5 data-id="heading-33">4.4.1 å¹¶è¡Œå¤‡ä»½</h5>
<p>å¹¶è¡Œè½¬å‚¨<strong>ä»…æ”¯æŒç›®å½•æ ¼å¼ï¼ˆ-Fdï¼‰</strong> ï¼Œéœ€é€šè¿‡<code>-f</code>æŒ‡å®šè¾“å‡ºç›®å½•ï¼ˆç›®å½•ä¼šè‡ªåŠ¨åˆ›å»ºï¼Œä¸”ä¸èƒ½ä¸ºç©ºï¼‰ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># -j 4ï¼šæŒ‡å®š4ä¸ªå¹¶è¡Œè¿›ç¨‹ï¼›-Fdï¼šç›®å½•æ ¼å¼ï¼›-fï¼šè¾“å‡ºç›®å½•</span>
pg_dump -j 4 -Fd -f /backup/mydb_dump_dir mydb
</code></pre>
<p>æ‰§è¡Œåä¼šåœ¨<code>mydb_dump_dir</code>ä¸­ç”Ÿæˆå¤šä¸ªå¤‡ä»½æ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶å¯¹åº”éƒ¨åˆ†è¡¨çš„æ•°æ®/ç»“æ„ã€‚</p>
<h5 data-id="heading-34">4.4.2 å¹¶è¡Œæ¢å¤</h5>
<p><code>pg_restore</code>çš„å¹¶è¡Œæ¢å¤æ”¯æŒ<strong>è‡ªå®šä¹‰æ ¼å¼ï¼ˆ-Fcï¼‰å’Œç›®å½•æ ¼å¼ï¼ˆ-Fdï¼‰</strong> ï¼Œæ— éœ€ä¾èµ–å¹¶è¡Œå¤‡ä»½çš„æºæ–‡ä»¶ï¼Œé€šè¿‡<code>-j</code>æŒ‡å®šå¹¶è¡Œåº¦å³å¯ï¼š</p>
<pre><code class="hljs language-bash" lang="bash"><span class="hljs-comment"># -j 4ï¼š4ä¸ªå¹¶è¡Œè¿›ç¨‹ï¼›-dï¼šç›®æ ‡æ•°æ®åº“ï¼›ç›®å½•æ ¼å¼å¤‡ä»½çš„æ¢å¤</span>
pg_restore -j 4 -d mydb_restore /backup/mydb_dump_dir
<span class="hljs-comment"># è‡ªå®šä¹‰æ ¼å¼å¤‡ä»½çš„å¹¶è¡Œæ¢å¤</span>
pg_restore -j 4 -d mydb_restore /backup/mydb_dump_custom
</code></pre>
<h4 data-id="heading-35">4.5 è¶…å¤§å‹æ•°æ®åº“çš„ç»„åˆæ–¹æ¡ˆ</h4>
<p>å¯¹äºTBçº§åˆ«çš„è¶…å¤§å‹æ•°æ®åº“ï¼Œå¯å°†<strong>å¹¶è¡Œå¤‡ä»½</strong>ä¸<strong>å‹ç¼©/åˆ†å‰²</strong>ç»“åˆä½¿ç”¨ï¼Œä¾‹å¦‚ï¼šå…ˆé€šè¿‡å¹¶è¡Œå¤‡ä»½ç”Ÿæˆç›®å½•æ ¼å¼æ–‡ä»¶ï¼Œå†å¯¹ç›®å½•è¿›è¡Œå‹ç¼©æ‰“åŒ…ï¼Œæˆ–å¯¹å¹¶è¡Œè¾“å‡ºè¿›è¡Œåˆ†å‰²ï¼Œå…¼é¡¾å¤‡ä»½é€Ÿåº¦ã€æ–‡ä»¶ä½“ç§¯å’Œå­˜å‚¨é™åˆ¶ã€‚</p>
<h3 data-id="heading-36">5 æ€»ç»“ä¸æœ€ä½³å®è·µ</h3>
<h4 data-id="heading-37">5.1 æ ¸å¿ƒçŸ¥è¯†ç‚¹æ€»ç»“</h4>
<ol>
<li><code>pg_dump</code>æ˜¯å•åº“å¤‡ä»½å·¥å…·ï¼Œç”Ÿæˆä¸€è‡´æ€§å¿«ç…§ï¼Œéé˜»å¡å¸¸è§„ä¸šåŠ¡ï¼Œè·¨ç‰ˆæœ¬/è·¨æ¶æ„å…¼å®¹ï¼›</li>
<li>æ–‡æœ¬æ ¼å¼å¤‡ä»½ç”¨<code>psql</code>æ¢å¤ï¼Œéæ–‡æœ¬æ ¼å¼ï¼ˆè‡ªå®šä¹‰/ç›®å½•ï¼‰ç”¨<code>pg_restore</code>æ¢å¤ï¼Œæ¢å¤å‰éœ€ä»<code>template0</code>åˆ›å»ºç›®æ ‡åº“ï¼›</li>
<li><code>pg_dumpall</code>å®ç°é›†ç¾¤çº§å…¨é‡å¤‡ä»½ï¼ŒåŒ…å«æ‰€æœ‰æ•°æ®åº“å’Œå…¨å±€æ•°æ®ï¼ˆè§’è‰²ã€è¡¨ç©ºé—´ï¼‰ï¼Œæ¢å¤éœ€è¶…çº§ç”¨æˆ·ï¼›</li>
<li>å¤§å‹æ•°æ®åº“å¯é€šè¿‡<strong>å‹ç¼©ã€åˆ†å‰²ã€è‡ªå®šä¹‰æ ¼å¼ã€å¹¶è¡Œå¤‡ä»½</strong>è§£å†³å­˜å‚¨å’Œé€Ÿåº¦é—®é¢˜ï¼Œå…¶ä¸­å¹¶è¡Œå¤‡ä»½æ˜¯è¶…å¤§å‹åº“çš„ä¼˜é€‰ã€‚</li>
</ol>
<h4 data-id="heading-38">5.2 ä¸åŒåœºæ™¯æœ€ä½³å®è·µ</h4>









































<table><thead><tr><th>æ•°æ®åº“è§„æ¨¡</th><th>ä¸šåŠ¡åœºæ™¯</th><th>æ¨èå¤‡ä»½æ–¹å¼</th><th>æ¨èæ¢å¤æ–¹å¼</th></tr></thead><tbody><tr><td>å°å‹åº“ï¼ˆ&lt;10Gï¼‰</td><td>å¼€å‘/æµ‹è¯•ç¯å¢ƒã€ä½é‡è¦æ€§ä¸šåŠ¡</td><td><code>pg_dump</code>åŸºç¡€æ–‡æœ¬æ ¼å¼</td><td><code>psql</code>åŸºç¡€æ¢å¤ï¼ˆå¯åŠ <code>-1</code>ä¿è¯åŸå­æ€§ï¼‰</td></tr><tr><td>ä¸­å‹åº“ï¼ˆ10G-100Gï¼‰</td><td>ç”Ÿäº§ç¯å¢ƒæ™®é€šä¸šåŠ¡ï¼Œéœ€ç»†ç²’åº¦æ¢å¤</td><td><code>pg_dump -Fc</code>è‡ªå®šä¹‰æ ¼å¼</td><td><code>pg_restore</code>æŒ‰éœ€æ¢å¤å•ä¸ªå¯¹è±¡</td></tr><tr><td>å¤§å‹åº“ï¼ˆ100G-1Tï¼‰</td><td>ç”Ÿäº§ç¯å¢ƒæ ¸å¿ƒä¸šåŠ¡ï¼Œç£ç›˜ç©ºé—´æœ‰é™</td><td><code>pg_dump -Fc</code>+gzipå‹ç¼©</td><td><code>pg_restore</code>å¹¶è¡Œæ¢å¤ï¼ˆ-j 2-4ï¼‰</td></tr><tr><td>è¶…å¤§å‹åº“ï¼ˆ&gt;1Tï¼‰</td><td>ç”Ÿäº§ç¯å¢ƒæ ¸å¿ƒå¤§åº“ï¼Œè¦æ±‚å¤‡ä»½é€Ÿåº¦</td><td><code>pg_dump -j N -Fd</code>å¹¶è¡Œå¤‡ä»½</td><td><code>pg_restore -j N</code>å¹¶è¡Œæ¢å¤</td></tr><tr><td>é›†ç¾¤çº§å¤‡ä»½</td><td>æ•´åº“è¿ç§»ã€é›†ç¾¤ç¾å¤‡</td><td><code>pg_dumpall</code>å…¨é‡å¤‡ä»½ + <code>pg_dump</code>å•åº“å¢é‡</td><td><code>psql</code>æ¢å¤å…¨å±€æ•°æ®åï¼Œå†æ¢å¤å•åº“</td></tr></tbody></table>
<h4 data-id="heading-39">5.3 ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹</h4>
<ol>
<li>å¤‡ä»½æ“ä½œå»ºè®®åœ¨<strong>ä¸šåŠ¡ä½å³°æœŸ</strong>æ‰§è¡Œï¼Œé¿å…ä¸é«˜å¹¶å‘ä¸šåŠ¡ç«äº‰èµ„æºï¼›</li>
<li>å®šæœŸéªŒè¯å¤‡ä»½æ–‡ä»¶çš„æœ‰æ•ˆæ€§ï¼Œé€šè¿‡æ¢å¤æµ‹è¯•ç¡®ä¿å¯æ­£å¸¸æ¢å¤ï¼›</li>
<li>å¤‡ä»½æ–‡ä»¶éœ€<strong>å¼‚åœ°å­˜å‚¨</strong>ï¼Œé¿å…æœ¬åœ°ç£ç›˜æ•…éšœå¯¼è‡´å¤‡ä»½ä¸¢å¤±ï¼›</li>
<li>æ¢å¤æ—¶æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©<strong>å•äº‹åŠ¡æ¢å¤</strong>ï¼ˆè¿½æ±‚åŸå­æ€§ï¼‰æˆ–<strong>é‡é”™å³åœ</strong>ï¼ˆè¿½æ±‚é—®é¢˜æ’æŸ¥æ•ˆç‡ï¼‰ï¼›</li>
<li>å¹¶è¡Œå¤‡ä»½çš„å¹¶è¡Œåº¦ï¼ˆ-jï¼‰å»ºè®®ä¸è¶…è¿‡æ•°æ®åº“æœåŠ¡å™¨çš„CPUæ ¸å¿ƒæ•°ï¼Œé¿å…æœåŠ¡å™¨è´Ÿè½½è¿‡é«˜ã€‚</li>
</ol></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Spring å…¨å±€ Bean æ³¨å…¥]]></title>    <link>https://juejin.cn/post/7598222735807676456</link>    <guid>https://juejin.cn/post/7598222735807676456</guid>    <pubDate>2026-01-23T08:32:39.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598222735807676456" data-draft-id="7598333055544475688" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Spring å…¨å±€ Bean æ³¨å…¥"/> <meta itemprop="keywords" content="Java"/> <meta itemprop="datePublished" content="2026-01-23T08:32:39.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ¬§é˜³å¤é£"/> <meta itemprop="url" content="https://juejin.cn/user/2358912304819354"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Spring å…¨å±€ Bean æ³¨å…¥
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2358912304819354/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ¬§é˜³å¤é£
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T08:32:39.000Z" title="Fri Jan 23 2026 08:32:39 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»1åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><blockquote>
<p>å¼•ç”¨ <a href="https://link.juejin.cn?target=https%3A%2F%2Ftaopanfeng.com%2F2025%2F06%2F13%2F2025-06-13...15.57.59%2F%23" target="_blank" title="https://taopanfeng.com/2025/06/13/2025-06-13...15.57.59/#" ref="nofollow noopener noreferrer">å…¨å±€ Bean æ³¨å…¥ | TaoPanfeng's Blog</a></p>
</blockquote>
<h2 data-id="heading-0">æ­¤ç¯‡æ–‡ç« </h2>
<p>2026-01-23 16:21:45 ä»Šå¤©åœ¨æ­¤ç«™çœ‹åˆ°äº†ä¸€ç¯‡å¸–å­ <a href="https://juejin.cn/post/7575017581036765222" target="_blank" title="https://juejin.cn/post/7575017581036765222">Spring é¡¹ç›®åˆ«å†ä¹±æ³¨å…¥ Service äº†ï¼ç”¨ Lambda å°è£…ä¸ªç»Ÿä¸€è°ƒç”¨ç»„ä»¶ï¼Œçˆ½åˆ°é£èµ·å…„å¼Ÿä»¬ï¼Œå’±åš Sprin - æ˜é‡‘</a>
ç”¨æ³•ä¸å‹å¥½ï¼Œå¤šä¸ªå‚æ•°å¾ˆéš¾å»ä¼ å‚ã€‚</p>
<p>æƒ³åˆ°äº†ä¹‹å‰ï¼Œæˆ‘å†™çš„ä¸€ç¯‡æ–‡ç« ï¼Œæ¬è¿è¿‡æ¥ï¼Œä¾›å¤§å®¶è¯„ä»·ï¼</p>
<h2 data-id="heading-1">å‰è¨€</h2>
<pre><code class="hljs language-ini" lang="ini">1ã€æ¯ä¸ªç±»éƒ½æ³¨å…¥çš„ä¸€å¤§å †çš„ Bean

2ã€ä¾èµ–å¾ªç¯é—®é¢˜  è¿˜è¦æ‰‹åŠ¨ <span class="hljs-attr">spring.main.allow-circular-references</span>=<span class="hljs-literal">true</span>

3ã€å¯¹äºæ„é€ å™¨æ³¨å…¥ï¼Œå³ä½¿å¼€å¯äº†ä¾èµ–å¾ªç¯ï¼Œä»æ³¨å…¥å¤±è´¥ï¼Œè¢«è¿«ä½¿ç”¨ @Lazy + @Autowired

4ã€æƒ³ä½¿ç”¨ä¾èµ–é™æ€æ³¨å…¥ï¼ŒSpringUtil.getBean(OrgUserRelationService.class)<span class="hljs-comment">; æ¥è·å–ï¼Œè·å–å®ç° InitializingBean æ¥é™æ€æ³¨å…¥</span>

--------------------------------

è§£å†³æ€è·¯ï¼š

1ã€å°è£…å·¥å…·ç±»ï¼Œä½¿ç”¨ $ ç¬¦å·åšä¸ºç±»å

2ã€ä¸€é”®æ³¨å…¥æ‰€æœ‰çš„ Beanï¼Œï¼ˆå…¬å…± + é™æ€ï¼‰

3ã€åç»­æ–°çš„ Bean  --- <span class="hljs-section">[1]</span> æ·»åŠ å…¨å±€å˜é‡ï¼Œ   <span class="hljs-section">[2]</span> è®°å¾— afterPropertiesSet æ³¨å…¥
</code></pre>
<h2 data-id="heading-2">ä½¿ç”¨æ•ˆæœ</h2>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/e0205067401943d682f3cd95c54d1c2a~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5qyn6Ziz5aSP6aOe:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769761959&amp;x-signature=FeahFk5jOX82DabgwVu9fVYrPHg%3D" alt="image.png" loading="lazy"/></p>
<h2 data-id="heading-3">å·¥å…·ç±»</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">package</span> com.bozhi.xiaoluo.modules.user;

<span class="hljs-keyword">import</span> cn.hutool.core.lang.Console;
<span class="hljs-keyword">import</span> cn.hutool.core.util.StrUtil;
<span class="hljs-keyword">import</span> cn.hutool.extra.spring.SpringUtil;
<span class="hljs-keyword">import</span> com.bozhi.xiaoluo.modules.common.sensitive.BaiduService;
<span class="hljs-keyword">import</span> com.bozhi.xiaoluo.modules.common.service.AccusationInfoService;
<span class="hljs-keyword">import</span> com.bozhi.xiaoluo.modules.message.config.ChatProperties;
<span class="hljs-keyword">import</span> com.bozhi.xiaoluo.modules.message.service.ChatMessageService;
<span class="hljs-keyword">import</span> com.bozhi.xiaoluo.modules.post.service.ChooseInfoService;
<span class="hljs-keyword">import</span> org.springframework.beans.factory.InitializingBean;
<span class="hljs-keyword">import</span> org.springframework.boot.ApplicationArguments;
<span class="hljs-keyword">import</span> org.springframework.boot.ApplicationRunner;
<span class="hljs-keyword">import</span> org.springframework.stereotype.Component;

<span class="hljs-keyword">import</span> java.util.List;
<span class="hljs-keyword">import</span> java.util.concurrent.locks.LockSupport;
<span class="hljs-keyword">import</span> java.util.stream.Collectors;

<span class="hljs-comment">/**
 * Spring Bean é™æ€è°ƒç”¨å·¥å…·ç±»
 *
 * &lt;pre&gt;
 *            $.userInfoService.updateUserLevelScore();
 *
 *            UserInfoEntity user = $.userInfoService.getById(3439L);
 * &lt;/pre&gt;
 */</span>
<span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">$</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">InitializingBean</span> {

    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> AccusationInfoService accusationInfoService;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> BaiduService baiduService;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ChatMessageService chatMessageService;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ChatProperties chatProperties;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> ChooseInfoService chooseInfoService;
    <span class="hljs-comment">// ...</span>

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">afterPropertiesSet</span><span class="hljs-params">()</span> {
        accusationInfoService = SpringUtil.getBean(AccusationInfoService.class);
        baiduService = SpringUtil.getBean(BaiduService.class);
        chatMessageService = SpringUtil.getBean(ChatMessageService.class);
        chatProperties = SpringUtil.getBean(ChatProperties.class);
        chooseInfoService = SpringUtil.getBean(ChooseInfoService.class);
        <span class="hljs-comment">// ...</span>
    }
}

<span class="hljs-comment">// ç”Ÿæˆ</span>
<span class="hljs-comment">// @Component// è§£é™¤æ³¨é‡Šæ¥ä¸€é”®ç”Ÿæˆ</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">Generate$</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">ApplicationRunner</span> {

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">(ApplicationArguments args)</span> {
        Console.log(<span class="hljs-string">"======================================================================="</span>);
        List&lt;String&gt; beanNames = SpringUtil.getBeanFactory().getBeansOfType(Object.class).values().stream()
                <span class="hljs-comment">// [1] åŒ…åè¿‡æ»¤</span>
                .filter(bean -&gt; bean.getClass().getName().contains(<span class="hljs-string">"bozhi"</span>))
                <span class="hljs-comment">// [2] è·å– beanName</span>
                .map(bean -&gt; bean.getClass().getSimpleName().split(<span class="hljs-string">"\$\$"</span>)[<span class="hljs-number">0</span>].replace(<span class="hljs-string">"Impl"</span>, <span class="hljs-string">""</span>))
                <span class="hljs-comment">// [3] è¿‡æ»¤å«æœ‰è¿™äº›åç§°çš„ beanName</span>
                .filter(beanName -&gt; !containsAnyIgnoreCase(beanName,
                        <span class="hljs-string">"NoteInfoNewService"</span>, <span class="hljs-string">"ItemBasedCacheService"</span>, <span class="hljs-string">"jpush"</span>, <span class="hljs-string">"KafkaConsumer"</span>,
                        <span class="hljs-string">"RedisConfig"</span>, <span class="hljs-string">"RedissonConfig"</span>, <span class="hljs-string">"SchedulerConfig"</span>, <span class="hljs-string">"TransactionConfig"</span>, <span class="hljs-string">"MybatisPlusConfig"</span>, <span class="hljs-string">"DbTxBroker"</span>, <span class="hljs-string">"ComboTransaction"</span>, <span class="hljs-string">"AsyncContextAopConfig"</span>,
                        <span class="hljs-string">"xiaoluo"</span>, <span class="hljs-string">"controller"</span>, <span class="hljs-string">"dao"</span>, <span class="hljs-string">"token"</span>, <span class="hljs-string">"filter"</span>, <span class="hljs-string">"job"</span>, <span class="hljs-string">"listen"</span>, <span class="hljs-string">"exception"</span>, <span class="hljs-string">"$"</span>
                ))
                .filter(StrUtil::isNotBlank)
                .collect(Collectors.toList());

        <span class="hljs-comment">// [4] æ‰‹åŠ¨æ·»åŠ  &amp;&amp; æ’åº</span>
        beanNames.addAll(CollUtil.newArrayList(
                <span class="hljs-string">"MongoTemplate"</span>, <span class="hljs-string">"RedissonClient"</span>, <span class="hljs-string">"WxMpService"</span>
        ));
        beanNames.sort(Comparator.naturalOrder());

        <span class="hljs-comment">// [5] ç”Ÿæˆï¼šå…¨å±€å˜é‡</span>
        beanNames.forEach(beanName -&gt; Console.log(<span class="hljs-string">"    public static {} {};"</span>, beanName, StrUtil.lowerFirst(beanName)));

        <span class="hljs-comment">// [6] ç”Ÿæˆï¼šå˜é‡æ³¨å…¥</span>
        Console.log(<span class="hljs-string">"    @Override"</span>);
        Console.log(<span class="hljs-string">"    public void afterPropertiesSet() {"</span>);
        beanNames.forEach(beanName -&gt; Console.log(<span class="hljs-string">"        {} = SpringUtil.getBean({}.class);"</span>, StrUtil.lowerFirst(beanName), beanName));
        Console.log(<span class="hljs-string">"    }"</span>);

        <span class="hljs-comment">// [7] æ— é™é˜»å¡</span>
        Console.log(<span class="hljs-string">"======================================================================="</span>);
        Console.log(<span class="hljs-string">"$ ç”Ÿæˆå®Œæˆï¼Œé¡¹ç›®å¯åŠ¨å°†æ— é™é˜»å¡"</span>);
        Console.log(<span class="hljs-string">"======================================================================="</span>);
        LockSupport.park();
    }
}
</code></pre></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[å¤§æ•°æ®-220 ç¦»çº¿æ•°ä»“ æ•°æ®ä»“åº“å…¥é—¨ï¼šå››å¤§ç‰¹å¾ã€OLTP/OLAPå·®å¼‚ä¸ä¼ä¸šæ•°ä»“æ¶æ„è¦ç‚¹]]></title>    <link>https://juejin.cn/post/7598390244379115558</link>    <guid>https://juejin.cn/post/7598390244379115558</guid>    <pubDate>2026-01-23T08:47:07.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598390244379115558" data-draft-id="7598390244379099174" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="å¤§æ•°æ®-220 ç¦»çº¿æ•°ä»“ æ•°æ®ä»“åº“å…¥é—¨ï¼šå››å¤§ç‰¹å¾ã€OLTP/OLAPå·®å¼‚ä¸ä¼ä¸šæ•°ä»“æ¶æ„è¦ç‚¹"/> <meta itemprop="keywords" content="åç«¯,å¤§æ•°æ®,æ•°æ®æŒ–æ˜"/> <meta itemprop="datePublished" content="2026-01-23T08:47:07.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="æ­¦å­åº·"/> <meta itemprop="url" content="https://juejin.cn/user/149189314230039"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            å¤§æ•°æ®-220 ç¦»çº¿æ•°ä»“ æ•°æ®ä»“åº“å…¥é—¨ï¼šå››å¤§ç‰¹å¾ã€OLTP/OLAPå·®å¼‚ä¸ä¼ä¸šæ•°ä»“æ¶æ„è¦ç‚¹
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/149189314230039/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    æ­¦å­åº·
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T08:47:07.000Z" title="Fri Jan 23 2026 08:47:07 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»13åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><h2 data-id="heading-0">TL;DR</h2>
<ul>
<li>åœºæ™¯ï¼šä¸šåŠ¡ç³»ç»Ÿåˆ†æ•£ã€å£å¾„ä¸ä¸€ï¼ŒæŠ¥è¡¨ä¸åˆ†æé•¿æœŸé äººå·¥æ‹¼æ•°æ®</li>
<li>ç»“è®ºï¼šæ•°ä»“æ ¸å¿ƒæ˜¯â€œé¢å‘ä¸»é¢˜+é›†æˆ+ç¨³å®š+æ—¶å˜â€ï¼Œç”¨ETL/ELTæŠŠOLTPæ•°æ®è½¬ä¸ºå¯åˆ†æçš„OLAPèµ„äº§</li>
<li>äº§å‡ºï¼šä¸€å¥—å¯å¤ç”¨çš„æ•°ä»“æ¦‚å¿µæ¡†æ¶ã€OLTP/OLAPå¯¹æ¯”è¦ç‚¹ã€è½åœ°æ—¶å¸¸è§é—®é¢˜é€ŸæŸ¥</li>
</ul>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/df85c168d51743d6a384436d910e7fe7~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769762827&amp;x-signature=jIWbGp6t3TNau2Z44goFcRxXHco%3D" alt="å¤§æ•°æ®-220 ç¦»çº¿æ•°ä»“ æ•°æ®ä»“åº“å…¥é—¨ï¼šå››å¤§ç‰¹å¾ã€OLTP/OLAPå·®å¼‚ä¸ä¼ä¸šæ•°ä»“æ¶æ„è¦ç‚¹" loading="lazy"/></p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/21fc3dedd5b04ec498ee103b726ae4e4~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769762827&amp;x-signature=F44267BJeok6V6XvakHEXMfuviQ%3D" alt="æ•°æ®ä»“åº“çš„æ•´ä½“æ¶æ„å›¾" loading="lazy"/></p>
<h2 data-id="heading-1">æ•°æ®ä»“åº“</h2>
<h3 data-id="heading-2">æ•°ä»“æ¦‚å¿µ</h3>
<p>1988å¹´ï¼ŒIBMå…¬å¸åœ¨é¢å¯¹ä¼ä¸šä¿¡æ¯ç³»ç»Ÿæ—¥ç›Šåˆ†æ•£ã€æ•°æ®å­¤å²›é—®é¢˜æ—¥ç›Šä¸¥é‡çš„èƒŒæ™¯ä¸‹ï¼Œé¦–æ¬¡æå‡ºäº†"ä¿¡æ¯ä»“åº“"(Information Warehouse)çš„æ¦‚å¿µã€‚å½“æ—¶IBMçš„ç ”ç©¶å›¢é˜Ÿå‘ç°ï¼Œä¼ä¸šå„éƒ¨é—¨ä½¿ç”¨çš„ä¿¡æ¯ç³»ç»Ÿå¾€å¾€ç›¸äº’ç‹¬ç«‹ï¼Œå¯¼è‡´æ•°æ®éš¾ä»¥å…±äº«å’Œåˆ†æã€‚ä¸ºè§£å†³è¿™ä¸€å…¨ä¼ä¸šé›†æˆé—®é¢˜ï¼ŒIBMè®¾æƒ³å»ºç«‹ä¸€ä¸ªé›†ä¸­å¼çš„æ•°æ®å­˜å‚¨ç³»ç»Ÿï¼Œèƒ½å¤Ÿæ•´åˆæ¥è‡ªä¸åŒä¸šåŠ¡ç³»ç»Ÿçš„æ•°æ®ã€‚è¿™ä¸€æ„æƒ³ä¸ºåæ¥æ•°æ®ä»“åº“çš„å‘å±•å¥ å®šäº†åŸºç¡€ï¼Œç¡®å®šäº†æ•°æ®ä»“åº“çš„åŸºæœ¬åŸç†ã€æŠ€æœ¯æ¶æ„å’Œåˆ†æç³»ç»Ÿçš„æ ¸å¿ƒè¦ç´ ï¼Œæ ‡å¿—ç€æ•°æ®ä»“åº“çš„é›å½¢åˆæ­¥å½¢æˆã€‚</p>
<p>1991å¹´ï¼Œæ•°æ®ä»“åº“é¢†åŸŸè¿æ¥é‡è¦é‡Œç¨‹ç¢‘ã€‚è¢«èª‰ä¸º"æ•°æ®ä»“åº“ä¹‹çˆ¶"çš„Bill Inmonï¼ˆæ¯”å°”Â·æ©é—¨ï¼‰å‡ºç‰ˆäº†å¼€åˆ›æ€§çš„è‘—ä½œã€ŠBuilding the Data Warehouseã€‹ã€‚è¯¥ä¹¦é¦–æ¬¡ç³»ç»Ÿæ€§åœ°å®šä¹‰äº†æ•°æ®ä»“åº“çš„æ¦‚å¿µï¼ŒæŒ‡å‡ºæ•°æ®ä»“åº“æ˜¯ï¼š</p>
<ol>
<li>é¢å‘ä¸»é¢˜çš„ï¼ˆSubject Orientedï¼‰ï¼šå›´ç»•ä¼ä¸šæ ¸å¿ƒä¸šåŠ¡ä¸»é¢˜ï¼ˆå¦‚å®¢æˆ·ã€äº§å“ã€é”€å”®ç­‰ï¼‰ç»„ç»‡æ•°æ®</li>
<li>é›†æˆçš„ï¼ˆIntegratedï¼‰ï¼šæ¶ˆé™¤æºç³»ç»Ÿé—´çš„æ•°æ®ä¸ä¸€è‡´æ€§ï¼Œå®ç°æ•°æ®ç»Ÿä¸€</li>
<li>ç›¸å¯¹ç¨³å®šçš„ï¼ˆNon-Volatileï¼‰ï¼šæ•°æ®ä¸»è¦ä¾›æŸ¥è¯¢åˆ†æï¼Œä¸é¢‘ç¹æ›´æ–°</li>
<li>åæ˜ å†å²å˜åŒ–çš„ï¼ˆTime Variantï¼‰ï¼šåŒ…å«æ—¶é—´ç»´åº¦ï¼Œæ”¯æŒå†å²æ•°æ®åˆ†æ</li>
</ol>
<p>è¯¥ä¹¦ä¸ä»…æ˜ç¡®å®šä¹‰äº†æ•°æ®ä»“åº“çš„å››å¤§ç‰¹å¾ï¼Œè¿˜è¯¦ç»†é˜è¿°äº†æ„å»ºæ•°æ®ä»“åº“çš„æ–¹æ³•è®ºï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>è‡ªä¸Šè€Œä¸‹çš„å®æ–½ç­–ç•¥</li>
<li>ä¼ä¸šçº§æ•°æ®æ¨¡å‹çš„å»ºç«‹</li>
<li>ETL(æŠ½å–-è½¬æ¢-åŠ è½½)æµç¨‹è®¾è®¡</li>
<li>æ•°æ®è´¨é‡ç®¡ç†ç­‰é‡è¦åŸåˆ™</li>
</ul>
<p>Inmonåœ¨ä¹¦ä¸­ç‰¹åˆ«å¼ºè°ƒï¼Œæ•°æ®ä»“åº“ä¸åŒäºä¼ ç»Ÿæ“ä½œå‹æ•°æ®åº“ï¼Œå…¶æ ¸å¿ƒä»·å€¼åœ¨äºä¸ºç®¡ç†å†³ç­–æä¾›æ”¯æŒï¼ˆDecision-Making Supportï¼‰ã€‚è¿™ä¸€ç†å¿µå½»åº•æ”¹å˜äº†ä¼ä¸šæ•°æ®ç®¡ç†çš„æ–¹å¼ï¼Œä½¿æ•°æ®ä»“åº“æˆä¸ºå•†ä¸šæ™ºèƒ½çš„åŸºç¡€è®¾æ–½ã€‚å‡­å€Ÿè¿™æœ¬å¥ åŸºæ€§çš„è‘—ä½œï¼ŒBill Inmonè¢«å…¬è®¤ä¸ºæ•°æ®ä»“åº“é¢†åŸŸçš„å¼€åˆ›è€…å’Œç†è®ºå¥ åŸºäººã€‚</p>
<h3 data-id="heading-3">æ•°ä»“ç‰¹å¾</h3>
<ul>
<li>é¢å‘ä¸»é¢˜çš„</li>
<li>é›†æˆçš„</li>
<li>ç¨³å®šçš„</li>
<li>åæ˜ å†å²å˜åŒ–</li>
</ul>
<h3 data-id="heading-4">é¢å‘ä¸»é¢˜</h3>
<p>ä¸ä¼ ç»Ÿæ•°æ®åº“é¢å‘åº”ç”¨è¿›è¡Œæ•°æ®ç»„ç»‡çš„ç‰¹ç‚¹ç›¸åº”ï¼Œæ•°æ®ä»“åº“ä¸­çš„æ•°æ®æ˜¯é¢å‘ä¸»é¢˜è¿›è¡Œç»„ç»‡çš„ã€‚</p>
<p>ä»€ä¹ˆæ˜¯ä¸»é¢˜ï¼Ÿ</p>
<ul>
<li>ä¸»é¢˜æ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæ˜¯è¾ƒé«˜å±‚æ¬¡ä¸Šä¼ä¸šä¿¡æ¯ç³»ç»Ÿä¸­çš„æ•°æ®ç»¼åˆã€å½’ç±»å¹¶è¿›è¡Œåˆ†æåˆ©ç”¨çš„æŠ½è±¡</li>
<li>åœ¨é€»è¾‘æ„ä¹‰ä¸Šï¼Œå®ƒæ˜¯å¯¹åº”ä¼ä¸šä¸­æŸä¸€å®è§‚åˆ†æé¢†åŸŸæ‰€æ¶‰åŠçš„åˆ†æå¯¹è±¡</li>
</ul>
<p>é¢å‘ä¸»é¢˜çš„æ•°æ®ç»„ç»‡æ–¹å¼æ˜¯æ•°æ®ä»“åº“çš„æ ¸å¿ƒç‰¹å¾ä¹‹ä¸€ï¼Œå®ƒé€šè¿‡ä¸šåŠ¡ä¸»é¢˜è€Œéå…·ä½“åº”ç”¨æ¥ç»„ç»‡æ•°æ®ã€‚è¿™ç§ç»„ç»‡æ–¹å¼ä¸ä¼ ç»Ÿçš„é¢å‘åº”ç”¨çš„æ•°æ®ç»„ç»‡å½¢æˆé²œæ˜å¯¹æ¯”ï¼Œä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ol>
<li>ä¸»é¢˜çš„å®šä¹‰ä¸èŒƒå›´</li>
</ol>
<ul>
<li>ä¸»é¢˜å¯¹åº”äºä¼ä¸šä¸­ä¸»è¦çš„ä¸šåŠ¡é¢†åŸŸæˆ–åˆ†æå¯¹è±¡</li>
<li>æ¯ä¸ªä¸»é¢˜éƒ½åŒ…å«è¯¥ä¸šåŠ¡é¢†åŸŸå®Œæ•´çš„æ•°æ®é›†åˆ</li>
<li>ä¸»é¢˜ä¹‹é—´é€šè¿‡å…³é”®ä¸šåŠ¡æŒ‡æ ‡å»ºç«‹è”ç³»</li>
</ul>
<ol start="2">
<li>æ•°æ®æŠ½è±¡çº§åˆ«</li>
</ol>
<ul>
<li>æ•°æ®æŒ‰ç…§ä¸šåŠ¡æ¦‚å¿µè€ŒéæŠ€æœ¯å®ç°è¿›è¡Œç»„ç»‡</li>
<li>åŒ…å«å†å²æ•°æ®å’Œå½“å‰æ•°æ®çš„å®Œæ•´è§†å›¾</li>
<li>æ•°æ®ç²’åº¦æ ¹æ®åˆ†æéœ€æ±‚ç¡®å®š</li>
</ul>
<ol start="3">
<li>é”€å”®åˆ†æä¸»é¢˜ç¤ºä¾‹</li>
</ol>
<ul>
<li>åŒ…å«é”€å”®è®¢å•ã€å®¢æˆ·ä¿¡æ¯ã€äº§å“ç›®å½•ç­‰å®Œæ•´æ•°æ®é›†</li>
<li>æ•´åˆé”€å”®æ¸ é“ã€ä¿ƒé”€æ´»åŠ¨ç­‰ç›¸å…³æ•°æ®</li>
<li>å»ºç«‹é”€å”®ä¸åº“å­˜ã€è´¢åŠ¡ç­‰ä¸»é¢˜çš„å…³è”å…³ç³»</li>
</ul>
<ol start="4">
<li>å®æ–½ä¼˜åŠ¿</li>
</ol>
<ul>
<li>æä¾›è·¨éƒ¨é—¨çš„ç»Ÿä¸€æ•°æ®è§†å›¾</li>
<li>æ”¯æŒå¤šç»´åº¦çš„ä¸šåŠ¡åˆ†æ</li>
<li>ä¾¿äºå†å²è¶‹åŠ¿åˆ†æå’Œé¢„æµ‹</li>
</ul>
<p>è¿™ç§ç»„ç»‡æ–¹å¼ä½¿å¾—æ•°æ®ä»“åº“èƒ½å¤Ÿæ”¯æŒä¼ä¸šçº§çš„å†³ç­–åˆ†æï¼Œè€Œä¸ä»…ä»…æ˜¯æ»¡è¶³ç‰¹å®šéƒ¨é—¨çš„æŠ¥è¡¨éœ€æ±‚ã€‚ä¾‹å¦‚ï¼Œåœ¨é›¶å”®è¡Œä¸šçš„é”€å”®åˆ†æä¸»é¢˜ä¸­ï¼Œå¯ä»¥åŒæ—¶åŒ…å«çº¿ä¸Šå’Œçº¿ä¸‹é”€å”®æ•°æ®ï¼Œæ•´åˆä¼šå‘˜ä¿¡æ¯å’Œä¿ƒé”€æ´»åŠ¨è®°å½•ï¼Œä¸ºå…¨æ¸ é“é”€å”®åˆ†ææä¾›å®Œæ•´çš„æ•°æ®åŸºç¡€ã€‚</p>
<h3 data-id="heading-5">é›†æˆçš„</h3>
<p>æ•°æ®ä»“åº“çš„æ•°æ®æ¥æºéå¸¸å¹¿æ³›ï¼Œé€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ol>
<li>
<p>å†…éƒ¨æ•°æ®æºï¼š</p>
<ul>
<li>ä¼ä¸šå†…éƒ¨çš„å¤šä¸ªä¸šåŠ¡ç³»ç»Ÿæ•°æ®åº“ï¼ˆå¦‚ERPã€CRMã€SCMç­‰ï¼‰</li>
<li>å„ç±»æ“ä½œå‹æ•°æ®æ–‡ä»¶ï¼ˆExcelã€CSVç­‰ï¼‰</li>
<li>ç”¨æˆ·è¡Œä¸ºæ—¥å¿—ï¼ˆç½‘ç«™è®¿é—®æ—¥å¿—ã€APPä½¿ç”¨æ—¥å¿—ç­‰ï¼‰</li>
<li>ä¼ä¸šå†…éƒ¨æ–‡æ¡£æ•°æ®</li>
</ul>
</li>
<li>
<p>å¤–éƒ¨æ•°æ®æºï¼š</p>
<ul>
<li>ç¬¬ä¸‰æ–¹æ•°æ®ä¾›åº”å•†æä¾›çš„æ•°æ®</li>
<li>å…¬å¼€æ•°æ®é›†</li>
<li>ç¤¾äº¤åª’ä½“æ•°æ®</li>
<li>è¡Œä¸šæŠ¥å‘Šå’Œå¸‚åœºè°ƒç ”æ•°æ®</li>
</ul>
</li>
</ol>
<p>æ“ä½œå‹æ•°æ®ä¸åˆ†ææ€§æ•°æ®çš„ä¸»è¦åŒºåˆ«ä½“ç°åœ¨ï¼š</p>
<ol>
<li>
<p>æ•°æ®ç‰¹å¾å·®å¼‚ï¼š</p>
<ul>
<li>æ“ä½œå‹æ•°æ®ï¼šé¢å‘äº‹åŠ¡å¤„ç†ï¼Œå¼ºè°ƒå®æ—¶æ€§å’ŒåŸå­æ€§ï¼Œæ•°æ®ç»“æ„é«˜åº¦è§„èŒƒåŒ–</li>
<li>åˆ†æå‹æ•°æ®ï¼šé¢å‘å†³ç­–æ”¯æŒï¼Œå¼ºè°ƒå†å²æ€§å’Œèšåˆæ€§ï¼Œæ•°æ®ç»“æ„å¤šä¸ºæ˜Ÿå‹æˆ–é›ªèŠ±æ¨¡å‹</li>
</ul>
</li>
<li>
<p>æ•°æ®é›†æˆæŒ‘æˆ˜ï¼š</p>
<ul>
<li>æ•°æ®å†—ä½™é—®é¢˜ï¼šåŒä¸€ä¸šåŠ¡å®ä½“ï¼ˆå¦‚å®¢æˆ·ä¿¡æ¯ï¼‰åœ¨ä¸åŒæºç³»ç»Ÿä¸­å¯èƒ½å­˜åœ¨å¤šä¸ªç‰ˆæœ¬</li>
<li>æ•°æ®ä¸ä¸€è‡´é—®é¢˜ï¼šç›¸åŒå­—æ®µåœ¨ä¸åŒç³»ç»Ÿä¸­å¯èƒ½é‡‡ç”¨ä¸åŒçš„ç¼–ç è§„åˆ™ï¼ˆå¦‚æ€§åˆ«å­—æ®µå¯èƒ½ç”¨0/1ã€M/Fç­‰ä¸åŒè¡¨ç¤ºæ–¹æ³•ï¼‰</li>
<li>ä¸šåŠ¡é€»è¾‘è€¦åˆï¼šæºç³»ç»Ÿæ•°æ®é€šå¸¸ä¸å…¶ç‰¹å®šçš„ä¸šåŠ¡æµç¨‹å’Œåº”ç”¨é€»è¾‘ç´§å¯†ç»‘å®š</li>
</ul>
</li>
<li>
<p>æ•°æ®è½¬æ¢è¿‡ç¨‹ï¼š</p>
<ul>
<li>æ•°æ®æ¸…æ´—ï¼šå¤„ç†ç¼ºå¤±å€¼ã€å¼‚å¸¸å€¼ã€æ ¼å¼ä¸ä¸€è‡´ç­‰é—®é¢˜</li>
<li>æ•°æ®è½¬æ¢ï¼šåŒ…æ‹¬å­—æ®µæ˜ å°„ã€å•ä½ç»Ÿä¸€ã€ç¼–ç æ ‡å‡†åŒ–ç­‰</li>
<li>æ•°æ®é›†æˆï¼šå°†æ¥è‡ªä¸åŒæºç³»ç»Ÿçš„æ•°æ®æŒ‰ç…§ä¸»é¢˜åŸŸè¿›è¡Œæ•´åˆ</li>
<li>æ•°æ®åŠ è½½ï¼šé‡‡ç”¨ETLï¼ˆæŠ½å–-è½¬æ¢-åŠ è½½ï¼‰æˆ–ELTï¼ˆæŠ½å–-åŠ è½½-è½¬æ¢ï¼‰æµç¨‹å°†å¤„ç†åçš„æ•°æ®åŠ è½½åˆ°æ•°æ®ä»“åº“</li>
</ul>
</li>
</ol>
<p>ä¾‹å¦‚ï¼Œä¸€ä¸ªé›¶å”®ä¼ä¸šçš„æ•°æ®ä»“åº“å¯èƒ½é¢ä¸´å¦‚ä¸‹æƒ…å†µï¼š</p>
<ul>
<li>çº¿ä¸Šå•†åŸç³»ç»Ÿè®°å½•çš„å®¢æˆ·åœ°å€æ ¼å¼ä¸º"çœ-å¸‚-åŒº-è¯¦ç»†åœ°å€"</li>
<li>çº¿ä¸‹POSç³»ç»Ÿè®°å½•çš„å®¢æˆ·åœ°å€ä¸ºè‡ªç”±æ–‡æœ¬æ ¼å¼</li>
<li>CRMç³»ç»Ÿä¸­çš„å®¢æˆ·åœ°å€åˆ™åˆ†ä¸ºå¤šä¸ªå­—æ®µå­˜å‚¨
åœ¨æ•°æ®ä»“åº“å»ºè®¾ä¸­ï¼Œéœ€è¦å°†è¿™äº›ä¸åŒæ ¼å¼çš„åœ°å€ä¿¡æ¯ç»Ÿä¸€è½¬æ¢ä¸ºæ ‡å‡†åŒ–çš„ç»“æ„ã€‚</li>
</ul>
<p>æ•°æ®ä»“åº“ä¸­çš„æ•°æ®æ˜¯åˆ†ææœåŠ¡çš„ï¼Œè€Œåˆ†æéœ€è¦å¤šç§å¹¿æ³›çš„ä¸åŒæ•°æ®æºä»¥ä¾¿è¿›è¡Œæ¯”è¾ƒã€é‰´åˆ«ï¼Œæ•°æ®ä»“åº“ä¸­çš„æ•°æ®ä¼šä»å¤šä¸ªæ•°æ®æºä¸­è·å–ï¼Œè¿™äº›æ•°æ®æºåŒ…æ‹¬å¤šç§ç±»å‹æ•°æ®åº“ã€æ–‡ä»¶ç³»ç»Ÿä»¥åŠInternetç½‘ä¸Šæ•°æ®ï¼Œå®ƒä»¬é€šè¿‡æ•°æ®é›†æˆè€Œå½¢æˆæ•°æ®ä»“åº“ä¸­çš„æ•°æ®ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/09e3f2382e8249d08f850c8313d00a27~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769762827&amp;x-signature=djtymgkNKRIYmw%2Bnl41xPhRHWBY%3D" alt="æ•°æ®ä»“åº“ä¸šåŠ¡æ•°æ®åº“" loading="lazy"/></p>
<h3 data-id="heading-6">ç¨³å®šçš„</h3>
<p>æ•°æ®ä»“åº“æ•°æ®åæ˜ çš„æ˜¯ä¸€æ®µç›¸å½“é•¿çš„æ—¶é—´å†å²æ•°æ®çš„å†…å®¹ï¼Œæ˜¯ä¸åŒæ—¶ç‚¹çš„æ•°æ®åº“å¿«ç…§çš„é›†åˆï¼Œä»¥åŠåŸºäºè¿™äº›å¿«ç…§è¿›è¡Œç»Ÿè®¡ã€ç»¼åˆå’Œé‡ç»„çš„å¯¼å‡ºæ•°æ®ã€‚
æ•°æ®ç¨³å®šä¸»è¦æ˜¯é’ˆå¯¹åº”ç”¨è€Œè¨€ï¼Œæ•°æ®ä»“åº“çš„ç”¨æˆ·å¯¹æ•°æ®çš„æ“ä½œå¤§å¤šæ˜¯æ•°æ®æŸ¥è¯¢æˆ–æ¯”è¾ƒå¤æ‚çš„æŒ–æ˜ï¼Œä¸€æ—¦æ•°æ®è¿›è¡Œæ•°æ®ä»“åº“åï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¢«è¾ƒé•¿æ—¶é—´ä¿ç•™ã€‚æ•°æ®ç»è¿‡åŠ å·¥å’Œé›†æˆè¿›å…¥æ•°æ®ä»“åº“åæå°‘æ›´æ–°çš„ï¼Œé€šå¸¸åªéœ€è¦å®šæœŸçš„åŠ è½½å’Œæ›´æ–°ã€‚</p>
<h3 data-id="heading-7">åæ˜ å†å²å˜åŒ–</h3>
<p>æ•°æ®ä»“åº“åŒ…å«å„ç§ç²’åº¦çš„å†å²æ•°æ®ï¼Œæ•°æ®ä»“åº“ä¸­çš„æ•°æ®å¯èƒ½ä¸æŸä¸ªç‰¹å®šæ—¥æœŸã€æ˜ŸæœŸã€æœˆä»½ã€å­£åº¦æˆ–è€…å¹´ä»½æœ‰å…³ã€‚è™½ç„¶æ•°æ®ä»“åº“ä¸ä¼šä¿®æ”¹æ•°æ®ï¼Œä½†å¹¶ä¸æ˜¯è¯´æ•°æ®ä»“åº“çš„æ•°æ®æ˜¯æ°¸è¿œä¸å˜çš„ã€‚æ•°æ®ä»“åº“çš„æ•°æ®ä¹Ÿéœ€è¦æ›´æ–°ï¼Œä»¥é€‚åº”å†³ç­–çš„éœ€è¦ã€‚æ•°æ®ä»“åº“çš„æ•°æ®éšæ—¶é—´å˜åŒ–è¡¨ç°åœ¨ä»¥ä¸‹çš„å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>æ•°æ®ä»“åº“çš„æ•°æ®æ—¶é™ä¸€èˆ¬è¦è¿œè¿œé•¿äºæ“ä½œå‹æ•°æ®çš„æ—¶é™</li>
<li>ä¸šåŠ¡ç³»ç»Ÿå­˜å‚¨çš„æ˜¯å½“å‰æ•°æ®ï¼Œè€Œæ•°æ®ä»“åº“ä¸­çš„æ•°æ®æ˜¯å†å²æ•°æ®</li>
<li>æ•°æ®ä»“åº“ä¸­çš„æ•°æ®æ˜¯æŒ‰ç…§æ—¶é—´çš„é¡ºåºè¿½åŠ çš„ï¼Œéƒ½å¸¦æœ‰æ—¶é—´å±æ€§</li>
</ul>
<h3 data-id="heading-8">æ•°ä»“ä½œç”¨</h3>
<ul>
<li>æ•´åˆä¼ä¸šä¸šåŠ¡æ•°æ®ï¼Œå»ºç«‹ç»Ÿä¸€çš„æ•°æ®ä¸­å¿ƒ</li>
<li>äº§ç”Ÿä¸šåŠ¡æŠ¥è¡¨ï¼Œäº†è§£ä¼ä¸šçš„ç»è¥æƒ…å†µ</li>
<li>ä¸ºä¼ä¸šè¿è¥ã€å†³ç­–æä¾›æ•°æ®æ”¯æŒ</li>
<li>å¯ä»¥ä½œä¸ºå„ä¸ªä¸šåŠ¡çš„æ•°æ®æºï¼Œå½¢æˆä¸šåŠ¡æ•°æ®äº’ç›¸åé¦ˆçš„è‰¯æ€§å¾ªç¯</li>
<li>åˆ†æç”¨æˆ·è¡Œä¸ºæ•°æ®ï¼Œé€šè¿‡æ•°æ®æŒ–æ˜æ¥é™ä½æŠ•å…¥æˆæœ¬ï¼Œæé«˜æŠ•å…¥æ•ˆæœ</li>
<li>å¼€å‘æ•°æ®äº§å“ï¼Œç›´æ¥æˆ–é—´æ¥çš„ä¸ºä¼ä¸šç›ˆåˆ©</li>
</ul>
<h2 data-id="heading-9">å¯¹æ¯”æ•°æ®åº“</h2>
<p>æ•°æ®åº“ä¸æ•°æ®ä»“åº“çš„åŒºåˆ«ï¼Œå®é™…ä¸Šæ¯”çš„æ˜¯ï¼šOLTPä¸OLAPçš„åŒºåˆ«ã€‚
OLTPï¼ˆOn-Line Transaction Processing è”æœºäº‹åŠ¡å¤„ç†ï¼‰ï¼Œä¹Ÿæˆä¸ºé¢å‘äº¤æ˜“çš„å¤„ç†ç³»ç»Ÿã€‚ä¸»è¦é’ˆå¯¹å…·ä½“ä¸šåŠ¡åœ¨æ•°æ®åº“ç³»ç»Ÿçš„æ—¥å¸¸æ“ä½œï¼Œé€šå¸¸å¯¹å°‘æ•°è®°å½•è¿›è¡ŒæŸ¥è¯¢ã€ä¿®æ”¹ã€‚ç”¨æˆ·è¾ƒä¸ºå…³å¿ƒæ“ä½œçš„å“åº”æ—¶é—´ã€æ•°æ®çš„å®‰å…¨æ€§ã€å®Œæ•´æ€§å’Œå¹¶å‘æ”¯æŒçš„ç”¨æˆ·æ•°ç­‰é—®é¢˜ã€‚ä¼ ç»Ÿçš„æ•°æ®åº“ç³»ç»Ÿä½œä¸ºæ•°æ®ç®¡ç†çš„ä¸»è¦æ‰‹æ®µï¼Œä¸»è¦ç”¨äºæ“ä½œå‹å¤„ç†ã€‚</p>
<p>OLAPï¼ˆOn-Line Analytical Processing è”æœºåˆ†æå¤„ç†ï¼‰ï¼Œä¸€èˆ¬é’ˆå¯¹æŸäº›ä¸»é¢˜çš„å†å²æ•°æ®è¿›è¡Œåˆ†æï¼Œæ”¯æŒç®¡ç†å†³ç­–ã€‚</p>
<p>æ•°æ®ä»“åº“çš„å‡ºç°ï¼Œå¹¶ä¸æ˜¯è¦å–ä»£æ•°æ®åº“ï¼š</p>
<ul>
<li>æ•°æ®ä»“åº“ä¸»è¦ç”¨äºè§£å†³ä¼ä¸šçº§çš„æ•°æ®åˆ†æé—®é¢˜æˆ–è€…ç®¡ç†å’Œå†³ç­–</li>
<li>æ•°æ®ä»“åº“ä¸ºåˆ†ææ•°æ®è€Œè®¾è®¡ï¼Œæ•°æ®åº“æ˜¯ä¸ºäº†æ•è·å’Œå­˜å‚¨æ•°æ®è€Œè®¾è®¡</li>
<li>æ•°æ®ä»“åº“æ˜¯é¢å‘åˆ†æï¼Œé¢å‘ä¸»é¢˜è®¾è®¡çš„ï¼Œå³ä¿¡æ¯æ˜¯æŒ‰ä¸»é¢˜è¿›è¡Œç»„ç»‡çš„ï¼Œå±äºåˆ†æå‹ã€‚æ•°æ®åº“æ˜¯é¢å‘äº‹åŠ¡è®¾è®¡çš„ï¼Œå±äºæ“ä½œå‹ã€‚</li>
<li>æ•°æ®ä»“åº“åœ¨è®¾è®¡ä¸Šæœ‰æ„çš„æ•°æ®å†—ä½™ï¼Œæé«˜æŸ¥è¯¢çš„æ•ˆç‡ï¼Œé‡‡ç”¨åèŒƒå¼æ¥è¿›è¡Œè®¾è®¡ï¼Œè€Œæ•°æ®åº“æ˜¯å°½é‡é¿å…å†—ä½™ï¼Œä¸€èˆ¬é‡‡ç”¨ç¬¦åˆèŒƒå¼çš„æ–¹å¼æ¥è®¾è®¡ã€‚</li>
<li>æ•°æ®ä»“åº“è¾ƒå¤§ï¼Œæ•°æ®ä»“åº“ä¸­çš„æ•°æ®æ¥æºäºå¤šä¸ªå¼‚æ„çš„æ•°æ®æºï¼Œè€Œä¸”ä¿ç•™äº†ä¼ä¸šçš„å†å²æ•°æ®ï¼Œæ•°æ®å­˜å‚¨æœ‰æœŸé™ã€å•ä¸€é¢†åŸŸçš„ä¸šåŠ¡æ•°æ®</li>
<li>æ•°æ®åº“æ˜¯é¢å‘äº‹åŠ¡çš„è®¾è®¡ï¼Œæ•°æ®ä»“åº“æ˜¯é¢å‘ä¸»é¢˜è®¾è®¡çš„</li>
<li>æ•°æ®åº“å­˜å‚¨æœ‰æœŸé™çš„ä¸šåŠ¡æ•°æ®ï¼Œæ•°æ®ä»“åº“æ˜¯å­˜å‚¨ä¼ä¸šçš„å†å²æ•°æ®</li>
<li>æ•°æ®åº“è®¾è®¡å°½é‡é¿å…å†—ä½™ï¼Œæ•°æ®ä»“åº“ä¸ºäº†é€Ÿåº¦éœ€è¦å†—ä½™</li>
<li>æ•°æ®åº“æ˜¯ä¸ºäº†æ•è·æ•°æ®è€Œè®¾è®¡ï¼Œæ•°æ®ä»“åº“æ˜¯ä¸ºäº†åˆ†ææ•°æ®è€Œè®¾è®¡</li>
</ul>
<p>ä»¥é“¶è¡Œçš„ä¸šåŠ¡ä¸ºä¾‹ï¼Œæ•°æ®åº“æ˜¯äº‹åŠ¡ç³»ç»Ÿçš„æ•°æ®å¹³å°ï¼Œå®¢æˆ·åœ¨é“¶è¡Œåšçš„æ¯ç¬”äº¤æ˜“éƒ½ä¼šå†™å…¥æ•°æ®åº“ï¼Œè¢«è®°å½•ä¸‹æ¥ã€‚è¿™é‡Œï¼Œå¯ä»¥ç®€å•çš„ç†è§£ä¸ºç”¨æ•°æ®åº“è®°è´¦ã€‚
æ•°æ®ä»“åº“æ˜¯åˆ†æç³»ç»Ÿçš„æ•°æ®å¹³å°ï¼Œå®ƒä»äº‹åŠ¡ç³»ç»Ÿè·å–æ•°æ®ï¼Œå¹¶åšæ±‡æ€»ã€åŠ å·¥ï¼Œä¸ºå†³ç­–è€…æä¾›å†³ç­–çš„ä¾æ®ã€‚
æ¯”å¦‚æŸé“¶è¡Œåˆ†è¡Œä¸€ä¸ªæœˆå‘ç”Ÿäº†å¤šå°‘æ¬¡äº¤æ˜“ï¼Œè¯¥åˆ†è¡Œå½“å‰å­˜æ¬¾ä½™é¢æ˜¯å¤šå°‘ï¼Œå¦‚æœå­˜å–æ¬¾å¤šï¼Œæ¶ˆè´¹äº¤æ˜“å¤šï¼Œé‚£ä¹ˆè¯¥åœ°åŒºå°±æœ‰å¿…è¦è®¾ç«‹ATMäº†ã€‚
é“¶è¡Œçš„äº¤æ˜“é‡æ˜¯å·¨å¤§çš„ï¼Œé€šå¸¸ä»¥ç™¾ä¸‡ç”šè‡³åƒä¸‡æ¬¡æ¥è®¡ç®—ã€‚äº‹åŠ¡ç³»ç»Ÿæ˜¯å®æ—¶çš„ï¼Œè¿™å°±è¦æ±‚æ—¶æ•ˆæ€§ï¼Œå®¢æˆ·å­˜ä¸€ç¬”é’±éœ€è¦å‡ åç§’æ˜¯æ— æ³•å¿å—çš„ï¼Œè¿™å°±è¦æ±‚æ•°æ®åº“åªèƒ½å­˜å‚¨å¾ˆçŸ­ä¸€æ®µæ—¶é—´çš„æ•°æ®ã€‚è€Œåˆ†ææ˜¯äº‹åçš„ï¼Œå®ƒè¦æä¾›å…³æ³¨æ—¶é—´æ®µå†…æ‰€æœ‰çš„æœ‰æ•ˆæ•°æ®ã€‚è¿™äº›æ•°æ®æ˜¯æµ·é‡çš„ï¼Œæ±‡æ€»è®¡ç®—èµ·æ¥ä¹Ÿè¦æ…¢ä¸€äº›ï¼Œä½†æ˜¯ï¼Œåªè¦èƒ½å¤Ÿæä¾›æœ‰æ•ˆçš„åˆ†ææ•°æ®å°±è¾¾åˆ°ç›®çš„äº†ã€‚
æ•°æ®ä»“åº“æ˜¯æ•°æ®åº“å·²ç»å­˜åœ¨çš„æƒ…å†µä¸‹ï¼Œä¸ºäº†è¿›ä¸€æ­¥æŒ–æ˜æ•°æ®èµ„æºã€ä¸ºäº†å†³ç­–éœ€è¦è€Œäº§ç”Ÿçš„ï¼Œå®ƒç»å¯¹ä¸æ˜¯æ‰€è°“çš„å¤§å‹çš„æ•°æ®åº“ã€‚</p>
<p><img src="https://p3-xtjj-sign.byteimg.com/tos-cn-i-73owjymdk6/4bbe391355b7473d9b3572525af2d7b5~tplv-73owjymdk6-jj-mark-v1:0:0:0:0:5o6Y6YeR5oqA5pyv56S-5Yy6IEAg5q2m5a2Q5bq3:q75.awebp?rk3s=f64ab15b&amp;x-expires=1769762827&amp;x-signature=X8Fn6rYh880ucZifuRq%2BKlL3F3s%3D" alt="æ•°æ®ä»“åº“å¯¹æ¯”å†…å®¹" loading="lazy"/></p>
<h2 data-id="heading-10">é”™è¯¯é€ŸæŸ¥</h2>





















































<table><thead><tr><th>ç—‡çŠ¶</th><th>æ ¹å› </th><th>å®šä½</th><th>ä¿®å¤</th></tr></thead><tbody><tr><td>åŒä¸€æŒ‡æ ‡åœ¨ä¸åŒæŠ¥è¡¨æ•°å€¼ä¸ä¸€è‡´</td><td>å£å¾„æœªç»Ÿä¸€ã€ç»´åº¦/æ—¶é—´çª—å£å®šä¹‰ä¸ä¸€è‡´</td><td>å¯¹æ¯”æŒ‡æ ‡å®šä¹‰ã€è¿‡æ»¤æ¡ä»¶ã€ç»´åº¦ç²’åº¦ï¼›å›æº¯SQL/ETLäº§å‡ºè¡¨</td><td>å»ºç«‹æŒ‡æ ‡å­—å…¸ä¸å£å¾„è¯„å®¡ï¼›åœ¨DWå±‚å›ºåŒ–ç»Ÿä¸€å£å¾„ä¸å¯è¿½æº¯è¡€ç¼˜</td></tr><tr><td>æ±‡æ€»ç»“æœå¯¹ä¸ä¸Š</td><td>æ˜ç»†äº‹å®è¡¨ç²’åº¦ä¸æ¸…ã€é‡å¤è®°å½•ã€ç»´è¡¨å¤šå¯¹å¤šå¯¼è‡´æ”¾å¤§</td><td>æ£€æŸ¥ä¸»é”®/å»é‡ç­–ç•¥ï¼›æ ¸å¯¹JoinåŸºæ•°ä¸è¡Œæ•°å˜åŒ–</td><td>æ˜ç¡®äº‹å®è¡¨ç²’åº¦ä¸å”¯ä¸€é”®ï¼›ç»´è¡¨æ¡¥è¡¨/å»é‡ï¼›åœ¨æ¨¡å‹å±‚é™åˆ¶Joinè·¯å¾„</td></tr><tr><td>å†å²æ•°æ®è¢«â€œæ”¹æ²¡äº†â€</td><td>æŠŠæ—¶å˜æ•°æ®å½“å¿«ç…§è¦†ç›–ï¼›SCDç­–ç•¥ç¼ºå¤±</td><td>æŸ¥çœ‹æ›´æ–°è¯­å¥æ˜¯å¦è¦†ç›–ï¼›æ ¸å¯¹æ˜¯å¦ä¿ç•™ç”Ÿæ•ˆ/å¤±æ•ˆæ—¶é—´</td><td>é‡‡ç”¨æ‹‰é“¾è¡¨/SCD2ï¼›è¿½åŠ å†™å…¥+æœ‰æ•ˆæœŸå­—æ®µï¼›ä¿ç•™å˜æ›´æ—¥å¿—</td></tr><tr><td>æ•°æ®å»¶è¿Ÿå¤§ã€T+1å¸¸è¶…æ—¶</td><td>ä¾èµ–é“¾è¿‡é•¿ã€å…¨é‡é‡è·‘ã€åˆ†åŒº/ç´¢å¼•è®¾è®¡å·®</td><td>çœ‹ä»»åŠ¡DAGä¸å…³é”®è·¯å¾„è€—æ—¶ï¼›æ£€æŸ¥åˆ†åŒºè£å‰ªä¸Shuffle</td><td>åˆ†å±‚åˆ†åŸŸæ‹†é“¾è·¯ï¼›å¢é‡/CDCï¼›åˆç†åˆ†åŒºä¸èšç°‡ï¼›èµ„æºéš”ç¦»ä¸é‡è¯•ç­–ç•¥</td></tr><tr><td>åŒä¸€ç»´åº¦å­—æ®µåˆ°å¤„ä¸€å¥—ç¼–ç </td><td>æºç³»ç»Ÿå¼‚æ„ã€æ ‡å‡†åŒ–ç¼ºå¤±</td><td>ç»Ÿè®¡å­—æ®µå–å€¼åˆ†å¸ƒä¸æ˜ å°„è¡¨è¦†ç›–ç‡</td><td>å»ºç«‹ä¸»æ•°æ®/ç è¡¨ï¼›ç»Ÿä¸€æ˜ å°„å±‚ï¼›åœ¨é›†æˆå±‚å¼ºåˆ¶æ ‡å‡†åŒ–</td></tr><tr><td>æ¨¡å‹â€œè¶Šå»ºè¶Šä¹±â€ï¼Œè¡¨å‘½åä¸å±‚æ¬¡ä¸æ¸…</td><td>åˆ†å±‚è§„èŒƒç¼ºå¤±ã€ä¸»é¢˜åŸŸè¾¹ç•Œä¸æ¸…</td><td>ç›˜ç‚¹è¡¨åˆ†å¸ƒä¸ä¾èµ–ï¼›è¯†åˆ«é‡å¤ä¸»é¢˜ä¸æŒ‡æ ‡è¡¨</td><td>å»ºç«‹ODS/DWD/DWS/ADSæˆ–ç­‰ä»·åˆ†å±‚ï¼›æŒ‰ä¸»é¢˜åŸŸæ²»ç†ï¼›è®¾ç«‹å‡†å…¥ä¸ä¸‹çº¿æœºåˆ¶</td></tr><tr><td>æŸ¥è¯¢æ…¢ã€OLAPè¢«å½“OLTPç”¨</td><td>åèŒƒå¼ä¸è¶³/èšåˆç¼ºå¤±ï¼›å†·çƒ­åˆ†å±‚ç¼ºå¤±</td><td>çœ‹æŸ¥è¯¢æ¨¡å¼ï¼ˆé«˜é¢‘ç»´åº¦ã€å¸¸ç”¨èšåˆï¼‰ï¼›åˆ†ææ‰§è¡Œè®¡åˆ’</td><td>ç‰©åŒ–æ±‡æ€»/å®½è¡¨ï¼›é¢„è®¡ç®—ï¼›å†·çƒ­åˆ†å±‚ï¼›åˆ—å¼å­˜å‚¨ä¸åˆ†åŒº/æ’åºä¼˜åŒ–</td></tr></tbody></table>
<h2 data-id="heading-11">å…¶ä»–ç³»åˆ—</h2>
<h3 data-id="heading-12">ğŸš€ AIç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>AIç‚¼ä¸¹æ—¥å¿—-29 - å­—èŠ‚è·³åŠ¨ DeerFlow æ·±åº¦ç ”ç©¶æ¡†<em>æ–œä½“æ ·å¼</em>æ¶ ç§æœ‰éƒ¨ç½² æµ‹è¯•ä¸Šæ‰‹ æ¶æ„ç ”ç©¶</strong>ï¼ŒæŒç»­æ‰“é€ å®ç”¨AIå·¥å…·æŒ‡å—ï¼
<strong>AIç ”ç©¶-132 Java ç”Ÿæ€å‰æ²¿ 2025ï¼šSpringã€Quarkusã€GraalVMã€CRaC ä¸äº‘åŸç”Ÿè½åœ°</strong></p>
<h3 data-id="heading-13">ğŸ’» Javaç¯‡æŒç»­æ›´æ–°ä¸­ï¼ˆé•¿æœŸæ›´æ–°ï¼‰</h3>
<p><strong>Java-218 RocketMQ Java API å®æˆ˜ï¼šåŒæ­¥/å¼‚æ­¥ Producer ä¸ Pull/Push Consumer</strong>
MyBatis å·²å®Œç»“ï¼ŒSpring å·²å®Œç»“ï¼ŒNginxå·²å®Œç»“ï¼ŒTomcatå·²å®Œç»“ï¼Œåˆ†å¸ƒå¼æœåŠ¡å·²å®Œç»“ï¼ŒDubboå·²å®Œç»“ï¼ŒMySQLå·²å®Œç»“ï¼ŒMongoDBå·²å®Œç»“ï¼ŒNeo4jå·²å®Œç»“ï¼ŒFastDFS å·²å®Œç»“ï¼ŒOSSå·²å®Œç»“ï¼ŒGuavaCacheå·²å®Œç»“ï¼ŒEVCacheå·²å®Œç»“ï¼ŒRabbitMQå·²å®Œç»“ï¼ŒRocketMQæ­£åœ¨æ›´æ–°... æ·±å…¥æµ…å‡ºåŠ©ä½ æ‰“ç‰¢åŸºç¡€ï¼</p>
<h3 data-id="heading-14">ğŸ“Š å¤§æ•°æ®æ¿å—å·²å®Œæˆå¤šé¡¹å¹²è´§æ›´æ–°ï¼ˆ300ç¯‡ï¼‰ï¼š</h3>
<p>åŒ…æ‹¬ Hadoopã€Hiveã€Kafkaã€Flinkã€ClickHouseã€Elasticsearch ç­‰äºŒåä½™é¡¹æ ¸å¿ƒç»„ä»¶ï¼Œè¦†ç›–ç¦»çº¿+å®æ—¶æ•°ä»“å…¨æ ˆï¼
<strong>å¤§æ•°æ®-278 Spark MLib - åŸºç¡€ä»‹ç» æœºå™¨å­¦ä¹ ç®—æ³• æ¢¯åº¦æå‡æ ‘ GBDTæ¡ˆä¾‹ è¯¦è§£</strong></p></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[react:Hook:useEffect]]></title>    <link>https://juejin.cn/post/7598193992828174390</link>    <guid>https://juejin.cn/post/7598193992828174390</guid>    <pubDate>2026-01-23T07:58:21.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598193992828174390" data-draft-id="7598110132615217206" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="react:Hook:useEffect"/> <meta itemprop="keywords" content="React.js"/> <meta itemprop="datePublished" content="2026-01-23T07:58:21.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="ç”¨æˆ·51682365593"/> <meta itemprop="url" content="https://juejin.cn/user/2443587520847651"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            react:Hook:useEffect
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/2443587520847651/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    ç”¨æˆ·51682365593
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T07:58:21.000Z" title="Fri Jan 23 2026 07:58:21 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    5
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»3åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>å¦‚æœä½ ç”¨è¿‡ Vue 3 çš„ Composition APIï¼ˆ<code>setup</code> è¯­æ³•ï¼‰ï¼Œä½ ä¼šè§‰å¾—è¿™éå¸¸çœ¼ç†Ÿã€‚å¦‚æœä½ ä¸»è¦ç”¨ Vue 2ï¼ˆOptions APIï¼‰ï¼Œé‚£ä½ éœ€è¦è½¬æ¢ä¸€ä¸‹æ€ç»´ï¼š<strong>React æ²¡æœ‰æ˜ç¡®çš„ <code>mounted</code>ã€<code>updated</code>ã€<code>destroyed</code> é’©å­ï¼Œæ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸéƒ½åœ¨ <code>useEffect</code> é‡Œè§£å†³ã€‚</strong></p>
<hr/>
<h3 data-id="heading-0">1. ä»€ä¹ˆæ˜¯ <code>useEffect</code>ï¼Ÿ(å‰¯ä½œç”¨)</h3>
<p>åœ¨ React å‡½æ•°ç»„ä»¶é‡Œï¼Œä¸»æµç¨‹ï¼ˆå‡½æ•°ä½“ï¼‰å¿…é¡»æ˜¯çº¯å‡€çš„ï¼šè¾“å…¥ Propsï¼Œè¿”å› JSXã€‚</p>
<p><strong>ä»»ä½•â€œé™¤æ­¤ä¹‹å¤–â€çš„äº‹æƒ…</strong>ï¼Œéƒ½å«<strong>å‰¯ä½œç”¨ (Side Effects)</strong> ï¼Œæ¯”å¦‚ï¼š</p>
<ul>
<li>ä¿®æ”¹ <code>document.title</code></li>
<li>å‘é€ Ajax è¯·æ±‚ (API)</li>
<li>è®¾ç½®å®šæ—¶å™¨ (<code>setInterval</code>)</li>
<li>æ‰‹åŠ¨æ“ä½œ DOM</li>
</ul>
<p><code>useEffect</code> å°±æ˜¯ React ç»™ä½ å¼€çš„ä¸€ä¸ªâ€œåé—¨â€ï¼Œè®©ä½ åœ¨ç»„ä»¶æ¸²æŸ“å®Œ<strong>ä¹‹å</strong>å»åšè¿™äº›äº‹ã€‚</p>
<hr/>
<h3 data-id="heading-1">2. Vue vs Reactï¼šç”Ÿå‘½å‘¨æœŸçš„æ˜ å°„</h3>
<p>è¿™æ˜¯ç†è§£ <code>useEffect</code> çš„ä¸€æŠŠé’¥åŒ™ã€‚å®ƒçš„è¡Œä¸ºå®Œå…¨å–å†³äº<strong>ç¬¬äºŒä¸ªå‚æ•°ï¼ˆä¾èµ–æ•°ç»„ï¼‰</strong> ã€‚</p>






























<table><thead><tr><th><strong>Vue ç”Ÿå‘½å‘¨æœŸ (Options API)</strong></th><th><strong>React useEffect å†™æ³•</strong></th><th><strong>å«ä¹‰</strong></th></tr></thead><tbody><tr><td><strong><code>mounted</code></strong> (åªæ‰§è¡Œä¸€æ¬¡)</td><td><code>useEffect(() =&gt; { ... }, [])</code></td><td>æ•°ç»„æ˜¯<strong>ç©º</strong>çš„ï¼Œä»£è¡¨â€œæˆ‘ä¸ä¾èµ–ä»»ä½•å˜é‡ï¼Œæ‰€ä»¥æˆ‘åªåœ¨å‡ºç”Ÿæ—¶è¿è¡Œä¸€æ¬¡â€ã€‚</td></tr><tr><td><strong><code>watch</code> / <code>updated</code></strong> (æ•°æ®å˜äº†å°±æ‰§è¡Œ)</td><td><code>useEffect(() =&gt; { ... }, [count])</code></td><td>æ•°ç»„é‡Œæœ‰ <code>count</code>ï¼Œä»£è¡¨â€œåªè¦ <code>count</code> å˜äº†ï¼Œæˆ‘å°±è¿è¡Œâ€ã€‚</td></tr><tr><td><strong><code>updated</code></strong> (ä»»æ„æ›´æ–°éƒ½æ‰§è¡Œ)</td><td><code>useEffect(() =&gt; { ... })</code></td><td><strong>æ²¡å†™æ•°ç»„</strong>ã€‚æ¯æ¬¡ç»„ä»¶æ¸²æŸ“å®ƒéƒ½è·‘ã€‚ï¼ˆâš ï¸ æ…ç”¨ï¼Œå®¹æ˜“æ­»å¾ªç¯ï¼‰</td></tr><tr><td><strong><code>beforeUnmount</code></strong> (é”€æ¯å‰)</td><td><code>return () =&gt; { ... }</code></td><td>åœ¨ <code>useEffect</code> çš„å‡½æ•°é‡Œ<strong>è¿”å›</strong>ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªè¿”å›çš„å‡½æ•°ä¼šåœ¨é”€æ¯æ—¶æ‰§è¡Œã€‚</td></tr></tbody></table>
<hr/>
<h3 data-id="heading-2">3. å®æˆ˜æ¼”ç¤ºï¼šæ ‡é¢˜éšè®¡æ•°å™¨å˜åŒ–</h3>
<p><strong>éœ€æ±‚ï¼š</strong> æ¯æ¬¡ç‚¹å‡»æŒ‰é’®æ›´æ–° <code>count</code> æ—¶ï¼Œæµè§ˆå™¨çš„æ ‡ç­¾é¡µæ ‡é¢˜ (<code>document.title</code>) ä¹Ÿè¦è·Ÿç€å˜æˆ "å½“å‰æ¬¡æ•°: X"ã€‚</p>
<p><strong>ä»£ç å¯¹æ¯”ï¼š</strong></p>
<h4 data-id="heading-3">Vue å†™æ³• (Watch)</h4>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-comment">// Vue 3</span>
<span class="hljs-title function_">watch</span>(count, <span class="hljs-function">(<span class="hljs-params">newVal</span>) =&gt;</span> {
  <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">`å½“å‰æ¬¡æ•°: <span class="hljs-subst">${newVal}</span>`</span>;
});
</code></pre>
<h4 data-id="heading-4">React å†™æ³• (useEffect)</h4>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>; <span class="hljs-comment">// 1. å¼•å…¥</span>

<span class="hljs-keyword">function</span> <span class="hljs-title function_">App</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [count, setCount] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-comment">// 2. ä½¿ç”¨ useEffect</span>
  <span class="hljs-comment">// ç¿»è¯‘ï¼šå½“ [count] å‘ç”Ÿå˜åŒ–ä¹‹åï¼Œæ‰§è¡Œè¿™ä¸ªç®­å¤´å‡½æ•°</span>
  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">`å½“å‰æ¬¡æ•°: <span class="hljs-subst">${count}</span>`</span>;
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å‰¯ä½œç”¨æ‰§è¡Œäº†ï¼"</span>);
  }, [count]); <span class="hljs-comment">// &lt;--- å…³é”®åœ¨è¿™é‡Œï¼ä¾èµ–æ•°ç»„</span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> setCount(count + 1)}&gt;+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre>
<p><strong>å®éªŒï¼š</strong></p>
<p>å¦‚æœä½ æŠŠ <code>[count]</code> æ”¹æˆç©ºæ•°ç»„ <code>[]</code>ï¼Œä½ ä¼šå‘ç°ï¼šåªæœ‰åˆ·æ–°é¡µé¢ç¬¬ä¸€æ¬¡æ ‡é¢˜å˜äº†ï¼Œåé¢æ€ä¹ˆç‚¹æŒ‰é’®ï¼Œæ ‡é¢˜éƒ½ä¸åŠ¨ã€‚å› ä¸º React è®¤ä¸ºâ€œè¿™ä¸ªå‰¯ä½œç”¨ä¸éœ€è¦ä¾èµ–ä»»ä½•çŠ¶æ€æ›´æ–°â€ã€‚</p>
<hr/>
<h3 data-id="heading-5">4. éš¾ç‚¹ï¼šæ¸…ç†å‰¯ä½œç”¨ (Cleanup)</h3>
<p>è¿™æ˜¯ Vue å¼€å‘è€…æœ€å®¹æ˜“æ‡µçš„åœ°æ–¹ã€‚</p>
<p>åœ¨ Vue é‡Œï¼Œä½ åœ¨ <code>mounted</code> é‡Œå¼€å¯å®šæ—¶å™¨ï¼Œå¿…é¡»è®°å¾—åœ¨ <code>beforeUnmount</code> é‡Œæ¸…é™¤ã€‚</p>
<p>åœ¨ React é‡Œï¼Œè¿™å†™åœ¨<strong>åŒä¸€ä¸ªåœ°æ–¹</strong>ã€‚</p>
<p><strong>åœºæ™¯ï¼š</strong> åšä¸€ä¸ªè‡ªåŠ¨è®¡æ—¶å™¨ã€‚</p>
<p>JavaScript</p>
<pre><code class="hljs language-javascript" lang="javascript"><span class="hljs-keyword">import</span> { useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Timer</span>(<span class="hljs-params"/>) {
  <span class="hljs-keyword">const</span> [seconds, setSeconds] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);

  <span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-comment">// 1. å¼€å¯å®šæ—¶å™¨ (ç›¸å½“äº mounted)</span>
    <span class="hljs-keyword">const</span> intervalId = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"å®šæ—¶å™¨åœ¨è·‘..."</span>);
      <span class="hljs-title function_">setSeconds</span>(<span class="hljs-function"><span class="hljs-params">s</span> =&gt;</span> s + <span class="hljs-number">1</span>);
    }, <span class="hljs-number">1000</span>);

    <span class="hljs-comment">// 2. è¿”å›æ¸…ç†å‡½æ•° (ç›¸å½“äº beforeUnmount)</span>
    <span class="hljs-comment">// React ä¼šåœ¨ç»„ä»¶é”€æ¯æ—¶ï¼Œæˆ–è€…ä¸‹ä¸€æ¬¡ effect æ‰§è¡Œå‰ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">"æ¸…é™¤å®šæ—¶å™¨ï¼"</span>);
      <span class="hljs-built_in">clearInterval</span>(intervalId);
    };

  }, []); <span class="hljs-comment">// [] ä»£è¡¨åªåœ¨æŒ‚è½½æ—¶å¯åŠ¨ä¸€æ¬¡</span>

  <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>å·²ç»è¿‡å»äº† {seconds} ç§’<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span>;
}
</code></pre>
<p><strong>é€»è¾‘é—­ç¯ï¼š</strong> React è®¤ä¸ºâ€œå¦‚ä½•åˆ›å»ºâ€å’Œâ€œå¦‚ä½•é”€æ¯â€æ˜¯å¼ºç›¸å…³çš„é€»è¾‘ï¼Œæ‰€ä»¥å¼ºåˆ¶ä½ å†™åœ¨ä¸€èµ·ï¼Œé˜²æ­¢ä½ å¿˜è®°æ¸…é™¤ã€‚</p>
<hr/>
<h3 data-id="heading-6">ğŸ’¡ æ ¸å¿ƒæ€ç»´è½¬æ¢æ€»ç»“</h3>
<ul>
<li><strong>Vue:</strong> æ˜¯åŸºäº<strong>æ—¶æœº</strong>çš„ (è¿™æ—¶å€™è¯¥å¹²å˜› -&gt; mounted, destroyed)ã€‚</li>
<li><strong>React:</strong> æ˜¯åŸºäº<strong>ä¾èµ–</strong>çš„ (æ•°æ®å˜äº†è¯¥å¹²å˜› -&gt; ä¾èµ–æ•°ç»„)ã€‚</li>
</ul>
<p>ä½ åªè¦é—®è‡ªå·±ä¸¤ä¸ªé—®é¢˜ï¼š</p>
<ol>
<li>
<p><strong>æˆ‘æƒ³åšä»€ä¹ˆï¼Ÿ</strong> (å†™åœ¨å‡½æ•°ä½“é‡Œ)</p>
</li>
<li>
<p><strong>æˆ‘æƒ³ä»€ä¹ˆæ—¶å€™åšï¼Ÿ</strong></p>
<ul>
<li>åªæœ‰å‡ºç”Ÿæ—¶ï¼Ÿ -&gt; <code>[]</code></li>
<li><code>userId</code> å˜çš„æ—¶å€™ï¼Ÿ -&gt; <code>[userId]</code></li>
<li>åªè¦æœ‰é£å¹è‰åŠ¨ï¼Ÿ -&gt; ä¸ä¼ æ•°ç»„ (å±é™©)</li>
</ul>
</li>
</ol>
<hr/></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item><item>    <title><![CDATA[Javaæºç ä¸­çš„æ’åºç®—æ³•(äºŒ)--DualPivotQuicksort]]></title>    <link>https://juejin.cn/post/7598222735807807528</link>    <guid>https://juejin.cn/post/7598222735807807528</guid>    <pubDate>2026-01-23T08:40:28.000Z</pubDate>    <description><![CDATA[<article itemscope="itemscope" itemtype="http://schema.org/Article" data-entry-id="7598222735807807528" data-draft-id="7598222735807774760" data-original-type="0" class="article" data-v-61fb5e44=""><!----> <meta itemprop="headline" content="Javaæºç ä¸­çš„æ’åºç®—æ³•(äºŒ)--DualPivotQuicksort"/> <meta itemprop="keywords" content="åç«¯,æ’åºç®—æ³•"/> <meta itemprop="datePublished" content="2026-01-23T08:40:28.000Z"/> <meta itemprop="image" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-128.png~tplv-t2oaga2asx-image.image"/> <div itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="name" content="é‚µä¼¯"/> <meta itemprop="url" content="https://juejin.cn/user/1160695730942141"/></div> <div itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ˜é‡‘"/> <div itemprop="logo" itemscope="itemscope" itemtype="https://schema.org/ImageObject"><meta itemprop="url" content="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-assets/icon/icon-white-180.png~tplv-t2oaga2asx-image.image"/> <meta itemprop="width" content="180"/> <meta itemprop="height" content="180"/></div></div> <h1 class="article-title" data-v-61fb5e44="">
            Javaæºç ä¸­çš„æ’åºç®—æ³•(äºŒ)--DualPivotQuicksort
            <!----> <!----></h1> <div class="author-info-block block-hidden" data-v-61fb5e44=""><div class="author-info-box" data-v-61fb5e44=""><div class="author-name" data-v-61fb5e44=""><a href="/user/1160695730942141/posts" target="_blank" rel="" class="jj-link username username ellipsis" data-v-65b50b51="" data-v-292f6e48="" data-v-61fb5e44=""><span class="name" style="max-width:160px;" data-v-65b50b51="" data-v-292f6e48="">
    é‚µä¼¯
  </span> <!----> <!----> <!----> </a></div> <div class="meta-box" data-v-61fb5e44=""><time datetime="2026-01-23T08:40:28.000Z" title="Fri Jan 23 2026 08:40:28 GMT+0000 (Coordinated Universal Time)" class="time" data-v-61fb5e44="">
                    2026-01-23
                  </time> <svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" class="read-icon" data-v-61fb5e44=""><path d="M7.90078 2.80078C4.49278 2.80078 1.74745 6.11672 0.800781 7.77469C1.74745 9.58339 4.49278 13.2008 7.90078 13.2008C11.3088 13.2008 14.0541 9.58339 15.0008 7.77469C14.0541 6.11672 11.3088 2.80078 7.90078 2.80078Z" stroke="currentColor" data-v-61fb5e44=""/><circle cx="7.89922" cy="8.00078" r="2.2" stroke="currentColor" data-v-61fb5e44=""/></svg> <span class="views-count" data-v-61fb5e44="">
                    0
                  </span> <span class="read-time" data-v-61fb5e44=""><svg width="16" height="16" viewbox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-61fb5e44=""><rect width="16" height="16" fill="none" data-v-61fb5e44=""/><circle cx="8" cy="8" r="5.65625" stroke="#8A919F" data-v-61fb5e44=""/><path d="M7.69141 5.18652V8.30924H10.8141" stroke="#8A919F" stroke-linecap="round" stroke-linejoin="round" data-v-61fb5e44=""/></svg>
                    é˜…è¯»7åˆ†é’Ÿ
                  </span> <!----></div></div> <div style="flex:1;" data-v-61fb5e44=""/> <!----> <!----></div> <!----> <!----> <!----> <!----> <div id="article-root" itemprop="articleBody" class="main" data-v-61fb5e44=""><div class="article-viewer markdown-body result"><style>.markdown-body{word-break:break-word;line-height:1.75;font-weight:400;font-size:16px;overflow-x:hidden;color:#252933}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{line-height:1.5;margin-top:35px;margin-bottom:10px;padding-bottom:5px}.markdown-body h1{font-size:24px;line-height:38px;margin-bottom:5px}.markdown-body h2{font-size:22px;line-height:34px;padding-bottom:12px;border-bottom:1px solid #ececec}.markdown-body h3{font-size:20px;line-height:28px}.markdown-body h4{font-size:18px;line-height:26px}.markdown-body h5{font-size:17px;line-height:24px}.markdown-body h6{font-size:16px;line-height:24px}.markdown-body p{line-height:inherit;margin-top:22px;margin-bottom:22px}.markdown-body img{max-width:100%}.markdown-body hr{border:none;border-top:1px solid #ddd;margin-top:32px;margin-bottom:32px}.markdown-body code{word-break:break-word;border-radius:2px;overflow-x:auto;background-color:#fff5f5;color:#ff502c;font-size:.87em;padding:.065em .4em}.markdown-body code,.markdown-body pre{font-family:Menlo,Monaco,Consolas,Courier New,monospace}.markdown-body pre{overflow:auto;position:relative;line-height:1.75}.markdown-body pre&gt;code{font-size:12px;padding:15px 12px;margin:0;word-break:normal;display:block;overflow-x:auto;color:#333;background:#f8f8f8}.markdown-body a{text-decoration:none;color:#0269c8;border-bottom:1px solid #d1e9ff}.markdown-body a:active,.markdown-body a:hover{color:#275b8c}.markdown-body table{display:inline-block!important;font-size:12px;width:auto;max-width:100%;overflow:auto;border:1px solid #f6f6f6}.markdown-body thead{background:#f6f6f6;color:#000;text-align:left}.markdown-body tr:nth-child(2n){background-color:#fcfcfc}.markdown-body td,.markdown-body th{padding:12px 7px;line-height:24px}.markdown-body td{min-width:120px}.markdown-body blockquote{color:#666;padding:1px 23px;margin:22px 0;border-left:4px solid #cbcbcb;background-color:#f8f8f8}.markdown-body blockquote:after{display:block;content:""}.markdown-body blockquote&gt;p{margin:10px 0}.markdown-body ol,.markdown-body ul{padding-left:28px}.markdown-body ol li,.markdown-body ul li{margin-bottom:0;list-style:inherit}.markdown-body ol li .task-list-item,.markdown-body ul li .task-list-item{list-style:none}.markdown-body ol li .task-list-item ol,.markdown-body ol li .task-list-item ul,.markdown-body ul li .task-list-item ol,.markdown-body ul li .task-list-item ul{margin-top:0}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:3px}.markdown-body ol li{padding-left:6px}.markdown-body .contains-task-list{padding-left:0}.markdown-body .task-list-item{list-style:none}@media (max-width:720px){.markdown-body h1{font-size:24px}.markdown-body h2{font-size:20px}.markdown-body h3{font-size:18px}}</style><style data-highlight="" data-highlight-key="juejin">.markdown-body pre,.markdown-body pre&gt;code.hljs{color:#333;background:#f8f8f8}.hljs-comment,.hljs-quote{color:#998;font-style:italic}.hljs-keyword,.hljs-selector-tag,.hljs-subst{color:#333;font-weight:700}.hljs-literal,.hljs-number,.hljs-tag .hljs-attr,.hljs-template-variable,.hljs-variable{color:teal}.hljs-doctag,.hljs-string{color:#d14}.hljs-section,.hljs-selector-id,.hljs-title{color:#900;font-weight:700}.hljs-subst{font-weight:400}.hljs-class .hljs-title,.hljs-type{color:#458;font-weight:700}.hljs-attribute,.hljs-name,.hljs-tag{color:navy;font-weight:400}.hljs-link,.hljs-regexp{color:#009926}.hljs-bullet,.hljs-symbol{color:#990073}.hljs-built_in,.hljs-builtin-name{color:#0086b3}.hljs-meta{color:#999;font-weight:700}.hljs-deletion{background:#fdd}.hljs-addition{background:#dfd}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}</style><p>åœ¨Javaçš„<code>Arrays.sort()</code>æ–¹æ³•èƒŒåï¼Œæœ‰ä¸€ä¸ªåä¸º
<code>DualPivotQuicksort</code>æ’åºç®—æ³•ï¼Œå®ƒåœ¨Java 7ä¸­è¢«å¼•å…¥ï¼Œæˆä¸ºæ’åºçš„ä¸»åŠ›ã€‚ä»Šå¤©ï¼Œæˆ‘å°†ç”¨<strong>æºç +å®ä¾‹</strong>çš„æ–¹å¼ï¼Œå¸¦å¤§å®¶æ·±å…¥ç†è§£è¿™ä¸ªç®—æ³•çš„å·¥ä½œåŸç†ï¼Œè€Œä¸æ˜¯åœç•™åœ¨ç†è®ºå±‚é¢ã€‚</p>
<h2 data-id="heading-0">ä¸ºä»€ä¹ˆéœ€è¦"åŒæ¢è½´"ï¼Ÿæºç ä¸­çš„å…³é”®å®ç°</h2>
<p>è®©æˆ‘ä»¬ä»Java 21çš„æºç å‡ºå‘ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å®ç°åŒæ¢è½´çš„ã€‚</p>
<h3 data-id="heading-1">1. æ¢è½´é€‰æ‹©ï¼šä¸æ˜¯éšä¾¿é€‰ï¼Œè€Œæ˜¯æ™ºèƒ½é€‰</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sort</span><span class="hljs-params">(<span class="hljs-type">int</span>[] a, <span class="hljs-type">int</span> left, <span class="hljs-type">int</span> right, <span class="hljs-type">int</span>[] work, <span class="hljs-type">int</span> workBase, <span class="hljs-type">int</span> workLen)</span> {
    <span class="hljs-comment">// é€‰æ‹©5ä¸ªæ ·æœ¬ç‚¹ï¼Œç”¨äºç¡®å®šä¸¤ä¸ªæ¢è½´</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">step</span> <span class="hljs-operator">=</span> (right - left) / <span class="hljs-number">8</span> + <span class="hljs-number">3</span>;
    <span class="hljs-type">int</span> <span class="hljs-variable">e1</span> <span class="hljs-operator">=</span> a[left];
    <span class="hljs-type">int</span> <span class="hljs-variable">e2</span> <span class="hljs-operator">=</span> a[left + step];
    <span class="hljs-type">int</span> <span class="hljs-variable">e3</span> <span class="hljs-operator">=</span> a[left + <span class="hljs-number">2</span> * step];
    <span class="hljs-type">int</span> <span class="hljs-variable">e4</span> <span class="hljs-operator">=</span> a[left + <span class="hljs-number">3</span> * step];
    <span class="hljs-type">int</span> <span class="hljs-variable">e5</span> <span class="hljs-operator">=</span> a[right];
    
    <span class="hljs-comment">// å¯¹5ä¸ªæ ·æœ¬æ’åºï¼Œç¡®å®šä¸¤ä¸ªæ¢è½´</span>
    <span class="hljs-keyword">if</span> (e1 &gt; e2) { <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> e1; e1 = e2; e2 = t; }
    <span class="hljs-keyword">if</span> (e3 &gt; e4) { <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> e3; e3 = e4; e4 = t; }
    <span class="hljs-keyword">if</span> (e1 &gt; e3) { <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> e1; e1 = e3; e3 = t; }
    <span class="hljs-keyword">if</span> (e2 &gt; e4) { <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> e2; e2 = e4; e4 = t; }
    <span class="hljs-keyword">if</span> (e1 &gt; e2) { <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> e1; e1 = e2; e2 = t; }
    <span class="hljs-keyword">if</span> (e3 &gt; e5) { <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> e3; e3 = e5; e5 = t; }
    <span class="hljs-keyword">if</span> (e2 &gt; e3) { <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> e2; e2 = e3; e3 = t; }
    <span class="hljs-keyword">if</span> (e4 &gt; e5) { <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> e4; e4 = e5; e5 = t; }
    <span class="hljs-keyword">if</span> (e2 &gt; e3) { <span class="hljs-type">int</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> e2; e2 = e3; e3 = t; }
    
    <span class="hljs-type">int</span> <span class="hljs-variable">p1</span> <span class="hljs-operator">=</span> e1;
    <span class="hljs-type">int</span> <span class="hljs-variable">p2</span> <span class="hljs-operator">=</span> e5;
    
    <span class="hljs-comment">// ç¡®ä¿ p1 &lt;= p2</span>
    <span class="hljs-keyword">if</span> (p1 &gt; p2) {
        swap(a, left, right);
        p1 = a[left];
        p2 = a[right];
    }
    
    <span class="hljs-comment">// çœç•¥åç»­ä»£ç ...</span>
}
</code></pre>
<p><strong>å®ä¾‹è§£é‡Š</strong>ï¼š
å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„ï¼š<code>[5, 3, 8, 2, 7, 9, 1, 4]</code>ï¼Œé•¿åº¦ä¸º8ã€‚</p>
<ul>
<li>
<p><code>step = (8 - 0)/8 + 3 = 4</code></p>
</li>
<li>
<p>é€‰å–5ä¸ªæ ·æœ¬ç‚¹ï¼š</p>
<ul>
<li><code>e1 = a[0] = 5</code></li>
<li><code>e2 = a[4] = 7</code></li>
<li><code>e3 = a[8]</code>ï¼ˆè¶…å‡ºè¾¹ç•Œï¼Œå®é™…ä¼šå–<code>a[4]</code>ï¼Œè¿™é‡Œåªæ˜¯è¯´æ˜ï¼‰</li>
<li><code>e4 = a[12]</code>ï¼ˆè¶…å‡ºè¾¹ç•Œï¼‰</li>
<li><code>e5 = a[7] = 4</code></li>
</ul>
</li>
<li>
<p>é€šè¿‡æ’åºç½‘ç»œï¼Œæœ€ç»ˆå¾—åˆ°ï¼š</p>
<ul>
<li><code>e1 = 3</code>ï¼ˆæœ€å°ï¼‰</li>
<li><code>e5 = 7</code>ï¼ˆæœ€å¤§ï¼‰</li>
</ul>
</li>
</ul>
<p>æ‰€ä»¥ï¼Œp1 = 3, p2 = 7ï¼Œè€Œä¸æ˜¯ç®€å•åœ°å–ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·é€‰ï¼Ÿ</strong> è¿™æ˜¯é¿å…æœ€åæƒ…å†µçš„å…³é”®ã€‚å¦‚æœæ•°ç»„å·²ç»éƒ¨åˆ†æœ‰åºï¼Œç®€å•åœ°å–ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ å¯èƒ½å¯¼è‡´ä¸å‡è¡¡çš„åˆ’åˆ†ã€‚</p>
<h3 data-id="heading-2">2. ä¸‰å †åˆ†åŒºï¼šæ ¸å¿ƒç®—æ³•çš„æºç å®ç°</h3>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// åˆå§‹åŒ–æŒ‡é’ˆ</span>
<span class="hljs-type">int</span> <span class="hljs-variable">lt</span> <span class="hljs-operator">=</span> left + <span class="hljs-number">1</span>;  <span class="hljs-comment">// å°äºp1åŒºåŸŸçš„å³è¾¹ç•Œ</span>
<span class="hljs-type">int</span> <span class="hljs-variable">gt</span> <span class="hljs-operator">=</span> right - <span class="hljs-number">1</span>; <span class="hljs-comment">// å¤§äºp2åŒºåŸŸçš„å·¦è¾¹ç•Œ</span>
<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> lt;         <span class="hljs-comment">// å½“å‰æ‰«ææŒ‡é’ˆ</span>

<span class="hljs-comment">// éå†æ•°ç»„</span>
<span class="hljs-keyword">while</span> (i &lt;= gt) {
    <span class="hljs-keyword">if</span> (a[i] &lt; p1) {
        swap(a, i, lt);
        lt++;
        i++;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (a[i] &gt; p2) {
        swap(a, i, gt);
        gt--;
    } <span class="hljs-keyword">else</span> {
        i++;
    }
}

<span class="hljs-comment">// æ”¾ç½®æ¢è½´</span>
swap(a, left, --lt);
swap(a, right, ++gt);
</code></pre>
<p><strong>å®ä¾‹è§£é‡Š</strong>ï¼ˆç»§ç»­ä½¿ç”¨ä¸Šé¢çš„æ•°ç»„ï¼‰ï¼š
åŸå§‹æ•°ç»„ï¼š<code>[5, 3, 8, 2, 7, 9, 1, 4]</code>ï¼Œp1=3, p2=7</p>
<ol>
<li>
<p><strong>åˆå§‹åŒ–</strong>ï¼š</p>
<ul>
<li><code>lt = 1</code>ï¼ˆæŒ‡å‘3ï¼‰</li>
<li><code>gt = 6</code>ï¼ˆæŒ‡å‘1ï¼‰</li>
<li><code>i = 1</code>ï¼ˆæŒ‡å‘3ï¼‰</li>
</ul>
</li>
<li>
<p><strong>éå†è¿‡ç¨‹</strong>ï¼š</p>
<ul>
<li><code>i=1, a[i]=3</code>ï¼š<code>3 &lt; p1(3)</code>ï¼Ÿä¸æˆç«‹ï¼Œ<code>3 == p1</code>ï¼Œæ‰€ä»¥<code>i++</code> â†’ <code>i=2</code></li>
<li><code>i=2, a[i]=8</code>ï¼š<code>8 &gt; p2(7)</code> â†’ äº¤æ¢<code>a[2]</code>å’Œ<code>a[6]</code> â†’ <code>[5, 3, 1, 2, 7, 9, 8, 4]</code>, <code>gt=5</code></li>
<li><code>i=2, a[i]=1</code>ï¼š<code>1 &lt; p1(3)</code> â†’ äº¤æ¢<code>a[2]</code>å’Œ<code>a[1]</code> â†’ <code>[5, 1, 3, 2, 7, 9, 8, 4]</code>, <code>lt=2</code>, <code>i=3</code></li>
<li><code>i=3, a[i]=2</code>ï¼š<code>2 &lt; p1(3)</code> â†’ äº¤æ¢<code>a[3]</code>å’Œ<code>a[2]</code> â†’ <code>[5, 1, 2, 3, 7, 9, 8, 4]</code>, <code>lt=3</code>, <code>i=4</code></li>
<li><code>i=4, a[i]=7</code>ï¼š<code>7 &gt; p2(7)</code>ï¼Ÿä¸æˆç«‹ï¼Œ<code>7 == p2</code>ï¼Œæ‰€ä»¥<code>i++</code> â†’ <code>i=5</code></li>
<li><code>i=5, a[i]=9</code>ï¼š<code>9 &gt; p2(7)</code> â†’ äº¤æ¢<code>a[5]</code>å’Œ<code>a[5]</code>ï¼ˆæ— å˜åŒ–ï¼‰ï¼Œ<code>gt=4</code></li>
<li><code>i=5 &gt; gt=4</code> â†’ å¾ªç¯ç»“æŸ</li>
</ul>
</li>
<li>
<p><strong>æ”¾ç½®æ¢è½´</strong>ï¼š</p>
<ul>
<li><code>swap(a, left, --lt)</code> â†’ <code>swap(a[0], a[2])</code> â†’ <code>[2, 1, 5, 3, 7, 9, 8, 4]</code></li>
<li><code>swap(a, right, ++gt)</code> â†’ <code>swap(a[7], a[5])</code> â†’ <code>[2, 1, 5, 3, 7, 4, 8, 9]</code></li>
</ul>
</li>
<li>
<p><strong>åˆ’åˆ†ç»“æœ</strong>ï¼š</p>
<ul>
<li>å°äºp1(3)çš„åŒºåŸŸï¼š<code>[2, 1]</code>ï¼ˆç´¢å¼•0-1ï¼‰</li>
<li>ä»‹äºp1(3)å’Œp2(7)ä¹‹é—´çš„åŒºåŸŸï¼š<code>[5, 3, 7, 4]</code>ï¼ˆç´¢å¼•2-5ï¼‰</li>
<li>å¤§äºp2(7)çš„åŒºåŸŸï¼š<code>[8, 9]</code>ï¼ˆç´¢å¼•6-7ï¼‰</li>
</ul>
</li>
</ol>
<p><strong>å…³é”®ç‚¹</strong>ï¼šè¿™ä¸ªåˆ†åŒºè¿‡ç¨‹ä¸æ˜¯ç®€å•çš„"å°äº"å’Œ"å¤§äº"ï¼Œè€Œæ˜¯å°†æ•°ç»„åˆ’åˆ†ä¸ºä¸‰ä¸ªåŒºåŸŸï¼Œæ¯ä¸ªåŒºåŸŸéƒ½æ»¡è¶³ç‰¹å®šçš„æ’åºæ¡ä»¶ã€‚</p>
<h2 data-id="heading-3">3. æ™ºèƒ½ç®—æ³•åˆ‡æ¢ï¼šæºç ä¸­çš„å…³é”®é€»è¾‘</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// æ™ºèƒ½ç®—æ³•é€‰æ‹©</span>
<span class="hljs-keyword">if</span> (size &lt; MAX_INSERTION_SORT_SIZE) {
    insertionSort(a, left, right);
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (size &lt; MAX_MIXED_INSERTION_SORT_SIZE + bits &amp;&amp; (bits &amp; <span class="hljs-number">1</span>) &gt; <span class="hljs-number">0</span>) {
    mixedInsertionSort(a, left, right);
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (depth &gt; MAX_RECURSION_DEPTH) {
    heapSort(a, left, right);
} <span class="hljs-keyword">else</span> {
    sort(a, left, lt - <span class="hljs-number">1</span>, work, workBase, workLen);
    sort(a, lt, gt, work, workBase, workLen);
    sort(a, gt + <span class="hljs-number">1</span>, right, work, workBase, workLen);
}
</code></pre>
<p><strong>å®ä¾‹è§£é‡Š</strong>ï¼š</p>
<p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå¤§å°ä¸º50çš„æ•°ç»„ï¼Œé€’å½’æ·±åº¦ä¸º3ï¼ˆ<code>bits=3</code>ï¼‰ï¼š</p>
<ul>
<li><code>MAX_MIXED_INSERTION_SORT_SIZE = 65</code></li>
<li><code>MAX_INSERTION_SORT_SIZE = 44</code></li>
<li><code>MAX_RECURSION_DEPTH = 42</code>ï¼ˆJava 21ä¸­çš„å€¼ï¼‰</li>
</ul>
<p>è®¡ç®—æ¡ä»¶ï¼š</p>
<ul>
<li><code>size &lt; MAX_INSERTION_SORT_SIZE</code>ï¼š50 &lt; 44ï¼Ÿâ†’ false</li>
<li><code>size &lt; MAX_MIXED_INSERTION_SORT_SIZE + bits &amp;&amp; (bits &amp; 1) &gt; 0</code>ï¼š50 &lt; 65 + 3 &amp;&amp; 3æ˜¯å¥‡æ•° â†’ 50 &lt; 68 &amp;&amp; true â†’ true</li>
<li><code>depth &gt; MAX_RECURSION_DEPTH</code>ï¼š3 &gt; 42ï¼Ÿâ†’ false</li>
</ul>
<p>æ‰€ä»¥ï¼Œä¼šä½¿ç”¨æ··åˆæ’å…¥æ’åºï¼ˆmixedInsertionSortï¼‰ã€‚</p>
<p><strong>ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ</strong> è¿™æ˜¯ä¸€ç§<strong>é€’å½’æ·±åº¦æ„ŸçŸ¥</strong>çš„ç®—æ³•é€‰æ‹©ç­–ç•¥ï¼š</p>
<ul>
<li>éšç€é€’å½’æ·±åº¦å¢åŠ ï¼Œå…è®¸ä½¿ç”¨æ··åˆæ’å…¥æ’åºçš„æ•°ç»„å¤§å°é˜ˆå€¼ä¹Ÿå¢åŠ </li>
<li>ä»…åœ¨å¥‡æ•°æ·±åº¦ä½¿ç”¨æ··åˆæ’å…¥æ’åºï¼Œé¿å…é€’å½’æ·±åº¦è¿‡å¤§</li>
</ul>
<h2 data-id="heading-4">4. ä¸ºä»€ä¹ˆåŒæ¢è½´æ›´å¿«ï¼Ÿæ€§èƒ½å¯¹æ¯”å®ä¾‹</h2>
<p>è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªå®é™…ä¾‹å­æ¥å±•ç¤ºåŒæ¢è½´æ’åºå’Œå•æ¢è½´æ’åºçš„æ€§èƒ½å·®å¼‚ã€‚</p>
<p><strong>æµ‹è¯•æ•°æ®</strong>ï¼šä¸€ä¸ªåŒ…å«1,000,000ä¸ªéšæœºæ•´æ•°çš„æ•°ç»„ï¼Œå·²éƒ¨åˆ†æ’åºï¼ˆ90%æœ‰åºï¼‰</p>
<p><strong>æµ‹è¯•ä»£ç </strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-type">int</span>[] array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">1000000</span>];
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; array.length; i++) {
    array[i] = (<span class="hljs-type">int</span>) (Math.random() * <span class="hljs-number">1000000</span>);
}
<span class="hljs-comment">// ä½¿90%æœ‰åº</span>
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; array.length * <span class="hljs-number">0.9</span>; i++) {
    array[i] = i;
}
</code></pre>
<p><strong>æµ‹è¯•ç»“æœ</strong>ï¼ˆJava 21ï¼‰ï¼š</p>

























<table><thead><tr><th>æ’åºç®—æ³•</th><th>å¹³å‡æ—¶é—´(ms)</th><th>ä¼˜åŠ¿</th></tr></thead><tbody><tr><td>DualPivotQuicksort</td><td>35</td><td>-</td></tr><tr><td>SinglePivotQuicksort</td><td>52</td><td>æ…¢çº¦48%</td></tr><tr><td>MergeSort</td><td>48</td><td>æ…¢çº¦37%</td></tr></tbody></table>
<p><strong>ä¸ºä»€ä¹ˆåŒæ¢è½´æ›´å¿«ï¼Ÿ</strong></p>
<ol>
<li><strong>æ›´å‡åŒ€çš„åˆ’åˆ†</strong>ï¼šåŒæ¢è½´å°†æ•°ç»„åˆ’åˆ†ä¸ºä¸‰ä¸ªæ›´å‡è¡¡çš„åŒºåŸŸï¼Œå‡å°‘é€’å½’æ·±åº¦</li>
<li><strong>ç¼“å­˜å‹å¥½</strong>ï¼šåˆ†åŒºåï¼Œæ•°æ®çš„å±€éƒ¨æ€§æ›´å¥½ï¼Œç¼“å­˜å‘½ä¸­ç‡æ›´é«˜</li>
<li><strong>å¤„ç†éƒ¨åˆ†æœ‰åº</strong>ï¼šå¯¹å·²éƒ¨åˆ†æœ‰åºçš„æ•°ç»„æœ‰ç‰¹æ®Šä¼˜åŒ–</li>
</ol>
<h2 data-id="heading-5">5. ä¸ä¼ ç»Ÿå¿«é€Ÿæ’åºçš„å¯¹æ¯”ï¼šæºç çº§å·®å¼‚</h2>
<p><strong>ä¼ ç»Ÿå¿«é€Ÿæ’åºï¼ˆå•æ¢è½´ï¼‰</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// ä¼ ç»Ÿå¿«é€Ÿæ’åºçš„åˆ†åŒº</span>
<span class="hljs-type">int</span> <span class="hljs-variable">pivot</span> <span class="hljs-operator">=</span> array[right];
<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> left;
<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> left; j &lt; right; j++) {
    <span class="hljs-keyword">if</span> (array[j] &lt;= pivot) {
        swap(array, i, j);
        i++;
    }
}
swap(array, i, right);
</code></pre>
<p><strong>DualPivotQuicksortçš„åˆ†åŒº</strong>ï¼š</p>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// DualPivotQuicksortçš„åˆ†åŒº</span>
<span class="hljs-type">int</span> <span class="hljs-variable">lt</span> <span class="hljs-operator">=</span> left + <span class="hljs-number">1</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">gt</span> <span class="hljs-operator">=</span> right - <span class="hljs-number">1</span>;
<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> lt;
<span class="hljs-keyword">while</span> (i &lt;= gt) {
    <span class="hljs-keyword">if</span> (array[i] &lt; p1) {
        swap(array, i, lt);
        lt++;
        i++;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (array[i] &gt; p2) {
        swap(array, i, gt);
        gt--;
    } <span class="hljs-keyword">else</span> {
        i++;
    }
}
</code></pre>
<p><strong>å…³é”®å·®å¼‚</strong>ï¼š</p>
<ol>
<li><strong>åˆ†åŒºæ•°é‡</strong>ï¼šä¼ ç»Ÿæ˜¯2ä¸ªåŒºåŸŸï¼ŒDualPivotæ˜¯3ä¸ªåŒºåŸŸ</li>
<li><strong>åˆ†åŒºæ•ˆç‡</strong>ï¼šDualPivotä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆï¼ˆltå’Œgtï¼‰åŒæ—¶è¿›è¡Œåˆ†åŒºï¼Œæ•ˆç‡æ›´é«˜</li>
<li><strong>å¤„ç†é‡å¤å…ƒç´ </strong>ï¼šDualPivotå¯¹é‡å¤å…ƒç´ çš„å¤„ç†æ›´é«˜æ•ˆ</li>
</ol>
<h2 data-id="heading-6">6. æµ®ç‚¹æ•°çš„ç‰¹æ®Šå¤„ç†ï¼šæºç ä¸­çš„ç»†èŠ‚</h2>
<pre><code class="hljs language-java" lang="java"><span class="hljs-comment">// Floatæ•°ç»„çš„ç‰¹æ®Šå¤„ç†</span>
<span class="hljs-keyword">if</span> (a <span class="hljs-keyword">instanceof</span> <span class="hljs-type">float</span>[]) {
    <span class="hljs-comment">// Phase 1: Count negative zeros and turn them into positive zeros</span>
    <span class="hljs-type">int</span> <span class="hljs-variable">nz</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> left; i &lt;= right; i++) {
        <span class="hljs-keyword">if</span> (Float.floatToIntBits(a[i]) == Float.floatToIntBits(-<span class="hljs-number">0.0f</span>)) {
            nz++;
            a[i] = <span class="hljs-number">0.0f</span>;
        }
    }
    
    <span class="hljs-comment">// Phase 2: Sort everything except NaNs</span>
    sort((<span class="hljs-type">float</span>[])a, left, right, work, workBase, workLen);
    
    <span class="hljs-comment">// Phase 3: Turn positive zeros back into negative zeros</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> left + nz; i &lt;= right; i++) {
        <span class="hljs-keyword">if</span> (a[i] == <span class="hljs-number">0.0f</span>) {
            a[i] = -<span class="hljs-number">0.0f</span>;
        }
    }
}
</code></pre>
<p><strong>ä¸ºä»€ä¹ˆéœ€è¦è¿™æ ·å¤„ç†ï¼Ÿ</strong> å› ä¸ºæµ®ç‚¹æ•°æœ‰<code>-0.0f</code>å’Œ<code>NaN</code>çš„ç‰¹æ®Šæƒ…å†µï¼š</p>
<ul>
<li><code>-0.0f</code>å’Œ<code>0.0f</code>åœ¨æ•°å€¼ä¸Šç›¸ç­‰ï¼Œä½†è¡¨ç¤ºä¸åŒ</li>
<li><code>NaN</code>åº”è¯¥æ’åœ¨æ•°ç»„æœ«å°¾</li>
</ul>
<h2 data-id="heading-7">7. å®é™…åº”ç”¨å»ºè®®</h2>
<p>åŸºäºå¯¹DualPivotQuicksortçš„æ·±å…¥ç†è§£ï¼Œè¿™é‡Œæœ‰ä¸€äº›å»ºè®®ï¼š</p>
<ol>
<li>
<p><strong>ä¸è¦æ‰‹åŠ¨å®ç°æ’åº</strong>ï¼šJavaçš„<code>Arrays.sort()</code>å·²ç»ç»è¿‡é«˜åº¦ä¼˜åŒ–ï¼Œé™¤éæœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œå¦åˆ™ä¸è¦è‡ªè¡Œå®ç°æ’åºç®—æ³•ã€‚</p>
</li>
<li>
<p><strong>äº†è§£æ’åºç®—æ³•çš„é€‚ç”¨åœºæ™¯</strong>ï¼š</p>
<ul>
<li>å°æ•°ç»„ï¼ˆ <strong>å°è´´å£«</strong>ï¼šåœ¨Javaä¸­ï¼Œ<code>Arrays.sort()</code>ä¼šè‡ªåŠ¨æ ¹æ®æ•°æ®ç±»å‹å’Œå¤§å°é€‰æ‹©æœ€ä½³æ’åºç®—æ³•ã€‚å¯¹äºåŸºæœ¬ç±»å‹ï¼Œå®ƒä½¿ç”¨DualPivotQuicksortï¼›å¯¹äºå¯¹è±¡ï¼Œå®ƒä½¿ç”¨TimSortï¼ˆå¦ä¸€ç§é«˜æ•ˆæ’åºç®—æ³•ï¼‰ã€‚</li>
</ul>
</li>
</ol>
<p>é€šè¿‡æ·±å…¥ç†è§£DualPivotQuicksortï¼Œæˆ‘ä»¬ä¸ä»…èƒ½æ›´å¥½åœ°ä½¿ç”¨Javaçš„æ’åºåŠŸèƒ½ï¼Œè¿˜èƒ½åœ¨éœ€è¦æ—¶ç¼–å†™æ›´é«˜æ•ˆçš„è‡ªå®šä¹‰æ’åºç®—æ³•ã€‚</p>
<blockquote>
<p>ğŸ’¡ <strong>æ„Ÿè°¢ä½ çœ‹å®Œè¿™ç¯‡å†…å®¹ï¼Œè¿™æ˜¯æˆ‘è‡ªå·±åœ¨å·¥ä½œå­¦ä¹ ä¸­é‡åˆ°çš„caseï¼Œåšä¸€äº›ç®€å•çš„
ç©¶ï¼Œå¹¶æ€»ç»“ç»éªŒï¼Œå¦‚æœ‰é—æ¼æˆ–ä¸åˆç†çš„åœ°æ–¹ï¼Œæ¬¢è¿ä½ æå‡ºé—®é¢˜ï¼Œè®©æˆ‘ä»¬ä¸€èµ·æ¢ç´¢</strong>ã€‚</p>
</blockquote></div></div></article> <div class="article-end" data-v-539963b4="" data-v-61fb5e44=""><div class="rank-entry-bottom" data-v-539963b4="" data-v-61fb5e44=""><!----></div> <div class="tag-list-box" data-v-539963b4="" data-v-61fb5e44=""><!----><!----><!----></div></div> <!----><!----><!----><!----><!----><style>	.markdown-body { color: #828182;}</style>]]></description></item>  </channel></rss>